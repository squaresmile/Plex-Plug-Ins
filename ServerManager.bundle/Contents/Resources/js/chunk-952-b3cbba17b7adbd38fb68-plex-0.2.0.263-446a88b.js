"use strict";(self.webpackChunkserver_manager=self.webpackChunkserver_manager||[]).push([[952],{61952:(e,n,r)=>{r.r(n),r.d(n,{default:()=>F});var t=r(67294),a=r(28216),l=r(76616),s=r(73282),o=r(69299),i=r(22222),c=r(20165),d=r(40728),m=r(47397),u=r(66307),v=r(57788),E=r(67201),p=r(38167),Z=r(54320),D=r(49112),N=r(21235),f=r(59963),w=r(17035),I=r(84020),g=r(44838),y=r(4495),O=r(81821),k=r(48445),S=r(22220),U=r(23889),b=r(11066),L=r(77553),h=r(38737);function x(e,n){const r=n?n.split("\n"):[];return r.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"mboFX"},e),t.createElement("ul",null,r.map(((e,n)=>t.createElement("li",{key:n},e))))):null}const P=function(e){const{version:n,added:r,fixed:a,isOpen:l,onClose:s}=e;return t.createElement(U.Z,{isOpen:l,metricsPage:S.Bc,onModalClose:s},t.createElement(L.Z,{onModalClose:s},t.createElement(h.Z,null,(0,N.Z)("{product} Release Notes",{product:"Plex Media Server"})),t.createElement(b.Z,null,t.createElement("div",{className:"VcwnP"},(0,N.Z)("Version {version}",{version:n})),x((0,N.Z)("New"),r),x((0,N.Z)("Fixes"),a))))},V=function({progress:e}){return t.createElement("div",{className:"_lMnm"},t.createElement("div",{className:"osZkJ"}),t.createElement("div",{className:"mGPbS",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))};var C=r(87830),R=r(49118),A=r(98385),_=r(55349),M=r(78388);const T="qhBUK BQ0Uf",z=(0,a.$j)((function(){return(0,i.P1)(v.Z,u.Z,(0,m.Z)(),((e,n,r)=>{const t=r.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:t.state,error:t.error,progress:t.progress,availableVersion:(0,E.Z)(t.version),currentVersion:(0,E.Z)(e.version),downloadURL:t.downloadURL||n.appsUrl,added:t.added,fixed:t.fixed}}))}),(function(e,n){const{serverEntityID:r}=n;return{onDismissServerUpdate(n){e((0,d.xx)({serverEntityID:r,version:n}))},onInstallServerUpdate(){e((0,d.wR)({serverEntityID:r}))},onDownloadServerUpdate(){e((0,d.Or)({serverEntityID:r}))},onRedirectToHome(){e((0,c.im)({route:"home"}))}}}))((function(e){const{serverEntityID:n,friendlyName:r,state:a,error:l,progress:s,availableVersion:o,currentVersion:i,downloadURL:c,added:d,fixed:m,onDismissServerUpdate:u,onInstallServerUpdate:v,onDownloadServerUpdate:E,onRedirectToHome:S}=e,U=a===D.NONE||a===D.DONE,b=(0,R.Z)(),L=(0,t.useCallback)((()=>{u(o)}),[o,u]);if((0,C.Z)((()=>{S()}),U),U)return null;if(a===D.INSTALLING)return t.createElement(k.Z,{serverEntityID:n});const h=(0,N.Z)("Update available for {product}",{product:"Plex Media Server"});let x=(0,N.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:o,currentVersion:i,friendlyName:r});const z="number"==typeof s&&s>=0&&s<=100;return a===D.NOTIFY&&(x=x+" "+(0,N.Z)("This update will need to be installed manually after download.")),a===D.ERROR?t.createElement(y.Z,{description:l||(0,N.Z)("Something went wrong, please try again later."),iconSrc:M,title:h}):t.createElement(y.Z,{description:d||m?t.createElement(f.Z,{message:x+" "+(0,N.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:g.Z,onPress:b.onOpen,kind:A._8}]}):x,iconSrc:M,title:(0,N.Z)("Update available for {product}",{product:"Plex Media Server"})},a===D.AVAILABLE?t.createElement("div",{className:T},t.createElement(I.Z,{kind:A._8,size:_.ln,onPress:E},(0,N.Z)("Download now"))):null,a===D.DOWNLOADING?t.createElement("div",{className:T},t.createElement("div",null,z?(0,N.Z)("Downloading Update ({progress}%)",{progress:s}):(0,N.Z)("Downloading Update")),t.createElement(p.X,{align:Z.xM.Center,verticalAlign:Z.xM.Center,width:"100%"},z?t.createElement(V,{progress:s}):t.createElement(w.Z,{size:"small"}))):null,a===D.DOWNLOADED?t.createElement("div",{className:T},t.createElement(I.Z,{kind:A._8,size:_.ln,onPress:v},(0,N.Z)("Install now"))):null,a===D.NOTIFY?t.createElement("div",{className:T},t.createElement(I.Z,{kind:A._8,size:_.ln,target:"_blank",to:c,onPress:L},(0,N.Z)("Download now"))):null,a!==D.DOWNLOADING&&a!==D.DOWNLOADED?t.createElement(O.Z,null,t.createElement(g.Z,{className:"I9XR3",kind:A._8,size:_.HC,to:"#",onPress:L},(0,N.Z)("Skip this version"))):null,t.createElement(P,{added:d,fixed:m,isOpen:b.isOpen,version:o,onClose:b.onClose}))}));function F(){const{machineIdentifier:e}=(0,s.Z)(),n=(0,a.v9)((0,l.Z)(e));return t.createElement(o.Z,{serverEntityID:n.entityID},t.createElement(z,{serverEntityID:n.entityID}))}}}]);