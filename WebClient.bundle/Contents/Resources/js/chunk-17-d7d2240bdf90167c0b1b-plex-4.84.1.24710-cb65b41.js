"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[17],{42437:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(22222),a=n(15997),i=n(83395);function s(){return(0,r.P1)((0,a.Z)(),((e,{sourceDirectoryID:t})=>t),((e,t)=>(0,i.Z)(e,t)))}},35343:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(22222),a=n(89186);function i(){return(0,r.P1)(((e,{mediaSubscriptionEntityID:t})=>t),a.Z,((e,t)=>t[e]))}},38792:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(13469),a=n.n(r),i=n(32903),s=n(56792);function o(e){const{getCellHeights:t,overscan:n=0,outerPaddingTop:r=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0}=e;let d,u,m,p,h,y,v,g,b;function E(e){const t=a().findIndex(h,(t=>t>e)),n=h.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){const n=`${e.viewportHeight}:${e.viewportWidth}`;if(n===y)return v;d=e.viewportHeight,u=e.viewportWidth-(c+o),m=t(u),h=[];let a=r;return m.forEach((e=>{h.push(a),a+=e})),p=m.reduce(((e,t)=>e+t),r+l),y=n,v={height:p,width:u},v},getLandmarks:function(){(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getLandmarks`");const e=`${d}:${p}`;return e===g||(g=e,b=h.map(((e,t)=>({index:t,position:e/p})))),b},getPositionForIndex:function(e){return(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:c,cellY:h[e],cellWidth:u,cellHeight:m[e]}},getRelativeIndex:function(){(0,i.Z)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,t,r){(0,i.Z)(void 0!==d,"`getListStyle` must be called before `getPositionForIndex`");const a=e+d-1,o=E(e-n*d),l=E(e),c=E(a),u=E(a+n*d);return{visibleStartIndex:(0,s.Z)(l,r),visibleEndIndex:(0,s.Z)(c,r),partiallyVisibleStartIndex:(0,s.Z)(l,r),partiallyVisibleEndIndex:(0,s.Z)(c,r),renderStartIndex:(0,s.Z)(o,r),renderEndIndex:(0,s.Z)(u,r)}}}}},33265:(e,t,n)=>{function r(e,t){if(e&&e.pivots)return e.pivots.find((e=>e.key===t))}n.d(t,{Z:()=>r})},10977:(e,t,n)=>{n.d(t,{Z:()=>k});var r=n(67294),a=n(28216),i=n(73788),s=n(93055),o=n(3395),l=n(51662),c=n(12587),d=n(44811),u=n(4681),m=n(62376),p=n(72188),h=n(91085),y=n(74861),v=n(42149),g=n(50439),b=n(48579),E=n(63797),f=n(62286),P=n(83700),Z=n(32395),I=n(37485),C=n(73278),D=n(22222),w=n(18585);const O=(0,D.P1)(w.Z,(e=>e.directory.hubsList));var S=n(90106),T=n(96436),N=n(39680);function M(e){return!!e&&e<=Date.now()-864e5}function R({children:e,hub:t}){const[,,n]=(0,d.c9)(),{metricsContextTuple:a}=(0,h.Zn)(),i=n&&t.key?(0,s.Z)(t.source,{key:t.key,pageType:c.F6.List,source:n.id,context:(0,h.VJ)(a)}):void 0;return r.createElement(l.Z,{hub:t},i?r.createElement(m.Z,{to:i},e):e)}function k({sourceURI:e}){const t=(0,a.I0)(),[n,s]=(0,d.c9)(),{lastFetchedAt:l,sourceURI:c,hubs:m,isPopulated:h,error:D}=(0,a.v9)(O),w=(0,a.v9)(T.Z),k=(0,r.useMemo)((()=>m.every((e=>!e.initialSize&&!e.more))),[m]),x=(0,r.useCallback)((()=>{t(I.Z.actions.fetchHubsRequested({server:n,provider:s,sourceURI:e}))}),[t,s,n,e]);if((0,y.Z)({},h),(0,C.Z)(x),(0,r.useEffect)((()=>{h&&(M(l)||e!==c)&&t(I.Z.actions.resetHubs())}),[t,l,c,e,h]),(0,r.useEffect)((()=>{e!==c&&t(I.Z.actions.fetchHubsRequested({server:n,provider:s,sourceURI:e}))}),[t,c,n,e]),(0,r.useEffect)((()=>(t(I.Z.actions.markHubsStaleCanceled()),()=>{t(I.Z.actions.markHubsStaleRequested())})),[t]),M(l)||e!==c||!h&&!D)return r.createElement(g.Z,null,r.createElement(f.Z,null));if(D){const{status:e}=D;return 404===e?r.createElement(b.Z,null):r.createElement(E.Z,null,r.createElement(u.Z,{kind:P.Z.Primary,onPress:x},(0,i.Z)("Retry")))}return h&&k?r.createElement(Z.Z,null):r.createElement(r.Fragment,null,w?r.createElement(S.Z,null):null,r.createElement(v.Z,{className:"DirectoryHubsPageContent-pageContentScroller-jceJrG PageContent-pageContentScroller-dvaH3C Scroller-scroller-S6_dko"},r.createElement(N.Z,{className:"DirectoryHubsPageContent-banner-FcMafX ProgramGuideGracenoteMigrationBanner-container-NePMOu",providerEntityID:s.entityID,serverEntityID:n.entityID}),r.createElement(p.Z,{hubComponent:o.Z,hubTitleComponent:R,hubs:m})))}},72039:(e,t,n)=>{n.d(t,{Z:()=>l});var r=n(67294),a=n(94788),i=n(24107);const s=parseInt(i.Z.channelGridChannelIconWidth,10),o=parseInt(i.Z.channelGridRowHeight,10);function l({channel:e}){return r.createElement("div",{className:"ChannelLogo-background-wDzGT9"},e.thumb?r.createElement(a.Z,{key:e.thumb,className:"ChannelLogo-thumbnail-I0yeAY",fit:a.k.Contain,height:o,src:e.thumb,width:s}):r.createElement("div",{className:"ChannelLogo-channelCallSign-robgnM",title:e.callSign},e.callSign))}},99140:(e,t,n)=>{n.d(t,{Z:()=>Zn});var r=n(67294),a=n(28216),i=n(62704),s=n(35846),o=n(74236),l=n(22222),c=n(50713);const d=(0,l.P1)(c.Z,(e=>e.channelsGrid));var u=n(61740),m=n(4027),p=n(24107),h=n(8089),y=n(53635),v=n(38792),g=n(37920),b=n(44811),E=n(65714),f=n(53072),P=n(52183),Z=n(73788),I=n(99318),C=n(37350);function D({server:e,provider:t,channel:n,beginsAt:r,endsAt:a}){const i=function(e,t,n){return`synthetic.${e}.${t}.${n}`}(n.id||"",r,a),{metadataItem:s}=(0,C.Z)({server:e,provider:t,data:{key:`/${i}`,ratingKey:i,guid:i,title:(0,Z.Z)("Unknown Airing"),type:I.pG.Episode,Media:[{id:i,beginsAt:r,endsAt:a}]},container:{}});return{beginsAt:r,endsAt:a,mediaIndex:0,metadataItem:s,isSynthetic:!0}}const w=function(e){const t=(null==e?void 0:e.source)?(0,h.Z)(e.source):{serverIdentifier:"",providerIdentifier:""};return(0,l.P1)((0,f.Z)(t.serverIdentifier),(0,E.Z)(t.providerIdentifier),d,(0,P.Z)(null==e?void 0:e.gridKey),((t,n,{columnTimes:r},a)=>{if(!e||!a)return[];const i=r[0],s=r[r.length-1];return function({server:e,provider:t,channelAirings:n,channel:r,startTime:a,endTime:i}){let s=a;const o=[];for(let a=0;a<n.length;a++){const i=n[a];if(i.beginsAt>s){const n=D({server:e,provider:t,channel:r,beginsAt:s,endsAt:i.beginsAt});o.push(n)}o.push(i),s=i.endsAt}if(s<i){const n=D({server:e,provider:t,channel:r,beginsAt:s,endsAt:i});o.push(n)}return o}({server:t,provider:n,channelAirings:a.filter((e=>e.beginsAt<s&&e.endsAt>i)),channel:e,startTime:i,endTime:s})}))};var O=n(62248),S=n(47435),T=n(12587),N=n(93644),M=n(94852),R=n(33593);var k=n(71078),x=n(26900),A=n(84520),j=n(17633),G=n(34219),H=n(88638),B=n(40621),L=n(99027),V=n(39041),W=n(57538),F=n(94685),U=n(86023),K=n(84419);const z=function(e){const{beginsAt:t,endsAt:n,timeFormat:a,channelTitle:i,contentRating:s}=e,{airTime:o,duration:l}=function(e,t,n,r){const a=Math.floor(Date.now()/1e3);let i="",s="";if(a>=e&&a<=t)i=(0,Z.Z)("Now on {channel}",{channel:r}),s=(0,W.Z)(t-a);else{const a=(0,F.Z)(e,t,{timeFormat:n,separator:" - "});i=(0,Z.Z)("{timeRange} on {channel}",{timeRange:a,channel:r}),s=(0,V.Z)(1e3*(t-e))}return{airTime:i,duration:s}}(t,n,a,i);return r.createElement("div",{className:"ChannelsGridDetailRowAirTime-container-Cohq7l"},o,r.createElement(K.Z,null),l,r.createElement("div",{className:"ChannelsGridDetailRowAirTime-contentRating-SUjucW"},(0,U.Z)(s)))};n(85209),n(91023),n(57557),n(91564),n(15928);const _="ChannelsGridDetailRowTitle-titleContainer-vpcaHH",$="ChannelsGridDetailRowTitle-primaryTitle-FmBhrp",q="ChannelsGridDetailRowTitle-secondaryTitle-WeecdO";var X=n(51146),Y=n(86555),J=n(54834),Q=n(36475),ee=n(9913),te=n(25432);const ne=function(e){const{title:t,showPlay:n,showRecord:a,onPlayPress:i,onRecordPress:s}=e;return r.createElement("div",{className:"ChannelsGridMetadataCellButtons-actions-HjG2lL"},n?r.createElement(ee.Z,{className:"ChannelsGridMetadataCellButtons-playButton-zfwogk PlayButton-playButton-vS1WII ChannelsGridMetadataCellButtons-button-BPZKrW","data-testid":"guide-row-item-play",tabIndex:"-1",title:t,onPress:i}):null,a?r.createElement(te.Z,{className:"ChannelsGridMetadataCellButtons-recordButton-xNpl1S RecordButton-recordButton-Rn40ir PlayButton-playButton-vS1WII RecordIcon-recordIconContainer-iZKuO3 ChannelsGridMetadataCellButtons-button-BPZKrW","data-testid":"guide-row-item-record",tabIndex:"-1",title:t,onPress:s}):null)};var re=n(18222),ae=n(11113),ie=n(25555),se=n(69281),oe=n(45697),le=n.n(oe),ce=n(90558);function de(e){const t=e["aria-label"],n=e.className,a=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};i["aria-hidden"]=!t,i.style=a,i.className=ce.Z.plexIcon+(n?" "+n:"");const s=[r.createElement.apply(r,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&s.unshift(r.createElement("title",null,t)),r.createElement.apply(r,["svg",i].concat(s))}de.propTypes={"aria-label":le().string,className:le().string,style:le().object};const ue=de,me="ChannelsGridMetadataDetailButtons-icon-jpViKR",pe=function(e){const{subscriptionType:t,isSubscribed:n,isOnAir:a,showRecord:i,onPlayPress:s,onRecordPress:o}=e,l=a?(0,Z.Z)("Watch Now"):(0,Z.Z)("Watch Channel"),c=n?(0,Z.Z)("Recording Scheduled"):(0,Z.Z)("Record");return r.createElement("span",null,r.createElement(re.Z,{className:"ChannelsGridMetadataDetailButtons-playButton-B9VONK",kind:ie.Py,size:se.HC,onPress:s},r.createElement(ue,{className:me}),l),i?r.createElement(re.Z,{className:"ChannelsGridMetadataDetailButtons-recordButton-DTivwa ChannelsGridMetadataDetailButtons-playButton-B9VONK",kind:ie.Py,size:se.HC,onPress:o},r.createElement(ae.Z,{className:me,type:t}),c):null)};class he extends r.Component{constructor(){super(...arguments),this.onRecordPress=e=>{const{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:a,onRecordPress:i}=this.props;i({serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,subscriptionType:a})}}render(){const{className:e,title:t,subscriptionType:n,isCompact:a,isOnAir:i,isSubscribed:s,showPlay:o,showRecord:l,onPlayPress:c}=this.props,d=a?ne:pe;return r.createElement("span",{className:e},r.createElement(d,{isOnAir:i,isSubscribed:s,showPlay:o,showRecord:l,subscriptionType:n,title:t,onPlayPress:c,onRecordPress:this.onRecordPress}))}}const ye=he;var ve=Object.defineProperty,ge=Object.defineProperties,be=Object.getOwnPropertyDescriptors,Ee=Object.getOwnPropertySymbols,fe=Object.prototype.hasOwnProperty,Pe=Object.prototype.propertyIsEnumerable,Ze=(e,t,n)=>t in e?ve(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ie=(e,t)=>{for(var n in t||(t={}))fe.call(t,n)&&Ze(e,n,t[n]);if(Ee)for(var n of Ee(t))Pe.call(t,n)&&Ze(e,n,t[n]);return e},Ce=(e,t)=>ge(e,be(t));const De={dispatchStartLiveTVPlayback:X.lS},we=((0,Q.Z)((function(){return(0,l.P1)((0,Y.Z)(),(0,l.P1)(((e,{beginsAt:t})=>t),((e,{endsAt:t})=>t),((e,t)=>{const n=Math.floor(Date.now()/1e3);return n>=e&&n<=t})),((e={},t)=>{const{type:n,title:r,grandparentTitle:a,subscriptionID:i,grandparentSubscriptionID:s,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:n,title:a||r,subscriptionType:l||o||n,isSubscribed:!(!s&&!i),isOnAir:t}}))}),De)((function(e){const t=e,{dispatchStartLiveTVPlayback:n}=t,a=((e,t)=>{var n={};for(var r in e)fe.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Ee)for(var r of Ee(e))t.indexOf(r)<0&&Pe.call(e,r)&&(n[r]=e[r]);return n})(t,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:s,channelIdentifier:o,metricsPage:l,metricsContext:c}=e,d=(0,r.useCallback)((()=>{n(Ce(Ie({},{serverEntityID:i,providerEntityID:s,metricsPage:l,metricsContext:c}),{options:{type:J.pX,identifier:o}}))}),[i,s,l,c,n,o]);return r.createElement(ye,Ce(Ie({},a),{onPlayPress:d}))})),"ChannelsGridDetailRow-container-CB8cJD"),Oe="ChannelsGridDetailRow-preplayContainer-sPWclw",Se="ChannelsGridDetailRow-poster-o75w2U PosterCard-card-B3tGLl",Te="ChannelsGridDetailRow-navigationContainer-xyFw5M";var Ne=n(71124),Me=n(16690);const Re=function({className:e,tabIndex:t,allowLink:n=!0,metadataItem:a}){return r.createElement("span",{className:e},r.createElement(Me.Z,{allowLink:!!a.title,metadataItem:a,tabIndex:t}),a.title?r.createElement(K.Z,null):null,a.title?r.createElement(Ne.Z,{allowLink:n,metadataItem:a,tabIndex:t}):null)};var ke=n(90113),xe=n(99088);function Ae({metadataItem:e}){const t=(0,r.useMemo)((()=>{let t;switch(e.type){case I.pG.Movie:t=[Ne.Z,xe.Z];break;case I.pG.Show:t=[Ne.Z,Re];break;case I.pG.Episode:t=[ke.Z,Re];break;default:t=[Ne.Z]}return t}),[e]);return r.createElement("div",{className:_},t.map(((t,n)=>{const a=0===n?$:q;return r.createElement(t,{key:n,className:a,metadataItem:e})})))}var je=n(45191),Ge=n(75404),He=n(70894),Be=n(66012),Le=n(91085),Ve=n(89536);function We({className:e,airing:t,channel:n,isCompact:i=!1,showPlay:s,showRecord:o,onRecordPress:l}){const{metadataItem:c,beginsAt:d,endsAt:u}=t,m=(0,a.I0)(),p=(0,Be.Z)(c.sourceURI),{metricsPage:h,metricsContextTuple:y}=(0,Le.Zn)(),v=(0,Ve.Z)(c),[g,E]=(0,b.c9)(),f=c.grandparentTitle||c.title,P=Math.floor(Date.now()/1e3),Z=P>=d&&P<=u,I=!(!p.grandparentSubscriptionID&&!p.subscriptionID),C=p.grandparentSubscriptionType||p.subscriptionType||c.type,D=(0,r.useCallback)((()=>{v({action:Ge.NH}),m(X.lS({serverEntityID:g.entityID,providerEntityID:E.entityID,metricsPage:h,metricsContext:y,options:{type:J.pX,identifier:n.id}}))}),[m,g,E,n,h,y,v]),w=(0,r.useCallback)((()=>{const e=(0,je.DB)("appModel"),{metadataItemModel:t}=(0,He.Z)(e,{server:g,provider:E,metadataItem:c,metadataItemState:p}),r={serverEntityID:g.entityID,providerEntityID:E.entityID,metadataItemEntityID:t.entityID(),channelGridKey:n.gridKey,subscriptionType:C};l(r)}),[g,E,c,p,n.gridKey,C,l]),O=i?ne:pe;return r.createElement("span",{className:e},r.createElement(O,{isOnAir:Z,isSubscribed:I,showPlay:s,showRecord:o,subscriptionType:C,title:f,onPlayPress:D,onRecordPress:w}))}function Fe({className:e=we,channel:t,airing:n,showRecord:i,onRecordPress:s,onNextPress:o,onPrevPress:l}){const[c,d]=(0,b.c9)(),u=(0,a.v9)((0,G.Z)("timeFormat")),{metadataItem:m,beginsAt:p,endsAt:h}=null!=n?n:{};return m?r.createElement("div",{className:e},r.createElement(H.Z,{className:Se,component:B.Z,height:(0,L.Cr)(80,m.type,j.lD),providerEntityID:d.entityID,serverEntityID:c.entityID,type:m.type,url:m.grandparentThumb||m.thumb,width:80}),r.createElement("div",{className:Oe},r.createElement(Ae,{metadataItem:m}),r.createElement(z,{beginsAt:p,channelTitle:t.shortTitle||t.title,contentRating:m.contentRating,endsAt:h,timeFormat:u}),r.createElement(We,{airing:n,channel:t,showPlay:!0,showRecord:i,onRecordPress:s}),r.createElement("p",null,m.summary),r.createElement("div",{className:Te},r.createElement(A.Z,{iconComponent:k.e,title:(0,Z.Z)("Previous"),onPress:l}),r.createElement(A.Z,{iconComponent:x.V,title:(0,Z.Z)("Next"),onPress:o})))):null}var Ue=n(94184),Ke=n.n(Ue),ze=n(19013),_e=n(35877),$e=n(34513),qe=n(85448),Xe=n(93888),Ye=n(37334);const Je=parseInt(p.Z.channelGridChannelColumnWidth,10),Qe=.3*Je;class et extends r.Component{constructor(e,t){super(e,t),this.state={placeholderWidth:Qe+Math.random()*(Je-Qe)}}render(){const{className:e,children:t}=this.props,{placeholderWidth:n}=this.state;return r.createElement("div",{className:e,style:{width:`${n}px`}},r.createElement("div",{className:"ChannelsGridPlaceholder-bar-qrBrDB"},t))}}et.defaultProps={className:"ChannelsGridPlaceholder-container-YbCmpz"};const tt=et;var nt=n(34261);function rt({airing:e,width:t,className:n="ChannelsGridMetadataItemCell-container-LhcTly",channel:i,cellIndex:s,isSelected:o,showLoader:l,showRecord:c,onPress:d,onRecordPress:u}){var m;const{metadataItem:p,mediaIndex:h,beginsAt:y,endsAt:v,isSynthetic:g}=e,E=(0,a.I0)(),[f,P]=(0,b.c9)(),Z=(0,Be.Z)(null==p?void 0:p.sourceURI),C=(0,a.v9)(_e.Z),D=null!=h?null==(m=null==p?void 0:p.Media)?void 0:m[h]:void 0,w=null==D?void 0:D.premiere,O=null!=Z.subscriptionType||null!=Z.grandparentSubscriptionType,S=p&&null==p.index&&!!p.originallyAvailableAt;let T=!0;if(S&&(null==p?void 0:p.originallyAvailableAt)){const e=new Date,t=(0,ze.Z)(p.originallyAvailableAt);T=e.getDate()!==t.getDate()||e.getMonth()!==t.getMonth()||e.getFullYear()!==t.getFullYear()}const N=(null==p?void 0:p.grandparentTitle)||(null==p?void 0:p.title),M=(0,r.useMemo)((()=>p?p.type===I.pG.Movie?xe.Z:p.type!==I.pG.Show&&p.type!==I.pG.Episode||!T?null:Me.Z:null),[p,T]),R=Math.floor(Date.now()/1e3),k=!!(R>=y&&R<=v),x=!!(v&&R>=v);(0,r.useEffect)((()=>{p&&C&&o&&E((0,Xe.vr)({server:f,provider:P,metadataItem:p,metadataItemState:Z,legacyAction:(0,Ye.yU)()}))}),[E,C,o,p,Z,P,f]);const A=(0,r.useCallback)((()=>{p&&null!=h&&d(p.key,h,s)}),[p,h,s,d]);if(l)return r.createElement("div",{className:n,style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-placeholderContainer-HqQAfh"},r.createElement(tt,null),r.createElement(tt,null)));const j=Z.subscriptionType||Z.grandparentSubscriptionType;return r.createElement("div",{className:Ke()(n,k&&"ChannelsGridMetadataItemCell-onAir-E8QsKN",o&&"ChannelsGridMetadataItemCell-selected-AVke2k",!g&&(k||c)&&"ChannelsGridMetadataItemCell-hoverable-jP0CmJ",x&&"ChannelsGridMetadataItemCell-finishedAiring-TF8NXB"),"data-qa-id":"guide-row-item",style:{width:`${t}px`}},r.createElement("div",{className:"ChannelsGridMetadataItemCell-content-LHfH1l"},r.createElement(qe.Z,{className:"ChannelsGridMetadataItemCell-underlay-nHwnLE",isDisabled:g,onPress:g?void 0:A}),r.createElement("div",null,N),g?null:r.createElement("div",{className:"ChannelsGridMetadataItemCell-actionsContainer-ovIE1y"},r.createElement("div",{className:"ChannelsGridMetadataItemCell-subTitleContainer-k19wdS"},M?r.createElement(M,{className:"ChannelsGridMetadataItemCell-subTitle-DIk1RO",metadataItem:p}):null,w?r.createElement(nt.Z,{className:"ChannelsGridMetadataItemCell-premiereBadge-xxFWjR PremiereAiringBadge-badge-fAyt5M"}):null,O?r.createElement($e.Z,{className:"ChannelsGridMetadataItemCell-subscriptionBadge-oPLiFu"},r.createElement(ae.Z,{type:j})):null),r.createElement(We,{airing:e,channel:i,className:"ChannelsGridMetadataItemCell-actions-TNzsOT",isCompact:!0,showPlay:k,showRecord:c,onRecordPress:u}))))}const at=function(e){const{className:t,width:n,isActive:a}=e,i={width:`${n}px`};return r.createElement("div",{className:t},r.createElement("div",{className:Ke()("ChannelsGridProgress-fill-Ud9WIQ",a&&"ChannelsGridProgress-active-TuOoFS"),style:i}))};function it({className:e}){const{airedProgress:t,columnWidth:n,visibleColumns:i}=(0,a.v9)(d),s=(0,r.useMemo)((()=>t/100*i*n),[t,n,i]);return r.createElement(at,{className:e,width:s})}var st=n(1802),ot=n(13688);const lt=(0,r.forwardRef)((function({align:e="none","aria-label":t,color:n="inherit",size:a="inherit",testID:i},s){return r.createElement("svg",{ref:s,"aria-hidden":!t,"aria-label":t,className:(0,ot.J)({align:e,color:n,size:a}),"data-testid":i,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M12 27C13.6569 27 15 25.6569 15 24C15 22.3431 13.6569 21 12 21C10.3431 21 9 22.3431 9 24C9 25.6569 10.3431 27 12 27Z",fill:"currentColor"}),r.createElement("path",{d:"M24 27C25.6569 27 27 25.6569 27 24C27 22.3431 25.6569 21 24 21C22.3431 21 21 22.3431 21 24C21 25.6569 22.3431 27 24 27Z",fill:"currentColor"}),r.createElement("path",{d:"M39 24C39 25.6569 37.6569 27 36 27C34.3431 27 33 25.6569 33 24C33 22.3431 34.3431 21 36 21C37.6569 21 39 22.3431 39 24Z",fill:"currentColor"}))}));var ct=n(27469),dt=n(61438),ut=n(37903),mt=n(56422),pt=n(54320),ht=n(37703),yt=n(15579),vt=n(70777),gt=n(181),bt=n(16879),Et=n(28247),ft=n(72039);function Pt({channel:e,onReorderPress:t}){const n=(0,a.I0)(),{metricsPage:i,metricsContextTuple:s}=(0,Le.Zn)(),[l,d]=(0,b.c9)(),u=(0,a.v9)(gt.Z),{favoriteChannels:m}=(0,a.v9)(c.Z),[p,h]=(0,Et.Z)(),y=(0,a.v9)((0,yt.Z)(vt.R2)),v=(0,ht.b)(),g=(0,r.useMemo)((()=>m.channels.some((({uid:t})=>t===e.uid))),[e.uid,m.channels]),E=(0,r.useCallback)((()=>{n((0,X.lS)({serverEntityID:l.entityID,providerEntityID:d.entityID,metricsPage:i,metricsContextTuple:s,options:{type:J.pX,identifier:e.id}}))}),[n,e,l,d,i,s]),f=(0,r.useCallback)((()=>{const t=[...m.channels,e];n(o.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:u,channels:m.channels,updatedChannels:t}))}),[e,u,n,m.channels]),P=(0,r.useCallback)((()=>{const t=m.channels.filter((({uid:t})=>e.uid!==t));n(o.ZP.actions.favoriteChannelsUpdateRequested({cloudServer:u,channels:m.channels,updatedChannels:t}))}),[e.uid,u,n,m.channels]),I=(0,r.useMemo)((()=>{if(t){if(p||v.isOpen){const e=1!==m.channels.length;return r.createElement(ut.v2,{isOpen:v.isOpen,onOpenChange:v.onOpenChange},r.createElement(ut.bF,null,r.createElement(st.hU,{"aria-label":(0,Z.Z)("Actions"),color:"transparent",icon:lt,size:pt.$u.S})),r.createElement(ut.Dv,null,r.createElement(ut.j2,{onPress:P},r.createElement(mt.x,null,(0,Z.Z)("Remove from favorites"))),r.createElement(ut.j2,{isDisabled:!e,onPress:t},r.createElement(mt.x,{color:e?pt.Il.Default:pt.Il.Muted},(0,Z.Z)("Reorder")))))}return null}return y&&g?r.createElement(st.hU,{"aria-label":(0,Z.Z)("Remove from Favorites"),color:"transparent",icon:ct.g,isDisabled:m.isPending,size:pt.$u.S,onPress:P}):y&&!g&&p?r.createElement(st.hU,{"aria-label":(0,Z.Z)("Add to Favorites"),color:"transparent",icon:dt.A,isDisabled:m.isPending,size:pt.$u.S,onPress:f}):null}),[m.channels.length,m.isPending,y,g,p,v.isOpen,v.onOpenChange,f,P,t]);return r.createElement("div",{ref:h,className:"ChannelsGridRowTitle-container-Erzlnn"},r.createElement(ft.Z,{channel:e}),p&&e.gridKey?r.createElement(bt.Z,{className:"ChannelsGridRowTitle-playButton-seG4KN PlayButton-playButton-HS0MKv Link-link-vSsQW1",tabIndex:-1,title:(0,Z.Z)("Play Channel {channel}",{channel:e.callSign}),onPress:E}):null,r.createElement("div",{className:"ChannelsGridRowTitle-overlay-egQk0I"},r.createElement("div",{className:"ChannelsGridRowTitle-channelVcn-xSmtXU"},!l.isCloud&&p?e.vcn:null),r.createElement("div",{className:"ChannelsGridRowTitle-action-JdolXH"},I)))}var Zt=Object.getOwnPropertySymbols,It=Object.prototype.hasOwnProperty,Ct=Object.prototype.propertyIsEnumerable;function Dt(e){var t=e,{channel:n,className:s,rowClassName:l,selectedMetadataItemKey:c,selectedMediaIndex:u,selectedMediaItemRow:m,onMetadataItemPress:p,onNextPress:h,onPrevPress:y,onDetailRowMeasure:v,onRecordPress:g,onReorderPress:E}=t,f=((e,t)=>{var n={};for(var r in e)It.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Zt)for(var r of Zt(e))t.indexOf(r)<0&&Ct.call(e,r)&&(n[r]=e[r]);return n})(t,["channel","className","rowClassName","selectedMetadataItemKey","selectedMediaIndex","selectedMediaItemRow","onMetadataItemPress","onNextPress","onPrevPress","onDetailRowMeasure","onRecordPress","onReorderPress"]);const{gridKey:P}=n,Z=(0,S.Z)(f),I=(0,a.I0)(),[C,D]=(0,b.c9)(),{columnTimes:k,columnWidth:x}=(0,a.v9)(d),{cachedDates:A,isPending:j,isPopulated:G}=(0,a.v9)((0,M.Z)(P)),H=(0,a.v9)(w(n)),B=(0,r.useMemo)((()=>H.find((e=>{var t;return(null==(t=e.metadataItem)?void 0:t.key)&&e.metadataItem.key===c&&e.mediaIndex===u}))),[H,c,u]),L=k[1]-k[0],V=k[0],W=k[k.length-1],F=!!(0,N.Z)(D,T.zW.Subscribe);return(0,r.useEffect)((()=>{B||m!==f.cellIndex||p(null,0,-1)}),[f,B,m,p]),(0,r.useEffect)((()=>{!P||j||G||I(o.ZP.actions.channelAiringsFetchRequested({server:C,provider:D,channelGridKey:P,date:(0,O.Z)(new Date(1e3*V)).toString()}))}),[I,C,D,P,V,j,G]),(0,r.useEffect)((()=>{const e=function(e,t,n){let r=null;const a=(0,O.Z)(new Date(1e3*e)),i=(0,O.Z)(new Date(1e3*t)),s=(0,R.Z)(a,"yyyy-MM-dd"),o=(0,R.Z)(i,"yyyy-MM-dd");return n.includes(s)?n.includes(o)||(r=i):r=a,r}(V,W,A);P&&e&&!j&&I(o.ZP.actions.channelAiringsFetchRequested({server:C,provider:D,channelGridKey:P,date:e.toString()}))}),[I,C,D,P,V,W,j,A]),r.createElement("div",{className:s,"data-qa-id":"guide-row",style:Z.style},r.createElement("div",{className:l},r.createElement(Pt,{channel:n,onReorderPress:E}),r.createElement("div",{className:"ChannelsGridRow-programsContainer-blk6UP"},r.createElement(it,{className:"ChannelsGridRow-progress-fL2hVB"}),H.map(((e,t)=>{const{metadataItem:a,mediaIndex:i,beginsAt:s,endsAt:o,isSynthetic:l}=e,d=Math.max(s,V),h=(Math.min(o,W)-d)/L*x,y=!(!a||f.cellIndex!==m||c!==a.key||u!==i);return r.createElement(rt,{key:t,airing:e,cellIndex:f.cellIndex,channel:n,className:"ChannelsGridRow-program-CO3IaD ChannelsGridMetadataItemCell-container-LhcTly",isSelected:y,showLoader:l&&(j||!j&&!G),showRecord:F,width:h,onPress:p,onRecordPress:g})})))),B&&f.cellIndex===m?r.createElement(i.Z,{key:c,onMeasure:v},r.createElement(Fe,{airing:B,channel:n,showRecord:F,onNextPress:h,onPrevPress:y,onRecordPress:g})):null)}var wt=n(64381);var Ot=n(83782),St=n(45731),Tt=n(25814),Nt=n(55319),Mt=n(20622),Rt=n(77349),kt=n(42227),xt=n(42902),At=n(3151),jt=n(10125),Gt=n(14580),Ht=n(8067),Bt=n(31889),Lt=n(84332);class Vt extends r.Component{constructor(){super(...arguments),this.onPress=()=>{const{option:e,onPress:t}=this.props;t(e)}}render(){const{className:e,option:t,isDisabled:n,isSelected:a}=this.props;return r.createElement(Lt.Z,{className:e,isDisabled:n,isSelected:a,onPress:this.onPress},t.title)}}const Wt=Vt,Ft=function(e){const{className:t,dateOptions:n,onSelectDate:a,onSelectNow:i}=e;return r.createElement(Ht.Z,{autoScroll:!0,className:t},r.createElement(Lt.Z,{onPress:i},(0,Z.Z)("Now")),r.createElement(Bt.Z,null),n.map(((e,t)=>r.createElement(Wt,{key:t,isSelected:e.isSelected,option:e,onPress:a},e.title))))};function Ut(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,ze.Z)(e,n),a=(0,ze.Z)(t,n);return r.getTime()-a.getTime()}var Kt=n(313),zt=n(83946);function _t(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,ze.Z)(e,t);return n.setMinutes(0,0,0),n}(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=(0,ze.Z)(e,n),a=(0,zt.Z)(t);return r.setHours(a),r}(new Date(e),t))}const $t=(0,a.$j)((function(){const e=[{startHour:0,title:(0,Z.Z)("Midnight")},{startHour:2,title:(0,Z.Z)("Overnight")},{startHour:6,title:(0,Z.Z)("Morning")},{startHour:10,title:(0,Z.Z)("Daytime")},{startHour:17,title:(0,Z.Z)("Evening")},{startHour:23,title:(0,Z.Z)("Late Night")}];return(0,l.P1)(((e,{startTime:t})=>t),((e,{selectedDateOption:t})=>t),((t,n={})=>{if(!n)return{timeOptions:[]};const r=(0,kt.Z)(t),a=(0,kt.Z)(n.value),i=new Date;return{timeOptions:e.map(((t,n)=>{const s=e[n+1],o=_t(a,t.startHour),l=_t(a,s?s.startHour:24),c=(0,Kt.Z)(i,l),d=Ut(r,o)>=0&&Ut(r,l)<0,u=(0,Kt.Z)(o,i)?(0,xt.Z)(i):(0,xt.Z)(o);return{title:Ut(i,o)>=0&&Ut(i,l)<0?(0,Z.Z)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}}))}}))}))((function(e){const{className:t,timeOptions:n,selectedDateOption:a,onDeselectDateOption:i,onSelectTime:s}=e;return r.createElement("div",{className:t},r.createElement("div",{className:"DatePickerTimeList-header-iPpAe9"},r.createElement(qe.Z,{onPress:i},r.createElement(k.e,{align:"baseline","aria-label":(0,Z.Z)("Back")})),r.createElement("span",{className:"DatePickerTimeList-headerText-PKhOP3"},a.title)),r.createElement(Bt.Z,null),n.map(((e,t)=>r.createElement(Wt,{key:t,isDisabled:!e.isEnabled,isSelected:e.isSelected,option:e,onPress:s},e.title))))})),qt={scrollDirection:g.Hn,className:"DatePickerMenu-listContainer-RqqY4m"};class Xt extends r.Component{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{const e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find((e=>e.isSelected))}}render(){const{startTime:e,target:t,isOpen:n,dateOptions:a,onMenuClose:i}=this.props,{showTimeOptions:s,activeDateOption:o}=this.state,l=Ke()("DatePickerMenu-list-Fl3DfX",!!s&&"DatePickerMenu-showTimeOptions-jezpxz");return r.createElement(jt.Z,{isOpen:n,scrollerProps:qt,size:se.M2,target:t,onMenuClose:(0,Gt.Z)(this.onHideOptions,i)},r.createElement(Ft,{className:l,dateOptions:a,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),r.createElement($t,{className:l,selectedDateOption:o,startTime:e,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}}const Yt=Xt;var Jt=n(9362);function Qt(e){if(!e)return"";const t=e instanceof Date?e:new Date(e),n=(0,xt.Z)(t);return(0,At.Z)(t,new Date)?(0,Z.Z)("Today"):(0,Jt.Z)(n)}function en({target:e,isOpen:t,onMenuClose:n}){const i=(0,a.I0)(),s=(0,r.useCallback)((e=>i(o.ZP.actions.channelsGridSetStartTime({startTime:e}))),[i]),{channelsGrid:{startTime:l}}=(0,a.v9)(c.Z),d=(0,r.useMemo)((()=>function(e){const t=[],n=(0,kt.Z)(e);for(let e=0;e<8;e++){const r=(0,Rt.Z)(new Date,e),a=Qt(r),i=(0,At.Z)(r,n);t.push({title:a,value:(0,xt.Z)(r),isSelected:i})}return t}(l)),[l]);return 0!==l&&d.length?r.createElement(Yt,{dateOptions:d,dispatchSetStartTime:s,isOpen:t,startTime:l,target:e,onMenuClose:n}):null}function tn(){const e=(0,a.I0)(),t=(0,Ot.Z)(),n=(0,Nt.Z)(),i=(0,a.v9)(St.Z),{columnTimes:s,columnWidth:l,startTime:c}=(0,a.v9)(d),u=(new Date).getTime()-108e5,m=new Date(1e3*c).getTime(),p=m>u,h=(0,r.useCallback)((()=>{e(o.ZP.actions.channelsGridNavigateTimeBack())}),[e]),y=(0,r.useCallback)((()=>{e(o.ZP.actions.channelsGridNavigateTimeForward())}),[e]);return(0,r.useEffect)((()=>{e(o.ZP.actions.channelsGridResetStartTime())}),[e]),r.createElement("div",{className:"ChannelsGridTimeline-container-UNZEHK"},r.createElement("div",{className:"ChannelsGridTimeline-dayContainer-sAgNKq"},r.createElement(Tt.Z,{direction:n.isOpen?Mt.Z.Up:Mt.Z.Down,id:t,onPress:n.onToggle},Qt(m)),r.createElement(en,{isOpen:n.isOpen,target:t,onMenuClose:n.onClose})),r.createElement("div",{className:"ChannelsGridTimeline-labelContainer-jDEp80"},s.map(((e,t)=>r.createElement("div",{key:t,className:"ChannelsGridTimeline-label-zIgOwN",style:{width:`${l}px`}},function(e,t="HH:mm:ss"){return e?(0,wt.Z)(e,t):""}(1e3*e,i))))),r.createElement("div",{className:"ChannelsGridTimeline-navigationButtons-Qh5wA_"},r.createElement(st.hU,{"aria-label":(0,Z.Z)("Previous"),color:"transparent",icon:k.e,isDisabled:!p,size:pt.$u.XS,onPress:h}),r.createElement(st.hU,{"aria-label":(0,Z.Z)("Next"),color:"transparent",icon:x.V,size:pt.$u.XS,onPress:y})))}var nn=Object.defineProperty,rn=Object.defineProperties,an=Object.getOwnPropertyDescriptors,sn=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,ln=Object.prototype.propertyIsEnumerable,cn=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const dn=parseInt(p.Z.channelGridRowHeight,10);function un({className:e="ChannelsGrid-gridContainer-x03Jz0",channels:t,onRecordPress:n,onReorderPress:i}){var s;const l=(0,a.I0)(),{columnTimes:c,viewportWidth:u,viewportHeight:m}=(0,a.v9)(d),[p,E]=(0,r.useState)(null),[f,P]=(0,r.useState)(null),[Z,I]=(0,r.useState)(-1),[C,D]=(0,r.useState)(0),O=null!=(s=t[Z])?s:{},S=(0,a.v9)(w(O));(0,r.useEffect)((()=>{l(o.ZP.actions.channelsGridUpdateAiredProgress());const e=6e4-Date.now()%6e4,t=window.setInterval((()=>l(o.ZP.actions.channelsGridUpdateAiredProgress())),e);return()=>{window.clearInterval(t)}}),[l,c]);const T=(0,r.useCallback)(((e,t,n)=>{const r=f!==e||p!==t||Z!==n;P(r?e:null),E(r?t:null),I(r?n:-1),D(r?140:0)}),[p,E,f,P,Z,I,D]),N=(0,r.useCallback)((({height:e})=>{D(e)}),[D]),M=(0,r.useCallback)((()=>{var e;const t=S.findIndex((e=>e.metadataItem.key===f&&e.mediaIndex===p))-1,{metadataItem:n,mediaIndex:r}=null!=(e=S[t])?e:{};n&&(P(n.key),E(r)),t<=1&&l(o.ZP.actions.channelsGridNavigateTimeBack())}),[l,S,f,p,P,E]),R=(0,r.useCallback)((()=>{var e;const t=S.findIndex((e=>e.metadataItem.key===f&&e.mediaIndex===p))+1,{metadataItem:n,mediaIndex:r}=null!=(e=S[t])?e:{};n&&(P(n.key),E(r)),t>=S.length-1&&l(o.ZP.actions.channelsGridNavigateTimeForward())}),[l,S,f,p,P,E]),k=(0,r.useCallback)((()=>t.map(((e,t)=>{let n=dn;return t===Z&&(n+=C||140),n}))),[t,Z,C]),x=(0,r.useCallback)((e=>{const a=t[e.cellIndex];if(!a)return null;const{serverIdentifier:s,providerIdentifier:o}=(0,h.Z)(a.source);return r.createElement(b.ZP,{key:e.key,machineIdentifier:s,providerIdentifier:o},r.createElement(Dt,(l=((e,t)=>{for(var n in t||(t={}))on.call(t,n)&&cn(e,n,t[n]);if(sn)for(var n of sn(t))ln.call(t,n)&&cn(e,n,t[n]);return e})({},e),rn(l,an({channel:a,className:"ChannelsGrid-gridRowCell-icZ3E5 ChannelsGrid-gridContainer-x03Jz0",rowClassName:"ChannelsGrid-gridRow-MkSC3A ChannelsGridRow-container-OldJ2J",selectedMediaIndex:p,selectedMediaItemRow:Z,selectedMetadataItemKey:f,onDetailRowMeasure:N,onMetadataItemPress:T,onNextPress:R,onPrevPress:M,onRecordPress:n,onReorderPress:i})))));var l}),[t,p,Z,f,N,T,R,M,n,i]);return r.createElement("div",{className:e},r.createElement(tn,null),r.createElement(y.Z,{cellRenderer:x,className:"ChannelsGrid-gridContent-eoWNkE",items:t,keyPropName:"uid",layout:(0,v.Z)({getCellHeights:k}),scrollDirection:g.yZ,scrollerClassName:"ChannelsGrid-gridInnerContent-ZxetaQ VirtualListScroller-scroller-eDZkq_",size:t.length,viewportHeight:m,viewportWidth:u}))}var mn=Object.defineProperty,pn=Object.defineProperties,hn=Object.getOwnPropertyDescriptors,yn=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,gn=Object.prototype.propertyIsEnumerable,bn=(e,t,n)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const En=parseInt(p.Z.channelGridChannelOverflowWidth,10),fn=parseInt(p.Z.channelGridChannelColumnWidth,10),Pn=parseInt(p.Z.channelGridTitleColumnWidth,10);function Zn({channels:e,onReorderPress:t}){const n=(0,a.I0)(),l=(0,m.Z)(),[c,p]=(0,r.useState)(!1),[h,y]=(0,r.useState)(null),[v,g]=(0,r.useState)(),{columnTimes:b}=(0,a.v9)(d);(0,r.useEffect)((()=>{const e=Math.floor(Date.now()/1e3);let t=7200;if(b[0]<=e&&b[1]>=e){const n=b.find((t=>e<t));n&&(t=n-e)}const r=window.setTimeout((()=>n(o.ZP.actions.channelsGridResetStartTime())),1e3*t);return()=>window.clearTimeout(r)}),[b,n]);const E=(0,r.useCallback)((e=>{c&&(0,s.Z)(h,e)||(p(!0),y(e),n(o.ZP.actions.channelsGridSetViewportSize({width:e.width,height:e.height,overflowWidth:En,channelWidth:fn,channelTitleWidth:Pn})))}),[c,h,p,y,n]),f=(0,r.useCallback)((e=>{g(e),l.onOpen()}),[l,g]);return r.createElement(r.Fragment,null,r.createElement(u.Z,(P=((e,t)=>{for(var n in t||(t={}))vn.call(t,n)&&bn(e,n,t[n]);if(yn)for(var n of yn(t))gn.call(t,n)&&bn(e,n,t[n]);return e})({},v),Z={isOpen:l.isOpen,onModalClose:l.onClose},pn(P,hn(Z)))),r.createElement(i.Z,{className:"ChannelsGridPageContent-measureContainer-Dg0e0X",onMeasure:E},r.createElement(un,{channels:e,className:"ChannelsGridPageContent-gridContent-D4FVHi",onRecordPress:f,onReorderPress:t})));var P,Z}},75969:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(67294),a=n(28216),i=n(10033);const s=function(e){const{tab:t,component:n,onPress:s}=e,o=(0,a.I0)(),l=(0,r.useCallback)((e=>{const n=e.currentTarget.getAttribute("href");n&&(0===e.button||e.touches)&&(e.stopPropagation(),o((0,i.c4)({pathname:n,replace:!0}))),s(t.id)}),[t,s,o]);return r.createElement(n,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:l},t.title)}},1522:(e,t,n)=>{n.d(t,{Z:()=>d});var r=n(67294),a=Object.defineProperty,i=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable,l=(e,t,n)=>t in e?a(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function c(e){var t=e,{children:n}=t,a=((e,t)=>{var n={};for(var r in e)s.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&i)for(var r of i(e))t.indexOf(r)<0&&o.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement("div",((e,t)=>{for(var n in t||(t={}))s.call(t,n)&&l(e,n,t[n]);if(i)for(var n of i(t))o.call(t,n)&&l(e,n,t[n]);return e})({},a),n)}c.defaultProps={className:"PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"};const d=c},35567:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(67294),a=n(70513);const i=function({children:e}){return r.createElement(a.Z,{className:"PrimaryPageHeaderRight-pageHeaderRight-PLi1N6 PageHeaderRight-pageHeaderRight-hBWIio"},e)}},66380:(e,t,n)=>{n.d(t,{Z:()=>M});var r=n(67294),a=n(22222),i=n(73701),s=n(36475),o=n(53461),l=n(87880),c=n(69022),d=n(33265),u=n(41863),m=n(23954);const p=(0,a.P1)((0,u.Z)("features"),(e=>(0,m.Z)(e,(e=>e.id),(()=>!0))));var h=n(13508),y=n(28216),v=n(45191),g=n(10033),b=n(75404),E=n(17197),f=n(24348),P=n(75969);const Z=(0,y.$j)(null,(function(e,t){const{serverEntityID:n,providerEntityID:r,providerMetricsIdentifier:a,sourceDirectory:i,tab:s,metricsPage:o}=t;return{onPress(t,l){l||e((0,g.zt)({serverEntityID:n,providerEntityID:r,directoryID:i.id,pivotKey:s.pivotKey})),(0,v.DB)("metrics").trackEvent({event:E.Ip,interaction:!0,properties:{page:o,identifier:a,action:b.oG,context:s.context,origin:f.zQ}})}}}))(P.Z);var I=n(78236),C=Object.defineProperty,D=Object.defineProperties,w=Object.getOwnPropertyDescriptors,O=Object.getOwnPropertySymbols,S=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,N=(e,t,n)=>t in e?C(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const M=(0,s.Z)((function(){return(0,a.P1)(i.Z,(0,a.P1)(((e,{sourceDirectory:t})=>t),((e,{directoryKey:t})=>t),(0,l.Z)(),(0,o.Z)(),p,((e,t,n,r,a)=>{const i=(0,d.Z)(e,t);return e.pivots.reduce(((t,s)=>{if(s.id===c.Ig&&s.requires&&!a[s.requires])return t;const o=(0,h.Z)(n,r,e,s);return o?(t.push({pivotKey:s.key,title:s.title,route:o,isSelected:!(!i||s.key!==i.key),isDisabled:!s.key,context:s.context}),t):t}),[])})),((e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t})))}))((function(e){return r.createElement(I.Z,(t=((e,t)=>{for(var n in t||(t={}))S.call(t,n)&&N(e,n,t[n]);if(O)for(var n of O(t))T.call(t,n)&&N(e,n,t[n]);return e})({},e),D(t,w({component:Z}))));var t}))},78236:(e,t,n)=>{n.d(t,{Z:()=>W});var r=n(67294),a=n(62704),i=n(94184),s=n.n(i),o=n(18222),l=n(69281);var c=Object.defineProperty,d=Object.getOwnPropertySymbols,u=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable,p=(e,t,n)=>t in e?c(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;function h(e){const t=e,{className:n,children:a,isSelected:i}=t,c=((e,t)=>{var n={};for(var r in e)u.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&d)for(var r of d(e))t.indexOf(r)<0&&m.call(e,r)&&(n[r]=e[r]);return n})(t,["className","children","isSelected"]);return r.createElement(o.Z,((e,t)=>{for(var n in t||(t={}))u.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))m.call(t,n)&&p(e,n,t[n]);return e})({className:s()(n,i&&"PageHeaderTabButton-isSelected-gqt8tL"),"data-testid":"tabButton",size:l.ln},c),a)}h.defaultProps={className:"PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG"};const y=h;var v=n(87264),g=n(10125),b=n(8059),E=n(84332),f=n(94659),P=n(24107);var Z=Object.defineProperty,I=Object.defineProperties,C=Object.getOwnPropertyDescriptors,D=Object.getOwnPropertySymbols,w=Object.prototype.hasOwnProperty,O=Object.prototype.propertyIsEnumerable,S=(e,t,n)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const T={placement:"bottom-start",modifiers:[{name:"offset",options:{offset:[parseInt(P.Z.pageHeaderTabButtonLeftRightMargin,10)]}}]},N=function(e){const t=e,{tabs:n,component:a,onPress:i}=t,o=((e,t)=>{var n={};for(var r in e)w.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&D)for(var r of D(e))t.indexOf(r)<0&&O.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","onPress"]),{menuButtonID:l,isMenuOpen:c,onMenuButtonPress:d,onMenuClose:u}=(0,f.Z)(),m=(0,r.useCallback)((e=>{u(),i&&i(e)}),[i,u]),p=n.find((e=>e.isSelected))||n[0];return r.createElement("div",{className:"PageHeaderTabDropdown-container-s6_y_K","data-testid":"tabDropDown",id:l},r.createElement(y,{className:"PageHeaderTabDropdown-button-HKmBUj PageHeaderTabButton-button-aP9Avj Button-button-TxWeuE Link-link-SxPFpG",isSelected:p.isSelected,onPress:d},r.createElement("div",{className:"PageHeaderTabDropdown-buttonContents-X2SPy2"},r.createElement("div",{className:"PageHeaderTabDropdown-title-eSs4os"},p.title),r.createElement(v.Z,{className:s()("PageHeaderTabDropdown-disclosureArrow-mFj1jP DisclosureArrow-disclosureArrow-NTDkGd",p.isSelected&&"PageHeaderTabDropdown-isSelected-SvXSbi"),direction:c?b.UP:b.WV}))),r.createElement(g.Z,{isOpen:c,options:T,target:l,onMenuClose:u},n.map(((e,t)=>{return r.createElement(a,(n=((e,t)=>{for(var n in t||(t={}))w.call(t,n)&&S(e,n,t[n]);if(D)for(var n of D(t))O.call(t,n)&&S(e,n,t[n]);return e})({},o),i={key:t,component:E.Z,tab:e,onPress:m},I(n,C(i))));var n,i}))))};var M=n(75969);var R=Object.defineProperty,k=Object.defineProperties,x=Object.getOwnPropertyDescriptors,A=Object.getOwnPropertySymbols,j=Object.prototype.hasOwnProperty,G=Object.prototype.propertyIsEnumerable,H=(e,t,n)=>t in e?R(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,B=(e,t)=>{for(var n in t||(t={}))j.call(t,n)&&H(e,n,t[n]);if(A)for(var n of A(t))G.call(t,n)&&H(e,n,t[n]);return e},L=(e,t)=>k(e,x(t));function V(e){const t=e,{tabs:n,component:i,hideSingleTabs:s}=t,o=((e,t)=>{var n={};for(var r in e)j.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&A)for(var r of A(e))t.indexOf(r)<0&&G.call(e,r)&&(n[r]=e[r]);return n})(t,["tabs","component","hideSingleTabs"]),[l,c]=(0,r.useState)(0),d=(0,r.useCallback)((e=>{c(e.width)}),[]),[u,m]=(0,r.useState)(0),p=(0,r.useCallback)((e=>{m(e.width)}),[]),h=n.length<2,v=n.length>1&&u>l;return h&&s?null:r.createElement(a.Z,{className:"TabsPageHeaderCenter-pageHeaderCenter-FVRU4z PageHeaderCenter-pageHeaderCenter-mMF86x",ignoreHeight:!0,onMeasure:d},v?r.createElement(N,L(B({},o),{component:i,tabs:n})):r.createElement(a.Z,{ignoreHeight:!0,onMeasure:p},n.map(((e,t)=>r.createElement(i,L(B({},o),{key:t,component:y,tab:e}))))))}V.defaultProps={component:M.Z,hideSingleTabs:!0};const W=V},94173:(e,t,n)=>{n.d(t,{Z:()=>c});var r=n(28216),a=n(22222),i=n(3881),s=n(67294),o=n(69281),l=n(42985);const c=(0,r.$j)((function(){return(0,a.P1)((0,i.Z)(),(e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""})))}))((function(e){const{className:t,isEPGRefreshing:n,epgActivityProgress:r,epgActivityTitle:a}=e;return n?s.createElement("span",{className:t},a," (",r,"%)",s.createElement(l.Z,{className:"ProgramGuideActivityStatus-refreshingSpinner-S0GTX1",size:o.HC})):null}))},10067:(e,t,n)=>{n.d(t,{Z:()=>m});var r=n(67294),a=n(37920),i=n(56791),s=n(24141),o=Object.defineProperty,l=Object.getOwnPropertySymbols,c=Object.prototype.hasOwnProperty,d=Object.prototype.propertyIsEnumerable,u=(e,t,n)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const m=function(e){const t=e,{children:n}=t,o=((e,t)=>{var n={};for(var r in e)c.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&l)for(var r of l(e))t.indexOf(r)<0&&d.call(e,r)&&(n[r]=e[r]);return n})(t,["children"]);return r.createElement(i.Z,((e,t)=>{for(var n in t||(t={}))c.call(t,n)&&u(e,n,t[n]);if(l)for(var n of l(t))d.call(t,n)&&u(e,n,t[n]);return e})({className:s.Z.innerEmptyPage,contentClassName:s.Z.innerEmptyPageContent,scrollDirection:a.Hn},o),n)}},34261:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(67294),a=n(73788),i=n(34513);function s(e){const{className:t}=e;return r.createElement(i.Z,{className:t},(0,a.Z)("New"))}s.defaultProps={className:"PremiereAiringBadge-badge-fAyt5M"};const o=s},23569:(e,t,n)=>{n.d(t,{Z:()=>pa});var r=n(67294),a=n(28216),i=n(22222),s=n(7574),o=n(84503),l=n(13469),c=n.n(l),d=n(87242),u=n(87880);function m(){return(0,i.P1)((0,u.Z)(),(e=>e?e.providers:void 0))}var p=n(46898);function h(e){return!0}var y=n(42437),v=n(53461),g=n(235),b=n(86418),E=n(87442),f=n(87999),P=n(62291),Z=n(99912),I=n(61661),C=n(37920),D=n(20533),w=n(39680),O=n(97257),S=n(71667),T=n(13688);const N=(0,r.forwardRef)((function({align:e="none","aria-label":t,color:n="inherit",size:a="inherit",testID:i},s){return r.createElement("svg",{ref:s,"aria-hidden":!t,"aria-label":t,className:(0,T.J)({align:e,color:n,size:a}),"data-testid":i,fill:"currentColor",height:48,viewBox:"0 0 48 48",width:48,xmlns:"http://www.w3.org/2000/svg"},r.createElement("path",{d:"M41.1213 6.87868C41.6839 7.44129 42 8.20435 42 9V18H39V9H33V12H30V9H18V12H15V9H9V39H15V42H9C8.20435 42 7.44129 41.6839 6.87868 41.1213C6.31607 40.5587 6 39.7957 6 39V9C6 8.20435 6.31607 7.44129 6.87868 6.87868C7.44129 6.31607 8.20435 6 9 6H15V3H18V6H30V3H33V6H39C39.7957 6 40.5587 6.31607 41.1213 6.87868Z",fill:"currentColor"}),r.createElement("path",{d:"M33.885 37.5L30 33.615V27H33V32.385L36 35.385L33.885 37.5Z",fill:"currentColor"}),r.createElement("path",{clipRule:"evenodd",d:"M31.5 45C29.1266 45 26.8066 44.2962 24.8332 42.9776C22.8598 41.6591 21.3217 39.7849 20.4135 37.5922C19.5052 35.3995 19.2676 32.9867 19.7306 30.6589C20.1936 28.3312 21.3365 26.193 23.0147 24.5147C24.693 22.8365 26.8312 21.6936 29.1589 21.2306C31.4867 20.7676 33.8995 21.0052 36.0922 21.9135C38.2849 22.8217 40.1591 24.3598 41.4776 26.3332C42.7962 28.3066 43.5 30.6266 43.5 33C43.5 36.1826 42.2357 39.2349 39.9853 41.4853C37.7349 43.7357 34.6826 45 31.5 45ZM31.5 24C29.72 24 27.9799 24.5278 26.4999 25.5168C25.0198 26.5057 23.8663 27.9113 23.1851 29.5559C22.5039 31.2004 22.3257 33.01 22.6729 34.7558C23.0202 36.5016 23.8774 38.1053 25.136 39.364C26.3947 40.6226 27.9984 41.4798 29.7442 41.8271C31.49 42.1743 33.2996 41.9961 34.9442 41.3149C36.5887 40.6337 37.9943 39.4802 38.9832 38.0001C39.9722 36.5201 40.5 34.78 40.5 33C40.5 30.6131 39.5518 28.3239 37.864 26.636C36.1761 24.9482 33.887 24 31.5 24Z",fill:"currentColor",fillRule:"evenodd"}))}));var M=n(73788),R=n(29012),k=n(85448),x=n(25555),A=n(42985),j=n(30471),G=n(58176),H=n(43508);function B(){return(0,i.P1)(((e,{providerID:t})=>t),m(),p.Z,((e,t,n)=>{if(e)return t.find((t=>{const r=n[t];return r&&r.identifier===e}))}))}var L=n(8067),V=n(993),W=n(31489),F=n(54139),U=n(24107),K=n(42227),z=n(42699),_=n(35343),$=n(45731),q=n(88638),X=n(61740),Y=n(40621),J=n(30750),Q=n(99184),ee=n(77613),te=n(8135),ne=n(99027),re=n(55550),ae=n(16983),ie=n(21411);const se=function(e){const{className:t,beginsAt:n,endsAt:a,timeFormat:i}=e,s=function(e,t,n){return e?(0,ie.Z)(e,t)?(0,M.Z)("Airing now"):(0,ae.Z)(e,null,{timeFormat:n}):(0,M.Z)("No upcoming airings")}(n,a,i);return r.createElement("span",{className:t},s)};var oe=n(37188);const le=function({className:e,type:t}){return r.createElement("span",{className:e},r.createElement(oe.Z,{className:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-lEyOSY"}),function(e){return"show"===e?(0,M.Z)("Series"):void 0}(t))};var ce=Object.defineProperty,de=Object.getOwnPropertySymbols,ue=Object.prototype.hasOwnProperty,me=Object.prototype.propertyIsEnumerable,pe=(e,t,n)=>t in e?ce(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const he=function(e){const t=e,{component:n,isSecondary:a}=t,i=((e,t)=>{var n={};for(var r in e)ue.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&de)for(var r of de(e))t.indexOf(r)<0&&me.call(e,r)&&(n[r]=e[r]);return n})(t,["component","isSecondary"]);return r.createElement(n,((e,t)=>{for(var n in t||(t={}))ue.call(t,n)&&pe(e,n,t[n]);if(de)for(var n of de(t))me.call(t,n)&&pe(e,n,t[n]);return e})({className:a?"RecordingPrioritySubscriptionTitle-secondaryTitle-X8aUVa":"RecordingPrioritySubscriptionTitle-title-TmkOtz"},i))};var ye=Object.defineProperty,ve=Object.getOwnPropertySymbols,ge=Object.prototype.hasOwnProperty,be=Object.prototype.propertyIsEnumerable,Ee=(e,t,n)=>t in e?ye(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class fe extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const e=this.props,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:a,type:i,subtype:s,thumb:o,grandparentThumb:l,connectDragSource:c}=e,d=((e,t)=>{var n={};for(var r in e)ge.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ve)for(var r of ve(e))t.indexOf(r)<0&&be.call(e,r)&&(n[r]=e[r]);return n})(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:u}=this.state,m="playlist"===i?"show":i;return r.createElement("div",{className:"RecordingPrioritySubscription-subscription-NeXVO4"},r.createElement(k.Z,{className:"RecordingPrioritySubscription-link-ok3R9D",onPress:this.onLinkPress},r.createElement("div",{className:"RecordingPrioritySubscription-linkContainer-upGJfE"},r.createElement(q.Z,{className:"RecordingPrioritySubscription-posterContainer-skXft_",component:Y.Z,height:(0,ne.Cr)(48,m),providerEntityID:n,serverEntityID:t,type:m,url:l||o,width:48}),r.createElement("div",{className:"RecordingPrioritySubscription-titleContainer-SYZcaT"},function(e){let t;switch(e){case"movie":t=[Q.Z,te.Z];break;case"show":t=[Q.Z,le];break;case"episode":t=[J.Z,ee.Z];break;case"playlist":t=[Q.Z,le];break;default:t=[Q.Z]}return t.push(se),t}(i).map(((e,t)=>r.createElement(he,((e,t)=>{for(var n in t||(t={}))ge.call(t,n)&&Ee(e,n,t[n]);if(ve)for(var n of ve(t))be.call(t,n)&&Ee(e,n,t[n]);return e})({key:t,component:e,isSecondary:t>0,type:i},d))))))),c(r.createElement("div",{className:"RecordingPrioritySubscription-dragHandle-asEk9k Link-link-SxPFpG"},r.createElement(re.Z,{className:"RecordingPrioritySubscription-dragIcon-BPd81u"})),{dropEffect:"copy"}),r.createElement(X.Z,{isOpen:u,mediaSubscriptionEntityID:a,providerEntityID:n,serverEntityID:t,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))}}fe.defaultProps={connectDragSource:e=>e};const Pe=fe;var Ze=Object.defineProperty,Ie=Object.getOwnPropertySymbols,Ce=Object.prototype.hasOwnProperty,De=Object.prototype.propertyIsEnumerable,we=(e,t,n)=>t in e?Ze(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const Oe=(0,a.$j)((function(){return(0,i.P1)($.Z,(0,_.Z)(),(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar.scheduled),(0,_.Z)(),((e,t)=>c().find(e,(e=>(0,z.Z)((0,K.Z)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)))),((e,t,n)=>{const r=c().pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r}))}))((function(e){return r.createElement(Pe,((e,t)=>{for(var n in t||(t={}))Ce.call(t,n)&&we(e,n,t[n]);if(Ie)for(var n of Ie(t))De.call(t,n)&&we(e,n,t[n]);return e})({},e))})),Se=parseInt(U.Z.recordingPriorityPaneWidth,10),Te=parseInt(U.Z.recordingPriorityDragHandleWidth,10);class Ne extends r.Component{shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,item:n,itemType:a,currentOffset:i}=this.props;if(!i||a!==F.OT)return null;const{x:s,y:o}=i,l=`translate3d(${s-(Se-Te)}px, ${o}px, 0)`,c={position:"absolute",WebkitTransform:l,msTransform:l,transform:l};return r.createElement(W.Z,null,r.createElement("div",{className:"RecordingPrioritySubscriptionDragPreview-dragPreview-quuADK",style:c},r.createElement(Oe,{mediaSubscriptionEntityID:n.mediaSubscriptionEntityID,providerEntityID:t,serverEntityID:e})))}}const Me=(0,V.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(Ne);var Re=n(94184),ke=n.n(Re),xe=n(93712),Ae=n(90625),je=n(46408),Ge=n(73935),He=n(50774);const Be={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},Le={hover(e,t,n){const r=(0,Ge.findDOMNode)(n).getBoundingClientRect(),a=(r.bottom-r.top)/2,i=t.getClientOffset().y-r.top,s=e.sortIndex,o=i>a?s+1:s;e.onSubscriptionDragMove(o)}};class Ve extends r.Component{componentDidMount(){this.props.connectDragPreview((0,je.r)())}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,isDragging:a,isDraggingBefore:i,isDraggingAfter:s,isOver:o,connectDropTarget:l,connectDragSource:c}=this.props;return l(r.createElement("div",{className:ke()("RecordingPrioritySubscriptionDragSource-dragSource-ua3EiL",a&&He.fN,i&&o&&He.DT,s&&o&&He.QZ)},r.createElement(Oe,{connectDragSource:c,mediaSubscriptionEntityID:n,providerEntityID:t,serverEntityID:e})))}}const We=(0,xe.G)(F.OT,Le,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Ae.E)(F.OT,Be,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(Ve)),Fe=function(e){const{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityIDs:a,guideRoute:i,showError:s,showEmptyState:o,moveIndex:l,onSubscriptionDragMove:c,onSubscriptionDragEnd:d}=e;return r.createElement("div",{className:"RecordingPriorityPane-pane-dq4cLL"},r.createElement("div",{className:"RecordingPriorityPane-paneHeader-pEIfIi"},(0,M.Z)("Recording Priority")),r.createElement(L.Z,{autoScroll:!0,className:"RecordingPriorityPane-paneScroller-WG2FtX Scroller-vertical-nKq0Q8"},s?r.createElement("div",{className:"RecordingPriorityPane-error-VObeAc"},r.createElement("div",null,(0,M.Z)("There was an error loading recordings.")),r.createElement("div",null,(0,M.Z)("Please try again."))):null,o?r.createElement("div",{className:"RecordingPriorityPane-empty-iwDsd9"},r.createElement("div",null,(0,M.Z)("You have no recordings scheduled.")),r.createElement("div",null,r.createElement(R.Z,{message:(0,M.Z)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:k.Z,kind:x._8,to:i}]}))):null,s||o?null:a.map(((e,a)=>{const i=null!=l,s=i&&l===a,o=i&&l===a+1;return r.createElement(We,{key:e,isDraggingAfter:o,isDraggingBefore:s,mediaSubscriptionEntityID:e,providerEntityID:n,serverEntityID:t,sortIndex:a,onSubscriptionDragEnd:d,onSubscriptionDragMove:c})}))),r.createElement(Me,{providerEntityID:n,serverEntityID:t}))};var Ue=Object.defineProperty,Ke=Object.defineProperties,ze=Object.getOwnPropertyDescriptors,_e=Object.getOwnPropertySymbols,$e=Object.prototype.hasOwnProperty,qe=Object.prototype.propertyIsEnumerable,Xe=(e,t,n)=>t in e?Ue(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Ye=(e,t)=>{for(var n in t||(t={}))$e.call(t,n)&&Xe(e,n,t[n]);if(_e)for(var n of _e(t))qe.call(t,n)&&Xe(e,n,t[n]);return e};const Je={dispatchMoveMediaSubscription:s.moveMediaSubscription,dispatchClearMoveError:s.clearMoveError,dispatchShowAlert:H.wp};class Qe extends r.Component{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{const{moveIndex:n}=this.state;t&&null!=n&&(0,E.c9)((()=>{var t;this.props.dispatchMoveMediaSubscription((t=Ye({},e),Ke(t,ze({moveIndex:n}))))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){const{mediaSubscriptionMoveError:t,dispatchShowAlert:n,dispatchClearMoveError:r}=this.props,{mediaSubscriptionMoveError:a}=e;!a&&t&&(n(t),r())}render(){return r.createElement(Fe,Ye({moveIndex:this.state.moveIndex,onSubscriptionDragEnd:this.onSubscriptionDragEnd,onSubscriptionDragMove:this.onSubscriptionDragMove},this.props))}}const et=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),B(),((e,t)=>{const{mediaSubscriptions:n,isMediaSubscriptionsPopulated:r,mediaSubscriptionsError:a,mediaSubscriptionMoveError:i}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:i,showError:!r&&!!a,showEmptyState:r&&!a&&!n.length}}))}),Je)(Qe);var tt=n(10067);const nt=function({subscriptionCount:e}){return r.createElement(G.Z,{description:1===e?(0,M.Z)("There are no upcoming airings of the item in your list"):(0,M.Z)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e}),iconComponent:N,title:(0,M.Z)("You have no recordings scheduled")})};var rt=n(3151),at=n(82650),it=n(35387),st=n(75165),ot=n(86555),lt=n(62934),ct=n(26180),dt=n(36475),ut=n(30547),mt=Object.defineProperty,pt=Object.defineProperties,ht=Object.getOwnPropertyDescriptors,yt=Object.getOwnPropertySymbols,vt=Object.prototype.hasOwnProperty,gt=Object.prototype.propertyIsEnumerable,bt=(e,t,n)=>t in e?mt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Et=(e,t)=>{for(var n in t||(t={}))vt.call(t,n)&&bt(e,n,t[n]);if(yt)for(var n of yt(t))gt.call(t,n)&&bt(e,n,t[n]);return e};const ft={dispatchPlayRecording:s.playRecording};class Pt extends r.Component{constructor(){super(...arguments),this.onPlayPress=e=>{const{serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:a,dispatchPlayRecording:i}=this.props;i({serverEntityID:t,providerEntityID:n,linkedKey:r,metricsContext:a})}}render(){const e=this.props,{component:t,mediaSubscriptionID:n,status:a,linkedKey:i,metricsContext:s}=e,o=((e,t)=>{var n={};for(var r in e)vt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&yt)for(var r of yt(e))t.indexOf(r)<0&&gt.call(e,r)&&(n[r]=e[r]);return n})(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return r.createElement(t,(l=Et({},o),c={onPlayPress:this.onPlayPress},pt(l,ht(c))));var l,c}}const Zt=(0,dt.Z)((function(){return(0,i.P1)(((e,{mediaSubscriptionID:t})=>t),((e,{status:t})=>t),$.Z,(0,i.P1)(((e,{linkedKey:t})=>t),((e,{metricsContext:t})=>t),lt.Z,((e,t,n)=>{const r={};return t&&(r.context=t),(0,ut.Z)(n,{isLibraryProvider:!0},e,r)})),(0,ot.Z)(),(0,st.Z)(),B(),((e,t,n,r,a,i,s)=>{const o=t===ct.ly,l=t===ct.pn,d=c().pick(a,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),u=Et({providerEntityID:s,prePlayRoute:r,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!r,timeFormat:n},d);return i?(u.isRecording=!0,u.isPostProcessing=i.Context.status===ct.jN,u.recordingProgress=i.progress):(u.isRecording=!1,u.isPostProcessing=!1),u}))}),ft)(Pt);var It=n(55855),Ct=n(9362),Dt=n(10829),wt=n(94685),Ot=n(74372),St=n(16950),Tt=n(3510),Nt=n(86192),Mt=n(76651),Rt=n(9913),kt=n(55949),xt=n(99539),At=n(84419),jt=n(18222),Gt=n(63135),Ht=n(74249),Bt=n(45181),Lt=n(17516),Vt=n(69281),Wt=n(88140),Ft=n(95352),Ut=n(20946);const Kt=function({children:e,mediaItem:t}){const n=t&&t.videoResolution;let a,i=!1;if(n){const e=parseInt(n,10);i=!0,a=e>=720||4===e||8===e}return e||i?r.createElement(Ft.Z,null,e,i?r.createElement(Ut.Z,{label:(0,M.Z)("Video")},a?(0,M.Z)("HD"):(0,M.Z)("SD")):null):null};var zt=n(23944);const _t=function(e){const{children:t,beginsAt:n,endsAt:a,channel:i,timeFormat:s}=e;if(!n||!a)return null;const o=Date.now()/1e3;let l;return l=a<o?(0,M.Z)("Aired"):n<=o&&a>=o?(0,M.Z)("Airing"):(0,M.Z)("Airs"),r.createElement(Ut.Z,{label:l},r.createElement(zt.Z,{beginsAt:n,channel:i,endsAt:a,showChannel:!0,showFullTime:!0,timeFormat:s}),t)};var $t=n(26397),qt=n(14522),Xt=n(64303);const Yt="AiringDetailsModalContent-separator-aVukP8 DashSeparator-separator-_3fMys";var Jt=Object.getOwnPropertySymbols,Qt=Object.prototype.hasOwnProperty,en=Object.prototype.propertyIsEnumerable;const tn=function(e){const t=e,{serverEntityID:n,providerEntityID:a,summary:i,error:s,mediaItem:o,isComplete:l,hasError:c,isRecording:d,recordingProgress:u,timeFormat:m,onRecordingModify:p,onModalClose:h}=t,y=((e,t)=>{var n={};for(var r in e)Qt.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Jt)for(var r of Jt(e))t.indexOf(r)<0&&en.call(e,r)&&(n[r]=e[r]);return n})(t,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:v,endsAt:g,startOffsetSeconds:b,endOffsetSeconds:E,channelTitle:f,channelShortTitle:P}=o,Z=!(!b&&!E),I=b&&Math.round(b/60),C=E&&Math.round(E/60);return r.createElement(Wt.Z,{onModalClose:h},r.createElement(Lt.Z,null,(0,M.Z)("Airing Details")),r.createElement(Gt.Z,null,r.createElement(Xt.Z,{hint:y,providerEntityID:a,serverEntityID:n},r.createElement(Kt,{mediaItem:o},r.createElement(_t,{beginsAt:v,channel:P||f,endsAt:g,showChannel:!0,showFullTime:!0,timeFormat:m},r.createElement("div",null,l?r.createElement("span",null,r.createElement(qt.Z,{className:"AiringDetailsModalContent-completeIcon-hiEuv0"}),(0,M.Z)("Recorded successfully")):null,d?r.createElement("span",null,r.createElement(xt.Z,{className:"AiringDetailsModalContent-recordingIcon-Jd0qzc"}),(0,M.Z)("Recording"),r.createElement(At.Z,{className:Yt}),(0,M.Z)("{recordingProgress}% complete",{recordingProgress:u})):null,c?r.createElement("span",null,r.createElement($t.Z,{className:"AiringDetailsModalContent-errorIcon-d1zdOh"}),s):null,l||d||c||!Z?null:r.createElement("span",null,I?r.createElement("span",null,(0,M.Z)("Recording starts {minuteOffset} min early",{minuteOffset:I}),C?r.createElement("span",null,r.createElement(At.Z,{className:Yt}),(0,M.Z)("Ends {minuteOffset} min late",{minuteOffset:C})):null):r.createElement("span",null,(0,M.Z)("Recording ends {minuteOffset} min late",{minuteOffset:C})))))),r.createElement("div",{className:"AiringDetailsModalContent-summary-miy4_v"},i))),r.createElement(Ht.Z,null,r.createElement(Bt.Z,null,r.createElement(jt.Z,{kind:x.TP,size:Vt.M2,onPress:p},(0,M.Z)("Modify Recording")),r.createElement(jt.Z,{kind:x._8,size:Vt.M2,onPress:h},(0,M.Z)("Close")))))};var nn=Object.defineProperty,rn=Object.getOwnPropertySymbols,an=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,on=(e,t,n)=>t in e?nn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ln=(0,a.$j)((function(){return(0,i.P1)($.Z,(0,ot.Z)(),((e,t)=>{const n=c().pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n}))}))((function(e){return r.createElement(tn,((e,t)=>{for(var n in t||(t={}))an.call(t,n)&&on(e,n,t[n]);if(rn)for(var n of rn(t))sn.call(t,n)&&on(e,n,t[n]);return e})({},e))}));var cn=Object.defineProperty,dn=Object.getOwnPropertySymbols,un=Object.prototype.hasOwnProperty,mn=Object.prototype.propertyIsEnumerable,pn=(e,t,n)=>t in e?cn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const hn=function(e){const t=e,{isOpen:n,metricsProperties:a,metadataItemEntityID:i,onRecordingModify:s,onModalClose:o}=t,l=((e,t)=>{var n={};for(var r in e)un.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&dn)for(var r of dn(e))t.indexOf(r)<0&&mn.call(e,r)&&(n[r]=e[r]);return n})(t,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return r.createElement(kt.Z,{isOpen:n,metricsPage:P.go,metricsProperties:a,onModalClose:o},r.createElement(ln,((e,t)=>{for(var n in t||(t={}))un.call(t,n)&&pn(e,n,t[n]);if(dn)for(var n of dn(t))mn.call(t,n)&&pn(e,n,t[n]);return e})({metadataItemEntityID:i,onModalClose:o,onRecordingModify:s},l)))};var yn=n(57557),vn=n(15928),gn=n(34261),bn=n(86979),En=n(31722);const fn=function({error:e,onPress:t}){return r.createElement(bn.Z,{className:"CalendarErrorButton-errorButton-LLLvop",component:k.Z,tooltip:e,tooltipAttachment:En.eO,tooltipClassName:"CalendarErrorButton-errorTooltip-QfnyWQ Tooltip-bottomCenter-kGnBM4 Tooltip-tooltip-VFBXza Tooltip-tooltipArrow-rrJjO7 Tooltip-tooltipTopArrow-zHVo6b Tooltip-tooltipCenterAlignArrow-Y8ToMu",onPress:t},r.createElement($t.Z,{"aria-label":e}))},Pn={context:f.AGENDA};class Zn extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:a,prePlayRoute:i,type:s,title:o,grandparentTitle:l,index:c,parentIndex:d,originallyAvailableAt:u,error:m,mediaItem:p,isRecording:h,isPostProcessing:y,recordingProgress:v,isComplete:g,hasError:b,hasSubscription:E,hasConflicts:f,showPlay:P,showDate:Z,timeFormat:I,onPlayPress:C}=this.props,{isAiringDetailsModalOpen:D,isSubscribeModalOpen:w,isConflictsModalOpen:O}=this.state,{beginsAt:S,endsAt:T,startOffsetSeconds:N=0,endOffsetSeconds:R=0,premiere:x}=p,A=(0,K.Z)(S),j=(0,wt.Z)(S-N,T+R,{timeFormat:I}),G=(0,Ot.Z)(S);let H;H=(0,St.Z)(S)?(0,M.Z)("Yesterday"):G?(0,M.Z)("Today"):(0,M.Z)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:(0,Ct.Z)(S,{abbreviate:!0}),monthNumber:(0,Dt.Z)(S,{abbreviate:!0}),dayNumber:(0,It.Z)(A)});const B=l||o,L=function(e,t,n,r,a,i){return"episode"!==e?n:`${t} - ${(0,Tt.Z)({seasonIndex:r,episodeIndex:a,date:i})} - ${n}`}(s,l,o,d,c,u);return r.createElement("div",{className:ke()("AgendaEvent-event-PenYYt",g&&"AgendaEvent-isComplete-lSFdtc",b&&"AgendaEvent-hasError-_jwzDV")},r.createElement(k.Z,{className:"AgendaEvent-underlay-XmZL0H",to:i,onPress:i?void 0:this.onLinkPress}),r.createElement("div",{className:"AgendaEvent-overlay-SXWjq8"},r.createElement("div",{className:ke()("AgendaEvent-date-tMiZ9l",G&&"AgendaEvent-isToday-TIKGCt")},Z?H:null),r.createElement("div",{className:"AgendaEvent-time-Vr9Pcu"},j),r.createElement("div",{className:"AgendaEvent-title-thgBZY",title:L},x?r.createElement(gn.Z,null):null,B,r.createElement("div",{className:"AgendaEvent-titleDetails-NjjPEO"},"movie"===s?r.createElement(vn.Z,{metadataItemEntityID:a}):null,"episode"===s?r.createElement(yn.Z,{metadataItemEntityID:a}):null)),r.createElement("div",{className:"AgendaEvent-status-ra3bni"},!h||y||b?null:r.createElement("div",{className:"AgendaEvent-recording-a_P8Pj"},r.createElement(Mt.Z,{backgroundClassName:"AgendaEvent-recordingProgressBackground-sPplXa CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:v,showProgressText:!1,size:24}),r.createElement("span",{className:"AgendaEvent-recordingIcon-MvSNog"})),h&&y&&!b?r.createElement(Nt.Z,null):null,P?r.createElement(Rt.Z,{title:o,onPress:C}):null,b?r.createElement(fn,{error:m,onPress:f?this.onConflictIconPress:this.onLinkPress}):null)),E?r.createElement(hn,{error:m,hasError:b,hasSubscription:E,isComplete:g,isOpen:D,isRecording:h,mediaItem:p,metadataItemEntityID:a,metricsProperties:Pn,providerEntityID:t,recordingProgress:v,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,E?r.createElement(X.Z,{isOpen:w||O,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:a,metricsProperties:Pn,providerEntityID:t,serverEntityID:e,showConflicts:O,subscriptionType:s,onModalClose:this.onSubscribeModalClose}):null)}}const In=Zn,Cn=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({events:e.scheduled})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((n,a)=>{const i=(0,K.Z)(n.beginsAt),s=0===a||!(0,rt.Z)((0,K.Z)(t[a-1].beginsAt),i),o=(0,at.Z)(it.PK,n.mediaSubscriptionID,e);return r.createElement(Zt,{key:a,component:In,error:n.error,eventID:n.metadataItem.key,hasConflicts:!(!n.conflicts||!n.conflicts.length),linkedKey:n.linkedKey,mediaItem:n.mediaItem,mediaSubscriptionEntityID:o,mediaSubscriptionID:n.mediaSubscriptionID,metadataItemEntityID:n.metadataItem,providerID:n.identifier||n.provider,serverEntityID:e,showDate:s,status:n.status})})))}));var Dn=n(19013);function wn(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=(0,Dn.Z)(e,t),r=n.getFullYear();return r}function On(e){const t=(0,K.Z)(e);return(0,M.Z)("{month} {dayNumber}, {year}",{month:(0,Dt.Z)(e),dayNumber:(0,It.Z)(t),year:wn(t)})}const Sn=function({startTime:e,endTime:t}){const n=(0,K.Z)(e),a=(0,K.Z)(t),i=(0,rt.Z)(n,a)?On(e):`${function(e){const t=(0,K.Z)(e);return(0,M.Z)("{month} {dayNumber}",{month:(0,Dt.Z)(e),dayNumber:(0,It.Z)(t)})}(e)} – ${On(t)}`;return r.createElement("span",{className:"CalendarHeaderTitle-title-yhCQ8X"},i)};var Tn=Object.defineProperty,Nn=Object.getOwnPropertySymbols,Mn=Object.prototype.hasOwnProperty,Rn=Object.prototype.propertyIsEnumerable,kn=(e,t,n)=>t in e?Tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const xn=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{firstEvent:t,lastEvent:n}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:n?n.beginsAt:void 0}}))}))((function(e){return r.createElement("div",{className:"AgendaHeader-agendaHeader-Y2wvE3"},r.createElement(Sn,((e,t)=>{for(var n in t||(t={}))Mn.call(t,n)&&kn(e,n,t[n]);if(Nn)for(var n of Nn(t))Rn.call(t,n)&&kn(e,n,t[n]);return e})({},e)))})),An=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:a}=e;return{showError:!r&&!!a,isEmpty:!n.scheduled.length,subscriptionCount:t.length}}))}))((function(e){const{serverEntityID:t,showError:n,isEmpty:a,subscriptionCount:i}=e;return n?r.createElement(tt.Z,{title:(0,M.Z)("There was an error loading the agenda")}):a?r.createElement(nt,{subscriptionCount:i}):r.createElement("div",null,r.createElement(xn,null),r.createElement(Cn,{serverEntityID:t}))}));var jn=n(62704),Gn=n(45697),Hn=n.n(Gn);const Bn={context:f.CALENDAR};class Ln extends r.Component{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:n,metadataItemEntityID:a,prePlayRoute:i,type:s,grandparentTitle:o,title:l,error:c,mediaItem:d,isRecording:u,isPostProcessing:m,recordingProgress:p,isComplete:h,hasError:y,hasSubscription:v,hasConflicts:g,showPlay:b,timeFormat:E,onPlayPress:f}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:Z,isConflictsModalOpen:I}=this.state,{beginsAt:C,endsAt:D,startOffsetSeconds:w=0,endOffsetSeconds:O=0,premiere:S}=d,T=(0,wt.Z)(C-w,D+O,{includeMinuteZero:!1,timeFormat:E}),N=o||l;return r.createElement("div",{className:ke()("CalendarEvent-event-KjyEXP",h&&"CalendarEvent-isComplete-yvCO2_",y&&"CalendarEvent-hasError-W97ZeH")},r.createElement(k.Z,{className:"CalendarEvent-underlay-NibxML",to:i,onPress:i?void 0:this.onLinkPress}),r.createElement("div",{className:"CalendarEvent-overlay-NaT7di"},r.createElement("div",{className:"CalendarEvent-title-_SlooU",title:N},N),r.createElement("div",{className:"CalendarEvent-secondaryInfo-ZR7At4"},r.createElement("div",{className:"CalendarEvent-time-ebPM1y"},T),S?r.createElement(gn.Z,null):null),r.createElement("div",{className:"CalendarEvent-status-PzG0OH"},!u||m||y?null:r.createElement("div",{className:"CalendarEvent-recording-DGNhNq"},r.createElement(Mt.Z,{backgroundClassName:"CalendarEvent-recordingProgressBackground-yCB7KR CircularProgressBar-circularProgressBarBackground-BcC4L1 CircularProgressBar-circularProgressBarBackground-Bw4kwM",lineWidth:2,progress:p,showProgressText:!1,size:24}),r.createElement("span",{className:"CalendarEvent-recordingIcon-pbWdc5"})),u&&m&&!y?r.createElement(Nt.Z,null):null,b?r.createElement(Rt.Z,{title:l,onPress:f}):null,y?r.createElement(fn,{error:c,onPress:g?this.onConflictIconPress:this.onLinkPress}):null)),v?r.createElement(hn,{error:c,hasError:y,isComplete:h,isOpen:P,isRecording:u,mediaItem:d,metadataItemEntityID:a,metricsProperties:Bn,providerEntityID:t,recordingProgress:p,serverEntityID:e,onModalClose:this.onAiringDetailsModalClose,onRecordingModify:this.onRecordingModify}):null,v?r.createElement(X.Z,{isOpen:Z||I,isRecordingSchedule:!0,mediaSubscriptionEntityID:n,metadataItemEntityID:a,metricsProperties:Bn,providerEntityID:t,serverEntityID:e,showConflicts:I,subscriptionType:s,onModalClose:this.onSubscribeModalClose}):null)}}const Vn=Ln;var Wn=Object.defineProperty,Fn=Object.getOwnPropertySymbols,Un=Object.prototype.hasOwnProperty,Kn=Object.prototype.propertyIsEnumerable,zn=(e,t,n)=>t in e?Wn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const _n=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),((e,{date:t})=>t),((e,t)=>({events:e.scheduled.filter((({beginsAt:e})=>(0,rt.Z)((0,K.Z)(e),(0,K.Z)(t))))})))}))((function({serverEntityID:e,events:t}){return r.createElement("div",null,t.map(((t,n)=>{const a=(0,at.Z)(it.PK,t.mediaSubscriptionID,e);return r.createElement(Zt,{key:n,component:Vn,error:t.error,eventID:t.metadataItem.key,hasConflicts:!(!t.conflicts||!t.conflicts.length),linkedKey:t.linkedKey,mediaItem:t.mediaItem,mediaSubscriptionEntityID:a,mediaSubscriptionID:t.mediaSubscriptionID,metadataItemEntityID:t.metadataItem,providerID:t.identifier||t.provider,serverEntityID:e,status:t.status})})))}));_n.propTypes=((e,t)=>{for(var n in t||(t={}))Un.call(t,n)&&zn(e,n,t[n]);if(Fn)for(var n of Fn(t))Kn.call(t,n)&&zn(e,n,t[n]);return e})({date:Hn().number.isRequired},_n.propTypes);const $n=_n,qn=function({serverEntityID:e,date:t}){return r.createElement("div",{className:"CalendarDay-day-CG2muM"},r.createElement($n,{date:t,serverEntityID:e}))};var Xn=Object.defineProperty,Yn=Object.getOwnPropertySymbols,Jn=Object.prototype.hasOwnProperty,Qn=Object.prototype.propertyIsEnumerable,er=(e,t,n)=>t in e?Xn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const tr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>({days:e.calendar.days})))}))((function(e){var t=e,{days:n}=t,a=((e,t)=>{var n={};for(var r in e)Jn.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&Yn)for(var r of Yn(e))t.indexOf(r)<0&&Qn.call(e,r)&&(n[r]=e[r]);return n})(t,["days"]);return r.createElement("div",{className:"CalendarDays-calendarDays-YaP3Tf"},n.map((e=>r.createElement(qn,((e,t)=>{for(var n in t||(t={}))Jn.call(t,n)&&er(e,n,t[n]);if(Yn)for(var n of Yn(t))Qn.call(t,n)&&er(e,n,t[n]);return e})({key:e,date:e},a)))))}));var nr=n(78966);const rr=function({date:e}){const t=(0,Ot.Z)(e);let n;if((0,St.Z)(e))n=(0,M.Z)("Yesterday");else if(t)n=(0,M.Z)("Today");else{const t=(0,K.Z)(e);n=(0,M.Z)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:(0,Ct.Z)(e,{abbreviate:!0}),monthNumber:(0,nr.Z)(t)+1,dayNumber:(0,It.Z)(t)})}return r.createElement("div",{className:ke()("CalendarDayOfWeek-dayOfWeek-zDLtCd",t&&"CalendarDayOfWeek-isToday-FhWrT0"),title:n},n)};var ar=Object.defineProperty,ir=Object.getOwnPropertySymbols,sr=Object.prototype.hasOwnProperty,or=Object.prototype.propertyIsEnumerable,lr=(e,t,n)=>t in e?ar(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const cr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage.calendar),(e=>({daysOfWeek:e.daysOfWeek})))}))((function(e){var t=e,{daysOfWeek:n}=t,a=((e,t)=>{var n={};for(var r in e)sr.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&ir)for(var r of ir(e))t.indexOf(r)<0&&or.call(e,r)&&(n[r]=e[r]);return n})(t,["daysOfWeek"]);return r.createElement("div",{className:"CalendarDaysOfWeek-container-ljeoIn"},n.map((e=>r.createElement(rr,((e,t)=>{for(var n in t||(t={}))sr.call(t,n)&&lr(e,n,t[n]);if(ir)for(var n of ir(t))or.call(t,n)&&lr(e,n,t[n]);return e})({key:e,date:e},a)))))}));var dr=n(71078),ur=n(26900);const mr="CalendarHeader-calendarHeader-RDW2rW",pr="CalendarHeader-calendarNav-kzSOqn Link-link-SxPFpG",hr="CalendarHeader-calendarNavDisabled-Rs4dGm";var yr=Object.defineProperty,vr=Object.getOwnPropertySymbols,gr=Object.prototype.hasOwnProperty,br=Object.prototype.propertyIsEnumerable,Er=(e,t,n)=>t in e?yr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const fr=function(e){const{hasPastEvents:t,hasFutureEvents:n,onGoToPreviousRangePress:a,onGoToNextRangePress:i}=e;return r.createElement("div",{className:mr},r.createElement("div",{className:mr},r.createElement(k.Z,{className:ke()(pr,!t&&hr),isDisabled:!t,kind:x.TP,size:Vt.M2,onPress:a},r.createElement(dr.e,{"aria-label":(0,M.Z)("Previous Page")})),r.createElement(Sn,((e,t)=>{for(var n in t||(t={}))gr.call(t,n)&&Er(e,n,t[n]);if(vr)for(var n of vr(t))br.call(t,n)&&Er(e,n,t[n]);return e})({},e)),r.createElement(k.Z,{className:ke()(pr,!n&&hr),isDisabled:!n,kind:x.TP,size:Vt.M2,onPress:i},r.createElement(ur.V,{"aria-label":(0,M.Z)("Next Page")}))))};var Pr=Object.defineProperty,Zr=Object.getOwnPropertySymbols,Ir=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,Dr=(e,t,n)=>t in e?Pr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,wr=(e,t)=>{for(var n in t||(t={}))Ir.call(t,n)&&Dr(e,n,t[n]);if(Zr)for(var n of Zr(t))Cr.call(t,n)&&Dr(e,n,t[n]);return e};const Or=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const t=c().pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return wr({},t)}))}))((function(e){return r.createElement(fr,wr({},e))}));class Sr extends r.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{const t=this.state.visibleDays,n=Math.min(Math.floor(e/120),7);n!==t&&this.props.onVisibleDaysChange(n),this.setState({width:e,visibleDays:n})},this.state={width:null,visibleDays:0}}render(){const{serverEntityID:e,showError:t,isEmpty:n,subscriptionCount:a,visibleDays:i,onGoToPreviousRangePress:s,onGoToNextRangePress:o}=this.props;return t?r.createElement(tt.Z,{title:(0,M.Z)("There was an error loading the calendar")}):n?r.createElement(nt,{subscriptionCount:a}):r.createElement(jn.Z,{className:"Calendar-calendar-DdlxLx",ignoreHeight:!0,onMeasure:this.onMeasure},i===this.state.visibleDays?r.createElement("div",null,r.createElement(Or,{onGoToNextRangePress:o,onGoToPreviousRangePress:s}),r.createElement(cr,null),r.createElement(tr,{serverEntityID:e})):null)}}const Tr=Sr;var Nr=Object.defineProperty,Mr=Object.getOwnPropertySymbols,Rr=Object.prototype.hasOwnProperty,kr=Object.prototype.propertyIsEnumerable,xr=(e,t,n)=>t in e?Nr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;class Ar extends r.Component{constructor(){super(...arguments),this.onVisibleDaysChange=e=>{(0,E.c9)((()=>{this.props.setVisibleDays({visibleDays:e})}))},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return r.createElement(Tr,((e,t)=>{for(var n in t||(t={}))Rr.call(t,n)&&xr(e,n,t[n]);if(Mr)for(var n of Mr(t))kr.call(t,n)&&xr(e,n,t[n]);return e})({onGoToNextRangePress:this.onGoToNextRangePress,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onVisibleDaysChange:this.onVisibleDaysChange},this.props))}}const jr=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),(e=>{const{mediaSubscriptions:t,calendar:n,isCalendarPopulated:r,calendarError:a}=e;return{showError:!r&&!!a,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}}))}),s)(Ar);var Gr=n(27586);const Hr=(0,a.$j)((function(){return(0,i.P1)(((e,{sourceDirectory:t})=>t),(0,u.Z)(),(0,v.Z)(),((e,t,n)=>({guideRoute:(0,S.ZP)(S.tk.GUIDE,t,n,e)})))}))((function(e){const{serverEntityID:t,showSpinner:n,showEmptyState:a,programGuideIdentifier:i,selectedViewType:s,guideRoute:o}=e;return n?r.createElement(j.Z,null,r.createElement(G.Z,null,r.createElement(A.Z,null))):a&&i?r.createElement(j.Z,null,r.createElement(G.Z,{description:r.createElement(R.Z,{message:(0,M.Z)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:k.Z,kind:x._8,to:o}]}),iconComponent:N,title:(0,M.Z)("You have no recordings scheduled")})):a&&!i?r.createElement(j.Z,null,r.createElement(G.Z,{description:(0,M.Z)("You need a DVR before you can schedule recordings"),iconComponent:N,title:(0,M.Z)("You have no recordings scheduled")})):r.createElement("div",{className:"RecordingSchedulePageContent-schedulePageContent-ep1GkU PageContent-pageContent-rk0p0C"},r.createElement(j.Z,{innerClassName:"RecordingSchedulePageContent-schedulePageInnerContent-hL2b2b PageContent-innerPageContent-m6ARXd"},s===Gr.XN?r.createElement(jr,{serverEntityID:t}):null,s===Gr.JF?r.createElement(An,{serverEntityID:t}):null),r.createElement(et,{guideRoute:o,providerID:i,serverEntityID:t}))}));var Br=n(3881),Lr=n(17282),Vr=n(10125),Wr=n(28201),Fr=n(863),Ur=n(84332),Kr=n(23574),zr=n(78891),_r=n(70513),$r=n(1522),qr=n(35567),Xr=n(66380),Yr=n(91192),Jr=n(94173);function Qr(e){return e===Gr.JF?(0,M.Z)("Agenda View"):(0,M.Z)("Calendar View")}class ea extends r.Component{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=(0,Wr.Z)()}shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a,showEPGActivity:i}=this.props,{isViewsMenuOpen:s}=this.state;return r.createElement(r.Fragment,null,n?r.createElement($r.Z,null,r.createElement(Yr.Z,{providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(Xr.Z,{directoryKey:S.tk.RECORDING_SCHEDULE,providerEntityID:t,serverEntityID:e,sourceDirectory:n}),r.createElement(qr.Z,null)):null,r.createElement(Kr.Z,null,r.createElement(_r.Z,null,r.createElement(Lr.Z,{hasMenu:!0,id:this._viewsMenuButtonID,isMenuOpen:s,onPress:this.onViewsMenuButtonPress},Qr(a)),r.createElement(Vr.Z,{isOpen:s,target:this._viewsMenuButtonID,onMenuClose:this.onViewsMenuClose},Gr.$6.map((e=>r.createElement(Ur.Z,{key:e,isSelected:a===e,to:(0,Fr.Z)({view:e}),onPress:this.onViewsMenuClose},Qr(e)))))),i?r.createElement(zr.Z,null,r.createElement(Jr.Z,{providerEntityID:t,serverEntityID:e})):null))}}const ta=ea,na=(0,a.$j)((function(){return(0,i.P1)((0,Br.Z)(),(e=>({showEPGActivity:!!e})))}))(ta);var ra=Object.defineProperty,aa=Object.getOwnPropertySymbols,ia=Object.prototype.hasOwnProperty,sa=Object.prototype.propertyIsEnumerable,oa=(e,t,n)=>t in e?ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,la=(e,t)=>{for(var n in t||(t={}))ia.call(t,n)&&oa(e,n,t[n]);if(aa)for(var n of aa(t))sa.call(t,n)&&oa(e,n,t[n]);return e};class ca extends r.Component{shouldComponentUpdate(e,t){return(0,D.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a}=this.props;return n||(r.Fragment,la({},this.props)),r.createElement(Z.Z,{metricsContext:(0,I.Z)(P.WT,f.DVR_SCHEDULE_PIVOT)},r.createElement(O.Z,{metricsPage:P.WT,metricsProperties:{pane:a},scrollDirection:C.Hn},r.createElement(na,{providerEntityID:t,selectedViewType:a,serverEntityID:e,sourceDirectory:n}),r.createElement(w.Z,{providerEntityID:t,serverEntityID:e}),r.createElement(Hr,la({},this.props))))}}const da=ca,ua={initRecordingSchedulePage:s.initRecordingSchedulePage,clearRecordingSchedulePage:s.clearRecordingSchedulePage,goToToday:s.goToToday,fetchCalendar:s.fetchCalendar,fetchMediaSubscriptions:s.fetchMediaSubscriptions,saveExperienceSettings:o.LN};class ma extends r.Component{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}UNSAFE_componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType()}UNSAFE_componentWillReceiveProps(e){const{serverEntityID:t,time:n,selectedViewType:r}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage()}_populate(e=this.props){(0,E.c9)((()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()}))}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){const{serverEntityID:e,providerEntityID:t,sourceDirectory:n,selectedViewType:a,showSpinner:i,showEmptyState:s,programGuideIdentifier:o}=this.props;return this.props.isPagePopulated?r.createElement(da,{programGuideIdentifier:o,providerEntityID:t,selectedViewType:a,serverEntityID:e,showEmptyState:s,showSpinner:i,sourceDirectory:n}):null}}const pa=(0,a.$j)((function(){return(0,i.P1)((e=>e.ui.recordingSchedulePage),((e,{selectedViewType:t})=>t),(0,v.Z)(),(0,y.Z)(),(0,i.P1)(p.Z,function(e,t=h){return(0,d.Z)(function(e,t){return(0,i.P1)(p.Z,m(),((n,r)=>r?r.reduce(((r,a)=>{const i=n[a];return i&&t(i)&&c().findWhere(i.features,{type:e})&&r.push(a),r}),[]):[]))}(e,t),(e=>e))}(b.Z.SUBSCRIBE),((e,t)=>{const n=t[0];if(n){const t=e[n];return t&&t.identifier}})),g.Z,((e,t,n,r,a,i)=>{const{isPagePopulated:s,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,m=!o&&!l||!c&&!d,p=!m&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:s,showSpinner:m,showEmptyState:p,programGuideIdentifier:a,time:u?u.time:void 0,selectedViewType:t||i.calendarViewType}}))}),ua)(ma)}}]);