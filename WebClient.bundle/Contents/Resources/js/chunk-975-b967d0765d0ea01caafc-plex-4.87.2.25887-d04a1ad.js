"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[975],{61975:(e,r,n)=>{n.r(r),n.d(r,{default:()=>B});var t=n(67294),a=n(82650),l=n(35387),s=n(61737),o=n(42674),i=n(28216),d=n(22222),c=n(88170),m=n(74278),v=n(62934),p=n(69664),u=n(58024),E=n(83329),Z=n(80974),N=n(92527),D=n(73788),g=n(29012),f=n(18222),w=n(85448),S=n(15770),y=n(25555),I=n(69281),O=n(63776),k=n(15867),b=n(5826),L=n(62291),P=n(63135),U=n(17516),x=n(55949),R=n(88140);function h(e,r){const n=r?r.split("\n"):[];return n.length>0?t.createElement(t.Fragment,null,t.createElement("div",{className:"ReleaseNotesModal-listTitle-SQlt8b"},e),t.createElement("ul",null,n.map(((e,r)=>t.createElement("li",{key:r},e))))):null}const C=function(e){const{version:r,added:n,fixed:a,isOpen:l,onClose:s}=e;return t.createElement(x.Z,{isOpen:l,metricsPage:L.Bc,onModalClose:s},t.createElement(R.Z,{onModalClose:s},t.createElement(U.Z,null,(0,D.Z)("{product} Release Notes",{product:"Plex Media Server"})),t.createElement(P.Z,null,t.createElement("div",{className:"ReleaseNotesModal-version-OtNvrC"},(0,D.Z)("Version {version}",{version:r})),h((0,D.Z)("New"),n),h((0,D.Z)("Fixes"),a))))},V=function({progress:e}){return t.createElement("div",{className:"ServerDownloadProgressBar-progress-eaqGoq"},t.createElement("div",{className:"ServerDownloadProgressBar-emptyBar-tqRFTg"}),t.createElement("div",{className:"ServerDownloadProgressBar-bar-LSLH7G",style:{transform:`translate3d(-${100-e}%, 0, 0)`}}))};var _=n(4027);const A="ServerUpdatePage-actionContainer-d6gTRB EmptyPageDescription-description-X4KZlh",T=(0,i.$j)((function(){return(0,d.P1)(v.Z,m.Z,(0,c.Z)(),((e,r,n)=>{const t=n.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:t.state,error:t.error,progress:t.progress,availableVersion:(0,p.Z)(t.version),currentVersion:(0,p.Z)(e.version),downloadURL:t.downloadURL||r.appsUrl,added:t.added,fixed:t.fixed}}))}),(function(e,r){const{serverEntityID:n}=r;return{onDismissServerUpdate(r){e((0,E.xx)({serverEntityID:n,version:r}))},onInstallServerUpdate(){e((0,E.wR)({serverEntityID:n}))},onDownloadServerUpdate(){e((0,E.Or)({serverEntityID:n}))},onRedirectToHome(){e((0,u.im)({route:"home"}))}}}))((function(e){const{serverEntityID:r,friendlyName:n,state:a,error:l,progress:s,availableVersion:o,currentVersion:i,downloadURL:d,added:c,fixed:m,onDismissServerUpdate:v,onInstallServerUpdate:p,onDownloadServerUpdate:u,onRedirectToHome:E}=e,L=a===N.NONE||a===N.DONE,P=(0,_.Z)(),U=(0,t.useCallback)((()=>{v(o)}),[o,v]);if((0,S.Z)((()=>{E()}),L),L)return null;if(a===N.INSTALLING)return t.createElement(b.Z,{serverEntityID:r});const x=(0,D.Z)("Update available for {product}",{product:"Plex Media Server"});let R=(0,D.Z)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:o,currentVersion:i,friendlyName:n});return a===N.NOTIFY&&(R=R+" "+(0,D.Z)("This update will need to be installed manually after download.")),a===N.ERROR?t.createElement(O.Z,{description:l||(0,D.Z)("Something went wrong, please try again later."),iconSrc:Z,title:x}):t.createElement(O.Z,{description:c||m?t.createElement(g.Z,{message:R+" "+(0,D.Z)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:w.Z,onPress:P.onOpen,kind:y._8}]}):R,iconSrc:Z,title:(0,D.Z)("Update available for {product}",{product:"Plex Media Server"})},a===N.AVAILABLE?t.createElement("div",{className:A},t.createElement(f.Z,{kind:y._8,size:I.ln,onPress:u},(0,D.Z)("Download now"))):null,a===N.DOWNLOADING?t.createElement("div",{className:A},t.createElement("div",null,(0,D.Z)("Downloading Update ({progress}%)",{progress:s})),isNaN(s)?null:t.createElement("div",{className:"ServerUpdatePage-progressContainer-xboAJ7"},t.createElement(V,{progress:s}))):null,a===N.DOWNLOADED?t.createElement("div",{className:A},t.createElement(f.Z,{kind:y._8,size:I.ln,onPress:p},(0,D.Z)("Install now"))):null,a===N.NOTIFY?t.createElement("div",{className:A},t.createElement(f.Z,{kind:y._8,size:I.ln,target:"_blank",to:d,onPress:U},(0,D.Z)("Download now"))):null,a!==N.DOWNLOADING&&a!==N.DOWNLOADED?t.createElement(k.Z,null,t.createElement(w.Z,{className:"ServerUpdatePage-link-OvaQUF",kind:y._8,size:I.HC,to:"#",onPress:U},(0,D.Z)("Skip this version"))):null,t.createElement(C,{added:c,fixed:m,isOpen:P.isOpen,version:o,onClose:P.onClose}))}));function B(){const{machineIdentifier:e}=(0,s.Z)(),r=(0,a.Z)(l.cN,e);return t.createElement(o.Z,{serverEntityID:r},t.createElement(T,{serverEntityID:r}))}}}]);