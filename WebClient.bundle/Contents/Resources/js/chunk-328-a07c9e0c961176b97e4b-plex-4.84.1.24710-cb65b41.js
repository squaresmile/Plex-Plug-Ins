"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[328],{85447:(e,t,r)=>{r.r(t),r.d(t,{default:()=>xn});var n=r(67294),s=r(62291),i=r(12587),o=r(72310),a=r(91085),l=r(28216),c=r(23681),d=r(35076),p=r(87442),u=r(20683),m=r(70777),y=r(78389),h=r(93644),v=r(44811),P=r(38002),E=r(42218),f=r(48579),I=r(12316),g=r(67855),Z=r(10977),D=r(80476),w=r(73788),b=r(4681),O=r(50439),S=r(83700),T=r(93545),A=r(15867),M=r(45697),L=r.n(M),k=r(90558);function x(e){const t=e["aria-label"],r=e.className,s=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};i["aria-hidden"]=!t,i.style=s,i.className=k.Z.plexIcon+(r?" "+r:"");const o=[n.createElement.apply(n,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([n.createElement.apply(n,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),n.createElement.apply(n,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),n.createElement.apply(n,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),n.createElement.apply(n,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),n.createElement.apply(n,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),n.createElement.apply(n,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",i].concat(o))}x.propTypes={"aria-label":L().string,className:L().string,style:L().object};const C=x;var j=r(62315);function N(e){const t=e["aria-label"],r=e.className,s=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};i["aria-hidden"]=!t,i.style=s,i.className=k.Z.plexIcon+(r?" "+r:"");const o=[n.createElement.apply(n,["g",void 0].concat([n.createElement.apply(n,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),n.createElement.apply(n,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",i].concat(o))}N.propTypes={"aria-label":L().string,className:L().string,style:L().object};const H=N,G="PlexAccountUpsellPageContent-panel-odlXDa",R="PlexAccountUpsellPageContent-panelIcon-BWl9px",z="PlexAccountUpsellPageContent-panelTitle-b4qHxx",K="PlexAccountUpsellPageContent-panelDescription-m5JOVh";function U(){return n.createElement(O.Z,{description:(0,w.Z)("Some benefits to a Plex account:"),title:(0,w.Z)("Sign up for a free account to continue")},n.createElement("div",{className:"PlexAccountUpsellPageContent-container-P2gjsS"},n.createElement("div",{className:G},n.createElement(C,{className:R}),n.createElement("div",{className:z},(0,w.Z)("One App, Any Device")),n.createElement("div",{className:K},(0,w.Z)("Pick up whatever you were watching exactly where you left off on any device"))),n.createElement("div",{className:G},n.createElement(j.Z,{className:R}),n.createElement("div",{className:z},(0,w.Z)("Save Your Favorites")),n.createElement("div",{className:K},(0,w.Z)("Add a TIDAL subscription to save your favorite music and playlists"))),n.createElement("div",{className:G},n.createElement(H,{className:R}),n.createElement("div",{className:z},(0,w.Z)("Parental Controls")),n.createElement("div",{className:K},(0,w.Z)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),n.createElement(A.Z,null,n.createElement(b.Z,{kind:S.Z.Primary,size:T.Z.Large,to:"#!/signUp"},(0,w.Z)("Sign Up"))))}var _=r(84503),F=r(71302),V=r(80105),Q=r(34219),B=r(71899),W=r(97017),q=r(29053),$=r(29028),Y=r(22222),X=r(79576);const J=(0,Y.P1)(X.Z,(e=>e.title));var ee=r(12360),te=r(78891),re=r(70513),ne=r(1522);var se=Object.defineProperty,ie=Object.defineProperties,oe=Object.getOwnPropertyDescriptors,ae=Object.getOwnPropertySymbols,le=Object.prototype.hasOwnProperty,ce=Object.prototype.propertyIsEnumerable,de=(e,t,r)=>t in e?se(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function pe({sourceURI:e,selectedPivot:t}){var r;const s=(0,l.I0)(),[,,o]=(0,v.c9)(),a=(0,l.v9)($.Z),c=null!=(r=null==a?void 0:a.Pivot)?r:null==o?void 0:o.pivots,d=(0,l.v9)(J),u=(0,l.v9)((0,Q.Z)("directoryListStyles")),m=(0,n.useMemo)((()=>(0,W.Z)(e)),[e]),y=(0,l.v9)(m),h=(0,n.useMemo)((()=>(0,q.Z)(e)),[e]),P=(0,l.v9)(h),E=(0,n.useCallback)((t=>{if(!e)return;const r=(n=((e,t)=>{for(var r in t||(t={}))le.call(t,r)&&de(e,r,t[r]);if(ae)for(var r of ae(t))ce.call(t,r)&&de(e,r,t[r]);return e})({},u),ie(n,oe({[e]:t})));var n;(0,p.c9)((()=>{s((0,_.LN)({directoryListStyles:r}))}))}),[s,u,e]);return n.createElement(ne.Z,{className:"DirectoryPageHeader-pageHeader-FgozlU PrimaryPageHeader-pageHeader-SBemrw PageHeader-pageHeader-e2k66t"},n.createElement(te.Z,null,n.createElement(V.Z,{overrideTitle:d})),c&&t?n.createElement(B.Z,{pivots:c,selectedPivot:t}):null,n.createElement(re.Z,null,n.createElement(F.Z,{listStyles:P,selectedListStyle:t&&!(0,ee.Z)(t)&&(f=t.key,f!==i.GG.SharedItems&&f!==i.GG.DiscoverFriends&&f!==i.GG.DiscoverProfile&&f!==i.GG.DiscoverActivity)?y:void 0,onListStyleSelect:E})));var f}var ue=r(37485),me=r(72324),ye=r(54562),he=r(87999),ve=r(94450),Pe=r(99912),Ee=r(61661),fe=r(37920),Ie=r(91306),ge=r(71667),Ze=r(35567),De=r(66380),we=r(91192),be=r(94173);function Oe(){const[e,t,r]=(0,v.c9)();return n.createElement(ne.Z,null,n.createElement(we.Z,{providerEntityID:t.entityID,serverEntityID:e.entityID,sourceDirectory:r}),n.createElement(De.Z,{directoryKey:ge.tk.GUIDE,providerEntityID:t.entityID,serverEntityID:e.entityID,sourceDirectory:r}),n.createElement(Ze.Z,null,n.createElement(be.Z,{providerEntityID:t.entityID,serverEntityID:e.entityID})))}var Se=r(74236),Te=r(5509),Ae=r(97257),Me=r(99140);function Le(){const e=(0,l.I0)(),[t,r]=(0,v.c9)(),i=(0,l.v9)(Te.Z),o=t.isCloud||(0,ve.Z)(t.version,ye.Z.gridPagination);return(0,n.useEffect)((()=>{o&&e(Se.ZP.actions.guideChannelsFetchRequested({sourceKeys:[{server:t,provider:r}]}))}),[t,r,e,o]),n.createElement(Pe.Z,{metricsContext:(0,Ee.Z)(s._e,he.DVR_GUIDE_PIVOT)},n.createElement(Ae.Z,{metricsPage:s._e,scrollDirection:fe.Hn},n.createElement(Oe,null),o?n.createElement(Me.Z,{channels:i}):n.createElement(Ie.Z,{description:(0,w.Z)("Please upgrade {server}. The guide requires Plex Media Server {version} or later.",{server:t.friendlyName,version:ye.Z.gridPagination}),title:(0,w.Z)("Guide Unavailable")})))}var ke=r(92205),xe=r(99346),Ce=r(16018),je=r(23569),Ne=r(42437),He=r(33265),Ge=r(53461),Re=r(62934),ze=r(235),Ke=r(36292),Ue=r(69752),_e=r(14308),Fe=r(62704),Ve=r(42985),Qe=r(23574),Be=r(30471),We=r(28185),qe=r(52338),$e=Object.defineProperty,Ye=Object.getOwnPropertySymbols,Xe=Object.prototype.hasOwnProperty,Je=Object.prototype.propertyIsEnumerable,et=(e,t,r)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const tt=function(e){const t=e,{serverEntityID:r,providerEntityID:s,pivot:i,sourceDirectory:o,directoryKey:a,showSecondHeader:l,children:c}=t,d=((e,t)=>{var r={};for(var n in e)Xe.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ye)for(var n of Ye(e))t.indexOf(n)<0&&Je.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return n.createElement(We.Z,((e,t)=>{for(var r in t||(t={}))Xe.call(t,r)&&et(e,r,t[r]);if(Ye)for(var r of Ye(t))Je.call(t,r)&&et(e,r,t[r]);return e})({className:qe.Z.page},d),n.createElement(ne.Z,null,n.createElement(we.Z,{providerEntityID:s,serverEntityID:r,sourceDirectory:o}),i?n.createElement(De.Z,{directoryKey:a,providerEntityID:s,serverEntityID:r,sourceDirectory:o}):null,n.createElement(Ze.Z,null)),l?n.createElement(Qe.Z,null):null,n.createElement(Be.Z,null,c))};var rt=r(58176),nt=r(10067),st=r(13469),it=r.n(st),ot=r(72351);function at({items:e,gap:t=0,existingItems:r=[]}){const n=it().sortBy(r,"position"),s=it().sortBy(e,"position");let i=-1/0;return s.forEach((e=>{const s=it().sortedIndex(r,e,"position"),o=r[s-1],a=r[s],l=e.position>i+t,c=!o||e.position>o.position+t,d=!a||e.position<a.position-t;l&&c&&d&&(n.push(e),i=e.position)})),it().sortBy(n,"position")}const lt="minor",ct="major",dt={container:"TickMarks-container-frZO0i",ticks:"TickMarks-ticks-qo5YPE",tick:"TickMarks-tick-A3yNkp",minor:"TickMarks-minor-ChSTCs TickMarks-tick-A3yNkp",major:"TickMarks-major-4a9f2K TickMarks-tick-A3yNkp",label:"TickMarks-label-PYLVQK"};function pt(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:s}=e,i=it().where(t,{type:ct}),o=it().where(t,{type:lt}),a=at({items:i,gap:r*n});return at({items:o,existingItems:a,gap:r*s})}class ut extends n.Component{constructor(e,t){super(e,t),this.state={ticks:pt(e)}}UNSAFE_componentWillReceiveProps(e){const{ticks:t,pixelProportion:r,majorTickGap:n,minorTickGap:s}=e,i=this.props.ticks!==t,o=this.props.pixelProportion!==r,a=this.props.majorTickGap!==n,l=this.props.minorTickGap!==s;(i||o||a||l)&&this.setState({ticks:pt(e)})}render(){return n.createElement("div",{className:dt.container},n.createElement("div",{className:dt.ticks},this.state.ticks.map((({type:e,position:t,label:r})=>n.createElement("div",{key:t,className:dt[e],style:{top:100*t+"%"}},r&&"major"===e?n.createElement("div",{className:dt.label},r):null)))))}}ut.defaultProps={majorTickGap:20,minorTickGap:5};const mt=ut;var yt=r(80737),ht=r(97797),vt=r(85209),Pt=r(67339),Et=r(27724),ft=r(67554),It=r(24793),gt=r(94184),Zt=r.n(gt),Dt=r(14782),wt=r(337),bt=r(81603),Ot=r(13823),St=r(83801),Tt=r(94329),At=r(47435);const Mt=function(e){const t=(0,At.Z)(e);return n.createElement("div",{style:t.style},e.children)};class Lt extends n.Component{constructor(e,t){super(e,t),this.onSelectPress=()=>{const{isSelected:e,items:t,onSelectItems:r,onDeselectItems:n}=this.props;e?n(t):r(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.aspectRatios!==this.props.aspectRatios,r=e.columns!==this.props.columns,n=e.viewportWidth!==this.props.viewportWidth,s=e.viewportHeight!==this.props.viewportHeight,i=e.serverEntityID!==this.props.serverEntityID,o=e.providerEntityID!==this.props.providerEntityID,a=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||r||s||n,c=i||o||a;if(l||c){const t={};l&&(t.layout=this._createLayout(e)),c&&(t.cellRenderer=this._createCellRenderer(e)),this.setState(t)}}_createLayout(e){const t=(0,St.Z)({aspectRatios:e.aspectRatios,columns:e.columns});return(0,Ot.Z)({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:s,listType:i}=e;return(0,Tt.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:s,listType:i},bt.Z)}render(){const{cellIndex:e,cellX:t,cellY:r,cellWidth:s,cellHeight:i,isVirtual:o,title:a,items:l,size:c,viewportHeight:d,scrollTop:p,isSelected:u,hasSelection:m}=this.props,{layout:y,cellRenderer:h}=this.state;return n.createElement(Mt,{cellHeight:i,cellIndex:e,cellWidth:s,cellX:t,cellY:r,isVirtual:o},n.createElement("div",{className:Zt()(m&&"MetadataMomentCell-hasSelection-pp54EB","MetadataMomentCell-header-oKQGsr")},n.createElement("div",{className:"MetadataMomentCell-actions-L_WAU3"},n.createElement(wt.Z,{className:"MetadataMomentCell-selectButton-sHo8jO SelectButton-selectButton-_goGWp",isSelected:u,title:a,onPress:this.onSelectPress})),n.createElement("div",{className:"MetadataMomentCell-title-spuo5n"},a)),n.createElement(Dt.Z,{cellRenderer:h,items:l,keyPropName:"metadataItemEntityID",layout:y,scrollTop:p-r,size:c,viewportHeight:d,viewportWidth:s}))}}Lt.defaultProps={headerHeight:0,footerHeight:0};const kt=Lt;function xt(){return(0,Y.P1)(((e,{start:t})=>t),((e,{end:t})=>t),(0,yt.Z)(),((e,t,r)=>{const{populatedRange:n,metadataItems:s}=r;return e<n.start||t>n.end?it().times(t-e,(()=>null)):s.slice(e-n.start,t-n.start)}))}function Ct(){return(0,Y.P1)(xt(),ht.Z,((e,t)=>e.map((e=>t[e]))))}const jt=(0,l.$j)((function(){return(0,Y.P1)((0,yt.Z)(),xt(),(0,Y.P1)(((e,{avgAR:t})=>t),Ct(),((e,t)=>t.map((t=>t?(0,Pt.Z)(t,e):e)))),(0,Y.P1)(Ct(),ft.Z,((e,t)=>e.every((e=>e&&(0,It.Z)(t,e.ratingKey))))),_e.Z,((e,t,r,n,s)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:r,items:t,isSelected:n,hasSelection:s.activeSelectionItems.length>0})))}),(function(e,t){return{onSelectItems(t){e((0,Et.Kn)({type:vt.PHOTO,ids:t}))},onDeselectItems(t){e((0,Et.XX)({ids:t}))}}}))(kt);var Nt=r(53635),Ht=r(38792),Gt=Object.defineProperty,Rt=Object.getOwnPropertySymbols,zt=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Ut=(e,t,r)=>t in e?Gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var _t=Object.defineProperty,Ft=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Bt=(e,t,r)=>t in e?_t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Wt extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=e.items!==this.props.items,r=e.columns!==this.props.columns;(t||r)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return function(e){const t=e,{columns:r=1,areas:n=[],innerPaddingTop:s=0,innerPaddingBottom:i=0}=t,o=((e,t)=>{var r={};for(var n in e)zt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Rt)for(var n of Rt(e))t.indexOf(n)<0&&Kt.call(e,n)&&(r[n]=e[n]);return r})(t,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return(0,Ht.Z)(((e,t)=>{for(var r in t||(t={}))zt.call(t,r)&&Ut(e,r,t[r]);if(Rt)for(var r of Rt(t))Kt.call(t,r)&&Ut(e,r,t[r]);return e})({getCellHeights:function(e){return n.map((t=>function(e,t){return Math.max(1,Math.round(e/r))*t+(s+i)}(t,e/r)))}},o))}({columns:e.columns,areas:e.items.map((e=>e.area)),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:s,headerHeight:i,footerHeight:o,cellComponent:a}=this.props;return n.createElement(Nt.Z,((e,t)=>{for(var r in t||(t={}))Vt.call(t,r)&&Bt(e,r,t[r]);if(Ft)for(var r of Ft(t))Qt.call(t,r)&&Bt(e,r,t[r]);return e})({cellRenderer:(0,Tt.Z)({serverEntityID:e,providerEntityID:t,metadataListEntityID:r,columns:s,headerHeight:i,footerHeight:o},a),layout:this.state.layout},this.props))}}const qt=Wt;var $t=Object.defineProperty,Yt=Object.getOwnPropertySymbols,Xt=Object.prototype.hasOwnProperty,Jt=Object.prototype.propertyIsEnumerable,er=(e,t,r)=>t in e?$t(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const tr={dispatchPopulateMetadataListRange:Et.vp,dispatchDeselectAllMetadataListItems:Et.m8,dispatchResetMetadataList:Et.wZ};class rr extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const{metadataListEntityID:r,disableReloadThreshold:n,items:s,dispatchPopulateMetadataListRange:i}=this.props;i({metadataListEntityID:r,disableReloadThreshold:n,startIndex:s[e].start,endIndex:s[t].end-1,pages:1})}}componentWillUnmount(){const{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){const e=this.props,{dispatchPopulateMetadataListRange:t,dispatchDeselectAllMetadataListItems:r,dispatchResetMetadataList:s}=e,i=((e,t)=>{var r={};for(var n in e)Xt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Yt)for(var n of Yt(e))t.indexOf(n)<0&&Jt.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return n.createElement(qt,((e,t)=>{for(var r in t||(t={}))Xt.call(t,r)&&er(e,r,t[r]);if(Yt)for(var r of Yt(t))Jt.call(t,r)&&er(e,r,t[r]);return e})({onPageRequest:this.onPageRequest},i))}}const nr=(0,l.$j)((function(){return(0,Y.P1)(_e.Z,(e=>({disableReloadThreshold:!!e.activeSelectionType})))}),tr)(rr);var sr=r(33593),ir=r(24107);const or=Math.max(0,parseInt(ir.Z.timelineGutter,10)-40);class ar extends n.Component{constructor(e,t){super(e,t),this.onListUpdate=e=>{const t=e.landmarks,r=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;const e=function(e,t){const r={},n={};return e.reduce(((e,{index:s,position:i})=>{const o=(0,sr.Z)(1e3*t[s],"yyyy MM"),a=o.slice(0,4);return r[a]?n[o]||(n[o]=!0,e.push({position:i,type:lt})):(r[a]=!0,n[o]=!0,e.push({position:i,type:ct,label:a})),e}),[])}(t,it().pluck(this.props.moments,"startsAt"));this.setState({ticks:e,listHeight:r})}},this.state={ticks:null,listHeight:null}}render(){const{serverEntityID:e,providerEntityID:t,metadataListEntityID:r,moments:s,columns:i,height:o,onMomentScrollIndexChange:a}=this.props,{ticks:l,listHeight:c}=this.state,d=1/o,p=c&&c>o;return s.length?n.createElement("div",{className:"TimelinePageContent-container-mvQDHr"},n.createElement(nr,{cellComponent:jt,className:"TimelinePageContent-stack-vNqxhP PageContent-pageContent-rk0p0C",columns:i,footerHeight:59,hasNestedList:!0,items:s,keyPropName:"id",listGutter:or,listPadding:55,metadataListEntityID:r,providerEntityID:t,scrollPositionStorageKey:"TimelinePageContent",scrollerClassName:"TimelinePageContent-scroller-Kg90e8",serverEntityID:e,size:s.length,onListScrollIndexChange:a,onListUpdate:this.onListUpdate}),n.createElement("div",{className:"TimelinePageContent-adornment-QvGJVk"},l&&p?n.createElement(mt,{pixelProportion:d,ticks:l}):null)):n.createElement(Be.Z,null,n.createElement(rt.Z,{iconComponent:ot.Z.photo,title:(0,w.Z)("There are no events in this library")}))}}const lr=ar;var cr=r(59258),dr=r(42313),pr=r(17282),ur=r(90792),mr=r(69139),yr=r(27649),hr=r(73701),vr=r(26759),Pr=r(36475),Er=r(32903),fr=r(13272);const Ir={showPlayAll:Zr,showShuffle:function({server:e,provider:t,stableUser:r,metadataList:n}){return Zr({server:e,provider:t,stableUser:r,metadataList:n})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:r,metadataList:n}){return Zr({server:e,provider:t,stableUser:r,metadataList:n})},showAddToPlaylist:function({server:e,provider:t,stableUser:r,metadataList:n}){return!(!e.isFullServer||!n.isFirstItemLibraryItem)},showOptimize:function({server:e,provider:t,stableUser:r,metadataList:n}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&n.isFirstItemLibraryItem)}},gr={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],track:["showPlayAll","showShuffle","showQueue","showAddToPlaylist"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist"],photo:["showPlayAll","showShuffle","showAddToPlaylist"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showOptimize"],genre:[]};function Zr({server:e,provider:t,stableUser:r,metadataList:n}){return(0,fr.Z)(e,t,r.features,n)}var Dr=r(44777),wr=r(8523),br=r(28201),Or=r(10125),Sr=r(98476),Tr=r(53942);class Ar extends n.Component{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){const e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return n.createElement("div",null,e.showPlayAll?n.createElement(Sr.Z,{onPress:this.createOnPress(e.onPlayAllPress)},(0,w.Z)("Play All")):null,e.showShuffle?n.createElement(Sr.Z,{onPress:this.createOnPress(e.onShufflePress)},(0,w.Z)("Shuffle")):null,e.showQueue?n.createElement(Sr.Z,{onPress:this.createOnPress(e.onPlayNextPress)},(0,w.Z)("Play Next")):null,e.showQueue?n.createElement(Sr.Z,{onPress:this.createOnPress(e.onAddToQueuePress)},(0,w.Z)("Add to Queue")):null,e.showAddToPlaylist?n.createElement(Sr.Z,{onPress:this.createOnPress(this.onAddToPlaylistPress)},(0,w.Z)("Add to Playlist...")):null,e.showOptimize?n.createElement(Sr.Z,{onPress:this.createOnPress(e.onOptimizePress)},(0,w.Z)("Optimize...")):null,e.showAddToPlaylist?n.createElement(Tr.Z,{isOpen:t,metadataListEntityID:e.metadataListEntityID,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,onModalClose:this.onAddToPlaylistClose}):null)}}const Mr=Ar;var Lr=Object.defineProperty,kr=Object.getOwnPropertySymbols,xr=Object.prototype.hasOwnProperty,Cr=Object.prototype.propertyIsEnumerable,jr=(e,t,r)=>t in e?Lr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Nr=function(e){const t=e,{target:r,isOpen:s}=t,i=((e,t)=>{var r={};for(var n in e)xr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&kr)for(var n of kr(e))t.indexOf(n)<0&&Cr.call(e,n)&&(r[n]=e[n]);return r})(t,["target","isOpen"]);return n.createElement(Or.Z,{isOpen:e.isOpen,target:e.target,onMenuClose:e.onMenuClose},n.createElement(Mr,((e,t)=>{for(var r in t||(t={}))xr.call(t,r)&&jr(e,r,t[r]);if(kr)for(var r of kr(t))Cr.call(t,r)&&jr(e,r,t[r]);return e})({},i)))};var Hr=r(9375),Gr=r(96099),Rr=r(96865),zr=r(75126),Kr=r(14665),Ur=r(10904),_r=Object.defineProperty,Fr=Object.defineProperties,Vr=Object.getOwnPropertyDescriptors,Qr=Object.getOwnPropertySymbols,Br=Object.prototype.hasOwnProperty,Wr=Object.prototype.propertyIsEnumerable,qr=(e,t,r)=>t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class $r extends n.Component{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=(0,br.Z)()}componentDidMount(){wr.Z.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){wr.Z.off("shortcut:playSelected",this.onPlayShortcut)}render(){const{className:e,serverEntityID:t,providerEntityID:r,metadataListEntityID:s,customFilterRoute:i,showPlayAll:o,showPlayAllOverflow:a,showShuffle:l,showShuffleOverflow:c,showAddToPlaylist:d,showAddToPlaylistOverflow:p,showAddToSmartPlaylist:u,showOverflow:m,onPlayAllPress:y,onShufflePress:h}=this.props,{isActionsMenuOpen:v,isAddToPlaylistModalOpen:P,isSmartPlaylist:E}=this.state;return n.createElement("div",{className:e},o?n.createElement(Kr.Z,{playLabel:(0,w.Z)("Play All"),onPress:y}):null,l?n.createElement(Ur.Z,{onPress:h}):null,d?n.createElement(Rr.Z,{customFilterRoute:i,metadataListEntityID:s,providerEntityID:r,serverEntityID:t,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,m?n.createElement(zr.Z,{iconComponent:Gr.Z,id:this._moreButtonID,isMenuOpen:v,label:(0,w.Z)("More..."),onPress:this.onActionsPress}):null,n.createElement(Nr,(f=((e,t)=>{for(var r in t||(t={}))Br.call(t,r)&&qr(e,r,t[r]);if(Qr)for(var r of Qr(t))Wr.call(t,r)&&qr(e,r,t[r]);return e})({},this.props),I={isOpen:v,showAddToPlaylist:p,showPlayAll:a,showShuffle:c,target:this._moreButtonID,onMenuClose:this.onActionsMenuClose},Fr(f,Vr(I)))),d?n.createElement(Tr.Z,{isOpen:P,metadataListEntityID:s,providerEntityID:r,serverEntityID:t,smart:E,onModalClose:this.onAddToPlaylistClose}):null);var f,I}}const Yr=(0,Hr.ZP)($r,["showPlayAll","showShuffle","showAddToPlaylist"],["showOptimize","showQueue"]);var Xr=Object.defineProperty,Jr=Object.defineProperties,en=Object.getOwnPropertyDescriptors,tn=Object.getOwnPropertySymbols,rn=Object.prototype.hasOwnProperty,nn=Object.prototype.propertyIsEnumerable,sn=(e,t,r)=>t in e?Xr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,on=(e,t)=>{for(var r in t||(t={}))rn.call(t,r)&&sn(e,r,t[r]);if(tn)for(var r of tn(t))nn.call(t,r)&&sn(e,r,t[r]);return e},an=(e,t)=>Jr(e,en(t));const ln=(0,Pr.Z)((function(){return(0,Y.P1)(((e,{listType:t})=>t),Re.Z,hr.Z,vr.Z,(0,yt.Z)(),((e,t,r,n,s)=>function({server:e,provider:t,stableUser:r,metadataList:n,listType:s}){const i=s||n.firstItemType||"mixed",o=gr[i];return o?o.reduce(((s,o)=>{const a=Ir[o];return(0,Er.Z)(it().isFunction(a),`getMetadataListActionProps: Invalid action, ${o}, for ${i}`),s[o]=!!(e&&t&&n)&&a({server:e,provider:t,stableUser:r,metadataList:n}),s}),{}):{}}({server:t,provider:r,stableUser:n,metadataList:s,listType:e})))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||he.LIST}};return{onPlayAllPress(){e(yr.wA(r))},onShufflePress(){e(yr.Em(r))},onPlayNextPress(){e(yr.tP(an(on({},r),{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(yr.tP(an(on({},r),{options:{playAll:!0,next:!1}})))},onOptimizePress(){e(Et.$5(r))}}}),Dr.Z)(Yr);var cn=r(4913);const dn=(0,l.$j)((function(){return(0,Y.P1)((0,yt.Z)(),(e=>({totalSize:e.totalSize,listType:cr.pV,listStyle:cn.MOSAIC,allListStyles:[cn.MOSAIC]})))}))((function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:s,sourceDirectory:i,title:o,totalSize:a,listType:l,listStyle:c,allListStyles:d}=e;return n.createElement(n.Fragment,null,n.createElement(ne.Z,null,n.createElement(we.Z,{providerEntityID:r,serverEntityID:t,sourceDirectory:i}),n.createElement(De.Z,{directoryKey:ge.tk.TIMELINE,providerEntityID:r,serverEntityID:t,sourceDirectory:i}),n.createElement(Ze.Z,null,n.createElement(mr.Z,{allListStyles:d,selectedListStyle:c}))),n.createElement(Qe.Z,null,n.createElement(te.Z,null,n.createElement(pr.Z,null,o),n.createElement(dr.Z,null,a)),n.createElement(ur.Z,null,n.createElement(ln,{listType:l,metadataListEntityID:s,providerEntityID:r,serverEntityID:t}))))}));var pn=r(55127);var un=Object.defineProperty,mn=Object.defineProperties,yn=Object.getOwnPropertyDescriptors,hn=Object.getOwnPropertySymbols,vn=Object.prototype.hasOwnProperty,Pn=Object.prototype.propertyIsEnumerable,En=(e,t,r)=>t in e?un(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fn=(e,t)=>{for(var r in t||(t={}))vn.call(t,r)&&En(e,r,t[r]);if(hn)for(var r of hn(t))Pn.call(t,r)&&En(e,r,t[r]);return e};class In extends n.Component{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentWillUnmount(){this.props.onCloseTimelinePage()}render(){const{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:r,metadataListEntityID:i,sourceDirectory:o,pivot:a,isMomentListPending:l,isMomentListPopulated:c,moments:d,activeSelectionType:p,columnAdjustment:u}=this.props,{isMeasured:m,width:y,height:h,currentMomentTitle:v}=this.state,P=200-100*u,E=12+u,f=Math.min(Math.ceil(y/P),E);if(c)return n.createElement(Ae.Z,{metricsPage:s.WJ,metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:cn.MOSAIC},scrollDirection:fe.Hn},p?n.createElement(pn.Z,{providerEntityID:t,serverEntityID:e}):n.createElement(dn,{metadataListEntityID:i,providerEntityID:t,serverEntityID:e,sourceDirectory:o,title:v}),n.createElement(Fe.Z,{className:"TimelinePage-measured-KwtybV",ignorePosition:!0,onMeasure:this.onMeasure},m?n.createElement(lr,{columns:f,height:h,metadataListEntityID:i,moments:d,providerEntityID:t,serverEntityID:e,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));const I={serverEntityID:e,providerEntityID:t,sourceDirectory:o,pivot:a,directoryKey:ge.tk.TIMELINE,scrollDirection:fe.Hn};if(l)return n.createElement(tt,(g=fn({},I),mn(g,yn({showSecondHeader:!0}))),n.createElement(rt.Z,null,n.createElement(Ve.Z,null)));var g;const Z={title:(0,w.Z)("There was an error loading the timeline for this library")};return n.createElement(tt,fn({},I),n.createElement(nt.Z,fn({},Z)))}}const gn=In,Zn=(0,Y.P1)((e=>e.ui.timelinePage.momentList),(e=>{if(!e)return[];let t=0;return e.moments.map((e=>{const r=t;t+=e.size;const{id:n,title:s,size:i,avgAR:o,startsAt:a}=e,l=e.size*(e.avgAR||1);return{start:r,end:t,area:l,id:n,title:s,size:i,avgAR:o,startsAt:a}}))})),Dn=(0,Ke.Z)(gn,(function(e){const t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(Ue.h8({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Ue.Ql())})),wn=(0,l.$j)((function(){return(0,Y.P1)(((e,{libraryKey:t})=>t),(e=>e.ui.timelinePage),Zn,Re.Z,(0,Ge.Z)(),(0,Ne.Z)(),(0,Y.P1)(((e,{directoryKey:t})=>t),(0,Ne.Z)(),((e,t)=>(0,He.Z)(t,e))),_e.Z,ze.Z,((e,t,r,n,s,i,o,a,l)=>{const{containerKey:c,isMomentListPending:d,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerMetricsIdentifier:s.metricsIdentifier,sourceDirectory:i,pivot:o,moments:r,isMomentListPending:d,isMomentListPopulated:p,containerKey:c,momentKey:u.Z.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:a.activeSelectionType,disableReloadThreshold:!!a.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:n.version}}))}),(function(e){return{onCloseTimelinePage(){e(Ue.qd({}))}}}))(Dn);function bn({pivotType:e,directorySourceURI:t,directoryKey:r,selectedPivot:s}){const[o,d,p]=(0,v.c9)(),E=(0,P.Z)(),f=(0,l.v9)(c.Z);if(function(e,t){return e===m.sy&&t}(null==s?void 0:s.requires,f))return n.createElement(U,null);switch(e){case i.F6.Hub:return n.createElement(a.ZP,{name:null==s?void 0:s.context},n.createElement(Z.Z,{sourceURI:t}));case i.F6.List:return n.createElement(a.ZP,{name:null==s?void 0:s.context},n.createElement(D.Z,{directoryKey:r,directorySourceURI:t,selectedPivot:s}));case i.F6.View:switch(null==s?void 0:s.key){case i.GG.SharedItems:return n.createElement(a.ZP,{name:null==s?void 0:s.context},n.createElement(D.Z,{directoryKey:r,directorySourceURI:t,listStyle:y.n.SharedItems,selectedPivot:s}));case i.GG.Guide:return n.createElement(Le,null);case i.GG.RecordingSchedule:return n.createElement(je.Z,{providerEntityID:d.entityID,selectedViewType:E.view,serverEntityID:o.entityID,sourceDirectoryID:null==p?void 0:p.id});case i.GG.Timeline:{const e=(0,h.Z)(d,i.zW.Content);return n.createElement(wn,{directoryKey:i.GG.Timeline,libraryKey:u.Z.join([null==e?void 0:e.key,null==p?void 0:p.id,"cluster"],{clusterZoomLevel:1}),providerEntityID:d.entityID,serverEntityID:o.entityID,sourceDirectoryID:null==p?void 0:p.id})}case i.GG.DiscoverProfile:return n.createElement(xe.Z,{showHeader:!1});case i.GG.DiscoverFriends:return n.createElement(ke.Z,{showHeader:!1});case i.GG.DiscoverActivity:return n.createElement(g.Z,null)}}return n.createElement(Ce.Z,null)}function On(e){switch(null==e?void 0:e.key){case i.GG.SharedItems:return"/library/shared/all";default:return null==e?void 0:e.key}}const Sn=[i.GG.Guide,i.GG.RecordingSchedule,i.GG.Timeline];function Tn({className:e,directoryKey:t,pageType:r,machineIdentifier:s,providerIdentifier:o,contentDirectoryID:a,pivotID:c}){const u=(0,l.I0)(),m=(0,me.Z)({machineIdentifier:s,providerIdentifier:o,contentDirectoryID:a,pageType:r,pivotID:c}),y=m?m.type:null!=r?r:i.F6.List,h=On(m),P=function(e,t){switch(null==e?void 0:e.key){case i.GG.SharedItems:return null!=t?t:On(e);default:return t}}(m,t),g=null!=h?h:t,Z=g?(0,d.Z)({serverIdentifier:s,providerIdentifier:o,key:g}):void 0;return(0,n.useEffect)((()=>()=>{(0,p.c9)((()=>{u(ue.Z.actions.resetMeta())}))}),[u]),Z?n.createElement(v.ZP,{contentDirectoryID:a,machineIdentifier:s,providerIdentifier:o},n.createElement(E.Z,{className:e,scrollDirection:I.I.None},m&&y===i.F6.View&&Sn.includes(m.key)?null:n.createElement(pe,{selectedPivot:m,sourceURI:Z}),n.createElement(bn,{directoryKey:P,directorySourceURI:Z,pivotType:y,selectedPivot:m}))):n.createElement(E.Z,{className:e},n.createElement(f.Z,null))}var An=r(61737),Mn=r(90144),Ln=r(79115),kn=r(8292);function xn(){const e=(0,o.Z)(),t=e.key?(0,Ln.Z)(e.key):void 0,{machineIdentifier:r,providerIdentifier:l}=(0,An.Z)(),c=e.pageType?(0,Ln.Z)(e.pageType):void 0,d=(0,Mn.su)(i.F6).find((e=>e===c));return n.createElement(a.ZP,{metricsContextParam:(0,Ln.Z)(e.context),metricsPage:s.Y3},n.createElement(kn.Z,{machineIdentifier:r,providerIdentifier:l},t||(0,Ln.Z)(e.source)?n.createElement(Tn,{contentDirectoryID:(0,Ln.Z)(e.source),directoryKey:t,machineIdentifier:r,pageType:d,pivotID:(0,Ln.Z)(e.pivot),providerIdentifier:l}):n.createElement(Ce.Z,null)))}}}]);