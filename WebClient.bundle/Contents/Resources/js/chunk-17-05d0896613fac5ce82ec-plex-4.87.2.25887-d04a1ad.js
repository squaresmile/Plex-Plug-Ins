"use strict";(self.webpackChunkplex_web_client=self.webpackChunkplex_web_client||[]).push([[17],{38245:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(73788),a=r(54834);function i(e,t){switch(e){case a.pX:return 1===t?(0,n.Z)("1 Video"):(0,n.Z)("{count} Videos",{count:t});case a.j0:return 1===t?(0,n.Z)("1 Track"):(0,n.Z)("{count} Tracks",{count:t});default:return 1===t?(0,n.Z)("1 Item"):(0,n.Z)("{count} Items",{count:t})}}},32701:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(73788),a=r(85209);function i(e,t){switch(e){case a.SEASON:return(0,n.Z)("Seasons");case a.EPISODE:return 1===t?(0,n.Z)("1 Episode"):(0,n.Z)("{episodeCount} Episodes",{episodeCount:t});case a.ALBUM:return 1===t?(0,n.Z)("1 Album"):(0,n.Z)("{albumCount} Albums",{albumCount:t});case a.TRACK:return 1===t?(0,n.Z)("1 Track"):(0,n.Z)("{trackCount} Tracks",{trackCount:t});default:return 1===t?(0,n.Z)("1 Item"):(0,n.Z)("{trackCount} Items",{trackCount:t})}}},24930:(e,t,r)=>{r.d(t,{Z:()=>o});var n=r(22222),a=r(49510);function i(e,t){const{playQueueItems:r,currentIndex:n}=e,a=t[r[n]];return a&&a.metadataItem}function o(){return(0,n.P1)((({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue),(({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue),((e,{metadataItemEntityID:t})=>t),a.Z,((e,t,r,n)=>{if(!r)return!1;let a,o;return e&&(a=i(e,n)),t&&(o=i(t,n)),a===r||o===r}))}},9017:(e,t,r)=>{r.d(t,{Z:()=>Ss});var n=r(67294),a=r(62291),i=r(73788),o=r(85448),s=r(25555),l=r(37920),c=r(42985),d=r(97257),p=r(63776),m=r(62365),y=r(56791),u=r(62704),I=r(20533),h=r(30471),E=r(22222),v=r(20683),P=r(86555),f=r(80737),D=r(35877),g=r(73701),b=r(26759),w=r(89896),O=r(36475),Z=r(36292),C=r(17633),S=r(39263),T=r(37334),M=r(44006),x=r(86622),j=r(235);const R=(0,E.P1)(j.Z,(e=>e.listStyles)),A=(0,E.P1)(j.Z,(e=>e.playThemeMusic)),N=(0,E.P1)(j.Z,(e=>e.showPrePlayArtwork));var L=r(85209);function k(){return(0,E.P1)((0,P.Z)(),((e={})=>{const{type:t,subtype:r,skipChildren:n}=e;if(t===L.COLLECTION)return r;const a=n?L.getLeafType(t):L.getChildType(t);return a&&a.typeString}))}var K=r(45697),B=r.n(K),H=r(15598),W=Object.defineProperty,U=Object.defineProperties,F=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,z=Object.prototype.propertyIsEnumerable,Q=(e,t,r)=>t in e?W(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;function Y(e,{metricsPage:t}){return n.createElement(H.Z,(r=((e,t)=>{for(var r in t||(t={}))V.call(t,r)&&Q(e,r,t[r]);if(_)for(var r of _(t))z.call(t,r)&&Q(e,r,t[r]);return e})({},e),U(r,F({page:t}))));var r}Y.contextTypes={metricsPage:B().string.isRequired};const X=Y;var G=r(46034);const q=function(){return n.createElement(G.Z,{description:(0,i.Z)("This item may have been deleted recently"),title:(0,i.Z)("Nothing is here")},n.createElement(o.Z,{kind:s._8,to:"#"},(0,i.Z)("Go Home")))},J=function(){return n.createElement(G.Z,{description:(0,i.Z)("This item does not have its own page"),title:(0,i.Z)("Not found")},n.createElement(o.Z,{kind:s._8,to:"#"},(0,i.Z)("Go Home")))};var $=r(90684),ee=r(82486),te=r(75255);function re({className:e,children:t}){return n.createElement("div",{className:e},t)}re.defaultProps={className:"PrePlayMetadataListInnerContent-innerContent-_jBi7V"};const ne=re;var ae=r(10862),ie=r(32701),oe=r(69760),se=r(50194),le=r(59258);const ce="PrePlayList-emptyMessage-wiASnH PrePlayList-emptyContainer-Qb6re6",de=function(e){const{listType:t,isPopulated:r,isPending:a,error:o,size:s,children:l}=e;return r&&s?n.createElement("div",{className:"PrePlayList-container-hnrUfn HubCell-hubCell-bbBxQT","data-testid":"preplayContainer--"+[t]},l):a?n.createElement("div",{className:"PrePlayList-emptyContainer-Qb6re6"},n.createElement(c.Z,null)):o?n.createElement("div",{className:ce},function(e){switch(e){case le.xx:return(0,i.Z)("Unable to load seasons");case le.uG:return(0,i.Z)("Unable to load episodes");case le.c5:return(0,i.Z)("Unable to load albums");case le.IK:return(0,i.Z)("Unable to load tracks");case le.pV:return(0,i.Z)("Unable to load photos");default:return(0,i.Z)("Unable to load items")}}(t)):n.createElement("div",{className:ce},function(e){switch(e){case le.xx:return(0,i.Z)("No seasons");case le.uG:return(0,i.Z)("No episodes");case le.c5:return(0,i.Z)("No albums");case le.IK:return(0,i.Z)("No tracks");case le.pV:return(0,i.Z)("No photos");default:return(0,i.Z)("No items")}}(t))};var pe=r(4913);const me=function(){return n.createElement(ee.Z,{className:"PrePlayListBottomDivider-bottomDivider-ttd0Gl PrePlayDivider-divider-eQSBkm"})};class ye extends n.Component{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}UNSAFE_componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){const{children:e,scrollTop:t}=this.props,{listOffsetTop:r}=this.state,a=n.Children.only(e);return n.createElement("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=r?n.cloneElement(a,{scrollTop:t-r}):null)}}const ue=ye,Ie=function(){return n.createElement(ee.Z,{className:"PrePlayListTopDivider-topDivider-_V3fzY PrePlayDivider-divider-eQSBkm"})};var he=r(28216),Ee=r(97797),ve=r(67339),Pe=r(81603),fe=r(94329),De=r(14782),ge=r(13823),be=r(83801),we=Object.defineProperty,Oe=Object.getOwnPropertySymbols,Ze=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable,Se=(e,t,r)=>t in e?we(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class Te extends n.Component{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}UNSAFE_componentWillReceiveProps(e){const t=this.props.aspectRatios!==e.aspectRatios,r=this.props.viewportWidth!==e.viewportWidth,n=this.props.columnAdjustment!==e.columnAdjustment;(t||r||n)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){const{viewportWidth:t,columnAdjustment:r,aspectRatios:n}=e,a=Math.ceil(t/400),i=Math.max(1,a+r),o=(0,be.Z)({aspectRatios:n,columns:i});return(0,ge.Z)({columns:i,rows:o})}render(){if(!this.state)return null;const e=this.props,{cellRenderer:t}=e,r=((e,t)=>{var r={};for(var n in e)Ze.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Oe)for(var n of Oe(e))t.indexOf(n)<0&&Ce.call(e,n)&&(r[n]=e[n]);return r})(e,["cellRenderer"]),{layout:a}=this.state;return n.createElement(De.Z,((e,t)=>{for(var r in t||(t={}))Ze.call(t,r)&&Se(e,r,t[r]);if(Oe)for(var r of Oe(t))Ce.call(t,r)&&Se(e,r,t[r]);return e})({cellRenderer:t,layout:a},r))}}Te.defaultProps={columnAdjustment:0};const Me=Te,xe=(0,he.$j)((function(){return(0,E.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),((e,{metadataListEntityID:t})=>t),((e,{containerKey:t})=>t),((e,{listType:t})=>t),Ee.Z,((e=[],t,r,n,a,i,o)=>({listType:i,cellRenderer:(0,fe.Z)({serverEntityID:t,providerEntityID:r,metadataListEntityID:n,containerKey:a,listType:i},Pe.Z),aspectRatios:e.map((e=>(0,ve.Z)(o[e])))})))}))(Me);var je=r(64520),Re=r(69772),Ae=r(81346),Ne=r(14090),Le=r(99027),ke=r(24107),Ke=r(26265),Be=Object.defineProperty,He=Object.defineProperties,We=Object.getOwnPropertyDescriptors,Ue=Object.getOwnPropertySymbols,Fe=Object.prototype.hasOwnProperty,_e=Object.prototype.propertyIsEnumerable,Ve=(e,t,r)=>t in e?Be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ze=(e,t)=>{for(var r in t||(t={}))Fe.call(t,r)&&Ve(e,r,t[r]);if(Ue)for(var r of Ue(t))_e.call(t,r)&&Ve(e,r,t[r]);return e},Qe=(e,t)=>He(e,We(t));const Ye=parseInt(ke.Z.prePlayContentPadding,10),Xe={},Ge={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function qe(e,t,r=0,n=0){const a=e+t+r+n;if(Xe.hasOwnProperty(a))return Xe[a];const i=(0,Le.n3)(e,t),{titleHeight:o,minCellWidth:s,preferredCellWidth:l,minColumns:c,maxColumns:d}=(0,Ke.Z)({type:e,aspectRatio:i,titleCount:n,context:t}),p=function(e){return e===C.sD?Qe(ze({},Ge),{outerPaddingTop:10,outerPaddingRight:Ye,outerPaddingBottom:5,outerPaddingLeft:Ye}):Ge}(t),m=(0,Re.ZP)(Qe(ze({direction:Re.yZ},p),{getCellWidth:e=>(0,Ne.Z)(Qe(ze({},e),{preferredCellWidth:l,minCellWidth:s,minColumns:c,maxColumns:d,columnAdjustment:r,aspectRatio:i})),getCellHeight:e=>(0,Ae.Z)(Qe(ze({},e),{aspectRatio:i,titleHeight:o}))}));return m.cellOptions={minCellWidth:s,minColumns:c,maxColumns:d,columnAdjustment:r,aspectRatio:i,titleHeight:o},Xe[a]=m,m}var Je=r(22499),$e=Object.defineProperty,et=Object.getOwnPropertySymbols,tt=Object.prototype.hasOwnProperty,rt=Object.prototype.propertyIsEnumerable,nt=(e,t,r)=>t in e?$e(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const at=function(e){const t=e,{serverEntityID:r,providerEntityID:a,metadataListEntityID:i,containerKey:o,listType:s,listSubtype:l,listContext:c,columnAdjustment:d}=t,p=((e,t)=>{var r={};for(var n in e)tt.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&et)for(var n of et(e))t.indexOf(n)<0&&rt.call(e,n)&&(r[n]=e[n]);return r})(t,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),m=(0,Je.Z)(s,c,{providerEntityID:a});return n.createElement(De.Z,((e,t)=>{for(var r in t||(t={}))tt.call(t,r)&&nt(e,r,t[r]);if(et)for(var r of et(t))rt.call(t,r)&&nt(e,r,t[r]);return e})({cellRenderer:(0,fe.Z)({serverEntityID:r,providerEntityID:a,metadataListEntityID:i,containerKey:o,listType:s,listContext:c,titleComponents:m},je.Z),layout:qe(s,c,d,m.length)},p))},it=function(e){const{serverEntityID:t,providerEntityID:r,metadataListEntityID:a,metadataItemEntityIDs:s,containerKey:l,listType:c,listStyle:d,populatedRange:p,isPopulated:m,isPending:y,error:u,listTitle:I,titleButtonTitle:h,titleButtonRoute:E,totalSize:v,previewSize:P,viewportWidth:f,viewportHeight:D,contentHeight:g,scrollTop:b,columnAdjustment:w,onPageRequest:O}=e,Z=v||s.length,S=null!=P&&Z>P?P:Z,T=null!=P&&Z>P,M=function(e){switch(e){case pe.MOSAIC:return xe;default:return at}}(d),x=I||(0,ie.Z)(c,Z),j=d===pe.TABLE||d===pe.SUMMARY||d===pe.SIMPLE_SUMMARY||d===pe.EPG_EPISODE;return n.createElement(de,{error:u,isPending:y,isPopulated:m,listType:c,size:S},x?n.createElement(oe.Z,{className:"PrePlayDescendantList-descendantHubCellHeader-Zo3KFf HubCellHeader-hubCellHeader-QcXKFB"},n.createElement(se.Z,null,x),T||null!=h?n.createElement(o.Z,{className:"PrePlayDescendantList-titleButton-ya_JWU",to:E},h||(0,i.Z)("See all")):null):null,j?n.createElement(Ie,null):null,n.createElement(ue,{contentHeight:g,scrollTop:b},n.createElement(M,{columnAdjustment:w,containerKey:l,items:s,itemsOffset:p.start,keyPropName:"metadataItemEntityID",listContext:C.sD,listType:c,metadataListEntityID:a,providerEntityID:r,serverEntityID:t,size:S,viewportHeight:D,viewportWidth:f,onPageRequest:O})),j?n.createElement(me,null):null)};var ot=r(89409),st=r(52255),lt=r(32646);class ct extends n.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a,title:i,summary:o,art:s,listType:l,listStyle:c,pageHeight:d,scrollTop:p}=this.props,{isContentMeasured:m,contentWidth:y,contentHeight:I}=this.state,h=!(!m||!a);return n.createElement(u.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},n.createElement(te.Z,null,n.createElement(st.Z,null,n.createElement(ot.Z,null,i),n.createElement(lt.Z,{metadataItemEntityID:r,providerEntityID:t,serverEntityID:e}))),n.createElement(ee.Z,null),o?n.createElement(te.Z,null,n.createElement(ae.Z,null,o)):null,n.createElement(ne,null,h?n.createElement($.Z,{component:it,contentHeight:I,initialSize:1e3,listStyle:c,listType:l,metadataListEntityID:a,providerEntityID:t,scrollTop:p,serverEntityID:e,showArtwork:!!s,viewportHeight:d,viewportWidth:y}):null))}}const dt=ct;var pt=r(54834),mt=r(74084);function yt({className:e,children:t}){return n.createElement("div",{className:e},t)}yt.defaultProps={className:"PrePlayMetadataContent-content-I6Wou6"};const ut=yt;var It=r(98463);const ht=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,metadataKey:i,type:o,subtype:s,posterWidth:l,posterHeight:c,posterUrl:d,showLinkOnly:p}=e;return n.createElement(It.Z,{cardFaceClassName:"PrePlayPosterCard-face-Ozj6aJ MetadataPosterCardFace-face-FcNn6A MetadataPosterCardFace-poster-MwJE1t",imageHeight:c,imageUrl:d,imageWidth:l,metadataItemEntityID:a,metadataKey:i,providerEntityID:r,serverEntityID:t,showEdit:!1,showLink:!1,showLinkOnly:p,showMore:!1,showSelect:!1,subtype:s,type:o})};function Et(e){const{children:t,serverEntityID:r,providerEntityID:a,metadataItemEntityID:i,columnAdjustment:o,showPoster:s,posterType:l,metadataKey:c,type:d,subtype:p,thumb:m,pageWidth:y}=e,u=(0,mt.Z)(y,o),I=(0,Le.Cr)(u,l||d,C.sD);return n.createElement("div",{className:"PrePlayDetailsContainer-container-XjCAJy"},s?n.createElement(ht,{metadataItemEntityID:i,metadataKey:c,posterHeight:I,posterType:l,posterUrl:m,posterWidth:u,providerEntityID:a,serverEntityID:r,subtype:p,type:d}):null,s?n.createElement(ut,null,t):n.createElement("div",null,t))}Et.defaultProps={showPoster:!0};const vt=Et;var Pt=r(18622),ft=r(74226),Dt=r(93888),gt=r(89843),bt=r(78394),wt=r(39041),Ot=r(38245),Zt=r(87442),Ct=r(96859);const St=parseInt(ke.Z.playQueueItemHeight,10),Tt=(0,Ct.Z)(St);var Mt=r(993),xt=r(31489),jt=r(54139),Rt=r(22310),At=r(53623);const Nt=(0,E.P1)(At.Z,(e=>e.playlistItems));function Lt(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),Nt,((e,t)=>t[e]))}function kt(){return(0,E.P1)(Lt(),Ee.Z,(({metadataItem:e},t)=>t[e]))}var Kt=r(67554),Bt=r(14308),Ht=r(91479),Wt=r(24793),Ut=r(94184),Ft=r.n(Ut),_t=r(84520),Vt=r(337),zt=r(27330),Qt=r(51861),Yt=r(55550),Xt=r(8238),Gt=r(27649),qt=r(28629),Jt=r(24930),$t=r(57635),er=r(57702),tr=r(64800),rr=r(27305),nr=r(9913),ar=r(59917),ir=r(67699),or=r(88638),sr=r(49744),lr=r(40621),cr=r(56572);const dr=function({className:e,index:t}){return null==t?null:n.createElement("span",{className:e},t)};var pr=r(66281);const mr=function({className:e,duration:t,isPreview:r}){return r?n.createElement("span",{className:e},(0,i.Z)("Preview")):t?n.createElement("span",{className:e},(0,pr.Z)(t)):null};function yr(e){const{className:t,indexContainerClassName:r,titlesContainerClassName:a,sourceTextClassName:i,durationContainerClassName:o,attributionContainerClassName:s,serverEntityID:l,providerEntityID:c,metadataItemEntityID:d,cellIndex:p,type:m,subtype:y,title:u,duration:I,context:h,imageWidth:E,imageHeight:v,imageUrl:P,isPlaying:f,isPlayerPaused:D,hasOfflineFile:g,hasOwnSubscription:b,showAvailableOffline:w,source:O,ratingKey:Z,onPlayPress:C}=e,S=(0,Je.Z)(m,h,{providerEntityID:c,subtype:y});return n.createElement("div",{className:t},n.createElement("div",{className:r},f?null:n.createElement(dr,{className:"PlaylistItemMetadata-transientTitleLeft-P7GLmJ PlaylistItemMetadata-transientTitle-k2XBCx",index:p+1}),f?null:n.createElement(nr.Z,{className:"PlaylistItemMetadata-playButton-FqvsFX PlayButton-playButton-vS1WII PlaylistItemMetadata-button-lwmMOe",title:u,onPress:C}),f?n.createElement(ir.Z,{className:"PlaylistItemMetadata-equalizer-xbOf3_ EqualizerIcon-equalizer-pR4fbU",isPaused:D}):null),n.createElement("div",{className:"PlaylistItemMetadata-cardContainer-lvyC5k"},n.createElement(or.Z,{key:d,className:"PlaylistItemMetadata-card-U0DWA7 MetadataPosterButtonCard-card-TT2yq7",component:lr.Z,height:v,providerEntityID:c,serverEntityID:l,url:P,width:E})),n.createElement("div",{className:a,"data-testid":"playlistTitleContainer"},S.map(((e,t)=>n.createElement(cr.Z,{key:t,component:e,isSecondary:t>0,metadataItemEntityID:d,providerEntityID:c,serverEntityID:l})))),w?n.createElement("div",{className:s},n.createElement(ar.Z,{arrowSize:16,className:"PlaylistItemMetadata-downloadIcon-r7uPxU DownloadIcon-downloadIcon-x4iupc PlexIcon-plexIcon-a5zCNX",hasOfflineFile:g,hasOwnSubscription:b,lineWidth:1.5,ratingKey:Z,size:16,source:O})):null,w?n.createElement(sr.Z,{metadataItemEntityID:d,providerEntityID:c}):null,n.createElement(rr.Z,{className:s,metadataItemEntityID:d,serverEntityID:l,textClassName:i}),I?n.createElement("div",{className:o},n.createElement(mr,{className:"PlaylistItemMetadata-transientTitleRight-ZZLscZ PlaylistItemMetadata-transientTitle-k2XBCx",duration:I})):null)}yr.defaultProps={className:"PlaylistItemMetadata-container-Zmu4aD",indexContainerClassName:"PlaylistItemMetadata-indexContainer-WnrZTV",titlesContainerClassName:"PlaylistItemMetadata-titlesContainer-t3cPft",durationContainerClassName:"PlaylistItemMetadata-durationContainer-lsrETD",attributionContainerClassName:"PlaylistItemMetadata-attributionContainer-AXsyyl SourceBadge-container-SCUsWQ"};const ur=yr;var Ir=Object.defineProperty,hr=Object.defineProperties,Er=Object.getOwnPropertyDescriptors,vr=Object.getOwnPropertySymbols,Pr=Object.prototype.hasOwnProperty,fr=Object.prototype.propertyIsEnumerable,Dr=(e,t,r)=>t in e?Ir(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const gr=(0,O.Z)((function(){return(0,E.P1)((0,P.Z)(),(0,qt.Z)(),(0,Jt.Z)(),(e=>e.ui.audioVideoPlayer.isPaused),((e={},t,r,n)=>{const a=C.zg,i=(0,Le.n3)(e.type,a)===Le.oz?64:36,o=(0,$t.Z)(i,null,e.type,e,a),s=!(!e.ratingKey||!t)&&Xt.Z.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:a,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url,isPlaying:r,isPlayerPaused:n,source:t,title:e.title,hasOfflineFile:(0,er.Z)(e),hasOwnSubscription:(0,tr.Z)(e),showAvailableOffline:s}}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){var n,a;e((0,Gt.wA)((n=((e,t)=>{for(var r in t||(t={}))Pr.call(t,r)&&Dr(e,r,t[r]);if(vr)for(var r of vr(t))fr.call(t,r)&&Dr(e,r,t[r]);return e})({},r),a={playlistMetadataItemEntityID:t.metadataListEntityID},hr(n,Er(a)))))}}}))(ur);class br extends n.Component{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){const{serverEntityID:e,itemServerEntityID:t,providerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:l,metadataListEntityID:c,metadataKey:d,listType:p,title:m,isSmart:y,isReadOnly:u,isSelected:I,isEmbeddedServer:h,hasActiveSelection:E,isOtherItemSelected:v,isModifierKeyPressed:P,cellIndex:f,isDragging:D,connectDragSource:g,onRemovePress:b,onSelectPress:w,onDeselectPress:O}=this.props,Z=!(y||u||h),C=Z&&(P||v),S=E?"-1":"0";return n.createElement("div",{className:Ft()(f%2?"PlaylistItemRow-alternateContainer-DeVTM7 PlaylistItemRow-container-bba4jn":"PlaylistItemRow-container-bba4jn",E&&"PlaylistItemRow-hasActiveSelection-n_UOv3",C&&"PlaylistItemRow-isForcingSelection-FB9kjI",I&&"PlaylistItemRow-isSelected-hEWmDv",D&&"PlaylistItemRow-isItemDragging-psPZqY")},Z?n.createElement(o.Z,{"aria-label":I?(0,i.Z)("Deselect {title}",{title:m}):(0,i.Z)("Select {title}",{title:m}),className:"PlaylistItemRow-underlay-RirVPB",tabIndex:E?"0":"-1",onPress:I?O:w}):null,n.createElement("div",{className:"PlaylistItemRow-overlay-YLAKP9","data-testid":"playlistItem"},Z?g(n.createElement("div",{className:"PlaylistItemRow-moveControl-n6yyiN","data-testid":"playlistReorderItem"},n.createElement(Yt.Z,{className:"PlaylistItemRow-grabIcon-q4W0js"}))):null,n.createElement(gr,{attributionContainerClassName:"PlaylistItemRow-attributionContainer-Pt59qL PlaylistItemMetadata-attributionContainer-AXsyyl SourceBadge-container-SCUsWQ",cellIndex:f,className:"PlaylistItemRow-metadataContainer-R5jqZ4 PlaylistItemMetadata-container-Zmu4aD",durationContainerClassName:"PlaylistItemRow-metadataDurationContainer-N0gblY PlaylistItemMetadata-durationContainer-lsrETD",itemProviderEntityID:a,itemServerEntityID:t,listType:p,metadataItemEntityID:l,metadataKey:d,metadataListEntityID:c,providerEntityID:r,serverEntityID:e,sourceTextClassName:"PlaylistItemRow-sourceText-bkPXcM"}),n.createElement("div",{className:"PlaylistItemRow-otherControls-xDI5mr"},Z?n.createElement(Vt.Z,{className:"PlaylistItemRow-selectButton-kyipU0 SelectButton-selectButton-_goGWp PlaylistItemRow-button-B4Rxvz",isSelected:I,title:m,onPress:I?O:w}):null,n.createElement(zt.Z,{className:"PlaylistItemRow-moreButton-QypiJx IconButton-button-s4bVCh",containerKey:d,"data-testid":"metadataRowMoreButton",isMenuOpen:this.state.isActionsMenuOpen,itemProviderEntityID:a,itemServerEntityID:t,listType:p,metadataItemEntityID:l,providerEntityID:r,serverEntityID:e,showEdit:!1,showPlay:!1,showQueuePlexMix:!1,tabIndex:S,onMenuOpenChange:this.onActionsMenuOpenChange}),Z?n.createElement(_t.Z,{className:"PlaylistItemRow-removeButton-l3UAsz IconButton-button-s4bVCh","data-testid":"playlistRemoveButton",iconComponent:Qt.Z,kind:s.T,title:(0,i.Z)("Remove"),onPress:b}):null)))}}br.defaultProps={isDragging:!1,connectDragSource:e=>e};const wr=br,Or=(0,he.$j)((function(e,t){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),Lt(),kt(),(0,x.Z)(),Kt.Z,Bt.Z,((e,{playlistItemID:t},r,n,a,i)=>({itemServerEntityID:r.serverEntityID,itemProviderEntityID:r.providerEntityID,metadataItemEntityID:r.entityID,metadataKey:r.key,title:r.title,selectionID:e,selectionType:r.type,activeSelectionType:i.activeSelectionType,isSelected:(0,Wt.Z)(a,t),isEmbeddedServer:n})))}),(function(e,t){const r={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e((0,bt.GL)(t))},onDeselectItem(t){e((0,bt.oF)(t))},onRemovePress(){e((0,bt.Mj)(r))}}}))((0,Ht.Z)(wr));var Zr=Object.defineProperty,Cr=Object.getOwnPropertySymbols,Sr=Object.prototype.hasOwnProperty,Tr=Object.prototype.propertyIsEnumerable,Mr=(e,t,r)=>t in e?Zr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class xr extends n.Component{shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{item:e,itemType:t,currentOffset:r}=this.props;if(!r||t!==jt.gO)return null;const a=(0,Rt.Z)(r,e.viewportWidth);return n.createElement(xt.Z,null,n.createElement("div",{className:"PlaylistItemDragPreview-dragPreview-Oce4Ek",style:a},n.createElement(Or,((e,t)=>{for(var r in t||(t={}))Sr.call(t,r)&&Mr(e,r,t[r]);if(Cr)for(var r of Cr(t))Tr.call(t,r)&&Mr(e,r,t[r]);return e})({isDragging:!0},e))))}}const jr=(0,Mt.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(xr);var Rr=r(47435),Ar=r(93712),Nr=r(90625),Lr=r(46408),kr=r(73935),Kr=r(50774);var Br=Object.defineProperty,Hr=Object.getOwnPropertySymbols,Wr=Object.prototype.hasOwnProperty,Ur=Object.prototype.propertyIsEnumerable,Fr=(e,t,r)=>t in e?Br(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const _r={beginDrag(e){const{providerEntityID:t,serverEntityID:r,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:i,isSmart:o,isReadOnly:s,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:r,metadataListEntityID:n,playlistItemEntityID:a,cellIndex:i,isSmart:o,isReadOnly:s,listType:l,viewportWidth:c}},endDrag(e,t,r){e.onItemDragEnd(t.getItem(),t.didDrop())}},Vr={hover(e,t,r){const n=(0,kr.findDOMNode)(r).getBoundingClientRect(),a=(n.bottom-n.top)/2,i=t.getClientOffset().y-n.top,o=e.cellIndex,s=i>a?o+1:o;e.onItemDragMove(s)}};class zr extends n.Component{componentDidMount(){this.props.connectDragPreview((0,Lr.r)())}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{moveIndex:e,cellIndex:t,isOver:r,isDragging:a,connectDropTarget:i}=this.props,o=r&&e===t,s=r&&e===t+1;return i(n.createElement("div",{className:Ft()("PlaylistItemDragSource-container-OrCdYE",a&&Kr.fN,o&&r&&Kr.DT,s&&r&&Kr.QZ)},n.createElement(Or,((e,t)=>{for(var r in t||(t={}))Wr.call(t,r)&&Fr(e,r,t[r]);if(Hr)for(var r of Hr(t))Ur.call(t,r)&&Fr(e,r,t[r]);return e})({},this.props))))}}const Qr=(0,Ar.G)(jt.gO,Vr,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))((0,Nr.E)(jt.gO,_r,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(zr)),Yr=function(e){return n.createElement("div",{className:e.cellIndex%2?"PlaylistItemLoading-alternateContainer-wYMXG5 PlaylistItemLoading-container-wgusQL":"PlaylistItemLoading-container-wgusQL"},(0,i.Z)("Loading..."))};var Xr=Object.defineProperty,Gr=Object.getOwnPropertySymbols,qr=Object.prototype.hasOwnProperty,Jr=Object.prototype.propertyIsEnumerable,$r=(e,t,r)=>t in e?Xr(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const en=(0,n.memo)((function(e){const t=e,{cellIndex:r,playlistItemEntityID:a,isSmart:i,isReadOnly:o}=t,s=((e,t)=>{var r={};for(var n in e)qr.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Gr)for(var n of Gr(e))t.indexOf(n)<0&&Jr.call(e,n)&&(r[n]=e[n]);return r})(t,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),l=(0,Rr.Z)(e),c=i||o?Or:Qr;return n.createElement("div",{style:l.style},a?n.createElement(c,((e,t)=>{for(var r in t||(t={}))qr.call(t,r)&&$r(e,r,t[r]);if(Gr)for(var r of Gr(t))Jr.call(t,r)&&$r(e,r,t[r]);return e})({cellIndex:r,isReadOnly:o,isSmart:i,playlistItemEntityID:a},s)):n.createElement(Yr,{cellIndex:r}))}));var tn=Object.defineProperty,rn=Object.defineProperties,nn=Object.getOwnPropertyDescriptors,an=Object.getOwnPropertySymbols,on=Object.prototype.hasOwnProperty,sn=Object.prototype.propertyIsEnumerable,ln=(e,t,r)=>t in e?tn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,cn=(e,t)=>{for(var r in t||(t={}))on.call(t,r)&&ln(e,r,t[r]);if(an)for(var r of an(t))sn.call(t,r)&&ln(e,r,t[r]);return e};class dn extends n.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:r}=this.state;t&&null!=r&&(0,Zt.c9)((()=>{var t;this.props.dispatchMovePlaylistItem((t=cn({},e),rn(t,nn({moveIndex:r}))))})),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return(0,Ot.Z)(this.props.playlistType,this.props.size)}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,metadataKey:l,playlistType:c,contentWidth:d,contentHeight:p,scrollTop:m,items:y,isSmart:u,isReadOnly:I,size:h,duration:E,onEditFilters:v}=e,P=((e,t)=>{var r={};for(var n in e)on.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&an)for(var n of an(e))t.indexOf(n)<0&&sn.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),f={serverEntityID:t,providerEntityID:r,metadataListEntityID:a,metadataKey:l,listType:c,activeSort:"titleSort",isSmart:u,isReadOnly:I,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===h)return n.createElement("div",null,c===pt.pX?(0,i.Z)("This playlist has no videos."):(0,i.Z)("This playlist has no tracks."));const D=u&&!I;return n.createElement("div",null,n.createElement(oe.Z,{className:"PlaylistItemTable-header-K5wBLC HubCellHeader-hubCellHeader-QcXKFB"},n.createElement(se.Z,null,this._getItemCountLabel(),D?n.createElement(o.Z,{className:"PlaylistItemTable-editLink-nOx_jf",kind:s._8,onPress:v},(0,i.Z)("Edit filters")):null),E?n.createElement("span",{className:"PlaylistItemTable-durationTitle-WSsft_"},(0,wt.Z)(E)):null),n.createElement(Ie,null),n.createElement(De.Z,cn({cellRenderer:(0,fe.Z)(f,en),containerKey:l,firstItemType:c,items:y,keyPropName:"playlistItemEntityID",layout:Tt,listType:c,moveIndex:this.state.moveIndex,scrollTop:m,size:h,viewportHeight:p,viewportWidth:d},P)),n.createElement(me,null),u||I?null:n.createElement(jr,{providerEntityID:r,serverEntityID:t}))}}const pn=dn;var mn=Object.defineProperty,yn=Object.defineProperties,un=Object.getOwnPropertyDescriptors,In=Object.getOwnPropertySymbols,hn=Object.prototype.hasOwnProperty,En=Object.prototype.propertyIsEnumerable,vn=(e,t,r)=>t in e?mn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Pn=(e,t)=>{for(var r in t||(t={}))hn.call(t,r)&&vn(e,r,t[r]);if(In)for(var r of In(t))En.call(t,r)&&vn(e,r,t[r]);return e};class fn extends n.Component{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{const{moveIndex:r}=this.state;var n;t&&null!==r&&this.props.onItemDropped((n=Pn({},e),yn(n,un({moveIndex:r})))),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){const e=this.props,{showPreview:t,createCellRenderer:r,listComponent:a,previewComponent:i}=e,o=((e,t)=>{var r={};for(var n in e)hn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&In)for(var n of In(e))t.indexOf(n)<0&&En.call(e,n)&&(r[n]=e[n]);return r})(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),s={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return n.createElement(a,Pn({cellRenderer:r(s),moveIndex:this.state.moveIndex},o),t?n.createElement(i,Pn({},o)):null)}}const Dn=fn;var gn=r(31810),bn=r(96029);class wn extends n.Component{constructor(){super(...arguments),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){const{serverEntityID:e,providerEntityID:t,itemServerEntityID:r,itemProviderEntityID:a,metadataItemEntityID:i,playlistItemID:o,metadataKey:s,type:l,thumb:c,title:d,width:p,height:m,hasActiveSelection:y,isSelected:u,isOtherItemSelected:I,isModifierKeyPressed:h,isDragging:E,isSmart:v,isExternal:P,canDrag:f,connectDragSource:D,onSelectPress:g,onDeselectPress:b,onRemovePress:w}=this.props,O=l===L.CLIP,Z=!s;return D(n.createElement("div",{className:"PlaylistPhotoItem-photoContainer-PgVIzY MetadataPhotoCell-photoContainer-DSIIcE"},n.createElement("div",{className:Ft()("PlaylistPhotoItem-photo-rWuxtB MetadataPhotoCell-photo-uScAC8 MetadataPosterCardFace-face-FcNn6A MetadataPosterCardFace-poster-MwJE1t",u&&"PlaylistPhotoItem-isSelected-mIaeEn MetadataPosterCardFace-isSelected-VgFLbY")},n.createElement("div",{className:"PlaylistPhotoItem-image-_aEwIO MetadataPhotoCell-image-AdhRrJ"},Z?null:n.createElement(or.Z,{key:o||s,component:lr.Z,height:m,providerEntityID:a,serverEntityID:r,url:c,width:p}),n.createElement(bn.Z,{canDrag:f,hasActiveSelection:y,isDragging:E,isModifierKeyPressed:h,isOtherItemSelected:I,isSelected:u,itemProviderEntityID:a,itemServerEntityID:r,metadataItemEntityID:i,providerEntityID:t,serverEntityID:e,showEdit:!P,showPlay:!0,showRemove:!v,showSelect:!v,title:d,onDeselectPress:b,onEditPress:this.onEditPress,onPlayPress:this.onPlayPress,onRemovePress:w,onSelectPress:g}),O?n.createElement("div",{className:"PlaylistPhotoItem-badge-BbIAOV MetadataPhotoCell-badge-ohk5Ea"},n.createElement(gn.Z,null)):null))))}}wn.defaultProps={connectDragSource:e=>e};const On=wn;var Zn=Object.defineProperty,Cn=Object.defineProperties,Sn=Object.getOwnPropertyDescriptors,Tn=Object.getOwnPropertySymbols,Mn=Object.prototype.hasOwnProperty,xn=Object.prototype.propertyIsEnumerable,jn=(e,t,r)=>t in e?Zn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Rn=(e,t)=>{for(var r in t||(t={}))Mn.call(t,r)&&jn(e,r,t[r]);if(Tn)for(var r of Tn(t))xn.call(t,r)&&jn(e,r,t[r]);return e};const An="VERTICAL";function Nn(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function Ln(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class kn extends n.Component{componentDidMount(){this.props.connectDragPreview((0,Lr.r)())}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const e=this.props,{dragClassName:t,indexPropName:r,moveIndex:a,isDragging:i,isOver:o,connectDropTarget:s,connectDragSource:l,connectDragPreview:c,itemComponent:d}=e,p=((e,t)=>{var r={};for(var n in e)Mn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Tn)for(var n of Tn(e))t.indexOf(n)<0&&xn.call(e,n)&&(r[n]=e[n]);return r})(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),m=this.props[r],y=o&&a===m,u=o&&a===m+1;return s(n.createElement("div",{className:Ft()(t,i&&Kr.fN,y&&o&&Kr.DT,u&&o&&Kr.QZ)},n.createElement(d,Rn({canDrag:!0,connectDragSource:l,isDragging:i},p))))}}const Kn=function({itemComponent:e,dragClassName:t,dragType:r,direction:a=An,idAttribute:i,indexPropName:o}){return(0,Ar.G)(r,function({direction:e,indexPropName:t}){return{hover(r,n,a){const i=(0,kr.findDOMNode)(a).getBoundingClientRect(),o=(i.right-i.left)/2,s=(i.bottom-i.top)/2,l=n.getClientOffset(),c=l.x-i.left,d=l.y-i.top,p=r[t],m=(e===An?d>s:c>o)?p+1:p;r.onItemDragMove(m)}}}({direction:a,indexPropName:o}),Ln)((0,Nr.E)(r,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,r){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:i}),Nn)((s={itemComponent:e,indexPropName:o,dragClassName:t},n.forwardRef(((e,t)=>{return n.createElement(kn,(r=Rn(Rn({},s),e),Cn(r,Sn({ref:t}))));var r})))));var s}({itemComponent:On,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:jt.SU,dragClassName:"PlaylistPhotoSortableItem-draggable-Vx0nLb"});var Bn=Object.defineProperty,Hn=Object.getOwnPropertySymbols,Wn=Object.prototype.hasOwnProperty,Un=Object.prototype.propertyIsEnumerable,Fn=(e,t,r)=>t in e?Bn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const _n=parseInt(ke.Z.mosaicCellPadding,10);var Vn=Object.defineProperty,zn=Object.defineProperties,Qn=Object.getOwnPropertyDescriptors,Yn=Object.getOwnPropertySymbols,Xn=Object.prototype.hasOwnProperty,Gn=Object.prototype.propertyIsEnumerable,qn=(e,t,r)=>t in e?Vn(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Jn=(e,t)=>{for(var r in t||(t={}))Xn.call(t,r)&&qn(e,r,t[r]);if(Yn)for(var r of Yn(t))Gn.call(t,r)&&qn(e,r,t[r]);return e},$n=(e,t)=>zn(e,Qn(t));const ea=(0,O.Z)((function(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),Lt(),kt(),Kt.Z,Bt.Z,((e,{playlistItemID:t},r={},n,a)=>{const{serverEntityID:i,providerEntityID:o,entityID:s,key:l,source:c,type:d,thumb:p,title:m}=r;return{listType:pt.pV,playlistItemID:t,itemServerEntityID:i,itemProviderEntityID:o,metadataItemEntityID:s,metadataKey:l,isExternal:!!c,type:d,thumb:p,title:m,selectionID:e,selectionType:pt.pV,activeSelectionType:a.activeSelectionType,isSelected:(0,Wt.Z)(n,t)}}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(n){e((0,Gt.wA)($n(Jn({},r),{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:n})))},onEditPress(t){e((0,Dt.Cf)($n(Jn({},r),{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))((0,Ht.Z)((function(e){const t=e,{cellX:r,cellY:a,cellWidth:i,cellHeight:o,isSmart:s}=t,l=((e,t)=>{var r={};for(var n in e)Wn.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Hn)for(var n of Hn(e))t.indexOf(n)<0&&Un.call(e,n)&&(r[n]=e[n]);return r})(t,["cellX","cellY","cellWidth","cellHeight","isSmart"]),c=(0,Rr.Z)(e),d=s?On:Kn,p=i-2*_n,m=o-2*_n;return n.createElement("div",{style:c.style},n.createElement(d,((e,t)=>{for(var r in t||(t={}))Wn.call(t,r)&&Fn(e,r,t[r]);if(Hn)for(var r of Hn(t))Un.call(t,r)&&Fn(e,r,t[r]);return e})({height:m,isSmart:s,width:p},l)))}))),ta=(0,he.$j)(null,(function(e){return{onSelectItem(t){e((0,bt.GL)(t))},onDeselectItem(t){e((0,bt.oF)(t))},onRemoveItem(t){e((0,bt.Mj)(t))}}}))(ea);var ra=r(95283),na=r(59900);const aa=100,ia=(0,he.$j)((function(){return(0,E.P1)(((e,{playlistItemEntityID:t})=>t),Nt,Ee.Z,((e,t,r)=>{const n=r[t[e].metadataItem],a=Math.min(Math.max((0,ve.Z)(n),.5),2),i=a>1;return{width:i?aa*a:aa,height:i?aa:aa/a,thumb:n.thumb}}))}))((function(e){const{width:t,height:r}=e;return n.createElement(na.Z,{component:ra.Z,height:r,serverEntityID:e.serverEntityID,url:e.thumb,width:t})}));var oa=Object.defineProperty,sa=Object.defineProperties,la=Object.getOwnPropertyDescriptors,ca=Object.getOwnPropertySymbols,da=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable,ma=(e,t,r)=>t in e?oa(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;class ya extends n.Component{render(){const{item:e,currentOffset:t,serverEntityID:r}=this.props;if(!t||!e)return null;const a=(i=((e,t)=>{for(var r in t||(t={}))da.call(t,r)&&ma(e,r,t[r]);if(ca)for(var r of ca(t))pa.call(t,r)&&ma(e,r,t[r]);return e})({},(0,Rt.Z)(t)),sa(i,la({display:"inline-block",width:"auto"})));var i;return n.createElement(xt.Z,null,n.createElement("div",{className:"PlaylistPhotoDragPreview-dragPreview-BX1hD3",style:a},n.createElement(ia,{playlistItemEntityID:e.playlistItemEntityID,serverEntityID:r})))}}const ua=(0,Mt.r)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(ya);var Ia=Object.defineProperty,ha=Object.getOwnPropertySymbols,Ea=Object.prototype.hasOwnProperty,va=Object.prototype.propertyIsEnumerable,Pa=(e,t,r)=>t in e?Ia(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,fa=(e,t)=>{for(var r in t||(t={}))Ea.call(t,r)&&Pa(e,r,t[r]);if(ha)for(var r of ha(t))va.call(t,r)&&Pa(e,r,t[r]);return e};class Da extends n.Component{constructor(){super(...arguments),this.createCellRenderer=e=>{const{serverEntityID:t,providerEntityID:r,playlistMetadataItemEntityID:n,playlistRatingKey:a,isSmart:i,listType:o}=this.props;return(0,fe.Z)(fa({serverEntityID:t,providerEntityID:r,playlistMetadataItemEntityID:n,ratingKey:a,listType:o,isSmart:i},e),ta)}}render(){const e=this.props,{isSmart:t,onItemDropped:r}=e,a=((e,t)=>{var r={};for(var n in e)Ea.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ha)for(var n of ha(e))t.indexOf(n)<0&&va.call(e,n)&&(r[n]=e[n]);return r})(e,["isSmart","onItemDropped"]);return n.createElement(Dn,fa({createCellRenderer:this.createCellRenderer,listComponent:Me,previewComponent:ua,showPreview:!t,onItemDropped:r},a))}}const ga=Da,ba={onItemDropped:bt.YQ},wa=(0,he.$j)((function(){return(0,E.P1)(((e,{items:t})=>t),((e,{serverEntityID:t})=>t),((e,{providerEntityID:t})=>t),(0,P.Z)(),Nt,Ee.Z,((e=[],t,r,n,a,i)=>{const o=e.map((e=>{const t=a[e];return(0,ve.Z)(i[t.metadataItem])}));return{listType:n.playlistType,aspectRatios:o,playlistMetadataItemEntityID:n.entityID,playlistRatingKey:n.ratingKey,isSmart:!!n.smart,isReadOnly:!!n.readOnly}}))}),ba)(ga),Oa="PlaylistItemList-emptyMessage-dJdBGR PlaylistItemList-emptyContainer-uQWLbz";var Za=Object.defineProperty,Ca=Object.getOwnPropertySymbols,Sa=Object.prototype.hasOwnProperty,Ta=Object.prototype.propertyIsEnumerable,Ma=(e,t,r)=>t in e?Za(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,xa=(e,t)=>{for(var r in t||(t={}))Sa.call(t,r)&&Ma(e,r,t[r]);if(Ca)for(var r of Ca(t))Ta.call(t,r)&&Ma(e,r,t[r]);return e};const ja=function(e){const t=e,{contentHeight:r,scrollTop:a,showArtwork:o,showSpinner:s,showError:l,listType:d,isEmpty:p}=t,m=((e,t)=>{var r={};for(var n in e)Sa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Ca)for(var n of Ca(e))t.indexOf(n)<0&&Ta.call(e,n)&&(r[n]=e[n]);return r})(t,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return s?n.createElement("div",{className:"PlaylistItemList-emptyContainer-uQWLbz"},n.createElement(c.Z,null)):l?n.createElement("div",{className:Oa},(0,i.Z)("Unable to load items")):p?n.createElement("div",{className:Oa},d===pt.pV?(0,i.Z)("There are no items in this album"):(0,i.Z)("There are no items in this playlist")):n.createElement(ue,{contentHeight:r,scrollTop:a,showArtwork:o},d===pt.pV?n.createElement(wa,xa({},m)):n.createElement(pn,xa({},m)))};var Ra=Object.defineProperty,Aa=Object.defineProperties,Na=Object.getOwnPropertyDescriptors,La=Object.getOwnPropertySymbols,ka=Object.prototype.hasOwnProperty,Ka=Object.prototype.propertyIsEnumerable,Ba=(e,t,r)=>t in e?Ra(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ha={dispatchInitPlaylistItemList:bt.VL,dispatchResetPlaylistItemList:bt.iq,dispatchPopulatePlaylistItemRange:bt.d6,dispatchDeselectAllPlaylistItems:gt.mD,dispatchMovePlaylistItem:bt.YQ,dispatchEditFilters:Dt.hi};class Wa extends n.Component{constructor(){super(...arguments),this.onPageRequest=({startIndex:e,endIndex:t})=>{const r=ft.wB(this.props.providerIdentifier,ft.xF);this.props.dispatchPopulatePlaylistItemRange({pages:r?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchEditFilters({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){const{serverEntityID:e,providerEntityID:t,metadataKey:r,providerIdentifier:n,dispatchInitPlaylistItemList:a,dispatchPopulatePlaylistItemRange:i}=this.props;a({serverEntityID:e,providerEntityID:t,metadataKey:r}),i({pages:ft.wB(n,ft.xF)?1:void 0,startIndex:0,endIndex:39})}render(){const e=this.props,{dispatchInitPlaylistItemList:t,dispatchPopulatePlaylistItemRange:r,dispatchDeselectAllPlaylistItems:a,dispatchEditFilters:i}=e,o=((e,t)=>{var r={};for(var n in e)ka.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&La)for(var n of La(e))t.indexOf(n)<0&&Ka.call(e,n)&&(r[n]=e[n]);return r})(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchEditFilters"]);return n.createElement(ja,(s=((e,t)=>{for(var r in t||(t={}))ka.call(t,r)&&Ba(e,r,t[r]);if(La)for(var r of La(t))Ka.call(t,r)&&Ba(e,r,t[r]);return e})({},o),l={onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest},Aa(s,Na(l))));var s,l}}const Ua=(0,he.$j)((function(e,t){return(0,E.P1)((e=>e.ui.playlistPage),(0,P.Z)(),Pt.Z,((e,t,r)=>{const{serverEntityID:n,providerEntityID:a,metadataKey:i,playlistItemList:o={},isPlaylistItemListPending:s,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:p,smart:m,readOnly:y,duration:u}=t,{metadataItems:I=[],populatedRange:h={},totalSize:E}=o;return{serverEntityID:n,providerEntityID:a,metadataKey:i,ratingKey:d,providerIdentifier:r.identifier,listType:p,keyPropName:"playlistItemEntityID",isSmart:!!m,isReadOnly:!!y,populatedRange:h,items:I,size:E,itemsOffset:h.start,duration:u,isEmpty:l&&!E,showArtwork:!1,showSpinner:s&&!l,showError:c}}))}),Ha)(Wa);class Fa extends n.Component{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataKey:a,title:i,type:o,playlistType:s,summary:l,composite:c,thumb:d,pageWidth:p,pageHeight:m,scrollTop:y,columnAdjustment:I}=this.props,{contentWidth:h,contentHeight:E,isContentMeasured:v}=this.state;return n.createElement(u.Z,{ignorePosition:!0,onMeasure:this.onContentMeasure},n.createElement(vt,{columnAdjustment:I,metadataItemEntityID:r,metadataKey:a,pageWidth:p,providerEntityID:t,serverEntityID:e,showPoster:s!==pt.pV,thumb:d||c,type:o},n.createElement(te.Z,null,n.createElement(st.Z,null,i)),n.createElement(ee.Z,null),l?n.createElement(te.Z,null,n.createElement(ae.Z,null,l)):null),n.createElement(ne,null,v?n.createElement(Ua,{contentHeight:E,metadataItemEntityID:r,playlistType:s,providerEntityID:t,scrollTop:y,serverEntityID:e,viewportHeight:m,viewportWidth:h}):null))}}const _a=Fa;var Va=Object.defineProperty,za=Object.getOwnPropertySymbols,Qa=Object.prototype.hasOwnProperty,Ya=Object.prototype.propertyIsEnumerable,Xa=(e,t,r)=>t in e?Va(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ga={photoalbum:dt,playlist:_a};class qa extends n.Component{componentDidMount(){this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){const{backgroundImageUrl:t,art:r,theme:n,isRemotePlayer:a,onBackgroundChange:i,onThemeMusicChange:o,onMirrorDetails:s}=this.props;e.backgroundImageUrl!==t&&i(t,!!r),e.theme!==n&&o(n),!e.isRemotePlayer&&a&&s()}render(){const e=this.props,{providerMetricsIdentifier:t,type:r,subtype:a,art:i,listStyle:o,onBackgroundChange:s}=e,l=((e,t)=>{var r={};for(var n in e)Qa.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&za)for(var n of za(e))t.indexOf(n)<0&&Ya.call(e,n)&&(r[n]=e[n]);return r})(e,["providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),c=function(e){return e?Ga[e]||J:q}(r);return n.createElement(X,{identifier:t,showArtwork:!!i,style:o,type:r},n.createElement(c,((e,t)=>{for(var r in t||(t={}))Qa.call(t,r)&&Xa(e,r,t[r]);if(za)for(var r of za(t))Ya.call(t,r)&&Xa(e,r,t[r]);return e})({art:i,listStyle:o,subtype:a,type:r},l)))}}const Ja=qa;function $a(e,t){if(t)switch(t){case C.sD:case a.$4:switch(e){case"track":return[pe.TABLE]}break;case C.Ap:return[pe.SHARED_ITEMS]}switch(e){case"movie":case"show":return[pe.POSTER,pe.TABLE,pe.SUMMARY];case"season":return[pe.POSTER,pe.TABLE];case"episode":case"artist":case"album":return[pe.POSTER,pe.TABLE,pe.SUMMARY];case"track":return[pe.POSTER,pe.TABLE];case"photo":case"photoalbum":return[pe.MOSAIC];case"clip":return[pe.POSTER,pe.TABLE];case"collection":return[pe.POSTER,pe.SUMMARY];default:return[pe.POSTER]}}function ei(e,t,r={}){return ft.wB(r.identifier,ft.Ll)?function(e,t){if(t)switch(t){case C.sD:return[pe.EPG_EPISODE]}switch(e){case"show":case"episode":case"movie":return[pe.POSTER]}return $a(e,t)}(e,t):$a(e,t)}var ti=r(36795);function ri(e,t,r,n){if(!r)return;const a=ei(r,t,n);if(1===a.length)return a[0];let i;const o=(0,ti.Z)(r);return e[t]&&(i=e[t][o]),i&&a.indexOf(i)>-1?i:a[0]}const ni=(0,Z.Z)(Ja,(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e((0,M.wL)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))})),ai=(0,O.Z)((function(){return(0,E.P1)(b.Z,g.Z,(0,P.Z)(),(0,E.P1)((0,P.Z)(),(e=>{if(!e||!e.childrenKey)return;const t=e.key,r=e.skipChildren?"grandchildren":"children";return v.Z.join([t,r])})),N,A,R,k(),(0,E.P1)((0,f.Z)(),(e=>!(!e||!e.isPopulated))),D.Z,(0,x.Z)(),((e,t,r,n,a,i,o,s,l,c,d)=>{const{type:p}=r,m=(0,$t.G)(p,r,C.sD),y=m||r.thumb||r.parentThumb||r.grandparentThumb,u=r.grandparentArt||r.parentArt||r.art,I=r.grandparentTheme||r.parentTheme||r.theme,h=a?u||y:y||u,E=ri(o,C.sD,s,t),v=(0,w.d)(e,t.features.actions.save);return{providerMetricsIdentifier:t.metricsIdentifier,metadataKey:r.key,descendantKey:n,attribution:r.attribution,attributionLogo:r.attributionLogo,title:r.title,type:r.type,subtype:r.subtype,year:r.year,contentRating:r.contentRating,minYear:r.minYear,maxYear:r.maxYear,summary:r.summary,showAddToSaved:v&&null!=r.saved,thumb:m,parentThumb:r.parentThumb,grandparentThumb:r.grandparentThumb,composite:r.composite,art:a?u:void 0,theme:i?I:void 0,backgroundImageUrl:h,playlistType:r.playlistType,isListReady:l,onDeckMetadataItemEntityID:r.onDeck,extrasMetadataListEntityID:r.extras,popularLeavesMetadataListEntityID:r.popularLeaves,listType:s,listStyle:E,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:r.watchlistedAt}}))}),(function(e,t){return{onBackgroundChange(r,n){e((0,S.ZZ)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:r,allowBlur:!n}))},onThemeMusicChange(r){e((0,S.ZX)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:r}))},onMirrorDetails(){e((0,T.yU)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(ni);class ii extends n.Component{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:r})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:r})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,metadataListEntityID:a,columnAdjustment:i,record:o,allEpisodes:s}=this.props,{scrollTop:l,isMeasured:c,pageWidth:d,pageHeight:p,pageY:m}=this.state;return n.createElement(u.Z,{className:"PrePlayPageContent-prePlayPageContentContainer-sThS6S PageContent-pageContent-rk0p0C",onMeasure:this.onContentMeasure},n.createElement(h.Z,{className:"PrePlayPageContent-prePlayPageContent-ab7QWa",scrollTop:l,onScrollPositionChange:this.onScrollPositionChange},c?n.createElement(ai,{allEpisodes:s,columnAdjustment:i,metadataItemEntityID:r,metadataListEntityID:a,pageHeight:p,pageWidth:d,pageY:m,providerEntityID:t,record:o,scrollTop:l,serverEntityID:e}):null))}}const oi=ii;var si=r(84503),li=r(62934),ci=r(86418),di=r(93927),pi=r(5103),mi=r(17282),yi=r(54768),ui=r(90792),Ii=r(28201),hi=r(31722),Ei=r(23574),vi=r(65770),Pi=r(91192),fi=r(69139),Di=r(98031),gi=r(10078),bi=r(30547),wi=Object.defineProperty,Oi=Object.getOwnPropertySymbols,Zi=Object.prototype.hasOwnProperty,Ci=Object.prototype.propertyIsEnumerable,Si=(e,t,r)=>t in e?wi(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ti={dispatchPreFetch:M.t4};class Mi extends n.Component{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){const{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:r}=this.props;t||r({metadataItemEntityID:e})}render(){const e=this.props,{serverEntityID:t,providerEntityID:r,metadataItemEntityID:a,dispatchPreFetch:i,metricsPage:o,metricsContext:s}=e,l=((e,t)=>{var r={};for(var n in e)Zi.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&Oi)for(var n of Oi(e))t.indexOf(n)<0&&Ci.call(e,n)&&(r[n]=e[n]);return r})(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))Zi.call(t,r)&&Si(e,r,t[r]);if(Oi)for(var r of Oi(t))Ci.call(t,r)&&Si(e,r,t[r]);return e})({},l))}}const xi=(0,O.Z)((function(){return(0,E.P1)(((e,{metricsContext:t})=>t),li.Z,g.Z,(0,P.Z)(),((e,t,r,n={})=>{const a={legacy:1};return e&&(a.context=e),{to:(0,bi.Z)(t,r,n.key,a),isDisabled:!n.key}}))}),Ti)(Mi),ji=(0,he.$j)((function(){return(0,E.P1)(((e,{metadataItemEntityID:t})=>t),(0,f.Z)(),((e,t={})=>{const r=t.metadataItems,n=r.indexOf(e),a=n+1,i=n-1;let o,s;return i>-1&&(o=r[i]),a>0&&a<r.length&&(s=r[a]),{previousMetadataItemEntityID:o,nextMetadataItemEntityID:s}}))}))((function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:r,nextMetadataItemEntityID:a}){return n.createElement("div",null,n.createElement(xi,{"data-testid":"toolbarPrevious",metadataItemEntityID:r,providerEntityID:t,serverEntityID:e},n.createElement(gi.Z,null)),n.createElement(xi,{"data-testid":"toolbarNext",metadataItemEntityID:a,providerEntityID:t,serverEntityID:e},n.createElement(Di.Z,null)))}));var Ri=r(10125),Ai=r(69281),Ni=r(26724),Li=r(84332);const ki=(0,O.Z)((function(){return(0,E.P1)(((e,{selectedKey:t})=>t),((e,{metricsContext:t})=>t),li.Z,g.Z,(0,P.Z)(),(0,Ni.Z)(),((e,t,r,n,a={},i)=>({title:a.title,to:i,isSelected:e===a.key})))}))((function({title:e,to:t,isSelected:r}){return t?n.createElement(Li.Z,{isSelected:r,to:t},e):null})),Ki="PrePlayPageHeaderSiblingsMenu-emptyContainer-bjesLK",Bi=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityIDs:a,isPending:o,error:s,selectedKey:l,target:d,isOpen:p,onMenuClose:m}=e,y=!!a.length,u=!y&&o,I=!y&&!o&&!!s,h=!y&&!u&&!I;return n.createElement(Ri.Z,{isOpen:p,size:Ai.ln,target:d,onMenuClose:m},u?n.createElement("span",{className:Ki},n.createElement(c.Z,null)):null,I?n.createElement("span",{className:Ki},(0,i.Z)("Unable to load items")):null,h?n.createElement("span",{className:Ki},(0,i.Z)("No items")):null,a.map((e=>n.createElement(ki,{key:e,metadataItemEntityID:e,providerEntityID:r,selectedKey:l,serverEntityID:t}))))};var Hi=r(51146),Wi=r(89083),Ui=r(57674),Fi=r(32527),_i=r(25511),Vi=r(8523),zi=r(72702),Qi=r(3307),Yi=r(40759),Xi=r(80727),Gi=r(12439),qi=r(53942),Ji=r(61740),$i=r(96865),eo=r(34575),to=r(86302),ro=r(88706);const no=(0,E.P1)((0,P.Z)(),(e=>({watchlistedAt:e.watchlistedAt}))),ao=(0,he.$j)(no,(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e((0,eo.ZA)(r))}}}))((function(e){const{watchlistedAt:t,onPress:r}=e;return n.createElement(pi.Z,{"data-testid":"toolbarAddToWatchList",tooltip:t?(0,i.Z)("Remove from Watchlist"):(0,i.Z)("Add to Watchlist"),onPress:r},t?n.createElement(ro.Z,null):n.createElement(to.Z,null))}));var io=r(94166),oo=r(13699);function so(e){const{markUnplayed:t,onPress:r}=e;return n.createElement(pi.Z,{"data-testid":"toolbarToggleWatched",tooltip:t?(0,i.Z)("Mark as Unplayed"):(0,i.Z)("Mark as Played"),onPress:r},n.createElement(oo.Z,null))}so.defaultProps={markUnplayed:!1};const lo=so;var co=r(75126),po=r(90558);function mo(e){const t=e["aria-label"],r=e.className,a=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};i["aria-hidden"]=!t,i.style=a,i.className=po.Z.plexIcon+(r?" "+r:"");const o=[n.createElement.apply(n,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&o.unshift(n.createElement("title",null,t)),n.createElement.apply(n,["svg",i].concat(o))}mo.propTypes={"aria-label":B().string,className:B().string,style:B().object};const yo=mo;var uo=Object.defineProperty,Io=Object.getOwnPropertySymbols,ho=Object.prototype.hasOwnProperty,Eo=Object.prototype.propertyIsEnumerable,vo=(e,t,r)=>t in e?uo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Po=function(e){return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))ho.call(t,r)&&vo(e,r,t[r]);if(Io)for(var r of Io(t))Eo.call(t,r)&&vo(e,r,t[r]);return e})({tooltip:(0,i.Z)("Artist TV")},e),n.createElement(yo,null))};var fo=r(14665),Do=r(30470),go=Object.defineProperty,bo=Object.getOwnPropertySymbols,wo=Object.prototype.hasOwnProperty,Oo=Object.prototype.propertyIsEnumerable,Zo=(e,t,r)=>t in e?go(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Co=function(e){return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))wo.call(t,r)&&Zo(e,r,t[r]);if(bo)for(var r of bo(t))Oo.call(t,r)&&Zo(e,r,t[r]);return e})({tooltip:(0,i.Z)("Play Radio")},e),n.createElement(Do.Z,null))};var So=r(70957),To=Object.defineProperty,Mo=Object.getOwnPropertySymbols,xo=Object.prototype.hasOwnProperty,jo=Object.prototype.propertyIsEnumerable,Ro=(e,t,r)=>t in e?To(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Ao=function(e){return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))xo.call(t,r)&&Ro(e,r,t[r]);if(Mo)for(var r of Mo(t))jo.call(t,r)&&Ro(e,r,t[r]);return e})({tooltip:(0,i.Z)("Play Trailer")},e),n.createElement(So.Z,null))};var No=r(3149);var Lo=Object.defineProperty,ko=Object.getOwnPropertySymbols,Ko=Object.prototype.hasOwnProperty,Bo=Object.prototype.propertyIsEnumerable,Ho=(e,t,r)=>t in e?Lo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Wo=function(e){var t=e,{title:r}=t,a=((e,t)=>{var r={};for(var n in e)Ko.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ko)for(var n of ko(e))t.indexOf(n)<0&&Bo.call(e,n)&&(r[n]=e[n]);return r})(t,["title"]);return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))Ko.call(t,r)&&Ho(e,r,t[r]);if(ko)for(var r of ko(t))Bo.call(t,r)&&Ho(e,r,t[r]);return e})({className:"ToolbarRecordButton-toolbarRecordButton-ibsvfh ToolbarButton-toolbarButton-PCjB_g PlayButton-playButton-vS1WII RecordIcon-recordIconContainer-iZKuO3","data-testid":"toolbarRecord",tooltip:(0,i.Z)("Record")},a),n.createElement(No.Z,null))};var Uo=r(73111),Fo=Object.defineProperty,_o=Object.getOwnPropertySymbols,Vo=Object.prototype.hasOwnProperty,zo=Object.prototype.propertyIsEnumerable,Qo=(e,t,r)=>t in e?Fo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const Yo=function(e){return n.createElement(pi.Z,((e,t)=>{for(var r in t||(t={}))Vo.call(t,r)&&Qo(e,r,t[r]);if(_o)for(var r of _o(t))zo.call(t,r)&&Qo(e,r,t[r]);return e})({"data-testid":"toolbarSettings",tooltip:(0,i.Z)("Settings")},e),n.createElement(Uo.Z,null))};var Xo=r(10904),Go=r(52867),qo=r(71),Jo=Object.defineProperty,$o=Object.defineProperties,es=Object.getOwnPropertyDescriptors,ts=Object.getOwnPropertySymbols,rs=Object.prototype.hasOwnProperty,ns=Object.prototype.propertyIsEnumerable,as=(e,t,r)=>t in e?Jo(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;const is=function(e){const t=e,{hasDownloadState:r,hasOfflineFile:a,hasOwnSubscription:i,isDisabled:o,label:s,progress:l}=t,c=((e,t)=>{var r={};for(var n in e)rs.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&ts)for(var n of ts(e))t.indexOf(n)<0&&ns.call(e,n)&&(r[n]=e[n]);return r})(t,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),d=null!==l&&l>=0;return n.createElement(pi.Z,(p=((e,t)=>{for(var r in t||(t={}))rs.call(t,r)&&as(e,r,t[r]);if(ts)for(var r of ts(t))ns.call(t,r)&&as(e,r,t[r]);return e})({},c),$o(p,es({"data-testid":"toolbarSync",isDisabled:o,tooltip:s}))),!i||r||d?n.createElement(Go.Z,{isDisabled:o,progress:l,showIndeterminate:r}):n.createElement(qo.Z,null));var p};var os=r(9375),ss=r(94659),ls=r(4027),cs=r(96099);const ds=(0,os.ZP)((function(e){const{className:t,serverEntityID:r,providerEntityID:a,metadataItemEntityID:o,type:s,subtype:l,title:c,viewedLeafCount:d,unviewedLeafCount:p,isLiveTV:m,metricsPage:y,showRecord:u,showPlay:I,showPlayOverflow:h,showPlayTrailer:E,showPlayTrailerOverflow:v,showPlayRadio:P,showPlayRadioOverflow:f,showPlayArtistTV:D,showPlayArtistTVOverflow:g,showShuffle:b,showShuffleOverflow:w,showAddToPlaylist:O,showAddToPlaylistOverflow:Z,showAddToSaved:C,showAddToWatchlist:S,showAddToWatchlistOverflow:T,showTogglePlayed:M,showTogglePlayedOverflow:x,showMarkPlayed:j,showMarkUnplayed:R,showEdit:A,showEditOverflow:N,showSettings:k,showSettingsOverflow:K,showSyncDownload:B,showSyncDownloadOverflow:H,showOverflow:W,onPlayPress:U,onPlayLiveTVPress:F,onPlayTrailerPress:_,onPlayRadioPress:V,onPlayArtistTVPress:z,onShufflePress:Q,onEditPress:Y,onCancelDownloadActivity:X,onDeleteDownloadSubscription:G,onCreateDownloadSubscription:q}=e,J=(0,ss.Z)(),$=(0,ls.Z)(e.onMarkPlayedConfirm),ee=(0,ls.Z)(e.onMarkUnplayedConfirm),te=(0,ls.Z)(),re=(0,ls.Z)(),ne=(0,ls.Z)(),ae=(0,zi.Gb)({metadataItemEntityID:o,metricsPage:y,providerEntityID:a,serverEntityID:r,onCancelDownloadActivity:X,onDeleteDownloadSubscription:G,onCreateDownloadSubscription:q}),ie=(0,n.useCallback)((()=>{(I||h)&&U()}),[U,I,h]),oe=(0,n.useCallback)((()=>{(A||N)&&Y()}),[A,N,Y]);return(0,n.useEffect)((()=>(Vi.Z.on("shortcut:playSelected",ie),Vi.Z.on("shortcut:edit",oe),()=>{Vi.Z.off("shortcut:playSelected",ie),Vi.Z.off("shortcut:edit",oe)}))),n.createElement("div",{className:t},u?n.createElement(Wo,{title:c,onPress:te.onOpen}):null,I?n.createElement(fo.Z,{playLabel:(0,i.Z)("Play"),onPress:m?F:U}):null,E?n.createElement(Ao,{onPress:_}):null,b?n.createElement(Xo.Z,{onPress:Q}):null,P?n.createElement(Co,{onPress:V}):null,D?n.createElement(Po,{onPress:z}):null,S?n.createElement(ao,{metadataItemEntityID:o,providerEntityID:a,serverEntityID:r}):null,O?n.createElement($i.Z,{metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,onAddToPlaylistPress:ne.onOpen}):null,M&&j?n.createElement(lo,{subtype:l,type:s,onPress:$.onOpen}):null,M&&R&&!j?n.createElement(lo,{markUnplayed:!0,subtype:l,type:s,onPress:ee.onOpen}):null,A?n.createElement(io.Z,{onPress:Y}):null,k?n.createElement(Yo,{onPress:re.onOpen}):null,B?n.createElement(zi.ZP,{component:is,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,onPress:ae.onPress}):null,W?n.createElement(co.Z,{iconComponent:cs.Z,id:J.menuButtonID,isMenuOpen:J.isMenuOpen,label:(0,i.Z)("More..."),onPress:J.onMenuButtonPress}):null,n.createElement(Yi.Z,{allowRedirectOnDelete:!0,isOpen:J.isMenuOpen,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,showAddToPlaylist:Z,showAddToSaved:C&&s!==L.SHOW,showAddToWatchlist:T,showEdit:N,showMarkPlayed:x&&j,showMarkUnplayed:x&&R,showPlay:h,showPlayArtistTV:g,showPlayRadio:f,showPlayTrailer:v,showQueuePlexMix:!1,showSettings:K,showShuffle:w,showSyncDownload:H,target:J.menuButtonID,onMenuClose:J.onMenuClose}),j?n.createElement(Xi.Z,{isOpen:$.isOpen,leafCount:p,subtype:l,title:c,type:s,onCancel:$.onClose,onConfirm:$.onConfirm}):null,O?n.createElement(qi.Z,{isOpen:ne.isOpen,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,onModalClose:ne.onClose}):null,R?n.createElement(Xi.Z,{isOpen:ee.isOpen,leafCount:d,markUnplayed:!0,subtype:l,title:c,type:s,onCancel:ee.onClose,onConfirm:ee.onConfirm}):null,n.createElement(Ji.Z,{isOpen:te.isOpen,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,subscriptionType:s,onModalClose:te.onClose}),B?n.createElement(Qi.Z,{isOpen:ae.isOpen,state:ae.state,onClose:ae.onClose,onConfirm:ae.onConfirm}):null,n.createElement(Gi.Z,{isOpen:re.isOpen,metadataItemEntityID:o,providerEntityID:a,serverEntityID:r,onModalClose:re.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var ps=Object.defineProperty,ms=Object.defineProperties,ys=Object.getOwnPropertyDescriptors,us=Object.getOwnPropertySymbols,Is=Object.prototype.hasOwnProperty,hs=Object.prototype.propertyIsEnumerable,Es=(e,t,r)=>t in e?ps(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,vs=(e,t)=>{for(var r in t||(t={}))Is.call(t,r)&&Es(e,r,t[r]);if(us)for(var r of us(t))hs.call(t,r)&&Es(e,r,t[r]);return e},Ps=(e,t)=>ms(e,ys(t));const fs=(0,O.Z)((function(){return(0,E.P1)(li.Z,g.Z,b.Z,(0,P.Z)(),(0,x.Z)(),((e,t,r,n,a)=>{const{type:i,subtype:o,title:s,viewedLeafCount:l,unviewedLeafCount:c}=n,d=(0,_i.ZP)({server:e,provider:t,stableUser:r,metadataItem:n}),p=d.showMarkPlayed||d.showMarkUnplayed,m=!!t.protocols.livetv,y=!a&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Wi._N;return vs({type:i,subtype:o,title:s,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:m,showRecord:y,showTogglePlayed:p},d)}))}),(function(e,t){const r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Gt.wA(r))},onPlayLiveTVPress(){e((0,Hi.lS)(r))},onPlayTrailerPress(){e(Gt.EF(r))},onPlayRadioPress(){e(Gt.QR(vs({playlistType:Ui.j0},r)))},onPlayArtistTVPress(){e(Gt.QR(vs({playlistType:Ui.pX},r)))},onShufflePress(){e(Gt.Em(r))},onMarkPlayedConfirm(){e(Dt.x3(Ps(vs({},r),{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Dt.s4(Ps(vs({},r),{skipConfirm:!0})))},onEditPress(){e(Dt.Cf(r))},onGetInfoPress(){e(Dt.Nv(r))},onCancelDownloadActivity(){e(Fi.FX(r))},onDeleteDownloadSubscription(){e(Fi.L7(r))},onCreateDownloadSubscription(){e(Fi.A$(r))}}}))(ds);var Ds=r(7080);const gs="PrePlayPageHeader-divider-O66RIl PageHeaderDivider-pageHeaderDivider-aQZuvM";class bs extends n.Component{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=(0,Ii.Z)()}shouldComponentUpdate(e,t){return(0,I.Z)(this,e,t)}render(){const{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r,siblingsMetadataListEntityID:a,sourceDirectory:o,metadataKey:s,grandparentTitle:l,parentTitle:c,title:d,skipParent:p,grandparentRoute:m,parentRoute:y,showArtworkButton:u,isArtworkButtonSelected:I,listType:h,listSubtype:E,listStyle:v,allListStyles:P}=this.props,{isSiblingsMenuOpen:f}=this.state;if(!s)return null;const D=!!a,g=h&&pe.showListStyles(P,v);return n.createElement(Ei.Z,{className:D||u&&!g?"PrePlayPageHeader-altPageHeader-TJXYyE PrePlayPageHeader-pageHeader-g7_Xkh PageHeader-pageHeader-e2k66t":"PrePlayPageHeader-pageHeader-g7_Xkh PageHeader-pageHeader-e2k66t"},n.createElement(Pi.Z,{containerComponent:yi.Z,providerEntityID:t,serverEntityID:e,sourceDirectory:o},l?n.createElement(mi.Z,{hasMenu:!1,isDisabled:!m,to:m},l):null,!p&&c?n.createElement(mi.Z,{hasMenu:!1,isDisabled:!y,to:y},c):null,d?n.createElement(mi.Z,{hasMenu:D,id:this._siblingsMenuButtonID,isDisabled:!D,isMenuOpen:f,onPress:this.onSiblingsMenuButtonPress},d):null,D?n.createElement($.Z,{component:Bi,initialSize:1/0,isOpen:f,metadataListEntityID:a,providerEntityID:t,selectedKey:s,serverEntityID:e,target:this._siblingsMenuButtonID,onMenuClose:this.onSiblingsMenuClose}):null),n.createElement(ui.Z,null,n.createElement(fs,{metadataItemEntityID:r,providerEntityID:t,serverEntityID:e}),u?n.createElement(vi.Z,{className:gs}):null,u?n.createElement(pi.Z,{"data-testid":"toolbarToggleArtwork",hideOnPress:!1,isSelected:I,tooltip:I?(0,i.Z)("Hide Artwork"):(0,i.Z)("Show Artwork"),tooltipAttachment:g||D?hi.eO:hi.OI,onPress:this.onToggleArtworkPress},n.createElement(Ds.Z,null)):null,g?n.createElement(n.Fragment,null,n.createElement(vi.Z,{className:gs}),n.createElement(fi.Z,{allListStyles:P,listContext:C.sD,listSubtype:E,listType:h,selectedListStyle:v})):null,D?n.createElement(vi.Z,{className:gs}):null,D?n.createElement(ji,{metadataItemEntityID:r,metadataListEntityID:a,providerEntityID:t,serverEntityID:e}):null))}}const ws=bs,Os=(0,Z.Z)(ws,(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e((0,M.tt)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))})),Zs=(0,O.Z)((function(){return(0,E.P1)(((e,{metricsContext:t})=>t),(e=>e.ui.prePlayPage),li.Z,g.Z,(0,E.P1)(g.Z,(0,P.Z)(),((e,t)=>{const r=e&&e.features.content;if(!t||!r)return null;if(e.protocols[di.K])return r.directories.find((e=>e.hubKey&&!e.key));const{librarySectionKey:n,librarySectionID:a,isPlaylist:i}=t;return n||a?r.directories.find((e=>e.id?e.id===a:!!e.key&&e.key===n)):i?r.directories.find((e=>e.type===ci.Z.PLAYLIST)):void 0})),(0,P.Z)(),(0,E.P1)((0,P.Z)(),(e=>{if(!e)return;const t=e.skipParent,r=t?e.grandparentKey:e.parentKey;if(!r)return;const n=t?"grandchildren":"children";return v.Z.join([r,n])})),N,R,k(),((e,t,r,n,a,i,o,s,l,c)=>{const{grandparentKey:d,parentKey:p,key:m,grandparentTitle:y,parentTitle:u,title:I,skipParent:h,subtype:E}=i,v=ri(l,C.sD,c,n),P=ei(c,C.sD,n),f={legacy:1};return e&&(f.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:a,metadataKey:m,siblingKey:o,grandparentTitle:y,parentTitle:u,title:I,skipParent:h,grandparentRoute:(0,bi.Z)(r,n,d,f),parentRoute:(0,bi.Z)(r,n,p,f),showArtworkButton:!!i.art,isArtworkButtonSelected:s,listType:c,listSubtype:E,listStyle:v,allListStyles:P}}))}),(function(e,t){return{onArtworkToggle(t){e((0,si.LN)({showPrePlayArtwork:t}))}}}))(Os);var Cs=r(55127);const Ss=function(e){const{serverEntityID:t,providerEntityID:r,metadataItemEntityID:u,metadataListEntityID:I,showSpinner:h,showError:E,showNotFoundError:v,activeSelectionType:P,columnAdjustment:f,record:D,allEpisodes:g,multiSelectToolbarComponent:b}=e;return h?n.createElement(p.Z,null,n.createElement(c.Z,null)):E?v?n.createElement(m.Z,{description:(0,i.Z)("It may have been removed from the media server, or moved to a new location"),title:(0,i.Z)("The media you're looking for isn't here")},n.createElement(o.Z,{kind:s._8,to:"#"},(0,i.Z)("Go home"))):n.createElement(y.Z,{title:(0,i.Z)("There was an unexpected error loading this item")}):n.createElement(d.Z,{isMetricsDelegated:!0,metricsPage:a.sD,scrollDirection:l.Hn},P?n.createElement(Cs.Z,{allowRedirectOnDelete:!0,providerEntityID:r,serverEntityID:t,toolbarComponent:b}):n.createElement(Zs,{metadataItemEntityID:u,providerEntityID:r,serverEntityID:t}),n.createElement(oi,{allEpisodes:g,columnAdjustment:f,metadataItemEntityID:u,metadataListEntityID:I,providerEntityID:r,record:D,serverEntityID:t}))}}}]);