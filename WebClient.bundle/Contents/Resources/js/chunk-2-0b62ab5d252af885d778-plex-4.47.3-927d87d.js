(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{"+3Mv":function(e,t,a){"use strict";function i(e){return e.user}a.d(t,"a",(function(){return i}))},"+71K":function(e,t,a){e.exports={container:"PosterCardIcon-container-257jtF"}},"+9Fr":function(e,t,a){e.exports={badge:"PageHeaderBadge-badge-2oDBgn"}},"+E9k":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((o=i.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,i){var n,s="";return s+=' <li class="',((n=r(a("YFQD")).call(e,null==(n=i&&i.currentType)||!1===n?n:n.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='"> <a class="btn-gray" data-type="'+d("function"==typeof(n=e&&e.typeString)?n.apply(e):n)+'" href="#">'+d(r(a("ortX")).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(r(a("ortX")).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:s}))+'</p> <div class="contributors-list-container"></div> '}))},"+FCs":function(e,t,a){e.exports={form:"ShareRestrictions-form-Rcumd5",modalBody:"ShareRestrictions-modalBody-1U8Ga6 ModalBody-modalBody--5uHSu",scroller:"ShareRestrictions-scroller-2s4dmY Scroller-vertical-VScFLT",message:"ShareRestrictions-message-XfFwpl",section:"ShareRestrictions-section-3NdrrM",list:"ShareRestrictions-list-33f8GR",modalFooter:"ShareRestrictions-modalFooter-Rm6RHL ModalFooter-modalFooter-30WIB5",warningMessage:"ShareRestrictions-warningMessage-1CDN7a ShareRestrictions-message-XfFwpl",warningIcon:"ShareRestrictions-warningIcon-1pNCPA"}},"+GYj":function(e,t,a){e.exports={input:"RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",subtitle:"RestrictionProfilesInput-subtitle-1x_Efz"}},"+ICQ":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '}))},"+K+r":function(e,t,a){(function(e){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var a=!1,i=this;e(this).one(e.support.transition.end,(function(){a=!0}));return setTimeout((function(){a||e(i).trigger(e.support.transition.end)}),t),this},e((function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var a in t)if(void 0!==e.style[a])return{end:t[a]}}()}))}(e)}).call(this,a("EVdn"))},"+K/F":function(e,t,a){e.exports={posterCardContainer:"WatchTogetherParticipantCell-posterCardContainer-2ny7Q7",card:"WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",titleContainer:"WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},"+LVH":function(e,t,a){e.exports={pageHeaderCenter:"PivotTabsPageHeaderCenter-pageHeaderCenter-1vVtqc PageHeaderCenter-pageHeaderCenter-XZlGC2"}},"+Lxe":function(e,t,a){e.exports={container:"GridAlsoAiring-container-1GKdlS",content:"GridAlsoAiring-content-UIHGKI Scroller-vertical-VScFLT",tooltipButton:"GridAlsoAiring-tooltipButton-2CNbk7"}},"+MhW":function(e,t,a){e.exports={selectButton:"SelectButton-selectButton-3Kbjm9",isSelected:"SelectButton-isSelected-3mX245",selectCircle:"SelectButton-selectCircle-3tdvGt",selectedIcon:"SelectButton-selectedIcon-3-SALM"}},"+We+":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=e=>Function.prototype.toString.call(e),r=i(Object);function n(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var a=t.constructor;return"function"==typeof a&&a instanceof a&&i(a)===r}},"+ZLW":function(e,t,a){e.exports={container:"ServerResources-container-1Mqi4i",graph:"ServerResources-graph-2MSl80"}},"+art":function(e,t,a){e.exports={modal:"SubtitlesUploadModal-modal-2UMyzf Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},"+b+4":function(e,t,a){e.exports={titleContainer:"SearchTagPosterCell-titleContainer-2WMiUS",imageContainer:"SearchTagPosterCell-imageContainer-244-TF",imageLink:"SearchTagPosterCell-imageLink-GYb2j1",isPerson:"SearchTagPosterCell-isPerson-3JJoqT"}},"+tcT":function(e,t,a){e.exports={description:"AudioSubtitleSettingsFormSection-description-3K2f7a"}},"+tih":function(e,t,a){e.exports={scroller:"SourceSidebarScroller-scroller-3jyEM6 Scroller-scroller-3GqQcZ"}},"+vwP":function(e,t,a){e.exports={button:"SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK",spinnerContainer:"SpinnerButton-spinnerContainer-1RHCbv",spinner:"SpinnerButton-spinner-TNQl5_ Spinner-spinner-1qRM4t spin-spin-2kLwt_",label:"SpinnerButton-label-2HIugt",isSpinning:"SpinnerButton-isSpinning-2ZrKdu"}},"+zWO":function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("jejw"),o=a("DTXE"),l=a("pXVu"),c=a("ADhH"),d=a("4MSa"),u={unviewedLeafCount:">="},p=d.default.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url(){var e,t,a=[],i=this.section.get("currentFolderKey");if(i)a.push(i);else if(a.push(r.a.result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),a.push(e),t=this.getParams();else{var s=this.section.get("currentFilters");s.length?a=[s[0].values[0]]:a.push(e)}var o=n.join(a,t);return o=this.replaceSpecialFilterOperators(o),this.set("containerKey",o),this.server.get("isFullServer")?this.getPaginatedUrl(o):o},getParams(){var e=this.getFilterParams(),t=this.getMetadataTypeID(),a=this.getSort();return t&&t!==Object(c.u)("photo").id&&(e.type=t),a&&(e.sort=a),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams(){var e=this.section.get("currentFilters"),t={};return r.a.each(e,e=>{e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))}),t},getMetadataTypeID(){var e=this.section.get("currentSubset").id,t=this.section.get("currentType").id||Object(c.u)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===Object(c.u)("show").id||t===Object(c.u)("season").id?t=Object(c.u)("episode").id:t!==Object(c.u)("artist").id&&t!==Object(c.u)("track").id||(t=Object(c.u)("album").id):/^recentlyViewedShows$/.test(e)&&(t=Object(c.u)("show").id),t},getSort(){var e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===l.a.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:e=>(r.a.each(u,(t,a)=>{e=e.replace(a+"=",a+t)}),e)}),h=a("9gi5"),m=a("qOxg"),v=a("PmXU"),g=a("kkNn"),y=a("yize"),f=a("A+r8"),b=a("IQV3"),I=Object(b.a)(["key"],[{key:"all",title:()=>Object(f.default)("All")},{key:"unwatched",title:()=>Object(f.default)("Unplayed")},{key:"newest",title:()=>Object(f.default)("Recently Released")},{key:"recentlyAdded",title:()=>Object(f.default)("Recently Added")},{key:"recentlyViewed",title:()=>Object(f.default)("Recently Viewed")},{key:"recentlyViewedShows",title:()=>Object(f.default)("Recently Viewed Shows")},{key:"onDeck",title:()=>Object(f.default)("On Deck")},{key:"folder",title:()=>Object(f.default)("By Folder")}]),S=a("oZqB"),M=a("UvU1"),C=a("ATJK"),D=a("Sgs+"),P=a("BRfu"),O=s.a.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:o.a.boolean,key:o.a.string,title:o.a.string},syncedRelations:{options:{relationClass:P.a}},defaults:{secondary:!1}}),j=D.a.extend({name:"LinearFilterCollection",context:["server","section"],model:O,url(){return r.a.result(this.section,"url")},filterBySecondary(){var e=this.filter(e=>e.get("secondary"));return this.clone(e)}}),T=s.a.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:o.a.integer,path:{type:o.a.string,save:!0}}}),w=D.a.extend({name:"LocationCollection",context:["server","section"],model:T}),E=s.a.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:o.a.integer,typeString:o.a.string,title:o.a.string,plural:o.a.string,mediaType:o.a.string,child:o.a.string,parent:o.a.string,selected:o.a.boolean},defaults:{selected:!1}}),N=D.a.extend({name:"MediaTypeCollection",context:["server","section"],model:E}),x=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],A=s.a.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:o.a.boolean},syncedAttrs:{key:o.a.string,title:o.a.string,secondary:o.a.boolean},derivedAttrs:{primary(){return!this.get("secondary")&&r.a.contains(x,this.get("key"))}},defaults:{selected:!1},augmentResponse:e=>("all"===e.key&&(e.title=Object(f.default)("All")),e)},{whitelistedPrimaryKeySubsets:x}),L=D.a.extend({name:"SectionSubsetCollection",context:["server","section"],model:A,url(){return r.a.result(this.section,"url")},filterPrimaries(){var e=this.filter(e=>e.get("primary"));return this.clone(e)}}),k=a("UAn2"),R=s.a.extend({name:"SectionModel",context:["server"],entityType:g.d,entityID(e=this.state){return Object(v.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new m.a,persistInCache:!0,cacheKey(e){return this.server&&this.server.getScopedKey(e.key)},url(){return this.isNew()?r.a.result(this,"urlRoot")||r.a.result(this.collection,"url"):r.a.isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id},sessionAttrs:{isSection:o.a.boolean,isCollectionsPopulated:o.a.boolean,currentFilters:o.a.array,currentFolderKey:o.a.string,settings:o.a.instanceOf(h.a)},syncedAttrs:{key:o.a.oneOfType(o.a.string,o.a.integer),uuid:o.a.string,thumb:o.a.string,art:o.a.string,createdAt:o.a.integer,updatedAt:o.a.integer,allowAdvancedFilters:o.a.boolean,allowSync:o.a.boolean,refreshing:o.a.boolean,name:{type:o.a.string,save:!0},title:{type:o.a.string,save:!0},type:{type:o.a.string,save:!0},agent:{type:o.a.string,save:!0},scanner:{type:o.a.string,save:!0},language:{type:o.a.string,save:!0},importFromiTunes:{type:o.a.boolean,save:!0},enableAutoPhotoTags:{type:o.a.boolean,save:!0}},derivedAttrs:{serverEntityID(){return this.state?this.server.entityID():""}},syncedRelations:{locations(){return{relationClass:w,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items(){return{relationClass:p,options:{section:this}}},currentSubset(){return{relationClass:A,options:{section:this}}},currentFirstCharacter:()=>({relationClass:C.a,deferred:!0}),currentType:()=>({relationClass:E,deferred:!0}),currentSort:()=>({relationClass:l.a,deferred:!0}),types(){return{relationClass:N,options:{section:this}}},subsets(){return{relationClass:L,options:{section:this}}},filters(){return{relationClass:this.get("allowAdvancedFilters")?S.a:j,options:{section:this}}},sorts(){return{relationClass:k.a,options:{section:this}}},firstCharacters(){return{relationClass:M.a,options:{section:this}}}},defaults(){return{isSection:!0,isCollectionsPopulated:!1,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:I.get("all"),settings:new h.a([],{server:this.server,url:()=>n.join(["/library/sections/",this.get("key"),"/prefs"])})}},initialize(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:e=>(e.allowAdvancedFilters=!!e.filters,delete e.filters,e),getSectionType(){var e=this.get("type");return y.g.get(e)},getSaveParams(e){var t=s.a.prototype.getSaveParams.apply(this,arguments);if("type"in t){var a=y.g.get(t.type);a&&(t.type=a.typeString)}return"title"in t&&(t.name=t.title,delete t.title),r.a.isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=r.a.pluck(t.Location,"path"),delete t.Location),t},getSyncTitle(e){var t=this.get("title"),a=[],i=this.get("currentSubset"),n=this.get("currentFilters");return e?(r.a.each(e,e=>{a.push(e.get("title"))}),t+": "+a.join(", ")):"all"!==i.id?t+": "+i.get("title"):n.length?(r.a.each(n,(function(e){a.push(e.titles.join(", "))})),t+": "+a.join(",")):t},setAgentAndScanner(e,t,a){var i=e.defaultAgents.find(e=>t.find(t=>t.get("identifier")===e)),r=e.defaultScanners.find(e=>a.find(t=>t.get("name")===e));this.set({agent:i,scanner:r})},updateMediaTypes(e,t){var a=Object(c.v)(t);this.get("types").reset(a)}});t.a=R},"//Cn":function(e,t,a){"use strict";var i=a("G4qV"),r=a("V+TA"),n=a("yfFC");var s=Object(r.a)((function(e){return t=>e===n.a.Photo?t.ui.photoPlayer:t.ui.audioVideoPlayer}));t.a=Object(r.a)((function(e,t){return Object(i.a)(s(e),e=>e[t])}))},"/3H6":function(e,t,a){e.exports={modalContainer:"Modal-modalContainer-tNumMm",modalBackdrop:"Modal-modalBackdrop-3-L45r",modal:"Modal-modal-3Z1JSX",small:"Modal-small-37D0Mq Modal-modal-3Z1JSX",medium:"Modal-medium-1UIAdk Modal-modal-3Z1JSX",large:"Modal-large-1fVmOF Modal-modal-3Z1JSX"}},"/6Su":function(e,t,a){e.exports={childrenContainer:"CurrentSourcePageHeaderLeft-childrenContainer-1LCz1_"}},"/9Dk":function(e,t,a){e.exports={container:"PrePlayPopularList-container-2eAUSi",moreContainer:"PrePlayPopularList-moreContainer-1C7PCg"}},"/EX7":function(e,t,a){e.exports={deviceImageContainer:"DVRSetupDevice-deviceImageContainer-2xU-HL",selectButton:"DVRSetupDevice-selectButton-ae6X2N SelectButton-selectButton-3Kbjm9",details:"DVRSetupDevice-details-3KGanS",make:"DVRSetupDevice-make-1bKta_",modelContainer:"DVRSetupDevice-modelContainer-2aBGGR",model:"DVRSetupDevice-model-2C8RY9",uri:"DVRSetupDevice-uri-1doZGQ",channelCount:"DVRSetupDevice-channelCount-3h5cjL"}},"/Efv":function(e,t,a){e.exports={modalNote:"SourceActionsMenu-modalNote-2jUOsJ"}},"/GUN":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(r(a("ortX")).call(t,"Organize Your Media",{hash:{},data:s}))+'</h4> <p class="text-muted">'+l(r(a("ortX")).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:s}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(r(a("ortX")).call(t,"Add Library",{hash:{},data:s}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(r(a("ortX")).call(t,"Back",{hash:{},data:s}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(r(a("ortX")).call(t,"Next",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},"/HJv":function(e,t,a){"use strict";var i=a("Sgs+"),r=a("gGoS"),n=i.a.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:r.a});t.a=n},"/IMa":function(e,t,a){e.exports={pageContentScroller:"PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"/Oxn":function(e,t,a){e.exports={allEpisodesContainer:"PrePlaySimpleDetailsVirtualList-allEpisodesContainer-xIfelE"}},"/OzK":function(e,t,a){"use strict";a.d(t,"a",(function(){return d}));var i=a("JuGE"),r=a("AG/Q"),n=a("PIaE"),s=a("ADhH");var o=a("eosY"),l=a("Nr3d"),c=a("vkLW");function d(e,t){var a=t.options?Object.assign({},t.options):{},d=c.j(e,t),u=c.m(e,t),p=t.itemProviderEntityID&&c.s(e,{providerEntityID:t.itemProviderEntityID})||d,h=t.itemServerEntityID&&c.t(e,{serverEntityID:t.itemServerEntityID})||u,m=function({providerModel:e,serverModel:t,itemServerModel:a,itemProviderModel:i,options:o={}}){var{containerKey:l,listType:c}=o;if(!(e.get("identifier")!==i.get("identifier")||t.get("machineIdentifier")!==a.get("machineIdentifier")))return!0;if(c===s.p&&l)return!1;var d=e.get("features").get(r.l),u=!!d&&d.get("flavor")===n.c&&!t.get("isCloud"),p=a.get("isShared");return!u||p}({providerModel:d,serverModel:u,itemServerModel:h,itemProviderModel:p,options:t.options});return a.serverModel=m?h:u,a.providerModel=m?p:d,Object(o.a)(e,l.a)&&(a.includeExternalMedia=1),t.metadataItemEntityID&&(a.metadataItemModel=c.f(e,t)),t.playlistMetadataItemEntityID&&(a.playlistModel=c.f(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(a.metadataItemModels=t.metadataItemEntityIDs.map(t=>c.f(e,{metadataItemEntityID:t}))),t.metadataListEntityID&&(a.metadataListModel=c.g(e,t)),t.listType&&(a.type=Object(i.a)({metadataType:t.listType})),a}},"/R4L":function(e,t,a){e.exports={pageScroller:"Page-pageScroller-3nUMiS Scroller-scroller-CQJq74"}},"/TfA":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div id="alertBar" class="alert-bar-container"></div> <div id="content" class="scroll-container dark-scrollbar"></div> '}))},"/VEV":function(e,t,a){e.exports={fill:"ChannelsGridProgress-fill-hY0DOn",active:"ChannelsGridProgress-active-1lw2kP"}},"/gAe":function(e,t,a){e.exports={section:"ServerDashboardPageSection-section-3S6kbD"}},"/k80":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+c(r(a("ortX")).call(t,"All",{hash:{},data:s})),((o=i.if.call(t,t&&t.allCount,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+='<span class="badge">'+c("function"==typeof(a=e&&e.allCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+c(r(a("ortX")).call(t,"Video",{hash:{},data:s})),((o=i.if.call(t,t&&t.videoCount,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var a,i="";return i+='<span class="badge">'+c("function"==typeof(a=e&&e.videoCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+c(r(a("ortX")).call(t,"Music",{hash:{},data:s})),((o=i.if.call(t,t&&t.musicCount,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var a,i="";return i+='<span class="badge">'+c("function"==typeof(a=e&&e.musicCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+c(r(a("ortX")).call(t,"Photo",{hash:{},data:s})),((o=i.if.call(t,t&&t.photoCount,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var a,i="";return i+='<span class="badge">'+c("function"==typeof(a=e&&e.photoCount)?a.apply(e):a)+"</span>"}),s),data:s}))||0===o)&&(l+=o),l+="</a></li> </ul> <h2>"+c(r(a("ortX")).call(t,"Plugins",{hash:{},data:s}))+"</h2> ",((o=i.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var i="";return i+=' <p style="padding:20px">'+c(r(a("ortX")).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="channels-container"></div> '}))},"/lm6":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"No devices found",{hash:{},data:n}))+"</h4> </div> "}))},"/sof":function(e,t,a){e.exports={form:"DeviceChannelMappings-form-BhAiSq",channelMappingsBody:"DeviceChannelMappings-channelMappingsBody-1KPoxK ModalBody-modalBody--5uHSu",programGuideLabel:"DeviceChannelMappings-programGuideLabel-3tWK8z",programGuideSelectContainer:"DeviceChannelMappings-programGuideSelectContainer-1cpiV-",programGuideTitle:"DeviceChannelMappings-programGuideTitle-3xOjMS",centeredContainer:"DeviceChannelMappings-centeredContainer-3NaUqc",scroller:"DeviceChannelMappings-scroller-2_Aea6 Scroller-vertical-VScFLT",channelMappingsContainer:"DeviceChannelMappings-channelMappingsContainer-2gZaIv"}},"/vPP":function(e,t,a){(function(e){!function(e){"use strict";var t="[data-toggle=dropdown]",a=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(){e(".dropdown-backdrop").remove(),e(t).each((function(t){var a=r(e(this));a.hasClass("open")&&(a.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||a.removeClass("open").trigger("hidden.bs.dropdown"))}))}function r(t){var a=t.attr("data-target");a||(a=(a=t.attr("href"))&&/#/.test(a)&&a.replace(/.*(?=#[^\s]*$)/,""));var i=a&&e(a);return i&&i.length?i:t.parent()}a.prototype.toggle=function(t){var a=e(this);if(!a.is(".disabled, :disabled")){var n=r(a),s=n.hasClass("open");if(i(),!s){if("ontouchstart"in document.documentElement&&!n.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i),n.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;n.toggleClass("open").trigger("shown.bs.dropdown"),a.focus()}return!1}},a.prototype.keydown=function(a){if(/(38|40|27)/.test(a.keyCode)){var i=e(this);if(a.preventDefault(),a.stopPropagation(),!i.is(".disabled, :disabled")){var n=r(i),s=n.hasClass("open");if(!s||s&&27==a.keyCode)return 27==a.which&&n.find(t).focus(),i.click();var o=e("[role=menu] li:not(.divider):visible a",n);if(o.length){var l=o.index(o.filter(":focus"));38==a.keyCode&&l>0&&l--,40==a.keyCode&&l<o.length-1&&l++,~l||(l=0),o.eq(l).focus()}}}};var n=e.fn.dropdown;e.fn.dropdown=function(t){return this.each((function(){var i=e(this),r=i.data("dropdown");r||i.data("dropdown",r=new a(this)),"string"==typeof t&&r[t].call(i)}))},e.fn.dropdown.Constructor=a,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=n,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",(function(e){e.stopPropagation()})).on("click.bs.dropdown.data-api",t,a.prototype.toggle).on("keydown.bs.dropdown.data-api",t+", [role=menu]",a.prototype.keydown)}(e)}).call(this,a("EVdn"))},"/z0O":function(e,t,a){e.exports={modalSubheader:"ModalSubheader-modalSubheader-1GEoo-"}},0:function(e,t,a){a("j36g"),e.exports=a("gZro")},"004c":function(e,t,a){e.exports={link:"ServerUpdatePage-link-1rdLzs",actionContainer:"ServerUpdatePage-actionContainer-1lWIGk EmptyPageDescription-description-DhEtaD",progressContainer:"ServerUpdatePage-progressContainer-Q2yIFr"}},"01sc":function(e,t){function a(e){for(var t=e.length,a=new Array(t),i=0;i<t;i++)a[i]=e.charCodeAt(i);return a}function i(e){for(var t="",a=0;a<e.length;a++)t+=SHA256_hexchars[e[a]>>4]+SHA256_hexchars[15&e[a]];return t}function r(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function n(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(a(e)):SHA256_buf.concat(e);for(var t=0;t+64<=SHA256_buf.length;t+=64)v(SHA256_H,SHA256_buf.slice(t,t+64));SHA256_buf=SHA256_buf.slice(t),SHA256_len+=e.length}function s(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;v(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,v(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}function o(e){HMAC_SHA256_key="string"==typeof e?a(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(r(),n(HMAC_SHA256_key),HMAC_SHA256_key=s());for(var t=HMAC_SHA256_key.length;t<64;t++)HMAC_SHA256_key[t]=0;for(t=0;t<64;t++)HMAC_SHA256_key[t]^=54;r(),n(HMAC_SHA256_key)}function l(e){n(e)}function c(){for(var e=s(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;r(),n(HMAC_SHA256_key),n(e);for(t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,s()}function d(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function u(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e,t,a){return a^e&(t^a)}function m(e,t,a){return e&t^a&(e^t)}function v(e,t){for(var a=new Array(16),i=0;i<16;i++)a[i]=t[4*i+0]<<24|t[4*i+1]<<16|t[4*i+2]<<8|t[4*i+3];!function(e,t){for(var a=16;a<64;a++)t[a]=4294967295&(((i=t[a-2])>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)+t[a-7]+d(t[a-15])+t[a-16];var i,r=(new Array).concat(e);for(a=0;a<64;a++){var n=r[7]+p(r[4])+h(r[4],r[5],r[6])+SHA256_K[a]+t[a],s=u(r[0])+m(r[0],r[1],r[2]);r.pop(),r.unshift(n+s&4294967295),r[4]=r[4]+n&4294967295}for(a=0;a<8;a++)e[a]=e[a]+r[a]&4294967295}(e,a)}SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),e.exports={SHA256_hash:function(e){return r(),n(e),i(s())},HMAC_SHA256_init:o,HMAC_SHA256_write:l,HMAC_SHA256_finalize:c}},"03RP":function(e,t,a){"use strict";var i=a("Sgs+"),r=a("jejw"),n=a("DTXE"),s=r.a.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:n.a.string,title:n.a.string,type:n.a.string,subType:n.a.string}}),o=i.a.extend({name:"FieldCollection",context:["server"],model:s}),l=a("oZqB"),c=a("UAn2"),d=r.a.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:n.a.string,subtype:n.a.string,key:n.a.string,title:n.a.string,context:n.a.string},syncedRelations:{filters:{relationClass:l.a,rootPropertyName:"Filter"},sorts:{relationClass:c.a,rootPropertyName:"Sort"},fields:{relationClass:o,rootPropertyName:"Field"}}}),u=i.a.extend({name:"MetadataTypeCollection",context:["server"],model:d});t.a=u},"056+":function(e,t,a){e.exports={img:"MetadataTitleAttributionLogo-img-1piMjP"}},"05C2":function(e,t,a){e.exports={version:"ReleaseNotesModal-version-2-RIQI",listTitle:"ReleaseNotesModal-listTitle-1aNZmv"}},"08AQ":function(e,t,a){e.exports={pageHeader:"UserSharingSettingsPage-pageHeader-2_t6mm PageHeader-pageHeader-2KNPGd",pageHeaderLeft:"UserSharingSettingsPage-pageHeaderLeft-1LP8mb PageHeaderLeft-pageHeaderLeft-12U4iA",pageHeaderRight:"UserSharingSettingsPage-pageHeaderRight-1DZxiG PageHeaderRight-pageHeaderRight-1dljwG",addToHomeIcon:"UserSharingSettingsPage-addToHomeIcon-1svaEG IconButton-button-9An-7I",avatar:"UserSharingSettingsPage-avatar-3ETJGK AvatarImg-avatar-3Op56u",username:"UserSharingSettingsPage-username-1NRe2Z",confirmMessageContainer:"UserSharingSettingsPage-confirmMessageContainer-1QeAb9",confirmWarning:"UserSharingSettingsPage-confirmWarning-1JuBcJ",confirmMessage:"UserSharingSettingsPage-confirmMessage-10AdiR"}},"08Kf":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'"> <input id="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'" name="'+c("function"==typeof(s=t&&t.identifier)?s.apply(t):s)+'" type="checkbox" ',((s=i.if.call(t,t&&t.enabled,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"checked"}),n),data:n}))||0===s)&&(l+=s),l+=" ",((s=i.if.call(t,t&&t.isPrimary,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return"disabled"}),n),data:n}))||0===s)&&(l+=s),l+="> "+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.name,{hash:{},data:n}))+" </label> "}))},"0BwR":function(e,t,a){e.exports={bar:"AudioVideoFullPlayer-bar-dDYeoN",topBar:"AudioVideoFullPlayer-topBar-2XUGMf AudioVideoFullPlayer-bar-dDYeoN",bottomBar:"AudioVideoFullPlayer-bottomBar-2yixi6 AudioVideoFullPlayer-bar-dDYeoN",content:"AudioVideoFullPlayer-content-37T7O7",spinnerContainer:"AudioVideoFullPlayer-spinnerContainer-2_xo8f",overlayButton:"AudioVideoFullPlayer-overlayButton-30Vz4v Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"AudioVideoFullPlayer-videoTopBar-3qWKu8",playQueueTopBar:"AudioVideoFullPlayer-playQueueTopBar-2CRTlW",topBarHidden:"AudioVideoFullPlayer-topBarHidden-24GZNA",bottomBarHidden:"AudioVideoFullPlayer-bottomBarHidden-3fSSwd"}},"0DAK":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a("yDpE");var i=a("O57k"),r=a("flN6");function n(e){var{key:t,getModel:a,onResolved:n,onRejected:s}=e,o=Object(i.a)(t),l="is"+o+"Pending",c="is"+o+"Populated",d=t?t+"Error":"error";return(t,i={},o)=>{var u=a(t,i),p=(u.sessionAttrs,u.get(l));u.set(l,!0),e.fetch(t,i,o).then(()=>{u.set({[l]:!1,[c]:!0,[d]:null}),n&&n(u,t,i,o)},e=>{var a=e.aborting?{[l]:p}:{[l]:!1,[d]:Object(r.a)(e)};u.set(a),s&&s(u,t,i,o)})}}},"0F0y":function(e,t,a){e.exports={container:"SubtitlesOffsetSettings-container-2qSmYo AudioVideoStripeContainer-container-MI02OU",closeButton:"SubtitlesOffsetSettings-closeButton-2WdGs9 Link-link-2n0yJn",title:"SubtitlesOffsetSettings-title-2G4Dw8",buttonContainer:"SubtitlesOffsetSettings-buttonContainer-29XRne",button:"SubtitlesOffsetSettings-button-17oZz6 Button-button-2kT68l Link-link-2n0yJn"}},"0PCw":function(e,t,a){e.exports={container:"PhotoHubList-container-1-l_qP",title:"PhotoHubList-title-1lMNLT",list:"PhotoHubList-list-3GW3Uv"}},"0UmJ":function(e,t,a){e.exports={form:"ShareLibraries-form-3J6P_v",modalBody:"ShareLibraries-modalBody-k4aMxH ModalBody-modalBody--5uHSu",message:"ShareLibraries-message-5od7pI",spinnerContainer:"ShareLibraries-spinnerContainer-3bRhzE",scroller:"ShareLibraries-scroller-2lozQG Scroller-vertical-VScFLT",modalFooter:"ShareLibraries-modalFooter-1fcHCz ModalFooter-modalFooter-30WIB5"}},"0csW":function(e,t,a){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1LwUaC"}},"0dFH":function(e,t,a){e.exports={item:"MetadataTableRow-item-11DH-Z",isActionsMenuOpen:"MetadataTableRow-isActionsMenuOpen-3yasOW",transientTitle:"MetadataTableRow-transientTitle-3nwhoL",button:"MetadataTableRow-button-1Y7ax9",hasActiveSelection:"MetadataTableRow-hasActiveSelection-3A2BEJ",underlay:"MetadataTableRow-underlay-2ipZbj",isForcingSelection:"MetadataTableRow-isForcingSelection-t_XFIx",overlay:"MetadataTableRow-overlay-1RiIdu",transientTitleLeft:"MetadataTableRow-transientTitleLeft-19Y6Pd MetadataTableRow-transientTitle-3nwhoL",transientTitleRight:"MetadataTableRow-transientTitleRight-3JGw3f MetadataTableRow-transientTitle-3nwhoL",playButton:"MetadataTableRow-playButton-3bNBC0 PlayButton-playButton-3WX8X- MetadataTableRow-button-1Y7ax9",editButton:"MetadataTableRow-editButton-1hH1w0 MetadataTableRow-button-1Y7ax9",moreButton:"MetadataTableRow-moreButton-2YKSy8 MetadataTableRow-button-1Y7ax9",downloadIcon:"MetadataTableRow-downloadIcon-2BopYh",isSelected:"MetadataTableRow-isSelected-bNqXlr",selectButton:"MetadataTableRow-selectButton-11Ia99 SelectButton-selectButton-3Kbjm9 MetadataTableRow-button-1Y7ax9",alternateItem:"MetadataTableRow-alternateItem-1-jtpL MetadataTableRow-item-11DH-Z",playCell:"MetadataTableRow-playCell-ziDSkt",actionsCell:"MetadataTableRow-actionsCell-1ax6EZ",libraryActionsCell:"MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ",transientTitleRightText:"MetadataTableRow-transientTitleRightText-25yD3X",selectCoverButton:"MetadataTableRow-selectCoverButton-3SFDJL",equalizer:"MetadataTableRow-equalizer-35cH_6 EqualizerIcon-equalizer-2SoFA6"}},"0dto":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("cGVK");function r(e){return function(e){return!!e&&(!!e.get("isCloud")||e.supports("json")&&!e.get("onlyXML")&&e.get("isFullServer"))}(e)?i.a:i.c}},"0enV":function(e,t,a){var i=a("TRZY").default,r=a("S4rx");e.exports=r(i)},"0nIg":function(e,t,a){e.exports={message:"MediaSubscriptionConflict-message-1ZbxOs",conflicts:"MediaSubscriptionConflict-conflicts-3hyQu1"}},"0q5Z":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("j1Ci");function r(e,t){return e===i.a?"provider://"+t:"server://"+e+"/"+t}},"0vaO":function(e,t,a){e.exports={container:"AudioVideoInfoBar-container-2ewFys"}},"0vpL":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+=(0,this.escapeExpression)((n=a.file)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.file)?n.call(t,{hash:{},data:r}):n)+" "}))},"0yYQ":function(e,t,a){e.exports={card:"SpotlightHubCard-card-1AOdpG",hoveredCard:"SpotlightHubCard-hoveredCard-10pILW SpotlightHubCard-card-1AOdpG",link:"SpotlightHubCard-link-12D2UP",colorGradient:"SpotlightHubCard-colorGradient-15MdVv",image:"SpotlightHubCard-image-2I5NNC",attributionLogo:"SpotlightHubCard-attributionLogo-1DxMMZ",copyOverlay:"SpotlightHubCard-copyOverlay-2N3ohA",title:"SpotlightHubCard-title-OWpvwQ",summary:"SpotlightHubCard-summary-1YDpIt",action:"SpotlightHubCard-action-2Of1Cj"}},"17s9":function(e,t,a){e.exports={photoContainer:"MetadataPhotoCell-photoContainer-1HkmQE",photo:"MetadataPhotoCell-photo-Po3Kxh",image:"MetadataPhotoCell-image-3KqaFc",badge:"MetadataPhotoCell-badge-2L0KJM",title:"MetadataPhotoCell-title-OzhEqa"}},"1B0D":function(e,t,a){e.exports={unwatchedCircle:"MetadataTitleMiniProgress-unwatchedCircle-235-SR MetadataTitleProgress-unwatchedCircle-25KKnh",isPartiallyWatched:"MetadataTitleMiniProgress-isPartiallyWatched-19Hrxr",small:"MetadataTitleMiniProgress-small-1fCcoZ",medium:"MetadataTitleMiniProgress-medium-xU97R-"}},"1DoD":function(e,t,a){"use strict";a.r(t);var i=a("sWYD"),r=a("RgJi");t.default=function(e,t="MMMM d, yyyy"){return e?Object(i.a)(Object(r.a)(e),t):""}},"1GD4":function(e,t,a){e.exports={toolbarButton:"ToolbarButton-toolbarButton-2i2nnD",bottomLeft:"ToolbarButton-bottomLeft-3shLl3 Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"ToolbarButton-bottomCenter-1rHc9f Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"ToolbarButton-bottomRight-3evr63 Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",hasFocus:"ToolbarButton-hasFocus-1rnm1X"}},"1H5i":function(e,t,a){e.exports={title:"QuickSearchTitle-title-2ApAOM",isSecondary:"QuickSearchTitle-isSecondary-mxETFa"}},"1MJM":function(e,t,a){e.exports={sectionWrapper:"SettingsFormSection-sectionWrapper-1-gPgj",section:"SettingsFormSection-section-1zYMPA"}},"1PeT":function(e,t,a){e.exports={calendarDays:"CalendarDays-calendarDays-2ORCec"}},"1Y+X":function(e,t,a){e.exports={group:"PrePlayDetailsGroup-group-eTtxmW"}},"1bIl":function(e,t,a){e.exports={titleContainer:"PlayHistoryTableTitle-titleContainer-vtURK5",title:"PlayHistoryTableTitle-title-2Q3T6W"}},"1cAJ":function(e,t,a){e.exports={listContainer:"DatePickerMenu-listContainer-2IYmJe",list:"DatePickerMenu-list-3YRaAd",showTimeOptions:"DatePickerMenu-showTimeOptions-2OWJ97"}},"1d8V":function(e,t,a){e.exports={container:"NavBar-container-1T0BJz",side:"NavBar-side-2kZrHV",button:"NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",buttonSeparator:"NavBar-buttonSeparator-1ZbV4v",accountButton:"NavBar-accountButton-3EEZiM NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",plexLogo:"NavBar-plexLogo-3_NNRw NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",left:"NavBar-left-2SrTGf NavBar-side-2kZrHV",right:"NavBar-right-2ZzDEY NavBar-side-2kZrHV"}},"1eVT":function(e,t,a){e.exports={pane:"RecordingPriorityPane-pane-3fYq2e",paneHeader:"RecordingPriorityPane-paneHeader-3h_Eju",paneScroller:"RecordingPriorityPane-paneScroller-LJe-wd Scroller-vertical-VScFLT",error:"RecordingPriorityPane-error-OyjVka",empty:"RecordingPriorityPane-empty-1Ne_BI"}},"1ggG":function(e,t,a){e.exports={overlay:"MetadataSimpleDetailsRow-overlay-1vdQ-E",selectOverlay:"MetadataSimpleDetailsRow-selectOverlay-UXo7mR Link-link-2ew_DK",selectedListRow:"MetadataSimpleDetailsRow-selectedListRow-3KOauR ListRow-row-1sqnTj",rangeListRow:"MetadataSimpleDetailsRow-rangeListRow-qegZRS ListRow-row-1sqnTj",simpleSummaryContainer:"MetadataSimpleDetailsRow-simpleSummaryContainer-De19Kf",indexPlayContainer:"MetadataSimpleDetailsRow-indexPlayContainer-32WyP0",titleEpisodeIndex:"MetadataSimpleDetailsRow-titleEpisodeIndex-P5PAQd",playButtonContainer:"MetadataSimpleDetailsRow-playButtonContainer-3GP1po",titleAndSummaryContainer:"MetadataSimpleDetailsRow-titleAndSummaryContainer-3KgWzN",titleContainer:"MetadataSimpleDetailsRow-titleContainer-3ufYfy",title:"MetadataSimpleDetailsRow-title-1SWzlV",summary:"MetadataSimpleDetailsRow-summary-gJpGwv",actions:"MetadataSimpleDetailsRow-actions-_75f1s"}},"1iSi":function(e,t,a){e.exports={container:"ChannelsGridRowTitle-container-2k8lvi",numberContainer:"ChannelsGridRowTitle-numberContainer-1NXm94",thumbnailContainer:"ChannelsGridRowTitle-thumbnailContainer-3ThS3l",fullWidth:"ChannelsGridRowTitle-fullWidth-A2VyVQ",icon:"ChannelsGridRowTitle-icon-2JYIKp",isRecent:"ChannelsGridRowTitle-isRecent-2IcEK0",thumbnail:"ChannelsGridRowTitle-thumbnail-1At_s8",channelCallSignText:"ChannelsGridRowTitle-channelCallSignText-3ehTII",playButton:"ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-",fullWidthPlayButton:"ChannelsGridRowTitle-fullWidthPlayButton-3QR62j ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-"}},"1jyh":function(e,t,a){e.exports={container:"RomPlayerView-container-2TVpJ7"}},"1kJW":function(e,t,a){e.exports={container:"TopUsersList-container-ZYnoYW ServerDashboardSectionContent-container-3rMPaP",listContainer:"TopUsersList-listContainer-Jb_srZ VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},"1n32":function(e,t,a){e.exports={fullPlayerContainer:"Player-fullPlayerContainer-1-HN7X",fullPlayerContainerBackground:"Player-fullPlayerContainerBackground-1rsLDv",miniPlayerContainer:"Player-miniPlayerContainer-3S8L9e",adPlayerDisplayIndexContainer:"Player-adPlayerDisplayIndexContainer-20jYOx"}},"1pRg":function(e,t,a){e.exports={innerContent:"PrePlayMetadataInnerContent-innerContent-1BPzwp"}},"1vuw":function(e,t,a){e.exports={tagsListLink:"PrePlayTagList-tagsListLink-Z6lfXW Link-link-2n0yJn"}},"1xdZ":function(e,t,a){e.exports={fullPlayer:"PhotoFullPlayer-fullPlayer-zjtdRE",player:"PhotoFullPlayer-player-3kRDPi",main:"PhotoFullPlayer-main-1eD7_P",mainFooter:"PhotoFullPlayer-mainFooter-2n5Rrx",content:"PhotoFullPlayer-content-28yAom",spinner:"PhotoFullPlayer-spinner-2SO2v5",bar:"PhotoFullPlayer-bar-2WMUPU",bottomBar:"PhotoFullPlayer-bottomBar-2pmIfL PhotoFullPlayer-bar-2WMUPU",seekBar:"PhotoFullPlayer-seekBar-3H_XhU SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",aside:"PhotoFullPlayer-aside-WshsFY",hideControls:"PhotoFullPlayer-hideControls-1nwReo",controls:"PhotoFullPlayer-controls-1-Z6KS",dockControls:"PhotoFullPlayer-dockControls-e5lzCQ"}},"21aO":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="row disc-number hidden"> '+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:n}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c("function"==typeof(s=t&&t.index)?s.apply(t):s)+'. </span> <span class="col-xs-11 match-track-name ',((s=i.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"missing"}),n),data:n}))||0===s)&&(l+=s),l+='"> '+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+" </span> </div> "}))},"21iP":function(e,t,a){e.exports={menuPortal:"Menu-menuPortal-AbMPTD",menuScroller:"Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT",menu:"Menu-menu-3XnN6J",isDisabled:"Menu-isDisabled-34uAXf",small:"Menu-small-3l53QV",medium:"Menu-medium-2qYxsO",large:"Menu-large--60wbS"}},"26nm":function(e,t,a){e.exports={spinnerContainer:"PrePlayRelatedHubsList-spinnerContainer-2Q9a5q"}},"2NUs":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("lRX7");function r(e,t){return Object(i.a)(e,t)?"localQuality":"remoteQuality"}},"2OOI":function(e,t,a){e.exports={container:"LibraryFilterBuilder-container-1ep_xx",loadingContainer:"LibraryFilterBuilder-loadingContainer-c77MeP LibraryFilterBuilder-container-1ep_xx",footer:"LibraryFilterBuilder-footer-3W2q0T",settings:"LibraryFilterBuilder-settings-okmbXJ",checkInput:"LibraryFilterBuilder-checkInput-B0ck9X InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b",numberInput:"LibraryFilterBuilder-numberInput-1vwc6F InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4",buttons:"LibraryFilterBuilder-buttons-3PEDFO",error:"LibraryFilterBuilder-error-3XiwBp",button:"LibraryFilterBuilder-button-36Leqv Button-button-2kT68l Link-link-2n0yJn",saveButton:"LibraryFilterBuilder-saveButton-3cT3i4 SplitButton-button-1B9GD_"}},"2VzV":function(e,t,a){e.exports={cancelConfirmationMessage:"CancelRecordingConfirmation-cancelConfirmationMessage-3l-ktf"}},"2ZL2":function(e,t,a){e.exports={infoContainer:"WebhookSettingsPageInfo-infoContainer-37YfYn"}},"2ewr":function(e,t,a){e.exports={button:"NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",icon:"NavBarIconButton-icon-2gdVPu",alertIcon:"NavBarIconButton-alertIcon-2HPvE2",tooltip:"NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarIconButton-tooltipTriggerHasFocus-347Sxg NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"2kxp":function(e,t,a){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-12U4iA"}},"2sa7":function(e,t,a){e.exports={button:"IconButton-button-9An-7I",isDisabled:"IconButton-isDisabled-2Wi5UT",isActive:"IconButton-isActive-1_AJJ-",label:"IconButton-label-1cUJaL"}},"3+5O":function(e,t,a){e.exports={iframe:"DownloadFileMetadataActionMenuItem-iframe-2fm0lx"}},"3+Hb":function(e,t,a){e.exports={summaryContainer:"TopUsersCell-summaryContainer-35xDP9",playHistoryLink:"TopUsersCell-playHistoryLink-33RSfu Link-link-2ew_DK",avatar:"TopUsersCell-avatar-1EwhtA AvatarImg-avatar-3Op56u",summary:"TopUsersCell-summary-2q0pjV",row:"TopUsersCell-row-3BSOkQ",username:"TopUsersCell-username-2F0LkP TopUsersCell-row-3BSOkQ",metadataRow:"TopUsersCell-metadataRow-1sIxqD TopUsersCell-row-3BSOkQ",metadataTitle:"TopUsersCell-metadataTitle-1wzzTc",duration:"TopUsersCell-duration-38wAzG"}},"30iw":function(e,t,a){e.exports={autoHomePageContent:"AutoHomePage-autoHomePageContent-2A7d9X PageContent-innerPageContent-3ktLTA"}},"381m":function(e,t,a){e.exports={image:"MetadataDirectoryListItem-image-2GFrn8",titleContainer:"MetadataDirectoryListItem-titleContainer-2jxE16",title:"MetadataDirectoryListItem-title-YsYTS9"}},3862:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c("function"==typeof(o=t&&t.title)?o.apply(t):o)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c("function"==typeof(o=t&&t.message)?o.apply(t):o)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((o=i.unless.call(t,t&&t.hideCancel,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+=' <button type="button" class="confirm-btn btn btn-lg ',((o=i.if.call(t,t&&t.hasDanger,{hash:{},inverse:this.program(5,(function(e,t){return"btn-primary"}),s),fn:this.program(3,(function(e,t){return"btn-danger"}),s),data:s}))||0===o)&&(l+=o),l+=' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,t&&t.confirmLabel,{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},"3B9w":function(e,t,a){e.exports={prePlayPageContentContainer:"PrePlayPageContent-prePlayPageContentContainer-1ckaMA PageContent-pageContent-16mK6G",prePlayPageContent:"PrePlayPageContent-prePlayPageContent-1fFCHQ"}},"3Fxl":function(e,t,a){e.exports={homePageContentScroller:"HomePage-homePageContentScroller-3c3WmB PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},"3GOe":function(e,t,a){e.exports={img:"AlertRoundOpaqueIcon-img-19hrPS"}},"3GoL":function(e,t,a){e.exports={row:"LinkedAccount-row-B2dK4T",rowLinked:"LinkedAccount-rowLinked-1oGBHa LinkedAccount-row-B2dK4T",rowUnlinked:"LinkedAccount-rowUnlinked-1CEr_W LinkedAccount-row-B2dK4T",separator:"LinkedAccount-separator-2K5SKR",button:"LinkedAccount-button-2xPPXm",buttonApple:"LinkedAccount-buttonApple-1i2qi8 LinkedAccount-button-2xPPXm",buttonGoogle:"LinkedAccount-buttonGoogle-3vahJX LinkedAccount-button-2xPPXm",buttonFacebook:"LinkedAccount-buttonFacebook-1qn9Yd LinkedAccount-button-2xPPXm"}},"3Kzt":function(e,t,a){e.exports={hubHeader:"PrePlayVerticalHub-hubHeader-26ySyl VirtualHubScroller-hubHeader-216w6Z",showAllContainer:"PrePlayVerticalHub-showAllContainer-1y-oH0",belowHub:"PrePlayVerticalHub-belowHub-34nPsw"}},"3MRm":function(e,t,a){"use strict";var i=a("EVdn"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("PW1X"),l=a("k1Cv"),c={getCollectionName(){return this.collectionName||"items"},getCollection(){return this.get(this.getCollectionName())},getTotalSize(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl(e){var t=this.get("currentPageStart"),a=this.get("currentPageSize");if(null!=t||null!=a){var i={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":a||0};return o.join(e,i)}return e},getCollectionChangeEvents(){var e=this.getCollectionName();return["change:"+e+".update","change:"+e+".reset"].join(" ")},startPopulatedRangeMonitor(){var e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on("change:"+e+".destroy",this.decrementTotalSize,this)},stopPopulatedRangeMonitor(){var e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off("change:"+e+".destroy",this.decrementTotalSize,this)},fetchRange(e){var t=s.a.extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange(e){var t=this.getCollection(),a=this.get("populatedRange"),i=l.a.difference(e,a)[0];if(!i)return r.a.Deferred().resolve().promise();if(i=l.a.degap(i,a),this.isPopulating()){var n=this.get("currentPageStart")!==i.start,o=this.get("currentPageSize")!==i.size;if(!n&&!o)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&i.size>e.reloadThreshold)return t.reset(),this.populateRange(s.a.omit(e,"reloadThreshold"));var c=s.a.extend({},e,i,{prepend:i.start<a.start});return this.fetchRange(c)},repopulateRange(e=0){var t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){var e,t=this.get("currentPageStart"),a=this.get("populatedRange").start,i=this.get("populatedRange").size,r=this.getCollection().length;e=r?i?Math.min(a,null==t?1/0:t):t||a:0,this.set("populatedRange",{start:e,end:e+r,size:r})},decrementTotalSize(){var e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}};t.a=c},"3WIE":function(e,t,a){e.exports={calendar:"Calendar-calendar-231Ooz"}},"3YNL":function(e,t,a){e.exports={titleContainer:"SourceSidebarReorderContent-titleContainer-20R_su",title:"SourceSidebarReorderContent-title-fy8R0_",closeButton:"SourceSidebarReorderContent-closeButton-1rl2ef",expandedSidebarContent:"SourceSidebarReorderContent-expandedSidebarContent-3lC3o8 SourceSidebarContent-expandedSidebarContent-3n-5nj"}},"3ZRf":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var i="";return i+=' <option value="">'+c(r(a("ortX")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(r(a("ortX")).call(t,"Artist",{hash:{},data:s}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.parentTitle)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(r(a("ortX")).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=i.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,s),fn:d.program(1,(function(e,t){var a,r="";return r+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" ',((a=i.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=">"+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(r(a("ortX")).call(t,"Album",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(r(a("ortX")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,s),fn:d.program(6,(function(e,t){var a,i="";return i+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(r(a("ortX")).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> </div> '}))},"4+bI":function(e,t,a){e.exports={unsupportedDeviceBody:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1vVn1Q ModalBody-modalBody--5uHSu",imageContainer:"DVRSetupUnsupportedDevice-imageContainer-3DhXFA",makeModelContainer:"DVRSetupUnsupportedDevice-makeModelContainer-2bdrZY",info:"DVRSetupUnsupportedDevice-info-1un44K"}},"4/mG":function(e,t,a){"use strict";a.d(t,"a",(function(){return y})),a.d(t,"b",(function(){return f}));var i,r,n,s=a("yDpE"),o=a("ZwMC"),l=[],c=!1,d=!1,u=1e3/60,p=1e3/60;function h(){i&&(i=window.clearTimeout(i))}function m(){r&&(r=window.clearTimeout(r))}function v(){var e=n;if(n=null,m(),e)e()}function g(){h(),m();var e,t=window.performance.now();for(d=!0;l.length&&(!e||e-t<u);)l.pop()(),e=window.performance.now();d=!1,l.length?(o.a.warn("[State] Unable to process all updates within budget; %s update(s) remaining",l.length),i=window.setTimeout(g,p)):n&&(r=window.setTimeout(v,p))}function y(e){for(h(),m(),d=!0,c=!0;l.length;)l.pop()();if(e)try{e()}catch(e){Object(s.a)(!1,e.name+": "+e.message)}n&&v(),d=!1,c=!1}function f(e,t){if(t.isStateTreeRoot)return n=e,void(d||r||(r=window.setTimeout(v,p)));c?e():(m(),l[0]!==e&&l.unshift(e),d||i||(i=window.setTimeout(g,p)))}},"43je":function(e,t,a){"use strict";var i=a("MgzW"),r=a("K5nx");e.exports=i({},r,{hubTitleLineHeight:"24px"})},"46B2":function(e,t,a){e.exports={sidebarContent:"SettingsSidebar-sidebarContent-3yMjj9",alertIcon:"SettingsSidebar-alertIcon-2t3ZyX"}},"4DQJ":function(e,t,a){e.exports={container:"ManageLibrarySummary-container-2i42AP",isActionsMenuOpen:"ManageLibrarySummary-isActionsMenuOpen-2S0oYD",actions:"ManageLibrarySummary-actions-Xad3MQ",underlay:"ManageLibrarySummary-underlay-3yXf2K",alternateContainer:"ManageLibrarySummary-alternateContainer-2wBQ-1 ManageLibrarySummary-container-2i42AP",titleContainer:"ManageLibrarySummary-titleContainer-14le9W",iconContainer:"ManageLibrarySummary-iconContainer-2GNNak",spinner:"ManageLibrarySummary-spinner-i5J6LT",title:"ManageLibrarySummary-title-ah-Rnu",action:"ManageLibrarySummary-action-2Wct92"}},"4Img":function(e,t,a){e.exports={topDivider:"PrePlayListTopDivider-topDivider-3c8uzj PrePlayDivider-divider-1qvbj9"}},"4KTB":function(e,t,a){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-14zhLB"}},"4MSa":function(e,t,a){"use strict";a.r(t);var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("jejw"),o=a("DTXE"),l=a("3MRm"),c=a("cGVK"),d=a("0dto"),u=a("a+vp"),p=a("8gq0"),h=a("PmXU"),m=a("kkNn"),v=a("V0eM"),g=a("03RP"),y=s.a.extend({name:"MetaModel",context:["server","provider"],syncedAttrs:{DisplayFields:o.a.array},syncedRelations:{types:{relationClass:g.a,rootPropertyName:"Type"},fieldTypes:{relationClass:v.a,rootPropertyName:"FieldType"}}}),f=a("quxt"),b=s.a.extend({mixins:[l.a],name:"MetadataListModel",context:["server","provider","section","metadataItem","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:m.h,entityID(e=this.state){return Object(h.a)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType(){return Object(d.a)(this.server)},url(){var e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?n.join(e,t):e},sessionAttrs:{isMetadataList:o.a.boolean,entityKey:o.a.string,containerKey:o.a.string,containerTitle:o.a.string,currentPageStart:o.a.integer,currentPageSize:o.a.integer,populatedRange:o.a.object,isPending:o.a.boolean,isPopulated:o.a.boolean,error:o.a.object},syncedAttrs:{isDirectoryList:o.a.boolean,isMetaPopulated:o.a.boolean,key:o.a.string,librarySectionID:o.a.string,totalSize:o.a.integer,viewGroup:o.a.string,title:o.a.string,thumb:o.a.string,art:o.a.string,banner:o.a.string,theme:o.a.string,allowSync:o.a.boolean},syncedRelations:{metadataItems:{relationClass:f.default,rootPropertyName:"Metadata",options:e=>({containerKey:e.containerKey||e.key}),setOptions:e=>({remove:e.remove,at:e.at})},meta:{relationClass:y,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType(){var e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype(){var e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem(){var e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem},isChannelsList(){var e=this.getCollection().first();return e?e.get("dvrChannel"):this.attributes.isChannelsList}},defaults:()=>({isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}),initialize(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText(e,t){var a=this.get("containerKey")||this.get("key"),i=/\/folder(\?|$)/.test(a);return t===c.c?Object(u.b)(e,{includeDirectories:i}):e},augmentResponse(e,t){this.responseContext.forEach(t=>{var a=e[t];void 0!==a&&this.setContext(t,a)});var a=p.a.parseArray(e.Metadata),i=p.a.parseArray(e.Directory),n=p.a.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=r.a.reject(a,(function(e){var t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t}),this)),!a.length&&e.Directory&&(e.Metadata=i,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),n&&this._totalSizeAdjustment&&(e.totalSize=n-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange(e,t){var a=this.get("metadataItems"),i=this.syncedRelations.metadataItems.options(this.attributes);r.a.each(i,(e,t)=>{a.setContext(t,e)})}});t.default=b},"4QgX":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '}))},"4Vl1":function(e,t,a){e.exports={emptyPage:"EmptyPage-emptyPage-2AM9uQ",content:"EmptyPage-content-10PgBS",icon:"EmptyPage-icon-31D3ZA",default:"EmptyPage-default-26GUDH",primary:"EmptyPage-primary-1uNBT2",success:"EmptyPage-success-zqYzQ8",danger:"EmptyPage-danger-3-2M_Y",imgIcon:"EmptyPage-imgIcon-32C35q",title:"EmptyPage-title-264Jp4",footer:"EmptyPage-footer-2lE0TA"}},"4X5K":function(e,t,a){e.exports={container:"ChannelsGridPlaceholder-container-t1lz5q",bar:"ChannelsGridPlaceholder-bar-1g_DPl",shimmer:"ChannelsGridPlaceholder-shimmer-18AjFZ"}},"4XqK":function(e,t,a){e.exports={container:"WatchTogetherLobby-container-3hLmMX",row:"WatchTogetherLobby-row-2uMUvW",poster:"WatchTogetherLobby-poster-34uvU5",details:"WatchTogetherLobby-details-S3aWld",hubCell:"WatchTogetherLobby-hubCell-3MvWr0 WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},"4anc":function(e,t,a){e.exports={container:"CalendarDaysOfWeek-container-1MoYjb"}},"4asQ":function(e,t,a){e.exports={spinner:"Spinner-spinner-Niere7 spin-spin-2kLwt_",spinnerContainer:"Spinner-spinnerContainer-1dbVIc",spinnerLabel:"Spinner-spinnerLabel-3_zR9A",small:"Spinner-small-3PStHE Spinner-spinner-Niere7 spin-spin-2kLwt_",medium:"Spinner-medium-31XpHm Spinner-spinner-Niere7 spin-spin-2kLwt_",large:"Spinner-large-3AQPyD Spinner-spinner-Niere7 spin-spin-2kLwt_"}},"4gIP":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((o=i.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),s),data:s}))||0===o)&&(l+=o),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(r(a("ortX")).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:s}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(r(a("ortX")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.conversionItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=i.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(5,(function(e,t){return c(r(a("ortX")).call(e,"Save",{hash:{},data:t}))}),s),fn:this.program(3,(function(e,t){return c(r(a("ortX")).call(e,"Optimize",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},"4kAM":function(e,t,a){e.exports={conflict:"PlayerConflictItemRow-conflict-P0q6Qn",thumbnail:"PlayerConflictItemRow-thumbnail-3DnQMQ",title:"PlayerConflictItemRow-title-1hIqin",titleHighlight:"PlayerConflictItemRow-titleHighlight-EbgLGl"}},"4nIb":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Select User",{hash:{},data:n}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '}))},"4ovG":function(e,t,a){e.exports={line:"LineChart-line-kpWRY5",translucentLine:"LineChart-translucentLine-3Noru- LineChart-line-kpWRY5",legendContainer:"LineChart-legendContainer-3m9Lu0",legendLabels:"LineChart-legendLabels-2_DC2x",legendSummary:"LineChart-legendSummary-3CHecr",legendLabel:"LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"LineChart-translucentLegendLabel-177DBq LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},"4t+/":function(e,t,a){"use strict";a.r(t),t.default=function(e,t){if(!e)return"";if(e.length>t){for(var a=e.substring(0,t-3);!1===/\S/.test(a.charAt(a.length-1))&&a.length>1;)a=a.slice(0,-1);return a+"..."}return e}},"4vwf":function(e,t,a){e.exports={container:"UsersSettingsRowActions-container-J6Ghnt"}},"4wpE":function(e,t,a){"use strict";a.r(t);var i={allowFlash:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1};t.default=i},"4yHS":function(e,t,a){"use strict";a.d(t,"l",(function(){return i})),a.d(t,"t",(function(){return r})),a.d(t,"hb",(function(){return n})),a.d(t,"o",(function(){return s})),a.d(t,"ab",(function(){return o})),a.d(t,"j",(function(){return l})),a.d(t,"D",(function(){return c})),a.d(t,"n",(function(){return d})),a.d(t,"M",(function(){return u})),a.d(t,"gb",(function(){return p})),a.d(t,"N",(function(){return h})),a.d(t,"S",(function(){return m})),a.d(t,"Q",(function(){return v})),a.d(t,"R",(function(){return g})),a.d(t,"O",(function(){return y})),a.d(t,"T",(function(){return f})),a.d(t,"P",(function(){return b})),a.d(t,"d",(function(){return I})),a.d(t,"c",(function(){return S})),a.d(t,"w",(function(){return M})),a.d(t,"F",(function(){return C})),a.d(t,"E",(function(){return D})),a.d(t,"V",(function(){return P})),a.d(t,"h",(function(){return O})),a.d(t,"z",(function(){return j})),a.d(t,"lb",(function(){return T})),a.d(t,"G",(function(){return w})),a.d(t,"ib",(function(){return E})),a.d(t,"kb",(function(){return N})),a.d(t,"I",(function(){return x})),a.d(t,"u",(function(){return A})),a.d(t,"fb",(function(){return L})),a.d(t,"p",(function(){return k})),a.d(t,"C",(function(){return R})),a.d(t,"U",(function(){return z})),a.d(t,"db",(function(){return U})),a.d(t,"A",(function(){return V})),a.d(t,"H",(function(){return B})),a.d(t,"b",(function(){return F})),a.d(t,"e",(function(){return H})),a.d(t,"X",(function(){return _})),a.d(t,"f",(function(){return Q})),a.d(t,"Y",(function(){return W})),a.d(t,"J",(function(){return G})),a.d(t,"m",(function(){return Y})),a.d(t,"y",(function(){return K})),a.d(t,"r",(function(){return q})),a.d(t,"a",(function(){return Z})),a.d(t,"nb",(function(){return X})),a.d(t,"k",(function(){return J})),a.d(t,"B",(function(){return $})),a.d(t,"x",(function(){return ee})),a.d(t,"i",(function(){return te})),a.d(t,"q",(function(){return ae})),a.d(t,"L",(function(){return ie})),a.d(t,"mb",(function(){return re})),a.d(t,"Z",(function(){return ne})),a.d(t,"cb",(function(){return se})),a.d(t,"eb",(function(){return oe})),a.d(t,"v",(function(){return le})),a.d(t,"K",(function(){return ce})),a.d(t,"W",(function(){return de})),a.d(t,"bb",(function(){return ue})),a.d(t,"jb",(function(){return pe})),a.d(t,"ob",(function(){return he})),a.d(t,"g",(function(){return me})),a.d(t,"s",(function(){return ve}));var i="claim",r="dismiss",n="skip",s="confirm",o="select",l="cancel",c="learn",d="complete",u="play",p="shuffle",h="playAll",m="playVersion",v="playPrimaryExtra",g="playRelatedMix",y="playArtistTV",f="queueRelatedMix",b="playNext",I="addToQueue",S="addToPlaylist",M="edit",C="markAsWatched",D="markAsUnwatched",P="refresh",O="analyze",j="fixMatch",T="unmatch",w="merge",E="splitApart",N="sync",x="optimize",A="downloadFile",L="share",k="delete",R="getInfo",z="rate",U="selectStream",V="follow",B="mute",F="addToLibrary",H="addToSaved",_="removeFromSaved",Q="addToWatchlist",W="removeFromWatchlist",G="optimizeDatabase",Y="cleanBundles",K="emptyTrash",q="deleteServer",Z="addLibrary",X="updateLibrary",J="cancelLibraryUpdate",$="forceRefreshLibrary",ee="editLibrary",te="analyzeLibrary",ae="deleteLibrary",ie="pinToNav",re="unpinFromNav",ne="reorderNav",se="selectSource",oe="selectTab",le="downloadServer",ce="optOutMetrics",de="remoteAccess",ue="selectPreferredServer",pe="subscribe",he="upsellTidal",me="agree",ve="disagree"},"5+Bl":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("Xi+k");function r(e){var t=e.get("playQueue");if(t){var a=t.get("currentIndex");return Object(i.a)(e,a)}}},"5+Nd":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"There was a problem loading these items.",{hash:{},data:n}))+" </span> </div> </div> </div> </div> "}))},"5/Iy":function(e,t,a){var i,r,n,s;n=a("F/us"),s=a("zLeb"),e.exports=(i=n,(r=s).ChildViewContainer=function(e,t){var a=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(a.prototype,{add:function(e,t){var a=e.cid;return this._views[a]=e,e.model&&(this._indexByModel[e.model.cid]=a),t&&(this._indexByCustom[t]=a),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var a=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,(function(e,t){if(e===a)return delete this._indexByCustom[t],!0}),this),delete this._views[a],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,a){t.each(this._views,(function(i){t.isFunction(i[e])&&i[e].apply(i,a||[])}))},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){a.prototype[e]=function(){var a=t.values(this._views),i=[a].concat(t.toArray(arguments));return t[e].apply(t,i)}})),a}(0,i),r.ChildViewContainer)},"57QN":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,i){var n,s="";return s+=' <li><a data-id="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" href="#"><span class="dropdown-truncated-label">'+c("function"==typeof(n=e&&e.name)?n.apply(e):n)+"</span>",((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedDevice)||!1===n?n:n.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===n)&&(s+=n),s+="</a></li> "}function p(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function h(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function m(e,t){var i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(r(a("ortX")).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function v(e,t){var a,r="";return r+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.message)?a.apply(e):a)+'</h4> <p class="text-center ',((a=i.unless.call(e,null==(a=e&&e.plexPassInfo)||!1===a?a:a.showButton,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===a)&&(r+=a),r+='"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.url)?a.apply(e):a)+'" target="'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.target)?a.apply(e):a)+'">'+c("function"==typeof(a=null==(a=e&&e.plexPassInfo)||!1===a?a:a.buttonText)?a.apply(e):a)+"</a> </p> </div> "}function g(e,t){return"hidden"}function y(e,t){var i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(r(a("ortX")).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((o=i.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,r="";return r+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c("function"==typeof(a=null==(a=e&&e.selectedDevice)||!1===a?a:a.name)?a.apply(e):a)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((a=i.each.call(e,e&&e.devices,{hash:{},inverse:d.noop,fn:d.programWithDepth(2,u,t,e),data:t}))||0===a)&&(r+=a),r+=" </ul> </span> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="filter-bar-right"> ',((o=i.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:d.noop,fn:d.program(5,(function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'}),s),data:s}))||0===o)&&(l+=o),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((o=i.if.call(t,t&&t.allowSync,{hash:{},inverse:d.program(12,(function(e,t){var a,r="";return r+=" ",((a=i.if.call(e,e&&e.sync,{hash:{},inverse:d.program(16,y,t),fn:d.program(13,v,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),fn:d.program(7,(function(e,t){var a,r="";return r+=" ",((a=i.if.call(e,e&&e.devices,{hash:{},inverse:d.program(10,m,t),fn:d.program(8,h,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"5CAA":function(e,t,a){e.exports={container:"SourceListItemDragSource-container-3Cii3P",source:"SourceListItemDragSource-source-2nauag",isOver:"SourceListItemDragSource-isOver-3Ngu4e"}},"5CKu":function(e,t,a){"use strict";a.d(t,"d",(function(){return A})),a.d(t,"b",(function(){return L})),a.d(t,"c",(function(){return k})),a.d(t,"e",(function(){return R})),a.d(t,"a",(function(){return z})),a.d(t,"p",(function(){return U})),a.d(t,"q",(function(){return V})),a.d(t,"r",(function(){return B})),a.d(t,"s",(function(){return F})),a.d(t,"n",(function(){return H})),a.d(t,"k",(function(){return _})),a.d(t,"j",(function(){return Q})),a.d(t,"f",(function(){return W})),a.d(t,"l",(function(){return G})),a.d(t,"m",(function(){return Y})),a.d(t,"u",(function(){return K})),a.d(t,"h",(function(){return q})),a.d(t,"o",(function(){return Z})),a.d(t,"t",(function(){return X})),a.d(t,"g",(function(){return J})),a.d(t,"i",(function(){return te}));var i=a("8OQS"),r=a.n(i),n=a("EVdn"),s=a.n(n),o=a("BQdi"),l=a("ZwMC"),c=a("PW1X"),d=a("g0Do"),u=a("MakK"),p=a("HN5a"),h=a("JuGE"),m=a("aNE2"),v=a("/OzK"),g=a("LXSy"),y=a("S5Gm"),f=a("Mty/"),b=a("4yHS"),I=a("wdGl"),S=a("PFxR"),M=a("ldqa"),C=a("x2jy"),D=a("5hhD"),P=a("ADhH");var O,j=function(e){var t=e.get("type"),a="channelDirectory"===t||Object(P.x)(t)||e.get("isFolder");return void 0===e.length&&!a},T=a("vkLW"),w=a("Xi+k"),E=a("4/mG"),N=a("A+r8"),x=a("lvUb"),A="ui/player/playerLifecycle/startPlayback",L="ui/player/playerLifecycle/queuePlayback",k="ui/player/playerControls/resetAndClosePlayer",R="ui/player/playerLifecycle/updateCurrentAd",z="ui/player/playerLifecycle/endPlayback",U=Object(o.a)(A),V=Object(o.a)("ui/player/playerLifecycle/startPrimaryExtraPlayback"),B=Object(o.a)("ui/player/playerLifecycle/startRadioPlayback"),F=Object(o.a)("ui/player/playerLifecycle/startRelatedMixPlayback"),H=Object(o.a)("ui/player/playerLifecycle/startExistingPlayQueuePlayback"),_=Object(o.a)("ui/player/playerLifecycle/queueRelatedMixPlayback"),Q=Object(o.a)(L),W=Object(o.a)("ui/player/playerControls/clearPlayerConfirmPlaybackPayload"),G=Object(o.a)(k),Y=Object(o.a)("ui/player/playerControls/setMetricsPlayer"),K=Object(o.a)(R),q=Object(o.a)(z),Z=Object(o.a)(A,(e={})=>{var{options:t={}}=e,a=r()(e,["options"]);return Object.assign({},a,{metricsAction:b.N,options:Object.assign({},t,{playAll:!0})})}),X=Object(o.a)(A,(e={})=>{var{options:t={}}=e,a=r()(e,["options"]);return Object.assign({},a,{metricsAction:b.gb,options:Object.assign({},t,{shuffle:!0})})}),J=Object(o.a)("ui/player/playerLifecycle/dismissPlayerUpsell");function $(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function ee(e,t,a){return(...i)=>{if(t.get("isOpen")&&e===O)return a(...i);l.a.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}var te={[A](e,t,a){var{metadataItemEntityID:i,liveTVSessionEntityID:r,syncplaySessionRoomID:n,confirmPlayback:s,confirmOffset:o,confirmAdvertisingNotice:l,startOffsetMilliseconds:c=null,startMediaIndex:g=null,openState:y=M.a,isPaused:f=!1,isWatchTogetherLobbyVisible:I=!1,extrasPrefixCount:S,playbackStartTime:x=Date.now(),metricsPage:A,metricsProperties:L={}}=t,k=Object(v.a)(e,t),R=Object(h.a)(k),z=C.d(R),U=Object(w.c)(e,z),V=U.get("playQueue"),B=k.metadataItemModel,F=Object(d.c)("appModel").get("user"),H=k.serverModel?k.serverModel.entityID():t.serverEntityID,_=k.providerModel?k.providerModel.entityID():t.providerEntityID;if(!V||!B||V.get("playQueueSelectedMetadataItemID")!==B.get("ratingKey"))if(!s&&V&&V.get("playQueueVersion")>1)U.set("confirmPlaybackPayload",t);else{var Q={serverEntityID:H,providerEntityID:_,syncplaySessionRoomID:n,isOpen:!0,openState:y,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:f,isWatchTogetherLobbyVisible:I,startOffsetMilliseconds:c,startMediaIndex:g,playbackStartTime:x,metricsPage:A,metricsSetting:L.setting,metricsContextTuple:L.contextTuple};if(r&&(Q.liveTVSession=T.d(e,{liveTVSessionEntityID:r})),B&&j(B)&&(Q.startMetadataItemEntityID=i),!l&&B&&B.get("requiresConsent")&&F.get("isFullUser")&&(!F.get("adsConsentSetAt")||F.get("adsConsentReminderAt")<Date.now()/1e3)?Q.advertisingNoticePayload=t:!o&&B&&B.get("viewOffset")&&(Q.confirmOffsetPayload=t),Object(E.a)(()=>{U.restoreDefaults(Q)}),!Q.advertisingNoticePayload&&!Q.confirmOffsetPayload){var W=!(c||!B||B.get("type")!==P.j),G=D.k(k.providerModel.get("identifier"),D.b),Y=Object(u.a)(Object.assign({},k,{skipSiblings:G,extrasPrefixCount:W?S:void 0,playQueueModel:Object(p.a)(Object.assign({},k,{playQueueType:R}))}));O=Y,Y.done(ee(Y,U,t=>{U.set({isPlayQueueLoading:!1,playQueue:t}),Object(m.a)(e).startPlayback(U)})).fail(ee(Y,U,()=>{U.restoreDefaults({hasError:!0,errorMessage:Object(N.default)("An error occurred loading items to play.")})})),t.skipClickMetrics||Object(d.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||b.M,type:R},L))}}},"ui/player/playerLifecycle/startPrimaryExtraPlayback"(e,t,a){var i=t.options||{},r=T.f(e,t);a(U(Object.assign({},t,{metadataItemEntityID:null,metricsAction:b.Q,options:Object.assign({},i,{metadataItemKey:r.get("primaryExtraKey"),type:"video"})})))},"ui/player/playerLifecycle/startRelatedMixPlayback"(e,t,a){var i=t.options||{},r=T.f(e,t),n=$(r);a(U({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:b.R,skipClickMetrics:t.skipClickMetrics,options:Object.assign({},i,{type:Object(h.a)({metadataItemModel:r}),containerKey:n.get("containerKey")})}))},"ui/player/playerLifecycle/startRadioPlayback"(e,t,a){var{playlistType:i}=t,r=T.f(e,t).get("stations");if(r.length){var n=r.findWhere({playlistType:i});a(U({metricsAction:b.R,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:n.entityID(),skipClickMetrics:t.skipClickMetrics,options:{type:Object(h.a)({metadataItemModel:n})}}))}},"ui/player/playerLifecycle/startExistingPlayQueuePlayback"(e,t){var{serverEntityID:a,providerEntityID:i,playQueueType:r,playQueueID:n,startOffsetMilliseconds:s=null,startMediaIndex:o=null,playbackStartTime:l=Date.now()}=t,c=T.m(e,t),d=C.d(r),u=T.j(e,t),h=Object(w.c)(e,d),m=Object(p.a)({providerModel:u,playQueueID:n,playQueueType:r}),v={serverEntityID:a,providerEntityID:i,isOpen:!0,openState:M.a,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:s,startMediaIndex:o,playbackStartTime:l};return c===e.get("transientServer")&&(v.metricsPage=S.eb,v.metricsContext=I.COMPANION),h.set(v),Object(y.a)(m).done(()=>{h.set({playQueue:m,isPlayQueueLoading:!1}),g.startPlayback(h)}).fail(()=>{h.restoreDefaults({hasError:!0,errorMessage:Object(N.default)("An error occurred loading items to play.")})})},"ui/player/playerLifecycle/queueRelatedMixPlayback"(e,t,a){var i=T.f(e,t),r=$(i);a(Q({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:b.T,listType:Object(h.a)({metadataItemModel:i}),options:{next:!0,containerKey:c.join(r.get("containerKey"),{excludeSeedItem:1})}}))},[L](e,t,a){var{startOffsetMilliseconds:i=null,openState:r=M.a}=t,n=Object(v.a)(e,t),s=Object(h.a)(n),o=C.d(s),l=Object(w.c)(e,o),c=!!n.playQueueID,g=n.serverModel?n.serverModel.entityID():t.serverEntityID,I=n.providerModel?n.providerModel.entityID():t.providerEntityID,S=l.get("playQueue"),D=!1;if(S&&l.get("providerEntityID")){var P=T.j(e,{providerEntityID:l.get("providerEntityID")}),j=l.get("providerEntityID")===I,A=S.get("isUniversal"),L=P.server.get("isFullOwnedServer");D=j||A&&L}if(D)Object(u.a)(Object.assign({},n,{playQueueModel:S})).done(Object(f.a)(l,()=>{Object(m.a)(e).refreshRemotePlayQueue(l)})).fail(Object(f.a)(l,()=>{l.set({hasError:!0,errorMessage:Object(N.default)("An error occurred loading items into the play queue.")})}));else{Object(E.a)(()=>{l.restoreDefaults({serverEntityID:g,providerEntityID:I,isOpen:!0,openState:r,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!n.next,repeatAll:!!n.playQueueRepeat,startOffsetMilliseconds:i,playbackStartTime:n.playbackStartTime?n.playbackStartTime:Date.now()})}),S=Object(p.a)(Object.assign({},n,{playQueueType:s}));var k=c?Object(y.a)(S):Object(u.a)(Object.assign({},n,{next:!1,playQueueModel:S}));O=k,k.done(ee(k,l,t=>{l.set({isPlayQueueLoading:!1,playQueue:t}),Object(m.a)(e).startPlayback(l,c)})).fail(ee(k,l,()=>{a(Object(x.l)()),c?l.restoreDefaults():l.restoreDefaults({hasError:!0,errorMessage:Object(N.default)("An error occurred loading items to play.")})}))}var R=n.next?b.P:b.d,z=t.metricsProperties||{};t.skipClickMetrics||Object(d.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||R,type:s},z))},"ui/player/playerControls/clearPlayerConfirmPlaybackPayload"(e,{playerType:t,openState:a}){var i=Object(w.c)(e,t);Object(E.a)(()=>{i.set("confirmPlaybackPayload",null)})},[k](e,{playerType:t,openState:a}){var i=Object(w.c)(e,t);Object(E.a)(()=>{i.restoreDefaults()})},"ui/player/playerControls/setMetricsPlayer"(e,{playerType:t,metricsPlayer:a}){var i=Object(w.c)(e,t);Object(E.a)(()=>{i.set({metricsPlayer:a})})},[R](e,{adDisplayIndex:t,adDisplayTotal:a,adDurationSeconds:i,adPositionSeconds:r,adState:n,adTimeOffsetSeconds:s,playerType:o}){Object(w.c)(e,o).set({adDisplayIndex:t,adDisplayTotal:a,adDurationSeconds:i,adPositionSeconds:r,adState:n,adTimeOffsetSeconds:s})},[z](e,{playerType:t},a){var i=Object(w.c)(e,t),r=i.get("liveTVSession"),n=i.get("serverEntityID"),o=T.m(e,{serverEntityID:n}),l=Object(m.a)(e);if(Object(E.a)(()=>{a(Object(x.l)()),l.endPlayback(i)}),r&&!o.get("isCloud")){var d=c.join(["/media/subscriptions",r.id]);s.a.ajax(r.server.getXHROptions(d,{method:"DELETE"}))}},"ui/player/playerLifecycle/dismissPlayerUpsell"(e,{playerType:t}){Object(w.c)(e,t).set({confirmPlayerUpsellPayload:null})}}},"5M8o":function(e,t,a){"use strict";var i=a("ZwMC"),r=a("g0Do");t.a=function(){var e=Date.now(),t=Object(r.c)("sessionStats");i.a.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)}},"5QzM":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return" selected"}function p(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Select type",{hash:{},data:t}))+" "}function h(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"General",{hash:{},data:t}))+" "}function m(e,t){return"disabled"}function v(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,(function(e,t){var a,i="";return i+=' <i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(a=e&&e.paneTitle)?a.apply(e):a)+" "}),s),fn:d.program(1,(function(e,t){var i="";return i+=' <i class="modal-icon glyphicon plus"></i> '+c(r(a("ortX")).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((o=i.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,(function(e,t){var n,s="";return s+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((n=r(a("YFQD")).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===n)&&(s+=n),s+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((n=i.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,h,t),fn:d.program(10,p,t),data:t}))||0===n)&&(s+=n),s+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((n=r(a("YFQD")).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,v,t),data:t}))||0===n)&&(s+=n),s+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(r(a("ortX")).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((n=r(a("YFQD")).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===n)&&(s+=n),s+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(r(a("ortX")).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((n=r(a("YFQD")).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===n)&&(s+=n),s+='" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(r(a("ortX")).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '}),s),fn:d.program(5,(function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,m,s),data:s}))||0===o)&&(l+=o),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(r(a("ortX")).call(t,"Next",{hash:{},data:s}))+'</span> <span class="save-btn-label-save"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Save Changes",{hash:{},data:t}))+" "}),s),fn:d.program(18,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Add Library",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </span> </button> </div> </div> </div> "}))},"5Y3Z":function(e,t,a){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-3oK12x"}},"5hhD":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return d})),a.d(t,"j",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"k",(function(){return h}));var i="tv.plex.provider.epg",r="tv.plex.providers.epg",n="com.plexapp.plugins.library",s="tv.plex.provider.metadata",o="tv.plex.provider.music",l="tv.plex.provider.news",c="tv.plex.provider.podcasts",d="tv.plex.provider.vod",u="tv.plex.provider.webshows",p=[i,r,n,"com.plexapp.plugins.library.sync",s,o,l,c,d,u];function h(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some(t=>-1!==e.indexOf(t)))}},"5hya":function(e,t,a){e.exports={signalStrength:"SignalStrength-signalStrength-33wP3p"}},"5ic+":function(e,t,a){e.exports={title:"CalendarHeaderTitle-title-15Pr3D"}},"5iwJ":function(e,t,a){e.exports={row:"ListRow-row-1sqnTj",alternateRow:"ListRow-alternateRow-Vy6Unv ListRow-row-1sqnTj",isHovered:"ListRow-isHovered-1TphVQ"}},"5kqZ":function(e,t,a){e.exports={card:"WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",moreButton:"WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",image:"WatchTogetherHubItemPosterCard-image-1jjLMD",iconContainer:"WatchTogetherHubItemPosterCard-iconContainer-1ojNXC PosterCardIcon-container-257jtF",link:"WatchTogetherHubItemPosterCard-link-1auk2z PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"WatchTogetherHubItemPosterCard-hoveredLink-18Nnwe PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hiddenMoreButton:"WatchTogetherHubItemPosterCard-hiddenMoreButton-2CavOI WatchTogetherHubItemPosterCard-moreButton-3oxko8 MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK MetadataPosterCardActions-isHidden-17PeaH"}},"5m2Q":function(e,t,a){e.exports={overlay:"PlayPauseOverlay-overlay-1k7-8U",playButton:"PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",pauseButton:"PlayPauseOverlay-pauseButton-hSFg5q PlayPauseOverlay-playButton-25OfWy PlayPauseOverlay-overlay-1k7-8U PlayButton-playButton-3WX8X-",playCircle:"PlayPauseOverlay-playCircle-3ydPYX PlayButton-playCircle-3Evfdw",hiddenCursor:"PlayPauseOverlay-hiddenCursor-21ESCa"}},"5qtW":function(e,t,a){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},"5xhV":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(r(a("ortX")).call(t,"Go Premium",{hash:{},data:s}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(r(a("ortX")).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:s}))+"</h4> ",((o=i.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,(function(e,t){var i="";return i+=' <p class="text-muted">'+c(r(a("ortX")).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "}),s),fn:this.program(1,(function(e,t){var i="";return i+=' <p class="text-muted">'+c(r(a("ortX")).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(o=t&&t.plexPassUrl)?o.apply(t):o)+'" target="_blank">'+c(r(a("ortX")).call(t,"Learn More",{hash:{},data:s}))+"</a> </p> </div> </div> </div> "}))},"6+d7":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+="<h2>"+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Announcements",{hash:{},data:n}))+'</h2> <div class="announcements-container"></div> '}))},"611r":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.parentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.parentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.parentTitle)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(r(a("ortX")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> ',((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+=' <div class="col-md-4"> '+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.ratingKey)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"5"}),s),fn:this.program(5,(function(e,t){return"9"}),s),data:s}))||0===o)&&(l+=o),l+=' "> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},"61K8":function(e,t,a){e.exports={pageHeaderRight:"PrimaryPageHeaderRight-pageHeaderRight-29YOqg PageHeaderRight-pageHeaderRight-1dljwG"}},"61dU":function(e,t,a){e.exports={button:"ServerSettingsServerMenuButton-button-24D7lE SidebarMenuButton-sidebarMenuButton-khx_Pb",secondaryTitle:"ServerSettingsServerMenuButton-secondaryTitle-2Flndc SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"ServerSettingsServerMenuButton-icon-2pk73R"}},"66mf":function(e,t,a){e.exports={page:"SignInLaunchPagePoll-page-1MNEQu",container:"SignInLaunchPagePoll-container-10QkUk",section:"SignInLaunchPagePoll-section-11igev",addendumLink:"SignInLaunchPagePoll-addendumLink-2n2Dig",switchToSkipSignInLink:"SignInLaunchPagePoll-switchToSkipSignInLink-2eT_Lx",button:"SignInLaunchPagePoll-button-2n0OF4 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn Button-large-3S9UdJ"}},"67KC":function(e,t,a){e.exports={pageHeader:"PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},"6DgY":function(e,t,a){e.exports={container:"ErrorNavBar-container-2YGrro NavBar-container-1T0BJz",icon:"ErrorNavBar-icon-2uGCg9"}},"6GOp":function(e,t,a){e.exports={header:"PlaylistItemTable-header-2fQb_w HubCellHeader-hubCellHeader-2pvYNF",durationTitle:"PlaylistItemTable-durationTitle-2PGlcL",editLink:"PlaylistItemTable-editLink-1YrVJh"}},"6MR1":function(e,t,a){e.exports={avatarContainer:"AvatarEditor-avatarContainer-3eqle0",isOverDropTarget:"AvatarEditor-isOverDropTarget-xHyXAj",avatarPane:"AvatarEditor-avatarPane-ZIMdI5",sliderContainer:"AvatarEditor-sliderContainer-1XP4NL",sliderEnd:"AvatarEditor-sliderEnd-LMe5uN",sliderWrapper:"AvatarEditor-sliderWrapper-2-DX7n",slider:"AvatarEditor-slider-1DyFRU Slider-slider-2oLVTs",help:"AvatarEditor-help-9JA7xI",avatarTextPane:"AvatarEditor-avatarTextPane-3QTnNq",avatarActionButtons:"AvatarEditor-avatarActionButtons-29uxGU",avatarFileInput:"AvatarEditor-avatarFileInput-2RZv10"}},"6Nac":function(e,t,a){e.exports={pageContent:"ServerLog-pageContent-3VPW5Y PageContent-pageContent-16mK6G",hiddenPageContent:"ServerLog-hiddenPageContent-2lLY70",pageContentScroller:"ServerLog-pageContentScroller-1gN08N",rawTextScroller:"ServerLog-rawTextScroller-bQAXSk",jumpLinkVisible:"ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn",jumpLinkHidden:"ServerLog-jumpLinkHidden-1de4QU ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn"}},"6XLl":function(e,t,a){e.exports={header:"ServerDashboardPageHeader-header-25us0F",headerTitle:"ServerDashboardPageHeader-headerTitle-3nplEc"}},"6XcZ":function(e,t,a){e.exports={hubCell:"HubCell-hubCell-3Ys175",hubActions:"HubCell-hubActions-28w1-R",hubScrollButton:"HubCell-hubScrollButton-2Y7riu",hubScroller:"HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",hubCellHeader:"HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF"}},"6a8U":function(e,t,a){e.exports={unsupported:"UnsupportedDeviceIcon-unsupported-_Tz7jI",unsupportedIcon:"UnsupportedDeviceIcon-unsupportedIcon-gpTqo6",unsupportedTooltip:"UnsupportedDeviceIcon-unsupportedTooltip-38E6zp Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},"6cmb":function(e,t,a){e.exports={trackList:"AlbumDisc-trackList-3LOJZb",titleContainer:"AlbumDisc-titleContainer-3NuZgy PrePlayListTitle-titleContainer-1ITpXZ",selectedTitleContainer:"AlbumDisc-selectedTitleContainer-2h19Mm PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"AlbumDisc-selectButton-2F8dxi PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9"}},"6ek3":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this.escapeExpression;return s+='<a class="btn-gray" data-identifier="',s+=o((n=a.identifier)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.identifier)?n.call(t,{hash:{},data:r}):n)+'" href="#">',s+=o((n=a.name)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.name)?n.call(t,{hash:{},data:r}):n)+"</a> "}))},"6gEP":function(e,t,a){e.exports={hubCell:"HomeHubCell-hubCell-3ioBjg HubCell-hubCell-3Ys175",hubCellHeader:"HomeHubCell-hubCellHeader-1j-ZKS HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF",titleSeparator:"HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",hubScroller:"HomeHubCell-hubScroller-TifVnj HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",errorSeparator:"HomeHubCell-errorSeparator-1u82zN HomeHubCell-titleSeparator-4VHhFq MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",errorTitle:"HomeHubCell-errorTitle-2f9701 HomeHubCell-sourceTitle-2q-ZZ0 MetadataHubCellHeader-sourceTitle-VjjOkx",iconButton:"HomeHubCell-iconButton-1zgW6Q",iconButtonIcon:"HomeHubCell-iconButtonIcon-2eaaLl"}},"6nCn":function(e,t,a){e.exports={gridContainer:"ChannelsGrid-gridContainer-u_bmj0",gridRowCell:"ChannelsGrid-gridRowCell-3P8MTs ChannelsGrid-gridContainer-u_bmj0",gridRow:"ChannelsGrid-gridRow-2odI0o ChannelsGridRow-container-2sCkCm",gridContent:"ChannelsGrid-gridContent-3Vhy_E",gridInnerContent:"ChannelsGrid-gridInnerContent-27SAIf VirtualListScroller-scroller-3aWqhy",timeline:"ChannelsGrid-timeline-ctXXxM ChannelsGridTimeline-container-3dKF2q",innerEmptyPage:"ChannelsGrid-innerEmptyPage-18fOTc InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",banner:"ChannelsGrid-banner-1ij7nr ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},"6oI5":function(e,t){},"6uTd":function(e,t,a){e.exports={slider:"Slider-slider-2oLVTs",isDisabled:"Slider-isDisabled-1hEOtJ",thumb:"Slider-thumb-2QGiU1 Link-link-2n0yJn",isDragging:"Slider-isDragging-3wZpYx",hasAutoHideThumb:"Slider-hasAutoHideThumb-tpdhCS",track:"Slider-track-28JOSn",fill:"Slider-fill-35GFqs",secondaryFill:"Slider-secondaryFill-31_05F Slider-fill-35GFqs",thumbTrack:"Slider-thumbTrack-21hGVQ"}},"75i5":function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return s}));var i="list",r="spotlight",n="upsell",s=["shelf","grid",i,"banner","hero"]},"7DXn":function(e,t,a){e.exports={container:"VideoChapters-container-1hROwi AudioVideoStripeContainer-container-MI02OU"}},"7ElX":function(e,t,a){e.exports={container:"ChannelsGridDetailRow-container-3CcnPZ",preplayContainer:"ChannelsGridDetailRow-preplayContainer-2ECfQQ",poster:"ChannelsGridDetailRow-poster-3A0RgC PosterCard-card-1rN9gd",navigationContainer:"ChannelsGridDetailRow-navigationContainer-P4_-il"}},"7FP1":function(e,t,a){e.exports={devicesContainer:"DVRSetupDeviceList-devicesContainer-18F5BL Scroller-scroller-CQJq74",spinnerContainer:"DVRSetupDeviceList-spinnerContainer-1jAoX7",innerModalBody:"DVRSetupDeviceList-innerModalBody-yCDRRP ModalBody-innerModalBody-BHe1nE"}},"7GFg":function(e,t,a){e.exports={modalFooter:"ModalFooter-modalFooter-3ZumZj",button:"ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-bwqoMJ ModalFooter-button-1ia6_L Button-button-2kT68l Link-link-2n0yJn"}},"7GJu":function(e,t,a){e.exports={container:"AudioVideoPlaybackSettings-container-2pTAjN AudioVideoStripeContainer-container-MI02OU",title:"AudioVideoPlaybackSettings-title-2MRYF1",menusContainer:"AudioVideoPlaybackSettings-menusContainer-2bvbji"}},"7MQH":function(e,t,a){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-dCRuLN",slider:"MetadataListStylesMenu-slider-2AFE-t Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-3xDyWL MetadataListStylesMenu-stylesButton-2ntxAp Link-link-2ew_DK",stylesIcon:"MetadataListStylesMenu-stylesIcon-11jRpQ"}},"7MiL":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+c("function"==typeof(o=t&&t.host)?o.apply(t):o)+'</p> <p><span class="text-muted">User Agent:</span> '+c("function"==typeof(o=t&&t.userAgent)?o.apply(t):o)+'</p> <p><span class="text-muted">Name:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.name)?o.apply(t):o)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.version)?o.apply(t):o)+'</p> <p><span class="text-muted">Platform:</span> '+c("function"==typeof(o=null==(o=t&&t.browser)||!1===o?o:o.platform)?o.apply(t):o)+'</p> <p><span class="text-muted">Mobile:</span> '+c(r(a("rHgT")).call(t,null==(o=t&&t.browser)||!1===o?o:o.mobile,{hash:{},data:s}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.username)?o.apply(t):o)+" ",((o=i.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"(Plex Pass)"}),s),data:s}))||0===o)&&(l+=o),l+='</p> <p><span class="text-muted">Email:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.email)?o.apply(t):o)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(o=null==(o=t&&t.user)||!1===o?o:o.accessToken)?o.apply(t):o)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+c("function"==typeof(o=t&&t.cloudServerUrl)?o.apply(t):o)+'</p> <p><span class="text-muted">Available:</span> '+c(r(a("rHgT")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.available,{hash:{},data:s}))+'</p> <p><span class="text-muted">Authorized:</span> '+c(r(a("rHgT")).call(t,null==(o=t&&t.cloudServer)||!1===o?o:o.authorized,{hash:{},data:s}))+"</p> <h3>Primary Server</h3> ",((o=i.if.call(t,t&&t.primaryServer,{hash:{},inverse:this.program(5,(function(e,t){return' <p><span class="text-muted">none</span></p> '}),s),fn:this.program(3,(function(e,t){var a,i="";return i+=' <p><span class="text-muted">Name:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.friendlyName)?a.apply(e):a)+'</p> <p><span class="text-muted">URL:</span> '+c("function"==typeof(a=e&&e.primaryServerUrl)?a.apply(e):a)+'</p> <p><span class="text-muted">Version:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.version)?a.apply(e):a)+'</p> <p><span class="text-muted">Token:</span> '+c("function"==typeof(a=null==(a=e&&e.primaryServer)||!1===a?a:a.accessToken)?a.apply(e):a)+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"7QCR":function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s}));var i=a("17x9"),r=0,n=1,s=2;a.n(i).a.oneOf([r,n,s])},"7Uac":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s,o="";return o+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h1>',((n=(s=a.title)?s.call(t,{hash:{},data:r}):"function"==typeof(s=t&&t.title)?s.call(t,{hash:{},data:r}):s)||0===n)&&(o+=n),o+="</h1> ",((n=a.if.call(t,t&&t.subtitle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,r,n="";return n+=' <h2 class="text-muted">',((i=(r=a.subtitle)?r.call(e,{hash:{},data:t}):"function"==typeof(r=e&&e.subtitle)?r.call(e,{hash:{},data:t}):r)||0===i)&&(n+=i),n+="</h2> "}),r),data:r}))||0===n)&&(o+=n),o+=" ",((n=a.if.call(t,t&&t.message,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,r,n="";return n+=" <p>",((i=(r=a.message)?r.call(e,{hash:{},data:t}):"function"==typeof(r=e&&e.message)?r.call(e,{hash:{},data:t}):r)||0===i)&&(n+=i),n+="</p> "}),r),data:r}))||0===n)&&(o+=n),o+=" </div> </div>"}))},"7epD":function(e,t,a){e.exports={scroller:"Scroller-scroller-CQJq74",none:"Scroller-none-ljb6p8",vertical:"Scroller-vertical-2wA-jb",auto:"Scroller-auto-2axzk9",horizontal:"Scroller-horizontal-fw4wh4",omni:"Scroller-omni-Mntgp9"}},"7f9p":function(e,t,a){e.exports={scroller:"SidebarScroller-scroller-2wp83y"}},"7jkP":function(e,t,a){e.exports={button:"SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn",spinnerContainer:"SpinnerButton-spinnerContainer-1NdZWc",spinner:"SpinnerButton-spinner-1TgDPI Spinner-spinner-Niere7 spin-spin-2kLwt_",label:"SpinnerButton-label-qxG01S",isSpinning:"SpinnerButton-isSpinning-bbh-4T"}},"7wfR":function(e,t,a){var i=a("pkL8").default,r=a("S4rx");e.exports=r(i)},"7ykk":function(e,t,a){e.exports={unwatchedCircle:"MetadataTitleProgress-unwatchedCircle-25KKnh",medium:"MetadataTitleProgress-medium-1tjFo8"}},"8/e7":function(e,t,a){e.exports={container:"TopPlayedList-container-QVdmM- ServerDashboardSectionContent-container-3rMPaP",column:"TopPlayedList-column-2auHqz"}},"80CU":function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i);t.a=function(e){return e=parseInt(e,10),r.a.isNaN(e)?"":(e<10?"0":"")+e}},"814K":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,a){var r,n="";return n+=' <ul class="media-info-file-list well"> ',((r=i.if.call(e,a&&a.showDeleteFile,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===r)&&(n+=r),n+=" ",((r=i.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,v,t,a),data:t}))||0===r)&&(n+=r),n+=" </ul> "}function p(e,t){var i,n="";return n+=' <a href="#" data-media-item="'+c("function"==typeof(i=null==t||!1===t?t:t.index)?i.apply(e):i)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((i=r(a("YFQD")).call(e,null==(i=e&&e.Part)||!1===i?i:i.length,"1",{hash:{},inverse:d.program(8,m,t),fn:d.program(6,h,t),data:t}))||0===i)&&(n+=i),n+=" </a> "}function h(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Delete File",{hash:{},data:t}))+" "}function m(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Delete Files",{hash:{},data:t}))+" "}function v(e,t,a){var r,n="";return n+=" <li> ",((r=i.if.call(e,a&&a.showFilepath,{hash:{},inverse:d.program(13,y,t),fn:d.program(11,g,t),data:t}))||0===r)&&(n+=r),n+=" ",((r=i.unless.call(e,e&&e.accessible,{hash:{},inverse:d.noop,fn:d.program(15,f,t),data:t}))||0===r)&&(n+=r),n+=" </li> "}function g(e,t){var a,i="";return i+=" "+c("function"==typeof(a=e&&e.file)?a.apply(e):a)+" "}function y(e,t){var i="";return i+=" "+c(r(a("VO0v")).call(e,e&&e.file,{hash:{},data:t}))+" "}function f(e,t){var a,r="";return r+=" ",((a=i.if.call(e,e&&e.exists,{hash:{},inverse:d.program(18,I,t),fn:d.program(16,b,t),data:t}))||0===a)&&(r+=a),r+=" "}function b(e,t){var i="";return i+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(a("ortX")).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(r(a("ortX")).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function I(e,t){var i="";return i+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(r(a("ortX")).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(r(a("ortX")).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function S(e,t){var i,n="";return n+=' <li> <span class="detail-label">'+c(r(a("ortX")).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c("function"==typeof(i=e&&e.value)?i.apply(e):i)+"</span> </li> "}function M(e,t,n){var s,o="";return o+=' <div class="part"> <div class="props"> <h4>'+c(r(a("ortX")).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((s=i.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===s)&&(o+=s),o+=' </ul> </div> <div class="streams"> ',((s=i.each.call(e,e&&e.Stream,{hash:{},inverse:d.noop,fn:d.program(24,C,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,n&&n.loading,{hash:{},inverse:d.noop,fn:d.program(33,w,t),data:t}))||0===s)&&(o+=s),o+=" </div> </div> "}function C(e,t){var n,s="";return s+=' <div class="props"> ',((n=r(a("YFQD")).call(e,e&&e.streamType,"1",{hash:{},inverse:d.program(27,P,t),fn:d.program(25,D,t),data:t}))||0===n)&&(s+=n),s+=" <ul> ",((n=i.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===n)&&(s+=n),s+=" </ul> </div> "}function D(e,t){var i="";return i+=" <h4>"+c(r(a("ortX")).call(e,"Video",{hash:{},data:t}))+"</h4> "}function P(e,t){var i;return(i=r(a("YFQD")).call(e,e&&e.streamType,"2",{hash:{},inverse:d.program(30,j,t),fn:d.program(28,O,t),data:t}))||0===i?i:""}function O(e,t){var i="";return i+=" <h4>"+c(r(a("ortX")).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function j(e,t){var i;return(i=r(a("YFQD")).call(e,e&&e.streamType,"3",{hash:{},inverse:d.noop,fn:d.program(31,T,t),data:t}))||0===i?i:""}function T(e,t){var i="";return i+=" <h4>"+c(r(a("ortX")).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function w(e,t){var i="";return i+=' <div class="props"> <h4>'+c(r(a("ortX")).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function E(e,t){var i,n="";return n+=' <div class="modal-footer"> <div class="pull-left"> <a href="'+c("function"==typeof(i=e&&e.url)?i.apply(e):i)+'" target="_blank">'+c(r(a("ortX")).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(r(a("ortX")).call(t,"Media Info",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((o=i.unless.call(t,t&&t.hasStreams,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"hide-streams-column"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=i.if.call(t,t&&t.hasFiles,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var n,s="";return s+=' <div class="files"> <h4>'+c(r(a("ortX")).call(e,"Files",{hash:{},data:t}))+"</h4> ",((n=i.each.call(e,e&&e.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,u,t,e),data:t}))||0===n)&&(s+=n),s+=" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.each.call(t,t&&t.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(20,(function(e,t,n){var s,o="";return o+=' <div class="media"> <div class="props"> <h4>'+c(r(a("ortX")).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((s=i.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,S,t),data:t}))||0===s)&&(o+=s),o+=" </ul> </div> ",((s=i.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(23,M,t,n),data:t}))||0===s)&&(o+=s),o+=" </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> ",((o=i.if.call(t,t&&t.key,{hash:{},inverse:d.noop,fn:d.programWithDepth(35,(function(e,t,a){var r;return(r=i.if.call(e,a&&a.showFilepath,{hash:{},inverse:d.noop,fn:d.program(36,E,t),data:t}))||0===r?r:""}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},"81Xg":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,"Sync Status",{hash:{},data:n}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+c("function"==typeof(s=t&&t.rootTitle)?s.apply(t):s)+" &middot; "+c("function"==typeof(s=t&&t.title)?s.apply(t):s)+"</h4> ",((s=i.if.call(t,null==(s=t&&t.Status)||!1===s?s:s.failure,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+=' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+c("function"==typeof(a=null==(a=e&&e.Status)||!1===a?a:a.failure)?a.apply(e):a)+"</p> "}),n),data:n}))||0===s)&&(l+=s),l+=' <div class="sync-status-list-container"></div> </div> </div> </div> '}))},"85+Z":function(e,t,a){e.exports={watchlistBadge:"WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp"}},"87wx":function(e,t,a){e.exports={downloadIcon:"DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",hasShadow:"DownloadIcon-hasShadow-5mpN0m",arrowIcon:"DownloadIcon-arrowIcon-2Lp78c",progressBarContainer:"DownloadIcon-progressBarContainer-1Qpx70 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",hasProgress:"DownloadIcon-hasProgress-2Wq4Tq",showIndeterminate:"DownloadIcon-showIndeterminate-rVIAWL"}},"8CTZ":function(e,t,a){e.exports={badge:"Badge-badge-3I6Kzp",icon:"Badge-icon-24omK1"}},"8Ipq":function(e,t,a){e.exports={infoContainer:"MediaInfo-infoContainer-2LgYro",info:"MediaInfo-info-JF98Bn",hidden:"MediaInfo-hidden-tBjNBF"}},"8Pq2":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["track.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},"8UDN":function(e,t,a){e.exports={tagsListLink:"PrePlayTagListLink-tagsListLink-1VUQaN Link-link-2ew_DK"}},"8UJ8":function(e,t,a){e.exports={progress:"ServerDownloadProgressBar-progress-2i0Zm3",emptyBar:"ServerDownloadProgressBar-emptyBar-1Y1EQQ",bar:"ServerDownloadProgressBar-bar-3VI-Vq"}},"8YbF":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.language)?o.apply(t):o)+'"> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(r(a("ortX")).call(t,"Scanner",{hash:{},data:s}))+' <span class="control-error">'+c(r(a("ortX")).call(t,"A scanner is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(r(a("ortX")).call(t,"Agent",{hash:{},data:s}))+' <span class="control-error">'+c(r(a("ortX")).call(t,"An agent is required.",{hash:{},data:s}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> </form> '}))},"8cAR":function(e,t,a){e.exports={header:"UsersSettingsPageListHeader-header-Xombf9",pageHeaderLeft:"UsersSettingsPageListHeader-pageHeaderLeft-3YO7gD",pageHeaderRight:"UsersSettingsPageListHeader-pageHeaderRight-2vIIyU"}},"8ck4":function(e,t,a){e.exports={sourceItem:"SelectSourceItemInput-sourceItem-27ZJnH",sourceTitle:"SelectSourceItemInput-sourceTitle-5GEyy5",sourceIconContainer:"SelectSourceItemInput-sourceIconContainer-MjtV8A",iconImg:"SelectSourceItemInput-iconImg-CfO67q SourceSidebarItem-iconImg-2zgKLr",input:"SelectSourceItemInput-input-ioDkeo CheckInput-input-1Pi_2g"}},"8gq0":function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("GYaK"),s=a("YEnZ"),o=a("ZwMC");var l=function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return o.a.warn("[Parser] Unable to parse encoded string"),e}};var c=function(e){return null==e||""===e?0:window.parseFloat(e)},d=a("SBmW"),u=a("Psru");var p=function(e){return e?Array.isArray(e)?e:e.split(","):[]},h=a("u60l");var m=function(e){return null==e?"":e.toString()},v=a("pSG4");var g=function(e){return e?"1":"0"};var y=function(e){return e.join(",")},f=a("vCt9"),b={parseType:function(e,t,a){var i=this.getByType("parse",e,this._parseTypeMap);return i?i(t,a):t},stringifyType:function(e,t,a){if(r.a.isString(t))return t;if(null==t)return"";var i=this.getByType("stringify",e,this._stringifyTypeMap);return i?i(t,a):t},getByType:function(e,t,a){if(a&&r.a.has(a,t))return a[t];var i=e+(t.charAt(0).toUpperCase()+t.slice(1));return r.a.has(this,i)?(a[t]=this[i],this[i]):void 0},parseBoolean:s.a,stringifyBoolean:g,parseInteger:d.a,parseFloat:c,parseString:m,parseEncodedString:l,parseArray:n.a,parseList:p,stringifyList:y,parseQueryString:h.a,stringifyQueryString:f.a,parseJSON:u.a,parseXML:v.a,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};b.reset();t.a=b},"8idU":function(e,t,a){e.exports={placeholder:"MetadataDirectoryPosterCell-placeholder-1qJ1Mw MetadataPosterCardFace-poster-L2P6rC",titleContainer:"MetadataDirectoryPosterCell-titleContainer-2B6MFr",title:"MetadataDirectoryPosterCell-title-3smW-W"}},"8jJ5":function(e,t,a){e.exports={link:"MetadataSpotlightCellLink-link-3CKqJt"}},"8lLI":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+='<textarea class="form-control">',s+=(0,this.escapeExpression)((n=a.logs)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.logs)?n.call(t,{hash:{},data:r}):n)+"</textarea> "}))},"8n2K":function(e,t,a){e.exports={form:"ShareUsers-form-YsG9bs",modalBody:"ShareUsers-modalBody-3Izxn4 ModalBody-modalBody--5uHSu",messages:"ShareUsers-messages-25vig6",inputContainer:"ShareUsers-inputContainer-1zfFiC",icon:"ShareUsers-icon-1QZ44l",checkIcon:"ShareUsers-checkIcon-2Y5A3A ShareUsers-icon-1QZ44l",warningMessage:"ShareUsers-warningMessage-2bn0A-",restrictionsInput:"ShareUsers-restrictionsInput-JX1Mwa RestrictionProfilesInput-input-1u2NCr SelectInput-input-x1tNmq input-input-1P2Vi4",list:"ShareUsers-list-1AWlgI UserList-list-1xb8US Scroller-vertical-VScFLT"}},"8pg1":function(e,t,a){e.exports={logo:"DiscoverEmptyTidalPage-logo-3po-Ac EmptyPage-icon-31D3ZA"}},"8ros":function(e,t,a){e.exports={recordButton:"EPGPrePlayRecordButton-recordButton-1Y_Dwm PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",recordingIcon:"EPGPrePlayRecordButton-recordingIcon-15EDBw",recordIcon:"EPGPrePlayRecordButton-recordIcon-3SHaDe"}},"8ruQ":function(e,t,a){e.exports={container:"MetadataUpNext-container-3BvKXW",upNext:"MetadataUpNext-upNext-3XxQSf"}},"8wkp":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+d(r(a("ortX")).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:s}))+"</span> ",((o=i.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var a,r="";return r+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((a=i.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(r+=a),r+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((a=i.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(r+=a),r+='" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,(function(e,t){return' <div class="alert-list-container"></div> '}),s),fn:c.program(4,(function(e,t){var i="";return i+=' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+d(r(a("ortX")).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"999L":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((n=a.each.call(t,t&&t.stars,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var i,r="";return r+='<span class="star"><i class="star-icon glyphicon ',((i=a.if.call(e,e,{hash:{},inverse:o.program(4,c,t),fn:o.program(2,l,t),data:t}))||0===i)&&(r+=i),r+='"></i><span class="empty-icon"></span></span>'}),r),data:r}))||0===n)&&(s+=n),s+=" "}))},"9A7T":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '}))},"9IAt":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+c(r(a("ortX")).call(t,"Version storage location",{hash:{},data:s}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((o=i.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+='> <option value="-1" ',((o=r(a("YFQD")).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,u,s),data:s}))||0===o)&&(l+=o),l+=">"+c(r(a("ortX")).call(t,"In folders with original items",{hash:{},data:s}))+"</option> ",((o=i.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,i&&i.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("sZyU")).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(r(a("ortX")).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:s}))+"</p> "}))},"9JDX":function(e,t,a){e.exports={header:"UserSharingSettingsPageHeader-header-EJMZn4"}},"9O+r":function(e,t,a){e.exports={group:"FormGroup-group-Gtcqpe"}},"9OK2":function(e,t,a){e.exports={button:"Button-button-2kT68l Link-link-2n0yJn",default:"Button-default--yDCH5",primary:"Button-primary-3fwLzo",success:"Button-success-lQICHw",danger:"Button-danger-2T8IUN",dark:"Button-dark-y17CmQ",small:"Button-small-PnnoGC",medium:"Button-medium-3g45_Q",large:"Button-large-3S9UdJ"}},"9RqU":function(e,t,a){e.exports={title:"RecordingPrioritySubscriptionTitle-title-3QS814",secondaryTitle:"RecordingPrioritySubscriptionTitle-secondaryTitle-2Wl5uS"}},"9TTh":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+" </div> </div> </form> "}))},"9U8V":function(e,t,a){e.exports={message:"EPGDownload-message-1nld-C",spinnerContainer:"EPGDownload-spinnerContainer-OHwKIR",spinnerMessage:"EPGDownload-spinnerMessage-j4e6Wi"}},"9XR6":function(e,t,a){e.exports={container:"ProviderUpsell-container-1IlPDU",text:"ProviderUpsell-text-15oxDl",logo:"ProviderUpsell-logo-2NAj0c",body:"ProviderUpsell-body-1XTnDH"}},"9Y86":function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("k1Nx");function r(e,t){for(var a=!1,i=0;i<e.length;i++){var r,n=e[i],s=null!=(r=n.value)?r:n;Math.abs(s)<.06&&(s=0);var o=t.values.get(i);s!==o&&(o||s)?(a=!0,t.values.set(i,s),t.changed.add(i)):t.changed.delete(i)}return a}function n(e){if(!i.a.hasGamepads)return()=>{};var t=new Map,a=()=>{for(var i of(n=window.requestAnimationFrame(a),window.navigator.getGamepads()))if(null==i?void 0:i.connected){var s=t.get(i.index);if(s||t.set(i.index,s={axes:{changed:new Set,values:new Map},buttons:{changed:new Set,values:new Map},timestamp:0}),s.timestamp!==i.timestamp){var o=r(i.axes,s.axes),l=r(i.buttons,s.buttons);s.timestamp=i.timestamp,(o||l)&&e(i,s.axes,s.buttons)}}},n=window.requestAnimationFrame(a);return()=>{t.clear(),window.cancelAnimationFrame(n)}}},"9YI8":function(e,t,a){e.exports={container:"ProgramGuideGracenoteMigrationBanner-container-1G9MWN",messageContainer:"ProgramGuideGracenoteMigrationBanner-messageContainer-Ecs5cw",message:"ProgramGuideGracenoteMigrationBanner-message-1nNQmA",icon:"ProgramGuideGracenoteMigrationBanner-icon-3z9koh",button:"ProgramGuideGracenoteMigrationBanner-button-Ayhpr7 Button-button-2kT68l Link-link-2n0yJn"}},"9gax":function(e,t,a){e.exports={container:"LiveTVSettingsPage-container-KCZxGV"}},"9gi5":function(e,t,a){"use strict";var i=a("Sgs+"),r=a("jejw"),n=a("DTXE"),s=a("8gq0"),o="int",l="text",c="bool",d="enum",u="double";function p(e,t){switch(e){case o:case d:return s.a.parseInteger(t);case c:return s.a.parseBoolean(t);default:return t}}var h=r.a.extend({idAttribute:"id",url:"/:/prefs",context:["server"],sessionAttrs:{isSaving:n.a.boolean},syncedAttrs:{id:n.a.string,label:n.a.string,default:n.a.oneOfType(n.a.integer,n.a.string,n.a.boolean,n.a.array),summary:n.a.string,value:{type:n.a.oneOfType(n.a.integer,n.a.string,n.a.boolean,n.a.array),save:!0},type:n.a.oneOf(o,l,c,d,u),group:n.a.string,advanced:n.a.boolean,option:n.a.string,hidden:n.a.boolean,enumValues:n.a.array,values:n.a.string},defaults:{isSaving:!1,type:"string",summary:"",label:"",group:""},augmentResponse(e){if(e.value=p(e.type,e.value),e.advanced=p(c,e.advanced),e.hidden=p(c,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map(t=>{var[a,i=a]=t.split(":");return{label:i,value:p(e.type,a)}})),e.type===d&&e.values&&!Array.isArray(e.values)){var t=0;e.enumValues=e.values.split("|").map(e=>({label:e,value:t++}))}return e},getSaveParams(e){var t=r.a.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(t).forEach(t=>delete e[t]),t):{[this.get("id")]:t.value}}}),m=i.a.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:h,augmentResponse:e=>e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter(e=>e.id):[]});t.a=m},"9iqW":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(r(a("ortX")).call(t,"This media is being converted.",{hash:{},data:s}))+"</h4> <h4>"+l(r(a("ortX")).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},"9jA7":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<a class="show-actions playlist-inner-item '+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(r(a("ortX")).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(r(a("ortX")).call(t,"Failed",{hash:{},data:s}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(r(a("ortX")).call(t,"Converting",{hash:{},data:s}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(r(a("ortX")).call(t,"Waiting",{hash:{},data:s}))+" </div> </div> </div> </div> </a> "}))},"9kxW":function(e,t,a){e.exports={sidebarUnderlay:"EmptySourceSidebar-sidebarUnderlay-vtLxD9 SourceSidebar-sidebarUnderlay-2odIuy",collapsedSidebar:"EmptySourceSidebar-collapsedSidebar-ORj7Lb SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",openSidebar:"EmptySourceSidebar-openSidebar-uzbF72 SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw"}},"9l/z":function(e,t,a){e.exports={headerContainer:"CurrentSource-headerContainer-wlq8ce"}},"9leU":function(e,t,a){e.exports={photoContainer:"PlaylistPhotoItem-photoContainer-3t9rft MetadataPhotoCell-photoContainer-1HkmQE",image:"PlaylistPhotoItem-image-2oORkY MetadataPhotoCell-image-3KqaFc",photo:"PlaylistPhotoItem-photo-10hVk3 MetadataPhotoCell-photo-Po3Kxh MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",badge:"PlaylistPhotoItem-badge-3F6lgO MetadataPhotoCell-badge-2L0KJM",isSelected:"PlaylistPhotoItem-isSelected-9usYFV MetadataPosterCardFace-isSelected-1XUgkl"}},"9pnm":function(e,t,a){e.exports={container:"UnclaimedServer-container-2zE1QO",message:"UnclaimedServer-message-16zts1",messageHeader:"UnclaimedServer-messageHeader-6cNqhY",messageDetails:"UnclaimedServer-messageDetails-2ERBDY"}},"9rAt":function(e,t,a){e.exports={toggle:"NowPlaying-toggle-1ztIUg Link-link-2ew_DK",tilesContainer:"NowPlaying-tilesContainer-3DkObs",nowPlayingList:"NowPlaying-nowPlayingList-2guNhr",column:"NowPlaying-column-2-BR9u",emptyMessage:"NowPlaying-emptyMessage-2bgxAw ServerDashboardPageMessage-container-2qUY4V"}},"9uqb":function(e,t,a){e.exports={errorMessage:"MediaSubscriptionNoLibrary-errorMessage-39UUf6",addIcon:"MediaSubscriptionNoLibrary-addIcon-2B_Pqv"}},"9ym6":function(e,t,a){"use strict";var i=a("gcR/"),r=a.n(i),n=a("17x9"),s=a.n(n),o=a("q1tI"),l=a.n(o),c=a("i8i4"),d=a.n(c),u=a("yDpE"),p=a("ZwMC"),h=a("b6I9"),m=(a("jnKl"),a("DzIo")),v=a("l8FK"),g=a("A+r8"),y=a("Gken"),f=a("LtpW"),{useEffect:b,useRef:I}=l.a;function S({onPositionUpdate:e,onTick:t}){var a=I(Date.now());return b(()=>{var t;return e&&(t=window.setInterval(e,40)),()=>{t&&window.clearInterval(t)}},[e]),b(()=>{var e;return t&&(e=window.setInterval(()=>{var e=Math.floor((Date.now()-a.current)/1e3);t(e)},1e3)),()=>{e&&window.clearInterval(e)}},[t]),null}S.propTypes={onPositionUpdate:s.a.func,onTick:s.a.func};var M=S,C=a("CHO5"),D=a.n(C),{Component:P}=l.a;class O extends P{constructor(e,t){super(e,t),this._nativeSeek=e=>{this._mediaEl.currentTime=e},this.onStarted=()=>{var{positionSeconds:e,onDurationMillisecondsChange:t}=this.props;if(!this.state.isStarted){if(e)(this.props.onResumeSeek||this.props.onSeek||this._nativeSeek)(e);this.setState({isStarted:!0},()=>{if(t){var e=this._mediaEl.duration;t(Number.isFinite(e)?Math.floor(1e3*e):0)}})}},this.onDataLoad=()=>{this._canNativelySelectAudioTrack()&&this._selectAudioTrack(),this._canNativelySelectTextTrack()&&(this._selectTextTrack(),this._mediaEl.textTracks.addEventListener("addtrack",this.onAddTrack)),Object(v.a)()||this.onStarted()},this.onCanPlay=()=>{Object(v.a)()&&this.onStarted()},this.onCanPlayThrough=()=>{this.props.onCanPlayThrough&&this.props.onCanPlayThrough(!0)},this.onPositionUpdate=()=>{if(this._mediaEl){var e=Math.floor(1e3*this._mediaEl.currentTime);if(e!==this._lastPositionMilliseconds)this._lastPositionMilliseconds=e,this._lastPositionChangeTime=Date.now(),this._isBuffering&&(this._isBuffering=!1,this.props.onBufferingChange&&this.props.onBufferingChange(!1));else if(!this._isBuffering&&!this.props.paused){var t=Date.now()-this._lastPositionChangeTime;t>this.props.bufferingDetectionLimit&&(p.a.warn("[Player] Buffering detected, last position change was "+t+"ms ago"),this._isBuffering=!0,this.props.onBufferingChange&&this.props.onBufferingChange(!0))}this.props.onPositionMillisecondsChange(e)}},this.onProgress=()=>{if(this.props.onBufferChange){for(var{buffered:e}=this._mediaEl,t=[],a=0;a<e.length;a++)t.push({startSeconds:e.start(a),endSeconds:e.end(a)});this.props.onBufferChange(t)}},this.onEnded=()=>{this.props.onEnd&&this.props.onEnd()},this.onError=e=>{var{code:t}=e.target.error,a=function(e){switch(e){case 1:return Object(g.default)("Abort");case 2:return Object(g.default)("Network");case 3:return Object(g.default)("Decode");case 4:return Object(g.default)("Not Supported")}}(t),i=t+" ("+(a||"Unknown")+")";2===t?p.a.warn("[Player] An HTML media error occurred: "+i+"; the player will attempt to recover"):(p.a.warn("[Player] A critical HTML media error occurred: "+i+"; the player cannot recover"),this.props.onError&&this.props.onError({code:"h"+t,category:a}))},this.onSeek=e=>{var t=this._mediaEl.ended;this._nativeSeek(e),this.props.onSeek&&this.props.onSeek(e),!this.props.paused&&t&&this._play()},this.onPause=()=>{this._mediaEl.ended||this.props.onPause&&this.props.onPause()},this.onPlay=()=>{this.props.onPlay&&this.props.onPlay()},this.onResize=()=>{var{videoWidth:e,videoHeight:t}=this._mediaEl;this.props.onIntrinsicDimensions&&this.props.onIntrinsicDimensions({width:e,height:t})},this.onAddTrack=()=>{this._selectTextTrack()},this.state={isStarted:!1},this._mediaListeners={loadeddata:this.onDataLoad,canplay:this.onCanPlay,canplaythrough:this.onCanPlayThrough,progress:this.onProgress,ended:this.onEnded,error:this.onError,pause:this.onPause,play:this.onPlay,resize:this.onResize},this._lastPositionMilliseconds=null,this._lastPositionChangeTime=0,this._isBuffering=!1,this._isUnmounting=!1}componentDidMount(){this._mediaEl=Object(m.a)(this.props.mediaType,this.props.allowRecycleElement);var e=this._mediaEl;e.className=D.a.mediaElement,e.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach(t=>{e.addEventListener(t,this._mediaListeners[t])}),this._node=d.a.findDOMNode(this),this._node.appendChild(e),this.props.onElementChange?this.props.onElementChange(e):e.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(h.b)}componentDidUpdate(e,t){Object(u.a)(this.props.src===e.src,"Use a new `key` when changing `src`");var{lastSeekPositionSeconds:a,paused:i,volume:r,playbackSpeed:n,isReadyToPlay:s,audioStream:o,subtitleStream:l,subtitleSize:c,hasBurnedSubtitles:d,isStreamChangeInProgress:p,onStreamChange:h}=this.props,m=this._mediaEl,v=null!=a&&a!==e.lastSeekPositionSeconds,g=(!!e.audioStream&&e.audioStream.id)!==(!!o&&o.id),y=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!l&&l.id),f=e.isStreamChangeInProgress&&!p,b=e.subtitleSize!==c;v&&this.onSeek(a),i===e.paused||m.ended||(i?this._pause():this._play()),r!==e.volume&&(m.volume=Math.max(0,Math.min(r/100,1))),n!==e.playbackSpeed&&(m.playbackRate=n),!s||e.isReadyToPlay||i||this._play(),this._canNativelySelectTextTrack()&&y&&!p&&this._selectTextTrack(),h&&(g&&!p||y&&!p||f||b&&d)&&h()}componentWillUnmount(){this._isUnmounting=!0,this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach(e=>{this._mediaEl.removeEventListener(e,this._mediaListeners[e])}),this._mediaEl.textTracks.removeEventListener("addtrack",this.onAddTrack),this.props.allowRecycleElement&&Object(m.b)(this._mediaEl)}_play(){var e=this._mediaEl.play();e&&e.then&&e.then(null,e=>{this._isUnmounting||(("AbortError"===e.name||"NotAllowedError"===e.name)&&this.props.onPause&&this.props.onPause(),p.a.warn(e.name+": "+e.message))})}_pause(){this._mediaEl.pause()}_canNativelySelectAudioTrack(){var{audioStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.audioTracks)}_canNativelySelectTextTrack(){var{subtitlesStreams:e,isDecisionDirectPlay:t}=this.props;return!!(e&&e.length&&t&&this._mediaEl.textTracks.length>0)}_selectAudioTrack(){var{audioStreams:e,audioStream:t}=this.props,a=this._mediaEl.audioTracks;if(a)for(var i=e.findIndex(e=>e.id===t.id),r=0;r<a.length;r++)a[r].enabled=r===i}_selectTextTrack(){var{subtitleStream:e}=this.props,t=this._mediaEl.textTracks;if(t&&e)for(var a,i=0;i<t.length;i++){var r=t[i];if(r.mode="disabled",!a){var n="captions"===r.kind&&"eia_608"===e.codec,s="subtitles"===r.kind&&"vtt"===e.codec,o=r.language===e.id||r.label===e.language;(n||s)&&o&&(a=!0,r.mode="showing")}}}render(){var{height:e,width:t,placement:a,edgeGutterX:i,edgeGutterY:n,isStackedAbove:s,onTick:o}=this.props,l=Object(f.a)(e,t,a,i,n,s);return r()("div",{style:l},void 0,this.state.isStarted?r()(M,{onPositionUpdate:this.onPositionUpdate,onTick:o}):null)}}O.defaultProps={mediaType:y.e,positionSeconds:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};t.a=O},"A+r8":function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));var i=a("u7Vr");function r(){return i.a.t.apply(i.a,arguments)}},ADhH:function(e,t,a){"use strict";a.d(t,"j",(function(){return s})),a.d(t,"o",(function(){return o})),a.d(t,"n",(function(){return l})),a.d(t,"f",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"a",(function(){return u})),a.d(t,"p",(function(){return p})),a.d(t,"d",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"l",(function(){return v})),a.d(t,"m",(function(){return g})),a.d(t,"e",(function(){return y})),a.d(t,"i",(function(){return f})),a.d(t,"g",(function(){return b})),a.d(t,"c",(function(){return I})),a.d(t,"h",(function(){return S})),a.d(t,"q",(function(){return C})),a.d(t,"u",(function(){return D})),a.d(t,"r",(function(){return P})),a.d(t,"s",(function(){return O})),a.d(t,"t",(function(){return j})),a.d(t,"w",(function(){return T})),a.d(t,"v",(function(){return w})),a.d(t,"y",(function(){return E})),a.d(t,"x",(function(){return N}));var i=a("A+r8"),r=a("IQV3"),n=a("Gken"),s="movie",o="show",l="season",c="episode",d="artist",u="album",p="track",h="clip",m="photo",v="photoalbum",g="playlist",y="collection",f="mixed",b="folder",I="channel",S="game",M=Object(r.a)(["id","typeString"],[{id:1,typeString:s,title:()=>Object(i.default)("Movie"),plural:()=>Object(i.default)("Movies"),mediaType:n.e},{id:2,typeString:o,title:()=>Object(i.default)("Show"),plural:()=>Object(i.default)("Shows"),mediaType:n.b,child:l},{id:3,typeString:l,title:()=>Object(i.default)("Season"),plural:()=>Object(i.default)("Seasons"),mediaType:n.b,parent:o,child:c},{id:4,typeString:c,title:()=>Object(i.default)("Episode"),plural:()=>Object(i.default)("Episodes"),mediaType:n.e,parent:l},{id:5,typeString:"trailer",title:()=>Object(i.default)("Trailer"),plural:()=>Object(i.default)("Trailers"),mediaType:n.e},{id:6,typeString:"comic",title:()=>Object(i.default)("Comic"),plural:()=>Object(i.default)("Comics"),mediaType:n.c},{id:7,typeString:"person",title:()=>Object(i.default)("Person"),plural:()=>Object(i.default)("People"),mediaType:n.b},{id:8,typeString:d,title:()=>Object(i.default)("Artist"),plural:()=>Object(i.default)("Artists"),mediaType:n.b,child:u},{id:9,typeString:u,title:()=>Object(i.default)("Album"),plural:()=>Object(i.default)("Albums"),mediaType:n.b,parent:d,child:p},{id:10,typeString:p,title:()=>Object(i.default)("Track"),plural:()=>Object(i.default)("Tracks"),mediaType:n.a,parent:u},{id:11,typeString:"picture",title:()=>Object(i.default)("Picture"),plural:()=>Object(i.default)("Pictures"),mediaType:n.c},{id:12,typeString:h,title:()=>Object(i.default)("Clip"),plural:()=>Object(i.default)("Clips"),mediaType:n.e},{id:13,typeString:m,title:()=>Object(i.default)("Photo"),plural:()=>Object(i.default)("Photos"),mediaType:n.c,parent:v},{id:14,typeString:v,title:()=>Object(i.default)("Photo Album"),plural:()=>Object(i.default)("Photo Albums"),mediaType:n.b,child:m},{id:15,typeString:g,title:()=>Object(i.default)("Playlist"),plural:()=>Object(i.default)("Playlists"),mediaType:n.b,parent:v},{id:16,typeString:"playlistFolder",title:()=>Object(i.default)("Playlist"),plural:()=>Object(i.default)("Playlists"),mediaType:n.b,child:g},{id:18,typeString:y,title:()=>Object(i.default)("Collection"),plural:()=>Object(i.default)("Collections"),mediaType:n.b},{id:19,typeString:S,title:()=>"Game",plural:()=>"Games",mediaType:n.d}]),C=M.contains,D=M.get,P=M.getAll;function O(e){var t=M.get(e);if(t&&t.child)return M.get(t.child)}function j(e){var t=M.get(e);if(t){var a=t.child;return null==a?t:j(a)}}function T(e){var t=M.get(e);if(t){var a=t.parent;return null==a?t:T(a)}}function w(e,t){if(!t){var a=T(e);return a?w(a.id,[]):[]}var i=M.get(e),r=O(e),n=[...t,i];return r?w(r.id,n):n}function E(e){return!!O(e)}function N(e){var t=M.get(e);return!!t&&t.mediaType===n.b}},"AG/Q":function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"g",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u})),a.d(t,"j",(function(){return p})),a.d(t,"l",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"m",(function(){return v})),a.d(t,"n",(function(){return g})),a.d(t,"o",(function(){return y})),a.d(t,"p",(function(){return f})),a.d(t,"q",(function(){return b})),a.d(t,"r",(function(){return I}));var i="action",r="actions",n="content",s="grid",o="imagetranscoder",l="integrations",c="location",d="manage",u="match",p="metadata",h="playqueue",m="playlist",v="promoted",g="rate",y="search",f="settings",b="subscribe",I="timeline"},AKFi:function(e,t,a){e.exports={avatar:"ServerAvatar-avatar-2VGH0z",icon:"ServerAvatar-icon-DrP34o"}},ATJK:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=i.a.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:r.a.string,title:r.a.string,size:r.a.integer},urlRoot(){return"/library/sections/"+this.section.id+"/firstCharacter"}});t.a=n},"Aeq+":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,"Auto Match",{hash:{},data:n}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((s=i.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+=' <li><a class="auto-match-agent" href="#" data-id="'+c("function"==typeof(a=e&&e.identifier)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</a></li> "}),n),data:n}))||0===s)&&(l+=s),l+=" </ul> "}))},AoyP:function(e,t,a){e.exports={container:"PlexAccountUpsellPage-container-ntao9A",panel:"PlexAccountUpsellPage-panel-1mEqP6",panelIcon:"PlexAccountUpsellPage-panelIcon-2iZHqS",panelTitle:"PlexAccountUpsellPage-panelTitle-1ZIESl",panelDescription:"PlexAccountUpsellPage-panelDescription-poLyzl"}},AsNd:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,n="";return n+=" "+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(i=e&&e.locked,null==i||!1===i?i:i.label)},data:t}))+" "}function p(e,t){var i="";return i+=' <div class="form-group"> <label>'+c(r(a("ortX")).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(r(a("ortX")).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((o=i.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:d.program(6,(function(e,t){var i,n="";return n+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(r(a("ortX")).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(i=e&&e.plexPassUrl)?i.apply(e):i)+'" target="_blank">'+c(r(a("ortX")).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "}),s),fn:d.program(1,(function(e,t){var a,r="";return r+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((a=i.if.call(e,e&&e.showLabels,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=" </div> </div> </form> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},Auv6:function(e,t,a){e.exports={button:"SettingsButton-button-27S5zB NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I"}},"B+IN":function(e,t,a){e.exports={badge:"PremiereAiringBadge-badge-hAmdnV"}},"B8+q":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" "+c(r(a("WlON")).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function p(e,t){var i="";return i+=" "+c(r(a("WlON")).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(r(a("ortX")).call(t,"Choose Destination",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=i.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,r="";return r+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" href="#"> ',((a=i.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},B854:function(e,t,a){e.exports={tooltipPortal:"Tooltip-tooltipPortal-3Nb82p",tooltip:"Tooltip-tooltip-9TKmAQ",tooltipArrow:"Tooltip-tooltipArrow-3GUCry",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-34fSAD",tooltipTopArrow:"Tooltip-tooltipTopArrow-NjH0DX",tooltipRightArrow:"Tooltip-tooltipRightArrow-18BKzY",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-1Zt2gV",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-NweCLw",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-1ETgza",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-3x1zFR",topLeft:"Tooltip-topLeft-2DEJ1a Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipLeftAlignArrow-NweCLw",topCenter:"Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY",topRight:"Tooltip-topRight-3-BmgQ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipRightAlignArrow-1ETgza",bottomLeft:"Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",middleLeft:"Tooltip-middleLeft-11JlOJ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipRightArrow-18BKzY Tooltip-tooltipMiddleAlignArrow-3x1zFR",middleRight:"Tooltip-middleRight-3lubOi Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipLeftArrow-1Zt2gV Tooltip-tooltipMiddleAlignArrow-3x1zFR"}},B8UO:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"textInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5"},data:s}))+" </div> </div> </form> "}))},BDy8:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="",l=this.escapeExpression;return o+='<form class="edit-metadata-form"> ',((s=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,r="";return r+=" "+l((i=a("Nup9"),i&&(i.__esModule?i.default:i)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),n),data:n}))||0===s)&&(o+=s),o+=" </form> "}))},BNpA:function(e,t,a){e.exports={container:"MetadataIcon-container-1OiQBF"}},BQdi:function(e,t,a){"use strict";a("yDpE");t.a=function(e,t){var a="function"==typeof t;return function(){var i=a?t(...arguments):arguments[0];return{type:e,payload:i}}}},BQgB:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"h",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"e",(function(){return y})),a.d(t,"j",(function(){return f}));var i=a("BQdi"),r=a("ZwMC"),n=a("NvfA"),s=a("n1jJ"),o=a("vkLW"),l="user/lockUser",c="user/saveExperienceSettings",d=Object(i.a)(l),u=Object(i.a)("user/fetchUserFeatures"),p=Object(i.a)("user/populateUserFeatures"),h=Object(i.a)(c),m=Object(i.a)("user/saveSubtitleColor"),v=Object(i.a)("user/saveSubtitlePosition"),g=Object(i.a)("user/saveSubtitleSize"),y=Object(i.a)("user/saveAutoPlay"),f={[l](e,t){r.a.error("LOCK_USER must be handled by each project")},"user/fetchUserFeatures":Object(n.a)({key:"features",getModel:o.o}),"user/populateUserFeatures":Object(s.a)({key:"features",fetchActionCreator:u,getModel:o.o}),[c](e,t){r.a.error("SAVE_EXPERIENCE_SETTINGS must be handled by each project")},"user/saveSubtitleColor"(e,t,a){a(h(t))},"user/saveSubtitlePosition"(e,t,a){a(h(t))},"user/saveSubtitleSize"(e,t,a){a(h(t))},"user/saveAutoPlay"(e,t,a){a(h(t))}}},BRfu:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("Sgs+"),o=a("jejw"),l=a("DTXE"),c=o.a.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.a.encodedString,type:l.a.string,field:l.a.string,value:l.a.string,title:l.a.string},augmentResponse:e=>(e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e)}),d=s.a.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url(){var e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());var t=r.a.result(this.section,"url");return n.join([t,this.parent.id],e)},getUrlParams(){var e={},t=[],a=this.section.get("currentType"),i=this.section.get("currentFilters");return a&&(e.type=a.id),r.a.each(i,t=>{t.key!==this.parent.id&&t.values.length&&(e[t.key]=t.values.join(","))}),r.a.each(e,(e,a)=>{"unviewedLeafCount"===a?t.push(a+">="+e):t.push(a+"="+e)}),t.join("&")},augmentResponse:e=>(e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=r.a.filter(e.Directory,e=>e.title),e),search(e){var t=this.filter(t=>t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1);return this.clone(t)}});t.a=d},BSWJ:function(e,t,a){e.exports={icon:"LibraryEmptyWatchlistPage-icon-34dmWk"}},BTFm:function(e,t,a){e.exports={activityIcon:"NavBarActivityButton-activityIcon-1Db2GP NavBarActivityIcon-iconContainer-24xhXd",label:"NavBarActivityButton-label-2ZN0gQ",isHighlighted:"NavBarActivityButton-isHighlighted-27qlko",alertIcon:"NavBarActivityButton-alertIcon-3opbQx NavBarIconButton-alertIcon-2HPvE2"}},BUrS:function(e,t,a){e.exports={castList:"PrePlayCastList-castList-3dQB5e"}},BVbW:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],r=r||{};var n,s="";return((n=(a=this.merge(a,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),r),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),r),data:r}))||0===n)&&(s+=n),s+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="caption"> <div class="username"></div> <div class="managed-title"></div> </div> ',((n=a.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),r),fn:this.program(5,(function(e,t){return" </div> "}),r),data:r}))||0===n)&&(s+=n),s+=" "}))},BWzY:function(e,t,a){"use strict";a.r(t);var i=a("F/us"),r=a.n(i),n=a("L7kO"),s=a("PW1X"),o=a("Sgs+"),l=a("cGVK"),c=a("5hhD"),d=a("A+r8");var u=a("0dto"),p=a("a+vp"),h=a("O57k"),m=a("75i5"),v=a("Uk9b"),g=o.a.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeMeta","includeGames","includeTypeFirst","includeTypeFirstQuickLinksHubs","includeStations","includeExternalMedia","includeExternalMetadata","includeRecentChannels","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:v.a,responseType(){return Object(u.a)(this.server)},url(){var e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));var t={};return""!==this.excludeFields&&(t.excludeFields=this.excludeFields||"summary"),this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeMeta&&(t.includeMeta=1),this.includeGames&&(t.includeGames=1),this.includeTypeFirst&&(t.includeTypeFirst=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.includeRecentChannels&&(t.includeRecentChannels=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach(e=>{t["exclude"+Object(h.a)(e)]=1}),s.join(e,t)},initialize:function(){this.section&&this.listenTo(n.a,"clear:sections:hubs",this.clear)},fetch(e={}){var t=r.a.clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=s.join(r.a.result(this,"url"),{onlyTransient:1})),o.a.prototype.fetch.call(this,t)},augmentResponseText:(e,t)=>t===l.c?Object(p.b)(e):e,augmentResponse(e){var t=this.model.prototype.rootPropertyName;if(e&&t){Array.isArray(e)?e={[t]:e}:e[t]&&!Array.isArray(e[t])&&(e={[t]:[e[t]]});var a=e[t];if(e.Meta&&a.forEach(t=>{t.Meta||(t.Meta=e.Meta)}),this.includeTypeFirst)if(this.includeTypeFirstQuickLinksHubs){if(c.k(e.identifier,c.g)){var i={context:"hub.home.quicklinks",hubIdentifier:"home.quicklinks",size:2,style:"list",totalSize:2,type:"directory",Directory:[{content:1,context:"content.categories",key:"/library/sections/categories",subtype:"news",title:Object(d.default)("Categories"),type:"genre"},{content:1,context:"content.channels",key:"/library/sections/channels",subtype:"news",title:Object(d.default)("Channels")}]};if(!(a&&a.some(e=>e.hubIdentifier===i.hubIdentifier)))if(a){var r=0===a.length?0:1;e.Hub.splice(r,0,i)}else e[t]=[i]}else if(c.k(e.identifier,c.d)){var n=a&&a.find(e=>{var t=e.hubIdentifier;return t&&/^video\.quicklinks\./.test(t)});if(n)n.Directory.some(e=>/^\/playlists\//.test(e.key))||n.Directory.push({key:"/playlists/all?type=15&playlistType=video&sectionID="+e.librarySectionID,title:Object(d.default)("Playlists")})}}else a&&(a=a.filter(e=>{var t=e.hubIdentifier;return!t||-1===t.indexOf("quicklinks")}),e[t]=a);var s=a&&a.length;if(s){if(!this.includeEmpty)for(;s&&s--;){var o=a[s];m.a.includes(o.style)&&o.size<=0&&a.splice(s,1)}this.maxLength&&a.splice(this.maxLength),e.size>a.length&&(e.size=String(a.length)),this.count&&a.forEach(e=>{e.more&&e.size>this.count&&(e.Metadata.splice(this.count,e.size-this.count),e.size=this.count)})}}return this.responseContext.forEach(t=>{var a=e[t];void 0!==a&&this.setContext(t,a)}),e}});t.default=g},BgT4:function(e,t,a){e.exports={day:"CalendarDay-day-1O4pXT"}},BoH4:function(e,t,a){e.exports={input:"ShareServerLibrariesServerTitle-input-c9nTTO CheckInput-label-2yG4rI"}},Bzgf:function(e,t,a){e.exports={recordIconContainer:"RecordButton-recordIconContainer-274aRc PlayButton-playCircle-1_WgTy",recordIcon:"RecordButton-recordIcon-3ABxLQ"}},C3YB:function(e,t,a){e.exports={measure:"AudioVideoFullMusic-measure-3rspAQ",content:"AudioVideoFullMusic-content-7Qnq7O",card:"AudioVideoFullMusic-card-3HHZDw MetadataPosterCard-card-3bztRc",titlesContainer:"AudioVideoFullMusic-titlesContainer-1f9NMl",title:"AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",primaryTitle:"AudioVideoFullMusic-primaryTitle-sT84wu AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",secondaryTitle:"AudioVideoFullMusic-secondaryTitle-2tx_Bf AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9"}},C5La:function(e,t,a){e.exports={card:"PrePlayReviewList-card-1JeBzp PosterCard-card-VhPkOe",details:"PrePlayReviewList-details-3pnUYy",ratingImg:"PrePlayReviewList-ratingImg-IQXmhD",reviewContainer:"PrePlayReviewList-reviewContainer-1WkRIG",titleContainer:"PrePlayReviewList-titleContainer-1REvg3",title:"PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",author:"PrePlayReviewList-author-2HRwbj PrePlayReviewList-title-1KHIn6 MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},CCSj:function(e,t,a){(function(e){!function(e){"use strict";var t=function(t,a){this.options=a,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var a=this,i=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(i),this.isShown||i.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop((function(){var i=e.support.transition&&a.$element.hasClass("fade");a.$element.parent().length||a.$element.appendTo(document.body),a.$element.show(),i&&a.$element[0].offsetWidth,a.$element.addClass("in").attr("aria-hidden",!1),a.enforceFocus();var r=e.Event("shown.bs.modal",{relatedTarget:t});i?a.$element.find(".modal-dialog").one(e.support.transition.end,(function(){a.$element.focus().trigger(r)})).emulateTransitionEnd(300):a.$element.focus().trigger(r)})))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy((function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()}),this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy((function(e){27==e.which&&this.hide()}),this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop((function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")}))},t.prototype.removeBackdrop=function(){delete this.backdropMouseDownTarget,this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var a=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var i=e.support.transition&&a;if(this.$backdrop=e('<div class="modal-backdrop '+a+'" />').appendTo(document.body),this.$element.on("mousedown.dismiss.modal",e.proxy((function(e){this.backdropMouseDownTarget=e.target}),this)),this.$element.on("mouseup.dismiss.modal",e.proxy((function(e){e.target===this.backdropMouseDownTarget&&(delete this.backdropMouseDownTarget,e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this)))}),this)),i&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;i?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var a=e.fn.modal;e.fn.modal=function(a,i){return this.each((function(){var r=e(this),n=r.data("bs.modal"),s=e.extend({},t.DEFAULTS,r.data(),"object"==typeof a&&a);n||r.data("bs.modal",n=new t(this,s)),"string"==typeof a?n[a](i):s.show&&n.show(i)}))},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=a,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',(function(t){var a=e(this),i=a.attr("href"),r=e(a.attr("data-target")||i&&i.replace(/.*(?=#[^\s]+$)/,"")),n=r.data("modal")?"toggle":e.extend({remote:!/#/.test(i)&&i},r.data(),a.data());t.preventDefault(),r.modal(n,this).one("hide",(function(){a.is(":visible")&&a.focus()}))})),e(document).on("show.bs.modal",".modal",(function(){e(document.body).addClass("modal-open")})).on("hidden.bs.modal",".modal",(function(){e(document.body).removeClass("modal-open")}))}(e)}).call(this,a("EVdn"))},CHO5:function(e,t,a){e.exports={mediaElement:"HTMLMedia-mediaElement-35x77U"}},CHYD:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(r(a("ortX")).call(t,"Create a premium Plex music library!",{hash:{},data:s}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(r(a("ortX")).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:s}))+"</li> <li>"+c(r(a("ortX")).call(t,"Smart mixes based on track or mood",{hash:{},data:s}))+"</li> <li>"+c(r(a("ortX")).call(t,"Improved music recognition and matching",{hash:{},data:s}))+"</li> </ul> ",((o=i.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=' <p class="help-block"> '+c(r(a("ortX")).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((o=i.if.call(t,t&&t.hasLyrics,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(r(a("ortX")).call(t,"Create a basic music library",{hash:{},data:s}))+" </div> </div> </div> "}))},CKcw:function(e,t,a){var i=a("1DoD").default,r=a("S4rx");e.exports=r(i)},CWZi:function(e,t,a){e.exports={poster:"MetadataPosterCardFace-poster-L2P6rC",face:"MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardFace-isSelected-1XUgkl",faceFront:"MetadataPosterCardFace-faceFront-1bxHG3",faceBack:"MetadataPosterCardFace-faceBack-1ofDHf"}},CjSz:function(e,t,a){e.exports={modalBody:"SubtitlesUploadModalContent-modalBody-26_M5- ModalBody-modalBody--5uHSu",container:"SubtitlesUploadModalContent-container-hAKMim",dropHover:"SubtitlesUploadModalContent-dropHover-2g3rQZ",uploadingContainer:"SubtitlesUploadModalContent-uploadingContainer-3YDAh7",fileInputContainer:"SubtitlesUploadModalContent-fileInputContainer-oioGGH",fileInputLink:"SubtitlesUploadModalContent-fileInputLink-2mJgaq",separator:"SubtitlesUploadModalContent-separator-3gi0QY"}},ClE3:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i="error",r="success"},CsFZ:function(e,t,a){e.exports={container:"ServerDashboardGraph-container-3OySq3 ServerDashboardSectionContent-container-3rMPaP",errorMessage:"ServerDashboardGraph-errorMessage-2LPJoX ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},Cu2K:function(e,t,a){e.exports={itemExtraDetail:"AudioVideoQualityMenuItem-itemExtraDetail-202QW4"}},CuR8:function(e,t,a){e.exports={container:"PivotTabDropdown-container-1QP8Fk",button:"PivotTabDropdown-button-1UgTLu PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PivotTabDropdown-buttonContents-1S-hwV",title:"PivotTabDropdown-title-17TfJG",disclosureArrow:"PivotTabDropdown-disclosureArrow-Kjyz5C DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PivotTabDropdown-isSelected-1F5jFF"}},CytX:function(e,t,a){e.exports={measureContainer:"ChannelsGridPageContent-measureContainer-86FCP0",gridContent:"ChannelsGridPageContent-gridContent-1qxiR6 ChannelsGrid-gridContainer-u_bmj0"}},DBlN:function(e,t,a){(function(e){!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,a,i){this.enabled=!0,this.type=t,this.$element=e(a),this.options=this.getOptions(i);for(var r=this.options.trigger.split(" "),n=r.length;n--;){var s=r[n];if("click"==s)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=s){var o="hover"==s?"mouseenter":"focus",l="hover"==s?"mouseleave":"blur";this.$element.on(o+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},a=this.getDefaults();return this._options&&e.each(this._options,(function(e,i){a[e]!=i&&(t[e]=i)})),t},t.prototype.enter=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(a.timeout),a.hoverState="in",!a.options.delay||!a.options.delay.show)return a.show();a.timeout=setTimeout((function(){"in"==a.hoverState&&a.show()}),a.options.delay.show)},t.prototype.leave=function(t){var a=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(a.timeout),a.hoverState="out",!a.options.delay||!a.options.delay.hide)return a.hide();a.timeout=setTimeout((function(){"out"==a.hoverState&&a.hide()}),a.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var a=this.tip();this.setContent(),this.options.animation&&a.addClass("fade");var i="function"==typeof this.options.placement?this.options.placement.call(this,a[0],this.$element[0]):this.options.placement,r=/\s?auto?\s?/i,n=r.test(i);n&&(i=i.replace(r,"")||"top"),a.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?a.appendTo(this.options.container):a.insertAfter(this.$element);var s=this.getPosition(),o=a[0].offsetWidth,l=a[0].offsetHeight;if(n){var c=this.$element.parent(),d=i,u=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),h="body"==this.options.container?window.innerHeight:c.outerHeight(),m="body"==this.options.container?0:c.offset().left;i="bottom"==i&&s.top+s.height+l-u>h?"top":"top"==i&&s.top-u-l<0?"bottom":"right"==i&&s.right+o>p?"left":"left"==i&&s.left-o<m?"right":i,a.removeClass(d).addClass(i)}var v=this.getCalculatedOffset(i,s,o,l);this.applyPlacement(v,i),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var a,i=this.tip(),r=i[0].offsetWidth,n=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),o=parseInt(i.css("margin-left"),10);isNaN(s)&&(s=0),isNaN(o)&&(o=0),e.top=e.top+s,e.left=e.left+o,i.offset(e).addClass("in");var l=i[0].offsetWidth,c=i[0].offsetHeight;if("top"==t&&c!=n&&(a=!0,e.top=e.top+n-c),/bottom|top/.test(t)){var d=0;e.left<0&&(d=-2*e.left,e.left=0,i.offset(e),l=i[0].offsetWidth,c=i[0].offsetHeight),this.replaceArrow(d-r+l,l,"left")}else this.replaceArrow(c-n,c,"top");a&&i.offset(e)},t.prototype.replaceArrow=function(e,t,a){this.arrow().css(a,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,a=this.tip(),i=e.Event("hide.bs."+this.type);function r(){"in"!=t.hoverState&&a.detach()}if(this.$element.trigger(i),!i.isDefaultPrevented())return a.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?a.one(e.support.transition.end,r).emulateTransitionEnd(150):r(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,a,i){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-a/2}:"top"==e?{top:t.top-i,left:t.left+t.width/2-a/2}:"left"==e?{top:t.top+t.height/2-i/2,left:t.left-a}:{top:t.top+t.height/2-i/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var a=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;a.tip().hasClass("in")?a.leave(a):a.enter(a)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var a=e.fn.tooltip;e.fn.tooltip=function(a){return this.each((function(){var i=e(this),r=i.data("bs.tooltip"),n="object"==typeof a&&a;r||i.data("bs.tooltip",r=new t(this,n)),"string"==typeof a&&r[a]()}))},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=a,this}}(e)}).call(this,a("EVdn"))},DDT0:function(e,t,a){e.exports={unknown:"RemoteAccessStateIcon-unknown-2v9yMF",error:"RemoteAccessStateIcon-error-1HDvqj",ok:"RemoteAccessStateIcon-ok-2eQXXP"}},DFfa:function(e,t,a){e.exports={icon:"ErrorSourceSidebar-icon-2qnXAl"}},DHe7:function(e,t,a){e.exports={description:"ImportPlaylistsModal-description-3Lm544",row:"ImportPlaylistsModal-row-1RJDHk",overwrite:"ImportPlaylistsModal-overwrite-11Wk9k",library:"ImportPlaylistsModal-library-3t6Hg-",buttonBar:"ImportPlaylistsModal-buttonBar-3Y9UNY ModalFooterButtonBar-buttonBar-7XF2zU"}},DJk6:function(e,t,a){e.exports={divider:"PrePlayListDivider-divider-ujL6N2"}},DOb5:function(e,t,a){e.exports={relatedList:"PrePlayHubList-relatedList-3rwpfc",spinnerContainer:"PrePlayHubList-spinnerContainer-1kYSWN"}},DRPX:function(e,t,a){"use strict";var i=a("8OQS"),r=a.n(i),n=a("fomp"),s=a("F/us"),o=a.n(s),l=a("PW1X"),c=a("Uk9b"),d=a("dvhI"),u=a("gsFU"),p=a("Ir6/"),h=a("ADhH"),m={uri:function(e,t){var a=t&&t.items;if(a&&a.length){if(a.length>1)return this.getBatchLibraryMetadataURI(a,t);e||(e=o.a.first(a))}if(e instanceof n.c.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t)}return this.getLibraryMetadataURI(e,t)},parseLibraryUri:function(e){var t=l.getLastSegment(e),a=decodeURIComponent(t).match(/(\/library\/sections\/\w+)\/all(?:\?(.*))?/),[,i,n=""]=a,s={};for(var o of n.split("&")){var[c,d]=o.split("=");c.startsWith("include")||(s[c]=d)}var{type:u,sourceType:p,sort:h,limit:m}=s,v=r()(s,["type","sourceType","sort","limit"]);return{sectionKey:i,type:u,sourceType:p,sort:h,limit:m,filterString:Object.entries(v).map(([e,t])=>e+"="+t).join("&")}},getSectionURI:function(e,t){var a,i=o.a.result(e,"url"),r=e.get("currentSubset"),n=e.get("currentFolderKey"),s=e.get("currentType");if("folder"===r.id)a=n||l.join([i,"all"]);else{var c=e.get("items"),d=c.getParams();if(d.type&&delete d.type,d.timelineState&&delete d.timelineState,d.unwatchedLeaves)d[Object(h.t)(e.get("type")).typeString+".unwatched"]=1,delete d.unwatchedLeaves;s&&(d.sourceType=s.id),a=l.join([i,r.id],d),a=c.replaceSpecialFilterOperators(a)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",a]})},getBatchLibraryMetadataURI:function(e,t){var a=this._getSectionInfo(o.a.first(e)),i="/library/metadata/"+o.a.map(e,(function(e){return e.get("ratingKey")})).join(",");return this._resolveURI({prefix:"library",parts:[a.sectionUUID,"directory",i]})},getLibraryMetadataURI:function(e,t){t||(t={});var a,i=this._getSectionInfo(e),r=o.a.result(e,"url");return t.excludeSeedItem&&(r=l.join(r,{excludeSeedItem:1})),a=e.models||e.collectionName||e instanceof c.a?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[i.sectionUUID,a,r]})},getMetadataListURI:function(e,t){t||(t={});var a=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[a.sectionUUID,"directory",l.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},title:function(e,t){var a=t&&t.items;if(a&&a.length){if(a.length>1)return this.getBatchLibraryMetadataTitle(a,t);e=o.a.first(a)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){var t=e.get("title"),a=e.get("currentSubset"),i=e.get("currentFilters");return"all"!==a.id?t+": "+a.get("title"):i.length?t+": "+o.a.flatten(o.a.map(i,(function(e){return e.titles}))).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){var t=o.a.map(e,(function(e){return e.get("title")}));return Object(p.a)(t)},getLibraryMetadataTitle:function(e){var t=e.get("grandparentTitle")||e.get("parentTitle"),a=e.get("title");(t&&(a=t+" - "+a),"episode"===e.get("type"))&&(a+=" ("+Object(d.a)({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")");return a},_resolveURI:function(e){var t=e.parts,a=o.a.map(t,(function(e){return e?encodeURIComponent(e):""}));return e.prefix+"://"+a.join("/")},_getSectionInfo:function(e){var t=e.get("librarySectionUUID"),a=e.get("librarySectionID");if(!t||!a){var i=Object(u.a)(e);o.a.isEmpty(i)||(t=i.get("uuid"),a=i.id)}return{sectionUUID:t,sectionID:a}}};t.a=m},DTM1:function(e,t,a){e.exports={textArea:"TextArea-textArea-2jx-Xy input-input-1P2Vi4",small:"TextArea-small-1qB4kd",large:"TextArea-large-3b8XTo",isDisabled:"TextArea-isDisabled-33gHrC input-isDisabled-2FiSY3",hasError:"TextArea-hasError-2KSz1h input-hasError-1to6Ql"}},DTXE:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("8gq0"),s=["boolean","integer","float","string","object","array"];function o(e){return!0}function l(e){return r.a.isObject(e)&&!Array.isArray(e)}function c(e,t){t||(t={});var a,i=r.a.defaults(t,{typeName:e,parse:r.a.bind(n.a.parseType,n.a,e),stringify:r.a.bind(n.a.stringifyType,n.a,e)});return i.validate=t.validate?(a=t.validate,function(e){return null==e||a(e)}):o,i.isRequired=Object.assign({},i,{validate:e=>null!=e&&i.validate(e),typeName:i.typeName+"<required>"}),i}var d={any:c("any"),boolean:c("boolean",{validate:r.a.isBoolean}),integer:c("integer",{validate:Number.isInteger}),float:c("float",{validate:r.a.isNumber}),string:c("string",{validate:r.a.isString}),object:c("object",{validate:l}),array:c("array",{validate:Array.isArray}),list:c("list",{validate:Array.isArray}),encodedString:c("encodedString",{validate:r.a.isString}),queryString:c("queryString",{validate:l}),instanceOf:function(){var e=r.a.toArray(arguments);return c("instanceOf",{validate:function(t){return r.a.some(e,(function(e){return t instanceof e}))}})},oneOf:function(){var e=r.a.toArray(arguments);return c("oneOf",{validate:function(t){return r.a.contains(e,t)}})},oneOfType:function(){var e=r.a.toArray(arguments);return c("oneOfType",{validate:function(t){return r.a.some(e,(function(e){return e.validate(t)}))}})},custom:function(e){return c("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return d.any;for(var t=0,a=s.length;t<a;t++){var i=d[s[t]];if(i.validate(e))return i}return d.any}};t.a=d},DUT6:function(e,t,a){e.exports={spinner:"Spinner-spinner-1qRM4t spin-spin-2kLwt_",tiny:"Spinner-tiny-28qpDI",small:"Spinner-small-3HDhxQ",medium:"Spinner-medium-1O8qVb",large:"Spinner-large-35s3aN"}},DYcP:function(e,t,a){
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
!function(t,i){var r=a("F/us"),n=a("zLeb");a("e1Br"),a("5/Iy");e.exports=function(e,t){!function(e,t,a){"use strict";var i={};t.Marionette=i,i.$=t.$;var r=Array.prototype.slice;function n(e,t){var a=new Error(e);throw a.name=t||"Error",a}i.extend=t.Model.extend,i.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},i.normalizeMethods=function(e){var t,i={};return a.each(e,(function(e,r){t=e,a.isFunction(t)||(t=this[t]),t&&(i[r]=t)}),this),i},i.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,a){return a.toUpperCase()}return function(i){var r="on"+i.replace(e,t),n=this[r];if(a.isFunction(this.trigger)&&this.trigger.apply(this,arguments),a.isFunction(n))return n.apply(this,a.tail(arguments))}}(),i.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&a.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",(function(){!function(e){e._isShown=!0,t(e)}(e)})),e.listenTo(e,"render",(function(){!function(e){e._isRendered=!0,t(e)}(e)}))}}(document.documentElement),function(e){function t(e,t,i,r){var s=r.split(/\s+/);a.each(s,(function(a){var r=e[a];r||n("Method '"+a+"' was configured as an event handler, but does not exist."),e.listenTo(t,i,r)}))}function i(e,t,a,i){e.listenTo(t,a,i)}function r(e,t,i,r){var n=r.split(/\s+/);a.each(n,(function(a){var r=e[a];e.stopListening(t,i,r)}))}function s(e,t,a,i){e.stopListening(t,a,i)}function o(e,t,i,r,n){t&&i&&(a.isFunction(i)&&(i=i.call(e)),a.each(i,(function(i,s){a.isFunction(i)?r(e,t,s,i):n(e,t,s,i)})))}e.bindEntityEvents=function(e,a,r){o(e,a,r,i,t)},e.unbindEntityEvents=function(e,t,a){o(e,t,a,s,r)}}(i),i.Callbacks=function(){this._deferred=i.$.Deferred(),this._callbacks=[]},a.extend(i.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done((function(a,i){t&&(a=t),e.call(a,i)}))},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=i.$.Deferred(),this._callbacks=[],a.each(e,(function(e){this.add(e.cb,e.ctx)}),this)}}),i.Controller=function(e){this.triggerMethod=i.triggerMethod,this.options=e||{},a.isFunction(this.initialize)&&this.initialize(this.options)},i.Controller.extend=i.extend,a.extend(i.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),i.Region=function(e){if(this.options=e||{},this.el=i.getOption(this,"el"),this.el||n("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},a.extend(i.Region,{buildRegion:function(e,t){var i,r,s=a.isString(e),o=a.isString(e.selector),l=a.isUndefined(e.regionType),c=a.isFunction(e);c||s||o||n("Region must be specified as a Region type, a selector string or an object with selector property"),s&&(i=e),e.selector&&(i=e.selector,delete e.selector),c&&(r=e),!c&&l&&(r=t),e.regionType&&(r=e.regionType,delete e.regionType),(s||c)&&(e={}),e.el=i;var d=new r(e);return e.parentEl&&(d.getEl=function(t){var i=e.parentEl;return a.isFunction(i)&&(i=i()),i.find(t)}),d}}),a.extend(i.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||a.isUndefined(e.$el),r=e!==this.currentView;r&&this.close(),e.render(),(r||t)&&this.open(e),this.currentView=e,i.triggerMethod.call(this,"show",e),i.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return i.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),i.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),i.Region.extend=i.extend,i.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var i={};return a.each(e,(function(e,r){a.isString(e)&&(e={selector:e}),e.selector&&(e=a.defaults({},e,t));var n=this.addRegion(r,e);i[r]=n}),this),i},addRegion:function(t,i){var r,n=a.isObject(i),s=a.isString(i),o=!!i.selector;return r=s||n&&o?e.Region.buildRegion(i,e.Region):a.isFunction(i)?e.Region.buildRegion(i,e.Region):i,this._store(t,r),this.triggerMethod("region:add",t,r),r},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){a.each(this._regions,(function(e,t){this._remove(t,e)}),this)},closeRegions:function(){a.each(this._regions,(function(e,t){e.close()}),this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=a.size(this._regions)}});return a.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],(function(e){t.prototype[e]=function(){var t=a.values(this._regions),i=[t].concat(a.toArray(arguments));return a[e].apply(a,i)}})),t}(i),i.TemplateCache=function(e){this.templateId=e},a.extend(i.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new i.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=r.call(arguments),a=t.length;if(a>0)for(e=0;e<a;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),a.extend(i.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=i.$(e).html();return t&&0!==t.length||n("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return a.template(e)}}),i.Renderer={render:function(e,t){return e||n("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:i.TemplateCache.get(e))(t)}},i.View=t.View.extend({constructor:function(e){a.bindAll(this,"render"),this.options=a.extend({},a.result(this,"options"),a.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(a.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),i.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:i.triggerMethod,normalizeMethods:i.normalizeMethods,getTemplate:function(){return i.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=i.getOption(this,"templateHelpers");return a.isFunction(t)&&(t=t.call(this)),a.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return a.each(a.keys(e),(function(i){var r=/@ui.[a-zA-Z_$0-9]*/g;i.match(r)&&(e[i.replace(r,(function(e){return a.result(t,"ui")[e.slice(4)]}))]=e[i],delete e[i])})),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(a.result(this,"triggers"));return a.each(t,(function(t,i){var r=a.isObject(t),n=r?t.event:t;e[i]=function(e){if(e){var a=e.preventDefault,i=e.stopPropagation,s=r?t.preventDefault:a,o=r?t.stopPropagation:i;s&&a&&a.apply(e),o&&i&&i.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(n,l)}}),this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),i.bindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.bindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,a.isFunction(e)&&(e=e.call(this));var i={},r=this.configureTriggers();a.extend(i,e,r),t.View.prototype.delegateEvents.call(this,i)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),i.unbindEntityEvents(this,this.model,i.getOption(this,"modelEvents")),i.unbindEntityEvents(this,this.collection,i.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){this.isClosed||!1!==this.triggerMethod("before:close")&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=a.result(this,"_uiBindings");this.ui={},a.each(a.keys(e),(function(t){var a=e[t];this.ui[t]=this.$(a)}),this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(a.each(this.ui,(function(e,t){delete this.ui[t]}),this),this.ui=this._uiBindings,delete this._uiBindings)}}),i.ItemView=i.View.extend({constructor:function(){i.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),a=i.Renderer.render(t,e);return this.$el.html(a),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),i.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),i.CollectionView=i.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),i.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(a.each(this._bufferedChildren,(function(e){i.triggerMethod.call(e,"show")})),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,a){this.closeEmptyView();var i=this.getItemView(e),r=this.collection.indexOf(e);this.addItemView(e,i,r)},onShowCalled:function(){this.children.each((function(e){i.triggerMethod.call(e,"show")}))},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each((function(t,a){e=this.getItemView(t),this.addItemView(t,e,a)}),this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var a=new t.Model;this.addItemView(a,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return i.getOption(this,"emptyView")},getItemView:function(e){var t=i.getOption(this,"itemView");return t||n("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,r){var n=i.getOption(this,"itemViewOptions");a.isFunction(n)&&(n=n.call(this,e,r));var s=this.buildItemView(e,t,n);return this.addChildViewEventForwarding(s),this.triggerMethod("before:item:added",s),this.children.add(s),this.renderItemView(s,r),this._isShown&&!this.isBuffering&&i.triggerMethod.call(s,"show"),this.triggerMethod("after:item:added",s),s},addChildViewEventForwarding:function(e){var t=i.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",(function(){var n=r.call(arguments),s=n[0],o=this.normalizeMethods(this.getItemEvents());n[0]=t+":"+s,n.splice(1,0,e),void 0!==o&&a.isFunction(o[s])&&o[s].apply(this,n),i.triggerMethod.apply(this,n)}),this)},getItemEvents:function(){return a.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,i){return new t(a.extend({model:e},i))},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),i.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each((function(e){this.removeChildView(e)}),this),this.checkEmpty()}}),i.CompositeView=i.CollectionView.extend({constructor:function(){i.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",(function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))}))},getItemView:function(e){var t=i.getOption(this,"itemView")||this.constructor;return t||n("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),i.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return i.Renderer.render(t,e)},appendBuffer:function(e,t){this.getItemViewContainer(e).append(t)},appendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):this.getItemViewContainer(e).append(t.el)},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,r=i.getOption(e,"itemViewContainer");if(r){var s=a.isFunction(r)?r.call(this):r;(t=e.$(s)).length<=0&&n("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),i.Layout=i.ItemView.extend({regionType:i.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),i.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),i.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),i.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var a={};return a[e]=t,this._buildRegions(a)[e]},addRegions:function(e){return this.regions=a.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,a={regionType:i.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,a)},_initializeRegions:function(e){var t;this._initRegionManager(),t=a.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each((function(e){e.reset()}))},_initRegionManager:function(){this.regionManager=new i.RegionManager,this.listenTo(this.regionManager,"region:add",(function(e,t){this[e]=t,this.trigger("region:add",e,t)})),this.listenTo(this.regionManager,"region:remove",(function(e,t){delete this[e],this.trigger("region:remove",e,t)}))}}),i.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var a=i.getOption(this,"appRoutes"),r=this._getController();this.processAppRoutes(r,a)},appRoute:function(e,t){var a=this._getController();this._addAppRoute(a,e,t)},processAppRoutes:function(e,t){if(t){var i=a.keys(t).reverse();a.each(i,(function(a){this._addAppRoute(e,a,t[a])}),this)}},_getController:function(){return i.getOption(this,"controller")},_addAppRoute:function(e,t,i){var r=e[i];r||n("Method '"+i+"' was not found on the controller"),this.route(t,i,a.bind(r,e))}}),i.Application=function(e){this._initRegionManager(),this._initCallbacks=new i.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},a.extend(this,e),this.triggerMethod=i.triggerMethod},a.extend(i.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var a=i.Module.getClass(t),n=r.call(arguments);return n.unshift(this),a.create.apply(a,n)},_initRegionManager:function(){this._regionManager=new i.RegionManager,this.listenTo(this._regionManager,"region:add",(function(e,t){this[e]=t})),this.listenTo(this._regionManager,"region:remove",(function(e,t){delete this[e]}))}}),i.Application.extend=i.extend,i.Module=function(e,t,r){this.moduleName=e,this.options=a.extend({},this.options,r),this.initialize=r.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=i.triggerMethod,a.isFunction(this.initialize)&&this.initialize(this.options,e,t)},i.Module.extend=i.extend,a.extend(i.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(a.each(this.submodules,(function(t){t.startWithParent&&t.start(e)})),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,i.triggerMethod.call(this,"before:stop"),a.each(this.submodules,(function(e){e.stop()})),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),i.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,r){if(e){var n=a.flatten([this,this.app,t,i,i.$,a,r]);e.apply(this,n)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new i.Callbacks,this._finalizerCallbacks=new i.Callbacks}}),a.extend(i.Module,{create:function(e,t,i){var n=e,s=r.call(arguments);s.splice(0,3);var o=(t=t.split(".")).length,l=[];return l[o-1]=i,a.each(t,(function(t,a){var r=n;n=this._getModule(r,t,e,i),this._addModuleDefinition(r,n,l[a],s)}),this),n},_getModule:function(e,t,i,r,n){var s=a.extend({},r),o=this.getClass(r),l=e[t];return l||(l=new o(t,i,s),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=i.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,r,n){var s,o;!a.isFunction(r)||r.prototype instanceof i.Module?a.isObject(r)?(s=r.define,o=!!a.isUndefined(r.startWithParent)||r.startWithParent):o=!0:(s=r,o=!0),s&&t.addDefinition(s,n),t.startWithParent=t.startWithParent&&o,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer((function(e){t.startWithParent&&t.start(e)})))}})}(0,t,e);return t.Marionette}(r,n)}()},DYor:function(e,t,a){e.exports={message:"ConfirmAdvertisingNotice-message-2crJY6",consentMessage:"ConfirmAdvertisingNotice-consentMessage-3Bhdzy"}},DcPB:function(e,t,a){"use strict";a.d(t,"i",(function(){return Q})),a.d(t,"h",(function(){return W})),a.d(t,"c",(function(){return G})),a.d(t,"d",(function(){return Y})),a.d(t,"e",(function(){return K})),a.d(t,"f",(function(){return q})),a.d(t,"g",(function(){return Z})),a.d(t,"a",(function(){return J})),a.d(t,"b",(function(){return $})),a.d(t,"x",(function(){return ee})),a.d(t,"O",(function(){return te})),a.d(t,"Q",(function(){return ae})),a.d(t,"R",(function(){return ie})),a.d(t,"N",(function(){return re})),a.d(t,"P",(function(){return ne})),a.d(t,"r",(function(){return se})),a.d(t,"E",(function(){return oe})),a.d(t,"F",(function(){return le})),a.d(t,"w",(function(){return ce})),a.d(t,"A",(function(){return de})),a.d(t,"B",(function(){return ue})),a.d(t,"C",(function(){return pe})),a.d(t,"D",(function(){return he})),a.d(t,"q",(function(){return me})),a.d(t,"H",(function(){return ve})),a.d(t,"G",(function(){return ge})),a.d(t,"I",(function(){return ye})),a.d(t,"J",(function(){return fe})),a.d(t,"k",(function(){return be})),a.d(t,"l",(function(){return Ie})),a.d(t,"m",(function(){return Se})),a.d(t,"o",(function(){return Me})),a.d(t,"p",(function(){return Ce})),a.d(t,"n",(function(){return De})),a.d(t,"j",(function(){return Pe})),a.d(t,"y",(function(){return Oe})),a.d(t,"z",(function(){return je})),a.d(t,"v",(function(){return Te})),a.d(t,"t",(function(){return we})),a.d(t,"s",(function(){return Ee})),a.d(t,"K",(function(){return Ne})),a.d(t,"M",(function(){return xe})),a.d(t,"L",(function(){return Ae})),a.d(t,"u",(function(){return ke}));var i=a("EVdn"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("BQdi"),l=a("PW1X"),c=a("xuTi"),d=a("ZC6L");var u=a("5+Bl");function p(e){var t=Object(u.a)(e),a=e.get("currentDecision");if(t&&a)return a.playQueueItemID===t.get("playQueueItemID")?a:void 0}var h=a("aNE2"),m=a("vVLk");var v=a("PdYn");var g=function(e,t){var a=Object(l.parseUrl)(e),{origin:i,pathname:r,params:n}=a;return n.offset=t,Object(l.join)([i,r],n)},y=a("yDpE"),f=a("ZwMC");var b=a("S5Gm"),I=a("GYaK"),S=a("SBmW"),M=a("cGVK"),C=a("oozQ"),D=a("AG/Q"),P=a("5hhD"),O=a("nP6q"),j=a("pSG4"),T=a("FdSe");function w(e){return{startedAt:Object(S.a)(e.timeStamp),seekStartSeconds:Object(S.a)(e.minOffsetAvailable),seekEndSeconds:Object(S.a)(e.maxOffsetAvailable)}}var E=a("g21S"),N=a("mbhi"),x=a("Mty/"),A=a("ab5t"),L=a("Qcsn"),k=a("eh44"),R=a("LXFu");var z=a("vkLW"),U=a("Xi+k"),V=a("4/mG"),B=a("A+r8"),F=a("GEPl"),H=a("xKMG"),_=a("lvUb"),Q="ui/player/playerMedia/updatePlayerPosition",W="ui/player/playerMedia/togglePlayPause",G="ui/player/playerMedia/seek",Y="ui/player/playerMedia/skipBack",K="ui/player/playerMedia/skipForward",q="ui/player/playerMedia/stepBack",Z="ui/player/playerMedia/stepForward",X="ui/player/playerMedia/changeVolume",J="ui/player/playerSettings/changeQualityIndex",$="ui/player/playerSettings/changeStream",ee=Object(o.a)("ui/player/playerMedia/sendTimeline"),te=Object(o.a)("ui/player/playerMedia/updatePlayerDuration"),ae=Object(o.a)(Q),ie=Object(o.a)("ui/player/playerMedia/updatePlayerSeekRange"),re=Object(o.a)("ui/player/playerMedia/updatePlayerBuffering"),ne=(Object(o.a)("ui/player/playerMedia/updatePlayerLoading"),Object(o.a)("ui/player/playerMedia/updatePlayerError")),se=Object(o.a)("ui/player/playerMedia/clearPlayerError"),oe=Object(o.a)("ui/player/playerMedia/tickPlayer"),le=Object(o.a)(W),ce=Object(o.a)(G),de=(Object(o.a)("ui/player/playerMedia/transcodeSeek"),Object(o.a)(Y)),ue=Object(o.a)(K),pe=Object(o.a)(q),he=Object(o.a)(Z),me=Object(o.a)(X),ve=Object(o.a)("ui/player/playerSettings/togglePlayerSettingsState"),ge=Object(o.a)("ui/player/playerSettings/togglePlayerChaptersState"),ye=Object(o.a)("ui/player/playerSettings/togglePlayerSubtitlesOffsetState"),fe=Object(o.a)("ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"),be=Object(o.a)(J),Ie=Object(o.a)($),Se=Object(o.a)("ui/player/playerSettings/changeSubtitleColor"),Me=Object(o.a)("ui/player/playerSettings/changeSubtitlePosition"),Ce=Object(o.a)("ui/player/playerSettings/changeSubtitleSize"),De=Object(o.a)("ui/player/playerSettings/changeSubtitleOffset"),Pe=Object(o.a)("ui/player/playerMedia/changePlaybackSpeed"),Oe=Object(o.a)("ui/player/playerMedia/setItemPlaybackTime"),je=Object(o.a)("ui/player/playerMedia/setSessionPlaybackTime"),Te=Object(o.a)("ui/player/playerMedia/refreshStreams"),we=Object(o.a)(W,e=>Object.assign({},e,{shouldPlay:!0})),Ee=Object(o.a)(W,e=>Object.assign({},e,{shouldPause:!0})),Ne=(Object(o.a)(X,e=>Object.assign({},e,{delta:5})),Object(o.a)(X,e=>Object.assign({},e,{delta:-5})),Object(o.a)("ui/player/playerMedia/updateBufferedRanges")),xe=Object(o.a)("ui/player/playerMedia/updateMediaDimensions"),Ae=Object(o.a)("ui/player/playerMedia/updateCanPlayThrough");function Le(e,t,a){return Math.max(0,Math.min(t-m.b,e+a))}var ke={"ui/player/playerMedia/sendTimeline"(e,t,a){var i,{playerType:n,providerEntityID:o,mediaItemID:c,shouldRefreshPlayQueue:d,options:u={}}=t,p=Object(U.c)(e,n),h=z.j(e,{providerEntityID:o}),m=z.h(e,t),g=z.f(e,t);if(g||!P.k(h.get("identifier"),[P.c,P.b])){var y=m.get("isLocal")?void 0:m.get("playQueueItemID"),E=null==(i=z.d(e,t))?void 0:i.get("grabOperation").get("metadataItem");(function(e,t,a){var{playQueueItemID:i,mediaItemID:n,mediaIndex:o,partIndex:c,partCount:d,state:u,continuing:p,playbackTime:h,positionSeconds:m,durationSeconds:v,metricsContextTuple:g,ratingKey:y,key:b}=a,E=e.get("features").get(D.r);if(!E)return r.a.Deferred().reject().promise();var N=Object.assign({ratingKey:y||t.get("ratingKey"),key:b||t.get("key"),playbackTime:h,playQueueItemID:i,state:u,hasMDE:1},g?Object(T.c)(g):void 0);if(u===C.e&&p&&(N.continuing=1),P.k(e.get("identifier"),[P.c,P.b])&&(N.airingID=n),null!=v){var x=1e3*m,A=1e3*v;if(d>1){var L=t.get("Media")[o],k=L.Part[c];N.time=Object(O.a)(L,k,x),N.duration=L.duration}else N.time=x,N.duration=A;N.duration=Math.max(N.time,N.duration)}Object(f.a)("[Player] Timeline, %s",N);var R=l.join(E.get("key"),N),z=t.provider.getXHROptions(R,{headers:{accept:M.c.accept,"X-Plex-Session-Identifier":a.playbackSessionID}});return r.a.ajax(z).promise().then(e=>{var a=Object(j.a)(e);return a.terminationCode&&(a.terminationCode=Object(S.a)(a.terminationCode)),a.generalDecisionCode&&(a.generalDecisionCode=Object(S.a)(a.generalDecisionCode)),a.mdeDecisionCode&&(a.mdeDecisionCode=Object(S.a)(a.mdeDecisionCode)),a.transcodeDecisionCode&&(a.transcodeDecisionCode=Object(S.a)(a.transcodeDecisionCode)),a.Bandwidths&&a.TranscodeSession&&(a.bandwidthTimeline={bandwidths:Object(I.a)(a.Bandwidths.Bandwidth),transcodeSessionID:s.a.last(a.TranscodeSession.key.split("/"))}),a.CaptureBuffer&&a.CaptureBuffer.TranscodeSession&&(a.captureBuffer=w(a.CaptureBuffer.TranscodeSession)),a.TranscodeSession&&(a.transcodeSession=w(a.TranscodeSession)),N.time>6e4&&("progress"===a.playbackState?t.set("viewOffset",N.time):"complete"===a.playbackState&&t.set({viewOffset:0,viewCount:1})),a})})(h,g,Object.assign({state:Object(v.a)(p),playbackSessionID:p.get("playbackSessionID"),playQueueItemID:y,mediaItemID:c,metricsContextTuple:p.get("metricsContextTuple"),key:null==E?void 0:E.get("key"),ratingKey:null==E?void 0:E.get("ratingKey")},u)).done(Object(x.a)(p,e=>{a(Object(_.n)({playerType:n}));var{bandwidthTimeline:t,captureBuffer:i,transcodeSession:r}=e;p.set("bandwidthTimeline",t);var s=p.get("liveTVSession");r?(a(ie({playerType:n,seekStartSeconds:r.seekStartSeconds,seekEndSeconds:r.seekEndSeconds})),s&&r.startedAt&&s.set({startedAt:r.startedAt,captureBuffer:i})):i&&(a(ie({playerType:n,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),s&&i.startedAt&&s.set({startedAt:i.startedAt}));var o=p.get("playQueue");d&&o.get("playQueueSelectedItemID")===m.get("playQueueItemID")&&Object(b.a)(o).done(Object(x.a)(p,()=>{a(Object(_.n)({playerType:n}))})),e.terminationCode&&(a(Object(_.l)()),p.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))}))}},"ui/player/playerMedia/updatePlayerDuration"(e,{playerType:t,durationMilliseconds:a}){var i=Object(U.c)(e,t),r=Object(u.a)(i).get("metadataItem"),n=p(i);if(n){var s=r.get("Media")[n.mediaIndex],o=Object(k.a)(s),l=!!o&&"vbr"===o.bitrateMode,c=a>0&&!l?a:s.duration;i.set({isMediaLoading:!1,durationSeconds:Math.floor((c||0)/1e3)})}},[Q](e,{playerType:t,positionSeconds:a}){var i=Object(U.c)(e,t);Object(V.a)(()=>{var e={positionSeconds:a},t=i.get("lastSeekPositionSeconds");null!==t&&a>t&&(e.lastSeekPositionSeconds=null),i.set(e)})},"ui/player/playerMedia/updatePlayerSeekRange"(e,{playerType:t,seekStartSeconds:a,seekEndSeconds:i}){Object(U.c)(e,t).set({seekStartSeconds:a,seekEndSeconds:i})},"ui/player/playerMedia/updatePlayerBuffering"(e,{playerType:t,isBuffering:a}){Object(U.c)(e,t).set({isBuffering:a})},"ui/player/playerMedia/updatePlayerLoading"(e,{playerType:t,isMediaLoading:a}){Object(U.c)(e,t).set({isMediaLoading:a})},"ui/player/playerMedia/updatePlayerError"(e,t){Object(U.c)(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},"ui/player/playerMedia/clearPlayerError"(e,{playerType:t}){var a=Object(U.c)(e,t);Object(V.a)(()=>{a.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})})},"ui/player/playerMedia/tickPlayer"(e,t,a){var{metadataItemEntityID:i,liveTVSessionEntityID:n,mediaItemID:s,playerType:o,secondsElapsed:l}=t,c=Object(U.c)(e,o),d=c.get("playQueue"),u=p(c);if(u){var h=c.get("isPaused"),m=l%30==0;if(l%10==0){var v=d.get("playQueueSelectedItemID"),g=d.get("playQueueItems").get(v);a(ee({playerType:o,providerEntityID:c.get("providerEntityID"),playQueueItemEntityID:g.entityID(),metadataItemEntityID:i,liveTVSessionEntityID:n,mediaItemID:s,options:{playbackTime:c.get("itemPlaybackTime"),positionSeconds:c.get("positionSeconds"),durationSeconds:c.get("durationSeconds"),mediaIndex:u.mediaIndex,partIndex:u.partIndex,partCount:u.partCount}}))}if(m&&h&&u.transcodeSessionID){var b=u.transcodeServerEntityID;!function(e,t){Object(y.a)(t,"A transcoder ping requires a session identifier"),Object(f.a)("[Player] Transcoder Ping, %s",t);var a="/video/:/transcode/universal/ping?session="+t;r.a.ajax(e.getXHROptions(a)).promise()}(z.m(e,{serverEntityID:b}),u.transcodeSessionID)}}},[W](e,{playerType:t,shouldPlay:a,shouldPause:i,isApplicationInitiated:r},n){var s,o=Object(U.c)(e,t),l=o.get("isPaused"),c=Object(h.a)(e);r||!Object(N.a)(o)?o.get("isPostPlayVisible")?Object(V.a)(()=>{o.set({isPostPlayVisible:!1}),c.playNextItem(o,!0)}):(s=a?"play":i?"pause":l?"play":"pause",l&&"pause"===s||!l&&"play"===s||Object(V.a)(()=>{c[s](o,r)})):n(Object(L.d)(Object(B.default)("Pausing is not enabled on this channel")))},[G](e,{playerType:t,positionSeconds:a}){var i=Object(U.c)(e,t),r=Object(h.a)(e);Object(N.a)(i)||Object(V.a)(()=>{r.seek(i,a)})},"ui/player/playerMedia/transcodeSeek"(e,{playerType:t,positionSeconds:a}){var i=Object(U.c)(e,t),r=p(i);if(r){var n=Object(u.a)(i).entityID(),s=i.get("liveTVSession"),o=a;if(s){var l=s.get("captureBuffer"),c=s.get("startedAt");o+=c-l.startedAt,s.set({startedAt:c+a})}var d=Object.assign({},r,{url:g(r.url,o)});i.set({currentDecision:d,decisions:Object.assign({},i.get("decisions"),{[n]:d})})}},[Y](e,{playerType:t,allowDebounce:a=!0}){var i=Object(U.c)(e,t);if(!Object(N.a)(i)){var r=Object(h.a)(e),n=a?c.a.seekDebounceMilliseconds:null,s=Le(i.get("nextPositionSeconds")||i.get("positionSeconds"),i.get("durationSeconds"),-m.c);Object(V.a)(()=>{r.seek(i,s,n)})}},[K](e,{playerType:t,allowDebounce:a=!0}){var i=Object(U.c)(e,t);if(!Object(N.a)(i)){var r=Object(h.a)(e),n=i.get("positionSeconds"),s=i.get("nextPositionSeconds"),o=i.get("durationSeconds"),l=a?c.a.seekDebounceMilliseconds:null;if(o-n>m.b){var d=Le(s||n,o,m.d);Object(V.a)(()=>{r.seek(i,d,l)})}}},[q](e,{playerType:t}){var a=Object(U.c)(e,t),i=Object(u.a)(a).get("metadataItem");if(!Object(N.a)(a)){var r,n=Object(h.a)(e),s=i.get("chapters"),o=a.get("positionSeconds"),l=a.get("nextPositionSeconds"),c=a.get("durationSeconds");r=s&&s.length?function(e,t){if(e&&e.length){for(var a=e.length-1;a>=0;a--){var i=e.at(a),r=Math.ceil(i.get("startTimeOffset")/1e3);if(r<t-m.a)return r}return 0}}(s,l||o):Le(l||o,c,-m.e),Object(V.a)(()=>{n.seek(a,r)})}},[Z](e,{playerType:t}){var a=Object(U.c)(e,t),i=Object(u.a)(a).get("metadataItem");if(!Object(N.a)(a)){var r,n=Object(h.a)(e),s=i.get("chapters"),o=a.get("positionSeconds"),l=a.get("nextPositionSeconds"),c=a.get("durationSeconds");s&&s.length?r=function(e,t){if(e&&e.length)for(var a=0;a<e.length;a++){var i=e.at(a),r=Math.ceil(i.get("startTimeOffset")/1e3);if(r>t)return r}}(s,o):c-(l||o)>m.b&&(r=Le(l||o,c,m.f)),null!=r&&Object(V.a)(()=>{n.seek(a,r)})}},[X](e,{playerType:t,volume:a,delta:i},r){var n=function(e){var t=e.get("remotePlayer");return t?t.get("volume"):Object(R.a)(e)}(e),s=i?n+i:a;if((s=Math.max(0,Math.min(100,s)))!==n){var o=Object(U.c)(e,t),l=Object(h.a)(e);Object(V.a)(()=>{l.changeVolume(o,s,r)})}},"ui/player/playerSettings/togglePlayerSettingsState"(e,{playerType:t}){var a=Object(U.c)(e,t),i=a.get("isSettingsVisible");Object(V.a)(()=>{a.set(Object(E.a)(a,i,{isSettingsVisible:!i,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerChaptersState"(e,{playerType:t}){var a=Object(U.c)(e,t),i=a.get("isChaptersVisible");Object(V.a)(()=>{a.set(Object(E.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!i,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerSubtitlesOffsetState"(e,{playerType:t}){var a=Object(U.c)(e,t),i=a.get("isSubtitlesOffsetSettingsVisible");Object(V.a)(()=>{a.set(Object(E.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!i,isWatchTogetherParticipantsVisible:!1}))})},"ui/player/playerSettings/togglePlayerWatchTogetherParticipantsState"(e,{playerType:t}){var a=Object(U.c)(e,t),i=a.get("isWatchTogetherParticipantsVisible");Object(V.a)(()=>{a.set(Object(E.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isWatchTogetherParticipantsVisible:!i}))})},[J](e,{playerType:t,qualityIndex:a}){var i=Object(U.c)(e,t);Object(h.a)(e).changeQualityIndex(i,a)},[$](e,t,a){var{playerType:i,streamTypeString:r,streamID:n}=t,s=e.get("remotePlayer"),o=Object(U.c)(e,i),l=Object(u.a)(o).get("metadataItem"),c=Object(h.a)(e);a(Object(A.g)({metadataItemEntityID:l.entityID(),mediaIndex:o.get("mediaIndex"),streamTypeString:r,streamID:n,updateLocalOnly:!!s,allParts:o.get("partIndex")>0})),c.changeStream(o,r,n)},"ui/player/playerSettings/changeSubtitleColor"(e,{playerType:t,subtitleColor:a},i){var r=Object(U.c)(e,t);Object(h.a)(e).changeSubtitleColor(r,a,i)},"ui/player/playerSettings/changeSubtitlePosition"(e,{playerType:t,subtitlePosition:a},i){var r=Object(U.c)(e,t);Object(h.a)(e).changeSubtitlePosition(r,a,i)},"ui/player/playerSettings/changeSubtitleSize"(e,{playerType:t,subtitleSize:a},i){var r=Object(U.c)(e,t);Object(h.a)(e).changeSubtitleSize(r,a,i)},"ui/player/playerSettings/changeSubtitleOffset"(e,t,a){var{playerType:i,subtitleOffset:n,localUpdateOnly:s}=t,o=Object(h.a)(e),c=Object(U.c)(e,i),p=c.get("mediaIndex")||0,m=c.get("partIndex")||0,v=Object(u.a)(c).get("metadataItem"),g=v.get("Media"),y=g[p],f=y.Part[m],b=F.a.get("subtitles").id,I=f.Stream.find(e=>e.streamType===b&&e.selected),S=function(e,t,a,i,r){var n=Object.assign({},i,{offset:r}),s=Object(d.a)(a.Stream,i,n),o=Object.assign({},a,{Stream:s}),l=Object.assign({},t,{Part:Object(d.a)(t.Part,a,o)});return Object(d.a)(e,t,l)}(g,y,f,I,n);if(v.set({Media:S}),!s){var M={offset:n},C=I.key;P.k(v.provider.get("identifier"),P.i)&&(C="/library/parts/"+f.id,M.subtitleStreamID=I.id);var D=l.join(C,M),O=v.provider.getXHROptions(D,{type:"PUT",scope:"setMetadataItemStreamOffset--"+I.id});H.a.abortAll(O.scope),r.a.ajax(O).fail(e=>{e.aborting||v.get("Media")===S&&v.set({Media:g})}),o.changeSubtitleOffset(c,n,a)}},"ui/player/playerMedia/changePlaybackSpeed"(e,{playerType:t,playbackSpeed:a}){var i=Object(U.c)(e,t),r=Object(h.a)(e),n=Math.round(10*a)/10;r.changePlaybackSpeed(i,n)},"ui/player/playerMedia/setItemPlaybackTime"(e,{playerType:t,playbackTime:a},i){Object(U.c)(e,t).set("itemPlaybackTime",a)},"ui/player/playerMedia/setSessionPlaybackTime"(e,{playerType:t,playbackTime:a},i){Object(U.c)(e,t).set("sessionPlaybackTime",a)},"ui/player/playerMedia/refreshStreams"(e,{playerType:t}){var a=Object(U.c)(e,t);Object(u.a)(a).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},"ui/player/playerMedia/updateBufferedRanges"(e,{playerType:t,bufferedRanges:a}){var i=Object(U.c)(e,t),r=a.map(e=>({startSeconds:Math.ceil(e.startSeconds),endSeconds:Math.floor(e.endSeconds)})).sort((e,t)=>e.startSeconds-t.startSeconds).reduce((e,t)=>{var a,i,r=e.length-1;return t.startSeconds<(null==(a=e[r])?void 0:a.startSeconds)||t.startSeconds<(null==(i=e[r])?void 0:i.endSeconds)?(e[r].startSeconds=Math.min(e[r].startSeconds,t.startSeconds),e[r].endSeconds=Math.max(e[r].endSeconds,t.endSeconds)):e.push(t),e},[]);s.a.isEqual(i.get("bufferedRanges"),r)||i.set({bufferedRanges:r})},"ui/player/playerMedia/updateMediaDimensions"(e,{playerType:t,width:a,height:i}){Object(U.c)(e,t).set({mediaWidth:a,mediaHeight:i})},"ui/player/playerMedia/updateCanPlayThrough"(e,{playerType:t,canPlayThrough:a}){var i=Object(U.c)(e,t);i.get("canPlayThrough")!==a&&i.set({canPlayThrough:a})}}},DkTW:function(e,t,a){e.exports={pageHeaderCenter:"TabsPageHeaderCenter-pageHeaderCenter-3im4zZ PageHeaderCenter-pageHeaderCenter-XZlGC2"}},Dmct:function(e,t,a){e.exports={seekBar:"SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",seekBarTrack:"SeekBar-seekBarTrack-3Gu5RX Slider-track-28JOSn",seekBarFill:"SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs",seekBarBuffer:"SeekBar-seekBarBuffer-3bUz95 Slider-secondaryFill-31_05F Slider-fill-35GFqs",noFillTransition:"SeekBar-noFillTransition-2hHzCv"}},Dq2B:function(e,t,a){"use strict";var i=a("yDpE");t.a=function(e,t){Object(i.a)(function(e){return e&&("function"==typeof e||Object.values(e).every(e=>"function"==typeof e))}("object"==typeof e?e:t),"Callback must be a function")}},DrhB:function(e,t,a){e.exports={addDeviceButton:"DVRSetupDeviceSelector-addDeviceButton-37qk2J",manualDeviceButtonContainer:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3-lqeO",manualDeviceContainer:"DVRSetupDeviceSelector-manualDeviceContainer-6K51iL",manualAddressArrow:"DVRSetupDeviceSelector-manualAddressArrow-e9thnK",manualDeviceInput:"DVRSetupDeviceSelector-manualDeviceInput-22enzQ TextInput-input-1VMuma input-input-1P2Vi4",deviceCount:"DVRSetupDeviceSelector-deviceCount-6HUilm",devices:"DVRSetupDeviceSelector-devices-2f43GS",device:"DVRSetupDeviceSelector-device-QX9WAw",spinnerContainer:"DVRSetupDeviceSelector-spinnerContainer-2U4Wii"}},DvHC:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("PW1X"),r=a("5hhD"),n=a("j1Ci");function s(e){var{providerIdentifier:t=r.d,serverIdentifier:a,metadataItemKey:s,parameters:o}=e,l=a!==n.a?"server://"+a+"/"+t:"provider://"+t;return s&&(l=""+l+s),o&&(l=i.join(l,o)),l}},Dw2a:function(e,t,a){e.exports={link:"PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredLink:"PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK"}},DzIo:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));a("yDpE");var i=a("ZwMC"),r={},n=!1;function s(e,t){var a=t&&!n,s=r[e];return a&&s&&s.length?(Object(i.a)("[MediaElement] Found existing media element to use. type: %s",e),s.shift()):(Object(i.a)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function o(e){var t=e.nodeName.toLowerCase();Object(i.a)("[MediaElement] Releasing media element to pool. type: %s",t),r[t]||(r[t]=[]),r[t].push(e)}},DzTo:function(e,t,a){e.exports={underlay:"MetadataItemLinkUnderlay-underlay-1UjxLG Link-link-2ew_DK"}},"E3/3":function(e,t,a){e.exports={modalFooter:"ModalFooter-modalFooter-30WIB5",button:"ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},"E6f+":function(e,t,a){e.exports={footer:"DVRSetupModalFooter-footer-VLPNTO ModalFooter-modalFooter-30WIB5"}},EAJj:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(r(a("ortX")).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:s}))+"</p> <p>"+l(r(a("ortX")).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:s}))+"</p> </h4> </div> "}))},EBCF:function(e,t,a){e.exports={anagram:"Anagram-anagram-2KZ_Z0"}},EIzA:function(e,t,a){e.exports={container:"FullPage-container-17Y0cs"}},EOo7:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("F/us"),r=a.n(i);function n(e,t,a){return void 0===a?t:r.a.isObject(t)?t:a}},EOrL:function(e,t,a){e.exports={container:"ServerDashboardSectionContent-container-3rMPaP",spinner:"ServerDashboardSectionContent-spinner-3geO_e Spinner-spinner-1qRM4t spin-spin-2kLwt_",errorMessage:"ServerDashboardSectionContent-errorMessage-32wZKY ServerDashboardPageMessage-container-2qUY4V"}},EQVT:function(e,t,a){e.exports={container:"PhotoMetadataControls-container-1FKfKq PlayerControlsMetadata-container-2wqMfv"}},ESci:function(e,t,a){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-3VWsqV"}},ETIq:function(e,t,a){e.exports={hubCell:"WatchTogetherParticipantsHubCell-hubCell-2d54Ct HubCell-hubCell-3Ys175"}},EWqP:function(e,t,a){e.exports={description:"LinkedAccounts-description-JKP8ii",dim:"LinkedAccounts-dim-2wlJAd"}},EXW4:function(e,t,a){e.exports={header:"SourceSidebarHeader-header-2ViQaF"}},EXeW:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="card card-announcement"> <div class="unread ',((s=i.if.call(t,t&&t.read,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"hidden"}),n),data:n}))||0===s)&&(l+=s),l+='"></div> ',((s=i.if.call(t,t&&t.url,{hash:{},inverse:this.program(5,(function(e,t){var a,i="";return i+=" <h4>"+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+'</h4> <img class="thumb"/> '}),n),fn:this.program(3,(function(e,t){var a,i="";return i+=' <h4><a href="'+c("function"==typeof(a=e&&e.url)?a.apply(e):a)+'" target="_blank">'+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+'</a></h4> <a href="'+c("function"==typeof(a=e&&e.url)?a.apply(e):a)+'" target="_blank"> <img class="thumb"/> </a> '}),n),data:n}))||0===s)&&(l+=s),l+=' <div class="date">'+c((o=a("CKcw"),o&&(o.__esModule?o.default:o)).call(t,t&&t.notifyAt,{hash:{},data:n}))+'</div> <div class="description">',((s="function"==typeof(s=t&&t.content)?s.apply(t):s)||0===s)&&(l+=s),l+="</div> </div> "}))},EsBL:function(e,t,a){"use strict";t.a=function(e){return"[object String]"===window.toString.call(e)}},EtI4:function(e,t,a){e.exports={externalMenuItemContainer:"SubtitlesStreamsMenu-externalMenuItemContainer-1x3fqr",externalMenuItem:"SubtitlesStreamsMenu-externalMenuItem-284uph SelectedMenuItem-menuItemContainer-2hXIr-",menuLabelClassName:"SubtitlesStreamsMenu-menuLabelClassName-16VXob SelectedMenuItem-menuLabel-2fp2lo",externalDeleteButton:"SubtitlesStreamsMenu-externalDeleteButton-1SUFSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",extendedTitle:"SubtitlesStreamsMenu-extendedTitle-1prcXn"}},EykR:function(e,t,a){e.exports={dragPreview:"PlaylistItemDragPreview-dragPreview-pFud8h"}},EzYn:function(e,t,a){e.exports={dragPreview:"PlaylistPhotoDragPreview-dragPreview-1Grr5S"}},F3Cg:function(e,t,a){e.exports={form:"EPGSettings-form-ZJ79Ys",message:"EPGSettings-message-159MED",regionInput:"EPGSettings-regionInput-1wXWR6 SelectInput-input-x1tNmq input-input-1P2Vi4",fetchingSpinner:"EPGSettings-fetchingSpinner-3HphG1 Spinner-spinner-Niere7 spin-spin-2kLwt_"}},F5gX:function(e,t,a){e.exports={container:"PrePlayLowerContent-container-1cIUf_"}},FAj2:function(e,t,a){e.exports={icon:"InnerErrorPage-icon-tWVPF4 ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},FQAj:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},FSRn:function(e,t,a){e.exports={button:"NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FVT0:function(e,t,a){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK"}},FYT4:function(e,t,a){e.exports={subscription:"RecordingPrioritySubscription-subscription-sOfYqe",link:"RecordingPrioritySubscription-link-2-ONe6",linkContainer:"RecordingPrioritySubscription-linkContainer-35Li6i",posterContainer:"RecordingPrioritySubscription-posterContainer-1ZjTKX",titleContainer:"RecordingPrioritySubscription-titleContainer-2zfvGj",dragHandle:"RecordingPrioritySubscription-dragHandle-1KbYqy Link-link-2n0yJn",dragIcon:"RecordingPrioritySubscription-dragIcon-2zAikO"}},FYiy:function(e,t,a){e.exports={signInButton:"NavBarSignInButton-signInButton-gyzAOM NavBarButton-button-oTeMHk Link-link-2n0yJn"}},FdSe:function(e,t,a){"use strict";a.d(t,"d",(function(){return v})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return y}));var i=a("gcR/"),r=a.n(i),n=a("q1tI"),s=a.n(n),o=a("PFxR"),{createContext:l,useContext:c,useMemo:d}=s.a,u=Symbol(void 0),p=Symbol(void 0),h=[u,u,u],m=l({metricsPage:o.yb,metricsContextTuple:h});function v(){return c(m)}function g([e,t,a]){if(e!==u)return[e,t===u||t===p?"":t,a===u||a===p?"":a].join("~").replace(/~+$/,"")}function y([e,t,a]){if(e!==u)return{context:e,row:t===p||t===u?void 0:t,col:a===p||a===u?void 0:a}}t.a=({children:e,metricsPage:t,metricsContextParam:a,name:i,row:n=u,column:s=u})=>{var{metricsPage:o,metricsContextTuple:l}=v(),c=d(()=>{var[e,r,c]=l;return a?function(e){if(!e)return h;var[t,a,i]=e.split("~");return t?[t,a?parseInt(a,10):p,i?parseInt(i,10):p]:h}(a):i?[i,n,s]:e!==u?[e,r===u?n:r,c===u?s:c]:t&&t!==o?l:void 0},[s,l,a,o,t,i,n]),g=d(()=>c?{metricsPage:t||o,metricsContextTuple:c}:void 0,[c,o,t]);return g?r()(m.Provider,{value:g},void 0,e):e}},"Fe9+":function(e,t,a){e.exports={modalHeader:"WatchTogetherRoomErrorModal-modalHeader-18dTIR ModalHeader-modalHeader-1Kf9RW"}},FePx:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((o=i.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.grandparentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.grandparentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.parentTitle),ratingKey:(i=e&&e.item,null==i||!1===i?i:i.parentRatingKey),title:(i=e&&e.item,null==i||!1===i?i:i.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(r(a("ortX")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(r(a("Nup9")).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(o=t&&t.item,null==o||!1===o?o:o.index),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.index),locked:(o=t&&t.locked,null==o||!1===o?o:o.index),disabled:t&&t.disableIndices},data:s}))+' </div> <div class="col-md-4"> '+c(r(a("Nup9")).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(o=t&&t.item,null==o||!1===o?o:o.parentIndex),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.parentIndex),locked:(o=t&&t.locked,null==o||!1===o?o:o.parentIndex),disabled:t&&t.disableIndices},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> </div> </form> "}))},Fg7B:function(e,t,a){e.exports={item:"PlaylistListItem-item-3FQ7lc Link-link-2ew_DK",imageContainer:"PlaylistListItem-imageContainer-2yxL79",image:"PlaylistListItem-image-3H1bJ2",title:"PlaylistListItem-title-3CeF_i"}},FjM4:function(e,t,a){e.exports={container:"PlaylistItemDragSource-container-ACeFE8"}},Foh9:function(e,t,a){e.exports={modal:"DVRSetupModal-modal-3oGlOx Modal-medium-3wftUS Modal-modal-3v30kQ"}},Fp13:function(e,t,a){e.exports={starRating:"StarRating-starRating-1-SbNQ",stars:"StarRating-stars-2HyHdq",dot:"StarRating-dot-3IqC-T",star:"StarRating-star-31C9XQ",hidden:"StarRating-hidden-2n6-94",emptyStar:"StarRating-emptyStar-1XVvKp StarRating-star-31C9XQ",fullStar:"StarRating-fullStar-3gYOkk StarRating-star-31C9XQ",pulsing:"StarRating-pulsing-ZL72Hc",isReadOnly:"StarRating-isReadOnly-2SumJR",isUnrated:"StarRating-isUnrated-2pl1WY",slider:"StarRating-slider-2uo17U",track:"StarRating-track-29690M"}},FuJG:function(e,t,a){e.exports={homeUsersList:"UsersSettingsPage-homeUsersList-3XOzw8",button:"UsersSettingsPage-button-1upQLF",upsell:"UsersSettingsPage-upsell-3zJGA6",upsellMessage:"UsersSettingsPage-upsellMessage-3ocMg3"}},FzNv:function(e,t,a){e.exports={controls:"PlayerControls-controls-e59abb",buttonGroup:"PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",volumeButton:"PlayerControls-volumeButton-hSQZXs PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",balanceLeft:"PlayerControls-balanceLeft--vfZAg",volumeSlider:"PlayerControls-volumeSlider-9c0JEx VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",hasLandscapePoster:"PlayerControls-hasLandscapePoster-23Gat5",hasSquarePoster:"PlayerControls-hasSquarePoster--hAg0V"}},G52M:function(e,t,a){"use strict";var i=a("fomp"),r=a("EVdn"),n=a.n(r),s=a("xKMG"),o={isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch(){var e,t=n.a.Deferred();if(this.isPopulating())return this.populatePromise;e=this._fetch?this._fetch.apply(this,arguments):this instanceof i.c.Collection?i.c.Collection.prototype.fetch.apply(this,arguments):i.c.Model.prototype.fetch.apply(this,arguments);var a=t.promise();return a.rid=e.rid,this.populatePromise=a,this.failedPopulatePromise=null,e.done(a=>{this.populatePromise=n.a.Deferred().resolveWith(this,[this]).promise(),t.resolveWith(this,[this,a,e])}),e.fail(e=>{this.populatePromise=null,this.failedPopulatePromise=a,t.rejectWith(this,[this,e])}),a},abortPendingPopulate(){return this.isPopulating()&&s.a.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}};t.a=o},G5dy:function(e,t,a){e.exports={button:"WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",icon:"WatchTogetherLobbyControlButton-icon-2T2gG5"}},G5wA:function(e,t,a){e.exports={modalHeader:"ModalHeader-modalHeader-3FeWrI"}},GEPl:function(e,t,a){"use strict";var i=a("A+r8"),r=a("IQV3"),n=Object(r.a)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:()=>Object(i.default)("Video")},{id:2,typeString:"audio",key:"audioStreamID",title:()=>Object(i.default)("Audio")},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:()=>Object(i.default)("Subtitles")},{id:4,typeString:"lyrics",key:"lyricStreamID",title:()=>Object(i.default)("Lyrics")}]);t.a=n},GERC:function(e,t,a){e.exports={face:"PrePlayPosterCard-face-3rQEjm MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC"}},GFd0:function(e,t,a){e.exports={pageContent:"PageContent-pageContent-16mK6G",innerPageContent:"PageContent-innerPageContent-3ktLTA"}},GP3F:function(e,t,a){e.exports={attribution:"MetadataHubTitle-attribution-1onFMt"}},GS0Q:function(e,t,a){"use strict";a.r(t);var i=a("Sgs+"),r=a("jejw"),n=a("DTXE"),s=r.a.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:n.a.string,title:n.a.string,postalCodeFormat:n.a.string,flavor:n.a.string}}),o=a("AG/Q"),l=i.a.extend({name:"ProviderCountryCollection",context:["server","provider"],url(){return this.provider.get("features").findWhere({type:o.g}).get("key")+"/countries"},model:s}),c=a("UcyC"),d=a("JBz7"),u=a("sPbJ"),p=i.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:d.a,url(){return this.provider.get("features").get(o.p).get("settings").get(u.d).get("key")}}),h=r.a.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:n.a.string,title:n.a.string,type:n.a.string,selected:n.a.boolean}}),m=i.a.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:h}),v=a("8gq0"),g={int:v.a.parseInteger,bool:v.a.parseBoolean,double:v.a.parseFloat},y=r.a.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url(){return this.get("key")},sessionAttrs:{isOptionsPending:n.a.boolean,isOptionsPopulated:n.a.boolean,optionsError:n.a.object,isLocationsPending:n.a.boolean,isLocationsPopulated:n.a.boolean,locationsError:n.a.object,isLineupPending:n.a.boolean,isLineupPopulated:n.a.boolean,lineupError:n.a.object,isRecentChannelsInGridPending:n.a.boolean,isRecentChannelsInGridPopulated:n.a.boolean,recentChannelsInGridError:n.a.object},syncedAttrs:{country:n.a.string,countryLabel:n.a.string,hidden:n.a.boolean,id:n.a.string,key:n.a.string,label:n.a.string,multiselect:n.a.boolean,postalCode:n.a.string,required:n.a.boolean,selectedCount:n.a.integer,summary:n.a.string,type:n.a.string,value:n.a.oneOfType(n.a.string,n.a.boolean,n.a.float),min:n.a.float,max:n.a.float,step:n.a.float,enumValues:n.a.string,default:n.a.string},sessionRelations:{locations:{relationClass:l},lineup:{relationClass:c.a},recentChannelsInGrid:{relationClass:p}},syncedRelations:{settings:()=>({relationClass:a("GS0Q").default,rootPropertyName:"Setting",deferred:!0}),options:{relationClass:m,options:e=>({url:e.key})}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null,isLineupPending:!0,isLineupPopulated:!1,lineupError:null},augmentResponse(e){var t=g[e.type];return t&&(e.value=t(e.value)),e}}),f=i.a.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:y});t.default=f},GSgU:function(e,t,a){e.exports={message:"Bold-message-3SVPdU"}},GTkx:function(e,t,a){e.exports={container:"FullPage-container-3qanwH FullPage-container-17Y0cs"}},GYaK:function(e,t,a){"use strict";t.a=function(e){return e?Array.isArray(e)?e:[e]:[]}},GaN0:function(e,t,a){e.exports={placeholder:"ListRowPlaceholder-placeholder-2XX5pq",shimmer:"ListRowPlaceholder-shimmer-3xDgPJ"}},GfmD:function(e,t,a){e.exports={container:"AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",cardContainer:"AudioVideoPlayerPlayQueueMetadata-cardContainer-vcGvjG",card:"AudioVideoPlayerPlayQueueMetadata-card-18P30N QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",titlesContainer:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-2G9lRp",sourceText:"AudioVideoPlayerPlayQueueMetadata-sourceText-2jMM6D",durationContainer:"AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92"}},GhuN:function(e,t,a){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",altPageHeader:"PrePlayPageHeader-altPageHeader-3bZbSG PrePlayPageHeader-pageHeader-2o14Fw PageHeader-pageHeader-2KNPGd",currentSourcePageHeaderLeftChildrenContainer:"PrePlayPageHeader-currentSourcePageHeaderLeftChildrenContainer-2tbTyv",divider:"PrePlayPageHeader-divider-WQRk87 PageHeaderDivider-pageHeaderDivider-1NwPUr",listStylesArrowsDivider:"PrePlayPageHeader-listStylesArrowsDivider-1OrTCc PageHeaderDivider-pageHeaderDivider-1NwPUr"}},Gjmh:function(e,t,a){"use strict";a.d(t,"g",(function(){return i})),a.d(t,"f",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));var i="scrobble",r="save",n="addToCatalog",s="addToWatchlist",o="follow",l="mute",c="rate"},Gken:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"e",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l}));var i=a("IQV3"),r="none",n="video",s="audio",o="photo",l="rom",c=Object(i.a)(["id","typeString"],[{id:0,typeString:r},{id:1,typeString:n},{id:2,typeString:s},{id:3,typeString:o},{id:999,typeString:l}]);c.get,c.getAll},Gopy:function(e,t,a){e.exports={tableHeader:"TableHeader-tableHeader-vLg8Js"}},GtsS:function(e,t,a){e.exports={container:"PrePlayList-container-WZ86OE HubCell-hubCell-3Ys175",emptyContainer:"PrePlayList-emptyContainer-1scC5X",emptyMessage:"PrePlayList-emptyMessage-aeAV8W PrePlayList-emptyContainer-1scC5X"}},H3DA:function(e,t,a){e.exports={container:"UsersSettingsRowHome-container-7lwe0f",icon:"UsersSettingsRowHome-icon-QYwADJ",lockedIcon:"UsersSettingsRowHome-lockedIcon-oExhHy UsersSettingsRowHome-icon-QYwADJ"}},H43X:function(e,t,a){e.exports={duration:"EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},H6oa:function(e,t,a){e.exports={spinner:"ServerSettingsStatusIcon-spinner-zyA9uo"}},HAvv:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var i,n="";return n+=" "+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year)},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var i,n="";return n+=" "+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4"> '+c(r(a("Nup9")).call(t,"lockableNumericInput",{hash:{label:"Rating",name:"rating",value:(o=t&&t.item,null==o||!1===o?o:o.rating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.rating),locked:(o=t&&t.locked,null==o||!1===o?o:o.rating)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),s),fn:this.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var i,n="";return n+=' <div class="col-md-6"> '+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},HCZj:function(e,t,a){e.exports={container:"UsersSettingsRowAvatar-container-3QE77x"}},HDjD:function(e,t,a){e.exports={topControls:"FullPlayerTopControls-topControls-2gkcEk",topButton:"FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",castButton:"FullPlayerTopControls-castButton-1CwQ3E FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",remotePlayerName:"FullPlayerTopControls-remotePlayerName-32QaKl",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-2k5kgk"}},HJAU:function(e,t,a){e.exports={badge:"PrePlayContentRating-badge-3Omhmg Badge-badge-21NQRi"}},HJfd:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(r(a("ortX")).call(t,"Delete All Versions",{hash:{},data:s}))+"</button> "+l(r(a("ortX")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+' </p> <div class="background-processing-list-region"></div> '}))},HJi7:function(e,t,a){e.exports={progress:"MetadataPosterCardProgressBar-progress-H-gNPX",track:"MetadataPosterCardProgressBar-track-1wK6zj",bar:"MetadataPosterCardProgressBar-bar-3N2AjG"}},HN5a:function(e,t,a){"use strict";a.d(t,"a",(function(){return p}));a("yDpE");var i=a("EVdn"),r=a.n(i),n=a("jejw"),s=a("DTXE"),o=a("/HJv"),l=n.a.extend({name:"LocalPlayQueueModel",context:["server","provider"],url(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),a=e.get(t);if(a)return a.get("metadataItem").get("key")},sessionAttrs:{key:s.a.string,playQueueID:s.a.string,isLocal:s.a.boolean,type:s.a.string,repeat:s.a.boolean,own:s.a.boolean,isUpdatePending:s.a.boolean,playQueueShuffled:s.a.boolean,playQueueSelectedItemID:s.a.string},sessionRelations:{playQueueItems:{relationClass:o.a}},derivedAttrs:{playQueueTotalCount(){return this.get("playQueueItems").length},length(){return this.get("playQueueItems").length},playQueueSelectedItemOffset(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;var a=e.get(t);return e.indexOf(a)},currentIndex(){return this.get("playQueueSelectedItemOffset")},canShuffle:()=>!1},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return r.a.Deferred().resolve(this).promise()}}),c=a("kXc8"),d=(a("pYVw"),a("AG/Q")),u=a("PIaE");function p(e){var{providerModel:t,playQueueID:a,playQueueType:i,playQueueRepeat:r,playQueueOwn:n=!0}=e,s=t&&t.get("features"),o=s&&s.get(d.l),p=!!o&&o.get("flavor")===u.c;return o?new c.a({playQueueID:a,key:o.get("key"),type:i,repeat:r,own:n,isUniversal:p},{server:t.server,provider:t}):new l({playQueueID:a,type:i},{server:t.server,provider:t})}},HPx8:function(e,t,a){e.exports={sidebarMenuButton:"SidebarMenuButton-sidebarMenuButton-khx_Pb",sidebarMenuButtonContainer:"SidebarMenuButton-sidebarMenuButtonContainer-3c2yQl",sidebarMenuSpinner:"SidebarMenuButton-sidebarMenuSpinner-2cI_mh",sidebarMenuTitle:"SidebarMenuButton-sidebarMenuTitle-2If4a2",sidebarMenuPrimaryTitleContainer:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-3-vDDD",sidebarMenuPrimaryTitle:"SidebarMenuButton-sidebarMenuPrimaryTitle-2_fxHH",sidebarMenuSecondaryTitle:"SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"SidebarMenuButton-icon-3UrWWB",isDisabled:"SidebarMenuButton-isDisabled-Iwcsxd"}},HR74:function(e,t,a){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-2a8wuj"}},HU9O:function(e,t,a){e.exports={emptyDescription:"DiscoverEmptyLibraryPage-emptyDescription-dADhf6",manageLibraries:"DiscoverEmptyLibraryPage-manageLibraries-1_r43R"}},HUgi:function(e,t,a){e.exports={descendantHubCellHeader:"PrePlayDescendantList-descendantHubCellHeader-2qK3U8 HubCellHeader-hubCellHeader-2pvYNF",titleButton:"PrePlayDescendantList-titleButton-P7EPne"}},HVP4:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(r(a("ortX")).call(t,"Limited Connection",{hash:{},data:s}))+" - "+c("function"==typeof(o=t&&t.serverName)?o.apply(t):o)+' </h4> </div> <div class="modal-body"> <p> '+c(r(a("ortX")).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:s}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(a("ortX")).call(t,"OK",{hash:{},data:s}))+"</button> </div> </div> </div> "}))},HY0z:function(e,t,a){e.exports={container:"AudioVideoPlayQueue-container-mD38oi",topContainer:"AudioVideoPlayQueue-topContainer-3udEGu",topLeft:"AudioVideoPlayQueue-topLeft-_-AJUI",topRight:"AudioVideoPlayQueue-topRight-2iuaOm",count:"AudioVideoPlayQueue-count-1zBsgM",content:"AudioVideoPlayQueue-content-28l4x2 Scroller-vertical-VScFLT",tooltipButton:"AudioVideoPlayQueue-tooltipButton-1wdD77"}},HY9I:function(e,t,a){e.exports={badge:"MetadataTitleAttributed-badge-iUFJdK"}},Hbfx:function(e,t,a){e.exports={row:"UsersSettingsRowHomeUser-row-yBG7Dd UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowHomeUser-actions-2K_nSZ UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",editPin:"UsersSettingsRowHomeUser-editPin-14dFb5"}},HhKU:function(e,t,a){e.exports={row:"RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB",rowPressed:"RomSettings-rowPressed-KZoD14 RomSettings-row-3ZZrxI AudioVideoSettingsRow-row-2CrSzB"}},HiPX:function(e,t,a){e.exports={item:"LineupChannel-item-2RFFmG",label:"LineupChannel-label-Is-sCJ",title:"LineupChannel-title-1DrUax",iconReorder:"LineupChannel-iconReorder-1a9SGI",toggleButton:"LineupChannel-toggleButton-3lhOGk AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",thumb:"LineupChannel-thumb-1F_INC"}},HjAS:function(e,t,a){e.exports={sidebarContainer:"SidebarContainer-sidebarContainer-2RAYT1"}},Hr1X:function(e,t,a){e.exports={draggable:"PlaylistPhotoSortableItem-draggable-2XyLAc"}},I178:function(e,t,a){e.exports={overlay:"MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",background:"MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",hoverBackground:"MetadataPosterCardOverlay-hoverBackground-1SwD6Z PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"MetadataPosterCardOverlay-selectedBackground-Wzv0ox PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"MetadataPosterCardOverlay-visibleBackground-1JQ4_4 PosterCardOverlay-visibleBackground-1Kms_J",link:"MetadataPosterCardOverlay-link-1SwhlG",badge:"MetadataPosterCardOverlay-badge-1FU-pf",topLeftBadge:"MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadge:"MetadataPosterCardOverlay-versionBadge-1cDAuU MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadgeIcon:"MetadataPosterCardOverlay-versionBadgeIcon-JkU8Ef",smartBadge:"MetadataPosterCardOverlay-smartBadge-2YOF_V MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",smartBadgeIcon:"MetadataPosterCardOverlay-smartBadgeIcon-378Syu",favoriteBadge:"MetadataPosterCardOverlay-favoriteBadge-1jLkEK MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",favoriteBadgeIcon:"MetadataPosterCardOverlay-favoriteBadgeIcon-2CJhPF",unplayedBadge:"MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",hasSubscriptionBadge:"MetadataPosterCardOverlay-hasSubscriptionBadge-l3MOeu DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",unplayedTagContainer:"MetadataPosterCardOverlay-unplayedTagContainer-1uFYq2",unplayedTag:"MetadataPosterCardOverlay-unplayedTag-3hwoiQ MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",progress:"MetadataPosterCardOverlay-progress-2voxfD PosterCardOverlayProgress-progress-16k0BJ",button:"MetadataPosterCardOverlay-button-M43H-q",centerCircle:"MetadataPosterCardOverlay-centerCircle-1Mg-s-",playButton:"MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"MetadataPosterCardOverlay-playCoverButton-I7oU3N MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCircle:"MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",selectButton:"MetadataPosterCardOverlay-selectButton-3rwSVG SelectButton-selectButton-3Kbjm9 MetadataPosterCardOverlay-button-M43H-q",selectCircle:"MetadataPosterCardOverlay-selectCircle-3ql8ST SelectButton-selectCircle-3tdvGt",coverButton:"MetadataPosterCardOverlay-coverButton-2Dm9Pj",selectCoverButton:"MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",deselectCoverButton:"MetadataPosterCardOverlay-deselectCoverButton-3mzekx MetadataPosterCardOverlay-coverButton-2Dm9Pj",editButton:"MetadataPosterCardOverlay-editButton-7oR-Qi MetadataPosterCardOverlay-button-M43H-q",favoriteButton:"MetadataPosterCardOverlay-favoriteButton-3SmN_W MetadataPosterCardOverlay-button-M43H-q",moreButton:"MetadataPosterCardOverlay-moreButton-3FK-Ko MetadataPosterCardOverlay-button-M43H-q",removeButton:"MetadataPosterCardOverlay-removeButton-3hIPxU MetadataPosterCardOverlay-button-M43H-q",hasActiveSelection:"MetadataPosterCardOverlay-hasActiveSelection-2pflV8",refreshingCircle:"MetadataPosterCardOverlay-refreshingCircle-3EbpeR MetadataPosterCardOverlay-centerCircle-1Mg-s-",trashCircle:"MetadataPosterCardOverlay-trashCircle-XoEoZf MetadataPosterCardOverlay-centerCircle-1Mg-s-",isActionsMenuOpen:"MetadataPosterCardOverlay-isActionsMenuOpen-AvHIX3",isSelected:"MetadataPosterCardOverlay-isSelected-2muunK",isConflictingTypeSelected:"MetadataPosterCardOverlay-isConflictingTypeSelected-E8CIxH",isModifierKeyPressed:"MetadataPosterCardOverlay-isModifierKeyPressed-2cmkda",isDragging:"MetadataPosterCardOverlay-isDragging-1XK1P4",refreshingSpinnerContainer:"MetadataPosterCardOverlay-refreshingSpinnerContainer-1ERDtN",refreshingSpinner:"MetadataPosterCardOverlay-refreshingSpinner-ipJiyn",refreshingIcon:"MetadataPosterCardOverlay-refreshingIcon-3dF55d"}},I36r:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["artist.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> ",((o=i.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(i=e&&e.locked,null==i||!1===i?i:i.similar)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},ID2g:function(e,t,a){e.exports={card:"WatchTogetherHubItem-card-3HhnHa WatchTogetherHubItemPosterCard-card-3eXNmg PosterCard-card-VhPkOe",splitTitleContainer:"WatchTogetherHubItem-splitTitleContainer-23J9a_",title:"WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",secondaryTitle:"WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X",splitLineTitle:"WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",splitLineSecondaryTitle:"WatchTogetherHubItem-splitLineSecondaryTitle-1sX6o6 WatchTogetherHubItem-secondaryTitle-28kXfW WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X WatchTogetherHubItem-splitLineTitle-13snOO WatchTogetherHubItem-title-eSNXhH MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-"}},IJmf:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));function i(e){var t={};return(...a)=>{var i=JSON.stringify(a);if(t.hasOwnProperty(i))return t[i];var r=e(...a);return t[i]=r,r}}},IMai:function(e,t,a){e.exports={overlay:"PosterCardOverlay-overlay-3wQFXY",background:"PosterCardOverlay-background-23u0Zs",hoverBackground:"PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"PosterCardOverlay-visibleBackground-1Kms_J"}},IQV3:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i=a("F/us"),r=a.n(i),n=a("ZwMC");function s(e){var t=r.a.clone(e);return t.hasOwnProperty("title")?(t.title=r.a.result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=r.a.result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=r.a.result(t,"plural")),t):t}function o(e,t){var a={};return e.forEach(e=>{a[e]=t.reduceRight((t,a)=>{var i=a[e];return null!=i&&(t[i]=a),t},{})}),{contains:function(e){for(var t in a)if(a[t][e])return!0;return!1},get:function(e){for(var t in a){var i=a[t][e];if(i)return s(i)}n.a.warn("No type was found for "+e)},getAll:function(){return t.map(s)}}}},IRjL:function(e,t,a){"use strict";t.a=function(e,t){return t?e+":"+t:e}},ISTI:function(e,t,a){e.exports={recordingBadge:"RecordingBadge-recordingBadge-2UNalG"}},IV0B:function(e,t,a){e.exports={container:"TopUsers-container-wn74_O",listActions:"TopUsers-listActions-17a4re",listScrollButton:"TopUsers-listScrollButton-1-dRkY IconButton-iconButton-2l04Bi Link-link-2ew_DK"}},IV3D:function(e,t,a){e.exports={pageHeader:"PageHeader-pageHeader-14-NYz"}},IjFk:function(e,t,a){e.exports={placeholder:"QuickSearchPlaceholderLink-placeholder-1Wxzp6",isPlaceholderSelected:"QuickSearchPlaceholderLink-isPlaceholderSelected-rDCpKm"}},IlPc:function(e,t,a){e.exports={remotePlayerName:"RemotePlayerMenuItems-remotePlayerName-L2owql",remoteProduct:"RemotePlayerMenuItems-remoteProduct-3K34_6",remotePlayerProduct:"RemotePlayerMenuItems-remotePlayerProduct-3Xx8U1",menuItemSubtitle:"RemotePlayerMenuItems-menuItemSubtitle-102JIU",emptyMessage:"RemotePlayerMenuItems-emptyMessage-_vLf31",disconnectIcon:"RemotePlayerMenuItems-disconnectIcon-3DaqB7"}},Ioaq:function(e,t,a){e.exports={sourceLink:"HomeSourceLink-sourceLink-2PwRKn SourceSidebarLink-sourceLink-307kPL"}},"Ir6/":function(e,t,a){"use strict";var i=a("A+r8");t.a=function(e){if(e&&e.length){var t=e.length;return 1===t?e[0]:2===t?Object(i.default)("{1} and {2}",e[0],e[1]):3===t?Object(i.default)("{1}, {2}, and {3}",e[0],e[1],e[2]):Object(i.default)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}}},IsoN:function(e,t,a){e.exports={content:"SearchPageContent-content-2wx4DB HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},"J/RP":function(e,t,a){e.exports={container:"PageHeaderTitle-container-2-Lq-0",containerWithRoute:"PageHeaderTitle-containerWithRoute-3iGmXW PageHeaderTitle-container-2-Lq-0",title:"PageHeaderTitle-title-2ui-TL",detail:"PageHeaderTitle-detail-2k7SgN"}},J4LB:function(e,t,a){e.exports={container:"MetadataWidePosterListItem-container-34PGnF",card:"MetadataWidePosterListItem-card-20dLcQ PosterCard-card-VhPkOe",placeholderCard:"MetadataWidePosterListItem-placeholderCard-3B_1GE MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",placeholderTitle:"MetadataWidePosterListItem-placeholderTitle-2hFGNN",placeholderSubtitle:"MetadataWidePosterListItem-placeholderSubtitle-Uc3eL8 MetadataWidePosterListItem-placeholderTitle-2hFGNN",titlesContainer:"MetadataWidePosterListItem-titlesContainer-k60Epd",title:"MetadataWidePosterListItem-title-3KewqL",doubleTitle:"MetadataWidePosterListItem-doubleTitle-3FCz2o MetadataWidePosterListItem-title-3KewqL",subtitle:"MetadataWidePosterListItem-subtitle-2YnzNH MetadataWidePosterListItem-title-3KewqL",cardShimmer:"MetadataWidePosterListItem-cardShimmer-2W_cxh"}},J7Rr:function(e,t,a){e.exports={container:"PlaylistItemMetadata-container-2NWQH2",transientTitleLeft:"PlaylistItemMetadata-transientTitleLeft-3qVWpm PlaylistItemMetadata-transientTitle-2Qo_VZ",button:"PlaylistItemMetadata-button-mjGjCU",cardContainer:"PlaylistItemMetadata-cardContainer-7tc0mg",card:"PlaylistItemMetadata-card-2mWmPP QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",indexContainer:"PlaylistItemMetadata-indexContainer-fnl6eJ",titlesContainer:"PlaylistItemMetadata-titlesContainer-964Lec",durationContainer:"PlaylistItemMetadata-durationContainer-yQA2Vd",downloadIcon:"PlaylistItemMetadata-downloadIcon-3CngSd DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",attributionContainer:"PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",transientTitle:"PlaylistItemMetadata-transientTitle-2Qo_VZ",transientTitleRight:"PlaylistItemMetadata-transientTitleRight-3KEzxj PlaylistItemMetadata-transientTitle-2Qo_VZ",playButton:"PlaylistItemMetadata-playButton-2Nx0Mi PlayButton-playButton-3WX8X- PlaylistItemMetadata-button-mjGjCU",equalizer:"PlaylistItemMetadata-equalizer-3_dxgr EqualizerIcon-equalizer-2SoFA6"}},J9Q8:function(e,t,a){e.exports={container:"ChartTooltip-container-3qn8Yf",separator:"ChartTooltip-separator-3cEIac",LegendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",legendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",label:"ChartTooltip-label-2Ez54j",values:"ChartTooltip-values-AlrdzX",valueRow:"ChartTooltip-valueRow-2OZ4lo",total:"ChartTooltip-total-2SwEHi"}},JBz7:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=i.a.extend({name:"ProviderEPGChannelModel",context:["provider"],rootPropertyName:"Channel",syncedAttrs:{id:r.a.string,thumb:r.a.string,title:r.a.string,hidden:r.a.boolean}});t.a=n},JFSz:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '}))},JKRp:function(e,t,a){e.exports={sliderContainer:"SliderInputGroup-sliderContainer-2Dx08D input-input-1P2Vi4",slider:"SliderInputGroup-slider-1x6JAX Slider-slider-2oLVTs",sliderValue:"SliderInputGroup-sliderValue-2oLooy"}},JQa6:function(e,t,a){e.exports={rightTitle:"PrePlayAttributionTitle-rightTitle-3S6QtD PrePlayRightTitle-rightTitle-3oK12x",attributionLogo:"PrePlayAttributionTitle-attributionLogo-3G1f_z"}},JW6f:function(e,t,a){e.exports={hub:"PhotoHub-hub-3ROVkK",container:"PhotoHub-container-2-eNSV",body:"PhotoHub-body-2A7LSr",overlay:"PhotoHub-overlay-1cF_Sl",title:"PhotoHub-title-1Js3ET",count:"PhotoHub-count-30JDLw",icon:"PhotoHub-icon-1yZ1em"}},JbXI:function(e,t,a){e.exports={actions:"MetadataMomentCell-actions--ESOoE",selectButton:"MetadataMomentCell-selectButton-2JUtis SelectButton-selectButton-3Kbjm9",title:"MetadataMomentCell-title-RqYT09",header:"MetadataMomentCell-header-3vgVay",hasSelection:"MetadataMomentCell-hasSelection-3g1dLr"}},Jdyf:function(e,t,a){e.exports={disabled:"ServerSettingsServerMenuItem-disabled-PIAsvm",friendlyName:"ServerSettingsServerMenuItem-friendlyName-2eYIlv",details:"ServerSettingsServerMenuItem-details-soe_sv",icon:"ServerSettingsServerMenuItem-icon-3bTVtt"}},JgKN:function(e,t,a){e.exports={concert:"PrePlayConcert-concert-2d4lOH",concertCalendar:"PrePlayConcert-concertCalendar-1FILvy",concertMonth:"PrePlayConcert-concertMonth-2qln2a",concertDay:"PrePlayConcert-concertDay-zNEEhM",concertDetails:"PrePlayConcert-concertDetails-_iXFvZ",concertTitle:"PrePlayConcert-concertTitle-2O-pNp",concertLocation:"PrePlayConcert-concertLocation-3ltdCq"}},JjHc:function(e,t,a){e.exports={button:"SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",isDim:"SourceSidebarLink-isDim-1Fd4hr",title:"SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",iconContainer:"SourceSidebarLink-iconContainer-2M-FOW SidebarLink-icon-34JWqs",isDisabled:"SourceSidebarLink-isDisabled-3NPqYK SourceSidebarLink-isDim-1Fd4hr",isSelected:"SourceSidebarLink-isSelected-27-9-6",isActive:"SourceSidebarLink-isActive-2_QExr",sourceLink:"SourceSidebarLink-sourceLink-307kPL",titles:"SourceSidebarLink-titles-uoVrTb",detail:"SourceSidebarLink-detail-32x4Iq",small:"SourceSidebarLink-small-3s6oyr",medium:"SourceSidebarLink-medium-3t-Vhv"}},Jjk7:function(e,t,a){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-1RE7kj SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-PotHcG SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-3b1fH8 Spinner-spinner-1qRM4t spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-32bEp3 SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-19NpBK"}},JkX4:function(e,t,a){e.exports={container:"AudioVideoPlayQueueItem-container-2_nsgE",moveControls:"AudioVideoPlayQueueItem-moveControls-1M6Iyd",removeControls:"AudioVideoPlayQueueItem-removeControls-1XM62U",metadataDurationContainer:"AudioVideoPlayQueueItem-metadataDurationContainer-184JwM AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92",sourceText:"AudioVideoPlayQueueItem-sourceText-1oT-kA SourceBadge-text-Y8yYEa",metadataContainer:"AudioVideoPlayQueueItem-metadataContainer-w326I_ AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",leftContainer:"AudioVideoPlayQueueItem-leftContainer-2xVS6L",removeButton:"AudioVideoPlayQueueItem-removeButton-4gx_SM IconButton-button-9An-7I",opacity20Precent:"AudioVideoPlayQueueItem-opacity20Precent-36ydLE",opacity40Precent:"AudioVideoPlayQueueItem-opacity40Precent-1FZXaH",opacity60Precent:"AudioVideoPlayQueueItem-opacity60Precent-3KF0lC",opacity80Precent:"AudioVideoPlayQueueItem-opacity80Precent-3wzZOl",isCurrentItem:"AudioVideoPlayQueueItem-isCurrentItem-3g1KW-",isItemDragging:"AudioVideoPlayQueueItem-isItemDragging-1lnodd"}},Jl0g:function(e,t,a){e.exports={slider:"AudioSettings-slider-2uCoXx Slider-slider-2oLVTs"}},JrF9:function(e,t,a){e.exports={selectButtonContainer:"RowSelectButton-selectButtonContainer-3pOaEw",selectButton:"RowSelectButton-selectButton-1qCTNM SelectButton-selectButton-3jGXzS Link-link-2ew_DK",isVisible:"RowSelectButton-isVisible-1MFNNR"}},Jrrk:function(e,t,a){e.exports={container:"ChannelsGridTimeline-container-3dKF2q",dayContainer:"ChannelsGridTimeline-dayContainer-22VllU",labelContainer:"ChannelsGridTimeline-labelContainer-3JCH3a",label:"ChannelsGridTimeline-label-368pi8",navigationButtons:"ChannelsGridTimeline-navigationButtons-3GtRvh",navigationButton:"ChannelsGridTimeline-navigationButton-2oRTOG"}},JuGE:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("Gken"),r=a("a0RD"),n=a("ADhH");function s({metadataItemModel:e,listType:t}){var a=e.get("playlistType");if(a)return a;var s=e.get("subtype");if(s===r.c)return i.a;var l=e.get("type");return l===n.e?o(null,s):o(t,l)}function o(e,t){var a;return e&&(a=n.t(e)),a||(a=n.t(t)),a&&a.mediaType}function l(e){var{type:t,metadataType:a,metadataItemModel:l,metadataItemModels:c,metadataListModel:d}=e;return t||(a?o(a):l?s(e):c&&c.length?s(Object.assign({},e,{metadataItemModel:c[0]})):d?function({metadataListModel:e,listType:t}){return e.get("firstItemSubtype")===r.c?i.a:e.get("firstItemType")===n.e?o(t,e.get("firstItemSubtype")):o(t,e.get("firstItemType"))}(e):void 0)}},"K/Mj":function(e,t,a){e.exports={device:"DVRDevice-device-3IwH66",details:"DVRDevice-details-F9a0My",modelContainer:"DVRDevice-modelContainer-3qwvJt",model:"DVRDevice-model-1unSm8",deviceSettingsButton:"DVRDevice-deviceSettingsButton-2W-U0I Link-link-2n0yJn",deviceSettingsIcon:"DVRDevice-deviceSettingsIcon-wNdKgV",uri:"DVRDevice-uri-2Vhv07",deviceWarning:"DVRDevice-deviceWarning-UAoFis",deviceWarningIconContainer:"DVRDevice-deviceWarningIconContainer-29K1lz",separator:"DVRDevice-separator-2sIVzr DashSeparator-separator-4CyEFW",info:"DVRDevice-info-kn53L2",removeDeviceContainer:"DVRDevice-removeDeviceContainer-2W5hIO",removeDevice:"DVRDevice-removeDevice-3N-rDk"}},K5nX:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.capturedTime),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},K5nx:function(e,t,a){"use strict";e.exports={defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"}},K5wW:function(e,t,a){e.exports={help:"ProviderSettingLineupFormSection-help-3F6fO4 FormHelp-help-3VCuqa"}},K6Cx:function(e,t,a){e.exports={button:"MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playButton:"MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCoverButton:"MetadataPosterCardActions-playCoverButton-1hdkQK PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK MetadataPosterCardActions-playButton-8An35K PlayButton-playButton-3WX8X- MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",playCircle:"MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",editButton:"MetadataPosterCardActions-editButton-7FWNt8 MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",selectButton:"MetadataPosterCardActions-selectButton-EmmJlc SelectButton-selectButton-3jGXzS Link-link-2ew_DK MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",moreButton:"MetadataPosterCardActions-moreButton-3uGw5x MetadataPosterCardActions-button-9nYbj2 Link-link-2ew_DK",isHidden:"MetadataPosterCardActions-isHidden-17PeaH"}},KEW7:function(e,t,a){e.exports={outerContainer:"MediaOverlays-outerContainer-2Cktvz",innerContainer:"MediaOverlays-innerContainer-3XcnEA",horizontal:"MediaOverlays-horizontal-27EYNq",vertical:"MediaOverlays-vertical-3ZV2RT",overlay:"MediaOverlays-overlay-hl37n8",northwest:"MediaOverlays-northwest-3IkDS_ MediaOverlays-horizontal-27EYNq",north:"MediaOverlays-north-2yVkMi MediaOverlays-horizontal-27EYNq",northeast:"MediaOverlays-northeast-2M4-Kb MediaOverlays-horizontal-27EYNq",east:"MediaOverlays-east-13wz-R MediaOverlays-vertical-3ZV2RT",southeast:"MediaOverlays-southeast-3EFh4V MediaOverlays-horizontal-27EYNq",south:"MediaOverlays-south-3P7w99 MediaOverlays-horizontal-27EYNq",southwest:"MediaOverlays-southwest-3R8EK- MediaOverlays-horizontal-27EYNq",west:"MediaOverlays-west-1SBS_Z MediaOverlays-vertical-3ZV2RT",center:"MediaOverlays-center-26LspU MediaOverlays-horizontal-27EYNq"}},KHus:function(e,t,a){e.exports={tag:"MetadataFollowMuteTag-tag-2CoGQF",tagText:"MetadataFollowMuteTag-tagText-2sa_RS",icon:"MetadataFollowMuteTag-icon-sFuVhK",isFollowed:"MetadataFollowMuteTag-isFollowed-1q9G0Y",isMuted:"MetadataFollowMuteTag-isMuted-2XZVIW"}},KN9C:function(e,t,a){e.exports={buttons:"WebhookFormSection-buttons-1bW9AT",button:"WebhookFormSection-button-2hUeXy",dangerButton:"WebhookFormSection-dangerButton-1Hm32l",label:"WebhookFormSection-label-1llL2- FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc"}},KcGe:function(e,t,a){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-VxiwUS"}},Kjiw:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,i="";return i+=' rows="'+c("function"==typeof(a=e&&e.rows)?a.apply(e):a)+'"'}function p(e,t){var a,i="";return i+='data-scope-to-attr="'+c("function"==typeof(a=e&&e.scopeToAttr)?a.apply(e):a)+'" data-scope-to-param="'+c("function"==typeof(a=e&&e.scopeToParam)?a.apply(e):a)+'"'}function h(e,t){var a,i="";return i+='data-rating-key="'+c("function"==typeof(a=e&&e.ratingKey)?a.apply(e):a)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'"> <label for="lockable-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(r(a("ortX")).call(t,t&&t.label,{hash:{},data:s}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=i.if.call(t,t&&t.locked,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return" locked"}),s),data:s}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((o=r(a("YFQD")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(6,(function(e,t){var a,r="";return r+=' <input type="text" id="lockable-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" class="form-control lockable-field" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'" ',((a=i.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(r+=a),r+=" ",((a=i.if.call(e,e&&e.ratingKey,{hash:{},inverse:d.noop,fn:d.program(9,h,t),data:t}))||0===a)&&(r+=a),r+="> "}),s),fn:d.program(3,(function(e,t){var a,r="";return r+=' <textarea class="form-control lockable-field" id="lockable-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'"',((a=i.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(r+=a),r+=' placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},KluX:function(e,t,a){e.exports={rounded:"PrePlayCastList-rounded-djFPql",card:"PrePlayCastList-card-384Zo9 PosterCard-card-VhPkOe PrePlayCastList-rounded-djFPql",link:"PrePlayCastList-link-3fr1Oe PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",hoveredLink:"PrePlayCastList-hoveredLink-24Qrni PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK PrePlayCastList-rounded-djFPql",titleContainer:"PrePlayCastList-titleContainer-3o8hXG",title:"PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",role:"PrePlayCastList-role-KogO64 PrePlayCastList-title-2wVwgJ MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA- MetadataPosterCardTitle-isSecondary-1R4E5X"}},KmMs:function(e,t,a){"use strict";a.d(t,"b",(function(){return s}));var i=a("jejw"),r=a("DTXE"),n=a("8gq0"),s={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function o(e,t){switch(e){case s.INT:case s.ENUM:return n.a.parseInteger(t);case s.BOOL:return n.a.parseBoolean(t);case s.DOUBLE:return n.a.parseFloat(t);default:return t}}var l=i.a.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:r.a.string,advanced:r.a.boolean,default:r.a.oneOfType(r.a.integer,r.a.string,r.a.boolean),hidden:r.a.boolean,group:r.a.string,label:r.a.string,summary:r.a.string,type:r.a.oneOf(s.INT,s.TEXT,s.BOOL,s.ENUM,s.DOUBLE),value:r.a.oneOfType(r.a.integer,r.a.float,r.a.string,r.a.boolean),min:r.a.float,max:r.a.float,step:r.a.float,enumValues:r.a.array},augmentResponse:e=>(e.default=o(e.type,e.default),e.value=o(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map(t=>{var[a,i=a]=t.split(":");return{label:decodeURIComponent(i),value:o(e.type,a)}})),e),parseAndSetValue(e){this.set("value",o(this.get("type"),e))}});t.a=l},Kpr6:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((o=i.if.call(t,t&&t.location,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=' <div class="match-location"> '+c(r(a("ortX")).call(e,"Location",{hash:{},data:t}))+": "+c(r(a("sZyU")).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=i.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i="";return i+=' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(r(a("ortX")).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+"</button> ",((o=i.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i="";return i+=' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(e,"Search",{hash:{},data:t}))+"</span> </button> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </form> </div> </div> "}))},KySg:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("GEPl"),s=a("bfGs");t.a=function(e){var t=n.a.get("video").id,a=Object(s.a)(e,{streamType:t});return r.a.first(a)}},KzEB:function(e,t,a){e.exports={tableHeader:"TableHeader-tableHeader-1_aP-y"}},L0ox:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="",l=this.escapeExpression,c=this;function d(e,t){var a,i="";return i+=' <span class="match-year">'+l("function"==typeof(a=e&&e.year)?a.apply(e):a)+'</span> <span class="match-separator">&middot;</span> '}return o+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((s=i.if.call(t,t&&t.parentName,{hash:{},inverse:c.program(3,(function(e,t){var a,i="";return i+=' <span class="match-name">'+l("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</span> "}),n),fn:c.program(1,(function(e,t){var a,i="";return i+=' <span class="match-name">'+l("function"==typeof(a=e&&e.parentName)?a.apply(e):a)+'</span> &ndash; <span class="match-name">'+l("function"==typeof(a=e&&e.name)?a.apply(e):a)+"</span> "}),n),data:n}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:c.noop,fn:c.program(5,(function(e,t){var a,i="";return i+='  <span class="match-disambiguation-info">'+l("function"==typeof(a=e&&e.disambiguationInfo)?a.apply(e):a)+"</span> "}),n),data:n}))||0===s)&&(o+=s),o+=" </div> ",((s=i.if.call(t,t&&t.normalizedScore,{hash:{},inverse:c.program(10,(function(e,t){var a,i="";return i+=' <div class="col-xs-3 match-score-info"> <span class="match-year">'+l("function"==typeof(a=e&&e.year)?a.apply(e):a)+"</span> </div> "}),n),fn:c.program(7,(function(e,t){var r,n,s="";return s+=' <div class="col-xs-3 match-score-info" title="'+l((n=a("ortX"),n&&(n.__esModule?n.default:n)).call(e,"Score {1}",e&&e.escapedNormalizedScore,{hash:{},data:t}))+'"> ',((r=i.if.call(e,e&&e.year,{hash:{},inverse:c.noop,fn:c.program(8,d,t),data:t}))||0===r)&&(s+=r),s+=' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+l("function"==typeof(r=e&&e.normalizedScore)?r.apply(e):r)+"</span> </div> "}),n),data:n}))||0===s)&&(o+=s),o+=' </div> <div class="row match-extended-info hidden"> ',((s=i.if.call(t,t&&t.summary,{hash:{},inverse:c.program(14,(function(e,t){return' <div class="col-xs-9 children-region"></div> '}),n),fn:c.program(12,(function(e,t){var a,i="";return i+=' <div class="col-xs-9 match-summary">'+l("function"==typeof(a=e&&e.summary)?a.apply(e):a)+"</div> "}),n),data:n}))||0===s)&&(o+=s),o+=' <div class="col-xs-3"> <img class="match-art" src="'+l("function"==typeof(s=t&&t.thumb)?s.apply(t):s)+'"/> </div> </div> </a> '}))},L1D5:function(e,t,a){e.exports={content:"HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},L1nn:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="",l=this.escapeExpression,c=this;function d(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return o+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+l("function"==typeof(s=null==(s=t&&t.selectedDeviceType)||!1===s?s:s.title)?s.apply(t):s)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((s=i.each.call(t,t&&t.deviceTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,(function(e,t,i){var r,n,s="";return s+=' <li><a data-id="'+l("function"==typeof(r=e&&e.id)?r.apply(e):r)+'" href="#"><span class="dropdown-truncated-label">'+l("function"==typeof(r=e&&e.title)?r.apply(e):r)+"</span>",((r=(n=a("YFQD"),n&&(n.__esModule?n.default:n)).call(e,null==(r=i&&i.selectedDeviceType)||!1===r?r:r.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t}))||0===r)&&(s+=r),s+="</a></li> "}),n,t),data:n}))||0===s)&&(o+=s),o+=' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '}))},L4oE:function(e,t,a){e.exports={content:"UserSharingSettingsProfile-content-2u8WLm SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},L6Cy:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},L7kO:function(e,t,a){"use strict";var i=a("jQ5Z"),r=a("bErN"),n=i.a.extend({mixins:r.a});t.a=new n},LH2V:function(e,t,a){e.exports={info:"PlexPassUpsellInfo-info-2k9lub",moreInfo:"PlexPassUpsellInfo-moreInfo-3FndRu",upsell:"PlexPassUpsellInfo-upsell-uBlkWj PlexPassUpsell-upsell-3i2JLq"}},LJ6K:function(e,t,a){e.exports={spinner:"SourceSidebarBadgedIcon-spinner-2bI1aW",container:"SourceSidebarBadgedIcon-container-3XjdPK",badge:"SourceSidebarBadgedIcon-badge-2uHPR5",image:"SourceSidebarBadgedIcon-image-2aA5FB"}},LMIY:function(e,t,a){e.exports={form:"SettingsModalContent-form-3-N4qz"}},LPXR:function(e,t,a){e.exports={strip:"PhotoStrip-strip-q6m2Bg",thumbs:"PhotoStrip-thumbs-2iLLAJ",cell:"PhotoStrip-cell-NRVDib",thumbContainer:"PhotoStrip-thumbContainer-1kU-fS",isSelected:"PhotoStrip-isSelected-3exw8b",thumb:"PhotoStrip-thumb-eGqcdL",thumbOverlay:"PhotoStrip-thumbOverlay-gC5wmR"}},LU7h:function(e,t,a){e.exports={button:"Button-button-3A5jB3 Link-link-2ew_DK",default:"Button-default-23k-Yy",primary:"Button-primary-3z8akl",success:"Button-success-vmFCv4",danger:"Button-danger-3iOd8P",small:"Button-small-3W395A",medium:"Button-medium-2d_jtE",large:"Button-large-3rnrpe"}},LU9U:function(e,t,a){e.exports={container:"AudioVideoPostPlay-container-1G36_l",poster:"AudioVideoPostPlay-poster-1YcVF8",details:"AudioVideoPostPlay-details-2CzQuz"}},LXFu:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("g0Do");function r(){return Object(i.c)("settingFinder").find("volume")}},LXSy:function(e,t,a){"use strict";a.r(t),a.d(t,"startPlayback",(function(){return h})),a.d(t,"endPlayback",(function(){return m})),a.d(t,"playNextItem",(function(){return v})),a.d(t,"playPreviousItem",(function(){return g})),a.d(t,"playItem",(function(){return y})),a.d(t,"play",(function(){return f})),a.d(t,"pause",(function(){return b})),a.d(t,"seek",(function(){return I})),a.d(t,"changeVolume",(function(){return S})),a.d(t,"changeQualityIndex",(function(){return M})),a.d(t,"changeStream",(function(){return C})),a.d(t,"changeSubtitleColor",(function(){return D})),a.d(t,"changeSubtitlePosition",(function(){return P})),a.d(t,"changeSubtitleSize",(function(){return O})),a.d(t,"changeSubtitleOffset",(function(){return j})),a.d(t,"changeAutoPlay",(function(){return T})),a.d(t,"changePlaybackSpeed",(function(){return w})),a.d(t,"setRepeat",(function(){return E})),a.d(t,"refreshRemotePlayQueue",(function(){return N})),a.d(t,"refreshRemoteStreams",(function(){return x})),a.d(t,"mirrorDetails",(function(){return A}));var i=a("o4BE"),r=a("BQgB"),n=a("pYVw"),s=a("5M8o"),o=a("Xi+k"),l=a("iTeG"),c=null;function d(e,t,a={}){var i=e.get("playQueue"),r=i.get("currentIndex"),c=i.get("playQueueSelectedItemOffset"),{isApplicationInitiated:d=!1,isRestoringPlayQueue:u=!1}=a,p=Object(o.a)(e,t);if(p){var h=p.get("metadataItem"),m={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor(Object(l.a)(e,h)/1e3),durationSeconds:Math.floor((h.get("duration")||0)/1e3),lastSeekPositionSeconds:null,metricsAutoPlay:d,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null,confirmPlayerUpsellPayload:null};u||e.get("isWatchTogether")||i.get("type")===n.b||(m.isPaused=!1),e.set(m),i.set({playQueueSelectedItemID:p.id,playQueueSelectedItemOffset:c+(t-r)}),Object(s.a)()}}function u(e,t){var a=e.get("playQueue"),i=a.get("length"),r=a.get("currentIndex")+t;return a.get("repeat")?(r+i)%i:Math.min(Math.max(0,r),i-1)}function p(e,t){c&&(c=window.clearTimeout(c)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function h(e,t,a){var i=e.get("playQueue");d(e,i.get("currentIndex"),{isRestoringPlayQueue:t,isApplicationInitiated:a})}function m(e){e.restoreDefaults()}function v(e,t){d(e,u(e,1),{isApplicationInitiated:t})}function g(e){d(e,u(e,-1))}function y(e,t){d(e,t)}function f(e,t=!1){e.set({isPaused:!1}),Object(s.a)()}function b(e,t=!1){e.set({isPaused:!0}),Object(s.a)()}function I(e,t,a){a?function(e,t,a){e.set({nextPositionSeconds:t}),c&&window.clearTimeout(c),c=window.setTimeout(()=>{e.get("isOpen")&&(p(e,t),c=null)},a)}(e,t,a):p(e,t),Object(s.a)()}function S(e,t,a){a(Object(i.q)({volume:t}))}function M(e,t){e.set("qualityIndex",t)}function C(e,t,a){}function D(e,t,a){a(Object(r.g)({subtitleColor:t}))}function P(e,t,a){a(Object(r.h)({subtitlePosition:t}))}function O(e,t,a){a(Object(r.i)({subtitleSize:t}))}function j(e,t,a){}function T(e,t,a){a(Object(r.e)({autoPlay:t}))}function w(e,t){e.set("playbackSpeed",t)}function E(e,t){var a=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),a.set("repeat",t.repeatAll)}function N(e){}function x(e){}function A(e){}},LcEX:function(e,t,a){e.exports={sidebarUnderlay:"SourceSidebar-sidebarUnderlay-2odIuy",sidebar:"SourceSidebar-sidebar-YpV2mw",collapsedSidebar:"SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",expandedSidebar:"SourceSidebar-expandedSidebar-ljacXC SourceSidebar-sidebar-YpV2mw",openSidebar:"SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw",pane:"SourceSidebar-pane-3b3ayx",heading:"SourceSidebar-heading-2EO2Ee",footer:"SourceSidebar-footer-h1OTb1",toggleMenuButton:"SourceSidebar-toggleMenuButton-3rDpsd",toggleMenuIcon:"SourceSidebar-toggleMenuIcon-2FNbrD"}},LgTU:function(e,t,a){e.exports={pageContentScroller:"DirectoryHubsPageContent-pageContentScroller-2e1vaI PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",banner:"DirectoryHubsPageContent-banner-2jfJT2 ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Ln5r:function(e,t,a){e.exports={button:"PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK",selectedButton:"PivotTab-selectedButton-2u9uk3 PivotTab-button-1S6bOr Button-button-3A5jB3 Link-link-2ew_DK"}},LrNF:function(e,t,a){e.exports={modalHeader:"ModalHeader-modalHeader-1Kf9RW"}},LtKR:function(e,t,a){e.exports={container:"PlexAccountUpsellPageContent-container-1oEiwm",panel:"PlexAccountUpsellPageContent-panel-1np-7E",panelIcon:"PlexAccountUpsellPageContent-panelIcon-2yfhpM",panelTitle:"PlexAccountUpsellPageContent-panelTitle-1Wd4AE",panelDescription:"PlexAccountUpsellPageContent-panelDescription-VLB7T3"}},LtpW:function(e,t,a){"use strict";var i=a("jnKl"),r=a("IJmf");t.a=Object(r.a)((function(e=-1,t=-1,a=i.c,r=0,n=0,s){var o;if(a===i.b)o={display:"none"};else{switch(o={position:"absolute",width:-1===t?"100%":t+"px",height:-1===e?"100%":e+"px"},a){case i.a:o.bottom=n||0,o.left=r||0;break;case i.c:o.top=n||0,o.left=r||0}s&&(o.zIndex=1)}return o}))},LttS:function(e,t,a){e.exports={slider:"VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",track:"VolumeSlider-track-2WJDzq VerticalSlider-track-1RVQfn Slider-track-28JOSn",fill:"VolumeSlider-fill-3XkYyD VerticalSlider-fill-2HISoE Slider-fill-35GFqs"}},"Lu/9":function(e,t,a){e.exports={item:"MetadataMenuItem-item-2s1r1Q"}},LuB9:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("ZwMC");function s(e,t){Array.isArray(t)?r.a.each(t,e):e(t)}var o={parseXML:a("pSG4").a,replaceXMLElementNames:function(e,t,a){Array.isArray(t)||(t=[t]);var i=t.join("|"),r=new RegExp("<("+i+")","g"),n=new RegExp("</("+i+")>","g");return e=(e=e.replace(r,"<"+a+' elementName="$1"')).replace(n,"</"+a+">")},parseEncodedString:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){var a=e[t];if(null==a)e[t]="";else try{e[t]=decodeURIComponent(a)}catch(e){}}}),t)},parseInteger:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){var a=e[t];e[t]=null==a||""===a?0:parseInt(a,10)}}),t)},parseFloat:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){var a=e[t];e[t]=null===a||""===a?0:parseFloat(a)}}),t)},parseBoolean:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){var a=e[t];e[t]=1===Number(a)||"true"===a}}),t)},parseArray:function(e,t){e&&s((function(t){if(e.hasOwnProperty(t)){var a=e[t];Array.isArray(a)||(e[t]=[a])}else e[t]=[]}),t)},parseQueryString:function(e,t,a){e&&(a||(a="&"),s((function(t){if(e.hasOwnProperty(t)){var i,s=e[t];if(!r.a.isObject(s))if(r.a.isString(s))if(s=s.trim().replace(/^(\?|#)/,""))e[t]=(i=s.split(a),r.a.reduce(i,(function(e,t){var a=t.split("="),i=a[0],r=a[1];try{i=decodeURIComponent(i),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(i)?Array.isArray(e[i])?e[i].push(r):e[i]=[e[i],r]:e[i]=r}catch(e){n.a.warn("Unable to decode query string at "+i)}return e}),{}));else e[t]={};else e[t]={}}}),t))}};t.a=o},"M/J+":function(e,t,a){e.exports={event:"CalendarEvent-event-1N79nG",isComplete:"CalendarEvent-isComplete-3BKnCP",hasError:"CalendarEvent-hasError-2mgqYf",underlay:"CalendarEvent-underlay-2LGTNr",overlay:"CalendarEvent-overlay-3RDXNJ",errorIcon:"CalendarEvent-errorIcon-3q6lKQ",title:"CalendarEvent-title-K5q2kI",secondaryInfo:"CalendarEvent-secondaryInfo-3pj4z0",time:"CalendarEvent-time-sjVsBy",status:"CalendarEvent-status-27k9YY",recording:"CalendarEvent-recording-1igLY0",recordingProgressBackground:"CalendarEvent-recordingProgressBackground-1vuJU9 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"CalendarEvent-recordingIcon-3BTduh"}},M0a6:function(e,t,a){e.exports={serverMenu:"ServerSettingsServerMenu-serverMenu-3CI7iC Menu-menu-3XnN6J",serverMenuScroller:"ServerSettingsServerMenu-serverMenuScroller-2WzFgn Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT"}},M15R:function(e,t,a){e.exports={button:"SourceSidebarServerHeaderActionsButtons-button-cJs32h IconButton-button-9An-7I",hidden:"SourceSidebarServerHeaderActionsButtons-hidden-3eVZ6I"}},M1AR:function(e,t,a){e.exports={buttons:"WebhookSettingsPage-buttons-1ppDm6",error:"WebhookSettingsPage-error-3sqjBM"}},M2eu:function(e,t,a){e.exports={container:"ChannelsGridMetadataItemCell-container-2NM2za",selected:"ChannelsGridMetadataItemCell-selected-3K64Hu",hoverable:"ChannelsGridMetadataItemCell-hoverable-Tm-6mJ",subTitleContainer:"ChannelsGridMetadataItemCell-subTitleContainer-2Izpkj",actions:"ChannelsGridMetadataItemCell-actions-3OwaeD",onAir:"ChannelsGridMetadataItemCell-onAir-1TBnoi",finishedAiring:"ChannelsGridMetadataItemCell-finishedAiring-1NTjLc",underlay:"ChannelsGridMetadataItemCell-underlay-Qhctil",content:"ChannelsGridMetadataItemCell-content-3-Y3Yf",actionsContainer:"ChannelsGridMetadataItemCell-actionsContainer-_6ZyYW",subTitle:"ChannelsGridMetadataItemCell-subTitle-iaQsk7",premiereBadge:"ChannelsGridMetadataItemCell-premiereBadge-1Qqk61 PremiereAiringBadge-badge-hAmdnV",subscriptionBadge:"ChannelsGridMetadataItemCell-subscriptionBadge-dFSz15",placeholderContainer:"ChannelsGridMetadataItemCell-placeholderContainer-2681u-"}},M4gS:function(e,t,a){e.exports={container:"LiveTVUpNext-container-1kAJR9",upNext:"LiveTVUpNext-upNext-pGRmzn",icon:"LiveTVUpNext-icon-3DqMOZ"}},"M6j/":function(e,t,a){e.exports={separator:"MetadataTitleAirDate-separator-2i3bJv DashSeparator-separator-4CyEFW"}},M7EV:function(e,t,a){e.exports={container:"AudioVideoUpNext-container-1HyiyV",title:"AudioVideoUpNext-title-2RflZV",poster:"AudioVideoUpNext-poster-362QoU",progress:"AudioVideoUpNext-progress-3dmBnM",playButton:"AudioVideoUpNext-playButton-3X0Mbp PlayButton-playButton-3WX8X-",playCircle:"AudioVideoUpNext-playCircle-RTuurg PlayButton-playCircle-3Evfdw",timeLeft:"AudioVideoUpNext-timeLeft--rCIME",autoPlay:"AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOn:"AudioVideoUpNext-autoPlayOn-2tSBYt AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOff:"AudioVideoUpNext-autoPlayOff-3tmvpL AudioVideoUpNext-autoPlay-2s2lSY"}},MC0S:function(e,t,a){"use strict";a.r(t),t.default=function(e,t,a){if(!e)return"";if(e.length>t){var i=t-3-(a=a||Math.floor((t-3)/2));return e.substr(0,a)+"..."+e.substr(e.length-i)}return e}},MEJa:function(e,t,a){e.exports={tableCell:"TableCell-tableCell-4fCpHS",activeTableCell:"TableCell-activeTableCell-1y-9p6 TableCell-tableCell-4fCpHS",title:"TableCell-title-6gbkRR"}},MIt9:function(e,t,a){e.exports={sidebarMessage:"SidebarMessage-sidebarMessage-3O-Deq"}},MLKk:function(e,t,a){e.exports={container:"WatchTogetherInviteParticipantCell-container-3KVdQt",posterCardContainer:"WatchTogetherInviteParticipantCell-posterCardContainer-241qoG WatchTogetherParticipantCell-posterCardContainer-2ny7Q7 WatchTogetherParticipantCell-card-qkBk8M TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",icon:"WatchTogetherInviteParticipantCell-icon-3kZpPf",titleContainer:"WatchTogetherInviteParticipantCell-titleContainer-3JNQtb WatchTogetherParticipantCell-titleContainer-2bZ6ul"}},MLhB:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}));var i=a("ZwMC");function r(e,t,a){var i=e.get("entities").get(t);if(i){var r=i.get(a);if(r)return r.get("model")}}function n(e,t,a){var n=r(e,t,a);return n||i.a.warn('An entity does not exist with the type "%s" and id "%s"',t,a),n}},MUEv:function(e,t,a){e.exports={hubCell:"MetadataVerticalHubCell-hubCell-2E01xY",list:"MetadataVerticalHubCell-list-13IVCh",hubCellHeader:"MetadataVerticalHubCell-hubCellHeader-2ofTba HubCellHeader-hubCellHeader-2pvYNF",attribution:"MetadataVerticalHubCell-attribution-2ogVGt",title:"MetadataVerticalHubCell-title-29HZKR HubCellTitle-hubCellTitle-2abInv",titleButton:"MetadataVerticalHubCell-titleButton-12ONcU"}},MUGT:function(e,t,a){e.exports={feature:"PlexPassFeature-feature-227Do1",featurePadding:"PlexPassFeature-featurePadding-3qxKLi",featureImage:"PlexPassFeature-featureImage-1MQuZ0",featureContainer:"PlexPassFeature-featureContainer-5yGpRx",featureTitle:"PlexPassFeature-featureTitle-cBOf4G",featureDescription:"PlexPassFeature-featureDescription-2mgxrS"}},MWmE:function(e,t,a){e.exports={dragSource:"RecordingPrioritySubscriptionDragSource-dragSource-2qcUl6"}},MXEh:function(e,t,a){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-OxyzPN"}},MZ2x:function(e,t,a){e.exports={input:"CheckInput-input-1Pi_2g",label:"CheckInput-label-2yG4rI",small:"CheckInput-small-3zAF6g",large:"CheckInput-large-3wPNUE",isDisabled:"CheckInput-isDisabled-C1Lz-G",hasError:"CheckInput-hasError-1V3ZUM"}},MakK:function(e,t,a){"use strict";a.d(t,"a",(function(){return D}));var i=a("EVdn"),r=a.n(i),n=a("yDpE"),s=a("PW1X"),o=a("4MSa"),l=a("RcYF"),c=a("DRPX"),d=a("0q5Z"),u=a("a0RD"),p=a("ADhH"),h=a("quxt"),m=a("gGoS"),v=0;var g=function(e){var t=(v+=1).toString(),a=Object.assign({},e.attributes,{playQueueItemID:t}),i=new m.a(a,{server:e.server,provider:e.provider,parent:e.parent,parse:!0});return i.set("isLocal",!0),i};function y(e,t,a={}){var i=t.get("type"),n=p.u(i),o=p.t(i);if(!n)return r.a.Deferred().reject().promise();if(n.id===o.id){var l=e.get("playQueueItems"),c=t.get("containerKey");if(c&&!l.length&&!a.skipSiblings&&(i===p.p||i===p.f||i===p.k)){var d=new h.default([],{server:t.server,provider:t.provider});return d.fetch({url:c}).then(()=>{var e=d.models.map(g);return r.a.Deferred().resolve(e).promise()})}return r.a.Deferred().resolve([g(t)]).promise()}if(p.s(i).id===o.id){var u=s.join([t.get("key"),"children"]),m=new h.default([],{server:t.server,provider:t.provider});return m.fetch({url:u}).then(()=>{var e=m.models.map(g);return r.a.Deferred().resolve(e).promise()})}return r.a.Deferred().reject().promise()}function f(e,t,a){var i=t.map(t=>y(e,t,a));return r.a.when(...i).then((...t)=>{var i=[].concat(...t);return e.get("playQueueItems").add(i,a),b(e)})}function b(e,t){var a=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!a.length)return r.a.Deferred().resolve(e).promise();if(t){var i=a.findWhere({metadataItem:t}),n=i?i.id:a.at(0).id;e.set("playQueueSelectedItemID",n)}else{var s=e.get("playQueueSelectedItemOffset"),o=a.at(s);e.set("playQueueSelectedItemID",o.id)}return r.a.Deferred().resolve(e).promise()}var I=a("S5Gm");function S(e,t,a){var{path:i,model:r,attr:o="key"}=a;if(Object(n.a)(i||r,"A path or a model is required to build a source URI"),t.get("isUniversal")){var l=r&&r.get("source")||Object(d.a)(e.server.get("machineIdentifier"),e.get("identifier")),u=i||r.get(o);return s.join([l,u])}return i||c.a.uri(r)}function M(e){return e.metadataItemModel?function(e){var{playQueueModel:t,providerModel:a,playlistModel:i,metadataItemModel:n,containerKey:c,shuffle:d,playAll:h}=e,m=t.get("isUniversal"),v=n.get("type"),g=n.get("subtype"),y=v===p.o,f=v===p.n,b=v===p.f,I=v===p.k,M=v===p.d,D=v===p.p,P=!!i||n.get("isPlaylist"),O=n.get("isExtra"),j=!!n.get("radio"),T=C(e);(y||f||b||g===u.c)&&(T.continuous=1);if((y||f)&&!h&&!d){var w=!n.get("parentKey"),E=y||w?n:new l.a({key:n.get("parentKey")},{server:n.server,provider:n.providerModel});return E.fetch({merge:!0,data:{includeOnDeck:"1"}}).then(()=>{var e=E.get("onDeck"),i=e&&y,r=e&&f&&e.get("parentRatingKey")===n.get("ratingKey");if(i||r)return T.uri=S(a,t,{model:e}),T;if(f){var s=new o.default({containerKey:n.get("childrenKey")},{server:n.server,provider:n.provider,skipCache:!0});return s.fetch().then(()=>{var e=s.get("metadataItems"),i=e.findWhere(e=>!e.get("viewCount"));return T.uri=S(a,t,{model:i||e.first()}),T})}return T.uri=S(a,t,{model:n}),T})}P?i?(m&&(T.uri=S(a,t,{model:i})),T.playlistID=i.get("ratingKey"),T.key=n.get("key")):(m&&(T.uri=S(a,t,{model:n})),T.playlistID=n.get("ratingKey")):(D||I||M&&!O)&&c&&!T.continuous?(T.uri=S(a,t,{path:m?c:"library:///directory/"+encodeURIComponent(c)}),T.key=n.get("key")):T.uri=S(a,t,j&&m?{path:s.join(n.get("key"),{includeSharedContent:1})}:{model:n});return r.a.Deferred().resolve(T).promise()}(e):e.metadataItemKey?function(e){var{providerModel:t,playQueueModel:a,metadataItemKey:i}=e,n=a.get("isUniversal"),s=C(e);return s.uri=S(t,a,{path:n?i:"library:///item/"+encodeURIComponent(i)}),r.a.Deferred().resolve(s).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){var t=C(e);return t.uri=c.a.uri(null,{items:e.metadataItemModels}),r.a.Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){var{providerModel:t,playQueueModel:a,metadataListModel:i}=e,n=C(e);return n.uri=S(t,a,{model:i,attr:"containerKey"}),r.a.Deferred().resolve(n).promise()}(e):r.a.Deferred().reject().promise()}function C(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function D(e){var{playQueueModel:t}=e;if(t.get("isLocal"))return function(e){var{next:t,playQueueModel:a,metadataItemModel:i,metadataItemModels:n,metadataListModel:s,skipSiblings:o=!1}=e,l={at:t?a.get("playQueueSelectedItemOffset")+1:void 0};if(i)return y(a,i,{skipSiblings:o}).then(e=>(a.get("playQueueItems").add(e,l),b(a,i)));if(n&&n.length)return f(a,n,l);if(s){var c=s.get("metadataItems").models;return f(a,c,Object.assign({},l,{skipSiblings:!0}))}return r.a.Deferred().reject().promise()}(e).then(()=>Object(I.a)(t));var a=t.isNew()?"POST":"PUT";return M(e).then(e=>Object(I.a)(t,{params:e,type:a}).then(null,()=>r.a.Deferred().reject().promise()))}},Ms8g:function(e,t,a){e.exports={title:"QuickSearchProvider-title-1DX5MD",noResults:"QuickSearchProvider-noResults-2j7_91",spinnerContainer:"QuickSearchProvider-spinnerContainer-lhn2AI",spinner:"QuickSearchProvider-spinner-2_uC9g"}},Mtv6:function(e,t,a){e.exports={item:"SubtitleRow-item-1suQRb",downloadIcon:"SubtitleRow-downloadIcon-3pqWjW SubtitleRow-icon-21El6y",titles:"SubtitleRow-titles-3FAr9t",title:"SubtitleRow-title-1Jeywc",secondaryTitle:"SubtitleRow-secondaryTitle-17rEPf SubtitleRow-title-1Jeywc",score:"SubtitleRow-score-1DVm2L",perfectMatch:"SubtitleRow-perfectMatch-3N1BnR",spinnerContainer:"SubtitleRow-spinnerContainer-FDGoZD",icon:"SubtitleRow-icon-21El6y",downloadedIcon:"SubtitleRow-downloadedIcon-2F0Cd2 SubtitleRow-icon-21El6y"}},"Mty/":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("ZwMC");function r(e,t){var a=e.get("playQueue");return(...r)=>{if(e.get("isOpen")&&a&&a===e.get("playQueue"))return t(...r);i.a.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}},MzBL:function(e,t,a){e.exports={loadingItem:"MetadataTrackCellLoading-loadingItem-2YS2vz",alternateLoadingItem:"MetadataTrackCellLoading-alternateLoadingItem-2ueUqH MetadataTrackCellLoading-loadingItem-2YS2vz"}},N2kb:function(e,t,a){e.exports={container:"ShareRestrictionsTag-container-3Z5sm-",tag:"ShareRestrictionsTag-tag-3Affwz",remove:"ShareRestrictionsTag-remove-1Bew_T TagLabel-remove-27nEke"}},N6Bl:function(e,t,a){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3cIqeg TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS"}},N6gl:function(e,t,a){e.exports={help:"LocationSettingInputGroup-help-3KxH7k FormHelp-help-3VCuqa",secondaryLabel:"LocationSettingInputGroup-secondaryLabel-1RrMcE FormLabel-label-2aLJ9b"}},N7lw:function(e,t,a){e.exports={bottomBar:"BottomBar-bottomBar-gbDBaF"}},N85i:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="form-group" data-attr="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'"> <label for="text-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="control-label">'+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:n}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control text-field" name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=t&&t.placeholder)?s.apply(t):s)+'" data-rating-key="'+c("function"==typeof(s=t&&t.ratingKey)?s.apply(t):s)+'" data-title="'+c("function"==typeof(s=t&&t.title)?s.apply(t):s)+'" ',((s=i.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+='data-scope-to-attr="'+c("function"==typeof(a=e&&e.scopeToAttr)?a.apply(e):a)+'" data-scope-to-param="'+c("function"==typeof(a=e&&e.scopeToParam)?a.apply(e):a)+'"'}),n),data:n}))||0===s)&&(l+=s),l+="> </div> </div> "}))},NA2r:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"f",(function(){return o})),a.d(t,"g",(function(){return l})),a.d(t,"h",(function(){return c})),a.d(t,"i",(function(){return d})),a.d(t,"a",(function(){return u}));var i="Plex Movie Scanner",r="Plex Music",n="Plex Movie",s="Plex Music Scanner",o="Plex Photo Scanner",l="Plex Premium Music Scanner",c="Plex Series Scanner",d="Plex Video Files Scanner",u="Plex Game"},NAGO:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((o=i.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var a,i="";return i+=" "+c("function"==typeof(a=e&&e.status)?a.apply(e):a)+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> <h4><a class="try-again-link" href="#">'+c(r(a("ortX")).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},NCdd:function(e,t,a){e.exports={badge:"PrePlayContentRating-badge-3LtQUH Badge-badge-21NQRi"}},NDU1:function(e,t,a){e.exports={container:"LineupChannelDragSource-container-2sHd0Z",isOver:"LineupChannelDragSource-isOver-PWEZV8"}},"NE/r":function(e,t,a){var i=a("Zybo").default,r=a("S4rx");e.exports=r(i)},NJkC:function(e,t,a){e.exports={item:"EPGPrePlayEpisodeCell-item-31U2lg",recordButton:"EPGPrePlayEpisodeCell-recordButton-x7LVGv RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2",alternateItem:"EPGPrePlayEpisodeCell-alternateItem-3QMpyC EPGPrePlayEpisodeCell-item-31U2lg",underlay:"EPGPrePlayEpisodeCell-underlay-28hJxq",overlay:"EPGPrePlayEpisodeCell-overlay-2sL4QI",primaryTitle:"EPGPrePlayEpisodeCell-primaryTitle-p-NawY",secondaryTitle:"EPGPrePlayEpisodeCell-secondaryTitle-iTKpt4",subscriptionIcon:"EPGPrePlayEpisodeCell-subscriptionIcon-14CJUM",nextAiringDate:"EPGPrePlayEpisodeCell-nextAiringDate-10Bif2",separator:"EPGPrePlayEpisodeCell-separator-2LvFs5",loadingItem:"EPGPrePlayEpisodeCell-loadingItem-2VkI2H",alternateLoadingItem:"EPGPrePlayEpisodeCell-alternateLoadingItem-2KPtT_ EPGPrePlayEpisodeCell-loadingItem-2VkI2H"}},NM2O:function(e,t,a){e.exports={link:"Link-link-2ew_DK",isHrefLink:"Link-isHrefLink-3mRmVl",default:"Link-default-1uNM9i",primary:"Link-primary-swdMK3",success:"Link-success-2povE6",danger:"Link-danger-30DOAN",small:"Link-small-3LOyMt",medium:"Link-medium-JcTlXb",large:"Link-large-E7KsvQ"}},NMOu:function(e,t,a){e.exports={menuLabelClassName:"AudioStreamsMenu-menuLabelClassName-1CDPNF SelectedMenuItem-menuLabel-2fp2lo",extendedTitle:"AudioStreamsMenu-extendedTitle-25gjI0"}},"NN/D":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+" </div> </div> ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.style"],{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(i=e&&e.locked,null==i||!1===i?i:i.style)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.editableTags)||!1===o?o:o["album.mood"],{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,n="";return n+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(i=e&&e.locked,null==i||!1===i?i:i.mood)},data:t}))+" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},NNVK:function(e,t,a){"use strict";a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));var i=a("pYVw"),r="video",n="music",s="photo",o={[i.d]:r,[i.a]:n,[i.b]:s};function l(e){return o[e]}function c(e){for(var t in o){if(e===o[t])return t}}},NQww:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((o=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},NRWW:function(e,t,a){e.exports={modalHeader:"PlayerConflictModalContent-modalHeader-esgnIK ModalHeader-modalHeader-1Kf9RW",innerModalBody:"PlayerConflictModalContent-innerModalBody-2N2K54 ModalBody-innerModalBody-36gmbf",message:"PlayerConflictModalContent-message-1A31cS",conflicts:"PlayerConflictModalContent-conflicts-2yWT26",footerMessage:"PlayerConflictModalContent-footerMessage-1ptDWP"}},NYQO:function(e,t,a){e.exports={carousel:"PhotoCarousel-carousel-3ebQMF",message:"PhotoCarousel-message-2qnduU",contents:"PhotoCarousel-contents-1OztiK"}},Nbqw:function(e,t,a){e.exports={label:"FormLabel-label-1YNrUM",hasError:"FormLabel-hasError-1CDqKK"}},Nc8A:function(e,t,a){e.exports={icon:"ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},NeLh:function(e,t,a){"use strict";a.r(t),a.d(t,"FAIRPLAY",(function(){return n})),a.d(t,"FAIRPLAY_AUDIO",(function(){return s})),a.d(t,"FAIRPLAY_VIDEO",(function(){return o})),a.d(t,"PLAYREADY",(function(){return l})),a.d(t,"PLAYREADY_AUDIO",(function(){return c})),a.d(t,"PLAYREADY_VIDEO",(function(){return d})),a.d(t,"WIDEVINE",(function(){return u})),a.d(t,"WIDEVINE_AUDIO",(function(){return p})),a.d(t,"WIDEVINE_VIDEO",(function(){return h})),a.d(t,"NONE",(function(){return m}));var i=a("IRjL"),r=a("Gken"),n=Object(i.a)("fairplay"),s=Object(i.a)("fairplay",r.a),o=Object(i.a)("fairplay",r.e),l=Object(i.a)("playready"),c=Object(i.a)("playready",r.a),d=Object(i.a)("playready",r.e),u=Object(i.a)("widevine"),p=Object(i.a)("widevine",r.a),h=Object(i.a)("widevine",r.e),m=Object(i.a)("none")},"Nh+l":function(e,t,a){e.exports={container:"PlayerControlsMetadata-container-2wqMfv",ratingContainer:"PlayerControlsMetadata-ratingContainer-1bg_57",hasUserRating:"PlayerControlsMetadata-hasUserRating-2bCRcO",durationContainer:"PlayerControlsMetadata-durationContainer-3UDmW1 DurationRemaining-container-1F4w8F",mediaInfoContainer:"PlayerControlsMetadata-mediaInfoContainer-3g4P-6 MediaInfo-infoContainer-2LgYro"}},Nr3d:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"i",(function(){return r})),a.d(t,"j",(function(){return n})),a.d(t,"G",(function(){return s})),a.d(t,"E",(function(){return o})),a.d(t,"v",(function(){return l})),a.d(t,"w",(function(){return c})),a.d(t,"u",(function(){return d})),a.d(t,"s",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"n",(function(){return h})),a.d(t,"C",(function(){return m})),a.d(t,"A",(function(){return v})),a.d(t,"B",(function(){return g})),a.d(t,"q",(function(){return y})),a.d(t,"d",(function(){return f})),a.d(t,"e",(function(){return b})),a.d(t,"f",(function(){return I})),a.d(t,"y",(function(){return S})),a.d(t,"b",(function(){return M})),a.d(t,"F",(function(){return C})),a.d(t,"k",(function(){return D})),a.d(t,"l",(function(){return P})),a.d(t,"m",(function(){return O})),a.d(t,"p",(function(){return j})),a.d(t,"o",(function(){return T})),a.d(t,"r",(function(){return w})),a.d(t,"D",(function(){return E})),a.d(t,"t",(function(){return N})),a.d(t,"z",(function(){return x})),a.d(t,"x",(function(){return A})),a.d(t,"h",(function(){return L})),a.d(t,"g",(function(){return k}));var i="32cc8bf5-b425-4582-a52d-71b4f1cf436b",r="de789b83-9c5e-4472-bccf-791c69e67500",n="64ed42f8-259d-4957-8530-0fff2d846cd0",s="7c4200b1-a2ab-4803-adcd-6c36b22a9269",o="6f82ca43-6117-4e55-ae0e-5ea3b3e99a96",l="bb50c92f-b412-44fe-8d8a-b1684f212a44",c="b612f571-83c3-431a-88eb-3f05ce08da4a",d="222020fb-1504-492d-af33-a0b80a49558a",u="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",p="644c4466-05fa-45e0-a478-c594cf81778f",h="75e95ee5-b482-4b02-aeff-a9faf13ead64",m="29bca3b8-e40b-4c69-b71c-f88047240f9b",v="01ba4bb1-0d08-4758-b9f1-7df92631e4c1",g="f8484f94-92a8-4ca4-9f43-e83ab3f586c7",y="f3235e61-c0eb-4718-ac0a-7d6eb3d8ff75",f="67c80530-eae3-4500-a9fa-9b6947d0f6d1",b="5c1951bf-ccf1-4821-8ee7-e50f51218ae7",I="3bfd3ccf-8c63-4dbb-8f87-9b21b402c82b",S="43725019-9122-4a6d-bc50-bca06a411b7a",M="d8810b38-ec9b-494c-8555-3df6e365dfbd",C="43938a71-1295-46e9-918f-b6c4b0302011",D="65685ff8-4375-4e4c-a806-ec1f0b4a8b7f",P="6ab6677b-ad9b-444f-9ca1-b8027d05b3e1",O="b83c8dc9-5a01-4b7a-a7c9-5870c8a6e21b",j="02da2909-ddfd-46be-9e42-65008a79fc05",T="nonAnonymousAccount",w="e352c12b-5165-4691-9ab7-70d6ea24e8e4",E="65faa2d0-f57e-4c63-a6b6-f1baa48951b1",N="4e27cf82-9fb6-4ebe-8e10-c48bfe6fbbb6",x="20824f5c-6dd9-4655-9970-e7701a73c02a",A="fd6683b9-1426-4b00-840f-cd5fb0904a6a",L="9a67bff2-cb80-4bf9-81c6-9ad2f4c78afd",k="13056a62-9bd2-47cf-aba9-bab00095fd08"},Nup9:function(e,t,a){var i=a("F/us"),r=a("3O+N");e.exports=function(e,t){var a=r.partials[e],n=i.extend({},t.hash.context||this,t.hash);return new r.SafeString(a(n))}},NvfA:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("EVdn"),r=a.n(i),n=(a("yDpE"),a("0DAK"));function s(e){var{key:t,getModel:a}=e;return Object(n.a)(Object.assign({},e,{fetch(e,i){var n=a(e,i),s=t?n.get(t):n;return s?s.fetch(i.options).then(null,(e,t)=>r.a.Deferred().reject(t).promise()):r.a.Deferred().reject({status:0}).promise()}}))}},"Nw/v":function(e,t,a){e.exports={disclosureArrow:"PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC",disabledDisclosureArrow:"PrePlayPageHeaderSiblingMenu-disabledDisclosureArrow-q0Gl6X PrePlayPageHeaderSiblingMenu-disclosureArrow-1L4tU8 DisclosureArrow-disclosureArrow-1KPaBC"}},Nwpn:function(e,t,a){e.exports={title:"MediaSubscriptionTitle-title-1I857z",secondaryTitle:"MediaSubscriptionTitle-secondaryTitle-1srwEQ"}},"O+qT":function(e,t,a){e.exports={hubCellHeader:"HubCellHeader-hubCellHeader-2pvYNF"}},O57k:function(e,t,a){"use strict";t.a=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},O6KH:function(e,t,a){e.exports={homeInvite:"UserSettingsInviteRow-homeInvite-3fuSS8"}},OAeU:function(e,t,a){e.exports={content:"PrePlayMetadataContent-content-kSY-kH"}},OJ00:function(e,t,a){e.exports={overlay:"MetadataSharedItemRow-overlay-1iSGYd",underlay:"MetadataSharedItemRow-underlay-136eKR Link-link-2ew_DK",summaryContainer:"MetadataSharedItemRow-summaryContainer-4mcNzm",posterContainer:"MetadataSharedItemRow-posterContainer-1jS6zE",playPosterContainer:"MetadataSharedItemRow-playPosterContainer-1QAAfO MetadataSharedItemRow-posterContainer-1jS6zE",playCircle:"MetadataSharedItemRow-playCircle-3fPFCw MetadataPosterCardActions-playCircle-3YI1wW PlayButton-playCircle-3Evfdw MetadataPosterCardCircle-cardCircle-2NfIyT",titlesContainer:"MetadataSharedItemRow-titlesContainer-2TzNou",titleContainer:"MetadataSharedItemRow-titleContainer-FOEoWU",title:"MetadataSharedItemRow-title-spLdum",doubleTitle:"MetadataSharedItemRow-doubleTitle-340_bN MetadataSharedItemRow-title-spLdum",subtitle:"MetadataSharedItemRow-subtitle-226jYT MetadataSharedItemRow-titleContainer-FOEoWU MetadataSharedItemRow-title-spLdum",actions:"MetadataSharedItemRow-actions-12u_-v",actionsButton:"MetadataSharedItemRow-actionsButton-yP6zUW Link-link-2ew_DK"}},ONyx:function(e,t,a){e.exports={spinnerContainer:"PrePlayAugmentedHubsList-spinnerContainer-2U0vto"}},OOzj:function(e,t,a){e.exports={inputs:"UnitInput-inputs-1Fc89j",textInput:"UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4"}},OQUr:function(e,t,a){e.exports={playedBadge:"PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp"}},OY1m:function(e,t,a){e.exports={container:"AudioVideoPlayQueueItemDragSource-container-3ncn7E"}},OYMB:function(e,t){},OhLM:function(e,t,a){e.exports={tableCell:"TableCell-tableCell-2mwuHk",activeTableCell:"TableCell-activeTableCell-21Vleo TableCell-tableCell-2mwuHk",title:"TableCell-title-2x35AT"}},OhkS:function(e,t,a){e.exports={message:"HeroMessage-message-3ZznX1"}},OiDK:function(e,t,a){e.exports={innerModalBody:"RecoveryCodesModalContent-innerModalBody-1q_5so ModalBody-innerModalBody-BHe1nE",codes:"RecoveryCodesModalContent-codes-2I1Q8E",code:"RecoveryCodesModalContent-code-14ESy4",info:"RecoveryCodesModalContent-info-3eF0FF",strong:"RecoveryCodesModalContent-strong-1bSbrs"}},OtNE:function(e,t,a){e.exports={container:"ServerLogLineModal-container-36025E",containerWithTimeFilter:"ServerLogLineModal-containerWithTimeFilter-HpbS0j",closeButton:"ServerLogLineModal-closeButton-33oO-Y Link-link-2n0yJn",action:"ServerLogLineModal-action-3YbmGc",label:"ServerLogLineModal-label-11MSOm",containerError:"ServerLogLineModal-containerError-BFsDKE ServerLogLineModal-container-36025E",containerWarning:"ServerLogLineModal-containerWarning-1L6UQw ServerLogLineModal-container-36025E",containerInfo:"ServerLogLineModal-containerInfo-1xSNjM ServerLogLineModal-container-36025E",containerDebug:"ServerLogLineModal-containerDebug-1_0AQ7 ServerLogLineModal-container-36025E",containerVerbose:"ServerLogLineModal-containerVerbose-3MAAhh ServerLogLineModal-container-36025E",containerUnknown:"ServerLogLineModal-containerUnknown-3YTiLQ ServerLogLineModal-container-36025E",levelError:"ServerLogLineModal-levelError-ATM6vg",levelWarning:"ServerLogLineModal-levelWarning-3o-hUc",levelInfo:"ServerLogLineModal-levelInfo-GC9mts"}},P0vZ:function(e,t,a){e.exports={isDecisionPending:"PlayerMedia-isDecisionPending-3d0gXT"}},P5aE:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){return"checked"}function h(e,t){var n,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.autoLogin,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}function m(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.allowHttpFallback,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function v(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.deviceSettings)||!1===n?n:n["settings.keepOnTop"],{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+"</option> "}function g(e,t){var a,r="";return r+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.shouldSyncSettings,{hash:{},inverse:d.program(28,f,t),fn:d.program(26,y,t),data:t}))||0===a)&&(r+=a),r+='</span> </button> <p class="help-block"> ',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.shouldSyncSettings,{hash:{},inverse:d.program(32,I,t),fn:d.program(30,b,t),data:t}))||0===a)&&(r+=a),r+=" </p> </div> "}function y(e,t){return c(r(a("ortX")).call(e,"Turn off settings sync",{hash:{},data:t}))}function f(e,t){return c(r(a("ortX")).call(e,"Turn on settings sync",{hash:{},data:t}))}function b(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Currently all {1} settings and customization are synchronized with other {1} instances.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function I(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Currently all {1} settings and customization apply to this {1} instance only.",e&&e.escapedProductName,{hash:{},data:t}))+" "}function S(e,t){var n,s="";return s+=' <div class="form-group"> <label for="chromecastAppID"> Chromecast Receiver</label> <select id="chromecastAppID"> ',((n=i.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:d.noop,fn:d.programWithDepth(52,M,t,e),data:t}))||0===n)&&(s+=n),s+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((n=r(a("ypsy")).call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.chromecastAppID,"custom",{hash:{},inverse:d.noop,fn:d.program(54,C,t),data:t}))||0===n)&&(s+=n),s+='"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+c("function"==typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n.chromecastCustomAppID)?n.apply(e):n)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function M(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.deviceSettings)||!1===n?n:n.chromecastAppID,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function C(e,t){return"hidden"}function D(e,t){var i,n="";return n+=' <div class="form-group"> <label for=""> Report Inspector Port</label> <select id="settings.webInspectorPort" data-type="int"> <option value="0" ',((i=r(a("YFQD")).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],0,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(n+=i),n+='>Disabled</option> <option value="9222" ',((i=r(a("YFQD")).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9222,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(n+=i),n+='>9222</option> <option value="9229" ',((i=r(a("YFQD")).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9229,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(n+=i),n+='>9229</option> <option value="9992" ',((i=r(a("YFQD")).call(e,null==(i=e&&e.deviceSettings)||!1===i?i:i["settings.webInspectorPort"],9992,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===i)&&(n+=i),n+='>9992</option> </select> <p class="help-block">Save then restart to take effect. Afterwards use Chrome to select Plex from chrome://inspect/#devices.</p> </div> '}function P(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.deviceSettings)||!1===n?n:n.debugAdKind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function O(e,t){var a,r="";return r+=' <option value="'+c("function"==typeof(a=e&&e.cid)?a.apply(e):a)+'" ',((a=i.if.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(r+=a),r+=">"+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+"</option> "}function j(e,t){var a,r="";return r+=' <fieldset class="audio-device-fields',((a=i.unless.call(e,e&&e.isSelected,{hash:{},inverse:d.noop,fn:d.program(73,T,t),data:t}))||0===a)&&(r+=a),r+='" data-cid="'+c("function"==typeof(a=e&&e.cid)?a.apply(e):a)+'"> ',((a=i.if.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.program(75,w,t),data:t}))||0===a)&&(r+=a),r+=" </fieldset> "}function T(e,t){return" hidden"}function w(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label> '+c(r(a("ortX")).call(e,"Audio Device Kind",{hash:{},data:t}))+' <select id="'+c(r(a("ccVO")).call(e,"ignore",{hash:{},data:t}))+'" class="audio-device-kind" data-cid="'+c("function"==typeof(n=e&&e.cid)?n.apply(e):n)+'"> ',((n=i.each.call(e,e&&e.kinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(76,E,t,e),data:t}))||0===n)&&(s+=n),s+=" </select> </label> </div> ",((n=i.each.call(e,e&&e.capabilities,{hash:{},inverse:d.noop,fn:d.programWithDepth(78,N,t,e),data:t}))||0===n)&&(s+=n),s+=" "}function E(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,i&&i.kind,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+"</option> "}function N(e,t,n){var s,o="";return o+=' <fieldset class="audio-device-kind-fields',((s=r(a("ypsy")).call(e,e&&e.kind,n&&n.kind,{hash:{},inverse:d.noop,fn:d.program(73,T,t),data:t}))||0===s)&&(o+=s),o+='" data-cid="'+c("function"==typeof(s=n&&n.cid)?s.apply(e):s)+'" data-kind="'+c("function"==typeof(s=e&&e.kind)?s.apply(e):s)+'"> <div class="form-group advanced-setting"> <label> '+c(r(a("ortX")).call(e,"Audio Channels",{hash:{},data:t}))+' <select name="channelLayout" id="'+c(r(a("ccVO")).call(e,"ignore",{hash:{},data:t}))+'" data-cid="'+c("function"==typeof(s=n&&n.cid)?s.apply(e):s)+'"> ',((s=i.each.call(e,e&&e.channelLayoutSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(79,x,t,n),data:t}))||0===s)&&(o+=s),o+=' </select> </label> </div> <div class="form-group advanced-setting hidden"> <label class="control-label"> <input name="transcodeToAC3" type="checkbox" id="'+c(r(a("ccVO")).call(e,"ignore",{hash:{},data:t}))+'" ',((s=i.if.call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.value,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===s)&&(o+=s),o+=' disabled data-cid="'+c("function"==typeof(s=n&&n.cid)?s.apply(e):s)+'" /> '+c(r(a("ortX")).call(e,null==(s=e&&e.transcodeToAC3Setting)||!1===s?s:s.title,{hash:{},data:t}))+" </label> </div> ",((s=i.each.call(e,e&&e.passthroughCodecSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(81,A,t,n),data:t}))||0===s)&&(o+=s),o+=" </fieldset> "}function x(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,i&&i.channelLayout,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+"</option> "}function A(e,t,i){var n,s="";return s+=' <div class="form-group advanced-setting audio-passthrough-codec"> <label class="control-label"> <input name="passthroughCodecs" type="checkbox" id="'+c(r(a("ccVO")).call(e,"ignore",{hash:{},data:t}))+'" value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("pqqZ")).call(e,i&&i.passthroughCodecs,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(82,L,t),data:t}))||0===n)&&(s+=n),s+=' data-cid="'+c("function"==typeof(n=i&&i.cid)?n.apply(e):n)+'"> '+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+" </label> </div> "}function L(e,t){return" checked"}function k(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.subtitleColor,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function R(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.subtitlePosition,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function z(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.subtitleSize,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function U(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.subtitlesBurnLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function V(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.musicDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+"</option> "}function B(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.videoDownloadQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+"</option> "}function F(e,t){return' <hr /> <div class="form-group advanced-setting"> <button type="button" class="reset-reminders-btn btn btn-sm btn-primary form-control-btn"> <span class="btn-label">  Reset reminders</span> </button> <p class="help-block">Reset all Plex Web reminders for this user. Reload to take effect.</p> </div> '}function H(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} instances may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductName,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+c(r(a("ortX")).call(t,"Show Advanced",{hash:{},data:s}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+c(r(a("ortX")).call(t,"Hide Advanced",{hash:{},data:s}))+"</button> </div> ",((o=i.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,n="";return n+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((i="function"==typeof(i=e&&e.alertIcon)?i.apply(e):i)||0===i)&&(n+=i),n+=" </span> "+c(r(a("ortX")).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+c(r(a("ortX")).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+c(r(a("ortX")).call(t,"Version",{hash:{},data:s}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+' </h4> <div class="form-group"> <label for="language">'+c(r(a("ortX")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.language,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(r(a("ortX")).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=i.if.call(t,t&&t.hasV4DirectoryFeature,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var a,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DirectoryEnabled" ',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.v4DirectoryEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(r+=a),r+='> Experimental directory pages </label> <p class="help-block">Preview the v4 directory pages. (Requires Auto Home)</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasV4DVRSetupFeature,{hash:{},inverse:d.noop,fn:d.program(9,(function(e,t){var a,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="v4DVRSetupEnabled" ',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.v4DVRSetupEnabled,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(r+=a),r+='> Experimental DVR setup </label> <p class="help-block">Preview the v4 DVR setup page.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasHome,{hash:{},inverse:d.noop,fn:d.program(11,(function(e,t){var a,r="";return r+=" ",((a=i.unless.call(e,e&&e.isRestricted,{hash:{},inverse:d.noop,fn:d.program(12,h,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.shouldSaveLastSourcePivots,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Remember selected tab",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(t,"Default to the last selected tab for a media source.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.playThemeMusic,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Play Theme Music",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(t,"Automatically play theme music in the background when available.",{hash:{},data:s}))+"</p> </div> ",((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((n=i.if.call(e,null==(n=e&&e.experienceSettings)||!1===n?n:n.companion,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Advertise as player",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.program(16,(function(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+c(r(a("ortX")).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((n=i.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.programWithDepth(17,m,t,e),data:t}))||0===n)&&(s+=n),s+=' </select> <p class="help-block">'+c(r(a("ortX")).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label for="timeFormat">'+c(r(a("ortX")).call(t,"Time Format",{hash:{},data:s}))+'</label> <select id="timeFormat"> ',((o=i.each.call(t,t&&t.timeFormats,{hash:{},inverse:d.noop,fn:d.programWithDepth(19,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.timeFormat,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(21,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label for="settings.keepOnTop">'+c(r(a("ortX")).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((n=i.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(22,v,t,e),data:t}))||0===n)&&(s+=n),s+=" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(24,(function(e,t){var n,s="";return s+=' <hr class="advanced-setting" /> ',((n=i.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(25,g,t),data:t}))||0===n)&&(s+=n),s+=' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(e,"Reset customization",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(r(a("ortX")).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProducttName,{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <hr class="advanced-setting" /> ',((o=i.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:d.noop,fn:d.program(34,(function(e,t){var i,n="";return n+=' <p class="help-block"> <span class="inline-icon">',((i="function"==typeof(i=e&&e.alertIcon)?i.apply(e):i)||0===i)&&(n+=i),n+="</span> "+c(r(a("ortX")).call(e,"Any {1} settings and customization made in this {1} instance will not be synchronized with other {1} instances. This is because we have detected you have previously saved settings from a newer version of {1}.",e&&e.escapedProductName,{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(36,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((n=i.if.call(e,null==(n=e&&e.experienceSettings)||!1===n?n:n.autoAdjustQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="',((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.program(40,(function(e,t){return"settings-header-first"}),s),fn:d.program(38,(function(e,t){return"settings-header"}),s),data:s}))||0===o)&&(l+=o),l+='">'+c(r(a("ortX")).call(t,"Internet Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+c(r(a("ortX")).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+c(r(a("ortX")).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=i.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(42,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.index,null==(n=i&&i.experienceSettings)||!1===n?n:n.remoteQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("0enV")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(r(a("ortX")).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Play smaller videos at original quality",{hash:{},data:s}))+' </label> <p class="help-block"> '+c(r(a("ortX")).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:s}))+" ",((o=i.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(44,(function(e,t){return c(r(a("ortX")).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <h4 class="settings-header">'+c(r(a("ortX")).call(t,"Home Streaming",{hash:{},data:s}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((o=i.if.call(t,null==(o=t&&t.experienceSettings)||!1===o?o:o.useHomeStreamingRecommendedSettings,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Use recommended settings",{hash:{},data:s}))+' </label> <p class="help-block recommended-home-streaming-settings">'+c(r(a("ortX")).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:s}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+c(r(a("ortX")).call(t,"Video quality",{hash:{},data:s}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+c(r(a("ortX")).call(t,"Maximum",{hash:{},data:s}))+"</option> ",((o=i.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(46,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.index,null==(n=i&&i.experienceSettings)||!1===n?n:n.localQuality,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("0enV")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(r(a("ortX")).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:s}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+c(r(a("ortX")).call(t,"Debug Level",{hash:{},data:s}))+'</label> <select id="debugLevel" data-type="int"> ',((o=i.each.call(t,t&&t.debugLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(48,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.deviceSettings)||!1===n?n:n.debugLevel,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <p class="help-block">'+c(r(a("ortX")).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:s}))+"</p> </div> ",((o=i.if.call(t,t&&t.isNinja,{hash:{},inverse:d.noop,fn:d.program(50,(function(e,t){var a,r="";return r+=" ",((a=i.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(51,S,t),data:t}))||0===a)&&(r+=a),r+=' <div class="form-group"> <label for="sonosCustomBaseURL"> Custom Sonos Environment</label> <input type="text" id="sonosCustomBaseURL" class="form-control" placeholder="Base URL" value="'+c("function"==typeof(a=null==(a=e&&e.deviceSettings)||!1===a?a:a.sonosCustomBaseURL)?a.apply(e):a)+'"> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.rejectDirectConnections,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(r+=a),r+='>  Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((a=i.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(56,D,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((o=i.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directPlay,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Direct Play",{hash:{},data:s}))+' </label> <p class="help-block"> ',((o=i.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.program(60,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "}),s),fn:d.program(58,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((o=i.if.call(t,null==(o=t&&t.deviceSettings)||!1===o?o:o.directStream,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Direct Stream",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:s}))+"</p> </div> ",((o=i.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(62,(function(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="forceTranscodeProtocolHLS" ',((n=i.if.call(e,null==(n=e&&e.experienceSettings)||!1===n?n:n.forceTranscodeProtocolHLS,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Use alternate streaming protocol for video playback",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Experimental workaround for Chrome, Edge, and other Chromium based browsers which may avoid unexpected skipping during video playback. The workaround will not be used if automatic quality adjusting is enabled.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(64,(function(e,t){var a,r="";return r+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((a=i.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.debugVideoQualityOverlay,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===a)&&(r+=a),r+='> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.canDebugAds,{hash:{},inverse:d.noop,fn:d.program(66,(function(e,t){var a,r="";return r+=' <div class="form-group"> <label for="debugAdKind"> Debug advertisements</label> <select id="debugAdKind" data-type="int"> ',((a=i.each.call(e,e&&e.debugAdKinds,{hash:{},inverse:d.noop,fn:d.programWithDepth(67,P,t,e),data:t}))||0===a)&&(r+=a),r+=' </select> <p class="help-block">Instructs ad supporting providers to return one or more advertisements. Remember to disable any ad blockers.</p> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first">'+c(r(a("ortX")).call(t,"Audio & Subtitles",{hash:{},data:s}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="normalizeDownmixedVolume" ',((o=i.if.call(t,t&&t.normalizeDownmixedVolume,{hash:{},inverse:d.noop,fn:d.program(7,p,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Normalize Multi-channel Audio",{hash:{},data:s}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(t,"Reduce volume to avoid clipping when converting from multi-channel audio formats.",{hash:{},data:s}))+"</p> </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(69,(function(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveAudioEnabled" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["player.exclusiveAudioEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Exclusive Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Bypasses the system audio mixer, ensuring that only the media's audio is sent unchanged to the output device. This prevents sounds from other applications on the selected device.",{hash:{},data:t}))+'</p> </div> <div class="form-group advanced-setting"> <label> '+c(r(a("ortX")).call(e,"Audio Device",{hash:{},data:t}))+' <select id="player.audioDevice" class="audio-device-name"> ',((n=i.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(70,O,t),data:t}))||0===n)&&(s+=n),s+=" </select> </label> </div> ",((n=i.each.call(e,e&&e.audioDevices,{hash:{},inverse:d.noop,fn:d.program(72,j,t),data:t}))||0===n)&&(s+=n),s+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasSubtitleColor,{hash:{},inverse:d.noop,fn:d.program(84,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label for="subtitleColor">'+c(r(a("ortX")).call(e,"Subtitle Color",{hash:{},data:t}))+'</label> <select id="subtitleColor"> ',((n=i.each.call(e,e&&e.subtitleColors,{hash:{},inverse:d.noop,fn:d.programWithDepth(85,k,t,e),data:t}))||0===n)&&(s+=n),s+=" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasSubtitlePosition,{hash:{},inverse:d.noop,fn:d.program(87,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label for="subtitlePosition">'+c(r(a("ortX")).call(e,"Subtitle Position",{hash:{},data:t}))+'</label> <select id="subtitlePosition"> ',((n=i.each.call(e,e&&e.subtitlePositions,{hash:{},inverse:d.noop,fn:d.programWithDepth(88,R,t,e),data:t}))||0===n)&&(s+=n),s+=" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasSubtitleSize,{hash:{},inverse:d.noop,fn:d.program(90,(function(e,t){var n,s="";return s+=' <div class="form-group"> <label for="subtitleSize">'+c(r(a("ortX")).call(e,"Subtitle Size",{hash:{},data:t}))+'</label> <select id="subtitleSize" data-type="int"> ',((n=i.each.call(e,e&&e.subtitleSizes,{hash:{},inverse:d.noop,fn:d.programWithDepth(91,z,t,e),data:t}))||0===n)&&(s+=n),s+=" </select> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:d.noop,fn:d.program(93,(function(e,t){var n,s="";return s+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+c(r(a("ortX")).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((n=i.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(94,U,t,e),data:t}))||0===n)&&(s+=n),s+=' </select> <p class="help-block">'+c(r(a("ortX")).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(96,(function(e,t){var n,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(r(a("ortX")).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((n=i.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["player.hardwareDecodingEnabled"],{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <h4 class="settings-header">'+c(r(a("ortX")).call(t,"Extras",{hash:{},data:s}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+c(r(a("ortX")).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:s}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((o=i.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:d.noop,fn:d.programWithDepth(98,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,null==(n=i&&i.experienceSettings)||!1===n?n:n.extrasPrefixCount,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+=">"+c(r(a("ortX")).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </select> </div> ",((o=i.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(100,(function(e,t){var n,s="";return s+=' <h4 class="settings-header advanced-setting">'+c(r(a("ortX")).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((n=i.if.call(e,null==(n=e&&e.experienceSettings)||!1===n?n:n.audioForceMultiChannel,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+c(r(a("ortX")).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(102,(function(e,t){var n,s="";return s+=' <div id="downloads-web-group" class="settings-group"> <div class="form-group"> <label for="musicDownloadQuality">'+c(r(a("ortX")).call(e,"Music Quality",{hash:{},data:t}))+'</label> <select id="musicDownloadQuality" data-type="int"> ',((n=i.each.call(e,e&&e.musicDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(103,V,t,e),data:t}))||0===n)&&(s+=n),s+=' </select> </div> <div class="form-group"> <label for="videoDownloadQuality">'+c(r(a("ortX")).call(e,"Video Quality",{hash:{},data:t}))+'</label> <select id="videoDownloadQuality" data-type="int"> ',((n=i.each.call(e,e&&e.videoDownloadQualityLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(105,B,t,e),data:t}))||0===n)&&(s+=n),s+=' </select> </div> <p class="help-block">'+c(r(a("ortX")).call(e,"Lower quality downloads use less disk space. Media will be converted on the server.",{hash:{},data:t}))+"</p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> ',((o=i.unless.call(t,t&&t.isAnonymous,{hash:{},inverse:d.noop,fn:d.program(107,(function(e,t){var n,s="";return s+=' <div id="debug-web-group-footer" class="settings-group"> ',((n=i.if.call(e,e&&e.isNinja,{hash:{},inverse:d.noop,fn:d.program(108,F,t),data:t}))||0===n)&&(s+=n),s+=' <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(e,"Restore defaults",{hash:{},data:t}))+'</span> </button> <p class="help-block"> '+c(r(a("ortX")).call(e,"All {1} settings and customization will be reset and restored to their default state.",e&&e.escapedProductName,{hash:{},data:t}))+" ",((n=i.if.call(e,e&&e.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(110,H,t),data:t}))||0===n)&&(s+=n),s+=" </p> </div> <hr /> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> </div> </div> "}))},P9eC:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'">'+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:n}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="input-group-addon edit-lock-addon',((s=i.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return" locked"}),n),data:n}))||0===s)&&(l+=s),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control lockable-field tag-input-hidden" data-name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" data-attr="'+c("function"==typeof(s=t&&t.attribute)?s.apply(t):s)+'" data-only-delete="'+c("function"==typeof(s=t&&t.onlyDelete)?s.apply(t):s)+'" ',((s=i.if.call(t,t&&t.query,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var a,i="";return i+='data-query="'+c("function"==typeof(a=e&&e.query)?a.apply(e):a)+'"'}),n),data:n}))||0===s)&&(l+=s),l+="> </div> </div> "}))},P9va:function(e,t,a){e.exports={row:"UsersSettingsRow-row-3XFVVH",underlay:"UsersSettingsRow-underlay-2ev7sE"}},PDl1:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function p(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"playing",{hash:{},inverse:c.program(9,m,t),fn:c.program(7,h,t),data:t}))||0===i?i:""}function h(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function m(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"websocket",{hash:{},inverse:c.program(13,y,t),fn:c.program(10,v,t),data:t}))||0===i?i:""}function v(e,t){var a,r="";return r+=" ",((a=i.if.call(e,null==(a=e&&e.event)||!1===a?a:a.opened,{hash:{},inverse:c.program(11,g,t),fn:c.program(4,u,t),data:t}))||0===a)&&(r+=a),r+=" "}function g(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function y(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i.state,0,{hash:{},inverse:c.program(16,b,t),fn:c.program(14,f,t),data:t}))||0===i?i:""}function f(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function b(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i.state,5,{hash:{},inverse:c.program(19,S,t),fn:c.program(17,I,t),data:t}))||0===i?i:""}function I(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function S(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i.state,6,{hash:{},inverse:c.program(22,C,t),fn:c.program(20,M,t),data:t}))||0===i?i:""}function M(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function C(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i.state,9,{hash:{},inverse:c.program(25,P,t),fn:c.program(23,D,t),data:t}))||0===i?i:""}function D(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function P(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function O(e,t){var a,r="";return r+=" ",((a=i.if.call(e,null==(a=e&&e.event)||!1===a?a:a.message,{hash:{},inverse:c.program(33,T,t),fn:c.program(31,j,t),data:t}))||0===a)&&(r+=a),r+=" "}function j(e,t){var i,n="";return n+=" "+d(r(a("ortX")).call(e,null==(i=e&&e.event)||!1===i?i:i.message,{hash:{},data:t}))+" "}function T(e,t){var n,s="";return s+=" "+d(r(a("ortX")).call(e,null==(n=e&&e.event)||!1===n?n:n.title,{hash:{},data:t})),((n=i.if.call(e,null==(n=e&&e.event)||!1===n?n:n.description,{hash:{},inverse:c.noop,fn:c.program(34,w,t),data:t}))||0===n)&&(s+=n),s+=" "}function w(e,t){var i,n="";return n+=": "+d(r(a("ortX")).call(e,null==(i=e&&e.event)||!1===i?i:i.description,{hash:{},data:t}))}function E(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"timeline",{hash:{},inverse:c.program(39,x,t),fn:c.program(37,N,t),data:t}))||0===i?i:""}function N(e,t){var i,n="";return n+=" "+d(r(a("ortX")).call(e,null==(i=e&&e.event)||!1===i?i:i.stateString,{hash:{},data:t}))+' <a href="#!/server/'+d(r(a("PNNR")).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+d(r(a("PNNR")).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+d("function"==typeof(i=null==(i=e&&e.event)||!1===i?i:i.mediaTitle)?i.apply(e):i)+"</a> "}function x(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"playing",{hash:{},inverse:c.program(45,R,t),fn:c.program(40,A,t),data:t}))||0===i?i:""}function A(e,t){var a,r="";return r+=" ",((a=i.if.call(e,null==(a=e&&e.event)||!1===a?a:a.player,{hash:{},inverse:c.program(43,k,t),fn:c.program(41,L,t),data:t}))||0===a)&&(r+=a),r+=" "}function L(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function k(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function R(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,z,t),data:t}))||0===i?i:""}function z(e,t){var a,r="";return r+=" ",((a=i.if.call(e,null==(a=e&&e.event)||!1===a?a:a.opened,{hash:{},inverse:c.program(49,V,t),fn:c.program(47,U,t),data:t}))||0===a)&&(r+=a),r+=" "}function U(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function V(e,t){var a;return(a=i.if.call(e,null==(a=e&&e.event)||!1===a?a:a.closed,{hash:{},inverse:c.program(52,F,t),fn:c.program(50,B,t),data:t}))||0===a?a:""}function B(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function F(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((o=r(a("YFQD")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(3,(function(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"status",{hash:{},inverse:c.program(6,p,t),fn:c.program(4,u,t),data:t}))||0===i?i:""}),s),fn:c.program(1,(function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+d(r(a("SA0Q")).call(t,null==(o=t&&t.event)||!1===o?o:o.time,t&&t.timeFormat,{hash:{},data:s}))+"</span> ",((o=r(a("YFQD")).call(t,null==(o=t&&t.event)||!1===o?o:o._type,"setting",{hash:{},inverse:c.program(29,(function(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.event)||!1===i?i:i._type,"status",{hash:{},inverse:c.program(36,E,t),fn:c.program(30,O,t),data:t}))||0===i?i:""}),s),fn:c.program(27,(function(e,t){var i="";return i+=" "+d(r(a("ortX")).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},PFxR:function(e,t,a){"use strict";a.d(t,"O",(function(){return i})),a.d(t,"rb",(function(){return r})),a.d(t,"P",(function(){return n})),a.d(t,"eb",(function(){return s})),a.d(t,"Y",(function(){return o})),a.d(t,"jb",(function(){return l})),a.d(t,"gb",(function(){return c})),a.d(t,"T",(function(){return d})),a.d(t,"W",(function(){return u})),a.d(t,"a",(function(){return p})),a.d(t,"bb",(function(){return h})),a.d(t,"pb",(function(){return m})),a.d(t,"qb",(function(){return v})),a.d(t,"mb",(function(){return g})),a.d(t,"F",(function(){return y})),a.d(t,"xb",(function(){return f})),a.d(t,"U",(function(){return b})),a.d(t,"sb",(function(){return I})),a.d(t,"E",(function(){return S})),a.d(t,"vb",(function(){return M})),a.d(t,"wb",(function(){return C})),a.d(t,"tb",(function(){return D})),a.d(t,"ub",(function(){return P})),a.d(t,"Z",(function(){return O})),a.d(t,"ob",(function(){return j})),a.d(t,"hb",(function(){return T})),a.d(t,"V",(function(){return w})),a.d(t,"yb",(function(){return E})),a.d(t,"b",(function(){return N})),a.d(t,"Ab",(function(){return x})),a.d(t,"Bb",(function(){return A})),a.d(t,"zb",(function(){return L})),a.d(t,"kb",(function(){return k})),a.d(t,"nb",(function(){return R})),a.d(t,"lb",(function(){return z})),a.d(t,"cb",(function(){return U})),a.d(t,"db",(function(){return V})),a.d(t,"M",(function(){return B})),a.d(t,"N",(function(){return F})),a.d(t,"I",(function(){return H})),a.d(t,"L",(function(){return _})),a.d(t,"K",(function(){return Q})),a.d(t,"J",(function(){return W})),a.d(t,"H",(function(){return G})),a.d(t,"G",(function(){return Y})),a.d(t,"S",(function(){return K})),a.d(t,"t",(function(){return q})),a.d(t,"s",(function(){return Z})),a.d(t,"k",(function(){return X})),a.d(t,"u",(function(){return J})),a.d(t,"i",(function(){return $})),a.d(t,"o",(function(){return ee})),a.d(t,"m",(function(){return te})),a.d(t,"C",(function(){return ae})),a.d(t,"g",(function(){return ie})),a.d(t,"q",(function(){return re})),a.d(t,"p",(function(){return ne})),a.d(t,"l",(function(){return se})),a.d(t,"z",(function(){return oe})),a.d(t,"B",(function(){return le})),a.d(t,"y",(function(){return ce})),a.d(t,"j",(function(){return de})),a.d(t,"n",(function(){return ue})),a.d(t,"h",(function(){return pe})),a.d(t,"x",(function(){return he})),a.d(t,"e",(function(){return me})),a.d(t,"A",(function(){return ve})),a.d(t,"f",(function(){return ge})),a.d(t,"D",(function(){return ye})),a.d(t,"v",(function(){return fe})),a.d(t,"w",(function(){return be})),a.d(t,"r",(function(){return Ie})),a.d(t,"ab",(function(){return Se})),a.d(t,"ib",(function(){return Me})),a.d(t,"X",(function(){return Ce})),a.d(t,"R",(function(){return De})),a.d(t,"Q",(function(){return Pe})),a.d(t,"d",(function(){return Oe})),a.d(t,"c",(function(){return je})),a.d(t,"fb",(function(){return Te}));var i="home",r="source",n="library",s="preplay",o="playlists",l="searchResults",c="quickSearchResults",d="metadataList",u="player",p="account",h="plexpass",m="signIn",v="signOut",g="setupWizard",y="downloads",f="unclaimedServer",b="metadataSettings",I="status",S="devices",M="subtitles",C="subtitlesUpload",D="stopServerSession",P="stopServerSessionError",O="playHistory",j="sidebar",T="releaseNotes",w="photoTimeline",E="unknown",N="addToPlaylist",x="watchTogetherInvite",A="watchTogetherItemError",L="usersSharing",k="settings",R="sharing",z="settingsSidebar",U="preferredServer",V="preferredSources",B="dvrSettings",F="dvrSetup",H="dvrGuide",_="dvrSchedule",Q="dvrPriority",W="dvrManageChannels",G="dvrDeviceSettings",Y="dvrAiringDetails",K="manageSubscription",q="confirmMarkAsWatched",Z="confirmMarkAsUnwatched",X="confirmDelete",J="confirmOptimizeDatabase",$="confirmCleanBundles",ee="confirmEmptyTrash",te="confirmDeleteServer",ae="confirmUpgradeLibrary",ie="confirmAnalyzeLibrary",re="confirmForceRefreshLibrary",ne="confirmEmptyTrashLibrary",se="confirmDeleteLibrary",oe="confirmRemoveWebhook",le="confirmUnlinkOauthProvider",ce="confirmRemoveDVR",de="confirmClosePlayer",ue="confirmDeleteSubtitleStream",pe="confirmCancelDownload",he="confirmRemoveDownload",me="confirmAddToHome",ve="confirmResetCustomization",ge="adConsent",ye="confirmUpsell",fe="confirmPlayback",be="confirmRemoteToLocalPlayback",Ie="confirmLocalToRemotePlayback",Se="playVersion",Me="resumePlayback",Ce="playerError",De="liveTVPlayerConflict",Pe="liveTVJoinSession",Oe="castApiMissing",je="adConsent",Te="settings"},PHkR:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(o=t&&t.item,null==o||!1===o?o:o.originalTitle),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originalTitle),locked:(o=t&&t.locked,null==o||!1===o?o:o.originalTitle),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,(function(e,t){var i,n="";return n+=" "+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(i=e&&e.item,null==i||!1===i?i:i.year),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.year),locked:(i=e&&e.locked,null==i||!1===i?i:i.year)},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var i,n="";return n+=" "+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="col-md-4 selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(o=t&&t.item,null==o||!1===o?o:o.contentRating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.contentRating),locked:(o=t&&t.locked,null==o||!1===o?o:o.contentRating),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+' </div> <div class="col-md-4"> <label>'+c(r(a("ortX")).call(t,"Rating",{hash:{},data:s}))+'</label> <div class="rating-region"></div> </div> </div> <div class="row"> <div class="col-md-',((o=i.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,(function(e,t){return"6"}),s),fn:this.program(5,(function(e,t){return"12"}),s),data:s}))||0===o)&&(l+=o),l+=' selectize"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(o=t&&t.item,null==o||!1===o?o:o.studio),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.studio),locked:(o=t&&t.locked,null==o||!1===o?o:o.studio),ratingKey:(o=t&&t.item,null==o||!1===o?o:o.ratingKey)},data:s}))+" </div> ",((o=i.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var i,n="";return n+=' <div class="col-md-6"> '+c(r(a("Nup9")).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(i=e&&e.item,null==i||!1===i?i:i.originallyAvailableAt),placeholder:(i=e&&e.placeholders,null==i||!1===i?i:i.originallyAvailableAt),locked:(i=e&&e.locked,null==i||!1===i?i:i.originallyAvailableAt)},data:t}))+" </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(o=t&&t.item,null==o||!1===o?o:o.tagline),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.tagline),locked:(o=t&&t.locked,null==o||!1===o?o:o.tagline)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},PIaE:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n}));var i="download",r="record",n="universal"},PKZm:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selectable"}function p(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((o=i.if.call(t,null==(o=t&&t.section)||!1===o?o:o.type,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"section-type-chosen"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=i.if.call(t,t&&t.add,{hash:{},inverse:d.program(5,(function(e,t){var i="";return i+=" <label>"+c(r(a("ortX")).call(e,"Library type",{hash:{},data:t}))+"</label> "}),s),fn:d.program(3,(function(e,t){var i="";return i+=' <p class="prompt">'+c(r(a("ortX")).call(e,"Select your library type",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="wizard-blocks-group form-group type-group"> ',((o=i.each.call(t,t&&t.sectionTypes,{hash:{},inverse:d.noop,fn:d.programWithDepth(7,(function(e,t,n){var s,o="";return o+=' <a class="wizard-block section-type ',((s=i.if.call(e,n&&n.canChangeType,{hash:{},inverse:d.noop,fn:d.program(8,u,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=r(a("YFQD")).call(e,n&&n.currentSectionKey,e&&e.key,{hash:{},inverse:d.noop,fn:d.program(10,p,t),data:t}))||0===s)&&(o+=s),o+='" data-key="'+c("function"==typeof(s=e&&e.key)?s.apply(e):s)+'" href="#"> ',((s="function"==typeof(s=e&&e.typeIcon)?s.apply(e):s)||0===s)&&(o+=s),o+=" "+c("function"==typeof(s=e&&e.title)?s.apply(e):s)+" </a> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' <label class="control-label"> <span class="control-error">'+c(r(a("ortX")).call(t,"You must select a media type.",{hash:{},data:s}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((o=i.if.call(t,t&&t.hasType,{hash:{},inverse:d.noop,fn:d.program(12,(function(e,t){var i="";return i+=' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(r(a("ortX")).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="row"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(r(a("ortX")).call(t,"Name",{hash:{},data:s}))+' <span class="control-error">'+c(r(a("ortX")).call(t,"A library name is required.",{hash:{},data:s}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.section)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(r(a("ortX")).call(t,"Language",{hash:{},data:s}))+' <span class="control-error">'+c(r(a("ortX")).call(t,"A language is required.",{hash:{},data:s}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <span class="text-muted"> ',((o=i.if.call(t,t&&t.updatedAt,{hash:{},inverse:d.noop,fn:d.program(14,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </div> </div> </div> </form> "}))},PNNR:function(e,t){e.exports=function(e){return encodeURIComponent(e||"")}},PW1X:function(e,t,a){"use strict";a.r(t),a.d(t,"getLastSegment",(function(){return u})),a.d(t,"stringifyParams",(function(){return p})),a.d(t,"parseParams",(function(){return h})),a.d(t,"parseUri",(function(){return m})),a.d(t,"parseUrl",(function(){return v})),a.d(t,"join",(function(){return g}));var i=a("Qyje"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("yQm5"),l=a.n(o);a("yDpE");var c=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,d=/([^?]*)\??(.*)()/;function u(e){return e?s.a.first(/[^/\\]+$/.exec(e))||e:""}function p(e,t){return r.a.stringify(e,Object.assign({arrayFormat:"repeat"},t))}function h(e,t){return r.a.parse(e,t)}function m(e){var t=l.a.parse(e),a=t.protocol?t.protocol+":":"",i=t.port?String(t.port):"",r=t.hostname?i&&t.hostname+":"+i||t.hostname:"",n=t.hostname||"",s=t.fragment?"#"+t.fragment:"",o=e,c=a&&r?a+"//"+r:"",d=t.path||"",u=t.query?"?"+t.query:"",p=t.query?h(t.query):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:s,host:r,hostname:n,href:o,origin:c,params:p,pathname:d,port:i,protocol:a,search:u}}function v(e){var t=Object.assign({},m(e)),a=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),a||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=a?t.protocol+"//":t.protocol+"//"+t.host),t}function g(e,t,a){s.a.isString(e)&&(e=[e]),e=e.filter(e=>e);var i,r=a&&a.recognizeHash?c:d,n=e.reduce((e,t)=>{var[,a,i,n]=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(r);return a&&(e.path=e.path?e.path+"/"+a:a),i&&(e.params=e.params?e.params+"&"+i:i),n&&(e.hash=n),e},{path:"",params:"",hash:""});if(a&&a.parseParams)i=p(Object.assign(h(n.params),s.a.isString(t)?h(t):t));else{var o=s.a.isString(t)?t:p(t);i=n.params+(n.params&&o?"&":"")+o}return(e.length&&"/"===e[0].charAt(0)?"/":"")+n.path+(i?"?"+i:"")+n.hash}},PZBo:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((s=(o=a("YFQD"),o&&(o.__esModule?o.default:o)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,(function(e,t){return"circle-exclamation-mark"}),n),fn:this.program(1,(function(e,t){return"circle-ok"}),n),data:n}))||0===s)&&(l+=s),l+='"></i> <h4>',((s="function"==typeof(s=t&&t.message)?s.apply(t):s)||0===s)&&(l+=s),l+="</h4> "}))},PZfv:function(e,t,a){e.exports={container:"PrePlayAttributedLeftTitle-container-3uhPwv",attribution:"PrePlayAttributedLeftTitle-attribution-1XwG5F",title:"PrePlayAttributedLeftTitle-title-3g0eIf"}},PZgO:function(e,t,a){e.exports={header:"ManageLibrariesPane-header-1Q-gmT",headerTitle:"ManageLibrariesPane-headerTitle-2WyRsF",button:"ManageLibrariesPane-button-3nA1pC"}},PdYn:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("oozQ");function r(e){return e.get("isOpen")?e.get("hasError")?i.b:e.get("isPaused")?i.c:e.get("isBuffering")?i.a:i.d:i.e}},Pfwo:function(e,t){e.exports=function(){return""}},PiUd:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((o=i.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var n,s="";return s+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((n=i.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='">'+d(r(a("ortX")).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((n=i.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='">'+d(r(a("ortX")).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,(function(e,t){var i="";return i+=' <p class="conversion-status-message">'+d(r(a("ortX")).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),fn:c.program(4,(function(e,t){var i,n="";return n+=' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+d("function"==typeof(i=e&&e.errorMessage)?i.apply(e):i)+" "+d(r(a("ortX")).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,(function(e,t){var i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center"> '+d(r(a("ortX")).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "}),s),fn:c.program(8,(function(e,t){var a,r="";return r+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((a=i.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(r+=a),r+='"> <div class="conversion-queue-after-up-next-list-region"></div> '}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},PmXU:function(e,t,a){"use strict";function i(e,t,...a){if(t){for(var i=[e],r=0,n=a.length;r<n;r++){var s=a[r];s&&i.push(s)}return i.push(t),i.join("--")}}a.d(t,"a",(function(){return i}))},PsWl:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("PW1X"),r=a("5hhD"),n=a("j1Ci"),s=/\/([^/]+)([^$]+)?/,o={};function l(e){if(o[e])return o[e];var{protocol:t,host:a,pathname:l,search:c}=i.parseUri(e),d="provider:"===t,u="server:"===t;if(d||u){var p=c.substr(1)||void 0,h=l.replace(/\/$/,"")||void 0,m=h&&h.match(s)||[];o[e]={isServer:u,metadataItemKey:d?h:m[2],parameters:p&&i.parseParams(p),providerIdentifier:d?a:m[1]||r.d,serverIdentifier:d?n.a:a}}else o[e]={};return o[e]}},Psru:function(e,t,a){"use strict";var i=a("ZwMC"),r=a("EsBL");t.a=function(e,t={}){try{return JSON.parse(e)}catch(n){var a=Object(r.a)(e)?e.substring(0,50):"no response";return i.a.warn("[Parser] Unable to parse JSON: "+n.message+" ("+a+")"),t}}},PuYh:function(e,t,a){e.exports={container:"CurrentSourceBreadcrumb-container-1kPu8S",tooltipButton:"CurrentSourceBreadcrumb-tooltipButton-1qQPeq ToolbarButton-toolbarButton-2i2nnD"}},"Q+xW":function(e,t,a){"use strict";var i=a("7QCR");t.a=function(e){return e.repeatOne?i.c:e.repeatAll?i.a:i.b}},QExs:function(e,t,a){e.exports={modalContent:"ModalContent-modalContent-UQlV4k",closeButton:"ModalContent-closeButton-3NY5uJ Link-link-2n0yJn"}},QF2Q:function(e,t,a){e.exports={hubTitle:"QuickSearchHubContainer-hubTitle-2B0GDG"}},"QVd+":function(e,t,a){"use strict";var i={DISABLED:0,ENABLED:1,VERBOSE:2};i.settings=[{value:i.DISABLED,title:"Disabled"},{value:i.ENABLED,title:"Enabled"},{value:i.VERBOSE,title:"Verbose"}],t.a=i},QVrK:function(e,t,a){"use strict";var i=a("S8DM"),r=/version\/(\d+(\.\d+)?)/i,n=/\/([^\s]+)\s+\(Vizio/,s=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,o=function(e){var t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){var t="",a="";e?(t=e.userAgent,a=e.platform):i.a&&null!=window.navigator&&(t=window.navigator.userAgent,a=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:a})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:s,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:s},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:s},{id:"edge",name:"Microsoft Edge",regex:/edge?|(windows phone.+chrome)/i,versionRegex:/edge?\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:r},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:r},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:s}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e=""){var t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e=""){return e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){var t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:r).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){var t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return i.a&&!!window.Windows},version:function(e){try{for(var t=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,a=("0000000000000000"+parseInt(t,10).toString(16)).slice(-16),i=[],r=0;r<a.length;){var n=a.substring(r,r+4),s=parseInt(n,16);i.push(s),r+=4}return i.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){var t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){var t,a;if(/SmartTvA/.test(e))t=(a=/SmartTvA\/(\d+\.\d+)/.exec(e))&&a[1]||t;else{var i=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(i)?t="2.0":[/nettv\/4/i].some(i)?t="1.0":[/nettv/i].some(i)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){var t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return i.a&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){var t=n.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return n.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){var t=n.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:n,version:function(e){var t=n.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){var t=/Opera TV Store/.test(e),a=/TV Store/.test(e)&&/OMI\//.test(e);return t||a}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){var t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){var t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){var t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){var t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:o},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:o},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:o},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:o},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:o},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){var t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){var t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){var t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){var t,a=this.runTests(this.browsers,e),i=this.runTests(this.platforms,e);a?(this.id=a.id,this.name=a.name,this.version=this.getVersion(e.userAgent,a.versionRegex,a.versionMatchIndex||1),this.webkit=!!a.webkit,this.gecko=!!a.gecko,this.msie=!!a.msie,this.presto=!!a.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),i?(t="function"==typeof i.version?i.version(e.userAgent):i.version,this.platform=i.name,this.platformID=i.id,this.platformVersion=t||this.platformVersion,this.mobile=!!i.mobile,this.tv=!!i.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){for(var a,i,r,n=0;!0!==i&&(r=e[n++]);)a=t[r.context||"userAgent"],r.regex?i=r.regex.test(a):r.predicate&&(i=r.predicate(a));return r},getVersion:function(e,t,a){var i=e.match(t);return i&&i.length>a&&i[a]||"0"},toJSON:function(){var e={};for(var t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}},t.a=new l},QYx4:function(e,t,a){e.exports={photoInformation:"PhotoInformation-photoInformation-1vUJbF",scroller:"PhotoInformation-scroller-1kXikq Scroller-vertical-VScFLT",exif:"PhotoInformation-exif-3TGkhv",line:"PhotoInformation-line-2tnkCU",split:"PhotoInformation-split-3vWYSO PhotoInformation-line-2tnkCU",format:"PhotoInformation-format-IPisod",map:"PhotoInformation-map-26hTST"}},QZ2m:function(e,t,a){e.exports={item:"PlayHistoryTableRow-item-1tWk7h",alternateItem:"PlayHistoryTableRow-alternateItem-2w7YY2 PlayHistoryTableRow-item-1tWk7h",columns:"PlayHistoryTableRow-columns-MZxeOh Link-link-2ew_DK"}},QZNe:function(e,t,a){e.exports={card:"TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC",isPerson:"TagPosterCard-isPerson-1ez1h_"}},Qb9m:function(e,t,a){e.exports={group:"InlineFormGroup-group-2Wa86G"}},QbAs:function(e,t,a){e.exports={attributionLogo:"PrePlayAttributionLogo-attributionLogo-2UZHBf"}},Qc4C:function(e,t,a){e.exports={playButton:"PlayButton-playButton-3WX8X-",playCircle:"PlayButton-playCircle-3Evfdw"}},Qcsn:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"e",(function(){return c}));var i=a("BQdi"),r=a("ClE3"),n="ui/repopulatePage",s="ui/showAlert",o=Object(i.a)(n),l=Object(i.a)(s,e=>"string"==typeof e?{type:r.a,message:e}:e),c={[s](e,t){}}},QhHd:function(e,t,a){e.exports={container:"PrePlayDetailsContainer-container-3EYqxZ",posterContainer:"PrePlayDetailsContainer-posterContainer-347qPh",content:"PrePlayDetailsContainer-content-2xv-84 PrePlayMetadataContent-content-kSY-kH"}},QlLa:function(e,t,a){e.exports={dvr:"DVRListItem-dvr-1CoTiB",header:"DVRListItem-header-Lb8AEy",separator:"DVRListItem-separator-2BuN4r DashSeparator-separator-4CyEFW",name:"DVRListItem-name-rIFJzK",deleteLink:"DVRListItem-deleteLink-1ATve6",actions:"DVRListItem-actions-1mU6F4",actionIcon:"DVRListItem-actionIcon-fPqPli",devices:"DVRListItem-devices-2eZl_c",addDeviceIcon:"DVRListItem-addDeviceIcon-2n26fm",banner:"DVRListItem-banner-2FUHJP ProgramGuideGracenoteMigrationBanner-container-1G9MWN"}},Qpc7:function(e,t,a){e.exports={link:"SourcesToggleButton-link-O75VbU",icon:"SourcesToggleButton-icon-2cbEY1",pinnedIcon:"SourcesToggleButton-pinnedIcon-3o85VC SourcesToggleButton-icon-2cbEY1",unclaimedImage:"SourcesToggleButton-unclaimedImage-3GLPXd",topBorder:"SourcesToggleButton-topBorder-30Yrnv",bottomBorder:"SourcesToggleButton-bottomBorder-34MxB6"}},Qxpn:function(e,t,a){"use strict";t.a=function(e,t,a){return e.reduce((e,i)=>(e[t(i)]=a(i),e),{})}},Qy3a:function(e,t,a){e.exports={tableHeader:"DirectoryListTableHeader-tableHeader-H1GDhN TableHeader-tableHeader-vLg8Js",tableHeaderLink:"DirectoryListTableHeader-tableHeaderLink-2jpgVS TableHeaderLink-tableHeaderLink-2vwPqB Link-link-2ew_DK",tableHeaderCell:"DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstTableHeaderCell:"DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",firstActiveTableHeaderCell:"DirectoryListTableHeader-firstActiveTableHeaderCell-3y8zhl DirectoryListTableHeader-firstTableHeaderCell-1tpNWq DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk DirectoryListTableHeader-activeTableHeaderCell-2Smzd_ DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",columnMenuButton:"DirectoryListTableHeader-columnMenuButton-2y5meA Link-link-2ew_DK",actionsTableHeaderCell:"DirectoryListTableHeader-actionsTableHeaderCell-f_pzge DirectoryListTableHeader-tableHeaderCell-1DQr1Z TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},"R+Vt":function(e,t,a){e.exports={container:"Measure-container-3yONEe",scrollContainer:"Measure-scrollContainer-1c6dyV",expandContent:"Measure-expandContent-zsLw6n",shrinkContent:"Measure-shrinkContent-303GSV Measure-expandContent-zsLw6n"}},"R/D4":function(e,t,a){e.exports={sectionDetails:"SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},"R/vz":function(e,t,a){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-3RWvGy"}},R14s:function(e,t,a){e.exports={spinnerContainer:"SettingsPageLoadingSpinner-spinnerContainer-oodfMD"}},R1OT:function(e,t,a){e.exports={pageHeader:"DirectoryListToolbar-pageHeader-HphD2a PageHeader-pageHeader-2KNPGd",disclosureArrowLink:"DirectoryListToolbar-disclosureArrowLink-19JfRI DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",listTitle:"DirectoryListToolbar-listTitle-2hUAq4"}},R4w1:function(e,t,a){e.exports={spinner:"SearchPageHeader-spinner-1_DoEP",separator:"SearchPageHeader-separator-C3ELoB"}},R7A0:function(e,t,a){e.exports={container:"TidalUpsellHub-container-TF7gnl",text:"TidalUpsellHub-text-3lFxtm",logo:"TidalUpsellHub-logo-2N5IJ5",body:"TidalUpsellHub-body-a-Qyh6",link:"TidalUpsellHub-link-3mngUv Link-link-2ew_DK"}},R9Jt:function(e,t,a){e.exports={titleContainer:"MetadataChannelCell-titleContainer-3h4coa",placeholder:"MetadataChannelCell-placeholder-2Z1J88 MetadataPosterCardFace-poster-L2P6rC",card:"MetadataChannelCell-card-4uM9rb MetadataPosterCard-card-3bztRc"}},RDBK:function(e,t,a){e.exports={modalContent:"EnableTwoFactorAuthModal-modalContent-1ZR6tf ModalContent-modalContent-4GS6yU",innerModalBody:"EnableTwoFactorAuthModal-innerModalBody-_GC3YX ModalBody-innerModalBody-BHe1nE",inputGroup:"EnableTwoFactorAuthModal-inputGroup-135TxV",secretContent:"EnableTwoFactorAuthModal-secretContent-wxzwgg",verificationCodeContent:"EnableTwoFactorAuthModal-verificationCodeContent-2fuJzD",qrCodeContent:"EnableTwoFactorAuthModal-qrCodeContent-3AJJoT",textCode:"EnableTwoFactorAuthModal-textCode-3GfIMJ",verificationCodeInput:"EnableTwoFactorAuthModal-verificationCodeInput-BY_1Q8",qrCodePlaceholder:"EnableTwoFactorAuthModal-qrCodePlaceholder-DzxrH_"}},RVll:function(e,t,a){e.exports={poster:"TopPlayedColumnRow-poster-JGf3-5 Link-link-2ew_DK",artistPoster:"TopPlayedColumnRow-artistPoster-2uLEsx Link-link-2ew_DK",summary:"TopPlayedColumnRow-summary-104umq",itemTitle:"TopPlayedColumnRow-itemTitle-2aOzZ5 Link-link-2ew_DK"}},RWac:function(e,t,a){e.exports={partialButton:"PrePlayRecordingStatusButton-partialButton-1aQ0th PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",failedButton:"PrePlayRecordingStatusButton-failedButton-ap5JD2 PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},RWya:function(e,t,a){e.exports={emptyContainer:"PrePlayPageHeaderSiblingsMenu-emptyContainer-zMrx0k"}},RXx0:function(e,t,a){"use strict";e.exports={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:"#e5a00d",successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",focusColor:"#7eb0d5",appBackgroundColor:"#444f56",darkOpaqueBackgroundColor:"#1f2326",blackDarkTranslucentBackgroundColor:"rgba(0, 0, 0, 0.15)",blackDarkerTranslucentBackgroundColor:"rgba(0, 0, 0, 0.3)",lightTranslucentBackgroundColor:"rgba(255, 255, 255, 0.15)",badgeBackgroundColor:"rgba(0, 0, 0, 0.15)",defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:"#e5a00d",selectedLinkHoverColor:"color(#e5a00d lightness(+15%))",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryButtonColor:"#1f2326",primaryBackgroundColor:"#e5a00d",primaryHoverBackgroundColor:"color(#e5a00d lightness(+10%))",primaryActiveBackgroundColor:"color(#e5a00d blackness(+20%))",primaryDisabledColor:"rgba(0, 0, 0, 0.4)",primaryDisabledBackgroundColor:"color(#e5a00d blackness(+50%))",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"color(#3d7832 lightness(+5%))",successActiveBackgroundColor:"color(#3d7832 blackness(+10%))",successDisabledBackgroundColor:"color(#3d7832 blackness(+30%))",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"color(#b32 lightness(+5%))",dangerActiveBackgroundColor:"color(#b32 blackness(+10%))",dangerDisabledBackgroundColor:"color(#b32 blackness(+30%))",darkBackgroundColor:"rgba(0, 0, 0, 0.3)",darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:"rgba(0, 0, 0, 0.3)",scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:"rgba(0, 0, 0, 0.3)",formSectionHoverBackgroundColor:"rgba(0, 0, 0, 0.15)",modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:"rgba(0, 0, 0, 0.15)",menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:"rgba(0, 0, 0, 0.15)",sidebarMenuButtonBackgroundColor:"rgba(0, 0, 0, 0.3)",sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:"rgba(0, 0, 0, 0.15)"}},RZIj:function(e,t,a){e.exports={form:"AddToCatalogModal-form-3c_MqA",inputContainer:"AddToCatalogModal-inputContainer-3V2vNI",fileNote:"AddToCatalogModal-fileNote-25qjc8"}},RcYF:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("jejw"),o=a("DTXE"),l=a("cGVK"),c=s.a.extend({name:"TranscodeSessionModel",context:["server"],url(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:o.a.string,progress:o.a.float,throttled:o.a.boolean,speed:o.a.float,duration:o.a.integer,videoDecision:o.a.string,audioDecision:o.a.string,protocol:o.a.string,container:o.a.string,videoCodec:o.a.string,audioCodec:o.a.string,audioChannels:o.a.integer,width:o.a.string,height:o.a.string,transcodeHwDecoding:o.a.string,transcodeHwEncoding:o.a.string,timeStamp:o.a.integer,minOffsetAvailable:o.a.integer,maxOffsetAvailable:o.a.integer}}),d=a("r+E8"),u=a("qOxg"),p=a("z4sZ"),h=a("fEqS"),m=a("0dto"),v=a("KySg"),g=a("DvHC"),y=a("PsWl"),f=a("5hhD");var b=a("LuB9"),I=a("a+vp"),S=a("8gq0"),M=a("PmXU"),C=a("kkNn"),D=a("A+r8"),P=a("ADhH"),O=a("kj1j"),j=a("GEPl"),T=a("Sgs+"),w=s.a.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:o.a.integer,tag:o.a.string,index:o.a.integer,startTimeOffset:o.a.integer,endTimeOffset:o.a.integer,thumb:o.a.string}}),E=T.a.extend({name:"ChapterCollection",context:["server","section"],model:w,modelId:e=>e.id+"_"+e.index}),N=s.a.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:o.a.integer,at:o.a.integer,tag:o.a.string,venue:o.a.string,city:o.a.string,country:o.a.string,url:o.a.string}}),x=T.a.extend({name:"ConcertCollection",context:["server","section"],model:N}),A=a("EOo7"),L=a("Qxpn"),k=a("Tz6u"),R=a("w3ZG"),z={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,source:!0,Context:!0,file:!0,summary:!0,tagline:!0,action:!0,attributionLogo:!0,backgroundColor:!0};function U(e){var t=0;if(!e)return t;for(var a=0,i=e.length;a<i;a++){var r=e[a].Part;if(r)for(var n=0,s=r.length;n<s;n++){var o=r[n].Stream;o&&(t+=o.length)}}return t}function V(e=[]){return Object(L.a)(e,R.a,e=>e)}function B(e,t,a){if(a&&!t)return a;var i,r=(i=a||t)&&i.some(e=>e.protocol===k.a)||function(e){return e&&e.some(e=>"livetv"===e.origin)}(a||t)?function(e,t){if(!t)return null;var a=V(e),i=V(t),r=Object.assign({},a,i);for(var n in a){var s,o,l,c,d,u,p,h,m=a[n],v=i[n];m&&v&&m.Overlay.length&&!v.Overlay.length&&(r[n]=Object.assign({},r[n],{Overlay:m.Overlay}));var g=null!=(s=null==m?void 0:null==(o=m.Part)?void 0:null==(l=o[0])?void 0:null==(c=l.Stream)?void 0:c.length)?s:0,y=null!=(d=null==v?void 0:null==(u=v.Part)?void 0:null==(p=u[0])?void 0:null==(h=p.Stream)?void 0:h.length)?d:0;m&&v&&g>y&&(r[n]=Object.assign({},r[n],{Part:m.Part}))}return Object.keys(r).map(e=>r[e])}(t,a):function(e,t){var a=U(t),i=U(e);return a||!i?t:e}(t,a);return r||Object(A.a)(e,t,a)}function F(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}function H(e,t){t.forEach(t=>{null!=(null==e?void 0:e[t])&&"string"!=typeof e[t]&&(e[t]=e[t].toString())})}var _=s.a.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:C.g,entityID(e=this.state){var t;if(e.source){var{serverIdentifier:a}=Object(y.a)(e.source);a!==this.server.get("machineIdentifier")&&(t=Object(M.a)(C.n,a))}return Object(M.a)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new u.a,mergeStrategy:function(e,t,a){return"Media"===e?B(e,t,a):function(e){var t=Q.prototype.syncedAttrs[e];return!(!t||t!==o.a.array)}(e)?function(e,t,a){if(!a)return t;if(!t)return a;if(a.length>t.length)return a;if(!a.length||a.length<t.length)return t;var i=t&&t[0],r=a&&a[0];if(!i&&r)return a;if(!r&&i)return t;var n=F(i),s=F(r);return n&&!s?t:a}(0,t,a):function(e){return!!Q.prototype.syncedRelations[e]}(e)||z[e]?Object(A.a)(e,t,a):a},responseType(){var e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?l.c:Object(m.a)(this.server)},url(){var e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),n.join(this.get("key"),e)},urlRoot(){return this.get("key")},saveUrl(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?"/library/metadata/"+this.get("ratingKey"):r.a.result(this,"url")},cacheKey(e){var t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:o.a.boolean,isStreamChangeInProgress:o.a.boolean,isStreamDeleteInProgress:o.a.boolean,metadataState:o.a.string,mediaState:o.a.string,isSettingsUpdating:o.a.boolean,settingsUpdateError:o.a.object,dvrChannel:o.a.object,viewCountIncrementedByPlayQueueItemID:o.a.string,downloadSubscriptionID:o.a.string,isDownloaded:o.a.boolean},syncedAttrs:{elementName:o.a.string,ratingKey:o.a.string,parentRatingKey:o.a.string,grandparentRatingKey:o.a.string,key:o.a.string,childrenKey:o.a.string,Context:o.a.object,parentKey:o.a.string,grandparentKey:o.a.string,primaryExtraKey:o.a.string,augmentationKey:o.a.string,guid:o.a.string,source:o.a.string,sourceURI:o.a.string,attribution:o.a.string,attributionLogo:o.a.string,action:o.a.string,backgroundColor:o.a.string,remoteMedia:o.a.boolean,librarySectionID:o.a.string,librarySectionTitle:o.a.string,librarySectionUUID:o.a.string,librarySectionKey:o.a.string,type:o.a.string,subtype:o.a.string,title:o.a.string,titleSort:o.a.string,originalTitle:o.a.string,parentTitle:o.a.string,grandparentTitle:o.a.string,year:o.a.string,minYear:o.a.string,maxYear:o.a.string,tagline:o.a.string,summary:o.a.string,studio:o.a.string,contentRating:o.a.string,originallyAvailableAt:o.a.string,thumb:o.a.string,parentThumb:o.a.string,grandparentThumb:o.a.string,banner:o.a.string,art:o.a.string,parentArt:o.a.string,grandparentArt:o.a.string,hero:o.a.string,theme:o.a.string,parentTheme:o.a.string,grandparentTheme:o.a.string,chapterSource:o.a.string,ratingImage:o.a.string,audienceRating:o.a.float,audienceRatingImage:o.a.string,directory:o.a.boolean,rating:o.a.float,userRating:o.a.float,playbackSpeed:o.a.float,index:o.a.integer,parentIndex:o.a.integer,absoluteIndex:o.a.integer,duration:o.a.integer,preview:o.a.boolean,viewOffset:o.a.integer,viewCount:o.a.integer,childCount:o.a.integer,leafCount:o.a.integer,viewedLeafCount:o.a.integer,ratingCount:o.a.integer,mediaCount:o.a.integer,mediaCountOptimized:o.a.integer,extraType:o.a.integer,lastViewedAt:o.a.integer,lastRatedAt:o.a.integer,addedAt:o.a.integer,updatedAt:o.a.integer,deletedAt:o.a.integer,Geolocation:o.a.object,playlistID:o.a.integer,playlistType:o.a.string,specialPlaylistType:o.a.string,radio:o.a.boolean,smart:o.a.boolean,readOnly:o.a.boolean,icon:o.a.string,composite:o.a.string,content:o.a.string,durationInSeconds:o.a.integer,skipChildren:o.a.boolean,skipParent:o.a.boolean,skipDetails:o.a.boolean,subscriptionID:o.a.string,saved:o.a.boolean,picked:o.a.boolean,grandparentSubscriptionID:o.a.string,subscriptionType:o.a.string,grandparentSubscriptionType:o.a.string,Channel:o.a.array,Topic:o.a.array,onAir:o.a.boolean,watchlistedAt:o.a.integer,Media:o.a.array,Collection:o.a.array,Director:o.a.array,Producer:o.a.array,Writer:o.a.array,Studio:o.a.array,Genre:o.a.array,Mood:o.a.array,Country:o.a.array,Label:o.a.array,Role:o.a.array,Location:o.a.array,Tag:o.a.array,Autotag:o.a.array,Marker:o.a.array,indirect:o.a.boolean,Origin:o.a.object,requiresConsent:o.a.boolean,Platform:o.a.array},syncedRelations:{chapters:{relationClass:E,rootPropertyName:"Chapter",deferred:!0},preferences:{relationClass:d.a,rootPropertyName:"Preferences",deferred:!0},onDeck:()=>({relationClass:_,rootPropertyName:"OnDeck",deferred:!0}),related(){var e={skipCache:!0};return this.relatedOptions&&r.a.extend(e,this.relatedOptions),{relationClass:a("BWzY").default,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:()=>({relationClass:a("4MSa").default,rootPropertyName:"PopularLeaves",deferred:!0}),extras:()=>({relationClass:a("4MSa").default,rootPropertyName:"Extras",deferred:!0,attrs:e=>({containerKey:n.join([e.key,"extras"])})}),concerts:{relationClass:x,rootPropertyName:"Concert",deferred:!0},stations:()=>({relationClass:a("quxt").default,rootPropertyName:"Stations",deferred:!0}),transcodeSession:{relationClass:c,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier(){return this.identifier},serverEntityID(){if(!this.state)return null;var e=this.get("source");if(e){var{serverIdentifier:t}=Object(y.a)(e);return Object(M.a)(C.n,t)}return this.server?this.server.entityID():null},providerEntityID(){if(!this.state)return null;var e=this.get("source");if(e){var{providerIdentifier:t}=Object(y.a)(e);return Object(M.a)(C.k,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix(){return this.mediaTagPrefix},mediaTagVersion(){return this.mediaTagVersion},allowSync(){return this.allowSync},containerKey(){return this.containerKey},isLibraryItem(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isPlaylist(){return this.get("type")===P.m&&!this.get("radio")},isFolder(){return/\/folder\?parent=/.test(this.get("key"))},isExtra(){return!!this.get("extraType")},isPremium(){var e=this.get("Media")||[];return r.a.any(e,e=>e.premium)},hasRadioStation(){var e=this.get("stations");return!!e&&!!e.findWhere({playlistType:O.a})},hasArtistTVStation(){var e=this.get("stations");return!!e&&!!e.findWhere({playlistType:O.c})},unviewedLeafCount(){var e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl(){var e=this.get("Media");if(e&&1===e.length){var t=r.a.first(r.a.first(e).Part),a=t&&t.key;if(a)return()=>{var e=n.join(a,{download:1});return this.server.resolveUrl(e,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Studio:[],Genre:[],Mood:[],Country:[],Label:[],Topic:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[],requiresConsent:!1},fetch(e={}){return e.data&&(this._populatedParams=r.a.extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),s.a.prototype.fetch.call(this,e)},augmentResponseText:(e,t)=>t===l.c?Object(I.b)(e):e,augmentResponse(e,t){var a=e[this.rootPropertyName];if(a){Array.isArray(a)&&(a=a[0]);["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach(t=>{a[t]||(a[t]=e[t])}),e.type===P.c&&(a.dvrChannel={identifier:e.identifier||e.id,thumb:e.thumb,title:e.title,callSign:e.callSign})}this.responseContext.forEach(t=>{var i=e[t]||a&&a[t];void 0!==i&&this.setContext(t,i)});var i=a||e,n=i.Related,s=i.OnDeck,o=i.Stations,l=i.Preferences,c=this.extractChildrenKey(i.key);if(c.childrenKey&&(i.childrenKey=c.childrenKey,i.key=c.key),i.Media=this.convertMediaItems(i.Media),i.Channel=this.convertChannels(i.Channel),i.Role=this.convertRole(i.Role),i.Topic=this.convertTopics(i.Topic),i.Marker=this.convertMarkers(i.Marker),!i.source&&this.server){var d,u=Object(g.a)({providerIdentifier:null==(d=this.provider)?void 0:d.get("identifier"),serverIdentifier:this.server.get("machineIdentifier")});i.source=u,i.sourceURI=""+u+i.key}return n&&(i.RelatedHubs=r.a.compact([].concat(n.Hub,n.Directory))),s&&(i.OnDeck=s.Metadata),o&&(i.Stations=o.Metadata),l&&(i.Preferences=l.Setting),i.type===P.k&&i.childrenKey&&(i.type=P.l),i},extractChildrenKey(e){var t,a=/(.*)\/(children|items)$/.exec(e);return a&&(t=e,e=a[1]),{childrenKey:t,key:e}},convertMediaItems(e){var t=S.a.parseArray(e);return r.a.each(t,e=>{H(e,["id"]),b.a.parseBoolean(e,["indirect","optimizedForStreaming","premium","premiere","selected"]),b.a.parseInteger(e,["duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=e.container+"-"+e.protocol+"-"+e.audioCodec),b.a.parseArray(e,"Overlay"),b.a.parseArray(e,"Part"),r.a.each(e.Overlay,e=>{null!=e.duration&&(e.duration=parseInt(e.duration,10)),e.startTimeOffset=parseInt(e.startTimeOffset,10)}),r.a.each(e.Part,e=>{H(e,["id"]),null!=e.exists&&(e.exists=S.a.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=S.a.parseBoolean(e.accessible)),b.a.parseInteger(e,["duration","size"]),b.a.parseBoolean(e,"optimizedForStreaming"),b.a.parseEncodedString(e,"file"),b.a.parseArray(e,"Stream"),r.a.each(e.Stream,e=>{H(e,["id"]),b.a.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),b.a.parseInteger(e,["index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),b.a.parseFloat(e,"frameRate")})})}),this.addNoneSubtitlesStreams(t)},convertChannels(e){var t=S.a.parseArray(e);return r.a.each(t,e=>{b.a.parseBoolean(e,["followed","muted"])}),t},convertRole(e){var t=S.a.parseArray(e);return r.a.each(t,e=>{b.a.parseBoolean(e,["directory"])}),t},convertTopics(e){var t=S.a.parseArray(e);return r.a.each(t,e=>{b.a.parseBoolean(e,["followed","muted"])}),t},convertMarkers(e){var t=S.a.parseArray(e);return r.a.each(t,e=>{b.a.parseInteger(e,["endTimeOffset","startTimeOffset"])}),t},addNoneSubtitlesStreams(e){var t=j.a.get("subtitles");return e.forEach(e=>{var a=e.Part,i="livetv"===e.origin;a&&a.forEach(a=>{if(a.Stream&&(i||Object(v.a)(e))){var r=a.Stream.filter(e=>e.streamType===t.id);if(!r.find(e=>e.id===h.a)){var n=r.find(e=>e.selected),s={id:h.a,streamType:t.id,language:Object(D.default)("None")};n||(s.selected=!0),a.Stream.unshift(s)}}})}),e},getDownloadUrl(e=0){var t=this.get("Media")[e];if(t){var a=r.a.first(t.Part),i=a&&a.key;if(i){var s=n.join(i,{download:1});return this.server.resolveUrl(s,{appendToken:!0})}}},getFilepath(e=0){var t=this.get("Media")[e];if(t){var a=r.a.first(t.Part);if(a)return a.file}},getLocation(){var e=this.get("Location");return e.length?r.a.first(e).path:this.getFilepath()},getMediaKey(){var e=r.a.first(this.get("Media"));if(e){var t=r.a.first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(i=t,(a=e)?f.k(a,f.d):/^(\/sync\/[\w\d-/]*)?\/library\//.test(i));var a,i},isPlexMusicItem(){var e=this.section;return e&&e.get("agent")===p.g}}),Q=t.a=_},ReZX:function(e,t,a){e.exports={container:"ConflictItemRow-container-x4THp8"}},Rhig:function(e,t,a){e.exports={container:"HubTitleToggleHomeHubButton-container-2IqMsG",icon:"HubTitleToggleHomeHubButton-icon-1jwJTZ AddOrRemoveButton-icon-2m9zyA",button:"HubTitleToggleHomeHubButton-button-2V6cQB AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",isHidden:"HubTitleToggleHomeHubButton-isHidden-2ozuyI",isVisible:"HubTitleToggleHomeHubButton-isVisible-WlFUSh"}},Rkkp:function(e,t,a){e.exports={sectionError:"FormSectionError-sectionError-3ZuKeE",sectionErrorIcon:"FormSectionError-sectionErrorIcon--74cEl"}},Rx8e:function(e,t,a){e.exports={progress:"PosterCardOverlayProgress-progress-16k0BJ",progressTrack:"PosterCardOverlayProgress-progressTrack-3luzPK",progressBar:"PosterCardOverlayProgress-progressBar-3k291O"}},Ryf4:function(e,t,a){e.exports={form:"DVRDeviceSettingsModalContent-form-1a8dRt",container:"DVRDeviceSettingsModalContent-container-320C56",info:"DVRDeviceSettingsModalContent-info-3oNQ9g",deviceImage:"DVRDeviceSettingsModalContent-deviceImage-3ud4cE",model:"DVRDeviceSettingsModalContent-model-3qWA4s",settings:"DVRDeviceSettingsModalContent-settings-3-KyiK"}},"S+4V":function(e,t,a){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3QNr1s",label:"PrePlayDetailsGroupItem-label-1HY8Lp",content:"PrePlayDetailsGroupItem-content-23rQMx"}},"S+WG":function(e,t,a){e.exports={sidebarLink:"SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SidebarLink-iconImg-1grLXe",container:"SidebarLink-container-24bhWp",icon:"SidebarLink-icon-34JWqs",title:"SidebarLink-title-2vaAAn",children:"SidebarLink-children-3Lh_RU",spinner:"SidebarLink-spinner-3MZY0q"}},S1st:function(e,t,a){e.exports={addToSavedButton:"PodcastShowPrePlay-addToSavedButton-2aatEo",container:"PodcastShowPrePlay-container-26Mb0Y"}},S4rx:function(e,t,a){var i=a("F/us");e.exports=function(e){return function(){return e.apply(this,i.initial(arguments))}}},S5Gm:function(e,t,a){"use strict";a.d(t,"a",(function(){return l}));var i=a("EVdn"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("PW1X");function l(e,t={}){return e.get("isLocal")?function(e){return r.a.Deferred().resolve(e).promise()}(e):function(e,t={}){var{urlPath:a="",params:i={},type:n="GET"}=t,l=o.join([s.a.result(e,"url"),a]),c=o.join(l,Object.assign({},i,{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeMarkers:1,includeGeolocation:1,includeExternalMedia:1})),d=e.provider.getXHROptions(c,{type:n}),u=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),r.a.ajax(d).promise().then(t=>{e.get("own")&&"shuffle"!==a&&"unshuffle"!==a&&u&&(u!==e.get("playQueueSelectedItemID")||u!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));var i=e.get("playQueueItems"),n=e.get("currentIndex");return n>=0&&n<i.length?r.a.Deferred().resolve(e).promise():r.a.Deferred().reject("ERROR_PLAY_QUEUE_INDEX_INVALID").promise()},()=>r.a.Deferred().reject("ERROR_PLAY_QUEUE_COULD_NOT_POPULATE").promise()).always(()=>{e.set("isUpdatePending",!1)})}(e,t)}},S686:function(e,t,a){e.exports={dropFileOverlay:"ServerLogPage-dropFileOverlay-30ow04",icon:"ServerLogPage-icon-3tZH8N"}},S8DM:function(e,t,a){"use strict";t.a=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},SA0Q:function(e,t,a){var i=a("vzw/").default,r=a("S4rx");e.exports=r(i)},SBeo:function(e,t,a){"use strict";var i=a("MgzW"),r=a("kORC");e.exports=i({},r,{sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",v4CardBorderRadius:"4px",v4CardShadowSize:"4px",v4CardTitleGap:"10px",v4CardTitleHeight:"20px",v4CardCircleSize:"42px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",v4ListSpacing:"40px",v4SpotlightHeight:"350px",pagePadding:"60px",v4PagePadding:"50px",v4PagePaddingAlt:"25px",pageHeaderRowHeight:"50px",pageHeaderLeftMargin:"40px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",channelGridBorderSize:"1.5px",jumpBarCharacterHeight:"25px",jumpBarCharacterPadding:"10px",jumpBarGutter:"30px",jumpBarMargin:"10px",playCellWidth:"42px",actionsCellWidth:"122px",actionsCellPadding:"10px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",trackCellHeight:"60px",trackCellPadding:"10px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",v4PrePlayListTitleGap:"20px",v4PrePlayDividerHeight:"2px",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",dvrSetupImageWidth:"193px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:Math.round(16/9*80)+"px",playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerOverlayActionEdgeGutter:"20px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playerMediaOverlayInnerMargin:"1vw",playerMediaOverlayOuterMargin:"2vw",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px",lineupSettingChannelHeight:"40px",spotlightHubCellHeight:"324px",spotlightHubCellGap:"25px",watchTogetherLobbyPosterWidth:"260px",watchTogetherLobbyTitleHeight:"40px"})},SBmW:function(e,t,a){"use strict";t.a=function(e){return null==e||""===e?0:parseInt(e,10)}},SBxW:function(e,t,a){e.exports={menuItemContainer:"SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"SelectedMenuItem-menuLabel-2fp2lo",selectedIcon:"SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"SelectedMenuItem-isSelected-178xe1"}},SLzd:function(e,t,a){"use strict";e.exports={motionEasing:[.6,.4,.2,1.4]}},SYXp:function(e,t,a){"use strict";e.exports={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},SYtG:function(e,t,a){e.exports={agendaHeader:"AgendaHeader-agendaHeader-66Y_9t"}},SeTg:function(e,t,a){e.exports={dayOfWeek:"CalendarDayOfWeek-dayOfWeek-3dQ59f",isToday:"CalendarDayOfWeek-isToday-2rPYNP"}},SfGf:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this.escapeExpression;return s+='<a class="striped-list-item" href="#" data-key="'+o("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.key)?n.apply(t):n)+'"> <i class="glyphicon file"></i> '+o("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.title)?n.apply(t):n)+" </a> "}))},"Sgs+":function(e,t,a){"use strict";var i=a("fomp"),r=a("EVdn"),n=a.n(r),s=a("F/us"),o=a.n(s),l=(a("yDpE"),a("PW1X")),c=a("G52M"),d=a("xuTi"),u=a("cGVK"),p=(a("yYIf"),a("4/mG")),h=i.c.Collection.extend({mixins:[c.a],responseType:u.c,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return o.a.result(this,"url")},constructor:function(e,t){t||(t={}),o.a.each(this.getContext(),(function(e){var a=t[e];void 0!==a&&this.setContext(e,a)}),this);var a=o.a.result(this,"instanceOptions");if(o.a.each(a,(function(e){o.a.has(t,e)&&(this[e]=t[e])}),this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(n.a.Deferred().resolve().promise()),!this.cache||this.skipCache)return i.c.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);var r=this.cache.getItemCacheKey(this),s=this.cache.get(r);return this.uninitialize(),s||(t.onlyIfCached?{}:(i.c.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,r)))},uninitialize:function(){this.stopListening()},_initState:function(){d.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;var e=o.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each((function(a){a.setContext(e,t)})))},getState:function(){return this.state},updateState:function(){var e=this.state,t=this.getState();this.state=this.toState();var a=this.getState();return this.trigger("statechange",this,a,t),{name:this.name,previousState:e,nextState:a}},toState:function(){this.name;return this.reduce(this.reduceState,[])},reduceState:function(e,t){var a=t.getState();return a&&e.push(a),e},shouldUpdateModelState:function(e,t,a){return t!==a},sync:function(){return this.cache&&this.cache.store(this),i.c.sync.apply(this,arguments)},syncUrl:function(){var e="";if(this.url&&(e=o.a.result(this,"url")),this.path&&(e=l.join([e,o.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){var t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=l.join(e,t)}return e},parse:function(e,t){this.name;return this.convert(e)},convert:function(e){var t=e,a=o.a.result(this,"responseType");if(o.a.isString(t)&&(o.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,a)),t=a.parse(t),a===u.a&&t.MediaContainer&&(t=t.MediaContainer)),o.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,a)),Array.isArray(t))return t;var i=this.model.prototype.rootPropertyName;if(!i)return t;var r=t[i];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){e||(e=this.models);var t=o.a.result(this,"instanceOptions"),a=o.a.extend(o.a.pick(this,t),o.a.pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,a)||null},cloneDeep:function(e){e||(e=this.models);var t=o.a.map(e,(function(e){return e.clone()}));return this.clone(t)},clear:function(e){e=o.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map((function(e){return e.getSaveParams()}))},onCollectionChange:function(){p.b(this.updateState,this)},onStateChange:function(e,t,a){e!==this&&this.shouldUpdateModelState(e,t,a)&&p.b(this.updateState,this)}});t.a=h},ShFY:function(e,t,a){e.exports={alternate:"PlaylistListItem-alternate-3LodVO",container:"PlaylistListItem-container-1zf1-X",card:"PlaylistListItem-card-1lyuEQ PosterCard-card-1rN9gd",title:"PlaylistListItem-title-2aEtHh"}},SoKO:function(e,t,a){var i=a("qXTq").default,r=a("S4rx");e.exports=r(i)},SqLh:function(e,t,a){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-Ev1KGW"}},SsI7:function(e,t,a){e.exports={tagsInput:"AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",input:"AutosuggestTagsInput-input-ZG-hTQ TagsInput-input-3KDPbm"}},"Sua+":function(e,t,a){e.exports={container:"WatchTogetherPlayerParticipants-container-1DTxJ2 AudioVideoStripeContainer-container-MI02OU"}},"T/x8":function(e,t,a){"use strict";a.r(t);var i=a("Sgs+"),r=a("jejw"),n=a("DTXE"),s=r.a.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:n.a.integer,guid:n.a.string,name:n.a.string,parentGUID:n.a.string,parentName:n.a.string,type:n.a.string,index:n.a.integer,score:n.a.integer,thumb:n.a.string,year:n.a.integer,matched:n.a.boolean,disambiguation:n.a.string,area:n.a.string,beginArea:n.a.string,lifespanBegin:n.a.string,lifespanEnd:n.a.string,summary:n.a.string},syncedRelations:{children:function(){return{relationClass:a("T/x8").default,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),o=i.a.extend({name:"MatchResultCollection",context:["server"],model:s,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}});t.default=o},T2rF:function(e,t,a){e.exports={innerContent:"PrePlayMetadataListInnerContent-innerContent-2CsIzg"}},T8us:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,r="";return r+=' <li> <span class="keyboard-shortcuts-keys"> ',((a=i.each.call(e,e&&e.keys,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===a)&&(r+=a),r+=' </span> <span class="keyboard-shortcuts-label text-muted">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</span> </li> "}function p(e,t){var a,r="";return r+=" ",((a=i.if.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(4,h,t),data:t}))||0===a)&&(r+=a),r+=" ",((a=i.unless.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(6,m,t),data:t}))||0===a)&&(r+=a),r+=" ",((a=i.if.call(e,e&&e.split,{hash:{},inverse:d.noop,fn:d.program(8,v,t),data:t}))||0===a)&&(r+=a),r+=" "}function h(e,t){var a,i="";return i+=' <span class="keyboard-shortcuts-keys-plain">'+c("function"==typeof(a=e&&e.s)?a.apply(e):a)+"</span> "}function m(e,t){var a,i="";return i+=' <span class="keyboard-shortcuts-keys-key">'+c("function"==typeof(a=e&&e.s)?a.apply(e):a)+"</span> "}function v(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,"Keyboard Shortcuts",{hash:{},data:n}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((s=i.each.call(t,t&&t.groups,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var a,r="";return r+=' <h5 class="keyboard-shortcuts-header">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((a=i.each.call(e,e&&e.shortcuts,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=" </ul> "}),n),data:n}))||0===s)&&(l+=s),l+=" </div> </div> </div> "}))},TGb9:function(e,t,a){e.exports={upsell:"PlexPassUpsell-upsell-3i2JLq",iconContainer:"PlexPassUpsell-iconContainer-3uKd8W",icon:"PlexPassUpsell-icon-1r94uI",title:"PlexPassUpsell-title-3m6RLs",text:"PlexPassUpsell-text-2hF28X"}},THTr:function(e,t,a){e.exports={fileInput:"FileInput-fileInput-2okdnH",filename:"FileInput-filename-3PPxwz",noFilename:"FileInput-noFilename-sUIsdE"}},TKUo:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}function p(e,t){var a,i="";return i+=' <p class="help-block">'+c("function"==typeof(a=e&&e.summary)?a.apply(e):a)+"</p> "}function h(e,t){var a,r="";return r+=' <select id="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'"> ',((a=i.each.call(e,e&&e.enumValues,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,m,t,e),data:t}))||0===a)&&(r+=a),r+=" </select> "}function m(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,e&&e.value,i&&i.value,{hash:{},inverse:d.noop,fn:d.program(11,v,t),data:t}))||0===n)&&(s+=n),s+=">"+c("function"==typeof(n=e&&e.label)?n.apply(e):n)+"</option> "}function v(e,t){return'selected="selected"'}function g(e,t){var n,s="";return s+=' <input type="',((n=r(a("YFQD")).call(e,e&&e.option,"hidden",{hash:{},inverse:d.program(16,f,t),fn:d.program(14,y,t),data:t}))||0===n)&&(s+=n),s+='" id="input_'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+c("function"==typeof(n=e&&e.idSuffix)?n.apply(e):n)+'" class="form-control" name="'+c("function"==typeof(n=e&&e.id)?n.apply(e):n)+'" value="'+c("function"==typeof(n=e&&e.value)?n.apply(e):n)+'" ',((n=i.if.call(e,e&&e.placeholder,{hash:{},inverse:d.noop,fn:d.program(18,b,t),data:t}))||0===n)&&(s+=n),s+="> "}function y(e,t){return"password"}function f(e,t){return"text"}function b(e,t){var a,i="";return i+='placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'"'}return l+='<div class="form-group ',((o=i.if.call(t,t&&t.advanced,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"advanced-setting"}),s),data:s}))||0===o)&&(l+=o),l+='"> ',((o=r(a("YFQD")).call(t,t&&t.type,"bool",{hash:{},inverse:d.program(8,(function(e,t){var a,r="";return r+=' <label class="control-label" for="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</label> ",((a=i.if.call(e,e&&e.enumValues,{hash:{},inverse:d.program(13,g,t),fn:d.program(9,h,t),data:t}))||0===a)&&(r+=a),r+=" ",((a=i.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),fn:d.program(3,(function(e,t){var a,r="";return r+=' <label class="control-label" for="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'"> <input type="checkbox" id="input_'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+c("function"==typeof(a=e&&e.idSuffix)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.id)?a.apply(e):a)+'" value="1" ',((a=i.if.call(e,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===a)&&(r+=a),r+="> "+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+" </label> ",((a=i.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===a)&&(r+=a),r+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> "}))},TRZY:function(e,t,a){"use strict";a.r(t);var i=a("Vqpp"),r=a("A+r8"),n=a("Zybo"),s=a("xcSv");t.default=function(e){if(e.index===i.a.CONVERT_AUTOMATICALLY)return Object(r.default)("Convert Automatically");if(e.index===i.a.ORIGINAL)return Object(r.default)("Original");var t=e.bitrate||e.maxVideoBitrate,a=e.videoResolution;if(!t&&!a)return Object(r.default)("Unknown");var o=[];if(t&&o.push(Object(s.default)(t)),a&&(!t||t>=1e3)){var l=i.a.getResolutionFromSize(a);o.push(Object(n.default)(l))}var c=o.join(", ");return e.description?c+" "+e.description:c}},TYqB:function(e,t,a){"use strict";var i=a("MgzW"),r=a("RXx0");e.exports=i({},r,{v4AccentLight:"#e5a00d",v4AltLight:"#fafafa",v4AltMedium:"#a0aab1",v4AltMediumDark:"#737e87",v4AltMediumLight:"#d6dcdf",v4BaseDark:"#1f2326",v4BaseLight:"#444f56",v4BaseMediumLight:"#343a3f",v4DefaultColor:"#fafafa",v4DividerColor:"#1f2326",primaryButtonColor:"#1f2326",dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:r.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:r.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",v4CardBackgroundColor:"rgba(0, 0, 0, 0.45)",v4CardShimmerBackgroundColor:"rgba(0, 0, 0, 0.3)",v4CardShadowColor:"rgba(0, 0, 0, 0.3)",v4CardHoverBackgroundColor:"rgba(30, 30, 30, 0.6)",v4CardHoverBorderColor:"#e5a00d",recordColor:"#f53",recordHoverColor:"color(#f53 lightness(+5%))",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"color(#b32 blackness(+10%))",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridTimelineLabelColor:"#a0aab1",channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:"#343a3f",channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridOnAirBackgroundColor:"rgba(160, 170, 177, 0.1)",channelGridFinishedAiringBackgroundColor:"rgba(160, 170, 177, 0.3)",channelGridProgressColor:"rgba(160, 170, 177, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridChannelThumbBackgroundColor:"rgba(42, 49, 54, 0.5)",channelGridRecentChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.05)",channelGridChannelIdentifierBackroundColor:"rgba(42, 49, 54, 0.5)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:r.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:r.blackDarkTranslucentBackgroundColor,preplayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",preplayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)"})},Tp3C:function(e,t,a){e.exports={progressContainer:"DVRManageChannelsInfo-progressContainer-1JJ2zU",scroller:"DVRManageChannelsInfo-scroller-1mBV99 Scroller-vertical-VScFLT"}},Ty6D:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div class="loading loading-inline"></div> '}))},TyAO:function(e,t,a){"use strict";var i=a("EVdn"),r=a.n(i);t.a=function(e){var t=r.a.Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},Tz6u:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i="livetv"},"U+t5":function(e,t,a){e.exports={completeIcon:"AiringDetailsModalContent-completeIcon-38k0QF",recordingIcon:"AiringDetailsModalContent-recordingIcon-LbdQNk",errorIcon:"AiringDetailsModalContent-errorIcon-3syeNu",separator:"AiringDetailsModalContent-separator-3OQLc5 DashSeparator-separator-4CyEFW",summary:"AiringDetailsModalContent-summary-vVorLB"}},U0CT:function(e,t,a){e.exports={header:"PrePlayDisc-header-1227p8 HubCellHeader-hubCellHeader-2pvYNF"}},U0WA:function(e,t,a){e.exports={message:"DVRSetupDeviceInfoMessage-message-2ozwdN"}},U47K:function(e,t,a){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-3kexTE"}},U6V7:function(e,t,a){e.exports={hub:"MetadataSpotlightHubCell-hub-1Vj94v",iconButtonPrev:"MetadataSpotlightHubCell-iconButtonPrev-3zMbs9 IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",iconButtonNext:"MetadataSpotlightHubCell-iconButtonNext-1P0bgz IconButton-button-9An-7I MetadataSpotlightHubCell-iconButton-Q7Xlq4",cellItem:"MetadataSpotlightHubCell-cellItem-13vjSC",cellItemFade:"MetadataSpotlightHubCell-cellItemFade-LZO-q1 MetadataSpotlightHubCell-cellItem-13vjSC",dotsContainer:"MetadataSpotlightHubCell-dotsContainer-2HJJyr",iconButton:"MetadataSpotlightHubCell-iconButton-Q7Xlq4"}},UAn2:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("Sgs+"),o=a("pXVu"),l=s.a.extend({name:"SortCollection",context:["server","section","typeID"],model:o.a,url(){var e=r.a.result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,a=t?{type:t}:{};return n.join([e,"/sorts"],a)}});t.a=l},UCYk:function(e,t,a){e.exports={secureIcon:"ServerConnectionStatusIcon-secureIcon-2Rpe9G",alertIcon:"ServerConnectionStatusIcon-alertIcon-Jq_NiV",warningIcon:"ServerConnectionStatusIcon-warningIcon-2xMTpf"}},UCuc:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">',s+=(0,this.escapeExpression)((n=a.message)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.message)?n.call(t,{hash:{},data:r}):n)+"</span> "}))},UOp4:function(e,t,a){"use strict";var i={NONE:0,VAST:1,VMAP:2,VMAP_NO_PRE_ROLL:3};i.settings=[{value:i.NONE,title:"None"},{value:i.VAST,title:"Add ?debug=1 to /ad or /vmap"},{value:i.VMAP,title:"Add ?debug=1 and force /vmap"},{value:i.VMAP_NO_PRE_ROLL,title:"Add ?debug=1&debugSkipPreroll=1 and force /vmap"}],t.a=i},URCS:function(e,t,a){e.exports={sectionHeader:"FormSectionHeader-sectionHeader-3-cRhw FormLabel-label-1YNrUM"}},URkQ:function(e,t,a){e.exports={container:"LibraryFilterBuilderRow-container-2QVqaQ",rules:"LibraryFilterBuilderRow-rules-3enmeN",rule:"LibraryFilterBuilderRow-rule-2bAya1",tagsInput:"LibraryFilterBuilderRow-tagsInput-1zILxA AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",textInput:"LibraryFilterBuilderRow-textInput-3yZ-zi TextInput-input-1VMuma input-input-1P2Vi4",unitTextInput:"LibraryFilterBuilderRow-unitTextInput-38LP9b UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4",selectInput:"LibraryFilterBuilderRow-selectInput-gFMEG9 SelectInput-input-x1tNmq input-input-1P2Vi4",value:"LibraryFilterBuilderRow-value-3DsOSy",buttons:"LibraryFilterBuilderRow-buttons-3m5ptU",iconButton:"LibraryFilterBuilderRow-iconButton-1L9m0F",iconButtonDisabled:"LibraryFilterBuilderRow-iconButtonDisabled-1LPODg LibraryFilterBuilderRow-iconButton-1L9m0F"}},UT02:function(e,t,a){e.exports={isPressable:"CloseableFormSection-isPressable-3BPTnc",isClosed:"CloseableFormSection-isClosed-37Gj8w CloseableFormSection-isPressable-3BPTnc",isOpen:"CloseableFormSection-isOpen-vvIoP3"}},UVxU:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(r(a("ortX")).call(t,"There was a problem syncing this media.",{hash:{},data:s}))+'</h4> <h4><a class="try-again-link" href="#">'+l(r(a("ortX")).call(t,"Try again",{hash:{},data:s}))+"</a></h4> </div> </div> "}))},UadQ:function(e,t,a){e.exports={crossFade:"CrossFadeImage-crossFade-10Sndv"}},Uazv:function(e,t,a){e.exports={item:"NestedMenuItem-item-23kmqU",icon:"NestedMenuItem-icon-wU7kAQ",menu:"NestedMenuItem-menu-OHevMF Menu-menu-3XnN6J"}},UcbN:function(e,t,a){e.exports={list:"UserList-list-1xb8US Scroller-vertical-VScFLT"}},UcyC:function(e,t,a){"use strict";var i=a("Sgs+"),r=a("JBz7"),n=a("AG/Q"),s=a("sPbJ"),o=i.a.extend({name:"ProviderEPGChannelCollection",context:["server","provider"],model:r.a,url(){return this.provider.get("features").get(n.p).get("settings").get(s.a).get("key")}});t.a=o},Uk9b:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=a("cGVK"),s=a("0dto"),o=a("a+vp"),l=a("8gq0"),c=a("PmXU"),d=a("kkNn"),u=a("4MSa"),p=i.a.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:d.c,entityID(e=this.state){return Object(c.a)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType(){return Object(s.a)(this.server)},url(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:r.a.string,hubKey:r.a.string,hubIdentifier:r.a.string,source:r.a.string,title:r.a.string,summary:r.a.string,icon:r.a.string,thumb:r.a.string,attribution:r.a.string,type:r.a.string,subtype:r.a.string,style:r.a.string,size:r.a.integer,totalSize:r.a.integer,more:r.a.boolean,random:r.a.boolean,browse:r.a.boolean,upNext:r.a.boolean,context:r.a.string,promoted:r.a.boolean,autoAdvanceDelayMs:r.a.integer,Meta:r.a.object},syncedRelations:{metadataList:{relationClass:u.default,deferred:!0}},initialize(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:(e,t)=>t===n.c?Object(o.b)(e):e,augmentResponse(e){var t=null==e.totalSize?void 0:l.a.parseInteger(e.totalSize),a=l.a.parseInteger(e.size)||0,i=e.key||e.hubKey;return e.metadataList={containerKey:i,Metadata:e.Metadata,size:a,totalSize:t},e},onPopulatedRangeChange(e,t){var a=t.size,i=e.get("totalSize"),r={size:a};null!=i&&(r.more=i>a),this.set(r)}});t.a=p},UqSa:function(e,t,a){e.exports={prePlayContentWrapper:"PrePlayPageContent-prePlayContentWrapper-1nWdpv"}},UvU1:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("Sgs+"),s=a("0dto"),o=a("ATJK"),l=n.a.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:o.a,responseType(){return Object(s.a)(this.server)},url(){var e=r.a.result(this.section,"url")+"/firstCharacter",t=this.getUrlParams();return t?e+"?"+t:e},getUrlParams(){var e={},t=[],a=this.section.get("currentType");a&&(e.type=a.id);var i=this.section.get("currentFilters");return r.a.each(i,t=>{t.values.length&&(e[t.key]=t.values.join(","))}),r.a.each(e,(a,i)=>{"unviewedLeafCount"===i?t.push(i+">="+e[i]):t.push(i+"="+e[i])}),t.join("&")}});t.a=l},UybS:function(e,t,a){e.exports={actions:"ChannelsGridMetadataCellButtons-actions-250KmI",button:"ChannelsGridMetadataCellButtons-button-9hRMcK",playButton:"ChannelsGridMetadataCellButtons-playButton-3vgI50 PlayButton-playButton-3WX8X- ChannelsGridMetadataCellButtons-button-9hRMcK",recordButton:"ChannelsGridMetadataCellButtons-recordButton-1bSu6m RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 ChannelsGridMetadataCellButtons-button-9hRMcK"}},"V+TA":function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));function i(e){var t=new Map;return(...a)=>{var i=JSON.stringify(a);if(t.has(i))return t.get(i);var r=e(...a);return t.set(i,r),r}}},V0eM:function(e,t,a){"use strict";var i=a("Sgs+"),r=a("jejw"),n=a("DTXE"),s=r.a.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:n.a.string,title:n.a.string}}),o=i.a.extend({name:"OperatorCollection",context:["server"],model:s}),l=r.a.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:n.a.string.isRequired},syncedRelations:{operators:{relationClass:o,rootPropertyName:"Operator"}}}),c=i.a.extend({name:"MetadataTypeCollection",context:["server"],model:l});t.a=c},"VFN/":function(e,t,a){e.exports={content:"SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},VGPm:function(e,t,a){e.exports={schedulePageContent:"RecordingSchedulePageContent-schedulePageContent-2kZUqv PageContent-pageContent-16mK6G",schedulePageInnerContent:"RecordingSchedulePageContent-schedulePageInnerContent-1wYEsP PageContent-innerPageContent-3ktLTA",emptyDescription:"RecordingSchedulePageContent-emptyDescription-2Oudls EmptyPageDescription-description-DhEtaD"}},VGQb:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i="cast",r="plex"},VIuC:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=i.a.extend({name:"QueryRuleModel",syncedAttrs:{field:r.a.string,fieldTitle:r.a.string,value:r.a.string,valueTitle:r.a.string,operator:r.a.string,type:r.a.string},syncedRelations:{rules:()=>({relationClass:a("gJgX").default,rootPropertyName:"Rule",deferred:!0})}});t.a=n},VO0v:function(e,t,a){var i=a("PW1X").getLastSegment,r=a("S4rx");e.exports=r(i)},VOGa:function(e,t,a){e.exports={input:"NumberInputGroup-input-yz7KYn TextInput-input-1VMuma input-input-1P2Vi4"}},VSHZ:function(e,t,a){"use strict";var i=a("17x9"),r=a.n(i),n={type:r.a.number.isRequired},s=r.a.exact(Object.assign({},n,{id:r.a.string.isRequired,mapping:r.a.string.isRequired,index:r.a.number.isRequired})),o=r.a.exact(Object.assign({},n));r.a.oneOfType([o,s])},VTB1:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:n}))+"</p> "}))},VUbF:function(e,t,a){e.exports={isActive:"LiveTVCurrentChannel-isActive-2DTwmD",icon:"LiveTVCurrentChannel-icon-17SlvD"}},VVyF:function(e,t,a){e.exports={modalContainer:"SubtitlesModalContent-modalContainer-3B7OAM",modalBody:"SubtitlesModalContent-modalBody-3sIFen ModalBody-modalBody--5uHSu",inputs:"SubtitlesModalContent-inputs-b332_W",languageInput:"SubtitlesModalContent-languageInput-10IPxN SelectInput-input-x1tNmq input-input-1P2Vi4",titleInput:"SubtitlesModalContent-titleInput-sGHLRX TextInput-input-1VMuma input-input-1P2Vi4",centeredContainer:"SubtitlesModalContent-centeredContainer-2fFRIV"}},VYcH:function(e,t,a){e.exports={container:"HeroImg-container-vFZw-F"}},VfUD:function(e,t,a){e.exports={modalScroller:"ModalContentCenter-modalScroller-3cd-bo ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalContentCenter-innerModalBody-3jQ5IS ModalBody-innerModalBody-36gmbf"}},VjkR:function(e,t,a){e.exports={iconContainer:"NavBarActivityIcon-iconContainer-24xhXd",icon:"NavBarActivityIcon-icon-VJ4m73",activityIndicator:"NavBarActivityIcon-activityIndicator-3asEGT Spinner-spinner-Niere7 spin-spin-2kLwt_"}},Vl58:function(e,t,a){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-umTpyG SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-3sWTgU SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-k12hYZ Spinner-spinner-Niere7 spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-1HwbQK SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-3uWkOw"}},VpnA:function(e,t,a){e.exports={seekBarFill:"AdSeekBar-seekBarFill-1Qc6we SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs"}},Vqpp:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("a+iW"),s=a("nIWF"),o=r.a.extend({},s.a,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor(e,t,a){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];var i=t.get("transcoderVideo"),s=t.get("transcoderVideoRemuxOnly"),o=this.getMaximumResolution(e);if(!i||s||!o)return[];var l=t.get("maxUploadBitrate"),c=r.a.extend({},a,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;var t=this.qualities.videoResolution[e].split("x");return Object(n.a)(t[0],t[1])>o}});return this.getAvailableQualities(c)},getBestAvailableQuality:function(e,t){return 0===t.length?o.ORIGINAL:t.find(t=>t.index===e.index)?e.index:r.a.last(t).index},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===o.ORIGINAL?Number.MAX_VALUE:e)<(t===o.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce((function(e,t){if(!t.width&&!t.height)return e;var a=Object(n.a)(t.width,t.height);return null===e||a>e?a:e}),null)},isExplicitQuality:function(e){return e!==o.ORIGINAL&&e!==o.CONVERT_AUTOMATICALLY}});t.a=o},VqzW:function(e,t,a){e.exports={bar:"BarChart-bar-TGQuuG",translucentBar:"BarChart-translucentBar-g8W7OB BarChart-bar-TGQuuG",legendContainer:"BarChart-legendContainer-1LFnsF",legendLabels:"BarChart-legendLabels-10gpog",legendSummary:"BarChart-legendSummary-OWb0ex",legendLabel:"BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"BarChart-translucentLegendLabel-25PxUk BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},VyHN:function(e,t,a){e.exports={multiVersionBadge:"MultiVersionBadge-multiVersionBadge-3jppyB Badge-badge-3I6Kzp"}},"W+Vb":function(e,t,a){e.exports={modalBody:"ModalBody-modalBody--5uHSu",modalScroller:"ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalBody-innerModalBody-36gmbf"}},"W/pu":function(e,t,a){e.exports={row:"UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt"}},"W/xp":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(o=t&&t.locked,null==o||!1===o?o:o.director)},data:s}))+' </div> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(o=t&&t.locked,null==o||!1===o?o:o.country)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(o=t&&t.locked,null==o||!1===o?o:o.writer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Producers",name:"producer",attribute:"producers",locked:(o=t&&t.locked,null==o||!1===o?o:o.producer)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},"W0/C":function(e,t,a){"use strict";var i=a("MgzW"),r=a("SYXp");e.exports=i({},r,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"})},W0Xf:function(e,t,a){e.exports={button:"HeroButton-button-2QeC3T Button-button-2kT68l Link-link-2n0yJn"}},W2rq:function(e,t,a){e.exports={measure:"Subtitles-measure-3cYuWS",renderer:"Subtitles-renderer-12VzSU"}},W4O6:function(e,t,a){e.exports={tooltip:"DirectoryListActions-tooltip-24n8Za Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",menu:"DirectoryListActions-menu-64VTkz Menu-menu-3XnN6J"}},W6Nc:function(e,t,a){e.exports={decoratorIconContainer:"MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",decoratorIcon:"MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},WEzZ:function(e,t,a){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-3vf6d-"}},WGvO:function(e,t,a){e.exports={link:"PageHeaderBreadcrumbButton-link-30Jgzu",button:"PageHeaderBreadcrumbButton-button-ZRyx6_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},WGyR:function(e,t,a){e.exports={dragSource:"ReorderSourceSidebarItem-dragSource-ZtIKSO",iconReorder:"ReorderSourceSidebarItem-iconReorder-1pLGE5"}},WQVZ:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},Wdw6:function(e,t,a){e.exports={img:"AttributionLogo-img-SU4X0b"}},Wi4N:function(e,t,a){e.exports={splitButton:"ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",activityTitleContainer:"ActivityMenuStatusItem-activityTitleContainer-1KXytt",activityTitle:"ActivityMenuStatusItem-activityTitle-v72dUV",activitySubtitle:"ActivityMenuStatusItem-activitySubtitle-3uOyHy"}},Wks2:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((o="function"==typeof(o=t&&t.iconPlexChevron)?o.apply(t):o)||0===o)&&(l+=o),l+=" "+d(r(a("ortX")).call(t,"Plex Media Server Downloads",{hash:{},data:s}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((o=i.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var i,n="";return n+=' <li><a class="btn-gray show-pane-btn type-btn',((i=r(a("YFQD")).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===i)&&(n+=i),n+='" href="#" data-pane="'+d("function"==typeof(i=e&&e.id)?i.apply(e):i)+'">'+d("function"==typeof(i=e&&e.name)?i.apply(e):i)+"</a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '}))},WlON:function(e,t,a){var i=a("4t+/").default,r=a("S4rx");e.exports=r(i)},WlSR:function(e,t,a){e.exports={container:"QuickSearchInput-container-1HiCoN",focused:"QuickSearchInput-focused-3rEqJC",searchIcon:"QuickSearchInput-searchIcon-38PAh5",closeIcon:"QuickSearchInput-closeIcon-3ZiORN",searchInput:"QuickSearchInput-searchInput-3m6naA"}},WpEi:function(e,t,a){"use strict";function i(e){return e>0?e+" kbps":""}a.d(t,"a",(function(){return i}))},WpwJ:function(e,t,a){e.exports={badge:"PrePlayInWatchlist-badge-3Rvpy4 Badge-badge-21NQRi",icon:"PrePlayInWatchlist-icon-1ZGHqm"}},WqrE:function(e,t,a){e.exports={extendedTitle:"AudioStreamMenu-extendedTitle-Xhtpm4"}},WtXS:function(e,t,a){e.exports={link:"Link-link-2n0yJn",default:"Link-default-2XA2bN",primary:"Link-primary-1vcAGA",success:"Link-success-oE5mZt",danger:"Link-danger-58vt6Z",dark:"Link-dark-2Q58AO",small:"Link-small-_K-QDf",medium:"Link-medium-3gAfLz",large:"Link-large-3a4C4d",isSelected:"Link-isSelected-IRm9uM"}},"X++g":function(e,t,a){e.exports={container:"ModalError-container-2Xi_KZ",icon:"ModalError-icon-3Drvp-",message:"ModalError-message-20i4q-"}},X4XD:function(e,t,a){e.exports={actionButton:"ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",labeledActionButton:"ActionButton-labeledActionButton-2JSwRp ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"ActionButton-icon-3yhx5u",iconActionButton:"ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",tooltip:"ActionButton-tooltip-z3GJhd Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY"}},X8Qt:function(e,t,a){e.exports={header:"SettingsSidebarList-header-1RCToc SidebarList-sidebarListHeader-1t0yzs"}},XBZo:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="match-empty-message">'+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"No matches found.",{hash:{},data:n}))+"</div> "}))},XOYs:function(e,t,a){e.exports={label:"FormLabel-label-2aLJ9b",hasError:"FormLabel-hasError-3DBzXd"}},XQST:function(e,t,a){e.exports={watchlistIcon:"EmptyDirectoryPageContent-watchlistIcon-2WvnK-"}},Xa5i:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Settings",{hash:{},data:t}))+" "}function p(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Plex Pass Required",{hash:{},data:t}))+" "}),s),fn:d.program(1,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Internet Required",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "}),s),fn:d.program(5,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Ignore",{hash:{},data:s}))+"</button> ",((o=i.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,(function(e,t){var a,r="";return r+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c("function"==typeof(a=e&&e.serverSettingsRoute)?a.apply(e):a)+'"> ',((a=i.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,p,t),fn:d.program(12,u,t),data:t}))||0===a)&&(r+=a),r+=" </a> "}),s),fn:d.program(9,(function(e,t){var i="";return i+=' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(r(a("ortX")).call(e,"OK",{hash:{},data:t}))+"</button> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},Xf7Z:function(e,t,a){e.exports={loadingMessage:"PrePlayDetailsStreamsGroup-loadingMessage-27_ndH"}},"Xi+k":function(e,t,a){"use strict";function i(e,t){return e.get("ui").get(t+"Player")}function r(e,t){var a=e.get("ui").get("audioVideoPlayer").get("playQueue"),i=e.get("ui").get("photoPlayer").get("playQueue");return a&&a.get("playQueueID")===t?a:i&&i.get("playQueueID")===t?i:void 0}function n(e,t){var a=e.get("playQueue");if(a){var i=a.get("playQueueItems");if(!(t<0||t>=i.length))return i.at(t)}}a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"a",(function(){return n}))},XrH1:function(e,t,a){e.exports={upsell:"ServerDashboardPageUpsell-upsell-2u8wpO",description:"ServerDashboardPageUpsell-description-2mfh7a",chartImageContainer:"ServerDashboardPageUpsell-chartImageContainer-3qDzxo",listImageContainer:"ServerDashboardPageUpsell-listImageContainer-3P6rw7",image:"ServerDashboardPageUpsell-image-3Uhv_c",button:"ServerDashboardPageUpsell-button-3G-4Xc Link-link-2ew_DK"}},Xrwt:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((o=i.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(r(a("ortX")).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(r(a("ortX")).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '}))},"Xs/E":function(e,t,a){e.exports={help:"FormHelp-help-3VCuqa"}},XyZL:function(e,t,a){"use strict";function i(...e){return e.filter(e=>!!e).join("--")}a.d(t,"a",(function(){return i}))},XzZp:function(e,t,a){e.exports={channel:"DVRSetupDeviceChannel-channel-3Z90sR",channelIdentifier:"DVRSetupDeviceChannel-channelIdentifier-1EqGb3",signalStrength:"DVRSetupDeviceChannel-signalStrength-2Jp2fk SignalStrength-signalStrength-33wP3p"}},Xznh:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(r(a("ortX")).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function p(e,t){var a;return(a=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.program(12,g,t),fn:d.program(7,h,t),data:t}))||0===a?a:""}function h(e,t){var n,s="";return s+=' <h4 class="status-header text-danger">'+c(r(a("ortX")).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((n=i.if.call(e,e&&e.isSignedOut,{hash:{},inverse:d.program(10,v,t),fn:d.program(8,m,t),data:t}))||0===n)&&(s+=n),s+=" "}function m(e,t){var i="";return i+=' <span class="status-description help-block">'+c(r(a("ortX")).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function v(e,t){var i="";return i+=' <span class="status-description help-block">'+c(r(a("ortX")).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(r(a("ortX")).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function g(e,t){var n,s="";return s+=" ",((n=r(a("YFQD")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"unreachable",{hash:{},inverse:d.program(19,S,t),fn:d.program(13,y,t),data:t}))||0===n)&&(s+=n),s+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(r(a("ortX")).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((n=i.if.call(e,null==(n=e&&e.mappingModeSetting)||!1===n?n:n.value,{hash:{},inverse:d.noop,fn:d.program(21,M,t),data:t}))||0===n)&&(s+=n),s+=" "}function y(e,t){var i,n="";return n+=' <h4 class="status-header text-danger">'+c(r(a("ortX")).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(r(a("ortX")).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((i=r(a("YFQD")).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.mappingError,"jumboframes",{hash:{},inverse:d.program(16,b,t),fn:d.program(14,f,t),data:t}))||0===i)&&(n+=i),n+=" "}function f(e,t){var i="";return i+=' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(r(a("ortX")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(r(a("ortX")).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function b(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.mappingError,"doublenat",{hash:{},inverse:d.noop,fn:d.program(17,I,t),data:t}))||0===i?i:""}function I(e,t){var i="";return i+=' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(r(a("ortX")).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(r(a("ortX")).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function S(e,t){var i="";return i+=' <h4 class="status-header text-success">'+c(r(a("ortX")).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(r(a("ortX")).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function M(e,t){var i="";return i+=' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(r(a("ortX")).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function C(e,t){var n,s="";return s+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((n=i.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===n)&&(s+=n),s+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(r(a("ortX")).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((n=i.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:d.program(29,O,t),fn:d.program(27,P,t),data:t}))||0===n)&&(s+=n),s+=" </span> ",((n=i.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(33,T,t),fn:d.program(31,j,t),data:t}))||0===n)&&(s+=n),s+=' <span class="mapping-label text-muted">'+c(r(a("ortX")).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((n=i.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:d.program(29,O,t),fn:d.program(35,w,t),data:t}))||0===n)&&(s+=n),s+=" </span> ",((n=r(a("YFQD")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"ok",{hash:{},inverse:d.program(33,T,t),fn:d.program(31,j,t),data:t}))||0===n)&&(s+=n),s+=' <span class="mapping-internet ',((n=r(a("ypsy")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"ok",{hash:{},inverse:d.noop,fn:d.program(37,E,t),data:t}))||0===n)&&(s+=n),s+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(r(a("ortX")).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((n=i.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:d.noop,fn:d.program(39,N,t),data:t}))||0===n)&&(s+=n),s+=" </div> "}function D(e,t){return"advanced-setting"}function P(e,t){var a,i="";return i+=' <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.privateAddress)?a.apply(e):a)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.privatePort)?a.apply(e):a)+"</span> "}function O(e,t){var i="";return i+=' <span class="mapping-empty-value">'+c(r(a("ortX")).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function j(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function T(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function w(e,t){var a,i="";return i+=' <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.publicAddress)?a.apply(e):a)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c("function"==typeof(a=null==(a=e&&e.cloudAccount)||!1===a?a:a.publicPort)?a.apply(e):a)+"</span> "}function E(e,t){return"unreachable"}function N(e,t){var n,s="";return s+=' <div class="remote-access-error-container ',((n=i.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:d.noop,fn:d.program(25,D,t),data:t}))||0===n)&&(s+=n),s+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((n=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===n)&&(s+=n),s+='"> <input type="checkbox" id="'+c("function"==typeof(n=null==(n=e&&e.mappingModeSetting)||!1===n?n:n.id)?n.apply(e):n)+'" name="'+c("function"==typeof(n=null==(n=e&&e.mappingModeSetting)||!1===n?n:n.id)?n.apply(e):n)+'" value="1" ',((n=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,null==(n=e&&e.mappingModeSetting)||!1===n?n:n.value,{hash:{},inverse:d.noop,fn:d.program(42,A,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c("function"==typeof(n=null==(n=e&&e.mappingPortSetting)||!1===n?n:n.id)?n.apply(e):n)+'" name="'+c("function"==typeof(n=null==(n=e&&e.mappingPortSetting)||!1===n?n:n.id)?n.apply(e):n)+'" class="form-control" value="'+c("function"==typeof(n=null==(n=e&&e.mappingPortSetting)||!1===n?n:n.value)?n.apply(e):n)+'" ',((n=i.unless.call(e,e&&e.canEditPort,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===n)&&(s+=n),s+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((n=i.if.call(e,e&&e.isUnavailable,{hash:{},inverse:d.noop,fn:d.program(40,x,t),data:t}))||0===n)&&(s+=n),s+='> <div class="loading loading-sm"></div> <span class="btn-label">',((n=r(a("YFQD")).call(e,null==(n=e&&e.cloudAccount)||!1===n?n:n.remoteAccessState,"unreachable",{hash:{},inverse:d.program(46,k,t),fn:d.program(44,L,t),data:t}))||0===n)&&(s+=n),s+='</span> </button> </div> <p class="help-block">'+c(r(a("ortX")).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function x(e,t){return"disabled"}function A(e,t){return"checked"}function L(e,t){return c(r(a("ortX")).call(e,"Retry",{hash:{},data:t}))}function k(e,t){return c(r(a("ortX")).call(e,"Apply",{hash:{},data:t}))}function R(e,t){return"show-warning"}function z(e,t){var a;return c("function"==typeof(a=e&&e.totalRateSettingValue)?a.apply(e):a)}function U(e,t){var i="";return i+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((o=r(a("YFQD")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.program(3,(function(e,t){var i;return(i=r(a("YFQD")).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"disconnecting",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===i?i:""}),s),fn:d.program(1,(function(e,t){var i="";return i+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(r(a("ortX")).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=r(a("ypsy")).call(t,null==(o=t&&t.cloudAccount)||!1===o?o:o.remoteAccessState,"connecting",{hash:{},inverse:d.noop,fn:d.program(23,(function(e,t){var i,n="";return n+=" ",((i=r(a("ypsy")).call(e,null==(i=e&&e.cloudAccount)||!1===i?i:i.remoteAccessState,"disconnecting",{hash:{},inverse:d.noop,fn:d.program(24,C,t),data:t}))||0===i)&&(n+=i),n+=" "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:d.noop,fn:d.program(48,(function(e,t){var n,s="";return s+=' <div class="remote-access-upload-container ',((n=i.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(49,R,t),data:t}))||0===n)&&(s+=n),s+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(r(a("ortX")).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(r(a("ortX")).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c("function"==typeof(n=e&&e.totalRateSettingID)?n.apply(e):n)+'" name="'+c("function"==typeof(n=e&&e.totalRateSettingID)?n.apply(e):n)+'" class="remote-access-upload-speed-control form-control" value="',((n=i.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:d.noop,fn:d.program(51,z,t),data:t}))||0===n)&&(s+=n),s+='" > '+c(r(a("ortX")).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(r(a("ortX")).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(r(a("ortX")).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((n=i.each.call(e,e&&e.uploadSettings,{hash:{},inverse:d.noop,fn:d.program(53,U,t),data:t}))||0===n)&&(s+=n),s+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},"Y/9r":function(e,t,a){e.exports={recordButton:"RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},Y0bH:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(r(a("ortX")).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:s}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(o=t&&t.dvrSettingsRoute)?o.apply(t):o)+'">'+c(r(a("ortX")).call(t,"Learn more",{hash:{},data:s}))+"</a> "}))},Y103:function(e,t,a){e.exports={controlsHiddenLinesCount:"ServerLogPageHeader-controlsHiddenLinesCount-2RVYnd",rawButton:"ServerLogPageHeader-rawButton-b0m7AG"}},Y52O:function(e,t,a){e.exports={divider:"PrePlayDivider-divider-1qvbj9"}},Y6zh:function(e,t,a){e.exports={statusContainer:"MetadataPosterCardScanStatus-statusContainer-1t1-fw",spinnerContainer:"MetadataPosterCardScanStatus-spinnerContainer-_dUnLM",spinner:"MetadataPosterCardScanStatus-spinner-3Ztm7W Spinner-spinner-1qRM4t spin-spin-2kLwt_",trashCircle:"MetadataPosterCardScanStatus-trashCircle-1dwTLp MetadataPosterCardCircle-cardCircle-2NfIyT"}},Y7Bh:function(e,t,a){e.exports={container:"PrePlayDetailsContainer-container-1oBwsq"}},Y9Bx:function(e,t,a){e.exports={loadingItem:"MetadataTableRowLoading-loadingItem-2g4_QI",alternateLoadingItem:"MetadataTableRowLoading-alternateLoadingItem-3U7fuh MetadataTableRowLoading-loadingItem-2g4_QI"}},YDKO:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"g",(function(){return n})),a.d(t,"r",(function(){return s})),a.d(t,"d",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"q",(function(){return c})),a.d(t,"p",(function(){return d})),a.d(t,"e",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"j",(function(){return h})),a.d(t,"k",(function(){return m})),a.d(t,"i",(function(){return v})),a.d(t,"l",(function(){return g})),a.d(t,"n",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"m",(function(){return b})),a.d(t,"h",(function(){return I}));var i="PLAY",r="PAUSE",n="SEEK",s="STOP",o="PREVIOUS",l="NEXT",c="SKIPTO",d="SHOWDETAILS",u="REFRESHPLAYQUEUE",p="REFRESHSTREAMS",h="SETREPEAT",m="SETSTREAM",v="SETQUALITY",g="SETSUBTITLECOLOR",y="SETSUBTITLEPOSITION",f="SETSUBTITLESIZE",b="SETSUBTITLEOFFSET",I="SETAUTOPLAY"},YEnZ:function(e,t,a){"use strict";t.a=function(e){return 1===Number(e)||"true"===e}},YFI5:function(e,t,a){e.exports={container:"SelectNavigationStep-container-17SG3E FirstRunExperienceActionsContainer-container-1Uv1FY",input:"SelectNavigationStep-input-2MiKPn CheckInput-input-1Pi_2g"}},YFQD:function(e,t){e.exports=function(e,t,a){return e===t?a.fn(this):a.inverse(this)}},"YJ/b":function(e,t,a){e.exports={toolbarContainer:"measuredPageHeaderToolbar-toolbarContainer-24LrJ0 Measure-container-3yONEe",toolbar:"measuredPageHeaderToolbar-toolbar-2vtgM4"}},YRs7:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var i="";return i+=' <option value="">'+c(r(a("ortX")).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+c(r(a("ortX")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+c(r(a("ortX")).call(t,"Agent",{hash:{},data:s}))+'</label> <select id="match-search-agent" name="agent"> ',((o=i.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,p,s),fn:d.program(1,(function(e,t){var a,r="";return r+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" ',((a=i.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=">"+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+c(r(a("ortX")).call(t,"Year",{hash:{},data:s}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.year)?o.apply(t):o)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+c(r(a("ortX")).call(t,"Language",{hash:{},data:s}))+'</label> <select id="match-search-language" name="language"> ',((o=i.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,p,s),fn:d.program(6,(function(e,t){var a,i="";return i+=' <option value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.label)?a.apply(e):a)+"</option> "}),s),data:s}))||0===o)&&(l+=o),l+=" </select> </div> </div> </div> "}))},"YSW/":function(e,t,a){"use strict";var i=a("g0Do"),r=a("jejw"),n=a("DTXE"),s=a("xuTi"),o=a("RcYF"),l=a("w3ZG"),c=a("8gq0"),d=a("PmXU"),u=a("kkNn"),p=a("MLhB"),h=r.a.extend({name:"MediaGrabOperationModel",context:["server","provider"],rootPropertyName:"MediaGrabOperation",syncedAttrs:{mediaSubscriptionID:n.a.string,provider:n.a.string,identifier:n.a.string,mediaIndex:n.a.integer,channelTitle:n.a.string,status:n.a.string,error:n.a.string,linkedKey:n.a.string,key:n.a.string,rolling:n.a.boolean},sessionAttrs:{isLibraryMetadataItemPending:n.a.boolean,isLibraryMetadataItemPopulated:n.a.boolean,libraryMetadataItemError:n.a.object},syncedRelations:{metadataItem:{relationClass:o.a,rootPropertyName:"Metadata"},conflicts:()=>({relationClass:a("wQNq").default,deferred:!0})},sessionRelations:{libraryMetadataItem:{relationClass:o.a,deferred:!0}},derivedAttrs:{mediaItem(){var e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt(){var e=this.get("mediaItem");return e&&e.beginsAt},endsAt(){var e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse(e){var t=e;if(t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),!s.a.shouldCreateStateTree)return t;var a=t.Metadata,r=c.a.parseArray(a.Media),n=c.a.parseInteger(t.mediaIndex),o=Object(d.a)(u.g,a.key,this.server.entityID()),h=Object(i.c)("appModel"),m=Object(p.a)(h,u.g,o);if(m){var v=m.get("Media").map(l.a),g=r.map(l.a)[n],y=v.findIndex(e=>g===e);t.mediaIndex=-1!==y?y:n+v.length}return t}});t.a=h},YVMD:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t,a,r){var n,s="";return s+=' <li><a href="'+c("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" ',((n=i.if.call(e,r&&r.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,r&&r.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,h,t,a),data:t}))||0===n)&&(s+=n),s+=' class="download-btn">'+c("function"==typeof(n=e&&e.label)?n.apply(e):n)+"</a></li> "}function p(e,t){return"download"}function h(e,t,a){var i,r="";return r+='target="'+c("function"==typeof(i=a&&a.target)?i.apply(e):i)+'"'}function m(e,t,a,r){var n,s="";return s+=' <a href="'+c("function"==typeof(n=e&&e.url)?n.apply(e):n)+'" ',((n=i.if.call(e,r&&r.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,p,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,r&&r.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,h,t,a),data:t}))||0===n)&&(s+=n),s+=' class="btn btn-primary download-btn">'+c("function"==typeof(n=e&&e.label)?n.apply(e):n)+"</a> "}return l+='<div class="type-'+c("function"==typeof(o=t&&t.type)?o.apply(t):o)+" platform-logo platform-"+c("function"==typeof(o=t&&t.id)?o.apply(t):o)+'"></div> <h2><strong>'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+"</strong> "+c(r(a("ortX")).call(t,"Download",{hash:{},data:s}))+"</h2> <h5>"+c(r(a("ortX")).call(t,"Version",{hash:{},data:s}))+" "+c("function"==typeof(o=t&&t.version)?o.apply(t):o)+"</h5> <h5>"+c(r(a("SA0Q")).call(t,t&&t.date,{hash:{},data:s}))+'</h5> <div class="more-info"> ',((o=i.if.call(t,t&&t.requirements,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var i,n="";return n+="<p>"+c(r(a("ortX")).call(e,"Requirements",{hash:{},data:t}))+": ",((i="function"==typeof(i=e&&e.requirements)?i.apply(e):i)||0===i)&&(n+=i),n+="</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.info,{hash:{},inverse:d.noop,fn:d.program(3,(function(e,t){var a,i="";return i+="<p>",((a="function"==typeof(a=e&&e.info)?a.apply(e):a)||0===a)&&(i+=a),i+="</p>"}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:d.programWithDepth(11,(function(e,t,a){var r,n="";return n+=' <div class="download-server-btn-group"> ',((r=i.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(12,m,t,e,a),data:t}))||0===r)&&(n+=r),n+=" </div> "}),s,t),fn:d.programWithDepth(5,(function(e,t,n){var s,o="";return o+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(r(a("ortX")).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((s=i.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(6,u,t,e,n),data:t}))||0===s)&&(o+=s),o+=" </ul> </div> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" "}))},YWAx:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((o=i.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Save Changes",{hash:{},data:s}))+'</span> </button> <span class="form-message"></span> </div> </form> '}))},YYNq:function(e,t,a){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1Rc92F"}},YZZ6:function(e,t,a){e.exports={episodeCount:"EPGPrePlayEpisodeCountLeftTitle-episodeCount-1Ae4n- EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},Yc8G:function(e,t,a){e.exports={listModalItem:"ListModalItem-listModalItem-3SDr-X"}},YeIk:function(e,t,a){e.exports={refreshingSpinner:"ProgramGuideActivityStatus-refreshingSpinner-30DBlM"}},Ygol:function(e,t,a){e.exports={listItem:"HomeHubListItem-listItem-3aSc2w",label:"HomeHubListItem-label-1g_Fbz",title:"HomeHubListItem-title-3xEA84",isRemoved:"HomeHubListItem-isRemoved-HpH7U3",iconReorder:"HomeHubListItem-iconReorder-1GrJsE",toggleButton:"HomeHubListItem-toggleButton-2C4qs1 AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I"}},YhBC:function(e,t,a){e.exports={popularTracksHubCell:"PrePlayPopularTracks-popularTracksHubCell-Q0N9bz HubCell-hubCell-3Ys175"}},YhIo:function(e,t,a){e.exports={slideContainer:"SlideImg-slideContainer-2XcH9x",statusContainer:"SlideImg-statusContainer-2GP9ql fadeIn-fadeIn-3S08eh"}},Ynln:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((o=i.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"active"}),s),data:s}))||0===o)&&(l+=o),l+='"> <i class="label-icon glyphicon upload"></i> '+c(r(a("ortX")).call(t,"Check for Updates",{hash:{},data:s}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(r(a("ortX")).call(t,"Checking for Updates",{hash:{},data:s}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(r(a("ortX")).call(t,"Download Updates",{hash:{},data:s}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(r(a("ortX")).call(t,"Downloading Update",{hash:{},data:s}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(r(a("ortX")).call(t,"Install Update",{hash:{},data:s}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(r(a("ortX")).call(t,"Installing",{hash:{},data:s}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(r(a("ortX")).call(t,"Up to date",{hash:{},data:s}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(r(a("ortX")).call(t,"Please install manually.",{hash:{},data:s}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(r(a("ortX")).call(t,"What's New",{hash:{},data:s}))+" </a> "}))},YoL5:function(e,t,a){e.exports={container:"PlaylistList-container-2136l_",scroller:"PlaylistList-scroller-3AXYYS VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},YuNx:function(e,t,a){e.exports={scroller:"Scroller-scroller-3GqQcZ",none:"Scroller-none-3GfKRp",vertical:"Scroller-vertical-VScFLT",auto:"Scroller-auto-LsWiWx",horizontal:"Scroller-horizontal-cOKsqj",omni:"Scroller-omni-2Pq3HR",compactScroller:"Scroller-compactScroller-rzREb6"}},Yx3T:function(e,t,a){e.exports={button:"AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",icon:"AddOrRemoveButton-icon-2m9zyA",iconRemovable:"AddOrRemoveButton-iconRemovable-3pNZ1z AddOrRemoveButton-icon-2m9zyA"}},YxVA:function(e,t,a){e.exports={input:"InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4"}},"Z/P6":function(e,t,a){"use strict";var i=a("G4qV"),r=a("+3Mv"),n=Object(i.a)(r.a,e=>e.experienceSettings);t.a=n},Z0Xd:function(e,t,a){"use strict";var i=a("EVdn"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("jQ5Z"),l=a("bErN"),c=o.a.extend({mixins:l.a,initialize(e={}){e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),s.a.each(this.interface,e=>{this[e]=s.a.bind(this._proxy,this,e)})},_proxy(e,...t){return this.getInstance()[e](...t)},register(e,t={}){this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce(e){if(!this.hasInstance()){var t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious(){this._previousInstance&&this.register(this._previousInstance)},registered(){var e=r.a.Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance(){return null!=this._instance},prop(e){if(s.a.contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}});t.a=c},Z2Ww:function(e,t,a){e.exports={header:"ShareServerLibraries-header-2FWLto",toggleButton:"ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",toggleButtonHidden:"ShareServerLibraries-toggleButtonHidden-12kl7r ShareServerLibraries-toggleButton-34adjO Link-link-2n0yJn",libraries:"ShareServerLibraries-libraries-1v5cs1",hidden:"ShareServerLibraries-hidden-amHqw7",emptyMessage:"ShareServerLibraries-emptyMessage-2sEE--"}},ZAf3:function(e,t,a){e.exports={row:"AudioVideoSettingsRow-row-2CrSzB",cell:"AudioVideoSettingsRow-cell-24KvKF",label:"AudioVideoSettingsRow-label-2h0yy9 AudioVideoSettingsRow-cell-24KvKF",isDisabled:"AudioVideoSettingsRow-isDisabled-3laLAT"}},ZC6L:function(e,t,a){"use strict";function i(e,t,a){var i=e.indexOf(t);if(i<0)return e;var r=e.slice(0);return r[i]=a,r}a.d(t,"a",(function(){return i}))},ZDL3:function(e,t,a){(function(i){var r,n,s,o,l,c,d,u,p;s={id:"sifter",exports:{},loaded:!1},r="function"==typeof(n=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,a,i,s,l=[],c=e.split(/ +/);for(t=0,a=c.length;t<a;t++){if(i=n(c[t]),this.settings.diacritics)for(s in o)o.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),o[s]));l.push({string:c[t],regex:new RegExp(i,"i")})}return l},e.prototype.iterator=function(e,t){(s(e)?Array.prototype.forEach||function(e){for(var t=0,a=this.length;t<a;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var a,i,r;e=this.prepareSearch(e,t),i=e.tokens,a=e.options.fields,r=i.length;var n,s=function(e,t){var a,i;return e?-1===(i=(e=String(e||"")).search(t.regex))?0:(a=t.string.length/e.length,0===i&&(a+=.5),a):0},o=(n=a.length)?1===n?function(e,t){return s(t[a[0]],e)}:function(e,t){for(var i=0,r=0;i<n;i++)r+=s(t[a[i]],e);return r/n}:function(){return 0};return r?1===r?function(e){return o(i[0],e)}:"and"===e.options.conjunction?function(e){for(var t,a=0,n=0;a<r;a++){if((t=o(i[a],e))<=0)return 0;n+=t}return n/r}:function(e){for(var t=0,a=0;t<r;t++)a+=o(i[t],e);return a/r}:function(){return 0}},e.prototype.getSortFunction=function(e,a){var i,r,n,s,o,l,c,d,u,p,h;if(h=!(e=(n=this).prepareSearch(e,a)).query&&a.sort_empty||a.sort,u=function(e,t){return"$score"===e?t.score:n.items[t.id][e]},o=[],h)for(i=0,r=h.length;i<r;i++)(e.query||"$score"!==h[i].field)&&o.push(h[i]);if(e.query){for(p=!0,i=0,r=o.length;i<r;i++)if("$score"===o[i].field){p=!1;break}p&&o.unshift({field:"$score",direction:"desc"})}else for(i=0,r=o.length;i<r;i++)if("$score"===o[i].field){o.splice(i,1);break}for(d=[],i=0,r=o.length;i<r;i++)d.push("desc"===o[i].direction?-1:1);return(l=o.length)?1===l?(s=o[0].field,c=d[0],function(e,a){return c*t(u(s,e),u(s,a))}):function(e,a){var i,r,n;for(i=0;i<l;i++)if(n=o[i].field,r=d[i]*t(u(n,e),u(n,a)))return r;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var i=(t=a({},t)).fields,r=t.sort,n=t.sort_empty;return i&&!s(i)&&(t.fields=[i]),r&&!s(r)&&(t.sort=[r]),n&&!s(n)&&(t.sort_empty=[n]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var a,i,r,n;return i=this.prepareSearch(e,t),t=i.options,e=i.query,n=t.score||this.getScoreFunction(i),e.length?this.iterator(this.items,(function(e,r){a=n(e),(!1===t.filter||a>0)&&i.items.push({score:a,id:r})})):this.iterator(this.items,(function(e,t){i.items.push({score:1,id:t})})),(r=this.getSortFunction(i,t))&&i.items.sort(r),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")))>(t=l(String(t||"")))?1:t>e?-1:0},a=function(e,t){var a,i,r,n;for(a=1,i=arguments.length;a<i;a++)if(n=arguments[a])for(r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},n=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},s=Array.isArray||i&&i.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},o={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",l:"[l]",n:"[n]",o:"[o]",r:"[r]",s:"[s]",t:"[t]",u:"[u]",y:"[y]",z:"[z]"},l=function(){var e,t,a,i,r="",n={};for(a in o)if(o.hasOwnProperty(a))for(r+=i=o[a].substring(2,o[a].length-1),e=0,t=i.length;e<t;e++)n[i.charAt(e)]=a;var s=new RegExp("["+r+"]","g");return function(e){return e.replace(s,(function(e){return n[e]})).toLowerCase()}}();return e})?n.call(s.exports,a,s.exports,s):n,s.loaded=!0,void 0!==r||(r=s.exports),c={id:"microplugin",exports:{},loaded:!1},o="function"==typeof(l=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var a,i,r,n=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(a=0,i=e.length;a<i;a++)"string"==typeof e[a]?n.push(e[a]):(this.plugins.settings[e[a].name]=e[a].options,n.push(e[a].name));else if(e)for(r in e)e.hasOwnProperty(r)&&(this.plugins.settings[r]=e[r],n.push(r));for(;n.length;)this.require(n.shift())},e.prototype.loadPlugin=function(t){var a=this.plugins,i=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');a.requested[t]=!0,a.loaded[t]=i.fn.apply(this,[this.plugins.settings[t]||{}]),a.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,a){e.plugins[t]={name:t,fn:a}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?l.call(c.exports,a,c.exports,c):l,c.loaded=!0,void 0!==o||(o=c.exports),u=[a("EVdn"),r,o],void 0===(p="function"==typeof(d=function(e,t,a){"use strict";var i=function(e,t){if("string"!=typeof t||t.length){var a="string"==typeof t?new RegExp(t,"i"):t,i=function(e){var t=0;if(3===e.nodeType){var r=e.data.search(a);if(r>=0&&e.data.length>0){var n=e.data.match(a),s=document.createElement("span");s.className="highlight";var o=e.splitText(r),l=(o.splitText(n[0].length),o.cloneNode(!0));s.appendChild(l),o.parentNode.replaceChild(s,o),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=i(e.childNodes[c]);return t};return e.each((function(){i(this)}))}},r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var a=arguments.length;return 0===a?delete this._events:1===a?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],a=0;a<t.length;a++)e.prototype[t[a]]=r.prototype[t[a]]};var n=/Mac/.test(navigator.userAgent),s=n?91:17,o=n?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},d=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},u=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},h=function(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}},m=function(e,t,a){var i,r=e.trigger,n={};for(i in e.trigger=function(){var a=arguments[0];if(-1===t.indexOf(a))return r.apply(e,arguments);n[a]=arguments},a.apply(e,[]),e.trigger=r,n)n.hasOwnProperty(i)&&r.apply(e,n[i])},v=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var a=document.selection.createRange(),i=document.selection.createRange().text.length;a.moveStart("character",-e.value.length),t.start=a.text.length-i,t.length=i}return t},g=function(a,i){var r,n,s,o;(o=a[0]).selectize=this;var l,c,d,u=window.getComputedStyle&&window.getComputedStyle(o,null);if(s=(s=u?u.getPropertyValue("direction"):o.currentStyle&&o.currentStyle.direction)||a.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:i,$input:a,tabIndex:a.attr("tabindex")||"",tagType:"select"===o.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(s),eventNS:".selectize"+ ++g.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:a.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===i.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=i.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(d),d=window.setTimeout((function(){l.apply(e,t)}),c)})}),this.sifter=new t(this.options,{diacritics:i.diacritics}),this.settings.options){for(r=0,n=this.settings.options.length;r<n;r++)this.registerOption(this.settings.options[r]);delete this.settings.options}if(this.settings.optgroups){for(r=0,n=this.settings.optgroups.length;r<n;r++)this.registerOptionGroup(this.settings.optgroups[r]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return r.mixin(g),a.mixin(g),e.extend(g.prototype,{setup:function(){var t,a,i,r,c,d,u,p,h,m,g,y,f,b=this,I=b.settings,S=b.eventNS,M=e(window),C=e(document),D=b.$input;if(u=b.settings.mode,p=D.attr("class")||"",t=e("<div>").addClass(I.wrapperClass).addClass(p).addClass(u),a=e("<div>").addClass(I.inputClass).addClass("items").appendTo(t),i=e('<input type="text" autocomplete="off" />').appendTo(a).attr("tabindex",D.is(":disabled")?"-1":b.tabIndex),d=e(I.dropdownParent||t),r=e("<div>").addClass(I.dropdownClass).addClass(u).hide().appendTo(d),c=e("<div>").addClass(I.dropdownContentClass).appendTo(r),b.settings.copyClassesToDropdown&&r.addClass(p),t.css({width:D[0].style.width}),b.plugins.names.length&&(h="plugin-"+b.plugins.names.join(" plugin-"),t.addClass(h),r.addClass(h)),(null===I.maxItems||I.maxItems>1)&&1===b.tagType&&D.attr("multiple","multiple"),b.settings.placeholder&&i.attr("placeholder",I.placeholder),!b.settings.splitOn&&b.settings.delimiter){var P=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+P+"+\\s*")}D.attr("autocorrect")&&i.attr("autocorrect",D.attr("autocorrect")),D.attr("autocapitalize")&&i.attr("autocapitalize",D.attr("autocapitalize")),b.$wrapper=t,b.$control=a,b.$control_input=i,b.$dropdown=r,b.$dropdown_content=c,r.on("mouseenter","[data-selectable]",(function(){return b.onOptionHover.apply(b,arguments)})),r.on("mousedown click","[data-selectable]",(function(){return b.onOptionSelect.apply(b,arguments)})),g="mousedown",y="*:not(input)",f=function(){return b.onItemSelect.apply(b,arguments)},(m=a).on(g,y,(function(e){for(var t=e.target;t&&t.parentNode!==m[0];)t=t.parentNode;return e.currentTarget=t,f.apply(this,[e])})),b.settings.manualInputWidth||function(t){var a=null,i=function(i,r){var n,s,o,l,c,d,u,p;r=r||{},(i=i||window.event||{}).metaKey||i.altKey||(r.force||!1!==t.data("grow"))&&(n=t.val(),i.type&&"keydown"===i.type.toLowerCase()&&(o=(s=i.keyCode)>=97&&s<=122||s>=65&&s<=90||s>=48&&s<=57||32===s,46===s||8===s?(p=v(t[0])).length?n=n.substring(0,p.start)+n.substring(p.start+p.length):8===s&&p.start?n=n.substring(0,p.start-1)+n.substring(p.start+1):46===s&&void 0!==p.start&&(n=n.substring(0,p.start)+n.substring(p.start+1)):o&&(d=i.shiftKey,u=String.fromCharCode(i.keyCode),n+=u=d?u.toUpperCase():u.toLowerCase())),l=t.attr("placeholder"),!n&&l&&(n=l),(c=function(t,a){if(!t)return 0;var i=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,a){var i,r,n={};if(a)for(i=0,r=a.length;i<r;i++)n[a[i]]=e.css(a[i]);else n=e.css();t.css(n)}(a,i,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=i.width();return i.remove(),r}(n,t)+4)!==a&&(a=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",i),i()}(i),a.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),i.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),D.parents().last().find('label[for="'+D.attr("id")+'"]').on("click",(function(){b.onClick.apply(b,arguments)})),C.on("keydown"+S,(function(e){b.isCmdDown=e[n?"metaKey":"ctrlKey"],b.isCtrlDown=e[n?"altKey":"ctrlKey"],b.isShiftDown=e.shiftKey})),C.on("keyup"+S,(function(e){e.keyCode===o&&(b.isCtrlDown=!1),16===e.keyCode&&(b.isShiftDown=!1),e.keyCode===s&&(b.isCmdDown=!1)})),C.on("mousedown"+S,(function(e){if(b.isFocused){if(e.target===b.$dropdown[0]||e.target.parentNode===b.$dropdown[0])return!1;b.$control.has(e.target).length||e.target===b.$control[0]||b.blur(e.target)}})),M.on(["scroll"+S,"resize"+S].join(" "),(function(){b.isOpen&&b.positionDropdown.apply(b,arguments)})),M.on("mousemove"+S,(function(){b.ignoreHover=!1})),this.revertSettings={$children:D.children().detach(),tabindex:D.attr("tabindex")},D.attr("tabindex",-1).hide().after(b.$wrapper),e.isArray(I.items)&&(b.setValue(I.items),delete I.items),l&&D.on("invalid"+S,(function(e){e.preventDefault(),b.isInvalid=!0,b.refreshState()})),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,D.is(":disabled")&&b.disable(),b.on("change",this.onChange),D.data("selectize",b),D.addClass("selectized"),b.trigger("initialize"),!0===I.preload&&b.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,a=this.settings.optgroupLabelField,i={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[a])+"</div>"},option:function(e,a){return'<div class="option">'+a(e[t])+"</div>"},item:function(e,a){return'<div class="item">'+a(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=e.extend({},i,this.settings.render)},setupCallbacks:function(){var e,t,a={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in a)a.hasOwnProperty(e)&&(t=this.settings[a[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var a=this,i=t.isDefaultPrevented();if(e(t.target),a.isFocused){if(t.target!==a.$control_input[0])return"single"===a.settings.mode&&t.target!==a.$control[0]?a.isOpen?a.close():a.open():i||a.setActiveItem(null),!1}else i||window.setTimeout((function(){a.focus()}),0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var a=this;a.isFull()||a.isInputHidden||a.isLocked?t.preventDefault():a.settings.splitOn&&setTimeout((function(){for(var t=e.trim(a.$control_input.val()||"").split(a.settings.splitOn),i=0,r=t.length;i<r;i++)a.createItem(t[i])}),0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var t=this.getAdjacentOption(this.$activeOption,1);t.length&&this.setActiveOption(t,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var a=this.getAdjacentOption(this.$activeOption,-1);a.length&&this.setActiveOption(a,!0,!0)}return void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return void(this.settings.selectOnTab&&this.isOpen&&this.$activeOption?(this.onOptionSelect({currentTarget:this.$activeOption}),this.settings.allowCreateEmpty&&1===this.settings.maxItems||this.isFull()||e.preventDefault()):this.settings.create&&this.createItem()&&e.preventDefault());case 8:return void this.deleteSelection(e,!0);case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(n?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,a=t.settings.load;a&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load((function(i){a.apply(t,[e,i])}))))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var a=this;if(a.isFocused&&(a.isFocused=!1,!a.ignoreFocus))return a.ignoreBlur||document.activeElement!==a.$dropdown_content[0]?void setTimeout((function(){var e=function(){a.close(),a.setTextboxValue(""),a.setActiveItem(null),a.setActiveOption(null),a.setCaret(a.items.length),a.refreshState(),(t||document.body).focus(),a.ignoreFocus=!1,a.trigger("blur")};a.ignoreFocus=!0,a.settings.selectOnBlur&&a.$activeOption&&1===a.$activeOption.not(".create").length?(a.addItem(a.$activeOption.not(".create").data("value")),e()):a.settings.create&&a.settings.createOnBlur?a.createItem(null,!1,e):e()})):(a.ignoreBlur=!0,void a.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var a,i,r=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(i=e(t.currentTarget)).hasClass("create")?r.createItem(null,(function(){r.settings.closeAfterSelect&&r.close()})):void 0!==(a=i.attr("data-value"))&&(r.lastQuery=null,r.setTextboxValue(""),r.addItem(a),r.settings.closeAfterSelect?r.close():!r.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&r.setActiveOption(r.getOption(a)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,a=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||a.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){m(this,t?[]:["change"],(function(){this.clear(t),this.addItems(e,t)}))},setActiveItem:function(t,a){var i,r,n,s,o,l,c,d;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(i=a&&a.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(d=this.$control.children(".active:last"),(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[d[0]]))>(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))&&(c=s,s=o,o=c),r=s;r<=o;r++)l=this.$control[0].childNodes[r],-1===this.$activeItems.indexOf(l)&&(e(l).addClass("active"),this.$activeItems.push(l));a.preventDefault()}else"mousedown"===i&&this.isCtrlDown||"keydown"===i&&this.isShiftDown?t.hasClass("active")?(n=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(n,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,a,i){var r,n,s,o,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),!a&&c(a)||(r=this.$dropdown_content.height(),n=this.$activeOption.outerHeight(!0),a=this.$dropdown_content.scrollTop()||0,o=s=this.$activeOption.offset().top-this.$dropdown_content.offset().top+a,l=s-r+n,s+n>r+a?this.$dropdown_content.stop().animate({scrollTop:l},i?this.settings.scrollDuration:0):s<a&&this.$dropdown_content.stop().animate({scrollTop:o},i?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout((function(){e.ignoreFocus=!1,e.onFocus()}),0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var a,i,r,n=this.settings,s=this.getSearchOptions();if(n.score&&"function"!=typeof(r=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,i=this.sifter.search(t,e.extend(s,{score:r})),this.currentResults=i):i=e.extend(!0,{},this.currentResults),n.hideSelected)for(a=i.items.length-1;a>=0;a--)-1!==this.items.indexOf(d(i.items[a].id))&&i.items.splice(a,1);return i},refreshOptions:function(t){var a,r,n,s,o,l,c,u,p,h,m,v,g,y,f,b;void 0===t&&(t=!0);var I=this,S=e.trim(I.$control_input.val()),M=I.search(S),C=I.$dropdown_content,D=I.$activeOption&&d(I.$activeOption.attr("data-value"));for(s=M.items.length,"number"==typeof I.settings.maxOptions&&(s=Math.min(s,I.settings.maxOptions)),o={},l=[],a=0;a<s;a++)for(c=I.options[M.items[a].id],u=I.render("option",c),p=c[I.settings.optgroupField]||"",r=0,n=(h=e.isArray(p)?p:[p])&&h.length;r<n;r++)p=h[r],I.optgroups.hasOwnProperty(p)||(p=""),o.hasOwnProperty(p)||(o[p]=[],l.push(p)),o[p].push(u);for(this.settings.lockOptgroupOrder&&l.sort((function(e,t){return(I.optgroups[e].$order||0)-(I.optgroups[t].$order||0)})),m=[],a=0,s=l.length;a<s;a++)p=l[a],I.optgroups.hasOwnProperty(p)&&o[p].length?(v=I.render("optgroup_header",I.optgroups[p])||"",v+=o[p].join(""),m.push(I.render("optgroup",e.extend({},I.optgroups[p],{html:v})))):m.push(o[p].join(""));if(C.html(m.join("")),I.settings.highlight&&M.query.length&&M.tokens.length)for(a=0,s=M.tokens.length;a<s;a++)i(C,M.tokens[a].regex);if(!I.settings.hideSelected)for(a=0,s=I.items.length;a<s;a++)I.getOption(I.items[a]).addClass("selected");(g=I.canCreate(S))&&(C.prepend(I.render("option_create",{input:S})),b=e(C[0].childNodes[0])),I.hasOptions=M.items.length>0||g,I.hasOptions?(M.items.length>0?((f=D&&I.getOption(D))&&f.length?y=f:"single"===I.settings.mode&&I.items.length&&(y=I.getOption(I.items[0])),y&&y.length||(y=b&&!I.settings.addPrecedence?I.getAdjacentOption(b,1):C.find("[data-selectable]:first"))):y=b,I.setActiveOption(y),t&&!I.isOpen&&I.open()):(I.setActiveOption(null),t&&I.isOpen&&I.close())},addOption:function(t){var a,i,r;if(e.isArray(t))for(a=0,i=t.length;a<i;a++)this.addOption(t[a]);else(r=this.registerOption(t))&&(this.userOptions[r]=!0,this.lastQuery=null,this.trigger("option_add",r,t))},registerOption:function(e){var t=d(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=d(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,a){var i,r,n,s,o,l,c;if(t=d(t),n=d(a[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof n)throw new Error("Value must be set in option data");c=this.options[t].$order,n!==t&&(delete this.options[t],-1!==(s=this.items.indexOf(t))&&this.items.splice(s,1,n)),a.$order=a.$order||c,this.options[n]=a,o=this.renderCache.item,l=this.renderCache.option,o&&(delete o[t],delete o[n]),l&&(delete l[t],delete l[n]),-1!==this.items.indexOf(n)&&(i=this.getItem(t),r=e(this.render("item",a)),i.hasClass("active")&&r.addClass("active"),i.replaceWith(r)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=d(e);var a=this.renderCache.item,i=this.renderCache.option;a&&delete a[e],i&&delete i[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,a){var i=this.$dropdown.find("[data-selectable]"),r=i.index(t)+a;return r>=0&&r<i.length?i.eq(r):e()},getElementWithValue:function(t,a){if(null!=(t=d(t)))for(var i=0,r=a.length;i<r;i++)if(a[i].getAttribute("data-value")===t)return e(a[i]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,a){for(var i=e.isArray(t)?t:[t],r=0,n=i.length;r<n;r++)this.isPending=r<n-1,this.addItem(i[r],a)},addItem:function(t,a){m(this,a?[]:["change"],(function(){var i,r,n,s,o,l=this.settings.mode;t=d(t),-1===this.items.indexOf(t)?this.options.hasOwnProperty(t)&&("single"===l&&this.clear(a),"multi"===l&&this.isFull()||(i=e(this.render("item",this.options[t])),o=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(i),(!this.isPending||!o&&this.isFull())&&this.refreshState(),this.isSetup&&(n=this.$dropdown_content.find("[data-selectable]"),this.isPending||(r=this.getOption(t),s=this.getAdjacentOption(r,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),s&&this.setActiveOption(this.getOption(s))),!n.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,i),this.updateOriginalInput({silent:a})))):"single"===l&&this.close()}))},removeItem:function(e,t){var a,i,r;a="object"==typeof e?e:this.getItem(e),e=d(a.attr("data-value")),-1!==(i=this.items.indexOf(e))&&(a.remove(),a.hasClass("active")&&(r=this.$activeItems.indexOf(a[0]),this.$activeItems.splice(r,1)),this.items.splice(i,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,t),i<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.positionDropdown(),this.trigger("item_remove",e,a))},createItem:function(t,a){var i=this,r=i.caretPos;t=t||e.trim(i.$control_input.val()||"");var n=arguments[arguments.length-1];if("function"!=typeof n&&(n=function(){}),"boolean"!=typeof a&&(a=!0),!i.canCreate(t))return n(),!1;i.lock();var s="function"==typeof i.settings.create?this.settings.create:function(e){var t={};return t[i.settings.labelField]=e,t[i.settings.valueField]=e,t},o=h((function(e){if(i.unlock(),!e||"object"!=typeof e)return n();var t=d(e[i.settings.valueField]);if("string"!=typeof t)return n();i.setTextboxValue(""),i.addOption(e),i.setCaret(r),i.addItem(t),i.refreshOptions(a&&"single"!==i.settings.mode),n(e)})),l=s.apply(this,[t,o]);return void 0!==l&&o(l),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var t=this.isFull(),a=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",a).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!t&&!a)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,a,i,r;if(e=e||{},1===this.tagType){for(i=[],t=0,a=this.items.length;t<a;t++)r=this.options[this.items[t]][this.settings.labelField]||"",i.push('<option value="'+u(this.items[t])+'" selected="selected">'+u(r)+"</option>");i.length||this.$input.attr("multiple")||i.push('<option value="" selected="selected"></option>'),this.$input.html(i.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(e.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||this.settings.hideDropdown||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var a=Math.min(this.caretPos,this.items.length);0===a?this.$control.prepend(t):e(this.$control[0].childNodes[a]).before(t),this.setCaret(a+1)},deleteSelection:function(t,a){var i,r,n,s,o,l,c,d,u;if(n=a||void 0===a&&t&&8===t.keyCode?-1:1,s=v(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(c=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),o=[],this.$activeItems.length){for(u=this.$control.children(".active:"+(n>0?"last":"first")),l=this.$control.children(":not(input)").index(u),n>0&&l++,i=0,r=this.$activeItems.length;i<r;i++)o.push(e(this.$activeItems[i]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(n<0&&0===s.start&&0===s.length?o.push(this.items[this.caretPos-1]):n>0&&s.start===this.$control_input.val().length&&o.push(this.items[this.caretPos]));if(!o.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[o]))return!1;for(void 0!==l&&this.setCaret(l);o.length;)this.removeItem(o.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),c&&(d=this.getOption(c)).length&&this.setActiveOption(d),!0},advanceSelection:function(e,t){var a,i,r,n,s;0!==e&&(this.rtl&&(e*=-1),a=e>0?"last":"first",i=v(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(n=this.$control_input.val().length,(e<0?0===i.start&&0===i.length:i.start===n)&&!n&&this.advanceCaret(e,t)):(s=this.$control.children(".active:"+a)).length&&(r=this.$control.children(":not(input)").index(s),this.setActiveItem(null),this.setCaret(e>0?r+1:r)))},advanceCaret:function(e,t){var a,i;0!==e&&(a=e>0?"next":"prev",this.isShiftDown?(i=this.$control_input[a]()).length&&(this.hideInput(),this.setActiveItem(i),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){var a,i,r,n;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(a=0,i=(r=this.$control.children(":not(input)")).length;a<i;a++)n=e(r[a]).detach(),a<t?this.$control_input.before(n):this.$control.append(n);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,a=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(a.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:a.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(e,t){var a,i,r="",n=!1,s=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(n=!!(a=d(t[this.settings.valueField]))),n&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(a))?this.renderCache[e][a]:(r=this.settings.render[e].apply(this,[t,u]),"option"!==e&&"option_create"!==e||(r=r.replace(s,"<$1 data-selectable")),"optgroup"===e&&(i=t[this.settings.optgroupValueField]||"",r=r.replace(s,'<$1 data-group="'+p(u(i))+'"')),"option"!==e&&"item"!==e||(r=r.replace(s,'<$1 data-value="'+p(u(a||""))+'"')),n&&(this.renderCache[e][a]=r),r)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return(e.length||this.settings.allowCreateEmpty)&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),g.count=0,g.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var a=e.fn.selectize.defaults,i=e.extend({},a,t),r=i.dataAttr,n=i.labelField,s=i.valueField,o=i.optgroupField,l=i.optgroupLabelField,c=i.optgroupValueField;return this.each((function(){if(!this.selectize){var u=e(this),p=this.tagName.toLowerCase(),h=u.attr("placeholder")||u.attr("data-placeholder");h||i.allowEmptyOption||(h=u.children('option[value=""]').text());var m={placeholder:h,options:[],optgroups:[],items:[]};"select"===p?function(t,a){var u,p,h,m,v=a.options,g={},y=function(e){var t=r&&e.attr(r);return"string"==typeof t&&t.length?JSON.parse(t):null},f=function(t,r){t=e(t);var l=d(t.attr("value"));if(l||i.allowEmptyOption)if(g.hasOwnProperty(l)){if(r){var c=g[l][o];c?e.isArray(c)?c.push(r):g[l][o]=[c,r]:g[l][o]=r}}else{var u=y(t)||{};u[n]=u[n]||t.text(),u[s]=u[s]||l,u[o]=u[o]||r,g[l]=u,v.push(u),t.is(":selected")&&a.items.push(l)}},b=function(t){var i,r,n,s,o;for((n=(t=e(t)).attr("label"))&&((s=y(t)||{})[l]=n,s[c]=n,a.optgroups.push(s)),i=0,r=(o=e("option",t)).length;i<r;i++)f(o[i],n)};for(a.maxItems=t.attr("multiple")?null:1,u=0,p=(m=t.children()).length;u<p;u++)"optgroup"===(h=m[u].tagName.toLowerCase())?b(m[u]):"option"===h&&f(m[u])}(u,m):function(t,a){var o,l,c,d,u=t.attr(r);if(u)for(a.options=JSON.parse(u),o=0,l=a.options.length;o<l;o++)a.items.push(a.options[o][s]);else{var p=e.trim(t.val()||"");if(!i.allowEmptyOption&&!p.length)return;for(o=0,l=(c=p.split(i.delimiter)).length;o<l;o++)(d={})[n]=c[o],d[s]=c[o],a.options.push(d);a.items=c}}(u,m),new g(u,e.extend(!0,{},a,m,t))}}))},e.fn.selectize.defaults=g.defaults,e.fn.selectize.support={validity:l},g.define("remove_button",(function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var a,i=this,r='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+u(t.title)+'">'+t.label+"</a>",n=function(e,t){var a=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,a)+t+e.substring(a)};this.setup=(a=i.setup,function(){if(t.append){var s=i.settings.render.item;i.settings.render.item=function(e){return n(s.apply(this,arguments),r)}}a.apply(this,arguments),this.$control.on("click","."+t.className,(function(t){if(t.preventDefault(),!i.isLocked){var a=e(t.currentTarget).parent();i.setActiveItem(a),i.deleteSelection()&&i.setCaret(i.items.length)}}))})}})),g.define("restore_on_backspace",(function(e){var t,a=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=a.onKeyDown,function(a){var i,r;return 8===a.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(i=this.caretPos-1)>=0&&i<this.items.length?(r=this.options[this.items[i]],this.deleteSelection(a,!0)&&(this.setTextboxValue(e.text.apply(this,[r])),this.refreshOptions(!0)),void a.preventDefault()):t.apply(this,arguments)})})),g.define("restore_on_focus",(function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(a){var i=this.caretPos-1;if(i>=0&&i<this.items.length){var r=this.options[this.items[i]],n=e.text.call(this,r);this.removeItem(r[this.settings.valueField]),this.setTextboxValue(n),this.refreshOptions(!0)}return t.apply(this,arguments)}})),g})?d.apply(t,u):d)||(e.exports=p)}).call(this,a("EVdn"))},ZQAG:function(e,t,a){e.exports={container:"ShareRestrictionsCheckInputItem-container-1-3RL4",subtitle:"ShareRestrictionsCheckInputItem-subtitle-1-x2eT"}},ZQel:function(e,t,a){e.exports={container:"TimelinePageContent-container-2lbp-W",stack:"TimelinePageContent-stack-2iWVFV PageContent-pageContent-16mK6G",adornment:"TimelinePageContent-adornment-1VLRtf",scroller:"TimelinePageContent-scroller-3tS5Jx"}},ZZ6f:function(e,t,a){e.exports={loadingItem:"PlayHistoryTableRowLoading-loadingItem-1cA2un",alternateLoadingItem:"PlayHistoryTableRowLoading-alternateLoadingItem-2EBh1D PlayHistoryTableRowLoading-loadingItem-1cA2un"}},ZZfJ:function(e,t,a){e.exports={modalHeader:"NowPlayingErrorModal-modalHeader-289q56 ModalHeader-modalHeader-1Kf9RW"}},Zev7:function(e,t,a){e.exports={label:"InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b"}},Zf8S:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(r(a("ortX")).call(t,"Synced",{hash:{},data:s}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(r(a("ortX")).call(t,"Waiting to be downloaded",{hash:{},data:s}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(r(a("ortX")).call(t,"Downloading",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(r(a("ortX")).call(t,"Converting",{hash:{},data:s}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(r(a("ortX")).call(t,"Waiting to be converted",{hash:{},data:s}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(r(a("ortX")).call(t,"Unknown",{hash:{},data:s}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '}))},Zi5A:function(e,t,a){e.exports={container:"LibraryFilterBuilderRowTag-container-2eCigC",tag:"LibraryFilterBuilderRowTag-tag-3tEm1x",remove:"LibraryFilterBuilderRowTag-remove-3WifL0 TagLabel-remove-27nEke",or:"LibraryFilterBuilderRowTag-or-2CPm8x"}},"ZrA+":function(e,t,a){e.exports={card:"MetadataPosterListItem-card-15XOx1 PosterCard-card-VhPkOe"}},ZrFU:function(e,t,a){e.exports={library:"FriendSharedServerLibraries-library-3L4Qip"}},ZrFe:function(e,t,a){e.exports={pageHeader:"PageHeader-pageHeader-2KNPGd"}},ZwMC:function(e,t,a){"use strict";var i=a("L7kO"),r={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},n=new RegExp("("+Object.keys(r).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),s=/%[sdifo]/g,o=/(error|exception)\]$/i,l={"%s":e=>e,"%d":e=>Number.parseInt(e,10),"%f":e=>Number.parseFloat(e),"%o":e=>e},c=(e,t,a)=>function(){var r,n,o=arguments.length;if(t=void 0===t?d.LEVEL_LOG:t,!(d.level<t)){if(0===o&&a)n=a;else if(1===o)n=d.serialize(arguments[0]);else if(o>1){for(var c=Array(o),u=-1;++u<o;)c[u]=d.serialize(arguments[u]);c[0]=c[0].replace(s,(e,t)=>{var a=e;return c.length>1&&(a=l[e](c[1]),c.splice(1,1)),a}),n=c.join(" ")}return!n||r&&!r.test(n)||i.a.trigger(e,{type:e,level:t,message:n}),n}},d=c("log:message");d.LEVEL_NONE=-1,d.LEVEL_ERROR=0,d.LEVEL_WARN=1,d.LEVEL_INFO=2,d.LEVEL_DEBUG=3,d.LEVEL_LOG=4,d.LEVEL_GROUP=d.LEVEL_INFO,d.LEVEL_GROUP_END=d.LEVEL_INFO,d.level=d.LEVEL_LOG,d.redacts=!0,d.setLevel=e=>{d.level=Math.max(d.LEVEL_NONE,Math.min(e,d.LEVEL_LOG))},d.debug=c("log:message",d.LEVEL_DEBUG),d.info=c("log:message",d.LEVEL_INFO),d.warn=c("log:message",d.LEVEL_WARN),d.error=c("log:message",d.LEVEL_ERROR),d.group=c("log:group",d.LEVEL_GROUP,"Group"),d.groupCollapsed=c("log:groupCollapsed",d.LEVEL_GROUP,"Group"),d.groupEnd=()=>{d.level<d.LEVEL_GROUP_END||i.a.trigger("log:groupEnd",{type:"log:groupEnd",level:d.LEVEL_GROUP_END})},d.serialize=e=>{var t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e)){case"[object String]":return d.redacts?e.replace(n,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{var a=d.redacts?d._jsonReplacer:null;return JSON.stringify(e,a,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(o.test(t)){var i=d._getMaxStackLength(),r=e.stacktrace||e.stack;return r&&r.length>i&&(r=r.substr(0,i-3)+"..."),d.serialize({type:t,stack:r,name:e.name,message:e.message})}return e.toString()}},d._jsonReplacer=(e,t)=>r[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?d.serialize(t):t,d._getMaxStackLength=()=>1e3,t.a=d},Zybo:function(e,t,a){"use strict";a.r(t),t.default=function(e,t){return e?/^\d+$/.test(e)?e+(t&&t.length?t[0]:"p"):e.toUpperCase():""}},"a+iW":function(e,t,a){"use strict";function i(e,t){var a=t?8*Math.round(t/8):0,i=e?8*Math.round(e/8*(9/16)):0;return Math.max(a,i)}a.d(t,"a",(function(){return i}))},"a+vp":function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var i,r=a("ADhH");var n=function(e){i||(i=Object(r.r)().map(e=>e.typeString).join("|"));var t=new RegExp('<Directory([^>]*?)type="('+i+')"([\\s\\S]*?)</Directory>',"gm"),a=new RegExp('<Directory([^>]*?)type="('+i+')"([\\s\\S]*?)/>',"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(a,'<Metadata$1type="$2" elementName="Directory"$3/>')};var s=function(e,t,a){Array.isArray(t)||(t=[t]);var i=t.join("|"),r=new RegExp("<("+i+")","g"),n=new RegExp("</("+i+")>","g");return e.replace(r,"<"+a+' elementName="$1"').replace(n,"</"+a+">")},o=["Video","Track","Photo","Playlist","Game"];t.b=function(e,t){var a=t&&t.includeDirectories,i=a?["Directory",...o]:o,r=s(e,i,"Metadata");return a?r:n(r)}},a0RD:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"a",(function(){return s}));var i="news",r="podcast",n="webshow",s="musicVideo"},a5AD:function(e,t,a){e.exports={overlay:"EPGSimpleSummaryRow-overlay-_9nutN",titleContainer:"EPGSimpleSummaryRow-titleContainer-1yXAoS",primaryTitle:"EPGSimpleSummaryRow-primaryTitle-2yKXcH",secondaryTitle:"EPGSimpleSummaryRow-secondaryTitle-2rxODA",nextAiringDate:"EPGSimpleSummaryRow-nextAiringDate-2WrxQq",separator:"EPGSimpleSummaryRow-separator-2w771A DashSeparator-separator-4CyEFW",subscriptionIcon:"EPGSimpleSummaryRow-subscriptionIcon-2yby63"}},a7ba:function(e,t,a){e.exports={description:"EmptyPageDescription-description-DhEtaD"}},a88H:function(e,t,a){e.exports={card:"QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6"}},aAt6:function(e,t,a){e.exports={container:"PageHeaderTabDropdown-container-24xGAL",button:"PageHeaderTabDropdown-button-3bolBi PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PageHeaderTabDropdown-buttonContents-GDhP2H",title:"PageHeaderTabDropdown-title-2myggE",disclosureArrow:"PageHeaderTabDropdown-disclosureArrow-sMJzCd DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PageHeaderTabDropdown-isSelected-FK5pDv"}},aIE1:function(e,t,a){e.exports={button:"ClaimServerButton-button-2r6HKX SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},aJpN:function(e,t,a){e.exports={cardContainer:"MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataPosterCard-card-3bztRc",isFlipped:"MetadataPosterCard-isFlipped-2lUIIU"}},aL7q:function(e,t,a){e.exports={event:"AgendaEvent-event-1CGOuE",isComplete:"AgendaEvent-isComplete-1Qgi-m",hasError:"AgendaEvent-hasError-3_JkX6",underlay:"AgendaEvent-underlay-3aB2_X",overlay:"AgendaEvent-overlay-F0jvnJ",statusIcon:"AgendaEvent-statusIcon-2HvuT0",date:"AgendaEvent-date-14otD2",isToday:"AgendaEvent-isToday-WyLYsI",time:"AgendaEvent-time-1gWgjZ",title:"AgendaEvent-title-2XPt5P",titleDetails:"AgendaEvent-titleDetails-1_26SP",status:"AgendaEvent-status-3bBTHT",recording:"AgendaEvent-recording-R38Vn-",recordingProgressBackground:"AgendaEvent-recordingProgressBackground-3zpaH4 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"AgendaEvent-recordingIcon-2abV-I"}},aNE2:function(e,t,a){"use strict";a.d(t,"a",(function(){return ie}));var i={};a.r(i),a.d(i,"startPlayback",(function(){return d})),a.d(i,"endPlayback",(function(){return u})),a.d(i,"playNextItem",(function(){return p})),a.d(i,"playPreviousItem",(function(){return h})),a.d(i,"playItem",(function(){return m})),a.d(i,"play",(function(){return v})),a.d(i,"pause",(function(){return g})),a.d(i,"seek",(function(){return y})),a.d(i,"changeVolume",(function(){return f})),a.d(i,"changeQualityIndex",(function(){return b})),a.d(i,"changeStream",(function(){return I})),a.d(i,"changeSubtitleColor",(function(){return S})),a.d(i,"changeSubtitlePosition",(function(){return M})),a.d(i,"changeSubtitleSize",(function(){return C})),a.d(i,"changeSubtitleOffset",(function(){return D})),a.d(i,"changeAutoPlay",(function(){return P})),a.d(i,"changePlaybackSpeed",(function(){return O})),a.d(i,"setRepeat",(function(){return j})),a.d(i,"refreshRemotePlayQueue",(function(){return T})),a.d(i,"refreshRemoteStreams",(function(){return w})),a.d(i,"mirrorDetails",(function(){return E}));var r={};a.r(r),a.d(r,"startPlayback",(function(){return k})),a.d(r,"endPlayback",(function(){return R})),a.d(r,"playNextItem",(function(){return z})),a.d(r,"playPreviousItem",(function(){return U})),a.d(r,"playItem",(function(){return V})),a.d(r,"play",(function(){return B})),a.d(r,"pause",(function(){return F})),a.d(r,"seek",(function(){return H})),a.d(r,"changeVolume",(function(){return _})),a.d(r,"changeQualityIndex",(function(){return Q})),a.d(r,"changeStream",(function(){return W})),a.d(r,"changeSubtitleColor",(function(){return G})),a.d(r,"changeSubtitlePosition",(function(){return Y})),a.d(r,"changeSubtitleSize",(function(){return K})),a.d(r,"changeSubtitleOffset",(function(){return q})),a.d(r,"changeAutoPlay",(function(){return Z})),a.d(r,"changePlaybackSpeed",(function(){return X})),a.d(r,"setRepeat",(function(){return J})),a.d(r,"refreshRemotePlayQueue",(function(){return $})),a.d(r,"refreshRemoteStreams",(function(){return ee})),a.d(r,"mirrorDetails",(function(){return te}));var n=a("LXSy"),s=a("g0Do"),o=a("YDKO"),l=a("Q+xW"),c=a("Vqpp");function d(e){n.startPlayback(e);var t=Object(s.c)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function u(e){n.endPlayback(e),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.r})}function p(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.a})}function h(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.d})}function m(e,t){n.playItem(e,t);var a=Object(s.c)("remoteCastPlayerManager"),i=e.get("playQueue"),r=i.get("playQueueItems"),l=i.get("playQueueSelectedItemID"),c=r.get(l).get("metadataItem");a.sendMessage({type:o.q,playQueueItemID:l,key:c.get("key")})}function v(e){n.play(e),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.c})}function g(e){n.pause(e),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.b})}function y(e,t){n.seek(e,t),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.g,currentTime:t})}function f(e,t,a){Object(s.c)("remoteCastPlayerManager").setVolume(t)}function b(e,t){n.changeQualityIndex(e,t);var a=c.a.getQualityByIndex(t);Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.i,bitrate:a.bitrate})}function I(e,t,a){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.k,stream:{type:t,id:a}})}function S(e,t,a){n.changeSubtitleColor(e,t,a),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.l,subtitleColor:t})}function M(e,t,a){n.changeSubtitlePosition(e,t,a),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.n,subtitlePosition:t})}function C(e,t,a){n.changeSubtitleSize(e,t,a),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.o,subtitleSize:t})}function D(e,t,a){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.m,subtitleOffset:t})}function P(e,t,a){n.changeAutoPlay(e,t,a),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.h,autoPlay:t})}function O(e,t){}function j(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.j,repeat:Object(l.a)(t)})}function T(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.e})}function w(e){Object(s.c)("remoteCastPlayerManager").sendMessage({type:o.f})}function E(e){Object(s.c)("remoteCastPlayerManager").mirrorDetails(e)}var N=a("NNVK"),x=a("7QCR"),A=a("GEPl");function L(e){var t=e.get("playQueue");return Object(N.d)(t.get("type"))}function k(e){n.startPlayback(e);var t=Object(s.c)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function R(e){var t=Object(s.c)("remotePlexPlayerManager"),a={};e.get("playQueue")&&(a.type=L(e)),n.endPlayback(e),t.sendCommand("/player/playback/stop",a)}function z(e){var t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/skipNext",{type:a})}function U(e){var t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/skipPrevious",{type:a})}function V(e,t){n.playItem(e,t);var a=Object(s.c)("remotePlexPlayerManager"),i=L(e),r=e.get("playQueue"),o=r.get("playQueueItems"),l=r.get("playQueueSelectedItemID"),c=o.get(l).get("metadataItem");a.sendCommand("/player/playback/skipTo",{type:i,key:c.get("key")})}function B(e){n.play(e);var t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/play",{type:a})}function F(e){n.pause(e);var t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/pause",{type:a})}function H(e,t){n.seek(e,t);var a=Object(s.c)("remotePlexPlayerManager"),i=L(e);a.seek({type:i,offset:1e3*t})}function _(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.changeVolume({type:r,volume:t})}function Q(e,t){}function W(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e),n=A.a.get(t).key;i.sendCommand("/player/playback/setStreams",{type:r,[n]:a})}function G(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.sendCommand("/player/playback/setParameters",{type:r,subtitleColor:t}),n.changeSubtitleColor(e,t,a)}function Y(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.sendCommand("/player/playback/setParameters",{type:r,subtitlePosition:t}),n.changeSubtitlePosition(e,t,a)}function K(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.sendCommand("/player/playback/setParameters",{type:r,subtitleSize:t}),n.changeSubtitleSize(e,t,a)}function q(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.sendCommand("/player/playback/setParameters",{type:r,subtitleOffset:t})}function Z(e,t,a){var i=Object(s.c)("remotePlexPlayerManager"),r=L(e);i.sendCommand("/player/playback/setParameters",{type:r,autoPlay:t?1:0}),n.changeAutoPlay(e,t,a)}function X(e,t){}function J(e,t){n.setRepeat(e,t);var a=Object(s.c)("remotePlexPlayerManager"),i=L(e),r=e.get("repeatAll"),o=e.get("repeatOne"),l=x.b;r&&(l=o?x.c:x.a),a.sendCommand("/player/playback/setParameters",{type:i,repeat:l})}function $(e){var t=Object(s.c)("remotePlexPlayerManager"),a=L(e),i=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:a,playQueueID:i})}function ee(e){var t=Object(s.c)("remotePlexPlayerManager"),a=L(e);t.sendCommand("/player/playback/refreshStreams",{type:a})}function te(e){Object(s.c)("remotePlexPlayerManager").mirrorDetails(e)}var ae=a("VGQb");function ie(e){var t=e.get("remotePlayer");return t?t.get("protocol")===ae.a?i:r:n}},aYA4:function(e,t,a){e.exports={image:"MetadataPosterCard-image-s6v-v-",selectedLink:"MetadataPosterCard-selectedLink-3ZfYeB PosterCardLink-link-1lt0M1 Link-link-2ew_DK",hoveredSelectedLink:"MetadataPosterCard-hoveredSelectedLink-3RwC7J PosterCardLink-hoveredLink-AhlkMt PosterCardLink-link-1lt0M1 Link-link-2ew_DK",progress:"MetadataPosterCard-progress-22M45Z MetadataPosterCardProgressBar-progress-H-gNPX",progressFadeIn:"MetadataPosterCard-progressFadeIn-38gSpR",progressBar:"MetadataPosterCard-progressBar-zObiKO MetadataPosterCardProgressBar-bar-3N2AjG",progressBarSlideIn:"MetadataPosterCard-progressBarSlideIn-38QfS2",badge:"MetadataPosterCard-badge-1wXpHL",badgeFadeIn:"MetadataPosterCard-badgeFadeIn-3LE--7",topLeftBadge:"MetadataPosterCard-topLeftBadge-3czaF8 MetadataPosterCard-badge-1wXpHL",topRightBadge:"MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL",legacyNumberBadge:"MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL",none:"MetadataPosterCard-none-fZPXIA",legacyMultiVersionBadge:"MetadataPosterCard-legacyMultiVersionBadge-2CCcrj MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL MetadataPosterCard-topLeftBadge-3czaF8 MetadataPosterCard-badge-1wXpHL",legacyMultiVersionIcon:"MetadataPosterCard-legacyMultiVersionIcon-3Xdds5",legacyUnwatchedTagMask:"MetadataPosterCard-legacyUnwatchedTagMask-2vBYMS",legacyUnwatchedTag:"MetadataPosterCard-legacyUnwatchedTag-3f03pS",legacyUnwatchedEpisodesBadge:"MetadataPosterCard-legacyUnwatchedEpisodesBadge-3kelZP MetadataPosterCard-legacyNumberBadge-2JeKY_ MetadataPosterCard-badge-1wXpHL MetadataPosterCard-topRightBadge-3s_SBN MetadataPosterCard-badge-1wXpHL"}},ab5t:function(e,t,a){"use strict";a.d(t,"a",(function(){return j})),a.d(t,"g",(function(){return T})),a.d(t,"k",(function(){return w})),a.d(t,"f",(function(){return E})),a.d(t,"e",(function(){return N})),a.d(t,"i",(function(){return x})),a.d(t,"h",(function(){return A})),a.d(t,"j",(function(){return L})),a.d(t,"b",(function(){return k})),a.d(t,"c",(function(){return R})),a.d(t,"d",(function(){return z}));var i=a("EVdn"),r=a.n(i),n=a("BQdi"),s=a("PW1X"),o=a("g0Do"),l=(a("yDpE"),a("ZC6L")),c=a("4yHS"),d=a("GEPl"),u=a("xKMG");function p(e,t){for(var a,i,{mediaIndex:n,streamTypeString:p,streamID:h,allParts:m,allowMetrics:v,metricsProperties:g={},updateLocalOnly:y=!1}=t,f=d.a.get(p),b=e.provider,I=e.get("Media"),S=0,M=I.length;S<M;S++)if(!(n>=0&&n!==S)){for(var C=I[S],D=C.Part,P=0,O=D.length;P<O;P++){for(var j=D[P],T=j.Stream,w=0,E=T.length;w<E;w++){var N=T[w];if(N.streamType===f.id&&N.id===h){a=C,i=j;break}}if(i)break}if(i)break}if(!i)return r.a.Deferred().reject().promise();var x={[f.key]:h};m&&(x.allParts=1);var A=function(e,t,a,i,r){var n=Object.assign({},a,{Stream:a.Stream.map(e=>e.streamType!==i.id?e:e.id!==r||e.selected?e.id!==r&&e.selected?Object.assign({},e,{selected:!1}):e:Object.assign({},e,{selected:!0}))}),s=Object.assign({},t,{Part:Object(l.a)(t.Part,a,n)});return Object(l.a)(e,t,s)}(I,a,i,f,h);if(e.set({Media:A,isStreamChangeInProgress:!y}),y)return r.a.Deferred().resolve().promise();var L=i.key.match(new RegExp("^(.*/parts/"+i.id+")/")),k=s.join(L?L[1]:["/library/parts",i.id],x),R=b.getXHROptions(k,{type:"PUT",scope:"selectMetadataItemStream--"+i.id});u.a.abortAll(R.scope);var z=r.a.ajax(R).done(()=>{e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})}).fail(t=>{if(!t.aborting){var a={isStreamChangeInProgress:!1};e.get("Media")===A&&(a.Media=I),e.set(a)}});return v&&Object(o.c)("metrics").trackClick(Object.assign({},g,{action:c.db,type:e.get("type"),context:p})),z.promise()}var h=a("Qcsn"),m=a("wdGl"),v=a("PFxR"),g=a("Gjmh"),y=a("AG/Q"),f=a("5hhD"),b=a("pSG4"),I=a("PmXU"),S=a("kkNn"),M=a("vkLW"),C=a("4/mG"),D=a("A+r8"),P=a("ADhH"),O=a("yize");var j="metadata/repopulateMetadataItem",T=Object(n.a)("metadata/selectMetadataItemStream"),w=Object(n.a)("metadata/updateMetadataItemFollowMute"),E=Object(n.a)(j),N=Object(n.a)("metadata/removeMetadataItem"),x=Object(n.a)("metadata/toggleMetadataItemSave"),A=Object(n.a)("metadata/toggleMetadataItemPlexPick"),L=Object(n.a)("metadata/toggleMetadataItemWatchlist"),k=Object(n.a)("metadata/addMetadataItemToLibrary"),R=Object(n.a)("metadata/deleteMetadataItemStream"),z=(Object(n.a)("metadata/setMetadataItemStreamOffset"),{[j](e,t){var a=Object(M.q)(e,t);a&&a.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},"metadata/removeMetadataItem"(e,t){var a=Object(M.q)(e,t);a&&a.trigger("destroy",a,a.collection)},"metadata/selectMetadataItemStream"(e,t,a){var{mediaIndex:i,streamTypeString:r,streamID:n,allParts:s,metricsPage:o,updateLocalOnly:l}=t;p(Object(M.f)(e,t),{mediaIndex:i,streamTypeString:r,streamID:n,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||a(Object(h.d)(Object(D.default)("There was a problem selecting this stream.")))})},"metadata/updateMetadataItemFollowMute"(e,t){var a,{ratingKey:i,actionID:n,tagElement:d,value:u}=t,p=Object(M.j)(e,t),h=Object(M.f)(e,t),m=h.get(d),v=m.find(e=>e.ratingKey===i),f=Object.assign({},v);n===g.c&&(f.followed=u,f.muted=u&&v.muted?!v.muted:v.muted,a=c.A),n===g.d&&(f.muted=u,f.followed=u&&v.followed?!v.followed:v.followed,a=c.H);var b=Object(l.a)(m,v,f),I=p.get("features").get(y.b).get("actions").get(n),S=u?I.get("key"):I.get("reverseKey"),C=s.join(S,{ratingKey:i});h.set(d,b);var D=p.getXHROptions(C,{type:"PUT"});r.a.ajax(D).then(null,()=>{h.set(d,m)}),function(e,t,a,i={}){a&&Object(o.c)("metrics").trackClick(Object.assign({page:a,action:e,type:t.get("type")},i))}(a,h,t.metricsPage,{identifier:p.get("metricsIdentifier"),context:v.tag,value:u})},"metadata/toggleMetadataItemSave"(e,t,a){var i,n=Object(M.f)(e,t),o=Object(M.j)(e,{providerEntityID:n.get("providerEntityID")}),l=o.get("identifier"),c=f.k(l,f.f),d=n.get("ratingKey"),u=n.get("grandparentRatingKey");if(u&&!c){d=u;var p=n.get("grandparentKey");if(p){var m=Object(I.a)(S.g,p,t.serverEntityID);i=Object(M.q)(e,{metadataItemEntityID:m})}}var v=n.get("saved"),g=!v;n.set("saved",g),i&&i.set("saved",g);var b=o.get("features").get(y.b).get("actions").get("save"),C=g?b.get("key"):b.get("reverseKey"),D=s.join(C,{ratingKey:d}),P=o.getXHROptions(D,{type:"PUT"});r.a.ajax(P).then(()=>{a(Object(h.c)({serverEntityID:t.serverEntityID}))},()=>{n.set("saved",v),i&&i.set("saved",v)})},"metadata/toggleMetadataItemPlexPick"(e,t,a){var i=Object(M.f)(e,t),n=Object(M.j)(e,{providerEntityID:i.get("providerEntityID")}),o=i.get("ratingKey"),l=i.get("picked"),c=!l;i.set("picked",c);var d=n.get("features").get(y.b).get("actions").get("pick"),u=c?d.get("key"):d.get("reverseKey"),p=s.join(u,{ratingKey:o}),m=n.getXHROptions(p,{type:"PUT"});r.a.ajax(m).then(()=>{a(E({metadataItemEntityID:t.metadataItemEntityID}))},e=>{var t=Object(b.a)(e.responseText);a(Object(h.d)(t.message)),i.set("picked",l)})},"metadata/toggleMetadataItemWatchlist"(e,t,a){var i=Object(M.f)(e,t),n=Object(M.j)(e,{providerEntityID:i.get("providerEntityID")}),o=i.get("ratingKey"),l=i.get("watchlistedAt"),c=l?void 0:Date.now();i.set("watchlistedAt",c);var d=n.get("features").get(y.b).get("actions").get("addToWatchlist"),u=c?d.get("key"):d.get("reverseKey"),p=s.join(u,{ratingKey:o}),g=n.getXHROptions(p,{type:"PUT"});r.a.ajax(g).then(()=>{t.metricsPage===v.rb&&t.metricsProperties.context.includes(m.LIBRARY)?a(Object(h.c)({serverEntityID:t.serverEntityID})):a(E({metadataItemEntityID:t.metadataItemEntityID}))},e=>{var t=Object(b.a)(e.responseText);a(Object(h.d)(t.message)),i.set("watchlistedAt",l)})},"metadata/addMetadataItemToLibrary"(e,t,a){var i=Object(M.f)(e,t),n=Object(M.m)(e,t),o=Object(M.j)(e,{providerEntityID:i.get("providerEntityID")}),l=t.sectionKey.match(/\/library\/sections\/(\w+)/)[1],c={providers:"provider://"+o.get("identifier"),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:O.g.get(O.c).typeID},targetLibrarySectionID:l,hints:{guid:i.get("guid"),ratingKey:i.get("ratingKey"),title:i.get("title"),parentTitle:i.get("parentTitle")},type:Object(P.u)(i.get("type")).id},d=n.getXHROptions(s.join("/media/subscriptions",c),{type:"POST"});r.a.ajax(d)},"metadata/deleteMetadataItemStream"(e,t,a){var{streamKey:i,metadataItemEntityID:n}=t,s=Object(M.f)(e,t);Object(C.a)(()=>{s.set("isStreamDeleteInProgress",!0)});var o=s.server.getXHROptions(i,{type:"DELETE"});r.a.ajax(o).then(()=>{s.set("isStreamDeleteInProgress",!1),a(E({metadataItemEntityID:n}))},e=>{s.set("isStreamDeleteInProgress",!1),a(Object(h.d)(Object(D.default)("There was a problem deleting this stream.")))})},"metadata/setMetadataItemStreamOffset"(e,t,a){var{mediaIndex:i,streamTypeString:r,streamID:n,allParts:s,metricsPage:o,updateLocalOnly:l}=t;p(Object(M.f)(e,t),{mediaIndex:i,streamTypeString:r,streamID:n,allParts:s,allowMetrics:!!o,metricsProperties:{page:o},updateLocalOnly:l}).fail(e=>{e&&e.aborting||a(Object(h.d)(Object(D.default)("There was a problem selecting this stream.")))})}})},af0v:function(e,t,a){e.exports={label:"DVRSetupPostalCodeInput-label-2pX4ov FormLabel-label-2aLJ9b"}},aon8:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Nothing is synced to this device.",{hash:{},data:n}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '}))},apI8:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(r(a("ortX")).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:s}))+"</p> <p>"+l(r(a("ortX")).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:s}))+"</p> </h4> </div> "}))},auJy:function(e,t,a){e.exports={container:"MediaSubscriptionHintPosterTitle-container-1YkOT9",left:"MediaSubscriptionHintPosterTitle-left-2X9d4r",right:"MediaSubscriptionHintPosterTitle-right-3zh2jU",subscriptionBadge:"MediaSubscriptionHintPosterTitle-subscriptionBadge-k6PWnh MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"MediaSubscriptionHintPosterTitle-subscriptionBadgeIcon-2JWgb6",titleContainer:"MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc",staticHeightTitleContainer:"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-3HS2ME MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc"}},"b+Z3":function(e,t,a){e.exports={visibleContainer:"SeekBarThumbnail-visibleContainer-3eifZW",hiddenContainer:"SeekBarThumbnail-hiddenContainer-15Ujjv SeekBarThumbnail-visibleContainer-3eifZW",thumbnail:"SeekBarThumbnail-thumbnail-2rxzk1",tooltip:"SeekBarThumbnail-tooltip-WCnO4Y",small:"SeekBarThumbnail-small-21D-mk",large:"SeekBarThumbnail-large-1NQZT9"}},b3Ly:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+="<h4>"+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Files",{hash:{},data:n}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '}))},b6I9:function(e,t,a){"use strict";a.d(t,"b",(function(){return i})),a.d(t,"a",(function(){return r}));var i="html",r=[i,"mpv","samsung_avplay","webmaf_video_player"]},bA7v:function(e,t,a){e.exports={tag:"TagLabel-tag-2n9WOX",remove:"TagLabel-remove-27nEke"}},bErN:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=(a("Dq2B"),/\s+/),s=function(e,t,a,i){if(!a)return!0;if("object"==typeof a){for(var r in a)e[t].apply(e,[r,a[r]].concat(i));return!1}if(n.test(a)){for(var s=a.split(n),o=0,l=s.length;o<l;o++)e[t].apply(e,[s[o]].concat(i));return!1}return!0},o=function(e,t){var a,i=-1,r=e.length,n=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(a=e[i]).callback.call(a.ctx);return;case 1:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n);return;case 2:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n,s);return;case 3:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n,s,o);return;default:for(;++i<r;)(a=e[i]).callback.apply(a.ctx,t)}},l={on:function(e,t,a){return s(this,"on",e,[t,a])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:a,ctx:a||this}),this):this},once:function(e,t,a){if(!s(this,"once",e,[t,a])||!t)return this;var i=this,n=r.a.once((function(){i.off(e,n),t.apply(this,arguments)}));return n._callback=t,this.on(e,n,a)},off:function(e,t,a){var i,n,o,l,c,d,u,p;if(!this._events||!s(this,"off",e,[t,a]))return this;if(!e&&!t&&!a)return this._events=void 0,this;for(c=0,d=(l=e?[e]:r.a.keys(this._events)).length;c<d;c++)if(e=l[c],o=this._events[e]){if(this._events[e]=i=[],t||a)for(u=0,p=o.length;u<p;u++)n=o[u],(t&&t!==n.callback&&t!==n.callback._callback||a&&a!==n.context)&&i.push(n);i.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=[].slice.call(arguments,1);if(!s(this,"trigger",e,t))return this;var a=this._events[e],i=this._events.all;return a&&o(a,t),i&&o(i,arguments),this},stopListening:function(e,t,a){var i=this._listeningTo;if(!i)return this;var n=!t&&!a;for(var s in a||"object"!=typeof t||(a=this),e&&((i={})[e._listenId]=e),i)(e=i[s]).off(t,a,this),(n||r.a.isEmpty(e._events))&&delete this._listeningTo[s];return this},hasListener:function(e){var t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};r.a.each({listenTo:"on",listenToOnce:"once"},(function(e,t){l[t]=function(t,a,i){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=r.a.uniqueId("l"))]=t,i||"object"!=typeof a||(i=this),t[e](a,i,this),this}})),l.bind=l.on,l.unbind=l.off,t.a=l},bIaj:function(e,t,a){e.exports={playQueueIsLoading:"MiniPlayerContainer-playQueueIsLoading-30Z4GT"}},bJXi:function(e,t,a){e.exports={filtersScroller:"LibraryFiltersList-filtersScroller-2-lmLj Scroller-vertical-VScFLT"}},bKz6:function(e,t,a){e.exports={loadingItem:"MetadataSummaryCellLoading-loadingItem-2TLkoX",alternateLoadingItem:"MetadataSummaryCellLoading-alternateLoadingItem-6d55PW MetadataSummaryCellLoading-loadingItem-2TLkoX",posterContainer:"MetadataSummaryCellLoading-posterContainer-18W6xj"}},bb11:function(e,t,a){e.exports={icon:"ModalContentError-icon-235FFE",default:"ModalContentError-default-1xFU82",primary:"ModalContentError-primary-34blWW",success:"ModalContentError-success-2Wv-fJ",danger:"ModalContentError-danger-22PUTO",message:"ModalContentError-message-3J35my"}},bfGs:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i);t.a=function(e,t){var a=[];if(e){var i=r.a.first(e.Part);i&&i.Stream&&a.push.apply(a,r.a.where(i.Stream,t))}return a}},bq2q:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this,l=this.escapeExpression;function c(e,t){return"home"}function d(e,t){var i;return(i=a.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.network,{hash:{},inverse:o.program(9,p,t),fn:o.program(7,u,t),data:t}))||0===i?i:""}function u(e,t){return"globe"}function p(e,t){var i;return(i=a.if.call(e,e&&e.isRoot,{hash:{},inverse:o.program(12,m,t),fn:o.program(10,h,t),data:t}))||0===i?i:""}function h(e,t){return"hdd"}function m(e,t){return"folder-open"}return s+='<a class="striped-list-item" href="#" data-key="'+l("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.key)?n.apply(t):n)+'" title="'+l("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.title)?n.apply(t):n)+'" aria-label="'+l("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.title)?n.apply(t):n)+'"> <i class="folder-icon glyphicon ',((n=a.if.call(t,null==(n=t&&t.filePath)||!1===n?n:n.isBackShortcut,{hash:{},inverse:o.program(3,(function(e,t){var i;return(i=a.if.call(e,null==(i=e&&e.filePath)||!1===i?i:i.home,{hash:{},inverse:o.program(6,d,t),fn:o.program(4,c,t),data:t}))||0===i?i:""}),r),fn:o.program(1,(function(e,t){return"left-arrow"}),r),data:r}))||0===n)&&(s+=n),s+='"></i>&nbsp;'+l("function"==typeof(n=null==(n=t&&t.filePath)||!1===n?n:n.title)?n.apply(t):n)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '}))},btL4:function(e,t,a){e.exports={container:"PageHeaderMultiselectActions-container-2k4DLu PageHeader-pageHeader-2KNPGd",button:"PageHeaderMultiselectActions-button-2eKuNY ActionButton-iconActionButton-2ry8hd ActionButton-actionButton-2LOxoL Button-button-3A5jB3 Link-link-2ew_DK",icon:"PageHeaderMultiselectActions-icon-1ozTr-",count:"PageHeaderMultiselectActions-count-2fQWwV",actions:"PageHeaderMultiselectActions-actions-2zhPwd",deselect:"PageHeaderMultiselectActions-deselect-2hA_PG"}},buR4:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '}))},c4QI:function(e,t,a){e.exports={dragPreview:"RecordingPrioritySubscriptionDragPreview-dragPreview-3q037K"}},c7MW:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((o=i.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,(function(e,t){var i="";return i+=" <h1>"+c(r(a("ortX")).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(r(a("ortX")).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "}),s),fn:this.program(1,(function(e,t){var i="";return i+=" <h1>"+c(r(a("ortX")).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> </div> "}))},c7dm:function(e,t,a){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-1LYaxC TableHeaderCell-tableHeaderCell-1pgi80 TableCell-tableCell-2mwuHk"}},cAHu:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i,n="";return n+=" ",((i=r(a("YFQD")).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===i)&&(n+=i),n+=" "}function p(e,t){var i="";return i+=' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(r(a("ortX")).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((o=i.each.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,n){var s,o="";return o+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((s=i.if.call(e,n&&n.edit,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" "}),s,t),data:s}))||0===o)&&(l+=o),l+=" "}))},cFG9:function(e,t,a){e.exports={container:"AudioVideoStripeContainer-container-MI02OU"}},cGVK:function(e,t,a){"use strict";a.d(t,"c",(function(){return o})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return c}));var i=a("F/us"),r=a.n(i),n=a("8gq0");function s(e,t){return t||(t={}),r.a.defaults(t,{typeName:e,parse:r.a.bind(n.a.parseType,n.a,e)})}var o=s("xml",{accept:"application/xml"}),l=s("json",{accept:"application/json"}),c=s("text")},cTZx:function(e,t,a){e.exports={input:"SharedServerLibrary-input-1WHloB CheckInput-input-1Pi_2g"}},cUsW:function(e,t,a){e.exports={scroller:"VirtualListScroller-scroller-3aWqhy"}},cV2A:function(e,t,a){e.exports={container:"Bandwidth-container-2rffpk",graph:"Bandwidth-graph-_E0-J3"}},cbdg:function(e,t,a){e.exports={container:"AllSourcesSidebarContent-container-3ONiKZ",serverContainer:"AllSourcesSidebarContent-serverContainer-1HtNbS",iconImg:"AllSourcesSidebarContent-iconImg-1hajvx",extrasContainer:"AllSourcesSidebarContent-extrasContainer-12nvl9"}},ccVO:function(e,t){var a="id"+Date.now(),i=0;e.exports=function(e){return""+(e||a)+i++}},ccYj:function(e,t,a){e.exports={emptyMessage:"SharedServerLibraries-emptyMessage-3D4Rel"}},"ce/m":function(e,t,a){e.exports={container:"PageHeaderToolbar-container-NMKiv4"}},ceEp:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(o=t&&t.locked,null==o||!1===o?o:o.genre)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(o=t&&t.locked,null==o||!1===o?o:o.collection)},data:s}))+" </div> </div> </form> "}))},chwz:function(e,t,a){e.exports={container:"FirstRunExperienceActionsContainer-container-1Uv1FY",titleBar:"FirstRunExperienceActionsContainer-titleBar-iWGY90",titleText:"FirstRunExperienceActionsContainer-titleText-3KDIHA",scroller:"FirstRunExperienceActionsContainer-scroller-3w2d0r Scroller-vertical-VScFLT"}},cifS:function(e,t,a){e.exports={pageHeader:"DirectoryPageHeader-pageHeader-2dwhds PrimaryPageHeader-pageHeader-21UFe6 PageHeader-pageHeader-2KNPGd"}},cnJD:function(e,t,a){(function(e){!function(e){"use strict";var t=function(a,i){this.$element=e(a),this.options=e.extend({},t.DEFAULTS,i)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",a=this.$element,i=a.is("input")?"val":"html",r=a.data();e+="Text",r.resetText||a.data("resetText",a[i]()),a[i](r[e]||this.options[e]),setTimeout((function(){"loadingText"==e?a.addClass(t).attr(t,t):a.removeClass(t).removeAttr(t)}),0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"));this.$element.toggleClass("active")};var a=e.fn.button;e.fn.button=function(a){return this.each((function(){var i=e(this),r=i.data("bs.button"),n="object"==typeof a&&a;r||i.data("bs.button",r=new t(this,n)),"toggle"==a?r.toggle():a&&r.setState(a)}))},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=a,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",(function(t){var a=e(t.target);a.hasClass("btn")||(a=a.closest(".btn")),a.button("toggle"),t.preventDefault()}))}(e)}).call(this,a("EVdn"))},cora:function(e,t,a){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-3-v_so"}},cpNh:function(e,t,a){e.exports={metadataListPageContent:"MetadataListPageContent-metadataListPageContent-s56y9M PageContent-pageContent-16mK6G",metadataListScroller:"MetadataListPageContent-metadataListScroller-1uFgYL",hasGutter:"MetadataListPageContent-hasGutter-1EfyE0",attribution:"MetadataListPageContent-attribution-3zY50M"}},cpX0:function(e,t,a){e.exports={button:"SourceSidebarItem-button-257zM0 SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SourceSidebarItem-iconImg-2zgKLr",isActive:"SourceSidebarItem-isActive-3_yiwn SourceSidebarLink-isActive-2_QExr",overflowButton:"SourceSidebarItem-overflowButton-1lLH3b",isSelected:"SourceSidebarItem-isSelected-2FULYf SourceSidebarLink-isSelected-27-9-6",actionContainer:"SourceSidebarItem-actionContainer-3H9EXk",pinnedIcon:"SourceSidebarItem-pinnedIcon-2WBaus",hiddenOverflowButton:"SourceSidebarItem-hiddenOverflowButton-267PaV"}},cqN0:function(e,t,a){e.exports={button:"SplitButton-button-1B9GD_",mainButton:"SplitButton-mainButton-1vneBy",menuButton:"SplitButton-menuButton-2koqFK"}},ctCg:function(e,t,a){e.exports={bottomDivider:"PrePlayListBottomDivider-bottomDivider-3XSncY PrePlayDivider-divider-1qvbj9"}},cyOn:function(e,t,a){e.exports={cardContainer:"MetadataDirectoryPosterCard-cardContainer-ZkpfRo MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataDirectoryPosterCard-card-3HffoU MetadataPosterCard-card-3bztRc",face:"MetadataDirectoryPosterCard-face-1a7ldr MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",overlay:"MetadataDirectoryPosterCard-overlay-1W6FjR MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",overlayBackground:"MetadataDirectoryPosterCard-overlayBackground-23yvvb MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",overlayLink:"MetadataDirectoryPosterCard-overlayLink-3Lb0W4 MetadataPosterCardOverlay-link-1SwhlG",overlaySelectCoverButton:"MetadataDirectoryPosterCard-overlaySelectCoverButton-31KJlc MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",iconContainer:"MetadataDirectoryPosterCard-iconContainer-2qCCQC",titleContainer:"MetadataDirectoryPosterCard-titleContainer-waqIG7",titleItem:"MetadataDirectoryPosterCard-titleItem-3i-cuz"}},cyda:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="',s+=(0,this.escapeExpression)((n=a.path)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.path)?n.call(t,{hash:{},data:r}):n)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> '}))},czqj:function(e,t,a){e.exports={button:"UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",selectedButton:"UserListItem-selectedButton-bI362D UserListItem-button-3oUfiA Button-button-2kT68l Link-link-2n0yJn",avatar:"UserListItem-avatar-3Kgumg AvatarImg-avatar-3Op56u",titleContainer:"UserListItem-titleContainer-5VtBPN",title:"UserListItem-title-j29JRH",email:"UserListItem-email-XVTmFn",icon:"UserListItem-icon-1ajF2v",selectedIcon:"UserListItem-selectedIcon-bCsaB2 UserListItem-icon-1ajF2v",homeIcon:"UserListItem-homeIcon-2XcvVB UserListItem-icon-1ajF2v",visibleHomeIcon:"UserListItem-visibleHomeIcon-3Gwyfb"}},"d+lh":function(e,t,a){e.exports={content:"PrePlayMetadataContent-content-2ww3jI"}},d0sW:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(o=t&&t.paneTitle)?o.apply(t):o)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.general,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(r(a("ortX")).call(e,"General",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.tags,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(r(a("ortX")).call(e,"Tags",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.sharing,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(r(a("ortX")).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.poster,{hash:{},inverse:this.noop,fn:this.program(7,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(r(a("ortX")).call(e,"Poster",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.banner,{hash:{},inverse:this.noop,fn:this.program(9,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(r(a("ortX")).call(e,"Banner",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.art,{hash:{},inverse:this.noop,fn:this.program(11,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(r(a("ortX")).call(e,"Background",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.info,{hash:{},inverse:this.noop,fn:this.program(13,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(r(a("ortX")).call(e,"Info",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,null==(o=t&&t.panes)||!1===o?o:o.advanced,{hash:{},inverse:this.noop,fn:this.program(15,(function(e,t){var i="";return i+=' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(r(a("ortX")).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "}),s),data:s}))||0===o)&&(l+=o),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Save Changes",{hash:{},data:s}))+"</span> </button> </div> </div> </div> "}))},d36p:function(e,t,a){e.exports={disclosureArrow:"DisclosureArrow-disclosureArrow-1KPaBC",default:"DisclosureArrow-default-_QTDZt",primary:"DisclosureArrow-primary-2w1Tep",success:"DisclosureArrow-success-1gS8PY",danger:"DisclosureArrow-danger-3OtVyw",small:"DisclosureArrow-small-lqtG6h",up:"DisclosureArrow-up-L-Dw3O",right:"DisclosureArrow-right-2D3Mwp",medium:"DisclosureArrow-medium-20IdwE",large:"DisclosureArrow-large-2JBrDF",down:"DisclosureArrow-down-3lf_Gg DisclosureArrow-up-L-Dw3O",left:"DisclosureArrow-left-3Q0NGs DisclosureArrow-right-2D3Mwp",isSelected:"DisclosureArrow-isSelected-QMJhDY"}},dCCs:function(e,t,a){e.exports={menu:"NavBarActivityMenu-menu-1AVWxV Menu-menu-3XnN6J"}},dDQa:function(e,t,a){e.exports={confirmBody:"ConfirmModal-confirmBody-10ifxp ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",accordLabel:"ConfirmModal-accordLabel-2PQCSz",accordInput:"ConfirmModal-accordInput-3RjnHc",cancelButton:"ConfirmModal-cancelButton-3A26bv",confirmButton:"ConfirmModal-confirmButton-1DVQ-r"}},dEGP:function(e,t,a){e.exports={container:"WatchTogetherLobbyMetadataPoster-container-2CLPKK",title:"WatchTogetherLobbyMetadataPoster-title-36YN73"}},dFNS:function(e,t,a){e.exports={posterCardContainer:"PrePlayCastCell-posterCardContainer-2xrsDg",posterCardLinkContainer:"PrePlayCastCell-posterCardLinkContainer-27hxZ8 PrePlayCastCell-posterCardContainer-2xrsDg",titleContainer:"PrePlayCastCell-titleContainer-PAy29K"}},dJu0:function(e,t,a){e.exports={subtitle:"ShareRestrictionsSelectInputItem-subtitle-3iXCZU"}},dO6p:function(e,t,a){e.exports={modalContent:"ModalContent-modalContent-4GS6yU",closeButton:"ModalContent-closeButton-25n_Ut Link-link-2ew_DK"}},dORf:function(e,t,a){e.exports={calendarHeaderContainer:"CalendarHeader-calendarHeaderContainer-2f7fSq",calendarHeader:"CalendarHeader-calendarHeader-moR_Hb",calendarNav:"CalendarHeader-calendarNav-rIR1ko Link-link-2n0yJn",calendarNavDisabled:"CalendarHeader-calendarNavDisabled-1bqai2"}},"dQj/":function(e,t,a){e.exports={menuItem:"MenuItem-menuItem-1s02mQ",isDisabled:"MenuItem-isDisabled-37rHXk",isHidden:"MenuItem-isHidden-t1VSNw",default:"MenuItem-default-2SKQ84",primary:"MenuItem-primary-2LuUHM",success:"MenuItem-success-3F7NZJ",danger:"MenuItem-danger-3P_Dfn"}},dSJO:function(e,t,a){e.exports={legendLabel:"LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",dot:"LegendLabel-dot-320-i6"}},doJ2:function(e,t,a){e.exports={button:"AcceptInviteButton-button-1h_5ks",spinner:"AcceptInviteButton-spinner-2um426"}},dokP:function(e,t,a){"use strict";a.r(t);var i=a("8gq0"),r=a("A+r8");t.default=function(e){return e&&i.a.parseBoolean(e)?Object(r.default)("Yes"):Object(r.default)("No")}},doli:function(e,t,a){e.exports={container:"PlayHistory-container-2YYwNl",link:"PlayHistory-link-2lq7Qn"}},dpdm:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a;return c("function"==typeof(a=null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.value)?a.apply(e):a)}function p(e,t){var a;return c("function"==typeof(a=null==(a=e&&e.server)||!1===a?a:a.friendlyName)?a.apply(e):a)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <form id="setup-basic-form" class="settings-container"> ',((o=i.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+c(r(a("ortX")).call(e,"Give your server a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+c("function"==typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.id)?n.apply(e):n)+'" class="form-control" value="',((n=i.if.call(e,null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value,{hash:{},inverse:d.program(4,p,t),fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+='" placeholder="'+c("function"==typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)?n.apply(e):n)+'"> </div> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.publishSetting,{hash:{},inverse:d.noop,fn:d.program(6,(function(e,t){var i,n="";return n+=' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+c("function"==typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)?i.apply(e):i)+'"> <input type="checkbox" id="'+c("function"==typeof(i=null==(i=e&&e.publishSetting)||!1===i?i:i.id)?i.apply(e):i)+'" checked> '+c(r(a("ortX")).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+c(r(a("ortX")).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Next",{hash:{},data:s}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},dsvT:function(e,t,a){"use strict";t.a=function(...e){return t=>{e.forEach(e=>{"function"==typeof e?e(t):null!=e&&(e.current=t)})}}},dvMK:function(e,t,a){"use strict";a.r(t);var i=a("PW1X"),r=a("jejw"),n=a("DTXE"),s=a("cGVK"),o=a("Sgs+"),l=r.a.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:n.a.string,title:n.a.string,path:n.a.string,network:n.a.boolean}}),c=o.a.extend({name:"FileCollection",model:l}),d=r.a.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:n.a.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:a("dvMK").default,options:{url:i.join([this.id],e)}}}},syncedAttrs:{key:n.a.string,title:n.a.string,path:n.a.string,home:n.a.boolean,network:n.a.boolean}}),u=o.a.extend({name:"FilePathCollection",context:["server","includeFiles"],model:d,url(){var e={};return this.includeFiles&&(e.includeFiles=1),i.join(["/services/browse"],e)}}),p=r.a.extend({name:"FilePathListModel",responseType:s.a,context:["server","includeFiles","url"],url(){var e={};return this.includeFiles&&(e.includeFiles=1),i.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:n.a.integer},syncedRelations:{paths:{relationClass:u,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:e=>(e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e)});t.default=p},dvhI:function(e,t,a){"use strict";var i=a("sWYD"),r=a("TpeJ"),n=a("cHAT"),s=a("/Tr7"),o=a("80CU"),l=a("A+r8");t.a=function(e){var t=e.seasonIndex,a=e.episodeIndex;if((a>0||0===a)&&t<1e3){e.noLeadingZero||(t=Object(o.a)(t),a=Object(o.a)(a));var c=e.separator;return e.useLongName?""+Object(l.default)("Season {seasonNumber}",{seasonNumber:t})+(c||" ")+Object(l.default)("Episode {episodeNumber}",{episodeNumber:a}):""+Object(l.default)("S{seasonNumber}",{seasonNumber:t})+(c||"")+Object(l.default)("E{episodeNumber}",{episodeNumber:a})}if(e.date){var d=Object(s.a)(e.date);return Object(l.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(n.a)(d)+1,dayNumber:Object(r.a)(d),shortYear:Object(i.a)(d,"yy")})}return""}},dz8L:function(e,t,a){"use strict";var i=a("iEE2"),r=a("HR/i"),n=window.ResizeObserver||r.a;t.a=function(e){return Object(i.a)(Object.assign({polyfill:n},e))}},"e/8p":function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="";return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+(0,this.escapeExpression)((o=a("Nup9"),o&&(o.__esModule?o.default:o)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:n}))+" </div> </div> </form> "}))},"e/fv":function(e,t,a){e.exports={status:"PrePlayPosterCardPlayedStatus-status-2jS2_A",label:"PrePlayPosterCardPlayedStatus-label-1a29LI",playedBadge:"PrePlayPosterCardPlayedStatus-playedBadge-1dXJGf PlayedBadge-playedBadge-nExTpX Badge-badge-3I6Kzp",watchlistBadge:"PrePlayPosterCardPlayedStatus-watchlistBadge-FXFUb9 WatchlistBadge-watchlistBadge-JTghpe Badge-badge-3I6Kzp",recordingBadge:"PrePlayPosterCardPlayedStatus-recordingBadge-3LMXDJ RecordingBadge-recordingBadge-2UNalG"}},e0vz:function(e,t,a){e.exports={button:"RemoveUserActionButton-button-3Y1kUf"}},e1Br:function(e,t,a){var i,r;i=a("F/us"),r=a("zLeb"),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,a){var i,r={};return r.Handlers=function(e,t){var a=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return a.extend=e.Model.extend,t.extend(a.prototype,e.Events,{setHandlers:function(e){t.each(e,(function(e,a){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(a,e,i)}),this)},setHandler:function(e,t,a){var i={callback:t,context:a};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,a)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),a}(e,a),r.CommandStorage=(i=function(e){this.options=e,this._commands={},a.isFunction(this.initialize)&&this.initialize(e)},a.extend(i.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),i),r.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var a=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,a)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,i){var r=this.storage.getCommands(e);a.each(r.instances,(function(e){t.apply(i,e)})),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,i=e.storageType||this.storageType;t=a.isFunction(i)?new i:i,this.storage=t}})}(r),r.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(r),r.EventAggregator=function(e,t){var a=function(){};return a.extend=e.Model.extend,t.extend(a.prototype,e.Events),a}(e,a),r}(t,t.Marionette,e),t.Wreqr}(i,r)},eBN0:function(e,t,a){e.exports={playButton:"ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordButton:"ChannelsGridMetadataDetailButtons-recordButton-17JFUk ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordingIcon:"ChannelsGridMetadataDetailButtons-recordingIcon-1R0yT4",icon:"ChannelsGridMetadataDetailButtons-icon-1-luT7"}},eEGg:function(e,t,a){e.exports={container:"HomeHubListItemDragSource-container-1T0Duj",isOver:"HomeHubListItemDragSource-isOver-1k9kxT"}},"eEL/":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(o=t&&t.item,null==o||!1===o?o:o.title),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.title),locked:(o=t&&t.locked,null==o||!1===o?o:o.title)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(o=t&&t.item,null==o||!1===o?o:o.titleSort),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.titleSort),locked:(o=t&&t.locked,null==o||!1===o?o:o.titleSort)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableNumericInput",{hash:{label:"Rating",name:"rating",value:(o=t&&t.item,null==o||!1===o?o:o.rating),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.rating),locked:(o=t&&t.locked,null==o||!1===o?o:o.rating)},data:s}))+' </div> <div class="col-md-6"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(o=t&&t.item,null==o||!1===o?o:o.originallyAvailableAt),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.originallyAvailableAt),locked:(o=t&&t.locked,null==o||!1===o?o:o.originallyAvailableAt)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:s}))+" </div> </div> </form> "}))},eLO8:function(e,t,a){e.exports={item:"SharedItemCell-item-1zPRl5",isDeleteConfirmModalOpen:"SharedItemCell-isDeleteConfirmModalOpen-11H8ra",deleteButton:"SharedItemCell-deleteButton-dCizo9",alternateItem:"SharedItemCell-alternateItem-3_FMUG SharedItemCell-item-1zPRl5",posterContainer:"SharedItemCell-posterContainer-3hslOa",poster:"SharedItemCell-poster-3EMHjs",summaryContainer:"SharedItemCell-summaryContainer-3tZI7L",titleContainer:"SharedItemCell-titleContainer-3k7AdO",title:"SharedItemCell-title-3i3298",subtitle:"SharedItemCell-subtitle-1rkAxG SharedItemCell-title-3i3298",separator:"SharedItemCell-separator-2crI2a DashSeparator-separator-4CyEFW",actions:"SharedItemCell-actions-1eKPlQ",icon:"SharedItemCell-icon-3jrJRs"}},eO7X:function(e,t,a){e.exports={container:"AccountSummary-container-2EbPg2",actionLinksContainer:"AccountSummary-actionLinksContainer-2aUMQI",actionLinks:"AccountSummary-actionLinks-1tXSN6 SettingsFormSectionActionLinks-actionLinks-2vGv7Q",linkSeparator:"AccountSummary-linkSeparator-F6ygAk",separator:"AccountSummary-separator-23I7sP DashSeparator-separator-4CyEFW",badgeContainer:"AccountSummary-badgeContainer-2TYeDA",plexPassBadge:"AccountSummary-plexPassBadge-27hFF9",textBadge:"AccountSummary-textBadge-3M187q"}},ePga:function(e,t,a){e.exports={controls:"WatchTogetherLobbyControls-controls-olOgI6 PlayerControls-controls-e59abb",buttonGroup:"WatchTogetherLobbyControls-buttonGroup-3xsaXv PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"WatchTogetherLobbyControls-buttonGroupLeft-2a2-hk PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"WatchTogetherLobbyControls-buttonGroupCenter-1OVvvY PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"WatchTogetherLobbyControls-buttonGroupRight-1Cjjiw PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",balanceLeft:"WatchTogetherLobbyControls-balanceLeft-352OhH PlayerControls-balanceLeft--vfZAg",button:"WatchTogetherLobbyControls-button-3_hq2P WatchTogetherLobbyControlButton-button-2pzvIx Button-button-2kT68l Link-link-2n0yJn",hasLandscapePoster:"WatchTogetherLobbyControls-hasLandscapePoster-2jgsTC PlayerControls-hasLandscapePoster-23Gat5"}},"eR/B":function(e,t,a){e.exports={container:"MetadataTitleAttributedYear-container-13zCHq",badge:"MetadataTitleAttributedYear-badge-2LIkKl",title:"MetadataTitleAttributedYear-title-1wqqCr"}},eRZe:function(e,t,a){e.exports={container:"MetadataTitleAttributedLink-container-3yxPWV",badge:"MetadataTitleAttributedLink-badge-jZWYpy",title:"MetadataTitleAttributedLink-title-3qLtHw"}},eSZy:function(e,t,a){e.exports={container:"QuickSearchResults-container-3IlHhN"}},eYpM:function(e,t,a){e.exports={input:"TextInput-input-1mDdJf",small:"TextInput-small-1XXilD",medium:"TextInput-medium-qD1PE1",large:"TextInput-large-18fV9r",isDisabled:"TextInput-isDisabled-1NW5p-",hasError:"TextInput-hasError-3AtKMF"}},egLJ:function(e,t,a){e.exports={container:"AutosuggestInput-container-20ylXd",input:"AutosuggestInput-input-1--lBD",suggestionsContainer:"AutosuggestInput-suggestionsContainer-3jInGa Scroller-scroller-3GqQcZ Scroller-vertical-VScFLT Menu-menu-3XnN6J",suggestionsContainerOpen:"AutosuggestInput-suggestionsContainerOpen-YnHMHi",suggestionsList:"AutosuggestInput-suggestionsList-2NO4yX",suggestion:"AutosuggestInput-suggestion-1Q-8mZ MenuItem-menuItem-1s02mQ",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3YxSr7"}},eh44:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("GEPl"),s=a("bfGs");t.a=function(e){var t=n.a.get("audio").id,a=Object(s.a)(e,{streamType:t,selected:!0});return r.a.first(a)}},eosY:function(e,t,a){"use strict";function i(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}a.d(t,"a",(function(){return i}))},eq1q:function(e,t,a){e.exports={titleContainer:"MetadataTableTitle-titleContainer-3sPQCa",title:"MetadataTableTitle-title-2WmEM3",folderIconContainer:"MetadataTableTitle-folderIconContainer-3TcvnR MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",folderIcon:"MetadataTableTitle-folderIcon-1bAaoB MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk",multiVersionIcon:"MetadataTableTitle-multiVersionIcon-1lcNL3 MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},fCYg:function(e,t,a){e.exports={container:"ServerDashboardPageUpdateMessage-container-1E003h",link:"ServerDashboardPageUpdateMessage-link-2MFkCT Link-link-2ew_DK"}},fEqS:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i="0"},"fPZ+":function(e,t,a){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-6mIBnP PageHeader-pageHeader-2KNPGd",attribution:"PrePlayPageHeader-attribution-3CHaaR"}},fTYo:function(e,t,a){e.exports={providerTitle:"SearchProviderHubs-providerTitle-3nGwSv",spinner:"SearchProviderHubs-spinner-1-T9Ul"}},fZAC:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"selected"}function p(e,t){var i="";return i+=" - "+c(r(a("0enV")).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((o=i.if.call(t,t&&t.disableTarget,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return"disabled"}),s),data:s}))||0===o)&&(l+=o),l+="> ",((o=i.each.call(t,t&&t.targets,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,(function(e,t,n){var s,o="";return o+=' <option value="'+c("function"==typeof(s=e&&e.id)?s.apply(e):s)+'" ',((s=r(a("YFQD")).call(e,null==(s=n&&n.item)||!1===s?s:s.targetTagID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===s)&&(o+=s),o+="> "+c("function"==typeof(s=e&&e.tag)?s.apply(e):s),((s=i.if.call(e,null==(s=e&&e.mediaSettings)||!1===s?s:s.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,p,t),data:t}))||0===s)&&(o+=s),o+=" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' <option value="-1" ',((o=i.unless.call(t,null==(o=t&&t.item)||!1===o?o:o.targetTagID,{hash:{},inverse:d.noop,fn:d.program(4,u,s),data:s}))||0===o)&&(l+=o),l+=">"+c(r(a("ortX")).call(t,"Custom",{hash:{},data:s}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.item)||!1===o?o:o.target)?o.apply(t):o)+'" placeholder="'+c(r(a("ortX")).call(t,"Quality Name",{hash:{},data:s}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((o=i.each.call(t,t&&t.profiles,{hash:{},inverse:d.noop,fn:d.programWithDepth(8,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedProfile)||!1===n?n:n.title,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c("function"==typeof(n=e&&e.title)?n.apply(e):n)+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((o=i.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,(function(e,t,i){var n,s="";return s+=' <option value="'+c("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedCustomQuality)||!1===n?n:n.index,e&&e.index,{hash:{},inverse:d.noop,fn:d.program(4,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("0enV")).call(e,e,{hash:{},data:t}))+" </option> "}),s,t),data:s}))||0===o)&&(l+=o),l+=' </select> </div> <p class="help-block">'+c(r(a("ortX")).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:s}))+"</p> "}))},fZKy:function(e,t,a){e.exports={item:"SharedItemMetadataCell-item-w0Wz_p",isActionsMenuOpen:"SharedItemMetadataCell-isActionsMenuOpen-HTHI-h",moreButton:"SharedItemMetadataCell-moreButton-1uwdP1",alternateItem:"SharedItemMetadataCell-alternateItem-1TBVng SharedItemMetadataCell-item-w0Wz_p",underlay:"SharedItemMetadataCell-underlay-3Z1q2M",overlay:"SharedItemMetadataCell-overlay-2l-RKE",posterContainer:"SharedItemMetadataCell-posterContainer-3O2CIh",summaryContainer:"SharedItemMetadataCell-summaryContainer-1RnMUu",titleContainer:"SharedItemMetadataCell-titleContainer-3gfbmb",title:"SharedItemMetadataCell-title-1x3m6K",type:"SharedItemMetadataCell-type-2bG9Xp",actions:"SharedItemMetadataCell-actions-3NIcCg"}},fbCT:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;function d(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'">'+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,t&&t.label,{hash:{},data:n}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="input-group-addon edit-lock-addon ',((s=i.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return"locked"}),n),data:n}))||0===s)&&(l+=s),l+=" ",((s=i.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,n),data:n}))||0===s)&&(l+=s),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" class="form-control lockable-field" name="'+c("function"==typeof(s=t&&t.name)?s.apply(t):s)+'" value="'+c("function"==typeof(s=t&&t.value)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=t&&t.placeholder)?s.apply(t):s)+'" ',((s=i.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,d,n),data:n}))||0===s)&&(l+=s),l+="> </div> </div> "}))},fhkX:function(e,t,a){e.exports={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-2sPDnQ",buttonContainer:"ServerTroubleshootingPane-buttonContainer-32mhYG",buttonStatus:"ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-12Jbj9 ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-1Kyp1H ServerTroubleshootingPane-buttonStatus-_ZS1zr",button:"ServerTroubleshootingPane-button-Av642k",description:"ServerTroubleshootingPane-description-2JlKLF"}},fjrA:function(e,t,a){"use strict";var i,r,n,s,o,l;a.d(t,"f",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"e",(function(){return s})),a.d(t,"b",(function(){return o})),a.d(t,"a",(function(){return l})),function(e){e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.Enter="Enter",e.KeyA="KeyA",e.KeyC="KeyC",e.KeyD="KeyD",e.KeyF="KeyF",e.KeyG="KeyG",e.KeyH="KeyH",e.KeyI="KeyI",e.KeyJ="KeyJ",e.KeyK="KeyK",e.KeyL="KeyL",e.KeyQ="KeyQ",e.KeyR="KeyR",e.KeyS="KeyS",e.KeyW="KeyW",e.KeyX="KeyX",e.KeyT="KeyT",e.KeyZ="KeyZ",e.ShiftLeft="ShiftLeft",e.ShiftRight="ShiftRight"}(i||(i={})),function(e){e[e.Button0=0]="Button0",e[e.Button1=1]="Button1",e[e.Button2=2]="Button2",e[e.Button3=3]="Button3",e[e.Button4=4]="Button4",e[e.Button5=5]="Button5",e[e.Button6=6]="Button6",e[e.Button7=7]="Button7",e[e.Button8=8]="Button8",e[e.Button9=9]="Button9",e[e.Button10=10]="Button10",e[e.Button11=11]="Button11",e[e.Button12=12]="Button12",e[e.Button13=13]="Button13",e[e.Button14=14]="Button14",e[e.Button15=15]="Button15",e[e.Button16=16]="Button16",e[e.Button17=17]="Button17"}(r||(r={})),function(e){e[e.Axis0=0]="Axis0",e[e.Axis1=1]="Axis1",e[e.Axis2=2]="Axis2",e[e.Axis3=3]="Axis3"}(n||(n={})),function(e){e[e.None=0]="None",e[e.Keyboard=1]="Keyboard",e[e.Gamepad=2]="Gamepad"}(s||(s={})),function(e){e[e.Ok=0]="Ok",e[e.UnknownFailure=8e3]="UnknownFailure",e[e.AccountLinkageMissing=8001]="AccountLinkageMissing",e[e.PlatformMissing=8002]="PlatformMissing",e[e.PlatformCoreMappingMissing=8003]="PlatformCoreMappingMissing",e[e.PlatformCoreMissing=8004]="PlatformCoreMissing",e[e.TranscoderDied=8005]="TranscoderDied",e[e.InvalidCoreMappingFile=8006]="InvalidCoreMappingFile",e[e.MissingCoreMappingFile=8007]="MissingCoreMappingFile",e[e.SessionPeerNeverShowedUp=8008]="SessionPeerNeverShowedUp",e[e.TranscoderDownloading=8009]="TranscoderDownloading",e[e.PlatformCoreDownloading=8010]="PlatformCoreDownloading"}(o||(o={})),function(e){e[e.PauseGame=1]="PauseGame",e[e.ResumeGame=2]="ResumeGame"}(l||(l={}))},flN6:function(e,t,a){"use strict";function i(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}a.d(t,"a",(function(){return i}))},fomp:function(e,t,a){"use strict";a.d(t,"a",(function(){return h})),a.d(t,"b",(function(){return m}));var i=a("8OQS"),r=a.n(i),n=a("zLeb"),s=a.n(n),o=a("F/us"),l=a.n(o),c=a("jQ5Z"),d=(a("Dq2B"),a("PW1X")),u={bindToModel:function(){this.bindings&&l.a.each(l.a.keys(this.bindings),(function(e){var t,a=this.bindings[e];if(t=a.model?this[a.model]:this[this.bindingsModel]||this.model){var i=a.modelListeners||[a.modelAttribute];l.a.each(i,(function(i){var r={obj:t,name:"change:"+i,callback:l.a.bind(this.renderBinding,this,e,a,t)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(r),this.listenTo(r.obj,r.name,r.callback)}),this),this.renderBinding(e,a,t)}}),this)},unbindFromModel:function(){this.bindings&&(l.a.each(this._bindingListeners,(function(e){this.stopListening(e.obj,e.name,e.callback)}),this),this._bindingListeners=null)},renderBinding:function(e,t,a){var i=this.$(e),r=t.formatter,n=!!t.isHtml,s=t.autohide,o=t.hiddenClass||"hidden",c=a.get(t.modelAttribute);if(r&&(c=r.call(this,c,i)),s){var d=l.a.isFunction(s)?s.call(this,c):c;i.toggleClass(o,!d)}t.manual||(!n&&l.a.isString(c)&&(c=l.a.escape(c)),i.html(c))}};function p(e){var t={},a=l.a.result(e,"responseType");return a&&a.accept&&(t.Accept=a.accept),t}var h=3e4,m=6e4,v=s.a.noConflict(),g=v.sync;v.sync=function(e,t,a){var{url:i,data:n,headers:s}=a,o=r()(a,["url","data","headers"]),c=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,o),u=i||l.a.result(t,"syncUrl")||l.a.result(t,"url"),v=l.a.isObject(n)?d.stringifyParams(n):n,y=!!v&&v.indexOf("checkFiles=1")>-1,f=Object.assign({data:v,dataType:"text",processData:!1,headers:l.a.extend(p(t),s),timeout:y?m:h},o);return l.a.isFunction(c.getXHROptions)?f=c.getXHROptions(u,f):f.url=u,g(e,t,f)},v.wrapError=function(e,t){var a=t.error;t.error=function(i){a&&a(e,i,t),e.trigger("error",e,i,t)}},l.a.extend(v.View.prototype,u),[v.Model,v.Collection,v.Router,v.View,v.History].forEach(e=>{e.extend=c.a.extend});t.c=v},fz6g:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=' <h4 class="server-connect-error-header">'+c(r(a("ortX")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(a("ortX")).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){var i="";return i+=' <h4 class="server-connect-error-header">'+c(r(a("ortX")).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(a("ortX")).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((o=r(a("YFQD")).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:d.program(3,(function(e,t){var i,n="";return((i=r(a("YFQD")).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===i)&&(n+=i),n+=" "}),s),fn:d.program(1,(function(e,t){var i="";return i+=' <h4 class="server-connect-error-header">'+c(r(a("ortX")).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(r(a("ortX")).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r(a("ypsy")).call(t,t&&t.context,"settings",{hash:{},inverse:d.noop,fn:d.program(8,(function(e,t){var i="";return i+=' <p class="text-muted">'+c(r(a("ortX")).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="text-muted">'+c(r(a("ortX")).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> "}))},"g/3I":function(e,t,a){e.exports={iconButton:"IconButton-iconButton-2l04Bi Link-link-2ew_DK",isDisabled:"IconButton-isDisabled-12-jv9",isActive:"IconButton-isActive-3bCOJP"}},g0Do:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"d",(function(){return c})),a.d(t,"a",(function(){return d})),a.d(t,"c",(function(){return u}));var i=a("EVdn"),r=a.n(i),n=(a("F/us"),a("yDpE"),{}),s={};function o(e,t,a){n[e]=function(e,t){if(!t)return e;var a={};return t.forEach(t=>{a[t]=(...a)=>e[t](...a)}),a}(t,a);var i=s[e];i&&(delete s[e],i.resolve(n[e]))}function l(e){for(var t in e){var a=e[t],i=void 0,r=void 0;Array.isArray(a)?(i=a[0],r=a[1]):i=a,o(t,i,r)}}function c(e){return d(e)?r.a.Deferred().resolve(n[e]).promise():(s[e]||(s[e]=r.a.Deferred()),s[e].promise())}function d(e){return n.hasOwnProperty(e)}function u(e){return n[e]}},g21S:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("ldqa");function r(e,t,a){var r=e.get("previousOpenState"),n=e.get("openState");return r&&!t?n=r:r&&t&&(n=void 0),Object.assign({previousOpenState:n,openState:r&&t?r:i.a},a)}},gA5T:function(e,t,a){e.exports={multiSelectPageHeader:"MultiSelectPageHeader-multiSelectPageHeader-MIQA1B PageHeader-pageHeader-2KNPGd",selectedTitle:"MultiSelectPageHeader-selectedTitle-1kn-xo",deselectLink:"MultiSelectPageHeader-deselectLink-3Muvcm",icon:"MultiSelectPageHeader-icon-3_oXiP"}},"gBB/":function(e,t,a){e.exports={menuPortal:"SourceSidebarMenu-menuPortal-LagpOp Menu-menuPortal-AbMPTD"}},gE37:function(e,t,a){e.exports={toast:"AudioVideoToast-toast-3RFwwG",metadataContainer:"AudioVideoToast-metadataContainer-Zqu4Pm"}},gEbU:function(e,t,a){e.exports={header:"TopPlayedColumn-header-2460Ns",tintedHeader:"TopPlayedColumn-tintedHeader-PNnLhL TopPlayedColumn-header-2460Ns",title:"TopPlayedColumn-title-VGe39d",item:"TopPlayedColumn-item-2_k5yY",emptyItem:"TopPlayedColumn-emptyItem-2STj9D TopPlayedColumn-item-2_k5yY"}},gGoS:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("g0Do"),o=a("jejw"),l=a("DTXE"),c=a("BWzY"),d=a("RcYF"),u={exclusiveBoolAttr(e){this.listenTo(this,"change:"+e,(t,a)=>{a&&this.each(i=>{i.set(e,i===t&&a)})})}},p=a("Sgs+"),h=a("EOo7"),m=o.a.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:l.a.boolean},syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer,text:l.a.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin(e){var t=this.get("startOffset"),a=this.get("endOffset");return-1!==t&&(e>=t&&(e<=a||-1===a))}}),v=p.a.extend({name:"LyricsSpanCollection",context:["server","section"],model:m}),g=o.a.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:l.a.integer,endOffset:l.a.integer},syncedRelations:{spans:{relationClass:v,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),y=p.a.extend({name:"LyricsLineCollection",context:["server","section"],model:g,eachSpan(e){this.each(t=>{t.get("spans").each(e)})}}),f=o.a.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:h.a,url(){return n.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:l.a.boolean,lyricsError:l.a.object},syncedAttrs:{id:l.a.string,key:l.a.string,streamType:l.a.integer,index:l.a.integer,title:l.a.string,selected:l.a.boolean,codec:l.a.string,provider:l.a.string,format:l.a.string,minLines:l.a.integer,timed:l.a.boolean},syncedRelations:{lines:{relationClass:y,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),b=p.a.extend({mixins:[u],name:"LyricsStreamCollection",context:["server","provider","section"],model:f,initialize(){this.exclusiveBoolAttr("selected")}}),I=a("qOxg"),S=a("UOp4"),M=a("8gq0"),C=a("PmXU"),D=a("kkNn"),P=a("GEPl"),O=o.a.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{url:l.a.string}}),j=o.a.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:D.j,entityID(e=this.state){return Object(C.a)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new I.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:l.a.boolean,isLocal:l.a.boolean},syncedAttrs:{playQueueItemID:l.a.string,queueIndex:l.a.integer,key:l.a.string,ratingKey:l.a.string,type:l.a.string,subtype:l.a.string,advertisement:l.a.boolean,allowSkipAfter:l.a.integer,librarySectionID:l.a.string,hasPremiumLyrics:l.a.boolean,syncItemId:l.a.integer,generatorID:l.a.integer,generatorType:l.a.integer,clientIdentifier:l.a.string,target:l.a.string},syncedRelations:{metadataItem:{relationClass:d.a,deferred:!0},lyricsStreams:{relationClass:b,deferred:!0},vast:{relationClass:O,deferred:!0}},sessionRelations:{postPlay:{relationClass:c.default,options(){return{url:"hubs/metadata/"+this.get("metadataItem").id+"/postplay"}}}},defaults:{isPlayQueueItem:!0,isLocal:!1},augmentResponse(e){var t=r.a.pick(e,Object.keys(this.syncedAttrs)),{Vast:a}=e;if(a){var i=Object(s.c)("appModel"),o=i&&i.get("deviceSettings"),l=o&&o.get("debugAdKind")||S.a.NONE;if(l!==S.a.NONE){l!==S.a.VMAP&&l!==S.a.VMAP_NO_PRE_ROLL||(a.url=a.url.replace(/\/ad\?/,"/vmap?"));var c={debug:1};l===S.a.VMAP_NO_PRE_ROLL&&(c.debugSkipPreroll=1),a.url=n.join(a.url,c)}t.vast=a}t.metadataItem=e;var d=r.a.first(M.a.parseArray(e.Media));if(d){var u=r.a.first(M.a.parseArray(d.Part));if(u){var p=M.a.parseArray(u.Stream);if(p){var h=P.a.get("lyrics");t.lyricsStreams=r.a.filter(p,e=>M.a.parseInteger(e.streamType)===h.id)}}}return t}});t.a=j},gJgX:function(e,t,a){"use strict";a.r(t);var i=a("Sgs+"),r=a("VIuC"),n=i.a.extend({name:"QueryRuleCollection",model:r.a});t.default=n},gZro:function(e,t,a){"use strict";a.r(t);var i={};a.r(i),a.d(i,"testServerConnection",(function(){return Ye})),a.d(i,"abortServerConnectionTest",(function(){return Ke})),a.d(i,"populateServerIdentity",(function(){return qe})),a.d(i,"refreshMetadata",(function(){return di})),a.d(i,"analyzeItems",(function(){return ui})),a.d(i,"analyzeSection",(function(){return vi})),a.d(i,"unmatch",(function(){return gi})),a.d(i,"splitApart",(function(){return yi})),a.d(i,"merge",(function(){return fi})),a.d(i,"deleteItems",(function(){return Ii})),a.d(i,"deleteMediaItem",(function(){return Pi})),a.d(i,"deleteVersions",(function(){return Oi})),a.d(i,"deleteSection",(function(){return Ti})),a.d(i,"deleteSectionThumbnails",(function(){return wi})),a.d(i,"deletePlaylist",(function(){return Ei})),a.d(i,"updateLibrary",(function(){return Ni})),a.d(i,"optimize",(function(){return xi})),a.d(i,"cleanBundles",(function(){return Ai})),a.d(i,"emptyTrash",(function(){return Li})),a.d(i,"match",(function(){return ki})),a.d(i,"autoMatch",(function(){return Ri})),a.d(i,"changeArtwork",(function(){return Ui})),a.d(i,"rate",(function(){return Vi})),a.d(i,"selectStream",(function(){return Hi})),a.d(i,"deleteFile",(function(){return _i})),a.d(i,"deleteItem",(function(){return Zi})),a.d(i,"enableVersionGenerator",(function(){return Xi})),a.d(i,"disableVersionGenerator",(function(){return Ji})),a.d(i,"reprocessVersionGenerator",(function(){return $i})),a.d(i,"deleteVersionGenerator",(function(){return er})),a.d(i,"deleteAllVersionGenerators",(function(){return ar})),a.d(i,"updateChannel",(function(){return ir})),a.d(i,"uninstallChannel",(function(){return nr})),a.d(i,"connectServer",(function(){return or})),a.d(i,"reconnectServer",(function(){return lr})),a.d(i,"signInServer",(function(){return cr})),a.d(i,"removeServer",(function(){return ur})),a.d(i,"resetUser",(function(){return hs})),a.d(i,"switchUser",(function(){return Ho})),a.d(i,"authenticateWithServer",(function(){return _o})),a.d(i,"authenticateWithHash",(function(){return Qo})),a.d(i,"showSyncModal",(function(){return El})),a.d(i,"deleteSyncItem",(function(){return Nl})),a.d(i,"refreshSyncLists",(function(){return xl})),a.d(i,"removeDevice",(function(){return Al})),a.d(i,"signOut",(function(){return kl})),a.d(i,"remotePlaybackUnlock",(function(){return Rl}));var r={};a.r(r),a.d(r,"POSTER",(function(){return Nc})),a.d(r,"MOSAIC",(function(){return xc})),a.d(r,"TABLE",(function(){return Ac})),a.d(r,"SIMPLE_SUMMARY",(function(){return Lc})),a.d(r,"SUMMARY",(function(){return kc})),a.d(r,"EPG_EPISODE",(function(){return Rc})),a.d(r,"SHARED_ITEMS",(function(){return zc})),a.d(r,"showListStyles",(function(){return Uc})),a.d(r,"showListStylesSlider",(function(){return Vc})),a.d(r,"showListStylesMenu",(function(){return Bc})),a.d(r,"default",(function(){return Fc}));var n={};a.r(n),a.d(n,"SERVER",(function(){return ht.n})),a.d(n,"PROVIDER",(function(){return ht.k})),a.d(n,"LIBRARY",(function(){return ht.d})),a.d(n,"HUB",(function(){return ht.c})),a.d(n,"USER",(function(){return ht.p})),a.d(n,"RESOURCE",(function(){return ht.l})),a.d(n,"FRIEND",(function(){return ht.a})),a.d(n,"HOME_USER",(function(){return ht.b})),a.d(n,"METADATA_LIST",(function(){return ht.h})),a.d(n,"METADATA_ITEM",(function(){return ht.g})),a.d(n,"MEDIA_SUBSCRIPTION",(function(){return ht.f})),a.d(n,"LIVE_TV_SESSION",(function(){return ht.e})),a.d(n,"PLAY_QUEUE_ITEM",(function(){return ht.j})),a.d(n,"PLAYLIST_ITEM",(function(){return ht.i})),a.d(n,"SEARCH_RESULT",(function(){return ht.m})),a.d(n,"TRANSCODE_JOBS",(function(){return ht.o})),a.d(n,"WATCH_TOGETHER_ROOM",(function(){return ht.q})),a.d(n,"BACKGROUND_TRANSCODE_JOBS",(function(){return xj})),a.d(n,"SYNC_METADATA_ITEM",(function(){return Aj}));var s={};a.r(s),a.d(s,"resetEPGSettings",(function(){return Wz})),a.d(s,"fetchEPGCountries",(function(){return Gz})),a.d(s,"fetchEPGLanguages",(function(){return Yz})),a.d(s,"selectEPGCountry",(function(){return Kz})),a.d(s,"selectEPGLanguage",(function(){return qz})),a.d(s,"selectEPGRegion",(function(){return Zz})),a.d(s,"setEPGPostalCode",(function(){return Xz})),a.d(s,"fetchEPGLineups",(function(){return Jz}));var o={};a.r(o),a.d(o,"AVAILABLE",(function(){return TX})),a.d(o,"DONE",(function(){return wX})),a.d(o,"DOWNLOADED",(function(){return EX})),a.d(o,"DOWNLOADING",(function(){return NX})),a.d(o,"ERROR",(function(){return xX})),a.d(o,"INSTALLING",(function(){return AX})),a.d(o,"NONE",(function(){return LX})),a.d(o,"NOTIFY",(function(){return kX}));var l={};a.r(l),a.d(l,"INIT_QUICK_SEARCH",(function(){return $7})),a.d(l,"RESET_QUICK_SEARCH",(function(){return eee})),a.d(l,"FETCH_QUICK_SEARCH",(function(){return tee})),a.d(l,"CHANGE_QUICK_SEARCH_QUERY",(function(){return aee})),a.d(l,"CHANGE_QUICK_SEARCH_SETTINGS",(function(){return iee})),a.d(l,"SELECT_QUICK_SEARCH_RESULT",(function(){return ree})),a.d(l,"NAVIGATE_QUICK_SEARCH_RESULT",(function(){return nee})),a.d(l,"PLAY_QUICK_SEARCH_RESULT",(function(){return see})),a.d(l,"initQuickSearch",(function(){return oee})),a.d(l,"resetQuickSearch",(function(){return lee})),a.d(l,"fetchQuickSearch",(function(){return cee})),a.d(l,"changeQuickSearchQuery",(function(){return dee})),a.d(l,"changeQuickSearchSettings",(function(){return uee})),a.d(l,"selectQuickSearchResult",(function(){return pee})),a.d(l,"navigateQuickSearchResult",(function(){return hee})),a.d(l,"playQuickSearchResult",(function(){return mee})),a.d(l,"quickSearchActionHandlers",(function(){return fee}));var c={};a.r(c),a.d(c,"REDISPATCH_LEGACY_METADATA_ACTION",(function(){return aae})),a.d(c,"ANALYZE_METADATA_ITEM",(function(){return iae})),a.d(c,"DELETE_METADATA_ITEM",(function(){return rae})),a.d(c,"DELETE_METADATA_ITEM_VERSION",(function(){return nae})),a.d(c,"DOWNLOAD_METADATA_ITEM_VERSION",(function(){return sae})),a.d(c,"EDIT_METADATA_ITEM",(function(){return oae})),a.d(c,"FIX_METADATA_ITEM_MATCH",(function(){return lae})),a.d(c,"GET_METADATA_ITEM_INFO",(function(){return cae})),a.d(c,"UPDATE_METADATA_ITEM_PLAYED_STATUS",(function(){return dae})),a.d(c,"OPTIMIZE_METADATA_ITEM",(function(){return uae})),a.d(c,"RATE_METADATA_ITEM",(function(){return pae})),a.d(c,"REFRESH_METADATA_ITEM",(function(){return hae})),a.d(c,"SPLIT_METADATA_ITEM_APART",(function(){return mae})),a.d(c,"SYNC_METADATA_ITEM",(function(){return vae})),a.d(c,"UNMATCH_METADATA_ITEM",(function(){return gae})),a.d(c,"CHANGE_METADATA_ITEM_FIELD",(function(){return yae})),a.d(c,"UPDATE_METADATA_ITEM_REFRESHING_STATE",(function(){return fae})),a.d(c,"UPDATE_METADATA_SETTINGS",(function(){return bae})),a.d(c,"CLEAR_METADATA_SETTINGS_ERROR",(function(){return Iae})),a.d(c,"UPDATE_DOWNLOAD_AVAILABILITY",(function(){return Sae})),a.d(c,"UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE",(function(){return Mae})),a.d(c,"SET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return Cae})),a.d(c,"UNSET_DOWNLOAD_SUBSCRIPTION_ID",(function(){return Dae})),a.d(c,"UPDATE_DOWNLOAD_SUBSCRIPTION_IDS",(function(){return Pae})),a.d(c,"MODIFY_SMART_PLAYLIST",(function(){return Oae})),a.d(c,"redispatchLegacyMetadataAction",(function(){return jae})),a.d(c,"analyzeMetadataItem",(function(){return Tae})),a.d(c,"deleteMetadataItem",(function(){return wae})),a.d(c,"deleteMetadataItemVersion",(function(){return Eae})),a.d(c,"downloadMetadataItemVersion",(function(){return Nae})),a.d(c,"editMetadataItem",(function(){return xae})),a.d(c,"fixMetadataItemMatch",(function(){return Aae})),a.d(c,"getMetadataItemInfo",(function(){return Lae})),a.d(c,"updateMetadataItemPlayedStatus",(function(){return kae})),a.d(c,"optimizeMetadataItem",(function(){return Rae})),a.d(c,"rateMetadataItem",(function(){return zae})),a.d(c,"refreshMetadataItem",(function(){return Uae})),a.d(c,"splitMetadataItemApart",(function(){return Vae})),a.d(c,"syncMetadataItem",(function(){return Bae})),a.d(c,"unmatchMetadataItem",(function(){return Fae})),a.d(c,"changeMetadataItemField",(function(){return Hae})),a.d(c,"updateMetadataItemRefreshingState",(function(){return _ae})),a.d(c,"updateMetadataSettings",(function(){return Qae})),a.d(c,"clearMetadataSettingsError",(function(){return Wae})),a.d(c,"favoriteMetadataItem",(function(){return Gae})),a.d(c,"unfavoriteMetadataItem",(function(){return Yae})),a.d(c,"markMetadataItemUnplayed",(function(){return Kae})),a.d(c,"markMetadataItemPlayed",(function(){return qae})),a.d(c,"setDownloadSubscriptionID",(function(){return Zae})),a.d(c,"unsetDownloadSubscriptionID",(function(){return Xae})),a.d(c,"updateDownloadAvailability",(function(){return Jae})),a.d(c,"updateDownloadAvailabilityFromDeletedTimeline",(function(){return $ae})),a.d(c,"updateDownloadSubscriptionIDs",(function(){return eie})),a.d(c,"modifySmartPlaylist",(function(){return tie})),a.d(c,"metadataActionHandlers",(function(){return iie}));var d={};a.r(d),a.d(d,"COMMERCIAL",(function(){return ype})),a.d(d,"INTRO",(function(){return fpe})),a.d(d,"OUTRO",(function(){return bpe})),a.d(d,"RECAPS",(function(){return Ipe}));var u={};a.r(u),a.d(u,"TONE_MAPPING",(function(){return ohe}));var p={};a.r(p),a.d(p,"NORTH",(function(){return Age})),a.d(p,"NORTHEAST",(function(){return Lge})),a.d(p,"EAST",(function(){return kge})),a.d(p,"SOUTHEAST",(function(){return Rge})),a.d(p,"SOUTH",(function(){return zge})),a.d(p,"SOUTHWEST",(function(){return Uge})),a.d(p,"WEST",(function(){return Vge})),a.d(p,"NORTHWEST",(function(){return Bge})),a.d(p,"CENTER",(function(){return Fge}));var h={};a.r(h),a.d(h,"ABSOLUTE",(function(){return Hge})),a.d(h,"RELATIVE",(function(){return _ge}));var m={};a.r(m),a.d(m,"SMALL",(function(){return Wge})),a.d(m,"MEDIUM",(function(){return Gge})),a.d(m,"LARGE",(function(){return Yge}));var v={};a.r(v),a.d(v,"AUTO",(function(){return kCe})),a.d(v,"CHANNELS_2_0",(function(){return RCe})),a.d(v,"CHANNELS_2_1",(function(){return zCe})),a.d(v,"CHANNELS_3_1",(function(){return UCe})),a.d(v,"CHANNELS_5_1",(function(){return VCe})),a.d(v,"CHANNELS_7_1",(function(){return BCe}));var g={};a.r(g),a.d(g,"BASIC",(function(){return FCe})),a.d(g,"SPDIF",(function(){return HCe})),a.d(g,"HDMI",(function(){return _Ce}));var y={};a.r(y),a.d(y,"AC3",(function(){return QCe})),a.d(y,"DTS",(function(){return WCe})),a.d(y,"DTS_HD",(function(){return GCe})),a.d(y,"EAC3",(function(){return YCe})),a.d(y,"TRUEHD",(function(){return KCe}));var f={};a.r(f),a.d(f,"INIT_RECORDING_SCHEDULE_PAGE",(function(){return gyt})),a.d(f,"CLEAR_RECORDING_SCHEDULE_PAGE",(function(){return yyt})),a.d(f,"FETCH_MEDIA_SUBSCRIPTIONS",(function(){return fyt})),a.d(f,"MOVE_MEDIA_SUBSCRIPTION",(function(){return byt})),a.d(f,"SET_VISIBLE_DAYS",(function(){return Iyt})),a.d(f,"GO_TO_TODAY",(function(){return Syt})),a.d(f,"GO_TO_PREVIOUS_RANGE",(function(){return Myt})),a.d(f,"GO_TO_NEXT_RANGE",(function(){return Cyt})),a.d(f,"FETCH_CALENDAR",(function(){return Dyt})),a.d(f,"PLAY_RECORDING",(function(){return Pyt})),a.d(f,"CLEAR_MOVE_ERROR",(function(){return Oyt})),a.d(f,"initRecordingSchedulePage",(function(){return jyt})),a.d(f,"clearRecordingSchedulePage",(function(){return Tyt})),a.d(f,"fetchMediaSubscriptions",(function(){return wyt})),a.d(f,"moveMediaSubscription",(function(){return Eyt})),a.d(f,"setVisibleDays",(function(){return Nyt})),a.d(f,"goToToday",(function(){return xyt})),a.d(f,"goToPreviousRange",(function(){return Ayt})),a.d(f,"goToNextRange",(function(){return Lyt})),a.d(f,"fetchCalendar",(function(){return kyt})),a.d(f,"playRecording",(function(){return Ryt})),a.d(f,"clearMoveError",(function(){return zyt})),a.d(f,"recordingSchedulePageActionHandlers",(function(){return Fyt}));var b={};a.r(b),a.d(b,"INIT_LIBRARY_PAGE",(function(){return cCt})),a.d(b,"CLEAR_LIBRARY_PAGE_ERRORS",(function(){return dCt})),a.d(b,"INIT_LIBRARY_PAGE_METADATA_LIST",(function(){return uCt})),a.d(b,"INIT_LIBRARY_PAGE_SUPPORTING_LISTS",(function(){return pCt})),a.d(b,"FETCH_LIBRARY_DETAILS",(function(){return hCt})),a.d(b,"POPULATE_LIBRARY_DETAILS",(function(){return mCt})),a.d(b,"FETCH_LIBRARY_FIRST_CHARACTERS",(function(){return vCt})),a.d(b,"POPULATE_LIBRARY_FIRST_CHARACTERS",(function(){return gCt})),a.d(b,"FETCH_QUERY_PARSE",(function(){return yCt})),a.d(b,"POPULATE_QUERY_PARSE",(function(){return fCt})),a.d(b,"SELECT_LIBRARY_FILTER",(function(){return bCt})),a.d(b,"DESELECT_LIBRARY_FILTER",(function(){return ICt})),a.d(b,"FETCH_LIBRARY_FILTER_OPTIONS",(function(){return SCt})),a.d(b,"POPULATE_LIBRARY_FILTER_OPTIONS",(function(){return MCt})),a.d(b,"SEARCH_LIBRARY_FILTER_OPTIONS",(function(){return CCt})),a.d(b,"SELECT_LIBRARY_TABLE_COLUMN",(function(){return DCt})),a.d(b,"DESELECT_LIBRARY_TABLE_COLUMN",(function(){return PCt})),a.d(b,"UPDATE_SMART_PLAYLIST",(function(){return OCt})),a.d(b,"NAVIGATE_PLAYLIST",(function(){return jCt})),a.d(b,"initLibraryPage",(function(){return TCt})),a.d(b,"clearLibraryPageErrors",(function(){return wCt})),a.d(b,"initLibraryPageMetadataList",(function(){return ECt})),a.d(b,"initLibraryPageSupportingLists",(function(){return NCt})),a.d(b,"fetchLibraryDetails",(function(){return xCt})),a.d(b,"populateLibraryDetails",(function(){return ACt})),a.d(b,"fetchLibraryFirstCharacters",(function(){return LCt})),a.d(b,"populateLibraryFirstCharacters",(function(){return kCt})),a.d(b,"fetchQueryParse",(function(){return RCt})),a.d(b,"populateQueryParse",(function(){return zCt})),a.d(b,"selectLibraryFilter",(function(){return UCt})),a.d(b,"deselectLibraryFilter",(function(){return VCt})),a.d(b,"fetchLibraryFilterOptions",(function(){return BCt})),a.d(b,"populateLibraryFilterOptions",(function(){return FCt})),a.d(b,"searchLibraryFilterOptions",(function(){return HCt})),a.d(b,"selectLibraryTableColumn",(function(){return _Ct})),a.d(b,"deselectLibraryTableColumn",(function(){return QCt})),a.d(b,"updateSmartPlaylist",(function(){return WCt})),a.d(b,"navigatePlaylist",(function(){return GCt})),a.d(b,"libraryPageActionHandlers",(function(){return KCt}));a("4Brf"),a("tjZM"),a("BIHw"),a("XbcX"),a("yXV3"),a("uqXc"),a("Junv"),a("+2oP"),a("ToJy"),a("pDQq"),a("QGkA"),a("c9m3"),a("wZ/5"),a("rOQg"),a("w1rZ"),a("wfmh"),a("5s+n"),a("p532"),a("hDyC"),a("TZCg"),a("UxlC"),a("SYor"),a("HiXI"),a("7ueG"),a("z8NH"),a("SpvK"),a("/Yfv"),a("iwkZ"),a("FDzp"),a("XMab"),a("ilnZ"),a("hMMk"),a("+ywr"),a("IL/d"),a("7JcK"),a("8go2"),a("3bBZ"),a("Ew+T"),a("n5b4"),a("Kz25"),a("vxnP"),a("mGGf");var I=a("fomp"),S=a("DYcP"),M=a.n(S),C=a("F/us"),D=a.n(C),P=a("yDpE"),O=a("ZwMC"),j=a("EVdn"),T=a.n(j);T.a.fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},T.a.fn.selectText=function(){var e,t=this[0];if(document.body.createTextRange)(e=document.body.createTextRange()).moveToElementText(t),e.select();else if(window.getSelection){var a=window.getSelection();(e=document.createRange()).selectNodeContents(t),a.removeAllRanges(),a.addRange(e)}},T.a.fn.triggerReflow=function(){var e=this[0];return e&&e.offsetHeight,this},M.a.isNodeAttached=function(e){return I.c.$.contains(document.documentElement,e)};var w=D.a.clone(M.a.View.prototype),E=D.a.clone(M.a.CollectionView.prototype),N=D.a.clone(M.a.Region.prototype),x=D.a.clone(M.a.Region),A=D.a.clone(M.a.Layout.prototype),L={constructor:function(){this.wrapAfterRender(),w.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){this.stopListeningViewEvents();var e=D.a.result(this,"viewEvents");e&&(this._viewEventsListeners=D.a.mapObject(e,e=>D.a.isString(e)?this[e]:e),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){w._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&O.a.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,w._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){Object(P.a)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");var e=Array.isArray(arguments[0])?arguments[0]:arguments;D.a.each(e,(function(e){try{this[e]=this.whenRendered(this[e])}catch(t){Object(P.a)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}}),this)},whenRendered:function(e){return Object(P.a)(D.a.isFunction(e),"`whenRendered` must be called with a single function"),D.a.bind((function(){if(!this.isClosed){var t=D.a.toArray(arguments),a=D.a.bind((function(){this.isRendered&&!this.isClosed&&e.apply(this,t)}),this);this.isRendered?D.a.defer(a):this.listenToOnce(this,"render",(function(){D.a.defer(a)}))}}),this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&(Object(P.a)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){w.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){w.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?D.a.reduce(e,(function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e}),e):e}},k={constructor:function(){E.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,E.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),D.a.isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){var e=E.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return D.a.values(this.children._views)}},R={constructor:function(){E.constructor.apply(this,arguments)}},z={append:function(e,t,a){var i=e.isClosed||D.a.isUndefined(e.$el),r=e!==this.currentView;return r&&this.close(),e.render(),(r||i)&&(t||(t=this.getEl(this.el)),a?t.prepend(e.el):t.append(e.el)),this.attachView(e),M.a.triggerMethod.call(this,"show",e),M.a.triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){N.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(M.a.isNodeAttached(t.get(0))){var a=D.a.union([e],D.a.result(e,"_getNestedViews")||[]);D.a.each(a,(function(e){e.triggerMethod&&e.triggerMethod("attached",this)}),this)}},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},U={buildRegion:function(e,t){var a=x.buildRegion.apply(this,arguments);return a._parentView=e._parentView,a}},V={_buildRegions:function(e){var t=D.a.mapObject(e,e=>D.a.isString(e)?{_parentView:this,selector:e}:D.a.defaults(e,{_parentView:this}));return A._buildRegions.call(this,t)},_getImmediateChildren:function(){return D.a.chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};D.a.extend(M.a.View.prototype,L),D.a.extend(M.a.ItemView.prototype,L),D.a.extend(M.a.CollectionView.prototype,L,k),D.a.extend(M.a.CompositeView.prototype,L,R),D.a.extend(M.a.Region.prototype,z),D.a.extend(M.a.Region,U),D.a.extend(M.a.Layout.prototype,V),M.a.extend=I.c.Model.extend,M.a.Controller.extend=M.a.extend,M.a.Region.extend=M.a.extend,M.a.Application.extend=M.a.extend,M.a.Module.extend=M.a.extend,M.a.View.extend=M.a.extend,M.a.ItemView.extend=M.a.extend,M.a.CollectionView.extend=M.a.extend,M.a.CompositeView.extend=M.a.extend,M.a.Layout.extend=M.a.extend;var B=M.a,F=(a("cnJD"),a("/vPP"),a("CCSj"),a("DBlN"),a("+K+r"),a("k1Nx")),H=a("L7kO"),_=a("PW1X"),Q={PUT:!0,DELETE:!0},W={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},G=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,Y=/(^X-Plex-[^=]+)/i,K=/(^[^?]+)\?(.+$)/;function q(e){var{type:t,contentType:a,headers:i,allowHeadersInUrl:r,allowBlacklistedMethodHeaders:n}=e;if(r&&(!Q[t]||n)){var s={},o=!1;if(D.a.each(i,(e,t)=>{W[t]||(Y.test(t)?(o=!0,s[t]=e,delete i[t]):O.a.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))}),o){var l=e.url.match(K),[,c,d]=l||[null,e.url,null],u=d?d.split("&"):[],[p,h]=D.a.partition(u,e=>Y.test(e)),m=e.data;"GET"===t&&m&&(h.push(D.a.isString(m)?m:_.stringifyParams(m)),delete e.data),p.forEach(e=>{var t=e.match(Y);t&&delete s[t[1]]});var v=_.stringifyParams(s);v&&p.push(v),e.url=c+"?"+h.concat(p).join("&")}a&&!G.test(a)&&O.a.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,a)}}var Z=a("xKMG");function X(){return T.a.ajaxPrefilter(q),Z.a.startListening(),T.a.Deferred().resolve().promise()}var J=a("Z0Xd"),$=new J.a({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]}),ee=new J.a({interface:["init","enable","disable","set","capture"]});var te=a("u60l");var ae=function(e){var t=T.a.Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()},ie=a("g0Do"),re=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,ne=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,se=/[a-f0-9]{1,4}/gi;function oe(e){var t=re.exec(e);if(null!=t)return{octets:D.a.map(D.a.rest(t),e=>parseInt(e,10))}}function le(e){if(ne.test(e)){var t=e.split("::"),a=t[0].match(se),i={parts:[]};if(null!=a){if(a.length>8)return;i.parts=D.a.map(a,e=>parseInt(e,16))}if(t.length>1){var r=t[1].match(se),n=D.a.map(r,e=>parseInt(e,16)),s=8-i.parts.length-n.length;if(s<0||8===s)return;D.a.times(s,()=>{i.parts.push(0)}),i.parts=i.parts.concat(n)}return i}}function ce(e){return pe(e)||function(e){var t=le(e);return!(!t||!D.a.all(t.parts,e=>e>=0&&e<=65535))}(e)}function de(e){return"localhost"===e||function(e){var t=oe(e);return!(!t||127!==t.octets[0]&&!D.a.all(t.octets,e=>0===e))}(e)||function(e){var t=le(e);if(t){return D.a.all(D.a.take(t.parts,7),e=>0===e)&&1===D.a.last(t.parts)}return!1}(e)}function ue(e){return function(e){var t=oe(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1}(e)||function(e){var t=le(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)}(e)}function pe(e){var t=oe(e);return!(!t||!D.a.all(t.octets,e=>e>=0&&e<=255))}var he=function(e){var t,{hostname:a,protocol:i}=e,r="file:"===i;return"https:"===i?t="https":"http:"===i?t=de(a)?"http-loopback":"http":r&&(t="file"),t};var me=function(e){var[,t,a=""]=e.match(/(^[^#]+)(?:#(.*$))?/),[,i,r=""]=t.match(/(^[^?]+)(\?.*$)?/),[,n,s=""]=a.match(/(^[^?]*)(\?.*$)?/);return{base:i,searchParams:r,hashPath:n,hashParams:s}},ve=/^utm_/;function ge(){var{searchParams:e,hashParams:t}=me(window.location.href),a=Object.assign({},Object(te.a)(t),Object(te.a)(e));return Object.keys(a).reduce((e,t)=>(ve.test(t)&&(e[t.replace(ve,"")]=a[t]),e),{})}function ye(e={}){var t=Object(ie.c)("metrics"),{context:a={}}=e;return t.set({deviceIdentifier:$.prop("X-Plex-Client-Identifier"),context:Object.assign({},a,{campaign:ge(),device:{product:$.prop("X-Plex-Product"),version:$.prop("X-Plex-Version"),platform:$.prop("X-Plex-Platform"),platformVersion:$.prop("X-Plex-Platform-Version"),device:$.prop("X-Plex-Device"),model:$.prop("X-Plex-Model"),screenResolution:$.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:he(window.location)}})}),ae(t.start())}function fe(){return Object(O.a)("[Sources] Initializing..."),Object(ie.c)("sourceManager").start(),Object(O.a)("[Sources] Finished initialization"),T.a.Deferred().resolve().promise()}var be=a("xuTi"),Ie=[],Se=a("8gq0");var Me=function(){if(!F.a.hasReplaceState)return T.a.Deferred().resolve().promise();var e,t=T.a.Deferred(),a=window.location,i=Se.a.parseQueryString(a.search);try{e=JSON.parse(i.alerts),delete i.alerts}catch(e){}if(e){Ie.push(...e);var r=""+_.join([""+a.origin+a.pathname],i)+a.hash;window.history.replaceState({},"",r)}return t.resolve().promise()};var Ce=function(...e){var t=Array.isArray(e[0])?e[0]:e;return T.a.when(...t.map(ae))};var De=new J.a({interface:["get","set","remove","clear"]});var Pe=function(e){e=e>0?Math.min(e,1024):24;for(var t="";t.length<e;)t+=Math.random().toString(36).substr(2);return t.substr(0,e)};function Oe(e){return D.a.isString(e)&&e.trim().length>0}function je(e,t){var a=Pe();return Object(O.a)("[appModelInitializer] Generating new %s [%s]",t,a),e.set(t,a),De.set(t,a)}function Te(e,t){var a=e.get(t);return Oe(a)?De.set(t,a):De.get(t).then(i=>{if(!Oe(i))return O.a.error("[appModelInitializer] Invalid %s found in storage [%s]",t,a),je(e,t);e.set(t,i)},()=>(Object(O.a)("[appModelInitializer] Failed to read %s from storage",t),je(e,t)))}function we(){var e=Object(ie.c)("appModel");return Ce(Te(e,"clientID"),Te(e,"anonymousClientID"),function(e){var t=De.get("skipSignIn");return t.always(t=>{e.set("skipSignIn","1"===t)}),t}(e))}var Ee=a("jQ5Z"),Ne=a("bErN"),xe=a("jejw"),Ae=a("DTXE");function Le(e){if(/\.plex\.direct$/.test(e)){var t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}var ke=a("Sgs+"),Re=xe.a.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:Ae.a.string}}),ze=ke.a.extend({name:"ConnectionSourceCollection",context:["server"],model:Re}),Ue=Ae.a.boolean.isRequired,Ve=xe.a.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:Ae.a.custom(e=>Array.isArray(e)&&e.every(e=>D.a.isFunction(e.abort))),testState:Ae.a.oneOf("untested","pending","connected","unauthorized","unavailable","aborted").isRequired,isBundled:Ue,isFallback:Ue},sessionRelations:{sources:{relationClass:ze}},syncedAttrs:{uri:Ae.a.string,scheme:Ae.a.string,address:Ae.a.string,port:Ae.a.string,relay:Ae.a.boolean},derivedAttrs:{isUntested(){return"untested"===this.get("testState")},isPending(){return"pending"===this.get("testState")},isConnected(){return"connected"===this.get("testState")},isUnauthorized(){return"unauthorized"===this.get("testState")},isUnavailable(){return"unavailable"===this.get("testState")},isFailed(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted(){return"aborted"===this.get("testState")},isLoopback(){var e=this.get("address");return"localhost"===e||de(e)},isPrivate(){return this.get("isLoopback")||ue(this.get("address"))},isHttps(){return"https"===this.get("scheme")},isSecure(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:"untested",isBundled:!1,isFallback:!1,relay:!1},url(){return this.get("uri")},constructor:function(e,t){var a=D.a.clone(e);D.a.isObject(e)&&!e.uri&&(Object(P.a)(e.scheme&&e.address,"A server connection requires either a uri or a scheme and address. "+e.scheme+"://"+e.address),a.uri=e.scheme+"://"+e.address,e.port&&(a.uri+=":"+e.port)),xe.a.prototype.constructor.call(this,a,t)},initialize(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse(e){var t=e.protocol;return t?D.a.extend({},e,{scheme:t}):e},getAddressFromUri(){return Object(_.parseUrl)(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress(){return Le(this.get("address"))},getLoopbackAttributes(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource(e){return this.get("sources").some(t=>e&&t.get("id")===e)},onSourcesChange(){this.get("sources").length||this.trigger("destroy",this,this.collection)}}),Be=a("LuB9"),Fe=Ee.a.extend({lastModified:null,eTag:null,mixins:Ne.a,url:function(){var e=ie.c("appModel"),t=e.get("user"),a="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),i=new Ve({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"});return this.server.resolveUrl(a,{connection:i,appendToken:!0})},initialize:function(e){D.a.bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),F.a.hasWebSocket?(this._deferred=T.a.Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(D.a.result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(Z.a.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=window.setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(window.clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=_.join(D.a.result(this,"url"),{ttl:String(30)+"s"});var e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=T.a.ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(e){var t=Be.a.parseXML(e);if(D.a.isObject(t)){var a=t.command;H.a.trigger("cloudServer:"+a,t)}}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,a){this.trigger("open",this.server,e),this.lastModified=a.getResponseHeader("Last-Modified"),this.eTag=a.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}}),He=Ee.a.extend({maximumDelay:30,initialize({callback:e,logFormat:t}){this._serversBeingRetried={},this.callback=e,this.logFormat=t},start(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop(e){var t=this._serversBeingRetried[e.cid];t&&(window.clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll(){D.a.each(this._serversBeingRetried,(e,t)=>{window.clearTimeout(e.timeout),delete this._serversBeingRetried[t]})},supportsRetry:e=>!0,_scheduleRetry(e){var t=this._serversBeingRetried[e.cid],a=2*Math.min(this.maximumDelay/2,t.attempt);Object(O.a)(this.logFormat,e.get("debugName"),a),t.timeout=window.setTimeout(()=>{this.callback(e),t.attempt++,this._scheduleRetry(e)},1e3*a)}}),_e=He.extend({supportsRetry:e=>e.get("isCloud")}),Qe=Ee.a.extend({mixins:[Ne.a],initialize(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer(e){var t=this.connections[e.id];this.isValidServer(e)&&!t&&(F.a.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,()=>{this._serverRetryManager.start(e)}):e.trigger("socket:websocket",{error:!0}))},connect(e){var t=e.server,a=this.connections[t.id];a||(a=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=a,this.listenTo(a,{open:this.onOpen,close:this.onClose,error:this.onClose}));var i=a.open(),r=a.socket?a.socket.url:a.pollUrl;return Object(O.a)("["+this.name+"] Opening server event connection to "+t.get("debugName")+" at "+r),i},disconnectAll(){D.a.each(this.connections,e=>{this.disconnect({connection:e})})},disconnect(e){var t=e.connection;if(t||(t=this.connections[e.server.id]),t){var a=t.socket?t.socket.url:t.pollUrl,i=t.server;Object(O.a)("["+this.name+"] Closing server event connection to "+i.get("debugName")+" at "+a),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange(e,t){t&&this.disconnect({server:e})},onServerRemove(e){var t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){var a=this.servers.get(e.id);this.connect({server:a})}},onServersReset(e,t){var a=t.previousModels;D.a.each(a,t=>{e.contains(t)||this.disconnect({server:t})})},onOpen(e){var t=this.connections[e.id],a=t.socket?t.socket.url:t.pollUrl;O.a.info("["+this.name+"] Opened server event connection to "+e.get("debugName")+" at "+a),this._serverRetryManager.stop(e)},onClose(e){O.a.warn("["+this.name+"] Unexpectedly closed server event connection to "+e.get("debugName")),this._serverRetryManager.start(e)}});function We(e){return e.get("isCloud")}var Ge={_map:{},register(e,t){Object(P.a)(D.a.isFunction(t),'The "'+e+'" command must be a function'),this._map[e]=t},registerAll(e){D.a.each(e,(e,t)=>{"__esModule"!==t&&this.register(t,e)})},hasRegistered(e){return this._map.hasOwnProperty(e)},reset(){this._map={}},execute(e,...t){var a=this._map[e];if(Object(P.a)(a,'The "'+e+'" command has not been registered'),a)return Object(O.a)("[Commands] Executing",e),a(...t)}};var Ye=function(e){return Object(ie.c)("serverConnectionTestManager").queueConnectionTest(e)};var Ke=function(e){return Object(ie.c)("serverConnectionTestManager").abortConnectionTest(e)};var qe=function(e){var{server:t,connection:a}=e;if(t.id)return T.a.Deferred().resolve(t.id).promise();var i=t.resolveUrl("/identity",{connection:a}),r=D.a.extend(t.getXHROptions(i),{timeout:t.connectionTestTimeout});Object(O.a)("[Identity] Requesting the machine identifier of "+t.get("debugName")+" at "+i);var n=T.a.ajax(r).promise();return(n=n.then(e=>{var a=T.a.Deferred(),i=Se.a.parseXML(e),r=i&&i.machineIdentifier;return r?(Object(O.a)("[Identity] Machine identifier found for "+t.get("debugName")+": "+r),!t.collection||t.collection.get(r)?a.resolve(r):(t.collection.populateServer({isCloud:!0}).done(e=>{e.get("resources").populate().always(()=>{a.resolve(r)})}),t.collection.findServer({isCloud:!0}).done(e=>{e.populate().fail(()=>{a.resolve(r)})}).fail(()=>{a.resolve(r)}))):a.reject(),a.promise()})).fail(()=>{O.a.warn("[Identity] Machine identifier not found for "+t.get("debugName")+" at "+i)}),n},Ze=a("A+r8"),Xe=a("8OQS"),Je=a.n(Xe);function $e(e,t){return be.a.shouldCreateFlexModels&&(e.prototype.sessionRelations=Object.assign({},e.prototype.sessionRelations,{desktop:t})),e}var et=a("G52M"),tt=a("qOxg"),at=I.c.Model.extend({mixins:[et.a],cache:new tt.a,constructor:function(e,t){e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent");var a=this.findOption(t,"skipCache");if(a)I.c.Model.prototype.constructor.apply(this,arguments);else{var i=this.cache.getItemCacheKey(this,e),r=this.cache.get(i);if(r)return t.parse&&(e=r.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?D.a.each(e,(function(e,t){D.a.isUndefined(r.get(t))&&!D.a.isUndefined(e)&&r.set(t,e)})):r.set(e),r.server=this.server||r.server,r.section=this.section||r.section,r.channel=this.channel||r.channel,r.device=this.device||r.device,r.parent=this.parent||r.parent,t.collection&&(r.collection=t.collection),r;var n=this.findOption(t,"onlyIfCached");if(n)return{};I.c.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,i)}},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){var e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return D.a.isObject(e)?e:Be.a.parseXML(e)},parse:function(e,t){var a=this.convert(e);return this.whitelistedAttrs&&(a=D.a.pick(a,this.whitelistedAttrs)),a},save:function(e,t,a){var i,r,n,s=this.attributes;null==e||"object"==typeof e?(i=e,a=t):(i={})[e]=t,a=D.a.extend({validate:!0},a);var o=this.getSaveParams(i,a);if(D.a.extend(o,a.data),i&&!a.wait){if(!this.set(i,a))return!1}else if(!this._validate(i,a))return!1;if(i&&a.wait&&(this.attributes=D.a.extend({},s,i)),D.a.isEmpty(o)&&!a.force)return a.success&&a.success(this),T.a.Deferred().resolve(this);void 0===a.parse&&(a.parse=!0);var l=this,c=a.success;a.success=function(e){if(l.attributes=s,e){var t=l.parse(e,a);if(a.wait&&(t=D.a.extend(i||{},t)),D.a.isObject(t)&&!l.set(t,a))return!1;l.cache.store(l)}c&&c(l,e,a),l.trigger("sync",l,e,a)},I.c.wrapError(this,a),"patch"===(r=this.isNew()?"create":a.patch?"patch":"update")&&(a.attrs=i);var d=D.a.result(this,"saveUrl")||D.a.result(this,"url");return D.a.isEmpty(o)||(a.url=_.join(d,o)),a.data="",n=this.sync(r,this,a),i&&a.wait&&(this.attributes=s),n},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&D.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){var t=D.a.result(this,"defaults");if(!t)return this.clear(e);var a,i=this.attributes;for(a in i)a in t||this.unset(a,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)Object(P.a)(!1,"This model is already capturing events");else{var e=this.set,t={};this.set=function(a,i,r){var n;"object"==typeof a?(n=a,r=i):(n={})[a]=i;var s=D.a.extend({},r,{silent:!0}),o=e.call(this,n,s);return D.a.extend(t,this.changed),o},this.releaseCapturedChangeEvents=function(){D.a.each(t,(function(e,t){this.trigger("change:"+t,this,e)}),this),D.a.isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}}});at.extend=function(){var e=I.c.Model.extend.apply(this,arguments);return e.prototype.cache=new tt.a,e};var it=at,rt=a("UAn2"),nt=a("3MRm"),st=a("0dto"),ot={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){var a=e&&e.get("syncList");return a&&a.get("version")?this.addVersionHeader(a.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}},lt=a("DRPX"),ct=a("cGVK"),dt=a("a+vp"),ut=a("RcYF"),pt=a("PmXU"),ht=a("kkNn"),mt=xe.a.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:ht.i,entityID(e=this.state){return Object(pt.a)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:Ae.a.string,key:Ae.a.string,type:Ae.a.string},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0}},augmentResponse:e=>({playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e})}),vt=ke.a.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:mt}),gt=xe.a.extend({mixins:[nt.a],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url(){var e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=_.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:Ae.a.string,currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{metadataItems:{relationClass:vt,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),yt=xe.a.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl(){return this.server.supports("truePlaylistsPath")?D.a.result(this,"url"):"/library/metadata/"+this.id},sessionAttrs:{isPlaylist:Ae.a.boolean,isLibraryItem:Ae.a.boolean},syncedAttrs:{ratingKey:Ae.a.string,key:Ae.a.string,guid:Ae.a.string,type:Ae.a.string,playlistType:Ae.a.string,title:Ae.a.string,titleSort:Ae.a.string,composite:Ae.a.string,summary:Ae.a.string,smart:Ae.a.boolean,allowSync:Ae.a.boolean,duration:Ae.a.integer,durationInSeconds:Ae.a.integer,leafCount:Ae.a.integer,addedAt:Ae.a.integer,updatedAt:Ae.a.integer},sessionRelations:{children:{relationClass:gt,attrs(e){var t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:_.join(["/playlists",e.ratingKey,"items"],t)}},options(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem(e,t){if(void 0!==e){var a=t?{after:t}:{},i=_.join([D.a.result(this,"url"),"/items/",e,"/move"],a),r=D.a.extend(this.server.getXHROptions(i),{type:"PUT"}),n=T.a.ajax(r),s=this.get("children").getCollection(),o=this.findItem(e);s.remove(o);var l=this.findItem(t),c=l?s.indexOf(l)+1:0;return s.add(o,{at:c}),n}},removeItem(e){if(void 0!==e){var t=_.join([D.a.result(this,"url"),"/items/",e]),a=D.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),i=T.a.ajax(a);i.then(e=>{this.set(this.parse(e))});var r=this.get("children").getCollection(),n=this.findItem(e);return r.remove(n),r.trigger("destroy",n,r),i}},addContent(e,t){var a=this.isNew()?"POST":"PUT",i=[D.a.result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=lt.a.uri(e,t);var n=_.join(i,r),s=D.a.extend(e.server.getXHROptions(n),{type:a}),o=T.a.ajax(s);return o.then(e=>{this.set(this.parse(e))}),o.promise()},isLibraryItem:(e,t)=>!0,isPlexMusicItem:()=>!1}),ft=ke.a.extend({name:"PlaylistCollection",context:["server","containerKey"],model:yt,url(){return this.containerKey}}),bt=xe.a.extend({mixins:[nt.a],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType(){return Object(st.a)(this.server)},url(){return this.getPaginatedUrl(D.a.result(this,"containerKey"))},containerKey(){var e=this.section.get("currentType"),t=this.section.get("currentSort"),a={type:15};return a.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(a.playlistType=e),this.section.get("onlyDumb")&&(a.smart=0),_.join("/playlists/all",a)},sessionAttrs:{isPlaylistList:Ae.a.boolean,currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{playlists:{relationClass:ft,rootPropertyName:"Playlist",options(e){return{containerKey:D.a.result(this,"containerKey")}},setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},sync(e,t,a){var i=ot.addVersionHeader(2,a);return xe.a.prototype.sync.call(this,e,t,i)},augmentResponse:e=>(e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e)}),It=it.extend({name:"PlaylistsSectionModel",defaults(){return{pseudo:!0,currentType:0,sorts:new rt.a([],{section:this,server:this.server}),items:new bt({},{section:this,server:this.server})}},url:()=>"/playlists"}),St=a("+zWO"),Mt=ke.a.extend({name:"SectionCollection",context:["server"],model:St.a,url:"/library/sections",responseType(){return Object(st.a)(this.server)}}),Ct={fetch(){return Object(P.a)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate(){return this.isPopulating()||(this._populateDeferred=T.a.Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate(){return"resolved"===this.populatePromise.state()?this.populatePromise:("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this]),this.populatePromise)},_rejectPopulate(){return"rejected"===this.populatePromise.state()?this.populatePromise:("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this]),this.populatePromise)}},Dt=a("EOo7"),Pt=a("Gjmh"),Ot=a("AG/Q"),jt=a("5hhD"),Tt=a("Nr3d"),wt=xe.a.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:Ae.a.string,key:Ae.a.string,reverseKey:Ae.a.string,requires:Ae.a.string}}),Et=ke.a.extend({name:"ProviderActionCollection",context:["server","provider"],model:wt}),Nt=a("GS0Q"),xt="hub",At="list",Lt=xe.a.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:Ae.a.string.isRequired,type:Ae.a.oneOf(xt,At,"view").isRequired,id:Ae.a.string,title:Ae.a.string.isRequired,context:Ae.a.string.isRequired,requires:Ae.a.string,libraryKey:Ae.a.string}}),kt=ke.a.extend({name:"PivotCollection",model:Lt}),Rt=xe.a.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:Ae.a.string,key:Ae.a.string,hubKey:Ae.a.string,title:Ae.a.string,icon:Ae.a.string,type:Ae.a.string,subtype:Ae.a.string,agent:Ae.a.string,refreshing:Ae.a.boolean,updatedAt:Ae.a.integer,scannedAt:Ae.a.integer,context:Ae.a.string},syncedRelations:{pivots:{relationClass:kt,rootPropertyName:"Pivot",deferred:!0}}}),zt=ke.a.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:Rt,modelId:e=>e.key||e.hubKey}),Ut=xe.a.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:Ae.a.boolean,isSettingsPopulated:Ae.a.boolean,settingsError:Ae.a.object},syncedAttrs:{id:Ae.a.string,key:Ae.a.string,reverseKey:Ae.a.string,scrobbleKey:Ae.a.string,unscrobbleKey:Ae.a.string,type:Ae.a.string,flavor:Ae.a.string,requires:Ae.a.string,automaticLibraryFolders:Ae.a.boolean,public:Ae.a.boolean,storageTotal:Ae.a.integer},syncedRelations:{directories:{relationClass:zt,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:Nt.default,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:Et,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),Vt=ke.a.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:Ut,modelId:e=>e.type===Ot.a?e.id:e.type,augmentResponse(e){var t=e.find(e=>e.type===Ot.b);return null==t||Array.isArray(t.Action)||(t.Action=t.Action?[t.Action]:[]),null==t&&(t={Action:[],type:Ot.b},e.push(t)),e.forEach(e=>{if(e.type===Ot.r&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){var{scrobbleKey:a,unscrobbleKey:i}=e;t.Action.push({id:Pt.g,key:a,reverseKey:i}),delete e.scrobbleKey,delete e.unscrobbleKey}if(e.type===Ot.n){var{key:r}=e;t.Action.push({id:Pt.e,key:r}),delete e.key}if(e.type===Ot.a&&(null!=e.key||null!=e.reverseKey)){var{key:n,reverseKey:s}=e;t.Action.push({id:e.id,key:n,reverseKey:s}),delete e.key,delete e.reverseKey}e.type===Ot.b&&e.Action.forEach(e=>{e.id!==Pt.b&&e.id!==Pt.a&&e.id!==Pt.f&&e.id!==Pt.d&&e.id!==Pt.c||(e.requires=Tt.o)}),e.type===Ot.p&&(e.requires=Tt.o)}),e}});var Bt=function(e){if(!be.a.shouldRequestHTMLFromCloudProvider)return"plain";var t=[jt.h,jt.j];return jt.k(e,t)?"html":"plain"},Ft=a("NeLh");var Ht=function(e){return{"X-Plex-Drm":e||Ft.NONE}},_t=a("wdGl"),Qt=a("Tz6u"),Wt=a("ADhH");function Gt(e,t){var a=["/library/sections",e,"all"];return t===Wt.k?_.join(a):_.join(a,{type:Wt.u(t).id})}var Yt=a("kj1j");function Kt(e){if(e&&e.features)return e.features.find(e=>e.type===Ot.c)}function qt(e){var t=Object(ie.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}function Zt(e,t,a,i={},r){var n=["#!","media"];return e||n.push(encodeURIComponent(t)),n.push(encodeURIComponent(a),r),_.join(n,i)}function Xt(e,t,a,i){return Zt(e.isCloud,e.machineIdentifier,t.identifier,a,i)}function Jt(e,t,a,i={},r){if(!qt(e))return Xt(e,t,a?Object.assign({},i,{source:a.id}):i,r)}var $t="view://dvr/recording-schedule",ea="view://dvr/guide",ta="view://photo/timeline",aa="view://shared-items",ia={[$t]:{path:"schedule"},[ea]:{path:"guide"},[ta]:{path:"timeline",getRouteParams:(e,t)=>({key:_.join([e.key,t.id,"cluster"],{clusterZoomLevel:1})})},[aa]:{getRouteParams:(e,t)=>({key:t.pivots[0].key})}};function ra(e){return!!ia[e]}function na(e,t,a,i,r={}){if(ra(e)){var n=ia[e],s=Kt(a);return Jt(t,a,i,n.getRouteParams?Object.assign({},r,n.getRouteParams(s,i)):r,n.path)}}function sa(e){return{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DISCOVER_PIVOT}}function oa(e,t){return{key:Gt(e.id,t),libraryKey:e.key,type:At,title:Object(Ze.default)("Library"),context:_t.LIBRARY_PIVOT,isContent:!0}}function la(e){var t=Wt.u(Wt.e);return{key:_.join([e.key,"all"],{type:t.id}),type:At,title:Object(Ze.default)("Collections"),context:_t.COLLECTIONS_PIVOT}}function ca(e,t){var a=e.key.match(/\/library\/sections\/(\w+)/)[1],i=Wt.u(Wt.m);return _.join("/playlists/all",{type:i.id,playlistType:t,sectionID:a})}function da(e,t){return{key:ca(e,t),type:At,title:Object(Ze.default)("Playlists"),context:_t.PLAYLISTS_PIVOT}}function ua(e){return e&&-1!==e.split(",").indexOf(Qt.a)}function pa(e,t){return e&&e.some(e=>e.type===t)}function ha(e,t,a){return a.type===e&&(null==t&&null==a.subtype||null!=t&&a.subtype===t)}function ma(e,t){return/\/library\/sections\/(\w+)/.test(t.key)&&ha(e,null,t)}var va=function(e,t){var a=t||e;return jt.k(a,jt.c)?jt.c:a};function ga(e){var t=e.split("/");if(""===t.shift()){var a,i=t[0],r=t[t.length-1];return jt.k(i,jt.c)?a=i:r&&(a=r),a}return e}function ya(e){return/^\w+:\/\//.test(e)}function fa(e){var t=Object(ie.c)("appModel").get("drmType");return Object.assign({},Ht(t),{"X-Plex-Text-Format":Bt(e),"X-Plex-Provider-Version":"1.3"})}var ba=ht.k;function Ia({identifier:e,serverEntityID:t}){return Object(pt.a)(ba,e,t)}var Sa=xe.a.extend({name:"ProviderModel",context:["server"],entityType:ba,entityID(e=this.state){return Ia({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",responseType:ct.a,url(){return this.get("baseURL")},mergeStrategy:(e,t,a)=>"protocols"===e&&a&&a.length>0?a:Object(Dt.a)(e,t,a),syncedAttrs:{id:Ae.a.integer,parentID:Ae.a.integer,identifier:Ae.a.string,providerIdentifier:Ae.a.string,baseURL:Ae.a.string,title:Ae.a.string,sourceTitle:Ae.a.string,types:Ae.a.list,protocols:Ae.a.list,subscriptions:Ae.a.boolean,icon:Ae.a.string,epgSource:Ae.a.string,source:Ae.a.string},sessionAttrs:{isPending:Ae.a.boolean,isPopulated:Ae.a.boolean,error:Ae.a.object},syncedRelations:{features:{relationClass:Vt,rootPropertyName:"Feature",options(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider(){return jt.k(va(this.get("identifier"),this.get("providerIdentifier")),jt.d)},metricsIdentifier(){var e=this.get("providerIdentifier")||this.get("identifier");return jt.k(e,jt.c)?e.split(":")[0]:e}},populate(){return this.get("isPopulated")?T.a.Deferred().resolve(this).promise():xe.a.prototype.populate.apply(this,arguments)},resolveUrl(e,t){var a=Object.assign({},t);return this.url()&&(a.baseUrl=this.url()),this.server.resolveUrl(e,a)},getXHROptions(e,t={}){var a=ya(e)?e:_.join([this.get("baseURL"),e]),i=this.get("providerIdentifier")||this.get("identifier"),r=this.server.getXHROptions(a,Object.assign({},t,{headers:Object.assign({},fa(i),t.headers)}));return this.server.get("isCloud")&&(delete r.headers["X-Plex-Username"],delete r.headers["X-Plex-Device-Name"]),r},defaults:()=>({protocols:[],isPending:!0,isPopulated:!1,error:null}),augmentResponse:e=>(e.MediaProvider&&(e=e.MediaProvider),e.Feature?(e.Feature.forEach(t=>{var a;if((t.type===Ot.p&&(t.Setting=[]),t.Directory&&t.type===Ot.c)&&(!t.key&&jt.k(e.identifier,jt.d)&&(t.key="/library/sections"),t.Directory.forEach((t,i)=>{var r=t.key||t.hubKey;!t.id&&r&&(t.id=ga(r)),t.type===Wt.m&&(a=i),t.Pivot||(t.Pivot=function(e,t,a){return e.hubKey||"/playlists"===e.key?ma(Wt.b,e)?[sa(e),oa(e,Wt.b),da(e,Yt.a)]:ma(Wt.j,e)?[sa(e),oa(e,Wt.j),la(e),da(e,Yt.c)]:ma(Wt.o,e)?[sa(e),oa(e,Wt.o),la(e),da(e,Yt.c)]:ma(Wt.k,e)?[sa(e),{key:ta,type:"view",title:Object(Ze.default)("Timeline"),context:_t.TIMELINE_PIVOT},oa(e,Wt.k),da(e,Yt.b)]:ua(t)&&pa(a,Ot.q)?[{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DVR_DISCOVER_PIVOT},{key:ea,type:"view",title:Object(Ze.default)("Guide"),context:_t.DVR_GUIDE_PIVOT},{key:$t,type:"view",title:Object(Ze.default)("DVR Schedule"),context:_t.DVR_SCHEDULE_PIVOT}]:ua(t)||pa(a,Ot.d)?[{key:e.hubKey,type:xt,title:Object(Ze.default)("Recommended"),context:_t.DVR_DISCOVER_PIVOT},{key:ea,type:"view",title:Object(Ze.default)("Guide"),context:_t.DVR_GUIDE_PIVOT}]:ha(Wt.m,null,e)?[{key:_.join(e.key,{playlistType:Yt.a}),type:At,title:Object(Ze.default)("Music"),context:_t.PLAYLISTS_PIVOT},{key:_.join(e.key,{playlistType:Yt.c}),type:At,title:Object(Ze.default)("Video"),context:_t.PLAYLISTS_PIVOT},{key:_.join(e.key,{playlistType:Yt.b}),type:At,title:Object(Ze.default)("Photo"),context:_t.PLAYLISTS_PIVOT}]:[]:[]}(t,e.protocols,e.Feature)),Array.isArray(t.Pivot)||(t.Pivot=[t.Pivot]),t.Pivot.forEach(e=>{e.id&&e.id.match(/\.(saved|watchlist|playlists)$/)&&(e.requires=Tt.o)})}),a&&a<t.Directory.length-1)){var i=t.Directory[a];t.Directory.splice(a,1),t.Directory.push(i)}}),e):e)}),Ma=Sa.extend({name:"LegacyLibraryProviderModel",defaults(){var e=this.server,t=e.get("isFullServer"),a=e.get("isFullOwnedServer"),i=[{type:Ot.c,key:"/library/sections"},{type:Ot.i,key:"/library/matches"},{type:Ot.j,key:"/library/metadata"}];return t&&i.push({type:Ot.o,key:"/hubs/search"},{type:Ot.l,key:"/playQueues"},{type:Ot.k,key:"/playlists"},{type:Ot.r,key:"/:/timeline"},{type:Ot.b,actions:[{id:Pt.g,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:Pt.e,key:"/:/rate"}]}),a&&i.push({type:Ot.h}),{identifier:jt.d,title:Object(Ze.default)("Library"),types:["video","audio","photo"],protocols:a?["stream","download"]:["stream"],features:new Vt(i,{parse:!0,server:e})}}});function Ca(e,t){!t.get("isCloud")&&e.forEach(e=>{e.set({isPending:!1,isPopulated:!0})}),t.get("isCloud")||e.get(jt.d)||e.add(new Ma({isPending:!1,isPopulated:!0},{server:t}))}var Da=ke.a.extend({name:"ProviderCollection",context:["server"],model:Sa,url:"/media/providers",responseType(){return Object(st.a)(this.server)},fetch(){var e,t=this.server;return(e=t.get("mediaProviders")||t.get("isCloud")?ke.a.prototype.fetch.apply(this,arguments):T.a.Deferred().resolve(this,"").promise()).then(e=>{Ca(e,t)}),e}}),Pa=a("BQdi"),Oa=a("NvfA"),ja=a("n1jJ"),Ta=a("vkLW"),wa=a("4/mG"),Ea="server/finishActivity",Na=Object(Pa.a)("server/testServer"),xa=(Object(Pa.a)("server/testServers"),Object(Pa.a)("server/confirmRelayConnection")),Aa=Object(Pa.a)("server/addHttpFallbackConnection"),La=Object(Pa.a)("server/startActivity"),ka=Object(Pa.a)("server/updateActivity"),Ra=Object(Pa.a)(Ea),za=Object(Pa.a)("server/startSyntheticActivity"),Ua=Object(Pa.a)("server/finishSyntheticActivity"),Va=Object(Pa.a)("server/eventConnectionOpen"),Ba=Object(Pa.a)("server/eventConnectionClose"),Fa=Object(Pa.a)("server/fetchProviders"),Ha=(Object(Pa.a)("server/populateProviders"),Object(Pa.a)("server/fetchLibraries")),_a=(Object(Pa.a)("server/populateLibraries"),{"server/confirmRelayConnection"(e,t){},"server/addHttpFallbackConnection"(e,t){},"server/startActivity"(e,t,a){var i=Object(Ta.l)(e,t);if(i){var r=t.activity;i.get("activities").add([r],{parse:!0}),r.synthetic||a(Ua({serverEntityID:t.serverEntityID,activityType:r.type}))}},"server/updateActivity"(e,t){var a=Object(Ta.l)(e,t);a&&a.get("activities").add([t.activity],{parse:!0,merge:!0})},[Ea](e,t){var a=Object(Ta.l)(e,t);a&&a.get("activities").remove(t.activity.uuid)},"server/startSyntheticActivity"(e,t,a){Object(wa.a)(()=>{var e={type:t.activityType,synthetic:!0,uuid:t.activityType+"-"+Date.now()};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),a(La({serverEntityID:t.serverEntityID,activity:e}))})},"server/finishSyntheticActivity"(e,t){var a=Object(Ta.l)(e,t);if(a){var i=a.get("activities"),{activityType:r,Context:n,title:s}=t,o=i.findWhere(e=>e.get("type")===r&&!0===e.get("synthetic")&&(!s||e.get("title")===s)&&(!n||D.a.isEqual(e.get("Context"),n)));o&&i.remove(o)}},"server/eventConnectionOpen"(e,t){var a=Object(Ta.m)(e,t),i=Object(Ta.l)(e,t);if(a&&i){var r=i.get("activities");a.set("hasEventConnection",!0),r.fetch()}},"server/eventConnectionClose"(e,t){var a=Object(Ta.m)(e,t);a&&a.set("hasEventConnection",!1)},"server/fetchProviders":Object(Oa.a)({key:"providers",getModel:Ta.m}),"server/populateProviders":Object(ja.a)({key:"providers",fetchActionCreator:Fa,getModel:Ta.m}),"server/fetchLibraries":Object(Oa.a)({key:"libraries",getModel:Ta.l}),"server/populateLibraries":Object(ja.a)({key:"libraries",fetchActionCreator:Ha,getModel:Ta.l}),"server/testServer"(e,t){var a=Object(Ta.m)(e,t);H.a.trigger("test:server",a)},"server/testServers"(){H.a.trigger("test:servers")}});function Qa(e,t){Object(P.a)(null!=e,"No `version` supplied to `isVersionOrNewer`."),Object(P.a)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");for(var a=t.split("."),i=e.split("."),r=0,n=a.length;r<n;r++)if(r<i.length){var s=parseInt(a[r],10),o=parseInt(i[r],10);if(s<o)return!0;if(s>o)return!1}return!0}var Wa=function(e){var t=/(\d+\.){2,3}\d+/.exec(e);return D.a.first(t)||e},Ga=(e,t)=>!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")?t:!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e),Ya=ke.a.extend({name:"ConnectionCollection",context:["server"],model:Ve,getBestConnection(){var e=be.a.allowHttpsMediaServerConnections,t=!this.server||this.server.get("isCloud")||e,a=this.filter(e=>e.get("isConnected")&&(t||!e.get("isHttps")));if(a.length)return D.a.reduce(a,Ga)},hasBetterConnectionCandidates(){var e=this.server&&this.server.get("activeConnection");return this.some(t=>{var a=t.get("isUntested")||t.get("isPending"),i=!e||t!==e&&Ga(t,e)===t;return a&&i})},hasOnlyFailedConnections(){return this.every(e=>e.get("isFailed"))},hasFailedEveryDirectConnection(){return this.where({relay:!1}).every(e=>e.get("isFailed"))},hasMultiplePrivateV4Subnets(){var e;return this.some(t=>{var a,i=t.get("address");if(t.get("isPrivate")&&pe(i)){var r=pe(a=i)?a.split(".").slice(0,-1).join("."):"";return e||(e=r),e!==r}})}}),Ka={gracenoteAttribution:"1.21.1",firstCharacterKeySortDirection:"1.20.4",pivotIDs:"1.20.4",freeLiveTVDVRSettings:"1.20.2",augmentedHubsInRelatedHubs:"1.19.5",simpleRelatedKey:"1.19.2",plexMusicUpgrade:"1.18.0",libraryUpdateActivity:"1.16.5",contentDirectoryID:"1.18.0.1892",addProviderContentToLibrary:"1.15.4.993",transientTokenProxy:"1.15.4",dashboardRAMChart:"1.15.3",dashboardCPUChart:"1.15.2",playHistoryDevices:"1.15.2",playHistory:"1.15.1",enhancedSessionDetails:"1.15.1",sessionJSON:"1.15.1",dashboardTopPlayedChart:"1.14.1",dashboardBandwidthChart:"1.14.1",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",saveInlineSectionSettings:"1.13.4",softSubtitlesWithDirectPlay:"1.13.4",channelGrid:"1.13.2.5081",typeFirst:"1.12.1",photoTagEdit:"1.11.1",sharedUserNotifications:"1.11.1",adaptiveBitrateFallback:"1.9.5",truePlaylistsPath:"1.9.3",multiplePlaylistTypes:"1.7.1",itemClusters:"1.5.4",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",libraryDeleteActivity:"1.2.1",cleanBundlesActivity:"1.2.1",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"},qa={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},Za={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},Xa={SECONDARY:"secondary"},Ja=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],$a=ht.n;function ei({machineIdentifier:e}){return Object(pt.a)($a,e)}var ti=xe.a.extend({mixins:[Ct],name:"ServerModel",entityType:$a,entityID(e=this.state){return ei({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType(){return Object(st.a)(this)},mergeStrategy:Dt.a,cache:new tt.a,persistInCache:!0,sessionAttrs:{connectionTestResult:Ae.a.oneOf(qa.PENDING,qa.CONNECTED,qa.UNAVAILABLE,qa.UNAUTHORIZED).isRequired,promiseState:Ae.a.oneOf(Za.PENDING,Za.RESOLVED,Za.REJECTED).isRequired,sections:Ae.a.instanceOf(Mt).isRequired,playlists:Ae.a.instanceOf(It).isRequired,isShared:Ae.a.boolean.isRequired,isBundled:Ae.a.boolean.isRequired,isCloud:Ae.a.boolean.isRequired,isMerged:Ae.a.boolean.isRequired,isEmbedded:Ae.a.boolean.isRequired,isInstallingServerUpdate:Ae.a.boolean.isRequired,superToken:Ae.a.string,accessToken:Ae.a.string,sourceTitle:Ae.a.string,publicAddressMatches:Ae.a.boolean,httpsRequired:Ae.a.boolean,presence:Ae.a.boolean,home:Ae.a.boolean,createdAt:Ae.a.integer,lastSeenAt:Ae.a.integer,ownerId:Ae.a.integer,hasEventConnection:Ae.a.boolean,serverClass:Ae.a.oneOf(Xa.SECONDARY),onlyXML:Ae.a.boolean,isProvidersPending:Ae.a.boolean.isRequired,isProvidersPopulated:Ae.a.boolean.isRequired,providersError:Ae.a.object},sessionRelations:{activeConnection:{relationClass:Ve,deferred:!0},connections:{relationClass:Ya,options(){return{server:this}}}},syncedRelations:{providers:{relationClass:Da,rootPropertyName:"MediaProvider",options(){return{server:this}}}},syncedAttrs:{machineIdentifier:Ae.a.string,friendlyName:Ae.a.string,startState:Ae.a.string,version:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,sync:Ae.a.boolean,backgroundProcessing:Ae.a.boolean,multiuser:Ae.a.boolean,transcoderLyrics:Ae.a.boolean,myPlex:Ae.a.boolean,myPlexMappingState:Ae.a.string,myPlexSigninState:Ae.a.oneOf("ok","none","invalid"),myPlexSubscription:Ae.a.boolean,myPlexUsername:Ae.a.string,transcoderPhoto:Ae.a.boolean,transcoderAudio:Ae.a.boolean,transcoderVideo:Ae.a.boolean,transcoderVideoRemuxOnly:Ae.a.boolean,transcoderSubtitles:Ae.a.boolean,transcoderActiveVideoSessions:Ae.a.integer,allowMediaDeletion:Ae.a.boolean,allowCameraUpload:Ae.a.boolean,allowChannelAccess:Ae.a.boolean,allowSync:Ae.a.boolean,diagnostics:Ae.a.list,companionProxy:Ae.a.boolean,updater:Ae.a.boolean,isDesktop:Ae.a.boolean,photoAutoTag:Ae.a.boolean,itemClusters:Ae.a.boolean,updatedAt:Ae.a.integer,countryCode:Ae.a.string,ownerFeatures:Ae.a.list,mediaProviders:Ae.a.integer,maxUploadBitrate:Ae.a.integer,maxUploadBitrateReason:Ae.a.string,maxUploadBitrateReasonMessage:Ae.a.string,streamingBrainABRVersion:Ae.a.integer,livetv:Ae.a.integer,games:Ae.a.boolean},derivedAttrs:{debugName(){var e=this.get("machineIdentifier"),t=this.get("connections"),a=1===t.length&&t.at(0).get("isLoopback"),i=this.get("friendlyName");return!i&&this.get("isBundled")?i="[Bundled]":!i&&a&&(i="[Loopback]"),i||(e?"["+e+"]":"[Anonymous]")},shortVersion(){return Wa(this.get("version"))},isConnected(){return this.get("connectionTestResult")===qa.CONNECTED},isUnavailable(){return this.get("connectionTestResult")===qa.UNAVAILABLE},isUnauthorized(){return this.get("connectionTestResult")===qa.UNAUTHORIZED},isPending(){return this.get("promiseState")===Za.PENDING},isPrivateConnection(){var e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved(){return this.get("promiseState")===Za.RESOLVED},isRejected(){return this.get("promiseState")===Za.REJECTED},isRelayed(){var e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure(){var e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer(){return this.get("serverClass")===Xa.SECONDARY},isFullServer(){return!this.get("isCloud")&&!this.get("isMobileServer")},isFullOwnedServer(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible(){return!(!be.a.allowMobileServers&&this.get("isMobileServer"))&&(!!this.get("machineIdentifier")&&!this.get("isUnauthorized")&&!this.get("isCloud"))},isOutOfDate(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.15.2")},isClaimed:function(){return this.get("isConnected")?"ok"===this.get("myPlexSigninState"):void 0},hasManualConnection(){return this.get("connections").some(e=>e.get("sources").some(e=>/^manual/.test(e.id)))},hasAdaptiveBitrate(){return this.get("streamingBrainABRVersion")>=3},shared(){return this.get("isShared")},bundled(){return this.get("isBundled")},cloud(){return this.get("isCloud")},merged(){return this.get("isMerged")},connected(){return this.get("connectionTestResult")===qa.PENDING?null:this.get("isConnected")},available(){return this.get("connectionTestResult")===qa.PENDING?null:!this.get("isUnavailable")},authorized(){return this.get("connectionTestResult")===qa.PENDING?null:this.get("isResolved")},relayed(){return this.get("isRelayed")}},defaults(){return{connectionTestResult:qa.PENDING,promiseState:Za.PENDING,sections:new Mt([],{server:this}),playlists:new It({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isEmbedded:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url(e=this.get("activeConnection")){Object(P.a)(e,"An active or manual connection is required for a server url");var t=D.a.result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity(){if(!this.get("isMerged"))return xe.a.prototype.updateEntity.apply(this,arguments)},fetch(){return I.c.Model.prototype.fetch.apply(this,arguments)},resolveUrl(e,t={}){if(ya(e))return e;var a;a=t.useRelativeUrl?this.get("isMobileServer")?"http://127.0.0.1:"+this.getLoopbackPort()+"/":"":t.baseUrl||this.url(t.connection);var i=this.get("accessToken"),r=D.a.extend({},t.params);return t.appendHeaders&&D.a.defaults(r,this.getHeaders()),t.appendToken&&i&&(r["X-Plex-Token"]=i),_.join([a,e],r)},getXHROptions(e,t={}){var{headers:a,baseUrl:i}=t,r=Je()(t,["headers","baseUrl"]);return Object.assign({url:this.resolveUrl(e,{baseUrl:i}),dataType:"text",headers:D.a.extend(this.getHeaders(),a),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},r)},getHeaders(){var e=$.getInstance(),t=D.a.clone(e),a=this.get("accessToken");a&&(t["X-Plex-Token"]=a);var i=Object(ie.c)("settingFinder").find("language");return i&&(t["X-Plex-Language"]=i,t["Accept-Language"]=i),t},addConnection(e){e.sources||(e.sources=[{id:"internal"}]);var t=this.get("connections"),a=new Ve(e),i=t.get(a.id);return i?(i.get("sources").set(e.sources,{remove:!1}),i):t.add(e)},hasSource(e){return this.get("connections").some(t=>t.hasSource(e))},removeSource(e){for(var t=this.get("connections"),a=t.length-1;a>=0;){t.at(a).get("sources").remove(e),a--}},testAllConnections(){var e=this.get("connections");return Object(O.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName")),this._reset(),e.each(e=>{var t=!e.get("relay"),a=!e.get("isUntested");(t||a)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedConnections(){return this.get("connections").each(e=>{var t=!e.get("relay"),a=e.get("isUntested"),i=e.get("isAborted");t&&(a||i)&&this.testConnection(e)}),this.populatePromise},testOnlyUntestedRelayConnections(){return this.get("connections").each(e=>{var t=e.get("relay"),a=e.get("isUntested");t&&a&&this.testConnection(e)}),this.populatePromise},testConnection(e,t={}){return t.server=this,t.connection=e,this.get("promiseState")===Za.REJECTED&&this._reset(),Ge.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests(){var e=this.get("connections");Object(O.a)("[Connections] Aborting all pending connection tests for",this.get("debugName")),e.each(e=>{this.abortConnectionTest(e)})},abortConnectionTest(e){var t={server:this,connection:e};Ge.execute("abortServerConnectionTest",t)},populateIdentity(e){if(this._identityPromise)return this._identityPromise;var t=Ge.execute("populateServerIdentity",{server:this,connection:e});return t.done(e=>{this.set("machineIdentifier",e)}),this._identityPromise=t,t},updateCacheKey(){var e=this.get("debugName"),t=this.cacheKey(this.attributes),a=this.cache.get(t);if(a){var i=a.get("debugName");O.a.warn("[Identity] %s and %s (cached) collide",e,i),a.get("isConnected")||!this.get("isConnected")?(Object(O.a)("[Identity] Merging %s into %s (cached)",e,i),a.merge(this)):(Object(O.a)("[Identity] Merging %s (cached) into %s",i,e),this.merge(a),this.cache.store(this,t))}else this.cache.store(this,t)},merge(e){e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each(e=>{this.addConnection(e.toJSON())}),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),be.a.shouldCreateStateTree&&this.updateEntity()},hasOwnerFeature(e){if(this.supports("ownerFeatures")){var t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&Ja.indexOf(e)>-1},supports(e){var t=this.get(e);if(D.a.isBoolean(t))return t;var a=Ka[e];return null!=a&&this.isVersionOrNewer(a)},isVersionOrNewer(e){var t=this.get("shortVersion");return!e||!t||Qa(t,e)},hasRegression(e){if(!e)return!1;var t=this.isVersionOrNewer(e.introduced),a=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!a},hasOtherLoopbackServer(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort(){var e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate(e){this._resolve({accessToken:e})},deauthenticate(){this._reject({accessToken:null})},_reset(){this.startCapturingChangeEvents(),this.set("promiseState",Za.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve(e){var t=D.a.extend({connectionTestResult:qa.CONNECTED,promiseState:Za.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),be.a.shouldCreateStateTree&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject(e){var t=this.get("connections");t.hasOnlyFailedConnections()&&O.a.warn("[Connections] All connections to %s failed",this.get("debugName"));var a=t.findWhere({isUnauthorized:!0})?qa.UNAUTHORIZED:qa.UNAVAILABLE,i=D.a.extend({connectionTestResult:a,promiseState:Za.REJECTED},e);this.startCapturingChangeEvents(),this.set(i),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection(){var e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){var a=t.getBestConnection();a?this.set({activeConnection:a}):this.testAllConnections()}},onMachineIdentifierChange(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",(function(){this.updateCacheKey()})):this.updateCacheKey()},onConnectionRemove(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess(e,t){var a=this.get("connections").getBestConnection();if(a!==this.get("activeConnection")&&O.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),a.id),this._resolve(Object.assign({activeConnection:a},t)),be.a.allowLoopbackDiscovery){var i=this.get("connections"),r=this.get("activeConnection"),n=r.get("isPrivate"),s=!!i.findWhere({isLoopback:!0});!n||s||this.hasOtherLoopbackServer()||(Object(O.a)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(r.getLoopbackAttributes()))}},onConnectionTestError(e,t){if(!e.get("isAborted")){var a=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||Object(ie.c)("appStore").dispatch(Aa({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),a.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always(()=>{a.hasOnlyFailedConnections()&&this._reject()}):a.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}}},{connectionTestResults:qa,promiseStates:Za,serverClasses:Xa});$e(ti,(function(){return{relationClass:Object(ie.c)("ServerFlexModel"),options:{server:this}}}));var ai=ti,ii=0,ri=[],ni=B.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",(function(){ii+=1,H.a.trigger("anyModalOpen")})),this.once("close",(function(){0===(ii-=1)&&H.a.trigger("allModalsClosed")}))},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:"static",keyboard:!1}):(this.listenTo(H.a,"shortcut:escape",D.a.bind((function(){ri[0]===this&&this.hide()}),this)),this.listenToOnce(this,"close",(function(){var e=ri.indexOf(this);-1!==e&&ri.splice(e,1)})),ri.unshift(this),this.$el.modal()),T()(":focus").blur())},onHide:function(e){this.isHidden=!0,D.a.each(this.panes,(function(e,t){var a=e.constructor.onModalClose;a&&a.apply(this)}),this),window.setTimeout(D.a.bind((function(){H.a.trigger("hide:modal",this),this.trigger("close")}),this),this.animationDelay)}});function si(e,t,a){return"#!/settings/server/"+encodeURIComponent(e)+"/"+t+"/"+a}var oi=a("Xa5i"),li=a.n(oi),ci=ni.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:li.a,events:D.a.extend({"click .confirm-btn":"hide"},ni.prototype.events),serializeData(){return{isSignedIn:"ok"===this.model.get("myPlexSigninState"),hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:si(this.model.id,"settings","general")}}});var di=function(e){var t,a;return e.item?a=[t=e.item]:(a=e.items,t=a[0]),T.a.when.apply(T.a,D.a.map(a,(function(e){var a="/library/metadata/"+e.id+"/refresh",i=D.a.extend(t.server.getXHROptions(a),{type:"PUT"});return T.a.ajax(i).promise()}))).fail((function(e){503===e.status?H.a.trigger("show:modal",new ci({model:t.server})):H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem refreshing.")})}))};var ui=function(e){var t=e.items;return T.a.when.apply(T.a,D.a.map(t,(function(e){var t="/library/metadata/"+e.id+"/analyze",a=D.a.extend(e.server.getXHROptions(t),{type:"PUT"});return T.a.ajax(a).promise()})))},pi=a("3862"),hi=a.n(pi),mi=ni.extend({className:"confirm-modal modal modal-sm fade",template:hi.a,ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:D.a.extend({"click .confirm-btn":"onConfirm"},ni.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=D.a.pick(e,this.whitelistedOptions),this.promise=T.a.Deferred()},serializeData:function(){return D.a.defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){ni.prototype.onRender.apply(this,arguments),window.setTimeout(D.a.bind((function(){this.ui.confirmBtn.focus()}),this),this.focusDelay)},onHide:function(e){ni.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,a=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(a&&this.ui.confirmLabel.text(a))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}});var vi=function(e){var t=T.a.Deferred(),a=e.section,i="/library/sections/"+a.id+"/analyze",r=D.a.extend(a.server.getXHROptions(i),{type:"PUT"}),n=new mi({title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),s=n.promise;return s.done((function(){var e=T.a.ajax(r);e.done((function(){t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem analyzing the library.")}),t.reject(e)})),e.always((function(e){n.hide()}))})),s.fail((function(){t.reject()})),H.a.trigger("show:modal",n),t.promise()};var gi=function(e){var t=e.item,a="/library/metadata/"+t.id+"/unmatch",i=D.a.extend(t.server.getXHROptions(a),{type:"PUT"}),r=T.a.ajax(i);return r.fail((function(){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem unmatching this item.")})})),r.promise()};var yi=function(e){var t=T.a.Deferred(),a=e.item,i="/library/metadata/"+a.id+"/split",r=new mi({title:Object(Ze.default)("Split Apart"),message:Object(Ze.default)("Are you sure you want to split this item apart?"),async:!0}),n=r.promise;return n.done((function(){var n=D.a.extend(a.server.getXHROptions(i),{type:"PUT"}),s=T.a.ajax(n);s.done((function(){var i,r=a.get("type");i="show"===r||"artist"===r||"album"===r?"Location":"Media",a.set(i,a.get(i).slice(0,1)),e.skipNavigate||H.a.trigger("navigate:back"),t.resolve()})),s.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem splitting this item apart.")}),t.reject(e)})),s.always((function(e){r.hide()}))})),n.fail((function(){t.reject()})),H.a.trigger("show:modal",r),t.promise()};var fi=function(e){var t=T.a.Deferred(),a=e.item,i=D.a.pluck(e.items,"id").join(","),r="/library/metadata/"+a.id+"/merge?ids="+i,n=D.a.extend(a.server.getXHROptions(r),{type:"PUT"}),s=new mi({title:Object(Ze.default)("Merge"),message:Object(Ze.default)("Are you sure you want to merge these items together?"),async:!0}),o=s.promise;return o.done((function(){var e=T.a.ajax(n);e.done((function(){t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem merging these items.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),H.a.trigger("show:modal",s),t.promise()};function bi(e,t){return D.a.map(e,(function(e){return Ge.execute("deleteItem",{item:e,skipRedirect:t})}))}var Ii=function(e){var t=e.items,a=e.item,i=e.skipConfirmation,r=e.skipRedirect;t||(t=[a]),a||(a=D.a.first(t));var n,s=a.get("Media");if(1===t.length&&s.length>1&&!a.get("remoteMedia")&&a.server.supports("specificMediaDeletion"))return Ge.execute("deleteMediaItem",{item:a});if(i)n=T.a.when.apply(T.a,bi(t,r));else{var o=function(e){var t,a,i=e.item,r=e.items,n=r.length>1,s=i.get("remoteMedia"),o=i.get("type"),l=Wt.u(o);s&&!n?(t=l.title,a=Object(Ze.default)("Are you sure you want to remove {1}?",i.get("title"))):n&&r.every(e=>e.get("remoteMedia"))?(t=l.plural,a=Object(Ze.default)("Are you sure you want to remove {1} items?",r.length)):o===Wt.e?(t=l.title,a=Object(Ze.default)("Are you sure you want to delete {1}? This cannot be undone.",i.get("title"))):n?(t=l.plural,a=Object(Ze.default)("Are you sure you want to delete {1} items from your filesystem?",r.length)):(t=l.title,a=Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"));var c={title:s?Object(Ze.default)("Remove {typeLabel}",{typeLabel:t}):Object(Ze.default)("Delete {typeLabel}",{typeLabel:t}),message:a,confirmLabel:s?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0};(n||Wt.y(o))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=s?Object(Ze.default)("Multiple files may be removed."):Object(Ze.default)("Multiple items may be deleted."),c.doubleConfirmLabel=Object(Ze.default)("Yes, I'm sure"));var d=new mi(c);return H.a.trigger("show:modal",d),d}({item:a,items:t});n=o.promise.then((function(){return T.a.when.apply(T.a,bi(t,r)).always((function(){o.hide()}))}))}return n},Si=ni.extend({className:"select-modal modal modal-sm fade",events:D.a.extend({"click a":"onClick"},ni.prototype.events),initialize:function(){ni.prototype.initialize.apply(this,arguments),this.promise=T.a.Deferred()},onRender:function(){ni.prototype.onRender.apply(this,arguments)},onHide:function(e){ni.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(T()(e.currentTarget).data("value")),this.hide()}}),Mi=a("xY9m"),Ci=a.n(Mi),Di=Si.extend({name:"SelectMediaFileModal",template:Ci.a,serializeData:function(){return{medias:this.model.get("Media")}}});var Pi=function(e){var t=function(e){var t=T.a.Deferred(),a=e.item,i=a.get("Media");if(e.index in i)return t.resolve(i[e.index]).promise();var r=new Di({model:a}),n=r.promise;return n.done((function(e){t.resolve(i[e])})),n.fail((function(){t.reject()})),H.a.trigger("show:modal",r),t.promise()}(e);return t=t.then((function(t){var a=function(){var e=new mi({title:Object(Ze.default)("Delete File"),message:Object(Ze.default)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",e),e}();return a.promise.then((function(){return Ge.execute("deleteFile",{item:e.item,media:t}).always((function(){a.hide()}))}))}))};var Oi=function(e){var t=e.item,a=t.server,i=t.get("Media"),r=D.a.filter(i,(function(e){return!!e.proxyType})),n=function(e){var t,a=e.item,i=e.versions,r=i.length>1;if(r)t=Object(Ze.default)("Are you sure you want to delete {1} versions of {2}?",i.length,a.get("title"));else{var n=D.a.first(i);t=Object(Ze.default)("Are you sure you want to delete the {1} version of {2}?",n.title,a.get("title"))}var s=new mi({title:r?Object(Ze.default)("Delete Versions"):Object(Ze.default)("Delete Version"),message:t,confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",s),s}({item:t,versions:r});return n.promise.then((function(){var e=_.join(["/library/metadata/",t.id],{proxy:1}),s=D.a.extend(a.getXHROptions(e),{type:"DELETE"}),o=T.a.ajax(s);return o.done((function(){D.a.each(r,(function(e){i.splice(D.a.indexOf(i,e),1)})),t.trigger("change:Media",t,t.get("Media"))})),o.fail((function(e){var t=403===e.status?Object(Ze.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ze.default)("There was a problem deleting these versions.");H.a.trigger("show:alert",{type:"error",message:t})})),o.always((function(){n.hide()})),o.promise()}))},ji=a("Qcsn");var Ti=function(e){var t=T.a.Deferred(),a=e.section,i=new mi({title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)("Are you sure you want to delete {1}?",a.get("title")),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Ze.default)("This cannot be undone."),doubleConfirmLabel:Object(Ze.default)("Yes, I'm sure"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){var e=a.destroy({wait:!0});e?(e.done((function(){var e=ie.c("appStore").dispatch,i=a.server.entityID();i&&e(Object(ji.c)({serverEntityID:i})),t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting the library.")}),t.reject(e)}))):t.resolve()})),r.fail((function(){t.reject()})),H.a.trigger("show:modal",i),t.promise().always(()=>{i.hide()}),t.promise()};var wi=function(e){var t=e.section,a="/library/sections/"+t.id+"/indexes",i=D.a.extend(t.server.getXHROptions(a),{type:"DELETE"}),r=new mi({title:Object(Ze.default)("Delete Preview Thumbnails"),message:Object(Ze.default)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),n=r.promise;return n=n.then((function(){return(e=T.a.ajax(i)).done((function(e){H.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The preview thumbnails for items in this library were deleted.")})})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting the preview thumbnails for items in this library.")})})),e.always((function(e){r.hide()})),e;var e})),H.a.trigger("show:modal",r),n};var Ei=function(e){var t=T.a.Deferred(),a="photo"===e.item.get("playlistType"),i=new mi({title:a?Object(Ze.default)("Delete Album"):Object(Ze.default)("Delete Playlist"),message:Object(Ze.default)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),r=i.promise;return r.done((function(){var r=e.item.destroy();r.done((function(){e.skipRedirect||H.a.trigger("navigate:back"),t.resolve()})),r.fail((function(e){H.a.trigger("show:alert",{type:"error",message:a?Object(Ze.default)("There was a problem deleting the album."):Object(Ze.default)("There was a problem deleting the playlist.")}),t.reject(e)})),r.always((function(e){i.hide()}))})),r.fail((function(){t.reject()})),H.a.trigger("show:modal",i),t.promise()};var Ni=function(e){var t=T.a.Deferred(),a=e.section,i=a?a.id:"all",r=e.cancel,n=a?a.server:e.server,s={};(e.params||{}).force&&(s.force=1);var o="/library/sections/"+i+"/refresh",l=D.a.extend(n.getXHROptions(o),{data:s});function c(){var e=T.a.ajax(l);e.done((function(){t.resolve()})),e.fail((function(e){if(503===e.status)H.a.trigger("show:modal",new ci({model:n}));else{var a=r?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating the library.");H.a.trigger("show:alert",{type:"error",message:a})}t.reject(e)}))}if(r&&(l.type="DELETE",a&&a.set("refreshing",!1)),s.force){var d=new mi({title:Object(Ze.default)("Refresh All"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),cancelLabel:Object(Ze.default)("Cancel")}),u=d.promise;u.done(c),u.fail((function(){t.reject()})),H.a.trigger("show:modal",d)}else c();return t.promise()};var xi=function(e){var t=T.a.Deferred(),a=e.server,i=D.a.extend(a.getXHROptions("/library/optimize"),{type:"PUT"}),r=new mi({title:Object(Ze.default)("Optimize Database"),message:Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ze.default)("Optimize"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),n=r.promise;return n.done((function(){var e=T.a.ajax(i);e.done((function(){H.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The database was optimized.")}),t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem optimizing this database.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),n.fail((function(){t.reject()})),H.a.trigger("show:modal",r),t.promise()};var Ai=function(e){var t=T.a.Deferred(),a=e.server,i=D.a.extend(a.getXHROptions("/library/clean/bundles"),{type:"PUT"}),r=new mi({title:Object(Ze.default)("Clean Bundles"),message:Object(Ze.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ze.default)("Clean"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),n=r.promise;return n.done((function(){var e=T.a.ajax(i);e.done((function(){H.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("Unused bundles are being removed.")}),t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing unused bundles.")}),t.reject(e)})),e.always((function(e){r.hide()}))})),n.fail((function(){t.reject()})),H.a.trigger("show:modal",r),t.promise()};var Li=function(e){var t=T.a.Deferred(),a=e.section,i=a?a.server:e.server,r=[],n=[];a?r.push(a.id):i.get("sections").each((function(e){r.push(e.id)}));var s=new mi({title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),cancelLabel:Object(Ze.default)("Cancel"),async:!0}),o=s.promise;return o.done((function(){D.a.each(r,(function(e){var t="/library/sections/"+e+"/emptyTrash",a=D.a.extend(i.getXHROptions(t),{type:"PUT"});n.push(T.a.ajax(a))}));var e=T.a.when.apply(T.a,n);e.done((function(){H.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("The trash was emptied.")}),t.resolve()})),e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem emptying the trash.")}),t.reject(e)})),e.always((function(e){s.hide()}))})),o.fail((function(){t.reject()})),H.a.trigger("show:modal",s),t.promise()};var ki=function(e){var t=e.item,a={guid:e.guid,name:e.name,year:e.year};"album"===t.get("type")&&e.children&&e.children.reduce((function(e,t){var a=t.get("id");return a&&(e["guid["+a+"]"]=t.get("guid")),e}),a);var i=_.join(["/library/metadata/",t.id,"/match"],a),r=D.a.extend(t.server.getXHROptions(i),{type:"PUT"});return T.a.ajax(r).promise()};var Ri=function(e){var t=T.a.Deferred(),a=e.item,i={agent:e.agent.id,manual:0},r=_.join(["/library/metadata/",a.id,"/matches"],i),n=D.a.extend(a.server.getXHROptions(r)),s=T.a.ajax(n);return s.done((function(e){var r=D.a.isObject(e)?e:Be.a.parseXML(e);if(r.SearchResult){var n=r.SearchResult;Array.isArray(r.SearchResult)&&(n=r.SearchResult[0]),i={guid:n.guid,name:n.name};var s=_.join(["/library/metadata/",a.id,"/match"],i),o=D.a.extend(a.server.getXHROptions(s),{type:"PUT"}),l=T.a.ajax(o);l.done((function(){t.resolve()})),l.fail((function(){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem matching this item.")}),t.reject()}))}else H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("No matches were found using this agent.")}),t.reject()})),s.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem searching for matches.")}),t.reject(e)})),t.promise()},zi={poster:"thumb",art:"art",banner:"banner"};var Ui=function(e){var t=e.item,a={url:e.artworkRatingKey},i=_.join(["/library/metadata/",t.id,e.artworkType],a),r=D.a.extend(t.server.getXHROptions(i),{type:"PUT"}),n=T.a.ajax(r);return n.done((function(a){t.set(zi[e.artworkType],a)})),n.promise()};var Vi=function(e){var t=e.item,a=e.rating,i=t.get("userRating");if(-1===a?t.unset("userRating"):t.set("userRating",a),e.passive)return T.a.Deferred().resolve().promise();var r={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:a},n=_.join("/:/rate",r),s=T.a.ajax(t.server.getXHROptions(n));return s.fail((function(){t.set("userRating",i),H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem rating this item.")})})),s.promise()},Bi=a("bfGs");var Fi=function(e,t,a){if(e){var i=Object(Bi.a)(e,{streamType:t.id});D.a.each(i,e=>{e.selected=e.id===a})}};var Hi=function(e){var t=T.a.Deferred(),a=e.item,i=a.server,r=e.media||D.a.first(a.get("Media")),n=e.part||r&&D.a.first(r.Part),s=e.streamType,o=e.streamID;if(!r||!n)return t.reject().promise();var l={};l[s.key]=o,!e.media&&i.supports("allPartsStreamSelection")&&(l.allParts=1);var c=_.join(["/library/parts/",n.id],l),d=D.a.extend(i.getXHROptions(c),{type:"PUT"}),u=T.a.ajax(d);return u.done((function(){Fi(r,s,o),a.trigger("change:streams"),t.resolve()})),u.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem selecting the stream for this item.")}),t.reject(e)})),t.promise()};var _i=function(e){var t,a=e.item,i=e.media,r=a.server;if(i){var n="/library/metadata/"+a.id+"/media/"+i.id,s=D.a.extend(r.getXHROptions(n),{type:"DELETE"});(t=T.a.ajax(s)).done((function(){var t=e.item.get("Media");t.splice(D.a.indexOf(t,i),1),a.trigger("change:Media",a,a.get("Media"))}))}else t=a.destroy({wait:!0});return t.fail((function(e){var t=403===e.status?Object(Ze.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Ze.default)("There was a problem deleting this item.");H.a.trigger("show:alert",{type:"error",message:t})})),t},Qi=a("4MSa"),Wi=a("o4BE");function Gi(e,t){var a=e.get("features").get(Ot.c),i=a.get("directories");if(!a||!i)return null;var r=i.find(e=>e.get("hubKey")===t||e.get("key")===t);return r?r.toJSON():null}function Yi(e,t){if(!e)return!1;var a=new ut.a({key:e},{server:t.item.server,onlyIfCached:!0});return!D.a.isEmpty(a)&&a}function Ki(e){if(!e.skipRedirect)if(e.refreshPage)H.a.trigger("navigate:refresh");else{var t=e.item,a=t.get("isLibraryItem")&&t.parent,i=t.get("librarySectionKey")||a&&a.get("librarySectionKey");if(i){var r=Gi(t.provider,i),n=Jt(t.server.toJSON(),t.provider.toJSON(),r);n?Object(ie.c)("appStore").dispatch(Object(Wi.l)({pathname:n,replace:!0})):H.a.trigger("navigate:back")}else H.a.trigger("navigate:back")}}function qi(e,t){t.skipRedirect||Object(ie.c)("appStore").dispatch(Object(Wi.n)({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}var Zi=function(e){var t=Ge.execute("deleteFile",e);return t.done((function(){var t=e.item,a=Yi(t.get("parentKey"),e);if(a){var i=new Qi.default({containerKey:a.get("childrenKey")},{server:a.server,provider:a.provider,skipCache:!0});i.fetchRange({size:1}).then(()=>{if(i.getCollection().length>0)qi(a,e);else{a.trigger("destroy",a,a.collection);var r=Yi(t.get("grandparentKey"),e);if(r){var n=new Qi.default({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});n.fetchRange({size:1}).then(()=>{n.getCollection().length>0?qi(r,Object.assign({},e,{skipRedirect:!1})):Ki(e)})}else Ki(Object.assign({},e,{skipRedirect:!1}))}})}else Ki(e)})),t};var Xi=function(e){var t=e.generator,a=D.a.result(t,"url")+"/"+e.ratingKey+"/enable",i=D.a.extend(t.server.getXHROptions(a),{type:"PUT"}),r=T.a.ajax(i).promise();return r.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem enabling this version.")})})),r};var Ji=function(e){var t=e.generator,a=D.a.result(t,"url")+"/"+e.ratingKey+"/disable",i=function(){var e=new mi({title:Object(Ze.default)("Remove Version"),message:Object(Ze.default)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",e),e}();return i.promise.then((function(){var e=D.a.extend(t.server.getXHROptions(a),{type:"PUT"}),r=T.a.ajax(e).promise();return r.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem disabling this version.")})})),r.always((function(){i.hide()})),r}))};var $i=function(e){var t=e.generator,a=e.ratingKey,i=D.a.result(t,"url");a&&(i+="/"+a),i+="/reprocess";var r=D.a.extend(t.server.getXHROptions(i),{type:"PUT"}),n=T.a.ajax(r).promise();return n.fail((function(e){var t=a?Object(Ze.default)("There was a problem processing this item."):Object(Ze.default)("There was a problem processing these items.");H.a.trigger("show:alert",{type:"error",message:t})})),n};var er=function(e){var t=e.generator,a=function(e){var t=e.generator.get("title"),a=t?Object(Ze.default)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):Object(Ze.default)("Removing this item will delete all related versions. Are you sure you want to continue?"),i=new mi({title:Object(Ze.default)("Delete Versions"),message:a,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",i),i}(e);return a.promise.then((function(){var e=t.destroy();return e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Unable to stop generating these versions.")})})),e.always((function(){a.hide()})),e}))},tr={NORMAL:0,LOCAL:42,CLOUD:43};var ar=function(e){var t=function(){var e=new mi({title:Object(Ze.default)("Delete All Versions"),message:Object(Ze.default)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:Object(Ze.default)("Delete"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",e),e}(),a=t.promise;return a=a.then((function(){var a="/playlists/generators?type="+tr.LOCAL,i=D.a.extend(e.server.getXHROptions(a),{type:"DELETE"}),r=T.a.ajax(i).promise();return r.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem deleting all versions.")})})),r.always((function(){t.hide()})),r.promise()}))};var ir=function(e){var t,a=T.a.Deferred(),i=e.channel,r=i?i.server:e.server,n=e.silent;if(i){var s=i.get("identifier");t=(s?"/system/appstore/apps/"+s:i.get("key"))+"/update"}else t="/system/appstore/updates";var o=T.a.ajax(r.getXHROptions(t));function l(e){n||H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem checking for updates.")}),a.reject(e)}return o.done((function e(t){var i=D.a.isObject(t)?t:Be.a.parseXML(t);if(i&&(i.message||i.Directory))if(i.message)n||H.a.trigger("show:alert",{type:"success",message:i.message}),a.resolve();else{Be.a.parseArray(i,"Directory");var s=i.Directory[0].key,o=T.a.ajax(r.getXHROptions(s));o.done(e),o.fail(l)}else l()})),o.fail(l),a.promise()};function rr(e,t){H.a.trigger("navigate",e,t)}var nr=function(e){var t=T.a.Deferred(),a=e.channel,i=a.get("identifier"),r=(i?"/system/appstore/apps/"+i:a.get("key"))+"/uninstall",n=a.server.getXHROptions(r);function s(){var i=T.a.ajax(n);i.done((function(i){var r=D.a.isObject(i)?i:Be.a.parseXML(i);a.set("installed",!1),r.message&&!e.skipConfirmation&&H.a.trigger("show:alert",{type:"success",message:r.message}),t.resolve()})),i.fail((function(e){if(400===e.status){var i=new mi({title:Object(Ze.default)("Unable to Uninstall Plugin"),message:Object(Ze.default)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:Object(Ze.default)("OK"),cancelLabel:Object(Ze.default)("Ignore")});i.promise.done((function(){rr("serverSettings",{serverID:a.server.id,group:"channels"})})),H.a.trigger("show:modal",i)}else H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This plugin could not be uninstalled.")});t.reject(e)}))}if(e.skipConfirmation)s();else{var o=new mi({title:Object(Ze.default)("Uninstall Plugin"),message:Object(Ze.default)("Are you sure you want to uninstall this plugin?")}),l=o.promise;l.done(s),l.fail((function(){t.reject()})),H.a.trigger("show:modal",o)}return t.promise()},sr=xe.a.extend({context:["server"],url:"/myplex/account",responseType:ct.a,sessionAttrs:{remoteAccessState:Ae.a.oneOf("connecting","disconnecting","unreachable","ok","")},syncedAttrs:{username:Ae.a.string,mappingState:Ae.a.oneOf("unknown","waiting","failed","mapped"),mappingError:Ae.a.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:Ae.a.oneOf("none","unknown","invalid","ok"),publicAddress:Ae.a.string,publicPort:Ae.a.integer,privateAddress:Ae.a.string,privatePort:Ae.a.integer,subscriptionActive:Ae.a.boolean,subscriptionState:Ae.a.string},derivedAttrs:{signedIn(){return"ok"===this.get("signInState")},isWaiting(){var e=this.get("remoteAccessState");return"connecting"===e||"disconnecting"===e}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew(){return!this.get("signedIn")},augmentResponse(e){var t=e.MyPlex;t||(O.a.warn("[Account] Failed to get reachable information for account - received "+JSON.stringify(e)),t={});var a="ok"===t.signInState;a||(t.username=null);var i=!a||t.mappingError,r=!i&&"mapped"===t.mappingState;return i?t.remoteAccessState="unreachable":r&&(t.remoteAccessState="ok"),t}});var or=function(e){var t,a=e.cloudAccount,i=a.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),r=T.a.Deferred();if(!a.get("isWaiting")){var n=e.value?"connecting":"disconnecting";a.set("remoteAccessState",n)}var s=a.previous("remoteAccessState"),o=i.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return o.done((function i(){a.fetch().done((function(){var n=a.get("mappingState"),s=e.value&&"unknown"===n,o=!e.value&&"mapped"===n;"waiting"===n||s||o?t||(t=window.setInterval(i,500)):(t=window.clearInterval(t),a.get("isWaiting")&&a.set("remoteAccessState",""),r.resolve())}))})),o.fail((function(t){var i;i=e.value?Object(Ze.default)("There was a problem connecting your server."):Object(Ze.default)("There was a problem disconnecting your server."),H.a.trigger("show:alert",{type:"error",message:i}),a.set("remoteAccessState",s),r.reject(t)})),r.promise()};var lr=function(e){var t=e.cloudAccount,a={cloudAccount:t,value:!1},i=Ge.execute("connectServer",a);return i=(i=i.then((function(){return a.value=!0,Ge.execute("connectServer",a)}))).then((function(){if(t.get("mappingError"))return T.a.Deferred().reject().promise()}))};var cr=function(e){var{cloudAccount:t,username:a,password:i,claim:r=!1}=e,n=T.a.Deferred(),s=t.server,o=Object(ie.c)("appModel"),l=o.get("user"),c=o.get("cloudServer"),d=s.get("accessToken");s.set("accessToken",l.get("authToken"));var u=r?function(e,t){var a=t.getXHROptions("/api/claim/token"),i=T.a.ajax(a).promise();return i=i.then(t=>{var{token:a}=Se.a.parseXML(t),i=_.join("/myplex/claim",{token:a}),r=e.getXHROptions(i,{type:"POST"});return T.a.ajax(r).promise()})}(s,c):function(e,t,a){var i=_.join("/myplex/account",{username:e,password:t}),r=a.getXHROptions(i,{type:"PUT"});return T.a.ajax(r).promise()}(a,i,s);return u.done(e=>{var a=D.a.isObject(e)?e:Se.a.parseXML(e);a&&"invalid"===a.signInState?(H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("The username or password is incorrect.")}),n.reject()):(s.set({myPlexSigninState:"ok",myPlexUsername:l.get("email")}),t.set({signedIn:!0,username:l.get("email")}),n.resolve())}),u.fail(e=>{var a;s.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),a=401===e.status?Object(Ze.default)("The username or password is incorrect."):Object(Ze.default)("There was a problem signing in to Plex."),H.a.trigger("show:alert",{type:"error",message:a}),n.reject(e)}),n.promise()};function dr(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}var ur=function(e){var t,a=ie.c("appModel").get("user"),i=e.device,r=e.server||function(e){var t=new ai({machineIdentifier:e},{onlyIfCached:!0});if(!D.a.isEmpty(t))return t}(i.get("clientIdentifier"));t=i?Object(Ze.default)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):Object(Ze.default)("Are you sure you want to remove this server?");var n={title:Object(Ze.default)("Remove Server"),message:t,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0};i&&(n.requireDoubleConfirm=!0,n.doubleConfirmMessage=Object(Ze.default)("Are you sure you want to remove this server?"),n.doubleConfirmLabel=Object(Ze.default)("Yes, I'm sure"));var s=new mi(n),o=s.promise;return o=o.then((function(){return function(){var e;if(i)e=i.destroy({wait:!0});else{var t="/api/servers/"+r.id,n=D.a.extend(a.server.getXHROptions(t),{type:"DELETE"});e=T.a.ajax(n)}if(r){if(r.get("connected")&&"ok"===r.get("myPlexSigninState")){var o=r.get("desktop").get("cloudAccount");e=(e=e.then((function(){return o.fetch()}))).then((function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done((function(){e.set({accessToken:void 0,myPlexSigninState:"none",myPlexSubscription:!1})})),t}(r)}))}!1===r.get("connected")?dr(r):e.always((function(){H.a.trigger("test:server",r),r.populate().fail((function(){dr(r)}))}))}return e.always((function(){s.hide()})),e.promise()}()})),H.a.trigger("show:modal",s),o};var pr=function(e){var t=T.a.Deferred();return e&&e.then?e.then(t.resolve,t.reject):t.resolve(e),t.promise()},hr=a("1aU3"),mr=a("i7Pf"),vr=a("5rFJ"),gr=a("vDqi"),yr=a.n(gr),fr=a("Qyje"),br=a.n(fr);var Ir={PUT:!0,DELETE:!0},Sr={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},Mr=/(^X-Plex-[^=]+)/i;var Cr,Dr,Pr,Or,jr,Tr,wr,Er,Nr,xr,Ar,Lr,kr,Rr,zr,Ur,Vr,Br,Fr=function(e){var t=Object.assign({},e);function*a(e,a){var{server:i,provider:r,timeout:n=t.timeout,allowHeadersInUrl:s=!(!i&&!r)}=a,o=Je()(a,["server","provider","timeout","allowHeadersInUrl"]),l=$.hasInstance()?$.getInstance():{},c=Object.assign({},l,a.headers),d=e;if(i){if(!ya(e)){var u=(null==r?void 0:r.baseURL)?r.baseURL:i.uri;if(!u)throw new Error("Unable to make a request to a relative path without `server.uri` or `baseURL`");d=_.join([u,e])}i.accessToken&&(c["X-Plex-Token"]=i.accessToken),r&&(c["X-Plex-Provider-Version"]=t.providerVersion,c["X-Plex-Text-Format"]=Bt(r.identifier),t.drmType&&(c["X-Plex-Drm"]=t.drmType))}t.language&&(c["X-Plex-Language"]=t.language,c["Accept-Language"]=t.language);var p=yr.a.CancelToken.source(),h=Object.assign({},o,{url:d,cancelToken:p?p.token:void 0,headers:c,timeout:n,allowHeadersInUrl:s,paramsSerializer:e=>br.a.stringify(e,{arrayFormat:"repeat"})});(null==i?void 0:i.isCloud)&&r&&(h=function(e){return Object.assign({},e,{headers:(t=e.headers,t?Je()(t,["X-Plex-Username","X-Plex-Device-Name"]):t)});var t}(h)),h=function(e){var{method:t="GET",headers:a={},params:i={},allowHeadersInUrl:r=!1,allowBlacklistedMethodHeaders:n=!1}=e;if(!r)return e;if(Ir[t]&&!n)return e;var s=Object.assign({},a),o=Object.assign({},i);return Object.keys(a).forEach(e=>{var t=a[e];Sr[e]||(Mr.test(e)?(o[e]=t,delete s[e]):O.a.warn('[CORS] Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',e))}),Object.assign({},e,{headers:s,params:o})}(h);try{return yield Object(vr.b)(yr.a.request,h)}finally{(yield Object(vr.d)())&&(null==p||p.cancel())}}return{get:(e,t={})=>a(e,Object.assign({},t,{method:"GET"})),post:(e,t={},i)=>a(e,Object.assign({},t,{method:"POST",data:i})),put:(e,t={},i)=>a(e,Object.assign({},t,{method:"PUT",data:i})),del:(e,t={})=>a(e,Object.assign({},t,{method:"DELETE"})),setOption(e,a){t[e]=a},toPlainErrorObject(e){var t,a;(function(e){return e.isAxiosError})(e)&&(e.response?(t=e.response.status,a=e.response.data):e.request&&(t=e.request.status));var i={message:e.message,name:e.name,stack:e.stack,status:t,data:a};return O.a.error(i),i}}}({timeout:3e4,language:"en",drmType:Ft.NONE,providerVersion:"2.0"});function Hr(e){e.isPending=!0,e.error=null}function _r(e){e.isPending=!1,e.isPopulated=!0}function Qr(e,t){e.isPending=!1,e.error=t}function Wr(e,t){var a={items:[],totalSize:void 0,isPending:!1,isPopulated:!1,error:null};return{getDefaultPaginatedState:()=>a,getRepopulateRangeOptions(e){var t=Math.max(e.findIndex(e=>null!=e),0);return{startIndex:t,size:e.length-t}},fetchAll:function*(e,a){var{server:i,provider:r,params:n}=a,s=yield Object(vr.b)(Fr.get,e,{server:i,provider:r,params:n}),o=t?t({server:i,provider:r,data:s.data}):s.data;return yield o},fetchRange:function*(e,a){var{server:i,provider:r,params:n,startIndex:s,size:o,isPrepend:l}=a,c=i.isCloud?200:400,d=Math.max(Math.min(o,c),24),u=l?Math.max(s-d+1,0):s,p=yield Object(vr.b)(Fr.get,e,{server:i,provider:r,params:n,headers:{"X-Plex-Container-Start":String(u),"X-Plex-Container-Size":String(d)}}),h=t?t({server:i,provider:r,data:p.data}):p.data;return yield h},reducers:{reset(t,{payload:i}){var r=e(t,i);Object.assign(r,a)},fetchAllRequested(t,{payload:a}){Hr(e(t,a))},fetchAllSucceeded(t,{payload:a}){var i=e(t,a),{items:r,size:n}=a.data;_r(i),i.totalSize=n,i.items=r},fetchAllFailed(t,{payload:a}){Qr(e(t,a),a.error)},fetchRangeRequested(t,{payload:a}){Hr(e(t,a))},fetchRangeSucceeded(t,{payload:a}){var i=e(t,a),{items:r,totalSize:n,offset:s}=a.data;_r(i),i.totalSize=n;for(var o=0;o<r.length;o++)i.items[o+s]=r[o]},fetchRangeFailed(t,{payload:a}){Qr(e(t,a),a.error)},repopulateRangeRequested(t,{payload:a}){Hr(e(t,a))},repopulateRangeSucceeded(t,{payload:a}){var i=e(t,a),{items:r,totalSize:n,offset:s}=a.data;_r(i),i.items=[],i.totalSize=n;for(var o=0;o<r.length;o++)i.items[o+s]=r[o]},repopulateRangeFailed(t,{payload:a}){Qr(e(t,a),a.error)}}}}!function(e){e.Album="album",e.Artist="artist",e.Channel="channel",e.Channels="channels",e.Content="content",e.Clip="clip",e.Collection="collection",e.Directory="directory",e.Episode="episode",e.Extra="extra",e.Folder="folder",e.Mixed="mixed",e.Movie="movie",e.MusicVideo="musicVideo",e.Person="person",e.Photo="photo",e.PhotoAlbum="photoAlbum",e.Playlist="playlist",e.Season="season",e.Show="show",e.Station="station",e.Track="track"}(Cr||(Cr={})),function(e){e.Hero="hero",e.List="list",e.Shelf="shelf",e.Spotlight="spotlight",e.Upsell="upsell",e.WideShelf="wideShelf",e.Grid="grid",e.PrePlayGrid="prePlayGrid",e.Table="table",e.Details="details",e.SimpleDetails="simpleDetails",e.SharedItems="sharedItems",e.Folder="folder"}(Dr||(Dr={})),function(e){e.Filter="filter"}(Pr||(Pr={})),function(e){e.String="string",e.Integer="integer",e.Boolean="boolean"}(Or||(Or={})),function(e){e.Ascending="asc",e.Descending="desc"}(jr||(jr={})),function(e){e.Year="year",e.Decade="decade",e.Duration="duration",e.Rating="rating",e.HDR="hdr",e.FleSize="fileSize",e.Bitrate="bitrate"}(Tr||(Tr={})),function(e){e.Tag="tag",e.String="string",e.Integer="integer",e.Boolean="boolean",e.Date="date",e.SubtitleLanguage="subtitleLanguage",e.AudioLanguage="audioLanguage",e.Resolution="resolution"}(wr||(wr={})),function(e){e.AddedAt="addedAt",e.AddedAtChannelTag="addedAtChannelTag",e.AddedAtGrandparentTitle="addedAtGrandparentTitle",e.AirsAt="airsAt",e.AttributionLogo="attributionLogo",e.ChildCount="childCount",e.ContentRating="contentRating",e.Duration="duration",e.EpisodeIdentifier="episodeIdentifier",e.GrandparentTitle="grandparentTitle",e.LastRatedAt="lastRatedAt",e.LastViewedAt="lastViewedAt",e.LeafCount="leafCount",e.MediaBitrate="mediaBitrate",e.OriginallyAvailableAt="originallyAvailableAt",e.OriginalTitle="originalTitle",e.ParentTitle="parentTitle",e.Rating="rating",e.SourceTitle="sourceTitle",e.Title="title",e.TitleAttributed="titleAttributed",e.UnviewedLeafCount="unviewedLeafCount",e.UserRating="userRating",e.VideoResolution="videoResolution",e.ViewCount="viewCount",e.ViewOffset="viewOffset",e.Year="year"}(Er||(Er={})),function(e){e.Movie="movie",e.Show="show",e.Season="season",e.Episode="episode",e.Person="person",e.Artist="artist",e.Album="album",e.Track="track",e.Clip="clip",e.Photo="photo",e.Game="game",e.PhotoAlbum="photoalbum",e.Playlist="playlist",e.Collection="collection",e.Directory="directory",e.Channel="channel",e.Hub="hub",e.List="list"}(Nr||(Nr={})),function(e){e[e.Movie=1]="Movie",e[e.Show=2]="Show",e[e.Season=3]="Season",e[e.Episode=4]="Episode",e[e.Person=7]="Person",e[e.Artist=8]="Artist",e[e.Album=9]="Album",e[e.Track=10]="Track",e[e.Clip=12]="Clip",e[e.Photo=13]="Photo",e[e.PhotoAlbum=14]="PhotoAlbum",e[e.Playlist=15]="Playlist",e[e.Collection=18]="Collection",e[e.Game=19]="Game"}(xr||(xr={})),function(e){e.Podcast="podcast",e.Webshow="webshow",e.News="news",e.Movie="movie",e.Show="show",e.Artist="artist",e.Album="album",e.Trailer="trailer",e.DeletedScene="deletedScene",e.Interview="interview",e.MusicVideo="musicVideo",e.BehindTheScenes="behindTheScenes",e.SceneOrSample="sceneOrSample",e.LiveMusicVideo="liveMusicVideo",e.LyricMusicVideo="lyricMusicVideo",e.Concert="concert",e.Featurette="featurette",e.Short="short",e.Other="other",e.Photo="photo"}(Ar||(Ar={})),function(e){e[e.Trailer=1]="Trailer",e[e.DeletedScene=2]="DeletedScene",e[e.Interview=3]="Interview",e[e.MusicVideo=4]="MusicVideo",e[e.BehindTheScenes=5]="BehindTheScenes",e[e.SceneOrSample=6]="SceneOrSample",e[e.LiveMusicVideo=7]="LiveMusicVideo",e[e.LyricMusicVideo=8]="LyricMusicVideo",e[e.Concert=9]="Concert",e[e.Featurette=10]="Featurette",e[e.Short=11]="Short",e[e.Other=12]="Other"}(Lr||(Lr={})),function(e){e.Video="video",e.Audio="audio",e.Photo="photo",e.Rom="rom"}(kr||(kr={})),function(e){e[e.Video=1]="Video",e[e.Audio=2]="Audio",e[e.Subtitles=3]="Subtitles",e[e.Lyrics=4]="Lyrics"}(Rr||(Rr={})),function(e){e.Video="videoStreamID",e.Audio="audioStreamID",e.Subtitles="subtitleStreamID",e.Lyrics="lyricStreamID"}(zr||(zr={})),function(e){e.North="north",e.NorthEast="northeast",e.East="east",e.SouthEast="southeast",e.South="south",e.SouthWest="southwest",e.West="west",e.NorthWest="northwest",e.Center="center"}(Ur||(Ur={})),function(e){e.Small="small",e.Medium="medium",e.Large="large"}(Vr||(Vr={})),function(e){e.Absolute="absolute",e.Relative="relative"}(Br||(Br={}));var Gr=Object.keys,Yr=Object.values,Kr=Object.entries;var qr=function(e){var t=Kr(Nr).find(([,t])=>t===e);return t?Nr[t[0]]:void 0};var Zr=function(e){var t;return null==(t=e.Type)?void 0:t.find(e=>e.active)};function Xr(e,t){switch(t){case Ar.News:switch(e){case Cr.Clip:return[Er.Title,Er.AddedAtChannelTag]}break;case Ar.Podcast:switch(e){case Cr.Show:return[Er.Title];case Cr.Track:return[Er.Title,Er.GrandparentTitle]}break;case Ar.Webshow:switch(e){case Cr.Show:return[Er.Title];case Cr.Episode:return[Er.Title,Er.AddedAtGrandparentTitle]}}switch(e){case Cr.Movie:return[Er.Title,Er.Year];case Cr.Show:return[Er.Title,Er.ChildCount];case Cr.Season:return[Er.ParentTitle,Er.Title];case Cr.Episode:return[Er.GrandparentTitle,Er.Title,Er.EpisodeIdentifier];case Cr.Artist:return[Er.Title];case Cr.Album:return[Er.ParentTitle,Er.TitleAttributed];case Cr.Track:return[Er.GrandparentTitle,Er.Title];case Cr.Photo:case Cr.PhotoAlbum:case Cr.Clip:return[Er.Title];case Cr.Playlist:return[Er.Title,Er.Duration];case Cr.Collection:return[Er.Title,Er.ChildCount];case Cr.Channels:return[Er.Title,Er.AirsAt]}return[Er.Title]}var Jr=function(e){var t;if(e){if(e.DisplayFields)return e;var a=Zr(e);if(!a)return e;var i=null==(t=a.Sort)?void 0:t.find(e=>e.active);if(!i)return e;var r=qr(a.type);if(!r)return e;var n=Xr(a.type,a.subtype),s=function(e,t){switch(e.key){case"addedAt":return[Er.AddedAt];case"audienceRating":return[Er.Rating];case"beginsAt":return[Er.AirsAt];case"contentRating":return[Er.ContentRating];case"duration":return[Er.Duration];case"lastRatedAt":return[Er.LastRatedAt];case"lastViewedAt":return[Er.LastViewedAt];case"mediaBitrate":return[Er.MediaBitrate];case"mediaCount":return[Er.LeafCount];case"mediaHeight":return[Er.VideoResolution];case"originallyAvailableAt":return[Er.OriginallyAvailableAt];case"rating":return[Er.Rating];case"unviewedLeafCount":return[Er.UnviewedLeafCount];case"userRating":return[Er.UserRating];case"viewCount":return[Er.ViewCount];case"viewOffset":return[Er.ViewOffset];case"year":return[Er.Year]}return[]}(i);return e.DisplayFields=[{type:r,subtype:a.subtype,fields:Array.from(new Set([...n,...s]))}],e}},$r=a("BkRI"),en=a.n($r),tn=a("z4sZ"),an=a("DvHC");function rn(e){return jt.k(va(e.identifier,e.providerIdentifier),[jt.b,jt.c])}function nn(e,t){if(!e)throw new Error(t)}function sn(e){return(t,a,i)=>{var r=e(t[a],a);i?(t[i]=r,delete t[a]):t[a]=r}}var on=sn((e,t)=>{var a=typeof e;if("string"===a||"number"===a)return Number(e);"undefined"!==a&&O.a.warn("normalizeAsNumber: returning undefined for type: "+a+", property: "+t)}),ln=sn((e,t)=>{var a=typeof e;return"boolean"===a||"number"===a?Boolean(e):"string"===a?"1"===e:void("undefined"!==a&&O.a.warn("normalizeAsBoolean: returning undefined for type: "+a+", property: "+t))}),cn=sn((e,t)=>{var a=typeof e;if(null!=e)return String(e);"undefined"!==a&&O.a.warn("normalizeAsNumber: returning undefined for type: "+a+", property: "+t)});function dn(e,t,a){e.hasOwnProperty(a)&&(t[a]=e[a],delete e[a])}function un({server:e,provider:t,data:a,container:i}){var r,n,s,o,l,c,d,u,p,h,m,v,g,y,f,b,I,S,M,C,D,P,O,j,T=en()(a);if(T.type===Nr.Channel&&T.Metadata){var w={id:T.id,thumb:T.thumb,title:T.title};(T=en()(T.Metadata)).liveTVChannel=w}null!=T.allowSync||dn(i,T,"allowSync"),null!=T.attribution||dn(i,T,"attribution"),null!=T.librarySectionID||dn(i,T,"librarySectionID"),null!=T.librarySectionTitle||dn(i,T,"librarySectionTitle"),null!=T.librarySectionUUID||dn(i,T,"librarySectionUUID"),null==i.augmentationKey||Qa(e.version,Ka.augmentedHubsInRelatedHubs)||dn(i,T,"augmentationKey");var E=/(.*)\/(children|items)$/.exec(T.key);E&&(T.childrenKey=_.join(T.skipChildren?T.key.replace("/children","/grandchildren"):T.key,{excludeAllLeaves:1}),T.key=E[1]),cn(T,"librarySectionID"),on(T,"extraType");var N=T.source||Object(an.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier});T.source=N,T.sourceURI=""+N+T.key,"genre"===String(T.type)&&(T.type=Nr.Directory,delete T.directory),T.isPlaylist=T.type===Nr.Playlist&&!T.radio,T.isLiveTVChannel=!!T.liveTVChannel,T.isExtra=null!=T.extraType,T.isFolder=/\/folder\?parent=/.test(T.key),T.type===Nr.Clip&&(null==(r=T.guid)?void 0:r.startsWith(tn.d+"://"))&&!T.subtype&&(T.subtype=Ar.Photo),T.Media=null!=(n=T.Media)?n:[],T.Collection=null!=(s=T.Collection)?s:[],T.Director=null!=(o=T.Director)?o:[],T.Producer=null!=(l=T.Producer)?l:[],T.Writer=null!=(c=T.Writer)?c:[],T.Studio=null!=(d=T.Studio)?d:[],T.Style=null!=(u=T.Style)?u:[],T.Genre=null!=(p=T.Genre)?p:[],T.Mood=null!=(h=T.Mood)?h:[],T.Country=null!=(m=T.Country)?m:[],T.Label=null!=(v=T.Label)?v:[],T.Topic=null!=(g=T.Topic)?g:[],T.Channel=null!=(y=T.Channel)?y:[],T.Role=null!=(f=T.Role)?f:[],T.Review=null!=(b=T.Review)?b:[],T.Location=null!=(I=T.Location)?I:[],T.Autotag=null!=(S=T.Autotag)?S:[],T.Tag=null!=(M=T.Tag)?M:[],T.Media.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{cn(e,"id")})})}),T.listItemKey=T.Media.reduce((e,t)=>(e.push(t.id),e),[T.sourceURI]).join("~");var x,A={tempState:{},isStale:!1};(dn(T,A,"deletedAt"),dn(T,A,"downloadSubscriptionID"),dn(T,A,"subscriptionID"),dn(T,A,"subscriptionType"),dn(T,A,"grandparentSubscriptionID"),dn(T,A,"grandparentSubscriptionType"),dn(T,A,"isDownloaded"),dn(T,A,"lastRatedAt"),dn(T,A,"lastViewedAt"),dn(T,A,"picked"),dn(T,A,"saved"),dn(T,A,"unviewedLeafCount"),dn(T,A,"userRating"),dn(T,A,"viewCount"),dn(T,A,"viewOffset"),dn(T,A,"viewedLeafCount"),dn(T,A,"watchlistedAt"),null!=T.leafCount)&&(A.viewedLeafCount=null!=(x=A.viewedLeafCount)?x:0,A.unviewedLeafCount=T.leafCount-A.viewedLeafCount);var L={[T.sourceURI]:A};if(null==(C=T.Stations)?void 0:C.Metadata){var k=pn({server:e,provider:t,data:T.Stations.Metadata,container:i});T.stations=k.metadataItems,delete T.Stations,Object.assign(L,k.metadataItemStates)}if(null==(D=T.Extras)?void 0:D.Metadata){var R=pn({server:e,provider:t,data:T.Extras.Metadata,container:i});T.extras=R.metadataItems,delete T.Extras,Object.assign(L,R.metadataItemStates)}if(null==(P=T.OnDeck)?void 0:P.Metadata){var z=un({server:e,provider:t,data:T.OnDeck.Metadata,container:i});T.onDeck=z.metadataItem,delete T.OnDeck,Object.assign(L,z.metadataItemStates)}if((null==(O=T.PopularLeaves)?void 0:O.Metadata)&&(null==(j=T.PopularLeaves)?void 0:j.key)){var U=pn({server:e,provider:t,data:T.PopularLeaves.Metadata,container:i});T.popularLeaves={key:T.PopularLeaves.key,items:U.metadataItems},delete T.PopularLeaves,Object.assign(L,U.metadataItemStates)}return T.Preferences&&(A.preferences=T.Preferences.Setting,delete T.Preferences),{metadataItem:T,metadataItemStates:L}}function pn({server:e,provider:t,data:a,container:i}){return a.reduce((a,r)=>{var{metadataItem:n,metadataItemStates:s}=un({server:e,provider:t,data:r,container:i});return a.metadataItems.push(n),Object.assign(a.metadataItemStates,s),a},{metadataItems:[],metadataItemStates:{}})}var hn,mn,vn=Wr((e,t)=>e[t.sourceURI],({server:e,provider:t,data:a})=>{var i,r,n,s,o,l=null!=(i=null==a?void 0:a.MediaContainer)?i:{},{Metadata:c=[],Directory:d}=l,u=Je()(l,["Metadata","Directory"]),{metadataItems:p,metadataItemStates:h}=pn({server:e,provider:t,data:null!=d?d:c,container:u});return null==u||null==(r=u.Meta)||null==(n=r.Type)||n.forEach(e=>{"genre"===String(e.type)&&(e.type=Cr.Directory)}),{items:p,totalSize:null!=(s=null==u?void 0:u.totalSize)?s:0,size:null==u?void 0:u.size,offset:null!=(o=null==u?void 0:u.offset)?o:0,meta:Jr(null==u?void 0:u.Meta),title:null==u?void 0:u.title,metadataItemStates:h}}),gn=Object(mr.c)({name:"metadataLists",initialState:{},reducers:Object.assign({},vn.reducers,{added(e,{payload:t}){t.metadataLists.forEach(t=>{e[t.sourceURI]=Object.assign({},vn.getDefaultPaginatedState(),t)})},throttledRepopulateRangeRequested(e,t){},throttledFetchAllRequested(e,t){}})}),yn=Object(mr.c)({name:"metadataItemState",initialState:{},reducers:{metadataItemStatesNormalized(e,{payload:t}){Object.assign(e,t.metadataItemStates)},playedStatusUpdateRequested(e,{payload:t}){var{sourceURI:a,played:i}=t,r=e[a];if(r){var{viewedLeafCount:n,unviewedLeafCount:s,viewCount:o,viewOffset:l,tempState:c}=r;c.viewedLeafCount=n,c.unviewedLeafCount=s,c.viewCount=o,c.viewOffset=l,null!=s&&null!=n?(r.viewedLeafCount=i?s+n:0,r.unviewedLeafCount=i?0:s+n):(r.viewCount=i?(r.viewCount||0)+1:0,r.viewOffset=0)}},playedStatusUpdateSucceeded(e,{payload:t}){var{sourceURI:a}=t,i=e[a];if(i){var{tempState:r}=i;r.viewedLeafCount=void 0,r.unviewedLeafCount=void 0,r.viewCount=void 0,r.viewOffset=void 0,i.isStale=!0}},playedStatusUpdateFailed(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;a.viewedLeafCount=i.viewedLeafCount,i.viewedLeafCount=void 0,a.unviewedLeafCount=i.unviewedLeafCount,i.unviewedLeafCount=void 0,a.viewCount=i.viewCount,i.viewCount=void 0,a.viewOffset=i.viewOffset,i.viewOffset=void 0}},rateRequested(e,{payload:t}){var a=e[t.sourceURI];if(a){var{lastRatedAt:i,userRating:r,tempState:n}=a,s=-1===t.rating;n.lastRatedAt=i,n.userRating=r,a.lastRatedAt=s?void 0:Date.now(),a.userRating=s?void 0:t.rating}},rateSucceeded(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;i.lastRatedAt=void 0,i.userRating=void 0}},rateFailed(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;a.lastRatedAt=i.lastRatedAt,i.lastRatedAt=void 0,a.userRating=i.userRating,i.userRating=void 0}},toggleWatchlistRequested(e,{payload:t}){var a=e[t.sourceURI];if(a){var{watchlistedAt:i,tempState:r}=a;r.watchlistedAt=i,a.watchlistedAt=t.added?Date.now():void 0}},toggleWatchlistSucceeded(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;i.watchlistedAt=void 0,a.isStale=!0}},toggleWatchlistFailed(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;a.watchlistedAt=i.watchlistedAt,i.watchlistedAt=void 0}},toggleSavedRequested(e,{payload:t}){var a=e[t.sourceURI];if(a){var{saved:i,tempState:r}=a;r.saved=i,a.saved=t.saved}},toggleSavedSucceeded(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;i.saved=void 0,a.isStale=!0}},toggleSavedFailed(e,{payload:t}){var a=e[t.sourceURI];if(a){var{tempState:i}=a;a.saved=i.saved,i.saved=void 0}},streamSelectRequested(e,t){},streamSelectSucceeded(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!0)},streamSelectFailed(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!0)},streamDeleteRequested(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStreamDeletePending=!0)},streamDeleteSucceeded(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStreamDeletePending=!1,a.isStale=!0)},streamDeleteFailed(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStreamDeletePending=!1)},metadataProcessed(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!0)},repopulateRequested(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!0)},repopulateCanceled(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!1)},deleted(e,{payload:t}){var a=e[t.sourceURI];a&&(a.deletedAt=Date.now(),a.isDeleted=!0)},preferenceChanged(e,{payload:t}){var a=e[t.sourceURI];a&&(a.isStale=!0)},addToLibraryRequested(e,t){}},extraReducers:e=>{e.addCase(gn.actions.added,(e,{payload:t})=>{Object.assign(e,t.metadataItemStates)}),e.addCase(gn.actions.fetchRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(gn.actions.fetchAllSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)}),e.addCase(gn.actions.repopulateRangeSucceeded,(e,{payload:t})=>{Object.assign(e,t.data.metadataItemStates)})}});!function(e){e.Queued="queued",e.Matching="matching",e.Processing="processing",e.Loading="loading"}(hn||(hn={})),function(e){e.Analyzing="analyzing",e.Thumbnailing="thumbnailing"}(mn||(mn={}));function fn(e,t){var a=e[t];return a||(a={},e[t]=a),a}var bn=Object(mr.c)({name:"metadataTimelineState",initialState:{},reducers:{metadataRefreshRequested(e,{payload:t}){var a=fn(e,t.sourceURI);a.metadataState||(a.metadataState=hn.Queued)},metadataRefreshFailed(e,{payload:t}){var a=fn(e,t.sourceURI);(null==a?void 0:a.mediaState)?a.metadataState=void 0:delete e[t.sourceURI]},mediaAnalysisRequested(e,{payload:t}){if(!t.hasChildren){var a=fn(e,t.sourceURI);a.mediaState||(a.mediaState=mn.Analyzing)}},mediaAnalysisFailed(e,{payload:t}){var a=fn(e,t.sourceURI);(null==a?void 0:a.metadataState)?a.mediaState=void 0:delete e[t.sourceURI]},timelineStatesChanged(e,{payload:t}){var a=fn(e,t.sourceURI);t.metadataState||t.mediaState?(a.metadataState=t.metadataState,a.mediaState=t.mediaState):delete e[t.sourceURI]}}}),In=Object(mr.c)({name:"servers",initialState:{},reducers:{connected(e,t){},libraryScanUpdated(e,t){}}}),Sn={accounts:[],isPending:!1,isPopulated:!1,error:null},Mn=Object(mr.c)({name:"serverAccounts",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){Hr(e[t.server.machineIdentifier])},fetchSucceeded(e,{payload:t}){var a=e[t.server.machineIdentifier];_r(a),a.accounts=t.data},fetchFailed(e,{payload:t}){Qr(e[t.server.machineIdentifier],t.error)}},extraReducers:e=>{e.addCase(In.actions.connected,(e,{payload:t})=>{var{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]=Object.assign({},Sn))})}}),Cn=Object(mr.c)({name:"serverActivities",initialState:{},reducers:{activityStarted(e,t){},activityUpdated(e,t){},activityFinished(e,t){}},extraReducers:e=>{e.addCase(In.actions.connected,(e,{payload:t})=>{var{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]=[])})}}),Dn={devices:[],isPending:!1,isPopulated:!1,error:null},Pn=Object(mr.c)({name:"serverDevices",initialState:{},reducers:{populateRequested(e,t){},fetchRequested(e,{payload:t}){Hr(e[t.server.machineIdentifier])},fetchSucceeded(e,{payload:t}){var a=e[t.server.machineIdentifier];_r(a),a.devices=t.data},fetchFailed(e,{payload:t}){Qr(e[t.server.machineIdentifier],t.error)}},extraReducers:e=>{e.addCase(In.actions.connected,(e,{payload:t})=>{var{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]=Object.assign({},Dn))})}});function On(e,t){var{isCloud:a,isConnected:i,isEmbedded:r,isFullOwnedServer:n,isFullServer:s,isUnauthorized:o,isUnavailable:l}=t,c={isCloud:a,isConnected:i,isEmbedded:r,isFullOwnedServer:n,isFullServer:s,isUnauthorized:o,isUnavailable:l},d=new Error(e);O.a.error(d,c),ee.capture(d,{extra:c})}var jn,Tn={sessionKeys:[],sessionsByKey:{},isPending:!1,isPopulated:!1,error:null,stopSessionError:null},wn=Object(mr.c)({name:"serverNowPlayingSessions",initialState:{},reducers:{fetchRequested(e,{payload:t}){Hr(e[t.server.machineIdentifier])},fetchSucceeded(e,{payload:t}){var a=e[t.server.machineIdentifier],{sessionKeys:i,sessionsByKey:r}=t.data.reduce((e,t)=>(e.sessionKeys.push(t.sessionKey),e.sessionsByKey[t.sessionKey]=t,e),{sessionKeys:[],sessionsByKey:{}});_r(a),a.sessionKeys=i,a.sessionsByKey=r},fetchFailed(e,{payload:t}){Qr(e[t.server.machineIdentifier],t.error)},sessionChanged(e,{payload:t}){var{server:a,message:i}=t,r=e[a.machineIdentifier];if(r){var n=r.sessionsByKey[i.sessionKey];n&&n.key===i.key&&(n.viewOffset=i.viewOffset,n.Player.state=i.state)}else On("Session changed without serverState",a)},sessionStopped(e,{payload:t}){var{server:a,sessionKey:i}=t,r=e[a.machineIdentifier];r?r.sessionsByKey[i]&&(delete r.sessionsByKey[i],r.sessionKeys.splice(r.sessionKeys.indexOf(i),1)):On("Session stopped without serverState",a)},stopRequested(e,t){},stopFailed(e,{payload:t}){e[t.server.machineIdentifier].stopSessionError=t.error},stopErrorDismissed(e,{payload:t}){e[t.server.machineIdentifier].stopSessionError=null}},extraReducers:e=>{e.addCase(In.actions.connected,(e,{payload:t})=>{var{server:a}=t;e[a.machineIdentifier]||(e[a.machineIdentifier]=Object.assign({},Tn))})}}),En=Object(mr.c)({name:"user",initialState:{},reducers:{languageChanged(){}}}),Nn=Object(hr.combineReducers)({metadataItemState:yn.reducer,metadataLists:gn.reducer,metadataTimelineState:bn.reducer,user:En.reducer,serverAccounts:Mn.reducer,serverActivities:Cn.reducer,serverDevices:Pn.reducer,serverNowPlayingSessions:wn.reducer,servers:In.reducer});!function(e){e.Modal="modal",e.Menu="menu"}(jn||(jn={}));var xn=Object(mr.c)({name:"addToPlaylist",initialState:{menu:{source:void 0,playlists:[],isPending:!1,isPopulated:!1,error:null},modal:{source:void 0,playlists:[],isPending:!1,isPopulated:!1,error:null},isSaving:!1,isSaved:!1,saveError:null},reducers:{modalClosed(e,t){e.isSaving=!1,e.isSaved=!1,e.saveError=null},playlistListFetchRequested(e,{payload:t}){var{ui:a,destinationProvider:i,destinationServer:r}=t,n=Object(an.a)({serverIdentifier:r.machineIdentifier,providerIdentifier:i.identifier});e[a].source!==n&&(e[a].source=n,e[a].playlists=[],e[a].isPending=!1,e[a].isPopulated=!1,e[a].error=null),Hr(e[a])},playlistListFetchSucceeded(e,{payload:t}){var{ui:a,playlists:i}=t;_r(e[a]),e[a].playlists=i},playlistListFetchFailed(e,{payload:t}){var{ui:a,error:i}=t;Qr(e[a],i)},playlistCreateRequested(e,t){e.isSaving=!0,e.saveError=null},playlistUpdateRequested(e,{payload:t}){var{ui:a}=t;a!==jn.Menu&&(e.isSaving=!0,e.saveError=null)},playlistSaveSucceeded(e,{payload:t}){var{ui:a}=t;a!==jn.Menu&&(e.isSaving=!1,e.isSaved=!0)},playlistSaveFailed(e,{payload:t}){var{ui:a}=t;a!==jn.Menu&&(e.isSaving=!1,e.saveError=t.error)}}}),An={bandwidth:{statistics:[],isPending:!1,isPopulated:!1,error:null,requestTimestampMilliseconds:null,responseTimestampMilliseconds:null},resources:{statistics:[],isPending:!1,isPopulated:!1,isUnsupported:!1,error:null,requestTimestampMilliseconds:null},topUsers:{statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},playHistory:{statistics:[],accounts:[],isPending:!1,isPopulated:!1,error:null},topPlayed:{moviesStatistics:[],tvStatistics:[],musicStatistics:[],gameStatistics:[],isPending:!1,isPopulated:!1,error:null}},Ln=Object(mr.c)({name:"dashboard",initialState:An,reducers:{reset:()=>An,bandwidthFetchRequested({bandwidth:e},t){Hr(e)},bandwidthFetchSucceeded({bandwidth:e},{payload:t}){_r(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds,e.responseTimestampMilliseconds=t.responseTimestampMilliseconds},bandwidthFetchFailed({bandwidth:e},{payload:t}){Qr(e,t.error),e.requestTimestampMilliseconds=null,e.responseTimestampMilliseconds=null},bandwidthAbortRequested(){},resourcesFetchRequested({resources:e},t){Hr(e),e.isUnsupported=!1},resourcesFetchSucceeded({resources:e},{payload:t}){_r(e),e.statistics=t.data,e.requestTimestampMilliseconds=t.requestTimestampMilliseconds},resourcesFetchFailed({resources:e},{payload:t}){Qr(e,t.error),e.isUnsupported=404===t.error.status},topUsersFetchRequested({topUsers:e},t){Hr(e)},topUsersFetchSucceeded({topUsers:e},{payload:t}){_r(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},topUsersFetchFailed({topUsers:e},{payload:t}){Qr(e,t.error)},playHistoryFetchRequested({playHistory:e},t){Hr(e)},playHistoryFetchSucceeded({playHistory:e},{payload:t}){_r(e),e.statistics=t.data.statistics,e.accounts=t.data.accounts},playHistoryFetchFailed({playHistory:e},{payload:t}){Qr(e,t.error)},topPlayedFetchRequested({topPlayed:e},t){Hr(e)},topPlayedFetchSucceeded({topPlayed:e},{payload:t}){_r(e),e.moviesStatistics=t.data.moviesStatistics,e.tvStatistics=t.data.tvStatistics,e.musicStatistics=t.data.musicStatistics,e.gameStatistics=t.data.gameStatistics},topPlayedFetchFailed({topPlayed:e},{payload:t}){Qr(e,t.error)}}}),kn={meta:void 0,metadataListSourceURI:void 0,filterOptions:{},firstCharacters:{isPending:!1,isPopulated:!1,error:null,items:[]},hubsList:{isPending:!1,isPopulated:!1,error:null,hubs:[]}},Rn=Object(mr.c)({name:"directory",initialState:kn,reducers:{reset:()=>kn,resetMeta(e){e.meta=void 0},resetHubs(e){e.hubsList=kn.hubsList},resetFirstCharacters(e){e.firstCharacters=Object.assign({},kn.firstCharacters)},initializeListRequested(e,{payload:t}){e.metadataListSourceURI=t.sourceURI},fetchHubsRequested(e,t){Hr(e.hubsList)},fetchHubsSucceeded(e,{payload:t}){_r(e.hubsList),e.hubsList.hubs=t.data.hubs,e.title=t.data.title,e.meta=t.data.meta},fetchHubsFailed(e,{payload:t}){Qr(e.hubsList,t.error)},fetchFilterOptionsRequested(e,{payload:t}){e.filterOptions[t.key]||(e.filterOptions[t.key]={isPending:!1,isPopulated:!1,error:null,options:[]}),Hr(e.filterOptions[t.key])},fetchFilterOptionsSucceeded(e,{payload:t}){_r(e.filterOptions[t.key]),e.filterOptions[t.key].options=t.filterOptions},fetchFilterOptionsFailed(e,{payload:t}){Qr(e.filterOptions[t.key],t.error)},fetchFirstCharactersRequested(e,t){Hr(e.firstCharacters)},fetchFirstCharactersSucceeded(e,{payload:t}){_r(e.firstCharacters),e.firstCharacters.items=t.firstCharacters},fetchFirstCharactersFailed(e,{payload:t}){Qr(e.firstCharacters,t.error)}},extraReducers(e){e.addCase(gn.actions.fetchRangeSucceeded,(e,{payload:t})=>{t.sourceURI===e.metadataListSourceURI&&(e.title=t.data.title,t.data.meta&&(e.meta=t.data.meta))}),e.addCase(gn.actions.reset,(e,{payload:t})=>t.sourceURI===e.metadataListSourceURI?Object.assign({},kn,{meta:e.meta}):e)}}),zn={channels:[],isPending:!0,isPopulated:!1,error:null},Un={devices:{mediaGrabberDevices:[],isPending:!1,isPopulated:!1,error:null},channelsByDeviceKey:{},epgSettings:{countries:{epgCountries:[],isPending:!1,isPopulated:!1,error:null},selectedCountry:void 0,postalCode:""}},Vn=Object(mr.c)({name:"dvrSetup",initialState:Un,reducers:{reset:()=>Un,devicesFetchRequested({devices:e},t){Hr(e)},devicesFetchSucceeded({devices:e},{payload:t}){_r(e),e.mediaGrabberDevices=t.data},devicesFetchFailed({devices:e},{payload:t}){Qr(e,t.error)},deviceChannelsFetchRequested(e,{payload:t}){var a=e.channelsByDeviceKey[t.deviceKey];a||(a=Object.assign({},zn),e.channelsByDeviceKey[t.deviceKey]=a),Hr(a)},deviceChannelsFetchSucceeded(e,{payload:t}){var a=e.channelsByDeviceKey[t.deviceKey];_r(a),a.channels=t.data},deviceChannelsFetchFailed(e,{payload:t}){var a=e.channelsByDeviceKey[t.deviceKey];a||(a=Object.assign({},zn),e.channelsByDeviceKey[t.deviceKey]=a),Qr(a,t.error)},epgCountriesFetchRequested({epgSettings:e},t){Hr(e.countries)},epgCountriesFetchSucceeded({epgSettings:e},{payload:t}){_r(e.countries),e.countries.epgCountries=t.data},epgCountriesFetchFailed({epgSettings:e},{payload:t}){Qr(e.countries,t.error)},deviceSourceSelected({devices:e},{payload:t}){var a=e.mediaGrabberDevices.find(e=>e.key===t.deviceKey);a&&(a.source=t.source)},epgCountrySelected({epgSettings:e},{payload:t}){var a=e.countries.epgCountries.find(e=>e.code===t.countryCode);e.selectedCountry=a},epgPostalCodeSet({epgSettings:e},{payload:t}){e.postalCode=t.postalCode}}}),Bn=a("PsWl"),Fn=Object(mr.c)({name:"players",initialState:{},reducers:{ended(e,t){}}}),Hn={hubsListsBySource:{}},_n={contentDirectoryID:[],hubs:[],isStale:!1,isPending:!1,isPopulated:!1,error:null};function Qn(e,t){var a=e.hubsListsBySource[t];null==a||a.hubs.forEach(e=>{e.isStale=!0})}var Wn=Object(mr.c)({name:"home",initialState:Hn,reducers:{reset:()=>Hn,markStaleRequested(e){for(var t in e.hubsListsBySource)e.hubsListsBySource[t].isPending=!1},markStale(e){for(var t in e.hubsListsBySource)Qn(e,t)},populateAllRequested(e,{payload:t}){var a=t.hubsProviders.map(e=>e.source);Object.keys(e.hubsListsBySource).forEach(t=>{a.includes(t)||delete e.hubsListsBySource[t]})},fetchRequested(e,{payload:t}){var a=e.hubsListsBySource[t.hubsProvider.source];a||(a=Object.assign({},_n),e.hubsListsBySource[t.hubsProvider.source]=a),Hr(a),a.contentDirectoryID=[...t.hubsProvider.contentDirectoryID]},fetchSucceeded(e,{payload:t}){e.lastFetchedAt||(e.lastFetchedAt=Date.now());var a=e.hubsListsBySource[t.source];_r(a),a.hubs=t.data},fetchFailed(e,{payload:t}){var a=e.hubsListsBySource[t.source];a||(a=Object.assign({},_n,{contentDirectoryID:[...t.contentDirectoryID]}),e.hubsListsBySource[t.source]=a),Qr(a,t.error)}},extraReducers:e=>{e.addCase(gn.actions.repopulateRangeSucceeded,(e,{payload:t})=>{for(var a in e.hubsListsBySource){e.hubsListsBySource[a].hubs.forEach(e=>{e.sourceURI===t.sourceURI&&(e.isStale=!1)})}}),e.addCase(Fn.actions.ended,(e,{payload:t})=>{Qn(e,t.source)}),e.addCase(wn.actions.sessionStopped,(e,{payload:t})=>{Qn(e,Object(an.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(In.actions.libraryScanUpdated,(e,{payload:t})=>{Qn(e,Object(an.a)({serverIdentifier:t.server.machineIdentifier}))}),e.addCase(yn.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{Qn(e,Object(an.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier}))}),e.addCase(yn.actions.metadataProcessed,(e,{payload:t})=>{var{serverIdentifier:a,providerIdentifier:i}=Object(Bn.a)(t.sourceURI);Qn(e,Object(an.a)({serverIdentifier:a,providerIdentifier:i}))}),e.addCase(En.actions.languageChanged,()=>Hn)}}),Gn={isImporting:!1,isImported:!1,importError:null},Yn=Object(mr.c)({name:"importPlaylists",initialState:Gn,reducers:{reset:()=>Gn,importRequested(e,t){e.isImporting=!0,e.importError=null},importSucceeded(e,t){e.isImporting=!1,e.isImported=!0},importFailed(e,{payload:t}){e.isImporting=!1,e.importError=t.error}}});var Kn,qn,Zn,Xn=(Kn=e=>e,Zn={count:0,items:{}},{getDefaultMultiselectState:()=>Zn,getIdentity:qn=e=>e.sourceURI,reducers:{reset:e=>(Kn(e),Zn),selectItems(e,{payload:t}){var a=Kn(e),{items:i}=t;i.forEach(e=>{var t=qn(e);a.items[t]||(a.items[t]=e,a.count+=1)})},deselectItems(e,{payload:t}){var a=Kn(e),{items:i}=t;i.forEach(e=>{var t=qn(e);a.items[t]&&(delete a.items[t],a.count-=1)})}}}),Jn=Xn.getDefaultMultiselectState(),$n=Object(mr.c)({name:"metadataMultiselect",initialState:Jn,reducers:Object.assign({},Xn.reducers)}),es=Wr(e=>e,e=>{var t,a,i,{data:r}=e,n=r.MediaContainer;return{items:null!=(t=null==n?void 0:n.Metadata)?t:[],totalSize:null!=(a=null==n?void 0:n.totalSize)?a:0,offset:null!=(i=null==n?void 0:n.offset)?i:0}}),ts=es.getDefaultPaginatedState(),as=Object(mr.c)({name:"playHistory",initialState:ts,reducers:Object.assign({},es.reducers)}),is="general.bundle.clean",rs={descendantListSourceURI:void 0,siblingListSourceURI:void 0,popularLeavesSourceURI:void 0,extrasSourceURI:void 0,metadata:{metadataItem:void 0,isMediaFileUnavailable:!1,isStale:!1,isPending:!1,isPopulated:!1,error:null},related:{hubs:[],isPending:!1,isPopulated:!1,error:null},augmented:{hubs:[],isPending:!1,isPopulated:!1,error:null}};function ns(e,t,a){var i,{type:r,Context:n}=a;"library.refresh.items"===r&&(Object(an.a)({serverIdentifier:t.machineIdentifier,metadataItemKey:n.key})===(null==(i=e.metadata.metadataItem)?void 0:i.sourceURI)&&(n.exists&&n.accessible?e.metadata.isMediaFileUnavailable=!1:!1!==n.exists&&!1!==n.accessible||(e.metadata.isMediaFileUnavailable=!0)))}var ss=Object(mr.c)({name:"prePlay",initialState:rs,reducers:{reset:e=>Object.assign({},rs,{siblingListSourceURI:e.siblingListSourceURI}),metadataItemFetchRequested(e,t){Hr(e.metadata)},metadataItemFetchSucceeded(e,{payload:t}){_r(e.metadata),e.descendantListSourceURI=t.descendantListSourceURI,e.siblingListSourceURI=t.siblingListSourceURI,e.popularLeavesSourceURI=t.popularLeavesSourceURI,e.extrasSourceURI=t.extrasSourceURI,e.metadata.metadataItem=t.metadataItem,e.metadata.isStale=!1},metadataItemFetchFailed(e,{payload:t}){Qr(e.metadata,t.error)},metadataItemRepopulateRequested(e,t){Hr(e.metadata)},relatedHubsFetchRequested(e,t){Hr(e.related)},relatedHubsFetchSucceeded(e,{payload:t}){_r(e.related),e.related.hubs=t.hubs},relatedHubsFetchFailed(e,{payload:t}){Qr(e.related,t.error)},augmentedHubsFetchRequested(e,t){Hr(e.augmented)},augmentedHubsFetchSucceeded(e,{payload:t}){_r(e.augmented),e.augmented.hubs=t.hubs},augmentedHubsFetchFailed(e,{payload:t}){Qr(e.augmented,t.error)}},extraReducers:e=>{e.addCase(Cn.actions.activityUpdated,(e,{payload:t})=>{ns(e,t.server,t.activity)}),e.addCase(Cn.actions.activityFinished,(e,{payload:t})=>{ns(e,t.server,t.activity)}),e.addCase(Fn.actions.ended,(e,{payload:t})=>{var a;(null==(a=e.metadata.metadataItem)?void 0:a.source)===t.source&&(e.metadata.isStale=!0)}),e.addCase(wn.actions.sessionStopped,(e,{payload:t})=>{var a,i=Object(an.a)({serverIdentifier:t.server.machineIdentifier});(null==(a=e.metadata.metadataItem)?void 0:a.source)===i&&(e.metadata.isStale=!0)}),e.addCase(yn.actions.playedStatusUpdateSucceeded,(e,{payload:t})=>{var a,i=Object(an.a)({serverIdentifier:t.server.machineIdentifier,providerIdentifier:t.provider.identifier});(null==(a=e.metadata.metadataItem)?void 0:a.source)===i&&(e.metadata.isStale=!0)}),e.addCase(yn.actions.deleted,(e,{payload:t})=>{var a,i=null==(a=e.metadata.metadataItem)?void 0:a.sourceURI,{parentSourceURI:r,rootSourceURI:n}=t;!i||i!==r&&i!==n||(e.metadata.isStale=!0)}),e.addCase(yn.actions.repopulateCanceled,(e,t)=>{e.metadata.isStale=!1})}}),os={secret:{secret:void 0,provisioningUri:void 0,isPending:!1,isPopulated:!1,error:null},toggle:{isPending:!1,isPopulated:!1,error:null},recoveryCodes:{isPending:!1,isPopulated:!1,error:null},codes:[]},ls=Object(mr.c)({name:"twoFactorAuth",initialState:os,reducers:{reset:()=>os,createSecretRequested(e,t){Hr(e.secret)},createSecretSucceeded(e,{payload:t}){_r(e.secret),e.secret.provisioningUri=t.provisioningUri,e.secret.secret=t.secret},createSecretFailed(e,{payload:t}){Qr(e.secret,t.error)},toggleRequested(e,t){Hr(e.toggle)},toggleSucceeded(e,{payload:t}){_r(e.toggle),t.enabled&&(e.codes=t.codes)},toggleFailed(e,{payload:t}){Qr(e.toggle,t.error)},generateRecoveryCodesRequested(e,t){Hr(e.recoveryCodes)},generateRecoveryCodesSucceeded(e,{payload:t}){_r(e.recoveryCodes),e.codes=t.codes},generateRecoveryCodesFailed(e,{payload:t}){Qr(e.recoveryCodes,t.error)}}}),cs=Object(hr.combineReducers)({addToPlaylist:xn.reducer,dashboard:Ln.reducer,directory:Rn.reducer,dvrSetup:Vn.reducer,home:Wn.reducer,importPlaylists:Yn.reducer,metadataMultiselect:$n.reducer,players:Fn.reducer,playHistory:as.reducer,prePlay:ss.reducer,twoFactorAuth:ls.reducer}),ds=Object(hr.combineReducers)({core:Nn,features:cs}),us=Object(mr.b)("v4/reset"),ps=(e,t)=>(t.type===us.type&&(e=void 0),ds(e,t));var hs=function(){var e=Object(ie.c)("appStore"),t=Object(ie.c)("appModel"),a=t.get("ui"),i=t.get("user"),r=t.get("fakeRouter"),n=i.server,s=i.clearAccessToken();return s=(s=s.fail(()=>{O.a.warn("Failed to clear the access token and user storage")}).always(()=>{t.set("history",[]),e.dispatch(us()),a&&a.restoreDefaults(),r&&r.restoreDefaults(),Z.a.abortAll(),i.signOut(),i.uninitialize(),i.initialize(),H.a.trigger("clear:servers"),e.dispatch(Object(Wi.k)({budget:1/0})),H.a.trigger("clearAll:cache"),n.cache.store(n)})).then(()=>pr(Object(ie.c)("serviceWorker").sendMessage({type:"SIGN_OUT"}))),ae(s)},ms=xe.a.extend({name:"AbstractStorageModel",responseType:ct.a,save(e,t,a={}){var i,r=this.attributes;if(null==e||D.a.isObject(e)?(i=e,a=t):(i={})[e]=t,a=D.a.extend({validate:!0},a),i&&!a.wait){if(!this.set(i,a))return!1}else if(!this._validate(i,a))return!1;i&&a.wait&&(this.attributes=D.a.extend({},r,i));var n=this._getStorageAdapter().getInstance().excludeDefaults,s=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==n}),o=this._serialize(s),l=this._getStorageAdapter().set(this._getStorageKey(),o);return l.done(()=>{this.attributes=r,this.trigger("sync",this,r,a)}),l.fail(e=>{this.trigger("error",this,e,a)}),i&&a.wait&&(this.attributes=r),l},destroy(e={}){e.wait||this.trigger("destroy",this,this.collection,e);var t=this._getStorageAdapter().remove(this._getStorageKey());return t.done(t=>{e.wait&&this.trigger("destroy",this,this.collection,e),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},sync(){this._logError("does not support syncing to a server")},_getStorageAdapter:()=>De,_getStorageKey(){var e=D.a.result(this,"storageKey");if(!e)throw new Error(this.name+" requires a `storageKey` property");return e},_fetch(e={}){var t=this._getStorageAdapter().get(this._getStorageKey());return t.done(t=>{t&&this.set(this.parse(t)),this.trigger("sync",this,t,e)}),t.fail(t=>{this.trigger("error",this,t,e)}),t},_serialize(e){var t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError(e){var t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}Object(P.a)(!1,this.name+" ("+t+") "+e)}}),vs=xe.a.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:Ae.a.string.isRequired,id:Ae.a.string}}),gs=ke.a.extend({name:"UserFeatureCollection",context:["server"],model:vs,url:_.join(["https://plex.tv","/api/v2/features"]),responseType:ct.a}),ys=xe.a.extend({name:"UserEntitlementModel",syncedAttrs:{id:Ae.a.string}}),fs=ke.a.extend({name:"UserEntitlementCollection",model:ys}),bs=xe.a.extend({name:"UserRoleModel",syncedAttrs:{id:Ae.a.string}}),Is=ke.a.extend({name:"UserRoleCollection",model:bs}),Ss=xe.a.extend({name:"UserServiceModel",syncedAttrs:{id:Ae.a.string,subscriptionType:Ae.a.string}}),Ms=ke.a.extend({name:"UserServiceCollection",model:Ss}),Cs=["active","inactive","canceled","pending_cancellation"],Ds=["plexpass","tidal"],Ps=xe.a.extend({name:"UserSubscriptionModel",syncedAttrs:{type:Ae.a.oneOf(...Ds).isRequired,state:Ae.a.oneOf(...Cs).isRequired,mode:Ae.a.string.isRequired}}),Os=ke.a.extend({name:"UserSubscriptionCollection",model:Ps}),js=xe.a.extend({additionalRelations:[],copyFromModel(e,t){this._copy(e,this,t)},copyToModel(e,t){this._copy(this,e,t)},_copy(e,t,a={}){var i=!!t.releaseCapturedChangeEvents;i||t.startCapturingChangeEvents(),this._copyAttributes(e,t,a),this._copyRelations(e,t,a),i||t.releaseCapturedChangeEvents()},_copyAttributes(e,t,a){var i={};D.a.each(this.syncedAttrs,(t,r)=>{a.included&&!a.included.includes(r)||(i[r]=e.get(r))}),t.set(i)},_copyRelations(e,t,a){D.a.each(this.syncedRelations,(i,r)=>{if((!a.included||a.included.includes(r))&&!this.additionalRelations.includes(r)){var n=e.get(r),s=t.get(r);if(n&&s){var o=n.toJSON();s instanceof xe.a?s.set(s.parse(o)):s.set(o,{parse:!0})}}})}}),Ts=xe.a.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:Ae.a.string}}),ws=ke.a.extend({name:"StoredConnectionSourceCollection",model:Ts}),Es=xe.a.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:Ae.a.string,scheme:Ae.a.string,address:Ae.a.string,port:Ae.a.string,relay:Ae.a.boolean},syncedRelations:{sources:{relationClass:ws}}}),Ns=ke.a.extend({name:"StoredConnectionCollection",model:Es}),xs=xe.a.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:Object.assign({},Sa.prototype.syncedAttrs),syncedRelations:{features:{relationClass:Vt}}}),As=ke.a.extend({name:"StoredProviderCollection",model:xs}),Ls=js.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:Ae.a.string,friendlyName:Ae.a.string,accessToken:Ae.a.string,sourceTitle:Ae.a.string,home:Ae.a.boolean,serverClass:Ae.a.string,platform:Ae.a.string,isShared:Ae.a.boolean,version:Ae.a.string,publicAddressMatches:Ae.a.boolean,ownerId:Ae.a.integer,mediaProviders:Ae.a.integer},syncedRelations:{providers:{relationClass:As},connections:{relationClass:Ns}}}),ks=ke.a.extend({name:"StoredServerCollection",model:Ls}),Rs=a("YEnZ"),zs=a("SBmW"),Us=a("Psru"),Vs="json",Bs={["bool"]:Rs.a,[Vs]:Us.a},Fs=xe.a.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:Ae.a.boolean},syncedAttrs:{id:Ae.a.string,type:Ae.a.string,value:Ae.a.oneOfType(Ae.a.boolean,Ae.a.object),hidden:Ae.a.boolean,updatedAt:Ae.a.integer},defaults:{isDirty:!1},augmentResponse(e){var t=this.get("isDirty"),a=this.get("updatedAt"),i=Object(zs.a)(e.updatedAt),r=a&&i&&a<i;if(t&&a===i||a&&i&&a>i)return this.toJSON();t&&r&&(e.isDirty=!1);var n=Bs[e.type];return n&&(e.value=n(e.value)),e}}),Hs=xe.a.extend({name:"StoredUserSettingModel",syncedAttrs:Object.assign({},Fs.prototype.syncedAttrs,{isDirty:Ae.a.boolean})}),_s=ke.a.extend({name:"StoredUserSettingCollection",model:Hs}),Qs=js.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:Ae.a.integer,authToken:Ae.a.string,anonymous:Ae.a.boolean,username:Ae.a.string,email:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string,pin:Ae.a.string,home:Ae.a.boolean,restricted:Ae.a.boolean,guest:Ae.a.boolean,hasAllEntitlements:Ae.a.boolean,lastPrimaryServerID:Ae.a.string},syncedRelations:{subscriptions:{relationClass:Os},roles:{relationClass:Is},entitlements:{relationClass:fs},services:{relationClass:Ms},features:{relationClass:gs},settings:{relationClass:_s},experienceSettings:()=>({relationClass:Object(ie.c)("StoredUserExperienceSettingsModel")}),servers:{relationClass:ks}},clearSensitiveAttributes(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),Ws=ke.a.extend({name:"StoredUserCollection",model:Qs}),Gs=new(ms.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:Ae.a.integer},syncedRelations:{users:{relationClass:Ws}},initialize(){this.debouncedSaveTimeout=null},debouncedSave(){this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>this.save(),1e3)},flushDebouncedSave(){this.debouncedSaveTimeout&&(window.clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser(){var e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser(){var e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers(){var e=this.getActiveUser();if(e)return e.get("servers")}})),Ys=a("01sc"),Ks=a.n(Ys);function qs(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&be.a.allowSyncSettings&&Object(ie.c)("settingFinder").find("shouldSyncSettings")}function Zs(e,t={}){return Object.assign({includeSubscriptions:1,includeProviders:1,includeSettings:be.a.allowSyncSettings?1:0,includeSharedSettings:qs(e)?1:0},t)}var Xs=a("vCt9");var Js=function(e,t){var{base:a,searchParams:i,hashPath:r,hashParams:n}=me(e),s=Object(te.a)(i);return a+"?"+Object(Xs.a)(Object.assign({},s,t))+((r||n?"#":"")+r+n)};var $s=function({url:e,data:t,onMessage:a,timeout:i}){var r=window.setTimeout(()=>{a({success:!1}),n()},i);function n(){window.document.body.removeChild(o),window.removeEventListener("message",s),window.clearTimeout(r)}function s(e){if(e.source===o.contentWindow){var t;try{t=JSON.parse(e.data)}catch(e){}t&&(a(t),n())}}window.addEventListener("message",s);var o=window.document.createElement("iframe");o.style.display="none",o.src=e+"#"+encodeURIComponent(JSON.stringify({data:t})),window.document.body.appendChild(o)};function eo(e){return e&&e.statusText||""}var to=function(e){var t,a,i=e.xhrFields&&e.xhrFields.withCredentials&&!1;return e.headers=Object.assign({},$.getInstance(),e.headers||{}),i?(t=e,a=T.a.Deferred(),$s({url:"https://app.plex.tv/service-reflector",data:t,timeout:5e3,onMessage:e=>{!0===e.success?a.resolve(e.data,eo(e.xhr),e.xhr):!1===e.success&&a.reject(e.xhr,eo(e.xhr))}}),a.promise()):T.a.ajax(e)},ao="contentRating",io="contentRating!",ro="label",no="label!";function so(e){return{type:Ae.a.boolean,save(){return this.has(e)}}}function oo(e){return{type:Ae.a.queryString,separators:["|","&"],orFields:[ao,ro],andFields:[io,no],save(){return this.has(e)}}}var lo={allowTuners:{type:Ae.a.integer,save(){return this.has("allowTuners")}},allowSync:so("allowSync"),allowCameraUpload:so("allowCameraUpload"),allowChannels:so("allowChannels"),filterMovies:oo("filterMovies"),filterTelevision:oo("filterTelevision"),filterMusic:oo("filterMusic"),filterPhotos:oo("filterPhotos")},co=xe.a.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,title:Ae.a.string,type:Ae.a.string}}),uo=ke.a.extend({name:"ServerShareLibraryCollection",context:["server"],model:co}),po=xe.a.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:lo}),ho=xe.a.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:Dt.a,responseType:ct.a,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:Ae.a.integer,serverId:Ae.a.integer,machineIdentifier:Ae.a.string,name:Ae.a.string,owned:Ae.a.boolean,admin:Ae.a.boolean,pending:Ae.a.boolean,accepted:Ae.a.boolean,ownerId:Ae.a.integer,inviteToken:Ae.a.string,invitedEmail:Ae.a.string,invitedAt:Ae.a.string,acceptedAt:Ae.a.string,lastSeenAt:Ae.a.string,deletedAt:Ae.a.string,leftAt:Ae.a.string,numLibraries:Ae.a.integer,allLibraries:Ae.a.boolean},syncedRelations:{libraries:{relationClass:uo},sharingSettings:{relationClass:po}}}),mo=ke.a.extend({name:"ServerShareCollection2",context:["server"],model:ho}),vo=xe.a.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:ht.a,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},urlRoot(){return this.get("home")?"/api/users":"/api/friends"},sessionAttrs:{user:Ae.a.string,isRemoving:Ae.a.boolean},syncedAttrs:Object.assign({id:Ae.a.integer,home:Ae.a.boolean,protected:Ae.a.boolean,restricted:Ae.a.boolean,title:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string,recommendationsPlaylistId:Ae.a.string},lo),syncedRelations:{serverShares:{relationClass:mo,rootPropertyName:"Server"}},defaults:{isRemoving:!1}}),go=ke.a.extend({name:"FriendCollection2",context:["server"],model:vo,url:"/api/users"}),yo=xe.a.extend({name:"HomeDetailsModel",context:["server"],url:"/api/v2/home",responseType:ct.a,sessionAttrs:{isTogglingGuestUser:Ae.a.boolean},syncedAttrs:{id:Ae.a.integer,guestUserID:Ae.a.integer,guestEnabled:Ae.a.boolean,subscription:Ae.a.boolean,name:Ae.a.string},defaults:{isTogglingGuestUser:!1}}),fo=a("x1fA"),bo=fo.a.extend({maxCycles:3,maxSize:20,get:function(e){var t=fo.a.prototype.get.apply(this,arguments);return t&&t.every((function(e){return!(!e.cache||!e.cache.isListening)&&(e.cache.store(e),!0)})),t},getItemCacheKey:function(e){var t=D.a.result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}}),Io=I.c.Collection.extend({mixins:[et.a],cache:new bo,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(T.a.Deferred().resolve().promise()),t.allowInCache||t.persistInCache){this.initialize.apply(this,arguments);var a=this.cache.getItemCacheKey(this),i=this.cache.get(a);if(this.uninitialize(),t.onlyIfCached&&(i||(i={})),i)return i;I.c.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,a)}else I.c.Collection.prototype.constructor.apply(this,arguments)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),I.c.sync.apply(this,arguments)},syncUrl:function(){var e="";if(this.url&&(e=D.a.result(this,"url")),this.path&&(e=_.join([e,D.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){var t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=_.join(e,t)}return e},convert:function(e,t){var a=D.a.isObject(e)?e:Be.a.parseXML(e);if(!t)return a;var i=a[t];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){var t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map((function(e){return e.clone()}))),this.clone(e)},clear:function(e){e=D.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});Io.extend=function(){var e=I.c.Collection.extend.apply(this,arguments);return e.prototype.cache=new bo,e};var So=Io,Mo=it.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","restrictionProfile","guest","title","username","email","thumb"],convert(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return t.User&&(t=t.User),Be.a.parseInteger(t,"id"),Be.a.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse(e){var t=this.convert(e);return t=D.a.pick(t,this.whitelistedAttrs)},getSaveParams(e,t){if(D.a.isEmpty(e)){var a={};return this.get("restricted")?a.title=this.get("title"):this.isNew()&&(a.invitedEmail=this.get("username")),a}return it.prototype.getSaveParams.apply(this,arguments)}}),Co=So.extend({model:Mo,url:"/api/home/users",parse(e){return this.convert(e,"User")}}),Do=xe.a.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:Ae.a.boolean,autoSelectSubtitle:Ae.a.integer,defaultAudioLanguage:Ae.a.string,defaultSubtitleLanguage:Ae.a.string,defaultSubtitleAccessibility:Ae.a.integer,defaultSubtitleForced:Ae.a.integer}}),Po=ke.a.extend({name:"UserSettingCollection",context:["server"],model:Fs}),Oo={hubIdentifier:Ae.a.string,hubKey:Ae.a.string,key:Ae.a.string,style:Ae.a.string,subtype:Ae.a.string,title:Ae.a.string,type:Ae.a.string},jo={friendlyName:Ae.a.string,machineIdentifier:Ae.a.string.isRequired,sourceTitle:Ae.a.string},To={identifier:Ae.a.string,providerIdentifier:Ae.a.string,title:Ae.a.string},wo=xe.a.extend({name:"HomeHubProviderModel",syncedAttrs:Object.assign({},To)}),Eo=xe.a.extend({name:"HomeHubServerModel",syncedAttrs:Object.assign({},jo)}),No=xe.a.extend({name:"HomeHubModel",syncedAttrs:Object.assign({},Oo,{id:Ae.a.string.isRequired,directoryID:Ae.a.string.isRequired,directoryKey:Ae.a.string.isRequired,isHidden:Ae.a.boolean.isRequired,hiddenAt:Ae.a.integer}),syncedRelations:{provider:{relationClass:wo},server:{relationClass:Eo}},defaults:{isHidden:!1}}),xo=ke.a.extend({name:"HomeHubCollection",model:No}),Ao=xe.a.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:Ae.a.boolean.isRequired,hasSeededPreferredServerContent:Ae.a.boolean.isRequired,hasSeededProviderPromotedContent:Ae.a.boolean.isRequired,preferredServerID:Ae.a.string,settingsKey:Ae.a.string.isRequired,version:Ae.a.integer.isRequired},syncedRelations:{hubs:{relationClass:xo}},defaults:()=>({hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:Pe(),version:1})}),Lo=xe.a.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:Ae.a.string.isRequired,sourceType:Ae.a.string.isRequired,machineIdentifier:Ae.a.string.isRequired,providerIdentifier:Ae.a.string.isRequired,directoryID:Ae.a.string,directoryIcon:Ae.a.string,title:Ae.a.string.isRequired,serverFriendlyName:Ae.a.string.isRequired,serverSourceTitle:Ae.a.string,providerSourceTitle:Ae.a.string,detail:Ae.a.string,isCloud:Ae.a.boolean,isFullOwnedServer:Ae.a.boolean,isHidden:Ae.a.boolean.isRequired,hiddenAt:Ae.a.integer},defaults:{isHidden:!1}}),ko=ke.a.extend({name:"SidebarSourceCollection",model:Lo}),Ro=xe.a.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:Ae.a.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:ko}},defaults:()=>({hasCompletedSetup:!1})}),zo={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:Ae.a.string,isSidebarAllSources:Ae.a.boolean.isRequired,isDirty:Ae.a.boolean.isRequired,isSaving:Ae.a.boolean.isRequired,saveError:Ae.a.object},syncedAttrs:{updatedAt:Ae.a.integer,autoHomeHubsEnabled:Ae.a.boolean,shouldSaveLastSourcePivots:Ae.a.boolean.isRequired,lastSourcePivots:Ae.a.object.isRequired,savedPivotParams:Ae.a.object.isRequired,autoPinnedProviders:Ae.a.array.isRequired,dismissedUpsellModals:Ae.a.array},syncedRelations:{homeSettings:{relationClass:Ao},sidebarSettings:{relationClass:Ro}},defaults:{autoHomeHubsEnabled:null,sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{},autoPinnedProviders:[],dismissedUpsellModals:[]}},Uo={PENDING:"pending",LOCKED:"locked",UNLOCKED:"unlocked"},Vo={EMPTY:"",UNSUBSCRIBED:"unsubscribed",ACTIVE:"active",ERROR:"error",REMOVED:"removed"},Bo=xe.a.extend({mixins:[Ct],name:"UserModel",context:["server"],url(){return _.join("/api/v2/user",Zs(this))},sessionAttrs:{isRemote:Ae.a.boolean,isSignedIn:Ae.a.boolean.isRequired,hasAttemptedSignIn:Ae.a.boolean.isRequired,hasInvalidToken:Ae.a.boolean.isRequired,hasInvalidAnonymousUserToken:Ae.a.boolean.isRequired,lastPrimaryServerID:Ae.a.string,lockState:Ae.a.oneOf(Uo.PENDING,Uo.LOCKED,Uo.UNLOCKED).isRequired,homeUsers:Ae.a.instanceOf(Co).isRequired,isFeaturesPending:Ae.a.boolean.isRequired,isFeaturesPopulated:Ae.a.boolean.isRequired,featuresError:Ae.a.object,isAllFriendsPending:Ae.a.boolean.isRequired,isAllFriendsPopulated:Ae.a.boolean.isRequired,allFriendsError:Ae.a.object,isProvidersPending:Ae.a.boolean.isRequired,isProvidersPopulated:Ae.a.boolean.isRequired,providersError:Ae.a.object},syncedAttrs:{id:Ae.a.integer,uuid:Ae.a.string,authToken:Ae.a.string,anonymous:Ae.a.boolean,username:Ae.a.string,email:Ae.a.string,emailOnlyAuth:Ae.a.boolean,title:Ae.a.string,subscriptionDescription:Ae.a.string,locale:Ae.a.string,country:Ae.a.string,thumb:Ae.a.string,pin:Ae.a.string,home:Ae.a.boolean,restricted:Ae.a.boolean,guest:Ae.a.boolean,homeSize:Ae.a.integer,maxHomeSize:Ae.a.integer,queueUid:Ae.a.string,queueEmail:Ae.a.string,hasAllEntitlements:Ae.a.boolean,mailingListActive:Ae.a.boolean,hasPassword:Ae.a.boolean,twoFactorEnabled:Ae.a.boolean,mailingListStatus:Ae.a.oneOf(Vo.EMPTY,Vo.UNSUBSCRIBED,Vo.ACTIVE,Vo.ERROR,Vo.REMOVED),adsConsent:Ae.a.boolean,adsConsentSetAt:Ae.a.integer,adsConsentReminderAt:Ae.a.integer},sessionRelations:{features:{relationClass:gs},allFriends:{relationClass:go},providers:{relationClass:Da},homeDetails:{relationClass:yo}},syncedRelations:{subscriptions:{relationClass:Os},roles:{relationClass:Is},entitlements:{relationClass:fs},settings:{relationClass:Po},experienceSettings:()=>({relationClass:Object(ie.c)("UserExperienceSettingsModel")}),services:{relationClass:Ms},profile:{relationClass:Do}},derivedAttrs:{isLocked(){return this.get("lockState")===Uo.LOCKED},isUnlocked(){return this.get("lockState")===Uo.UNLOCKED},isFullUser(){return!!this.get("username")||!!this.get("anonymous")},isEmployee(){return!!this.get("roles").get("employee")},isNinja(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription(){return this.get("subscriptions").some(e=>{var t=e.get("state");return"active"===t||"pending_cancellation"===t})},hasPlexPass(){return this.get("subscriptions").some(e=>{var t=e.get("type"),a=e.get("state");return"plexpass"===t&&("active"===a||"pending_cancellation"===a)})},canGoPremium(){var e=this.get("homeSize")>1,t=!1===this.get("homeDetails").get("subscription");return this.get("signedIn")&&!this.get("anonymous")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&(!e||t)},signedIn(){return this.get("isSignedIn")},locked(){var e=this.get("lockState");return e===Uo.LOCKED||e!==Uo.UNLOCKED&&null}},defaults(){var e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasAttemptedSignIn:!1,hasInvalidToken:!1,hasInvalidAnonymousUserToken:!1,hasPassword:!0,lockState:Uo.PENDING,homeUsers:new Co([],e),twoFactorEnabled:!1,isFeaturesPending:!0,isFeaturesPopulated:!1,featuresError:null,isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null,isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},initialize(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch(){return I.c.Model.prototype.fetch.apply(this,arguments)},augmentResponse(e={}){var{roles:t,entitlements:a,settings:i,providers:r,subscriptions:n}=e,s=Je()(e,["roles","entitlements","settings","providers","subscriptions"]),o=i&&i.setting?i.setting:[];o=Array.isArray(o)?o:[o];var l=this.get("experienceSettings"),c=!1,d=o.reduce((e,t)=>("experience"===t.id?(c=!0,e.experienceSettings=Object.assign({},Object(Us.a)(t.value),{updatedAt:t.updatedAt})):e.settings.push(t),e),{settings:[],experienceSettings:{}});return!c&&l&&(d.experienceSettings=l.toJSON({syncedOnly:!0})),s.gdprConsent&&(s.adsConsent=s.gdprConsent),s.gdprSetAt&&(s.adsConsentSetAt=s.gdprSetAt),s.gdprReminderAt&&(s.adsConsentReminderAt=s.gdprReminderAt),Object.assign({},s,d,{roles:t&&t.role,hasAllEntitlements:a&&a.all,entitlements:a&&a.entitlement,services:r&&r.provider,subscriptions:n&&n.subscription})},_getTokenPromise(){var e,t,a=null==(e=Object(ie.c)("appModel").get("ui"))?void 0:null==(t=e.get("authCodeExchange"))?void 0:t.get("pinIDInitial");return(be.a.allowSSO?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()).then(null,()=>this.get("hasInvalidAnonymousUserToken")||a?this._getSkipAnonymousTokenPromise():this._getAnonymousTokenPromise())},_getSSOThenStorageTokenPromise(){var e=this._getStorageTokenPromise(),t=this._getSSOTokenPromise(),a=()=>this.get("anonymous")?(Object(O.a)("[User] SSO status is not available, try stored anonymous token"),e):(Object(O.a)("[User] SSO status is signed-out"),e.then(()=>ae(this.signOutDueToInvalidToken())));return t.then(t=>t?(t=>e.then(e=>t===e?(Object(O.a)("[User] SSO status is signed-in, storage token matches SSO token"),t):(Object(O.a)("[User] SSO status is signed-in, storage token and SSO token differ"),Ge.execute("resetUser").then(()=>{window.location.reload()})),()=>(Object(O.a)("[User] SSO status is signed-in, storage token is not present"),ae(t))))(t):a(),()=>(Object(O.a)("[User] SSO status is not available"),e))},_getStorageTokenPromise:()=>De.get("myPlexAccessToken"),_getSSOTokenPromise(){return to(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then(e=>e.authToken,e=>e&&400===e.status?T.a.Deferred().resolve(null).promise():T.a.Deferred().reject().promise())},_getSkipAnonymousTokenPromise:()=>(Object(O.a)("[User] Previous user was anonymous. Not attempting to create another anonymous token."),T.a.Deferred().reject().promise()),_getAnonymousTokenPromise(){var e=function(e,t){if(!t||!t.campaign)return e;var a=Object.keys(t.campaign).reduce((e,a)=>(e["utm_"+a]=t.campaign[a],e),{});return Js(e,a)}("/api/v2/users/anonymous",Object(ie.c)("metrics").toJSON().context);return to(this.server.getXHROptions(e,{method:"POST",dataType:"json"})).then(({authToken:e})=>(Object(O.a)("[User] Anonymous token promise succeeded, accessToken="+e),e))},_getManualUserPromise(e){return T.a.ajax(this.server.getXHROptions(D.a.result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised(){if(!this._isSigningIn){this._isSigningIn=!0;var e=this._getTokenPromise();e.done(e=>{Object(O.a)("[User] Token promise succeeded, accessToken="+e);var t=e?this._getManualUserPromise(e):T.a.Deferred().reject().promise();t.done(t=>{Object(O.a)("[User] userPromise succeeded");var a=this.get("homeDetails");a.fetch({headers:{"X-Plex-Token":e}}).always(()=>{var e=this.parse(t),i=this.get("lockState");if(i!==Uo.UNLOCKED){var r=Object(ie.c)("settingFinder").find("autoLogin"),n=!!e.guest&&!a.get("guestEnabled");i=!!e.home&&(!r||n)?Uo.LOCKED:Uo.UNLOCKED}this.signIn(e,{lockState:i}),this._isSigningIn=!1})}),t.fail(e=>{if(Object(O.a)("[User] userPromise failed"),e&&e.aborting)return this.set({hasAttemptedSignIn:!0}),void(this._isSigningIn=!1);!e||401!==e.status&&422!==e.status?this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!1,features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}):this.get("anonymous")?(Object(O.a)("[User] userPromise failed for anonymous user due to invalid token."),this.signOutAnonymousUser()):(Object(O.a)("[User] userPromise failed due to invalid token."),this.signOutDueToInvalidToken()),this.server.testAllConnections(),this._isSigningIn=!1})}),e.fail(()=>{Object(O.a)("[User] tokenPromise failed"),this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:this.get("hasInvalidAnonymousUserToken"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")}),this._isSigningIn=!1})}},signIn(e,t={},a={}){var i=D.a.isString(e)?this.parse(e):e,r=i.authToken,n=Object.assign({hasAttemptedSignIn:!0,isSignedIn:!0},i,t);return this._resolve(n,a),De.set("myPlexAccessToken",r)},signOut(e={}){return this._reject(e),T.a.Deferred().resolve().promise()},signOutAnonymousUser(){return Ce(this.signOut({hasAttemptedSignIn:!0,hasInvalidAnonymousUserToken:!0}),this.clearAccessToken())},signOutDueToInvalidToken(){return Ce(this.signOut({hasAttemptedSignIn:!0,hasInvalidToken:!0}),this.clearAccessToken())},activateStoredUser(e){Gs.set("activeUserID",e)},clearAccessToken(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;var e=De.remove("myPlexAccessToken");return e=e.then(()=>Gs.clearActiveUser())},hashPIN(e,t=this.get("authToken")){return Ks.a.SHA256_hash(e+t)},hasEntitlement(e){var t=this.get("hasAllEntitlements"),a=this.get("entitlements");return!(!t&&!a.get(e))},hasHome(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser(){return this.get("isFullUser")},isEmployee(){return this.get("isEmployee")},isNinja(){return this.get("isNinja")},_resolve(e,t={}){this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject(e,t={}){this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange(e,t){var a=e.previous("homeUsers");a&&this.stopListening(a),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}},{lockStates:Uo,mailingListStates:Vo});$e(Bo,(function(){return{relationClass:Object(ie.c)("UserFlexModel")}}));var Fo=Bo;var Ho=function(e={}){var t=Object(ie.c)("appModel").get("user"),a=t.get("signedIn"),i=t.id!==e.homeUser.id,r=e.allowGuestLock,n=!!e.isRemoteUser,s=i||r,o=!1!==e.shouldUnlock,l=a?Ge.execute("authenticateWithServer",e):Ge.execute("authenticateWithHash",e);return a&&s?l=l.then(t=>function(e,t){var a=Object(ie.c)("appModel").get("user"),i=Ge.execute("resetUser");return(i=i.then(()=>{a.activateStoredUser(t.homeUser.id);var i=Gs.getActiveUser();i&&i.copyToModel(a),H.a.trigger("init:servers");var r={};return!1!==t.shouldUnlock&&(r.lockState=Fo.lockStates.UNLOCKED),a.signIn(e,r)})).done(()=>{Object(ie.c)("metrics").trackEvent({event:"client:switchuser",interaction:!0})}),i}(t,e)):l.done(()=>{var e={isRemote:n};o&&(e.lockState=Fo.lockStates.UNLOCKED),t.set(e)}),l};var _o=function(e){var t=e.homeUser,a=ie.c("appModel").get("user"),i=t.get("uuid")||a.get("uuid"),r=Zs(a,{pin:e.pin}),n=_.join(["/api/v2/home/users/",i,"/switch"],r),s=t.server.getXHROptions(n,{type:"POST",xhrFields:{withCredentials:be.a.allowSSO}});return to(s)};var Qo=function(e){var t=T.a.Deferred().resolve().promise(),a=T.a.Deferred().reject().promise(),i=Gs.getActiveUser();if(!i)return a;var r=i.get("pin"),n=i.get("authToken");return r||e.pin?r===Object(ie.c)("appModel").get("user").hashPIN(e.pin,n)?t:a:t},Wo=a("5xhV"),Go=a.n(Wo),Yo=ni.extend({name:"plexPassModal",template:Go.a,serializeData:function(){return{plexPassUrl:ie.c("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:D.a.escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}}),Ko=a("B8+q"),qo=a.n(Ko),Zo=Si.extend({name:"selectDeviceModal",template:qo.a,serializeData:function(){return{devices:this.collection.toJSON()}}}),Xo={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,a=this.states[e];if(!a)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var i=this.states[t];if(D.a.isFunction(i.onExit)){var r=i.onExit.call(this);if(!1===r)return}}if(this.currentState=e,D.a.isFunction(a.onEnter)){var n=a.onEnter.apply(this,D.a.rest(arguments));if(!1===n)return void(this.currentState=t)}this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState){e=this.states[this.currentState].nextState}else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}},Jo=a("UVxU"),$o=a.n(Jo),el=B.ItemView.extend({className:"modal-body",template:$o.a,events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}}),tl=a("Gken"),al=xe.a.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:Ae.a.integer,save:!0},videoResolution:{type:Ae.a.string,save:!0},maxVideoBitrate:{type:Ae.a.integer,save:!0},audioBoost:{type:Ae.a.integer,save:!0},subtitleSize:{type:Ae.a.integer,save:!0},musicBitrate:{type:Ae.a.integer,save:!0},photoQuality:{type:Ae.a.integer,save:!0},photoResolution:{type:Ae.a.string,save:!0}}}),il=xe.a.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:D.a.extend({},ut.a.prototype.syncedAttrs,{processingState:Ae.a.string,processingStateContext:Ae.a.string})}),rl=ke.a.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:il}),nl=xe.a.extend({mixins:[nt.a],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url(){var e=_.join([D.a.result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer,identifier:Ae.a.string,mediaTagPrefix:Ae.a.string,mediaTagVersion:Ae.a.string,viewGroup:Ae.a.string,title:Ae.a.string},syncedRelations:{metadataItems:{relationClass:rl,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),sl=xe.a.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:Ae.a.string,save:!0},value:{type:Ae.a.integer,save:!0},unwatched:{type:Ae.a.boolean,save:!0}},defaults:{unwatched:!1}}),ol=xe.a.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:Ae.a.string,failureCode:Ae.a.string,failure:Ae.a.string,itemsCount:Ae.a.integer,itemsCompleteCount:Ae.a.integer,itemsSuccessfulCount:Ae.a.integer,itemsFailedCount:Ae.a.integer,itemsDisabledCount:Ae.a.integer,totalSize:Ae.a.integer}}),ll=xe.a.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new tt.a,cacheKey(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot(){return"/playlists/"+(this.playlistID||this.parent.id)+"/items"},syncedAttrs:{id:Ae.a.integer,clientIdentifier:Ae.a.string,contentType:Ae.a.string,composite:Ae.a.string,type:{type:Ae.a.integer,save:!0},title:{type:Ae.a.string,save:!0},target:{type:Ae.a.string,save:!0},targetTagID:{type:Ae.a.integer,save:!0},locationID:{type:Ae.a.integer,save:!0},Location:{type:Ae.a.object,save:!0},Device:{type:Ae.a.object,save:!0}},sessionRelations:{children:{relationClass:nl,options(){return{generator:this}}}},syncedRelations:{status:{relationClass:ol,rootPropertyName:"Status"},policy:{relationClass:sl,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:al,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory(){var e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:()=>({type:42,locationID:-1,Location:{},Device:{}}),defaultCounts:{[tl.e]:5,[tl.a]:50,[tl.c]:50},warningCounts:{[tl.e]:10,[tl.a]:100,[tl.c]:100},getSaveParams(e,t){var a=xe.a.prototype.getSaveParams.apply(this,arguments);return a.targetTagID&&(delete a.MediaSettings,delete a.Device),{Item:a}},setPolicyDefaultsFor(e){var t=this.get("policy"),a=this.get("isDirectory");return t.has("scope")||t.set("scope",a?"count":"all"),!t.has("value")&&a&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning(e,t){var a=this.get("policy").get("scope");return"count"===a?t>this.warningCounts[e]:"all"===a&&this.get("isDirectory")}}),cl=ll.extend({name:"SyncItemModel",context:["server","device"],urlRoot(){return"/devices/"+(this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier"))+"/sync_items"},syncedAttrs:D.a.extend({},ll.prototype.syncedAttrs,{version:{type:Ae.a.integer,save:!0},metadataType:{type:Ae.a.string,save:!0},rootTitle:{type:Ae.a.string,save:!0},machineIdentifier:{type:Ae.a.string,save:!0},Server:Ae.a.object}),defaults:()=>({Location:{},Device:{},Server:{}}),augmentResponse:e=>("photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e),sync(e,t,a){var i=ot.addVersionHeaderForDevice(this.device,a);return ll.prototype.sync.call(this,e,t,i)},getSaveParams(e,t){var a=ll.prototype.getSaveParams.apply(this,arguments).Item;return D.a.each(a,(function(e,t){""===e&&delete a[t]})),{SyncItem:a}}}),dl=a("hGck"),ul=a.n(dl),pl=B.ItemView.extend({className:"convert-policy-container",template:ul.a,ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=Object(Wt.u)(this.model.get("metadataType")||"movie"),this.leafMediaType=Object(Wt.t)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===tl.e,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(D.a.isNaN(t)?"":t),D.a.isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var a=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!a)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),a=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",a),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}}),hl=a("nIWF"),ml=D.a.extend({},hl.a,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}}),vl=D.a.extend({},hl.a,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[Object(Ze.default)("Low"),Object(Ze.default)("Medium"),Object(Ze.default)("High"),Object(Ze.default)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}}),gl=a("Vqpp"),yl=a("pWsU"),fl=a.n(yl),bl=B.ItemView.extend({className:"sync-quality-container form-group",template:fl.a,events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=Object(ie.c)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=gl.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var e=Object(ie.c)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),a=t?gl.a.getNearestIndexToBitrate(t):e.get(gl.a.getSyncQualityAttribute());this.updateVideoQuality(gl.a.getQualityByIndex(a))},initMusicQuality:function(){this.availableMusicQualities=ml.getAvailableQualities().reverse();var e=Object(ie.c)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),a=t?ml.getNearestIndexToBitrate(t):e.get(ml.getSyncQualityAttribute());this.updateMusicQuality(ml.getQualityByIndex(a))},initPhotoQuality:function(){this.availablePhotoQualities=vl.getAvailableQualities().reverse();var e=Object(ie.c)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),a=t?vl.getNearestIndexToQuality(t):e.get(vl.getSyncQualityAttribute());this.updatePhotoQuality(vl.getQualityByIndex(a))},serializeData:function(){return{typeElement:Object(Wt.u)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var a=parseInt(t,10);return Object(ie.c)("appModel").get("settings").save(e.getSyncQualityAttribute(),a),e.getQualityByIndex(a)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(gl.a,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(ml,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(vl,e.currentTarget.value);this.updatePhotoQuality(t)}}),Il=a("qlzh"),Sl=a.n(Il),Ml={video:"movie",audio:"track",photo:"photo"},Cl=B.Layout.extend({template:Sl.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=ie.c("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var a,i,r=e.item,n=e.items;r.get("isPlaylist")?(a=r,i=Ml[r.get("playlistType")]):r.get("isMetadataList")?(a=r,i=Object(Wt.t)(r.get("firstItemType")).typeString):(a=r.has("childrenKey")?new Qi.default({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider}):r,i=Object(Wt.t)(r.get("type")).typeString),i===Wt.e&&(i=r.get("subtype")),this.tempModel=new cl({metadataType:i,title:lt.a.title(r,{items:n}),rootTitle:this.getRootTitle(r),machineIdentifier:r.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:lt.a.uri(a,{items:n})}},{parent:r.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new pl({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new bl({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var a=this.tempModel.save();a.done(D.a.bind((function(){if(this.model){var e=this.model.get("version")||0,t=D.a.omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}}),this)),(a=a.then(D.a.bind((function(){return Ge.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})}),this))).done(this.whenRendered((function(){this.trigger("request:nextState")}))),a.fail(this.whenRendered((function(){this.trigger("request:state","error")})))}}}),Dl=a("sscm"),Pl=a.n(Dl),Ol=B.ItemView.extend({className:"modal-body",template:Pl.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),rr("syncedContent",{serverID:this.options.server.id,deviceID:this.options.device.id})}}),jl=a("roTl"),Tl=a.n(jl),wl=ni.extend({mixins:[Xo],name:"syncModal",className:"convert-modal modal fade",template:Tl.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new Cl({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new Ol({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new el),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});var El=function(e){var t=ie.c("appModel").get("user"),a=e.item.server;if("ok"===a.get("myPlexSigninState"))if(a.get("allowSync")){var i=t.get("desktop").get("devices").filterSyncDevices(e.item),r=D.a.clone(e);if(i.length){var n=new Zo({collection:i});n.promise.done((function(e){r.device=i.get(e),H.a.trigger("show:modal",new wl(r))})),H.a.trigger("show:modal",n)}else H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("You are not signed in to any sync capable devices.")})}else H.a.trigger("show:modal",new Yo({model:a}));else{var s=Object(Ze.default)("This server needs to be connected to Plex to sync its content.");H.a.trigger("show:alert",{type:"error",message:s})}};var Nl=function(e){var t=e.syncItem,a=e.server;if(!t.server.get("connected"))return H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Please sign in to remove sync items.")}),T.a.Deferred().reject().promise();var i=function(){var e=new mi({title:Object(Ze.default)("Stop Syncing"),message:Object(Ze.default)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0});return H.a.trigger("show:modal",e),e}(),r=i.promise.then((function(){var e=t.destroy();return e.fail((function(e){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing this sync item.")})})),e.always((function(){i.hide()})),e}));return r=r.then((function(){return Ge.execute("refreshSyncLists",{server:a,silent:!0,skipContent:!0})}))};var xl=function(e){var t=e.server,a=D.a.extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),i=T.a.ajax(a);return e.skipContent||(i=i.then((function(e){var a=D.a.extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return T.a.ajax(a)}))),i.done((function(){e.silent||H.a.trigger("show:alert",{type:"success",message:Object(Ze.default)("Synced items were refreshed.")})})),i.promise()};var Al=function(e){var t=e.device,a=Object(Ze.default)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),i=new mi({title:Object(Ze.default)("Remove Device"),message:a,confirmLabel:Object(Ze.default)("Remove"),cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0}),r=i.promise;return r=r.then((function(){return(e=t.destroy({wait:!0})).fail((function(){H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem removing this device.")})})),e.always((function(){i.hide()})),e.promise();var e})),H.a.trigger("show:modal",i),r};var Ll=function(e){return ae(to({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))};var kl=function(){Object(ie.c)("metrics").trackEvent({event:"client:signout",interaction:!0});var e=be.a.allowSSO,t=Object(ie.c)("appModel").get("user").get("authToken");return ae(e?Ll({accessToken:t}):T.a.Deferred().resolve().promise()).then(()=>Ge.execute("resetUser")).then(()=>(Gs.restoreDefaults(),Gs.save())).then(()=>{e&&Ll({accessToken:t}),H.a.trigger("init:servers")})};var Rl=function(){var e=T.a.Deferred();return Object(ie.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function zl(){return Ge.registerAll(i),T.a.Deferred().resolve().promise()}var Ul={subscribe(){H.a.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe(){H.a.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand(e){var t=e.Command,a={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};Object(ie.c)("localCompanionCommandHandler")(a)}},Vl=null,Bl=null;function Fl(){var e=_l();return!(e&&!e.isLeader())&&Object(ie.c)("settingFinder").find("companion")}function Hl(){if(Fl()){var e=Object(ie.c)("appModel"),t=e.get("cloudServer"),a=e.get("clientID");if(t&&t.get("authorized")&&a&&a!==Vl)Vl=a,O.a.info('[Companion] Registering player with plex.tv, clientID="%s"',a),Object(ie.c)("companionProxy").registerPlayer(t,a).done(()=>{O.a.info('[Companion] Registered player with plex.tv, clientID="%s"',a)}).fail(e=>{e||(e={}),Vl=null,O.a.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})}}function _l(){return Object(ie.a)("companionVote")?Object(ie.c)("companionVote"):null}function Ql(){var e=Object(ie.c)("companionProxy"),t=Fl();return Bl===t?T.a.Deferred().resolve().promise():(Bl=t,t?(Ul.subscribe(),T.a.when(e.subscribe(Object(ie.c)("localCompanionCommandHandler")))):(Ul.unsubscribe(),T.a.when(e.unsubscribe(),function(){var e=Object(ie.c)("appModel"),t=e.get("cloudServer"),a=e.get("clientID");if(t.get("authorized")&&a)return O.a.info('[Companion] Unregistering player with plex.tv, clientID="%s"',a),Object(ie.c)("companionProxy").unregisterPlayer(t,a).done(()=>O.a.info('[Companion] Unregistered player with plex.tv, clientID="%s"',a)).fail((e={})=>O.a.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100)))}())))}function Wl(){var e=Object(ie.c)("appModel"),t=e.get("cloudServer");Hl(),e.on("change:clientID",Hl),t.on("change:authorized",Hl),Object(ie.c)("settingFinder").addCompanionChangeListener(Ql);var a=_l();return a&&a.on("leaderStatusChanged",e=>{O.a.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),Ql()}),Fl()?Ql().then(()=>{var e=Object(ie.c)("companionProxy").getDeepLink();return e.fail(()=>{O.a.warn("[Companion] Ignoring error getting deep link")}),ae(e)}):T.a.Deferred().resolve().promise()}function Gl(){var e=Object(ie.c)("appModel");return Ce(e.get("settings").populate(),e.get("deviceSettings").populate())}var Yl=Ee.a.extend({getStorage(){},get(e){return this._catchStorageError(t=>{var a=window.PLEXWEB,i=a&&e in a?a[e]:t.getItem(e);if(null==i)throw new Error(e+" is not in "+this.name);return i})},set(e,t){return this._catchStorageError(a=>{if(!e)throw new Error("Unable to set value in "+this.name+" without a key");if(null==t)throw new Error("Unable to set null or undefined value for "+e+" in "+this.name+". Use the remove function.");return a.setItem(e,t)})},remove(e){return this._catchStorageError(t=>t.removeItem(e))},clear(){return this._catchStorageError(e=>e.clear())},_catchStorageError(e){var t=T.a.Deferred();try{t.resolve(e(this.getStorage()))}catch(e){O.a.warn(e.message),t.reject(e)}return t.promise()}}),Kl=Yl.extend({name:"BasicVolatileStorage",initialize(){var e={};this.api={getItem:t=>e[t],setItem(t,a){e[t]=a},removeItem(t){delete e[t]},clear(){for(var t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage(){return this.api}}),ql=new J.a({interface:["get","set","remove","clear"]});function Zl(e,t){return De.get(e).then(e=>Object(Us.a)(e,t),()=>{if(t)return T.a.Deferred().resolve(t).promise()})}function Xl(e,t){return De.set(e,JSON.stringify(t))}var Jl=function(e){return e.isDirty=!0,Zl(Gs.storageKey).then(t=>{if(t.users)return t.users.forEach(t=>{t.experienceSettings=Object.assign({},t.experienceSettings,e)}),Xl(Gs.storageKey,t)})},$l=["homeSettings"];var ec=function(){var e=Object(ie.c)("StoredUserExperienceSettingsModel"),t=Object.keys(Object.assign({},e.prototype.syncedAttrs,e.prototype.syncedRelations)),a=D.a.without(t,...$l),i=Zl("experience").then(e=>{var t=D.a.pick(e,a);return Jl(t).then(()=>De.remove("experience"))});return ae(i)},tc=a("UOp4"),ac=a("QVd+"),ic={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};ic.settings=[{value:ic.PRODUCTION,title:"Production"},{value:ic.QA,title:"QA"},{value:ic.NINJA,title:"Ninja"},{value:ic.CUSTOM,title:"Custom"}];var rc=ic,nc=ms.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:Ae.a.boolean,saveError:Ae.a.object},syncedAttrs:{v4DirectoryEnabled:Ae.a.boolean,v4DVRSetupEnabled:Ae.a.boolean,autoLogin:Ae.a.boolean,chromecastAppID:Ae.a.string,chromecastCustomAppID:Ae.a.string,sonosCustomBaseURL:Ae.a.string,debugAdKind:Ae.a.integer,debugLevel:Ae.a.integer,debugVideoQualityOverlay:Ae.a.boolean,directPlay:Ae.a.boolean,directStream:Ae.a.boolean,rejectDirectConnections:Ae.a.boolean,restorePlayQueue:Ae.a.object,shouldSyncSettings:Ae.a.boolean,hasDismissedInsecureHostedAppWarning:Ae.a.boolean,hasDismissedServerDownloadMessage:Ae.a.boolean,dismissedUnclaimedServers:Ae.a.object,dismissedServerUpdateVersions:Ae.a.object,volume:Ae.a.integer,serverUpdateDismissedVersion:Ae.a.string},defaults:()=>({isSaving:!1,saveError:null,v4DirectoryEnabled:!1,v4DVRSetupEnabled:!1,autoLogin:!1,chromecastAppID:rc.PRODUCTION,debugAdKind:tc.a.NONE,debugLevel:ac.a.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:be.a.allowSyncSettings,hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},dismissedServerUpdateVersions:{},volume:90})}),sc=["debugVideoQualityOverlay","restorePlayQueue","volume"];var oc=function(){var e=nc.prototype.storageKey,t=Zl("experience").then(t=>{var a=D.a.pick(t,sc);if(0!==Object.keys(a).length)return Zl(e,{}).then(t=>{var i=Object.assign({},t,a);return Xl(e,i)})});return ae(t)},lc={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"",an:"Aragons",hy:"",as:"Assamese",av:" ",ae:"avesta",ay:"aymar aru",az:"azrbaycan dili",ba:" ",bm:"bamanankan",eu:"euskara",be:"",bn:"Bengali",bh:"",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:" ",my:"Burmese",ca:"Catal",ch:"Chamoru",ce:" ",cu:" ",cv:" ",kw:"Kernewek",co:"corsu",cr:"",dv:"Divehi",dz:"",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eegbe",fo:"froyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"",gd:"Gidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avae&apos;",gu:"",ht:"Kreyl ayisyen",ha:"",hz:"Otjiherero",hi:"",ho:"Hiri Motu",hr:"hrvatski",ig:"Ass Igbo",is:"slenska",io:"Ido",ii:" Nuosuhxop",iu:"",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"",ks:"",kr:"Kanuri",kk:" ",km:"Khmer",ki:"Gky",rw:"Ikinyarwanda",ky:" ",kv:" ",kg:"KiKongo",kj:"Kuanyama",ku:"Kurd",lo:"Lao",la:"latine",lv:"latvieu valoda",li:"Limburgs",ln:"Lingla",lt:"lietuvi kalba",lb:"Ltzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:" ",mh:"Kajin Maje",ml:"Malayalam",mi:"te reo Mori",mr:"",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"",na:"Ekakair Naoero",nv:"Din bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"",nn:"Norsk nynorsk",nb:"Norsk bokml",ny:"chiChea",oc:"Occitan",oj:"",or:"Oriya",om:"Afaan Oromoo",os:" ",pa:"",pi:"",ps:"",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romn",rn:"kiRundi",sg:"yng t sng",sa:"",sr:" ",si:"Sinhala",sk:"slovenina",sl:"Slovenina",se:"Davvismegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"",tt:"",te:"Telugu",tg:"",tl:"Wikang Tagalog",th:"",bo:"",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Trkmen",tw:"Twi",ug:"Uyurq",uk:"",ur:"",uz:"O&apos;zbek",ve:"Tshivena",vi:"Ting Vit",vo:"Volapk",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"",yo:"Yorb",za:"Sa cue",zu:"isiZulu",pb:"Portugus (Brasil)",fr:"Franais","fr-CA":"Franais Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Espaol","es-419":"Espaol (Latinoamrica)",pl:"Polski",hu:"Magyar",el:"",tr:"Trke",zh:"","zh-TW":"",ru:" ",he:"",ja:"",pt:"Portugus","pt-BR":"Portugus Brasileiro",ko:"",cs:"etina",fa:"",xx:"Unknown",xn:"None"};function cc(e,t){return lc[e].localeCompare(lc[t])}var dc,uc=["xx","xn"],pc=((dc=Object.keys(lc).filter(e=>-1===uc.indexOf(e))).sort(cc),dc.concat(uc)),hc=lc,mc=/(^[^-]+)-/;function vc(e){for(var t=0,a=(e=e||[]).length;t<a;t++){var i=e[t];if("xx"!==i&&"xn"!==i){if(hc[i])return i;var r=i.match(mc),n=r&&vc([r[1]]);if(n)return n}}}function gc(e){var t,a=window.navigator;return e?t=[e]:a.languages?t=a.languages:a.language?t=[a.language]:a.userLanguage&&(t=[a.userLanguage]),vc(t)||"en"}var yc={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};yc.settings=[{value:yc.NEVER,title:"Never"},{value:yc.SAME_NETWORK,title:"On same network as server"},{value:yc.ALWAYS,title:"Always"}];var fc=yc,bc={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000",GREY:"#808080"};bc.settings=[{value:bc.WHITE,title:"White"},{value:bc.YELLOW,title:"Yellow"},{value:bc.BLACK,title:"Black"},{value:bc.CYAN,title:"Cyan"},{value:bc.BLUE,title:"Blue"},{value:bc.GREEN,title:"Green"},{value:bc.MAGENTA,title:"Magenta"},{value:bc.RED,title:"Red"},{value:bc.GREY,title:"Grey"}],bc.ALL=[bc.WHITE,bc.YELLOW,bc.BLACK,bc.CYAN,bc.BLUE,bc.GREEN,bc.MAGENTA,bc.RED,bc.GREY];var Ic=bc,Sc={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};Sc.settings=[{value:Sc.TOP,title:"Top"},{value:Sc.MIDDLE,title:"Middle"},{value:Sc.BOTTOM,title:"Bottom"}],Sc.ALL=[Sc.TOP,Sc.MIDDLE,Sc.BOTTOM];var Mc=Sc,Cc={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};Cc.settings=[{value:Cc.AUTO,title:"Automatic"},{value:Cc.AVOID,title:"Only image formats"},{value:Cc.ALWAYS,title:"Always"}];var Dc=Cc,Pc=a("17x9"),Oc=a.n(Pc),jc="library",Tc="prePlay",wc="player",Ec="shared",Nc=(Oc.a.oneOf(["discover",jc,"directoryList","metadataList","timeline","continueWatching",Tc,"postPlayPrevious","postPlayNext","playlist","search","quickSearch",wc,"playQueue","lineTVTimeline","newscast","recommended","nowPlaying","downloads",Ec,"watchTogether","watchTogetherLobby"]),"poster"),xc="mosaic",Ac="table",Lc="simpleSummary",kc="summary",Rc="epgEpisode",zc="sharedItems";function Uc(e,t){return Vc(t)||Bc(e)}function Vc(e){return e===Nc||e===xc}function Bc(e){return e.length>1}var Fc=Oc.a.oneOf([Nc,xc,Ac,Lc,kc,Rc,zc]),Hc=["calendar","agenda"],_c=xe.a.extend({name:"ReminderModel",syncedAttrs:{data:Ae.a.object,id:Ae.a.string.isRequired,remindAfter:Ae.a.string.isRequired,times:Ae.a.integer.isRequired}}),Qc=ke.a.extend({name:"ReminderCollection",model:_c}),Wc=hl.a.ORIGINAL,Gc=ms.extend({name:"UserExperienceSettingsModel",sessionAttrs:Object.assign({},zo.sessionAttrs,{isRemoteSchemaVersionNewer:Ae.a.boolean}),syncedAttrs:Object.assign({},zo.syncedAttrs,{schemaVersion:Ae.a.integer,language:Ae.a.string,playThemeMusic:Ae.a.boolean,companion:Ae.a.boolean,allowHttpFallback:Ae.a.string,timeFormat:Ae.a.string,autoAdjustQuality:Ae.a.boolean,remoteSmallVideoAtOriginalQuality:Ae.a.boolean,useHomeStreamingRecommendedSettings:Ae.a.boolean,localQuality:Ae.a.integer,remoteQuality:Ae.a.integer,audioBoost:Ae.a.integer,subtitleColor:Ae.a.string,subtitlePosition:Ae.a.string,subtitleSize:Ae.a.integer,subtitlesBurnLevel:Ae.a.string,extrasPrefixCount:Ae.a.integer,audioForceMultiChannel:Ae.a.boolean,forceTranscodeProtocolHLS:Ae.a.boolean,autoPlay:Ae.a.boolean,calendarViewType:Ae.a.string,columnAdjustment:Ae.a.integer,columnWidthMultiplier:Ae.a.float,dashboardNowPlayingShowDetails:Ae.a.boolean,hasDismissedDVRUpsell:Ae.a.boolean,hasDismissedServerDashboardUpsell:Ae.a.boolean,isSidebarCollapsed:Ae.a.boolean,libraryTableColumns:Ae.a.object,listStyles:Ae.a.object,prePlayListStyles:Ae.a.object,directoryListStyles:Ae.a.object,directoryTableColumns:Ae.a.object,savedDirectoryListKeys:Ae.a.object,relayReminders:Ae.a.object,showAdvancedSettings:Ae.a.boolean,showPrePlayArtwork:Ae.a.boolean,musicDownloadQuality:Ae.a.integer,videoDownloadQuality:Ae.a.integer,searchAllServers:Ae.a.boolean,libraryRoutes:Ae.a.object}),syncedRelations:Object.assign({},zo.syncedRelations,{reminders:{relationClass:Qc}}),defaults:()=>Object.assign({},zo.defaults,{isRemoteSchemaVersionNewer:!1,language:gc(),playThemeMusic:!1,companion:!0,allowHttpFallback:fc.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:Wc,remoteQuality:6,audioBoost:100,subtitleColor:Ic.WHITE,subtitlePosition:Mc.BOTTOM,subtitleSize:100,subtitlesBurnLevel:Dc.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,forceTranscodeProtocolHLS:!1,autoPlay:!0,calendarViewType:"calendar",columnAdjustment:0,columnWidthMultiplier:1.5,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,isSidebarCollapsed:!1,libraryTableColumns:{},listStyles:{[jc]:{episode:Ac,track:Ac},[Tc]:{track:Ac}},prePlayListStyles:{},directoryListStyles:{},directoryTableColumns:{},savedDirectoryListKeys:{},relayReminders:{},showAdvancedSettings:!1,showPrePlayArtwork:!1,musicDownloadQuality:hl.a.ORIGINAL,videoDownloadQuality:hl.a.ORIGINAL,searchAllServers:!1,libraryRoutes:{}}),initialize(){this.set({schemaVersion:Gc.schemaVersion})},augmentResponse(e){if(e.schemaVersion>Gc.schemaVersion)return O.a.warn("[Settings] Received settings with schemaVersion of "+e.schemaVersion+"; expected "+Gc.schemaVersion+" or less.  Settings sharing is now disabled."),Object.assign({},this.toJSON(),{isRemoteSchemaVersionNewer:!0});e=id(e);var t=this.get("isDirty"),a=this.get("updatedAt"),i=Object(zs.a)(e.updatedAt),r=a&&i&&a<i;return t&&a===i||a&&i&&a>i?this.toJSON():(t&&r&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:4}),Yc=Gc;var Kc=a("XyZL");function qc(e){if(e)return e.split("--")}function Zc(e){Object.keys(e).forEach(t=>{var a=function(e){var t=qc(e);if(t.length<3)return e;var[a,i,r,n]=t,s=ga(r);return Object(Kc.a)(a,i,s,n)}(t);if(a!==t){var i=e[t];e[a]=i,delete e[t]}})}var Xc=a("RgJi");function Jc(e,t){return e+"::"+t}function $c(e){e.isHidden&&!e.hiddenAt&&(e.hiddenAt=Date.now())}var ed={1:ad,2:function(e){var{lastSourcePivots:t,savedPivotParams:a,sidebarSettings:{pinnedSources:i}={}}=e;return t&&Zc(t),a&&Zc(a),i&&i.forEach(e=>{var t=qc(e.key);if(t){var a=t.pop(),i=ga(a);if(i!==a){var r=Object(Kc.a)(...t,i);e.directoryID||(e.directoryID=i),e.key=r}}}),e},3:ad,4:function(e){if(!e.relayReminders)return e;e.reminders=e.reminders||[];var t=function(t){var a=Jc("relay",t);if(e.reminders.some(e=>e.id===a))return"continue";var i=e.relayReminders[t],r={id:a,remindAfter:Object(Xc.a)(i.remindAfter).toISOString(),times:Math.max(0,i.times-1)};e.reminders.push(new _c(r).toJSON())};for(var a in e.relayReminders)t(a);return delete e.relayReminders,e}},td=[function(e){if(null!=e.autoHomeHubsEnabled)return e;var t=e.homeSettings;return t&&t.hasCustomizations?e.autoHomeHubsEnabled=!1:e.autoHomeHubsEnabled=!0,e},function(e){var t=e.sidebarSettings;t&&t.pinnedSources&&t.pinnedSources.forEach($c);var a=e.homeSettings;return a&&a.hubs&&a.hubs.forEach($c),e},function(e){var{audioBoost:t}=e;if(null!=t){var a=100===t?100:700,i=Yc.prototype.defaults().audioBoost;a!==t&&a!==i&&(e.audioBoost=a)}return e}];function ad(e){return e}function id(e={}){for(var t=e.schemaVersion||0;t<Yc.schemaVersion;){++t;var a=ed[t];e.schemaVersion=t,a(e)}return td.forEach((t,a)=>{try{t(e)}catch(e){O.a.error("[User] Setting migration[%d] error",a,e)}}),e}function rd(){var e=Zl(Gs.storageKey).then(e=>{if(e.users&&e.users.some(e=>e.experienceSettings&&e.experienceSettings.schemaVersion!==Yc.schemaVersion))return e.users.forEach(e=>{e.experienceSettings=id(e.experienceSettings)}),Xl(Gs.storageKey,e)});return ae(e)}var nd=ms.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:Ae.a.string,"syncQuality!video":Ae.a.integer,"syncQuality!music":Ae.a.integer,"syncQuality!photo":Ae.a.integer,viewedUnclaimedServers:Ae.a.list,dismissedUnclaimedServers:Ae.a.list},defaults:()=>({preferInsecureConnections:be.a.shouldPreferInsecureLocalConnections?"samenetwork":"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,viewedUnclaimedServers:[],dismissedUnclaimedServers:[]})}),sd=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections","serverUpdateDismissedVersion"];var od=function(){var e=nd.prototype.storageKey,t=nc.prototype.storageKey,a=Zl(e).then(a=>{var i=D.a.pick(a,sd);if(0!==Object.keys(i).length)return Zl(t,{}).then(e=>{var a=Object.assign({},e,i);return Xl(t,a)}).then(()=>Xl(e,D.a.omit(a,sd)))});return ae(a)},ld=["allowHttpFallback","audioBoost","companion","language"];var cd=function(){var e=Zl(nd.prototype.storageKey).then(e=>{var t=D.a.pick(e,ld);if(0!==Object.keys(t).length)return Jl(t).then(()=>Xl(nd.prototype.storageKey,D.a.omit(e,ld)))});return ae(e)};function dd(){var e=T.a.Deferred(),t=De.set("plexTestToken",1);return t.done(()=>{De.remove("plexTestToken"),e.resolve()}),t.fail(t=>{var a=new Kl;O.a.warn("Storage module swapped for "+a.name+' due to exception: "'+t+'"'),ql.register(a),De.register(a,{ignorePrevious:!0}),e.resolve()}),e.promise()}function ud(){return(e=T.a.Deferred(),t=ql.get("myPlexAccessToken"),t.done(()=>{window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||De.register(ql.getInstance())}),t.always(()=>{e.resolve()}),e.promise()).then(dd).then(od).then(oc).then(ec).then(cd).then(rd);var e,t}var pd=a("lAqu"),hd={[pd.FAIRPLAY]:Ft.FAIRPLAY,[pd.PLAYREADY]:Ft.PLAYREADY,[pd.WIDEVINE]:Ft.WIDEVINE};var md=function(){return!!(window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys)};var vd=function(){return!!window.navigator.requestMediaKeySystemAccess};function gd(e,t){return vd()?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}function yd(e,t,a){return md()?new Promise((i,r)=>{var{audioCapabilities:n=[],videoCapabilities:s=[]}=a[0],o=n.concat(s).map(e=>e.contentType);!(!o||!o.length)&&o.every(a=>e.isTypeSupported(t,a))?i({keySystem:t}):r(new Error("NotSupportedError"))}):Promise.reject(new Error("NotSupportedError"))}var fd=function(e,t=Object.values(pd)){var{audioCapabilities:a,videoCapabilities:i}=e,r=[{initDataTypes:["cenc"],audioCapabilities:a,videoCapabilities:i}],n=T.a.Deferred(),s=window.WebKitMediaKeys,o=s?yd.bind(null,s):gd,l=t.map(e=>o(e,r));return Promise.allSettled(l).then(e=>{var a=e.reduce((e,a,i)=>{var{status:r,reason:n,value:s}=a;return"fulfilled"===r?(Object(O.a)("[Player] %s is available",s.keySystem),e.push(s.keySystem)):Object(O.a)("[Player] %s is unavailable: %s",t[i],n.message),e},[]);a.length?n.resolve(a):n.reject()}),n.promise()};var bd=function(){return fd({videoCapabilities:[{contentType:'video/mp4; codecs="avc1.42E01E"'}]}).then(e=>{var t=function(e){var t;for(var a of e)if(t=hd[a])break;return t}(e);return Object(O.a)("[Player] Supported key systems:",e),Object(O.a)("[Player] Selected DRM type:",t),t})};function Id(){var e=Object(ie.c)("appModel"),t=be.a.drmType;return(t!==Ft.NONE?T.a.Deferred().resolve(t).promise():ae(bd())).then(t=>{e.set("drmType",t),Fr.setOption("drmType",t)},()=>{e.unset("drmType"),Fr.setOption("drmType",Ft.NONE)})}var Sd=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};var Md=function(e,t){var a=new RegExp("(\\?|&)("+Sd(t)+"=[^\\?&]+(?:[\\?&]?))","g");return e.replace(a,(e,t)=>t).replace(/(\?|&)$/,"")};var Cd=function(e){return e.get("ui").get("authCodeExchange")};var Dd=function(){var{hashParams:e}=me(window.location.href),t=br.a.parse(e.substr(1)),a=Object(zs.a)(t.pinID);if(a){var i=Object(ie.c)("appModel");Cd(i).set({pinIDInitial:a}),Object(wa.a)(),window.history.replaceState(null,null,Md(window.location.href,"pinID"))}return T.a.Deferred().resolve().promise()};function Pd(e,t){return e.save(Object.assign({},t,{isSaving:!0,saveError:null})).then(()=>{e.set({isSaving:!1})},t=>{var a=t&&t.message||"";e.set({isSaving:!1,saveError:{message:a}})})}function Od(e,t){return e.replace(/^\w+:\/\//,t+"//")}var jd=function(){var e=Od(window.location.href,"http:"),t=be.a.allowSSO?_.join(e,{secure:0},{parseParams:!0,recognizeHash:!0}):e;O.a.info("[redirectToHttp] Redirecting from "+window.location.href+" to "+t),window.location=t},Td=a("QVrK"),wd=a("q1tI"),Ed=a.n(wd),Nd=a("xhK+"),xd=a.n(Nd);function Ad(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Ad.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Ld=Ad,kd=a("4yHS"),Rd=a("PFxR"),zd=a("KAy6"),Ud=Ed.a.createElement;function Vd(e,t={}){return Object(zd.renderToStaticMarkup)(Ud(e,t))}function Bd(e,t){var a=t.constructor.prototype.validate;return a?a(e):[]}function Fd(e){var t=this.panes[e],a=Qd.call(this,t);return 0===Bd.call(this,a,t).length}function Hd(e,t){var a=this.panes[t].dependentPanes;return"function"==typeof a&&(a=a.call(this)),e.concat(a||[])}function _d(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),D.a.each(this.getReachablePanes(),(function(t){e.filter("."+t+"-btn").removeClass("disabled")}),this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function Qd(e){return this[e.model]||this[this.panesModel]||this.model}var Wd={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",_d),this.stopListening(t,"invalid",_d),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var a=this.panes[e],i=a.constructor,r=this.paneConstructorArg?this.paneConstructorArg():{},n=new i(D.a.extend(r,{model:Qd.call(this,a)}));if(n.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",(function(){D.a.each(this._paneOnModalCloseCallbacks,(function(e){e[1].call(e[0])}),this),this._paneOnModalCloseCallbacks=null}));var s=this._paneOnModalCloseCallbacks||[];s.push([n,n.onModalClose]),this._paneOnModalCloseCallbacks=D.a.uniq(s,(function(e){return e[1]}))}this.listenTo(n,"valid",_d),this.listenTo(n,"invalid",_d),_d.call(this),this.onPaneShow&&this.onPaneShow(e,n),this.$el.addClass("pane-"+e),this.paneRegion.show(n),_d.call(this)}},getReachablePanes:function(){for(var e,t,a=D.a.reduce(this.panes,(function(e,t){var a=t.dependentPanes;return"function"==typeof a&&(a=a.call(this)),D.a.union(e,a||[])}),[],this),i=D.a.filter(D.a.keys(this.panes),(function(e){return!D.a.contains(a,e)})),r=i;r.length;)e=D.a.filter(r,Fd,this),t=t||e.length!==r.length,r=D.a.reduce(e,Hd,[],this),i=i.concat(r);return i.isAnyInvalid=t,i},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}},Gd=xe.a.extend({name:"DownloadServerReleaseModel",context:["server"],modelId(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:Ae.a.string,build:Ae.a.string,distro:Ae.a.string,url:Ae.a.string}}),Yd=ke.a.extend({name:"DownloadServerReleaseCollection",context:["server"],model:Gd}),Kd=xe.a.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:Ae.a.string,name:Ae.a.string,version:Ae.a.string,date:Ae.a.integer,requirements:Ae.a.string,fixed:Ae.a.string,added:Ae.a.string,info:Ae.a.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:Yd}},derivedAttrs:{type(){return this.type}},augmentResponse(e){var{release_date:t,extra_info:a,items_fixed:i,items_added:r}=e,n=Je()(e,["release_date","extra_info","items_fixed","items_added"]);return Object.assign({},n,{info:a,fixed:i,added:r,date:t+"000"})}}),qd=ke.a.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:Kd}),Zd=xe.a.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:Ae.a.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:qd,options:e=>({type:e.name})}}}),Xd=ke.a.extend({name:"DownloadServerCollection",context:["server"],url(){var e=D.a.result(this.server,"url");return _.join([e,"api/downloads/1"])},model:Zd});function Jd(e=Td.a){return"chrome"===e.id}function $d(e=Td.a){return"edge"===e.id}var eu=a("l8FK"),tu=a("YVMD"),au=a.n(tu),iu=B.ItemView.extend({template:au.a,className:"download-server-pane",serializeData:function(){var e=this.model.toJSON();return Object.assign({},e,{target:!1,shouldUseDownload:!0,shouldUseDropup:e.releases.length>1})}}),ru=a("Wks2"),nu=a.n(ru),su={osx:"macos"},ou=ni.extend({mixins:[Wd],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:nu.a,ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:D.a.extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},ni.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){ni.prototype.initialize.apply(this,arguments);var t=ie.c("appModel");t.get("primaryServer")||this.listenTo(t,"change:primaryServer",(e,t)=>{t&&t.id&&this.hide()}),this.downloadType=e.downloadType;var a=new Xd([],{server:t.get("cloudServer")}),i=a.populate();i.done(()=>{this.collection=a.get(this.downloadType).get("platforms"),this.paneSetup(),this.render(),this.ui.loading.addClass("hidden")}),ie.c("metrics").trackView({page:Rd.F,firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:Vd(Ld,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter('[data-pane="'+e+'"]').addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce((e,t)=>(e[t.get("id")]={constructor:iu},e),{});var{platformID:e}=Td.a,t=su[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");ie.c("metrics").trackClick({page:Rd.F,firstRun:!0,action:kd.v,platform:this.downloadType,os:t}),this.hide()}});function lu(e,t,a,i={},r){if(e&&t&&a){var n=function(e,t){var a=encodeURIComponent(e.machineIdentifier),i=encodeURIComponent(t.identifier),r="/server/"+a;return t.isLibraryProvider?r:(e.isCloud?"":r)+"/provider/"+i}(e,t),s=encodeURIComponent(a),o={[tl.c]:"album",[tl.e]:"playlist",[tl.a]:"playlist"},l="#!"+n+"/"+(r?o[r]:"details")+"?key="+s;return _.join(l,i)}}var cu=Object(Pa.a)("app/restoreDefaultDeviceSettings"),du=(Object(Pa.a)("app/downloadServer"),Object(Pa.a)("app/discoverServers")),uu=Object(Pa.a)("app/dismissUnclaimedServer"),pu=Object(Pa.a)("app/redirectToRoute"),hu=Object(Pa.a)("app/redirectToHttp"),mu=Object(Pa.a)("app/redirectToUrl"),vu=Object(Pa.a)("app/preferInsecure"),gu=Object(Pa.a)("app/selectAudioDevice"),yu=(Object(Pa.a)("app/updateAudioDevices"),Object(Pa.a)("app/toggleFullscreen",e=>({isFullscreen:!0}))),fu=Object(Pa.a)("app/toggleFullscreen",e=>({isFullscreen:!1})),bu=Object.assign({},Wi.g,{[Wi.e](e,t){Pd(e.get("deviceSettings"),t)},"app/restoreDefaultDeviceSettings"(e){var t=e.get("deviceSettings");!function(e,{isUserRestricted:t}){var a={shouldSyncSettings:e.get("shouldSyncSettings")};t&&(a.autoLogin=e.get("autoLogin")),e.restoreDefaults(a)}(t,{isUserRestricted:e.get("user").get("restricted")}),Pd(t,{})},"app/downloadServer"(e,t){var a=new ou({downloadType:t});H.a.trigger("show:modal",a)},"app/discoverServers"(e){H.a.trigger("discover:servers")},"app/dismissUnclaimedServer"(e,t,a){var{machineIdentifier:i}=t,r=e.get("deviceSettings").get("dismissedUnclaimedServers");r[i]||a(Object(Wi.q)({dismissedUnclaimedServers:Object.assign({},r,{[i]:!0})}))},[Wi.f](e,t){var{machineIdentifier:a}=t;e.get("servers").findServer(a).then(t=>{e.set({primaryServer:t,isWaitingForPrimaryServer:!1})},()=>{O.a.warn("Unable to set primary server to:",a)})},[Wi.d](e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},[Wi.a](e,t){var{machineIdentifier:a}=t;e.get("servers").findServer(a).done(t=>{!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})})},[Wi.b](e,t,a){var i=function(e,t=!0){var a="";return e&&("string"==typeof e.pathname?a=e.query?_.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(a=e)),a&&t&&0!==a.indexOf("#!")&&(a="#!"+a),a}(t);t.replace?window.location.replace(i):window.location.href=i},[Wi.c](e,t,a){var{key:i,replace:r}=t,n=Object(Ta.m)(e,t),s=Object(Ta.j)(e,t),o=lu(n.toJSON(),s.toJSON(),i);o&&a(Object(Wi.l)({pathname:o,replace:r}))},"app/redirectToRoute"(e,{route:t,options:a}){D.a.defer(()=>{H.a.trigger("navigate",t,a)})},"app/redirectToHttp"(){jd()},"app/redirectToUrl"(e,{url:t,replace:a}){a?window.location.replace(t):window.location.href=t},"app/preferInsecure"(){try{window.localStorage.setItem("preferInsecure","1")}catch(e){O.a.debug("Unable to set prefer insecure in storage due to error:",e.message)}},"app/toggleFullscreen"(e,{isFullscreen:t}){e.get("isFullscreen")!==t&&e.set("isFullscreen",t)},"app/selectAudioDevice"(){},"app/updateAudioDevices"(){}});function Iu(){var e=Object(ie.c)("fullscreenManager").initialize({dispatchEnterFullscreen(){Object(ie.c)("appStore").dispatch(yu())},dispatchExitFullscreen(){Object(ie.c)("appStore").dispatch(fu())}});return ae(e)}var Su=a("imBb"),Mu=a.n(Su);function Cu(){var e=Object(ie.c)("keyboardShortcuts"),t=!0;function a(a,i,r){if(t||i instanceof window.KeyboardEvent&&"esc"===r)return e[a.fn](e,i,r)}return H.a.on("anyModalOpen",()=>{t=!1}),H.a.on("allModalsClosed",()=>{t=!0}),e.shortcuts.forEach(e=>{Mu.a.bind(e.keys,a.bind(null,e))}),T.a.Deferred().resolve().promise()}var Du=a("u7Vr");function Pu(){var e=Object(ie.c)("settingFinder").find("language");return Fr.setOption("language",e),ae(Du.a.load(e))}var Ou=a("DzIo"),ju=["touchstart","mousedown","click","keydown","keypress"];function Tu(){function e(){ju.forEach(t=>{document.body.removeEventListener(t,e,!0)});var t=Object(Ou.a)("audio",!0);function a(){t.removeEventListener("playing",a),t.removeEventListener("error",a),t.src="",t.removeAttribute("src"),Object(Ou.b)(t)}t.addEventListener("playing",a),t.addEventListener("error",a),t.src="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=";var i=t.play();i&&i.then&&i.catch(()=>{})}return ju.forEach(t=>{document.body.addEventListener(t,e,!0)}),T.a.Deferred().resolve().promise()}var wu=He.extend({mixins:[Ne.a],initialize({appModel:e}){He.prototype.initialize.apply(this,arguments),this.appModel=e,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:e=>!0,onPrimaryServerChange(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}});function Eu(e){return e.get("isFullOwnedServer")||e.get("isFullServer")&&e.supports("sharedUserNotifications")}function Nu(){var e;function t(){e&&e.stop()}return F.a.hasWebSocket&&(e=new Qe({name:"MediaServerEventManager",appModel:Object(ie.c)("appModel"),isValidServer:Eu,supportsLongPolling:!1,allowMultipleConnections:be.a.allowMultipleWebSocketConnections,ServerEventConnection:Object(ie.c)("mediaServerEventConnection"),ServerRetryManager:wu})).start(),H.a.on("app:exit",t),H.a.on("app:priorityBackground",t),H.a.on("app:priorityForeground",(function(){e&&e.start()})),T.a.Deferred().resolve().promise()}var xu=Ee.a.extend({mixins:Ne.a,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize(e={}){!1!==e.enabled&&this.enable()},hasSupport:()=>!0,enable(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(H.a,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog(e){if(this._suspended)F.a.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage(){},onLogGroup(){},onLogGroupCollapsed(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd(){},onEnabled(){},onDisabled(){},onResumed(){},onSuspended(){},onDestroyed(){}}),Au={[O.a.LEVEL_LOG]:"log",[O.a.LEVEL_DEBUG]:"debug",[O.a.LEVEL_INFO]:"info",[O.a.LEVEL_WARN]:"warn",[O.a.LEVEL_ERROR]:"error"},Lu=xu.extend({name:"ConsoleReporter",hasSupport:()=>F.a.hasConsole,onLogMessage(e){var t=e.message,a=Au[e.level];(window.console[a]||window.console.log).call(window.console,t)},onLogGroup(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd(){window.console.groupEnd&&window.console.groupEnd()}});function ku(){return new Lu,T.a.Deferred().resolve().promise()}var Ru=B.AppRouter.extend({initialize:function(){this.uniqueRoutes=D.a.uniq(D.a.values(this.appRoutes)),this.fragments=D.a.invert(this.appRoutes),this.listenTo(this,"route",this.onRoute),this.listenTo(H.a,"navigate",this.onNavigate)},resolveUrlFragment:function(e,t){var a=e.match(/:\w+/g);return a&&D.a.each(a,(function(a){var i=a.slice(1),r=t[i];if(null==r){var n=new RegExp("\\([^\\)]*"+a+"[^\\)]*\\)","g");e=e.replace(n,"")}else e=e.replace(a,encodeURIComponent(r))})),e.replace(/\(|\)/g,"")},onRoute:function(e){var t=ie.c("appModel"),a=Array.from(t.get("history")),i=Array.from(t.get("forwardHistory")),r=I.c.history.getFragment();r===i[0]?a.push(i.shift()):r!==D.a.last(a)&&(a.push(r),i.splice(0)),t.set({history:a,forwardHistory:i})},onNavigate:function(e,t){if(-1!==D.a.indexOf(this.uniqueRoutes,e)){t||(t={});var a=!1;if(null!=t.silent&&(a=t.silent,delete t.silent),null==t.trigger&&(t.trigger=!0),a)this.controller[e].apply(this.controller,D.a.values(t));else{var i=this.resolveUrlFragment(this.fragments[e],t);this.navigate(i,{trigger:t.trigger,replace:t.replace})}}}}),zu=a("gcR/"),Uu=a.n(zu),Vu=a("i8i4"),Bu=a.n(Vu),Fu=a("/MKj"),Hu=B.Layout.extend({template:()=>"",mountReact(){var e=Object(ie.c)("appStore");Bu.a.render(Uu()(Fu.a,{store:e},void 0,this.component(this.options)),this.el)},unmountReact(){this.isRendered&&Bu.a.unmountComponentAtNode(this.el)},onBeforeRender(){this.unmountReact()},onRender(){this.mountReact()},onClose(){this.unmountReact()}}),_u=a("G4qV"),Qu=a("BQgB");function Wu(e){return e.entities}var Gu=Object(_u.a)(Wu,e=>e.servers),Yu=Object(_u.a)(Gu,e=>e.cloudServer,(e,t)=>e[t]),Ku=Object(_u.a)(Gu,e=>e.servers,(e,t)=>t?t.map(t=>e[t]):[]),qu=a("+3Mv"),{useEffect:Zu,useRef:Xu}=Ed.a;function Ju(e,t=!0){var a=Xu(!1);Zu(()=>{if(t&&!a.current)return a.current=!0,e()},[t,e,a])}var $u,ep=a("pVnL"),tp=a.n(ep),ap=(a("YxO1"),a("dsvT")),ip=a("7epD"),rp=a.n(ip),np=Ed.a.createElement,{useCallback:sp,useEffect:op,useRef:lp}=Ed.a;!function(e){e.None="none",e.Vertical="vertical",e.Horizontal="horizontal",e.Omni="omni"}($u||($u={}));var cp,dp=({forwardedRef:e,className:t=rp.a.scroller,style:a,children:i,scrollDirection:r=$u.Vertical,autoScroll:n=!0,smoothScroll:s=!1,targetScrollTop:o,targetScrollLeft:l,onScrollPositionChange:c})=>{var d=lp(null),u=sp(e=>{c&&null!=d.current&&d.current===e.target&&c({scrollTop:d.current.scrollTop,scrollLeft:d.current.scrollLeft})},[d,c]);return op(()=>{null==d.current||null==o&&null==l||d.current.scrollTo({top:o,left:l,behavior:s?"smooth":"auto"})},[d,o,l,s]),np("div",{className:(t||"")+" "+(rp.a[r]||"")+" "+(n&&rp.a.auto||""),style:a,ref:Object(ap.a)(e,d),onScroll:u},i)},up=Ed.a.forwardRef((e,t)=>np(dp,tp()({},e,{forwardedRef:t}))),pp=a("x/40"),hp=a.n(pp),mp=Ed.a.createElement,vp=e=>{var{children:t,className:a=hp.a.emptyPageContentScroller,contentClassName:i=hp.a.content,icon:r,titleClassName:n=hp.a.title,iconSrc:s,title:o,descriptionClassName:l=hp.a.description,description:c,footerClassName:d=hp.a.footer,footer:u}=e,p=Je()(e,["children","className","contentClassName","icon","titleClassName","iconSrc","title","descriptionClassName","description","footerClassName","footer"]);return(mp(up,tp()({className:a},p),Uu()("div",{className:i},void 0,r?Uu()("span",{className:hp.a.icon},void 0,r):null,s?Uu()("img",{className:hp.a.imgIcon,src:s}):null,o?Uu()("div",{className:n},void 0,o):null,c?Uu()("div",{className:l},void 0,c):null,t),u?Uu()("div",{className:d},void 0,u):null))};!function(e){e.Tiny="tiny",e.Small="small",e.Medium="medium",e.Large="large"}(cp||(cp={}));var gp=cp,yp=a("DUT6"),fp=a.n(yp),bp=({className:e=fp.a.spinner,size:t=gp.Medium})=>Uu()("div",{className:(e||"")+" "+(fp.a[t]||""),"aria-label":Object(Ze.default)("Loading")});function Ip(){var e=document.activeElement;return e&&e.dataset&&e.dataset.uid||null}var Sp=0;var Mp=function(){return"id-"+Sp++},Cp="default",Dp="primary",Pp="danger",Op="dark",jp="small",Tp="medium",wp="large";function Ep(e,t){if(e===t)return!0;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(var r=Object.prototype.hasOwnProperty,n=0;n<a.length;n++)if(!r.call(t,a[n])||e[a[n]]!==t[a[n]])return!1;return!0}function Np(e,t,a,i,r){var n=r||Ep,s=n(e.props,t);return s&&(s=n(e.state,a))&&i&&(s=n(e.context,i)),!s}var xp=a("S8DM"),Ap=a("WtXS"),Lp=a.n(Ap),kp=Ed.a.createElement,{Component:Rp}=Ed.a,zp=null;xp.a&&window.addEventListener("blur",()=>{zp=Ip()});class Up extends Rp{constructor(e,t){super(e,t),this.onTouchStart=e=>{this._isTouch=!0,this._preventFocus=this._shouldPreventFocus(),1===e.touches.length&&this._activate(!0),this.props.onTouchStart&&this.props.onTouchStart(e)},this.onTouchMove=e=>{this._activate(!1),this.props.onTouchMove&&this.props.onTouchMove(e)},this.onTouchEnd=e=>{var{to:t,target:a,isDisabled:i,onTouchEnd:r}=this.props;this._isActive&&!i&&(!t||a&&"_self"!==a||(e.preventDefault(),window.location.href=t),this._press(e)),this._activate(!1),r&&r(e)},this.onTouchCancel=e=>{this._isTouch=!1,this._activate(!1),this.props.onTouchCancel&&this.props.onTouchCancel(e)},this.onMouseDown=e=>{this._isTouch||(this._preventFocus=this._shouldPreventFocus(),0===e.button&&this._activate(!0),this.props.onMouseDown&&this.props.onMouseDown(e))},this.onMouseUp=e=>{if(!this._isTouch){var{isDisabled:t,onMouseUp:a}=this.props;this._isActive&&!t&&(this._press(e),this._preventOnClick=!0),this._activate(!1),a&&a(e)}},this.onMouseLeave=e=>{this._isTouch||(this._isActive&&this.setState({isActive:!1}),this.props.onMouseLeave&&this.props.onMouseLeave(e))},this.onClick=e=>{this._preventFocus=!1;var{isDisabled:t}=this.props;this._preventOnClick||this._isTouch||this._isActive||!this._isFocused||t||this._press(e),this._preventOnClick=!1,this._isTouch=!1},this.onFocus=e=>{this._preventFocus?this._preventFocus=!1:this._uid!==zp?(this._focus(!0),this.props.onFocus&&this.props.onFocus(e)):zp=null},this.onBlur=e=>{this._focus(!1),this.props.onBlur&&this.props.onBlur(e)},this._preventFocus=!1,this._preventOnClick=!1,this._isTouch=!1,this._isActive=!1,this._isFocused=!1,this._uid=Mp(),this.state={isActive:!1,isFocused:!1},this._ref=Ed.a.createRef()}componentDidMount(){!this.props.isDisabled&&this.props.focusOnEnabled&&this._ref.current.focus()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){var t=this.props.focusOnEnabled&&!this.props.isDisabled,a=e.focusOnEnabled&&!e.isDisabled;t&&!a&&this._ref.current.focus()}_activate(e){this._isActive=e,this.setState({isActive:e})}_focus(e){this._isFocused=e,this.setState({isFocused:e})}_shouldPreventFocus(){return!this.props.allowFocusOnPress&&!(Ip()===this._uid)}_press(e){var{onPress:t}=this.props;t&&t(e)}render(){var e=this.props,{className:t,to:a,kind:i,size:r,isSelected:n,isDisabled:s,component:o,role:l}=e,c=Je()(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","focusOnEnabled","onPress"]),{isActive:d,isFocused:u}=this.state,p={"data-uid":this._uid},h=o;return a&&(h="a",p.href=a),p.role=l||(a?"link":"button"),p.className=(t||"")+" "+(Lp.a.link||"")+" "+(Lp.a[i]||"")+" "+(r&&Lp.a[r]||"")+" "+(n&&Lp.a.isSelected||"")+" "+(d?"isActive":"")+" "+(u?"isFocused":"")+" "+(s?"isDisabled":""),"button"!==h&&"input"!==h||(p.type=c.type||"button",p.disabled=s),kp(h,Object.assign({},c,p,{ref:this._ref,onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur}))}}Up.defaultProps={component:"button",kind:Cp,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};var Vp=Up,Bp="https://forums.plex.tv",Fp="https://www.plex.tv/tidal",Hp="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",_p="https://support.plex.tv"+Hp,Qp="https://support.plex.tv/articles/community-supported-tuners/"+Hp,Wp="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+Hp,Gp="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+Hp,Yp=a("LiCP"),Kp=a.n(Yp),qp=a("Ckcz"),Zp=a.n(qp);function Xp(e,t,a){var i=0;return Ed.a.Children.map(e,e=>{if(Ed.a.isValidElement(e)){var r=i;return i++,t.call(a,e,r)}return e})}var Jp="none",$p=(xp.a?Oc.a.shape({current:Oc.a.instanceOf(window.Element)}):Oc.a.oneOf([null]),a("YuNx")),eh=a.n($p),th=Ed.a.createElement,{Component:ah}=Ed.a;class ih extends ah{constructor(e,t){super(e,t),this.onScroll=e=>{if(e.target===this._scrollerRef.current){var t=e.target.scrollTop,a=e.target.scrollLeft,i=t!==this._currentScrollTop,r=a!==this._currentScrollLeft;(i||r)&&this._setScrollPosition({scrollTop:t,scrollLeft:a}),this.props.onScroll&&this.props.onScroll(e)}},this.onScrollPositionChange=()=>{this._animationFrameID=null,this.props.onScrollPositionChange({scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})},this.onScrollTimeout=()=>{this.setState({isScrolling:!1})},this.onScrollToUpdate=()=>{this._updateScrollPosition(this._scrollToPosition),this.props.onScrollToUpdate&&this.props.onScrollToUpdate(this._scrollToPosition)},this.onScrollToComplete=()=>{this._scrollToTween=null,this._scrollToPosition=null,this.props.onScrollToComplete&&this.props.onScrollToComplete()},this.state={isScrolling:!1},this._scrollerRef=e.forwardedRef||Ed.a.createRef(),this._currentScrollTop=0,this._currentScrollLeft=0}componentDidMount(){this._scrollTo(this.props)}componentWillReceiveProps(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){this.state.isScrolling&&(this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=window.setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)}componentWillUnmount(){this._clearTimeouts(),this._cancelScrollTo()}_setScrollPosition({scrollTop:e,scrollLeft:t}){this._clearTimeouts(),this._currentScrollTop=e,this._currentScrollLeft=t,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)}_updateScrollPosition({scrollTop:e,scrollLeft:t}){var a=this._scrollerRef.current;null!=e&&(a.scrollTop=e),null!=t&&(a.scrollLeft=t)}_scrollTo({scrollTop:e,scrollLeft:t}){if(null!=e||null!=t){var a=null!=e&&e!==this._currentScrollTop,i=null!=t&&t!==this._currentScrollLeft;if(a||i){if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=e,this._currentScrollLeft=t,void this._updateScrollPosition({scrollTop:e,scrollLeft:t});var r=this.props.smoothScrollDuration/1e3,n={ease:Zp.a.Power3.easeOut,onUpdate:this.onScrollToUpdate,onComplete:this.onScrollToComplete};this._scrollToPosition={};var s=this._scrollerRef.current;a&&(n.scrollTop=Math.min(e,s.scrollHeight-s.clientHeight),this._scrollToPosition.scrollTop=s.scrollTop),i&&(n.scrollLeft=Math.min(t,s.scrollWidth-s.clientWidth),this._scrollToPosition.scrollLeft=s.scrollLeft),this._cancelScrollTo(),this._scrollToTween=Kp.a.to(this._scrollToPosition,r,n)}}}_cancelScrollTo(){this._scrollToTween&&(this._scrollToTween.kill(),this._scrollToTween=null)}_clearTimeouts(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&window.clearTimeout(this._scrollTimeoutID)}render(){var e=this.props,{className:t,children:a,scrollDirection:i,autoScroll:r,compactScroller:n,enableChildrenProps:s,onScroll:o,onScrollPositionChange:l}=e,c=Je()(e,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]);return(th("div",tp()({className:(t||"")+" "+(eh.a.scroller||"")+" "+(eh.a[i]||"")+" "+(r&&eh.a.auto||"")+" "+(n&&eh.a.compactScroller||""),ref:this._scrollerRef,onScroll:l?this.onScroll:o},c),s?Xp(a,e=>Ed.a.cloneElement(e,{isScrolling:this.state.isScrolling,scrollTop:this._currentScrollTop,scrollLeft:this._currentScrollLeft})):a))}}ih.defaultProps={scrollDirection:"vertical",autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};var rh=Ed.a.forwardRef((e,t)=>th(ih,tp()({},e,{forwardedRef:t}))),nh=a("a7ba"),sh=a.n(nh);var oh=function({children:e}){return Uu()("div",{className:sh.a.description},void 0,e)},lh=a("4Vl1"),ch=a.n(lh),dh=Ed.a.createElement;function uh(e){var{contentClassName:t,iconClassName:a,titleClassName:i,footerClassName:r,children:n,kind:s,iconComponent:o,iconSrc:l,title:c,description:d,footer:u}=e,p=Je()(e,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return(dh(rh,tp()({className:ch.a.emptyPage},p),Uu()("div",{className:t},void 0,l?Uu()("img",{className:ch.a.imgIcon,src:l}):null,o?Uu()("span",{className:a},void 0,Uu()(o,{className:ch.a[s]})):null,c?Uu()("div",{className:i},void 0,c):null,d?Uu()(oh,{},void 0,d):null,n),u?Uu()("div",{className:r},void 0,u):null))}uh.defaultProps={contentClassName:ch.a.content,iconClassName:ch.a.icon,titleClassName:ch.a.title,footerClassName:ch.a.footer,kind:Cp};var ph=uh;function hh(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}hh.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var mh=hh,vh=a("Nc8A"),gh=a.n(vh),yh=Ed.a.createElement;var fh=function(e){return yh(ph,tp()({iconClassName:gh.a.icon,iconComponent:mh},e))};var bh=function(){return Uu()(fh,{title:Object(Ze.default)("Plex is down for maintenance"),description:Object(Ze.default)("Don't worry, it will be back soon")},void 0,Uu()(Vp,{to:"https://status.plex.tv",target:"_blank",kind:Dp},void 0,"status.plex.tv"))};var Ih=function(){return Uu()(fh,{title:Object(Ze.default)("Plex is not reachable"),description:Object(Ze.default)("We are unable to connect to plex.tv at this time. Please try again later.")})},{useEffect:Sh,useState:Mh}=Ed.a,Ch=Uu()(bh,{}),Dh=Uu()(Ih,{}),Ph=Uu()(vp,{},void 0,Uu()(bp,{}));function Oh(e){var{children:t,isWaitingForServers:a,isAnyServerAuthenticated:i,isWaitingForCloudServer:r,isAccountRequired:n,isCloudServerUnauthorized:s,isCloudServerConnected:o,isCloudServerUnavailable:l,isCloudServerDownForMaintenance:c,hasAttemptedSignIn:d,isUserLocked:u,isUserFeaturesPopulated:p,isUserFeaturesError:h,onPopulateUserFeatures:m}=e,v=Mh(h||p),g=v[1],y=v[0],f=(d||l)&&!u,b=f&&o,I=p||h||y||l,S=!a&&!i&&!c&&!l&&f||n&&s;if(Sh(()=>{if(b){var e=window.setTimeout(()=>g(!0),5e3);return()=>window.clearTimeout(e)}},[b]),Sh(()=>{b&&m()},[b,m]),Ju(()=>{H.a.trigger("navigate","login")},S),i&&I&&f&&(!n||o))return t;if(!r&&(n||!a&&!i)){if(c)return Ch;if(l)return Dh}return Ph}Oh.defaultProps={isAccountRequired:!1};var jh=Oh,Th=Object(_u.a)(e=>e.downloads,e=>!!e&&(!e.isSubscriptionsPopulated&&!e.subscriptionsError)),wh=Object(_u.a)(e=>e.downloads,e=>!!(e&&e.subscriptions&&e.subscriptions.length>0)),Eh=Object(_u.a)(Ku,e=>e.some(e=>e.isCloud&&e.isResolved||!e.isCloud&&e.isConnected)),Nh=Object(_u.a)(e=>e.isWaitingForServers,Th,Eh,wh,qu.a,Yu,(e,t,a,i,r,n)=>({isWaitingForServers:e||t,isAnyServerAuthenticated:a||i,isWaitingForCloudServer:!n.isResolved&&!n.isRejected,isCloudServerUnauthorized:n.isUnauthorized,isCloudServerConnected:n.isConnected,isCloudServerUnavailable:n.isUnavailable,isCloudServerDownForMaintenance:n.isDownForMaintenance,hasAttemptedSignIn:r.hasAttemptedSignIn,isUserLocked:r.isLocked,isUserFeaturesPopulated:r.isFeaturesPopulated,isUserFeaturesError:!!r.featuresError})),xh={onPopulateUserFeatures:Qu.d},Ah=Object(Fu.b)(Nh,xh)(jh),Lh=a("EIzA"),kh=a.n(Lh);function Rh(e){var{className:t,children:a}=e;return(Uu()("div",{className:t},void 0,a))}Rh.defaultProps={className:kh.a.container};var zh=Rh,Uh=a("GTkx"),Vh=a.n(Uh),Bh=Ed.a.createElement;function Fh(e){return Bh(zh,e)}Fh.defaultProps={className:Vh.a.container};var Hh=Fh,_h=a("RXx0"),Qh=a.n(_h),Wh=a("4asQ"),Gh=a.n(Wh);function Yh({className:e,containerClassName:t,labelClassName:a,size:i,color:r,label:n,loadingLabel:s}){var o=(e||"")+" "+(Gh.a[i]||""),l={borderTopColor:r,borderLeftColor:r};return n?Uu()("div",{className:(t||"")+" "+(Gh.a.spinnerContainer||"")},void 0,Uu()("div",{className:o,style:l}),Uu()("div",{className:(a||"")+" "+(Gh.a.spinnerLabel||"")},void 0,n)):Uu()("div",{className:o,style:l,"aria-label":s})}Yh.defaultProps={size:Tp,color:_h.primaryColor};var Kh=Yh,qh=Ed.a.createElement;function Zh(e){return qh(Kh,tp()({},e,{loadingLabel:Object(Ze.default)("Loading")}))}Zh.defaultProps=Kh.defaultProps;var Xh=Zh,{useEffect:Jh}=Ed.a,$h=Uu()(ph,{},void 0,Uu()(Xh,{}));var em=function(e){var{primaryServerMachineIdentifier:t,isPrimaryServerShared:a,isWaitingForPrimaryServer:i}=e;return Jh(()=>{t&&rr(a?"sync":"alerts",{serverID:t})},[t,a]),t||i?$h:Uu()(fh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")})};var tm=Object(Fu.b)((function(){return Object(_u.a)(e=>e.primaryServer,e=>e.isWaitingForPrimaryServer,Ku,(e,t,a)=>{var i=a.find(t=>t.entityID===e);return{primaryServerMachineIdentifier:i&&i.machineIdentifier,isPrimaryServerShared:i&&i.isShared,isWaitingForPrimaryServer:t}})}))(em),am=Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(tm,{}))),im=Hu.extend({component:()=>am}),rm=it.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return t.Account&&(t=t.Account),Be.a.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){var t=this.convert(e);return t=D.a.pick(t,this.whitelistedAttrs)}}),nm=a("9gi5");function sm(e){return Object(pt.a)(ht.k,jt.d,e)}var om=a("quxt"),lm=it.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new om.default([],{server:this.server,parent:this,url:function(){var e,t="/playlists/"+this.parent.id+"/items";return"audio"===this.parent.get("playlistType")&&(e={includeRelated:1}),_.join(t,e)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",(function(e){this.set("art",e.get("art"))}))},sync:function(e,t,a){var i=ot.addVersionHeader(2,a);return it.prototype.sync.call(this,e,t,i)},parse:function(e){var t=this.convert(e);return t.Playlist&&(t=t.Playlist),Be.a.parseInteger(t,["duration","leafCount","addedAt"]),Be.a.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){var a=t?{after:t}:{},i=_.join([D.a.result(this,"url"),"/items/",e,"/move"],a),r=D.a.extend(this.server.getXHROptions(i),{type:"PUT"}),n=T.a.ajax(r),s=this.get("children"),o=this.findItem(e);s.remove(o);var l=this.findItem(t),c=l?s.indexOf(l)+1:0;return s.add(o,{at:c}),n},removeItem:function(e){e=e.toString();var t=_.join([D.a.result(this,"url"),"/items/",e]),a=D.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),i=T.a.ajax(a);i.then(D.a.bind((function(e){this.set(this.parse(e))}),this));var r=this.get("children"),n=this.findItem(e);return r.remove(n),i},addContent:function(e,t){var a=this.isNew()?"POST":"PUT",i=[D.a.result(this,"url")],r={};this.isNew()?(r.type=this.get("playlistType"),r.title=this.get("title"),r.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?r.playQueueID=e.get("playQueueID"):r.uri=lt.a.uri(e,t);var n=_.join(i,r),s=D.a.extend(e.server.getXHROptions(n),{type:a}),o=T.a.ajax(s);return o.then(D.a.bind((function(e){this.set(this.parse(e))}),this)),o.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}}),cm=ke.a.extend({name:"VersionGeneratorCollection",context:["server"],model:ll,url(){return _.join(["playlists",this.parent.id,"items"],{type:tr.LOCAL})}}),dm=lm.extend({defaults:function(){return{children:new cm([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[D.a.result(this,"url"),"items",e.id],a=_.join(t,e.getSaveParams()),i=D.a.extend(e.server.getXHROptions(a),{type:"PUT"}),r=T.a.ajax(i);return r.then(D.a.bind((function(e){this.set(this.parse(e))}),this)),r.promise()}}),um=So.extend({model:dm,url:"/playlists?type="+tr.LOCAL,parse:function(e){return this.convert(e,"Playlist")}}),pm=a("/HJv"),hm=it.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=D.a.result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,"playQueueShuffled"),Be.a.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),Be.a.parseArray(t,"Metadata"),t},parse:function(e,t){D.a.isString(e)&&(e=Be.a.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var a=this.convert(e);a.id&&(a.playQueueID=a.id);var i=D.a.pick(a,this.whitelistedAttrs);return this.set(i,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(a),i},parseItems:function(e){var t=this.get("collection"),a=e.Metadata,i=!!a.length,r=D.a.pluck(a,"playQueueItemID").indexOf(e.playQueueSelectedItemID),n=e.playQueueSelectedItemOffset-r;D.a.each(a,(function(t,a){t.queueIndex=n+a,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)})),t?t.set(a,{parse:i}):(t=new pm.a(a,{server:this.server,parent:this,parse:i}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:n,end:n+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return T.a.Deferred().resolve().promise();this.set("hasUserAdditions",!0);var a={after:t||-1},i=_.join([D.a.result(this,"url"),"/items/",e,"/move"],a);return this._ajax("PUT",i)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),a=e.indexOf(t),i=Math.max(a,0),r=i,n=this.get("playQueueLastAddedItemID");if(null!=n){var s=e.get(n),o=e.indexOf(s);o>i&&(r=o)}return{start:i,end:r}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var a=D.a.extend(this.server.getXHROptions(t),{type:e}),i=T.a.ajax(a);return i.done(D.a.bind((function(e){this.set(this.parse(e)),D.a.isEmpty(this.pendingChanges)||(D.a.each(this.pendingChanges,(function(e,t){this.trigger("change:"+t,this,e)}),this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())}),this)),i.promise()},onMessageChange:function(e,t){t&&H.a.trigger("show:alert",{type:"error",message:t})}}),mm=So.extend({model:hm,url:"/playQueues?type="+tr.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function vm(e){return Object(Kc.a)("web-client","settings",e)}function gm(e,t,a){return Object(Kc.a)("server",e,t,a)}var ym=B.CollectionView.extend({appendHtml:function(e,t,a){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):B.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,a){if(e.isBuffering){var i=e.elBuffer.childNodes;i.length<=a?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,i[a]),e._bufferedChildren.push(t)}else{var r=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,n=r.children();n.size()<=a?r.append(t.el):n.eq(a).before(t.el)}},reversedAppendHtml:function(e,t,a){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[D.a.first(D.a.keys(e))];D.a.defer(D.a.bind((function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)}),this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,a=D.a.map(t,(function(t,a){var i=e.findByModel(t);return i._index=a,i.el}));this.$el.append(a)},onCollectionRendered:function(){this.measure&&this.measureList()}}),fm=a("PDl1"),bm=a.n(fm),Im=B.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:bm.a,serializeData:function(){var e=Object(ie.c)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),a={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:D.a.escape(this.model.server.get("friendlyName")),escapedEventLabel:D.a.escape(t.label),escapedEventValue:D.a.escape(t.value),escapedEventUsername:D.a.escape(t.username),escapedEventTitle:D.a.escape(t.title),escapedEventPlayer:D.a.escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=D.a.escape(t.label),t.value=D.a.escape(t.value),"playing"===t._type&&(t.username=D.a.escape(t.username),t.title=D.a.escape(t.title),t.player=D.a.escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=Object(Ze.default)("Created");break;case 1:t.stateString=Object(Ze.default)("Progress for");break;case 2:t.stateString=Object(Ze.default)("Matching");break;case 3:t.stateString=Object(Ze.default)("Downloading metadata for");break;case 4:t.stateString=Object(Ze.default)("Loading metadata for");break;case 5:t.stateString=Object(Ze.default)("Finished processing");break;case 6:t.stateString=Object(Ze.default)("Analyzing");break;case 9:t.stateString=Object(Ze.default)("Deleted")}return a}}),Sm=ym.extend({tagName:"ul",className:"list card-list alert-list",itemView:Im,reversed:!0}),Mm=a("8wkp"),Cm=a.n(Mm),Dm=B.Layout.extend({className:"alerts-container",template:Cm.a,ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:D.a.escape(this.page),escapedPages:D.a.escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text(Object(Ze.default)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new Sm({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}}),Pm=Ee.a.extend({mixins:[Ne.a],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new I.c.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){var t={};D.a.each(D.a.functions(I.c.Collection.prototype),(function(a){D.a.contains(this.blacklistedMethods,a)||(t[a]=function(){return e[a].apply(e,arguments)})}),this),D.a.extend(this,t)},_proxyCollectionLength:function(e){var t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",(function(t){var a=D.a.toArray(arguments),i="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),D.a.contains(this.whitelistedEvents,t)?(D.a.contains(["add","remove","destroy"],t)?a[2]=this:D.a.contains(["reset","sort"],t)&&(a[1]=this),this.trigger.apply(this,a)):i&&this.contains(a[1])&&this.trigger.apply(this,a)}))},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),D.a.has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return D.a.keys(this._filters)},hasFilter:function(e){return D.a.contains(this.getFilters(),e)},refilter:function(e){return D.a.isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(D.a.isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});var t=[];this.superset&&(t=this.superset.filter(D.a.bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var a in this._filters)if(D.a.has(this._filters,a)&&(D.a.has(t,a)||(t[a]=this._filters[a](e)),!t[a]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(var t in this._filterResultCache)D.a.has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){for(var t=0,a=this.superset.indexOf(e)-1;a>=0;a-=1)if(this.contains(this.superset.at(a))){t=this.indexOf(this.superset.at(a))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(D.a.bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){var e=D.a.debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){var t=this.superset.indexOf(e),a=this.playQueue.getUpNextRange(),i=a.start,r=a.end;return this.includeSelectedItem||(i+=1),t>=i&&t<=r},onPlayQueueChange:function(){this.refilter()}}),Om=Pm.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(D.a.bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}}),jm=a("U/5H"),Tm=a.n(jm),wm="placeholder-standard",Em="placeholder-square",Nm="placeholder-widescreen",xm={movie:wm,show:wm,season:wm,episode:Nm,artist:Em,album:Em,track:Em,photo:Em,photoalbum:Em,clip:Nm,playlist:Em,playlistFolder:Em,channel:Em,channelDirectory:Em,folder:"placeholder-folder",friend:"placeholder-friend",device:Em,poster:wm,art:Nm,banner:Nm,collection:wm},Am={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}},Lm=fo.a.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(size|scale|width|height)=([^&]+)/g,initialize:function(){fo.a.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),t){var a=e.url,i=this.getImageInfo(a),r={url:a,blobUrl:e.blobUrl,size:i.size},n=this.get(t);if(n){if(!n.images.hasOwnProperty(a)){var s=n.sizes;n.images[a]=r;var o=D.a.sortedIndex(s,r,"size");s.splice(o,0,r)}}else(n={images:{},sizes:[r]}).images[a]=r,this.startListening(),n._cacheKey=t,this._cache[t]=n,this.size++,e.persistInCache||this.setItemCycle(n,t,D.a.first(this.cycles))}},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];var t={width:"0",scale:"1"},a=e.replace(this.imageParamsRegex,(function(e,a,i){return t[a]=i,""})),i=t.size&&t.size.split("-"),r={key:a,size:(i&&2===i.length?i[1]:parseInt(t.width,10))*parseInt(t.scale,10)};return this._infoMemo[e]=r,r},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){var t=this.getImageInfo(e),a=this.get(t.key);if(a){var i=a.images[e];if(i)return i.blobUrl}},getPlaceholder:function(e){var t=this.getImageInfo(e),a=this.get(t.key);if(a){if(a.images[e])return;return D.a.last(a.sizes).blobUrl}},remove:function(e,t){fo.a.prototype.remove.apply(this,arguments),D.a.each(e.sizes,(function(e){this.removeImageInfo(e.url),F.a.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)}),this)}});function km(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}var Rm=function(e,t){return t?e.get("Media").findIndex(e=>e.id===t):0};var zm=function(e,t){var a=e.Part;return D.a.indexOf(a,D.a.findWhere(a,{key:t}))},Um={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,a){O.a.group("[Transcoder] %s (%s) options",e,t),D.a.forEach(a,(e,t)=>O.a.info("%s: %s",t,e)),O.a.groupEnd()},serializeParams:function(e,t){var a={},i={},r=/^X-Plex/;return D.a.each(e,(function(e,t){r.test(t)?i[t]=e:a[t]=e})),a=_.stringifyParams(a),i=_.stringifyParams(i),a&&i?a+"&"+i:a||i},image:function(e,t,a){if(!t)return"";var i,r=a.fallbackServer,n=!1;r&&r.get("isConnected")&&(i=r.get("isFullServer")?r:null);if(i)if(e.get("cloud"))n=!0;else if(!e.get("isFullServer")){var s=!e.get("activeConnection").get("isPrivate"),o=i.get("activeConnection").get("isPrivate");n=s||o}var l=n?i:e,c=l.id===e.id,d={url:e.resolveUrl(t,{useRelativeUrl:c,appendToken:!0}),width:a.width&&Math.round(parseFloat(a.width)),height:a.height&&Math.round(parseFloat(a.height))};a.minSize&&(d.minSize=1),a.format&&(d.format=a.format),a.quality&&(d.quality=a.quality),a.filters&&D.a.each(a.filters,(function(e,t){void 0!==e&&(d[t]=e)}));var u="/photo/:/transcode?"+this.serializeParams(d,l);return l.resolveUrl(u,{appendToken:!0})},music:function(e,t,a,i){i||(i="start");var r=D.a.first(t.get("Media"));if(r){var n=D.a.first(r.Part);if(n){var s,o;e.supports("universalMusicTranscoder")?(s=D.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},a),o="/music/:/transcode/universal/"+i):(s={identifier:t.get("identifier"),url:e.resolveUrl(n.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},o="/music/:/transcode/generic.mp3"),this.logParams("Music",i,s),s=D.a.extend(s,e.getHeaders());var l=this.extensions[s.protocol];return"start"===i&&l&&(o+=l),e.resolveUrl(o+"?"+this.serializeParams(s,e))}}},video:function(e,t,a,i,r,n){r||(r={}),n||(n="start");var s=e.entityID()===t.get("serverEntityID"),o=e.get("activeConnection").get("isPrivate"),l=D.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:s,appendToken:!s}),mediaIndex:Rm(t,a.id),partIndex:zm(a,i.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:100,location:o?"lan":"wan"},r);this.logParams("Video",n,l),l=D.a.extend(l,e.getHeaders());var c=this.extensions[l.protocol],d="/video/:/transcode/universal/"+n;return"start"===n&&c&&(d+=c),e.resolveUrl(d+"?"+this.serializeParams(l,e))},game:function(e,t,a,i,r){i||(i={}),r||(r="start");var n=e.entityID()===t.get("serverEntityID"),s=e.get("activeConnection").get("isPrivate"),o=D.a.extend({path:e.resolveUrl(t.get("key"),{useRelativeUrl:n,appendToken:!n}),location:s?"lan":"wan",mediaIndex:Rm(t,a.id)},i,{protocol:void 0});this.logParams("Game",r,o),o=D.a.extend(o,e.getHeaders());var l=this.extensions[o.protocol],c="/game/:/transcode/"+r;return"start"===r&&l&&(c+=l),e.resolveUrl(c+"?"+this.serializeParams(o,e))}},Vm="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",Bm=B.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new Lm,initialize:function(e){e||(e={}),D.a.bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+Vm+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),D.a.isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=be.a.allowBaseImageBlobs,this.allowBaseImagePreloading=be.a.allowBaseImagePreloading,this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){B.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;var t=ie.c("appModel"),a=km();return Um.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*a,height:this.height*a,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(Vm)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return T.a.Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&F.a.hasBlob&&F.a.hasObjectUrl){var t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage)}return this.allowBaseImagePreloading?this.loadImage(e):T.a.Deferred().resolve(e).promise()},loadBlob:function(e){var t=T.a.Deferred();this.cancel();var a=this.cache.getBlobUrl(e);if(a)return t.resolve(a),t.promise();var i=this.cache.getPlaceholder(e);i&&t.notify(i,!0);var r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",this.xhr=r,r.onreadystatechange=D.a.bind((function(){if(4===r.readyState)if(r.onreadystatechange=null,this.xhr=null,200===r.status){var a=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(a);this.cache.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()}),this),r.send(),t.promise()},loadImage:function(e,t){var a=T.a.Deferred(),i=new window.Image;return i.onload=function(){i.onload=i.onabort=i.onerror=null,t?a.notify(e,i.width,i.height):a.resolve(e,i.width,i.height)},i.onabort=i.onerror=function(){i.onload=i.onabort=i.onerror=null,a.reject()},i.src=e,a.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,a){if(this.backgroundSize){var i=t&&t>this.width||a&&a>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=i}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,a)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}}),Fm=Bm.extend({background:!0,setup(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=xm.folder:e.placeholderClass||(this.placeholderClass=xm[this.type])),Bm.prototype.setup.apply(this,arguments)},setDimensions(e){e.width?e.height=Am.getPosterHeight(this.type,e.width):e.height&&(e.width=Am.getPosterWidth(this.type,e.height)),Bm.prototype.setDimensions.call(this,e)},setModel(e,t){Bm.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=xm.folder)}}),Hm=["years","months","days","hours","minutes","seconds","milliseconds"],_m={years:31536e6,months:2592e6,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function Qm(e){for(var t=e<0?-1:1,a={},i=e*t,r=-1;++r<Hm.length;){var n=Hm[r],s=_m[n],o=Math.floor(i/s);a[n]=o&&o*t,i%=s}return a}var Wm=function(e){if(null==e)return"";var t=Qm(e),a=t.hours+24*t.days,i=t.minutes,r=t.seconds;return a&&i?Object(Ze.default)("{1} hr {2} min",a,i):a?Object(Ze.default)("{1} hr",a):i?Object(Ze.default)("{1} min",i):r>0?Object(Ze.default)("{1} sec",r):""};var Gm=[[54e5,function(e){if(null==e)return"";var t=Qm(e),a=24*t.days*60,i=60*t.hours,r=t.minutes+i+a,n=t.seconds;return r?Object(Ze.default)("{1} min",r):n>0?Object(Ze.default)("{1} sec",n):""}],[864e5,Wm],[6048e5,function(e){if(null==e)return"";var t=Qm(e),a=t.days,i=t.hours,r=1!==a;return a&&i?r?Object(Ze.default)("{1} days {2} hr",a,i):Object(Ze.default)("{1} day {2} hr",a,i):a?r?Object(Ze.default)("{1} days",a):Object(Ze.default)("{1} day",a):Object(Ze.default)("{1} hr",i)}],[1/0,function(e){if(null==e)return"";var t=Qm(e),a=365*t.years+30*t.months+t.days;return 1!==a?Object(Ze.default)("{1} days",a):Object(Ze.default)("{1} day",a)}]];var Ym=function(e){if(!e)return"";var[,t]=D.a.find(Gm,([t])=>e<=t);return t(e)};var Km=function(e){if(null==e)return"";var t=Ym(1e3*e);return t?Object(Ze.default)("{1} left",t):""},qm=a("4QgX"),Zm=a.n(qm),Xm=B.ItemView.extend({className:"circle-progress",template:Zm.a,size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,a=t-this.lineWidth,i=Math.PI*(2*a);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",a),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",i),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var r=(100-this.model.get("progress"))/100*i;this.ui.svgCircle.css("stroke-dashoffset",r)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}}),Jm=a("nWaN"),$m=a.n(Jm),ev=B.Layout.extend({mixins:[Xo],className:"conversion-status",template:$m.a,regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new I.c.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ze.default)("Paused"):Object(Ze.default)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Ze.default)("Paused"):Object(Ze.default)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return Km(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find((function(e){var t=this.model.get("ratingKey"),a=this.generator?this.generator.id:this.model.get("generatorID"),i=this.model.get("syncItemId"),r=t&&t===e.get("ratingKey"),n=a&&a===e.get("generatorID"),s=i&&i===e.get("syncItemId");return r&&(n||s)}),this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new Xm({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}}),tv=a("zjrX"),av=a.n(tv),iv=B.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:av.a,ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=xm[this.type];"movie"===this.type&&(t=xm.art);var a="episode"===this.type?"show":this.type;this.image=new Fm({model:this.metadataItem,type:a,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return lt.a.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?Object(Ze.default)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=ie.c("appModel"),t=new cl({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return Ge.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new ll({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return Ge.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new ev({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",D.a.debounce(this.onCollectionSort));var a=this.model.get("playQueueItemID"),i=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(a,i)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}}),rv=ym.extend({tagName:"ol",className:"list media-list playlist-items",itemView:iv,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){D.a.bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Tm.a(this.el,D.a.extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=T()(e.item).data("queue-item-id"),a=T()(e.item).prev().data("queue-item-id"),i=this.options.playQueue;if(a)i.moveItem(t,a);else{var r=i.get("selectedItem").get("metadataItem").get("title"),n=new mi({title:Object(Ze.default)("Convert Immediately"),message:Object(Ze.default)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",r)}),s=n.promise;s.done((function(){i.moveItem(t)})),s.fail(D.a.bind(this.render,this)),H.a.trigger("show:modal",n)}}}),nv=a("EAJj"),sv=a.n(nv),ov=B.ItemView.extend({template:sv.a,serializeData(){return{manageVersionsRoute:si(this.model.id,"manage","versions")}}}),lv=a("PiUd"),cv=a.n(lv),dv=B.Layout.extend({className:"conversion-container",template:cv.a,ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new Pm(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new Om(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:D.a.escape(Ka.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:si(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new ov({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce((function(e,t){var a=t.get("status");return"failed"===a.get("state")?e+=Math.max(a.get("itemsCount"),1):a.get("itemsFailedCount")&&(e+=a.get("itemsFailedCount")),e}),0);if(e)return 1===e?Object(Ze.default)("There was a problem converting 1 item."):Object(Ze.default)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new rv(D.a.extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new rv(D.a.extend({},e,{collection:this.afterUpNextItems,itemViewOptions:D.a.extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),uv=a("V+TA"),pv=Object(_u.a)(Wu,e=>e.providers),hv={};function mv(e){if(hv[e])return hv[e];var t=Object(_u.a)(qu.a,t=>t[e]);return hv[e]=t,t}var vv={entityID:"",identifier:"",metricsIdentifier:"",title:"",features:[],protocols:[],isPending:!1,isPopulated:!1,error:null},gv={entityID:"",machineIdentifier:"",friendlyName:"Unknown",allowSync:!1,allowMediaDeletion:!1,backgroundProcessing:!1,transcoderVideo:!1,isCloud:!1,isEmbedded:!1,isFullServer:!1,isFullOwnedServer:!1,isUnavailable:!1,isUnauthorized:!1,isConnected:!1,ownerFeatures:[],providers:[]};var yv=Object(uv.a)((function(e){return Object(_u.a)(Ku,t=>t.find(t=>t.machineIdentifier===e)||gv)}));var fv=Object(uv.a)((function(e,t){return Object(_u.a)(pv,yv(e),mv("providers"),(e,a,i)=>{var r=(!a||a.isCloud?i:a.providers).find(a=>e[a].identifier===t);return r?e[r]:vv})}));var bv=Object(uv.a)((function(e,t){return Object(_u.a)(fv(e,t),e=>{var t=Kt(e);return t?t.directories:[]})}));var Iv=Object(uv.a)((function(e,t,a){return Object(_u.a)(bv(e,t),e=>e.find(e=>a===e.id))})),Sv=Object(_u.b)(_u.d,D.a.isEqual);function Mv(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,accessToken:e.accessToken,uri:e.activeConnection?e.activeConnection.uri:void 0,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,countryCode:e.countryCode,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isCloud:e.isCloud,isEmbedded:e.isEmbedded,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isUnavailable:e.isUnavailable,isUnauthorized:e.isUnauthorized,isConnected:e.isConnected,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}}var Cv=Sv(Object(_u.a)(Ku,e=>e.map(Mv)),e=>e);var Dv=Object(uv.a)((function(e){return Sv(Object(_u.a)(Cv,t=>t.find(t=>t.machineIdentifier===e)||gv),e=>e)})),{createContext:Pv,useContext:Ov,useMemo:jv}=Ed.a,Tv=Pv([gv,vv,void 0]);function wv(){return Ov(Tv)}var Ev=({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:a,children:i})=>{var r=Object(Fu.d)(Dv(e)),n=Object(Fu.d)(fv(e,t)),s=Object(Fu.d)(Iv(e,t,a)),o=jv(()=>[r,n,s],[r,n,s]);return Uu()(Tv.Provider,{value:o},void 0,i)},Nv=a("Z/P6");var xv=Object(uv.a)((function(e){return Object(_u.a)(Nv.a,t=>t[e])})),{useEffect:Av,useState:Lv}=Ed.a;var kv,Rv=function(e,t,a=500){var i=Lv(e),r=i[1],n=i[0];return Av(()=>{var i;return e===t?i=window.setTimeout(()=>{r(e)},a):r(e),()=>window.clearTimeout(i)},[e,t,a]),n},zv=a("6XLl"),Uv=a.n(zv),Vv=({children:e,title:t})=>Uu()("div",{className:Uv.a.header},void 0,Uu()("div",{className:Uv.a.headerTitle},void 0,t),e);!function(e){e.Default="default",e.Primary="primary",e.Success="success",e.Danger="danger"}(kv||(kv={}));var Bv=kv,Fv=a("NM2O"),Hv=a.n(Fv),_v=Ed.a.createElement,{useCallback:Qv,useEffect:Wv,useRef:Gv,useState:Yv}=Ed.a,Kv=e=>{var{forwardedRef:t,children:a,to:i,component:r=(i?"a":"button"),type:n=("button"===r||"input"===r?"button":""),role:s=(i?"link":"button"),className:o=Hv.a.link,kind:l=Bv.Default,size:c,isDisabled:d=!1,onPress:u,onTouchStart:p,onTouchMove:h,onTouchEnd:m,onTouchCancel:v,onMouseDown:g,onMouseUp:y,onMouseLeave:f,onFocus:b,onBlur:I}=e,S=Je()(e,["forwardedRef","children","to","component","type","role","className","kind","size","isDisabled","onPress","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel","onMouseDown","onMouseUp","onMouseLeave","onClick","onFocus","onBlur"]),M=Yv(!1),C=M[1],D=M[0],P=Yv(!1),O=P[1],j=P[0],T=Gv(!1),w=Gv(!1),E=Gv(!1),N=Qv(e=>{T.current=!0,w.current=!0,1===e.touches.length&&(E.current=!0,C(!0)),null==p||p(e)},[p]),x=Qv(e=>{E.current=!1,C(!1),null==h||h(e)},[h]),A=Qv(e=>{C(!1),E.current&&(E.current=!1,null==u||u(e)),null==m||m(e)},[u,m]),L=Qv(e=>{T.current=!1,w.current=!1,E.current=!1,C(!1),null==v||v(e)},[v]),k=Qv(e=>{T.current=!0,C(!0),null==g||g(e)},[g]),R=Qv(e=>{C(!1),null==y||y(e)},[y]),z=Qv(e=>{T.current=!1,C(!1),null==f||f(e)},[f]),U=Qv(e=>{T.current?T.current=!1:(O(!0),null==b||b(e))},[b]),V=Qv(e=>{T.current=!1,O(!1),null==I||I(e)},[I]),B=Qv(e=>{T.current=!1,C(!1),w.current?w.current=!1:null==u||u(e)},[u]),F=Qv(()=>{O(!1)},[]);Wv(()=>(j&&window.addEventListener("mousemove",F),()=>{j&&window.removeEventListener("mousemove",F)}),[j,F]);var H=d?{}:{onTouchStart:N,onTouchMove:x,onTouchEnd:A,onTouchCancel:L,onMouseDown:k,onMouseUp:R,onMouseLeave:z,onFocus:U,onBlur:V,onClick:B};return _v(r,Object.assign({},S,H,{ref:t,children:a,type:n,href:i,role:s,className:(o||"")+" "+(Hv.a[l]||"")+" "+(c&&Hv.a[c]||"")+" "+(i&&Hv.a.isHrefLink||"")+" "+(D?"isActive":"")+" "+(j?"isFocused":"")+" "+(d?"isDisabled":""),disabled:d}))},qv=Ed.a.forwardRef((e,t)=>_v(Kv,tp()({},e,{forwardedRef:t}))),Zv=a("p9Lp"),Xv=a.n(Zv),Jv=({children:e,className:t=Xv.a.container})=>Uu()("div",{className:t},void 0,Uu()("div",{className:Xv.a.message},void 0,e)),$v=a("fCYg"),eg=a.n($v),tg=({children:e,className:t=eg.a.container})=>{var[a]=wv();return(Uu()("div",{className:t},void 0,Uu()(Jv,{},void 0,Uu()(qv,{className:eg.a.link,to:si(a.machineIdentifier,"settings","general")},void 0,e))))},ag=a("Efxr"),ig=a("8L3F"),rg=Ed.a.createElement,{Component:ng}=Ed.a;class sg extends ng{static getDerivedStateFromProps(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeout&&!e.isOpen&&t.isOpen}}constructor(e,t){super(e,t),this.onCloseTimeout=()=>{this._closeTimeoutID=null,this.setState({shouldPreventPortalClose:!1},()=>{this.props.onClose&&this.props.onClose()})},this.onInteractionEvent=e=>{this.props.allowInteractionEventBubbling||e.stopPropagation()},this.state={isOpen:e.isOpen,shouldPreventPortalClose:!1}}componentDidMount(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()}componentDidUpdate(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=window.clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=window.setTimeout(this.onCloseTimeout,this.props.closeTimeout)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()}componentWillUnmount(){this._closeTimeoutID&&window.clearTimeout(this._closeTimeoutID)}render(){var{className:e,style:t,children:a,forwardedRef:i}=this.props,{isOpen:r,shouldPreventPortalClose:n}=this.state;return r||n?Bu.a.createPortal(rg("div",{className:e,style:t,ref:i,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},a),document.body):null}}sg.defaultProps={isOpen:!0,closeTimeout:0,allowInteractionEventBubbling:!1};var og=Ed.a.forwardRef((e,t)=>rg(sg,tp()({},e,{forwardedRef:t}))),lg=Ed.a.createElement,{Component:cg}=Ed.a;class dg extends cg{constructor(e,t){super(e,t),this.onOpen=()=>{var e,t;this._open(),null==(e=(t=this.props).onOpen)||e.call(t)},this.onClose=()=>{var e,t;this._close(),null==(e=(t=this.props).onClose)||e.call(t)},this.onPopperUpdate=e=>{var{onReposition:t}=this.props;t&&t(e.placement.split("-")[0])},this._ref=e.forwardedRef||Ed.a.createRef(),this._popper=null}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){this._popper&&this._popper.scheduleUpdate()}componentWillUnmount(){this._close()}_open(){var{target:e,options:t}=this.props,a=document.getElementById(e)||document.getElementsByName(e)[0];this._popper=new ig.a(a,Bu.a.findDOMNode(this._ref.current),Object.assign({},t,{onUpdate:this.onPopperUpdate})),this._popper.scheduleUpdate()}_close(){this._popper&&(this._popper.destroy(),this._popper=null)}render(){return lg(og,tp()({},this.props,{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))}}dg.defaultProps={options:{placement:"bottom-start"}};var ug,pg,hg=Ed.a.forwardRef((e,t)=>lg(dg,tp()({},e,{forwardedRef:t})));function mg(e){var t=parseFloat(e,10),a=e.match(/m?s/);switch(a&&(a=a[0]),a){case"s":return 1e3*t;case"ms":return t}return 0}function vg(e){var t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!function e(t){if(t===document)return!0;if(!t)return!1;if(!t.parentNode)return!1;if(t.style){var a=t.style;if("none"===a.display||"hidden"===a.visibility)return!1}if(window.getComputedStyle){var i=window.getComputedStyle(t);if("none"===i.getPropertyValue("display")||"hidden"===i.getPropertyValue("visibility"))return!1}return e(t.parentNode)}(e))return!1;var t=e.nodeName.toLowerCase();if(/input|select|textarea|button|object/.test(t))return!e.disabled;if("a"===t)return e.href;return!0}(e)}function gg(e){if(!e)return[];var t=[].slice.call(e.getElementsByTagName("*"),0).filter(e=>vg(e));return D.a.sortBy(t,e=>0===e.tabIndex?1/0:e.tabIndex)}function yg(e){try{e.focus()}catch(e){}}function fg(e){var t=document.activeElement,a=t&&e&&e.contains(t);t&&!a&&t.blur()}function bg(e){ug=document.activeElement,pg=e,fg(e)}function Ig(e){Object(P.a)(pg,"Call `startScopedFocus(element)` before `scopeTabEvent`");var t=gg(pg);if(t.length){e.preventDefault();var a,i=document.activeElement,r=i?t.indexOf(i):-1,n=t.length-1;-1===r?a=e.shiftKey?n:0:(a=e.shiftKey?r-1:r+1)<0?a=n:a>n&&(a=0),yg(t[a])}}function Sg(){Object(P.a)(pg,"Call `startScopedFocus(element)` before `scopeAutoFocus`");var e=gg(pg),t=D.a.find(e,e=>Object(Rs.a)(e.getAttribute("data-autofocus")));t&&yg(t)}function Mg(){ug&&(yg(ug),ug=null)}var Cg=a("SYXp"),Dg=a.n(Cg),Pg=a("kORC"),Og=a.n(Pg),jg=a("SLzd"),Tg=a.n(jg),wg=a("21iP"),Eg=a.n(wg),Ng=Ed.a.createElement,{Component:xg}=Ed.a,Ag=mg(Dg.a.menuSpeed),Lg=parseInt(Og.a.menuPadding,10),kg={ease:"easeOut",duration:Ag},Rg={ease:Tg.a.motionEasing,duration:Ag},zg={opacity:kg,y:Rg,scale:Rg},Ug=ag.b.div({preEnter:{opacity:0,y:-10,scale:.95,transition:zg},enter:{opacity:1,y:0,scale:1,transition:zg},exit:{opacity:0,y:10,scale:.95,transition:zg}});function Vg(e){return Math.min(window.innerHeight-2*Lg,e.maxHeight)}class Bg extends xg{constructor(e,t){super(e,t),this.onResize=e=>{this.setState({maxHeight:Vg(this.props)})},this.onWindowDownPress=e=>{this._isElementContainedOrTarget(e.target)||(this._willMenuClose=!0)},this.onWindowUpPress=e=>{this._willMenuClose&&!this._isElementContainedOrTarget(e.target)&&this.props.onMenuClose(),this._willMenuClose=!1},this.onKeyDown=e=>{var t=e.keyCode;9===t?Ig(e):27===t&&(e.preventDefault(),e.stopPropagation(),this.props.onMenuClose(),Mg())},this.state={maxHeight:Vg(e)},this._willMenuClose=!1,this._menuID=Mp()}componentDidMount(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e,t){var a=e.isOpen&&!e.isAutoCloseDisabled,i=this.props.isOpen&&!this.props.isAutoCloseDisabled;!a&&i?this._enable():a&&!i&&this._disable()}componentWillUnmount(){this.props.isOpen&&!this.props.isAutoCloseDisabled&&this._disable(),window.removeEventListener("resize",this.onResize)}_enable(){bg(document.getElementById(this._menuID)),document.addEventListener("mousedown",this.onWindowDownPress),document.addEventListener("touchstart",this.onWindowDownPress),document.addEventListener("mouseup",this.onWindowUpPress),document.addEventListener("touchend",this.onWindowUpPress),document.addEventListener("keydown",this.onKeyDown)}_disable(){document.removeEventListener("mousedown",this.onWindowDownPress),document.removeEventListener("touchstart",this.onWindowDownPress),document.removeEventListener("mouseup",this.onWindowUpPress),document.removeEventListener("touchend",this.onWindowUpPress),document.removeEventListener("keydown",this.onKeyDown)}_isElementContainedOrTarget(e){var{target:t}=this.props,a=document.getElementById(this._menuID),i=a&&a.contains(e),r=!i&&document.getElementById(t),n=r&&r.contains(e);return i||n}render(){var{children:e,className:t,portalClassName:a,target:i,options:r,isOpen:n,isDisabled:s,scrollerProps:o,size:l,onMouseEnter:c,onMouseLeave:d,onMenuCloseComplete:u}=this.props,{maxHeight:p}=this.state;return Uu()(hg,{className:a,target:i,options:r,isOpen:n,closeTimeout:Ag,onClose:u},void 0,Uu()(ag.a,{flipMove:!1,animateOnMount:!0,preEnterPose:"preEnter"},void 0,n?Uu()(Ug,{id:this._menuID,className:(t||"")+" "+(Eg.a[l]||"")+" "+(s&&Eg.a.isDisabled||""),onMouseEnter:c,onMouseLeave:d},"container",Ng(rh,tp()({},o,{style:{maxHeight:p}}),e)):null))}}Bg.defaultProps={className:Eg.a.menu,portalClassName:Eg.a.menuPortal,size:Tp,maxHeight:600,isDisabled:!1,scrollerProps:{className:Eg.a.menuScroller,scrollDirection:"vertical",autoScroll:!0}};var Fg=Bg,Hg=a("dQj/"),_g=a.n(Hg),Qg=Ed.a.createElement;function Wg(e){var{className:t,children:a,kind:i,isDisabled:r,isHidden:n}=e,s=Je()(e,["className","children","kind","isDisabled","isHidden"]);return(Qg(Vp,tp()({className:(t||"")+" "+(_g.a.menuItem||"")+" "+(_g.a[i]||"")+" "+(r&&_g.a.isDisabled||"")+" "+(n&&_g.a.isHidden||""),"data-qa-id":"dropdownItem",role:"menuitem"},s),a))}Wg.defaultProps={kind:Cp,isDisabled:!1};var Gg=Wg,Yg=a("SBxW"),Kg=a.n(Yg),qg=Ed.a.createElement,{Component:Zg}=Ed.a;class Xg extends Zg{constructor(...e){super(...e),this.onPress=e=>{var{value:t,onSelect:a,onPress:i}=this.props;a&&a(t),i&&i(e)}}render(){var e=this.props,{children:t,className:a,menuLabelClassName:i,iconComponent:r,isSelected:n,selectedIconAriaLabel:s}=e,o=Je()(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return(qg(Gg,tp()({className:(a||"")+" "+(n&&Kg.a.isSelected||"")},o,{onPress:this.onPress}),Uu()("div",{className:Kg.a.menuItemContainer},void 0,Uu()("div",{className:i},void 0,t),n?Uu()("div",{className:Kg.a.selectedIcon},void 0,Uu()(r,{"aria-label":s})):null)))}}Xg.defaultProps={className:Kg.a.menuItemContainer,menuLabelClassName:Kg.a.menuLabel};var Jg=Xg;function $g(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}$g.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var ey=$g,ty=Ed.a.createElement;function ay(e){return ty(Jg,tp()({},e,{selectedIconAriaLabel:Object(Ze.default)("Selected")}))}ay.defaultProps={iconComponent:ey};var iy=ay,{useState:ry}=Ed.a;var ny=function(){return ry(Mp)[0]},{useCallback:sy,useState:oy}=Ed.a;function ly(){var e=ny(),t=oy(!1),a=t[1],i=t[0],r=sy(()=>{a(!i)},[i,a]),n=sy(()=>{a(!1)},[a]);return{menuButtonID:e,isMenuOpen:i,onMenuButtonPress:r,onMenuClose:n}}var cy="up",dy="down",uy=a("d36p"),py=a.n(uy);function hy({className:e,kind:t,size:a,direction:i,isSelected:r}){return Uu()("span",{className:(e||"")+" "+(py.a[i]||"")+" "+(py.a[t]||"")+" "+(py.a[a]||"")+" "+(r&&py.a.isSelected||"")})}hy.defaultProps={className:py.a.disclosureArrow,direction:dy,kind:Cp,size:Tp,isSelected:!1};var my=hy,vy=a("vD73"),gy=a.n(vy),yy=Ed.a.createElement,{Component:fy}=Ed.a;class by extends fy{render(){var e=this.props,{className:t,arrowClassName:a,children:i,direction:r,kind:n,size:s,isSelected:o}=e,l=Je()(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),c=s||Tp;return yy(Vp,tp()({className:(t||"")+" "+(gy.a[c]||"")+" "+(o&&gy.a.isSelected||""),"aria-haspopup":!0,kind:n,size:s,isSelected:o},l),i,Uu()(my,{className:(a||"")+" "+(gy.a[r]||"")+" "+(gy.a[c]||""),direction:r,kind:n,size:c,isSelected:o}))}}by.defaultProps={className:gy.a.disclosureArrowButton,arrowClassName:gy.a.disclosureArrow,direction:dy,isSelected:!0};var Iy,Sy,My,Cy=by,Dy=a("r4V+"),Py=a.n(Dy),Oy=({children:e,id:t,className:a=Py.a.menuButton,isMenuOpen:i,onPress:r})=>Uu()(Cy,{className:a,id:t,size:wp,direction:i?cy:dy,isSelected:!1,onPress:r},void 0,e),{Fragment:jy,useCallback:Ty}=Ed.a;function wy({className:e,values:t,activeValue:a,formatter:i,onSelect:r}){var{menuButtonID:n,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=ly(),c=Ty(e=>{l(),r(e)},[l,r]);return Uu()(jy,{},void 0,Uu()(Oy,{id:n,className:e,isMenuOpen:s,onPress:o},void 0,i(a)),Uu()(Fg,{target:n,isOpen:s,onMenuClose:l},void 0,t.map(e=>Uu()(iy,{value:e,isSelected:a===e,onSelect:c},String(e),i(e)))))}function Ey(e){return function(e){return!!e.v4}(e)?e.v4:e}!function(e){e[e.All=0]="All",e[e.Movie=1]="Movie",e[e.TV=4]="TV",e[e.Music=10]="Music",e[e.Photo=13]="Photo",e[e.Game=19]="Game"}(Iy||(Iy={})),function(e){e.All="all",e.System="system",e.PlexMediaServer="plex-media-server"}(Sy||(Sy={})),function(e){e.All="all",e.Remote="remote",e.Local="local"}(My||(My={}));var Ny=Object(_u.a)(Ey,e=>e.features),xy=Object(_u.a)(Ny,e=>e.dashboard),Ay=Object(_u.a)(xy,e=>e.bandwidth);function Ly(e){switch(e){case My.All:return Object(Ze.default)("All");case My.Remote:return Object(Ze.default)("Remote");case My.Local:return Object(Ze.default)("Local");default:return""}}var ky,Ry,zy=a("odh7"),Uy=a("Xep9"),Vy=a("WQ3w"),By=a("phiu"),Fy=a("/Eym"),Hy=a("sdC+");function _y(e){switch(e){case ky.RealTime:return Object(Ze.default)("Real Time");case ky.TwelveHours:return Object(Ze.default)("Last 12 Hours");case ky.Day:return Object(Ze.default)("Last 24 Hours");case ky.Week:return Object(Ze.default)("Last 7 Days");case ky.Month:return Object(Ze.default)("Last 30 Days");case ky.NinetyDays:return Object(Ze.default)("Last 90 Days");case ky.Year:return Object(Ze.default)("Last Year");case ky.AllTime:return Object(Ze.default)("All Time");default:return""}}function Qy(e){switch(e){case ky.RealTime:return Ry.RealTime;case ky.TwelveHours:case ky.Day:return Ry.Hour;case ky.Week:return Ry.Day;case ky.Month:case ky.NinetyDays:return Ry.Week;case ky.Year:case ky.AllTime:return Ry.Month;default:return Ry.Day}}function Wy(e){switch(e){case ky.TwelveHours:return Object(zy.a)(Object(Vy.a)(new Date,12));case ky.Day:return Object(zy.a)(Object(Uy.a)(new Date,1));case ky.Week:return Object(zy.a)(Object(Fy.a)(new Date,1));case ky.Month:return Object(zy.a)(Object(By.a)(new Date,1));case ky.NinetyDays:return Object(zy.a)(Object(Uy.a)(new Date,90));case ky.Year:return Object(zy.a)(Object(Hy.a)(new Date,1));case ky.AllTime:return 0;default:return}}function Gy(e,t){switch(e){case ky.TwelveHours:return"H:00";case ky.Day:return t?"H:00":"HH";case ky.Week:case ky.Month:case ky.NinetyDays:return t?"MMMM do":"MMM d";case ky.Year:return t?"MMMM":"MMM";case ky.AllTime:return t?"MMMM yyyy":"MMM yy";default:return t?"MMMM do":"MMM d"}}!function(e){e.RealTime="real-time",e.TwelveHours="twelve-hours",e.Day="day",e.Week="week",e.Month="month",e.NinetyDays="ninety-days",e.Year="year",e.AllTime="all-time"}(ky||(ky={})),function(e){e[e.Year=0]="Year",e[e.Month=1]="Month",e[e.Week=2]="Week",e[e.Day=3]="Day",e[e.Hour=4]="Hour",e[e.Minutes=5]="Minutes",e[e.RealTime=6]="RealTime"}(Ry||(Ry={}));var Yy=a("r4sE"),Ky=a("sWYD"),qy=a("M34a"),Zy=a("rT61"),Xy=a.n(Zy);function Jy({className:e,separator:t}){return Uu()("span",{className:e},void 0,t)}Jy.defaultProps={className:Xy.a.separator,separator:""};var $y=Jy,ef=a("G6Tw");function tf(e){if(null==e)return!1;var t=Object(Xc.a)(e);return Object(ef.a)(new Date,t)}var af=["bps","Kbps","Mbps","Gbps","Tbps"];var rf=function(e,t=2){if(0===e)return(0).toFixed(t)+" "+af[0];var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,a)).toFixed(t)+" "+af[a]},nf=["B","KB","MB","GB","TB"];var sf=function(e,t=2){if(0===e)return(0).toFixed(t)+" "+nf[0];var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,a)).toFixed(t)+" "+nf[a]},of=a("EOrL"),lf=a.n(of),{Fragment:cf}=Ed.a,df=({children:e,className:t=lf.a.container,errorClassName:a=lf.a.errorMessage,isSpinnerVisible:i,errorMessage:r})=>Uu()("div",{className:t},void 0,r?Uu()(Jv,{className:a},void 0,r):Uu()(cf,{},void 0,i?Uu()(bp,{className:lf.a.spinner,size:gp.Large}):null,e)),uf=a("CsFZ"),pf=a.n(uf),hf=Ed.a.createElement,mf=e=>hf(df,tp()({},e,{className:pf.a.container,errorClassName:pf.a.errorMessage}));function vf(e){return null==e?"":0===e?Object(Ze.default)("Now").toUpperCase():e%60==0?Math.floor(e/60)+"m":e>60?Math.floor(e/60)+"m "+e%60+"s":e+"s"}function gf(e){return e.displayName||e.name||"Component"}var yf=a("TyAO"),ff=Ed.a.createElement,{Component:bf}=Ed.a;var If=function(e,t){var a=Object.keys(t);class i extends bf{constructor(e,t){super(e,t),this.state=a.reduce((e,t)=>(e[t]=null,e),{})}componentDidMount(){this._pairs=a.map(e=>[e,Object(yf.a)(t[e]())]),this._pairs.forEach(([e,t])=>{t.promise.then(t=>{this.setState({[e]:t})})})}componentWillUnmount(){this._pairs.forEach(([e,t])=>{t.cancel()})}render(){return ff(e,tp()({},this.props,this.state))}}return i.displayName="AsyncProps("+gf(e)+":"+a.join(",")+")",i.WrappedComponent=e,i};function Sf(e,t,a,i,r,n){var s=t-n,o=i>=0?1:-1,l=i>=0?1:0,c=Math.min(Math.abs(a)/2,Math.abs(i)/2),d=Math.min(c,r);return"M "+e+","+(s+o*d)+"\n    A "+d+","+d+",0,0,"+l+","+(e+d)+","+s+"\n    L "+(e+a-d)+","+s+"\n    A "+d+","+d+",0,0,"+l+","+(e+a)+","+(s+o*d)+"\n    L "+(e+a)+","+(s+i-o*d)+"\n    A "+d+","+d+",0,0,"+l+","+(e+a-d)+","+(s+i)+"\n    L "+(e+d)+","+(s+i)+"\n    A "+d+","+d+",0,0,"+l+","+e+","+(s+i-o*d)+" Z"}var Mf=function(e){var{x:t,y:a,width:i,height:r,radius:n,fill:s,barGap:o,data:l,dataKey:c,seriesOrdering:d,seriesIndex:u}=e,p=d.slice(0,u),h=l.find(t=>t[c]===e[c]),m=p.reduce((e,t)=>(0!==h[t]&&e++,e),0)*o;return Uu()("path",{d:Sf(t,a,i,r,n,m),fill:s})},Cf=a("dSJO"),Df=a.n(Cf),{Component:Pf}=Ed.a;class Of extends Pf{constructor(...e){super(...e),this.onPress=()=>{var{dataKey:e,onPress:t}=this.props;t&&t(e)},this.onMouseEnter=()=>{var{dataKey:e,onMouseEnter:t}=this.props;t&&t(e)}}render(){var{className:e,title:t,labelColor:a,onMouseLeave:i}=this.props;return(Uu()(Vp,{className:e,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:i},void 0,Uu()("span",{className:Df.a.dot,style:{backgroundColor:a}}),t))}}Of.defaultProps={className:Df.a.legendLabel};var jf=Of,Tf=a("J9Q8"),wf=a.n(Tf),{Component:Ef,Fragment:Nf}=Ed.a,xf=Uu()($y,{}),Af=Uu()($y,{});class Lf extends Ef{componentDidUpdate(e,t){var{active:a,onActive:i,onInactive:r}=this.props,{active:n}=e;!n&&a&&i?i():n&&!a&&r&&r()}render(){var{active:e,label:t,payload:a,series:i,showTotal:r,labelFormatter:n,valueFormatter:s}=this.props;if(!e||!a)return null;var o=n?n(t):t,l=r?a.reduce((e,t)=>e+t.value,0):null;return Uu()("div",{className:wf.a.container},void 0,Uu()("div",{className:wf.a.label},void 0,o),Uu()("div",{className:wf.a.separator}),Uu()("div",{},void 0,Uu()("div",{className:wf.a.values},void 0,a.map(e=>{var t=i.find(t=>t.dataKey===e.dataKey).title;return(Uu()("div",{className:wf.a.valueRow},e.dataKey,Uu()(jf,{className:wf.a.LegendLabel,title:t,labelColor:e.color}),xf,s(e.value)))})),r?Uu()(Nf,{},void 0,Uu()("div",{className:wf.a.separator}),Uu()("div",{className:wf.a.total},void 0,Object(Ze.default)("Total"),Af,s(l))):null))}}Lf.defaultProps={showTotal:!0};var kf=Lf,Rf=a("VqzW"),zf=a.n(Rf),Uf=Ed.a.createElement,{Component:Vf}=Ed.a;function Bf(e){return e.every(e=>e.visible)}function Ff(e){return function(t){return Uf(Mf,tp()({},t,e))}}class Hf extends Vf{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{var{series:e,legendSummary:t,onLegendPress:a}=this.props,{hoveredDataKey:i}=this.state;return Uu()("div",{className:zf.a.legendContainer},void 0,Uu()("div",{className:zf.a.legendLabels},void 0,e.map(e=>{var t=!e.visible||i&&i!==e.dataKey&&!e.selected;return(Uu()(jf,{className:t?zf.a.translucentLegendLabel:zf.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.dataKey))})),t?Uu()("div",{className:zf.a.legendSummary},void 0,t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){var{recharts:a,onChartReady:i}=this.props;!e.recharts&&a&&i&&i()}render(){var{className:e,recharts:t,width:a,height:i,series:r,data:n,xAxisKey:s,stacked:o,isAnimationActive:l,showTooltipTotal:c,chartMargin:d,gridLinesStyles:u,barGap:p,legendHeight:h,tooltipLabelFormatter:m,tooltipValueFormatter:v,xAxisDomain:g,xAxisStyle:y,xAxisPadding:f,xAxisTick:b,xAxisTickMargin:I,xAxisTickLineStyle:S,xAxisTickFormatter:M,yAxisDomain:C,yAxisWidth:D,yAxisStyle:P,yAxisPadding:O,yAxisTick:j,yAxisTickMargin:T,yAxisTickLineStyle:w,yAxisTickFormatter:E}=this.props,{hoveredDataKey:N}=this.state;if(!t)return null;var x,{CartesianGrid:A,Legend:L,BarChart:k,Bar:R,ResponsiveContainer:z,Tooltip:U,XAxis:V,YAxis:B}=t,F=r.map(e=>e.dataKey);return Uu()(z,{className:e,width:a,height:i},void 0,Uu()(k,{data:n,margin:d},void 0,Uf(A,u),Uu()(V,{domain:g,axisLine:y,dataKey:s,padding:f,tick:b,tickLine:S,tickMargin:I,minTickGap:0,tickFormatter:M}),Uu()(B,{domain:C,axisLine:P,padding:O,tick:j,tickLine:w,tickMargin:T,tickCount:6,tickFormatter:E,width:D}),Uu()(U,{cursor:!1,isAnimationActive:!1,content:(x={series:r,showTotal:c,labelFormatter:m,valueFormatter:v},function(e){return Uf(kf,tp()({},e,x))})}),r.map((e,t)=>Uu()(R,{className:N&&N!==e.dataKey&&Bf(r)?zf.a.translucentBar:zf.a.bar,dataKey:e.dataKey,shape:Ff({barGap:o?p:0,data:n,dataKey:s,seriesOrdering:F,seriesIndex:t}),radius:2,fill:e.color,isAnimationActive:l,stackId:o?"stacked":null,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave},e.dataKey)),Uu()(L,{height:h,content:this.renderLegend,wrapperStyle:{paddingLeft:D+"px"}})))}}Hf.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var _f=If(Hf,{recharts:()=>a.e(0).then(a.bind(null,"4XXU"))});var Qf=function(e){var{x:t,y:a,margin:i,fill:r,fontSize:n,index:s,visibleTicksCount:o,payload:l,tickFormatter:c}=e,d="middle";0===s?d="start":s+1===o&&(d="end");var u=c?c(l.value):l.value;return(Uu()("g",{transform:"translate("+t+","+a+")"},void 0,Uu()("text",{dy:i,fill:r,fontSize:n,textAnchor:d},void 0,u)))},Wf=a("4ovG"),Gf=a.n(Wf),Yf=Ed.a.createElement,{Component:Kf}=Ed.a;function qf(e){return e.every(e=>e.visible)}function Zf(e){return function(t){return Yf(kf,tp()({},t,e))}}class Xf extends Kf{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hoveredDataKey:e})},this.onMouseLeave=()=>{this.setState({hoveredDataKey:null})},this.renderLegend=()=>{var{series:e,legendSummary:t,onLegendPress:a}=this.props,{hoveredDataKey:i}=this.state;return Uu()("div",{className:Gf.a.legendContainer},void 0,Uu()("div",{className:Gf.a.legendLabels},void 0,e.map(e=>{var t=!e.visible||i&&i!==e.dataKey&&!e.selected;return(Uu()(jf,{className:t?Gf.a.translucentLegendLabel:Gf.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},e.dataKey))})),t?Uu()("div",{className:Gf.a.legendSummary},void 0,t):null)},this.state={hoveredDataKey:null}}componentDidUpdate(e,t){var{recharts:a,onChartReady:i}=this.props;!e.recharts&&a&&i&&i()}render(){var{className:e,recharts:t,width:a,height:i,series:r,data:n,xAxisKey:s,connectNulls:o,lineType:l,lineStrokeWidth:c,isAnimationActive:d,showTooltipTotal:u,chartMargin:p,gridLinesStyles:h,legendHeight:m,tooltipLabelFormatter:v,tooltipValueFormatter:g,dot:y,xAxisDomain:f,xAxisStyle:b,xAxisPadding:I,xAxisTick:S,xAxisTickInterval:M,xAxisTickMargin:C,xAxisTickLineStyle:D,xAxisTickFormatter:P,yAxisDomain:O,yAxisWidth:j,yAxisStyle:T,yAxisPadding:w,yAxisTick:E,yAxisTickMargin:N,yAxisTickLineStyle:x,yAxisTickFormatter:A,onTooltipActive:L,onTooltipInactive:k}=this.props,{hoveredDataKey:R}=this.state;if(!t)return null;var z,{CartesianGrid:U,Legend:V,LineChart:B,Line:F,ResponsiveContainer:H,Tooltip:_,XAxis:Q,YAxis:W}=t,G=[...r].reverse();return Uu()(H,{className:e,width:a,height:i},void 0,Uu()(B,{data:n,margin:p},void 0,Yf(U,h),Uu()(Q,{domain:f,axisLine:b,dataKey:s,padding:I,tick:(z=Object.assign({},S,{margin:C,tickFormatter:P}),function(e){return Yf(Qf,tp()({},e,z))}),tickLine:D,minTickGap:0,interval:M}),Uu()(W,{domain:O,axisLine:T,padding:w,tick:E,tickLine:x,tickMargin:N,tickCount:6,tickFormatter:A,width:j}),Uu()(_,{cursor:!1,isAnimationActive:!1,content:Zf({series:r,showTotal:u,labelFormatter:v,valueFormatter:g,onActive:L,onInactive:k})}),G.map(e=>Uu()(F,{className:R&&R!==e.dataKey&&qf(r)?Gf.a.translucentLine:Gf.a.line,type:l,dataKey:e.dataKey,dot:y,stroke:e.color,strokeWidth:c,connectNulls:o,isAnimationActive:d,onMouseEnter:this.onMouseEnter.bind(null,e.dataKey),onMouseLeave:this.onMouseLeave},e.dataKey)),Uu()(V,{height:m,content:this.renderLegend,wrapperStyle:{paddingLeft:j+"px"}})))}}Xf.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var Jf=If(Xf,{recharts:()=>a.e(0).then(a.bind(null,"4XXU"))}),{Fragment:$f,useCallback:eb,useMemo:tb,useState:ab}=Ed.a;function ib(e){return tf(e)||Object(zy.a)(Object(qy.a)(new Date))<=e}function rb(e,t,a,i=!1){if(Qy(t)===Ry.Day&&tf(e)){var r=Object(Ze.default)("Today");return i?r.toUpperCase():r}return Object(Ky.a)(Object(Xc.a)(e),a)}var nb=Uu()($y,{}),sb=Uu()($y,{}),ob=({isRemoteVisible:e,isLocalVisible:t,summedData:a})=>{var i=e&&t;return(Uu()($f,{},void 0,i?Object(Ze.default)("Averages"):Object(Ze.default)("Average"),": ",i?Uu()($f,{},void 0,Ly(My.Remote),nb):null,e?rf(8*(a[My.Remote]||0)/120,0):null,i?Uu()($f,{},void 0," | ",Ly(My.Local),sb):null,t?rf(8*(a[My.Local]||0)/120,0):null))},lb=Uu()($y,{}),cb=Uu()($y,{}),db=({isRemoteVisible:e,isLocalVisible:t,summedData:a})=>{var i=e&&t;return(Uu()($f,{},void 0,i?Object(Ze.default)("Totals"):Object(Ze.default)("Total"),": ",i?Uu()($f,{},void 0,Ly(My.Remote),lb):null,e?sf(a[My.Remote],0):null,i?Uu()($f,{},void 0," | ",Ly(My.Local),cb):null,t?sf(a[My.Local],0):null))},ub=({statistics:e,activeBandwidthSourceType:t,responseTimestampMilliseconds:a,activeTimePeriod:i,isPending:r,isPopulated:n,errorMessage:s,onGraphBandwidthSourceTypeSelect:o,onGraphTooltipActive:l,onGraphTooltipInactive:c})=>{var d=ab(!1),u=d[1],p=d[0],h=i===ky.RealTime,{data:m,summedData:v}=tb(()=>h?function(e,t,a){if(null==a)return{data:[],summedData:{}};var i=t===My.All||t===My.Remote,r=t===My.All||t===My.Local,n=Math.floor(a/1e3)-120-1,s=Array.from(new Array(121),(e,t)=>({at:n+t,date:120-t,[My.Remote]:i?0:void 0,[My.Local]:r?0:void 0})),o={};return e.forEach(e=>{var{at:t,lan:a,bytes:n}=e,l=s.findIndex(e=>e.at===Number(t));if(-1!==l){var c=s[l];!a&&i&&(c[My.Remote]=(c[My.Remote]||0)+n,o[My.Remote]=(o[My.Remote]||0)+n),a&&r&&(c[My.Local]=(c[My.Local]||0)+n,o[My.Local]=(o[My.Local]||0)+n),s[l]=c}}),{data:s,summedData:o}}(e,t,a):function(e,t){var a=t===My.All||t===My.Remote,i=t===My.All||t===My.Local,r={},n={};return e.forEach(e=>{var{at:t,lan:s,bytes:o}=e,l=String(t);r[l]||(r[l]={}),!s&&a&&(r[l][My.Remote]=(r[l][My.Remote]||0)+o,n[My.Remote]=(n[My.Remote]||0)+o),s&&i&&(r[l][My.Local]=(r[l][My.Local]||0)+o,n[My.Local]=(n[My.Local]||0)+o)}),{data:Object.keys(r).sort().map(e=>{var t=r[e],a=parseInt(e,10);return Object.assign({},t,{at:a,date:a})}),summedData:n}}(e,t),[t,h,a,e]),g=t===My.All||t===My.Remote,y=t===My.All||t===My.Local,f=[{dataKey:My.Remote,title:Ly(My.Remote),visible:g,selected:t===My.Remote,color:"#366dfc"},{dataKey:My.Local,title:Ly(My.Local),visible:y,selected:t===My.Local,color:"#e69f23"}],b=h?Jf:_f,I=h?ob:db,S=!p||(h?!n:r),M=h?n:!r&&n,C=eb(e=>0===e?Object(Ze.default)("Now"):Object(Ze.default)("{unitOfTime} ago",{unitOfTime:vf(e)}),[]),D=eb(e=>{if(Qy(i)===Ry.Week){var t=rb(e,i,Gy(i,!0)),a=Object(zy.a)(Object(Yy.a)(Object(Xc.a)(e),1));return tf(e)&&ib(a)?Object(Ze.default)("Today"):t+" - "+rb(a,i,Gy(i,!0))}return rb(e,i,Gy(i,!0))},[i]),P=eb(e=>rf(8*e,0),[]),O=eb(e=>sf(e,0),[]),j=eb(e=>vf(e),[]),T=eb(e=>{if(i===ky.Month){var t=rb(e,i,Gy(i)),a=Object(zy.a)(Object(Yy.a)(Object(Xc.a)(e),1));return tf(e)&&ib(a)?Object(Ze.default)("Today").toUpperCase():t+" - "+rb(a,i,Gy(i))}return rb(e,i,Gy(i),!0)},[i]),w=eb(e=>0===e?"":h?rf(8*e,0):sf(e,0),[h]),E=eb(()=>{u(!0)},[]);return Uu()(mf,{isSpinnerVisible:S,errorMessage:s},void 0,M?Uu()(b,{width:"100%",height:280,series:f,data:m,legendSummary:Uu()(I,{isRemoteVisible:g,isLocalVisible:y,summedData:v}),isAnimationActive:!h,xAxisTickInterval:h?9:null,tooltipLabelFormatter:h?C:D,tooltipValueFormatter:h?P:O,xAxisTickFormatter:h?j:T,yAxisTickFormatter:w,onLegendPress:o,onChartReady:E,onTooltipActive:l,onTooltipInactive:c}):null)},pb=a("cV2A"),hb=a.n(pb),{useCallback:mb,useEffect:vb,useMemo:gb,useRef:yb,useState:fb}=Ed.a,bb=()=>{var e=Object(Fu.c)(),[t]=wv(),a=yb(null),i=fb(My.All),r=i[1],n=i[0],s=gb(()=>[My.All,My.Remote,My.Local],[]),o=fb(ky.RealTime),l=o[1],c=o[0],d=fb(c),u=d[1],p=d[0],h=gb(()=>[ky.RealTime,ky.TwelveHours,ky.Day,ky.Week,ky.Month,ky.NinetyDays,ky.Year,ky.AllTime],[]),m=Qa(t.version,Ka.dashboardBandwidthChart),{statistics:v,isPending:g,isPopulated:y,error:f,requestTimestampMilliseconds:b,responseTimestampMilliseconds:I}=Object(Fu.d)(Ay),S=Rv(g,!0),M=mb(()=>{e(Ln.actions.bandwidthFetchRequested({server:t,timespan:Qy(c),after:Wy(c)}))},[c,e,t]),C=mb(()=>{e(Ln.actions.bandwidthAbortRequested())},[e]),D=mb(e=>{r(e)},[]),P=mb(e=>{l(e)},[]),O=mb(e=>{var t=e===n?My.All:e;r(t)},[n]),j=mb(()=>{c===ky.RealTime&&(a.current&&window.clearTimeout(a.current),C())},[c,C]),T=mb(()=>{c===ky.RealTime&&M()},[c,M]);return vb(()=>(m&&M(),C),[m,M,C]),vb(()=>{if(c===ky.RealTime&&b){var e=Date.now()-b,t=Math.max(1e3-e,0);a.current=window.setTimeout(M,t)}return()=>{a.current&&window.clearTimeout(a.current)}},[b,M,c]),vb(()=>{u(c)},[v]),Uu()("div",{className:hb.a.container},void 0,Uu()(Vv,{title:Object(Ze.default)("Bandwidth")},void 0,m?Uu()("div",{},void 0,Uu()(wy,{values:s,activeValue:n,formatter:Ly,onSelect:D}),Uu()(wy,{values:h,activeValue:c,formatter:_y,onSelect:P})):null),Uu()("div",{className:hb.a.graph},void 0,m?Uu()(ub,{statistics:v,responseTimestampMilliseconds:I,activeBandwidthSourceType:n,activeTimePeriod:p,isPending:S,isPopulated:y,errorMessage:f?Object(Ze.default)("Unable to load statistics"):null,onGraphBandwidthSourceTypeSelect:O,onGraphTooltipActive:j,onGraphTooltipInactive:T}):Uu()(tg,{},void 0,Object(Ze.default)("The Bandwidth chart requires Plex Media Server {version} or higher",{version:Ka.dashboardBandwidthChart}))))};function Ib(...e){return function(...t){for(var a=0,i=e.length;a<i;a++){var r=e[a];"function"==typeof r&&r(...t)}}}var Sb="topCenter",Mb=a("B854"),Cb=a.n(Mb),Db=Ed.a.createElement,Pb=mg(Dg.a.tooltipSpeed),Ob={opacity:{ease:"easeOut",duration:Pb},y:{ease:Tg.a.motionEasing,duration:Pb},x:{ease:Tg.a.motionEasing,duration:Pb},scale:{ease:Tg.a.motionEasing,duration:Pb}},jb=ag.b.div({before:{opacity:0,y:({attachment:e})=>{switch(e){case"topLeft":case Sb:case"topRight":return 5;case"bottomLeft":case"bottomCenter":case"bottomRight":return-5;case"middleLeft":case"middleRight":default:return 0}},x:({attachment:e})=>{switch(e){case"topLeft":case Sb:case"topRight":return 0;case"bottomLeft":case"bottomCenter":case"bottomRight":return 0;case"middleLeft":return 5;case"middleRight":return-5;default:return 0}},scale:.95,transition:Ob},enter:{opacity:1,y:0,x:.001,scale:1,transition:Ob},exit:{opacity:0,y:({attachment:e})=>{switch(e){case"topLeft":case Sb:case"topRight":return-5;case"bottomLeft":case"bottomCenter":case"bottomRight":return 5;case"middleLeft":case"middleRight":default:return 0}},x:({attachment:e})=>{switch(e){case"topLeft":case Sb:case"topRight":return 0;case"bottomLeft":case"bottomCenter":case"bottomRight":return 0;case"middleLeft":return-5;case"middleRight":return 5;default:return 0}},scale:.95,transition:Ob}}),Tb={topLeft:{placement:"top-start"},[Sb]:{placement:"top"},topRight:{placement:"top-end"},bottomLeft:{placement:"bottom-start"},bottomCenter:{placement:"bottom"},bottomRight:{placement:"bottom-end"},middleLeft:{placement:"left"},middleRight:{placement:"right"}};function wb(e){var{children:t,className:a,target:i,attachment:r,options:n,isOpen:s}=e,o=Je()(e,["children","className","target","attachment","options","isOpen","onMenuClose"]);return(Uu()(hg,{className:Cb.a.tooltipPortal,target:i,options:n||Tb[r],isOpen:s,closeTimeout:Pb},void 0,Uu()(ag.a,{animateOnMount:!0,preEnterPose:"before",flipMove:!1},void 0,s?Db(jb,tp()({key:"container",attachment:r,className:a||Cb.a[r]},o),t):null)))}wb.defaultProps={attachment:"bottomCenter"};var Eb=wb,Nb=Ed.a.createElement;var xb=function(e){var{children:t}=e,a=Je()(e,["children"]);return(Nb("div",a,t))},Ab=Ed.a.createElement,{Component:Lb,Fragment:kb}=Ed.a;class Rb extends Lb{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.props.showOnHover&&(this._isHovered=!0,this.setState({isOpen:!0}))},this.onMouseLeave=e=>{this.props.showOnHover&&(this._isHovered=!1,this.setState({isOpen:this._isFocused}))},this.onFocus=e=>{this.props.showOnFocus&&(this._isFocused=!0,this.setState({isOpen:!0}))},this.onBlur=e=>{this.props.showOnFocus&&(this._isFocused=!1,this.setState({isOpen:this._isHovered}))},this.onPress=e=>{this.props.hideOnPress&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},this.state={isOpen:!1},this._isHovered=!1,this._isFocused=!1,this._targetID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){var{hideOnDisabled:t,isDisabled:a}=this.props,{isOpen:i}=this.state;i&&t&&a&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))}render(){var e=this.props,{id:t,component:a,tooltip:i,tooltipClassName:r,tooltipFocusedClassName:n,tooltipAttachment:s,tooltipTarget:o,tooltipOptions:l,onMouseEnter:c,onMouseLeave:d,onFocus:u,onBlur:p,onPress:h}=e,m=Je()(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),{isOpen:v}=this.state,g=this._isFocused&&n?n:r;return Uu()(kb,{},void 0,Ab(a,tp()({id:t||this._targetID,onMouseEnter:Ib(this.onMouseEnter,c),onMouseLeave:Ib(this.onMouseLeave,d),onFocus:Ib(this.onFocus,u),onBlur:Ib(this.onBlur,p),onPress:Ib(this.onPress,h)},m)),i?Uu()(Eb,{className:g,attachment:s,options:l,target:o||t||this._targetID,isOpen:v},void 0,i):null)}}Rb.defaultProps={component:xb,showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};var zb=Rb,Ub=Object(_u.a)(Ey,e=>e.core);var Vb=Object(uv.a)((function(e){return Object(_u.a)(Ub,t=>t.serverNowPlayingSessions[e])})),Bb=a("dz8L");function Fb(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Fb.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Hb=Fb,_b=a("FdSe"),{useEffect:Qb,useRef:Wb}=Ed.a;function Gb(e){var t=Wb();return Qb(()=>{t.current=e},[e]),t.current}var{useEffect:Yb}=Ed.a;var Kb=a("yYIf"),{useEffect:qb}=Ed.a;function Zb(e,t=!0){var{metricsPage:a,metricsContextTuple:i}=Object(_b.d)();qb(()=>{t?Object(ie.c)("metrics").trackView(Object.assign({},e,{page:a,contextTuple:i})):Kb.a.startPeriod("client:view:"+a)},[t,i,a,JSON.stringify(e)])}var Xb=Ed.a.createElement,{useCallback:Jb,useEffect:$b,useState:eI}=Ed.a,tI=({className:e,style:t,children:a,forwardedRef:i,isOpen:r=!0,closeDelay:n=0,allowInteractionEventBubbling:s=!1,onOpen:o,onClose:l})=>{var c=eI(r),d=c[1],u=c[0],p=Jb(e=>{s||e.stopPropagation()},[s]);return $b(()=>{var e;return r?(d(!0),null==o||o()):e=window.setTimeout(()=>{d(!1),null==l||l()},n),()=>{e&&window.clearTimeout(e)}},[n,r,l,o]),u?Bu.a.createPortal(Xb("div",{className:e,style:t,ref:i,onTouchStart:p,onTouchMove:p,onTouchEnd:p,onTouchCancel:p,onMouseDown:p,onMouseUp:p,onClick:p,onFocus:p,onBlur:p},a),document.body):null},aI=Ed.a.forwardRef((e,t)=>Xb(tI,tp()({},e,{forwardedRef:t}))),iI=a("roui"),rI=a.n(iI),nI=Ed.a.createElement,{useCallback:sI,useEffect:oI,useRef:lI}=Ed.a,cI=mg(Dg.a.modalSpeed),dI={ease:"easeOut",duration:cI},uI={ease:Tg.a.motionEasing,duration:cI},pI={opacity:dI},hI=ag.b.div({enter:{opacity:1,transition:pI},exit:{opacity:0,transition:pI}}),mI={scale:uI,opacity:dI},vI=ag.b.div({enter:{opacity:1,scale:1,transition:mI},exit:{opacity:0,scale:.95,transition:mI}});function gI(e){if(function(e){return e.nativeEvent instanceof MouseEvent}(e))return e.target;var t=e.changedTouches;if(1===t.length){var a=t[0];return document.elementFromPoint(a.clientX,a.clientY)}return null}function yI(e,t){var a=gI(e);if(a){var i=Bu.a.findDOMNode(t);return!i||!i.contains(a)}return!1}var fI=({children:e,className:t,backdropClassName:a=rI.a.modalBackdrop,containerClassName:i=rI.a.modalContainer,size:r=gp.Medium,isOpen:n,shouldTrackOnClose:s=!1,preventCloseOnBackdropPress:o=!1,onModalClose:l})=>{var c=lI(null),d=lI(!1),u=sI(e=>{d.current=yI(e,c.current)},[]),p=sI(e=>{!o&&d.current&&yI(e,c.current)&&l(),d.current=!1},[l,o]),h=sI(e=>{d.current=!1},[]),m=sI(e=>{d.current=!1},[]),v=sI(e=>{var t=e.keyCode;9===t?Ig(e):27===t&&(e.preventDefault(),e.stopPropagation(),l(),Mg())},[l]),g=sI(e=>{c.current=e,e&&bg(Bu.a.findDOMNode(e))},[]);return Zb({},n),function(e,t=!1){var{metricsPage:a}=Object(_b.d)(),i=Gb(e);Yb(()=>{i&&!e&&t&&Object(ie.c)("metrics").trackView({page:a,action:kd.t})},[e,i,t,a])}(n,s),oI(()=>{var e;return n&&(e=window.setTimeout(Sg,cI),document.addEventListener("keydown",v)),()=>{e&&window.clearTimeout(e),n&&document.removeEventListener("keydown",v)}},[n,v]),Uu()(aI,{isOpen:n,closeDelay:cI,className:i},void 0,Uu()(ag.a,{animateOnMount:!0},void 0,n?Uu()(hI,{className:a,onMouseDown:u,onMouseUp:p,onTouchStart:u,onTouchEnd:p,onTouchMove:h,onTouchCancel:m},"backdrop",nI(vI,{key:"modal",className:t||rI.a[r],initialPose:"exit",pose:"enter",ref:g},e)):void 0))},bI=a("s5ij"),II=a.n(bI),SI=Ed.a.createElement,MI=e=>{var{children:t,className:a,innerClassName:i=II.a.innerModalBody}=e,r=Je()(e,["children","className","innerClassName"]),n=r.scrollDirection!==$u.None;return a||(a=n?II.a.modalScroller:II.a.modalBody),SI(up,tp()({},r,{className:a}),n?Uu()("div",{className:i},void 0,t):t)};function CI(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}CI.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var DI=CI,PI=a("dO6p"),OI=a.n(PI),jI=Uu()(DI,{}),TI=({children:e,className:t=OI.a.modalContent,onModalClose:a})=>Uu()("div",{className:t},void 0,Uu()(qv,{className:OI.a.closeButton,onPress:a},void 0,jI),e),wI=a("G5wA"),EI=a.n(wI),NI=({children:e,className:t=EI.a.modalHeader})=>Uu()("div",{className:t},void 0,e),xI=a("ZZfJ"),AI=a.n(xI),LI=({isOpen:e,errorMessage:t,metricsPage:a,onModalClose:i})=>Uu()(_b.a,{metricsPage:a},void 0,Uu()(fI,{isOpen:e,size:gp.Small,onModalClose:i},void 0,Uu()(TI,{onModalClose:i},void 0,Uu()(NI,{className:AI.a.modalHeader},void 0,Object(Ze.default)("Error")),Uu()(MI,{},void 0,t))));function kI(e){var{className:t,style:a,src:i,width:r,height:n,backgroundSize:s,backgroundPosition:o,backgroundRepeat:l}=e;return(Uu()("div",{className:t,style:Object.assign({width:r,height:n,backgroundImage:"url("+i+")",backgroundSize:s,backgroundPosition:o,backgroundRepeat:l},a)}))}kI.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var RI=kI,zI=a("UadQ"),UI=a.n(zI),VI=Ed.a.createElement,{useLayoutEffect:BI,useRef:FI}=Ed.a;function HI(e,t,a){var{className:i,style:r,styleProps:n,durationMilliseconds:s,useCrossFade:o}=a,l=document.createElement("div");l.className=(i||"")+" "+(o&&UI.a.crossFade||""),Object.assign(l.style,Object.assign({position:"absolute",animationDuration:s+"ms",backgroundImage:"url("+e+")",width:"100%",height:"100%"},n,r)),t.appendChild(l)}function _I(e){var{className:t,style:a,containerClassName:i,containerStyle:r,src:n,width:s,height:o,backgroundSize:l,backgroundPosition:c,backgroundRepeat:d,animateOnMount:u,disableCrossFade:p,durationMilliseconds:h}=e,m=FI(null),v=FI(!0),g=Object.assign({position:"relative",width:s,height:o},r);return BI(()=>{var e=v.current;v.current=!1;var i,r,s={className:t,style:a,styleProps:{backgroundSize:l,backgroundPosition:c,backgroundRepeat:d},durationMilliseconds:h,useCrossFade:!e||u};return p&&(s.useCrossFade=!1),e?HI(n,m.current,s):i=window.requestAnimationFrame(()=>{i=null,HI(n,m.current,s),r=window.setTimeout(()=>{for(;m.current.childNodes.length>1;)(e=m.current).removeChild(e.childNodes[0]);var e},2*h)}),()=>{i&&window.cancelAnimationFrame(i),r&&window.clearTimeout(r)}},[t,a,n,l,c,d]),VI("div",{className:i,style:g,ref:m})}_I.defaultProps=Object.assign({},RI.defaultProps,{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:mg(Dg.a.slowSpeed)});var QI=_I;var WI=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))};var GI=function(e,t){var a;if(e.Part.length>1)for(var i=0,r=0,n=e.Part.length;r<n&&(a=e.Part[r]).duration&&!((i+=a.duration)>t);r++);else a=D.a.first(e.Part);return a};var YI=function(e,t,a){var i=a;if(e.Part.length>1)for(var r=0,n=e.Part.length;r<n;r++){var s=e.Part[r];if(!s.duration)break;if(t.key===s.key)break;i-=s.duration}return i};var KI=function(e,t){if(e.indexes){var a=e.indexes.split(",");if(a.length)return D.a.indexOf(a,t)>-1?t:a[0]}};var qI=function(e,t,a){var i=GI(e,t);if(a=KI(i,a)){var r=YI(e,i,t);return"/library/parts/"+i.id+"/indexes/"+a+"/"+r}},ZI=a("dvhI");function XI(e,t){var a=D.a.invert(e);return D.a.reduce(e,(e,i)=>(e[i]=t[a[i]],e),{})}var JI={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},$I=new(Ee.a.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo",ROM:"rom"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize(){this.typeByElement=XI(this.elements,this.types),this.elementByType=XI(this.types,this.elements),this.typeByStream=XI(this.streams,this.types),this.streamByType=XI(this.types,this.streams),this.statebyCastState=XI(this.castStates,this.states),this.castStateByState=XI(this.states,this.castStates)},getTypeByElement(e){return this.typeByElement[e]},getElementByType(e){return this.elementByType[e]},getTypeByStream(e){return this.typeByStream[e]},getStreamByType(e){return this.streamByType[e]},getStateByCastState(e){return this.statebyCastState[e]},getCastStateByState(e){return this.castStateByState[e]},getSlideshowStateByState:e=>JI[e]}));function eS(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}eS.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var tS=eS;function aS(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-watch-together"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M32 21c3.32 0 5.98-2.68 5.98-6S35.32 9 32 9c-3.32 0-6 2.68-6 6s2.68 6 6 6zm-15.999 0c3.32 0 5.979-2.68 5.979-6s-2.659-6-5.979-6c-3.32 0-6 2.68-6 6s2.68 6 6 6zm0 4C11.341 25 2 27.73 2 33.167V39h28v-5.833C30 27.73 20.66 25 16.001 25zM32 25c-.58 0-1.24.047-1.94.117 2.32 1.96 3.94 4.596 3.94 8.05V39h12v-5.833C46 27.73 36.66 25 32 25z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}aS.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var iS=aS,rS={"com.tidal":tS,"com.watchtogether":iS};var nS=function(e){var t=rS[e.attribution];return t?Uu()("div",{className:e.className},void 0,Uu()(t,{})):null},sS=[/alexa/i,/sonos/i],oS={};var{useCallback:lS,useEffect:cS,useRef:dS,useState:uS}=Ed.a;function pS(){var e=uS(!1),t=e[1],a=e[0],i=dS(null),r=lS(()=>t(!0),[]),n=lS(()=>t(!1),[]);return cS(()=>{var e=i.current;return e&&(e.addEventListener("mouseenter",r),e.addEventListener("mouseleave",n)),()=>{e&&(e.removeEventListener("mouseenter",r),e.removeEventListener("mouseleave",n))}},[r,n]),[a,i]}var hS="large-720",mS=Ed.a.createElement,{useEffect:vS,useRef:gS,useState:yS}=Ed.a;function fS(e){e&&(e.onload=e.onabort=e.onerror=void 0)}function bS(e){var{src:t,emptySrc:a,component:i,preloadOnMount:r,onLoad:n,onError:s}=e,o=Je()(e,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),l=yS(r?null:t),c=l[1],d=l[0],u=yS(null),p=u[1],h=u[0],m=gS(r);return vS(()=>{if(m.current){if(t){var e=new window.Image;return e.onload=()=>{e=fS(e),c(t),p(null)},e.onabort=e.onerror=()=>{e=fS(e),c(null),p(new Error("Unable to load "+t))},e.src=t,()=>{e=fS(e)}}}else m.current=!0},[t]),vS(()=>{!t&&d&&c(null)},[d,t]),vS(()=>{d&&n&&n(d)},[d,n]),vS(()=>{h&&s&&s(h)},[h,s]),mS(i,tp()({},o,{src:d||a}))}bS.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:RI,preloadOnMount:!0};var IS=bS,SS=Ed.a.createElement,{memo:MS,useEffect:CS,useRef:DS,useState:PS}=Ed.a,OS=new Lm,jS={},TS={},wS=["small-60","small-120","medium-240","medium-360","large-480",hS,"large-1280","large-1920"].sort((e,t)=>ES(e)-ES(t));function ES(e){if(TS.hasOwnProperty(e))return TS[e];var t=e.split("-")[1];return TS[e]=t,t}function NS(e){var t=e.allowPixelRatioSize?km():1,a=e.size||function(e){if(jS.hasOwnProperty(e))return jS[e];var t=wS.find(t=>ES(t)>=e)||wS[wS.length-1];return jS[e]=t,t}(e.width);if(e.supportsSize)return{size:a,scale:Math.ceil(t)};var i=ES(a),r=e.height/e.width;return{width:Math.ceil(i*t),height:Math.ceil(r*i*t),minSize:e.minSize?1:void 0,upscale:e.upscale?1:void 0}}function xS(e){var t,a,{url:i,allowImageBlobs:r,onError:n}=e,s=Je()(e,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowImageBlobs","supportsSize","onError"]),o=function(e,t){if(e){var a=Object.assign(NS(t),t.filters);t.format&&(a.format=t.format),t.quality&&(a.quality=t.quality);var i=e.indexOf("?"),r=e;return i>-1?(r=_.join(e.substring(0,i),a),r+=-1===r.indexOf("?")?"?":"&",r+=e.substring(i+1)):r=_.join(r,a),r}}(i,e);o&&r&&((t=OS.getBlobUrl(o))||(a=OS.getPlaceholder(o)));var l=PS(t||a||(r?null:o)),c=l[1],d=l[0],u=DS(!1);return CS(()=>{var e;if(!u.current||(u.current=!1,null!=d))return t?d!==t&&c(t):o&&r?(e=function(e){var t=T.a.Deferred(),a={cancelable:Object(yf.a)(t.promise()),xhr:null},i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",a.xhr=i,i.onreadystatechange=()=>{if(4===i.readyState)if(i.onreadystatechange=null,200===i.status){var a=new window.Blob([i.response],{type:"image/jpeg"}),r=window.URL.createObjectURL(a);OS.store({url:e,blobUrl:r}),t.resolve(r)}else t.reject()},i.send(),a}(o)).cancelable.promise.then(t=>{e=null,c(t)},({isCanceled:t}={})=>{t||(e=null,null===d?n&&n():(u.current=!0,c(null)))}):c(o&&!r?o:null),()=>{e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))};n&&n()},[d,o,t,r,n]),SS(IS,tp()({},s,{src:d,onError:n}))}xS.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowImageBlobs:!0};var AS=MS(xS),LS=Object(_u.b)(_u.d,Ep);function kS(){return Object(_u.a)((e,{providerEntityID:t})=>t,pv,(e,t)=>t[e])}function RS(){return Object(_u.a)((e,{serverEntityID:t})=>t,Gu,(e,t)=>t[e])}var zS={},US={};function VS(e,t){var{serverEntityID:a,providerEntityID:i}=t,r=a+":"+i;return US[r]||(US[r]=LS(Object(_u.a)(RS(),kS(),(e,t)=>{var a=e&&e.activeConnection&&e.activeConnection.uri;if(!a)return zS;var i,r="/photo/:/transcode",n=!1,s=!1;if(t){var o=D.a.findWhere(t.features,{type:Ot.e});o&&(n=ya(r=o.key),s=o.public)}return i=n?t&&t.baseURL?t.baseURL:a:"",{accessToken:e.accessToken,baseUrl:i,isAbsoluteTranscodeKey:n,isPublicTranscoder:s,transcodeKey:r,uri:a}}),e=>e)),US[r](e,t)}function BS(e){var t=e&&e.urlParams;return Object(_u.a)((e,{url:t})=>t,VS,(e,a)=>{if(e&&a!==zS){var i,{accessToken:r,baseUrl:n,isAbsoluteTranscodeKey:s,isPublicTranscoder:o,transcodeKey:l,uri:c}=a;if(ya(e))i=e;else{var d={"X-Plex-Token":r};t&&Object.assign(d,t),i=_.join([n,e],d)}var u=s?l:[c,l];return _.join(u,{url:i,"X-Plex-Token":o?void 0:r})}})}function FS(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,sourceTitle:e.sourceTitle,protocols:e.protocols.reduce((e,t)=>(e[t]=!0,e),{}),features:e.features.reduce((e,t)=>{var a=t;if(t.type===Ot.b){var i={type:Ot.b};a=i=t.actions.reduce((e,t)=>(e[t.id]=t,e),i)}return e[t.type]=a,e},{})}:null}var HS={};function _S(e,{providerEntityID:t}){var a=HS[t];return a||(a=Sv(Object(_u.a)((e,t)=>e.entities.providers[t],FS),e=>e),HS[t]=a),a(e,t)}function QS(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isCloud:e.isCloud,isShared:e.isShared,livetv:e.livetv,ownerId:e.ownerId,ownerFeatures:e.ownerFeatures}:null}var WS={};function GS(e,{serverEntityID:t}){var a=WS[t];return a||(a=LS(Object(_u.a)((e,t)=>e.entities.servers[t],QS),e=>e),WS[t]=a),a(e,t)}var YS=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,BS(null),(e,t,a)=>({url:a,supportsSize:!!(e&&e.isCloud&&t)}))}))(AS),KS=a("w+Nc"),qS=a.n(KS),ZS=Ed.a.createElement;function XS(e){var{className:t}=e,a=Je()(e,["className"]);return(Uu()("div",{className:t},void 0,ZS(YS,a)))}XS.defaultProps={className:qS.a.avatar};var JS=XS,$S=Ed.a.createElement,eM={position:"relative",top:0,left:0,display:"block",width:"100%",height:"100%"};var tM=function(e){return $S(YS,tp()({},e,{component:QI,containerStyle:eM}))};function aM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}aM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var iM=aM;function rM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}rM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var nM=rM;function sM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}sM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var oM=sM;function lM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}lM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var cM=lM;function dM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}dM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var uM=dM;function pM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}pM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var hM=pM;function mM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}mM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var vM=mM;function gM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}gM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var yM=gM,fM={movie:uM,show:yM,season:yM,episode:yM,artist:oM,album:hM,track:hM,photo:vM,photoalbum:vM,clip:cM,station:nM},bM=a("BNpA"),IM=a.n(bM);var SM=function(e){var{className:t,type:a,width:i,height:r,icon:n}=e,s=function(e){switch(e){case"playlist://image.radio":return nM;case"folder":return iM;case"watchtogether":return iS}}(n)||fM[a];if(!s)return null;var o={fontSize:Math.max(14,Math.min(Math.round(i/4),42)),lineHeight:r+"px"},l={width:i+"px",height:r+"px"};return Uu()("div",{className:(t||"")+" "+(IM.a.container||""),style:l},void 0,Uu()(s,{style:o}))},MM=a("jWai"),CM=a.n(MM);var DM=function(e){var{className:t,type:a,icon:i,width:r,height:n,isFolder:s}=e;return(Uu()(SM,{className:(t||"")+" "+(CM.a.placeholderIcon||""),type:a,icon:s?"folder":i,width:r,height:n}))};var PM=function(e){var{serverEntityID:t,providerEntityID:a,itemServerEntityID:i,itemProviderEntityID:r,type:n,isOffscreen:s,url:o,src:l,width:c,height:d,icon:u,backgroundSize:p,isFolder:h,disableCrossFade:m,onLoad:v,onError:g}=e;return s?null:o||l?Uu()(tM,{serverEntityID:i||t,providerEntityID:r||a,url:o,src:l,width:c,height:d,backgroundPosition:"artist"===n?"center top":"center",backgroundSize:"game"===n?"contain":p,disableCrossFade:m,onLoad:v,onError:g}):Uu()(DM,{type:n,width:c,height:d,isFolder:h,icon:u})},OM=a("a0RD");function jM(e,t,a){if(a)switch(a){case"quickSearch":switch(e){case"genre":case"channel":return 1}break;case Tc:case"watchTogetherLobby":switch(e){case"episode":return 16/9}break;case"continueWatching":case"newscast":case"watchTogether":return 16/9;case wc:switch(e){case"movie":case"episode":case"game":return 16/9}break;case"playQueue":case"playlist":case"downloads":case Ec:switch(e){case"episode":return 16/9}break;case"nowPlaying":switch(e){case"clip":return 1}}switch(t){case OM.c:case OM.d:switch(e){case"show":return 1;case"episode":return 16/9}}switch(e){case"channels":return 1;case"movie":case"show":case"season":case"episode":return 1/1.5;case"artist":case"album":case"track":case"photo":case"photoalbum":return 1;case"clip":return 16/9;case"collection":return 1/1.5;case"extra":case"musicVideo":return 16/9;case"mixed":return 1/1.5;case"genre":return 16/9;case"content":case"channel":case"hub":case"list":return 1;case"game":return 1/1.5;default:return 1}}function TM(e,t,a,i){var r=jM(t,a,i);return Math.round(e*r)}function wM(e,t,a,i){var r=jM(t,a,i);return Math.round(e/r)}function EM(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}EM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var NM=EM;var xM=function(e){if(e<=0||!D.a.isNumber(e))return"0:00";var t=Qm(e),a=t.seconds,i=t.minutes,r=t.hours+24*t.days,n="";return n=a<10?":0"+a:":"+a,n=i<10&&r>0?"0"+i+n:i+n,r>0&&(n=r+":"+n),n},AM=a("eh44"),LM=a("fEqS"),kM=a("GEPl");var RM=function(e){return Object(Bi.a)(e,{streamType:kM.a.get("subtitles").id}).filter(e=>e.selected&&e.id!==LM.a)[0]},zM=a("Zybo");var UM=function(e){return e?e.replace(/\w\S*/g,(function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()})):""};var VM=function(e){return e?e.toUpperCase():""},BM={"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/alexa/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/android/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*atv|tvos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo=":/chrome/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgdmlld0JveD0iMCAwIDExMCAxMTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CjxwYXRoIGQ9Ik0xMTAgMEgwVjExMEgxMTBWMFoiIGZpbGw9IiMxOTFBMUMiLz4KPHBhdGggb3BhY2l0eT0iMC44NSIgZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik00MC4yMjk5IDg0TDY0LjgzNTcgNDEuMzgyMUw3Mi43NDM1IDU1LjA3NjVMNTYuMDQzNCA4NEg0MC4yMjk5Wk01NS45NzE4IDI2TDYwLjgxNjMgMzQuMjYzNkw1Mi44NjQ4IDQ4LjAzNTVMNDAuMDU5IDI2SDU1Ljk3MThaIiBmaWxsPSJ1cmwoI3BhaW50MF9yYWRpYWwpIi8+CjxwYXRoIGZpbGwtcnVsZT0iZXZlbm9kZCIgY2xpcC1ydWxlPSJldmVub2RkIiBkPSJNNjQuNzk2NSAzMS4wMzE4TDc2LjcyMzcgNTEuNjg5N0g5MC43MTQzVjU1LjAwMzVINzQuODExNEw2NC43OTY1IDM3LjY1OTNMNDIuOTI5OSA3NS41MzIyTDMyLjk5MDYgNTguMzE3M0gxOVY1NS4wMDM1SDM0LjkwMjlMNDIuOTI5OSA2OC45MDY2QzUwLjIxOTUgNTYuMjgxNyA1Ny41MDcgNDMuNjU2NyA2NC43OTY1IDMxLjAzMThaIiBmaWxsPSJ1cmwoI3BhaW50MV9saW5lYXIpIi8+CjxkZWZzPgo8cmFkaWFsR3JhZGllbnQgaWQ9InBhaW50MF9yYWRpYWwiIGN4PSIwIiBjeT0iMCIgcj0iMSIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiIGdyYWRpZW50VHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzIuODAzNyA1NC4wMjg0KSBzY2FsZSgyOC45NDQ4IDQ3LjA3NzUpIj4KPHN0b3Agc3RvcC1jb2xvcj0iIzczN0U4NyIvPgo8c3RvcCBvZmZzZXQ9IjEiIHN0b3AtY29sb3I9IiM1MTU5NUUiIHN0b3Atb3BhY2l0eT0iMC43NSIvPgo8L3JhZGlhbEdyYWRpZW50Pgo8bGluZWFyR3JhZGllbnQgaWQ9InBhaW50MV9saW5lYXIiIHgxPSIxOC4xMTkxIiB5MT0iNTMuMjgyMiIgeDI9IjkxLjU5NTMiIHkyPSI1My4yODIyIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CjxzdG9wIHN0b3AtY29sb3I9IiNDQzdCMTkiLz4KPHN0b3Agb2Zmc2V0PSIxIiBzdG9wLWNvbG9yPSIjRjRDRTFFIi8+CjwvbGluZWFyR3JhZGllbnQ+CjwvZGVmcz4KPC9zdmc+Cg==":/plex.*dash/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K":/dlna/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K":/edge/i,[a.p+"desktop/common/img/devices/firefox.e8c14a7b2f07aaa06fc6b66b308c3e7a.svg"]:/firefox/i,[a.p+"desktop/common/img/devices/gtv.b27f5dff79b3f1898b1c4957c6155448.svg"]:/google.*tv/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/internet.*explorer|explorer.*windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/ios/i,[a.p+"desktop/common/img/devices/linux.88a90a622da7571f29bdcdf21925a730.svg"]:/linux/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/opera/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/mac/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/konvergo|plex.*home.*theater|plex.*media.*center/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/plexamp/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/plex.*media.*server/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/WebMAF|playstation|mystery.*3/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/roku/i,[a.p+"desktop/common/img/devices/safari.d35160fffeea81c083734fabf407a724.svg"]:/safari/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg==":/samsung/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/sonos/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/plex.*vr/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg==":/wii.*u/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo=":/windows.*phone|wince/i,"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K":/xbox|mystery.*5/i},FM=D.a.pairs(BM),HM={};function _M(e){for(var t=0,a=FM.length;t<a;t++){var[i,r]=FM[t];if(r.test(e))return i}}function QM(e,t){var a=HM[e]||HM[t];return a||((a=e&&_M(e))?(HM[e]=a,a):(a=t&&_M(t))?(HM[t]=a,a):"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K")}function WM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}WM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var GM=WM;function YM(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}YM.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var KM=YM,qM=a("UCYk"),ZM=a.n(qM),{Component:XM}=Ed.a;var JM=class extends XM{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{className:e,isConnected:t,isUnavailable:a,isSecure:i,isRelayed:r}=this.props;return r?Uu()(GM,{className:(e||"")+" "+(ZM.a.warningIcon||""),title:Object(Ze.default)("Indirect"),"aria-label":Object(Ze.default)("Indirect")}):a?Uu()(mh,{className:(e||"")+" "+(ZM.a.alertIcon||""),title:Object(Ze.default)("Unavailable"),"aria-label":Object(Ze.default)("Unavailable")}):i&&t?Uu()(KM,{className:(e||"")+" "+(ZM.a.secureIcon||""),title:Object(Ze.default)("Secure"),"aria-label":Object(Ze.default)("Secure")}):null}},$M=a("KySg");var eC=function(e){return(e=parseInt(e,10))?e<2?Object(Ze.default)("Mono"):e<3?Object(Ze.default)("Stereo"):(e-1).toString()+".1":""};var tC=function(e){return e?"dca"===e?"DTS":e.toUpperCase():""};var aC=function(e){var{stream:t,separatorComponent:a}=e,i=[];t.codec&&i.push(tC(t.codec)),t.channels&&i.push(eC(t.channels));var r=t.language||Object(Ze.default)("Unknown"),n=i&&i.length>0?i.join(" "):null,s=n?Object(Ze.default)("{label}, {details}",{label:r,details:n}):r;return Uu()("span",{"aria-label":s,"data-qa-id":"audioStream"},void 0,r,n?Uu()(a,{}):null,n)};var iC=function(e){var{stream:t,separatorComponent:a}=e,i=[];t.codec&&i.push(t.codec.toUpperCase()),t.key&&i.push(Object(Ze.default)("External")),t.forced&&i.push(Object(Ze.default)("Forced"));var r=t.language||Object(Ze.default)("Unknown"),n=i&&i.length>0?i.join(" "):null,s=n?Object(Ze.default)("{label}, {details}",{label:r,details:n}):r;return Uu()("span",{"aria-label":s,"data-qa-id":"subtitlesStream"},void 0,r,n?Uu()(a,{}):null,n)};var rC=function(e){var t,{mediaItem:a,separatorComponent:i}=e;a.videoCodec&&(t=[a.videoCodec.toUpperCase()]);var r=Object($M.a)(a),n=r&&r.scanType,s=Object(zM.default)(a.videoResolution,n)||Object(Ze.default)("Unknown"),o=t&&t.length>0?t.join(" "):null,l=o?Object(Ze.default)("{label}, {details}",{label:s,details:o}):s;return Uu()("span",{"aria-label":l,"data-qa-id":"videoStream"},void 0,s,o?Uu()(i,{}):null,o)},nC=Ed.a.createElement,sC={audio:aC,subtitles:iC,video:rC};var oC=function(e){var{type:t,stream:a,mediaItem:i,serverShortVersion:r}=e,n=Je()(e,["type","stream","mediaItem","serverShortVersion"]);if(!a&&!i)return Uu()("span",{"data-qa-id":t+"Stream"},void 0,Object(Ze.default)("None"));if(r&&Qa(r,Ka.streamDisplayTitles)){var s;if("video"===t){var o=Object($M.a)(i);s=o?o.displayTitle:Object(Ze.default)("None")}else s=a.displayTitle||a.language;return(Uu()("span",{"aria-label":s,"data-qa-id":t+"Stream"},void 0,s))}return nC(sC[t],tp()({},n,{stream:a,mediaItem:i}))};var lC=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({serverShortVersion:e.shortVersion}))}))(oC),cC=Ed.a.createElement;var dC=function(e){return cC(lC,tp()({},e,{separatorComponent:$y}))},uC=a("hsp8"),pC=a.n(uC),{Fragment:hC}=Ed.a,mC=({children:e})=>Uu()("span",{},void 0,Uu()("span",{className:$d()?pC.a.rightArrowForEdge:pC.a.rightArrow}),e),vC=({local:e,relayed:t})=>{var a;return a=t?Object(Ze.default)("Indirect"):e?"Local":Object(Ze.default)("Remote"),Uu()("span",{},void 0,a)},gC=Uu()($y,{}),yC=Uu()($y,{}),fC=Uu()($y,{}),bC=Uu()($y,{}),IC=Uu()($y,{}),SC=({className:e,server:t,session:a,internalViewOffset:i})=>{var{duration:r,Media:n=[],Player:s,Session:o,TranscodeSession:l}=a,c=n.find(e=>e.selected)||n[0],d=RM(c),u=Object(AM.a)(c);if(!u){var p=kM.a.get("audio").id;u=Object(Bi.a)(c,{streamType:p})[0]}var h=!!c.videoCodec,m=!!c.audioCodec,v=!!d,g=t.isCloud||Qa(t.version,Ka.enhancedSessionDetails);return Uu()("div",{className:e},void 0,Uu()("div",{className:pC.a.playerContainer},void 0,Uu()("div",{className:pC.a.playerIcon},void 0,Uu()("img",{className:pC.a.productLogo,src:QM(s.product,s.platform),width:44,height:44}),g?Uu()(JM,{className:pC.a.statusIcon,isConnected:!0,isSecure:s.secure,isRelayed:s.relayed}):null),Uu()("div",{className:pC.a.playerInformation},void 0,Uu()("div",{className:pC.a.title,title:s.product+"  "+s.title},void 0,s.product," ",gC," ",s.title),Uu()("div",{className:pC.a.subtitle},void 0,UM(s.state),r?Uu()(hC,{},void 0,yC,xM(i)+" / "+xM(r)):null),g?Uu()("div",{className:pC.a.subtitle},void 0,Uu()(vC,{local:s.local,relayed:s.relayed}),s.relayed?null:" ("+s.address+")",o?Uu()(hC,{},void 0,fC,Uu()("span",{title:Object(Ze.default)("The amount of outgoing bandwidth reserved for this playback session")},void 0,rf(1024*a.Session.bandwidth,0))):null):null)),h?Uu()("div",{className:pC.a.videoStreamInformation},void 0,Uu()("div",{className:pC.a.streamType},void 0,Object(Ze.default)("Video")),Uu()("div",{className:pC.a.streams},void 0,Uu()("div",{className:pC.a.title},void 0,Uu()(dC,{serverEntityID:t.entityID,type:"video",mediaItem:c}),(null==l?void 0:l.transcodeHwDecoding)?" (hw)":null),Uu()("div",{className:pC.a.title},void 0,!o||l&&null!=l.videoDecision?null:Uu()(mC,{},void 0,Object(Ze.default)("Direct Play")),l&&"copy"===l.videoDecision?Uu()(mC,{},void 0,Object(Ze.default)("Direct Stream")):null,l&&"transcode"===l.videoDecision?Uu()(mC,{},void 0,(Object(zM.default)(c.videoResolution,l.scanType)||Object(Ze.default)("Unknown"))+" ","(",VM(l.videoCodec),")",bC,Object(Ze.default)("Transcode"),l.transcodeHwEncoding?" (hw)":null):null))):null,m?Uu()("div",{className:pC.a.audioStreamInformation},void 0,Uu()("div",{className:pC.a.streamType},void 0,Object(Ze.default)("Audio")),Uu()("div",{className:pC.a.streams},void 0,Uu()("div",{className:pC.a.title},void 0,Uu()(dC,{serverEntityID:t.entityID,type:"audio",stream:u})),Uu()("div",{className:pC.a.title},void 0,!o||l&&null!=l.audioDecision?null:Uu()(mC,{},void 0,Object(Ze.default)("Direct Play")),l&&"copy"===l.audioDecision?Uu()(mC,{},void 0,Object(Ze.default)("Direct Stream")):null,l&&"transcode"===l.audioDecision?Uu()(mC,{},void 0,VM(l.audioCodec),IC,Object(Ze.default)("Transcode")):null))):null,v?Uu()("div",{className:pC.a.subtitlesStreamInformation},void 0,Uu()("div",{className:pC.a.streamType},void 0,Object(Ze.default)("Subtitles")),Uu()("div",{className:pC.a.title},void 0,Uu()(dC,{serverEntityID:t.entityID,type:"subtitles",stream:RM(c)}))):null)},MC=a("fArA"),CC=Oc.a.shape({subscribe:Oc.a.func.isRequired,dispatch:Oc.a.func.isRequired,getState:Oc.a.func.isRequired}),DC=Ed.a.createElement,{Component:PC}=Ed.a,OC="CHANGE",jC="REPLACE_STATE",TC="RESET",wC="SHOW_ERRORS",EC={change:Object(Pa.a)(OC),replaceState:Object(Pa.a)(jC),reset:Object(Pa.a)(TC),showErrors:Object(Pa.a)(wC)};function NC(e={},{type:t,payload:a}){switch(t){case OC:var{name:i,change:r}=a;if(null==r){var n=Object.assign({},e);return delete n[i],n}return Object.assign({},e,{[i]:r});case jC:return a;case TC:return{};case wC:return D.a.mapObject(e,e=>Object.assign({},e,{showErrors:0!==e.errors.length}));default:return e}}class xC extends PC{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{var e=this.store.getState();e!==this.prevState&&(this.prevState=e,this.props.onChange(e))},this.onSubmit=e=>{e.preventDefault(),e.nativeEvent.preventDefault();var t=this.store.getState();if(D.a.some(t,(e,t)=>0!==e.errors.length))this.actions.showErrors();else{var a=D.a.mapObject(t,(e,t)=>e.value);this.props.onSubmit(a,t)}},this.store=Object(MC.createStore)(NC),this.prevState=this.store.getState(),this.actions=Object(MC.bindActionCreators)(EC,this.store.dispatch)}getChildContext(){return{formStore:this.store}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillReceiveProps(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)}componentWillUnmount(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer(e=>e))}render(){var e=this.props,{children:t}=e,a=Je()(e,["children","formState","onChange"]);return(DC("form",tp()({},a,{onSubmit:this.onSubmit}),t))}}xC.childContextTypes={formStore:CC},xC.defaultProps={onSubmit(){},onChange(){}};var AC=xC,LC=a("XOYs"),kC=a.n(LC),RC=Ed.a.createElement;function zC(e){var{children:t,className:a,errorClassName:i,name:r,hasError:n}=e,s=Je()(e,["children","className","errorClassName","name","hasError"]);return(RC("label",tp()({},s,{className:(a||"")+" "+(n&&i||""),htmlFor:r}),t))}zC.defaultProps={className:kC.a.label,errorClassName:kC.a.hasError};var UC=zC,VC=a("DTM1"),BC=a.n(VC),FC=Ed.a.createElement,{Component:HC}=Ed.a;class _C extends HC{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){var e=this.props,{className:t,errorClassName:a,disabledClassName:i,isDisabled:r,size:n,name:s,hasError:o}=e,l=Je()(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return(FC("textarea",tp()({},l,{id:s,name:s,disabled:r,className:(t||"")+" "+(BC.a[n]||"")+" "+(r&&i||"")+" "+(o&&a||""),onChange:this.onChange})))}}_C.defaultProps={className:BC.a.textArea,errorClassName:BC.a.hasError,disabledClassName:BC.a.isDisabled,isDisabled:!1,size:wp,hasError:!1,rows:2};var QC=_C,WC=a("LU7h"),GC=a.n(WC),YC=Ed.a.createElement,KC=e=>{var{className:t=GC.a.button,kind:a=Bv.Default,size:i=gp.Medium}=e,r=Je()(e,["className","kind","size"]);return(YC(qv,tp()({},r,{className:(t||"")+" "+(GC.a.button||"")+" "+(GC.a[a]||"")+" "+(GC.a[i]||"")})))},qC=a("7GFg"),ZC=a.n(qC),XC=({children:e,className:t=ZC.a.modalFooter})=>Uu()("div",{className:t},void 0,e),JC=a("kr0E"),$C=a.n(JC),eD=({children:e,className:t=$C.a.buttonBar})=>Uu()("div",{className:t},void 0,e),tD=a("lm5H"),aD=a.n(tD),{Fragment:iD,useCallback:rD,useState:nD}=Ed.a,sD=Uu()($y,{}),oD=({session:e,isOpen:t,onModalClose:a})=>{var i=Object(Fu.c)(),[r]=wv(),n=nD(""),s=n[1],o=n[0],{type:l,grandparentTitle:c,parentTitle:d,title:u,parentIndex:p,index:h,originallyAvailableAt:m,User:v}=e,g=l===Wt.f?Object(ZI.a)({seasonIndex:p,episodeIndex:h,date:m,noLeadingZero:!0,separator:"  "}):null,y=rD(()=>{i(wn.actions.stopRequested({server:r,session:e,reason:o})),a()},[i,o,r,e,a]),f=rD(e=>{e.preventDefault(),e.stopPropagation(),y()},[y]);return Uu()(_b.a,{metricsPage:Rd.tb},void 0,Uu()(fI,{isOpen:t,size:gp.Small,onModalClose:a},void 0,Uu()(TI,{onModalClose:a},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Stop {title}",{title:c||d||u}),g?Uu()(iD,{},void 0,sD,g):null),Uu()(MI,{className:aD.a.modalBody},void 0,Uu()("div",{className:aD.a.topContainer},void 0,Uu()(JS,{className:aD.a.avatarImg,serverEntityID:r.entityID,url:v.thumb,width:76,height:76}),Uu()("div",{className:aD.a.description},void 0,Uu()("p",{},void 0,Object(Ze.default)("Do you wish to stop this item's playback?")),Uu()("p",{},void 0,Object(Ze.default)("You may supply a message that will be displayed to {username}.",{username:v.title}))))),Uu()(XC,{className:aD.a.modalFooter},void 0,Uu()(UC,{className:aD.a.formLabel,name:"message"},void 0,Object(Ze.default)("Message")),Uu()(AC,{className:aD.a.form,onSubmit:f},void 0,Uu()(QC,{className:aD.a.textArea,"data-autofocus":!0,name:"message",rows:4,value:o,onChange:s})),Uu()(eD,{className:aD.a.buttonBar},void 0,Uu()(KC,{onPress:a},void 0,Object(Ze.default)("Cancel")),Uu()(KC,{kind:Bv.Primary,onPress:y},void 0,Object(Ze.default)("Stop")))))))},lD=a("rXhf"),cD=a.n(lD),dD=Ed.a.createElement,{memo:uD,useCallback:pD,useEffect:hD,useMemo:mD,useState:vD}=Ed.a;function gD(e){return!!e.Media&&"livetv"===(e.Media.find(e=>e.selected)||e.Media[0]).origin}var yD=uD(({sessionKey:e,isDetailsExpanded:t,canStopSessions:a})=>{var[i,r]=wv(),n=mD(()=>function(e,t){return Object(_u.a)(Vb(e),e=>e.sessionsByKey[t])}(i.machineIdentifier,e),[i.machineIdentifier,e]),s=Object(Fu.d)(n),o=s.Player.state===$I.states.PLAYING,[l,c]=pS(),d=vD(s.viewOffset||0),u=d[1],p=d[0],h=vD(!1),m=h[1],v=h[0],{type:g,subtype:y,duration:f,attribution:b,Media:I,User:S,Session:M,TranscodeSession:C,Player:D}=s,P=null!=s.viewOffset,O=g===Nr.Game,j=null;I&&(j=O&&C?C.key+"/frame?t="+Date.now():qI(I[0],p,"hd"));var T=l&&j,w=function(e,t,a){var{key:i,parentKey:r,grandparentKey:n,type:s,skipDetails:o,skipParent:l,extraType:c}=a;if(!(c||o||s===Nr.Photo||gD(a))){var d=i;return s===Nr.Track&&(d=l?n:r),lu(e,t,d)}}(i,r,s),E=w?qv:"div",N=!(!a||!M||function(e){var{product:t}=e;return oS.hasOwnProperty(t)||(oS[t]=sS.some(e=>e.test(t))),oS[t]}(D)),x=function(e){var{type:t,grandparentTitle:a,parentTitle:i,title:r}=e;return gD(e)?Object(Ze.default)("Live TV"):t===Nr.Track||t===Nr.Photo?r:a||i||r}(s),A=function(e){var{type:t,index:a,parentIndex:i,originallyAvailableAt:r,grandparentTitle:n,parentTitle:s,title:o,year:l}=e;if(t===Nr.Track||t===Nr.Photo)return s;var c=[];return t===Nr.Episode&&c.push(Object(ZI.a)({seasonIndex:i,episodeIndex:a,date:r,noLeadingZero:!0,separator:"  "})),n||s?c.push(o):l&&c.push(String(l)),c.join(" ")}(s),L=function(e){var{type:t,grandparentTitle:a,parentTitle:i,year:r,duration:n}=e;return t===Nr.Movie||t===Nr.Episode?Ym(n):t===Nr.Album||t===Nr.Track?a||i:t===Nr.Photo?String(r):void 0}(s),k=function(e){return e.type===Nr.Track?e.parentThumb:e.type===Nr.Photo?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(s),R=P?100:104,z=TM(R,g,y,"nowPlaying"),U=pD(e=>{e.preventDefault(),e.stopPropagation(),m(!0)},[]),V=pD(()=>{m(!1)},[]);return hD(()=>{var e;if(u(s.viewOffset||0),o){var t=Date.now();e=window.setInterval(()=>{u((s.viewOffset||0)+(Date.now()-t))},1e3)}return()=>window.clearInterval(e)},[o,s.viewOffset]),dD("div",{className:cD.a.listItem,ref:c},Uu()(E,{className:cD.a.mediaInformationContainer,to:w},void 0,Uu()("div",{className:cD.a.posterContainer,style:{width:z}},void 0,Uu()(PM,{serverEntityID:i.entityID,type:g,url:k,width:z,height:R}),b?Uu()(nS,{className:cD.a.attribution,attribution:b}):null),Uu()("div",{className:(cD.a.infoContainer||"")+" "+((P?cD.a.visibleProgressBar:void 0)||"")},void 0,T?Uu()("div",{className:cD.a.previewThumbnailContainer},void 0,Uu()(YS,{serverEntityID:i.entityID,providerEntityID:void 0,url:j,width:O?180:214,height:R,component:QI,backgroundSize:O?"contain":"cover"})):Uu()("div",{className:cD.a.metadataText},void 0,Uu()("div",{className:cD.a.title,title:x},void 0,x),Uu()("div",{className:cD.a.subtitle,title:A},void 0,A),Uu()("div",{className:cD.a.subtitle,title:L},void 0,L))),P?Uu()("div",{className:cD.a.progressTrack},void 0,Uu()("div",{className:cD.a.playProgressPercent,style:{width:WI(p,f)+"%"}}),(null==C?void 0:C.progress)?Uu()("div",{className:cD.a.transcodeProgressPercent,style:{width:C.progress+"%"}}):null):null),Uu()(SC,{className:(cD.a.detailsContainer||"")+" "+((t?cD.a.detailsContainerExpanded:void 0)||""),server:i,session:s,internalViewOffset:p}),Uu()("div",{className:cD.a.userContainer},void 0,Uu()(JS,{className:cD.a.avatarImg,serverEntityID:i.entityID,url:S.thumb,width:40,height:40}),Uu()("div",{className:cD.a.username},void 0,S.title),N?Uu()(qv,{className:cD.a.stopButton,onPress:U},void 0,Uu()(NM,{className:cD.a.stopIcon,"aria-label":Object(Ze.default)("Stop playback")}),Object(Ze.default)("Stop playback")):null),Uu()(oD,{session:s,isOpen:v,onModalClose:V}))}),fD=a("9rAt"),bD=a.n(fD),ID=Ed.a.createElement,{useCallback:SD,useEffect:MD,useMemo:CD}=Ed.a;var DD=Uu()(Hb,{}),PD=()=>{var e=Object(Fu.c)(),[t]=wv(),[a,{width:i}]=Object(Bb.a)(),r=CD(()=>{return e=t.machineIdentifier,Object(_u.a)(Vb(e),e=>e.sessionKeys);var e},[t.machineIdentifier]),n=Object(Fu.d)(r),s=CD(()=>{return e=t.machineIdentifier,Object(_u.a)(Vb(e),e=>e.stopSessionError);var e},[t.machineIdentifier]),o=Object(Fu.d)(s),l=Object(Fu.d)(xv("dashboardNowPlayingShowDetails")),c=t.ownerFeatures.includes("session_kick"),d=n.length>0,u=SD(()=>{Object(wa.a)(()=>{e(wn.actions.stopErrorDismissed({server:t}))})},[e,t]),p=SD(()=>{Object(wa.a)(()=>{e(Object(Qu.f)({dashboardNowPlayingShowDetails:!l}))})},[e,l]);return MD(()=>{var a;return d&&(a=window.setInterval(()=>e(wn.actions.fetchRequested({server:t})),5e3)),()=>window.clearInterval(a)},[e,d,t]),ID("div",{ref:a},Uu()(LI,{isOpen:!!o,errorMessage:Object(Ze.default)("There was a problem stopping playback"),metricsPage:Rd.ub,onModalClose:u}),Uu()(Vv,{title:Object(Ze.default)("Now Playing")},void 0,d?Uu()(zb,{className:bD.a.toggle,component:qv,tooltip:l?Object(Ze.default)("Hide Details"):Object(Ze.default)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",hideOnPress:!1,onPress:p},void 0,DD):null),Uu()("div",{className:bD.a.tilesContainer},void 0,d&&null!=i?Uu()("div",{className:bD.a.nowPlayingList},void 0,function(e,t){var a=Math.max(Math.floor((t+40)/320),1),i=Array.from(new Array(a),()=>[]);return e.reduce((e,t,i)=>(e[i%a].push(t),e),i)}(n,i).map((e,t)=>Uu()("div",{className:bD.a.column,style:{width:"280px"}},t,e.map(e=>Uu()(yD,{sessionKey:e,isDetailsExpanded:l,canStopSessions:c},e))))):null,d?null:Uu()(Jv,{className:bD.a.emptyMessage},void 0,Object(Ze.default)("Nothing is currently being played"))))};function OD(e,t){if(1===e.id)return-1;if(1===t.id)return 1;var a=e.name.trim().toUpperCase(),i=t.name.trim().toUpperCase();return a<i?-1:a>i?1:0}var{Fragment:jD,useCallback:TD}=Ed.a,wD=({className:e,accounts:t,activeAccount:a,onAccountSelect:i})=>{var{menuButtonID:r,isMenuOpen:n,onMenuButtonPress:s,onMenuClose:o}=ly(),l=TD(e=>{var a=t.find(t=>t.id===e);o(),i(a)},[t,o,i]);return Uu()(jD,{},void 0,Uu()(Oy,{id:r,className:e,isMenuOpen:n,onPress:s},void 0,a?a.name:Object(Ze.default)("All Users")),Uu()(Fg,{target:r,isOpen:n,onMenuClose:o},void 0,Uu()(iy,{value:void 0,isSelected:!a,onSelect:l},void 0,Object(Ze.default)("All Users")),t.map(e=>Uu()(iy,{value:e.id,isSelected:(null==a?void 0:a.id)===e.id,onSelect:l},e.id,e.name))))},ED=Object(_u.a)(xy,e=>e.playHistory);function ND(e){switch(e){case Iy.All:return Object(Ze.default)("All Media");case Iy.Movie:return Object(Ze.default)("Movies");case Iy.TV:return Object(Ze.default)("TV");case Iy.Music:return Object(Ze.default)("Music");case Iy.Photo:return Object(Ze.default)("Photos");case Iy.Game:return"Games";default:return""}}function xD(e,t){return _.join("#!/server/"+encodeURIComponent(e)+"/playHistory",t)}var{Fragment:AD,useCallback:LD,useMemo:kD,useState:RD}=Ed.a;function zD(e,t){return e.date-t.date}function UD(e){return tf(e)||Object(zy.a)(Object(qy.a)(new Date))<=e}function VD(e,t,a,i=!1){if(Qy(t)===Ry.Day&&tf(e)){var r=Object(Ze.default)("Today");return i?r.toUpperCase():r}return Object(Ky.a)(Object(Xc.a)(e),a)}function BD(e){var t,a,i=e/60,r=i/60,n=r/24,s=n/365;return i<1?(t=e.toFixed(),a="s"):r<1?(t=i.toFixed(),a="m"):n<1?(t=r.toFixed(1),a="h"):s<1?(t=n.toFixed(1),a="d"):(t=s.toFixed(1),a="y"),""+t+a}var FD=Uu()($y,{}),HD=Uu()($y,{}),_D=Uu()($y,{}),QD=Uu()($y,{}),WD=Uu()($y,{}),GD=({isMoviesVisible:e,isTVVisible:t,isMusicVisible:a,isPhotosVisible:i,isGamesVisible:r,summedData:n,showGames:s})=>{if(!n)return null;var o=e&&t&&a&&i;return(Uu()(AD,{},void 0,o?Object(Ze.default)("Totals"):Object(Ze.default)("Total"),": ",o?Uu()(AD,{},void 0,ND(Iy.Movie),FD):null,e?BD(n[Iy.Movie]||0):null,o?Uu()(AD,{},void 0," | ",ND(Iy.TV),HD):null,t?BD(n[Iy.TV]||0):null,o?Uu()(AD,{},void 0," | ",ND(Iy.Music),_D):null,a?BD(n[Iy.Music]||0):null,o?Uu()(AD,{},void 0," | ",ND(Iy.Photo),QD):null,i?BD(n[Iy.Photo]||0):null,s&&o?Uu()(AD,{},void 0," | ",ND(Iy.Game),WD):null,s&&r?BD(n[Iy.Game]||0):null))};var YD=({statistics:e,activeStatisticsMetadataType:t,activeAccount:a,activeTimePeriod:i,isPending:r,isPopulated:n,errorMessage:s,showGames:o,onGraphMetadataTypeSelect:l})=>{var c=RD(!1),d=c[1],u=c[0],{data:p,summedData:h}=kD(()=>function(e,t,a){var i={};return{data:e.reduce((e,r)=>{var{accountID:n,at:s,metadataType:o,duration:l}=r;if(!(o in Iy))return e;var c,d=e.findIndex(e=>e.date===s),u=-1!==d;return c=u?e[d]:{date:s},a&&a.id!==n?(u||e.push(c),e):(t!==Iy.All&&t!==o||(c[o]=(c[o]||0)+l,i[o]=(i[o]||0)+l,c[Iy.All]=(c[Iy.All]||0)+l,i[Iy.All]=(i[Iy.All]||0)+l),u?e[d]=c:e.push(c),e)},[]).sort(zD),summedData:i}}(e,t,a),[a,t,e]),m=t===Iy.Movie,v=m||t===Iy.All,g=t===Iy.TV,y=g||t===Iy.All,f=t===Iy.Music,b=f||t===Iy.All,I=t===Iy.Photo,S=I||t===Iy.All,M=t===Iy.Game,C=M||t===Iy.All,D=[{dataKey:String(Iy.Movie),title:ND(Iy.Movie),visible:v,selected:m,color:"#9ad186"},{dataKey:String(Iy.TV),title:ND(Iy.TV),visible:y,selected:g,color:"#f1335e"},{dataKey:String(Iy.Music),title:ND(Iy.Music),visible:b,selected:f,color:"#366dfc"},{dataKey:String(Iy.Photo),title:ND(Iy.Photo),visible:S,selected:I,color:"#e69f23"}];o&&D.push({dataKey:String(Iy.Game),title:ND(Iy.Game),visible:C,selected:M,color:"#bc9bb7"});var P=LD(e=>{if(Qy(i)===Ry.Week){var t=VD(e,i,Gy(i,!0)),a=Object(zy.a)(Object(Yy.a)(Object(Xc.a)(e),1));return tf(e)&&UD(a)?Object(Ze.default)("Today"):t+" - "+VD(a,i,Gy(i,!0))}return VD(e,i,Gy(i,!0))},[i]),O=LD(e=>BD(e),[]),j=LD(e=>{if(i===ky.Month){var t=VD(e,i,Gy(i)),a=Object(zy.a)(Object(Yy.a)(Object(Xc.a)(e),1));return tf(e)&&UD(a)?Object(Ze.default)("Today").toUpperCase():t+" - "+VD(a,i,Gy(i))}return VD(e,i,Gy(i),!0)},[i]),T=LD(e=>0===e?"":BD(e),[]),w=LD(()=>{d(!0)},[]);return Uu()(mf,{isSpinnerVisible:r||!u,errorMessage:s},void 0,!r&&n?Uu()(_f,{width:"100%",height:280,series:D,data:p,legendSummary:Uu()(GD,{isMoviesVisible:v,isTVVisible:y,isMusicVisible:b,isPhotosVisible:S,isGamesVisible:C,showGames:o,summedData:h}),tooltipLabelFormatter:P,tooltipValueFormatter:O,xAxisTickFormatter:j,yAxisTickFormatter:T,onLegendPress:l,onChartReady:w}):null)},KD=a("doli"),qD=a.n(KD),{useCallback:ZD,useEffect:XD,useMemo:JD,useState:$D}=Ed.a,eP=Uu()($y,{}),tP=({showGames:e})=>{var t=Object(Fu.c)(),[a]=wv(),i=$D(null),r=i[1],n=i[0],s=$D(ky.Month),o=s[1],l=s[0],c=$D(l),d=c[1],u=c[0],p=JD(()=>[ky.Week,ky.Month,ky.NinetyDays,ky.Year,ky.AllTime],[]),h=JD(()=>{var t=[Iy.All,Iy.Movie,Iy.TV,Iy.Music,Iy.Photo];return e?t.concat([Iy.Game]):t},[e]),m=$D(Iy.All),v=m[1],g=m[0],{accounts:y,statistics:f,isPending:b,isPopulated:I,error:S}=Object(Fu.d)(ED),M=JD(()=>y.slice().sort(OD),[y]),C=Rv(b,!0),D=ZD(e=>{v(e)},[]),P=ZD(e=>{r(e)},[]),O=ZD(e=>{o(e)},[]),j=ZD(e=>{var t=parseInt(e,10),a=t===g?Iy.All:t;v(a)},[g]);return XD(()=>{t(Ln.actions.playHistoryFetchRequested({server:a,timespan:Qy(l),after:Wy(l)}))},[l,t,a]),XD(()=>{d(l)},[f]),Uu()("div",{className:qD.a.container},void 0,Uu()(Vv,{title:Object(Ze.default)("Play History")},void 0,Uu()("div",{className:qD.a.link},void 0,eP,Uu()(qv,{to:xD(a.machineIdentifier)},void 0,Object(Ze.default)("View Full History"))),Uu()("div",{},void 0,Uu()(wy,{values:h,activeValue:g,formatter:ND,onSelect:D}),Uu()(wD,{accounts:M,activeAccount:n,onAccountSelect:P}),Uu()(wy,{values:p,activeValue:l,formatter:_y,onSelect:O}))),Uu()(YD,{statistics:f,activeStatisticsMetadataType:g,activeAccount:n,activeTimePeriod:u,isPending:C,isPopulated:I,errorMessage:S?Object(Ze.default)("Unable to load history"):null,showGames:e,onGraphMetadataTypeSelect:j}))},aP=a("/gAe"),iP=a.n(aP),rP=({children:e})=>Uu()("div",{className:iP.a.section},void 0,e),nP=Object(_u.a)(xy,e=>e.resources);function sP(e){switch(e){case Sy.All:return Object(Ze.default)("All");case Sy.PlexMediaServer:return"Plex Media Server";case Sy.System:return Object(Ze.default)("System");default:return""}}var{Fragment:oP,useCallback:lP,useMemo:cP,useState:dP}=Ed.a;function uP(e){return 0===e?Object(Ze.default)("Now"):Object(Ze.default)("{timeAgo} ago",{timeAgo:vf(e)})}function pP(e){return e.toFixed(2)+"%"}function hP(e){return vf(e)}function mP(e){return 0===e?"":Math.round(e)+"%"}var vP=Uu()($y,{}),gP=Uu()($y,{}),yP=({isPlexMediaServerVisible:e,isSystemVisible:t,summedData:a})=>{if(!a)return null;var i=e&&t;return(Uu()(oP,{},void 0,i?Object(Ze.default)("Averages"):Object(Ze.default)("Average"),": ",i?Uu()(oP,{},void 0,sP(Sy.PlexMediaServer),vP):null,e?(a[Sy.PlexMediaServer]/25).toFixed(2)+"%":null,i?Uu()(oP,{},void 0," | ",sP(Sy.System),gP):null,t?(a[Sy.System]/25).toFixed(2)+"%":null))},fP=({statistics:e,activeResourceType:t,hostKey:a,processKey:i,hostColor:r,processColor:n,isPopulated:s,errorMessage:o,onGraphResourceTypeSelect:l,onGraphTooltipActive:c,onGraphTooltipInactive:d})=>{var u=dP(!1),p=u[1],h=u[0],{data:m,summedData:v}=cP(()=>function(e,t,a,i){var r=i===Sy.All||i===Sy.System,n=i===Sy.All||i===Sy.PlexMediaServer,s={[Sy.System]:0,[Sy.PlexMediaServer]:0};return{data:e.slice(-25).map((e,i)=>(s[Sy.PlexMediaServer]=s[Sy.PlexMediaServer]+(e[a]||0),s[Sy.System]=s[Sy.System]+(e[t]||0),{at:e.at,date:120-5*i,[Sy.PlexMediaServer]:n?e[a]:null,[Sy.System]:r?e[t]:null})),summedData:s}}(e,a,i,t),[t,a,i,e]),g=t===Sy.All||t===Sy.PlexMediaServer,y=t===Sy.All||t===Sy.System,f=[{dataKey:Sy.PlexMediaServer,title:sP(Sy.PlexMediaServer),visible:g,selected:t===Sy.PlexMediaServer,color:r},{dataKey:Sy.System,title:sP(Sy.System),visible:y,selected:t===Sy.System,color:n}],b=lP(()=>{p(!0)},[]);return Uu()(mf,{isSpinnerVisible:!s||!h,errorMessage:o},void 0,s?Uu()(Jf,{width:"100%",height:280,series:f,data:m,legendSummary:Uu()(yP,{isPlexMediaServerVisible:g,isSystemVisible:y,summedData:v}),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:uP,tooltipValueFormatter:pP,xAxisTickFormatter:hP,yAxisTickFormatter:mP,onLegendPress:l,onChartReady:b,onTooltipActive:c,onTooltipInactive:d}):null)},bP=a("+ZLW"),IP=a.n(bP),{Fragment:SP,useCallback:MP,useEffect:CP,useMemo:DP,useRef:PP,useState:OP}=Ed.a,jP=()=>{var e=Object(Fu.c)(),[t]=wv(),a=PP(null),i=OP(Sy.All),r=i[1],n=i[0],s=OP(Sy.All),o=s[1],l=s[0],c=DP(()=>[Sy.All,Sy.PlexMediaServer,Sy.System],[]),d=Qa(t.version,Ka.dashboardCPUChart),u=Qa(t.version,Ka.dashboardRAMChart),{statistics:p,isPopulated:h,isUnsupported:m,error:v,requestTimestampMilliseconds:g}=Object(Fu.d)(nP),y=MP(()=>{e(Ln.actions.resourcesFetchRequested({server:t}))},[e,t]),f=MP(e=>{r(e)},[]),b=MP(e=>{o(e)},[]),I=MP(e=>{var t=e===n?Sy.All:e;r(t)},[n]),S=MP(e=>{var t=e===l?Sy.All:e;o(t)},[l]),M=MP(()=>{a.current&&window.clearTimeout(a.current)},[]);return CP(()=>{(d||u)&&y()},[d,u,y]),CP(()=>{if(g){var e=Date.now()-g,t=Math.max(5e3-e,0);a.current=window.setTimeout(y,t)}return()=>{a.current&&window.clearTimeout(a.current)}},[g,y]),m?null:Uu()(SP,{},void 0,Uu()(rP,{},void 0,Uu()("div",{className:IP.a.container},void 0,Uu()(Vv,{title:Object(Ze.default)("CPU")},void 0,d?Uu()("div",{},void 0,Uu()(wy,{values:c,activeValue:n,formatter:sP,onSelect:f})):null),Uu()("div",{className:IP.a.graph},void 0,d?Uu()(fP,{statistics:p,activeResourceType:n,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",isPopulated:h,errorMessage:v?Object(Ze.default)("Unable to load statistics"):void 0,onGraphResourceTypeSelect:I,onGraphTooltipActive:M,onGraphTooltipInactive:y}):Uu()(tg,{},void 0,Object(Ze.default)("The CPU chart requires Plex Media Server {version} or higher",{version:Ka.dashboardCPUChart}))))),Uu()(rP,{},void 0,Uu()("div",{className:IP.a.container},void 0,Uu()(Vv,{title:Object(Ze.default)("RAM")},void 0,u?Uu()("div",{},void 0,Uu()(wy,{values:c,activeValue:l,formatter:sP,onSelect:b})):null),Uu()("div",{className:IP.a.graph},void 0,u?Uu()(fP,{statistics:p,activeResourceType:l,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",isPopulated:h,errorMessage:v?Object(Ze.default)("Unable to load statistics"):null,onGraphResourceTypeSelect:S,onGraphTooltipActive:M,onGraphTooltipInactive:y}):Uu()(tg,{},void 0,Object(Ze.default)("The RAM chart requires Plex Media Server {version} or higher",{version:Ka.dashboardRAMChart}))))))};var TP=Object(uv.a)((function(e){return Object(_u.a)(Ub,t=>t.serverAccounts[e])}));var wP=Object(uv.a)((function(e){return Object(_u.a)(TP(e),e=>e.accounts.slice().sort(OD))})),EP=Object(_u.a)(xy,e=>e.topPlayed),NP=a("taPP"),xP=a.n(NP),AP=({className:e,title:t,isEmpty:a,metadataItem:i})=>{var[r]=wv();return(Uu()("div",{className:e},void 0,!a&&i?Uu()(tM,{serverEntityID:r.entityID,url:i.art||i.thumb,width:200,height:100,backgroundPosition:"center top"}):null,Uu()("div",{className:a?xP.a.emptyTitleBackground:xP.a.titleBackground},void 0,Uu()("div",{className:xP.a.title},void 0,t))))};function LP(e,t=""){var{type:a,title:i,parentTitle:r,grandparentTitle:n,index:s,parentIndex:o,originallyAvailableAt:l}=e;switch(a){case Wt.f:var c=n+" "+t+" "+Object(ZI.a)({seasonIndex:o,episodeIndex:s,date:l,noLeadingZero:!0,separator:"  "});return i&&(c+=" "+t+" "+i),c;case Wt.n:case Wt.a:return r+" "+t+" "+i;case Wt.p:return n+" "+t+" "+r+" "+t+" "+i;default:return i}}function kP(e,t,a){var i="metadataItemID="+t.ratingKey;return a&&(i+="&viewedAt="+Wy(a)),xD(e,{filters:i,filterTitle:LP(t),activeTimePeriod:a,isParentType:Object(Wt.y)(t.type)})}var RP=a("RVll"),zP=a.n(RP),UP=({className:e,style:t,metadataItem:a,activeTimePeriod:i})=>{var[r]=wv(),{key:n,type:s,title:o,thumb:l,globalViewCount:c,userCount:d}=a,u=s===Wt.b,p=lu(r,{isLibraryProvider:!0},n);return Uu()("div",{className:e,style:t},void 0,Uu()(qv,{className:u?zP.a.artistPoster:zP.a.poster,to:p},void 0,Uu()(PM,{serverEntityID:r.entityID,type:s,url:l,width:u?60:53,height:u?60:80})),Uu()("div",{className:zP.a.summary},void 0,Uu()(qv,{className:zP.a.itemTitle,title:o,to:p},void 0,o),Uu()(qv,{to:kP(r.machineIdentifier,a,i)},void 0,1===c?Object(Ze.default)("{count} play",{count:1}):Object(Ze.default)("{count} plays",{count:c})),Uu()("div",{},void 0,1===d?Object(Ze.default)("{count} user",{count:1}):Object(Ze.default)("{count} users",{count:d}))))},VP=a("gEbU"),BP=a.n(VP),FP=[.5,.4,.3,.2,.1,.05];var HP=({className:e,type:t,title:a,items:i=[],activeTimePeriod:r})=>{var n=0===i.length;return(Uu()("div",{className:e},void 0,Uu()(AP,{className:n?BP.a.header:BP.a.tintedHeader,metadataItem:i[0],isEmpty:n,title:a}),n?Uu()("div",{className:BP.a.emptyItem},void 0,function(e){switch(e){case Nr.Movie:return Object(Ze.default)("No Movies Played");case Nr.Show:return Object(Ze.default)("No TV Played");case Nr.Artist:return Object(Ze.default)("No Artists Played");case Nr.Game:return"No Games Played";default:return""}}(t)):i.map((e,t)=>Uu()(UP,{className:BP.a.item,style:{backgroundColor:"rgba(0, 0, 0, "+FP[t]+")"},metadataItem:e,activeTimePeriod:r},e.key))))},_P=a("8/e7"),QP=a.n(_P);var WP=({moviesStatistics:e,tvStatistics:t,musicStatistics:a,gameStatistics:i,activeTimePeriod:r,isSpinnerVisible:n,showGames:s,showList:o,errorMessage:l})=>{var c=o&&!l,d=function(e,t,a,i,r){var n=[{type:Nr.Movie,title:Object(Ze.default)("Movies"),items:e},{type:Nr.Show,title:Object(Ze.default)("TV"),items:t},{type:Nr.Artist,title:Object(Ze.default)("Artists"),items:a}];return r?n.concat({type:Nr.Game,title:"Games",items:i}):n}(e,t,a,i,s);return Uu()(df,{className:QP.a.container,isSpinnerVisible:n,errorMessage:l},void 0,c?d.map(e=>Uu()(HP,{className:QP.a.column,type:e.type,title:e.title,items:e.items,activeTimePeriod:r},e.type)):null)},{Fragment:GP,useCallback:YP,useEffect:KP,useMemo:qP,useState:ZP}=Ed.a,XP=({showGames:e})=>{var t=Object(Fu.c)(),[a]=wv(),i=ZP(null),r=i[1],n=i[0],s=ZP(ky.Month),o=s[1],l=s[0],c=qP(()=>[ky.Week,ky.Month,ky.NinetyDays,ky.Year,ky.AllTime],[]),d=Qa(a.version,Ka.dashboardTopPlayedChart),{moviesStatistics:u,tvStatistics:p,musicStatistics:h,gameStatistics:m,isPending:v,isPopulated:g,error:y}=Object(Fu.d)(EP),f=Rv(v,!0),b=Object(Fu.d)(wP(a.machineIdentifier)),I=YP(e=>{r(e)},[]),S=YP(e=>{o(e)},[]);return KP(()=>{t(Mn.actions.populateRequested({server:a}))},[t,a]),KP(()=>{d&&t(Ln.actions.topPlayedFetchRequested({server:a,accountID:n?n.id:void 0,viewedAt:Wy(l),limit:6}))},[l,n,t,d,a]),Uu()(GP,{},void 0,Uu()(Vv,{title:Object(Ze.default)("Top Played")},void 0,d?Uu()("div",{},void 0,Uu()(wD,{accounts:b,activeAccount:n,onAccountSelect:I}),Uu()(wy,{values:c,activeValue:l,formatter:_y,onSelect:S})):null),d?Uu()(WP,{moviesStatistics:u,tvStatistics:p,musicStatistics:h,gameStatistics:m,activeTimePeriod:l,isSpinnerVisible:f,showGames:e,showList:!f&&g,errorMessage:y?Object(Ze.default)("Unable to load statistics"):null}):Uu()(tg,{},void 0,Object(Ze.default)("The Top Played chart requires Plex Media Server {version} or higher",{version:Ka.dashboardTopPlayedChart})))},JP=a("g/3I"),$P=a.n(JP),eO=Ed.a.createElement,tO=e=>{var{children:t,className:a=$P.a.iconButton,activeClassName:i=$P.a.isActive,disabledClassName:r=$P.a.isDisabled,iconClassName:n,iconComponent:s,isDisabled:o=!1,isActive:l=!1,title:c,ariaLabel:d}=e,u=Je()(e,["children","className","activeClassName","disabledClassName","iconClassName","iconComponent","isDisabled","isActive","title","ariaLabel"]),p=d||c;return eO(qv,tp()({},u,{className:(a||"")+" "+(o&&r||"")+" "+(l&&i||""),isDisabled:o,"aria-label":p,title:c}),Uu()(s,{className:n}),t)},aO=Object(_u.a)(xy,e=>e.topUsers);function iO(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}iO.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rO=iO;function nO(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}nO.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var sO,oO=nO;function lO(e,t){return Math.max(Math.min(e,t-1),0)}function cO({direction:e=sO.Vertical,rows:t,columns:a,overscan:i=0,innerHorizontalPadding:r=0,innerVerticalPadding:n=0,outerPaddingTop:s=0,outerPaddingRight:o=0,outerPaddingBottom:l=0,outerPaddingLeft:c=0,getCellWidth:d,getCellHeight:u}){return{getListMeasurements(i,p){var h=i.listTop,m=i.listLeft,v=(i.viewportWidth||0)-o-c,g=(i.viewportHeight||0)-s-l;e===sO.Vertical?v-=m:g-=h,v=Math.max(0,v),g=Math.max(0,g);var y=d({innerViewportWidth:v,innerViewportHeight:g,innerHorizontalPadding:r,innerVerticalPadding:n}),f=u({cellWidth:y,innerViewportWidth:v,innerViewportHeight:g,innerHorizontalPadding:r,innerVerticalPadding:n}),b=Math.max(0,t||Math.floor((g+n)/(f+n))),I=Math.max(0,a||Math.floor((v+r)/(y+r))),S=I*b,M=0,C=0;return e===sO.Vertical&&I?(M=I*(y+r)-r,C=Math.ceil(p/I)*(f+n)-n):e===sO.Horizontal&&b&&(M=Math.ceil(p/b)*(y+r)-r,C=b*(f+n)-n),{width:M+o+c,height:C+s+l,outerPaddingTop:s,outerPaddingRight:o,outerPaddingBottom:l,outerPaddingLeft:c,listTop:h,listLeft:m,cellWidth:y,cellHeight:f,cellsPerColumn:b,cellsPerRow:I,cellsPerPage:S}},getPositionForIndex(t,a){var{listTop:i,listLeft:o,cellWidth:l,cellHeight:d}=a,u=function(t,a){return e===sO.Vertical?t%a.cellsPerRow:Math.floor(t/a.cellsPerColumn)}(t,a),p=function(t,a){return e===sO.Vertical?Math.floor(t/a.cellsPerRow):t%a.cellsPerColumn}(t,a);return{column:u,row:p,cellX:u*(l+r)+o+c,cellY:p*(d+n)+i+s,cellWidth:l,cellHeight:d}},getRangesForPosition(t,a,s,o){var{listTop:l,listLeft:c,cellWidth:d,cellHeight:u,cellsPerColumn:p,cellsPerRow:h,cellsPerPage:m}=o,v=u+n,g=d+r,y=t-l,f=a-c,b=e===sO.Vertical?h:p,I=e===sO.Vertical?y/v:f/g,S=m+2*b+i*b*2,M=Math.ceil(I)*b,C=M+m-1,D=M-b*i,P=lO(D,s)+S-1;return P>=s&&(D=s-S),{visibleStartIndex:lO(M,s),visibleEndIndex:lO(C,s),renderStartIndex:lO(D,s),renderEndIndex:lO(P,s)}}}}function dO(e){var{columnWidth:t,rowHeight:a}=e,i=Je()(e,["columnWidth","rowHeight"]);return cO(Object.assign({direction:sO.Horizontal,rows:1,getCellWidth:()=>t,getCellHeight:()=>a,overscan:4},i))}!function(e){e.Vertical="vertical",e.Horizontal="horizontal"}(sO||(sO={}));var uO=a("HR/i"),{useEffect:pO,useRef:hO}=Ed.a,mO=window.ResizeObserver||uO.a;var vO=function(e){var t=hO(null),a=hO(null);return pO(()=>(t.current&&(a.current=new mO(e),a.current.observe(t.current)),()=>{var e;null==(e=a.current)||e.disconnect(),a.current=null}),[e]),t},{Fragment:gO,memo:yO,useEffect:fO,useRef:bO}=Ed.a;var IO=yO((function({keyPropName:e,items:t,totalSize:a,layout:i,measurements:r,renderStartIndex:n,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l,cellComponentFactory:c,minPageCount:d,pageRequestDelay:u,onPageRequest:p,onListUpdate:h}){var m=Gb(n),v=bO(!1);n!==m&&(v.current=null!=m&&n<m),fO(()=>{var e;if(p&&d){var i,r=v.current,o=(s-n+1)*d,l=!1;if(r){var c=Math.max(s-o+1,0);for(i=s;i>=c;){if(null==t[i]){l=!0;break}i--}}else{var h=Math.min(n+o-1,a-1);for(i=n;i<=h;){if(null==t[i]){l=!0;break}i++}}l&&(e=window.setTimeout(()=>{p({startIndex:i,size:o,isPrepend:r})},u))}return()=>window.clearTimeout(e)},[t,d,p,u,m,s,n,a]),fO(()=>{h&&h({renderStartIndex:n,renderEndIndex:s,visibleStartIndex:o,visibleEndIndex:l})},[h,s,n,l,o]);for(var g=[],y=n;y<=s;y++){var f=t[y],b=y>=o&&y<=l,I=i.getPositionForIndex(y,r);g.push(c(Object.assign({key:String(f&&e?f[e]:y),isVirtual:!0,isVisible:b,cellIndex:y,item:f},I)))}return(Uu()(gO,{},void 0,g))})),{useEffect:SO,useMemo:MO}=Ed.a;function CO({className:e,children:t,keyPropName:a,items:i,totalSize:r,layout:n,cellComponentFactory:s,viewportWidth:o,viewportHeight:l,listTop:c=0,listLeft:d=0,scrollTop:u,scrollLeft:p,isWaitingToRestoreScrollPosition:h=!1,minPageCount:m=3,pageRequestDelay:v=200,onPageRequest:g,onListReady:y,onListUpdate:f}){var b=MO(()=>n.getListMeasurements({viewportWidth:o,viewportHeight:l,listTop:c,listLeft:d},r),[o,l,n,c,d,r]),{renderStartIndex:I,renderEndIndex:S,visibleStartIndex:M,visibleEndIndex:C}=MO(()=>n.getRangesForPosition(u,p,r,b),[n,b,p,u,r]);return SO(()=>{y&&y(b)},[b,y]),Uu()("div",{className:e,style:{width:b.width,height:b.height}},void 0,h?null:Uu()(IO,{keyPropName:a,items:i,totalSize:r,layout:n,measurements:b,renderStartIndex:I,renderEndIndex:S,visibleStartIndex:M,visibleEndIndex:C,cellComponentFactory:s,minPageCount:m,pageRequestDelay:v,onPageRequest:g,onListUpdate:f}),t)}var DO={},PO={getPageKey:()=>window.location.hash,getKey:e=>PO.getPageKey()+"!"+e,get:e=>DO[e],set(e,t){DO[e]=t},remove(e){delete DO[e]},clear(){DO={}}},OO=PO,{useCallback:jO,useEffect:TO,useMemo:wO,useRef:EO,useState:NO}=Ed.a;function xO({key:e,shouldRestoreImmediately:t=!1,onScrollPositionChange:a}){var i=wO(()=>OO.getKey(e+"!scrollPosition!"),[e]),r=EO(OO.get(i)),n=EO(null),s=NO(!(!t||!r.current)),o=s[1],l=s[0],c=NO(t&&r.current?r.current.scrollTop:null),d=c[1],u=c[0],p=NO(t&&r.current?r.current.scrollLeft:null),h=p[1],m=p[0],v=jO(()=>{var e=r.current;e&&(o(!0),d(e.scrollTop),h(e.scrollLeft),r.current=null)},[]),g=jO(e=>{n.current=e,a&&a(e)},[a]);return TO(()=>{l&&(o(!1),d(null),h(null))},[l]),TO(()=>()=>{var e=n.current;e&&(e.scrollTop||e.scrollLeft)?OO.set(i,e):OO.remove(i)},[i]),{isWaitingToRestoreScrollPosition:l||!t&&!!r.current,scrollRestoreProps:l?{targetScrollTop:u,targetScrollLeft:m,smoothScroll:!1,onScrollPositionChange:g}:{onScrollPositionChange:g},onScrollPositionReady:v}}var AO=a("ogW7"),LO=a.n(AO),kO=Ed.a.createElement,{useCallback:RO,useMemo:zO,useState:UO}=Ed.a;function VO(e,t){if(t.shouldCenterCell){var a=(t.viewportDimension-t.cellDimension)/2,i=Math.round(e-a);return Math.max(i,0)}return e-(t.offset||0)}function BO(e){var t,a,{className:i=LO.a.scroller,scrollerKey:r="VirtualListScroller",scrollerStyle:n,virtualListClassName:s,layout:o,scrollDirection:l=$u.Vertical,targetScrollIndex:c,shouldCenterScrollIndex:d=!1,autoScroll:u=!0,smoothScroll:p=!0,renderAboveList:h,renderBelowList:m,onListReady:v}=e,g=Je()(e,["className","scrollerKey","scrollerStyle","virtualListClassName","layout","resizeTimeout","scrollDirection","targetScrollIndex","shouldCenterScrollIndex","autoScroll","smoothScroll","renderAboveList","renderBelowList","onListReady"]),y=UO({scrollTop:0,scrollLeft:0}),f=y[1],b=y[0],I=UO({width:0,height:0}),S=I[1],M=I[0],C=!(!M.width||!M.height),D=UO(void 0),P=D[1],O=D[0],j=RO(([e])=>{S({width:e.target.clientWidth,height:e.target.clientHeight})},[]),T=vO(j),w=zO(()=>{if(O&&M&&null!=c){var e=o.getPositionForIndex(Math.max(c,0),O);return function(e,t,a){var{shouldCenterCell:i,measurements:r,listMeasurements:n}=a;return{scrollTop:e===$u.Vertical||e===$u.Omni?VO(t.cellY,{shouldCenterCell:i,viewportDimension:r.height,offset:n.outerPaddingTop,cellDimension:t.cellHeight}):0,scrollLeft:e===$u.Horizontal||e===$u.Omni?VO(t.cellX,{shouldCenterCell:i,viewportDimension:r.width,offset:n.outerPaddingLeft,cellDimension:t.cellWidth}):0}}(l,e,{shouldCenterCell:d,measurements:M,listMeasurements:O})}},[o,O,M,l,d,c]);w&&(t=w.scrollTop,a=w.scrollLeft);var E=RO(({scrollLeft:e,scrollTop:t})=>{f({scrollTop:t,scrollLeft:e})},[]),{isWaitingToRestoreScrollPosition:N,scrollRestoreProps:x,onScrollPositionReady:A}=xO({key:r,onScrollPositionChange:E}),L=RO(e=>{P(e),A(),v&&v(e)},[v,A]);return kO(up,tp()({className:i,style:n,scrollDirection:l,autoScroll:u,smoothScroll:p,targetScrollTop:t,targetScrollLeft:a,ref:T},x),h&&!N?h(M):null,C?kO(CO,tp()({className:s,layout:o,scrollTop:b.scrollTop,scrollLeft:b.scrollLeft,isWaitingToRestoreScrollPosition:N,viewportWidth:M.width,viewportHeight:M.height,onListReady:L},g)):null,m&&!N?m(M):null)}var{useEffect:FO,useMemo:HO,useReducer:_O,useRef:QO}=Ed.a;function WO(e){var{style:t,moveDurationMilliseconds:a=400,isVirtual:i,isVisible:r,cellIndex:n,cellX:s,cellY:o,cellWidth:l,cellHeight:c}=e,d=Gb(n),u=null!=d&&n!==d,p=QO(u),h=p.current||u,m=QO(!0);i&&!r||(m.current=!1);var v=_O(e=>e+1,0)[1],g=HO(()=>i?Object.assign({position:"absolute",width:l,height:c,transform:"translate3d("+s+"px, "+o+"px, 0)",zIndex:h?1:0,transition:h?"transform "+Dg.a.defaultSpeed:"none",transitionDuration:h?a+"ms":"0"},t):Object.assign({position:"relative"},t),[s,o,l,c,t,a,h,i]);return FO(()=>{var e;return h&&(p.current=!0,e=window.setTimeout(()=>{p.current=!1,v()},2*a)),()=>{e&&window.clearTimeout(e)}},[a,h,v]),{style:g,isOffscreenPlaceholder:m.current}}var GO=a("TYqB"),YO=a.n(GO),KO=a("3+Hb"),qO=a.n(KO),{memo:ZO}=Ed.a,XO=[YO.a.serverDashboardTileRowBackgroundPrimaryColor,YO.a.serverDashboardTileRowBackgroundSecondaryColor,YO.a.serverDashboardTileRowBackgroundTertiaryColor,YO.a.serverDashboardTileRowBackgroundQuaternaryColor];function JO(e){return Ym(1e3*e)||Object(Ze.default)("{1} min",0)}var $O=ZO(e=>{var{activeTimePeriod:t,item:a}=e,i=Je()(e,["activeTimePeriod","item"]),[r]=wv(),n=WO(Object.assign({},i,{moveDurationMilliseconds:0}));if(!a)return null;var{accountID:s,username:o,thumb:l,playCount:c,totalDuration:d,durations:u}=a,p=Object.keys(u).sort((e,t)=>u[e]>u[t]?-1:u[e]<u[t]?1:0);return Uu()("div",{style:n.style},void 0,Uu()("div",{className:qO.a.summaryContainer},void 0,Uu()(JS,{className:qO.a.avatar,serverEntityID:r.entityID,url:l,width:50,height:50}),Uu()("div",{className:qO.a.summary},void 0,Uu()("div",{},void 0,1===c?Object(Ze.default)("{playCount} play",{playCount:c}):Object(Ze.default)("{playCount} plays",{playCount:c})),Uu()("div",{},void 0,JO(d))),Uu()(qv,{className:qO.a.playHistoryLink,to:xD(r.machineIdentifier,{filters:"accountID="+s+"&viewedAt="+Wy(t),activeTimePeriod:t})},void 0,Object(Ze.default)("View Play History"))),Uu()("div",{className:qO.a.username,title:o},void 0,o),p.map((e,t)=>Uu()("div",{className:qO.a.metadataRow,style:{backgroundColor:XO[t]}},e,Uu()("div",{className:qO.a.metadataTitle},void 0,ND(parseInt(e,10))),Uu()("div",{className:qO.a.duration},void 0,JO(u[e])))))}),ej=a("1kJW"),tj=a.n(ej),aj=Ed.a.createElement,{useMemo:ij}=Ed.a,rj=dO({columnWidth:200,rowHeight:290,innerHorizontalPadding:40});var nj=({activeTimePeriod:e,accounts:t,statistics:a,isSpinnerVisible:i,showList:r,showGames:n,errorMessage:s,targetScrollIndex:o,smoothScroll:l,onListUpdate:c})=>{var d=ij(()=>function(e,t,a){return t?t.reduce((t,i)=>{var{accountID:r,metadataType:n,count:s,duration:o}=i;if(!(n in Iy)||-1===r||n===Iy.Game&&!a)return t;var l,c=t.findIndex(e=>e.accountID===r),d=-1!==c;if(d)l=t[c];else{var u=e.find(e=>e.id===r);l={accountID:r,username:null==u?void 0:u.name,thumb:null==u?void 0:u.thumb,playCount:0,totalDuration:0,durations:{[Iy.Movie]:0,[Iy.TV]:0,[Iy.Music]:0,[Iy.Photo]:0,[Iy.Game]:0}}}return l.playCount=l.playCount+s,l.totalDuration=l.totalDuration+o,l.durations[n]=l.durations[n]+o,d?t[c]=l:t.push(l),t},[]).sort((e,t)=>e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0):[]}(t,a,n),[t,a,n]),u=r&&0===d.length?Object(Ze.default)("No data"):null,p=s||u,h=r&&!p,m=ij(()=>t=>aj($O,tp()({},t,{activeTimePeriod:e})),[e]);return Uu()(df,{className:tj.a.container,isSpinnerVisible:i,errorMessage:p},void 0,h?Uu()(BO,{className:tj.a.listContainer,keyPropName:"accountID",items:d,totalSize:d.length,layout:rj,cellComponentFactory:m,scrollDirection:$u.Horizontal,targetScrollIndex:o,smoothScroll:l,onListUpdate:c}):null)},sj=a("IV0B"),oj=a.n(sj),{useCallback:lj,useEffect:cj,useMemo:dj,useRef:uj,useState:pj}=Ed.a,hj=({showGames:e})=>{var t=Object(Fu.c)(),[a]=wv(),i=uj(null),r=pj(!1),n=r[1],s=r[0],o=pj(!1),l=o[1],c=o[0],d=pj(0),u=d[1],p=d[0],h=pj(!1),m=h[1],v=h[0],g=pj(ky.Week),y=g[1],f=g[0],{accounts:b,statistics:I,isPending:S,isPopulated:M,error:C}=Object(Fu.d)(aO),D=Rv(S,!0),P=dj(()=>[ky.Day,ky.Week,ky.Month,ky.NinetyDays,ky.Year,ky.AllTime],[]),O=lj(e=>{y(e)},[]),j=lj(e=>{var{visibleStartIndex:t,visibleEndIndex:a,renderEndIndex:r}=e;i.current=e,n(t>0),l(r>a)},[]),T=lj(()=>{var e=i.current;if(e){var t=e.visibleEndIndex-e.visibleStartIndex;u(Math.max(e.visibleStartIndex-t-1,0)),m(!0)}},[]),w=lj(()=>{var e=i.current;e&&(u(e.visibleEndIndex+1),m(!0))},[]);return cj(()=>{t(Ln.actions.topUsersFetchRequested({server:a,timespan:Qy(f),after:Wy(f)}))},[f,t,a]),cj(()=>{u(0),m(!1)},[I]),Uu()("div",{className:oj.a.container},void 0,Uu()(Vv,{title:Object(Ze.default)("Top Users")},void 0,Uu()("div",{},void 0,Uu()(wy,{values:P,activeValue:f,formatter:_y,onSelect:O}),Uu()("div",{className:oj.a.listActions},void 0,Uu()(tO,{className:oj.a.listScrollButton,iconComponent:oO,isDisabled:!s,title:Object(Ze.default)("Previous Page"),onPress:T}),Uu()(tO,{className:oj.a.listScrollButton,iconComponent:rO,isDisabled:!c,title:Object(Ze.default)("Next Page"),onPress:w})))),Uu()(nj,{activeTimePeriod:f,accounts:b,statistics:I,isSpinnerVisible:D,showList:!D&&M,showGames:e,errorMessage:C?Object(Ze.default)("Unable to load statistics"):null,targetScrollIndex:p,smoothScroll:v,onListUpdate:j}))},mj=a.p+"desktop/common/img/upsell/upsell-server-dashboard-list.7a5c5fc090835f292a8fd031b54b39d6.svg",vj=a("XrH1"),gj=a.n(vj),{useCallback:yj}=Ed.a,fj=Uu()(DI,{}),bj=()=>{var e=Object(Fu.c)(),t=yj(()=>{Object(wa.a)(()=>{e(Object(Qu.f)({hasDismissedServerDashboardUpsell:!0}))})},[e]);return Uu()("div",{className:gj.a.upsell},void 0,Uu()("div",{className:gj.a.description},void 0,Object(Ze.default)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")+" ",Uu()(qv,{kind:Bv.Primary,to:"https://www.plex.tv/plex-pass",target:"_blank"},void 0,Object(Ze.default)("Learn more"))),Uu()("div",{className:gj.a.chartImageContainer},void 0,Uu()("img",{className:gj.a.image,src:String("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo=")})),Uu()("div",{className:gj.a.listImageContainer},void 0,Uu()("img",{className:gj.a.image,src:String(mj)})),Uu()(qv,{className:gj.a.button,onPress:t},void 0,fj))},{Fragment:Ij,useEffect:Sj}=Ed.a,Mj=Uu()(bj,{}),Cj=Uu()(rP,{},void 0,Uu()(PD,{})),Dj=Uu()(rP,{},void 0,Uu()(bb,{})),Pj=Uu()(jP,{}),Oj=()=>{var e=Object(Fu.c)(),[t]=wv(),a=t.ownerFeatures.includes(Tt.u),i=t.ownerFeatures.includes(Tt.t),r=Object(Fu.d)(xv("hasDismissedServerDashboardUpsell"));return Sj(()=>()=>{e(Ln.actions.reset())},[e]),Uu()(Ij,{},void 0,a||r?null:Mj,Cj,a?Uu()(Ij,{},void 0,Dj,Pj,Uu()(rP,{},void 0,Uu()(hj,{showGames:i})),Uu()(rP,{},void 0,Uu()(tP,{showGames:i})),Uu()(rP,{},void 0,Uu()(XP,{showGames:i}))):null)},jj=Uu()(Oj,{}),Tj=Hu.extend({component(e){var t=e.server;return(Uu()(Ev,{machineIdentifier:t.get("machineIdentifier"),providerIdentifier:jt.d},void 0,jj))}}),wj=a("Ctv7");function Ej(e,{limit:t}={},a=!1){if(!e)return"";var i=new Date;e=Math.round(e),"past"===t?e=Math.min(e,Object(zy.a)(i)):"future"===t&&(e=Math.max(e,Object(zy.a)(Object(wj.a)(i,1))));var r=Object(Xc.a)(e).getTime()-i.getTime();return function({milliseconds:e,isShorthand:t,isFuture:a}){var i=Math.abs(e)/1e3;i&&(i=i<1?1:Math.round(i));var r=Math.round(i/60),n=Math.round(r/60),s=Math.round(n/24),o=Math.round(s/30),l=Math.round(s/365),c={seconds:i,minutes:r,hours:n,days:s,months:o,years:l},d={unitOfTime:i<=44&&(t?Object(Ze.default)("{seconds}s",c):Object(Ze.default)("a few seconds",c))||i<45&&(t?Object(Ze.default)("{seconds}s",c):Object(Ze.default)("{seconds} seconds",c))||r<=1&&(t?Object(Ze.default)("{minutes}m",c):Object(Ze.default)("a minute",c))||r<45&&(t?Object(Ze.default)("{minutes}m",c):Object(Ze.default)("{minutes} minutes",c))||n<=1&&(t?Object(Ze.default)("{hours}h",c):Object(Ze.default)("an hour",c))||n<22&&(t?Object(Ze.default)("{hours}h",c):Object(Ze.default)("{hours} hours",c))||s<=1&&(t?Object(Ze.default)("{days}d",c):Object(Ze.default)("a day",c))||s<26&&(t?Object(Ze.default)("{days}d",c):Object(Ze.default)("{days} days",c))||o<=1&&(t?Object(Ze.default)("{months}mo",c):Object(Ze.default)("a month",c))||o<11&&(t?Object(Ze.default)("{months}mo",c):Object(Ze.default)("{months} months",c))||l<=1&&(t?Object(Ze.default)("{years}y",c):Object(Ze.default)("a year",c))||(t?Object(Ze.default)("{years}y",c):Object(Ze.default)("{years} years",c))};return a?Object(Ze.default)("in {unitOfTime}",d):Object(Ze.default)("{unitOfTime} ago",d)}({milliseconds:r,isShorthand:a,isFuture:"future"===t||"past"!==t&&r>0})}var Nj=function(e,t){return Ej(e,{limit:"past"},t)},xj="backgroundTranscodeJobs",Aj="syncMetadataItems",Lj=ut.a.extend({name:"SyncMetadataModel",entityType:Aj,entityID(e=this.state){return Object(pt.a)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new tt.a,cacheKey:function(){var e=ut.a.prototype.cacheKey.apply(this,arguments);return e+"!"+this.syncItemId}}),kj=ke.a.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:Lj,url(){return"/sync/items/"+this.syncItemId},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),Rj=a("Zf8S"),zj=a.n(Rj),Uj=B.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:zj.a,ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Fm({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",(function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))}))},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(D.a.bind((function(t){if(this.syncItem.id===t.get("syncItemId")){var a=this.model.get("thumb"),i=this.model.get("title"),r=t.get("transcodeThumb"),n=t.get("title"),s=n&&n.indexOf(i)>-1,o=!0;if(a&&r)o=new RegExp("(.+)"+t.get("thumb")+"$").exec(a);s&&o&&(e=t)}}),this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:Km(e.get("remaining"))||Object(Ze.default)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var a=0,i=t.length;a<i;a++)for(var r=t[a].Part,n=0,s=r.length;n<s;n++){var o=r[n],l=ot.getSyncStateFromPart(o);ot.failedRegex.test(l)&&(e=ot.getSyncStateContextFromPart(o)),ot.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),ot.waitingRegex.test(l)&&"processing"!==e&&(e=o.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return Object(Ze.default)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return Object(Ze.default)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return Object(Ze.default)("The client profile for the sync target is invalid.");case"ioError":return Object(Ze.default)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return Object(Ze.default)("The transcoder was unable to process this media.");case"mediaAnalysisError":return Object(Ze.default)("This media was unable to be analyzed.");case"downloadFailed":return Object(Ze.default)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return Object(Ze.default)("An error occurred while syncing this media.")}return Object(Ze.default)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),a=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":a.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(a.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":a.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(a.progress),this.$(".transcode-remaining").text(a.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),Vj=ym.extend({tagName:"ul",className:"list sync-status-list",itemView:Uj}),Bj=a("81Xg"),Fj=a.n(Bj),Hj=ni.extend({name:"syncStatusModal",template:Fj.a,regions:{list:".sync-status-list-container"},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.list.show(new Vj({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}}),_j=a("z4rd"),Qj=a.n(_j),Wj=B.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:Qj.a,metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,a=this.contentType,i=150;"episode"===t?t="show":"clip"===t?i=250:"directory"===t&&(t="audio"===a?"track":"photo"===a?"photo":"movie"),this.$el.addClass(t),this.image=new Fm({server:this.server,type:t,width:i}),this.progressModel=new I.c.Model({current:0});var r=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new kj([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(r,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=window.setInterval(D.a.bind((function(){this.metadataItems.fetch({reset:!0})}),this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,a=t.length;if(!a)return"unknown";for(var i="complete",r=[],n=[],s=0;s<a;s++){var o=t[s],l=o.get("Media");if(r.push(o.get("grandparentKey")),n.push(o.get("parentKey")),l.length||(i="unknown"),"failed"!==i&&"unknown"!==i)for(var c=0,d=l.length;c<d;c++)for(var u=l[c].Part,p=0,h=u.length;p<h;p++){var m=u[p],v=ot.getSyncStateFromPart(m);ot.failedRegex.test(v)&&(i="failed"),ot.processingRegex.test(v)&&(i="processing"),ot.waitingRegex.test(v)&&"processing"!==i&&(i=m.key?"waiting":"processing")}}return this.hasMultipleItems=a>1,this.hasSameGrandparents=1===D.a.compact(D.a.uniq(r)).length,this.hasSameParents=1===D.a.compact(D.a.uniq(n)).length,this.hasPoster||this.updatePoster(),i},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new Xm({model:this.progressModel,size:56}))},onClose:function(){window.clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var a=t[0],i=a.get("progress");if(this.ui.statusIcons.addClass("hidden"),i>0){this.ui.transcodeStatus.removeClass("hidden");var r=a.get("type"),n=Km(a.get("remaining"));if(this.progressModel.set("progress",i),"download"===r)this.progressModel.set("text",i.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ze.default)("Downloading"));else if("upload"===r)this.progressModel.set("text",i.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Ze.default)("Uploading"));else{if(a.get("speed")){var s=Math.round(10*a.get("speed"))/10;s>10&&(s=Math.round(s)),this.progressModel.set("text",s.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(n)}this.updatePoster(a.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),H.a.trigger("show:modal",new Hj({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),H.a.trigger("show:modal",new wl({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),Ge.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),Gj=ym.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:Wj}),Yj=a("aon8"),Kj=a.n(Yj),qj=B.Layout.extend({className:"sync-device-items-container",template:Kj.a,ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize(e){this.server=e.server,this.onDebouncedSyncItemsChange=D.a.debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList(){var e=this.model.get("syncList");e&&e.fetch().always(this.onDebouncedSyncItemsChange)},onSyncListChange(){this.fetchSyncList()},onDebouncedSyncItemsChange(){var e,t=this.model.get("syncList");t&&(e=t.clone()).resetToServer(this.server.id),this.ui.loading.addClass("hidden");var a=!e||0===e.getCollection().length;this.ui.empty.toggleClass("hidden",!a);var i=!e||e.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",i),!i){var r=e.device,n=r.get("lastSeenAt");n&&this.ui.deviceMessageText.text(Object(Ze.default)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",r.get("name"),Nj(n)))}e?this.list.show(new Gj({collection:e.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}}),Zj=a("57QN"),Xj=a.n(Zj),Jj=B.Layout.extend({className:"sync-container",template:Xj.a,transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=ie.c("appModel");this.routeOrigin=e.routeOrigin,this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn="ok"===this.model.get("myPlexSigninState"),this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:F.a.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0}),this.transcodeJobTimeout=window.setTimeout(D.a.bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new qj({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:Object(Ze.default)("The server needs a Plex Pass to use sync."),buttonText:Object(Ze.default)("Learn More"),target:"_blank",showButton:!this.shared}:{url:si(this.model.id,"settings","general"),message:Object(Ze.default)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:Object(Ze.default)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){window.clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();var t=T()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),rr(this.routeOrigin,{serverID:this.model.id,deviceID:t,replace:!0,trigger:!1}),this.render()},onDeviceClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(a),this.showList()},onEditClick:function(e){e.preventDefault(),T()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=Ge.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered((function(){this.selectedDevice.get("syncList").fetch()})))}});function $j(){return Object(_u.a)(RS(),e=>e.v4.core.serverNowPlayingSessions,(e,t)=>{var a;if(!e)return 0;var i=t[e.machineIdentifier],r=null==i?void 0:i.sessionKeys;return null!=(a=null==r?void 0:r.length)?a:0})}var eT=a("9OK2"),tT=a.n(eT),aT=Ed.a.createElement;function iT(e){var{className:t,children:a,kind:i,size:r}=e,n=Je()(e,["className","children","kind","size"]);return(aT(Vp,tp()({className:(t||"")+" "+(tT.a.button||"")+" "+(i&&tT.a[i]||"")+" "+(r&&tT.a[r]||"")},n),a))}iT.defaultProps={kind:Cp,size:Tp};var rT=iT,nT=Ed.a.createElement;function sT(e){for(var{className:t,component:a,childrenPropName:i,tags:r,message:n}=e,s=[n],o=r.length-1,l=0;o>=0;){for(var c=r[o],{open:d,close:u,unpaired:p,children:h,component:m,childrenPropName:v}=c,g=Je()(c,["open","close","unpaired","children","component","childrenPropName"]),y=d?new RegExp("(^.*)"+Sd("{"+d+"}")+"(.*)"+Sd("{"+u+"}")+"(.*$)"):new RegExp("(^.*)"+Sd("{"+p+"}")+"()(.*$)"),f=[],b=s.length-1;b>=0;b--){var I=s[b];if("string"!=typeof I)f.unshift(I);else{var S=I.match(y);if(S){var[,M,C,D]=S;m?f.unshift(M,nT(m,tp()({key:l},g,{[v||"children"]:C})),D):f.unshift(M,h,D),l+=1}else f.unshift(I)}}f.length===s.length?o-=1:s=f}return(nT(a,tp()({className:t},{[i]:s})))}sT.defaultProps={component:"span",childrenPropName:"children"};var oT=sT,lT=a("TGb9"),cT=a.n(lT);function dT(e){var{className:t,iconComponent:a,title:i,text:r}=e;return(Uu()("div",{className:t},void 0,Uu()("div",{className:cT.a.iconContainer},void 0,Uu()(a,{className:cT.a.icon})),Uu()("div",{className:cT.a.title},void 0,i),Uu()("div",{className:cT.a.text},void 0,r)))}dT.defaultProps={className:cT.a.upsell};var uT=dT,pT=a("LH2V"),hT=a.n(pT);function mT(e){var{className:t,iconComponent:a,title:i,text:r,moreInfo:n,children:s}=e;return(Uu()("div",{className:t},void 0,Uu()(uT,{className:hT.a.upsell,iconComponent:a,title:i,text:r}),Uu()("div",{className:hT.a.moreInfo},void 0,n),s))}mT.defaultProps={className:hT.a.info};var vT=a("/3H6"),gT=a.n(vT),yT=Ed.a.createElement,{Component:fT}=Ed.a,bT=mg(Dg.a.modalSpeed),IT={ease:"easeOut",duration:bT},ST={ease:Tg.a.motionEasing,duration:bT},MT={opacity:IT},CT=ag.b.div({enter:{opacity:1,transition:MT},exit:{opacity:0,transition:MT}}),DT={scale:ST,opacity:IT},PT=ag.b.div({enter:{opacity:1,scale:1,transition:DT},exit:{opacity:0,scale:.95,transition:DT}});class OT extends fT{constructor(...e){super(...e),this.onBackdropBeginPress=e=>{this._isBackdropPressed=this._isBackdropTarget(e)},this.onBackdropEndPress=e=>{!this.props.preventCloseOnBackdropPress&&this._isBackdropPressed&&this._isBackdropTarget(e)&&this.props.onModalClose(),this._isBackdropPressed=!1},this.onTouchMove=e=>{this._isBackdropPressed=!1},this.onTouchCancel=e=>{this._isBackdropPressed=!1},this.onKeyDown=e=>{var t=e.keyCode;9===t?Ig(e):27===t&&(e.preventDefault(),e.stopPropagation(),this.props.onModalClose(),Mg())}}componentDidMount(){this.props.isOpen&&this._openModal()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()}componentWillUnmount(){this.props.isOpen&&this._closeModal()}_openModal(){bg(Bu.a.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=window.setTimeout(Sg,bT),document.addEventListener("keydown",this.onKeyDown)}_closeModal(){window.clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)}_isBackdropTarget(e){var t=this._findEventTarget(e);if(t){var a=Bu.a.findDOMNode(this.refs.modal);return!a||!a.contains(t)}return!1}_findEventTarget(e){var t=e.changedTouches;if(!t)return e.target;if(1===t.length){var a=t[0];return document.elementFromPoint(a.clientX,a.clientY)}}render(){var{className:e,backdropClassName:t,containerClassName:a,children:i,size:r,isOpen:n}=this.props;return(Uu()(og,{isOpen:n,closeTimeout:bT,className:a},void 0,Uu()(ag.a,{animateOnMount:!0},void 0,n?Uu()(CT,{className:t,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},"backdrop",yT(PT,{key:"modal",initialPose:"exit",pose:"enter",className:e||gT.a[r],ref:"modal"},i)):null)))}}OT.defaultProps={backdropClassName:gT.a.modalBackdrop,containerClassName:gT.a.modalContainer,size:Tp,preventCloseOnBackdropPress:!1};var jT=OT,{Component:TT}=Ed.a;class wT extends TT{constructor(e,t){super(e,t),this.page=e.page}getChildContext(){return{metricsPage:this.page}}componentDidMount(){var e=this.props,{isDelegated:t}=e,a=Je()(e,["children","isDelegated"]);t||window.requestAnimationFrame(()=>{Object(ie.c)("metrics").trackView(a)})}componentWillReceiveProps(e){}componentDidUpdate(e){var{isDelegated:t}=e,a=Je()(e,["children","isDelegated"]),i=this.props,{isDelegated:r}=i,n=Je()(i,["children","isDelegated"]),s=t!==r||!Ep(a,n);!r&&s&&Object(ie.c)("metrics").trackView(n)}render(){return this.props.children?Ed.a.Children.only(this.props.children):null}}wT.childContextTypes={metricsPage:Oc.a.string.isRequired};var ET=wT,NT=Ed.a.createElement;var xT=function(e){var{children:t,metricsPage:a,metricsProperties:i}=e,r=Je()(e,["children","metricsPage","metricsProperties"]);return(NT(jT,r,NT(ET,tp()({},i,{page:a}),t)))},AT=a("Qxpn");var LT=function(e){return Object(AT.a)(e,e=>e.uuid,()=>!0)},kT=Object(_u.a)(mv("features"),LT),RT={};var zT=function(e){var t=RT[e]||Object(_u.a)(kT,t=>!!t[e]);return RT[e]=t,t},UT={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function VT(e,t){return t.some(t=>t.test(e))}function BT(e){for(var t in UT){if(VT(e,UT[t]))return t}return e}function FT(e){return HT({hubIdentifier:e.get("hubIdentifier"),identifier:e.provider.get("identifier"),machineIdentifier:e.server.get("machineIdentifier")})}function HT(e){var{identifier:t,hubIdentifier:a,machineIdentifier:i}=e;return i+"--"+t+"--"+BT(a)}function _T(e,t){var a={};for(var i in t)e.hasAttr(i)&&(a[i]=e.get(i));return a}function QT(e,t){var a=e.get("user").get("experienceSettings").get("homeSettings");a.set("settingsKey",Pe()),t(Object(Qu.f)({homeSettings:a}))}var WT=a("9/EM"),GT=[7,30,60,90];function YT(e=0){return Object(WT.a)(Date.now(),GT[e]||180)}function KT(e,t,a="message"){if(!e)return t;var i=Se.a.parseXML(e.responseText);return i&&i[a]?i[a]:t}function qT(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}function ZT(e){return e.isConnected?"online":"offline"}function XT(e){return e.isCloud?"online":e.isShared?"shared":"owned"}var JT=function(e,t=!0){Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:t,properties:{page:Rd.cb,action:kd.bb,serverType:XT(e),status:ZT(e),firstRun:!0}})};var $T=function(e){var{key:t,sourceType:a,machineIdentifier:i,providerIdentifier:r,directoryID:n,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}=e;return{key:t,sourceType:a,machineIdentifier:i,providerIdentifier:r,directoryID:n,directoryIcon:s,title:o,serverFriendlyName:l,serverSourceTitle:c,providerSourceTitle:d,isCloud:u,isFullOwnedServer:p}};function ew(e,t){var a=Object(ie.c)("appModel").get("cloudServer"),i=function(e){if(!e)return null;for(var[t,a]=e.split(","),i=t.substr(5),r=window.atob(a),n=[],s=0;s<r.length;s++)n.push(r.charCodeAt(s));var o=new Uint8Array(n);return new window.Blob([o],{type:i})}(e),r=new window.FormData;r.append("avatar",i),t&&r.append("userId",t);var n=a.getXHROptions("/api/v2/user",{type:"PUT",processData:!1,contentType:!1,data:r});return T.a.ajax(n)}var tw=function(e,t){var a,i=T.a.Deferred(),r=(new Date).getTime()+t;function n(){var e=(new Date).getTime(),t=Math.max(r-e,0);window.setTimeout(a,t)}return e.then((...e)=>{a=()=>i.resolve(...e)},(...e)=>{a=()=>i.reject(...e)}),e.then(n,n),i.promise()};var aw=function(e,t){var a=e.server.getXHROptions(D.a.result(e,"url"),{method:"POST",dataType:"json",data:br.a.stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return tw(T.a.ajax(a),400).then(t=>{e.reset(t)},e=>T.a.Deferred().reject(e.status&&e.responseJSON.errors||[]).promise())},iw=a("BWzY"),rw=xe.a.extend({name:"AutoHubsModel",context:["server","provider","includeExternalMedia"],idAttribute:"providerEntityID",sessionAttrs:{hubKey:Ae.a.string,machineIdentifier:Ae.a.string,providerIdentifier:Ae.a.string,contentDirectoryID:Ae.a.string,isPending:Ae.a.boolean.isRequired,isPopulated:Ae.a.boolean.isRequired,hubsError:Ae.a.object},sessionRelations:{hubs:{relationClass:iw.default,deferred:!0},server:{relationClass:ai,deferred:!0},provider:{relationClass:Sa,deferred:!0}},defaults:()=>({isPending:!0,isPopulated:!1,hubsError:null})});function nw(e){var{hubKey:t,server:a,provider:i,options:r}=e;return new iw.default([],Object.assign({count:16,excludes:["playlists"],libraryHubsOnly:!0,includeEmpty:!0,includeFeaturedTags:!0,includeTypeFirst:!0,includeRecentChannels:!0},r,{hubKey:t,server:a,provider:i}))}var sw=a("eosY");function ow(e){return{includeExternalMedia:Object(sw.a)(e,Tt.a),includeExternalMetadata:!0,includeStations:!0}}function lw({actionCreator:e,dispatch:t,hubs:a,serverModel:i}){a.server&&a.server!==i||a.forEach(r=>{var n=r.get("metadataList");if(r.server===i&&!r.get("random")&&!!n&&!!n.get("containerKey")){var s=e({metadataListEntityID:n.entityID(),count:a.count});t(s)}})}function cw(e){return!!e.user.anonymous}function dw(e,t=[],a=[]){return{anonymous:e,features:Object(AT.a)(t,e=>e.uuid,()=>!0),services:Object(AT.a)(a,e=>e.id,e=>e)}}var uw=Object(_u.a)(cw,mv("features"),mv("services"),dw),pw=a("j1Ci"),hw=["free"];function mw(e,t){var a=t&&t.requires;if(!a)return!0;if(a===Tt.o)return!e.anonymous;var i=e.services[a];return!!i&&!hw.includes(i.subscriptionType)}var vw=a("flN6"),gw=a("O57k");function yw(e){var{key:t,getModel:a}=e;var i=Object(gw.a)(t),r="is"+i+"Pending",n="is"+i+"Populated",s=t?t+"Error":"error";return(e,i)=>{var{startIndex:o,endIndex:l,pages:c=3,reloadThreshold:d=6,disableReloadThreshold:u}=i;var p=l-o+1,h=a(e,i),m=t?h.get(t):h;h.sessionAttrs;var v=m.get("populatedRange"),g=o,y=l;if(o<v.start?g=Math.max(0,o-p*c):y=o+p*c,!(g>=v.start&&y<=v.end)){var f=h.get(r);h.set(r,!0),m.populateRange({start:g,end:y,reloadThreshold:u?null:p*d}).done(()=>{h.set({[r]:!1,[n]:!0,[s]:null})}).fail((e,t)=>{t.aborting?h.set(r,f):h.set({[r]:!1,[s]:Object(vw.a)(t)})})}}}function fw(e){var{key:t,getModel:a}=e;var i=Object(gw.a)(t),r="is"+i+"Pending",n="is"+i+"Populated",s=t?t+"Error":"error";return(e,i={})=>{var{count:o}=i,l=a(e,i),c=t?l.get(t):l;l.sessionAttrs;var d=l.get(r);l.set(r,!0),c.repopulateRange(o).done(()=>{l.set({[r]:!1,[n]:!0,[s]:null})}).fail((e,t)=>{t.aborting?l.set(r,d):l.set({[r]:!1,[s]:Object(vw.a)(t)})})}}function bw(e,t={}){var{allowMetrics:a,metricsProperties:i={}}=t,r=e.server,n="/library/metadata/"+e.get("ratingKey")+"/analyze",s=r.getXHROptions(n,{type:"PUT"}),o=e.get("mediaState"),l=Object(Wt.x)(e.get("type"));l||e.set("mediaState","analyzing");var c=T.a.ajax(s).fail(t=>{l||"analyzing"!==e.get("mediaState")||e.set("mediaState",o)});return a&&Object(ie.c)("metrics").trackClick(Object.assign({},i,{action:kd.h,type:e.get("type")})),c.promise()}function Iw(e,t,a){var{rating:i,allowMetrics:r,metricsProperties:n={}}=a,s=e.get("features").get(Ot.b).get("actions").get(Pt.e);if(!s)return T.a.Deferred().reject().promise();var o={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:i},l=_.join(s.get("key"),o),c=e.getXHROptions(l,{type:"PUT"}),d=t.get("userRating"),u=-1===i?void 0:i;t.set("userRating",u);var p=T.a.ajax(c).fail(e=>{t.get("userRating")===u&&t.set("userRating",d)});return r&&Object(ie.c)("metrics").trackClick(Object.assign({},n,{action:kd.U,type:t.get("type"),rating:i})),p.promise()}function Sw(e,t={}){var{allowMetrics:a,metricsProperties:i={}}=t,r=e.server,n="/library/metadata/"+e.get("ratingKey")+"/refresh",s=r.getXHROptions(n,{type:"PUT"}),o=e.get("metadataState");e.set("metadataState","queued");var l=T.a.ajax(s).fail(t=>{"queued"===e.get("metadataState")&&e.set("metadataState",o)});return a&&Object(ie.c)("metrics").trackClick(Object.assign({},i,{action:kd.V,type:e.get("type")})),l.promise()}function Mw(e,t={}){var{played:a,providerEntityID:i,serverEntityID:r,metadataItemEntityID:n}=t,s=Object(Ta.j)(e,t);if(null==s){return T.a.Deferred().reject({errorMessage:"Could not find providerModel with provided `providerEntityID`"}).promise()}if(null==Object(Ta.m)(e,t)){return T.a.Deferred().reject({errorMessage:"Could not find serverModel with provided `serverEntityID`"}).promise()}var o=Object(Ta.q)(e,{metadataItemEntityID:n});if(null==o){return T.a.Deferred().reject({errorMessage:"Could not find metadataModel with provided `metadataItemEntityID`"}).promise()}var l=s.get("features").get(Ot.b).get("actions").get(Pt.g),c=a?l.get("key"):l.get("reverseKey"),d={identifier:o.get("identifier")||"com.plexapp.plugins.library",key:o.get("ratingKey")},u=_.join(c,d),p=T.a.ajax(s.getXHROptions(u));return p.then(()=>{var t={providerEntityID:i,serverEntityID:r,metadataItemEntityID:o.entityID()};!function e(t,a,i,r){var n=Object(Ta.q)(t,a);if(!n)return;var s,o=Object(Wt.u)(n.get("type")),l=Object(pt.a)(ht.g,n.get("parentKey"),a.serverEntityID),c=Object(Ta.q)(t,{metadataItemEntityID:l});c&&(s=Object(Wt.u)(c.get("type")));if(s&&s.typeString===o.parent){var d,u=Object(Wt.x)(n.get("type"));i?d=u?n.get("unviewedLeafCount"):1:(d=u?n.get("viewedLeafCount"):1,d*=-1);var p=null!=r?r:d;c.set({viewedLeafCount:c.get("viewedLeafCount")+p});var h=Object.assign({},a,{metadataItemEntityID:l});e(t,h,i,p)}}(e,t,a),function e(t,a,i){var r=Object(Ta.q)(t,a);if(!r)return;if(Object(Wt.x)(r.get("type"))){r.set({viewedLeafCount:i?r.get("leafCount"):0});var n=Object(pt.a)(ht.h,r.get("childrenKey"),a.providerEntityID||a.serverEntityID),s=Object(Ta.r)(t,{metadataListEntityID:n});s&&s.get("metadataItems").forEach(r=>{var n=Object.assign({},a,{metadataItemEntityID:r.entityID()});e(t,n,i)})}else r.set({viewOffset:0,viewCount:i?1:0})}(e,t,a)}),p}var Cw=a("5CKu");var Dw=function(e){return 10===e.userRating},Pw=a("k1Cv");function Ow(e,t){var a,i,r=Object(Ta.m)(e,{serverEntityID:t.server.entityID}),n=Object(Ta.j)(e,{providerEntityID:t.provider.entityID});t.itemServer&&(a=Object(Ta.m)(e,{serverEntityID:t.itemServer.entityID})),t.itemProvider&&(i=Object(Ta.j)(e,{providerEntityID:t.itemProvider.entityID}));var s=en()(Object.assign({},t.metadataItem,t.metadataItemState));if(s.source){var{serverIdentifier:o,providerIdentifier:l}=Object(Bn.a)(s.source);o===t.server.machineIdentifier&&l===t.provider.identifier&&delete s.source}var c=new ut.a(s,{server:r,provider:n,identifier:t.provider.identifier,parse:!0});null==c._populatedParams&&(c._populatedParams={});var d={includeExternalMedia:1};return s.preferences&&(d.includePreferences=1),s.extras&&(d.includeExtras=1),s.stations&&(d.includeStations=1),s.onDeck&&(d.includeOnDeck=1),s.popularLeaves&&(d.includePopularLeaves=1),s.Concert&&(d.includeConcerts=1),s.Chapter&&(d.includeChapters=1),Object.assign(c._populatedParams,d),{serverModel:r,providerModel:n,itemServerModel:a,itemProviderModel:i,metadataItemModel:c}}var jw=a("Se/U"),Tw=a("LPPQ"),ww=xe.a.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:Ae.a.string,title:Ae.a.string}}),Ew=ke.a.extend({name:"LibraryDirectoryCollection",context:["server"],model:ww}),Nw=a("V0eM"),xw=a("03RP"),Aw=xe.a.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType(){return Object(st.a)(this.server)},url(){var e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),_.join(this.get("key"),e)},sessionAttrs:{key:Ae.a.string.isRequired},syncedAttrs:{librarySectionID:Ae.a.string},syncedRelations:{directories:{relationClass:Ew,rootPropertyName:"Directory"},types:{relationClass:xw.a,rootPropertyName:"Type"},fieldTypes:{relationClass:Nw.a,rootPropertyName:"FieldType"}},augmentResponse(e){if(e.Directory&&e.Directory.length&&e.Directory.some(({key:e})=>"folder"===e)&&e.Type&&e.Type.length&&e.Type.every(({type:e})=>"folder"!==e)){var t=e.librarySectionID;e.Type.push({key:"/library/sections/"+t+"/folder",type:"folder",title:Object(Ze.default)("Folders")})}return e}}),Lw="date",kw=a("gsFU"),Rw=xe.a.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,tag:{type:Ae.a.string,save:!0},tagType:Ae.a.integer,librarySectionID:Ae.a.string,librarySectionKey:Ae.a.string,librarySectionType:Ae.a.integer,librarySectionTitle:Ae.a.string,filter:Ae.a.string,role:Ae.a.string,thumb:Ae.a.string,count:Ae.a.integer,directory:Ae.a.boolean,type:Ae.a.string,context:Ae.a.string}}),zw=ke.a.extend({name:"TagCollection",context:["server","section"],model:Rw}),Uw=a("r+E8"),Vw=xe.a.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:Ae.a.string,save:!0},locked:{type:Ae.a.boolean,save:!0}}}),Bw=ke.a.extend({name:"LockedFieldCollection",context:["server","section"],model:Vw}),Fw={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},Hw={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}},_w=xe.a.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:()=>!1,url(){return _.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl(){return _.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl(){return D.a.result(this.section,"url")},sessionAttrs:{metadataItems:Ae.a.array.isRequired,editableTags:Ae.a.array,originalSaveParams:Ae.a.object,poster:Ae.a.string,banner:Ae.a.string,art:Ae.a.string},syncedAttrs:{mixedFields:Ae.a.list.isRequired,key:{type:Ae.a.string,save:!0},ratingKey:{type:Ae.a.string,save:!0},parentRatingKey:{type:Ae.a.string,save:!0},grandparentRatingKey:{type:Ae.a.string,save:!0},title:{type:Ae.a.string,save:!0},titleSort:{type:Ae.a.string,save:!0},originalTitle:{type:Ae.a.string,save:!0},parentTitle:{type:Ae.a.string,save:!0},grandparentTitle:{type:Ae.a.string,save:!0},year:{type:Ae.a.string,save:!0},tagline:{type:Ae.a.string,save:!0},summary:{type:Ae.a.string,save:!0},studio:{type:Ae.a.string,save:!0},contentRating:{type:Ae.a.string,save:!0},originallyAvailableAt:{type:Ae.a.string,save:!0},rating:{type:Ae.a.float,save:!0},userRating:{type:Ae.a.float,save:!0},index:{type:Ae.a.integer,save:!0},parentIndex:{type:Ae.a.integer,save:!0}},sessionRelations:{preferences:{relationClass:Uw.a}},syncedRelations:Object.keys(Fw).reduce((e,t)=>(e[Fw[t]]={relationClass:zw,rootPropertyName:t,save:!0},e),{lockedFields:{relationClass:Bw,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type(){var e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle(){if(this.get("metadataItems").length)return lt.a.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem(){return 1===this.get("metadataItems").length}},defaults:()=>({metadataItems:[],mixedFields:[]}),initialize(e,t){this.set("metadataItems",D.a.clone(t.metadataItems))},getSingleMetadataItem(){return D.a.first(this.get("metadataItems"))},getUrlParams(){var e=Object(Wt.u)(this.get("type")),t=D.a.map(this.get("metadataItems"),e=>e.get("ratingKey"));return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams(){var e=xe.a.prototype.getSaveParams.apply(this,arguments),t=this.get("originalSaveParams");if(!t)return e;var a={};if(D.a.each(e,(e,i)=>{var r=t[i];D.a.isEqual(e,r)||D.a.extend(a,this.getSaveParam(i,e,r))}),a.isReparenting){delete a.isReparenting;var i=Hw[this.get("type")];D.a.each(i,(e,t)=>{var i=e+".value",r=this.getQueryAttrSibling(e)+".value",n=D.a.has(a,i),s=D.a.has(a,r);if(n&&s&&i!==r&&delete a[r],!n&&!s){var o=this.get(t);o&&(a[i]=o)}})}return a},getSaveParam(e,t,a){if("Field"===e)return this.getFieldSaveParams(e,t,a);if(Fw.hasOwnProperty(e))return this.getTagSaveParams(e,t,a);var i=Hw[this.get("type")];if(i&&D.a.has(i,e)){var r=i[e];return t?{isReparenting:!0,[r+".value"]:t}:void 0}return{[e+".value"]:t}},getFieldSaveParams:(e,t,a)=>t.reduce((e,t)=>(e[t.name+".locked"]=t.locked,e),{}),getTagSaveParams(e,t,a){var i=D.a.map(t,e=>e.tag),r=D.a.map(a,e=>e.tag),n=D.a.without(r,...i),s=e.toLowerCase(),o={};return i.forEach((e,t)=>{o[s+"["+t+"].tag.tag"]=e}),n.length&&(o[s+"[].tag.tag-"]=D.a.map(n,encodeURIComponent).join(",")),o},getQueryAttr(e){var t=this.get("type"),a=Hw[t];return a&&a[e]||e},getQueryAttrSibling(e){var t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}}),Qw=B.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each((function(e){t[e.get("name")]=e.get("locked")}));var a=this.model.toJSON(),i=this.model.get("mixedFields"),r={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return i&&i.forEach((function(e){r[e]=Object(Ze.default)("MIXED")})),{item:a,locked:t,placeholders:r,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce((function(e,t){return e[t.get("name")]=t.get("locked"),e}),{});return e.find(".edit-lock-addon").each((function(e,a){var i=T()(a),r=i.data("field");i.hasClass("locked")?t[r]=!0:r in t&&(t[r]=!1)})),D.a.map(t,(function(e,t){return{name:t,locked:e}}))},onLockClick:function(e){e.preventDefault(),T()(e.currentTarget).hasClass("disabled")||T()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof T.a?e:T()(e.currentTarget);if(!e.force){var a=t.data("original-value");if(void 0===a&&(a=t.attr("value")||t.val()),t.data("original-value",a),t.val()===a)return}t.siblings(".edit-lock-addon").addClass("locked")}}),Ww=a("BDy8"),Gw=a.n(Ww),Yw=Qw.extend({template:Gw.a,serializeData(){var e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce((t,a)=>{var i=e.get(a.id);return i?t.push(i.toJSON()):t.push(a.toJSON()),t},[]):t.toJSON()},flushChanges(){var e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),a=this.model.get("preferences");e.forEach(e=>{var i=a.get(e.name)||t.get(e.name),r=i.clone();r.parseAndSetValue(e.value),r.get("value")!==i.get("value")&&a.add(r,{merge:!0})})}}),Kw=xe.a.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:Ae.a.string,ratingKey:Ae.a.string,thumb:Ae.a.string,selected:Ae.a.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),qw=ke.a.extend({name:"ArtworkCollection",context:["server","artworkType"],model:Kw,url(){var e=_.parseUrl(D.a.result(this.parent,"url"));return _.join([e.pathname,this.artworkType+"s"],e.params)}}),Zw=a("m7TM"),Xw=a.n(Zw),Jw=B.Layout.extend({tagName:"span",template:Xw.a,regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,a=150;"art"===t?a=240:"banner"===t&&(a=520),this.$el.addClass(t),this.image=new Bm({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:xm[t],width:a,height:Am.getPosterHeight(t,a)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),$w=ym.extend({className:"artwork-options-list",itemView:Jw}),eE=a("mJEB"),tE=a.n(eE),aE=B.Layout.extend({template:tE.a,dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new qw([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:F.a.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),a=D.a.extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),i=[],r=D.a.bind((function(e){/image\//.test(e.type)&&(a.data=e,i.push(T.a.ajax(a)))}),this);D.a.each(e,r),i.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(T.a.when.apply(T.a,i))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=_.join(this.collection.url(),{url:e}),a=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(T.a.ajax(a))},monitorUpload:function(e){e.done(D.a.bind((function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new ut.a({key:this.metadataItem.get("key")},e);D.a.isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()}),this)),e.fail(this.whenRendered((function(){this.ui.upload.addClass("show-error")}))),e.always(this.whenRendered((function(){this.ui.upload.removeClass("show-progress")})))},onRender:function(){this.list.show(new $w({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=a}}),iE=a("buR4"),rE=a.n(iE),nE=B.ItemView.extend({className:"player-slider",template:rE.a,dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){D.a.bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=T()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var a=this.getValueForPosition(e);this.setValue(a)&&this.displayValue(a,t)},getValueForPosition:function(e){var t=this.ui.track,a=(e-t.offset().left)/t.width();return a=Math.min(Math.max(a,0),1),a=Math.round(100*a)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}}),sE=a("999L"),oE=a.n(sE),lE=nE.extend({tagName:"span",className:"rating star-rating",template:oE.a,disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:D.a.extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},nE.prototype.events),initialize:function(e){nE.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,a=(e-t.offset().left)/t.width();return a=Math.min(Math.max(a,0),1),a=2*Math.ceil(5*a)},persistValue:function(){var e=this.currentValue||-1;Ge.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each((function(e){var a=t>e;T()(this).toggleClass("star",a).toggleClass("dislikes",!a)})),this.$el.toggleClass("unrated",!e)},onRender:function(){nE.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}}),cE=xe.a.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:Ae.a.string,ratingKey:Ae.a.string,parentRatingKey:Ae.a.string,grandparentRatingKey:Ae.a.string,type:Ae.a.string,title:Ae.a.string,parentTitle:Ae.a.string,grandparentTitle:Ae.a.string,tag:Ae.a.string,tagType:Ae.a.integer}});function dE(e,t,a){var i=/!$/.test(a),r=/\.id$/.test(a);if(i||r)return e[a]=t,e;var n=a.match(/^(.+)\.(.+)/);return n&&(e.type=Object(Wt.u)(n[1]).id,a=n[2]),e[a+".query"]=t,e}var uE=ke.a.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:cE,url(){var e={type:Object(Wt.u)(this.multiMetadataItem.get("type")).id,limit:10};return e=D.a.reduce(this.query,dE,e),_.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e}),pE=function(e,t){var a=T()(t),i=a.attr("name"),r=i.replace(/parentTitle$/,"parentRatingKey");r===i&&(r=null);var n,s=e.model.getQueryAttr(i),o=e.model.getQueryAttrSibling(i),l=s!==i,c=l?"title":i,d=l?"ratingKey":c,u=e.model.get("type");n=l?s.match(/(^.*)\./)[1]:"title"===c?u:null;var p=a.data("scopeToAttr"),h=a.data("scopeToParam"),m=a.data("ratingKey"),v=!m;m&&(m=m.toString());var g=!l,y={};h&&e.listenTo(e,"reset_selectize:"+h,(function(){j.loadedSearches={}}));var f,b,I=e.model["original.updateValues."+i];I?(f=I.updateAttr,b=I.altUpdateAttr):(f=e.model.get(i),r&&(b=parseInt(e.model.get(r),10)),e.model["original.updateValues."+i]={updateAttr:f,altUpdateAttr:b});var S=e.model["original.general."+i];if(!S){S=[];var M={};M[c]=f,M.ratingKey=m,S=[M],e.model["original.general."+i]=S}var C=[e.model.get(r)||e.model.get(i)],P=function(){var e=j.$dropdown_content.children();j.$dropdown.toggleClass("hidden",e.length<=1)},O=function(){D.a.defer(P)};a.data("autocompleteAttr",c),a.data("updateAttr",i),r&&a.data("altUpdateAttr",r);var j=a.selectize({options:S,items:C,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:c,valueField:d,sortField:c,searchField:[c],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:g,manualInputWidth:!0,loadingClass:"",onFocus:function(){j.preloaded||(j.preloaded=!0,j.onSearchChange(j.$control_input.val()))},createFilter:function(e){return y[c]=e,!D()(this.options).findWhere(y)},load:function(t,a){if(t.length){var i={};if(i[s]=t,p){var r=e.model.get(p);if(!r)return void a();i[h]=r}new uE([],{server:e.model.server,multiMetadataItem:e.model,query:i}).fetch().done((function(e){a(e.map((function(e){return e.toJSON()}))),P()}))}else a()},render:{option:function(e,t){var a;return a=(r?e.ratingKey===String(b):e[c]===f)?'<small class="autocomplete-annotate pull-right">('+(n&&!v?Object(Ze.default)("this {1}",n):Object(Ze.default)("original value"))+")</small>":"","<div>"+t(e[c])+a+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){j.$dropdown.addClass("hidden")},onDropdownOpen:function(){j.$dropdown.addClass("hidden"),O()},onType:D.a.bind((function(e){if(j.canCreate(e)){var t=T()(j.$dropdown_content[0].childNodes[0]);j.setActiveOption(t)}O(),this.onLockableFieldChange({currentTarget:j.$input,force:!0})}),e),onOptionAdd:function(e,t){var a=D.a.pick(t,c,"ratingKey");D.a.findWhere(S,a)||S.splice(S.length,0,t)},onChange:function(t){var r=this.options[t];if(r){if(l){var n=r.ratingKey===r[c];a.data("isText",n)}e.flushChanges();var d=e.model.changedAttributes();D.a.has(d,s)||D.a.has(d,o)?e.trigger("focusSubmit"):D.a.defer((function(){j.onBlur()})),e.trigger("reset_selectize:"+i),P()}}})[0].selectize;j.$dropdown.addClass("hidden")},hE=a("611r"),mE=a.n(hE),vE=a("FQAj"),gE=a.n(vE),yE=a("L6Cy"),fE=a.n(yE),bE=a("eEL/"),IE=a.n(bE),SE=a("PHkR"),ME=a.n(SE),CE=a("WQVZ"),DE=a.n(CE),PE=a("K5nX"),OE=a.n(PE),jE=a("B8UO"),TE=a.n(jE),wE=a("e/8p"),EE=a.n(wE),NE=a("HAvv"),xE=a.n(NE),AE=a("FePx"),LE=a.n(AE);function kE(e){return D.a.reduce(e,(function(e,t){return e[t]=!0,e}),{})}var RE={movie:ME.a,show:xE.a,season:EE.a,episode:IE.a,artist:gE.a,album:mE.a,track:LE.a,photoalbum:DE.a,photo:OE.a,playlist:TE.a,collection:fE.a},zE=Qw.extend({regions:{ratingRegion:".rating-region"},ui:D.a.extend({selectizeInputs:".selectize input[type=text]"},Qw.prototype.ui),initialize:function(e){var t=this.model.get("type"),a=Wt.u(t);this.template=RE[t]||RE[Wt.j],this.canSelectize=this.model.server.supports("batchEdit")&&a,this.canReparent=this.model.server.supports("batchEdit")},serializeData(){return Object.assign({},Qw.prototype.serializeData.apply(this),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form;if(e&&e.find){var t=e.find(".selectize input[tabindex=-1]"),a=kE(D.a.pluck(t,"name")),i=kE(D.a.pluck(e.find("[type=number]"),"name")),r=D()(e.serializeArray()).reject((function(e){return a[e.name]}),this),n=D.a.reduce(r,(function(e,t){if(i[t.name]){var a=t.value.trim();if(a)return e[t.name]=parseFloat(a,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e}),{},this);D.a.each(t,(function(e){var t=T()(e),a=t.data("updateAttr"),i=t.data("altUpdateAttr"),r=t.data("isText"),s=e.selectize.getValue();if(i)if(r)n[a]=s,n[i]=null;else{var o=e.selectize.options[s];if(o){var l=o[t.data("autocompleteAttr")];n[a]=l,n[i]=s}}else n[a]=s}));var s=this.model.get("lockedFields");s&&s.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(n)}},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),D()(e).each((function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text(Object(Ze.default)("Required"))}),this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new lE({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each((function(t,a){pE(e,a)}))}}}),UE=a("0vpL"),VE=a.n(UE),BE=B.ItemView.extend({template:VE.a,tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}}),FE=a("b3Ly"),HE=a.n(FE),_E=B.CompositeView.extend({template:HE.a,className:"files",itemView:BE,itemViewContainer:"ul",initialize:function(){this.collection=new So,this.populateParts().always(this.whenRendered((function(){this.$(".loading").addClass("hidden")})))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return D.a.each(t,a),t}function a(e){D.a.each(e.Part,i)}function i(t){e.push(t)}var r=this.model.getSingleMetadataItem();return t(r)?T.a.Deferred().resolve():r.populate().then((function(){if(!t(r)&&r.has("childrenKey")){var e=new Qi.default({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider,skipCache:!0});return e.fetch().then((function(){e.get("metadataItems").each(t)}))}}))},flushChanges:function(){}}),QE=(a("ZDL3"),a("hpd0")),WE=function(e,t){var a=T()(t),i=a.data("name"),r=a.data("query")||a.data("name"),n=a.data("attr"),s=!!a.data("only-delete"),o=e.model.get(n).toJSON(),l=D.a.pluck(o,"tag"),c=e.model["original.tag."+i];c||(c=D.a.clone(o),e.model["original.tag."+i]=c);var d=D.a.difference(l,D.a.pluck(c,"tag"));if(d.length){var u=D.a.map(d,(function(e){return{tag:e}}));u.unshift(c.length,0),c.splice.apply(c,u)}var p=function(t){e.model["original.allTagsRequested."+i]=!0,new QE.a({filter:i,filterType:"string"},{server:e.model.server,section:e.section,type:Object(Wt.u)(e.model.get("type")).id}).get("options").populate().then(D.a.bind((function(a){e.model["original.allTagsAvailable."+i]=!0,t(a.map((function(e){return{tag:e.attributes.title}})))}),e))};a.data("original-value",a.val()),a.selectize({options:c,items:l,plugins:["remove_button"],create:!0,hideDropdown:s,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!D()(this.options).findWhere({tag:e})},onInitialize:function(){s&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(a)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,a){if(r!==i||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+i]||0===t.length)a();else{var n={};n[r]=t;var s=new uE([],{server:e.model.server,multiMetadataItem:e.model,query:n}),o=r===i?function(e){return e.toJSON()}:function(e){return{tag:e.get(r)}};s.fetch().done((function(e){var t=e.map(o);a(t)})).fail((function(){a()}))}else e.model["original.allTagsRequested."+i]?a():p.call(e,a)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+Object(Ze.default)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+Object(Ze.default)("blank")+")</small>")+"</div>"}}})},GE=a("NN/D"),YE=a.n(GE),KE=a("I36r"),qE=a.n(KE),ZE=a("9TTh"),XE=a.n(ZE),JE=a("W/xp"),$E=a.n(JE),eN=a("hrOP"),tN=a.n(eN),aN=a("ceEp"),iN=a.n(aN),rN=a("8Pq2"),nN=a.n(rN),sN=Qw.extend({templatesByType:{movie:$E.a,show:iN.a,episode:XE.a,artist:qE.a,album:YE.a,track:nN.a,photo:tN.a},ui:D.a.extend({tagInputs:".tag-input-hidden"},Qw.prototype.ui),events:D.a.extend({"change .lockable-field":"onLockableFieldChange"},Qw.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new St.a({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=D.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{}),a=D.a.reduce(this.ui.tagInputs,(function(e,t){var a=t.selectize,i=T()(t).data("name");return e[T()(t).data("attr")]=D.a.map(a.items,(function(e){var t=a.options[e];return{tag:t.tag,id:t.id}})),this.model["original.tag."+i]=D.a.toArray(a.options),e}),{},this);D.a.each(a,(function(e,t){this.model.get(t).set(e,{parse:!0})}),this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData(){return this.model.get("editableTags").reduce((e,t)=>(e.editableTags[t]=!0,e),Qw.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each((function(t,a){WE(e,a)}))}}),oN=a("AsNd"),lN=a.n(oN),cN=sN.extend({templatesByType:{movie:lN.a,show:lN.a,album:lN.a,photo:lN.a},serializeData:function(){var e=ie.c("appModel"),t=e.get("user"),a=sN.prototype.serializeData.apply(this,arguments),i=t.get("features").get(Tt.c);return D.a.extend(a,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:Ka.labels,hasContentFilterFeature:i,plexPassUrl:t.server.get("plexPassUrl")}),a}}),dN=a("d0sW"),uN=a.n(dN),pN={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","tags","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},hN=["poster","art","banner","info","advanced"];function mN({server:e,provider:t,metadataTypeName:a,sectionKey:i}){var r=new Aw({key:"/library/sections/"+i},{server:e,provider:t,includeAdvanced:!0});return r.populate().then(()=>{var e=r.get("types").findWhere({type:a});return e?e.get("fields").filter(e=>"tag"===e.get("type")).map(e=>e.get("key")):[]})}var vN=ni.extend({mixins:[Wd],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:uN.a,panes:{general:{constructor:zE},tags:{constructor:sN},poster:{constructor:aE},art:{constructor:aE},banner:{constructor:aE},sharing:{constructor:cN},info:{constructor:_E},advanced:{constructor:Yw}},events:Object.assign({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},ni.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){ni.prototype.initialize.apply(this,arguments);var t=e.items||[this.model],a=t[0],i=a.server;this.model=new _w({},{server:i,metadataItems:t}),this.on("before:close",this.onBeforeClose),this._initCancelable=Object(yf.a)(a.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then(()=>{var e=Object(kw.a)(a,{onlyIfCached:!1});return this.model.setContext("section",e),this.model.populate().then(()=>e.get("key"))}).then(e=>mN({server:i,provider:a.provider,metadataTypeName:this.model.get("type"),sectionKey:e}))),this._initCancelable.promise.then(t=>{this.model.set({editableTags:t,originalSaveParams:this.model.getSaveParams()}),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(H.a,"shortcut:save",this.saveChanges)},({isCanceled:e})=>{e||(this.ui.message.text(Object(Ze.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden"))})},serializeData:function(){var e=this.model.get("type"),t=pN[e]||pN[Wt.j];this.model.get("isSingleMetadataItem")||(t=D.a.difference(t,hN)),this.model.getSingleMetadataItem().has("preferences")||(t=D.a.difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=D.a.difference(t,["info"])),e!==Wt.k||this.model.server.supports("photoTagEdit")||(t=D.a.difference(t,["tags"]));var a=Object(Ze.default)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:Object(AT.a)(t,e=>e,()=>!0),selectedPane:this.selectedPane,paneTitle:a}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[],a=this.model.get("type");if(a===Wt.p){var i=D.a.has(e,"artist.id.value")||D.a.has(e,"artist.title.value")||D.a.has(e,"album.id.value")||D.a.has(e,"album.title.value"),r=e["album.id.value"]||e["album.title.value"],n=e["artist.id.value"]||e["artist.title.value"];!i||n&&r||(n||t.push("grandparentTitle"),r||t.push("parentTitle"))}else if(a===Wt.a&&!this.model.get("isSingleMetadataItem")){var s=this.model.get("mixedFields"),o=D.a.has(e,"artist.title.value")||D.a.has(e,"artist.id.value"),l=D.a.includes(s,"ratingKey"),c=D.a.has(e,"title.value");l&&c&&!o&&t.push("parentTitle")}if(D.a.has(e,"originallyAvailableAt.value")){var d=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(d)&&(e["originallyAvailableAt.value"]+="-01-01",d=e["originallyAvailableAt.value"]),""!==d){var u=Object(jw.a)(Object(Tw.a)(d,"yyyy-MM-dd",new Date)),p=Object(jw.a)(Object(Tw.a)(d,"yyyy-MM-dd HH:mm:ss",new Date));u||p||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",d)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var a=[],i=this.model.getSaveParams(),r=this.invalidChangedAttrs(i);if(r.length)this.markInvalid(r);else{e.addClass("active");var n=this.showAdvancedConfirmModal({saving:!0});n.done(()=>{["poster","banner","art"].forEach(e=>{var t=this.model.get(e);t&&a.push(Ge.execute("changeArtwork",{item:this.model.getSingleMetadataItem(),artworkType:e,artworkRatingKey:t}))}),a.push(this.savePreferences()),a.push(this.model.save());var i=T.a.when.apply(T.a,a);i.done(()=>{var e=ie.c("appStore").dispatch,t=this.model.server.entityID();t&&e(Object(ji.c)({serverEntityID:t})),this.hide()}),i.fail((function(){t.text(Object(Ze.default)("Your changes could not be saved."))})),i.always((function(){e.removeClass("active")}))}),n.fail(()=>{e.removeClass("active"),this.showPane("advanced")})}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return T.a.Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),a=_.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),i=this.model.server.getXHROptions(a,{type:"PUT"}),r=T.a.ajax(i);return r.done(()=>{var a=t.get("preferences");e.forEach((function(e){a.get(e.id).set("value",e.get("value"))}));var i=ie.c("appStore").dispatch,r=Object(an.a)({serverIdentifier:this.model.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:t.get("key")});i(yn.actions.preferenceChanged({sourceURI:r,preferences:e.toJSON()}))}),r},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some((function(e){return/^autoDeletion/.test(e.id)})))return T.a.Deferred().resolve().promise();var e=new mi({title:Object(Ze.default)("Confirm Deletion Settings"),message:Object(Ze.default)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Ze.default)("Multiple files may be deleted."),doubleConfirmLabel:Object(Ze.default)("Yes, I'm sure"),hasDanger:!0});return H.a.trigger("show:modal",e),e.promise},onBeforeClose:function(e){this._initCancelable.cancel()},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),gN=it.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,"selected"),t},parse:function(e,t){var a=this.convert(e);return a=D.a.pick(a,this.whitelistedAttrs)}}),yN=So.extend({model:gN,url:"/clients/profiles?type="+tr.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),fN=it.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseInteger(t,"id"),t},parse:function(e,t){var a=this.convert(e);return a=D.a.pick(a,this.whitelistedAttrs)}}),bN=So.extend({model:fN,url:"/library/tags?type="+tr.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}}),IN=a("NAGO"),SN=a.n(IN),MN=B.ItemView.extend({className:"modal-body",template:SN.a,events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}}),CN=a("9IAt"),DN=a.n(CN),PN=B.ItemView.extend({className:"convert-location-container form-group",template:DN.a,events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}}),ON=a("fZAC"),jN=a.n(ON),TN=B.ItemView.extend({className:"convert-target-container form-group",template:jN.a,ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=gl.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var a=this.model.get("mediaSettings").get("maxVideoBitrate");if(a){var i=gl.a.getNearestIndexToBitrate(a);this.selectedCustomQuality=gl.a.getQualityByIndex(i)}else this.selectedCustomQuality=D.a.first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=gl.a.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}}),wN=a("4gIP"),EN=a.n(wN),NN=B.Layout.extend({template:EN.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var a=new St.a({key:t},{server:this.model.server,onlyIfCached:!0});D.a.isEmpty(a)||(this.tempModel.section=a)}}else{var i,r=e.item,n=e.items,s=r.has("childrenKey")?new Qi.default({containerKey:r.get("childrenKey")},{server:r.server,provider:r.provider}):r,o=r.server;if(r.get("isSection"))i=r;else{var l=Object(kw.a)(r);D.a.isEmpty(l)||(i=l)}this.tempModel=new ll({title:lt.a.title(r,{items:n}),targetTagID:this.targets.first().id,Location:{uri:lt.a.uri(s,{items:n})}},{server:o,section:i})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new pl({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new TN({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new PN({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var a=this.tempModel.get("Device");this.tempModel.set("target",Object(Ze.default)("Custom: {1}",a.profile))}var i=this.playlist.addContent(this.tempModel);i.done(this.whenRendered((function(){if(this.model){var e=D.a.omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")}))),i.fail(this.whenRendered((function(e){var t=e.responseText,a=Be.a.parseXML(t),i=a&&a.status;this.trigger("request:state","error",i)})))}}}),xN=a("Ty6D"),AN=a.n(xN),LN=B.ItemView.extend({className:"modal-body loading-container",template:AN.a}),kN=a("9iqW"),RN=a.n(kN),zN=B.ItemView.extend({className:"modal-body",template:RN.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),rr("conversion",{serverID:this.options.server.id})}}),UN=a("xHef"),VN=a.n(UN),BN=ni.extend({mixins:[Xo],name:"convertModal",className:"convert-modal modal fade",template:VN.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new um([],t),this.targets=new bN([],t),this.profiles=new yN([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new LN),this.listenForStateRequests();var e=this.options.item,t=e&&!e.get("isMetadataList"),a=T.a.when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());a.done(this.whenRendered((function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")}))),a.fail(this.whenRendered((function(){this.enterState("error")})))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new NN({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new zN({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new MN({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}}),FN=Object(Pa.a)("multiSelect/redispatchLegacyMuliselectAction"),HN=Object(Pa.a)("multiSelect/selectItem"),_N=Object(Pa.a)("multiSelect/selectModels"),QN=Object(Pa.a)("multiSelect/deselectAllItems"),WN=Object(Pa.a)("multiSelect/deselectModels"),GN=Object(Pa.a)("multiSelect/deselectCollection"),YN=Object(Pa.a)("multiSelect/selectRange"),KN=Object(Pa.a)("multiSelect/deselectRange"),qN=Object(Pa.a)("multiSelect/playSelectedItems"),ZN=Object(Pa.a)("multiSelect/favoriteSelectedItems"),XN=Object(Pa.a)("multiSelect/unfavoriteSelectedItems"),JN=(Object(Pa.a)("multiSelect/updateSelectedItemsPlayedStatus"),Object(Pa.a)("multiSelect/editSelectedItems")),$N=Object(Pa.a)("multiSelect/refreshSelectedItems"),ex=Object(Pa.a)("multiSelect/analyzeSelectedItems"),tx=Object(Pa.a)("multiSelect/syncMetadataItems"),ax=Object(Pa.a)("multiSelect/optimizeMetadataItems"),ix=Object(Pa.a)("multiSelect/mergeSelectedItems"),rx=Object(Pa.a)("multiSelect/deleteSelectedItems"),nx=Object(Pa.a)("multiSelect/playSelectedItems",e=>{var{options:t={}}=e,a=Je()(e,["options"]);return Object.assign({},a,{options:Object.assign({},t,{shuffle:!0})})}),sx=Object(Pa.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>Object.assign({},e,{played:!0})),ox=Object(Pa.a)("multiSelect/updateSelectedItemsPlayedStatus",e=>Object.assign({},e,{played:!1})),lx=Object(Pa.a)("multiSelect/queueSelectedItems",e=>{var{options:t={}}=e,a=Je()(e,["options"]);return Object.assign({},a,{options:Object.assign({},t,{next:!1})})}),cx=Object(Pa.a)("multiSelect/queueSelectedItems",e=>{var{options:t={}}=e,a=Je()(e,["options"]);return Object.assign({},a,{options:Object.assign({},t,{next:!0})})});function dx(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map(e=>e.get("model").entityID())}function ux(e){return e.map(e=>e.entityID())}var px={"multiSelect/redispatchLegacyMuliselectAction"(e,t,a){var i=t.items.map(t=>{var{metadataItemModel:a}=Ow(e,t);return a}),r=t.legacyAction.type,n=t.legacyAction.payload;a({type:r,payload:Object.assign({},n,{items:i})})},"multiSelect/selectItem"(e,t,a){var{type:i,model:r,collection:n,isRangeSelect:s=!1}=t,o=e.get("ui").get("multiSelect"),l=o.get("activeSelectionType"),c=o.get("activeSelectionRange");if(!l||l===i){if(o.listenToCollection(n),!s||!c||c.collection!==n)return o.set("activeSelectionRange",{collection:n,startModel:r}),void a(_N([{id:r.id,type:i,model:r}]));var d=c.startModel,u=c.endModel,p=n.indexOf(d),h=n.indexOf(r);if(u){var m=n.indexOf(u);a(KN({collection:n,range:{start:p,end:m}}))}o.set("activeSelectionRange",{collection:n,startModel:d,endModel:r}),a(YN({type:i,collection:n,range:{start:p,end:h}}))}},"multiSelect/selectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},"multiSelect/deselectAllItems"(e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},"multiSelect/deselectModels"(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},"multiSelect/deselectCollection"(e,t,a){var i=e.get("ui").get("multiSelect"),r=i.get("activeSelectionItems"),n=[];i.stopListening(t),t.each(e=>{r.get(e.id)&&n.push(e.id)}),n.length&&a(WN(n))},"multiSelect/selectRange"(e,t,a){var{type:i,collection:r,range:n}=t,s=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];Pw.a.each(n,e=>{var t=r.at(e);t&&!s.get(t.id)&&o.push({id:t.id,type:i,model:t})}),o.length&&a(_N(o))},"multiSelect/deselectRange"(e,t,a){var{collection:i,range:r}=t,n=e.get("ui").get("multiSelect").get("activeSelectionItems"),s=[];Pw.a.each(r,e=>{var t=i.at(e);t&&n.get(t.id)&&s.push(t.id)}),s.length&&a(WN(s))},"multiSelect/playSelectedItems"(e,t,a){var i=t.items?ux(t.items):dx(e);a(Object(Cw.p)(Object.assign({},t,{metadataItemEntityIDs:i})))},"multiSelect/queueSelectedItems"(e,t,a){var i=t.items?ux(t.items):dx(e);a(Object(Cw.j)(Object.assign({},t,{metadataItemEntityIDs:i})))},"multiSelect/favoriteSelectedItems"(e,t,a){var i=Object(Ta.j)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model"),n=T.a.Deferred().resolve().promise();r.forEach(e=>{n=n.then(()=>Iw(i,e,{rating:10}))}),n.fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error favoriting an item.")))})},"multiSelect/unfavoriteSelectedItems"(e,t,a){var i=Object(Ta.j)(e,t),r=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model"),n=T.a.Deferred().resolve().promise();r.forEach(e=>{n=n.then(()=>Iw(i,e,{rating:-1}))}),n.fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error unfavoriting an item.")))})},"multiSelect/updateSelectedItemsPlayedStatus"(e,t,a){var i=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("model"),r=T.a.Deferred().resolve().promise();i.forEach(a=>{r=r.then(()=>Mw(e,Object.assign({},t,{metadataItemEntityID:a.entityID()})))}),r.fail(()=>{var e=t.played?Object(Ze.default)("There was an unexpected error marking an item played."):Object(Ze.default)("There was an unexpected error marking an item unplayed.");a(Object(ji.d)(e))}),r.always(()=>{var e={};i.forEach(t=>{var i=t.server.entityID();e[i]||(e[i]=!0,a(Object(ji.c)({serverEntityID:i})))})})},"multiSelect/editSelectedItems"(e,t){var a,i=e.get("ui").get("multiSelect"),r=null!=(a=t.items)?a:i.get("activeSelectionItems").pluck("model"),n=new vN({items:r});H.a.trigger("show:modal",n)},"multiSelect/refreshSelectedItems"(e,t,a){var i,r=e.get("ui").get("multiSelect"),n=null!=(i=t.items)?i:r.get("activeSelectionItems").pluck("model"),s=T.a.Deferred().resolve().promise();n.forEach(e=>{s=s.then(()=>Sw(e))}),s.fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error refreshing an item.")))})},"multiSelect/analyzeSelectedItems"(e,t,a){var i,r=e.get("ui").get("multiSelect"),n=null!=(i=t.items)?i:r.get("activeSelectionItems").pluck("model"),s=T.a.Deferred().resolve().promise();n.forEach(e=>{s=s.then(()=>bw(e))}),s.fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error analyzing an item.")))})},"multiSelect/syncMetadataItems"(e,t){var a,i=e.get("ui").get("multiSelect"),r=null!=(a=t.items)?a:i.get("activeSelectionItems").pluck("model");Ge.execute("showSyncModal",{item:D.a.first(r),items:r})},"multiSelect/optimizeMetadataItems"(e,t){var a,i=e.get("ui").get("multiSelect"),r=null!=(a=t.items)?a:i.get("activeSelectionItems").pluck("model"),n=new BN({item:D.a.first(r),items:r});H.a.trigger("show:modal",n)},"multiSelect/mergeSelectedItems"(e,t){var a,i=e.get("ui").get("multiSelect"),r=null!=(a=t.items)?a:i.get("activeSelectionItems").pluck("model"),[n,...s]=r;Ge.execute("merge",{item:n,items:s})},"multiSelect/deleteSelectedItems"(e,t,a){var i,r=e.get("ui").get("multiSelect"),n=null!=(i=t.items)?i:r.get("activeSelectionItems").pluck("model"),s=t.options||{};Ge.execute("deleteItems",Object.assign({},s,{items:n,skipConfirmation:!0}))}},hx=a("MLhB");function mx(e,{homeUserEntityID:t}){return Object(hx.a)(e,ht.b,t)}function vx(e,{playerIdentifier:t}){var a=e.get("user").get("desktop").get("cloudCompanions");for(var i of a.models){var r=i.get("cloudPlayers").findWhere({playerIdentifier:t});if(r)return r}return e.get("companionServer").get("desktop").get("players").findWhere({playerIdentifier:t})}var gx=Object(Pa.a)("metadata/metadataList/fetchMetadataList"),yx=Object(Pa.a)("metadata/metadataList/populateMetadataList"),fx=Object(Pa.a)("metadata/metadataList/populateMetadataListRange"),bx=Object(Pa.a)("metadata/metadataList/repopulateMetadataListRange"),Ix=Object(Pa.a)("metadata/metadataList/syncMetadataList"),Sx=Object(Pa.a)("metadata/metadataList/optimizeMetadataList"),Mx=Object(Pa.a)("metadata/metadataList/selectMetadataListItem"),Cx=Object(Pa.a)("metadata/metadataList/deselectMetadataListItem"),Dx=Object(Pa.a)("metadata/metadataList/selectMetadataListItems"),Px=Object(Pa.a)("metadata/metadataList/deselectMetadataListItems"),Ox=Object(Pa.a)("metadata/metadataList/deselectAllMetadataListItems"),jx=Object(Pa.a)("metadata/metadataList/resetMetadataList"),Tx=Object(Pa.a)("metadata/metadataList/redispatchLegacyMetadataListAction");function wx(e,t,a={}){Object(ie.c)("metrics").trackClick(Object.assign({page:t,action:e,context:_t.LIST},a))}var Ex={"metadata/metadataList/fetchMetadataList":Object(Oa.a)({getModel:Ta.g}),"metadata/metadataList/populateMetadataList":Object(ja.a)({fetchActionCreator:gx,getModel:Ta.g}),"metadata/metadataList/populateMetadataListRange":yw({getModel:Ta.g}),"metadata/metadataList/repopulateMetadataListRange":fw({getModel:Ta.g}),"metadata/metadataList/syncMetadataList"(e,t){var a=Object(Ta.g)(e,t);Ge.execute("showSyncModal",{item:a}),wx(kd.kb,t.metricsPage,t.metricsProperties)},"metadata/metadataList/optimizeMetadataList"(e,t){var a=Object(Ta.g)(e,t),i=new BN({item:a});H.a.trigger("show:modal",i),wx(kd.I,t.metricsPage,t.metricsProperties)},"metadata/metadataList/selectMetadataListItem"(e,t,a){var{id:i,type:r,isRangeSelect:n}=t,s=Object(Ta.g)(e,t),o=Object(Ta.f)(e,{metadataItemEntityID:i}),l=s.getCollection();o&&a(HN({type:r,model:o,collection:l,isRangeSelect:n}))},"metadata/metadataList/deselectMetadataListItem"(e,t,a){var i=Object(Ta.f)(e,{metadataItemEntityID:t.id});i&&a(WN([i.id]))},"metadata/metadataList/selectMetadataListItems"(e,t,a){var{ids:i,type:r}=t,n=i.reduce((t,a)=>{var i=Object(Ta.q)(e,{metadataItemEntityID:a});return i&&t.push({id:i&&i.id,type:r,model:i}),t},[]);a(_N(n))},"metadata/metadataList/deselectMetadataListItems"(e,t,a){var i=t.ids.reduce((t,a)=>{var i=Object(Ta.q)(e,{metadataItemEntityID:a});return i&&t.push({id:i&&i.id}),t},[]);a(WN(i))},"metadata/metadataList/deselectAllMetadataListItems"(e,t,a){var i=Object(Ta.g)(e,t).getCollection();a(GN(i))},"metadata/metadataList/resetMetadataList"(e,t){var a=Object(Ta.g)(e,t),i=a.get("entityKey");a.abortPendingPopulate(),a.resetPopulatePromise(null),a.restoreDefaults({entityKey:i,meta:i?a.get("meta"):void 0,containerKey:a.get("containerKey"),containerTitle:a.get("containerTitle")})},"metadata/metadataList/redispatchLegacyMetadataListAction"(e,t,a){var i=Object(Ta.m)(e,{serverEntityID:t.server.entityID}),r=Object(Ta.j)(e,{providerEntityID:t.provider.entityID}),n=new Qi.default({containerKey:t.containerKey},{server:i,provider:r,includeCollections:!0,includeExternalMedia:!0}),s=t.legacyAction.type,o=t.legacyAction.payload,l=(null==o?void 0:o.metricsProperties)||{};a({type:s,payload:Object.assign({},o,{serverEntityID:i.entityID(),providerEntityID:r.entityID(),metadataListEntityID:n.entityID(),metricsPage:t.metricsPage,metricsProperties:Object.assign({},l,t.metricsProperties),skipClickMetrics:!0})})}},Nx=Object(Pa.a)("home/initAutoHomeHubContent"),xx=Object(Pa.a)("home/buildAutoHomeHubs"),Ax=Object(Pa.a)("home/fetchAutoHomeHubs"),Lx=Object(Pa.a)("home/restoreAutoHomeHubs");function kx(e){return e.get("ui").get("autoHomePage")}function Rx(e){return e.map(e=>e.get("directoryID")).join(",")}function zx(e){return e.reduce((e,t)=>{if(t.get("isHidden"))return e;var a=function(e){return Object(Kc.a)(e.get("machineIdentifier"),e.get("providerIdentifier"))}(t);return e.sourcesByProviderKey[a]?e.sourcesByProviderKey[a].push(t):(e.providerKeys.push(a),e.sourcesByProviderKey[a]=[t],e.identifiersByProviderKey[a]={machineIdentifier:t.get("machineIdentifier"),providerIdentifier:t.get("providerIdentifier")}),e},{providerKeys:[],sourcesByProviderKey:{},identifiersByProviderKey:{}})}function Ux(e,t,a){var{sourcesByProviderKey:i,identifiersByProviderKey:r}=a,{machineIdentifier:n,providerIdentifier:s}=r[t],o=i[t],{server:l,provider:c}=function(e,t,a){var i,r;return t===pw.a?(i=e.get("cloudServer"),r=e.get("user").get("providers").get(a)):(i=e.get("servers").get(t))&&(r=i.get("providers").get(a)),{server:i,provider:r}}(e,n,s);if(l&&c){var d,u,p,h,m,v=(d=c,u=e.get("user"),p=d.get("features").get(Ot.m),h=u.toJSON(),m=dw(h.features,h.services),p&&mw(m,p.toJSON())?p.get("key"):d.get("isLibraryProvider")?"/hubs":void 0);if(v)return new rw({hubKey:v,machineIdentifier:n,providerIdentifier:s,server:l,provider:c,hubs:nw({hubKey:v,server:l,provider:c,options:ow(e)}),contentDirectoryID:Rx(o)},{server:l,provider:c})}}var Vx,Bx={"home/initAutoHomeHubContent"(e,t,a){kx(e).set({isHubsPopulated:!0}),a(xx(t))},"home/buildAutoHomeHubs"(e,t={},a){var i=kx(e),r=i.get("hubs");if(i.get("isHubsPopulated")){var n=zx(e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")),{providerKeys:s,sourcesByProviderKey:o}=n,l=s.reduce((t,a)=>{var i=o[a],s=r.get(a);if(s){var l=Rx(i);l!==s.get("contentDirectoryID")&&s.set("contentDirectoryID",l),t.push(s)}else{var c=Ux(e,a,n);c&&t.push(c)}return t},[]);i.get("hubs").set(l),Vx&&window.clearTimeout(Vx),Vx=window.setTimeout(()=>{a(Ax())},t.debounceHubContentRefresh?5e3:0)}},"home/fetchAutoHomeHubs"(e){var t=kx(e),a=t.get("hubs");if(t.get("isHubsPopulated")){var i=T.a.Deferred().resolve();a.forEach(e=>{e.set({isPending:!0,isPopulated:!1}),i=i.then(()=>{var t=e.server.get("isConnected")?e.get("hubs").fetch({data:{contentDirectoryID:e.get("contentDirectoryID")}}):T.a.Deferred().reject({});return t=t.then(()=>{e.set({isPending:!1,isPopulated:!0,hubsError:null})},t=>{e.get("hubs").reset(),e.set({isPending:!1,isPopulated:!1,hubsError:Object(vw.a)(t)})}),ae(t)})})}},"home/restoreAutoHomeHubs"(e){var t=kx(e);t.get("hubs").reset(),t.set({isHubsPopulated:!1})},[ji.a](e,t,a){var i=kx(e).get("hubs"),r=Object(Ta.m)(e,t);i.forEach(e=>{lw({actionCreator:bx,dispatch:a,hubs:e.get("hubs"),serverModel:r})})}},Fx=a("UCuc"),Hx=a.n(Fx),_x={success:!0,error:!0,notify:!0},Qx=B.ItemView.extend({className:"alert-bar",template:Hx.a,events:{"click .close-btn":"onCloseClick"},initialize:function(e){var t=e.alert;if(this.alert=t,t){var a=t.type;a&&_x[a]&&this.$el.addClass(a)}},hide:function(){H.a.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}}),Wx=a("pRYq"),Gx=a.n(Wx),Yx=Qx.extend({className:"user-select-alert-bar",template:Gx.a}),Kx=a("IQV3"),qx=Object(Kx.a)(["identifier"],[{identifier:"little_kid",title:()=>Object(Ze.default)("Younger Kid"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"older_kid",title:()=>Object(Ze.default)("Older Kid"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"teen",title:()=>Object(Ze.default)("Teen"),defaultUsername:()=>Object(Ze.default)("Kids")},{identifier:"unrestricted",title:()=>Object(Ze.default)("None"),defaultUsername:()=>""}]),Zx=qx.get,Xx=qx.getAll,Jx=Fm.extend({getUrl(e){if(e){var t=km();return _.join(e,{size:Math.round(this.width*t)})}return e}}),$x=a("BVbW"),eA=a.n($x),tA=B.ItemView.extend({tagName:"li",className:"user-select-list-item",template:eA.a,ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new Jx({model:this.model,type:"friend",width:80});var t=ie.c("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new Jx({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".managed-title":{modelAttribute:"restrictionProfile",autohide:!0,formatter(e){if(this.model.get("restricted")&&!this.model.get("guest"))return e?Zx(e).title:Object(Ze.default)("Managed User")}},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}}),aA=a("oayy"),iA=a.n(aA),rA=B.Layout.extend({className:"user-select-modal-pin-container",template:iA.a,ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=ie.c("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.openAddManagedUser=e.openAddManagedUser,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,isOpeningAddManagedUser:this.openAddManagedUser,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered((function(){this.ui.saveBtn.removeClass("disabled"),H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This PIN could not be saved.")})}))))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered((function(){this.ui.removeBtn.removeClass("disabled"),H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("This PIN could not be removed.")})}))))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.get("restricted"),a=this.model.getSaveParams(),i={};this.currentPin&&(i.currentPin=this.currentPin),""===e&&t?i.removePin=1:i.pin=e;var r=T.a.extend(!0,{},a,i),n=_.join(this.model.pinUrl(),r),s=this.model.server.getXHROptions(n,{type:t?"POST":"PUT"}),o=T.a.ajax(s);return o.done(D.a.bind((function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e)}),this)),o.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")}))),o},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=Ge.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(D.a.bind((function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e,this.openAddManagedUser)}),this)),t.fail(this.whenRendered((function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()}))),t.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},renderPIN:function(){var e=this.getPIN(),t=e.length,a=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each((function(i,r){var n=e[i]||"";n&&!a&&(n="&bull;"),T()(r).toggleClass("current",i===t).html(n)}))},onRender:function(){this.userList.show(new tA({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),Td.a.mobile||window.setTimeout(D.a.bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&(8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault()))},onInput:function(e){var t=T()(e.currentTarget),a=t.val(),i=a.length,r=a.charAt(a.length-1);/[0-9]/.test(r)?4===a.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(a.slice(0,i-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){T()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}});function nA(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}nA.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var sA=nA,oA=a("uEK0"),lA=a.n(oA),cA=B.ItemView.extend({tagName:"li",className:"user-select-list-item",template:lA.a,events:{"click a":"onClick"},initialize(e){this.disabled=e.disabled},serializeData(){return{iconAdd:Vd(sA,{className:"add-icon"}),disabled:this.disabled}},onClick(e){e.preventDefault(),this.trigger("selectUser",this.model,!0)}}),dA=ym.extend({tagName:"ul",className:"tile-list user-select-list",itemView:tA,onRender(){this.options.showAddUser&&this.addItemView(this.options.adminModel,cA,this.collection.length)}}),uA=a("4nIb"),pA=a.n(uA),hA=B.Layout.extend({className:"user-select-modal-users-container",template:pA.a,ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=ie.c("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(D.a.bind(this.onUserPopulated,this)).fail(D.a.bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden");var t=e.findWhere({admin:!0});this.body.show(new dA({collection:e,adminModel:t,showAddUser:!!t})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e,t){this.ui.loading.removeClass("hidden");var a=Ge.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});a.done(D.a.bind((function(){this.trigger("resolve",null,t)}),this)),a.always(this.whenRendered((function(){this.ui.loading.addClass("hidden")})))},onUserPopulated:function(){this.homeUsers.fetch().done(D.a.bind(this.onHomeUsersPopulated,this)).fail(D.a.bind(this.onError,this))},onHomeUsersPopulated:function(e){this.showList(e)},onError:function(){var e=Gs.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new Co([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",Fo.lockStates.UNLOCKED),this.trigger("resolve")},onUserSelect:function(e,t,a){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,openAddManagedUser:a,focusDelay:0}):this.selectUser(t,a)}}),mA=a("9A7T"),vA=a.n(mA),gA=ni.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:vA.a,transparent:!0,panes:{users:hA,pin:rA},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){ni.prototype.initialize.apply(this,arguments);var t=ie.c("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=T.a.Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var a=new(0,this.panes[e])(D.a.extend({},this.options,t));return this.listenTo(a,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=a,this.content.show(a),a},showAlertBar:function(){var e=Ie[0];Ie.length=0,this.alertBar.show(new Yx({alert:e}))},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){ni.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e,t){null==be.a.continueUrl||this.options.isEditing?(t&&(window.location="#!/settings/users-sharing?addManagedUser=1"),this.promise.resolve(e),this.hide()):window.location=be.a.continueUrl},onReject:function(){this.promise.reject(),this.hide()}}),yA=Object(Pa.a)("user/changePreferredServer"),fA=Object(Pa.a)("user/fetchAllFriends"),bA=Object(Pa.a)("user/fetchHomeUsers"),IA=Object(Pa.a)("user/populateHomeUsers"),SA=Object(Pa.a)("user/populateAllFriends"),MA=Object(Pa.a)("user/fetchPlans"),CA=(Object(Pa.a)("user/populatePlans"),Object(Pa.a)("user/updateUser")),DA=Object(Pa.a)("user/clearUpdateUserError"),PA=Object(Pa.a)("user/fetchWebhooks"),OA=Object(Pa.a)("user/addWebhook"),jA=Object(Pa.a)("user/replaceWebhook"),TA=Object(Pa.a)("user/clearUpdateWebhookError"),wA=Object(Pa.a)("user/removeWebhook"),EA=Object(Pa.a)("user/startFirstRunExperience"),NA=Object(Pa.a)("user/endFirstRunExperience"),xA=Object(Pa.a)("user/fetchHomeDetails"),AA=Object(Pa.a)("user/removeHomeUser"),LA=Object(Pa.a)("user/removeFriend"),kA=Object(Pa.a)("user/toggleGuestUser"),RA=Object(Pa.a)("user/editHomeUserPIN"),zA=Object(Pa.a)("user/fetchInvites"),UA=Object(Pa.a)("user/fetchSentInvites"),VA=Object(Pa.a)("user/acceptInvite"),BA=Object(Pa.a)("user/rejectInvite"),FA=Object(Pa.a)("user/cancelInvite"),HA=Object(Pa.a)("user/showNewHomeWarnings"),_A=Object(Pa.a)("user/seedProviderPromotedContent"),QA=Object(Pa.a)("user/seedPreferredServerContent"),WA=Object(Pa.a)("user/addHomeHubs"),GA=Object(Pa.a)("user/removeHomeHubs"),YA=(Object(Pa.a)("user/updateHomeHubs"),Object(Pa.a)("user/reorderHomeHubs")),KA=Object(Pa.a)("user/resetHomeSettings"),qA=Object(Pa.a)("user/enableAutoHomeHubs"),ZA=Object(Pa.a)("user/disableAutoHomeHubs"),XA=Object(Pa.a)("user/pinSources"),JA=Object(Pa.a)("user/unpinSources"),$A=Object(Pa.a)("user/setupSources"),eL=Object(Pa.a)("user/reorderPinnedSources"),tL=(Object(Pa.a)("user/updatePinnedSources"),Object(Pa.a)("user/dismissUpsellModal"),Object(Pa.a)("user/saveSetting"),Object(Pa.a)("user/syncSettings")),aL=Object(Pa.a)("user/syncExperienceSettings"),iL=Object(Pa.a)("user/restoreDefaultExperienceSettings"),rL=Object(Pa.a)("user/restoreCustomizationSettings"),nL=Object(Pa.a)("user/setTwoFactorEnabled"),sL=Object(Pa.a)("user/setReminder"),oL=(Object(Pa.a)("user/removeReminder"),Object(Pa.a)("user/resetReminders"));function lL(e,t){if(!e.get("isSignedIn")||!be.a.allowSyncSettings)return T.a.Deferred().resolve().promise();var a=Array.isArray(t)?t:[t],i=_.join("/api/v2/user/settings",{sharedSettings:qs(e)?1:0}),r=e.server.getXHROptions(i,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(a)})});return T.a.ajax(r).promise()}function cL(e,t){if(!e)return null;var a=e.find(e=>e.id===t);return a&&a.updatedAt}function dL(e){return e.get("user")}function uL(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}function pL(e){return e.get("user").get("experienceSettings").get("homeSettings")}var hL=Object.assign({},Qu.j,{[Qu.a](e){Object(wa.a)(()=>{e.get("user").set("lockState",Fo.lockStates.LOCKED)})},"user/changePreferredServer"(e,t,a){var{machineIdentifier:i}=t;pL(e).set("preferredServerID",i),QT(e,a)},"user/fetchAllFriends":Object(Oa.a)({key:"allFriends",getModel:dL}),"user/populateAllFriends":Object(ja.a)({key:"allFriends",fetchActionCreator:fA,getModel:dL}),"user/fetchHomeUsers":Object(Oa.a)({key:"homeUsers",getModel:Ta.n}),"user/populateHomeUsers":Object(Oa.a)({key:"homeUsers",fetchActionCreator:bA,getModel:Ta.n}),"user/fetchPlans":Object(Oa.a)({key:"plans",getModel:Ta.n}),"user/populatePlans":Object(ja.a)({key:"plans",fetchActionCreator:MA,getModel:Ta.n}),"user/clearUpdateUserError"(e){Object(Ta.n)(e).set("updateUserError",null)},"user/updateUser"(e,t,a){var i,r=Object(Ta.n)(e),n=e.get("user"),{avatar:s}=t,o=Je()(t,["avatar"]);if(r.set({isUpdatingUser:!0,updateUserError:null}),s)i=ew(s);else{var l=new window.FormData;D.a.each(o,(e,t)=>{l.append(t,e)});var c=n.server.getXHROptions(D.a.result(n,"url"),{type:"PUT",processData:!1,contentType:!1,data:l});i=T.a.ajax(c)}i.done(e=>{!t.avatar&&n.get("hasPassword")||n.fetch();var a=D.a.reduce(t,(e,t,a)=>(n.hasAttr(a)&&(e[a]=t),e),{});n.set(a),r.set({isUpdatingUser:!1,updateUserError:null})}).fail(e=>{var t=Se.a.parseXML(e.responseText),a=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),i=D.a.mapObject(D.a.groupBy(a,e=>e&&e.field?e.field:"request"),(e,t)=>D.a.flatten(e));r.set({isUpdatingUser:!1,updateUserError:i})})},"user/fetchWebhooks":Object(Oa.a)({key:"webhooks",getModel:Ta.n}),"user/addWebhook"(e){var t=Object(Ta.n)(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},"user/replaceWebhook"(e,{oldUrl:t,newUrl:a}){var i=Object(Ta.n)(e),r=i.get("webhooks");if(r.findWhere({url:t})){var n=r.map(e=>{var i=e.get("url");return i===t?a:i});i.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),aw(r,n).always(()=>{i.set("isUpdatingWebhooks",!1)}).fail(e=>{i.set("updateWebhooksError",e[0])})}},"user/clearUpdateWebhookError"(e){Object(Ta.n)(e).set("updateWebhooksError",null)},"user/removeWebhook"(e,t){var a=Object(Ta.n)(e),i=a.get("webhooks");if(t){a.set({isRemovingWebhooks:!0,updateWebhooksError:null});var r=i.map(e=>e.get("url")).filter(e=>e!==t);aw(i,r).always(()=>{a.set("isRemovingWebhooks",!1)}).fail(e=>{a.set("updateWebhooksError",e[0])})}else{var n=i.filter(e=>e.get("url")!==t);i.reset(n)}},"user/startFirstRunExperience"(e,t={},a){window.setTimeout(()=>{a(Object(Wi.l)({replace:!0,pathname:"/client-setup"}))},0)},"user/endFirstRunExperience"(e,t,a){var{preferredServerEntityID:i}=t;if(i){var r=Object(Ta.m)(e,{serverEntityID:i});JT(r.toJSON(),t.preferredServerInteraction)}window.setTimeout(()=>{H.a.trigger("navigate","dashboard",{replace:!0})},0)},"user/fetchHomeDetails"(e){var t=Object(Ta.n)(e),a=t.get("homeDetails");t.set("isHomeDetailsPending",!0),a.fetch().then(()=>{t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})},(e,a)=>{var i={isHomeDetailsPending:!1};404===a.status?(i.isHomeDetailsPopulated=!0,i.homeDetailsError=null):(i.isHomeDetailsPopulated=!1,i.homeDetailsError=a),t.set(i)})},"user/removeHomeUser"(e,t,a){var i=e.get("user"),r=Object(Ta.n)(e),n=r.get("homeUsers"),s=i.get("homeUsers"),o=i.get("allFriends"),l=mx(e,t),c=i.id===l.id;Object(wa.a)(()=>{l.set("isRemoving",!0)});var d=l.server.getXHROptions(l.url(),{type:"DELETE"});T.a.ajax(d).then(()=>{var e=o.get(l.id);e?(l.get("restricted")?o.remove(e):e.set("home",!1),n.remove(l)):(n.reset([l]),l.set("admin",!0),o.each(e=>{e.set("home",!1)}));var t=!!i.get("pin")||n.length>1;if(i.set("home",t),!t){var a=r.get("homeDetails"),c=i.get("homeDetails");a.restoreDefaults(),c.restoreDefaults()}s.fetch(),l.set("isRemoving",!1)},()=>{a(Object(ji.d)({type:"error",message:c?Object(Ze.default)("There was a problem leaving this home."):Object(Ze.default)("There was a problem removing this user.")})),l.set({isRemoving:!1})})},"user/removeFriend"(e,t,a){var i=e.get("user"),r=Object(Ta.n)(e),n=r.get("homeUsers"),s=i.get("allFriends"),o=i.get("homeUsers"),l=Object(Ta.a)(e,t);Object(wa.a)(()=>{l.set("isRemoving",!0)});var c=_.join(["/api/v2/friends",l.id]),d=l.server.getXHROptions(c,{type:"DELETE"});T.a.ajax(d).then(()=>{var e=l.get("home");r.get("invites").fetch(),r.get("sentInvites").fetch(),e&&(n.fetch(),o.fetch()),l.get("serverShares").some(e=>!e.owned)&&H.a.trigger("discover:servers"),l.set({isRemoving:!1}),s.remove(l)},()=>{a(Object(ji.d)({type:"error",message:Object(Ze.default)("There was a problem removing this friend.")})),l.set({isRemoving:!1})})},"user/toggleGuestUser"(e,t,a){var i=e.get("user"),r=Object(Ta.n)(e),n=i.get("homeSize"),s=r.get("homeDetails"),o=r.get("homeUsers"),l=i.get("allFriends"),c=i.get("homeDetails"),d=i.get("homeUsers"),u=!s.get("guestEnabled");s.set("isTogglingGuestUser",!0);var p=_.join("/api/home",{guestEnabled:u?1:0}),h=u&&1===n,m=i.server.getXHROptions(p,{type:h?"POST":"PUT"});T.a.ajax(m).then(()=>{o.fetch(),l.fetch(),d.fetch(),u||2!==n?(c.set("guestEnabled",u),s.set({guestEnabled:u,isTogglingGuestUser:!1}),h&&i.set("home",!0)):(c.clear(),s.clear(),i.set("home",!1))},e=>{var t=KT(e,u?Object(Ze.default)("Unable to enable guest account"):Object(Ze.default)("Unable to disable guest account"),"status");a(Object(ji.d)({type:"error",message:t})),s.set("isTogglingGuestUser",!1)})},"user/editHomeUserPIN"(e,t){var a=mx(e,t),i=new gA({model:a,isEditing:!0});H.a.trigger("show:modal",i),i.promise.then(e=>{a.set("protected",!!e)})},"user/fetchInvites":Object(Oa.a)({key:"invites",getModel:Ta.n}),"user/fetchSentInvites":Object(Oa.a)({key:"sentInvites",getModel:Ta.n}),"user/acceptInvite"(e,t,a){var i=e.get("user"),r=Object(Ta.n)(e),n=r.get("invites"),s=n.get(t.inviteID),o=r.get("homeUsers").get(i.id),l=i.get("homeUsers");s.set("isAccepting",!0);var c=o.get("protected");(s.get("home")&&!c?function(e){var t=new gA({model:e,isEditing:!0,isEditWarning:!0});return H.a.trigger("show:modal",t),ae(t.promise)}(o):T.a.Deferred().resolve().promise()).then(()=>s.save(null,{force:!0})).then(()=>{n.remove(s),l.fetch(),a(bA()),a(fA()),a(UA()),s.get("server")&&H.a.trigger("discover:servers")},e=>{s.set("isAccepting",!1),a(Object(ji.d)({type:"error",message:Object(Ze.default)("There was a problem accepting this invite.")}))})},"user/rejectInvite"(e,t,a){var i=Object(Ta.n)(e).get("invites"),r=i.get(t.inviteID);r.set("isRemoving",!0);var n=r.server.getXHROptions(r.url(),{type:"DELETE"});T.a.ajax(n).then(()=>{i.remove(r),r.get("server")&&a(fA())},()=>{r.set("isRemoving",!1),a(Object(ji.d)({type:"error",message:Object(Ze.default)("There was a problem rejecting this invite.")}))})},"user/cancelInvite"(e,t,a){var i=Object(Ta.n)(e).get("sentInvites"),r=i.get(t.inviteID);r.set("isRemoving",!0);var n=r.server.getXHROptions(r.url(),{type:"DELETE"});T.a.ajax(n).then(()=>{i.remove(r),r.get("server")&&a(fA())},()=>{r.set("isRemoving",!1),a(Object(ji.d)({type:"error",message:Object(Ze.default)("There was a problem canceling this invite.")}))})},"user/showNewHomeWarnings"(e,t,a){var i=e.get("user"),r=Object(Ta.n)(e).get("homeUsers"),n=r.get(i.id);if(!(n.get("protected")||r.length>1)){var s=new gA({model:n,isEditing:!0,isEditWarning:!0});H.a.trigger("show:modal",s)}},"user/seedPreferredServerContent"(e,t,a){if(t.hubs.length){var i=pL(e),r=Object.assign({},t);i.get("hasCustomizations")||(r.at=0),a(WA(r)),i.set({hasSeededPreferredServerContent:!0}),QT(e,a)}},"user/seedProviderPromotedContent"(e,t,a){if(t.hubs.length){var i=pL(e);a(WA(t)),i.set({hasSeededProviderPromotedContent:!0}),QT(e,a)}},"user/addHomeHubs"(e,t,a){var i=pL(e),{at:r,isUserInitiated:n,hubs:s}=t,o=r>=0?{at:r}:null,l=s.reduce((t,a)=>{var{directoryKey:i,entityID:r,model:n}=a,s=r?Object(Ta.b)(e,{hubEntityID:r}):n;return s&&t.push(function({directoryKey:e,hubModel:t}){var a=t.get("hubIdentifier"),i=BT(a),r=i===a?e:"/hubs";return new No(Object.assign({},_T(t,Oo),{provider:Object.assign({},_T(t.provider,To)),server:Object.assign({},_T(t.server,jo)),hubIdentifier:i,id:FT(t),directoryKey:r}))}({directoryKey:i,hubModel:s})),t},[]);l.length&&(n&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),Object(O.a)("[Home] user/addHomeHubs:",t,l),i.get("hubs").add(l,o),QT(e,a))},"user/removeHomeHubs"(e,t,a){var i=pL(e),{isUserInitiated:r,hubs:n}=t,s=n.reduce((t,a)=>{var{entityID:i,homeHubID:r}=a,n=r;if(i){var s=Object(Ta.b)(e,{hubEntityID:i});n=s&&FT(s)}return n&&t.push(n),t},[]);s.length&&(r&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),i.get("hubs").remove(s),QT(e,a))},"user/updateHomeHubs"(e,t,a){var{homeHubIDs:i,homeHubAttrs:r}=t,n=e.get("user").get("experienceSettings").get("homeSettings").get("hubs");i.forEach(e=>{var t=n.get(e);t&&t.set(r)}),QT(e,a)},"user/reorderHomeHubs"(e,t,a){var i=pL(e),r=i.get("hubs"),{isUserInitiated:n,homeHubIDs:s}=t,o=s.map(e=>r.get(e));n&&!i.get("hasCustomizations")&&i.set("hasCustomizations",!0),i.get("hubs").reset(o),QT(e,a)},"user/resetHomeSettings"(e,t,a){var i=pL(e);i.restoreDefaults({preferredServerID:i.get("preferredServerID")}),QT(e,a)},"user/enableAutoHomeHubs"(e,t,a){e.get("user").get("experienceSettings").set("autoHomeHubsEnabled",!0),a(KA())},"user/disableAutoHomeHubs"(e,t,a){var i=e.get("ui").get("autoHomePage"),r=e.get("user").get("experienceSettings"),n=r.get("homeSettings");n.restoreDefaults({preferredServerID:n.get("preferredServerID"),hasSeededProviderPromotedContent:!1,hasSeededPreferredServerContent:!1}),r.set("autoHomeHubsEnabled",!1),i.restoreDefaults(),QT(e,a)},"user/setupSources"(e,t,a){var i=uL(e),r=i.get("pinnedSources"),{sources:n=[]}=t;i.get("hasCompletedSetup")||i.set("hasCompletedSetup",!0);var s=n.map($T);r.reset(s),a(Object(Qu.f)({sidebarSettings:i})),s.forEach(e=>{Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:!0,identifier:e.providerIdentifier,properties:{page:Rd.db,action:kd.L,type:e.sourceType,serverType:qT(e),firstRun:!0}})})},"user/pinSources"(e,t,a){var i=uL(e),r=i.get("pinnedSources"),{sources:n=[],interaction:s=!0}=t,o=n.map($T);r.add(o),a(xx()),a(Object(Qu.f)({sidebarSettings:i})),o.forEach(e=>{Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:s,identifier:e.providerIdentifier,properties:{page:Rd.ob,action:kd.L,type:e.sourceType,serverType:qT(e),firstRun:!1}})})},"user/unpinSources"(e,t,a){var i=uL(e),r=i.get("pinnedSources"),{sources:n=[]}=t,s=n.map(e=>r.get(e.key));r.remove(s),a(xx()),a(Object(Qu.f)({sidebarSettings:i})),n.forEach(e=>{Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:!0,identifier:e.providerIdentifier,properties:{page:Rd.ob,action:kd.mb,type:e.sourceType,serverType:qT(e),firstRun:!1}})})},"user/reorderPinnedSources"(e,t,a){var i=uL(e),r=i.get("pinnedSources"),n=t.sourceKeys.map(e=>r.get(e));r.reset(n),a(xx({debounceHubContentRefresh:!0})),a(Object(Qu.f)({sidebarSettings:i})),Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:Rd.ob,action:kd.Z}})},"user/updatePinnedSources"(e,t,a){var{sourceKeys:i,pinnedSourceAttrs:r}=t,n=uL(e),s=n.get("pinnedSources");i.forEach(e=>{var t=s.get(e);t&&t.set(r)}),a(Object(Qu.f)({sidebarSettings:n}))},"user/dismissUpsellModal"(e,t,a){var i=e.get("user").get("experienceSettings").get("dismissedUpsellModals"),{dismissedModal:r}=t;i.includes(r)||a(Object(Qu.f)({dismissedUpsellModals:[...i,r]}))},"user/saveSetting"(e,t,a){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),a(tL([t.id]))},"user/syncSettings"(e,t){var a=e.get("user"),i=a.get("settings");lL(a,t.map(e=>i.get(e).toJSON({syncedOnly:!0}))).then(e=>{t.forEach(t=>{var a=i.get(t),r=cL(e,t);r&&a.set({updatedAt:r,isDirty:!1})})})},[Qu.b](e,t,a){e.get("user").get("experienceSettings").set(Object.assign({},t,{isDirty:!0})),a(aL())},"user/syncExperienceSettings"(e){var t=e.get("user"),a=t.get("experienceSettings"),i=a.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});a.set({isSaving:!0,saveError:null}),lL(t,{id:"experience",type:"json",value:JSON.stringify(i),hidden:!0}).then(e=>{var t=cL(e,"experience"),i={isSaving:!1};t&&(i.updatedAt=t,i.isDirty=!1),a.set(i)},()=>{a.set({isSaving:!1,saveError:{message:Object(Ze.default)("An error occurred while syncing settings")}})})},"user/restoreDefaultExperienceSettings"(e,t,a){var i=e.get("user").get("experienceSettings"),r={showAdvancedSettings:i.get("showAdvancedSettings"),isDirty:!0};i.restoreDefaults(r),a(aL())},"user/restoreCustomizationSettings"(e,t,a){var i=e.get("user").get("experienceSettings");i.set("autoHomeHubsEnabled",!0),i.get("homeSettings").restoreDefaults(),i.get("sidebarSettings").restoreDefaults(),a(aL()),a(Lx())},"user/setTwoFactorEnabled"(e,{twoFactorEnabled:t},a){e.get("user").set({twoFactorEnabled:t})},"user/setReminder"(e,t,a){var i=e.get("user").get("experienceSettings"),{id:r,data:n}=t,s=i.get("reminders"),o=s.get(r),l=o?o.get("times")+1:0;s.add({data:n,id:r,times:l,remindAfter:YT(l).toISOString()},{merge:!0}),a(Object(Qu.f)())},"user/removeReminder"(e,t,a){e.get("user").get("experienceSettings").get("reminders").remove(t.id),a(Object(Qu.f)())},"user/resetReminders"(e,t,a){var i=e.get("user").get("experienceSettings").get("reminders");Object(O.a)("[User] Removing "+i.length+" reminders"),i.clear(),a(Object(Qu.f)())}}),mL=a("W+Vb"),vL=a.n(mL),gL=Ed.a.createElement;function yL(e){var{children:t,className:a,innerClassName:i,scrollDirection:r}=e,n=Je()(e,["children","className","innerClassName","scrollDirection"]),s=r!==Jp;return a||(a=s?vL.a.modalScroller:vL.a.modalBody),gL(rh,tp()({className:a,scrollDirection:r,autoScroll:!0},n),s?Uu()("div",{className:i},void 0,t):t)}yL.defaultProps={innerClassName:vL.a.innerModalBody};var fL=yL,bL=a("E3/3"),IL=a.n(bL),SL=Ed.a.createElement;function ML(e){var{className:t,children:a}=e,i=Je()(e,["className","children"]);return(SL("div",tp()({className:t},i),a))}ML.defaultProps={className:IL.a.modalFooter};var CL=ML,DL=a("LrNF"),PL=a.n(DL),OL=Ed.a.createElement;var jL=function(e){var{children:t}=e,a=Je()(e,["children"]);return(OL("div",tp()({className:PL.a.modalHeader},a),t))},{Component:TL}=Ed.a;class wL extends TL{constructor(...e){super(...e),this.onPress=e=>{var t=this.props,a=Je()(t,["children"]),{metricsPage:i}=this.context;Object(ie.c)("metrics").trackClick(Object.assign({},a,{page:i}))}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=Ed.a.Children.only(this.props.children);return(Ed.a.cloneElement(e,{onPress:Ib(this.onPress,e.props.onPress)}))}}wL.contextTypes={metricsPage:Oc.a.string.isRequired};var EL=wL,NL=a("QExs"),xL=a.n(NL),AL=Ed.a.createElement;function LL(e){var{className:t,children:a,iconComponent:i,onModalClose:r}=e,n=Je()(e,["className","children","iconComponent","onModalClose"]);return(AL("div",tp()({className:t},n),Uu()(Vp,{className:xL.a.closeButton,onPress:r},void 0,i?Uu()(i,{}):null),a))}LL.defaultProps={className:xL.a.modalContent};var kL=LL,RL=Ed.a.createElement;function zL(e){return RL(kL,e)}zL.defaultProps=Object.assign({},zL.defaultProps,{iconComponent:DI});var UL=zL,VL=a("MUGT"),BL=a.n(VL);var FL=function({img:e,title:t,description:a}){return Uu()("div",{className:BL.a.feature},void 0,Uu()("div",{className:BL.a.featurePadding},void 0,Uu()("img",{className:BL.a.featureImage,src:e}),Uu()("div",{className:BL.a.featureContainer},void 0,Uu()("div",{className:BL.a.featureTitle},void 0,t),Uu()("div",{className:BL.a.featureDescription},void 0,a))))},HL=a("wOT7"),_L=a.n(HL),QL=Ed.a.createElement,{useCallback:WL,useEffect:GL,useState:YL}=Ed.a,KL=Uu()(Xh,{});var qL=function(e){var{metricsProperties:t,subscribeUrl:a,infoUrl:i,plans:r,isPlansPending:n,isPlansPopulated:s,plansError:o,origin:l,allowMarketingModalContent:c,onModalClose:d}=e,u=YL(),p=u[1],h=u[0],m=YL(!1),v=m[1],g=m[0],y=WL(e=>{try{if(!e.origin.endsWith(".plex.tv"))return;var t=JSON.parse(e.data);t.frameHeight&&p(t.frameHeight)}catch(e){O.a.warn(e.message)}},[]);return GL(()=>(window.addEventListener("message",y),()=>{window.removeEventListener("message",y)}),[y]),GL(()=>{var e;return c&&null==h&&(e=window.setTimeout(()=>{v(!0)},1e3)),()=>{e&&window.clearTimeout(e)}},[c,h]),c&&!g?Uu()(UL,{style:{visibility:null==h?"hidden":"visible"},onModalClose:d},void 0,Uu()("iframe",{className:_L.a.marketingFrame,src:"https://assets.plex.tv/marketing/in-app/pp-interstitial/index.html?utm_content="+l,style:{minHeight:h}})):Uu()(UL,{onModalClose:d},void 0,Uu()(jL,{className:_L.a.header},void 0,Uu()("div",{className:_L.a.plexPassTitle},void 0,Object(Ze.default)("Plex Pass")),Object(Ze.default)("Enhance your Plex experience with exclusive premium features")),Uu()(fL,{innerClassName:_L.a.body},void 0,Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K",title:Object(Ze.default)("Mobile Sync"),description:Object(Ze.default)("Enjoy your media offline on Android and iOS devices")}),Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(Ze.default)("Live TV & DVR"),description:Object(Ze.default)("Connect a tuner and antenna to record free OTA broadcasts")}),Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(Ze.default)("Parental Controls"),description:Object(Ze.default)("Set up managed user accounts to create custom access restrictions")}),Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K",title:Object(Ze.default)("Webhooks"),description:Object(Ze.default)("Connect your media server to your home automation system")}),Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg==",title:Object(Ze.default)("Server Dashboard"),description:Object(Ze.default)("See the play history, bandwidth, and top users on your media server")}),Uu()(FL,{img:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg==",title:Object(Ze.default)("Premium Music Magic"),description:Object(Ze.default)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),Uu()("div",{className:_L.a.moreFeatures},void 0,Uu()(Vp,{className:_L.a.link,to:i,target:"_self"},void 0,Object(Ze.default)("...plus more exclusive features!")))),Uu()(CL,{className:_L.a.footer},void 0,n?Uu()("div",{className:_L.a.spinnerContainer},void 0,KL):null,Uu()("div",{className:(_L.a.plansContainer||"")+" "+(n&&_L.a.isPlansPending||"")},void 0,!n&&s?r.map(e=>QL(EL,tp()({key:e.id},t,{action:kd.jb,plan:e.id}),Uu()(rT,{className:_L.a.planButton,to:_.join(a,{plan:e.id,continue:window.location.href}),target:"_self",kind:Dp,size:wp},void 0,e.formattedPrice,"  ",e.name))):null,!n&&o?QL(EL,tp()({},t,{action:kd.jb,plan:"unknown"}),Uu()(rT,{className:_L.a.planButton,to:a,target:"_self",kind:Dp,size:wp},void 0,Object(Ze.default)("Subscribe"))):null)))},ZL=Ed.a.createElement,{Component:XL}=Ed.a;var JL=Object(Fu.b)((function(){return Object(_u.a)((e,{origin:t})=>t,qu.a,zT(Tt.r),(e,t,a)=>{var i=t.desktop,r={utm_source:"app.plex.tv",utm_medium:"app",utm_campaign:"PP_in-app-upsell_01"};return e&&(r.utm_content=e),{isSignedIn:t.isSignedIn,plans:i.plans,isPlansPending:i.isPlansPending,isPlansPopulated:i.isPlansPopulated,plansError:i.plansError,subscribeUrl:_.join(["https://www.plex.tv","/plex-pass/purchase"],r),infoUrl:_.join(["https://www.plex.tv","/plex-pass"]),allowMarketingModalContent:a&&"en"===t.experienceSettings.language&&"us"===t.country.toLowerCase()}})}),{fetchPlans:MA})(class extends XL{componentWillMount(){this.props.isSignedIn&&this.props.fetchPlans()}componentWillReceiveProps(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()}render(){return ZL(qL,this.props)}}),{Component:$L}=Ed.a;var ek=class extends $L{constructor(...e){super(...e),this.onModalClose=()=>{Object(ie.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:Rd.bb,action:kd.hb})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{origin:e,isOpen:t,metricsProperties:a}=this.props;return(Uu()(xT,{size:wp,isOpen:t,metricsPage:Rd.bb,metricsProperties:a,onModalClose:this.onModalClose},void 0,Uu()(JL,{origin:e,metricsProperties:a,onModalClose:this.onModalClose})))}},{Component:tk}=Ed.a;var ak=class extends tk{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){var{modalMetricsProperties:e,origin:t}=this.props,{isPlexPassModalOpen:a}=this.state;return Uu()(rT,{kind:Dp,size:wp,onPress:this.onPlexPassPress},void 0,Object(Ze.default)("Get a Plex Pass"),Uu()(ek,{origin:t,metricsProperties:e,isOpen:a,onModalClose:this.onPlexPassModalClose}))}};var ik=function(e){var{machineIdentifier:t,origin:a,modalMetricsProperties:i,isSignedIn:r,isClaimed:n,hasPlexSubscription:s}=e;return s&&n?null:!s&&r?Uu()(ak,{origin:a,modalMetricsProperties:i}):Uu()(rT,{kind:Dp,size:wp,to:si(t,"settings","general")},void 0,r?Object(Ze.default)("Claim Server"):Object(Ze.default)("Sign In"))};var rk=Object(Fu.b)((function(){return Object(_u.a)(qu.a,RS(),(e,t)=>({machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription}))}))(ik);rk.propTypes=Object.assign({},rk.propTypes,{serverEntityID:Oc.a.string.isRequired});var nk=rk;function sk(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}sk.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var ok=sk;function lk(e){return e.deviceSettings}var ck=Object(_u.a)(lk,e=>e.v4DVRSetupEnabled),dk=a("+We+");var uk=function(e){return e},pk=xe.a.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:Ae.a.string,lineupIdentifier:Ae.a.string,channelKey:Ae.a.string,enabled:Ae.a.boolean},defaults:{enabled:!1}}),hk=ke.a.extend({name:"ChannelMappingCollection",context:["server"],model:pk});var mk=function(e,t){if(e===t)return 0;for(var a=e.split("."),i=t.split("."),r=0;r<a.length;r++){if(!i[r])return 1;var n=parseInt(a[r],10),s=parseInt(i[r],10);if(n>s)return 1;if(n<s)return-1}return 0},vk=xe.a.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:Ae.a.string,identifier:Ae.a.string,name:Ae.a.string,drm:Ae.a.boolean,hd:Ae.a.boolean,signalStrength:Ae.a.integer,signalQuality:Ae.a.integer},augmentResponse:e=>(e.key=e.key||e.identifier,e)}),gk=ke.a.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:vk,comparator:(e,t)=>mk(e.get("identifier"),t.get("identifier"))}),yk="dead",fk="alive",bk=xe.a.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:Ae.a.boolean,isChannelsPopulated:Ae.a.boolean,channelsError:Ae.a.object,selectedSource:Ae.a.string,isSaving:Ae.a.boolean,saveError:Ae.a.object},sessionRelations:{channels:{relationClass:gk}},syncedAttrs:{key:Ae.a.integer,uuid:Ae.a.string,parentID:Ae.a.integer,uri:Ae.a.string,protocol:Ae.a.string,status:Ae.a.string,state:Ae.a.string,lastSeenAt:Ae.a.integer,make:Ae.a.string,model:Ae.a.string,modelNumber:Ae.a.string,source:Ae.a.integer,sources:Ae.a.list,tuners:Ae.a.integer,thumb:Ae.a.string,unsupported:Ae.a.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:hk},prefs:{relationClass:Uw.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}}),Ik=ke.a.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:bk,url:"/media/grabbers/devices"}),Sk=xe.a.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:Ae.a.boolean,saveError:Ae.a.object},syncedAttrs:{key:Ae.a.integer,epgIdentifier:Ae.a.string,country:Ae.a.string,language:Ae.a.string,lineup:Ae.a.string,lineupTitle:Ae.a.string,uuid:Ae.a.string},syncedRelations:{devices:{relationClass:Ik,rootPropertyName:"Device"},prefs:{relationClass:Uw.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}}),Mk=ke.a.extend({name:"DVRCollection",context:["server"],model:Sk,url:"/livetv/dvrs"}),Ck=xe.a.extend({name:"DVRNetworkModel",sessionAttrs:{key:Ae.a.string,title:Ae.a.string}}),Dk=ke.a.extend({name:"DVRNetworkCollection",model:Ck}),Pk=xe.a.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:Ae.a.string,message:Ae.a.string}}),Ok=ke.a.extend({name:"DVRSetupErrorMessageCollection",model:Pk}),jk=xe.a.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:Ae.a.string,type:Ae.a.string,title:Ae.a.string,code:Ae.a.string,example:Ae.a.string,flavor:Ae.a.integer,language:Ae.a.string,languageTitle:Ae.a.string}}),Tk=ke.a.extend({name:"EPGCountryCollection",context:["server"],model:jk,url:"/livetv/epg/countries"}),wk=xe.a.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:Ae.a.string,type:Ae.a.string,title:Ae.a.string}}),Ek=ke.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:wk}),Nk=xe.a.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:Ae.a.string,type:Ae.a.string,title:Ae.a.string,lineupType:Ae.a.integer,location:Ae.a.string},defaults:{location:""}}),xk=ke.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:Nk}),Ak=xe.a.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:Ae.a.string},syncedRelations:{lineups:{relationClass:xk,rootPropertyName:"Lineup"}}}),Lk=xe.a.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:Ae.a.string,title:Ae.a.string}}),kk=ke.a.extend({name:"EPGLanguageCollection",context:["server"],model:Lk,url:"/livetv/epg/languages"}),Rk=xe.a.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:Ae.a.string,postalCode:Ae.a.string,isFetching:Ae.a.boolean,isPopulated:Ae.a.boolean},sessionRelations:{countries:{relationClass:Tk},languages:{relationClass:kk},regions:{relationClass:Ek},lineupGroup:{relationClass:Ak},selectedCountry:{relationClass:jk,deferred:!0},selectedLanguage:{relationClass:Lk,deferred:!0},selectedRegion:{relationClass:wk,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}}),zk=xe.a.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",syncedAttrs:{identifier:Ae.a.string,key:Ae.a.string,callSign:Ae.a.string,thumb:Ae.a.string,title:Ae.a.string,hd:Ae.a.boolean},defaults:{hd:!1}}),Uk=ke.a.extend({name:"EPGChannelCollection",context:["server"],model:zk}),Vk="device",Bk="unsupportedDevice",Fk="deviceChannels",Hk="epg",_k="epgMapping",Qk="channelMapping",Wk="epgDownload",Gk=xe.a.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:Ae.a.boolean,isDevicesPopulated:Ae.a.boolean,devicesError:Ae.a.object,isDiscoveringDevices:Ae.a.boolean,isChannelMappingsPending:Ae.a.boolean,isChannelMappingsPopulated:Ae.a.boolean,channelMappingsError:Ae.a.object,isChannelMappingsSaving:Ae.a.boolean,channelMappingsSaveError:Ae.a.object,isLineupChannelsPending:Ae.a.boolean,isLineupChannelsPopulated:Ae.a.boolean,lineupChannelsError:Ae.a.object,epgLineupActivityID:Ae.a.string,epgDownloadActivityID:Ae.a.string,step:Ae.a.string,selectedLineupUUID:Ae.a.string,addDevicePending:Ae.a.boolean,isSavingDVR:Ae.a.boolean,hasScannedChannels:Ae.a.boolean},sessionRelations:{devices:{relationClass:Ik},lineupChannels:{relationClass:Uk},epgSettings:{relationClass:Rk},channelMappings:{relationClass:hk},selectedDVR:{relationClass:Sk,deferred:!0},selectedDevice:{relationClass:bk,deferred:!0},selectedLanguage:{relationClass:Lk,deferred:!0},setupErrorMessages:{relationClass:Ok},scanPrefs:{relationClass:Uw.a,deferred:!0},scanNetworks:{relationClass:Dk,deferred:!0}},defaults:{step:Vk,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}}),Yk=Object(Pa.a)("ui/dvrSettings/initDVRSettingsUI"),Kk=Object(Pa.a)("ui/dvrSettings/clearDVRSettingsUI"),qk=Object(Pa.a)("ui/dvrSettings/fetchDVRs"),Zk=Object(Pa.a)("ui/dvrSettings/removeDVR"),Xk=Object(Pa.a)("ui/dvrSettings/reloadGuide"),Jk=Object(Pa.a)("ui/dvrSettings/cancelReloadGuide");function $k(e){return e.get("ui").get("dvrSettingsUI")}function eR(e,t,a){var i=Object(Ta.m)(e,t),r=_.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),n=i.getXHROptions(r,{method:a});T.a.ajax(n)}var tR,aR,iR,rR,nR,sR=uk({"ui/dvrSettings/fetchDVRs":Object(Oa.a)({key:"dvrs",getModel:$k}),"ui/dvrSettings/initDVRSettingsUI"(e,t,a){var i=$k(e),r=i.get("dvrSetup"),n=i.get("dvr"),s=Object(Ta.m)(e,t),o=s.get("machineIdentifier"),l={isUIPopulated:!0};n&&n.server.get("machineIdentifier")===o||(l.dvrs=new Mk([],{server:s})),r&&r.server.get("machineIdentifier")===o?r.restoreDefaults():l.dvrSetup=new Gk({},{server:s}),i.set(l),(s.hasOwnerFeature("dvr")||s.hasOwnerFeature("livetv"))&&a(qk(t))},"ui/dvrSettings/clearDVRSettingsUI"(e){$k(e).set("isUIPopulated",!1)},"ui/dvrSettings/removeDVR"(e,t,a){var i=$k(e).get("dvrs").get(t.dvrID);i&&i.destroy().fail(()=>a(Object(ji.d)(Object(Ze.default)("There was a problem removing your DVR"))))},"ui/dvrSettings/reloadGuide"(e,t,a){eR(e,t,"POST")},"ui/dvrSettings/cancelReloadGuide"(e,t,a){eR(e,t,"DELETE")}});!function(e){e.Device="device"}(tR||(tR={})),function(e){e.Dead="dead",e.Alive="alive"}(aR||(aR={})),function(e){e.Disabled="disabled",e.Enabled="enabled"}(iR||(iR={})),function(e){e.Antenna="0",e.Cable="1",e.Satellite="2"}(rR||(rR={})),function(e){e[e.MultipleRegions=0]="MultipleRegions",e[e.MultiplePostalCodes=1]="MultiplePostalCodes",e[e.SinglePostalCode=2]="SinglePostalCode"}(nR||(nR={}));var oR=Object(_u.a)(Ny,e=>e.dvrSetup),lR=Object(_u.a)(oR,e=>e.epgSettings),cR=e=>Object(_u.a)(oR,t=>t.channelsByDeviceKey[e]),dR=Object(_u.a)(lR,({selectedCountry:e})=>e&&1===e.flavor?e.example:void 0),uR=a("iA7B"),pR=a.n(uR),hR=({className:e=pR.a.image,thumb:t,width:a,height:i})=>{var[r]=wv();return(Uu()(YS,{serverEntityID:r.entityID,providerEntityID:void 0,className:e,url:t,width:a,height:i}))},mR=a("mKd/"),vR=a.n(mR),gR=Ed.a.createElement,{Component:yR}=Ed.a;class fR extends yR{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)}}render(){var e=this.props,{className:t,errorClassName:a,disabledClassName:i,isDisabled:r,size:n,name:s,value:o,values:l,hasError:c}=e,d=Je()(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]);return(Uu()("div",{className:(t||"")+" "+(vR.a[n]||"")+" "+(r&&i||"")+" "+(c&&a||"")},void 0,gR("select",tp()({},d,{disabled:r,className:vR.a.select,id:s,name:s,value:o,onChange:this.onChange}),l.map((e,t)=>{if(D.a.isString(e))return Uu()("option",{value:e},t,e);var[a]=D.a.keys(e);return(Uu()("option",{value:a},t,D.a.result(e,a)))}))))}}fR.defaultProps={className:vR.a.input,errorClassName:vR.a.hasError,disabledClassName:vR.a.isDisabled,isDisabled:!1,size:wp,hasError:!1};var bR=fR,IR=a("vIVX"),SR=a.n(IR),{Fragment:MR,useCallback:CR,useState:DR}=Ed.a,PR=({deviceKey:e,isActive:t,isDisabled:a,onEdit:i})=>{var r,n=Object(Fu.c)(),[s]=wv(),{selectedCountry:o,countries:{epgCountries:l,isPending:c,isPopulated:d,error:u}}=Object(Fu.d)(lR),p=DR(!1),h=p[1],m=p[0],v=null!=(r=null==o?void 0:o.code)?r:"",g=d?l.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[{"":Object(Ze.default)("Select Country")}]):[],y=CR(e=>{n(Vn.actions.epgCountrySelected({countryCode:e,server:s}))},[n,s]),f=CR(()=>{i(e)},[e,i]);Ju(()=>{var{countryCode:e}=s;!v&&e?y(e):h(!0)},d),Ju(()=>{h(!0)},!!v&&!m);var b=t||!v?Uu()(bR,{name:"countrySelect",value:v,values:g,isDisabled:a,onChange:y}):Uu()("div",{className:SR.a.edit},void 0,null==o?void 0:o.title,a?null:Uu()(qv,{kind:Bv.Primary,onPress:f},void 0,Object(Ze.default)("Edit")));return(Uu()(MR,{},void 0,Uu()(UC,{className:SR.a.label},void 0,Object(Ze.default)("Country")),c||!m?Object(Ze.default)("Loading countries..."):null,u?Object(Ze.default)("We couldn't fetch countries at this moment."):null,d&&m?b:null))},{useCallback:OR}=Ed.a;function jR(e){switch(e){case rR.Antenna:return Object(Ze.default)("Antenna");case rR.Cable:return Object(Ze.default)("Cable");case rR.Satellite:return Object(Ze.default)("Satellite")}}var TR=({device:e,isDisabled:t})=>{var a=Object(Fu.c)(),{key:i,source:r,sources:n}=e,s=function(e){return e.map(e=>({[e]:jR(e)}))}(n),o=OR(e=>{a(Vn.actions.deviceSourceSelected({deviceKey:i,source:e}))},[a,i]);return Uu()(bR,{name:"deviceSource",value:r,values:s,isDisabled:t,onChange:o})},wR=a("qoqg"),ER=a.n(wR),NR=Ed.a.createElement,{Component:xR}=Ed.a;class AR extends xR{constructor(...e){super(...e),this.onChange=e=>{this.props.onChange(e.target.value)},this.onFocus=()=>{this._select()},this.onRef=e=>{this.inputElement=e}}componentDidMount(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())}_select(){if(this.inputElement&&this.props.selectTextOnFocus){var e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}}render(){var e=this.props,{className:t,errorClassName:a,disabledClassName:i,isDisabled:r,value:n,size:s,type:o,name:l,placeholder:c,hasError:d,focusOnMount:u}=e,p=Je()(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]);return(NR("input",tp()({},p,{id:l,name:l,type:o,disabled:r,value:n,placeholder:c,className:(t||"")+" "+(ER.a[s]||"")+" "+(r&&i||"")+" "+(d&&a||""),ref:u?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus})))}}AR.defaultProps={className:ER.a.input,errorClassName:ER.a.hasError,disabledClassName:ER.a.isDisabled,isDisabled:!1,size:wp,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};var LR=AR,kR=a("af0v"),RR=a.n(kR),{Fragment:zR,useCallback:UR}=Ed.a,VR=()=>{var e=Object(Fu.c)(),[t]=wv(),{postalCode:a}=Object(Fu.d)(lR),i=Object(Fu.d)(dR),r=UR(a=>{e(Vn.actions.epgPostalCodeSet({postalCode:a,server:t}))},[e,t]);return i?Uu()(zR,{},void 0,Uu()(UC,{className:RR.a.label},void 0,Object(Ze.default)("Postal Code")),Uu()(LR,{name:"postalCodeInput",placeholder:Object(Ze.default)("e.g. {postalCodeExample}",{postalCodeExample:i}),value:a,onChange:r})):null},BR=a("xFOn"),FR=a.n(BR),{useCallback:HR,useMemo:_R}=Ed.a;var QR=Uu()($y,{}),WR=Uu()(VR,{}),GR=({device:e,activeDeviceKey:t,onSetupStart:a})=>{var i=Object(Fu.c)(),[r]=wv(),n=_R(()=>cR(e.key),[e]),s=Object(Fu.d)(dR),o=Object(Fu.d)(n),{key:l,make:c,model:d,tuners:u,thumb:p,uri:h}=e,m=!(!t||t!==l),v=!(!t||t===l),g=function(e){if(!e||e.isPending)return Object(Ze.default)("Loading channels...");var{channels:t,error:a}=e,i=t.length;return a||0===i?Object(Ze.default)("0 Channels (scan required)"):1===i?Object(Ze.default)("1 channel"):Object(Ze.default)("{channelCount} channels",{channelCount:i})}(o),y=HR(()=>{a(l)},[l,a]);return Ju(()=>{i(Vn.actions.deviceChannelsFetchRequested({server:r,deviceKey:l}))}),Uu()("div",{className:FR.a.container},void 0,Uu()(hR,{thumb:p,width:200,height:110}),Uu()("div",{className:FR.a.section},void 0,Uu()("div",{className:FR.a.make},void 0,c),Uu()("div",{className:FR.a.model},void 0,d),Uu()("div",{className:FR.a.moreInfo},void 0,h,h&&u?QR:null,u>1?Object(Ze.default)("{tunersCount} tuners",{tunersCount:u}):Object(Ze.default)("1 tuner"))),Uu()("div",{className:FR.a.section},void 0,Uu()(TR,{device:e,isDisabled:v}),Uu()("div",{className:FR.a.channelsMessage},void 0,g)),Uu()("div",{className:FR.a.section},void 0,Uu()(PR,{deviceKey:e.key,isActive:m,isDisabled:v,onEdit:y})),m&&s?Uu()("div",{className:FR.a.section},void 0,WR):null,m||v?null:Uu()(KC,{kind:Bv.Primary,className:FR.a.button,onPress:y},void 0,Object(Ze.default)("Setup Device")),m?Uu()(KC,{kind:Bv.Primary,className:FR.a.button},void 0,Object(Ze.default)("Next")):null,v?Uu()("div",{className:FR.a.disabledText},void 0,Object(Ze.default)("You can add this device later.")):null)},YR=a("7FP1"),KR=a.n(YR),{useCallback:qR,useEffect:ZR,useMemo:XR,useState:JR}=Ed.a;function $R(e){return e.filter(e=>!e.parentID&&e.status===aR.Alive)}var ez=Uu()(bp,{}),tz=()=>{var e=Object(Fu.c)(),[t]=wv(),a=JR(void 0),i=a[1],r=a[0],{devices:n}=Object(Fu.d)(oR),{countries:{epgCountries:s}}=Object(Fu.d)(lR),o=XR(()=>$R(n.mediaGrabberDevices),[n.mediaGrabberDevices]),l=function(e){if(!e||e.isPending)return Object(Ze.default)("Looking for compatible devices...");var{mediaGrabberDevices:t,isPopulated:a}=e,i=$R(t);return a&&i.length>0?Object(Ze.default)("We found hardware we recognize!"):a&&0===i.length?Object(Ze.default)("We couldn't find any hardware we recognize."):Object(Ze.default)("Something went wrong. Please try again later.")}(n),c=qR(e=>{i(e)},[i]);return ZR(()=>{e(Vn.actions.devicesFetchRequested({server:t})),e(Vn.actions.epgCountriesFetchRequested({server:t}))},[e,t]),ZR(()=>{var a=t.countryCode;s.length>0&&a&&e(Vn.actions.epgCountrySelected({countryCode:a}))},[e,s,t]),Uu()(MI,{innerClassName:KR.a.innerModalBody},void 0,Uu()("p",{},void 0,l),n.isPending?Uu()("div",{className:KR.a.spinnerContainer},void 0,ez):Uu()(up,{className:KR.a.devicesContainer,scrollDirection:$u.Horizontal},void 0,o.map(e=>Uu()(GR,{device:e,activeDeviceKey:r,onSetupStart:c},e.key))))},az=a("Foh9"),iz=a.n(az),{useEffect:rz,useState:nz}=Ed.a,sz=Uu()(tz,{}),oz=({machineIdentifier:e,providerIdentifier:t,isOpen:a,metricsContext:i,onModalClose:r})=>{var n=nz(tR.Device)[0],s=Object(Fu.c)(),o=Gb(a);return rz(()=>{o&&!a&&s(Vn.actions.reset())},[a,o,s]),Uu()(_b.a,{metricsPage:Rd.N,name:i},void 0,Uu()(Ev,{machineIdentifier:e,providerIdentifier:t},void 0,Uu()(fI,{className:iz.a.modal,isOpen:a,shouldTrackOnClose:!0,onModalClose:r},void 0,Uu()(TI,{onModalClose:r},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Tuner Setup")),n===tR.Device?sz:null))))},lz=Object(Pa.a)("CLEAR_DVR_SETUP"),cz=Object(Pa.a)("DVR_SETUP_NEXT_STEP"),dz=Object(Pa.a)("DVR_SETUP_PREVIOUS_STEP"),uz=Object(Pa.a)("FETCH_DEVICES"),pz=Object(Pa.a)("DISCOVER_DEVICES"),hz=Object(Pa.a)("ADD_DEVICE"),mz=Object(Pa.a)("SELECT_DEVICE"),vz=Object(Pa.a)("SELECT_DEVICE_SOURCE"),gz=Object(Pa.a)("FETCH_DEVICE_DETAILS"),yz=Object(Pa.a)("FETCH_DEVICE_CHANNELS"),fz=Object(Pa.a)("SCAN_DEVICE_CHANNELS"),bz=Object(Pa.a)("CANCEL_SCAN_DEVICE_CHANNELS"),Iz=Object(Pa.a)("FIND_BEST_EPG_LINEUP"),Sz=Object(Pa.a)("SELECT_EPG_LINEUP"),Mz=Object(Pa.a)("CLEAR_CHANNEL_MAP_ERROR"),Cz=Object(Pa.a)("SAVE_CHANNEL_MAP"),Dz=Object(Pa.a)("CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR"),Pz=Object(Pa.a)("SAVE_DVR"),Oz=Object(Pa.a)("ADD_DVR_DEVICE"),jz=Object(Pa.a)("REMOVE_DVR_DEVICE"),Tz=Object(Pa.a)("SAVE_DVR_SETTINGS"),wz=Object(Pa.a)("CLEAR_DVR_SETTINGS_SAVE_ERROR"),Ez=Object(Pa.a)("SAVE_DEVICE_SETTINGS"),Nz=Object(Pa.a)("CLEAR_DEVICE_SETTINGS_SAVE_ERROR"),xz=Object(Pa.a)("CLEAR_DEVICE_SCAN_PREFS"),Az=Object(Pa.a)("SET_DVR_DEVICE_ENABLED"),Lz=Object(Pa.a)("FETCH_LINEUP_CHANNELS",e=>{var t=_.join("/livetv/epg/channels",{lineup:e.lineupUUID});return Object.assign({options:{url:t,timeout:I.b}},e)}),kz=Object(Pa.a)("FETCH_CHANNEL_MAP",e=>{var t=_.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return Object.assign({options:{url:t}},e)});function Rz(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function zz(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function Uz(e,t){return zz(e).get(t.dvrID)}function Vz(e,t){var a=Rz(e),i=t.deviceID;if(t.dvrID&&i){var r=Uz(e,t).get("devices").get(i);if(r)return r}if(i){var n=a.get("devices").get(i);if(n)return n}return a.get("selectedDevice")}function Bz(e,t){if(t.country)return t.country;var a=Rz(e).get("epgSettings").get("selectedCountry");return a?a.get("code"):void 0}function Fz(e,t){var a=Rz(e),i=Object(Ta.m)(e,t),r=Vz(e,t).get("channels"),n=t.data,s=[],o={};Object.keys(n).forEach(e=>{var{enabled:t,channelKey:a,lineupIdentifier:i}=n[e],l=r.get(e),c=!(!l||!l.get("drm"));t&&i&&!c&&s.push(e),i&&(o["channelMappingByKey["+e+"]"]=a,o["channelMapping["+e+"]"]=i)});var l=_.join(["/media/grabbers/devices",t.deviceID,"channelmap"],Object.assign({channelsEnabled:s.toString()},o));a.set("isChannelMappingsSaving",!0);var c=i.getXHROptions(l,{type:"PUT"}),d=T.a.ajax(c);return d.done(()=>{a.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});var i=function(e,t){return t.dvrID&&t.deviceID?Vz(e,t).get("channelMappings"):Rz(e).get("channelMappings")}(e,t);r.forEach(e=>{var t=e.id,a=-1!==s.indexOf(t),r=o["channelMapping["+t+"]"];r?i.add([{deviceIdentifier:t,enabled:a,lineupIdentifier:r}],{parse:!0,merge:!0}):i.remove(t)})}),d.fail(e=>{a.set({isChannelMappingsSaving:!1,channelMappingsSaveError:Object(vw.a)(e)})}),d}function Hz(e,t){var a=Object(Ta.m)(e,t),i=t.enabled,r=_.join(["/media/grabbers/devices",t.deviceID],{enabled:i?1:0}),n=a.getXHROptions(r,{type:"PUT"}),s=T.a.ajax(n).promise();return s.done(()=>{if(Rz(e)){var a=Vz(e,t);a&&a.set("status",i?"enabled":"disabled")}}),s}var _z=uk({CLEAR_DVR_SETUP(e){Rz(e).restoreDefaults()},DVR_SETUP_NEXT_STEP(e,t={}){var a=Rz(e),i={};switch(a.get("step")){case Vk:a.get("selectedDevice").get("unsupported")?i.step=Bk:i.step=Fk;break;case Bk:i.step=Fk;break;case Fk:t.dvrID?(i.selectedLineupUUID=Uz(e,t).get("lineup"),i.step=Qk):i.step=Hk;break;case Hk:a.get("selectedLineupUUID")?i.step=Qk:i.step=_k;break;case _k:i.step=Qk;break;case Qk:i.step=Wk}a.get("setupErrorMessages").reset(),a.set(i)},DVR_SETUP_PREVIOUS_STEP(e,t={}){var a=Rz(e),i={};switch(a.get("step")){case Bk:i.step=Vk;break;case Fk:i.hasScannedChannels=!1,i.step=Vk;break;case Hk:i.step=Fk;break;case Qk:t.dvrID?i.step=Fk:i.step=Hk}a.get("setupErrorMessages").reset(),a.set(i)},FETCH_DEVICES(e,t,a){var i=Rz(e),r=i.get("devices");i.set("isDevicesPending",!0),r.fetch().done(()=>{i.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});var e=r.filter(e=>!e.get("parentID")&&e.get("status")===fk);1===e.length&&a(mz({serverEntityID:t.serverEntityID,deviceID:e[0].id}))}).fail((e,t)=>{i.set({isDevicesPending:!1,devicesError:Object(vw.a)(t)})})},DISCOVER_DEVICES(e,t,a){var i=Object(Ta.m)(e,t),r=Rz(e),n=i.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});r.get("isDiscoveringDevices")||(r.set("isDiscoveringDevices",!0),T.a.ajax(n).done(e=>{var i=r.get("devices").add(e,{parse:!0,merge:!0}).filter(e=>!e.get("parentID")&&e.get("status")===fk);r.get("setupErrorMessages").remove("discoverDevices"),1===i.length&&a(mz({serverEntityID:t.serverEntityID,deviceID:i[0].id})),r.set("isDiscoveringDevices",!1)}).fail(e=>{r.get("setupErrorMessages").add({id:"discoverDevices",message:KT(e,Object(Ze.default)("There was a problem discovering devices"))}),r.set("isDiscoveringDevices",!1)}))},ADD_DEVICE(e,t,a){var i=Object(Ta.m)(e,t),r=Rz(e),n=_.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),s=i.getXHROptions(n,{type:"POST"});r.set("addDevicePending",!0),T.a.ajax(s).done((e,a)=>{var i=r.get("devices").add(e,{parse:!0});if(0===i.length){var n=Se.a.parseXML(e),s=n&&n.message||Object(Ze.default)("No device found at {1}",t.uri);r.get("setupErrorMessages").add({id:"addDevice",message:s}),r.set("addDevicePending",!1)}else r.get("setupErrorMessages").remove("addDevice"),r.set({addDevicePending:!1,selectedDevice:1===i.length?i[0]:r.get("selectedDevice")})}).fail(e=>{r.get("setupErrorMessages").add({id:"addDevice",message:KT(e,Object(Ze.default)("There was a problem adding the device: {1}",t.uri))}),r.set("addDevicePending",!1)})},SELECT_DEVICE(e,t){var a=Rz(e),i=Vz(e,t);a.set("selectedDevice",i)},SELECT_DEVICE_SOURCE(e,t){Rz(e).get("selectedDevice").set("selectedSource",t.source)},FETCH_DEVICE_DETAILS(e,t){var a=Rz(e);Vz(e,t).fetch().fail(e=>{a.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:KT(e,Object(Ze.default)("There was a problem getting the details for your device"))})})},FETCH_DEVICE_CHANNELS(e,t){var a=Rz(e),i=Vz(e,t),r=_.join(["/media/grabbers/devices",i.get("key"),"channels"]);i.set("isChannelsPending",!0);var n={url:r,timeout:I.b};i.get("channels").fetch(n).done(()=>{i.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})}).fail(e=>{i.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),a.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:KT(e,Object(Ze.default)("There was a problem getting the channels for your device"))})})},SCAN_DEVICE_CHANNELS(e,t,a){var i=Rz(e),r=Object(Ta.m)(e,t),n=Vz(e,t),s=Bz(e,t),o=n.get("selectedSource")||n.get("source"),{prefs:l,network:c}=t,d=_.join(["/media/grabbers/devices",n.get("key"),"scan"],{source:o,country:s,prefs:l,network:c}),u=r.getXHROptions(d,{type:"POST"});T.a.ajax(u).done((e,r,s)=>{var o=s.getResponseHeader("X-Plex-Activity");if(n.get("channels").reset(),o)a(xz(t));else{var l=new Uw.a(e,{parse:!0});i.set("scanPrefs",l)}}).fail(e=>{i.get("setupErrorMessages").add({id:"scanDeviceChannels",message:KT(e,Object(Ze.default)("There was a problem scanning channels"))})})},CANCEL_SCAN_DEVICE_CHANNELS(e,t,a){var i=Rz(e),r=Object(Ta.m)(e,t),n=t.deviceID;if(!n)throw new Error("A device ID is required to cancel a channel scan.");var s=_.join(["/media/grabbers/devices",n,"scan"]),o=r.getXHROptions(s,{type:"DELETE"});T.a.ajax(o).fail(e=>{i.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:KT(e,Object(Ze.default)("There was a problem canceling the current channel scan"))})})},FIND_BEST_EPG_LINEUP(e,t,a){var i=Object(Ta.m)(e,t),r=Rz(e),n=r.get("selectedDevice"),s=r.get("epgSettings").get("lineupGroup"),o=_.join("/livetv/epg/lineup",{device:n.get("uuid"),lineupGroup:s.get("uuid")}),l=i.getXHROptions(o);T.a.ajax(l).done((e,t,a)=>{var i=a.getResponseHeader("X-Plex-Activity");r.set("epgLineupActivityID",i)}).fail(e=>{r.get("setupErrorMessages").add({id:"findBestEPGLineup",message:KT(e,Object(Ze.default)("There was a problem mapping channels"))})})},SELECT_EPG_LINEUP(e,t){Rz(e).set("selectedLineupUUID",t.lineupUUID)},FETCH_LINEUP_CHANNELS:Object(Oa.a)({key:"lineupChannels",getModel:Rz}),FETCH_CHANNEL_MAP(e,t){var a=Rz(e),i=a.get("channelMappings"),r=Object.assign({timeout:I.b},t.options);a.set("isChannelMappingsPending",!0),i.fetch(r).done(()=>{t.forceEnabled&&i.each(e=>{e.set("enabled",e.has("lineupIdentifier"))}),a.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})}).fail((e,t)=>{a.set({isChannelMappingsPending:!1,channelMappingsError:Object(vw.a)(t)})})},CLEAR_CHANNEL_MAP_ERROR(e,t){Rz(e).set({channelMappingsError:null,lineupChannelsError:null})},SAVE_CHANNEL_MAP(e,t,a){Fz(e,t).done(()=>{a(gz(t))})},CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR(e){Rz(e).set("channelMappingsSaveError",null)},SAVE_DVR(e,t,a){var i=Rz(e);i.set("isSavingDVR",!0);var{serverEntityID:r,deviceID:n}=t,s=zz(e);Hz(e,{serverEntityID:r,deviceID:n,enabled:!0}).then(()=>Fz(e,t)).then(()=>{var a=Object(Ta.m)(e,t),r=i.get("selectedDevice"),n=i.get("selectedLineupUUID"),s=i.get("epgSettings").get("selectedLanguage"),o=Bz(e,t);i.get("setupErrorMessages").remove("saveDVR");var l=_.join("/livetv/dvrs",{device:r.get("uuid"),lineup:n,language:s.get("code"),country:o}),c=a.getXHROptions(l,{type:"POST"});return T.a.ajax(c)}).then((e,t,n)=>{var o=n.getResponseHeader("X-Plex-Activity"),l=s.add(e,{parse:!0})[0];if(!l)return T.a.Deferred().reject(n).promise();i.get("setupErrorMessages").remove("saveDVR"),i.set({epgDownloadActivityID:o,selectedDVR:l,isSavingDVR:!1}),a(cz({serverEntityID:r})),a(Fa({serverEntityID:r}))}).fail(e=>{i.get("setupErrorMessages").add({id:"saveDVR",message:KT(e,Object(Ze.default)("There was a problem saving your DVR. Please try again."))}),i.set("isSavingDVR",!1)})},ADD_DVR_DEVICE(e,t,a){var i=Rz(e);i.set("isSavingDVR",!0);var{serverEntityID:r,deviceID:n}=t,s=i.get("selectedDevice"),o=Uz(e,t);Hz(e,{serverEntityID:r,deviceID:n,enabled:!0}).then(()=>Fz(e,t)).then(()=>{var a=Object(Ta.m)(e,t),i=_.join(["/livetv/dvrs",o.id,"devices",s.id]),r=a.getXHROptions(i,{type:"PUT"});return T.a.ajax(r)}).done((e,t,n)=>{var l=n.getResponseHeader("X-Plex-Activity");o.get("devices").add([s]),i.set({epgDownloadActivityID:l,selectedDVR:o,isSavingDVR:!1}),a(cz({serverEntityID:r})),a(Fa({serverEntityID:r}))}).fail(e=>{i.get("setupErrorMessages").add({id:"addDVRDevice",message:KT(e,Object(Ze.default)("There was a problem adding a new device to your DVR. Please try again."))}),i.set("isSavingDVR",!1)})},REMOVE_DVR_DEVICE(e,t,a){var i=Object(Ta.m)(e,t),r=Uz(e,t),n=t.deviceID,s=_.join(["/livetv/dvrs",r.id,"devices",n]),o=i.getXHROptions(s,{type:"DELETE"});T.a.ajax(o).done((e,t,a)=>{r.get("devices").remove(n)})},SAVE_DVR_SETTINGS(e,t){var a=Object(Ta.m)(e,t),i=Uz(e,t),r=t.prefs,n=_.join(["/livetv/dvrs",t.dvrID,"prefs"],r);i.set("isSaving",!0);var s=a.getXHROptions(n,{type:"PUT"}),o=T.a.ajax(s);o.done(()=>{var e=i.get("prefs");Object.keys(r).forEach(t=>{e.get(t).set("value",r[t])}),i.set({isSaving:!1,saveError:null})}),o.fail(e=>{i.set({isSaving:!1,saveError:Object(vw.a)(e)})})},CLEAR_DVR_SETTINGS_SAVE_ERROR(e,t){Uz(e,t).set("saveError",null)},SAVE_DEVICE_SETTINGS(e,t){var a=Object(Ta.m)(e,t),i=Vz(e,t),r=t.prefs,n=_.join(["/media/grabbers/devices",t.deviceID,"prefs"],r);i.set("isSaving",!0);var s=a.getXHROptions(n,{type:"PUT"}),o=T.a.ajax(s);o.done(()=>{var e=i.get("prefs");Object.keys(r).forEach(t=>{e.get(t).set("value",r[t])}),i.set({isSaving:!1,saveError:null})}),o.fail(e=>{i.set({isSaving:!1,saveError:Object(vw.a)(e)})})},CLEAR_DEVICE_SETTINGS_SAVE_ERROR(e,t){Vz(e,t).set("saveError",null)},CLEAR_DEVICE_SCAN_PREFS(e){Rz(e).set({scanPrefs:void 0,scanNetworks:void 0})},SET_DVR_DEVICE_ENABLED(e,t){Hz(e,t)},[Ea](e,t,a){var i=Rz(e);if(i){var r=i.get("selectedDevice"),n=t.activity;if(r&&"provider.device.channelscan"===n.type&&parseInt(n.Context.deviceID,10)===r.id){var s=n.Response.Network;if(s){var o=new Dk(s,{parse:!0});i.set("scanNetworks",o)}else i.set("hasScannedChannels",!0)}else{if(n.uuid===i.get("epgLineupActivityID"))return i.set({selectedLineupUUID:n.Response.lineup,epgLineupActivityID:""}),void a(cz({serverEntityID:t.serverEntityID}));n.uuid!==i.get("epgDownloadActivityID")||i.set("epgDownloadActivityID","")}}}}),Qz=Object(_u.a)(e=>e.ui.dvrSettingsUI,e=>e.dvrSetup),Wz=Object(Pa.a)("RESET_EPG_SETTINGS"),Gz=Object(Pa.a)("FETCH_EPG_COUNTRIES"),Yz=Object(Pa.a)("FETCH_EPG_LANGUAGES"),Kz=Object(Pa.a)("SELECT_EPG_COUNTRY"),qz=Object(Pa.a)("SELECT_EPG_LANGUAGE"),Zz=Object(Pa.a)("SELECT_EPG_REGION"),Xz=Object(Pa.a)("SET_EPG_POSTAL_CODE"),Jz=Object(Pa.a)("FETCH_EPG_LINEUPS");var $z=function(){return Object(_u.a)(RS(),e=>{if(e)return e.desktop.activities})};var eU=function(){return Object(_u.a)((e,{deviceID:t})=>t,$z(),Qz,(e,t,a)=>{var i=a.selectedDevice&&a.selectedDevice.key;return D.a.find(t,t=>"provider.device.channelscan"===t.type&&parseInt(t.Context.deviceID,10)===(e||i))})},tU=Object(_u.a)(e=>e.ui.dvrSettingsUI,e=>{var t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null}),aU=a("9O+r"),iU=a.n(aU),rU=Ed.a.createElement;function nU(e){var{children:t}=e,a=Je()(e,["children"]);return(rU("div",a,t))}nU.defaultProps={className:iU.a.group};var sU=nU,oU=a("v6AS"),lU=a.n(oU),cU=Ed.a.createElement;function dU(e){var{children:t}=e,a=Je()(e,["children"]);return(cU("div",a,t))}dU.defaultProps={className:lU.a.buttonBar};var uU=dU,pU=a("7jkP"),hU=a.n(pU),mU=Ed.a.createElement;function vU(e){var{children:t,className:a,loadingLabel:i,spinnerSize:r,spinnerColor:n,isDisabled:s,isSpinning:o}=e,l=Je()(e,["children","className","loadingLabel","spinnerSize","spinnerColor","isDisabled","isSpinning"]);return(mU(rT,tp()({className:(a||"")+" "+(hU.a.button||"")+" "+(o&&hU.a.isSpinning||""),isDisabled:s||o},l),Uu()("span",{className:hU.a.spinnerContainer},void 0,Uu()(Kh,{className:hU.a.spinner,color:n,loadingLabel:i,size:r})),Uu()("span",{className:hU.a.label},void 0,t)))}vU.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:jp,spinnerColor:_h.defaultColor};var gU=vU,yU=Ed.a.createElement;function fU(e){return yU(gU,tp()({},e,{loadingLabel:Object(Ze.default)("Loading")}))}fU.defaultProps=gU.defaultProps;var bU=fU,IU=a("Rkkp"),SU=a.n(IU);var MU=function({errorMessage:e}){return Uu()("div",{className:SU.a.sectionError},void 0,Uu()(mh,{className:SU.a.sectionErrorIcon}),e||Object(Ze.default)("There was a problem saving your changes."))};var CU=function(e){var{title:t,children:a,errorMessage:i,onModalClose:r}=e;return(Uu()(UL,{onModalClose:r},void 0,Uu()(jL,{},void 0,t||Object(Ze.default)("DVR Setup")),i?Uu()(MU,{errorMessage:i}):null,a))},DU=a("E6f+"),PU=a.n(DU);function OU({children:e,className:t}){return Uu()(CL,{className:t},void 0,e)}OU.defaultProps={className:PU.a.footer};var jU=OU,{Component:TU}=Ed.a;class wU extends TU{constructor(...e){super(...e),this.onNextStepPress=()=>{this.props.dvrSetupNextStep({dvrID:this.props.dvrID})}}render(){var{label:e=Object(Ze.default)("Continue"),isDisabled:t}=this.props;return(Uu()(rT,{kind:Dp,size:Tp,isDisabled:t,onPress:this.onNextStepPress},void 0,e))}}wU.defaultProps={isDisabled:!1};var EU=Object(Fu.b)(null,{dvrSetupNextStep:cz})(wU),{Component:NU}=Ed.a;var xU=Object(Fu.b)(null,{dvrSetupPreviousStep:dz})(class extends NU{constructor(...e){super(...e),this.onPreviousStepPress=()=>{this.props.dvrSetupPreviousStep({dvrID:this.props.dvrID})}}render(){return Uu()(rT,{kind:Cp,size:Tp,onPress:this.onPreviousStepPress},void 0,Object(Ze.default)("Previous"))}}),AU=a("+MhW"),LU=a.n(AU),kU=Ed.a.createElement;function RU(e){var{className:t,selectedClassName:a,circleClassName:i,iconClassName:r,title:n,isSelected:s}=e,o=Je()(e,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return(kU(Vp,tp()({className:(t||"")+" "+(s&&a||""),"aria-label":s?Object(Ze.default)("Deselect {title}",{title:n}):Object(Ze.default)("Select {title}",{title:n})},o),Uu()("div",{className:i,"data-qa-id":"multipleSelectButton"},void 0,Uu()(ey,{className:r}))))}RU.defaultProps={className:LU.a.selectButton,selectedClassName:LU.a.isSelected,circleClassName:LU.a.selectCircle,iconClassName:LU.a.selectedIcon};var zU=RU,UU=a("6a8U"),VU=a.n(UU);var BU=function(){var e=Object(Ze.default)("This tuner isn't officially supported by Plex, click for more information");return(Uu()(zb,{className:VU.a.unsupported,component:Vp,tooltip:e,tooltipClassName:VU.a.unsupportedTooltip,tooltipAttachment:"bottomCenter",target:"_blank",to:Qp},void 0,Uu()(mh,{className:VU.a.unsupportedIcon,"aria-label":e})))},FU=a("t87T"),HU=a.n(FU);function _U(e){var t,{className:a,serverEntityID:i,providerEntityID:r,model:n,thumb:s,width:o,height:l}=e;switch(n){case"HDHomeRun CONNECT":t="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K";break;case"HDHomeRun EXPAND":t="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K";break;case"HDHomeRun EXTEND":t="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo=";break;case"HDHomeRun PRIME":t="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"}return(Uu()(YS,{serverEntityID:i,providerEntityID:r,className:a,url:s,emptySrc:t,width:o,height:l}))}_U.defaultProps={className:HU.a.image};var QU=_U;var WU=function({className:e,uri:t}){var a=t.replace(/^https?:\/\//,"");return(Uu()("div",{className:e},void 0,a))},GU=a("SBeo"),YU=a.n(GU),KU=a("/EX7"),qU=a.n(KU),{Component:ZU}=Ed.a,XU=parseInt(YU.a.dvrSetupImageWidth,10),JU=Uu()(BU,{});class $U extends ZU{constructor(...e){super(...e),this.onSelectDevicePress=()=>{this.props.onSelectDevice(this.props.deviceID)}}render(){var e,{className:t,serverEntityID:a,make:i,model:r,uri:n,thumb:s,channelCount:o,unsupported:l,isSelectable:c,isSelected:d,includeUri:u,includeChannelCount:p}=this.props;return e=1===o?Object(Ze.default)("1 channel"):o>1?Object(Ze.default)("{channelCount} channels",{channelCount:o}):Object(Ze.default)("No channels"),Uu()("div",{className:t},void 0,c?Uu()(Vp,{onPress:this.onSelectDevicePress},void 0,Uu()("div",{className:qU.a.deviceImageContainer},void 0,Uu()(QU,{serverEntityID:a,model:r,thumb:s,width:XU,height:100}),d?Uu()(zU,{className:qU.a.selectButton,component:"div",title:r,isSelected:!0,isDisabled:!0}):null)):null,c?null:Uu()(QU,{serverEntityID:a,model:r,thumb:s,width:XU,height:100}),Uu()("div",{className:qU.a.details},void 0,Uu()("div",{className:qU.a.make},void 0,i),Uu()("div",{className:qU.a.modelContainer},void 0,Uu()("div",{className:qU.a.model},void 0,r),l?JU:null),u?Uu()(WU,{className:qU.a.uri,uri:n}):null,p?Uu()("div",{className:qU.a.channelCount},void 0,e):null))}}$U.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};var eV=$U,tV=a("yhTy"),aV=a.n(tV),{Component:iV}=Ed.a;class rV extends iV{constructor(e,t){super(e,t),this.onProgressToUpdate=()=>{this.setState({progress:this._progressPosition.progress})},this.onProgressToComplete=()=>{this._progressToTween=null},this.state={progress:0}}componentDidMount(){this._progressTo(this.props)}componentDidUpdate(e){e.progress!==this.props.progress&&this._progressTo(this.props)}componentWillUnmount(){this._cancelProgressTo()}_progressTo({progress:e}){var t=this.props.smoothProgressDuration/1e3,a={progress:e,ease:this.props.easing,onUpdate:this.onProgressToUpdate,onComplete:this.onProgressToComplete};this._progressPosition={progress:this.state.progress},this._cancelProgressTo(),this._progressToTween=Kp.a.to(this._progressPosition,t,a)}_cancelProgressTo(){this._progressToTween&&(this._progressToTween.kill(),this._progressToTween=null)}render(){var e=this.state.progress,{className:t,containerClassName:a,backgroundClassName:i,textClassName:r,size:n,lineWidth:s,strokeColor:o,trackColor:l,progressText:c=Math.round(e)+"%",showProgressText:d,showIndeterminate:u}=this.props,p=u?50:e,h=u?null:c,m=n/2,v=m-s,g=Math.PI*(2*v),y=n+"px",f=n-3*s+"px",b=(100-p)/100*g;return Uu()("div",{className:a,style:{width:y,height:y,lineHeight:y}},void 0,Uu()("svg",{className:(t||"")+" "+(u&&aV.a.indeterminate||""),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:n,height:n},void 0,l?Uu()("circle",{fill:"transparent",r:v,cx:m,cy:m,style:{strokeWidth:s,stroke:l}}):null,Uu()("circle",{fill:"transparent",r:v,cx:m,cy:m,strokeDasharray:g,style:{strokeWidth:s,stroke:o,strokeDashoffset:b}})),Uu()("div",{className:i,style:{width:f,height:f}}),d&&h?Uu()("div",{className:r},void 0,h):null)}}rV.defaultProps={className:aV.a.circularProgressBar,containerClassName:aV.a.circularProgressBarContainer,backgroundClassName:aV.a.circularProgressBarBackground,textClassName:aV.a.circularProgressBarText,size:60,lineWidth:5,strokeColor:Qh.a.primaryColor,showProgressText:!0,smoothProgressDuration:1e3};var nV=rV,sV=Zp.a.Power0.easeInOut,oV=Zp.a.Power3.easeOut,lV=a("jsGA"),cV=a.n(lV),dV=Ed.a.createElement;function uV(e){return dV(nV,tp()({},e,{textClassName:cV.a.circularProgressBarText}))}uV.defaultProps=Object.assign({},nV.defaultProps,{backgroundClassName:cV.a.circularProgressBarBackground,strokeColor:YO.a.primaryColor,easing:oV});var pV=uV;function hV(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}hV.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var mV=hV;function vV(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}vV.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var gV=vV;function yV(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}yV.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var fV=yV,bV=a("Xs/E"),IV=a.n(bV),SV=Ed.a.createElement;function MV(e){var{children:t,className:a}=e,i=Je()(e,["children","className"]);return(SV("p",tp()({},i,{className:a}),t))}MV.defaultProps={className:IV.a.help};var CV=MV;var DV=function(e){var{className:t,name:a,labelText:i,showErrors:r,errors:n}=e,[s]=n;return Uu()(UC,{className:t,hasError:r,name:a},void 0,i,r&&s?"  "+s:null)},PV=Ed.a.createElement,{Component:OV}=Ed.a;var jV=function(e){class t extends OV{constructor(e,t){super(e,t),this.onFormStoreChange=()=>{var{name:e}=this.props,t=this.store.getState(),a=t[e];a||this.initializeInputState(this.props),Ep(t,this.previousFormState)||(this.previousFormState=t,this.handleStateChange(this.props)),this.state!==a&&null!=a&&this.setState(a)},this.onChange=e=>{var{transformValue:t}=this.props;this.handleStateChange(this.props,t?t(e):e)},this.onBlur=()=>{if(!this.hasBlurred){this.hasBlurred=!0;var e=this.store.getState(),{name:t}=this.props,a=e[t],i=this.calculateErrors(a.value,e,this.props);this.actions.change({name:t,change:Object.assign({},a,{errors:i,showErrors:0!==i.length})})}},this.store=t.formStore,this.actions=Object(MC.bindActionCreators)(EC,this.store.dispatch),this.state=null,this.hasBlurred=!1}componentWillMount(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)}componentWillReceiveProps(e){Object(dk.a)(e.initialValue)&&Object(dk.a)(this.props.initialValue)?Ep(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):D.a.isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){var{name:e}=this.props;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})}initializeInputState(e){var{name:t,initialValue:a}=e,i=this.store.getState();i[t]={errors:this.calculateErrors(a,i,e),showErrors:!1,value:a},this.actions.replaceState(i)}handleStateChange(e,t){var a=this.store.getState(),{name:i}=e,r=a[i],n=Array.isArray(t)||null!=t?t:r.value,s=this.calculateErrors(n,a,e);D.a.isEqual(r.value,n)&&D.a.isEqual(r.errors,s)||this.actions.change({name:i,change:{errors:s,showErrors:this.hasBlurred&&0!==s.length,value:n}})}calculateErrors(e,t,a){var{validations:i}=a;return i.map(a=>a(e,t)).filter(e=>null!=e)}render(){var t=this.props,{errors:a,onChange:i}=t,r=Je()(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;var n=a.length>0,{value:s,errors:o,showErrors:l}=this.state;return PV(e,tp()({},r,{showErrors:!!n||l,errors:n?a:o,value:s,onChange:Ib(this.onChange,i),onBlur:this.onBlur}))}}return t.displayName="FormInput("+gf(e)+")",t.WrappedComponent=e,t.contextTypes={formStore:CC},t.defaultProps={validations:[],errors:[]},t},TV=Ed.a.createElement;var wV=jV((function(e){var{formGroupClassName:t,formLabelClassName:a,name:i,labelText:r,helpText:n,showErrors:s,errors:o}=e,l=Je()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return(Uu()(sU,{className:t},void 0,Uu()(DV,{className:a,showErrors:s,errors:o,name:i,labelText:r}),TV(bR,tp()({name:i,hasError:s},l)),n?Uu()(CV,{},void 0,n):null))}));var EV=function({className:e,networks:t}){var a=t.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[{"":Object(Ze.default)("Select Network")}]);return(Uu()("div",{className:e},void 0,Uu()(wV,{name:"network",labelText:"Network",initialValue:"",values:a})))},NV=a("MZ2x"),xV=a.n(NV),AV=Ed.a.createElement,{Component:LV}=Ed.a;class kV extends LV{constructor(e,t){super(e,t),this.setRef=e=>{this._checkbox=e},this.onChange=e=>{var t=e.target.checked?this.props.checkedValue:this.props.uncheckedValue;this.props.value!==t&&this.props.onChange(t)},this._checkbox=null}componentDidMount(){this.setIndeterminate()}componentDidUpdate(){this.setIndeterminate()}setIndeterminate(){if(this._checkbox){var{value:e,uncheckedValue:t,checkedValue:a}=this.props;this._checkbox.indeterminate=e!==t&&e!==a}}render(){var e=this.props,{className:t,inputClassName:a,errorClassName:i,disabledClassName:r,isDisabled:n,size:s,checkboxText:o,name:l,value:c,checkedValue:d,hasError:u}=e,p=Je()(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]);return(Uu()("label",{className:(t||"")+" "+(xV.a[s]||"")+" "+(n&&r||"")+" "+(u&&i||""),htmlFor:l},void 0,AV("input",tp()({},p,{id:l,type:"checkbox",disabled:n,className:a,checked:c===d,ref:this.setRef,onChange:this.onChange})),o))}}kV.defaultProps={className:xV.a.label,inputClassName:xV.a.input,errorClassName:xV.a.hasError,disabledClassName:xV.a.isDisabled,isDisabled:!1,size:wp,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};var RV=kV,zV=Ed.a.createElement;function UV(e){var{formGroupClassName:t,labelText:a,checkboxText:i,helpText:r,showErrors:n,errors:s}=e,o=Je()(e,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]),[l]=s;return Uu()(sU,{className:t},void 0,a?Uu()(UC,{},void 0,a):null,zV(RV,tp()({hasError:n,checkboxText:Uu()("span",{},void 0,i,n&&l?"  "+l:null)},o)),r?Uu()(CV,{},void 0,r):null)}UV.defaultProps={showErrors:!1,errors:[]};var VV=jV(UV),BV=Ed.a.createElement,{Component:FV}=Ed.a;var HV=class extends FV{constructor(...e){super(...e),this.onChange=e=>{var t=e?parseInt(e,10):null;this.props.onChange(t)}}render(){return BV(LR,tp()({type:"number"},this.props,{selectTextOnFocus:!1,onChange:this.onChange}))}},_V=a("VOGa"),QV=a.n(_V),WV=Ed.a.createElement;function GV(e){var{formGroupClassName:t,formLabelClassName:a,inputClassName:i,name:r,labelText:n,helpText:s,showErrors:o,errors:l}=e,c=Je()(e,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return(Uu()(sU,{className:t},void 0,Uu()(DV,{className:a,showErrors:o,errors:l,name:r,labelText:n}),WV(HV,tp()({className:i,name:r,type:"number",hasError:o},c)),s?Uu()(CV,{},void 0,s):null))}GV.defaultProps={inputClassName:QV.a.input};var YV=jV(GV),KV=Ed.a.createElement;function qV(e){var{formGroupClassName:t,formLabelClassName:a,name:i,labelText:r,helpText:n,showErrors:s,errors:o,children:l}=e,c=Je()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return(Uu()(sU,{className:t},void 0,l,Uu()(DV,{className:a,showErrors:s,errors:o,name:i,labelText:r}),KV(LR,tp()({name:i,hasError:s},c)),n?Uu()(CV,{},void 0,n):null))}qV.defaultProps={errors:[]};var ZV=jV(qV),XV=a("KmMs");function JV(e,t,a){return(e-t)/(a-t)*100}var $V=a("6uTd"),eB=a.n($V),tB=Ed.a.createElement,{Component:aB}=Ed.a;class iB extends aB{constructor(e,t){super(e,t),this.onMouseDown=e=>{e.preventDefault(),0===e.button&&this._startDrag(e.pageX,e.pageY,!1)},this.onMouseMove=({pageX:e,pageY:t})=>{if(!this.state.isDragging){var a=this._getValueForPosition(e,t),i=this._trackRef.current.getBoundingClientRect(),r=this.props.isVertical?{x:i.left,y:t}:{x:e,y:i.top};this.props.onMove({position:r,positionValue:a,steppedValue:this._getSteppedValue(a)})}},this.onTouchStart=e=>{e.preventDefault();var t=e.touches&&e.touches[0];t&&this._startDrag(t.pageX,t.pageY,!0)},this.onDocumentMouseMove=e=>{this._drag(e.pageX,e.pageY)},this.onDocumentTouchMove=e=>{var t=e.touches&&e.touches[0];t&&this._drag(t.pageX,e.pageY)},this.onDocumentMouseUp=e=>{this._stopDrag(e.pageX,e.pageY)},this.onDocumentTouchEnd=e=>{var t=e.changedTouches&&e.changedTouches[0];t&&this._stopDrag(t.pageX,t.pageY)},this._trackRef=Ed.a.createRef(),this.state={isDragging:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this._stopListeningForDrag()}_listenForDrag(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))}_stopListeningForDrag(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)}_startDrag(e,t,a){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(a),this.props.onDragStart&&this.props.onDragStart()}_drag(e,t){this.state.isDragging||(document.body.classList.add(eB.a.isDragging),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))}_stopDrag(e,t){document.body.classList.remove(eB.a.isDragging),this._stopListeningForDrag();var a=this._getValueForPosition(e,t),i=this._getSteppedValue(a);this._changeValue(a),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:a,steppedValue:i})}_getValueForPosition(e,t){var a,{isVertical:i,min:r,max:n}=this.props,s=this._trackRef.current,o=s.getBoundingClientRect();if(i){var l=t-document.body.scrollTop;a=(o.bottom-l)/s.offsetHeight}else{a=(e-document.body.scrollLeft-o.left)/s.offsetWidth}return(n-r)*(a=Math.min(Math.max(a,0),1))+r}_getSteppedValue(e){var{min:t,max:a,stepSize:i}=this.props;if(!i)return e;var r=Math.round(e/i)*i;return Math.min(Math.max(r,t),a)}_getStickyValue(e){var{max:t,min:a,stepSize:i,stickiness:r}=this.props;if(!i||!r)return e;var n=this._getSteppedValue(e);return Math.abs(n-e)/(t-a)<r/100?n:e}_changeValue(e){var{value:t}=this.props;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})}render(){var{style:e,className:t,trackClassName:a,secondaryFillClassName:i,fillClassName:r,thumbClassName:n,thumbTrackClassName:s,label:o,tabIndex:l,value:c,min:d,max:u,secondaryMin:p,secondaryMax:h,showSecondaryFill:m,showFill:v,autoHideThumb:g,isDisabled:y,isVertical:f,onMove:b,onMouseEnter:I,onMouseLeave:S,onWheel:M}=this.props,{isDragging:C}=this.state,D=JV(this._getStickyValue(c),d,u),P="left",O="scaleX",j="translateX";f&&(P="top",O="scaleY",j="translateY");var T=j+"("+(f?-D:D)+"%)",w=p?JV(this._getStickyValue(p),d,u):0,E=h?JV(this._getStickyValue(h),d,u):0,N=O+"("+Math.max((D-w)/100,0)+")",x=O+"("+Math.max((E-w)/100,0)+")";return Uu()("div",{style:e,className:(t||"")+" "+(y&&eB.a.isDisabled||"")+" "+(C&&eB.a.isDragging||"")+" "+(g&&eB.a.hasAutoHideThumb||""),onWheel:y?null:M,onMouseEnter:y?null:I,onMouseLeave:y?null:S,onMouseDown:y?null:this.onMouseDown,onMouseMove:y||!b?null:this.onMouseMove,onTouchStart:y?null:this.onTouchStart},void 0,tB("div",{className:a,ref:this._trackRef},m?Uu()("div",{className:i,style:{[P]:p?w+"%":void 0,WebkitTransform:x,msTransform:x,transform:x}}):null,v?Uu()("div",{className:r,style:{[P]:p?w+"%":void 0,WebkitTransform:N,msTransform:N,transform:N}}):null),Uu()("div",{className:s,style:{WebkitTransform:T,msTransform:T,transform:T}},void 0,Uu()(Vp,{className:n,role:"slider",tabIndex:l,"aria-labelledby":o,"aria-valuemin":d,"aria-valuemax":u,"aria-valuenow":c,onMouseDown:this.onMouseDown,onMouseMove:b&&this.onMouseMove,onTouchStart:this.onTouchStart})))}}iB.defaultProps={className:eB.a.slider,trackClassName:eB.a.track,fillClassName:eB.a.fill,secondaryFillClassName:eB.a.secondaryFill,thumbClassName:eB.a.thumb,thumbTrackClassName:eB.a.thumbTrack,min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};var rB=iB,nB=a("JKRp"),sB=a.n(nB),{Component:oB}=Ed.a;class lB extends oB{constructor(...e){super(...e),this.onChange=({steppedValue:e})=>{var t=String(this.props.stepSize),[,a]=t.split("."),i=null!=a?parseFloat(e.toFixed(a.length)):e;this.props.onChange(i)}}render(){var{name:e,value:t,min:a,max:i,stepSize:r,labelText:n,showErrors:s,errors:o,valueModifier:l}=this.props;return(Uu()(sU,{},void 0,Uu()(DV,{showErrors:s,errors:o,name:e,labelText:n}),Uu()("div",{className:sB.a.sliderContainer},void 0,Uu()(rB,{className:sB.a.slider,value:t,min:a,max:i,stepSize:r,onChange:this.onChange}),Uu()("div",{className:sB.a.sliderValue},void 0,l(t)))))}}lB.defaultProps={valueModifier:e=>e};var cB=jV(lB);function dB(e){return e+""}var uB=Ed.a.createElement;function pB(e=[]){return e.map(({label:e,value:t})=>({[t]:e}))}var hB={playbackSpeed:dB};function mB(e){var{id:t,type:a,label:i,summary:r,value:n,initialValueModifier:s,enumValues:o,min:l,max:c,step:d}=e,u={name:t,helpText:r,initialValue:s(n)};if(Array.isArray(o))return uB(wV,tp()({labelText:i},u,{values:pB(o)}));switch(a){case XV.b.TEXT:return uB(ZV,tp()({labelText:i},u));case XV.b.BOOL:return uB(VV,tp()({checkboxText:i},u));case XV.b.INT:return uB(YV,tp()({labelText:i},u));case XV.b.DOUBLE:return uB(cB,tp()({labelText:i,min:l,max:c,stepSize:d,valueModifier:hB[t]},u));default:return null}}mB.defaultProps={initialValueModifier:e=>e};var vB=mB,gB=Ed.a.createElement;var yB=function({className:e,prefs:t}){return Uu()("div",{className:e},void 0,t.map(e=>{var{id:t,value:a,enumValues:i,label:r}=e,n=Array.isArray(i)?[{label:Object(Ze.default)("Select {label}",{label:r}),value:""},...i]:void 0;return gB(vB,tp()({key:t},e,{value:null==a?"":a,enumValues:n}))}))},fB=a("5hya"),bB=a.n(fB);function IB(e){var{className:t,width:a,height:i,signalStrength:r}=e;if(null==r)return null;var n=function(e){return e<=20?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":e<=40?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=60?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4=":e<=80?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg==":e<=100?"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+":void 0}(r);return(Uu()("div",{className:t},void 0,Uu()("img",{src:n,width:a,height:i})))}IB.defaultProps={className:bB.a.signalStrength,width:23,height:18};var SB=IB,MB=a("XzZp"),CB=a.n(MB);var DB=function(e){var{identifier:t,name:a,signalStrength:i,signalQuality:r}=e;return(Uu()("div",{className:CB.a.channel},void 0,Uu()("div",{className:CB.a.channelIdentifier},void 0,t),Uu()(SB,{className:CB.a.signalStrength,signalStrength:r||i}),Uu()("div",{},void 0,a)))},PB=a("iI5r"),OB=a.n(PB),jB=Ed.a.createElement;var TB=function(e){var{selectedDevice:t,channelCount:a,isChannelsPending:i,channelScanActivity:r,scanPrefs:n,scanNetworks:s,hasScannedChannels:o}=e;return r?Uu()("div",{className:OB.a.container},void 0,Uu()(pV,{size:90,progress:r.progress}),Uu()("div",{className:OB.a.message},void 0,Object(Ze.default)("Scanning channels"))):n.length?Uu()(yB,{className:OB.a.settings,prefs:n}):s.length?Uu()(EV,{className:OB.a.settings,networks:s}):i?Uu()("div",{className:OB.a.container},void 0,Uu()("div",{className:OB.a.message},void 0,Object(Ze.default)("Loading channels"))):a?Uu()("div",{},void 0,t.channels.map(e=>jB(DB,tp()({key:e.identifier},e)))):o?Uu()("div",{className:OB.a.container},void 0,Uu()("div",{className:OB.a.noChannelsIconContainer},void 0,Uu()("div",{className:OB.a.noChannelsIconBackground},void 0,Uu()(mh,{className:OB.a.noChannelsIcon}))),Uu()("div",{className:OB.a.message},void 0,Object(Ze.default)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):Uu()("div",{className:OB.a.container},void 0,Uu()("div",{className:OB.a.clockContainer},void 0,Uu()("div",{className:OB.a.clockBackground}),Uu()(mV,{className:OB.a.clockTime}),Uu()(fV,{className:OB.a.clock}),Uu()(gV,{className:OB.a.clockTime})),Uu()("div",{className:OB.a.message},void 0,Object(Ze.default)("Awaiting channel scan")))},wB=a("U0WA"),EB=a.n(wB);var NB=function(e){var t=function(e){var{channelCount:t,hasSignalStrength:a,isChannelsPending:i,channelScanActivity:r,hasScanPrefs:n,hasScanNetworks:s}=e;return r?Object(Ze.default)("Scanning for channels... This may take some time."):n?Object(Ze.default)("We need some more information before proceeding with the channel scan."):s?Object(Ze.default)("Please select a network before proceeding with the channel scan."):i?Object(Ze.default)("Fetching device channels"):t?a?Object(Ze.default)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):Object(Ze.default)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):Object(Ze.default)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return(Uu()("div",{className:EB.a.message},void 0,t))},xB=a("m9Cz"),AB=a.n(xB),LB=Ed.a.createElement,{Component:kB}=Ed.a,RB=Uu()(xU,{});class zB extends kB{constructor(...e){super(...e),this.onScanDeviceChannelsPress=e=>{var t=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(t)},this.onDeviceSourceSelect=e=>{this.props.onDeviceSourceSelect(e),this.clearExistingScanPrefs()},this.onCountrySelect=e=>{this.props.onCountrySelect(e),this.clearExistingScanPrefs()}}clearExistingScanPrefs(){var{selectedDevice:e,scanPrefs:t,scanNetworks:a,onScanDeviceChannels:i,onClearDeviceScanPrefs:r}=this.props;t.length?(r(),i(e.deviceID)):a.length&&r()}render(){var{serverEntityID:e,dvrID:t,selectedDevice:a,setupErrorMessage:i,isChannelsPending:r,sourceOptions:n,channelScanActivity:s,isCancellingChannelScan:o,selectedCountryCode:l,countryOptions:c,countriesPopulated:d,scanPrefs:u,scanNetworks:p,hasScannedChannels:h,onCancelScanDeviceChannels:m,onModalClose:v}=this.props,g=a.selectedSource||a.sources[0],y=s?parseInt(s.Response.channels,10):a.channels.length,f=!(!y||s||r),b=!!u.length,I=!!p.length,S=[{"":Object(Ze.default)("Select Country")},...c],M=a.channels.some(e=>null!=e.signalQuality||null!=e.signalStrengh),C=!(a&&a.channels.length&&!s&&l);return Uu()(CU,{errorMessage:i,onModalClose:v},void 0,Uu()(fL,{className:AB.a.deviceInfoBody,scrollDirection:Jp},void 0,Uu()(AC,{className:AB.a.deviceInfoForm,onSubmit:this.onScanDeviceChannelsPress},void 0,Uu()("div",{className:AB.a.channelInfo},void 0,Uu()(NB,{channelCount:y,hasSignalStrength:M,isChannelsPending:r,channelScanActivity:s,hasScanPrefs:b,hasScanNetworks:I}),Uu()("div",{},void 0,Uu()(bU,{type:s?"button":"submit",kind:s||y||r?Cp:Dp,size:Tp,isSpinning:o,isDisabled:!l||o,onPress:s?m:null},void 0,s?Object(Ze.default)("Stop scanning"):Object(Ze.default)("Scan channels")))),Uu()("div",{className:AB.a.channelDetails},void 0,Uu()(rh,{className:AB.a.deviceDetails},void 0,LB(eV,tp()({serverEntityID:e,deviceID:a.key,channelCount:y,includeChannelCount:!0},a)),Uu()(sU,{},void 0,Uu()(bR,{className:AB.a.channelScanSourceSelect,name:"deviceSource",value:g,values:n,isDisabled:!!s,onChange:this.onDeviceSourceSelect})),d?Uu()(sU,{className:AB.a.countryInputGroup},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Country")),Uu()(bR,{name:"countrySelect",value:l,values:S,isDisabled:!!s,onChange:this.onCountrySelect})):null),Uu()("div",{className:AB.a.deviceChannelsContainer},void 0,Uu()(rh,{className:f?AB.a.deviceChannels:AB.a.deviceChannelsInfo,autoScroll:!0},void 0,Uu()(TB,{selectedDevice:a,channelCount:y,isChannelsPending:r,channelScanActivity:s,scanPrefs:u,scanNetworks:p,hasScannedChannels:h})))))),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:v},void 0,Object(Ze.default)("Cancel"))),Uu()(uU,{},void 0,RB,Uu()(EU,{dvrID:t,isDisabled:C}))))}}zB.defaultProps={scanPrefs:[],scanNetworks:[]};var UB=zB,VB=Ed.a.createElement,{Component:BB}=Ed.a;var FB=Object(Fu.b)((function(){return Object(_u.a)(Qz,tU,eU(),(e,t,a)=>{var i=e.selectedDevice,r=i.sources.reduce((e,t)=>{switch(t){case"0":e.push({[t]:Object(Ze.default)("Antenna")});break;case"1":e.push({[t]:Object(Ze.default)("Cable")})}return e},[]),{scanPrefs:n,scanNetworks:s,hasScannedChannels:o}=e,{selectedCountry:l,countries:c}=e.epgSettings,d=c.length>0,u=l?l.code:"",p=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]);return{selectedDevice:i,setupErrorMessage:t,isChannelsPending:i.isChannelsPending,sourceOptions:r,countriesPopulated:d,selectedCountryCode:u,countryOptions:p,scanPrefs:n,scanNetworks:s,hasScannedChannels:o,channelScanActivity:a}})}),(function(e,t){var{serverEntityID:a}=t;return{dispatchFetchDeviceDetails(){e(gz({serverEntityID:a}))},dispatchFetchDeviceChannels(){e(yz({serverEntityID:a}))},dispatchFetchEPGCountries(){e(Gz({serverEntityID:a}))},dispatchCancelScanDeviceChannels(t){e(bz({serverEntityID:a,deviceID:t}))},onDeviceSourceSelect(t){e(vz({serverEntityID:a,source:t}))},onScanDeviceChannels(t={}){e(fz(Object.assign({serverEntityID:a},t)))},onCountrySelect(t){e(Kz({serverEntityID:a,countryCode:t}))},onClearDeviceScanPrefs(){e(xz({serverEntityID:a}))}}}))(class extends BB{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},this.state={isCancellingChannelScan:!1}}componentWillMount(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})}componentDidMount(){var e=this.props.selectedDevice,t=e.source>-1?e.source.toString():e.sources[0];Object(wa.a)(()=>{this.props.dispatchFetchDeviceDetails(),this.props.dispatchFetchDeviceChannels(),this.props.dispatchFetchEPGCountries(),this.props.onDeviceSourceSelect(t),this.props.onClearDeviceScanPrefs()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(wa.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)}render(){var e=this.props,t=Je()(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]);return(VB(UB,tp()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t)))}}),HB=a("DrhB"),_B=a.n(HB),QB=Ed.a.createElement,{Component:WB}=Ed.a,GB=Uu()(Xh,{});var YB=class extends WB{constructor(e,t){super(e,t),this.onShowDeviceAddressPress=()=>{this.setState({showManualAddress:!this.state.showManualAddress})},this.onDeviceAddressChange=e=>{this.setState({manualDeviceAddress:e})},this.onAddDevicePress=()=>{this.props.onAddDevice(this.state.manualDeviceAddress)},this.state={showManualAddress:!1,manualDeviceAddress:""}}render(){var{serverEntityID:e,selectedDevice:t,setupErrorMessage:a,addDevicePending:i,devices:r,onSelectDevice:n,onModalClose:s}=this.props,{showManualAddress:o,manualDeviceAddress:l}=this.state,c=r.length>0;return Uu()(CU,{errorMessage:a,onModalClose:s},void 0,Uu()(fL,{},void 0,c?Uu()("div",{},void 0,Object(Ze.default)("We found hardware we recognize!")):null,c?null:Uu()("div",{},void 0,Object(Ze.default)("Looking for compatible devices...")),Uu()("div",{className:_B.a.manualDeviceButtonContainer},void 0,Uu()(Cy,{kind:Dp,direction:o?cy:dy,isSelected:!1,onPress:this.onShowDeviceAddressPress},void 0,Object(Ze.default)("Don't see your HDHomeRun device? Enter its network address manually"))),Uu()("div",{className:_B.a.manualDeviceContainer},void 0,o?Uu()("div",{},void 0,Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("HDHomeRun Device Address")),Uu()(LR,{type:"text",name:"manualDeviceInput",className:_B.a.manualDeviceInput,value:this.state.manualDeviceAddress,placeholder:Object(Ze.default)("IP address or hostname"),onChange:this.onDeviceAddressChange}),Uu()(bU,{className:_B.a.addDeviceButton,kind:Dp,size:wp,isDisabled:!l,isSpinning:i,onPress:this.onAddDevicePress},void 0,Object(Ze.default)("Connect")))):null),c?null:Uu()("div",{className:_B.a.spinnerContainer},void 0,GB),c?Uu()("div",{},void 0,Uu()("div",{className:_B.a.deviceCount},void 0,1===r.length?Object(Ze.default)("1 device found"):Object(Ze.default)("{deviceCount} devices found",{deviceCount:r.length})),Uu()(rh,{className:_B.a.devices,scrollDirection:"horizontal"},void 0,r.map(a=>{var i=t&&t.key===a.key;return(QB(eV,tp()({key:a.key,className:_B.a.device,serverEntityID:e,deviceID:a.key,isSelectable:!0,isSelected:i,includeUri:!0,onSelectDevice:n},a)))}))):null),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:s},void 0,Object(Ze.default)("Cancel"))),Uu()(uU,{},void 0,Uu()(EU,{isDisabled:!t}))))}},KB=Ed.a.createElement,{Component:qB}=Ed.a,ZB=Object(_u.a)(e=>e.ui.dvrSettingsUI.dvrSetup.devices,e=>D.a.filter(e,e=>!e.parentID&&e.status===fk));var XB=Object(Fu.b)((function(){return Object(_u.a)(Qz,tU,ZB,(e,t,a)=>{var{isDiscoveringDevices:i,selectedDevice:r,addDevicePending:n}=e;return{isDiscoveringDevices:i,selectedDevice:r,setupErrorMessage:t,addDevicePending:n,devices:a}})}),(function(e,t){var{serverEntityID:a}=t;return{dispatchDiscoverDevices(){e(pz({serverEntityID:a}))},dispatchFetchDevices(){e(uz({serverEntityID:a}))},onAddDevice(t){e(hz({serverEntityID:a,uri:t}))},onSelectDevice(t){e(mz({serverEntityID:a,deviceID:t}))}}}))(class extends qB{constructor(e){super(e),this._discoverDevices=()=>{this.props.dispatchDiscoverDevices()},this._discoverTimeoutID=null,this.discoverDelay=2e3}componentDidMount(){Object(wa.a)(()=>{this.props.dispatchFetchDevices()}),this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay)}componentDidUpdate(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=window.setTimeout(this._discoverDevices,this.discoverDelay))}componentWillUnmount(){this._discoverTimeoutID&&window.clearTimeout(this._discoverTimeoutID)}render(){var e=this.props,t=Je()(e,["dispatchDiscoverDevices","dispatchFetchDevices"]);return(KB(YB,t))}}),JB=a("4+bI"),$B=a.n(JB),eF=parseInt(YU.a.dvrSetupImageWidth,10);var tF=function(e){var{serverEntityID:t,dvrID:a,make:i,model:r,thumb:n,onModalClose:s}=e;return(Uu()(CU,{title:Object(Ze.default)("Unsupported Tuner"),onModalClose:s},void 0,Uu()(fL,{className:$B.a.unsupportedDeviceBody,scrollDirection:Jp},void 0,Uu()("div",{className:$B.a.imageContainer},void 0,Uu()(QU,{serverEntityID:t,make:i,model:r,thumb:n,width:eF,height:100}),Uu()("div",{className:$B.a.makeModelContainer},void 0,Uu()("div",{},void 0,i),Uu()("div",{},void 0,r))),Uu()("div",{className:$B.a.info},void 0,Object(Ze.default)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),Uu()("div",{className:$B.a.info},void 0,Uu()(oT,{message:Object(Ze.default)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:Qp,target:"_blank"}]}))),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:s},void 0,Object(Ze.default)("Cancel"))),Uu()(uU,{},void 0,Uu()(EU,{dvrID:a,label:Object(Ze.default)("Enable Unsupported Tuner")})))))};var aF=Object(Fu.b)((function(){return Object(_u.a)(Qz,e=>{var{make:t,model:a,thumb:i}=e.selectedDevice;return{make:t,model:a,thumb:i}})}))(tF);function iF(){return Object(_u.a)(RS(),e=>e?e.providers:void 0)}var rF=function(){return Object(_u.a)((e,{dvrID:t})=>t,$z(),Qz,(e,t,a)=>e?D.a.find(t,t=>"provider.epg.load"===t.type&&parseInt(t.Context.dvrID,10)===e):D.a.find(t,{uuid:a.epgDownloadActivityID}))},nF=a("9U8V"),sF=a.n(nF);function oF(e){var t,{server:a,provider:i,sourceDirectory:r,setupErrorMessage:n,epgDownloadActivityID:s,progress:o,message:l,onModalClose:c}=e;return i&&(t=na(ea,a,i,r)),Uu()(CU,{errorMessage:n,onModalClose:c},void 0,Uu()(fL,{},void 0,Uu()("div",{className:sF.a.message},void 0,Uu()("div",{},void 0,Object(Ze.default)("Setup complete!")),Uu()("div",{},void 0,Object(Ze.default)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),s?Uu()("div",{},void 0,Uu()("div",{className:sF.a.spinnerContainer},void 0,Uu()(pV,{size:90,progress:o}),Uu()("div",{className:sF.a.spinnerMessage},void 0,l))):null),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:c},void 0,Object(Ze.default)("Close")),Uu()(rT,{kind:Dp,size:Tp,to:t,isDisabled:!i},void 0,Object(Ze.default)("View Guide")))))}oF.defaultProps={progress:0,message:""};var lF=oF,cF=Ed.a.createElement;var dF=Object(Fu.b)((function(){return Object(_u.a)(Qz,tU,RS(),Object(_u.a)(iF(),Qz,pv,(e,{selectedDVR:t},a)=>{if(t&&e){for(var i=0;i<e.length;i++){var r=a[e[i]];if(r.identifier===t.epgIdentifier)return r}return null}}),rF(),(e,t,a,i,r)=>{var{progress:n,subtitle:s}=r||{},o=Kt(i);return{server:a,provider:i,sourceDirectory:o&&o.directories&&o.directories.find(e=>e.hubKey&&!e.key),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:n,message:s}})}))((function(e){return cF(lF,e)})),uF=a("mYof"),pF=a.n(uF);function hF({setupErrorMessage:e,progress:t,onModalClose:a}){return Uu()(CU,{errorMessage:e,onModalClose:a},void 0,Uu()(fL,{},void 0,Uu()("div",{className:pF.a.message},void 0,Uu()("div",{},void 0,Object(Ze.default)("We're finding the best guide for your channels and location.")),Uu()("div",{},void 0,Object(Ze.default)("This should only take a few moments."))),Uu()("div",{className:pF.a.spinnerContainer},void 0,Uu()(pV,{size:90,progress:t}))),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:a},void 0,Object(Ze.default)("Cancel")))))}hF.defaultProps={progress:0};var mF=hF,vF=Ed.a.createElement,{Component:gF}=Ed.a;var yF={findBestEPGLineup:Iz};var fF=Object(Fu.b)((function(){return Object(_u.a)(Qz,tU,$z(),(e,t,a)=>{var i=D.a.find(a,{uuid:e.epgLineupActivityID}),{progress:r}=i||{};return{setupErrorMessage:t,progress:r}})}),yF)(class extends gF{componentWillMount(){this._populate(this.props)}_populate(e){Object(wa.a)(()=>{e.findBestEPGLineup({serverEntityID:e.serverEntityID})})}render(){return vF(mF,this.props)}});var bF=Ed.a.createElement,{Component:IF}=Ed.a;var SF=class extends IF{constructor(e,t){super(e,t),this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onPostalCodeChange(e)})},this.state={postalCode:""}}componentWillReceiveProps(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})}focusInput(e){e&&Bu.a.findDOMNode(e).focus()}render(){var e=this.props.postalCodeExample,t=this.state.postalCode;return bF(LR,{name:"postalCodeInput",placeholder:"e.g. "+e,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})}},MF=Ed.a.createElement,{Component:CF}=Ed.a;var DF=Object(Fu.b)((function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}}),s)(class extends CF{constructor(e,t){super(e,t),this._fetchEPGLineups=()=>{this.props.fetchEPGLineups({serverEntityID:this.props.serverEntityID})},this.onPostalCodeChange=e=>{this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID),Object(wa.a)(()=>{this.props.setEPGPostalCode({serverEntityID:this.props.serverEntityID,postalCode:e}),""!==e.trim()&&(this._postalCodeTimeoutID=window.setTimeout(this._fetchEPGLineups,200))})},this._postalCodeTimeoutID=null}componentWillUnmount(){this._postalCodeTimeoutID&&window.clearTimeout(this._postalCodeTimeoutID)}render(){return MF(SF,tp()({onPostalCodeChange:this.onPostalCodeChange},this.props))}}),PF=a("F3Cg"),OF=a.n(PF),{Component:jF}=Ed.a,TF=Uu()(xU,{});var wF=class extends jF{constructor(e,t){super(e,t),this.onShowXMLTVEntryPress=()=>{this.setState({showXMLTVEntry:!this.state.showXMLTVEntry})},this.onLanguageSelect=e=>{this.props.onLanguageSelect(e)},this.onRegionSelect=e=>{this.props.onRegionSelect(e)},this.onXMLTVPathChange=e=>{this.setState({xmlTVPath:e},()=>{this.props.onXMLTVProgramGuideChange(e,this.state.programGuideTitle)})},this.onProgramGuideTitleChange=e=>{this.setState({programGuideTitle:e},()=>{this.props.onXMLTVProgramGuideChange(this.state.xmlTVPath,e)})},this.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:Object(Ze.default)("My Guide")}}render(){var{serverEntityID:e,platform:t,setupErrorMessage:a,isFetching:i,selectedLanguageCode:r,selectedRegionCode:n,languageOptions:s,regionOptions:o,languagesPopulated:l,regionsPopulated:c,canContinue:d,postalCodeExample:u,onSubmit:p,onModalClose:h}=this.props,{showXMLTVEntry:m,xmlTVPath:v,programGuideTitle:g}=this.state,y=l,f=!(!l||!u),b=!(!l||!c),I=[{"":Object(Ze.default)("Select Language")},...s],S=[{"":Object(Ze.default)("Select Region")},...o],M="Windows"===t?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return Uu()(AC,{className:OF.a.form,onSubmit:p},void 0,Uu()(CU,{errorMessage:a,onModalClose:h},void 0,Uu()(fL,{},void 0,Uu()("div",{className:OF.a.message},void 0,Uu()("div",{},void 0,Object(Ze.default)("To download an electronic guide we need to know your location.")),Uu()(Vp,{kind:Dp,onPress:this.onShowXMLTVEntryPress},void 0,m?Object(Ze.default)("Don't use XMLTV? Click here to select your location instead."):Object(Ze.default)("Have an XMLTV guide on your server? Click here to use that instead."))),m?Uu()("div",{},void 0,l?Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Language")),Uu()(bR,{name:"languageSelect",values:I,value:r,onChange:this.onLanguageSelect})):null,Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("XMLTV Guide")),Uu()(LR,{name:"xmltvPath",placeholder:M,value:v,onChange:this.onXMLTVPathChange})),Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Guide Title")),Uu()(LR,{name:"programGuideTitle",value:g,onChange:this.onProgramGuideTitleChange}))):null,m?null:Uu()("div",{},void 0,y?Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Language")),Uu()(bR,{name:"languageSelect",values:I,value:r,onChange:this.onLanguageSelect})):null,f?Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Postal Code")),Uu()(DF,{serverEntityID:e,postalCodeExample:u}),i?Uu()(Xh,{className:OF.a.fetchingSpinner}):null):null,b?Uu()(sU,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Region")),Uu()(bR,{className:OF.a.regionInput,name:"regionSelect",values:S,value:n,onChange:this.onRegionSelect}),i?Uu()(Xh,{className:OF.a.fetchingSpinner}):null):null)),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:h},void 0,Object(Ze.default)("Cancel"))),Uu()(uU,{},void 0,TF,Uu()(rT,{type:"submit",kind:Dp,size:Tp,isDisabled:!d||i},void 0,Object(Ze.default)("Continue"))))))}},EF=Ed.a.createElement,{Component:NF}=Ed.a;var xF=Object.assign({dvrSetupNextStep:cz,selectEPGLineup:Sz},s);var AF=Object(Fu.b)((function(){return Object(_u.a)(RS(),Qz,tU,(e,t,a)=>{var{selectedLineupUUID:i,epgSettings:r}=t,{isFetching:n,selectedCountry:s,selectedLanguage:o,selectedRegion:l,languages:c,regions:d,lineupGroup:u}=r,p=s&&1===s.flavor?s.example:null,h=o?o.code:"",m=l?l.key:"",v=c.length>0,g=d.length>0,y=c.reduce((e,t)=>(e.push({[t.code]:t.title}),e),[]),f=d.reduce((e,t)=>(e.push({[t.key]:t.title}),e),[]);return{platform:e.platform,setupErrorMessage:a,selectedLineupUUID:i,selectedLanguageCode:h,selectedRegionCode:m,languagesPopulated:v,regionsPopulated:g,languageOptions:y,regionOptions:f,isFetching:n,postalCodeExample:p,canContinue:!(!u.lineups.length&&!i||!h)}})}),xF)(class extends NF{constructor(...e){super(...e),this.onLanguageSelect=e=>{this.props.selectEPGLanguage({serverEntityID:this.props.serverEntityID,languageCode:e})},this.onRegionSelect=e=>{this.props.selectEPGRegion({serverEntityID:this.props.serverEntityID,regionKey:e})},this.onSubmit=()=>{this.props.dvrSetupNextStep()},this.onXMLTVProgramGuideChange=(e,t)=>{if(e&&t){var a="lineup://tv.plex.providers.epg.xmltv/"+function(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,(e,t)=>"/"+encodeURIComponent(t))),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(e)+"#"+encodeURIComponent(t);this.props.selectEPGLineup({lineupUUID:a})}else this.props.selectEPGLineup({lineupUUID:null})}}componentWillMount(){this._populate(this.props)}_populate(e){Object(wa.a)(()=>{var t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})})}render(){return EF(wF,tp()({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))}});var LF=function(){return Object(_u.a)(e=>e.ui.dvrSettingsUI,(e,{dvrID:t})=>t,(e,t)=>{var a=e.dvrs;return D.a.find(a,{key:t})})};var kF=function(){return Object(_u.a)((e,{deviceID:t})=>t,LF(),(e,t)=>{if(t)return D.a.find(t.devices,{key:e})})};function RF(){return LS(Object(_u.a)(Qz,kF(),(e,t)=>{var a=t?t.channels:e.selectedDevice.channels,i=t?t.channelMappings:e.channelMappings,r=e.lineupChannels,n=D.a.pluck(a,"key"),s=D.a.pluck(i,"deviceIdentifier"),o=n.concat(s);return D.a.uniq(o).map(e=>{var t=D.a.find(a,{key:e}),n=D.a.findWhere(i,{deviceIdentifier:e}),s=r.find(e=>n&&e.key&&e.key===n.channelKey||n&&e.identifier&&e.identifier===n.lineupIdentifier),{name:o="",identifier:l="",drm:c=!1,signalStrength:d,signalQuality:u,hd:p=!1}=t||{};return{key:e,name:o,deviceIdentifier:l,enabled:!(!t||c||!n||!n.enabled),drm:c,isChannelMissing:!t,channelKey:n&&n.channelKey||s&&s.key,lineupIdentifier:n&&n.lineupIdentifier||s&&s.identifier,signalStrength:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:!!s&&s.hd}}).sort((e,t)=>mk(e.deviceIdentifier,t.deviceIdentifier))}),e=>e)}var zF=function(e){var t=e.identifier+" "+e.callSign;return e.title?t+" ("+e.title+")":t},UF=Object(_u.a)(Qz,e=>e.lineupChannels),VF=Object(_u.a)(UF,e=>e.slice().sort((e,t)=>mk(e.identifier,t.identifier)).reduce((e,t)=>{var a=zF(t),i=JSON.stringify({channelKey:t.key,lineupIdentifier:t.identifier});return e.concat({[i]:a})},[{"":Object(Ze.default)("Select Channel")}])),BF=LS(VF,e=>e),FF=a("x1aQ"),HF=a.n(FF);function _F({className:e,children:t,kind:a}){return Uu()("span",{className:(e||"")+" "+(HF.a.badge||"")+" "+(HF.a[a]||"")+" "+(!t&&HF.a.isHidden||""),"data-qa-id":"badgeElement"},void 0,t)}_F.defaultProps={kind:Cp};var QF=_F,WF=a("tmXh"),GF=a.n(WF);var YF=function(){return Uu()(QF,{className:GF.a.resolution},void 0,"HD")},KF=a("z2YV"),qF=a.n(KF),{Component:ZF}=Ed.a,XF=Uu()(YF,{});var JF=jV(class extends ZF{constructor(e,t){super(e,t),this.onSelectPress=e=>{this.setState({showSelectOptions:!0})},this.onEnabledChange=e=>{this.setState({enabled:e},()=>{this.props.onChange({enabled:e,channelKey:this.state.channelKey,lineupIdentifier:this.state.lineupIdentifier})})},this.onLineupChannelChange=e=>{var{channelKey:t,lineupIdentifier:a}=JSON.parse(e||{});this.setState({channelKey:t,lineupIdentifier:a},()=>{this.props.onChange({enabled:this.state.enabled,channelKey:t,lineupIdentifier:a})})},this.state={enabled:e.initialValue.enabled,channelKey:e.initialValue.channelKey,lineupIdentifier:e.initialValue.lineupIdentifier,showSelectOptions:!1}}componentWillReceiveProps(e){var{enabled:t,lineupIdentifier:a}=this.state,{enabled:i,lineupIdentifier:r}=e.value;t===i&&a===r||this.setState(this.props.value)}shouldComponentUpdate(e,t){return t.enabled!==this.state.enabled||(t.channelKey!==this.state.channelKey||(t.lineupIdentifier!==this.state.lineupIdentifier||(t.showSelectOptions!==this.state.showSelectOptions||(e.deviceIdentifier!==this.props.deviceIdentifier||(e.channelName!==this.props.channelName||(e.initialValue.enabled!==this.props.initialValue.enabled||(e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||(e.initialValue.channelKey!==this.props.initialValue.channelKey||(e.value.enabled!==this.props.value.enabled||(e.value.lineupIdentifier!==this.props.value.lineupIdentifier||(e.value.channelKey!==this.props.value.channelKey||e.lineupChannels!==this.props.lineupChannels)))))))))))}render(){var{name:e,deviceIdentifier:t,channelName:a,drm:i,signalStrength:r,isDeviceChannelHD:n,isLineupChannelHD:s,isChannelMissing:o,showResolution:l,lineupChannels:c,lineupChannelOptions:d}=this.props,{enabled:u,channelKey:p,lineupIdentifier:h}=this.state;if(o)return null;var m=c.find(e=>p&&h?e.key===p&&e.identifier===h:p?e.key===p:h?e.identifier===h:void 0),v=m?zF(m):null,g=JSON.stringify({channelKey:p,lineupIdentifier:h});return Uu()("div",{className:qF.a.channelMapping},void 0,Uu()("div",{className:qF.a.deviceInfo},void 0,Uu()("div",{className:qF.a.channelEnabled},void 0,i?null:Uu()(RV,{name:e+"Check",value:u,onChange:this.onEnabledChange})),Uu()("label",{className:(qF.a.deviceIdentifier||"")+" "+(!u&&qF.a.mappingDisabled||""),htmlFor:e+"Check"},void 0,t),Uu()("div",{className:(qF.a.channelName||"")+" "+(!u&&qF.a.mappingDisabled||"")},void 0,a),Uu()(SB,{className:qF.a.signalStrength,signalStrength:r})),i?Uu()("div",{className:qF.a.drmChannel},void 0,Uu()(QF,{className:qF.a.drmChannelBadge},void 0,Object(Ze.default)("Protected"))):Uu()("div",{className:qF.a.epgChannel},void 0,Uu()(bR,{name:e+"Select",value:g,values:this.state.showSelectOptions?d:[{[g]:u?v||Object(Ze.default)("Select Channel"):v}],size:jp,isDisabled:!u,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),l?Uu()("div",{className:qF.a.resolutionContainer},void 0,n||s?XF:null):null))}}),$F=a("vXsA"),eH=a.n($F);var tH=function(e){var{showSignalStrength:t,allChannelMappingsEnabled:a,allChannelMappingsDisabled:i,onAllChannelMappingsEnabledChange:r}=e,n=null;return a?n=!0:i&&(n=!1),Uu()("div",{className:eH.a.container},void 0,Uu()("div",{className:eH.a.deviceChannelsContainer},void 0,Uu()(RV,{name:"toggleAll",value:n,onChange:r}),Uu()("div",{className:eH.a.deviceChannelsPadding}),Uu()("div",{className:eH.a.deviceChannels},void 0,Object(Ze.default)("Device Channels")),t?Uu()("div",{className:eH.a.signalStrength},void 0,Object(Ze.default)("Strength")):null),Uu()("div",{className:eH.a.guideChannels},void 0,Object(Ze.default)("Guide Channels")))},aH=Ed.a.createElement,{Component:iH}=Ed.a;var rH=function(e){class t extends iH{constructor(e,t){super(e,t),this.onFormStateChange=e=>{var t=!0,a=!0;Object.keys(e).forEach(i=>{e[i].value.enabled?a=!1:t=!1}),this.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:a})},this.onAllChannelMappingsEnabledChange=e=>{this.setState(t=>{var a={};return Object.keys(t.formState).forEach(i=>{var r=t.formState[i].value;r.enable===e?a[i]=t.formState[i]:a[i]=Object.assign({},t.formState[i],{value:{enabled:e,lineupIdentifier:r.lineupIdentifier}})}),{formState:a,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}})},this.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1}}render(){var{allChannelMappingsEnabled:t,allChannelMappingsDisabled:a}=this.state;return(aH(e,tp()({formState:this.state.formState,allChannelMappingsEnabled:t,allChannelMappingsDisabled:a,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props)))}}return t.displayName="DeviceChannelMappingsForm("+gf(e)+")",t.WrappedComponent=e,t},nH=a("/sof"),sH=a.n(nH);var oH=rH((function(e){for(var{dvrID:t,setupErrorMessage:a,selectedLineupUUID:i,availableLineups:r,lineupChannels:n,lineupChannelOptions:s,channelMappings:o,isChannelMappingsPending:l,isLineupChannelsPending:c,isSavingDVR:d,channelMappingsErrorMessage:u,formState:p,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:v,onFormStateChange:g,onLineupSelect:y,onModalClose:f,onSubmit:b}=e,I=l||c,S=!!r.length,M=[{"":Object(Ze.default)("Select Guide")},...r],C=i?decodeURIComponent(i.match(/#(.+?)$/)[1]):void 0,D=!1,P=!1,O=0;O<o.length&&(!D||!P);O++){var j=o[O];null==j.signalQuality&&null==j.signalStrengh||(D=!0),(j.isDeviceChannelHD||j.isLineupChannelHD)&&(P=!0)}return(Uu()(AC,{className:sH.a.form,formState:p,onChange:g,onSubmit:b},void 0,Uu()(CU,{errorMessage:a,onModalClose:f},void 0,u?Uu()(fL,{className:sH.a.channelMappingsBody,scrollDirection:Jp},void 0,Uu()("div",{className:sH.a.centeredContainer},void 0,u)):null,u?null:Uu()(fL,{className:sH.a.channelMappingsBody,scrollDirection:Jp},void 0,S?Uu()("div",{},void 0,Uu()("div",{className:sH.a.programGuideLabel},void 0,Object(Ze.default)("Guide")),Uu()("div",{className:sH.a.programGuideSelectContainer},void 0,Uu()(bR,{name:"programGuide",values:M,value:i,onChange:y}))):null,S?null:Uu()("div",{className:sH.a.programGuideTitle},void 0,C),I?Uu()("div",{className:sH.a.centeredContainer},void 0,Uu()(Xh,{label:Object(Ze.default)("Loading channel mappings")})):null,!I&&i?Uu()(rh,{className:sH.a.scroller,autoScroll:!0},void 0,Uu()(tH,{showSignalStrength:D,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:v}),o.map(e=>{var{key:t,deviceIdentifier:a,name:i,enabled:r,channelKey:o,lineupIdentifier:l,drm:c,signalStrengh:d,signalQuality:u,isDeviceChannelHD:p,isLineupChannelHD:h,isChannelMissing:m}=e;return(Uu()(JF,{name:t,initialValue:{enabled:r,channelKey:o,lineupIdentifier:l},deviceIdentifier:a,channelName:i,drm:c,signalStrength:u||d,isDeviceChannelHD:p,isLineupChannelHD:h,isChannelMissing:m,showResolution:P,lineupChannels:n,lineupChannelOptions:s},t))})):null),Uu()(jU,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:f},void 0,Object(Ze.default)("Cancel"))),Uu()(uU,{},void 0,Uu()(xU,{dvrID:t}),Uu()(bU,{type:"submit",kind:Dp,size:Tp,isSpinning:d},void 0,Object(Ze.default)("Continue")))))))})),lH=Ed.a.createElement,{Component:cH}=Ed.a;function dH(e,t){if(e){var a=Se.a.parseXML(e.responseText);if(a.message)return a.message}else{if(!t)return;var i=Se.a.parseXML(t.responseText);if(i.message)return i.message}return Object(Ze.default)("Unable to load channel mappings")}var uH={fetchLineupChannels:Lz,fetchChannelMap:kz,selectEPGLineup:Sz,clearChannelMapError:Mz,saveDVR:Pz,addDVRDevice:Oz};var pH=Object(Fu.b)((function(){return Object(_u.a)(Qz,tU,UF,BF,RF(),(e,t,a,i,r)=>{var{selectedDevice:n,selectedLineupUUID:s,isChannelMappingsPending:o,isLineupChannelsPending:l,channelMappingsError:c,lineupChannelsError:d,isSavingDVR:u}=e;return{setupErrorMessage:t,selectedDevice:n,selectedLineupUUID:s,availableLineups:D.a.reduce(e.epgSettings.lineupGroup.lineups,(e,t)=>(e.push({[t.uuid]:t.title}),e),[]),lineupChannels:a,lineupChannelOptions:i,channelMappings:r,isChannelMappingsPending:o,isLineupChannelsPending:l,isSavingDVR:u,channelMappingsErrorMessage:dH(c,d)}})}),uH)(class extends cH{constructor(...e){super(...e),this.onLineupSelect=e=>{var{serverEntityID:t,selectedDevice:a}=this.props;e&&(this.props.selectEPGLineup({serverEntityID:t,lineupUUID:e}),this.props.fetchLineupChannels({serverEntityID:t,lineupUUID:e}),this.props.fetchChannelMap({serverEntityID:t,deviceUUID:a.uuid,lineupUUID:e,forceEnabled:!0}))},this.onAddDeviceSubmit=e=>{var{serverEntityID:t,dvrID:a,selectedDevice:i}=this.props;this.props.addDVRDevice({serverEntityID:t,dvrID:a,deviceID:i.key,data:e})},this.onSaveDVRSubmit=e=>{var{serverEntityID:t,selectedDevice:a}=this.props;this.props.saveDVR({serverEntityID:t,deviceID:a.key,data:e})}}componentWillMount(){this._populate(this.props)}componentWillUnmount(){this.props.clearChannelMapError()}_populate(e){var t=e.serverEntityID,a=e.selectedDevice.uuid,i=e.selectedLineupUUID;i&&Object(wa.a)(()=>{e.fetchLineupChannels({serverEntityID:t,lineupUUID:i}),e.fetchChannelMap({serverEntityID:t,deviceUUID:a,lineupUUID:i,forceEnabled:!0})})}render(){var e=this.props.dvrID;return(lH(oH,tp()({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props)))}}),hH=Ed.a.createElement,{Component:mH}=Ed.a;var vH={clearDVRSetup:lz};var gH=Object(Fu.b)((function(){return Object(_u.a)(Qz,e=>({step:e.step}))}),vH)(class extends mH{componentWillUnmount(){this.props.clearDVRSetup()}render(){var e=this.props,{step:t}=e,a=Je()(e,["step"]);switch(t){case Vk:return hH(XB,a);case Bk:return hH(aF,a);case Fk:return hH(FB,a);case Hk:return hH(AF,a);case _k:return hH(fF,a);case Qk:return hH(pH,a);case Wk:return hH(dF,a)}}}),yH=a("mqLr"),fH=a.n(yH),{Component:bH}=Ed.a;var IH=class extends bH{constructor(...e){super(...e),this.onModalClose=()=>{Object(ie.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:Rd.N,action:kd.t})),this.props.onModalClose()}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,dvrID:t,isOpen:a,metricsProperties:i}=this.props;return(Uu()(xT,{className:fH.a.modal,isOpen:a,metricsPage:Rd.N,metricsProperties:i,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},void 0,Uu()(gH,{serverEntityID:e,dvrID:t,onModalClose:this.onModalClose})))}},{Component:SH}=Ed.a,MH={context:_t.SETTINGS};class CH extends SH{constructor(e,t){super(e,t),this.onCreateDVRPress=()=>{this.setState({isDVRSetupModalOpen:!0})},this.onDVRSetupModalClose=()=>{this.setState({isDVRSetupModalOpen:!1}),this.props.onModalClose&&this.props.onModalClose()},this.state={isDVRSetupModalOpen:e.isModalOpen}}render(){var{className:e,serverEntityID:t,machineIdentifier:a,providerIdentifier:i,isDvrsPending:r,isV4DVRSetupEnabled:n,hasDVRs:s,hasDVRFeature:o,hasLiveTVSetupFeature:l,dvrsError:c,children:d}=this.props,{isDVRSetupModalOpen:u}=this.state,p=!r&&!s;return Uu()("div",{className:e},void 0,d?d({serverEntityID:t,hasDVRFeature:o,hasLiveTVSetupFeature:l,noDVRs:p,dvrsError:c,onOpen:this.onCreateDVRPress}):null,n?Uu()(oz,{machineIdentifier:a,providerIdentifier:i,metricsContext:MH.context,isOpen:u,onModalClose:this.onDVRSetupModalClose}):Uu()(IH,{serverEntityID:t,metricsProperties:MH,isOpen:u,onModalClose:this.onDVRSetupModalClose}))}}CH.defaultProps={isModalOpen:!1};var DH=CH,PH=Ed.a.createElement,{Component:OH}=Ed.a;var jH={dispatchInitDVRSettingsUI:Yk,dispatchClearDVRSettingsUI:Kk};var TH=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.dvrSettingsUI,RS(),zT(Tt.k),pv,ck,(e,t,a,i,r)=>{var{isDvrsPending:n,dvrs:s,dvrsError:o,isUIPopulated:l}=e,c=t.providers.map(e=>i[e]).find(rn);return{machineIdentifier:t.machineIdentifier,providerIdentifier:null==c?void 0:c.identifier,isUIPopulated:l,isDvrsPending:n,hasDVRs:!(!s||!s.length),hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1,hasLiveTVSetupFeature:a,isV4DVRSetupEnabled:r,dvrsError:o}})}),jH)(class extends OH{componentDidMount(){Object(wa.a)(()=>{this.props.dispatchInitDVRSettingsUI({serverEntityID:this.props.serverEntityID})})}componentWillUnmount(){this.props.dispatchClearDVRSettingsUI()}render(){var e=this.props,t=Je()(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]);return this.props.isUIPopulated?PH(DH,t):null}}),wH=a("vQY0"),EH=a.n(wH),NH=Ed.a.createElement;var xH=function(e){return NH(ph,tp()({className:EH.a.innerEmptyPage,contentClassName:EH.a.innerEmptyPageContent,scrollDirection:Jp},e))},AH=a("FAj2"),LH=a.n(AH),kH=Ed.a.createElement;var RH=function(e){return kH(xH,tp()({iconClassName:LH.a.icon,iconComponent:mh},e))},zH=a("dDQa"),UH=a.n(zH),VH=Ed.a.createElement,{Component:BH}=Ed.a;class FH extends BH{constructor(e,t){super(e,t),this.onCancel=()=>{Object(ie.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:kd.j})),this.props.onCancel()},this.onAccordChange=e=>{this.setState({isAccordGiven:e.target.checked})},this.state={isAccordGiven:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{containerClassName:e,isCancelButtonDisabled:t,isConfirmButtonSpinning:a,isOpen:i,metricsPage:r,metricsProperties:n,kind:s,title:o,message:l,accordMessage:c,confirmLabel:d,cancelLabel:u,hideCancelButton:p,onConfirm:h}=this.props,m=!!c,v=a||m&&!this.state.isAccordGiven;return Uu()(xT,{containerClassName:e,size:jp,isOpen:i,metricsPage:r,metricsProperties:n,onModalClose:this.onCancel},void 0,Uu()(UL,{onModalClose:this.onCancel},void 0,Uu()(jL,{},void 0,o),Uu()(fL,{className:UH.a.confirmBody},void 0,l,m?Uu()("label",{className:UH.a.accordLabel},void 0,Uu()("input",{type:"checkbox",className:UH.a.accordInput,checked:this.state.isAccordGiven,onChange:this.onAccordChange}),c):null),Uu()(CL,{},void 0,Uu()(uU,{},void 0,p?null:Uu()(rT,{className:UH.a.cancelButton,kind:Cp,isDisabled:t,onPress:this.onCancel},void 0,u||Object(Ze.default)("Cancel")),VH(EL,tp()({},n,{action:kd.o}),Uu()(bU,{className:UH.a.confirmButton,"data-autofocus":!0,kind:s,isDisabled:v,isSpinning:a,onPress:h},void 0,d||Object(Ze.default)("OK")))))))}}FH.defaultProps={isConfirmButtonSpinning:!1,kind:Dp};var HH=FH,_H=a("9YI8"),QH=a.n(_H);function WH(e){var{className:t,machineIdentifier:a,shouldRender:i,showButton:r}=e;return i?Uu()("div",{className:t},void 0,Uu()("div",{className:QH.a.messageContainer},void 0,Uu()(GM,{className:QH.a.icon}),Uu()("div",{className:QH.a.message},void 0,Object(Ze.default)("Guide data for this DVR will no longer be updated after January 1, 2021. Please delete and recreate a new DVR and reschedule your recordings to ensure continued coverage."))),r?Uu()(rT,{className:QH.a.button,kind:Op,to:si(a,"manage","dvr")},void 0,Object(Ze.default)("Get Started")):null):null}WH.defaultProps={className:QH.a.container,showButton:!0};var GH=WH;var YH=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,zT(Tt.g),(e,t,a)=>{var i=jt.k(t.identifier,jt.c),r=e.version&&Qa(e.version,Ka.gracenoteAttribution);return{machineIdentifier:e.machineIdentifier,shouldRender:i&&r&&a&&"Plex"===t.epgSource&&e.isFullOwnedServer}})}))(GH);function KH(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}KH.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var qH=KH;function ZH(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ZH.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var XH=ZH,JH=a("VfUD"),$H=a.n(JH),e_=Ed.a.createElement;var t_=function(e){var{children:t}=e,a=Je()(e,["children"]);return(e_(UL,a,Uu()(fL,{className:$H.a.modalScroller,innerClassName:$H.a.innerModalBody},void 0,t)))},a_=a("bb11"),i_=a.n(a_),r_=Ed.a.createElement;function n_(e){var{iconClassName:t,messageClassName:a,kind:i,message:r}=e,n=Je()(e,["iconClassName","messageClassName","kind","message"]);return(r_(t_,n,Uu()(mh,{className:(i_.a[i]||"")+" "+(t||"")}),Uu()("div",{className:a},void 0,r)))}n_.defaultProps={iconClassName:i_.a.icon,messageClassName:i_.a.message,kind:Cp};var s_=n_,o_=a("Tp3C"),l_=a.n(o_);var c_=function(e){var{channelMappings:t,lineupChannels:a,lineupChannelOptions:i,showSignalStrength:r,channelScanActivity:n,scanPrefs:s,scanNetworks:o,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}=e,u=t.some(e=>e.isDeviceChannelHD||e.isLineupChannelHD);return n?Uu()("div",{className:l_.a.progressContainer},void 0,Uu()(pV,{size:90,progress:n.progress})):s.length?Uu()(rh,{className:l_.a.scroller,autoScroll:!0},void 0,Uu()(yB,{prefs:s})):o.length?Uu()(EV,{networks:o}):t.length?Uu()(rh,{className:l_.a.scroller,autoScroll:!0},void 0,Uu()(tH,{showSignalStrength:r,allChannelMappingsEnabled:l,allChannelMappingsDisabled:c,onAllChannelMappingsEnabledChange:d}),t.map(e=>{var{key:t,deviceIdentifier:r,name:n,enabled:s,channelKey:o,lineupIdentifier:l,drm:c,signalStrength:d,signalQuality:p,isDeviceChannelHD:h,isLineupChannelHD:m,isChannelMissing:v}=e;return(Uu()(JF,{name:t,initialValue:{enabled:s,channelKey:o,lineupIdentifier:l},deviceIdentifier:r,channelName:n,drm:c,signalStrength:p||d,isChannelMissing:v,showResolution:u,isDeviceChannelHD:h,isLineupChannelHD:m,lineupChannels:a,lineupChannelOptions:i},t))})):null},d_=a("ugHo"),u_=a.n(d_),{Component:p_}=Ed.a,h_=Uu()(Xh,{});class m_ extends p_{constructor(...e){super(...e),this.onScanDeviceChannelsButtonPress=()=>{var{scanPrefs:e,scanNetworks:t,channelScanActivity:a,onScanDeviceChannels:i,onCancelScanDeviceChannels:r}=this.props;e.length||t.length||(a?r():i(this.props.country))},this.onSubmit=e=>{var{scanPrefs:t,scanNetworks:a,onSubmit:i}=this.props;if(t.length||a.length){var r=this.props.scanPrefs.length?{prefs:e}:e;this.props.onScanDeviceChannels(this.props.country,r)}else i(e)}}render(){var e,{channelMappings:t,lineupChannels:a,lineupChannelOptions:i,isChannelMappingsPending:r,isLineupChannelsPending:n,isDeviceChannelsPending:s,channelMappingsError:o,lineupChannelsError:l,deviceChannelsError:c,isChannelMappingsSaving:d,channelMappingsSaveError:u,formState:p,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,isCancellingChannelScan:v,scanPrefs:g,scanNetworks:y,channelScanActivity:f,onAllChannelMappingsEnabledChange:b,onFormStateChange:I,onModalClose:S}=this.props,M=f&&!v,C=o||l||c,D=!M&&(r||n||s),P=f?parseInt(f.Response.channels,10):0;e=1===P?Object(Ze.default)("Scanning channels. 1 channel found."):P>1?Object(Ze.default)("Scanning channels. {channelCount} channels found.",{channelCount:P}):Object(Ze.default)("Scanning channels. No channels found.");var O=!(!g.length&&!y.length),j=t.some(e=>null!=e.signalQuality||null!=e.signalStrengh),T=j?Object(Ze.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):Object(Ze.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return C?Uu()(s_,{message:Object(Ze.default)("Unable to load channel mappings"),onModalClose:S}):Uu()(AC,{className:u_.a.form,formState:p,onChange:I,onSubmit:this.onSubmit},void 0,Uu()(UL,{onModalClose:S},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Manage Channels")),D?Uu()(fL,{},void 0,Uu()("div",{className:u_.a.centeredContainer},void 0,h_)):null,!D&&u?Uu()("div",{},void 0,Uu()(MU,{errorMessage:KT(u,Object(Ze.default)("There was a problem saving your changes. Please try again."))})):null,D?null:Uu()(fL,{className:f?void 0:u_.a.manageChannelsBody,scrollDirection:f?"vertical":Jp},void 0,Uu()("div",{className:u_.a.scanChannelsContainer},void 0,Uu()("div",{className:u_.a.scanChannelsMessage},void 0,f?e:T),Uu()("div",{},void 0,Uu()(bU,{type:O?"submit":"button",size:Tp,isSpinning:v,isDisabled:v,onPress:this.onScanDeviceChannelsButtonPress},void 0,M?Object(Ze.default)("Stop scanning"):Object(Ze.default)("Scan channels")))),Uu()(c_,{channelMappings:t,lineupChannels:a,lineupChannelOptions:i,showSignalStrength:j,channelScanActivity:f,scanPrefs:g,scanNetworks:y,allChannelMappingsEnabled:h,allChannelMappingsDisabled:m,onAllChannelMappingsEnabledChange:b})),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:S},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",kind:Dp,size:Tp,isDisabled:D||!!f,isSpinning:d},void 0,Object(Ze.default)("Save"))))))}}m_.defaultProps={scanPrefs:[],scanNetworks:[]};var v_=rH(m_),g_=Ed.a.createElement,{Component:y_}=Ed.a;var f_=Object(Fu.b)((function(){return Object(_u.a)(LF(),kF(),RF(),eU(),Qz,UF,BF,(e,t,a,i,r,n,s)=>{var{country:o,lineup:l}=e,{isChannelMappingsPending:c,isLineupChannelsPending:d,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:h,channelMappingsSaveError:m,scanPrefs:v,scanNetworks:g}=r;return{country:o,lineupUUID:e.lineup,lineupTitle:l,channelMappings:a,lineupChannels:n,lineupChannelOptions:s,isChannelMappingsPending:c,isLineupChannelsPending:d,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:p,isChannelMappingsSaving:h,channelMappingsSaveError:m,deviceChannelsError:t.channelsError,scanPrefs:v,scanNetworks:g,channelScanActivity:i}})}),(function(e,t){var{serverEntityID:a,dvrID:i,deviceID:r}=t;return{dispatchSelectDevice(){e(gz({serverEntityID:a,dvrID:i,deviceID:r}))},dispatchFetchLineupChannels(t){e(Lz({serverEntityID:a,lineupUUID:t}))},dispatchFetchDeviceChannels(){e(yz({serverEntityID:a,dvrID:i,deviceID:r}))},dispatchFetchChannelMap(){e(kz({serverEntityID:a}))},dispatchCancelScanDeviceChannels(){e(bz({serverEntityID:a,deviceID:r}))},dispatchClearDeviceScanPrefs(){e(xz({serverEntityID:a}))},onScanDeviceChannels(t,n={}){e(fz(Object.assign({serverEntityID:a,dvrID:i,deviceID:r,country:t},n)))},onSubmit(t){Object(wa.a)(()=>{e(Cz({serverEntityID:a,dvrID:i,deviceID:r,data:t}))})},onDismissSaveError(){Object(wa.a)(()=>{e(Dz())})}}}))(class extends y_{constructor(e,t){super(e,t),this.onCancelScanDeviceChannels=()=>{this.setState({isCancellingChannelScan:!0}),this.props.dispatchCancelScanDeviceChannels(this.props.deviceID)},this.state={isCancellingChannelScan:!!e.channelScanActivity}}componentDidMount(){var{lineupUUID:e,dispatchClearDeviceScanPrefs:t,dispatchSelectDevice:a,dispatchFetchLineupChannels:i,dispatchFetchDeviceChannels:r}=this.props;Object(wa.a)(()=>{t(),a(),i(e),r()})}componentWillReceiveProps(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})}componentDidUpdate(e,t){e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(wa.a)(()=>{this.props.dispatchFetchDeviceChannels()})}componentWillUnmount(){var{serverEntityID:e,dvrID:t,deviceID:a,channelScanActivity:i}=this.props;i&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:e,dvrID:t,deviceID:a})}render(){var e=this.props,t=Je()(e,["dispatchSelectDevice","dispatchFetchLineupChannels","dispatchFetchDeviceChannels","dispatchFetchChannelMap","dispatchCancelScanDeviceChannels","dispatchClearDeviceScanPrefs"]);return(g_(v_,tp()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t)))}});var b_=function(e){var{serverEntityID:t,dvrID:a,deviceID:i,metricsProperties:r,isOpen:n,onModalClose:s}=e;return(Uu()(xT,{metricsPage:Rd.J,metricsProperties:r,isOpen:n,preventCloseOnBackdropPress:!0,onModalClose:s},void 0,Uu()(f_,{serverEntityID:t,dvrID:a,deviceID:i,onModalClose:s})))},I_=Ed.a.createElement,{Component:S_}=Ed.a;var M_=Object(Fu.b)((function(){return Object(_u.a)(LF(),kF(),(e,t)=>({dvrID:e.key,deviceID:t.key}))}),{clearDVRSetup:lz})(class extends S_{constructor(...e){super(...e),this.onModalClose=()=>{this.props.clearDVRSetup({serverEntityID:this.props.serverEntityID}),this.props.onModalClose()}}render(){return I_(b_,tp()({},this.props,{onModalClose:this.onModalClose}))}}),C_=a("Ryf4"),D_=a.n(C_),P_=Ed.a.createElement,{Component:O_}=Ed.a;var j_=class extends O_{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){var{serverEntityID:e,model:t,uri:a,thumb:i,prefs:r,isSaving:n,saveError:s,onSubmit:o,onModalClose:l}=this.props;return(Uu()(AC,{className:D_.a.form,onSubmit:o},void 0,Uu()(UL,{onModalClose:l},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Device Settings")),s?Uu()(MU,{errorMessage:KT(s,Object(Ze.default)("There was a problem saving your changes. Please try again."))}):null,Uu()(fL,{},void 0,Uu()("div",{className:D_.a.container},void 0,Uu()(QU,{className:D_.a.deviceImage,serverEntityID:e,model:t,thumb:i,width:150,height:150}),Uu()("div",{className:D_.a.info},void 0,Uu()("div",{className:D_.a.model},void 0,t),Uu()("div",{},void 0,a),Uu()("div",{className:D_.a.settings},void 0,r.map(e=>{var{id:t}=e;return(P_(vB,tp()({key:t},e)))}))))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:l},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",isSpinning:n,kind:Dp,size:Tp},void 0,Object(Ze.default)("Save")))))))}},T_=Ed.a.createElement,{Component:w_}=Ed.a;var E_=Object(Fu.b)((function(){return Object(_u.a)((e,{dvrID:t})=>t,kF(),(e,t)=>{var{key:a,model:i,uri:r,prefs:n,thumb:s,isSaving:o,saveError:l}=t;return{dvrID:e,deviceID:a,model:i,uri:r,prefs:n,thumb:s,isSaving:o,saveError:l}})}),{saveDeviceSettings:Ez,clearDeviceSettingsSaveError:Nz})(class extends w_{constructor(...e){super(...e),this.onSubmit=e=>{var{serverEntityID:t,dvrID:a,deviceID:i}=this.props;Object(wa.a)(()=>{this.props.saveDeviceSettings({serverEntityID:t,dvrID:a,deviceID:i,prefs:e})})},this.onModalClose=()=>{var{dvrID:e,deviceID:t}=this.props;this.props.clearDeviceSettingsSaveError({dvrID:e,deviceID:t}),this.props.onModalClose()}}render(){return T_(j_,tp()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}),N_=Ed.a.createElement;var x_=function(e){var{isOpen:t,metricsProperties:a,onModalClose:i}=e,r=Je()(e,["isOpen","metricsProperties","onModalClose"]);return(Uu()(xT,{isOpen:t,metricsPage:Rd.H,metricsProperties:a,onModalClose:i},void 0,N_(E_,tp()({onModalClose:i},r))))},A_=a("K/Mj"),L_=a.n(A_),{Component:k_,Fragment:R_}=Ed.a,z_={context:_t.SETTINGS},U_=Uu()(BU,{}),V_=Uu()(mh,{});var B_=class extends k_{constructor(e,t){super(e,t),this.onManageChannelsPress=()=>{this.setState({isManageChannelsModalOpen:!0})},this.onManageChannelsModalClose=()=>{this.setState({isManageChannelsModalOpen:!1})},this.onDeviceSettingsPress=()=>{this.setState({isDeviceSettingsModalOpen:!0})},this.onDeviceSettingsModalClose=()=>{this.setState({isDeviceSettingsModalOpen:!1})},this.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1}}render(){var e,{serverEntityID:t,dvrID:a,deviceID:i,model:r,uri:n,thumb:s,tunerCount:o,channelCount:l,unsupported:c,activeTunerCount:d,channelMappings:u,hasPrefs:p,status:h,canRemoveDevice:m,onRemoveDevicePress:v}=this.props,g=h===yk,y=u.filter(e=>e.enabled).length;return e=l?1===l?Object(Ze.default)("1 channel"):Object(Ze.default)("{channelCount} channels",{channelCount:l}):Object(Ze.default)("No channels"),Uu()("div",{className:L_.a.device},void 0,Uu()(QU,{serverEntityID:t,model:r,thumb:s,width:100,height:100}),Uu()("div",{className:L_.a.details},void 0,Uu()("div",{className:L_.a.modelContainer},void 0,Uu()("div",{className:L_.a.model},void 0,r),n?Uu()(R_,{},void 0,Uu()($y,{className:L_.a.separator}),Uu()(WU,{className:L_.a.uri,uri:n})):null,c?U_:null),g?Uu()("div",{className:L_.a.deviceWarning},void 0,Uu()("div",{className:L_.a.deviceWarningIconContainer},void 0,V_),Object(Ze.default)("Device not found. Ensure your device is powered on and connected to your network.")):Uu()("div",{className:L_.a.info},void 0,Uu()("div",{},void 0,1===o?Object(Ze.default)("1 tuner"):Object(Ze.default)("{tunerCount} tuners",{tunerCount:o}),d?Uu()(R_,{},void 0,Uu()($y,{className:L_.a.separator}),Object(Ze.default)("{activeTunerCount} in use now",{activeTunerCount:d})):null),Uu()("div",{},void 0,e,Uu()($y,{className:L_.a.separator}),Uu()(Vp,{kind:Dp,onPress:this.onManageChannelsPress},void 0,Object(Ze.default)("{enabledChannelsCount} enabled",{enabledChannelsCount:y}))),p?Uu()(Vp,{className:L_.a.deviceSettingsButton,kind:Dp,onPress:this.onDeviceSettingsPress},void 0,Uu()(XH,{className:L_.a.deviceSettingsIcon,"aria-label":Object(Ze.default)("Device Settings")}),Object(Ze.default)("Device Settings")):null)),m?Uu()("div",{className:L_.a.removeDeviceContainer},void 0,Uu()(Vp,{className:L_.a.removeDevice,onPress:v},void 0,Uu()(DI,{"aria-label":Object(Ze.default)("Remove Device")}))):null,Uu()(M_,{serverEntityID:t,dvrID:a,deviceID:i,metricsProperties:z_,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),Uu()(x_,{serverEntityID:t,dvrID:a,deviceID:i,metricsProperties:z_,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))}},F_=Ed.a.createElement,{Component:H_}=Ed.a;var __={fetchDeviceChannels:yz,removeDVRDevice:jz};var Q_=Object(Fu.b)((function(){return Object(_u.a)(kF(),$z(),(e,t)=>{var a=t.reduce((t,a)=>{var i=a.Context&&a.Context.transcode_session;return"grabber.grab"!==a.type||parseInt(a.Context.deviceID,10)!==e.key||i&&t.some(e=>e.Context.transcode_session===i)||t.push(a),t},[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:a.length}})}),__)(class extends H_{constructor(...e){super(...e),this.onRemoveDevicePress=()=>{var{serverEntityID:e,dvrID:t,deviceID:a}=this.props;this.props.removeDVRDevice({serverEntityID:e,dvrID:t,deviceID:a})}}componentWillMount(){var{serverEntityID:e,dvrID:t,deviceID:a}=this.props;Object(wa.a)(()=>{this.props.fetchDeviceChannels({serverEntityID:e,dvrID:t,deviceID:a})})}render(){return F_(B_,tp()({onRemoveDevicePress:this.onRemoveDevicePress},this.props))}}),W_=a("r8pT"),G_=a.n(W_),Y_=Ed.a.createElement,{Component:K_}=Ed.a;var q_=class extends K_{componentDidUpdate(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()}render(){var{prefs:e,isSaving:t,saveError:a,onSubmit:i,onModalClose:r}=this.props;return(Uu()(AC,{className:G_.a.form,onSubmit:i},void 0,Uu()(UL,{onModalClose:r},void 0,Uu()(jL,{},void 0,Object(Ze.default)("DVR Settings")),a?Uu()(MU,{errorMessage:KT(a,Object(Ze.default)("There was a problem saving your changes. Please try again."))}):null,Uu()(fL,{},void 0,e.map(e=>{var{id:t}=e;return(Y_(vB,tp()({key:t},e)))})),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:r},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",isSpinning:t,kind:Dp,size:Tp},void 0,Object(Ze.default)("Save")))))))}},Z_=Ed.a.createElement,{Component:X_}=Ed.a;var J_=Object(Fu.b)((function(){return Object(_u.a)(LF(),e=>{var{prefs:t,isSaving:a,saveError:i}=e;return{prefs:t.filter(e=>!e.hidden),isSaving:a,saveError:i}})}),{saveDVRSettings:Tz,clearDVRSettingsSaveError:wz})(class extends X_{constructor(...e){super(...e),this.onSubmit=e=>{var{serverEntityID:t,dvrID:a}=this.props;Object(wa.a)(()=>{this.props.saveDVRSettings({serverEntityID:t,dvrID:a,prefs:e})})},this.onModalClose=()=>{this.props.clearDVRSettingsSaveError({dvrID:this.props.dvrID}),this.props.onModalClose()}}render(){return Z_(q_,tp()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))}}),$_=Ed.a.createElement;var eQ=function(e){var{isOpen:t,metricsProperties:a,onModalClose:i}=e,r=Je()(e,["isOpen","metricsProperties","onModalClose"]);return(Uu()(xT,{isOpen:t,metricsPage:Rd.M,metricsProperties:a,onModalClose:i},void 0,$_(J_,tp()({onModalClose:i},r))))},tQ=a("QlLa"),aQ=a.n(tQ),{Component:iQ}=Ed.a,rQ={context:_t.SETTINGS};var nQ=class extends iQ{constructor(e,t){super(e,t),this.onRemoveDVRPress=()=>{this.setState({isRemoveDVRModalOpen:!0})},this.onRemoveDVRConfirm=()=>{this.setState({isRemoveDVRModalOpen:!1}),this.props.onRemoveDVR()},this.onRemoveDVRCancel=()=>{this.setState({isRemoveDVRModalOpen:!1})},this.onDVRSettingsPress=()=>{this.setState({isDVRSettingsModalOpen:!0})},this.onDVRSettingsModalClose=()=>{this.setState({isDVRSettingsModalOpen:!1})},this.onAddDevicePress=()=>{this.setState({isAddDeviceModalOpen:!0})},this.onModalClose=()=>{this.setState({isAddDeviceModalOpen:!1})},this.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,dvrID:a,machineIdentifier:i,providerIdentifier:r,lineupTitle:n,devices:s,epgDownloadActivity:o,hasPrefs:l,hasDVRFeature:c,hasLiveTVSetupFeature:d,hasFreeLiveTVDVRSettings:u,isV4DVRSetupEnabled:p,onReloadGuidePress:h,onCancelReloadGuidePress:m}=this.props,{isRemoveDVRModalOpen:v,isDVRSettingsModalOpen:g}=this.state,y=(c||d&&u)&&l;return Uu()("div",{className:aQ.a.dvr},void 0,t?Uu()(YH,{className:aQ.a.banner,serverEntityID:e,providerEntityID:t,showButton:!1}):null,Uu()("div",{className:aQ.a.header},void 0,Uu()("div",{className:aQ.a.name},void 0,Object(Ze.default)("DVR"),Uu()($y,{className:aQ.a.separator}),n),Uu()(Vp,{className:aQ.a.deleteLink,kind:Dp,onPress:this.onRemoveDVRPress},void 0,Object(Ze.default)("Delete DVR"))),Uu()("div",{className:aQ.a.actions},void 0,Uu()("div",{},void 0,o?Uu()(Vp,{kind:Cp,title:Object(Ze.default)("Cancel refresh"),onPress:m},void 0,Uu()(DI,{className:aQ.a.actionIcon}),o.title," (",o.progress,"%)",Uu()($y,{className:aQ.a.separator}),o.subtitle):Uu()(Vp,{kind:Dp,onPress:h},void 0,Uu()(qH,{className:aQ.a.actionIcon}),Object(Ze.default)("Refresh Guide"))),y?Uu()("div",{},void 0,Uu()(Vp,{kind:Dp,onPress:this.onDVRSettingsPress},void 0,Uu()(XH,{className:aQ.a.actionIcon,"aria-label":Object(Ze.default)("DVR Settings")}),Object(Ze.default)("DVR Settings"))):null),Uu()("div",{className:aQ.a.devices},void 0,s.map(t=>Uu()(Q_,{serverEntityID:e,dvrID:a,deviceID:t.key,canRemoveDevice:s.length>1,model:t.model,uri:t.uri,unsupported:t.unsupported,channelMappings:t.channelMappings,tunerCount:t.tuners,status:t.status,thumb:t.thumb},t.key))),Uu()(Vp,{kind:Dp,onPress:this.onAddDevicePress},void 0,Uu()(sA,{className:aQ.a.addDeviceIcon}),Object(Ze.default)("Add Device")),Uu()(HH,{isOpen:v,metricsPage:Rd.y,title:Object(Ze.default)("Delete DVR"),message:Object(Ze.default)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:Object(Ze.default)("Delete"),kind:Pp,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),Uu()(eQ,{isOpen:g,serverEntityID:e,dvrID:a,metricsProperties:rQ,onModalClose:this.onDVRSettingsModalClose}),p?Uu()(oz,{machineIdentifier:i,providerIdentifier:r,dvrID:a,metricsContext:rQ.context,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}):Uu()(IH,{serverEntityID:e,dvrID:a,metricsProperties:rQ,isOpen:this.state.isAddDeviceModalOpen,onModalClose:this.onModalClose}))}};var sQ=Object(_u.c)({machineIdentifier:Object(_u.a)(GS,e=>e.machineIdentifier),providerIdentifier:Object(_u.a)(RS(),pv,(e,t)=>{var a=e.providers.find(e=>rn(t[e]));return null==a?void 0:a.identifier}),providerEntityID:Object(_u.a)(RS(),pv,(e,t)=>{var a=e.providers.map(e=>t[e]).find(rn);return null==a?void 0:a.entityID}),epgDownloadActivity:rF(),hasPrefs:Object(_u.a)(LF(),e=>!!e.prefs),hasFreeLiveTVDVRSettings:Object(_u.a)(GS,e=>Qa(e.version,Ka.freeLiveTVDVRSettings)),isV4DVRSetupEnabled:ck});var oQ=Object(Fu.b)(sQ,(function(e,t){var{serverEntityID:a,dvrID:i}=t;return{onRemoveDVR(){e(Zk({serverEntityID:a,dvrID:i}))},onReloadGuidePress(){e(Xk({serverEntityID:a,dvrID:i}))},onCancelReloadGuidePress(){e(Jk({serverEntityID:a,dvrID:i}))}}}))(nQ);var lQ=function(e){var{serverEntityID:t,isDvrsPending:a,dvrsError:i,dvrs:r,hasDVRFeature:n,hasLiveTVSetupFeature:s}=e;return i?Uu()(RH,{title:Object(Ze.default)("Unable to load DVRs")}):a?Uu()(Xh,{label:Object(Ze.default)("Loading DVRs")}):Uu()("div",{},void 0,r.map(e=>Uu()(oQ,{dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices,hasDVRFeature:n,hasLiveTVSetupFeature:s},e.key)))};var cQ=Object(Fu.b)((function(e){var{isDvrsPending:t,dvrsError:a,dvrs:i}=e.ui.dvrSettingsUI;return{isDvrsPending:t,dvrsError:a,dvrs:i}}))(lQ),dQ=a("9gax"),uQ=a.n(dQ);var pQ=function(e){var{serverEntityID:t}=e;return(Uu()(TH,{className:uQ.a.container,serverEntityID:t},void 0,({noDVRs:e,hasDVRFeature:a,hasLiveTVSetupFeature:i,dvrsError:r,onOpen:n})=>Uu()("div",{},void 0,e&&!r?Uu()(mT,{iconComponent:ok,title:Object(Ze.default)("Introducing Live TV & DVR"),text:Object(Ze.default)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:Uu()(oT,{message:Object(Ze.default)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:Vp,kind:Dp,to:"https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:Vp,kind:Dp,to:Qp,target:"_blank"}]})},void 0,a||i?Uu()(rT,{kind:Dp,size:wp,onPress:n},void 0,Object(Ze.default)("Set Up Plex DVR")):Uu()(nk,{serverEntityID:t,origin:"dvr-setup",modalMetricsProperties:{context:"dvrSetup"}})):null,a||i?Uu()(cQ,{serverEntityID:t,hasDVRFeature:a,hasLiveTVSetupFeature:i}):null)))},hQ=xe.a.extend({name:"DeprecatedPluginModel",context:["server","channel"],idAttribute:"key",url(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:e=>"/:/plugins/"+e+"/root",syncedAttrs:{key:Ae.a.string,identifier:Ae.a.string,type:Ae.a.string,name:Ae.a.string,title1:Ae.a.string,title2:Ae.a.string,message:Ae.a.string,summary:Ae.a.string,thumb:Ae.a.string,art:Ae.a.string,prefsKey:Ae.a.string,searchKey:Ae.a.string,installed:Ae.a.boolean,noCache:Ae.a.boolean,allowSync:Ae.a.boolean,hasPrefs:Ae.a.boolean,hasStoreServices:Ae.a.boolean,share:Ae.a.boolean,lastAccessedAt:Ae.a.integer},syncedRelations:{metadataList:{relationClass:Qi.default,attrs(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e,{includeDirectories:!0}):e,augmentResponse(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){var t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);for(var a=Se.a.parseArray(e.Metadata),i=a.length-1;i>=0;i--){var r=a[i];if(r.settings||r.search)e[r.settings?"prefsKey":"searchKey"]=r.key,a.splice(i,1)}return e.Metadata=a,e.metadataList=e,e}}),mQ=ke.a.extend({name:"DeprecatedPluginCollection",context:["server","channel"],model:hQ,url(){return this.containerKey},comparator:e=>e.get("title").toLowerCase(),filterByType(e){var t=this.filter(t=>t.get("type")===e);return this.clone(t)}}),vQ=xe.a.extend({mixins:[nt.a],name:"DeprecatedPluginListModel",context:["server"],idAttribute:"key",collectionName:"channels",url(){var e=this.get("key"),t=e||_.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(t)},sessionAttrs:{key:Ae.a.string,subset:Ae.a.oneOf("all","recentlyViewed"),currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer,viewGroup:Ae.a.string,title1:Ae.a.string,title2:Ae.a.string},syncedRelations:{channels:{relationClass:mQ,rootPropertyName:"Directory",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({subset:"all",populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}}),gQ=Object(Pa.a)("CHANGE_BACKGROUND"),yQ=Object(Pa.a)("CHANGE_THEME_MUSIC"),fQ=Object(Pa.a)("RESET_BACKGROUND"),bQ=a("/k80"),IQ=a.n(bQ),SQ=a("uUkn"),MQ=a.n(SQ),CQ=ni.extend({name:"DeprecatedPluginSettingsModal",className:"channel-settings-modal modal fade",template:MQ.a,ui:{submitBtn:".submit-btn"},events:D.a.extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},ni.prototype.events),initialize:function(){ni.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){var e=this.model.get("title")||this.model.get("name");return{escapedTitle:D.a.escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){var t=e.currentTarget,a=t.value;"checkbox"===t.type&&(a=t.checked),this.changes[t.name]=a},onSubmit:function(e){if(e.preventDefault(),D.a.isEmpty(this.changes))this.hide();else{var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var a=this.collection.first(),i=a.getSaveParams(this.changes),r=D.a.result(this.collection,"url"),n=_.join([r,"/set"],i),s=T.a.ajax(a.server.getXHROptions(n));s.done(()=>{this.hide()}),s.fail(()=>{H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})}),s.always(()=>{t.removeClass("active")})}}}}),DQ=a("s1Aa"),PQ=a.n(DQ),OQ=B.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:PQ.a,ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Fm({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:e=>"video"===e?Object(Ze.default)("Video"):"music"===e?Object(Ze.default)("Music"):"photos"===e?Object(Ze.default)("Photo"):Object(Ze.default)("Utility")}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),!this.$el.hasClass("active")){this.$el.addClass("active");var t=new nm.a([],{server:this.model.server,url:this.model.id+"/:/prefs"}),a=t.fetch();a.done(()=>{H.a.trigger("show:modal",new CQ({model:this.model,collection:t}))}),a.always(()=>{this.$el.removeClass("active")})}},onUninstallClick:function(e){if(e.preventDefault(),!this.$el.hasClass("active")){this.$el.addClass("active");var t=Ge.execute("uninstallChannel",{channel:this.model});t.done(()=>{this.model.trigger("destroy",this.model,this.model.collection)}),t.always(()=>{this.$el.removeClass("active")})}}}),jQ=ym.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:OQ}),TQ=B.Layout.extend({className:"container",template:IQ.a,ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function({deprecatedPlugins:e}){(0,Object(ie.c)("appStore").dispatch)(gQ({allowLightPreset:!1})),this.collection=e.get("channels"),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new jQ({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),T()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new jQ({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new jQ({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new jQ({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new jQ({collection:this.photoCollection}))}}),wQ=Ed.a.createElement,{Component:EQ}=Ed.a;var NQ=class extends EQ{componentDidMount(){var e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")}shouldComponentUpdate(){return!1}componentWillUnmount(){this._view.close&&this._view.close()}render(){return wQ("div",{className:this.props.className,ref:e=>this._el=e})}},{useState:xQ}=Ed.a,AQ=Uu()(ph,{},void 0,Uu()(Xh,{}));var LQ=function(e){var{serverEntityID:t}=e,a=xQ({deprecatedPlugins:null,isDeprecatedPluginsPending:!0,deprecatedPluginsError:!1}),i=a[1],r=a[0];return Ju(()=>{var e,a=null==(e=Object(ie.c)("appModel").get("entities").get("servers").get(t))?void 0:e.get("model"),r=new vQ({},{server:a});r.fetch().then(()=>{i({deprecatedPlugins:r,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!1})},()=>{i({deprecatedPlugins:null,isDeprecatedPluginsPending:!1,deprecatedPluginsError:!0})})}),r.isDeprecatedPluginsPending?AQ:r.deprecatedPluginsError?Uu()(fh,{title:Object(Ze.default)("Plugins are not available.")}):Uu()(NQ,{view:TQ,viewOptions:{deprecatedPlugins:r.deprecatedPlugins}})},kQ=Object(_u.a)(Wu,e=>e.libraries);function RQ(){return Object(_u.a)(kQ,Object(_u.a)(RS(),e=>e?e.desktop.libraries:void 0),(e,t)=>t?t.map(t=>e[t]):[])}function zQ(){return Object(_u.a)(RS(),e=>e&&e.desktop)}var UQ=a("yize");function VQ(e){var t="movie"===e.type&&e.agent===tn.d?"videos":e.type;return UQ.g.get(t).key}var BQ=a("ClE3");function FQ(e){return!!e&&"string"==typeof e&&Date.now()>=new Date(e).getTime()}var HQ=function(e,t,a,i){if(function(e,t){if(!e.get("isFullServer"))return!1;if(F.a.isHostedHttps&&!be.a.allowMixedContent)return!1;var a=t===fc.ALWAYS,i=t===fc.SAME_NETWORK;return!!(a||i&&e.get("publicAddressMatches"))}(e,i)){var r=e.addConnection({scheme:"http",address:t,port:a,isFallback:!0});Object(O.a)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),r.id)}else O.a.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))};function _Q(e,t){var a,{libraryID:i,libraryType:r,cancel:n,force:s,allowMetrics:o,metricsProperties:l={}}=t,c=s?{force:1}:void 0,d=Object(_.join)(["/library/sections",i,"refresh"],c),u=e.getXHROptions(d,{type:n?"DELETE":"GET"});o&&(a=n?kd.k:s?kd.B:kd.nb,Object(ie.c)("metrics").trackClick(Object.assign({},l,{action:a,type:"all"===i?"all":r})));return T.a.ajax(u).promise()}var QQ=a("Y0bH"),WQ=a.n(QQ),GQ=Qx.extend({className:"alert-bar notify",template:WQ.a,events:D.a.extend({"click .setup-link":"onSetupClick"},Qx.prototype.events),serializeData(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:si(this.options.machineIdentifier,"manage","dvr")}},disableDevice(){var e=Object(ie.c)("appStore"),t=this.options.serverEntityID;t&&e.dispatch(Az({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick(){this.hide(),this.disableDevice()},onCloseClick(e){Qx.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});function YQ(e,t,a,i){return Object(Kc.a)("source",e,t,a,i)}var KQ="dvr",qQ=Object(Kx.a)(["key"],[{key:"unknown",title:()=>Object(Ze.default)("Unknown"),types:{}},{key:"playlists",types:{type:Wt.m}},{key:"movies",types:{type:Wt.j}},{key:"tv",types:{type:Wt.o}},{key:"music",types:{type:Wt.b}},{key:"photos",types:{type:Wt.k}},{key:"videos",types:{type:Wt.j}},{key:"episode",types:{type:Wt.f}},{key:KQ,title:()=>Object(Ze.default)("Live TV & DVR")},{key:"shared",types:{type:Wt.i}},{key:"news",title:()=>Object(Ze.default)("News"),types:{type:Wt.d,subtype:OM.b}},{key:"podcasts",types:{type:Wt.o,subtype:OM.c}},{key:"webShows",types:{type:Wt.o,subtype:OM.d}},{key:"game",types:{type:Wt.h}}]),ZQ=(qQ.get,qQ.getAll);var XQ=function(e,t,a){var{key:i,types:r={}}=e,n=Array.isArray(t.protocols)?t.protocols.includes(Qt.a):t.protocols[Qt.a],s=i===KQ;if(n)return s;if(s)return!1;var o=a.agent===tn.d;if("videos"===i&&!o||"movies"===i&&o)return!1;var{type:l,subtype:c}=r;return a.type===l&&(null==c&&null==a.subtype||null!=c&&a.subtype===c)};function JQ(e,t){if(e&&t&&"hubs"!==t.id&&("categories"!==t.id||"news"!==t.subtype)&&("channels"!==t.id||"news"!==t.subtype)){for(var a=ZQ(),i=0,r=a.length;i<r;i++){var n=a[i];if(XQ(n,e,t))return n}return a.find(e=>"unknown"===e.key)}}var $Q=function(){var e=Object(ie.c)("appModel"),t=Object(sw.a)(e,Tt.A),a=e.get("deviceSettings").get("v4DirectoryEnabled"),i=e.get("user").get("experienceSettings").get("autoHomeHubsEnabled");return t&&a&&i},eW=a("NA2r"),tW=a("jKuV"),aW=a.n(tW),iW=B.ItemView.extend({template:aW.a,events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:D.a.escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=T()(e.currentTarget),a=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",a)}}),rW=xe.a.extend({name:"AgentAttributionModel",context:["server"],responseType:ct.b,syncedAttrs:{content:Ae.a.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});function nW(e){return hc[e]||""}var sW=xe.a.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:Ae.a.string,title:Ae.a.string,default:Ae.a.boolean},derivedAttrs:{name:function(){return this.get("title")||nW(this.get("code"))}}}),oW=ke.a.extend({name:"LanguageCollection",context:["server"],model:sW,comparator:"name"}),lW=xe.a.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:Ae.a.boolean,selected:Ae.a.boolean},sessionRelations:{attribution:{relationClass:rW}},syncedAttrs:{identifier:Ae.a.string,name:Ae.a.string,enabled:Ae.a.boolean,hasPrefs:Ae.a.boolean,order:Ae.a.string},syncedRelations:{languages:{relationClass:oW,rootPropertyName:"Language"}}}),cW=ke.a.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:lW,cache:new bo,cacheKey:function(){var e=D.a.result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!D.a.intersection(this.pluck("identifier"),e).length}}),dW=a("pnnh"),uW=a.n(dW),pW=uW.a.extend({constructor:function(e,t,a,i){this.exclusiveAgents=t,this.agentIdentifier=a,uW.a.call(this,e,i),this.filterBy(D.a.bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),a=this.exclusiveAgents;if(!a)return!0;var i=this.agentIdentifier,r=-1!==a.indexOf(i),n=-1!==a.indexOf(t);return r?t===i:!n}}),hW=uW.a.extend({constructor:function(e,t,a,i){this.exclusiveScanners=t,this.scannerName=a,uW.a.call(this,e,i),this.filterBy(D.a.bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),a=this.exclusiveScanners;if(!a)return!0;var i=this.scannerName,r=-1!==a.indexOf(i),n=-1!==a.indexOf(t);return r?t===i:!n}}),mW=xe.a.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:Ae.a.string}}),vW=ke.a.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:mW,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!D.a.intersection(this.pluck("name"),e).length}}),gW=B.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),D.a.each(e,(function(e){t.filter("."+e+"-group").addClass("has-error")})),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return D.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"})).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=UQ.g.get(e);return"movie"===e&&this.model.get("agent")===tn.d&&(t=UQ.g.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new cW([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then((function(e){return e}))):T.a.Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new vW([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then((function(e){return e}))):T.a.Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new pW(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,T.a.Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new hW(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,T.a.Deferred().resolve(t).promise()},populateSectionSettings:function(){if(!this.model.server.supports("sectionSettings"))return T.a.Deferred().resolve().promise();if(!this.model.settings){var e=new nm.a([],{server:this.model.server}),t={agent:this.model.get("agent")};if(this.model.isNew()){var a=this.getSectionType();t.type=a.typeID,e.url=_.join(["/library/sections/prefs"],t)}else e.url=_.join(["/library/sections/",this.model.id,"/prefs"],t);this.model.settings=e}return this.model.settings.populate().then(()=>(!(!this.model.isNew()||"music"!==this.model.get("type")||!this.model.server.supports("premiumMusic")||this.model.settings.findWhere({id:"importFromiTunes"})||!this.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&this.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:Object(Ze.default)("Import from iTunes"),summary:Object(Ze.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),this.model.settings))},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new nm.a([],{server:this.model.server,url:_.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}}),yW=a("cAHu"),fW=a.n(yW),bW=B.ItemView.extend({template:fW.a,events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=T()(e.currentTarget),a=t.attr("name");if("importFromiTunes"!==a){var i=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:a}).set("value",i)}else this.model.set(a,!0)}}),IW=a("8YbF"),SW=a.n(IW),MW=gW.extend({template:SW.a,ui:D.a.extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},gW.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(gW.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=e.get("scanner")===eW.a,a=[];return e.get("agent")||t||a.push("agent"),e.get("scanner")||a.push("scanner"),a},renderSectionSettings:function(){var e=new bW({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new iW({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),a=this.populateSectionSettings(),i=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(D.a.bind(this.onAgentsPopulate,this)),t.then(D.a.bind(this.onScannersPopulate,this)),a.then(D.a.bind(this.renderSectionSettings,this)),i.then(D.a.bind(this.renderSectionAgentSettings,this)),T.a.when(e,t,a,i).then(D.a.bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("identifier")}})),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map((function(e){return{label:e.get("name"),value:e.get("name")}})),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},onEditSectionAgentChange:function(e){var t=T()(e.currentTarget).val(),a=this.model.get("scanner");this.model.set("agent",t),this.agentSettingsRegion.close();var i=this.model.agents.get(t);if(i){var r=i.get("languages"),n=this.model.get("language"),s=this.getSectionType();if(!r.get(n)){var o=r.findWhere({default:!0});o||2!==n.search("-")||(o=r.get(n.substr(0,2))),o||(o=r.get(s.defaultLanguage)||r.first()),this.model.set("language",o.get("code"))}if(this.model.agentSettings=null,this.populateSectionAgentSettings().then(D.a.bind(this.renderSectionAgentSettings,this)),this.model.settings=null,this.populateSectionSettings().then(D.a.bind(this.renderSectionSettings,this)),t===s.mutual.agent)this.model.set("scanner",s.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===s.mutual.scanner){var l=this.model.scanners.find(e=>e.get("name")!==a);this.model.set("scanner",l.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionScannerChange:function(e){var t=T()(e.currentTarget).val(),a=this.model.get("agent"),i=this.getSectionType();if(this.model.set("scanner",t),t===i.mutual.scanner)this.model.set("agent",i.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===i.mutual.agent){var r=this.model.agents.find(e=>e.get("identifier")!==a);this.model.set("agent",r.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),Ge.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered((function(){this.ui.thumbnailsCheckbox.prop("checked",!1)})))}}),CW=a("vCrX"),DW=a.n(CW),PW=gW.extend({template:DW.a}),OW=a("cyda"),jW=a.n(OW),TW=B.ItemView.extend({template:jW.a,className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),wW=B.CollectionView.extend({itemView:TW}),EW=a("dvMK"),NW=a("SfGf"),xW=a.n(NW),AW=B.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:xW.a,serializeData:function(){return{filePath:this.model.toJSON()}}}),LW=a("JFSz"),kW=a.n(LW),RW=B.CompositeView.extend({template:kW.a,itemView:AW,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:e=>e?Object(Ze.default)("and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}}),zW=a("bq2q"),UW=a.n(zW),VW=B.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:UW.a,ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),BW=B.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:VW,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=T()(e.currentTarget).data("key"),a=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",a),this.options.isRoot||(a.parent.parent?(this.parentFilePath=a.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}}),FW=a("ryK+"),HW=a.n(FW),_W=ni.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:HW.a,events:D.a.extend({"submit form":"onSubmitForm"},ni.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.rootPathList=new EW.default({},{server:e.server,includeFiles:1}),this.childrenPathList=new EW.default({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered((function(){var e=this.rootPathList.get("paths").where({home:!0}),t=D.a.first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)})))},loadChildrenPaths:function(e){Z.a.abortAll("addFolderModal");var t=e.get("children"),a=t.fetch({scope:"addFolderModal"});a.done(this.whenRendered((function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))}))),a.fail(this.whenRendered((function(){this.childrenList.currentView.unselectItem(e),H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("Unable to load contents of '{1}'",e.get("path"))})}))),a.always(this.whenRendered((function(){this.rootList.currentView.stopLoadingItem(e)})))},onRender:function(){ni.prototype.onRender.apply(this,arguments);var e=new BW({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new BW({collection:this.childrenPathList.get("paths")}),a=new RW({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(a)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}}),QW=a("uh19"),WW=a.n(QW),GW=gW.extend({template:WW.a,fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Object.assign({},gW.prototype.ui,{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange"},onlyAfterRender:["renderSectionLocation"].concat(gW.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},validate:function(e){var t=[];return e.get("locations").length||t.push("locations"),t},renderSectionLocation:function(){var e=new wW({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new _W({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),H.a.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=T()(e.currentTarget),a=t.prop("defaultValue"),i=t.val();i?(this.model.get("locations").findWhere({path:a}).set("path",i),t.prop("defaultValue",i)):t.val(a)}}),YW=a("CHYD"),KW=a.n(YW),qW=gW.extend({template:KW.a,ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=ie.c("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var a=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");a.length||(a=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),a.prop("checked",!0)},onChooseLibraryClick:function(e){var t=T()(e.currentTarget),a=t.data("agent"),i=t.data("scanner");!a&&!i||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:a||this.getSectionType().defaultAgent,scanner:i||this.getSectionType().defaultScanner})):H.a.trigger("show:modal",new Yo({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});function ZW(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",id:"plex-icon-games-24px"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M15 7.5V2H9v5.5l3 3 3-3zM7.5 9H2v6h5.5l3-3-3-3zM9 16.5V22h6v-5.5l-3-3-3 3zM16.5 9l-3 3 3 3H22V9h-5.5z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ZW.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var XW=ZW;var JW=function(e){switch(e){case UQ.b:return uM;case UQ.c:return hM;case UQ.d:return vM;case UQ.e:return yM;case UQ.f:return cM;case UQ.a:return XW}},$W=a("PKZm"),eG=a.n($W),tG=gW.extend({template:eG.a,ui:D.a.extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},gW.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(gW.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=gW.prototype.serializeData.apply(this,arguments),t=ie.c("appModel"),a=t.get("user"),i=a.get("features").get(Tt.t),r=this.model.server.get("games");e.sectionTypes=UQ.g.getAll().reduce((e,t)=>t.key!==UQ.a||r&&i?e.concat(Object.assign({},t,{typeIcon:Vd(JW(t.key),{className:"wizard-block-icon"})})):e,[]);var n=this.getSectionType();n&&(e.currentSectionKey=n.key);var s=this.model.get("updatedAt");return s&&(e.updatedAt=Nj(s)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.escapedUpdatedAt=D.a.escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),e.get("isCollectionsPopulated")||t.push("collectionsNotPopulated"),t},populateCollections:function(){this.model.set("isCollectionsPopulated",!1);var e=this.populateAgents(),t=this.populateScanners(),a=this.getSectionType(),i=T.a.when(a,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(i=i.then(D.a.bind(this.model.setAgentAndScanner,this.model))),i=i.then(e).then(D.a.bind(this.onAgentsPopulate,this)).then(D.a.bind((function(){this.showValidationResult(this.validate(this.model))}),this)).then(()=>{this.model.set("isCollectionsPopulated",!0)})},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var a=t.get("languages");if(!a.get(e)){var i,r=a.findWhere({default:!0});if(r&&(i=r.get("code")),!i){var n=this.model.get("type");i=UQ.g.get(n).defaultLanguage}this.model.set("language",i,{silent:!0}),e=i}var s=a.map((function(e){return{label:e.get("name"),value:e.id}}));this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(s,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=T()(e.currentTarget);if(t.hasClass("selectable")){var a=t.data("key"),i={type:a},r=UQ.g.get(a);this.model.get("title")||(i.title=r.title),this.model.set(i)}},onEditSectionTitleChange:function(e){var t=T()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=T()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var a=UQ.g.get(t);if(!this.model.get("language")){var i=a.defaultLanguage;this.model.set("language",i)}var r=this.model.get("title"),n=this.model.previous("type"),s=UQ.g.get(n),o=s&&s.title;r&&r!==o||this.model.set("title",a.title),this.setSectionType(a),this.model.agents=null,this.model.scanners=null,this.model.settings=null,this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}}),aG=a("5QzM"),iG=a.n(aG),rG=ni.extend({mixins:[Wd],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:iG.a,panes:{type:{constructor:tG,nextPane:"folders",dependentPanes(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:GW,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:qW,nextPane:"advanced"},advanced:{constructor:MW},error:{constructor:PW}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:D.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},ni.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new St.a({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=T.a.Deferred(),this.promise=this._deferred.promise();var t=this.server.get("providers");t.populate().done(this.whenRendered(()=>{var a=t.get(jt.d).get("features").get(Ot.h).get("automaticLibraryFolders");this.showFolders=!a,this.isLoading=!1,this.render(),this.showPane(e.selectedPane||"type")}))},serializeData:function(){var e=this.tempModel,t=e.isNew(),a=e&&Object(Ze.default)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:a,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],a=D.a.bind((function(a){var i,r=t.nextPane,n=this.tempModel.isNew(),s=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,o=!this.getReachablePanes().isAnyInvalid,l=this.tempModel.get("isCollectionsPopulated");this.ui.optionsBtn.toggleClass("hidden",!a.showOptions);var c=l&&(o||n&&s);i=r,a.showOptions||"options"!==r||(i=!1),o&&(i=!1),a.showOptions&&"options"===r&&(i=!0),a.showAdvanced&&"advanced"===r&&(i=!0),e.toggleClass("save",!i),e.toggleClass("next",!!i),e.toggleClass("disabled",!c)}),this),i=this.tempModel.server,r=this.tempModel.sectionType,n=r&&"music"===r.key&&i.supports("premiumMusic"),s=this.tempModel.isNew();n?this.paneRegion.currentView.populateAgents().then((function(e){var t=e.findWhere({identifier:tn.g}),i=s&&t;a({showOptions:i,showAdvanced:i})})):a({})},updateSectionTitle:function(){var e=UQ.g.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=D.a.escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always((function(){e.removeClass("active")})),t.fail(D.a.bind((function(e){503===e.status?H.a.trigger("show:modal",new ci({model:this.server})):this.updateMessage(Object(Ze.default)("Your changes could not be saved."))}),this)),t.then(D.a.bind((function(){var e=this.model.server.entityID(),t=Object(ie.c)("appStore").dispatch;if(t(Fa({serverEntityID:e})),t(Ha({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var a,i={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},r={identifier:jt.d,isLibraryProvider:!0},n={id:this.model.id},s=this.model.get("type"),o={};$Q()?(o.pivot=Qa(this.model.server.get("version"),Ka.pivotIDs)?"library":Gt(this.model.id,s),s===Wt.b&&(o.key=_.join(["/library/sections",this.model.id,"all"],{type:Object(Wt.u)(Wt.a).id,sort:"addedAt:desc"})),a=Jt(i,r,n,o)):(o.key=Gt(this.model.id,s),s===Wt.b&&(o.typeKey="/library/sections/"+this.model.id+"/all?type="+Object(Wt.u)(Wt.a).id,o.sort="addedAt:desc"),a=Jt(i,r,n,o)),window.location.hash=a,this._deferred.resolve(),this.hide()}),this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),a=this.server.supports("saveInlineSectionSettings"),i=t&&a?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,i)).then(D.a.bind((function(e,a,i){var r=Be.a.parseXML(e);if(201===i.status){if(r.Directory&&(r=r.Directory),!r.key){var n=i.getResponseHeader("Location");n&&(r.key=n.substring(n.lastIndexOf("/")+1))}var s=this.server;s.supports("advancedFilters")&&(r.filters=!0),this.model=new St.a(r,{parse:!0,server:s}),s.get("sections").add(this.model);var o=null==t?void 0:t.hidden,l="string"==typeof o?parseInt(o,10):null;if(1!==l&&2!==l){var c=s.get("providers").get(jt.d),d=c?JQ(c.toJSON(),this.model.toJSON()):null,u=d?d.key:null;c&&u&&Object(ie.c)("appStore").dispatch(XA({sources:[{key:YQ(u,s.get("machineIdentifier"),c.get("identifier"),r.key),sourceType:u,serverEntityID:s.entityID(),machineIdentifier:s.get("machineIdentifier"),providerEntityID:c.entityID(),providerIdentifier:c.get("identifier"),providerMetricsIdentifier:c.get("metricsIdentifier"),directoryID:r.key,directoryIcon:null,title:this.model.get("title"),serverFriendlyName:s.get("friendlyName"),serverSourceTitle:s.get("sourceTitle"),isLocal:s.get("isPrivateConnection"),isUnavailable:!1,isOutOfDate:!1,isUnclaimedServer:!s.get("isClaimed"),isFullOwnedServer:s.get("isFullOwnedServer"),isProviderReady:!0}],interaction:!1}))}return i}}),this)):(this.model.copy(this.tempModel),e=this.model.save(null,i)),t&&!a&&(e=e.then(D.a.bind(this.saveSettings,this,t))),e=e.then(D.a.bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=T.a.Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var a=_.join(["/library/sections/",this.model.id,"/prefs"],e),i=D.a.extend(this.server.getXHROptions(a),{type:"PUT"});return T.a.ajax(i).promise().then((function(){return t}))},saveAgentSettings:function(){var e=T.a.Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var a=this.getSettingsChanges(t);if(D.a.isEmpty(a))return e;var i=t.first(),r=i.getSaveParams(a),n=D.a.result(t,"url"),s=_.join([n,"/set"],r),o=i.server.getXHROptions(s);return T.a.ajax(o).promise().then((function(){return e}))},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!D.a.isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter((function(e){return e.changedAttributes()})).reduce((function(e,t){var a=t.get("value");return"bool"===t.get("type")&&(a=a?"1":"0"),e[t.get("id")]=a,e}),{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var a=this.panes[this.selectedPane].nextPane;"folders"!==a||this.showFolders||(a=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),a&&!this.ui.sidebar.find("."+a+"-btn").isDisabled()&&this.showPane(a)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}}),nG=a("HVP4"),sG=a.n(nG),oG=mi.extend({template:sG.a,events:D.a.extend({"click .learn-more":"onLearnMoreClick"},mi.prototype.events),onRender:function(){mi.prototype.onRender.apply(this,arguments),Object(ie.c)("metrics").trackView({page:"relayNotification",mode:"modal",action:kd.t},{interaction:!1})},onHide(e){mi.prototype.onHide.apply(this,arguments),Object(ie.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:kd.t})},onLearnMoreClick(){Object(ie.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:kd.D})},serializeData(){return{serverName:this.options.serverName,escapedServerName:D.a.escape(this.options.serverName)}}}),lG=Object(Pa.a)("server/fetchSettings"),cG=Object(Pa.a)("server/populateSettings"),dG=Object(Pa.a)("server/updateSetting"),uG=Object(Pa.a)("server/saveSetting"),pG=Object(Pa.a)("server/addLibrary"),hG=Object(Pa.a)("server/startLibrariesRefresh"),mG=Object(Pa.a)("server/allowHttpFallback"),vG=Object(Pa.a)("server/optimizeDatabase"),gG=Object(Pa.a)("server/cleanbundles"),yG=Object(Pa.a)("server/emptyTrash"),fG=Object(Pa.a)("server/deleteServer"),bG=Object(Pa.a)("server/discoverMediaGrabberDevice"),IG=Object(Pa.a)("server/populateHasiTunes"),SG=Object(Pa.a)("server/startLibrariesRefresh",e=>Object.assign({},e,{cancel:!0}));function MG(e,t){Object(ie.c)("metrics").trackClick({page:t,action:e,context:_t.SERVER})}function CG(e,t){var a=Object(Ta.m)(e,t),i=Object(Ta.l)(e,t).get("settings").get(t.setting.id);if(i){var r=i.parse(t.setting);i.set("value",r.value),"FriendlyName"===r.id&&r.value?a.set("friendlyName",r.value):"allowMediaDeletion"===r.id&&a.set("allowMediaDeletion",r.value)}}var DG=Object.assign({},_a,{"server/fetchSettings":Object(Oa.a)({key:"settings",getModel:Ta.l}),"server/populateSettings":Object(ja.a)({key:"settings",fetchActionCreator:lG,getModel:Ta.l}),"server/updateSetting"(e,t){CG(e,t)},"server/saveSetting"(e,t){var a=Object(Ta.l)(e,t).get("settings").get(t.setting.id);Object(wa.a)(()=>a.set({isSaving:!0})),CG(e,t),a.save().then(()=>a.set({isSaving:!1}),()=>a.set({isSaving:!1}))},"server/confirmRelayConnection"(e,{machineIdentifier:t,serverName:a},i){var r=e.get("user").get("experienceSettings").get("reminders"),n=Jc("relay",t),s=r.get(n);if(!s||FQ(s.get("remindAfter"))){var o=new oG({serverName:a});H.a.trigger("show:modal",o),i(sL({id:n}))}},"server/addHttpFallbackConnection"(e,t){var a=Object(Ta.m)(e,t),i=e.get("user").get("experienceSettings").get("allowHttpFallback");HQ(a,t.address,t.port,i)},"server/addLibrary"(e,t){var a=Object(Ta.m)(e,t),{options:i={}}=t,r=new rG(Object.assign({server:a,redirect:!1!==t.redirect},i));H.a.trigger("show:modal",r),MG(kd.a,t.metricsPage)},"server/startLibrariesRefresh"(e,t,a){var{cancel:i,force:r,metricsPage:n}=t,s=Object(Ta.m)(e,t),o={serverModel:s,libraryID:"all",cancel:i,force:r,allowMetrics:!!n,metricsProperties:{page:n}};t.cancel&&Object(Ta.l)(e,t).get("libraries").each(e=>e.set("refreshing",!1));_Q(s,o).fail(()=>{var e=t.cancel?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating libraries.");a(Object(ji.d)(e))}).always(()=>{a(Ha({serverEntityID:t.serverEntityID}))})},"server/allowHttpFallback"(e,t,a){a(Object(Qu.f)({allowHttpFallback:t.allowHttpFallback})),a(Na({serverEntityID:t.serverEntityID}))},"server/optimizeDatabase"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.l)(e,t),n=i.supports("optimizeDatabaseActivity"),s=_.join("/library/optimize",n?{async:1}:{}),o=i.getXHROptions(s,{type:"PUT"});a(za({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"})),r.set({optimizeDatabaseError:null}),T.a.ajax(o).done(()=>{n||a(Ua({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"}))}).fail(()=>{r.set({optimizeDatabaseError:Object(Ze.default)("There was a problem optimizing the database.")}),a(Ua({serverEntityID:t.serverEntityID,activityType:"general.db.optimize"})),t.hideAlerts||a(Object(ji.d)(Object(Ze.default)("There was a problem optimizing the database.")))}),MG(kd.J,t.metricsPage)},"server/cleanbundles"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.l)(e,t),n=i.supports("cleanBundlesActivity"),s=_.join("/library/clean/bundles",n?{async:1}:{}),o=i.getXHROptions(s,{type:"PUT"});a(za({serverEntityID:t.serverEntityID,activityType:is})),r.set({cleanBundlesError:null}),T.a.ajax(o).done(()=>{n||a(Ua({serverEntityID:t.serverEntityID,activityType:is}))}).fail(()=>{r.set({cleanBundlesError:Object(Ze.default)("There was a problem removing unused bundles.")}),a(Ua({serverEntityID:t.serverEntityID,activityType:is})),t.hideAlerts||a(Object(ji.d)(Object(Ze.default)("There was a problem removing unused bundles.")))}),MG(kd.m,t.metricsPage)},"server/emptyTrash"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.l)(e,t).get("libraries");(t.libraryID?T.a.Deferred().resolve([t.libraryID]).promise():r.populate().then(()=>r.map(({id:e})=>e))).then(e=>{var t=e.map(e=>T.a.ajax(i.getXHROptions("/library/sections/"+e+"/emptyTrash",{type:"PUT"})));return T.a.when(...t)}).then(()=>{a(Object(ji.d)({type:BQ.b,message:Object(Ze.default)("The trash was emptied.")}))},e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),MG(kd.y,t.metricsPage)},"server/deleteServer"(e,t,a){var i=Object(Ta.m)(e,t),r=e.get("cloudServer");if(i){if(r.get("isResolved")){var n=r.getXHROptions("/api/servers/"+i.id,{type:"DELETE"});T.a.ajax(n)}var s=r.get("resources").get(i.id);if(s&&s.trigger("destroy",s,s.collection),i.get("isFullOwnedServer")&&i.get("isConnected"))i.get("desktop").get("cloudAccount").destroy().done(()=>{i.set({myPlexSigninState:"none",myPlexSubscription:!1})}).always(()=>{a(Na({serverEntityID:t.serverEntityID})),i.populate().fail((function(){i.trigger("destroy",i,i.collection),a(pu({route:"dashboard"}))}))});else i.trigger("destroy",i,i.collection),a(pu({route:"dashboard"}));MG(kd.r,t.metricsPage)}},"server/discoverMediaGrabberDevice"(e,t){var a=Object(Ta.m)(e,t),i=e.get("ui").get("dvrSettingsUI"),r=t.device;if(!i.get("isUIPopulated")){var n=new GQ({model:new bk(r,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:a.get("machineIdentifier")});H.a.trigger("show:bar","alertbar",n)}},"server/populateHasiTunes"(e,t){var a=Object(Ta.m)(e,t),i=Object(Ta.l)(e,t);if(!i.get("isHasiTunesPopulated")){var r=_.join("/music/iTunes"),n=a.getXHROptions(r);T.a.ajax(n).done(()=>{i.set({hasiTunes:!0,isHasiTunesPopulated:!0})}).fail(()=>{i.set({hasiTunes:!1,isHasiTunesPopulated:!0})})}}});function PG(){return Object(_u.a)(RQ(),e=>e.some(e=>e.refreshing))}function OG(){return Object(_u.a)((e,{libraryEntityID:t})=>t,kQ,(e,t)=>t[e])}function jG(e){return Object(_u.a)($z(),t=>D.a.find(t,{type:e}))}function TG(){return jG("general.db.optimize")}function wG(){return jG(is)}function EG(){return jG("library.delete")}var NG=Ed.a.createElement;function xG(...e){var t=Object(Fu.b)(...e);return e=>{var a=t(e);function i(e,{metricsPage:t,metricsContext:i}){var{metricsContext:r}=e,n=Je()(e,["metricsContext"]);return(NG(a,tp()({metricsPage:t,metricsContext:r||i},n)))}return i.displayName="ConnectWithMetrics("+gf(e)+")",i.contextTypes={metricsPage:Oc.a.string,metricsContext:Oc.a.string},i}}var AG=Object(Pa.a)("library/startLibraryRefresh"),LG=Object(Pa.a)("library/editLibrary"),kG=Object(Pa.a)("library/analyzeLibrary"),RG=Object(Pa.a)("library/emptyTrashLibrary"),zG=Object(Pa.a)("library/deleteLibrary"),UG=Object(Pa.a)("library/startLibraryRefresh",e=>Object.assign({},e,{force:!0})),VG=Object(Pa.a)("library/startLibraryRefresh",e=>Object.assign({},e,{cancel:!0}));function BG(e,t,a){Object(ie.c)("metrics").trackClick({page:a,action:e,type:t.get("type"),context:_t.LIBRARY})}var FG={"library/startLibraryRefresh"(e,t,a){var{cancel:i,force:r,metricsPage:n}=t,s=Object(Ta.m)(e,t),o=Object(Ta.c)(e,t),l={libraryID:o.id,libraryType:o.get("type"),cancel:i,force:r,allowMetrics:!!n,metricsProperties:{page:n}};o.set("refreshing",!i),_Q(s,l).fail(e=>{if(503===e.status)H.a.trigger("show:modal",new ci({model:s}));else{var i=t.cancel?Object(Ze.default)("There was a problem canceling the update."):Object(Ze.default)("There was a problem updating the library.");a(Object(ji.d)(i))}}).always(e=>{a(Ha({serverEntityID:t.serverEntityID}))})},"library/editLibrary"(e,t){var a=Object(Ta.m)(e,t),i=Object(Ta.c)(e,t);H.a.trigger("show:modal",new rG({server:a,model:i})),BG(kd.x,i,t.metricsPage)},"library/analyzeLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.c)(e,t),n=i.getXHROptions("/library/sections/"+r.id+"/analyze",{type:"PUT"});T.a.ajax(n).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem analyzing the library.")))}),BG(kd.i,r,t.metricsPage)},"library/emptyTrashLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.c)(e,t),n=i.getXHROptions("/library/sections/"+r.id+"/emptyTrash",{type:"PUT"});T.a.ajax(n).done(()=>{a(Object(ji.d)({type:BQ.b,message:Object(Ze.default)("The trash was emptied.")}))}).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),BG(kd.y,r,t.metricsPage)},"library/deleteLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.c)(e,t);if(r.isNew())r.destroy();else{var n=i.supports("libraryDeleteActivity"),s=_.join(r.url(),n?{async:1}:{}),o=i.getXHROptions(s,{type:"DELETE"});a(za({serverEntityID:t.serverEntityID,activityType:"library.delete"})),T.a.ajax(o).done(()=>{n||a(Ua({serverEntityID:t.serverEntityID,activityType:"library.delete"}))}).fail(()=>{a(Ua({serverEntityID:t.serverEntityID,activityType:"library.delete"})),a(Object(ji.d)(Object(Ze.default)("There was a problem deleting the library.")))}),BG(kd.q,r,t.metricsPage)}}};function HG(){return Object(_u.a)(kS(),e=>{var t=Kt(e);return t?t.directories:[]})}function _G(e,t){if(e&&t)for(var a=0,i=e.length;a<i;a++){var r=e[a],{id:n}=r;if(n===t)return r}}var QG=a("2sa7"),WG=a.n(QG),GG=Ed.a.createElement;function YG(e){var{className:t,iconComponent:a,iconClassName:i,activeClassName:r,disabledClassName:n,isDisabled:s,isActive:o,label:l,labelClassName:c,title:d,ariaLabel:u,children:p}=e,h=Je()(e,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),m=u||d;return GG(Vp,tp()({className:(t||"")+" "+(s&&n||"")+" "+(o&&r||""),isDisabled:s,"aria-label":m,title:d},h),Uu()(a,{className:i}),l?Uu()("span",{className:c},void 0,l):null,p)}YG.defaultProps={className:WG.a.button,activeClassName:WG.a.isActive,disabledClassName:WG.a.isDisabled,labelClassName:WG.a.label,isDisabled:!1};var KG=YG,qG=Object(_u.a)(Wu,e=>e.metadataItems);function ZG(){return Object(_u.a)((e,{metadataItemEntityID:t})=>t,qG,(e,t)=>t[e])}var XG=xe.a.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,type:Ae.a.string,title:Ae.a.string}}),JG=ke.a.extend({name:"SectionOverviewCollection",context:["server"],model:XG}),$G=xe.a.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:Ae.a.string,name:Ae.a.string,address:Ae.a.string,port:Ae.a.string,version:Ae.a.string,createdAt:Ae.a.integer,updatedAt:Ae.a.integer},syncedRelations:{sections:{relationClass:JG,rootPropertyName:"Section"}}}),eY=ke.a.extend({name:"ServerOverviewCollection",context:["server"],model:$G}),tY="warning",aY="user",iY="libraries",rY="restrictions",nY="summary",sY=xe.a.extend({name:"ShareModalModel",context:["server"],sessionAttrs:{steps:Ae.a.array,step:Ae.a.string,metadataItemEntityID:Ae.a.string,friendEntityID:Ae.a.string,username:Ae.a.string,restrictionProfileIdentifier:Ae.a.string,isNewFriend:Ae.a.boolean,isAddingHomeUser:Ae.a.boolean,isCreatingManagedUser:Ae.a.boolean,selectedAllLibrariesMachineIdentifiers:Ae.a.array,selectedLibrarySectionIDs:Ae.a.array,filterOptionsTags:Ae.a.object,isUsernameValidating:Ae.a.boolean,isUsernameValidated:Ae.a.boolean,isServerOverviewsPopulating:Ae.a.boolean,isServerOverviewsPopulated:Ae.a.boolean,isServerSharesPopulating:Ae.a.boolean,isServerSharesPopulated:Ae.a.boolean,serverSharesError:Ae.a.string,isFilterOptionsTagsPopulating:Ae.a.boolean,isFilterOptionsTagsPopulated:Ae.a.boolean,isSharingPending:Ae.a.boolean,isSharingCompleted:Ae.a.boolean,sharingError:Ae.a.string,inviteToken:Ae.a.string,inviteTokenError:Ae.a.string},sessionRelations:{serverOverviews:{relationClass:eY,deferred:!0}},defaults:()=>({steps:[],step:null,metadataItemEntityID:null,friendEntityID:null,username:"",restrictionProfileIdentifier:"little_kid",isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,inviteToken:null,inviteTokenError:null})});function oY(e){var t=Object(ie.c)("appModel"),a=t.get("user"),i=new eY(e.map(e=>({machineIdentifier:Object(Ta.m)(t,{serverEntityID:e}).get("machineIdentifier")})),{server:a.server});return Ce(i.map(e=>e.fetch())).then(()=>{var e=i.filter(e=>!e.isPopulated());return i.remove(e),i})}function lY(e,t){var a=e.get("serverShares");return a?Ce(a.map(e=>e.fetch({merge:!0,scope:t}))):T.a.Deferred().resolve().promise()}function cY(e){var{user:t,friend:a,serverShare:i,librarySectionIDs:r,isNewFriend:n,isCreatingManagedUser:s,isNewServerShare:o}=e,l={machineIdentifier:i.get("machineIdentifier"),librarySectionIds:r};n&&(l.settings=a.getSaveParams()),o&&(n&&!s?l.invitedEmail=a.get("username"):l.invitedId=a.id);var c=i.url(),d=t.server.getXHROptions(c,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(l)});return T.a.ajax(d).promise()}var dY=xe.a.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:ht.b,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},urlRoot(){return this.get("restricted")?"/api/v2/home/users":"/api/home/users"},saveUrl(){var e=D.a.result(this,"url");return this.get("restricted")&&(e=_.join([e,"/restricted"])),e},pinUrl(){var e=this.get("restricted")?"/api/v2/home/users/restricted":"/api/home/users";return _.join([e,this.get("id")])},sessionAttrs:{isRemoving:Ae.a.boolean},syncedAttrs:Object.assign({id:Ae.a.integer,uuid:Ae.a.string,admin:Ae.a.boolean,protected:Ae.a.boolean,restricted:Ae.a.boolean,restrictionProfile:Ae.a.string,guest:Ae.a.boolean,title:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string},lo),defaults:{isRemoving:!1},getSaveParams(e){var t=xe.a.prototype.getSaveParams.apply(this,arguments);return e&&0!==Object.keys(e).length||(this.get("restrictionProfile")&&(t.restrictionProfile=this.get("restrictionProfile")),t.sharingSettings={},Object.keys(lo).forEach(e=>{t.hasOwnProperty(e)&&(t.sharingSettings[e]=t[e],delete t[e])}),this.get("restricted")?t.friendlyName=this.get("username"):this.isNew()&&(t.invitedEmail=this.get("username"))),t}});function uY(e,t){var a=e.title.toUpperCase(),i=t.title.toUpperCase();return a<i?-1:a>i?1:0}function pY(e,t){var a=Array.isArray(e)?e:[e],i=T.a.Deferred(),r={[ao]:[],[ro]:[]},n={[Wt.j]:{[ao]:[],[ro]:[]},[Wt.o]:{[ao]:[],[ro]:[]},[Wt.b]:{[ao]:[],[ro]:[]}},s=a.reduce((e,t)=>(t.get("isConnected")&&e.push(t.get("sections")),e),[]),o=s.map(e=>e.populate({scope:t}));return Ce(o).done(()=>{s.forEach(e=>{e.forEach(e=>{var t=e.get("type");n[t]&&[ao,ro].forEach(t=>{var a=new QE.a({filter:t},{server:e.server,section:e}).get("options");r[t].push(a)})})}),Ce([...r[ao].map(e=>e.fetch({scope:t})),...r[ro].map(e=>e.fetch({scope:t}))]).done(()=>{r[ao].forEach(e=>{var t=e.section.get("type");e.toJSON().forEach(e=>{n[t][ao].find(t=>t.value===e.value)||n[t][ao].push(e)})}),r[ro].forEach(e=>{var t=e.section.get("type");e.toJSON().forEach(e=>{n[t][ro].find(t=>t.value===e.value)||n[t][ro].push(e)})}),Object.keys(n).forEach(e=>{var t=n[e];t[ao].sort(uY),t[ro].sort(uY)}),i.resolve(n)})}),i.promise()}function hY(e,t,a,i){var r={};return e&&e.length&&(r[ao]=e.join(",")),t&&t.length&&(r[io]=t.join(",")),a&&a.length&&(r[ro]=a.join(",")),i&&i.length&&(r[no]=i.join(",")),r}function mY(e){var{allowSync:t,allowCameraUpload:a,allowTuners:i,moviesContentRatings:r,moviesExcludeContentRatings:n,moviesLabels:s,moviesExcludeLabels:o,televisionContentRatings:l,televisionExcludeContentRatings:c,televisionLabels:d,televisionExcludeLabels:u,musicLabels:p,musicExcludeLabels:h}=e,m={};return null!=t&&(m.allowSync=t),null!=a&&(m.allowCameraUpload=a),null!=i&&(m.allowTuners=Number(i)),null==r&&null==n&&null==s&&null==o||(m.filterMovies=hY(r,n,s,o)),null==l&&null==c&&null==d&&null==u||(m.filterTelevision=hY(l,c,d,u)),null==p&&null==h||(m.filterMusic=hY(null,null,p,h)),m}var vY="shareModal",gY=Object(Pa.a)("ui/shareModal/initShareModal"),yY=Object(Pa.a)("ui/shareModal/resetShareModal"),fY=Object(Pa.a)("ui/shareModal/sharePreviousStep"),bY=Object(Pa.a)("ui/shareModal/shareNextStep"),IY=Object(Pa.a)("ui/shareModal/validateUsername"),SY=Object(Pa.a)("ui/shareModal/setUsername"),MY=Object(Pa.a)("ui/shareModal/setUser"),CY=Object(Pa.a)("ui/shareModal/fetchServerOverviews"),DY=Object(Pa.a)("ui/shareModal/fetchServerShares"),PY=Object(Pa.a)("ui/shareModal/setLibraryShares"),OY=Object(Pa.a)("ui/shareModal/fetchFilterOptionsTags"),jY=Object(Pa.a)("ui/shareModal/saveItemShare"),TY=Object(Pa.a)("ui/shareModal/saveLibraryShares");function wY(e){return e.get("ui").get("shareModal")}function EY(e,t){var a=e.get("user"),i=e.get("servers"),{metadataItemEntityID:r,friendEntityID:n,isNewFriend:s=!0,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=[];o&&c.push(tY),c.push(aY);var d=!!r,u=i.some(e=>e.get("isFullOwnedServer")&&e.get("isClaimed")&&e.get("friendlyName"));!d&&u&&c.push(iY);var p=a.get("hasPlexPass"),h=function(e,t){var{friendEntityID:a,isNewFriend:i,isAddingHomeUser:r,isCreatingManagedUser:n}=t,s=Object(sw.a)(e,Tt.c),o=Object(sw.a)(e,Tt.y);return s||(o||!(!n&&!!(a||i||r)))}(e,{friendEntityID:n,isNewFriend:s,isAddingHomeUser:o,isCreatingManagedUser:l});return!d&&(s||o)&&(p||l||h)&&c.push(rY),s&&!l&&c.push(nY),c}function NY(e,t){return e.findIndex(e=>e===t)}function xY(e,t){return e[NY(e,t)-1]}function AY(e,t){return e[NY(e,t)+1]}function LY(e,t){var a=AY(e,t);return!(!a||a===nY)}var kY=uk({"ui/shareModal/initShareModal"(e,t){var a=wY(e),i=EY(e,t);a.set({steps:i,step:i[0]})},"ui/shareModal/resetShareModal"(e,t={}){var a=wY(e);Z.a.abortAll(vY),a.restoreDefaults(t)},"ui/shareModal/sharePreviousStep"(e,t,a){var i=wY(e),r=i.get("steps"),n=i.get("step"),s={steps:r,step:xY(r,n),username:i.get("username"),restrictionProfileIdentifier:i.get("restrictionProfileIdentifier"),isUsernameValidated:!i.get("isCreatingManagedUser")};n===rY&&(s.friendEntityID=i.get("friendEntityID"),s.isNewFriend=i.get("isNewFriend"),s.isAddingHomeUser=i.get("isAddingHomeUser"),s.isCreatingManagedUser=i.get("isCreatingManagedUser"),s.selectedAllLibrariesMachineIdentifiers=i.get("selectedAllLibrariesMachineIdentifiers"),s.selectedLibrarySectionIDs=i.get("selectedLibrarySectionIDs")),a(yY(s))},"ui/shareModal/shareNextStep"(e){var t=wY(e),a=AY(t.get("steps"),t.get("step"));a&&t.set({step:a})},"ui/shareModal/validateUsername"(e,t={}){var a=wY(e),i=e.get("cloudServer"),{username:r=""}=t;if(""!==r.trim()){Object(wa.a)(()=>{a.set({isUsernameValidating:!0,isUsernameValidated:!1})});var n=_.join("/api/users/validate",{invited_email:r}),s=i.getXHROptions(n,{type:"POST",scope:vY});T.a.ajax(s).done(()=>{a.set({isUsernameValidating:!1,isUsernameValidated:!0})}).fail(()=>{a.set({isUsernameValidating:!1})})}else a.set({isUsernameValidating:!1,isUsernameValidated:!1})},"ui/shareModal/setUsername"(e,t={},a){var i=wY(e),{metadataItemEntityID:r,username:n,restrictionProfileIdentifier:s,isAddingHomeUser:o,isCreatingManagedUser:l}=t,c=e.get("user").get("allFriends"),d=c.findWhere({username:n});d||(d=c.findWhere({email:n}));var u=!!d&&!l,p=u?d.entityID():null,h=EY(e,{metadataItemEntityID:r,friendEntityID:p,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l});i.set({steps:h,metadataItemEntityID:r,friendEntityID:p,username:u?d.get("title"):n,restrictionProfileIdentifier:s,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:l}),a(LY(h,aY)?bY():r?jY():TY())},"ui/shareModal/setUser"(e,t={},a){var i=wY(e),r=Object(Ta.a)(e,t),{metadataItemEntityID:n,isAddingHomeUser:s}=t,o=r.entityID(),l=EY(e,{metadataItemEntityID:n,friendEntityID:o,isNewFriend:!1,isAddingHomeUser:s,isCreatingManagedUser:!1});i.set({steps:l,metadataItemEntityID:n,friendEntityID:o,username:r.get("title"),isNewFriend:!1,isAddingHomeUser:s}),a(n?jY():bY())},"ui/shareModal/fetchServerOverviews"(e,t={}){var a=wY(e),{serverEntityIDs:i}=t;Object(wa.a)(()=>{a.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),oY(i).then(e=>{a.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/shareModal/fetchServerShares"(e,t={}){var a=wY(e),i=Object(Ta.a)(e,t);Z.a.abortAll(vY),i?(Object(wa.a)(()=>{a.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),lY(i,vY).done(()=>{a.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{a.set({isServerSharesPopulating:!1,serverSharesError:Object(Ze.default)("Failed to load shares.")})})):a.set("isServerSharesPopulated",!0)},"ui/shareModal/setLibraryShares"(e,t={},a){var i=wY(e);i.set(t),a(LY(i.get("steps"),iY)?bY():TY())},"ui/shareModal/fetchFilterOptionsTags"(e,t={}){var a=wY(e),{serverEntityIDs:i}=t,r=i.map(t=>Object(Ta.m)(e,{serverEntityID:t}));Z.a.abortAll(vY),Object(wa.a)(()=>{a.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),pY(r,vY).done(e=>{a.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})})},"ui/shareModal/saveItemShare"(e,t,a){var i=wY(e),r=i.get("metadataItemEntityID"),n=i.get("friendEntityID"),s=i.get("username"),o=i.get("isNewFriend"),l=e.get("cloudServer");Object(wa.a)(()=>{i.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null,inviteTokenError:null})});var c=Object(Ta.f)(e,{metadataItemEntityID:r}),d=Object(an.a)({serverIdentifier:c.server.get("machineIdentifier"),metadataItemKey:c.get("key")}),u=LP({type:c.get("type"),title:c.get("title"),parentTitle:c.get("parentTitle"),grandparentTitle:c.get("grandparentTitle"),index:c.get("index"),parentIndex:c.get("parentIndex"),originallyAvailableAt:c.get("originallyAvailableAt")},""),p={items:[{uri:d,type:c.get("type"),title:u}]};if(n){var h=Object(Ta.a)(e,{friendEntityID:n});p.invitedId=h.id}else p.invitedEmail=s;var m=l.getXHROptions("/api/v2/shared_items",{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(p),scope:vY});T.a.ajax(m).then(t=>{o?function(e,t){var a="/api/v2/shared_sources/"+t,i=e.get("cloudServer").getXHROptions(a,{type:"GET",dataType:"json",scope:vY});return T.a.ajax(i).then(e=>e.inviteToken,e=>{var t=e&&e.status?e.responseJSON.errors:null,a=t?t[0].message:Object(Ze.default)("Unknown error");return Object(Ze.default)("Failed to get invite link: {errorMessage}",{errorMessage:a})})}(e,t[0].sharedSourceId).done(e=>{i.set({inviteToken:e,isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{i.set({inviteTokenError:e,isSharingPending:!1,isSharingCompleted:!0})}).always(()=>{a(bY())}):i.set({isSharingPending:!1,isSharingCompleted:!0})},e=>{var t=e&&e.status?e.responseJSON.errors:null,a=t?t[0].message:null;i.set({isSharingPending:!1,sharingError:a||Object(Ze.default)("Failed to share item")})})},"ui/shareModal/saveLibraryShares"(e,t={},a){var{addToHome:i,restrictions:r={}}=t,n=wY(e),s=n.get("friendEntityID"),o=n.get("username"),l=n.get("restrictionProfileIdentifier"),c=n.get("isNewFriend"),d=n.get("isAddingHomeUser"),u=n.get("isCreatingManagedUser"),p=n.get("serverOverviews"),h=n.get("selectedAllLibrariesMachineIdentifiers")||[],m=n.get("selectedLibrarySectionIDs")||[],v=e.get("user");Object(wa.a)(()=>{n.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});var g=[],y=s?Object(Ta.a)(e,{friendEntityID:s}):new vo({username:o},{server:v.server}),f=Object(sw.a)(e,Tt.c),b=Object(sw.a)(e,Tt.y)||!(!u&&!!(s||c||d)),I=f||b?mY(r):{};c&&(f||b)&&y.set(I);var S,M=y.get("serverShares").where({owned:!0}),C=function(e=[]){return e.reduce((e,t)=>(t.get("sections").forEach(a=>{e[a.get("id")]=t.get("machineIdentifier")}),e),{})}(p),D=M.map(e=>e.get("machineIdentifier")),P=Array.from(new Set(m.map(e=>C[e]))),O=Array.from(new Set([...D,...P,...h])),j=d||i&&!y.get("home")||u;if(j){var w=Object.assign({},I,{username:o,restricted:u});l&&"unrestricted"!==l&&(w.restrictionProfile=l),S=new dY(w,{server:v.server}).save(),u&&(S=S.then(e=>{y.set("id",parseInt(Se.a.parseXML(e).id,10))}))}else{var E=0===O.length;S=c&&E?y.save(Object.assign({user:o},I)):T.a.Deferred().resolve().promise()}S.done(()=>{O.forEach(e=>{var t=p.get(e);if(t){var a=M.find(t=>t.get("machineIdentifier")===e),i=h.indexOf(e)>-1,r=!a,n=!i&&!P.find(t=>t===e),s=function(e,t){var a=e.get("sections");return t.filter(e=>a.get(e))}(t,m),o=i?[]:s;if(r){var l=new ho({machineIdentifier:e}),d=cY({user:v,friend:y,serverShare:l,librarySectionIDs:o,isNewFriend:c,isCreatingManagedUser:u,isNewServerShare:!0});g.push(d)}else if(n)g.push(a.destroy({wait:!0}));else{var f=cY({user:v,friend:y,serverShare:a,librarySectionIDs:o,isNewFriend:c,isCreatingManagedUser:u,isNewServerShare:!1});g.push(f)}}}),T.a.when(...g).done((...e)=>{var t={isSharingPending:!1,isSharingCompleted:!0};if(O.length>0&&c&&!u){var i=(g.length>1?e[e.length-1]:e)[0];t.inviteToken=i.inviteToken}n.set(t),u&&v.set("home",!0),a(bY())}).fail((...e)=>{var t;for(var a of e){var i=KT(a,null,"status");if(i){t=i;break}}t||(t=u?Object(Ze.default)("Failed to create home user."):c?Object(Ze.default)("Failed to send invite."):Object(Ze.default)("Failed to update server shares.")),n.set({isSharingPending:!1,sharingError:t})}).always(()=>{(a(fA()),a(UA()),j)&&(v.get("homeUsers").fetch(),a(bA()),a(HA()))})}).fail(e=>{var t=KT(e,null,"status")||Object(Ze.default)("Failed to create home user.");n.set({isSharingPending:!1,sharingError:t})})}});var RY=function(e){var t,{children:a,metadataItem:i,isAddingHomeUser:r,isCreatingManagedUser:n,isSharingSingleLibrary:s,errorMessage:o,onModalClose:l}=e;return t=i?Object(Ze.default)("Share {metadataTitle}",{metadataTitle:LP(i,"")}):r?Object(Ze.default)("Invite Home User"):n?Object(Ze.default)("Create Managed User"):s?Object(Ze.default)("Share Library"):Object(Ze.default)("Add A Friend"),Uu()(UL,{onModalClose:l},void 0,Uu()(jL,{},void 0,t),o?Uu()(MU,{errorMessage:o}):null,a)},zY=a("wIt8"),UY=a.n(zY),VY=Ed.a.createElement;var BY=function(e){var{onNext:t,onModalClose:a}=e,i=Je()(e,["onNext","onModalClose"]);return(Uu()(AC,{className:UY.a.form,onSubmit:t},void 0,VY(RY,tp()({onModalClose:a},i),Uu()(fL,{className:UY.a.modalBody,scrollDirection:Jp},void 0,Uu()(GM,{className:UY.a.warning}),Uu()("div",{},void 0,Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices."))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{onPress:a},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",kind:Dp},void 0,Object(Ze.default)("Continue")))))))},FY={onNext:bY},HY=Object(Fu.b)(null,FY)(BY),_Y=LS(Object(_u.a)(Ku,e=>e.reduce((e,t)=>(t.isFullOwnedServer&&t.isClaimed&&t.friendlyName&&e.push(t.entityID),e),[])),e=>e),QY=Object(_u.a)(Wu,e=>e.friends);function WY(){return Object(_u.a)(QY,(e,t)=>t.friendEntityID,(e,t)=>e[t])}var GY=a("BoH4"),YY=a.n(GY),KY=Ed.a.createElement;var qY=jV((function(e){return KY(RV,tp()({className:YY.a.input},e))})),ZY=a("ygGu"),XY=a.n(ZY),JY=Ed.a.createElement;function $Y(e){return JY(RV,e)}$Y.defaultProps={className:XY.a.input};var eK=jV($Y),tK=a("Z2Ww"),aK=a.n(tK),{Component:iK,Fragment:rK}=Ed.a,nK=parseInt(YU.a.serverShareListRowHeight,10);var sK=class extends iK{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed})},this.onAllLibrariesToggle=()=>{this.setState({isAllLibrariesChecked:!this.state.isAllLibrariesChecked})};var{sourceServer:a,serverOverview:i,serverShare:r,selectedAllLibrariesMachineIdentifiers:n}=e;this.state={isCollapsed:a.machineIdentifier!==pw.a&&a.machineIdentifier!==i.machineIdentifier,isAllLibrariesChecked:null!=n?n.includes(i.machineIdentifier):!(!r||!r.allLibraries)}}render(){var{sourceDirectory:e,sourceServer:t,serverOverview:a,serverShare:i,selectedLibrarySectionIDs:r}=this.props,{isAllLibrariesChecked:n,isCollapsed:s}=this.state,{machineIdentifier:o,name:l,sections:c}=a,d={maxHeight:s?0:(c.length||1)*nK},u=e&&e.id,p=l;return n&&(p+=" ("+Object(Ze.default)("All Libraries")+")"),Uu()(rK,{},void 0,Uu()("div",{className:aK.a.header},void 0,Uu()(Vp,{className:n?aK.a.toggleButtonHidden:aK.a.toggleButton,onPress:this.onTogglePress},void 0,Uu()(my,{direction:s?"right":dy})),Uu()(qY,{name:JSON.stringify({machineIdentifier:o}),checkboxText:p,initialValue:n,onChange:this.onAllLibrariesToggle})),Uu()("div",{className:aK.a.libraries,style:d},void 0,n||0!==c.length?null:Uu()("div",{className:aK.a.emptyMessage},void 0,Object(Ze.default)("No libraries")),c.map(e=>{var a,{id:s,key:l,title:c}=e;if(null!=r)a=r.includes(s);else{var d=t.machineIdentifier===o&&u===l,p=!!(i&&i.libraries&&i.libraries.find(e=>e.id===s));a=d||p}return(Uu()(eK,{className:n?aK.a.hidden:void 0,name:JSON.stringify({sectionID:s}),checkboxText:c,initialValue:a},s))})))}},oK=a("0UmJ"),lK=a.n(oK),cK=Uu()(Xh,{});var dK=function(e){var t,{sourceDirectory:a,sourceServer:i,serverOverviews:r,serverShares:n,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,hasNextStep:l,isPopulating:c,showList:d,isNewFriend:u,isAddingHomeUser:p,isCreatingManagedUser:h,isSharingPending:m,errorMessage:v,onPreviousStep:g,onSubmit:y,onModalClose:f}=e;return t=l?Object(Ze.default)("Continue"):h?Object(Ze.default)("Add"):u?Object(Ze.default)("Send"):Object(Ze.default)("Save"),Uu()(AC,{className:lK.a.form,onSubmit:y},void 0,Uu()(RY,{isAddingHomeUser:p,isCreatingManagedUser:h,isSharingSingleLibrary:!!a,errorMessage:v,onModalClose:f},void 0,Uu()(fL,{className:lK.a.modalBody,scrollDirection:Jp},void 0,Uu()("div",{className:lK.a.message},void 0,Object(Ze.default)("Choose some libraries to share.")),c?Uu()("div",{className:lK.a.spinnerContainer},void 0,cK):null,d?Uu()(rh,{className:lK.a.scroller,autoScroll:!0},void 0,r.map(e=>{var{machineIdentifier:t}=e,r=n.find(e=>e.machineIdentifier===t);return Uu()(sK,{sourceDirectory:a,sourceServer:i,serverOverview:e,serverShare:r,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o},t)})):null),Uu()(CL,{className:lK.a.modalFooter},void 0,Uu()(rT,{onPress:f},void 0,Object(Ze.default)("Cancel")),Uu()(uU,{},void 0,Uu()(rT,{onPress:g},void 0,Object(Ze.default)("Previous")),Uu()(bU,{type:"submit",kind:Dp,isDisabled:c||m,isSpinning:m},void 0,t)))))},uK=Ed.a.createElement,{Component:pK}=Ed.a;var hK={dispatchFetchServerOverviews:CY,dispatchFetchServerShares:DY,dispatchSetLibraryShares:PY,onPreviousStep:fY};var mK=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.shareModal,GS,_Y,WY(),(e,t,a,i)=>{var{steps:r,serverOverviews:n,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,isNewFriend:l,isServerOverviewsPopulating:c,isServerOverviewsPopulated:d,isServerSharesPopulating:u,isServerSharesPopulated:p,isSharingPending:h,sharingError:m,serverSharesError:v}=e,g=c||u,y=d&&p,f=v||m;return{sharingEligibleServerEntityIDs:a,sourceServer:t,serverOverviews:n,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:o,serverShares:i?i.serverShares:[],hasNextStep:LY(r,iY),isPopulating:g&&!f,isSharingPending:h&&!f,showList:y,isNewFriend:l,errorMessage:f}})}),hK)(class extends pK{constructor(...e){super(...e),this.onSubmit=e=>{var t=Object.keys(e).reduce((t,a)=>{if(!e[a])return t;var i=JSON.parse(a);return i.hasOwnProperty("sectionID")&&t.selectedLibrarySectionIDs.push(i.sectionID),i.hasOwnProperty("machineIdentifier")&&t.selectedAllLibrariesMachineIdentifiers.push(i.machineIdentifier),t},{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});this.props.dispatchSetLibraryShares(t)}}componentDidMount(){var{friendEntityID:e,sharingEligibleServerEntityIDs:t,dispatchFetchServerOverviews:a,dispatchFetchServerShares:i}=this.props;a({serverEntityIDs:t}),i({friendEntityID:e})}render(){var e=this.props,t=Je()(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]);return(uK(dK,tp()({},t,{onSubmit:this.onSubmit})))}}),vK=LS(Object(_u.a)(Ku,e=>e.filter(e=>e.isFullOwnedServer&&e.isConnected)),e=>e),gK=Object(_u.a)(vK,e=>e.map(e=>e.entityID)),yK={NONE:0,TV_ONLY:1,TV_AND_DVR:2};yK.options={[yK.NONE]:()=>Object(Ze.default)("No Live TV and DVR access"),[yK.TV_ONLY]:()=>Object(Ze.default)("Allow Live TV only"),[yK.TV_AND_DVR]:()=>Object(Ze.default)("Allow Live TV and DVR access")},yK.values=Object.keys(yK.options).map(e=>({[e]:yK.options[e]}));var fK=yK,bK=a("ZQAG"),IK=a.n(bK),SK=Ed.a.createElement;var MK=jV((function(e){var{subtitle:t}=e,a=Je()(e,["subtitle"]);return(Uu()("div",{className:IK.a.container},void 0,SK(RV,tp()({size:jp},a)),t?Uu()("span",{className:IK.a.subtitle},void 0,t):null))})),{useCallback:CK,useState:DK}=Ed.a;function PK(e,t){return e&&e[t]?e[t].split(","):[]}function OK(e,t,a){var i=PK(e,t),r=PK(e,a),n=DK(i),s=n[1],o=n[0],l=DK(r),c=l[1];return{initialAllowTags:i,initialExcludeTags:r,allowTags:o,excludeTags:l[0],onAllowTagsChange:CK(e=>{s(e)},[]),onExcludeTagsChange:CK(e=>{c(e)},[])}}Oc.a.shape({title:Oc.a.string.isRequired,key:Oc.a.string.isRequired,value:Oc.a.any.isRequired}),Oc.a.shape({container:Oc.a.string,containerOpen:Oc.a.string,input:Oc.a.string,inputOpen:Oc.a.string,inputFocused:Oc.a.string,suggestionsContainer:Oc.a.string,suggestionsContainerOpen:Oc.a.string,suggestionsList:Oc.a.string,suggestion:Oc.a.string,suggestionFirst:Oc.a.string,suggestionHighlighted:Oc.a.string,sectionContainer:Oc.a.string,sectionContainerFirst:Oc.a.string,sectionTitle:Oc.a.string});var jK=a("1h/R"),TK=a.n(jK),wK=a("egLJ"),EK=a.n(wK),NK=Ed.a.createElement;function xK(e){var{inputComponent:t,suggestionsComponent:a,theme:i}=e,r=Je()(e,["inputComponent","suggestionsComponent","theme"]);return(NK(TK.a,tp()({},r,{renderInputComponent:t,renderSuggestionsContainer:a,theme:Object.assign({},EK.a,i)})))}xK.defaultProps={inputComponent:function(e){return NK("input",tp()({type:"text"},e))}};var AK=xK,LK=a("bA7v"),kK=a.n(LK),{Component:RK}=Ed.a;class zK extends RK{constructor(...e){super(...e),this.onPress=()=>{var{onRemove:e,index:t}=this.props;e(t)}}render(){var{className:e,removeClassName:t,tag:a,iconComponent:i,isDisabled:r,removeLabel:n,getTagDisplayValue:s}=this.props;return(Uu()("span",{className:e},void 0,r?null:Uu()(Vp,{className:t,"aria-label":n,onPress:this.onPress},void 0,Uu()(i,{})),Uu()("span",{},void 0,s(a))))}}zK.defaultProps={className:kK.a.tag,removeClassName:kK.a.remove};var UK=zK,VK=a("sq6x"),BK=a.n(VK),FK=Ed.a.createElement,{Component:HK}=Ed.a;class _K extends HK{constructor(e,t){super(e,t),this.addTag=e=>this._addTags([e]),this.setInputRef=e=>{this.inputRef=e},this.setDivRef=e=>{this.divRef=e},this.onPaste=e=>{var{addOnPaste:t,pasteSplit:a,makeTag:i}=this.props;if(t){e.preventDefault();var r=a(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map(e=>i(e));this._addTags(r)}},this.onKeyDown=e=>{var{onKeyDown:t}=this.props.inputProps;if(t&&t(e),!e.defaultPrevented){var{value:a,removeKeys:i,addKeys:r,inputValue:n}=this.props,s=""===n,o=e.keyCode,l=-1!==r.indexOf(o),c=-1!==i.indexOf(o);if(l)(this._accept()||13===o)&&e.preventDefault();c&&a.length>0&&s&&(e.preventDefault(),this._removeTag(a.length-1))}},this.onClick=e=>{e.target===this.divRef&&(this.inputRef&&"function"==typeof this.inputRef.focus&&this.inputRef.focus(),this.onFocus())},this.onChange=e=>{var{onInputChange:t}=this.props,{onChange:a}=this.props.inputProps,i=e.target.value;a&&a(e),t(i)},this.onFocus=e=>{var{onFocus:t}=this.props.inputProps;t&&t(e),this.setState({isFocused:!0})},this.onBlur=e=>{var{onBlur:t}=this.props.inputProps;if(this.setState({isFocused:!1}),null!=e&&(t&&t(e),this.props.addOnBlur)){var a=this.props.makeTag(e.target.value);this._addTags([a])}},this.onRemove=e=>{this._removeTag(e)},this.state={isFocused:!1}}componentDidUpdate(e){var{value:t,excludedTags:a}=this.props;a!==e.excludedTags&&a.forEach(e=>{var a=t.findIndex(t=>t===e);this._removeTag(a)})}_removeTag(e){if(e>-1&&e<this.props.value.length){var t=this.props.value.slice(0),a=t.splice(e,1);this.props.onChange(t,a,[e])}}_clearInput(){this.props.onInputChange("")}_addTags(e){var t,{validationRegex:a,onlyUnique:i,maxTags:r,value:n,getTagValue:s,onChange:o,onValidationReject:l}=this.props;if(i&&(e=D.a.uniq(e,e=>s(e))),a&&(t=e.filter(e=>!a.test(s(e))),e=e.filter(e=>a.test(s(e)))),e=e.filter(e=>{var t=s(e);return t?t.trim().length>0:t}),r>=0){var c=Math.max(r-n.length,0);e=e.slice(0,c)}if(l&&t&&t.length>0&&l(t),e.length>0){for(var d=n.concat(e),u=[],p=0;p<e.length;p++)u.push(n.length+p);i&&(d=D.a.uniq(d,e=>s(e)));var h=d.length!==n.length;return h&&o(d,e,u),this._clearInput(),h}return this._clearInput(),!1}_accept(){var e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))}inputProps(){var{value:e,inputProps:t}=this.props,{placeholder:a}=t,i=Je()(t,["placeholder","onChange","onFocus","onBlur"]),r=Object.assign({className:BK.a.input,placeholder:e.length?"":a},i);return this.props.isDisabled&&(r.isDisabled=!0),r}render(){var{id:e,className:t,errorClassName:a,focusedClassName:i,hasError:r,value:n,inputValue:s,getTagValue:o,getTagDisplayValue:l,tagProps:c,tagComponent:d,inputComponent:u,isDisabled:p}=this.props,{isFocused:h}=this.state;return FK("div",{id:e,className:(t||"")+" "+(h&&i||"")+" "+(r&&a||""),ref:this.setDivRef,onClick:this.onClick},n.map((e,t)=>FK(d,tp()({key:o(e)+"-"+t,index:t,tagCount:n.length,tag:e,isDisabled:p,getTagDisplayValue:l,onRemove:this.onRemove},c))),FK(u,tp()({key:"input",inputRef:this.setInputRef,value:s},this.inputProps(),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))}}_K.defaultProps={className:BK.a.tagsInput,errorClassName:BK.a.hasError,addKeys:[9,13],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],inputComponent:function(e){var{inputRef:t}=e,a=Je()(e,["inputRef","addTag"]);return(FK("input",tp()({type:"text",ref:t},a)))},tagComponent:UK,pasteSplit:function(e){return e.split(" ").map(e=>e.trim())},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:e=>e,getTagValue:e=>e,makeTag:e=>e};var QK=_K,WK=a("SsI7"),GK=a.n(WK),YK=Ed.a.createElement,{Component:KK}=Ed.a,qK={placement:"bottom-start",modifiers:{preventOverflow:{enabled:!1},hide:{enabled:!1},flip:{enabled:!1},autoSize:{order:890,enabled:!0,fn(e){var t=window.innerHeight-e.offsets.popper.top-14;return e.styles.maxHeight=t+"px",e.styles.width=e.offsets.reference.width,e}}}};class ZK extends KK{constructor(e,t){super(e,t),this.setTagsInputRef=e=>{this.tagsInputRef=e},this.onInputChange=e=>{this.setState({inputValue:e})},this.onSuggestionSelected=(e,{suggestion:t})=>{this.tagsInputRef.addTag(this.props.makeTagFromSuggestion(t))},this.onInputFocus=(e,t)=>{this.setState({isMenuOpen:!0},()=>t(e))},this.onWindowPress=e=>{var t=this.suggestRef.current,a=t&&t.contains(e.target),i=!a&&document.getElementById(this.inputID),r=i&&i.contains(e.target);a||r||this.setState({isMenuOpen:!1})},this.renderInputComponent=e=>{var{ref:t}=e,a=Je()(e,["ref"]),{className:i,shouldRenderSuggestions:r,tagComponent:n,validationRegex:s,value:o,makeTag:l,getTagDisplayValue:c,getTagValue:d,tagProps:u,excludedTags:p,onChange:h}=this.props,{inputValue:m}=this.state;return YK(QK,{id:this.inputID,className:i,inputValue:m,inputProps:Object.assign({},a,{inputRef:t,onFocus:e=>{this.onInputFocus(e,a.onFocus)}}),tagProps:u,value:o,validationRegex:s,tagComponent:n,addOnBlur:!r(m),getTagValue:d,getTagDisplayValue:c,makeTag:l,excludedTags:p,ref:this.setTagsInputRef,onInputChange:this.onInputChange,onChange:h})},this.renderSuggestionsComponent=e=>{var{containerProps:{ref:t},children:a}=e,i=Je()(e.containerProps,["ref"]);return t(this.suggestRef.current),YK(hg,tp()({target:this.inputID,isOpen:this.state.isMenuOpen,options:qK,ref:this.suggestRef},i),a)},this.state={inputValue:"",isMenuOpen:!1},this.suggestRef=Ed.a.createRef(),this.inputID=Mp()}componentDidUpdate(e,t){!t.isMenuOpen&&this.state.isMenuOpen?this._enable():t.isMenuOpen&&!this.state.isMenuOpen&&this._disable()}_enable(){document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress)}_disable(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress)}render(){var{placeholder:e,suggestions:t,getAddSuggestionTag:a,getSuggestionValue:i,renderSuggestion:r,suggestionsFilter:n,shouldRenderSuggestions:s,theme:o,onSuggestionsClearRequested:l,onSuggestionsFetchRequested:c}=this.props,{inputValue:d}=this.state,u=a&&d.length>0?[a(d)]:[],p=t.reduce((e,t)=>(n(t,d)&&e.push(t),e),u);return Uu()(AK,{suggestions:p,shouldRenderSuggestions:s,getSuggestionValue:i,renderSuggestion:r,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:d,placeholder:e,onChange:(e,{newValue:t,method:a})=>{"enter"===a&&e.preventDefault(),"enter"===a||"click"===a?this.setState({isMenuOpen:!1}):"type"===a&&this.setState({isMenuOpen:!0})}},theme:Object.assign({input:GK.a.input},o),inputComponent:this.renderInputComponent,suggestionsComponent:this.renderSuggestionsComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:l,onSuggestionsFetchRequested:c})}}ZK.defaultProps={className:GK.a.tagsInput,suggestions:[],value:[],shouldRenderSuggestions:()=>!1};var XK=ZK,JK=Ed.a.createElement;var $K=jV((function(e){var{formGroupClassName:t,formLabelClassName:a,name:i,labelText:r,helpText:n,showErrors:s,errors:o,children:l}=e,c=Je()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return(Uu()(sU,{className:t},void 0,l,Uu()(DV,{className:a,showErrors:s,errors:o,name:i,labelText:r}),JK(XK,tp()({name:i,hasError:s},c)),n?Uu()(CV,{},void 0,n):null))})),eq=a("N2kb"),tq=a.n(eq),{Component:aq}=Ed.a,iq=Uu()(DI,{});var rq=class extends aq{constructor(...e){super(...e),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){var{tag:e,getTagDisplayValue:t}=this.props;return(Uu()("span",{className:tq.a.container},void 0,Uu()("span",{className:tq.a.tag},void 0,Uu()(Vp,{className:tq.a.remove,"aria-label":Object(Ze.default)("Remove Tag"),onPress:this.onRemovePress},void 0,iq),Uu()("span",{},void 0,t(e)))))}},{Component:nq}=Ed.a,sq={[ao]:{labelText:()=>Object(Ze.default)("Allow Only Ratings"),placeholder:()=>Object(Ze.default)("Allow all ratings")},[io]:{labelText:()=>Object(Ze.default)("Exclude Ratings"),placeholder:()=>Object(Ze.default)("Don't exclude any ratings")},[ro]:{labelText:()=>Object(Ze.default)("Allow Only Labels"),placeholder:()=>Object(Ze.default)("Allow all labels")},[no]:{labelText:()=>Object(Ze.default)("Exclude Labels"),placeholder:()=>Object(Ze.default)("Don't exclude any labels")}};function oq(e){var{metadataType:t,tagType:a,filterOptionsTags:i}=e,r=a===ao||a===io?ao:ro;return i[t][r]}var lq=e=>e.value,cq=e=>""===e.key?e.value:e.title,dq=(e,t)=>e.title.toUpperCase().includes(t.toUpperCase()),uq=e=>({key:"",title:Object(Ze.default)("Add {inputValue}",{inputValue:e}),value:e}),pq=e=>e.title,hq=()=>!0,mq=()=>{},vq=()=>{};var gq=class extends nq{static getDerivedStateFromProps(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:oq(e),isFilterOptionsTagsPopulated:!0}:null}constructor(e,t){super(e,t);var{isFilterOptionsTagsPopulated:a}=e;this.state={suggestions:a?oq(e):[],isFilterOptionsTagsPopulated:a}}render(){var{name:e,tagType:t,initialValue:a,excludedTags:i,onChange:r}=this.props,{labelText:n,placeholder:s}=sq[t];return Uu()($K,{getSuggestionValue:lq,initialValue:a,labelText:n(),placeholder:s(),makeTagFromSuggestion:cq,tagComponent:rq,name:e,renderSuggestion:pq,shouldRenderSuggestions:hq,getAddSuggestionTag:uq,suggestions:this.state.suggestions,suggestionsFilter:dq,excludedTags:i,onSuggestionsClearRequested:mq,onSuggestionsFetchRequested:vq,onChange:r})}},yq=a("mDY5"),fq=a.n(yq),bq=Ed.a.createElement,Iq=Uu()($y,{}),Sq=Uu()($y,{}),Mq=Uu()($y,{});var Cq=function(e){var{className:t,friendFilterOptions:a}=e,i=Je()(e,["className","friendFilterOptions"]),{filterMovies:r,filterTelevision:n,filterMusic:s}=a,o=OK(r,ao,io),l=OK(r,ro,no),c=OK(n,ao,io),d=OK(n,ro,no),u=OK(s,ro,no);return Uu()("div",{className:t},void 0,Uu()("div",{className:fq.a.section},void 0,Uu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),Iq,UQ.g.get(UQ.b).title),bq(gq,tp()({name:"moviesContentRatings",metadataType:Wt.j,tagType:ao,initialValue:o.initialAllowTags,excludedTags:o.excludeTags,onChange:o.onAllowTagsChange},i)),bq(gq,tp()({name:"moviesExcludeContentRatings",metadataType:Wt.j,tagType:io,initialValue:o.initialExcludeTags,excludedTags:o.allowTags,onChange:o.onExcludeTagsChange},i)),bq(gq,tp()({name:"moviesLabels",metadataType:Wt.j,tagType:ro,initialValue:l.initialAllowTags,excludedTags:l.excludeTags,onChange:l.onAllowTagsChange},i)),bq(gq,tp()({name:"moviesExcludeLabels",metadataType:Wt.j,tagType:no,initialValue:l.initialExcludeTags,excludedTags:l.allowTags,onChange:l.onExcludeTagsChange},i))),Uu()("div",{className:fq.a.section},void 0,Uu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),Sq,UQ.g.get(UQ.e).title),bq(gq,tp()({name:"televisionContentRatings",metadataType:Wt.o,tagType:ao,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},i)),bq(gq,tp()({name:"televisionExcludeContentRatings",metadataType:Wt.o,tagType:io,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},i)),bq(gq,tp()({name:"televisionLabels",metadataType:Wt.o,tagType:ro,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},i)),bq(gq,tp()({name:"televisionExcludeLabels",metadataType:Wt.o,tagType:no,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},i))),Uu()("div",{className:fq.a.section},void 0,Uu()("div",{},void 0,Object(Ze.default)("Content Restrictions"),Mq,UQ.g.get(UQ.c).title),bq(gq,tp()({name:"musicLabels",metadataType:Wt.b,tagType:ro,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange},i)),bq(gq,tp()({name:"musicExcludeLabels",metadataType:Wt.b,tagType:no,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange},i))))},Dq=a("dJu0"),Pq=a.n(Dq);var Oq=jV((function(e){var{name:t,title:a,subtitle:i,value:r,values:n,onChange:s}=e;return(Uu()("div",{},void 0,Uu()(UC,{},void 0,a),Uu()(bR,{name:t,value:r,values:n,size:jp,onChange:s}),i?Uu()("div",{className:Pq.a.subtitle},void 0,i):null))})),jq=a("+FCs"),Tq=a.n(jq),{useState:wq}=Ed.a;function Eq(e){return parseInt(e,10)}var Nq=function(e){var{friend:t,sourceDirectory:a,filterOptionsTags:i,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:n,canAddToHome:s,canShareTunersWithFriends:o,canShareDVR:l,canShowRestrictions:c,canShowRestrictionsFilters:d,isAddingHomeUser:u,isCreatingManagedUser:p,isSharingPending:h,errorMessage:m,onPreviousPress:v,onSubmit:g,onModalClose:y}=e,f=!!t&&t.home,b=!t||t.allowSync,I=!!t&&t.allowCameraUpload,S=t?t.allowTuners:0,M=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},C=wq(f||u||p),D=C[1],P=C[0],O=P||o;return Uu()(AC,{className:Tq.a.form,onSubmit:g},void 0,Uu()(RY,{isAddingHomeUser:u,isCreatingManagedUser:p,isSharingSingleLibrary:!!a,errorMessage:m,onModalClose:y},void 0,Uu()(fL,{className:Tq.a.modalBody,scrollDirection:Jp},void 0,Uu()(rh,{className:Tq.a.scroller,autoScroll:!0},void 0,s?Uu()("div",{className:Tq.a.message},void 0,Object(Ze.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership.")):null,s?Uu()("div",{className:Tq.a.section},void 0,Uu()(MK,{name:"addToHome",checkboxText:Object(Ze.default)("Add to Plex Home"),initialValue:f,isDisabled:f,onChange:D})):null,P?Uu()("div",{className:Tq.a.warningMessage},void 0,Uu()(GM,{className:Tq.a.warningIcon}),Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")):null,Uu()("div",{className:Tq.a.message},void 0,c||O?Object(Ze.default)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings."):null),Uu()("div",{className:Tq.a.section},void 0,c?Uu()(MK,{name:"allowSync",checkboxText:Object(Ze.default)("Allow Sync and Download"),subtitle:Object(Ze.default)("This will allow this user to sync or download content from your server"),initialValue:b}):null,c?Uu()(MK,{name:"allowCameraUpload",checkboxText:Object(Ze.default)("Allow Camera Upload"),subtitle:Object(Ze.default)("This will allow this user to upload media to your server"),initialValue:I}):null,O&&!l?Uu()(MK,{name:"allowTuners",checkboxText:Object(Ze.default)("Allow access to Live TV"),subtitle:Object(Ze.default)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!S}):null,O&&l?Uu()(Oq,{name:"allowTuners",title:Object(Ze.default)("Live TV & DVR Access"),subtitle:Object(Ze.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:S,value:fK.values[S],values:fK.values,transformValue:Eq}):null),c&&d?Uu()(Cq,{className:Tq.a.list,filterOptionsTags:i,friendFilterOptions:M,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:n}):null)),Uu()(CL,{className:Tq.a.modalFooter},void 0,Uu()(rT,{onPress:y},void 0,Object(Ze.default)("Cancel")),Uu()(uU,{},void 0,Uu()(rT,{onPress:v},void 0,Object(Ze.default)("Previous")),Uu()(bU,{type:"submit",kind:Dp,isDisabled:h,isSpinning:h},void 0,p?Object(Ze.default)("Add"):Object(Ze.default)("Send"))))))},xq=Ed.a.createElement,{Component:Aq}=Ed.a;var Lq=Object(Fu.b)((function(){return Object(_u.a)((e,{isAddingHomeUser:t})=>t,(e,{isCreatingManagedUser:t})=>t,e=>e.ui.shareModal,gK,WY(),mv("hasPlexPass"),zT(Tt.y),zT(Tt.b),zT(Tt.c),(e,t,a,i,r,n,s,o,l)=>{var{restrictionProfileIdentifier:c,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,isSharingPending:h,sharingError:m}=a;return{serverEntityIDs:i,friend:r,filterOptionsTags:d,isFilterOptionsTagsPopulating:u,isFilterOptionsTagsPopulated:p,canAddToHome:n&&!e&&!t,canShareTunersWithFriends:s,canShareDVR:o,canShowRestrictions:l,canShowRestrictionsFilters:!c||"unrestricted"===c,isSharingPending:h&&!m,errorMessage:m}})}),(function(e){return{dispatchFetchFilterOptionsTags(t){e(OY({serverEntityIDs:t}))},onPreviousPress(){e(fY())},onSubmit(t){var{addToHome:a}=t,i=Je()(t,["addToHome"]);e(TY({addToHome:a,restrictions:i}))}}}))(class extends Aq{componentDidMount(){var{serverEntityIDs:e,dispatchFetchFilterOptionsTags:t}=this.props;t(e)}render(){var e=this.props,t=Je()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return(xq(Nq,t))}}),kq=a("ABYF"),Rq=a("uyqX"),zq=a.n(Rq),{useCallback:Uq,useEffect:Vq,useRef:Bq,useState:Fq}=Ed.a,Hq=()=>{};var _q=function(e){var t,{sourceDirectory:a,metadataItem:i,username:r,inviteToken:n,inviteTokenError:s,libraryCount:o,isSharingSingleItem:l,isAddingHomeUser:c,hasNewSharingInvitationFeature:d,onModalClose:u}=e,p=Fq(!1),h=p[1],m=p[0],v=Gb(m),g=Bq(null),y=function(e,t,a){if(a){var i={inviteToken:e};return t?i.sharedItems=1:i.sharedServers=1,_.join(["https://app.plex.tv/auth","#!"],i)}return _.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(n,l,d),f=Uq(()=>{kq.writeText(y),h(!0)},[y]);Vq(()=>(!v&&m&&(g.current=window.setTimeout(()=>{h(!1),window.clearTimeout(g.current)},2e3)),()=>{window.clearTimeout(g.current)}),[v,m]),t=i?Object(Ze.default)("You shared {metadataTitle} with {username}.",{metadataTitle:LP(i,""),username:r}):0===o||c?Object(Ze.default)("We've sent an invite to {username}.",{username:r}):1===o?Object(Ze.default)("You shared a library with {username}.",{username:r}):Object(Ze.default)("You shared {libraryCount} libraries with {username}.",{libraryCount:o,username:r});var b=(i||o)&&!s;return(Uu()("div",{className:zq.a.container},void 0,Uu()(RY,{metadataItem:i,isSharingSingleLibrary:!!a,onModalClose:u},void 0,Uu()(fL,{className:zq.a.modalBody,scrollDirection:Jp},void 0,Uu()("div",{className:zq.a.content},void 0,Uu()("p",{},void 0,t),b?Uu()("p",{},void 0,Object(Ze.default)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"):null,s?Uu()("div",{},void 0,s):null,b?Uu()("div",{className:zq.a.inviteLink},void 0,Uu()(LR,{className:zq.a.input,name:"inviteLink",value:y,readOnly:"readonly",onChange:Hq}),Uu()(Vp,{className:zq.a.copyLink,kind:Dp,isDisabled:m||!!s,onPress:f},void 0,m?Object(Ze.default)("Copied!"):Object(Ze.default)("Copy link"))):null)),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Dp,onPress:u},void 0,Object(Ze.default)("Finish")))))))};var Qq=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.shareModal,zT(Tt.n),(e,t)=>{var{username:a,metadataItemEntityID:i,serverOverviews:r,selectedAllLibrariesMachineIdentifiers:n,selectedLibrarySectionIDs:s,inviteToken:o,inviteTokenError:l}=e;return{username:a,inviteToken:o,inviteTokenError:l,libraryCount:n?n.reduce((e,t)=>e+r.find(e=>e.machineIdentifier===t).sections.length,s.length):null,isSharingSingleItem:!!i,hasNewSharingInvitationFeature:t}})}))(_q),Wq=Object(_u.a)(qu.a,e=>e.desktop),Gq={};var Yq=Object(_u.a)(Wu,e=>e.homeUsers),Kq=Object(_u.a)(qu.a,e=>e.allFriends);function qq(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}qq.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Zq=qq,Xq=a("+GYj"),Jq=a.n(Xq),{useMemo:$q}=Ed.a;function eZ(){return Xx().map(e=>({[e.identifier]:e.title}))}function tZ(e){var{className:t,name:a,value:i,hasPlexPass:r,onChange:n}=e,s=$q(eZ,[]);return Uu()("div",{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Restriction Profile")),Uu()(bR,{className:t,name:a,value:i,values:s,size:jp,onChange:n}),Uu()("div",{className:Jq.a.subtitle},void 0,r?Object(Ze.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. Pick None to choose your own ratings and manage other Media Server permissions."):Object(Ze.default)("Younger Kid allows TV-Y, G, TV-G and equivalent; Older Kid allows TV-PG, PG and equivalent; Teen allows TV-13, PG-13 and equivalent. With a Plex Pass, you can choose your own ratings and manage other Media Server permissions.")))}tZ.defaultProps={className:Jq.a.input};var aZ=jV(tZ);function iZ(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}iZ.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rZ=iZ,nZ=a("czqj"),sZ=a.n(nZ),{Component:oZ}=Ed.a,lZ=Uu()($y,{});var cZ=class extends oZ{constructor(...e){super(...e),this.onPress=()=>{this.props.onSelect(this.props.user.id)}}render(){var{serverEntityID:e,user:t,isSelected:a}=this.props,{title:i,email:r,thumb:n,home:s}=t,o=r&&r!==i;return Uu()(rT,{className:a?sZ.a.selectedButton:sZ.a.button,onPress:this.onPress},void 0,Uu()(JS,{className:sZ.a.avatar,serverEntityID:e,url:n,width:30,height:30}),Uu()("div",{className:sZ.a.titleContainer},void 0,Uu()("span",{className:sZ.a.title},void 0,i),o?Uu()("span",{className:sZ.a.email},void 0,lZ,r):null),a?Uu()(Zq,{className:sZ.a.selectedIcon}):null,Uu()(rZ,{className:s?sZ.a.visibleHomeIcon:sZ.a.homeIcon}))}},dZ=a("UcbN"),uZ=a.n(dZ);function pZ(e){var{className:t,serverEntityID:a,users:i,isUserSelected:r,onUserSelect:n}=e;return(Uu()(rh,{className:t,autoScroll:!0},void 0,i.map(e=>Uu()(cZ,{serverEntityID:a,user:e,isSelected:r(e),onSelect:n},e.id))))}pZ.defaultProps={className:uZ.a.list};var hZ=pZ,mZ=a("8n2K"),vZ=a.n(mZ),{Component:gZ,Fragment:yZ}=Ed.a;function fZ(e){return e.includes("@")}function bZ(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function IZ(e){return{id:-1,title:e.trim(),thumb:"https://plex.tv/users/"+encodeURIComponent(e)+"/avatar"}}var SZ=class extends gZ{static getDerivedStateFromProps(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null}constructor(e,t){super(e,t),this.isUserSelected=e=>this.state.selectedFriendID===e.id||!this.state.selectedFriendID&&this.state.username===e.title,this.onUsernameChange=e=>{this._clearOnUsernameChangeTimeout(),this.setState({username:e,selectedFriendID:null,isChangingUsername:!0},()=>{this.props.isCreatingManagedUser||(this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onValidateUsername({username:e})},500))})},this.onUserSelect=e=>{this.setState({selectedFriendID:e===this.state.selectedFriendID?null:e})},this.onRestrictionProfileSelect=e=>{this.setState({restrictionProfileIdentifier:e})},this.onSubmit=({restrictionProfileIdentifier:e})=>{var{metadataItemEntityID:t,users:a,isAddingHomeUser:i,isCreatingManagedUser:r,onSetUsername:n,onSetUser:s}=this.props,{username:o,selectedFriendID:l}=this.state;l&&-1!==l?s({metadataItemEntityID:t,friendEntityID:a.find(e=>e.id===l).entityID,isAddingHomeUser:i}):n({metadataItemEntityID:t,username:o.trim(),restrictionProfileIdentifier:e,isAddingHomeUser:i,isCreatingManagedUser:r})},this.state={username:e.username,selectedFriendID:null,isChangingUsername:!1,restrictionProfileIdentifier:e.restrictionProfileIdentifier}}componentWillUnmount(){this._clearOnUsernameChangeTimeout()}_clearOnUsernameChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){var e,t,a,{serverEntityID:i,sourceDirectory:r,metadataItem:n,users:s,existingHomeUsernames:o,hasNextStep:l,hasPlexPass:c,isAddingHomeUser:d,isCreatingManagedUser:u,isUsernameValidating:p,isUsernameValidated:h,isSharingPending:m,sharingError:v,onModalClose:g}=this.props,{username:y,selectedFriendID:f,isChangingUsername:b,restrictionProfileIdentifier:I}=this.state,S=function(e,t,a){var{sourceDirectory:i,metadataItem:r,isAddingHomeUser:n,isCreatingManagedUser:s}=a,o=t.trim().toUpperCase(),l=e.filter(e=>(!n||!e.home)&&(!!(i||r||n||s)&&(e.username&&e.username.toUpperCase().includes(o)||e.title&&e.title.toUpperCase().includes(o)||e.email&&e.email.toUpperCase().includes(o))));return l.sort(bZ),l}(s,y,this.props),M=!h||b||function(e,t){return!!e.find(e=>e.username===t||e.title===t||e.email===t)}(S,y)?S:[IZ(y),...S],C=!p&&!h,D=!!s.find(e=>e.username===y||e.email===y),P=b||p||C&&!fZ(y),O=""!==y.trim()&&!u&&0===M.length&&C&&!b,j=u&&o.includes(y.trim()),T=D&&!r&&!n&&!d&&!u;O?e=fZ(t=y)?Object(Ze.default)("An invite will be sent to {emailAddress}",{emailAddress:t.trim()}):Object(Ze.default)("No Plex users found. Enter a valid email address to invite someone new"):j?e=Object(Ze.default)("A Home user already exists with this name"):T&&(e=Object(Ze.default)("{username} is already a friend",{username:y})),a=!n&&l?Object(Ze.default)("Continue"):u?Object(Ze.default)("Add"):Object(Ze.default)("Send");var w=T||!f&&(m||""===y.trim()||!u&&P||j);return(Uu()(AC,{className:vZ.a.form,onSubmit:this.onSubmit},void 0,Uu()(RY,{metadataItem:n,isAddingHomeUser:d,isCreatingManagedUser:u,isSharingSingleLibrary:!!r,errorMessage:v,onModalClose:g},void 0,Uu()(fL,{className:vZ.a.modalBody,scrollDirection:Jp},void 0,Uu()("div",{className:vZ.a.messages},void 0,Uu()("div",{},void 0,function(e,t){return e?Object(Ze.default)("Users in your Home appear on the Switch User screen."):t?Object(Ze.default)("Managed users are only available when signed in with an account in your home."):Object(Ze.default)("Choose a user to invite. You can enter their Plex username or email.")}(d,u)),Uu()("div",{},void 0,function(e,t){return e?Object(Ze.default)("The invited user will be asked to confirm Home membership."):t?Object(Ze.default)("You can choose any name you like and you'll be able to set restrictions on accessible media."):Object(Ze.default)("New users will be asked to accept the invitation.")}(d,u))),Uu()("div",{className:vZ.a.inputContainer},void 0,Uu()(LR,{name:"username",autoComplete:"off",placeholder:u?Object(Ze.default)("Username"):Object(Ze.default)("Username or email"),value:y,focusOnMount:!0,onChange:this.onUsernameChange}),p?Uu()(Xh,{className:vZ.a.icon,size:jp}):null,h?Uu()(Zq,{className:vZ.a.checkIcon}):null),Uu()("div",{className:vZ.a.warningMessage},void 0,e),u?Uu()(aZ,{name:"restrictionProfileIdentifier",className:vZ.a.restrictionsInput,initialValue:I,hasPlexPass:c,onChange:this.onRestrictionProfileSelect}):null,!u&&M.length>0?Uu()(yZ,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Users")),Uu()(hZ,{className:vZ.a.list,serverEntityID:i,users:M,isUserSelected:this.isUserSelected,onUserSelect:this.onUserSelect})):null),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{onPress:g},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",kind:Dp,isDisabled:w,isSpinning:m},void 0,a))))))}},MZ=Ed.a.createElement,{useEffect:CZ}=Ed.a,DZ=Object(_u.a)(Yq,function(e){if(Gq[e])return Gq[e];var t=Object(_u.a)(Wq,t=>t[e]);return Gq[e]=t,t}("homeUsers"),(e,t)=>t.map(t=>e[t].title));var PZ={dispatchFetchAllFriends:fA,onValidateUsername:IY,onSetUsername:SY,onSetUser:MY};var OZ=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.shareModal,Kq,QY,DZ,mv("hasPlexPass"),(e,t,a,i,r)=>{var{steps:n,username:s,restrictionProfileIdentifier:o,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u,sharingError:p}=e;return{username:s,restrictionProfileIdentifier:o,users:t.map(e=>a[e]),existingHomeUsernames:i,hasNextStep:LY(n,aY),hasPlexPass:r,isNewFriend:l,isUsernameValidating:c,isUsernameValidated:d,isSharingPending:u&&!p,sharingError:p}})}),PZ)((function(e){var{dispatchFetchAllFriends:t}=e,a=Je()(e,["dispatchFetchAllFriends"]);return CZ(()=>{t()},[t]),MZ(SZ,a)})),jZ=Ed.a.createElement,{Component:TZ}=Ed.a;var wZ={dispatchInitShareModal:gY,dispatchResetShareModal:yY};var EZ=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.shareModal,ZG(),(e,t)=>({steps:e.steps,step:e.step,friendEntityID:e.friendEntityID,isSharingCompleted:e.isSharingCompleted,metadataItem:t}))}),wZ)(class extends TZ{componentDidMount(){var{metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:a,dispatchInitShareModal:i}=this.props;i({metadataItemEntityID:e,isAddingHomeUser:t,isCreatingManagedUser:a})}componentDidUpdate(e,t){var{steps:a,step:i,isSharingCompleted:r,onModalClose:n}=this.props,s=!e.isSharingCompleted&&r,o=AY(a,i);s&&i!==nY&&!o&&n()}componentWillUnmount(){this.props.dispatchResetShareModal()}render(){var e=this.props,{step:t}=e,a=Je()(e,["step","dispatchResetShareModal"]);switch(t){case tY:return jZ(HY,a);case aY:return jZ(OZ,a);case iY:return jZ(mK,a);case rY:return jZ(Lq,a);case nY:return jZ(Qq,a);default:return null}}});var NZ=function(e){var{serverEntityID:t,metadataItemEntityID:a,sourceDirectory:i,metricsProperties:r,isAddingHomeUser:n,isCreatingManagedUser:s,isOpen:o,onModalClose:l}=e;return(Uu()(xT,{metricsPage:Rd.nb,metricsProperties:r,isOpen:o,onModalClose:l},void 0,Uu()(EZ,{serverEntityID:t,metadataItemEntityID:a,sourceDirectory:i,isAddingHomeUser:n,isCreatingManagedUser:s,onModalClose:l})))},xZ=Ed.a.createElement,{Fragment:AZ,useCallback:LZ,useState:kZ}=Ed.a;var RZ=function(e){var{serverEntityID:t,isLibraryRefreshing:a,onUpdatePress:i,onCancelUpdatePress:r,onAnalyzePress:n,onRefreshAllPress:s,onEmptyTrashPress:o,onDeletePress:l,onMenuClose:c}=e,d=Je()(e,["serverEntityID","isLibraryRefreshing","onUpdatePress","onCancelUpdatePress","onAnalyzePress","onRefreshAllPress","onEmptyTrashPress","onDeletePress","onMenuClose"]),u=kZ(!1),p=u[1],h=u[0],m=LZ(()=>p(!0),[]),v=LZ(()=>{p(!1)},[]);return Uu()(AZ,{},void 0,xZ(Fg,tp()({onMenuClose:c},d),Uu()(Gg,{onPress:m},void 0,Object(Ze.default)("Share")),a?Uu()(Gg,{onPress:Ib(c,r)},void 0,Object(Ze.default)("Cancel Scan")):Uu()(Gg,{onPress:Ib(c,i)},void 0,Object(Ze.default)("Scan Library Files")),Uu()(Gg,{onPress:Ib(c,n)},void 0,Object(Ze.default)("Analyze")),Uu()(Gg,{onPress:Ib(c,s)},void 0,Object(Ze.default)("Refresh All Metadata")),Uu()(Gg,{onPress:Ib(c,o)},void 0,Object(Ze.default)("Empty Trash")),Uu()(Gg,{kind:Pp,onPress:Ib(c,l)},void 0,Object(Ze.default)("Delete"))),Uu()(NZ,{metricsProperties:{context:_t.SETTINGS},serverEntityID:t,isOpen:h,onModalClose:v}))};function zZ(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}zZ.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var UZ=zZ,VZ=a("4DQJ"),BZ=a.n(VZ),{Component:FZ}=Ed.a;var HZ=class extends FZ{static getDerivedStateFromProps(e,t){return e.isLibraryDeleteInProgress!==t.isLibraryDeleteInProgress?!e.isLibraryDeleteInProgress&&t.isLibraryDeleteInProgress&&t.isDeleteModalOpen?{isDeleteModalOpen:!1,isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:{isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:null}constructor(e,t){super(e,t),this.onActionsPress=()=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onAnalyzePress=()=>{this.setState({isAnalyzeModalOpen:!0})},this.onAnalyzeConfirm=()=>{this.setState({isAnalyzeModalOpen:!1}),this.props.onAnalyzeLibraryPress()},this.onAnalyzeCancel=()=>{this.setState({isAnalyzeModalOpen:!1})},this.onRefreshAllPress=()=>{this.setState({isRefreshAllModalOpen:!0})},this.onRefreshAllConfirm=()=>{this.setState({isRefreshAllModalOpen:!1}),this.props.onRefreshLibraryPress()},this.onRefreshAllCancel=()=>{this.setState({isRefreshAllModalOpen:!1})},this.onEmptyTrashPress=()=>{this.setState({isEmptyTrashModalOpen:!0})},this.onEmptyTrashConfirm=()=>{this.setState({isEmptyTrashModalOpen:!1}),this.props.onEmptyTrashLibraryPress()},this.onEmptyTrashCancel=()=>{this.setState({isEmptyTrashModalOpen:!1})},this.onDeletePress=()=>{this.setState({isDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{this.props.onDeleteLibraryPress()},this.onDeleteCancel=()=>{this.setState({isDeleteModalOpen:!1})},this.state={isActionsMenuOpen:!1,isAnalyzeModalOpen:!1,isRefreshAllModalOpen:!1,isEmptyTrashModalOpen:!1,isDeleteModalOpen:!1},this._actionsMenuButtonID=Mp()}render(){var{serverEntityID:e,rowIndex:t,title:a,route:i,type:r,refreshing:n,isLibraryDeleteInProgress:s,onUpdateLibraryPress:o,onCancelUpdateLibraryPress:l,onEditLibraryPress:c}=this.props,{isActionsMenuOpen:d}=this.state,u=Object(Ze.default)("Edit {library}",{library:a}),p=JW(r);return Uu()("div",{className:((t%2?BZ.a.alternateContainer:BZ.a.container)||"")+" "+(d&&BZ.a.isActionsMenuOpen||"")},void 0,Uu()(Vp,{className:BZ.a.underlay,title:u,onPress:c}),Uu()("div",{className:BZ.a.titleContainer},void 0,Uu()("div",{className:BZ.a.iconContainer},void 0,n?Uu()(Xh,{className:BZ.a.spinner}):Uu()(p,{})),Uu()(Vp,{className:BZ.a.title,title:a,to:i},void 0,a)),Uu()("div",{className:BZ.a.actions},void 0,Uu()(Vp,{className:BZ.a.action,title:u,onPress:c},void 0,Object(Ze.default)("Edit")),Uu()(KG,{id:this._actionsMenuButtonID,className:BZ.a.action,iconComponent:UZ,title:Object(Ze.default)("More Actions"),onPress:this.onActionsPress}),Uu()(RZ,{target:this._actionsMenuButtonID,isOpen:this.state.isActionsMenuOpen,serverEntityID:e,isLibraryRefreshing:n,onMenuClose:this.onActionsMenuClose,onUpdatePress:o,onCancelUpdatePress:l,onAnalyzePress:this.onAnalyzePress,onRefreshAllPress:this.onRefreshAllPress,onEmptyTrashPress:this.onEmptyTrashPress,onDeletePress:this.onDeletePress}),Uu()(HH,{isOpen:this.state.isAnalyzeModalOpen,metricsPage:Rd.g,title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),onConfirm:this.onAnalyzeConfirm,onCancel:this.onAnalyzeCancel}),Uu()(HH,{isOpen:this.state.isRefreshAllModalOpen,metricsPage:Rd.q,title:Object(Ze.default)("Refresh All Metadata"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),onConfirm:this.onRefreshAllConfirm,onCancel:this.onRefreshAllCancel}),Uu()(HH,{isOpen:this.state.isEmptyTrashModalOpen,metricsPage:Rd.p,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:this.onEmptyTrashConfirm,onCancel:this.onEmptyTrashCancel}),Uu()(HH,{isOpen:this.state.isDeleteModalOpen,isConfirmButtonSpinning:s,isCancelButtonDisabled:s,metricsPage:Rd.l,kind:Pp,title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:a}),accordMessage:Object(Ze.default)('Yes, delete the library "{libraryName}"',{libraryName:a}),confirmLabel:Object(Ze.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})))}};var _Z=xG((function(){return Object(_u.a)(OG(),Object(_u.a)(RS(),kS(),HG(),OG(),(e,t,a,i)=>Jt(e,t,_G(a,i.key))),EG(),(e,t,a)=>({title:e.title,route:t,type:VQ(e),refreshing:e.refreshing,isLibraryDeleteInProgress:!!a}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,libraryEntityID:t.libraryEntityID,metricsPage:t.metricsPage};return{onUpdateLibraryPress(){e(AG(a))},onCancelUpdateLibraryPress(){e(VG(a))},onEditLibraryPress(){e(LG(a))},onAnalyzeLibraryPress(){e(kG(a))},onRefreshLibraryPress(){e(UG(a))},onEmptyTrashLibraryPress(){e(RG(a))},onDeleteLibraryPress(){e(zG(a))}}}))(HZ),QZ=a("oKl5"),WZ=a.n(QZ),{Fragment:GZ}=Ed.a;var YZ=function(e){var{serverEntityID:t,providerEntityID:a,libraryEntityIDs:i,sectionTypeTitle:r}=e;return(Uu()(GZ,{},void 0,Uu()("div",{className:WZ.a.title},void 0,r),Uu()("div",{className:WZ.a.divider}),i.map((e,i)=>Uu()(_Z,{serverEntityID:t,providerEntityID:a,libraryEntityID:e,rowIndex:i},e))))},KZ=a("PZgO"),qZ=a.n(KZ),{Fragment:ZZ}=Ed.a,XZ=Uu()(ph,{},void 0,Uu()(Xh,{}));var JZ=function(e){var{serverEntityID:t,providerEntityID:a,sectionTypes:i,librariesBySectionType:r,librariesCount:n,isLibrariesPopulated:s,librariesError:o,isLibraryRefreshing:l,onAddLibraryPress:c,onCancelUpdatePress:d,onUpdateLibrariesPress:u}=e;return o&&!n?Uu()(fh,{title:Object(Ze.default)("There was an unexpected error loading libraries.")}):s||o?Uu()(ZZ,{},void 0,Uu()("div",{className:qZ.a.header},void 0,Uu()("div",{className:qZ.a.headerTitle},void 0,Object(Ze.default)("{librariesCount} Libraries",{librariesCount:n})),Uu()("div",{},void 0,Uu()(rT,{className:qZ.a.button,size:jp,onPress:c},void 0,Object(Ze.default)("Add library")),l?Uu()(rT,{className:qZ.a.button,size:jp,onPress:d},void 0,Object(Ze.default)("Cancel scan")):Uu()(rT,{className:qZ.a.button,size:jp,onPress:u},void 0,Object(Ze.default)("Scan library files")))),i.map(e=>{var i=r[e.key];return i?Uu()(YZ,{serverEntityID:t,providerEntityID:a,libraryEntityIDs:i,sectionTypeTitle:e.title},e.key):null})):XZ},$Z=Ed.a.createElement,{Component:eX}=Ed.a;var tX=Object(Fu.b)((function(){return Object(_u.a)(zQ(),PG(),Object(_u.a)(RQ(),e=>e.reduce((e,t)=>{var a=VQ(t);return e[a]?e[a].push(t.entityID):e[a]=[t.entityID],e},{})),(e,t,a)=>({sectionTypes:UQ.g.getAll(),librariesBySectionType:a,librariesCount:e.libraries.length,isLibrariesPopulated:e.isLibrariesPopulated,librariesError:e.librariesError,isLibraryRefreshing:t}))}),(function(e,t){var a={serverEntityID:t.serverEntityID};return{dispatchFetchLibraries(){e(Ha(a))},onAddLibraryPress(){e(pG(Object.assign({},a,{redirect:!1})))},onUpdateLibrariesPress(){e(hG(a))},onCancelUpdatePress(){e(SG(a))}}}))(class extends eX{componentDidMount(){this.props.dispatchFetchLibraries()}render(){var e=this.props,t=Je()(e,["dispatchFetchLibraries"]);return($Z(JZ,t))}}),aX=a("EhJz"),iX=a("dndX");function rX(e,t,a){if(!t)return null;var i=new Date(t);if(!Object(jw.a)(i))return-1;for(var r,n=i.getTime(),s=0,o=e.length-1;s<=o;){var l=e[r=Math.floor((s+o)/2)],c=e[r+1],d=new Date(l.time).getTime();if(!c)return n>d?r:r+1;if(n===d)return a<r?r:r+1;var u=new Date(c.time).getTime();if(n>d&&n<u)return r+1;n>d?s=r+1:n<d&&(o=r-1)}return Math.max(0,r)}function nX(e){return Object(Tw.a)(e,"MMM dd, yyyy HH:mm:ss.SSS",new Date)}var sX="ui/serverLogPageActions/clearLog",oX="ui/serverLogPageActions/toggleRaw",lX=Object(Pa.a)("ui/serverLogPageActions/changeTextFilter"),cX=Object(Pa.a)("ui/serverLogPageActions/changeTimeFilter"),dX=Object(Pa.a)("ui/serverLogPageActions/clearFilter"),uX=Object(Pa.a)("ui/serverLogPageActions/addLogLine"),pX=Object(Pa.a)("ui/serverLogPageActions/resetLogLevels"),hX=Object(Pa.a)("ui/serverLogPageActions/toggleLogLevel"),mX=Object(Pa.a)(sX),vX=Object(Pa.a)("ui/serverLogPageActions/loadLogfile"),gX=Object(Pa.a)("ui/serverLogPageActions/toggleTimeFilter"),yX=Object(Pa.a)(oX),fX=Object(Pa.a)("ui/serverLogPageActions/highlightLine");function bX(e,t,a){return t.all||(t.all=[]),e.index=t.all.length,MX(e,{filter:a.get("filter"),timeFilterStart:a.get("timeFilterStart"),timeFilterEnd:a.get("timeFilterEnd"),logLevels:a.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function IX(e){return e.get("ui").get("serverLogPage")}function SX(e){return e.split(/\s+/).map(e=>new RegExp(Sd(e),"i"))}function MX(e,t){var a,i,r,{filter:n,timeFilterStart:s,timeFilterStartIndex:o,timeFilterEnd:l,timeFilterEndIndex:c,logLevels:d}=t;if(!(!d.length||-1!==d.indexOf(e.level)))return!1;if((s||null!=o||l||null!=c)&&(null!=o&&null!=c||(a=nX(e.time),null==o&&(i=s&&nX(s)),null==c&&(r=l&&nX(l))),null!=o&&o>e.index||null!=c&&c<e.index||i&&Object(aX.a)(i,a)||r&&Object(iX.a)(r,a)))return!1;return!n||(t.regexps||SX(n)).every(t=>t.test(e.message)||t.test(e.thread))}function CX(e){var t=e.get("filter"),a=e.get("timeFilterStart"),i=e.get("timeFilterEnd"),r=e.get("logLevels"),n=e._unfilteredLogLines,s=rX(n,a,-1/0),o=function(e,t){return rX(e,t,1/0)}(n,i),l=function(e,t){var a=SX(t.filter);return e.filter(e=>MX(e,Object.assign({},t,{regexps:a})))}(n,{logLevels:r,filter:t,timeFilterStart:a,timeFilterStartIndex:-1===s?null:s,timeFilterEndIndex:-1===o?null:o,timeFilterEnd:i});e.set({logLines:l,unfilteredLogLinesCount:n.length,isTimeFilterStartValid:-1!==s,isTimeFilterEndValid:-1!==o})}var DX=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,PX={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function OX(e){if(!e)return null;var t=e.match(DX),[,a,i,r,n]=t;return{time:a.trim(),thread:i.trim(),level:PX[r],message:n.trim()}}var jX=uk({"ui/serverLogPageActions/addLogLine"(e,t){var{message:a}=t,i=IX(e);i._unfilteredLogLines||(i._unfilteredLogLines=[]);var r=i.get("logLines").length!==i._unfilteredLogLines.length,n=r?i.get("logLines"):null,s=r?n.length:null,o=bX(a,{all:i._unfilteredLogLines.slice(0),filtered:n},i);o.filtered&&o.filtered.length!==s&&(o.filtered=o.filtered.slice(0)),i._unfilteredLogLines=o.all,i.set({unfilteredLogLinesCount:o.all.length,logLines:o.filtered||o.all})},"ui/serverLogPageActions/changeTextFilter"(e,t){var a=IX(e),{filter:i}=t;a.set({filter:i}),CX(a)},"ui/serverLogPageActions/changeTimeFilter"(e,t){var a=IX(e),{timeFilterStart:i,timeFilterEnd:r}=t;a.set({showTimeFilter:!(!i&&!r),timeFilterStart:i,timeFilterEnd:r}),CX(a)},"ui/serverLogPageActions/clearFilter"(e){var t=IX(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),CX(t)},"ui/serverLogPageActions/resetLogLevels"(e){var t=IX(e);t.set({logLevels:[]}),CX(t)},"ui/serverLogPageActions/toggleLogLevel"(e,t){var a=IX(e),i=a.get("logLevels"),r=i.slice(0),n=i.indexOf(t.logLevel);-1===n?r.push(t.logLevel):r.splice(n,1),a.set({logLevels:r}),CX(a)},[sX](e){var t=IX(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},"ui/serverLogPageActions/loadLogfile"(e,t){var{result:a}=t,i=IX(e),r={all:[]};i.set({logLines:[],unfilteredLogLinesCount:0});try{a.split(/\n+/).map(OX).forEach(e=>{e&&(r=bX(e,r,i))}),i._unfilteredLogLines=r.all,i.set({unfilteredLogLinesCount:r.all.length,logLines:r.filtered||r.all})}catch(e){}},"ui/serverLogPageActions/toggleTimeFilter"(e){var t=IX(e),a=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!a}),CX(t)},[oX](e){var t=IX(e);t.set("showRawText",!t.get("showRawText"))},"ui/serverLogPageActions/highlightLine"(e,t){IX(e).set("highlightedLineIndex",t.index)}}),TX="available",wX="done",EX="downloaded",NX="downloading",xX="error",AX="installing",LX="none",kX="notify";var RX=function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case"preference":return e.Setting;case"timeline":return e.TimelineEntry;case"status":return e.StatusNotification;case"progress":return e.ProgressNotification;case"playing":return e.PlaySessionStateNotification;case"syncState":return e.SyncStateNotification;case"backgroundGeneratorState":return e.BackgroundGeneratorStateNotification;case"versionState":return e.VersionStateNotification;case"backgroundProcessingQueue":return e.BackgroundProcessingQueueEventNotification;case"transcodeSession.start":case"transcodeSession.update":case"transcodeSession.end":return e.TranscodeSession;case"update.statechange":return e.AutoUpdateNotification;case"reachability":return e.ReachabilityNotification;case"account":return e.AccountUpdateNotification;case"activity":return e.ActivityNotification;case"grabber.device":return e.MediaGrabberDeviceNotification;case"provider.change":return e.MediaProviderNotification;case"provider.content.change":return e.MediaProviderContentNotification;case"log":return e.LogSentNotification;case"provider.subscription.change":return e.MediaProviderSubscriptionNotification;case"clientDecision":return e.ClientDecisionRequestEventNotification}}(e))||[]},zX=Ee.a.extend({mixins:Ne.a,url(){var e=this.server.get("activeConnection");if(e){var t=e.id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{connection:new Ve({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders})}},initialize(e){D.a.bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open(){this.socket&&this.close(),this._deferred=T.a.Deferred();var e=D.a.result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection(){if(this.server.get("connected")){var e=this.server.get("desktop").get("update");e&&e.get("state")===AX&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)}},onOpen(e){var t=ie.c("appStore"),a=this.server.entityID();a&&t.dispatch(Va({serverEntityID:a,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose(e){this.close();var t=ie.c("appStore"),a=this.server.entityID();a&&t.dispatch(Ba({serverEntityID:a,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage(e){var t;try{t=JSON.parse(e.data)}catch(t){return void O.a.warn("[Connections] Error formatting message:\n%s",e.data)}var a=!!t._elementType,i=a?D.a.first(t._children):t.NotificationContainer;if(i){var r=this[a?t.type:i.type];(a?Array.isArray(i)?i:[i]:RX(i,this.getMessageTypes())).forEach(e=>{this.trigger("message",e),D.a.isFunction(r)&&r.call(this,e)})}}}),UX=["log"],VX=zX.extend({name:"MediaServerLogEventConnection",url(){var e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new Ve({uri:e}),appendToken:!0})},getMessageTypes:()=>UX,log(e){Object(ie.c)("appStore").dispatch(uX({message:e,serverEntityID:this.server.entityID()}))}}),BX=Ed.a.createElement;var FX=function(e){var{children:t}=e,a=Je()(e,["children"]);return(BX(fh,tp()({title:Object(Ze.default)("There was an unexpected error"),description:Object(Ze.default)("Please visit our forums if you continue to experience problems")},a),Uu()(Vp,{to:Bp,target:"_self",kind:Dp},void 0,Object(Ze.default)("Go to Forums")),t))},HX=Ed.a.createElement,{Component:_X}=Ed.a;class QX extends _X{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.state.isScrolling||(this._currentScrollTop=e)},this.state={isScrolling:!1},this._positionKey=OO.getKey(e.scrollPositionKey),this._currentScrollTop=0,this._restoreScrollDelay=e.smoothScroll?e.smoothScrollDuration:e.restoreScrollDelay,this._restoreScroll=!1,this._restoreScrollTimeoutID=null}componentDidMount(){this._restoreScrollPosition()}componentDidUpdate(e){var{scrollPositionKey:t}=this.props;e.scrollPositionKey!==t&&(this._positionKey=OO.getKey(t))}componentWillUnmount(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&window.clearTimeout(this._restoreScrollTimeoutID)}_restoreScrollPosition(){var e=OO.get(this._positionKey);e&&(this.setState({isScrolling:!0}),this._currentScrollTop=e.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=window.setTimeout(()=>{this.setState({isScrolling:!1}),this._restoreScroll=!1},this._restoreScrollDelay))}_storeScrollPosition(){OO.set(this._positionKey,{scrollTop:this._currentScrollTop})}render(){var e=this.props,{children:t,className:a}=e,i=Je()(e,["children","className","restoreScrollDelay","scrollPositionKey"]);return(HX(rh,tp()({className:a,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},i),t))}}QX.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};var WX=QX,GX=a("h1VY"),YX=a.n(GX),KX=Ed.a.createElement;var qX=function(e){var{children:t,metricsPage:a,metricsProperties:i,isMetricsDelegated:r}=e,n=Je()(e,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return(KX(ET,tp()({},i,{page:a,isDelegated:r}),KX(WX,tp()({className:YX.a.page},n),t)))},ZX=Ed.a.createElement,{Component:XX}=Ed.a,JX={dispatchChangeBackground:gQ,dispatchResetBackground:fQ,dispatchGarbageCollectEntities:Wi.k},$X=Uu()(FX,{});class eJ extends XX{constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidMount(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})}componentWillUnmount(){var{dispatchResetBackground:e,dispatchGarbageCollectEntities:t}=this.props;e(),t()}componentDidCatch(e){O.a.error(e),this.setState({hasError:!0})}render(){var e=this.props,t=Je()(e,["dispatchChangeBackground","dispatchResetBackground","dispatchGarbageCollectEntities","disableBackgroundPreset","allowBackgroundLightPreset"]),{hasError:a}=this.state;return a?$X:ZX(qX,t)}}eJ.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};var tJ=Object(Fu.b)(null,JX)(eJ),aJ=a("1GD4"),iJ=a.n(aJ),rJ=Ed.a.createElement,{Component:nJ}=Ed.a;class sJ extends nJ{render(){var e=this.props,{children:t,tooltip:a,className:i,tooltipAttachment:r,hideOnPress:n,onPress:s}=e,o=Je()(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),l=iJ.a[r],c=l+" "+iJ.a.hasFocus;return rJ(zb,tp()({className:i,"aria-label":a,component:Vp,tooltip:a,tooltipClassName:l,tooltipFocusedClassName:c,hideOnPress:n,onPress:s},o),t)}}sJ.defaultProps={className:iJ.a.toolbarButton,tooltipAttachment:"bottomCenter"};var oJ=sJ,lJ=a("IV3D"),cJ=a.n(lJ),dJ=Ed.a.createElement;var uJ=function(e){var{children:t}=e,a=Je()(e,["children"]);return(dJ("div",tp()({className:cJ.a.pageHeader},a),t))},pJ=a("MXEh"),hJ=a.n(pJ);function mJ({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}mJ.defaultProps={className:hJ.a.pageHeaderLeft};var vJ=mJ,gJ=a("HR74"),yJ=a.n(gJ);function fJ({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}fJ.defaultProps={className:yJ.a.pageHeaderRight};var bJ=fJ,IJ=a("WGvO"),SJ=a.n(IJ),MJ=Ed.a.createElement,{Component:CJ}=Ed.a;class DJ extends CJ{render(){var e=this.props,{linkClassName:t,buttonClassName:a,children:i,to:r,hasMenu:n,isMenuOpen:s,isSelected:o,isDisabled:l}=e,c=Je()(e,["linkClassName","buttonClassName","children","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return n||r?n?MJ(Cy,tp()({className:a,"data-qa-id":"typeDropdownButton",isSelected:o,isDisabled:l,direction:s?cy:dy},c),i):Uu()(Vp,{className:t,to:r,isDisabled:l},void 0,i):Uu()("span",{className:t},void 0,i)}}DJ.defaultProps={linkClassName:SJ.a.link,buttonClassName:SJ.a.button,hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};var PJ=DJ,OJ=a("iFKP"),jJ=a.n(OJ);var TJ=function(){return Uu()("div",{className:jJ.a.separator})},wJ=[4,3,2,1,0];var EJ=function(e){switch(e){case 0:return Object(Ze.default)("Error");case 1:return Object(Ze.default)("Warning");case 2:return Object(Ze.default)("Info");case 3:return Object(Ze.default)("Debug");case 4:return Object(Ze.default)("Verbose");default:return Object(Ze.default)("Unknown")}},{Component:NJ,Fragment:xJ}=Ed.a,AJ=Uu()(TJ,{});var LJ=class extends NJ{constructor(e,t){super(e,t),this.onMenuPress=()=>{this.setState(e=>({isMenuOpen:!e.isMenuOpen}))},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.onAllPress=()=>{this.props.onResetLogLevels()},this.onLogLevelSelect=e=>{this.props.onToggleLogLevel(e)},this._buttonID=Mp(),this.state={isMenuOpen:!1}}render(){var e,{logLevels:t}=this.props,{isMenuOpen:a}=this.state;return e=t.length?1===t.length?EJ(t[0]):Object(Ze.default)("Custom"):Object(Ze.default)("All"),Uu()(xJ,{},void 0,Uu()(PJ,{id:this._buttonID,hasMenu:!0,isMenuOpen:a,onPress:this.onMenuPress},void 0,e),Uu()(Fg,{target:this._buttonID,isOpen:a,size:wp,onMenuClose:this.onMenuClose},void 0,Uu()(iy,{isSelected:!t.length,onPress:this.onAllPress},"all",Object(Ze.default)("All")),AJ,wJ.map((e,a)=>Uu()(iy,{value:e,isSelected:-1!==t.indexOf(e),onSelect:this.onLogLevelSelect},a,EJ(e)))))}},kJ=Object(_u.a)(e=>e.ui.serverLogPage.logLevels,e=>({logLevels:e}));var RJ=Object(Fu.b)(kJ,(function(e,t){var{serverEntityID:a}=t;return{onResetLogLevels(){e(pX({serverEntityID:a}))},onToggleLogLevel(t){e(hX({serverEntityID:a,logLevel:t}))}}}))(LJ);function zJ(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["g",void 0].concat([Ed.a.createElement.apply(Ed.a,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}zJ.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var UJ=zJ;function VJ(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}VJ.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var BJ=VJ,FJ=a("jy+L"),HJ=a.n(FJ),{Component:_J}=Ed.a;var QJ=class extends _J{static getDerivedStateFromProps(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null}constructor(e,t){super(e,t),this.onTextFilterChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({filter:e},()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTextFilterChange(this.state.filter)},200)})},this.state={filter:e.filter,filterFromStore:e.filter}}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){var{filter:e}=this.state;return(Uu()(LR,{className:HJ.a.input,size:wp,name:"filter",initialValue:e,value:e,placeholder:Object(Ze.default)("Filter logs"),onChange:this.onTextFilterChange}))}},WJ=a("wTIs"),GJ=a.n(WJ),{Component:YJ}=Ed.a;var KJ=class extends YJ{static getDerivedStateFromProps(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null}constructor(e,t){super(e,t),this._flushValues=()=>{this._timeoutID=window.setTimeout(()=>{this._timeoutID=null,this.props.onTimeFilterChange(this.state.timeFilterStart,this.state.timeFilterEnd)},200)},this.onFilterStartChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterStart:e},this._flushValues)},this.onFilterEndChange=e=>{this._clearOnTextFilterChangeTimeout(),this.setState({timeFilterEnd:e},this._flushValues)},this.state={timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}}componentWillUnmount(){this._clearOnTextFilterChangeTimeout()}_clearOnTextFilterChangeTimeout(){this._timeoutID&&window.clearTimeout(this._timeoutID)}render(){var{isTimeFilterStartValid:e,isTimeFilterEndValid:t}=this.props,{timeFilterStart:a,timeFilterEnd:i}=this.state;return Uu()("div",{className:GJ.a.container},void 0,Uu()(LR,{className:GJ.a.input,size:wp,name:"timeFilterStart",hasError:!e,initialValue:a,value:a,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),Uu()("span",{className:GJ.a.separator},void 0,Object(Ze.default)("to")),Uu()(LR,{className:GJ.a.input,size:wp,name:"timeFilterEnd",hasError:!t,initialValue:i,value:i,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))}},qJ=a("Y103"),ZJ=a.n(qJ),{Component:XJ,Fragment:JJ}=Ed.a,$J=Uu()($y,{}),e$=Uu()($y,{}),t$=Uu()(RJ,{}),a$=Uu()(BJ,{}),i$=Uu()(UJ,{});var r$=class extends XJ{render(){var{filter:e,timeFilterStart:t,timeFilterEnd:a,isTimeFilterStartValid:i,isTimeFilterEndValid:r,showTimeFilter:n,showRawText:s,title:o,unfilteredLogLinesCount:l,logLines:c,onTextFilterChange:d,onTimeFilterChange:u,onToggleTimeFilter:p,onToggleRaw:h,onClearLog:m}=this.props,v=l-c.length;return Uu()(JJ,{},void 0,Uu()(uJ,{},void 0,Uu()(vJ,{},void 0,o,$J,Object(Ze.default)("Plex Media Server Logs"),v>0?Uu()("span",{className:ZJ.a.controlsHiddenLinesCount},void 0,e$,Object(Ze.default)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:v})):null),Uu()(bJ,{},void 0,t$,Uu()(QJ,{filter:e,onTextFilterChange:d}),Uu()(oJ,{tooltip:Object(Ze.default)("Time Filter"),isSelected:n,onPress:p},void 0,a$),Uu()(Vp,{className:ZJ.a.rawButton,isSelected:s,onPress:h},void 0,Object(Ze.default)("Raw")),Uu()(oJ,{tooltip:Object(Ze.default)("Clear Logs"),onPress:m},void 0,i$))),n?Uu()(KJ,{timeFilterStart:t,timeFilterEnd:a,isTimeFilterStartValid:i,isTimeFilterEndValid:r,onTimeFilterChange:u}):null)}},n$=Object(_u.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}));var s$=Object(Fu.b)(n$,(function(e,t){var{serverEntityID:a}=t;return{onTextFilterChange(t){Object(wa.a)(()=>{e(lX({serverEntityID:a,filter:t}))})},onTimeFilterChange(t,i){Object(wa.a)(()=>{e(cX({serverEntityID:a,timeFilterStart:t,timeFilterEnd:i}))})},onToggleTimeFilter(){e(gX({serverEntityID:a}))},onToggleRaw(){e(yX())},onClearLog(){e(mX({serverEntityID:a}))}}}))(r$),o$=a("R+Vt"),l$=a.n(o$),c$=Ed.a.createElement,{Component:d$}=Ed.a;class u$ extends d${constructor(e,t){super(e,t),this._requestFrame=()=>{this._clearTimeout(),this._cancelFrame(),this._frameRequestID=window.requestAnimationFrame(this._measure)},this._requestTimeout=()=>{this._clearTimeout(),this._cancelFrame(),this._measureTimeoutID=window.setTimeout(this._requestFrame,this.props.resizeTimeout)},this._measure=()=>{var{ignoreWidth:e,ignoreHeight:t,ignorePosition:a,ignoreTransforms:i}=this.props,{isMeasured:r,width:n,scrollWidth:s,height:o,scrollHeight:l,x:c,y:d}=this.state,u=this._container;if(u){var p=u.getBoundingClientRect(),h=i?u.offsetWidth:p.width,m=i?u.offsetHeight:p.height,v=!0!==r,g=!a&&(p.left!==c||p.top!==d),y=!e&&(h!==n||u.scrollWidth!==s),f=!t&&(m!==o||u.scrollHeight!==l);if(this._reset(),v||g||y||f){var b=window.getComputedStyle(u),I={isMeasured:!0};if(a||(I.x=g?p.left:c,I.y=g?p.top:d),!e){var S=parseInt(b.paddingRight,10)||0,M=parseInt(b.paddingLeft,10)||0;I.width=y?h-M-S:n,I.scrollWidth=y?u.scrollWidth:s}if(!t){var C=parseInt(b.paddingTop,10)||0,D=parseInt(b.paddingBottom,10)||0;I.height=f?m-C-D:o,I.scrollHeight=f?u.scrollHeight:l}this.setState(I),this.props.onMeasure&&this.props.onMeasure(I)}}},this._setContainerRef=e=>{this._container=e;var{onContainerRef:t}=this.props;t&&t(e)},this._setExpandContainerRef=e=>{this._expandContainer=e},this._setShrinkContainerRef=e=>{this._shrinkContainer=e},this.onScroll=e=>{this._requestTimeout()};var{ignoreWidth:a,ignoreHeight:i,ignorePosition:r}=e;this.state={isMeasured:!1,width:a?void 0:0,scrollWidth:a?void 0:0,height:i?void 0:0,scrollHeight:i?void 0:0,x:r?void 0:0,y:r?void 0:0}}componentDidMount(){this._requestFrame()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this._cancelFrame(),this._clearTimeout()}_cancelFrame(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))}_clearTimeout(){this._measureTimeoutID&&(this._measureTimeoutID=window.clearTimeout(this._measureTimeoutID))}_reset(){var e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5}render(){var{id:e,className:t,children:a,style:i,onKeyDown:r,onMeasure:n}=this.props,s="function"!=typeof a;return c$("div",{id:e,className:t,style:i,ref:this._setContainerRef,onKeyDown:r},s?a:a(this.state),c$("div",{className:l$.a.scrollContainer,ref:this._setExpandContainerRef,onScroll:this.onScroll},Uu()("div",{className:l$.a.expandContent})),c$("div",{className:l$.a.scrollContainer,ref:this._setShrinkContainerRef,onScroll:this.onScroll},Uu()("div",{className:l$.a.shrinkContent})))}}u$.defaultProps={className:l$.a.container,ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};var p$=u$;Oc.a.shape({getListStyle:Oc.a.func.isRequired,getPositionForIndex:Oc.a.func.isRequired,getRangesForPosition:Oc.a.func.isRequired,getRelativeIndex:Oc.a.func.isRequired});var{Component:h$}=Ed.a;class m$ extends h${constructor(e,t){super(e,t),this.state=this._getListState(e),this._keyPool=function(e=""){var t=[],a={},i={},r=0;function n(){var a;return t.length?a=t.shift():(a=e+r,r++),a}function s(e){delete a[e]}return{getKeys(e,r,o,l=0,c){D.a.each(a,(a,n)=>{var s=a.item;if(null===s)t.push(n);else{var d=D.a.isString(s)?s:s[c],u=o.indexOf(s)+l;(u<e||u>r)&&(t.push(n),delete i[d])}});for(var d=e;d<=r;d++){var u=o[d-l]||null,p=u&&(D.a.isString(u)?u:u[c]),h=u&&i[p];h||(h=n(),u&&(i[p]=h)),a[h]={index:d,item:u}}return t.forEach(s),t.length=0,D.a.extend({},a)}}}("cell"),this._shouldRequestPage=!1}componentWillMount(){this.props.onListUpdate&&this.props.onListUpdate(this.state)}componentDidMount(){this._checkForPageRequest()}componentWillReceiveProps(e){var t=this._getListState(e);Ep(this.state,t)||this.setState(t)}shouldComponentUpdate(e,t){var a=this.props,i=this.state;return e.items!==a.items||e.size!==a.size||(e.viewportWidth!==a.viewportWidth||e.viewportHeight!==a.viewportHeight||(e.listTop!==a.listTop||e.listLeft!==a.listLeft||(e.isScrolling!==a.isScrolling||(e.skipRenderCells!==a.skipRenderCells||(e.layout!==a.layout||(e.cellRenderer!==a.cellRenderer||(t.visibleStartIndex!==i.visibleStartIndex||(t.visibleEndIndex!==i.visibleEndIndex||(t.partiallyVisibleStartIndex!==i.partiallyVisibleStartIndex||(t.partiallyVisibleEndIndex!==i.partiallyVisibleEndIndex||(t.renderStartIndex!==i.renderStartIndex||(t.renderEndIndex!==i.renderEndIndex||t.moveIndex!==i.moveIndex))))))))))))}componentWillUpdate(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)}componentDidUpdate(){this._checkForPageRequest()}_getListState(e){var t=this._getListStyle(e),a=e.layout.getLandmarks&&e.layout.getLandmarks(),i=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:a,visibleStartIndex:i.visibleStartIndex,visibleEndIndex:i.visibleEndIndex,partiallyVisibleStartIndex:i.partiallyVisibleStartIndex,partiallyVisibleEndIndex:i.partiallyVisibleEndIndex,renderStartIndex:i.renderStartIndex,renderEndIndex:i.renderEndIndex,moveIndex:e.moveIndex}}_getListStyle(e){var{size:t,layout:a,viewportWidth:i,viewportHeight:r,listTop:n,listLeft:s}=e,o={viewportWidth:i,viewportHeight:r,listTop:n,listLeft:s};return a.getListStyle(o,t)}_checkForPageRequest(){var e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))}renderCells(){var{keyPropName:e,items:t,itemsOffset:a,size:i,layout:r,hasNestedList:n,viewportWidth:s,viewportHeight:o,scrollLeft:l,scrollTop:c,cellRenderer:d,isScrolling:u,onPageRequest:p}=this.props,{moveIndex:h,renderStartIndex:m,renderEndIndex:v,partiallyVisibleStartIndex:g,partiallyVisibleEndIndex:y}=this.state;if(!i)return[];var f=i>t.length&&v===t.length-1,b=this._keyPool.getKeys(m,v,t,a,e),I=[];return D.a.each(b,(a,p)=>{var m=a.index,v=a.item,b=m>=g&&m<=y,S=r.getPositionForIndex(m,i,t);(null===v||n)&&(f=!0);var M={key:p,keyPropName:e,isVirtual:!0,isVisible:b,isScrolling:u,moveIndex:h,viewportWidth:s,viewportHeight:o,cellIndex:m,cellX:S.cellX,cellY:S.cellY,cellWidth:S.cellWidth,cellHeight:S.cellHeight};n&&(M.scrollLeft=l,M.scrollTop=c),D.a.isString(v)?M[e]=v:M=Object.assign({},v,M),I.push(d(M))}),this._shouldRequestPage=!!p&&(f&&!u),I}render(){var e=this._getListStyle(this.props),{className:t,isScrolling:a,skipRenderCells:i,children:r}=this.props;return Uu()("div",{className:(t||"")+" "+(a?"isScrolling":""),style:e},void 0,i?null:this.renderCells(),r)}}m$.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};var v$=m$,g$=a("cUsW"),y$=a.n(g$),f$=Ed.a.createElement,{Component:b$}=Ed.a;function I$(e,t){if(t.shouldCenterCell){var a=(t.viewportDimension-t.cellDimension)/2,i=Math.round(e-a);return Math.max(i,0)}return e-(t.offset||0)}class S$ extends b${constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e,scrollLeft:t})=>{this.setState({scrollTop:e,scrollLeft:t})},this.onListUpdate=e=>{var{visibleStartIndex:t}=e,{scrollIndex:a,onListScrollIndexChange:i,onListUpdate:r}=this.props;this._currentScrollIndex=t,this.state.isRestoringScrollPosition&&this.setState({isRestoringScrollPosition:!1}),i&&a!==t&&i(t),r&&r(e)},this.onMeasure=e=>{var t=Math.round(e.width),a=Math.round(e.height),{onMeasure:i}=this.props;this.setState({isMeasured:!0,width:t,height:a}),i&&i(e)},this.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},this._currentScrollIndex=0,e.scrollPositionStorageKey&&(this._scrollPositionKey=OO.getPageKey()+"!scrollPosition!"+e.scrollPositionStorageKey)}componentWillMount(){this.props.scrollIndex||this._restoreScrollPosition()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e,t){var{scrollIndex:a,scrollDirection:i,shouldCenterScrollIndex:r,layout:n}=this.props,{scrollLeft:s,scrollTop:o,width:l,height:c,isMeasured:d}=this.state;if(null!=a&&(a!==this._currentScrollIndex||r)){var u=d&&!t.isMeasured&&a>0,p=d&&a!==e.scrollIndex,h=r!==e.shouldCenterScrollIndex;if(u||p||h){var m=function(e,t,{shouldCenterCell:a,outerPaddingLeft:i,outerPaddingTop:r,scrollerWidth:n,scrollerHeight:s}){return{scrollLeft:"horizontal"===e?I$(t.cellX,{shouldCenterCell:a,offset:i,viewportDimension:n,cellDimension:t.cellWidth}):0,scrollTop:"vertical"===e?I$(t.cellY,{shouldCenterCell:a,offset:r,viewportDimension:s,cellDimension:t.cellHeight}):0}}(i,n.getPositionForIndex(Math.max(a,0)),{shouldCenterCell:r,outerPaddingLeft:n.options.outerPaddingLeft,outerPaddingTop:n.options.outerPaddingTop,scrollerWidth:l,scrollerHeight:c}),v=m.scrollLeft!==s||m.scrollTop!==o;this.setState({scrollLeft:m.scrollLeft,scrollTop:m.scrollTop,isRestoringScrollPosition:u&&v})}}}componentWillUnmount(){this._scrollPositionKey&&OO.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})}_restoreScrollPosition(){if(this._scrollPositionKey){var e=OO.get(this._scrollPositionKey);e&&this.setState(Object.assign({isRestoringScrollPosition:!0},e))}}render(){var e=this.props,{className:t,children:a,scrollerClassName:i,virtualListClassName:r,ignoreWidth:n,ignoreHeight:s,resizeTimeout:o,scrollDirection:l,smoothScroll:c,scrollerStyle:d,forwardedRef:u,onScroll:p}=e,h=Je()(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),{isMeasured:m,isRestoringScrollPosition:v,width:g,height:y,scrollTop:f,scrollLeft:b}=this.state;return Uu()(p$,{className:t,ignoreWidth:n,ignoreHeight:s,ignorePosition:!0,resizeTimeout:o,onMeasure:this.onMeasure},void 0,m?f$(rh,{className:i,smoothScroll:!1!==c&&!v,scrollDirection:l,scrollTop:f,scrollLeft:b,enableChildrenProps:!0,style:d,ref:u,onScroll:p,onScrollPositionChange:this.onScrollPositionChange},f$(v$,tp()({className:r,viewportWidth:g,viewportHeight:y,skipRenderCells:v,onListUpdate:this.onListUpdate},h)),a):null)}}S$.defaultProps={scrollDirection:"vertical",scrollerClassName:y$.a.scroller,shouldCenterScrollIndex:!1};var M$=Ed.a.forwardRef((e,t)=>f$(S$,tp()({},e,{forwardedRef:t}))),C$="vertical";function D$(e={}){var t,a,i,r,n,s,o,l,c,d,{direction:u=C$,rows:p,columns:h,overscan:m=0,innerHorizontalPadding:v=0,innerVerticalPadding:g=0,outerPaddingTop:y=0,outerPaddingRight:f=0,outerPaddingBottom:b=0,outerPaddingLeft:I=0,getCellWidth:S,getCellHeight:M}=e;function C(e){return u===C$?Math.floor(e/s):e%n}function D(e){return u===C$?e%s:Math.floor(e/n)}function P(e,t){var a=C(e);return u===C$?a*s:a}function O(e,t){var a=D(e);return u===C$?a:a*n}return{options:e,getListStyle:function(e,m){var C=[y,f,b,I,m];for(var D in e)C.push(e[D]);var P=C.join(":");if(P===l)return c;t=e.listTop,a=e.listLeft;var O=(e.viewportWidth||0)-f-I,j=(e.viewportHeight||0)-y-b;u===C$?O-=a:j-=t,O=Math.max(0,O),j=Math.max(0,j),i=S({innerViewportWidth:O,innerViewportHeight:j,innerHorizontalPadding:v,innerVerticalPadding:g}),r=M({cellWidth:i,innerViewportWidth:O,innerViewportHeight:j,innerHorizontalPadding:v,innerVerticalPadding:g}),n=Math.max(0,p||Math.floor((j+g)/(r+g))),s=Math.max(0,h||Math.floor((O+v)/(i+v))),o=s*n;var T=0,w=0;return u===C$&&s?(T=s*(i+v)-v,w=Math.ceil(m/s)*(r+g)-g):"horizontal"===u&&n&&(T=Math.ceil(m/n)*(i+v)-v,w=n*(r+g)-g),d={},l=P,c={width:T+f+I,height:w+y+b}},getRelativeIndex:function(e,t,a,i){var r,o,l,c=u===a;if(c&&(u===C$&&1===s||"horizontal"===u&&1===n))return lO(e+t,i);a===C$&&(r=c?s*t:t,o=O(e,i),l=function(e,t){if(u===C$){var a=t-1,i=D(e),r=(C(a)+1)*s-(s-i);return r<t?r:a-t%s-(s-1-i)}return lO(O(e,t)+(n-1),t)}(e,i)),"horizontal"===a&&(r=c?n*t:t,o=P(e,i),l=function(e,t){if(u===C$)return lO(P(e,t)+(s-1),t);var a=t-1,i=C(e),r=(D(a)+1)*n-(n-i);return r<t?r:a-t%n-(n-1-i)}(e,i));var d=e+r;return o||l?Math.max(Math.min(d,l),o):e},getCoordinateDistance:function(e,t){var a=C(e),i=C(t),r=D(e),n=D(t);return Math.sqrt(Math.pow(i-a,2)+Math.pow(n-r,2))},getPositionForIndex:function(e){var n=e;if(d[n])return d[n];var s=D(e),o=C(e),l={column:s,row:o,cellX:s*(i+v)+a+I,cellY:o*(r+g)+t+y,cellWidth:i,cellHeight:r};return d[n]=l,l},getRangesForPosition:function(e,l,c){var d=u===C$?s:n,p=u===C$?(e-t)/(r+g):(l-a)/(i+v),h=o+2*d+m*d*2,y=Math.ceil(p)*d,f=y+o-1,b=Math.floor(p)*d,I=y+o+d-1,S=b-d*m,M=lO(S,c)+h-1;return M>=c&&(S=c-h),{visibleStartIndex:lO(y,c),visibleEndIndex:lO(f,c),partiallyVisibleStartIndex:lO(b,c),partiallyVisibleEndIndex:lO(I,c),renderStartIndex:lO(S,c),renderEndIndex:lO(M,c)}}}}function P$(e=40,t=10,a){return D$(Object.assign({direction:C$,columns:1,overscan:t,getCellWidth:e=>e.innerViewportWidth,getCellHeight:()=>e},a))}var{useEffect:O$,useMemo:j$,useReducer:T$,useRef:w$}=Ed.a;function E$({isVirtual:e,isVisible:t,isScrolling:a}){return e&&!t||a}function N$(e){var t,{cellIndex:a,cellX:i,cellY:r,cellWidth:n,cellHeight:s,style:o,keyPropName:l,moveDurationMilliseconds:c=400,isVirtual:d}=e,u=e[l],p=Gb(u),h=Gb(a),m=!(null==p||null==h||u!==p||e.cellIndex===h),v=T$(e=>e+1,0)[1],g=w$(m),y=g.current||m,f=j$(()=>function({cellX:e,cellY:t,cellWidth:a,cellHeight:i,style:r,isMoving:n,moveDurationMilliseconds:s,isVirtual:o}){return o?Object.assign({position:"absolute",width:a,height:i,transform:"translate3d("+e+"px, "+t+"px, 0)",zIndex:n?1:0,transition:n?"transform "+Dg.a.defaultSpeed:"none",transitionDuration:n?s+"ms":0},r):Object.assign({position:"relative"},r)}({cellX:i,cellY:r,cellWidth:n,cellHeight:s,style:o,moveDurationMilliseconds:c,isMoving:y,isVirtual:d}),[i,r,n,s,o,c,y,d]),b=w$(E$(e)?null:u);return E$(e)?(t=b.current!==u)&&(b.current=null):(t=!1,b.current=u),O$(()=>{var e;return y&&(g.current=!0,e=window.setTimeout(()=>{g.current=!1,v({})},2*c)),()=>{e&&window.clearTimeout(e)}},[c,y,v]),{style:f,isPlaceholder:t}}var x$=a("kJQh"),A$=a.n(x$),{useCallback:L$}=Ed.a;var k$=function(e){var{index:t,level:a,message:i,thread:r,time:n,isHighlighted:s,onLogLinePress:o}=e,l=N$(e),c=L$(e=>{o({index:t,time:n,thread:r,level:a,message:i})},[t,n,r,a,i,o]),d=function(e){return[A$.a.levelError,A$.a.levelWarning,A$.a.levelInfo,A$.a.levelDebug,A$.a.levelVerbose][e]||A$.a.levelUnknown}(a);return Uu()("div",{style:l.style},void 0,Uu()(Vp,{className:(d||"")+" "+(s&&A$.a.isHighlighted||""),tabIndex:t,onPress:c},void 0,Uu()("span",{className:A$.a.fieldTime},void 0,n),Uu()("span",{className:A$.a.fieldThread},void 0,"[",r,"]"),Uu()("span",{className:A$.a.fieldMessage},void 0,i)))};var R$=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.serverLogPage.highlightedLineIndex,(e,{index:t})=>t,(e,t)=>({isHighlighted:e===t}))}))(k$);var z$=function(e,t){var a=e.replace(new RegExp("\\s?"+Sd(t)),"").trim();return a.length?t+" "+a:t},U$=a("OtNE"),V$=a.n(U$),{Component:B$}=Ed.a;function F$(e){return[V$.a.containerError,V$.a.containerWarning,V$.a.containerInfo,V$.a.containerDebug,V$.a.containerVerbose][e]||V$.a.containerUnknown}function H$(e){return[V$.a.levelError,V$.a.levelWarning,V$.a.levelInfo][e]}var _$=Uu()(DI,{});var Q$=class extends B${constructor(e,t){super(e,t),this.onClosePress=e=>{this.props.onClose()},this.onShowContextPress=e=>{this.props.onJumpToContext(Math.max(this.props.index-10,0))},this.onFilterFromPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.time,timeFilterEnd:this.props.timeFilterEnd})},this.onFilterToPress=()=>{this.props.onTimeFilterChange({timeFilterStart:this.props.timeFilterStart,timeFilterEnd:this.props.time})},this.onThreadPress=()=>{this.props.onTextFilterChange({filter:z$(this.props.filter,this.props.thread)})},this.onTimeMenuPress=()=>{this.setState({isTimeMenuOpen:!this.state.isTimeMenuOpen})},this.onTimeMenuClose=()=>{this.setState({isTimeMenuOpen:!1})},this.onKeyDown=e=>{27===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.props.onClose())},this._timeMenuButtonID=Mp(),this.state={isTimeMenuOpen:!1}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){var{level:e,time:t,thread:a,message:i}=this.props,{isTimeMenuOpen:r}=this.state;return Uu()(rh,{className:F$(e),autoScroll:!0},void 0,Uu()(Vp,{className:V$.a.closeButton,"aria-label":Object(Ze.default)("Close"),onPress:this.onClosePress},void 0,_$),Uu()("p",{},void 0,Uu()("span",{className:V$.a.label},void 0,Object(Ze.default)("Time")),Uu()(Vp,{kind:Dp,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},void 0,t,Uu()(my,{kind:Dp,direction:r?cy:dy})),Uu()(Fg,{size:wp,isOpen:r,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},void 0,Uu()(Gg,{onPress:this.onFilterFromPress},void 0,Object(Ze.default)("Filter from this time")),Uu()(Gg,{onPress:this.onFilterToPress},void 0,Object(Ze.default)("Filter to this time")))),Uu()("p",{},void 0,Uu()("span",{className:V$.a.label},void 0,Object(Ze.default)("Level")),Uu()("span",{className:H$(e)},void 0,EJ(e))),Uu()("p",{},void 0,Uu()("span",{className:V$.a.label},void 0,Object(Ze.default)("Thread")),Uu()(Vp,{kind:Dp,onPress:this.onThreadPress},void 0,a)),Uu()("p",{},void 0,Uu()("span",{className:V$.a.label},void 0,Object(Ze.default)("Message")),i),Uu()("div",{className:V$.a.action},void 0,Uu()(rT,{onPress:this.onShowContextPress},void 0,Object(Ze.default)("Clear Filters and Jump to Context"))))}},{Component:W$}=Ed.a;var G$=class extends W${shouldComponentUpdate(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels}render(){var{className:e,lines:t}=this.props;return(Uu()(rh,{className:e},void 0,Uu()("pre",{},void 0,t.reduce((e,t)=>e+=t.time+" ["+t.thread+"] "+EJ(t.level)+"  "+t.message+"\n",""))))}},Y$=a("6Nac"),K$=a.n(Y$),q$=Ed.a.createElement,{Component:Z$,Fragment:X$}=Ed.a,J$=P$(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function $$(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}var e0=class extends Z${static getDerivedStateFromProps(e,t){return null==t.scrollIndexAfterFilterChange||$$(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}}constructor(e,t){super(e,t),this.onScroll=()=>{var e=this._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?this.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<this._lastScrollTop&&this.setState({isSticky:!1}),this._lastScrollTop=e.scrollTop},this.onJumpToContext=e=>{$$(this.props)?this.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},()=>{this.props.onClearFilter()}):this.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},this.onTextFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTextFilterChange(...e)},this.onTimeFilterChange=(...e)=>{this.setState({scrollIndex:0,selectedLogLine:null}),this.props.onTimeFilterChange(...e)},this.onLogLinePress=e=>{this.setState({selectedLogLine:e}),this.props.onHighlightLine(e)},this.onModalClose=e=>{this.setState({selectedLogLine:null})},this.onJumpToLatestPress=()=>{this.setState({isSticky:!0})},this.renderLogLine=e=>q$(R$,tp()({},e,{onLogLinePress:this.onLogLinePress})),this.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},this._scrollerRef=Ed.a.createRef()}render(){var{filter:e,timeFilterStart:t,timeFilterEnd:a,logLevels:i,showRawText:r,logLines:n}=this.props,{isSticky:s,scrollIndex:o,selectedLogLine:l}=this.state,c=!!l,d=c||r;return Uu()(X$,{},void 0,r?Uu()(G$,{className:K$.a.rawTextScroller,filter:e,logLevels:i,lines:n}):null,q$(M$,{className:d?K$.a.hiddenPageContent:K$.a.pageContent,scrollerClassName:K$.a.pageContentScroller,smoothScroll:!1,keyPropName:"index",items:n,size:n.length,layout:J$,cellRenderer:this.renderLogLine,scrollIndex:s?n.length-1:o,ref:this._scrollerRef,onScroll:this.onScroll}),Uu()(Vp,{className:s?K$.a.jumpLinkHidden:K$.a.jumpLinkVisible,onPress:this.onJumpToLatestPress},void 0,Object(Ze.default)("Jump to latest")),c?q$(Q$,tp()({},l,{filter:e,timeFilterStart:t,timeFilterEnd:a,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose})):null)}},t0=Object(_u.a)(e=>e.ui.serverLogPage,e=>({filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}));var a0=Object(Fu.b)(t0,(function(e,t){var{serverEntityID:a}=t;return{onTextFilterChange(...t){e(lX(...t))},onTimeFilterChange(...t){e(cX(...t))},onHighlightLine(t){e(fX(t))},onClearFilter(){e(dX({serverEntityID:a}))}}}))(e0),i0=a("S686"),r0=a.n(i0),{Component:n0}=Ed.a;function s0(e){var t=e.dataTransfer.items,a=t[0];return""!==a.type||"file"!==a.kind?2:t.length>1?1:void 0}var o0=Uu()(a0,{}),l0=Uu()(Xh,{});var c0=class extends n0{constructor(e,t){super(e,t),this.onDragOver=e=>{this.setState({isDraggingFile:!0,fileDragError:s0(e)}),e.preventDefault()},this.onDragLeave=()=>{this.setState({isDraggingFile:!1,fileDragError:null})},this.onDrop=e=>{if(e.preventDefault(),s0(e))this.setState({isDraggingFile:!1,fileDragError:null});else{this.setState({isDroppingFile:!0});var t=e.dataTransfer.files[0],a=new window.FileReader;a.onload=()=>{this.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),this.props.onDrop({result:a.result})},a.readAsText(t)}},this.state={title:e.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null}}render(){var{metricsPage:e,metricsPane:t}=this.props,{title:a,isDraggingFile:i,isDroppingFile:r,fileDragError:n}=this.state,s=i&&!r&&(1===n&&Object(Ze.default)("Only one file at a time")||2===n&&Object(Ze.default)("Only log files are allowed")||Object(Ze.default)("Load log file"));return Uu()(tJ,{metricsPage:e,metricsProperties:{pane:t},scrollDirection:Jp,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},void 0,Uu()(s$,{title:a}),o0,i?Uu()("div",{className:r0.a.dropFileOverlay},void 0,n?Uu()(UJ,{className:r0.a.icon}):null,s,r?l0:null):null)}},d0=Ed.a.createElement,{Component:u0}=Ed.a;var p0={dispatchClearLog:mX,dispatchLoadLogFile:vX};var h0=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({title:e.friendlyName}))}),p0)(class extends u0{constructor(e,t){super(e,t),this.onDrop=(...e)=>{this._stopServerEventManager(),this.props.dispatchLoadLogFile(...e)};var a=Object(ie.c)("appModel");this._serverEventManager=new Qe({name:"MediaServerLogEventManager",appModel:a,isValidServer:t=>t.entityID()===e.serverEntityID,supportsLongPolling:!1,ServerEventConnection:VX,ServerRetryManager:wu})}componentDidMount(){this.props.dispatchClearLog(),this._serverEventManager.start(),Object(ie.c)("appModel").get("servers").forEach(e=>{var t=e.get("isResolved");t&&this._serverEventManager.onServerResolvedChange(e,t)})}componentWillUnmount(){this._stopServerEventManager()}_stopServerEventManager(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)}render(){return d0(c0,tp()({onDrop:this.onDrop},this.props))}});function m0(e){return Object(_u.a)(RS(),t=>{if(!t||!t.activeConnection)return null;var a=t.activeConnection.uri,i=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return _.join([a,e],i)})}var v0=a("fhkX"),g0=a.n(v0),{Component:y0}=Ed.a,f0=Uu()(ey,{}),b0=Uu()(DI,{}),I0=Uu()(ey,{}),S0=Uu()(DI,{});var M0=class extends y0{static getDerivedStateFromProps(e,t){var a=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,i=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!a&&!i)return null;var r={};return a&&(r.isCleanBundlesInProgress=e.isCleanBundlesInProgress,r.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),i&&(r.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,r.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),r}constructor(e,t){super(e,t),this.state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1}}render(){var{machineIdentifier:e,downloadDatabasesUrl:t,downloadLogsUrl:a,cleanBundlesError:i,optimizeDatabaseError:r,isCleanBundlesInProgress:n,isOptimizeDatabaseInProgress:s,showDownloadDatabases:o,showDownloadLogs:l,onCleanBundlesPress:c,onOptimizeDatabasePress:d}=this.props,{isCleanBundlesComplete:u,isOptimizeDatabaseComplete:p}=this.state;return Uu()("div",{},void 0,Uu()("div",{className:g0.a.troubleshootingSection},void 0,Uu()("div",{className:g0.a.buttonContainer},void 0,Uu()(gU,{className:g0.a.button,isSpinning:s,onPress:d},void 0,Object(Ze.default)("Optimize Database")),p&&!r?Uu()("div",{className:g0.a.buttonStatusSuccess},void 0,f0,Uu()("div",{className:g0.a.textStatus},void 0,Object(Ze.default)("Optimize database complete"))):null,p&&r?Uu()("div",{className:g0.a.buttonStatusError},void 0,b0,Uu()("div",{className:g0.a.textStatus},void 0,r)):null),Uu()("div",{className:g0.a.description},void 0,Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),Uu()("div",{className:g0.a.troubleshootingSection},void 0,Uu()("div",{className:g0.a.buttonContainer},void 0,Uu()(gU,{className:g0.a.button,isSpinning:n,onPress:c},void 0,Object(Ze.default)("Clean Bundles")),u&&!i?Uu()("div",{className:g0.a.buttonStatusSuccess},void 0,I0,Uu()("div",{},void 0,Object(Ze.default)("Bundles cleaned"))):null,u&&i?Uu()("div",{className:g0.a.buttonStatusError},void 0,S0,Uu()("div",{},void 0,i)):null),Uu()("div",{className:g0.a.description},void 0,Uu()(oT,{className:g0.a.description,message:Object(Ze.default)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles arent immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:Vp,kind:Dp,to:si(e,"settings","butler")}]}))),l||o?Uu()("div",{className:g0.a.troubleshootingSection},void 0,Uu()("div",{className:g0.a.buttonContainer},void 0,l?Uu()(rT,{className:g0.a.button,to:a,target:"_self"},void 0,Object(Ze.default)("Download Logs")):null,o?Uu()(rT,{className:g0.a.button,to:t,target:"_self"},void 0,Object(Ze.default)("Download Database")):null),Uu()("div",{className:g0.a.description},void 0,Object(Ze.default)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,Uu()("div",{className:g0.a.description},void 0,Uu()(oT,{className:g0.a.description,message:Object(Ze.default)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:Vp,kind:Dp,to:_p,target:"_blank"}]})))}},C0=Ed.a.createElement,{Component:D0}=Ed.a;var P0={dispatchCleanBundles:gG,dispatchOptimizeDatabase:vG};var O0=Object(Fu.b)((function(){return Object(_u.a)(RS(),m0("/diagnostics/databases"),m0("/diagnostics/logs"),wG(),TG(),(e,t,a,i,r)=>{var n=e.diagnostics;return{machineIdentifier:e.machineIdentifier,downloadDatabasesUrl:t,downloadLogsUrl:a,cleanBundlesError:e.desktop.cleanBundlesError,optimizeDatabaseError:e.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!i,isOptimizeDatabaseInProgress:!!r,showDownloadDatabases:!(!t||!n||-1===n.indexOf("databases")),showDownloadLogs:!(!a||!n||-1===n.indexOf("logs"))}})}),P0)(class extends D0{constructor(...e){super(...e),this.onCleanBundlesPress=()=>{this.props.dispatchCleanBundles({serverEntityID:this.props.serverEntityID,hideAlerts:!0})},this.onOptimizeDatabasePress=()=>{this.props.dispatchOptimizeDatabase({serverEntityID:this.props.serverEntityID,hideAlerts:!0})}}render(){var e=this.props,t=Je()(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]);return(C0(M0,tp()({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},t)))}});function j0(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}j0.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var T0=j0,w0=Uu()(T0,{});var E0=function(e){var{isActive:t}=e;return t?w0:null};function N0(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}N0.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var x0=N0,A0=a("DDT0"),L0=a.n(A0),k0={connecting:Uu()(x0,{className:L0.a.unknown}),disconnecting:Uu()(x0,{className:L0.a.unknown}),unreachable:Uu()(GM,{className:L0.a.error}),ok:Uu()(ey,{className:L0.a.ok})};function R0(e){var{remoteAccessState:t}=e;return k0[t]||null}R0.propTypes={remoteAccessState:Oc.a.string};var z0=R0,U0=a("vd0/"),V0=a.n(U0);var B0=function(e){var{isClaimed:t}=e;return t?null:Uu()(mh,{className:V0.a.icon})};function F0(e){return!e.isShared}function H0(e){return!!e.desktop.isSettingsPopulated}function _0(e,t){return t>0}function Q0(e){return e.desktop.backgroundTranscodeJobs.length>0}function W0(e){var t=e.desktop.cloudAccount;return t&&t.remoteAccessState}var G0=[{key:"status",title:()=>Object(Ze.default)("Status"),isVisible:!0,metricsPage:Rd.sb,metricsPanePrefix:"",groups:[{key:"server-dashboard",title:()=>Object(Ze.default)("Dashboard"),isVisible:F0,createStatusIndicator:(e,t)=>Uu()(E0,{isActive:_0(0,t)})},{key:"alerts",title:()=>Object(Ze.default)("Alerts"),isVisible:F0},{key:"sync",title:()=>Object(Ze.default)("Sync"),isVisible:!0},{key:"conversion",title:()=>Object(Ze.default)("Conversions"),isVisible:F0,createStatusIndicator:e=>Uu()(E0,{isActive:Q0(e)})}]},{key:"settings",title:()=>Object(Ze.default)("Settings"),isVisible:F0,metricsPage:Rd.kb,metricsPanePrefix:"server:",groups:[{key:"general",title:()=>Object(Ze.default)("General"),isVisible:H0,createStatusIndicator:e=>Uu()(B0,{isClaimed:!!e.isClaimed})},{key:"remoteAccess",title:()=>Object(Ze.default)("Remote Access"),isVisible:e=>H0(e),createStatusIndicator:e=>Uu()(z0,{remoteAccessState:W0(e)})},{key:"agents",title:()=>Object(Ze.default)("Agents"),isVisible:H0},{key:"library",title:()=>Object(Ze.default)("Library")},{key:"channels",title:()=>Object(Ze.default)("Plugins"),isVisible:H0},{key:"network",title:()=>Object(Ze.default)("Network")},{key:"transcoder",title:()=>Object(Ze.default)("Transcoder")},{key:"languages",title:()=>Object(Ze.default)("Languages"),isVisible:H0},{key:"dlna",title:()=>Object(Ze.default)("DLNA")},{key:"butler",title:()=>Object(Ze.default)("Scheduled Tasks")},{key:"extras",title:()=>Object(Ze.default)("Extras")}]},{key:"manage",title:()=>Object(Ze.default)("Manage"),isVisible:!0,groups:[{key:"libraries",title:()=>Object(Ze.default)("Libraries"),isVisible:F0,metricsPage:Rd.kb,metricsPane:"server:libraries",paneComponent:tX},{key:"versions",title:()=>Object(Ze.default)("Optimized Versions"),isVisible:e=>F0(e)&&H0(e),metricsPage:Rd.sb,metricsPane:"versions"},{key:"dvr",title:()=>Object(Ze.default)("Live TV & DVR"),isVisible:e=>F0(e)&&e.livetv>=1&&H0(e),metricsPage:Rd.kb,metricsPane:"server:dvr",paneComponent:pQ},{key:"help",title:()=>Object(Ze.default)("Troubleshooting"),isVisible:e=>F0(e)&&H0(e),metricsPage:Rd.kb,metricsPane:"server:help",paneComponent:O0},{key:"console",title:()=>Object(Ze.default)("Console"),isVisible:(e,t)=>F0(e)&&function(e,t){var a=e.diagnostics;return!(!a||-1===a.indexOf("streaminglogs"))}(e),metricsPage:Rd.kb,metricsPane:"server:console",pageComponent:h0},{key:"plugins",title:()=>Object(Ze.default)("Plugins"),isVisible:function(e){return e.allowChannelAccess},metricsPage:Rd.kb,metricsPane:"server:plugins",paneComponent:LQ}]}];function Y0(){return Object(_u.a)(Object(_u.a)(RS(),e=>e?e.desktop.settings:[]),e=>e.reduce((e,t)=>(!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e),[]))}function K0(e,t,a){return!0===e||D.a.isFunction(e)&&e(t,a)}function q0(){return Object(_u.a)(RS(),$j(),qu.a,Y0(),(e,t,a,i)=>!e||e.isUnavailable?[]:G0.reduce((r,n)=>{if(!K0(n.isVisible,e,a))return r;var s=n.groups.reduce((r,s)=>((K0(s.isVisible,e,a)||!1!==s.isVisible&&i.includes(s.key))&&r.push({key:s.key,title:s.title(),statusIndicator:s.createStatusIndicator&&s.createStatusIndicator(e,t),pageComponent:s.pageComponent,paneComponent:s.paneComponent,route:si(e.machineIdentifier,n.key,s.key)}),r),[]);return s.length>0&&r.push({key:n.key,title:n.title(),groups:s}),r},[]))}function Z0(e,t){var a=D.a.findWhere(G0,{key:e}),i=D.a.findWhere(a.groups,{key:t});return i.metricsPage?{metricsPage:i.metricsPage,metricsPane:i.metricsPane}:{metricsPage:a.metricsPage,metricsPane:a.metricsPanePrefix+i.key}}function X0(e,t){var{download:a,initialState:i,isChecking:r=!0}=t,n={download:a?"1":"0"},s=_.join("/updater/check",n),o=e.getXHROptions(s,{type:"PUT"}),l=e.get("desktop").get("update"),c={isChecking:r};null!=i&&(c.state=i),l.set(c),T.a.ajax(o).then(null,()=>{l.set({isChecking:!1,state:xX})})}function J0(e,t){var a=_.join(["/updater/apply"],t),i=e.getXHROptions(a,{type:"PUT"});return T.a.ajax(i)}function $0(e){var t=e.get("desktop").get("update");J0(e).then(()=>{t.set("state",AX),e.set("isInstallingServerUpdate",!0)},()=>{t.set("state",xX),e.set("isInstallingServerUpdate",!1)})}function e1(e,t,a,i){var r=e.get("deviceSettings").get("dismissedServerUpdateVersions");t(Object(Wi.q)({dismissedServerUpdateVersions:Object.assign({},r,{[a.get("machineIdentifier")]:i})}))}var t1=Object(Pa.a)("serverUpdate/fetchServerUpdateStatus"),a1=Object(Pa.a)("serverUpdate/checkForServerUpdate"),i1=Object(Pa.a)("serverUpdate/dismissServerUpdate"),r1=Object(Pa.a)("serverUpdate/downloadServerUpdate"),n1=Object(Pa.a)("serverUpdate/installServerUpdate"),s1={"serverUpdate/fetchServerUpdateStatus"(e,t){var a=Object(Ta.m)(e,t),i=Object(Ta.l)(e,t).get("update");a.get("isFullOwnedServer")&&a.get("updater")&&!a.get("isOutOfDate")&&!i.get("isChecking")&&(i.set({isChecking:!0}),i.fetch().then(()=>{var e=i.get("state");X0(a,{isChecking:e===wX||e===xX||e===LX})},()=>{i.set({isChecking:!1})}))},"serverUpdate/checkForServerUpdate"(e,t){var{download:a,initialState:i}=t;X0(Object(Ta.m)(e,t),{download:a,initialState:i})},"serverUpdate/dismissServerUpdate"(e,t,a){var i=Object(Ta.m)(e,t);Object(Ta.l)(e,t).get("update").get("canInstall")?J0(i,{skip:1}).then(()=>{a(t1(t))},()=>{e1(e,a,i,t.version)}):e1(e,a,i,t.version)},"serverUpdate/downloadServerUpdate"(e,t){X0(Object(Ta.m)(e,t),{download:!0,initialState:NX})},"serverUpdate/installServerUpdate"(e,t){var a=Object(Ta.m)(e,t);if(a.get("activeConnection").get("isLoopback"))$0(a);else{var i=new mi({title:Object(Ze.default)("Remote Installation"),confirmLabel:Object(Ze.default)("Continue"),cancelLabel:Object(Ze.default)("Cancel"),message:Object(Ze.default)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing.")});H.a.trigger("show:modal",i),i.promise.then(()=>$0(a))}}},o1=a("6ek3"),l1=a.n(o1),c1=B.ItemView.extend({tagName:"li",template:l1.a,bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),d1=ym.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:c1}),u1=a("wIEn"),p1=a.n(u1),h1=ni.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:p1.a,regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.icon.show(new Bm({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}}),m1=a("08Kf"),v1=a.n(m1),g1=B.ItemView.extend({tagName:"li",className:"card card-sortable",template:v1.a,events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new nm.a([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(D.a.bind((function(){H.a.trigger("show:modal",new CQ({model:this.model,collection:t}))}),this))},onInfoClick:function(e){e.preventDefault(),H.a.trigger("show:modal",new h1({model:this.model}))}}),y1=ym.extend({tagName:"ul",className:"list contributor-list",itemView:g1,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each((function(t){e.push(this.name)})),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new Tm.a(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}}),f1=a("+E9k"),b1=a.n(f1),I1=B.Layout.extend({template:b1.a,ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push(Object(Wt.u)(Wt.j)),this.agentTypes.push(Object(Wt.u)(Wt.o)),this.agentTypes.push(Object(Wt.u)(Wt.b)),this.agentTypes.push(Object(Wt.u)(Wt.a)),this.agentTypes.push(Object(Wt.u)(Wt.k)),this.currentType=D.a.first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=new cW([],{server:this.model,mediaTypeID:this.currentType.id});e.populate({reset:!0}).then(()=>{var t=e.filter(e=>e.get("identifier")!==tn.f&&e.get("identifier")!==tn.e);this.agents=e.clone(t),this.onAgentsReset()})},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new cW([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new cW([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new y1({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[this.additionalAgents.populate({reset:!0}),this.contributors.populate({reset:!0})];T.a.when.apply(T.a,e).done(D.a.bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new d1({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=D.a.bind((function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)}),this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.data("type");this.currentType=Object(Wt.u)(a),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=T()(e.target).data("identifier"),a=this.agents.get(t);a&&this.selectAgent(a)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(D.a.bind((function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})}),this))}}),S1=a("NQww"),M1=a.n(S1),C1=B.Layout.extend({className:"form-group",template:M1.a,isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return D.a.where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var a=this.collection.get(e);if(a)return a.set("value",t)},onRender:function(){D.a.isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,a=t.name,i=t.value,r=t.value;a&&("checkbox"===t.type&&((r=t.checked)||(i="0")),this.updateModel(a,r)&&(this.changes[t.name]=i,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text(Object(Ze.default)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text(Object(Ze.default)("Your changes could not be saved.")))}}),D1=C1.extend({prefix:"channel.",serializeData:function(){var e=C1.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return D.a.each(t,(function(e){e.id=this.prefix+e.id}),this),e.unshift.apply(e,t),e},updateModel:function(e,t){var a=C1.prototype.updateModel.apply(this,arguments);if(a)return a;var i=e.replace(this.prefix,""),r=this.options.channelSettings.get(i);return r?r.set("value",t):void 0}});var P1=function(){return Object(_u.a)(RS(),e=>e?e.desktop.cloudAccount:null)};var O1=function(){return Object(_u.a)(RS(),P1(),(e,t)=>!!(e&&e.isClaimed&&t&&t.signedIn))};var j1=function(e){return e.ui.authCodeExchange};var T1=function(e){var t=e&&e.responseJSON,a=!t&&e&&e.responseText&&Se.a.parseXML(e.responseText),i=t&&t.errors||a&&a.error;return i?Array.isArray(i)?i:[i]:[]},w1="subscription";function E1(e,t){switch(t){case w1:switch(e){case"1003":return Object(Ze.default)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}}switch(e){case"1001":return Object(Ze.default)("The username or password is incorrect");case"1003":return Object(Ze.default)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1010-login":return Object(Ze.default)("Login is required");case"1010-password":return Object(Ze.default)("Password is required");case"1010-email":return Object(Ze.default)("Email is required");case"1011-username":return Object(Ze.default)("Username has already been taken");case"1011-email":return Object(Ze.default)("Email has already been taken");case"1028":return Object(Ze.default)("Invalid verification code");case"1029":return Object(Ze.default)("Please enter the verification code");case"1030":return Object(Ze.default)("This account only allows signing in with an email address");case"1031":return Object(Ze.default)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return Object(Ze.default)("Password must be at least 8 characters");case"1033-password":return Object(Ze.default)("Password is too weak");case"1034-password":return Object(Ze.default)("Password must be different from username or email address");case"1035-email":return Object(Ze.default)("Email is not a valid email address");case"1036-username":return Object(Ze.default)("Username must not be an email address");case"1037-username":return Object(Ze.default)("Username contains invalid characters");case"1038-pin":return Object(Ze.default)("Pin must be 4 digits");case"1039-passwordConfirmation":return Object(Ze.default)("Confirm Password must match Password");case"1040":case"1044":return Object(Ze.default)("Invalid Password")}}function N1(e,t){if(e){var a=String(e.code);return E1(e.code+"-"+e.field,t)||E1(a,t)||e.message||Object(Ze.default)("An unknown error occurred")}}function x1(e){var t=e&&e[0];return t?D.a.isObject(t)?N1(t):t:Object(Ze.default)("There was a problem signing in to Plex.")}var A1=function(e,t){var a=T.a.Deferred(),i=window.setTimeout(()=>{a.reject()},t);return e.then(a.resolve,a.reject).always(()=>{window.clearTimeout(i)}),a.promise()};function L1(e){return!!e.get("shortVersion")&&Qa(e.get("shortVersion"),Ka.mediaProvidersServerRoot)}function k1(e,t){var a=e.get("cloudServer").get("resources"),i={clientIdentifier:t.get("machineIdentifier")};return function(e,t={}){var a=Math.floor(Math.max(t.times||0,0)),i=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always(()=>{a=-1});var r,n=T.a.Deferred();return t.maxDuration&&(r=window.setTimeout(()=>{n.reject("maxDuration")},t.maxDuration)),function t(){a<0||e().done((function(){r&&window.clearTimeout(r),n.resolve(...arguments)})).fail((function(){(a-=1)<0?(r&&window.clearTimeout(r),n.reject(...arguments)):"pending"===n.state()&&window.setTimeout(t,i)}))}(),n.promise()}(()=>a.fetch().then(()=>a.findWhere(i)?T.a.Deferred().resolve().promise():T.a.Deferred().reject().promise()),{times:30,delay:1e3})}var R1=function(e,t,a,i){var r=e.get("user"),n=e.get("cloudServer");return r.get("anonymous")?T.a.Deferred().reject().promise():T.a.ajax(n.getXHROptions("/api/claim/token",{headers:{"X-Plex-Token":a}})).promise().then(e=>Se.a.parseXML(e).token).then(e=>T.a.ajax(t.getXHROptions(_.join("/myplex/claim",{token:e}),{type:"POST"}))).then(()=>k1(e,t)).then(()=>{var e;return L1(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)}).then(()=>function(e,t,a){var i=T.a.Deferred();return e.get("primaryServer")===t?i.resolve():(e.once("change:primaryServer",i.resolve),a()),A1(i.promise(),2e3)}(e,t,i)).then(()=>{var e=r.get("email"),a=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:"ok",myPlexUsername:e}),a.set({signedIn:!0,username:e})})};var z1=function(e){return e.destroy({timeout:0}).promise().done(()=>{e.server.set({accessToken:void 0,myPlexSigninState:"none",myPlexSubscription:!1}),e.restoreDefaults()})};var U1=function(e){var t=e.get("cloudServer");return T.a.ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then(e=>e)},V1=Object(Pa.a)("server/claim/claimServer"),B1=Object(Pa.a)("server/claim/signInThenClaimServer"),F1=Object(Pa.a)("server/claim/signOutServer"),H1=Object(Pa.a)("server/claim/createPIN");function _1(e,t,a){var{authToken:i}=t,r=Object(Ta.m)(e,t),n=Cd(e);n.set({errorMessage:null,isBusy:!0});var s=Object(ie.c)("metrics");return R1(e,r,i,()=>{a(Object(Wi.i)({machineIdentifier:r.id,metricsProperties:{context:_t.SETTINGS}}))}).done(()=>{s.trackEvent({event:"client:claimServer",interaction:!0})}).fail(()=>{s.trackEvent({event:"client:claimServerFailure",interaction:!1}),n.set({errorMessage:Object(Ze.default)("There was a problem claiming this server."),isBusy:!1})})}var Q1={"server/claim/claimServer"(e,t,a){_1(e,t,a).then(()=>{Cd(e).set({errorMessage:null,isBusy:!1})})},"server/claim/signInThenClaimServer"(e,t,a){(function(e,t){var a=e.get("user"),{authToken:i}=t;return T.a.ajax(a.server.getXHROptions(D.a.result(a,"url"),{headers:{"X-Plex-Token":i}})).then(e=>a.signIn(e,{}))})(e,t).then(()=>_1(e,t,a)).then(()=>{Cd(e).set({errorMessage:null,isBusy:!1})}).fail(t=>{var a=T1(t);H.a.trigger("show:alert",{message:x1(a)}),Cd(e).set({errorMessage:Object(Ze.default)("There was a problem claiming this server."),isBusy:!1})})},"server/claim/signOutServer"(e,t,a){var i=Object(Ta.m)(e,t).get("desktop").get("cloudAccount"),r=Cd(e);r.set({errorMessage:null,isBusy:!0}),z1(i).done(()=>{r.set({errorMessage:null,isBusy:!1})}).fail(()=>{r.set({errorMessage:Object(Ze.default)("There was a problem signing the server out."),isBusy:!1})})},"server/claim/createPIN"(e,t,a){var i=U1(e),r=Cd(e);i.then(e=>{r.set({pinID:e.id,code:e.code,isBusy:!0})}),i.fail(()=>{r.set({fatalErrorMessage:Object(Ze.default)("An error occurred"),isBusy:!1})})}},W1=a("AKFi"),G1=a.n(W1);var Y1=function(e){var{serverEntityID:t,avatarUrl:a}=e;return(Uu()("div",{className:G1.a.avatar},void 0,a?null:Uu()(mh,{className:G1.a.icon}),Uu()(JS,{serverEntityID:t,url:a,width:60,height:60})))},K1=Object(_u.a)(qu.a,e=>({avatarUrl:e.isSignedIn?e.thumb:null})),q1=Object(Fu.b)(K1)(Y1),Z1=a("z9Hc"),X1=a.n(Z1);var J1=function(e){var{isSigningOut:t,username:a,serverEntityID:i,onSignOutPress:r}=e;return(Uu()("div",{className:X1.a.container},void 0,Uu()(q1,{serverEntityID:i}),Uu()("div",{className:X1.a.message},void 0,Uu()("div",{className:X1.a.messageHeader},void 0,Object(Ze.default)("Server signed in as")),Uu()("div",{className:X1.a.messageDetails},void 0,a)),Uu()(bU,{className:X1.a.button,kind:Cp,size:Tp,isSpinning:t,onPress:r},void 0,Object(Ze.default)("Sign Out"))))},$1=Ed.a.createElement,{Component:e2}=Ed.a;var t2=Object(_u.a)(j1,e=>e.isBusy);var a2={dispatchSignOutServer:F1};var i2=Object(Fu.b)((function(){return Object(_u.a)(t2,Object(_u.a)(P1(),e=>e&&e.username||null),(e,t)=>({isSigningOut:e,username:t}))}),a2)(class extends e2{constructor(...e){super(...e),this.onSignOutPress=e=>{this.props.dispatchSignOutServer({serverEntityID:this.props.serverEntityID})}}render(){var e=this.props,t=Je()(e,["dispatchSignOutServer"]);return($1(J1,tp()({},t,{onSignOutPress:this.onSignOutPress})))}});var r2=function(){return window!==window.top};var n2=function(){return r2()},s2=a("aIE1"),o2=a.n(s2),l2=Ed.a.createElement;var c2=function(e){return l2(bU,tp()({className:o2.a.button,kind:Cp,size:Tp,target:"_blank"},e),Object(Ze.default)("Claim Server"))},{Component:d2}=Ed.a,u2=Object(_u.a)(mv("authToken"),e=>({authToken:e})),p2={dispatchClaimServer:V1};var h2=Object(Fu.b)(u2,p2)(class extends d2{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}}render(){var{isBusy:e,isDisabled:t}=this.props;return(Uu()(c2,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress}))}});var m2=function(e,t){var a=e.get("cloudServer");return T.a.ajax(a.getXHROptions("/api/v2/pins/"+t,{dataType:"json"})).promise().then(e=>e)};var v2=function(){return function(e,t,a){var{pinID:i}=t,r=Cd(e);function n(){var t=r.get("pinID");i===t&&m2(e,i).then(({authToken:e})=>{e?r.set({authToken:e}):s()}).fail(e=>{r.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:Object(Ze.default)("An error occurred")})})}function s(){window.setTimeout(n,2e3)}s()}},g2=Object(Pa.a)("user/authCodeExchange/readStoredPIN"),y2=Object(Pa.a)("user/authCodeExchange/preloadPIN"),f2=Object(Pa.a)("user/authCodeExchange/resetAuthCodeExchange"),b2=Object(Pa.a)("user/authCodeExchange/beginPolling"),I2=Object(Pa.a)("user/authCodeExchange/stopPolling"),S2=Object(Pa.a)("user/authCodeExchange/skipSignIn");function M2(e,t){var a=Cd(e);return a.set({isBusy:!0}),U1(e).then(({id:e,code:i,expiresIn:r})=>{var n=window.setTimeout(()=>{t(I2())},1e3*r);a.set({code:i,pinID:e,pinTimeout:n,isBusy:!1})}).fail(()=>{a.set({fatalErrorMessage:Object(Ze.default)("An error occurred"),isBusy:!1})})}var C2={"user/authCodeExchange/resetAuthCodeExchange"(e,t,a){var i=Cd(e);Object(wa.a)(()=>{i.set({code:null,pinID:null,authToken:null,errorMessage:null})})},"user/authCodeExchange/readStoredPIN"(e,t,a){var i=Cd(e),r=i.get("pinIDInitial"),n=(r?T.a.Deferred().resolve(r).promise():T.a.Deferred().reject().promise()).then(()=>m2(e,r).fail(()=>{i.set({errorMessage:Object(Ze.default)("There was an error signing in")})})).then(({authToken:e})=>e?T.a.Deferred().resolve(e).promise():(i.set({errorMessage:Object(Ze.default)("There was an error signing in")}),T.a.Deferred().reject().promise())).then(e=>{i.set({authToken:e})});t.shouldCreatePIN&&n.fail(()=>M2(e,a))},"user/authCodeExchange/preloadPIN"(e,t,a){Cd(e).set({isBusy:!0,code:null,pinID:null}),M2(e,a)},"user/authCodeExchange/beginPolling":v2(),"user/authCodeExchange/stopPolling"(e,t,a){var i=Cd(e),r=i.get("pinTimeout");r&&window.clearTimeout(r),i.set({pinID:null,pinTimeout:null,code:null})},"user/authCodeExchange/skipSignIn"(e,t,a){e.set({skipSignIn:!0})}},{Component:D2}=Ed.a,P2={dispatchRedirectToUrl:mu};var O2=Object(Fu.b)(null,P2)(class extends D2{componentDidMount(){var{to:e,replace:t}=this.props;this.props.dispatchRedirectToUrl({url:e,replace:t})}render(){return null}}),j2=a("x5Hs");var T2=function e(t){return function(e,t=D.a.identity){return Object.keys(e).forEach(a=>{e[a]=t(e[a])}),e}(function(e,t=D.a.identity){return Object.keys(e).forEach(a=>{t(e[a])||delete e[a]}),e}(t),t=>D.a.isObject(t)?e(t):t)};var w2=function(e,t){var{base:a,searchParams:i,hashPath:r,hashParams:n}=me(e),s=Object(te.a)(n);return""+a+i+"#"+r+"?"+Object(Xs.a)(Object.assign({},s,t))};function E2(e,t){var[,a]=e.match(/(^[^#]+)?/);return""+(a=a||"")+t}var N2=e=>e.user;var x2=function(){return Object(_u.a)((e,{signUp:t})=>t,(e,{email:t})=>t,(e,{providerID:t})=>t,(e,{userAuthToken:t})=>t,(e,{code:t})=>t,(e,{pinID:t})=>t,(e,{errorMessage:t})=>t,e=>e.clientID,e=>e.isFirstRun,N2,j2.a,(e,t,a,i,r,n,s,o,l,c,d)=>{var u=function(e){var t=e.context||{},a=Je()(t,["user"]);return T2(Object.assign({},a))}(Object(ie.c)("metrics").toJSON());if(e){var{base:p}=me(window.location.href),h={forwardUrl:p,twop:"1",context:u};return d&&(h.lang=d),c.anonymous&&(h.guestToken=c.authToken),_.join(["https://www.plex.tv","sign-up/"],h)}var m={clientID:o,context:u};if(!n2()){var v=n?w2(window.location.href,{pinID:n}):window.location.href;m.forwardUrl=v,l&&(m.skipSignInUrl=E2(window.location.href,_.join(["#!/setup/skipSignIn"],{forwardUrl:v})))}return r&&(m.code=r),a&&(m.provider=a),t&&(m.email=t),i&&(m.authToken=i),s&&(m.error=s),d&&(m.language=d),c.anonymous&&(m.guestToken=c.authToken),_.join(["https://app.plex.tv/auth",_.join(["#!/"],m)])})},A2=Ed.a.createElement;var L2=Object(Fu.b)((function(){return Object(_u.a)(x2(),e=>({serviceAuthUrl:e}))}),{})((function(e){var{component:t,serviceAuthUrl:a}=e,i=Je()(e,["component","serviceAuthUrl"]);return(A2(t,tp()({to:a},i)))})),{Component:k2}=Ed.a,R2={dispatchReadStoredPIN:g2,dispatchCreatePIN:H1,dispatchSignInThenClaimServer:B1};var z2=Object(Fu.b)(j1,R2)(class extends k2{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchCreatePIN()}}componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}render(){var{isBusy:e,isDisabled:t,pinID:a,code:i}=this.props;return a?Uu()(L2,{component:O2,code:i,pinID:a}):Uu()(c2,{isSpinning:e,isDisabled:t,onPress:this.onClaimServerPress})}}),{Component:U2}=Ed.a,V2={dispatchPreloadPIN:y2,dispatchBeginPolling:b2,dispatchStopPolling:I2,dispatchSignInThenClaimServer:B1};var B2=Object(Fu.b)(j1,V2)(class extends U2{constructor(...e){super(...e),this.onClaimServerPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})}componentWillUnmount(){this.props.dispatchStopPolling()}render(){var{code:e,pinID:t,isBusy:a,isDisabled:i}=this.props;return!(a||this.props.code)?Uu()(oT,{message:Object(Ze.default)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,onPress:this.onStillTherePress}]}):Uu()(L2,{component:c2,code:e,pinID:t,isSpinning:a,isDisabled:i||!t,onPress:this.onClaimServerPress})}}),F2=a("9pnm"),H2=a.n(F2);var _2=function(e){var{serverEntityID:t,isBusy:a,isAnonymousUser:i,isUserRestricted:r,ClaimServerButtonConnectorComponent:n}=e;return(Uu()("div",{className:H2.a.container},void 0,Uu()(Y1,{serverEntityID:t}),i?Uu()("div",{className:H2.a.message},void 0,Uu()("div",{className:H2.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Uu()("div",{className:H2.a.messageDetails},void 0,Object(Ze.default)("You need to sign in to claim this server."))):null,r?Uu()("div",{className:H2.a.message},void 0,Uu()("div",{className:H2.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Uu()("div",{className:H2.a.messageDetails},void 0,Object(Ze.default)("You are signed in as a managed user.")),Uu()("div",{className:H2.a.messageDetails},void 0,Object(Ze.default)("Switch to a full user account to claim this server."))):null,i||r?null:Uu()("div",{className:H2.a.message},void 0,Uu()("div",{className:H2.a.messageHeader},void 0,Object(Ze.default)("This server is unclaimed and not secure")),Uu()("div",{className:H2.a.messageDetails},void 0,Object(Ze.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),Uu()(n,{serverEntityID:t,isBusy:a,isDisabled:i||r})))},{Component:Q2}=Ed.a;var W2={dispatchClaimServer:V1},G2={SIGNED_IN_BUTTON:h2,SIGNED_OUT_POLL_BUTTON:B2,SIGNED_OUT_LAUNCH_BUTTON:z2};var Y2=Object(Fu.b)((function(){return Object(_u.a)(j1,cw,mv("isSignedIn"),mv("restricted"),(e,t,a,i)=>{var r;return r=a?"SIGNED_IN_BUTTON":n2()?"SIGNED_OUT_POLL_BUTTON":"SIGNED_OUT_LAUNCH_BUTTON",Object.assign({componentType:r,isUserRestricted:!!i,isAnonymousUser:t},e)})}),W2)(class extends Q2{render(){var{serverEntityID:e,componentType:t,isBusy:a,isAnonymousUser:i,isUserRestricted:r}=this.props;return(Uu()(_2,{serverEntityID:e,isBusy:a,isAnonymousUser:i,isUserRestricted:r,ClaimServerButtonConnectorComponent:G2[t]}))}}),K2=Ed.a.createElement;var q2=Object(Fu.b)((function(){return Object(_u.a)(O1(),e=>({isServerClaimed:e}))}))((function(e){var{isServerClaimed:t}=e,a=Je()(e,["isServerClaimed"]);return(K2(t?i2:Y2,a))})),Z2=Hu.extend({template:()=>"",mountReact(){var e=Object(ie.c)("appStore"),t=this.model.entityID();Bu.a.render(Uu()(Fu.a,{store:e},void 0,Uu()(q2,{serverEntityID:t})),this.el)}}),X2=a("o8wu"),J2=a.n(X2);function $2(e){return e?e.split("\n"):[]}var e4=ni.extend({name:"releaseNotesModal",template:J2.a,serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=D.a.escape(e.version.replace(/-.*/gi,"")),e.added=$2(e.added),e.fixed=$2(e.fixed),e}}),t4=a("Ynln"),a4=a.n(t4),i4=Object.assign({},o,{CHECKING:"checking"}),r4=B.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:a4.a,ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:isChecking":"onIsCheckingChange","change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .install-manual-link":"onInstallManualClick","click .release-notes-btn":"onInfoClick"},initialize:function(){ie.c("appStore").dispatch(t1({serverEntityID:this.model.server.entityID()}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model)}},checkForUpdates:function(e={}){ie.c("appStore").dispatch(a1({serverEntityID:this.model.server.entityID(),download:e.download,initialState:e.initialState}))},dismissUpdates:function(){ie.c("appStore").dispatch(i1({serverEntityID:this.model.server.entityID(),version:Wa(this.model.get("version"))}))},downloadUpdates:function(){ie.c("appStore").dispatch(r1({serverEntityID:this.model.server.entityID()}))},installUpdates:function(){ie.c("appStore").dispatch(n1({serverEntityID:this.model.server.entityID()}))},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},setCurrentViewState:function(e){this.$el.removeClass(this.currentViewState),this.currentViewState=e,this.$el.addClass(this.currentViewState)},showUpdateState:function(){var e=this.model.get("state");this.model.previous("state")===AX&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange);var t=e;this.model.get("canInstall")||e!==TX?this.model.get("isChecking")&&(t=i4.CHECKING):t=i4.NOTIFY,this.setCurrentViewState(t);var a=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",a),t===i4.INSTALLING)this.waitForInstall();else if(t===i4.ERROR||t===i4.NOTIFY){var i;this.model.get("error")?(i=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(i=Object(Ze.default)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(i=Object(Ze.default)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var r=ie.c("appModel").get("user").server,n=this.model.get("downloadURL")||r.get("appsUrl");this.ui.installManualLink.attr("href",n),this.ui.updateErrorMessage.text(i)}},canCheckForUpdate:function(e){var t=e.get("state");return!e.get("isChecking")&&(t===wX||t===xX||t===LX)},onViewStateChange:function(e){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(e)))},onRender:function(){this.showUpdateState()},onIsCheckingChange:function(e){this.onViewStateChange(e)},onStateChange:function(e){this.onViewStateChange(e)},onProgressChange:function(e,t){D.a.isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?this.checkForUpdates():this._waitingTimeoutID&&(this._waitingTimeoutID=window.clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this.model.server;if(e.get("isConnected")&&this.model.get("state")===AX){var t=e.getXHROptions("/updater/check",{type:"PUT"});T.a.ajax(t).promise().always(()=>{this._waitingTimeoutID=window.setTimeout(this.onWaitingForInstallCheck.bind(this),2e3)})}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.downloadUpdates()},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInstallManualClick:function(){this.dismissUpdates()},onInfoClick:function(e){e.preventDefault(),H.a.trigger("show:modal",new e4({model:this.model}))}}),n4=a("YWAx"),s4=a.n(n4),o4=C1.extend({template:s4.a,regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=C1.prototype.serializeData.apply(this,arguments),t=D.a.findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return Object(Ze.default)("Version {1}",e)}}},onRender:function(){C1.prototype.onRender.apply(this,arguments),this.signIn.show(new Z2({model:this.model})),this.model.get("updater")&&this.update.show(new r4({model:this.model.get("desktop").get("update"),collection:this.collection}))}}),l4=C1.extend({prefix:"account.",serializeData:function(){var e=this.options.account,t=[],a=pc.map(e=>({value:e,label:hc[e]}));return t.push({id:this.prefix+"autoSelectAudio",label:Object(Ze.default)("Automatically select audio and subtitle tracks"),summary:Object(Ze.default)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:Object(Ze.default)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:a}),t.push({id:this.prefix+"subtitleMode",label:Object(Ze.default)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:Object(Ze.default)("Manually selected")},{value:1,label:Object(Ze.default)("Shown with foreign audio")},{value:2,label:Object(Ze.default)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:Object(Ze.default)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:a}),t},updateModel:function(e,t){var a=C1.prototype.updateModel.apply(this,arguments);if(a)return a;var i=e.replace(this.prefix,""),r=this.options.account;return r.has(i)?r.set(i,t):void 0}}),c4=a("Xznh"),d4=a.n(c4),u4=C1.extend({className:"remote-access-container",template:d4.a,ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),a=this.collection.get("ManualPortMappingPort"),i=this.collection.get("WanTotalMaxUploadRate"),r=this.collection.get("WanPerStreamMaxUploadRate"),n=this.cloudAccount.toJSON(),s=!e.get("value"),o=!n.signedIn,l=s||o,c=!(!n.privateAddress||null==n.privatePort),d=!(!n.publicAddress||null==n.publicPort),u={forceAdvanced:!s&&!!n.mappingError,isDisabled:s,isSignedOut:o,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:d,cloudAccount:n,hasMappingSettings:!(!t||!a),hasUploadLimitSettings:!(!i||!r),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:a?a.toJSON():null,uploadSettings:[]};return i&&(u.totalRateSettingID=i.id,u.totalRateSettingValue=i.get("value")/1e3),r&&u.uploadSettings.push(r.toJSON()),u},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&(this.updateModel(e,t)&&(this.changes[e]=t,this.enable()))},connect:function(){return Ge.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return Ge.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return Ge.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(D.a.isEmpty(this.changes))return T.a.Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(D.a.bind((function(){this.changes={}}),this)),e},onErrorInputChange:function(e){C1.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),rr("serverSettings",{serverID:this.model.id,group:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState","connecting"),this.saveChanges().always(D.a.bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,a=parseFloat(t.value,10),i=D.a.isNaN(a)?0:Math.max(a,0);this.updateUploadSetting(t.name,1e3*i),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),a=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",a)}}),p4=a("Pfwo"),h4=a.n(p4),m4=B.ItemView.extend({className:"loading",template:h4.a,initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}}),v4=a("apI8"),g4=a.n(v4),y4=B.ItemView.extend({template:g4.a}),f4={PENDING:"pending",FAILED:"failed",COMPLETE:"complete",failureCodes:{INVALID_PATH:"invalidPath",DISK_FULL:"diskFull",DISK_UNWRITABLE:"diskUnwritable"}},b4=Bm.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=xm.playlist);var t=km(),a={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},i=this.model.get("composite");i&&(this.url=this.model.server.resolveUrl(_.join(i,a),{appendToken:!0}))}}),I4=["Bytes","KB","MB","GB","TB"];var S4=function(e,t){if(e=parseInt(e,10),t=t||1,D.a.isNaN(e))return"";if(0===e)return"0 Bytes";var a=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,a)).toFixed(t)+" "+I4[a]},M4={PENDING:"pending",ERROR:"error",PROCESSED:"processed",contexts:{OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"}},C4=a("ngbI"),D4=a.n(C4),P4=B.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:D4.a,ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Fm({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return Object(ZI.a)({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:"  "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=M4.contexts;switch(e){case t.FILE_UNAVAILABLE:return Object(Ze.default)("File unavailable");case t.METADATA_ERROR:return Object(Ze.default)("Invalid metadata");case t.PROFILE_ERROR:return Object(Ze.default)("Invalid profile");case t.ANALYSIS_ERROR:return Object(Ze.default)("Unable to analyze")}return Object(Ze.default)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new ev({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),Ge.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),Ge.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),O4=ym.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:P4}),j4=a("5+Nd"),T4=a.n(j4),w4=ni.extend({mixins:[Xo],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:T4.a,pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=D.a.throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?Object(Ze.default)("{1} item",e):Object(Ze.default)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?S4(e):Object(Ze.default)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered((function(){this.enterState("base")}))),e.fail(this.whenRendered((function(){this.enterState("error")}))),e},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new O4({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&(this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage())}}),E4=a("9jA7"),N4=a.n(E4),x4=B.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:N4.a,ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status");this.compositeImage=new b4({model:this.model,width:Am.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",f4.PENDING,f4.COMPLETE,f4.FAILED];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?f4.FAILED:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?Object(Ze.default)("1 failed item"):Object(Ze.default)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===f4.FAILED}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),H.a.trigger("show:modal",new w4({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),Ge.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),H.a.trigger("show:modal",new BN({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),Ge.execute("deleteVersionGenerator",{generator:this.model})}}),A4=ym.extend({tagName:"ol",className:"list media-list playlist-items",itemView:x4,emptyView:y4,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Tm.a(this.el,{onUpdate:D.a.bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=T()(e.item).data("generator-id"),a=T()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,a)}}),L4=a("hvMQ"),k4=a.n(L4),R4=B.ItemView.extend({template:k4.a,serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:D.a.escape(Ka.streamReady)}}}),z4=a("HJfd"),U4=a.n(z4),V4=C1.extend({mixins:[Xo],className:"versions-container",template:U4.a,ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new um([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new m4({inline:!0})),e&&t){var a=T.a.when(this.playlists.populate(),this.transcodeJobs.fetch());(a=a.then(D.a.bind((function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):T.a.Deferred().reject().promise()}),this))).done(this.whenRendered((function(){this.enterNextState()}))),a.fail(this.whenRendered((function(){this.enterState("error")})))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new A4({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new R4({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),Ge.execute("deleteAllVersionGenerators",{server:this.model}).then(D.a.bind((function(){return this.generators.fetch()}),this))},onStatusConversionClick:function(e){e.preventDefault(),rr("conversion",{serverID:this.model.id})}}),B4=a("Xrwt"),F4=a.n(B4),H4=B.Layout.extend({className:"server-settings-container",template:F4.a,remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:o4,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:u4,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:V4,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:I1,group:"agents",title:"Agents",isVisible:!0},library:{constructor:C1,group:"library",title:"Library"},channels:{constructor:D1,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:C1,group:"network",title:"Network"},transcoder:{constructor:C1,group:"transcoder",title:"Transcoder"},languages:{constructor:l4,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:C1,group:"dlna",title:"DLNA"},butler:{constructor:C1,group:"butler",title:"Scheduled Tasks"},extras:{constructor:C1,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=Object(ie.c)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var a=D.a.extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});T.a.ajax(a)}this.listenTo(H.a,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=D.a.keys(this.panes),t=D.a.unique(this.collection.filter(e=>e.get("group")&&!e.get("hidden")).map(e=>e.get("group")));this.groups=new I.c.Collection,e.forEach(e=>{var a=this.panes[e],i=a.isVisible;(!0===i||!1!==i&&D.a.contains(t,e))&&this.addGroup(e,a)}),D.a.each(t,(function(t){if(!D.a.contains(e,t)){var a={constructor:C1,group:t,title:t};this.panes[t]=a,this.addGroup(t,a)}}),this)},addGroup:function(e,t){var a=D.a.omit(t,"constructor");a.id=e,this.groups.add(a)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];if(t&&this.groups.get(e)){var a=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=a,this.pane.show(a),this.listenTo(this.currentPane,"save",this.saveChanges),a}rr("serverSettings",{serverID:this.model.id,group:"general"})},flushChanges:function(){this.currentPane.changes&&D.a.extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),a=this.getPrefixedChanges("account.");if(!D.a.isEmpty(t)){var i=this.channelSettings.first().getSaveParams(t),r=D.a.result(this.channelSettings,"url"),n=_.join([r,"/set"],i);e.push(T.a.ajax(this.model.getXHROptions(n)))}D.a.isEmpty(a)||e.push(this.account.save(a)),D.a.isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var s=T.a.when.apply(T.a,e);s.done(D.a.bind((function(){var e=D.a.keys(this.changes);D.a.each(e,(function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()}),this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))}),this)),s.fail(D.a.bind((function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)}),this))}},getPrefixedChanges:function(e){var t={};return D.a.each(this.changes,(function(a,i){0===i.lastIndexOf(e,0)&&(t[i.substring(e.length)]=a,delete this.changes[i])}),this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),Object(ie.c)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");Object(ie.c)("appStore").dispatch(Object(Qu.f)({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&Object(ie.c)("appStore").dispatch(a1({serverEntityID:this.model.entityID(),download:!1}))}});var _4=function(e){var{friendlyName:t,isPending:a,onTryAgainPress:i}=e;return(Uu()(fh,{title:t?Object(Ze.default)("{serverName} is currently unavailable",{serverName:t}):Object(Ze.default)("Server is currently unavailable"),description:Uu()(oT,{message:Object(Ze.default)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:"https://help.plex.tv/noserver",target:"_blank"}]})},void 0,Uu()(gU,{isSpinning:a,kind:Dp,onPress:i},void 0,Object(Ze.default)("Retry connection"))))},{Component:Q4}=Ed.a,W4=Uu()("br",{});var G4=class extends Q4{constructor(e,t){super(e,t),this.onAllowFallbackConfirm=()=>{this.setState({isSubmitting:!0}),this.props.onAllowHttpFallback({serverEntityID:this.props.serverEntityID,allowHttpFallback:this.props.publicAddressMatches?fc.SAME_NETWORK:fc.ALWAYS})},this.state={isSubmitting:!1}}render(){var{publicAddressMatches:e,isOpen:t,onModalClose:a}=this.props,{isSubmitting:i}=this.state;return Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.O,onModalClose:a},void 0,Uu()(UL,{onModalClose:a},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Allow Insecure Connections")),Uu()(fL,{},void 0,e?Object(Ze.default)("Insecure connections will only be allowed when you're on the same network as the server."):Object(Ze.default)("Insecure connections will be allowed to any server."),W4,Object(Ze.default)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(bU,{kind:Cp,isDisabled:i,onPress:a},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{kind:Pp,isSpinning:i,onPress:this.onAllowFallbackConfirm},void 0,Object(Ze.default)("Allow"))))))}};var Y4={onAllowHttpFallback:mG},K4=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({publicAddressMatches:e.publicAddressMatches}))}),Y4)(G4),{Component:q4}=Ed.a;var Z4=class extends q4{constructor(e,t){super(e,t),this.onReloadHttpPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttp()},this.onReloadHttpAlwaysPress=()=>{this.setState({isSubmitting:!0}),this.props.onReloadHttpAlways()},this.state={isSubmitting:!1}}render(){var{isOpen:e,onModalClose:t}=this.props,{isSubmitting:a}=this.state;return Uu()(xT,{size:jp,isOpen:e,metricsPage:Rd.O,onModalClose:t},void 0,Uu()(UL,{onModalClose:t},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Allow Insecure Connections")),Uu()(fL,{},void 0,Object(Ze.default)("I understand that traffic between this application and Plex Media Server over an insecure connection is not encrypted.")),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(bU,{kind:Cp,isDisabled:a,onPress:t},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{kind:Pp,isSpinning:a,onPress:this.onReloadHttpAlwaysPress},void 0,Object(Ze.default)("Allow always")),Uu()(bU,{"data-autofocus":!0,kind:Pp,isSpinning:a,onPress:this.onReloadHttpPress},void 0,Object(Ze.default)("Allow once"))))))}};var X4=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({friendlyName:e.friendlyName}))}),(function(e){return{onReloadHttp(){e(hu())},onReloadHttpAlways(){e(vu()),e(hu())}}}))(Z4),J4="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K",$4=a("t4kf"),e3=a.n($4),{Component:t3,Fragment:a3}=Ed.a;var i3=class extends t3{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){var{serverEntityID:e,title:t,description:a,modalComponent:i}=this.props,{isModalOpen:r}=this.state;return Uu()(ph,{iconSrc:J4,title:t,description:Uu()(a3,{},void 0,Uu()(oT,{message:Object(Ze.default)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:Vp,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:Dp,target:"_blank"}]}))},void 0,Uu()("div",{className:e3.a.description},void 0,a),Uu()(i,{isOpen:r,serverEntityID:e,onModalClose:this.onModalClose}),Uu()(rT,{kind:Dp,onPress:this.onAdvancedPress},void 0,Object(Ze.default)("Allow Insecure Connections")))}};function r3(){return!F.a.isHostedHttps||!!be.a.allowMixedContent}function n3(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function s3(e){return!r3()&&n3(e)}function o3(e){var t=e.hasHttpsConnections&&!e.hasFallbackConnections;return r3()&&n3(e)&&t}var l3=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({friendlyName:e.friendlyName,shouldAllowInsecureRedirect:s3(e),shouldAllowInsecureFallback:o3(e),isPending:e.isPending}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress(){e(du()),e(Na(a))}}}))((function(e){var{friendlyName:t,shouldAllowInsecureRedirect:a,shouldAllowInsecureFallback:i,isPending:r,onTryAgainPress:n}=e;return a?Uu()(i3,{serverEntityID:e.serverEntityID,title:Object(Ze.default)('Unable to connect to "{serverName}" securely',{serverName:t}),description:Object(Ze.default)("You can also allow insecure connections now, which will reload the app insecurely."),modalComponent:X4}):i?Uu()(i3,{serverEntityID:e.serverEntityID,title:Object(Ze.default)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:Object(Ze.default)("The app is loaded insecurely. You can attempt to use an insecure connection now."),modalComponent:K4}):Uu()(_4,{friendlyName:t,isPending:r,onTryAgainPress:n})}));var c3=function(e){var{friendlyName:t,isPending:a,onTryAgainPress:i}=e;return(Uu()(ph,{iconSrc:J4,title:Object(Ze.default)('The server "{serverName}" is installing an update',{serverName:t}),description:Object(Ze.default)("Grab a cup of tea. This may take a couple of minutes.")},void 0,Uu()(gU,{isSpinning:a,kind:Dp,onPress:i},void 0,Object(Ze.default)("Retry connection"))))};var d3=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({friendlyName:e.friendlyName,isPending:e.isPending}))}),(function(e,t){var a={serverEntityID:t.serverEntityID};return{onTryAgainPress(){e(du()),e(Na(a))}}}))(c3);function u3(e){var{friendlyName:t,isShared:a}=e;return a?t:void 0}function p3(e){var{friendlyName:t,sourceTitle:a,isShared:i}=e;return i?a:t}var h3=a("h7fT"),m3=a.n(h3);function v3(e){return Uu()("h2",{className:e.className},void 0,e.children)}v3.defaultProps={className:m3.a.header};var g3=v3,y3=Uu()($y,{});var f3=function(e){var{friendlyName:t,sourceTitle:a,settingsTitle:i,isShared:r}=e,n={friendlyName:t,sourceTitle:a,isShared:r},s=p3(n),o=u3(n),l=s&&o?s+" ("+o+")":s;return Uu()(g3,{},void 0,l,y3,i)};var b3=Object(Fu.b)((function(){return Object(_u.a)(RS(),Object(_u.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,(e,t)=>{var a=D.a.findWhere(G0,{key:e});return D.a.findWhere(a.groups,{key:t}).title()}),(e,t)=>({friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t}))}))(f3),I3=a("VFN/"),S3=a.n(I3);function M3({children:e,className:t,metricsPage:a,metricsPane:i,scrollTop:r,onScrollPositionChange:n}){return Uu()(tJ,{metricsPage:a,metricsProperties:{pane:i},scrollTop:r,onScrollPositionChange:n},void 0,Uu()("div",{className:t},void 0,e))}M3.defaultProps={className:S3.a.content};var C3=M3,D3=Ed.a.createElement,P3=Uu()(ph,{},void 0,Uu()(Xh,{})),O3=Uu()(ph,{},void 0,Uu()(Xh,{}));var j3=function(e){var{serverEntityID:t,providerEntityID:a,viewDataErrorMessage:i,isViewDataPending:r,isInstallingServerUpdate:n,isUnavailable:s,isSettingAccessible:o,isSettingsPending:l,settingsSection:c,settingsGroup:d,pageComponent:u,paneComponent:p,contentView:h}=e,m=Je()(e,["serverEntityID","providerEntityID","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isSettingAccessible","isSettingsPending","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return n?Uu()(d3,{serverEntityID:t}):r?P3:s?Uu()(l3,{serverEntityID:e.serverEntityID}):i?Uu()(fh,{title:i}):o?u?D3(u,tp()({serverEntityID:t},Z0(c,d))):D3(C3,Z0(c,d),Uu()(b3,{serverEntityID:t,settingsSection:c,settingsGroup:d}),p?Uu()(p,{serverEntityID:t,providerEntityID:a}):Uu()(NQ,{view:h||H4,viewOptions:m})):l?O3:Uu()(fh,{title:Object(Ze.default)("There was an unexpected error loading the settings")})};var T3=Object(Fu.b)((function(){return Object(_u.a)((e,{settingsSection:t})=>t,(e,{settingsGroup:t})=>t,q0(),RS(),(e,t,a,i)=>{var r,n,s,o=(r=e,n=t,(s=a.find(e=>e.key===r))?s.groups.find(e=>e.key===n):null);return{isInstallingServerUpdate:!(!i||!i.isInstallingServerUpdate),isUnavailable:!(!i||!i.isUnavailable),isSettingAccessible:!!o,isSettingsPending:!(!i||!i.desktop.isSettingsPending),pageComponent:o&&o.pageComponent,paneComponent:o&&o.paneComponent}})}))(j3),w3=Sv(Ku,e=>e.filter(e=>e.isPrimaryEligible)),E3=Object(_u.a)(w3,e=>e.reduce((e,t)=>(t.isShared&&!t.allowSync||t.isOutOfDate||e.push(t.entityID),e),[])),N3=LS(Object(_u.a)(Ku,e=>e.filter(e=>(e.isFullOwnedServer||e.isShared)&&e.isConnected)),e=>e),x3=a("HjAS"),A3=a.n(x3);function L3(e){var{className:t,children:a}=e;return(Uu()("div",{className:t},void 0,a))}L3.defaultProps={className:A3.a.sidebarContainer};var k3=L3,R3=a("7f9p"),z3=a.n(R3),U3=Ed.a.createElement;function V3(e){var{className:t}=e;return(U3(rh,tp()({className:t,autoScroll:!0},e)))}V3.defaultProps={className:z3.a.scroller};var B3=V3;function F3(e,t){return e&&t?t+" ("+e+")":t||e}var H3=function(e){var t,a=e.activeConnection,i=!1;return e.isConnected&&a?t=e.isOutOfDate?Object(Ze.default)("Needs Update"):a.relay?Object(Ze.default)("Indirect"):a.isPrivate?Object(Ze.default)("Nearby"):Object(Ze.default)("Remote"):e.isRelayed?t=Object(Ze.default)("Indirect"):e.isUnavailable?t=Object(Ze.default)("Unavailable"):e.isUnauthorized?t=Object(Ze.default)("Unauthorized"):(i=!0,t=Object(Ze.default)("Connecting")),{isConnecting:i,status:t}},_3=a("rUJk"),Q3=a.n(_3),{Component:W3}=Ed.a;class G3 extends W3{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{children:e,className:t,friendlyNameClassName:a,detailsClassName:i,to:r,isDisabled:n,isSelected:s,identifier:o,title:l,details:c,onPress:d}=this.props;return(Uu()(Gg,{className:(t||"")+" "+(Q3.a.serverMenuItem||"")+" "+(s&&Q3.a.selectedServerMenuItem||""),"data-qa-id":"serverMenuItem--"+o,to:r,isDisabled:n,onPress:d},void 0,Uu()("div",{className:Q3.a.serverMenuItemContainer},void 0,Uu()("div",{className:Q3.a.serverMenuTitle},void 0,Uu()("div",{className:a},void 0,l),Uu()("div",{className:i},void 0,c)),Uu()("div",{className:Q3.a.serverMenuIconContainer},void 0,s?Uu()(ey,{className:(Q3.a.serverMenuIcon||"")+" "+(Q3.a.selectedIcon||""),"aria-label":Object(Ze.default)("Selected")}):null,e))))}}G3.defaultProps={friendlyNameClassName:Q3.a.serverMenuFriendlyName,detailsClassName:Q3.a.serverMenuDetails};var Y3=G3,K3=a("H6oa"),q3=a.n(K3),Z3=Ed.a.createElement;var X3=function(e){var{className:t,isFullOwnedServer:a,isInstallingServerUpdate:i,isUnavailable:r,isSettingsPending:n}=e;return i||a&&n&&!r?Uu()("div",{className:t},void 0,Uu()(Xh,{className:q3.a.spinner,size:jp})):Z3(JM,e)},J3=a("Jdyf"),$3=a.n(J3);var e5=function(e){var{isSelected:t,activeConnection:a,isConnected:i,isShared:r,isUnavailable:n,isSecure:s,isRelayed:o,machineIdentifier:l,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:h,settingsSection:m,settingsGroup:v}=e,g={activeConnection:a,friendlyName:c,sourceTitle:d,isFullOwnedServer:u,isShared:r,isConnected:i,isRelayed:o,isUnavailable:n},{isConnecting:y,status:f}=H3(g),b=F3(u3(g),f),I=u&&h||y||n;return Uu()(Y3,{className:I&&$3.a.disabled||"",friendlyNameClassName:$3.a.friendlyName,detailsClassName:$3.a.details,to:si(l,m||"settings",v||"general"),isDisabled:y,isSelected:t,identifier:l,title:p3(g),details:b},void 0,Uu()(X3,{className:$3.a.icon,isFullOwnedServer:u,isInstallingServerUpdate:p,isSettingsPending:h,isUnavailable:n,isRelayed:o,isSecure:s,isConnected:i}))};var t5=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isShared:e.isShared,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.desktop.isSettingsPending}))}))(e5),a5=a("M0a6"),i5=a.n(a5),r5=5*parseInt(YU.a.serverMenuItemHeight,10),n5={className:i5.a.serverMenuScroller,scrollDirection:"vertical",autoScroll:!0};var s5=function(e){var{target:t,serverEntityIDs:a,selectedServerEntityID:i,settingsSection:r,settingsGroup:n,isOpen:s,onMenuClose:o}=e;return(Uu()(Fg,{className:i5.a.serverMenu,target:t,isOpen:s,scrollerProps:n5,maxHeight:r5,onMenuClose:o},void 0,a.map(e=>Uu()(t5,{serverEntityID:e,isSelected:e===i,settingsSection:r,settingsGroup:n},e))))},o5=a("HPx8"),l5=a.n(o5);function c5(e){var{className:t,secondaryTitleClassName:a,id:i,isLoading:r,isMenuOpen:n,isDisabled:s,isSelected:o,primaryTitle:l,secondaryTitle:c,children:d,spinnerComponent:u,onPress:p}=e;return(Uu()(Vp,{id:i,className:(t||"")+" "+(s&&l5.a.isDisabled||""),"aria-haspopup":!s,"data-qa-id":"serverMenuButton",isSelected:o,isDisabled:s,onPress:p},void 0,Uu()("div",{className:l5.a.sidebarMenuButtonContainer},void 0,Uu()("span",{className:l5.a.sidebarMenuTitle},void 0,Uu()("span",{className:l5.a.sidebarMenuPrimaryTitleContainer},void 0,Uu()("span",{className:l5.a.sidebarMenuPrimaryTitle},void 0,l),s?null:Uu()(my,{direction:n?cy:dy,isSelected:o})),c?Uu()("span",{className:a},void 0,c):null),r?Uu()(u,{size:jp,className:l5.a.sidebarMenuSpinner}):d)))}c5.defaultProps={className:l5.a.sidebarMenuButton,secondaryTitleClassName:l5.a.sidebarMenuSecondaryTitle,isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:Kh};var d5=c5,u5=Ed.a.createElement;var p5=function(e){return u5(d5,tp()({spinnerComponent:Xh},e))},h5=a("61dU"),m5=a.n(h5);var v5=function(e){var{id:t,friendlyName:a,sourceTitle:i,isFullOwnedServer:r,isShared:n,isConnected:s,isInstallingServerUpdate:o,isSelected:l,isUnavailable:c,isSecure:d,isSettingsPending:u,isRelayed:p,isMenuOpen:h,onPress:m}=e,v={friendlyName:a,sourceTitle:i,isShared:n},g=F3(u3(v),p?Object(Ze.default)("Indirect"):null);return Uu()(p5,{className:m5.a.button,secondaryTitleClassName:m5.a.secondaryTitle,id:t,isMenuOpen:h,primaryTitle:p3(v),secondaryTitle:g,isSelected:l,onPress:m},void 0,Uu()(X3,{className:m5.a.icon,isFullOwnedServer:r,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:c,isRelayed:p,isSecure:d,isConnected:s}))};var g5=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isFullOwnedServer:e.isFullOwnedServer,isInstallingServerUpdate:e.isInstallingServerUpdate,isShared:e.isShared,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle}))}))(v5);var y5=a("S+WG"),f5=a.n(y5),b5=Ed.a.createElement;function I5(e){var t,{className:a,children:i,iconClassName:r,titleClassName:n,iconSrc:s,iconComponent:o,iconNode:l,title:c,showSpinner:d}=e,u=Je()(e,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);return s?t=Uu()("img",{className:f5.a.iconImg,src:s}):o?t=Uu()(o,{}):l&&(t=l),b5(Vp,tp()({className:a},u),Uu()("div",{className:f5.a.container},void 0,Uu()("div",{className:r},void 0,d?Uu()(Kh,{className:f5.a.spinner}):t),c?Uu()("div",{className:n},void 0,c):null,function(e){var t=[];return Ed.a.Children.forEach(e,e=>{Ed.a.isValidElement(e)&&t.push(e)}),t}(i).length?Uu()("div",{className:f5.a.children},void 0,i):null))}I5.defaultProps={className:f5.a.sidebarLink,iconClassName:f5.a.icon,titleClassName:f5.a.title};var S5=I5,M5=a("sn/B"),C5=a.n(M5);function D5({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}D5.defaultProps={className:C5.a.sidebarListItem};var P5=D5,O5=Ed.a.createElement;var j5=function(e){return Uu()(P5,{},void 0,O5(S5,e))},T5=a("MIt9"),w5=a.n(T5);var E5=function({message:e,children:t}){return Uu()("div",{},void 0,Uu()("p",{className:w5.a.sidebarMessage},void 0,e),t)};function N5(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}N5.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var x5=N5,{Component:A5,Fragment:L5}=Ed.a;var k5=class extends A5{constructor(e,t){super(e,t),this.onRemoveServerPress=e=>{this.setState({isRemoveModalOpen:!0})},this.onRemoveConfirm=()=>{this.setState({isRemoveModalOpen:!1}),this.props.onDeleteServerConfirm(this.props.machineIdentifier)},this.onRemoveCancel=()=>{this.setState({isRemoveModalOpen:!1})},this.onAllowInsecureConnectionPress=e=>{this.setState({isAllowInsecureConnectionModalOpen:!0})},this.onAllowInsecureConnectionCancel=e=>{this.setState({isAllowInsecureConnectionModalOpen:!1})},this.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e,t,a,i,r,n,{serverEntityID:s,friendlyName:o,presence:l,isPending:c,isBundled:d,isCloudServerResourcesPending:u,isFullServer:p,isFullOwnedServer:h,isInstallingServerUpdate:m,httpsRequired:v,hasHttpsConnections:g,hasFallbackConnections:y,onTryAgainPress:f}=this.props,{isRemoveModalOpen:b,isAllowInsecureConnectionModalOpen:I}=this.state;if(m)t=!1,a=!1,i=!1,r=!1,n=Object(Ze.default)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:o});else{var S={isFullServer:p,presence:l,httpsRequired:v,hasHttpsConnections:g,hasFallbackConnections:y};e=s3(S),t=o3(S),i=!(a=e||t),r=h&&!d,n=a?Object(Ze.default)('Unable to connect to "{serverName}" securely.',{serverName:o}):Object(Ze.default)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:o})}var M=u||c,C=M?Object(Ze.default)("Connecting"):Object(Ze.default)("Try again");return Uu()(E5,{message:n},void 0,Uu()(j5,{iconComponent:qH,title:C,showSpinner:M,isDisabled:M,onPress:f}),t?Uu()(L5,{},void 0,Uu()(j5,{iconComponent:x5,title:Object(Ze.default)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),Uu()(K4,{serverEntityID:s,isOpen:I,onModalClose:this.onAllowInsecureConnectionCancel})):null,a?Uu()(j5,{to:Wp,target:"_blank",iconComponent:x0,title:Object(Ze.default)("Learn more")}):null,i?Uu()(j5,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:x0,title:Object(Ze.default)("Where is my server?")}):null,r?Uu()(L5,{},void 0,Uu()(j5,{iconComponent:DI,title:Object(Ze.default)("Remove server"),onPress:this.onRemoveServerPress}),Uu()(HH,{isOpen:b,metricsPage:Rd.m,kind:Pp,title:Object(Ze.default)("Remove {serverName}",{serverName:o}),message:Object(Ze.default)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:Object(Ze.default)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)}};var R5=xG((function(){return Object(_u.a)(Yu,RS(),(e,t)=>({machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm(){e(fG(a))},onTryAgainPress(){e(du()),e(Na(a))}}}))(k5),z5=a("vSud"),U5=a.n(z5),V5=Ed.a.createElement;function B5(e){var{className:t,headerContainerClassName:a,headerClassName:i,children:r,title:n,icon:s,onRef:o}=e;return(V5("div",{className:t,role:"navigation",ref:o},Uu()("div",{className:a},void 0,Uu()("div",{className:i,role:"header"},void 0,n),s?Uu()("div",{className:U5.a.sidebarListHeaderIcon},void 0,s):null),r))}B5.defaultProps={headerContainerClassName:U5.a.sidebarListHeaderContainer,headerClassName:U5.a.sidebarListHeader};var F5=B5,H5=a("X8Qt"),_5=a.n(H5),Q5=Ed.a.createElement;var W5=function(e){return Q5(F5,tp()({headerClassName:_5.a.header},e))},G5=a("zQVR"),Y5=a.n(G5);var K5=function(e){var t,{className:a,children:i,selectableKey:r,selectedKey:n,to:s,title:o}=e,l=n&&n===r;return/^#/.test(s)||(t=r2()?"_blank":"_self"),Uu()(j5,{className:a,target:t,to:s,iconClassName:l?Y5.a.selectedIcon:Y5.a.icon,title:o,isSelected:l},r,i)};var q5=function(e){var{serverEntityID:t,machineIdentifier:a,selectedKey:i,isShared:r,isInstallingServerUpdate:n,isUnavailable:s,isSettingsPending:o,settingsSections:l}=e;return n||s?Uu()(R5,{serverEntityID:t}):o?null:l.map((e,t)=>{if(r&&1===e.groups.length){var n=e.groups[0];return(Uu()(K5,{selectableKey:gm(a,e.key,n.key),selectedKey:i,title:n.title,to:n.route},t))}return(Uu()(W5,{title:e.title},t,e.groups.map((r,n)=>Uu()(K5,{selectableKey:gm(a,e.key,r.key),selectedKey:i,title:r.title,to:r.route},""+t+n,r.statusIndicator))))})},Z5=Ed.a.createElement,{Component:X5}=Ed.a;var J5={dispatchPopulateSettings:cG};var $5=Object(Fu.b)((function(){return Object(_u.a)(RS(),q0(),(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t}))}),J5)(class extends X5{componentDidMount(){this._populate()}componentDidUpdate(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()}_populate(){var{serverEntityID:e,isConnected:t,isFullOwnedServer:a,dispatchPopulateSettings:i}=this.props;t&&a&&i({serverEntityID:e})}render(){var e=this.props,t=Je()(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]);return(Z5(q5,t))}}),e6=Object(_u.a)(lk,e=>!1),t6=a("46B2"),a6=a.n(t6),i6=Ed.a.createElement;var r6=function(e){var{shouldShowWarning:t}=e,a=Je()(e,["shouldShowWarning"]);return(i6(K5,a,t?Uu()(mh,{className:a6.a.alertIcon}):null))},n6=Object(_u.a)(e6,e=>({shouldShowWarning:e})),s6=Object(Fu.b)(n6)(r6),{Component:o6,Fragment:l6}=Ed.a;var c6=class extends o6{constructor(e,t){super(e,t),this.onMeasure=()=>{this.setState({isMeasured:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e},()=>{OO.set("SettingsSidebarScrollTop",e)})},this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})};var a=OO.get("SettingsSidebarScrollTop");this.state={isMeasured:!1,scrollTop:a||0,isMenuOpen:!1},this._serverMenuButtonID=Mp()}render(){var{manageableServerEntityIDs:e,serverMenuServerEntityID:t,selectedKey:a,isUserSignedIn:i,isUserAnonymous:r,isUserUnrestricted:n,isServerMenuServerEntityIDSelected:s,showAdvancedSettings:o,showQualitySettings:l,showDownloadQualitySettings:c,userTitle:d,settingsSection:u,settingsGroup:p}=this.props,{scrollTop:h,isMenuOpen:m}=this.state,v=vm();return Uu()(ET,{page:Rd.lb,isDelegated:!0},void 0,Uu()(p$,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},void 0,Uu()(k3,{},void 0,this.state.isMeasured?Uu()(B3,{smoothScroll:!1,scrollTop:h,onScrollPositionChange:this.onScrollPositionChange},void 0,Uu()("div",{className:a6.a.sidebarContent},void 0,i?Uu()(W5,{title:d||Object(Ze.default)("Settings")},void 0,Uu()(K5,{selectableKey:"account",selectedKey:a,to:"#!/settings/account",title:Object(Ze.default)("Account")}),n&&!r?Uu()(K5,{selectableKey:"online-media-sources",selectedKey:a,to:"#!/settings/online-media-sources",title:Object(Ze.default)("Online Media Sources")}):null,n&&!r?Uu()(K5,{selectableKey:"devices",selectedKey:a,to:"#!/settings/devices",title:Object(Ze.default)("Authorized Devices")}):null,n&&!r?Uu()(K5,{selectableKey:"webhooks",selectedKey:a,to:"#!/settings/webhooks",title:Object(Ze.default)("Webhooks")}):null,i&&!r?Uu()(K5,{selectableKey:"users-sharing",selectedKey:a,to:"#!/settings/users-sharing",title:Object(Ze.default)("Users & Sharing")}):null):null,Uu()(W5,{title:$.prop("X-Plex-Product"),selectableKey:v,selectedKey:a},void 0,Uu()(s6,{selectableKey:vm("general"),selectedKey:a,to:"#!/settings/web/general",title:Object(Ze.default)("General")}),l?Uu()(K5,{selectableKey:vm("quality"),selectedKey:a,to:"#!/settings/web/quality",title:Object(Ze.default)("Quality")}):null,o?Uu()(K5,{selectableKey:vm("debug"),selectedKey:a,to:"#!/settings/web/debug",title:Object(Ze.default)("Debug")}):null,Uu()(K5,{selectableKey:vm("player"),selectedKey:a,to:"#!/settings/web/player",title:Object(Ze.default)("Player")}),c?Uu()(K5,{selectableKey:vm("downloads"),selectedKey:a,to:"#!/settings/web/downloads",title:Object(Ze.default)("Downloads")}):null),t?Uu()(l6,{},void 0,Uu()(g5,{id:this._serverMenuButtonID,serverEntityID:t,isMenuOpen:m,isSelected:s,onPress:this.onMenuButtonPress}),Uu()(s5,{target:this._serverMenuButtonID,serverEntityIDs:e,selectedServerEntityID:t,isOpen:m,settingsSection:u,settingsGroup:p,onMenuClose:this.onMenuClose}),Uu()($5,{serverEntityID:t,selectedKey:a})):null)):null)))}};var d6=Object(_u.a)(N3,e=>e.length>0);var u6=Object(Fu.b)((function(){return Object(_u.a)((e,{selectedServerEntityID:t})=>t,e=>e.primaryServer,e=>e.user.experienceSettings.showAdvancedSettings,zT(Tt.d),qu.a,E3,d6,(e,t,a,i,r,n,s)=>{var o=function(e,t,a){return a.includes(e)?e:a.includes(t)?t:a?a[0]:null}(e,t,n);return{serverMenuServerEntityID:o,manageableServerEntityIDs:n,isUserSignedIn:r.isSignedIn,isUserAnonymous:r.anonymous,isUserUnrestricted:!r.restricted,isServerMenuServerEntityIDSelected:o===e,showAdvancedSettings:a,showQualitySettings:s,showDownloadQualitySettings:!1,userTitle:r.title}})}))(c6),p6=Ed.a.createElement,h6=Hu.extend({initialize(e){var{serverID:t,settingsSection:a,settingsGroup:i}=e,r=ie.c("appModel"),n=r.get("servers");this.options={settingsSection:a,settingsGroup:i,machineIdentifier:t,isViewDataPending:!0},n.findServer(t).done(this.whenRendered(t=>(Object(wa.a)(),r.set("primaryServer",t),this.listenTo(t,"change:isConnected",this.onServerIsConnectedChanged),t.get("isConnected")?t.get("isShared")&&!t.get("allowSync")?(Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("You do not have access to this server"),isViewDataPending:!1}),void this.render()):void(!t.get("isShared")||!t.get("allowSync")||"status"===a&&"sync"===i?"settings"===a||"manage"===a?this.initializeServerSettingsView(t,e):"status"===a&&"alerts"===i?this.initializeAlertsView(t):"status"===a&&"conversion"===i?this.initializeConversionView(t):"status"===a&&"sync"===i?this.initializeSyncView(t,e):"status"===a&&"server-dashboard"===i?this.initializeServerDashboardView(t):(this.options.isViewDataPending=!1,this.render()):rr("sync",{serverID:t.id})):(this.options.isViewDataPending=!1,void this.render())))).fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),this.render()}))},initializeServerSettingsView(e,t){var{group:a}=t;this.options.settingsGroup=a;var i=e.get("desktop"),r=i.get("settings"),n=new rm({key:"/accounts/1"},{server:e}),s=i.get("cloudAccount"),o=new nm.a([],{server:e,url:"/system/:/prefs"}),l=T.a.when(r.fetch(),n.fetch(),s.fetch(),o.fetch());l.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,collection:r,account:n,cloudAccount:s,channelSettings:o,subset:"server",group:a,isViewDataPending:!1}),this.render()})),l.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("Server settings are unavailable."),isViewDataPending:!1}),this.render()}))},initializeAlertsView(e){var t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:Dm,isViewDataPending:!1}),this.render()},initializeConversionView(e){var t=e.get("desktop");this.options.contentView=dv;var a,i,r=new mm([],{server:e,allowInCache:!0}),n=t.get("backgroundTranscodeJobs"),s=new um([],{server:e,allowInCache:!0}),o=T.a.when(r.populate(),n.fetch(),t.get("settings").fetch(),s.populate()).then(()=>{a=r.first();var e=s.first();return a&&e?(i=e.get("children"),T.a.when(a.fetch(),i.fetch())):T.a.Deferred().reject().promise()});o.done(this.whenRendered(()=>{Object.assign(this.options,{model:e,playQueue:a,transcodeJobs:n,generators:i,subset:"conversion",isViewDataPending:!1}),this.render()})),o.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("The conversion queue is unavailable."),isViewDataPending:!1}),this.render()}))},initializeSyncView(e,t){var a,{deviceID:i,routeOrigin:r}=t;Object.assign(this.options,{contentView:Jj,sidebarKey:"syncedContent"===r?(a=e.id,Object(Kc.a)("synced-content",a)):null});var n=ie.c("appModel").get("user").get("desktop").get("devices"),s=n.populate();s.done(this.whenRendered(()=>{var t=n.filterSyncDevices(),a=i?t.get(i):null;Object.assign(this.options,{model:e,collection:t,selectedDevice:a,subset:"sync",routeOrigin:r,isViewDataPending:!1}),this.render()})),s.fail(this.whenRendered(()=>{Object.assign(this.options,{viewDataErrorMessage:Object(Ze.default)("Sync status is unavailable."),isViewDataPending:!1}),this.render()}))},initializeServerDashboardView(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:Tj,isViewDataPending:!1}),this.render()},component(e){var{machineIdentifier:t,settingsSection:a,settingsGroup:i,sidebarKey:r}=e,n=Je()(e,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),s=Object(pt.a)(ht.n,t),o=r||gm(t,a,i);return Uu()(zh,{},void 0,Uu()(u6,{selectedKey:o,settingsSection:a,settingsGroup:i,selectedServerEntityID:s}),p6(T3,tp()({serverEntityID:s,providerEntityID:sm(s),settingsSection:a,settingsGroup:i},n)))},onServerIsConnectedChanged(e,t){t&&H.a.trigger("navigate:refresh")}}),m6=Hu.extend({component:e=>Uu()(Hh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()(NQ,{view:h6,viewOptions:e})))}),v6=Hu.extend({component:e=>Uu()(Ah,{},void 0,Uu()(NQ,{view:h6,viewOptions:e}))}),g6=B.Controller.extend({activity(){H.a.trigger("show:view",new im)},alerts(e){this.showAlertsView(e)},legacyAlerts(e){this.showAlertsView(e)},showAlertsView(e){H.a.trigger("show:view",new v6({settingsSection:"status",settingsGroup:"alerts",serverID:e}))},sync(e,t){this.showSyncView(e,t)},legacySync(e,t){this.showSyncView(e,t)},syncedContent(e,t){this.showSyncView(e,t,"syncedContent")},showSyncView(e,t,a="sync"){H.a.trigger("show:view",new m6({settingsSection:"status",settingsGroup:"sync",serverID:e,deviceID:t,routeOrigin:a}))},conversion(e){this.showConversionView(e)},legacyConversion(e){this.showConversionView(e)},showConversionView(e){H.a.trigger("show:view",new v6({settingsSection:"status",settingsGroup:"conversion",serverID:e}))},serverDashboard(e){this.showServerDashboardView(e)},showServerDashboardView(e){H.a.trigger("show:view",new v6({settingsSection:"status",settingsGroup:"server-dashboard",serverID:e}))}}),y6=Ru.extend({controller:new g6,appRoutes:{"!/settings/server/:serverID/status/alerts":"alerts","!/settings/server/:serverID/status/sync(/:deviceID)":"sync","!/settings/server/:serverID/status/conversion":"conversion","!/settings/server/:serverID/status/server-dashboard":"serverDashboard","!/settings/synced-content/:serverID(/:deviceID)":"syncedContent","!/activity":"activity","!/activity/alerts(/:serverID)":"legacyAlerts","!/activity/sync(/:serverID)(/:deviceID)":"legacySync","!/activity/conversion(/:serverID)":"legacyConversion","!/status":"activity","!/status/alerts(/:serverID)":"legacyAlerts","!/status/sync(/:serverID)(/:deviceID)":"legacySync","!/status/conversion(/:serverID)":"legacyConversion"}}),f6=Ru.extend({initialize:function(){Ru.prototype.initialize.apply(this,arguments),this.listenTo(H.a,{"navigate:back":this.onNavigateBack,"navigate:forward":this.onNavigateForward,"navigate:refresh":this.onNavigateRefresh,"navigate:refresh:dashboard":this.onNavigateRefreshDashboard})},onNavigateBack:function(e={}){var t=ie.c("appModel"),a=t.get("history"),i=t.get("forwardHistory");if(a.length<2)return this.navigate("",Object.assign({},e,{trigger:!0}));i.unshift(a.pop()),this.navigate(D.a.last(a),Object.assign({},e,{trigger:!0}))},onNavigateForward:function(e={}){var t=ie.c("appModel").get("forwardHistory");t.length&&this.navigate(t[0],Object.assign({},e,{trigger:!0}))},onNavigateRefresh:function(){I.c.history.loadUrl(I.c.history.getFragment())}}),b6=B.Region.extend({resizeSubscribersCallbacks:[],scrollSubscribersCallbacks:[],sidebarDelay:200,scrollDelay:100,initialize:function(e){D.a.bindAll(this,"onResize","onScroll","onScrollEvent","onSidebarChange"),this.$el=T()(this.el),this.channelName=e.channelName;var t={};t[this.channelName+".subscribe:resize"]=this.onResizeSubscribe,t[this.channelName+".unsubscribe:resize"]=this.onResizeUnsubscribe,t[this.channelName+".subscribe:scroll"]=this.onScrollSubscribe,t[this.channelName+".unsubscribe:scroll"]=this.onScrollUnsubscribe,this.listenTo(H.a,t)},updateSize:function(){this.size={width:this.$el.width(),height:this.$el.height(),innerWidth:this.$el.innerWidth(),innerHeight:this.$el.innerHeight(),outerWidth:this.$el.outerWidth(),outerHeight:this.$el.outerHeight(),offset:this.$el.offset()}},updateScrollPosition:function(){this.scrollPosition={scrollHeight:this.$el[0].scrollHeight,scrollTop:this.$el[0].scrollTop}},onShow:function(){this.updateSize(),this.updateScrollPosition()},onResizeSubscribe:function(e){this.resizeSubscribersCallbacks.push(e),1===this.resizeSubscribersCallbacks.length&&(this.updateSize(),this.listenTo(H.a,{resize:this.onResize,"show:bar hide:bar":this.onSidebarChange})),e(this.size)},onResizeUnsubscribe:function(e){this.resizeSubscribersCallbacks.splice(D.a.indexOf(this.resizeSubscribersCallbacks,e),1),0===this.resizeSubscribersCallbacks.length&&this.stopListening(H.a,"resize show:bar hide:bar")},onScrollSubscribe:function(e){this.scrollSubscribersCallbacks.push(e),1===this.scrollSubscribersCallbacks.length&&(this.updateScrollPosition(),this.$el.on("scroll",this.onScroll)),e(this.scrollPosition)},onScrollUnsubscribe:function(e){this.scrollSubscribersCallbacks.splice(D.a.indexOf(this.scrollSubscribersCallbacks,e),1),0===this.scrollSubscribersCallbacks.length&&this.$el.off("scroll",this.onScroll)},onResize:function(){this.updateSize(),D.a.each(this.resizeSubscribersCallbacks,(function(e){e(this.size)}),this)},onScroll:function(){this.scrollTimeout=window.clearTimeout(this.scrollTimeout),this.scrollTimeout=window.setTimeout(this.onScrollEvent,this.scrollDelay)},onScrollEvent:function(){this.updateScrollPosition(),D.a.each(this.scrollSubscribersCallbacks,(function(e){e(this.scrollPosition)}),this)},onSidebarChange:function(e){"sidebar"===e&&D.a.delay(this.onResize,this.sidebarDelay)}}),I6=a("x2jy");var{Component:S6}=Ed.a;var M6=class extends S6{constructor(e,t){super(e,t),this.fadeOut=()=>{var{currentThemeMusicUrl:e}=this.state;e&&this.props.volume>0?(this.fadeOutStartMilliseconds||(this.fadeOutStartMilliseconds=Date.now()),this.setState(this.updateFrameState)):this.reset()},this.updateFrameState=e=>{var t=e.relativeVolume,a=Date.now()-this.fadeOutStartMilliseconds,i=-t*a/2e3+t;return(i=Math.max(0,i))&&(this.fadeOutTimeoutID=window.setTimeout(this.fadeOut,100)),{volume:i}},this.onDurationMillisecondsChange=e=>{this._currentDurationMilliseconds=e},this.onPositionMillisecondsChange=e=>{var t=Math.floor(e/1e3),a=this.state.shouldStopOnEnd?0:2e3;this.state.positionSeconds!==t&&this.setState({positionSeconds:t}),this._currentDurationMilliseconds-e<=a&&!this.fadeOutTimeoutID&&this.endThemeMusic()},this.onEnd=()=>{this.reset()},this.onMetricsPlayerChange=()=>{},this.state=this.getInitialStateFromProps(e)}componentWillReceiveProps(e){var{volume:t,themeMusicUrl:a}=this.props,{volume:i,themeMusicUrl:r}=e;if(t!==i){var n={relativeVolume:this.getRelativeVolume(i)};this.fadeOutTimeoutID||(n.volume=n.relativeVolume),this.setState(n)}a!==r&&(r?this.reset(r):this.fadeOutTimeoutID||this.endThemeMusic())}componentWillUnmount(){this.reset()}getRelativeVolume(e){return.5*e}getInitialStateFromProps({currentThemeMusicUrl:e,volume:t}){var a=this.getRelativeVolume(t);return{currentThemeMusicUrl:e,relativeVolume:a,volume:a,positionSeconds:0,shouldStopOnEnd:be.a.shouldStopThemeMusicOnNavigate}}reset(e){this.fadeOutTimeoutID=window.clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))}endThemeMusic(){if(this.state.shouldStopOnEnd){var{dispatchEndPlayback:e,playerType:t}=this.props;e({playerType:t}),this.reset()}else this.fadeOut()}render(){var{currentThemeMusicUrl:e,positionSeconds:t,volume:a}=this.state;if(!e)return null;var{component:i,playerType:r}=this.props;return(Uu()(i,{mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:e,playerType:r,positionSeconds:t,volume:a,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd},e))}},C6=Ed.a.createElement,{Component:D6}=Ed.a;var P6={dispatchEndPlayback:Cw.h};class O6 extends D6{shouldComponentUpdate(e){var{volume:t,isPlayerOpen:a}=this.props;return e.volume!==t||e.isPlayerOpen!==a||!e.isBackgroundPending}render(){var e=this.props,{isPlayerOpen:t}=e,a=Je()(e,["isBackgroundPending","isPlayerOpen"]);return t?null:C6(M6,a)}}O6.defaultProps={playerType:I6.a};var j6=Object(Fu.b)((function(){return Object(_u.a)(Object(ie.c)("selectLocalVolume"),e=>e.ui.background,e=>e.ui.audioVideoPlayer.isOpen,(e,t,a)=>({volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:Object(ie.c)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:a}))}),P6)(O6),T6=a.p+"common/img/backgrounds/noise.b38a559594ac52d049bac587b89ec859.png",w6=a.p+"common/img/backgrounds/preset-dark2.24cb7f1a5e2d0102f05f3e59dfad9086.png",E6=a.p+"common/img/backgrounds/preset-light2.479017288a229d836f44315d2b43afdb.png",{Component:N6}=Ed.a,x6={position:"absolute",width:"100%",height:"100%"},A6=Object.assign({},x6,{background:"url("+T6+")",zIndex:2}),L6={opacity:10,background:"343a3f"},k6=Object.assign({},L6,{opacity:25,format:"png"}),R6=Uu()("div",{style:A6});class z6 extends N6{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e,t,a,i,{serverEntityID:r,providerEntityID:n,url:s,allowPreset:o,allowLightPreset:l,allowBlur:c}=this.props,d=window.innerWidth,u=window.innerHeight,p=c?k6:L6;if(c){var h=d/u;e=h>1?640:640*h,t=h>1?640/h:640;var m=Math.max(d/e,u/t);a=Math.round(100/m)}else e=Math.min(window.innerWidth,1920),t=Math.min(window.innerHeight,1080);return!s&&o&&(i=l?E6:w6),Uu()("div",{},void 0,Uu()(YS,{serverEntityID:r,providerEntityID:n,url:s,emptySrc:i,width:e,height:t,upscale:c,containerStyle:x6,filters:i?null:Object.assign({},p,{blur:a}),allowPixelRatioSize:!1,component:QI}),R6)}}z6.defaultProps={allowBlur:!0};var U6=z6,{Component:V6}=Ed.a,B6=Object(_u.a)(e=>e.ui.background,e=>({serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,allowBlur:e.allowBlur,isBackgroundPending:e.isBackgroundPending}));var F6=Object(Fu.b)(e=>B6)(class extends V6{shouldComponentUpdate(e){return!e.isBackgroundPending}render(){var{serverEntityID:e,providerEntityID:t,url:a,allowLightPreset:i,allowBlur:r}=this.props;return(Uu()(U6,{serverEntityID:e,providerEntityID:t,url:a,allowPreset:!0,allowLightPreset:i,allowBlur:r}))}}),H6=Uu()(zh,{},void 0,Uu()(F6,{}),Uu()(j6,{})),_6=Hu.extend({className:"background-container",component:()=>H6}),Q6=a("PZBo"),W6=a.n(Q6),G6=B.ItemView.extend({mixins:[Xo],className:"alert transition-in",template:W6.a,alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),D.a.isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){window.setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){D.a.defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){window.clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=window.setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(window.clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),Y6=Object(Pa.a)("ui/modal/syncDownloadModalChangeTemplateMode"),K6=Object(Pa.a)("ui/modal/syncDownloadModalClose"),q6=(Object(Pa.a)("ui/modal/syncDownloadModalOpen"),Object(Pa.a)("ui/modal/syncDownloadModalSaveSubscription")),Z6=uk({});Oc.a.shape({isOpen:Oc.a.bool,sourceAttr:Oc.a.string.isRequired,ratingKey:Oc.a.string.isRequired,error:Oc.a.string,mediaSubscription:Oc.a.string,templates:Oc.a.array});var X6=Object(_u.a)(Wu,e=>e.mediaSubscriptions);function J6(){return Object(_u.a)((e,{mediaSubscriptionEntityID:t})=>t,X6,(e,t)=>t[e])}var $6=function(e,t){var a=D.a.groupBy(e,e=>e.advanced||t&&t.has(e.id)?"advanced":"basic");return a.basic=D.a.indexBy(a.basic,"id"),a},e8=Ed.a.createElement;var t8=function(e){var{prefs:t}=e;return(Uu()("div",{},void 0,t.map(e=>{var{id:t}=e;return(e8(vB,tp()({key:t},e)))})))},a8=Ed.a.createElement,{useEffect:i8}=Ed.a;var r8=function(e){var{errorMessage:t,isMediaSubscriptionSaving:a,prefGroups:i,className:r,onModalClose:n,onSubmit:s}=e,o=Je()(e,["errorMessage","isMediaSubscriptionSaving","prefGroups","className","onModalClose","onSubmit"]),l=Gb(a)&&!a;return i8(()=>{l&&!t&&n()},[t,l,n]),Uu()(AC,{className:r,onSubmit:s},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Download Options")),t?Uu()(MU,{errorMessage:t}):null,Uu()(fL,{},void 0,Uu()("div",{},"advanced",a8(t8,tp()({},o,{prefs:i.advanced})))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,onPress:n},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",isSpinning:a,kind:Dp},void 0,Object(Ze.default)("Save")))))},n8=Ed.a.createElement,{useCallback:s8}=Ed.a,o8=new Set(["autoDeletionItemPolicyUnwatchedLibrary","autoDeletionItemPolicyWatchedLibrary"]),l8={dispatchSyncDownloadModalChangeTemplateMode:Y6,dispatchSyncDownloadSaveSubscription:q6};var c8=Object(Fu.b)((function(){return Object(_u.a)((e,{modal:t})=>t,J6(),Object(_u.a)(e=>e.downloads.states,(e,{modal:t})=>t,(e,t)=>{var{sourceAttr:a,ratingKey:i}=t;return e.some(e=>e.ratingKey===i&&e.sourceAttr===a&&"saving"===e.state)}),qG,(e,t,a,i)=>{var{hint:r}=t,n=t.target&&i[t.target.metadata],s=$6(t.prefs,o8);return{errorMessage:e.error,hint:r,isMediaSubscriptionSaving:a,prefGroups:s,target:n}})}),l8)((function(e){var{dispatchSyncDownloadSaveSubscription:t,modal:a}=e,i=Je()(e,["dispatchSyncDownloadModalChangeTemplateMode","dispatchSyncDownloadSaveSubscription","modal"]),{ratingKey:r,sourceAttr:n}=a,s=s8(e=>{var a=Je()(e,["mode"]);t({prefs:a,ratingKey:r,sourceAttr:n})},[r,n,t]);return n8(r8,tp()({},i,{onSubmit:s}))})),d8=a("mzNq"),u8=a.n(d8),{useCallback:p8}=Ed.a;var h8=function(e){var{isOpen:t,modal:a,onSyncDownloadModalClose:i}=e,{error:r,mediaSubscription:n,ratingKey:s,sourceAttr:o}=a,l=p8(()=>{i({ratingKey:s,sourceAttr:o})},[s,o,i]);return Uu()(xT,{isOpen:t,metricsPage:Rd.S,onModalClose:l},void 0,r&&!n?Uu()(s_,{message:r,onModalClose:l}):Uu()(UL,{onModalClose:l},void 0,Uu()(c8,{className:u8.a.formContent,modal:a,mediaSubscriptionEntityID:n,onModalClose:l})))},m8=Ed.a.createElement;var v8=function(e){return e.modal?m8(h8,tp()({},e,{isOpen:!0})):null},g8=Object(_u.a)((function(e){return e.ui.syncDownloadModals}),e=>({modal:e.find(e=>e.isOpen)})),y8={onSyncDownloadModalClose:K6},f8=Object(Fu.b)(g8,y8)(v8),b8=Uu()(f8,{}),I8=Hu.extend({component:()=>b8}),S8=Object(_u.a)(Wq,e=>e.announcements),M8=Object(_u.a)(S8,e=>e.filter(e=>!e.read)),C8=Object(_u.a)(Ku,e=>e.filter(e=>!e.isCloud&&!!e.friendlyName)),D8=Object(_u.a)(Wq,e=>e.invites),P8=Uu()("br",{});var O8=function(e){var{isOpen:t,errorMessage:a,onModalClose:i}=e,r=[a||Object(Ze.default)("There was an unexpected error."),Object(Ze.default)("Please visit our forums if you continue to experience problems.")];return Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.O,onModalClose:i},void 0,Uu()(UL,{onModalClose:i},void 0,Uu()(jL,{},void 0,Object(Ze.default)("There was an unexpected error")),Uu()(fL,{},void 0,r.join(" "),P8,Uu()(Vp,{to:Bp,target:"_self",kind:Dp,onPress:i},void 0,Object(Ze.default)("Go to Forums"))),Uu()(CL,{},void 0,Uu()(rT,{className:IL.a.button,"data-autofocus":!0,kind:Dp,onPress:i},void 0,Object(Ze.default)("Okay")))))},{useCallback:j8,useState:T8}=Ed.a;function w8(e){var t=T8(!1),a=t[1];return{isOpen:t[0],onOpen:j8(()=>a(!0),[]),onClose:j8(()=>a(!1),[]),onConfirm:j8(t=>{a(!1),e&&e(t)},[e])}}var E8=a("6DgY"),N8=a.n(E8);var x8=function(){var e=w8(),t=Object(Ze.default)("An unexpected error is impacting the navigation bar");return Uu()("div",{className:N8.a.container},void 0,Uu()(zb,{component:Vp,tooltip:t,tooltipAttachment:"bottomCenter","aria-label":t,onPress:e.onOpen},void 0,Uu()(mh,{className:N8.a.icon})),Uu()(O8,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))};var A8=function(e){return e.remotePlayer},L8=a("VGQb"),k8={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};var R8=xe.a.extend({sessionAttrs:{protocol:Ae.a.string.isRequired,protocolCapabilities:Ae.a.array.isRequired},syncedAttrs:{friendlyName:Ae.a.string.isRequired,capabilities:Ae.a.array,volume:Ae.a.integer.isRequired},defaults:{protocol:L8.a,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse(e){return Object.assign({},e,{friendlyName:(t=e.friendlyName,a=t,Object.keys(k8).forEach(e=>{a=a.replace(new RegExp(Sd("&"+e+";"),"g"),k8[e])}),a)});var t,a}}),z8=Object(Pa.a)("ui/player/remoteCastPlayer/changeCastApiAvailability"),U8=Object(Pa.a)("ui/player/remoteCastPlayer/requestCastSession"),V8=Object(Pa.a)("ui/player/remoteCastPlayer/changeRemoteCastPlayer"),B8={"ui/player/remoteCastPlayer/changeCastApiAvailability"(e,t){e.set({castApiAvailability:t})},"ui/player/remoteCastPlayer/requestCastSession"(e){Object(ie.c)("remoteCastPlayerManager").requestSession()},"ui/player/remoteCastPlayer/changeRemoteCastPlayer"(e,t){var a=e.get("ui"),i=a.get("audioVideoPlayer"),r=a.get("photoPlayer"),n=a.get("romPlayer");if(n.get("isOpen")&&n.set({hasError:!0,errorMessage:"Games are unsupported when connected to a remote player."}),i.get("isOpen")){var s=i.get("isWatchTogether")?{hasError:!0,errorMessage:Object(Ze.default)("Watch Together is not currently supported when connected to a remote player.")}:{confirmLocalToRemote:2,isPaused:!0};i.set(s)}r.get("isOpen")&&r.set({confirmLocalToRemote:2,isPaused:!0}),e.set("remotePlayer",new R8(t,{parse:!0}))}},F8=new J.a({props:["capabilities","video","music","photo"]}),H8=a("YSW/"),_8=xe.a.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:ht.e,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",url(){return"/media/subscriptions/"+this.get("key")},sessionAttrs:{dvrID:Ae.a.integer,channelIdentifier:Ae.a.string,activityUUID:Ae.a.string,currentPosition:Ae.a.integer,nextPosition:Ae.a.integer,lastSeekPosition:Ae.a.integer,startedAt:Ae.a.integer,captureBuffer:Ae.a.object},syncedAttrs:{key:Ae.a.string,type:Ae.a.integer,title:Ae.a.string},syncedRelations:{grabOperation:{relationClass:H8.a,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:om.default,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:om.default,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){var t=e[this.rootPropertyName]||e,a=t.Timeline,i=t.AlsoAiring;return a&&(t.Timeline=a.Metadata),i&&(t.AlsoAiring=i.Metadata),e}}),Q8=a("HN5a");function W8(e){var t;if(e){var a=_.parseUrl(e),i=/^\/playQueues\/([^/?]+)/.exec(a.pathname||a.href);t=i?i[1]:void 0}return t}var G8=a("aNE2"),Y8=a("MakK"),K8=a("S5Gm");function q8(e){return LT(e.get("user").get("features").getState())}var Z8=a("ab5t"),X8=a("pYVw"),J8=a("ldqa");var $8=function({protocol:e,protocolCapabilities:t=[],providerIdentifier:a,userFeaturesByUUID:i,metadataItemModel:r,playQueueType:n,isWatchTogether:s=!1}){if(e!==L8.a&&e!==L8.b)return!1;if(n===X8.c)return!1;if(s)return!1;var o=jt.k(a,[jt.d,jt.h]),l=jt.k(a,[jt.c,jt.b]),c=jt.k(a,[jt.j,jt.g]),d=jt.k(a,jt.f),u=jt.k(a,jt.e),p=jt.k(a,[jt.i]),h=e===L8.a||i[Tt.j],m=i[Tt.G],v=e===L8.a||t.includes("provider-playback");return!!(o||l&&h||c&&m||d&&v||u&&v||p&&v)},e9=a("Xi+k"),t9=Object(Pa.a)("ui/player/remotePlayer/changeRemotePlayer"),a9=Object(Pa.a)("ui/player/remotePlayer/syncRemotePlayerCurrentItem"),i9=Object(Pa.a)("ui/player/remotePlayer/syncRemotePlayerState"),r9=Object(Pa.a)("ui/player/remotePlayer/syncRemotePlayQueueState"),n9=Object(Pa.a)("ui/player/remotePlayer/syncRemoteQuality"),s9=Object(Pa.a)("ui/player/remotePlayer/syncRemoteStreams"),o9=Object(Pa.a)("ui/player/remotePlayer/syncRemoteExperienceSettings"),l9=Object(Pa.a)("ui/player/remotePlayer/changeRemotePlayerVolume"),c9=Object(Pa.a)("ui/player/remotePlayer/showRemotePlayerError"),d9=Object(Pa.a)("ui/player/remotePlayer/mirrorDetails"),u9=Object(Pa.a)("ui/player/remotePlayer/discoverRemotePlayers"),p9=Object(Pa.a)("ui/player/remotePlayer/idleRemotePlayer"),h9=Object(Pa.a)("ui/player/remotePlayer/removeRemotePlayer"),m9=Object(Pa.a)("ui/player/remotePlayer/confirmRemoteToLocal"),v9=Object(Pa.a)("ui/player/remotePlyaer/cancelLocalToRemote"),g9=Object(Pa.a)("ui/player/remotePlayer/closeLocalToRemote"),y9=Object(Pa.a)("ui/player/remotePlayer/confirmLocalToRemote");function f9(e,t){var a=Object(I6.d)(t);return e.get("ui").get(a+"Player")}function b9(e,t){var{appModel:a,serverModel:i,providerModel:r,playerModel:n,playQueueModel:s,openState:o,mediaIndex:l,bitrate:c,initialState:d}=e;if(!n.get("isPlayQueueLoading")){var u=s.get("type");n.restoreDefaults({serverEntityID:i.entityID(),providerEntityID:r.entityID(),isOpen:!0,openState:o||u===X8.a?J8.b:J8.a,isPlayQueueLoading:!0,playQueue:s,playbackStartTime:Date.now()}),function({serverModel:e,providerModel:t,playQueueModel:a}){if(!a.get("isLocal"))return Object(K8.a)(a);var i={server:e,provider:t},r=new Qi.default({containerKey:a.get("playQueueID")},i);return r.fetch().then(()=>r.get("metadataItems").length?Object(Y8.a)({providerModel:t,metadataListModel:r,playQueueModel:a}).then(null,()=>T.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO").promise()):T.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_EMPTY").promise(),()=>T.a.Deferred().reject("ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE").promise())}({serverModel:i,providerModel:r,playQueueModel:s}).done(()=>{n.set(Object.assign({isPlayQueueLoading:!1},d)),t(n9({playQueueType:u,mediaIndex:l,bitrate:c}))}).fail(()=>{var e=a.get("remotePlayer");if(e){var t=e.get("friendlyName");n.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}})}}function I9(e,t,a){return e.get("servers").populateServer(t).then(t=>(t.get("isCloud")?e.get("user").get("providers"):t.get("providers")).populate().then(e=>e)).then(e=>{var t=e.get(a)||e.get(jt.d);return t?t.populate().then(e=>e):T.a.Deferred().reject().promise()})}var S9={"ui/player/remotePlayer/changeRemotePlayer"(e,t){var a=vx(e,{playerIdentifier:t});e.set("remotePlayer",a)},"ui/player/remotePlayer/syncRemotePlayerCurrentItem"(e,{playQueueType:t,options:a},i){var{machineIdentifier:r,providerIdentifier:n,containerKey:s,key:o,mediaIndex:l,bitrate:c,playQueueItemID:d,shouldRefreshPlayQueue:u,initialState:p}=a;if(s&&o){var h=f9(e,t);if(h){var m=r||pw.a,v=e.get("servers").populateServer(m),g=I9(e,r,n),y=g.then(e=>function({providerModel:e,currentPlayQueueModel:t,containerKey:a,playQueueOptions:i}){var r=W8(a)||a;return t&&t.get("playQueueID")===r?t:Object(Q8.a)(Object.assign({providerModel:e,playQueueID:r},i))}({providerModel:e,currentPlayQueueModel:h.get("playQueue"),containerKey:s,playQueueOptions:{playQueueType:t,playQueueOwn:!1}}));T.a.when(v,g,y).then((t,a,r)=>{if(h.get("playQueue")===r){if(!h.get("isPlayQueueLoading")&&!r.get("isUpdatePending")&&u){var n=r.get("playQueueItems"),s=null!=d?n.get(d):n.find(e=>o===e.get("metadataItem").get("key"));if(h.set({isLyricsVisible:!1}),s){var m=r.get("playQueueSelectedItemID"),v=n.get(m),g=r.get("playQueueSelectedItemOffset"),y=n.indexOf(v),f=n.indexOf(s),b=s.get("metadataItem"),I=s.get("playQueueItemID");Object(O.a)("[Cast] The current metadata item on the remote player changed to "+b.get("title")),Object(K8.a)(r).done(()=>{r.set({playQueueSelectedItemID:I,playQueueSelectedItemOffset:g+(f-y)})})}else Object(K8.a)(r)}}else b9({appModel:e,serverModel:t,providerModel:a,playerModel:h,playQueueModel:r,openState:h.get("isOpen")?null:J8.b,mediaIndex:l,bitrate:c,initialState:p},i)}).fail(()=>{var t=e.get("remotePlayer");if(t){var a=t.get("friendlyName");h.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)('"{playerName}" is playing media from an unknown source.',{playerName:a})})}})}}},"ui/player/remotePlayer/syncRemotePlayerState"(e,t){var{playQueueType:a,playerState:i,providerIdentifier:r,machineIdentifier:n,liveTVSessionSubscriptionKey:s,liveTVSessionStartedAt:o,liveTVSessionSeekRangeStartedAt:l,liveTVSessionSeekStartSeconds:c,liveTVSessionSeekEndSeconds:d,liveTVSessionCurrentPosition:u,liveTVSessionChannelIdentifier:p}=t,h=f9(e,a);if(h&&h.get("isOpen")){var m=Object(Ta.m)(e,{serverEntityID:h.get("serverEntityID")});I9(e,n,r).then(e=>function(e,t,a,i,r,n,s,o,l,c){if(!i)return a.set({liveTVSession:null}),T.a.Deferred().resolve().promise();var d=a.get("liveTVSession"),u={key:i,currentPosition:l,startedAt:r,channelIdentifier:c,captureBuffer:{startedAt:n,seekStartSeconds:s,seekEndSeconds:o},nextPosition:null,lastSeekPosition:null};return d&&d.get("key")===i||a.set({liveTVSession:new _8(u,{provider:t,server:t.server})}),e.get("isCloud")?(null==d||d.set(u),T.a.Deferred().resolve().promise()):a.get("liveTVSession").populate().then(e=>(e.set(u),e))}(m,e,h,s,o,l,c,d,u,p)),Object(wa.a)(()=>{h.set(i)})}},"ui/player/remotePlayer/syncRemotePlayQueueState"(e,t){var{playQueueType:a,playQueueVersion:i,repeatAll:r,repeatOne:n}=t,s=f9(e,a);if(s&&s.get("isOpen")){var o=s.get("playQueue");if(s.set({repeatAll:r,repeatOne:n}),o){var l=o.get("playQueueVersion");o.set("repeat",r),!o.get("isUpdatePending")&&l<i&&o.fetch()}}},"ui/player/remotePlayer/syncRemoteQuality"(e,{playQueueType:t,mediaIndex:a=0,bitrate:i}){var r=f9(e,t);if(r&&r.get("isOpen")&&!r.get("isPlayQueueLoading")){var n=r.get("playQueue"),s=n.get("playQueueItems").get(n.get("playQueueSelectedItemID"));if(s){var o=s.get("metadataItem"),l=Object(Wt.u)(s.get("type"));if(l&&l.mediaType===tl.e){var c=o.get("Media")[a],d=F8.prop("video"),u=gl.a.getAvailableQualitiesFor(c,o.server,{lowestQualityIndex:d.lowestQualityIndex}),p=e.get("user").get("experienceSettings"),h=null==i?p.defaults().localQuality:gl.a.getNearestIndexToBitrate(i);if(gl.a.isExplicitQuality(h)){var m=u[0],v=u[u.length-1];m&&h<m.index?h=m.index:v&&h>v.index&&(h=gl.a.ORIGINAL)}r.set({qualityIndex:h,availableQualities:u})}}}},"ui/player/remotePlayer/syncRemoteStreams"(e,t,a){var{playQueueType:i,key:r,mediaIndex:n=0,partIndex:s=0,audioStreamID:o,subtitleStreamID:l}=t,c=f9(e,i);if(c&&c.get("isOpen")&&!c.get("isPlayQueueLoading")){var d=c.get("playQueue"),u=d.get("playQueueItems").get(d.get("playQueueSelectedItemID")).get("metadataItem"),p=u.get("Media")[n],h=p&&p.Part[s];if(r===u.get("key")&&h){var m=D.a.findWhere(h.Stream,{streamType:kM.a.get("audio").id,selected:!0}),v=D.a.findWhere(h.Stream,{streamType:kM.a.get("subtitles").id,selected:!0}),g=null==o?void 0:o.toString(),y=(null==l?void 0:l.toString())||LM.a;null!=o&&m&&m.id!==g&&a(Object(Z8.g)({metadataItemEntityID:u.entityID(),mediaIndex:n,streamTypeString:"audio",streamID:g,updateLocalOnly:!0})),v&&v.id!==y&&a(Object(Z8.g)({metadataItemEntityID:u.entityID(),mediaIndex:n,streamTypeString:"subtitles",streamID:y,updateLocalOnly:!0}))}}},"ui/player/remotePlayer/syncRemoteExperienceSettings"(e,t){e.get("user").get("experienceSettings").set(t)},"ui/player/remotePlayer/changeRemotePlayerVolume"(e,t){e.get("remotePlayer").set("volume",t)},"ui/player/remotePlayer/showRemotePlayerError"(e,{playQueueType:t,errorMessage:a}){var i=f9(e,t);i&&i.restoreDefaults({hasError:!0,errorMessage:a})},"ui/player/remotePlayer/mirrorDetails"(e,t){var a=Object(G8.a)(e),i=Object(Ta.j)(e,t),r=Object(Ta.f)(e,t),n=e.get("remotePlayer"),s=n.get("protocol"),o=n.get("protocolCapabilities");$8({protocol:s,protocolCapabilities:o,providerIdentifier:va(i.get("identifier"),i.get("providerIdentifier")),userFeaturesByUUID:q8(e)})&&a.mirrorDetails(r)},"ui/player/remotePlayer/discoverRemotePlayers"(e){var t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),e.get("user").get("desktop").get("cloudCompanions").forEach(e=>{e.get("cloudPlayers").fetch().then(()=>e.set({linkState:"linked"}),(t,{status:a})=>e.set({linkState:402===a?"unable":"able"}))})},"ui/player/remotePlayer/idleRemotePlayer"(e,{playQueueType:t}){f9(e,t).restoreDefaults()},"ui/player/remotePlayer/removeRemotePlayer"(e){var t=e.get("remotePlayer");if(t){var a=e.get("ui"),i=a.get("audioVideoPlayer"),r=a.get("photoPlayer");i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null}),r.get("isOpen")&&r.set({confirmRemoteToLocal:!0,controllable:null});var n=t.get("protocol");n===L8.a?Object(ie.c)("remoteCastPlayerManager").endSession():n===L8.b&&Object(ie.c)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")}},"ui/player/remotePlayer/confirmRemoteToLocal"(e,{playerType:t}){var a=e.get("ui").get(t+"Player"),i=a.get("playQueue"),r=i.get("playQueueItems"),n=i.get("playQueueSelectedItemID"),s=r.get(n).get("metadataItem");i.set("own",!0),Object(K8.a)(i),a.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:s.entityID(),startOffsetMilliseconds:1e3*a.get("positionSeconds")})},"ui/player/remotePlyaer/cancelLocalToRemote"(e,{playerType:t},a){Object(e9.c)(e,t).set("confirmLocalToRemote",1),a(Object(Cw.h)({playerType:t}))},"ui/player/remotePlayer/closeLocalToRemote"(e,{playerType:t}){Object(e9.c)(e,t).set("confirmLocalToRemote",1)},"ui/player/remotePlayer/confirmLocalToRemote"(e,{playerType:t}){var a=Object(e9.c)(e,t);Object(G8.a)(e).startPlayback(a),a.set("confirmLocalToRemote",3)}},M9=[1,2,3,4],C9=(Oc.a.oneOf(M9),Ae.a.oneOf(...M9));function D9(){return Object(_u.a)(e=>e.ui,(e,{playerType:t})=>t,(e,t)=>e[t+"Player"])}function P9(e){return Object(_u.a)(D9(),t=>t?t[e]:void 0)}function O9(){return Object(_u.a)(pv,P9("providerEntityID"),(e,t)=>e[t])}var j9=function(){return Object(_u.a)(O9(),e=>va(e.identifier,e.providerIdentifier))};var T9=function(e){return e.castApiAvailability};var w9=function(){return Object(_u.a)(T9,j9(),kT,(e,t,a)=>$8({protocol:L8.a,providerIdentifier:t,userFeaturesByUUID:a})?e:1)};var E9=function(){return(e,t)=>t.playerType?w9()(e,t):T9(e,t)},N9=Object(_u.a)(Wq,({cloudCompanions:e})=>e),x9=Object(_u.a)(N9,e=>e.reduce((e,{cloudPlayers:t})=>e.concat(t),[])),A9=Object(_u.a)(e=>e.companionServer,Gu,(e,t)=>t[e]),L9=Object(_u.a)(A9,e=>e?e.desktop.players:[]),k9=Object(_u.a)(L9,x9,(e,t)=>e.concat(t));var R9=function(){return Object(_u.a)(j9(),kT,k9,(e,t,a)=>a.filter(({protocol:a,protocolCapabilities:i})=>$8({protocol:a,protocolCapabilities:i,providerIdentifier:e,userFeaturesByUUID:t})))};var z9=function(){return(e,t)=>t.playerType?R9()(e,t):k9(e,t)},U9=Object(_u.a)(N9,Yu,(e,t)=>e.filter(({identifier:e})=>e.includes("sonos")).map(e=>{var a=_.join(e.linkURL,{"X-Plex-Token":t.accessToken,next:window.location.href});return{title:e?e.title:"Sonos",state:e?e.linkState:"untested",url:a}})),V9=Object(_u.a)(A9,e=>e?e.desktop.neighborhoodDevices:[]),B9=Object(_u.a)(V9,e=>!!e.find(({uuid:e})=>e.includes("RINCON")));Oc.a.shape({title:Oc.a.string.isRequired,state:Oc.a.string.isRequired,url:Oc.a.string});function F9(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}F9.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var H9=F9;function _9(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}_9.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Q9=_9;function W9(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}W9.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var G9=W9;var Y9=function(e){var{isOpen:t,onClose:a}=e;return(Uu()(xT,{isOpen:t,metricsPage:Rd.d,size:jp,onModalClose:a},void 0,Uu()(UL,{onModalClose:a},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Chromecast unavailable")),Uu()(fL,{},void 0,Uu()(oT,{message:Object(Ze.default)("Casting to Chromecast requires a secure connection to the Plex Web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:Vp,to:"https://app.plex.tv/desktop"+window.location.hash,kind:Dp}]})))))},{Component:K9}=Ed.a;var q9=class extends K9{constructor(...e){super(...e),this.onPress=e=>{this.props.onPlayerSelect(this.props.playerIdentifier),this.props.onPress(e)}}render(){return Uu()(Gg,{onPress:this.onPress},void 0,this.props.children)}},Z9=a("IlPc"),X9=a.n(Z9),{Component:J9,Fragment:$9}=Ed.a,e7=Uu()("div",{},void 0,"Sonos..."),t7=Uu()(TJ,{},"separator");var a7=class extends J9{constructor(e,t){super(e,t),this.onCastPress=e=>{this.props.onCastPress(e),this.props.onMenuClose(e)},this.onCastMissingPress=e=>{this.setState({isCastMissingModalOpen:!0})},this.onCastMissingModalClose=()=>{this.setState({isCastMissingModalOpen:!1},()=>{this.props.onMenuClose()})},this.onSonosUpsellPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.onDisconnectPress=e=>{this.props.onDisconnectPress(e),this.props.onMenuClose(e)},this.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1}}render(){var{castApiAvailability:e,castAppTitle:t,sonosLinks:a,isRemotePlayer:i,remotePlayerName:r,remotePlayerProduct:n,players:s,onMenuClose:o,onPlayerSelect:l}=this.props,{isCastMissingModalOpen:c,isPlexPassModalOpen:d}=this.state,u=a.filter(({state:e})=>"able"===e),p=!i&&2===e,h=!i&&3===e,m=!i&&u.length,v=!i&&a.length&&a.every(({state:e})=>"unable"===e),g=p||h||m||v,y=!i&&!!s.length,f=!(i||p||h||y);return Uu()("div",{},void 0,i?[Uu()("div",{className:X9.a.remotePlayerName},"name",r),Uu()("div",{className:X9.a.remoteProduct},"product",n),Uu()(Gg,{onPress:this.onDisconnectPress},"disconnect",Uu()(G9,{className:X9.a.disconnectIcon,"aria-label":Object(Ze.default)("Disconnect")}),Object(Ze.default)("Disconnect"))]:null,p?Uu()(Gg,{onPress:this.onCastPress},"cast",t?Object(Ze.default)("Cast ({title})...",{title:t}):Object(Ze.default)("Cast...")):null,h?Uu()($9,{},void 0,Uu()(Y9,{isOpen:c,onClose:this.onCastMissingModalClose}),Uu()(Gg,{onPress:this.onCastMissingPress},"cast",Object(Ze.default)("Cast..."))):null,null,m?u.map(e=>Uu()(Gg,{to:e.url},e.url,Uu()("div",{},void 0,e.title,"..."),Uu()("div",{className:X9.a.menuItemSubtitle},void 0,Object(Ze.default)("Link your Sonos account")))):null,v?Uu()(Gg,{onPress:this.onSonosUpsellPress},"sonosUpsell",e7,Uu()("div",{className:X9.a.menuItemSubtitle},void 0,Object(Ze.default)("Upgrade to a Plex Pass"))):null,g&&y?t7:null,y?s.map(({playerIdentifier:e,friendlyName:t,product:a})=>Uu()(q9,{playerIdentifier:e,onPress:o,onPlayerSelect:l},e,Uu()("div",{},void 0,t),Uu()("div",{className:X9.a.remotePlayerProduct},void 0,a))):null,f?Uu()("div",{className:X9.a.emptyMessage},void 0,Object(Ze.default)("No players found")):null,Uu()(ek,{origin:"sonos",isOpen:d,onModalClose:this.onPlexPassModalClose}))}},{Component:i7,Fragment:r7}=Ed.a;class n7 extends i7{constructor(e,t){super(e,t),this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}componentDidUpdate(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()}render(){var{className:e,iconClassName:t,iconComponent:a,isRemotePlayer:i,castApiAvailability:r,castAppTitle:n,sonosLinks:s,hasCompanionServer:o,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:h}=this.props,m=2===r;return Uu()(r7,{},void 0,Uu()(a,{className:e,iconClassName:t,id:this._menuButtonID,ariaLabel:Object(Ze.default)("Select Player"),title:this.state.isMenuOpen?null:Object(Ze.default)("Select Player"),iconComponent:i?Q9:H9,isDisabled:!m&&!o,isSelected:i,onPress:this.onPress}),Uu()(Fg,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:wp,onMenuClose:this.onMenuClose},void 0,Uu()(a7,{castApiAvailability:r,castAppTitle:n,sonosLinks:s,isRemotePlayer:i,remotePlayerName:l,remotePlayerProduct:c,players:d,onPlayerSelect:u,onCastPress:p,onDisconnectPress:h,onMenuClose:this.onMenuClose})))}}n7.defaultProps={iconComponent:KG};var s7=n7,o7=()=>{};var l7=Object(Fu.b)((function(){return Object(_u.a)(E9(),A8,z9(),U9,B9,e=>e.companionServer,o7,(e,t,a,i,r,n,s)=>({castApiAvailability:e,castAppTitle:s,sonosLinks:r?i:[],hasCompanionServer:!!n,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:a}))}),(function(e){return{onDiscoverPlayers(t){e(u9())},onPlayerSelect(e){Object(ie.c)("remotePlexPlayerManager").requestSession(e)},onCastPress(t){e(U8())},onDisconnectPress(t){e(h9())}}}))(s7),c7=a("2ewr"),d7=a.n(c7),u7=Ed.a.createElement;function p7(e){var{className:t,tooltipClassName:a,tooltipFocusedClassName:i,labelClassName:r,iconClassName:n,iconComponent:s,alertIconClassName:o,alertIconComponent:l,title:c,ariaLabel:d,label:u,iconProps:p}=e,h=Je()(e,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),m=c||d;return u7(zb,tp()({className:t,tooltipClassName:a,tooltipFocusedClassName:i,component:Vp,tooltip:c,"aria-label":m},h),u7(s,tp()({className:n},p)),l?Uu()(l,{className:o}):null,u?Uu()("span",{className:r},void 0,u):null)}p7.defaultProps={className:d7.a.button,iconClassName:d7.a.icon,alertIconClassName:d7.a.alertIcon,tooltipClassName:d7.a.tooltip,tooltipFocusedClassName:d7.a.tooltipTriggerHasFocus};var h7=p7;function m7(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}m7.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var v7=m7;function g7(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}g7.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var y7=g7,f7=a("Auv6"),b7=a.n(f7);var I7=function(e){var{shouldShowAlertDot:t}=e;return(Uu()(h7,{className:b7.a.button,to:"#!/settings/web/general",iconComponent:y7,alertIconComponent:t?v7:null,title:Object(Ze.default)("Settings")}))},S7=Object(_u.a)(e6,e=>({shouldShowAlertDot:e})),M7=Object(Fu.b)(S7)(I7),C7=a("FSRn"),D7=a.n(C7),P7=Ed.a.createElement;function O7(e){var{children:t,className:a}=e,i=Je()(e,["children","className"]);return(P7(Vp,tp()({},i,{className:a}),t))}O7.defaultProps={className:D7.a.button};var j7=O7,T7=a("FYiy"),w7=a.n(T7),{useCallback:E7}=Ed.a;var N7=function(){var e=E7(()=>{H.a.trigger("navigate","login")},[]);return(Uu()(j7,{className:w7.a.signInButton,"data-qa-id":"signInButton",onPress:e},void 0,Object(Ze.default)("Sign In")))},{useCallback:x7}=Ed.a;var A7=function(){var e=x7(()=>{H.a.trigger("navigate","signUp")},[]);return(Uu()(j7,{"data-qa-id":"signUpButton",onPress:e},void 0,Object(Ze.default)("Sign Up")))},L7=Object(_u.a)(Nv.a,e=>e.sidebarSettings),k7=Object(_u.a)(L7,e=>e.pinnedSources);function R7(e){var{sourceType:t,sourceServer:a,sourceProvider:i,sourceDirectory:r}=e,n={key:YQ(t,a.machineIdentifier,i.identifier,r.id),sourceType:t,serverEntityID:a.entityID,machineIdentifier:a.machineIdentifier,providerEntityID:i.entityID,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,directoryID:r.id,directoryIcon:r.icon,title:r.title,serverFriendlyName:a.friendlyName,serverSourceTitle:a.sourceTitle,providerSourceTitle:i.sourceTitle,isLocal:a.isConnected&&a.activeConnection&&a.activeConnection.isPrivate,isUnavailable:a.isUnavailable,isOutOfDate:a.isOutOfDate,isUnclaimedServer:a.isConnected&&!a.isClaimed&&!a.isCloud,isFullOwnedServer:a.isFullOwnedServer,isProviderReady:i.isPopulated||null!=i.error||a.isUnavailable||a.isUnauthorized};return a.isCloud?n.isCloud=!0:t===KQ&&(n.title=Object(Ze.default)("Live TV & DVR")),n}function z7(e,t,a){var{isCloud:i,isFullOwnedServer:r,serverFriendlyName:n,serverSourceTitle:s,providerSourceTitle:o}=e,{ownedSources:l,sharedSources:c}=t,d=Object.keys(l).length,u=Object.keys(c).length;if(i)return d>0||u>0?o:void 0;if(r)return d>1?n:void 0;var p=c[s];return(p?p.length:0)>1?a?n:s+"  "+n:d>0||u>1?s:void 0}function U7(e){return e.reduce((e,t)=>{var{isFullOwnedServer:a,serverSourceTitle:i,machineIdentifier:r}=t;if(!a&&i){null==e.sharedSources[i]&&(e.sharedSources[i]=[]);var n=e.sharedSources[i];n.includes(r)||n.push(r)}return r&&a&&(null==e.ownedSources[r]&&(e.ownedSources[r]=0),e.ownedSources[r]++),e},{sharedSources:{},ownedSources:{}})}function V7(e,t){var a=Kt(e);return a&&a.directories?a.directories.find(e=>e.id===t):null}function B7(){return Object(_u.a)(k7,qu.a,Ku,Yu,pv,e=>!e.user.isFullUser,(e,t,a,i,r,n)=>{var s=[];return e.forEach(e=>{if(!e.isHidden){var n=function(e,t){return e.find(e=>e.machineIdentifier===t)}(a,e.machineIdentifier),o=function(e,t,a,i){if(!e)return null;var r=(e.isCloud?a:e.providers).find(e=>{var a=t[e];return a&&a.identifier===i});return t[r]}(n,r,t.providers,e.providerIdentifier),l=V7(o,e.directoryID),c=JQ(o,l);if(c)s.push(R7({sourceType:c.key,sourceServer:n,sourceProvider:o,sourceDirectory:l}));else{var d=function(e,t,a,i){return e?e.isCloud?e.connectionTestResult!==qa.UNAVAILABLE&&!i.isProvidersPopulated&&!i.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===qa.PENDING:a.isResourcesPending}(n,o,i,t);s.push(Object.assign({},e,{serverEntityID:n&&n.entityID,providerEntityID:o&&o.entityID,isUnavailable:!d,isProviderReady:o?o.isPopulated||null!=o.error:!d}))}}}),function(e,t){var a=U7(e);return e.map(e=>Object.assign({},e,{titleDetail:z7(e,a,t)}))}(s,n)})}var F7=Object(_u.a)(mv("providers"),pv,(e,t)=>e?e.map(e=>t[e]):[]),H7=Object(_u.a)(Yu,mv("isProvidersPopulated"),mv("providersError"),F7,(e,t,a,i)=>{if(e.isRejected)return!0;var r=(t||!!a)&&i.every(e=>e.isPopulated||!!e.error);return e.isResourcesPopulated&&r}),_7=xe.a.extend({name:"SearchResultAdditionalSourceModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,metadataItemEntityID:Ae.a.string,tagItem:Ae.a.object}}),Q7=ke.a.extend({name:"SearchResultAdditionalSourceCollection",model:_7}),W7=xe.a.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:ht.m,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType(){return Object(st.a)(this.server)},idAttribute:"key",sessionRelations:{additionalSources:{relationClass:Q7}},syncedAttrs:{key:Ae.a.string,reasonID:Ae.a.integer,reason:Ae.a.string,reasonTitle:Ae.a.string},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0},tagItem:{relationClass:Rw,deferred:!0}},augmentResponse(e){var{key:t,reason:a,reasonTitle:i,reasonID:r}=e,n=Je()(e,["key","reason","reasonTitle","reasonID"]);return{key:t,reason:a,reasonTitle:i,reasonID:r,[n.tag?"tagItem":"metadataItem"]:Object.assign({key:t},n)}}}),G7=ke.a.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:W7,responseType(){return Object(st.a)(this.server)}}),Y7=xe.a.extend({name:"SearchHubModel",context:["server","provider"],responseType(){return Object(st.a)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:Ae.a.string,size:Ae.a.integer,type:Ae.a.string,subtype:Ae.a.string,title:Ae.a.string,context:Ae.a.string},syncedRelations:{metadataResults:{relationClass:G7,rootPropertyName:"Metadata",options:e=>({metricsContext:e.context})},tagResults:{relationClass:G7,rootPropertyName:"Directory",options:e=>({metricsContext:e.context})}}}),K7=ke.a.extend({name:"SearchHubCollection",context:["server","provider"],model:Y7,responseType(){return Object(st.a)(this.server)}}),q7=xe.a.extend({name:"SearchModel",context:["server","provider","isContextual","includeCollections","includeExternalMedia"],responseType(){return Object(st.a)(this.server)},url(){var e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),this.isContextual&&(e.contextual=1),this.get("contentDirectoryID")&&(e.contentDirectoryID=this.get("contentDirectoryID")),_.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:Ae.a.string,serverEntityID:Ae.a.string,key:Ae.a.string,contentDirectoryID:Ae.a.string,searchTitle:Ae.a.string,isSearchPending:Ae.a.boolean,isSearchPopulated:Ae.a.boolean,searchError:Ae.a.object},syncedRelations:{hubs:{relationClass:K7,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1,contentDirectoryID:""},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){if(!e.Hub)return e;var t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter(e=>parseInt(e.size,10)>0),e}}),Z7=Object(Kx.a)(["id","typeString"],[{id:0,typeString:"tag",title:()=>Object(Ze.default)("Tag")},{id:1,typeString:"genre",title:()=>Object(Ze.default)("Genre")},{id:2,typeString:"collection",title:()=>Object(Ze.default)("Collection")},{id:3,typeString:"bookmark",title:()=>Object(Ze.default)("Bookmark")},{id:4,typeString:"director",title:()=>Object(Ze.default)("Director"),isPerson:!0},{id:5,typeString:"writer",title:()=>Object(Ze.default)("Writer"),isPerson:!0},{id:6,typeString:"actor",title:()=>Object(Ze.default)("Actor"),isPerson:!0},{id:7,typeString:"producer",title:()=>Object(Ze.default)("Producer"),isPerson:!0},{id:8,typeString:"country",title:()=>Object(Ze.default)("Country")},{id:9,typeString:"chapter",title:()=>Object(Ze.default)("Chapter")},{id:10,typeString:"review",title:()=>Object(Ze.default)("Review")},{id:11,typeString:"label",title:()=>Object(Ze.default)("Label")},{id:42,typeString:"versionBackgroundProcessingTarget",title:()=>Object(Ze.default)("Version Background Processing Target")},{id:200,typeString:"make",title:()=>Object(Ze.default)("Make")},{id:201,typeString:"model",title:()=>Object(Ze.default)("Model")},{id:202,typeString:"aperture",title:()=>Object(Ze.default)("Aperture")},{id:203,typeString:"exposure",title:()=>Object(Ze.default)("Exposure")},{id:204,typeString:"iso",title:()=>Object(Ze.default)("ISO")},{id:205,typeString:"lens",title:()=>Object(Ze.default)("Lens")},{id:206,typeString:"device",title:()=>Object(Ze.default)("Device")},{id:207,typeString:"autotag",title:()=>Object(Ze.default)("Autotag")},{id:400,typeString:"place",title:()=>Object(Ze.default)("Place")},{id:300,typeString:"mood",title:()=>Object(Ze.default)("Mood")},{id:301,typeString:"bpm",title:()=>Object(Ze.default)("BPM")},{id:302,typeString:"composer",title:()=>Object(Ze.default)("Composer")},{id:303,typeString:"featuring",title:()=>Object(Ze.default)("Featuring")},{id:304,typeString:"trackArtist",title:()=>Object(Ze.default)("Track Artist")},{id:305,typeString:"similarArtist",title:()=>Object(Ze.default)("Similar Artist")},{id:306,typeString:"concert",title:()=>Object(Ze.default)("Concert")}]);function X7(e,t,a,i={},r){if(a){var n=a.pivots.find(({key:e})=>e.includes(a.key));i.key=t.identifier===jt.d?n.key:a.key}return Jt(e,t,a,i,r)}function J7(e,t,a={},i,r){var n=a.type,s=a.subtype,o=a.playlistType,l=a.key;if(!a.skipDetails&&n!==Wt.k)return n===Wt.p&&s!==OM.c&&(l=a.skipParent?a.grandparentKey:a.parentKey),!l&&a.librarySectionID?X7(e,t,r,i):lu(e,t,l,i,o)}var $7="quickSearch/initQuickSearch",eee="quickSearch/resetQuickSearch",tee="quickSearch/fetchQuickSearch",aee="quickSearch/changeQuickSearchQuery",iee="quickSearch/changeQuickSearchSettings",ree="quickSearch/selectQuickSearchResult",nee="quickSearch/navigateQuickSearchResult",see="quickSearch/playQuickSearchResult",oee=Object(Pa.a)($7),lee=Object(Pa.a)(eee),cee=Object(Pa.a)(tee),dee=Object(Pa.a)(aee),uee=Object(Pa.a)(iee),pee=Object(Pa.a)(ree),hee=Object(Pa.a)(nee),mee=Object(Pa.a)(see);function vee(e){return e.get("ui").get("quickSearch")}function gee(e){return e.map(e=>e.entityID())}function yee(e,t,a){var{isCloud:i,isFullOwnedServer:r,title:n,serverFriendlyName:s,serverSourceTitle:o,providerSourceTitle:l}=e,c=jt.k(e.providerIdentifier,jt.d);if(i)return l?n+" - "+l:n;if(r&&c)return s;if(r&&!c)return n+"  "+s;var{ownedSources:d,sharedSources:u}=t,p=Object.keys(d).length,h=Object.keys(u).length,m=u[o];return(m?m.length:0)>1?a?s:o+"  "+s:p>0||h>0?o:void 0}var fee={[$7](e,t,a){var i=vee(e),r=e.get("user").get("isFullUser"),n=i.get("searches"),{searchSources:s}=t,o=U7(s),l=Object(sw.a)(e,Tt.a);n.reset(s.reduce((t,a)=>{var{providerEntityID:n}=a,s=Object(Ta.j)(e,{providerEntityID:n});if(!s)return t;var c=s.get("features").get(Ot.o),d=t.find(e=>e.id===n);if(d){if(d&&a.directoryID){var u=d.get("contentDirectoryID").split(",");u.includes(a.directoryID)||u.push(a.directoryID);var p=u.join(",");d.set("contentDirectoryID",p)}}else{var h=n===i.get("providerEntityID");t[h?"unshift":"push"](new q7({providerEntityID:n,serverEntityID:s.server.entityID(),key:c?c.get("key"):"/hubs/search",contentDirectoryID:a.directoryID,searchTitle:yee(a,o,!r)},{server:s.server,provider:s,isContextual:h,includeCollections:!0,includeExternalMedia:l}))}return t},[])),i.get("query")&&a(cee())},[eee](e){var t=vee(e),a=t.get("searches");t.set({query:"",selectedResultEntityID:null}),a.each(e=>{e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),searchTitle:e.get("searchTitle"),key:e.get("key")})})},[tee](e,t={}){var a=vee(e),i=a.get("searches"),{query:r=a.get("query"),limit:n}=t;i.each(t=>{var i=t.server;if(i.supports("quickSearch")&&i.get("isConnected")){t.abortPendingPopulate(),t.set("isSearchPending",!0);var s=t.get("providerEntityID");Object(Ta.j)(e,{providerEntityID:s}).populate({merge:!0}).then(()=>t.fetch({data:{sectionId:a.get("directoryID"),query:r,limit:n}})).done(()=>{t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(e=>{t.set({isSearchPending:!1,searchError:Object(vw.a)(e)})})}else t.set({isSearchPending:!1})})},[aee](e,t,a){var i=vee(e);""===t.trim()?a(lee()):(i.get("query").length>1&&t.length<2&&a(lee()),i.set("query",t))},[iee](e,t){var a=vee(e),{serverEntityID:i=a.get("serverEntityID"),providerEntityID:r=a.get("providerEntityID"),providerIdentifier:n=a.get("providerIdentifier"),directoryID:s=a.get("directoryID")}=t;a.set({serverEntityID:i,providerEntityID:r,providerIdentifier:n,directoryID:s})},[ree](e,t){var a=vee(e),{searchResultEntityID:i,offset:r}=t;if(i)a.set("selectedResultEntityID",i);else{var n=a.get("searches").reduce((e,t)=>{var a=t.get("hubs").reduce((e,t)=>e.concat(gee(t.get("metadataResults")),gee(t.get("tagResults"))),[]);return e.concat(a)},[]),s=n.indexOf(a.get("selectedResultEntityID")),o=n.length-1,l=s+r,c=l<-1||l>o?r>0?-1:o:l,d=-1===c?null:n[c];a.set("selectedResultEntityID",d)}},[nee](e,t={},a){var i=vee(e),r=null!=t.searchResultEntityID?t.searchResultEntityID:i.get("selectedResultEntityID"),n=Object(Ta.k)(e,{searchResultEntityID:r});if(!n){var s=i.get("query");return a(Object(Wi.l)({pathname:"/search",query:{query:s}})),void a(lee())}var{tagItem:o,metadataItem:l}=n.pick("tagItem","metadataItem");if(o){var{typeString:c}=Z7.get(o.get("tagType")),d={filters:o.has("filter")?o.get("filter"):c+"="+o.get("id"),filterLabel:o.get("tag"),context:n.metricsContext};return window.location.hash=X7(n.server.toJSON(),n.provider.toJSON(),Gi(n.provider,o.get("librarySectionKey")),d),void a(lee())}var u=Gi(n.provider,l.get("librarySectionKey")),p=J7(n.server.attributes,n.provider.attributes,l.attributes,{context:n.metricsContext},u);p?(window.location.hash=p,a(lee())):a(mee({searchResultEntityID:r}))},[see](e,t={},a){var{options:i}=t,r=vee(e),n=null!=t.searchResultEntityID?t.searchResultEntityID:r.get("selectedResultEntityID"),s=Object(Ta.k)(e,{searchResultEntityID:n});if(s){var o=s.get("metadataItem");o&&(a(Object(Cw.p)({serverEntityID:s.server.entityID(),providerEntityID:s.provider.entityID(),metadataItemEntityID:o.entityID(),metricsPage:Rd.gb,metricsContext:s.metricsContext,options:Object.assign({containerKey:o.get("skipParent")?o.get("grandparentKey"):o.get("parentKey")},i)})),a(lee()))}else a(hee(t))}},bee=a("WlSR"),Iee=a.n(bee),See=Ed.a.createElement,{Component:Mee}=Ed.a;class Cee extends Mee{constructor(e){super(e),this.focusInput=()=>{this._input.focus()},this.onClick=e=>{this.focusInput(),this.props.onClick()},this.onFocus=()=>{this.setState({isFocused:!0})},this.onBlur=()=>{this.setState({isFocused:!1})},this.onChange=e=>{var t=e.target.value;this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:t},()=>{this.props.onChange(t),""!==t.trim()&&(this.searchTimeout=window.setTimeout(this.props.onSearch,200))})},this.onClearPress=e=>{e.stopPropagation(),this.searchTimeout&&window.clearTimeout(this.searchTimeout),this.setState({query:""},()=>{this.props.onChange(""),this.focusInput()})},this.onRef=e=>{var{onRef:t}=this.props;this._input=e,t&&t(e)},this.state={isFocused:!1,query:e.query},this.searchTimeout=null}componentWillReceiveProps(e){this.state.query!==e.query&&this.setState({query:e.query})}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this.searchTimeout&&window.clearTimeout(this.searchTimeout)}render(){var{closeIcon:e,searchIcon:t}=this.props,{isFocused:a,query:i}=this.state;return Uu()("div",{className:(Iee.a.container||"")+" "+(a&&Iee.a.focused||""),onClick:this.onClick},void 0,Uu()(t,{className:Iee.a.searchIcon}),See("input",{"data-qa-id":"quickSearchInput",className:Iee.a.searchInput,value:i,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),i.length>0?Uu()(Vp,{onPress:this.onClearPress},void 0,Uu()(e,{className:Iee.a.closeIcon})):null)}}Cee.defaultProps={query:"",onClick:Oc.a.func};var Dee=Cee;function Pee(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Pee.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Oee=Pee;function jee(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}jee.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Tee=jee,wee=Ed.a.createElement,{Component:Eee}=Ed.a;var Nee=class extends Eee{constructor(...e){super(...e),this.focusInput=()=>{this._input.focus()},this.onRef=e=>{this._input=e}}componentDidMount(){H.a.on("shortcut:search",this.focusInput)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){H.a.off("shortcut:search",this.focusInput)}render(){return wee(Dee,tp()({},this.props,{closeIcon:Oee,searchIcon:Tee,onRef:this.onRef}))}},xee=a("IjFk"),Aee=a.n(xee),Lee=Ed.a.createElement;function kee(e){var{className:t,isSelected:a,text:i,url:r,onLinkPress:n,onLinkFocus:s}=e,o=Je()(e,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return(Lee(Vp,tp()({className:(t||"")+" "+(a&&Aee.a.isPlaceholderSelected||""),tabIndex:"1",title:i,to:r,onPress:n,onFocus:s},o),i))}kee.defaultProps={className:Aee.a.placeholder};var Ree=kee;var zee=function(e){var{query:t,isSelected:a,onLinkPress:i,onLinkFocus:r}=e,n=encodeURIComponent(t);return Uu()(Ree,{isSelected:a,text:Object(Ze.default)("Search all sources..."),url:"#!/search?query="+n,onLinkPress:i,onLinkFocus:r})},Uee=Ed.a.createElement,{Component:Vee}=Ed.a;var Bee={resetQuickSearch:lee,selectQuickSearchResult:pee};var Fee=Object(Fu.b)(Object(_u.a)(e=>e.ui.quickSearch,e=>({query:e.query,isSelected:!e.selectedResultEntityID})),Bee)(class extends Vee{constructor(...e){super(...e),this.onLinkPress=e=>{this.props.resetQuickSearch(),fg()},this.onLinkFocus=e=>{this.props.selectQuickSearchResult({searchResultEntityID:null})}}render(){return Uee(zee,tp()({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))}}),Hee=a("QF2Q"),_ee=a.n(Hee);var Qee=function(e){var{children:t,title:a}=e;return(Uu()("div",{},void 0,Uu()("h5",{className:_ee.a.hubTitle,"data-qa-id":"quickSearchHub"},void 0,a),t))},Wee=Object(_u.a)(Wu,e=>e.searchResults);function Gee(){return Object(_u.a)(Wee,(e,{searchResultEntityID:t})=>t,(e,t)=>e[t])}function Yee(e,t){var a=e.features.content;return a?_G(a.directories,t):null}var Kee=function(e,t,a){var i=t.get("key"),r=_.join([i,"prefs"],a),n=e.getXHROptions(r,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});var s=T.a.ajax(n);return s.then(()=>{t.set("isSettingsUpdating",!1)},e=>{t.set({isSettingsUpdating:!1,settingsUpdateError:Object(vw.a)(e)})}),s},qee=(e,t,a)=>{var i=function(t){var i=t.fields.find(({key:i})=>{var r=e.key===i||a+"."+e.key===i;return a===t.type&&e.key===a+"."+i||r});if(i)return{v:Object.assign({},e,{key:i.key})}};for(var r of t){var n=i(r);if("object"==typeof n)return n.v}},Zee=({filters:e,types:t,type:a})=>{var i=[],r=[];for(var n of e)if("userRating"===n.key&&Array.isArray(n.value))r.push(n);else{var s=qee(n,t,a);s?i.push(s):r.push(n)}return{supported:i,unsupported:r}};var Xee,Jee,$ee="([^&!=<>]+)("+["=","!=","==","!==",">=","<=",">>=","<<=",">>=-","<<=-"].sort((e,t)=>t.length-e.length).map(Sd).join("|")+")([^&]+)?",ete=new RegExp($ee,"g"),tte=new RegExp($ee),ate={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,inProgress:!0,hdonly:!0,hdr:!0};function ite(e){if(!e)return[];var t=decodeURIComponent(e).match(ete);return t?t.reduce((e,t)=>{var a=t.match(tte),[,i,r,n]=a,s=n?D.a.uniq(n.split(",")):"";return 1===s.length&&(s=s[0]),function(e,t,a){var i=[...e];if("boolean"===a.type){var r=D.a.findIndex(i,e=>e.key===t),n=-1===r?0:r,s=Object.assign({key:t},a);-1===r?i.push(s):i.splice(n,1,s)}else{D.a.findWhere(i,{key:t,value:a.value})||i.push(Object.assign({key:t},a))}return i}(e,i,{value:s,type:ate[i]?"boolean":"other",operator:r})},[]):[]}function rte(e,t){if(!D.a.isEmpty(e)){if(e===Xee)return Jee;var a=e.map(({key:e,value:a,operator:i="="})=>{var r;r=t?Array.isArray(a)?a.join(","):a:Array.isArray(a)?a.map(encodeURIComponent).join(","):encodeURIComponent(a);var n=i.lastIndexOf("="),s=i.substr(0,n),o=i.substr(n+1,i.lastIndexOf("="));return encodeURIComponent(e)+encodeURIComponent(s)+"="+encodeURIComponent(o)+r},[]);return Xee=e,Jee=a.join("&")}}var nte=a("idkr"),ste=a.n(nte),ote=Si.extend({name:"downloadVersionModal",template:ste.a,serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:D.a.map(this.model.get("Media"),(function(t,a){var i=D.a.clone(t);i.downloadUrl=e.getDownloadUrl(a);var r=e.getFilepath(a);return r&&(i.downloadName=_.getLastSegment(r)),i}))}},onClick:function(){}}),lte=Qw.extend({template:Gw.a,serializeData(){return this.model.get("preferences").toJSON()},flushChanges(){var e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach(e=>{var a=t.get(e.name),i=a.clone();i.parseAndSetValue(e.value),i.get("value")!==a.get("value")&&t.add(i,{merge:!0})})}}),cte={playlist:["general","advanced"]},dte=ni.extend({mixins:[Wd],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:uN.a,panes:{general:{constructor:zE},advanced:{constructor:lte}},panesModel:"tempModel",events:D.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},ni.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){ni.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var a=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(a=a.done(D.a.bind((function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(H.a,"shortcut:save",this.saveChanges)}),this))).fail(D.a.bind((function(){this.ui.message.text(Object(Ze.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")}),this))},serializeData:function(){var e=cte[this.model.get("type")]||cte.movie;this.model.has("preferences")||(e=D.a.difference(e,["advanced"]));var t=D.a.reduce(e,(function(e,t){return e[t]=!0,e}),{}),a=D.a.escape(Object(Ze.default)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:a}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this.ui.saveBtn,t=this.ui.message;if(!e.isDisabled()){t.text(""),this.paneRegion.currentView.flushChanges();var a=D.a.reduce(this.model.changedAttributes(this.tempModel.attributes),(e,t,a)=>(this.model.syncedAttrs[a]&&(e[a]=t),e),{});e.addClass("active");var i=[];D.a.isEmpty(a)||i.push(this.model.save(a)),i.push(this.savePreferences());var r=T.a.when.apply(T.a,i);r.done(D.a.bind((function(){this.hide()}),this)),r.fail((function(){t.text(Object(Ze.default)("Your changes could not be saved."))})),r.always((function(){e.removeClass("active")}))}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return T.a.Deferred().resolve().promise();var t=this.model,a=_.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),i=this.model.server.getXHROptions(a,{type:"PUT"}),r=T.a.ajax(i);return r.done((function(){var a=t.get("preferences");e.forEach((function(e){a.get(e.id).set("value",e.get("value"))}))})),r},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",(function(){this.ui.saveBtn.focus()}))},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),ute=a("Aeq+"),pte=a.n(ute),hte=B.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:pte.a,collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=T()(e.currentTarget).data("id"),a=this.model.agents.get(t);Ge.execute("autoMatch",{item:this.model,agent:a})}}),mte=a("3ZRf"),vte=a.n(mte),gte=a("YRs7"),yte=a.n(gte);function fte(e){return D.a.map(e,(function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"})).join("\n")}function bte(e,t){return e.map((function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}}))}function Ite(e,t){return e?e.get("languages").map((function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}})):[]}var Ste=B.ItemView.extend({template(e){var{item:t,scannerIdentifier:a}=e;return t.type===Wt.a&&a===eW.d?vte()(e):yte()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=Object(kw.a)(this.model).get("agent"),t=this.setupAgents(e);t.then(D.a.bind(this.updateAgents,this,e)),t.then(D.a.bind(this.updateLanguages,this,e))},serializeData:function(){var e=Object(kw.a)(this.model),t=e.get("agent"),a=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:bte(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:Ite(a)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=Object(kw.a)(this.model).getSectionType(),a=new cW([],{server:this.model.server,mediaTypeID:t.typeID}),i=t.exclusiveAgents,r=new pW(a,i,e);return this.model.agents=a,this.model.agentsProxy=r,this.model.agentsPromise=this.model.agents.populate({reset:!0,cancelable:!0}),this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(fte(bte(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var a=Object(kw.a)(this.model).get("language");this.ui.languageSelect.html(fte(Ite(t,a)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}}),Mte=a("T/x8"),Cte=a("XBZo"),Dte=a.n(Cte),Pte=B.ItemView.extend({template:Dte.a}),Ote={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce((function(e,t,a){var i=t.get("parentIndex");return i!==e.lastDiscNumber&&(e.markers[a]=i,e.lastDiscNumber=i,e.count+=1),e}),{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&D.a.each(this.discMarkers,D.a.bind((function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")}),this))},onTracksUpdate:function(){this.render()}},jte=a("21aO"),Tte=a.n(jte),wte=B.ItemView.extend({tagName:"li",template:Tte.a,className:"striped-list-item",serializeData(){var e=this.model.toJSON();return Object.assign({},e,{escapedParentIndex:D.a.escape(e.parentIndex)})}}),Ete=ym.extend({mixins:[Ote],tagName:"ul",itemView:wte,className:"list"}),Nte=/\d{4}/;var xte=function({disambiguation:e="",lifespanBegin:t="",lifespanEnd:a="",area:i="",beginArea:r=""}){var n=t.match(Nte),s=a.match(Nte),o=[r,i,s?n+"-"+s:n].filter(Boolean);return e?[e,o.length?"("+o.join(", ")+")":null].filter(Boolean).join(" "):o.join(", ")},Ate=a("L0ox"),Lte=a.n(Ate),kte=B.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:Lte.a,ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){this.model.get("summary")&&this.model.get("type")===Wt.j&&this.ui.matchExtendedInfo.removeClass("hidden");var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===Wt.p&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new Ete({collection:e})))}},onClick:function(e){e.preventDefault(),Ge.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),year:this.model.get("year"),children:this.model.get("children")})},serializeData(){var e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:xte(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:D.a.escape(e.normalizedScore),summary:e.summary}}}),Rte=ym.extend({tagName:"ul",className:"list match-result-list",itemView:kte,emptyView:Pte}),zte=a("oToW"),Ute=a.n(zte),Vte=B.Layout.extend({template:Ute.a,regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=Object(kw.a)(this.model),t={manual:1},a={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&D.a.extend(a,{data:D.a.extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(a).then(D.a.bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new Mte.default([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new Rte({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}}),Bte=a("Kpr6"),Fte=a.n(Bte),Hte=ni.extend({mixins:[Wd],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:Fte.a,panes:{form:{constructor:Ste},results:{constructor:Vte}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:D.a.extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},ni.prototype.events),onlyAfterRender:["showPane","updateSearchBtn"],initialize:function(){ni.prototype.initialize.apply(this,arguments),Ste.prototype.setupAgents.apply(this),Vte.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},fetchResults:function(e){var t=D.a.reduce(e.serializeArray(),(function(e,t){return e[t.name]=t.value,e}),{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?Object(Ze.default)("Match"):Object(Ze.default)("Fix Match")}}},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.autoMatchDropdownRegion.show(new hte({model:this.model,collection:this.model.agentsProxy}))},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=T()(e.currentTarget);if(!t.isDisabled()){var a=t.closest("form");this.fetchResults(a),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=T()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}}),_te={h264:10,hevc:30};var Qte=function(e,t){if(null==e||Number.isNaN(e))return"";var a=parseInt(e,10),i=_te[t||"h264"];return Number.isFinite(a)&&Number.isFinite(i)?(a/i).toFixed(1):String(e)},Wte=a("dokP");var Gte=function(e){for(var t="",a=0,i=e.length;a<i;a++){var r=e.charAt(a),n=r.toUpperCase();t+=0===a?n:r===n?" "+n:r}return t},Yte=a("814K"),Kte=a.n(Yte),qte=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate"],Zte={size:sf,duration:xM,codec:VM,format:VM,container:VM,videoResolution:zM.default,bitrateMode:VM,accessible:Wte.default,exists:Wte.default,optimizedForStreaming:Wte.default,timed:Wte.default,file:_.getLastSegment},Xte={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL",codecID:"Codec ID"},Jte={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},$te=function(e,t){var a={properties:[]};for(var i in e)if(i!==t&&-1===D.a.indexOf(qte,i)){var r=Xte[i],n=e[i];"level"===i&&(n=Qte(n,e.codec)),Zte[i]&&(n=Zte[i](n)),n&&(Jte[i]&&(n+=Jte[i]),r||(r=Gte(i)),a.properties.push({name:r,value:n}))}return t&&e&&(a[t]=e[t]),a};function eae(e){return D.a.map(e.get("Media"),(function(e){return D.a.extend($te(e,"Part"),{Part:D.a.map(e.Part,(function(e){return D.a.extend($te(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,a=D.a.reject(t,(function(e){return e.id===LM.a})),i=D.a.sortBy(a,"streamType"),D.a.map(i,(function(e){return $te(e,"streamType")})))});var t,a,i}))})}))}var tae=ni.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:Kte.a,ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:D.a.extend({"click .delete-btn":"onDeleteClick"},ni.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=eae(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered((function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()})))},serializeData:function(){var e=this.model.get("key"),t=ie.c("appModel").get("user"),a=this.model.server;return this.model.get("isLibraryItem")&&(e=_.join(e,{checkFiles:1,includeAllConcerts:1,includeBandwidths:1,includeChapters:1,includeChildren:1,includeConcerts:1,includeExtras:1,includeFields:1,includeGeolocation:1,includeLoudnessRamps:1,includeMarkers:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeRelated:1,includeRelatedCount:1,includeReviews:1,includeStations:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:a.get("isFullOwnedServer")&&a.get("allowMediaDeletion")&&a.supports("specificMediaDeletion"),showFilepath:!a.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=eae(this.model),this.render()},hasFiles:function(){return!!D.a.chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!D.a.chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){ni.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),Ge.execute("deleteMediaItem",{item:this.model,index:T()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?window.setTimeout(this.onScroll,500):this.ui.stickyProps.each((function(){var a=T()(this),i=a.parent().height()-a.height(),r=e-this.parentNode.offsetTop,n=Math.min(Math.max(r,0),i);n&&n===r?(a.addClass("sticky"),a.css("top",t)):(a.removeClass("sticky"),a.css("top",n))}))}}),aae="metadata/redispatchLegacyMetadataAction",iae="metadata/analyzeMetadataItem",rae="metadata/deleteMetadataItem",nae="metadata/deleteMetadataItemVersion",sae="metadata/downloadMetadataItemVersion",oae="metadata/editMetadataItem",lae="metadata/fixMetadataItemMatch",cae="metadata/getMetadataItemInfo",dae="metadata/updateMetadataItemPlayedStatus",uae="metadata/optimizeMetadataItem",pae="metadata/rateMetadataItem",hae="metadata/refreshMetadataItem",mae="metadata/splitMetadataItemApart",vae="metadata/syncMetadataItem",gae="metadata/unmatchMetadataItem",yae="metadata/changeMetadataItemField",fae="metadata/updateMetadataItemRefreshingState",bae="metadata/UPDATE_METADATA_SETTINGS",Iae="CLEAR_METADATA_SETTINGS_ERROR",Sae="metadata/updateDownloadAvailability",Mae="metadata/updateDownloadAvailabilityFromDeletedTimeline",Cae="metadata/setDownloadSubscriptionID",Dae="metadata/unsetDownloadSubscriptionID",Pae="metadata/updateDownloadSubscriptionIDs",Oae="metadata/modifySmartPlaylist",jae=Object(Pa.a)(aae),Tae=Object(Pa.a)(iae),wae=Object(Pa.a)(rae),Eae=Object(Pa.a)(nae),Nae=Object(Pa.a)(sae),xae=Object(Pa.a)(oae),Aae=Object(Pa.a)(lae),Lae=Object(Pa.a)(cae),kae=Object(Pa.a)(dae),Rae=Object(Pa.a)(uae),zae=Object(Pa.a)(pae),Uae=Object(Pa.a)(hae),Vae=Object(Pa.a)(mae),Bae=Object(Pa.a)(vae),Fae=Object(Pa.a)(gae),Hae=Object(Pa.a)(yae),_ae=Object(Pa.a)(fae),Qae=Object(Pa.a)(bae),Wae=Object(Pa.a)(Iae),Gae=Object(Pa.a)(pae,e=>Object.assign({},e,{rating:10})),Yae=Object(Pa.a)(pae,e=>Object.assign({},e,{rating:-1})),Kae=Object(Pa.a)(dae,e=>Object.assign({},e,{played:!1})),qae=Object(Pa.a)(dae,e=>Object.assign({},e,{played:!0})),Zae=Object(Pa.a)(Cae),Xae=Object(Pa.a)(Dae),Jae=Object(Pa.a)(Sae),$ae=Object(Pa.a)(Mae),eie=Object(Pa.a)(Pae),tie=Object(Pa.a)(Oae);function aie(e,t,a,i={}){a&&Object(ie.c)("metrics").trackClick(Object.assign({page:a,action:e,type:t.get("type")},i))}var iie=Object.assign({},Z8.d,{[aae](e,t,a){var{serverModel:i,providerModel:r,itemServerModel:n,itemProviderModel:s,metadataItemModel:o}=Ow(e,t),l=t.legacyAction.type,c=t.legacyAction.payload,d=(null==c?void 0:c.metricsProperties)||{};a({type:l,payload:Object.assign({},c,{serverEntityID:i.entityID(),providerEntityID:r.entityID(),itemServerEntityID:n?n.entityID():null,itemProviderEntityID:s?s.entityID():null,metadataItemEntityID:o.entityID(),metricsPage:t.metricsPage,metricsProperties:Object.assign({},d,t.metricsProperties),skipClickMetrics:!0})})},[iae](e,t,a){var i=Object(Ta.f)(e,t),r=t.metricsPage;bw(i,{allowMetrics:!!r,metricsProperties:{page:r}}).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem analyzing this item.")))})},[sae](e,t){var a=Object(Ta.f)(e,t),i=new ote({model:a});H.a.trigger("show:modal",i)},[rae](e,t){var a=Object(Ta.f)(e,t),i=t.options||{},r=a.get("isPlaylist")?"deletePlaylist":"deleteItems";Ge.execute(r,Object.assign({item:a},i)),aie(kd.p,a,t.metricsPage)},[nae](e,t){var a=Object(Ta.f)(e,t);Ge.execute("deleteVersions",{item:a}),aie(kd.p,a,t.metricsPage)},[oae](e,t){var a=Object(Ta.f)(e,t),i=a.get("isPlaylist")?new dte({model:a}):new vN({model:a});H.a.trigger("show:modal",i),aie(kd.w,a,t.metricsPage)},[lae](e,t){var a=Object(Ta.f)(e,t);a.server.get("sections").fetch().then(()=>{var e=new Hte({model:a});H.a.trigger("show:modal",e),aie(kd.z,a,t.metricsPage)})},[cae](e,t){var a=Object(Ta.f)(e,t),i=new tae({model:a});H.a.trigger("show:modal",i),aie(kd.C,a,t.metricsPage)},[dae](e,t,a){var i=Object(Ta.f)(e,t);Mw(e,t).then(()=>{a(Object(ji.c)({serverEntityID:t.serverEntityID}))},()=>{var e=t.played?Object(Ze.default)("There was an unexpected error marking an item played."):Object(Ze.default)("There was an unexpected error marking an item unplayed.");a(Object(ji.d)(e))}),aie(t.played?kd.F:kd.E,i,t.metricsPage)},[uae](e,t){var a=Object(Ta.f)(e,t),i=new BN({item:a});H.a.trigger("show:modal",i),aie(kd.I,a,t.metricsPage)},[pae](e,t,a){var{rating:i,metricsPage:r}=t;Iw(Object(Ta.j)(e,t),Object(Ta.f)(e,t),{rating:i,allowMetrics:!!r,metricsProperties:{page:r}}).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem rating this item.")))})},[hae](e,t,a){var i=Object(Ta.f)(e,t),r=t.metricsPage;Sw(i,{allowMetrics:!!r,metricsProperties:{page:r}}).fail(e=>{503===e.status?H.a.trigger("show:modal",new ci({model:i.server})):a(Object(ji.d)(Object(Ze.default)("There was a problem refreshing this item.")))})},[mae](e,t,a){var i=Object(Ta.f)(e,t);Ge.execute("splitApart",{item:i,skipNavigate:!0}).done(()=>{a(Object(ji.c)({serverEntityID:t.serverEntityID}))}),aie(kd.ib,i,t.metricsPage)},[vae](e,t){var a=Object(Ta.f)(e,t);Ge.execute("showSyncModal",{item:a}),aie(kd.kb,a,t.metricsPage)},[gae](e,t){var a=Object(Ta.f)(e,t);Ge.execute("unmatch",{item:a}),aie(kd.lb,a,t.metricsPage)},[yae](e,t,a){var{providerEntityID:i,metadataItemEntityID:r,name:n,value:s,save:o}=t,l=Object(Ta.f)(e,{metadataItemEntityID:r});if(o){var c=Object(Ta.j)(e,{providerEntityID:i}),d=_.join(l.get("key"),{[n]:s,[n+".locked"]:1}),u=c.getXHROptions(d,{type:"PUT"});T.a.ajax(u).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem editing this item.")))}),aie(kd.w,l,t.metricsPage)}else l.set({[n]:s})},[fae](e,t){var a=Object(Ta.q)(e,t);a&&a.set({metadataState:t.metadataState,mediaState:t.mediaState})},[bae](e,t,a){var i=Object(Ta.j)(e,t),r=Object(Ta.f)(e,t),{data:n}=t;Kee(i,r,n).then(()=>{a(Object(Z8.f)({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))})},[Iae](e,t,a){Object(Ta.f)(e,t).set("settingsUpdateError",null)},[Sae](){},[Pae](){},[Oae](e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=Object(Ta.f)(e,t);n.fetch().done(()=>{var e=n.get("content"),{sectionKey:t,type:s,sort:o,limit:l,sourceType:c,filterString:d}=lt.a.parseLibraryUri(e),u=new Aw({key:t},{server:i,provider:r,includeAdvanced:!0});u.fetch().done(()=>{var e=c||s,p=e?Wt.u(e).typeString:"",h=u.get("types").toJSON(),m=ite(d),{supported:v,unsupported:g}=Zee({filters:m,types:h,type:p});if(g.length)a(Object(ji.d)(Object(Ze.default)("This playlist cannot be edited.")));else{var y=o?decodeURIComponent(o):"",f=rte(v),b=Gi(r,t),I=b.pivots.find(({key:e})=>e.includes(b.key)).key,S=e?Gt(b.id,p):I,M=Jt(i.toJSON(),r.toJSON(),b,{key:I,typeKey:S,filters:f,sort:y,type:e,limit:l,customFilter:1,playlistID:n.get("ratingKey"),playlistTitle:n.get("title")});a(Object(Wi.l)({pathname:M}))}})})}});function rie(e){return e.thumb||e.parentThumb||e.grandparentThumb}function nie(e){return e.art||e.parentArt||e.grandparentArt}function sie(e,t,a,i){if(i)switch(i){case Tc:switch(t){case OM.c:switch(e){case Wt.p:return a.thumb||a.grandparentThumb}}switch(e){case Wt.n:case Wt.f:case Wt.a:case Wt.p:return a.thumb}break;case"continueWatching":case"newscast":case"watchTogether":switch(e){case Wt.j:return nie(a);case Wt.f:return nie(a)||a.thumb}break;case wc:switch(e){case Wt.j:return nie(a);case Wt.f:return a.thumb||nie(a)}break;case"playQueue":case"playlist":case"downloads":case Ec:switch(e){case Wt.f:return a.thumb}}switch(t){case OM.c:switch(e){case Wt.o:return a.thumb;case Wt.p:return a.grandparentThumb||a.thumb}break;case OM.d:switch(e){case Wt.f:return a.thumb}}switch(e){case Wt.j:case Wt.o:return a.thumb;case Wt.n:return rie(a);case Wt.f:return a.grandparentThumb;case Wt.b:return a.thumb;case Wt.a:case Wt.p:return rie(a);case Wt.k:case Wt.l:case Wt.d:return a.thumb;case Wt.m:return a.thumb||a.composite;default:return a.thumb}}function oie(e,t,a,i,r,n){var s=null==e?TM(t,a,i,n):e,o=null==t?wM(e,a,i,n):t;return{url:sie(a,i,r,n),width:s,height:o}}function lie(e,t,a){return Object.assign({},e,a,t)}function cie(e,{metadataItemEntityID:t}){var a=e.entities.metadataItems[t],i=a&&a.providerEntityID;if(i)return _S(e,{providerEntityID:i})}function die(e,{metadataItemEntityID:t}){var a=e.entities.metadataItems[t],i=a&&a.serverEntityID;if(i)return GS(e,{serverEntityID:i})}var uie=Object(_u.a)(die,cie,(e,t)=>({itemServerEntityID:e&&e.entityID,itemProviderEntityID:t&&t.entityID})),pie=Object(Pa.a)("downloads/cancelDownloadActivity"),hie=Object(Pa.a)("downloads/createDownloadSubscription"),mie=(Object(Pa.a)("downloads/deleteDownloadState"),Object(Pa.a)("downloads/deleteDownloadSubscription")),vie=(Object(Pa.a)("downloads/fetchDownloadSubscriptions"),Object(Pa.a)("downloads/populateDownloadSubscriptions"),Object(Pa.a)("downloads/processDownloadSubscriptions"),Object(Pa.a)("downloads/retryDownloadSubscription"),Object(Pa.a)("downloads/saveDownloadSubscription"),Object(Pa.a)("downloads/syncDownloadViewstate"),Object(Pa.a)("downloads/updateDownloadState"),Object(Pa.a)("downloads/refreshDownloads"),Object(Pa.a)("downloads/getDownloadDecision"),uk({}),a("PIaE")),gie=/\bChrome\b/.test(window.navigator.userAgent)||Object.values(window.navigator.plugins).some(e=>/\bChromium\b/.test(e.name));function yie(){return gie}function fie(e,t,a,i){if(!(e&&t&&a&&i))return!1;var{type:r,hasInvalidKey:n,deletedAt:s,isFolder:o,isMetadataList:l,firstItemType:c,dvrChannel:d,onAir:u}=i;if(!l&&(n||s||o))return!1;if(!(d||l||t.protocols.stream||u))return!1;if(l&&!c)return!1;var p=!!a[Tt.i];if(t.protocols.livetv&&(e.livetv<4||!p))return!1;if(t.protocols.livetv&&!be.a.allowLiveTVPlayback)return!1;if(r===Wt.h)return!!a[Tt.t]&&yie();if(t.features.playqueue)return!0;var h=l?c:r,m=Object(Wt.t)(h),v=Object(Wt.s)(h);return h===m.typeString||v.id===m.id}var bie={showPlay:Sie,showPlayVersion:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!Sie({server:e,provider:t,stableUser:a,metadataItem:i}))return!1;return t.isLibraryProvider&&i.Media&&i.Media.length>1},showPlayAll:Sie,showShuffle:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(i.radio)return!1;return Sie({server:e,provider:t,stableUser:a,metadataItem:i})&&!!t.features.playqueue},showQueue:Mie,showPlayTrailer:Cie,showPlayPlexMix:Die,showQueuePlexMix:function({server:e,provider:t,stableUser:a,metadataItem:i}){return Die({server:e,provider:t,stableUser:a,metadataItem:i})},showPlayMusicVideo:Cie,showPlayRadio:function({server:e,provider:t,stableUser:a,metadataItem:i}){return!!i.hasRadioStation},showPlayArtistTV:function({server:e,provider:t,stableUser:a,metadataItem:i}){return!!i.hasArtistTVStation},showAddToWatchlist:function({provider:e,stableUser:t}){return!!(e.features.actions&&e.features.actions.addToWatchlist&&mw(t,e.features.actions.addToWatchlist))},showAddToPicks:function({server:e,provider:t,stableUser:a,metadataItem:i}){return!!(a.features[Tt.s]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:Pie,showAddToSaved:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!t)return!1;var r=t.features.actions.save;if(!r||!mw(a,r))return!1;return null!=i.saved},showAddToLibrary:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!t)return;var r=i.type===Wt.p||i.type===Wt.a||i.type===Wt.b,n=jt.k(t.identifier,jt.f),s=!!a.features[Tt.a],o=mw(a,{requires:"tidal"});return r&&n&&s&&o},showFavorite:jie,showUnfavorite:Tie,showMarkPlayed:wie,showMarkUnplayed:Eie,showSettings:function({server:e,provider:t,stableUser:a,metadataItem:i}){var{preferences:r}=i;return!t.features.manage&&null!=r},showEdit:Nie,showModifySmartPlaylist:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!Nie({server:e,provider:t,stableUser:a,metadataItem:i}))return!1;return!!i.smart},showRefresh:xie,showAnalyze:Aie,showFixMatch:Lie,showMatch:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!Nie({server:e,provider:t,stableUser:a,metadataItem:i}))return!1;if(!i.guid)return!1;return!Lie({server:e,provider:t,stableUser:a,metadataItem:i})},showUnmatch:function({server:e,provider:t,stableUser:a,metadataItem:i}){return Lie({server:e,provider:t,stableUser:a,metadataItem:i})},showSplitApart:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!Nie({server:e,provider:t,stableUser:a,metadataItem:i}))return!1;var r;r=Wt.y(i.type)?i.Location:D.a.filter(i.Media,e=>!e.proxyType);return r.length>1},showSync:kie,showSyncDownload:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!be.a.allowSyncDownload)return!1;if(!t)return!1;if(!jt.a.includes(t.identifier))return!1;if(i.isPlaylist&&i.playlistType===Yt.b)return!1;if(i.isDownloaded&&!i.downloadSubscriptionID)return!1;if(!i.hasOwnProperty("guid"))return!1;if(i.remoteMedia)return!1;var r=t.features[Ot.q],n=(null==r?void 0:r.flavor)===vie.a&&!!a.features[Tt.d];return t.isLibraryProvider?e.allowSync&&n:n},showOptimize:Rie,showDownload:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!be.a.allowDirectDownload)return!1;return!!t.protocols.download&&!i.isExtra&&!i.remoteMedia},showShare:function({server:e,provider:t,stableUser:a,metadataItem:i}){return e.isFullOwnedServer&&t.isLibraryProvider&&!i.isExtra&&!i.remoteMedia},showDelete:zie,showDeleteVersion:function({server:e,provider:t,stableUser:a,metadataItem:i}){if(!Nie({server:e,provider:t,stableUser:a,metadataItem:i}))return!1;if(!e.allowMediaDeletion)return!1;return D.a.filter(i.Media,e=>!!e.proxyType).length>0},showViewPlayHistory:function({server:e,provider:t,stableUser:a,metadataItem:i}){return e.isFullOwnedServer&&!qt(e)},showWatchTogether:function({server:e,provider:t,stableUser:a,metadataItem:i}){var r=!!a.features[Tt.D],n=jt.k(t.identifier,[jt.d,jt.i]),s=i.isExtra;return r&&n&&!s},showGetInfo:function({server:e,provider:t,stableUser:a,metadataItem:i}){return!!t&&t.isLibraryProvider&&!i.isExtra&&!i.indirect},showSelect:Uie},Iie={[Wt.j]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToWatchlist","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Wt.o]:["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToWatchlist","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[Wt.n]:["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showShare","showDelete","showViewPlayHistory","showSelect"],[Wt.f]:["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Wt.b]:["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[Wt.a]:["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showShare","showDelete","showViewPlayHistory","showSelect"],[Wt.p]:["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showShare","showDelete","showViewPlayHistory","showGetInfo","showSelect"],[Wt.l]:["showPlay","showShuffle","showAddToPlaylist","showEdit","showAnalyze","showSync","showShare","showSelect"],[Wt.k]:["showPlay","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showShare","showDelete","showGetInfo","showSelect"],[Wt.d]:["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showWatchTogether","showGetInfo","showSelect"],[Wt.m]:["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showShare","showSelect","showEdit","showModifySmartPlaylist"],[Wt.e]:["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],[Wt.h]:["showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showDelete","showDeleteVersion","showGetInfo","showSelect"]};function Sie({server:e,provider:t,stableUser:a,metadataItem:i}){return fie(e,t,a.features,i)}function Mie({server:e,provider:t,stableUser:a,metadataItem:i}){var r=Sie({server:e,provider:t,stableUser:a,metadataItem:i}),n=i.isExtra&&i.isPremium;return r&&!!t.features.playqueue&&!n}function Cie({server:e,provider:t,stableUser:a,metadataItem:i}){return!!i.primaryExtraKey}function Die({server:e,provider:t,stableUser:a,metadataItem:i}){return!(!i.related||!i.related.find(e=>/similarPlaylist/.test(e)))}function Pie({server:e,provider:t,stableUser:a,metadataItem:i}){if(!t)return!1;var r=t.features.playlist;return!(!r||!mw(a,r))&&(!(i.isExtra&&i.isPremium)&&!qt(e))}function Oie({provider:e,stableUser:t,metadataItem:a}){return!(!e.features.actions.rate||Wt.x(a.type)||a.isFolder)}function jie({server:e,provider:t,stableUser:a,metadataItem:i}){return Oie({provider:t,stableUser:a,metadataItem:i})&&!Dw(i)}function Tie({server:e,provider:t,stableUser:a,metadataItem:i}){return Oie({provider:t,stableUser:a,metadataItem:i})&&Dw(i)}function wie({server:e,provider:t,stableUser:a,metadataItem:i}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||i.type===Wt.p&&i.subtype!==OM.c||null!=i.saved&&!i.saved&&!i.viewOffset||i.isExtra)&&(Wt.y(i.type)?i.unviewedLeafCount>0:!i.viewCount||!!i.viewOffset)}function Eie({server:e,provider:t,stableUser:a,metadataItem:i}){return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||i.type===Wt.p&&i.subtype!==OM.c||null!=i.saved&&!i.saved||i.isExtra)&&(Wt.y(i.type)?i.viewedLeafCount>0:!!i.viewCount||!!i.viewOffset)}function Nie({server:e,provider:t,stableUser:a,metadataItem:i}){var{isLibraryItem:r,isPlaylist:n,isExtra:s,isFolder:o,radio:l,readOnly:c}=i,d=r&&!s&&!o&&!l;return n?!c:!!(t&&t.features.manage&&d)}function xie({server:e,provider:t,stableUser:a,metadataItem:i}){return Nie({server:e,provider:t,stableUser:a,metadataItem:i})}function Aie({server:e,provider:t,stableUser:a,metadataItem:i}){return!i.indirect&&!i.remoteMedia&&Nie({server:e,provider:t,stableUser:a,metadataItem:i})}function Lie({server:e,provider:t,stableUser:a,metadataItem:i}){return!!Nie({server:e,provider:t,stableUser:a,metadataItem:i})&&!(!i.guid||/(local|none):\/\//.test(i.guid))}function kie({server:e,provider:t,stableUser:a,metadataItem:i}){if(!be.a.allowSync)return!1;if(!e.isFullServer)return!1;var{allowSync:r,isExtra:n,isLibraryItem:s,isPlaylist:o,remoteMedia:l}=i;return!(n||l||!s&&!o)&&!(!e.allowSync||!r)}function Rie({server:e,provider:t,stableUser:a,metadataItem:i}){return!!Nie({server:e,provider:t,stableUser:a,metadataItem:i})&&!(!e.transcoderVideo||!e.backgroundProcessing)}function zie({server:e,provider:t,stableUser:a,metadataItem:i}){return!!Nie({server:e,provider:t,stableUser:a,metadataItem:i})&&!!(i.isPlaylist||i.type===Wt.e||i.remoteMedia||e.allowMediaDeletion)}function Uie({server:e,provider:t,stableUser:a,metadataItem:i}){return!i.radio&&(t.isLibraryProvider&&!i.isFolder)}function Vie({server:e,provider:t,stableUser:a,metadataItem:i}){var{type:r}=i,n=Iie[r];return n?n.reduce((n,s)=>{var o=bie[s];return Object(P.a)(D.a.isFunction(o),"getMetadataActionProps: Invalid action, "+s+", for "+r),n[s]=!!(e&&t&&i)&&o({server:e,provider:t,stableUser:a,metadataItem:i}),n},{}):{}}function Bie(){return Object(_u.a)(ZG(),die,cie,uw,(e,t,a,i)=>Vie({server:t,provider:a,stableUser:i,metadataItem:e}))}function Fie(e){return e.embeddedServer}function Hie(){return Object(_u.a)(ZG(),_S,GS,(e,t,a)=>e&&e.source||Object(an.a)({providerIdentifier:t.identifier,serverIdentifier:a.machineIdentifier}))}var _ie=Sv(Object(_u.a)(Fie,Gu,(e,t)=>t[e]),e=>e),Qie=Object(_u.a)(_ie,e=>e?e.desktop.activities:[]);function Wie(e){return Object(_u.a)(Qie,t=>t.filter(t=>t.type===e))}var{useEffect:Gie}=Ed.a,Yie={dispatchUpdateDownloadAvailability:Jae,dispatchUpdateDownloadSubscriptionIDs:eie};function Kie(e){var{dispatchUpdateDownloadAvailability:t,dispatchUpdateDownloadSubscriptionIDs:a,metadataItemEntityID:i,providerEntityID:r}=e;return Gie(()=>{var e={metadataItemEntityID:i,providerEntityID:r};t(e),a(e)},[t,a,i,r]),null}Kie.propTypes={metadataItemEntityID:Oc.a.string.isRequired,providerEntityID:Oc.a.string.isRequired,dispatchUpdateDownloadAvailability:Oc.a.func.isRequired,dispatchUpdateDownloadSubscriptionIDs:Oc.a.func.isRequired};var qie=Object(Fu.b)(null,Yie)(Kie);var Zie=function(e){return!(!e||!e.isDownloaded)};var Xie=function(e){return!(!e||!e.downloadSubscriptionID)};var Jie=function(){return Object(_u.a)(e=>e.downloads.states,Hie(),Object(_u.a)(ZG(),e=>e.ratingKey),(e,t,a)=>e.find(e=>e.ratingKey===a&&e.sourceAttr===t))},$ie=Ed.a.createElement,{Fragment:ere,useCallback:tre,useState:are}=Ed.a,ire="subscribe",rre="cancel",nre="remove",sre="upsell";function ore(e){var{onCancelDownloadActivity:t,onCreateDownloadSubscription:a,onDeleteDownloadSubscription:i}=e,r=are({isOpen:!1,state:null}),n=r[1],s=r[0],o=tre(e=>{var t=e===ire,i=null!==e&&!t,r=t?null:e;t&&a(),n({isOpen:i,state:r})},[a]),l=tre(()=>n({isOpen:!1,state:null}),[]),c=tre(()=>{s.state===rre?t():s.state===nre&&i(),l()},[s.state,t,l,i]);return Object.assign({},s,{onPress:o,onClose:l,onConfirm:c})}var lre=Object(_u.a)(zT(Tt.f),zT(Tt.e),GS,(e,t,a)=>{var i,r=t&&(null==(i=a.ownerFeatures)?void 0:i.includes(Tt.e));return!e&&!r});var cre=Object(Fu.b)((function(){return Object(_u.a)((e,{isDisabled:t})=>t,ZG(),Jie(),(e="grabber.grab",Object(_u.a)(ZG(),Hie(),Wie(e),(e,t,a)=>{var i=Object(Bn.a)(t);return a.find(({Context:t})=>{var a=!1;if(t.itemKey===e.key){var r=Object(Bn.a)(t.source);a=i.serverIdentifier===r.serverIdentifier&&i.providerIdentifier===r.providerIdentifier}return a})})),lre,Fie,(e,t,a,i,r,n)=>{var s=!!a,o=Zie(t),l=Xie(t),c=!l;return{canCancel:!!i&&i.cancellable,canRemove:l,canShowUpsell:!l&&r&&t.subtype!==OM.c,canSubscribe:c,hasDownloadState:s,hasOfflineFile:o,hasOwnSubscription:l,isDisabled:e||!n,progress:i&&i.progress}});var e}),(function(e,t){return{}}))((function(e){var t,{component:a,canCancel:i,canRemove:r,canShowUpsell:n,canSubscribe:s,metadataItemEntityID:o,providerEntityID:l,onPress:c}=e,d=Je()(e,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),u=tre(()=>{var e=null;i?e=rre:r?e=nre:n?e=sre:s&&(e=ire),c&&c(e)},[i,r,n,s,c]);return t=i?Object(Ze.default)("Cancel Download"):r?Object(Ze.default)("Delete Download"):Object(Ze.default)("Download"),Uu()(ere,{},void 0,$ie(a,tp()({},d,{label:t,onPress:u})),Uu()(qie,{metadataItemEntityID:o,providerEntityID:l}))})),{Fragment:dre}=Ed.a;var ure=function(e){var{isOpen:t,state:a,onConfirm:i,onClose:r}=e,n=t&&a===rre,s=t&&a===nre,o=t&&a===sre;return Uu()(dre,{},void 0,Uu()(HH,{isOpen:n,title:Object(Ze.default)("Cancel Download"),message:Object(Ze.default)("Are you sure you want to cancel this download?"),metricsPage:Rd.h,confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:i,onCancel:r}),Uu()(HH,{isOpen:s,title:Object(Ze.default)("Delete Download"),message:Object(Ze.default)("Are you sure you want to delete this download?"),metricsPage:Rd.x,onConfirm:i,onCancel:r}),Uu()(ek,{origin:"download-button",isOpen:o,onModalClose:r}))};function pre(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}pre.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var hre=pre,mre=a("Uazv"),vre=a.n(mre),{Component:gre,Fragment:yre}=Ed.a,fre={placement:"right-start"};var bre=class extends gre{constructor(e,t){super(e,t),this._openMenu=(e=!1)=>{this.wasDismissed=!1,this._updateMenu(e,!0)},this._closeMenu=(e=!1)=>{this.wasDismissed=e,this._updateMenu(e,!1)},this.onMouseEnter=()=>{this._openMenu()},this.onMouseEnterMenu=()=>{this.wasDismissed||this._openMenu()},this.onMouseLeave=()=>{this.wasDismissed||this._closeMenu()},this.onMenuClose=()=>{this._closeMenu(!0),this.props.onMenuClose()},this.onPress=()=>{this._openMenu(!0)},this.target=Mp(),this.state={isOpen:!1},this.wasDismissed=!1}componentWillUnmount(){window.clearTimeout(this._menuTimer)}_updateMenu(e,t){window.clearTimeout(this._menuTimer),this._menuTimer=window.setTimeout(()=>{this.setState({isOpen:t})},e?0:100)}render(){var{label:e,children:t,isDisabled:a}=this.props,{isOpen:i}=this.state;return Uu()(yre,{},void 0,Uu()(Gg,{id:this.target,className:vre.a.item,isDisabled:a,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},void 0,e,Uu()(hre,{className:vre.a.icon})),Uu()(Fg,{className:vre.a.menu,isOpen:i,target:this.target,options:fre,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},void 0,t))}},Ire=a("r5Me"),Sre=a.n(Ire),{Component:Mre}=Ed.a;var Cre,Dre=class extends Mre{constructor(...e){super(...e),this.createOnPress=e=>{var{metadataItemEntityID:t,onItemPress:a}=this.props;return()=>a(Object.assign({metadataItemEntityID:t},e))}}render(){var{serverDirectories:e,hasMultipleServers:t,onMenuClose:a}=this.props;if(!e||!e.length)return null;if(1===e.length){var i=e[0].title,r=Object(Ze.default)("Add to {libraryTitle}",{libraryTitle:i});return Uu()(Gg,{className:Sre.a.item,title:r,onPress:Ib(this.createOnPress(e[0]),a)},void 0,r)}return(Uu()(bre,{label:Object(Ze.default)("Add to Library"),onMenuClose:a},void 0,e.map((e,a)=>{var{serverFriendlyName:i,title:r}=e,n=Je()(e,["serverFriendlyName","title"]),s=r+(t?" ("+i+")":"");return Uu()(Gg,{className:Sre.a.item,title:s,onPress:this.createOnPress(n)},a,s)})))}},Pre=Object(_u.a)(pv,(Cre=Ka.addProviderContentToLibrary,Object(_u.a)(vK,e=>e.filter(({version:e})=>e&&Qa(e,Cre)))),(e,t)=>{var a=0;return{serverDirectories:t.reduce((t,i)=>{var r=function(e,t){return e.reduce((e,a)=>{var i=Kt(a),r=(i?i.directories:[]).filter(e=>e.type===t);return e.push(...r),e},[])}(i.providers.map(t=>e[t]),Wt.b);r.length&&(a+=1);var n=r.map(e=>({serverEntityID:i.entityID,serverFriendlyName:i.friendlyName,title:e.title,sectionKey:e.key}));return t.push(...n),t},[]),hasMultipleServers:a>1}}),Ore={onItemPress:Z8.b},jre=Object(Fu.b)(Pre,Ore)(Dre),{Component:Tre}=Ed.a;function wre(e){return e!==Wt.o&&e!==Wt.n}function Ere({title:e,leafCount:t}){return 1===t?Object(Ze.default)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:e}):Object(Ze.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:t,showTitle:e})}function Nre({title:e,leafCount:t}){return 1===t?Object(Ze.default)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:e}):Object(Ze.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:t,showTitle:e})}var xre=class extends Tre{componentDidMount(){this._checkAutoConfirm()}componentDidUpdate(){this._checkAutoConfirm()}_checkAutoConfirm(){wre(this.props.type)&&this.props.isOpen&&this.props.onConfirm()}render(){var{isOpen:e,type:t,markUnplayed:a,onConfirm:i,onCancel:r}=this.props;return wre(t)?null:Uu()(HH,{isOpen:e,metricsPage:a?Rd.s:Rd.t,title:a?Object(Ze.default)("Mark as Unplayed"):Object(Ze.default)("Mark as Played"),message:a?Ere(this.props):Nre(this.props),onConfirm:i,onCancel:r})}},Are=a("xcSv"),Lre=a("wlUd"),kre=a.n(Lre),{Component:Rre}=Ed.a;var zre=class extends Rre{constructor(...e){super(...e),this.onItemSelect=e=>{Object(ie.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:kd.ab,value:e})),this.props.onItemSelect(e)},this.onCancel=()=>{Object(ie.c)("metrics").trackClick(Object.assign({},this.props.metricsProperties,{page:this.props.metricsPage,action:kd.j})),this.props.onCancel()}}render(){var{children:e,isOpen:t,metricsPage:a,metricsProperties:i,title:r}=this.props;return(Uu()(xT,{size:jp,isOpen:t,metricsPage:a,metricsProperties:i,onModalClose:this.onCancel},void 0,Uu()(UL,{onModalClose:this.onCancel},void 0,Uu()(jL,{},void 0,r),Uu()(fL,{innerClassName:kre.a.listModalInnerBody},void 0,Xp(e,e=>Ed.a.cloneElement(e,{onSelect:this.onItemSelect}))))))}},Ure=a("Yc8G"),Vre=a.n(Ure),Bre=Ed.a.createElement,{Component:Fre}=Ed.a;class Hre extends Fre{constructor(...e){super(...e),this.onPress=e=>{var{value:t,onSelect:a,onPress:i}=this.props;a&&a(t),i&&i(e)}}render(){var e=this.props,t=Je()(e,["value","onSelect"]);return(Bre(Vp,tp()({},t,{onPress:this.onPress})))}}Hre.defaultProps={className:Vre.a.listModalItem};var _re=Hre,Qre=Ed.a.createElement,Wre=Uu()($y,{});var Gre=function(e){var{mediaItems:t}=e,a=Je()(e,["mediaItems"]);return(Qre(zre,tp()({title:Object(Ze.default)("Play Version"),metricsPage:Rd.ab},a),t.map((e,t)=>{var a=[];if(e.bitrate&&a.push(Object(Are.default)(e.bitrate)),e.videoResolution){var i=Object($M.a)(e),r=i?i.scanType:null;a.push(Object(zM.default)(e.videoResolution,r))}var n=!!e.title,s=a.length>0;return Uu()(_re,{value:t},t,n?e.title:null,n&&s?Wre:null,s?a.join(", "):null,n||s?null:Object(Ze.default)("Unknown"))})))},Yre=a("LMIY"),Kre=a.n(Yre),qre=Ed.a.createElement;var Zre=function(e){var{isSettingsUpdating:t,hasError:a,settings:i,onSubmit:r,onModalClose:n}=e;return(Uu()(AC,{className:Kre.a.form,onSubmit:r},void 0,Uu()(UL,{onModalClose:n},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Settings")),a?Uu()(MU,{errorMessage:Object(Ze.default)("There was an error saving the settings")}):null,Uu()(fL,{},void 0,i.map(e=>qre(vB,tp()({key:e.id},e)))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{onPress:n},void 0,Object(Ze.default)("Cancel")),Uu()(gU,{kind:Dp,type:"submit",isSpinning:t},void 0,Object(Ze.default)("Save")))))))},Xre=Ed.a.createElement,{Component:Jre}=Ed.a;var $re=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError}))}),(function(e,t){return{onSubmit(a){Object(wa.a)(()=>{e(Qae({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:a}))})},onClearError(){e(Wae({metadataItemEntityID:t.metadataItemEntityID}))}}}))(class extends Jre{componentDidUpdate(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()}componentWillUnmount(){this.props.onClearError()}render(){return Xre(Zre,this.props)}});var ene=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,isOpen:r,metricsProperties:n,onModalClose:s}=e;return(Uu()(xT,{size:jp,isOpen:r,metricsPage:Rd.U,metricsProperties:n,onModalClose:s},void 0,Uu()($re,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,onModalClose:s})))},tne=a("0q5Z");function ane(e){var{providerFeatureType:t,providerModel:a,itemProviderModel:i,metadataItemModel:r,metadataListModel:n,metadataItemModels:s}=e,o=a.get("features"),l=o&&o.get(t);if(!!l&&l.get("flavor")===vie.c){var c=(null==r?void 0:r.get("source"))?Object(Bn.a)(r.get("source")).providerIdentifier:void 0,d=!!c&&c!==i.get("identifier")?r.get("source"):Object(tne.a)(i.server.get("machineIdentifier"),i.get("identifier")),u=r&&r.get("key")||n&&n.get("containerKey")||function(e){if(e){var[t]=e;if(!e.some(e=>e.get("source")!==t.get("source")))return"/library/metadata/"+e.map(e=>e.get("ratingKey")).join(",");O.a.warn("[Playlists] universal playlists can not contain items from multiple sources")}}(s);return _.join([d,u])}return lt.a.uri(r||n||s,{items:s})}var ine=a("JuGE");function rne(e){var{providerModel:t,itemProviderModel:a,metadataItemModel:i,metadataListModel:r,multiSelectModel:n,playQueueModel:s,smart:o,readOnly:l,recent:c}=e,d=n&&n.get("activeSelectionItems").pluck("model"),u=s?s.get("type"):Object(ine.a)({metadataItemModel:i,metadataListModel:r,metadataItemModels:d}),p=t&&t.get("features"),h=p&&p.get(Ot.k),m=h&&h.get("key"),v={type:Object(Wt.u)(Wt.m).id,playlistType:u,smart:o?1:0,readOnly:l?1:0};c&&(v.sort="updatedAt:desc");var g={playlistType:u,containerKey:m&&Object(_.join)(m,v)};return s||(g.uri=ane({providerFeatureType:Ot.k,providerModel:t,itemProviderModel:a,metadataItemModel:i,metadataListModel:r,metadataItemModels:d})),g}function nne(e){var{providerModel:t,type:a,title:i,smart:r=0,playlistID:n,playQueueID:s,uri:o,includeExternalMedia:l}=e,c={uri:o,playQueueID:s};l&&(c.includeExternalMedia=1),n||(c.title=i,c.smart=r?1:0,c.type=a);var d=t.get("features"),u=d&&d.get(Ot.k),p=u&&u.get("key"),h=_.join([p,n&&n+"/items"],c),m=n?"PUT":"POST",v=t.getXHROptions(h,{type:m});return T.a.ajax(v)}var sne=Object(Pa.a)("ui/modal/initAddToPlaylistModal"),one=Object(Pa.a)("ui/modal/clearAddToPlaylistModal"),lne=Object(Pa.a)("ui/modal/selectDestination"),cne=Object(Pa.a)("ui/modal/createPlaylist"),dne=Object(Pa.a)("ui/modal/addToPlaylist");function une(e){return e.get("ui").get("addToPlaylistModal")}function pne(e,t){Object(wa.a)(()=>{e.set({isUpdating:!0,error:null})}),nne(t).then(()=>{e.set({isUpdating:!1})},t=>{e.set({isUpdating:!1,error:Object(vw.a)(t)})})}var hne=uk({"ui/modal/initAddToPlaylistModal"(e,t,a){var i,r,n,s,o=une(e),l="";if(t.metadataItemEntityID)i=Object(Ta.f)(e,t),l=lt.a.title(i);else if(t.metadataListEntityID)r=Object(Ta.g)(e,t),l=lt.a.title(r);else if(t.playQueueID)s=Object(e9.b)(e,t.playQueueID);else{var c=(n=e.get("ui").get("multiSelect")).get("activeSelectionItems").pluck("model");l=lt.a.title(c,{items:c})}o.set({title:l,smart:t.smart,metadataItem:i,metadataList:r,multiSelect:n,playQueue:s}),a(lne(t))},"ui/modal/clearAddToPlaylistModal"(e){une(e).restoreDefaults()},"ui/modal/selectDestination"(e,t){var a=une(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=a.get("metadataItem"),s=a.get("metadataList"),o=a.get("multiSelect"),l=a.get("playQueue"),c=a.get("smart"),d=n?Object(Ta.j)(e,{providerEntityID:n.get("providerEntityID")}):r,{containerKey:u,playlistType:p,uri:h}=rne({providerModel:r,itemProviderModel:d,metadataItemModel:n,metadataListModel:s,multiSelectModel:o,playQueueModel:l}),m=new Qi.default({containerKey:u},{server:i,provider:r});a.set({server:i,provider:r,type:p,smart:c,containerKey:u,uri:h,playlists:m})},"ui/modal/createPlaylist"(e,t){var a=une(e),i=a.get("provider"),r=a.get("playQueue"),{formData:n}=t,s=a.pick("type","title","uri","smart");(s=Object.assign({},s,n)).providerModel=i,r&&(s.playQueueID=r.get("playQueueID")),Object(sw.a)(e,Tt.a)&&(s.includeExternalMedia=!0),pne(a,s)},"ui/modal/addToPlaylist"(e,{playlistID:t}){var a=une(e),i=a.get("provider"),r=a.get("playQueue"),n={playlistID:t,providerModel:i,uri:a.get("uri")};r&&(n.playQueueID=r.get("playQueueID")),Object(sw.a)(e,Tt.a)&&(n.includeExternalMedia=!0),pne(a,n)}}),mne=Object(_u.a)(Wu,e=>e.metadataLists);function vne(){return Object(_u.a)((e,{metadataListEntityID:t})=>t,mne,(e,t)=>t[e])}function gne(e){return e.ui.multiSelect}function yne(){return Object(_u.a)((e,{columnAdjustment:t})=>t,Nv.a,(e,t)=>e||t.columnAdjustment)}var fne=Ed.a.createElement,{Component:bne}=Ed.a;var Ine={dispatchPopulateMetadataList:yx,dispatchPopulateMetadataListRange:fx,dispatchDeselectAllMetadataListItems:Ox,dispatchResetMetadataList:jx};class Sne extends bne{constructor(...e){super(...e),this.onPageRequest=e=>{var{metadataListEntityID:t,disableReloadThreshold:a,dispatchPopulateMetadataListRange:i}=this.props;i(Object.assign({metadataListEntityID:t,disableReloadThreshold:a},e))}}componentWillMount(){this._populate()}componentWillReceiveProps(e){var{containerKey:t,metadataListEntityID:a}=e;t===this.props.containerKey&&a===this.props.metadataListEntityID||this._populate(e)}componentWillUnmount(){var{metadataListEntityID:e,shouldResetOnUnmount:t}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),t&&this.props.dispatchResetMetadataList({metadataListEntityID:e})}_populate(e=this.props){var{entityKey:t,metadataListEntityID:a,initialSize:i,dispatchPopulateMetadataList:r,dispatchPopulateMetadataListRange:n}=e;i&&Object(wa.a)(()=>{t&&this.props.dispatchResetMetadataList({metadataListEntityID:a}),i===1/0?r({metadataListEntityID:a}):n({metadataListEntityID:a,startIndex:0,endIndex:i-1,pages:1})})}render(){var e=this.props,{component:t}=e,a=Je()(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return(fne(t,tp()({},a,{onPageRequest:this.onPageRequest})))}}Sne.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};var Mne=Object(Fu.b)((function(){return Object(_u.a)(yne(),vne(),gne,(e,t,a)=>({metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!a.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,librarySectionID:t.librarySectionID,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList,isChannelsList:t.isChannelsList}))}),Ine)(Sne),Cne=Object(_u.a)(Ku,pv,mv("providers"),(e,t,a)=>e.reduce((e,i)=>{var r=(i.isCloud?a:i.providers).map(e=>({server:i,provider:t[e]})),n=r.length?r:[{server:i}];return e.push(...n),e},[]));function Dne({server:e,provider:t}){if(!t||!t.features)return!1;if(e&&(e.isShared||e.isCloud||!e.isConnected))return!1;var a=[jt.f,jt.d];return!!jt.k(t.identifier,a)&&!!t.features.find(e=>e.type===Ot.k&&e.flavor===vie.c)}var{Component:Pne}=Ed.a;var One=class extends Pne{constructor(...e){super(...e),this.onPress=e=>{this.props.isSelected||this.props.onDestinationSelect(this.props.destination),this.props.onMenuClose()}}render(){var{destination:e,isSelected:t}=this.props;return(Uu()(iy,{isSelected:t,onPress:this.onPress},void 0,e.name))}};var jne=function(e){var{target:t,isOpen:a,destination:i,destinations:r,onMenuClose:n,onDestinationSelect:s}=e;return(Uu()(Fg,{target:t,isOpen:a,size:wp,onMenuClose:n},void 0,r.map((e,t)=>Uu()(One,{destination:e,isSelected:e===i,onMenuClose:n,onDestinationSelect:s},"playlist-destination-"+t))))},{Component:Tne}=Ed.a;var wne=class extends Tne{constructor(e,t){super(e,t),this.onMenuButtonPress=()=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}render(){var{className:e,destination:t,destinations:a,onDestinationSelect:i}=this.props,{isMenuOpen:r}=this.state;return!a||a.length<2?null:Uu()("div",{className:e},void 0,Uu()(Cy,{id:this._menuButtonID,direction:r?cy:dy,onPress:this.onMenuButtonPress},void 0,t.name),Uu()(jne,{target:this._menuButtonID,isOpen:r,destination:t,destinations:a,onMenuClose:this.onMenuClose,onDestinationSelect:i}))}},Ene=Object(_u.a)(Cne,die,cie,(e,t,a)=>{var i={server:t,provider:a},r=e.filter(Dne);return r.find(({server:e,provider:i})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===a.identifier)||r.unshift(i),r});var Nne=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,Ene,(e,t,a)=>{var i=a.map(e=>({name:e.server.isCloud?Object(Ze.default)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID}));return{destination:i.find(({serverEntityID:a,providerEntityID:i})=>a===e.entityID&&i===t.entityID),destinations:i}})}))(wne),xne=a("ybRO"),Ane=a.n(xne),Lne=Ed.a.createElement;function kne(e){var{className:t,children:a,component:i,width:r,height:n,url:s}=e,o=Je()(e,["className","children","component","width","height","url"]);return(Uu()("div",{className:t,style:{width:r,height:n}},void 0,Lne(i,tp()({width:r,height:n,url:s},o)),a))}kne.defaultProps={className:Ane.a.card};var Rne=kne,zne=a("ShFY"),Une=a.n(zne),{useCallback:Vne}=Ed.a;var Bne=function(e){var{className:t,serverEntityID:a,providerEntityID:i,playlistID:r,title:n,thumb:s,isLoading:o,cellIndex:l,onSelect:c}=e,d=N$(e),u=Vne(()=>{c(r)},[r,c]);return Uu()("div",{className:t,style:d.style},void 0,o?null:Uu()(Vp,{className:(Une.a.container||"")+" "+(l%2&&Une.a.alternate||""),onPress:u},void 0,Uu()(Rne,{className:Une.a.card,serverEntityID:a,providerEntityID:i,component:PM,width:40,height:40,url:s}),Uu()("span",{className:Une.a.title},void 0,n)))};var Fne=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.thumb||e.composite||""}:{isLoading:!0})}))(Bne),Hne=a("jw1d"),_ne=a.n(Hne),Qne=Ed.a.createElement,{Component:Wne}=Ed.a,Gne=P$(50);var Yne=class extends Wne{constructor(...e){super(...e),this.renderPlaylistItem=e=>{var{serverEntityID:t,providerEntityID:a,onPlaylistSelect:i}=this.props;return(Qne(Fne,tp()({},e,{className:_ne.a.cell,serverEntityID:t,providerEntityID:a,onSelect:i})))}}render(){var e=this.props,{metadataItemEntityIDs:t,isPopulated:a,totalSize:i}=e,r=Je()(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return a?Qne(M$,tp()({className:_ne.a.content,scrollerClassName:_ne.a.contentScroller,keyPropName:"metadataItemEntityID",items:t,size:i,layout:Gne,cellRenderer:this.renderPlaylistItem},r)):Uu()(Xh,{className:_ne.a.spinner})}},Kne=a("upBJ"),qne=a.n(Kne),Zne=Ed.a.createElement,{Component:Xne}=Ed.a;function Jne(e){if(!e)return Object(Ze.default)("Title is required")}var $ne=jV(e=>{var{showErrors:t}=e,a=Je()(e,["showErrors"]);return(Zne(LR,tp()({hasError:t},a)))});var ese=class extends Xne{componentDidUpdate(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,title:r,smart:n,hasError:s,isUpdating:o,isMultiSelect:l,onModalClose:c,onDestinationSelect:d,onFormSubmit:u,onPlaylistSelect:p}=this.props,h=!l&&!n&&e&&t&&a;return Uu()(UL,{onModalClose:c},void 0,Uu()(jL,{},void 0,n?Object(Ze.default)("Create Playlist"):Object(Ze.default)("Add to Playlist")),h?Uu()(Nne,{className:qne.a.listModalSubheader,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onDestinationSelect:d}):null,s?Uu()(MU,{errorMessage:Object(Ze.default)("Something went wrong. Make sure the destination is available and try again.")}):null,n?null:Uu()(fL,{innerClassName:qne.a.listModalInnerBody},void 0,i?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,component:Yne,initialSize:20,onPlaylistSelect:p}):null),Uu()(CL,{},void 0,Uu()(AC,{className:qne.a.createForm,onSubmit:u},void 0,Uu()($ne,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:r,validations:[Jne]}),Uu()(bU,{className:qne.a.createButton,type:"submit",kind:Dp,isSpinning:o},void 0,Object(Ze.default)("Create")))))}},tse=Ed.a.createElement,{Component:ase}=Ed.a,ise=Object(_u.a)(e=>e.ui.addToPlaylistModal,mne,(e,t)=>{var{metadataItem:a,metadataList:i,multiSelect:r}=e;if(a)return a;var n=t[i];return n&&n.metadataItems.length?n.metadataItems[0]:r&&r.activeSelectionItems&&r.activeSelectionItems.length?r.activeSelectionItems[0].model:void 0}),rse=Object(_u.a)(e=>e.ui.addToPlaylistModal,ise,(e,t)=>({serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error}));var nse=Object(Fu.b)(rse,(function(e,t){return{onDestinationSelect({serverEntityID:t,providerEntityID:a}){e(lne({serverEntityID:t,providerEntityID:a}))},onFormSubmit(t){e(cne({formData:t}))},dispatchInitAddToPlaylistModal(){e(sne({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal(){e(one())},dispatchAddToPlaylist(t){e(dne({playlistID:t}))}}}))(class extends ase{constructor(...e){super(...e),this.onAdd=e=>{this.props.dispatchAddToPlaylist(e)}}componentDidMount(){this.props.dispatchInitAddToPlaylistModal()}componentWillUnmount(){this.props.dispatchClearAddToPlaylistModal()}render(){var e=this.props,t=Je()(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]);return(tse(ese,tp()({onPlaylistSelect:this.onAdd},t)))}}),sse=Ed.a.createElement;var ose=function(e){var{isOpen:t,onModalClose:a}=e,i=Je()(e,["isOpen","onModalClose"]);return(Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.Y,onModalClose:a},void 0,sse(nse,tp()({onModalClose:a},i))))},lse=Object(_u.a)(Wu,e=>e.watchTogetherRooms||{});var cse=2500;function dse(e){var{eventSource:t,events:a,predicate:i=(()=>!0),waitDuration:r=cse}=e,n=T.a.Deferred(),s=()=>{i(t)&&(l=window.clearTimeout(l),t.off(o),n.resolve(t))},o=a.reduce((e,t)=>(e[t]=s,e),{}),l=window.setTimeout(()=>{O.a.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,a,r),t.off("add",o),n.reject(t)},r);return t.on(o),n.promise()}function use(e){return e.get("isPopulated")?T.a.Deferred().resolve(e).promise():dse({eventSource:e,events:["change:error","change:isPopulated"]})}function pse(e,t){return function(e,t){return e.findWhere(t)?T.a.Deferred().resolve(e).promise():dse({eventSource:e,events:["add"],predicate:()=>!!e.findWhere(t)})}(e,t).then(e=>use(e.findWhere(t)),()=>T.a.Deferred().reject().promise())}var hse=function(e,t){var a,i=function(e){return e.get("Origin")||{key:e.get("key"),source:Object(an.a)({serverIdentifier:e.server.get("machineIdentifier"),providerIdentifier:e.provider.get("identifier")})}}(t),r=T.a.Deferred(),{source:n,key:s}=i,{providerIdentifier:o,serverIdentifier:l}=Object(Bn.a)(n),c=e.get("servers").get(l),d=c&&c.get("isCloud")?e.get("user"):c,u=d&&d.get("providers").get(o);if(c?c.get("isConnected")?u?u.get("isPopulated")||(a="Provider is not populated"):a="Unknown provider":a="Server is not connected":a="Unknown server",a)r.reject(new Error(a));else{var p=new ut.a({key:s},{server:c,provider:u,channel:t.channel,includeExternalMedia:t.includeExternalMedia,skipCache:!0}),h=Object(st.a)(u.server),m=u.resolveUrl(p.url(),{appendHeaders:!0}),v=u.getXHROptions(m,{dataType:h.typeName,data:{resolveIndirect:1}});p.fetch(v).then(e=>{var t=p.get("Media"),a=t?t.map(e=>T.a.extend(!0,{source:n},e)):[];r.resolve(a)},()=>{r.reject(new Error("Unable to fetch Origin metadata"))})}return r.promise()};function mse(e,t={}){var a=t.forceFetch||!e.get("isPreFetched")?function(e,t){var{itemProvider:a}=t,i={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===Wt.p&&(i.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(i.asyncCheckFiles=1,i.asyncRefreshAnalysis=1,i.asyncRefreshLocalMediaAgent=1):i.checkFiles=1;var r=a||e.provider,n=Object(st.a)(r.server),s=r.resolveUrl(e.url(),{appendHeaders:!0}),o=r.getXHROptions(s,{dataType:n.typeName,data:i,merge:!0});return e.fetch(o).done(()=>{e.set("isPreFetched",!0)})}(e,t):T.a.Deferred().resolve().promise();return a=a.then(()=>{var t=e.get("Media");if(e.get("indirect")&&(!t||!t.length)){var a=hse(Object(ie.c)("appModel"),e).then(t=>{e.set({Media:t})});return a.then(null,e=>{O.a.error("[Metadata] %s",e.message)}),a}})}var vse=xe.a.extend({name:"SyncplaySessionUserModel",idAttribute:"deviceIdentifier",sessionAttrs:{adDisplayIndex:Ae.a.integer,adDisplayTotal:Ae.a.integer,deviceIdentifier:Ae.a.string.isRequired,deviceName:Ae.a.string.isRequired,id:Ae.a.integer.isRequired,isAdPlaying:Ae.a.boolean,isPresent:Ae.a.boolean,isReady:Ae.a.boolean,isWatching:Ae.a.boolean,positionSeconds:Ae.a.oneOfType(Ae.a.integer,Ae.a.float),thumb:Ae.a.string,title:Ae.a.string},defaults:{deviceIdentifier:null,deviceName:null,id:null,isAdPlaying:!1,isReady:!1,isWatching:!1,positionSeconds:0}}),gse=ke.a.extend({name:"SyncplaySessionUserCollection",model:vse}),yse=xe.a.extend({name:"SyncplaySessionModel",idAttribute:"roomID",sessionAttrs:{notifications:Ae.a.array,roomID:Ae.a.string},sessionRelations:{metadataItem:{relationClass:ut.a,deferred:!0},users:{relationClass:gse}},defaults:{notifications:[]}}),fse=a("5+Bl"),bse=a("DcPB"),Ise="syncplaySessionActions/toggleSessionLobby",Sse="syncplaySessionActions/syncUser",Mse="syncplaySessionActions/syncLobby",Cse="syncplaySessionActions/syncPlaystate",Dse=Object(Pa.a)("syncplaySessionActions/joinSession"),Pse=Object(Pa.a)("syncplaySessionActions/leaveSession"),Ose=Object(Pa.a)("syncplaySessionActions/setSessionError"),jse=(Object(Pa.a)(Ise),Object(Pa.a)(Ise,e=>Object.assign({},e,{shouldShow:!0}))),Tse=Object(Pa.a)(Ise,e=>Object.assign({},e,{shouldHide:!0})),wse=Object(Pa.a)(Sse),Ese=Object(Pa.a)(Mse),Nse=Object(Pa.a)(Cse),xse=Object(Pa.a)("syncplaySessionActions/addNotification"),Ase=Object(Pa.a)("syncplaySessionActions/removeNotification"),Lse=I6.a;function kse(e){return zse(e).get("rooms")}function Rse(e){return zse(e).get("session")}function zse(e){return e.get("ui").get("watchTogether")}function Use(e){return(null==e?void 0:e.deviceIdentifier)===$.prop("X-Plex-Client-Identifier")}function Vse(e){var t=Object(e9.c)(e,Lse);return t.get("syncplaySessionRoomID")&&!!Object(fse.a)(t)}var Bse={"syncplaySessionActions/joinSession"(e,t,a){var i=Object(Ta.p)(e,t),r=i.get("id");zse(e).set("session",new yse({metadataItem:i.get("metadataItem"),roomID:r})),a(Kse()),Object(ie.c)("syncplaySessionManager").join({roomID:r,roomSourceUri:i.get("sourceUri"),roomSyncplayHost:i.get("syncplayHost"),roomSyncplayPort:i.get("syncplayPort")})},"syncplaySessionActions/leaveSession"(e,t,a){var i=Rse(e);if(i){var r=zse(e);Object(O.a)("[Watch Together] Leaving session for room:",i.get("roomID")),Object(ie.c)("syncplaySessionManager").leave(),r.unset("session"),r.unset("sessionError")}},"syncplaySessionActions/setSessionError"(e,t,a){var i=Object(e9.c)(e,Lse),{sessionError:r}=t;i.get("syncplaySessionRoomID")?i.set({hasError:!0,errorMessage:r}):zse(e).set({sessionError:r})},[Ise](e,t,a){var i,r=Object(e9.c)(e,Lse),n=r.get("syncplaySessionRoomID"),s={initiator:"WATCH_TOGETHER",playerType:Lse},{shouldHide:o,shouldShow:l}=t;if(l&&(r.set({isWatchTogetherLobbyVisible:!0,isWatchTogetherParticipantsVisible:!1}),r.get("isPaused")||(i=Object(bse.s)(s))),o){var c=null!==r.get("adState");c&&Object(ie.c)("syncplaySessionManager").update({roomID:n,isAdPlaying:c,adDisplayIndex:r.get("adDisplayIndex"),adDisplayTotal:r.get("adDisplayIndex")}),r.get("isPaused")&&(i=Object(bse.t)(s)),r.set({isWatchTogetherLobbyVisible:!1})}(l||o)&&Object(O.a)("[Watch Together] Session lobby is visible?",r.get("isWatchTogetherLobbyVisible")),i&&Vse(e)&&(Object(O.a)("[Watch Together] Dispatching after lobby visibility:",i),a(i))},[Sse](e,t,a){var{event:i}=t;if(i.user){var{ad:r,isPresent:n,isReady:s,positionSeconds:o,isPaused:l,user:c}=i,{deviceIdentifier:d,deviceName:u,id:p}=c,h=Rse(e),m=h.get("users"),v=[],g={},y=m.get(d)||m.add({deviceIdentifier:d,deviceName:u,id:p});if(!y.get("title")){var f,b=null==(f=kse(e).get(h.get("roomID")))?void 0:f.get("users"),I=null==b?void 0:b.get(p);I?(g.title=I.get("title"),g.thumb=I.get("thumb")):zse(e).get("isRoomsPending")||(O.a.debug("[Watch Together] Syncplay user is unknown "+c.id+" ("+c.deviceName+")"),v.push(Kse()))}if(void 0!==n&&n!==y.get("isPresent")&&(g.isPresent=n,v.push(xse({type:n?"join":"leave",user:c}))),!1===n&&y.get("isAdPlaying"))g.adDisplayIndex=null,g.adDisplayTotal=null,g.isAdPlaying=!1;else if(void 0!==r){var S,M,C;g.adDisplayIndex=null!=(S=null==r?void 0:r.displayIndex)?S:null,g.adDisplayTotal=null!=(M=null==r?void 0:r.displayTotal)?M:null,g.isAdPlaying=null!=(C=null==r?void 0:r.isPlaying)&&C}void 0!==s&&(g.isReady=s),void 0!==l&&(g.isWatching=!l),void 0!==o&&(g.positionSeconds=o),O.a.debug("[Watch Together] Updating user "+c.id+" ("+c.deviceName+"):",g),y.set(g),v.forEach(e=>{O.a.debug("[Watch Together](%s) Dispatching:",Sse,e),a(e)})}},[Cse](e,t,a){var{roomID:i,event:r}=t,n=Rse(e);if(!Use(r.user)){var s={user:r.user},o=function(e,t){var a=Object(e9.c)(e,Lse),{event:i}=t,{isPaused:r,positionSeconds:n,user:s}=i,o=null!=n,l=Rse(e).get("users").get(null==s?void 0:s.deviceIdentifier),c={nextPlaybackSpeed:a.get("playbackSpeed"),shouldChangePlaybackSpeed:!1,shouldPause:!1,shouldResume:!1,shouldSeek:!1,shouldStartPlayback:!1};if(!a.get("syncplaySessionRoomID")&&o)return c.shouldStartPlayback=!0,c;if(null!=a.get("adState")||(null==l?void 0:l.get("isAdPlaying")))return c;if(!Vse(e))return c;if(c.shouldPause=!0===r&&!a.get("isPaused"),c.shouldResume=!1===r&&a.get("isPaused"),c.shouldSeek=i.shouldSeek,o&&(c.nextPlaybackSpeed=1,!c.shouldSeek)){var d=a.get("positionSeconds")-n;O.a.debug("[Watch Together] Local position diff:",d+"s"),c.shouldSeek=d>=4||d<=-1.75,!c.shouldSeek&&d>1.5&&(c.nextPlaybackSpeed=.95)}return c.shouldChangePlaybackSpeed=c.nextPlaybackSpeed!==a.get("playbackSpeed"),c}(e,t),l=[];if(o.shouldStartPlayback){var c=n.get("metadataItem"),d=Math.round(1e3*r.positionSeconds);Object(O.a)("[Watch Together] Start playback at "+d+"s"),l.push(Object(Cw.p)({serverEntityID:c.get("serverEntityID"),providerEntityID:c.get("providerEntityID"),syncplaySessionRoomID:i,playerType:Lse,isPaused:!0,isWatchTogetherLobbyVisible:!0,openState:J8.a,startOffsetMilliseconds:d,options:{metadataItemKey:c.get("key"),type:X8.d}}))}o.shouldChangePlaybackSpeed&&l.push(Object(bse.j)({playerType:Lse,playbackSpeed:o.nextPlaybackSpeed})),o.shouldSeek&&(l.push(Object(bse.w)({initiator:"WATCH_TOGETHER",playerType:Lse,positionSeconds:Math.round(r.positionSeconds)})),r.shouldSeek&&l.push(xse(Object.assign({},s,{type:"seek"})))),o.shouldPause&&l.push(Object(bse.s)({initiator:"WATCH_TOGETHER",playerType:Lse}),xse(Object.assign({},s,{type:"pause"}))),o.shouldResume&&l.push(Object(bse.t)({initiator:"WATCH_TOGETHER",playerType:Lse}),xse(Object.assign({},s,{type:"resume"}))),l.forEach(e=>{O.a.debug("[Watch Together](%s) Dispatching:",Cse,e),a(e)})}},[Mse](e,t,a){var i=function(e,t){var{event:a}=t,{user:i}=a,r=Object(e9.c)(e,Lse),n=Rse(e),s=kse(e).get(n.get("roomID")),o=n.get("users"),l=o.get(null==i?void 0:i.deviceIdentifier),c={shouldHide:!1,shouldShow:!1};if(!l)return c;var d=!s||s.get("users").every(e=>o.findWhere({id:e.get("id")})),u=o.length>0&&o.every(e=>e.get("isReady")),p=!Use(i)&&(null==l?void 0:l.get("isAdPlaying")),h=!!r.get("adState"),m=r.get("isWatchTogetherLobbyVisible");return p&&!h?c.shouldShow=!0:p&&h?c.shouldHide=!0:d&&u&&(c.shouldHide=!0),c.shouldHide=m&&c.shouldHide,c.shouldShow=!m&&c.shouldShow,c}(e,t);i.shouldHide&&a(Tse(t)),i.shouldShow&&a(jse(t))},"syncplaySessionActions/addNotification"(e,t,a){var i=Object(e9.c)(e,Lse),r=Rse(e),{type:n,user:s}=t;if(Use(s))O.a.debug("[Watch Together] Ignoring notification from local user:",t);else if(i.get("isWatchTogetherLobbyVisible"))O.a.debug("[Watch Together] Ignoring notification while lobby visible:",t);else{var o={timestamp:Date.now(),type:n,uid:D.a.uniqueId(),userID:s.id};Object(O.a)('[Watch Together] Notification "'+n+'" from:',s);var l=r.get("notifications").concat(o).slice(-5);r.set({notifications:l})}},"syncplaySessionActions/removeNotification"(e,t,a){var i=Rse(e),r=i.get("notifications").filter(e=>e.uid!==t.uid);i.set({notifications:r})},[Cw.e](e,t,a){var i=Object(e9.c)(e,Lse),r=i.get("syncplaySessionRoomID");if(r&&!i.get("isWatchTogetherLobbyVisible")){var{adState:n,adDisplayIndex:s,adDisplayTotal:o}=t;Object(ie.c)("syncplaySessionManager").update({roomID:r,isAdPlaying:null!=n,adDisplayIndex:s,adDisplayTotal:o}),null==n&&a(jse())}},[Cw.a](e,t,a){a(Pse())},[Cw.c](e,t,a){a(Pse())},[bse.c](e,t){Object(e9.c)(e,Lse).get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&Object(ie.c)("syncplaySessionManager").update({hasPendingSeek:!0})},[bse.h](e,t){var a=Object(e9.c)(e,Lse);a.get("syncplaySessionRoomID")&&"WATCH_TOGETHER"!==t.initiator&&!a.get("adState")&&Object(ie.c)("syncplaySessionManager").update({hasPendingPlayPause:!0})}};Object.assign(Bse,{[bse.d]:Bse[bse.c],[bse.e]:Bse[bse.c],[bse.f]:Bse[bse.c],[bse.g]:Bse[bse.c]});var Fse=function(e){return e instanceof Promise?e:e instanceof Error?Promise.reject(e):"[object Function]"===Object.prototype.toString.call(null==e?void 0:e.then)?new Promise((t,a)=>{try{e.then(t,a)}catch(e){t(e)}}):Promise.resolve(e)},Hse=(Object(Pa.a)("watchTogetherRooms/initialize"),Object(Pa.a)("watchTogetherRooms/tryUpdateRooms")),_se=Object(Pa.a)("watchTogetherRooms/createRoom"),Qse=Object(Pa.a)("watchTogetherRooms/inviteUsers"),Wse=Object(Pa.a)("watchTogetherRooms/resetCreateRoom"),Gse=Object(Pa.a)("watchTogetherRooms/populateMetadataItem"),Yse=Object(Pa.a)("watchTogetherRooms/deleteRoom"),Kse=Object(Pa.a)("watchTogetherRooms/updateRooms"),qse=Object(Pa.a)("watchTogetherRooms/roomsUpdated");function Zse(e){return e.get("ui").get("watchTogether")}var Xse={"watchTogetherRooms/tryUpdateRooms"(e,t,a){var i=Object(ie.c)("watchTogetherRoomsManager").getRoomsClient();!1===(null==i?void 0:i.isOpen)&&a(Kse())},"watchTogetherRooms/updateRooms"(e,t,a){var i=Object(ie.c)("watchTogetherRoomsManager").getRoomsClient(),r=Zse(e);r.set({isRoomsPending:!0,isRoomsPopulated:!1}),i.rooms().then(e=>{a(qse({rooms:e}))},e=>{O.a.warn("[Watch Together] Unable to fetch rooms:",e),r.set({roomsError:Object(Ze.default)("Unable to retrieve Watch Together rooms."),isRoomsPending:!1,isRoomsPopulated:!1})})},"watchTogetherRooms/roomsUpdated"(e,t,a){var i=Zse(e),r=i.get("rooms");r.set(t.rooms,{parse:!0}),i.set({isRoomsPending:!1,isRoomsPopulated:!0});var n=i.get("session");if(n){var s=r.get(n.get("roomID"));if(s){var o=s.get("users");n.get("users").forEach(e=>{var t=o.get("user");!t||e.get("thumb")&&e.get("title")||e.set({thumb:e.get("thumb")||t.get("thumb"),title:e.get("title")||t.get("title")})})}}},"watchTogetherRooms/createRoom"(e,t,a){var i=Zse(e),r=Object(Ta.f)(e,t),n=r.get("sourceURI"),s=LP(r.toJSON()),{userIDs:o}=t,l=Object(ie.c)("watchTogetherRoomsManager").getRoomsClient();i.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),l.createRoom(n,s,o).then(e=>{Object(ie.c)("metrics").trackEvent({event:"watchtogether:created",interaction:!0,properties:{itemCount:o.length+1,playbackSessionId:e}});var t=i.get("rooms").get(e);i.set({isInvitePending:!1,isInviteCompleted:!0}),t.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:r}),i.get("session")||a(Dse({watchTogetherRoomEntityID:t.entityID()}))}).catch(e=>{O.a.warn("[Watch Together] An error occurred while creating a room:",e),i.set({isInvitePending:!1,inviteError:Object(Ze.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/inviteUsers"(e,t){var a=Zse(e),i=Object(Ta.p)(e,t),r=Object(ie.c)("watchTogetherRoomsManager").getRoomsClient();a.set({isInvitePending:!0,isInviteCompleted:!1,inviteError:null}),r.inviteUsers(i.get("id"),t.userIDs).then(()=>{a.set({isInvitePending:!1,isInviteCompleted:!0})}).catch(e=>{O.a.warn("[Watch Together] An error occurred while inviting users:",e),a.set({isInvitePending:!1,inviteError:Object(Ze.default)("Unable to send invite. Please try again.")})})},"watchTogetherRooms/resetCreateRoom"(e){Zse(e).set({isInvitePending:!1,isInviteCompleted:!1,inviteError:null})},"watchTogetherRooms/populateMetadataItem"(e,t){var a=Object(Ta.p)(e,t);if(!a.get("isMetadataItemPopulated")){var i,r=a.get("sourceUri"),{metadataItemKey:n,serverIdentifier:s,providerIdentifier:o}=Object(Bn.a)(r),l=Object(an.a)({providerIdentifier:o,serverIdentifier:s}),c=function(e,t){var{metadataItemKey:a,providerIdentifier:i,serverIdentifier:r}=Object(Bn.a)(t),n=e.get("entities").get(ht.g).findWhere(e=>{var t=null==e?void 0:e.get("model");return(t&&t.server&&t.provider&&t.server.get("machineIdentifier")===r&&t.provider.get("identifier")===i&&t.get("key")===a)});return null==n?void 0:n.get("model")}(e,r);if(a.set({isMetadataItemPending:!0,metadataItemError:null}),c)i=Promise.resolve(c);else{var d=e.get("servers").findWhere({machineIdentifier:s}),u=(null==d?void 0:d.get("isCloud"))?Object(Ta.o)(e):d;i=u?Fse(pse(u.get("providers"),{identifier:o})).then(e=>{var t=new ut.a({key:n,source:l},{server:d,provider:e});return Fse(mse(t)).then(()=>t)}):Promise.reject(new Error("Cannot populate from unknown server"))}i.then(e=>{var t=!e.get("key")&&jt.k(o,[jt.i])?{isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:Object(Ze.default)("This item is not available in your region.")}:{isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItem:e};a.set(t)},e=>{var t=null==e?void 0:e.server,i=(null==t?void 0:t.get("isConnected"))||(null==t?void 0:t.get("isUnauthorized"))?Object(Ze.default)("You dont have access to this item. Ask the owner to share it with you."):Object(Ze.default)("The server is unreachable.");a.set({isMetadataItemPending:!1,isMetadataItemPopulated:!1,metadataItemError:i})})}},"watchTogetherRooms/deleteRoom"(e,t){var a=Object(Ta.p)(e,t);Object(ie.c)("watchTogetherRoomsManager").getRoomsClient().deleteRoom(a.get("id")).catch(e=>{O.a.warn("[Watch Together] An error occurred while deleting a room:",e)})}},Jse=a("tsFx"),$se=a.n(Jse),{Fragment:eoe,useCallback:toe,useEffect:aoe,useState:ioe}=Ed.a,roe=Uu()(Xh,{});var noe=function(e){var{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:i,users:r,isLoading:n,isInvitePending:s,isInviteCompleted:o,inviteError:l,onModalClose:c,dispatchCreateRoom:d,dispatchInviteUsers:u}=e,p=ioe([]),h=p[1],m=p[0],v=!Gb(o)&&o&&!l;aoe(()=>{v&&c()},[v,c]);var g=toe(e=>m.includes(e.id),[m]),y=toe(e=>{var t=m.includes(e)?m.filter(t=>t!==e):[...m,e];h(t)},[m]),f=toe(()=>{i?u({watchTogetherRoomEntityID:i,userIDs:m}):d({metadataItemEntityID:a,userIDs:m})},[a,i,m,d,u]),b=r.length>0;return Uu()(UL,{onModalClose:c},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Watch Together")),l?Uu()(MU,{errorMessage:l}):null,Uu()(fL,{className:$se.a.modalBody,scrollDirection:Jp},void 0,n?null:Uu()("div",{className:$se.a.message},void 0,b?Object(Ze.default)("Invite friends to watch with you."):Uu()(oT,{message:Object(Ze.default)("Add friends in {openSpan}Users & Sharing{closeSpan} to watch together."),tags:[{open:"openSpan",close:"closeSpan",component:Vp,kind:Dp,to:"#!/settings/users-sharing"}]})),n?Uu()("div",{className:$se.a.spinnerContainer},void 0,roe):null,!n&&b?Uu()(eoe,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Users")),Uu()(hZ,{className:$se.a.list,serverEntityID:t,users:r,isUserSelected:g,onUserSelect:y})):null),Uu()(CL,{className:$se.a.modalFooter},void 0,Uu()(rT,{onPress:c},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{kind:Dp,isDisabled:s||0===m.length,isSpinning:s,onPress:f},void 0,Object(Ze.default)("Invite"))))},soe=Ed.a.createElement,{useEffect:ooe}=Ed.a;var loe={dispatchFetchAllFriends:fA,dispatchCreateRoom:_se,dispatchInviteUsers:Qse,dispatchResetCreateRoom:Wse};var coe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.watchTogether,qu.a,Kq,QY,Object(_u.a)((e,{watchTogetherRoomEntityID:t})=>t,lse,(e,t)=>t[e]),(e,t,a,i,r)=>({users:a.reduce((e,t)=>{var a=i[t];return(!r||!r.users.find(e=>e.id===a.id))&&e.push(a),e},[]),isLoading:t.isAllFriendsPending,isInvitePending:e.isInvitePending,isInviteCompleted:e.isInviteCompleted,inviteError:e.inviteError}))}),loe)((function(e){var{dispatchFetchAllFriends:t,dispatchResetCreateRoom:a}=e,i=Je()(e,["dispatchFetchAllFriends","dispatchResetCreateRoom"]);return ooe(()=>{Object(wa.a)(()=>{t()})},[t]),ooe(()=>a,[a]),soe(noe,i)}));var doe=function(e){var{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:i,metricsProperties:r,isOpen:n,onModalClose:s}=e;return(Uu()(xT,{metricsPage:Rd.Ab,metricsProperties:r,isOpen:n,onModalClose:s},void 0,Uu()(coe,{serverEntityID:t,metadataItemEntityID:a,watchTogetherRoomEntityID:i,onModalClose:s})))},uoe=Object(Pa.a)("ui/initAddToPlaylistMenu"),poe=Object(Pa.a)("ui/clearAddToPlaylistMenu"),hoe=Object(Pa.a)("ui/addToExistingPlaylist");function moe(e){return e.get("ui").get("addToPlaylistMenu")}var voe=uk({"ui/initAddToPlaylistMenu"(e,t){var a=moe(e),i=Object(Ta.q)(e,t),r=Object(Ta.r)(e,t),n=e.get("ui").get("multiSelect"),s=Object(Ta.m)(e,t),o=Object(Ta.j)(e,t),l=i?Object(Ta.j)(e,{providerEntityID:i.get("providerEntityID")}):o,{containerKey:c,uri:d}=rne({providerModel:o,itemProviderModel:l,metadataItemModel:i,metadataListModel:r,multiSelectModel:n,recent:!0}),u=new Qi.default({containerKey:c},{server:s,provider:o});a.set({recentPlaylists:u,uri:d})},"ui/clearAddToPlaylistMenu"(e){moe(e).restoreDefaults()},"ui/addToExistingPlaylist"(e,t){var a=moe(e),i=Object(Ta.j)(e,t),r=a.get("uri"),{playlistID:n}=t,s={playlistID:n,providerModel:i,uri:r};Object(sw.a)(e,Tt.a)&&(s.includeExternalMedia=!0),nne(s)}}),goe=a("jD54"),yoe=a.n(goe);function foe(e){var{className:t,children:a}=e;return(Uu()("div",{className:t},void 0,a))}foe.defaultProps={className:yoe.a.menuHeader};var boe=foe,Ioe=a("Lu/9"),Soe=a.n(Ioe),{useCallback:Moe}=Ed.a;var Coe=function(e){var{ratingKey:t,title:a,onPress:i}=e,r=Moe(()=>i(t),[i,t]);return Uu()(Gg,{className:Soe.a.item,onPress:r},void 0,a)},Doe=Object(_u.a)(ZG(),({ratingKey:e,title:t})=>({ratingKey:e,title:t})),Poe=Object(Fu.b)(Doe)(Coe),{Fragment:Ooe}=Ed.a,joe=Uu()(TJ,{});function Toe(e){var{metadataItemEntityIDs:t,showTopSeparator:a,header:i,onItemPress:r}=e;return(Uu()(Ooe,{},void 0,a&&t.length?joe:null,i?Uu()(boe,{},void 0,i):null,t.map(e=>Uu()(Poe,{metadataItemEntityID:e,onPress:r},e))))}Toe.defaultProps={showTopSeparator:!0};var woe=Toe,{Fragment:Eoe,useEffect:Noe}=Ed.a;var xoe=Object(_u.a)(e=>e.ui.addToPlaylistMenu.recentPlaylists,e=>({recentPlaylists:e}));var Aoe=Object(Fu.b)(xoe,(function(e,t){var{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metadataListEntityID:n}=t;return{onInitMenu(){e(uoe({serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metadataListEntityID:n}))},onClearMenu(){e(poe())},onAddToExistingPlaylistPress(t){e(hoe({providerEntityID:i,playlistID:t}))}}}))((function(e){var{showAddToPlaylist:t,showAddToSmartPlaylist:a,recentPlaylists:i,customFilterRoute:r,onAddToPlaylistPress:n,onAddToSmartPlaylistPress:s,onAddToExistingPlaylistPress:o,onInitMenu:l,onClearMenu:c,onMenuClose:d}=e;Noe(()=>(l(),c),[c,l]);var u=!!r;return(Uu()(Eoe,{},void 0,t?Uu()(Gg,{onPress:n},void 0,Object(Ze.default)("Add to Playlist...")):null,a?Uu()(Gg,{onPress:s},void 0,Object(Ze.default)("Save as Smart Playlist...")):null,u?Uu()(Gg,{to:r},void 0,Object(Ze.default)("Create Smart Playlist")):null,i?Uu()(Mne,{metadataListEntityID:i,component:woe,initialSize:3,showTopSeparator:t||u,header:Object(Ze.default)("Add to..."),onItemPress:Ib(o,d)}):null))})),Loe=Ed.a.createElement;var koe=function(e){var{onMenuClose:t}=e;return(Uu()(bre,{label:Object(Ze.default)("Add to Playlist"),onMenuClose:t},void 0,Loe(Aoe,e)))},{Fragment:Roe}=(a("3+5O"),Ed.a);var zoe=function(e){var{metadataItem:t,onMenuClose:a}=e,i=ny(),r=t.downloadUrl?t.downloadUrl():null,n=r&&!0;return Uu()(Roe,{},void 0,Uu()(Gg,{to:r,target:r?i:null,download:n,onPress:t.downloadUrl?a:Ib(e.onDownloadVersionPress,a)},void 0,Object(Ze.default)("Download File")),null)},Uoe=Ed.a.createElement;var Voe=function(e){var{label:t}=e,a=Je()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]);return(Uoe(Gg,a,t))},{Fragment:Boe,useCallback:Foe}=Ed.a,Hoe=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showWatchTogether","showAddToPlaylist","showAddToLibrary"],_oe=["showEdit","showMarkPlayed","showMarkUnplayed","showModifySmartPlaylist","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showShare","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function Qoe(e,t){return!!D.a.find(e,e=>t[e])}var Woe=Uu()(TJ,{});function Goe(e){var t,a,{target:i,isOpen:r,metadataItem:n,metadataItemEntityID:s,metricsPage:o,providerEntityID:l,serverEntityID:c,onPlayVersionPress:d,onCancelDownloadActivity:u,onDeleteDownloadSubscription:p,onCreateDownloadSubscription:h,onMenuClose:m}=e,v=w8(e.onMarkPlayedConfirm),g=w8(e.onMarkUnplayedConfirm),y=w8(),f=w8(),b=w8(),I=w8(),S=w8(),M=ore({metadataItemEntityID:s,metricsPage:o,providerEntityID:l,serverEntityID:c,onCancelDownloadActivity:u,onCreateDownloadSubscription:h,onDeleteDownloadSubscription:p}),C=Foe(e=>{d(e),y.onClose()},[d,y]),D=!!n.metadataState,P=!!n.mediaState,O=Qoe(Hoe,e),j=Qoe(_oe,e),T=O&&j;return Uu()(Boe,{},void 0,Uu()(Fg,{target:i,isOpen:r,onMenuClose:m},void 0,e.showPlay?Uu()(Gg,{onPress:Ib(e.onPlayPress,m)},void 0,Object(Ze.default)("Play")):null,e.showPlayVersion?Uu()(Gg,{onPress:Ib(y.onOpen,m)},void 0,Object(Ze.default)("Play Version...")):null,e.showPlayAll?Uu()(Gg,{onPress:Ib(e.onPlayAllPress,m)},void 0,Object(Ze.default)("Play All")):null,e.showShuffle?Uu()(Gg,{onPress:Ib(e.onShufflePress,m)},void 0,Object(Ze.default)("Shuffle")):null,e.showPlayRadio?Uu()(Gg,{onPress:Ib(e.onPlayRadioPress,m)},void 0,Object(Ze.default)("Play Radio")):null,e.showPlayArtistTV?Uu()(Gg,{onPress:Ib(e.onPlayArtistTVPress,m)},void 0,Object(Ze.default)("Play Artist TV")):null,e.showWatchTogether?Uu()(Gg,{onPress:Ib(f.onOpen,m)},void 0,Object(Ze.default)("Watch Together...")):null,e.showQueue?Uu()(Gg,{onPress:Ib(e.onPlayNextPress,m)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Uu()(Gg,{onPress:Ib(e.onAddToQueuePress,m)},void 0,Object(Ze.default)("Add to Queue")):null,e.showPlayPlexMix?Uu()(Gg,{onPress:Ib(e.onPlayPlexMixPress,m)},void 0,Object(Ze.default)("Play Plex Mix")):null,e.showQueuePlexMix?Uu()(Gg,{onPress:Ib(e.onQueuePlexMixPress,m)},void 0,Object(Ze.default)("Queue Plex Mix")):null,e.showPlayTrailer?Uu()(Gg,{onPress:Ib(e.onPlayPrimaryExtraPress,m)},void 0,Object(Ze.default)("Play Trailer")):null,e.showPlayMusicVideo?Uu()(Gg,{onPress:Ib(e.onPlayPrimaryExtraPress,m)},void 0,Object(Ze.default)("Play Music Video")):null,e.showAddToWatchlist?Uu()(Gg,{onPress:Ib(e.onAddToWatchlistPress,m)},void 0,n.watchlistedAt?Object(Ze.default)("Remove from Watchlist"):Object(Ze.default)("Add to Watchlist")):null,e.showAddToPlaylist?Uu()(koe,{serverEntityID:c,providerEntityID:l,metadataItemEntityID:s,showAddToPlaylist:!0,onAddToPlaylistPress:Ib(I.onOpen,m),onMenuClose:m}):null,e.showAddToSaved?Uu()(Gg,{onPress:Ib(e.onAddToSavedPress,m)},void 0,(t=n.saved,a=e.providerIdentifier,n.subtype===OM.c?t?Object(Ze.default)("Remove from My Podcasts"):Object(Ze.default)("Add to My Podcasts"):jt.k(a,jt.f)?t?Object(Ze.default)("Remove from My TIDAL"):Object(Ze.default)("Add to My TIDAL"):t?Object(Ze.default)("Remove from My Shows"):Object(Ze.default)("Add to My Shows"))):null,e.showAddToPicks?Uu()(Gg,{onPress:Ib(e.onAddToPicksPress,m)},void 0,n.picked?Object(Ze.default)("Remove from Plex Picks"):Object(Ze.default)("Add to Plex Picks")):null,e.showAddToLibrary?Uu()(jre,{serverEntityID:c,providerEntityID:l,metadataItemEntityID:s,onMenuClose:e.onMenuClose}):null,T?Woe:null,e.showEdit?Uu()(Gg,{onPress:Ib(e.onEditPress,m)},void 0,Object(Ze.default)("Edit")):null,e.showModifySmartPlaylist?Uu()(Gg,{onPress:Ib(e.onModifySmartPlaylistPress,m)},void 0,Object(Ze.default)("Edit Filters")):null,e.showSettings?Uu()(Gg,{onPress:Ib(b.onOpen,m)},void 0,Object(Ze.default)("Settings")):null,e.showMarkPlayed?Uu()(Gg,{onPress:Ib(v.onOpen,m)},void 0,Object(Ze.default)("Mark as Played")):null,e.showMarkUnplayed?Uu()(Gg,{onPress:Ib(g.onOpen,m)},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.showRefresh?Uu()(Gg,{isDisabled:D,onPress:Ib(e.onRefreshPress,m)},void 0,Object(Ze.default)("Refresh Metadata")):null,e.showAnalyze?Uu()(Gg,{isDisabled:P,onPress:Ib(e.onAnalyzePress,m)},void 0,Object(Ze.default)("Analyze")):null,e.showFixMatch?Uu()(Gg,{onPress:Ib(e.onFixMatchPress,m)},void 0,Object(Ze.default)("Fix Match...")):null,e.showMatch?Uu()(Gg,{onPress:Ib(e.onFixMatchPress,m)},void 0,Object(Ze.default)("Match...")):null,e.showUnmatch?Uu()(Gg,{onPress:Ib(e.onUnmatchPress,m)},void 0,Object(Ze.default)("Unmatch")):null,e.showSplitApart?Uu()(Gg,{onPress:Ib(e.onSplitApartPress,m)},void 0,Object(Ze.default)("Split Apart")):null,e.showSync?Uu()(Gg,{onPress:Ib(e.onSyncPress,m)},void 0,Object(Ze.default)("Sync...")):null,e.showSyncDownload?Uu()(cre,{component:Voe,metadataItemEntityID:s,providerEntityID:l,serverEntityID:c,onPress:Ib(M.onPress,m)}):null,e.showOptimize?Uu()(Gg,{onPress:Ib(e.onOptimizePress,m)},void 0,Object(Ze.default)("Optimize...")):null,e.showDownload?Uu()(EL,{action:kd.u},void 0,Uu()(zoe,{metadataItem:n,onMenuClose:m,onDownloadVersionPress:e.onDownloadVersionPress})):null,e.showShare?Uu()(EL,{action:kd.fb},void 0,Uu()(Gg,{onPress:Ib(S.onOpen,m)},void 0,Object(Ze.default)("Share"))):null,e.showDelete?Uu()(Gg,{kind:n.remoteMedia?void 0:Pp,onPress:Ib(e.onDeletePress,m)},void 0,n.remoteMedia?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null,e.showDeleteVersion?Uu()(Gg,{kind:Pp,onPress:Ib(e.onDeleteVersionPress,m)},void 0,Object(Ze.default)("Delete Version")):null,e.showViewPlayHistory?Uu()(Gg,{to:kP(e.machineIdentifier,n)},void 0,Object(Ze.default)("View Play History")):null,e.showGetInfo?Uu()(Gg,{onPress:Ib(e.onGetInfoPress,m)},void 0,Object(Ze.default)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?Uu()(xre,{isOpen:v.isOpen||g.isOpen,type:n.type,subtype:n.subtype,title:n.title,leafCount:v.isOpen?n.unviewedLeafCount:n.viewedLeafCount,markUnplayed:g.isOpen,onConfirm:v.isOpen?v.onConfirm:g.onConfirm,onCancel:v.isOpen?v.onClose:g.onClose}):null,e.showAddToPlaylist?Uu()(ose,{isOpen:I.isOpen,serverEntityID:c,providerEntityID:l,metadataItemEntityID:s,onModalClose:I.onClose}):null,e.showSyncDownload?Uu()(ure,{isOpen:M.isOpen,state:M.state,onConfirm:M.onConfirm,onClose:M.onClose}):null,Uu()(Gre,{isOpen:y.isOpen,mediaItems:n.Media,onCancel:y.onClose,onItemSelect:C}),Uu()(ene,{serverEntityID:c,providerEntityID:l,metadataItemEntityID:s,isOpen:b.isOpen,onModalClose:b.onClose}),e.showWatchTogether?Uu()(doe,{metricsProperties:{context:e.metricsContext,page:o},serverEntityID:c,metadataItemEntityID:s,isOpen:f.isOpen,onModalClose:f.onClose}):null,e.showShare?Uu()(NZ,{metricsProperties:{context:e.metricsContext,page:o},serverEntityID:c,metadataItemEntityID:s,isOpen:S.isOpen,onModalClose:S.onClose}):null)}Goe.defaultProps={allowRedirectOnDelete:!1};var Yoe=Goe;var Koe=Object(Fu.b)(uie)(xG((function(){return Object(_u.a)(GS,cie,Fie,ZG(),Bie(),(e,t,a,i,r)=>Object.assign({metadataItem:i,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:a},r))}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Cw.p(Object.assign({},a,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress(i){e(Cw.p(Object.assign({},a,{startMediaIndex:i,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress(){e(Cw.o(a))},onShufflePress(){e(Cw.t(a))},onPlayNextPress(){e(Cw.j(Object.assign({},a,{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(Cw.j(Object.assign({},a,{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress(){e(Cw.s(a))},onQueuePlexMixPress(){e(Cw.k(a))},onPlayPrimaryExtraPress(){e(Cw.q(a))},onPlayRadioPress(){e(Cw.r(Object.assign({playlistType:Yt.a},a)))},onPlayArtistTVPress(){e(Cw.r(Object.assign({playlistType:Yt.c},a)))},onAddToPicksPress(){e(Object(Z8.h)(a))},onAddToSavedPress(){e(Object(Z8.i)(a))},onAddToWatchlistPress(){e(Object(Z8.j)(a))},onMarkPlayedConfirm(){e(qae(Object.assign({},a,{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Kae(Object.assign({},a,{skipConfirm:!0})))},onEditPress(){e(xae(a))},onRefreshPress(){e(Uae(a))},onModifySmartPlaylistPress(){e(tie(a))},onAnalyzePress(){e(Tae(a))},onFixMatchPress(){e(Aae(a))},onUnmatchPress(){e(Fae(a))},onSplitApartPress(){e(Vae(a))},onSyncPress(){e(Bae(a))},onOptimizePress(){e(Rae(a))},onDownloadVersionPress(){e(Nae(a))},onDeletePress(){e(wae(Object.assign({},a,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress(){e(Eae(a))},onGetInfoPress(){e(Lae(a))},onCancelDownloadActivity(){e(pie(a))},onDeleteDownloadSubscription(){e(mie(a))},onCreateDownloadSubscription(){e(hie(a))}}}),lie)(Yoe)),qoe=Ed.a.createElement,{Component:Zoe}=Ed.a;var Xoe=class extends Zoe{constructor(e,t){super(e,t),this.onActionsPress=e=>{this.setState({hasBeenOpened:!0},()=>{this.props.onMenuOpenChange(!this.props.isMenuOpen)})},this.onActionsMenuClose=()=>{this.props.onMenuOpenChange(!1)},this._moreButtonID=Mp(),this.state={hasBeenOpened:!1}}render(){var e=this.props,{"data-qa-id":t,className:a,iconClassName:i,tabIndex:r,serverEntityID:n,providerEntityID:s,metadataItemEntityID:o,containerKey:l,listType:c,isMenuOpen:d}=e,u=Je()(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]);return(Uu()(Vp,{"data-qa-id":t,id:this._moreButtonID,className:a,tabIndex:r,"aria-label":Object(Ze.default)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},void 0,Uu()(UZ,{className:i}),this.state.hasBeenOpened?qoe(Koe,tp()({serverEntityID:n,providerEntityID:s,metadataItemEntityID:o,containerKey:l,listType:c,target:this._moreButtonID,isOpen:d,onMenuClose:this.onActionsMenuClose},u)):null))}};var Joe=function({className:e,tabIndex:t,title:a,route:i}){return a?i?Uu()(Vp,{className:e,"data-qa-id":"metadataTitleLink",tabIndex:t,title:a,to:i},void 0,a):Uu()("span",{className:e,title:a},void 0,a):null};var $oe=function({className:e,tabIndex:t,grandparentTitle:a,grandparentRoute:i}){return Uu()(Joe,{className:e,tabIndex:t,title:a,route:i})};var ele=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,die,cie,ZG(),(e,t,a,i={})=>{var r={};return e&&(r.context=e),{grandparentTitle:i.grandparentTitle,grandparentRoute:lu(t,a,i.grandparentKey,r)}})}))($oe);var tle=function({className:e,tabIndex:t,parentTitle:a,parentRoute:i}){return Uu()(Joe,{className:e,tabIndex:t,title:a,route:i})};var ale=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,die,cie,ZG(),(e,t,a,i={})=>{var r={};return e&&(r.context=e),{parentTitle:i.parentTitle,parentRoute:lu(t,a,i.parentKey,r)}})}))(tle),{Component:ile}=Ed.a;function rle(e,t){var a=Math.abs(Date.now()-1e3*e);return a<36e5?window.setTimeout(t,6e4):a<864e5?window.setTimeout(t,36e5):void 0}var nle=class extends ile{constructor(e,t){super(e,t),this.trackTime=()=>{var{timestamp:e}=this.props,t=Nj(e);this.setState({title:t}),this.timeoutID=rle(e,this.trackTime)};var{timestamp:a}=this.props,i=Nj(a);this.state={title:i},this.timeoutID=rle(a,this.trackTime)}componentWillReceiveProps(e){if(e.timestamp!==this.props.timestamp){var t=Nj(e.timestamp);this.setState({title:t})}}componentWillUnmount(){this.timeoutID&&(this.timeoutID=window.clearTimeout(this.timeoutID))}render(){var{className:e}=this.props,{title:t}=this.state;return Uu()("span",{className:e},void 0,t)}};var sle=function({className:e,addedAt:t,title:a,route:i}){return t||a?Uu()("span",{className:e},void 0,Uu()(nle,{timestamp:t}),t&&a?"  ":null,Uu()(Joe,{title:a,route:i})):null};var ole=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>{var{addedAt:t,Channel:a}=e;return{addedAt:t,title:a&&a[0]&&a[0].tag}})}))(sle);var lle=function({className:e,leafCount:t}){var a;return null!=t&&(a=1===t?Object(Ze.default)("{trackCount} track",{trackCount:t}):Object(Ze.default)("{trackCount} tracks",{trackCount:t})),Uu()("span",{className:e},void 0,a)};var cle=function({className:e,skipChildren:t,childCount:a,leafCount:i}){return t?Uu()(lle,{className:e,leafCount:i}):(null!=a&&(r=1===a?Object(Ze.default)("{albumCount} album",{albumCount:a}):Object(Ze.default)("{albumCount} albums",{albumCount:a})),Uu()("span",{className:e},void 0,r));var r};var dle=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(cle);var ule=function({className:e,childCount:t,subtype:a}){var i;if(null!=t){var r=1===t,n={itemCount:t};i=a===Wt.j?r?Object(Ze.default)("{itemCount} movie",n):Object(Ze.default)("{itemCount} movies",n):a===Wt.o?r?Object(Ze.default)("{itemCount} show",n):Object(Ze.default)("{itemCount} shows",n):r?Object(Ze.default)("{itemCount} item",n):Object(Ze.default)("{itemCount} items",n)}return(Uu()("span",{className:e},void 0,i))};var ple=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({childCount:e.childCount,subtype:e.subtype}))}))(ule);var hle=function({className:e,title:t}){return Uu()("span",{className:e,title:t},void 0,t)};var mle=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({title:e.title}))}))(hle),vle=a("vzw/");var gle=function({className:e,date:t}){return t?Uu()("span",{className:e},void 0,Object(vle.default)(t)):null};var yle=function({className:e,addedAt:t}){return t?Uu()(gle,{className:e,date:1e3*t}):null};var fle=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({addedAt:e.addedAt}))}))(yle);var ble=function({className:e,leafCount:t}){var a;return null!=t&&(a=1===t?Object(Ze.default)("{itemCount} item",{itemCount:t}):Object(Ze.default)("{itemCount} items",{itemCount:t})),Uu()("span",{className:e},void 0,a)};var Ile=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({leafCount:e.leafCount}))}))(ble);var Sle=function({className:e,leafCount:t}){var a;return null!=t&&(a=1===t?Object(Ze.default)("{episodeCount} episode",{episodeCount:t}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:t})),Uu()("span",{className:e},void 0,a)};var Mle=function({className:e,skipChildren:t,childCount:a,leafCount:i}){if(t)return Uu()(Sle,{className:e,leafCount:i});if(!a)return null;var r=1===a?Object(Ze.default)("{seasonCount} season",{seasonCount:a}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:a});return(Uu()("span",{className:e},void 0,r))};var Cle=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}))}))(Mle),Dle=Uu()($y,{});var Ple=function({className:e,tabIndex:t,skipParent:a,skipGrandparent:i,parentTitle:r,parentRoute:n,grandparentTitle:s,grandparentRoute:o}){return Uu()("span",{className:e},void 0,i?null:Uu()(Joe,{tabIndex:t,title:s,route:o}),!r||a||i?null:Dle,a?null:Uu()(Joe,{tabIndex:t,title:r,route:n}))};var Ole=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,(e,{skipGrandparent:t})=>t,die,cie,ZG(),(e,t,a,i,r={})=>{var n={};return e&&(n.context=e),{skipParent:r.skipParent,skipGrandparent:t,parentTitle:r.parentTitle,parentRoute:lu(a,i,r.parentKey,n),grandparentTitle:r.originalTitle||r.grandparentTitle,grandparentRoute:lu(a,i,r.grandparentKey,n)}})}))(Ple);var jle=function({className:e,year:t}){return Uu()("span",{className:e,"data-qa-id":"metadataYear"},void 0,t)};var Tle=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({year:e.year}))}))(jle),wle=Uu()("path",{d:"M216 170l190.5 110L216 390z"});var Ele=function(e){return Uu()("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},void 0,wle)},Nle=a("Qc4C"),xle=a.n(Nle),Ale=Ed.a.createElement;function Lle(e){var{className:t,circleClassName:a,title:i}=e,r=Je()(e,["className","circleClassName","title"]);return(Ale(Vp,tp()({className:t,"aria-label":Object(Ze.default)("Play {title}",{title:i})},r),Uu()(Ele,{className:a})))}Lle.defaultProps={className:xle.a.playButton,circleClassName:xle.a.playCircle};var kle=Lle,Rle=a("yfwS"),zle=a.n(Rle);function Ule(e){var{circleClassName:t,iconClassName:a}=e;return(Uu()("div",{className:t},void 0,Uu()("span",{className:a})))}Ule.defaultProps={circleClassName:zle.a.recordCircle,iconClassName:zle.a.recordIcon};var Vle=Ule,Ble=a("Y/9r"),Fle=a.n(Ble),Hle=Ed.a.createElement;function _le(e){var{className:t,circleClassName:a,iconClassName:i,title:r}=e,n=Je()(e,["className","circleClassName","iconClassName","title"]);return(Hle(Vp,tp()({className:t,"aria-label":Object(Ze.default)("Record {title}",{title:r})},n),Uu()(Vle,{circleClassName:a,iconClassName:i})))}_le.defaultProps={className:Fle.a.recordButton};var Qle=_le,Wle=a("k+R5"),Gle=a.n(Wle);function Yle(e){var{className:t,playButtonClassName:a,playCircleClassName:i,serverEntityID:r,providerEntityID:n,imageWidth:s,imageHeight:o,imageUrl:l,title:c,isLiveTVItem:d,recordLink:u,onRecordPress:p,onPlayPress:h}=e;return(Uu()(Rne,{className:t,serverEntityID:r,providerEntityID:n,component:PM,width:s,height:o,url:l},void 0,d?Uu()(Qle,{className:Gle.a.recordButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:Gle.a.recordCircle,tabIndex:"-1",title:c,to:u,onPress:p}):Uu()(kle,{className:a,"data-qa-id":"metadataPosterPlayButton",circleClassName:i,tabIndex:"-1",title:c,onPress:h})))}Yle.defaultProps={className:Gle.a.card,playButtonClassName:Gle.a.playButton,playCircleClassName:Gle.a.playCircle,isLiveTVItem:!1};var Kle=Yle,qle=a("a88H"),Zle=a.n(qle),Xle=Ed.a.createElement;function Jle(e){return Xle(Kle,e)}Jle.defaultProps={className:Zle.a.card};var $le=Jle,ece=a("EBCF"),tce=a.n(ece),ace=Ed.a.createElement;function ice(e){var{className:t,name:a,width:i,height:r}=e,n=Je()(e,["className","name","width","height"]),s=a.toUpperCase().split(" "),o=s[0].charAt(0),l=s[s.length-1].charAt(0),c=s.length>1?""+o+l:a.charAt(0),d={fontSize:Math.max(14,Math.min(Math.round(i/4),42)),lineHeight:r+"px"};return ace("div",tp()({style:d,className:(t||"")+" "+(tce.a.anagram||"")},n),c)}ice.defaultProps={width:13,height:13};var rce=ice;var nce=function(e){var{serverEntityID:t,providerEntityID:a,isOffscreen:i,tagType:r,librarySectionType:n,title:s,url:o,width:l,height:c,transitionProps:d,onLoad:u,onError:p}=e;if(i)return null;if(o)return Uu()(tM,{serverEntityID:t,providerEntityID:a,url:o,width:l,height:c,transitionProps:d,backgroundPosition:"center center",onLoad:u,onError:p});var h=Z7.get(r);if(h&&h.isPerson)return Uu()(rce,{name:s,width:l,height:c});var m=UQ.g.get(n),v=function(e){switch(e){case"artist":return"track";default:return e}}(m&&m.typeString);return Uu()(DM,{type:v,width:l,height:c})},sce=a("QZNe"),oce=a.n(sce),lce=Ed.a.createElement;function cce(e){var{className:t,imageWidth:a,imageHeight:i,imageUrl:r,tag:n,tagType:s}=e,o=Je()(e,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),l=Z7.get(s),c=!!l&&l.isPerson;return lce(Rne,tp()({key:n,className:(t||"")+" "+(c&&oce.a.isPerson||""),component:nce,width:a,height:i,url:r,tagType:s},o))}cce.defaultProps={className:oce.a.card};var dce=cce,uce=a("r+/Q"),pce=a.n(uce),hce=Ed.a.createElement;var mce=function(e){return hce(dce,tp()({className:pce.a.card},e))},vce=a("1H5i"),gce=a.n(vce),yce=Ed.a.createElement;var fce=function(e){var{className:t,component:a,isSecondary:i}=e,r=Je()(e,["className","component","isSecondary"]);return(Uu()("div",{className:(t||"")+" "+(gce.a.title||"")+" "+(i&&gce.a.isSecondary||"")},void 0,yce(a,tp()({tabIndex:"-1"},r))))},bce=Oc.a.shape({key:Oc.a.string,hubKey:Oc.a.string,title:Oc.a.string,icon:Oc.a.string,type:Oc.a.string,subtype:Oc.a.string,agent:Oc.a.string,updatedAt:Oc.a.number,scannedAt:Oc.a.number,context:Oc.a.string});Oc.a.shape({identifier:Oc.a.string.isRequired,isLibraryProvider:Oc.a.bool.isRequired,isPopulated:Oc.a.bool.isRequired,protocols:Oc.a.object.isRequired,features:Oc.a.object.isRequired}),Oc.a.shape({machineIdentifier:Oc.a.string.isRequired,allowSync:Oc.a.bool,allowMediaDeletion:Oc.a.bool,transcoderVideo:Oc.a.bool,isFullServer:Oc.a.bool.isRequired,isFullOwnedServer:Oc.a.bool.isRequired});var Ice=function(e){var{className:t,server:a,provider:i,sourceDirectory:r,originalTitle:n,reason:s,reasonID:o,reasonTitle:l,filter:c,onPress:d}=e;if(!s)return null;if("originalTitle"===s)return Uu()("span",{className:t},void 0,n);if(!l)return null;var u={};("actor"===s||"director"===s)&&(u.filters=c||s+"="+o,u.filterLabel=l);var p=X7(a,i,r,u),h={director:Object(Ze.default)("by"),actor:Object(Ze.default)("with"),section:Object(Ze.default)("in"),autotag:Object(Ze.default)("tagged"),place:Object(Ze.default)("in")};return p?Uu()("span",{className:t},void 0,h[s]," ",Uu()(Vp,{title:l,tabIndex:"-1",to:p,onPress:d},void 0,l)):Uu()("span",{className:t},void 0,h[s]+" "+l)};var Sce=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,Gee(),ZG(),(e,t,a={},i)=>{var r=i||a.tagItem;return{server:e,provider:t,sourceDirectory:Yee(t,r.librarySectionID),reasonID:a.reasonID,reason:a.reason,reasonTitle:a.reasonTitle,originalTitle:r.originalTitle,filter:r.filter,librarySectionType:r.librarySectionType}})}))(Ice);var Mce=function({className:e,tag:t}){return Uu()("span",{className:e},void 0,t)},Cce=Ed.a.createElement;var Dce=Object(Fu.b)((function(){return Object(_u.a)(Gee(),(e={})=>({tag:e.tagItem&&e.tagItem.tag}))}))((function(e){return Cce(Mce,e)})),Pce=a("wRTI"),Oce=a.n(Pce),{Component:jce}=Ed.a;function Tce(e,t,a){return a?function(e,t){switch(t){case"news":switch(e){case"clip":return[mle,ole]}}switch(e){case"movie":return[mle,Tle];case"show":return[mle,Cle];case"episode":return[mle,ele];case"artist":return[mle,dle];case"album":return[mle,ale];case"track":return[mle,Ole];case"photo":case"photoalbum":case"clip":return[mle,fle];case"playlist":return[mle,Ile];case"collection":return[mle,ple];default:return[mle,Sce]}}(e,t):[Dce,Sce]}class wce extends jce{constructor(e){super(e),this.onItemPress=e=>{e.stopPropagation(),this.state.isActionsMenuOpen&&this.props.onLinkPress()},this.onItemFocus=e=>{this.props.onResultFocus(this.props.searchResultEntityID)},this.onPlayPress=e=>{e.stopPropagation(),this.props.onPlayPress(this.props.searchResultEntityID)},this.onLinkPress=e=>{e.stopPropagation(),this.props.onLinkPress()},this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUpdate(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){var a=Bu.a.findDOMNode(this);this.props.onScrollIntoView({scrollTop:a.offsetTop})}}render(){var{serverEntityID:e,providerEntityID:t,searchResultEntityID:a,metadataItemEntityID:i,server:r,provider:n,isSelected:s,isMetadataItem:o,imageWidth:l,imageHeight:c,imageUrl:d,resultRoute:u,metadataKey:p,metadataTitle:h,metadataType:m,metadataSubtype:v,tag:g,tagTypeString:y,librarySectionType:f,reasonTitle:b}=this.props,{isActionsMenuOpen:I}=this.state,S=o?m:y,M=o?v:null,C=n.protocols.livetv;return Uu()(Vp,{component:"div","data-qa-id":"quickSearchItemButton",className:(Oce.a.button||"")+" "+((s||I)&&Oce.a.selected||""),onPress:this.onItemPress,onFocus:this.onItemFocus},void 0,Uu()(Vp,{className:Oce.a.underlay,"data-qa-id":"quickSearchItemLink",tabIndex:"1",title:o?h:g,to:u,onPress:u?this.onLinkPress:this.onPlayPress}),Uu()("div",{className:Oce.a.overlay},void 0,Uu()("div",{className:Oce.a.imageContainer},void 0,o?Uu()($le,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:h,type:m,isLiveTVItem:C,recordLink:lu(r,n,p,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):Uu()(mce,{serverEntityID:e,providerEntityID:t,imageWidth:l,imageHeight:c,imageUrl:d,title:g,tag:g,tagType:y,librarySectionType:f})),Uu()("div",{className:Oce.a.titles,"data-qa-id":"quickSearchTitleContainer"},void 0,Tce(S,M,o).map((r,n)=>{var s=n>0,o=s&&!!b;return Uu()(fce,{className:s?null:Oce.a.title,serverEntityID:e,providerEntityID:t,searchResultEntityID:a,metadataItemEntityID:i,component:o?Sce:r,isSecondary:s,onPress:this.onLinkPress},n)})),o&&!C?Uu()(Xoe,{"data-qa-id":"quickSearchMoreButton",className:Oce.a.moreButton,iconClassName:Oce.a.moreIcon,tabIndex:"-1",serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:I,onMenuOpenChange:this.onActionsMenuOpenChange}):null))}}wce.defaultProps={isMetadataItem:!1};var Ece=wce,Nce=Ed.a.createElement,{Component:xce}=Ed.a;var Ace=Object.assign({resetQuickSearch:lee,selectQuickSearchResult:pee,playQuickSearchResult:mee},c);var Lce=Object(Fu.b)((function(){return Object(_u.a)((e,{metricsContext:t})=>t,GS,_S,Gee(),ZG(),(e,t,a,i={},r)=>{var n={server:t,provider:a,reasonID:i.reasonID,reasonTitle:i.reasonTitle};if(r){var s=oie(jM(r.type,r.subtype)===1/1.5?28:36,null,r.type,r.subtype,r,"quickSearch"),o=Yee(a,r.librarySectionKey);n=Object.assign({metadataKey:r.key,metadataTitle:r.title,metadataType:r.type,metadataSubtype:r.subtype,typeString:r.type,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,resultRoute:J7(t,a,r,{context:e},o)},n)}else{var l=i.tagItem||{},c=Z7.get(l.tagType),d=c&&c.typeString,u=oie(36,null,d,null,l,"quickSearch"),p=X7(t,a,Yee(a,l.librarySectionID),{filters:l.filter?l.filter:d+"="+l.id,filterLabel:l.tag,context:e});n=Object.assign({tag:l.tag,tagType:l.tagType,tagTypeString:d,librarySectionType:l.librarySectionType,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,resultRoute:p},n)}return n})}),Ace,lie)(class extends xce{constructor(...e){super(...e),this.onLinkPress=()=>{var{serverEntityID:e}=this.props;this.props.resetQuickSearch({serverEntityID:e}),fg()},this.onResultFocus=e=>{Object(wa.a)(()=>{this.props.selectQuickSearchResult({searchResultEntityID:e})})},this.onPlayPress=e=>{var{serverEntityID:t,providerEntityID:a}=this.props;this.props.playQuickSearchResult({serverEntityID:t,providerEntityID:a,searchResultEntityID:e})}}render(){return Nce(Ece,tp()({},this.props,{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))}}),kce=Ed.a.createElement;var Rce=Object(Fu.b)((function(){return Object(_u.a)(Gee(),({metadataItem:e})=>({metadataItemEntityID:e,isMetadataItem:!!e}))}))((function(e){var{component:t}=e,a=Je()(e,["component"]);return(kce(t,a))})),zce=Ed.a.createElement,{Component:Uce}=Ed.a;var Vce=class extends Uce{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=this.props,{title:t,selectedResultEntityID:a,metadataResults:i,tagResults:r}=e,n=Je()(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return(Uu()(Qee,{title:t},void 0,i.concat(r).map((e,t)=>zce(Rce,tp()({key:e,searchResultEntityID:e,component:Lce,isSelected:a===e},n)))))}},Bce=a("Ms8g"),Fce=a.n(Bce),Hce=Ed.a.createElement,{Fragment:_ce}=Ed.a;function Qce(e){var{isLoading:t,hubs:a}=e,i=Je()(e,["isLoading","hubs"]);return t?Uu()("div",{className:Fce.a.spinnerContainer},void 0,Uu()(Xh,{className:Fce.a.spinner})):a.length?Uu()("div",{},void 0,a.map(e=>Hce(Vce,tp()({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},i)))):Uu()("div",{className:Fce.a.noResults},void 0,Object(Ze.default)("No Results"))}var Wce=function(e){var{searchTitle:t,isSearchPending:a}=e,i=Je()(e,["searchTitle","isSearchPending","isSearchPopulated"]);return(Uu()(_ce,{},void 0,Uu()("div",{className:Fce.a.title,"aria-label":"heading","aria-level":"4"},void 0,t),Hce(Qce,tp()({isLoading:a&&!e.hubs.length},i))))},Gce=Ed.a.createElement;var Yce=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.quickSearch,e=>({selectedResultEntityID:e.selectedResultEntityID}))}))((function(e){return Gce(Wce,e)})),Kce=a("pWth"),qce=a.n(Kce),Zce=Ed.a.createElement,{Fragment:Xce}=Ed.a;var Jce=function(e){var{searches:t,onScrollIntoView:a}=e;return(Uu()(Xce,{},void 0,t&&t.length?t.map(e=>Zce(Yce,tp()({},e,{key:e.providerEntityID,onScrollIntoView:a}))):Uu()("div",{className:qce.a.noSources},void 0,Object(Ze.default)("No pinned sources to search."))))},$ce=Object(_u.a)(e=>e.ui.quickSearch,e=>({searches:e.searches})),ede=Object(Fu.b)(e=>$ce(e))(Jce),tde=a("eSZy"),ade=a.n(tde),ide=Ed.a.createElement,{Component:rde}=Ed.a,nde=Uu()(Fee,{});class sde extends rde{constructor(e){super(e),this.onWindowResize=()=>{this.setState({maxHeight:this.getMaxHeight()})},this.state={maxHeight:this.getMaxHeight()}}componentDidMount(){window.addEventListener("resize",this.onWindowResize)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowResize)}getMaxHeight(){return window.innerHeight-150}render(){var{forwardedRef:e,className:t,scrollTop:a,onScrollIntoView:i,onScrollPositionChange:r}=this.props;return(Uu()(ET,{page:Rd.gb},void 0,ide(rh,{className:(ade.a.container||"")+" "+(t||""),style:this.state,scrollTop:a,ref:e,onScrollPositionChange:r},nde,Uu()(ede,{onScrollIntoView:i}))))}}var ode=Ed.a.forwardRef((e,t)=>ide(sde,tp()({},e,{forwardedRef:t}))),lde=a("mEyC"),cde=a.n(lde),dde=Ed.a.createElement,{Component:ude}=Ed.a,pde=parseInt(YU.a.searchResultHeight,10);var hde=class extends ude{constructor(e,t){super(e,t),this.onScrollIntoView=({scrollTop:e})=>{var t=this._resultsRef.current.clientHeight+this.state.scrollTop,a=e+pde>t||e<this.state.scrollTop;this.setState({scrollTop:a?e:this.state.scrollTop})},this.onWindowPress=e=>{if(this.state.isOpen){var t=this._searchRef.current;t&&t.contains(e.target)||this.setState({isOpen:!1})}},this.onKeyDown=e=>{var{isOpen:t}=this.state;switch(e.keyCode){case 40:case 38:t&&(e.stopPropagation(),e.preventDefault(),38===e.keyCode?this.props.selectQuickSearchResult({offset:-1}):this.props.selectQuickSearchResult({offset:1}),this.isTabScoped&&(Mg(),this.isTabScoped=!1));break;case 13:if(t){var{platformID:a}=Td.a,i="osx"===a?e.metaKey:e.ctrlKey,r=e.shiftKey;fg(),this.isTabScoped=!1,i?r?this.props.playQuickSearchResult({options:{shuffle:!0}}):this.props.playQuickSearchResult():this.props.navigateQuickSearchResult()}break;case 27:e.nativeEvent.stopImmediatePropagation(),this.isTabScoped&&(Mg(),this.isTabScoped=!1),t?this.setState({isOpen:!1}):this.props.changeQuickSearchQuery("");break;case 9:if(t){if(!this.isTabScoped)bg(this._resultsRef.current),this.isTabScoped=!0;Ig(e)}}},this.onInputClick=e=>{this.isTabScoped&&(Mg(),this.isTabScoped=!1),this.state.isOpen||""===this.props.query||this.setState({isOpen:!0})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onSearch=()=>{Object(wa.a)(()=>{this.props.fetchQuickSearch()})},this.onInputChange=e=>{Object(wa.a)(()=>{this.props.changeQuickSearchQuery(e)})},this._searchRef=Ed.a.createRef(),this._resultsRef=Ed.a.createRef(),this.isTabScoped=!1,this.state={scrollTop:0,isOpen:!1}}componentWillMount(){this._listenForPress()}componentWillReceiveProps(e,t){var{selectedResultEntityID:a,query:i}=e,r=this.props.query!==i,n=i.trim().length,s=this.state.isOpen;n&&!s&&r?this.setState({isOpen:!0}):!n&&s&&(this.setState({isOpen:!1}),this.isTabScoped&&(pg=null,this.isTabScoped=!1)),null==a&&this.setState({scrollTop:0})}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this._stopListeningForPress()}_listenForPress(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)}_stopListeningForPress(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)}render(){var{query:e}=this.props;return(dde("div",{className:cde.a.container,ref:this._searchRef,onKeyDown:this.onKeyDown},Uu()(Nee,{query:e,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?dde(ode,{scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null))}},mde=Ed.a.createElement,{Component:vde}=Ed.a,gde=Object(_u.a)(e=>e.ui.quickSearch.providerEntityID,pv,(e,t)=>t[e]),yde=Object(_u.a)(e=>e.ui.quickSearch.serverEntityID,Gu,(e,t)=>t[e]),fde=Object(_u.a)(e=>e.ui.quickSearch.directoryID,gde,(e,t)=>{if(t){if(jt.k(t.providerIdentifier,jt.c))return Kt(t).directories.find(e=>!!e.hubKey);if(e){var a=Kt(t);if(a)return a.directories.find(t=>t.id?t.id===e:t.key==="/library/sections/"+e)}}}),bde=Object(_u.a)(yde,gde,fde,(e,t,a)=>{var i;if(e&&t&&a){var r=JQ(t,a);r&&(i=R7({sourceType:r.key,sourceServer:e,sourceProvider:t,sourceDirectory:a}))}return i}),Ide=Sv(Object(_u.a)(B7(),bde,(e,t)=>(t?[t,...e]:e).map(e=>({isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer,title:e.title,serverSourceTitle:e.serverSourceTitle,serverFriendlyName:e.serverFriendlyName,providerSourceTitle:e.providerSourceTitle,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,directoryID:e.directoryID}))),e=>e),Sde=Object(_u.a)(Ide,pv,uw,(e,t,a)=>e.filter(e=>{var i=t[e.providerEntityID],r=i&&i.features.find(e=>e.type===Ot.o);return r&&mw(a,r)}));var Mde=Object.assign({},l);var Cde=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.quickSearch,Sde,H7,(e,t,a)=>({hasInitialSources:a,searchSources:t,providerEntityID:e.providerEntityID,query:e.query,selectedResultEntityID:e.selectedResultEntityID}))}),Mde)(class extends vde{componentWillMount(){this._populate()}componentWillReceiveProps(e){var t=e.searchSources!==this.props.searchSources,a=e.providerEntityID!==this.props.providerEntityID;(e.hasInitialSources!==this.props.hasInitialSources||t||a)&&this._populate(e)}_populate(e=this.props){var{searchSources:t,hasInitialSources:a}=e;a&&t&&t.length&&Object(wa.a)(()=>{e.initQuickSearch({searchSources:t})})}render(){return mde(hde,this.props)}});function Dde(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Dde.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Pde=Dde;function Ode(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Ode.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var jde=Ode;function Tde(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Tde.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var wde=Tde;function Ede(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Ede.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Nde=Ede;function xde(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}xde.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Ade=xde,Lde=a("T8us"),kde=a.n(Lde);function Rde(e){return D.a.reduce(e,(function(e,t,a){var i=function e(t){var a=t.match(/(.+) (.+)/);if(a)return e(a[1]).concat({plain:!0,s:"then"}).concat(e(a[2]));var i=t.match(/(.+)\+(\S+)/);if(i)return e(i[1]).concat({plain:!0,s:"+"}).concat(e(i[2]));return[{s:D.a.reduce([[/command/,""],[/up/,""],[/down/,""],[/left/,""],[/right/,""]],(function(e,t){return e.replace(t[0],t[1])}),t)}]}(t);if(0===a)return e.concat(i);var r=i.length>1;return e.concat({plain:!0,split:r,s:"or"},i)}),[])}var zde=ni.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:kde.a,orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){ni.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return D.a.each(this.shortcuts,(function(t){var a=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[a]||(e[a]=[]),e[a].push(this.humanizeShortcut(t)))}),this),{groups:D.a.map(this.orderedGroups,(function(t){var a=D.a.clone(t);return a.shortcuts=e[t.group],a}),this)}},humanizeShortcut:function(e){return(e=D.a.clone(e)).keys=Rde(e.keys),e.label=e.label(),e}}),Ude=a("tt2x"),Vde=a.n(Ude),Bde=Ed.a.createElement;function Fde(e){var{children:t,badgeClassName:a,badgeLabel:i,badgeKind:r}=e,n=Je()(e,["children","badgeClassName","badgeLabel","badgeKind"]);return(Bde(Gg,n,t,Uu()(QF,{className:a,kind:r},void 0,i)))}Fde.defaultProps={className:Vde.a.badgeMenuItem,badgeClassName:Vde.a.badge,badgeKind:Dp};var Hde=Fde,_de=Uu()(TJ,{}),Qde=Uu()(TJ,{});var Wde=function(e){var{isOpen:t,target:a,options:i,username:r,isSignedIn:n,isAnonymousUser:s,isFullUser:o,announcementsCount:l,friendInvitesCount:c,appsURL:d,isCloudServerConnected:u,onUsersAndSharingPress:p,onSwitchUserPress:h,onSignInPress:m,onSignOutPress:v,onKeyboardShortcutPress:g,onMenuClose:y}=e,f=u&&(!n||s),b=n&&o&&!s;return Uu()(Fg,{isOpen:t,target:a,options:i,onMenuClose:y},void 0,r?Uu()(boe,{},void 0,r):null,n?Uu()(Gg,{to:"#!/settings/account",onPress:y},void 0,Object(Ze.default)("Account")):null,n&&!s?Uu()(Hde,{badgeLabel:c>0?c:null,onPress:Ib(y,p)},void 0,Object(Ze.default)("Users & Sharing")):null,n?_de:null,n&&o&&!s?Uu()(Hde,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:y},void 0,Object(Ze.default)("Announcements")):null,u?Uu()(Gg,{to:d,target:"_self",onPress:y},void 0,Object(Ze.default)("Get Plex Apps")):null,u?Uu()(Gg,{to:_p,target:"_self",onPress:y},void 0,Object(Ze.default)("Help")):null,Uu()(Gg,{onPress:Ib(y,g)},void 0,Object(Ze.default)("Keyboard Shortcuts")),Qde,s?null:Uu()(Gg,{onPress:Ib(y,h)},void 0,Object(Ze.default)("Switch User...")),f?Uu()(Gg,{onPress:Ib(y,m)},void 0,Object(Ze.default)("Sign In")):null,b?Uu()(Gg,{onPress:Ib(y,v)},void 0,Object(Ze.default)("Sign Out")):null)};var Gde=Object(Fu.b)((function(){return Object(_u.a)(qu.a,Yu,M8,D8,(e,t,a,i)=>({username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,isCloudServerConnected:t.isConnected,isAnonymousUser:!!e.anonymous,isFullUser:e.isFullUser,announcementsCount:a.length,friendInvitesCount:i.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"}))}),(function(e,t){return{onSwitchUserPress(t){window.setTimeout(()=>{e(Object(Qu.c)())})},onUsersAndSharingPress(e){e.preventDefault(),H.a.trigger("navigate","usersSharing")},onSignInPress(e){e.preventDefault(),H.a.trigger("navigate","login")},onSignOutPress(e){e.preventDefault(),H.a.trigger("navigate","logout")},onKeyboardShortcutPress(e){e.preventDefault();var t=Object(ie.c)("keyboardShortcuts");H.a.trigger("show:modal",new zde({shortcuts:t.shortcuts}))}}}))(Wde),Yde=a("xwJx"),Kde=a.n(Yde),{Component:qde,Fragment:Zde}=Ed.a;class Xde extends qde{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Mp()}render(){var{className:e,tooltipClassName:t,tooltipFocusedClassName:a,serverEntityID:i,userThumb:r,badgeCount:n}=this.props;return(Uu()(Zde,{},void 0,Uu()(zb,{className:e,tooltipClassName:t,tooltipFocusedClassName:a,id:this._buttonID,component:Cy,isSelected:!1,tooltip:this.state.isMenuOpen?null:Object(Ze.default)("Account"),direction:this.state.isMenuOpen?cy:dy,onPress:this.onButtonPress},void 0,Uu()("div",{className:Kde.a.avatarContainer},void 0,Uu()("div",{className:(Kde.a.overlay||"")+" "+(this.state.isMenuOpen&&Kde.a.isMenuOpen||"")}),Uu()(JS,{serverEntityID:i,width:30,height:30,url:r})),Uu()(QF,{className:Kde.a.badge,kind:Dp},void 0,n>0?n:null)),Uu()(Gde,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose})))}}Xde.defaultProps={className:Kde.a.button,tooltipClassName:Kde.a.tooltip,tooltipFocusedClassName:Kde.a.tooltipTriggerHasFocus};var Jde=Xde;function $de(e,t,a){var i=function(e){var t=e.desktop&&e.desktop.update;if(t&&(t.state===TX||t.state===EX||t.state===NX||t.state===kX))return Wa(t.version)}(e);return!!(e.isConnected&&e.isFullOwnedServer&&i&&i!==a&&i!==t[e.machineIdentifier])}var eue=Object(_u.a)(lk,e=>e.dismissedServerUpdateVersions),tue=Object(_u.a)(lk,e=>e.serverUpdateDismissedVersion),aue={"provider.device.channelscan":!0,"provider.epg.load":!0,"grabber.grab":!0,"grabber.assimilate":!0,[is]:!0,"general.db.backup":!0,"general.db.optimize":!0,"library.delete":!0,"library.update.section":!0,"media.generate.bif":!0,"media.generate.chapter.thumbs":!0,"media.generate.intros":!0,"subtitle.download":!0},iue=a("3GOe"),rue=a.n(iue);var nue=function(e){var{className:t}=e;return(Uu()("div",{className:t},void 0,Uu()("img",{className:rue.a.img,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8cGF0aCBkPSJNMjQgMEMzNy4yNDU5IDAgNDggMTAuNzU0MSA0OCAyNEM0OCAzNy4yNDU5IDM3LjI0NTkgNDggMjQgNDhDMTAuNzU0MSA0OCAwIDM3LjI0NTkgMCAyNEMwIDEwLjc1NDEgMTAuNzU0MSAwIDI0IDBaIiBmaWxsPSIjRTVBMDBEIi8+CiAgPHBhdGggZD0iTTI0IDhMOCAyNUgyMVY0MEgyN1YyNUg0MEwyNCA4WiIgZmlsbD0iYmxhY2siLz4KPC9zdmc+Cg=="})))},sue=a("Wi4N"),oue=a.n(sue);var lue=function(e){var{title:t,subtitle:a,progress:i,isPostProcessing:r}=e;return(Uu()("div",{className:oue.a.splitButton},void 0,Uu()("span",{className:oue.a.activityTitleContainer},void 0,Uu()("span",{className:oue.a.activityTitle,title:t},void 0,t,a?":":null),a?Uu()("span",{className:oue.a.activitySubtitle,title:a},void 0,a):null),Uu()("span",{},void 0,null==i||r?Uu()(Xh,{size:jp}):Uu()(nV,{progress:i,size:18,lineWidth:2,showProgressText:!1}))))},cue=a("yG8u"),due=a.n(cue);function uue(e){var{labelClassName:t,to:a,label:i,indicator:r,onPress:n}=e;return(Uu()(Gg,{className:due.a.splitButton,to:a,onPress:n},void 0,Uu()("span",{className:t},void 0,i),r?Uu()("span",{className:due.a.statusButtonIndicator},void 0,r):null))}var pue=function(e){var{friendlyName:t,machineIdentifier:a,sessionsCount:i,backgroundTranscodeJobs:r,activities:n,libraries:s,showLegacyLibraryScanning:o,showUpdateAvailable:l,onMenuClose:c}=e,d=encodeURIComponent(a);return Uu()("div",{className:due.a.statusContainer},void 0,Uu()("div",{className:due.a.statusTitle},void 0,t),Uu()(uue,{to:"#!/settings/server/"+d+"/status/server-dashboard",label:Object(Ze.default)("Dashboard"),indicator:i?""+i:null,onPress:c}),r.length?Uu()(uue,{to:"#!/settings/server/"+d+"/status/conversion",label:Object(Ze.default)("Conversions"),indicator:""+r.length,onPress:c}):null,n.length?n.map(e=>{var{uuid:t,type:a,title:i,subtitle:r,progress:n,Context:s={}}=e;return aue[a]?Uu()(lue,{title:i,subtitle:r,progress:n,isPostProcessing:"postprocessing"===s.status},t):null}):null,o&&s.length?s.map(e=>{var{uuid:t,title:a}=e;return(Uu()(lue,{title:Object(Ze.default)("Scanning library files"),subtitle:a},t))}):null,l?Uu()(uue,{labelClassName:due.a.primaryLabel,to:"#!/server/"+d+"/update",label:Object(Ze.default)("Server Update Available"),indicator:Uu()(nue,{className:due.a.alertIndicator}),onPress:c}):null)};function hue(){return Object(_u.a)(Object(_u.a)(zQ(),e=>e.libraries?e.libraries:[]),kQ,(e,t)=>e.reduce((e,a)=>{var i=t[a];return i.refreshing&&e.push(i),e},[]))}var mue=Object(Fu.b)((function(){return Object(_u.a)(RS(),$j(),Object(_u.a)(zQ(),e=>e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[]),Object(_u.a)(zQ(),e=>e.activities?e.activities:[]),hue(),eue,tue,(e,t,a,i,r,n,s)=>({friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessionsCount:t,backgroundTranscodeJobs:a,activities:i,libraries:r,showLegacyLibraryScanning:!Qa(e.version,Ka.libraryUpdateActivity),showUpdateAvailable:$de(e,n,s)}))}))(pue);function vue(e){return _.join("#!/downloads",e)}var gue=a("paCu"),yue=a.n(gue);var fue=function(e){var{activities:t,onMenuClose:a}=e;return t.length?Uu()("div",{className:yue.a.statusContainer},void 0,Uu()("div",{className:yue.a.statusTitle},void 0,Uu()(Vp,{to:vue(),onPress:a},void 0,Object(Ze.default)("Downloads"))),t.map(e=>{var{uuid:t,title:a,subtitle:i,progress:r,Context:n={}}=e;return(Uu()(lue,{title:a,subtitle:i,progress:r,isPostProcessing:"postprocessing"===n.status},t))})):null};var bue=Object(Fu.b)((function(){return Object(_u.a)(zQ(),e=>({activities:e&&e.activities?e.activities.filter(e=>aue[e.type]):[]}))}))(fue),Iue=a("dCCs"),Sue=a.n(Iue),Mue={placement:"bottom-end"};var Cue=function(e){var{isOpen:t,target:a,embeddedServerEntityID:i,ownedServerEntityIDs:r,onMenuClose:n}=e;return(Uu()(Fg,{className:Sue.a.menu,isOpen:t,target:a,options:Mue,onMenuClose:n},void 0,r.map(e=>Uu()(mue,{serverEntityID:e,onMenuClose:n},e)),i?Uu()(bue,{serverEntityID:i,onMenuClose:n},i):null))};function Due(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Due.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Pue=Due,Oue=a("VjkR"),jue=a.n(Oue);function Tue(e){var{className:t,iconComponent:a,isActive:i}=e;return(Uu()("span",{className:t},void 0,i?Uu()(Xh,{className:jue.a.activityIndicator}):null,Uu()(a,{className:jue.a.icon})))}Tue.defaultProps={className:jue.a.iconContainer,iconClassName:jue.a.icon,iconComponent:Pue};var wue=Tue,Eue=a("BTFm"),Nue=a.n(Eue),{Component:xue,Fragment:Aue}=Ed.a;class Lue extends xue{constructor(e,t){super(e,t),this.onActivityPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._buttonID=Mp()}componentDidUpdate(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()}render(){var{className:e,isDisabled:t,iconClassName:a,labelClassName:i,showActivityButton:r,embeddedServerEntityID:n,ownedServerEntityIDs:s,hasSessions:o,hasConversions:l,hasActivities:c,hasAvailableServerUpdate:d,hasLibraryRefreshing:u,activityButtonCount:p}=this.props;if(!r)return null;var h=o||l,m=c||u,v=!p&&d;return Uu()(Aue,{},void 0,Uu()(h7,{id:this._buttonID,isDisabled:t,className:(e||"")+" "+(h&&Nue.a.isHighlighted||""),iconClassName:a,labelClassName:i,iconProps:{isActive:m},iconComponent:wue,alertIconClassName:Nue.a.alertIcon,alertIconComponent:v?nue:null,ariaLabel:Object(Ze.default)("Activity"),title:this.state.isMenuOpen?null:Object(Ze.default)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),Uu()(Cue,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:n,ownedServerEntityIDs:s,onMenuClose:this.onMenuClose}))}}Lue.defaultProps={iconClassName:Nue.a.activityIcon,labelClassName:Nue.a.label};var kue=Lue,Rue={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function zue(e,t){return e.reduce((e,a)=>{var{backgroundTranscodeJobs:i=[],activities:r=[]}=a.desktop,n=t[a.machineIdentifier],s=null==n?void 0:n.sessionKeys.length,o=i.length,l=r.filter(e=>!!aue[e.type]).length;return s>0&&(e.sessionsCount+=s),o>0&&(e.backgroundTranscodeJobsCount+=o),l>0&&(e.activitiesCount+=l),e},Object.assign({},Rue))}var Uue=Object(_u.a)(vK,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>zue(e,t)),Vue=Object(_u.a)(_ie,e=>e.v4.core.serverNowPlayingSessions,(e,t)=>e?zue([e],t):Rue),Bue=Object(_u.a)(Uue,Vue,(e,t)=>({activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount})),Fue=Object(_u.a)(vK,kQ,(e,t)=>e.reduce((e,a)=>{var{libraries:i}=a.desktop;return e+=i.filter(e=>{var a=t[e];return!!a&&a.refreshing}).length},0)),Hue=Object(_u.a)(vK,eue,tue,(e,t,a)=>e.some(e=>$de(e,t,a)));var _ue=Object(Fu.b)((function(){return Object(_u.a)((e,{isDisabled:t})=>t,Fie,gK,Bue,Fue,Hue,(e,t,a,i,r,n)=>{var s=a.length>0,o=s;return t&&(o=!0,e=e||!s&&i.sessionsCount+i.backgroundTranscodeJobsCount+i.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:a,showActivityButton:o,hasSessions:i.sessionsCount>0,hasConversions:i.backgroundTranscodeJobsCount>0,hasActivities:i.activitiesCount>0,hasAvailableServerUpdate:n,hasLibraryRefreshing:r>0,activityButtonCount:i.sessionsCount+i.backgroundTranscodeJobsCount}})}))(kue),{Component:Que,Fragment:Wue}=Ed.a;var Gue=class extends Que{constructor(e,t){super(e,t),this.onButtonPress=e=>{this.setState({isPlexPassModalOpen:!0})},this.onModalClose=e=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){return Uu()(Wue,{},void 0,Uu()(j7,{onPress:this.onButtonPress},void 0,Object(Ze.default)("Go Premium")),Uu()(ek,{origin:"nav-bar",metricsProperties:{context:_t.NAV_BAR},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))}},Yue=a("1d8V"),Kue=a.n(Yue),{Fragment:que,useCallback:Zue}=Ed.a,Xue=Uu()(Cde,{}),Jue=Uu()(Gue,{}),$ue=Uu()(que,{},void 0,Uu()(N7,{}),Uu()(A7,{})),epe=Uu()(M7,{});var tpe=function(e){var{serverEntityID:t,hasHistory:a,hasHomeButton:i,userThumb:r,badgeCount:n,canEnterFullscreen:s,canExitFullscreen:o,isAnonymousUser:l,canGoPremium:c,canNavigateHistory:d,canToggleSidebar:u,isSidebarCollapsed:p,shouldRender:h,onBackPress:m,onEnterFullscreen:v,onExitFullscreen:g,onToggleCollapsedSidebar:y}=e,f=Zue(()=>{y(!p)},[p,y]);return h?Uu()("div",{className:Kue.a.container},void 0,Uu()("div",{className:Kue.a.left},void 0,u?Uu()(h7,{className:Kue.a.button,iconComponent:Nde,title:p?Object(Ze.default)("Expand"):Object(Ze.default)("Collapse"),onPress:f}):null,i?Uu()(h7,{className:Kue.a.button,to:"#",iconComponent:wde,title:Object(Ze.default)("Home")}):null,Uu()(Vp,{to:"#",className:Kue.a.plexLogo}),d?Uu()(h7,{className:Kue.a.button,iconComponent:Pde,title:Object(Ze.default)("Back"),isDisabled:!a,onPress:m}):null,Xue),Uu()("div",{className:Kue.a.right},void 0,c?Jue:null,l?$ue:null,c||l?Uu()("div",{className:Kue.a.buttonSeparator}):null,o?Uu()(h7,{className:Kue.a.button,iconComponent:Ade,title:Object(Ze.default)("Exit Full Screen"),onPress:g}):null,s?Uu()(h7,{className:Kue.a.button,iconComponent:jde,title:Object(Ze.default)("Enter Full Screen"),onPress:v}):null,s||o?Uu()("div",{className:Kue.a.buttonSeparator}):null,Uu()(_ue,{className:Kue.a.button}),epe,Uu()(l7,{className:Kue.a.button,iconComponent:h7}),Uu()(Jde,{className:Kue.a.accountButton,serverEntityID:t,userThumb:l?null:r,badgeCount:n}))):null},{Component:ape}=Ed.a,ipe=function(e=Td.a){return"ios"===e.platformID}()||!1,rpe=Object(_u.a)(e=>e.isFullscreen,e=>e),npe=Object(_u.a)(Nv.a,e=>e.isSidebarCollapsed),spe=Object(_u.a)(e=>e.downloads&&e.downloads.subscriptions,e=>!!e&&e.length>0),ope=Object(_u.a)(C8,e=>e.some(e=>e.isConnected));var lpe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.history,(e,{route:t})=>t,qu.a,M8,D8,rpe,npe,Object(_u.a)(qu.a,Yu,spe,ope,(e,t,a,i)=>!(e.isLocked||!t)&&(t.isResolved||a||i)),(e,t,a,i,r,n,s,o)=>{var l=Object(pt.a)(ht.n,pw.a),c=/#!\/settings/.test(t);return{serverEntityID:l,hasHistory:e.length>1,hasHomeButton:c,userThumb:a.thumb,badgeCount:i.length+r.length,isFullscreen:n,isSidebarCollapsed:s,isAnonymousUser:!!a.anonymous,canGoPremium:a.canGoPremium,canEnterFullscreen:!1,canExitFullscreen:!1,canNavigateHistory:ipe,canToggleSidebar:!c,shouldRender:o}})}),(function(e,t){return{onBackPress(e){H.a.trigger("navigate:back")},onEnterFullscreen(e){Object(ie.c)("fullscreenManager").enter()},onExitFullscreen(e){Object(ie.c)("fullscreenManager").exit()},onToggleCollapsedSidebar(t){Object(wa.a)(()=>{e(Object(Qu.f)({isSidebarCollapsed:t}))})}}}))(tpe),cpe=Uu()(x8,{});var dpe=class extends ape{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.onHashChange=()=>{this.setState({route:window.location.hash})},this.state={hasError:!1,route:window.location.hash}}componentDidMount(){window.addEventListener("hashchange",this.onHashChange,!1)}componentWillUnmount(){window.removeEventListener("hashchange",this.onHashChange,!1)}componentDidCatch(e){O.a.error(e)}render(){return this.state.hasError?cpe:Uu()(lpe,{route:this.state.route})}},upe=Uu()(dpe,{}),ppe=Hu.extend({className:"nav-bar",initialize(){this.listenTo(H.a,"change:language",this.render)},component:()=>upe});var hpe=function(){return P9("playQueue")},mpe=Object(_u.a)(Wu,e=>e.playQueueItems);var vpe=function(e=0){return Object(_u.a)(hpe(),mpe,(t,a)=>{var i=t?t.playQueueItems:[];if(i.length){var r=t.currentIndex,n=r+e;t.repeat&&(n=function(e,t,a){return(e+t%a+a)%a}(r,e,t.length));var s=i[n];return s&&a[s]}})};var gpe=function(){return Object(_u.a)(P9("currentDecision"),vpe(),(e,t)=>{var a=e;if(a&&a.playQueueItemID===t.playQueueItemID)return a})},ype="commercial",fpe="intro",bpe="outro",Ipe="recaps";var Spe=function(e=0){return Object(_u.a)(vpe(e),qG,(e,t)=>{if(e&&e.metadataItem)return t[e.metadataItem]})};function Mpe(){return Sv(Object(_u.a)(Object(_u.a)(Spe(),e=>{var t;return null!=(t=null==e?void 0:e.Marker)?t:[]}),zT(Tt.l),zT(Tt.m),(e,t,a)=>e.filter(e=>t&&e.type===ype||a&&e.type===fpe)),e=>e)}var Cpe=Object(_u.a)(Wu,e=>e.liveTVSessions);function Dpe(){return Object(_u.a)(Cpe,P9("liveTVSession"),(e,t)=>e[t])}function Ppe(){return Object(_u.a)(Dpe(),e=>e&&e.currentPosition)}var Ope=Object(_u.a)(e=>{var t;return null==(t=e.ui.channelGridPage)?void 0:t.metadataList},mne,qG,(e,t,a)=>{var i=t[e];return i&&i.metadataItems?i.metadataItems.map(e=>a[e]):[]});function jpe(){return Object(_u.a)(Dpe(),Ppe(),Ope,(e,t,a)=>{if(e&&null!==t)for(var i=e.channelIdentifier,r=0;r<a.length;r++)for(var n=a[r],s=0;s<n.Media.length;s++){var o=n.Media[s],{beginsAt:l,endsAt:c,channelIdentifier:d}=o;if(d===i&&l<=t&&c>t)return n}})}function Tpe(){return Object(_u.a)(jpe(),Ppe(),Dpe(),(e,t,a)=>{if(e&&null!==t&&a){var i=a.channelIdentifier;return e.Media.find(e=>{var{beginsAt:a,endsAt:r,channelIdentifier:n}=e;return n===i&&a<=t&&r>t})}})}function wpe(e=0){return Object(_u.a)(vpe(e),qG,(e,t)=>{if(e)return t[e.metadataItem]})}var Epe=Object(_u.a)(O9(),e=>!(!e||!jt.k(va(e.identifier,e.providerIdentifier),[jt.b,jt.c])));function Npe(){return Object(_u.a)(Epe,wpe(),Tpe(),gpe(),(e,t,a,i)=>{var r;return e?r=a:i&&(r=t.Media[i.mediaIndex]),r||null})}var{createContext:xpe}=Ed.a,Ape=xpe(),Lpe=Object(Pa.a)("UPDATE_POSITION_MILLISECONDS"),kpe=Object(Pa.a)("RESET_POSITION_MILLISECONDS");function Rpe(e,{type:t,payload:a}){switch(t){case"UPDATE_POSITION_MILLISECONDS":return a;case"RESET_POSITION_MILLISECONDS":return 0;default:return e}}var zpe=Ed.a.createElement,{Component:Upe}=Ed.a;var Vpe=function(e){var t={dispatchUpdatePositionMilliseconds:Lpe,dispatchResetPositionMilliseconds:kpe};class a extends Upe{constructor(...e){super(...e),this.onPositionMillisecondsChange=e=>{this.props.dispatchUpdatePositionMilliseconds(e)}}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this.props.dispatchResetPositionMilliseconds()}render(){var t=this.props,a=Je()(t,["dispatchUpdatePositionMilliseconds","dispatchResetPositionMilliseconds"]);return(zpe(e,tp()({},a,{onPositionMillisecondsChange:this.onPositionMillisecondsChange})))}}return a.displayName="PositionMillisecondsMonitor("+gf(e)+")",a.WrappedComponent=e,Object(Fu.b)(null,t,null,{context:Ape})(a)};function Bpe(){return Object(_u.a)(A8,P9("playbackSpeed"),Spe(),(e,t,a)=>e?1:t||a&&a.playbackSpeed||1)}function Fpe(e){var t=e.remotePlayer;return t?t.volume:Object(ie.c)("selectLocalVolume")(e)}var Hpe=function(e){if(!e)return{};var t=e.captureBuffer,a={liveTVSessionSubscriptionKey:e.key,liveTVSessionChannelIdentifier:e.channelIdentifier,liveTVSessionCurrentPosition:e.currentPosition,liveTVSessionStartedAt:e.startedAt};if(t){var i=t.startedAt,r=e.startedAt,n=i||r;Object.assign(a,{liveTVPositionSeconds:e.currentPosition-n,liveTVSessionSeekRangeStartedAt:t.startedAt,liveTVSessionSeekStartSeconds:t.seekStartSeconds,liveTVSessionSeekEndSeconds:t.seekEndSeconds})}return a},_pe=a("lvUb");function Qpe(e){var t;if(e.get("indirect")){var a=e.get("Origin");t=a&&a.source}else if(e.get("remoteMedia")){var i=e.get("Media");t=i[0]&&i[0].source}else e.get("source")&&(t=e.get("source"));return t||null}function Wpe(e){var t,a,i=Qpe(e);if(i){var{serverIdentifier:r,providerIdentifier:n}=Object(Bn.a)(i);t=Ia({identifier:n,serverEntityID:a=ei({machineIdentifier:r})})}else a=e.get("serverEntityID"),t=e.get("providerEntityID");return{serverEntityID:a,providerEntityID:t}}var Gpe=xe.a.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",urlRoot:"/api/v2/resources",syncedAttrs:{clientIdentifier:Ae.a.string,name:Ae.a.string,sourceTitle:Ae.a.string,accessToken:Ae.a.string,product:Ae.a.string,productVersion:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,device:Ae.a.string,provides:Ae.a.list,owned:Ae.a.boolean,home:Ae.a.boolean,synced:Ae.a.boolean,presence:Ae.a.boolean,publicAddressMatches:Ae.a.boolean,httpsRequired:Ae.a.boolean,createdAt:Ae.a.integer,lastSeenAt:Ae.a.integer,ownerId:Ae.a.integer},syncedRelations:{connections:{relationClass:Ya}},augmentResponse(e){"string"==typeof e.createdAt&&(e.createdAt=Object(zy.a)(e.createdAt)),"string"==typeof e.lastSeenAt&&(e.lastSeenAt=Object(zy.a)(e.lastSeenAt));var t=e.Device;return t?(t.connections=t.Connection,delete t.Connection,t):e}});function Ype(e,t){if(!e.supports("transientTokenProxy"))return T.a.Deferred().reject().promise();var a=e.resolveUrl("/security/resources"),i=T.a.ajax(e.getXHROptions(a,{data:{source:t}})).promise();return i=i.then(t=>new Gpe(t,{parse:!0,server:e}))}var Kpe=function(e){if(!e.length)return T.a.Deferred().reject().promise();var t=T.a.Deferred(),a=e.length;return D.a.each(e,(function(e){e.done((function(){a--,t.resolveWith(this,arguments)})).fail((function(){0===--a&&t.reject()}))})),t.promise()},qpe=ke.a.extend({name:"ResourceCollection",model:Gpe,context:["server"],responseType:ct.a,url(){var e={};return be.a.allowHttpsMediaServerConnections&&(e.includeHttps=1),be.a.allowMediaServerRelayConnections&&(e.includeRelay=1),_.join("/api/v2/resources",e)}}),{connectionTestResults:Zpe,promiseStates:Xpe}=ai,Jpe=ai.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:Ae.a.oneOf(Zpe.PENDING,Zpe.CONNECTED,Zpe.UNAVAILABLE,Zpe.UNAUTHORIZED).isRequired,promiseState:Ae.a.oneOf(Xpe.PENDING,Xpe.RESOLVED,Xpe.REJECTED).isRequired,isShared:Ae.a.boolean.isRequired,isBundled:Ae.a.boolean.isRequired,isCloud:Ae.a.boolean.isRequired,isMerged:Ae.a.boolean.isRequired,isDownForMaintenance:Ae.a.boolean.isRequired,isResourcesPending:Ae.a.boolean.isRequired,isResourcesPopulated:Ae.a.boolean.isRequired,hasFailedResources:Ae.a.boolean.isRequired,accessToken:Ae.a.string,baseUrl:Ae.a.string.isRequired,plexPassUrl:Ae.a.string.isRequired,appsUrl:Ae.a.string.isRequired,hasEventConnection:Ae.a.boolean},sessionRelations:{activeConnection:{relationClass:Ve,deferred:!0},connections:{relationClass:Ya,options(){return{server:this}}},resources:{relationClass:qpe,options(){return{server:this}}}},defaults(){var e="https://plex.tv";return{connectionTestResult:Zpe.PENDING,promiseState:Xpe.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,isResourcesPopulated:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:_.join([e,"/subscription/about"]),appsUrl:_.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections(){var e=this.get("connections");Object(O.a)("[Connections] Testing all %s connection(s) for %s",e.length,this.get("debugName"));var t=e.map(e=>this.testConnection(e));return Kpe(t)},testConnection(e){var t={server:this,connection:e,url:this.connectionTestUrl};return Ge.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest(e){var t={server:this,connection:e,url:this.connectionTestUrl};Ge.execute("abortServerConnectionTest",t)},deauthenticate(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess(e){var t=this.get("connections").getBestConnection();O.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:Zpe.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});$e(Jpe,(function(){return{relationClass:Object(ie.c)("CloudServerFlexModel"),options:{server:this}}}));var $pe=Jpe;function ehe(){var[,e,t]="https://plex.tv".match(/^([^:]+):\/\/(.*)$/);return{scheme:e,address:t}}function the(e,t){return Ype(e,t).then(e=>{var t=function(e){var t=new $pe({accessToken:e.get("accessToken"),machineIdentifier:pw.a});t.addConnection(ehe());var a=e.get("connections").first();return new Sa({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:a.get("uri")},{server:t})}(e);return t.server.testAllConnections().then(()=>t.populate({merge:!0}))})}function ahe(e,t){t.get("connections").each(a=>{var i=[{id:t.server.id}],r=D.a.extend(a.toJSON(),{sources:i});e.addConnection(r)})}function ihe(e,t=!1){var a=t||"Plex Media Server"===e.get("product"),i=new ai({machineIdentifier:e.id,friendlyName:e.get("name"),version:a?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:a?void 0:ai.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:ie.c("appModel")});return ahe(i,e),i}function rhe(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function nhe(e,t){return Object(Bn.a)(t).isServer?function(e,t){return Ype(e,t).then(e=>ihe(e,!0).testAllConnections())}(e,t):the(e,t)}var she=function(e,t,a){var i=a.get("metadataItem"),r=Ta.m(e,{serverEntityID:t.get("serverEntityID")}),n=Wpe(i),s={serverEntityID:i.get("serverEntityID"),providerEntityID:i.get("providerEntityID")},o=i.get("source"),l=Qpe(i),c=Ta.m(e,s),d=l&&Ta.m(e,n),u=be.a.allowTransientProxy&&r.get("isFullOwnedServer")&&r.supports("transientTokenProxy");if(!u&&(o&&!c||l&&!d))return T.a.Deferred().reject().promise();var p=[];return c?p.push(rhe(c)):u&&o&&p.push(nhe(r,o)),o!==l&&(d?p.push(rhe(d)):u&&l&&p.push(nhe(r,l))),T.a.when(...p).then(()=>function(e,t){var a=e.get("user"),i=t&&Object(Bn.a)(t);return!!a.get("providers")&&i&&!i.isServer?a.get("providers").populate().then(e=>{var t=e.findWhere({identifier:i.providerIdentifier});return t&&t.populate()}):T.a.Deferred().resolve().promise()}(e,l)).then(()=>({serverModel:Ta.m(e,s),providerModel:Ta.j(e,s),mediaServerModel:Ta.m(e,n),mediaProviderModel:Ta.j(e,n)}))},ohe="toneMapping";var lhe=[(e,t,a)=>{var i=e.get("user").get("experienceSettings").get("reminders").get(Jc("upsell",ohe));if(i&&!FQ(i.get("remindAfter")))return null;var r=Object(e9.c)(e,t).get("playQueue").get("playQueueItems").get(a.playQueueItemID).get("metadataItem"),n=Wpe(r),s=Object(Ta.m)(e,n),o=r.get("Media")[a.mediaIndex],l=null==o?void 0:o.Part[a.partIndex];if(!s||!l)return null;var c=s.hasOwnerFeature(Tt.h),d=s.hasOwnerFeature(Tt.x);return s.get("isFullOwnedServer")&&c&&!d&&function(e){return Array.isArray(e.Stream)&&e.Stream.some(e=>"smpte2084"===e.colorTrc)}(l)&&!a.canDisplayHDR&&!a.isDirectPlay&&!a.canDirectStreamVideo?{type:ohe,metricsContext:_t.HDR_CONVERSION}:null}];var che=a("iTeG");function dhe(e,t){var{type:a,item:i,availableQualities:r,qualityIndex:n}=e,{transcodeServer:s,media:o,part:l}=t,c=i.get("Media"),d=o.Part,u=function(e,t){return D.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid)}(c,o),p=function(e,t){return D.a.findIndex(e,e=>null!=e.id?e.id===t.id:null==e.key||e.key===t.key)}(d,l),h=[],m=gl.a.ORIGINAL;a===$I.types.VIDEO&&(h=r,m=n),t.abr&&(m=gl.a.CONVERT_AUTOMATICALLY);var v={availableQualities:h,qualityIndex:m,mediaIndex:u,partIndex:p,partCount:d.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,useSidecarSrtSubtitles:t.useSidecarSrtSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID,canDisplayHDR:t.canDisplayHDR,canDisplayDolbyVision:t.canDisplayDolbyVision};return t.canDirectPlay||(v.transcodeSessionID=t.transcodeSessionID),t.drm&&(v.drm=t.drm,v.license=t.license,v.certificate=t.certificate),v.transcodeServerEntityID=s&&s.entityID(),v}var uhe=a("Mty/");function phe(e){return e>=2e3}function hhe(e){return phe(e.transcodeDecisionCode)?e.transcodeDecisionText:phe(e.generalDecisionCode)?e.generalDecisionText:phe(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}var mhe=a("IRjL");var vhe=function(e){var t=e?D.a.first(e.get("Media")):null;return!(!t||t.container)};var ghe=function(e){var t=[];return Array.isArray(e)||(e=[e]),D.a.each(e,e=>{var a=e.Part;a&&D.a.each(a,e=>{!1!==e.exists&&!1!==e.accessible||t.push(e)})}),t};function yhe(e){return/^(idx|pgs|vobsub)$/i.test(e)}var fhe={getMediaDecision:function(e){var t=this.augmentProfile(e);if(O.a.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);var a=e.item.get("Media");if(!a.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===a.length)return this.analyzeMedia(D.a.first(a),t,e);var i=D.a.map(a,(function(a){return this.analyzeMedia(a,t,e)}),this);return this.getBestDecision(i)},augmentProfile:function(e){var t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);var a=e.type===$I.types.VIDEO,i=T.a.extend(!0,{},t.directPlay),r=T.a.extend(!0,{},t.directStream),n=i.generic;n&&delete i.generic;var s=e.allowedAC3Containers,o="*"===s;!o&&s&&(s=Array.isArray(s)?s:[s]);var l=e.allowedEAC3Containers,c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);var d=e.allowedDCAContainers,u="*"===d;!u&&d&&(d=Array.isArray(d)?d:[d]);var p=e.allowedTrueHDContainers,h="*"===p;return!h&&p&&(p=Array.isArray(p)?p:[p]),D.a.each(i,(function(t,i){this.mergeGenericOptions(t,n),this.mergeMaxQualityOptions(t,e),(o||s&&D.a.contains(s,i))&&this.addAudioCodec("ac3",t,e),(c||l&&D.a.contains(l,i))&&this.addAudioCodec("eac3",t,e),(u||d&&D.a.contains(d,i))&&this.addAudioCodec("dca",t,e),(h||p&&D.a.contains(p,i))&&this.addAudioCodec("truehd",t,e);var r=t[$I.getStreamByType(e.type)];if(r){var m=r.codecs;D.a.each(m,(function(t,a){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[a]&&this.mergeCodecOptions(t,e.videoCodecOptions[a])}),this)}var v=a&&t.audio;if(v&&e.audioCodecOptions){var g=v.codecs;D.a.each(g,(function(t,a){e.audioCodecOptions[a]&&this.mergeCodecOptions(t,e.audioCodecOptions[a])}),this)}}),this),this.mergeMaxQualityOptions(r,e),a&&(e.videoCodecOptions&&r.video&&D.a.each(r.video.codecs,(function(t,a){e.videoCodecOptions[a]&&this.mergeCodecOptions(t,e.videoCodecOptions[a])}),this),e.audioCodecOptions&&r.audio&&D.a.each(r.audio.codecs,(function(t,a){e.audioCodecOptions[a]&&this.mergeCodecOptions(t,e.audioCodecOptions[a])}),this)),{directPlay:i,directStream:r}},mergeGenericOptions:function(e,t){t&&(D.a.defaults(e,D.a.omit(t,"video","audio")),D.a.each(["audio","video"],(function(a){var i=t[a],r=e[a];i&&(r||(r={},e[a]=r),D.a.defaults(r,D.a.omit(i,"codecs")),i.codecs&&D.a.each(i.codecs,(function(e,t){D.a.defaults(this.ensureCodecs(t,r),e)}),this))}),this))},mergeCodecOptions:function(e,t){D.a.each(t,(function(t,a){e[a]=t}),this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,a){D.a.each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],(function(i){if("videoResolution"!==i.option||t.type===$I.types.VIDEO){var r=this.getMaxQualityOption(e,i.option,t);if(null!=r){var n=i.setting,s=$I.getStreamByType(t.type);e.hasOwnProperty(n)?e[n]=r:e.hasOwnProperty(s)?e[s][n]=r:a||(e[s]={},e[s][n]=r)}}}),this)},getMaxQualityOption:function(e,t,a){var i=a.quality||{},r="max"+t.charAt(0).toUpperCase()+t.slice(1),n=i[t],s=this.getPrimaryStreamProperty(e,r,a);if("videoResolution"===t&&n&&(n=gl.a.getResolutionFromSize(n)),"bitrate"===t){var o=a.item.server.get("maxUploadBitrate");o&&(!n||o<n)&&(n=o)}if(n||s)return n&&s?Math.min(n,s):n||s},addAudioCodec:function(e,t,a){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,a){O.a.info("[MDE] Starting analysis of",this.getMediaTitle(e)),Object(O.a)("[MDE] Analyzing direct play");var i=this.canDirectPlay(e,t.directPlay,a);i.result||Object(O.a)("[MDE] Cannot direct play:",i.failedCheck);var r={finalProfile:t,transcodeServer:a.transcodeServer,preferredDirectPlayProtocol:a.preferredDirectPlayProtocol,item:a.item,media:e,canDirectPlay:i.result,canDirectPlayFailedCheck:i.failedCheck,canDisplayHDR:!!a.canDisplayHDR,canDisplayDolbyVision:!!a.canDisplayDolbyVision},n=a.transcoderOptions||{};if(D.a.isFunction(n)&&(n=n(r)),a.type===$I.types.VIDEO){Object(O.a)("[MDE] Analyzing video direct stream");var s=Object($M.a)(e);if(s){var o=this.canDirectStreamVideo(s,t.directStream.video,a,n);r.canDirectStreamVideo=o.result,r.canDirectStreamVideoFailedCheck=o.failedCheck}}if(a.type!==$I.types.PHOTO){Object(O.a)("[MDE] Analyzing audio direct stream");var l=Object(AM.a)(e);if(l){var c=this.canDirectStreamAudio(l,t.directStream.audio,a,n);r.canDirectStreamAudio=c.result,r.canDirectStreamAudioFailedCheck=c.failedCheck}}var d=RM(r.media);return d&&(Object(O.a)("[MDE] Analyzing subtitles"),D.a.extend(r,this.analyzeSubtitles(d,a))),Object(O.a)("[MDE] Analyzing playability"),D.a.extend(r,this.canPlay(r,a)),D.a.extend(r,this.getEffectiveQuality(e,t.directStream,a)),O.a.group("[MDE] Finished analysis of",this.getMediaTitle(e)),this.getDecisionLogs(r).forEach(e=>O.a.info(e)),O.a.groupEnd(),r},canDirectPlay:function(e,t,a){if(a.forceDirectPlay)return Object(O.a)("[MDE] Direct play forced"),{result:!0};if(!1===a.allowDirectPlay&&!a.transcodeServer.get("isCloud"))return O.a.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(a.type===$I.types.VIDEO&&!this.canDirectPlayVideo(e,a))return{result:!1,failedCheck:"canDirectPlayVideo"};var i=t[e.container];if(!i)return O.a.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};var r=D.a.keys(i);if(r&&r.length){for(var n=0,s=r.length;n<s;n++){var o=r[n],l=i[o];if("mimeType"===o){if(!a.skipCanPlayTypeTest&&!this.canPlayType($I.getElementByType(a.type),l))return O.a.warn("[MDE] Direct play failed; canPlayType test, %s: %s",o,l),{result:!1,failedCheck:"canPlayType"}}else if("video"===o||"audio"===o){var c=kM.a.get(o),d=Object(Bi.a)(e,{streamType:c.id}),u="video"===o?Object($M.a)(e):Object(AM.a)(e);if(!u){O.a.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===o&&u!==d[0]&&!a.allowMultiTrackAudio)return O.a.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};var p=this.analyzeStream(u,l,a);if(!p.result)return{result:!1,failedCheck:p.failedCheck}}else if("photo"===o){var h=this.analyzeStream(D.a.first(e.Part),l,a);if(!h.result)return{result:!1,failedCheck:h.failedCheck}}else if(!this.validateProfileProperty(o,l,e))return{result:!1,failedCheck:"validateProfileProperty:"+o}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH)||(O.a.warn("[MDE] Direct play failed; cannot play DASH"),!1):(O.a.warn("[MDE] Direct play failed; cannot play FLV"),!1):(O.a.warn("[MDE] Direct play failed; cannot play HLS"),!1):(O.a.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===$I.elements.PHOTO)return!0;var a=document.createElement(e);return!(!a.canPlayType||!a.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,a,i){return i.directStream||a.transcodeServer.get("isCloud")?this.analyzeStream(e,t,a):(O.a.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,a,i){return i.directStreamAudio||a.transcodeServer.get("isCloud")?this.analyzeStream(e,t,a):(O.a.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,a){var i=t&&t.codecs&&t.codecs[e.codec];for(var r in t){var n=t[r];if("codecs"===r){var s=n[e.codec];if(!s)return{result:!1,failedCheck:"noCodecInProfile:"+e.codec};var o=this.analyzeStream(e,s,a);if(!o.result)return{result:!1,failedCheck:o.failedCheck}}else if(!(i&&r in i||this.validateProfileProperty(r,n,e)))return{result:!1,failedCheck:"validateProfileProperty:"+r}}return{result:!0}},validateProfileProperty:function(e,t,a){var i,r=e.match(/^(min|max)(\w)(\w*)/);if(r){var n="min"===r[1],s="max"===r[1];if(null==(i=a[e=r[2].toLowerCase()+r[3]])&&O.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=i&&"videoResolution"===e&&(i=gl.a.getHeightFromResolution(i),t=gl.a.getHeightFromResolution(t)),null!=i){if(n&&i<t)return O.a.warn("[MDE] Invalid profile property; %s: %s < %s",e,i,t),!1;if(s&&i>t)return O.a.warn("[MDE] Invalid profile property; %s: %s > %s",e,i,t),!1}}else if(null==(i=a[e])&&O.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),i!==t&&!D.a.contains(t,i))return O.a.warn("[MDE] Invalid profile property; %s: %s !== %s",e,i,t),!1;return!0},analyzeSubtitles:function(e,t){var a=t.subtitlesBurnLevel||Dc.ALWAYS,i=e.codec,r=!!e.key&&void 0===i&&t.transcodeServer.get("isCloud"),n=t.transcodeServer.get("isCloud")&&("vtt"===i||"eia_608"===i);return Object(O.a)("[MDE] Subtitle codec:",i),Object(O.a)("[MDE] Burn level:",a),r?(Object(O.a)("[MDE] Using sidecar subtitles %s",e.key),{useSidecarSrtSubtitles:!0}):n?{canDirectPlay:!0}:a===Dc.NEVER?{useSoftSubtitles:!1}:a===Dc.ALWAYS?(O.a.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?yhe(i)?(O.a.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(i)&&a===Dc.AUTO?(O.a.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(i)?(O.a.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(O.a.warn("[MDE] Direct play failed; %s subtitles",i),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(O.a.warn("[MDE] Direct play failed; server support requires burn subtitles"),O.a.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){var a=this.validateParts(e,t)||this.validateTranscoder(e,t);return a?{canPlay:!1,errorMessage:a}:{canPlay:!0}},validateParts:function(e,t){var a=ghe(e.media);if(a.length){O.a.warn("[MDE] Unable to play; missing parts");var i=D.a.first(a);return 1===Number(i.exists)?Object(Ze.default)("Please check the permissions for this file."):Object(Ze.default)("Please check that the file exists and the necessary drive is mounted.")}},validateTranscoder:function(e,t){if(!e.canDirectPlay){var a,i=t.type,r=i===$I.types.MUSIC,n=i===$I.types.VIDEO,s=t.transcodeServer,o=s.get("transcoderAudio"),l=s.get("transcoderVideo");if(r||"track"===t.item.get("type")){if(a=Object(Ze.default)("This server is not powerful enough to convert audio."),n&&!l)return O.a.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),a;if(r&&!o)return O.a.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),a}else if(n){var c=Object(Ze.default)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),d=Object(Ze.default)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),u=e.canDirectStreamVideo||!s.get("transcoderVideoRemuxOnly");if(a=Object(Ze.default)("This server is not powerful enough to convert video."),!l||!u){if(O.a.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===gl.a.ORIGINAL)return a;var p=D.a.clone(t);return p.quality=D.a.extend({index:gl.a.ORIGINAL},D.a.pick(t.quality,"attribute")),this.getMediaDecision(p).canDirectPlay?c:"relay"===s.get("maxUploadBitrateReason")?d:a}return c}}}},getEffectiveQuality:function(e,t,a){var i=a.quality,r={},n={};if(e.bitrate||O.a.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),a.type===$I.types.VIDEO){r.bitrate=e.bitrate,r.videoResolution=gl.a.getHeightFromResolution(e.videoResolution);var s=this.getPrimaryStreamProperty(t,"maxBitrate",a);if(s){var o=Object($M.a)(e),l=o?o.bitrate:e.bitrate;r.bitrate=Math.min(l,s),n.maxVideoBitrate=s}if(i)if(i.videoResolution){var c=gl.a.getResolutionFromSize(i.videoResolution),d=gl.a.getHeightFromResolution(c);r.videoResolution=Math.min(r.videoResolution,d)}}else if(a.type===$I.types.MUSIC){r.bitrate=e.bitrate;var u=this.getPrimaryStreamProperty(t,"maxBitrate",a);u&&(r.bitrate=Math.min(e.bitrate,u),n.musicBitrate=u)}return r.transcoderQualityOptions=n,r},getPrimaryStreamProperty:function(e,t,a){var i=e[$I.getStreamByType(a.type)],r=e[t];return null==r&&i&&(r=i[t]),r},getMediaTitle:function(e){var t=e.title||e.videoResolution||e.bitrate||e.container,a=D.a.compact([e.container,e.videoCodec,e.audioCodec]),i=Object($M.a)(e);return i&&a.push(i.level,i.profile),a.length&&(t+=" ("+a.join(", ")+")"),t},getDecisionLogs:function(e){var t=["canPlay: "+e.canPlay,"canDirectPlay: "+e.canDirectPlay],a=e.canDirectStreamVideo;null!=a&&t.push("canDirectStreamVideo: "+a);var i=e.canDirectStreamAudio;null!=i&&t.push("canDirectStreamAudio: "+i);var r=e.useSoftSubtitles;null!=r&&t.push("useSoftSubtitles: "+r);var n=e.bitrate;null==n||D.a.isNaN(n)||t.push("bitrate: "+n);var s=e.videoResolution;return null==s||D.a.isNaN(s)||t.push("videoResolution: "+s),t},getBestDecision:function(e){var t=D.a.last(this.sortDecisions(e));return O.a.group("[MDE] Selected %s to play",this.getMediaTitle(t.media)),this.getDecisionLogs(t).forEach(e=>O.a.info(e)),O.a.groupEnd(),t},sortDecisions:function(e){return D.a.chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlayMatchingPreferredProtocol,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferDirectPlayOrDirectStreamIfUHD,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferDirectPlayOrDirectStreamIfUHD:function(e){var t=e.media.height;if(void 0===t)return null;var a=gl.a.getResolutionFromHeight(t);return!/^\d+k$/i.test(a)||(e.canDirectPlay||e.canDirectStreamVideo)},preferCloudIfRemote:function(e){var t=e.media.proxyType===tr.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){var t=e.transcodeServer,a=t.get("transcoderVideo"),i=t.get("transcoderVideoRemuxOnly");return a&&!i&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectPlayMatchingPreferredProtocol:function(e){return e.canDirectPlay&&e.media.protocol&&e.preferredDirectPlayProtocol?e.media.protocol===e.preferredDirectPlayProtocol:null},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){var t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}};function bhe(e){return"dash"===e||"hls"===e}function Ihe(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}var She={getPlayerDecision:function(e){return this.resolvePlayerDecision(e).then(null,t=>t.canDirectPlay&&1001===t.generalDecisionCode?(O.a.warn("[PDE] Forcing transcode;",t.mdeDecisionText),this.resolvePlayerDecision(Object.assign({},e,{allowDirectPlay:!1}))):t)},resolvePlayerDecision:function(e){D.a.defaults(e,{offset:0,minVersionForDASH:Ka.dash,minVersionForStreamingMKV:Ka.streamingMKV,transcoderOptions:{}});var t={playbackSessionID:e.playbackSessionID||Pe(),transcodeSessionID:e.transcodeSessionID||Pe(),offset:e.offset},a=this.populateMedia(t,e);return a=(a=(a=a.then(D.a.bind((function(){return this.resolveMedia(t,e)}),this))).then((function(){return T.a.when(t.url)}))).then((function(e){return t.url=e,t}))},populateMedia:function(e,t){var a=T.a.Deferred(),i=D.a.bind(a.resolve,a,e);return t.requireAnalysis&&vhe(t.item)?t.item.fetch({scope:"player"}).always(i):D.a.defer(i),a.promise()},resolveMedia:function(e,t){var a=D.a.extend({transcodeServer:this.resolveTranscodeServer(t)},t),i=fhe.getMediaDecision(a);if(a.originalQualityDecisionOptions){var r=fhe.getMediaDecision(Object.assign({},a,a.originalQualityDecisionOptions));i.canPlayOriginalQuality=r.canDirectPlay||r.canDirectStreamVideo}else i.canPlayOriginalQuality=i.canDirectPlay||i.canDirectStreamVideo;var n=i.media,s=T.a.Deferred();return D.a.extend(e,i),n?e.canPlay?"webkit"===n.protocol?(O.a.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,s.reject(e).promise()):"embed"===n.protocol?(O.a.warn("[PDE] An embed is required"),e.embed=!0,e.part=D.a.first(n.Part),s.reject(e).promise()):this.resolvePart(e,t):(O.a.warn("[PDE] Unable to play item;",e.errorMessage),s.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){var t,a=e.itemServer||e.item.server,i=e.fallbackServer,r=e.itemProvider||e.item.provider;if(a===i||!i||!i.get("isConnected"))return a;e.type===$I.types.VIDEO?t="transcoderVideo":e.type===$I.types.MUSIC&&(t="transcoderAudio");var n=!r||jt.k(r.get("identifier"),jt.d);return t&&!a.get(t)&&i.get(t)&&n?i:a},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=GI(e.media,t.offset),e.offset=YI(e.media,e.part,t.offset)):e.part=D.a.first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,Object(O.a)("[PDE] DRM content decryption module:",e.drm),Object(O.a)("[PDE] DRM certificate:",e.certificate)),this.resolveUrls(e,t)},resolveUrls:function(e,t){var a=T.a.Deferred();return this.validateDrmType(e,t)&&this.validatePlayerType(e,t)?(this.validateSidecarSrtSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSidecarSrtSubtitles=!1,this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),O.a.group("[PDE] Player decision"),O.a.info("Player:",e.playerType),O.a.info("Protocol:",e.protocol),O.a.info("Direct Play:",e.canDirectPlay),O.a.groupEnd(),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):a.reject(e).promise()},validateDrmType:function(e,t){var a=ie.c("appModel").get("drmType"),i={music:tl.a,video:tl.e},r=!!e.drm,n=a===Object(mhe.a)(e.drm)||a===Object(mhe.a)(e.drm,i[t.type]);return r&&!n&&(e.errorCode=F.a.isHostedHttps||de(window.location.hostname)?"D200":F.a.isHostedHttps?"D300":"D100",e.errorMessage=Object(Ze.default)("Streaming this media is unsupported.")),!r||n},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==$I.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){var a,i=e.transcodeServer,r=t.transcodeProtocol,n=!0,s=!0,o=!0;if(r&&(n="dash"===r,s="http"===r,o="hls"===r),o&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(s&&t.hasStreamingMKV){if(i.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;a=t.minVersionForStreamingMKV}if(n&&t.hasDASH){if(i.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;a=t.minVersionForDASH}return t.type===$I.types.MUSIC?(e.protocol="http",e.playerType="html",!0):o&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):t.type===$I.types.ROM?(e.protocol="parsec",!0):(e.errorMessage=a?Object(Ze.default)("Please update Plex Media Server. This feature requires {1} or later.",a):Object(Ze.default)("Streaming this media is unsupported."),!1)},validateSidecarSrtSubtitles:function(e,t){return e.useSidecarSrtSubtitles&&!e.canDirectPlay?(O.a.warn("[PDE] Sidecar SRT is only supported when media is direct play."),!1):e.useSidecarSrtSubtitles},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(O.a.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(O.a.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){var a=t.item,i=e.part,r={"X-Plex-Session-Identifier":e.playbackSessionID};e.drm&&Object.assign(r,Ht(e.drm));var n=i?i.key:a.get("key"),s={appendHeaders:!0,params:r};return Ihe(a,t).resolveUrl(n,s)},resolveTranscoderUrl:function(e,t,a){var i=t.item,r=e.media,n=e.part,s=t.transcoderOptions;D.a.isFunction(s)&&(s=s(e)),s=D.a.extend({},e.transcoderQualityOptions,s,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offlineTranscode:t.offlineTranscode,context:t.context,offset:e.offset?e.offset/1e3:e.offset});var o=t.subtitlesBurnLevel;t.type!==$I.types.VIDEO||e.transcodeServer.get("isCloud")||(o===Dc.NEVER?s.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(s.subtitles=e.canDirectPlay?"sidecar":"auto",o===Dc.AVOID&&(s.advancedSubtitles="text")):s.subtitles="burn");var l=t.profileExtra;D.a.isFunction(l)&&(l=l(e)),s["X-Plex-Client-Profile-Extra"]=l;var c=i.get("Media")[0],d=!!c&&"livetv"===c.origin;("hls"===s.protocol&&!t.useOffsetHLS&&!d||"dash"===s.protocol&&!d)&&(Object(O.a)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete s.offset),"hls"===s.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,s.offset&&(Object(O.a)("[PDE] HLS started with an offset, copyts=0"),s.copyts=0)),bhe(s.protocol)&&d&&(s.copyts=0),"http"===s.protocol&&(s.copyts=d?0:1),"http"!==s.protocol||e.canDirectPlay||(s["X-Plex-Chunked"]=1),t.allowIncompleteSegments&&(s["X-Plex-Incomplete-Segments"]=1),D.a.each(D.a.keys(s),(function(e){null==s[e]&&delete s[e]}));var u=t.type,p=t.transcoder,h=e.transcodeServer;if(u===$I.types.VIDEO)return p.video(h,i,r,n,s,a);if(u===$I.types.MUSIC)return p.music(h,i,s,a);if(u===$I.types.PHOTO){s.fallbackServer=t.fallbackServer;var m="photo"===i.get("type")?i.getMediaKey():i.get("thumb");return p.image(h,m,s)}return u===$I.types.ROM?p.game(h,i,r,s,a):void 0},resolveSubtitlesUrl:function(e,t){if(e.useSidecarSrtSubtitles){var a=t.itemProvider||t.item.provider,i=RM(e.media);return a.resolveUrl(i.key,{appendHeaders:!0,appendToken:!0,params:{format:"srt"}})}var r=this.resolveTranscoderUrl(e,t),n=_.parseUrl(r).params,s=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(s,{params:n})},resolveLicenseUrl:function(e,t){var a=t.item,i={appendHeaders:!0,params:Ht(e.drm)},r=Ihe(a,t);return Object(O.a)("[PDE] Resolving DRM license",e.part.license),r.resolveUrl(e.part.license,i)},resolveDecision:function(e,t){var a=e.transcodeServer,i=T.a.Deferred(),r=a.get("isCloud")||!a.supports("decisionEndpoint"),n=t.type===$I.types.PHOTO||t.type===$I.types.ROM;if(r||n)return Object(O.a)("[PDE] Unnecessary for server to resolve decision"),i.resolve(e).promise();var s=D.a.clone(e);this.validatePlayerTranscodeProtocol(s,t);var o=this.resolveTranscoderUrl(s,t,"decision"),l=T.a.ajax(a.getXHROptions(o,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&bhe(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),l.done((function(t){var a=Se.a.parseXML(t);a.generalDecisionCode&&(e.generalDecisionCode=Se.a.parseInteger(a.generalDecisionCode),e.generalDecisionText=a.generalDecisionText),a.mdeDecisionCode&&(e.mdeDecisionCode=Se.a.parseInteger(a.mdeDecisionCode),e.mdeDecisionText=a.mdeDecisionText),a.transcodeDecisionCode&&(e.transcodeDecisionCode=Se.a.parseInteger(a.transcodeDecisionCode),e.transcodeDecisionText=a.transcodeDecisionText),e.abr=Se.a.parseBoolean(a.abr),e.decisionXML=t,hhe(e)?i.reject(e):i.resolve(e)})),l.fail((function(){O.a.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),i.resolve(e)})),i.promise()}},Mhe=Object(Pa.a)("ui/player/playerDecision/makeDecision"),Che=Object(Pa.a)("ui/player/playerDecision/makeNextDecision"),Dhe=Object(Pa.a)("ui/player/playerDecision/removeDecision"),Phe=Object(Pa.a)("ui/player/playerDecision/retryDecision");function Ohe(e,t,a){var i=Object(e9.c)(e,t),r=Object(fse.a)(i),n=r.get("metadataItem");if(r.get("playQueueItemID")===a.playQueueItemID){var s={currentDecision:a,availableQualities:a.availableQualities,qualityIndex:a.qualityIndex,mediaIndex:a.mediaIndex,partIndex:a.partIndex,positionSeconds:a.positionSeconds,durationSeconds:a.durationSeconds};null!=i.get("startMetadataItemEntityID")&&i.get("startMetadataItemEntityID")!==n.entityID()||(s.startMetadataItemEntityID=null,s.startOffsetMilliseconds=null,s.startMediaIndex=null);var o=function(e,t,a){if(e.get("user").get("experienceSettings").get("reminders"))for(var i of lhe){var r=i(e,t,a);if(r)return r}return null}(e,t,a);s.confirmPlayerUpsellPayload=o,s.isPaused=!!o||i.get("isPaused"),i.set(s)}}var jhe={"ui/player/playerDecision/makeDecision"(e,t){var{playerType:a,playQueueItemEntityID:i,mediaIndex:r,partIndex:n,qualityIndex:s,transcodeSessionID:o,options:l={}}=t,c=Object(e9.c)(e,a),d=Ta.h(e,{playQueueItemEntityID:i});if(d.get("type")!==tl.c){var u=c.get("decisions")[i];if(u)Ohe(e,a,u);else{var p,h,m,v=d.get("metadataItem"),g=she(e,c,d).then(e=>c.get("liveTVSession")?T.a.Deferred().resolve().promise():(p=e.mediaServerModel,h=e.mediaProviderModel,mse(v,{forceSyncCheckFiles:!0,itemProvider:e.providerModel})));(g=g.then(()=>{var t=null==r?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")?e.get("startMediaIndex"):e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(c,v):r,a=v.get("Media")[t],i=a&&a.Part[n],d=Object(ie.c)("getDecisionOptions")(v,s,a);return m=Object.assign({transcodeSessionID:o,playbackSessionID:c.get("playbackSessionID"),item:v,offset:Object(che.a)(c,v),fallbackServer:e.get("primaryServer"),media:a,part:i,itemProvider:h,itemServer:p},d,l),l.offset,She.getPlayerDecision(m)})).done(Object(uhe.a)(c,t=>{var r=dhe(m,t),n=Object.assign({},r,{playQueueItemID:d.get("playQueueItemID")}),s=c.get("decisions");c.set("decisions",Object.assign({},s,{[i]:n})),Ohe(e,a,n)})).fail(Object(uhe.a)(c,e=>{var t;p&&h?v.get("isPreFetched")?(v.set({isPreFetched:!1}),t=hhe(e)):t=Object(Ze.default)("Content is unavailable"):t=Object(Ze.default)("Source is unavailable"),function(e,t,a,i){var r=e.get("playQueue"),n=r.get("playQueueItems").at(r.get("currentIndex"));t.id===n.id&&e.set({isMediaLoading:!1,hasError:!0,errorCode:i,errorMessage:a})}(c,d,t,e.errorCode)}))}}},"ui/player/playerDecision/makeNextDecision"(e,{playerType:t},a){var i=Object(e9.c)(e,t),r=i.get("playQueue"),n=r.get("playQueueItems"),s=r.get("currentIndex"),o=i.get("repeatOne")?s:s+1;if(i.get("repeatAll")&&o>n.length-1&&(o=0),o!==s&&o<n.length){var l=n.at(o).entityID();a(Mhe({playerType:t,playQueueItemEntityID:l}))}},"ui/player/playerDecision/removeDecision"(e,{playerType:t,playQueueItemEntityID:a}){var i=Object(e9.c)(e,t);Object(wa.a)(()=>{var e=i.get("decisions"),t=i.get("currentDecision"),r={decisions:Object.assign({},e,{[a]:null})};e[a]===t&&(r.currentDecision=null),i.set(r)})},"ui/player/playerDecision/retryDecision"(e,t,a){var{playerType:i,decisionOptions:r}=t,n=Object(e9.c)(e,i),s=n.get("playQueue"),o=s.get("playQueueItems"),l=n.get("currentDecision"),c=s.get("currentIndex"),d=o.at(c).entityID();l&&a(Dhe({playerType:i,playQueueItemEntityID:d})),a(Mhe(l?{playerType:i,playQueueItemEntityID:d,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:n.get("qualityIndex"),options:Object.assign({offset:1e3*n.get("positionSeconds")},r)}:{playerType:i,playQueueItemEntityID:d,qualityIndex:n.get("qualityIndex")}))}};var The=function(e=0){return Object(_u.a)(vpe(e),qG,pv,(e,t,a)=>{if(e&&e.metadataItem){var i=t[e.metadataItem];return i&&a[i.providerEntityID]}})};var whe=function(){return Object(_u.a)(P9("mediaIndex"),vpe(),qG,(e=0,t,a)=>{if(t&&t.metadataItem){var{Media:i}=a[t.metadataItem];return i[e]}})};var Ehe=function(){return Object(_u.a)(P9("partIndex"),whe(),(e=0,t)=>{if(t)return t.Part[e]})};var Nhe=function(){return Object(_u.a)(Ehe(),e=>{if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};var t=kM.a.get("video").id,a=kM.a.get("audio").id,i=kM.a.get("subtitles").id,r=e.Stream.filter(e=>e.streamType===t),n=e.Stream.filter(e=>e.streamType===a),s=e.Stream.filter(e=>e.streamType===i),o=r[0],l=n.find(e=>e.selected),c=s.find(e=>e.selected);return{videoStreams:r,selectedVideoStream:o,audioStreams:n,selectedAudioStream:l,subtitlesStreams:s,selectedSubtitlesStream:c}})};function xhe(){return Object(_u.a)(Epe,wpe(),jpe(),(e,t,a)=>e?a:t)}var Ahe=function(){return Object(_u.a)(Object(ie.c)("selectRemoteQuality"),e=>{var t=gl.a.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})};var Lhe=function(){return Object(_u.a)(P9("serverEntityID"),gpe(),Gu,(e,t,a)=>t&&t.transcodeServerEntityID?a[t.transcodeServerEntityID]:e?a[e]:void 0)},khe=a("oozQ"),Rhe=a("jnKl"),zhe=a("P0vZ"),Uhe=a.n(zhe),Vhe=Ed.a.createElement,{Component:Bhe,Suspense:Fhe}=Ed.a;var Hhe=class extends Bhe{constructor(e,t){super(e,t),this._mediaComponent=Object(ie.c)("mediaComponent")}render(){var e=this.props,{isDecisionPending:t,isDecisionDirectPlay:a,isDecisionDirectStreamAudio:i,isDecisionDirectStreamVideo:r,isLibraryProvider:n,hasStreamProtocol:s,isPaused:o,isAdVisible:l,decisionUrl:c,decisionProtocol:d,decisionDrm:u,decisionCertificate:p,decisionLicense:h,media:m,mediaType:v,mediaSubtype:g,placement:y,shouldCoverWhenDecisionPending:f}=e,b=Je()(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","isAdVisible","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return f?Uu()("div",{className:Uhe.a.isDecisionPending}):null;var I=this._mediaComponent.getComponent({drm:u,protocol:d,isDirectPlay:a,isDirectStreamAudio:i,isDirectStreamVideo:r,isLibraryProvider:n,hasStreamProtocol:s,media:m}),S=v===tl.a?Rhe.b:y;return Uu()(Fhe,{fallback:null},void 0,Vhe(I,tp()({},b,{key:c,src:c,paused:o||l,placement:S,media:m,mediaType:v,mediaSubtype:g,drm:u,license:h,certificate:p,isDecisionDirectPlay:a,isDecisionDirectStreamAudio:i,isDecisionDirectStreamVideo:r})))}},_he=Ed.a.createElement,{Component:Qhe}=Ed.a;function Whe(e){var{playerType:t,mediaType:a,mediaSubtype:i,durationSeconds:r,minSecondsForPostPlay:n}=e;return a===tl.e&&i!==OM.a&&t===I6.a&&r>=n}var Ghe={dispatchMakeDecision:Mhe,dispatchMakeNextDecision:Che,dispatchRemoveDecision:Dhe,dispatchRetryDecision:Phe,dispatchUpdatePlayerDuration:bse.O,dispatchUpdatePlayerPosition:bse.Q,dispatchUpdatePlayerSeekRange:bse.R,dispatchUpdatePlayerBuffering:bse.N,dispatchPause:bse.s,dispatchPlay:bse.t,dispatchUpdatePlayerError:bse.P,dispatchSendTimeline:bse.x,dispatchTickPlayer:bse.E,dispatchShowPostPlay:_pe.q,dispatchPlayNextItem:_pe.h,dispatchEndPlayback:Cw.h,dispatchSetMetricsPlayer:Cw.m,dispatchUpdateMediaDimensions:bse.M,dispatchUpdateCanPlayThrough:bse.L};class Yhe extends Qhe{constructor(e,t){super(e,t),this.onDurationMillisecondsChange=e=>{this.props.dispatchUpdatePlayerDuration({playerType:this.props.playerType,durationMilliseconds:e})},this.onPositionMillisecondsChange=e=>{var{playerType:t,dispatchUpdatePlayerPosition:a,onPositionMillisecondsChange:i}=this.props,r=Math.floor(e/1e3);i&&i(e),r!==this.props.positionSeconds&&a({playerType:t,positionSeconds:r})},this.onTick=e=>{var{metadataItemEntityID:t,liveTVSessionEntityID:a,mediaItemID:i,playerType:r,dispatchTickPlayer:n}=this.props;t&&i&&n({metadataItemEntityID:t,liveTVSessionEntityID:a,mediaItemID:i,playerType:r,secondsElapsed:e})},this.onBufferingChange=e=>{this.props.dispatchUpdatePlayerBuffering({playerType:this.props.playerType,isBuffering:e})},this.onPause=()=>{this.props.isAdVisible||this.props.dispatchPause({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onPlay=()=>{this.props.dispatchPlay({playerType:this.props.playerType,isApplicationInitiated:!0})},this.onStreamChange=()=>{var{playerType:e,playQueueItemEntityID:t,positionSeconds:a,liveTVPositionSeconds:i,qualityIndex:r,decisionMediaIndex:n,decisionPartIndex:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;l({playerType:e,playQueueItemEntityID:t}),o({playerType:e,playQueueItemEntityID:t,mediaIndex:n,partIndex:s,qualityIndex:r,options:{offset:null!=i?1e3*i:1e3*a}})},this.onMetricsPlayerChange=e=>{var{playerType:t,dispatchSetMetricsPlayer:a}=this.props;a({playerType:t,metricsPlayer:e})},this.onError=(e={})=>{var{code:t,category:a,message:i}=e,{playerType:r,isDecisionDirectPlay:n,isDecisionDirectStreamVideo:s,isDecisionDirectStreamAudio:o,canTranscodeServerTranscode:l,dispatchUpdatePlayerError:c}=this.props;n&&l?(O.a.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1})):s&&l?(O.a.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):o&&l?(O.a.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),this._itemRestarting(this.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(this.onPause(),c({playerType:r,errorCode:t,errorCategory:a,errorMessage:i}))},this.onEnd=()=>{var{playerType:e,playQueueItemEntityID:t,qualityIndex:a,repeatOne:i,repeatAll:r,isLastPlayQueueItem:n,totalCount:s,decisionMediaIndex:o,decisionPartIndex:l,decisionPartCount:c,dispatchMakeDecision:d,dispatchRemoveDecision:u,dispatchShowPostPlay:p,dispatchPlayNextItem:h,dispatchEndPlayback:m}=this.props,v=i||r&&1===s;l+1<c?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:a,mediaIndex:o,partIndex:l+1,options:{offset:0}})):v?(u({playerType:e,playQueueItemEntityID:t}),d({playerType:e,playQueueItemEntityID:t,qualityIndex:a,mediaIndex:o,partIndex:0,options:{offset:0}})):!n||r?Whe(this.props)?p({playerType:e}):h({playerType:e,isApplicationInitiated:!0}):m({playerType:e})},this.onIntrinsicDimensions=({width:e,height:t})=>{var{playerType:a,dispatchUpdateMediaDimensions:i}=this.props;Object(O.a)("[Player] Media resized: "+e+"x"+t+" ("+e/t+")"),i({playerType:a,width:e,height:t})},this.onCanPlayThrough=e=>{var{playerType:t,dispatchUpdateCanPlayThrough:a}=this.props;a({playerType:t,canPlayThrough:e})},this._hasRefreshedPlayQueue=!1,this._shouldStopOnUnmount=!1}componentDidMount(){this._itemStarting(this.props),this.props.mediaType===tl.c&&this._itemProgressing(this.props)}componentDidUpdate(e){var{playQueueItemEntityID:t,mediaItemID:a,playerType:i,mediaType:r,isDecisionPending:n,isPaused:s,isBuffering:o,hasError:l,positionSeconds:c,durationSeconds:d,preFetchSeconds:u,qualityIndex:p,dispatchMakeNextDecision:h,liveTVPositionSeconds:m,isLiveTV:v}=this.props,g=e.mediaItemID,y=v?!(!a||!g||a===g):t!==e.playQueueItemEntityID,f=n!==e.isDecisionPending,b=p!==e.qualityIndex,I=s!==e.isPaused,S=o!==e.isBuffering,M=l!==e.hasError,C=d!==e.durationSeconds;if(!b||y||f){if(y)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e,{removeDecision:!v}),this._itemStarting(this.props),void(r===tl.c&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&d>0&&d-c<u&&!Whe(this.props)&&(this._hasPreFetched=!0,h({playerType:i})),!f&&(!this._hasRefreshedPlayQueue||I||S||M||C)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{var D=null!=m?1e3*m:1e3*c;this._itemRestarting(this.props,{offset:D})}}componentWillUnmount(){!this.props.shouldSuppressStopOnUnmount&&this._shouldStopOnUnmount&&this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)}_itemStarting(e){var{mediaType:t,playerType:a,playQueueItemEntityID:i,qualityIndex:r}=e;t!==tl.c&&e.dispatchMakeDecision({playerType:a,playQueueItemEntityID:i,qualityIndex:r})}_itemRestarting(e,t={}){var{mediaType:a,playerType:i}=e;a!==tl.c&&e.dispatchRetryDecision({playerType:i,decisionOptions:t})}_itemProgressing(e,{shouldRefreshPlayQueue:t=!1}={}){var{playerType:a,mediaType:i,providerEntityID:r,playQueueItemEntityID:n,metadataItemEntityID:s,mediaItemID:o,playbackTime:l,positionSeconds:c,durationSeconds:d,isPaused:u,decisionMediaIndex:p,decisionPartIndex:h,decisionPartCount:m,dispatchSendTimeline:v,liveTVSessionEntityID:g}=e,y=i===tl.c,f=u&&!y?khe.c:khe.d;v({playerType:a,providerEntityID:r,playQueueItemEntityID:n,metadataItemEntityID:s,liveTVSessionEntityID:g,mediaItemID:o,shouldRefreshPlayQueue:t,options:y?{state:f}:{playbackSessionID:e.playbackSessionID,playbackTime:l,positionSeconds:c,durationSeconds:d,mediaIndex:p,partIndex:h,partCount:m}}),this._shouldStopOnUnmount=!0}_itemStopping(e,{continuing:t=!0,removeDecision:a=!0}={}){e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,metadataItemEntityID:e.metadataItemEntityID,liveTVSessionEntityID:e.liveTVSessionEntityID,mediaItemID:e.mediaItemID,options:{state:khe.e,continuing:t,playbackSessionID:e.playbackSessionID,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),a&&e.mediaType!==tl.c&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID}),this._shouldStopOnUnmount=!1}render(){var e=this.props,{isAdVisible:t}=e,a=Je()(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","isAdVisible","shouldSuppressStopOnUnmount","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer","dispatchUpdateMediaDimensions","dispatchUpdateCanPlayThrough"]);return t&&!be.a.allowAdsOverMedia?null:_he(Hhe,tp()({},a,{isAdVisible:t,onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay,onIntrinsicDimensions:this.onIntrinsicDimensions,onCanPlayThrough:this.onCanPlayThrough}))}}Yhe.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300,shouldSuppressStopOnUnmount:!1};var Khe=Object(Fu.b)((function(){return Object(_u.a)(The(),D9(),gpe(),Lhe(),vpe(),vpe(1),xhe(),Npe(),Nhe(),Dpe(),Ahe(),(e,t,a,i,r,n,s,o,l,c,d)=>{var u=t.playQueue,p=u.playQueueSelectedItemOffset,h=r.entityID,m=!n||p+1===u.length,v={providerEntityID:t.providerEntityID,mediaItemID:null==o?void 0:o.id,metadataItemEntityID:null==s?void 0:s.entityID,playQueueItemEntityID:h,liveTVSessionEntityID:null==c?void 0:c.entityID,isDecisionPending:!a,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:m,playbackTime:t.itemPlaybackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,playbackSessionID:t.playbackSessionID,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:l.videoStreams,videoStream:l.selectedVideoStream,audioStreams:l.audioStreams,audioStream:l.selectedAudioStream,subtitlesStreams:l.subtitlesStreams,subtitleStream:l.selectedSubtitlesStream,isStreamChangeInProgress:null==s?void 0:s.isStreamChangeInProgress,bufferingDetectionLimit:be.a.bufferingDetectionLimit};if(c){var g=3===t.confirmLocalToRemote;Object.assign(v,Hpe(c),{shouldSuppressStopOnUnmount:g,isLiveTV:!0})}return a&&(v.decisionMediaIndex=a.mediaIndex,v.decisionPartIndex=a.partIndex,v.decisionPartCount=a.partCount,v.decisionUrl=a.url,v.decisionProtocol=a.protocol,v.decisionError=a.error,v.isDecisionDirectPlay=a.isDirectPlay,v.isDecisionDirectStreamVideo=a.canDirectStreamVideo,v.isDecisionDirectStreamAudio=a.canDirectStreamAudio,v.canTranscodeServerTranscode=!i.isCloud&&Qa(i.version,Ka.decisionEndpoint),a.playbackSessionID&&(v.playbackSessionID=a.playbackSessionID),v.hasBurnedSubtitles=l.selectedSubtitlesStream&&l.selectedSubtitlesStream.id!==LM.a&&!a.subtitlesUrl,v.decisionDrm=a.drm,v.decisionLicense=a.license,v.decisionCertificate=a.certificate),!v.isDecisionDirectPlay||"dash"!==v.decisionProtocol&&"hls"!==v.decisionProtocol||(v.bufferingGoal=10,v.defaultBandwidthEstimate=d),e&&(v.isLibraryProvider=e.isLibraryProvider,v.hasStreamProtocol=e.protocols.includes("stream")),v})}),Ghe,(function(e,t,a){var i=t;return Object.assign({},a,e,i)}))(Yhe);var qhe=Object(Fu.b)((function(){return Object(_u.a)(P9("qualityIndex"),Nv.a,Fpe,Bpe(),Object(_u.a)((e,{mediaType:t})=>t,P9("openState"),(e,t)=>e===tl.e&&t===J8.a),(e,t,a,i,r)=>({qualityIndex:e,subtitleSize:t.subtitleSize,volume:a,playbackSpeed:i,shouldCoverWhenDecisionPending:r}))}))(Khe),Zhe=Ed.a.createElement;var Xhe=Vpe((function(e){return Zhe(qhe,tp()({},e,{type:"audio",allowRecycleElement:!0}))}));var Jhe=function(e,t){return LS(Object(_u.a)(e=>e.ui,(e,{playerType:t})=>t,(a,i=t)=>{var r=i+"Player";return a[r]?D.a.pick(a[r],e):{}}),e=>e)};function $he(){return Object(_u.a)(Gu,P9("serverEntityID"),(e,t)=>e[t])}var eme=a("b6I9"),tme=a("nP6q");function ame(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}function ime(e,t){var a=e/t;return a=Math.round(a),a*=t}function rme(e){if(null!=e){var t=Math.round(e/1e3);return ime(t,t>=3600?300:60)}}var{Component:nme}=Ed.a,sme="cast",ome="failed",lme="completed",cme="stopped",dme="skipped",ume="quality",pme="streams";var hme={dispatchSetPlayerItemPlaybackTime:bse.y,dispatchSetPlayerSessionPlaybackTime:bse.z};class mme extends nme{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.flushPlaybackTimes(),this.setTickTimeout(this.props)},this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0,this.hasError=!1,this.hasEnded=!1,this.hasStopped=!1,this._tickTimeout=null}componentDidMount(){this.update()}componentDidUpdate(e){this.update(e)}componentWillUnmount(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()}clearTickTimeout(){this._tickTimeout&&(this._tickTimeout=window.clearTimeout(this._tickTimeout))}setTickTimeout(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=window.setTimeout(this.onTickTimeout,1e3))}update(e={}){var{itemID:t,decision:a,isRemotePlayer:i,isAdVisible:r,isPlaying:n,hasError:s,metricsType:o,metricsPlayer:l}=this.props,{isPlaying:c}=e;if(n&&!c?this.setTickTimeout(this.props):!n&&c&&this.clearTickTimeout(),i)e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd());else{!this.hasError&&s&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===t?this.updateCurrentItem():this.trackItemEnd());var d=!this.itemID&&!this.hasError&&t&&l&&(a||o===Wt.k);d&&r&&!n&&!this.sessionAdPlaybackStartTime&&(this.sessionAdPlaybackStartTime=Date.now()),d&&n&&this.trackItemStart()}}updateCurrentItem(){var e,{decision:t,isPlaying:a,hasEnded:i}=this.props;if((a?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=i):this.flushPlaybackTimes(),this.itemDecision&&t&&this.itemDecision!==t)&&(this.itemDecision.qualityIndex!==t.qualityIndex?e=ume:this.itemDecision.partIndex===t.partIndex&&(e=pme),e)){var r=this.itemMetricsProperties.offset;this.trackItemRestart(e),this.itemMetricsProperties.offset=r}}getItemMetricsProperties(){var e={serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,contextTuple:this.props.metricsContextTuple,setting:this.props.metricsSetting,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer,mode:this.props.metricsMode};return this.props.isLiveTV&&this.props.isCloudServer&&(e.guid=this.props.metricsGUID,e.group=this.props.metricsGroup,e.title=this.props.metricsTitle,e.publishedAt=this.props.metricsPublishedAt,e.containedId=this.props.metricsContainerID),e}flushPlaybackTimes(){if(this.itemPlaybackTimestamp){var e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerItemPlaybackTime(),this.setPlayerSessionPlaybackTime(),Object(ie.c)("metrics").addPlaybackTime(e)}}trackItemStart(){this.itemID=this.props.itemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;var e=this.props.playbackStartTime,t=Object.assign({},this.itemMetricsProperties);if(e>0&&1===this.sessionPlaybackCount){var a=this.sessionAdPlaybackStartTime||Date.now();t.latency=a-e}this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(ie.c)("metrics").trackEvent({event:"playback:itemstart",interaction:!0,properties:t}),Object(ie.c)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)}trackItemRestart(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),Object(ie.c)("metrics").trackEvent({event:"playback:itemrestart",interaction:!0,properties:Object.assign({},this.itemMetricsProperties,{reason:e})})}trackItemEnd(){if(this.itemID){var e;this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?sme:this.hasError?ome:this.hasEnded?lme:this.hasStopped?cme:dme;var t=Object.assign({},this.itemMetricsProperties,{playbackTime:rme(this.itemPlaybackMilliseconds),status:e});this.props.syncplaySessionRoomID&&(t.format="watch-together",t.playbackSessionId=this.props.syncplaySessionRoomID),Object(ie.c)("metrics").trackEvent({event:"playback:itemend",interaction:!0,properties:t}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1}}trackSessionEnd(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),Object(ie.c)("metrics").trackEvent({event:"playback:sessionend",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:rme(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0,this.sessionAdPlaybackStartTime=0)}trackFailure(){Object(ie.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,error:this.props.errorCode,mode:this.props.metricsMode}})}setPlayerItemPlaybackTime(){this.props.dispatchSetPlayerItemPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})}setPlayerSessionPlaybackTime(){this.props.dispatchSetPlayerSessionPlaybackTime({playbackTime:this.sessionPlaybackMilliseconds,playerType:this.props.playerType})}render(){return null}}mme.defaultProps={metricsPage:Rd.W};var vme=Object(Fu.b)((function(){return Object(_u.a)(Epe,O9(),$he(),xhe(),Npe(),gpe(),vpe(),Object(_u.a)((e,{isAdVisible:t})=>t,Jhe(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),xhe(),gpe(),(e,t,a,i)=>!(!a||a.type!==Wt.k)||!(!i||e||t.confirmRemoteToLocal||t.isPostPlayVisible||t.isMediaLoading||t.isBuffering||t.isPaused||t.hasError)),Object(_u.a)(Ppe(),P9("positionSeconds"),xhe(),Npe(),gpe(),(e,t,a,i,r)=>{if(e){if(!i)return!1;var{beginsAt:n,endsAt:s}=i;return e>s-.9*(s-n)}if(a&&a.type===Wt.k)return!0;if(r){var o=i&&i.Part[r.partIndex];if(i&&i.duration&&o)return Object(tme.a)(i,o,1e3*t)>.9*i.duration}return!1}),P9("syncplaySessionRoomID"),P9("hasError"),P9("errorCode"),P9("metricsPage"),P9("metricsContextTuple"),P9("metricsAutoPlay"),P9("metricsPlayer"),P9("metricsSetting"),P9("playbackStartTime"),(e,t,a,i,r,n,s,o,l,c,d,u,p,h,m,v,g,y)=>{var f={decision:n,isPlaying:o,isLiveTV:e,hasEnded:l,hasError:d,errorCode:u,metricsPage:p,metricsContextTuple:h,metricsAutoPlay:m,metricsPlayer:v,metricsSetting:g,playbackStartTime:y,syncplaySessionRoomID:c};if(a&&(f.isCloudServer=a.isCloud,f.metricsServerType=XT(a),f.metricsConnectionType=ame(a.activeConnection)),i&&(f.metricsType=i.type,f.metricsIdentifier=i.identifier,e&&(f.metricsGUID=i.ratingKey,f.metricsTitle=i.type===Wt.f?i.grandparentTitle:i.title,f.metricsPublishedAt=r.beginsAt,f.metricsContainerID=r.channelIdentifier,f.metricsGroup=r.channelShortTitle),i.type===Wt.k&&(f.metricsPlayer=eme.b,i.Media.length&&(f.metricsContainer=i.Media[0].container))),f.itemID=e?null==r?void 0:r.id:null==s?void 0:s.playQueueItemID,t&&!f.metricsIdentifier&&(f.metricsIdentifier=t.identifier),n){var b,I=function(e){var t={};return e.isDirectPlay?(t.videoDecision="direct",t.audioDecision="direct",t.subtitleDecision="direct"):(t.videoDecision=e.canDirectStreamVideo?"copy":"transcode",t.audioDecision=e.canDirectStreamAudio?"copy":"transcode",t.subtitleDecision=e.useSoftSubtitles?"copy":"transcode"),t}(n),S=r&&r.Part[n.partIndex];i&&(b=Wt.u(i.type).mediaType);var M=kM.a.get("video").id,C=S&&D.a.findWhere(S.Stream,{streamType:M}),P=kM.a.get("audio").id,O=S&&D.a.findWhere(S.Stream,{streamType:P,selected:!0}),j=kM.a.get("subtitles").id,T=S&&D.a.findWhere(S.Stream,{streamType:j,selected:!0});f.metricsProtocol=n.protocol,f.metricsOffset=n.positionSeconds,n.drm&&(f.metricsMode=n.drm),r&&(f.metricsContainer=r.container,f.metricsDuration=rme(r.duration||i.duration),f.metricsBitrate=function(e){if(null!=e)return ime(e,e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32)}(r.bitrate),f.metricsOrigin=r.origin),b===tl.e&&(f.metricsVideoCodec=C&&C.codec||"unknown",f.metricsVideoDecision=I.videoDecision,T&&T.id!==LM.a&&(f.metricsSubtitleFormat=T&&T.codec||"unknown",f.metricsSubtitleDecision=I.subtitleDecision)),b!==tl.e&&b!==tl.a||(f.metricsAudioCodec=O&&O.codec||"unknown",f.metricsAudioDecision=I.audioDecision)}return f})}),hme)(mme),{Component:gme}=Ed.a;var yme=Object(Fu.b)((function(){return Object(_u.a)(Jhe(["isOpen","isPaused","openState"]),({isOpen:e,isPaused:t,openState:a})=>{var i=a===J8.a;return{isEnabled:!e||!i||t}})}))(class extends gme{constructor(e,t){super(e,t),this._screenSaverManager=Object(ie.a)("screenSaverManager")?Object(ie.c)("screenSaverManager"):null}componentDidMount(){this._toggleScreenSaver(this.props.isEnabled)}componentDidUpdate(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)}componentWillUnmount(){this._toggleScreenSaver(!0)}_toggleScreenSaver(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)}render(){return null}}),{Component:fme}=(Oc.a.shape({startSeconds:Oc.a.number,endSeconds:Oc.a.number}),Oc.a.shape({url:Oc.a.string.isRequired}),Ed.a);class bme extends fme{constructor(...e){super(...e),this.onResize=e=>{this.timeoutID=window.clearTimeout(this.timeoutID),this.timeoutID=window.setTimeout(this.onResizeTimeout,this.props.resizeDelay)},this.onResizeTimeout=()=>{this.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})}}componentDidMount(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()}componentWillUnmount(){window.removeEventListener("resize",this.onResize),this.timeoutID=window.clearTimeout(this.timeoutID)}render(){return null}}bme.defaultProps={resizeDelay:100};var Ime=bme,Sme=Object(Pa.a)("ui/advertisingNoticeModal/setAdConsent"),Mme=Object(Pa.a)("ui/advertisingNoticeModal/resetAdConsent"),Cme=Object(Pa.a)("ui/advertisingNoticeModal/trackAdConsentAction"),Dme={"ui/advertisingNoticeModal/setAdConsent"(e,t){var a=e.get("user"),i=e.get("ui").get("advertisingNoticeModal");Object(wa.a)(()=>{i.set({isSaving:!0})});var r=_.join(["/api/v2/user",a.get("uuid"),"settings/consent"]),n=a.server.getXHROptions(r,{type:"PUT",data:{consent:t.consent}}),s=T.a.ajax(n);(s=s.then(()=>a.fetch())).then(()=>{i.set({isSaving:!1,isSaved:!0})},e=>{i.set({isSaving:!1,isSaved:!0});var r=Math.round(Date.now()/1e3);a.set({adsConsent:t.consent,adsConsentSetAt:r,adsConsentReminderAt:r+86400})})},"ui/advertisingNoticeModal/resetAdConsent"(e){e.get("ui").get("advertisingNoticeModal").restoreDefaults()},"ui/advertisingNoticeModal/trackAdConsentAction"(e,{advertisingNoticePayload:t,action:a}){var i=Ta.j(e,t),r={page:Rd.f,action:a,identifier:i.get("identifier")};if(t.metadataItemEntityID){var n=Ta.f(e,t);r.type=n.get("type")}Object(ie.c)("metrics").trackClick(r)}},Pme=a("DYor"),Ome=a.n(Pme),{useCallback:jme,useEffect:Tme,useState:wme}=Ed.a;var Eme=function(e){var{isOpen:t,isSaving:a,isSaved:i,onContinue:r,onCancel:n,onSaveComplete:s}=e,o=a||i,l=wme(!1),c=l[1],d=l[0],u=jme(()=>{c(!0),r(!0)},[r]),p=jme(()=>{c(!1),r(!1)},[r]);return Tme(()=>{i&&s(d)},[d,i,s]),Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.c,onModalClose:n},void 0,Uu()(UL,{onModalClose:n},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Consent")),Uu()(fL,{},void 0,Uu()("div",{className:Ome.a.message},void 0,Object(Ze.default)("Plex is able to provide free-to-watch movies and shows by displaying a modest number of ads before and during playback. While it is not possible to opt out of these ads, we can provide you the best and most relevant advertising experience if you agree to the terms below.")),Uu()(oT,{className:Ome.a.consentMessage,component:"div",message:Object(Ze.default)("I consent to Plex sharing the advertising identifiers on my devices with Plex's advertising partners. This data is used to deliver the advertising that supports content you may access through Plex on all devices on which you have Plex installed. To learn how to withdraw consent, visit our {openLinkPrivacyPolicyUrl}privacy policy{closeLinkPrivacyPolicyUrl}."),tags:[{open:"openLinkPrivacyPolicyUrl",close:"closeLinkPrivacyPolicyUrl",component:Vp,kind:Dp,to:"https://www.plex.tv/privacy",target:"_blank"}]})),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(EL,{metricsProperties:{page:Rd.c},action:kd.s},void 0,Uu()(bU,{className:Ome.a.confirmButton,isSpinning:o&&!d,onPress:p},void 0,Object(Ze.default)("I Do Not Agree"))),Uu()(EL,{metricsProperties:{page:Rd.c},action:kd.g},void 0,Uu()(bU,{className:Ome.a.confirmButton,"data-autofocus":!0,kind:Dp,isSpinning:o&&d,onPress:u},void 0,Object(Ze.default)("I Agree")))))))};var Nme=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.advertisingNoticeModal,Object(_u.a)((e,{advertisingNoticePayload:t})=>t,qG,(e,t)=>{if(e.metadataItemEntityID)return t[e.metadataItemEntityID]}),(e,t)=>Object.assign({},e,{metadatItemType:t&&t.type}))}),(function(e,{playerType:t,advertisingNoticePayload:a}){return{onContinue(t){e(Sme({consent:t}))},onCancel(){e(Cme({advertisingNoticePayload:a,action:kd.j})),e(Object(Cw.l)({playerType:t}))},onSaveComplete(i){e(Cme({advertisingNoticePayload:a,action:i?kd.g:kd.s})),e(Object(Cw.p)(Object.assign({},a,{playerType:t,confirmAdvertisingNotice:!0}))),e(Mme())}}}))(Eme),xme=a("/OzK"),Ame=a("vVLk");function Lme(e){var t=e.get("captureBuffer");return t&&t.startedAt}function kme(e){return e.get("currentPosition")}function Rme(e){var t=e.get("liveTVSession");return e.get("liveTVSession")?kme(t):0}function zme(e){var t=e.get("liveTVSession"),a=t.get("captureBuffer");if(a){var{startedAt:i,seekStartSeconds:r,seekEndSeconds:n}=a;return{seekStartSeconds:i+r,seekEndSeconds:i+n}}var s=t.get("startedAt");return{seekStartSeconds:s+e.get("seekStartSeconds"),seekEndSeconds:s+e.get("seekEndSeconds")}}function Ume(e){var t=kme(e);if(t)for(var a=e.get("timeline"),i=0;i<a.length;i++)for(var r=[...a.at(i).get("Media")].sort((e,t)=>e.endsAt-t.endsAt),n=0;n<r.length;n++){var s=r[n],{beginsAt:o,endsAt:l}=s;if(o<=t&&l>t)return s}}function Vme(e,t){var a=Rme(e),i=zme(e).seekEndSeconds;return a?Math.min(i,a+t):void 0}function Bme(e,t){var a=Rme(e),i=zme(e).seekStartSeconds;return a?Math.max(i,a-t):void 0}function Fme(e){var t=e.get("liveTVSession");if(e.get("liveTVSession")){var a=zme(e).seekStartSeconds,i=kme(t),r=Ume(t);if(r){if(i-r.beginsAt>Ame.a)return Math.max(a,r.beginsAt);var n=function(e){var t=kme(e);if(t)for(var a=e.get("timeline"),i=a.length-1;i>=0;i--)for(var r=[...a.at(i).get("Media")].sort((e,t)=>e.endsAt-t.endsAt),n=r.length-1;n>=0;n--){var s=r[n];if(s.endsAt<=t)return s}}(t);if(n)return Math.max(a,n.beginsAt)}}}function Hme(e,t){1===arguments.length&&(t=e.get("currentPosition"));var a=Lme(e)||e.get("startedAt");return t-a}function _me(e,t,a,i){if(null!=a){var r=Object(G8.a)(e),n=Object(e9.c)(e,t),s=n.get("liveTVSession"),o=s.get("startedAt");Object(wa.a)(()=>{if(s.set({currentPosition:a,lastSeekPosition:a}),function(e,t){var a=e.get("currentDecision");if(!a||a.isDirectPlay)return!1;var i=e.get("liveTVSession"),r=i.get("startedAt");if(!i.get("captureBuffer"))return!1;if(be.a.shouldCreateNewSessionWhenSeekingLiveTV)return!0;var n=r+e.get("seekStartSeconds"),s=r+e.get("seekEndSeconds");return!(t>=n&&t<=s)}(n,a))s.set({startedAt:a}),i(Phe({playerType:t,decisionOptions:{offset:1e3*Hme(s)}}));else{var e=Math.max(a-o,0);r.seek(n,e)}})}}var Qme=a("g21S");function Wme(e,t,a,i){var r=e.server.get("isCloud"),n=r?"/channels/"+a+"/tune":"/livetv/dvrs/"+t+"/channels/"+a+"/tune",s={method:"POST",headers:{"X-Plex-Session-Identifier":i.playbackSessionID},timeout:I.a};return T.a.ajax(r?e.provider.getXHROptions(n,s):e.server.getXHROptions(n,s)).then((n,s,o)=>{e.set(e.parse(n));var l=e.get("grabOperation");if(!l){var c=KT(o,Object(Ze.default)("Could not tune channel"));return T.a.Deferred().reject({errorMessage:c}).promise()}var d=l.get("metadataItem"),u=d.get("Media")[0],p=l.get("conflicts"),h=o.getResponseHeader("X-Plex-Activity"),m=l.get("beginsAt"),v=l.get("metadataItem").get("transcodeSession"),g={dvrID:t,channelIdentifier:a,activityUUID:h,currentPosition:m,startedAt:m},y=!1;if(v&&i.currentMediaItem){var f=v.get("timeStamp"),b=v.get("minOffsetAvailable"),I=v.get("maxOffsetAvailable");if(f&&null!=b&&null!=I){g.captureBuffer={startedAt:f,seekStartSeconds:b,seekEndSeconds:I};var S=f+b,M=i.currentMediaItem.beginsAt,C=Math.max(S,M);Date.now()/1e3-C>60&&(y=!0)}}if(e.set(g),r)return T.a.Deferred().resolve(e).promise();if(p&&p.length)return T.a.Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!h)return T.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (No activity)")}).promise();var D=u&&u.Part;return D&&D.length?(d.set("isPreFetched",!0),y?T.a.Deferred().reject({confirmPlayback:y,liveTVSession:e}).promise():T.a.Deferred().resolve(e).promise()):T.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (No parts)")}).promise()},(e,t)=>"abort"===t?T.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel (Timed out)")}).promise():T.a.Deferred().reject({errorMessage:Object(Ze.default)("Could not tune channel")}).promise())}var Gme="ui/player/liveTVPlayer/skipBack",Yme="ui/player/liveTVPlayer/stepBack",Kme=Object(Pa.a)("ui/player/liveTVPlayer/startLiveTVPlayback"),qme=Object(Pa.a)("ui/player/liveTVPlayer/endLiveTVPlayback"),Zme=Object(Pa.a)("ui/player/liveTVPlayer/confirmLiveTVPlayback"),Xme=Object(Pa.a)("ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"),Jme=Object(Pa.a)("ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"),$me=Object(Pa.a)("ui/player/liveTVPlayer/playNextItem"),eve=Object(Pa.a)("ui/player/liveTVPlayer/playPreviousItem"),tve=Object(Pa.a)(Gme),ave=Object(Pa.a)("ui/player/liveTVPlayer/skipForward"),ive=(Object(Pa.a)(Yme),Object(Pa.a)("ui/player/liveTVPlayer/stepForward"),Object(Pa.a)("ui/player/liveTVPlayer/seek")),rve=Object(Pa.a)("ui/player/liveTVPlayer/clearPlayerConflicts"),nve=Object(Pa.a)("ui/player/liveTVPlayer/cancelMediaGrabber"),sve=Object(Pa.a)("ui/player/liveTVPlayer/togglePlayerAlsoAiringState");function ove(e,t){var a=Math.floor(Date.now()/1e3);return e.get("Media").find(e=>{var i=e.beginsAt<=a&&a<=e.endsAt,r=!t||e.channelIdentifier===t;return i&&r})}function lve(e){var t=ove(e);return t?t.channelIdentifier:void 0}function cve(e,t){var a=Object(e9.c)(e,t).get("liveTVSession");a&&a.set("lastSeekPosition",a.get("currentPosition"))}var dve={"ui/player/liveTVPlayer/startLiveTVPlayback"(e,t,a){var{serverEntityID:i,providerEntityID:r}=t,n=Date.now(),s=Object(xme.a)(e,t),o=Object(ine.a)(s),l=I6.d(o),c=Object(e9.c)(e,l),d=Ta.m(e,t),u=Ta.j(e,{providerEntityID:r}),p=u.get("parentID"),h=s.metadataItemModel,m=va(u.get("identifier"),u.get("providerIdentifier")),v=null;if(h?v=ove(h,s.identifier):s.identifier&&(v={channelIdentifier:s.identifier,beginsAt:Math.floor(Date.now()/1e3)}),v){var g=e.get("remotePlayer");if(g&&!$8({protocol:g.get("protocol"),protocolCapabilities:g.get("protocolCapabilities"),providerIdentifier:m,userFeaturesByUUID:q8(e)}))Object(wa.a)(()=>{c.set({hasError:!0,errorMessage:Object(Ze.default)("Live TV is not currently supported when connected to a remote player.")})});else{Object(wa.a)(()=>{c.restoreDefaults({serverEntityID:i,providerEntityID:r,isOpen:!0,openState:J8.a,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:n})});var y=new _8({},{server:d,provider:u}),f=v.channelIdentifier;Wme(y,p,f,{playbackSessionID:c.get("playbackSessionID"),currentMediaItem:v}).done(()=>{c.set("liveTVSession",y);var e=y.get("grabOperation").get("metadataItem");a(Object(Cw.p)(Object.assign({},t,{liveTVSessionEntityID:y.entityID(),metadataItemEntityID:e.entityID(),playbackStartTime:n,options:{offset:void 0}})))}).fail(e=>{var{confirmPlayback:t,hasConflicts:a,errorMessage:n}=e;if(t)c.restoreDefaults({serverEntityID:i,providerEntityID:r,liveTVSession:y,confirmLiveTVPlayback:t});else if(a)c.restoreDefaults({serverEntityID:i,providerEntityID:r,liveTVSession:y,hasConflicts:a});else{var s=d.getState();Object(ie.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:XT(s),connectionType:ame(s.activeConnection),error:"tuneFailed",identifier:f}}),c.restoreDefaults({hasError:!0,errorMessage:n})}})}}else Object(wa.a)(()=>{c.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to tune channel (Not on air)")})})},"ui/player/liveTVPlayer/endLiveTVPlayback"(e,t,a){var{playerType:i,showError:r}=t,n=Object(e9.c)(e,i);r?n.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("This live TV session has ended due to a recording conflict")}):a(Object(Cw.h)({playerType:i}))},"ui/player/liveTVPlayer/confirmLiveTVPlayback"(e,t,a){var{playerType:i,serverEntityID:r,providerEntityID:n,offset:s}=t,o=Object(e9.c)(e,i).get("liveTVSession"),l=o.get("captureBuffer"),c=o.get("grabOperation").get("metadataItem");if(null!=s){var d=l.startedAt+Math.floor(s/1e3);o.set({currentPosition:d,lastSeekPosition:d})}a(Object(Cw.p)({serverEntityID:r,providerEntityID:n,liveTVSessionEntityID:o.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:s}))},"ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"(e,{playerType:t}){var a=Object(e9.c)(e,t);Object(wa.a)(()=>{a.restoreDefaults()})},"ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"(e,t){var{serverEntityID:a,playerType:i}=t,r=Object(e9.c)(e,i),n=r.get("liveTVSession");if(n&&r.get("serverEntityID")===a){var s=n.get("dvrID"),o=n.get("channelIdentifier");Wme(n,s,o,{playbackSessionID:r.get("playbackSessionID")})}},"ui/player/liveTVPlayer/playNextItem"(e,{playerType:t},a){_me(e,t,function(e){var t=e.get("liveTVSession");if(e.get("liveTVSession")){var a=zme(e).seekEndSeconds,i=Ume(t);if(i)return Math.min(a,i.endsAt)}}(Object(e9.c)(e,t)),a)},"ui/player/liveTVPlayer/playPreviousItem"(e,{playerType:t},a){_me(e,t,Fme(Object(e9.c)(e,t)),a)},[Gme](e,{playerType:t},a){_me(e,t,function(e){return Bme(e,Ame.c)}(Object(e9.c)(e,t)),a)},"ui/player/liveTVPlayer/skipForward"(e,{playerType:t},a){_me(e,t,function(e){return Vme(e,Ame.d)}(Object(e9.c)(e,t)),a)},[Yme](e,{playerType:t},a){_me(e,t,function(e){return Bme(e,Ame.e)}(Object(e9.c)(e,t)),a)},"ui/player/liveTVPlayer/stepForward"(e,{playerType:t},a){_me(e,t,function(e){return Vme(e,Ame.f)}(Object(e9.c)(e,t)),a)},"ui/player/liveTVPlayer/seek"(e,t,a){var{playerType:i,seekPosition:r}=t;_me(e,i,r,a)},"ui/player/liveTVPlayer/clearPlayerConflicts"(e,{playerType:t}){var a=Object(e9.c)(e,t);Object(wa.a)(()=>{a.set({hasConflicts:!1})})},"ui/player/liveTVPlayer/cancelMediaGrabber"(e,t,a){var{playerType:i,grabOperationKey:r}=t,n=Object(e9.c)(e,i),s=n.get("serverEntityID"),o=Ta.m(e,{serverEntityID:s}),l=n.get("liveTVSession").get("grabOperation").get("metadataItem"),c=!n.get("isOpen");if(!c||lve(l)){Object(wa.a)(()=>{n.set({isConflictCancelling:!0})});var d=o.getXHROptions(r,{type:"DELETE"});T.a.ajax(d).done(e=>{if(n.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),c){var t=n.get("providerEntityID");if(!lve(l))return void n.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to tune channel after canceling a conflict, please try again.")});a(Kme({serverEntityID:s,providerEntityID:t,metadataItemEntityID:l.entityID(),playerType:i}))}}).fail(e=>{n.set({isConflictCancelling:!1,cancelConflictError:Object(vw.a)(e)})})}else n.restoreDefaults({hasError:!0,errorMessage:Object(Ze.default)("Unable to cancel conflict, please try again.")})},"server/updateActivity"(e,t){var{serverEntityID:a,activity:i}=t,r=Object(e9.c)(e,I6.a),n=r.get("liveTVSession");if(n&&r.get("serverEntityID")===a&&n.get("activityUUID")===i.uuid&&i.Context){var s=!!i.Context.conflicts,o=r.get("hasConflicts");if(s&&!o){var l=n.get("dvrID"),c=n.get("channelIdentifier");Wme(n,l,c,{playbackSessionID:r.get("playbackSessionID")}).fail(({hasConflicts:e})=>{e&&r.set({hasConflicts:!0})})}else!s&&o&&r.set({hasConflicts:!1})}},[Ea](e,t,a){var{serverEntityID:i,activity:r}=t,n=Object(e9.c)(e,I6.a),s=n.get("liveTVSession");if(s&&n.get("serverEntityID")===i&&s.get("activityUUID")===r.uuid){var o=Object(Ze.default)("This live TV session has ended");r.Response&&r.Response.errorText?o=r.Response.errorText:n.get("hasConflicts")&&(o=Object(Ze.default)("This live TV session has ended due to a recording conflict")),n.restoreDefaults({hasError:!0,errorMessage:o})}},"ui/player/liveTVPlayer/togglePlayerAlsoAiringState"(e,{playerType:t}){var a=Object(e9.c)(e,t),i=a.get("isAlsoAiringVisible");Object(wa.a)(()=>{a.set(Object(Qme.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!i,isLyricsVisible:!1}))})},[bse.a](e,{playerType:t}){cve(e,t)},[bse.b](e,{playerType:t}){cve(e,t)},[bse.i](e,{playerType:t,positionSeconds:a}){var i=Object(e9.c)(e,t),r=i.get("liveTVSession");if(r){var n=i.get("serverEntityID");if(Ta.m(e,{serverEntityID:n}).get("isCloud"))Object(wa.a)(()=>{var e=i.get("playbackStartTime"),t=i.get("sessionPlaybackTime");r.set({currentPosition:Math.floor((e+t)/1e3)})});else{var s=r.get("startedAt"),o=r.get("lastSeekPosition"),l=s+a;l>o&&Object(wa.a)(()=>{r.set({currentPosition:l,lastSeekPosition:null})})}}}},{Component:uve}=Ed.a;function pve(e,t){var a=Math.max(e,t),i=Date.now()-1e3*a;return Wm(i)}var hve=class extends uve{constructor(e,t){super(e,t),this.updateTimeAgo=()=>{var{captureBufferStartedAt:e,mediaItemBeginsAt:t}=this.props,a=6e4-1e3*(new Date).getSeconds(),i=pve(e,t);i!==this.state.timeAgo&&this.setState({timeAgo:i}),this._updateTimeAgoTimeout=window.setTimeout(this.updateTimeAgo,a)},this.onConfirm=e=>{var{serverEntityID:t,providerEntityID:a,onConfirm:i}=this.props;i({serverEntityID:t,providerEntityID:a,offset:e})},this._updateTimeAgoTimeout=null,this.state={timeAgo:pve(e.captureBufferStartedAt,e.mediaItemBeginsAt)}}componentDidMount(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()}componentWillUnmount(){this._updateTimeAgoTimeout&&window.clearTimeout(this._updateTimeAgoTimeout)}render(){var{isOpen:e,captureBufferStartedAt:t,mediaItemBeginsAt:a,onModalClose:i}=this.props,{timeAgo:r}=this.state;return t?Uu()(zre,{isOpen:e,metricsPage:Rd.Q,title:Object(Ze.default)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:i},void 0,Uu()(_re,{value:1e3*Math.max(a-t,0)},void 0,Object(Ze.default)("Watch from start (started {timeAgo} ago)",{timeAgo:r})),Uu()(_re,{value:null},void 0,Object(Ze.default)("Watch Live"))):null}};var mve=Object(Fu.b)((function(){return Object(_u.a)(D9(),Dpe(),Tpe(),(e,t,a)=>{var{serverEntityID:i,providerEntityID:r}=e,n={serverEntityID:i,providerEntityID:r};if(t&&t.captureBuffer){var s=t.captureBuffer.startedAt;n.captureBufferStartedAt=s}return a?n.mediaItemBeginsAt=a.beginsAt:t&&t.grabOperation&&(n.mediaItemBeginsAt=t.grabOperation.mediaItem.beginsAt),n})}),(function(e,{playerType:t}){return{onConfirm(a){e(Zme(Object.assign({},a,{playerType:t})))},onModalClose(){e(Xme({playerType:t}))}}}))(hve),vve=Object(_u.a)(A8,e=>e?e.friendlyName:null);var gve=function(e){var{isOpen:t,playerName:a,onConfirm:i,onCancel:r}=e;return(Uu()(HH,{isOpen:t,metricsPage:Rd.r,title:Object(Ze.default)("Continue Playback"),message:Object(Ze.default)("Would you like to continue playback on {playerName}?",{playerName:a}),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:i,onCancel:r}))},yve=Ed.a.createElement,{useCallback:fve,useEffect:bve}=Ed.a;var Ive={dispatchCancelLocalToRemote:v9,dispatchConfirmLocalToRemote:y9,dispatchCloseLocalToRemote:g9};var Sve=Object(Fu.b)((function(){return Object(_u.a)(vve,P9("confirmLocalToRemote"),(e,t)=>({playerName:e,confirmLocalToRemote:t}))}),Ive)((function(e){var{playerType:t,confirmLocalToRemote:a,dispatchCancelLocalToRemote:i,dispatchCloseLocalToRemote:r,dispatchConfirmLocalToRemote:n}=e,s=Je()(e,["playerType","confirmLocalToRemote","dispatchCancelLocalToRemote","dispatchCloseLocalToRemote","dispatchConfirmLocalToRemote"]);bve(()=>{3===a&&r({playerType:t})},[a,t,r]);var o=fve(()=>{i({playerType:t})},[t,i]),l=fve(()=>{n({playerType:t})},[t,n]);return yve(gve,tp()({},s,{onCancel:o,onConfirm:l}))})),Mve=Uu()($y,{});var Cve=function(e){var{isOpen:t,viewOffset:a,duration:i,onConfirm:r,onCancel:n}=e,s=(i-a)/1e3,o=s>0;return Uu()(zre,{isOpen:t,metricsPage:Rd.ib,title:Object(Ze.default)("Resume Playback"),onItemSelect:r,onCancel:n},void 0,Uu()(_re,{value:a,autoFocus:!0},void 0,Object(Ze.default)("Resume from {time}",{time:xM(a)}),o?Mve:null,o?Km(s):null),Uu()(_re,{value:0},void 0,Object(Ze.default)("Start from the Beginning")))};var Dve=Object(Fu.b)((function(){return Object(_u.a)((e,{confirmOffsetPayload:t})=>t,qG,(e,t)=>{var a;e&&(a=t[e.metadataItemEntityID]);return a?{viewOffset:a.viewOffset,duration:a.duration}:{}})}),(function(e,{playerType:t,confirmOffsetPayload:a}){return{onConfirm(t){e(Cw.p(Object.assign({},a,{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel(){e(Cw.l({playerType:t}))}}}))(Cve);var Pve=function(e){var{isOpen:t,onConfirm:a,onCancel:i}=e;return(Uu()(HH,{isOpen:t,metricsPage:Rd.v,title:Object(Ze.default)("Play Now"),message:Object(Ze.default)("This will clear changes made to the queue and play the selection instead."),confirmLabel:Object(Ze.default)("Play"),onConfirm:a,onCancel:i}))};var Ove=Object(Fu.b)(null,(function(e,{playerType:t,confirmPlaybackPayload:a}){return{onConfirm(){e(Cw.p(Object.assign({},a,{confirmPlayback:!0})))},onCancel(){e(Cw.f({playerType:t}))}}}))(Pve),jve=Oc.a.shape({metricsContext:Oc.a.oneOf(Object.values(_t)).isRequired,type:Oc.a.oneOf(Object.values(u)).isRequired}),{useCallback:Tve}=Ed.a;function wve(e){var{isOpen:t,metricsPage:a,onDismiss:i,upsellPayload:r,subscribeUrl:n,onSubscribe:s}=e,o=Tve(()=>{i(),s&&s()},[i,s]);return Uu()(xT,{size:jp,isOpen:t,metricsPage:a,onModalClose:i},void 0,Uu()(UL,{onModalClose:i},void 0,r.type===ohe?Uu()(jL,{},void 0,Object(Ze.default)("HDR Conversion")):null,r.type===ohe?Uu()(fL,{},void 0,Uu()("p",{},void 0,Object(Ze.default)("This video needs to be converted for playback and contains High Dynamic Range (HDR) content. Colors will appear distorted on this device.")),Uu()("p",{},void 0,Object(Ze.default)('With a Plex Pass, you can preview the new "HDR tone mapping" feature to correct colors during conversion!'))):null,Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(EL,{context:r.metricsContext,action:kd.t},void 0,Uu()(rT,{onPress:i},void 0,Object(Ze.default)("OK"))),Uu()(EL,{context:r.metricsContext,action:kd.jb},void 0,Uu()(rT,{"data-autofocus":!0,to:n,target:"_blank",kind:Dp,onPress:o},void 0,Object(Ze.default)("Get a Plex Pass")))))))}wve.defaultProps={metricsPage:Rd.D,subscribeUrl:_.join(["https://www.plex.tv","/plex-pass"])};var Eve=wve;var Nve=Object(Fu.b)(null,(function(e,t){var{upsellPayload:a,onDismiss:i}=t;return{onDismiss(){var r=Jc("upsell",a.type);e(sL({id:r})),i&&i(t)}}}))(Eve);Nve.propTypes=Object.assign({},Nve.propTypes,{upsellPayload:jve.isRequired,onDismiss:Oc.a.func});var xve=Nve;var Ave=Object(Fu.b)(null,(function(e,t){var{playerType:a}=t;return{onDismiss(){e(Object(Cw.g)({playerType:a}))}}}))(xve);Ave.propTypes=Object.assign({},Ave.propTypes,{playerType:Oc.a.oneOf([I6.a,I6.b,I6.c]).isRequired});var Lve=Ave;var kve=function(e){var{isOpen:t,onConfirm:a,onCancel:i}=e;return(Uu()(HH,{isOpen:t,metricsPage:Rd.w,title:Object(Ze.default)("Continue Playback"),message:Object(Ze.default)("Would you like to continue playback here?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No"),onConfirm:a,onCancel:i}))};var Rve=Object(Fu.b)(null,(function(e,{playerType:t}){return{onConfirm(){e(m9({playerType:t}))},onCancel(){e(Object(Cw.h)({playerType:t}))}}}))(kve);var zve=function(e){if(null==e)return"";var t=Qm(e),a=24*t.days*60,i=60*t.hours,r=t.minutes+i+a,n=t.seconds;return r&&n?Object(Ze.default)("{1} min {2} sec",r,n):r?Object(Ze.default)("{1} min",r):n>0?Object(Ze.default)("{1} sec",n):""},{Component:Uve}=Ed.a;function Vve(e){var t=Math.floor(Date.now()/1e3);return e.reduce((e,{mediaItem:a})=>{var{beginsAt:i,startOffsetSeconds:r=0}=a,n=i-r;return n>t&&(!e||n<e)?n:e},0)}function Bve(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}var Fve=class extends Uve{constructor(e,t){super(e,t),this._tick=()=>{this.setState({endSeconds:Bve(this.state.endsAt)}),this._setTickTimeout()},this._tickTimeout=null;var a=Vve(e.conflicts);this.state={endsAt:a,endSeconds:Bve(a)}}componentDidMount(){this._setTickTimeout()}componentDidUpdate(e,t){var{conflicts:a,onModalClose:i}=this.props;e.conflicts!==a&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&i({showError:!0})}componentWillUnmount(){this._tickTimeout&&window.clearTimeout(this._tickTimeout)}_setTickTimeout(){this.state.endSeconds&&(this._tickTimeout=window.setTimeout(this._tick,1e3))}_updateEndSeconds(){var e=Vve(this.props.conflicts);this.setState({endsAt:e,endSeconds:Bve(e)})}render(){var{endSeconds:e}=this.state,t=zve(1e3*e);return Uu()("span",{},void 0,Object(Ze.default)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))}},Hve=a("4kAM"),_ve=a.n(Hve);function Qve(e,t,a,i){var r=e===Wt.f?a:t;return i?Object(Ze.default)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:r}):Object(Ze.default)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:r})}var Wve=function(e){var{serverEntityID:t,type:a,title:i,grandparentTitle:r,thumb:n,grandparentThumb:s,isRolling:o,onCancelConflictPress:l}=e;return(Uu()(Vp,{className:_ve.a.conflict,onPress:l},void 0,Uu()(YS,{className:_ve.a.thumbnail,serverEntityID:t,url:n||s,width:53,height:80,component:QI}),Uu()("div",{className:_ve.a.title},void 0,Uu()(oT,{message:Qve(a,i,r,o),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:_ve.a.titleHighlight}]}))))};var Gve=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>({type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb}))}),(function(e,t){var{playerType:a,grabOperationKey:i}=t;return{onCancelConflictPress(){e(nve({playerType:a,grabOperationKey:i}))}}}))(Wve),Yve=a("NRWW"),Kve=a.n(Yve);var qve=function(e){var{serverEntityID:t,hasSubscribeFeature:a,isPlayerOpen:i,playerType:r,isConflictCancelling:n,conflicts:s,error:o,onModalClose:l}=e,c=function(e,t){return e?t?Object(Ze.default)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):Object(Ze.default)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?Object(Ze.default)("Please select from one of the actions below."):Object(Ze.default)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(i,a);return Uu()(UL,{onModalClose:l},void 0,Uu()(jL,{className:Kve.a.modalHeader},void 0,Object(Ze.default)("All Tuners are Currently in Use")),o?Uu()(s_,{kind:Pp,message:Object(Ze.default)("There was an error trying to cancel the selected item, please try again")}):null,Uu()(fL,{innerClassName:Kve.a.innerModalBody},void 0,Uu()("div",{className:Kve.a.message},void 0,c),a?Uu()("div",{className:Kve.a.conflicts},void 0,s.map(e=>Uu()(Gve,{serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:r,isRolling:e.rolling,isPlayerOpen:i},e.key))):null),Uu()(CL,{},void 0,Uu()("div",{className:Kve.a.footerMessage},void 0,i?Uu()(Fve,{conflicts:s,onModalClose:l}):null),Uu()(uU,{},void 0,Uu()(bU,{isSpinning:n,kind:Dp,onPress:l},void 0,i||!a?Object(Ze.default)("OK"):Object(Ze.default)("Cancel")))))};var Zve=function(e){var{isOpen:t,isPlayerOpen:a,playerType:i,serverEntityID:r,hasSubscribeFeature:n,conflicts:s,isConflictCancelling:o,onModalClose:l}=e;return(Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.R,onModalClose:l},void 0,Uu()(qve,{isPlayerOpen:a,playerType:i,serverEntityID:r,hasSubscribeFeature:n,conflicts:s,isConflictCancelling:o,onModalClose:l})))};var Xve=Object(Fu.b)((function(){return Object(_u.a)(D9(),O9(),Dpe(),(e,t,a)=>{var i={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find(({type:e})=>"subscribe"===e),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return a&&(i.conflicts=a.grabOperation.conflicts),i})}),(function(e,t){var{isPlayerOpen:a,playerType:i}=t;return{onModalClose({showError:t=!1}={}){e(a?qme({playerType:i,showError:t}):rve({playerType:i}))}}}))(Zve),Jve=a("m432"),$ve=a.n(Jve),ege=Ed.a.createElement;function tge(e){var{errorCode:t,errorMessage:a,title:i}=e;return"D100"===t?Uu()(oT,{message:Object(Ze.default)("This browser can not play DRM-protected content over an insecure connection. Please try {openLink}https://app.plex.tv{closeLink} instead."),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:"https://app.plex.tv"}]}):"D200"===t?Object(Ze.default)("An error occurred trying to play this item. Please enable DRM support in your browser then try again."):a||(i?Object(Ze.default)('An error occurred trying to play "{title}".',{title:i}):Object(Ze.default)("An error occurred trying to play this item."))}var age=function(e){var{isOpen:t,showSkipButton:a,showRetryButton:i,errorCode:r,errorCategory:n,onSkipPress:s,onRetryPress:o,onModalClose:l}=e;return(Uu()(xT,{isOpen:t,metricsPage:Rd.X,size:jp,onModalClose:l},void 0,Uu()(UL,{onModalClose:l},void 0,Uu()(jL,{className:$ve.a.modalHeader},void 0,Object(Ze.default)("Playback Error")),Uu()(fL,{},void 0,ege(tge,e),null!=r?Uu()("p",{className:$ve.a.errorCode},void 0,Object(Ze.default)("Error code: {errorCode}",{errorCode:r}),n?" ("+n+")":null):null),a||i?Uu()(CL,{},void 0,Uu()(uU,{},void 0,a?Uu()(rT,{onPress:s},void 0,Object(Ze.default)("Skip")):null,i?Uu()(rT,{kind:Dp,onPress:o},void 0,Object(Ze.default)("Retry")):null)):null)))};var ige=Object(Fu.b)((function(){return Object(_u.a)(D9(),wpe(),Ehe(),gpe(),(e,{mediaType:t})=>t,(e,{isRemotePlayer:t})=>t,(e,t,a,i,r,n)=>{var{playQueue:s,repeatAll:o,errorCode:l,errorCategory:c,isWatchTogether:d}=e,u=a&&a.entityID,p=s&&s.currentIndex,h=function(e,t,a,i){if(!e||!t)return a;var r=t&&t.Media[e.mediaIndex],n=r&&r.source?r.source:t.source;if(!n)return a;var s=Object(Bn.a)(n);return jt.k(s.providerIdentifier,jt.f)&&"h4"===i?Object(Ze.default)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):a}(i,t,e.errorMessage,l),m={playQueueItemEntityID:u,showSkipButton:!!s&&(p<s.playQueueItems.length-1||o),showRetryButton:!!s&&r!==tl.c&&!n&&!d,errorMessage:h,errorCode:l,errorCategory:c};return t&&(m.title=t.title),m})}),(function(e,t){var a={playerType:t.playerType};return{onModalClose(){e(Object(Cw.h)(a))},onSkipPress(t){e(Object(_pe.h)(a))},onRetryPress(t){e(Object(bse.r)(a)),e(Phe(a))}}}))(age),{useEffect:rge}=Ed.a;function nge(e,t){return{src:_.join(e,{width:t,height:t,minSize:1}),sizes:t+"x"+t,type:"image/jpeg"}}function sge({metadataItem:e,player:t,transcodeURL:a}){return rge(()=>{var i=(null==e?void 0:e.type)===Wt.h,r=e&&jt.k(Object(Bn.a)(e.source).providerIdentifier,[jt.c,jt.b]),n=!!e&&!i&&!r;window.navigator.mediaSession.playbackState=n?function(e){return(null==e?void 0:e.isPaused)||(null==e?void 0:e.isBuffering)?(null==e?void 0:e.isPaused)?"paused":"none":"playing"}(t):void 0,window.navigator.mediaSession.metadata=n?new window.MediaMetadata({title:e.title,artist:e.originalTitle||e.grandparentTitle,album:e.parentTitle,artwork:a?[nge(a,96),nge(a,128),nge(a,192),nge(a,256),nge(a,512)]:void 0}):null},[e,t,a]),rge(()=>()=>{window.navigator.mediaSession.metadata=null,window.navigator.mediaSession.playbackState="none"},[]),null}sge.propTypes={player:Oc.a.object,metadataItem:Oc.a.object,transcodeURL:Oc.a.string};var oge=Object(Fu.b)((function(){return Object(_u.a)(D9(),wpe(),(e,t)=>({metadataItem:t,player:e,url:t?sie(t.type,t.subtype,t):void 0,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID}))}))(Object(Fu.b)(()=>Object(_u.a)(BS(),e=>({transcodeURL:e})))(({metadataItem:e,player:t,transcodeURL:a,url:i,serverEntityID:r,providerEntityID:n})=>Uu()(sge,{url:i,serverEntityID:r,providerEntityID:n,metadataItem:e,player:t,transcodeURL:a})));var{Component:lge}=Ed.a;function cge(){return Object(_u.a)(e=>e.ui.audioVideoPlayer.openState,e=>e.ui.photoPlayer.openState,e=>e.ui.romPlayer.openState,(e,{playerType:t})=>t,(e,t,a,i)=>function(e){var{playerType:t,audioVideoOpenState:a,photoOpenState:i,romOpenState:r}=e,n=t===I6.a&&!!a,s=t===I6.b&&!!i;if(t===I6.c&&!!r)return!1;var o=0,l=0;return a===J8.b?o+=1:a===J8.a&&(o+=2),i===J8.b?l+=1:i===J8.a&&(l+=2),n&&o>=l||s&&l>o}({audioVideoOpenState:e,photoOpenState:t,romOpenState:a,playerType:i}))}var dge={dispatchPlayPreviousItem:_pe.i,dispatchStepBack:bse.C,dispatchSkipBack:bse.A,dispatchTogglePlayPause:bse.F,dispatchPlay:bse.t,dispatchPause:bse.s,dispatchSkipForward:bse.B,dispatchStepForward:bse.D,dispatchPlayNextItem:_pe.h,dispatchChangeVolume:bse.q,dispatchEndPlayback:Cw.h};var uge=Object(Fu.b)((function(){return Object(_u.a)(cge(),wpe(),Object(_u.a)(vpe(),e=>{var t;if(e){var a=Object(Wt.u)(e.type);t=a&&a.mediaType}return t}),(e,{isAdVisible:t})=>t,Fpe,(e,t,a,i,r)=>{var n=t&&jt.k(Object(Bn.a)(t.source).providerIdentifier,[jt.c,jt.b]),s=t&&Object(Bn.a)(t.source).serverIdentifier===pw.a,o=n&&s;return{allowShortcuts:e,isCurrentMediaTypePausable:!o,isCurrentMediaTypeSkippable:!i&&!n,isCurrentMediaTypeSeekable:!(i||o||a!==tl.a&&a!==tl.e),volume:r}})}),dge)(class extends lge{constructor(e,t){super(e,t),this.onPreviousShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem({playerType:this.props.playerType})},this.onStepBackShortcut=()=>{var e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onSkipBackShortcut=()=>{var e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipBack(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayPreviousItem(e)},this.onPlayPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchTogglePlayPause({playerType:this.props.playerType})},this.onPlayShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPlay({playerType:this.props.playerType})},this.onPauseShortcut=()=>{this.props.isCurrentMediaTypePausable&&this.props.dispatchPause({playerType:this.props.playerType})},this.onSkipForwardShortcut=()=>{var e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchSkipForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onStepForwardShortcut=()=>{var e={playerType:this.props.playerType};this.props.isCurrentMediaTypeSeekable?this.props.dispatchStepForward(e):this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem(e)},this.onNextShortcut=()=>{this.props.isCurrentMediaTypeSkippable&&this.props.dispatchPlayNextItem({playerType:this.props.playerType})},this.onVolumeChange=e=>{this.props.dispatchChangeVolume({volume:e,playerType:this.props.playerType})},this.onVolumeIncrease=()=>{this.onVolumeChange(Math.min(this.props.volume+10,100))},this.onVolumeDecrease=()=>{this.onVolumeChange(Math.max(this.props.volume-10,0))},this.onCloseShortcut=()=>{this.setState({isCloseConfirmModalOpen:!0})},this.onCloseConfirmPress=e=>{this.props.dispatchEndPlayback({playerType:this.props.playerType})},this.onCloseCancelPress=e=>{this.setState({isCloseConfirmModalOpen:!1})},this.onToggleFullscreenShortcut=()=>{this.props.onToggleFullscreenShortcut()},this.state={isCloseConfirmModalOpen:!1}}componentDidMount(){this.props.allowShortcuts&&this._startListening()}componentDidUpdate(e){var{allowShortcuts:t}=this.props;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()}componentWillUnmount(){this.props.allowShortcuts&&this._stopListening()}_startListening(){var{isCurrentMediaTypePausable:e,isCurrentMediaTypeSkippable:t}=this.props;F.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",e?this.onPlayShortcut:null),window.navigator.mediaSession.setActionHandler("pause",e?this.onPauseShortcut:null),window.navigator.mediaSession.setActionHandler("previoustrack",t?this.onPreviousShortcut:null),window.navigator.mediaSession.setActionHandler("nexttrack",t?this.onNextShortcut:null),window.navigator.mediaSession.setActionHandler("stop",this.onCloseShortcut)),H.a.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}_stopListening(){F.a.hasMediaSession&&(window.navigator.mediaSession.setActionHandler("play",null),window.navigator.mediaSession.setActionHandler("pause",null),window.navigator.mediaSession.setActionHandler("previoustrack",null),window.navigator.mediaSession.setActionHandler("nexttrack",null),window.navigator.mediaSession.setActionHandler("stop",null)),H.a.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})}render(){return Uu()(HH,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:Rd.j,title:Object(Ze.default)("Stop Playback"),message:Object(Ze.default)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})}}),{Component:pge}=Ed.a;var hge=Object(Fu.b)((function(){return Object(_u.a)(D9(),wpe(),(e,t)=>t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{})}))(class extends pge{constructor(e,t){super(e,t),this.title=document.title}componentDidMount(){this._updateWindowTitle()}componentDidUpdate(){this._updateWindowTitle()}componentWillUnmount(){document.title=this.title}_updateWindowTitle(){var{type:e,title:t,originalTitle:a,grandparentTitle:i,index:r,parentIndex:n,originallyAvailableAt:s,isPaused:o}=this.props;if(t&&e){var l;if(e===Wt.f)l=i+" - "+Object(ZI.a)({seasonIndex:n,episodeIndex:r,date:s,noLeadingZero:!0,separator:"  "});else if(e===Wt.p){var c=a||i;l=c?c+" - "+t:t}else l=t;o||(l=" "+l),document.title=l}}render(){return null}}),mge=Ed.a.createElement,{Suspense:vge}=Ed.a;function gge(e){var{component:t}=e,a=Je()(e,["component"]);return(Uu()(vge,{fallback:null},void 0,mge(t,tp()({},a,{type:"video",allowRecycleElement:!0}))))}gge.defaultProps={component:qhe};var yge=gge,fge=Vpe(gge);function bge(e){var t=document.getElementById("plex").classList;e?t.add("show-video-player"):t.remove("show-video-player")}a("VSHZ");var Ige=a("1n32"),Sge=a.n(Ige),Mge=Ed.a.createElement,{Component:Cge}=Ed.a,Dge=parseInt(YU.a.playerControlsPosterHeight,10),Pge=parseInt(YU.a.playerControlsLandscapePosterWidth,10),Oge=parseInt(YU.a.playerControlsNarrowBreakpoint,10),jge=parseInt(YU.a.playerControlsPosterLeftGutter,10),Tge=parseInt(YU.a.playerControlsPosterBottomGutter,10),wge=parseInt(YU.a.playerControlsNarrowPosterBottomGutter,10);class Ege extends Cge{static getDerivedStateFromProps(e,t){var a={vast:e.vast,isRemotePlayer:e.isRemotePlayer};return t.vast===a.vast&&t.isRemotePlayer===a.isRemotePlayer||(a.hasRequestedAds=!1,a.ad=null,a.adPositionMilliseconds=0),a}constructor(e,t){super(e,t),this.updateAdState=()=>{var e,{ad:t}=this.state,{isOpen:a,onUpdateCurrentAd:i}=this.props;i&&i(t&&a?{adDisplayIndex:t.displayIndex,adDisplayTotal:t.displayTotal,adDurationSeconds:t.duration,adPositionSeconds:Math.floor(this.state.adPositionMilliseconds/1e3),adState:khe.d,adTimeOffsetSeconds:null!=(e=null==t?void 0:t.timeOffset)?e:null}:{adDisplayIndex:null,adDisplayTotal:null,adDurationSeconds:null,adPositionSeconds:null,adState:null,adTimeOffsetSeconds:null})},this.onAdPositionMillisecondsChange=e=>{this.setState({adPositionMilliseconds:e})},this.onAdChange=e=>{this.setState({ad:e,adPositionMilliseconds:0,hasRequestedAds:!0})},this.onScreenSizeChange=({width:e})=>{var t=e<=Oge;t!==this.state.isNarrowLayout&&this.setState({isNarrowLayout:t})},this.onSeekBarInteractionStart=()=>{this.setState({isSeeking:!0})},this.onSeekBarInteractionEnd=()=>{this.setState({isSeeking:!1})},this.onUpdateBufferedRanges=e=>{var{onUpdateBufferedRanges:t}=this.props;t&&t(e)},this.state={ad:null,adPositionMilliseconds:0,isNarrowLayout:!1,seekEndMilliseconds:0,seekStartMilliseconds:0},this.positionMillisecondsStore=Object(MC.createStore)(Rpe,0)}componentDidMount(){bge(this.props.showBackgroundVideoPlayer)}componentDidUpdate(e,t){if(e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&bge(this.props.showBackgroundVideoPlayer),e.isOpen&&!this.props.isOpen)this.updateAdState();else if(t.ad!==this.state.ad)this.updateAdState();else if(t.ad===this.state.ad&&t.adPositionMilliseconds!==this.state.adPositionMilliseconds){Math.floor(this.state.adPositionMilliseconds/1e3)!==this.props.adPositionSeconds&&this.updateAdState()}}componentWillUnmount(){bge(!1)}render(){var e,t,{adState:a,adPositionSeconds:i,adDurationSeconds:r,playerType:n,isOpen:s,isMiniPlayer:o,isRemotePlayer:l,isPlayQueueLoading:c,isPostPlayVisible:d,isFullscreen:u,isVideo:p,isGame:h,hasError:m,hasConflicts:v,confirmLiveTVPlayback:g,showBackgroundVideoPlayer:y,currentMediaType:f,currentMediaSubtype:b,confirmPlaybackPayload:I,confirmOffsetPayload:S,advertisingNoticePayload:M,confirmRemoteToLocal:C,confirmLocalToRemote:D,confirmPlayerUpsellPayload:P,vast:O,mediaComponent:j,mediaHeight:T,mediaPlacement:w,mediaWidth:E,playerComponent:N,bufferedRanges:x,machineIdentifier:A,providerIdentifier:L,gameInputDevices:k,gamePlatformTag:R,gamePreventDefault:z,onToggleFullscreen:U}=this.props,{ad:V,adPositionMilliseconds:B,hasRequestedAds:H,seekStartMilliseconds:_,seekEndMilliseconds:Q,isNarrowLayout:W,isSeeking:G}=this.state;if(!s)return m?Uu()(ige,{isOpen:!0,isRemotePlayer:l,mediaType:f,playerType:n}):v?Uu()(Xve,{isOpen:!0,isPlayerOpen:s,playerType:n}):g?Uu()(mve,{isOpen:!0,isPlayerOpen:s,playerType:n}):null;var Y=(p||h)&&o?{edgeGutterX:jge,edgeGutterY:W?wge:Tge,height:Dge,placement:Rhe.a,width:Pge}:{height:T,placement:w,width:E},K=a===khe.d,q=!!O&&!H,Z=null!=(e=null==(t=x[x.length-1])?void 0:t.endSeconds)?e:0;return Uu()(Ev,{machineIdentifier:A,providerIdentifier:L},void 0,Uu()(Fu.a,{store:this.positionMillisecondsStore,context:Ape},void 0,Uu()(ET,{page:Rd.W},void 0,Uu()("div",{className:((o?Sge.a.miniPlayerContainer:Sge.a.fullPlayerContainer)||"")+" "+(!y&&!o&&Sge.a.fullPlayerContainerBackground||"")},void 0,I?Uu()(Ove,{isOpen:!0,playerType:n,confirmPlaybackPayload:I}):null,P?Uu()(Lve,{isOpen:!0,playerType:n,upsellPayload:P}):null,M?Uu()(Nme,{isOpen:!0,playerType:n,advertisingNoticePayload:M}):null,S?Uu()(Dve,{isOpen:!0,playerType:n,confirmOffsetPayload:S}):null,C?Uu()(Rve,{isOpen:!0,playerType:n}):null,1!==D?Uu()(Sve,{isOpen:!0,playerType:n}):null,m?Uu()(ige,{isOpen:!0,isRemotePlayer:l,mediaType:f,playerType:n}):null,v?Uu()(Xve,{isOpen:!0,isPlayerOpen:s,playerType:n}):null,q||d||c||l&&1===D||C?null:Mge(j,tp()({},Y,{gameInputDevices:k,gamePlatformTag:R,gamePreventDefault:z,playerType:n,mediaType:f,mediaSubtype:b,isNarrowLayout:W,isStackedAbove:o,isAdVisible:K,onBufferChange:this.onUpdateBufferedRanges})),!O||l||C||m?null:Mge(yge,tp()({},Y,{ad:V,playerType:n,isMiniPlayer:o,isFullscreen:u,isIdle:!!G,component:Object(ie.c)("adPlayerComponent").getComponent(),isStackedAbove:o,isNarrowLayout:W,positionSeconds:Math.round(B/1e3),url:O.url,statusOverlayClassName:Sge.a.adPlayerDisplayIndexContainer,onAdChange:this.onAdChange,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange})),Mge(N,tp()({},this.props,Y,{ad:V,isAdVisible:K,isNarrowLayout:W,seekStartMilliseconds:_,seekEndMilliseconds:Q,bufferStartMilliseconds:0,bufferEndMilliseconds:1e3*Z,adPositionMilliseconds:l?1e3*i:B,adDurationMilliseconds:1e3*r,onSeekBarInteractionStart:this.onSeekBarInteractionStart,onSeekBarInteractionEnd:this.onSeekBarInteractionEnd})),Uu()(uge,{isAdVisible:K,playerType:n,onToggleFullscreenShortcut:U}),F.a.hasMediaSession?Uu()(oge,{playerType:n}):null,Uu()(hge,{playerType:n}),Uu()(vme,{playerType:n,isRemotePlayer:l,isAdVisible:K}),Uu()(yme,{playerType:n}),Uu()(Ime,{onScreenSizeChange:this.onScreenSizeChange})))))}}Ege.defaultProps={bufferedRanges:[],confirmLiveTVPlayback:!1,isGame:!1,isMusic:!1,isPhoto:!1,isVideo:!1,isLiveTV:!1};var Nge=Ege;Oc.a.shape({click:Oc.a.func,clicksThrough:Oc.a.bool,displayIndex:Oc.a.number.isRequired,displayTotal:Oc.a.number.isRequired,duration:Oc.a.number.isRequired,height:Oc.a.number.isRequired,mimeType:Oc.a.string.isRequired,url:Oc.a.object,width:Oc.a.number.isRequired});function xge(e){return e?e.type+":"+e.startTimeOffset+":"+e.endTimeOffset:void 0}var Age="north",Lge="northeast",kge="east",Rge="southeast",zge="south",Uge="southwest",Vge="west",Bge="northwest",Fge="center",Hge="absolute",_ge="relative";var Qge=Object(Fu.b)((function(){return Object(_u.a)(BS(),e=>({url:e}))}))(AS),Wge="small",Gge="medium",Yge="large",{useCallback:Kge,useEffect:qge,useState:Zge}=(Oc.a.shape({duration:Oc.a.number,gravity:Oc.a.oneOf(Object.values(p)).isRequired,key:Oc.a.string.isRequired,size:Oc.a.oneOf(Object.values(m)).isRequired,startTimeOffset:Oc.a.number.isRequired,startTimeOffsetType:Oc.a.oneOf(Object.values(h)).isRequired}),Ed.a),Xge=Math.max(256,144),Jge={maxWidth:256/1920*100+"vw",maxHeight:144/1080*100+"vh"},$ge={maxWidth:"10vw",maxHeight:"10vh"},eye={maxWidth:128/1920*100+"vw",maxHeight:72/1080*100+"vh"},tye=({className:e,src:t,style:a})=>Uu()("img",{className:e,src:t,style:a}),aye=({className:e,providerEntityID:t,overlay:a,serverEntityID:i})=>{var r,n=Zge(),s=n[1],o=n[0];switch(a.size){case"large":r=Jge;break;case"medium":r=$ge;break;case"small":default:r=eye}var l=Kge(()=>{s(new Error("Unable to load overlay"))},[]);return qge(()=>{s(void 0)},[a]),o?null:Uu()(Qge,{component:tye,className:e,serverEntityID:i,providerEntityID:t,url:a.key,width:Xge,height:Xge,style:r,format:"png",onError:l})},iye=a("KEW7"),rye=a.n(iye),{useEffect:nye,useMemo:sye,useState:oye}=Ed.a;var lye=({itemPlaybackTime:e,liveTVMediaItem:t,liveTVSession:a,mediaHeight:i,mediaWidth:r,playQueueMediaItem:n,positionSeconds:s,providerEntityID:o,serverEntityID:l})=>{var c,d,u,[h,m]=(c=oye([window.innerWidth,window.innerHeight]),d=c[1],u=c[0],nye(()=>{function e(){d([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),u),v=sye(()=>{var i,r,o=Math.floor(e/1e3),l=-1;return a&&t?(r=t,l=a.currentPosition-t.beginsAt):n&&(r=n,l=s),(null==(i=r)?void 0:i.Overlay)?function(e,t){var{secondsSinceMediaItemAiringBegan:a,secondsSinceMediaItemPlaybackBegan:i}=t;return e.reduce((e,t)=>{var r=t.startTimeOffset/1e3,n=r+(null==t.duration?Number.POSITIVE_INFINITY:t.duration/1e3),s=!1;return t.startTimeOffsetType===Hge?s=i>=r&&i<n:t.startTimeOffsetType===_ge&&(s=a>=r&&a<n),s&&(e.has(t.gravity)?e.get(t.gravity).push(t):e.set(t.gravity,[t])),e},new Map)}(r.Overlay,{secondsSinceMediaItemAiringBegan:l,secondsSinceMediaItemPlaybackBegan:o}):void 0},[e,a,t,n,s]);if(!(null==v?void 0:v.size)||!i||!r)return null;var g=Math.min(h/r,m/i);return(Uu()("div",{className:rye.a.outerContainer},void 0,Uu()("div",{className:rye.a.innerContainer,style:{width:r*g/h*100+"vw",height:i*g/m*100+"vh"}},void 0,Object.values(p).map(e=>{var t,a=null==v?void 0:null==(t=v.get(e))?void 0:t.map((e,t)=>Uu()(aye,{className:rye.a.overlay,overlay:e,providerEntityID:o,serverEntityID:l},t));return a?Uu()("div",{className:rye.a[e]},e,a):null}))))};var cye=Object(Fu.b)((function(){return Object(_u.a)(whe(),Tpe(),Dpe(),Jhe(["mediaHeight","mediaWidth","itemPlaybackTime","positionSeconds","providerEntityID","serverEntityID"]),(e,t,a,i)=>Object.assign({},i,{liveTVMediaItem:t,liveTVSession:a,playQueueMediaItem:e}))}))(lye),dye=Ed.a.createElement;var uye=function(e){var t=Object(_u.a)(e=>e,e=>({positionMilliseconds:e}));function a(t){var{positionSeconds:a,positionMilliseconds:i}=t,r=Je()(t,["positionSeconds","positionMilliseconds"]),n=i;null!=a&&(Math.abs(a-Math.floor(i/1e3))>1&&(n=1e3*a));return(dye(e,tp()({positionSeconds:a,positionMilliseconds:n},r)))}return a.displayName="WithPositionMilliseconds("+gf(e)+")",a.WrappedComponent=e,Object(Fu.b)(t,null,null,{context:Ape})(a)},pye=a("NwiP"),hye=a.n(pye),mye={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};mye.settings=[{value:mye.TINY,title:"Tiny"},{value:mye.SMALL,title:"Small"},{value:mye.NORMAL,title:"Normal"},{value:mye.LARGE,title:"Large"},{value:mye.HUGE,title:"Huge"}],mye.ALL=[mye.TINY,mye.SMALL,mye.NORMAL,mye.LARGE,mye.HUGE];var vye=mye;var gye=a("W2rq"),yye=a.n(gye),{Component:fye}=Ed.a;class bye extends fye{constructor(e,t){super(e,t),this._loadSubtitles=()=>{this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID));var{subtitlesUrl:e,positionMilliseconds:t,decisionUseSidecarSrtSubtitles:a}=this.props;this._positionAtTimeOfRequest=t,Object(O.a)("[Subtitles] loading subtitles. position: %s url: %s",this._positionAtTimeOfRequest,e),this._abortStream(),this._xhr=new window.XMLHttpRequest;var i=new hye.a.parser.XhrStream(this._xhr),r=a?new hye.a.parser.SrtStreamParser(i).ass:new hye.a.parser.StreamParser(i).minimalASS;this._openSubtitlesConnection(),r.then(this.onSubtitlesLoad,this.onSubtitlesFail)},this._getPosition=()=>{var{positionMilliseconds:e,offset:t}=this.props,a=(e+t)/1e3;if(a%1e3){var i=this._clock.currentTime;if(Math.floor(i)===a)return i}return a},this.onMeasure=({width:e,height:t})=>{this.setState({width:e,height:t})},this.onSubtitlesLoad=e=>{if(!this._isMounted)return!1;Object(O.a)("[Subtitles] Starting to render subtitles"),this._destroySubtitles(),this._clock=new hye.a.renderers.AutoClock(this._getPosition,1e3),this._renderer=new hye.a.renderers.WebRenderer(e,this._clock,document.getElementById(this._rendererID),this.props.rendererOptions),this._setSubtitleSize(),this._rerenderSubtitles(),this._setClockState(),this._formatTimeoutID=window.setTimeout(()=>{this._setSubtitleColor(),this._setSubtitlePosition(),this._rerenderSubtitles()},0)},this.onSubtitlesConnectionTimeout=()=>{Object(O.a)("[Subtitles] Connection inactivity timeout, reopening."),this._openSubtitlesConnection()},this.onSubtitlesFail=()=>{if(!this._isMounted)return!1;var e=this._xhr.readyState,t=this._xhr.status;this._errorCount++,O.a.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,this._errorCount,this._xhr.errorString||""),this._errorCount>this.props.consecutiveErrorsTolerance?this.props.onSubtitlesError():this._loadTimeoutID=window.setTimeout(this._loadSubtitles,this.props.retryTimeout)},hye.a.debugMode=!1,this.state={width:0,height:0},this._rendererID=Mp(),this._loadTimeoutID=null,this._connectionTimeoutID=null,this._errorCount=0,this._positionAtTimeOfRequest=null,this._isMounted=!1}componentDidMount(){this._isMounted=!0,this.props.subtitlesUrl&&this._loadSubtitles()}componentDidUpdate(e,t){var{isOpen:a,isBuffering:i,isPaused:r,hasError:n,heightOffset:s,rendererOptions:o,offset:l,color:c,position:d,size:u,sizeMultiplier:p,subtitlesUrl:h}=this.props,{width:m,height:v}=this.state;if(this._shouldResetStream(e)||o!==e.rendererOptions||h!==e.subtitlesUrl)this._loadSubtitles();else{var g=c!==e.color,y=d!==e.position,f=u!==e.size||p!==e.sizeMultiplier;g&&this._setSubtitleColor(),y&&this._setSubtitlePosition(),f&&this._setSubtitleSize(),(g||y||f||m!==t.width||v!==t.height||s!==e.heightOffset)&&this._rerenderSubtitles(),a===e.isOpen&&i===e.isBuffering&&r===e.isPaused&&n===e.hasError||this._setClockState(),l!==e.offset&&this._setPosition()}}componentWillUnmount(){Object(O.a)("[Subtitles] Closing"),this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._connectionTimeoutID&&(this._connectionTimeoutID=window.clearTimeout(this._connectionTimeoutID)),this._formatTimeoutID&&(this._formatTimeoutID=window.clearTimeout(this._formatTimeoutID)),this._isMounted=!1,this._destroySubtitles(),this._abortStream()}_openSubtitlesConnection(){var{subtitlesUrl:e,isDirectPlay:t,positionSeconds:a,connectionTimeout:i}=this.props;this._abortStream(),this._xhr.onreadystatechange=e=>{4===e.currentTarget.readyState&&(e.currentTarget.status>=200&&e.currentTarget.status<300?this._errorCount=0:this.onSubtitlesFail())},i&&(this._xhr.onprogress=e=>{Object(O.a)("[Subtitles] Received data, restarting connection timer."),window.clearTimeout(this._connectionTimeoutID),this._connectionTimeoutID=window.setTimeout(this.onSubtitlesConnectionTimeout,i)});var r=e;if(t){var n=Object(_.parseUrl)(e);n.params.offset=a,r=Object(_.join)([n.origin,n.pathname],n.params)}this._xhr.open("GET",r,!0),this._xhr.send()}_destroySubtitles(){this._loadTimeoutID&&(this._loadTimeout=window.clearTimeout(this._loadTimeoutID)),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);for(var e=document.getElementById(this._rendererID);e.hasChildNodes();)e.removeChild(e.lastChild)}_abortStream(){this._xhr&&(Object(O.a)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())}_setSubtitleColor(){var{color:e}=this.props;if(this._renderer){var t,a=(t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e))?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null,i=this._renderer.ass.styles.get("Default");a?i?(Object(O.a)("[Subtitles] Setting subtitle color to %s",e),i._primaryColor=new hye.a.parts.Color(a.red,a.green,a.blue,1),i._outlineColor=e===Ic.BLACK?new hye.a.parts.Color(255,255,255,1):new hye.a.parts.Color(0,0,0,1)):O.a.warn("[Subtitles] Unable to set subtitle color, no default style"):O.a.warn("[Subtitles] Unable to set subtitle color, invalid color")}}_setSubtitlePosition(){var{position:e}=this.props;if(this._renderer){var t=this._renderer.ass.styles.get("Default"),a=2;e===Mc.MIDDLE?a=5:e===Mc.TOP&&(a=8),t?(Object(O.a)("[Subtitles] Setting subtitle position to %s",e),t._alignment=a):O.a.warn("[Subtitles] Unable to set subtitle position, no default style")}}_setSubtitleSize(){var{size:e,sizeMultiplier:t}=this.props;if(this._renderer){var a,i,r=this._renderer.ass.properties,n=e*t/100;this.state.originalResolutionX&&this.state.originalResolutionY?(a=this.state.originalResolutionX,i=this.state.originalResolutionY):(a=r.resolutionX,i=r.resolutionY,this.setState({originalResolutionX:a,originalResolutionY:i})),r.resolutionX=a/n,r.resolutionY=i/n}}_rerenderSubtitles(){if(this._renderer){var{width:e,height:t}=this.state;Object(O.a)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(e,t-this.props.heightOffset)}}_setPosition(){var e=this._clock;if(e&&e._manualClock){var{positionMilliseconds:t,offset:a}=this.props;e._manualClock._currentTime=(t+a)/1e3}}_setClockState(){var e=this._clock;if(e){var{isOpen:t,isBuffering:a,isPaused:i,hasError:r}=this.props;return a||i?(Object(O.a)("[Subtitles] Clock State: paused"),void e.pause()):!t||r?(Object(O.a)("[Subtitles] Clock State: disabled"),void e.disable()):i?void 0:(Object(O.a)("[Subtitles] Clock State: playing"),void e.play())}}_shouldResetStream(e){var{isOpen:t,isMediaLoading:a,isBuffering:i,isPaused:r,hasError:n,positionMilliseconds:s,lastSeekPositionSeconds:o,decisionUseSidecarSrtSubtitles:l}=this.props;if(l)return!1;var c=this._positionAtTimeOfRequest,d=s-e.positionMilliseconds,u=d>0&&t&&!a&&!i&&!r&&!n;return null!=o&&o!==e.lastSeekPositionSeconds?(this._resetAfterSeekStarted=!0,this._resetLater=!1,!1):this._resetAfterSeekStarted?!(!u||!(1e3*o<s))&&(this._resetAfterSeekStarted=!1,!0):u&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||d>1e4||s<c)&&(this._resetLater=!u,u)}render(){return Uu()(p$,{className:yye.a.measure,onMeasure:this.onMeasure},void 0,Uu()("div",{id:this._rendererID,className:yye.a.renderer,role:"alert"}))}}bye.defaultProps={offset:0,color:Ic.WHITE,position:Mc.BOTTOM,size:vye.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};var Iye=bye,Sye=Ed.a.createElement,{Component:Mye}=Ed.a;var Cye={dispatchMakeDecision:Mhe,dispatchRemoveDecision:Dhe,dispatchShowAlert:ji.d};var Dye=uye(class extends Mye{constructor(e,t){super(e,t),this.onSubtitlesError=()=>{var{playQueueItemEntityID:e,playerType:t,positionMilliseconds:a,qualityIndex:i,decisionMediaIndex:r,decisionPartIndex:n,decisionUseSidecarSrtSubtitles:s,dispatchMakeDecision:o,dispatchRemoveDecision:l}=this.props;s?this.setState({hasSidecarSrtFailed:!0}):(l({playerType:t,playQueueItemEntityID:e}),o({playerType:t,playQueueItemEntityID:e,qualityIndex:i,mediaIndex:r,partIndex:n,options:{offset:a,subtitlesBurnLevel:Dc.ALWAYS}}))},this.state={hasSidecarSrtFailed:!1}}componentDidUpdate(e,t){var{hasSidecarSrtFailed:a}=this.state;a&&a!==t.hasSidecarSrtFailed&&(O.a.error("[Subtitles] Unrecoverable error processing",this.props.subtitlesUrl),this.props.dispatchShowAlert({type:"error",message:Object(Ze.default)("There was an unexpected subtitles error")}))}render(){var e=this.props,{subtitlesUrl:t}=e,a=Je()(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]);return!t||this.state.hasSidecarSrtFailed?null:Sye(Iye,tp()({subtitlesUrl:t},a,{onSubtitlesError:this.onSubtitlesError}))}}),Pye=Object(Fu.b)((function(){return Object(_u.a)(Jhe(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),gpe(),vpe(),Nhe(),Object(ie.c)("selectSubtitleSettings"),(e,t,a,i,r)=>{var n=a.entityID,s=Object.assign({},e,r,{playQueueItemEntityID:n});return t&&(s.decisionMediaIndex=t.mediaIndex,s.decisionPartIndex=t.partIndex,s.decisionUseSidecarSrtSubtitles=t.useSidecarSrtSubtitles,s.subtitlesUrl=t.subtitlesUrl,s.isDirectPlay=t.isDirectPlay),i.selectedSubtitlesStream&&(s.offset=i.selectedSubtitlesStream.offset),s})}),Cye)(Dye),{useCallback:Oye,useMemo:jye,useState:Tye}=(Oc.a.shape({endTimeOffset:Oc.a.number.isRequired,startTimeOffset:Oc.a.number.isRequired,type:Oc.a.oneOf(Object.values(d)).isRequired}),Oc.a.oneOf([I6.a,I6.b]).isRequired,Ed.a);function wye(){var e=Tye(!1),t=e[1],a=e[0],i=Oye(()=>t(!0),[]),r=Oye(()=>t(!1),[]),n=Oye(()=>t(!a),[a]);return jye(()=>({isOpen:a,onOpen:i,onClose:r,onToggle:n}),[a,r,i,n])}var Eye=Ed.a.createElement,{useCallback:Nye,useEffect:xye,useRef:Aye,useState:Lye}=Ed.a;function kye(e){e.nativeEvent.stopImmediatePropagation()}var Rye=mg(Dg.a.defaultSpeed),zye=ag.b.div({enter:{opacity:1,duration:Rye},exit:{opacity:0,duration:Rye}});var Uye=function(e){var{isHidden:t,isHiddenPolite:a,marker:i,positionSeconds:r,onPress:n}=e,s=Je()(e,["isHidden","isHiddenPolite","marker","positionSeconds","onPress"]),o=xge(i),l=Lye(0),c=l[1],d=l[0],{isOpen:u,onOpen:p,onClose:h}=wye(),m=Aye(),v=Nye(e=>{kye(e),c(r),n(Math.round(i.endTimeOffset/1e3))},[i,r,n]);return xye(()=>{var e=1e3*r,n=!i,s=e<(null==i?void 0:i.startTimeOffset),o=e>=(null==i?void 0:i.endTimeOffset),l=d>0,c=(null==i?void 0:i.endTimeOffset)-e<500,u=a&&m.current&&r>=m.current;t||n||s||o||u||l&&c?h():a&&!m.current?m.current=r+10:n||s||o||p()},[i,t,a,d,r,p,h]),xye(()=>()=>{m.current=0,c(0)},[o]),Uu()(ag.a,{flipMove:!1},void 0,u&&o?Uu()(zye,{},o,Eye(rT,tp()({},s,{autoFocus:"autofocus",onKeyDown:kye,onKeyUp:kye,onTouchEnd:kye,onTouchStart:kye,onPress:v}),function(e){switch(e.type){case ype:return Object(Ze.default)("Skip Ads");case fpe:return Object(Ze.default)("Skip Intro");case bpe:return Object(Ze.default)("Skip Outro");case Ipe:return Object(Ze.default)("Skip Recaps")}}(i))):null)},Vye=Ed.a.createElement;var Bye=Object(Fu.b)((function(){return Object(_u.c)({positionSeconds:P9("positionSeconds")})}),(function(e,{playerType:t}){return{onPress(a){e(bse.w({playerType:t,positionSeconds:a}))}}}))((function(e){var t=Je()(e,["playerType"]);return(Vye(Uye,t))}));var Fye=function(){return Object(_u.a)(P9("positionSeconds"),wpe(),(e,t)=>t&&t.chapters?t.chapters.findIndex(t=>Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e):-1)},Hye=a("75i5"),_ye=a("gxMp"),Qye=a.n(_ye);function Wye({children:e,className:t}){return Uu()("div",{className:t,"data-qa-id":"hubTitle"},void 0,e)}Wye.defaultProps={className:Qye.a.hubCellTitle};var Gye=Wye,Yye=a("hsww"),Kye=a.n(Yye);function qye(e){var{title:t,attribution:a,route:i,sourceTitle:r}=e;return(Uu()(Gye,{className:Kye.a.title},void 0,a?Uu()(nS,{className:Kye.a.attribution,attribution:a}):null,i?Uu()(Vp,{to:i},void 0,t):t,r?Uu()($y,{className:Kye.a.titleSeparator}):null,r?Uu()("span",{className:Kye.a.sourceTitle},void 0,r):null))}var Zye=a("Yx3T"),Xye=a.n(Zye),Jye=Ed.a.createElement;function $ye(e){var{isMonochrome:t,isRemovable:a,tooltip:i}=e,r=Je()(e,["isMonochrome","isRemovable","tooltip"]),n=i||(a?Object(Ze.default)("Remove"):Object(Ze.default)("Add"));return Jye(zb,tp()({},r,{component:KG,hideOnPress:!1,iconComponent:sA,iconClassName:a?Xye.a.iconRemovable:Xye.a.icon,kind:a&&!t?Pp:Cp,ariaLabel:n,tooltip:n}))}$ye.defaultProps={className:Xye.a.button};var efe=$ye,tfe=a("Rhig"),afe=a.n(tfe),{Component:ife}=Ed.a;class rfe extends ife{constructor(e,t){super(e,t),this.onPress=()=>{var{isHomeHub:e,shouldConfirmHomeHubRemoval:t,onToggleHomeHub:a}=this.props;e&&t?this.setState({isRemoveConfirmModalOpen:!0}):a()},this.onRemoveHomeHubConfirm=()=>{this.setState({isRemoveConfirmModalOpen:!1},this.props.onToggleHomeHub)},this.onRemoveHomeHubCancel=()=>{this.setState({isRemoveConfirmModalOpen:!1})},this.onFocus=e=>{this.setState({isFocused:!0})},this.onBlur=e=>{this.setState({isFocused:!1})},this.onMouseEnter=e=>{this.setState({isEntered:!0})},this.onMouseLeave=e=>{this.setState({isEntered:!1})},this.state={isEntered:!1,isFocused:!1,isRemoveConfirmModalOpen:!1}}render(){var{allowHomeHubIndicator:e,className:t,isHomeHub:a,isVisible:i,shouldConfirmHomeHubRemoval:r}=this.props,{isEntered:n,isFocused:s,isRemoveConfirmModalOpen:o}=this.state,l=a&&e,c=n||s;return Uu()("div",{className:(t||"")+" "+((i||c?afe.a.isVisible:afe.a.isHidden)||"")},void 0,l?Uu()(wde,{className:(afe.a.icon||"")+" "+((l&&!c?afe.a.isVisible:afe.a.isHidden)||"")}):null,Uu()(efe,{className:(afe.a.button||"")+" "+((!l||c?afe.a.isVisible:afe.a.isHidden)||""),isMonochrome:!0,isRemovable:a,tooltip:a?Object(Ze.default)("Remove from Plex Home"):Object(Ze.default)("Add to Plex Home"),onPress:this.onPress,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),r?Uu()(HH,{isOpen:o,metricsPage:"",title:Object(Ze.default)("Remove From Home"),message:Object(Ze.default)("Please confirm you'd like to remove this content from your home screen. You can add it back later if you change your mind."),onConfirm:this.onRemoveHomeHubConfirm,onCancel:this.onRemoveHomeHubCancel}):null)}}rfe.defaultProps={className:afe.a.container,shouldConfirmHomeHubRemoval:!1};var nfe=rfe,sfe=Object(_u.a)(Wu,e=>e.hubs);function ofe(){return Object(_u.a)((e,{hubEntityID:t})=>t,sfe,(e,t)=>t[e])}var lfe=Sv(Nv.a,({homeSettings:e})=>e);function cfe(){return Object(_u.a)(lfe,GS,_S,ofe(),(e,t,a,i)=>{if(i&&a&&t&&e.hubs){var r=function(e,t,a){var{hubIdentifier:i}=e,{identifier:r}=t,{machineIdentifier:n}=a;return HT({hubIdentifier:i,identifier:r,machineIdentifier:n})}(i,a,t);return e.hubs.find(e=>e.id===r)}})}function dfe(){return Object(_u.a)(cfe(),e=>!!e)}var ufe=/^(?:(?:[a-zA-Z]+)(?:\.)?)+(?:\.[0-9]+){2}$/;var pfe=Ed.a.createElement,{Component:hfe}=Ed.a;var mfe={dispatchAddHomeHubs:WA,dispatchRemoveHomeHubs:GA};var vfe=Object(Fu.b)((function(){return Object(_u.a)((e,{directoryKey:t})=>t,(e,{homeHubID:t})=>t,ofe(),dfe(),(e,t,a,i)=>{var r,n=!!a&&"directory"!==a.type;return t?{isHomeHub:!0,canAddHomeHub:!1,canRemoveHomeHub:!0}:{isHomeHub:i,canAddHomeHub:(r=a.hubIdentifier,!ufe.test(r)&&n&&!i&&!!e),canRemoveHomeHub:n&&i}})}),mfe)(class extends hfe{constructor(...e){super(...e),this.onAddHomeHub=()=>{var{dispatchAddHomeHubs:e,directoryKey:t,hubEntityID:a}=this.props;e({isUserInitiated:!0,hubs:[{directoryKey:t,entityID:a}]})},this.onRemoveHomeHub=()=>{var{dispatchRemoveHomeHubs:e,homeHubID:t,hubEntityID:a}=this.props,i=[];t?i.push({homeHubID:t}):a&&i.push({entityID:a}),e({isUserInitiated:!0,hubs:i})},this.onToggleHomeHub=()=>{var{canAddHomeHub:e,canRemoveHomeHub:t}=this.props;t?this.onRemoveHomeHub():e&&this.onAddHomeHub()}}render(){var e=this.props,{canAddHomeHub:t,canRemoveHomeHub:a,component:i,isHomeHub:r}=e,n=Je()(e,["canAddHomeHub","canRemoveHomeHub","component","directoryKey","dispatchAddHomeHubs","dispatchRemoveHomeHubs","hubEntityID","isHomeHub"]);return t||a?pfe(i,tp()({},n,{isHomeHub:r,onAddHomeHub:this.onAddHomeHub,onRemoveHomeHub:this.onRemoveHomeHub,onToggleHomeHub:this.onToggleHomeHub})):null}}),gfe=a("O+qT"),yfe=a.n(gfe),ffe=Ed.a.createElement,{Component:bfe}=Ed.a;class Ife extends bfe{constructor(e,t){super(e,t),this.onMouseEnter=e=>{this.setState({hasMouseEntered:!0})},this.onMouseLeave=e=>{this.setState({hasMouseEntered:!1})},this.state={hasMouseEntered:!1}}render(){var e=this.props,{allowPersistentHomeHubStatus:t,allowToggleHomeHub:a,children:i,className:r,isHomeHub:n}=e,s=Je()(e,["allowPersistentHomeHubStatus","allowToggleHomeHub","children","className","isHomeHub"]),{hasMouseEntered:o}=this.state;return Uu()("div",{className:r,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,a?ffe(vfe,tp()({},s,{component:nfe,isHomeHub:n,isVisible:o||t&&n})):null,i)}}Ife.defaultProps={className:yfe.a.hubCellHeader};var Sfe=Ife,Mfe=a("6XcZ"),Cfe=a.n(Mfe),Dfe=Ed.a.createElement,{Component:Pfe}=Ed.a;class Ofe extends Pfe{static getDerivedStateFromProps(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null}constructor(e,t){super(e,t),this.onListUpdate=e=>{var{visibleStartIndex:t,visibleEndIndex:a,renderEndIndex:i,listStyle:r}=e,{onListReady:n}=this.props,s=this._isReady?void 0:n;this._isReady=!0,this._visibleStartIndex=t,this._visibleEndIndex=a,this._pageSize=this._visibleEndIndex-this._visibleStartIndex;var o=t>0,l=i>a;this.setState({showActions:o||l,enablePrevious:o,enableNext:l,listHeight:r.height},s)},this.onListScrollIndexChange=e=>{this._setScrollIndex(e)},this.onPreviousPress=()=>{this._setScrollIndex(this._visibleStartIndex-this._pageSize-1)},this.onNextPress=()=>{this._setScrollIndex(this._visibleEndIndex+1)},this.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:this.props.scrollIndex||0},this._isReady=!1,this._listRef=Ed.a.createRef()}componentDidMount(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size||1}),this.props.more||this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){this._isReady||!e.isPending||this.props.isPending||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())}_setScrollIndex(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})}render(){var{className:e,serverEntityID:t,providerEntityID:a,hubEntityID:i,directoryKey:r,allowHomeHubIndicator:n,allowPersistentHomeHubStatus:s,allowToggleHomeHub:o,hubIdentifier:l,isHomeHub:c,title:d,style:u,sourceTitle:p,attribution:h,route:m,scrollDirection:v,size:g,more:y,random:f,totalSize:b,keyPropName:I,itemsOffset:S,items:M,layout:C,cellRenderer:D,resizeTimeout:P,shouldConfirmHomeHubRemoval:O,onPageRequest:j}=this.props,{showActions:T,enablePrevious:w,enableNext:E,listHeight:N}=this.state;if(!g&&!b)return null;var x=f?g:b||(y?g+1:g),A={visibility:"auto"===N?"hidden":"visible"},L={height:N,overflow:"hidden"},k=u!==Hye.c;return Uu()("div",{className:e,style:A,"data-qa-id":"hub--"+l},void 0,k?Uu()(Sfe,{allowHomeHubIndicator:n,allowPersistentHomeHubStatus:s,allowToggleHomeHub:o,className:Cfe.a.hubCellHeader,directoryKey:r,hubEntityID:i,isHomeHub:c,providerEntityID:a,serverEntityID:t,shouldConfirmHomeHubRemoval:O},void 0,Uu()(qye,{title:d,attribution:h,route:m,sourceTitle:p}),T?Uu()("div",{className:Cfe.a.hubActions},void 0,Uu()(KG,{className:Cfe.a.hubScrollButton,"data-qa-id":"hubPreviousButton",iconComponent:oO,isDisabled:!w,title:Object(Ze.default)("Previous Page"),onPress:this.onPreviousPress}),Uu()(KG,{className:Cfe.a.hubScrollButton,"data-qa-id":"hubNextButton",iconComponent:rO,isDisabled:!E,title:Object(Ze.default)("Next Page"),onPress:this.onNextPress})):null):null,Uu()("div",{style:L},void 0,Dfe(M$,{scrollerClassName:Cfe.a.hubScroller,ignoreHeight:!0,keyPropName:I,items:M,itemsOffset:S,scrollDirection:v,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,x),layout:C,cellRenderer:D,resizeTimeout:P,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:j})))}}Ofe.defaultProps={className:Cfe.a.hubCell,shouldCenterScrollIndex:!1,scrollDirection:"horizontal"};var jfe=Ofe,Tfe=a("cFG9"),wfe=a.n(Tfe),{Component:Efe}=Ed.a,Nfe=parseInt(YU.a.playerControlsHeight,10);class xfe extends Efe{constructor(...e){super(...e),this.onMeasure=e=>{this.props.onDimensionsChange&&this.props.onDimensionsChange(e)}}render(){var{className:e,bottom:t,children:a}=this.props;return(Uu()(p$,{className:e,style:{bottom:t},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,a))}}xfe.defaultProps={className:wfe.a.container,bottom:Nfe};var Afe=xfe;function Lfe(e){var{cellWidth:t,aspectRatio:a,titleHeight:i=0}=e;return Math.floor(t/a+i)}function kfe(e,t){var{innerViewportWidth:a,innerHorizontalPadding:i=0}=t;return Math.floor((a+i)/e)-i}function Rfe(e){var{innerViewportWidth:t,innerHorizontalPadding:a=0,preferredCellWidth:i,minCellWidth:r,minColumns:n=1,maxColumns:s=1/0,columnAdjustment:o=0}=e,l=Math.round((t+a)/(i+a));l+=o;var c=kfe(l=Math.max(Math.min(l,s),n),e);return c<r&&(c=l===n?r:kfe(l-1,e)),c}var zfe=jM(Wt.j,null,wc),Ufe=2*(parseInt(YU.a.posterTitleHeight,10)+parseInt(YU.a.posterTitlePadding,10));function Vfe(e){return e-Ufe}var Bfe=a("u7G/"),Ffe=a.n(Bfe),{memo:Hfe,useCallback:_fe}=Ed.a;var Qfe=Hfe((function(e){var{serverEntityID:t,index:a,thumb:i,tag:r,isActive:n,startTimeOffset:s,cellWidth:o,cellHeight:l,onSeekTo:c}=e,d=N$(e),u=_fe(()=>{var e=Math.round(s/1e3);c(e)},[s,c]),p=a;return Uu()("div",{style:d.style},void 0,Uu()(Vp,{className:(Ffe.a.thumbWrapper||"")+" "+(n&&Ffe.a.isActive||""),onPress:u},void 0,Uu()(YS,{serverEntityID:t,url:i,backgroundSize:"contain",width:o,height:Vfe(l),component:QI},p)),Uu()("div",{className:Ffe.a.titleContainer},void 0,Uu()("div",{className:Ffe.a.title},void 0,function(e,t){return t||Object(Ze.default)("Chapter {index}",{index:e})}(a,r)),Uu()("div",{className:Ffe.a.secondaryTitle},void 0,xM(s))))})),Wfe=Ed.a.createElement;function Gfe(e,t){return function(a){return Wfe(t,tp()({},e,a))}}var Yfe=a("7DXn"),Kfe=a.n(Yfe),{Component:qfe}=Ed.a,Zfe=D$({direction:"horizontal",rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:e=>Rfe(Object.assign({},e,{minCellWidth:135,preferredCellWidth:180,minColumns:2,maxColumns:11,aspectRatio:zfe})),getCellHeight:e=>Lfe(Object.assign({},e,{aspectRatio:zfe,titleHeight:Ufe}))});var Xfe=class extends qfe{static getDerivedStateFromProps(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null}constructor(e,t){super(e,t),this.onHubCellScrollIndexChange=e=>{this.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},this.state={scrollIndex:this.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:this.props.activeChapterIndex}}render(){var{serverEntityID:e,bottom:t,activeChapterIndex:a,chapters:i,onSeekTo:r}=this.props;return(Uu()(Afe,{className:Kfe.a.container,bottom:t},void 0,Uu()(jfe,{hubIdentifier:"chapters",title:Object(Ze.default)("Chapter selection"),size:i.length,keyPropName:"index",items:i.map((e,t)=>Object.assign({},e,{isActive:t===a})),layout:Zfe,cellRenderer:Gfe({serverEntityID:e,onSeekTo:r},Qfe),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange})))}};var Jfe=Object(Fu.b)((function(){return Object(_u.a)(D9(),Spe(),Fye(),(e,t,a)=>({serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:a}))}),(function(e,{playerType:t}){return{onSeekTo(a){e(bse.w({playerType:t,positionSeconds:a}))}}}))(Xfe),$fe=Object.assign({},nt.a,{getPaginatedUrl(e){var t=this.get("beginsAt"),a=this.get("endsAt");if(null!=t||null!=a){var i={"endsAt>":t,"beginsAt<":a};return _.join(e,i)}return e},fetchRange(e){var t=Object.assign({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange(e=0){var t=this.get("populatedRange"),a=t.start,i=t.end;return this.set({beginsAt:a,endsAt:i}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange(){var e,t,a=this.get("beginsAt"),i=this.get("endsAt"),r=this.get("populatedRange"),n=r.start,s=r.end;this.getCollection().length?n?(e=Math.min(n,null==a?1/0:a),t=Math.max(s,null==i?-1/0:i)):(e=a||n,t=i||s):(e=0,t=0),this.set("populatedRange",{start:e,end:t,size:t-e}),this.set("isPopulated",t-e>0)}}),ebe=Qi.default.extend({mixins:[$fe],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:Ae.a.boolean,containerKey:Ae.a.string,entityKey:Ae.a.string,containerTitle:Ae.a.string,beginsAt:Ae.a.integer,endsAt:Ae.a.integer,populatedRange:Ae.a.object,isPending:Ae.a.boolean,isPopulated:Ae.a.boolean,error:Ae.a.object},defaults:()=>({isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null})}),tbe=xe.a.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Ae.a.integer,filter:Ae.a.string,tag:Ae.a.string,tagType:Ae.a.integer,tagValue:Ae.a.integer,thumb:Ae.a.string,channelCallSign:Ae.a.string,channelIdentifier:Ae.a.string}}),abe=ke.a.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:tbe,cache:new bo,url(){var e={type:this.type};return _.join([this.provider.get("identifier"),"tags"],e)}}),ibe={CHANNEL:310},rbe=Object(Pa.a)("ui/channelGridPage/initChannelsGridPage"),nbe=Object(Pa.a)("ui/channelGridPage/initMetadataList"),sbe=Object(Pa.a)("ui/channelGridPage/setStartTime"),obe=Object(Pa.a)("ui/channelGridPage/resetStartTime"),lbe=Object(Pa.a)("ui/channelGridPage/navigateTimeForward"),cbe=Object(Pa.a)("ui/channelGridPage/navigateTimeBack"),dbe=Object(Pa.a)("ui/channelGridPage/setViewportSize"),ube=Object(Pa.a)("ui/channelGridPage/updateAiredProgress"),pbe=Object(Pa.a)("ui/channelGridPage/populateChannelPrograms"),hbe=Object(Pa.a)("ui/channelGridPage/repopulateChannelPrograms"),mbe=Object(Pa.a)("ui/channelGridPage/populateChannelsList"),vbe=Object(Pa.a)("ui/channelGridPage/fetchChannelsList");function gbe(e){return e.get("ui").get("channelGridPage")}function ybe(e,t){for(var a=1800*Math.floor(e/1800),i=[],r=0;r<=t;r++)i.push(a+1800*r);return i}var fbe=uk({"ui/channelGridPage/initChannelsGridPage"(e,t,a){var i=gbe(e),{serverEntityID:r,providerEntityID:n,directoryKey:s}=t,o=Object(Ta.m)(e,{serverEntityID:r}),l=Object(Ta.j)(e,{providerEntityID:n}),c={serverEntityID:r,providerEntityID:n,directoryKey:s,channelsList:new abe(null,{server:o,provider:l,type:ibe.CHANNEL})};i.set(c),a(obe())},"ui/channelGridPage/initMetadataList"(e,t,a){var{containerKey:i,serverEntityID:r,providerEntityID:n}=t,s=gbe(e),o=Object(Ta.m)(e,{serverEntityID:r}),l=Object(Ta.j)(e,{providerEntityID:n}),c=s.get("metadataList");s.get("containerKey")===i&&(null==c?void 0:c.server.get("machineIdentifier"))===o.get("machineIdentifier")&&(null==c?void 0:c.provider.get("identifier"))===l.get("identifier")||s.set({containerKey:i,metadataList:new ebe({containerKey:i},{server:o,provider:l})})},"ui/channelGridPage/resetStartTime"(e,t,a){var i=Math.floor(Date.now()/1e3);a(sbe(i))},"ui/channelGridPage/setStartTime"(e,t,a){var i=gbe(e),r=i.get("visibleColumns"),n=ybe(t,r);Object(wa.a)(()=>{i.set({startTime:t,columnTimes:n})})},"ui/channelGridPage/navigateTimeForward"(e,t,a){var i=gbe(e).get("columnTimes")[0]+1800;a(sbe(i))},"ui/channelGridPage/navigateTimeBack"(e,t,a){var i=gbe(e).get("columnTimes")[0]-1800;i+1800>Math.floor(Date.now()/1e3)-10800&&a(sbe(i))},"ui/channelGridPage/setViewportSize"(e,t={},a){var{width:i=1,height:r=1,overflowWidth:n=0,channelWidth:s=1,channelTitleWidth:o=0}=t,l=gbe(e),c=Math.floor(i+n),d=Math.max(Math.floor((i-o)/s),1)+1,u=Math.floor((c-o)/d),p=ybe(l.get("startTime"),d);Object(wa.a)(()=>{l.set({visibleColumns:d,columnTimes:p,columnWidth:u,viewportWidth:c,viewportHeight:Math.floor(r)})})},"ui/channelGridPage/updateAiredProgress"(e){var t=gbe(e),a=t.get("columnTimes"),i=a[0],r=a[a.length-1]-i,n=Math.floor(Date.now()/1e3),s=Math.min(100,Math.max(0,(n-i)/r*100));Object(wa.a)(()=>{t.set({airedProgress:s})})},"ui/channelGridPage/populateChannelPrograms"(e){var t=gbe(e),a=t.get("metadataList"),i=t.get("columnTimes"),r=t.get("viewportWidth");a&&r>0&&(a.set({isPending:!0,error:null}),a.populateRange({start:i[0],end:i[i.length-1],reloadThreshold:43200}).then(()=>{a.set({isPending:!1,isPopulated:!0,error:null})},(e,t)=>{t.aborting||a.set({isPending:!1,error:Object(vw.a)(t)})}))},"ui/channelGridPage/repopulateChannelPrograms"(e){var t=gbe(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then(()=>{t.set({isPending:!1,isPopulated:!0,error:null})},(e,a)=>{a.aborting||t.set({isPending:!1,error:Object(vw.a)(a)})})},[ji.a](e,t,a){if(!t.metadataItemEntityID&&!t.containerKeyPattern){var i=Object(Ta.m)(e,t),r=gbe(e),n=r.get("metadataList"),s=r.get("channelsList");s&&n&&s.server===i&&n.server===i&&(a(hbe()),a(vbe()))}},"ui/channelGridPage/populateChannelsList":Object(ja.a)({key:"channelsList",fetchActionCreator:vbe,getModel:gbe}),"ui/channelGridPage/fetchChannelsList":Object(Oa.a)({key:"channelsList",getModel:gbe})});function bbe(e){return Object(_u.a)(kS(),t=>{if(t)return D.a.findWhere(t.features,{type:e})})}var Ibe=bbe.bind(null,Ot.d);function Sbe(e,{type:t,filters:a,sort:i,limit:r}){var n=_.join(e),s={};return t&&(s.type=t),i&&(s.sort=i),r&&(s.limit=r),_.join(function(e,t){var a=rte(t,!0);if(!a)return e;var i=e.indexOf("?"),r=e.length;return(e+=i>-1?i<r-1?"&":"":"?")+a}(n,a),s,{parseParams:!0})}function Mbe(){return Object(_u.a)((e,{activeFilters:t})=>t,kS(),Ibe(),(e=[],t,a)=>t?Sbe(a?a.key:"/"+t.identifier+"/grid",{type:[Object(Wt.u)(Wt.j).id,Object(Wt.u)(Wt.f).id].join(","),filters:e.reduce((e,t)=>("hdonly"===t.key?e.push(Object.assign({},t,{key:"channel.value"})):e.push(t),e),[]),sort:"beginsAt"}):null)}var Cbe=function(){return Object(_u.a)(vne(),qG,(e,t)=>e&&e.metadataItems?e.metadataItems.map(e=>t[e]):[])},Dbe=a("rymg"),Pbe=a.n(Dbe);var Obe=function(e){var{title:t}=e;return(Uu()("div",{className:Pbe.a.heading},void 0,t))},jbe=a("yd35"),Tbe=a.n(jbe);var wbe=function(e){var{children:t}=e;return(Uu()("div",{className:Tbe.a.headingContainer},void 0,t,Uu()("div",{className:Tbe.a.divider})))},Ebe=a("Da6A"),Nbe=a("IYaI"),xbe=a("dLU1"),Abe=a("zbbA"),Lbe={days:WT.a,hours:Ebe.a,minutes:Nbe.a,months:xbe.a,seconds:wj.a,weeks:Yy.a,years:Abe.a};function kbe(e,t={}){var a=Object(Xc.a)(e);for(var i in t)a=Lbe[i](a,t[i]);return Object(zy.a)(a)}function Rbe(e,t={}){return null!=e&&kbe(Object(zy.a)(new Date),t)<=e}function zbe(e,t={}){return null!=e&&kbe(Object(zy.a)(new Date),t)>=e}var Ube={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function Vbe(e){if("now"===e)return{};var t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){var[,a,i]=t;if(a&&i)return{[Ube[i]]:parseInt(a,10)}}else{var r=parseInt(e,10);if(D.a.isNumber(r))return r}return{}}function Bbe(e,t){return!(!D.a.isObject(t)||!Rbe(e,t))||e>=t}function Fbe(e,t){return!(!D.a.isObject(t)||!zbe(e,t))||e<=t}function Hbe(){return Object(_u.a)((e,{containerKey:t})=>t,ZG(),(e,t)=>{if(t&&t.Media){for(var a=function(e){if(e){var[,t]=e.split("?");return t?Se.a.parseQueryString(t):void 0}}(e),i=D.a.sortBy(t.Media,"endsAt"),r=Date.now()/1e3,n=0,s=i.length;n<s;n++){var o=i[n];if(a){var l=a["beginsAt>"],c=a["beginsAt<"],d=a["endsAt>"],u=a["endsAt<"];if(l){var p=Vbe(l);if(Fbe(o.beginsAt,p))continue}if(c){var h=Vbe(c);if(Bbe(o.beginsAt,h))continue}if(d){var m=Vbe(d);if(Fbe(o.endsAt,m))continue}if(u){var v=Vbe(u);if(Bbe(o.endsAt,v))continue}}if(o.endsAt>r)return o}return D.a.first(i)}})}var _be=Object(_u.a)(Nv.a,e=>e.timeFormat),Qbe=a("3g9J");var Wbe=function(e,t,a={}){var{includeMinuteZero:i=!0,timeFormat:r="h:mma",separator:n="-"}=a,s=Object(Xc.a)(e),o=Object(Xc.a)(t),l=Object(Ky.a)(s,"a")===Object(Ky.a)(o,"a"),c=Object(Qbe.a)(s),d=Object(Qbe.a)(o),u=r,p=r;return i||0!==c||(u=u.replace("h:mm","h")),l&&(u=u.replace("a","")),i||0!==d||(p=p.replace("h:mm","h")),""+Object(Ky.a)(s,u)+n+Object(Ky.a)(o,p)},Gbe=a("w9Qn"),Ybe=a.n(Gbe),Kbe=Ed.a.createElement;var qbe=function(e){var{className:t,component:a,isSecondary:i,isDoubleLine:r,isSplitLine:n}=e,s=Je()(e,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return(Kbe(a,tp()({className:(t||"")+" "+((r?Ybe.a.doubleLineTitle:Ybe.a.singleLineTitle)||"")+" "+(i&&Ybe.a.isSecondary||"")+" "+(n&&Ybe.a.isSplitLine||"")},s)))};var Zbe=function(e){var{className:t,tabIndex:a,route:i,tag:r}=e;return r?i?Uu()(Vp,{"data-qa-id":"castTitle",className:t,tabIndex:a,title:r,to:i},void 0,r):Uu()("span",{className:t,title:r},void 0,r):null};var Xbe=function({className:e,role:t}){return Uu()("span",{className:e,title:t},void 0,t)};var Jbe=function(e){var{className:t,sourceTitle:a}=e;return a?Uu()("span",{className:t},void 0,Object(Ze.default)("from {sourceTitle}",{sourceTitle:a})):null};var $be=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,die,cie,(e,t,a,i)=>e&&a&&e.machineIdentifier!==a.machineIdentifier?{sourceTitle:a.sourceTitle||a.friendlyName}:{})}))(Jbe),eIe=a("sB/z"),tIe=a.n(eIe);var aIe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>({attributionLogo:e.attributionLogo}))}))((function(e){var{attributionLogo:t,className:a}=e;return t?Uu()("span",{className:a},void 0,Uu()("img",{className:tIe.a.img,src:t})):null}));var iIe=function({className:e,addedAt:t}){return Uu()(nle,{className:e,timestamp:t})};var rIe=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>({addedAt:e.addedAt}))}))(iIe);var nIe=Object(Fu.b)((function(){return Object(_u.a)((e,{metricsContext:t})=>t,die,cie,ZG(),(e,t,a,i={})=>{var{addedAt:r,grandparentTitle:n,grandparentKey:s}=i,o={};return e&&(o.context=e),{addedAt:r,title:n,route:lu(t,a,s,o)}})}))(sle);function sIe(){return Object(_u.a)(ZG(),Hbe(),(e,t)=>{if(e&&t)return D.a.findWhere(e.Channel,{id:t.channelID})})}var oIe=a("TpeJ"),lIe=a("GobQ");var cIe=function(e,{abbreviate:t=!1}={}){if(null==e)return"";var a=Object(lIe.a)(Object(Xc.a)(e));return t?function(e){return[Object(Ze.default)("Sun"),Object(Ze.default)("Mon"),Object(Ze.default)("Tue"),Object(Ze.default)("Wed"),Object(Ze.default)("Thu"),Object(Ze.default)("Fri"),Object(Ze.default)("Sat")][e]}(a):function(e){return[Object(Ze.default)("Sunday"),Object(Ze.default)("Monday"),Object(Ze.default)("Tuesday"),Object(Ze.default)("Wednesday"),Object(Ze.default)("Thursday"),Object(Ze.default)("Friday"),Object(Ze.default)("Saturday")][e]}(a)},dIe=a("cHAT");var uIe=function(e,{abbreviate:t=!1}={}){if(!e)return"";var a=Object(dIe.a)(Object(Xc.a)(e));return t?function(e){return[Object(Ze.default)("Jan"),Object(Ze.default)("Feb"),Object(Ze.default)("Mar"),Object(Ze.default)("Apr"),Object(Ze.default)("May"),Object(Ze.default)("Jun"),Object(Ze.default)("Jul"),Object(Ze.default)("Aug"),Object(Ze.default)("Sep"),Object(Ze.default)("Oct"),Object(Ze.default)("Nov"),Object(Ze.default)("Dec")][e]}(a):function(e){return[Object(Ze.default)("January"),Object(Ze.default)("February"),Object(Ze.default)("March"),Object(Ze.default)("April"),Object(Ze.default)("May"),Object(Ze.default)("June"),Object(Ze.default)("July"),Object(Ze.default)("August"),Object(Ze.default)("September"),Object(Ze.default)("October"),Object(Ze.default)("November"),Object(Ze.default)("December")][e]}(a)},pIe=a("1DoD"),hIe=a("JO1+");function mIe(e){if(null==e)return!1;var t=Object(Xc.a)(e);return Object(hIe.a)(Date.now(),t)}function vIe(e){if(null==e)return!1;var t=Object(Xc.a)(e);return Object(ef.a)(t,Object(WT.a)(new Date,1))}var gIe=a("08aW");function yIe(e){return!(null==e||!tf(e))&&Object(gIe.a)(Object(Xc.a)(e))>16}function fIe(e){if(null==e)return!1;var t=Object(Xc.a)(e);return Object(ef.a)(Object(Uy.a)(new Date,1),t)}function bIe(e,t,{timeFormat:a="h:mma"}={}){if(null==e)return"";var i,r=Object(pIe.default)(e,a);return i=fIe(e)?Object(Ze.default)("Yesterday"):tf(e)?yIe(e)?Object(Ze.default)("Tonight"):Object(Ze.default)("Today"):vIe(e)?Object(Ze.default)("Tomorrow"):mIe(e)?cIe(e):Object(Ze.default)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:cIe(e,{abbreviate:!0}),monthAbbreviated:uIe(e,{abbreviate:!0}),dayNumber:Object(oIe.a)(Object(Xc.a)(e))}),t?Object(Ze.default)("{1} at {2} on {3}",i,r,t):Object(Ze.default)("{1} at {2}",i,r)}function IIe(e,t,{timeFormat:a="h:mma"}={}){if(null==e)return"";var i=Object(Xc.a)(e);if(fIe(e))return Object(Ze.default)("Yesterday");0===Object(Qbe.a)(i)&&(a=a.replace("h:mm","h"));var r,n=Object(pIe.default)(e,a);return r=tf(e)?yIe(e)?Object(Ze.default)("Tonight"):Object(Ze.default)("Today"):vIe(e)?Object(Ze.default)("Tomorrow"):mIe(e)?Object(pIe.default)(e,"EEEE"):Object(pIe.default)(e,"MMM d"),t?Object(Ze.default)("{1} at {2} on {3}",r,n,t):Object(Ze.default)("{1} at {2}",r,n)}function SIe(e,t){if(null==e||null==t)return!1;var a=Object(zy.a)(new Date);return a>=e&&a<=t}var MIe=a("M6j/"),CIe=a.n(MIe),{Component:DIe}=Ed.a;function PIe({beginsAt:e,endsAt:t,channel:a,showChannel:i,showFullTime:r,timeFormat:n}){if(!e)return Object(Ze.default)("No upcoming airings");if(SIe(e,t)){var s=t-Date.now()/1e3;return s<=60?Object(Ze.default)("About to end"):Km(s)}if(Rbe(e)&&zbe(e,{minutes:60})){var o=1e3*e-Date.now();if(o<=6e4)return i&&a?Object(Ze.default)("Starting now on {channel}",{channel:a}):Object(Ze.default)("Starting now");var l=Ym(o);return i&&a?Object(Ze.default)("Starting in {duration} on {channel}",{duration:l,channel:a}):Object(Ze.default)("Starting in {duration}",{duration:l})}return(r?bIe:IIe)(e,i&&a,{timeFormat:n})}class OIe extends DIe{constructor(e,t){super(e,t),this.onTickTimeout=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentDidMount(){this.setTickTimeout()}componentWillReceiveProps(e){var t=this.getState(e);t.title!==this.state.title&&this.setState(t)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState(e){return{title:PIe(e)}}setTickTimeout(){this.tickTimeout=window.setTimeout(this.onTickTimeout,6e4-Date.now()%6e4)}render(){var{className:e,beginsAt:t,endsAt:a,channel:i,showChannel:r}=this.props,{title:n}=this.state,s=r&&!!i&&SIe(t,a);return Uu()("span",{className:e},void 0,s?Uu()("span",{},void 0,Object(Ze.default)("Now on {channel}",{channel:i}),Uu()($y,{className:CIe.a.separator}),n):n)}}OIe.defaultProps={showFullTime:!1,showChannel:!1};var jIe=OIe;var TIe,wIe,EIe=Object(Fu.b)((function(){return Object(_u.a)(_be,Hbe(),sIe(),(e,t,a)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:a&&a.tag,timeFormat:e}))}))(jIe);function NIe(e,t=window.location.hash){var a=function(e){if(TIe===e)return wIe;var t=e.split("?"),a=t.length>1?t[1]:void 0,i=a?_.parseParams(a):{};return TIe=e,wIe={url:t[0],params:i}}(t),i={type:void 0,typeKey:e.typeKey,filters:rte(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1};return i.customFilter||(i.playlistID=void 0,i.playlistTitle=void 0),_.join(a.url,Object.assign({},a.params,i))}function xIe(){return Object(_u.a)((e,{containerKey:t})=>t,(e,{containerTitle:t})=>t,(e,{metricsContext:t})=>t,ZG(),die,cie,Object(_u.a)(ZG(),e=>{if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==Wt.k&&e.type!==Wt.d)return e.type===Wt.p&&e.subtype!==OM.c?e.skipParent?e.grandparentKey:e.parentKey:e.key}),(e,t,a,i={},r,n,s)=>{if(i.isFolder){var o=e.match(/(.*?)\/folder/)[1],l={key:o+"/all",typeKey:o+"/folder",folderKey:s,folderTitle:i.title,parentFolderKey:e,parentFolderTitle:t};return a&&(l.context=a),NIe(l)}var c={};return a&&(c.context=a),i.type===Wt.l&&(c.legacy=1),lu(r,n,s,c,i.playlistType)})}var AIe=xG((function(){return Object(_u.a)(ZG(),xIe(),(e={},t)=>({title:e.title,route:t}))}))(Joe),LIe=a("eRZe"),kIe=a.n(LIe),RIe=Ed.a.createElement;var zIe=function(e){var{className:t,attribution:a}=e,i=Je()(e,["className","attribution"]);return(Uu()("span",{className:t},void 0,Uu()("div",{className:kIe.a.container},void 0,Uu()(nS,{className:kIe.a.badge,attribution:a}),RIe(AIe,tp()({className:kIe.a.title},i)))))};var UIe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({attribution:e.attribution}))}))(zIe),VIe=a("eR/B"),BIe=a.n(VIe);var FIe=function({className:e,attribution:t,year:a}){return Uu()("span",{className:e},void 0,Uu()("div",{className:BIe.a.container},void 0,Uu()(nS,{className:BIe.a.badge,attribution:t}),Uu()(jle,{year:a,className:BIe.a.title})))};var HIe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({attribution:e.attribution,year:e.year}))}))(FIe);var _Ie=function(e){var{className:t,beginsAt:a,endsAt:i,timeFormat:r}=e,n=Wbe(a,i,{includeMinuteZero:!1,timeFormat:r});return Uu()("span",{className:t},void 0,n)};var QIe=Object(Fu.b)((function(){return Object(_u.a)(_be,Tpe(),(e,t)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e}))}))(_Ie);var WIe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({leafCount:e.leafCount}))}))(Sle),GIe=a("/Tr7"),YIe=a("80CU");var KIe=function(e){var t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=Object(YIe.a)(t)),e.useLongName?Object(Ze.default)("Episode {episodeNumber}",{episodeNumber:t}):Object(Ze.default)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return Object(Ky.a)(Object(GIe.a)(e.date),e.dateFormat);if(e.date){var a=Object(GIe.a)(e.date);return Object(Ze.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:Object(dIe.a)(a)+1,dayNumber:Object(oIe.a)(a),shortYear:Object(Ky.a)(a,"yy")})}return""};function qIe({className:e,index:t,longName:a,originallyAvailableAt:i}){var r=KIe({useLongName:a,episodeIndex:t,date:i,noLeadingZero:!0});return(Uu()("span",{className:e},void 0,r))}qIe.defaultProps={longName:!0};var ZIe=qIe;var XIe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({index:e.index,originallyAvailableAt:e.originallyAvailableAt}))}))(ZIe);var JIe=function(e){var t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=Object(YIe.a)(t)),e.useLongName?Object(Ze.default)("Season {seasonNumber}",{seasonNumber:t}):Object(Ze.default)("S{seasonNumber}",{seasonNumber:t}))},$Ie=Uu()($y,{separator:""}),eSe=Uu()($y,{separator:""});var tSe=function(e){var{className:t,tabIndex:a,title:i,index:r,route:n,parentTitle:s,parentIndex:o,parentRoute:l,originallyAvailableAt:c}=e,d=JIe({seasonIndex:o,noLeadingZero:!0}),u=KIe({episodeIndex:r,date:c,noLeadingZero:!0});return n&&l?Uu()("span",{className:t},void 0,r>0&&d?Uu()(Vp,{tabIndex:a,title:s,to:l},void 0,d):null,r>0&&d?eSe:null,Uu()(Vp,{tabIndex:a,title:i,to:n},void 0,u)):Uu()("span",{className:t},void 0,r>0&&d?Uu()("span",{},void 0,d):null,r>0&&d?$Ie:null,Uu()("span",{},void 0,u))},aSe=Uu()($y,{});var iSe=function({className:e,tabIndex:t,title:a,index:i,route:r,parentTitle:n,parentIndex:s,parentRoute:o,originallyAvailableAt:l}){return Uu()("span",{className:e},void 0,Uu()(tSe,{tabIndex:t,title:a,index:i,route:r,parentTitle:n,parentIndex:s,parentRoute:o,originallyAvailableAt:l}),a?aSe:null,a?Uu()(Joe,{tabIndex:t,title:a,route:r}):null)};var rSe=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,GS,_S,ZG(),(e,t,a,i={})=>{var r={};e&&(r.context=e);var n=i.skipParent&&i.subtype===OM.d;return{title:i.title,index:i.index,route:lu(t,a,i.key,r),parentTitle:i.parentTitle,parentIndex:n?null:i.parentIndex,parentRoute:i.skipParent?null:lu(t,a,i.parentKey,r),originallyAvailableAt:i.originallyAvailableAt}})}))(iSe),nSe=Object(Kx.a)(["id","typeString"],[{id:1,typeString:"trailer",title:()=>Object(Ze.default)("Trailer")},{id:2,typeString:"deletedScene",title:()=>Object(Ze.default)("Deleted Scene")},{id:3,typeString:"interview",title:()=>Object(Ze.default)("Interview")},{id:4,typeString:"musicVideo",title:()=>Object(Ze.default)("Music Video")},{id:5,typeString:"behindTheScenes",title:()=>Object(Ze.default)("Behind the Scenes")},{id:6,typeString:"scene",title:()=>Object(Ze.default)("Scene")},{id:7,typeString:"liveMusicVideo",title:()=>Object(Ze.default)("Live Music Video")},{id:8,typeString:"lyricMusicVideo",title:()=>Object(Ze.default)("Lyric Music Video")},{id:9,typeString:"concert",title:()=>Object(Ze.default)("Concert")},{id:10,typeString:"featurette",title:()=>Object(Ze.default)("Featurette")},{id:11,typeString:"short",title:()=>Object(Ze.default)("Short")},{id:12,typeString:"other",title:()=>Object(Ze.default)("Other")}]);var sSe=function({className:e,extraType:t}){var a=nSe.get(t);return(Uu()("span",{className:e},void 0,a?a.title:""))};var oSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({extraType:e.extraType}))}))(sSe);var lSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),xIe(),(e={},t)=>({title:e.title,route:t}))}))(Joe);lSe.isDoubleLine=!0;var cSe=lSe;var dSe=function({className:e,duration:t,viewOffset:a}){var i;if(t&&a){var r=(t-a)/1e3;r>0&&(i=Km(r))}return(Uu()("span",{className:e},void 0,i))};var uSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset}))}))(dSe);var pSe=function({className:e,duration:t}){return t?Uu()("span",{className:e},void 0,Ym(t)):null};var hSe=function(e){var{className:t,playlistType:a,duration:i,leafCount:r}=e;return a===X8.b?Uu()(ble,{className:t,leafCount:r}):Uu()(pSe,{className:t,duration:i})};var mSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount}))}))(hSe);var vSe=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,GS,_S,ZG(),(e,t,a,i={})=>{var r={};e&&(r.context=e);var n=i.skipParent&&i.subtype===OM.d;return{title:i.title,index:i.index,route:lu(t,a,i.key,r),parentTitle:i.parentTitle,parentIndex:n?null:i.parentIndex,parentRoute:i.skipParent?null:lu(t,a,i.parentKey,r),originallyAvailableAt:i.originallyAvailableAt}})}))(tSe);var gSe=function({className:e,topics:t}){return t&&t.length?Uu()("span",{className:e},void 0,t[0].tag):null};var ySe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>({topics:e&&e.Topic}))}))(gSe);function fSe(){return Object(_u.a)(HG(),ZG(),(e,t)=>{if(t)return _G(e,t.librarySectionID)})}function bSe(e,t){return e.isCloud?t.sourceTitle?t.title+" "+t.sourceTitle:t.title:e.friendlyName}var ISe=function(e){var{className:t,server:a,provider:i,sourceDirectory:r}=e;if(!a.friendlyName&&!a.isCloud)return null;var n=a.isCloud&&!r?void 0:Jt(a,i,r,jt.k(i.identifier,jt.d)?{key:"/hubs",pageType:xt}:void 0);return(Uu()("span",{className:t},void 0,a.isCloud&&!i.sourceTitle?Object(Ze.default)("on")+" ":null,n?Uu()(Vp,{title:a.friendlyName,to:n},void 0,bSe(a,i)):bSe(a,i)))};var SSe=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),(e,t,a)=>({server:e,provider:t,sourceDirectory:a}))}))(ISe);var MSe=function(e){var{className:t,server:a,provider:i,sourceDirectory:r,id:n,tag:s,filter:o,tagType:l}=e,{typeString:c}=Z7.get(l),d=X7(a,i,r,{filters:o||c+"="+n,filterLabel:s});return Uu()(Vp,{"data-qa-id":"searchTagTitle",className:t,title:s,to:d},void 0,s)},CSe=Ed.a.createElement;var DSe=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,Gee(),(e,t,a={})=>{var i=D.a.pick(a.tagItem,"id","tag","tagType","librarySectionType","librarySectionID");return Object.assign({server:e,provider:t,sourceDirectory:Yee(t,a.tagItem.librarySectionID)},i)})}))((function(e){return CSe(MSe,e)})),PSe=a("r/An");var OSe=function(e){var{className:t,type:a,bitrate:i}=e,r=a===tl.a?Object(PSe.a)(i):Object(Are.default)(i);return Uu()("span",{className:t},void 0,r)};var jSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>{var t=Object(Wt.u)(e.type),a=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:a&&a.bitrate}})}))(OSe);function TSe(e){if(!e)return"";var t=e.indexOf("/");return-1!==t?e.substr(t+1):e}var wSe=function({className:e,contentRating:t}){return Uu()("span",{className:e},void 0,TSe(t))};var ESe=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>({contentRating:e.contentRating}))}))(wSe),NSe=a("uceU"),xSe=a.n(NSe),ASe=Ed.a.createElement,LSe=/^imdb:\/\//,kSe=/^rottentomatoes:\/\//,RSe=/^themoviedb:\/\//,zSe={imdb:function({rating:e,audienceRating:t}){var a=t||e;return(Uu()("div",{className:xSe.a.rating,title:Object(Ze.default)("IMDb Rating")},void 0,Uu()("div",{className:xSe.a.imdb}),a.toFixed(1)))},rt:function({rating:e,ratingImage:t,audienceRating:a,audienceRatingImage:i}){var r=t&&t.substr(t.lastIndexOf(".")+1),n=a&&i&&i.substr(i.lastIndexOf(".")+1),s={certified:Object(Ze.default)("Certified Fresh"),ripe:Object(Ze.default)("Fresh"),rotten:Object(Ze.default)("Rotten"),spilled:Object(Ze.default)("Audience Rating"),upright:Object(Ze.default)("Audience Rating")};return Uu()("div",{className:xSe.a.rt},void 0,r?Uu()("div",{className:xSe.a.rating},void 0,Uu()("div",{className:xSe.a[r],title:s[r]}),Math.round(10*e)+"%"):null,n?Uu()("div",{className:xSe.a.rating},void 0,Uu()("div",{className:xSe.a[n],title:s[n]}),Math.round(10*a)+"%"):null)},tmdb:function({rating:e,audienceRating:t}){var a=t||e;return(Uu()("div",{className:xSe.a.rating,title:Object(Ze.default)("TMDB Rating")},void 0,Uu()("div",{className:xSe.a.tmdb}),Math.round(10*a)+"%"))},other:function({rating:e}){return Uu()("div",{className:xSe.a.rating},void 0,Uu()("div",{className:xSe.a.other,title:Object(Ze.default)("Rating")}),Math.round(10*e)+"%")}};var USe=function(e){var t=function({rating:e,ratingImage:t,audienceRating:a,audienceRatingImage:i}){return e||a?e&&LSe.test(t)||a&&LSe.test(i)?"imdb":e&&RSe.test(t)||a&&RSe.test(i)?"tmdb":e&&kSe.test(t)||a&&kSe.test(i)?"rt":"other":"unrated"}(e),a=zSe[t];return a?Uu()("div",{className:xSe.a.container},void 0,ASe(a,e)):null};var VSe=function({className:e,rating:t,ratingImage:a,audienceRating:i,audienceRatingImage:r}){return t||i?Uu()("span",{className:e},void 0,Uu()(USe,{rating:t,ratingImage:a,audienceRating:i,audienceRatingImage:r})):null};var BSe=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>({rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage}))}))(VSe);var FSe=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>{var{duration:t}=e;return{duration:t}})}))(pSe);var HSe=function({className:e,lastViewedAt:t}){return Uu()(nle,{className:e,timestamp:t})};var _Se=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>({lastViewedAt:e.lastViewedAt}))}))(HSe);var QSe=function({className:e,viewCount:t}){var a=(t>1?Object(Ze.default)("{viewCount} Plays",{viewCount:t}):null)||(t>0?Object(Ze.default)("{viewCount} Play",{viewCount:t}):null)||Object(Ze.default)("Unplayed");return(Uu()("span",{className:e},void 0,a))};var WSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({viewCount:e.viewCount}))}))(QSe);var GSe=function({className:e,originallyAvailableAt:t}){return Uu()("span",{className:e},void 0,Object(vle.default)(t,"MMM d, yyyy"))};var YSe=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>{var{originallyAvailableAt:t}=e;return{originallyAvailableAt:t}})}))(GSe);var KSe=function({className:e,videoResolution:t}){return Uu()("span",{className:e},void 0,Object(zM.default)(t))};var qSe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>{var t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}})}))(KSe);function ZSe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ZSe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var XSe=ZSe;function JSe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}JSe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var $Se=JSe;function eMe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}eMe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var tMe=eMe,aMe=a("W0/C"),iMe=a.n(aMe),rMe=a("Fp13"),nMe=a.n(rMe),sMe=Ed.a.createElement,{Component:oMe}=Ed.a,lMe=mg(iMe.a.starPulseSpeed);function cMe(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function dMe({className:e,iconComponent:t,isVisible:a,isPulsing:i}){var r=(e||"")+" "+(!a&&nMe.a.hidden||"")+" "+(i&&nMe.a.pulsing||"");return(Uu()(t,{className:r}))}function uMe(e){return sMe(dMe,tp()({iconComponent:$Se,className:nMe.a.emptyStar},e))}function pMe(e){return sMe(dMe,tp()({iconComponent:tMe,className:nMe.a.fullStar},e))}function hMe(){return Uu()(XSe,{className:nMe.a.dot})}class mMe extends oMe{constructor(e,t){super(e,t),this.onSliderChange=({positionValue:e})=>{var{starCount:t}=this.props,a=cMe(e,t);this.setState({currentValue:a})},this.onSliderMove=({positionValue:e})=>{var{starCount:t}=this.props,a=cMe(e,t);0!==a&&this.setState({currentValue:a})},this.onSlideComplete=({positionValue:e})=>{var{starCount:t}=this.props,a=cMe(e,t);this.state.currentRating!==a&&(this._setRating(a),this.props.onRatingChange(a))},this.onMouseLeave=({pageX:e})=>{this.setState({currentValue:this.state.currentRating})},this.state={currentValue:e.value,currentRating:e.value,isPulsing:!1}}componentWillReceiveProps({value:e}){e=Math.max(0,Math.min(e,this.props.starCount)),this.state.currentRating!==e&&this._setRating(e)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e,t){this.state.currentRating!==t.currentRating&&(window.clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=window.setTimeout(()=>{this.setState({isPulsing:!1})},lMe))}componentWillUnmount(){window.clearTimeout(this._pulseTimeoutID)}_setRating(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})}render(){var{starCount:e,className:t}=this.props,{currentValue:a,currentRating:i,isPulsing:r}=this.state,n=!this.state.currentValue,s=!this.props.onRatingChange,o=D.a.range(e);return Uu()("div",{className:(t||"")+" "+(nMe.a.starRating||"")+" "+(s&&nMe.a.isReadOnly||"")+" "+(n&&nMe.a.isUnrated||""),onMouseLeave:this.onMouseLeave},void 0,Uu()("div",{},void 0,o.map(e=>Uu()(hMe,{},e))),Uu()("div",{className:nMe.a.stars},void 0,o.map(e=>{var t=e>a-1;return(Uu()(uMe,{isVisible:t},e))})),Uu()("div",{className:nMe.a.stars},void 0,o.map(e=>{var t=e<=a-1;return(Uu()(pMe,{isVisible:t,isPulsing:r&&i>e},e))})),s?null:Uu()(rB,{className:nMe.a.slider,trackClassName:nMe.a.track,label:Object(Ze.default)("User Rating"),tabIndex:"-1",value:this.state.currentValue,min:0,max:e,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))}}mMe.defaultProps={starCount:5,value:0};var vMe=mMe;var gMe=function({className:e,value:t,onRatingChange:a}){return Uu()("span",{className:e},void 0,Uu()(vMe,{value:t,onRatingChange:a}))},yMe=Ed.a.createElement;var fMe=Object(Fu.b)(uie)(xG((function(e,t){return Object(_u.a)(cie,ZG(),Object(_u.a)(_ie,(e,{providerEntityID:t})=>t,(e,t)=>!!e&&e.providers.length>1&&e.providers.includes(t)),(e,{hideUnrated:t})=>t,(e,t={},a,i)=>{var r=e&&e.features[Ot.b][Pt.e]&&!t.isFolder&&!a,n=(t.userRating||0)/2;return{showRating:!(!r||i&&0===n),value:n}})}),(function(e,t){return{onRatingChange(a){e(zae({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.itemProviderEntityID,rating:0===a?-1:2*a,metricsPage:t.metricsPage}))}}}))((function(e){var{showRating:t}=e,a=Je()(e,["showRating"]);return t?yMe(gMe,a):null})));fMe.propTypes={hideUnrated:Oc.a.bool};var bMe=fMe;function IMe(e,t,a){if("mixed"===e)return[];switch(a){case Tc:switch(e){case"season":return[AIe,WIe];case"episode":return[AIe,XIe];case"album":return[AIe,HIe];case"actor":return[Zbe,Xbe]}break;case"continueWatching":switch(e){case"movie":return[AIe,uSe,Tle];case"clip":return[AIe,uSe];case"episode":return[ele,uSe,rSe]}break;case"search":switch(t){case"news":switch(e){case"clip":return[cSe,ole,null]}}switch(e){case"artist":return[AIe,dle];case"photo":return[mle,fle];case"photoalbum":case"clip":return[AIe,fle];case"playlist":return[AIe,mSe];case"collection":return[AIe,ple];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[DSe]}break;case"playQueue":case wc:case"playlist":case"lineTVTimeline":switch(t){case"news":switch(e){case"clip":return[mle,rIe]}break;case"podcast":switch(e){case"track":return[ele,rSe]}break;case"musicVideo":switch(e){case"clip":return[AIe,Ole]}}switch(e){case"episode":return[ele,rSe];case"clip":return[AIe,fle];case"track":return[AIe,Ole]}break;case"newscast":return[cSe,ySe,ole,null];case"watchTogetherLobby":switch(e){case"participant":return[AIe]}}switch(t){case"news":switch(e){case"clip":return[cSe,ole,null]}break;case"podcast":switch(e){case"show":return[cSe,null];case"track":return[cSe,ele,null]}break;case"webshow":switch(e){case"show":return[AIe];case"episode":return[cSe,nIe,null]}}switch(e){case"channels":return[mle,EIe];case"movie":return[AIe,Tle];case"show":return[AIe,Cle];case"season":return[ale,AIe];case"episode":return[ele,AIe,vSe];case"artist":return[AIe];case"album":return[ale,UIe];case"track":return[ele,AIe];case"photo":return[mle];case"photoalbum":case"clip":return[AIe];case"extra":return[mle,oSe];case"musicVideo":return[ele,mle];case"playlist":return[AIe,mSe];case"collection":return[AIe,ple];case"directory":case"genre":case"content":case"channel":return[];case"game":return[AIe,Tle]}return[mle]}function SMe(e){return e.map(e=>{switch(e){case"attributionLogo":return aIe;case"episodeIdentifier":case"index":return vSe;case"grandparentTitle":return ele;case"parentTitle":return ale;case"title":return AIe;default:return()=>null}})}function MMe(e,t,a={}){var{subtype:i,activeSort:r,isSearch:n,isSearchAll:s,isExternal:o,providerEntityID:l,displayFields:c}=a;if(c)return SMe(c);var d=IMe(e,i,t);if(n?(d.push(Sce),s&&d.push(SSe)):o&&d.push($be),jt.k(l,jt.c)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case"playQueue":case wc:d.push(QIe);break;case"lineTVTimeline":break;default:d.push(EIe)}if(r){var u=function(e){var[t]=e.split(":");switch(t){case"addedAt":return rIe;case"duration":return FSe;case"lastViewedAt":return _Se;case"originallyAvailableAt":return YSe;case"rating":case"audienceRating":return BSe;case"userRating":return bMe;case"viewCount":return WSe;case"mediaBitrate":return jSe;case"contentRating":return ESe;case"mediaHeight":return qSe;case"year":return Tle}}(r);u&&!d.includes(u)&&d.push(u)}return d}var CMe=a("ylzf"),DMe=a.n(CMe);function PMe(e){var{className:t,posterPlayButtonClassName:a,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,type:s,title:o,context:l,imageWidth:c,imageHeight:d,imageUrl:u,beginsAt:p,endsAt:h,channelTitle:m,channelShortTitle:v,timeFormat:g,onPlayPress:y}=e,f=MMe(s,l,{providerEntityID:r});return Uu()("div",{className:t},void 0,Uu()("div",{className:DMe.a.channelInfoContainer},void 0,Uu()("div",{"data-qa-id":"alsoAiringItem-channel-name",className:DMe.a.channelTitle},void 0,v||m)),Uu()("div",{className:DMe.a.cardContainer},void 0,Uu()(Kle,{playButtonClassName:a,playCircleClassName:DMe.a.posterPlayCircle,serverEntityID:i,providerEntityID:r,imageWidth:c,imageHeight:d,imageUrl:u,title:o,onPlayPress:y})),Uu()("div",{className:DMe.a.titlesContainer},void 0,Uu()("div",{className:DMe.a.titles},void 0,f.map((e,t)=>Uu()(qbe,{serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,component:e,isSecondary:t>0},t)))),Uu()("div",{className:DMe.a.airTimeContainer},void 0,p&&h?Wbe(p,h,{timeFormat:g,separator:"  "}):null))}PMe.defaultProps={className:DMe.a.container};var OMe=PMe;var jMe=Object(Fu.b)((function(){return Object(_u.a)(_be,ZG(),Hbe(),(e,t,a)=>{var i="lineTVTimeline",r=oie(jM(t.type,t.subtype,i)===16/9?64:36,null,t.type,t.subtype,t,i);return{type:t.type,title:t.title,context:i,imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,beginsAt:a&&a.beginsAt,endsAt:a&&a.endsAt,channelTitle:a&&a.channelTitle,channelShortTitle:a&&a.channelShortTitle,timeFormat:e}})}))(OMe),TMe=a("ljKs"),wMe=a.n(TMe);var EMe=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,playerType:r,onPlayPress:n}=e;return(Uu()("div",{"data-qa-id":"alsoAiringItem",className:wMe.a.container},void 0,Uu()(Vp,{className:wMe.a.underlay,onPress:n}),Uu()(jMe,{className:wMe.a.metadataContainer,posterPlayButtonClassName:wMe.a.metadataPosterPlayButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,playerType:r,onPlayPress:n})))},NMe=Ed.a.createElement,{useCallback:xMe}=Ed.a,AMe={dispatchStartLiveTVPlayback:Kme};var LMe=Object(Fu.b)(null,AMe)((function(e){var{dispatchStartLiveTVPlayback:t}=e,a=Je()(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:r,metadataItemEntityID:n}=e,s=xMe(()=>{t({serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,metricsPage:Rd.W})},[t,i,r,n]);return NMe(EMe,tp()({},a,{onPlayPress:s}))})),kMe=a("+Lxe"),RMe=a.n(kMe);var zMe=function(e){var{serverEntityID:t,providerEntityID:a,itemEntityIDs:i,playerType:r}=e;return(Uu()("div",{className:RMe.a.container},void 0,Uu()(wbe,{},void 0,Uu()(Obe,{title:Object(Ze.default)("Airing Now")})),Uu()(rh,{className:RMe.a.content,autoScroll:!0},void 0,i.map(e=>Uu()(LMe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:e,playerType:r},e)))))},UMe=Ed.a.createElement,{useEffect:VMe}=Ed.a;var BMe={dispatchInitMetadataList:nbe,dispatchPopulateChannelPrograms:pbe,dispatchRepopulateChannelPrograms:hbe,dispatchResetStartTime:obe,dispatchSetViewportSize:dbe};var FMe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage.viewportWidth,Cbe(),Mbe(),(e,t,a)=>{var i=Math.floor(Date.now()/1e3);return{containerKey:a,itemEntityIDs:t.filter(e=>e.Media[0].beginsAt<=i&&e.Media[0].endsAt>i).map(e=>e.entityID),shouldSetViewportSize:0===e}})}),BMe)((function(e){var{shouldSetViewportSize:t,dispatchInitMetadataList:a,dispatchPopulateChannelPrograms:i,dispatchResetStartTime:r,dispatchSetViewportSize:n}=e,s=Je()(e,["shouldSetViewportSize","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),{containerKey:o,serverEntityID:l,providerEntityID:c}=e;return VMe(()=>{o&&(t&&n(),r(),a({containerKey:o,serverEntityID:l,providerEntityID:c}),i())},[o,l,c,t,a,i,r,n]),UMe(zMe,s)})),HMe=Ed.a.createElement;var _Me=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,D9(),(e,t)=>({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:e.metadataList}))}))((function(e){return HMe(FMe,e)})),QMe="ui/player/playerControls/togglePlayerOpenState",WMe=(Object(Pa.a)(QMe),Object(Pa.a)(QMe,e=>Object.assign({},e,{openState:J8.a}))),GMe=Object(Pa.a)(QMe,e=>Object.assign({},e,{openState:J8.b})),YMe={[QMe](e,{playerType:t,openState:a}){var i=Object(e9.c)(e,t);Object(wa.a)(()=>{i.set({previousOpenState:void 0,openState:a,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})})}};var KMe=function(){return Object(_u.a)(k9,T9,j9(),P9("isWatchTogether"),Object(_u.a)(hpe(),e=>null==e?void 0:e.type),kT,(e,t,a,i,r,n)=>{var s=2===t&&$8({protocol:L8.a,providerIdentifier:a,userFeaturesByUUID:n,isWatchTogether:i,playQueueType:r}),o=e.some(({protocol:e,protocolCapabilities:t})=>$8({protocol:e,protocolCapabilities:t,providerIdentifier:a,userFeaturesByUUID:n,isWatchTogether:i,playQueueType:r}));return s||o})},qMe=a("rNFJ"),ZMe=a.n(qMe),XMe=Ed.a.createElement;function JMe(e){var{className:t,isPrimary:a}=e,i=Je()(e,["className","isPrimary"]);return(XMe(KG,tp()({},i,{className:(t||"")+" "+(a&&ZMe.a.isPrimary||"")})))}JMe.defaultProps={className:ZMe.a.playerButton};var $Me=JMe;function eCe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}eCe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var tCe=eCe;function aCe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}aCe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var iCe=aCe;function rCe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}rCe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var nCe=rCe,sCe=a("HDjD"),oCe=a.n(sCe),{Component:lCe}=Ed.a;class cCe extends lCe{constructor(...e){super(...e),this.onRouteChange=()=>{this.props.onCollapsePress()}}componentDidMount(){Object(ie.c)("appModel").on("change:history",this.onRouteChange)}componentWillUnmount(){Object(ie.c)("appModel").off("change:history",this.onRouteChange)}render(){var{className:e,playerType:t,showRemotePlayer:a,hasFullscreen:i,isFullscreen:r,remotePlayerName:n,remotePlayerProduct:s,onCollapsePress:o,onCastMenuChange:l,onEnterFullscreenPress:c,onExitFullscreenPress:d}=this.props;return(Uu()("div",{className:e},void 0,Uu()("div",{},void 0,Uu()($Me,{className:oCe.a.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:tCe,title:Object(Ze.default)("Minimize Player"),onPress:o}),n?Uu()("span",{className:oCe.a.remotePlayerName},void 0,Object(Ze.default)("Casting to {playerName}",{playerName:n})):null,n&&s?Uu()("span",{className:oCe.a.remotePlayerProduct},void 0,"(",s,")"):null),Uu()("div",{},void 0,a?Uu()(l7,{className:oCe.a.castButton,playerType:t,onMenuChange:l}):null,i&&r?Uu()($Me,{className:oCe.a.topButton,"data-qa-id":"windowedButton",iconComponent:nCe,title:Object(Ze.default)("Exit Fullscreen"),onPress:d}):null,i&&!r?Uu()($Me,{className:oCe.a.topButton,"data-qa-id":"fullscreenButton",iconComponent:iCe,title:Object(Ze.default)("Enter Fullscreen"),onPress:c}):null)))}}cCe.defaultProps={className:oCe.a.topControls};var dCe=cCe,uCe=Object(_u.a)(A8,e=>e?e.product:null),pCe=Object(_u.a)(vve,uCe,KMe(),(e,t,a)=>({remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:a}));var hCe=Object(Fu.b)(pCe,(function(e,t){var a={playerType:t.playerType};return{onCollapsePress(t){e(GMe(a))}}}))(dCe),mCe=a("5m2Q"),vCe=a.n(mCe),{Component:gCe}=Ed.a;class yCe extends gCe{constructor(e,t){super(e,t),this.onPress=e=>{this._cancelPlayPause(),this.setState(({isPaused:e})=>({isPaused:!e})),this._playPauseTimeoutID=window.setTimeout(()=>{this._playPauseTimeoutID=null,this.props.isPaused!==this.state.isPaused&&this.props.onTogglePlayPress(e)},175)},this.onDoubleClick=e=>{this.props.onToggleFullscreen()},this.state={isPaused:e.isPaused},this._playPauseTimeoutID=null}componentWillReceiveProps(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})}componentWillUnmount(){this._cancelPlayPause()}_cancelPlayPause(){this._playPauseTimeoutID&&(window.clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)}render(){var{className:e,isCursorHidden:t,isTogglePlayPressDisabled:a}=this.props,{isPaused:i}=this.state;return a?Uu()("div",{className:(e||"")+" "+(t&&vCe.a.hiddenCursor||"")+" "+(vCe.a.overlay||""),onClick:this.onPress,onDoubleClick:this.onDoubleClick}):Uu()(kle,{className:(e||"")+" "+(t&&vCe.a.hiddenCursor||"")+" "+((i?vCe.a.playButton:vCe.a.pauseButton)||""),circleClassName:vCe.a.playCircle,"aria-label":i?Object(Ze.default)("Play"):Object(Ze.default)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})}}yCe.defaultProps={isCursorHidden:!1,isTogglePlayPressDisabled:!1};var fCe=yCe;var bCe=Object(Fu.b)((function(){return Object(_u.a)(D9(),O9(),(e,t)=>{var a=jt.k(t.identifier,jt.b);return{isPaused:e.isPaused,isTogglePlayPressDisabled:a}})}),(function(e,t){var a={playerType:t.playerType};return{onTogglePlayPress(t){e(Object(bse.F)(a))}}}))(fCe),ICe=a("sPbJ"),SCe=Object(_u.a)(lk,e=>e.audioDevices||[]),MCe=Object(_u.a)(SCe,e=>e.filter(e=>e.present)),CCe=Object(_u.a)(SCe,lk,(e,t)=>e.find(e=>e.name===t["player.audioDevice"]));function DCe(e){var{name:t,description:a}=(null==e.toJSON?void 0:e.toJSON())||e;return"auto"===t?Object(Ze.default)("Auto select device"):a}var PCe=Ed.a.createElement,{Component:OCe}=Ed.a;var jCe=class extends OCe{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onSelectPress=e=>t=>{this.props.onChange(e),this.onMenuClose()},this.state={isMenuOpen:!1},this._menuInputButtonID=Mp()}getSelectedValue(e,t){var a=D.a.find(e,e=>{if(D.a.isString(e))return e===t;var[a]=D.a.keys(e);return a===t});if(D.a.isString(a))return a;var[i]=D.a.keys(a);return null==a?void 0:a[i]}render(){var e=this.props,{size:t,kind:a,value:i,values:r,overrideSelectedValue:n}=e,s=Je()(e,["name","size","kind","value","values","overrideSelectedValue"]),o=this.getSelectedValue(r,i);return null==o?null:Uu()(Cy,{id:this._menuInputButtonID,size:t,kind:a,direction:this.state.isMenuOpen?cy:dy,onPress:this.onToggleMenuPress},void 0,n||o,PCe(Fg,tp()({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},s),r.map(e=>{if(D.a.isString(e))return Uu()(iy,{isSelected:e===i,onPress:this.onSelectPress(e)},e,e);var[t]=D.a.keys(e);return(Uu()(iy,{isSelected:t===i,onPress:this.onSelectPress(t)},t,e[t]))})))}},TCe=a("7GJu"),wCe=a.n(TCe);var ECe=function(e){var{bottom:t,children:a,title:i=Object(Ze.default)("Playback Settings"),onDimensionsChange:r}=e;return(Uu()(Afe,{className:wCe.a.container,bottom:t,onDimensionsChange:r},void 0,Uu()("div",{className:wCe.a.title},void 0,i),Uu()("div",{className:wCe.a.menusContainer,"data-qa-id":"playbackSettingsContainer"},void 0,a)))},NCe=a("ZAf3"),xCe=a.n(NCe);function ACe({className:e,label:t,children:a,isDisabled:i}){return Uu()("div",{className:(e||"")+" "+(i&&xCe.a.isDisabled||"")},void 0,Uu()("div",{className:xCe.a.label},void 0,t),Uu()("div",{className:xCe.a.cell},void 0,a))}ACe.defaultProps={className:xCe.a.row};var LCe=ACe,kCe="auto",RCe="2.0",zCe="2.1",UCe="3.1",VCe="5.1",BCe="7.1",FCe=0,HCe=1,_Ce=2,QCe="ac3",WCe="dts",GCe="dts-hd",YCe="eac3",KCe="truehd",qCe=(Oc.a.shape({channelLayout:Oc.a.oneOf(Object.values(v)).isRequired,description:Oc.a.string.isRequired,lastPresent:Oc.a.string.isRequired,kind:Oc.a.oneOf(Object.values(g)).isRequired,name:Oc.a.string.isRequired,passthroughCodecs:Oc.a.arrayOf(e=>{Object.values(y).includes(e)}).isRequired,present:Oc.a.bool.isRequired,transcodeToAC3:Oc.a.bool.isRequired}),a("Jl0g")),ZCe=a.n(qCe),{Component:XCe}=Ed.a;class JCe extends XCe{constructor(e,t){super(e,t),this.onPlaybackSpeedChange=({positionValue:e})=>{this.setState({playbackSpeed:e},()=>{this.props.onPlaybackSpeedChange(e)})},this.state={playbackSpeed:e.playbackSpeed}}componentWillReceiveProps(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})}render(){var{audioDevices:e,bottom:t,canSetPlaybackSpeed:a,playbackSpeed:i,playbackSpeedSetting:r,selectedAudioDevice:n,onAudioDeviceChange:s,onDimensionsChange:o}=this.props;return(Uu()(ECe,{bottom:t,onDimensionsChange:o},void 0,a?Uu()(LCe,{label:Object(Ze.default)("Playback Speed")},void 0,Uu()(rB,{className:ZCe.a.slider,min:r.min,max:r.max,stepSize:r.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),dB(i)):null,(null==e?void 0:e.length)>1?Uu()(LCe,{label:Object(Ze.default)("Audio Device")},void 0,Uu()(jCe,{name:"audioDevice",size:Tp,value:n.name,values:e.map(e=>({[e.name]:DCe(e)})),onChange:s})):null))}}JCe.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};var $Ce=JCe;var eDe=xG((function(){return Object(_u.a)(P9("controllable"),Bpe(),Object(_u.a)(O9(),e=>{if(e){var t=D.a.findWhere(e.features,{type:Ot.p});if(t){var a=D.a.findWhere(t.settings,{id:ICe.c});if(a)return a}}}),MCe,CCe,(e,t,a,i,r)=>({audioDevices:i,selectedAudioDevice:r,canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:a}))}),(function(e,t){var{playerType:a}=t;return{onAudioDeviceChange(t){e(gu({deviceName:t}))},onPlaybackSpeedChange(t){e(bse.j({playerType:a,playbackSpeed:t}))}}}))($Ce),tDe=a("N7lw"),aDe=a.n(tDe);function iDe(e){return Uu()("div",{className:e.className},void 0,e.children)}iDe.defaultProps={className:aDe.a.bottomBar};var rDe=iDe,nDe=a("xyAC"),sDe=a.n(nDe);function oDe(e){return Uu()("div",{className:e.className},void 0,e.children)}oDe.defaultProps={className:sDe.a.controlsContainer};var lDe=oDe,cDe=Ed.a.createElement,{Component:dDe}=Ed.a;var uDe=Object(Fu.b)((function(){return Object(_u.a)((e,{isWatchTogether:t})=>t,D9(),vpe(),Fpe,(e,t,a,i)=>{var r,n,s,o=t.controllable,l=t.playQueue,c=l.currentIndex,d=a.subtype===OM.b;return o?(n=!o.skipNext,r=!o.skipPrevious,s=!o.shuffle):(n=!t.repeatAll&&c>=t.playQueue.playQueueItems.length-1,r=!t.repeatAll&&c<=0&&t.positionSeconds<=Ame.a,s=!l.canShuffle),{metadataItemEntityID:a.metadataItem,providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,volume:i,activateChaptersButton:t.isChaptersVisible,activateLyricsButton:t.isLyricsVisible,activateQueueButton:t.isPlayQueueVisible,activateRepeatButton:t.repeatAll,activateRepeatOneButton:t.repeatOne,activateSettingsButton:t.isSettingsVisible,activateWatchTogetherParticipantsButton:t.isWatchTogetherParticipantsVisible,activateShuffleButton:l.playQueueShuffled,disableNextButton:n,disablePauseButton:!!o&&!o.playPause,disablePlayButton:!!o&&!o.playPause,disablePreviousButton:r,disableRepeatButton:!!o&&!o.repeat,disableRepeatOneButton:!!o&&!o.repeat,disableShuffleButton:s,disableSkipBackButton:!!o&&!o.seekTo,disableSkipForwardButton:!!o&&!o.seekTo,showCloseButton:!0,showNextButton:!e,showPauseButton:!t.isPaused,showPlayButton:t.isPaused,showPreviousButton:!e,showRepeatButton:!d&&!t.repeatOne&&!e,showRepeatOneButton:t.repeatOne&&!e,showVolume:!o||o.volume}})}),(function(e,{playerType:t}){var a={playerType:t};return{onEditPress(t){e(xae(t))},onFavoritePress(t){e(Gae(t))},onUnfavoritePress(t){e(Yae(t))},onRepeatPress(){e(_pe.t(a))},onRepeatOnePress(){e(_pe.t(a))},onPreviousPress(){e(_pe.i(a))},onNextPress(){e(_pe.h(a))},onShufflePress(){e(_pe.u(a))},onQueuePress(){e(_pe.s(a))},onLyricsPress(){e(_pe.r(a))},onSkipBackPress(){e(bse.A(a))},onPlayPress(){e(bse.t(a))},onPausePress(){e(bse.s(a))},onSkipForwardPress(){e(bse.B(a))},onSettingsPress(){e(bse.H(a))},onWatchTogetherParticipantsPress(){e(bse.J(a))},onChaptersPress(){e(bse.G(a))},onVolumeChange(t){e(bse.q(Object.assign({},a,{volume:t})))},onClosePress(){e(Cw.h(a))}}}),(function(e,t,a){var{metadataItemEntityID:i,providerEntityID:r}=e;return Object.assign({},a,e,t,{onEditPress(){t.onPausePress(),t.onEditPress({metadataItemEntityID:i})},onFavoritePress(){t.onFavoritePress({metadataItemEntityID:i,providerEntityID:r})},onUnfavoritePress(){t.onUnfavoritePress({metadataItemEntityID:i,providerEntityID:r})}})}))(class extends dDe{constructor(e,t){super(e,t),this.onVolumeChange=e=>{var{volume:t}=this.state,a=Math.round(Math.min(100,Math.max(0,t+e)));t!==a&&this.setState({volume:a},()=>{this.props.onVolumeChange(this.state.volume)})},this.onVolumeIconPress=()=>{var e=this.state.volume>0;e&&(this._lastVolume=this.state.volume),this.setState({volume:e?0:this._lastVolume||100},()=>{this.props.onVolumeChange(this.state.volume)})},this.state={volume:e.volume}}componentWillReceiveProps({volume:e}){e!==this.state.volume&&this.setState({volume:e})}render(){var{component:e}=this.props;return(cDe(e,tp()({},this.props,this.state,{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress})))}}),pDe=a("0vaO"),hDe=a.n(pDe);function mDe(e){var{className:t,children:a}=e;return(Uu()("div",{className:t},void 0,a))}mDe.defaultProps={className:hDe.a.container};var vDe=mDe,gDe=a("i0LR"),yDe=a.n(gDe);var fDe=function(e){var{className:t}=e;return(Uu()(vDe,{className:t},void 0,Uu()("div",{className:yDe.a.message},void 0,Object(Ze.default)("Video will play after this advertisement"))))},bDe=a("h3e2"),IDe=a.n(bDe),{Component:SDe}=Ed.a;class MDe extends SDe{constructor(e,t){super(e,t),this.onTogglePress=()=>{this.setState(e=>({isToggled:!e.isToggled}))},this.state={isToggled:!1}}render(){var{className:e,durationSeconds:t,positionSeconds:a}=this.props,i=1e3*a,r=1e3*t,n=r-i;return Uu()(Vp,{className:e,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},void 0,this.state.isToggled?"-"+xM(n):xM(i)," / ",xM(r))}}MDe.defaultProps={className:IDe.a.container};var CDe=MDe,DDe=a("8Ipq"),PDe=a.n(DDe);function ODe(e){var{isTidal:t,isPreview:a,isLossless:i}=e,r=!t||!a&&!i;return Uu()("div",{className:(e.className||"")+" "+(r&&PDe.a.hidden||"")},void 0,Uu()("span",{className:PDe.a.info},void 0,a?Object(Ze.default)("TIDAL Preview"):"HI-FI"))}ODe.defaultProps={className:PDe.a.infoContainer};var jDe=ODe;var TDe=Object(Fu.b)((function(){return Object(_u.a)(gpe(),ZG(),(e,t)=>{if(!t)return{};var a=t.Media[e?e.mediaIndex:0],i=!!a&&"flac"===a.audioCodec;return{isTidal:"com.tidal"===t.attribution,isPreview:!!t.preview,isLossless:i}})}))(jDe),wDe=a("Nh+l"),EDe=a.n(wDe);function NDe(e){var{className:t,playerType:a,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,type:s,subtype:o,positionSeconds:l,context:c,showStarRating:d,hasUserRating:u,isUnknownAiring:p,showDuration:h,durationSeconds:m}=e;if(p)return Uu()("div",{className:t},void 0,Object(Ze.default)("Unknown Airing"));if(!n||!s)return null;var v=MMe(s,c,{subtype:o,providerEntityID:r});return(Uu()("div",{className:(t||"")+" "+(d&&u&&EDe.a.hasUserRating||"")},void 0,v.map((e,t)=>Uu()(qbe,{playerType:a,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,positionSeconds:l,component:e,isSecondary:t>0},t)),h&&m&&null!=l?Uu()(CDe,{className:EDe.a.durationContainer,durationSeconds:m,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,Uu()(TDe,{className:EDe.a.mediaInfoContainer,playerType:a,metadataItemEntityID:n}),d?Uu()(bMe,{className:EDe.a.ratingContainer,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n}):null))}NDe.defaultProps={className:EDe.a.container};var xDe=NDe;var ADe=Object(Fu.b)((function(){return Object(_u.a)(D9(),ZG(),(e,t={})=>({serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:wc,hasUserRating:null!=t.userRating}))}))(xDe);ADe.propTypes=Object.assign({},ADe.propTypes,{metadataItemEntityID:Oc.a.string,playerType:Oc.a.string.isRequired});var LDe=ADe;var kDe=Object(Fu.b)((function(){return Object(_u.a)(jpe(),e=>({metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e}))}))(LDe);kDe.propTypes=Object.assign({},kDe.propTypes,{playerType:Oc.a.string.isRequired});var RDe=kDe;function zDe(){return Object(_u.a)(Ppe(),Object(_u.a)(Dpe(),qG,(e,t)=>e&&(e.timeline||e.grabOperation)?e.timeline?e.timeline.map(e=>t[e]):[t[e.grabOperation.metadataItem]]:[]),(e,t)=>{if(null!=e)for(var a=0;a<t.length;a++)for(var i=t[a],r=0;r<i.Media.length;r++){var n=i.Media[r],{beginsAt:s,endsAt:o}=n;if(s<=e&&o>e)return i}})}var UDe=a("wQNq"),VDe=xe.a.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:Ae.a.string,grandparentGuid:Ae.a.string,title:Ae.a.string,type:Ae.a.string,subtype:Ae.a.string,grandparentTitle:Ae.a.string,index:Ae.a.integer,parentIndex:Ae.a.integer,year:Ae.a.string,grandparentYear:Ae.a.integer,originallyAvailableAt:Ae.a.string,thumb:Ae.a.string,parentThumb:Ae.a.string,grandparentThumb:Ae.a.string,ratingKey:Ae.a.string,source:Ae.a.string,parentTitle:Ae.a.string,parentYear:Ae.a.string}}),BDe=xe.a.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:ut.a,rootPropertyName:"Metadata",deferred:!0}}}),FDe=xe.a.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:ht.f,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:Dt.a,syncedAttrs:{key:Ae.a.string,type:Ae.a.integer,provider:Ae.a.string,targetLibrarySectionID:{type:Ae.a.string,save:!0},targetSectionLocationID:{type:Ae.a.string,save:!0},title:Ae.a.string,selected:Ae.a.boolean,parameters:Ae.a.string,createdAt:Ae.a.integer,storageTotal:Ae.a.integer},syncedRelations:{hint:{relationClass:VDe,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:BDe,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:UDe.default,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:Uw.a,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:om.default,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse(e){var t=e[this.rootPropertyName]||e,a=t.Timeline;return a&&(t.Timeline=a.Metadata),e},getSaveParams(){var e=xe.a.prototype.getSaveParams.apply(this,arguments),{Setting:t}=e,a=Je()(e,["Setting"]);return Object.assign({prefs:t},a)}}),HDe=ke.a.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:FDe,augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e,augmentResponse:e=>e.SubscriptionTemplate});function _De(e,t){var a=e.server,i=D.a.result(e,"url"),r=a.getXHROptions(_.join([i,"move"],{after:t}),{type:"PUT"});return T.a.ajax(r).promise()}function QDe(e,t){return 401===e.status?Object(Ze.default)("You do not have permission to perform this action."):KT(e,t)}var WDe=Object(Pa.a)("ui/modal/initMediaSubscriptionModal"),GDe=Object(Pa.a)("ui/modal/clearMediaSubscriptionModal"),YDe=Object(Pa.a)("ui/modal/fetchMediaSubscription"),KDe=Object(Pa.a)("ui/modal/saveMediaSubscription"),qDe=Object(Pa.a)("ui/modal/changeMediaSubscriptionTemplateMode"),ZDe=(Object(Pa.a)("ui/modal/clearMediaSubscriptionModalError"),Object(Pa.a)("ui/modal/moveMediaSubscriptionModal")),XDe=Object(Pa.a)("ui/modal/deleteMediaSubscriptionModal");function JDe(e){return e.get("ui").get("mediaSubscriptionModal")}var $De=uk({"ui/modal/initMediaSubscriptionModal"(e,t,a){var i=JDe(e);i.set("isMediaSubscriptionPending",!0);var r={};if(t.showConflicts&&(r.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return i.set({mediaSubscription:Object(Ta.e)(e,t)}),void a(YDe(r));var n=Object(Ta.m)(e,t),s=Object(Ta.f)(e,t),o=s.get("grandparentSubscriptionID")||s.get("subscriptionID");if(o)return i.set({mediaSubscription:new FDe({key:o},{server:n})}),void a(YDe(r));var l=_.join("/media/subscriptions/template",{guid:s.get("guid")}),c=n.getXHROptions(l);T.a.ajax(c).then(e=>{var t=new HDe(e,{parse:!0,server:n}),a=t.findWhere({selected:!0});i.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:t,mediaSubscription:a})},e=>{var t=QDe(e,Object(Ze.default)("There was an unexpected error"));i.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})})},"ui/modal/clearMediaSubscriptionModal"(e){JDe(e).restoreDefaults()},"ui/modal/fetchMediaSubscription":Object(Oa.a)({key:"mediaSubscription",getModel:JDe}),"ui/modal/saveMediaSubscription"(e,t){var a=JDe(e),i=Object(Ta.m)(e,t),r=a.get("mediaSubscription"),{targetLibrarySectionID:n,targetSectionLocationID:s=null,prefs:o}=t;Object(wa.a)(()=>{a.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})});var l=r.get("key"),c=r.getSaveParams(),d=T.a.extend(!0,{},c,{includeGrabs:1,targetLibrarySectionID:n,targetSectionLocationID:s,prefs:o}),u=_.join(D.a.result(r,"url"),d);if(!l){var p=Object(Wt.u)(r.get("hint").get("type"));u=u+"&"+r.get("parameters")+"&type="+p.id}var h=i.getXHROptions(u,{type:l?"PUT":"POST"});T.a.ajax(h).then(i=>{if(r.set(r.parse(i)),a.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){var n=Object(Ta.f)(e,t);if(n){var s=r.get("hint").get("type"),o=Object(Wt.y)(s),l=o?"grandparentSubscriptionID":"subscriptionID",c=o?"grandparentSubscriptionType":"subscriptionType";n.set({[l]:r.id,[c]:s})}}},e=>{var t=QDe(e,Object(Ze.default)("There was a problem saving your changes. Please try again."));a.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})})},"ui/modal/changeMediaSubscriptionTemplateMode"(e,t){var a=JDe(e),i=a.get("templates"),{modeIndex:r}=t;a.set("mediaSubscription",i.at(r))},"ui/modal/clearMediaSubscriptionModalError"(e,t){JDe(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},"ui/modal/moveMediaSubscriptionModal"(e,t){var a=JDe(e),i=a.get("mediaSubscription");Object(wa.a)(()=>{a.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})}),_De(i).then(()=>{a.set({isMediaSubscriptionMoving:!1})},e=>{var t=QDe(e,Object(Ze.default)("There was a problem saving your changes. Please try again."));a.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})})},"ui/modal/deleteMediaSubscriptionModal"(e,t,a){var i=JDe(e),r=i.get("mediaSubscription"),{metadataItemEntityID:n}=t;Object(wa.a)(()=>{i.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})}),function(e,{appModel:t,metadataItemEntityID:a}={}){var i=e.get("key"),r=e.destroy({wait:!0});return a&&(r=r.then(()=>{if(a){var e=Object(Ta.f)(t,{metadataItemEntityID:a});e.get("subscriptionID")===i?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===i&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}})),r}(r,{appModel:e,metadataItemEntityID:n}).then(()=>{i.set({isMediaSubscriptionDeleting:!1})},e=>{var t=QDe(e,Object(Ze.default)("There was a problem with canceling this subscription. Please try again."));i.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})})}}),ePe=Object(_u.a)(e=>e.ui.mediaSubscriptionModal.mediaSubscription,X6,(e,t)=>t[e]),tPe=Object(_u.a)(e=>e.ui.mediaSubscriptionModal.templates,X6,(e=[],t)=>e.map(e=>t[e])),aPe=Ed.a.createElement,iPe=Uu()(Xh,{});var rPe=function(e){return aPe(t_,e,iPe)};var nPe=function(e,t){var a,i;return t.length>1?(i=t.findIndex(e=>e.selected),a=t.map(({title:e},t)=>({[t]:e}))):(i=0,a=e.title?[{0:e.title}]:null),{initialMode:i,modes:a}};var sPe=function({className:e,grandparentTitle:t}){return Uu()(hle,{className:e,title:t})};var oPe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({grandparentTitle:e.grandparentTitle}))}))(sPe),lPe=a("puJ8"),cPe=a.n(lPe),dPe=Ed.a.createElement;var uPe=function(e){var{component:t,isSecondary:a}=e,i=Je()(e,["component","isSecondary"]);return(dPe(t,tp()({className:a?cPe.a.secondaryTitle:cPe.a.title},i)))},pPe=a("ReZX"),hPe=a.n(pPe),mPe=Ed.a.createElement;var vPe=function(e){var{type:t}=e,a=Je()(e,["className","type"]),i=function(e){switch(e){case"movie":case"show":return[mle];case"episode":return[oPe,rSe];case"playlist":default:return[mle]}}(t);return Uu()("div",{className:hPe.a.container},void 0,i.map((e,t)=>mPe(uPe,tp()({key:t,component:e,isSecondary:t>0},a))))},gPe=Ed.a.createElement;var yPe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({type:e.type}))}))((function(e){return gPe(vPe,e)}));function fPe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}fPe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var bPe=fPe;function IPe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}IPe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var SPe=IPe;var MPe=function({className:e,type:t}){return Object(Wt.x)(t)?Uu()(bPe,{className:e}):Uu()(SPe,{className:e})},CPe=a("Nwpn"),DPe=a.n(CPe),PPe=Ed.a.createElement;var OPe=function(e){var{component:t,isSecondary:a}=e,i=Je()(e,["component","isSecondary"]);return(PPe(t,tp()({className:a?DPe.a.secondaryTitle:DPe.a.title},i)))},jPe=a("auJy"),TPe=a.n(jPe),wPe=Ed.a.createElement;function EPe(e){var{serverEntityID:t,providerEntityID:a,hint:i,target:r,useStaticHeight:n,children:s,showSubscriptionBadge:o,isDownload:l}=e,{type:c,subtype:d}=i,{thumb:u,grandparentThumb:p}=r||i,h=c===Wt.m,m=l&&h?r&&r.composite:p||u,v=l||c!==Wt.m?c:Wt.o;return Uu()("div",{className:TPe.a.container},void 0,Uu()("div",{className:TPe.a.left},void 0,Uu()(Rne,{serverEntityID:t,providerEntityID:a,component:PM,type:v,width:130,height:wM(130,v,d),url:m},void 0,o?Uu()("div",{className:TPe.a.subscriptionBadge},void 0,Uu()(MPe,{type:c})):null)),Uu()("div",{className:TPe.a.right},void 0,Uu()("div",{className:n?TPe.a.staticHeightTitleContainer:TPe.a.titleContainer},void 0,function(e){switch(e){case Wt.j:case Wt.o:return[hle];case Wt.f:return[sPe,iSe];case Wt.m:default:return[hle]}}(c).map((e,t)=>wPe(OPe,tp()({key:t,component:e,isSecondary:t>0},i)))),s))}EPe.defaultProps={useStaticHeight:!1};var NPe=EPe,xPe=a("0nIg"),APe=a.n(xPe),{Component:LPe}=Ed.a;class kPe extends LPe{componentDidUpdate(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){var{isRecordingSchedule:e,isMediaSubscriptionDeleting:t,mediaSubscriptionDeleteError:a,isMediaSubscriptionMoving:i,mediaSubscriptionMoveError:r,serverEntityID:n,providerEntityID:s,server:o,provider:l,sourceDirectory:c,hint:d,conflicts:u,onDelete:p,onMediaMove:h,onModalClose:m}=this.props,v=r||a;return Uu()(UL,{onModalClose:m},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Conflict Detected")),v?Uu()(MU,{errorMessage:v}):null,Uu()(fL,{autoScroll:!0},void 0,Uu()(NPe,{serverEntityID:n,providerEntityID:s,hint:d},void 0,Uu()("div",{className:APe.a.message},void 0,1===u.length?Object(Ze.default)("Conflicts with 1 recording"):Object(Ze.default)("Conflicts with {conflictCount} recordings",{conflictCount:u.length})),Uu()("div",{className:APe.a.conflicts},void 0,u.map(({metadataItem:e},t)=>Uu()(yPe,{metadataItemEntityID:e},t))))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(bU,{isSpinning:t,kind:Pp,onPress:p},void 0,Object(Ze.default)("Cancel This")),Uu()(bU,{isSpinning:i,kind:Dp,onPress:h},void 0,Object(Ze.default)("Prefer This")),e?Uu()(rT,{kind:Dp,onPress:m},void 0,Object(Ze.default)("Close")):Uu()(rT,{kind:Dp,to:na($t,o,l,c)},void 0,Object(Ze.default)("Manage")))))}}kPe.defaultProps={conflicts:[]};var RPe=kPe,zPe=a("2VzV"),UPe=a.n(zPe);var VPe=function(){return Uu()("div",{className:UPe.a.cancelConfirmationMessage},void 0,Uu()("div",{},void 0,Object(Ze.default)("Are you sure you want to cancel this recording?")),Uu()("div",{},void 0,Object(Ze.default)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};function BPe(e){var{className:t,children:a}=e,i=Je()(e,["className","children"]);return(Uu()("div",{className:t,style:i},void 0,a))}BPe.defaultProps={flexGrow:1,flexShrink:0};var FPe=BPe,HPe=a("lqtG"),_Pe=a.n(HPe);function QPe(e){var{className:t,children:a}=e,i=Je()(e,["className","children"]);return(Uu()("div",{className:(_Pe.a.grid||"")+" "+(t||""),style:i},void 0,a))}QPe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};var WPe=QPe,GPe=Ed.a.createElement;var YPe=jV((function(e){var{name:t,labelText:a}=e,i=Je()(e,["name","initialValue","labelText","showErrors","errors","validations"]);return(Uu()("div",{},void 0,Uu()(UC,{name:t},void 0,a),GPe(bR,tp()({name:t,size:jp},i))))}));var KPe=function(e){var{libraries:t,targetLibrarySectionID:a,targetSectionLocationID:i,selectedLibrarySectionID:r}=e,n=function(e,t){return null!=e&&t.some(t=>t.librarySectionID===e)}(a,t)?a:function([e]){if(e)return e.librarySectionID}(t),s=function(e,t,a){var i=e.find(({librarySectionID:e})=>e===t);return i||(i=e.find(({librarySectionID:e})=>e===a)),i?i.locations.map(({id:e,path:t})=>({[e]:t})):[]}(t,r,n),o=function(e,t){return null!=e&&t.some(t=>t.hasOwnProperty(e))}(i,s)?i:function([e]){if(e){var[t]=Object.keys(e);return e[t]}}(s);return Uu()(WPe,{flexWrap:"wrap"},void 0,Uu()(FPe,{flexBasis:230,maxWidth:230},void 0,Uu()(YPe,{labelText:Object(Ze.default)("Add to Library"),name:"targetLibrarySectionID",initialValue:n,size:jp,values:t.map(({title:e,librarySectionID:t},a)=>({[t]:e}))})),Uu()(FPe,{flexBasis:230,maxWidth:230},void 0,s.length>1?Uu()(YPe,{labelText:Object(Ze.default)("Location"),name:"targetSectionLocationID",size:jp,initialValue:o,values:s}):null))};var qPe=function(e){var{serverEntityID:t,providerEntityID:a,hint:i,target:r,initialMode:n,isDownload:s,modes:o,libraries:l,targetLibrarySectionID:c,targetSectionLocationID:d,selectedLibrarySectionID:u,prefs:p}=e,h=p&&p.onlyNewAirings,m=i.type===Wt.f||i.type===Wt.o||i.type===Wt.m;return Uu()(NPe,{serverEntityID:t,providerEntityID:a,hint:i,isDownload:s,showSubscriptionBadge:!s,target:r,useStaticHeight:m},void 0,Uu()(WPe,{flexWrap:"wrap"},void 0,Uu()(FPe,{flexBasis:230,maxWidth:230},void 0,o?Uu()(YPe,{labelText:s?Object(Ze.default)("Download"):Object(Ze.default)("Record"),name:"mode",initialValue:n,values:o,isDisabled:o.length<2}):null),Uu()(FPe,{flexBasis:230,maxWidth:230},void 0,h?Uu()(YPe,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map(({label:e,value:t})=>({[t]:e}))}):null)),!s&&l&&l.length?Uu()(KPe,{libraries:l,targetLibrarySectionID:c,targetSectionLocationID:d,selectedLibrarySectionID:u}):null)},ZPe=a("uprk"),XPe=a.n(ZPe),JPe=Ed.a.createElement,{Component:$Pe}=Ed.a,eOe=Uu()(VPe,{});var tOe=class extends $Pe{constructor(e,t){super(e,t),this.onAdvancedPress=()=>{this.setState({isAdvanced:!this.state.isAdvanced})},this.onCancelPress=()=>{this.setState({showCancelConfirmation:!0})},this.onBackPress=()=>{this.setState({showCancelConfirmation:!1})},this.onFormChange=e=>{if(this.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==this.state.selectedLibrarySectionID&&this.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==this.state.selectedMode){var t=e.mode.value;this.setState({selectedMode:t}),this.props.onModeChange(t)}},this.state={selectedLibrarySectionID:e.targetLibrarySectionID,selectedMode:e.initialMode,isAdvanced:!1,showCancelConfirmation:!1}}componentDidUpdate(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()}render(){var e=this.props,{mediaSubscriptionKey:t,isMediaSubscriptionSaving:a,mediaSubscriptionSaveError:i,isMediaSubscriptionDeleting:r,mediaSubscriptionDeleteError:n,prefGroups:s,onModalClose:o,onSubmit:l,onDelete:c}=e,d=Je()(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),{isAdvanced:u,showCancelConfirmation:p}=this.state,h=p&&XPe.a.cancelConfirmation||u&&XPe.a.advancedForm||XPe.a.baseForm,m=!!s.advanced,v=i||n;return Uu()(AC,{className:h,onChange:this.onFormChange,onSubmit:l},void 0,Uu()(UL,{onModalClose:o},void 0,Uu()(jL,{},void 0,p?Object(Ze.default)("Cancel Recording"):Object(Ze.default)("Record Options")),v?Uu()(MU,{errorMessage:v}):null,Uu()(fL,{},void 0,Uu()("div",{className:XPe.a.baseSettings},"base",JPe(qPe,tp()({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:s.basic},d))),m?Uu()("div",{className:XPe.a.advancedSettings},"advanced",JPe(t8,tp()({prefs:s.advanced},d))):null,p?eOe:null),Uu()(CL,{className:p?XPe.a.cancelConfirmationFooter:XPe.a.footer},void 0,p?null:Uu()(uU,{},void 0,m?Uu()(Vp,{kind:Dp,onPress:this.onAdvancedPress},void 0,Uu()(XH,{className:XPe.a.advancedIcon}),u?Object(Ze.default)("Show Basic"):Object(Ze.default)("Show Advanced")):null),p?Uu()(uU,{},void 0,Uu()(rT,{onPress:this.onBackPress},void 0,Object(Ze.default)("Back")),Uu()(bU,{isSpinning:r,kind:Pp,onPress:c},void 0,Object(Ze.default)("Yes"))):Uu()(uU,{},void 0,t?Uu()(rT,{kind:Pp,onPress:this.onCancelPress},void 0,Object(Ze.default)("Cancel Recording")):Uu()(rT,{kind:Cp,onPress:o},void 0,Object(Ze.default)("Cancel")),Uu()(bU,{type:"submit",isSpinning:a,kind:Dp},void 0,t?Object(Ze.default)("Save"):Object(Ze.default)("Record"))))))}},aOe=a("9uqb"),iOe=a.n(aOe),{Component:rOe}=Ed.a;var nOe=class extends rOe{componentDidUpdate(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()}render(){var e,{serverEntityID:t,providerEntityID:a,mediaSubscriptionKey:i,hint:r,metadataType:n,isMediaSubscriptionDeleting:s,mediaSubscriptionDeleteError:o,canAddLibrary:l,onCreatePress:c,onModalClose:d,onDelete:u}=this.props,{typeString:p}=Object(Wt.w)(n),{title:h}=UQ.g.get(p),m=l?Object(Ze.default)("This recording cannot be scheduled because you dont yet have a library for {type}.",{type:h}):Object(Ze.default)("This recording cannot be scheduled because there is no library for {type}.",{type:h});return e=l?i?Object(Ze.default)("Please create a library or cancel the recording."):Object(Ze.default)("Please try recording again after you have created your library."):Object(Ze.default)("Please ask the server owner to create the library or cancel the recording."),Uu()(UL,{onModalClose:d},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Record Options")),o?Uu()(MU,{errorMessage:o}):null,Uu()(fL,{},void 0,Uu()(NPe,{serverEntityID:t,providerEntityID:a,hint:r},void 0,Uu()("div",{className:iOe.a.errorMessage},void 0,Object(Ze.default)("{type} Library Required",{type:h})),Uu()("p",{},void 0,m),Uu()("p",{},void 0,e),l?Uu()(Vp,{kind:Dp,onPress:c},void 0,Uu()(sA,{className:iOe.a.addIcon})," ",Object(Ze.default)("Create Library")):null)),Uu()(CL,{},void 0,Uu()(uU,{},void 0,i?Uu()(bU,{isSpinning:s,kind:Pp,onPress:u},void 0,Object(Ze.default)("Cancel Recording")):null,Uu()(rT,{onPress:d},void 0,Object(Ze.default)("Cancel")))))}},sOe=Ed.a.createElement,{Component:oOe}=Ed.a;function lOe(){return Object(_u.a)((e,{subscriptionType:t})=>t,e=>"playlist"===e?"show":e)}var cOe={dispatchFetchLibraries:Ha,dispatchAddLibrary:pG,dispatchInitMediaSubscriptionModal:WDe,dispatchClearMediaSubscriptionModal:GDe,dispatchSaveMediaSubscription:KDe,dispatchChangeMediaSubscriptionTemplateMode:qDe,dispatchMoveMediaSubscriptionModal:ZDe,dispatchDeleteMediaSubscriptionModal:XDe};class dOe extends oOe{constructor(e,t){super(e,t),this.onSubmit=e=>{var{serverEntityID:t,metadataItemEntityID:a}=this.props,{targetLibrarySectionID:i,targetSectionLocationID:r}=e,n=Je()(e,["targetLibrarySectionID","targetSectionLocationID","mode"]);this.props.dispatchSaveMediaSubscription({serverEntityID:t,metadataItemEntityID:a,targetLibrarySectionID:i,targetSectionLocationID:r,prefs:n})},this.onDelete=()=>{this.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:this.props.metadataItemEntityID})},this.onModeChange=e=>{Object(wa.a)(()=>{this.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})})},this.onMediaMove=()=>{this.props.dispatchMoveMediaSubscriptionModal()},this.onCreatePress=()=>{var{metadataType:e,serverEntityID:t}=this.props,{typeString:a}=Object(Wt.w)(e),i=UQ.g.get(a);this.props.onModalClose(),this.props.dispatchAddLibrary({serverEntityID:t,options:{redirect:!1,seedAttrs:{type:i.typeString,title:i.title,language:i.defaultLanguage}}})},this.state={showConflicts:e.showConflicts}}componentDidMount(){this._populate()}componentWillReceiveProps(e){var t=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&e.conflicts&&e.conflicts.length&&(t=!0),t!==this.state.showConflicts&&this.setState({showConflicts:t});var a=this.props.metadataItemEntityID!==e.metadataItemEntityID,i=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(a||i)&&this._populate(e)}componentWillUnmount(){this.props.dispatchClearMediaSubscriptionModal()}_populate(e=this.props){var{serverEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:i,showConflicts:r}=e;Object(wa.a)(()=>{e.dispatchFetchLibraries({serverEntityID:t}),e.dispatchInitMediaSubscriptionModal({serverEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:i,showConflicts:r})})}render(){var{libraries:e,isLibrariesLoading:t,hasLibrariesError:a,isMediaSubscriptionPending:i,isMediaSubscriptionPopulated:r,mediaSubscriptionError:n,showLibraries:s,onModalClose:o}=this.props;return n?Uu()(s_,{message:n,onModalClose:o}):a?Uu()(s_,{message:Object(Ze.default)("There was an unexpected error loading libraries."),onModalClose:o}):i||!r||t?Uu()(rPe,{onModalClose:o}):s&&e&&!e.length?sOe(nOe,tp()({},this.props,{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?sOe(RPe,tp()({},this.props,{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):sOe(tOe,tp()({},this.props,{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))}}dOe.defaultProps={showConflicts:!1,showLibraries:!0};var uOe=Object(Fu.b)((function(){return Object(_u.a)(RS(),kS(),e=>e.ui.mediaSubscriptionModal,ePe,tPe,lOe(),Object(_u.a)(RQ(),lOe(),(e,t)=>{var a=Object(Wt.w)(t);return e.filter(e=>{var{id:t}=Object(Wt.u)(e.type);return t===a.id}).map(e=>({librarySectionID:e.key,locations:e.locations,title:e.title}))}),(e,t,a,i={},r,n,s)=>{var o,l=D.a.omit(a,"templates","mediaSubscription"),{key:c,grabOperations:d=[],prefs:u}=i,p=Je()(i,["key","grabOperations","prefs"]),h=e.isFullOwnedServer,{initialMode:m,modes:v}=nPe(i,r);d.length&&(o=d.reduce((e,t)=>t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e,[]));var g=$6(u),y=Kt(t),f=y?y.directories[0]:null,b=e&&e.desktop||{};return Object.assign({mediaSubscriptionKey:c,prefGroups:g,metadataType:n,libraries:s,isLibrariesLoading:!b.isLibrariesPopulated||b.isLibrariesPending,hasLibrariesError:!!b.librariesError,initialMode:m,modes:v,conflicts:o,server:e,provider:t,canAddLibrary:h,sourceDirectory:f},l,p)})}),cOe)(dOe),pOe=Ed.a.createElement;var hOe=function(e){var{isOpen:t,metricsProperties:a,onModalClose:i}=e,r=Je()(e,["isOpen","metricsProperties","onModalClose"]);return(Uu()(xT,{isOpen:t,metricsPage:Rd.K,metricsProperties:a,onModalClose:i},void 0,pOe(uOe,tp()({},r,{onModalClose:i}))))};var mOe=function(){return Object(_u.a)($z(),ZG(),(e,t)=>D.a.find(e,e=>"grabber.grab"===e.type&&e.Context.itemKey&&e.Context.itemKey===t.key))};function vOe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}vOe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var gOe=vOe,yOe=a("r2QQ"),fOe=a.n(yOe),bOe=parseInt(YU.a.playerIconButtonSize,10);var IOe=function(e){var{isRecording:t,recordingProgress:a,onPress:i}=e;return(Uu()("div",{className:fOe.a.recordButton},void 0,Uu()($Me,{className:t?fOe.a.playerButtonRecording:fOe.a.playerButton,iconComponent:gOe,"data-qa-id":"recordButton",title:Object(Ze.default)("Record"),onPress:i}),t?Uu()(pV,{size:bOe,containerClassName:fOe.a.recordingProgressBarContainer,backgroundClassName:fOe.a.recordingProgressBackground,lineWidth:2,progress:a,showProgressText:!1}):null))};var SOe=Object(Fu.b)((function(){return Object(_u.a)(mOe(),e=>({isRecording:!!e,recordingProgress:e&&e.progress}))}))(IOe),MOe=a("kV+z"),COe=a.n(MOe),{Component:DOe}=Ed.a;var POe=class extends DOe{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i}=this.props;return a&&i?Uu()("div",{className:COe.a.recordButtonContainer},void 0,Uu()(SOe,{serverEntityID:e,metadataItemEntityID:a,type:i,onPress:this.onRecordPress}),Uu()(hOe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,isOpen:this.state.isSubscribeModalOpen,subscriptionType:i,onModalClose:this.onSubscribeModalClose})):null}};var OOe=Object(Fu.b)((function(){return Object(_u.a)(zDe(),(e={})=>{var{entityID:t,type:a}=e;return{metadataItemEntityID:t,type:a}})}))(POe);function jOe(e,t){var{type:a,subtype:i,viewCount:r,viewOffset:n,saved:s}=e;if(null!=s&&!s)return!1;var o=a===Wt.p&&i===OM.c,l=a===Wt.f&&i===OM.d;return(o||l||function(e,t){var{isLibraryItem:a,isFolder:i,isExtra:r}=e;return a&&!i&&!r&&t.mediaType===tl.e}(e,t))&&!r&&!n}function TOe(e,t){var{type:a,subtype:i,saved:r,unviewedLeafCount:n,isLibraryItem:s,isExtra:o}=e;if(null!=r&&!r)return!1;var l=s&&!o&&Wt.x(a)&&t.mediaType===tl.e,c=a===Wt.o&&(i===OM.c||i===OM.d);return(l||c)&&!!n}function wOe(e){var{type:t,isLibraryItem:a,isExtra:i,Media:r}=e,n=Object(Wt.u)(t);if(!n)return!1;var s=r.length;return a&&!i&&n.mediaType===tl.e&&s>1}var EOe=Ed.a.createElement,{Component:NOe}=Ed.a,xOe={16:!0,17:!0,91:!0,93:!0,224:!0};var AOe=function(e){class t extends NOe{constructor(e,t){super(e,t),this.onKeyDown=e=>{var{pressedModifierKeys:t}=this.state;xOe[e.which]&&-1===t.indexOf(e.which)&&this.setState({pressedModifierKeys:t.concat(e.which)})},this.onKeyUp=e=>{var{pressedModifierKeys:t}=this.state,a=t.indexOf(e.which);a>-1&&this.setState({pressedModifierKeys:t.slice(0,a).concat(t.slice(a+1))})},this.onMouseDown=e=>{this._isMouseDown=!0},this.onMouseUp=e=>{this._isMouseDown=!1},this.onFocusChange=e=>{this.state.pressedModifierKeys.length&&this.setState({pressedModifierKeys:[]}),this._isMouseDown=!1},this.onMouseEnter=e=>{var{selectionType:t,activeSelectionType:a}=this.props;this._isMouseDown&&a&&a===t&&this.onSelectPress(e)},this.onSelectPress=e=>{var{selectionID:t,selectionType:a,isSelected:i,onSelectItem:r}=this.props;i||r({id:t,type:a,isRangeSelect:e.shiftKey})},this.onDeselectPress=e=>{var{selectionID:t,isSelected:a,onDeselectItem:i}=this.props;a&&i({id:t})},this.state={pressedModifierKeys:[]}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)}render(){var t=this.props,{selectionType:a,activeSelectionType:i,isSelected:r}=t,n=Je()(t,["selectionType","activeSelectionType","isSelected"]),{pressedModifierKeys:s}=this.state,o=!!i;return EOe(e,tp()({hasActiveSelection:o,isSelected:r,isOtherItemSelected:o&&!r,isConflictingTypeSelected:o&&i!==a,isModifierKeyPressed:s.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},n))}}return t.displayName="Selectable("+gf(e)+")",t.WrappedComponent=e,t.defaultProps={disableSelection:!1},t};var LOe=a("Rx8e"),kOe=a.n(LOe),{Component:ROe}=Ed.a;class zOe extends ROe{constructor(e,t){super(e,t),this.state={progress:e.progress}}componentWillReceiveProps(e){this.setState({progress:e.progress})}render(){var e=this.props.className,t=this.state.progress;return Uu()("div",{className:e},void 0,Uu()("div",{className:kOe.a.progressTrack}),Uu()("div",{style:{transform:"translate3d(-"+(100-t)+"%, 0, 0)"},className:kOe.a.progressBar}))}}zOe.defaultProps={progress:kOe.a.progress};var UOe=zOe,{Component:VOe}=Ed.a;var BOe=class extends VOe{constructor(e,t){super(e,t),this.tick=()=>{this.setState(this.getState(this.props)),this.setTickTimeout()},this.state=this.getState(e)}componentWillMount(){this.setTickTimeout()}componentWillReceiveProps(e,t){this.setState(this.getState(e))}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this.tickTimeout&&window.clearTimeout(this.tickTimeout)}getState({beginsAt:e,endsAt:t}){return{progress:(a=e,i=t,r=Date.now()/1e3,WI(r-a,i-a))};var a,i,r}setTickTimeout(){this.tickTimeout=window.setTimeout(this.tick,6e4-Date.now()%6e4)}render(){var e=this.props.className,t=this.state.progress;return t?Uu()(UOe,{className:e,progress:t}):null}},FOe=a("s2Sz"),HOe=a.n(FOe),{Component:_Oe}=Ed.a;var QOe=class extends _Oe{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1},this._moreButtonID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{className:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,route:r,type:n,title:s,subscriptionType:o,isSubscribed:l,showLink:c,beginsAt:d,endsAt:u,showPlay:p,showRecord:h,onPlayLiveTVPress:m}=this.props,{isSubscribeModalOpen:v}=this.state;return Uu()("div",{className:(e||"")+" "+(HOe.a.overlay||"")},void 0,Uu()("div",{className:HOe.a.background}),l?Uu()("div",{className:HOe.a.subscriptionBadge},void 0,Uu()(MPe,{type:o})):null,c?Uu()(Vp,{className:HOe.a.link,to:r}):null,Uu()(BOe,{className:HOe.a.progress,beginsAt:d,endsAt:u}),p?Uu()(kle,{className:c?HOe.a.playButton:HOe.a.playCoverButton,circleClassName:HOe.a.playCircle,tabIndex:"-1",title:s,"data-qa-id":"metadataPosterPlayButton",onPress:m}):null,!p&&h?Uu()(Qle,{className:c?HOe.a.recordButton:HOe.a.recordCoverButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:HOe.a.recordCircle,iconClassName:HOe.a.recordIcon,tabIndex:"-1",title:s,onPress:this.onRecordPress}):null,p&&h?Uu()(Qle,{className:HOe.a.recordButtonBottom,"data-qa-id":"metadataPosterRecordButton",circleClassName:HOe.a.recordCircleBottom,iconClassName:HOe.a.recordIconBottom,tabIndex:"-1",title:s,onPress:this.onRecordPress}):null,Uu()(hOe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,isOpen:v,subscriptionType:n,onModalClose:this.onSubscribeModalClose}))}};function WOe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}WOe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var GOe=WOe,YOe=a("87wx"),KOe=a.n(YOe);function qOe(e){var t,{className:a,isDisabled:i,showIndeterminate:r,lineWidth:n,progress:s,arrowSize:o,shadowWidth:l,showShadow:c,size:d}=e,u=null!=s&&s>=0,p=o+"px",h=r?YO.a.primaryColor:YO.a.selectedColor;t=i?YO.a.defaultLinkDisabledLinkColor:u||r?YO.a.dimColor:"currentColor";var m={fontSize:p};if(c){var v=d+2*l;m.width=v+"px",m.height=v+"px",m.borderRadius=v/2+"px"}else m.width=d+n+"px",m.height=d+n+"px";var g=u?void 0:0;return(Uu()("div",{className:(a||"")+" "+(u&&KOe.a.isDownloading||"")+" "+(r&&KOe.a.showIndeterminate||"")+" "+(c&&KOe.a.hasShadow||""),style:m},void 0,Uu()(GOe,{className:KOe.a.arrowIcon}),Uu()(nV,{containerClassName:KOe.a.progressBarContainer,lineWidth:n,progress:u?s:0,showIndeterminate:r,showProgressText:!1,size:d,smoothProgressDuration:g,strokeColor:h,trackColor:t})))}qOe.defaultProps={className:KOe.a.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};var ZOe=qOe,XOe=Ed.a.createElement;var JOe=Object(Fu.b)((function(){return Object(_u.a)(Object(_u.a)((e,{source:t})=>t,(e,{ratingKey:t})=>t,Wie("grabber.grab"),(e,t,a)=>{for(var i of a){var{Context:r}=i;if(r.itemRatingKey===t&&r.source===e&&i.progress>0)return i.progress}}),e=>({progress:e}))}))((function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;var t=Je()(e,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return(XOe(ZOe,t))}));function $Oe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}$Oe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var eje=$Oe;function tje(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}tje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var aje=tje;function ije(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ije.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rje=ije;function nje(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}nje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var sje=nje;function oje(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}oje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var lje=oje;function cje(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}cje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var dje=cje;function uje(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}uje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var pje=uje,hje=a("IMai"),mje=a.n(hje);function vje(e){var{children:t,backgroundClassName:a,className:i,onMouseEnter:r}=e;return(Uu()("div",{className:i,onMouseEnter:r},void 0,Uu()("div",{className:a}),t))}vje.defaultProps={className:mje.a.overlay,backgroundClassName:mje.a.background};var gje=vje,yje=a("I178"),fje=a.n(yje),{Component:bje}=Ed.a,Ije=Uu()(aje,{}),Sje=Uu()(rje,{}),Mje=Uu()(sje,{}),Cje=Uu()(DI,{});var Dje=class extends bje{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1},this._selectButtonID=Mp()}render(){var{className:e,serverEntityID:t,providerEntityID:a,itemServerEntityID:i,itemProviderEntityID:r,metadataItemEntityID:n,containerKey:s,listType:o,metricsContext:l,route:c,title:d,viewPercent:u,unviewedLeafCount:p,mediaCount:h,hasOfflineFile:m,hasOwnSubscription:v,isSubscribed:g,isMultiVersion:y,isSmart:f,isFavorite:b,isMatching:I,isProcessing:S,isAnalyzing:M,isRefreshing:C,isTrash:D,showUnplayedBadge:P,showUnplayedNumberBadge:O,showLink:j,showLinkOnly:T,showPlay:w,showEdit:E,showSelect:N,showMore:x,showFavorite:A,showUnfavorite:L,showRemove:k,showAvailableOffline:R,canDrag:z,hasActiveSelection:U,isSelected:V,isOtherItemSelected:B,isConflictingTypeSelected:F,isModifierKeyPressed:H,isDragging:_,isLeafType:Q,source:W,ratingKey:G,onMouseEnter:Y,onPlayPress:K,onEditPress:q,onFavoritePress:Z,onUnfavoritePress:X,onRemovePress:J,onSelectPress:$,onDeselectPress:ee}=this.props,{isActionsMenuOpen:te}=this.state,ae=N&&(H||B);if(T)return Uu()("div",{className:(e||"")+" "+(fje.a.overlay||"")},void 0,j?Uu()(Vp,{className:fje.a.link,to:c}):null);var ie=U||_||H||C||D,re=te,ne=te||_||C||D,se=g||v||Q&&m;return Uu()(gje,{className:(e||"")+" "+(fje.a.overlay||"")+" "+(U&&fje.a.hasActiveSelection||"")+" "+(V&&fje.a.isSelected||"")+" "+(F&&fje.a.isConflictingTypeSelected||"")+" "+(N&&H&&fje.a.isModifierKeyPressed||"")+" "+(_&&fje.a.isDragging||"")+" "+(te&&fje.a.isActionsMenuOpen||""),backgroundClassName:(fje.a.background||"")+" "+(ie&&fje.a.selectedBackground||"")+" "+(re&&fje.a.hoverBackground||"")+" "+(ne&&fje.a.visibleBackground||""),onMouseEnter:Y},void 0,P?Uu()("div",{className:fje.a.unplayedTagContainer,"data-qa-id":"metadataPosterUnwatchedBadge"},void 0,Uu()("div",{className:fje.a.unplayedTag})):null,O?Uu()("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:fje.a.unplayedBadge},void 0,p):null,y&&!se?Uu()("div",{className:fje.a.versionBadge,"data-qa-id":"metadataPosterMultipleVersionBadge"},void 0,Uu()(lje,{className:fje.a.versionBadgeIcon}),h):null,!f||b||se?null:Uu()("div",{className:fje.a.smartBadge,"data-qa-id":"metadataPosterSmartBadge"},void 0,Uu()(XH,{className:fje.a.smartBadgeIcon})),f&&b&&!se?Uu()("div",{className:fje.a.favoriteBadge,"data-qa-id":"metadataPosterFavoriteBadge"},void 0,Uu()(sje,{className:fje.a.favoriteBadgeIcon})):null,u?Uu()(UOe,{className:fje.a.progress,progress:u}):null,C?Uu()("div",{className:fje.a.refreshingSpinnerContainer},void 0,Uu()(Xh,{className:fje.a.refreshingSpinner})):null,I?Uu()("div",{className:fje.a.refreshingCircle},void 0,Uu()(Tee,{"aria-label":Object(Ze.default)("Matching")})):null,S?Uu()("div",{className:fje.a.refreshingCircle},void 0,Uu()(dje,{"aria-label":Object(Ze.default)("Downloading Metadata")})):null,M?Uu()("div",{className:fje.a.refreshingCircle},void 0,Uu()(eje,{"aria-label":Object(Ze.default)("Analyzing")})):null,D?Uu()("div",{className:fje.a.trashCircle},void 0,Uu()(pje,{"aria-label":Object(Ze.default)("In Trash")})):null,j?Uu()(Vp,{className:fje.a.link,to:c}):null,ae&&!F?Uu()(Vp,{className:fje.a.selectCoverButton,onPress:$}):null,ae&&F?Uu()(zb,{className:fje.a.selectCoverButton,component:Vp,tooltip:Object(Ze.default)("A different type is selected"),tooltipAttachment:Sb,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,R?Uu()(JOe,{className:fje.a.hasSubscriptionBadge,source:W,ratingKey:G,hasOfflineFile:m,hasOwnSubscription:v,showShadow:!0}):null,R?Uu()(qie,{metadataItemEntityID:n,providerEntityID:r}):null,w?Uu()(kle,{className:j?fje.a.playButton:fje.a.playCoverButton,circleClassName:fje.a.playCircle,component:z?"div":"button",tabIndex:"-1",title:d,"data-qa-id":"metadataPosterPlayButton",onPress:K}):null,E?Uu()(Vp,{className:fje.a.editButton,tabIndex:"-1","aria-label":Object(Ze.default)("Edit {title}",{title:d}),"data-qa-id":"metadataPosterEditButton",onPress:q},void 0,Ije):null,A&&!se?Uu()(Vp,{className:fje.a.favoriteButton,tabIndex:"-1","aria-label":Object(Ze.default)("Add {title} to favorites",{title:d}),"data-qa-id":"metadataPosterFavoriteButton",onPress:Z},void 0,Sje):null,L&&!se?Uu()(Vp,{className:fje.a.favoriteButton,tabIndex:"-1","aria-label":Object(Ze.default)("Remove {title} from favorites",{title:d}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:X},void 0,Mje):null,k?Uu()(Vp,{className:fje.a.removeButton,tabIndex:"-1","aria-label":Object(Ze.default)("Remove {title}",{title:d}),onPress:J},void 0,Cje):null,x?Uu()(Xoe,{"data-qa-id":"metadataPosterMoreButton",className:fje.a.moreButton,tabIndex:"-1",serverEntityID:t,providerEntityID:a,itemServerEntityID:i,itemProviderEntityID:r,metadataItemEntityID:n,containerKey:s,listType:o,metricsContext:l,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:te,onMenuOpenChange:this.onActionsMenuOpenChange}):null,N?Uu()(zU,{id:this._selectButtonID,className:fje.a.selectButton,circleClassName:fje.a.selectCircle,tabIndex:"-1",title:d,isSelected:V,isDisabled:F,onPress:$}):null,V?Uu()(Vp,{className:fje.a.deselectCoverButton,onPress:ee}):null)}},Pje=Ed.a.createElement,Oje=AOe(Dje);var jje=xG((function(){return Object(_u.a)((e,{type:t})=>t,(e,{listType:t})=>t,ZG(),die,cie,uw,xIe(),Object(_u.a)(ZG(),e=>e&&e.viewOffset?WI(e.viewOffset,e.duration):0),Hie(),Hbe(),(e,t,a,i={},r={},n={},s,o,l,c)=>{var{subtype:d,title:u,viewCount:p,viewOffset:h,unviewedLeafCount:m,smart:v,icon:g,metadataState:y,mediaState:f,deletedAt:b,subscriptionID:I,subscriptionType:S,grandparentSubscriptionID:M,grandparentSubscriptionType:C,ratingKey:D,isFolder:P,isPlaylist:O,Media:j}=a,T=Sie({server:i,provider:r,stableUser:n,metadataItem:a}),w=!!r.features.subscribe,E=Nie({server:i,provider:r,stableUser:n,metadataItem:a}),N=t===Wt.k&&jie({server:i,provider:r,stableUser:n,metadataItem:a}),x=t===Wt.k&&Tie({server:i,provider:r,stableUser:n,metadataItem:a}),A=Uie({server:i,provider:r,stableUser:n,metadataItem:a}),L=Wt.u(e),k=Wt.t(e),R=!(!L||!k||L.id!==k.id),z=j.length,U=null!=I||null!=M,V=!!v&&O,B="playlist://image.favorite"===g,F="matching"===y,H="processing"===y||"loading"===y,_=!F&&!H&&!!f,Q=F||H||_,W=!Q&&!!b,G=!(!D||!l)&&be.a.allowSyncDownload;return{server:i,provider:r,route:s,title:u,viewCount:p,viewOffset:h,viewPercent:o,unviewedLeafCount:m,mediaCount:z,subscriptionType:S||C,type:e,subtype:d,isSubscribed:U,isMultiVersion:wOe(a),isSmart:V,isFavorite:B,isMatching:F,isProcessing:H,isAnalyzing:_,isRefreshing:Q,isTrash:W,isLeafType:R,showLink:!!s,showUnplayedBadge:jOe(a,L),showUnplayedNumberBadge:TOe(a,k),showPlay:T,showRecord:w,showEdit:E,showFavorite:N,showUnfavorite:x,showSelect:A,showMore:!P,showAvailableOffline:G,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:D,hasOfflineFile:Zie(a),hasOwnSubscription:Xie(a)}})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(Cw.p)(Object.assign({},a,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress(){e(Kme(Object.assign({},a,{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress(){e(xae(a))},onFavoritePress(){e(Gae(a))},onUnfavoritePress(){e(Yae(a))}}}),lie)((function(e){var{provider:t}=e,a=Je()(e,["server","provider"]),i=Object.assign({},a,{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return t.protocols.livetv?Pje(QOe,i):e.showSelect&&!e.showLinkOnly?Pje(Oje,i):Pje(Dje,i)})),Tje=a("CWZi"),wje=a.n(Tje),Eje=Ed.a.createElement;function Nje(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,itemServerEntityID:n,itemProviderEntityID:s,type:o,subtype:l,selectionType:c,activeSelectionType:d,isSelected:u,isOffscreen:p,visibleFace:h,imageWidth:m,imageHeight:v,imageUrl:g,disableCrossFade:y,icon:f,backgroundSize:b,isFolder:I,showOverlay:S,onImageLoad:M,onImageError:C,onSelectItem:D,onDeselectItem:P}=e,O=Je()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","backgroundSize","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return(Uu()("div",{className:(t||"")+" "+(wje.a[h]||"")+" "+(u&&wje.a.isSelected||"")},void 0,Uu()(PM,{serverEntityID:a,providerEntityID:i,itemServerEntityID:n,itemProviderEntityID:s,type:o,subtype:l,isOffscreen:p,url:g,width:m,height:v,disableCrossFade:y,icon:f,backgroundSize:b,isFolder:I,onLoad:M,onError:C}),S?Eje(jje,tp()({serverEntityID:a,providerEntityID:i,itemServerEntityID:n,itemProviderEntityID:s,metadataItemEntityID:r,type:o,selectionID:r,selectionType:c,activeSelectionType:d,isSelected:u,onSelectItem:D,onDeselectItem:P},O)):null))}Nje.defaultProps={className:wje.a.face,showOverlay:!0};var xje=Nje,Aje=a("aJpN"),Lje=a.n(Aje),kje=Ed.a.createElement,{Component:Rje}=Ed.a,zje=mg(iMe.a.posterFlipSpeed);class Uje extends Rje{constructor(e,t){super(e,t),this.onImageLoad=()=>{this.state.isLoadingFace&&this._flipCard()},this.onImageError=()=>{this.state.isLoadingFace&&this._flipCard()},this.onFlipComplete=()=>{this.setState({isFlippingFace:!1,previousImageUrl:null})},this.state={visibleFace:"faceFront",isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null}}componentWillReceiveProps(e){var t=this.props.imageUrl,a=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&a&&this._prepareFlip(t)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){this._cancelFlip()}_prepareFlip(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})}_flipCard(){this.setState(e=>({isLoadingFace:!1,visibleFace:"faceFront"===e.visibleFace?"faceBack":"faceFront"}),()=>{this._flipTimeoutID=window.setTimeout(this.onFlipComplete,zje)})}_cancelFlip(){this._flipTimeoutID&&(this._flipTimeoutID=window.clearTimeout(this._flipTimeoutID))}render(){var e=this.props,{className:t,cardClassName:a,cardFaceClassName:i,metadataKey:r,imageWidth:n,imageHeight:s,imageUrl:o}=e,l=Je()(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),{visibleFace:c,isLoadingFace:d,isFlippingFace:u,previousImageUrl:p}=this.state,h={width:n,height:s};return Uu()("div",{className:t,"data-qa-id":"metadataPosterCard--"+r},r,Uu()("div",{className:(a||"")+" "+("faceBack"===c&&Lje.a.isFlipped||""),style:h},void 0,"faceFront"===c||u?kje(xje,tp()({key:"faceFront",className:i,visibleFace:"faceFront",imageWidth:n,imageHeight:s,imageUrl:"faceFront"===c&&!d||"faceBack"===c&&d?o:p,disableCrossFade:u,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null,"faceBack"===c||u?kje(xje,tp()({key:"faceBack",className:i,visibleFace:"faceBack",imageWidth:n,imageHeight:s,imageUrl:"faceBack"===c&&!d||"faceFront"===c&&d?o:p,disableCrossFade:u,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null))}}Uje.defaultProps={className:Lje.a.cardContainer,cardClassName:Lje.a.card};var Vje=Uje;function Bje(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Bje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Fje=Bje,Hje=a("yD7D"),_je=a.n(Hje);function Qje(e){var{className:t,cardClassName:a,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,metadataKey:s,type:o,disableExpandButton:l,imageWidth:c,imageHeight:d,imageUrl:u,isMusic:p,onExpandPress:h}=e,m=p?"music":s;return Uu()("div",{className:t,style:{width:c}},void 0,Uu()("div",{className:_je.a.cardContainer},void 0,Uu()($Me,{className:_je.a.expandButton,"data-qa-id":"expandPlayerButton",iconComponent:Fje,isDisabled:l,title:Object(Ze.default)("Expand Player"),onPress:h}),Uu()(Vje,{cardClassName:a,serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,metadataKey:m,type:o,imageWidth:c,imageHeight:d,imageUrl:u,showLinkOnly:!0,showOverlay:!1})))}Qje.defaultProps={className:_je.a.miniPlayerPoster,cardClassName:_je.a.card};var Wje=Qje,Gje=parseInt(YU.a.playerControlsPosterHeight,10);var Yje=Object(Fu.b)((function(){return Object(_u.a)(wpe(),e=>{var t=oie(null,Gje,e.type,e.subtype,e,"player");return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:t.width,imageHeight:t.height,imageUrl:t.url}})}),(function(e,{playerType:t}){var a={playerType:t};return{onExpandPress(t){e(WMe(a))}}}))(Wje);function Kje(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Kje.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var qje=Kje,Zje=Ed.a.createElement,{Component:Xje}=Ed.a,Jje={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showWatchTogether:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showUnmatch:!1};var $je=class extends Xje{constructor(e,t){super(e,t),this.onPress=()=>{this.setState((e,t)=>({isMenuOpen:!e.isMenuOpen}),()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataActionProps:i,isDisabled:r}=this.props,n=Object.assign({},i,Jje);return D.a.values(n).some(e=>e)?Uu()("span",{},void 0,Uu()($Me,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:qje,isDisabled:r,title:Object(Ze.default)("More Actions"),onPress:this.onPress}),Zje(Koe,tp()({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,target:this._menuButtonID,isOpen:this.state.isMenuOpen},Jje,{onMenuClose:this.onMenuClose}))):null}};var eTe=Object(Fu.b)((function(){return Object(_u.a)(Bie(),e=>({metadataActionProps:e}))}))($je),tTe=250,aTe=.5;function iTe(e={}){var t,a,{callback:i,axisLockDuration:r=tTe,sensitivity:n=aTe,maxAbsDelta:s=Number.MAX_SAFE_INTEGER}=e;return e=>{e.preventDefault(),(void 0===a||e.timeStamp-a>=r)&&(t=Math.abs(e.deltaX)>Math.abs(e.deltaY)?"deltaX":"deltaY",a=e.timeStamp);var o=e[t]*n;if(o){var l=Math.max(0,Math.min(s,Math.abs(o)));l*=o>0?1:-1,l=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?l:-l,i(l)}}}function rTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}rTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var nTe=rTe;function sTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}sTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var oTe=sTe;function lTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}lTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var cTe=lTe;function dTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}dTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var uTe=dTe,{Component:pTe}=Ed.a,hTe=parseInt(YU.a.playerVolumeSliderHeight,10);var mTe=class extends pTe{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.props.onVolumeChange(e)},this.onWheel=iTe({callback:this.onWheelDelta,maxAbsDelta:hTe/10})}render(){var{className:e,volume:t,onPress:a}=this.props,i=uTe;return t>60?i=nTe:t>40?i=cTe:t>0&&(i=oTe),Uu()("span",{onWheel:this.onWheel},void 0,Uu()($Me,{className:e,title:0===t?Object(Ze.default)("Unmute Volume"):Object(Ze.default)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:i,onPress:a}))}},vTe=a("wnar"),gTe=a.n(vTe),yTe=Ed.a.createElement;function fTe(e){return yTe(rB,tp()({},e,{isVertical:!0}))}fTe.defaultProps={className:gTe.a.slider,fillClassName:gTe.a.fill,thumbClassName:gTe.a.thumb,thumbTrackClassName:gTe.a.thumbTrack,trackClassName:gTe.a.track};var bTe=fTe,ITe=a("LttS"),STe=a.n(ITe),{Component:MTe}=Ed.a,CTe=parseInt(YU.a.playerVolumeSliderHeight,10);class DTe extends MTe{constructor(e,t){super(e,t),this.onWheelDelta=e=>{this.onChange({positionDelta:e})},this.onChange=({positionDelta:e})=>{this.props.onVolumeChange(e)},this.onWheel=iTe({callback:this.onWheelDelta,maxAbsDelta:CTe/10})}render(){var{className:e,volume:t}=this.props;return(Uu()(bTe,{className:e,trackClassName:STe.a.track,fillClassName:STe.a.fill,showFill:!0,autoHideThumb:!0,stepSize:1,value:t,onChange:this.onChange,onWheel:this.onWheel}))}}DTe.defaultProps={className:STe.a.slider};var PTe=DTe,OTe=a("EQVT"),jTe=a.n(OTe);var TTe=function(e){var{title:t,summary:a,dateTaken:i,index:r,size:n}=e,s="";i&&(s+=Object(vle.default)(i)),a&&(s+=s?"  "+a:" "+a);var o=!(!t||!t.length),l=!!s.length,c=!!n;return Uu()("div",{className:jTe.a.container},void 0,o?Uu()(qbe,{component:hle,title:t}):null,l?Uu()(qbe,{component:hle,isSecondary:o,title:s}):null,c?Uu()(qbe,{component:hle,isSecondary:o||l,title:Object(Ze.default)("{currentIndex} of {size}",{currentIndex:r+1,size:n})}):null)};var wTe=Object(Fu.b)((function(){return Object(_u.a)(hpe(),ZG(),(e,t)=>{var{title:a,summary:i,originallyAvailableAt:r,addedAt:n}=t;return{title:a,summary:i,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:r||Object(pIe.default)(n,"yyyy-MM-dd")}})}))(TTe);wTe.propTypes=Object.assign({},wTe.propTypes,{metadataItemEntityID:Oc.a.string.isRequired,playerType:Oc.a.string.isRequired});var ETe=wTe;function NTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}NTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var xTe=NTe;function ATe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ATe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var LTe=ATe;function kTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}kTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var RTe=kTe;function zTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}zTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var UTe=zTe;function VTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}VTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var BTe=VTe;function FTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}FTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var HTe=FTe;function _Te(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}_Te.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var QTe=_Te;function WTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}WTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var GTe=WTe;function YTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}YTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var KTe=YTe;function qTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}qTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var ZTe=qTe;function XTe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}XTe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var JTe=XTe;function $Te(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}$Te.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var ewe=$Te;function twe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}twe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var awe=twe;function iwe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}iwe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rwe=iwe;function nwe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}nwe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var swe=nwe;function owe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}owe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var lwe=owe;function cwe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}cwe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var dwe=cwe;function uwe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}uwe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var pwe=uwe;function hwe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}hwe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var mwe=hwe,vwe=a("FzNv"),gwe=a.n(vwe),{Fragment:ywe}=Ed.a;function fwe(e){var t,{className:a,durationSeconds:i,hasLiveTVProtocol:r,isMiniPlayer:n,isMusic:s,isVideo:o,isGame:l,metadataItemEntityID:c,playerType:d,positionSeconds:u,providerEntityID:p,serverEntityID:h,volume:m,activateChaptersButton:v,activateLyricsButton:g,activatePhotoInformationButton:y,activatePhotoStripButton:f,activateQueueButton:b,activateRepeatButton:I,activateRepeatOneButton:S,activateSettingsButton:M,activateWatchTogetherParticipantsButton:C,activateShuffleButton:D,disableCloseButton:P,disableLyricsButton:O,disableMenuButton:j,disableNextButton:T,disablePauseButton:w,disablePlayButton:E,disablePreviousButton:N,disableQueueButton:x,disableRepeatButton:A,disableRepeatOneButton:L,disableSettingsButton:k,disableShuffleButton:R,disableSkipBackButton:z,disableSkipForwardButton:U,showChaptersButton:V,showCloseButton:B,showDuration:F,showEditButton:H,showFavoriteButton:_,showLyricsButton:Q,showMenuButton:W,showNextButton:G,showPauseButton:Y,showPhotoInformationButton:K,showPhotoStripButton:q,showPlayButton:Z,showPreviousButton:X,showQueueButton:J,showRecordButton:$,showRepeatButton:ee,showRepeatOneButton:te,showSettingsButton:ae,showWatchTogetherParticipantsButton:ie,showShuffleButton:re,showSkipBackButton:ne,showSkipForwardButton:se,showUnfavoriteButton:oe,showVolume:le,onChaptersPress:ce,onClosePress:de,onControlsMenuChange:ue,onEditPress:pe,onFavoritePress:he,onLyricsPress:me,onNextPress:ve,onPausePress:ge,onPhotoInformationPress:ye,onPhotoStripPress:fe,onPlayPress:be,onPreviousPress:Ie,onQueuePress:Se,onRepeatOnePress:Me,onRepeatPress:Ce,onSettingsPress:De,onWatchTogetherParticipantsPress:Pe,onShufflePress:Oe,onSkipBackPress:je,onSkipForwardPress:Te,onUnfavoritePress:we,onVolumeChange:Ee,onVolumeIconPress:Ne}=e;t=d===I6.b?ETe:r?RDe:LDe;var xe=le&&null!=m,Ae=r?null:gwe.a.balanceLeft,Le=o||l?gwe.a.hasLandscapePoster:gwe.a.hasSquarePoster;return Uu()(ywe,{},void 0,Uu()("div",{className:(a||"")+" "+(n&&Le||""),"data-qa-id":"playerControlsContainer"},void 0,Uu()("div",{className:gwe.a.buttonGroupLeft},void 0,n?Uu()(Yje,{playerType:d,isVideo:o,isMusic:s}):null,Uu()(t,{metadataItemEntityID:c,playerType:d,positionSeconds:u,durationSeconds:i,showDuration:F,showStarRating:s})),Uu()("div",{className:(gwe.a.buttonGroupCenter||"")+" "+(Ae||"")},void 0,$?Uu()(OOe,{playerType:d,"data-qa-id":"recordButton",serverEntityID:h,providerEntityID:p,positionSeconds:u}):null,X?Uu()($Me,{iconComponent:ZTe,"data-qa-id":"previousButton",isDisabled:N,title:Object(Ze.default)("Previous"),onPress:Ie}):null,ne?Uu()($Me,{iconComponent:lwe,"data-qa-id":"skipBackButton",isDisabled:z,title:Object(Ze.default)("Skip Back 10 Seconds"),onPress:je}):null,Z?Uu()($Me,{iconComponent:KTe,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:E,title:Object(Ze.default)("Play"),onPress:be}):null,Y?Uu()($Me,{iconComponent:GTe,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:w,title:Object(Ze.default)("Pause"),onPress:ge}):null,se?Uu()($Me,{iconComponent:dwe,"data-qa-id":"skipForwardButton",isDisabled:U,title:Object(Ze.default)("Skip Forward 30 Seconds"),onPress:Te}):null,G?Uu()($Me,{iconComponent:QTe,"data-qa-id":"nextButton",isDisabled:T,title:Object(Ze.default)("Next"),onPress:ve}):null,B?Uu()($Me,{"data-qa-id":"closeButton",isDisabled:P,iconComponent:pwe,title:Object(Ze.default)("Close Player"),onPress:de}):null),Uu()("div",{className:gwe.a.buttonGroupRight},void 0,W?Uu()(eTe,{serverEntityID:h,"data-qa-id":"moreButton",providerEntityID:p,metadataItemEntityID:c,isDisabled:j,onMenuChange:ue}):null,ee?Uu()($Me,{iconComponent:ewe,"data-qa-id":"repeatButton",isDisabled:A,isActive:I,title:Object(Ze.default)("Repeat"),onPress:Ce}):null,te?Uu()($Me,{iconComponent:awe,"data-qa-id":"repeatOneButton",isDisabled:L,isActive:S,title:Object(Ze.default)("Repeat One"),onPress:Me}):null,re?Uu()($Me,{iconComponent:swe,"data-qa-id":"shuffleButton",isDisabled:R,isActive:D,title:Object(Ze.default)("Shuffle"),onPress:Oe}):null,H?Uu()($Me,{iconComponent:LTe,"data-qa-id":"playerEditButton",title:Object(Ze.default)("Edit"),onPress:pe}):null,_?Uu()($Me,{iconComponent:RTe,"data-qa-id":"playerFavoriteButton",title:Object(Ze.default)("Add to Favorites"),onPress:he}):null,oe?Uu()($Me,{iconComponent:UTe,"data-qa-id":"playerUnfavoriteButton",title:Object(Ze.default)("Remove from Favorites"),onPress:we}):null,K?Uu()($Me,{iconComponent:BTe,"data-qa-id":"playerPhotoInfoButton",title:Object(Ze.default)("Information"),isActive:y,onPress:ye}):null,q?Uu()($Me,{iconComponent:mwe,"data-qa-id":"playerPhotoStripButton",isActive:f,title:Object(Ze.default)("Show Photo Strip"),onPress:fe}):null,Q?Uu()($Me,{iconComponent:HTe,"data-qa-id":"lyricsButton",isDisabled:O,isSelected:g,title:Object(Ze.default)("Lyrics"),onPress:me}):null,ae?Uu()($Me,{iconComponent:rwe,"data-qa-id":"videoSettingsButton",isDisabled:k,isActive:M,title:Object(Ze.default)("Settings"),onPress:De}):null,V?Uu()($Me,{iconComponent:xTe,"data-qa-id":"chaptersButton",isActive:v,title:Object(Ze.default)("Chapters"),onPress:ce}):null,J?Uu()($Me,{iconComponent:JTe,"data-qa-id":"playQueueButton",isDisabled:x,isActive:b,title:Object(Ze.default)("Play Queue"),onPress:Se}):null,ie?Uu()($Me,{iconComponent:iS,"data-qa-id":"watchTogetherParticipantsButton",isActive:C,title:Object(Ze.default)("Participants"),onPress:Pe}):null,xe?Uu()(mTe,{className:gwe.a.volumeButton,"data-qa-id":"volumeButton",volume:m,onPress:Ne,onVolumeChange:Ee}):null)),xe?Uu()(PTe,{className:gwe.a.volumeSlider,volume:m,onVolumeChange:Ee}):null)}fwe.defaultProps={className:gwe.a.controls,isMusic:!1,isVideo:!1,isGame:!1,isPhoto:!1};var bwe=fwe;var Iwe=Object(Fu.b)((function(){return Object(_u.a)((e,{isVideo:t})=>t,(e,{isMusic:t})=>t,(e,{isAdVisible:t})=>t,(e,{isWatchTogether:t})=>t,(e,{disableNextButton:t})=>t,(e,{disablePreviousButton:t})=>t,D9(),vpe(),Spe(),O9(),(e,t,a,i,r,n,s,o,l,c)=>{var{isPostPlayVisible:d,positionSeconds:u,durationSeconds:p,controllable:h}=s,m=p-u,v=o.subtype===OM.b,g=o.subtype===OM.c,y=l&&l.chapters&&l.chapters.length>0,f=!a&&(e&&!v&&!d||g),b=!!h&&(!h.playbackSpeed&&t);return{positionSeconds:u,durationSeconds:p,hasLiveTVProtocol:c.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:a||r,disablePreviousButton:a||n,disableQueueButton:a,disableSettingsButton:b,disableSkipForwardButton:m<=Ame.b,showChaptersButton:e&&!d&&y,showDuration:!d,showLyricsButton:t&&!g,showMenuButton:!d&&!v,showQueueButton:!i,showSettingsButton:!d&&!v,showWatchTogetherParticipantsButton:i,showShuffleButton:!v&&!i,showSkipBackButton:f,showSkipForwardButton:f}})}))(bwe);var Swe=a("b+Z3"),Mwe=a.n(Swe),{Component:Cwe}=Ed.a,Dwe=parseInt(YU.a.seekBarTooltipSmallWidth,10),Pwe=parseInt(YU.a.seekBarTooltipLargeWidth,10),Owe={containerWidth:99,containerHeight:99};class jwe extends Cwe{render(){var{tooltipClassName:e,serverEntityID:t,providerEntityID:a,size:i,position:r,hoverValue:n,mediaItems:s,mediaIndex:o,partIndex:l,formatValue:c,isVisible:d}=this.props;null!=n&&(this._formattedTime=c(n));var u=s&&s[o],p=function(e,t){if(e&&null!=t){var a=KI(e);return null!=a?"/library/parts/"+e.id+"/indexes/"+a+"/"+Math.floor(t):void 0}}(u&&u.Part[l],n);p&&(this._imageUrl=p);var{containerWidth:h,containerHeight:m}=function(e){var t=Object($M.a)(e);if(null==t||null==t.width||null==t.height)return Owe;var{width:a,height:i}=t,r=99,n=99;return a>i?r=Math.round(r*(a/i)):n=Math.round(n*(i/a)),{containerWidth:r,containerHeight:n}}(u),v=function(e,t,a){var i=e.x-t/2;return i<0?i=0:i+t>window.innerWidth&&(i=window.innerWidth-t),{left:i,top:e.y-a-10,height:a}}(r,h,m),g=function(e,t,a){var i=a===wp?Pwe:Dwe,r=t/2-i/2,n=e.x-t/2;if(n<0){var s=e.x-i/2;r=Math.max(s,4)}else if(n+t>window.innerWidth){var o=t-i-4,l=t-(window.innerWidth-e.x)-i/2;r=Math.min(l,o)}return{left:r}}(r,h,i);return Uu()("div",{className:d?Mwe.a.visibleContainer:Mwe.a.hiddenContainer,style:v},void 0,this._imageUrl?Uu()(YS,{className:Mwe.a.thumbnail,serverEntityID:t,providerEntityID:a,url:this._imageUrl,width:h,height:m}):null,Uu()("div",{className:(e||"")+" "+(Mwe.a[i]||""),style:g},void 0,this._formattedTime))}}jwe.defaultProps={tooltipClassName:Mwe.a.tooltip,size:jp,formatValue:xM};var Twe=jwe;var wwe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),({Media:e}={})=>e&&e.length?{mediaItems:e}:{})}))(Twe),Ewe=a("Dmct"),Nwe=a.n(Ewe),xwe=Ed.a.createElement,{Component:Awe}=Ed.a;class Lwe extends Awe{constructor(e,t){super(e,t),this.onChange=({positionValue:e})=>{this.props.onSeek&&this.props.onSeek({playerType:this.props.playerType,positionSeconds:Math.floor(e/1e3)})},this.onMove=({positionValue:e,position:t})=>{this.setState({hoverValue:e,portalPosition:t})},this.onMouseLeave=()=>{this.setState({hoverValue:null})},this.state={hoverValue:null,portalPosition:{x:0,y:0}}}render(){var e=this.props,{className:t,trackClassName:a,bufferClassName:i,fillClassName:r,canSeek:n,positionMilliseconds:s,offsetMilliseconds:o,durationMilliseconds:l,bufferStartMilliseconds:c,bufferEndMilliseconds:d,showBuffer:u,noFillTransition:p,isDisabled:h,onSeekEnd:m,onSeekStart:v}=e,g=Je()(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled","onSeekEnd","onSeekStart"]);if(!n)return null;var{hoverValue:y,portalPosition:f}=this.state;return(Uu()("div",{onMouseLeave:this.onMouseLeave},void 0,Uu()(rB,{className:t,trackClassName:a,secondaryFillClassName:(i||"")+" "+(p&&Nwe.a.noFillTransition||""),fillClassName:(r||"")+" "+(p&&Nwe.a.noFillTransition||""),value:s,min:o,max:l,secondaryMin:c,secondaryMax:d,showFill:!0,showSecondaryFill:u,autoHideThumb:!0,isDisabled:h,onChange:this.onChange,onMove:h?null:this.onMove,onDragStart:v,onDragComplete:m}),Uu()(og,{},void 0,xwe(wwe,tp()({},g,{position:f,hoverValue:y,isVisible:null!=y})))))}}Lwe.defaultProps={className:Nwe.a.seekBar,trackClassName:Nwe.a.seekBarTrack,fillClassName:Nwe.a.seekBarFill,bufferClassName:Nwe.a.seekBarBuffer,canSeek:!0,showBuffer:!1,noFillTransition:$d(),isDisabled:!1};var kwe=Lwe;var Rwe={onSeek:bse.w},zwe=uye(kwe),Uwe=Object(Fu.b)((function(){return Object(_u.a)(D9(),vpe(),(e,t)=>{var{serverEntityID:a,providerEntityID:i,positionSeconds:r,durationSeconds:n,mediaIndex:s,partIndex:o,controllable:l}=e,c={serverEntityID:a,providerEntityID:i,metadataItemEntityID:t.metadataItem,canSeek:!!n,positionSeconds:r,durationMilliseconds:1e3*n,mediaIndex:s,partIndex:o};return l&&!l.seekTo&&(c.canSeek=!1),c})}),Rwe)(zwe),Vwe=a("VpnA"),Bwe=a.n(Vwe),Fwe=Ed.a.createElement;var Hwe=function(e){var{durationMilliseconds:t}=e;return null!=t?Fwe(kwe,tp()({fillClassName:Bwe.a.seekBarFill,isDisabled:!0},e)):null};function _we(){return Object(_u.a)(P9("seekStartSeconds"),P9("seekEndSeconds"),Dpe(),(e=0,t=0,a)=>{var i=a&&a.captureBuffer,r=0;return a&&i?(r=i.startedAt,e=i.seekStartSeconds,t=i.seekEndSeconds):a&&(r=a.startedAt),{seekRangeStartedAtSeconds:r,seekStartSeconds:e,seekEndSeconds:t}})}var Qwe=Object(_u.a)(A8,e=>!!e),Wwe=Ed.a.createElement,{Component:Gwe}=Ed.a;class Ywe extends Gwe{constructor(...e){super(...e),this.formatPlayerTime=e=>{var t=this.props.timeFormat;return Object(pIe.default)(e/1e3,t)},this.onSeek=({positionSeconds:e})=>{var{seekRangeStartedAtSeconds:t,seekStartSeconds:a,seekEndSeconds:i}=this.props,r=t+a,n=t+i;e<r?e=r:e>n&&(e=n),this.props.onSeek({playerType:this.props.playerType,seekPosition:e})}}render(){var e=this.props,{isCloud:t,canSeek:a,currentPosition:i,beginsAt:r,endsAt:n,seekRangeStartedAtSeconds:s,seekStartSeconds:o,seekEndSeconds:l}=e,c=Je()(e,["isCloud","canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!a&&!t)return Wwe(kwe,tp()({},c,{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:wp,onSeek:this.onSeek}));var d=1e3*(s?s+o:i),u=1e3*(s?s+l:i),p=1e3*r,h=1e3*(n-1),m=t?p:Math.max(p,d),v=t?h:Math.min(h,u),g=function(e){var{isCloud:t,isRemotePlayer:a,currentPosition:i,positionMilliseconds:r,streamStartedAt:n,lastSeekPosition:s}=e;return!!s||a||t?1e3*i:1e3*n+r}(this.props);return Wwe(kwe,tp()({},c,{positionMilliseconds:g,offsetMilliseconds:p,durationMilliseconds:h,bufferStartMilliseconds:m,bufferEndMilliseconds:Math.max(v,0),showBuffer:!t,canSeek:a||t,isDisabled:!a||t,formatValue:this.formatPlayerTime,size:wp,onSeek:this.onSeek}))}}Ywe.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};var Kwe=uye(Ywe),qwe=Object(_u.a)(_be,e=>e.replace(":mm",":mm:ss"));var Zwe={onSeek:ive},Xwe=Object(Fu.b)((function(){return Object(_u.a)(qwe,Qwe,jpe(),Tpe(),Dpe(),_we(),D9(),$he(),(e,t,a={},i={},r,n,s,o)=>{var{beginsAt:l,endsAt:c}=i,{serverEntityID:d,controllable:u,playbackStartTime:p}=s,{isCloud:h}=o,m=c-l,v={serverEntityID:d,metadataItemEntityID:a.entityID,isCloud:h,isRemotePlayer:t,canSeek:!(!m||!r),beginsAt:l,endsAt:c,playbackStartTime:p,durationSeconds:m,timeFormat:e,positionSeconds:s.positionSeconds};return!h&&n&&Object.assign(v,n),u&&!u.seekTo&&(v.canSeek=!1),r&&(v.streamStartedAt=r.startedAt,v.currentPosition=r.currentPosition,v.lastSeekPosition=r.lastSeekPosition),v})}),Zwe)(Kwe),Jwe=Ed.a.createElement;var $we=function(e){var{isAdVisible:t,hasLiveTVProtocol:a,adPositionMilliseconds:i,adDurationMilliseconds:r}=e,n=Je()(e,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return t?Jwe(Hwe,tp()({},n,{positionMilliseconds:i,durationMilliseconds:r,showBuffer:!1})):a?Jwe(Xwe,n):Jwe(Uwe,tp()({},n,{showBuffer:!0}))};var eEe=Object(Fu.b)((function(){return Object(_u.a)(O9(),e=>({hasLiveTVProtocol:e.protocols.includes("livetv")}))}))($we);var tEe=Object(Fu.b)((function(){return Object(_u.a)(_S,Ppe(),_we(),P9("isPaused"),(e,t,a,i)=>{var r=jt.k(e.identifier,jt.b),{disablePreviousButton:n,disableSkipForwardButton:s,disableNextButton:o}=function(e,t){var{seekRangeStartedAtSeconds:a,seekStartSeconds:i,seekEndSeconds:r}=t,n=e-a;return{disablePreviousButton:n<=Ame.a||n-i<=Ame.a,disableSkipForwardButton:r-n<=15,disableNextButton:r-n<=15}}(t,a);return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showPauseButton:!i&&!r,showPreviousButton:!r,showSkipBackButton:!r,showSkipForwardButton:!r,showNextButton:!r,disablePreviousButton:n,disableSkipForwardButton:s,disableNextButton:o}})}),(function(e,{playerType:t}){var a={playerType:t};return{onPreviousPress(t){e(eve(a))},onSkipBackPress(t){e(tve(a))},onSkipForwardPress(t){e(ave(a))},onNextPress(t){e($me(a))}}}))(bwe);function aEe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}aEe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var iEe=aEe,rEe=a("VUbF"),nEe=a.n(rEe);var sEe=function(e){var{channelTitle:t,isAlsoAiringVisible:a,onPress:i}=e;return(Uu()(Vp,{"data-qa-id":"channelsList",className:a?nEe.a.isActive:void 0,onPress:i},void 0,Uu()(iEe,{className:nEe.a.icon}),t))};var oEe=Object(Fu.b)((function(){return Object(_u.a)(D9(),Tpe(),Dpe(),(e,t={},a)=>{var i=t.channelShortTitle||t.channelTitle||a&&a.channelIdentifier||Object(Ze.default)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:i}})}),(function(e,t){var a={playerType:t.playerType};return{onPress(t){e(sve(a))}}}))(sEe);var lEe=Ed.a.createElement;var cEe=function(e){var{type:t,isUnknownAiring:a}=e,i=Je()(e,["type","isUnknownAiring"]);return a?Object(Ze.default)("Unknown Airing"):t===Wt.f?lEe(ele,i):lEe(AIe,i)},dEe=Ed.a.createElement,{useEffect:uEe}=Ed.a;var pEe={dispatchInitMetadataList:nbe,dispatchPopulateChannelPrograms:pbe,dispatchResetStartTime:obe,dispatchSetViewportSize:dbe};var hEe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage.viewportWidth,D9(),Mbe(),Object(_u.a)(Dpe(),Ppe(),Cbe(),(e,t,a)=>{if(e&&null!=t){for(var i=e.channelIdentifier,r=null,n=null,s=0;s<a.length;s++)for(var o=a[s],l=0;l<o.Media.length;l++){var c=o.Media[l],{beginsAt:d,channelIdentifier:u}=c;d>t&&u===i&&(!n||d<n.beginsAt)&&(r=o,n=c)}return r}}),(e,t,a,i)=>i?{metadataItemEntityID:i.entityID,positionSeconds:t.positionSeconds,type:i.type,shouldSetViewportSize:0===e,shouldResetChannels:!1,isUnknownAiring:!1}:{containerKey:a,shouldResetChannels:!0,shouldSetViewportSize:0===e,isUnknownAiring:!0})}),pEe)((function(e){var{serverEntityID:t,providerEntityID:a,containerKey:i,shouldSetViewportSize:r,shouldResetChannels:n,dispatchInitMetadataList:s,dispatchPopulateChannelPrograms:o,dispatchResetStartTime:l,dispatchSetViewportSize:c}=e,d=Je()(e,["serverEntityID","providerEntityID","containerKey","shouldSetViewportSize","shouldResetChannels","dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]);return uEe(()=>{r&&c()},[r,c]),uEe(()=>{!r&&n&&i&&(l(),s({containerKey:i,serverEntityID:t,providerEntityID:a}),o())},[n,r,o,l,i,t,a,s]),dEe(cEe,tp()({},d,{serverEntityID:t,providerEntityID:a}))})),mEe=a("M4gS"),vEe=a.n(mEe);var gEe=function(e){var{playerType:t,metadataListEntityID:a,serverEntityID:i,providerEntityID:r}=e;return(Uu()("div",{className:vEe.a.container},void 0,Uu()(JTe,{className:vEe.a.icon}),Uu()(oT,{message:Object(Ze.default)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:vEe.a.upNext},{open:"openTitle",close:"closeTitle",component:hEe,playerType:t,metadataListEntityID:a,serverEntityID:i,providerEntityID:r}]})))};var yEe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage.metadataList,D9(),(e,t)=>({metadataListEntityID:e,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID}))}))(gEe);var fEe=function(e){var{playerType:t}=e;return(Uu()(vDe,{},void 0,Uu()(oEe,{playerType:t}),Uu()(yEe,{playerType:t})))};function bEe(e){var t=e["aria-label"],a=e.className,i=e.style,r={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-unselected-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 40c132.46 0 240 107.54 240 240s-107.54 240-240 240-240-107.54-240-240 107.54-240 240-240zm0 80c88.306 0 160 71.694 160 160s-71.694 160-160 160-160-71.694-160-160 71.694-160 160-160z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}bEe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var IEe=bEe,SEe=a("KHus"),MEe=a.n(SEe),{Component:CEe}=Ed.a,DEe={placement:"top"};var PEe=class extends CEe{constructor(e,t){super(e,t),this.onFollowButtonPress=e=>{this._emitUpdateFollowMuteAction(Pt.c,!this.props.followed)},this.onMuteButtonPress=e=>{this._emitUpdateFollowMuteAction(Pt.d,!this.props.muted)},this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen},()=>{this.props.onMenuChange&&this.props.onMenuChange(this.state.isMenuOpen)})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1},()=>{this.props.onMenuChange&&this.props.onMenuChange(!1)})},this.state={isMenuOpen:!1},this._menuButtonID=Mp()}_emitUpdateFollowMuteAction(e,t){var{metadataItemEntityID:a,providerEntityID:i,tagElement:r,ratingKey:n}=this.props;this.props.onUpdateFollowMute({metadataItemEntityID:a,providerEntityID:i,actionID:e,tagElement:r,ratingKey:n,value:t})}render(){var e,{tag:t,followed:a,muted:i}=this.props,{isMenuOpen:r}=this.state,n=IEe;return!0===a?(e=MEe.a.isFollowed,n=ey):!0===i&&(e=MEe.a.isMuted,n=DI),Uu()(Vp,{id:this._menuButtonID,className:MEe.a.tag,onPress:this.onMenuButtonPress},void 0,Uu()(n,{className:(MEe.a.icon||"")+" "+(e||"")})," ",Uu()("span",{className:MEe.a.tagText},void 0,t),Uu()(Fg,{target:this._menuButtonID,isOpen:r,options:DEe,onMenuClose:this.onMenuClose},void 0,null!=a?Uu()(Gg,{onPress:this.onFollowButtonPress},void 0,a?Object(Ze.default)("Unfollow {tag}",{tag:t}):Object(Ze.default)("Follow {tag}",{tag:t})):null,null!=i?Uu()(Gg,{onPress:this.onMuteButtonPress},void 0,i?Object(Ze.default)("Unblock {tag}",{tag:t}):Object(Ze.default)("Block {tag}",{tag:t})):null))}},OEe=Ed.a.createElement;var jEe=function(e){var{metadataItemEntityID:t,providerEntityID:a,tags:i,onUpdateFollowMute:r,onFollowMuteMenuChange:n}=e;return(Uu()("div",{},void 0,i.map(e=>OEe(PEe,tp()({key:e.ratingKey},e,{metadataItemEntityID:t,providerEntityID:a,onUpdateFollowMute:r,onMenuChange:n})))))},TEe=["Channel","Topic"];function wEe(e,t){var a=e.features.find(({type:e})=>e===Ot.b);return a&&a.actions&&a.actions.find(({id:e})=>e===t)}var EEe=xG((function(){return Object(_u.a)(uw,wpe(),O9(),(e,t,a)=>{var i=[];return TEe.forEach(r=>{var n=t[r];if(n&&n.length){var s=n.reduce(function(e,t,a){var i=wEe(a,Pt.c),r=wEe(a,Pt.d);return(a,n)=>((null!=n.followed&&i&&mw(t,i)||null!=n.muted&&r&&mw(t,r))&&a.push(Object.assign({},n,{tagElement:e})),a)}(r,e,a),[]);i.push(...s)}}),{metadataItemEntityID:t.entityID,providerEntityID:a.entityID,tags:i}})}),(function(e,t){var{metricsPage:a}=t;return{onUpdateFollowMute(t){e(Object(Z8.k)(Object.assign({metricsPage:a},t)))}}}))(jEe);EEe.propTypes=Object.assign({},EEe.propTypes,{playerType:Oc.a.string.isRequired});var NEe=EEe,xEe=a("8ruQ"),AEe=a.n(xEe);var LEe=function(e){var{title:t}=e;return t?Uu()("div",{},void 0,Uu()("span",{className:AEe.a.upNext},void 0,Object(Ze.default)("Up Next")),"  ",t):null};var kEe=Object(Fu.b)((function(){return Object(_u.a)(wpe(1),e=>e?{title:e.title}:{})}))(LEe);kEe.propTypes=Object.assign({},kEe.propTypes,{playerType:Oc.a.string.isRequired});var REe=kEe;var zEe=function(e){var{playerType:t,onFollowMuteMenuChange:a}=e;return(Uu()(vDe,{},void 0,Uu()(NEe,{playerType:t,onFollowMuteMenuChange:a}),Uu()(REe,{playerType:t})))},UEe=e=>e.ui.watchTogether,VEe=Object(_u.a)(UEe,e=>e.session),BEe=a("G5dy"),FEe=a.n(BEe),HEe=Ed.a.createElement;function _Ee(e){var{className:t,iconComponent:a,title:i}=e,r=Je()(e,["className","iconComponent","title"]);return(HEe(rT,tp()({className:t,"aria-label":i},r),a?Uu()(a,{className:FEe.a.icon}):null,i))}_Ee.defaultProps={className:FEe.a.button};var QEe=_Ee,WEe=a("ePga"),GEe=a.n(WEe),{useCallback:YEe}=Ed.a;function KEe(e){var t,a,{className:i,elapsedSeconds:r,hasLiveTVProtocol:n,isAnyAdPlaying:s,isAnyWatching:o,isMiniPlayer:l,metadataItemEntityID:c,playerType:d,onPlay:u,onCancel:p}=e,h=YEe(()=>{p({playerType:d})},[p,d]),m=n?RDe:LDe;return t=s?Object(Ze.default)("Other viewers are watching ads. Playback will resume automatically when they're done."):o?Object(Ze.default)("Session started {duration} ago.",{duration:Ym(1e3*r)}):Object(Ze.default)("Playback will start automatically when everyone is ready."),a=s?Object(Ze.default)("Please Wait"):r>0?Object(Ze.default)("Resume"):Object(Ze.default)("Start"),Uu()("div",{className:(i||"")+" "+(l&&GEe.a.hasLandscapePoster||""),"data-qa-id":"watchTogetherLobbyControlsContainer"},void 0,Uu()("div",{className:GEe.a.buttonGroupLeft},void 0,l?Uu()(Yje,{playerType:d,isVideo:!0,isMusic:!1}):null,Uu()(m,{metadataItemEntityID:c,playerType:d,positionSeconds:r,showDuration:!1})),Uu()("div",{className:(GEe.a.buttonGroupCenter||"")+" "+(!n&&GEe.a.balanceLeft||"")},void 0,Uu()(QEe,{className:GEe.a.button,iconComponent:KTe,isDisabled:s,title:a,kind:Dp,onPress:u}),Uu()(QEe,{className:GEe.a.button,title:Object(Ze.default)("Cancel"),onPress:h})),Uu()("div",{className:GEe.a.buttonGroupRight},void 0,t))}KEe.defaultProps={className:GEe.a.controls};var qEe=KEe;var ZEe={onPlay:Tse,onCancel:Cw.h},XEe=Object(Fu.b)((function(){return Object(_u.a)(VEe,e=>{var{users:t}=e,a=t.filter(e=>e.isWatching);return{elapsedSeconds:a.reduce((e,t)=>e+t.positionSeconds,0)/a.length||0,isAnyAdPlaying:t.some(e=>e.isAdPlaying),isAnyWatching:a.length>0}})}),ZEe)(qEe),JEe=Uu()(fDe,{});function $Ee(e){var t,{playerType:a,isPostPlayVisible:i,isWatchTogetherLobbyVisible:r,isVideo:n,isMusic:s,isAdVisible:o,isMiniPlayer:l,isWatchTogether:c,hasLiveTVProtocol:d,seekStartMilliseconds:u,seekEndMilliseconds:p,bufferStartMilliseconds:h,bufferEndMilliseconds:m,adPositionMilliseconds:v,adDurationMilliseconds:g,onControlsMenuChange:y,onSeekBarInteractionStart:f,onSeekBarInteractionEnd:b}=e;return t=r?XEe:d?tEe:Iwe,Uu()(rDe,{},void 0,function(e){var{playerType:t,isAdVisible:a,isMiniPlayer:i,hasLiveTVProtocol:r,currentSubType:n,isWatchTogetherLobbyVisible:s,onFollowMuteMenuChange:o}=e;return s?null:a?JEe:i?null:n===OM.b?Uu()(zEe,{playerType:t,onFollowMuteMenuChange:o}):r?Uu()(fEe,{playerType:t}):null}(e),Uu()(lDe,{},void 0,i||r?null:Uu()(eEe,{playerType:a,isAdVisible:o,seekStartMilliseconds:u,seekEndMilliseconds:p,bufferStartMilliseconds:h,bufferEndMilliseconds:m,adPositionMilliseconds:v,adDurationMilliseconds:g,onSeekStart:f,onSeekEnd:b}),Uu()(uDe,{component:t,playerType:a,hasLiveTVProtocol:d,isVideo:n,isMusic:s,isAdVisible:o,isWatchTogetherLobbyVisible:r,isMiniPlayer:l,isWatchTogether:c,onControlsMenuChange:y})))}$Ee.defaultProps={isMiniPlayer:!1};var eNe=$Ee,tNe=a("C3YB"),aNe=a.n(tNe),iNe=parseInt(YU.a.pagePadding,10),rNe=2*iNe,nNe=iNe/2;function sNe(e,t,a,i,r,n){var s,o;if(e<t){var l=e-rNe-a;o=wM(s=Math.min(500,l),i,r,n)}else{var c=t-(rNe+90+a);s=TM(o=Math.min(500,c),i,r,n)}return{width:s,height:o}}function oNe(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,type:n,subtype:s,context:o,imageUrl:l,bottom:c}=e,d=MMe(n,o,{providerEntityID:i,subtype:s});return Uu()(p$,{className:aNe.a.measure},void 0,({isMeasured:e,width:u,height:p})=>{if(!e)return null;var h,m=c?c+nNe:0,v=sNe(u,p,0,n,s,o);if(m){var g=sNe(u,p,m,n,s,o);h=g.height>0?g.height/v.height:1,h=Math.max(h,.4)}else h=1;return(Uu()("div",{className:t,style:{transform:"translate(-50%, -50%) scale("+h+")"}},void 0,Uu()(Vje,{cardClassName:aNe.a.card,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metadataKey:"music",type:n,imageWidth:v.width,imageHeight:v.height,imageUrl:l,showLinkOnly:!0}),Uu()("div",{className:aNe.a.titlesContainer},void 0,d.map((e,t)=>Uu()(qbe,{className:t>0?aNe.a.secondaryTitle:aNe.a.primaryTitle,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,component:e},t)))))})}oNe.defaultProps={className:aNe.a.content};var lNe=oNe;var cNe=Object(Fu.b)((function(){return Object(_u.a)(wpe(),e=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:wc,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb}))}))(lNe),dNe=a("tbBR"),uNe=a.n(dNe);var pNe=function(e){var{serverEntityID:t,providerEntityID:a,imageUrl:i,allowBlur:r}=e;return(Uu()("div",{className:uNe.a.backgroundContainer},void 0,Uu()(U6,{serverEntityID:t,providerEntityID:a,url:i,allowBlur:r})))};var hNe=Object(Fu.b)((function(){return Object(_u.a)((e,{isMusic:t})=>t,D9(),vpe(),qG,(e,t,a={},i)=>{var r,n=i[t.startMetadataItemEntityID||a.metadataItem];return n&&(r=e?n.parentThumb||n.grandparentThumb:n.grandparentArt||n.art),{serverEntityID:t.serverEntityID,imageUrl:r}})}))(pNe),mNe=a("SqLh"),vNe=a.n(mNe);function gNe({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}gNe.defaultProps={className:vNe.a.leftTitle};var yNe=gNe,fNe=a("5qtW"),bNe=a.n(fNe);function INe({className:e,children:t}){return Uu()("div",{className:e,"data-qa-id":"preplay-mainTitle"},void 0,t)}INe.defaultProps={className:bNe.a.primaryTitle};var SNe=INe,MNe=a("KcGe"),CNe=a.n(MNe);function DNe({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}DNe.defaultProps={className:CNe.a.rightTitle};var PNe=DNe,ONe=a("k31B"),jNe=a.n(ONe);function TNe(e){var{children:t,className:a}=e;return(Uu()("div",{className:a,"data-qa-id":"preplay-secondTitle"},void 0,t))}TNe.defaultProps={className:jNe.a.secondaryTitle};var wNe=TNe,ENe=a("YYNq"),NNe=a.n(ENe);function xNe({className:e,children:t}){return Uu()("div",{className:e,"data-qa-id":"preplay-thirdTitle"},void 0,t)}xNe.defaultProps={className:NNe.a.tertiaryTitle};var ANe=xNe,LNe=parseFloat(YU.a.prePlayPosterWidthRatio,10),kNe=parseInt(YU.a.prePlayPosterMinWidth,10),RNe=parseInt(YU.a.prePlayPosterMaxWidth,10);var zNe=function(e,t){var a=-1*t+1,i=e*(a/30+LNe);return Math.max(Math.min(i,RNe+30*a),kNe)};function UNe(e){var t=e["aria-label"],a=e.className,i=e.style,r={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}UNe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var VNe=UNe;function BNe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}BNe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var FNe=BNe;function HNe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}HNe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var _Ne=HNe;function QNe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}QNe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var WNe=QNe,GNe=a("zLzU"),YNe=a.n(GNe),KNe=Ed.a.createElement,{Component:qNe}=Ed.a;var ZNe=class extends qNe{constructor(e,t){super(e,t),this.setLineRef=e=>{this.lineRef=e,this.scrollToLine()},this.onContentMeasure=({width:e})=>{this.setState({isMeasured:!0,pageWidth:e})},this.onScrollerMeasure=({height:e})=>{e&&this.setState({isScrollerMeasured:!0,scrollerHeight:e},()=>{this.scrollToLine()})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0}}componentWillReceiveProps(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})}scrollToLine(){if(this.lineRef){var{scrollerHeight:e,scrollTop:t}=this.state,{height:a}=this.lineRef.getBoundingClientRect(),i=this.lineRef.offsetTop;(i+a>t+e||i<t)&&this.setState({scrollTop:i})}}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i,subtype:r,context:n,columnAdjustment:s,imageUrl:o,positionSeconds:l,lines:c,selectedIndex:d,lyricsStreamsCount:u,hasTimedLyrics:p,isTimedLyricsActive:h,hasLyricsError:m,hasLyricsFeature:v,isLyricFindProvider:g,onPreviousPress:y,onNextPress:f,onTimedLyricsPress:b}=this.props,{isMeasured:I,isScrollerMeasured:S,pageWidth:M,scrollTop:C}=this.state,D=zNe(M,s),P=wM(D,i,r,n);return v?Uu()(p$,{className:YNe.a.measure,onMeasure:this.onContentMeasure},void 0,I?Uu()("div",{className:YNe.a.container},void 0,Uu()("div",{},void 0,Uu()(Vje,{cardClassName:YNe.a.card,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:"music",type:i,imageWidth:D,imageHeight:P,imageUrl:o,showLinkOnly:!0})),Uu()("div",{className:YNe.a.content},void 0,Uu()("div",{className:YNe.a.titlesContainer},void 0,Uu()(SNe,{},void 0,Uu()(AIe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,Uu()(Ole,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),Uu()(ANe,{},void 0,Uu()(yNe,{},void 0,g?Object(Ze.default)("Powered by {provider}",{provider:"LyricFind"}):null),Uu()(PNe,{},void 0,Uu()("span",{className:YNe.a.rightInfo},void 0,Uu()(KG,{className:(YNe.a.timedLyricsButton||"")+" "+(h&&YNe.a.isTimedLyricsActive||""),"data-qa-id":"toggleTimedLyrics",iconComponent:WNe,title:Object(Ze.default)("Timed Lyrics"),isDisabled:!p,onPress:b})),Uu()("span",{className:YNe.a.rightInfo},void 0,Object(Ze.default)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:d+1,lyricsStreamsCount:u})),Uu()("span",{className:YNe.a.rightInfo},void 0,Uu()(KG,{iconComponent:_Ne,"data-qa-id":"previousLyricsPage",title:Object(Ze.default)("Previous"),isDisabled:0===d,onPress:y})),Uu()("span",{className:YNe.a.rightInfo},void 0,Uu()(KG,{iconComponent:FNe,"data-qa-id":"nextLyricsPage",title:Object(Ze.default)("Next"),isDisabled:d===u-1,onPress:f}))))),m?Uu()("div",{className:YNe.a.innerContent},void 0,Uu()(RH,{title:Object(Ze.default)("There was an error loading the lyrics")})):null,m?null:Uu()("div",{className:YNe.a.innerContent},void 0,Uu()(p$,{className:YNe.a.measure,onMeasure:this.onScrollerMeasure},void 0,S?Uu()(rh,{className:YNe.a.scroller,scrollTop:C,onScrollPositionChange:this.onScrollPositionChange},void 0,c.length?c.map(({spans:e,startOffset:t,endOffset:a},i)=>{var r=Math.round(t/1e3),n=Math.round(a/1e3),s=h&&l>=r&&-1!==t&&(l<n||-1===a);return KNe("div",{key:i,className:(YNe.a.line||"")+" "+(s&&YNe.a.isLineSelected||""),ref:s?this.setLineRef:null},e.map(({text:e},t)=>Uu()("span",{},t,e)),Uu()(WNe,{className:YNe.a.lineTimedIcon}))}):Uu()(Xh,{className:YNe.a.spinner})):null)))):null):Uu()("div",{className:YNe.a.upsellContainer},void 0,Uu()(uT,{iconComponent:VNe,title:Object(Ze.default)("Song Lyrics"),text:Object(Ze.default)("Still think Elton is saying Hold me closer, Tony Danza? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along with the right words!")}),Uu()(nk,{serverEntityID:e,origin:"lyrics",modalMetricsProperties:{context:"lyrics"}}))}},XNe=Ed.a.createElement,{Component:JNe}=Ed.a;function $Ne(e){return!(!e||!e.timed)}var exe={dispatchFetchPlayQueue:_pe.c,dispatchFetchPlayQueueItemLyrics:_pe.d};var txe=Object(Fu.b)((function(){return Object(_u.a)(D9(),$he(),wpe(),vpe(),Nv.a,(e,t,a,i,r)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:a.entityID,playQueueItemEntityID:i.entityID,positionSeconds:e.positionSeconds,context:"player",type:a.type,imageUrl:a.parentThumb||a.grandparentThumb,lyricsStreams:i.lyricsStreams,columnAdjustment:r.columnAdjustment,hasLyricsFeature:!!i.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:i.hasPremiumLyrics}))}),exe)(class extends JNe{constructor(e,t){super(e,t),this.onPreviousPress=()=>{this.setState(e=>({selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)}))},this.onNextPress=()=>{this.setState((e,t)=>({selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)}))},this.onTimedLyricsPress=()=>{this.setState(e=>({isTimedLyricsActive:!e.isTimedLyricsActive}))},this.state=this.getDefaultState(e)}componentDidMount(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})}componentWillReceiveProps(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))}componentWillUpdate(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){var a=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:$Ne(a)})}}componentDidUpdate(e,t){var a=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!a||a.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()}getDefaultState(e,t=0){var a=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:$Ne(e.lyricsStreams[a]),selectedLyricsStreamIndex:a}}_populate(){var{playerType:e,playQueueItemEntityID:t,lyricsStreams:a}=this.props,{selectedLyricsStreamIndex:i}=this.state;if(null!=i){var r=a[i];r&&!r.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:e,playQueueItemEntityID:t,streamID:r.id})}}render(){var e=this.props,{lyricsStreams:t}=e,a=Je()(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),{isTimedLyricsActive:i,selectedLyricsStreamIndex:r}=this.state,n=t[r];return XNe(ZNe,tp()({lines:null!=n?n.lines:[],lyricsStreamsCount:t.length,selectedIndex:r,hasTimedLyrics:$Ne(n),isTimedLyricsActive:i,isLyricFindProvider:!!n&&n.provider===tn.c,hasLyricsError:!!n&&!!n.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},a))}}),axe=a("oz7q"),ixe=a("7001"),rxe=a.n(ixe),nxe=Object(axe.DragDropContext)(rxe.a),sxe=[.2,.4,.6,.8];function oxe(e,t,a,i){if(a+1<i){var r=a-t-e;if(r<sxe.length)return sxe[r]}return 1}function lxe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}lxe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var cxe=lxe,dxe=a("lmsz"),uxe=a.n(dxe),pxe=Ed.a.createElement;function hxe(e){var{children:t}=e,a=Je()(e,["children"]);return(pxe("div",a,t))}hxe.defaultProps={className:uxe.a.dragLayer};var mxe=hxe;function vxe(){return Object(_u.a)((e,{playQueueItemEntityID:t})=>t,mpe,(e,t)=>t[e])}var gxe=a("x3ko"),yxe=a.n(gxe),{Component:fxe}=Ed.a;function bxe(e,t){return Math.random()*(t-e)+e}class Ixe extends fxe{constructor(e,t){super(e,t),this._setBarValues(e),this.state=this._getInitialState(!0)}componentDidMount(){if(!this.props.isPaused)for(var e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)}componentWillReceiveProps(e){var t=e.isPaused!==this.props.isPaused,a=e.width!==this.props.width,i=e.barCount!==this.props.barCount,r=e.barGap!==this.props.barGap;(t||a||i||r)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))}componentDidUpdate(e,t){if(!this.props.isPaused)for(var a=0,i=this._bars.length;a<i;a++){var r=this._bars[a];t[r]!==this.state[r]&&this._setTransitionTimeout(a)}}componentWillUnmount(){this._clearAllTransitionTimeouts()}_setBarValues({width:e,barCount:t,barGap:a}){var i=a*(t-1);this._barGap=a,this._barWidth=Math.floor((e-i)/t),this._bars=[];for(var r=0,n=t;r<n;r++)this._bars.push("bar"+r)}_getInitialState(e){return this._bars.reduce((t,a,i)=>(t[a]=this._getRandomStyle(i,e),t),{})}_getRandomStyle(e,t){var{unit:a}=this.props,i=e*(this._barWidth+this._barGap),r="scaleY("+(t?.2:bxe(.2,1))+")",n=bxe(300,500);return{left:""+i+a,width:""+this._barWidth+a,backgroundColor:this.props.barColor,transitionDuration:n+"ms",WebkitTransform:r,msTransform:r,transform:r}}_setTransitionTimeout(e){var t=this._bars[e],a=t+"TimeoutID",i=mg(this.state[t].transitionDuration)-100;this[a]=window.setTimeout(()=>{this.setState({[t]:this._getRandomStyle(e)})},i)}_clearAllTransitionTimeouts(){for(var e=0,t=this._bars.length;e<t;e++){var a=this._bars[e]+"TimeoutID";window.clearTimeout(this[a])}}render(){var{className:e,width:t,height:a,unit:i}=this.props;return(Uu()("div",{className:e,style:{width:""+t+i,height:""+a+i}},void 0,this._bars.map(e=>Uu()("div",{className:yxe.a.bar,style:this.state[e]},e))))}}Ixe.defaultProps={className:yxe.a.equalizer,width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};var Sxe=Ixe,Mxe=Ed.a.createElement;var Cxe=function(e){return Mxe(Sxe,tp()({},e,{barColor:YO.a.equalizerBarColor}))};function Dxe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Dxe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Pxe=Dxe;var Oxe=function(){return Object(_u.a)(Kq,QY,Object(_u.a)(ZG(),die,(e={},t)=>e.source?t.ownerId:null),(e,t,a)=>{var i=e.find(e=>{var i=t[e];return i&&i.id===a});return i&&t[i]})},jxe=a("xH8n"),Txe=a.n(jxe),wxe=parseInt(GU.playlistBadgeSize,10);function Exe(e){var{className:t,textClassName:a,serverEntityID:i,attribution:r,avatar:n,name:s,hasOwner:o}=e;return r?Uu()("div",{className:t},void 0,Uu()(nS,{className:Txe.a.attribution,attribution:r})):o?Uu()("div",{className:t},void 0,Uu()("span",{className:a},void 0,s),Uu()(JS,{className:Txe.a.avatar,serverEntityID:i,url:n,width:wxe,height:wxe})):null}Exe.defaultProps={className:Txe.a.container};var Nxe=Exe;var xxe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),Oxe(),(e={},t)=>({attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title}))}))(Nxe),Axe=a("GfmD"),Lxe=a.n(Axe);function kxe(e){var{className:t,titlesContainerClassName:a,sourceTextClassName:i,durationContainerClassName:r,serverEntityID:n,providerEntityID:s,metadataItemEntityID:o,type:l,subtype:c,metadataKey:d,title:u,duration:p,isPreview:h,context:m,imageWidth:v,imageHeight:g,imageUrl:y,onPlayPress:f}=e,b=MMe(l,m,{providerEntityID:s,subtype:c}),I="";return p&&(I=h?Object(Ze.default)("Preview"):l===Wt.p?xM(p):Ym(p)),Uu()("div",{className:t},void 0,Uu()("div",{className:Lxe.a.cardContainer},void 0,Uu()(Kle,{className:Lxe.a.card,serverEntityID:n,providerEntityID:s,metadataItemEntityID:o,metadataKey:d,title:Object(Ze.default)("Play {title}",{title:u}),type:l,imageWidth:v,imageHeight:g,imageUrl:y,onPlayPress:f})),Uu()("div",{className:a,"data-qa-id":"playQueueTitleContainer"},void 0,b.map((e,t)=>Uu()(qbe,{serverEntityID:n,providerEntityID:s,metadataItemEntityID:o,component:e,isSecondary:t>0},t))),Uu()(xxe,{textClassName:i,serverEntityID:n,metadataItemEntityID:o}),I?Uu()("div",{className:r},void 0,I):null)}kxe.defaultProps={className:Lxe.a.container,titlesContainerClassName:Lxe.a.titlesContainer,sourceTextClassName:Lxe.a.sourceText,durationContainerClassName:Lxe.a.durationContainer};var Rxe=kxe,zxe=Ed.a.createElement;var Uxe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>{var t=oie(jM(e.type,e.subtype,"playQueue")===16/9?64:36,null,e.type,e.subtype,e,"playQueue");return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:"playQueue",imageWidth:t.width,imageHeight:t.height,imageUrl:t.url}})}),(function(e,t){var a={playerType:t.playerType};return{onPlayPress(){e(Object(_pe.f)(Object.assign({},a,{index:t.sortIndex}))),t.mediaType===tl.e&&e(Object(_pe.s)(a))}}}))((function(e){var t=Je()(e,["mediaType"]);return(zxe(Rxe,t))})),Vxe=a("JkX4"),Bxe=a.n(Vxe),Fxe={.2:Bxe.a.opacity20Precent,.4:Bxe.a.opacity40Precent,.6:Bxe.a.opacity60Precent,.8:Bxe.a.opacity80Precent},Hxe=Uu()(Pxe,{});function _xe(e){var{metadataItemEntityID:t,playerType:a,mediaType:i,sortIndex:r,opacity:n,isCurrentItem:s,isPlayerPaused:o,isItemDragging:l,connectDragSource:c,onRemovePress:d}=e;return(Uu()("div",{className:(Bxe.a.container||"")+" "+(l&&Bxe.a.isItemDragging||"")+" "+(s&&Bxe.a.isCurrentItem||"")+" "+(null!=n&&Fxe[n]||""),"data-qa-id":"playQueueItem"},void 0,Uu()("div",{className:Bxe.a.leftContainer},void 0,s?Uu()(Cxe,{isPaused:o}):null,s?null:c(Uu()("div",{className:Bxe.a.moveControls,"data-qa-id":"playQueueReorder"},void 0,Hxe))),Uu()(Uxe,{className:Bxe.a.metadataContainer,sourceTextClassName:Bxe.a.sourceText,durationContainerClassName:Bxe.a.metadataDurationContainer,metadataItemEntityID:t,playerType:a,mediaType:i,sortIndex:r}),s?null:Uu()("div",{className:Bxe.a.removeControls},void 0,Uu()(KG,{className:Bxe.a.removeButton,"data-qa-id":"playQueueRemove",iconComponent:DI,title:Object(Ze.default)("Remove"),kind:Pp,onPress:d}))))}_xe.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:e=>e};var Qxe=_xe;var Wxe=Object(Fu.b)((function(){return Object(_u.a)(vxe(),e=>{var t=Object(Wt.u)(e.type),a=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:a}})}),(function(e,t){return{onRemovePress(a){e(Object(_pe.k)({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}}))(Qxe),Gxe=a("uYXV"),Yxe=a.n(Gxe),{Component:Kxe}=Ed.a,qxe=parseInt(YU.a.playQueueSidePadding,10);var Zxe=Object(axe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends Kxe{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{playerType:e,item:t,itemType:a,currentOffset:i}=this.props;if(!i||"PLAY_QUEUE_ITEM"!==a)return null;var{x:r,y:n}=i,s="translate3d("+r+"px, "+n+"px, 0)",o={position:"absolute",WebkitTransform:s,msTransform:s,transform:s,width:window.innerWidth-2*qxe+"px"};return Uu()(mxe,{},void 0,Uu()("div",{className:Yxe.a.dragPreview,style:o},void 0,Uu()(Wxe,{playQueueItemEntityID:t.playQueueItemEntityID,playerType:e,isItemDragging:!0})))}}),Xxe=a("OY1m"),Jxe=a.n(Xxe),$xe=Ed.a.createElement,{Component:eAe}=Ed.a,tAe={beginDrag:({playQueueItemEntityID:e})=>({playQueueItemEntityID:e}),endDrag(e,t,a){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},aAe={hover(e,t,a){var i=Object(Vu.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,n=t.getClientOffset().y-i.top,s=e.sortIndex,o=n>r?s+1:s;e.onPlayQueueItemDragMove(o)}};var iAe=Object(axe.DropTarget)("PLAY_QUEUE_ITEM",aAe,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("PLAY_QUEUE_ITEM",tAe,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends eAe{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=this.props,{isDragging:t,isDraggingBefore:a,isDraggingAfter:i,isOver:r,connectDropTarget:n,connectDragSource:s}=e,o=Je()(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return n(Uu()("div",{className:(Jxe.a.container||"")+" "+(t?"isDragging":"")+" "+(a&&r?"isDraggingBefore":"")+" "+(i&&r?"isDraggingAfter":"")},void 0,$xe(Wxe,tp()({connectDragSource:s},o))))}})),rAe=a("HY0z"),nAe=a.n(rAe),{Component:sAe}=Ed.a,oAe=Uu()(cxe,{});var lAe=class extends sAe{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isAddToPlaylistModalOpen:!1}}render(){var{serverEntityID:e,providerEntityID:t,playQueueID:a,playQueueItemEntityIDs:i,playQueueSelectedItemOffset:r,playQueueLength:n,playerType:s,currentIndex:o,moveIndex:l,scrollTop:c,isPlayerPaused:d,showAddToPlaylist:u,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:h}=this.props,{isAddToPlaylistModalOpen:m}=this.state,v=r-o,g=v+i.length-1;return Uu()("div",{className:nAe.a.container},void 0,Uu()(wbe,{},void 0,Uu()(Obe,{title:Object(Ze.default)("Play Queue")}),Uu()("div",{className:nAe.a.topContainer},void 0,Uu()("div",{className:nAe.a.topLeft},void 0,Uu()("span",{className:nAe.a.count},void 0,1===n?Object(Ze.default)("{itemCount} item",{itemCount:n}):Object(Ze.default)("{itemCount} items",{itemCount:n}))),Uu()("div",{className:nAe.a.topRight},void 0,u?Uu()(zb,{className:nAe.a.tooltipButton,"data-qa-id":"queueAddPlaylist","aria-label":Object(Ze.default)("Add to Playlist"),component:Vp,tooltip:Object(Ze.default)("Add to Playlist"),onPress:this.onAddToPlaylistPress},void 0,oAe):null))),Uu()(rh,{className:nAe.a.content,scrollTop:c,smoothScroll:!1,autoScroll:!0},void 0,i.map((e,t)=>{var a=null!=l,i=o===t,r=a&&l===t,c=a&&l===t+1;return Uu()(iAe,{sortIndex:t,opacity:oxe(t,v,g,n),playQueueItemEntityID:e,playerType:s,isDraggingBefore:r,isDraggingAfter:c,isCurrentItem:i,isPlayerPaused:d,onPlayQueueItemDragMove:p,onPlayQueueItemDragEnd:h},e)})),Uu()(Zxe,{playerType:s}),u?Uu()(ose,{serverEntityID:e,providerEntityID:t,playQueueID:a,isOpen:m,onModalClose:this.onAddToPlaylistClose}):null)}},cAe=Ed.a.createElement,{Component:dAe}=Ed.a,uAe=parseInt(YU.a.playQueueItemHeight,10),pAe=Object(_u.a)(e=>e.ui.audioVideoPlayer,$he(),O9(),(e,t,a)=>{var i=e.playQueue,r=jt.k(a.identifier,jt.d),n=!i.isLocal&&r;return{serverEntityID:t.entityID,providerEntityID:a.entityID,playQueueID:i.playQueueID,isQueueRepeated:i.repeat,isQueueShuffled:i.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:i.isUpdatePending,playQueueItemEntityIDs:i.playQueueItems,playQueueSelectedItemOffset:i.playQueueSelectedItemOffset,playQueueLength:i.length,currentIndex:i.currentIndex,showAddToPlaylist:n}}),hAe={dispatchMovePlayQueueItem:_pe.e};var mAe=nxe(Object(Fu.b)(pAe,hAe)(class extends dAe{constructor(e,t){super(e,t),this.onPlayQueueItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onPlayQueueItemDragEnd=(e,t)=>{var{playerType:a}=this.props,{moveIndex:i}=this.state;t&&null!=i&&Object(wa.a)(()=>{this.props.dispatchMovePlayQueueItem(Object.assign({playerType:a},e,{moveIndex:i}))}),this.setState({moveIndex:null})},this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.shouldUpdateScrollTop=!1,this.state={moveIndex:null,scrollTop:uAe*e.currentIndex}}componentWillReceiveProps(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:uAe*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)}render(){var e=this.props,t=Je()(e,["dispatchMovePlayQueueItem"]),{moveIndex:a,scrollTop:i}=this.state;return cAe(lAe,tp()({moveIndex:a,scrollTop:i,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},t))}})),vAe=Object(Pa.a)("provider/fetchCloudProviders"),gAe=Object(Pa.a)("provider/populateCloudProviders"),yAe=Object(Pa.a)("providers/fetchProvider",e=>{var{options:t={}}=e;return Object.assign({},e,{options:Object.assign({},t,{allowHeadersInUrl:!1})})}),fAe=Object(Pa.a)("providers/populateProvider"),bAe={"provider/fetchCloudProviders":Object(Oa.a)({key:"providers",getModel:Ta.o}),"provider/populateCloudProviders":Object(ja.a)({key:"providers",fetchActionCreator:vAe,getModel:Ta.o}),"providers/fetchProvider":Object(Oa.a)({getModel:Ta.j}),"providers/populateProvider":Object(ja.a)({getModel:Ta.j,fetchActionCreator:yAe})};function IAe(e){if(e){var t,a,i=e.match(/^server:\/\/(.*)\/(.*)/);if(i)t=i[1],a=i[2];else{var r=e.match(/^provider:\/\/(.*)/);if(!r)return;t=pw.a,a=r[1]}var n=Object(pt.a)(ht.n,t);return{serverEntityID:n,providerEntityID:Object(pt.a)(ht.k,a,n)}}}var SAe=function(e,t){var a=Object(Fu.b)((function(){return Object(_u.a)(t(),({source:e})=>IAe(e)||{})}))(e);return a.displayName="OverrideEntityIDsWithSource("+gf(e)+")",a};function MAe(e,t){return Sv(e,e=>t.reduce((t,a)=>(e&&a in e&&(t[a]=e[a]),t),{}))}function CAe(e={},t={}){var a,{identifier:i,title:r,sourceTitle:n}=e,{friendlyName:s,sourceTitle:o}=t;return jt.k(i,jt.d)?a=o||s:r&&(a=n?r+"  "+n:r),a}function DAe(){return Object(_u.a)(MAe(kS(),["identifier","title","sourceTitle"]),MAe(RS(),["friendlyName","sourceTitle"]),(e,t)=>CAe(e,t))}function PAe(e,t=jc){switch(e){case"home.continue":return"continueWatching";case"home.newscast":return"newscast";case"home.recommended":return"recommended";case"home.watchTogether":return"watchTogether";default:return t}}var OAe=function(e,t){return e+":"+t};function jAe(e,t){var{isServer:a,serverIdentifier:i,providerIdentifier:r}=Object(Bn.a)(e);return Zt(!a,i,r,t)}var TAe=function(e,t){return e-t*Math.floor(e/t)};var wAe=function(e,t){var a=e.match(/^#([0-9|a-f]{2})([0-9|a-f]{2})([0-9|a-f]{2})$/i);if(!a)throw new Error("invalid hex color pattern");var[,i,r,n]=a;return"rgba("+parseInt(i,16)+", "+parseInt(r,16)+", "+parseInt(n,16)+", "+t+")"},EAe=a("Wdw6"),NAe=a.n(EAe);function xAe(e){var{attributionLogo:t}=e;return(Uu()("img",{className:NAe.a.img,src:t}))}var AAe=a("iApP"),LAe=a.n(AAe);function kAe({className:e,src:t}){return Uu()("img",{className:e,src:t})}var RAe=function(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,imageWidth:n,imageHeight:s,imageUrl:o,attributionLogo:l,backgroundColor:c="#000000",callToAction:d,summary:u,title:p}=e,h=wAe(c,0),m=wAe(c,1),v={backgroundColor:m},g={backgroundImage:"linear-gradient(to left, "+h+", "+m+" 400px)"};return Uu()("div",{style:v,className:t,"data-qa-id":"cellItem"},void 0,a?Uu()(YS,{className:LAe.a.spotlightImage,serverEntityID:a,providerEntityID:i,url:o,width:n,height:s,component:kAe}):null,Uu()("div",{className:LAe.a.colorOverlay,style:g}),Uu()("div",{className:LAe.a.copyOverlay},void 0,p?Uu()("div",{className:LAe.a.title},void 0,p):Uu()(mle,{className:LAe.a.title,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r}),Uu()("div",{className:LAe.a.summary},void 0,u),d?Uu()("div",{className:LAe.a.callToAction},void 0,d):null),Uu()("div",{className:LAe.a.attributionLogo},void 0,Uu()(xAe,{attributionLogo:l})))};var zAe=Object(Fu.b)((function(){return Object(_u.a)((e,{cellWidth:t})=>t,(e,{cellHeight:t})=>t,ZG(),(e,t,a={},i)=>{var r,n,s=(r=e,n=t,{url:a.art,width:r,height:n});return{icon:a.icon,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url,attributionLogo:a.attributionLogo,backgroundColor:a.backgroundColor,callToAction:a.action,summary:a.summary}})}))(RAe),UAe=a("8jJ5"),VAe=a.n(UAe);var BAe=function(e){var{children:t,route:a,onPress:i}=e;return(Uu()(Vp,{className:VAe.a.link,to:a,"data-qa-id":"spotlightItem",onPress:i},void 0,t))};var FAe=Object(Fu.b)((function(){return Object(_u.a)(xIe(),e=>({route:e}))}))(BAe),HAe=a("lj0k"),_Ae=a.n(HAe),{useCallback:QAe}=Ed.a,WAe=Uu()(v7,{});var GAe=function(e){var{title:t,index:a,selectedIndex:i,onPress:r}=e,n=QAe(()=>{r(a)},[a,r]),s=a===i?_Ae.a.selectedDotButton:_Ae.a.dotButton;return Uu()(Vp,{className:s,title:t,onPress:n},void 0,WAe)};var YAe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>({title:e.title}))}))(GAe),KAe=a("U6V7"),qAe=a.n(KAe),{Fragment:ZAe,useCallback:XAe,useEffect:JAe,useState:$Ae}=Ed.a;var eLe=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityIDs:r,hubIdentifier:n,metricsContext:s,containerKey:o,listType:l,listSubtype:c,listContext:d,autoAdvanceDelayMs:u,totalSize:p,onListReady:h}=e,m=$Ae({}),v=m[1],g=m[0];JAe(()=>{g.isMeasured&&h()},[g,h]);var y=$Ae(0),f=y[1],b=y[0],I=r[b],S=Gb(I),M=S&&S!==I;JAe(()=>{if(u){var e=window.setInterval(()=>{f(TAe(b+1,p))},u);return()=>{window.clearInterval(e)}}},[u,b,p]);var C=XAe(()=>{f(TAe(b-1,p))},[b,p]),D=XAe(()=>{f(TAe(b+1,p))},[b,p]),P=MMe(l,d,{providerEntityID:a,subtype:c,isExternal:n.indexOf("external")>-1});return JAe(()=>{0===p&&h()},[p,h]),0===p?null:Uu()(p$,{className:qAe.a.hub,onMeasure:v},void 0,g.isMeasured?Uu()(ZAe,{},void 0,Uu()(FAe,{metadataItemEntityID:I,metricsContext:s},void 0,Uu()(zAe,{className:qAe.a.cellItem,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityID:I,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:P,cellWidth:g.width,cellHeight:g.height,metricsContext:s},I),M?Uu()(zAe,{tabIndex:-1,className:qAe.a.cellItemFade,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityID:S,containerKey:o,listType:l,listSubtype:c,listContext:d,titleComponents:P,cellWidth:g.width,cellHeight:g.height,metricsContext:s},S):null),p>1?Uu()(ZAe,{},void 0,Uu()(KG,{className:qAe.a.iconButtonPrev,iconComponent:oO,title:Object(Ze.default)("Previous Page"),onPress:C}),Uu()("div",{className:qAe.a.dotsContainer},void 0,r.map((e,t)=>Uu()(YAe,{metadataItemEntityID:e,selectedIndex:b,index:t,onPress:f},t))),Uu()(KG,{className:qAe.a.iconButtonNext,iconComponent:rO,title:Object(Ze.default)("Next Page"),onPress:D})):null):null)};function tLe(e,t,a,i){var{key:r,typeKey:n,title:s,type:o,subtype:l,content:c,context:d}=i;return ra(r)?na(r,e,t,a):/\/library\/sections\/(\w+)\/cluster/.test(r)?na(ta,e,t,a):/\/watchnow$/.test(r)?na(ea,e,t,a):Jt(e,t,a,c?{key:r,typeKey:n,context:d}:{key:r,type:o,subtype:l,title:s,context:d,pageType:i.pageType})}Oc.a.shape({start:Oc.a.number.isRequired,end:Oc.a.number.isRequired,size:Oc.a.number.isRequired});function aLe(e){return"continueWatching"===e||"newscast"===e||"watchTogether"===e}function iLe({type:e,aspectRatio:t,titleCount:a,context:i}){var r,n,s,o,l,c=parseInt(YU.a.posterTitleHeight,10),d=parseInt(YU.a.posterTitlePadding,10);return aLe(i)?(r=Math.max(2,a-1),n=300,s=200,l=2,o=6,d*=2):(r="mixed"===e?a+3:a,s=t>1?180:80,n=t>1?240:120,l=t>1?2:3,o=t>1?8:11),{titleHeight:r?r*c+d:0,minCellWidth:s,preferredCellWidth:n,minColumns:l,maxColumns:o}}var rLe={};function nLe(e,t,a,i=0,r=0){var n=e+(t||"")+a+i+r;if(rLe.hasOwnProperty(n))return rLe[n];var s=jM(e,t,a),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=iLe({type:e,aspectRatio:s,titleCount:r,context:a}),p=D$({direction:"horizontal",rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>Rfe(Object.assign({},e,{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i})),getCellHeight:e=>Lfe(Object.assign({},e,{aspectRatio:s,titleHeight:o}))});return p.cellOptions={preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:s,titleHeight:o},rLe[n]=p,p}var sLe=parseInt(YU.a.listButtonHeight,10),oLe=D$({direction:"horizontal",rows:1,overscan:4,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:e=>Rfe(Object.assign({},e,{preferredCellWidth:250,minCellWidth:200,minColumns:2,maxColumns:8,columnAdjustment:0})),getCellHeight:e=>sLe}),lLe=a("R9Jt"),cLe=a.n(lLe);var dLe=function(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metadataKey:n,metadataType:s,imageUrl:o,imageWidth:l,imageHeight:c}=e,d=N$(e),u=!n,p=u||d.isPlaceholder,h=MMe("channels","discover",{providerEntityID:i});return Uu()("div",{className:t,style:d.style},void 0,p?Uu()("div",{className:cLe.a.placeholder,style:{width:l,height:c}}):Uu()(Vje,{cardClassName:cLe.a.card,metadataKey:n,metadataItemEntityID:r,serverEntityID:a,providerEntityID:i,type:s,imageWidth:l,imageHeight:c,imageUrl:o,backgroundSize:"contain"}),Uu()("div",{className:cLe.a.titleContainer},void 0,u?Object(Ze.default)("Loading..."):h.map((e,t)=>e?Uu()(qbe,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,component:e,isDoubleLine:e.isDoubleLine},t):null)))};var uLe=xG((function(){return Object(_u.a)((e,{cellWidth:t})=>t,(e,{type:t})=>t,ZG(),(e,t,a={})=>({metadataKey:a.key,metadataType:a.type,imageUrl:a.dvrChannel&&a.dvrChannel.thumb,imageWidth:e,imageHeight:wM(e,t)}))}))(dLe),pLe=Object(_u.a)(Wu,e=>e.metadataDirectories);function hLe(){return Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{metricsContext:t})=>t,RS(),kS(),ZG(),(e,t,a,i,r)=>{if(r)return tLe(a,i,e,{key:r.key,typeKey:r.typeKey,title:r.title,pageType:r.type===xt?xt:At,content:r.content,context:r.context||t})})}var mLe=a("sPni"),vLe=a.n(mLe);var gLe=function(e){var{className:t,title:a,route:i}=e,r=N$(e);return Uu()("div",{className:t,style:r.style},void 0,Uu()(rT,{className:vLe.a.button,kind:Op,size:wp,to:i},void 0,a))};var yLe=xG((function(){return Object(_u.a)(Object(_u.a)((e,{metadataDirectoryEntityID:t})=>t,pLe,(e,t)=>t[e]),hLe(),(e={},t)=>({directoryKey:e.key,directoryType:e.type,title:e.title,route:t}))}))(gLe),fLe=a("cyOn"),bLe=a.n(fLe),ILe=2*parseInt(YU.a.posterIconPadding,10);var SLe=function({serverEntityID:e,providerEntityID:t,directoryKey:a,route:i,imageWidth:r,imageHeight:n,imageUrl:s,icon:o,title:l,isOffscreen:c,isOtherItemSelected:d,onMouseEnter:u}){return Uu()("div",{className:bLe.a.cardContainer,"data-qa-id":"directoryPosterCard--"+a},a,Uu()("div",{className:bLe.a.card,style:{width:r,height:n}},void 0,Uu()("div",{className:bLe.a.face},void 0,!c&&s?Uu()(tM,{serverEntityID:e,providerEntityID:t,url:s,width:r,height:n}):null,!c&&o?Uu()("div",{className:bLe.a.iconContainer},void 0,Uu()(tM,{serverEntityID:e,providerEntityID:t,url:o,width:r-ILe,height:n-ILe,backgroundSize:"contain"})):null,c||s||o||!l?null:Uu()("div",{className:bLe.a.titleContainer},void 0,Uu()("div",{className:bLe.a.titleItem},void 0,l)),Uu()("div",{className:bLe.a.overlay,onMouseEnter:u},void 0,Uu()("div",{className:bLe.a.overlayBackground}),Uu()(Vp,{className:bLe.a.overlayLink,to:i}),d?Uu()(zb,{className:bLe.a.overlaySelectCoverButton,component:Vp,tooltip:Object(Ze.default)("A different type is selected"),tooltipAttachment:Sb,showOnFocus:!1,hideOnPress:!1}):null))))},MLe=a("8idU"),CLe=a.n(MLe);var DLe=function(e){var{className:t,serverEntityID:a,providerEntityID:i,imageWidth:r,imageHeight:n,directoryKey:s,directoryType:o,title:l,thumb:c,icon:d,route:u,onMouseEnter:p}=e,h=N$(e),m=!s,v=m||h.isPlaceholder;return Uu()("div",{className:t,style:h.style},void 0,v?Uu()("div",{className:CLe.a.placeholder,style:{width:r,height:n}}):Uu()(SLe,{serverEntityID:a,providerEntityID:i,directoryKey:s,route:u,imageWidth:r,imageHeight:n,imageUrl:c,icon:d,title:l,onMouseEnter:p}),Uu()("div",{className:CLe.a.titleContainer},void 0,m||"directory"!==o&&"genre"!==o?null:Uu()("div",{className:CLe.a.titleContainer},void 0,Uu()("span",{className:CLe.a.title},void 0,l))))};var PLe=xG((function(){return Object(_u.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,ZG(),hLe(),gne,(e,t,a={},i,r)=>({directoryKey:a.key,directoryType:a.type,title:a.title,thumb:a.thumb,icon:a.icon,imageWidth:t,imageHeight:wM(t,a.type,a.subtype,e),route:i,isOtherItemSelected:!!r.activeSelectionType}))}))(DLe),OLe=Ed.a.createElement;function jLe(e){var t=function(e,t){if("channels"===t)return uLe;switch(e){case Hye.b:return yLe;default:return PLe}}(e.hubStyle,e.listType);return function(a){return OLe(t,tp()({},e,a))}}var TLe=Ed.a.createElement;var wLe,ELe=function(e){var t,{metadataListEntityID:a,metadataItemEntityIDs:i,sourceDirectory:r,containerKey:n,listType:s,listSubtype:o,listContext:l,style:c,columnAdjustment:d,populatedRange:u}=e,p=Je()(e,["metadataListEntityID","metadataItemEntityIDs","sourceDirectory","containerKey","listType","listSubtype","listContext","style","columnAdjustment","populatedRange","route"]),{serverEntityID:h,providerEntityID:m}=p;return t=c===Hye.b?oLe:nLe(s,o,l,d,MMe(s,l,{providerEntityID:m,subType:o}).length),TLe(jfe,tp()({},p,{containerKey:n,keyPropName:"metadataItemEntityID",items:i,itemsOffset:u.start,layout:t,cellRenderer:jLe({serverEntityID:h,providerEntityID:m,metadataListEntityID:a,sourceDirectory:r,containerKey:n,hubStyle:c,listType:s,listContext:"directoryList"})}))};function NLe(){return Object(_u.a)((e,{providerEntityID:t})=>t,pv,ZG(),(e,t,a={})=>!!t[a.providerEntityID||e])}var xLe,ALe=function(e){if(!e)return"";wLe||(wLe=document.createElement("P")),wLe.innerHTML=e;var t=wLe.textContent;return wLe.innerHTML="",t};function LLe(){return Object(_u.a)(cie,ZG(),(e,t={})=>{var{summary:a}=t;return"html"===(e?Bt(e.identifier):null)?ALe(a):a})}var kLe,RLe=Object(_u.a)(gne,e=>{var t=D.a.pluck(e.activeSelectionItems,"id");return xLe&&D.a.isEqual(xLe,t)?xLe:(xLe=t,t)}),zLe={};function ULe(e,t){if(!e||null==t)return!1;if(e===kLe&&zLe.hasOwnProperty(t))return zLe[t];e!==kLe&&(kLe=e,zLe={});var a=-1!==e.indexOf(t);return zLe[t]=a,a}function VLe(){return Object(_u.a)(ZG(),RLe,(e,t)=>!!e&&ULe(t,e.ratingKey))}function BLe(){return Object(_u.a)((e,{listType:t})=>t,ZG(),(e,t={})=>{var a=t.type;if(a){if(a===Wt.m)return Wt.m;if(a===Wt.e)return Wt.e;if(e===Wt.k)return Wt.k;var i=Wt.t(a);return i&&i.mediaType}})}function FLe(){return Object(_u.a)((e,{listSubtype:t})=>t,ZG(),(e,t)=>t?t.subtype:e)}function HLe(){return Object(_u.a)((e,{listType:t})=>t,ZG(),(e,t)=>{if(!t)return e;var a=e===Wt.k&&t.type===Wt.d,i=e===Wt.d&&t.type===Wt.j;return a||i?e:t.extraType?"extra":t.type})}var{useCallback:_Le,useState:QLe}=Ed.a;function WLe(){var e=QLe(!1),t=e[1],a=e[0],i=_Le(()=>{t(!0)},[]),r=_Le(()=>{t(!1)},[]);return[a,{onMouseEnter:i,onMouseLeave:r,onFocus:i,onBlur:r}]}function GLe(e,t){switch(e){case Wt.n:return Object(Ze.default)("Seasons");case Wt.f:return 1===t?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:t});case Wt.a:return 1===t?Object(Ze.default)("1 Album"):Object(Ze.default)("{albumCount} Albums",{albumCount:t});case Wt.p:return 1===t?Object(Ze.default)("1 Track"):Object(Ze.default)("{trackCount} Tracks",{trackCount:t});default:return 1===t?Object(Ze.default)("1 Item"):Object(Ze.default)("{trackCount} Items",{trackCount:t})}}var YLe=a("k4np"),KLe=a.n(YLe);var qLe=function(e){var{imageWidth:t,imageHeight:a,isSelected:i}=e,r={width:t,height:a};return Uu()("div",{className:(KLe.a.placeholder||"")+" "+(i&&KLe.a.isSelected||""),style:r})};var ZLe=function({className:e,index:t}){return null==t?null:Uu()("span",{className:e},void 0,t)},XLe=a("pIrp"),JLe=a.n(XLe),$Le=Ed.a.createElement,{useState:eke}=Ed.a,tke=Uu()(aje,{});var ake=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,listContext:s,cellIndex:o,metadataKey:l,grandparentKey:c,type:d,index:u,title:p,parentTitle:h,summary:m,leafCount:v,duration:g,isFolder:y,route:f,isCondensed:b,isUnavailable:I,showLink:S,showEdit:M,showSelect:C,showMore:D,hasActiveSelection:P,isSelected:O,isOtherItemSelected:j,isModifierKeyPressed:T,imageWidth:w,imageHeight:E,imageUrl:N,onEditPress:x,onSelectPress:A,onDeselectPress:L}=e,k=N$(e),[R,z]=WLe(),U=eke(!1),V=U[1],B=U[0],F=Object(Wt.s)(d),H=I||k.isPlaceholder,_=s===jc,Q=C&&(T||j),W=P?"-1":"0",G=null!=u,Y=!R;return $Le("div",tp()({className:((!b&&o%2?JLe.a.alternateItem:JLe.a.item)||"")+" "+(P&&JLe.a.hasActiveSelection||"")+" "+(Q&&JLe.a.isForcingSelection||"")+" "+(O&&JLe.a.isSelected||"")+" "+(B&&JLe.a.isActionsMenuOpen||""),style:k.style},z),C?Uu()(Vp,{className:JLe.a.selectCoverButton,"aria-label":O?Object(Ze.default)("Deselect {title}",{title:p}):Object(Ze.default)("Select {title}",{title:p}),tabIndex:S&&!P?"-1":"0",onPress:O?L:A}):null,S?Uu()(Vp,{className:JLe.a.underlay,tabIndex:W,to:f,"aria-label":p}):null,Uu()("div",{className:JLe.a.overlay},void 0,Uu()("div",{className:JLe.a.posterContainer},void 0,H?Uu()(qLe,{imageWidth:w,imageHeight:E}):Uu()(Vje,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,listContext:s,metadataKey:l,type:d,imageWidth:w,imageHeight:E,imageUrl:N,isFolder:y,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),Uu()("div",{className:_?JLe.a.librarySummaryContainer:JLe.a.summaryContainer},void 0,Uu()("div",{},void 0,Uu()("div",{className:JLe.a.titleContainer},void 0,Uu()("div",{className:m?JLe.a.title:JLe.a.doubleTitle},void 0,c?Uu()("span",{},void 0,_?Uu()(ele,{metadataItemEntityID:i}):G&&Uu()(ZLe,{index:u}),_||G?Uu()($y,{className:JLe.a.separator}):null):null,p),b?null:Uu()("div",{className:JLe.a.rating},void 0,Uu()(bMe,{metadataItemEntityID:i,hideUnrated:Y})),Uu()("div",{className:JLe.a.actions},void 0,C?Uu()(zU,{className:JLe.a.selectButton,tabIndex:W,title:p,isSelected:O,onPress:A}):null,M?Uu()(Vp,{"data-qa-id":"metadataSummaryEditButton",className:JLe.a.editButton,tabIndex:W,"aria-label":Object(Ze.default)("Edit {title}",{title:p}),onPress:x},void 0,tke):null,D?Uu()(Xoe,{"data-qa-id":"metadataSummaryMoreButton",className:JLe.a.moreButton,tabIndex:W,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:B,onMenuOpenChange:V}):null)),h?Uu()("div",{className:JLe.a.subtitle},void 0,Uu()("span",{},void 0,Uu()(ale,{metadataItemEntityID:i}),v?Uu()($y,{className:JLe.a.separator,separator:""}):null,v?GLe(F,v):null,g?Uu()($y,{className:JLe.a.separator,separator:""}):null,g?Uu()(pSe,{duration:g}):null)):null,Uu()("div",{className:h?JLe.a.shorterSummary:JLe.a.summary},void 0,m)))))},ike=a("bKz6"),rke=a.n(ike);var nke=function(e){var{cellIndex:t,imageWidth:a,imageHeight:i}=e,r=N$(e);return Uu()("div",{className:t%2?rke.a.alternateLoadingItem:rke.a.loadingItem,style:r.style},void 0,Uu()("div",{className:rke.a.posterContainer},void 0,Uu()(qLe,{imageWidth:a,imageHeight:i})),Object(Ze.default)("Loading..."))},ske=Ed.a.createElement,{Component:oke}=Ed.a,lke=parseInt(YU.a.summaryCellPadding,10),cke=AOe(ake);var dke=Object(Fu.b)(uie)(xG((function(){return Object(_u.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,ZG(),die,cie,uw,HLe(),FLe(),xIe(),LLe(),BLe(),VLe(),gne,NLe(),(e,t,a={},i,r,n,s,o,l,c,d,u,p,h)=>{var m=oie(null,t-2*lke,s,o,a,e),v=!i||!r;return{metadataKey:a.key,grandparentKey:a.grandparentKey,parentTitle:a.parentTitle,type:s,index:a.index,title:a.title,leafCount:a.leafCount,duration:a.duration,summary:c,isFolder:a.isFolder,isUnavailable:!h,selectionID:a.entityID,selectionType:d,activeSelectionType:p.activeSelectionType,isSelected:u,route:l,showLink:!!l,showEdit:!v&&Nie({server:i,provider:r,stableUser:n,metadataItem:a}),showSelect:!v&&Uie({server:i,provider:r,stableUser:n,metadataItem:a}),showMore:!a.isFolder&&h,imageWidth:m.width,imageHeight:m.height,imageUrl:m.url}})}),(function(e,t){var{metadataListEntityID:a,metadataItemEntityID:i,metricsPage:r}=t;return{onEditPress(){e(xae({metadataItemEntityID:i,metricsPage:r}))},onSelectItem(t){e(Mx(Object.assign({metadataListEntityID:a,id:i},t)))},onDeselectItem(t){e(Cx(Object.assign({metadataListEntityID:a},t)))}}}),lie)(class extends oke{render(){return this.props.metadataKey?this.props.showSelect?ske(cke,this.props):ske(ake,this.props):ske(nke,this.props)}})),uke=parseInt(YU.a.summaryCellHeight,10),pke={};function hke(e,t,a){var i;return null==a?void 0:null==(i=a.find(a=>a.type===e&&a.subtype===t))?void 0:i.fields}var mke=a("hjda"),vke=a.n(mke),gke=Ed.a.createElement;var yke=function(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,searchResultEntityID:n,containerKey:s,listType:o,listContext:l,titleComponents:c,isFeaturedHub:d,metadataKey:u,displayFields:p,displayFieldDefinitions:h,type:m,subtype:v,selectionType:g,activeSelectionType:y,isSelected:f,isUnavailable:b,imageWidth:I,imageHeight:S,imageUrl:M,onSelectItem:C,onDeselectItem:D}=e,P=Je()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","displayFields","displayFieldDefinitions","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),O=N$(e),j=!u,T=j||b||O.isPlaceholder,w=function(e,t,a,i,r,n){var s="mixed"===t,o=t===Wt.k,l=a===Wt.e;if(n)return SMe(n);if(!s&&!o&&!l)return e;var c=IMe(a,i,r),d=IMe(t,i,r),u=e.filter(e=>!d.includes(e));return c.concat(u)}(c,o,m,v,l,p||hke(m,v,h)),E=d?w.slice(0,2):[],N=d?w.slice(2):w;return Uu()("div",{className:t,style:O.style,"data-qa-id":"cellItem"},void 0,T?Uu()(qLe,{imageWidth:I,imageHeight:S,isSelected:f}):gke(Vje,tp()({serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,containerKey:s,listType:o,listContext:l,metadataKey:u,type:m,imageWidth:I,imageHeight:S,imageUrl:M,selectionType:g,activeSelectionType:y,isSelected:f,onSelectItem:C,onDeselectItem:D},P)),Uu()("div",{"data-qa-id":"metadataTitleContainer",className:d?vke.a.continueWatchingTitleContainer:vke.a.titleContainer},void 0,j?Object(Ze.default)("Loading..."):null,!j&&E.length?Uu()("div",{className:vke.a.splitTitleContainer},void 0,E.map((t,o)=>Uu()(qbe,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,searchResultEntityID:n,containerKey:s,metricsContext:e.metricsContext,component:t,isSecondary:o>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0},o))):null,j?null:N.map((t,o)=>t?Uu()(qbe,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,searchResultEntityID:n,containerKey:s,metricsContext:e.metricsContext,component:t,isSecondary:E.length+o>0,isDoubleLine:t.isDoubleLine},o):null)))};var fke=Object(Fu.b)((function(){return Object(_u.a)((e,{listContext:t})=>t,(e,{cellWidth:t})=>t,(e,{displayFieldDefinitions:t})=>t,ZG(),HLe(),FLe(),BLe(),VLe(),gne,NLe(),(e,t,a,i={},r,n,s,o,l,c)=>{var d,u=oie(t,null,r,n,i,e);return{itemServerEntityID:i.serverEntityID,itemProviderEntityID:i.providerEntityID,isFeaturedHub:aLe(e),metadataKey:i.key,displayFieldDefinitions:a,displayFields:(null==(d=i.Context)?void 0:d.displayFields)||hke(r,n,a),type:r,subtype:n,selectionType:s,activeSelectionType:l.activeSelectionType,isSelected:o,icon:i.icon,imageWidth:u.width,imageHeight:u.height,imageUrl:u.url,isFolder:i.isFolder,isUnavailable:!c}})}),(function(e,t){var{metadataListEntityID:a}=t;return{onSelectItem(t){e(Mx(Object.assign({metadataListEntityID:a},t)))},onDeselectItem(t){e(Cx(Object.assign({metadataListEntityID:a},t)))}}}))(yke),bke=Ed.a.createElement;var Ike=function(e){var{metadataListEntityID:t,metadataItemEntityIDs:a,metricsContext:i,containerKey:r,listType:n,listSubtype:s,listContext:o,columnAdjustment:l,populatedRange:c,displayFieldDefinitions:d,displayFields:u}=e,p=Je()(e,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange","displayFieldDefinitions","displayFields"]),{serverEntityID:h,providerEntityID:m,hubIdentifier:v}=p,g=MMe(n,o,{providerEntityID:m,subtype:s,isExternal:v.indexOf("external")>-1,displayFields:u}),y="relatedAlbums"===v,f=fke;y&&(f=dke);var b=y?function(e=0){var t=e;if(pke.hasOwnProperty(t))return pke[t];var a=D$({direction:"horizontal",rows:1,getCellWidth:t=>Rfe(Object.assign({},t,{preferredCellWidth:600,minCellWidth:400,minColumns:2,maxColumns:4,columnAdjustment:e})),getCellHeight:()=>uke});return pke[t]=a,a}(l):nLe(n,s,o,l,g.length);return(bke(jfe,tp()({},p,{containerKey:r,keyPropName:"metadataItemEntityID",items:a,itemsOffset:c.start,layout:b,cellRenderer:Gfe({serverEntityID:h,providerEntityID:m,metadataListEntityID:t,containerKey:r,listType:n,listSubtype:s,listContext:o,titleComponents:g,displayFieldDefinitions:d,displayFields:u,isCondensed:!0,metricsContext:i},f)})))};function Ske(e,t){var{playQueueItems:a,currentIndex:i}=e,r=t[a[i]];return r&&r.metadataItem}function Mke(){return Object(_u.a)(({ui:e})=>e.audioVideoPlayer&&e.audioVideoPlayer.playQueue,({ui:e})=>e.photoPlayer&&e.photoPlayer.playQueue,(e,{metadataItemEntityID:t})=>t,mpe,(e,t,a,i)=>{return!!a&&(e&&(r=Ske(e,i)),t&&(n=Ske(t,i)),r===a||n===a);var r,n})}var Cke=function({className:e,duration:t,isPreview:a}){return a?Uu()("span",{className:e},void 0,Object(Ze.default)("Preview")):t?Uu()("span",{className:e},void 0,xM(t)):null};var Dke=Object(Fu.b)((function(e,t){return Object(_u.a)(ZG(),(e={})=>{var{duration:t,preview:a}=e;return{duration:t,isPreview:!!a}})}))(Cke),Pke=a("vau6"),Oke=a.n(Pke),jke=Ed.a.createElement,{useState:Tke}=Ed.a,wke=Uu()(aje,{});var Eke=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,listContext:s,cellIndex:o,metadataKey:l,type:c,title:d,isFolder:u,isUnavailable:p,route:h,showLink:m,showEdit:v,showSelect:g,showMore:y,skipGrandparent:f,hasActiveSelection:b,isSelected:I,isOtherItemSelected:S,isModifierKeyPressed:M,isPlayerPaused:C,isPlaying:D,imageWidth:P,imageHeight:O,imageUrl:j,onEditPress:T,onPlayPress:w,onSelectPress:E,onDeselectPress:N}=e,x=N$(e),[A,L]=WLe(),k=Tke(!1),R=k[1],z=k[0],U=p||x.isPlaceholder,V=g&&(M||S),B=b?"-1":"0",F=!A;return jke("div",tp()({className:((o%2?Oke.a.alternateItem:Oke.a.item)||"")+" "+(b&&Oke.a.hasActiveSelection||"")+" "+(V&&Oke.a.isForcingSelection||"")+" "+(I&&Oke.a.isSelected||"")+" "+(z&&Oke.a.isActionsMenuOpen||""),style:x.style},L),g?Uu()(Vp,{className:Oke.a.selectCoverButton,"aria-label":I?Object(Ze.default)("Deselect {title}",{title:d}):Object(Ze.default)("Select {title}",{title:d}),tabIndex:m&&!b?"-1":"0",onPress:I?N:E}):null,m?Uu()(Vp,{className:Oke.a.underlay,tabIndex:B,to:h,"aria-label":d}):null,Uu()("div",{className:Oke.a.overlay},void 0,Uu()("div",{className:Oke.a.container},void 0,Uu()("div",{className:Oke.a.playIndexContainer},void 0,D?null:Uu()(ZLe,{className:Oke.a.index,index:o+1}),D||p?null:Uu()(kle,{className:Oke.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:B,title:d,onPress:w}),D?Uu()(Cxe,{className:Oke.a.equalizer,isPaused:C}):null),Uu()("div",{className:Oke.a.posterContainer},void 0,U?Uu()(qLe,{imageWidth:P,imageHeight:O}):Uu()(Vje,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,listContext:s,metadataKey:l,type:c,imageWidth:P,imageHeight:O,imageUrl:j,isFolder:u,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showPlay:!1})),Uu()("div",{className:Oke.a.titleContainer},void 0,Uu()("div",{},void 0,d),Uu()(Ole,{className:Oke.a.subtitle,metadataItemEntityID:i,skipGrandparent:f,isSecondary:!0})),Uu()("div",{className:Oke.a.actionsContainer},void 0,Uu()(bMe,{className:Oke.a.rating,metadataItemEntityID:i,hideUnrated:F}),Uu()(Dke,{className:Oke.a.duration,metadataItemEntityID:i}),Uu()("div",{className:Oke.a.buttons},void 0,g?Uu()(zU,{className:Oke.a.selectButton,tabIndex:B,title:d,isSelected:I,onPress:E}):null,v?Uu()(Vp,{"data-qa-id":"metadataTrackEditButton",className:Oke.a.editButton,tabIndex:B,"aria-label":Object(Ze.default)("Edit {title}",{title:d}),onPress:T},void 0,wke):null,y?Uu()(Xoe,{"data-qa-id":"metadataTrackMoreButton",className:Oke.a.moreButton,tabIndex:B,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:z,onMenuOpenChange:R}):null)))))},Nke=a("MzBL"),xke=a.n(Nke);var Ake=function(e){var{cellIndex:t}=e,a=N$(e);return Uu()("div",{className:t%2?xke.a.alternateLoadingItem:xke.a.loadingItem,style:a.style},void 0,Object(Ze.default)("Loading..."))},Lke=Ed.a.createElement,{Component:kke}=Ed.a,Rke=parseInt(YU.a.trackCellPadding,10),zke=AOe(Eke);var Uke=Object(Fu.b)(uie)(xG((function(){return Object(_u.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,ZG(),die,cie,uw,HLe(),FLe(),xIe(),LLe(),BLe(),VLe(),Mke(),e=>e.ui.audioVideoPlayer.isPaused,gne,NLe(),(e,t,a={},i,r,n,s,o,l,c,d,u,p,h,m,v)=>{var g=oie(null,t-2*Rke,s,o,a,e),y=!i||!r;return{metadataKey:a.key,grandparentTitle:a.grandparentTitle,type:s,index:a.index,title:a.title,summary:c,isFolder:a.isFolder,isUnavailable:!v,selectionID:a.entityID,selectionType:d,activeSelectionType:m.activeSelectionType,isSelected:u,route:l,isPlaying:p,isPlayerPaused:h,showLink:!!l,showEdit:!y&&Nie({server:i,provider:r,stableUser:n,metadataItem:a}),showSelect:!y&&Uie({server:i,provider:r,stableUser:n,metadataItem:a}),showMore:!a.isFolder&&v,imageWidth:g.width,imageHeight:g.height,imageUrl:g.url}})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,metricsPage:t.metricsPage,options:{containerKey:t.containerKey,listType:t.listType}};return{onPlayPress(){e(Object(Cw.p)(a))},onEditPress(){e(xae(a))},onSelectItem(t){e(Mx(Object.assign({metadataListEntityID:a.metadataListEntityID,id:a.metadataItemEntityID},t)))},onDeselectItem(t){e(Cx(Object.assign({metadataListEntityID:a.metadataListEntityID},t)))}}}),lie)(class extends kke{render(){return this.props.metadataKey?this.props.showSelect?Lke(zke,this.props):Lke(Eke,this.props):Lke(Ake,this.props)}})),Vke=a("MUEv"),Bke=a.n(Vke),{Component:Fke}=Ed.a,Hke={[Wt.p]:parseInt(YU.a.trackCellHeight,10),[Wt.a]:parseInt(YU.a.summaryCellHeight,10)},_ke={[Wt.p]:Uke,[Wt.a]:dke},Qke={[Wt.p]:3,[Wt.a]:10};class Wke extends Fke{componentDidMount(){this.props.onListReady&&this.props.onListReady()}render(){var{className:e,serverEntityID:t,providerEntityID:a,hubEntityID:i,metadataListEntityID:r,metadataItemEntityIDs:n,hubIdentifier:s,directoryKey:o,containerKey:l,title:c,attribution:d,route:u,more:p,listType:h,listContext:m}=this.props,v=Hke[h],g=_ke[h],y=n.slice(0,Qke[h]),f=Wt.u(h).plural,b=p||y.length!==n.length;return Uu()("div",{className:e,"data-qa-id":"hub--"+s},void 0,Uu()(Sfe,{className:Bke.a.hubCellHeader,directoryKey:o,hubEntityID:i},void 0,Uu()(Gye,{className:Bke.a.title},void 0,d?Uu()(nS,{className:Bke.a.attribution,attribution:d}):null,c),b?Uu()(Vp,{className:Bke.a.titleButton,to:u},void 0,Object(Ze.default)("See all {typeLabel}",{typeLabel:f})):null),Uu()("div",{className:Bke.a.list},void 0,y.map((e,i)=>Uu()(g,{serverEntityID:t,providerEntityID:a,metadataListEntityID:r,metadataItemEntityID:e,containerKey:l,listType:h,listContext:m,cellIndex:i,cellHeight:v,style:{width:"100%",height:v}},i))))}}Wke.defaultProps={className:Bke.a.hubCell};var Gke=Wke;var Yke=xG((function(){return Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{listContext:t})=>t,(e,{allowSourceTitle:t})=>t,(e,{metricsPage:t})=>t,RS(),kS(),ofe(),DAe(),dfe(),(e,t,a,i,r,n,s,o,l)=>{var c,d,u=s.hubIdentifier.indexOf("music.video")>-1?"musicVideo":s.type,p=t||PAe(s.hubIdentifier),h=OAe(i,s.context||s.hubIdentifier);if(s.key&&"continueWatching"!==p){var m={key:s.key,title:s.title,pageType:At,context:h};d=e?tLe(r,n,e,m):s.source?jAe(s.source,m):Xt(r,n,m)}var v={component:"content"===s.type||"channels"===s.type?ELe:s.style===Hye.c?eLe:s.style!==Hye.b||s.type!==Wt.p&&1!==s.size?s.metadataList?Ike:ELe:Gke,metadataListEntityID:s.metadataList,metricsContext:h,hubIdentifier:s.hubIdentifier,title:s.title,sourceTitle:a?o:null,attribution:s.attribution,route:d,style:s.style,size:s.size,more:s.more,random:s.random,autoAdvanceDelayMs:s.autoAdvanceDelayMs,displayFieldDefinitions:null==(c=s.Meta)?void 0:c.DisplayFields,containerKey:s.key,listType:u,listSubtype:s.subtype,listContext:p,isHomeHub:l};if(s.source){var{serverEntityID:g,providerEntityID:y}=IAe(s.source);v.serverEntityID=g,v.providerEntityID=y}return v})}))(Mne);Yke.propTypes=Object.assign({},Yke.propTypes,{providerEntityID:Oc.a.string.isRequired,serverEntityID:Oc.a.string.isRequired,hubEntityID:Oc.a.string.isRequired,sourceDirectory:bce,allowSourceTitle:Oc.a.bool});var Kke=Yke,qke=Ed.a.createElement,{Component:Zke}=Ed.a;var Xke={dispatchPopulateProvider:fAe};var Jke=SAe(Object(Fu.b)((function(){return Object(_u.a)(_S,e=>({provider:e}))}),Xke)(class extends Zke{componentDidMount(){this.props.provider.isPopulated||this._populateProvider()}componentDidUpdate(e){this.props.providerEntityID===e.providerEntityID||this.props.provider.isPopulated||this._populateProvider()}_populateProvider(){this.props.dispatchPopulateProvider({providerEntityID:this.props.providerEntityID,options:{merge:!0}})}render(){var e=this.props,{provider:t}=e,a=Je()(e,["dispatchPopulateProvider","provider"]);return t.isPopulated?qke(Kke,tp()({},a,{listContext:jc})):null}}),ofe),{Component:$ke}=Ed.a,eRe={opacity:0,pointerEvents:"none"},tRe={opacity:1,pointerEvents:"auto"};var aRe=class extends $ke{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.hubEntityIDs.length}componentWillReceiveProps(e){var t=e.hubEntityIDs.length,a=this.props.hubEntityIDs.length;this.state.isReady||t===a||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:a,allowSourceTitle:i,className:r,serverEntityID:n,providerEntityID:s,directoryKey:o,hubEntityIDs:l,sourceDirectory:c,isPromoted:d,columnAdjustment:u,listContext:p}=this.props,{isReady:h}=this.state,m=d?Jke:Kke;return Uu()("div",{className:r,style:h?tRe:eRe},void 0,l.map(r=>Uu()(m,{serverEntityID:n,providerEntityID:s,hubEntityID:r,sourceDirectory:c,directoryKey:o,allowHomeHubIndicator:e,allowPersistentHomeHubStatus:t,allowToggleHomeHub:a,allowSourceTitle:i,listContext:p,columnAdjustment:u,onListReady:this.onListReady},r)))}},iRe=a("1pRg"),rRe=a.n(iRe);function nRe({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}nRe.defaultProps={className:rRe.a.innerContent};var sRe=nRe,oRe=a("Y52O"),lRe=a.n(oRe);function cRe({className:e}){return Uu()("div",{className:e})}cRe.defaultProps={className:lRe.a.divider};var dRe=cRe,uRe=a("jIku"),pRe=a.n(uRe),hRe=Ed.a.createElement,{Component:mRe}=Ed.a;class vRe extends mRe{constructor(e,t){super(e,t),this.onLineHeightRef=e=>{e&&this.setState({lineHeight:e.clientHeight})},this.onMeasure=({height:e})=>{this.setState({expandedHeight:e})},this.onTogglePress=()=>{this.setState({isCollapsed:!this.state.isCollapsed,allowTransition:!0})},this.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{className:e,dangerouslySetInnerHTML:t,children:a,labelLess:i,labelMore:r,maxLines:n}=this.props,{isCollapsed:s,allowTransition:o,expandedHeight:l,lineHeight:c}=this.state,d=c*n,u=l>d,p={overflow:"hidden",maxHeight:s?d:l};return Uu()("div",{className:e},void 0,c?null:hRe("div",{className:pRe.a.lineHeightMeasure,ref:this.onLineHeightRef}),Uu()("div",{className:o?pRe.a.contentTransition:void 0,style:p},void 0,Uu()(p$,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,t?Uu()("div",{dangerouslySetInnerHTML:t}):a)),u?Uu()(Cy,{className:pRe.a.readMore,arrowClassName:pRe.a.readMoreArrow,direction:s?dy:cy,isSelected:!1,onPress:this.onTogglePress},void 0,s?r:i):null)}}vRe.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};var gRe=vRe,yRe=Ed.a.createElement;function fRe(e){return yRe(gRe,tp()({},e,{labelLess:Object(Ze.default)("Read Less"),labelMore:Object(Ze.default)("Read More")}))}fRe.defaultProps=Object.assign({},gRe.defaultProps);var bRe=fRe,IRe=a("s4MQ"),SRe=a.n(IRe);function MRe({className:e,dangerouslySetInnerHTML:t,children:a}){var i=a?a.split("\n"):[];return(Uu()(bRe,{className:e,dangerouslySetInnerHTML:t},void 0,i.length>1?i.map((e,t)=>Uu()("p",{},t,e)):a))}MRe.defaultProps={className:SRe.a.summary};var CRe=MRe,{Fragment:DRe}=Ed.a,PRe=Uu()(dRe,{});var ORe=function(e){var{title:t,summary:a}=e;return(Uu()(DRe,{},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,t))),PRe,Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,a))))},jRe=a("QbAs"),TRe=a.n(jRe),wRe=Ed.a.createElement;function ERe(e){return Uu()("div",{className:TRe.a.attributionLogo},void 0,wRe(xAe,e))}var NRe=a("1vuw"),xRe=a.n(NRe);function ARe(e){var{className:t,linkClassName:a,server:i,provider:r,sourceDirectory:n,fallbackFilterKey:s,type:o,tags:l,limit:c}=e;if(!l||!l.length)return null;var d=o&&Object(Wt.u)(o);return(Uu()("span",{className:t},void 0,l.map((e,t)=>{if(!(t>=c)){var o;if(e.directory&&e.key&&n)o=Jt(i,r,n,{key:e.key,title:e.tag});else if((e.filter||e.id)&&n){var u={filters:e.filter,filterLabel:e.tag};!u.filter&&s&&e.id&&(u.filters=s+"="+e.id),d&&(u.type=d.id),e.context&&(u.context=e.context),o=X7(i,r,n,u)}return(Uu()("span",{},t,Uu()(Vp,{className:a,to:o,isDisabled:!o},void 0,e.tag),t+1<c&&t+1<l.length?", ":null))}})))}ARe.defaultProps={linkClassName:xRe.a.tagsListLink,limit:1/0};var LRe=ARe,kRe=a("zVLU"),RRe=a.n(kRe);function zRe({children:e,className:t}){return Uu()("div",{className:t,"data-qa-id":"preplayDetailsContainer"},void 0,e)}zRe.defaultProps={className:RRe.a.group};var URe=zRe,VRe=a("lo1/"),BRe=a.n(VRe);function FRe(e){var{children:t,className:a,labelClassName:i,contentClassName:r,label:n}=e;return(Uu()("div",{className:a},void 0,Uu()("div",{className:i},void 0,n),Uu()("div",{className:r},void 0,t)))}FRe.defaultProps={className:BRe.a.groupItem,labelClassName:BRe.a.label,contentClassName:BRe.a.content};var HRe=FRe;function _Re(e){var{children:t,server:a,provider:i,sourceDirectory:r,type:n,Director:s,Writer:o,Studio:l,studio:c,isLibraryProvider:d}=e;return t||s.length||o.length||c||l.length?Uu()(URe,{},void 0,t,s.length?Uu()(HRe,{label:Object(Ze.default)("Directed by")},void 0,Uu()(LRe,{server:a,provider:i,sourceDirectory:r,fallbackFilterKey:"director",type:n,tags:s})):null,o.length?Uu()(HRe,{label:Object(Ze.default)("Written by")},void 0,Uu()(LRe,{server:a,provider:i,sourceDirectory:r,fallbackFilterKey:"writer",type:n,tags:o})):null,l.length?Uu()(HRe,{label:Object(Ze.default)("Studio")},void 0,Uu()(LRe,{server:a,provider:i,sourceDirectory:r,fallbackFilterKey:"studio",type:n,tags:l})):null,c&&!l.length?Uu()(HRe,{label:Object(Ze.default)("Studio")},void 0,Uu()(LRe,{server:a,provider:i,sourceDirectory:r,type:n,tags:[{filter:d?"studio="+encodeURIComponent(encodeURIComponent(c)):null,tag:c}]})):null):null}_Re.defaultProps={Director:[],Writer:[]};var QRe=_Re;var WRe=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),ZG(),(e,t,a,i={})=>({server:e,provider:t,isLibraryProvider:jt.k(t.identifier,jt.d),sourceDirectory:a,Director:i.Director,Writer:i.Writer,Studio:i.Studio,studio:i.studio}))}))(QRe);function GRe(e,t,a){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(Tt.v)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===L8.a||parseInt(e.protocolVersion,10)>=3)}(a))}var YRe=function(){return Object(_u.a)(RS(),ZG(),(e,t)=>GRe(e,t))},KRe=Object(Pa.a)("INIT_PRE_PLAY_PAGE"),qRe=Object(Pa.a)("INIT_PRE_PLAY_DESCENDANT_LIST"),ZRe=Object(Pa.a)("INIT_PRE_PLAY_SIBLING_LIST"),XRe=Object(Pa.a)("INIT_PRE_PLAY_AUGMENTED_HUBS"),JRe=Object(Pa.a)("PRE_FETCH_PRE_PLAY_METADATA_ITEM"),$Re=Object(Pa.a)("FETCH_PRE_PLAY_METADATA_ITEM"),eze=Object(Pa.a)("FETCH_PRE_PLAY_RELATED_HUBS"),tze=Object(Pa.a)("FETCH_PRE_PLAY_AUGMENTED_HUBS"),aze=Object(Pa.a)("MAKE_PRE_PLAY_VIDEO_DECISION"),ize=Object(Pa.a)("REPOPULATE_PRE_PLAY_POPULAR_TRACKS");function rze(e){return e.get("ui").get("prePlayPage")}function nze(e,t){var{metadataItemEntityID:a,containerKeyPattern:i}=t;if(i)return!1;var r=Object(Ta.m)(e,t),n=rze(e).get("metadataItem");return!(!n||n.server!==r)&&(!a||n.entityID()===a)}function sze(e,t,a){var i=rze(e),r=i.get("siblingList"),n=i.get("descendantList"),s=i.get("relatedHubs");r&&a(bx({metadataListEntityID:r.entityID()})),n&&(i.get("metadataItem").get("type")===Wt.a?a(gx({metadataListEntityID:n.entityID()})):a(bx({metadataListEntityID:n.entityID()}))),s&&a(eze())}function oze(e,t){var a=Object(Ta.m)(e,t),i=rze(e),r=i.get("metadataItem");if(r&&r.server===a){var n=t.activity.Context;if(n&&n.key===r.get("key")&&(null!=n.exists||null!=n.accessible)){var s=!n.exists||!n.accessible;i.set("isFileUnavailable",s),s&&window.setTimeout(()=>{r.set("isPreFetched",!1)},0)}}}var lze=uk({INIT_PRE_PLAY_PAGE(e,t){var a=rze(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{providerEntityID:n,metadataKey:s}=t;if(n!==a.get("providerEntityID")||s!==a.get("metadataKey")){var o=new ut.a({key:s},{server:i,provider:r}),l=_.join([s.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=Object(sw.a)(e,Tt.a),d=new iw.default([],{server:i,provider:r,metadataItem:o,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});a.restoreDefaults({providerEntityID:n,metadataKey:s,metadataItem:o,siblingKey:a.get("siblingKey"),siblingList:a.get("siblingList"),relatedHubs:d})}},INIT_PRE_PLAY_DESCENDANT_LIST(e,t){var a=rze(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=Object(Ta.f)(e,t),{providerEntityID:s,descendantKey:o}=t;if(o){if(s!==a.get("providerEntityID")||o!==a.get("descendantKey")){var l=Object(sw.a)(e,Tt.a),c="album"===n.get("type")||"artist"===n.get("type")&&n.get("skipChildren"),d=new Qi.default({containerKey:o},{server:i,provider:r,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});a.set({descendantKey:o,descendantList:d})}}else a.set({descendantKey:o,descendantList:void 0})},INIT_PRE_PLAY_SIBLING_LIST(e,t){var a=rze(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{providerEntityID:n,siblingKey:s}=t;if(s){if(n!==a.get("providerEntityID")||s!==a.get("siblingKey")){var o=Object(sw.a)(e,Tt.a),l=new Qi.default({containerKey:s},{server:i,provider:r,excludeAllLeaves:!0,includeExternalMedia:o});a.set({siblingKey:s,siblingList:l})}}else a.set({siblingKey:s,siblingList:void 0})},INIT_PRE_PLAY_AUGMENTED_HUBS(e,t,a){var i=rze(e),r=i.get("metadataItem"),n=r.get("augmentationKey"),s=[Wt.b,Wt.a],o=[Wt.j,Wt.o,Wt.n,Wt.f],l=r.get("type");if((s.includes(l)||o.includes(l))&&n){var c=new iw.default([],{server:r.server,provider:r.provider,hubKey:r.get("augmentationKey"),excludeFields:"",wait:1});i.set({augmentedHubs:c}),a(tze())}else i.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0})},PRE_FETCH_PRE_PLAY_METADATA_ITEM(e,t){mse(Object(Ta.f)(e,t),{forceFetch:!0})},FETCH_PRE_PLAY_METADATA_ITEM(e,t,a){var i=rze(e),r=i.get("metadataItem"),n=i.get("isMetadataItemPending");i.set("isMetadataItemPending",!0),mse(r,{forceFetch:!0}).done(()=>{i.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),a(XRe())}).fail((e,t)=>{t.aborting?i.set("isMetadataItemPending",n):i.set({isMetadataItemPending:!1,metadataItemError:Object(vw.a)(t)})})},FETCH_PRE_PLAY_RELATED_HUBS:Object(Oa.a)({key:"relatedHubs",getModel:rze}),FETCH_PRE_PLAY_AUGMENTED_HUBS:Object(Oa.a)({key:"augmentedHubs",getModel:rze}),MAKE_PRE_PLAY_VIDEO_DECISION(e,t,a){var i=rze(e),r=e.get("user").get("experienceSettings"),n=i.get("metadataItem"),s=Object(ie.c)("getDecisionOptions")(n),o=gl.a.getCurrentQuality(n,r,e=>a(Object(Qu.f)(e))),l=fhe.getMediaDecision(Object.assign({item:n,transcodeServer:n.server,quality:o},s));i.set("decisionMediaItem",l.media)},"server/updateActivity"(e,t){"library.refresh.items"===t.activity.type&&oze(e,t)},[Ea](e,t){"library.refresh.items"===t.activity.type&&oze(e,t)},[Z8.a](e,t,a){nze(e,t)&&sze(e,0,a)},[ji.a](e,t,a){var i=rze(e),r=i.get("metadataItem");if(nze(e,t))r.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),sze(e,0,a);else{var n=Object(Ta.m)(e,t),s=i.get("siblingList"),o=t.parentMetadataKey;r&&r.server===n&&s&&o&&r.get("parentKey")===o&&a(bx({metadataListEntityID:s.entityID()}))}},REPOPULATE_PRE_PLAY_POPULAR_TRACKS(e,t,a){var i=rze(e).get("metadataItem"),r=Object(Ta.q)(e,{metadataItemEntityID:t.albumMetadataItemEntityID});i&&r&&i.get("key")===r.get("parentKey")&&a(Object(Z8.f)({serverEntityID:t.serverEntityID,metadataItemEntityID:i.entityID()}))}});function cze(e,t,a){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(Tt.w)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||(e.protocol===L8.a||parseInt(e.protocolVersion,10)>=3)}(a))}var dze=function(){return Object(_u.a)(RS(),ZG(),(e,t)=>cze(e,t))},{Component:uze}=Ed.a;var pze=class extends uze{constructor(...e){super(...e),this.onPress=e=>{this.props.onStreamSelect(this.props.stream.id),this.props.onMenuClose()}}render(){var{className:e,children:t,stream:a}=this.props;return(Uu()(iy,{className:e,isSelected:!!a.selected,onPress:this.onPress},void 0,t))}},hze=a("WqrE"),mze=a.n(hze);var vze=function(e){var{target:t,isOpen:a,serverEntityID:i,audioStreams:r,onMenuClose:n,onStreamSelect:s}=e;return(Uu()(Fg,{target:t,isOpen:a,size:wp,onMenuClose:n},void 0,r.map(e=>Uu()(pze,{stream:e,onMenuClose:n,onStreamSelect:s},e.id,Uu()(dC,{serverEntityID:i,type:"audio",stream:e}),e.title?Uu()("span",{className:mze.a.extendedTitle},void 0,e.title):null))))},gze=xe.a.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:Ae.a.integer,key:Ae.a.string,streamType:Ae.a.integer,codec:Ae.a.string,index:Ae.a.integer,language:Ae.a.string,languageCode:Ae.a.string,score:Ae.a.float,providerTitle:Ae.a.string,title:Ae.a.string,displayTitle:Ae.a.string,reason:Ae.a.string,hearingImpaired:Ae.a.boolean,perfectMatch:Ae.a.boolean,downloaded:Ae.a.boolean}}),yze=ke.a.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:gze,url(){var e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),_.join([this.key,"/subtitles"],e)}}),fze=Object(Pa.a)("ui/subtitlesModal/resetMetadataItemSubtitles"),bze=Object(Pa.a)("ui/subtitlesModal/fetchMetadataItemSubtitles"),Ize=Object(Pa.a)("ui/subtitlesModal/downloadMetadataItemSubtitle"),Sze=(Object(Pa.a)("ui/subtitlesModal/clearSubtitlesDownloadError"),null);function Mze(e){return e.get("ui").get("subtitlesModal")}function Cze(e,t){Sze&&(Sze=window.clearTimeout(Sze));var a=t.get("metadataItemEntityID"),i=Object(Ta.f)(e,{metadataItemEntityID:a}),r=i.server,n=t.get("subtitlesDownloadStartTime"),s=t.get("isSubtitlesDownloaded"),o=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");s||o||(n&&Date.now()-n>3e4?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:Object(Ze.default)("Failed to download subtitles in time")}):Sze=window.setTimeout(()=>{i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then(()=>{if(i.get("Media").some(e=>e.Part.some(e=>e.Stream.some(e=>e.key===l))))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void Dze(e);r.get("hasEventConnection")||Cze(e,t)},()=>{Cze(e,t)})},2e3))}function Dze(e){var t=e.get("ui").get("audioVideoPlayer");t.get("isOpen")&&Object(G8.a)(e).refreshRemoteStreams(t)}var Pze=uk({"ui/subtitlesModal/resetMetadataItemSubtitles"(e){var t=Mze(e),a=t.get("subtitles");Sze&&(Sze=window.clearTimeout(Sze)),a.abortPendingPopulate(),a.resetPopulatePromise(null),t.restoreDefaults()},"ui/subtitlesModal/fetchMetadataItemSubtitles"(e,t,a){var i=Mze(e),r=function(e){return e.get("user").get("profile")}(e),n=Object(Ta.f)(e,t),s=n.server.entityID(),o=i.get("subtitles");o&&(o.abortPendingPopulate(),o.resetPopulatePromise(null));var l=new yze([],{key:n.get("key"),server:n.server,provider:n.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:r.get("defaultSubtitleAccessibility"),forced:r.get("defaultSubtitleForced")});i.set({subtitles:l,serverEntityID:s,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then(e=>{i.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})},(e,t)=>{t.aborting?i.set("isSubtitlesPending",!1):i.set({isSubtitlesPending:!1,subtitlesError:KT(t,Object(Ze.default)("Unable to load subtitles"))})})},"ui/subtitlesModal/downloadMetadataItemSubtitle"(e,t,a){var i=Mze(e),r=Object(Ta.f)(e,t),n=r.server,s={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},o=_.join([r.get("key"),"/subtitles"],s),l=n.getXHROptions(o,{type:"PUT"});i.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),T.a.ajax(l).then((t,a,r)=>{var s=r.getResponseHeader("X-Plex-Activity");i.set("subtitlesDownloadActivityID",s),n.get("hasEventConnection")||Cze(e,i)},e=>{i.set({subtitlesDownloadKey:null,subtitlesDownloadError:KT(e,Object(Ze.default)("Unable to download subtitles"))})})},"ui/subtitlesModal/clearSubtitlesDownloadError"(e){Mze(e).set("subtitlesDownloadError",null)},"server/eventConnectionClose"(e,t){var{serverEntityID:a}=t,i=Mze(e);a===i.get("serverEntityID")&&Cze(e,i)},[Ea](e,t,a){var{activity:i}=t;if("subtitle.download"===i.type){var r=Mze(e);if(i.uuid===r.get("subtitlesDownloadActivityID")){var n=r.get("serverEntityID"),s=r.get("metadataItemEntityID"),o={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=i.Response.error;l?(o.isSubtitlesDownloaded=!1,o.subtitlesDownloadError=i.Response.status):o.isSubtitlesDownloaded=!0,r.set(o),l||(Dze(e),a(Object(Z8.f)({serverEntityID:n,metadataItemEntityID:s})))}}}});function Oze(e){return e.ui.subtitlesModal}var jze=a("qXTq"),Tze=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"];var wze=Tze.reduce((e,t)=>(e[t]=hc[t],e),{});function Eze(e){if(wze[e])return e;var t=vc([e]);return wze[t]?t:"en"}var Nze=[...Tze].sort(cc).reduce((e,t)=>(e.push(wze[t]),e),[]),xze=wze;function Aze(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Aze.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Lze=Aze,kze=a("Mtv6"),Rze=a.n(kze),{Component:zze}=Ed.a;var Uze=class extends zze{constructor(...e){super(...e),this.onPress=()=>{var{subtitleKey:e,codec:t,languageCode:a,providerTitle:i,hearingImpaired:r,forced:n,onDownloadSubtitle:s}=this.props;s({key:e,codec:t,languageCode:a,providerTitle:i,hearingImpaired:r,forced:n})}}render(){var{title:e,displayTitle:t,score:a,perfectMatch:i,downloaded:r,isDownloading:n}=this.props;return(Uu()(Vp,{className:Rze.a.item,isDisabled:r||n,onPress:this.onPress},void 0,Uu()("div",{className:Rze.a.titles},void 0,Uu()("span",{className:Rze.a.title},void 0,e),Uu()("span",{className:Rze.a.secondaryTitle},void 0,t)),Uu()("div",{className:Rze.a.score},void 0,i?Uu()(tMe,{className:Rze.a.perfectMatch}):null,a),n?Uu()("div",{className:Rze.a.spinnerContainer},void 0,Uu()(Xh,{size:jp})):null,r?Uu()(ey,{className:Rze.a.downloadedIcon}):null,n||r?null:Uu()(Lze,{className:Rze.a.downloadIcon})))}};var Vze=function(e){var{subtitles:t,subtitlesDownloadKey:a,onDownloadSubtitle:i}=e;return(Uu()(rh,{},void 0,t.map(e=>{var{key:t,title:r,displayTitle:n,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:h}=e;return(Uu()(Uze,{subtitleKey:t,title:r,displayTitle:n,providerTitle:s,score:o,codec:l,languageCode:c,hearingImpaired:d,forced:u,perfectMatch:p,downloaded:h,isDownloading:a===t,onDownloadSubtitle:i},t))})))},Bze=a("VVyF"),Fze=a.n(Bze),{Component:Hze}=Ed.a,_ze=Uu()(Xh,{});var Qze=class extends Hze{constructor(e,t){super(e,t),this.onSearch=()=>{var{language:e,title:t}=this.state;this.props.onFetchSubtitles({language:e,title:t})},this.onLanguageChange=e=>{var t=Object.keys(xze).find(t=>xze[t]===e);this.setState({language:t},this.onSearch)},this.onTitleChange=e=>{this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID),this.setState({title:e},()=>{this.searchTimeoutID=window.setTimeout(this.onSearch,500)})},this.state={language:Eze(e.defaultSubtitleLanguage),title:""},this.searchTimeoutID=null}componentDidMount(){this.onSearch()}componentDidUpdate(e,t){var{isSubtitlesDownloaded:a,onModalClose:i}=this.props,{isSubtitlesDownloaded:r}=e;!r&&a&&i()}componentWillUnmount(){this.searchTimeoutID&&window.clearTimeout(this.searchTimeoutID)}render(){var{mediaTitle:e,subtitles:t,showSpinner:a,showSearchResults:i,showEmptyMessage:r,hasSubtitlesError:n,subtitlesError:s,subtitlesDownloadKey:o,hasSubtitlesDownloadError:l,subtitlesDownloadError:c,onDownloadSubtitle:d,onModalClose:u}=this.props,{language:p}=this.state;return Uu()("div",{className:Fze.a.modalContainer},void 0,Uu()(UL,{onModalClose:u},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Subtitles")),l?Uu()("div",{},void 0,Uu()(MU,{errorMessage:c})):null,Uu()(fL,{className:Fze.a.modalBody,scrollDirection:Jp},void 0,Uu()("div",{className:Fze.a.inputs},void 0,Uu()(bR,{className:Fze.a.languageInput,name:"language",value:xze[p],values:Nze,onChange:this.onLanguageChange}),Uu()(LR,{className:Fze.a.titleInput,name:"title",placeholder:e,onChange:this.onTitleChange})),a?Uu()("div",{className:Fze.a.centeredContainer},void 0,_ze):null,n?Uu()("div",{className:Fze.a.centeredContainer},void 0,s):null,i?Uu()(Vze,{subtitles:t,subtitlesDownloadKey:o,onDownloadSubtitle:d}):null,r?Uu()("div",{className:Fze.a.centeredContainer},void 0,Object(Ze.default)("No results")):null)))}};var Wze=Object(Fu.b)((function(){return Object(_u.a)(mv("profile"),ZG(),Oze,(e,t={},a)=>{var{Media:i}=t,r="";if(i&&i.length){var n=i[0].Part;n.length&&(r=Object(jze.default)(n[0].file,55))}var{subtitles:s,isSubtitlesPending:o,isSubtitlesPopulated:l,subtitlesError:c,subtitlesDownloadKey:d,isSubtitlesDownloaded:u,subtitlesDownloadError:p}=a,h=o&&!c,m=l&&!c&&s.length>0,v=l&&!c&&0===s.length;return{mediaTitle:r,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:s,showSpinner:h,showSearchResults:m,showEmptyMessage:v,subtitlesDownloadKey:d,isSubtitlesDownloaded:u,hasSubtitlesError:!!c,subtitlesError:c,hasSubtitlesDownloadError:!!p,subtitlesDownloadError:p}})}),(function(e,t){var{metadataItemEntityID:a}=t;return{onFetchSubtitles({language:t,title:i}){e(bze({metadataItemEntityID:a,language:t,title:i}))},onDownloadSubtitle(t){var{key:i,codec:r,languageCode:n,providerTitle:s,hearingImpaired:o,forced:l}=t;e(Ize({metadataItemEntityID:a,key:i,codec:r,language:n,providerTitle:s,hearingImpaired:o,forced:l}))}}}))(Qze);var Gze=function(e){var{metadataItemEntityID:t,isOpen:a,onModalClose:i}=e;return(Uu()(xT,{isOpen:a,metricsPage:Rd.vb,onModalClose:i},void 0,Uu()(Wze,{metadataItemEntityID:t,onModalClose:i})))},Yze=Ed.a.createElement,{Component:Kze}=Ed.a,qze={dispatchResetMetadataItemSubtitles:fze};var Zze=Object(Fu.b)(null,qze)(class extends Kze{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchResetMetadataItemSubtitles(),this.props.onModalClose()}}render(){return Yze(Gze,tp()({},this.props,{onModalClose:this.onModalClose}))}}),Xze=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],Jze=Object(Pa.a)("ui/subtitlesUploadModal/resetUploadSubtitles"),$ze=Object(Pa.a)("ui/subtitlesUploadModal/uploadSubtitles");function eUe(e){return e.get("ui").get("subtitlesUploadModal")}var tUe=uk({"ui/subtitlesUploadModal/resetUploadSubtitles"(e){eUe(e).restoreDefaults()},"ui/subtitlesUploadModal/uploadSubtitles"(e,t,a){var i,r,{file:n}=t,s=Object(Ta.f)(e,t),o=eUe(e),l=n.name,c=(r=(i=l).lastIndexOf("."))>=0?i.substring(r+1):null;if(Xze.includes(c))if(n.size>1048576)o.set({error:Object(Ze.default)("Subtitle file exceeds 1MB size limit")});else{Object(wa.a)(()=>{o.set({isUploading:!0,isUploaded:!1,error:null})});var d=new window.FileReader;d.onload=t=>{if(t.target.error)o.set({isUploading:!1,isUploaded:!1,error:Object(Ze.default)("Unable to upload subtitle file")});else{var a=t.target.result,i=_.join([s.get("key"),"subtitles"],{title:l,format:c}),r=s.server.getXHROptions(i,{method:"POST",processData:!1,contentType:!1,data:a});T.a.ajax(r).then(()=>{o.set({isUploading:!1,isUploaded:!0,error:null});var t=e.get("ui").get("audioVideoPlayer");(s.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen"))&&Object(G8.a)(e).refreshRemoteStreams(t)},e=>{o.set({isUploading:!1,isUploaded:!1,error:KT(e,Object(Ze.default)("Unable to upload subtitle file"))})})}},d.readAsText(n)}else o.set({error:Object(Ze.default)("Unsupported subtitle file format")})}}),aUe=a("THTr"),iUe=a.n(aUe),rUe=Ed.a.createElement,{Component:nUe}=Ed.a;class sUe extends nUe{constructor(e,t){super(e,t),this.onChange=e=>{if(e.target.files&&e.target.files.length){var t=e.target.files[0];this.setState({filename:t.name})}this.props.onChange(e)},this.state={filename:null}}render(){var e=this.props,{inputComponent:t,className:a,inputClassName:i,buttonText:r,showFilename:n}=e,s=Je()(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),{filename:o}=this.state;return Uu()("span",{},void 0,Uu()(t,{className:a,component:"label"},void 0,r,rUe("input",tp()({},s,{className:i,type:"file",onChange:this.onChange}))),n?Uu()("span",{className:(iUe.a.filename||"")+" "+(!o&&iUe.a.noFilename||"")},void 0,o||Object(Ze.default)("No file selected")):null)}}sUe.defaultProps={inputComponent:rT,inputClassName:iUe.a.fileInput,showFilename:!1};var oUe=sUe,lUe=a("CjSz"),cUe=a.n(lUe),{Component:dUe}=Ed.a;var uUe=class extends dUe{constructor(e,t){super(e,t),this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onFileDrop=e=>{e.preventDefault();var t,{metadataItemEntityID:a,dispatchUploadSubtitles:i}=this.props;this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),i({metadataItemEntityID:a,file:t})},this.dropTargetEnteredCounter=0,this.state={isOverDropTarget:!1}}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)}componentDidUpdate(e){var{isUploading:t,isUploaded:a,onModalClose:i}=this.props;e.isUploading&&!t&&a&&i()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){var{isUploading:e,isUploaded:t,error:a,onModalClose:i}=this.props,{isOverDropTarget:r}=this.state;return Uu()(UL,{onModalClose:i},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Upload Subtitle File")),a?Uu()(MU,{errorMessage:a}):null,Uu()(fL,{className:cUe.a.modalBody,scrollDirection:Jp},void 0,Uu()("div",{className:(cUe.a.container||"")+" "+(r&&cUe.a.dropHover||""),onDrop:e?null:this.onFileDrop,onDragOver:e?null:this.onDragOver,onDragEnter:e?null:this.onDragEnter,onDragLeave:e?null:this.onDragLeave},void 0,e||t?Uu()("div",{className:cUe.a.uploadingContainer},void 0,Uu()(Kh,{label:Object(Ze.default)("Uploading subtitle file")})):Uu()("div",{className:cUe.a.fileInputContainer},void 0,Uu()(oUe,{inputComponent:Vp,className:cUe.a.fileInputLink,name:"subtitleFile",buttonText:Object(Ze.default)("Choose a file"),onChange:this.onFileDrop}),Uu()("span",{className:cUe.a.separator},void 0,""),Object(Ze.default)("drag and drop")))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{onPress:i},void 0,Object(Ze.default)("Cancel")))))}};var pUe={dispatchUploadSubtitles:$ze},hUe=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.subtitlesUploadModal,e=>e)}),pUe)(uUe),mUe=a("+art"),vUe=a.n(mUe);var gUe=function(e){var{metadataItemEntityID:t,isOpen:a,onModalClose:i}=e;return(Uu()(xT,{className:vUe.a.modal,isOpen:a,metricsPage:Rd.wb,onModalClose:i},void 0,Uu()(hUe,{metadataItemEntityID:t,onModalClose:i})))},yUe=Ed.a.createElement,{Component:fUe}=Ed.a,bUe={dispatchResetUploadSubtitles:Jze};var IUe=Object(Fu.b)(null,bUe)(class extends fUe{constructor(...e){super(...e),this.onModalClose=()=>{this.props.dispatchResetUploadSubtitles(),this.props.onModalClose()}}render(){var e=this.props,t=Je()(e,["dispatchResetUploadSubtitles"]);return(yUe(gUe,tp()({},t,{onModalClose:this.onModalClose})))}}),SUe=a("itOj"),MUe=a.n(SUe),{Component:CUe,Fragment:DUe}=Ed.a;var PUe=class extends CUe{constructor(e,t){super(e,t),this.onDeletePress=()=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=()=>{var{subtitlesStream:e,onStreamDelete:t}=this.props;this.setState({isConfirmDeleteModalOpen:!1}),t(e.key),this.props.onMenuClose()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.state={isConfirmDeleteModalOpen:!1}}render(){var{serverEntityID:e,subtitlesStream:t,isStreamDeleteInProgress:a,hasExternalSubtitlesStreams:i,canShowDeleteSubtitlesAction:r,onMenuClose:n,onStreamSelect:s}=this.props,o=!!t.key&&r;return Uu()("div",{className:MUe.a.stream},void 0,Uu()(pze,{className:i?MUe.a.menuItemContainer:void 0,stream:t,onMenuClose:n,onStreamSelect:s},void 0,Uu()(dC,{serverEntityID:e,type:"subtitles",stream:t}),t.title?Uu()("span",{className:MUe.a.extendedTitle},void 0,t.title):null),o?Uu()(DUe,{},void 0,Uu()("div",{className:MUe.a.deleteContainer},void 0,Uu()(KG,{className:MUe.a.deleteButton,iconComponent:DI,ariaLabel:Object(Ze.default)("Delete Subtitle"),onPress:this.onDeletePress})),Uu()(HH,{isConfirmButtonSpinning:a,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:Rd.n,kind:Pp,title:Object(Ze.default)("Delete Subtitle File"),message:Object(Ze.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ze.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)}},{Component:OUe,Fragment:jUe}=Ed.a;var TUe=class extends OUe{constructor(e,t){super(e,t),this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){var{target:e,isOpen:t,serverEntityID:a,metadataItemEntityID:i,subtitlesStreams:r,isStreamDeleteInProgress:n,canShowDeleteSubtitlesAction:s,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:l,onMenuClose:c,onStreamSelect:d,onStreamDelete:u}=this.props,{isSubtitlesModalOpen:p,isSubtitlesUploadModalOpen:h}=this.state,m=r.some(e=>!!e.key);return Uu()(jUe,{},void 0,Uu()(Fg,{target:e,isOpen:t,size:wp,onMenuClose:c},void 0,r.map(e=>Uu()(PUe,{serverEntityID:a,subtitlesStream:e,isStreamDeleteInProgress:n,hasExternalSubtitlesStreams:m,canShowDeleteSubtitlesAction:s,onMenuClose:c,onStreamSelect:d,onStreamDelete:u},e.id)),o?Uu()(Gg,{onPress:this.onMoreSubtitlesPress},void 0,Object(Ze.default)("Search...")):null,l?Uu()(Gg,{onPress:this.onUploadSubtitlesPress},void 0,Object(Ze.default)("Upload...")):null),Uu()(Zze,{metadataItemEntityID:i,isOpen:p,onModalClose:this.onSubtitlesModalClose}),Uu()(IUe,{metadataItemEntityID:i,isOpen:h,onModalClose:this.onSubtitlesUploadModalClose}))}},wUe=a("Xf7Z"),EUe=a.n(wUe),{Component:NUe}=Ed.a;var xUe=class extends NUe{constructor(e,t){super(e,t),this.onAudioStreamMenuButtonPress=e=>{this.setState({isAudioStreamMenuOpen:!this.state.isAudioStreamMenuOpen})},this.onAudioStreamMenuClose=()=>{this.setState({isAudioStreamMenuOpen:!1})},this.onSubtitlesStreamMenuButtonPress=e=>{this.setState({isSubtitlesStreamMenuOpen:!this.state.isSubtitlesStreamMenuOpen})},this.onSubtitlesStreamMenuClose=()=>{this.setState({isSubtitlesStreamMenuOpen:!1})},this.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},this._audioStreamMenuButtonID=Mp(),this._subtitlesStreamMenuButtonID=Mp()}render(){var{serverEntityID:e,metadataItemEntityID:t,mediaItem:a,isStreamDeleteInProgress:i,canShowDeleteSubtitlesAction:r,canShowMoreSubtitlesAction:n,canShowUploadSubtitlesAction:s,onAudioStreamSelect:o,onSubtitlesStreamSelect:l,onSubtitlesStreamDelete:c}=this.props,{isAudioStreamMenuOpen:d,isSubtitlesStreamMenuOpen:u}=this.state;if(!a)return Uu()(URe,{},void 0,Uu()(HRe,{label:Object(Ze.default)("Video")},void 0,Uu()("span",{className:EUe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))),Uu()(HRe,{label:Object(Ze.default)("Audio")},void 0,Uu()("span",{className:EUe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))),Uu()(HRe,{label:Object(Ze.default)("Subtitles")},void 0,Uu()("span",{className:EUe.a.loadingMessage},void 0,Object(Ze.default)("Loading..."))));var p=kM.a.get("audio").id,h=Object(Bi.a)(a,{streamType:p}),m=Object(AM.a)(a),v=kM.a.get("subtitles").id,g=Object(Bi.a)(a,{streamType:v}),y=RM(a),f=n||g.length>1,b=Uu()(dC,{serverEntityID:e,type:"audio",stream:m}),I=Uu()(dC,{serverEntityID:e,type:"subtitles",stream:y});return Uu()(URe,{},void 0,Uu()(HRe,{label:Object(Ze.default)("Video")},void 0,Uu()(dC,{serverEntityID:e,type:"video",mediaItem:a})),Uu()(HRe,{label:Object(Ze.default)("Audio")},void 0,h.length>1?Uu()(Cy,{id:this._audioStreamMenuButtonID,direction:d?cy:dy,onPress:this.onAudioStreamMenuButtonPress},void 0,b):b),Uu()(HRe,{label:Object(Ze.default)("Subtitles")},void 0,f?Uu()(Cy,{id:this._subtitlesStreamMenuButtonID,direction:u?cy:dy,onPress:this.onSubtitlesStreamMenuButtonPress},void 0,I):I),Uu()(vze,{target:this._audioStreamMenuButtonID,isOpen:d,serverEntityID:e,audioStreams:h,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:o}),Uu()(TUe,{target:this._subtitlesStreamMenuButtonID,isOpen:u,serverEntityID:e,metadataItemEntityID:t,subtitlesStreams:g,isStreamDeleteInProgress:i,canShowDeleteSubtitlesAction:r,canShowMoreSubtitlesAction:n,canShowUploadSubtitlesAction:s,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:l,onStreamDelete:c}))}},AUe=Ed.a.createElement,{Component:LUe}=Ed.a;var kUe=xG((function(){return Object(_u.a)(e=>e.ui.prePlayPage.decisionMediaItem,GS,ZG(),YRe(),dze(),(e,t,a,i,r)=>({mediaItem:e,mediaItems:a.Media,isStreamDeleteInProgress:a.isStreamDeleteInProgress,canShowDeleteSubtitlesAction:t.isFullOwnedServer,canShowMoreSubtitlesAction:i,canShowUploadSubtitlesAction:r}))}),{dispatchMakePrePlayVideoDecision:aze,dispatchDeleteMetadataItemStream:Z8.c,dispatchSelectMetadataItemStream:Z8.g})(class extends LUe{constructor(...e){super(...e),this.onAudioStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamSelect=e=>{this.props.dispatchSelectMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:this.props.metricsPage})},this.onSubtitlesStreamDelete=e=>{this.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:this.props.metadataItemEntityID,streamKey:e,metricsPage:this.props.metricsPage})}}componentDidMount(){this.props.dispatchMakePrePlayVideoDecision()}componentDidUpdate(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()}render(){var e=this.props,t=Je()(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]);return(AUe(xUe,tp()({},t,{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete})))}}),RUe=a("zLrO"),zUe=a.n(RUe);var UUe=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}){return Uu()(PNe,{className:zUe.a.ratingRightTitle},void 0,Uu()(bMe,{className:zUe.a.starRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(BSe,{className:zUe.a.criticRating,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))};var VUe=a("x8AS"),BUe=a.n(VUe);function FUe({className:e,separator:t}){return Uu()("span",{className:e},void 0,t)}FUe.defaultProps={className:BUe.a.separator,separator:""};var HUe=FUe,_Ue=a("HJAU"),QUe=a.n(_Ue);var WUe=function(e){var{contentRating:t}=e;return t?Uu()(QF,{className:QUe.a.badge},void 0,TSe(t)):null},GUe=a("urZ/"),YUe=a.n(GUe),KUe=Ed.a.createElement;function qUe(e){return KUe(rT,e)}qUe.defaultProps={className:YUe.a.statusButton,size:jp};var ZUe=qUe,XUe=a("RWac"),JUe=a.n(XUe);var $Ue=function(e){var{mediaGrabError:t,mediaGrabPartialRecordingReason:a,onPress:i}=e;return t?Uu()(ZUe,{className:JUe.a.failedButton,title:t,onPress:i},void 0,Object(Ze.default)("Failed Recording")):a?Uu()(zb,{tooltip:a,"aria-label":a,component:ZUe,className:JUe.a.partialButton,onPress:i},void 0,Object(Ze.default)("Partial Recording")):Uu()(ZUe,{className:JUe.a.partialButton,onPress:i},void 0,Object(Ze.default)("Partial Recording"))},eVe=a("4KTB"),tVe=a.n(eVe);function aVe({className:e,children:t}){return Uu()("span",{className:e},void 0,t)}aVe.defaultProps={className:tVe.a.tertiaryTitleSpacer};var iVe=aVe,rVe=a("v9kw"),nVe=a.n(rVe);function sVe({className:e,onPress:t}){return Uu()(ZUe,{className:e,onPress:t},void 0,Object(Ze.default)("Unavailable"))}sVe.defaultProps={className:nVe.a.unavailableButton};var oVe=sVe,{Fragment:lVe}=Ed.a,cVe=Uu()(HUe,{});var dVe=function(e){var{duration:t,saved:a,contentRating:i,viewCount:r,viewOffset:n,isFileUnavailable:s,isPartialMediaGrab:o,mediaGrabError:l,mediaGrabPartialRecordingReason:c,onGetInfoPress:d}=e,u=!r&&!n,p=!!n&&n<t,h=!!t||u||p,m=u&&(null==a||null!=a&&a);return Uu()(yNe,{},void 0,h?Uu()(iVe,{},void 0,Uu()(pSe,{duration:t}),u||p?Uu()(lVe,{},void 0,t&&(m||p)?cVe:null,m?Object(Ze.default)("Unplayed"):null,p?Uu()(dSe,{duration:t,viewOffset:n}):null):null):null,Uu()(WUe,{contentRating:i}),s?Uu()(oVe,{onPress:d}):null,!s&&(o||l||c)?Uu()($Ue,{mediaGrabError:l,mediaGrabPartialRecordingReason:c,onPress:d}):null)};var uVe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),Object(_u.a)(ZG(),(e={})=>{var t={isPartialMediaGrab:!1,mediaGrabError:null},a=e.Media;if(!a||!a.length)return t;for(var i=0;i<a.length;i++){var r=a[i],{mediaGrabPartialRecording:n,mediaGrabError:s,mediaGrabPartialRecordingReason:o}=r;n&&(t.isPartialMediaGrab=!0),s&&(t.mediaGrabError=r.mediaGrabError),o&&(t.mediaGrabPartialRecordingReason=o)}return t}),Object(_u.a)(e=>e.ui.prePlayPage,ZG(),(e,t={})=>{if(e.isFileUnavailable)return!0;var a=t.Media;if(!a||!a.length)return!1;for(var i=0,r=a.length;i<r;i++){var n=a[i].Part;if(n&&n.length)for(var s=0,o=n.length;s<o;s++){var l=n[s];if(!1===l.exists||!1===l.accessible)return!0}}return!1}),(e={},t,a)=>Object.assign({duration:e.duration,contentRating:e.contentRating,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:a},t))}),(function(e,t){return{onGetInfoPress(a){e(Lae({metadataItemEntityID:t.metadataItemEntityID}))}}}))(dVe);var pVe=function({originallyAvailableAt:e}){return Uu()(PNe,{},void 0,e?Object(Ze.default)("{monthName} {day}, {year}",{monthName:uIe(Object(zy.a)(Object(GIe.a)(e))),day:Object(vle.default)(e,"d"),year:Object(vle.default)(e,"yyyy")}):null)};var hVe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({originallyAvailableAt:e.originallyAvailableAt}))}))(pVe),{Fragment:mVe}=Ed.a,vVe=Uu()(dRe,{});function gVe(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,type:r,attributionLogo:n,summary:s,showStreams:o}=e;return(Uu()(mVe,{},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,Uu()(ele,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(PNe,{},void 0,Uu()(ERe,{attributionLogo:n}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,Uu()(rSe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(UUe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(ANe,{},void 0,Uu()(uVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(hVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),vVe,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,type:r}),o?Uu()(kUe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null,Uu()(CRe,{},void 0,s))))}gVe.defaultProps={showStreams:!0};var yVe=gVe,{Fragment:fVe}=Ed.a,bVe=Uu()(dRe,{});var IVe=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,summary:r}=e;return(Uu()(fVe,{},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,Uu()(ele,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,Uu()(rSe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(UUe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(ANe,{},void 0,Uu()(uVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(hVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),bVe,Uu()(sRe,{},void 0,Uu()(CRe,{dangerouslySetInnerHTML:{__html:r}}))))};var SVe=function(e){var{server:t,provider:a,sourceDirectory:i,type:r,Genre:n}=e;return(Uu()(LRe,{server:t,provider:a,sourceDirectory:i,fallbackFilterKey:"genre",type:r,tags:n,limit:2}))};var MVe=function(e){var{server:t,provider:a,sourceDirectory:i,Genre:r}=e,n=!(!r||!r.length);return Uu()(PNe,{},void 0,n?Uu()(SVe,{server:t,provider:a,sourceDirectory:i,Genre:r}):null)};var CVe=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),ZG(),(e,t,a,i={})=>({server:e,provider:t,sourceDirectory:a,Genre:i.Genre}))}))(MVe);function DVe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-badge-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M73 88.729C73 72.31 86.37 59 102.918 59h356.164C475.606 59 489 72.025 489 88.729v427.508c0 16.419-10.6 21.534-23.456 11.598L304.456 403.32c-12.954-10.014-34.057-9.937-46.912 0L96.456 527.835C83.502 537.849 73 532.94 73 516.237V88.729z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}DVe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var PVe=DVe,OVe=a("WpwJ"),jVe=a.n(OVe);var TVe=function(e){var{watchlistedAt:t}=e;return t?Uu()(QF,{className:jVe.a.badge},void 0,Uu()(PVe,{className:jVe.a.icon})," ",Object(Ze.default)("In your Watchlist")):null},{Fragment:wVe}=Ed.a,EVe=Uu()(dRe,{});function NVe(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,title:r,year:n,summary:s,watchlistedAt:o,attributionLogo:l,showGenres:c,showStreams:d}=e;return(Uu()(wVe,{},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,r),Uu()(PNe,{},void 0,Uu()(ERe,{attributionLogo:l}),Uu()(TVe,{watchlistedAt:o}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,n),Uu()(UUe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()(ANe,{},void 0,Uu()(uVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),c?Uu()(CVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null)),EVe,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),d?Uu()(kUe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null,Uu()(CRe,{},void 0,s))))}NVe.defaultProps={showGenres:!0,showStreams:!0};var xVe=NVe,AVe=Ed.a.createElement;var LVe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary,attributionLogo:e.attributionLogo}))}))((function(e){var t=function(e,t){switch(t){case OM.d:switch(e){case Wt.f:return IVe}}switch(e){case Wt.f:return yVe;case Wt.j:return xVe;case Wt.d:return ORe}return ORe}(e.type,e.subtype);return(AVe(t,e))})),kVe=Object(Pa.a)("ui/player/playQueue/toggleAutoPlay"),RVe=Object.assign({},_pe.j,{[_pe.b](e,{playerType:t},a){var i=e.get("user").id,r=Object(e9.c)(e,t),n=r.get("playQueue"),s=e.get("deviceSettings"),o=r.get("providerEntityID"),l=Object(Ta.j)(e,{providerEntityID:o}),c={providerEntityID:o,serverEntityID:r.get("serverEntityID"),playQueueOffset:r.get("positionSeconds"),playQueueType:n.get("type"),playQueueRepeat:n.get("repeat"),playQueueID:n.get("playQueueID")};if(!jt.k(l.get("identifier"),[jt.i])&&!r.get("isWatchTogether")){var d=s.get("restorePlayQueue");a(Object(Wi.q)({restorePlayQueue:Object.assign({},d,{[i]:c})}))}},[_pe.a](e,t,a){var i=e.get("user").id,r=e.get("deviceSettings").get("restorePlayQueue"),n=Object.assign({},r);delete n[i],a(Object(Wi.q)({restorePlayQueue:n}))},"ui/player/playQueue/toggleAutoPlay"(e,{playerType:t},a){var i=e.get("user").get("experienceSettings").get("autoPlay"),r=Object(e9.c)(e,t);Object(G8.a)(e).changeAutoPlay(r,!i,a)}}),zVe=a("M7EV"),UVe=a.n(zVe),{Component:VVe}=Ed.a,BVe=parseInt(GU.postPlayPosterWidth,10),FVe=parseInt(GU.postPlayTitleHeight,10)+parseInt(GU.postPlayAutoPlayHeight,10);var HVe=class extends VVe{constructor(e,t){super(e,t),this.onContentMeasure=({height:e})=>{var t=Math.min(wM(BVe,this.props.type,this.props.subtype,Tc),e-FVe),a=TM(t,this.props.type,this.props.subtype,Tc);this.setState({isMeasured:!0,width:a,height:t})},this.onCountdown=()=>{var e=this.state.secondsLeft-1;e<=0?this.props.onPlay():this.setState({secondsLeft:e})},this.state={isMeasured:!1,width:0,height:0,secondsLeft:10}}componentDidMount(){this.props.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillReceiveProps(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(window.clearInterval(this._tickIntervalID),this.setState({secondsLeft:10})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=window.setInterval(this.onCountdown,1e3))}componentWillUnmount(){window.clearInterval(this._tickIntervalID)}render(){var{serverEntityID:e,providerEntityID:t,type:a,posterUrl:i,autoPlayEnabled:r,onToggleAutoPlay:n,onPlay:s}=this.props,{isMeasured:o,width:l,height:c,secondsLeft:d}=this.state,u=(10-d+1)/10*100;return Uu()(p$,{className:UVe.a.container,onMeasure:this.onContentMeasure},void 0,Uu()("div",{className:UVe.a.title},void 0,Object(Ze.default)("Playing Next")),o?Uu()("div",{className:UVe.a.poster,style:{width:l,height:c}},void 0,Uu()(PM,{serverEntityID:e,providerEntityID:t,type:a,width:l,height:c,url:i}),r?Uu()("div",{className:UVe.a.progress},void 0,Uu()(pV,{size:l/4,lineWidth:3,progress:u,showProgressText:!1,easing:sV}),Uu()("span",{className:UVe.a.timeLeft},void 0,d)):null,Uu()(kle,{className:UVe.a.playButton,circleClassName:UVe.a.playCircle,"aria-label":Object(Ze.default)("Play Next"),onPress:s})):null,Uu()(RV,{className:r?UVe.a.autoPlayOn:UVe.a.autoPlayOff,name:"autoPlayCheck",value:r,checkboxText:r?Object(Ze.default)("Auto Play On"):Object(Ze.default)("Auto Play Off"),onChange:n}))}};var _Ve=Object(Fu.b)((function(){return Object(_u.a)(D9(),ZG(),Nv.a,(e,t={},a)=>({type:t.type,posterUrl:t.thumb,autoPlayEnabled:a.autoPlay}))}),(function(e,{playerType:t}){return{onToggleAutoPlay(){e(kVe({playerType:t}))},onPlay(){e(Object(bse.t)({playerType:t}))}}}))(HVe),QVe=a("LU9U"),WVe=a.n(QVe);var GVe=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,hubEntityIDs:r,playerType:n}=e;return(Uu()("div",{className:WVe.a.container},void 0,Uu()("div",{className:WVe.a.poster},void 0,Uu()(_Ve,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,playerType:n})),Uu()(rh,{className:WVe.a.details,smoothScroll:!1,autoScroll:!0},void 0,Uu()(LVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,showStreams:!1}),Uu()(sRe,{},void 0,r&&r.length>0?Uu()(aRe,{serverEntityID:t,providerEntityID:a,hubEntityIDs:r,columnAdjustment:1}):null))))};var YVe=Object(Fu.b)((function(){return Object(_u.a)(D9(),vpe(),vpe(1),(e,t,a)=>a?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:a.metadataItem,hubEntityIDs:t.postPlay}:{})}))(GVe),KVe=a("gE37"),qVe=a.n(KVe),ZVe=mg(Dg.a.defaultSpeed),XVe=ag.b.div({enter:{opacity:1,duration:ZVe},exit:{opacity:0,duration:ZVe,delay:4e3}});function JVe(e){var{className:t,isToastVisible:a,isControlsVisible:i,metadataItemEntityID:r,playerType:n}=e;return i?null:Uu()(ag.a,{flipMove:!1},void 0,a?Uu()(XVe,{className:t},"toast",Uu()(LDe,{className:qVe.a.metadataContainer,metadataItemEntityID:r,playerType:n})):null)}JVe.defaultProps={className:qVe.a.toast};var $Ve=JVe;var eBe=Object(Fu.b)((function(){return Object(_u.a)(D9(),vpe(),(e,{isControlsVisible:t})=>t,(e,t,a)=>{if(!t)return{isToastVisible:!1};var{positionSeconds:i,durationSeconds:r}=e,n=r-i,s=t.type===Wt.d&&t.subtype===OM.a;return{isToastVisible:!a&&s&&(1===i||5===n),metadataItemEntityID:t.metadataItem}})}),(function(e,t){return{}}))($Ve),tBe=a("0F0y"),aBe=a.n(tBe),{Component:iBe}=Ed.a,rBe=Uu()(DI,{});class nBe extends iBe{constructor(...e){super(...e),this.onDecreasePress=()=>{var{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e-50)},this.onIncreasePress=()=>{var{offset:e,dispatchChangeSubtitleOffset:t}=this.props;t(e+50)},this.onResetPress=()=>{var{dispatchChangeSubtitleOffset:e}=this.props;e(0)}}render(){var{offset:e,bottom:t,dispatchCloseSubtitlesOffset:a,onDimensionsChange:i}=this.props;return(Uu()(Afe,{className:aBe.a.container,bottom:t,onDimensionsChange:i},void 0,Uu()(Vp,{className:aBe.a.closeButton,onPress:a},void 0,rBe),Uu()("div",{className:aBe.a.title},void 0,Object(Ze.default)("Subtitle Offset: {offset}",{offset:e+" ms"})),Uu()("div",{className:aBe.a.buttonContainer},void 0,Uu()(rT,{className:aBe.a.button,kind:Dp,size:jp,onPress:this.onDecreasePress},void 0,"-",50," ms"),Uu()(rT,{className:aBe.a.button,kind:Dp,size:jp,onPress:this.onIncreasePress},void 0,"+",50," ms"),Uu()(rT,{className:aBe.a.button,kind:Dp,size:jp,onPress:this.onResetPress},void 0,Object(Ze.default)("Reset")))))}}nBe.defaultProps={offset:0};var sBe=nBe;var oBe=Object(Fu.b)((function(){return Object(_u.a)(Nhe(),e=>e.selectedSubtitlesStream)}),(function(e,t){return{dispatchChangeSubtitleOffset(a){e(Object(bse.n)({playerType:t.playerType,subtitleOffset:a}))},dispatchCloseSubtitlesOffset(){e(Object(bse.I)({playerType:t.playerType}))}}}))(sBe);var lBe=function(){return Object(_u.a)(A8,$he(),wpe(),(e,t,a)=>GRe(t,a,e))},cBe=a("a+iW");function dBe(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function uBe(e,t){return e<=576||e>1100||!t?"":t<=2e3?"":t<=3e3?Object(Ze.default)("Medium"):t<=4e3?Object(Ze.default)("High"):t<=8e3?"":t<=1e4?"":t<=12e3?Object(Ze.default)("Medium"):Object(Ze.default)("High")}function pBe(e){var{availableQualities:t,transcodeServer:a,currentDecision:i,currentBandwidth:r,mediaItem:n,canPlayAdaptiveBitrate:s}=e;if(!n)return[];var o=[],{maxUploadBitrate:l}=a,{bitrate:c}=n,d=!l||c&&l>c,u=i&&i.canPlayOriginalQuality;return d&&u&&o.push(function(e){var t=vBe(mBe(e.width,e.height,e.bitrate));return{index:hl.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:fBe([Object(Ze.default)("Original"),yBe(t)]),conversionDescription:Object(Ze.default)("Play Original Quality"),conversionDescriptionExtra:t}}(n)),s&&o.push(function(e,t){var a={index:hl.a.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:Object(Ze.default)("Convert Automatically")};if(e&&e.qualityIndex===hl.a.CONVERT_AUTOMATICALLY&&t){var i=vBe({bitrate:Object(Are.default)(t.bandwidth),resolution:t.resolution});a.conversionDescriptionSummary=Object(Ze.default)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:i}),a.conversionDescriptionExtra=Object(Ze.default)("Now: {bitrateWithResolution}",{bitrateWithResolution:i})}else a.conversionDescriptionSummary=Object(Ze.default)("Convert Automatically");return a}(i,r)),d&&!u&&o.push(function(e){var t=mBe(e.width,e.height,e.bitrate),a=gBe(t),i=a?Object(Ze.default)("Convert to"):Object(Ze.default)("Convert");return{index:hl.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:Object(Ze.default)("Convert (Maximum)"),conversionDescription:fBe([i,a,yBe(Object(Ze.default)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(n)),o.push(...t.map(hBe).reverse()),o}function hBe(e){var t=e.videoResolution.split("x"),a=mBe(t[0],t[1],e.bitrate),i=vBe(a),r=gBe(a);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:fBe([Object(Ze.default)("Convert"),yBe(i)]),conversionDescription:fBe([Object(Ze.default)("Convert to"),r]),conversionDescriptionExtra:a.bitrate}}function mBe(e,t,a){var i=function(e,t,a){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};var i=Object(cBe.a)(e,t);return{resolution:i+"p",description:dBe(i),descriptionExtra:uBe(i,a)}}(e,t,a);return{bitrate:Object(Are.default)(a),resolution:i.resolution,resolutionDescription:i.description,resolutionDescriptionExtra:yBe(i.descriptionExtra)}}function vBe(e){var t=fBe([e.resolution,e.resolutionDescription]);return e.bitrate?fBe([e.bitrate,t],", "):t}function gBe(e){return fBe([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function yBe(e){return e&&0!==e.length?"("+e+")":""}function fBe(e,t=" "){return e.filter(e=>e).join(t)}var bBe=function(){return Object(_u.a)(A8,$he(),wpe(),(e,t,a)=>cze(t,a,e))},IBe=a("Cu2K"),SBe=a.n(IBe),{Component:MBe}=Ed.a;var CBe=class extends MBe{constructor(...e){super(...e),this.onPress=e=>{this.props.onQualitySelect(this.props.conversionQualityIndex)}}render(){var{conversionQualityIndex:e,conversionQuality:t,isSelected:a,isHidden:i}=this.props;return(Uu()(iy,{isSelected:a,isHidden:i,onPress:this.onPress},e,t.conversionDescription,t.conversionDescriptionExtra?Uu()("span",{className:SBe.a.itemExtraDetail,"data-qa-id":"playbackBitrateQuality"},void 0,t.conversionDescriptionExtra):null))}},DBe=a("hG+J"),PBe=a.n(DBe),{Component:OBe}=Ed.a,jBe={placement:"top-start"};var TBe=class extends OBe{constructor(e,t){super(e,t),this.onToggleMenuPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=e=>{this.setState({isMenuOpen:!1})},this.onQualitySelect=e=>{"toggleShowAll"!==e?(this.setState({isMenuOpen:!1}),this.props.onQualityChange(e)):this.setState({showAll:!0,qualities:this._getQualityMenuValues(this.props.availableQualities,this.props.qualityIndex,!0)})};var a=!this._canToggleShowAll(e.availableQualities);this.state={isMenuOpen:!1,showAll:a,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,a)},this._menuInputButtonID=Mp()}componentWillReceiveProps(e){var t=e.qualityIndex!==this.props.qualityIndex,a=e.availableQualities!==this.props.availableQualities;if(t||a){var i=this.state.showAll;!a||i||this._canToggleShowAll(e.availableQualities)||(i=!0),this.setState({showAll:i,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,i)})}}_canToggleShowAll(e){var t=e.some(e=>!0===e.explicitQuality),a=!!D.a.findWhere(e,{index:gl.a.CONVERT_AUTOMATICALLY});return t&&a}_getQualityMenuValues(e,t,a){var i=e.filter(e=>a||!e.explicitQuality||e.index===t);return i.push({index:"toggleShowAll",conversionDescription:Object(Ze.default)("Show all")}),i}render(){var e=this.props.qualityIndex,t=this.state.qualities,a=t.find(t=>t.index===e);return Uu()(Cy,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:Tp,direction:this.state.isMenuOpen?cy:dy,onPress:this.onToggleMenuPress},void 0,a.conversionDescriptionSummary,Uu()(Fg,{className:PBe.a.menu,isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:jBe,onMenuClose:this.onMenuClose},void 0,t.map(t=>Uu()(CBe,{conversionQualityIndex:t.index,conversionQuality:t,isSelected:t.index===e,isHidden:this.state.showAll&&"toggleShowAll"===t.index,onQualitySelect:this.onQualitySelect},t.index))))}};var wBe=function(){return Object(_u.a)(Dpe(),$z(),(e,t)=>{if(e){var a=t.find(t=>t.uuid===e.activityUUID);if(a)return a.Context&&a.Context.signalStrength}})};var EBe=function(e){var{signalStrength:t}=e;return null==t?null:Uu()(LCe,{label:Object(Ze.default)("Antenna Signal Strength")},void 0,t,"%")};var NBe=Object(Fu.b)((function(){return Object(_u.c)({signalStrength:wBe()})}))(EBe),xBe=a("mkKI"),ABe=a.n(xBe);var LBe=function(e){var{offset:t,isDisabled:a,onPress:i}=e;return(Uu()(Vp,{isSelected:!a,isDisabled:a,onPress:i},void 0,t||0," ms ",Uu()(XH,{className:ABe.a.icon})))},kBe=a("zsFO"),RBe=a.n(kBe),{Component:zBe,Fragment:UBe}=Ed.a;var VBe=class extends zBe{constructor(e,t){super(e,t),this.onSubtitleStreamChange=e=>{"more"===e?this.onMoreSubtitlesPress():"upload"===e?this.onUploadSubtitlesPress():this.props.onSubtitleStreamChange(e)},this.onMoreSubtitlesPress=()=>{this.setState({isSubtitlesModalOpen:!0})},this.onSubtitlesModalClose=()=>{this.setState({isSubtitlesModalOpen:!1})},this.onUploadSubtitlesPress=()=>{this.setState({isSubtitlesUploadModalOpen:!0})},this.onSubtitlesUploadModalClose=()=>{this.setState({isSubtitlesUploadModalOpen:!1})},this.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1}}render(){var e,{bottom:t,serverEntityID:a,metadataItemEntityID:i,playerType:r,availableQualities:n,audioDevices:s,audioStreams:o,selectedAudioStream:l,selectedAudioDevice:c,subtitlesStreams:d,selectedSubtitlesStream:u,selectedSubtitlesColor:p,selectedSubtitlesPosition:h,selectedSubtitlesSize:m,autoPlay:v,qualityIndex:g,canSetVideoQuality:y,canSetAudioStream:f,canSetSubtitleStream:b,canSetSubtitleColor:I,canSetSubtitlePosition:S,canSetSubtitleSize:M,canSetSubtitleOffset:C,canSetAutoPlay:D,canShowMoreSubtitlesAction:P,canShowUploadSubtitlesAction:O,canShowLiveTVSignalStrength:j,onQualityChange:T,onAudioDeviceChange:w,onAudioStreamChange:E,onSubtitleColorChange:N,onSubtitlePositionChange:x,onSubtitleSizeChange:A,onAutoPlayChange:L,onSubtitleOffsetPress:k}=this.props,{isSubtitlesModalOpen:R,isSubtitlesUploadModalOpen:z}=this.state,U=b&&(P||O||d.length>1),V=U&&I,B=U&&S,F=U&&M,H=U&&C,_=y&&!!n.length&&null!=g&&n.findIndex(e=>e.index===g)>-1,Q=!!u&&u.id!==LM.a&&!yhe(u.codec),W=F&&Q,G=V&&Q,Y=B&&Q,K=H&&Q&&!!u&&!!u.key;return U&&(e=d.map(e=>{var t=Uu()(UBe,{},void 0,Uu()(dC,{serverEntityID:a,type:"subtitles",stream:e}),e.title?Uu()("span",{className:RBe.a.extendedTitle},void 0,e.title):null);return{[e.id]:t}}),P&&e.push({more:Object(Ze.default)("Search...")}),O&&e.push({upload:Object(Ze.default)("Upload...")})),Uu()(UBe,{},void 0,Uu()(ECe,{bottom:t},void 0,_?Uu()(LCe,{label:Object(Ze.default)("Quality")},void 0,Uu()(TBe,{qualityIndex:g,availableQualities:n,onQualityChange:T})):null,Uu()(LCe,{label:Object(Ze.default)("Audio Stream")},void 0,f&&o.length>1?Uu()(jCe,{name:"audioStream",size:Tp,value:""+l.id,overrideSelectedValue:Uu()(dC,{serverEntityID:a,type:"audio",stream:l}),values:o.map(e=>{var t=Uu()(UBe,{},void 0,Uu()(dC,{serverEntityID:a,type:"audio",stream:e}),e.title?Uu()("span",{className:RBe.a.extendedTitle},void 0,e.title):null);return{[e.id]:t}}),onChange:E}):Uu()(dC,{serverEntityID:a,type:"audio",stream:l})),s&&s.length>1?Uu()(LCe,{label:Object(Ze.default)("Audio Device")},void 0,Uu()(jCe,{name:"audioDevice",size:Tp,value:c.name,values:s.map(e=>({[e.name]:DCe(e)})),onChange:w})):null,Uu()(LCe,{label:Object(Ze.default)("Subtitles")},void 0,U?Uu()(jCe,{name:"subtitleStream",size:Tp,value:""+u.id,overrideSelectedValue:Uu()(dC,{serverEntityID:a,type:"subtitles",stream:u}),values:e,onChange:this.onSubtitleStreamChange}):Uu()(dC,{serverEntityID:a,type:"subtitles",stream:u})),V?Uu()(LCe,{label:Object(Ze.default)("Subtitle Color"),isDisabled:!G},void 0,Uu()(jCe,{name:"subtitleColor",size:Tp,value:p,values:Ic.settings.map(e=>({[e.value]:e.title})),onChange:N})):null,B?Uu()(LCe,{label:Object(Ze.default)("Subtitle Position"),isDisabled:!Y},void 0,Uu()(jCe,{name:"subtitlePosition",size:Tp,value:h,values:Mc.settings.map(e=>({[e.value]:e.title})),onChange:x})):null,F?Uu()(LCe,{label:Object(Ze.default)("Subtitle Size"),isDisabled:!W},void 0,Uu()(jCe,{name:"subtitleSize",size:Tp,value:m.toString(),values:vye.settings.map(e=>({[e.value]:e.title})),onChange:A})):null,H?Uu()(LCe,{label:Object(Ze.default)("Subtitles Offset"),isDisabled:!K},void 0,Uu()(LBe,{offset:u.offset,isDisabled:!K,onPress:k})):null,D?Uu()(LCe,{label:Object(Ze.default)("Auto Play")},void 0,Uu()(RV,{name:"autoPlay",size:jp,value:v,onChange:L})):null,j?Uu()(NBe,{serverEntityID:a,playerType:r}):null),Uu()(Zze,{metadataItemEntityID:i,isOpen:R,onModalClose:this.onSubtitlesModalClose}),Uu()(IUe,{metadataItemEntityID:i,isOpen:z,onModalClose:this.onSubtitlesUploadModalClose}))}},BBe=Ed.a.createElement,{Component:FBe}=Ed.a;var HBe={dispatchChangeQualityIndex:bse.k,dispatchChangeStream:bse.l,dispatchChangeSubtitleColor:bse.m,dispatchChangeSubtitlePosition:bse.o,dispatchChangeSubtitleSize:bse.p,dispatchSelectAudioDevice:gu,dispatchSetAutoPlay:_pe.o,dispatchTogglePlayerSubtitlesOffsetState:bse.I};var _Be=Object(Fu.b)((function(){return Object(_u.a)((e,{isWatchTogether:t})=>t,P9("controllable"),Object(_u.a)(Object(_u.c)({availableQualities:P9("availableQualities"),transcodeServer:Lhe(),currentDecision:gpe(),currentBandwidth:Object(_u.a)(Jhe(["bandwidthTimeline","positionSeconds"]),gpe(),(e,t)=>{var a=e.bandwidthTimeline;if(!(t&&a&&a.bandwidths&&a.transcodeSessionID&&a.transcodeSessionID===t.transcodeSessionID))return null;var i=1e3*e.positionSeconds,r=a.bandwidths.filter(e=>parseInt(e.time,10)<=i);return 0===r.length?null:D.a.max(r,e=>parseInt(e.time,10))}),mediaItem:whe(),canPlayAdaptiveBitrate:Object(_u.a)(Qwe,Lhe(),Dpe(),(e,t,a)=>t.hasAdaptiveBitrate&&!e&&!a)}),pBe),Nhe(),Lhe(),P9("qualityIndex"),P9("serverEntityID"),O9(),$he(),wpe(),lBe(),bBe(),gpe(),Nv.a,MCe,CCe,(e,t,a,i,r,n,s,o,l,c,d,u,p,h,m,v)=>{var g=o.protocols.includes(Qt.a),y=!g&&!(!p||!p.subtitlesUrl)&&!0,f=i.selectedSubtitlesStream;return{serverEntityID:s,metadataItemEntityID:c?c.entityID:null,availableQualities:a,audioDevices:m,audioStreams:i.audioStreams,selectedAudioStream:i.selectedAudioStream,selectedAudioDevice:v,subtitlesStreams:i.subtitlesStreams,selectedSubtitlesStream:f,selectedSubtitlesColor:h.subtitleColor,selectedSubtitlesPosition:h.subtitlePosition,selectedSubtitlesSize:h.subtitleSize,autoPlay:h.autoPlay,canSetVideoQuality:t?!!t.quality:!!r.transcoderVideo&&!r.transcoderVideoRemuxOnly,canSetAudioStream:!t||!!t.audioStream,canSetSubtitleStream:!t||!!t.subtitleStream,canSetSubtitleColor:t?!!t.subtitleColor:y,canSetSubtitlePosition:t?!!t.subtitlePosition:y,canSetSubtitleSize:t?!!t.subtitleSize:!g&&!(!f||!f.id),canSetSubtitleOffset:t?!!t.subtitleOffset:y,canSetAutoPlay:t?!!t.autoPlay:!g&&!e,canShowMoreSubtitlesAction:d,canShowUploadSubtitlesAction:u,canShowLiveTVSignalStrength:g&&!l.isCloud,qualityIndex:n}})}),HBe)(class extends FBe{constructor(...e){super(...e),this.onQualityChange=e=>{var{playerType:t,dispatchChangeQualityIndex:a}=this.props;a({playerType:t,qualityIndex:parseInt(e,10)})},this.onAudioStreamChange=e=>{var{playerType:t,dispatchChangeStream:a}=this.props;a({playerType:t,streamTypeString:"audio",streamID:e})},this.onAudioDeviceChange=e=>{var{dispatchSelectAudioDevice:t}=this.props;t({deviceName:e})},this.onSubtitleStreamChange=e=>{var{playerType:t,dispatchChangeStream:a}=this.props;a({playerType:t,streamTypeString:"subtitles",streamID:e})},this.onSubtitleColorChange=e=>{var{playerType:t,dispatchChangeSubtitleColor:a}=this.props;a({playerType:t,subtitleColor:e})},this.onSubtitlePositionChange=e=>{var{playerType:t,dispatchChangeSubtitlePosition:a}=this.props;a({playerType:t,subtitlePosition:e})},this.onSubtitleSizeChange=e=>{var{playerType:t,dispatchChangeSubtitleSize:a}=this.props;a({playerType:t,subtitleSize:parseInt(e,10)})},this.onAutoPlayChange=e=>{var{playerType:t,dispatchSetAutoPlay:a}=this.props;a({playerType:t,autoPlay:e})},this.onSubtitleOffsetPress=()=>{var{playerType:e,dispatchTogglePlayerSubtitlesOffsetState:t}=this.props;t({playerType:e})}}render(){var e=this.props,t=Je()(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]);return(BBe(VBe,tp()({},t,{onQualityChange:this.onQualityChange,onAudioDeviceChange:this.onAudioDeviceChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress})))}}),QBe=a("dEGP"),WBe=a.n(QBe),{useEffect:GBe,useState:YBe}=Ed.a,KBe=parseInt(GU.watchTogetherLobbyPosterWidth,10),qBe=parseInt(GU.watchTogetherLobbyTitleHeight,10);function ZBe(){return{isMeasured:!1,width:0,height:0}}var XBe=function(e){var{serverEntityID:t,providerEntityID:a,type:i,subtype:r,posterUrl:n}=e,s=YBe(null),o=s[1],l=s[0],c=YBe(ZBe),d=c[1],u=c[0];return GBe(()=>{var e=null;if(u.isMeasured){var t=Math.min(wM(KBe,i,r,"watchTogetherLobby"),u.height-qBe);e={height:t,width:TM(t,i,r,"watchTogetherLobby")}}o(e)},[u,i,r]),Uu()(p$,{className:WBe.a.container,onMeasure:d},void 0,Uu()("div",{className:WBe.a.title},void 0,Object(Ze.default)("Watch Together")),null!=l?Uu()("div",{style:l},void 0,Uu()(PM,{serverEntityID:t,providerEntityID:a,type:i,width:l.width,height:l.height,url:n})):null)};var JBe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({type:e.type,subtype:e.subtype,posterUrl:e.thumb}))}))(XBe),$Be=Object(_u.a)(lse,UEe,(e,t)=>t.rooms.map(t=>e[t]));var eFe=function({adDisplayIndex:e,adDisplayTotal:t,className:a,isAdPlaying:i,isPresent:r,isReady:n,isWatching:s}){var o;return o=i?t>1?Object(Ze.default)("Playing ad {index} of {total}",{index:e,total:t}):Object(Ze.default)("Playing ad"):s?Object(Ze.default)("Watching"):n?Object(Ze.default)("Ready"):r?Object(Ze.default)("Buffering..."):Object(Ze.default)("Invited"),Uu()("div",{className:a,title:o},void 0,o)};var tFe=function({className:e,title:t}){return Uu()("div",{className:e,title:t},void 0,t)};var aFe=a("MLKk"),iFe=a.n(aFe),{memo:rFe}=Ed.a;var nFe=rFe((function(e){var{serverEntityID:t,watchTogetherRoomEntityID:a,cellWidth:i}=e,r=N$(e),n=w8();return Uu()(Vp,{className:iFe.a.container,style:r.style,onPress:n.onOpen},void 0,Uu()("span",{className:iFe.a.posterCardContainer,style:{width:i,height:i}},void 0,Uu()(sA,{className:iFe.a.icon})),Uu()("div",{className:iFe.a.titleContainer},void 0,Uu()(qbe,{title:Object(Ze.default)("Invite..."),component:tFe,isSecondary:!1})),Uu()(doe,{serverEntityID:t,watchTogetherRoomEntityID:a,isOpen:n.isOpen,onModalClose:n.onClose}))})),sFe=a("+K/F"),oFe=a.n(sFe),{memo:lFe}=Ed.a;var cFe=lFe((function(e){var{serverEntityID:t,providerEntityID:a,titleComponents:i,listType:r,cellWidth:n,thumb:s,title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:h}=e,m=N$(e);return Uu()("div",{style:m.style},void 0,Uu()("span",{className:oFe.a.posterCardContainer},void 0,Uu()(dce,{className:oFe.a.card,serverEntityID:t,providerEntityID:a,imageWidth:n,imageHeight:n,imageUrl:s,tagType:r})),Uu()("div",{className:oFe.a.titleContainer},void 0,i.map((e,t)=>Uu()(qbe,{title:o,adDisplayIndex:l,adDisplayTotal:c,isAdPlaying:d,isWatching:u,isPresent:p,isReady:h,component:e,isSecondary:t>0},t))))})),dFe=a("ETIq"),uFe=a.n(dFe),pFe=Ed.a.createElement,hFe={isInviteUser:!0};function mFe(e){var t,{className:a,serverEntityID:i,providerEntityID:r,watchTogetherRoomEntityID:n,users:s,shouldShowInviteUsers:o,listContext:l}=e,c=function(e){switch(e){case"watchTogetherLobby":return[tFe,eFe];default:return[]}}("watchTogetherLobby"),d=o?[...s,hFe]:s;return Uu()(jfe,{className:a,hubIdentifier:"watchTogetherParticipants",title:Object(Ze.default)("Participants"),size:d.length,listType:"participant",listContext:l,columnAdjustment:1,keyPropName:"userKey",items:d,layout:nLe("participant",null,l,1,c.length),cellRenderer:(t={serverEntityID:i,providerEntityID:r,watchTogetherRoomEntityID:n,titleComponents:c,listType:"participant"},e=>{var a=e.isInviteUser?nFe:cFe;return(pFe(a,tp()({},t,e)))})})}mFe.defaultProps={className:uFe.a.hubCell};var vFe=mFe;function gFe(e,t){var a,i,r=(null==(a=e.title)?void 0:a.toLowerCase())||"",n=(null==(i=t.title)?void 0:i.toLowerCase())||"";return r&&!n?-1:!r&&n?1:r>n?1:r<n?-1:0}var yFe=Object(_u.a)(UEe,$Be,(e,t)=>t.find(t=>{var a;return t.id===(null==(a=e.session)?void 0:a.roomID)}));var fFe=Object(Fu.b)((function(){return Object(_u.a)(P9("providerEntityID"),P9("serverEntityID"),Object(_u.a)(VEe,yFe,(e,t)=>{var a=t?t.users.filter(t=>!e.users.find(e=>e.id===t.id)):[],i=e.users.map(t=>{var a=e.users.filter(e=>e.id===t.id).length>1,i=t.title||Object(Ze.default)("Unknown");return Object.assign({},t,{title:a||!t.title?i+" ("+t.deviceName+")":i})});return a.concat(i).sort(gFe).map(e=>Object.assign({},e,{userKey:e.deviceIdentifier||e.id}))}),yFe,(e,t,a,i)=>({providerEntityID:e,serverEntityID:t,shouldShowInviteUsers:!!i,watchTogetherRoomEntityID:null==i?void 0:i.entityID,users:a}))}))(vFe),bFe=a("4XqK"),IFe=a.n(bFe);var SFe=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,playerType:r}=e;return(Uu()("div",{className:IFe.a.container},void 0,Uu()("div",{className:IFe.a.row},void 0,Uu()("div",{className:IFe.a.poster},void 0,Uu()(JBe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,playerType:r})),Uu()(rh,{className:IFe.a.details,smoothScroll:!1,autoScroll:!0},void 0,Uu()(LVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,showStreams:!1}))),Uu()(fFe,{className:IFe.a.hubCell,playerType:r,listContext:"watchTogetherLobby"})))};var MFe=Object(Fu.b)((function(){return Object(_u.a)(D9(),vpe(),(e,t)=>({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.metadataItem}))}))(SFe),CFe=a("Sua+"),DFe=a.n(CFe);var PFe=function(e){var{bottom:t,playerType:a,onDimensionsChange:i}=e;return(Uu()(Afe,{className:DFe.a.container,bottom:t,onDimensionsChange:i},void 0,Uu()(fFe,{playerType:a,listContext:wc})))},OFe=(Oc.a.shape({timestamp:Oc.a.number.isRequired,type:Oc.a.string.isRequired,uid:Oc.a.string.isRequired,userID:Oc.a.number.isRequired}),a("yHQc")),jFe=a.n(OFe),{Fragment:TFe,useEffect:wFe}=Ed.a;var EFe=function(e){var{serverEntityID:t,providerEntityID:a,notification:i,user:r,onRemoveToast:n}=e;return wFe(()=>{var e,t=i.timestamp+3e3-Date.now(),a=()=>{n({uid:i.uid})};return t>0?e=window.setTimeout(a,t):a(),()=>{e&&(e=window.clearTimeout(e))}},[n,i]),Uu()(TFe,{},void 0,Uu()("div",{className:jFe.a.posterCardContainer},void 0,Uu()(dce,{className:jFe.a.card,serverEntityID:t,providerEntityID:a,imageWidth:30,imageHeight:30,imageUrl:r.thumb,tagType:"participant"})),function(e,t){var a,i=t.title||Object(Ze.default)("Unknown");switch(e){case"join":a=Object(Ze.default)("{openSpan}{username}{closeSpan} joined",{username:i});break;case"leave":a=Object(Ze.default)("{openSpan}{username}{closeSpan} left",{username:i});break;case"pause":a=Object(Ze.default)("{openSpan}{username}{closeSpan} paused",{username:i});break;case"resume":a=Object(Ze.default)("{openSpan}{username}{closeSpan} resumed",{username:i});break;case"seek":a=Object(Ze.default)("{openSpan}{username}{closeSpan} seeked",{username:i})}return(Uu()(oT,{message:a,tags:[{open:"openSpan",close:"closeSpan",component:"span",className:jFe.a.username}]}))}(i.type,r))},NFe=a("vMaE"),xFe=a.n(NFe),AFe=mg(Dg.a.slowSpeed),LFe=ag.b.div({enter:{opacity:1,duration:AFe},exit:{opacity:0,duration:AFe}});function kFe(e){var{className:t,serverEntityID:a,providerEntityID:i,notifications:r,users:n,isControlsVisible:s,onRemoveToast:o}=e;return s?null:Uu()("div",{className:xFe.a.container},void 0,Uu()(ag.a,{flipMove:!1},void 0,r.map(e=>Uu()(LFe,{className:t},e.uid,Uu()(EFe,{serverEntityID:a,providerEntityID:i,notification:e,user:n.find(t=>t.id===e.userID),onRemoveToast:o})))))}kFe.defaultProps={className:xFe.a.toast};var RFe=kFe;var zFe={onRemoveToast:Ase},UFe=Object(Fu.b)((function(){return Object(_u.a)(VEe,P9("serverEntityID"),P9("providerEntityID"),(e,t,a)=>({notifications:e.notifications,providerEntityID:a,serverEntityID:t,users:e.users}))}),zFe)(RFe),VFe=a("0BwR"),BFe=a.n(VFe),{Component:FFe,Fragment:HFe}=Ed.a,_Fe=parseInt(YU.a.playerControlsHeight,10),QFe=parseInt(YU.a.playerControlsNarrowHeight,10),WFe=parseInt(YU.a.playerInfoBarHeight,10),GFe=parseInt(YU.a.playerOverlayActionEdgeGutter,10);function YFe(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isWatchTogetherParticipantsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||e.isWatchTogetherLobbyVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.followMuteMenuOpenCount>0||t.disableInteractionTimer}function KFe({bottom:e,children:t}){return Uu()("div",{className:BFe.a.content,style:{bottom:e}},void 0,t)}var qFe=class extends FFe{constructor(e,t){super(e,t),this.onInteraction=e=>{var{keyCode:t}=e;38!==t&&40!==t&&(YFe(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{YFe(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onFollowMuteMenuChange=e=>{this.setState(t=>({followMuteMenuOpenCount:e?t.followMuteMenuOpenCount+1:t.followMuteMenuOpenCount-1}))},this.onAudioSettingsDimensionsChange=({scrollHeight:e})=>{this.setState({audioSettingsHeight:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,followMuteMenuOpenCount:0,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,YFe(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){YFe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),xge(e.marker)!==xge(this.props.marker)&&this.setState({hideControlsCount:0}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){YFe(e,t)&&!YFe(this.props,this.state)&&this._startInteractionTimer(),!YFe(e,t)&&YFe(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){var{playerType:e,hasFullscreen:t,isRemotePlayer:a,isPlayQueueLoading:i,isMediaLoading:r,isPostPlayLoading:n,isBuffering:s,isFullscreen:o,isSettingsVisible:l,isChaptersVisible:c,isSubtitlesOffsetSettingsVisible:d,isWatchTogetherParticipantsVisible:u,isPlayQueueVisible:p,isAlsoAiringVisible:h,isLyricsVisible:m,isPostPlayVisible:v,isWatchTogetherLobbyVisible:g,isAdVisible:y,isVideo:f,isMusic:b,isNarrowLayout:I,currentSubType:S,hasLiveTVProtocol:M,hasGridFeature:C,hasMediaOverlays:D,isWatchTogether:P,seekStartMilliseconds:O,seekEndMilliseconds:j,bufferStartMilliseconds:T,bufferEndMilliseconds:w,adPositionMilliseconds:E,adDurationMilliseconds:N,ad:x,marker:A,onEnterFullscreenPress:L,onExitFullscreenPress:k,onToggleFullscreen:R,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U}=this.props,{hideControls:V,hideControlsCount:B,audioSettingsHeight:F}=this.state,H=(i||n||f&&!y&&(r||s))&&!v&&!h&&!g,_=!i&&l&&!c&&!p&&!h,Q=_&&b,W=_&&f,G=!i&&!l&&c&&!p&&!h,Y=!i&&p&&!h&&!l&&!c,K=!i&&!p&&h&&!l&&!c,q=f&&!i&&!n&&!p&&!h&&!v&&!g,Z=q&&!y&&!r,X=g||(!y||p)&&(a||b||r||p||h||n||v),J=S===OM.b,$=I?QFe:_Fe,ee=!g&&(M||y||J)?$+WFe:$,te=V?null:"translateY("+-ee+"px)",ae=!(!x||!x.click),ie=!(!x||!x.clicksThrough),re={bottom:ee+GFe+"px",right:GFe+"px"};return Uu()(HFe,{},void 0,D&&q&&!y?Uu()(cye,{playerType:e}):null,X?Uu()(hNe,{playerType:e,isVideo:f,isMusic:b,allowBlur:b||p||h||v||g}):null,p||h||!H?null:Uu()("div",{className:BFe.a.spinnerContainer},void 0,Uu()(Xh,{size:wp})),Z?Uu()(Pye,{playerType:e,heightOffset:V?0:ee}):null,!q||y&&ie?null:Uu()(bCe,{playerType:e,isCursorHidden:V,onToggleFullscreen:R}),y&&ae&&!g?Uu()(rT,{className:BFe.a.overlayButton,size:wp,style:re,onPress:x.click},void 0,Object(Ze.default)("Learn more")):null,q&&!y?Uu()(Bye,{marker:A,className:BFe.a.overlayButton,size:wp,style:re,playerType:e,isHidden:V&&B>1,isHiddenPolite:V}):null,i?null:Uu()("div",{className:(BFe.a.topBar||"")+" "+(V&&BFe.a.topBarHidden||"")+" "+(f&&BFe.a.videoTopBar||"")+" "+(p&&BFe.a.playQueueTopBar||""),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Uu()(hCe,{playerType:e,isFullscreen:o,hasFullscreen:t,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:L,onExitFullscreenPress:k})),i||p||m||!b?null:Uu()(KFe,{bottom:ee},void 0,Uu()(cNe,{playerType:e,bottom:Q?F:null})),!i&&!p&&m&&b?Uu()(KFe,{bottom:ee},void 0,Uu()(txe,{playerType:e})):null,Q?Uu()(eDe,{playerType:e,bottom:ee,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,W?Uu()(_Be,{bottom:ee,playerType:e,isWatchTogether:P}):null,d?Uu()(oBe,{bottom:ee,playerType:e}):null,u?Uu()(PFe,{bottom:ee,playerType:e}):null,G?Uu()(Jfe,{bottom:ee,playerType:e}):null,Y?Uu()(KFe,{bottom:ee},void 0,Uu()(mAe,{playerType:e,isVideo:f,isMusic:b})):null,K?Uu()(KFe,{bottom:ee},void 0,Uu()(_Me,{playerType:e,isVideo:f,isMusic:b,hasLiveTVProtocol:M,hasGridFeature:C})):null,i||!v||p||h?null:Uu()(KFe,{bottom:ee},void 0,Uu()(YVe,{playerType:e})),!i&&g?Uu()(KFe,{bottom:ee},void 0,Uu()(MFe,{playerType:e})):null,Uu()(eBe,{isControlsVisible:!V,playerType:e}),P&&!g?Uu()(UFe,{isControlsVisible:!V,playerType:e}):null,i?null:Uu()("div",{className:(BFe.a.bottomBar||"")+" "+(V&&BFe.a.bottomBarHidden||""),style:{bottom:-ee,height:ee,WebkitTransform:te,msTransform:te,transform:te},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Uu()(eNe,{playerType:e,isVideo:f,isMusic:b,isAdVisible:y,isPostPlayVisible:v,isWatchTogetherLobbyVisible:g,currentSubType:S,isWatchTogether:P,hasLiveTVProtocol:M,seekStartMilliseconds:O,bufferStartMilliseconds:T,bufferEndMilliseconds:w,seekEndMilliseconds:j,adPositionMilliseconds:E,adDurationMilliseconds:N,onFollowMuteMenuChange:this.onFollowMuteMenuChange,onControlsMenuChange:this.onControlsMenuChange,onSeekBarInteractionStart:z,onSeekBarInteractionEnd:U})))}},ZFe=a("bIaj"),XFe=a.n(ZFe),JFe=Uu()(Xh,{});var $Fe=function(e){var{className:t,children:a,isPlayQueueLoading:i}=e;return(Uu()("div",{className:(t||"")+" "+(i&&XFe.a.playQueueIsLoading||"")},void 0,i?JFe:a))},eHe=Ed.a.createElement;var tHe=function(e){return Uu()($Fe,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,eHe(eNe,e))},aHe=Ed.a.createElement;var iHe=function(e){return aHe(Nge,tp()({},e,{playerType:I6.a,mediaComponent:e.isMusic?Xhe:fge,playerComponent:e.isMiniPlayer?tHe:qFe}))};var rHe=Object(Fu.b)((function(){return Object(_u.a)((e,{isMiniPlayer:t})=>t,D9(),gpe(),vpe(),O9(),Object(_u.a)(Mpe(),P9("positionSeconds"),(e,t)=>{var a=1e3*t;return e.find(e=>e.startTimeOffset<=a&&e.endTimeOffset>a)}),Object(_u.a)(Spe(),pv,Gu,(e,t,a)=>{var i,r;if(e){var n=a[e.serverEntityID],s=t[e.providerEntityID];i=null==n?void 0:n.machineIdentifier,r=null==s?void 0:s.identifier}return{machineIdentifier:i,providerIdentifier:r}}),Npe(),(e,t,a,i,r,n,s,o)=>{var l,c,d,u;if(i){var p=Object(Wt.u)(i.type);c=p&&p.mediaType,d=i.subtype,u=i.vast}var h=c===tl.a,m=c===tl.e,{machineIdentifier:v,providerIdentifier:g}=s;return{marker:n,isMusic:h,isVideo:m,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isWatchTogether:t.isWatchTogether,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isWatchTogetherParticipantsVisible:t.isWatchTogetherParticipantsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,isWatchTogetherLobbyVisible:t.isWatchTogetherLobbyVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,hasMediaOverlays:!!(null==o?void 0:null==(l=o.Overlay)?void 0:l.length),confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!r&&r.features.some(e=>e.type===Ot.d),hasLiveTVProtocol:!!r&&r.protocols.includes(Qt.a),showBackgroundVideoPlayer:!(!u&&!a||e),currentMediaType:c,currentSubType:d,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,advertisingNoticePayload:t.advertisingNoticePayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adDisplayIndex:t.adDisplayIndex,adDisplayTotal:t.adDisplayTotal,vast:u,bufferedRanges:t.bufferedRanges,machineIdentifier:v,providerIdentifier:g}})}),(function(e,t){var{playerType:a}=t;return{onUpdateBufferedRanges(t){e(bse.K({playerType:a,bufferedRanges:t}))},onUpdateCurrentAd(t){e(Cw.u(Object.assign({},t,{playerType:a})))}}}))(iHe);rHe.propTypes=Object.assign({},rHe.propTypes,{isMiniPlayer:Oc.a.bool,playerType:Oc.a.string.isRequired});var nHe=rHe;var sHe=function(){return Object(_u.a)(e=>e.user.id,Object(ie.c)("selectRestorePlayQueue"),pv,Gu,(e,t,a,i)=>{var r;t&&t[e]&&(r=t[e]);var n=r&&a[r.providerEntityID],s=r&&i[r.serverEntityID];if(r&&r.playQueueID&&s&&s.isConnected&&n&&n.isPopulated)return r})},oHe=Ed.a.createElement,{Component:lHe}=Ed.a;var cHe={dispatchRestorePlayQueue:_pe.m,dispatchEndPlayback:Cw.h,dispatchUpdatePlayerError:bse.P};var dHe=Object(Fu.b)((function(){return Object(_u.a)(Qwe,e=>e.isFullscreen,e=>e.user.isUnlocked,D9(),$he(),O9(),sHe(),(e,t,a,i,r,n,s)=>{var{confirmPlayerUpsellPayload:o,isOpen:l,openState:c}=i;return{confirmPlayerUpsellPayload:o,isOpen:l,isServerlessPlayer:l&&(!r||!n),isMiniPlayer:c===J8.b,isRemotePlayer:e,isFullscreen:t,isUserUnlocked:a,hasFullscreen:Object(ie.c)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:s}})}),cHe)(class extends lHe{constructor(...e){super(...e),this.onEnterFullscreen=()=>{Object(ie.c)("fullscreenManager").enter()},this.onExitFullscreen=()=>{Object(ie.c)("fullscreenManager").exit()},this.onToggleFullscreen=()=>{this.props.isFullscreen?this.onExitFullscreen():this.onEnterFullscreen()}}componentDidMount(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})}componentDidUpdate(e){var{dispatchEndPlayback:t,isFullscreen:a,isMiniPlayer:i,isOpen:r,isServerlessPlayer:n,playerType:s}=this.props;this._restorePlayQueue(),n&&!e.isServerlessPlayer&&t({playerType:s});var o=Object(ie.c)("fullscreenManager"),l=!r&&e.isOpen,c=i&&!e.isMiniPlayer;a&&(l||c)&&o.shouldExitOnPlayerClose&&this.onExitFullscreen()}componentDidCatch(e,t){O.a.error(e),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:Object(Ze.default)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})}_restorePlayQueue(){var{playerType:e,isOpen:t,isUserUnlocked:a,restorePlayQueuePayload:i,dispatchRestorePlayQueue:r}=this.props;!t&&a&&i&&(e===Object(I6.d)(i.playQueueType)&&r(i))}render(){var e=this.props,{component:t,isServerlessPlayer:a}=e,i=Je()(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]);return a?null:oHe(t,tp()({},i,{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))}}),uHe=a("lmxN"),pHe=a.n(uHe),hHe=Hu.extend({className:pHe.a.container,component:()=>Uu()(dHe,{component:nHe,playerType:I6.a})});function mHe(e){return Object(_u.a)(ZG(),die,cie,uw,(t,a,i,r)=>e({server:a,provider:i,stableUser:r,metadataItem:t}))}var vHe=Object(Fu.b)((function(){return Object(_u.a)(vpe(),mHe(Nie),mHe(jie),mHe(Tie),(e,{isVideo:t})=>t,(e,t,a,i,r)=>e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:a,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:i,showVolume:r}:{})}))(bwe);vHe.propTypes=Object.assign({},vHe.propTypes,{providerEntityID:Oc.a.string.isRequired,metadataItemEntityID:Oc.a.string.isRequired,serverEntityID:Oc.a.string.isRequired,playerType:Oc.a.string.isRequired});var gHe=vHe,yHe=Ed.a.createElement;var fHe=function(e){var{playerType:t,bufferStartMilliseconds:a,bufferEndMilliseconds:i,positionMilliseconds:r}=e,n=Je()(e,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return(Uu()(rDe,{},void 0,Uu()(lDe,{},void 0,Uu()(Uwe,{playerType:t,bufferStartMilliseconds:a,bufferEndMilliseconds:i,positionMilliseconds:r,showBuffer:!0}),yHe(uDe,tp()({component:gHe,playerType:t},n)))))};var bHe=Object(Fu.b)((function(){return Object(_u.a)(D9(),vpe(),qG,(e,t={},a)=>{var i=t.metadataItem,{serverEntityID:r,providerEntityID:n,type:s,Media:[o]}=a[i],l=s===Wt.d,c=o&&o.Part&&o.Part[0],d=c&&c.key;return{serverEntityID:r,providerEntityID:n,imageUrl:l?null:d}})}))(pNe),IHe=a("tN90"),SHe=a.n(IHe);var MHe=function(e){var{items:t,currentItem:a,size:i,firstIndex:r,renderSlide:n,width:s,height:o}=e;if(!t||!t.length)return null;var l=t.indexOf(a),c=D.a.range(Math.max(0,l-1),Math.min(i,l+1+1));return Uu()("div",{className:SHe.a.magazine},void 0,c.map(e=>{var a=l===e,i=e+r,c=t[e],d={position:"absolute",width:s,height:o,transform:"translate3d("+(e-l)*s+"px, 0, 0)"};return Uu()("div",{className:a?SHe.a.currentSlide:SHe.a.slide,style:d},i,c?n(c):null)}))};var CHe=a("YhIo"),DHe=a.n(CHe),{Component:PHe}=Ed.a,OHe={width:"100%",height:"100%"},jHe=Uu()(Xh,{});var THe=class extends PHe{constructor(){super(),this.onLoad=()=>{this.setState({loading:!1})},this.onError=()=>{this.setState({error:!0})},this.state={loading:!0,error:!1}}render(){var{serverEntityID:e,providerEntityID:t,url:a,maxWidth:i,maxHeight:r}=this.props,{width:n,height:s}=function(e,t,a=2073600){var i=e*t,r=a/Math.pow(km(),2),n=Math.sqrt(Math.max(i/r,1));return{width:Math.round(e/n),height:Math.round(t/n)}}(i,r),{loading:o,error:l}=this.state;return Uu()("div",{className:DHe.a.slideContainer},void 0,Uu()("div",{className:DHe.a.statusContainer},void 0,o&&!l?jHe:null,l?Uu()("div",{},void 0,Object(Ze.default)("Unable to load photo")):null),Uu()(YS,{serverEntityID:e,providerEntityID:t,url:a,width:n,height:s,containerStyle:OHe,backgroundSize:"contain",component:QI,onLoad:this.onLoad,onError:this.onError},a))}},wHe=Ed.a.createElement;var EHe=Uu()(Xh,{});var NHe=Object(Fu.b)((function(){return Object(_u.a)(ZG(),Object(_u.a)(ZG(),e=>{if(!e||!e.Media)return{};var{type:t,thumb:a,Media:[i]}=e,r="clip"===t,n=i&&i.Part&&i.Part[0],s=n&&n.key;return r||!s?a:s}),(e,t)=>{if(!t||!Object.keys(t).length)return{isLoading:!0};var{serverEntityID:a,providerEntityID:i}=e;return{serverEntityID:a,providerEntityID:i,isLoading:!1,url:t}})}))((function(e){return e.isLoading?EHe:wHe(THe,e)})),xHe=Ed.a.createElement;var AHe=Object(Fu.b)((function(){return Object(_u.a)(vxe(),e=>({playQueueItem:e}))}))((function(e){var{playQueueItem:t}=e;return t&&t.type===Wt.k?xHe(NHe,tp()({metadataItemEntityID:t.metadataItem},e)):null})),LHe=a("NYQO"),kHe=a.n(LHe),{Component:RHe}=Ed.a;var zHe=class extends RHe{constructor(...e){super(...e),this.renderSlide=e=>{var{playQueueItemEntityID:t,width:a,height:i}=this.props,r=t===e;return Uu()(AHe,{playQueueItemEntityID:e,isCurrent:r,maxWidth:a,maxHeight:i})}}render(){var{playQueueItemEntityIDs:e,playQueueItemEntityID:t,size:a,firstIndex:i,errorMessage:r,width:n,height:s}=this.props;return(Uu()("div",{className:kHe.a.carousel},void 0,r?Uu()("div",{className:kHe.a.message},void 0,Uu()("span",{},void 0,r)):null,n&&s&&e&&!r?Uu()(MHe,{items:e,currentItem:t,size:a,firstIndex:i,width:n,height:s,renderSlide:this.renderSlide}):null))}},UHe=a("rU2Z"),VHe=a.n(UHe);function BHe(e){var{hideOverlays:t,canSkipPrevious:a,canSkipNext:i,hasFullscreen:r,isFullscreen:n,isPhoto:s,onPlayNextItem:o,onPlayPreviousItem:l,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}=e;return(Uu()("div",{className:t?VHe.a.hideOverlays:void 0},void 0,s?null:Uu()(bCe,{className:VHe.a.playButton,playerType:I6.b,isFullscreen:n,onEnterFullscreenPress:d,onExitFullscreenPress:u,onToggleFullscreen:p}),Uu()("div",{className:VHe.a.topBar},void 0,Uu()(hCe,{playerType:I6.b,isFullscreen:n,hasFullscreen:r,onCastMenuChange:c,onEnterFullscreenPress:d,onExitFullscreenPress:u})),Uu()(KG,{className:VHe.a.leftButton,iconComponent:oO,title:Object(Ze.default)("Previous Photo"),isDisabled:!a,onPress:l}),Uu()(KG,{className:VHe.a.rightButton,iconComponent:rO,title:Object(Ze.default)("Next Photo"),isDisabled:!i,onPress:o})))}BHe.defaultProps={hideOverlays:!1};var FHe=BHe,HHe=Object(Pa.a)("ui/player/photoPlayer/fetchRelatedPhotos"),_He=uk({"ui/player/photoPlayer/fetchRelatedPhotos"(e){var t=Object(e9.c)(e,"photo"),a=t.get("playQueue").get("currentIndex"),i=Object(e9.a)(t,a).get("metadataItem"),r=i.get("key"),n=Object(_.join)([r.replace("/library/","/hubs/"),"related"]),s=new iw.default([],{server:i.server,provider:i.provider,metadataItem:i,hubKey:n,hubCount:8});t.set({relatedHubs:s}),i.get("isLibraryItem")&&s.fetch()}});function QHe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}QHe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var WHe=QHe;function GHe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}GHe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var YHe=GHe;var KHe=function(e){return Uu()(YS,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:110,height:110,component:QI})},qHe=a("JW6f"),ZHe=a.n(qHe),XHe=Uu()(YHe,{});var JHe=function(e){var{serverEntityID:t,providerEntityID:a,summary:i,totalSize:r,url:n,icon:s,onPress:o}=e;return(Uu()("div",{className:ZHe.a.hub,"data-qa-id":"relatedPhotoItem"},void 0,Uu()(Vp,{onPress:o},void 0,Uu()("div",{className:ZHe.a.container},void 0,Uu()("div",{className:ZHe.a.overlay},void 0,Uu()("div",{className:ZHe.a.title,"data-qa-id":"relatedPhotoName"},void 0,i),Uu()("div",{className:ZHe.a.count,"data-qa-id":"relatedPhotoCount"},void 0,s?Uu()(YS,{className:ZHe.a.icon,serverEntityID:t,providerEntityID:a,url:s,width:14,height:14}):XHe,Uu()("span",{},void 0," ",r))),Uu()("div",{className:ZHe.a.body},void 0,Uu()(KHe,{serverEntityID:t,url:n}))))))},$He=Ed.a.createElement,{Component:e_e}=Ed.a;var t_e=Object(Fu.b)((function(){return Object(_u.a)((e,{librarySectionKey:t})=>t,RS(),kS(),HG(),ofe(),(e,t,a,i,r)=>({hubLink:Xt(t,a,{key:r.key,title:r.title}),summary:r.summary,totalSize:r.totalSize,url:r.thumb,icon:r.icon}))}),{endPlayback:Cw.h})(class extends e_e{constructor(...e){super(...e),this.onPress=()=>{window.location.href=this.props.hubLink,this.props.endPlayback({playerType:I6.b})}}render(){return $He(JHe,tp()({onPress:this.onPress},this.props))}}),a_e=a("0PCw"),i_e=a.n(a_e),r_e=Uu()("div",{});var n_e=function(e){var{serverEntityID:t,providerEntityID:a,librarySectionKey:i,hubEntityIDs:r}=e;return r&&r.length?Uu()("div",{className:i_e.a.container,"data-qa-id":"relatedPhotosContainer"},void 0,Uu()("div",{className:i_e.a.title},void 0,Object(Ze.default)("Related Photos")),Uu()("div",{className:i_e.a.list},void 0,r.map(e=>Uu()(t_e,{serverEntityID:t,providerEntityID:a,librarySectionKey:i,hubEntityID:e},e)))):r_e},s_e=a("i6oY"),o_e=a.n(s_e),{Fragment:l_e,useCallback:c_e,useState:d_e}=Ed.a,u_e=Uu()(Xh,{});var p_e=function(e){var{className:t,latitude:a,longitude:i}=e,r=d_e(!0),n=r[1],s=r[0],o=d_e(!1),l=o[1],c=o[0],d=c_e(()=>n(!1),[]),u=c_e(()=>l(!0),[]),p="https://www.google.com/maps/search/?api=1&query="+a+","+i,h={key:"59a999cb8f28fb0a54eb",center:a+","+i,markers:"size:small|color:orange|{"+a+","+i},m=km();return Uu()("div",{className:t},void 0,Uu()(p$,{className:o_e.a.map},void 0,({width:e,height:t})=>Uu()(l_e,{},void 0,Uu()("div",{className:o_e.a.underlay},void 0,s?u_e:null,c?Uu()("span",{className:o_e.a.error},void 0,Object(Ze.default)("Unable to load map.")):null),Uu()(Vp,{to:p,target:"_blank","aria-label":Object(Ze.default)("Open map in new window")},void 0,Uu()(IS,{width:e,height:t,src:_.join("https://maps.locationiq.com/v2/staticmap",Object.assign({},h,{size:e*m+"x"+t*m})),component:QI,onLoad:d,onError:u})))))},h_e=a("QYx4"),m_e=a.n(h_e),v_e=Uu()(WHe,{});var g_e=function(e){var{className:t,serverEntityID:a,providerEntityID:i,librarySectionKey:r,hubEntityIDs:n,type:s,model:o,width:l,height:c,container:d,iso:u,aperture:p,exposure:h,size:m,hasGeolocation:v,latitude:g,longitude:y}=e;return(Uu()("div",{className:(t||"")+" "+(m_e.a.photoInformation||"")},void 0,Uu()(rh,{className:m_e.a.scroller,autoScroll:!0},void 0,Uu()("div",{className:m_e.a.exif},void 0,Uu()("div",{className:m_e.a.line},void 0,Uu()("div",{},void 0,o||("clip"===s?Object(Ze.default)("Video"):Object(Ze.default)("Photo"))),v_e),Uu()("div",{className:m_e.a.line},void 0,l&&c?Uu()("div",{},void 0,l,"  ",c):null,m?Uu()("div",{},void 0,sf(m)):null,d?Uu()("div",{className:m_e.a.format},void 0,d):null),u?Uu()("div",{className:m_e.a.line},void 0,Uu()("div",{},void 0,Object(Ze.default)("ISO")," ",u),Uu()("div",{},void 0,p),Uu()("div",{},void 0,h)):null),Uu()(n_e,{serverEntityID:a,providerEntityID:i,librarySectionKey:r,hubEntityIDs:n})),v?Uu()(p_e,{className:m_e.a.map,latitude:g,longitude:y}):null))},y_e=Ed.a.createElement,{Component:f_e}=Ed.a;var b_e={dispatchFetchRelatedPhotos:HHe};var I_e=Object(Fu.b)((function(){return Object(_u.a)(D9(),wpe(),(e,t)=>{var{Media:a=[],Geolocation:i={},type:r}=t,n=i.Coordinates,s={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:r,hasGeolocation:!!n};if(n&&(s.latitude=parseFloat(n.latitude),s.longitude=parseFloat(n.longitude)),a.length){var o=a[0],l=o.Part;s.size=l&&l[0].size,s.aperture=o.aperture,s.exposure=o.exposure,s.iso=o.iso,s.model=o.model,s.width=o.width,s.height=o.height,s.container=o.container}return s})}),b_e)(class extends f_e{componentDidMount(){this.props.dispatchFetchRelatedPhotos()}componentDidUpdate(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()}render(){var e=this.props,t=Je()(e,["dispatchFetchRelatedPhotos"]);return(y_e(g_e,t))}});var{Component:S_e}=Ed.a,M_e={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0};var C_e=class extends S_e{constructor(...e){super(...e),this.onPlayPress=()=>{this.props.onPlayPress&&this.props.onPlayPress(this.props.index)}}render(){var{className:e,serverEntityID:t,providerEntityID:a,url:i,dimension:r,onPlayPress:n}=this.props;return i?Uu()(Vp,{className:e,isDisabled:!n,onPress:this.onPlayPress},void 0,Uu()(YS,{serverEntityID:t,providerEntityID:a,url:i,width:r,height:r,style:M_e,component:QI})):null}};var D_e=Object(Fu.b)((function(){return Object(_u.a)(Object(_u.a)(ZG(),e=>{if(!e)return{};var{serverEntityID:t,providerEntityID:a,entityID:i,type:r,thumb:n}=e;return{serverEntityID:t,providerEntityID:a,entityID:i,url:n,isVideo:"clip"===r}}),({serverEntityID:e,providerEntityID:t,url:a})=>({serverEntityID:e,providerEntityID:t,url:a}))}))(C_e),P_e=Object(Fu.b)((function(){return Object(_u.a)(vxe(),e=>({metadataItemEntityID:e.metadataItem}))}))(D_e),O_e=a("LPXR"),j_e=a.n(O_e),{Component:T_e}=Ed.a;var w_e=class extends T_e{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.state={isMeasured:!1,width:null,height:null}}render(){var{className:e,playQueueItemEntityIDs:t,playQueueItemEntityID:a,firstIndex:i,size:r,onPhotoPress:n}=this.props,{isMeasured:s,width:o,height:l}=this.state,c=t.indexOf(a)+i,d=[],u=[],p=0;if(s){p=Math.ceil(l);var h=Math.ceil(o/p),m=function({index:e,length:t,renderableWindow:a=t,cellPadding:i=0,cellWidth:r,width:n}){var s=t*r+(t-1)*i,o=e*(r+i)-(n/2-r/2);s>n&&(o=Math.min(Math.max(o,0),s-n));for(var l=[],c=Math.max(0,e-a),d=Math.min(t-1,e+a),u=c;u<=d;u++)l[u]=u*(r+i)-o;return{renderStartIndex:c,renderEndIndex:d,positions:l}}({index:c,renderableWindow:h,length:r,cellPadding:2,cellWidth:p,width:o});u=D.a.range(m.renderStartIndex,m.renderEndIndex+1),d=m.positions}return(Uu()("div",{className:(e||"")+" "+(j_e.a.strip||""),"data-qa-id":"photoStripContainer"},void 0,Uu()(p$,{className:j_e.a.thumbs,onMeasure:this.onMeasure},void 0,s?u.map(e=>{var a=d[e],r=c===e,s=t[e-i],o={position:"absolute",width:p,height:p,transform:"translate3d("+a+"px, 0, 0)"};return Uu()("div",{className:j_e.a.cell,style:o},e,Uu()("div",{className:(j_e.a.thumbContainer||"")+" "+(r&&j_e.a.isSelected||""),"data-qa-id":"photoStripItem"},void 0,s?Uu()(P_e,{className:j_e.a.thumb,playQueueItemEntityID:s,dimension:p-4,index:e-i,onPlayPress:n}):null))}):null)))}},E_e=a("1xdZ"),N_e=a.n(E_e),{Component:x_e}=Ed.a,A_e=parseInt(YU.a.playerControlsHeight,10),L_e=parseInt(YU.a.playerControlsNarrowHeight,10);var k_e=class extends x_e{constructor(e,t){super(e,t),this.onPhotoStripTogglePress=e=>{this.setState({isPhotoStripOpen:!this.state.isPhotoStripOpen})},this.onPhotoInformationTogglePress=e=>{this.setState({isInformationOpen:!this.state.isInformationOpen})},this.onInteraction=e=>{this.setState({hadRecentInteraction:!0}),this._startInteractionTimer()},this.onInteractionTimeout=()=>{this.setState({hadRecentInteraction:!1}),this._stopInteractionTimer()},this.onContentMeasure=e=>{this.props.onPlaybackDimensionsChange(e)},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1}}componentDidMount(){this._startInteractionTimer()}componentDidUpdate(e,t){var{disableInteractionTimer:a}=this.state,{disableInteractionTimer:i}=t,r=!i&&a;i&&!a?this._startInteractionTimer():r&&this._stopInteractionTimer()}componentWillUnmount(){this._stopInteractionTimer()}_startInteractionTimer(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3))}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){var{isPhotoStripOpen:e,isInformationOpen:t,hadRecentInteraction:a}=this.state,{playQueueItemEntityIDs:i,playQueueItemEntityID:r,isPlayQueueLoading:n,isVideo:s,isPhoto:o,size:l,firstIndex:c,width:d,height:u,canSkipPrevious:p,canSkipNext:h,errorMessage:m,positionMilliseconds:v,bufferStartMilliseconds:g,bufferEndMilliseconds:y,hasFullscreen:f,isFullscreen:b,isMediaLoading:I,isBuffering:S,isNarrowLayout:M,playerType:C,onExitFullscreenPress:D,onEnterFullscreenPress:P,onToggleFullscreen:O,onPlayNextItem:j,onPlayPreviousItem:T,onPlayItem:w}=this.props,{isControlsMenuOpen:E,isCastMenuOpen:N}=this.state,x=e||t,A=!(x||a||E||N),L=!a&&!N,k=x,R=!o&&(I||S),z=M?L_e:A_e,U=A?null:"translateY("+-z+"px)";return Uu()("div",{"data-qa-id":"photoPlayerContainer",className:(N_e.a.fullPlayer||"")+" "+(A&&N_e.a.hideControls||"")+" "+(k&&N_e.a.dockControls||""),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},void 0,o?Uu()(bHe,{playerType:C,playQueueItemEntityID:r}):null,Uu()("div",{className:N_e.a.player},void 0,Uu()("div",{className:N_e.a.main},void 0,Uu()(p$,{className:N_e.a.content,onMeasure:this.onContentMeasure},void 0,R?Uu()("div",{className:N_e.a.spinner},void 0,Uu()(Xh,{size:wp})):null,Uu()(zHe,{playQueueItemEntityIDs:i,playQueueItemEntityID:r,firstIndex:c,size:l,errorMessage:m,width:d,height:u}),n?null:Uu()(FHe,{hideOverlays:L,isPhoto:o,isFullscreen:b,hasFullscreen:f,canSkipNext:h,canSkipPrevious:p,onPlayNextItem:j,onPlayPreviousItem:T,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:P,onExitFullscreenPress:D,onToggleFullscreen:O})),e?Uu()(w_e,{className:N_e.a.mainFooter,playQueueItemEntityIDs:i,playQueueItemEntityID:r,firstIndex:c,size:l,onPhotoPress:w}):null),t?Uu()(I_e,{className:N_e.a.aside,playerType:C}):null),n?null:Uu()("div",{className:N_e.a.bottomBar,style:{bottom:-z,height:z,WebkitTransform:U,msTransform:U,transform:U},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Uu()(fHe,{playerType:C,isVideo:s,isPhoto:o,positionMilliseconds:v,bufferStartMilliseconds:g,bufferEndMilliseconds:y,activatePhotoInformationButton:t,activatePhotoStripButton:e,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))}},R_e=Ed.a.createElement;var z_e=function(e){return Uu()($Fe,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,R_e(fHe,e))},U_e=Ed.a.createElement,{Component:V_e}=Ed.a;function B_e(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}var F_e=class extends V_e{constructor(e,t){super(e,t),this.onSlideShowAdvance=()=>{this.props.onPlayNextItem({autoPlay:!0})},this.onPlaybackDimensionsChange=({width:e,height:t})=>{this.setState({mediaWidth:e,mediaHeight:t})},this.state={mediaHeight:0,mediaWidth:0}}componentDidMount(){B_e(this.props)&&this._startSlideshow()}componentDidUpdate(e){var t=B_e(e),a=B_e(this.props),i=a!==t,r=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(i||r)&&(a?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())}componentWillUnmount(){this._stopSlideshow(),this._playerTimer=window.clearTimeout(this._playerTimer)}_startSlideshow(){this._stopSlideshow(),this._slideshowTimer=window.setTimeout(this.onSlideShowAdvance,5e3)}_stopSlideshow(){this._slideshowTimer&&(this._slideshowTimer=window.clearTimeout(this._slideshowTimer))}render(){var{isMiniPlayer:e,isRemotePlayer:t}=this.props,{mediaWidth:a,mediaHeight:i}=this.state;return U_e(Nge,tp()({},this.props,{playerType:I6.b,mediaWidth:a,mediaHeight:i,isRemotePlayer:t,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:fge,playerComponent:e?z_e:k_e,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))}};var H_e=Object(Fu.b)((function(){return Object(_u.a)((e,{isMiniPlayer:t})=>t,D9(),gpe(),vpe(),(e,t,a,i)=>{var r={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!a&&!e},n=t.playQueue;if(n&&i){var s=n.currentIndex;r.playQueueItemEntityIDs=n.playQueueItems,r.playQueueItemEntityID=i.entityID,r.canSkipPrevious=s>0,r.canSkipNext=s<n.playQueueItems.length-1,r.size=n.length,r.firstIndex=n.playQueueSelectedItemOffset-s,r.currentMediaType=Object(Wt.u)(i.type).mediaType,r.currentMediaSubtype=i.subtype}return r.isVideo=r.currentMediaType===tl.e,r.isPhoto=r.currentMediaType===tl.c,r})}),(function(e,t){var{playerType:a}=t;return{onPlayPreviousItem(){e(_pe.i({playerType:a}))},onPlayNextItem(t={}){e(_pe.h({playerType:a,autoPlay:t.autoPlay}))},onPlayItem(t){e(_pe.f({playerType:a,index:t}))},onTogglePlayPause(){e(bse.F({playerType:a}))}}}))(F_e);H_e.propTypes=Object.assign({},H_e.propTypes,{playerType:Oc.a.string.isRequired});var __e=H_e,Q_e=Hu.extend({component:()=>Uu()(dHe,{component:__e,playerType:I6.b})}),W_e=a("fjrA");var G_e=Ed.a.createElement;var Y_e=function(e){return G_e(qhe,tp()({},e,{type:"rom"}))},K_e=Ed.a.createElement;var q_e=function(e){return K_e(bwe,tp()({},e,{showRepeatButton:!1,showNextButton:!1,showPreviousButton:!1,showSettingsButton:!0}))};function Z_e(e){var{isGame:t,isMiniPlayer:a,playerType:i,onControlsMenuChange:r}=e;return(Uu()(rDe,{},void 0,Uu()(lDe,{},void 0,Uu()(uDe,{component:q_e,playerType:i,isGame:t,isMiniPlayer:a,onControlsMenuChange:r}))))}Z_e.defaultProps={isMiniPlayer:!1};var X_e=Z_e;var J_e=Object(Fu.b)((function(){return Object(_u.a)(P9("serverEntityID"),P9("startMetadataItemEntityID"),vpe(),qG,(e,t,a={},i)=>{var r,n=i[t||a.metadataItem];return n&&(r=n.grandparentArt||n.art),{serverEntityID:e,imageUrl:r}})}))(pNe),$_e=a("9Y86"),eQe=a("wowv"),tQe=a("HhKU"),aQe=a.n(tQe),{useEffect:iQe,useRef:rQe,useState:nQe}=Ed.a,sQe=/^[^()]+/;var oQe=[!1,!1,!1,!1];var lQe=function({bottom:e,gameInputDevices:t}){var a=rQe(oQe),i=nQe(null),r=i[1];return i[0],iQe(()=>{var e=Object(eQe.a)((e,i)=>{var n=t.findIndex(e=>e.type===W_e.e.Keyboard);-1!==n&&(a.current[n]=i,r(Date.now()))}),i=Object($_e.a)((e,i,n)=>{var s=t.findIndex(t=>t.index===e.index);-1!==s&&(a.current[s]=Array.from(i.changed).some(e=>i.values.get(e))||Array.from(n.changed).some(e=>n.values.get(e)),r(e.timestamp))});return a.current=[oQe],()=>{e(),i()}},[t]),Uu()(ECe,{bottom:e,title:"Gameplay Settings"},void 0,t.map((e,i)=>{var r,{type:n}=e;return r=n===W_e.e.Gamepad?function(e,t){var a,{id:i}=e,r=(null==(a=i.match(sQe))?void 0:a[0].trim())||i,n=t.filter(e=>e.id===i);return n.length>1?r+" ("+(n.indexOf(e)+1)+")":r}(e,t):n===W_e.e.Keyboard?Object(Ze.default)("Keyboard"):Object(Ze.default)("None"),Uu()(LCe,{className:a.current[i]?aQe.a.rowPressed:aQe.a.row,label:"Player "+(i+1)},i,r)}))},cQe=a("r3vD"),dQe=a.n(cQe),{Component:uQe,Fragment:pQe}=Ed.a,hQe=parseInt(YU.a.playerControlsHeight,10),mQe=parseInt(YU.a.playerControlsNarrowHeight,10);function vQe(e,t){return e.isSettingsVisible||t.isCastMenuOpen||t.disableInteractionTimer}var gQe=class extends uQe{constructor(e,t){super(e,t),this.onInteraction=e=>{var{keyCode:t}=e;38!==t&&40!==t&&(vQe(this.props,this.state)||(this.state.hideControls&&this.setState({hideControls:!1}),this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)))},this.onInteractionTimeout=()=>{this.setState(({hideControlsCount:e})=>({hideControls:!0,hideControlsCount:e+1})),this._interactionTimeoutID&&(window.clearTimeout(this._interactionTimeoutID),this._interactionTimeoutID=null)},this.onMouseLeave=e=>{this.setState({disableInteractionTimer:!1},()=>{vQe(this.props,this.state)||this.onInteractionTimeout()})},this.onControlsMouseEnter=e=>{this.setState({disableInteractionTimer:!0})},this.onControlsMouseLeave=e=>{this.setState({disableInteractionTimer:!1})},this.onControlsMenuChange=e=>{this.setState({isControlsMenuOpen:e})},this.onCastMenuChange=e=>{this.setState({isCastMenuOpen:e})},this.state={hideControls:!1,hideControlsCount:0,isControlsMenuOpen:!1,isCastMenuOpen:!1,disableInteractionTimer:!1}}componentDidMount(){document.addEventListener("keyup",this.onInteraction),document.addEventListener("mousemove",this.onInteraction),document.addEventListener("mousedown",this.onInteraction),document.addEventListener("touchstart",this.onInteraction),document.addEventListener("touchend",this.onInteraction),document.addEventListener("mouseleave",this.onMouseLeave),this._bodyCursorStyleAtMount=document.body.style.cursor,vQe(this.props,this.state)||this._startInteractionTimer()}componentWillReceiveProps(e){vQe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})}componentDidUpdate(e,t){vQe(e,t)&&!vQe(this.props,this.state)&&this._startInteractionTimer(),!vQe(e,t)&&vQe(this.props,this.state)&&this._stopInteractionTimer(),this.state.hideControls!==t.hideControls&&(document.body.style.cursor=this.state.hideControls?"none":this._bodyCursorStyleAtMount)}componentWillUnmount(){document.removeEventListener("keyup",this.onInteraction),document.removeEventListener("mousemove",this.onInteraction),document.removeEventListener("mousedown",this.onInteraction),document.removeEventListener("touchstart",this.onInteraction),document.removeEventListener("touchend",this.onInteraction),document.removeEventListener("mouseleave",this.onMouseLeave),document.body.style.cursor=this._bodyCursorStyleAtMount,this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}_startInteractionTimer(){this._stopInteractionTimer(),this._interactionTimeoutID=window.setTimeout(this.onInteractionTimeout,2e3)}_stopInteractionTimer(){this._interactionTimeoutID&&window.clearTimeout(this._interactionTimeoutID)}render(){var{playerType:e,gameInputDevices:t,hasFullscreen:a,isGame:i,isPlayQueueLoading:r,isMediaLoading:n,isFullscreen:s,isNarrowLayout:o,isSettingsVisible:l,onEnterFullscreenPress:c,onExitFullscreenPress:d,onToggleFullscreen:u}=this.props,{hideControls:p}=this.state,h=r||n,m=r||n,v=o?mQe:hQe,g=p?null:"translateY("+-v+"px)";return Uu()(pQe,{},void 0,m?Uu()(J_e,{playerType:e,allowBlur:!1}):null,h?Uu()("div",{className:dQe.a.spinnerContainer},void 0,Uu()(Xh,{size:wp})):null,Uu()(bCe,{playerType:e,isCursorHidden:p,onToggleFullscreen:u}),l?Uu()(lQe,{gameInputDevices:t,playerType:e,bottom:v}):null,r?null:Uu()("div",{className:(dQe.a.topBar||"")+" "+(p&&dQe.a.topBarHidden||""),onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Uu()(hCe,{playerType:e,isFullscreen:s,hasFullscreen:a,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:c,onExitFullscreenPress:d})),r?null:Uu()("div",{className:(dQe.a.bottomBar||"")+" "+(p&&dQe.a.bottomBarHidden||""),style:{bottom:-v,height:v,WebkitTransform:g,msTransform:g,transform:g},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,Uu()(X_e,{isGame:i,playerType:e,onControlsMenuChange:this.onControlsMenuChange})))}},yQe=Ed.a.createElement;var fQe=function(e){return Uu()($Fe,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,yQe(X_e,e))},bQe=Ed.a.createElement,{useEffect:IQe,useState:SQe}=Ed.a,MQe={type:W_e.e.Keyboard},CQe={type:W_e.e.None},DQe=[MQe,CQe,CQe,CQe];var PQe=function(e){var t=SQe(DQe),a=t[1],i=t[0];return IQe(()=>function(e){if(!F.a.hasGamepads)return()=>{};function t(){var e=[];for(var t of window.navigator.getGamepads())(null==t?void 0:t.connected)&&e.push(t);return e}function a(a){e(t(),[a.gamepad])}window.addEventListener("gamepadconnected",a,!0),window.addEventListener("gamepaddisconnected",a,!0);var i=window.requestAnimationFrame(()=>{var a=t();a.length&&e(a,a)});return()=>{window.cancelAnimationFrame(i),window.removeEventListener("gamepadconnected",a,!0),window.removeEventListener("gamepaddisconnected",a,!0)}}(e=>{var t=e.map(e=>({type:W_e.e.Gamepad,id:e.id,index:e.index,mapping:e.mapping}));if(t.length<4){t.push(MQe);for(var i=t.length;i<4;i++)t.push(CQe)}a(t)}),[]),bQe(Nge,tp()({},e,{gameInputDevices:i,mediaComponent:Y_e,playerComponent:e.isMiniPlayer?fQe:gQe}))};var OQe=Object(Fu.b)((function(){return Object(_u.a)(vpe(),Object(_u.a)(Spe(),e=>{var t,a;return null==e?void 0:null==(t=e.Platform)?void 0:null==(a=t[0])?void 0:a.tag}),Jhe(["isMediaLoading","isPlayQueueLoading","paused","url","confirmRemoteToLocal","confirmLocalToRemote","confirmOffsetPayload","hasError","hasConflicts","isPostPlayVisible","isSettingsVisible"]),(e,t,a)=>{var i,r,{paused:n,isSettingsVisible:s}=a,o=Je()(a,["paused","isSettingsVisible"]);e&&(i=null==(r=Object(Wt.u)(e.type))?void 0:r.mediaType);return Object.assign({},o,{currentMediaType:i,gamePlatformTag:t,gamePreventDefault:n||s,isSettingsVisible:s,showBackgroundVideoPlayer:!1})})}))(PQe);OQe.propTypes=Object.assign({},OQe.propTypes,{isOpen:Oc.a.bool,playerType:Oc.a.oneOf([I6.c]).isRequired});var jQe=OQe,TQe=a("1jyh"),wQe=a.n(TQe),EQe=Hu.extend({className:wQe.a.container,component:()=>Uu()(dHe,{isGame:!0,component:jQe,playerType:I6.c})}),NQe=a("/TfA"),xQe=a.n(NQe),AQe=B.Layout.extend({el:"#plex",template:xQe.a,resizeDelay:200,ui:{content:"#content"},customRegions:{background:{prepend:!0,global:!0},content:{selector:"#content",global:!0,scrollable:!0,channelName:"content"},navbar:{prepend:!0,global:!0},alertbar:{selector:"#alertBar"},audioVideoPlayer:{append:!0,global:!0},romPlayer:{append:!0,global:!0},photoPlayer:{append:!0,global:!0},syncDownloadModals:{append:!0}},openAlerts:{},initialize:function(){D.a.bindAll(this,"triggerResizeEvent");var e=ie.c("appModel");this.user=e.get("user"),this.modals=[],D.a.each(D.a.keys(this.customRegions),(function(e){var t=this.customRegions[e],a=t.selector||D.a.uniqueId("r");t.scrollable?this.addRegion(e,new b6({el:a,channelName:t.channelName})):this.addRegion(e,a)}),this),this.listenTo(e,{"change:authorized":this.onAuthorizedChange,"change:isFirstRun":this.onFirstRunChange}),this.listenTo(this.user,{"change:locked":this.onUserLockedChange,"change:isSignedIn":this.onUserIsSignedInChange}),this.listenTo(H.a,{"show:loading":this.showLoading,"show:view":this.showView,"show:alert":this.showAlert,"show:bar":this.showBar,"hide:bar":this.hideBar,"show:modal":this.showModal,"hide:modal":this.hideModal,"update:scrollPosition":this.onUpdateScrollPosition}),T()(window).on("resize",this.onResize)},showCustomRegion:function(e,t){var a=this.customRegions[e],i=this[e];if(this.user.get("locked"))return i.lockedView=t,void t.close();a.append?i.append(t,this.$el):a.prepend?i.prepend(t,this.$el):i.show(t)},showLoading:function(){this.hideBar("alertbar"),this.user.get("locked")&&this.resetContentLockedRegions(),this.showCustomRegion("content",new m4)},showView:function(e){T()(".tooltip").remove(),this.hideBackground(this.currentView,e),H.a.trigger("cycle:cache"),this.currentView=e,this.showCustomRegion("content",e),this.ui.content.scrollTop(0)},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var a=new G6(e);this.openAlerts[t]=!0,this.listenToOnce(a,"close",(function(){delete this.openAlerts[t]})),this.$el.append(a.render().el)}},showAlertBar:function(){if(Ie.length){var e=Ie[0];Ie.length=0,this.showBar("alertbar",new Qx({alert:e}))}},showBar:function(e,t){this.customRegions[e].modifier&&this.$el.addClass(this.customRegions[e].modifier),t&&this.showCustomRegion(e,t)},hideBar:function(e,t){t||(t={});var a=this.customRegions[e].modifier;a&&this.$el.removeClass(a),t.preserve||(this[e].lockedView=null,this[e].close())},showModal:function(e){this.modals.push(e);var t=T()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal:function(e){var t=D.a.indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!D.a.findWhere(this.modals,{transparent:!0})&&T()("body").removeClass("show-modal-transparent")},hideBackground:function(e,t){var a=t.model?t.model.get("grandparentTheme")||t.model.get("parentTheme")||t.model.get("theme")||t.model.get("key"):null;H.a.trigger("audio:fadeOut",{exceptKey:a}),e&&e.model&&H.a.trigger("hide:background",this.currentView.model)},getLegacyCustomRegionKeys:function(){return D.a.keys(this.customRegions).filter(e=>"navbar"!==e)},lockAll:function(){this._isLocked=!0;var e=D.a.map(this.getLegacyCustomRegionKeys(),(function(e){return this[e]}),this);D.a.each(e,(function(e){e.close()}),this)},resetContentLockedRegions:function(){D.a.each(this.getLegacyCustomRegionKeys(),(function(e){if(!this.customRegions[e].global){var t=this[e];t.lockedView&&(t.lockedView=null)}}),this)},restoreAll:function(){this._isLocked=!1,this.showNavBar(),this.showCustomRegion("background",this.backgroundView),this.showCustomRegion("photoPlayer",new Q_e),this.showCustomRegion("audioVideoPlayer",new hHe),this.showCustomRegion("romPlayer",new EQe),be.a.allowSyncDownload&&this.showCustomRegion("syncDownloadModals",new I8)},triggerResizeEvent:function(){H.a.trigger("resize")},showNavBar:function(){var e=ie.c("appModel");this.navbar&&this.navbar.currentView||this.showBar("navbar",new ppe({model:e}),{prepend:!0})},onRender:function(){this.backgroundView=new _6,this.restoreAll()},onAuthorizedChange:function(e,t){if(t){var a=this.user.get("locked");!1!==a&&null!==a||this.showAlertBar()}else H.a.trigger("navigate:refresh")},onFirstRunChange:function(e,t){this.$el.toggleClass("show-first-run",t)},onUserLockedChange:function(e,t){t?this.lockAll():!this._isLocked||!1!==t&&null!==t||(null===t&&(this.backgroundView=new _6),this.restoreAll())},onUserIsSignedInChange:function(e,t){t||H.a.trigger("navigate:refresh")},onResize:function(){this.resizeTimeout=window.clearTimeout(this.resizeTimeout),this.resizeTimeout=window.setTimeout(this.triggerResizeEvent,this.resizeDelay)},onUpdateScrollPosition:function(e){this.ui.content[0].scrollTop=e}}),LQe=Object(_u.a)(Ku,e=>e.filter(e=>e.isFullServer&&!!e.friendlyName)),kQe=LS(Object(_u.a)(LQe,e=>e.reduce((e,t)=>{var{entityID:a,machineIdentifier:i}=t;return a&&i&&e.push({entityID:a,machineIdentifier:i}),e},[])),e=>e);function RQe(e){return e.user.experienceSettings.homeSettings.preferredServerID}var zQe=Object(_u.a)(lfe,e=>e.servers,Gu,(e,t,a)=>{var{preferredServerID:i}=e;if(i)for(var r=0,n=t.length;r<n;r++){var s=a[t[r]];if(s.machineIdentifier===i)return s}});function UQe(e){var{sourceServer:t,sourceProvider:a,directories:i}=e;return i?i.reduce((e,i)=>{var r=JQ(a,i);return r?((r.key!==KQ||!(!i.hubKey||i.key))&&e.push(R7({sourceType:r.key,sourceServer:t,sourceProvider:a,sourceDirectory:i})),e):e},[]):[]}var VQe=Ed.a.createElement,{Component:BQe}=Ed.a;class FQe extends BQe{constructor(e,t){super(e,t),this.onChange=e=>{var t=this.store.getState(),a=Object.keys(t).filter(e=>this.props.names.includes(e)),i=Object.assign({},t);a.forEach(t=>{var a=i[t];i[t]=Object.assign({},a,{value:e})}),this.store.dispatch(EC.replaceState(i))},this.onFormStoreChange=()=>{var{names:e}=this.props;if(e.length){var t=this.store.getState(),a=Object.keys(t).filter(e=>this.props.names.includes(e)),[i]=a,r=t[i].value,n=function(e,t,a){return e.every(e=>{var i=a[e];return!i||i.value===t})}(a,r,t);this.setState({value:n?r:null})}},this.store=this.context.formStore,this.state={value:!0}}componentWillMount(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)}componentWillUnmount(){this.unsubscribe&&this.unsubscribe()}render(){var e=this.props,{names:t,onChange:a}=e,i=Je()(e,["names","onChange"]);return t.length?VQe(RV,tp()({},i,{value:this.state.value,onChange:Ib(this.onChange,a)})):null}}FQe.contextTypes={formStore:CC};var HQe=FQe,_Qe=a("chwz"),QQe=a.n(_Qe);function WQe(e){var{className:t,titleBarClassName:a,titleTextClassName:i,scrollerClassName:r,title:n,rightTitle:s,children:o}=e;return(Uu()("div",{className:t},void 0,Uu()("div",{className:a},void 0,Uu()("span",{className:i},void 0,n),s),Uu()(rh,{className:r},void 0,o)))}WQe.defaultProps={className:QQe.a.container,titleBarClassName:QQe.a.titleBar,titleTextClassName:QQe.a.titleText,scrollerClassName:QQe.a.scroller};var GQe=WQe,YQe=a("sPYG"),KQe=a.n(YQe),qQe=Ed.a.createElement;function ZQe(e){var{step:t,isActive:a,onPress:i}=e;return Uu()(Vp,{className:a?KQe.a.activeStepIcon:KQe.a.stepIcon,onPress:function(){i(t)}},void 0,t)}function XQe(e){var{className:t,actionsClassName:a,stepContainerClassName:i,steps:r,step:n,stepHeadingText:s,stepBodyText:o,stepButtonBackText:l,stepButtonNextText:c,children:d,component:u,onButtonBackPress:p,onButtonNextPress:h,onStepPress:m}=e,v=Je()(e,["className","actionsClassName","stepContainerClassName","steps","step","stepHeadingText","stepBodyText","stepButtonBackText","stepButtonNextText","children","component","onButtonBackPress","onButtonNextPress","onStepPress"]),g=$.prop("X-Plex-Product");return qQe(u,tp()({className:t},v),Uu()("div",{className:a},void 0,d),Uu()("div",{className:i},void 0,Uu()("div",{className:KQe.a.stepText},void 0,Object(Ze.default)("{productName} Setup",{productName:g}),Array.from(Array(r),(e,t)=>t+1).map(e=>Uu()(ZQe,{step:e,isActive:n===e,onPress:m},e))),Uu()("h3",{className:KQe.a.stepHeading},void 0,s),Uu()("p",{className:KQe.a.stepBody},void 0,o),l?Uu()(rT,{className:KQe.a.stepButton,onPress:p},void 0,l):null,Uu()(rT,{className:KQe.a.stepButton,kind:Dp,type:"submit",onPress:h},void 0,c)))}XQe.defaultProps={className:KQe.a.container,actionsClassName:KQe.a.actions,stepContainerClassName:KQe.a.stepContainer,component:function(e){var{children:t}=e,a=Je()(e,["children"]);return(qQe("div",a,t))},steps:2,step:1};var JQe=XQe;function $Qe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-shared-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M10.286 3.429V8.57H5.143V39.43h37.714V8.57h-5.143V3.43H48V44.57H0V3.43h10.286zM26.57 20.57h10.286L24 33.43 11.143 20.57h10.286V0h5.142v20.571z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}$Qe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var eWe=$Qe;function tWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}tWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var aWe=tWe;function iWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}iWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rWe=iWe;function nWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}nWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var sWe=nWe;function oWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}oWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var lWe=oWe;function cWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-news-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M14 560h532c7.732 0 14-6.268 14-14V14c0-7.732-6.268-14-14-14H14C6.268 0 0 6.268 0 14v532c0 7.732 6.268 14 14 14zm46-60v-60h140v60H60zm180 0V360h260v140H240zM60 400V200h140v200H60zm180-80v-40h260v40H240zm0-80v-40h260v40H240zM60 160V60h440v100H60z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}cWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var dWe=cWe;function uWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}uWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var pWe=uWe;function hWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}hWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var mWe=hWe;function vWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}vWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var gWe=vWe;function yWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}yWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var fWe=yWe;function bWe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}bWe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var IWe=bWe,SWe=Uu()(aWe,{}),MWe=Uu()(sWe,{}),CWe=Uu()(gWe,{}),DWe=Uu()(lWe,{}),PWe=Uu()(pWe,{}),OWe=Uu()(fWe,{}),jWe=Uu()(eWe,{}),TWe=Uu()(rWe,{}),wWe=Uu()(dWe,{}),EWe=Uu()(mWe,{}),NWe=Uu()(IWe,{}),xWe=Uu()(XW,{}),AWe=Uu()(x0,{});var LWe=function(e){switch(e.sourceType){case"playlists":return SWe;case"movies":return MWe;case"tv":return CWe;case"music":return DWe;case"photos":return PWe;case"videos":return OWe;case"shared":return jWe;case KQ:return TWe;case"news":return wWe;case"podcasts":return EWe;case"webShows":return NWe;case"game":return xWe;case"unknown":return AWe}return null},kWe=a("8ck4"),RWe=a.n(kWe),zWe=Ed.a.createElement;var UWe=jV((function(e){var{title:t,sourceType:a,directoryIcon:i}=e,r=Je()(e,["title","sourceType","directoryIcon"]);return(Uu()("label",{className:RWe.a.sourceItem,htmlFor:r.name},void 0,Uu()("span",{className:RWe.a.sourceTitle},void 0,Uu()("span",{className:RWe.a.sourceIconContainer},void 0,i?Uu()("img",{className:RWe.a.iconImg,src:i}):Uu()(LWe,{sourceType:a})),t),zWe(RV,tp()({inputClassName:RWe.a.input},r))))})),VWe=a("YFI5"),BWe=a.n(VWe),FWe=Uu()(Xh,{});var HWe=function(e){var{isPending:t,steps:a,sources:i,onSubmit:r,onButtonBackPress:n,onStepPress:s}=e;return t?FWe:Uu()(JQe,{stepHeadingText:Object(Ze.default)("Customize your Media"),stepBodyText:Object(Ze.default)("Choose what youd like to have in your sidebar navigation menu. (Youll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:a>1?Object(Ze.default)("Go Back"):void 0,stepButtonNextText:Object(Ze.default)("Finish Setup"),step:2,steps:a,component:AC,onSubmit:r,onButtonBackPress:n,onStepPress:s},void 0,Uu()(GQe,{title:Object(Ze.default)("Pinned Sources"),rightTitle:i.length?Uu()(HQe,{inputClassName:BWe.a.input,name:"allSources",names:i.map(e=>e.key)}):null},void 0,i.map(e=>Uu()(UWe,{name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0},e.key))))},_We=Ed.a.createElement,{Component:QWe}=Ed.a,WWe=Object(_u.a)(zQe,pv,(e,t)=>(e?e.providers:[]).map(e=>t[e])),GWe=Object(_u.a)(F7,e=>e.filter(e=>!/.*(staging|dev)$/.test(e.identifier)));function YWe(e,t){return t.reduce((t,a)=>{var i=Kt(a),r=UQe({sourceServer:e,sourceProvider:a,directories:i&&i.directories});return t.push(...r),t},[])}var KWe={dispatchSetupSources:$A};var qWe=Object(Fu.b)((function(){return Object(_u.a)(zQe,WWe,Yu,GWe,Nv.a,(e,t,a,i,r)=>{var n=YWe(e,t),s=YWe(a,i),{sidebarSettings:{hasCompletedSetup:o}}=r;return{isPending:!(!e||e.connectionTestResult!==qa.PENDING),sources:[...n,...s],hasCompletedSetup:o}})}),KWe)(class extends QWe{constructor(...e){super(...e),this.onSubmit=e=>{var t=this.props.sources.filter(({key:t})=>e[t]);this.props.dispatchSetupSources({sources:t})}}componentDidUpdate(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience(),this.props.isPending||0!==this.props.sources.length||this.props.dispatchSetupSources({sources:[]})}render(){var e=this.props,{isPending:t,sources:a}=e,i=Je()(e,["isPending","sources","onEndFirstRunExperience","dispatchSetupSources"]);return(_We(HWe,tp()({sources:a,isPending:t||0===a.length},i,{onSubmit:this.onSubmit})))}}),ZWe=a("gjek"),XWe=a.n(ZWe);var JWe=function(e){var{isSelected:t,isUnavailable:a,onPress:i}=e,r=F3(u3(e),H3(e).status);return Uu()(Vp,{className:(XWe.a.serverButton||"")+" "+(t&&XWe.a.isSelected||"")+" "+(a&&XWe.a.isUnavailable||""),onPress:i},void 0,Uu()("span",{className:XWe.a.titles},void 0,Uu()("span",{className:XWe.a.title},void 0,p3(e)),Uu()("span",{className:XWe.a.details},void 0,r)),t?Uu()(ey,{className:XWe.a.serverMenuIcon,"aria-label":Object(Ze.default)("Selected")}):null)};var $We=Object(Fu.b)((function(){return MAe(RS(),["activeConnection","friendlyName","sourceTitle","isConnected","isOutOfDate","isRelayed","isSecure","isShared","isUnavailable"])}),(function(e,t){return{onPress(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}}))(JWe);$We.propTypes=Object.assign({},$We.propTypes,{machineIdentifier:Oc.a.string.isRequired,serverEntityID:Oc.a.string.isRequired});var eGe=$We;var tGe=function(e){var{preferredServerIdentifiers:t,serverIdentifiers:a,onSavePreferredServer:i,onButtonNextPress:r,onStepPress:n}=e;return(Uu()(JQe,{stepHeadingText:Object(Ze.default)("Choose your Preferred Server"),stepBodyText:Object(Ze.default)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and well use it to build your home screen."),stepButtonNextText:Object(Ze.default)("Continue"),step:1,onButtonNextPress:r,onStepPress:n},void 0,Uu()(GQe,{title:Object(Ze.default)("Plex Media Servers")},void 0,a.map(e=>Uu()(eGe,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:i},e.entityID)))))},aGe=a("rC/d"),iGe=a.n(aGe),{Component:rGe}=Ed.a;function nGe(e,t){return!e&&t.length>0}var sGe=Uu()(ph,{},void 0,Uu()(Xh,{}));var oGe=class extends rGe{constructor(e,t){super(e,t),this.onNextStepPress=()=>{this.setState(e=>({step:Math.max(2,e.step+1)}))},this.onBackStepPress=()=>{this.setState(e=>({step:Math.min(1,e.step-1)}))},this.onStepPress=e=>{this.setState({step:e})},this.onEndFirstRunExperience=()=>{var{preferredServerIdentifiers:e,onEndFirstRunExperience:t}=this.props;t(e?{preferredServerEntityID:e.entityID,preferredServerInteraction:e.machineIdentifier!==this.state.initialDefaultPreferredServerIdentifier}:{})},this.state={step:1}}componentDidMount(){this.props.onChangeBackground({allowLightPreset:!0}),Object(wa.a)(()=>{this.props.onResetCustomization()}),this._maybeCallOnSavePreferredServer(Object.assign({},this.props,{preferredServerIdentifiers:null}))}componentDidUpdate(){this._maybeCallOnSavePreferredServer(this.props)}componentWillUnmount(){this.props.onResetBackground()}_maybeCallOnSavePreferredServer(e){var{isPending:t,preferredServerIdentifiers:a,serverIdentifiers:i,onSavePreferredServer:r}=e;if(!t){var n=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(a,i);!this.state.initialDefaultPreferredServerIdentifier&&n&&this.setState({initialDefaultPreferredServerIdentifier:n}),nGe(a,i)&&r({machineIdentifier:n})}}render(){var{isPending:e,preferredServerIdentifiers:t,serverIdentifiers:a,onSavePreferredServer:i}=this.props,{step:r}=this.state,n=a.length<2;return e||nGe(t,a)?sGe:Uu()(rh,{className:iGe.a.container},void 0,1!==r||n?Uu()(qWe,{steps:n?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):Uu()(tGe,{preferredServerIdentifiers:t,serverIdentifiers:a,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:i}))}};var lGe={onChangeBackground:gQ,onResetBackground:fQ,onSavePreferredServer:yA,onEndFirstRunExperience:NA,onResetCustomization:rL},cGe=Object(Fu.b)((function(){return Object(_u.a)(H7,RQe,kQe,(e,t,a)=>({isPending:!e,preferredServerIdentifiers:t?a.find(e=>e.machineIdentifier===t):void 0,serverIdentifiers:a}))}),lGe)(oGe),dGe=Uu()(zh,{},void 0,Uu()(cGe,{})),uGe=Hu.extend({onBeforeRender(){Hu.prototype.onBeforeRender.call(this,arguments),ie.c("appModel").set("isFirstRun",!0)},onClose(){Hu.prototype.onClose.call(this,arguments),ie.c("appModel").set("isFirstRun",!1)},component:e=>dGe}),{Component:pGe}=Ed.a;class hGe extends pGe{constructor(e,t){super(e,t),this.metricsContext=e.metricsContext}getChildContext(){return{metricsContext:this.metricsContext}}render(){return this.props.children?Ed.a.Children.only(this.props.children):null}}hGe.childContextTypes={metricsContext:Oc.a.string};var mGe,vGe=hGe,gGe=Object(_u.a)(Nv.a,e=>e.autoHomeHubsEnabled);!function(e){e.Auto="auto",e.Custom="custom"}(mGe||(mGe={}));var yGe=Ed.a.createElement,fGe=Uu()(mh,{}),bGe=e=>yGe(vp,tp()({icon:fGe},e)),IGe=({children:e})=>Uu()(bGe,{title:Object(Ze.default)("Something went wrong"),description:Object(Ze.default)("An unexpected error occurred.")},void 0,e),{Component:SGe,Fragment:MGe}=Ed.a,CGe=Uu()(IGe,{});var DGe,PGe,OGe,jGe,TGe,wGe,EGe=class extends SGe{static getDerivedStateFromError(){return{hasError:!0}}constructor(e,t){super(e,t),this.state={hasError:!1}}componentDidCatch(e,t){O.a.error(e),ee.capture(e,{extra:t})}render(){return this.state.hasError?CGe:Uu()(MGe,{},void 0,this.props.children)}},NGe=a("/R4L"),xGe=a.n(NGe),AGe=Ed.a.createElement,{useEffect:LGe}=Ed.a,kGe=e=>{var{className:t=xGe.a.pageScroller,allowBackgroundPreset:a=!0,allowBackgroundLightPreset:i=!1,onScrollPositionChange:r}=e,n=Je()(e,["className","allowBackgroundPreset","allowBackgroundLightPreset","onScrollPositionChange"]),s=Object(Fu.c)(),{scrollRestoreProps:o}=xO({key:"Page",shouldRestoreImmediately:!0,onScrollPositionChange:r});return LGe(()=>(a&&s(gQ({allowLightPreset:i})),()=>{s(fQ()),s(Object(Wi.k)())}),[i,a,s]),Uu()(EGe,{},void 0,AGe(up,tp()({},n,o,{className:t})))},RGe=a("/IMa"),zGe=a.n(RGe),UGe=Ed.a.createElement,VGe=e=>{var{forwardedRef:t,className:a=zGe.a.pageContentScroller,onScrollPositionChange:i}=e,r=Je()(e,["forwardedRef","className","onScrollPositionChange"]),{scrollRestoreProps:n}=xO({key:"PageContent",shouldRestoreImmediately:!0,onScrollPositionChange:i});return UGe(up,tp()({ref:t},r,n,{className:a}))},BGe=Ed.a.forwardRef((e,t)=>UGe(VGe,tp()({},e,{forwardedRef:t}))),FGe=Object(_u.a)(N2,e=>!e.isFullUser),HGe=Object(_u.a)(N2,e=>e.services);!function(e){e.Download="download",e.LiveTV="livetv",e.Stream="stream"}(DGe||(DGe={})),function(e){e.Action="action",e.Actions="actions",e.Content="content",e.Grid="grid",e.ImageTranscoder="imagetranscoder",e.Integrations="integrations",e.Lineups="lineups",e.Location="location",e.Manage="manage",e.Match="match",e.Metadata="metadata",e.Playlist="playlist",e.PlayQueue="playqueue",e.Promoted="promoted",e.Rate="rate",e.Search="search",e.Settings="settings",e.Subscribe="subscribe",e.Timeline="timeline",e.Universal="universal"}(PGe||(PGe={})),function(e){e.Download="download",e.Record="record",e.Universal="universal"}(OGe||(OGe={})),function(e){e.Scrobble="scrobble",e.Save="save",e.Pick="pick",e.AddToCatalog="addToCatalog",e.AddToWatchlist="addToWatchlist",e.Follow="follow",e.Mute="mute",e.Rate="rate"}(jGe||(jGe={})),function(e){e.Hub="hub",e.List="list",e.View="view"}(TGe||(TGe={})),function(e){e.RecordingSchedule="view://dvr/recording-schedule",e.Guide="view://dvr/guide",e.Timeline="view://photo/timeline",e.SharedItems="view://shared-items"}(wGe||(wGe={}));var _Ge=Object(_u.a)(N2,e=>e.providers),QGe=Object(_u.a)(_Ge,pv,(e,t)=>e.map(e=>t[e])),WGe=Object(_u.a)(Cv,QGe,(e,t)=>e.some(e=>!e.isCloud&&!e.isUnauthorized)||t.some(e=>e.features.find(e=>e.type===PGe.Content))),GGe=Object(_u.a)(Ny,e=>e.home),YGe=Object(_u.a)(xv("sidebarSettings"),e=>e),KGe=Object(_u.a)(YGe,e=>e.pinnedSources),qGe=Object(_u.a)(KGe,e=>e.filter(e=>!e.isHidden)),ZGe=Object(_u.a)(qGe,Cv,pv,(e,t,a)=>e.reduce((e,i)=>{var{machineIdentifier:r,providerIdentifier:n,directoryID:s}=i,o=Object(an.a)({serverIdentifier:r,providerIdentifier:n}),l=e.findIndex(e=>e.source===o);if(l>=0){var c=e[l];e[l]=Object.assign({},c,{contentDirectoryID:[...c.contentDirectoryID,s]})}else{var d=t.find(e=>e.machineIdentifier===r),u=d?Ia({identifier:n,serverEntityID:d.entityID}):void 0,p=u?a[u]:void 0,h={source:o,server:d,provider:p,contentDirectoryID:[s]};e.push(h)}return e},[])),XGe={source:"",isPending:!1,isSourceReady:!1,isSourceMissing:!1,isSourceUnavailable:!1,isSourceError:!1,isListPending:!1,isListPopulated:!1,isListEmpty:!1,isListError:!1},JGe=Object(_u.a)(e=>e.isWaitingForServers,e=>e.user.isProvidersPopulated,e=>e.user.providersError,GGe,ZGe,(e,t,a,i,r)=>r.map(({source:r,server:n,provider:s})=>{if(!n)return Object.assign({},XGe,{source:r,isPending:e,isSourceMissing:!0});var o=Object.assign({},XGe,{source:r,isSourceUnavailable:n.isUnavailable,isSourceError:n.isUnauthorized||!!(null==s?void 0:s.error)});if(s){o.isSourceReady=n.isConnected&&s.isPopulated;var l=i.hubsListsBySource[r];l?(o.contentDirectoryID=l.contentDirectoryID,o.isPending=o.isSourceReady&&!l.isPopulated&&!l.error,o.isListPending=l.isPending,o.isListPopulated=l.isPopulated,o.isListError=!!l.error,o.isListEmpty=l.isPopulated&&(!l.hubs.length||l.hubs.every(e=>!e.initialSize&&!e.more))):o.isPending=!o.isSourceUnavailable&&!o.isSourceError}else o.isSourceMissing=!0,n.isConnected?o.isPending=!!n.isCloud&&(!t&&!a):o.isPending=!n.isUnavailable&&!n.isUnauthorized;return o})),$Ge=Object(_u.a)(JGe,e=>{for(var t=[],a=0;e[a];){var i=e[a];if(i.isPending)break;i.isListPopulated&&!i.isListEmpty&&t.push(i.source),a++}return t}),eYe=LS($Ge,e=>e),tYe=Object(_u.a)(GGe,e=>e.lastFetchedAt),aYe=e=>e.ui.watchTogether.rooms.length>0,iYe=e=>e.ui.watchTogether.isRoomsPending;var{createContext:rYe,useContext:nYe,useMemo:sYe}=Ed.a,oYe=rYe({containerServer:gv,containerProvider:vv,containerSourceURI:"",containerKey:"",containerType:Cr.Mixed});function lYe(){return nYe(oYe)}var cYe=({children:e,containerServer:t,containerProvider:a,containerSourceURI:i,containerKey:r,containerType:n,containerSubtype:s,containerDisplayFields:o,listStyle:l})=>{var c=sYe(()=>{var e=r;if(!e){var{metadataItemKey:c,parameters:d}=Object(Bn.a)(i);e=_.join(c,d)}return{containerServer:t,containerProvider:a,containerSourceURI:i,containerKey:e,containerType:n,containerSubtype:s,containerDisplayFields:o,listStyle:l}},[r,a,t,i,s,n,o,l]);return(Uu()(oYe.Provider,{value:c},void 0,e))},{Fragment:dYe,useEffect:uYe,useMemo:pYe}=Ed.a,hYe=({children:e,metadataItem:t,metadataItemState:a})=>{var i=Object(Fu.c)(),{containerServer:r,containerProvider:n,containerSourceURI:s,containerKey:o}=lYe(),l=t?t.source:null,c=pYe(()=>l?Object(Bn.a)(l):null,[l]),d=!!c&&(c.serverIdentifier!==r.machineIdentifier||c.providerIdentifier!==n.identifier);return uYe(()=>{(a.isStale||a.isDeleted)&&i(gn.actions.throttledRepopulateRangeRequested({server:r,provider:n,sourceURI:s,key:o}))},[n,r,s,o,i,a.isDeleted,a.isStale]),d?Uu()(Ev,{machineIdentifier:c.serverIdentifier,providerIdentifier:c.providerIdentifier},void 0,e):Uu()(dYe,{},void 0,e)},mYe=a("jlmP"),vYe=a.n(mYe),gYe=Ed.a.createElement,yYe=({forwardedRef:e,className:t=vYe.a.card,style:a,children:i})=>gYe("div",{className:t,style:a,ref:e},i),fYe=Ed.a.forwardRef((e,t)=>gYe(yYe,tp()({},e,{forwardedRef:t}))),bYe=a("nAMV"),IYe=a.n(bYe),SYe=({className:e=IYe.a.placeholder,style:t,index:a})=>Uu()(fYe,{className:e,style:Object.assign({animationDelay:a%12*200+"ms"},t)}),MYe=Object(_u.a)(Ub,e=>e.metadataItemState);var CYe=function(e){return Object(_u.a)(MYe,t=>{var a;return e&&null!=(a=t[e])?a:{tempState:{}}})},{useMemo:DYe}=Ed.a;function PYe(e){var t=DYe(()=>CYe(e),[e]);return Object(Fu.d)(t)}var OYe=function(e){return Object(_u.a)(Ub,t=>e&&t.metadataTimelineState[e]||{})},{useMemo:jYe}=Ed.a;function TYe(e){var t=jYe(()=>OYe(e),[e]);return Object(Fu.d)(t)}function wYe(e,t,a){var i=null==a?void 0:a.listStyle;if(i)switch(i){case Dr.Hero:return 16/9;case Dr.Grid:case Dr.Shelf:if(e===Cr.Channels)return 1;switch(t){case Ar.Webshow:switch(e){case Nr.Episode:return 16/9}break;case Ar.Podcast:switch(e){case Nr.Episode:return 1}}switch(e){case Nr.Episode:return 1/1.5}}switch(t){case Ar.Podcast:case Ar.Webshow:switch(e){case Nr.Show:return 1;case Nr.Episode:return 16/9}}switch(e){case Nr.Movie:case Nr.Show:case Nr.Season:return 1/1.5;case Nr.Episode:return 16/9;case Nr.Artist:case Nr.Album:case Nr.Track:case Nr.Person:case Nr.Photo:case Nr.PhotoAlbum:case Nr.Playlist:return 1;case Nr.Clip:return 16/9;case Nr.Collection:return 1/1.5;case Cr.Directory:return 16/9;case Cr.Content:case Cr.Channel:case Cr.Folder:case Cr.Station:case Nr.Hub:case Nr.List:return 1;case Nr.Game:case Cr.Mixed:return 1/1.5;default:return 16/9}}function EYe(e){var{width:t,height:a,aspectRatio:i}=e;if(t)return{width:t,height:Math.floor(t/i)};if(a)return{width:Math.floor(a*i),height:a};throw new Error("`getMetadataPosterDimensions` requires either a `width` or `height`")}var NYe=function(e,t){var[a,i]=wv(),{metricsContextTuple:r}=Object(_b.d)();if(!(a===gv||i===vv||"key"===t&&(e.skipDetails||e.type===Nr.Track&&e.subtype!==Ar.Podcast||e.type===Nr.Photo||e.subtype===Ar.Photo||e.isExtra||e.isLiveTVChannel||e.radio)))return lu(a,i,e[t],{context:Object(_b.b)(r)},e.playlistType)},xYe=({className:e,tabIndex:t,allowLink:a=!0,metadataItem:i})=>{var r=NYe(i,"key");return i.title?a&&r?Uu()(qv,{className:e,tabIndex:t,title:i.title,to:r},void 0,i.title):Uu()("span",{className:e,title:i.title},void 0,i.title):null},{useEffect:AYe,useState:LYe}=Ed.a;function kYe(e){return null!=e?Object(vle.default)(Object(Xc.a)(e)):""}var RYe=({className:e,timestamp:t})=>{var a=LYe(Nj(t)),i=a[1],r=a[0];return AYe(()=>{if(null!=t){var e=function(e,t){var a=Math.abs(Date.now()-1e3*e);return a<36e5?window.setTimeout(t,6e4):a<864e5?window.setTimeout(t,36e5):window.setTimeout(t,864e5)}(t,()=>{i(Nj(t))});return()=>{window.clearTimeout(e)}}},[t]),r?Uu()("span",{className:e,title:kYe(t)},void 0,r):null},zYe=({className:e,metadataItem:t})=>{var{addedAt:a}=t;return(Uu()(RYe,{className:e,timestamp:a}))};function UYe({now:e=Date.now(),beginsAt:t,endsAt:a,channel:i,showFullTime:r,timeFormat:n}){if(!t)return Object(Ze.default)("No upcoming airings");if(SIe(t,a)){var s=a-e/1e3;return s<=60?Object(Ze.default)("About to end"):Km(s)}if(Rbe(t)&&zbe(t,{minutes:60})){var o=1e3*t-e;if(o<=6e4)return i?Object(Ze.default)("Starting now on {channel}",{channel:i}):Object(Ze.default)("Starting now");var l=Ym(o);return i?Object(Ze.default)("Starting in {duration} on {channel}",{duration:l,channel:i}):Object(Ze.default)("Starting in {duration}",{duration:l})}return(r?bIe:IIe)(t,i,{timeFormat:n})}var VYe,BYe=a("xweI"),FYe=a.n(BYe);function HYe(e){if("now"===e)return{};var t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){var[,a,i]=t;if(function(e){if(!(e in VYe))throw Error("Unknown unit: "+e)}(i),a&&i)return{[VYe[i]]:parseInt(a,10)}}else{var r=parseInt(e,10);if("number"==typeof r)return r}return{}}function _Ye(e,t){return"object"==typeof t?Rbe(e,t):e>=t}function QYe(e,t){return"object"==typeof t?zbe(e,t):e<=t}function WYe(e,t){for(var a=function(e){if(e){var[,t]=e.split("?");return t?Se.a.parseQueryString(t):void 0}}(t),i=FYe()(e.Media,"endsAt"),r=Date.now()/1e3,n=0,s=i.length;n<s;n++){var o=i[n];if(a){var l=a["beginsAt>"],c=a["beginsAt<"],d=a["endsAt>"],u=a["endsAt<"];if(l&&o.beginsAt){var p=HYe(l);if(QYe(o.beginsAt,p))continue}if(c&&o.beginsAt){var h=HYe(c);if(_Ye(o.beginsAt,h))continue}if(d&&o.endsAt){var m=HYe(d);if(QYe(o.endsAt,m))continue}if(u&&o.endsAt){var v=HYe(u);if(_Ye(o.endsAt,v))continue}}if(o.endsAt&&o.endsAt>r)return o}return i[0]}!function(e){e.s="seconds",e.m="minutes",e.h="hours",e.d="days",e.w="weeks",e.M="months",e.y="years"}(VYe||(VYe={}));var{useEffect:GYe,useState:YYe}=Ed.a;function KYe(e=60){var t=1e3*e,a=YYe(Date.now()),i=a[1],r=a[0];return GYe(()=>{var e=window.setTimeout(()=>{i(Date.now())},t-r%t);return()=>{window.clearTimeout(e)}},[r,t]),r}var qYe=({className:e,metadataItem:t})=>{var a=Object(Fu.d)(xv("timeFormat")),i=KYe(),r=WYe(t),{beginsAt:n,endsAt:s}=null!=r?r:{},o=null!=n&&null!=s?UYe({now:i,beginsAt:n,endsAt:s,timeFormat:a}):null;return o?Uu()("span",{className:e,title:o},void 0,o):null},ZYe=a("HY9I"),XYe=a.n(ZYe),{Fragment:JYe}=Ed.a,$Ye=({className:e,tabIndex:t,allowLink:a=!0,metadataItem:i})=>{var r=NYe(i,"key");if(!i.title)return null;var n=Uu()(JYe,{},void 0,i.attribution?Uu()(nS,{className:XYe.a.badge,attribution:i.attribution}):null,i.title);return a&&r?Uu()(qv,{className:e,tabIndex:t,title:i.title,to:r},void 0,n):Uu()("span",{className:e,title:i.title},void 0,n)},eKe=a("056+"),tKe=a.n(eKe),aKe=({className:e,metadataItem:t})=>t.attributionLogo?Uu()("span",{className:e},void 0,Uu()("img",{className:tKe.a.img,src:t.attributionLogo})):null,iKe=({className:e,metadataItem:t})=>{var{originallyAvailableAt:a}=t;return a?Uu()("span",{className:e},void 0,Object(vle.default)(a)):null};function rKe(e,t){switch(t){case Ar.Photo:switch(e){case Nr.Clip:return kr.Photo}break;case Ar.Podcast:switch(e){case Nr.Show:return kr.Audio}}switch(e){case Nr.Movie:case Nr.Show:case Nr.Season:case Nr.Episode:case Nr.Clip:return kr.Video;case Nr.Artist:case Nr.Album:case Nr.Track:return kr.Audio;case Nr.PhotoAlbum:case Nr.Photo:return kr.Photo;case Nr.Game:return kr.Rom;case Nr.Collection:switch(t){case Ar.Movie:case Ar.Show:return kr.Video;case Ar.Artist:case Ar.Album:return kr.Audio}}!function(e){throw new Error('"'+e+'" is not mapped to a media type')}(e)}var nKe=({className:e,metadataItem:t})=>{var a,i=rKe(t.type,t.subtype),r=null==(a=t.Media)?void 0:a[0];return null==(null==r?void 0:r.bitrate)?null:Uu()("span",{className:e},void 0,i===kr.Video?Object(Are.default)(r.bitrate):Object(PSe.a)(r.bitrate))},sKe=({className:e,metadataItem:t})=>{if(null==t.addedAt&&!t.Channel.length)return null;var a=t.Channel[0].tag;return(Uu()("span",{className:e},void 0,Uu()(RYe,{timestamp:t.addedAt}),null!=t.addedAt&&a?"  ":null,Uu()("span",{title:a},void 0,a)))},oKe=({className:e,metadataItem:t})=>{var a=t.leafCount;if(null==a)return null;switch(t.type){case Nr.Show:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{episodeCount} episode",{episodeCount:a}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:a}));case Nr.Artist:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{trackCount} track",{trackCount:a}):Object(Ze.default)("{trackCount} tracks",{trackCount:a}))}return(Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{itemCount} item",{itemCount:a}):Object(Ze.default)("{itemCount} items",{itemCount:a})))},lKe=({className:e,metadataItem:t})=>{if(t.skipChildren)return Uu()(oKe,{className:e,metadataItem:t});var a=t.childCount;if(null==a)return null;switch(t.type){case Nr.Show:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{seasonCount} season",{seasonCount:a}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:a}));case Nr.Season:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{episodeCount} episode",{episodeCount:a}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:a}));case Nr.Artist:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{albumCount} album",{albumCount:a}):Object(Ze.default)("{albumCount} albums",{albumCount:a}));case Nr.Album:return Uu()("span",{className:e},void 0,1===a?Object(Ze.default)("{trackCount} track",{trackCount:a}):Object(Ze.default)("{trackCount} tracks",{trackCount:a}))}return(Uu()("span",{className:e},void 0,1===t.childCount?Object(Ze.default)("{itemCount} item",{itemCount:a}):Object(Ze.default)("{itemCount} items",{itemCount:a})))},cKe=({className:e,metadataItem:t})=>{if(null==t.childCount)return null;var a,i=1===t.childCount,r={itemCount:t.childCount};return a=t.subtype===Ar.Movie?i?Object(Ze.default)("{itemCount} movie",r):Object(Ze.default)("{itemCount} movies",r):t.subtype===Ar.Show?i?Object(Ze.default)("{itemCount} show",r):Object(Ze.default)("{itemCount} shows",r):i?Object(Ze.default)("{itemCount} item",r):Object(Ze.default)("{itemCount} items",r),Uu()("span",{className:e},void 0,a)},dKe=({className:e,metadataItem:t})=>null==t.contentRating?null:Uu()("span",{className:e},void 0,TSe(t.contentRating)),uKe=({className:e,metadataItem:t})=>{var{rating:a,ratingImage:i,audienceRating:r,audienceRatingImage:n}=t;return a||r?Uu()("span",{className:e},void 0,Uu()(USe,{rating:a,ratingImage:i,audienceRating:r,audienceRatingImage:n})):null},pKe=({className:e,metadataItem:t})=>null==t.duration?null:Uu()("span",{className:e},void 0,Ym(t.duration)),hKe=({className:e,metadataItem:t})=>null==t.leafCount?null:Uu()("span",{className:e},void 0,1===t.leafCount?Object(Ze.default)("{episodeCount} episode",{episodeCount:t.leafCount}):Object(Ze.default)("{episodeCount} episodes",{episodeCount:t.leafCount})),mKe=({className:e,tabIndex:t,metadataItem:a})=>{var i=NYe(a,"key"),r=KIe({useLongName:!0,episodeIndex:a.index,date:a.originallyAvailableAt,noLeadingZero:!0});return Uu()("span",{className:e},void 0,i?Uu()(qv,{tabIndex:t,title:a.title,to:i},void 0,r):Uu()("span",{title:a.title},void 0,r))},vKe=({className:e,metadataItem:t})=>{var{sourceTitle:a}=t;return a?Uu()("span",{className:e,title:a},void 0,Object(Ze.default)("from {sourceTitle}",{sourceTitle:a})):null};var gKe=({className:e,metadataItem:t})=>{var a=function(e){switch(e){case Ar.Trailer:return Object(Ze.default)("Trailer");case Ar.DeletedScene:return Object(Ze.default)("Deleted Scene");case Ar.Interview:return Object(Ze.default)("Interview");case Ar.MusicVideo:return Object(Ze.default)("Music Video");case Ar.BehindTheScenes:return Object(Ze.default)("Behind the Scenes");case Ar.SceneOrSample:return Object(Ze.default)("Scene");case Ar.LiveMusicVideo:return Object(Ze.default)("Live Music Video");case Ar.LyricMusicVideo:return Object(Ze.default)("Lyric Music Video");case Ar.Concert:return Object(Ze.default)("Concert");case Ar.Featurette:return Object(Ze.default)("Featurette");case Ar.Short:return Object(Ze.default)("Short");case Ar.Other:return Object(Ze.default)("Other")}}(t.subtype);return a?Uu()("span",{className:e,title:a},void 0,a):null},yKe=({className:e,tabIndex:t,allowLink:a=!0,metadataItem:i})=>{var r=NYe(i,"grandparentKey");return i.grandparentTitle?a&&r?Uu()(qv,{className:e,tabIndex:t,title:i.grandparentTitle,to:r},void 0,i.grandparentTitle):Uu()("span",{className:e,title:i.grandparentTitle},void 0,i.grandparentTitle):null},fKe=({className:e,tabIndex:t,allowLink:a,metadataItem:i})=>null!=i.addedAt||i.grandparentTitle?Uu()("span",{className:e},void 0,Uu()(RYe,{timestamp:i.addedAt}),null!=i.addedAt&&i.grandparentTitle?"  ":null,Uu()(yKe,{tabIndex:t,allowLink:a,metadataItem:i})):null,bKe=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI),{lastRatedAt:i}=a;return Uu()(RYe,{className:e,timestamp:i})},IKe=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI),{lastViewedAt:i}=a;return i?Uu()(RYe,{className:e,timestamp:i}):Uu()("span",{className:e},void 0,Object(Ze.default)("Unplayed"))},SKe=({className:e,tabIndex:t,allowLink:a=!0,metadataItem:i})=>{var r=NYe(i,"parentKey");return i.parentTitle?a&&r?Uu()(qv,{className:e,tabIndex:t,title:i.parentTitle,to:r},void 0,i.parentTitle):Uu()("span",{className:e,title:i.parentTitle},void 0,i.parentTitle):null},MKe=({className:e,metadataItem:t})=>{var a,i=null!=(a=PYe(t.sourceURI).viewCount)?a:0;return Uu()("span",{className:e},void 0,1===i?Object(Ze.default)("{playCount} play",{playCount:i}):Object(Ze.default)("{playCount} plays",{playCount:i}))},CKe=({className:e,metadataItem:t})=>null==t.leafCount?null:Uu()("span",{className:e},void 0,1===t.leafCount?Object(Ze.default)("{itemCount} item",{itemCount:t.leafCount}):Object(Ze.default)("{itemCount} items",{itemCount:t.leafCount})),DKe=({className:e,metadataItem:t})=>t.playlistType===X8.b?Uu()(CKe,{className:e,metadataItem:t}):Uu()(pKe,{className:e,metadataItem:t}),PKe=({className:e,metadataItem:t})=>t.skipChildren?Uu()(hKe,{className:e,metadataItem:t}):null==t.childCount?null:Uu()("span",{className:e},void 0,1===t.childCount?Object(Ze.default)("{seasonCount} season",{seasonCount:t.childCount}):Object(Ze.default)("{seasonCount} seasons",{seasonCount:t.childCount})),OKe=Uu()($y,{separator:""}),jKe=Uu()($y,{separator:""}),TKe=({className:e,tabIndex:t,allowLink:a=!0,metadataItem:i})=>{var r=NYe(i,"key"),n=NYe(i,"parentKey"),s=JIe({seasonIndex:i.parentIndex,noLeadingZero:!0}),o=KIe({episodeIndex:i.index,date:i.originallyAvailableAt,noLeadingZero:!0});return a&&r&&n?Uu()("span",{className:e},void 0,i.index&&s?Uu()(qv,{tabIndex:t,title:i.parentTitle,to:n},void 0,s):null,i.index&&s?jKe:null,Uu()(qv,{tabIndex:t,title:i.title,to:r},void 0,o)):Uu()("span",{className:e},void 0,i.index&&s?Uu()("span",{title:i.parentTitle},void 0,s):null,i.index&&s?OKe:null,Uu()("span",{title:i.title},void 0,o))},wKe=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI).unviewedLeafCount;return null==a?null:Uu()("span",{className:e},void 0,Object(Ze.default)("{unplayedCount} unplayed",{unplayedCount:a}))},{useCallback:EKe}=Ed.a;function NKe(e){var{metricsPage:t,metricsContextTuple:a}=Object(_b.d)();return EKe(i=>{var r=Object.assign({page:t},a,e,i);Object(ie.c)("metrics").trackClick(r)},[JSON.stringify(e),a,t])}function xKe(e){var[,t]=wv();return NKe({identifier:t.metricsIdentifier,type:e.type})}var{useCallback:AKe}=Ed.a,LKe=({className:e,metadataItem:t})=>{var a,i=Object(Fu.c)(),[r,n]=wv(),s=PYe(t.sourceURI),o=xKe(t),l=AKe(e=>{var a=0===e?-1:2*e;o({action:kd.U,value:a}),i(yn.actions.rateRequested({server:r,provider:n,sourceURI:t.sourceURI,ratingKey:t.ratingKey,rating:a}))},[i,t.ratingKey,t.sourceURI,n,r,o]),c=(null!=(a=s.userRating)?a:0)/2;return Uu()("div",{className:e},void 0,Uu()(vMe,{value:c,onRatingChange:l}))},kKe=({className:e,metadataItem:t})=>{var a,i=null==(a=t.Media)?void 0:a[0];return null==i.videoResolution?null:Uu()("span",{className:e},void 0,Object(zM.default)(i.videoResolution))},RKe=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI);return null==t.duration||null==a.viewOffset?null:Uu()("span",{className:e},void 0,Object(Ze.default)("{timeRemaining} left",{timeRemaining:Ym(t.duration-a.viewOffset)}))},zKe=({className:e,metadataItem:t})=>t.year?Uu()("span",{className:e},void 0,t.year):null,UKe=({className:e,displayFieldName:t})=>null,VKe=Ed.a.createElement;function BKe(e){switch(e){case Er.AddedAt:return zYe;case Er.AddedAtChannelTag:return sKe;case Er.AddedAtGrandparentTitle:return fKe;case Er.AirsAt:return qYe;case Er.AttributionLogo:return aKe;case Er.ChildCount:return lKe;case Er.ContentRating:return dKe;case Er.Duration:return pKe;case Er.EpisodeIdentifier:return TKe;case Er.GrandparentTitle:return yKe;case Er.LastRatedAt:return bKe;case Er.LastViewedAt:return IKe;case Er.LeafCount:return oKe;case Er.MediaBitrate:return nKe;case Er.VideoResolution:return kKe;case Er.OriginallyAvailableAt:return iKe;case Er.ParentTitle:return SKe;case Er.Rating:return uKe;case Er.SourceTitle:return vKe;case Er.Title:return xYe;case Er.TitleAttributed:return $Ye;case Er.UnviewedLeafCount:return wKe;case Er.UserRating:return LKe;case Er.ViewCount:return MKe;case Er.ViewOffset:return RKe;case Er.Year:return zKe;default:return function(e){return t=>VKe(UKe,tp()({},t,{displayFieldName:e}))}(e)}}function FKe(e,t,a){var i=null==a?void 0:a.displayFieldNames;if(i)return i.map(BKe);var r=null==a?void 0:a.listStyle;if(e===Cr.Mixed)return[null,null,null];switch(r){case Dr.PrePlayGrid:switch(e){case Nr.Season:return[xYe,hKe];case Nr.Episode:return[xYe,mKe];case Nr.Album:return[$Ye,zKe]}}switch(t){case Ar.News:switch(e){case Nr.Clip:return[{component:xYe,isDoubleLine:!0},sKe]}break;case Ar.Podcast:switch(e){case Nr.Show:return[{component:xYe,isDoubleLine:!0}];case Nr.Track:return[{component:xYe,isDoubleLine:!0},yKe]}break;case Ar.Webshow:switch(e){case Nr.Show:return[xYe];case Nr.Episode:return[{component:xYe,isDoubleLine:!0},fKe]}break;case Ar.Trailer:case Ar.DeletedScene:case Ar.Interview:case Ar.MusicVideo:case Ar.BehindTheScenes:case Ar.SceneOrSample:case Ar.LiveMusicVideo:case Ar.LyricMusicVideo:case Ar.Concert:case Ar.Featurette:case Ar.Short:case Ar.Other:switch(e){case Nr.Clip:return[xYe,gKe]}}switch(e){case Nr.Movie:return[xYe,zKe];case Nr.Show:return[xYe,PKe];case Nr.Season:return[SKe,xYe];case Nr.Episode:return[yKe,xYe,TKe];case Nr.Artist:return[xYe];case Nr.Album:return[SKe,xYe];case Nr.Track:return[yKe,xYe];case Nr.Photo:return[{component:xYe}];case Nr.PhotoAlbum:case Nr.Clip:return[xYe];case Nr.Playlist:return[xYe,DKe];case Nr.Collection:return[xYe,cKe];case Nr.Directory:case Nr.Channel:case Cr.Content:return[];case Cr.Channels:return[xYe,qYe]}return[{component:xYe,allowLink:!1}]}var HKe,_Ke=Object(_u.a)(Ny,e=>e.metadataMultiselect);!function(e){e.Unidentified="Unidentified",e.Alt="Alt",e.AltGraph="AltGraph",e.CapsLock="CapsLock",e.Control="Control",e.Fn="Fn",e.FnLock="FnLock",e.Hyper="Hyper",e.Meta="Meta",e.NumLock="NumLock",e.ScrollLock="ScrollLock",e.Shift="Shift",e.Super="Super",e.Symbol="Symbol",e.SymbolLock="SymbolLock",e.Enter="Enter",e.Tab="Tab",e.ArrowDown="ArrowDown",e.ArrowLeft="ArrowLeft",e.ArrowRight="ArrowRight",e.ArrowUp="ArrowUp",e.End="End",e.Home="Home",e.PageDown="PageDown",e.PageUp="PageUp",e.Backspace="Backspace",e.Clear="Clear",e.Copy="Copy",e.CrSel="CrSel",e.Cut="Cut",e.Delete="Delete",e.EraseEof="EraseEof",e.ExSel="ExSel",e.Insert="Insert",e.Paste="Paste",e.Redo="Redo",e.Undo="Undo",e.Accept="Accept",e.Again="Again",e.Attn="Attn",e.Cancel="Cancel",e.ContextMenu="ContextMenu",e.Escape="Escape",e.Execute="Execute",e.Find="Find",e.Finish="Finish",e.Help="Help",e.Pause="Pause",e.Play="Play",e.Props="Props",e.Select="Select",e.ZoomIn="ZoomIn",e.ZoomOut="ZoomOut",e.BrightnessDown="BrightnessDown",e.BrightnessUp="BrightnessUp",e.Eject="Eject",e.LogOff="LogOff",e.Power="Power",e.PowerOff="PowerOff",e.PrintScreen="PrintScreen",e.Hibernate="Hibernate",e.Standby="Standby",e.WakeUp="WakeUp",e.AllCandidates="AllCandidates",e.Alphanumeric="Alphanumeric",e.CodeInput="CodeInput",e.Compose="Compose",e.Convert="Convert",e.Dead="Dead",e.FinalMode="FinalMode",e.GroupFirst="GroupFirst",e.GroupLast="GroupLast",e.GroupNext="GroupNext",e.GroupPrevious="GroupPrevious",e.ModeChange="ModeChange",e.NextCandidate="NextCandidate",e.NonConvert="NonConvert",e.PreviousCandidate="PreviousCandidate",e.Process="Process",e.SingleCandidate="SingleCandidate",e.HangulMode="HangulMode",e.HanjaMode="HanjaMode",e.JunjaMode="JunjaMode",e.Eisu="Eisu",e.Hankaku="Hankaku",e.Hiragana="Hiragana",e.HiraganaKatakana="HiraganaKatakana",e.KanaMode="KanaMode",e.KanjiMode="KanjiMode",e.Katakana="Katakana",e.Romaji="Romaji",e.Zenkaku="Zenkaku",e.ZenkakuHanaku="ZenkakuHanaku",e.F1="F1",e.F2="F2",e.F3="F3",e.F4="F4",e.F5="F5",e.F6="F6",e.F7="F7",e.F8="F8",e.F9="F9",e.F10="F10",e.F11="F11",e.F12="F12",e.F13="F13",e.F14="F14",e.F15="F15",e.F16="F16",e.F17="F17",e.F18="F18",e.F19="F19",e.F20="F20",e.Soft1="Soft1",e.Soft2="Soft2",e.Soft3="Soft3",e.Soft4="Soft4",e.AppSwitch="AppSwitch",e.Call="Call",e.Camera="Camera",e.CameraFocus="CameraFocus",e.EndCall="EndCall",e.GoBack="GoBack",e.GoHome="GoHome",e.HeadsetHook="HeadsetHook",e.LastNumberRedial="LastNumberRedial",e.Notification="Notification",e.MannerMode="MannerMode",e.VoiceDial="VoiceDial",e.ChannelDown="ChannelDown",e.ChannelUp="ChannelUp",e.MediaFastForward="MediaFastForward",e.MediaPause="MediaPause",e.MediaPlay="MediaPlay",e.MediaPlayPause="MediaPlayPause",e.MediaRecord="MediaRecord",e.MediaRewind="MediaRewind",e.MediaStop="MediaStop",e.MediaTrackNext="MediaTrackNext",e.MediaTrackPrevious="MediaTrackPrevious",e.AudioBalanceLeft="AudioBalanceLeft",e.AudioBalanceRight="AudioBalanceRight",e.AudioBassDown="AudioBassDown",e.AudioBassBoostDown="AudioBassBoostDown",e.AudioBassBoostToggle="AudioBassBoostToggle",e.AudioBassBoostUp="AudioBassBoostUp",e.AudioBassUp="AudioBassUp",e.AudioFaderFront="AudioFaderFront",e.AudioFaderRear="AudioFaderRear",e.AudioSurroundModeNext="AudioSurroundModeNext",e.AudioTrebleDown="AudioTrebleDown",e.AudioTrebleUp="AudioTrebleUp",e.AudioVolumeDown="AudioVolumeDown",e.AudioVolumeMute="AudioVolumeMute",e.AudioVolumeUp="AudioVolumeUp",e.MicrophoneToggle="MicrophoneToggle",e.MicrophoneVolumeDown="MicrophoneVolumeDown",e.MicrophoneVolumeMute="MicrophoneVolumeMute",e.MicrophoneVolumeUp="MicrophoneVolumeUp",e.TV="TV",e.TV3DMode="TV3DMode",e.TVAntennaCable="TVAntennaCable",e.TVAudioDescription="TVAudioDescription",e.TVAudioDescriptionMixDown="TVAudioDescriptionMixDown",e.TVAudioDescriptionMixUp="TVAudioDescriptionMixUp",e.TVContentsMenu="TVContentsMenu",e.TVDataService="TVDataService",e.TVInput="TVInput",e.TVInputComponent1="TVInputComponent1",e.TVInputComponent2="TVInputComponent2",e.TVInputComposite1="TVInputComposite1",e.TVInputComposite2="TVInputComposite2",e.TVInputHDMI1="TVInputHDMI1",e.TVInputHDMI2="TVInputHDMI2",e.TVInputHDMI3="TVInputHDMI3",e.TVInputHDMI4="TVInputHDMI4",e.TVInputVGA1="TVInputVGA1",e.TVMediaContext="TVMediaContext",e.TVNetwork="TVNetwork",e.TVNumberEntry="TVNumberEntry",e.TVPower="TVPower",e.TVRadioService="TVRadioService",e.TVSatellite="TVSatellite",e.TVSatelliteBS="TVSatelliteBS",e.TVSatelliteCS="TVSatelliteCS",e.TVSatelliteToggle="TVSatelliteToggle",e.TVTerrestrialAnalog="TVTerrestrialAnalog",e.TVTerrestrialDigital="TVTerrestrialDigital",e.TVTimer="TVTimer",e.AVRInput="AVRInput",e.AVRPower="AVRPower",e.ColorF0Red="ColorF0Red",e.ColorF1Green="ColorF1Green",e.ColorF2Yellow="ColorF2Yellow",e.ColorF3Blue="ColorF3Blue",e.ColorF4Grey="ColorF4Grey",e.ColorF5Brown="ColorF5Brown",e.ClosedCaptionToggle="ClosedCaptionToggle",e.Dimmer="Dimmer",e.DisplaySwap="DisplaySwap",e.DVR="DVR",e.Exit="Exit",e.FavoriteClear0="FavoriteClear0",e.FavoriteClear1="FavoriteClear1",e.FavoriteClear2="FavoriteClear2",e.FavoriteClear3="FavoriteClear3",e.FavoriteRecall0="FavoriteRecall0",e.FavoriteRecall1="FavoriteRecall1",e.FavoriteRecall2="FavoriteRecall2",e.FavoriteRecall3="FavoriteRecall3",e.FavoriteStore0="FavoriteStore0",e.FavoriteStore1="FavoriteStore1",e.FavoriteStore2="FavoriteStore2",e.FavoriteStore3="FavoriteStore3",e.Guide="Guide",e.GuideNextDay="GuideNextDay",e.GuidePreviousDay="GuidePreviousDay",e.Info="Info",e.InstantReplay="InstantReplay",e.Link="Link",e.ListProgram="ListProgram",e.LiveContent="LiveContent",e.Lock="Lock",e.MediaApps="MediaApps",e.MediaAudioTrack="MediaAudioTrack",e.MediaLast="MediaLast",e.MediaSkipBackward="MediaSkipBackward",e.MediaSkipForward="MediaSkipForward",e.MediaStepBackward="MediaStepBackward",e.MediaStepForward="MediaStepForward",e.MediaTopMenu="MediaTopMenu",e.NavigateIn="NavigateIn",e.NavigateNext="NavigateNext",e.NavigateOut="NavigateOut",e.NavigatePrevious="NavigatePrevious",e.NextFavoriteChannel="NextFavoriteChannel",e.NextUserProfile="NextUserProfile",e.OnDemand="OnDemand",e.Pairing="Pairing",e.PinPDown="PinPDown",e.PinPMove="PinPMove",e.PinPToggle="PinPToggle",e.PinPUp="PinPUp",e.PlaySpeedDown="PlaySpeedDown",e.PlaySpeedReset="PlaySpeedReset",e.PlaySpeedUp="PlaySpeedUp",e.RandomToggle="RandomToggle",e.RcLowBattery="RcLowBattery",e.RecordSpeedNext="RecordSpeedNext",e.RfBypass="RfBypass",e.ScanChannelsToggle="ScanChannelsToggle",e.ScreenModeNext="ScreenModeNext",e.Settings="Settings",e.SplitScreenToggle="SplitScreenToggle",e.STBInput="STBInput",e.STBPower="STBPower",e.Subtitle="Subtitle",e.Teletext="Teletext",e.VideoModeNext="VideoModeNext",e.Wink="Wink",e.ZoomToggle="ZoomToggle",e.SpeechCorrectionList="SpeechCorrectionList",e.SpeechInputToggle="SpeechInputToggle",e.Close="Close",e.New="New",e.Open="Open",e.Print="Print",e.Save="Save",e.SpellCheck="SpellCheck",e.MailForward="MailForward",e.MailReply="MailReply",e.MailSend="MailSend",e.LaunchCalculator="LaunchCalculator",e.LaunchCalendar="LaunchCalendar",e.LaunchContacts="LaunchContacts",e.LaunchMail="LaunchMail",e.LaunchMediaPlayer="LaunchMediaPlayer",e.LaunchMusicPlayer="LaunchMusicPlayer",e.LaunchMyComputer="LaunchMyComputer",e.LaunchPhone="LaunchPhone",e.LaunchScreenSaver="LaunchScreenSaver",e.LaunchSpreadsheet="LaunchSpreadsheet",e.LaunchWebBrowser="LaunchWebBrowser",e.LaunchWebCam="LaunchWebCam",e.LaunchWordProcessor="LaunchWordProcessor",e.LaunchApplication1="LaunchApplication1",e.LaunchApplication2="LaunchApplication2",e.LaunchApplication3="LaunchApplication3",e.LaunchApplication4="LaunchApplication4",e.LaunchApplication5="LaunchApplication5",e.LaunchApplication6="LaunchApplication6",e.LaunchApplication7="LaunchApplication7",e.LaunchApplication8="LaunchApplication8",e.LaunchApplication9="LaunchApplication9",e.LaunchApplication10="LaunchApplication10",e.LaunchApplication11="LaunchApplication11",e.LaunchApplication12="LaunchApplication12",e.LaunchApplication13="LaunchApplication13",e.LaunchApplication14="LaunchApplication14",e.LaunchApplication15="LaunchApplication15",e.LaunchApplication16="LaunchApplication16",e.BrowserBack="BrowserBack",e.BrowserFavorites="BrowserFavorites",e.BrowserForward="BrowserForward",e.BrowserHome="BrowserHome",e.BrowserRefresh="BrowserRefresh",e.BrowserSearch="BrowserSearch",e.BrowserStop="BrowserStop",e.Decimal="Decimal",e.Key11="Key11",e.Key12="Key12",e.Multiply="Multiply",e.Add="Add",e.Divide="Divide",e.Subtract="Subtract",e.Separator="Separator"}(HKe||(HKe={}));var QKe=HKe,{createContext:WKe,useCallback:GKe,useContext:YKe,useEffect:KKe,useMemo:qKe,useState:ZKe}=Ed.a,XKe={display:"contents "};function JKe(e,t,a){for(var i=[],r=Math.min(t,a);r<=Math.max(t,a);r++)i.push(e[r]);return i}var $Ke=WKe({isSelectionRangeActive:!1,isSelectionRangeComplete:!1,checkItemInRange:()=>!1,onRangeStart:()=>{},onRangeEnd:()=>{},onRangeSelect:()=>{},onRangeClear:()=>{}});var eqe=function({children:e,items:t}){var a=ZKe(),i=a[1],r=a[0],n=ZKe(),s=n[1],o=n[0],l=ZKe(),c=l[1],d=l[0],u=ZKe(!1),p=u[1],h=u[0],m=GKe(e=>{var a=t.indexOf(e);return null!=r&&null!=o&&a>=Math.min(r,o)&&a<=Math.max(r,o)},[t,o,r]),v=GKe(e=>{var a=t.indexOf(e);-1!==a&&(i(a),s(void 0),c(void 0))},[t]),g=GKe(e=>{var a=t.indexOf(e);-1!==a&&null!=r&&JKe(t,r,a).every(e=>e)&&s(a)},[t,r]),y=GKe((e,a)=>{null!=r&&null!=o&&(d&&a(JKe(t,...d)),e(JKe(t,r,o)),c([r,o]))},[t,d,o,r]),f=GKe(()=>{i(void 0),s(void 0),c(void 0)},[]),b=GKe(()=>{s(void 0)},[]);KKe(()=>{function e(e){e.key===QKe.Shift&&p(!0)}function t(e){e.key===QKe.Shift&&(p(!1),s(void 0))}function a(){p(!1),s(void 0)}return document.addEventListener("keydown",e),document.addEventListener("keyup",t),window.addEventListener("blur",a),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t),window.addEventListener("blur",a)}},[]);var I=qKe(()=>({isSelectionRangeActive:h,isSelectionRangeComplete:null!=r&&null!=o,checkItemInRange:m,onRangeStart:v,onRangeEnd:g,onRangeSelect:y,onRangeClear:f}),[m,h,f,g,y,v,o,r]);return(Uu()($Ke.Provider,{value:I},void 0,Uu()("div",{style:XKe,onMouseLeave:b},void 0,e)))},{useCallback:tqe,useEffect:aqe,useMemo:iqe}=Ed.a;function rqe(e,t,a,i,r=!1){var n=Object(Fu.c)(),s=Object(Fu.d)(t),o=iqe(()=>!!i&&!!s.items[i],[i,s.items]),l=!!s.count,{isSelectionRangeActive:c,isSelectionRangeComplete:d,checkItemInRange:u,onRangeStart:p,onRangeEnd:h,onRangeClear:m,onRangeSelect:v}=YKe($Ke),g=tqe(e=>{n(a.selectItems({items:e}))},[a,n]),y=tqe(e=>{n(a.deselectItems({items:e}))},[a,n]),f=tqe(()=>{e&&(d?v(g,y):o?(y([e]),m()):(g([e]),p(e)))},[d,o,e,y,m,v,p,g]);return aqe(()=>{e&&c&&l&&r&&h(e)},[r,c,l,e,h]),{isSelectionActive:l,isSelected:o,isInSelectionRange:c&&u(e),onToggleSelect:f}}var{useEffect:nqe}=Ed.a;function sqe({isHovered:e,metadataItem:t,metadataItemState:a}){var i=Object(Fu.c)(),r=t?Xn.getIdentity(t):void 0,n=rqe(t,_Ke,$n.actions,r,e),s=null==a?void 0:a.isDeleted;return nqe(()=>{t&&s&&n.isSelected&&i($n.actions.deselectItems({items:[t]}))},[t,s,n,i,n.isSelected]),n}var{useCallback:oqe,useState:lqe}=Ed.a;function cqe(){var[e,t]=pS(),a=lqe(!1),i=a[1],r=a[0],n=lqe(!1),s=n[1],o=n[0],l=oqe(()=>{s(!1),i(!0)},[]),c=oqe(()=>{s(!0),i(!1)},[]),d=oqe(()=>{s(!1)},[]),u=oqe(()=>{r?c():l()},[r,c,l]);return{hoverRef:t,isHovered:e,isActionsVisible:e||r||o,actionsMenuButtonID:ny(),isActionsMenuOpen:r,isActionsMenuClosing:o,onActionsMenuOpen:l,onActionsMenuClose:c,onActionsMenuCloseComplete:d,onActionsMenuToggle:u}}function dqe(e){return function(e){var t,a,{type:i,subtype:r,title:n,parentTitle:s,grandparentTitle:o}=e;switch(r){case Ar.News:switch(i){case Nr.Clip:return[n,null==e?void 0:null==(t=e.Channel)?void 0:t[0].tag]}break;case Ar.Podcast:switch(i){case Nr.Track:return[n,o]}break;case Ar.Webshow:switch(i){case Nr.Episode:return[n,o]}}switch(i){case Nr.Movie:return[n,e.year];case Nr.Season:return[s,n];case Nr.Episode:return a={episodeIndex:e.index,date:e.originallyAvailableAt,noLeadingZero:!0,useLongName:!0},[o,Object(ZI.a)(Object.assign({},a,{seasonIndex:e.parentIndex})),n];case Nr.Album:return[s,n];case Nr.Track:return[o,n];default:return[n]}}(e).filter(e=>0===e||e).join(", ")}function uqe(e,t={}){var{aspectRatio:a}=t,{type:i,thumb:r,parentThumb:n,grandparentThumb:s,art:o,parentArt:l,composite:c,liveTVChannel:d}=e;if(d)return d.thumb;switch(a){case 16/9:switch(i){case Nr.Movie:case Nr.Show:return o;case Nr.Season:return o||l;default:return r}case 1/1.5:switch(i){case Nr.Season:return r;case Nr.Episode:return s;default:return r}case 1:switch(i){case Nr.Album:return r;case Nr.Track:return r||n;case Nr.Playlist:return r||c;default:return r}}return r}function pqe(e){var{providerIdentifier:t}=Object(Bn.a)(e.source);return jt.k(t,[jt.c,jt.b])}function hqe(e,t){var{type:a}=e,{viewOffset:i,viewCount:r,viewedLeafCount:n,unviewedLeafCount:s}=t;return!(!(a===Nr.Movie||a===Nr.Show||a===Nr.Season||a===Nr.Episode||a===Nr.Track)||i||!(r&&!n&&!s||n&&!s))}function mqe(e){return jt.k(va(e.identifier,e.providerIdentifier),jt.d)}function vqe(e){return jt.k(va(e.identifier,e.providerIdentifier),jt.i)}var gqe=a("8CTZ"),yqe=a.n(gqe),fqe=({className:e=yqe.a.badge,style:t,iconClassName:a=yqe.a.icon,iconComponent:i})=>Uu()("div",{className:e,style:t},void 0,Uu()(i,{className:a})),bqe=a("VyHN"),Iqe=a.n(bqe),Sqe=({className:e=Iqe.a.multiVersionBadge})=>Uu()(fqe,{className:e,iconComponent:lje}),Mqe=a("OQUr"),Cqe=a.n(Mqe),Dqe=({className:e=Cqe.a.playedBadge})=>Uu()(fqe,{className:e,iconComponent:ey}),Pqe=a("hDAk"),Oqe=a.n(Pqe),jqe=({className:e=Oqe.a.smartPlaylistBadge})=>Uu()(fqe,{className:e,iconComponent:XH});function Tqe(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-in-watchlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Tqe.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var wqe=Tqe,Eqe=a("85+Z"),Nqe=a.n(Eqe),xqe=({className:e=Nqe.a.watchlistBadge})=>Uu()(fqe,{className:e,iconComponent:wqe}),Aqe=a("+71K"),Lqe=a.n(Aqe),{useMemo:kqe}=Ed.a,Rqe=({className:e=Lqe.a.container,width:t,height:a,children:i})=>{var r=kqe(()=>({width:t+"px",height:a+"px",fontSize:Math.max(14,Math.min(Math.round(t/4),42)),lineHeight:a+"px"}),[a,t]);return(Uu()("div",{className:e,style:r},void 0,i))},zqe=a("Dw2a"),Uqe=a.n(zqe),Vqe=Ed.a.createElement,Bqe=e=>{var{className:t=Uqe.a.link,hoverClassName:a=Uqe.a.hoveredLink,isHovered:i}=e,r=Je()(e,["className","hoverClassName","isHovered"]);return(Vqe(qv,tp()({className:i?a:t},r)))};var Fqe=Object(uv.a)((function(e){return Object(_u.a)(kT,t=>!!t[e])})),{useCallback:Hqe}=Ed.a;function _qe({containerServer:e,containerProvider:t,server:a,provider:i,metadataItem:r,metadataItemState:n,metricsPage:s,metricsContextTuple:o}){var l=Object(Fu.c)();return Hqe(c=>{l(jae({server:e,provider:t,itemServer:a,itemProvider:i,metadataItem:r,metadataItemState:n,metricsPage:s,metricsProperties:{contextTuple:o},legacyAction:c}))},[t,e,l,r,n,o,s,i,a])}function Qqe(e,t,a){if(pqe(e)){var i,{beginsAt:r,endsAt:n}=null!=(i=WYe(e))?i:{},s=Math.floor(Date.now()/1e3);return r&&n&&s>=r&&s<n?Object(Ze.default)("Watch Now"):Object(Ze.default)("Watch Channel")}return t.viewOffset||a.viewOffset?Object(Ze.default)("Resume"):e.onDeck&&t.viewedLeafCount&&t.unviewedLeafCount?Object(Ze.default)("Next Episode"):Object(Ze.default)("Play")}var Wqe=a("o2in"),Gqe=a.n(Wqe),Yqe=Ed.a.createElement,Kqe=e=>{var{className:t=Gqe.a.playButton,circleClassName:a=Gqe.a.playCircle}=e,i=Je()(e,["className","circleClassName"]);return(Yqe(qv,tp()({},i,{className:t}),Uu()(Ele,{className:a})))},qqe=Ed.a.createElement,{useCallback:Zqe,useMemo:Xqe}=Ed.a,Jqe=e=>{var t,{metadataItem:a}=e,i=Je()(e,["metadataItem"]),[r,n]=wv(),{containerServer:s,containerProvider:o,containerKey:l,containerType:c}=lYe(),{metricsPage:d,metricsContextTuple:u}=Object(_b.d)(),p=PYe(a.sourceURI),h=PYe(null==(t=a.onDeck)?void 0:t.sourceURI),m=Object(Fu.c)(),v=_qe({containerServer:s,containerProvider:o,server:r,provider:n,metadataItem:a,metadataItemState:p,metricsPage:d,metricsContextTuple:u}),g=xKe(a),y=Zqe(()=>{g({action:kd.M}),v(Cw.p({options:{containerKey:l,listType:c}}))},[l,c,v,g]),f=Zqe(()=>{g({action:kd.M});var e=WYe(a);m(Kme({serverEntityID:r.entityID,providerEntityID:n.entityID,metricsPage:d,metricsContext:u,options:{containerKey:l,containerType:c,type:tl.e,identifier:e.channelIdentifier}}))},[m,l,c,r,n,a,d,u,g]),b=Zqe(()=>{g({action:kd.gb}),v(Cw.t())},[v,g]),I=Xqe(()=>pqe(a)?f:a.type===Nr.Artist?b:y,[a,f,y,b]);return qqe(Kqe,tp()({},i,{"aria-label":Qqe(a,p,h),onPress:I}))},{Fragment:$qe,useCallback:eZe}=Ed.a,tZe=Object(_u.a)(Ku,pv,(e,t)=>e.filter(e=>e.isFullOwnedServer&&e.isConnected&&Qa(e.version,Ka.addProviderContentToLibrary)).reduce((e,a)=>{var i,r=a.providers.map(e=>t[e]).find(e=>e.identifier===jt.d);if(!r)return e;var n=Kt(r),s=null!=(i=null==n?void 0:n.directories)?i:[],o={machineIdentifier:a.machineIdentifier,providerIdentifier:r.identifier,serverFriendlyName:a.friendlyName,targetLibraries:[]};return s.forEach(e=>{e.type===Nr.Artist&&o.targetLibraries.push({libraryTitle:e.title,libraryType:e.type,librarySectionID:e.id})},[]),o.targetLibraries.length&&e.push(o),e},[])),aZe=({children:e,targetMachineIdentifier:t,targetProviderIdentifier:a,targetLibrary:i,onAddToLibrary:r})=>{var n=Object(Fu.d)(Dv(t)),s=Object(Fu.d)(fv(t,a)),o=eZe(()=>{r({targetServer:n,targetProvider:s,targetLibrarySectionID:i.librarySectionID,targetLibraryType:i.libraryType})},[r,i,s,n]);return Uu()(Gg,{onPress:o},void 0,e)},iZe=({onAddToLibrary:e})=>{var t=Object(Fu.d)(tZe);if(!t.length)return null;if(1===t.length&&1===t[0].targetLibraries.length){var a=t[0];return(Uu()(aZe,{targetMachineIdentifier:a.machineIdentifier,targetProviderIdentifier:a.providerIdentifier,targetLibrary:a.targetLibraries[0],onAddToLibrary:e},void 0,Object(Ze.default)("Add to {serverName}",{serverName:a.serverFriendlyName})))}return(Uu()(bre,{label:Object(Ze.default)("Add to Library")},void 0,t.map(t=>Uu()($qe,{},t.machineIdentifier+":"+t.providerIdentifier,Uu()(boe,{},void 0,t.serverFriendlyName),t.targetLibraries.map(a=>Uu()(aZe,{targetMachineIdentifier:t.machineIdentifier,targetProviderIdentifier:t.providerIdentifier,targetLibrary:a,onAddToLibrary:e},a.librarySectionID,Object(Ze.default)("Add to {libraryName}",{libraryName:a.libraryTitle})))))))},{Fragment:rZe,useCallback:nZe}=Ed.a;var sZe=({metadataItem:e,downloadIFrameName:t,onMenuClose:a,onDownloadVersionPress:i,onDownloadFilePress:r})=>{var n,[s]=wv(),o=ny(),l=1===(null==(n=e.Media)?void 0:n.length)?function(e,t){var a;if(null==(a=t.Part)?void 0:a.length){var i=t.Part[0];return _.join([e.uri,i.key],{download:1,"X-Plex-Token":e.accessToken})}}(s,e.Media[0]):null,c=nZe(()=>{l?(null==r||r(),a()):i()},[l,r,i,a]);return Uu()(rZe,{},void 0,Uu()(Gg,{to:l,target:t||o,onPress:c},void 0,Object(Ze.default)("Download File")),t?null:Uu()(aI,{},void 0,Uu()("iframe",{name:o,style:{display:"none"}})))},{useCallback:oZe}=Ed.a;function lZe({server:e,provider:t,metadataItem:a,metadataItemState:i}){var r=Object(Fu.c)();return oZe(n=>{r(jae({server:e,provider:t,metadataItem:a,metadataItemState:i,legacyAction:n}))},[r,a,i,t,e])}var{Fragment:cZe,useCallback:dZe,useEffect:uZe,useMemo:pZe,useState:hZe}=Ed.a,mZe=({metadataItem:e,metadataItemState:t,children:a})=>{var[i,r]=wv(),n=Object(Fu.c)(),s=lZe({server:i,provider:r,metadataItem:e,metadataItemState:t}),o=Object(pt.a)(ht.g,e.key,i.entityID),l=Object(Fu.d)(e=>e.entities[ht.g][o]),c=pZe(()=>Object(Pa.a)(o+"_NO_OP"),[o]),d=hZe(!1),u=d[1],p=d[0],h=dZe(()=>{n(yn.actions.repopulateRequested({sourceURI:e.sourceURI}))},[n,e.sourceURI]);return uZe(()=>{Object(wa.a)(()=>{s(c())}),u(!0)},[s,c]),Uu()(cZe,{},void 0,p&&l?a({serverEntityID:i.entityID,providerEntityID:r.entityID,metadataItemEntityID:o,onMarkStale:h}):null)},vZe=Uu()($y,{}),gZe=({isOpen:e,mediaItems:t,onSelect:a,onCancel:i})=>Uu()(zre,{isOpen:e,title:Object(Ze.default)("Play Version"),metricsPage:Rd.ab,onItemSelect:a,onCancel:i},void 0,t.map((e,t)=>{var a=[];if(e.bitrate&&a.push(Object(Are.default)(e.bitrate)),e.videoResolution){var i=Object($M.a)(e),r=i?i.scanType:null;a.push(Object(zM.default)(e.videoResolution,r))}var n=!!e.title,s=a.length>0;return Uu()(_re,{value:t},t,n?e.title:null,n&&s?vZe:null,s?a.join(", "):null,n||s?null:Object(Ze.default)("Unknown"))}));function yZe(e,t,a){return a===OM.c?t?Object(Ze.default)("Remove from My Podcasts"):Object(Ze.default)("Add to My Podcasts"):jt.k(e,jt.f)?t?Object(Ze.default)("Remove from My TIDAL"):Object(Ze.default)("Add to My TIDAL"):t?Object(Ze.default)("Remove from My Shows"):Object(Ze.default)("Add to My Shows")}function fZe(e,t){var a,i=e.features.find(e=>e.type===PGe.Actions);return null==i?void 0:null==(a=i.actions)?void 0:a.find(e=>e.id===t)}function bZe(e,t,a){return e.features.find(e=>e.type===t&&(!a||e.flavor===a))}var IZe={[Nr.Movie]:["isAddToPlaylistVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromWatchlistVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Nr.Show]:["isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAddToWatchlistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayAllVisible","isPlayTrailerVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isRemoveFromSavedVisible","isRemoveFromWatchlistVisible","isSettingsVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Nr.Season]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayAllVisible","isPlayVisible","isQueueVisible","isRateVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Nr.Episode]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isOptimizeVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRecordVisible","isRefreshVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Nr.Artist]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayAllVisible","isPlayArtistTVVisible","isPlayRadioVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Nr.Album]:["isAddToLibraryVisible","isAddToPicksVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isEditVisible","isFixMatchVisible","isMatchVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible"],[Nr.Track]:["isAddToLibraryVisible","isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isPlayMusicVideoVisible","isPlayVisible","isQueueVisible","isRateVisible","isRemoveFromSavedVisible","isShareVisible","isSyncDownloadVisible","isSyncVisible","isViewPlayHistoryVisible"],[Nr.PhotoAlbum]:["isAddToPlaylistVisible","isAnalyzeVisible","isEditVisible","isPlayVisible","isShareVisible","isShuffleVisible","isSyncVisible"],[Nr.Photo]:["isAddToPlaylistVisible","isAnalyzeVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFavoriteVisible","isGetInfoVisible","isPlayVisible","isShareVisible","isSyncVisible","isUnfavoriteVisible"],[Nr.Clip]:["isAddToPlaylistVisible","isAddToSavedVisible","isAnalyzeVisible","isDeleteVersionVisible","isDeleteVisible","isDownloadFileVisible","isEditVisible","isFixMatchVisible","isGetInfoVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isMatchVisible","isOptimizeVisible","isPlayTrailerVisible","isPlayVersionVisible","isPlayVisible","isQueueVisible","isRateVisible","isRefreshVisible","isRemoveFromSavedVisible","isShareVisible","isSplitApartVisible","isSyncDownloadVisible","isSyncVisible","isUnmatchVisible","isViewPlayHistoryVisible","isWatchTogetherVisible"],[Nr.Playlist]:["isAddToSavedVisible","isDeleteVisible","isEditVisible","isEditVisible","isPlayVisible","isQueueVisible","isRemoveFromSavedVisible","isShareVisible","isShuffleVisible","isSyncDownloadVisible","isSyncVisible"],[Nr.Collection]:["isAddToPlaylistVisible","isDeleteVisible","isEditVisible","isPlayVisible","isQueueVisible","isRateVisible","isShuffleVisible","isSyncVisible"],[Nr.Game]:["isPlayVisible","isRateVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isEditVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isUnmatchVisible","isDeleteVisible","isGetInfoVisible"]};function SZe(e,t){return!!bZe(e,t)}function MZe(e,t){return!!fZe(e,t)}function CZe(e){var t;return null!=(t=null==e?void 0:e.isExtra)&&t&&function(e){return e.Media.some(e=>e.premium)}(e)}var DZe=({server:e,provider:t,stableUser:a,metadataItem:i})=>function(e,t,a,i){var{isFolder:r,Media:n}=i;if(i.type===Nr.Game)return!!a.features[Tt.t]&&yie();if(bZe(t,PGe.PlayQueue))return!r;var s=!!a.features[Tt.i];return!(!t.protocols.includes(DGe.LiveTV)||!(e.livetv&&4===e.livetv||s))&&n.length>0}(e,t,a,i),PZe=({metadataItem:e})=>!!e.primaryExtraKey,OZe=({server:e,provider:t,stableUser:a,metadataItem:i})=>{if(!t)return!1;var r=bZe(t,PGe.Playlist);return!(!r||!mw(a,r))&&(!CZe(i)&&!e.isEmbedded)},jZe=({provider:e,stableUser:t})=>{var a=fZe(e,jGe.Save);return!(!a||!mw(t,a))},TZe=({provider:e,stableUser:t})=>{var a=fZe(e,jGe.AddToWatchlist);return!(!a||!mw(t,a))},wZe=({provider:e,stableUser:t,metadataItem:a})=>{if(!e)return!1;var i=a.type===Nr.Track||a.type===Nr.Album||a.type===Nr.Artist,r=jt.k(e.identifier,jt.f),n=!!t.features[Tt.a],s=mw(t,{requires:"tidal"});return i&&r&&n&&s};function EZe({provider:e,metadataItem:t}){return!(!MZe(e,jGe.Rate)||Object(Wt.x)(t.type)||t.isFolder)}var NZe=({provider:e,metadataItem:t})=>{var a=bZe(e,PGe.Subscribe);return pqe(t)&&!!a},xZe=({server:e,provider:t,metadataItem:a})=>!!fZe(t,jGe.Rate)&&!a.isFolder&&!e.isEmbedded,AZe=({provider:e,metadataItem:t,metadataItemState:a})=>{var i=fZe(e,jGe.Scrobble);return!(!i||!i.key||e.protocols.includes(DGe.LiveTV)||t.type===Nr.Track&&t.subtype!==Ar.Podcast||null!=a.saved&&!a.saved&&!a.viewOffset||t.isExtra)&&(Object(Wt.y)(t.type)?!!a.unviewedLeafCount&&a.unviewedLeafCount>0:!a.viewCount||!!a.viewOffset)},LZe=({provider:e,metadataItem:t,metadataItemState:a})=>{var i=fZe(e,jGe.Scrobble);return!(!i||!i.reverseKey||e.protocols.includes(DGe.LiveTV)||t.type===Nr.Track&&t.subtype!==Ar.Podcast||null!=a.saved&&!a.saved||t.isExtra)&&(Object(Wt.y)(t.type)?!!a.viewedLeafCount&&a.viewedLeafCount>0:!!a.viewCount||!!a.viewOffset)},kZe=({provider:e,metadataItem:t})=>{var{isPlaylist:a,isExtra:i,isFolder:r,radio:n,readOnly:s}=t,o=!i&&!r&&!n;return a?!s:SZe(e,PGe.Manage)&&o},RZe=({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r}),zZe=({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!i.indirect&&!i.remoteMedia&&kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r}),UZe=({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&!(!i.guid||/(local|none):\/\//.test(i.guid)),VZe=({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&!(i.remoteMedia||!e.transcoderVideo||!e.backgroundProcessing),BZe=({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&!!(i.isPlaylist||i.type===Nr.Collection||i.remoteMedia||e.allowMediaDeletion),FZe={isAddToLibraryVisible:wZe,isAddToPicksVisible:({provider:e,stableUser:t})=>!(!t.features[Tt.s]||!MZe(e,jGe.Pick)),isAddToPlaylistVisible:OZe,isAddToSavedVisible:e=>jZe(e)&&!1===e.metadataItemState.saved,isAddToWatchlistVisible:e=>TZe(e)&&!e.metadataItemState.watchlistedAt,isAnalyzeVisible:zZe,isDeleteVersionVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&(!!e.allowMediaDeletion&&i.Media.filter(e=>!!e.proxyType).length>0),isDeleteVisible:BZe,isDownloadFileVisible:({provider:e,metadataItem:t})=>!!be.a.allowDirectDownload&&(!!e.protocols.includes(DGe.Download)&&!t.isExtra&&!t.remoteMedia),isEditVisible:kZe,isFavoriteVisible:({provider:e,stableUser:t,metadataItem:a,metadataItemState:i})=>EZe({provider:e,stableUser:t,metadataItem:a})&&!Dw(i),isFixMatchVisible:UZe,isGetInfoVisible:({provider:e,metadataItem:t})=>!!e&&mqe(e)&&!t.isExtra&&!t.indirect,isMarkPlayedVisible:AZe,isMarkUnplayedVisible:LZe,isMatchVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&(!!i.guid&&!UZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})),isOptimizeVisible:VZe,isPlayAllVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!DZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&(i.type===Nr.Artist||!(!i.onDeck||!r.viewedLeafCount)),isPlayArtistTVVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===kr.Video)}(e),isPlayMusicVideoVisible:PZe,isPlayRadioVisible:({metadataItem:e})=>function(e){return!!e.stations&&e.stations.some(e=>e.playlistType===kr.Audio)}(e),isPlayTrailerVisible:PZe,isPlayVersionVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!DZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&(mqe(t)&&i.Media.length>1),isPlayVisible:DZe,isQueueVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>DZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&SZe(t,PGe.PlayQueue)&&!CZe(i),isRateVisible:xZe,isRecordVisible:NZe,isRefreshVisible:RZe,isRemoveFromSavedVisible:e=>jZe(e)&&!0===e.metadataItemState.saved,isRemoveFromWatchlistVisible:e=>TZe(e)&&!!e.metadataItemState.watchlistedAt,isSettingsVisible:({provider:e,metadataItemState:t})=>!SZe(e,PGe.Manage)&&null!=t.preferences,isShareVisible:({server:e,provider:t,metadataItem:a})=>mqe(t)&&e.isFullOwnedServer&&!a.isExtra&&!a.remoteMedia,isShuffleVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!i.radio&&(DZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&SZe(t,PGe.PlayQueue)),isSplitApartVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>!!kZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})&&(Object(Wt.y)(i.type)?i.Location:i.Media.filter(e=>!e.proxyType)).length>1,isSyncDownloadVisible:({server:e,provider:t,metadataItem:a,metadataItemState:i})=>{if(!be.a.allowSyncDownload)return!1;if(!t)return!1;if(!jt.a.includes(t.identifier))return!1;if(a.isPlaylist&&a.playlistType===kr.Photo)return!1;if(i.isDownloaded&&!i.downloadSubscriptionID)return!1;if(!a.hasOwnProperty("guid"))return!1;if(a.remoteMedia)return!1;var r=bZe(t,PGe.Subscribe),n=(null==r?void 0:r.flavor)===vie.a;return mqe(t)?e.allowSync&&n:n},isSyncVisible:({server:e,provider:t,metadataItem:a})=>{if(!be.a.allowSync)return!1;if(!mqe(t))return!1;var{isExtra:i,remoteMedia:r}=a;return!i&&!r&&!(!e.allowSync||!a.allowSync)},isUnfavoriteVisible:({provider:e,stableUser:t,metadataItem:a,metadataItemState:i})=>EZe({provider:e,stableUser:t,metadataItem:a})&&Dw(i),isUnmatchVisible:({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r})=>UZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r}),isViewPlayHistoryVisible:({server:e,provider:t,metadataItem:a})=>mqe(t)&&e.isFullOwnedServer&&!e.isEmbedded&&!a.isExtra,isWatchTogetherVisible:({provider:e,stableUser:t,metadataItem:a})=>{var i=!!t.features[Tt.D],r=jt.k(e.identifier,[jt.d,jt.i]);return i&&r&&!a.isExtra}};function HZe({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r}){var n=IZe[i.type];return n?n.reduce((n,s)=>{var o=FZe[s];return n[s]=!!(e&&t&&i)&&o({server:e,provider:t,stableUser:a,metadataItem:i,metadataItemState:r}),n},{}):{}}function _Ze(e,t){switch(t){case Ar.Podcast:switch(e){case Nr.Show:return Nr.Track}}switch(e){case Nr.Show:return Nr.Season;case Nr.Season:return Nr.Episode;case Nr.Artist:return Nr.Album;case Nr.Album:return Nr.Track;case Nr.PhotoAlbum:return Nr.Photo;case Nr.Collection:switch(t){case Ar.Movie:return Nr.Movie;case Ar.Show:return Nr.Show;case Ar.Artist:return Nr.Artist;case Ar.Album:return Nr.Album}}}function QZe(e,t){switch(t){case Ar.Podcast:switch(e){case Nr.Show:return Nr.Track}}switch(e){case Nr.Show:case Nr.Season:return Nr.Episode;case Nr.Artist:case Nr.Album:return Nr.Track;case Nr.PhotoAlbum:return Nr.Photo;case Nr.Collection:switch(t){case Ar.Movie:return Nr.Movie;case Ar.Show:return Nr.Episode;case Ar.Artist:case Ar.Album:return Nr.Track}}}var{useCallback:WZe}=Ed.a,GZe=({playlist:e,onPlaylistPress:t})=>{var a=WZe(()=>t(e.key),[t,e.key]);return(Uu()(Gg,{onPress:a},void 0,e.title))},YZe=Object(_u.a)(Ny,e=>e.addToPlaylist),{Fragment:KZe,useCallback:qZe,useEffect:ZZe}=Ed.a,XZe=Uu()(TJ,{}),JZe=({sourceURI:e,playlistType:t,onAddToPlaylistPress:a,onMenuClose:i,onPlaylistSave:r})=>{var n=Object(Fu.c)(),s=jn.Menu,[o,l]=wv(),{[s]:{source:c,playlists:d}}=Object(Fu.d)(YZe),u=c!==Object(an.a)({serverIdentifier:o.machineIdentifier,providerIdentifer:l.identifier}),p=qZe(t=>{n(xn.actions.playlistUpdateRequested({ui:s,destinationServer:o,destinationProvider:l,playlistKey:t,sourceURI:e})),null==r||r(),i()},[l,o,n,i,r,e,s]);return ZZe(()=>{n(xn.actions.playlistListFetchRequested({ui:s,destinationServer:o,destinationProvider:l,playlistType:t}))},[s,t,n,o,l]),Uu()(KZe,{},void 0,Uu()(Gg,{onPress:Ib(a,i)},void 0,Object(Ze.default)("Add to Playlist...")),d.length&&!u?Uu()(KZe,{},void 0,XZe,Uu()(boe,{},void 0,Object(Ze.default)("Add to...")),d.slice(0,3).map(e=>Uu()(GZe,{playlist:e,onPlaylistPress:p},e.key))):null)},$Ze=a("NKCw"),eXe=a("+vwP"),tXe=a.n(eXe),aXe=Ed.a.createElement,iXe=e=>{var{className:t=tXe.a.button,spinnerSize:a=gp.Small,isDisabled:i=!1,isSpinning:r=!1,children:n}=e,s=Je()(e,["className","spinnerSize","isDisabled","isSpinning","children"]);return(aXe(KC,tp()({className:(t||"")+" "+(r&&tXe.a.isSpinning||""),isDisabled:i||r},s),Uu()("span",{className:tXe.a.spinnerContainer},void 0,Uu()(bp,{className:tXe.a.spinner,size:a})),Uu()("span",{className:tXe.a.label},void 0,n)))},rXe=a("eYpM"),nXe=a.n(rXe),sXe=Ed.a.createElement,oXe=e=>{var{forwardedRef:t,className:a=nXe.a.input,errorClassName:i=nXe.a.hasError,disabledClassName:r=nXe.a.isDisabled,isDisabled:n=!1,hasFocusOnMount:s=!1,hasError:o=!1,name:l,size:c=gp.Large,onFocus:d}=e,u=Je()(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasFocusOnMount","hasError","name","size","onFocus"]);return(sXe("input",tp()({className:(a||"")+" "+(nXe.a[c]||"")+" "+(n&&r||"")+" "+(o&&i||""),name:l,disabled:n,autoFocus:s,ref:t,onFocus:d},u)))},lXe=Ed.a.forwardRef((e,t)=>sXe(oXe,tp()({},e,{forwardedRef:t}))),cXe=a("X++g"),dXe=a.n(cXe),uXe=({message:e})=>Uu()("div",{className:dXe.a.container},void 0,Uu()(mh,{className:dXe.a.icon}),Uu()("div",{className:dXe.a.message},void 0,e)),pXe=a("/z0O"),hXe=a.n(pXe),mXe=({children:e,className:t=hXe.a.modalSubheader})=>Uu()("div",{className:t},void 0,e);function vXe(e,t){return e.isCloud?t.sourceTitle?t.title+" - "+t.sourceTitle:t.title:e.friendlyName}var{useCallback:gXe}=Ed.a,yXe=({server:e,provider:t,isSelected:a,onDestinationChange:i})=>{var r=gXe(()=>{var a=Object(an.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier});i(a)},[i,t.identifier,e.machineIdentifier]);return(Uu()(iy,{isSelected:a,onPress:r},void 0,vXe(e,t)))},{Fragment:fXe}=Ed.a,bXe=({server:e,provider:t,destinations:a,isDisabled:i,onDestinationChange:r})=>{var n=ny(),s=wye();return Uu()(fXe,{},void 0,Uu()(qv,{id:n,"aria-label":Object(Ze.default)("Playlist destination"),isDisabled:i,onPress:s.onToggle},void 0,vXe(e,t),Uu()(my,{direction:s.isOpen?cy:dy})),Uu()(Fg,{size:wp,target:n,isOpen:s.isOpen,onMenuClose:s.onClose},void 0,a?a.map((a,i)=>{var[n,o]=a,l=e.machineIdentifier===n.machineIdentifier&&t.identifier===o.identifier;return Uu()(yXe,{isSelected:l,server:n,provider:o,onDestinationChange:Ib(r,s.onClose)},i)}):null))};function IXe(e){var{rowHeight:t,rowWidth:a=0}=e,i=Je()(e,["rowHeight","rowWidth"]);return cO(Object.assign({direction:sO.Vertical,columns:1,getCellWidth:e=>Math.max(a,e.innerViewportWidth),getCellHeight:()=>t},i))}var SXe=a("5iwJ"),MXe=a.n(SXe),CXe=Ed.a.createElement,DXe=({forwardedRef:e,className:t=MXe.a.row,alternateClassName:a=MXe.a.alternateRow,hoveredClassName:i=MXe.a.isHovered,tabIndex:r,style:n,isAlternate:s=!1,isHovered:o=!1,children:l,onFocus:c,onBlur:d})=>CXe("div",{tabIndex:r,style:n,className:((s?a:t)||"")+" "+(o&&i||""),ref:e,onFocus:c,onBlur:d},l),PXe=Ed.a.forwardRef((e,t)=>CXe(DXe,tp()({},e,{forwardedRef:t}))),OXe=a("GaN0"),jXe=a.n(OXe),TXe=({className:e=jXe.a.placeholder,style:t,index:a})=>Uu()(PXe,{className:e,style:Object.assign({animationDelay:a%12*200+"ms"},t)}),wXe=a("Fg7B"),EXe=a.n(wXe),NXe=Ed.a.createElement,{useCallback:xXe}=Ed.a,AXe=e=>{var{server:t,provider:a,sourceURI:i,isDisabled:r,item:n}=e,s=Je()(e,["server","provider","sourceURI","isDisabled","item"]),[o,l]=pS(),c=WO(s),{cellIndex:d}=s,u=Object(Fu.c)(),p=xXe(()=>{n&&u(xn.actions.playlistUpdateRequested({ui:jn.Modal,destinationServer:t,destinationProvider:a,playlistKey:n.key,sourceURI:i}))},[i,u,n,a,t]);if(!n)return Uu()(TXe,{style:c.style,index:d});var{title:h,thumb:m,composite:v}=n;return(NXe(PXe,{style:c.style,isAlternate:!!(d%2),isHovered:o,ref:l},Uu()(qv,{className:EXe.a.item,isDisabled:r,onPress:p},void 0,Uu()("div",{className:EXe.a.imageContainer},void 0,Uu()(YS,{className:EXe.a.image,serverEntityID:t.entityID,providerEntityID:a.entityID,url:m||v,width:40,height:40,component:QI,preloadOnMount:!1,animateOnMount:!1})),Uu()("div",{className:EXe.a.title},void 0,h))))},LXe=a("YoL5"),kXe=a.n(LXe),RXe=Ed.a.createElement,{useCallback:zXe,useMemo:UXe}=Ed.a,VXe=Uu()(bp,{}),BXe=({server:e,provider:t,sourceURI:a,playlistType:i})=>{var{[jn.Modal]:{source:r,playlists:n,isPending:s,isPopulated:o,error:l},isSaving:c}=Object(Fu.d)(YZe),d=r!==Object(an.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:t.identifier}),u=UXe(()=>IXe({rowHeight:60,overscan:5}),[]),p=zXe(i=>RXe(AXe,tp()({server:e,provider:t,sourceURI:a,isDisabled:c},i)),[a,c,t,e]);if(l)return Uu()("div",{className:kXe.a.container});if(d||s&&!o)return Uu()("div",{className:kXe.a.container},void 0,VXe);if(!n.length){var h={source:vXe(e,t)},m={[kr.Audio]:Object(Ze.default)("Save your first music playlist for {source}",h),[kr.Video]:Object(Ze.default)("Save your first video playlist for {source}",h),[kr.Photo]:Object(Ze.default)("Save your first photo playlist for {source}",h),[kr.Rom]:"Save your first game playlist for "+h.source};return Uu()("div",{className:kXe.a.container},void 0,m[i])}return(Uu()(BO,{className:kXe.a.scroller,keyPropName:"key",items:n,totalSize:n.length,layout:u,cellComponentFactory:p}))},{useCallback:FXe}=Ed.a;var HXe=function(){return FXe(e=>{var t=e.target;t&&t.select()},[])},_Xe=Object(_u.a)(pv,Ku,mv("providers"),(e,t,a)=>{var i=[];for(var r of t){var n=r.isCloud?a:r.providers;for(var s of n)i.push([Mv(r),e[s]])}return i}),QXe=([e,t])=>Object(_u.a)(_Xe,a=>a.reduce((a,[i,r])=>((i.machineIdentifier!==e.machineIdentifier||r.identifier!==t.identifier)&&i.isFullOwnedServer&&i.isConnected&&bZe(r,PGe.Playlist,OGe.Universal)&&a.push([i,r]),a),t===vv?[]:[[e,t]])),WXe=a("zfMR"),GXe=a.n(WXe),YXe=Ed.a.createElement,{useEffect:KXe,useState:qXe}=Ed.a,ZXe=({isOpen:e,sourceURI:t,defaultDestinationSource:a,playlistType:i,defaultPlaylistTitle:r,isDestinationMenuHidden:n,onModalClose:s,onPlaylistSave:o})=>{var l,c=Object(Fu.c)(),d=jn.Modal,[u,p]=wv(),h=qXe(a),m=h[1],v=h[0],{serverIdentifier:g,providerIdentifier:y}=Object(Bn.a)(v),{[jn.Modal]:{error:f},isSaving:b,isSaved:I,saveError:S}=Object(Fu.d)(YZe),M=Object(Fu.d)(Dv(g)),C=Object(Fu.d)(fv(g,y)),D=Object(Fu.d)(QXe([u,p])),{register:P,handleSubmit:O,errors:j}=Object($Ze.a)({defaultValues:{title:r}}),T="required"===(null==(l=j.title)?void 0:l.type),w=O(({title:e})=>{c(xn.actions.playlistCreateRequested({ui:d,destinationServer:M,destinationProvider:C,playlistType:i,title:e,sourceURI:t}))}),E=HXe();return KXe(()=>{e&&c(xn.actions.playlistListFetchRequested({ui:d,destinationServer:M,destinationProvider:C,playlistType:i}))},[c,e,d,i,M,C]),KXe(()=>{if(e)return()=>{c(xn.actions.modalClosed())}},[c,e]),KXe(()=>{e&&I&&(null==o||o(),s())},[e,I,s,o]),Uu()(_b.a,{metricsPage:Rd.b},void 0,Uu()(fI,{isOpen:e,onModalClose:s},void 0,Uu()(TI,{onModalClose:s},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Add to Playlist")),D.length>1?Uu()(mXe,{},void 0,n?vXe(M,C):Uu()(bXe,{server:M,provider:C,destinations:D,isDisabled:b,onDestinationChange:m})):null,S||f?Uu()(uXe,{message:M.isCloud?Object(Ze.default)("Something went wrong. Please try again in a few minutes."):Object(Ze.default)("Something went wrong. Make sure the server is available and try again.")}):null,Uu()(BXe,{server:M,provider:C,sourceURI:t,playlistType:i}),Uu()(XC,{},void 0,Uu()("form",{className:GXe.a.form,onSubmit:w},void 0,YXe(lXe,{className:GXe.a.input,name:"title",hasFocusOnMount:!0,hasError:T,ref:P({required:!0}),onFocus:E}),Uu()(iXe,{className:GXe.a.button,isSpinning:b,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Create")))))))},{Fragment:XXe,useCallback:JXe,useMemo:$Xe,useRef:eJe}=Ed.a,tJe=["isPlayVisible","isWatchTogetherVisible","isPlayVersionVisible","isPlayAllVisible","isShuffleVisible","isQueueVisible","isPlayTrailerVisible","isPlayMusicVideoVisible","isAddToPlaylistVisible","isAddToLibraryVisible"],aJe=["isEditVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSettingsVisible","isRefreshVisible","isAnalyzeVisible","isFixMatchVisible","isMatchVisible","isUnmatchVisible","isSplitApartVisible","isSyncVisible","isSyncDownloadVisible","isOptimizeVisible","isDownloadFileVisible","isShareVisible","isDeleteVisible","isDeleteVersionVisible","isViewPlayHistoryVisible","isGetInfoVisible"];function iJe(e){var t=eJe(!1);return e.isOpen&&(t.current=!0),t.current}var rJe=Uu()(TJ,{}),nJe=({actions:e,server:t,provider:a,metadataItem:i,metadataItemState:r,containerKey:n,containerType:s,allowRedirectOnDelete:o,playVersionModalState:l,confirmMarkPlayedModalState:c,confirmMarkUnplayedModalState:d,settingsModalState:u,addToPlaylistModalState:p,shareModalState:h,mediaSubscriptionModalState:m,watchTogetherModalState:v,onLegacyAction:g,onLegacyPlay:y,onMenuClose:f})=>{var b,I=Object(Fu.c)(),S=PYe(null==(b=i.onDeck)?void 0:b.sourceURI),M=TYe(i.sourceURI),C=!!M.metadataState,D=!!M.mediaState,P=tJe.some(t=>e[t]),O=aJe.some(t=>e[t]),j=P&&O,T=xKe(i),w=JXe(()=>{T({action:kd.M}),y(Cw.p({options:{containerKey:n,listType:s}}))},[n,s,y,T]),E=JXe(()=>{T({action:kd.M}),y(Kme({options:{containerKey:n,listType:s}}))},[n,s,y,T]),N=JXe(()=>{T({action:kd.N}),y(Cw.o())},[y,T]),x=JXe(()=>{T({action:kd.gb}),y(Cw.t())},[y,T]),A=JXe(()=>{T({action:kd.P}),y(Cw.j({options:{playAll:!0,next:!0}}))},[y,T]),L=JXe(()=>{T({action:kd.d}),y(Cw.j({options:{playAll:!0,next:!1}}))},[y,T]),k=JXe(()=>{T({action:kd.Q}),y(Cw.q())},[y,T]),R=JXe(()=>{T({action:kd.R}),y(Cw.r({playlistType:Yt.a}))},[y,T]),z=JXe(()=>{T({action:kd.O}),y(Cw.r({playlistType:Yt.c}))},[y,T]),U=JXe(()=>{g(Object(Z8.h)())},[g]),V=JXe(({targetServer:e,targetProvider:r,targetLibrarySectionID:n,targetLibraryType:s})=>{T({action:kd.b}),I(yn.actions.addToLibraryRequested({targetServer:e,targetProvider:r,targetLibrarySectionID:n,targetLibraryType:s,server:t,provider:a,metadataItem:i})),f()},[I,i,f,a,t,T]),B=JXe(e=>{T({action:e?kd.e:kd.X}),I(yn.actions.toggleSavedRequested({server:t,provider:a,sourceURI:i.grandparentKey?Object(an.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:a.identifier,metadataItemKey:i.grandparentKey}):i.sourceURI,ratingKey:i.grandparentRatingKey||i.ratingKey,saved:e})),f()},[I,i.grandparentKey,i.grandparentRatingKey,i.ratingKey,i.sourceURI,f,a,t,T]),F=JXe(()=>{B(!0)},[B]),H=JXe(()=>{B(!1)},[B]),_=JXe(e=>{T({action:e?kd.f:kd.Y}),I(yn.actions.toggleWatchlistRequested({server:t,provider:a,sourceURI:i.sourceURI,ratingKey:i.ratingKey,added:e})),f()},[I,i.ratingKey,i.sourceURI,f,a,t,T]),Q=JXe(()=>{_(!0)},[_]),W=JXe(()=>{_(!1)},[_]),G=JXe(()=>{T({action:kd.c}),p.onOpen()},[p,T]),Y=JXe(()=>{T({action:kd.c,mode:"shortcut"})},[T]),K=JXe(()=>{T({action:kd.w}),g(xae())},[g,T]),q=JXe(()=>{u.onOpen(),f()},[f,u]),Z=JXe(()=>{T({action:kd.V}),I(bn.actions.metadataRefreshRequested({server:t,provider:a,sourceURI:i.sourceURI})),f()},[I,i.sourceURI,f,a,t,T]),X=JXe(()=>{T({action:kd.h}),I(bn.actions.mediaAnalysisRequested({server:t,provider:a,sourceURI:i.sourceURI,hasChildren:!!_Ze(i.type,i.subtype)})),f()},[I,i.sourceURI,i.subtype,i.type,f,a,t,T]),J=JXe(()=>{T({action:kd.z}),g(Aae())},[g,T]),$=JXe(()=>{T({action:kd.lb}),g(Fae())},[g,T]),ee=JXe(()=>{T({action:kd.ib}),g(Vae())},[g,T]),te=JXe(()=>{T({action:kd.kb}),g(Bae())},[g,T]),ae=JXe(()=>{T({action:kd.I}),g(Rae())},[g,T]),ie=JXe(()=>{T({action:kd.u})},[T]),re=JXe(()=>{T({action:kd.u}),g(Nae())},[g,T]),ne=JXe(()=>{T({action:kd.fb}),h.onOpen(),f()},[f,h,T]),se=JXe(()=>{T({action:kd.p}),g(wae({options:{skipRedirect:!o}}))},[o,g,T]),oe=JXe(()=>{T({action:kd.p}),g(Eae())},[g,T]),le=JXe(()=>{T({action:kd.C}),g(Lae())},[g,T]),ce=JXe(()=>{v.onOpen(),f()},[f,v]);return Uu()(XXe,{},void 0,e.isPlayVisible?Uu()(Gg,{onPress:pqe(i)?E:w},void 0,Qqe(i,r,S)):null,e.isWatchTogetherVisible?Uu()(Gg,{onPress:ce},void 0,Object(Ze.default)("Watch Together...")):null,e.isPlayVersionVisible?Uu()(Gg,{onPress:Ib(l.onOpen,f)},void 0,Object(Ze.default)("Play Version...")):null,e.isPlayAllVisible?Uu()(Gg,{onPress:N},void 0,Object(Ze.default)("Play All")):null,e.isShuffleVisible?Uu()(Gg,{onPress:x},void 0,Object(Ze.default)("Shuffle")):null,e.isPlayRadioVisible?Uu()(Gg,{onPress:R},void 0,Object(Ze.default)("Play Radio")):null,e.isPlayArtistTVVisible?Uu()(Gg,{onPress:z},void 0,Object(Ze.default)("Play Artist TV")):null,e.isQueueVisible?Uu()(Gg,{onPress:A},void 0,Object(Ze.default)("Play Next")):null,e.isQueueVisible?Uu()(Gg,{onPress:L},void 0,Object(Ze.default)("Add to Queue")):null,e.isPlayTrailerVisible?Uu()(Gg,{onPress:k},void 0,Object(Ze.default)("Play Trailer")):null,e.isPlayMusicVideoVisible?Uu()(Gg,{onPress:k},void 0,Object(Ze.default)("Play Music Video")):null,e.isAddToWatchlistVisible?Uu()(Gg,{onPress:Q},void 0,Object(Ze.default)("Add to Watchlist")):null,e.isRemoveFromWatchlistVisible?Uu()(Gg,{onPress:W},void 0,Object(Ze.default)("Remove from Watchlist")):null,e.isAddToPlaylistVisible?Uu()(bre,{label:Object(Ze.default)("Add to Playlist"),onMenuClose:f},void 0,Uu()(JZe,{sourceURI:i.sourceURI,playlistType:rKe(i.type,i.subtype),onAddToPlaylistPress:G,onMenuClose:f,onPlaylistSave:Y})):null,e.isAddToSavedVisible?Uu()(Gg,{onPress:F},void 0,yZe(a.identifier,r.saved,i.subtype)):null,e.isRemoveFromSavedVisible?Uu()(Gg,{onPress:H},void 0,yZe(a.identifier,r.saved,i.subtype)):null,e.isAddToPicksVisible?Uu()(Gg,{onPress:U},void 0,r.picked?Object(Ze.default)("Remove from Plex Picks"):Object(Ze.default)("Add to Plex Picks")):null,e.isAddToLibraryVisible?Uu()(iZe,{onAddToLibrary:V}):null,j?rJe:null,e.isEditVisible?Uu()(Gg,{onPress:K},void 0,Object(Ze.default)("Edit")):null,e.isSettingsVisible?Uu()(Gg,{onPress:q},void 0,Object(Ze.default)("Settings")):null,e.isMarkPlayedVisible?Uu()(Gg,{onPress:c.onOpen},void 0,Object(Ze.default)("Mark as Played")):null,e.isMarkUnplayedVisible?Uu()(Gg,{onPress:d.onOpen},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.isRefreshVisible?Uu()(Gg,{isDisabled:C,onPress:Z},void 0,Object(Ze.default)("Refresh Metadata")):null,e.isAnalyzeVisible?Uu()(Gg,{isDisabled:D,onPress:X},void 0,Object(Ze.default)("Analyze")):null,e.isFixMatchVisible?Uu()(Gg,{onPress:J},void 0,Object(Ze.default)("Fix Match...")):null,e.isMatchVisible?Uu()(Gg,{onPress:J},void 0,Object(Ze.default)("Match...")):null,e.isUnmatchVisible?Uu()(Gg,{onPress:$},void 0,Object(Ze.default)("Unmatch")):null,e.isSplitApartVisible?Uu()(Gg,{onPress:ee},void 0,Object(Ze.default)("Split Apart")):null,e.isSyncVisible?Uu()(Gg,{onPress:te},void 0,Object(Ze.default)("Sync...")):null,e.isSyncDownloadVisible?Uu()(Gg,{isDisabled:!0},void 0,Object(Ze.default)("Download")):null,e.isRecordVisible?Uu()(Gg,{onPress:m.onOpen},void 0,null==r.grandparentSubscriptionID&&null==r.subscriptionID?Object(Ze.default)("Record"):Object(Ze.default)("Modify Recording")):null,e.isOptimizeVisible?Uu()(Gg,{onPress:ae},void 0,Object(Ze.default)("Optimize...")):null,e.isDownloadFileVisible?Uu()(sZe,{metadataItem:i,downloadIFrameName:"downloadFileFrame",onMenuClose:f,onDownloadVersionPress:re,onDownloadFilePress:ie}):null,e.isShareVisible?Uu()(Gg,{onPress:ne},void 0,Object(Ze.default)("Share")):null,e.isDeleteVisible?Uu()(Gg,{kind:i.remoteMedia?void 0:Pp,onPress:se},void 0,i.remoteMedia?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null,e.isDeleteVersionVisible?Uu()(Gg,{kind:Pp,onPress:oe},void 0,Object(Ze.default)("Delete Version")):null,e.isViewPlayHistoryVisible?Uu()(Gg,{to:kP(t.machineIdentifier,i)},void 0,Object(Ze.default)("View Play History")):null,e.isGetInfoVisible?Uu()(Gg,{onPress:le},void 0,Object(Ze.default)("Get Info")):null)},sJe=({className:e,target:t,isOpen:a,actionsOverride:i,metadataItem:r,allowRedirectOnDelete:n,onMenuClose:s,onMenuCloseComplete:o})=>{var l=Object(Fu.c)(),[c,d]=wv(),{metricsPage:u,metricsContextTuple:p}=Object(_b.d)(),{containerServer:h,containerProvider:m,containerKey:v,containerType:g}=lYe(),y=PYe(r.sourceURI),f=Object(Fu.d)(uw),b=HZe({server:c,provider:d,stableUser:f,metadataItem:r,metadataItemState:y}),I=Object.assign({},b,i),S=wye(),M=iJe(S),C=wye(),D=iJe(C),P=wye(),O=iJe(P),j=wye(),T=iJe(j),w=wye(),E=iJe(w),N=wye(),x=iJe(N),A=wye(),L=iJe(A),k=wye(),R=iJe(k),z=lZe({server:c,provider:d,metadataItem:r,metadataItemState:y}),U=_qe({containerServer:h,containerProvider:m,server:c,provider:d,metadataItem:r,metadataItemState:y,metricsPage:u,metricsContextTuple:p}),V=xKe(r),B=$Xe(()=>Object.assign({page:u},p),[p,u]),F=JXe(e=>{z(e),s()},[s,z]),H=JXe(e=>{U(e),s()},[s,U]),_=JXe(e=>{var t;V({action:kd.S}),H(Cw.p({confirmOffset:!0,startOffsetMilliseconds:null!=(t=y.viewOffset)?t:0,startMediaIndex:e,options:{containerKey:v,listType:g}})),S.onClose()},[v,g,y.viewOffset,H,S,V]),Q=JXe(e=>{V({action:e?kd.F:kd.E}),l(yn.actions.playedStatusUpdateRequested({server:c,provider:d,sourceURI:r.sourceURI,ratingKey:r.ratingKey,played:e})),s()},[l,r.ratingKey,r.sourceURI,s,d,c,V]),W=JXe(()=>{Q(!0),C.onClose()},[C,Q]),G=JXe(()=>{Q(!1),P.onClose()},[P,Q]);return Uu()(XXe,{},void 0,Uu()(Fg,{className:e,target:t,isOpen:a,onMenuClose:s,onMenuCloseComplete:o},void 0,Uu()(nJe,{actions:I,server:c,provider:d,metadataItem:r,metadataItemState:y,containerKey:v,containerType:g,allowRedirectOnDelete:n,playVersionModalState:S,confirmMarkPlayedModalState:C,confirmMarkUnplayedModalState:P,settingsModalState:j,addToPlaylistModalState:w,mediaSubscriptionModalState:A,shareModalState:N,watchTogetherModalState:k,onLegacyAction:F,onLegacyPlay:H,onMenuClose:s})),M?Uu()(gZe,{isOpen:S.isOpen,mediaItems:r.Media,onSelect:_,onCancel:S.onClose}):null,D||O?Uu()(xre,{isOpen:C.isOpen||P.isOpen,type:r.type,subtype:r.subtype,title:r.title,leafCount:C.isOpen?y.unviewedLeafCount:y.viewedLeafCount,markUnplayed:P.isOpen,onConfirm:C.isOpen?W:G,onCancel:C.isOpen?C.onClose:P.onClose}):null,E?Uu()(ZXe,{isOpen:w.isOpen,defaultPlaylistTitle:r.title,sourceURI:r.sourceURI,defaultDestinationSource:r.source,playlistType:rKe(r.type,r.subtype),onModalClose:w.onClose}):null,x?Uu()(mZe,{metadataItem:r,metadataItemState:y},void 0,({serverEntityID:e,metadataItemEntityID:t})=>Uu()(NZ,{isOpen:N.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:B,onModalClose:N.onClose})):null,R?Uu()(mZe,{metadataItem:r,metadataItemState:y},void 0,({serverEntityID:e,metadataItemEntityID:t})=>Uu()(doe,{isOpen:k.isOpen,serverEntityID:e,metadataItemEntityID:t,metricsProperties:{page:u,contextTuple:p},onModalClose:k.onClose})):null,T?Uu()(mZe,{metadataItem:r,metadataItemState:y},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:i})=>Uu()(ene,{isOpen:j.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metricsProperties:B,onModalClose:Ib(i,j.onClose)})):null,L?Uu()(mZe,{metadataItem:r,metadataItemState:y},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:i})=>{var n=y.grandparentSubscriptionType||y.subscriptionType||r.type;return(Uu()(hOe,{isOpen:A.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,subscriptionType:n,metricsProperties:B,onModalClose:Ib(i,A.onClose)}))}):null)},oJe=a("lXqf"),lJe=a.n(oJe),cJe=Ed.a.createElement,{useMemo:dJe}=Ed.a,uJe=e=>{var{className:t=lJe.a.selectButton,selectedCircleClassName:a=lJe.a.selectedCircle,rangeCircleClassName:i=lJe.a.rangeCircle,selectCircleClassName:r=lJe.a.unselectedCircle,iconClassName:n=lJe.a.selectedIcon,title:s,isSelected:o,isInSelectionRange:l}=e,c=Je()(e,["className","selectedCircleClassName","rangeCircleClassName","selectCircleClassName","iconClassName","title","isSelected","isInSelectionRange"]),d=dJe(()=>o?a:l?i:r,[l,o,i,r,a]);return cJe(qv,tp()({className:t,"aria-label":o?Object(Ze.default)("Deselect {title}",{title:s}):Object(Ze.default)("Select {title}",{title:s})},c),Uu()("div",{className:d,"data-qa-id":"multipleSelectButton"},void 0,o||l?Uu()(ey,{className:n}):null))};var pJe=function(e){return!!mqe(e)||!!jt.k(e.identifier,jt.f)},hJe=a("K6Cx"),mJe=a.n(hJe),{Fragment:vJe,useCallback:gJe}=Ed.a,yJe=Uu()(aje,{}),fJe=Uu()(UZ,{}),bJe=({playCircleClassName:e=mJe.a.playCircle,metadataItem:t,metadataItemState:a,isHovered:i,actionsMenuButtonID:r,isActionsVisible:n,isActionsMenuOpen:s,isActionsMenuClosing:o,isSelectHidden:l,isSelected:c,isInSelectionRange:d,isSelectionActive:u,isPlayButtonCard:p,onActionsMenuClose:h,onActionsMenuCloseComplete:m,onActionsMenuToggle:v,onSelectPress:g})=>{var[y,f]=wv(),b=Object(Fu.d)(uw),I=DZe({server:y,provider:f,stableUser:b,metadataItem:t,metadataItemState:a}),S=kZe({server:y,provider:f,stableUser:b,metadataItem:t,metadataItemState:a}),M=lZe({server:y,provider:f,metadataItem:t,metadataItemState:a}),C=xKe(t),D=gJe(()=>{C({action:kd.w}),M(xae())},[M,C]);return Uu()(vJe,{},void 0,!u&&n&&I?Uu()(Jqe,{className:((p?mJe.a.playCoverButton:mJe.a.playButton)||"")+" "+(!i&&o&&mJe.a.isHidden||""),circleClassName:e,tabIndex:-1,metadataItem:t}):null,pJe(f)&&!t.radio&&!l&&(c||d||n)?Uu()(uJe,{className:(mJe.a.selectButton||"")+" "+(!i&&o&&mJe.a.isHidden||""),isSelected:c,isInSelectionRange:d,title:dqe(t),tabIndex:-1,onPress:g}):null,!u&&n&&!p&&S?Uu()(qv,{className:(mJe.a.editButton||"")+" "+(!i&&o&&mJe.a.isHidden||""),tabIndex:-1,"aria-label":Object(Ze.default)("Edit"),onPress:D},void 0,yJe):null,u||!n||p?null:Uu()(qv,{id:r,className:(mJe.a.moreButton||"")+" "+(!i&&o&&mJe.a.isHidden||""),tabIndex:-1,"aria-label":Object(Ze.default)("More Actions"),"aria-haspopup":!0,onPress:v},void 0,fJe),Uu()(sJe,{target:r,isOpen:s,metadataItem:t,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:h,onMenuCloseComplete:m}))},IJe=a("HJi7"),SJe=a.n(IJe),MJe=({className:e=SJe.a.progress,trackClassName:t=SJe.a.track,barClassName:a=SJe.a.bar,style:i,barStyle:r,progress:n})=>Uu()("div",{className:e,style:i},void 0,Uu()("div",{className:t}),Uu()("div",{className:a,style:Object.assign({},r,{transform:"translate3d(-"+(100-n)+"%, 0, 0)"})})),CJe=a("v9T8"),DJe=a.n(CJe),PJe=({children:e,className:t=DJe.a.cardCircle})=>Uu()("div",{className:t},void 0,e),OJe=a("Y6zh"),jJe=a.n(OJe),TJe=({children:e})=>Uu()("div",{className:jJe.a.statusContainer},void 0,e),wJe=({children:e})=>Uu()(TJe,{},void 0,Uu()("div",{className:jJe.a.spinnerContainer},void 0,Uu()(bp,{className:jJe.a.spinner})),Uu()(PJe,{},void 0,e)),EJe=({metadataItemState:e,metadataTimelineState:t})=>t.metadataState===hn.Matching?Uu()(wJe,{},void 0,Uu()(Tee,{"aria-label":Object(Ze.default)("Matching")})):t.metadataState===hn.Processing||t.metadataState===hn.Loading?Uu()(wJe,{},void 0,Uu()(dje,{"aria-label":Object(Ze.default)("Downloading Metadata")})):t.mediaState?Uu()(wJe,{},void 0,Uu()(eje,{"aria-label":Object(Ze.default)("Analyzing")})):e.deletedAt?Uu()(TJe,{},void 0,Uu()(PJe,{className:jJe.a.trashCircle},void 0,Uu()(pje,{"aria-label":Object(Ze.default)("In Trash")}))):null,NJe=a("aYA4"),xJe=a.n(NJe),AJe=Ed.a.createElement,{memo:LJe,useCallback:kJe,useEffect:RJe,useRef:zJe}=Ed.a,UJe=mg(Dg.a.slowSpeed),VJe=Uu()(nM,{}),BJe=Uu()(Sqe,{}),FJe=Uu()(jqe,{}),HJe=Uu()(xqe,{}),_Je=Uu()(Dqe,{}),QJe=LJe(({className:e,playCircleClassName:t,metadataItem:a,metadataItemState:i,metadataTimelineState:r,width:n,height:s,aspectRatio:o,isPlayButtonCard:l,isPlayedStatusHidden:c,isProgressBarHidden:d,isSelectHidden:u,isSelectionActive:p,isSelected:h,isInSelectionRange:m,onHover:v,onToggleSelect:g})=>{var y,[f,b]=wv(),I=Object(Fu.d)(Fqe(Tt.p)),{hoverRef:S,isHovered:M,actionsMenuButtonID:C,isActionsVisible:D,isActionsMenuOpen:P,isActionsMenuClosing:O,onActionsMenuClose:j,onActionsMenuCloseComplete:T,onActionsMenuToggle:w}=cqe(),E=NYe(a,"key"),N=l||!E,x=null!=(y=i.viewOffset)?y:0,A=zJe(!1),L=A.current?Dg.a.slowSpeed:"0s",k=!u&&p,R=o||wYe(a.type,a.subtype);nn("number"==typeof n||"number"==typeof s,"`MetadataPosterCard` requires either a `width` or `height, or both");var z={width:0,height:0};null!=n&&null!=s?z={width:n,height:s}:n?z=EYe({width:n,aspectRatio:R}):s&&(z=EYe({height:s,aspectRatio:R}));var U=kJe(()=>{null==g||g()},[g]);RJe(()=>{null==v||v(M)},[M,v]),RJe(()=>{var e=window.setTimeout(()=>{A.current=!0},UJe);return()=>{window.clearTimeout(e)}},[]);var V="cover";return a.isLiveTVChannel?V="75%":a.type===Nr.Game&&(V="contain"),AJe(fYe,{className:e,style:z,ref:S},a.radio?Uu()(Rqe,{width:z.width,height:z.height},void 0,VJe):Uu()(YS,{className:xJe.a.image,serverEntityID:f.entityID,providerEntityID:b.entityID,url:uqe(a,{aspectRatio:R}),width:z.width,height:z.height,component:QI,preloadOnMount:!1,animateOnMount:!1,backgroundSize:V}),M||P?null:Uu()(EJe,{metadataItemState:i,metadataTimelineState:r}),x>0&&!d?Uu()(MJe,{className:xJe.a.progress,style:{opacity:M||P?0:1,animationDuration:L},barClassName:xJe.a.progressBar,barStyle:{animationDuration:L},progress:WI(x,a.duration)}):null,N||k?null:Uu()(Bqe,{isHovered:M||P,to:E,"aria-label":dqe(a)}),k?Uu()(Bqe,{className:h?xJe.a.selectedLink:void 0,hoverClassName:h?xJe.a.hoveredSelectedLink:void 0,isHovered:m||M,"aria-label":dqe(a),onPress:U}):null,Uu()(bJe,{playCircleClassName:t,metadataItem:a,metadataItemState:i,isHovered:M,isActionsVisible:D,actionsMenuButtonID:C,isActionsMenuOpen:P,isActionsMenuClosing:O,isSelectHidden:u,isSelected:h,isInSelectionRange:m,isSelectionActive:k,isPlayButtonCard:N,onActionsMenuClose:j,onActionsMenuCloseComplete:T,onActionsMenuToggle:w,onSelectPress:U}),I&&a.Media.length>1&&mqe(b)&&!a.isExtra?Uu()("div",{className:xJe.a.topLeftBadge,style:{animationDuration:L}},void 0,BJe):null,a.isPlaylist&&a.smart?Uu()("div",{className:xJe.a.topRightBadge,style:{animationDuration:L}},void 0,FJe):null,I&&!c&&(i.watchlistedAt||hqe(a,i))?Uu()("div",{className:xJe.a.topRightBadge,style:{animationDuration:L}},void 0,i.watchlistedAt?HJe:_Je):null,!I&&a.Media.length>1&&mqe(b)&&!a.isExtra?Uu()("div",{className:xJe.a.legacyMultiVersionBadge},void 0,Uu()(lje,{className:xJe.a.legacyMultiVersionIcon})," ",a.Media.length):null,I||vqe(b)||pqe(a)||a.type!==Nr.Movie&&a.type!==Nr.Episode&&(a.type!==Nr.Track||a.subtype!==Ar.Podcast)||null!=i.saved&&!i.saved||i.viewOffset||i.viewCount?null:Uu()("div",{className:xJe.a.legacyUnwatchedTagMask},void 0,Uu()("div",{className:xJe.a.legacyUnwatchedTag})),I||vqe(b)||pqe(a)||a.type!==Nr.Show&&a.type!==Nr.Season||null!=i.saved&&!i.saved||!i.unviewedLeafCount?null:Uu()("div",{className:xJe.a.legacyUnwatchedEpisodesBadge},void 0,i.unviewedLeafCount))}),WJe=a("ixgb"),GJe=a.n(WJe),YJe=({metadataItem:e,component:t,allowLink:a,isSecondary:i,isDoubleLine:r})=>Uu()(t,{className:((r?GJe.a.doubleLineTitle:GJe.a.singleLineTitle)||"")+" "+(i&&GJe.a.isSecondary||""),allowLink:a,tabIndex:-1,metadataItem:e}),KJe=a("ZrA+"),qJe=a.n(KJe),{useMemo:ZJe,useState:XJe}=Ed.a,JJe=e=>{var{item:t}=e,a=Je()(e,["item"]),{containerType:i,containerSubtype:r,containerDisplayFields:n,listStyle:s}=lYe(),o=PYe(null==t?void 0:t.sourceURI),l=TYe(null==t?void 0:t.sourceURI),c=XJe(!1),d=c[1],u=c[0],{isSelectionActive:p,isSelected:h,isInSelectionRange:m,onToggleSelect:v}=sqe({isHovered:u,metadataItem:t,metadataItemState:o}),g=WO(a),y=ZJe(()=>wYe(i,r,{listStyle:s}),[r,i,s]),f=ZJe(()=>EYe({width:a.cellWidth,aspectRatio:y}),[y,a.cellWidth]),b=ZJe(()=>{var e;if(!t)return[];var a=t.type!==Nr.Collection&&i!==Cr.Mixed;return FKe(a?i:t.type,a?r:t.subtype,{listStyle:s,displayFieldNames:(null==(e=t.Context)?void 0:e.displayFields)||hke(t.type,t.subtype,n)})},[r,i,n,s,t]);return t?Uu()(hYe,{metadataItem:t,metadataItemState:o},void 0,Uu()("div",{style:g.style},void 0,Uu()(QJe,{className:qJe.a.card,metadataItem:t,metadataItemState:o,metadataTimelineState:l,width:f.width,height:f.height,aspectRatio:y,isSelectionActive:p,isSelected:h,isInSelectionRange:m,onHover:d,onToggleSelect:v}),b.map((e,a)=>{if(null==e)return null;var i=function(e){return"component"in e?e:{component:e}}(e);return(Uu()(YJe,{component:i.component,isSecondary:a>0,isDoubleLine:i.isDoubleLine,allowLink:i.allowLink,metadataItem:t},a))}))):Uu()("div",{style:g.style},void 0,Uu()(SYe,{style:f,index:a.cellIndex}))},$Je=a("J4LB"),e$e=a.n($Je),{Fragment:t$e,useMemo:a$e}=Ed.a,i$e=Uu()($y,{separator:""}),r$e=Uu()($y,{separator:""}),n$e=e=>{var{item:t}=e,a=Je()(e,["item"]),{containerType:i,containerSubtype:r,listStyle:n}=lYe(),s=PYe(null==t?void 0:t.sourceURI),o=TYe(null==t?void 0:t.sourceURI),l=WO(a),c=a$e(()=>wYe(i,r,{listStyle:n}),[r,i,n]),d=a$e(()=>EYe({height:a.cellHeight,aspectRatio:c}),[c,a.cellHeight]);return t?Uu()(hYe,{metadataItem:t,metadataItemState:s},void 0,Uu()("div",{className:e$e.a.container,style:l.style},void 0,Uu()(QJe,{className:e$e.a.card,metadataItem:t,metadataItemState:s,metadataTimelineState:o,width:d.width,height:d.height,aspectRatio:c}),Uu()("div",{className:e$e.a.titlesContainer},void 0,Uu()(xYe,{className:e$e.a.doubleTitle,metadataItem:t}),Uu()("div",{className:e$e.a.subtitle},void 0,Uu()(SKe,{metadataItem:t}),t.leafCount?Uu()(t$e,{},void 0,i$e,Uu()(CKe,{metadataItem:t})):null,t.duration?Uu()(t$e,{},void 0,r$e,Uu()(pKe,{metadataItem:t})):null)))):Uu()("div",{className:e$e.a.container,style:l.style},void 0,Uu()(SYe,{className:e$e.a.placeholderCard,style:d,index:a.cellIndex}),Uu()("div",{className:e$e.a.titlesContainer},void 0,Uu()("div",{className:e$e.a.placeholderTitle}),Uu()("div",{className:e$e.a.placeholderSubtitle})))};function s$e(e){return e.reduce((e,t)=>null!=t&&function(e){var t;return!!e&&(null!=(t=e.isDoubleLine)&&t)}(t)?e+2:e+1,0)}var o$e=parseInt(YU.a.v4PagePadding,10),l$e=parseInt(YU.a.v4CardTitleHeight,10),c$e=parseInt(YU.a.v4CardTitleGap,10),d$e=parseInt(YU.a.v4CardShadowSize,10),u$e=parseInt(YU.a.gapMedium,10);function p$e(e){var{listType:t,subtype:a,listStyle:i,displayFields:r,columnWidth:n}=e,s=Je()(e,["listType","subtype","listStyle","displayFields","columnWidth"]),o=qr(t),l=wYe(t,a,{listStyle:i}),c=FKe(t,a,{listStyle:i,displayFieldNames:hke(o,a,r)}),d=s.titleCount?s.titleCount:s$e(c);return function(e){var{columnWidth:t,aspectRatio:a,titleHeight:i,innerHorizontalPadding:r}=e,n=Je()(e,["columnWidth","aspectRatio","titleHeight","innerHorizontalPadding"]);return dO(Object.assign({columnWidth:t,rowHeight:Math.floor(t/a+i),innerHorizontalPadding:r},n))}(Object.assign({columnWidth:l===16/9?2*n+u$e:n,aspectRatio:l,titleHeight:l$e*d+c$e,innerHorizontalPadding:u$e,outerPaddingTop:d$e,outerPaddingRight:o$e,outerPaddingBottom:d$e,outerPaddingLeft:o$e},s))}var h$e=parseInt(YU.a.v4PagePadding,10),m$e=parseInt(YU.a.v4CardShadowSize,10),v$e=parseInt(YU.a.gapMedium,10);var g$e=a("ob4f"),y$e=a("yJYc"),f$e=a.n(y$e),b$e=({className:e=f$e.a.hubTitle,children:t})=>Uu()("div",{className:e,"data-qa-id":"hubTitle"},void 0,t),{useEffect:I$e,useMemo:S$e}=Ed.a;function M$e({hub:e,size:t,totalSize:a,placeholderSize:i,isVisible:r=!0,onPageRequest:n}){var s=!(!e.placeholder||!e.more||t||null!=a),o=S$e(()=>{var e=[];return e.length=i,e},[i]);return I$e(()=>{var t;!r&&s||!e.more||null!=a||(null==n||n({startIndex:null!=(t=e.initialSize)?t:0,size:24}))},[e.initialSize,e.more,s,r,n,a]),{isPlaceholder:s,placeholderItems:o}}var C$e=a("grBd"),D$e=a.n(C$e),P$e=Ed.a.createElement,{useCallback:O$e,useEffect:j$e,useRef:T$e,useState:w$e}=Ed.a;function E$e({className:e=D$e.a.hub,hubHeaderClassName:t=D$e.a.hubHeader,hub:a,hubTitleComponent:i,keyPropName:r,items:n,totalSize:s,layout:o,cellComponentFactory:l,shouldCenterScrollIndex:c,onHubReady:d,onPageRequest:u}){var p,h,{title:m,initialSize:v,random:g}=a,y=T$e(null),f=w$e(!1),b=f[1],I=f[0],S=w$e("auto"),M=S[1],C=S[0],D=w$e(!1),P=D[1],O=D[0],j=w$e(!1),T=j[1],w=j[0],E=w$e(),N=E[1],x=E[0],[A,L]=(p={triggerOnce:!0},h=Object(g$e.a)(p),void 0===window.IntersectionObserver?[void 0,!0]:h),k=null==s||g?v:s,R=Math.min(1e4,null!=k?k:0),z={visibility:I?"visible":"hidden"},U={height:C,overflow:"hidden"},V=O$e(e=>{b(!0),M(e.height)},[]),B=O$e(e=>{var{visibleStartIndex:t,visibleEndIndex:a}=e;y.current=e,P(t>0),T(R>a+1)},[R]),F=O$e(()=>{var e=y.current;if(e){var t=e.visibleEndIndex-e.visibleStartIndex;N(Math.max(e.visibleStartIndex-t-1,0))}},[]),H=O$e(()=>{var e=y.current;e&&N(e.visibleEndIndex+1)},[]),{isPlaceholder:_,placeholderItems:Q}=M$e({hub:a,size:n.length,totalSize:s,placeholderSize:24,isVisible:L,onPageRequest:u});return j$e(()=>{0===s&&d&&d(a)},[s]),j$e(()=>{I&&d&&d(a)},[a,I,d]),j$e(()=>{null!=x&&N(void 0)},[x]),_||R?P$e("div",{className:e,style:z,ref:A},Uu()("div",{className:t},void 0,i?Uu()(i,{hub:a},void 0,m):Uu()(b$e,{},void 0,m),_||!O&&!w?null:Uu()("div",{className:D$e.a.hubActions},void 0,Uu()(tO,{className:D$e.a.hubScrollButton,iconComponent:oO,isDisabled:!O,title:Object(Ze.default)("Previous Page"),onPress:F}),Uu()(tO,{className:D$e.a.hubScrollButton,iconComponent:rO,isDisabled:!w,title:Object(Ze.default)("Next Page"),onPress:H}))),Uu()("div",{style:U},void 0,Uu()(BO,{scrollerKey:a.sourceURI,className:D$e.a.hubScroller,keyPropName:r,items:_?Q:n,scrollDirection:$u.Horizontal,targetScrollIndex:x,shouldCenterScrollIndex:c,autoScroll:!1,totalSize:_?Q.length:R,layout:o,cellComponentFactory:l,onListReady:V,onListUpdate:B,onPageRequest:_||!L?void 0:u}))):null}var N$e=Object(_u.a)(xv("columnWidthMultiplier"),e=>Math.floor(80*(e-1)+120)),x$e=Ed.a.createElement,{useMemo:A$e}=Ed.a,L$e=({hub:e,hubTitleComponent:t,items:a,totalSize:i,onHubReady:r,onPageRequest:n})=>{var{type:s,subtype:o,style:l=Dr.Shelf}=e,c=Object(Fu.d)(N$e),{containerDisplayFields:d}=lYe(),u=A$e(()=>l===Dr.WideShelf?function(e){var{type:t,subtype:a,columnWidth:i}=e,r=Je()(e,["type","subtype","columnWidth"]),n=wYe(t,a,{listStyle:Dr.WideShelf});return dO(Object.assign({columnWidth:3*i+v$e,rowHeight:Math.floor(i/n),aspectRatio:n,innerHorizontalPadding:v$e,outerPaddingTop:m$e,outerPaddingRight:h$e,outerPaddingBottom:m$e,outerPaddingLeft:h$e},r))}({type:s,subtype:o,columnWidth:c}):p$e({listType:s,subtype:o,listStyle:l,columnWidth:c,titleCount:s===Cr.Mixed?null==d?void 0:d.reduce((e,t)=>Math.max(e,t.fields.length),0):void 0,displayFields:d}),[l,s,o,c,d]),p=A$e(()=>e=>Uu()(_b.a,{column:e.cellIndex},e.key,l===Dr.WideShelf?x$e(n$e,e):x$e(JJe,e)),[l]);return Uu()(E$e,{hub:e,hubTitleComponent:t,keyPropName:"listItemKey",items:a,totalSize:i,layout:u,cellComponentFactory:p,onHubReady:r,onPageRequest:n})};var k$e=function(e,t,a){return Math.max(Math.min(e,a),t)},{useCallback:R$e,useRef:z$e,useState:U$e}=Ed.a;function V$e(){var e=U$e(!1),t=e[1],a=e[0],i=z$e(void 0);return[a,R$e(()=>{window.clearTimeout(i.current),t(!0)},[]),R$e(()=>{i.current=window.setTimeout(()=>{t(!1)})},[])]}var B$e=a("0yYQ"),F$e=a.n(B$e),H$e=Ed.a.createElement,{useMemo:_$e}=Ed.a;function Q$e({className:e,src:t}){return Uu()("img",{className:e,src:t})}var W$e=({isSelected:e,metadataItem:t})=>{var[a,i]=wv(),r=NYe(t,"key"),n=wAe(t.backgroundColor,0),s=wAe(t.backgroundColor,1),[o,l]=pS(),c=_$e(()=>({backgroundColor:s}),[s]),d=_$e(()=>({backgroundImage:"linear-gradient(to left, "+n+", "+s+" 400px)"}),[n,s]);return H$e("div",{className:o?F$e.a.hoveredCard:F$e.a.card,style:c,ref:l},Uu()("div",{className:F$e.a.colorGradient,style:d}),Uu()(YS,{serverEntityID:a.entityID,providerEntityID:i.entityID,className:F$e.a.image,url:t.art,size:hS,component:Q$e}),Uu()("div",{className:F$e.a.copyOverlay},void 0,Uu()("div",{className:F$e.a.title},void 0,t.title),Uu()("div",{className:F$e.a.summary},void 0,t.summary),Uu()("div",{className:F$e.a.action},void 0,t.action)),Uu()("div",{className:F$e.a.attributionLogo},void 0,Uu()(xAe,{attributionLogo:t.attributionLogo})),Uu()(qv,{tabIndex:e?void 0:-1,to:r,className:F$e.a.link,title:t.title}))},G$e=a("tSXP"),Y$e=a.n(G$e),{useCallback:K$e}=Ed.a,q$e=({index:e,selectedIndex:t,metadataItem:a,onPress:i})=>{var r=K$e(()=>{i(e)},[e,i]);return(Uu()(KC,{className:Y$e.a.dotButton,title:a.title,onPress:r},void 0,Uu()("span",{className:e===t?Y$e.a.dotIsSelected:Y$e.a.dot})))},Z$e=a("ycxr"),X$e=a.n(Z$e),J$e=Ed.a.createElement,{useCallback:$$e,useEffect:e0e,useState:t0e}=Ed.a;function a0e(e,t){return t*(e||0)}var i0e=({hub:e,items:t,onHubReady:a})=>{var[i,{width:r}]=Object(Bb.a)(),n=$$e(e=>{p(a0e(r,e))},[r]),s=t0e(0),o=s[1],l=s[0],c=$$e(({scrollLeft:e})=>{o(e)},[]),d=function(e,t,a){return e?k$e(Math.floor((a-e/2)/e)+1,0,t-1):0}(r,t.length,l),u=t0e(),p=u[1],h=u[0],[m,v,g]=V$e(),[y,f]=pS(),b=t0e(0),I=b[1],S=b[0];return e0e(()=>{I(Date.now())},[l]),e0e(()=>{if(l!==h){var a=Date.now()-S,i=m||y||!e.autoAdvanceDelayMs?null:window.setTimeout(()=>{p(a0e(r,TAe(d+1,t.length)))},a>e.autoAdvanceDelayMs?500:e.autoAdvanceDelayMs-a),n=window.setTimeout(()=>{var e=a0e(r,d);e!==l&&p(e)},1e3);return()=>{i&&window.clearTimeout(i),n&&window.clearTimeout(n)}}p(void 0)},[r,e.autoAdvanceDelayMs,m,y,t.length,S,d,l,h]),e0e(()=>{a&&(r||0===t.length)&&a(e)},[t.length,r,e,a]),0===t.length?null:J$e("div",{className:X$e.a.hub,ref:Object(ap.a)(i,f),onFocus:v,onBlur:g},Uu()(up,{className:void 0===h?X$e.a.hubScroller:X$e.a.hubScrollerControlledScroll,scrollDirection:$u.Horizontal,smoothScroll:!0,targetScrollLeft:h,onScrollPositionChange:c},void 0,t.map((e,t)=>Uu()("div",{className:X$e.a.cell},t,Uu()(_b.a,{column:t},void 0,Uu()(W$e,{isSelected:t===d,metadataItem:e}))))),t.length>1?Uu()("div",{className:X$e.a.dots},void 0,t.map((e,t)=>Uu()(q$e,{metadataItem:e,index:t,selectedIndex:d,onPress:n},t))):null)},r0e=a("R7A0"),n0e=a.n(r0e),{useCallback:s0e,useEffect:o0e}=Ed.a,l0e=({hub:e,onHubReady:t})=>{var[,a]=wv(),i=NKe({pane:"tidalBanner"}),r=s0e(()=>{i({action:kd.ob})},[i]);return o0e(()=>{null==t||t(e)},[e,t]),jt.k(a.identifier,jt.f)?Uu()("div",{className:n0e.a.container},void 0,Uu()("div",{className:n0e.a.text},void 0,Uu()("div",{className:n0e.a.logo,"aria-label":"Tidal"}),Uu()("div",{className:n0e.a.body},void 0,Object(Ze.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),Uu()(qv,{to:Fp,className:n0e.a.link,target:"_blank",rel:"noopener noreferrer",onPress:r},void 0,Object(Ze.default)("Learn more at plex.tv")))):null};var c0e=function(e){return Object(_u.a)(Ub,t=>t.metadataLists[e])},{useCallback:d0e,useEffect:u0e,useMemo:p0e}=Ed.a;var h0e=({hub:e,hubTitleComponent:t,onHubReady:a})=>{var{sourceURI:i,key:r,type:n,subtype:s,random:o,Meta:l,style:c=Dr.Shelf,isStale:d}=e,u=Object(Fu.c)(),[p,h]=wv(),m=p0e(()=>c0e(i),[i]),v=Object(Fu.d)(m);u0e(()=>{d&&!o&&u(gn.actions.throttledRepopulateRangeRequested({server:p,provider:h,sourceURI:i}))},[u,d,h,o,p,i]);var g=d0e(e=>{u(gn.actions.fetchRangeRequested(Object.assign({},e,{server:p,provider:h,sourceURI:i})))},[u,h,p,i]),y=function(e){switch(e){case Dr.Spotlight:return i0e;case Dr.Upsell:return l0e}return L$e}(c);return Uu()(cYe,{containerServer:p,containerProvider:h,containerSourceURI:v.sourceURI,containerKey:r,containerType:n,containerSubtype:s,containerDisplayFields:null==l?void 0:l.DisplayFields,listStyle:c},void 0,Uu()(eqe,{items:v.items},void 0,Uu()(y,{hub:e,hubTitleComponent:t,items:v.items,totalSize:v.totalSize,onHubReady:a,onPageRequest:g})))},{useCallback:m0e,useRef:v0e,useState:g0e}=Ed.a,y0e={opacity:0,pointerEvents:"none"},f0e={opacity:1,pointerEvents:"auto"};function b0e({className:e,hubs:t,hubComponent:a,hubTitleComponent:i,metricsRowOffset:r=0,onHubsReady:n}){var s=v0e(new Set),o=g0e(!1),l=o[1],c=o[0],d=m0e(e=>{var a=s.current;a.add(e.hubIdentifier),t.every(e=>a.has(e.hubIdentifier))&&(l(!0),null==n||n())},[t,n]),u=r;return Uu()("div",{className:e,style:c?f0e:y0e},void 0,t.map((e,t)=>Uu()(_b.a,{name:e.context,row:e.initialSize||e.more?u++:void 0},t,Uu()(a,{hub:e,hubTitleComponent:i,onHubReady:d}))))}var I0e=Object(_u.a)(GGe,e=>e.hubsListsBySource),S0e=Object(uv.a)(e=>Object(_u.a)(I0e,t=>t[e]));var M0e,C0e=Object(uv.a)((function(e){return Object(_u.a)(I0e,eYe,(t,a)=>{var i=a.indexOf(e);return a.slice(0,-1===i?a.length:i).reduce((e,a)=>t[a].hubs.reduce((e,{initialSize:t,more:a})=>e+(t||a?1:0),e),0)})}));!function(e){e.Plex="com.plex",e.Tidal="com.tidal",e.WatchTogether="com.watchtogether"}(M0e||(M0e={}));var D0e={[M0e.Tidal]:tS,[M0e.WatchTogether]:iS},P0e=({className:e,attribution:t})=>{var a=D0e[t];return a?Uu()(a,{className:e}):null},O0e=a("GP3F"),j0e=a.n(O0e),T0e=({children:e,hub:t})=>Uu()(b$e,{},void 0,t.attribution?Uu()(P0e,{className:j0e.a.attribution,attribution:t.attribution}):null,e),w0e=Object(_u.a)(ZGe,e=>{var t={},a=e.reduce((e,{server:a})=>{if(!a||t[a.machineIdentifier])return e;var{machineIdentifier:i,sourceTitle:r,isFullOwnedServer:n}=a;return t[i]=!0,n?e.numOwnedServers++:r&&(e.numSharedServers++,e.byOwner[r]?e.byOwner[r]++:e.byOwner[r]=1),e},{numSharedServers:0,numOwnedServers:0,byOwner:{}});return e.reduce((e,{server:t,provider:i,source:r})=>{if(!t)return e;var{friendlyName:n,sourceTitle:s,isCloud:o,isFullOwnedServer:l}=t;return o&&i?i.sourceTitle&&(a.numOwnedServers||a.numSharedServers)?e[r]=i.title+" ("+i.sourceTitle+")":e[r]=i.title:s&&(a.numOwnedServers||a.numSharedServers>1)?1===a.byOwner[s]?e[r]=s:e[r]=s+" ("+n+")":l&&a.numOwnedServers>1&&(e[r]=n),e},{})}),E0e=LS(w0e,e=>e),N0e=Object(uv.a)(e=>Object(_u.a)(E0e,t=>t[e])),x0e=a("pmMa"),A0e=a.n(x0e),L0e=Uu()($y,{}),k0e=({children:e,hub:t})=>{var{metricsContextTuple:a}=Object(_b.d)(),i=Object(Fu.d)(N0e(t.source)),r=jAe(t.source,{key:t.key,title:t.title,pageType:TGe.List,context:Object(_b.b)(a)});return Uu()(T0e,{hub:t},void 0,Uu()(qv,{to:r},void 0,e),i?Uu()("span",{className:A0e.a.sourceTitle},void 0,L0e,i):null)},{memo:R0e,useCallback:z0e}=Ed.a,U0e=R0e(({source:e,onHomeHubsReady:t})=>{var a=Object(Fu.d)(S0e(e)),i=Object(Fu.d)(C0e(e)),r=z0e(()=>{t(e)},[t,e]);return Uu()(b0e,{hubs:a.hubs,hubComponent:h0e,hubTitleComponent:k0e,metricsRowOffset:i,onHubsReady:r})}),{useCallback:V0e,useEffect:B0e,useState:F0e}=Ed.a,H0e=({className:e})=>{var t=Object(Fu.c)(),a=Object(Fu.d)(xv("columnWidthMultiplier")),i=F0e(a),r=i[1],n=i[0],s=V0e(({positionValue:e})=>{r(e)},[]);return B0e(()=>{var e,i=Math.round(10*n)/10;return n!==a&&(e=window.setTimeout(()=>{t(Object(Qu.f)({columnWidthMultiplier:i}))},100)),()=>window.clearTimeout(e)},[a,t,n]),Uu()(rB,{className:e,label:Object(Ze.default)("Poster Size"),value:n,min:1,max:2,onChange:s})};function _0e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}_0e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Q0e=_0e;function W0e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}W0e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var G0e=W0e;function Y0e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Y0e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var K0e=Y0e,q0e=a("7MQH"),Z0e=a.n(q0e),{useCallback:X0e}=Ed.a;var J0e=({listStyles:e,selectedListStyle:t,onListStyleSelect:a})=>{var i=wye(),r=ny(),n=X0e(e=>{i.onClose(),null==a||a(e)},[i,a]),s=e.length>1,o=t===Dr.Grid||t===Dr.PrePlayGrid,l=function(e){switch(e){case Dr.Details:case Dr.SimpleDetails:return G0e;case Dr.Table:return Q0e;default:return K0e}}(t);return o||s?Uu()("div",{className:Z0e.a.stylesContainer},void 0,o?Uu()(H0e,{className:Z0e.a.slider}):null,Uu()(qv,{id:r,"data-qa-id":"toolbarView",className:s?Z0e.a.stylesButtonWithArrow:Z0e.a.stylesButton,"aria-label":Object(Ze.default)("Show List Styles"),isDisabled:!s,onPress:i.onToggle},void 0,Uu()(l,{className:Z0e.a.stylesIcon}),s?Uu()(my,{direction:i.isOpen?cy:dy}):null),s?Uu()(Fg,{target:r,isOpen:i.isOpen,onMenuClose:i.onClose},void 0,e.map(e=>{var a=function(e){switch(e){case Dr.Grid:case Dr.PrePlayGrid:return Object(Ze.default)("Grid View");case Dr.Details:case Dr.SimpleDetails:return Object(Ze.default)("Detail View");case Dr.Table:return Object(Ze.default)("Table View");default:return}}(e);return a?Uu()(iy,{isSelected:t===e,title:a,value:e,onSelect:n},e,a):null})):null):null},$0e=a("Ir6/"),e1e=a("X4XD"),t1e=a.n(e1e),a1e=Ed.a.createElement,{Fragment:i1e}=Ed.a,r1e=e=>{var{isLabeled:t,className:a=(t?t1e.a.labeledActionButton:t1e.a.iconActionButton),iconClassName:i=t1e.a.icon,tooltipClassName:r=t1e.a.tooltip,kind:n,icon:s,tooltipAttachment:o=Sb,title:l}=e,c=Je()(e,["isLabeled","className","iconClassName","tooltipClassName","kind","icon","tooltipAttachment","title"]);return t?a1e(KC,tp()({className:a,kind:n},c),s?Uu()(i1e,{},void 0,Uu()(s,{className:i})," "):null,l):a1e(zb,tp()({className:a,tooltipClassName:r,component:KC,tooltip:l,tooltipAttachment:o},c),s?Uu()(s,{className:i}):null)},n1e=Object(_u.a)(_Ke,e=>!!e.count);var s1e=function(e){return e.count?Object.keys(e.items).map(t=>e.items[t]):[]},o1e=Sv(Object(_u.a)(_Ke,MYe,pv,Gu,e=>e.servers,mv("providers"),(e,t,a,i,r,n)=>{var s=s1e(e);return s.length?s.map(e=>{var s,{serverIdentifier:o,providerIdentifier:l}=Object(Bn.a)(e.source),c=r.find(e=>{var t=i[e];return!!t&&t.machineIdentifier===o}),d=c?i[c]:gv,u=(d.isCloud?n:d.providers).find(e=>a[e].identifier===l),p=u?a[u]:vv;return{metadataItem:e,metadataItemState:null!=(s=t[e.sourceURI])?s:{tempState:{}},server:Mv(d),provider:p}}):[]}),e=>e),l1e=a("yfFC");function c1e(e){if(!e.length)return!1;var[{metadataItem:t}]=e;return e.every(({metadataItem:e})=>t.type===e.type&&t.subtype===e.subtype)}function d1e(e){if(!e.length)return!1;var[{server:t,provider:a}]=e;return e.every(({server:e,provider:i})=>e.machineIdentifier===t.machineIdentifier&&i.identifier===a.identifier)}function u1e(e,t){return e.every(({server:e,provider:a,metadataItem:i,metadataItemState:r})=>LZe({server:e,provider:a,stableUser:t,metadataItem:i,metadataItemState:r})||AZe({server:e,provider:a,stableUser:t,metadataItem:i,metadataItemState:r}))}function p1e(e,t){return!!e.length&&(!!c1e(e)&&b1e(e,t,kZe))}var h1e=[Nr.Movie,Nr.Show,Nr.Season,Nr.Artist,Nr.Album];function m1e(e,t){if(e.length<2)return!1;if(!p1e(e,t))return!1;if(!c1e(e))return!1;if(!d1e(e))return!1;var[{metadataItem:a}]=e;return h1e.includes(a.type)}function v1e(e,t){if(!e.length)return!1;if(!d1e(e))return!1;var[{provider:a}]=e;if(!mqe(a))return!1;var i=e.reduce((e,{metadataItem:t})=>{var a=function(e){var{type:t,subtype:a,playlistType:i}=e;switch(a){case Ar.Photo:switch(t){case Nr.Clip:return l1e.a.Photo}}switch(QZe(t,a)||t){case Nr.Playlist:if(!i)throw new Error("playlistType missing from playlist metadataItem");switch(i){case kr.Audio:case kr.Video:return l1e.a.AudioVideo;case kr.Photo:return l1e.a.Photo}break;case Nr.Track:return l1e.a.AudioVideo;case Nr.Episode:case Nr.Movie:case Nr.Clip:return l1e.a.AudioVideo;case Nr.Photo:return l1e.a.Photo}throw new Error("No known player type for "+t)}(t);return e.includes(a)||e.push(a),e},[]);return!(i.length>1&&i.includes(l1e.a.Photo))&&y1e(e,t,DZe)}function g1e(e,t){if(!e.length)return!1;var[{metadataItem:a}]=e;if(e.some(({metadataItem:e})=>e.type===Nr.Playlist))return!1;var i=rKe(a.type,a.subtype);return!!e.every(({metadataItem:e})=>i===rKe(e.type,e.subtype))&&(!!d1e(e)&&b1e(e,t,OZe))}function y1e(e,t,a){return!!e.length&&e.every(e=>a(Object.assign({},e,{stableUser:t})))}function f1e(e,t,a){return!!e.length&&e.some(e=>a(Object.assign({},e,{stableUser:t})))}function b1e(e,t,a){return!!e.length&&(!!d1e(e)&&y1e(e,t,a))}var I1e=function(e,t){return{isAddToLibraryVisible:y1e(e,t,wZe),isAddToPlaylistVisible:g1e(e,t),isAnalyzeVisible:y1e(e,t,zZe),isDeleteVisible:y1e(e,t,BZe),isEditVisible:p1e(e,t),isMarkPlayedOrUnplayedVisible:u1e(e,t),isMarkPlayedVisible:f1e(e,t,AZe),isMarkUnplayedVisible:f1e(e,t,LZe),isMergeVisible:m1e(e,t),isOptimizeVisible:y1e(e,t,VZe),isPlayVisible:v1e(e,t),isRefreshVisible:y1e(e,t,RZe)}},S1e=a("ZrFe"),M1e=a.n(S1e),C1e=Ed.a.createElement;function D1e(e){return C1e("div",e)}D1e.defaultProps={className:M1e.a.pageHeader};var P1e=D1e;function O1e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}O1e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var j1e=O1e;function T1e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-played-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM24 40.8C33.2784 40.8 40.8 33.2784 40.8 24C40.8 14.7216 33.2784 7.19998 24 7.19998C14.7216 7.19998 7.19998 14.7216 7.19998 24C7.19998 33.2784 14.7216 40.8 24 40.8ZM22.9177 33.9317L13.5646 28.5317L15.3646 25.414L21.6 29.014L30 14.4648L33.1177 16.2648L22.9177 33.9317Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}T1e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var w1e=T1e;function E1e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-mark-unplayed-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M24 44.4C12.7333 44.4 3.59998 35.2666 3.59998 24C3.59998 12.7333 12.7333 3.59998 24 3.59998C35.2666 3.59998 44.4 12.7333 44.4 24C44.4 35.2666 35.2666 44.4 24 44.4ZM15.3646 25.414L13.5646 28.5317L22.9176 33.9317L33.1176 16.2648L30 14.4648L21.5999 29.014L15.3646 25.414Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}E1e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var N1e=E1e;function x1e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-more-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m168 280c0 30.897-25.103 56-56 56-30.896 0-56-25.103-56-56 0-30.897 25.104-56 56-56 31.862.965 56 25.103 56 56m112-56c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56m168 0c-30.897 0-56 25.103-56 56 0 30.897 25.103 56 56 56 30.897 0 56-25.103 56-56 0-30.897-25.103-56-56-56"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}x1e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var A1e=x1e;function L1e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}L1e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var k1e=L1e,R1e=a("btL4"),z1e=a.n(R1e),{Fragment:U1e,useCallback:V1e,useEffect:B1e,useMemo:F1e}=Ed.a;function H1e(e){var[t,...a]=e;if(1===e.length)return t.sourceURI;nn(e.every(e=>e.source===t.source),"AddToPlaylistModal may only be used with same source items");var i=a.map(e=>e.ratingKey);return t.sourceURI+","+i.join(",")}function _1e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as unplayed?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Q1e(e,t){var a=1===e;return t?a?Object(Ze.default)("Are you sure you want to remove this item?"):Object(Ze.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:e}):a?Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:e})}var W1e=["isPlayVisible","isMarkPlayedOrUnplayedVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isAddToPlaylistVisible","isEditVisible"],G1e=({className:e=z1e.a.container})=>{var t=Object(Fu.c)(),a=Object(Fu.d)(_Ke),i=Object(Fu.d)(o1e),r=Object(Fu.d)(uw),n=Object(Fu.d)(n1e),s=I1e(i,r),o=F1e(()=>i.map(({metadataItem:e})=>e),[i]),l=NKe({mode:"multiselect",type:F1e(()=>{var e=i.map(({metadataItem:e})=>e.type);return e.filter((t,a)=>e.indexOf(t)===a).sort().join(",")},[i]),itemCount:i.length}),c=a.count,d=wye(),u=wye(),p=ny(),h=wye(),m=wye(),v=ny(),g=V1e(()=>{t($n.actions.reset())},[t]),y=V1e(()=>{l({action:kd.M}),t(FN({legacyAction:qN({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),g()},[t,i,g,l]),f=V1e(()=>{l({action:kd.gb}),t(FN({legacyAction:nx({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),g()},[t,i,g,l]),b=V1e(()=>{l({action:kd.P}),t(FN({legacyAction:cx({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),h.onClose(),g()},[t,h,i,g,l]),I=V1e(()=>{l({action:kd.d}),t(FN({legacyAction:lx({serverEntityID:i[0].server.entityID,providerEntityID:i[0].provider.entityID}),items:i})),h.onClose(),g()},[t,h,i,g,l]),S=V1e(()=>{l({action:kd.c}),g()},[g,l]),M=V1e(()=>{l({action:kd.w}),t(FN({legacyAction:JN(),items:i})),g()},[t,i,g,l]),C=V1e(()=>{l({action:kd.I}),t(FN({legacyAction:ax(),items:i})),h.onClose(),g()},[t,h,i,g,l]),D=V1e(()=>{l({action:kd.p}),t(FN({legacyAction:rx(),legacyOptions:{skipRedirect:!0},items:i})),g()},[t,i,g,l]),P=V1e(()=>{l({action:kd.h}),t(FN({legacyAction:ex(),items:i})),h.onClose(),g()},[t,h,i,g,l]),O=V1e(()=>{l({action:kd.G}),t(FN({legacyAction:ix(),items:i})),h.onClose(),g()},[t,h,i,g,l]),j=V1e(()=>{l({action:kd.V}),t(FN({legacyAction:$N(),items:i})),h.onClose(),g()},[t,h,i,g,l]),T=V1e(()=>{var e=s.isMarkPlayedVisible;l({action:e?kd.F:kd.E}),i.forEach(({metadataItem:a,server:i,provider:r})=>{t(yn.actions.playedStatusUpdateRequested({server:i,provider:r,sourceURI:a.sourceURI,ratingKey:a.ratingKey,played:e}))}),g()},[t,s.isMarkPlayedVisible,i,g,l]),w=V1e(({targetServer:e,targetProvider:a,targetLibrarySectionID:r,targetLibraryType:n})=>{l({action:kd.b}),i.forEach(({metadataItem:i,server:s,provider:o})=>{t(yn.actions.addToLibraryRequested({targetServer:e,targetProvider:a,targetLibrarySectionID:r,targetLibraryType:n,server:s,provider:o,metadataItem:i}))}),g()},[t,i,g,l]),E=V1e(()=>{l({action:kd.c}),m.onOpen()},[m,l]),N=V1e(()=>{t($n.actions.reset())},[t]);if(B1e(()=>()=>{g()},[g]),!n)return null;var x,A=Kr(s).every(([e,t])=>"isMarkPlayedVisible"===e||"isMarkUnplayedVisible"===e||!t),L=Kr(s).some(([e,t])=>!W1e.includes(e)&&t),k=i.every(({metadataItem:e})=>e.remoteMedia);return Uu()(P1e,{className:e},void 0,Uu()("div",{className:z1e.a.count},void 0,Uu()(ey,{className:z1e.a.icon}),Object(Ze.default)("{count} items selected",{count:c})),A?Uu()("div",{className:z1e.a.actions},void 0,Object(Ze.default)("No actions available for this selection")):Uu()("div",{className:z1e.a.actions},void 0,s.isPlayVisible?Uu()(r1e,{className:z1e.a.button,title:Object(Ze.default)("Play"),icon:k1e,onPress:y}):null,s.isMarkPlayedOrUnplayedVisible?Uu()(r1e,{className:z1e.a.button,title:s.isMarkPlayedVisible?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),icon:s.isMarkPlayedVisible?w1e:N1e,onPress:d.onOpen}):null,s.isAddToPlaylistVisible?Uu()(U1e,{},void 0,Uu()(r1e,{id:v,icon:cxe,title:Object(Ze.default)("Add to Playlist"),onPress:E}),Uu()(ZXe,{isOpen:m.isOpen,playlistType:rKe(o[0].type,o[0].subtype),sourceURI:H1e(o),defaultDestinationSource:o[0].source,defaultPlaylistTitle:Object($0e.a)(o.map(({title:e})=>e)),isDestinationMenuHidden:!0,onModalClose:m.onClose,onPlaylistSave:S})):null,s.isEditVisible?Uu()(r1e,{className:z1e.a.button,title:Object(Ze.default)("Edit"),icon:j1e,onPress:M}):null,L?Uu()(r1e,{id:p,className:z1e.a.button,title:Object(Ze.default)("More"),icon:A1e,onPress:h.onToggle}):null,Uu()(HH,{isOpen:d.isOpen,metricsPage:s.isMarkPlayedVisible?Rd.t:Rd.s,title:s.isMarkPlayedVisible?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),message:s.isMarkPlayedVisible?(x=i.length,1===x?Object(Ze.default)("Are you sure you want to mark this item as played?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:x})):_1e(i.length),onConfirm:T,onCancel:d.onClose}),Uu()(Fg,{target:p,isOpen:h.isOpen,onMenuClose:h.onClose},void 0,s.isPlayVisible?Uu()(Gg,{onPress:f},void 0,Object(Ze.default)("Shuffle")):null,s.isPlayVisible?Uu()(Gg,{onPress:b},void 0,Object(Ze.default)("Play Next")):null,s.isPlayVisible?Uu()(Gg,{onPress:I},void 0,Object(Ze.default)("Add to Queue")):null,s.isRefreshVisible?Uu()(Gg,{onPress:j},void 0,Object(Ze.default)("Refresh Metadata")):null,s.isAnalyzeVisible?Uu()(Gg,{onPress:P},void 0,Object(Ze.default)("Analyze")):null,s.isOptimizeVisible?Uu()(Gg,{onPress:C},void 0,Object(Ze.default)("Optimize...")):null,s.isMergeVisible?Uu()(Gg,{onPress:O},void 0,Object(Ze.default)("Merge")):null,s.isAddToLibraryVisible?Uu()(iZe,{onAddToLibrary:w}):null,s.isDeleteVisible?Uu()(Gg,{kind:k?Bv.Default:Bv.Danger,onPress:Ib(u.onOpen,h.onClose)},void 0,k?Object(Ze.default)("Remove"):Object(Ze.default)("Delete")):null),Uu()(HH,{isOpen:u.isOpen,metricsPage:Rd.k,title:k?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),message:Q1e(c,k),onConfirm:D,onCancel:u.onClose})),Uu()("div",{className:z1e.a.deselect},void 0,Uu()(qv,{onPress:N},void 0,Uu()(DI,{className:z1e.a.icon}),Object(Ze.default)("Deselect All"))))},Y1e=a("ovLB"),K1e=a.n(Y1e);function q1e({className:e}){return Uu()("div",{className:e})}q1e.defaultProps={className:K1e.a.pageHeaderDivider};var Z1e=q1e,X1e=a("ce/m"),J1e=a.n(X1e);var $1e=function({children:e}){return Uu()("div",{className:J1e.a.container},void 0,e)},e2e=Ed.a.createElement,t2e=Uu()(j1e,{});var a2e=function(e){return e2e(oJ,tp()({tooltip:Object(Ze.default)("Edit"),"data-qa-id":"toolbarEdit"},e),t2e)};function i2e(e,t,a){var i=e.slice(0);if(a<0||a>i.length)return i;var r=i[t];return(i=function(e,t){var a=e.slice(0);return t<0||t>=a.length?a:(a.splice(t,1),a)}(i,t)).splice(a,0,r),i}function r2e(){return Object(_u.a)(lfe,(e,{homeHubID:t})=>t,(e,t)=>e.hubs.find(e=>e.id===t))}var n2e=function(){return Object(_u.a)(e=>e.ui.homePage.homeHubStatuses,(e,{homeHubID:t})=>t,(e,t)=>e.find(e=>e.homeHubID===t))};function s2e(){return Object(_u.a)(sfe,n2e(),(e,t)=>e[t.hub])}function o2e(){return Object(_u.a)(Gu,n2e(),(e,t)=>e[t.server])}function l2e(){return Object(_u.a)(r2e(),s2e(),Object(_u.a)(pv,n2e(),(e,t)=>e[t.provider]),o2e(),(e,t,a,i)=>CAe(t?a:e.provider,t?i:e.server))}function c2e(){return Object(_u.a)(s2e(),r2e(),(e,t)=>{var a;return e&&e.title?a=e.title:t&&t.title&&(a=t.title),a||Object(Ze.default)("Unknown")})}var d2e=a("Ygol"),u2e=a.n(d2e),p2e=Uu()($y,{});function h2e(e,t){var{className:a,sourceTitle:i,title:r,style:n,isRemoved:s,connectDragSource:o,onToggleRemoveHomeHub:l}=e;return(Uu()("div",{className:(a||"")+" "+(s&&u2e.a.isRemoved||""),style:n},void 0,o(Uu()("div",{},void 0,Uu()(Pxe,{className:u2e.a.iconReorder}))),Uu()("span",{className:u2e.a.label},void 0,Uu()("span",{className:u2e.a.title},void 0,r),i?p2e:null,i||null),Uu()(efe,{className:u2e.a.toggleButton,isRemovable:!s,tooltip:s?Object(Ze.default)("Restore"):Object(Ze.default)("Remove"),onPress:l})))}h2e.defaultProps={className:u2e.a.listItem,isRemoved:!1,connectDragSource:e=>e};var m2e=h2e;var v2e=Object(Fu.b)((function(){return Object(_u.a)(c2e(),l2e(),(e,t)=>({title:e,sourceTitle:t}))}),(function(e,t){return{onToggleRemoveHomeHub(){t.onToggleRemoveHomeHub(t.homeHubID)}}}))(m2e);v2e.propTypes=Object.assign({},v2e.propTypes,{homeHubID:Oc.a.string.isRequired});var g2e=v2e;function y2e(e,t){var{x:a,y:i}=e,r="translate3d("+a+"px, "+i+"px, 0)";return{WebkitTransform:r,msTransform:r,transform:r,width:t?t+"px":"100%"}}var f2e=a("vTNh"),b2e=a.n(f2e),I2e=Ed.a.createElement,{Component:S2e}=Ed.a,M2e=parseInt(GU.homeServerListItemHeight,10);var C2e=Object(axe.DragLayer)((function(e,t){var a=e.getItem(),i={item:a,style:null},r=e.getInitialSourceClientOffset(),n=e.getSourceClientOffset();if("HOME_HUB_ITEM"===e.getItemType()&&r&&n){var s=n.y;s-a.listTop<=0?s=a.listTop:s+M2e>=a.listBottom&&(s=a.listBottom-M2e),i.style=y2e({x:r.x,y:s},a.listWidth)}return i}))(class extends S2e{render(){var{item:e,style:t}=this.props;if(!e||!t)return null;var a=Je()(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return(Uu()(mxe,{},void 0,I2e(g2e,tp()({},a,{style:t,className:b2e.a.listItem}))))}}),D2e=a("eEGg"),P2e=a.n(D2e),O2e=Ed.a.createElement,{Component:j2e}=Ed.a,T2e={beginDrag(e,t,a){var{homeHubID:i,listIndex:r,isRemoved:n,listHeight:s,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}=e;return{dragIndex:r,homeHubID:i,isRemoved:n,listHeight:s,listWidth:o,listTop:l,listRight:c,listBottom:d,listLeft:u}},endDrag(e,t,a){e.onItemDragEnd({didDrop:t.didDrop()})}},w2e={hover(e,t,a){var i,r=t.getClientOffset(),n=Object(Vu.findDOMNode)(a).getBoundingClientRect(),s=(n.bottom-n.top)/2,o=r.y-n.top,l=t.getItem().dragIndex,c=e.listIndex;i=c===l?c:o>s?c+1:c,e.onItemDragMove({dragIndex:l,dropIndex:i})}};var E2e=Object(axe.DropTarget)("HOME_HUB_ITEM",w2e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("HOME_HUB_ITEM",T2e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends j2e{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}render(){var e=this.props,{isOver:t,isDragging:a,isDraggingBefore:i,isDraggingAfter:r,connectDropTarget:n}=e,s=Je()(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return n(Uu()("div",{className:(P2e.a.container||"")+" "+(t&&P2e.a.isOver||"")+" "+(a?"isDragging":"")+" "+(t&&i?"isDraggingBefore":"")+" "+(t&&r?"isDraggingAfter":"")},void 0,O2e(g2e,s)))}})),N2e=a("xJXR"),x2e=a.n(N2e),A2e=Ed.a.createElement,{Component:L2e}=Ed.a,k2e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1},R2e=Uu()(og,{},void 0,Uu()(C2e,{}));class z2e extends L2e{constructor(e,t){super(e,t),this.onItemDragMove=e=>{var{dragIndex:t,dropIndex:a}=e,{dragIndex:i,dropIndex:r}=this.state,n=a!==r?a:r,s=t!==i?t:i;if((n===s||n>s&&n-s==1)&&(n=-1),s!==i||n!==r){var o={dragIndex:s,dropIndex:n,hasValidDropTarget:-1!==n};this.setState(o)}},this.onItemDragEnd=e=>{var t,{dragIndex:a,dropIndex:i}=this.state;e.didDrop&&-1!==i&&(t=()=>{this.props.onReorderHomeHub({fromIndex:a,toIndex:i>a?i-1:i})}),this.setState(k2e,t)},this.onMeasure=e=>{var{height:t,width:a,x:i,y:r}=e;this.setState({listHeight:t,listWidth:a,listTop:r,listRight:i+a,listBottom:r+t,listLeft:i})},this.state=Object.assign({},k2e,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){var{className:e,homeHubs:t,removedHomeHubIDs:a,onToggleRemoveHomeHub:i}=this.props,{dropIndex:r,hasValidDropTarget:n}=this.state;return Uu()(p$,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,Uu()(rh,{className:x2e.a.scroller,scrollDirection:"vertical"},void 0,t.map(({id:e},t)=>{var s=t,o=n&&r===s,l=n&&r===s+1;return A2e(E2e,tp()({},this.state,{key:e,homeHubID:e,listIndex:s,hasValidDropTarget:n,isRemoved:!!a[e],isDraggingAfter:l,isDraggingBefore:o,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleRemoveHomeHub:i}))}),R2e))}}z2e.defaultProps={className:x2e.a.container};var U2e=nxe(z2e),V2e=a("nSpa"),B2e=a.n(V2e),{Component:F2e,Fragment:H2e}=Ed.a;function _2e(e){return{mode:e,isEditing:1===e,isEmpty:2===e,isResettingCustomization:3===e,isManageAutomaticallyOptIn:4===e,isManagedAutomatically:5===e}}function Q2e(e){var t=_2e(e.isAutoHomeHubsEnabled?5:e.homeHubs.length?1:2);return t.editableHomeHubs=e.homeHubs,t.homeHubs=e.homeHubs,t.removedHomeHubIDs={},t}var W2e=Uu()(eje,{});var G2e=class extends F2e{static getDerivedStateFromProps(e,t){return e.homeHubs!==t.homeHubs?Q2e(e):null}constructor(e,t){super(e,t),this.onSaveButtonPress=()=>{var{editableHomeHubs:e,removedHomeHubIDs:t}=this.state,a=e.reduce((e,a)=>(a.id in t||e.push(a.id),e),[]);this.props.onReorderHomeHubs({isUserInitiated:!0,homeHubIDs:a.concat(this.props.hiddenHomeHubIDs)}),this.props.onModalClose()},this.onCancelButtonPress=()=>{this.props.onModalClose()},this.onBackButtonPress=()=>{var e=_2e(this.state.editableHomeHubs.length?1:2);this.setState(e)},this.onResetCustomizationLinkPress=()=>{var e=_2e(3);this.setState(e)},this.onToggleRemoveHomeHub=e=>{var{removedHomeHubIDs:t}=this.state,a=Object.assign({},t);e in a?delete a[e]:a[e]=e,this.setState({removedHomeHubIDs:a})},this.onReorderHomeHub=({fromIndex:e,toIndex:t})=>{if(e!==t){var{editableHomeHubs:a}=this.state;this.setState({editableHomeHubs:i2e(a,e,t)})}},this.onManageHomeAutomaticallyPress=()=>{this.setState(_2e(4))},this.onPreviousButtonPress=()=>{this.setState(_2e(1))},this.state=Q2e(e)}render(){var{settingsKey:e,onResetCustomization:t,onEnableAutoHomeHubs:a,onDisableAutoHomeHubs:i,onModalClose:r}=this.props,{editableHomeHubs:n,isEditing:s,isEmpty:o,isResettingCustomization:l,isManagedAutomatically:c,isManageAutomaticallyOptIn:d,removedHomeHubIDs:u}=this.state,p=$.prop("X-Plex-Product");return Uu()(UL,{onModalClose:r},void 0,Uu()(jL,{},void 0,s||o||c?Object(Ze.default)("Edit Home Screen"):null,l?Object(Ze.default)("Reset Customization"):null,d?Object(Ze.default)("Manage Home Automatically?"):null),Uu()(fL,{className:B2e.a.modalBody,innerClassName:B2e.a.innerModalBody,scrollDirection:Jp},void 0,Uu()("div",{className:(B2e.a.pane||"")+" "+((o?null:B2e.a.isHidden)||"")},void 0,Uu()("p",{},void 0,Object(Ze.default)('Your home screen is currently empty. Click the "+" beside the title of any content row in a media source to add it to your home screen, or click "{buttonLabel}" below to reset your sidebar navigation and home screen layout to the default state, and revisit {productName} Setup.',{buttonLabel:Object(Ze.default)("Reset Customization"),productName:p}))),Uu()("div",{className:(B2e.a.pane||"")+" "+(B2e.a.editPane||"")+" "+((s?null:B2e.a.isHidden)||"")},void 0,Uu()("p",{},void 0,Object(Ze.default)("Drag to reorder the content hubs shown on your home screen, or remove them entirely. Only hubs with content in them will be visible on your home screen.")),Uu()("p",{className:B2e.a.centeredContainer},void 0,Uu()(Vp,{kind:Dp,onPress:this.onManageHomeAutomaticallyPress},void 0,W2e," ",Object(Ze.default)("Manage Home Automatically"))),s?Uu()(U2e,{className:B2e.a.sortableServers,homeHubs:n,removedHomeHubIDs:u,onReorderHomeHub:this.onReorderHomeHub,onToggleRemoveHomeHub:this.onToggleRemoveHomeHub}):null),Uu()("div",{className:(B2e.a.pane||"")+" "+((l?null:B2e.a.isHidden)||"")},void 0,Uu()("p",{},void 0,Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state. Youll be redirected to the {productName} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{productName:p}))),Uu()("div",{className:(B2e.a.pane||"")+" "+((d?null:B2e.a.isHidden)||"")},void 0,Uu()("p",{},void 0,Object(Ze.default)("Plex can use your pinned sources and other hints to provide home screen content that is valuable to you.  This will reset any home screen customization you have made.")),Uu()("p",{className:(B2e.a.stackedButtonsContainer||"")+" "+(B2e.a.centeredContainer||"")},void 0,Uu()(rT,{kind:Dp,onPress:a},void 0,Object(Ze.default)("Let's do it!")))),Uu()("div",{className:(B2e.a.pane||"")+" "+((c?null:B2e.a.isHidden)||"")},void 0,Uu()("p",{},void 0,Object(Ze.default)("Plex is currently managing your home screen automatically.")),Uu()("p",{},void 0,Object(Ze.default)("Plex uses your pinned sources and other hints to provide home screen content that is valuable to you. If you disable this setting, Plex will no longer be able to automatically suggest home screen content.")),Uu()("p",{className:(B2e.a.stackedButtonsContainer||"")+" "+(B2e.a.centeredContainer||"")},void 0,Uu()(rT,{kind:Dp,onPress:r},void 0,Object(Ze.default)("Continue With Automatic"))),Uu()("p",{className:B2e.a.centeredContainer},void 0,Uu()(rT,{onPress:i},void 0,Object(Ze.default)("Disable (Manually Manage)"))))),c?null:Uu()(CL,{className:B2e.a.footer},void 0,s?Uu()(H2e,{},e,Uu()(Vp,{kind:Dp,onPress:this.onResetCustomizationLinkPress},void 0,Uu()(qH,{className:B2e.a.reloadIcon}),Object(Ze.default)("Reset Customization")),Uu()(rT,{className:B2e.a.splitButton,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Cancel")),Uu()(rT,{className:B2e.a.button,"data-autofocus":!0,kind:Dp,onPress:this.onSaveButtonPress},void 0,Object(Ze.default)("Save"))):null,o?Uu()(H2e,{},void 0,Uu()(Vp,{kind:Dp,onPress:this.onResetCustomizationLinkPress},void 0,Uu()(qH,{className:B2e.a.reloadIcon}),Object(Ze.default)("Reset Customization")),Uu()(rT,{className:B2e.a.splitButton,"data-autofocus":!0,kind:Dp,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Close"))):null,l?Uu()(H2e,{},void 0,Uu()(rT,{onPress:this.onBackButtonPress},void 0,Object(Ze.default)("Back")),Uu()(rT,{className:B2e.a.splitButton,"data-autofocus":!0,onPress:this.onCancelButtonPress},void 0,Object(Ze.default)("Cancel")),Uu()(rT,{kind:Pp,onPress:t},void 0,Object(Ze.default)("Reset Customization"))):null,d?Uu()(H2e,{},void 0,Uu()(rT,{onPress:this.onPreviousButtonPress},void 0,Object(Ze.default)("Previous"))):null))}},Y2e=Object(_u.a)(lfe,gGe,(e,t)=>{var a=[],i=[];return e.hubs.forEach(e=>{e.isHidden?i.push(e.id):a.push(e)}),{isAutoHomeHubsEnabled:t,homeHubs:a,hiddenHomeHubIDs:i,settingsKey:e.settingsKey}});var K2e=Object(Fu.b)(Y2e,(function(e){return{onReorderHomeHubs(t){e(YA(t))},onResetCustomization(){e(EA())},onEnableAutoHomeHubs(){e(qA())},onDisableAutoHomeHubs(){e(ZA())}}}))(G2e);var q2e=function(e){var{isOpen:t,onModalClose:a}=e;return(Uu()(xT,{size:Tp,isOpen:t,metricsPage:Rd.O,onModalClose:a},void 0,Uu()(K2e,{onModalClose:a})))},{Fragment:Z2e,useCallback:X2e,useState:J2e}=Ed.a,$2e=Uu()(G1e,{}),e4e=Uu()(Z1e,{}),t4e=()=>{var e=J2e(!1),t=e[1],a=e[0],i=Object(Fu.d)(n1e),r=Object(Fu.d)(cw),n=X2e(()=>{t(!a)},[a]),s=X2e(()=>{t(!1)},[]);return i?$2e:Uu()(P1e,{},void 0,Uu()(vJ,{},void 0,Uu()(PJ,{},void 0,Object(Ze.default)("Home"))),Uu()(bJ,{},void 0,r?null:Uu()(Z2e,{},void 0,Uu()($1e,{},void 0,Uu()(a2e,{onPress:n})),e4e),Uu()(J0e,{listStyles:[Dr.Grid],selectedListStyle:Dr.Grid}),Uu()(q2e,{isOpen:a,onModalClose:s})))};var a4e=function(e){return Object(_u.a)(qG,t=>e?t[e]:void 0)},i4e=Object(_u.a)(UEe,e=>!!e.session),r4e=a("Fe9+"),n4e=a.n(r4e),s4e=({isOpen:e,title:t,errorMessage:a,metricsPage:i,onModalClose:r})=>Uu()(_b.a,{metricsPage:i},void 0,Uu()(fI,{isOpen:e,size:gp.Small,onModalClose:r},void 0,Uu()(TI,{onModalClose:r},void 0,Uu()(NI,{className:n4e.a.modalHeader},void 0,t),Uu()(MI,{},void 0,a)))),o4e=a("5kqZ"),l4e=a.n(o4e),c4e=Ed.a.createElement,{useCallback:d4e}=Ed.a,u4e=Uu()(iS,{}),p4e=Uu()(UZ,{}),h4e=({className:e=l4e.a.card,watchTogetherRoom:t,metadataItem:a,width:i,height:r,aspectRatio:n})=>{var[s,o]=wv(),l=Object(Fu.c)(),c=wye(),d=Object(Fu.d)(i4e),{hoverRef:u,isHovered:p,actionsMenuButtonID:h,isActionsVisible:m,isActionsMenuOpen:v,isActionsMenuClosing:g,onActionsMenuClose:y,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=cqe(),{entityID:I,title:S,metadataItemError:M}=t,C=m||p&&!g,D=d4e(()=>{M?c.onOpen():l(Dse({watchTogetherRoomEntityID:I}))},[l,I,M,c]),P=d4e(()=>{D(),y()},[D,y]),O=d4e(()=>{l(Yse({watchTogetherRoomEntityID:I})),y()},[l,I,y]),j=d4e(()=>{c.onClose()},[c]);return c4e(fYe,{className:e,style:{width:i,height:r},ref:u},a?Uu()(YS,{className:l4e.a.image,serverEntityID:s.entityID,providerEntityID:o.entityID,url:uqe(a,{aspectRatio:n}),width:i,height:r,component:QI,allowSizeBracket:!0,preloadOnMount:!1,animateOnMount:!1}):Uu()(Rqe,{className:l4e.a.iconContainer,width:i,height:r},void 0,u4e),Uu()(Bqe,{"aria-label":S,className:l4e.a.link,hoverClassName:l4e.a.hoveredLink,isHovered:p||v,onPress:D}),Uu()(qv,{id:h,className:C?l4e.a.moreButton:l4e.a.hiddenMoreButton,"aria-label":Object(Ze.default)("More Actions"),"aria-haspopup":!0,onPress:b},void 0,p4e),Uu()(Fg,{target:h,isOpen:v,onMenuClose:y,onMenuCloseComplete:f},void 0,Uu()(Gg,{"aria-label":Object(Ze.default)("Join"),isDisabled:d||c.isOpen,onPress:P},void 0,Object(Ze.default)("Join")),Uu()(Gg,{"aria-label":Object(Ze.default)("Remove"),isDisabled:c.isOpen,onPress:O},void 0,Object(Ze.default)("Remove"))),Uu()(s4e,{isOpen:c.isOpen,title:Object(Ze.default)("Cannot access this item"),errorMessage:M,metricsPage:Rd.Bb,onModalClose:j}))},m4e=a("ID2g"),v4e=a.n(m4e),{useEffect:g4e,useMemo:y4e}=Ed.a,f4e=e=>{var{item:t}=e,a=Je()(e,["item"]),i=Object(Fu.c)(),r=WO(a),n=Object(Fu.d)(a4e(null==t?void 0:t.metadataItem)),s=PYe(null==n?void 0:n.sourceURI),o=y4e(()=>EYe({width:a.cellWidth,aspectRatio:16/9}),[a.cellWidth]),l=y4e(()=>t?Object($0e.a)(t.users.map(e=>e.title)):"",[t]);return g4e(()=>{!t||t.isMetadataItemPopulated||t.metadataItemError||i(Gse({watchTogetherRoomEntityID:t.entityID}))},[i,t]),t?Uu()(hYe,{metadataItem:n,metadataItemState:s},void 0,Uu()("div",{style:r.style},void 0,t.isMetadataItemPending?Uu()(SYe,{className:v4e.a.card,style:o,index:a.cellIndex}):Uu()(h4e,{className:v4e.a.card,watchTogetherRoom:t,metadataItem:n,width:o.width,height:o.height,aspectRatio:16/9}),t.metadataItemError?Uu()("div",{className:v4e.a.splitTitleContainer},void 0,Uu()("span",{className:v4e.a.splitLineTitle,title:t.title},void 0,t.title),Uu()("span",{className:v4e.a.splitLineSecondaryTitle,title:Object(Ze.default)("No Access")},void 0,Object(Ze.default)("No Access"))):Uu()("div",{className:v4e.a.title,title:t.title},void 0,t.title),Uu()("div",{className:v4e.a.secondaryTitle,title:l},void 0,l))):Uu()("div",{style:r.style},void 0,Uu()(SYe,{style:o,index:a.cellIndex}))},b4e=()=>Uu()(T0e,{hub:{attribution:M0e.WatchTogether}},void 0,Object(Ze.default)("Watch Together")),I4e=Ed.a.createElement,{Fragment:S4e,useCallback:M4e,useEffect:C4e,useMemo:D4e}=Ed.a,P4e={source:"watchTogether",sourceURI:"watch-together"},O4e=({hubLayoutOptions:e,className:t,hubHeaderClassName:a})=>{var i=Object(Fu.c)(),r=Object(Fu.d)(UEe),n=Object(Fu.d)($Be),s=Object(Fu.d)(N$e),o=wye(),{sessionError:l}=r,c=n.length,d=D4e(()=>p$e(Object.assign({listType:Cr.Mixed,listStyle:Dr.Hero,columnWidth:s,titleCount:2},e)),[s,e]),u=M4e(()=>{i(Pse())},[i]);C4e(()=>{l?o.onOpen():o.isOpen&&o.onClose()},[o,l]);var p=M4e(e=>I4e(f4e,e),[]);return 0===c?null:Uu()(S4e,{},void 0,Uu()(E$e,{className:t,hubHeaderClassName:a,hub:P4e,hubTitleComponent:b4e,keyPropName:"id",items:n,totalSize:c,layout:d,cellComponentFactory:p}),Uu()(s4e,{isOpen:o.isOpen,title:Object(Ze.default)("Watch Together session error"),errorMessage:l,metricsPage:Rd.Bb,onModalClose:u}))},j4e=a("3Fxl"),T4e=a.n(j4e),w4e=Ed.a.createElement,{useCallback:E4e,useEffect:N4e,useRef:x4e,useState:A4e}=Ed.a;function L4e(e){return!!e&&e<=Date.now()-864e5}var k4e=Uu()(t4e,{}),R4e=Uu()(vp,{},void 0,Uu()(bp,{})),z4e=Uu()(O4e,{}),U4e=()=>{var e=Object(Fu.c)(),t=Object(Fu.d)(ZGe),a=Object(Fu.d)(JGe),i=Object(Fu.d)(eYe),r=Object(Fu.d)(tYe),n=Object(Fu.d)(FGe),s=Object(Fu.d)(HGe),o=Object(Fu.d)(WGe),l=Object(Fu.d)(xv("sidebarSettings")),c=Object(Fu.d)(aYe),d=Object(Fu.d)(iYe),u=x4e(new Set),p=A4e(!1),h=p[1],m=p[0],{isPending:v,isPopulated:g,isUnavailable:y,isError:f,isEmpty:b,hasNoPinnedSources:I}=function(e,t,a=!1,i=!1){if(!t.hasCompletedSetup)return{isPending:!0};for(var r=0;r<e.length;r++){var n=e[r];if(n.isListPopulated&&!n.isListEmpty)return{isPopulated:!0};if(n.isPending)return{isPending:!0}}return a?{isPending:!0}:i?{isPopulated:!0}:e.length?e.every(e=>e.isListEmpty)?{isEmpty:!0}:e.some(e=>e.isSourceUnavailable)?{isUnavailable:!0}:{isError:!0}:{hasNoPinnedSources:!0}}(a,l,d,c),S=E4e(e=>{u.current.add(e),i.every(e=>u.current.has(e))&&h(!0)},[i]);Zb({mode:mGe.Auto},!v);var{scrollRestoreProps:M,onScrollPositionReady:C}=xO({key:"HomePage"});return N4e(()=>{m&&C()},[m,C]),N4e(()=>{L4e(r)&&e(Wn.actions.reset())},[e,r]),N4e(()=>{e(Wn.actions.populateAllRequested({hubsProviders:t,hubsStates:a,userServices:s}))},[e,t,a,s]),N4e(()=>()=>{e(Wn.actions.markStaleRequested())},[e]),N4e(()=>{var t=()=>{"visible"===document.visibilityState&&L4e(r)&&e(Wn.actions.reset())};return document.addEventListener("visibilitychange",t),()=>{document.removeEventListener("visibilitychange",t)}},[e,r]),N4e(()=>{e(Hse())},[e]),Uu()(kGe,{allowBackgroundLightPreset:!0,scrollDirection:$u.None},void 0,k4e,v?R4e:null,g?w4e(BGe,tp()({className:T4e.a.homePageContentScroller},M),z4e,i.map(e=>{var{serverIdentifier:t,providerIdentifier:a}=Object(Bn.a)(e);return(Uu()(Ev,{machineIdentifier:t,providerIdentifier:a},e,Uu()(U0e,{source:e,onHomeHubsReady:S})))})):null,y?Uu()(bGe,{title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Check your network connection and verify that any media servers are online.")}):null,f?Uu()(bGe,{title:Object(Ze.default)("Something went wrong"),description:Object(Ze.default)("There was an error loading your home screen. Please try again in a few minutes.")}):null,b&&!n?Uu()(vp,{iconSrc:String(J4),title:Object(Ze.default)("Your home screen is currently empty"),description:Object(Ze.default)("There's no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):null,b&&n?Uu()(vp,{iconSrc:String(J4),title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")}):null,I&&o?Uu()(vp,{iconSrc:String(J4),title:Object(Ze.default)("Your home screen is empty"),description:Object(Ze.default)("Your home screen is based on sources pinned to your sidebar. Choose a source from the More menu and pin it to see its content here.")}):null,!I||o||n?null:Uu()(vp,{iconSrc:String(J4),title:Object(Ze.default)("Add your media to Plex"),description:Object(Ze.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},void 0,Uu()(KC,{to:"https://www.plex.tv/media-server-downloads",kind:Bv.Primary,size:gp.Large,target:"_self"},void 0,Object(Ze.default)("Get Plex Media Server"))),I&&!o&&n?Uu()(vp,{iconSrc:String(J4),title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")}):null)},V4e=Object(_u.a)(Yu,e=>e.isResourcesPopulated),B4e=Object(_u.a)(Yu,e=>e.hasFailedResources),F4e=Object(_u.a)(V4e,B4e,mv("isProvidersPopulated"),mv("providersError"),(e,t,a,i)=>t||!!i||e&&a);function H4e(e){var t=!!(e.size||e.totalSize||e.more);return"directory"!==e.type&&t}function _4e(e,t=[]){for(var a=t.length;a-- >0;){if(H4e(e[t[a]]))return!1}return!0}var Q4e=Object(_u.a)(sfe,e=>e.ui.autoHomePage.hubs,(e,t)=>t.every(t=>_4e(e,t.hubs))),W4e=Object(_u.a)(Cne,F4e,(e,t)=>{var a=e.some(e=>!(!e.provider||!e.provider.isPopulated)&&!!Kt(e.provider));return t&&!a});function G4e(e){return!e.user.isFullUser}var Y4e=Object(_u.a)(Nv.a,e=>e.sidebarSettings.hasCompletedSetup);function K4e(){return Object(_u.a)(e=>e.ui.watchTogether.rooms,e=>e.length>0)}var{useEffect:q4e,useState:Z4e}=Ed.a;var X4e=function(){return Uu()(ph,{iconSrc:J4,title:Object(Ze.default)("No content available"),description:Object(Ze.default)("Kindly ask the Plex Home admin to share content with you.")})},J4e=a("GFd0"),$4e=a.n(J4e),e3e=Ed.a.createElement;function t3e(e){var{children:t,innerClassName:a}=e,i=Je()(e,["children","innerClassName"]);return(e3e(WX,tp()({className:$4e.a.pageContent},i),Uu()("div",{className:a},void 0,t)))}t3e.defaultProps={innerClassName:$4e.a.innerPageContent};var a3e=t3e,i3e=Object(_u.a)(lk,e=>e.hasDismissedServerDownloadMessage),{useCallback:r3e}=Ed.a;var n3e=function(e){var{hasDismissedServerDownloadMessage:t,dispatchSaveDeviceSettings:a}=e,i=r3e(()=>{a({hasDismissedServerDownloadMessage:!0})},[a]);return Uu()(ph,{iconSrc:J4,title:Object(Ze.default)("Add your media to Plex"),description:Object(Ze.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},void 0,Uu()(rT,{to:"https://www.plex.tv/media-server-downloads",kind:Dp,size:wp,target:"_self"},void 0,Object(Ze.default)("Get Plex Media Server")),t?null:Uu()(oh,{},void 0,Uu()(Vp,{kind:Dp,size:jp,to:"#",onPress:i},void 0,Object(Ze.default)("Don't show this in my Pinned Sources sidebar"))))},s3e=Object(_u.a)(i3e,e=>({hasDismissedServerDownloadMessage:e})),o3e={dispatchSaveDeviceSettings:Wi.q},l3e=Object(Fu.b)(s3e,o3e)(n3e),c3e={showPlay:h3e,showShuffle:h3e,showQueue:function(e,t){return t.every(({model:t,server:a,provider:i})=>Mie({server:a,provider:i,stableUser:e,metadataItem:t}))},showAddToPlaylist:function(e,t){return t.every(({model:t,server:a,provider:i})=>Pie({server:a,provider:i,stableUser:e,metadataItem:t}))},showMarkPlayed:function(e,t){return t.some(({model:t,server:a,provider:i})=>wie({server:a,provider:i,stableUser:e,metadataItem:t}))},showMarkUnplayed:function(e,t){return t.some(({model:t,server:a,provider:i})=>Eie({server:a,provider:i,stableUser:e,metadataItem:t}))},showFavorite:function(e,t){return t.some(({model:t,server:a,provider:i})=>jie({server:a,provider:i,stableUser:e,metadataItem:t}))},showUnfavorite:function(e,t){return t.every(({model:t,server:a,provider:i})=>Tie({server:a,provider:i,stableUser:e,metadataItem:t}))},showEdit:m3e,showRefresh:function(e,t){return t.every(({model:t,server:a,provider:i})=>xie({server:a,provider:i,stableUser:e,metadataItem:t}))},showAnalyze:function(e,t){return t.every(({model:t,server:a,provider:i})=>Aie({server:a,provider:i,stableUser:e,metadataItem:t}))},showMerge:function(e,t){if(!m3e(e,t))return!1;var a=p3e(t);if(1===a.length)return!1;if(D.a.uniq(a).length>1)return!1;return a.every(e=>-1!==u3e.indexOf(e))},showSync:function(e,t){return t.every(({model:t,server:a,provider:i})=>kie({server:a,provider:i,stableUser:e,metadataItem:t}))},showOptimize:function(e,t){return t.every(({model:t,server:a,provider:i})=>Rie({server:a,provider:i,stableUser:e,metadataItem:t}))},showDelete:function(e,t){return t.every(({model:t,server:a,provider:i})=>!t.remoteMedia&&zie({server:a,provider:i,stableUser:e,metadataItem:t}))},showRemove:function(e,t){return t.every(({model:t,server:a,provider:i})=>t.remoteMedia&&zie({server:a,provider:i,stableUser:e,metadataItem:t}))}},d3e={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"],rom:["showEdit","showDelete"]},u3e=["movie","show","season","artist","album"];function p3e(e){return e.map(e=>e.model.type)}function h3e(e,t){return t.every(({model:t,server:a,provider:i})=>Sie({server:a,provider:i,stableUser:e,metadataItem:t}))}function m3e(e,t){var a=p3e(t);return!(D.a.uniq(a).length>1)&&t.every(({server:t,provider:a,model:i})=>Nie({server:t,provider:a,stableUser:e,metadataItem:i}))}function v3e(e,t,a){var i=d3e[a],r=function(e){return D.a.uniq(e.map(e=>e.provider.entityID)).length>1}(t);return i.reduce((a,i)=>{var n=c3e[i];return a[i]=!r&&n(e,t),a},{})}var{useCallback:g3e,useState:y3e}=Ed.a,f3e=Uu()(cxe,{});function b3e(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,customFilterRoute:n,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l}=e,c=y3e(Mp())[0],d=y3e(!1),u=d[1],p=d[0],h=g3e(()=>{u(!p)},[p]);return Uu()(oJ,{id:c,tooltip:p?null:Object(Ze.default)("Add to Playlist"),"data-qa-id":"toolbarPlaylist",onPress:h},void 0,f3e,Uu()(my,{direction:p?cy:dy}),Uu()(Fg,{size:wp,target:c,isOpen:p,onMenuClose:h},void 0,Uu()(Aoe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,customFilterRoute:n,showAddToPlaylist:!0,showAddToSmartPlaylist:s,onAddToPlaylistPress:o,onAddToSmartPlaylistPress:l,onMenuOpen:h,onMenuClose:h})))}b3e.defaultProps={showAddToSmartPlaylist:!1};var I3e=b3e,S3e=Ed.a.createElement,{Component:M3e}=Ed.a;var C3e=class extends M3e{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=this.props,{children:t,iconComponent:a,label:i,isMenuOpen:r}=e,n=Je()(e,["children","iconComponent","label","isMenuOpen"]);return(S3e(oJ,tp()({"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:r?void 0:i,hideOnPress:!1},n),Uu()(a,{}),t))}},D3e=Ed.a.createElement,P3e=Uu()(k1e,{});var O3e=function(e){var{playLabel:t=Object(Ze.default)("Play")}=e,a=Je()(e,["playLabel"]);return(D3e(oJ,tp()({tooltip:t,"data-qa-id":"toolbarPlay"},a),P3e))};function j3e(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}j3e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var T3e=j3e,w3e=Ed.a.createElement,E3e=Uu()(T3e,{});var N3e=function(e){return w3e(oJ,tp()({tooltip:Object(Ze.default)("Shuffle"),"data-qa-id":"toolbarShuffle"},e),E3e)},x3e=Ed.a.createElement,A3e=Uu()(Lze,{});var L3e=function(e){return x3e(oJ,tp()({tooltip:Object(Ze.default)("Sync"),"data-qa-id":"toolbarSync"},e),A3e)};function k3e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}k3e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var R3e=k3e,{Component:z3e}=Ed.a;var U3e=class extends z3e{constructor(e,t){super(e,t),this.onMenuButtonPress=e=>{this.setState({isMenuOpen:!this.state.isMenuOpen})},this.onMenuClose=()=>{this.setState({isMenuOpen:!1})},this.state={isMenuOpen:!1},this._toolbarMenuButtonID=Mp()}render(){var{showMarkPlayed:e,showMarkUnplayed:t,onMarkPlayedPress:a,onMarkUnplayedPress:i}=this.props,{isMenuOpen:r}=this.state;return Uu()(C3e,{id:this._toolbarMenuButtonID,iconComponent:R3e,label:Object(Ze.default)("Toggle Played..."),isMenuOpen:r,onPress:this.onMenuButtonPress},void 0,Uu()(Fg,{target:this._toolbarMenuButtonID,isOpen:r,onMenuClose:this.onMenuClose},void 0,e?Uu()(Gg,{onPress:Ib(this.onMenuClose,a)},void 0,Object(Ze.default)("Mark as Played")):null,t?Uu()(Gg,{onPress:Ib(this.onMenuClose,i)},void 0,Object(Ze.default)("Mark as Unplayed")):null))}},V3e=a("YJ/b"),B3e=a.n(V3e),F3e=Ed.a.createElement,{Component:H3e}=Ed.a,_3e=parseInt(YU.a.toolbarButtonWidth,10);function Q3e(e,t){return e.filter(e=>!!t[e])}var W3e=function(e,t,a){class i extends H3e{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{this.setState({isMeasured:!0,width:e})},this.state={isMeasured:!1}}render(){var{isMeasured:i,width:r}=this.state,n={};i&&(n=function(e,t,a,i){var r=Math.floor(a/i),n={showOverflow:r<e.length||t.length>0},s=r-(n.showOverflow?1:0);return e.forEach(e=>{n[e]=s-- >0,n[e]||(n[e+"Overflow"]=!0)}),n}(Q3e(t,this.props),Q3e(a,this.props),r,_3e));return(Uu()(p$,{className:B3e.a.toolbarContainer,ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,i?F3e(e,tp()({className:B3e.a.toolbar},this.props,n)):null))}}return i.displayName="MeasuredPageHeaderToolbar("+gf(e)+")",i.WrappedComponent=e,i};function G3e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}G3e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Y3e=G3e,{Component:K3e}=Ed.a;var q3e=class extends K3e{constructor(e,t){super(e,t),this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToPlaylistModalOpen:!1}}render(){var e=this.props,{isAddToPlaylistModalOpen:t}=this.state;return Uu()("div",{},void 0,e.showPlay?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onPlaySelectedPress)},void 0,Object(Ze.default)("Play")):null,e.showShuffle?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onShufflePress)},void 0,Object(Ze.default)("Shuffle")):null,e.showQueue?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onPlaySelectedNextPress)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onAddToQueuePress)},void 0,Object(Ze.default)("Add to Queue")):null,e.showAddToPlaylist?Uu()(Gg,{onPress:this.onAddToPlaylistPress},void 0,Object(Ze.default)("Add to Playlist...")):null,e.showFavorite?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onFavoritePress)},void 0,Object(Ze.default)("Add to Favorites")):null,e.showUnfavorite?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onUnfavoritePress)},void 0,Object(Ze.default)("Remove from Favorites")):null,e.showMarkPlayed?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onMarkPlayedPress)},void 0,Object(Ze.default)("Mark as Played")):null,e.showMarkUnplayed?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onMarkUnplayedPress)},void 0,Object(Ze.default)("Mark as Unplayed")):null,e.showEdit?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onEditPress)},void 0,Object(Ze.default)("Edit")):null,e.showRefresh?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onRefreshPress)},void 0,Object(Ze.default)("Refresh Metadata")):null,e.showAnalyze?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onAnalyzePress)},void 0,Object(Ze.default)("Analyze")):null,e.showMerge?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onMergePress)},void 0,Object(Ze.default)("Merge")):null,e.showSync?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onSyncPress)},void 0,Object(Ze.default)("Sync...")):null,e.showOptimize?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onOptimizePress)},void 0,Object(Ze.default)("Optimize...")):null,e.showDelete?Uu()(Gg,{kind:Pp,onPress:Ib(e.onMenuClose,e.onDeletePress)},void 0,Object(Ze.default)("Delete")):null,e.showRemove?Uu()(Gg,{onPress:Ib(e.onMenuClose,e.onDeletePress)},void 0,Object(Ze.default)("Remove")):null,e.showAddToPlaylist?Uu()(ose,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)}},Z3e=Ed.a.createElement;var X3e=function(e){var{target:t,isOpen:a}=e,i=Je()(e,["target","isOpen"]);return(Uu()(Fg,{target:t,isOpen:a,onMenuClose:e.onMenuClose},void 0,Z3e(q3e,i)))},J3e=Ed.a.createElement,{Component:$3e}=Ed.a;function e5e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as played?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function t5e(e){return 1===e?Object(Ze.default)("Are you sure you want to mark this item as unplayed?"):Object(Ze.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function a5e(e){var{selectedItemsCount:t,activeSelectionType:a,showRemove:i}=e,r=1===t;return i?r?Object(Ze.default)("Are you sure you want to remove this item?"):Object(Ze.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):a===Wt.m?r?Object(Ze.default)("Are you sure you want to delete this playlist?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):a===Wt.e?r?Object(Ze.default)("Are you sure you want to delete this collection?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):r?Object(Ze.default)("Are you sure you want to delete this item from your filesystem?"):Object(Ze.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}var i5e=Uu()(rje,{}),r5e=Uu()(sje,{});var n5e=W3e(class extends $3e{constructor(e,t){super(e,t),this.onPlaySelectedShortcut=()=>{var{showPlay:e,showPlayOverflow:t,onPlaySelectedPress:a}=this.props;(e||t)&&a()},this.onToggleWatchedShortcut=()=>{var{showMarkPlayed:e,showMarkUnplayed:t}=this.props;e?this.setState({isConfirmMarkPlayedModalOpen:!0}):t&&this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onEditShortcut=()=>{var{showEdit:e,showEditOverflow:t,onEditPress:a}=this.props;(e||t)&&a()},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.onMarkPlayedPress=e=>{this.setState({isConfirmMarkPlayedModalOpen:!0})},this.onMarkUnplayedPress=e=>{this.setState({isConfirmMarkUnplayedModalOpen:!0})},this.onMarkPlayedConfirm=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1}),this.props.onMarkPlayedConfirm()},this.onMarkPlayedCancel=()=>{this.setState({isConfirmMarkPlayedModalOpen:!1})},this.onMarkUnplayedConfirm=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1}),this.props.onMarkUnplayedConfirm()},this.onMarkUnplayedCancel=()=>{this.setState({isConfirmMarkUnplayedModalOpen:!1})},this.onDeletePress=e=>{this.setState({isConfirmDeleteModalOpen:!0})},this.onDeleteConfirm=e=>{this.setState({isConfirmDeleteModalOpen:!1}),this.props.onDeleteConfirm()},this.onDeleteCancel=()=>{this.setState({isConfirmDeleteModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},this._moreButtonID=Mp()}componentDidMount(){H.a.on("shortcut:playSelected",this.onPlaySelectedShortcut),H.a.on("shortcut:edit",this.onEditShortcut)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentWillUnmount(){H.a.off("shortcut:playSelected",this.onPlaySelectedShortcut),H.a.off("shortcut:edit",this.onEditShortcut)}render(){var{className:e,serverEntityID:t,providerEntityID:a,selectedItemsCount:i,showPlay:r,showPlayOverflow:n,showShuffle:s,showShuffleOverflow:o,showAddToPlaylist:l,showAddToPlaylistOverflow:c,showFavorite:d,showFavoriteOverflow:u,showUnfavorite:p,showUnfavoriteOverflow:h,showTogglePlayed:m,showTogglePlayedOverflow:v,showMarkPlayed:g,showMarkUnplayed:y,showEdit:f,showEditOverflow:b,showSync:I,showSyncOverflow:S,showOverflow:M,onPlaySelectedPress:C,onShufflePress:D,onFavoritePress:P,onUnfavoritePress:O,onEditPress:j,onSyncPress:T}=this.props,{isActionsMenuOpen:w,isConfirmMarkPlayedModalOpen:E,isConfirmMarkUnplayedModalOpen:N,isConfirmDeleteModalOpen:x,isAddToPlaylistModalOpen:A}=this.state;return Uu()("div",{className:e},void 0,r?Uu()(O3e,{playLabel:Object(Ze.default)("Play Selected"),onPress:C}):null,s?Uu()(N3e,{onPress:D}):null,l?Uu()(I3e,{serverEntityID:t,providerEntityID:a,onAddToPlaylistPress:this.onAddToPlaylistPress}):null,d?Uu()(oJ,{"data-qa-id":"toolbarFavorite",tooltip:Object(Ze.default)("Add to Favorites"),onPress:P},void 0,i5e):null,p?Uu()(oJ,{"data-qa-id":"toolbarUnfavorite",tooltip:Object(Ze.default)("Remove from Favorites"),onPress:O},void 0,r5e):null,m?Uu()(U3e,{showMarkPlayed:g,showMarkUnplayed:y,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,f?Uu()(a2e,{onPress:j}):null,I?Uu()(L3e,{onPress:T}):null,M?Uu()(C3e,{id:this._moreButtonID,iconComponent:Y3e,label:Object(Ze.default)("More..."),isMenuOpen:w,onPress:this.onActionsPress}):null,J3e(X3e,tp()({},this.props,{target:this._moreButtonID,isOpen:w,showPlay:n,showShuffle:o,showAddToPlaylist:c,showFavorite:u,showUnfavorite:h,showMarkPlayed:v&&g,showMarkUnplayed:v&&y,showEdit:b,showSync:S,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress})),Uu()(HH,{isOpen:E,metricsPage:Rd.t,title:Object(Ze.default)("Mark as Played"),message:e5e(i),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),Uu()(HH,{isOpen:N,metricsPage:Rd.s,title:Object(Ze.default)("Mark as Unplayed"),message:t5e(i),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),Uu()(HH,{isOpen:x,metricsPage:Rd.k,kind:Pp,title:this.props.showRemove?Object(Ze.default)("Remove"):Object(Ze.default)("Delete"),message:a5e(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),l?Uu()(ose,{serverEntityID:t,providerEntityID:a,isOpen:A,onModalClose:this.onAddToPlaylistClose}):null)}},["showPlay","showShuffle","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var s5e=xG((function(){return Object(_u.a)(Object(_u.a)(Gu,e=>{var t={};for(var a of Object.keys(e))t[a]=QS(e[a]);return t}),Object(_u.a)(pv,e=>{var t={};for(var a of Object.keys(e))t[a]=FS(e[a]);return t}),Object(_u.a)(qG,gne,(e,{activeSelectionItems:t})=>t.map(t=>e[t.model])),gne,uw,(e,t,a,i,r)=>{var{activeSelectionType:n}=i,s=v3e(r,a.map(a=>({model:a,provider:t[a.providerEntityID],server:e[a.serverEntityID]})),n),o=s.showMarkPlayed||s.showMarkUnplayed;return Object.assign({activeSelectionType:n,showTogglePlayed:o},s)})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress(){e(qN(a))},onShufflePress(){e(nx(a))},onPlaySelectedNextPress(){e(cx(a))},onAddToQueuePress(){e(lx(a))},onFavoritePress(){e(ZN(a))},onUnfavoritePress(){e(XN(a))},onMarkPlayedConfirm(){e(sx(a))},onMarkUnplayedConfirm(){e(ox(a))},onEditPress(){e(JN(a))},onRefreshPress(){e($N(a))},onAnalyzePress(){e(ex(a))},onMergePress(){e(ix(a))},onSyncPress(){e(tx(a))},onOptimizePress(){e(ax(a))},onDeleteConfirm(){e(rx(Object.assign({},a,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeselectAllPress(){e(QN(a))}}}))(n5e),o5e=a("gA5T"),l5e=a.n(o5e),c5e=Ed.a.createElement;function d5e(e){var{selectedItemsCount:t,toolbarComponent:a,onDeselectAllPress:i}=e,r=Je()(e,["selectedItemsCount","toolbarComponent","onDeselectAllPress"]);return(Uu()(P1e,{className:l5e.a.multiSelectPageHeader},void 0,Uu()(vJ,{},void 0,Uu()("div",{className:l5e.a.selectedTitle},void 0,Uu()(ey,{className:l5e.a.icon}),1===t?Object(Ze.default)("1 item selected"):Object(Ze.default)("{selectedItemsCount} items selected",{selectedItemsCount:t})),Uu()(Vp,{className:l5e.a.deselectLink,onPress:i},void 0,Uu()(DI,{className:l5e.a.icon}),Object(Ze.default)("Deselect All"))),Uu()(bJ,{},void 0,c5e(a,tp()({selectedItemsCount:t},r)))))}d5e.defaultProps={toolbarComponent:s5e,allowRedirectOnDelete:!1};var u5e=d5e;var p5e=xG((function(){return Object(_u.a)(gne,e=>({selectedItemsCount:e.activeSelectionItems.length}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress(){e(QN(a))}}}))(u5e),h5e=Object(_u.a)(gne,e=>e.activeSelectionItems[0]),m5e=Object(_u.a)(qG,h5e,(e,t)=>t&&e[t.model]),v5e=xG(Object(_u.a)(m5e,(e={})=>{var{providerEntityID:t,serverEntityID:a}=e;return{providerEntityID:t,serverEntityID:a}}))(p5e),g5e=a("javt"),y5e=a.n(g5e),f5e=Ed.a.createElement,{useMemo:b5e}=Ed.a,I5e=parseInt(YU.a.v4CardShadowSize,10),S5e=Object(_u.a)(Nv.a,e=>e.columnAdjustment),M5e=Object(_u.a)(e=>e.ui.watchTogether.rooms.length,e=>e);var C5e=function(){var e=Object(Fu.d)(S5e),t=Object(Fu.d)(M5e),[a,i]=Object(Bb.a)(),r=b5e(()=>{if(!i.width)return null;var a=nLe(Wt.j,void 0,jc,e);return a.getListStyle({listTop:i.top,listLeft:i.left,viewportHeight:i.height,viewportWidth:i.width},t),{outerPaddingLeft:I5e,outerPaddingRight:I5e,columnWidth:a.getPositionForIndex(0).cellWidth}},[e,t,i]);return f5e("div",{ref:a},r?Uu()(O4e,{className:y5e.a.hub,hubHeaderClassName:y5e.a.hubHeader,hubLayoutOptions:r}):null)},D5e=a("J/RP"),P5e=a.n(D5e);var O5e=function(e){var{title:t,detail:a,route:i}=e,r=i?Vp:"div";return Uu()(r,{className:i?P5e.a.containerWithRoute:P5e.a.container,to:i},void 0,Uu()("div",{className:P5e.a.title},void 0,t),a?Uu()("div",{className:P5e.a.detail},void 0,a):null)};function j5e(e,t){return t?e+"-"+t:e}var{Component:T5e}=Ed.a;var w5e=class extends T5e{constructor(...e){super(...e),this.onListStylePress=e=>{this.props.onListStylePress(this.props.listStyle)}}render(){var{isSelected:e,title:t}=this.props;return(Uu()(iy,{isSelected:e,onPress:this.onListStylePress},void 0,t))}},E5e=a("j+1R"),N5e=a.n(E5e),{Component:x5e}=Ed.a;class A5e extends x5e{constructor(e,t){super(e,t),this.onSliderChange=({steppedValue:e})=>{this.setState({sliderValue:e}),this._clearTimeout(),this._columnAdjustmentTimeoutID=window.setTimeout(()=>{this.props.onColumnAdjustmentChange(-1*e)},this.props.columnAdjustmentTimeout)},this.onStylesPress=e=>{this.setState({isStylesMenuOpen:!this.state.isStylesMenuOpen})},this.onStylesMenuClose=()=>{this.setState({isStylesMenuOpen:!1})},this.onListStylePress=e=>{this.props.onListStyleChange(e),this.onStylesMenuClose()},this.state={sliderValue:-1*e.columnAdjustment,isStylesMenuOpen:!1},this._stylesButtonID=Mp()}componentWillReceiveProps(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})}componentWillUnmount(){this._clearTimeout()}_clearTimeout(){this._columnAdjustmentTimeoutID&&window.clearTimeout(this._columnAdjustmentTimeoutID)}render(){var e,{listType:t,listContext:a,selectedListStyle:i,allListStyles:n}=this.props,{sliderValue:s,isStylesMenuOpen:o}=this.state,{POSTER:l,MOSAIC:c,TABLE:d,SUMMARY:u,SIMPLE_SUMMARY:p}=r,h=[{listStyle:l,title:Object(Ze.default)("Grid View")},{listStyle:c,title:Object(Ze.default)("Mosaic View")},{listStyle:d,title:Object(Ze.default)("List View")},{listStyle:u,title:Object(Ze.default)("Summary View")},{listStyle:p,title:Object(Ze.default)("Summary View")}],m=Vc(i),v=Bc(n),g=(e=i)===Ac?Q0e:e===kc||e===Lc?G0e:K0e;return m||v?Uu()("div",{className:N5e.a.stylesContainer},void 0,m?Uu()(rB,{className:N5e.a.slider,label:Object(Ze.default)("Poster Size"),value:s,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,Uu()(Vp,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:v?N5e.a.stylesButtonWithArrow:N5e.a.stylesButton,"aria-label":Object(Ze.default)("Show List Styles"),isDisabled:!v,onPress:this.onStylesPress},void 0,Uu()(g,{className:N5e.a.stylesIcon}),v?Uu()(my,{direction:o?cy:dy}):null),v?Uu()(Fg,{target:this._stylesButtonID,isOpen:o,onMenuClose:this.onStylesMenuClose},void 0,h.map(({listStyle:e,title:t})=>n.indexOf(e)>-1&&Uu()(w5e,{isSelected:i===e,title:t,listStyle:e,onListStylePress:this.onListStylePress},e))):null):null}}A5e.defaultProps={selectedListStyle:Nc,allListStyles:[Nc],allListStyleActions:[],columnAdjustmentTimeout:500};var L5e=A5e,k5e=Ed.a.createElement,{Component:R5e}=Ed.a,z5e=Object(_u.a)(Nv.a,e=>({columnAdjustment:e.columnAdjustment,listStyles:e.listStyles}));var U5e=Object(Fu.b)(e=>z5e,{saveExperienceSettings:Qu.f})(class extends R5e{constructor(...e){super(...e),this.onColumnAdjustmentChange=e=>{Object(wa.a)(()=>{this.props.saveExperienceSettings({columnAdjustment:e})})},this.onListStyleChange=e=>{var{listStyles:t,listType:a,listSubtype:i,listContext:r}=this.props,n=j5e(a,i),s=Object.assign({},t,{[r]:Object.assign({},t[r]||{},{[n]:e})});Object(wa.a)(()=>{this.props.saveExperienceSettings({listStyles:s})})}}render(){return k5e(L5e,tp()({},this.props,{onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange}))}}),{Component:V5e,Fragment:B5e}=Ed.a,F5e={isEditModalOpen:!1},H5e=Uu()(Z1e,{}),_5e=Uu()(U5e,{});var Q5e=class extends V5e{constructor(e,t){super(e,t),this.onEditButtonPress=()=>{this.setState({isEditModalOpen:!this.state.isEditModalOpen})},this.onModalClose=()=>{this.setState(F5e)},this.state=F5e}render(){var{isAnonymousUser:e}=this.props,{isEditModalOpen:t}=this.state;return Uu()(P1e,{},void 0,Uu()(vJ,{},void 0,Uu()(O5e,{title:Object(Ze.default)("Home")})),Uu()(bJ,{},void 0,e?null:Uu()(B5e,{},void 0,Uu()($1e,{},void 0,Uu()(a2e,{onPress:this.onEditButtonPress})),H5e),_5e,Uu()(q2e,{isOpen:t,onModalClose:this.onModalClose})))}},W5e=a("30iw"),G5e=a.n(W5e),Y5e=Uu()(ph,{},void 0,Uu()(Xh,{})),K5e=Uu()(X4e,{}),q5e=Uu()(l3e,{}),Z5e=Uu()(v5e,{}),X5e=Uu()(C5e,{});var J5e=function(e){var t,a,i,r,n,s,{activeSelectionType:o,isPending:l,hasNoProviders:c,hasNoSources:d,hasNoContent:u,hasNoContentWithErrors:p,hasWatchTogetherRooms:h,isAnonymousUser:m,isManagedUser:v,sourceHubs:g}=e;return t=Rd.O,a=mGe.Auto,i=!l,r=Z4e(!1),n=r[1],s=r[0],q4e(()=>{Kb.a.startPeriod("client:view:"+t)},[t]),q4e(()=>{i&&!s&&(Object(ie.c)("metrics").trackView({page:t,mode:a}),n(!0))},[t,a,i,s,n]),l?Y5e:c&&!h?v?K5e:q5e:d&&!h?Uu()(ph,{iconSrc:J4,title:Object(Ze.default)("Your home screen is empty"),description:Object(Ze.default)("Your home screen is based on sources pinned to your sidebar. Choose a source from the MORE menu and pin it to see its content here.")}):p?Uu()(fh,{title:Object(Ze.default)("Something went wrong"),description:Object(Ze.default)("There was an error loading your home screen. Please try again in a few minutes.")}):u?Uu()(ph,{iconSrc:J4,title:Object(Ze.default)("Your home screen is currently empty"),description:Object(Ze.default)("Theres no content to display based on your currently pinned sources. You can always pin additional sources to your sidebar.")}):Uu()(tJ,{isMetricsDelegated:!0,metricsPage:Rd.O,allowBackgroundLightPreset:!0,scrollDirection:Jp},void 0,o?Z5e:Uu()(Q5e,{isAnonymousUser:m}),Uu()(a3e,{innerClassName:G5e.a.autoHomePageContent},void 0,X5e,g.map(e=>Uu()(aRe,{serverEntityID:e.server,providerEntityID:e.provider,hubEntityIDs:e.hubs,allowHomeHubIndicator:!1,allowSourceTitle:!0},e.provider+"-"+e.hubKey))))},$5e=Ed.a.createElement,{Component:e6e}=Ed.a;var t6e=Object(_u.a)(B7(),K4e(),e=>e.ui.autoHomePage,gne,W4e,Q4e,F4e,cw,G4e,Y4e,(e,t,a,i,r,n,s,o,l,c)=>{var d=a.hubs,u=a.isHubsPopulated,{hasPendingHubs:p,hasSuccessfulHubs:h,hasErrorHubs:m}=function(e){for(var t=e.length,a=!1,i=!1,r=!1,n=0;n<t;n++){var s=e[n];s.isPending?a=!0:null==s.hubsError?i=!0:r=!0,s.isPending||null!=s.hubsError||(i=!0)}return{hasPendingHubs:a,hasSuccessfulHubs:i,hasErrorHubs:r}}(d),{hasUnreadySources:v}=function(e){for(var t=!1,a=0;a<e.length;a++){e[a].isProviderReady||(t=!0)}return{hasUnreadySources:t}}(e),g=!v,y=u&&(t||!n||s&&g&&!p),f=g&&!p&&n&&!t;return{visibleSources:e,sourceHubs:a.hubs,isPending:!y,hasCompletedSetup:c,isAllSourcesReady:g,isAutoHomePageHubsPopulated:u,hasNoProviders:r,hasNoSources:!e.length,hasNoContentWithErrors:f&&m,hasNoContent:f&&!m&&h,hasWatchTogetherRooms:t,isAnonymousUser:o,isManagedUser:l,activeSelectionType:i.activeSelectionType}}),a6e={dispatchInitAutoHomeHubContent:Nx,dispatchFetchAutoHomeHubs:Ax,dispatchChangeQuickSearchSettings:uee,dispatchTryUpdateWatchTogetherRooms:Hse};var i6e=Object(Fu.b)(t6e,a6e)(class extends e6e{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}),this.props.hasCompletedSetup&&this.props.isAllSourcesReady&&!this.props.isAutoHomePageHubsPopulated?this.initAutoHomeHubContent():this.props.isAutoHomePageHubsPopulated&&this.props.dispatchFetchAutoHomeHubs(),this.props.dispatchTryUpdateWatchTogetherRooms()}componentDidUpdate(e,t){var a=e.isAllSourcesReady!==this.props.isAllSourcesReady,i=e.hasCompletedSetup!==this.props.hasCompletedSetup,r=function(e,t){for(var a=!1,i=0;i<t.length;i++){var r=t[i],n=e[i];if(n&&(r.key===n.key&&n.isUnavailable!==r.isUnavailable)){a=!0;break}}return a}(e.visibleSources,this.props.visibleSources);((a||i)&&this.props.isAllSourcesReady&&this.props.hasCompletedSetup&&!this.props.isAutoHomePageHubsPopulated||r&&this.props.isAllSourcesReady&&this.props.hasCompletedSetup)&&this.initAutoHomeHubContent()}initAutoHomeHubContent(){Object(wa.a)(()=>{this.props.dispatchInitAutoHomeHubContent()})}render(){var e=this.props,t=Je()(e,["dispatchInitAutoHomeHubContent","dispatchFetchAutoHomeHubs","dispatchChangeQuickSearchSettings","visibleSources","hasCompletedSetup","isAllSourcesReady","isAutoHomePageHubsPopulated"]);return($5e(J5e,t))}}),r6e=e=>e.isPopulated||e.error,n6e=Object(_u.a)(e=>e.ui.homePage,e=>{var{homeHubStatuses:t,isContentPopulated:a}=e;return a||t.length>0&&t.every(r6e)}),s6e=Object(_u.a)(e=>e.ui.homePage,lfe,n6e,(e,t,a)=>{var{isProviderPromotedContentPopulated:i,preferredServerContentError:r,providerPromotedContentError:n}=e,{preferredServerID:s,hasSeededPreferredServerContent:o,hasSeededProviderPromotedContent:l}=t,c=!!s,d=o||!!r,u=l||i||!!n,p=c&&!d,h=!u,m=(!c||d)&&u&&!a;return{isPending:m||p||h,isContentPopulated:a,shouldFetchHomeContent:m,shouldFetchPreferredServerContent:p,shouldFetchProviderPromotedContent:h}});var o6e=function(e,t){return e.then((function(...e){var a=T.a.Deferred();return window.setTimeout(()=>a.resolve(...e),t),a.promise()}))},l6e=a("0DAK");function c6e(e){var{directoryKey:t,server:a,provider:i,options:r,onlyPromoted:n=!1}=e,s=Object.assign({},r,{count:1,persistInCache:!1,skipCache:!0}),o={directoryKey:t,hubModels:[]};return nw({hubKey:t,server:a,provider:i,options:s}).fetch().then(e=>e.reduce((e,t)=>((!n||n&&t.get("promoted"))&&e.hubModels.push(t),e),o),()=>o)}function d6e(e){var t=e.reduce((e,t,a)=>{var i=t.get("server").get("machineIdentifier"),r=t.get("provider").get("identifier"),n=t.get("directoryKey"),s=i+"--"+r+"--"+n;return e[s]||(e[s]={directoryKey:n,identifier:r,homeHubIDs:[],machineIdentifier:i}),e[s].homeHubIDs.push(t.get("id")),e},{});return Object.values(t)}var u6e=Object(Pa.a)("home/initHomePage"),p6e=Object(Pa.a)("home/fetchHomeContent"),h6e=Object(Pa.a)("home/fetchHomeHubs"),m6e=Object(Pa.a)("home/fetchPreferredServerContent"),v6e=Object(Pa.a)("home/fetchProviderPromotedContent"),g6e=Object(Pa.a)("home/resetHomePage"),y6e=Object(Pa.a)("home/updateHomeHubsStatus");function f6e(e){return e.get("user").get("experienceSettings").get("homeSettings")}function b6e(e){return e.get("ui").get("homePage")}var I6e,S6e=[],M6e={"home/initHomePage"(e,t,a){var i=f6e(e).get("hubs");Kb.a.startPeriod("client:view:"+Rd.O),d6e(i).forEach(e=>{var{identifier:t,homeHubIDs:i,machineIdentifier:r}=e,n={skipCache:!0},s=new ai({machineIdentifier:r},n),o=new Sa({identifier:t},Object.assign({},n,{server:s}));a(y6e({homeHubIDs:i,status:{provider:o.entityID(),server:s.entityID()}})),o.uninitialize(),s.uninitialize()})},"home/resetHomePage"(e,t){S6e.forEach(e=>e.cancel()),S6e=[],I6e=window.clearTimeout(I6e),b6e(e).restoreDefaults()},"home/updateHomeHubsStatus"(e,t){var{homeHubIDs:a,status:i}=t;b6e(e).get("homeHubStatuses").set(a.map(e=>Object.assign({},i,{homeHubID:e})),{remove:!1})},"home/fetchHomeHubs"(e,t,a){var{homeHubIDs:i,fetchDelayMS:r,options:n}=t,s=f6e(e).get("hubs"),o=s.get(i[0]),l=o.get("server").get("machineIdentifier"),c=o.get("provider").get("identifier"),d=o.get("directoryKey");a(y6e({homeHubIDs:i,status:{error:null,isPending:!0,isPopulated:!1}}));var u=e.get("servers").findServer(l).then(e=>e.get("isOutOfDate")?T.a.Deferred().reject(e).promise():e.get("isPending")?dse({eventSource:e,events:["change:isPending"]}):T.a.Deferred().resolve(e).promise());u=u.then(t=>pse((t.get("isCloud")?Object(Ta.o)(e):t).get("providers"),{identifier:c})),r>0&&(u=o6e(u,r)),u=u.then(t=>nw({hubKey:d,server:t.server,provider:t,options:Object.assign({},n,ow(e))}).fetch());var p=Object(yf.a)(u);S6e.push(p),p.promise.then(e=>{i.forEach(t=>{var i=s.get(t);if(i){var r={isPending:!1},n=e.findWhere({hubIdentifier:i.get("hubIdentifier")});n?(i.set("title",n.get("title")),r.isPopulated=!0,r.hub=n,r.provider=e.provider.entityID(),r.server=e.provider.server.entityID()):(r.error={isContentUnavailable:!0},O.a.warn("[Home] home/fetchHomeHubs: missing",i)),a(y6e({homeHubIDs:[t],status:r}))}})},({isCanceled:e}={})=>{e||a(y6e({homeHubIDs:i,status:{isPending:!1,error:{}}}))})},"home/fetchHomeContent":Object(l6e.a)({key:"content",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){var i=f6e(e).get("hubs"),r=T.a.Deferred();return i.length?(d6e(i).forEach(e=>{a(h6e({homeHubIDs:e.homeHubIDs}))}),I6e=window.clearTimeout(I6e),I6e=window.setTimeout(r.resolve,1e3),r.promise()):r.resolve().promise()}}),"home/fetchPreferredServerContent":Object(l6e.a)({key:"preferredServerContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){var i=f6e(e),r={identifier:jt.d},n=i.get("preferredServerID"),s=e.get("servers").findServer(n);return(s=(s=s.then(e=>pse(e.get("providers"),r))).then(a=>c6e({directoryKey:"/hubs",server:a.server,provider:a,options:Object.assign({},t.options,ow(e))}))).then(e=>{var{directoryKey:t,hubModels:i}=e,r=i.map(e=>({directoryKey:t,model:e}));a(QA({hubs:r}))},()=>T.a.Deferred().reject({}).promise())}}),"home/fetchProviderPromotedContent":Object(l6e.a)({key:"providerPromotedContent",getModel:(e,t)=>e.get("ui").get("homePage"),fetch(e,t,a){var i={type:Ot.m},r=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources"),n=Object(Ta.o)(e).get("providers"),s=n.map(e=>use(e)),o=e.get("user").toJSON(),l=dw(o.features,o.services);return Ce(s).then(()=>{var e=n.reduce((e,t)=>{if(!t.get("isPopulated"))return e;if(!r.findWhere({providerIdentifier:t.get("identifier"),machineIdentifier:t.server.get("machineIdentifier")}))return e;var a=t.get("features").findWhere(i);return a&&mw(l,a.toJSON())&&e.push(a),e},[]);return Ce(e.map(e=>c6e({directoryKey:e.get("key"),server:e.server,provider:e.provider,options:t.options||{},onlyPromoted:!0})))}).then((...e)=>{var t=e.reduce((e,t)=>{var{directoryKey:a,hubModels:i}=t;return e.push(...i.map(e=>({directoryKey:a,model:e}))),e},[]);a(_A({hubs:t}))},()=>T.a.Deferred().reject({}).promise())}}),"user/resetHomeSettings"(e,t){e.get("ui").get("homePage").restoreDefaults()},[ji.a](e,t,a){var i=b6e(e).get("homeHubStatuses").reduce((e,t)=>{var a=t.get("hub");return a?e.concat(a):e},[]);i.count=16,lw({actionCreator:bx,dispatch:a,hubs:i,serverModel:Object(Ta.m)(e,t)})}},{Component:C6e,Fragment:D6e}=Ed.a;var P6e={dispatchSetPrimaryServer:Wi.t},O6e=Object(Fu.b)(null,P6e)(class extends C6e{componentDidMount(){this._populate(this.props)}componentDidUpdate(e){var{machineIdentifier:t}=this.props;t&&t!==e.machineIdentifier&&this._populate(this.props)}_populate(e){var{machineIdentifier:t,dispatchSetPrimaryServer:a}=e;t&&Object(wa.a)(()=>{a({machineIdentifier:t})})}render(){return Uu()(D6e,{},void 0,this.props.children)}}),j6e=LS(Object(_u.a)(lfe,({hubs:e})=>e),e=>e),T6e=Object(_u.a)(j6e,e=>e.map(e=>e.id));Oc.a.shape({directoryKey:Oc.a.string.isRequired,hubIdentifier:Oc.a.string,hubKey:Oc.a.string,id:Oc.a.string.isRequired,key:Oc.a.string,provider:Oc.a.shape({identifier:Oc.a.string,providerIdentifier:Oc.a.string,title:Oc.a.string}),server:Oc.a.shape({friendlyName:Oc.a.string,machineIdentifier:Oc.a.string.isRequired,sourceTitle:Oc.a.string}),style:Oc.a.string,subtype:Oc.a.string,title:Oc.a.string,type:Oc.a.string}),Oc.a.shape({homeHubID:Oc.a.string.isRequired,error:Oc.a.object,isPending:Oc.a.bool.isRequired,isPopulated:Oc.a.bool.isRequired,hub:Oc.a.string,provider:Oc.a.string,server:Oc.a.string});var{Fragment:w6e}=Ed.a;var E6e=function(e){var{onModalClose:t}=e;return(Uu()(w6e,{},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Down for Maintenance")),Uu()(fL,{},void 0,Object(Ze.default)("Plex is down for maintenance. Don't worry, it will be back soon.")),Uu()(CL,{},void 0,Uu()(rT,{to:"https://status.plex.tv","data-autofocus":!0,target:"_blank",kind:Dp,onPress:t},void 0,"status.plex.tv"))))},{Fragment:N6e}=Ed.a;var x6e=function(e){var{onModalClose:t}=e;return(Uu()(N6e,{},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Content is Unavailable")),Uu()(fL,{},void 0,Object(Ze.default)("The content provider is working normally but did not return content. The content may no longer be available.")),Uu()(CL,{},void 0,Uu()(rT,{"data-autofocus":!0,kind:Dp,onPress:t},void 0,Object(Ze.default)("Okay")))))},{Fragment:A6e}=Ed.a,L6e=Uu()("br",{});var k6e=function(e){var{friendlyName:t,sourceTitle:a,onModalClose:i,onReloadHttpPress:r,onReloadHttpAlwaysPress:n}=e,s=a?[Object(Ze.default)("{owner}'s server does not allow secure connections.",{owner:a})]:[Object(Ze.default)('The server "{serverName}" does not allow secure connections.',{serverName:t})];return s.push(Object(Ze.default)("To see content from this server, you can try allowing insecure connections to reload the web app insecurely.")),Uu()(A6e,{},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Server Unreachable")),Uu()(fL,{},void 0,s.join(" "),L6e,Uu()(Vp,{to:Wp,target:"_blank",kind:Dp,onPress:i},void 0,Object(Ze.default)("Learn more"))),Uu()(CL,{},void 0,Uu()(rT,{kind:Pp,className:IL.a.button,onPress:n},void 0,Object(Ze.default)("Allow always")),Uu()(rT,{className:IL.a.button,"data-autofocus":!0,kind:Pp,onPress:r},void 0,Object(Ze.default)("Allow once"))))};var R6e=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({friendlyName:e.friendlyName,sourceTitle:e.sourceTitle}))}),(function(e){return{onReloadHttpPress(t){e(hu())},onReloadHttpAlwaysPress(t){e(vu()),e(hu())}}}))(k6e),{Fragment:z6e}=Ed.a;var U6e=function(e){var{friendlyName:t,isInstallingServerUpdate:a,isOutOfDate:i,isUnauthorized:r,isUnavailable:n,onModalClose:s}=e,o=[],l=Object(Ze.default)("Server is Unavailable");return a?o.push(Object(Ze.default)('The server "{serverName}" is installing an update.',{serverName:t}),Object(Ze.default)("Grab a cup of tea. This may take a couple of minutes.")):i?(l=Object(Ze.default)("Update Required"),o.push(Object(Ze.default)('The server "{serverName}" is out of date.',{serverName:t}),Object(Ze.default)("This version of Plex requires Plex Media Server {version} or higher.",{version:"1.15.2"}))):r?o.push(Object(Ze.default)("No soup for you!"),Object(Ze.default)("You do not have access to this server.")):n&&o.push(Object(Ze.default)('The server "{serverName}" is unavailable.',{serverName:t}),Object(Ze.default)("Plex will automatically try to reconnect to this server.")),Uu()(z6e,{},void 0,Uu()(jL,{},void 0,l),Uu()(fL,{},void 0,o.join(" ")),Uu()(CL,{},void 0,Uu()(rT,{className:IL.a.button,"data-autofocus":!0,kind:Dp,onPress:s},void 0,Object(Ze.default)("Okay"))))};var V6e=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isOutOfDate:e.isOutOfDate,isUnauthorized:e.isUnauthorized,isUnavailable:e.isUnavailable,sourceTitle:e.sourceTitle}))}))(U6e),{Fragment:B6e}=Ed.a,F6e=Uu()("br",{});var H6e=function(e){var{onModalClose:t}=e,a=[Object(Ze.default)("There was an unexpected error."),Object(Ze.default)("Please visit our forums if you continue to experience problems.")];return Uu()(B6e,{},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Content is Unavailable")),Uu()(fL,{},void 0,a.join(" "),F6e,Uu()(Vp,{to:Bp,target:"_self",kind:Dp,onPress:t},void 0,Object(Ze.default)("Go to Forums"))),Uu()(CL,{},void 0,Uu()(rT,{className:IL.a.button,"data-autofocus":!0,kind:Dp,onPress:t},void 0,Object(Ze.default)("Okay"))))},{Fragment:_6e}=Ed.a;var Q6e=function(e){var{onModalClose:t}=e,a=[Object(Ze.default)("The server associated with this content is no longer accessible."),Object(Ze.default)("You can safely remove this content.")];return Uu()(_6e,{},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Unknown Server")),Uu()(fL,{},void 0,a.join(" ")),Uu()(CL,{},void 0,Uu()(rT,{className:IL.a.button,"data-autofocus":!0,kind:Dp,onPress:t},void 0,Object(Ze.default)("Okay"))))};var W6e=function(e){var{isOpen:t,serverEntityID:a,shouldShowDownForMaintenance:i,shouldShowInsecureFallbackChoice:r,shouldShowHubStatus:n,shouldShowServerStatus:s,shouldShowUnexpectedError:o,shouldShowUnrecognized:l,onModalClose:c}=e;return(Uu()(xT,{size:jp,isOpen:t,metricsPage:Rd.O,onModalClose:c},void 0,Uu()(UL,{onModalClose:c},void 0,i?Uu()(E6e,{onModalClose:c}):null,n?Uu()(x6e,{onModalClose:c}):null,r?Uu()(R6e,{serverEntityID:a,onModalClose:c}):null,s?Uu()(V6e,{serverEntityID:a,onModalClose:c}):null,o?Uu()(H6e,{onModalClose:c}):null,l?Uu()(Q6e,{onModalClose:c}):null)))};var G6e=Object(Fu.b)((function(){return Object(_u.a)(n2e(),o2e(),(e,t)=>{var{error:a,server:i}=e,r={};if(a&&a.isContentUnavailable)r.shouldShowHubStatus=!0;else if(t){var{isDownForMaintenance:n,isHostedHttps:s,isInstallingServerUpdate:o,isOutOfDate:l,isUnavailable:c,isUnauthorized:d,hasHttpsConnections:u}=t;r.serverEntityID=i,n?r.shouldShowDownForMaintenance=!0:c&&s&&!u?r.shouldShowInsecureFallbackChoice=!0:(c||d||o||l)&&(r.shouldShowServerStatus=!0)}else r.shouldShowUnrecognized=!0;return r.shouldShowHubStatus||r.shouldShowDownForMaintenance||r.shouldShowInsecureFallbackChoice||r.shouldShowServerStatus||r.shouldShowUnrecognized||(r.shouldShowUnexpectedError=!0),r})}))(W6e),Y6e=a("nnTz"),K6e=a.n(Y6e);function q6e(e){var{className:t,cellWidth:a,listContext:i,listSubtype:r,listType:n}=e,s=N$(e),o={position:"absolute",top:0,left:0,width:a+"px",height:wM(a,n,r,i)+"px"};return Uu()("div",{style:s.style},void 0,Uu()("div",{className:t,style:o}))}q6e.defaultProps={className:K6e.a.posterCell};var Z6e=q6e,X6e=a("6gEP"),J6e=a.n(X6e),$6e=Ed.a.createElement,{Component:e8e}=Ed.a,t8e=String.fromCharCode(183),a8e=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}];class i8e extends e8e{constructor(e,t){super(e,t),this.onListUpdate=e=>{var{listStyle:t}=e,{onListReady:a}=this.props,i=this._isReady?void 0:a;this._isReady=!0,this.setState({listHeight:t.height},i)},this.onHelpPress=()=>{this.setState({isHelpModalOpen:!0})},this.onHelpModalClose=()=>{this.setState({isHelpModalOpen:!1})},this.state={listHeight:"auto",isHelpModalOpen:!1},this._isReady=!1}render(){var{allowToggleHomeHub:e,className:t,columnAdjustment:a,errorTitle:i,hasRetried:r,hasServer:n,homeHub:s,homePageHomeHubStatus:o,shouldConfirmHomeHubRemoval:l,sourceTitle:c,title:d,onRetryHomeHub:u}=this.props,{listHeight:p}=this.state,{hubIdentifier:h,type:m,subtype:v}=s,{isPending:g}=o,y=PAe(h),f=MMe(m,y,{subtype:v,isExternal:h.indexOf("external")>-1}),b=!!i,I=null;if(d){var S=i||(g&&r?Object(Ze.default)("Retrying"):null);I=Uu()(Gye,{},void 0,d,c?Uu()($y,{className:J6e.a.titleSeparator}):null,c?Uu()("span",{className:J6e.a.sourceTitle},void 0,c):null,S?Uu()($y,{className:J6e.a.errorSeparator,separator:t8e}):null,S?Uu()("span",{className:J6e.a.errorTitle},void 0,S):null)}var M,C={visibility:"auto"===p?"hidden":"visible"},D={height:p,overflow:"hidden"};return Uu()("div",{className:t,style:C,"data-qa-id":"hub--"+h},void 0,Uu()(Sfe,{allowToggleHomeHub:e,className:J6e.a.hubCellHeader,homeHubID:o.homeHubID,isHomeHub:!0,shouldConfirmHomeHubRemoval:l},void 0,I,g?Uu()(Kh,{size:jp}):null,b&&n?Uu()(KG,{className:J6e.a.iconButton,iconClassName:J6e.a.iconButtonIcon,iconComponent:qH,label:Object(Ze.default)("Retry"),ariaLabel:Object(Ze.default)("Retry"),onPress:u}):null,b?Uu()(KG,{className:J6e.a.iconButton,iconClassName:J6e.a.iconButtonIcon,iconComponent:x0,label:Object(Ze.default)("What's this?"),ariaLabel:Object(Ze.default)("What's this?"),onPress:this.onHelpPress}):null),Uu()("div",{style:D},void 0,Uu()(M$,{scrollerClassName:J6e.a.hubScroller,ignoreHeight:!0,keyPropName:"id",items:a8e,scrollDirection:Jp,size:a8e.length,layout:nLe(m,v,y,a,f.length),cellRenderer:(M={listType:m,listSubtype:v,listContext:y},function(e){return $6e(Z6e,tp()({},M,e))}),onListUpdate:this.onListUpdate})),Uu()(G6e,{homeHubID:s.id,isOpen:this.state.isHelpModalOpen,onModalClose:this.onHelpModalClose}))}}i8e.defaultProps={className:J6e.a.hubCell};var r8e=i8e,n8e=Ed.a.createElement,{Component:s8e}=Ed.a;var o8e={dispatchFetchHomeHubs:h6e,dispatchUpdateHomeHubsStatus:y6e};var l8e=Object(Fu.b)((function(){return Object(_u.a)(yne(),r2e(),n2e(),c2e(),l2e(),Object(_u.a)(n2e(),o2e(),(e,t)=>{var a,{error:i}=e;return i&&(a=i.isContentUnavailable?Object(Ze.default)("Content Unavailable"):t?t.isInstallingServerUpdate?Object(Ze.default)("Installing Update"):t.isOutOfDate?Object(Ze.default)("Update Required"):Object(Ze.default)("Unreachable"):Object(Ze.default)("Unknown Server")),a}),Object(_u.a)(o2e(),e=>!!e),Object(_u.a)(o2e(),e=>!!e&&e.isConnected),(e,{allowSourceTitle:t})=>t,(e,t,a,i,r,n,s,o,l)=>({columnAdjustment:e,errorTitle:n,hasServer:s,homeHub:t,homePageHomeHubStatus:a,isServerConnected:o,sourceTitle:l?r:null,title:i}))}),o8e)(class extends s8e{constructor(e,t){super(e,t),this.onRetryHomeHub=()=>{var e={homeHubIDs:[this.props.homeHubID],fetchDelayMS:350};this.setState({hasRetried:!0},this.props.dispatchFetchHomeHubs.bind(null,e))},this.state={hasRetried:!1}}componentDidUpdate(e){var{errorTitle:t,homeHubID:a,isServerConnected:i,dispatchFetchHomeHubs:r,dispatchUpdateHomeHubsStatus:n}=this.props,s=!e.errorTitle&&t,o=i&&!e.isServerConnected,l=!i&&e.isServerConnected;s&&this.state.hasRetried&&H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was an error retrieving content.")}),(o||l)&&this.setState({hasRetried:!1},()=>{o?r({homeHubIDs:[a]}):l&&n({homeHubIDs:[a],status:{error:{},isPending:!1,isPopulated:!1}})})}render(){var e=this.props,{allowSourceTitle:t,homeHub:a,homePageHomeHubStatus:i,sourceTitle:r,title:n}=e,s=Je()(e,["allowSourceTitle","dispatchFetchHomeHubs","dispatchUpdateHomeHubsStatus","homeHubID","homeHub","homePageHomeHubStatus","isServerConnected","sourceTitle","title"]);return i.isPopulated?n8e(Kke,tp()({},s,{allowSourceTitle:t,hubEntityID:i.hub,providerEntityID:i.provider,serverEntityID:i.server})):n8e(r8e,tp()({},s,{hasRetried:this.state.hasRetried,homeHub:a,homePageHomeHubStatus:i,sourceTitle:r,title:n,onRetryHomeHub:this.onRetryHomeHub}))}}),{Component:c8e}=Ed.a,d8e={opacity:0,pointerEvents:"none"},u8e={opacity:1,pointerEvents:"auto"};var p8e=class extends c8e{constructor(e,t){super(e,t),this.onListReady=()=>{++this._readyCount===this._initialCount&&this.setState({isReady:!0})},this.state={isReady:!1},this._readyCount=0}componentWillMount(){this._initialCount=this.props.homeHubIDs.length}componentWillReceiveProps(e){var t=e.homeHubIDs.length,a=this.props.homeHubIDs.length;this.state.isReady||t===a||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e,t){!t.isReady&&this.state.isReady&&Object(ie.c)("metrics").trackView({page:Rd.O,mode:mGe.Custom})}render(){var{homeHubIDs:e}=this.props,{isReady:t}=this.state;return Uu()("div",{style:t?u8e:d8e},void 0,e.map(e=>Uu()(l8e,{homeHubID:e,allowSourceTitle:!0,allowToggleHomeHub:!0,shouldConfirmHomeHubRemoval:!0,onListReady:this.onListReady},e)))}},{Fragment:h8e}=Ed.a;var m8e=function(e){var{onResetCustomization:t}=e,a=w8(t);return Uu()(xH,{iconSrc:J4,title:Object(Ze.default)("Your home screen is empty"),description:Uu()(h8e,{},void 0,Uu()(oT,{message:Object(Ze.default)("If this is unexpected, see our {openLink}home screen customization tips{closeLink}. If you removed everything and want it all back, choosing Reset Customization below will reset your sidebar navigation and home screen layout to the default state."),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:"https://support.plex.tv/articles/customizing-plex-web/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_self"}]}))},void 0,Uu()(rT,{kind:Dp,size:wp,onPress:a.onOpen},void 0,Object(Ze.default)("Reset Customization")),Uu()(HH,{kind:Pp,title:Object(Ze.default)("Reset Customization"),message:Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:Object(Ze.default)("Reset Customization"),metricsPage:Rd.A,isOpen:a.isOpen,onCancel:a.onClose,onConfirm:a.onConfirm}))},v8e=a("L1D5"),g8e=a.n(v8e),y8e=Uu()(C5e,{});var f8e=function(e){var{hubs:t,hasWatchTogetherRooms:a,settingsKey:i,onResetCustomization:r}=e;return t.length>0||a?Uu()(a3e,{innerClassName:g8e.a.content,scrollPositionKey:i+"!scrollPosition"},void 0,a?y8e:null,t.length>0?Uu()(p8e,{homeHubIDs:t}):null):Uu()(m8e,{onResetCustomization:r})};function b8e(e){return e.reduce((e,t)=>{var{homeHubID:a,hubStatus:i,hubEntity:r,homeHub:n}=t;return n.isHidden||i&&r&&0===r.size||e.push(a),e},[])}function I8e(){return Object(_u.a)(Object(_u.a)(e=>e.ui.homePage.homeHubStatuses,T6e,lfe,sfe,Gu,pv,(e,t,a,i,r,n)=>t.map(t=>{var s=e.find(e=>e.homeHubID===t);return{homeHubID:t,homeHub:a.hubs.find(e=>e.id===t),hubStatus:s,hubEntity:s&&i[s.hub],server:s&&r[s.server],provider:s&&n[s.provider]}})),b8e)}var S8e=Object(Fu.b)((function(){return Sv(I8e(),e=>({hubs:e}))}),(function(e){return{onResetCustomization(){e(EA())}}}))(f8e),{useEffect:M8e}=Ed.a,C8e=Uu()(ph,{},void 0,Uu()(Xh,{})),D8e=Uu()(X4e,{}),P8e=Uu()(l3e,{}),O8e=Uu()(v5e,{}),j8e=Uu()(Q5e,{});var T8e=function(e){var{activeSelectionType:t,isPending:a,hasNoProviders:i,hasWatchTogetherRooms:r,isManagedUser:n,preferredServerID:s,settingsKey:o,shouldFetchPreferredServerContent:l,shouldFetchProviderPromotedContent:c,shouldFetchHomeContent:d,dispatchInitHomePage:u,dispatchResetHomePage:p,dispatchFetchPreferredServerContent:h,dispatchFetchProviderPromotedContent:m,dispatchFetchHomeContent:v,dispatchTryUpdateWatchTogetherRooms:g}=e;return M8e(()=>(u(),p),[]),M8e(()=>{l&&h()},[l,h]),M8e(()=>{c&&m()},[c,m]),M8e(()=>{d&&v()},[d,v]),M8e(()=>{g()},[g]),a?C8e:i&&!r?n?D8e:P8e:Uu()(O6e,{machineIdentifier:s},void 0,Uu()(tJ,{isMetricsDelegated:!0,metricsPage:Rd.O,allowBackgroundLightPreset:!0,scrollDirection:Jp},void 0,t?O8e:j8e,Uu()(S8e,{settingsKey:o,hasWatchTogetherRooms:r})))},w8e=Ed.a.createElement,{Component:E8e}=Ed.a,N8e=Object(_u.a)(qu.a,L7,s6e,lfe,gne,W4e,G4e,Yu,K4e(),(e,t,a,i,r,n,s,o,l)=>{var{isPending:c,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:p}=a,{preferredServerID:h,settingsKey:m}=i,{hasCompletedSetup:v}=t,g=e.isProvidersPopulated||!!e.providersError||e.isProvidersPending&&o.isRejected;return{isPending:c||!g||!v,hasNoProviders:n,hasWatchTogetherRooms:l,isManagedUser:s,preferredServerID:h,settingsKey:m,shouldFetchHomeContent:d,shouldFetchPreferredServerContent:u,shouldFetchProviderPromotedContent:g&&v&&p,activeSelectionType:r.activeSelectionType}}),x8e={dispatchInitHomePage:u6e,dispatchResetHomePage:g6e,dispatchFetchPreferredServerContent:m6e,dispatchFetchProviderPromotedContent:v6e,dispatchFetchHomeContent:p6e,dispatchChangeQuickSearchSettings:uee,dispatchTryUpdateWatchTogetherRooms:Hse};var A8e=Object(Fu.b)(N8e,x8e)(class extends E8e{componentDidMount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null})}render(){return w8e(T8e,this.props)}}),{Fragment:L8e}=Ed.a,k8e=Uu()(ph,{},void 0,Uu()(Xh,{}));var R8e=function(e){var{children:t,isPending:a}=e;return a?k8e:Uu()(L8e,{},void 0,t)},z8e=Ed.a.createElement,{useRef:U8e}=Ed.a,V8e=Object(_u.a)(e=>e.isWaitingForServers,zQe,(e,t)=>({preferredServerEntityID:t&&t.entityID,isWaitingForServers:e}));var B8e=Object(Fu.b)(V8e)((function(e){var{isWaitingForServers:t,preferredServerEntityID:a}=e,i=Je()(e,["isWaitingForServers","preferredServerEntityID"]),r=U8e(t);return r.current&&!t&&(r.current=t),z8e(R8e,tp()({},i,{isPending:!a&&r.current}))})),{Fragment:F8e}=Ed.a,H8e=Uu()(U4e,{}),_8e=Uu()(i6e,{}),Q8e=Uu()(B8e,{},void 0,Uu()(A8e,{}));var W8e=function(e){var{isAutoHomeHubsEnabled:t,isV4HomeEnabled:a}=e;return(Uu()(F8e,{},void 0,t&&a?H8e:null,t&&!a?_8e:null,t?null:Q8e))},G8e=Object(_u.a)(gGe,zT(Tt.C),(e,t)=>({isAutoHomeHubsEnabled:e,isV4HomeEnabled:t})),Y8e=Object(Fu.b)(G8e)(W8e);function K8e(){return Object(_u.a)(HG(),(e,{sourceDirectoryID:t})=>t,(e,t)=>_G(e,t))}var q8e=Object(_u.a)(LQe,e=>e.length>0);var Z8e=Object(_u.a)(lk,e=>e.dismissedUnclaimedServers),X8e=Object(_u.a)(Ku,e=>e.some(e=>e.connections.some(e=>e.isLoopback)&&e.connectionTestResult===qa.PENDING)),J8e=Object(_u.a)(Yu,X8e,N3,G4e,q8e,(e,t,a,i,r)=>e.isResourcesPopulated&&!t&&!a.length&&!i&&!r),$8e=a("9kxW"),e9e=a.n($8e),{Fragment:t9e}=Ed.a;var a9e=function(e){var{children:t,isSidebarCollapsed:a}=e;return(Uu()(t9e,{},void 0,a?Uu()("div",{className:e9e.a.sidebarUnderlay}):null,Uu()("div",{className:a?e9e.a.collapsedSidebar:e9e.a.openSidebar},void 0,t)))},i9e=a("DFfa"),r9e=a.n(i9e);var n9e=function(){var e=w8(),t=Object(Ze.default)("An unexpected error is impacting the sidebar");return Uu()(a9e,{isSidebarCollapsed:!0},void 0,Uu()(zb,{component:Vp,tooltip:t,tooltipAttachment:"middleRight","aria-label":t,onPress:e.onOpen},void 0,Uu()(mh,{className:r9e.a.icon})),Uu()(O8,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))},s9e=Oc.a.shape({key:Oc.a.string,directoryID:Oc.a.string,directoryIcon:Oc.a.string,sourceType:Oc.a.string,title:Oc.a.string,titleDetail:Oc.a.string,detail:Oc.a.string,route:Oc.a.string,machineIdentifier:Oc.a.string,providerIdentifier:Oc.a.string,providerMetricsIdentifier:Oc.a.string,isUnavailable:Oc.a.bool,isOutOfDate:Oc.a.bool,isUnclaimedServer:Oc.a.bool,isSelected:Oc.a.bool,isCloud:Oc.a.bool}),o9e=a("JjHc"),l9e=a.n(o9e),c9e=Ed.a.createElement;function d9e(e){var t,a,{"data-qa-id":i,className:r,size:n,style:s,linkClassName:o,titleClassName:l,isActiveClassName:c,isSelectedClassName:d,icon:u,title:p,detail:h,to:m,role:v,isActive:g,isDim:y,isDisabled:f,isSelected:b,children:I,onNavigate:S,onMouseEnter:M,onMouseLeave:C,onFocus:D,onBlur:P}=e;return m?(t=Vp,a={isDisabled:f,to:m,role:v,"data-qa-id":i,onPress:S}):(t="div",a={}),Uu()("div",{className:(r||"")+" "+(l9e.a[n]||"")+" "+(g&&c||"")+" "+(y&&l9e.a.isDim||"")+" "+(f&&l9e.a.isDisabled||"")+" "+(b&&d||""),"data-qa-id":"sidebarSource",style:s,onMouseEnter:M,onMouseLeave:C,onFocus:D,onBlur:P},void 0,c9e(t,tp()({className:o},a,{title:h?p+", "+h:p}),Uu()("div",{className:l9e.a.iconContainer},void 0,u),Uu()("div",{className:l9e.a.titles},void 0,Uu()("div",{className:l},void 0,p),h?Uu()("div",{className:l9e.a.detail},void 0,h):null)),I)}d9e.defaultProps={className:l9e.a.button,size:Tp,linkClassName:l9e.a.sourceLink,titleClassName:l9e.a.title,isActiveClassName:l9e.a.isActive,isSelectedClassName:l9e.a.isSelected};var u9e=d9e,p9e=a("WGyR"),h9e=a.n(p9e),m9e=Ed.a.createElement;var v9e=function(e){var{icon:t,connectDragSource:a}=e,i=Je()(e,["icon","connectDragSource"]),r=m9e(u9e,tp()({icon:t||Uu()(Pxe,{className:h9e.a.iconReorder})},i));return a?a(Uu()("div",{className:h9e.a.dragSource},void 0,r)):r},{Component:g9e}=Ed.a,y9e=parseInt(GU.sourceSidebarItemHeight,10);var f9e=Object(axe.DragLayer)((function(e,t){var a=e.getItem(),i={item:a,style:null},r=e.getInitialSourceClientOffset(),n=e.getSourceClientOffset();if("SOURCE_ITEM"===e.getItemType()&&r&&n){var s=n.y;s-a.listTop<=0?s=a.listTop:s+y9e>=a.listBottom&&(s=a.listBottom-y9e),i.style=y2e({x:r.x,y:s},a.listWidth)}return i}))(class extends g9e{render(){var{item:e,style:t}=this.props;if(!e||!t)return null;var{sourceTitle:a,sourceDetail:i}=e;return(Uu()(mxe,{},void 0,Uu()(v9e,{style:t,title:a,detail:i})))}}),b9e=a("5CAA"),I9e=a.n(b9e),{Component:S9e}=Ed.a,M9e={beginDrag(e,t,a){var{sourceTitle:i,sourceTitleDetail:r,listIndex:n,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}=e;return{dragIndex:n,sourceTitle:i,sourceTitleDetail:r,isRemoved:s,listHeight:o,listWidth:l,listTop:c,listRight:d,listBottom:u,listLeft:p}},endDrag(e,t,a){e.onItemDragEnd({didDrop:t.didDrop()})}},C9e={hover(e,t,a){var i,r=t.getClientOffset(),n=Object(Vu.findDOMNode)(a).getBoundingClientRect(),s=(n.bottom-n.top)/2,o=r.y-n.top,l=t.getItem().dragIndex,c=e.listIndex;i=c===l?c:o>s?c+1:c,e.onItemDragMove({dragIndex:l,dropIndex:i})}};var D9e=Object(axe.DropTarget)("SOURCE_ITEM",C9e,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("SOURCE_ITEM",M9e,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends S9e{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}render(){var{sourceTitle:e,sourceTitleDetail:t,isOver:a,isDragging:i,isDraggingBefore:r,isDraggingAfter:n,connectDropTarget:s,connectDragSource:o}=this.props;return s(Uu()("div",{className:(I9e.a.container||"")+" "+(a&&I9e.a.isOver||"")+" "+(i?"isDragging":"")+" "+(a&&r?"isDraggingBefore":"")+" "+(a&&n?"isDraggingAfter":"")},void 0,Uu()(v9e,{title:e,detail:t,connectDragSource:o})))}})),P9e=a("iT+t"),O9e=a.n(P9e),j9e=Ed.a.createElement,{Component:T9e}=Ed.a,w9e={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1},E9e=Uu()(og,{},void 0,Uu()(f9e,{}));class N9e extends T9e{constructor(e,t){super(e,t),this.onItemDragMove=e=>{var{dragIndex:t,dropIndex:a}=e,{dragIndex:i,dropIndex:r}=this.state,n=a!==r?a:r,s=t!==i?t:i;if((n===s||n>s&&n-s==1)&&(n=-1),s!==i||n!==r){var o={dragIndex:s,dropIndex:n,hasValidDropTarget:-1!==n};this.setState(o)}},this.onItemDragEnd=e=>{var t,{dragIndex:a,dropIndex:i}=this.state;e.didDrop&&-1!==i&&(t=()=>{this.props.onReorderSource({fromIndex:a,toIndex:i>a?i-1:i})}),this.setState(w9e,t)},this.onMeasure=e=>{var{height:t,width:a,x:i,y:r}=e;this.setState({listHeight:t,listWidth:a,listTop:r,listRight:i+a,listBottom:r+t,listLeft:i})},this.state=Object.assign({},w9e,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){var{className:e,sources:t}=this.props,{dropIndex:a,hasValidDropTarget:i}=this.state;return Uu()(p$,{className:e,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,t.map((e,t)=>{var r=i&&a===t,n=i&&a===t+1;return j9e(D9e,tp()({},this.state,{key:e.key,sourceTitle:e.title,sourceTitleDetail:e.titleDetail,listIndex:t,hasValidDropTarget:i,isDraggingAfter:n,isDraggingBefore:r,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd}))}),E9e)}}N9e.defaultProps={className:O9e.a.container};var x9e=nxe(N9e);function A9e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}A9e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var L9e=A9e;function k9e(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}k9e.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var R9e=k9e,z9e=a("EXW4"),U9e=a.n(z9e),V9e=Ed.a.createElement;function B9e(e){return V9e("div",e)}B9e.defaultProps={className:U9e.a.header};var F9e=B9e,H9e=a("+tih"),_9e=a.n(H9e),Q9e=Ed.a.createElement;function W9e(e){var{className:t}=e;return(Q9e(rh,tp()({className:t,autoScroll:!0},e)))}W9e.defaultProps={className:_9e.a.scroller};var G9e=W9e,Y9e=a("3YNL"),K9e=a.n(Y9e),{Component:q9e,Fragment:Z9e}=Ed.a,X9e=Uu()(DI,{}),J9e=Uu()(R9e,{}),$9e=Uu()(L9e,{});var e7e=class extends q9e{constructor(...e){super(...e),this.onReorderSource=({fromIndex:e,toIndex:t})=>{if(e!==t){var{sources:a,hiddenSidebarSourceKeys:i,onReorderPinnedSources:r}=this.props;r({sourceKeys:i2e(a.map(e=>e.key),e,t).concat(i)})}}}render(){var{sources:e,hasDownloadsSource:t,onCloseReorderPinSources:a}=this.props;return(Uu()(Z9e,{},void 0,Uu()(F9e,{},void 0,Uu()("div",{className:K9e.a.titleContainer},void 0,Uu()("div",{className:K9e.a.title},void 0,Object(Ze.default)("Reorder")),Uu()(Vp,{className:K9e.a.closeButton,"aria-label":Object(Ze.default)("Done"),onPress:a},void 0,X9e))),Uu()(G9e,{},void 0,Uu()("div",{className:K9e.a.expandedSidebarContent},void 0,Uu()(v9e,{icon:J9e,title:Object(Ze.default)("Home"),isDisabled:!0}),t?Uu()(v9e,{icon:$9e,title:Object(Ze.default)("Downloads"),isDisabled:!0}):null,Uu()(x9e,{sources:e,onReorderSource:this.onReorderSource})))))}},t7e=Object(_u.a)(k7,e=>({hiddenSidebarSourceKeys:e.reduce((e,t)=>(t.isHidden&&e.push(t.key),e),[])})),a7e={onReorderPinnedSources:eL},i7e=Object(Fu.b)(t7e,a7e)(e7e),r7e=parseInt(YU.a.sourceSidebarServerHeaderIconSize,10);var n7e=function(e){var{serverEntityID:t,thumb:a}=e;return(Uu()(JS,{serverEntityID:t,url:a,width:r7e,height:r7e}))};var s7e=Object(Fu.b)((function(){return Object(_u.a)(RS(),Object(_u.a)(RS(),Kq,QY,(e,t,a)=>{var i=t.find(t=>a[t].id===e.ownerId);return i?a[i].thumb:null}),qu.a,(e,t,a)=>({thumb:e.isShared?t:a.thumb}))}))(n7e),o7e="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg==",l7e=a("LJ6K"),c7e=a.n(l7e);function d7e({isUnavailable:e,isOutOfDate:t,isUnclaimed:a}){return e?Object(Ze.default)("Unavailable"):t?Object(Ze.default)("Needs update"):a?Object(Ze.default)("Unclaimed"):void 0}function u7e(e){var{isRemote:t,isUnclaimed:a,isUnavailable:i,isOutOfDate:r}=e,n=i||a||r;return n||t?Uu()("div",{className:c7e.a.badge},void 0,Uu()("img",n?{className:c7e.a.image,src:o7e,"aria-label":d7e(e)}:{className:c7e.a.image,src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg==","aria-label":Object(Ze.default)("Remote server")})):null}function p7e(e){var{icon:t,showBadgedIcon:a,isPending:i,isRemote:r,isUnavailable:n,isOutOfDate:s,isUnclaimed:o}=e;return a?i?Uu()(Xh,{className:c7e.a.spinner}):Uu()("div",{className:c7e.a.container},void 0,t,Uu()(u7e,{isRemote:r,isUnavailable:n,isOutOfDate:s,isUnclaimed:o})):t}p7e.defaultProps={showBadgedIcon:!0};var h7e=p7e,m7e=a("M15R"),v7e=a.n(m7e);var g7e=function(e){var{className:t,isHovered:a,overflowMenuButtonID:i,isOverflowMenuOpen:r,onAddLibraryPress:n,onOverflowMenuToggle:s}=e,o=F.a.hasTouchScreen||a||r;return Uu()("div",{className:o?t:v7e.a.hidden},void 0,Uu()(KG,{className:v7e.a.button,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:sA,title:Object(Ze.default)("Add Library"),onPress:n}),Uu()(KG,{id:i,className:v7e.a.button,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:UZ,title:Object(Ze.default)("More Actions"),onPress:s}))};var y7e=xG(null,(function(e,t){var a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress(){e(pG(a))}}}))(g7e),f7e=a("wrVM"),b7e=a.n(f7e),I7e=Ed.a.createElement;var S7e=function(e){return I7e(HH,tp()({},e,{containerClassName:b7e.a.modalContainer}))},M7e=a("gBB/"),C7e=a.n(M7e),D7e=Ed.a.createElement;var P7e=function(e){return D7e(Fg,tp()({},e,{portalClassName:C7e.a.menuPortal}))},{Fragment:O7e}=Ed.a,j7e={placement:"top-start",modifiers:{offset:{offset:"0, -20%"}}};var T7e=function(e){var{serverEntityID:t,machineIdentifier:a,overflowMenuButtonID:i,isLibraryRefreshing:r,isOptimizeDatabaseInProgress:n,isCleanBundlesInProgress:s,isOverflowMenuOpen:o,onScanLibrariesPress:l,onCancelScanLibrariesPress:c,onEmptyTrashPress:d,onOptimizeDatabasePress:u,onCleanBundlesPress:p,onOverflowMenuClose:h}=e,m=w8(),v=w8(d),g=w8(u),y=w8(p);return Uu()(O7e,{},void 0,Uu()(P7e,{target:i,options:j7e,isOpen:o,onMenuClose:h},void 0,Uu()(Gg,{onPress:Ib(h,m.onOpen)},void 0,Object(Ze.default)("Share")),r?Uu()(Gg,{onPress:c},void 0,Object(Ze.default)("Cancel Scan")):Uu()(Gg,{onPress:l},void 0,Object(Ze.default)("Scan Library Files")),Uu()(bre,{label:Object(Ze.default)("Manage Server"),onMenuClose:h},void 0,Uu()(Gg,{to:si(a,"settings","general")},void 0,Object(Ze.default)("Settings")),Uu()(Gg,{onPress:v.onOpen},void 0,Object(Ze.default)("Empty Trash")),Uu()(Gg,{isDisabled:n,onPress:g.onOpen},void 0,Object(Ze.default)("Optimize Database")),Uu()(Gg,{isDisabled:s,onPress:y.onOpen},void 0,Object(Ze.default)("Clean Bundles")))),Uu()(NZ,{metricsProperties:{context:_t.LIST},serverEntityID:t,isOpen:m.isOpen,onModalClose:m.onClose}),Uu()(S7e,{isOpen:v.isOpen,metricsPage:Rd.o,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:v.onConfirm,onCancel:v.onClose}),Uu()(S7e,{isOpen:g.isOpen,metricsPage:Rd.u,title:Object(Ze.default)("Optimize Database"),message:Object(Ze.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Ze.default)("Optimize"),onConfirm:g.onConfirm,onCancel:g.onClose}),Uu()(S7e,{isOpen:y.isOpen,metricsPage:Rd.i,title:Object(Ze.default)("Clean Bundles"),message:Object(Ze.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Ze.default)("Clean"),onConfirm:y.onConfirm,onCancel:y.onClose}))};var w7e=xG((function(){return Object(_u.a)(PG(),TG(),wG(),(e,t,a)=>({isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!a}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onScanLibrariesPress(){e(hG(a))},onCancelScanLibrariesPress(){e(SG(a))},onEmptyTrashPress(){e(yG(a))},onOptimizeDatabasePress(){e(vG(a))},onCleanBundlesPress(){e(gG(a))}}}))(T7e),E7e=a("kDj3"),N7e=a.n(E7e),x7e=Ed.a.createElement,{Fragment:A7e,useCallback:L7e,useEffect:k7e,useState:R7e}=Ed.a;var z7e=function(e){var{serverEntityID:t,machineIdentifier:a,hasServerActions:i,iconNode:r,isPending:n,isRemote:s,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,onToggleLockedPress:d}=e,u=Je()(e,["serverEntityID","machineIdentifier","hasServerActions","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","onToggleLockedPress"]),p=ny(),h=R7e(!1),m=h[1],v=h[0],[g,y]=WLe(),f=L7e(()=>{m(!v)},[v]),b=L7e(()=>{m(!1)},[]);return k7e(()=>{d&&d(v)},[v,d]),Uu()(A7e,{},void 0,x7e(u9e,tp()({},u,y,{isSelectedClassName:N7e.a.isSelected,titleClassName:N7e.a.title,isActive:v,role:"navigation",icon:Uu()(h7e,{icon:Uu()("div",{className:N7e.a.iconContainer},void 0,r),isPending:n,isRemote:s,isUnavailable:o,isOutOfDate:l,isUnclaimed:c})}),i?Uu()(y7e,{serverEntityID:t,className:N7e.a.actionContainer,isHovered:g,overflowMenuButtonID:p,isOverflowMenuOpen:v,onOverflowMenuToggle:f}):null),i?Uu()(w7e,{serverEntityID:t,machineIdentifier:a,overflowMenuButtonID:p,isOverflowMenuOpen:v,onOverflowMenuToggle:f,onOverflowMenuClose:b}):null)};function U7e(e){var t=window.location.hash,a=new RegExp("^"+Sd(e)+"\\b");return!(!t||!e)&&a.test(t)}var V7e=function(e){var{cloudServerEntityID:t,thumb:a}=e,i="#!/get-plex-media-server";return Uu()(z7e,{to:i,isSelected:U7e(i),iconNode:Uu()(n7e,{serverEntityID:t,thumb:a}),title:Object(Ze.default)("Your Media")})};var B7e=Object(Fu.b)((function(){return Object(_u.a)(e=>e.cloudServer,qu.a,(e,t)=>({cloudServerEntityID:e,thumb:t.thumb}))}))(V7e),F7e=Object(_u.a)(k7,e=>Object(AT.a)(e,e=>e.key,e=>e));function H7e(e,t,a,i){var r=t===e.machineIdentifier&&a===e.providerIdentifier,n=!!(e.sourceType===KQ||i&&e.directoryID===i);return r&&n}var _7e=function(){return Object(_u.a)(kS(),$z(),(e,t)=>e?D.a.find(t,t=>"provider.epg.load"===t.type&&t.Context.identifier===e.identifier):null)};var Q7e=Object(Pa.a)("provider/addToCatalog"),W7e=Object(Pa.a)("provider/clearAddToCatalogError"),G7e=Object(Pa.a)("provider/scanLibraryFiles"),Y7e=Object(Pa.a)("provider/editLibrary"),K7e=Object(Pa.a)("provider/emptyLibraryTrash"),q7e=Object(Pa.a)("provider/analyzeLibrary"),Z7e=Object(Pa.a)("provider/deleteLibrary"),X7e=Object(Pa.a)("provider/upgradeLibrary"),J7e=Object(Pa.a)("provider/scanLibraryFiles",e=>Object.assign({},e,{force:!0})),$7e=Object(Pa.a)("provider/scanLibraryFiles",e=>Object.assign({},e,{cancel:!0}));function eet(e){var t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function tet(e,t){var a=Object(Ta.j)(e,t).get("features").get(Ot.c),i={};return t.contentDirectory.key&&(i.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(i.hubKey=t.contentDirectory.hubKey),a.get("directories").findWhere(i)}function aet(e,t){var a=e.get("features").get(Ot.c).get("key");return a?_.join([a,t.get("id")]):t.get("key")}function iet(e,t){e(Fa({serverEntityID:t})),e(Ha({serverEntityID:t})),e(Object(ji.c)({serverEntityID:t}))}var ret=Object.assign({},bAe,{"provider/clearAddToCatalogError"(e,t){e.get("ui").get("addToCatalogModal").set("error",null)},"provider/addToCatalog"(e,t,a){var i=e.get("ui").get("addToCatalogModal"),r=Object(Ta.j)(e,t),n=r.get("features").get("actions").get("actions").get("addToCatalog").get("key");if(Object(wa.a)(()=>{i.set({isUpdating:!0,error:null})}),t.data.fileURL){var s=new window.XMLHttpRequest;return s.open("GET",t.data.fileURL,!0),s.responseType="blob",s.onload=e=>{if(200===e.target.status){var a=e.target.response,s=new window.FormData;s.append("file",a);var o=r.getXHROptions(n,{method:"POST",processData:!1,contentType:!1,data:s});T.a.ajax(o).then((e,t,a)=>{i.set({isUpdating:!1})},e=>{i.set({isUpdating:!1,error:Object(vw.a)(e)})})}window.URL.revokeObjectURL(t.data.fileURL)},void s.send()}var o=_.join(n,{url:t.data.channelURL}),l=r.getXHROptions(o,{method:"PUT",dataType:"json"});T.a.ajax(l).then((e,t,a)=>{i.set("isUpdating",!1);var n=new ut.a(e,{server:r.server,provider:r,parse:!0});if(n.get("key")){var s=lu(r.server.state,r.state,n.get("key"));window.location.hash=s}else i.set({isUpdating:!1,error:Object(vw.a)(a)})},e=>{i.set({isUpdating:!1,error:Object(vw.a)(e)})})},"provider/scanLibraryFiles"(e,t,a){var{cancel:i,force:r,metricsPage:n}=t,s=Object(Ta.m)(e,t),o=tet(e,t),l={libraryID:eet(o),libraryType:o.get("type"),cancel:i,force:r,allowMetrics:!!n,metricsProperties:{page:n}};o.set("refreshing",!i),_Q(s,l).fail(e=>{var t;t=i?Object(Ze.default)("There was an unexpected error canceling the scan."):r?503===e.status?Object(Ze.default)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):Object(Ze.default)("There was an unexpected error refreshing library metadata."):503===e.status?Object(Ze.default)("An internet connection is required to scan library files. Please check this server's connection and try again."):Object(Ze.default)("There was an unexpected error scanning library files."),a(Object(ji.d)(t))}).always(e=>{a(Na({serverEntityID:t.serverEntityID}))})},"provider/editLibrary"(e,t){var a=Object(Ta.m)(e,t),i=a.get("desktop").get("libraries"),r=tet(e,t);i.fetch().then(()=>{var e=eet(r),n=i.get(e);H.a.trigger("show:modal",new rG({server:a,model:n})),Object(ie.c)("metrics").trackClick({page:t.metricsPage,action:kd.x,type:n.get("type"),context:_t.LIBRARY})})},"provider/emptyLibraryTrash"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=tet(e,t),s=aet(r,n),o=_.join([s,"emptyTrash"]),l=i.getXHROptions(o,{type:"PUT"});T.a.ajax(l).done(()=>{a(Object(ji.d)({type:BQ.b,message:Object(Ze.default)("The trash was emptied.")}))}).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem emptying the trash.")))}),Object(ie.c)("metrics").trackClick({page:t.metricsPage,action:kd.y,type:n.get("type"),context:_t.LIBRARY})},"provider/analyzeLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=tet(e,t),s=aet(r,n),o=_.join([s,"analyze"]),l=i.getXHROptions(o,{type:"PUT"});T.a.ajax(l).fail(e=>{a(Object(ji.d)(Object(Ze.default)("There was a problem analyzing the library.")))}),Object(ie.c)("metrics").trackClick({page:t.metricsPage,action:kd.i,type:n.get("type"),context:_t.LIBRARY})},"provider/deleteLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=tet(e,t),s=aet(r,n),o=_.join(s,{async:1}),l=i.getXHROptions(o,{type:"DELETE"});r.get("features").get(Ot.c).get("directories").remove(n),T.a.ajax(l).fail(()=>{iet(a,t.serverEntityID),a(Object(ji.d)(Object(Ze.default)("There was a problem deleting the library.")))}),Object(ie.c)("metrics").trackClick({page:t.metricsPage,action:kd.q,type:n.get("type"),context:_t.LIBRARY})},"provider/upgradeLibrary"(e,t,a){var i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=tet(e,t),s=n.get("type")===Wt.j?{agent:tn.e,scanner:eW.b}:{agent:tn.f,scanner:eW.d},o=aet(r,n),l=_.join(o,s),c=i.getXHROptions(l,{type:"PUT"});T.a.ajax(c).then(()=>{iet(a,t.serverEntityID)},()=>{a(Object(ji.d)(Object(Ze.default)("There was a problem upgrading the library.")))})},[Ea](e,t,a){"library.delete"===t.activity.type&&iet(a,t.serverEntityID)}}),net=a("yvfd"),set=a.n(net),oet=Ed.a.createElement,cet=e=>{var{forwardedRef:t,className:a=set.a.input,errorClassName:i=set.a.hasError,disabledClassName:r=set.a.isDisabled,isDisabled:n=!1,hasError:s=!1,name:o,size:l=gp.Medium}=e,c=Je()(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size"]);return(oet("input",tp()({className:(a||"")+" "+(set.a[l]||"")+" "+(n&&r||"")+" "+(s&&i||""),type:"checkbox",name:o,disabled:n,ref:t},c)))},det=Ed.a.forwardRef((e,t)=>oet(cet,tp()({},e,{forwardedRef:t}))),uet=a("qR6r"),pet=a.n(uet),het=Ed.a.createElement,met=e=>{var{forwardedRef:t,className:a=pet.a.input,errorClassName:i=pet.a.hasError,disabledClassName:r=pet.a.isDisabled,isDisabled:n=!1,hasError:s=!1,name:o,size:l=gp.Medium,children:c}=e,d=Je()(e,["forwardedRef","className","errorClassName","disabledClassName","isDisabled","hasError","name","size","children"]);return(het("select",tp()({className:(a||"")+" "+(pet.a[l]||"")+" "+(n&&r||"")+" "+(s&&i||""),name:o,disabled:n,ref:t},d),c))},vet=Ed.a.forwardRef((e,t)=>het(met,tp()({},e,{forwardedRef:t}))),get=Object(_u.a)(Ny,e=>e.importPlaylists),yet=a("DHe7"),fet=a.n(yet),bet=Ed.a.createElement,{useEffect:Iet}=Ed.a,Met=({isOpen:e,onModalClose:t})=>{var a,[i,r]=wv(),n=Object(Fu.c)(),{isImporting:s,isImported:o,importError:l}=Object(Fu.d)(get),c=bZe(r,PGe.Content),d=(null!=(a=null==c?void 0:c.directories)?a:[]).filter(e=>e.type===Nr.Artist).map(({id:e,title:t})=>({value:e,label:t})),{register:u,handleSubmit:p}=Object($Ze.a)({defaultValues:{importAll:!1,sectionID:null==d?void 0:d[0].value}}),h=p(({importAll:e,sectionID:t})=>{if(d.length){var a=null!=t?t:d[0].value;n(Yn.actions.importRequested({server:i,importAll:e,sectionID:a}))}});return Iet(()=>{o&&t()},[n,o,t]),Iet(()=>{e||n(Yn.actions.reset())},[n,e]),Uu()(fI,{size:gp.Small,isOpen:e,onModalClose:t},void 0,Uu()(TI,{onModalClose:t},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Import from iTunes")),l?Uu()(uXe,{message:Object(Ze.default)("Something went wrong. Make sure the server is available and try again.")}):null,Uu()("form",{onSubmit:h},void 0,Uu()(MI,{},void 0,Uu()("div",{className:fet.a.description},void 0,Object(Ze.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.")),Uu()("label",{className:fet.a.row},void 0,bet(det,{name:"importAll",ref:u}),Uu()("span",{className:fet.a.overwrite},void 0,Object(Ze.default)("Overwrite existing playlists"))),d.length>1?Uu()("label",{className:fet.a.row},void 0,Uu()("span",{className:fet.a.library},void 0,Object(Ze.default)("Add to library:")),bet(vet,{name:"sectionID",ref:u},d.map(({value:e,label:t},a)=>Uu()("option",{value:e},a,t)))):null),Uu()(XC,{},void 0,Uu()(eD,{className:fet.a.buttonBar},void 0,Uu()(KC,{onPress:t},void 0,Object(Ze.default)("Cancel")),Uu()(iXe,{className:fet.a.button,isSpinning:s,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Import")))))))},Cet=Ed.a.createElement,{Fragment:Det}=Ed.a;function Pet(e){var{sourceDirectory:t,hasPlexMusicUpgrade:a,hasPlexMovieUpgrade:i,isUnavailable:r,onMenuClose:n,onCancelScanLibraryPress:s,onScanLibraryPress:o,onSharePress:l,onEditLibraryPress:c,onRefreshAllLibraryMetadataPress:d,onEmptyLibraryTrashPress:u,onAnalyzeLibraryPress:p,onDeleteLibraryPress:h,onUpgradeLibraryPress:m}=e,v=r||!t;return Uu()(Det,{},void 0,t&&t.refreshing?Uu()(Gg,{onPress:Ib(n,s)},void 0,Object(Ze.default)("Cancel Scan")):Uu()(Gg,{isDisabled:v,onPress:Ib(n,o)},void 0,Object(Ze.default)("Scan Library Files")),Uu()(Gg,{isDisabled:v,onPress:Ib(n,l)},void 0,Object(Ze.default)("Share")),Uu()(bre,{label:Object(Ze.default)("Manage Library"),isDisabled:v,onMenuClose:n},void 0,a||i?Uu()(Gg,{isDisabled:v,onPress:Ib(n,m)},void 0,Object(Ze.default)("Upgrade Matching")):null,Uu()(Gg,{onPress:Ib(n,c)},void 0,Object(Ze.default)("Edit...")),Uu()(Gg,{onPress:Ib(n,d)},void 0,Object(Ze.default)("Refresh All Metadata")),Uu()(Gg,{onPress:Ib(n,u)},void 0,Object(Ze.default)("Empty Trash")),Uu()(Gg,{onPress:Ib(n,p)},void 0,Object(Ze.default)("Analyze")),Uu()(Gg,{kind:Pp,onPress:Ib(n,h)},void 0,Object(Ze.default)("Delete"))))}function Oet(e){var{machineIdentifier:t,isGuideRefreshing:a,isUnavailable:i,onMenuClose:r,onCancelRefreshGuidePress:n,onRefreshGuidePress:s}=e,o=i;return Uu()(Det,{},void 0,Uu()(Gg,{to:si(t,"manage","dvr"),isDisabled:o,onPress:r},void 0,Object(Ze.default)("Settings")),a?Uu()(Gg,{onPress:Ib(r,n)},void 0,Object(Ze.default)("Cancel Refresh")):Uu()(Gg,{isDisabled:o,onPress:Ib(r,s)},void 0,Object(Ze.default)("Refresh Guide")))}function jet(e){var{onMenuClose:t,onImportPlaylistsPress:a}=e;return(Uu()(Gg,{onPress:Ib(t,a)},void 0,Object(Ze.default)("Import from iTunes...")))}var Tet=function(e){var{provider:t,hasProviderSettings:a,hasLibraryActions:i,hasDVRActions:r,hasPlaylistsActions:n,isPinned:s,isReorderable:o,isUnavailable:l,onMenuClose:c,onTogglePinSources:d,onReorderPinSources:u}=e;return(Uu()(Det,{},void 0,Uu()(Gg,{onPress:Ib(c,d)},void 0,s?Object(Ze.default)("Unpin"):Object(Ze.default)("Pin")),o?Uu()(Gg,{onPress:Ib(c,u)},void 0,Object(Ze.default)("Reorder")):null,a&&!l?Uu()(Gg,{to:"#!/provider/"+encodeURIComponent(t.identifier)+"/settings",onPress:c},void 0,Object(Ze.default)("Personalize")):null,i?Cet(Pet,e):null,r?Cet(Oet,e):null,n?Cet(jet,e):null))},wet=a("/Efv"),Eet=a.n(wet),Net=Ed.a.createElement,{Fragment:xet,useEffect:Aet}=Ed.a;var Let=function(e){var{machineIdentifier:t,providerIdentifier:a,serverEntityID:i,source:r,sourceDirectory:n,target:s,menuOptions:o,hasLibraryActions:l,hasPlaylistsActions:c,isDeletingLibrary:d,isOverflowMenuOpen:u,onOverflowMenuClose:p,onUpgradeLibraryPress:h,onAnalyzeLibraryPress:m,onEmptyLibraryTrashPress:v,onRefreshAllLibraryMetadataPress:g,onDeleteLibraryPress:y}=e,f=Je()(e,["machineIdentifier","providerIdentifier","serverEntityID","source","sourceDirectory","target","menuOptions","hasLibraryActions","hasPlaylistsActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuClose","onUpgradeLibraryPress","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),b=w8(),I=w8(h),S=w8(g),M=w8(v),C=w8(m),D=w8(),P=w8(),O=Gb(d);return Aet(()=>{O&&!d&&D.onClose()},[d,O,D]),Uu()(xet,{},void 0,Uu()(P7e,{target:s,options:o,isOpen:u,onMenuClose:p},void 0,Net(Tet,tp()({},f,{serverEntityID:i,machineIdentifier:t,sourceDirectory:n,hasLibraryActions:l,hasPlaylistsActions:c,onSharePress:b.onOpen,onUpgradeLibraryPress:I.onOpen,onRefreshAllLibraryMetadataPress:S.onOpen,onEmptyLibraryTrashPress:M.onOpen,onAnalyzeLibraryPress:C.onOpen,onDeleteLibraryPress:D.onOpen,onImportPlaylistsPress:P.onOpen,onMenuClose:p}))),l?Uu()(xet,{},void 0,Uu()(NZ,{metricsProperties:{context:_t.LIST},serverEntityID:i,sourceDirectory:n,isOpen:b.isOpen,onModalClose:b.onClose}),Uu()(S7e,{isOpen:I.isOpen,metricsPage:Rd.C,title:Object(Ze.default)("Upgrade Library Matching?"),message:Uu()(xet,{},void 0,Uu()("div",{},void 0,Object(Ze.default)("This library is currently using a legacy agent to match items and fetch artwork and other metadata. There is a newer, faster, and more accurate agent available for this type of media. Would you like to upgrade this library now?")),Uu()("div",{className:Eet.a.modalNote},void 0,Object(Ze.default)('Note: Existing items in this library will not be affected until they are refreshed. You can refresh them individually or upgrade all existing items with "Refresh All Metadata".'))),confirmLabel:Object(Ze.default)("Upgrade"),onConfirm:I.onConfirm,onCancel:I.onClose}),Uu()(S7e,{isOpen:S.isOpen,metricsPage:Rd.q,title:Object(Ze.default)("Refresh All Metadata"),message:Object(Ze.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Ze.default)("Refresh"),onConfirm:S.onConfirm,onCancel:S.onClose}),Uu()(S7e,{isOpen:M.isOpen,metricsPage:Rd.p,title:Object(Ze.default)("Empty Trash"),message:Object(Ze.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Ze.default)("Empty"),onConfirm:M.onConfirm,onCancel:M.onClose}),Uu()(S7e,{isOpen:C.isOpen,metricsPage:Rd.g,title:Object(Ze.default)("Analyze Library"),message:Object(Ze.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Ze.default)("Analyze"),onConfirm:C.onConfirm,onCancel:C.onClose}),Uu()(S7e,{isOpen:D.isOpen,isConfirmButtonSpinning:d,isCancelButtonDisabled:d,metricsPage:Rd.l,kind:Pp,title:Object(Ze.default)("Delete Library"),message:Object(Ze.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:r.title}),accordMessage:Object(Ze.default)('Yes, delete the library "{libraryName}"',{libraryName:r.title}),confirmLabel:Object(Ze.default)("Delete"),onConfirm:y,onCancel:D.onClose})):null,c?Uu()(Ev,{machineIdentifier:t,providerIdentifier:a},void 0,Uu()(Met,{isOpen:P.isOpen,onModalClose:P.onClose})):null)},ket=Ed.a.createElement,{Component:Ret}=Ed.a;var zet=xG((function(){return Object(_u.a)((e,{source:t})=>t,uw,GS,_S,k7,EG(),Object(_u.a)(RS(),e=>e&&e.desktop.hasiTunes),_7e(),(e,t,a,i,r,n,s,o)=>{var l=r.some(t=>!!e&&t.key===e.key);if(!a||!i||!e)return{isUnavailable:!0,isPinned:l};var c="unknown"===e.sourceType,d=jt.k(i.identifier,jt.c),{features:{content:{directories:u=[]}={}}={}}=i||{},p=u.find(t=>t.id===e.directoryID),h=a.isFullOwnedServer&&i.isLibraryProvider&&p&&/(\d+)$/.test(p.id)&&!c,m=a.isFullOwnedServer&&"playlists"===e.sourceType,v=!!u.find(({type:e})=>e===Wt.b),g=i.features.settings;return{sourceDirectory:p,machineIdentifier:a.machineIdentifier,provider:i,providerIdentifier:i.identifier,hasProviderSettings:!!g&&mw(t,g),hasLibraryActions:h,hasPlexMusicUpgrade:a.version&&Qa(a.version,Ka.plexMusicUpgrade)&&p&&p.type===Wt.b&&(p.agent===tn.g||p.agent===tn.b),hasPlexMovieUpgrade:a.ownerFeatures&&a.ownerFeatures.includes(Tt.q)&&p&&p.type===Wt.j&&(p.agent===tn.h||p.agent===tn.a),hasDVRActions:a.isFullOwnedServer&&d,hasPlaylistsActions:m&&s&&v,isConnected:a.isConnected,isUnavailable:a.isUnavailable,isPinned:l,isDeletingLibrary:!!n,isGuideRefreshing:!!o,isOwnedPlaylistSource:m}})}),{dispatchScanLibraryFiles:G7e,dispatchCancelScanLibraryFiles:$7e,dispatchUpgradeLibrary:X7e,dispatchEditLibrary:Y7e,dispatchRefreshAllLibraryMetadata:J7e,dispatchEmptyLibraryTrash:K7e,dispatchAnalyzeLibrary:q7e,dispatchDeleteLibrary:Z7e,dispatchRedirectToRoute:pu,dispatchReloadGuide:Xk,dispatchCancelReloadGuide:Jk,dispatchPopulateHasiTunes:IG,dispatchPinSources:XA,dispatchUnpinSources:JA})(class extends Ret{constructor(...e){super(...e),this.onScanLibraryPress=()=>{this.props.dispatchScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onCancelScanLibraryPress=()=>{this.props.dispatchCancelScanLibraryFiles({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEditLibraryPress=()=>{this.props.dispatchEditLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onRefreshAllLibraryMetadataPress=()=>{this.props.dispatchRefreshAllLibraryMetadata({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onEmptyLibraryTrashPress=()=>{this.props.dispatchEmptyLibraryTrash({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onAnalyzeLibraryPress=()=>{this.props.dispatchAnalyzeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage})},this.onDeleteLibraryPress=()=>{this.props.dispatchDeleteLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory,metricsPage:this.props.metricsPage}),this.props.source.isSelected&&this.props.dispatchRedirectToRoute({route:"dashboard"})},this.onRefreshGuidePress=()=>{this.props.dispatchReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onCancelRefreshGuidePress=()=>{this.props.dispatchCancelReloadGuide({serverEntityID:this.props.serverEntityID,dvrID:this.props.provider.parentID,metricsPage:this.props.metricsPage})},this.onTogglePinSources=()=>{this.props.isPinned?this.props.dispatchUnpinSources({sources:[this.props.source]}):this.props.dispatchPinSources({sources:[this.props.source]})},this.onUpgradeLibraryPress=()=>{this.props.dispatchUpgradeLibrary({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,contentDirectory:this.props.sourceDirectory})}}componentDidMount(){var{isOwnedPlaylistSource:e,isConnected:t}=this.props;e&&t&&this._populateHasiTunes(this.props)}componentDidUpdate(e){var{isOwnedPlaylistSource:t,isConnected:a}=this.props;t&&a&&!e.isConnected&&this._populateHasiTunes(this.props)}_populateHasiTunes(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})}render(){var e=this.props,t=Je()(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchUpgradeLibrary","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]);return(ket(Let,tp()({},t,{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onTogglePinSources:this.onTogglePinSources,onUpgradeLibraryPress:this.onUpgradeLibraryPress})))}});zet.propTypes=Object.assign({},zet.propTypes,{source:s9e,serverEntityID:Oc.a.string,providerEntityID:Oc.a.string});var Uet=zet;function Vet(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Vet.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Bet=Vet,Fet=a("cpX0"),Het=a.n(Fet),_et=Ed.a.createElement,{Fragment:Qet,useCallback:Wet,useEffect:Get,useState:Yet}=Ed.a,Ket={placement:"top-start",modifiers:{offset:{offset:"15px, -30%"}}};function qet(e){var{serverEntityID:t,providerEntityID:a,source:i,selectedMachineIdentifier:r,selectedProviderIdentifier:n,selectedSourceDirectoryID:s,dismissedUnclaimedServers:o,size:l,showDetail:c,showIcons:d,metricsOrigin:u,isReorderable:p,onToggleLockedPress:h,onReorderPinSources:m}=e,v=ny(),g=Yet(!1),y=g[1],f=g[0],[b,I]=WLe(),S=Wet(()=>{y(!f)},[f]),M=Wet(()=>{y(!1)},[]);Get(()=>{h&&h(f)},[f,h]);var C=Wet(()=>{Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:Rd.ob,identifier:i.providerMetricsIdentifier,action:kd.cb,origin:u}})},[i,u]),D="unknown"===i.sourceType,P=f||b,O=i.isPinned&&!P,j=!1===i.isLocal&&!1===i.isCloud&&!1===i.isUnavailable,T=i.directoryIcon?Uu()("img",{className:Het.a.iconImg,src:i.directoryIcon}):Uu()(LWe,{sourceType:i.sourceType});return Uu()(Qet,{},void 0,_et(u9e,tp()({},I,{className:Het.a.button,size:c?l:jp,isActiveClassName:Het.a.isActive,isSelectedClassName:Het.a.isSelected,isActive:f,isDim:i.isUnavailable||i.isOutOfDate||D,isSelected:H7e(i,r,n,s),to:D?null:Zt(i.isCloud,i.machineIdentifier,i.providerIdentifier,{source:i.directoryID}),icon:Uu()(h7e,{icon:T,showBadgedIcon:d,isRemote:j,isUnavailable:i.isUnavailable||D,isOutOfDate:i.isOutOfDate,isUnclaimed:i.isUnclaimedServer&&o&&!o[i.machineIdentifier]}),title:i.title,detail:c?i.titleDetail:void 0,onNavigate:C}),Uu()("span",{className:Het.a.actionContainer},void 0,O?Uu()(Bet,{className:Het.a.pinnedIcon}):null,Uu()(KG,{className:P?Het.a.overflowButton:Het.a.hiddenOverflowButton,"data-qa-id":"sidebarSourceOverflow",id:v,iconComponent:UZ,title:Object(Ze.default)("Actions"),onPress:S}))),Uu()(Uet,{serverEntityID:t,providerEntityID:a,source:i,target:v,menuOptions:Ket,isReorderable:p,isOverflowMenuOpen:f,onOverflowMenuClose:M,onReorderPinSources:m}))}qet.defaultProps={showDetail:!0,showIcons:!0};var Zet=qet,{Fragment:Xet}=Ed.a;var Jet=function(e){var{serverEntityID:t,providerEntityID:a,selectedMachineIdentifier:i,selectedProviderIdentifier:r,selectedSourceDirectoryID:n,sources:s,onToggleLockedPress:o}=e;return(Uu()(Xet,{},void 0,s.map(e=>Uu()(Zet,{serverEntityID:t,providerEntityID:a,selectedMachineIdentifier:i,selectedProviderIdentifier:r,selectedSourceDirectoryID:n,source:e,metricsOrigin:"moreSidebar",showDetail:!1,showIcons:!1,onToggleLockedPress:o},e.key))))};var $et=Object(Fu.b)((function(){return Object(_u.a)(kS(),RS(),F7e,(e,t,a)=>{var i=Kt(e);return{sources:UQe({sourceServer:t,sourceProvider:e,directories:i&&i.directories}).map(e=>Object.assign({},e,{isPinned:!!a[e.key]}))}})}),(function(e,t){return{}}))(Jet),ett=a("Qpc7"),ttt=a.n(ett),att=Ed.a.createElement,{Fragment:itt}=Ed.a;function rtt(e){var{showTitle:t,showUnclaimed:a,isAllSources:i}=e,r=Je()(e,["showTitle","showUnclaimed","isAllSources"]);return(att(Vp,tp()({className:(ttt.a.link||"")+" "+((i?ttt.a.bottomBorder:ttt.a.topBorder)||""),"data-qa-id":"sidebarMore"},r),i?Uu()(itt,{},void 0,Uu()(oO,{className:ttt.a.pinnedIcon}),t?Object(Ze.default)("Pinned"):null):Uu()(itt,{},void 0,t?Uu()(itt,{},void 0,a?Uu()("img",{className:ttt.a.unclaimedImage,src:o7e,"aria-label":Object(Ze.default)("Unclaimed")}):null,Object(Ze.default)("More")):null,Uu()(rO,{className:ttt.a.icon}))))}rtt.defaultProps={showTitle:!0};var ntt=rtt,stt=a("cbdg"),ott=a.n(stt),{Fragment:ltt}=Ed.a,ctt=Uu()(B7e,{});var dtt=function(e){var{isExpanded:t,selectedMachineIdentifier:a,selectedProviderIdentifier:i,selectedSourceDirectoryID:r,sourceDirectory:n,servers:s,cloudProviders:o,cloudServerEntityID:l,dismissedUnclaimedServers:c,showServerDownloadMessage:d,onToggleAllSourcesPress:u,onToggleLockedPress:p}=e;return(Uu()(ltt,{},void 0,Uu()(F9e,{},void 0,Uu()(ntt,{isAllSources:!0,showTitle:t,onPress:u})),Uu()(G9e,{},void 0,Uu()("div",{className:ott.a.container},void 0,s.map(e=>{var t=a===e.machineIdentifier&&i===jt.d&&!r;return(Uu()("div",{className:ott.a.serverContainer},e.machineIdentifier,Uu()(z7e,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:p3(e),detail:u3(e),iconNode:Uu()(s7e,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!c[e.machineIdentifier],to:Jt(e,{identifier:jt.d},null,{key:"/hubs",pageType:xt}),isSelected:t,hasServerActions:e.isFullOwnedServer&&e.isConnected,onToggleLockedPress:p}),e.providers.map(t=>Uu()($et,{selectedMachineIdentifier:a,selectedProviderIdentifier:i,selectedSourceDirectoryID:r,sourceDirectory:n,serverEntityID:e.entityID,providerEntityID:t,onToggleLockedPress:p},t))))}),o.providers.length?Uu()(ltt,{},void 0,Uu()(z7e,{title:Object(Ze.default)("Plex"),iconNode:Uu()("img",{className:ott.a.iconImg,src:J4}),isPending:o.isPending,isUnavailable:o.providersError}),o.providers.map(e=>Uu()($et,{selectedMachineIdentifier:a,selectedProviderIdentifier:i,selectedSourceDirectoryID:r,sourceDirectory:n,serverEntityID:l,providerEntityID:e,onToggleLockedPress:p},e))):null,d?Uu()("div",{className:ott.a.extrasContainer},void 0,ctt):null))))},utt=Object(_u.a)(qu.a,e=>({providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}));var ptt=Object(Fu.b)((function(){return Object(_u.a)(C8,utt,e=>e.cloudServer,Z8e,(e,t,a,i)=>({servers:e,cloudProviders:t,cloudServerEntityID:a,dismissedUnclaimedServers:i}))}),(function(e,t){return{}}))(dtt),htt=Object(_u.a)(C8,Z8e,(e,t)=>({showUnclaimed:e.some(e=>e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier])}));var mtt=Object(Fu.b)(htt,(function(e,t){return{}}))(ntt),vtt=Uu()(sA,{});var gtt=function(e){var{size:t}=e;return(Uu()(u9e,{size:t,to:"#!/get-plex-media-server",isSelected:U7e("#!/get-plex-media-server"),icon:vtt,title:Object(Ze.default)("Your Media")}))},ytt=Object(_u.a)(Nv.a,e=>e.savedPivotParams),ftt=Uu()(L9e,{});var btt=function(e){var{size:t,route:a,isSelected:i,isUnavailable:r}=e;return(Uu()(u9e,{size:t,to:a,isSelected:i,icon:Uu()(h7e,{icon:ftt,isUnavailable:r}),title:Object(Ze.default)("Downloads"),isDim:r}))};var Itt=Object(Fu.b)((function(){return Object(_u.a)((e,{selectedMachineIdentifier:t})=>t,ytt,_ie,(e,t,a)=>{var i="#!/downloads"===window.location.hash.split("?")[0],r=!!a&&e===a.machineIdentifier;return{route:vue(t.downloads),isSelected:i||r,isUnavailable:!a||a.isUnavailable}})}),(function(e,t){return{}}))(btt),Stt=a("Ioaq"),Mtt=a.n(Stt),Ctt=Uu()(R9e,{});var Dtt=function(e){var{size:t}=e;return(Uu()(u9e,{linkClassName:Mtt.a.sourceLink,size:t,"data-qa-id":"sidebarHome",to:"#",icon:Ctt,title:Object(Ze.default)("Home"),isSelected:""===window.location.hash}))},Ptt=a("ldju"),Ott=a.n(Ptt),{Component:jtt}=Ed.a;var Ttt=class extends jtt{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{sources:e,hasSourceDetail:t,selectedMachineIdentifier:a,selectedProviderIdentifier:i,selectedSourceDirectoryID:r,hasDownloadsSource:n,dismissedUnclaimedServers:s,isExpanded:o,hasNoProviders:l,isMoreMenuRequired:c,showServerDownloadMessage:d,onToggleAllSourcesPress:u,onToggleLockedPress:p,onReorderPinSources:h}=this.props,m=t?void 0:jp;return Uu()(G9e,{},void 0,Uu()("div",{className:o?Ott.a.expandedSidebarContent:void 0},void 0,Uu()(Dtt,{size:m}),e.length?e.map(e=>Uu()(Zet,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,selectedMachineIdentifier:a,selectedProviderIdentifier:i,selectedSourceDirectoryID:r,source:e,dismissedUnclaimedServers:s,size:m,isReorderable:!0,onToggleLockedPress:p,onReorderPinSources:h},e.key)):Uu()("div",{className:Ott.a.zeroState},void 0,Object(Ze.default)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),d?Uu()(gtt,{size:m}):null,n?Uu()(Itt,{size:m,selectedMachineIdentifier:a}):null,o&&c&&!l?Uu()(mtt,{isAllSources:!1,onPress:u}):null))}},wtt=a("LcEX"),Ett=a.n(wtt),{Component:Ntt,Fragment:xtt}=Ed.a,Att=mg(iMe.a.defaultSpeed),Ltt={opacity:{duration:Att},x:{duration:Att,ease:"easeInOut"}},ktt=ag.b.div({appear:{opacity:0,scale:1,x:({direction:e})=>"left"===e?"-100%":"100%",transition:Ltt},enter:{opacity:1,scale:1,x:"0%",transition:Ltt},exit:{opacity:0,scale:1,x:({direction:e})=>"left"===e?"100%":"-100%",transition:Ltt}});function Rtt(e,t){return t?e?Ett.a.expandedSidebar:Ett.a.collapsedSidebar:Ett.a.openSidebar}var ztt=Uu()(Xh,{});var Utt=class extends Ntt{static getDerivedStateFromProps(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null}constructor(e,t){super(e,t),this.onMouseEnter=()=>{this.props.isSidebarCollapsed&&(this.resetExpandTimeout(),this.setState({isMouseOver:!0}))},this.onMouseLeave=()=>{this.clearSetExpandedTimeout(),this.setState(e=>({isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1}))},this.onMouseMove=()=>{this.props.isSidebarCollapsed&&!this.state.isLocked&&this.resetExpandTimeout()},this.onToggleAllSourcesPress=()=>{var e=!this.props.isSidebarAllSources;this.props.onToggleAllSourcesSidebar(e)},this.onToggleLockedPress=e=>{this.setState(t=>{var a=null!=e?e:!t.isLocked;return{isLocked:a,isExpanded:!(!t.isMouseOver&&!a)&&t.isExpanded}})},this.onReorderPinSources=()=>{this.setState({isReordering:!0,isLocked:!0})},this.onCloseReorderPinSources=()=>{this.setState({isReordering:!1,isLocked:!1})},this.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:e.isSidebarCollapsed,isAllSources:!1,isReordering:!1}}componentWillUnmount(){this.clearSetExpandedTimeout()}clearSetExpandedTimeout(){this._setExpandedTimeoutID&&(window.clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)}resetExpandTimeout(){this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=window.setTimeout(()=>this.setState({isExpanded:!0}),250)}render(){var{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:a,sources:i,sourceDirectory:r,hasSourceDetail:n,hasDownloadsSource:s,hasDismissedServerDownloadMessage:o,shouldShowServerDownloadMessage:l,dismissedUnclaimedServers:c,isPending:d,hasNoProviders:u,isMoreMenuRequired:p,isSidebarCollapsed:h,isSidebarAllSources:m}=this.props,{isExpanded:v,isReordering:g}=this.state,y=!h||v||g;return d?Uu()(a9e,{isSidebarCollapsed:h},void 0,ztt):Uu()(xtt,{},void 0,h?Uu()("div",{className:Ett.a.sidebarUnderlay}):null,Uu()("div",{className:Rtt(v||g,h),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},void 0,g?Uu()("div",{className:Ett.a.pane},void 0,Uu()(i7e,{sources:i,hasDownloadsSource:s,onCloseReorderPinSources:this.onCloseReorderPinSources})):Uu()(ag.a,{animateOnMount:!1,preEnterPose:"appear",direction:m?"right":"left",flipMove:!1},void 0,Uu()(ktt,{className:Ett.a.pane},m?"right":"left",m?Uu()(ptt,{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:a,isExpanded:y,sourceDirectory:r,showServerDownloadMessage:l,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):Uu()(Ttt,{sources:i,selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:a,isExpanded:y,hasSourceDetail:n,hasDownloadsSource:s,showServerDownloadMessage:l&&!o,dismissedUnclaimedServers:c,hasNoProviders:u,isMoreMenuRequired:p,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))}},Vtt=Ed.a.createElement,{Component:Btt}=Ed.a;var Ftt={dispatchSaveExperienceSettings:Qu.f,dispatchSetupSources:$A,dispatchStartFirstRunExperience:EA};var Htt=Object(Fu.b)((function(){return Object(_u.a)((e,{selectedMachineIdentifier:t})=>t,(e,{selectedProviderIdentifier:t})=>t,(e,{selectedSourceDirectoryID:t})=>t,cw,H7,q8e,Object(_u.a)(Yu,F7,(e,t)=>t.reduce((t,a)=>{var i=Kt(a),r=UQe({sourceServer:e,sourceProvider:a,directories:i&&i.directories});return t.push(...r),t},[])),B7(),K8e(),Z8e,i3e,J8e,Nv.a,W4e,Object(_u.a)(Cne,B7(),F4e,(e,t,a)=>{if(!a)return!1;for(var i=function(a){var{server:i,provider:r}=e[a];if(!i.isCloud&&i.friendlyName&&!i.isUnauthorized&&!i.isPending)return{v:!0};if(!r)return"continue";var n=Kt(r);if(!n)return"continue";var{directories:s}=n;return t.find(e=>s.find(t=>t.id===e.directoryID)&&e.providerIdentifier===r.identifier)?void 0:{v:!0}},r=0;r<e.length;r++){var n=i(r);if("continue"!==n&&"object"==typeof n)return n.v}return!1}),(e,t,a,i,r,n,s,o,l,c,d,u,p,h,m)=>{var{isSidebarCollapsed:v,isSidebarAllSources:g,sidebarSettings:{hasCompletedSetup:y}}=p;return{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:a,isAnonymousUser:i,hasInitialSources:r,hasPreferredEligibleServers:n,dismissedUnclaimedServers:c,sourceDirectory:l,defaultSources:s,sources:o,hasSourceDetail:o.some(e=>!!e.titleDetail),hasDownloadsSource:be.a.allowSyncDownload,hasDismissedServerDownloadMessage:d,shouldShowServerDownloadMessage:u,hasCompletedSetup:y,isSidebarCollapsed:v,isSidebarAllSources:g,hasNoProviders:h,isMoreMenuRequired:m}})}),Ftt)(class extends Btt{constructor(...e){super(...e),this.onToggleAllSourcesSidebar=e=>{this.props.dispatchSaveExperienceSettings({isSidebarAllSources:e})}}componentDidMount(){this.maybeStartFirstRunExperience()}componentDidUpdate(e){this.maybeStartFirstRunExperience()}maybeStartFirstRunExperience(){var{isAnonymousUser:e,hasInitialSources:t,hasPreferredEligibleServers:a,hasCompletedSetup:i,defaultSources:r,dispatchStartFirstRunExperience:n,dispatchSetupSources:s}=this.props;e||!a||i||this.isRedirecting?t&&!i&&s({sources:r}):(this.isRedirecting=!0,n())}render(){var e=this.props,{hasCompletedSetup:t}=e,a=Je()(e,["hasInitialSources","hasCompletedSetup","dispatchSaveExperienceSettings","dispatchSetupSources","dispatchStartFirstRunExperience"]);return(Uu()(ET,{page:Rd.ob,isDelegated:!0},void 0,Vtt(Utt,tp()({},a,{isPending:!t,onToggleCollapsedSidebar:this.onToggleCollapsedSidebar,onToggleAllSourcesSidebar:this.onToggleAllSourcesSidebar}))))}}),_tt=Uu()(n9e,{});var Qtt=class extends Btt{static getDerivedStateFromError(){return{hasError:!0}}constructor(e){super(e),this.state={hasError:!1}}componentDidCatch(e){O.a.error(e)}render(){return this.state.hasError?_tt:Vtt(Htt,this.props)}},Wtt=Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{}),Uu()(Y8e,{}))),Gtt=Hu.extend({component(e){var t=e.params||{};return(Uu()(vGe,{metricsContext:t.context},void 0,Uu()(_b.a,{metricsPage:Rd.O,metricsContextParam:t.context},void 0,Wtt)))}}),Ytt=a("7MiL"),Ktt=a.n(Ytt),qtt=B.ItemView.extend({template:Ktt.a,initialize:function(){var e=ie.c("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=ie.c("appModel"),t=e.get("user"),a=e.get("primaryServer"),i={host:window.location.host,userAgent:window.navigator.userAgent,browser:Td.a,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return a&&(i.primaryServer=a.toJSON(),i.primaryServerUrl=a.url()),i}}),Ztt=a("8lLI"),Xtt=a.n(Ztt),Jtt=B.ItemView.extend({className:"logs-container",template:Xtt.a,ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}}),$tt=Object(Pa.a)("search/fetchSearchPage"),eat=Object(Pa.a)("search/clearSearchPage");function tat(e){return e.get("ui").get("searchPage")}var aat={"search/fetchSearchPage"(e,t,a){var i=tat(e).get("searches"),{availableProviders:r,query:n,limit:s}=t,o=Object(sw.a)(e,Tt.a);Object.keys(r).forEach(t=>{var a=r[t],n=Object(Ta.m)(e,{serverEntityID:a.serverEntityID}),s=Object(Ta.j)(e,{providerEntityID:t}),l=s.get("features").get(Ot.o);l&&!i.get(t)&&i.add(new q7({providerEntityID:t,key:l.get("key")},{server:n,provider:s,includeCollections:!0,includeExternalMedia:o}))}),i.each(e=>{e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:n,limit:s}}).done(()=>{e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(t=>{e.set({isSearchPending:!1,searchError:Object(vw.a)(t)})}))})},"search/clearSearchPage"(e,t,a){var i=tat(e);i.get("searches").each(e=>{e.abortPendingPopulate()}),i.restoreDefaults()}};var iat=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({containerKey:e.skipParent?e.grandparentKey:e.parentKey}))}))(fke),rat=a("+b+4"),nat=a.n(rat);var sat=function(e){var{className:t,serverEntityID:a,providerEntityID:i,searchResultEntityID:r,imageWidth:n,imageHeight:s,imageUrl:o,tag:l,tagType:c,librarySectionType:d,titleComponents:u}=e,p=N$(e),h=Z7.get(c),m=!!h&&h.isPerson;return Uu()("div",{className:t,style:p.style},void 0,Uu()("div",{className:nat.a.imageContainer},void 0,Uu()(dce,{serverEntityID:a,providerEntityID:i,imageWidth:n,imageHeight:s,imageUrl:o,title:l,tag:l,tagType:c,librarySectionType:d}),Uu()(DSe,{className:(nat.a.imageLink||"")+" "+(m&&nat.a.isPerson||""),serverEntityID:a,providerEntityID:i,searchResultEntityID:r})),Uu()("div",{className:nat.a.titleContainer},void 0,u.map((e,t)=>Uu()(qbe,{serverEntityID:a,providerEntityID:i,searchResultEntityID:r,component:e,isSecondary:t>0},t))))},oat=Ed.a.createElement;var lat=Object(Fu.b)((function(){return Object(_u.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{cellWidth:t})=>t,Gee(),(e,t,a,i,r={})=>{var n=r.tagItem,{tag:s,tagType:o,librarySectionType:l}=n,c=oie(i,null,e,t,n,a);return{tag:s,tagType:o,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}})}))((function(e){return oat(sat,e)})),cat=Ed.a.createElement;var dat=function(e){var{isMetadataItem:t}=e,a=Je()(e,["isMetadataItem"]);return t?cat(iat,tp()({},a,{showSelect:!1})):cat(lat,a)},uat=a("fTYo"),pat=a.n(uat),hat=Ed.a.createElement;var mat=function(e){var{title:t,sourceTitle:a,hubs:i,columnAdjustment:r,isSearchPending:n,isSearchPopulated:s}=e,o=a?t+" - "+a:t;return Uu()("div",{},void 0,Uu()("div",{role:"heading","aria-level":"2",className:pat.a.providerTitle},void 0,o,n?Uu()(Xh,{className:pat.a.spinner,size:jp}):null),!i.length&&s?Uu()(ph,{title:Object(Ze.default)("No Results"),description:Object(Ze.default)("Try a different query")}):i.map(e=>{var t,a=e.type,i=e.subtype,n=MMe(a,"search",{subtype:e.subtype,isSearch:!0,isSearchAll:!0});return hat(jfe,tp()({},e,{key:e.hubIdentifier,listType:a,listContext:"search",keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:nLe(a,i,"search",r,n.length),cellRenderer:(t={listType:a,listContext:"search",titleComponents:n},e=>hat(Rce,tp()({component:dat},t,e)))}))}))},vat=a("IsoN"),gat=a.n(vat),yat=Ed.a.createElement;var fat=function(e){var{isSearchCapable:t,providers:a,columnAdjustment:i}=e;return t?Uu()(a3e,{innerClassName:gat.a.content},void 0,a.map(e=>yat(mat,tp()({key:e.providerEntityID,columnAdjustment:i},e)))):Uu()(fh,{title:Object(Ze.default)("This server does not support search"),description:Object(Ze.default)("Browse libraries using the sidebar")})},bat=Ed.a.createElement,{Component:Iat}=Ed.a;function Sat(){return Sv(Object(_u.a)(Cne,e=>e.reduce((e,{server:t,provider:a})=>t&&a&&t.isConnected?(e[a.entityID]={serverEntityID:t.entityID,identifier:a.identifier,title:a.title,sourceTitle:a.sourceTitle},e):e,{})),e=>e)}var Mat={fetchSearchPage:$tt,clearSearchPage:eat};var Cat=Object(Fu.b)((function(){return Object(_u.a)(Sat(),Object(_u.a)(e=>e.ui.searchPage.searches,Sat(),(e,t)=>{var a=e.reduce((e,a)=>{var i=a.providerEntityID,r=t[i];if(!r)return e;var n=e[r.identifier];return n||(n=e[r.identifier]={providerEntityID:i,title:r.title,sourceTitle:r.sourceTitle,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),a.isSearchPending&&(n.isSearchPending=!0),a.isSearchPopulated&&(n.isSearchPopulated=!0),a.hubs.forEach(e=>{var t=e=>({serverEntityID:r.serverEntityID,providerEntityID:i,searchResultEntityID:e}),a=e.metadataResults.map(t),s=e.tagResults.map(t),o=n.hubs[e.hubIdentifier];o?(o.size+=e.size,o.results=o.results.concat(a,s)):n.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(a,s)}}),e},{});return D.a.map(a,e=>({providerEntityID:e.providerEntityID,title:e.title,sourceTitle:e.sourceTitle,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:D.a.values(e.hubs)}))}),Nv.a,(e,t,a)=>({availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:a.columnAdjustment,providers:t}))}),Mat)(class extends Iat{componentWillMount(){Object(wa.a)(()=>{this._clear(),this._populate()})}componentWillReceiveProps(e){var t=e.query!==this.props.query,a=e.availableProviders!==this.props.availableProviders;(t||a)&&Object(wa.a)(()=>{t&&this._clear(e),this._populate(e)})}_clear(e=this.props){e.clearSearchPage()}_populate(e=this.props){e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})}render(){return bat(fat,this.props)}}),Dat=a("mzMB"),Pat=a.n(Dat);function Oat({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}Oat.defaultProps={className:Pat.a.pageHeaderCenter};var jat=Oat,Tat=a("R4w1"),wat=a.n(Tat),Eat=Uu()(bJ,{},void 0,Uu()(U5e,{}));var Nat=function(e){var{isSearchPending:t,query:a}=e;return(Uu()(P1e,{},void 0,Uu()(vJ,{},void 0,Object(Ze.default)("Search All Sources")),Uu()(jat,{},void 0,Uu()("span",{},void 0,t?Object(Ze.default)('Searching for "{query}"',{query:a}):Object(Ze.default)('Results for "{query}"',{query:a})),t?Uu()(Xh,{className:wat.a.spinner,size:jp}):null),Eat))};var xat=function(e){var{query:t,isSearchPending:a}=e;return(Uu()(tJ,{metricsPage:Rd.jb,allowBackgroundLightPreset:!0,scrollDirection:Jp},void 0,Uu()(Nat,{isSearchPending:a,query:t}),Uu()(Cat,{query:t})))},Aat=Ed.a.createElement,{Component:Lat}=Ed.a;var kat={clearSearchPage:eat};var Rat=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.searchPage,e=>({isSearchPending:!!D.a.findWhere(e.searches,{isSearchPending:!0})}))}),kat)(class extends Lat{componentWillUnmount(){this.props.clearSearchPage()}render(){return Aat(xat,this.props)}}),zat=Uu()(Qtt,{}),Uat=Hu.extend({component(e){var{params:t={}}=e;return(Uu()(vGe,{metricsContext:t.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,zat,Uu()(B8e,{},void 0,Uu()(Rat,{query:t.query}))))))}}),Vat=Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{}),Uu()(l3e,{}))),Bat=Hu.extend({component:()=>Vat});function Fat(){return Object(_u.a)((e,{serverEntityID:t})=>t,Fie,(e,t)=>!(!e||e!==t))}var Hat=function(){return Uu()(fh,{title:Object(Ze.default)("No soup for you!"),description:Object(Ze.default)("You do not have access to this server")})},{useCallback:_at}=Ed.a;var Qat=function(e){var{machineIdentifier:t,friendlyName:a,isPlexAccountRequired:i,dispatchDismissUnclaimedServer:r}=e,n=_at(()=>{H.a.trigger("navigate","login")},[]),s=_at(()=>{Object(ie.c)("metrics").trackClick({page:Rd.xb,action:kd.l})},[]),o=_at(()=>{Object(ie.c)("metrics").trackClick({page:Rd.xb,action:kd.t}),r({machineIdentifier:t})},[t,r]);return Uu()(fh,{title:Object(Ze.default)("{friendlyName} server is unclaimed and not secure",{friendlyName:a}),description:Object(Ze.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},void 0,i?Uu()(rT,{kind:Dp,size:wp,onPress:n},void 0,Object(Ze.default)("Sign in to claim this server")):Uu()(rT,{kind:Dp,size:wp,to:si(t,"settings","general"),onPress:s},void 0,Object(Ze.default)("Claim it now")),Uu()(oh,{},void 0,Uu()(Vp,{kind:Dp,size:jp,onPress:o},void 0,Object(Ze.default)("Don't show this again"))))};var Wat={dispatchDismissUnclaimedServer:uu},Gat=Object(Fu.b)((function(){return Object(_u.a)(RS(),cw,(e,t)=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isPlexAccountRequired:t}))}),Wat)(Qat);var Yat=function(e){var t,{machineIdentifier:a,friendlyName:i,activeConnectionUri:r,shouldUseNewSettingsRoutes:n,isShared:s}=e;i&&(t=Object(Ze.default)("The server {1} is out of date and cannot be used.",i)),t=t+" "+Object(Ze.default)("This version of {productName} requires Plex Media Server {minServerVersion} or higher.",{productName:$.prop("X-Plex-Product"),minServerVersion:"1.15.2"});var o="/web/index.html";return s||(o+=n?si(a,"settings","general"):"#!/settings/server"),Uu()(fh,{title:"Update your Plex Media Server",description:t},void 0,Uu()(rT,{to:_.join([r,o]),target:"_self",kind:Dp,size:wp},void 0,Object(Ze.default)("Open server directly")))};var Kat=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:Qa(e.version,Ka.bundledWebAppNewSettingsRoutes),isShared:e.isShared}))}))(Yat);var qat=function(){return Uu()(fh,{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("We can't find the page you're looking for")},void 0,Uu()(Vp,{to:"#",kind:Dp},void 0,Object(Ze.default)("Go Home")))},Zat=Uu()(ph,{},void 0,Uu()(Xh,{})),Xat=Uu()(qat,{}),Jat=Uu()(Hat,{});var $at=function(e){var{serverEntityID:t,children:a,hasServer:i,showSpinner:r,machineIdentifier:n,isUnauthorized:s,isUnavailable:o,isOutOfDate:l,isUnclaimed:c,isInstallingServerUpdate:d}=e;return r?Zat:i?d?Uu()(d3,{serverEntityID:t}):o?Uu()(l3,{serverEntityID:t}):l?Uu()(Kat,{serverEntityID:t}):s?Jat:c?Uu()(Gat,{serverEntityID:t}):Uu()(O6e,{machineIdentifier:n},void 0,a):Xat};var eit=Object(Fu.b)((function(){return Object(_u.a)(e=>e.isWaitingForServers,(e,{hideUnclaimedPage:t})=>t,RS(),Fat(),Z8e,(e,t,a,i,r)=>a?{hasServer:!0,showSpinner:!a.isConnected&&!a.isUnauthorized&&!a.isUnavailable,machineIdentifier:a.machineIdentifier,isUnauthorized:a.isUnauthorized,isUnavailable:a.isUnavailable,isOutOfDate:a.isOutOfDate,isInstallingServerUpdate:a.isInstallingServerUpdate,isUnclaimed:a.isConnected&&!a.isClaimed&&!r[a.machineIdentifier]&&!i&&!t,hasHttpsConnections:a.hasHttpsConnections,isHostedHttps:F.a.isHostedHttps}:{hasServer:!1,showSpinner:e})}))($at);eit.propTypes=Object.assign({},eit.propTypes,{serverEntityID:Oc.a.string.isRequired});var tit=eit,ait=a("05C2"),iit=a.n(ait),{Fragment:rit}=Ed.a;function nit(e,t){var a=t?t.split("\n"):[];return a.length>0?Uu()(rit,{},void 0,Uu()("div",{className:iit.a.listTitle},void 0,e),Uu()("ul",{},void 0,a.map((e,t)=>Uu()("li",{},t,e)))):null}var sit=function(e){var{version:t,added:a,fixed:i,isOpen:r,onClose:n}=e;return(Uu()(xT,{metricsPage:Rd.hb,isOpen:r,onModalClose:n},void 0,Uu()(UL,{onModalClose:n},void 0,Uu()(jL,{},void 0,Object(Ze.default)("{product} Release Notes",{product:"Plex Media Server"})),Uu()(fL,{},void 0,Uu()("div",{className:iit.a.version},void 0,Object(Ze.default)("Version {version}",{version:t})),nit(Object(Ze.default)("New"),a),nit(Object(Ze.default)("Fixes"),i)))))},oit=a("8UJ8"),lit=a.n(oit);var cit=function({progress:e}){return Uu()("div",{className:lit.a.progress},void 0,Uu()("div",{className:lit.a.emptyBar}),Uu()("div",{className:lit.a.bar,style:{transform:"translate3d(-"+(100-e)+"%, 0, 0)"}}))},dit=a("004c"),uit=a.n(dit),{useCallback:pit}=Ed.a;var hit=function(e){var{serverEntityID:t,friendlyName:a,state:i,error:r,progress:n,availableVersion:s,currentVersion:o,downloadURL:l,added:c,fixed:d,onDismissServerUpdate:u,onInstallServerUpdate:p,onDownloadServerUpdate:h,onRedirectToHome:m}=e,v=i===LX||i===wX,g=w8(),y=pit(()=>{u(s)},[s,u]);if(Ju(()=>{m()},v),v)return null;if(i===AX)return Uu()(d3,{serverEntityID:t});var f=Object(Ze.default)("Update available for {product}",{product:"Plex Media Server"}),b=Object(Ze.default)('You are currently running version {currentVersion} on the server "{friendlyName}". Version {availableVersion} is now available.',{availableVersion:s,currentVersion:o,friendlyName:a});return i===kX&&(b=b+" "+Object(Ze.default)("This update will need to be installed manually after download.")),i===xX?Uu()(ph,{iconSrc:J4,title:f,description:r||Object(Ze.default)("Something went wrong, please try again later.")}):Uu()(ph,{iconSrc:J4,title:Object(Ze.default)("Update available for {product}",{product:"Plex Media Server"}),description:c||d?Uu()(oT,{message:b+" "+Object(Ze.default)("{openLink}Show release notes{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:Vp,onPress:g.onOpen,kind:Dp}]}):b},void 0,i===TX?Uu()("div",{className:uit.a.actionContainer},void 0,Uu()(rT,{kind:Dp,size:wp,onPress:h},void 0,Object(Ze.default)("Download now"))):null,i===NX?Uu()("div",{className:uit.a.actionContainer},void 0,Uu()("div",{},void 0,Object(Ze.default)("Downloading Update ({progress}%)",{progress:n})),isNaN(n)?null:Uu()("div",{className:uit.a.progressContainer},void 0,Uu()(cit,{progress:n}))):null,i===EX?Uu()("div",{className:uit.a.actionContainer},void 0,Uu()(rT,{kind:Dp,size:wp,onPress:p},void 0,Object(Ze.default)("Install now"))):null,i===kX?Uu()("div",{className:uit.a.actionContainer},void 0,Uu()(rT,{kind:Dp,size:wp,target:"_blank",to:l,onPress:y},void 0,Object(Ze.default)("Download now"))):null,i!==NX&&i!==EX?Uu()(oh,{},void 0,Uu()(Vp,{className:uit.a.link,kind:Dp,size:jp,to:"#",onPress:y},void 0,Object(Ze.default)("Skip this version"))):null,Uu()(sit,{isOpen:g.isOpen,version:s,added:c,fixed:d,onClose:g.onClose}))};var mit=Object(Fu.b)((function(){return Object(_u.a)(GS,Yu,zQ(),(e,t,a)=>{var i=a.update;return{serverEntityID:e.entityID,friendlyName:e.friendlyName,state:i.state,error:i.error,progress:i.progress,availableVersion:Wa(i.version),currentVersion:Wa(e.version),downloadURL:i.downloadURL||t.appsUrl,added:i.added,fixed:i.fixed}})}),(function(e,t){var{serverEntityID:a}=t;return{onDismissServerUpdate(t){e(i1({serverEntityID:a,version:t}))},onInstallServerUpdate(){e(n1({serverEntityID:a}))},onDownloadServerUpdate(){e(r1({serverEntityID:a}))},onRedirectToHome(){e(pu({route:"dashboard"}))}}}))(hit),vit=Hu.extend({component(e){var{serverID:t}=e,a=Object(pt.a)(ht.n,t);return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:a}),Uu()(tit,{serverEntityID:a},void 0,Uu()(mit,{serverEntityID:a}))))}}),git=Object(Pa.a)("user/signIn/signInWithAuthToken");var yit={"user/signIn/signInWithAuthToken"(e,t,a){var{authToken:i,onSignInSuccess:r}=t,n=e.get("user");n.get("isSignedIn")&&n.get("authToken")!==i?Ge.execute("resetUser").then(()=>De.set("myPlexAccessToken",i)).then(()=>window.location.reload()):function(e,{authToken:t,onSignInSuccess:a}){var i=e.get("cloudServer"),r=e.get("user");T.a.ajax(i.getXHROptions(D.a.result(r,"url"),{headers:{"X-Plex-Token":t}})).then(e=>r.signIn(e)).then(()=>{a?a():H.a.trigger("navigate:refresh")}).fail(e=>{var t=T1(e);H.a.trigger("show:alert",{message:x1(t)})})}(e,{authToken:i,onSignInSuccess:r})}},fit=a("ivj2"),bit=a.n(fit);var Iit=function(){return Uu()("div",{className:bit.a.plexImageContainer},void 0,Uu()("div",{className:bit.a.plexImage}))},Sit=a("t3yN"),Mit=a.n(Sit),Cit=Ed.a.createElement;function Dit(e){var{component:t}=e,a=Je()(e,["component"]);return(Cit(t,tp()({className:Mit.a.section},a)))}Dit.defaultProps={component:"div"};var Pit=Dit,Oit=a("xHnD"),jit=a.n(Oit);var Tit=function(e){return Uu()(Pit,{},void 0,Uu()("div",{className:jit.a.header},void 0,Object(Ze.default)("You must be signed in for Plex to work properly. If you are not signed in")),Uu()("ul",{className:jit.a.list},void 0,Uu()("li",{className:jit.a.item},void 0,Object(Ze.default)("Any connections between your media server and players WILL NOT BE SECURE")),Uu()("li",{className:jit.a.item},void 0,Object(Ze.default)("You may experience degraded streaming performance")),Uu()("li",{className:jit.a.item},void 0,Object(Ze.default)("It will be more difficult, and sometimes impossible, to find your server and discover players")),Uu()("li",{className:jit.a.item},void 0,Object(Ze.default)("You will not be able to access your media server from outside your home")),Uu()("li",{className:jit.a.item},void 0,Object(Ze.default)("You will not be able to access content and many features provided by Plex"))))},wit=a("66mf"),Eit=a.n(wit),{Component:Nit}=Ed.a,xit=Uu()(Iit,{}),Ait=Uu()(Tit,{});var Lit=class extends Nit{constructor(e,t){super(e,t),this.onSwitchToSkipSignInPress=()=>{this.setState({isSkipSignInVisible:!0})},this.onStillTherePress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onStillTherePress()},this.onSignInPress=()=>{this.setState({isSkipSignInVisible:!1}),this.props.onSignInPress()},this.state={isSkipSignInVisible:!1}}render(){var{to:e,code:t,signUp:a,isBusy:i,isFirstRun:r,onSkipSignInPress:n}=this.props,s=!(i||t),o=!s,l=this.state.isSkipSignInVisible;return Uu()(rh,{className:Eit.a.page,autoScroll:!0},void 0,r&&!l?Uu()(Vp,{className:Eit.a.switchToSkipSignInLink,kind:Dp,onPress:this.onSwitchToSkipSignInPress},void 0,Object(Ze.default)("What's this?")):null,xit,Uu()("div",{className:Eit.a.container},void 0,l?Ait:null,Uu()("div",{className:Eit.a.section},void 0,o?Uu()(gU,{className:Eit.a.button,kind:Dp,size:wp,to:e,target:"_blank",type:"submit",isSpinning:!t,onPress:this.onSignInPress},void 0,a?Object(Ze.default)("Sign up"):Object(Ze.default)("Sign in")):null,s?Uu()(Vp,{kind:Dp,onPress:this.onStillTherePress},void 0,Object(Ze.default)("Are you still there?")):null)),l?Uu()(Vp,{className:Eit.a.addendumLink,kind:Dp,onPress:n},void 0,Object(Ze.default)("Skip and accept limited functionality")):null)}},kit=Ed.a.createElement,{Component:Rit}=Ed.a,zit={dispatchPreloadPIN:y2,dispatchBeginPolling:b2,dispatchStopPolling:I2,dispatchSkipSignIn:S2};var Uit=Object(Fu.b)(j1,zit)(class extends Rit{constructor(...e){super(...e),this.onSignInPress=()=>{this.props.dispatchBeginPolling({pinID:this.props.pinID})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()},this.onSkipSignInPress=()=>{this.props.dispatchSkipSignIn()}}componentDidMount(){this.props.dispatchPreloadPIN()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){var e=this.props,t=Je()(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]);return(kit(L2,tp()({component:Lit,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},t)))}}),Vit=Ed.a.createElement,{Component:Bit}=Ed.a,Fit={dispatchReadStoredPIN:g2},Hit=Uu()(ph,{},void 0,Uu()(Xh,{}));var _it=Object(Fu.b)(j1,Fit)(class extends Bit{componentDidMount(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})}render(){var e=this.props,{pinID:t}=e,a=Je()(e,["pinID","dispatchReadStoredPIN"]);return t?Vit(L2,tp()({component:O2,replace:!0,pinID:t},a)):Hit}}),Qit=Ed.a.createElement,{Component:Wit}=Ed.a;var Git={dispatchResetAuthCodeExchange:f2,dispatchSignInWithAuthToken:git},Yit=Uu()(bh,{});var Kit=Object(Fu.b)((function(){return Object(_u.a)(j1,e=>e.isFirstRun,(e,t)=>Object.assign({isFirstRun:t,isPollClient:n2()},e))}),Git)(class extends Wit{componentDidMount(){this.props.dispatchResetAuthCodeExchange()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken,onSignInSuccess:this.props.signUp?()=>H.a.trigger("navigate","dashboard"):null})}render(){var e=this.props,{providerID:t,fatalErrorMessage:a,signUp:i,isFirstRun:r,isPollClient:n}=e,s=Je()(e,["providerID","errorMessage","fatalErrorMessage","signUp","isFirstRun","isPollClient","dispatchResetAuthCodeExchange","dispatchSignInWithAuthToken"]);return a?Yit:t?Qit(L2,tp()({component:O2,providerID:t,signUp:i,replace:!0},s)):n?Qit(Uit,tp()({isFirstRun:r,signUp:i},s)):Uu()(_it,{signUp:i})}}),qit=Hu.extend({component:e=>Uu()(zh,{},void 0,Uu()(Kit,{signUp:e.signUp}))}),{Component:Zit}=Ed.a,Xit=Uu()(tJ,{metricsPage:Rd.qb},void 0,Uu()(a3e,{},void 0,Uu()(xH,{},void 0,Uu()(Xh,{}))));var Jit=class extends Zit{static getDerivedStateFromProps(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null}constructor(e,t){super(e,t),this.state={isSigningOut:!1}}componentDidMount(){this.state.isSigningOut&&this.props.onSignOut()}componentDidUpdate(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()}render(){return Xit}},$it=Object(_u.a)(qu.a,({isSignedIn:e})=>({isSignedIn:e}));var ert=Object(Fu.b)($it,(function(e){return{onSignOut(){Ge.execute("signOut").then(()=>{e(pu({route:"login",options:{replace:!0}}))})}}}))(Jit),trt=Uu()(zh,{},void 0,Uu()(ert,{})),art=Hu.extend({component:e=>trt}),irt=B.Layout.extend({regions:{content:".content"}}),rrt=irt.extend({initialize:function(e){this.title=e.title,this.subtitle=e.subtitle,this.message=e.message},serializeData:function(){return{title:this.title,subtitle:this.subtitle,message:this.message}}}),nrt=a("7Uac"),srt=a.n(nrt),ort=rrt.extend({className:"container",template:srt.a}),lrt=irt.extend({initialize:function(e){this.type=e.type||"404"},serializeData:function(){var e,t;return"404"===this.type?(e=Object(Ze.default)("You must be lost."),t=Object(Ze.default)("This page doesn't exist.")):"server"===this.type?(e=Object(Ze.default)("Media server not found."),t=Object(Ze.default)("The server you're trying to access doesn't seem to exist.")):(e=Object(Ze.default)("Media not found."),t=Object(Ze.default)("The media you're trying to access doesn't seem to exist.")),{title:e,subtitle:t}}}).extend({className:"container",template:srt.a}),crt=irt.extend({}).extend({className:"container",template:srt.a,serializeData:function(){return{title:Object(Ze.default)("You don't have any media servers yet."),subtitle:Object(Ze.default)("{1}Download and install{2} one and try again.",'<a href="https://plex.tv/downloads" target="_blank">',"</a>")}}}),drt=irt.extend({serializeData:function(){return{title:Object(Ze.default)("No soup for you!"),subtitle:Object(Ze.default)("The server you're trying to access doesn't want to let you in. Make sure you're signed in as a user with access to this server.")}}}).extend({className:"container",template:srt.a}),urt=irt.extend({modelEvents:{"change:isResolved":"onResolvedChange"},serializeData:function(){var e,t,a=this.model,i=a.get("friendlyName");return a.get("cloud")?a.get("isDownForMaintenance")?(e=Object(Ze.default)("Plex is down for maintenance."),t=Object(Ze.default)("Don't worry, it'll be back soon.")):(e=Object(Ze.default)("Plex is not reachable."),t=Object(Ze.default)("Make sure your server has an internet connection and any firewalls or other programs are set to allow access.")):(e=Object(Ze.default)("Server unavailable."),t=i?Object(Ze.default)("We couldn't reach \"{1}\". Make sure it's online and try again.",D.a.escape(i)):Object(Ze.default)("We couldn't reach this server. Make sure it's online and try again.")),{title:e,subtitle:t}},onResolvedChange:function(e,t){t&&H.a.trigger("navigate:refresh")}}).extend({className:"container",template:srt.a}),{Fragment:prt}=Ed.a,hrt=Uu()(bh,{}),mrt=Uu()(Ih,{}),vrt=Uu()(FX,{}),grt=Uu()(ph,{},void 0,Uu()(Xh,{})),yrt=Uu()(qat,{});var frt=function(e){var{children:t,hasProvider:a,isDownForMaintenance:i,isUnreachable:r,hasError:n,isPending:s}=e;return i?hrt:r?mrt:n?vrt:s?grt:a?Uu()(prt,{},void 0,t):yrt};var brt=Object(Fu.b)((function(){return Object(_u.a)(mv("isProvidersPopulated"),mv("providersError"),kS(),Yu,(e,t,a,i)=>a?{hasProvider:!0,hasError:!!a.error,isPending:!a.isPopulated}:{hasProvider:!1,isDownForMaintenance:i.isDownForMaintenance,isUnreachable:i.isUnavailable,hasError:!!t,isPending:!e})}))(frt);brt.propTypes=Object.assign({},brt.propTypes,{providerEntityID:Oc.a.string.isRequired});var Irt=brt;function Srt(e,t){if(e&&e.pivots)return e.pivots.find(e=>e.key===t)}function Mrt(){return Object(_u.a)((e,{directoryKey:t})=>t,K8e(),(e,t)=>Srt(t,e))}function Crt(e,t,a,i){return Object(Kc.a)(e.machineIdentifier,t.identifier,a.id,i.key)}function Drt(e,t){return e===Tt.o&&t}var Prt=a("67KC"),Ort=a.n(Prt),jrt=Ed.a.createElement;function Trt(e){var{children:t}=e,a=Je()(e,["children"]);return(jrt("div",a,t))}Trt.defaultProps={className:Ort.a.pageHeader};var wrt=Trt,Ert=a("pIhj"),Nrt=a.n(Ert);function xrt({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}xrt.defaultProps={className:Nrt.a.pageHeaderRight};var Art=xrt,Lrt=a("61K8"),krt=a.n(Lrt);var Rrt=function({children:e}){return Uu()(Art,{className:krt.a.pageHeaderRight},void 0,e)},zrt=Object(_u.a)(zT(Tt.A),lk,gGe,(e,t,a)=>e&&t.v4DirectoryEnabled&&a),Urt=Object(_u.a)(mv("features"),e=>Object(AT.a)(e,e=>e.id,()=>!0));var Vrt=function(e){return e.type===TGe.View&&!Object.values(wGe).includes(e.key)};var Brt=function(e,t,a,i){var r;if(a&&!Vrt(i))return Jt(e,t,a,!(null==(r=a.pivots)?void 0:r.includes(i))?{pageType:i.type,key:i.key}:{pivot:i.id||i.key})};function Frt(e,t,a,i,r){return"view"===i.type?na(i.key,e,t,a,r):Jt(e,t,a,Object.assign({},r,{key:i.key,pageType:i.type,context:i.context}))}var{useCallback:Hrt}=Ed.a;var _rt=function(e){var{tab:t,component:a,onPress:i}=e,r=Object(Fu.c)(),n=Object(Fu.d)(zrt),s=Hrt(e=>{if(n){var a=e.currentTarget.getAttribute("href");a&&(0===e.button||e.touches)&&(e.stopPropagation(),r(Object(Wi.l)({pathname:a,replace:!0})))}i(t.id,n)},[n,t,i,r]);return Uu()(a,{isDisabled:t.isDisabled,isSelected:t.isSelected,to:t.route,onPress:s},void 0,t.title)};var Qrt=Object(Fu.b)(null,(function(e,t){var{serverEntityID:a,providerEntityID:i,providerMetricsIdentifier:r,sourceDirectory:n,tab:s,metricsPage:o}=t;return{onPress(t,l){l||e(Object(Wi.r)({serverEntityID:a,providerEntityID:i,directoryID:n.id,pivotKey:s.pivotKey})),Object(ie.c)("metrics").trackEvent({event:"client:click",interaction:!0,properties:{page:o,identifier:r,action:kd.eb,context:s.context,origin:"tabChange"}})}}}))(_rt),Wrt=a("lnp7"),Grt=a.n(Wrt),Yrt=Ed.a.createElement;function Krt(e){var{className:t,children:a,isSelected:i}=e,r=Je()(e,["className","children","isSelected"]);return(Yrt(rT,tp()({className:(t||"")+" "+(i&&Grt.a.isSelected||""),"data-qa-id":"tabButton",size:wp},r),a))}Krt.defaultProps={className:Grt.a.button};var qrt=Krt,Zrt=a("aAt6"),Xrt=a.n(Zrt),Jrt=Ed.a.createElement,{useCallback:$rt}=Ed.a,ent={placement:"bottom-start",modifiers:{offset:{offset:YU.a.pageHeaderTabButtonLeftRightMargin}}};var tnt=function(e){var{tabs:t,component:a,onPress:i}=e,r=Je()(e,["tabs","component","onPress"]),{menuButtonID:n,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=ly(),c=$rt(e=>{l(),i&&i(e)},[i,l]),d=t.find(e=>e.isSelected)||t[0];return Uu()("div",{id:n,className:Xrt.a.container,"data-qa-id":"tabDropDown"},void 0,Uu()(qrt,{className:Xrt.a.button,isSelected:d.isSelected,onPress:o},void 0,Uu()("div",{className:Xrt.a.buttonContents},void 0,Uu()("div",{className:Xrt.a.title},void 0,d.title),Uu()(my,{className:(Xrt.a.disclosureArrow||"")+" "+(d.isSelected&&Xrt.a.isSelected||""),direction:s?cy:dy}))),Uu()(Fg,{isOpen:s,target:n,options:ent,onMenuClose:l},void 0,t.map((e,t)=>Jrt(a,tp()({},r,{key:t,tab:e,component:iy,onPress:c})))))},ant=a("DkTW"),int=a.n(ant),rnt=Ed.a.createElement,{useCallback:nnt,useState:snt}=Ed.a;function ont(e){var{tabs:t,component:a,hideSingleTabs:i}=e,r=Je()(e,["tabs","component","hideSingleTabs"]),n=snt(0),s=n[1],o=n[0],l=nnt(e=>{s(e.width)},[]),c=snt(0),d=c[1],u=c[0],p=nnt(e=>{d(e.width)},[]),h=t.length<2,m=t.length>1&&u>o;return h&&i?null:Uu()(p$,{className:int.a.pageHeaderCenter,ignoreHeight:!0,onMeasure:l},void 0,m?rnt(tnt,tp()({},r,{tabs:t,component:a})):Uu()(p$,{ignoreHeight:!0,onMeasure:p},void 0,t.map((e,t)=>rnt(a,tp()({},r,{key:t,tab:e,component:qrt})))))}ont.defaultProps={component:_rt,hideSingleTabs:!0};var lnt=ont,cnt=Ed.a.createElement;var dnt=xG((function(){return Object(_u.a)(_S,Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,RS(),kS(),Urt,ytt,zrt,(e,t,a,i,r,n,s)=>{var o=Srt(e,t);return e.pivots.reduce((t,l)=>{if("vod.channels"===l.id&&l.requires&&!r[l.requires])return t;var c=Crt(a,i,e,l),d=c?n[c]:{},u=s?Brt(a,i,e,l):Frt(a,i,e,l,d);return u?(t.push({pivotKey:l.key,title:l.title,route:u,isSelected:!(!o||l.key!==o.key),isDisabled:!l.key,context:l.context}),t):t},[])}),(e,t)=>({providerMetricsIdentifier:e.metricsIdentifier,tabs:t}))}))((function(e){return cnt(lnt,tp()({},e,{component:Qrt}))})),unt=a("2kxp"),pnt=a.n(unt);function hnt({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}hnt.defaultProps={className:pnt.a.pageHeaderLeft};var mnt=hnt,vnt=a("kjw+"),gnt=a.n(vnt);var ynt=function({className:e=gnt.a.container,innerClassName:t=gnt.a.innerContainer,children:a}){return Uu()("div",{className:e},void 0,Uu()("div",{className:t},void 0,a))},fnt=a("9l/z"),bnt=a.n(fnt),{Fragment:Int}=Ed.a;var Snt=function(e){var{serverEntityID:t,providerEntityID:a,isEmbeddedServer:i,source:r,title:n,detail:s,route:o}=e,l=ly();return Uu()(Int,{},void 0,r&&!i?Uu()(ynt,{},void 0,Uu()(C3e,{id:l.menuButtonID,iconComponent:Y3e,label:Object(Ze.default)("Actions"),isMenuOpen:l.isMenuOpen,onPress:l.onMenuButtonPress}),Uu()(Uet,{target:l.menuButtonID,serverEntityID:t,providerEntityID:a,source:r,isOverflowMenuOpen:l.isMenuOpen,onOverflowMenuClose:l.onMenuClose})):null,Uu()("div",{className:bnt.a.headerContainer},void 0,Uu()(O5e,{title:n,detail:s,route:o})))};function Mnt(e,t,a,i){return i?Object(Ze.default)("Downloads"):e?e.title:t.isCloud?a.title:p3(t)}function Cnt(e,t){return t.isCloud?e&&e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:null:e?e.serverSourceTitle+"  "+e.serverFriendlyName:u3(t)}var Dnt=Object(_u.a)((e,{sourceDirectory:t})=>t,ytt,RS(),kS(),Fat(),bbe(Ot.c),(e,t,a,i,r,n)=>{if(!n)return{};var s=JQ(i,e),o=e?R7({sourceType:s?s.key:null,sourceServer:a,sourceProvider:i,sourceDirectory:e}):null,l=r?vue(t.downloads):Jt(a,i,e,e?void 0:{key:"/hubs",pageType:xt});return{isEmbeddedServer:r,source:o,title:Mnt(o,a,i,r),detail:Cnt(o,a),route:l}}),Pnt=Object(Fu.b)(Dnt)(Snt),Ont=a("/6Su"),jnt=a.n(Ont);function Tnt(e){var{containerComponent:t,serverEntityID:a,providerEntityID:i,sourceDirectory:r,children:n}=e;return(Uu()(t,{},void 0,Uu()(Pnt,{serverEntityID:a,providerEntityID:i,sourceDirectory:r}),n?Uu()("div",{className:jnt.a.childrenContainer},void 0,n):null))}Tnt.defaultProps={containerComponent:mnt};var wnt=Tnt,Ent=Ed.a.createElement,Nnt=Uu()(Rrt,{}),xnt=Uu()(P1e,{});var Ant=function(e){var{serverEntityID:t,providerEntityID:a,pivot:i,sourceDirectory:r,directoryKey:n,showSecondHeader:s,children:o}=e,l=Je()(e,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return(Ent(WX,tp()({className:YX.a.page},l),Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r}),i?Uu()(dnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,directoryKey:n}):null,Nnt),s?xnt:null,Uu()(a3e,{},void 0,o)))};function Lnt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 361.506",id:"plex-icon-devices"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["g",{stroke:"#e5a00d",strokeWidth:"2.95"}].concat([Ed.a.createElement.apply(Ed.a,["path",{d:"M429.683 360.028h-128.55c-3.944 0-7.606-1.77-10.045-4.86a12.609 12.609 0 01-2.384-10.87l12.32-50.859h128.774l12.322 50.86c.929 3.818.059 7.783-2.384 10.87a12.729 12.729 0 01-10.053 4.859zm-121.35-57.343l-10.607 43.78c-.345 1.436.263 2.484.655 2.988a3.448 3.448 0 002.753 1.328h128.55c1.483 0 2.366-.83 2.758-1.337.392-.495 1-1.543.655-2.98l-10.607-43.779z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M304.68 302.685h-38.937c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h38.937c2.564 0 4.641 2.068 4.641 4.623s-2.077 4.623-4.64 4.623zM541.294 302.685H426.146c-2.567 0-4.644-2.065-4.644-4.62s2.077-4.625 4.644-4.625h115.148c4.384 0 7.949-3.548 7.949-7.918v-26.599H265.929c-2.566 0-4.642-2.067-4.642-4.622 0-2.556 2.076-4.623 4.642-4.623h292.596v35.844c0 9.462-7.728 17.163-17.231 17.163z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M553.884 258.922a4.628 4.628 0 01-4.641-4.622V18.63c0-4.361-3.565-7.91-7.949-7.91H189.53c-4.384 0-7.947 3.549-7.947 7.91v58.967c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623V18.63c0-9.462 7.729-17.155 17.23-17.155h351.765c9.503 0 17.23 7.693 17.23 17.155V254.3a4.628 4.628 0 01-4.64 4.622zM100.935 360.028H18.04c-9.135 0-16.565-7.403-16.565-16.496v-154.33c0-9.092 7.43-16.495 16.565-16.495h82.895c9.135 0 16.565 7.403 16.565 16.495v154.33c0 9.093-7.43 16.496-16.565 16.496zM18.04 181.952c-4.017 0-7.28 3.25-7.28 7.25v154.33c0 4 3.263 7.249 7.28 7.249h82.895c4.017 0 7.281-3.249 7.281-7.25V189.203c0-4-3.264-7.25-7.28-7.25z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M112.088 206.735H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h104.311c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM112.088 323.353H7.777c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.624 4.642-4.624h104.311c2.566 0 4.642 2.069 4.642 4.624 0 2.555-2.076 4.623-4.642 4.623zM67.384 194.348H55.462c-2.566 0-4.642-2.067-4.642-4.623 0-2.555 2.076-4.622 4.642-4.622h11.922c2.566 0 4.642 2.067 4.642 4.622 0 2.556-2.076 4.623-4.642 4.623zM59.488 349.359c-6.56 0-11.9-5.32-11.9-11.855 0-6.53 5.34-11.846 11.9-11.846 6.56 0 11.9 5.316 11.9 11.846 0 6.535-5.34 11.855-11.9 11.855zm0-14.458a2.611 2.611 0 00-2.616 2.603 2.618 2.618 0 002.616 2.608 2.618 2.618 0 002.616-2.608 2.611 2.611 0 00-2.616-2.603z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M226.172 360.03h-91.097c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h91.097c6.85 0 12.42-5.553 12.42-12.369V117.552c0-6.817-5.57-12.37-12.42-12.37H107.536c-6.846 0-12.417 5.553-12.417 12.37v40.277c0 2.555-2.076 4.623-4.642 4.623-2.566 0-4.642-2.068-4.642-4.623v-40.277c0-11.918 9.733-21.615 21.7-21.615h118.637c11.967 0 21.705 9.697 21.705 21.615v220.863c0 11.917-9.738 21.616-21.705 21.616z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M242.129 136.557H92.848c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h149.28c2.567 0 4.643 2.068 4.643 4.623s-2.076 4.623-4.642 4.623zM242.129 315.593h-106.46c-2.566 0-4.642-2.068-4.642-4.623s2.076-4.623 4.642-4.623h106.46c2.566 0 4.642 2.068 4.642 4.623s-2.076 4.623-4.642 4.623zM178.151 122.94h-17.059c-2.566 0-4.642-2.067-4.642-4.622 0-2.555 2.076-4.623 4.642-4.623h17.06c2.565 0 4.641 2.068 4.641 4.623s-2.076 4.623-4.642 4.623zM166.854 348.158c-8.287 0-15.028-6.715-15.028-14.968 0-8.252 6.741-14.97 15.028-14.97s15.028 6.718 15.028 14.97c0 8.253-6.741 14.968-15.028 14.968zm0-20.695c-3.169 0-5.744 2.567-5.744 5.727s2.575 5.724 5.744 5.724c3.169 0 5.744-2.564 5.744-5.724s-2.575-5.727-5.744-5.727zM380.652 30.415h-30.481a4.628 4.628 0 01-4.641-4.623 4.628 4.628 0 014.64-4.623h30.482a4.628 4.628 0 014.641 4.623 4.628 4.628 0 01-4.64 4.623z"}].concat([]))]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Lnt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var knt=Lnt;function Rnt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-parental-controls"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["g",void 0].concat([Ed.a.createElement.apply(Ed.a,["path",{d:"M548.3 559.273H361.152c-6.456 0-11.696-5.22-11.696-11.657V407.73c0-6.435 5.24-11.657 11.696-11.657H548.3c6.457 0 11.7 5.222 11.7 11.657v139.885c0 6.437-5.243 11.657-11.7 11.657zm-175.451-23.315h163.756v-116.57H372.849z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M454.726 512.644c-6.457 0-11.697-5.22-11.697-11.657v-34.97c0-6.435 5.24-11.657 11.697-11.657 6.457 0 11.697 5.222 11.697 11.657v34.97c0 6.438-5.24 11.657-11.697 11.657z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M454.727 489.33c12.92 0 23.392-10.44 23.392-23.314 0-12.876-10.472-23.314-23.392-23.314s-23.394 10.438-23.394 23.314c0 12.875 10.474 23.314 23.394 23.314zM524.905 419.388c-6.457 0-11.695-5.223-11.695-11.658v-23.314c0-32.127-26.222-58.286-58.484-58.286-32.26 0-58.484 26.159-58.484 58.286v23.314c0 6.435-5.24 11.658-11.697 11.658-6.457 0-11.697-5.223-11.697-11.658v-23.314c0-44.997 36.728-81.6 81.878-81.6 45.152 0 81.879 36.603 81.879 81.6v23.314c0 6.435-5.244 11.658-11.7 11.658zM11.7 559.772c-.936 0-1.872-.114-2.831-.347-6.293-1.565-10.083-7.884-8.516-14.131l14.06-56.002c6.854-27.23 26.856-48.773 53.548-57.632l103.821-34.482c24.4-10.165 35.816-50.429 38.272-65.7-17.919-16.367-34.599-40.987-34.599-63.135 0-8.253-2.456-11.657-3.743-12.287-3.65-.91-5.708-3.217-7.112-6.691-1.286-3.194-12.539-31.778-12.539-50.965 0-.956.117-1.912.352-2.821 1.286-5.106 4.865-12.59 11.345-16.973v-61.807C163.758 68.12 208.253.228 280.727.228c71.584 0 91.048 36.58 93.317 54.672 12.141 8.93 23.65 24.34 23.65 61.9v61.806c6.48 4.383 10.084 11.844 11.347 16.973.234.932.35 1.865.35 2.82 0 19.188-11.228 47.772-12.538 50.966-1.404 3.474-4.375 6.085-8.024 6.97-.351.35-2.83 3.755-2.83 12.008 0 21.1-8.353 32.034-13.358 38.562l-1.755 2.401c-3.603 5.362-10.878 6.761-16.212 3.218-5.38-3.59-6.83-10.818-3.252-16.18.749-1.096 1.638-2.285 2.62-3.591 4.024-5.246 8.562-11.19 8.562-24.41 0-17.416 7.23-27.091 14.083-31.638 3.369-9.139 8.726-25.715 9.264-36.533-.421-.933-.959-1.866-1.333-2.192-6.457 0-10.317-4.78-10.317-11.214v-69.967c0-34.318-11.065-41.313-15.79-44.297-2.831-1.795-7.603-4.803-8.282-11.214-.163-1.376.048-2.961.491-4.546-1.637-9.233-15.673-33.2-69.993-33.2-57.104 0-93.575 55.232-93.575 93.257v69.944c0 6.434-5.24 11.657-11.697 11.657.562 0 .35.792.048 1.678.515 10.842 5.918 27.488 9.264 36.604 6.854 4.57 14.083 14.222 14.083 31.638 0 15.69 15.51 36.673 30.833 49.31a11.633 11.633 0 014.257 8.975c0 14.805-13.498 75.539-53.992 92.349L75.33 453.739c-19.065 6.318-33.383 21.729-38.249 41.172l-14.06 56.002c-1.286 5.339-6.058 8.86-11.322 8.86z"}].concat([]))]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Rnt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var znt=Rnt,Unt=a("AoyP"),Vnt=a.n(Unt),{useCallback:Bnt}=Ed.a;var Fnt=function(){var e=Bnt(()=>{H.a.trigger("navigate","signUp")},[]);return(Uu()(ph,{title:Object(Ze.default)("Sign up for a free account to continue"),description:Object(Ze.default)("Some benefits to a Plex account:")},void 0,Uu()("div",{className:Vnt.a.container},void 0,Uu()("div",{className:Vnt.a.panel},void 0,Uu()(knt,{className:Vnt.a.panelIcon}),Uu()("div",{className:Vnt.a.panelTitle},void 0,Object(Ze.default)("One App, Any Device")),Uu()("div",{className:Vnt.a.panelDescription},void 0,Object(Ze.default)("Pick up whatever you were watching exactly where you left off on any device"))),Uu()("div",{className:Vnt.a.panel},void 0,Uu()(rje,{className:Vnt.a.panelIcon}),Uu()("div",{className:Vnt.a.panelTitle},void 0,Object(Ze.default)("Save Your Favorites")),Uu()("div",{className:Vnt.a.panelDescription},void 0,Object(Ze.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),Uu()("div",{className:Vnt.a.panel},void 0,Uu()(znt,{className:Vnt.a.panelIcon}),Uu()("div",{className:Vnt.a.panelTitle},void 0,Object(Ze.default)("Parental Controls")),Uu()("div",{className:Vnt.a.panelDescription},void 0,Object(Ze.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),Uu()(oh,{},void 0,Uu()(rT,{kind:Dp,size:wp,onPress:e},void 0,Object(Ze.default)("Sign Up")))))},Hnt=Uu()(ph,{},void 0,Uu()(Xh,{})),_nt=Uu()(qat,{}),Qnt=Uu()(Fnt,{});var Wnt=function(e){var{serverEntityID:t,providerEntityID:a,pivot:i,sourceDirectory:r,directoryKey:n,isNotFound:s,showPlexAccountUpsell:o,isPending:l,children:c}=e;return l?Hnt:s?_nt:o?Uu()(Ant,{serverEntityID:t,providerEntityID:a,pivot:i,sourceDirectory:r,directoryKey:n,scrollDirection:Jp},void 0,Qnt):c},{Component:Gnt}=Ed.a;function Ynt(e,t){return!e&&!t||D.a.isEqual(e,t)}var Knt={dispatchSavePivotParams:Wi.s};var qnt=Object(Fu.b)((function(){return Object(_u.a)((e,{sourceDirectoryID:t})=>t,K8e(),Mrt(),Object(_u.a)(RS(),kS(),K8e(),Mrt(),ytt,(e,t,a,i,r)=>a&&i&&r?r[Crt(e,t,a,i)]:null),Object(_u.a)(RS(),e=>e.isProvidersPending),cw,(e,t,a,i,r,n)=>({sourceDirectoryID:e,sourceDirectory:t,pivot:a,savedPivotParams:i,isNotFound:!(!e||t),isPlexAccountRequired:!!a&&Drt(a.requires,n),isPending:!!r}))}),Knt)(class extends Gnt{componentDidMount(){var{sourceDirectory:e,pivot:t,shouldSaveParams:a}=this.props;e&&t&&a&&this._savePivotDefaultParams(this.props)}componentDidUpdate(e){var{sourceDirectory:t,pivot:a,shouldSaveParams:i,params:r}=this.props;t&&a&&i&&!Ynt(e.params,r)&&this._savePivotDefaultParams(this.props)}_savePivotDefaultParams(e){var{serverEntityID:t,providerEntityID:a,sourceDirectory:i,pivot:r,params:n,savedPivotParams:s,dispatchSavePivotParams:o}=e;r&&!Ynt(n,s)&&o({serverEntityID:t,providerEntityID:a,directoryID:i.id,pivotKey:r.key,params:n})}render(){var{serverEntityID:e,providerEntityID:t,pivot:a,sourceDirectory:i,directoryKey:r,isNotFound:n,isPlexAccountRequired:s,isPending:o,children:l}=this.props;return(Uu()(Wnt,{serverEntityID:e,providerEntityID:t,pivot:a,sourceDirectory:i,directoryKey:r,showPlexAccountUpsell:s,isNotFound:n,isPending:o},void 0,l))}});var Znt=Ed.a.createElement,{Component:Xnt}=Ed.a;var Jnt=function(e,t,a,i){var r=LS(t,e=>({identifiers:e}));class n extends Xnt{constructor(e,t){super(e,t),this.onRepopulate=()=>{this._repopulate()},this._isPopulated=!1,this._component=null}componentDidMount(){this._populate()}componentDidUpdate(){this._isPopulated||this._populate()}_populate(){var e=this.props,{dispatch:t}=e,i=Je()(e,["identifiers","dispatch"]);Object(wa.a)(()=>{a(t,i)})}_repopulate(){if(!i)return this._populate();var e=this.props,{dispatch:t}=e,a=Je()(e,["identifiers","dispatch"]);i(t,a)}render(){if(this._isPopulated=function(e){var{identifiers:t}=e;for(var a in t)if(t[a]!==e[a])return!1;return!0}(this.props),this._isPopulated){var t=this.props,a=Je()(t,["identifiers","dispatch"]);this._component=Znt(e,tp()({onRepopulate:this.onRepopulate},a))}return this._component}}return n.displayName="Populatable("+gf(e)+")",n.WrappedComponent=e,Object(Fu.b)(e=>r)(n)};function $nt(){return Object(_u.a)(RS(),e=>e.isCloud)}var est=e=>"hdonly"===e.key,tst=()=>(e,{activeFilters:t})=>t.some(est);Oc.a.shape({key:Oc.a.string.isRequired,value:Oc.a.oneOfType([Oc.a.string,Oc.a.array]).isRequired,operator:Oc.a.string.isRequired,type:Oc.a.string});function ast(e){var t,a,i,r,n,s,o,l,c,{getCellHeights:d,overscan:u=0,outerPaddingTop:p=0,outerPaddingRight:h=0,outerPaddingBottom:m=0,outerPaddingLeft:v=0}=e;function g(e){var t=D.a.findIndex(n,t=>t>e),a=n.length-1;return-1===t?a:Math.min(Math.max(0,t-1),a)}return{getListStyle:function(e){var l=e.viewportHeight+":"+e.viewportWidth;if(l===s)return o;t=e.viewportHeight,a=e.viewportWidth-(v+h),i=d(a),n=[];var c=p;return i.forEach(e=>{n.push(c),c+=e}),r=i.reduce((e,t)=>e+t,p+m),s=l,o={height:r,width:a}},getLandmarks:function(){Object(P.a)(void 0!==t,"`getListStyle` must be called before `getLandmarks`");var e=t+":"+r;return e===l?c:(l=e,c=n.map((e,t)=>({index:t,position:e/r})))},getPositionForIndex:function(e){return Object(P.a)(void 0!==t,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:v,cellY:n[e],cellWidth:a,cellHeight:i[e]}},getRelativeIndex:function(){Object(P.a)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e,a,i){Object(P.a)(void 0!==t,"`getListStyle` must be called before `getPositionForIndex`");var r=e+t-1,n=g(e-u*t),s=g(e),o=g(r),l=g(r+u*t);return{visibleStartIndex:lO(s,i),visibleEndIndex:lO(o,i),partiallyVisibleStartIndex:lO(s,i),partiallyVisibleEndIndex:lO(o,i),renderStartIndex:lO(n,i),renderEndIndex:lO(l,i)}}}}function ist(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}ist.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var rst=ist;var nst=function(e){var{machineIdentifier:t,isRefreshing:a}=e;if(a)return Uu()(xH,{iconComponent:rst,title:Object(Ze.default)("We're now building your Guide"),description:Object(Ze.default)("Hang tight while we download all the data for what's on")});var i=si(t,"manage","dvr");return(Uu()(xH,{iconComponent:rst,title:Object(Ze.default)("The Guide is empty"),description:Object(Ze.default)("Please verify your channel mappings and refresh the Guide")},void 0,Uu()(Vp,{to:i,kind:Dp},void 0,Object(Ze.default)("Go to DVR Settings"))))},sst=Ed.a.createElement;var ost=Object(Fu.b)((function(){return Object(_u.a)(RS(),_7e(),(e,t)=>({machineIdentifier:e.machineIdentifier,isRefreshing:!!t}))}))((function(e){return sst(nst,e)})),lst=Ed.a.createElement;var cst=function(e){var{children:t}=e,a=Je()(e,["children"]);return(lst(FX,tp()({className:EH.a.innerEmptyPage,contentClassName:EH.a.innerEmptyPageContent,scrollDirection:Jp},a),t))},dst=a("uGWF"),ust=a.n(dst);var pst=Uu()($y,{});var hst=function(e){var{beginsAt:t,endsAt:a,timeFormat:i,channelTitle:r,contentRating:n}=e,{airTime:s,duration:o}=function(e,t,a,i){var r=Math.floor(Date.now()/1e3),n="",s="";if(r>=e&&r<=t)n=Object(Ze.default)("Now on {channel}",{channel:i}),s=Km(t-r);else{var o=Wbe(e,t,{timeFormat:a,separator:" - "});n=Object(Ze.default)("{timeRange} on {channel}",{timeRange:o,channel:i}),s=Ym(1e3*(t-e))}return{airTime:n,duration:s}}(t,a,i,r);return Uu()("div",{className:ust.a.container},void 0,s,pst,o,Uu()("div",{className:ust.a.contentRating},void 0,TSe(n)))},mst=a("wCLk"),vst=a.n(mst);var gst=function(e){var{type:t,metadataItemEntityID:a,serverEntityID:i,providerEntityID:r}=e,n=function(e){var t;switch(e){case Wt.j:t=[AIe,Tle];break;case Wt.o:t=[AIe,rSe];break;case Wt.f:t=[ele,rSe];break;default:t=[AIe]}return t}(t);return Uu()("div",{className:vst.a.titleContainer},void 0,n.map((e,t)=>{var n=0===t?vst.a.primaryTitle:vst.a.secondaryTitle;return(Uu()(e,{className:n,metadataItemEntityID:a,serverEntityID:i,providerEntityID:r},t))}))},yst=a("UybS"),fst=a.n(yst);var bst=function(e){var{title:t,showPlay:a,showRecord:i,onPlayPress:r,onRecordPress:n}=e;return(Uu()("div",{className:fst.a.actions},void 0,a?Uu()(kle,{className:fst.a.playButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-play",onPress:r}):null,i?Uu()(Qle,{className:fst.a.recordButton,title:t,tabIndex:"-1","data-qa-id":"guide-row-item-record",onPress:n}):null))};function Ist(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Ist.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Sst=Ist,Mst=a("eBN0"),Cst=a.n(Mst);var Dst=function(e){var{subscriptionType:t,isSubscribed:a,isOnAir:i,showRecord:r,onPlayPress:n,onRecordPress:s}=e,o=i?Object(Ze.default)("Watch Now"):Object(Ze.default)("Watch Channel"),l=a?Object(Ze.default)("Recording Scheduled"):Object(Ze.default)("Record");return Uu()("span",{},void 0,Uu()(rT,{className:Cst.a.playButton,kind:Op,size:jp,onPress:n},void 0,Uu()(Sst,{className:Cst.a.icon}),o),r?Uu()(rT,{className:Cst.a.recordButton,kind:Op,size:jp,onPress:s},void 0,Uu()(MPe,{className:Cst.a.icon,type:t}),l):null)},{Component:Pst}=Ed.a;var Ost=class extends Pst{constructor(...e){super(...e),this.onRecordPress=e=>{var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,type:r,onRecordPress:n}=this.props;n({serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,subscriptionType:r})}}render(){var{className:e,title:t,subscriptionType:a,isCompact:i,isOnAir:r,isSubscribed:n,showPlay:s,showRecord:o,onPlayPress:l}=this.props,c=i?bst:Dst;return Uu()("span",{className:e},void 0,Uu()(c,{title:t,subscriptionType:a,isOnAir:r,isSubscribed:n,showPlay:s,showRecord:o,onPlayPress:l,onRecordPress:this.onRecordPress}))}},jst=Ed.a.createElement,{useCallback:Tst}=Ed.a;var wst=xG((function(){return Object(_u.a)(ZG(),Object(_u.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{var a=Math.floor(Date.now()/1e3);return a>=e&&a<=t}),(e={},t)=>{var{type:a,title:i,grandparentTitle:r,subscriptionID:n,grandparentSubscriptionID:s,subscriptionType:o,grandparentSubscriptionType:l}=e;return{type:a,title:r||i,subscriptionType:l||o||a,isSubscribed:!(!s&&!n),isOnAir:t}})}),{dispatchStartLiveTVPlayback:Kme})((function(e){var{dispatchStartLiveTVPlayback:t}=e,a=Je()(e,["dispatchStartLiveTVPlayback"]),{serverEntityID:i,providerEntityID:r,channelIdentifier:n,metricsPage:s,metricsContext:o}=e,l=Tst(()=>{var e={serverEntityID:i,providerEntityID:r,metricsPage:s,metricsContext:o};t(Object.assign({},e,{options:{type:tl.e,identifier:n}}))},[i,r,s,o,t,n]);return jst(Ost,tp()({},a,{onPlayPress:l}))})),Est=a("7ElX"),Nst=a.n(Est);function xst(e){var{className:t,metadataItemEntityID:a,serverEntityID:i,providerEntityID:r,mediaIndex:n,type:s,summary:o,thumb:l,contentRating:c,beginsAt:d,endsAt:u,timeFormat:p,channelIdentifier:h,channelTitle:m,channelShortTitle:v,showRecord:g,onRecordPress:y,onNextPress:f,onPrevPress:b}=e;return(Uu()("div",{className:t},void 0,Uu()(Rne,{className:Nst.a.poster,serverEntityID:i,providerEntityID:r,component:PM,type:s,width:80,height:wM(80,s),url:l}),Uu()("div",{className:Nst.a.preplayContainer},void 0,Uu()(gst,{type:s,serverEntityID:i,providerEntityID:r,metadataItemEntityID:a}),Uu()(hst,{beginsAt:d,endsAt:u,timeFormat:p,channelTitle:v||m,contentRating:c}),Uu()(wst,{serverEntityID:i,providerEntityID:r,metadataItemEntityID:a,channelIdentifier:h,mediaIndex:n,beginsAt:d,endsAt:u,showPlay:!0,showRecord:g,onRecordPress:y}),Uu()("p",{},void 0,o),Uu()("div",{className:Nst.a.navigationContainer},void 0,Uu()(KG,{iconComponent:oO,title:Object(Ze.default)("Previous"),onPress:b}),Uu()(KG,{iconComponent:rO,title:Object(Ze.default)("Next"),onPress:f})))))}xst.defaultProps={className:Nst.a.container};var Ast=xst;var Lst=Object(Fu.b)((function(){return Object(_u.a)((e,{mediaIndex:t})=>t,ZG(),bbe(Ot.q),_be,(e,t,a,i)=>{var{type:r,summary:n,grandparentThumb:s,thumb:o,contentRating:l}=t,c=t.Media[e],{beginsAt:d,endsAt:u,channelTitle:p,channelShortTitle:h,channelIdentifier:m}=c;return{type:r,summary:n,thumb:s||o,contentRating:l,beginsAt:d,endsAt:u,timeFormat:i,channelIdentifier:m,channelTitle:p,channelShortTitle:h,showRecord:!!a}})}))(Ast),kst=a("B+IN"),Rst=a.n(kst);function zst(e){var{className:t}=e;return(Uu()(QF,{className:t},void 0,Object(Ze.default)("New")))}zst.defaultProps={className:Rst.a.badge};var Ust=zst,Vst=a("4X5K"),Bst=a.n(Vst),{Component:Fst}=Ed.a,Hst=parseInt(GU.channelGridChannelColumnWidth,10),_st=.3*Hst;class Qst extends Fst{constructor(e,t){super(e,t),this.state={placeholderWidth:_st+Math.random()*(Hst-_st)}}render(){var{className:e,children:t}=this.props,{placeholderWidth:a}=this.state;return Uu()("div",{className:e,style:{width:a+"px"}},void 0,Uu()("div",{className:Bst.a.bar},void 0,t))}}Qst.defaultProps={className:Bst.a.container};var Wst=Qst,Gst=a("M2eu"),Yst=a.n(Gst),{Component:Kst}=Ed.a;var qst=Uu()(Wst,{}),Zst=Uu()(Wst,{});class Xst extends Kst{constructor(...e){super(...e),this.onCellPress=()=>{var{metadataItemEntityID:e,mediaIndex:t,cellIndex:a,onPress:i}=this.props;i(e,t,a)}}render(){var{className:e,metadataItemEntityID:t,serverEntityID:a,providerEntityID:i,channelIdentifier:r,mediaIndex:n,width:s,type:o,subscriptionType:l,title:c,premiere:d,canRecord:u,showEpisodeTitle:p,showLoader:h,isOnAir:m,isFinishedAiring:v,isSelected:g,isSubscribed:y,onRecordPress:f}=this.props;if(!t)return Uu()("div",{className:(e||"")+" "+(m&&Yst.a.onAir||"")+" "+(v&&Yst.a.finishedAiring||""),style:{width:s+"px"}},void 0,h?Uu()("div",{className:Yst.a.placeholderContainer},void 0,qst,Zst):Uu()("div",{className:Yst.a.content},void 0,Object(Ze.default)("Unknown Airing")));var b=function(e,t){var a=null;switch(e){case Wt.j:a=Tle;break;case Wt.o:case Wt.f:t&&(a=vSe)}return a}(o,p);return(Uu()("div",{className:(e||"")+" "+(m&&Yst.a.onAir||"")+" "+(g&&Yst.a.selected||"")+" "+((m||u)&&Yst.a.hoverable||"")+" "+(v&&Yst.a.finishedAiring||""),style:{width:s+"px"},"data-qa-id":"guide-row-item"},void 0,Uu()("div",{className:Yst.a.content},void 0,Uu()(Vp,{className:Yst.a.underlay,onPress:this.onCellPress}),Uu()("div",{},void 0,c),Uu()("div",{className:Yst.a.actionsContainer},void 0,Uu()("div",{className:Yst.a.subTitleContainer},void 0,b?Uu()(b,{className:Yst.a.subTitle,serverEntityID:a,providerEntityID:i,metadataItemEntityID:t}):null,d?Uu()(Ust,{className:Yst.a.premiereBadge}):null,y?Uu()(QF,{className:Yst.a.subscriptionBadge},void 0,Uu()(MPe,{type:l})):null),Uu()(wst,{className:Yst.a.actions,isCompact:!0,serverEntityID:a,providerEntityID:i,metadataItemEntityID:t,channelIdentifier:r,mediaIndex:n,showRecord:u,showPlay:m,onRecordPress:f})))))}}Xst.defaultProps={className:Yst.a.container};var Jst=Xst,$st=Ed.a.createElement,{useEffect:eot}=Ed.a;var tot={dispatchMirrorDetails:d9};var aot=Object(Fu.b)((function(){return Object(_u.a)(Qwe,ZG(),Object(_u.a)((e,{mediaIndex:t})=>t,ZG(),(e,t)=>t?t.Media[e]:null),Object(_u.a)((e,{beginsAt:t})=>t,(e,{endsAt:t})=>t,(e,t)=>{var a=Math.floor(Date.now()/1e3);return{isOnAir:a>=e&&a<=t,isFinishedAiring:a>=t}}),bbe(Ot.q),(e,t={},a,i,r)=>{var{type:n,grandparentTitle:s,title:o,subscriptionID:l,subscriptionType:c,grandparentSubscriptionID:d,grandparentSubscriptionType:u,index:p,originallyAvailableAt:h}=t,m=!!a&&a.premiere,v=null!=l||null!=d,g=!0;if(null==p&&!!h){var y=new Date,f=new Date(h);g=y.getDate()!==f.getUTCDate()||y.getMonth()!==f.getUTCMonth()||y.getFullYear()!==f.getUTCFullYear()}return Object.assign({},i,{type:n,title:s||o,subscriptionType:c||u,showEpisodeTitle:g,isRemotePlayer:e,isSubscribed:v,premiere:m,canRecord:!!r})})}),tot)((function(e){var{dispatchMirrorDetails:t}=e,a=Je()(e,["dispatchMirrorDetails"]),{serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,isRemotePlayer:s,isSelected:o}=e;return eot(()=>{o&&s&&t({serverEntityID:i,providerEntityID:r,metadataItemEntityID:n})},[s,o,i,r,n,t]),$st(Jst,a)})),iot=a("/VEV"),rot=a.n(iot);var not=function(e){var{className:t,width:a,isActive:i}=e,r={width:a+"px"};return Uu()("div",{className:t},void 0,Uu()("div",{className:(rot.a.fill||"")+" "+(i&&rot.a.active||""),style:r}))};var sot=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,(e,t)=>{var{airedProgress:a,columnWidth:i,visibleColumns:r}=e;return{width:a/100*r*i}})}))(not);var oot=function(e){return Object(_u.a)(kS(),t=>t.protocols.includes(e))};function lot(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-recent-channel-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M317.1429 42C185.7926 42 79.2857 148.5712 79.2857 280H0l99.6533 99.713c3.3475 3.35 8.7746 3.35 12.1219 0L211.428 280h-79.2852c0-102.34 82.7223-185.1112 185-185.1112 102.2778 0 185.0006 82.7712 185.0006 185.1112 0 102.3391-82.7228 185.1117-185.0005 185.1117-51.0069 0-97.2566-20.8926-130.5566-54.4767l-37.5292 37.5517C192.1354 491.2908 251.3366 518 317.143 518 448.493 518 555 411.4292 555 280c0-131.4288-106.5069-238-237.8571-238zm-37.1435 132.2208v132.2225l112.32 66.1117 19.8223-33.0559-92.4994-52.89V174.2208h-39.6429z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}lot.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var cot=lot,dot=a("1iSi"),uot=a.n(dot),pot=Ed.a.createElement,hot=parseInt(GU.channelGridChannelIconWidth,10),mot=parseInt(GU.channelGridRowHeight,10);function vot(e){var{className:t,serverEntityID:a,providerEntityID:i,channel:r,isCloudServer:n,onPlayPress:s}=e,[o,l]=WLe(),c=r.vcn||r.identifier;return pot("div",tp()({"data-qa-id":"guide-channel-name",className:t},l),n?null:Uu()("div",{className:uot.a.numberContainer},void 0,o?Uu()(kle,{"data-qa-id":"guide-channel-play",className:uot.a.playButton,title:Object(Ze.default)("Play Channel {channel}",{channel:c}),tabIndex:"-1",onPress:s}):Uu()("span",{},void 0,c)),Uu()("div",{className:(uot.a.thumbnailContainer||"")+" "+(n&&uot.a.fullWidth||"")+" "+(r.isRecent&&uot.a.isRecent||"")},void 0,n&&o?Uu()(kle,{"data-qa-id":"guide-channel-play",className:uot.a.fullWidthPlayButton,title:Object(Ze.default)("Play Channel {channel}",{channel:r.callSign}),tabIndex:"-1",onPress:s}):null,r.thumb?Uu()(YS,{serverEntityID:a,providerEntityID:i,url:r.thumb,className:uot.a.thumbnail,backgroundSize:"contain",width:hot,height:mot},r.thumb):Uu()("div",{className:uot.a.channelCallSignText,title:r.callSign},void 0,r.callSign)),r.isRecent?Uu()(cot,{className:uot.a.icon}):null)}vot.defaultProps={className:uot.a.container};var got=vot,yot=Ed.a.createElement,{useCallback:fot}=Ed.a;var bot=xG((function(){return Object(_u.a)($nt(),oot(Qt.a),(e,t)=>({isCloudServer:e,hasLiveTVProtocol:t}))}),{dispatchStartPlayback:Cw.p,dispatchStartLiveTVPlayback:Kme})((function(e){var{dispatchStartPlayback:t,dispatchStartLiveTVPlayback:a}=e,i=Je()(e,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),{serverEntityID:r,providerEntityID:n,channel:s,metricsPage:o,metricsContext:l,isCloudServer:c,hasLiveTVProtocol:d}=e,{identifier:u}=s,p=fot(()=>{var e={serverEntityID:r,providerEntityID:n,metricsPage:o,metricsContext:l};c||d?a(Object.assign({},e,{options:{type:tl.e,identifier:u}})):t(e)},[r,n,o,l,c,d,a,u,t]);return yot(got,tp()({},i,{channel:s,isCloudServer:c,onPlayPress:p}))})),Iot=a("pSrE"),Sot=a.n(Iot),{memo:Mot}=Ed.a;function Cot(e){var{className:t,rowClassName:a,serverEntityID:i,providerEntityID:r,selectedMetadataItemEntityID:n,selectedMediaIndex:s,selectedMediaItemRow:o,channel:l,cellIndex:c,columnWidth:d,columnTimes:u,isFetching:p,onMetadataItemPress:h,onRecordPress:m,onNextPress:v,onPrevPress:g,onDetailRowMeasure:y}=e,f=N$(e),b=u[0],I=u[u.length-1],S=u[1]-u[0];return Uu()("div",{className:t,style:f.style,"data-qa-id":"guide-row"},void 0,Uu()("div",{className:a},void 0,Uu()(bot,{className:Sot.a.title,serverEntityID:i,providerEntityID:r,channel:l}),Uu()("div",{className:Sot.a.programsContainer},void 0,Uu()(sot,{className:Sot.a.progress}),l.programs.map((e,t)=>{var a=Math.max(e.beginsAt,b),u=(Math.min(e.endsAt,I)-a)/S*d,v=c===o&&n===e.metadataItemEntityID&&s===e.mediaIndex;return Uu()(aot,{width:u,className:Sot.a.program,beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:i,providerEntityID:r,channelIdentifier:l.identifier,cellIndex:c,isSelected:v,showLoader:p&&!e.metadataItemEntityID,onPress:h,onRecordPress:m},t)}))),c===o?Uu()(p$,{onMeasure:y},n,Uu()(Lst,{serverEntityID:i,providerEntityID:r,metadataItemEntityID:n,mediaIndex:s,onRecordPress:m,onNextPress:v,onPrevPress:g})):null)}Cot.defaultProps={rowClassName:Sot.a.container};var Dot=Mot(Cot);var Pot=function(e,t="HH:mm:ss"){return e?Object(Ky.a)(e,t):""},Oot=a("Jrrk"),jot=a.n(Oot);function Tot(e){var{className:t,enablePrevious:a,enableNext:i,startDate:r,columnTimes:n,timeFormat:s,columnWidth:o,dispatchPrevious:l,dispatchNext:c}=e;return(Uu()("div",{className:t},void 0,Uu()("div",{className:jot.a.dayContainer},void 0,r?Object(vle.default)(r,"EEEE, LLL dd"):null),Uu()("div",{className:jot.a.labelContainer},void 0,n.map((e,t)=>Uu()("div",{className:jot.a.label,style:{width:o+"px"}},t,Pot(1e3*e,s)))),Uu()("div",{className:jot.a.navigationButtons},void 0,Uu()(KG,{className:jot.a.navigationButton,iconComponent:oO,title:Object(Ze.default)("Previous"),isDisabled:!a,onPress:l}),Uu()(KG,{className:jot.a.navigationButton,iconComponent:rO,title:Object(Ze.default)("Next"),isDisabled:!i,onPress:c}))))}Tot.defaultProps={className:jot.a.container};var wot=Tot;var Eot={dispatchNext:lbe,dispatchPrevious:cbe},Not=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,_be,(e,t)=>{var{startTime:a,columnWidth:i}=e,r=new Date-108e5,n=new Date(1e3*a),s=n>r;return tf(a)&&(n=null),{timeFormat:t,startDate:n,columnWidth:i,enablePrevious:s,enableNext:!0}})}),Eot)(wot),xot=a("6nCn"),Aot=a.n(xot),Lot=Ed.a.createElement,{Component:kot}=Ed.a,Rot=parseInt(GU.channelGridRowHeight,10)-1,zot={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0};class Uot extends kot{static getDerivedStateFromProps(e,t){var{selectedMediaIndex:a,selectedMetadataItemEntityID:i,selectedMediaItemRow:r}=t,n=e.channels[r];return n&&0!==n.programs.length?n.programs.find(e=>e.mediaIndex===a&&e.metadataItemEntityID===i)?null:zot:null}constructor(e,t){super(e,t),this.getCellHeights=()=>{var{selectedMediaItemRow:e,selectedMediaItemHeight:t}=this.state;return this.props.channels.map((a,i)=>{var r=Rot;return i===e&&(r+=t||140),r})},this._updateProgress=()=>{this.props.dispatchUpdateAiredProgress(),this._resetUpdateTimeout()},this.onMetadataItemPress=(e,t,a)=>{this.state.selectedMetadataItemEntityID!==e||this.state.selectedMediaIndex!==t||this.state.selectedMediaItemRow!==a?this.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:a,selectedMediaItemHeight:140}):this.setState(zot)},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.onPrevPress=()=>{var e,{selectedMetadataItemEntityID:t,selectedMediaIndex:a,selectedMediaItemRow:i}=this.state,{programs:r}=this.props.channels[i],n=r.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===a)-1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=r[n])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),n<=1&&this.props.dispatchNavigateTimeBack()},this.onNextPress=()=>{var e,{selectedMetadataItemEntityID:t,selectedMediaIndex:a,selectedMediaItemRow:i}=this.state,{programs:r}=this.props.channels[i],n=r.findIndex(e=>e.metadataItemEntityID===t&&e.mediaIndex===a)+1,{metadataItemEntityID:s,mediaIndex:o}=null!=(e=r[n])?e:{};s&&this.setState({selectedMetadataItemEntityID:s,selectedMediaIndex:o}),n>=r.length-1&&this.props.dispatchNavigateTimeForward()},this.onDetailRowMeasure=({height:e})=>{this.setState({selectedMediaItemHeight:e})},this.renderCell=e=>{var{serverEntityID:t,providerEntityID:a,columnTimes:i,columnWidth:r,channels:n,isPending:s,onRecordPress:o}=this.props,{selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d}=this.state,u=n[e.cellIndex];return u?Lot(Dot,tp()({},e,{className:Aot.a.gridRowCell,rowClassName:Aot.a.gridRow,channel:u,serverEntityID:t,providerEntityID:a,selectedMetadataItemEntityID:l,selectedMediaIndex:c,selectedMediaItemRow:d,columnTimes:i,columnWidth:r,isFetching:s,onMetadataItemPress:this.onMetadataItemPress,onNextPress:this.onNextPress,onPrevPress:this.onPrevPress,onDetailRowMeasure:this.onDetailRowMeasure,onRecordPress:o})):null},this._updateTimeout=null,this.state=zot}componentDidMount(){this._updateProgress()}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(e){Ep(this.props.columnTimes,e.columnTimes)||this._updateProgress()}_resetUpdateTimeout(){this._updateTimeout&&window.clearTimeout(this._updateTimeout);var e=6e4-Date.now()%6e4;this._updateTimeout=window.setTimeout(this._updateProgress,e)}render(){var{className:e,serverEntityID:t,providerEntityID:a,viewportWidth:i,viewportHeight:r,columnTimes:n,channels:s,isCloudServer:o,isEmpty:l,showSpinner:c,showError:d}=this.props,u=o?"uniqueId":"identifier";return Uu()("div",{className:e},void 0,c||d||l?null:Uu()(YH,{className:Aot.a.banner,serverEntityID:t,providerEntityID:a}),c||d||l?null:Uu()(Not,{className:Aot.a.timeline,columnTimes:n}),d?Uu()(cst,{className:Aot.a.innerEmptyPage,title:Object(Ze.default)("There was an error loading channels")}):null,c?Uu()(xH,{className:Aot.a.innerEmptyPage},void 0,Uu()(Xh,{label:Object(Ze.default)("Loading channels")})):null,c||d||!l?null:Uu()(ost,{serverEntityID:t,providerEntityID:a}),c||d||l?null:Uu()(M$,{className:Aot.a.gridContent,scrollerClassName:Aot.a.gridInnerContent,keyPropName:u,items:s,scrollDirection:"vertical",viewportWidth:i,viewportHeight:r,size:s.length,layout:ast({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure}))}}Uot.defaultProps={className:Aot.a.gridContainer,columnTimes:[],isCloudServer:!1};var Vot=Uot;var Bot={dispatchUpdateAiredProgress:ube,dispatchNavigateTimeForward:lbe,dispatchNavigateTimeBack:cbe},Fot=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,vne(),(e,t={})=>{var{isPending:a=!0,isPopulated:i=!1,metadataItems:r=[],error:n}=t,s=!!a&&!i&&!n,o=!!n,l=i&&!a&&!n&&0===r.length;return Object.assign({},e,{isPending:a,isEmpty:l,showSpinner:s,showError:o})})}),Bot)(Vot),Hot=a("UcyC"),_ot=Object(Pa.a)("provider/providerSettings/fetchProviderSettings"),Qot=Object(Pa.a)("provider/providerSettings/fetchProviderSettingSelectOptions"),Wot=Object(Pa.a)("provider/provderSettings/clearProviderSettingFetchError"),Got=Object(Pa.a)("provider/providerSettings/fetchProviderSettingLocationOptions"),Yot=Object(Pa.a)("provider/providerSettings/populateProviderSettingLocationOptions"),Kot=Object(Pa.a)("provider/providerSettings/fetchProviderSettingLineupChannels"),qot=Object(Pa.a)("provider/providerSettings/populateProviderSettingLineupChannels"),Zot=Object(Pa.a)("provider/providerSettings/fetchProviderSettingRecentChannelsInGrid"),Xot=Object(Pa.a)("provider/providerSettings/populateProviderSettingRecentChannelsInGrid"),Jot=Object(Pa.a)("provider/providerSettings/updateProviderSetting"),$ot=Object(Pa.a)("provider/providerSettings/clearProviderSettingUpdateError"),elt=Object(Pa.a)("provider/providerSettings/populateProviderSettingOptions");function tlt(e,t){return Object(Ta.j)(e,t).get("features").get(Ot.p)}function alt(e,t){return tlt(e,t).get("settings").get(t.settingID)}function ilt(e,t){switch(e.get("type")){case"lineup":var a=e.get("lineup"),i=new Hot.a(t.map(e=>{var t=a.findWhere({id:e.id});return t.set({hidden:e.hidden}),t}));e.set("lineup",i);break;case"location":var r=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:r.get("title"),postalCode:t.postalCode});break;case"select":D.a.each(t,(t,a)=>{e.get("options").get(a).set({selected:t})}),e.set("selectedCount",D.a.values(t).filter(e=>e).length);break;default:e.set("value",t[e.id])}}function rlt(e,t,a){var i=D.a.mapObject(t,(e,t)=>!0===e?"1":!1===e?"0":e),r=_.join(D.a.result(e,"url"),{prefs:i}),n=a.getXHROptions(r,{type:"PUT"});return T.a.ajax(n).then(()=>{ilt(e,t)})}var nlt={"provider/providerSettings/fetchProviderSettings":Object(Oa.a)({key:"settings",getModel:tlt}),"provider/providerSettings/fetchProviderSettingSelectOptions":Object(Oa.a)({key:"options",getModel:alt}),"provider/providerSettings/fetchProviderSettingLocationOptions":Object(Oa.a)({key:"locations",getModel:alt}),"provider/providerSettings/populateProviderSettingLocationOptions":Object(ja.a)({key:"locations",fetchActionCreator:Got,getModel:alt}),"provider/providerSettings/fetchProviderSettingLineupChannels":Object(Oa.a)({key:"lineup",getModel:alt}),"provider/providerSettings/populateProviderSettingLineupChannels":Object(ja.a)({key:"lineup",fetchActionCreator:Kot,getModel:alt}),"provider/providerSettings/fetchProviderSettingRecentChannelsInGrid":Object(Oa.a)({key:"recentChannelsInGrid",getModel:alt}),"provider/providerSettings/populateProviderSettingRecentChannelsInGrid":Object(ja.a)({key:"recentChannelsInGrid",fetchActionCreator:Zot,getModel:alt}),"provider/providerSettings/updateProviderSetting"(e,t){var{settingID:a,values:i}=t,r=Object(Ta.j)(e,t),n=r.get("features").get(Ot.p),s=e.get("ui").get("providerSettingsPage"),o=n.get("settings").get(a);s.set({isUpdatePending:!0,updateError:null});var l=[];if("group"===o.get("type"))o.get("settings").forEach(e=>{var t={[e.id]:i[e.id]};l.push(rlt(e,t,r))});else if("lineup"===o.get("type")){var c=D.a.result(o,"url"),d=r.getXHROptions(c,{type:"PUT",contentType:"application/json",data:JSON.stringify(i)}),u=T.a.ajax(d).then(()=>{ilt(o,i)});l.push(u)}else"int"===o.get("type")?(Object.keys(i).forEach(e=>{i[e]=parseInt(i[e],10)}),l.push(rlt(o,i,r))):l.push(rlt(o,i,r));T.a.when(...l).then(()=>{s.set({isUpdatePending:!1,updateError:null})},e=>{s.set({isUpdatePending:!1,updateError:Object(vw.a)(e)})})},"provider/providerSettings/clearProviderSettingUpdateError"(e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},"provider/provderSettings/clearProviderSettingFetchError"(e,t){alt(e,t).set({optionsError:null,locationsError:null})},"provider/providerSettings/populateProviderSettingOptions"(e,t,a){var i=alt(e,t),r=i.get("type");if("select"===r)Object(wa.a)(()=>{a(Qot(t))});else if("location"===r)a(Yot(t));else if("lineup"===r){var n=i.get("id");n===ICe.a?a(qot(t)):n===ICe.d&&a(Xot(t))}}},slt=Ed.a.createElement,{useEffect:olt}=Ed.a;function llt(e,t){return e.find(({id:e})=>e===t)||{}}var clt={dispatchFetchProviderSettings:_ot,dispatchFetchProviderSettingRecentChannelsInGrid:Zot,dispatchUpdateAiredProgress:ube,dispatchNavigateTimeForward:lbe,dispatchNavigateTimeBack:cbe};function dlt(e){var{providerEntityID:t,numRecentChannelsInGrid:a,isSettingsPending:i,dispatchFetchProviderSettings:r,dispatchFetchProviderSettingRecentChannelsInGrid:n}=e,s=Je()(e,["providerEntityID","numRecentChannelsInGrid","isSettingsPending","dispatchFetchProviderSettings","dispatchFetchProviderSettingRecentChannelsInGrid"]);return olt(()=>{r({providerEntityID:t})},[r,t]),olt(()=>{!i&&a>0&&n({providerEntityID:t,settingID:ICe.d})},[n,i,a,t]),Uu()("div",{},void 0,slt(Vot,tp()({},s,{providerEntityID:t})))}dlt.defaultProps={numRecentChannelsInGrid:0};var ult=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,(e,{channels:t})=>t,vne(),bbe(Ot.p),(e,t,a={},i)=>{var{isPending:r=!0,isPopulated:n=!1,metadataItems:s=[],error:o}=a,{settings:l,isSettingsPending:c=!0,isSettingsPopulated:d=!1,settingsError:u}=i,p=llt(l,ICe.d),h=llt(l,ICe.b),m=h?h.value:0,{recentChannelsInGrid:v=[],isRecentChannelsInGridPending:g=!0,isRecentChannelsInGridPopulated:y=!1,recentChannelsInGridError:f}=p,b=r&&!n&&!o||c&&!d&&!u||m>0&&g&&!y&&!f,I=!!f||!!u||!!o,S=n&&!r&&!o&&0===s.length,M=[...t];if(m>0&&y){var C=v.reduce((e,a)=>{var i=t.find(e=>e.identifier===a.id);return i&&e.push(Object.assign({},i,{isRecent:!0})),e},[]);M.unshift(...C)}return M.forEach((e,t)=>(e.uniqueId=t,e)),Object.assign({},e,{channels:M,numRecentChannelsInGrid:m,isCloudServer:!0,isPending:r,isSettingsPending:c,isEmpty:S,showSpinner:b,showError:I})})}),clt)(dlt),plt=a("CytX"),hlt=a.n(plt),mlt=Ed.a.createElement,{Fragment:vlt,useCallback:glt,useState:ylt}=Ed.a;var flt=function(e){var{metadataListEntityID:t,serverEntityID:a,providerEntityID:i,channels:r,isCloudServer:n,onMeasure:s}=e,o=ylt({}),l=o[1],c=o[0],d=w8(),u=glt(e=>{l(e),d.onOpen()},[d,l]),p=n?ult:Fot;return Uu()(vlt,{},void 0,mlt(hOe,tp()({},c,{isOpen:d.isOpen,onModalClose:d.onClose})),Uu()(p$,{className:hlt.a.measureContainer,onMeasure:s},void 0,Uu()(p,{className:hlt.a.gridContent,metadataListEntityID:t,serverEntityID:a,providerEntityID:i,channels:r,onRecordPress:u})))},{Component:blt}=Ed.a,Ilt=parseInt(GU.channelGridChannelOverflowWidth,10),Slt=parseInt(GU.channelGridChannelColumnWidth,10),Mlt=parseInt(GU.channelGridTitleColumnWidth,10),Clt=Object(_u.a)(e=>e.ui.channelGridPage,$nt(),(e,t)=>{var{columnTimes:a}=e;return{columnTimes:a,isCloudServer:t}}),Dlt={dispatchSetViewportSize:dbe,dispatchResetStartTime:obe};var Plt=Object(Fu.b)(Clt,Dlt)(class extends blt{constructor(e,t){super(e,t),this._updateGrid=()=>{var{dispatchResetStartTime:e}=this.props;e(),this._resetTimeout()},this.onMeasure=e=>{var{isMeasured:t,measuredSize:a}=this.state;t&&Ep(a,e)||this.setState({isMeasured:!0,measuredSize:e},()=>{this.setViewportSize(e)})},this._updateTimeout=null,this.state={isMeasured:!1,measuredSize:null}}componentDidMount(){this._resetTimeout()}componentDidUpdate(e){var{metadataListEntityID:t,columnTimes:a}=this.props;t===e.metadataListEntityID&&Ep(a,e.columnTimes)||this._resetTimeout()}componentWillUnmount(){this._updateTimeout&&window.clearTimeout(this._updateTimeout)}_resetTimeout(e=this.props){var{columnTimes:t}=e;if(t.length){this._updateTimeout&&(window.clearTimeout(this._updateTimeout),this._updateTimeout=null);var a=Math.floor(Date.now()/1e3),i=7200;if(t[0]<=a&&t[1]>=a)i=t.find(e=>a<e)-a;this._updateTimeout=window.setTimeout(this._updateGrid,1e3*i)}}setViewportSize(e){var{dispatchSetViewportSize:t}=this.props;t({width:e.width,height:e.height,overflowWidth:Ilt,channelWidth:Slt,channelTitleWidth:Mlt}),this._resetTimeout()}render(){var{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,channels:i,isCloudServer:r}=this.props;return(Uu()(flt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,channels:i,isCloudServer:r,onMeasure:this.onMeasure}))}});function Olt(){return Object(_u.a)(kS(),(e={})=>[{key:"/"+e.identifier+"/grid?channel.value=1",filter:"hdonly",filterKey:"channel.value",filterType:"boolean",title:Object(Ze.default)("HD Channels Only")}])}var jlt=a("+9Fr"),Tlt=a.n(jlt),wlt=Ed.a.createElement;function Elt(e){return wlt(QF,e)}Elt.defaultProps={className:Tlt.a.badge};var Nlt=Elt,xlt=a("YeIk"),Alt=a.n(xlt);var Llt=Object(Fu.b)((function(){return Object(_u.a)(_7e(),e=>({isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""}))}))((function(e){var{className:t,isEPGRefreshing:a,epgActivityProgress:i,epgActivityTitle:r}=e;return a?Uu()("span",{className:t},void 0,r," (",i,"%)",Uu()(Xh,{className:Alt.a.refreshingSpinner,size:jp})):null}));function klt(e){if(!e)return"";var t=e instanceof Date?e:new Date(e),a=Object(zy.a)(t);return Object(ef.a)(t,new Date)?Object(Ze.default)("Today"):cIe(a)}var{Component:Rlt}=Ed.a;var zlt=class extends Rlt{constructor(...e){super(...e),this.onPress=()=>{var{option:e,onPress:t}=this.props;t(e)}}render(){var{className:e,option:t,isDisabled:a,isSelected:i}=this.props;return(Uu()(iy,{className:e,isDisabled:a,isSelected:i,onPress:this.onPress},void 0,t.title))}},Ult=Uu()(TJ,{});var Vlt=function(e){var{className:t,dateOptions:a,onSelectDate:i,onSelectNow:r}=e;return(Uu()(rh,{className:t,autoScroll:!0},void 0,Uu()(iy,{onPress:r},void 0,Object(Ze.default)("Now")),Ult,a.map((e,t)=>Uu()(zlt,{option:e,isSelected:e.isSelected,onPress:i},t,e.title))))},Blt=a("Orh4"),Flt=a("XQXX"),Hlt=a("CxvL"),_lt=a("voa6"),Qlt=a.n(_lt),Wlt=Uu()(TJ,{});var Glt=function(e){var{className:t,timeOptions:a,selectedDateOption:i,onDeselectDateOption:r,onSelectTime:n}=e;return(Uu()("div",{className:t},void 0,Uu()("div",{className:Qlt.a.header},void 0,Uu()(Vp,{onPress:r},void 0,Uu()(oO,{className:Qlt.a.backIcon,"aria-label":Object(Ze.default)("Back")})),Uu()("span",{className:Qlt.a.headerText},void 0,i.title)),Wlt,a.map((e,t)=>Uu()(zlt,{option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:n},t,e.title))))};function Ylt(e,t){return Object(Hlt.a)(Object(Flt.a)(new Date(e),t))}var Klt=Object(Fu.b)((function(){var e=[{startHour:0,title:Object(Ze.default)("Midnight")},{startHour:4,title:Object(Ze.default)("Early Morning")},{startHour:8,title:Object(Ze.default)("Morning")},{startHour:12,title:Object(Ze.default)("Afternoon")},{startHour:17,title:Object(Ze.default)("Primetime")},{startHour:22,title:Object(Ze.default)("Late Night")}];return Object(_u.a)(e=>e.ui.channelGridPage,(e,{selectedDateOption:t})=>t,(t,a={})=>{if(!a)return{timeOptions:[]};var i=Object(Xc.a)(t.startTime),r=Object(Xc.a)(a.value),n=new Date;return{timeOptions:e.map((t,a)=>{var s=e[a+1],o=Ylt(r,t.startHour),l=Ylt(r,s?s.startHour:24),c=Object(iX.a)(n,l),d=Object(Blt.a)(i,o)>=0&&Object(Blt.a)(i,l)<0,u=Object(iX.a)(o,n)?Object(zy.a)(n):Object(zy.a)(o);return{title:Object(Blt.a)(n,o)>=0&&Object(Blt.a)(n,l)<0?Object(Ze.default)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:u,isEnabled:c,isSelected:d}})}})}))(Glt),qlt=a("1cAJ"),Zlt=a.n(qlt),{Component:Xlt}=Ed.a,Jlt={scrollDirection:Jp,className:Zlt.a.listContainer};var $lt=class extends Xlt{constructor(e,t){super(e,t),this.onSelectDate=e=>{this.setState({showTimeOptions:!0,activeDateOption:e})},this.onSelectNow=()=>{var e=Math.floor(Date.now()/1e3);this.onSelectTime({value:e})},this.onSelectTime=e=>{this.setState({showTimeOptions:!1}),this.props.dispatchSetStartTime(e.value),this.props.onMenuClose()},this.onHideOptions=e=>{this.setState({showTimeOptions:!1})},this.state={showTimeOptions:!1,activeDateOption:e.dateOptions.find(e=>e.isSelected)}}render(){var{target:e,isOpen:t,dateOptions:a,onMenuClose:i}=this.props,{showTimeOptions:r,activeDateOption:n}=this.state,s=(Zlt.a.list||"")+" "+(!!r&&Zlt.a.showTimeOptions||"");return Uu()(Fg,{target:e,isOpen:t,size:Tp,scrollerProps:Jlt,onMenuClose:Ib(this.onHideOptions,i)},void 0,Uu()(Vlt,{className:s,dateOptions:a,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),Uu()(Klt,{className:s,selectedDateOption:n,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))}};var ect={dispatchSetStartTime:sbe},tct=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,e=>({dateOptions:function(e){for(var t=[],a=Object(Xc.a)(e),i=0;i<8;i++){var r=Object(WT.a)(new Date,i),n=klt(r),s=Object(ef.a)(r,a);t.push({title:n,value:Object(zy.a)(r),isSelected:s})}return t}(e.startTime)}))}),ect)($lt);function act(e,t,a){for(var i=[...e],r=i.length-1;r>=0;r--){var n=i[r],s="boolean"===n.type,o="boolean"===a.type;n&&s!==o||i.splice(r,1)}return i.push(Object.assign({key:t},a)),i}function ict(e,t){if(!e)return!1;var a="string"==typeof t?decodeURIComponent(t):t;return!!D.a.find(e,({value:e})=>Array.isArray(e)?e.indexOf(a)>-1:e===a)}function rct(e,t,a){if(null==a)return e.filter(e=>e.key!==t);for(var i=[...e],r=i.length;r-- >0;){var n=i[r],s=n.key,o=n.value;if(t===s&&a===o)i.splice(r,1);else if(t===s&&Array.isArray(o)){var l=o.indexOf(a);l>-1&&(o.splice(l,1),1===o.length?i.splice(r,1,Object.assign({},n,{value:o[0]})):o.length||i.splice(r,1))}}return i}var nct=function(e){var{typeKey:t,activeFilters:a,activeFilterLabel:i,activeSort:r,filter:n,title:s}=e,o=ict(a.filter(({key:e})=>e===n),"1");return Uu()(iy,{to:NIe({typeKey:t,filters:o?rct(a,n):act(a,n,{value:"1",type:"boolean"}),filterLabel:i,sort:r}),isSelected:o},void 0,s)},sct=a("Vl58"),oct=a.n(sct),{Component:lct}=Ed.a;var cct=class extends lct{constructor(...e){super(...e),this.onPress=e=>{this.props.onFilterSelect(this.props.filterKey)}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{activeFilters:e,filter:t,title:a,showSpinner:i}=this.props,r=!i&&!!D.a.find(e,({key:e})=>e===t);return Uu()(Gg,{className:r?oct.a.isSelected:void 0,onPress:this.onPress},void 0,Uu()("div",{className:oct.a.menuItemContainer},void 0,Uu()("div",{className:oct.a.menuLabel},void 0,a),i?Uu()(Xh,{className:oct.a.spinner,size:jp}):null,!i&&r?Uu()("div",{className:oct.a.selectedIcon},void 0,Uu()(ey,{"aria-label":Object(Ze.default)("Selected")})):null))}},dct=a("bJXi"),uct=a.n(dct),pct=Uu()(TJ,{}),hct=Uu()(TJ,{});var mct=function(e){var{className:t,typeKey:a,activeFilters:i,activeFilterLabel:r,activeSort:n,filters:s,selectedFilter:o,showSpinner:l,showCustomFilter:c,onFilterSelect:d}=e,u=D.a.groupBy(s,({filterType:e})=>"boolean"===e?e:"other"),p=u.boolean,h=u.other;return Uu()(rh,{className:(t||"")+" "+(uct.a.filtersScroller||""),autoScroll:!0},void 0,Uu()(iy,{to:NIe({typeKey:a,sort:n}),isSelected:D.a.isEmpty(i)},"all",Object(Ze.default)("All")),p?p.map(e=>Uu()(nct,{typeKey:a,activeFilters:i,activeFilterLabel:r,activeSort:n,filter:e.filter,title:e.title},e.filter)):null,h?pct:null,h?h.map(e=>{var t=!(!o||o.filter!==e.filter);return(Uu()(cct,{typeKey:a,activeFilters:i,activeSort:n,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:d},e.filter))}):null,c?hct:null,c?Uu()(iy,{to:NIe({typeKey:a,customFilter:!0})},"customFilter",Object(Ze.default)("Custom Filter...")):null)};var vct=function(e){var{filters:t,target:a,isOpen:i,activeFilters:r,activeFilterLabel:n,onMenuClose:s}=e;return(Uu()(Fg,{target:a,isOpen:i,size:wp,onMenuClose:s},void 0,Uu()(mct,{activeFilters:r,activeFilterLabel:n,showSpinner:!1,showCustomFilter:!1,filters:t,onPress:s})))},gct=Object(_u.c)({filters:Olt()}),yct={dispatchSetStartTime:sbe},fct=Object(Fu.b)(gct,yct)(vct),{Component:bct,Fragment:Ict}=Ed.a,Sct=Uu()(Rrt,{});var Mct=class extends bct{constructor(e,t){super(e,t),this.onDatePickerMenuButtonPress=e=>{this.setState({isDatePickerMenuOpen:!this.state.isDatePickerMenuOpen})},this.onDatePickerMenuClose=()=>{this.setState({isDatePickerMenuOpen:!1})},this.onFilterMenuButtonPress=e=>{this.setState({isFilterMenuOpen:!this.state.isFilterMenuOpen})},this.onFilterMenuClose=()=>{this.setState({isFilterMenuOpen:!1})},this.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},this._datePickerMenuButtonID=Mp(),this._filterMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedFilterTitle:i,datePickerTitle:r,showEPGActivity:n,activeFilters:s,activeFilterLabel:o,totalSize:l}=this.props,{isDatePickerMenuOpen:c,isFilterMenuOpen:d}=this.state;return Uu()(Ict,{},void 0,Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),Uu()(dnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:ea}),Sct),Uu()(P1e,{},void 0,Uu()(mnt,{},void 0,Uu()(PJ,{id:this._datePickerMenuButtonID,hasMenu:!0,isMenuOpen:c,onPress:this.onDatePickerMenuButtonPress},void 0,r),Uu()(tct,{target:this._datePickerMenuButtonID,isOpen:c,onMenuClose:this.onDatePickerMenuClose}),Uu()(PJ,{id:this._filterMenuButtonID,hasMenu:!0,isMenuOpen:d,onPress:this.onFilterMenuButtonPress},void 0,i),Uu()(fct,{target:this._filterMenuButtonID,isOpen:d,activeFilters:s,activeFilterLabel:o,onMenuClose:this.onFilterMenuClose}),Uu()(Nlt,{},void 0,l)),n?Uu()(Art,{},void 0,Uu()(Llt,{serverEntityID:e,providerEntityID:t})):null))}};var Cct=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,_7e(),Object(_u.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,Olt(),(e,t,a)=>{if(!e||!e.length)return Object(Ze.default)("All Channels");if(e&&1===e.length){var i=e[0],r=a.find(e=>e.filter===i.key);if(r)return r.title}return t||Object(Ze.default)("Filtered")}),(e,t,a)=>({datePickerTitle:klt(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:a}))}))(Mct);var Dct=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,sourceDirectory:r,activeFilters:n,activeFilterLabel:s,channels:o}=e;return(Uu()(vGe,{metricsContext:OAe(Rd.I,_t.DVR_GUIDE_PIVOT)},void 0,Uu()(tJ,{metricsPage:Rd.I,scrollDirection:Jp},void 0,Uu()(Cct,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,activeFilters:n,activeFilterLabel:s,totalSize:o.length}),Uu()(Plt,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,channels:o}))))};var Pct=function(e){return!!e&&parseInt(e,10)>480};function Oct(e,t,a=[],i){var r=e[0],n=e[e.length-1],s=function(e,t,a,i){return e.reduce((e,r)=>r&&r.Media?(r.Media.forEach((n,s)=>{var o,{channelIdentifier:l,channelThumb:c,channelTitle:d,channelShortTitle:u,channelVcn:p,channelCallSign:h,beginsAt:m,endsAt:v,videoResolution:g}=n;if(i&&!Pct(g))return e;if(e[l]||(e[l]={identifier:l,thumb:c,title:u||d,vcn:p,callSign:h||(o=d,o?o.split(" ")[1]:""),programs:[]}),m<a&&v>t){var y={beginsAt:Math.max(m,t),endsAt:Math.min(v,a),metadataItemEntityID:r.entityID,mediaIndex:s};e[l].programs.push(y)}}),e):e,{})}(t,r,n,i);return a.forEach(e=>{s[e.channelIdentifier]||(s[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})}),function(e,t,a,i){return Object.values(e).map(e=>(e.programs=function(e,t,a){var i=t,r=[];e.sort((e,t)=>e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0);for(var n=0;n<e.length;n++){var s=e[n];if(s.beginsAt>i){var o={beginsAt:i,endsAt:s.beginsAt};r.push(o)}r.push(s),i=s.endsAt}if(i<a){var l={beginsAt:i,endsAt:a};r.push(l)}return r}(e.programs,t,a),e))}(s,r,n)}var jct=Ed.a.createElement,{Component:Tct}=Ed.a;var wct={dispatchInitMetadataList:nbe,dispatchResetStartTime:obe,dispatchResetMetadataList:jx,dispatchPopulateChannelPrograms:pbe,dispatchChangeQuickSearchSettings:uee};var Ect=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.channelGridPage,Cbe(),Mbe(),kS(),K8e(),_7e(),Object(_u.a)(e=>e.ui.channelGridPage,tst(),(e,t)=>{var{channelsList:a,isChannelsListPopulated:i,isChannelsListPending:r,channelsListError:n}=e;return!i||r||n?[]:t?a.filter(e=>!!e.tagValue):a}),tst(),$nt(),(e,t,a,i,r,n,s,o,l)=>{var c=Oct(e.columnTimes,t,s,o);return l||(c=c.sort((e,t)=>mk(e.vcn||e.identifier,t.vcn||t.identifier))),{metadataListEntityID:e.metadataList,containerKey:a,sourceDirectory:r,channels:c,columnTimes:e.columnTimes,providerIdentifier:i.identifier,isRefreshing:!!n}})}),wct)(class extends Tct{componentDidMount(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentDidUpdate(e){var{providerIdentifier:t,containerKey:a,columnTimes:i,isRefreshing:r}=this.props;a&&a!==e.containerKey||r!==e.isRefreshing?this._populate():Ep(i,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){var{metadataListEntityID:e}=this.props;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)}_populate(){var{serverEntityID:e,providerEntityID:t,containerKey:a,dispatchInitMetadataList:i,dispatchResetStartTime:r,dispatchPopulateChannelPrograms:n}=this.props;r(),i({containerKey:a,serverEntityID:e,providerEntityID:t}),n()}_setSearchProviderIdentifier(e){var{dispatchChangeQuickSearchSettings:t,serverEntityID:a,providerEntityID:i}=this.props;t({serverEntityID:a,providerEntityID:i,providerIdentifier:e,directoryID:null})}render(){var e=this.props,t=Je()(e,["dispatchInitMetadataList"]);return(jct(Dct,t))}}),Nct=Object(_u.c)({metadataListEntityID:e=>e.ui.channelGridPage.metadataList,directoryKey:Object(_u.a)((e,{selectedDirectory:t})=>t,e=>{if(e){var t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}})});var xct=Jnt(Ect,(function(e){var t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}}),(function(e,t){e(rbe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(mbe())})),Act=Object(Fu.b)(Nct)(xct),Lct=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,r=Object(pt.a)(ht.n,t),n=Object(pt.a)(ht.k,a,r),s=Uu()(qnt,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,directoryKey:ea},void 0,Uu()(Act,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,directoryKey:ea,activeFilters:ite(i.filters),activeFilterLabel:i.filterLabel}));return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,selectedSourceDirectoryID:i.source}),t===pw.a?Uu()(Irt,{providerEntityID:n},void 0,s):Uu()(tit,{serverEntityID:r},void 0,s)))}}),kct=xe.a.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:Ae.a.string,parentKey:Ae.a.string,grandparentKey:Ae.a.string,title:Ae.a.string,parentTitle:Ae.a.string,grandparentTitle:Ae.a.string,type:Ae.a.string,thumb:Ae.a.string,parentThumb:Ae.a.string,grandparentThumb:Ae.a.string,grandparentArt:Ae.a.string,index:Ae.a.integer,parentIndex:Ae.a.integer,originallyAvailableAt:Ae.a.string,viewedAt:Ae.a.integer,accountID:Ae.a.integer,deviceID:Ae.a.integer},derivedAttrs:{itemKey(){return this.get("key")},id(){return this.cid}}}),Rct=ke.a.extend({name:"PlayHistoryListItemCollection",context:["server"],model:kct}),zct="viewedAt:desc";xe.a.extend({mixins:[nt.a],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:ct.a,url(){var e=this.filters.reduce((e,t)=>(e[t.key]=t.value,e),{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);var t=_.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:Ae.a.integer,currentPageSize:Ae.a.integer,populatedRange:Ae.a.object},syncedAttrs:{totalSize:Ae.a.integer},syncedRelations:{items:{relationClass:Rct,rootPropertyName:"Metadata",setOptions:e=>({remove:e.remove,at:e.at})}},defaults:()=>({populatedRange:{start:0,end:0,size:0}}),initialize(){this.startPopulatedRangeMonitor()}});function Uct(e,t){return!!e&&e.some(e=>e.key===t)}var Vct=a("1bIl"),Bct=a.n(Vct),Fct=({className:e,playHistoryItem:t})=>{var a=LP(t);return(Uu()("span",{className:e},void 0,Uu()("div",{className:Bct.a.titleContainer},void 0,Uu()("span",{className:Bct.a.title,title:a},void 0,a))))},Hct=(e,t)=>Object(_u.a)(TP(e),e=>e.accounts.find(e=>e.id===t)),{useMemo:_ct}=Ed.a,Qct=({className:e,playHistoryItem:t})=>{var[a]=wv(),{accountID:i}=t,r=_ct(()=>Hct(a.machineIdentifier,i),[i,a.machineIdentifier]),n=Object(Fu.d)(r);return n?Uu()("span",{className:e,title:n.name},void 0,n.name):Uu()("span",{className:e},void 0,Object(Ze.default)("Unknown User"))};var Wct,Gct=Object(uv.a)((function(e){return Object(_u.a)(Ub,t=>t.serverDevices[e])})),Yct=({className:e,playHistoryItem:t})=>{var[a]=wv(),{deviceID:i}=t,r=Object(Fu.d)(Gct(a.machineIdentifier)).devices.find(e=>e.id===i);return r?Uu()("span",{className:e,title:r.platform},void 0,r.platform):Uu()("span",{className:e},void 0,Object(Ze.default)("Unknown"))},Kct=({className:e,playHistoryItem:t})=>{var[a]=wv(),{deviceID:i}=t,r=Object(Fu.d)(Gct(a.machineIdentifier)).devices.find(e=>e.id===i);return r?Uu()("span",{className:e,title:r.name},void 0,r.name):Uu()("span",{className:e},void 0,Object(Ze.default)("Unknown"))},qct=({className:e,playHistoryItem:t})=>{var{type:a}=t,i=Object(Wt.u)(a);return i?Uu()("span",{className:e,title:i.title},void 0,i.title):null},Zct=({className:e,playHistoryItem:t})=>{var{viewedAt:a}=t,i=Object(Fu.d)(_be),r=Object(vle.default)(1e3*a,i+" MMM d, yyyy");return Uu()("span",{className:e,title:r},void 0,r)};!function(e){e.LibrarySectionID="librarySectionID",e.AccountID="accountID",e.MetadataItemID="metadataItemID",e.ViewedAt="viewedAt"}(Wct||(Wct={}));var Xct={key:"user",title:()=>Object(Ze.default)("User"),component:Qct,style:{flex:"1 1 250px"}},Jct={key:"type",title:()=>Object(Ze.default)("Type"),component:qct,style:{flex:"0 1 120px"}},$ct={key:"title",title:()=>Object(Ze.default)("Title"),component:Fct,style:{flex:"2 0 350px"}},edt={key:"player",title:()=>Object(Ze.default)("Player"),component:Kct,style:{flex:"1 1 150px"}},tdt={key:"platform",title:()=>Object(Ze.default)("Platform"),component:Yct,style:{flex:"1 1 150px"}},adt=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:()=>Object(Ze.default)("Played"),component:Zct,style:{flex:"1 1 150px"}}];var idt=IXe({rowHeight:parseInt(YU.a.tableRowHeight,10),overscan:20}),rdt=Object(_u.a)(Ny,e=>e.playHistory),ndt=a("OhLM"),sdt=a.n(ndt),odt=Ed.a.createElement;function ldt(e){var{className:t=sdt.a.title,cellClassName:a=sdt.a.tableCell,activeCellClassName:i=sdt.a.activeTableCell,style:r,component:n,isActiveSort:s}=e,o=Je()(e,["className","cellClassName","activeCellClassName","style","component","type","isActiveSort"]);return(Uu()("div",{className:s?i:a,style:r},void 0,odt(n,tp()({},o,{className:t}))))}var cdt,ddt,udt=a("ZZ6f"),pdt=a.n(udt),hdt=({style:e,cellIndex:t})=>Uu()("div",{className:t%2?pdt.a.alternateLoadingItem:pdt.a.loadingItem,style:e},void 0,Object(Ze.default)("Loading...")),mdt=a("QZ2m"),vdt=a.n(mdt),gdt=e=>{var t,{item:a,activeTableColumns:i}=e,r=Je()(e,["item","activeTableColumns"]),[n]=wv(),s=WO(r);if(null==a?void 0:a.key){var o=i.some(e=>"title"===e.key),l=a.type===Wt.p?a.parentKey:a.key;t=o?lu(n,{isLibraryProvider:!0},l):void 0}return a?Uu()("div",{className:r.cellIndex%2?vdt.a.alternateItem:vdt.a.item,style:s.style},void 0,Uu()(qv,{className:vdt.a.columns,"aria-label":a.title,to:t,isDisabled:!t},void 0,i.map(({style:e,component:t},i)=>Uu()(ldt,{style:e,component:t,playHistoryItem:a},i)))):Uu()(hdt,{style:s.style,cellIndex:r.cellIndex})},ydt=a("hrUx"),fdt=a.n(ydt),bdt=Ed.a.createElement,{useCallback:Idt,useMemo:Sdt}=Ed.a,Mdt=Uu()(IGe,{}),Cdt=Uu()(vp,{},void 0,Uu()(bp,{})),Ddt=({activeTableColumns:e,activeFilters:t,activeSort:a,isPlayHistorySupported:i})=>{var r=Object(Fu.c)(),[n]=wv(),s=Object(Fu.d)(rdt),o=Object(Fu.d)(Gct(n.machineIdentifier)),{items:l,totalSize:c,isPopulated:d,error:u}=s,{isPopulated:p,error:h}=o,m=Idt(e=>{r(as.actions.fetchRangeRequested(Object.assign({},e,{server:n,filters:t,sort:a})))},[r,n,t,a]),v=Sdt(()=>t=>bdt(gdt,tp()({},t,{activeTableColumns:e})),[e]);return i?d&&c&&(p||h)?Uu()(BO,{className:fdt.a.playHistoryListPageContent,items:l,totalSize:c,layout:idt,cellComponentFactory:v,onPageRequest:m}):d&&!c?Uu()(vp,{title:Object(Ze.default)("Nothing to see here"),description:Object(Ze.default)("Snuggle up on the couch and play something!")}):u?Mdt:Cdt:Uu()(bGe,{title:Object(Ze.default)("Update your {productName}",{productName:"Plex Media Server"}),description:Uu()(qv,{kind:Bv.Primary,to:si(n.machineIdentifier,"settings","general")},void 0,Object(Ze.default)("Play History requires {productName} {version} or higher",{productName:"Plex Media Server",version:Ka.playHistory}))})};function Pdt(e,t,a){var i=[...e],r=i.findIndex(e=>e.key===t),n=-1===r?0:r,s=Object.assign({key:t},a);return-1===r?i.push(s):i.splice(n,1,s),i}function Odt(e,t=window.location.hash){var a=function(e){if(cdt===e)return ddt;var t=e.split("?"),a=t.length>1?t[1]:void 0,i=a?_.parseParams(a):{};return cdt=e,ddt={url:t[0],params:i}}(t);return _.join(a.url,Object.assign({},a.params,{filters:rte(e.filters),activeTimePeriod:e.activeTimePeriod,sort:e.sort}))}var{Fragment:jdt,useCallback:Tdt,useMemo:wdt}=Ed.a,Edt=({activeFilters:e,activeTimePeriod:t,activeSort:a})=>{var[i]=wv(),{menuButtonID:r,isMenuOpen:n,onMenuButtonPress:s,onMenuClose:o}=ly(),l=wdt(()=>({key:"",title:Object(Ze.default)("All Users")}),[]),c=Object(Fu.d)(wP(i.machineIdentifier)),d=wdt(()=>c.reduce((e,t)=>(e.push({key:String(t.id),title:t.name}),e),[l]),[c,l]),u=wdt(()=>{var t=e.find(e=>"accountID"===e.key);return t?d.find(e=>e.key===t.value):l},[e,d,l]),p=Tdt(i=>{var r;r=i?Pdt(e,Wct.AccountID,{value:String(i),type:"other"}):rct(e,Wct.AccountID),window.location.hash=Odt({filters:r,activeTimePeriod:t,sort:a})},[e,t,a]);return u&&d.length?Uu()(jdt,{},void 0,Uu()(PJ,{id:r,hasMenu:!0,isMenuOpen:n,onPress:s},void 0,u.title),Uu()(Fg,{target:r,isOpen:n,onMenuClose:o},void 0,d.map(e=>Uu()(iy,{value:e.key,isSelected:u.key===e.key,onSelect:p},e.key,e.title)))):null};var Ndt=Object(uv.a)((function(e,t){return Object(_u.a)(bv(e,t),e=>e.filter(e=>{var t=e.type?Wt.u(e.type):null;return t&&t.typeString!==Wt.m}))})),{Fragment:xdt,useCallback:Adt,useMemo:Ldt}=Ed.a,kdt=({activeFilters:e,activeTimePeriod:t,activeSort:a})=>{var[i,r]=wv(),{menuButtonID:n,isMenuOpen:s,onMenuButtonPress:o,onMenuClose:l}=ly(),c=Object(Fu.d)(Ndt(i.machineIdentifier,r.identifier)),d=Ldt(()=>({key:"all",title:Object(Ze.default)("All Libraries")}),[]),u=Ldt(()=>c.reduce((e,t)=>(e.push({key:t.id,title:t.title}),e),[d]),[c,d]),p=Ldt(()=>{var t=e.find(e=>"librarySectionID"===e.key);return t&&u.length?u.find(e=>String(e.key)===t.value):d},[e,u,d]),h=Adt(i=>{var r;r="all"!==i?Pdt(e,Wct.LibrarySectionID,{value:i,type:"other"}):rct(e,Wct.LibrarySectionID),window.location.hash=Odt({filters:r,activeTimePeriod:t,sort:a})},[e,t,a]);return p&&c.length?Uu()(xdt,{},void 0,Uu()(PJ,{id:n,hasMenu:!0,isMenuOpen:s,onPress:o},void 0,p.title),Uu()(Fg,{target:n,isOpen:s,onMenuClose:l},void 0,u.map(e=>Uu()(iy,{value:e.key,isSelected:p.key===e.key,onSelect:h},e.key,e.title)))):null},{Fragment:Rdt,useCallback:zdt,useMemo:Udt}=Ed.a,Vdt=()=>{var[e]=wv(),{menuButtonID:t,isMenuOpen:a,onMenuButtonPress:i,onMenuClose:r}=ly(),n=Object(Fu.d)(Cv),s=Udt(()=>n.reduce((e,t)=>(t.isFullOwnedServer&&t.isConnected&&e.push({key:t.machineIdentifier,title:t.friendlyName}),e),[]),[n]),o=Udt(()=>s.find(t=>t.key===e.machineIdentifier),[e,s]),l=zdt(e=>{window.location.hash=xD(e)},[]);return o?Uu()(Rdt,{},void 0,Uu()(PJ,{id:t,hasMenu:!0,isMenuOpen:a,onPress:i},void 0,o.title),Uu()(Fg,{target:t,isOpen:a,onMenuClose:r},void 0,s.map(e=>Uu()(iy,{value:e.key,isSelected:o.key===e.key,onSelect:l},e.key,e.title)))):null},{Fragment:Bdt,useCallback:Fdt}=Ed.a,Hdt=({activeFilters:e,activeTimePeriod:t=ky.AllTime,activeSort:a})=>{var{menuButtonID:i,isMenuOpen:r,onMenuButtonPress:n,onMenuClose:s}=ly(),o=[ky.Week,ky.Month,ky.NinetyDays,ky.Year,ky.AllTime],l=Fdt(t=>{var i=Pdt(e,Wct.ViewedAt,{value:String(Wy(t)),type:"other"});window.location.hash=Odt({filters:i,activeTimePeriod:t,sort:a})},[e,a]);return Uu()(Bdt,{},void 0,Uu()(PJ,{id:i,hasMenu:!0,isMenuOpen:r,onPress:n},void 0,_y(t)),Uu()(Fg,{target:i,isOpen:r,onMenuClose:s},void 0,o.map(e=>Uu()(iy,{value:e,isSelected:t===e,onSelect:l},e,_y(e)))))},{Fragment:_dt}=Ed.a,Qdt=Object(_u.a)(rdt,e=>e.totalSize),Wdt=Uu()(Vdt,{}),Gdt=({activeFilters:e,activeFilterTitle:t,activeTimePeriod:a,activeSort:i,isPlayHistorySupported:r})=>{var[n]=wv(),s=Object(Fu.d)(Qdt),o=!Uct(e,Wct.MetadataItemID);return Uu()(P1e,{},void 0,Uu()(vJ,{},void 0,Uu()(PJ,{to:xD(n.machineIdentifier)},void 0,Object(Ze.default)("Play History")),t?Uu()(PJ,{},void 0,t):null,o?Wdt:null,r&&o?Uu()(_dt,{},void 0,Uu()(kdt,{activeFilters:e,activeTimePeriod:a,activeSort:i}),Uu()(Edt,{activeFilters:e,activeTimePeriod:a,activeSort:i}),Uu()(Hdt,{activeFilters:e,activeTimePeriod:a,activeSort:i})):null,Uu()(Nlt,{},void 0,s)))};function Ydt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Ydt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Kdt=Ydt;function qdt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}qdt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Zdt=qdt,Xdt=a("ESci"),Jdt=a.n(Xdt),$dt=Ed.a.createElement,eut=e=>{var{className:t=Jdt.a.sortDirectionIcon,isAscending:a=!0}=e,i=Je()(e,["className","isAscending"]);return $dt(a?Kdt:Zdt,tp()({className:t,"aria-label":a?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending")},i))},tut=a("Gopy"),aut=a.n(tut),iut=Ed.a.createElement,rut=e=>{var{className:t=aut.a.tableHeader}=e,a=Je()(e,["className"]);return(iut("div",tp()({},a,{className:t})))},nut=a("c7dm"),sut=a.n(nut),out=Ed.a.createElement,lut=e=>{var{className:t=sut.a.tableHeaderCell,activeClassName:a=sut.a.activeTableHeaderCell,children:i,isActive:r=!1}=e,n=Je()(e,["className","activeClassName","children","isActive"]),s=r?a:t;return out("span",tp()({},n,{className:s}),i)},cut=a("FVT0"),dut=a.n(cut),uut=Ed.a.createElement,put=e=>{var{className:t=dut.a.tableHeaderLink,children:a}=e,i=Je()(e,["className","children"]);return(uut(qv,tp()({},i,{className:t}),a))},hut=a("cora"),mut=a.n(hut),vut=Ed.a.createElement,gut=e=>{var{className:t=mut.a.tableHeaderTitle,children:a}=e,i=Je()(e,["className","children"]);return(vut("span",tp()({},i,{className:t}),a))},yut=a("yULO"),fut=a.n(yut),but=({activeTableColumns:e,activeFilters:t,activeTimePeriod:a,activeSort:i})=>Uu()(rut,{},void 0,e.map(({style:e,title:r,ascKey:n,descKey:s,key:o})=>{if(!n)return Uu()("div",{style:e,className:fut.a.tableHeader},o,Uu()(lut,{},void 0,Uu()(gut,{},void 0,r())));var l=i===n||i===s,c=i&&i===n;return Uu()(put,{style:e,to:Odt({filters:t,activeTimePeriod:a,sort:c?s:n})},o,Uu()(lut,{isActive:l},void 0,Uu()(gut,{},void 0,r()),l?Uu()(eut,{isAscending:!c}):null))})),{useEffect:Iut}=Ed.a,Sut=({activeFilters:e,activeFilterTitle:t,activeTimePeriod:a,activeSort:i,isParentType:r=!1})=>{var n=Object(Fu.c)(),[s]=wv(),o=Qa(s.version,Ka.playHistory),l=Qa(s.version,Ka.playHistoryDevices),c=function(e,t,a){var i=adt;return a&&(i=[edt,tdt,...i]),!t&&Uct(e,Wct.MetadataItemID)||(i=[$ct,...i]),Uct(e,Wct.LibrarySectionID)||Uct(e,Wct.MetadataItemID)||(i=[Jct,...i]),Uct(e,Wct.AccountID)||(i=[Xct,...i]),i}(e,r,l);return Zb(),Iut(()=>{n(Pn.actions.populateRequested({server:s})),n(Mn.actions.populateRequested({server:s}))},[n,s]),Iut(()=>(o&&Object(wa.a)(()=>{n(as.actions.fetchRangeRequested({server:s,filters:e,sort:i,startIndex:0,size:100}))}),()=>{n(as.actions.reset())}),[e,i,n,o,s]),Uu()(kGe,{scrollDirection:$u.None},void 0,Uu()(Gdt,{activeFilters:e,activeFilterTitle:t,activeTimePeriod:a,activeSort:i,isPlayHistorySupported:o}),o?Uu()(but,{activeTableColumns:c,activeFilters:e,activeTimePeriod:a,activeSort:i}):null,Uu()(Ddt,{activeTableColumns:c,activeFilters:e,activeSort:i,isPlayHistorySupported:o}))},Mut=Uu()(Qtt,{}),Cut=Hu.extend({component(e){var t=e.selectedServerID,a=e.params||{},{filters:i,filterTitle:r,activeTimePeriod:n,sort:s=zct,isParentType:o}=a,l=Object(pt.a)(ht.n,t);return Uu()(_b.a,{metricsPage:Rd.Z,metricsContext:a.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Ev,{machineIdentifier:t,providerIdentifier:jt.d},void 0,Mut,Uu()(tit,{serverEntityID:l},void 0,Uu()(Sut,{activeFilters:ite(i),activeFilterTitle:r,activeTimePeriod:n,activeSort:s,isParentType:Se.a.parseBoolean(o)}))))))}});var{useMemo:Dut}=Ed.a;var Put=function(){var e=window.location.hash.replace("#!","");return Dut(()=>{var{params:t}=_.parseUri(e);return t},[e])},Out=({className:e})=>Uu()(bGe,{className:e,title:Object(Ze.default)("Not found"),description:Object(Ze.default)("We're having trouble finding this page. It might have been deleted")},void 0,Uu()(KC,{to:"#"},void 0,Object(Ze.default)("Go Home")));function jut(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-person-auto-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M198.543 309.557a162.542 162.542 0 0 1-79.755-140.166C118.788 79.705 190.965 7 280 7c89.035 0 161.212 72.705 161.212 162.39a162.542 162.542 0 0 1-79.755 140.167C476.367 343.994 560 447.712 560 554H0c0-106.288 83.633-210.006 198.543-244.443zM40 554h480c0-106.732-107.452-213.463-240-213.463S40 447.268 40 554zm120-386.902c0 66.314 53.726 120.073 120 120.073s120-53.759 120-120.073c0-66.315-53.726-120.074-120-120.074s-120 53.759-120 120.074z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}jut.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Tut=jut,wut=Ed.a.createElement;var Eut=e=>{var{type:t}=e,a=Je()(e,["type"]);switch(t){case Nr.Movie:return wut(uM,a);case Nr.Show:case Nr.Season:case Nr.Episode:return wut(yM,a);case Nr.Artist:return wut(oM,a);case Nr.Album:case Nr.Track:return wut(hM,a);case Nr.Photo:case Nr.PhotoAlbum:return wut(vM,a);case Nr.Clip:return wut(cM,a);case Nr.Game:return wut(XW,a);case Nr.Playlist:return wut(aWe,a);case Nr.Person:return wut(Tut,a)}!function(e){throw new Error('"'+e+'" is not mapped to an icon')}(t)};var Nut=Object(uv.a)((function(e){return Object(_u.a)(yv(e.machineIdentifier),e=>{var t,a;return null!=(t=null==e?void 0:null==(a=e.desktop)?void 0:a.activities)?t:[]})}));var xut=function(e,t){return Object(_u.a)(Nut(e),e=>e.find(e=>"provider.epg.load"===e.type&&e.Context.identifier===t.identifier))};var Aut,Lut=function(e,t){var a=[...e];if(t.filter.filterType===Or.Boolean){var i=a.findIndex(e=>e.filter.filter===t.filter.filter),r=-1===i?0:i,n=Object.assign({},t,{value:"string"==typeof t.value?"1"===t.value:t.value});-1===i?a.push(n):a.splice(r,1,n)}else{a.find(e=>e.filter.filter===t.filter.filter&&e.value===t.value)||a.push(t)}return a};!function(e){e.Equal="=",e.NotEqual="!=",e.DoubleEqual="==",e.NotDoubleEqual="!==",e.GreaterThanOrEqual="<=",e.GreaterThanGreaterThanOrEqual=">>=",e.LessThanLessThanOrEqual="<<="}(Aut||(Aut={}));var kut=function(e,t){if(!(null==t?void 0:t.Filter))return{strippedKey:e,filterRules:[]};var a=t.Filter,{params:i,pathname:r}=_.parseUri(e),n=[],s=function(e){if(i.hasOwnProperty(e)){var t=n,r=i[e],s=a.find(t=>e.startsWith(t.filter));if(!s)return"continue";var o=function(e){var t=Gr(Aut).find(t=>Aut[t]===e);return t?Aut[t]:void 0}(e.substr(s.filter.length)+"=");if(!o)return"continue";"string"==typeof r?t=Lut(t,{filter:s,operator:o,value:r}):Array.isArray(r)&&(t=r.reduce((e,t)=>"string"!=typeof t?e:Lut(e,{filter:s,operator:o,value:t}),t)),n!==t&&(n=t,delete i[e])}};for(var o in i)s(o);return{strippedKey:_.join(r,i),filterRules:n}},Rut=Object(_u.a)(Ny,e=>e.directory),zut=Object(_u.a)(Rut,e=>e.meta),Uut=Object(_u.a)(zut,e=>e?Zr(e):void 0);var Vut,But,Fut=function(e){return Object(_u.a)(Uut,t=>e?kut(e,t):void 0)};function Hut(e,t=window.location.hash){var a=function(e){if(Vut===e)return But;var t=e.split("?"),a=t.length>1?t[1]:void 0,i=a?_.parseParams(a):{};return Vut=e,But={url:t[0],params:i}}(t);return _.join(a.url,Object.assign({},a.params,e))}var{useCallback:_ut}=Ed.a;var Qut=function(e){var t=Object(Fu.c)();return _ut(a=>{var i=a.currentTarget.getAttribute("href");i&&(0===a.button||a.touches)&&(a.stopPropagation(),t(Object(Wi.l)({pathname:i,replace:!0}))),null==e||e(a)},[t,e])};function Wut(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-watchlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M35 35.113C35 15.721 50.736 0 70.212 0H489.4c19.446 0 35.211 15.384 35.211 35.113v504.933c0 19.392-12.476 25.435-27.606 13.699L307.412 406.679c-15.246-11.826-40.083-11.735-55.212 0L62.606 553.745C47.36 565.57 35 559.775 35 540.046V35.113zm225.736 201.485v72.615h38.528v-72.615h68.083v-41.305h-68.083v-73.559h-38.528v73.559h-68.084v41.305h68.084z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Wut.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Gut=Wut,Yut=a("XQST"),Kut=a.n(Yut),{useEffect:qut,useMemo:Zut}=Ed.a,Xut=Uu()(rst,{}),Jut=Uu()(rst,{}),$ut=({className:e,directoryKey:t,selectedPivot:a,onRetry:i})=>{var[r,n,s]=wv(),o=jt.k(n.identifier,jt.c),l=Zut(()=>xut(r,n),[n,r]),c=!!Object(Fu.d)(l),d=Zut(()=>Fut(t),[t]),u=Object(Fu.d)(d),p=Qut();return qut(()=>{if(o){var e=window.setInterval(()=>{null==i||i()},15e3);return()=>{window.clearInterval(e)}}},[i,o]),"vod.watchlist"===(null==a?void 0:a.id)?Uu()(vp,{className:e,icon:Uu()(Gut,{className:Kut.a.watchlistIcon}),title:Object(Ze.default)("Watchlist"),description:Object(Ze.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")}):(null==u?void 0:u.filterRules.length)?Uu()(vp,{icon:(null==s?void 0:s.type)?Uu()(Eut,{type:s.type}):void 0,title:Object(Ze.default)("The active filter has no matches"),description:Object(Ze.default)("Use the menu above to change the active filter")},void 0,Uu()(KC,{to:Hut({key:u.strippedKey}),kind:Bv.Primary,onPress:p},void 0,Object(Ze.default)("Clear filter"))):o?c?Uu()(vp,{className:e,icon:Xut,title:Object(Ze.default)("We're now building your Guide"),description:Object(Ze.default)("Hang tight while we download all the data for what's on")}):Uu()(vp,{className:e,icon:Jut,title:Object(Ze.default)("Your Guide is empty"),description:Object(Ze.default)("Please verify your channel mappings and refresh the Guide")},void 0,Uu()(KC,{to:si(r.machineIdentifier,"manage","dvr"),kind:Bv.Primary},void 0,Object(Ze.default)("Go to DVR Settings"))):(null==s?void 0:s.refreshing)?Uu()(vp,{className:e,icon:(null==s?void 0:s.type)?Uu()(Eut,{type:s.type}):void 0,title:s?Object(Ze.default)('"{directoryTitle}" is currently being updated',{directoryTitle:s.title}):Object(Ze.default)("This page is currently being updated"),description:Object(Ze.default)("Hang tight while we look for content")}):Uu()(vp,{className:e,icon:(null==s?void 0:s.type)?Uu()(Eut,{type:s.type}):void 0,title:s?Object(Ze.default)('"{directoryTitle}" is empty',{directoryTitle:r.isCloud?null==a?void 0:a.title:s.title}):Object(Ze.default)("This page is empty"),description:r.isFullOwnedServer?Object(Ze.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null},void 0,r.isFullOwnedServer?Uu()(KC,{kind:Bv.Primary,to:si(r.machineIdentifier,"manage","libraries")},void 0,Object(Ze.default)("Manage Libraries")):null)},ept=Object(_u.a)(Ny,e=>e.directory.hubsList),tpt=a("LgTU"),apt=a.n(tpt),ipt=Ed.a.createElement,{Fragment:rpt,useCallback:npt,useEffect:spt,useMemo:opt}=Ed.a,lpt=({children:e,hub:t})=>{var[,,a]=wv(),{metricsContextTuple:i}=Object(_b.d)(),r=a&&t.key?jAe(t.source,{key:t.key,pageType:TGe.List,source:a.id,context:Object(_b.b)(i)}):void 0;return Uu()(T0e,{hub:t},void 0,r?Uu()(qv,{to:r},void 0,e):e)},cpt=Uu()(vp,{},void 0,Uu()(bp,{})),dpt=Uu()(G1e,{}),upt=({sourceURI:e})=>{var t=Object(Fu.c)(),[a,i]=wv(),{hubs:r,isPopulated:n,error:s}=Object(Fu.d)(ept),o=Object(Fu.d)(n1e),l=opt(()=>r.every(e=>!e.initialSize&&!e.more),[r]),c=npt(()=>{t(Rn.actions.fetchHubsRequested({server:a,provider:i,sourceURI:e}))},[t,i,a,e]);Zb({},n);var{scrollRestoreProps:d,onScrollPositionReady:u}=xO({key:"DirectoryHubsPage"});return spt(()=>(t(Rn.actions.fetchHubsRequested({server:a,provider:i,sourceURI:e})),()=>{t(Rn.actions.resetHubs())}),[e]),n||s?s?Uu()(IGe,{},void 0,Uu()(KC,{kind:Bv.Primary,onPress:c},void 0,Object(Ze.default)("Retry"))):n&&l?Uu()($ut,{onRetry:c}):Uu()(rpt,{},void 0,o?dpt:null,ipt(BGe,tp()({className:apt.a.pageContentScroller},d),Uu()(YH,{className:apt.a.banner,serverEntityID:a.entityID,providerEntityID:i.entityID}),Uu()(b0e,{hubs:r,hubComponent:h0e,hubTitleComponent:lpt,onHubsReady:u}))):cpt},ppt=a("DzTo"),hpt=a.n(ppt),mpt=Ed.a.createElement,vpt=e=>{var{className:t=hpt.a.underlay,metadataItem:a,keyAttribute:i}=e,r=Je()(e,["className","metadataItem","keyAttribute"]),n=NYe(a,i);return n?mpt(qv,tp()({className:t,to:n},r)):null},gpt=({className:e,metadataItem:t})=>{var a=KIe({useLongName:!1,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return(Uu()("span",{className:e},void 0,Uu()("span",{title:t.title},void 0,a)))},ypt=a("JrF9"),fpt=a.n(ypt),bpt=({className:e=fpt.a.selectButtonContainer,visibleClassName:t=fpt.a.isVisible,isSelected:a,isInSelectionRange:i,isVisible:r,title:n,tabIndex:s,onPress:o})=>Uu()("div",{className:(e||"")+" "+(r&&t||"")},void 0,Uu()(uJe,{className:fpt.a.selectButton,isSelected:a,isInSelectionRange:i,title:n,tabIndex:s,"aria-hidden":-1===s?"true":void 0,onPress:o})),Ipt=a("ixBV"),Spt=a.n(Ipt),Mpt=Ed.a.createElement,{Fragment:Cpt,useCallback:Dpt,useMemo:Ppt}=Ed.a,Opt=parseInt(YU.a.summaryCellPadding,10),jpt=Uu()($y,{separator:""}),Tpt=Uu()($y,{separator:""}),wpt=Uu()($y,{separator:""}),Ept=Uu()(aje,{}),Npt=Uu()(UZ,{}),xpt=({metadataItem:e,metadataItemState:t,style:a,cellHeight:i,cellIndex:r,isParentDetailHidden:n})=>{var[s,o]=wv(),l=Object(Fu.d)(uw),c=TYe(null==e?void 0:e.sourceURI),{hoverRef:d,actionsMenuButtonID:u,isHovered:p,isActionsVisible:h,isActionsMenuOpen:m,onActionsMenuClose:v,onActionsMenuCloseComplete:g,onActionsMenuToggle:y}=cqe(),{isSelected:f,isInSelectionRange:b,isSelectionActive:I,onToggleSelect:S}=sqe({isHovered:p,metadataItem:e,metadataItemState:t}),M=Ppt(()=>b?Spt.a.rangeListRow:f?Spt.a.selectedListRow:void 0,[b,f]),C=lZe({server:s,provider:o,metadataItem:e,metadataItemState:t}),D=!I&&h,P=xKe(e),O=Dpt(()=>{S()},[S]),j=Dpt(()=>{P({action:kd.w}),C(xae())},[C,P]),{type:T,subtype:w,childCount:E,duration:N,originallyAvailableAt:x,summary:A}=e,L=wYe(T,w),k=EYe({height:i-2*Opt,aspectRatio:L}),R=xZe({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l}),z=kZe({server:s,provider:o,metadataItem:e,metadataItemState:t,stableUser:l});return Mpt(PXe,{className:M,alternateClassName:M,isAlternate:!!(r%2),isHovered:p,style:a,ref:d},pJe(o)?Uu()(bpt,{isSelected:f,isInSelectionRange:b,isVisible:f||b||p,title:dqe(e),tabIndex:I?-1:void 0,onPress:O}):null,I?Uu()(qv,{className:Spt.a.selectOverlay,onPress:O}):Uu()(vpt,{metadataItem:e,keyAttribute:"key","aria-label":dqe(e)}),Uu()("div",{className:Spt.a.overlay},void 0,Uu()("div",{className:Spt.a.summaryContainer},void 0,Uu()("div",{className:Spt.a.posterContainer},void 0,Uu()(QJe,{metadataItem:e,metadataItemState:t,metadataTimelineState:c,width:k.width,height:k.height,aspectRatio:L,isSelectHidden:!0,isPlayButtonCard:!0})),Uu()("div",{className:Spt.a.titlesContainer},void 0,Uu()("div",{className:Spt.a.titleContainer},void 0,Uu()(xYe,{className:A?Spt.a.singleTitle:Spt.a.doubleTitle,allowLink:!1,metadataItem:e})),Uu()("div",{className:Spt.a.subtitle},void 0,n?null:Uu()(SKe,{allowLink:!1,metadataItem:e}),n&&e.type===Nr.Episode?Uu()(Cpt,{},void 0,Uu()(gpt,{metadataItem:e}),x?Uu()(Cpt,{},void 0,jpt,Uu()(iKe,{metadataItem:e})):null):null,n&&e.type===Nr.Album?Uu()(zKe,{metadataItem:e}):null,e.type===Nr.Movie||e.type===Nr.Show?Uu()(zKe,{metadataItem:e}):null,E?Uu()(Cpt,{},void 0,Tpt,Uu()(lKe,{metadataItem:e})):null,N?Uu()(Cpt,{},void 0,wpt,Uu()(pKe,{metadataItem:e})):null,R&&(p&&!I||t.userRating)?Uu()(LKe,{className:Spt.a.userRatingContainer,metadataItem:e}):null),A?Uu()("div",{className:Spt.a.summary},void 0,A):null),D?Uu()("div",{className:Spt.a.actions},void 0,z?Uu()(qv,{className:Spt.a.actionsButton,"data-qa-id":"metadataRowEditButton",onPress:j},void 0,Ept):null,Uu()(qv,{id:u,className:Spt.a.actionsButton,"data-qa-id":"metadataRowMoreButton","aria-label":Object(Ze.default)("More Actions"),onPress:y},void 0,Npt)):null)),Uu()(sJe,{target:u,isOpen:m,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:v,onMenuCloseComplete:g}))},Apt=e=>{var{item:t,isParentDetailHidden:a}=e,i=Je()(e,["item","isParentDetailHidden"]),r=PYe(null==t?void 0:t.sourceURI),n=WO(i),{cellIndex:s,cellHeight:o}=i;return t?Uu()(hYe,{metadataItem:t,metadataItemState:r},void 0,Uu()(xpt,{style:n.style,cellIndex:s,cellHeight:o,metadataItem:t,metadataItemState:r,isParentDetailHidden:a})):Uu()(TXe,{style:n.style,index:s})},Lpt=parseInt(YU.a.summaryCellHeight,10);var kpt=function(e){return IXe(Object.assign({rowHeight:Lpt,overscan:2},e))},Rpt=Ed.a.createElement,{useCallback:zpt,useMemo:Upt}=Ed.a,Vpt=parseInt(YU.a.v4PagePadding,10),Bpt=({className:e,items:t,totalSize:a,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})=>{var o=Upt(()=>kpt({outerPaddingLeft:Vpt}),[]),l=zpt(e=>Uu()(_b.a,{row:e.row},e.key,Rpt(Apt,e)),[]);return Uu()(BO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})};var Fpt=function(e){switch(e){case 16/9:return 114;case 1/1.5:return 64;case 1:return 74}nn(!1,"Unknown aspectRatio "+e)},Hpt=a("kTPH"),_pt=a.n(Hpt),Qpt=Ed.a.createElement,Wpt=Uu()(iM,{}),Gpt=({metadataItem:e,style:t,cellIndex:a})=>{var i=Hut({key:e.key}),[r,n]=pS(),s=wYe(Cr.Folder),o=EYe({width:Fpt(s),aspectRatio:s});return Qpt(PXe,{isAlternate:!!(a%2),isHovered:r,style:t,ref:n},Uu()(qv,{className:_pt.a.underlay,to:i,"aria-label":dqe(e)}),Uu()("div",{className:_pt.a.overlay},void 0,Uu()("div",{className:_pt.a.posterContainer},void 0,Uu()(fYe,{style:o},void 0,Uu()(Rqe,{width:o.width,height:o.height},void 0,Wpt))),Uu()("div",{className:_pt.a.titlesContainer},void 0,Uu()(xYe,{className:_pt.a.doubleTitle,metadataItem:e,allowLink:!1}))))},Ypt=e=>{var{item:t}=e,a=Je()(e,["item"]),i=PYe(null==t?void 0:t.sourceURI),r=WO(a),{cellIndex:n}=a;return t?Uu()(hYe,{metadataItem:t,metadataItemState:i},void 0,Uu()(Gpt,{style:r.style,cellIndex:n,metadataItem:t})):Uu()(TXe,{style:r.style,index:n})},Kpt=Ed.a.createElement,{useCallback:qpt,useMemo:Zpt}=Ed.a,Xpt=parseInt(YU.a.v4PagePadding,10),Jpt=({className:e,items:t,totalSize:a,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})=>{var o=Zpt(()=>kpt({outerPaddingLeft:Xpt}),[]),l=qpt(e=>{var t;return(Uu()(_b.a,{row:e.row},e.key,(null==(t=e.item)?void 0:t.isFolder)?Kpt(Ypt,e):Kpt(Apt,e)))},[]);return Uu()(BO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})},$pt=a("381m"),eht=a.n($pt),tht=Ed.a.createElement,{useMemo:aht}=Ed.a,iht=e=>{var{item:t}=e,a=Je()(e,["item"]),{metricsContextTuple:i}=Object(_b.d)(),[r,n,s]=wv(),{containerType:o,containerSubtype:l,listStyle:c}=lYe(),d=PYe(null==t?void 0:t.sourceURI),[u,p]=pS(),h=WO(a),m=aht(()=>wYe(o,l,{listStyle:c}),[l,o,c]),v=aht(()=>EYe({width:a.cellWidth,aspectRatio:m}),[m,a.cellWidth]);if(!t)return Uu()("div",{style:h.style},void 0,Uu()(SYe,{style:v,index:a.cellIndex}));var g=Jt(r,n,s,{pageType:t.type===Nr.Hub?TGe.Hub:TGe.List,key:t.key,context:Object(_b.b)(i)});return(Uu()(hYe,{metadataItem:t,metadataItemState:d},void 0,Uu()("div",{style:h.style},void 0,tht(fYe,{style:v,ref:p},Uu()(YS,{className:eht.a.image,serverEntityID:r.entityID,providerEntityID:n.entityID,url:t.icon||t.thumb,width:v.width,height:v.height,component:QI,preloadOnMount:!1,animateOnMount:!1,backgroundSize:t.icon?"75%":"cover"}),Uu()(Bqe,{isHovered:u,to:g,"aria-label":dqe(t)}),t.type===Nr.Directory?Uu()("div",{className:eht.a.titleContainer},void 0,Uu()("span",{className:eht.a.title},void 0,t.title)):null))))},rht=parseInt(YU.a.v4PagePadding,10),nht=parseInt(YU.a.v4CardTitleHeight,10),sht=parseInt(YU.a.v4CardTitleGap,10),oht=parseInt(YU.a.gapMedium,10);function lht(e){var{listType:t,subtype:a,listStyle:i,displayFields:r,columnWidth:n}=e,s=Je()(e,["listType","subtype","listStyle","displayFields","columnWidth"]),o=qr(t),l=wYe(t,a,{listStyle:i}),c=FKe(t,a,{listStyle:i,displayFieldNames:hke(o,a,r)}),d=s.titleCount?s.titleCount:s$e(c),u=d?nht*d+sht:0,p=l===16/9?2*n+oht:n,h=Math.floor(p/l+u);return cO(Object.assign({direction:sO.Vertical,getCellWidth:()=>p,getCellHeight:()=>h,innerHorizontalPadding:oht,innerVerticalPadding:oht,overscan:1,outerPaddingRight:rht,outerPaddingLeft:rht},s))}var cht=function(e){switch(e){case Cr.Directory:case Cr.Content:case Cr.Channel:return!0;default:return!1}},dht=Ed.a.createElement,{useCallback:uht,useMemo:pht}=Ed.a,hht=parseInt(YU.a.v4PagePadding,10),mht=parseInt(YU.a.v4PagePaddingAlt,10),vht=parseInt(YU.a.jumpBarGutter,10),ght=({className:e,listType:t,subtype:a,items:i,totalSize:r,scrollerKey:n,targetScrollIndex:s,onPageRequest:o,onListReady:l})=>{var c=Object(Fu.d)(N$e),{containerDisplayFields:d,listStyle:u}=lYe(),p=pht(()=>lht({listType:t,subtype:a,columnWidth:c,listStyle:u,displayFields:d,outerPaddingTop:mht,outerPaddingBottom:mht,outerPaddingRight:hht-vht}),[t,a,c,u,d]),h=uht(e=>Uu()(_b.a,{row:e.row,column:e.column},e.key,cht(t)?dht(iht,e):dht(JJe,e)),[t]);return Uu()(BO,{className:e,layout:p,cellComponentFactory:h,keyPropName:"listItemKey",items:i,totalSize:r,autoScroll:!1,scrollerKey:n,targetScrollIndex:s,onPageRequest:o,onListReady:l})},yht=({className:e,metadataItem:t})=>{var a=LP(t);return a?Uu()("span",{className:e,title:a},void 0,a):null};var fht=function(e){switch(e){case Nr.Movie:return Object(Ze.default)("Movie");case Nr.Show:return Object(Ze.default)("Show");case Nr.Season:return Object(Ze.default)("Season");case Nr.Episode:return Object(Ze.default)("Episode");case Nr.Artist:return Object(Ze.default)("Artist");case Nr.Album:return Object(Ze.default)("Album");case Nr.Track:return Object(Ze.default)("Track");case Nr.Photo:return Object(Ze.default)("Photo");case Nr.PhotoAlbum:return Object(Ze.default)("Photo Album");case Nr.Person:return Object(Ze.default)("Person");case Nr.Clip:return Object(Ze.default)("Clip");case Nr.Collection:return Object(Ze.default)("Collection");case Nr.Game:return"Game";case Nr.Playlist:return Object(Ze.default)("Playlist")}!function(e){throw new Error('"'+e+'" is not mapped to a title')}(e)},bht=a("OJ00"),Iht=a.n(bht),Sht=Ed.a.createElement;var Mht=Uu()(UZ,{}),Cht=({metadataItem:e,metadataItemState:t,style:a,cellIndex:i})=>{var[r,n]=wv(),s=TYe(null==e?void 0:e.sourceURI),o=NYe(e,"key"),l=Jt(r,n,null,{key:e.key}),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsVisible:p,isActionsMenuOpen:h,onActionsMenuClose:m,onActionsMenuCloseComplete:v,onActionsMenuToggle:g}=cqe(),{type:y,subtype:f}=e,b=wYe(y,f),I=EYe({width:Fpt(b),aspectRatio:b});return Sht(PXe,{isAlternate:!!(i%2),isHovered:u,style:a,ref:c},!e.directory&&o||e.directory?Uu()(qv,{className:Iht.a.underlay,to:e.directory?l:o,"aria-label":dqe(e)}):null,Uu()("div",{className:Iht.a.overlay},void 0,Uu()("div",{className:Iht.a.summaryContainer},void 0,e.directory?Uu()("div",{className:Iht.a.posterContainer},void 0,Uu()(fYe,{style:I},void 0,Uu()(Rqe,{width:I.width,height:I.height},void 0,Uu()(Eut,{type:e.type})))):Uu()("div",{className:Iht.a.playPosterContainer},void 0,Uu()(QJe,{playCircleClassName:Iht.a.playCircle,metadataItem:e,metadataItemState:t,metadataTimelineState:s,width:I.width,height:I.height,aspectRatio:b,isSelectHidden:!0,isPlayButtonCard:!0})),Uu()("div",{className:Iht.a.titlesContainer},void 0,Uu()("div",{className:Iht.a.titleContainer},void 0,Uu()(yht,{className:Iht.a.doubleTitle,metadataItem:e})),Uu()("div",{className:Iht.a.subtitle},void 0,function(e){if(e.directory)switch(e.type){case Nr.Movie:return Object(Ze.default)("Movie Library");case Nr.Show:return Object(Ze.default)("Show Library");case Nr.Artist:return Object(Ze.default)("Music Library");case Nr.Photo:return Object(Ze.default)("Photo Library")}return fht(e.type)}(e))),p&&!e.directory?Uu()("div",{className:Iht.a.actions},void 0,Uu()(qv,{id:d,className:Iht.a.actionsButton,"data-qa-id":"sharedItemMoreButton","aria-label":Object(Ze.default)("More Actions"),onPress:g},void 0,Mht)):null)),Uu()(sJe,{target:d,isOpen:h,metadataItem:e,actionsOverride:{isPlayVisible:!1,isEditVisible:!1},onMenuClose:m,onMenuCloseComplete:v}))},Dht=e=>{var{item:t}=e,a=Je()(e,["item"]),i=PYe(null==t?void 0:t.sourceURI),r=WO(a),{cellIndex:n}=a;return t?Uu()(hYe,{metadataItem:t,metadataItemState:i},void 0,Uu()(Cht,{style:r.style,cellIndex:n,metadataItem:t,metadataItemState:i})):Uu()(TXe,{style:r.style,index:n})},Pht=Ed.a.createElement,{useCallback:Oht,useMemo:jht}=Ed.a,Tht=parseInt(YU.a.v4PagePadding,10),wht=({className:e,items:t,totalSize:a,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})=>{var o=jht(()=>kpt({outerPaddingLeft:Tht}),[]),l=Oht(e=>Uu()(_b.a,{row:e.row},e.key,Pht(Dht,e)),[]);return Uu()(BO,{className:e,layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:t,totalSize:a,autoScroll:!1,scrollerKey:i,targetScrollIndex:r,onPageRequest:n,onListReady:s})};function Eht(e,t){var{playQueueItems:a,currentIndex:i}=e,r=t[a[i]];return null==r?void 0:r.metadataItem}function Nht(e,t){return Object(_u.a)(({ui:e})=>{var t;return null==(t=e.audioVideoPlayer)?void 0:t.playQueue},({ui:e})=>{var t;return null==(t=e.photoPlayer)?void 0:t.playQueue},mpe,(a,i,r)=>{if(!e)return!1;var n,s,o=Object(pt.a)(ht.g,e.key,t.entityID);return a&&(n=Eht(a,r)),i&&(s=Eht(i,r)),n===o||s===o})}var xht=a("ogHR"),Aht=a.n(xht),Lht=({className:e=Aht.a.decoratorIconContainer,iconClassName:t=Aht.a.decoratorIcon,iconComponent:a})=>Uu()("span",{className:e},void 0,Uu()(a,{className:t}));var kht,Rht=a("nc7K"),zht=a.n(Rht),Uht=Uu()($y,{}),Vht=Uu()(Lht,{iconComponent:yM}),Bht=({className:e,metadataItem:t})=>{var{title:a,originalTitle:i}=t;return(Uu()("span",{className:e},void 0,Uu()("span",{className:zht.a.titleContainer},void 0,Uu()("span",{className:zht.a.title,"data-qa-id":"trackName"},void 0,a,i?Uu()("span",{className:zht.a.trackArtist},void 0,a?Uht:null,i):null),function(e){var{type:t,primaryExtraKey:a}=e;return t===Nr.Track&&!!a}(t)?Vht:null)))},Fht=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI);if(null==t.duration||null==a.viewOffset)return null;var i=(t.duration-a.viewOffset)/1e3;return(Uu()("span",{className:e},void 0,Km(i)))},Hht=({className:e,metadataItem:t})=>{var{duration:a,preview:i}=t;return i?Uu()("span",{className:e},void 0,Object(Ze.default)("Preview")):null!=a?Uu()("span",{className:e},void 0,xM(t.duration)):null},_ht={flexGrow:2,width:250};!function(e){e.Title="title",e.Season="season",e.SeasonShow="seasonShow",e.EpisodeShow="episodeShow",e.AlbumArtist="albumArtist",e.TrackAlbumArtist="trackAlbumArtist",e.CombinedTitleTrackArtist="combinedTitleTrackArtist",e.TrackAlbum="trackAlbum",e.Year="year",e.UserRating="userRating",e.MiniUserRating="miniUserRating",e.Duration="duration",e.MinutesLeft="minutesLeft",e.ViewCount="viewCount",e.AddedAt="addedAt",e.LastViewedAt="lastViewedAt",e.LastRatedAt="lastRatedAt",e.MediaBitrate="mediaBitrate",e.OriginallyAvailableAt="originallyAvailableAt",e.Rating="rating",e.ContentRating="contentRating",e.ViewOffset="viewOffset",e.MediaHeight="mediaHeight"}(kht||(kht={}));var Qht={key:kht.Title,ascKey:"titleSort",descKey:"titleSort:desc",component:()=>xYe,style:_ht},Wht={key:kht.Season,ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",component:()=>xYe,style:_ht},Ght={key:kht.SeasonShow,ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",component:()=>SKe,style:_ht},Yht={key:kht.EpisodeShow,ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",component:()=>yKe,style:_ht},Kht={key:kht.AlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",component:()=>SKe,style:_ht},qht={key:kht.TrackAlbumArtist,ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",component:()=>yKe,style:_ht},Zht={key:kht.CombinedTitleTrackArtist,component:()=>Bht,style:_ht},Xht={key:kht.TrackAlbum,ascKey:"album.titleSort",descKey:"album.titleSort:desc",component:()=>SKe,style:_ht},Jht={key:kht.Year,ascKey:"year",descKey:"year:desc",component:()=>zKe,style:{width:100}},$ht={key:kht.UserRating,ascKey:"userRating",descKey:"userRating:desc",component:()=>LKe,style:{width:115}},emt={key:kht.MiniUserRating,component:()=>LKe,style:{width:75,padding:0}},tmt={key:kht.Rating,ascKey:"rating",descKey:"rating:desc",component:()=>uKe,style:{width:150}},amt={key:kht.ContentRating,ascKey:"contentRating",descKey:"contentRating:desc",component:()=>dKe,style:{width:100}},imt={key:kht.Duration,ascKey:"duration",descKey:"duration:desc",component:(e,t)=>{switch(t){case Ar.Podcast:switch(e){case Nr.Track:return pKe}}switch(e){case Nr.Track:return Hht;default:return pKe}},style:{width:125}},rmt={key:kht.MinutesLeft,component:()=>Fht,style:{width:150}},nmt={key:kht.ViewCount,ascKey:"viewCount",descKey:"viewCount:desc",component:()=>MKe,style:{width:100}},smt={key:kht.ViewOffset,ascKey:"viewOffset",descKey:"viewOffset:desc",component:()=>Fht,style:{width:150}},omt={key:kht.AddedAt,ascKey:"addedAt",descKey:"addedAt:desc",component:()=>zYe,style:{width:175}},lmt={key:kht.LastViewedAt,ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",component:()=>IKe,style:{width:175}},cmt={key:kht.LastRatedAt,ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",component:()=>bKe,style:{width:175}},dmt={key:kht.OriginallyAvailableAt,ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",component:()=>iKe,style:{width:175}},umt={key:kht.MediaBitrate,ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",component:()=>nKe,style:{width:110}},pmt={key:kht.MediaHeight,ascKey:"mediaHeight",descKey:"mediaHeight:desc",component:()=>kKe,style:{width:110}},hmt=[omt,Kht,Zht,imt,Yht,cmt,lmt,umt,emt,Wht,Ght,Qht,Xht,qht,rmt,$ht,nmt,Jht,tmt,amt,smt,dmt,umt,pmt],mmt=a("//Cn"),{useCallback:vmt}=Ed.a,gmt=Uu()(aje,{}),ymt=Uu()(UZ,{}),fmt=({className:e,buttonClassName:t,buttonTabIndex:a,style:i,metadataItem:r,isSelectionActive:n,menuButtonID:s,onMenuButtonPress:o})=>{var[l,c]=wv(),d=PYe(r.sourceURI),u=Object(Fu.d)(uw),p=lZe({server:l,provider:c,metadataItem:r,metadataItemState:d}),h=xKe(r),m=kZe({server:l,provider:c,stableUser:u,metadataItem:r,metadataItemState:d}),v=vmt(()=>{h({action:kd.w}),p(xae())},[p,h]);return Uu()("div",{className:e,style:i},void 0,!n&&m?Uu()(qv,{"data-qa-id":"metadataRowEditButton",className:t,tabIndex:a,"aria-label":Object(Ze.default)("Edit {title}",{title:dqe(r)}),onPress:v},void 0,gmt):null,n?null:Uu()(qv,{id:s,"data-qa-id":"metadataRowMoreButton",className:t,tabIndex:a,"aria-label":Object(Ze.default)("More Actions"),onPress:o},void 0,ymt))},bmt=a("smKM"),Imt=a.n(bmt),Smt=Ed.a.createElement,{useCallback:Mmt,useMemo:Cmt,useRef:Dmt}=Ed.a,Pmt={width:parseInt(YU.a.actionsCellWidth,10),justifyContent:"flex-end",padding:"0 "+parseInt(YU.a.actionsCellPadding,10)+"px"};function Omt({tableColumn:e,metadataItemState:t,isActionsVisible:a,isSelectionActive:i,isTransientColumn:r}){var{key:n,style:s}=e;return n===emt.key?Object.assign({},s,{opacity:i||!a&&null==t.userRating?0:1}):r?Object.assign({},s,Pmt):s}var jmt=({style:e,cellIndex:t,index:a,metadataItem:i,metadataItemState:r,tableColumns:n,hasTransientActionsCell:s=!1})=>{var[o,l]=wv(),c=Object(Fu.d)(uw),d=Object(Fu.d)(Nht(i,o)),u=Object(Fu.d)(Object(mmt.a)(l1e.a.AudioVideo,"isPaused")),{hoverRef:p,actionsMenuButtonID:h,isHovered:m,isActionsVisible:v,isActionsMenuOpen:g,onActionsMenuClose:y,onActionsMenuCloseComplete:f,onActionsMenuToggle:b}=cqe(),{isSelected:I,isInSelectionRange:S,isSelectionActive:M,onToggleSelect:C}=sqe({isHovered:m,metadataItem:i,metadataItemState:r}),D=Cmt(()=>S?Imt.a.rangeListRow:I?Imt.a.selectedListRow:void 0,[S,I]),P=Dmt(null),O=Mmt(()=>{C()},[C]),j=Mmt(e=>{13===e.which&&i&&C()},[i,C]),[T,w,E]=V$e(),N=T||v,x=N&&DZe({server:o,provider:l,stableUser:c,metadataItem:i,metadataItemState:r});return Smt(PXe,{className:D,alternateClassName:D,style:e,isAlternate:!!(t%2),isHovered:m||T,ref:p,onFocus:w,onBlur:E},pJe(l)?Uu()(bpt,{isSelected:I,isInSelectionRange:S,isVisible:I||S||T||m,title:dqe(i),tabIndex:M?-1:void 0,"aria-hidden":"true",onPress:O}):null,M?Smt(qv,{key:"focusLink",className:Imt.a.overlay,tabIndex:0,"aria-label":Object(Ze.default)("Select {title}",{title:dqe(i)}),ref:P,onPress:M?O:void 0,onKeyPress:j}):null,Uu()("div",{className:Imt.a.playCell},void 0,!d&&!x||M?a:null,M||d||!x?null:Uu()(Jqe,{tabIndex:0,metadataItem:i}),d&&!M?Uu()(Cxe,{isPaused:u}):null),n.map((e,t)=>{var{key:a,component:o}=e,l=o(i.type,i.subtype),c=s&&t===n.length-1;return c&&N&&!M?null:Uu()(ldt,{className:(Imt.a.title||"")+" "+(t>0&&Imt.a.isSecondary||"")+" "+(M&&Imt.a.isSelectionActive||""),cellClassName:0===t?Imt.a.firstTableCell:void 0,style:Omt({tableColumn:e,metadataItemState:r,isActionsVisible:N,isSelectionActive:M,isTransientColumn:c}),tabIndex:M?"-1":void 0,component:l,metadataItem:i},a)}),!s||N&&!M?Uu()(fmt,{className:Imt.a.actionsCell,buttonClassName:Imt.a.actionsButton,style:Object.assign({},Pmt,{opacity:N?1:0}),isSelectionActive:M,metadataItem:i,menuButtonID:h,onMenuButtonPress:b},"actionsCell"):null,Uu()(sJe,{target:h,isOpen:g,metadataItem:i,onMenuClose:y,onMenuCloseComplete:f}))},Tmt=e=>{var{item:t,index:a,tableColumns:i,hasTransientActionsCell:r}=e,n=Je()(e,["item","index","tableColumns","hasTransientActionsCell"]),s=PYe(null==t?void 0:t.sourceURI),o=WO(n),{cellIndex:l}=n;return t?Uu()(hYe,{metadataItem:t,metadataItemState:s},void 0,Uu()(jmt,{style:o.style,cellIndex:l,index:a,metadataItem:t,metadataItemState:s,tableColumns:i,hasTransientActionsCell:r})):Uu()(TXe,{style:o.style,index:l})},wmt=parseInt(YU.a.tableRowHeight,10),Emt=parseInt(YU.a.v4PagePadding,10);var Nmt,xmt=function(e){return IXe(Object.assign({rowHeight:wmt,outerPaddingRight:Emt,outerPaddingLeft:Emt},e))};!function(e){e.Up="up",e.Right="right",e.Down="down",e.Left="left"}(Nmt||(Nmt={}));var Amt=Nmt;var Lmt=function(e,t){return e?e.reduce((e,a)=>{var i=hmt.find(e=>a.key===e.ascKey&&a.descKey===e.descKey);return!i||t&&!t.includes(i.key)||e.push({sort:a,tableColumn:i}),e},[]):[]};var kmt=function(e){return e.active?e.activeDirection===jr.Ascending?e.descKey:e.key:e.defaultDirection===jr.Ascending?e.key:e.descKey};function Rmt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-table-columns"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M0 0H14V48H0V0ZM25 0H31V48H25V0ZM48 0H42V48H48V0Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Rmt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var zmt=Rmt,Umt=a("Qy3a"),Vmt=a.n(Umt),{useCallback:Bmt,useMemo:Fmt}=Ed.a,Hmt={placement:"top-start",modifiers:{offset:{offset:"5px"}}};var _mt=Uu()(zmt,{}),Qmt=({className:e=Vmt.a.tableHeader,width:t,activeTableColumnSorts:a,typeKeySourceURI:i,sorts:r})=>{var n=Object(Fu.c)(),s=ny(),o=wye(),{containerKey:l}=lYe(),c=Fmt(()=>Lmt(r),[r]),d=Fmt(()=>xv("directoryTableColumns"),[]),u=Object(Fu.d)(d),p=Bmt(e=>{var t=function(e,t){var a=new Set(t.map(({tableColumn:e})=>e.key));return a.has(e)?a.delete(e):a.add(e),Array.from(a)}(e,a);if(!(t.length<1)){var r=Object.assign({},u,{[i]:t});Object(wa.a)(()=>{n(Object(Qu.f)({directoryTableColumns:r}))})}},[a,u,i,n]);return Uu()(rut,{className:e,style:{width:t}},void 0,Uu()(qv,{id:s,className:Vmt.a.columnMenuButton,"aria-label":Object(Ze.default)("Change Columns"),size:gp.Medium,onPress:o.onToggle},void 0,_mt,Uu()(my,{direction:o.isOpen?Amt.Up:Amt.Down,size:gp.Medium})),a.map(({tableColumn:e,sort:t},a)=>Uu()(put,{style:e.style,to:Hut({key:_.join(l,{sort:kmt(t)},{parseParams:!0})})},e.key,Uu()(lut,{className:0===a?Vmt.a.firstTableHeaderCell:Vmt.a.tableHeaderCell,activeClassName:0===a?Vmt.a.firstActiveTableHeaderCell:Vmt.a.activeTableHeaderCell,isActive:t.active},void 0,Uu()(gut,{title:t.title},void 0,t.title),t.active?Uu()(eut,{isAscending:t.activeDirection===jr.Ascending}):null))),Uu()(lut,{className:Vmt.a.actionsTableHeaderCell}),Uu()(Fg,{target:s,isOpen:o.isOpen,options:Hmt,onMenuClose:o.onClose},void 0,c.map(({sort:e,tableColumn:t})=>{var i=a.find(({tableColumn:e})=>e===t);return(Uu()(iy,{isSelected:!!i,value:t.key,onSelect:p},t.key,e.title))})))};var Wmt=function(e,t,a){return Object(_u.a)(xv("directoryTableColumns"),a=>{if(!e)return[];var i=a[e];if(i)return i;switch(t){case Cr.Movie:return[Qht.key,Jht.key];case Cr.Show:return[Qht.key];case Cr.Season:return[Wht.key,Ght.key];case Cr.Episode:return[Qht.key,Yht.key];case Cr.Artist:return[Qht.key];case Cr.Album:return[Qht.key,Kht.key,Jht.key];case Cr.Track:return[Qht.key,qht.key,Xht.key,imt.key]}return[Qht.key]})};var Gmt=function(e,t){return Object(_u.a)(Wmt(e,null==t?void 0:t.type,null==t?void 0:t.subtype),e=>(null==t?void 0:t.Sort)?Lmt(t.Sort,e):[])},Ymt=Ed.a.createElement,{useCallback:Kmt,useMemo:qmt}=Ed.a,Zmt=parseInt(YU.a.v4PagePadding,10),Xmt=parseInt(YU.a.actionsCellWidth,10),Jmt=parseInt(YU.a.playCellWidth,10),$mt=({className:e,activeType:t,items:a,totalSize:i,scrollerKey:r,targetScrollIndex:n,onPageRequest:s,onListReady:o})=>{var[l,c]=wv(),d=Object(an.a)({serverIdentifier:l.machineIdentifier,providerIdentifier:null==c?void 0:c.identifier}),u=t?""+d+t.key:void 0,p=qmt(()=>Gmt(u,t),[t,u]),h=Object(Fu.d)(p),m=qmt(()=>h.reduce((e,{tableColumn:t})=>e+t.style.width,Jmt+Xmt),[h]),v=qmt(()=>xmt({overscan:1,outerPaddingRight:0,rowWidth:m}),[m]),g=Kmt(e=>(null==t?void 0:t.Sort)&&u?Uu()(Qmt,{width:Math.max(Zmt+m,e.width),activeTableColumnSorts:h,typeKeySourceURI:u,sorts:t.Sort}):null,[m,t,u,h]),y=Kmt(e=>Uu()(_b.a,{row:e.row},e.key,Ymt(Tmt,tp()({tableColumns:h.map(({tableColumn:e})=>e)},e))),[h]);return Uu()(BO,{className:e,layout:v,scrollDirection:$u.Omni,cellComponentFactory:y,keyPropName:"listItemKey",items:a,totalSize:i,autoScroll:!1,scrollerKey:r,targetScrollIndex:n,renderAboveList:g,onPageRequest:s,onListReady:o})};var evt=({className:e,listType:t,subtype:a,activeType:i,items:r,totalSize:n,scrollerKey:s,targetScrollIndex:o,onPageRequest:l,onListReady:c})=>{var{listStyle:d}=lYe(),u=function(e){switch(e){case Dr.Grid:return ght;case Dr.Details:return Bpt;case Dr.Table:return $mt;case Dr.SharedItems:return wht;case Dr.Folder:return Jpt}throw new Error("Failed to  map the directory list style to a list component. Check `selectDirectoryListStyle` for list style options")}(d);return Uu()(eqe,{items:r},void 0,Uu()(u,{className:e,listType:t,subtype:a,activeType:i,items:r,totalSize:n,scrollerKey:s,targetScrollIndex:o,onPageRequest:l,onListReady:c}))};var tvt=function(e){var t;return null!=(t=null==e?void 0:e.find(e=>e.active))?t:null==e?void 0:e[0]};var avt=function(e,t){if(t<1||!e.length)return[];var{characters:a}=e.reduce((e,t,a)=>(e.characters.push(Object.assign({},t,{position:a,scrollIndex:e.scrollIndex})),e.scrollIndex+=t.size,e),{characters:[],scrollIndex:0}),i=[a[0],a[a.length-1]],r=Array.from(a).sort((e,t)=>t.size-e.size);return Array.from(new Set([...i,...r])).slice(0,t).sort((e,t)=>e.position-t.position)},ivt=a("gmpS"),rvt=a.n(ivt),{useCallback:nvt,useMemo:svt}=Ed.a,ovt=parseInt(YU.a.jumpBarCharacterHeight,10),lvt=parseInt(YU.a.jumpBarMargin,10),cvt=({className:e=rvt.a.character,scrollIndex:t,children:a,onCharacterPress:i})=>{var r=nvt(()=>{i(t)},[t,i]);return(Uu()(qv,{className:e,onPress:r},void 0,a))},dvt=({className:e=rvt.a.jumpBar,activeType:t,viewportHeight:a,listTotalSize:i,onFirstCharacterScroll:r})=>{var n=tvt(null==t?void 0:t.Sort),{firstCharacters:{items:s}}=Object(Fu.d)(Rut),o=svt(()=>s?avt(s,Math.floor((a-2*lvt)/ovt)):[],[s,a]),l=!!(null==n?void 0:n.firstCharacterKey),c=o.length>=5;return n&&s&&(l&&c&&i>=75)?Uu()("div",{className:e},void 0,o.map(e=>Uu()(cvt,{scrollIndex:e.scrollIndex,onCharacterPress:r},e.key,e.title))):null},uvt={[Cr.Movie]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Cr.Show]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Cr.Season]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Cr.Episode]:["isAddToPlaylistVisible","isAddToQueueVisible","isOptimizeVisible","isPlayVisible","isShuffleVisible"],[Cr.Artist]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Cr.Album]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Cr.Track]:["isAddToPlaylistVisible","isAddToQueueVisible","isPlayVisible","isShuffleVisible"],[Cr.PhotoAlbum]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"],[Cr.Photo]:["isAddToPlaylistVisible","isPlayVisible","isShuffleVisible"]},pvt=({provider:e})=>!!bZe(e,PGe.PlayQueue),hvt={isAddToPlaylistVisible:({provider:e})=>!!bZe(e,PGe.Playlist),isAddToQueueVisible:pvt,isPlayVisible:pvt,isShuffleVisible:pvt,isOptimizeVisible:({server:e,provider:t})=>mqe(t)&&e.isFullOwnedServer&&e.transcoderVideo};var mvt=a("uDqd"),vvt=a.n(mvt),gvt=({className:e=vvt.a.bar,children:t})=>Uu()("div",{className:e},void 0,t),yvt=a("W4O6"),fvt=a.n(yvt),{useCallback:bvt}=Ed.a,Ivt=({className:e,activeType:t,totalSize:a,listActions:i})=>{var r=Object(Fu.c)(),[n,s]=wv(),{containerServer:o,containerProvider:l,containerKey:c}=lYe(),{metricsPage:d,metricsContextTuple:u}=Object(_b.d)(),p=NKe({identifier:s.metricsIdentifier,mode:"list",type:null==t?void 0:t.type,itemCount:a}),h=ny(),m=wye(),v=ny(),g=wye(),y=wye(),f=Object(an.a)({serverIdentifier:n.machineIdentifier,providerIdentifer:s.identifier}),b=""+f+c,I=t?function(e){var t=qr(e.type);return t?rKe(t,e.subtype):void 0}(t):void 0,S=bvt(e=>{r(Tx({server:o,provider:l,containerKey:c,metricsPage:d,metricsProperties:{contextTuple:u},legacyAction:e}))},[r,o,l,c,d,u]),M=bvt(()=>{p({action:kd.M}),S(Cw.p({options:{type:I}}))},[p,I,S]),C=bvt(()=>{S(Cw.t({options:{type:I}})),p({action:kd.gb})},[p,I,S]),D=bvt(()=>{p({action:kd.d}),S(Cw.j({options:{playAll:!0,next:!1,type:I}})),m.onClose()},[p,m,I,S]),P=bvt(()=>{p({action:kd.P}),S(Cw.j({options:{playAll:!0,next:!0,type:I}})),m.onClose()},[p,m,I,S]),O=bvt(()=>{p({action:kd.I}),S(Sx()),m.onClose()},[p,m,S]),j=bvt(()=>{p({action:kd.c,mode:"shortcut"})},[p]),T=bvt(()=>{p({action:kd.c,mode:"shortcut"})},[p]);return Uu()(gvt,{className:e},void 0,i.isPlayVisible?Uu()(r1e,{tooltipClassName:fvt.a.tooltip,icon:k1e,title:Object(Ze.default)("Play"),tooltipAttachment:"bottomCenter",onPress:M}):null,i.isShuffleVisible?Uu()(r1e,{tooltipClassName:fvt.a.tooltip,icon:T3e,title:Object(Ze.default)("Shuffle"),tooltipAttachment:"bottomCenter",onPress:C}):null,i.isAddToPlaylistVisible?Uu()(r1e,{id:v,tooltipClassName:fvt.a.tooltip,icon:cxe,title:Object(Ze.default)("Add to Playlist"),tooltipAttachment:"bottomCenter",onPress:g.onToggle}):null,i.isAddToQueueVisible||i.isOptimizeVisible?Uu()(r1e,{id:h,tooltipClassName:fvt.a.tooltip,icon:A1e,title:Object(Ze.default)("More"),tooltipAttachment:"bottomCenter",onPress:m.onToggle}):null,Uu()(Fg,{className:fvt.a.menu,isOpen:m.isOpen,target:h,onMenuClose:m.onClose},void 0,i.isAddToQueueVisible?Uu()(Gg,{onPress:P},void 0,Object(Ze.default)("Play Next")):null,i.isAddToQueueVisible?Uu()(Gg,{onPress:D},void 0,Object(Ze.default)("Add to Queue")):null,i.isOptimizeVisible?Uu()(Gg,{onPress:O},void 0,Object(Ze.default)("Optimize...")):null),i.isAddToPlaylistVisible&&I?Uu()(Fg,{className:fvt.a.menu,isOpen:g.isOpen,target:v,onMenuClose:g.onClose},void 0,Uu()(JZe,{sourceURI:b,playlistType:I,onPlaylistSave:j,onAddToPlaylistPress:y.onOpen,onMenuClose:g.onClose})):null,i.isAddToPlaylistVisible&&I?Uu()(ZXe,{isOpen:y.isOpen,playlistType:I,sourceURI:b,defaultDestinationSource:f,defaultPlaylistTitle:Object(Ze.default)("Music"),onModalClose:y.onClose,onPlaylistSave:T}):null)},Svt=a("oRFc"),Mvt=a.n(Svt),Cvt=Ed.a.createElement,Dvt=e=>{var{className:t=Mvt.a.disclosureArrowLink,arrowClassName:a=Mvt.a.disclosureArrow,direction:i=Amt.Down,size:r=gp.Large,kind:n,children:s}=e,o=Je()(e,["className","arrowClassName","direction","size","kind","children"]);return(Cvt(qv,tp()({className:(t||"")+" "+(Mvt.a[r]||""),"aria-haspopup":!0,kind:n,size:r},o),s,Uu()(my,{className:(a||"")+" "+(Mvt.a[i]||"")+" "+(Mvt.a[r]||""),direction:i,kind:n,size:r})))},Pvt=a("Jjk7"),Ovt=a.n(Pvt),{useCallback:jvt}=Ed.a,Tvt=({children:e,filterKey:t,isPending:a,isSelected:i,onFilterSelect:r})=>{var n=jvt(()=>{r(t)},[t,r]);return(Uu()(Gg,{className:i?Ovt.a.isSelected:void 0,onPress:n},void 0,Uu()("span",{className:Ovt.a.menuItemContainer},void 0,Uu()("span",{className:Ovt.a.menuLabel},void 0,e),a?Uu()(bp,{className:Ovt.a.spinner,size:gp.Small}):null,!a&&i?Uu()("span",{className:Ovt.a.selectedIcon},void 0,Uu()(ey,{"aria-label":Object(Ze.default)("Selected")})):null)))};var wvt=function(e){return Object(_u.a)(Rut,t=>t.filterOptions[e])};var Evt=function(e,t,a){for(var i=[...e],r=0;r<e.length;r++){e[r].filter.filterType===Or.Boolean===(t.filterType===Or.Boolean)&&i.splice(r,1)}return Lut(i,{filter:t,operator:Aut.Equal,value:a})};var Nvt=function(e,t,a){return!!e.find(e=>e.filter.filter===t.filter&&(null==a||e.value===a))};var xvt=function(e,t,a){return e.filter(e=>!(e.filter.filter===t.filter&&(null==a||e.value===a)))};var Avt=function(e,t){var a=t.reduce((e,t)=>(t.filter.filterType===Or.Boolean?e[t.filter.filter]=t.value?"1":"0":"string"==typeof t.value&&(e[t.filter.filter]=t.value),e),{});return _.join(e,a)},Lvt=a("oz32"),kvt=a.n(Lvt),Rvt=Ed.a.createElement,{Fragment:zvt,useCallback:Uvt,useMemo:Vvt,useState:Bvt}=Ed.a;var Fvt=Uu()(TJ,{}),Hvt=({typeKey:e,directoryKey:t,pendingFilterKey:a,filters:i,activeFilterRules:r,onClose:n,onFilterSelect:s})=>{var[o,l]=function(e){return e.reduce((e,t)=>(t.filterType===Or.Boolean?e[0].push(t):e[1].push(t),e),[[],[]])}(i),c=Qut(n);return Uu()(up,{className:kvt.a.menuScroller,autoScroll:!0},void 0,Uu()(iy,{to:Hut({key:e}),isSelected:!r.length,onPress:c},"all",Object(Ze.default)("All")),o.map(e=>{var a=Nvt(r,e);return(Uu()(iy,{isSelected:a,to:Hut({key:Avt(t,a?xvt(r,e):Evt(r,e,!0))}),onPress:c},e.key,e.title))}),o.length?Fvt:null,l.map(e=>Uu()(Tvt,{filterKey:e.key,isSelected:Nvt(r,e),isPending:a===e.key,onFilterSelect:s},e.key,e.title)))},_vt=Uu()(TJ,{}),Qvt=({directoryKey:e,selectedFilter:t,filterOptions:a,activeFilterRules:i,height:r,onFilterDeselect:n})=>{var s=Bvt(""),o=s[1],l=s[0],c=a.find(e=>Nvt(i,t,e.value)),d=Qut(),u=Uvt(e=>{o(e.target.value)},[]);return Uu()("div",{className:kvt.a.filterOptionsContainer,style:{height:Math.max(r,356)},"data-qa-id":"secondFiltersList"},void 0,Uu()("div",{className:kvt.a.headerContainer},void 0,Uu()("div",{className:kvt.a.header,"data-qa-id":"filterHeader"},void 0,Uu()("div",{className:kvt.a.headerTitle},void 0,Uu()(qv,{"data-qa-id":"previousFilters",onPress:n},void 0,Uu()(oO,{className:kvt.a.backIcon,"aria-label":Object(Ze.default)("Back")}),Uu()("span",{className:kvt.a.filterText},void 0,t.title))),a.length>12?Uu()(lXe,{className:kvt.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ze.default)("Filter {filterTitle}",{filterTitle:t.title}),value:l,onChange:u}):null),_vt),a.length?Uu()(up,{className:kvt.a.filterOptionsScroller,autoScroll:!0},void 0,c?Uu()(iy,{isSelected:!0,to:Hut({key:Avt(e,xvt(i,t))}),className:kvt.a.selectedMenuItem,onPress:d},c.key,c.title):null,a.map(a=>{if(a===c||!a.title.toLowerCase().includes(l.toLowerCase()))return null;var r=Nvt(i,t,a.value);return(Uu()(iy,{className:kvt.a.selectedMenuItem,isSelected:r,to:Hut({key:Avt(e,Evt(i,t,a.value))}),onPress:d},a.key,a.title))})):Uu()("div",{className:kvt.a.emptyText},void 0,Object(Ze.default)("No options")))},Wvt=({className:e,directoryKey:t,type:a})=>{var[i,r]=wv(),n=Object(Fu.c)(),s=Bvt(),o=s[1],l=s[0],[c,{height:d}]=Object(Bb.a)(),u=ny(),{isOpen:p,onToggle:h,onClose:m}=wye(),v=null==a?void 0:a.Filter,g=Vvt(()=>Fut(t),[t]),y=Object(Fu.d)(g),f=Vvt(()=>l?wvt(l):()=>{},[l]),b=Object(Fu.d)(f),I=Vvt(()=>null==v?void 0:v.find(e=>e.key===l),[l,v]),S=Vvt(()=>({scrollDirection:Jp}),[]),M=Uvt(e=>{o(e),n(Rn.actions.fetchFilterOptionsRequested({server:i,provider:r,key:e}))},[n,r,i]),C=Uvt(()=>{o(void 0)},[]),D=Uvt(()=>{o(void 0),m()},[m]);if(!a||!v||!y)return null;var{strippedKey:P,filterRules:O}=y;return(Uu()(zvt,{},void 0,Uu()(Dvt,{className:e,id:u,direction:p?Amt.Up:Amt.Down,onPress:h},void 0,O.length?O.map(e=>e.filter.title).join(", "):Object(Ze.default)("All")),Uu()(Fg,{target:u,isOpen:p,size:wp,scrollerProps:S,onMenuClose:D},void 0,Rvt("div",{className:kvt.a.measureContainer,ref:c},(null==b?void 0:b.isPopulated)&&I?Uu()(Qvt,{height:d,directoryKey:P,selectedFilter:I,activeFilterRules:O,filterOptions:b.options,onFilterDeselect:C}):Uu()(Hvt,{typeKey:a.key,directoryKey:P,pendingFilterKey:(null==b?void 0:b.isPending)?l:void 0,filters:v,activeFilterRules:O,onClose:D,onFilterSelect:M})))))},{Fragment:Gvt}=Ed.a,Yvt=({className:e,directoryKey:t,sorts:a})=>{var i=ny(),{isOpen:r,onToggle:n,onClose:s}=wye(),o=tvt(a),l=Qut(s);return!a||!o||a.length<2?null:Uu()(Gvt,{},void 0,Uu()(Dvt,{className:e,id:i,direction:r?Amt.Up:Amt.Down,onPress:n},void 0,Object(Ze.default)("By {sortTitle}",{sortTitle:o.title})),Uu()(Fg,{target:i,isOpen:r,onMenuClose:s},void 0,a.map(e=>Uu()(iy,{to:Hut({key:_.join(t,{sort:kmt(e)},{parseParams:!0})}),isSelected:e.active,iconComponent:e.activeDirection===jr.Ascending?Kdt:Zdt,onPress:l},e.key,e.title))))},{Fragment:Kvt}=Ed.a,qvt=({className:e,activeType:t,types:a})=>{var i=ny(),{isOpen:r,onToggle:n,onClose:s}=wye(),o=Qut(s);return!a||!t||a.length<2?null:Uu()(Kvt,{},void 0,Uu()(Dvt,{className:e,id:i,direction:r?Amt.Up:Amt.Down,onPress:n},void 0,t.title),Uu()(Fg,{target:i,isOpen:r,onMenuClose:s},void 0,a.map(e=>Uu()(iy,{to:Hut({key:e.key}),isSelected:t===e&&e.active,onPress:o},e.key,e.title))))},Zvt=a("j5p2"),Xvt=a.n(Zvt),{useMemo:Jvt}=Ed.a,$vt=Uu()(Oee,{}),egt=({className:e=Xvt.a.gutter,buttonClassName:t=Xvt.a.resetButton})=>{var{containerKey:a}=lYe(),i=Jvt(()=>Fut(a),[a]),r=Object(Fu.d)(i),n=Qut();return(null==r?void 0:r.filterRules.length)?Uu()(ynt,{className:e},void 0,Uu()(oJ,{className:t,tooltip:Object(Ze.default)("Clear Filter"),to:Hut({key:r.strippedKey}),onPress:n},void 0,$vt)):null},tgt=a("R1OT"),agt=a.n(tgt),{useMemo:igt}=Ed.a,rgt=Uu()(egt,{}),ngt=({className:e=agt.a.pageHeader,directoryKey:t,meta:a,activeType:i,totalSize:r})=>{var n,s,o,l,c,d,[u,p]=wv(),{listStyle:h}=lYe(),m=igt(()=>function({server:e,provider:t,activeType:a}){var i=a?uvt[a.type]:void 0;return i?i.reduce((i,r)=>{var n=hvt[r];return i[r]=!!(e&&t&&a)&&n({server:e,provider:t,activeType:a}),i},{}):{}}({server:u,provider:p,activeType:i}),[i,p,u]),v=igt(()=>Yr(m).some(e=>e),[m]),g=null!=(n=null==a?void 0:null==(s=a.Type)?void 0:s.length)?n:0,y=null!=(o=null==i?void 0:null==(l=i.Filter)?void 0:l.length)?o:0,f=null!=(c=null==i?void 0:null==(d=i.Sort)?void 0:d.length)?c:0;return!a||g<=1&&y<1&&f<=1?null:Uu()(P1e,{className:e},void 0,Uu()(mnt,{},void 0,rgt,Uu()(Wvt,{className:agt.a.disclosureArrowLink,directoryKey:t,type:i}),Uu()(qvt,{className:agt.a.disclosureArrowLink,activeType:i,types:null==a?void 0:a.Type}),h!==Dr.Table?Uu()(Yvt,{className:agt.a.disclosureArrowLink,directoryKey:t,sorts:null==i?void 0:i.Sort}):null,Uu()(Nlt,{},void 0,r)),v?Uu()(Art,{},void 0,Uu()(Ivt,{activeType:i,listActions:m,totalSize:r})):null)},sgt=xv("savedDirectoryListKeys");var ogt=Object(uv.a)((function(e,t,a){return Object(_u.a)(sgt,i=>{var r=a?Object(an.a)({serverIdentifier:e,providerIdentifier:t,metadataItemKey:a}):void 0;return r?i[r]:void 0})})),lgt=Object(_u.a)(Ub,e=>e.metadataLists),cgt=Object(_u.a)(Rut,lgt,({metadataListSourceURI:e},t)=>e?t[e]:void 0),{useEffect:dgt}=Ed.a;var ugt=function({machineIdentifier:e,providerIdentifier:t,directoryKey:a,meta:i,activeType:r,selectedPivot:n}){var s=Object(Fu.c)(),o=Object(Fu.d)(cgt),l=Object(Fu.d)(sgt),c=Object(Fu.d)(ogt(e,t,null==n?void 0:n.key)),d=a||(null!=c?c:null==n?void 0:n.key),u=(null==n?void 0:n.key)?Object(an.a)({serverIdentifier:e,providerIdentifier:t,metadataItemKey:null==n?void 0:n.key}):void 0;return dgt(()=>{!(u&&d&&n&&n.type===TGe.List&&c!==d&&(n.key!==d||null!=c)&&(null==o?void 0:o.isPopulated))||null!=i&&i.Pivot||(null==r?void 0:r.type)===Cr.Folder&&(null==r?void 0:r.key)!==d||s(Object(Qu.f)({savedDirectoryListKeys:Object.assign({},l,{[u]:d})}))},[null==o?void 0:o.isPopulated,d,s,u,c,l,n,null==i?void 0:i.Pivot,null==r?void 0:r.type,null==r?void 0:r.key]),d};var pgt=function(e){return Object(_u.a)(zut,t=>{var a=t?Zr(t):void 0;if(!a||!e)return[Dr.Grid];if(function(e){var{providerIdentifier:t}=Object(Bn.a)(e);return jt.k(t,[jt.c,jt.b])}(e))return[Dr.Grid];if(a.type===Cr.Folder)return[Dr.Folder];switch(a.subtype){case Ar.Webshow:switch(a.type){case Cr.Show:case Cr.Episode:return[Dr.Grid]}break;case Ar.Podcast:switch(a.type){case Cr.Show:return[Dr.Grid];case Cr.Track:return[Dr.Table]}}switch(a.type){case Cr.Movie:case Cr.Show:case Cr.Album:case Cr.Episode:return[Dr.Grid,Dr.Details,Dr.Table];case Cr.Artist:case Cr.Season:return[Dr.Grid,Dr.Table];case Cr.Track:return[Dr.Table];default:return[Dr.Grid]}})};var hgt=function(e){return Object(_u.a)(xv("directoryListStyles"),pgt(e),(t,a)=>{if(e&&a.length){var i=t[e];return!!i&&a.includes(i)?i:a[0]}})},mgt=Object(_u.a)(Uut,e=>e?tvt(e.Sort):void 0);var vgt,ggt=Object(uv.a)((function(e){return Object(_u.a)(mgt,Fut(e),(e,t)=>t&&(null==e?void 0:e.firstCharacterKey)?_.join(Avt(e.firstCharacterKey,t.filterRules),{sort:e.activeDirection===jr.Ascending?e.key:e.descKey,includeCollections:1,includeExternalMedia:1},{parseParams:!0}):void 0)})),ygt=a("tXoW"),fgt=a.n(ygt),bgt=Ed.a.createElement,{Fragment:Igt,useCallback:Sgt,useEffect:Mgt,useMemo:Cgt,useState:Dgt}=Ed.a,Pgt=Uu()(Out,{}),Ogt=Uu()(IGe,{}),jgt=Uu()(vp,{},void 0,Uu()(bp,{})),Tgt=Uu()(G1e,{}),wgt=({sourceURI:e,directoryKey:t,selectedPivot:a,listStyle:i})=>{var r,n=Object(Fu.c)(),[s,o]=wv(),[l,{height:c}]=Object(Bb.a)(),{meta:d,metadataListSourceURI:u,firstCharacters:p}=Object(Fu.d)(Rut),h=Object(Fu.d)(cgt),m=d?Zr(d):void 0,v=null!=(r=null==m?void 0:m.type)?r:Cr.Mixed,g=null==m?void 0:m.subtype,y=ugt({machineIdentifier:s.machineIdentifier,providerIdentifier:o.identifier,directoryKey:t,meta:d,activeType:m,selectedPivot:a}),f=Cgt(()=>y?_.join(y,{includeCollections:1,includeExternalMedia:1}):void 0,[y]),b=Object(Fu.d)(ggt(f)),I=Dgt(),S=I[1],M=I[0],C=Cgt(()=>hgt(e),[e]),D=Object(Fu.d)(C),P=null!=i?i:D,O=Object(Fu.d)(n1e),j=Sgt(e=>{u&&n(gn.actions.fetchRangeRequested(Object.assign({},e,{server:s,provider:o,sourceURI:u,key:f})))},[n,s,o,u,f]),T=Sgt(e=>{S(e)},[]);return Zb({},!!(null==h?void 0:h.isPopulated)),Mgt(()=>(e!==u&&f&&n(Rn.actions.initializeListRequested({server:s,provider:o,sourceURI:e,key:f})),()=>{u&&Object(wa.a)(()=>{n(gn.actions.reset({sourceURI:u}))})}),[n,f,u,e]),Mgt(()=>(b&&n(Rn.actions.fetchFirstCharactersRequested({server:s,provider:o,key:b})),()=>{n(Rn.actions.resetFirstCharacters())}),[n,s,o,b,null==h?void 0:h.totalSize]),Mgt(()=>{null!=M&&S(void 0)},[M]),y?(null==h?void 0:h.error)?Ogt:h&&null!=h.totalSize&&(null==b||(null==p?void 0:p.isPopulated)||(null==p?void 0:p.error))&&(h.isPopulated||h.error)?Uu()(cYe,{containerServer:s,containerProvider:o,containerSourceURI:e,containerType:v,containerSubtype:g,containerDisplayFields:null==d?void 0:d.DisplayFields,containerKey:f,listStyle:P},void 0,O?Tgt:Uu()(ngt,{totalSize:h.totalSize,meta:d,directoryKey:y,activeType:m}),Uu()(YH,{serverEntityID:s.entityID,providerEntityID:o.entityID}),bgt("div",{className:fgt.a.listContainer,ref:l},c?Uu()(Igt,{},void 0,0===h.totalSize?Uu()($ut,{directoryKey:y,selectedPivot:a}):Uu()(evt,{className:fgt.a.pageContentScroller,listType:v,subtype:g,activeType:m,items:h.items,totalSize:h.totalSize,scrollerKey:"DirectoryListPage",targetScrollIndex:M,onPageRequest:j})):null,m&&c?Uu()(dvt,{activeType:m,viewportHeight:c,listTotalSize:h.totalSize,onFirstCharacterScroll:T}):null)):jgt:Pgt},Egt=a("LtKR"),Ngt=a.n(Egt),xgt=()=>Uu()(vp,{title:Object(Ze.default)("Sign up for a free account to continue"),description:Object(Ze.default)("Some benefits to a Plex account:")},void 0,Uu()("div",{className:Ngt.a.container},void 0,Uu()("div",{className:Ngt.a.panel},void 0,Uu()(knt,{className:Ngt.a.panelIcon}),Uu()("div",{className:Ngt.a.panelTitle},void 0,Object(Ze.default)("One App, Any Device")),Uu()("div",{className:Ngt.a.panelDescription},void 0,Object(Ze.default)("Pick up whatever you were watching exactly where you left off on any device"))),Uu()("div",{className:Ngt.a.panel},void 0,Uu()(rje,{className:Ngt.a.panelIcon}),Uu()("div",{className:Ngt.a.panelTitle},void 0,Object(Ze.default)("Save Your Favorites")),Uu()("div",{className:Ngt.a.panelDescription},void 0,Object(Ze.default)("Save your favorite Podcasts and Web Shows. Add a TIDAL subscription to save your favorite music and playlists"))),Uu()("div",{className:Ngt.a.panel},void 0,Uu()(znt,{className:Ngt.a.panelIcon}),Uu()("div",{className:Ngt.a.panelTitle},void 0,Object(Ze.default)("Parental Controls")),Uu()("div",{className:Ngt.a.panelDescription},void 0,Object(Ze.default)("Enable parental controls to keep things kid-friendly, or create separate accounts for your childish roommates")))),Uu()(oh,{},void 0,Uu()(KC,{to:"#!/signUp",kind:Bv.Primary,size:gp.Large},void 0,Object(Ze.default)("Sign Up")))),Agt=a("PuYh"),Lgt=a.n(Agt),{Fragment:kgt}=Ed.a;!function(e){e.Dvr="dvr",e.Episode="episode",e.Home="home",e.Movies="movies",e.Music="music",e.News="news",e.Photos="photos",e.Playlists="playlists",e.Podcasts="podcasts",e.Tv="tv",e.Videos="videos",e.Webshows="webShows",e.Shared="shared"}(vgt||(vgt={}));var Rgt=({overrideTitle:e,overrideDetail:t})=>{var[a,i,r]=wv(),n=Object(Fu.d)(xv("allSavedPivotParams")),s=ny(),o=wye(),l=JQ(i,r),c=r?R7({sourceType:l?l.key:null,sourceServer:a,sourceProvider:i,sourceDirectory:r}):void 0,d=e||function(e,t,a){return t.isEmbedded?Object(Ze.default)("Downloads"):e?e.title:t.isCloud?a.title:p3(t)}(r,a,i),u=t||function(e,t){return t.isCloud?null==e?void 0:e.providerSourceTitle:t.isFullOwnedServer?e?e.serverFriendlyName:void 0:e?e.serverSourceTitle+"  "+e.serverFriendlyName:u3(t)}(c,a),p=a.isEmbedded?vue(n.downloads):Jt(a,i,r,r?void 0:{key:"/hubs",pageType:xt});return Uu()("div",{className:Lgt.a.container},void 0,a.isEmbedded?null:Uu()(kgt,{},void 0,Uu()(C3e,{className:Lgt.a.tooltipButton,id:s,iconComponent:Y3e,label:Object(Ze.default)("Actions"),isMenuOpen:o.isOpen,onPress:o.onToggle}),Uu()(Uet,{target:s,serverEntityID:a.entityID,providerEntityID:i.entityID,source:c,isOverflowMenuOpen:o.isOpen,onOverflowMenuClose:o.onClose})),Uu()(O5e,{title:d,detail:u,route:p}))},zgt=a("Ln5r"),Ugt=a.n(zgt),Vgt=Ed.a.createElement,Bgt=e=>{var{className:t=Ugt.a.button,selectedClassName:a=Ugt.a.selectedButton,isSelected:i,children:r}=e,n=Je()(e,["className","selectedClassName","isSelected","children"]);return(Vgt(KC,tp()({className:i?a:t,size:gp.Large},n),r))},Fgt=a("CuR8"),Hgt=a.n(Fgt),_gt={placement:"bottom-start",modifiers:{offset:{offset:YU.a.pageHeaderTabButtonLeftRightMargin}}},Qgt=({pivots:e,selectedPivot:t,onPivotPress:a})=>{var i,[r,n,s]=wv(),o=ny(),l=wye();return Uu()("div",{id:o,className:Hgt.a.container,"data-qa-id":"tabDropDown"},void 0,Uu()(Bgt,{className:Hgt.a.button,isSelected:!!t,onPress:l.onToggle},void 0,Uu()("div",{className:Hgt.a.buttonContents},void 0,Uu()("div",{className:Hgt.a.title},void 0,null!=(i=null==t?void 0:t.title)?i:e[0].title),Uu()(my,{className:(Hgt.a.disclosureArrow||"")+" "+(!!t&&Hgt.a.isSelected||""),direction:l.isOpen?cy:dy}))),Uu()(Fg,{isOpen:l.isOpen,target:o,options:_gt,onMenuClose:l.onClose},void 0,e.map((e,i)=>{var o=Brt(r,n,s,e);return o?Uu()(iy,{to:o,value:e.key,isSelected:e===t,onPress:a},i,e.title):null})))},Wgt=a("+LVH"),Ggt=a.n(Wgt),Ygt=Ed.a.createElement,{useCallback:Kgt,useEffect:qgt,useMemo:Zgt,useState:Xgt}=Ed.a,Jgt=({pivots:e,selectedPivot:t})=>{var[a,i,r]=wv(),[n,{width:s}]=Object(Bb.a)(),[o,{width:l}]=Object(Bb.a)(),c=Xgt(l),d=c[1],u=c[0],p=l||u,h=Zgt(()=>e.filter(e=>!Vrt(e)),[e]),m=h.length<2,v=h.length>1&&p>s,g=NKe({identifier:i.metricsIdentifier,origin:"tabChange"}),y=Qut(Kgt(()=>{g({action:kd.eb})},[g]));return qgt(()=>{l&&d(l)},[l]),m?null:Ygt("div",{className:Ggt.a.pageHeaderCenter,ref:n},v?Uu()(Qgt,{pivots:h,selectedPivot:t,onPivotPress:y}):Ygt("div",{ref:o},h.map((e,n)=>{var s=Brt(a,i,r,e);return s?Uu()(Bgt,{to:s,isSelected:e===t,onPress:y},n,e.title):null})))},$gt=Object(_u.a)(Rut,e=>e.title),eyt=a("cifS"),tyt=a.n(eyt),{useCallback:ayt,useMemo:iyt}=Ed.a,ryt=({sourceURI:e,selectedPivot:t})=>{var a,i=Object(Fu.c)(),[,,r]=wv(),n=Object(Fu.d)(zut),s=null!=(a=null==n?void 0:n.Pivot)?a:null==r?void 0:r.pivots,o=Object(Fu.d)($gt),l=Object(Fu.d)(xv("prePlayListStyles")),c=iyt(()=>hgt(e),[e]),d=Object(Fu.d)(c),u=iyt(()=>pgt(e),[e]),p=Object(Fu.d)(u),h=ayt(t=>{if(e){var a=Object.assign({},l,{[e]:t});Object(wa.a)(()=>{i(Object(Qu.f)({directoryListStyles:a}))})}},[i,l,e]);return Uu()(wrt,{className:tyt.a.pageHeader},void 0,Uu()(mnt,{},void 0,Uu()(Rgt,{overrideTitle:o})),s&&t?Uu()(Jgt,{pivots:s,selectedPivot:t}):null,Uu()(Art,{},void 0,Uu()(J0e,{listStyles:p,selectedListStyle:d,onListStyleSelect:h})))},nyt=xv("lastSourcePivots"),syt=xv("shouldSaveLastSourcePivots");var oyt=Object(uv.a)((function(e,t,a){return Object(_u.a)(nyt,syt,(i,r)=>{if(r)return i[Object(Kc.a)(e,t,a)]})}));var lyt=function(e=[],t){return e.find(e=>e.id?e.id===t||e.key===t:!!e.key&&e.key===t)},{useEffect:cyt}=Ed.a;var dyt=function({machineIdentifier:e,providerIdentifier:t,contentDirectoryID:a,pageType:i,pivotID:r}){var n,s,o,l=Object(Fu.c)(),c=Object(Fu.d)(zut),d=Object(Fu.d)(Iv(e,t,a)),u=Object(Fu.d)(syt),p=Object(Fu.d)(nyt),h=Object(Fu.d)(oyt(e,t,a));i?n=null==c?void 0:null==(s=c.Pivot)?void 0:s.find(e=>e.active):(n=lyt(null==d?void 0:d.pivots,r))||(n=h?lyt(null==d?void 0:d.pivots,h):null==d?void 0:null==(o=d.pivots)?void 0:o[0]);var m=a?Object(Kc.a)(e,t,a):void 0;return cyt(()=>{u&&m&&n&&h!==n.key&&null==i&&l(Object(Qu.f)({lastSourcePivots:Object.assign({},p,{[m]:n.key})}))},[l,h,p,r,i,n,u,m]),n},uyt=a("NoME"),pyt=a("piIK"),hyt=xe.a.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:Ae.a.integer,time:Ae.a.integer},syncedRelations:{scheduled:{relationClass:UDe.default,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime(){var e=this.get("visibleDays"),t=Object(Xc.a)(this.get("time")),a=Object(qy.a)(t);return e>1&&(a=Object(Uy.a)(a,1)),Object(zy.a)(a)},endTime(){var e=this.get("visibleDays"),t=Object(Xc.a)(this.get("time")),a=Object(pyt.a)(t);return e>1&&(a=Object(WT.a)(a,e-2)),Object(zy.a)(a)},daysOfWeek(){var e=Object(Xc.a)(this.get("startTime")),t=Object(Xc.a)(this.get("endTime")),a=Object(uyt.a)(t,e);return D.a.times(Math.min(a+1,7),t=>Object(zy.a)(Object(WT.a)(e,t)))},days(){var e=Object(Xc.a)(this.get("startTime")),t=Object(Xc.a)(this.get("endTime")),a=Object(uyt.a)(t,e);return D.a.times(a+1,t=>Object(zy.a)(Object(WT.a)(e,t)))},firstEvent(){return this.get("scheduled").first()},lastEvent(){return this.get("scheduled").last()},hasPastEvents(){var e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents(){var e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:()=>({visibleDays:7,time:Object(zy.a)(Date.now())}),augmentResponseText:(e,t)=>t===ct.c?Object(dt.b)(e):e});var myt=function(e,t){var a=t&&t.includeDirectories?["Directory",...dt.a]:dt.a;return function e(t,a,i){if(Array.isArray(t))return t.map(t=>e(t,a,i));if(Object(dk.a)(t))for(var r in t){var n=t[r],s=void 0;a[r]?(s=i,delete t[r]):s=r,t[s]=e(n,a,i)}return t}(e,a=a.reduce((e,t)=>Object.assign({},e,{[t]:t}),{}),"Metadata")},vyt=ke.a.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[...ke.a.prototype.instanceOptions,"includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"],model:FDe,url(){var e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),_.join("/media/subscriptions",e)},augmentResponseText(e,t){return t===ct.c?Object(dt.b)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse(e,t){return t===ct.a?myt(e,{includeDirectories:!!this.includeDirectories}):e}}),gyt="ui/recordingSchedulePage/initRecordingSchedulePage",yyt="ui/recordingSchedulePage/clearRecordingSchedulePage",fyt="ui/recordingSchedulePage/fetchMediaSubscriptions",byt="ui/recordingSchedulePage/moveMediaSubscription",Iyt="ui/recordingSchedulePage/setVisibleDays",Syt="ui/recordingSchedulePage/goToToday",Myt="ui/recordingSchedulePage/goToPreviousRange",Cyt="ui/recordingSchedulePage/goToNextRange",Dyt="ui/recordingSchedulePage/fetchCalendar",Pyt="ui/recordingSchedulePage/playRecording",Oyt="ui/recordingSchedulePage/clearMoveError",jyt=Object(Pa.a)(gyt),Tyt=Object(Pa.a)(yyt),wyt=Object(Pa.a)(fyt),Eyt=Object(Pa.a)(byt),Nyt=Object(Pa.a)(Iyt),xyt=Object(Pa.a)(Syt),Ayt=Object(Pa.a)(Myt),Lyt=Object(Pa.a)(Cyt),kyt=Object(Pa.a)(Dyt),Ryt=Object(Pa.a)(Pyt),zyt=Object(Pa.a)(Oyt);function Uyt(e){return e.get("ui").get("recordingSchedulePage")}function Vyt(e){return Uyt(e).get("calendar")}function Byt(e,t,a){var i=Uyt(e),r=Object(Ta.m)(e,t);if(i.get("isPagePopulated")){var n=i.get("calendar"),s=i.get("mediaSubscriptions");n&&n.server===r&&a(kyt()),s&&s.server===r&&a(wyt())}}var Fyt=uk({[gyt](e,t){var a=Uyt(e),i=a.get("mediaSubscriptions"),r=a.get("calendar"),n=Object(Ta.m)(e,t),s={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};i&&i.server===n||(s.mediaSubscriptions=new vyt([],{server:n})),r&&r.server===n?r.restoreDefaults():s.calendar=new hyt({},{server:n}),a.set(s)},[yyt](e){Uyt(e).set("isPagePopulated",!1)},[fyt]:Object(Oa.a)({key:"mediaSubscriptions",getModel:Uyt}),[byt](e,t){var a=Uyt(e),i=a.get("mediaSubscriptions"),r=Object(Ta.e)(e,t),n=r&&i.indexOf(r),{moveIndex:s}=t;if(Object(wa.a)(()=>{a.set({mediaSubscriptionMoveError:null})}),n!==s&&n!==s-1){var o=s>n?s-1:s;i.remove(r),i.add(r,{at:o});var l=o>0?i.at(o-1).id:void 0;_De(r,l).fail(e=>{i.remove(r),i.add(r,{at:n});var t=401===e.status?Object(Ze.default)("You do not have permission to perform this action."):Object(Ze.default)("There was a problem saving your changes. Please try again.");a.set({mediaSubscriptionMoveError:t})})}},[Oyt](e,t){Uyt(e).set({mediaSubscriptionMoveError:null})},[Iyt](e,t,a){Vyt(e).set("visibleDays",t.visibleDays)},[Syt](e,t,a){Vyt(e).set("time",Object(zy.a)(new Date))},[Myt](e,t,a){var i=Vyt(e),r=i.get("visibleDays"),n=Object(Xc.a)(i.get("time"));i.set("time",Object(zy.a)(Object(Uy.a)(n,r)))},[Cyt](e,t,a){var i=Vyt(e),r=i.get("visibleDays"),n=Object(Xc.a)(i.get("time"));i.set("time",Object(zy.a)(Object(WT.a)(n,r)))},[Dyt]:Object(Oa.a)({key:"calendar",getModel:Uyt}),[Pyt](e,t,a){var{serverEntityID:i,providerEntityID:r,linkedKey:n,metricsContext:s}=t,o=Object(Ta.m)(e,t),l=new ut.a({key:n},{server:o});l.populate().done(()=>{a(Object(Cw.p)({serverEntityID:i,providerEntityID:r,metadataItemEntityID:l.entityID(),metricsPage:Rd.L,metricsContext:s}))})},[Ea](e,t,a){var i=t.activity;("provider.subscriptions.process"===i.type&&Byt(e,t,a),"grabber.grab"===i.type)&&("error"===i.Response.status&&Byt(e,t,a))}});function Hyt(e){return!0}function _yt(e,t=Hyt){return LS(function(e,t){return Object(_u.a)(pv,iF(),(a,i)=>i?i.reduce((i,r)=>{var n=a[r];return n&&t(n)&&D.a.findWhere(n.features,{type:e})&&i.push(r),i},[]):[])}(e,t),e=>e)}function Qyt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Qyt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var Wyt=Qyt;function Gyt(){return Object(_u.a)((e,{providerID:t})=>t,iF(),pv,(e,t,a)=>{if(e)return t.find(t=>{var i=a[t];return i&&i.identifier===e})})}var Yyt=function(e){var{className:t,beginsAt:a,endsAt:i,timeFormat:r}=e,n=function(e,t,a){return e?SIe(e,t)?Object(Ze.default)("Airing now"):bIe(e,null,{timeFormat:a}):Object(Ze.default)("No upcoming airings")}(a,i,r);return Uu()("span",{className:t},void 0,n)},Kyt=a("wRpn"),qyt=a.n(Kyt);var Zyt=function({className:e,type:t}){return Uu()("span",{className:e},void 0,Uu()(bPe,{className:qyt.a.seriesIcon}),function(e){if("show"===e)return Object(Ze.default)("Series")}(t))},Xyt=a("9RqU"),Jyt=a.n(Xyt),$yt=Ed.a.createElement;var eft=function(e){var{component:t,isSecondary:a}=e,i=Je()(e,["component","isSecondary"]);return($yt(t,tp()({className:a?Jyt.a.secondaryTitle:Jyt.a.title},i)))},tft=a("FYT4"),aft=a.n(tft),ift=Ed.a.createElement,{Component:rft}=Ed.a;class nft extends rft{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=this.props,{serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:i,type:r,subtype:n,thumb:s,grandparentThumb:o,connectDragSource:l}=e,c=Je()(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),{isSubscribeModalOpen:d}=this.state,u="playlist"===r?"show":r;return Uu()("div",{className:aft.a.subscription},void 0,Uu()(Vp,{className:aft.a.link,onPress:this.onLinkPress},void 0,Uu()("div",{className:aft.a.linkContainer},void 0,Uu()(Rne,{className:aft.a.posterContainer,serverEntityID:t,providerEntityID:a,component:PM,type:u,width:48,height:wM(48,u,n),url:o||s}),Uu()("div",{className:aft.a.titleContainer},void 0,function(e){var t;switch(e){case"movie":t=[hle,jle];break;case"show":t=[hle,Zyt];break;case"episode":t=[sPe,iSe];break;case"playlist":t=[hle,Zyt];break;default:t=[hle]}return t.push(Yyt),t}(r).map((e,t)=>ift(eft,tp()({key:t,component:e,isSecondary:t>0,type:r},c)))))),l(Uu()("div",{className:aft.a.dragHandle},void 0,Uu()(Pxe,{className:aft.a.dragIcon})),{dropEffect:"copy"}),Uu()(hOe,{isOpen:d,serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:i,subscriptionType:r,onModalClose:this.onSubscribeModalClose}))}}nft.defaultProps={connectDragSource:e=>e};var sft=nft,oft=Ed.a.createElement;var lft=Object(Fu.b)((function(){return Object(_u.a)(_be,J6(),Object(_u.a)(e=>e.ui.recordingSchedulePage.calendar.scheduled,J6(),(e,t)=>D.a.find(e,e=>Object(aX.a)(Object(Xc.a)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key)),(e,t,a)=>{var i=D.a.pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return a&&(i.beginsAt=a.beginsAt,i.endsAt=a.endsAt),i.timeFormat=e,i})}))((function(e){return oft(sft,e)})),cft=a("c4QI"),dft=a.n(cft),{Component:uft}=Ed.a,pft=parseInt(YU.a.recordingPriorityPaneWidth,10),hft=parseInt(YU.a.recordingPriorityDragHandleWidth,10);var mft=Object(axe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends uft{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,item:a,itemType:i,currentOffset:r}=this.props;if(!r||"RECORDING_PRIORITY_SUBSCRIPTION"!==i)return null;var{x:n,y:s}=r,o="translate3d("+(n-(pft-hft))+"px, "+s+"px, 0)",l={position:"absolute",WebkitTransform:o,msTransform:o,transform:o};return Uu()(mxe,{},void 0,Uu()("div",{className:dft.a.dragPreview,style:l},void 0,Uu()(lft,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a.mediaSubscriptionEntityID})))}}),vft=a("MWmE"),gft=a.n(vft),{Component:yft}=Ed.a,fft={beginDrag:({mediaSubscriptionEntityID:e})=>({mediaSubscriptionEntityID:e}),endDrag(e,t,a){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},bft={hover(e,t,a){var i=Object(Vu.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,n=t.getClientOffset().y-i.top,s=e.sortIndex,o=n>r?s+1:s;e.onSubscriptionDragMove(o)}};var Ift=Object(axe.DropTarget)("RECORDING_PRIORITY_SUBSCRIPTION",bft,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("RECORDING_PRIORITY_SUBSCRIPTION",fft,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends yft{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,isDragging:i,isDraggingBefore:r,isDraggingAfter:n,isOver:s,connectDropTarget:o,connectDragSource:l}=this.props;return o(Uu()("div",{className:(gft.a.dragSource||"")+" "+(i?"isDragging":"")+" "+(r&&s?"isDraggingBefore":"")+" "+(n&&s?"isDraggingAfter":"")},void 0,Uu()(lft,{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,connectDragSource:l})))}})),Sft=a("1eVT"),Mft=a.n(Sft);var Cft=function(e){var{serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityIDs:i,guideRoute:r,showError:n,showEmptyState:s,moveIndex:o,onSubscriptionDragMove:l,onSubscriptionDragEnd:c}=e;return(Uu()("div",{className:Mft.a.pane},void 0,Uu()("div",{className:Mft.a.paneHeader},void 0,Object(Ze.default)("Recording Priority")),Uu()(rh,{className:Mft.a.paneScroller,autoScroll:!0},void 0,n?Uu()("div",{className:Mft.a.error},void 0,Uu()("div",{},void 0,Object(Ze.default)("There was an error loading recordings.")),Uu()("div",{},void 0,Object(Ze.default)("Please try again."))):null,s?Uu()("div",{className:Mft.a.empty},void 0,Uu()("div",{},void 0,Object(Ze.default)("You have no recordings scheduled.")),Uu()("div",{},void 0,Uu()(oT,{message:Object(Ze.default)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:r}]}))):null,n||s?null:i.map((e,i)=>{var r=null!=o,n=r&&o===i,s=r&&o===i+1;return Uu()(Ift,{serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:e,isDraggingBefore:n,isDraggingAfter:s,sortIndex:i,onSubscriptionDragMove:l,onSubscriptionDragEnd:c},e)})),Uu()(mft,{serverEntityID:t,providerEntityID:a})))},Dft=Ed.a.createElement,{Component:Pft}=Ed.a;var Oft={dispatchMoveMediaSubscription:Eyt,dispatchClearMoveError:zyt,dispatchShowAlert:ji.d};var jft=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,Gyt(),(e,t)=>{var{mediaSubscriptions:a,isMediaSubscriptionsPopulated:i,mediaSubscriptionsError:r,mediaSubscriptionMoveError:n}=e;return{providerEntityID:t,mediaSubscriptionEntityIDs:a,mediaSubscriptionMoveError:n,showError:!i&&!!r,showEmptyState:i&&!r&&!a.length}})}),Oft)(class extends Pft{constructor(e,t){super(e,t),this.onSubscriptionDragMove=e=>{this.setState({moveIndex:e})},this.onSubscriptionDragEnd=(e,t)=>{var{moveIndex:a}=this.state;t&&null!=a&&Object(wa.a)(()=>{this.props.dispatchMoveMediaSubscription(Object.assign({},e,{moveIndex:a}))}),this.setState({moveIndex:null})},this.state={moveIndex:null}}componentDidUpdate(e){var{mediaSubscriptionMoveError:t,dispatchShowAlert:a,dispatchClearMoveError:i}=this.props,{mediaSubscriptionMoveError:r}=e;!r&&t&&(a(t),i())}render(){return Dft(Cft,tp()({moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd},this.props))}});var Tft=function({subscriptionCount:e}){return Uu()(xH,{iconComponent:Wyt,title:Object(Ze.default)("You have no recordings scheduled"),description:1===e?Object(Ze.default)("There are no upcoming airings of the item in your list"):Object(Ze.default)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:e})})},wft=Ed.a.createElement,{Component:Eft}=Ed.a;var Nft=xG((function(){return Object(_u.a)((e,{mediaSubscriptionID:t})=>t,(e,{status:t})=>t,_be,Object(_u.a)((e,{linkedKey:t})=>t,(e,{metricsContext:t})=>t,GS,(e,t,a)=>{var i={};return t&&(i.context=t),lu(a,{isLibraryProvider:!0},e,i)}),ZG(),mOe(),Gyt(),(e,t,a,i,r,n,s)=>{var o="complete"===t,l="error"===t,c=D.a.pick(r,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),d=Object.assign({providerEntityID:s,prePlayRoute:i,isComplete:o,hasError:l,hasSubscription:!!e,showPlay:o&&!!i,timeFormat:a},c);return n?(d.isRecording=!0,d.isPostProcessing="postprocessing"===n.Context.status,d.recordingProgress=n.progress):(d.isRecording=!1,d.isPostProcessing=!1),d})}),{dispatchPlayRecording:Ryt})(class extends Eft{constructor(...e){super(...e),this.onPlayPress=e=>{var{serverEntityID:t,providerEntityID:a,linkedKey:i,metricsContext:r,dispatchPlayRecording:n}=this.props;n({serverEntityID:t,providerEntityID:a,linkedKey:i,metricsContext:r})}}render(){var e=this.props,{component:t}=e,a=Je()(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]);return(wft(t,tp()({},a,{onPlayPress:this.onPlayPress})))}});var xft=function({children:e,mediaItem:t}){var a,i=t&&t.videoResolution,r=!1;if(i){var n=parseInt(i,10);r=!0,a=n>=720||4===n||8===n}return e||r?Uu()(URe,{},void 0,e,r?Uu()(HRe,{label:Object(Ze.default)("Video")},void 0,a?Object(Ze.default)("HD"):Object(Ze.default)("SD")):null):null};var Aft=function(e){var{children:t,beginsAt:a,endsAt:i,channel:r,timeFormat:n}=e;if(!a||!i)return null;var s,o=Date.now()/1e3;return s=i<o?Object(Ze.default)("Aired"):a<=o&&i>=o?Object(Ze.default)("Airing"):Object(Ze.default)("Airs"),Uu()(HRe,{label:s},void 0,Uu()(jIe,{beginsAt:a,endsAt:i,channel:r,showFullTime:!0,showChannel:!0,timeFormat:n}),t)},Lft=a("U+t5"),kft=a.n(Lft);var Rft=function(e){var{serverEntityID:t,providerEntityID:a,summary:i,error:r,mediaItem:n,isComplete:s,hasError:o,isRecording:l,recordingProgress:c,timeFormat:d,onRecordingModify:u,onModalClose:p}=e,h=Je()(e,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),{beginsAt:m,endsAt:v,startOffsetSeconds:g,endOffsetSeconds:y,channelTitle:f,channelShortTitle:b}=n,I=!(!g&&!y),S=g&&Math.round(g/60),M=y&&Math.round(y/60);return Uu()(UL,{onModalClose:p},void 0,Uu()(jL,{},void 0,Object(Ze.default)("Airing Details")),Uu()(fL,{},void 0,Uu()(NPe,{serverEntityID:t,providerEntityID:a,hint:h},void 0,Uu()(xft,{mediaItem:n},void 0,Uu()(Aft,{beginsAt:m,endsAt:v,channel:b||f,showFullTime:!0,showChannel:!0,timeFormat:d},void 0,Uu()("div",{},void 0,s?Uu()("span",{},void 0,Uu()(ey,{className:kft.a.completeIcon}),Object(Ze.default)("Recorded successfully")):null,l?Uu()("span",{},void 0,Uu()(SPe,{className:kft.a.recordingIcon}),Object(Ze.default)("Recording"),Uu()($y,{className:kft.a.separator}),Object(Ze.default)("{recordingProgress}% complete",{recordingProgress:c})):null,o?Uu()("span",{},void 0,Uu()(mh,{className:kft.a.errorIcon}),r):null,s||l||o||!I?null:Uu()("span",{},void 0,S?Uu()("span",{},void 0,Object(Ze.default)("Recording starts {minuteOffset} min early",{minuteOffset:S}),M?Uu()("span",{},void 0,Uu()($y,{className:kft.a.separator}),Object(Ze.default)("Ends {minuteOffset} min late",{minuteOffset:M})):null):Uu()("span",{},void 0,Object(Ze.default)("Recording ends {minuteOffset} min late",{minuteOffset:M})))))),Uu()("div",{className:kft.a.summary},void 0,i))),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(rT,{kind:Cp,size:Tp,onPress:u},void 0,Object(Ze.default)("Modify Recording")),Uu()(rT,{kind:Dp,size:Tp,onPress:p},void 0,Object(Ze.default)("Close")))))},zft=Ed.a.createElement;var Uft=Object(Fu.b)((function(){return Object(_u.a)(_be,ZG(),(e,t)=>{var a=D.a.pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return a.timeFormat=e,a})}))((function(e){return zft(Rft,e)})),Vft=Ed.a.createElement;var Bft=function(e){var{isOpen:t,metricsProperties:a,metadataItemEntityID:i,onRecordingModify:r,onModalClose:n}=e,s=Je()(e,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return(Uu()(xT,{isOpen:t,metricsPage:Rd.G,metricsProperties:a,onModalClose:n},void 0,Vft(Uft,tp()({metadataItemEntityID:i,onRecordingModify:r,onModalClose:n},s))))},Fft=a("v7SW"),Hft=a.n(Fft);var _ft=function({error:e,onPress:t}){return Uu()(zb,{className:Hft.a.errorButton,component:Vp,tooltip:e,tooltipClassName:Hft.a.errorTooltip,tooltipAttachment:"bottomCenter",onPress:t},void 0,Uu()(mh,{"aria-label":e}))},Qft=a("aL7q"),Wft=a.n(Qft),{Component:Gft}=Ed.a,Yft={context:_t.AGENDA};var Kft=Uu()(Ust,{}),qft=Uu()(Kh,{});var Zft=class extends Gft{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e,{serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:i,metadataItemEntityID:r,prePlayRoute:n,type:s,title:o,grandparentTitle:l,index:c,parentIndex:d,originallyAvailableAt:u,error:p,mediaItem:h,isRecording:m,isPostProcessing:v,recordingProgress:g,isComplete:y,hasError:f,hasSubscription:b,hasConflicts:I,showPlay:S,showDate:M,timeFormat:C,onPlayPress:D}=this.props,{isAiringDetailsModalOpen:P,isSubscribeModalOpen:O,isConflictsModalOpen:j}=this.state,{beginsAt:T,endsAt:w,startOffsetSeconds:E=0,endOffsetSeconds:N=0,premiere:x}=h,A=Object(Xc.a)(T),L=Wbe(T-E,w+N,{timeFormat:C}),k=tf(T);e=fIe(T)?Object(Ze.default)("Yesterday"):k?Object(Ze.default)("Today"):Object(Ze.default)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:cIe(T,{abbreviate:!0}),monthNumber:uIe(T,{abbreviate:!0}),dayNumber:Object(oIe.a)(A)});var R=l||o,z=function(e,t,a,i,r,n){return"episode"!==e?a:t+" - "+Object(ZI.a)({seasonIndex:i,episodeIndex:r,date:n})+" - "+a}(s,l,o,d,c,u);return Uu()("div",{className:(Wft.a.event||"")+" "+(y&&Wft.a.isComplete||"")+" "+(f&&Wft.a.hasError||"")},void 0,Uu()(Vp,{className:Wft.a.underlay,to:n,onPress:n?void 0:this.onLinkPress}),Uu()("div",{className:Wft.a.overlay},void 0,Uu()("div",{className:(Wft.a.date||"")+" "+(k&&Wft.a.isToday||"")},void 0,M?e:null),Uu()("div",{className:Wft.a.time},void 0,L),Uu()("div",{className:Wft.a.title,title:z},void 0,x?Kft:null,R,Uu()("div",{className:Wft.a.titleDetails},void 0,"movie"===s?Uu()(Tle,{metadataItemEntityID:r}):null,"episode"===s?Uu()(rSe,{metadataItemEntityID:r}):null)),Uu()("div",{className:Wft.a.status},void 0,!m||v||f?null:Uu()("div",{className:Wft.a.recording},void 0,Uu()(pV,{size:24,backgroundClassName:Wft.a.recordingProgressBackground,lineWidth:2,progress:g,showProgressText:!1}),Uu()("span",{className:Wft.a.recordingIcon})),m&&v&&!f?qft:null,S?Uu()(kle,{title:o,onPress:D}):null,f?Uu()(_ft,{error:p,onPress:I?this.onConflictIconPress:this.onLinkPress}):null)),b?Uu()(Bft,{isOpen:P,metricsProperties:Yft,serverEntityID:t,providerEntityID:a,metadataItemEntityID:r,error:p,mediaItem:h,hasSubscription:b,isComplete:y,hasError:f,isRecording:m,recordingProgress:g,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,b?Uu()(hOe,{isOpen:O||j,metricsProperties:Yft,serverEntityID:t,providerEntityID:a,mediaSubscriptionEntityID:i,metadataItemEntityID:r,subscriptionType:s,showConflicts:j,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}};var Xft=function({serverEntityID:e,events:t}){return Uu()("div",{},void 0,t.map((a,i)=>{var r=Object(Xc.a)(a.beginsAt),n=0===i||!Object(ef.a)(Object(Xc.a)(t[i-1].beginsAt),r),s=Object(pt.a)(ht.f,a.mediaSubscriptionID,e);return Uu()(Nft,{component:Zft,serverEntityID:e,providerID:a.identifier||a.provider,metadataItemEntityID:a.metadataItem,mediaSubscriptionEntityID:s,mediaSubscriptionID:a.mediaSubscriptionID,eventID:a.metadataItem.key,status:a.status,error:a.error,linkedKey:a.linkedKey,mediaItem:a.mediaItem,hasConflicts:!(!a.conflicts||!a.conflicts.length),showDate:n},i)}))};var Jft=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({events:e.scheduled}))}))(Xft),$ft=a("cnyc"),ebt=a("5ic+"),tbt=a.n(ebt);function abt(e){var t=Object(Xc.a)(e);return Object(Ze.default)("{month} {dayNumber}, {year}",{month:uIe(e),dayNumber:Object(oIe.a)(t),year:Object($ft.a)(t)})}var ibt=function({startTime:e,endTime:t}){var a,i,r=Object(Xc.a)(e),n=Object(Xc.a)(t),s=Object(ef.a)(r,n)?abt(e):(a=e,i=Object(Xc.a)(a),Object(Ze.default)("{month} {dayNumber}",{month:uIe(a),dayNumber:Object(oIe.a)(i)})+"  "+abt(t));return Uu()("span",{className:tbt.a.title},void 0,s)},rbt=a("SYtG"),nbt=a.n(rbt),sbt=Ed.a.createElement;var obt=function(e){return Uu()("div",{className:nbt.a.agendaHeader},void 0,sbt(ibt,e))};var lbt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,e=>{var{firstEvent:t,lastEvent:a}=e.calendar;return{startTime:t?t.beginsAt:void 0,endTime:a?a.beginsAt:void 0}})}))(obt),cbt=Uu()(lbt,{});var dbt=function(e){var{serverEntityID:t,showError:a,isEmpty:i,subscriptionCount:r}=e;return a?Uu()(cst,{title:Object(Ze.default)("There was an error loading the agenda")}):i?Uu()(Tft,{subscriptionCount:r}):Uu()("div",{},void 0,cbt,Uu()(Jft,{serverEntityID:t}))};var ubt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,e=>{var{mediaSubscriptions:t,calendar:a,isCalendarPopulated:i,calendarError:r}=e;return{showError:!i&&!!r,isEmpty:!a.scheduled.length,subscriptionCount:t.length}})}))(dbt),pbt=a("M/J+"),hbt=a.n(pbt),{Component:mbt}=Ed.a,vbt={context:_t.CALENDAR},gbt=Uu()(Ust,{}),ybt=Uu()(Kh,{});var fbt=class extends mbt{constructor(e,t){super(e,t),this.onLinkPress=e=>{this.setState({isAiringDetailsModalOpen:!0})},this.onConflictIconPress=e=>{this.setState({isConflictsModalOpen:!0})},this.onRecordingModify=()=>{this.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},this.onAiringDetailsModalClose=()=>{this.setState({isAiringDetailsModalOpen:!1})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},this.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:i,prePlayRoute:r,type:n,grandparentTitle:s,title:o,error:l,mediaItem:c,isRecording:d,isPostProcessing:u,recordingProgress:p,isComplete:h,hasError:m,hasSubscription:v,hasConflicts:g,showPlay:y,timeFormat:f,onPlayPress:b}=this.props,{isAiringDetailsModalOpen:I,isSubscribeModalOpen:S,isConflictsModalOpen:M}=this.state,{beginsAt:C,endsAt:D,startOffsetSeconds:P=0,endOffsetSeconds:O=0,premiere:j}=c,T=Wbe(C-P,D+O,{includeMinuteZero:!1,timeFormat:f}),w=s||o;return Uu()("div",{className:(hbt.a.event||"")+" "+(h&&hbt.a.isComplete||"")+" "+(m&&hbt.a.hasError||"")},void 0,Uu()(Vp,{className:hbt.a.underlay,to:r,onPress:r?void 0:this.onLinkPress}),Uu()("div",{className:hbt.a.overlay},void 0,Uu()("div",{className:hbt.a.title,title:w},void 0,w),Uu()("div",{className:hbt.a.secondaryInfo},void 0,Uu()("div",{className:hbt.a.time},void 0,T),j?gbt:null),Uu()("div",{className:hbt.a.status},void 0,!d||u||m?null:Uu()("div",{className:hbt.a.recording},void 0,Uu()(pV,{size:24,backgroundClassName:hbt.a.recordingProgressBackground,lineWidth:2,progress:p,showProgressText:!1}),Uu()("span",{className:hbt.a.recordingIcon})),d&&u&&!m?ybt:null,y?Uu()(kle,{title:o,onPress:b}):null,m?Uu()(_ft,{error:l,onPress:g?this.onConflictIconPress:this.onLinkPress}):null)),v?Uu()(Bft,{isOpen:I,metricsProperties:vbt,serverEntityID:e,providerEntityID:t,metadataItemEntityID:i,error:l,mediaItem:c,isComplete:h,hasError:m,isRecording:d,recordingProgress:p,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,v?Uu()(hOe,{isOpen:S||M,metricsProperties:vbt,serverEntityID:e,providerEntityID:t,mediaSubscriptionEntityID:a,metadataItemEntityID:i,subscriptionType:n,showConflicts:M,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)}};var bbt=function({serverEntityID:e,events:t}){return Uu()("div",{},void 0,t.map((t,a)=>{var i=Object(pt.a)(ht.f,t.mediaSubscriptionID,e);return(Uu()(Nft,{component:fbt,serverEntityID:e,providerID:t.identifier||t.provider,mediaSubscriptionEntityID:i,metadataItemEntityID:t.metadataItem,mediaSubscriptionID:t.mediaSubscriptionID,eventID:t.metadataItem.key,status:t.status,error:t.error,linkedKey:t.linkedKey,mediaItem:t.mediaItem,hasConflicts:!(!t.conflicts||!t.conflicts.length)},a))}))};var Ibt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage.calendar,(e,{date:t})=>t,(e,t)=>({events:e.scheduled.filter(({beginsAt:e})=>Object(ef.a)(Object(Xc.a)(e),Object(Xc.a)(t)))}))}))(bbt);Ibt.propTypes=Object.assign({date:Oc.a.number.isRequired},Ibt.propTypes);var Sbt=Ibt,Mbt=a("BgT4"),Cbt=a.n(Mbt);var Dbt=function({serverEntityID:e,date:t}){return Uu()("div",{className:Cbt.a.day},void 0,Uu()(Sbt,{serverEntityID:e,date:t}))},Pbt=a("1PeT"),Obt=a.n(Pbt),jbt=Ed.a.createElement;var Tbt=function(e){var{days:t}=e,a=Je()(e,["days"]);return(Uu()("div",{className:Obt.a.calendarDays},void 0,t.map(e=>jbt(Dbt,tp()({key:e,date:e},a)))))};var wbt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,e=>({days:e.calendar.days}))}))(Tbt),Ebt=a("SeTg"),Nbt=a.n(Ebt);var xbt=function({date:e}){var t,a=tf(e);if(fIe(e))t=Object(Ze.default)("Yesterday");else if(a)t=Object(Ze.default)("Today");else{var i=Object(Xc.a)(e);t=Object(Ze.default)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:cIe(e,{abbreviate:!0}),monthNumber:Object(dIe.a)(i)+1,dayNumber:Object(oIe.a)(i)})}return(Uu()("div",{className:(Nbt.a.dayOfWeek||"")+" "+(a&&Nbt.a.isToday||""),title:t},void 0,t))},Abt=a("4anc"),Lbt=a.n(Abt),kbt=Ed.a.createElement;var Rbt=function(e){var{daysOfWeek:t}=e,a=Je()(e,["daysOfWeek"]);return(Uu()("div",{className:Lbt.a.container},void 0,t.map(e=>kbt(xbt,tp()({key:e,date:e},a)))))};var zbt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage.calendar,e=>({daysOfWeek:e.daysOfWeek}))}))(Rbt),Ubt=a("dORf"),Vbt=a.n(Ubt),Bbt=Ed.a.createElement;var Fbt=function(e){var{hasPastEvents:t,hasFutureEvents:a,onGoToPreviousRangePress:i,onGoToNextRangePress:r}=e;return(Uu()("div",{className:Vbt.a.calendarHeader},void 0,Uu()("div",{className:Vbt.a.calendarHeader},void 0,Uu()(Vp,{className:(Vbt.a.calendarNav||"")+" "+(!t&&Vbt.a.calendarNavDisabled||""),kind:Cp,size:Tp,isDisabled:!t,onPress:i},void 0,Uu()(oO,{"aria-label":Object(Ze.default)("Previous Page")})),Bbt(ibt,e),Uu()(Vp,{className:(Vbt.a.calendarNav||"")+" "+(!a&&Vbt.a.calendarNavDisabled||""),kind:Cp,size:Tp,isDisabled:!a,onPress:r},void 0,Uu()(rO,{"aria-label":Object(Ze.default)("Next Page")})))))},Hbt=Ed.a.createElement;var _bt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,e=>{var t=D.a.pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return Object.assign({},t)})}))((function(e){return Hbt(Fbt,e)})),Qbt=a("3WIE"),Wbt=a.n(Qbt),{Component:Gbt}=Ed.a,Ybt=Uu()(zbt,{});var Kbt=class extends Gbt{constructor(e,t){super(e,t),this.onMeasure=({width:e})=>{var t=this.state.visibleDays,a=Math.min(Math.floor(e/120),7);a!==t&&this.props.onVisibleDaysChange(a),this.setState({width:e,visibleDays:a})},this.state={width:null,visibleDays:0}}render(){var{serverEntityID:e,showError:t,isEmpty:a,subscriptionCount:i,visibleDays:r,onGoToPreviousRangePress:n,onGoToNextRangePress:s}=this.props;return t?Uu()(cst,{title:Object(Ze.default)("There was an error loading the calendar")}):a?Uu()(Tft,{subscriptionCount:i}):Uu()(p$,{className:Wbt.a.calendar,ignoreHeight:!0,onMeasure:this.onMeasure},void 0,r===this.state.visibleDays?Uu()("div",{},void 0,Uu()(_bt,{onGoToPreviousRangePress:n,onGoToNextRangePress:s}),Ybt,Uu()(wbt,{serverEntityID:e})):null)}},qbt=Ed.a.createElement,{Component:Zbt}=Ed.a;var Xbt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,e=>{var{mediaSubscriptions:t,calendar:a,isCalendarPopulated:i,calendarError:r}=e;return{showError:!i&&!!r,isEmpty:!a.scheduled.length,subscriptionCount:t.length,visibleDays:a.visibleDays}})}),f)(class extends Zbt{constructor(...e){super(...e),this.onVisibleDaysChange=e=>{Object(wa.a)(()=>{this.props.setVisibleDays({visibleDays:e})})},this.onGoToPreviousRangePress=()=>{this.props.goToPreviousRange()},this.onGoToNextRangePress=()=>{this.props.goToNextRange()}}render(){return qbt(Kbt,tp()({onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress},this.props))}}),Jbt=a("VGPm"),$bt=a.n(Jbt),eIt=Uu()(a3e,{},void 0,Uu()(xH,{},void 0,Uu()(Xh,{})));var tIt=function(e){var{serverEntityID:t,showSpinner:a,showEmptyState:i,programGuideIdentifier:r,selectedViewType:n,guideRoute:s}=e;return a?eIt:i&&r?Uu()(a3e,{},void 0,Uu()(xH,{iconComponent:Wyt,title:Object(Ze.default)("You have no recordings scheduled")},void 0,Uu()(oT,{className:$bt.a.emptyDescription,message:Object(Ze.default)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,to:s}]}))):i&&!r?Uu()(a3e,{},void 0,Uu()(xH,{iconComponent:Wyt,title:Object(Ze.default)("You have no recordings scheduled"),description:Object(Ze.default)("You need a DVR before you can schedule recordings")})):Uu()("div",{className:$bt.a.schedulePageContent},void 0,Uu()(a3e,{innerClassName:$bt.a.schedulePageInnerContent},void 0,"calendar"===n?Uu()(Xbt,{serverEntityID:t}):null,"agenda"===n?Uu()(ubt,{serverEntityID:t}):null),Uu()(jft,{serverEntityID:t,providerID:r,guideRoute:s}))};var aIt=Object(Fu.b)((function(){return Object(_u.a)((e,{sourceDirectory:t})=>t,RS(),kS(),(e,t,a)=>({guideRoute:na(ea,t,a,e)}))}))(tIt),{Component:iIt,Fragment:rIt}=Ed.a;function nIt(e){return"agenda"===e?Object(Ze.default)("Agenda View"):Object(Ze.default)("Calendar View")}var sIt=Uu()(Rrt,{});var oIt=class extends iIt{constructor(e,t){super(e,t),this.onViewsMenuButtonPress=e=>{this.setState({isViewsMenuOpen:!this.state.isViewsMenuOpen})},this.onViewsMenuClose=()=>{this.setState({isViewsMenuOpen:!1})},this.state={isViewsMenuOpen:!1},this._viewsMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,sourceDirectory:a,scheduleRoute:i,selectedViewType:r,showEPGActivity:n}=this.props,{isViewsMenuOpen:s}=this.state;return Uu()(rIt,{},void 0,Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),Uu()(dnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:$t}),sIt),Uu()(P1e,{},void 0,Uu()(Art,{},void 0,Uu()(PJ,{id:this._viewsMenuButtonID,hasMenu:!0,isMenuOpen:s,onPress:this.onViewsMenuButtonPress},void 0,nIt(r)),Uu()(Fg,{target:this._viewsMenuButtonID,isOpen:s,onMenuClose:this.onViewsMenuClose},void 0,Hc.map(e=>Uu()(iy,{to:_.join([i],{view:e}),isSelected:r===e},e,nIt(e))))),n?Uu()(mnt,{},void 0,Uu()(Llt,{serverEntityID:e,providerEntityID:t})):null))}};var lIt=Object(Fu.b)((function(){return Object(_u.a)((e,{sourceDirectory:t})=>t,RS(),kS(),_7e(),(e,t,a,i)=>({scheduleRoute:na($t,t,a,e),showEPGActivity:!!i}))}))(oIt),cIt=Ed.a.createElement,{Component:dIt}=Ed.a;var uIt=nxe(class extends dIt{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:i}=this.props;return(Uu()(vGe,{metricsContext:OAe(Rd.L,_t.DVR_SCHEDULE_PIVOT)},void 0,Uu()(tJ,{metricsPage:Rd.L,metricsProperties:{pane:i},scrollDirection:Jp},void 0,Uu()(lIt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:i}),Uu()(YH,{serverEntityID:e,providerEntityID:t}),cIt(aIt,this.props))))}}),{Component:pIt}=Ed.a;var hIt={initRecordingSchedulePage:jyt,clearRecordingSchedulePage:Tyt,goToToday:xyt,fetchCalendar:kyt,fetchMediaSubscriptions:wyt,saveExperienceSettings:Qu.f,changeQuickSearchSettings:uee};var mIt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.recordingSchedulePage,(e,{selectedViewType:t})=>t,kS(),K8e(),Object(_u.a)(pv,_yt(Ot.q),(e,t)=>{var a=t[0];if(a){var i=e[a];return i&&i.identifier}}),Nv.a,(e,t,a,i,r,n)=>{var{isPagePopulated:s,isCalendarPopulated:o,calendarError:l,isMediaSubscriptionsPopulated:c,mediaSubscriptionsError:d,calendar:u}=e,p=!o&&!l||!c&&!d,h=!p&&c&&!e.mediaSubscriptions.length&&o&&!u.scheduled.length;return{sourceDirectory:i,providerIdentifier:a.identifier,isPagePopulated:s,showSpinner:p,showEmptyState:h,programGuideIdentifier:r,time:u?u.time:void 0,selectedViewType:t||n.calendarViewType}})}),hIt)(class extends pIt{constructor(e,t){super(e,t),this._updateCalendar=()=>{this.props.goToToday(),this.props.fetchCalendar(),this._resetUpdateTimeout()},this._updateTimeoutID=null}componentWillMount(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)}componentWillReceiveProps(e){var{serverEntityID:t,time:a,selectedViewType:i}=e;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&a!==this.props.time&&this._resetUpdateTimeout(),i!==this.props.selectedViewType&&this._saveViewType(e)}componentDidUpdate(e){var{providerIdentifier:t}=this.props;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)}componentWillUnmount(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)}_populate(e=this.props){Object(wa.a)(()=>{e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()})}_setSearchProviderIdentifier(e){var t,{changeQuickSearchSettings:a,serverEntityID:i,providerEntityID:r,sourceDirectory:n}=this.props;n&&(t=n.id),a({serverEntityID:i,providerEntityID:r,providerIdentifier:e,directoryID:t})}_resetUpdateTimeout(){this._updateTimeoutID&&window.clearTimeout(this._updateTimeoutID),this._updateTimeoutID=window.setTimeout(this._updateCalendar,36e5)}_saveViewType(e=this.props){e.saveExperienceSettings({calendarViewType:e.selectedViewType})}render(){var{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:i,showSpinner:r,showEmptyState:n,programGuideIdentifier:s}=this.props;return this.props.isPagePopulated?Uu()(uIt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,selectedViewType:i,showSpinner:r,showEmptyState:n,programGuideIdentifier:s}):null}}),vIt=Object(Pa.a)("INIT_TIMELINE_PAGE"),gIt=Object(Pa.a)("CLOSE_TIMELINE_PAGE"),yIt=Object(Pa.a)("FETCH_TIMELINE_DETAILS"),fIt=Object(Pa.a)("POPULATE_TIMELINE_DETAILS");function bIt({items:e,gap:t=0,existingItems:a=[]}){var i=D.a.sortBy(a,"position"),r=D.a.sortBy(e,"position"),n=-1/0;return r.forEach(e=>{var r=D.a.sortedIndex(a,e,"position"),s=a[r-1],o=a[r],l=e.position>n+t,c=!s||e.position>s.position+t,d=!o||e.position<o.position-t;l&&c&&d&&(i.push(e),n=e.position)}),D.a.sortBy(i,"position")}var IIt=a("hsfa"),SIt=a.n(IIt),{Component:MIt}=Ed.a;function CIt(e){var{ticks:t,pixelProportion:a,majorTickGap:i,minorTickGap:r}=e,n=D.a.where(t,{type:"major"}),s=D.a.where(t,{type:"minor"}),o=bIt({items:n,gap:a*i});return bIt({items:s,existingItems:o,gap:a*r})}class DIt extends MIt{constructor(e,t){super(e,t),this.state={ticks:CIt(e)}}componentWillReceiveProps(e){var{ticks:t,pixelProportion:a,majorTickGap:i,minorTickGap:r}=e,n=this.props.ticks!==t,s=this.props.pixelProportion!==a,o=this.props.majorTickGap!==i,l=this.props.minorTickGap!==r;(n||s||o||l)&&this.setState({ticks:CIt(e)})}render(){return Uu()("div",{className:SIt.a.container},void 0,Uu()("div",{className:SIt.a.ticks},void 0,this.state.ticks.map(({type:e,position:t,label:a})=>Uu()("div",{className:SIt.a[e],style:{top:100*t+"%"}},t,a&&"major"===e?Uu()("div",{className:SIt.a.label},void 0,a):null))))}}DIt.defaultProps={majorTickGap:20,minorTickGap:5};var PIt=DIt;function OIt(e={},t=1){var a,{Media:[i={}]=[]}=e,{width:r,height:n,Part:[s={}]=[]}=i;return r&&n?(a=s.orientation)>=5&&a<9?n/r:r/n:t}var jIt=a("17s9"),TIt=a.n(jIt),wIt=parseInt(YU.a.mosaicCellPadding,10),EIt=Uu()(cM,{});var NIt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,metadataKey:s,type:o,title:l,thumb:c,cellWidth:d,cellHeight:u,showOffscreenPlaceholder:p,selectionType:h,activeSelectionType:m,isSelected:v,onSelectItem:g,onDeselectItem:y}=e,f=N$(e),b="clip"===o,I="photoalbum"===o,S=!s,M=d-2*wIt,C=u-2*wIt;return Uu()("div",{className:TIt.a.photoContainer,style:f.style},void 0,Uu()("div",{className:TIt.a.photo},void 0,Uu()("div",{className:TIt.a.image},void 0,S?Uu()(qLe,{imageWidth:M,imageHeight:C,isSelected:v}):null,S?null:Uu()(Vje,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,metadataKey:s,type:o,imageUrl:c,imageWidth:M,imageHeight:C,selectionType:h,activeSelectionType:m,isSelected:v,isOffscreen:p,onSelectItem:g,onDeselectItem:y}),b?Uu()("div",{className:TIt.a.badge},void 0,EIt):null,I?Uu()("div",{className:TIt.a.title},void 0,l):null)))};var xIt=Object(Fu.b)((function(){return Object(_u.a)(RS(),ZG(),BLe(),VLe(),gne,({machineIdentifier:e},t={},a,i,r)=>{var{key:n,type:s,title:o,thumb:l}=t;return{machineIdentifier:e,metadataKey:n,type:s,title:o,thumb:l,selectionType:a,activeSelectionType:r.activeSelectionType,isSelected:i}})}),(function(e,t){return{onSelectItem(a){e(Mx(Object.assign({metadataListEntityID:t.metadataListEntityID},a)))},onDeselectItem(a){e(Cx(Object.assign({metadataListEntityID:t.metadataListEntityID},a)))}}}))(NIt);function AIt(e){var t,a,i,r,n,{columns:s=1,rows:o=[],overscan:l=0,outerPadding:c=0,innerPadding:d=0,maximumHeight:u=0,offset:p=0}=e,h=[],m=0,v=p;function g(e){return e<0?h[0]:D.a.find(h,({bottom:t})=>e<c+(t+1)*n)||D.a.last(h)}return o.forEach(e=>{var t=m,a=(m+=e.height)-1,i=v,r=(v+=e.widths.length)-1,n=[],s=0;e.widths.forEach((e,t)=>{var a=s;s+=e,n.push({width:e,left:a,cellIndex:i+t})}),h.push(Object.assign({},e,{top:t,bottom:a,first:i,last:r,cellLayouts:n}))}),{getListStyle:function(e){var l=e.viewportWidth+":"+e.viewportHeight;if(l===t)return a;i=e.viewportHeight;var d=e.viewportWidth-2*c,p=o.reduce((e,t)=>e+t.height,0);return r=d/s,t=l,a={height:(n=u?(u-c)/p:r)*p,width:d}},getPositionForIndex:function(e){Object(P.a)(void 0!==i,"`getListStyle` must be called before `getPositionForIndex`");var t=D.a.find(h,({last:t})=>e<=t),a=D.a.find(t.cellLayouts,({cellIndex:t})=>t===e);return{cellX:Math.round(a.left*r)+d+c,cellY:Math.round(t.top*n)+d+c,cellWidth:Math.round(a.width*r)-2*d,cellHeight:Math.round(t.height*n)-2*d}},getRangesForPosition:function(e=0){Object(P.a)(void 0!==i,"`getListStyle` must be called before `getRangesForPosition`");var t=e+i-1,a=t+l*i,r=g(e-l*i).first,n=g(a).last,s=g(e).first,o=g(t).last;return{renderStartIndex:r,renderEndIndex:n,visibleStartIndex:s,visibleEndIndex:o,partiallyVisibleStartIndex:s,partiallyVisibleEndIndex:o}},getRelativeIndex:function(){Object(P.a)(!1,"Mosaic layouts do not support relative indexing")}}}function LIt(e){return 0===e.cells.length?1/0:e.cells.reduce((e,t)=>e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t),0)/e.cells.length+Math.abs(e.scale-1)}function kIt({cells:e},t){var a=t/e.reduce((e,t)=>e+t.desired,0);return{scale:a,cells:e.map(({desired:e})=>({desired:e,actual:e*a}))}}function RIt(e){var{aspectRatios:t,columns:a=4,minAspectRatio:i=.4,maxAspectRatio:r=5}=e,n=t.map(e=>Math.max(i,Math.min(r,e))),s=[],o={scale:null,cells:[]};n.forEach(e=>{var t={desired:e},i={scale:0,cells:o.cells.slice(0)};i.cells.push(t),LIt(i=kIt(i,a))<=LIt(o)?o=i:(s.push(o),o=kIt({scale:0,cells:[t]},a))});var l=1/Math.max(1,o.scale);return o.scale=Math.min(1,o.scale),o.cells=o.cells.map(({desired:e,actual:t})=>({desired:e,actual:t*l})),s.push(o),s.map(({scale:e,cells:t})=>({height:e,widths:t.map(e=>e.actual)}))}var zIt=function(e){var t=N$(e);return(Uu()("div",{style:t.style},void 0,e.children))},UIt=a("JbXI"),VIt=a.n(UIt),{Component:BIt}=Ed.a;class FIt extends BIt{constructor(e,t){super(e,t),this.onSelectPress=()=>{var{isSelected:e,items:t,onSelectItems:a,onDeselectItems:i}=this.props;e?i(t):a(t)},this.state={layout:this._createLayout(e),cellRenderer:this._createCellRenderer(e)}}componentWillReceiveProps(e){var t=e.aspectRatios!==this.props.aspectRatios,a=e.columns!==this.props.columns,i=e.viewportWidth!==this.props.viewportWidth,r=e.viewportHeight!==this.props.viewportHeight,n=e.serverEntityID!==this.props.serverEntityID,s=e.providerEntityID!==this.props.providerEntityID,o=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||a||r||i,c=n||s||o;if(l||c){var d={};l&&(d.layout=this._createLayout(e)),c&&(d.cellRenderer=this._createCellRenderer(e)),this.setState(d)}}_createLayout(e){var t=RIt({aspectRatios:e.aspectRatios,columns:e.columns});return AIt({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})}_createCellRenderer(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n}=e;return Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n},xIt)}render(){var{cellIndex:e,cellX:t,cellY:a,cellWidth:i,cellHeight:r,isVirtual:n,title:s,items:o,size:l,viewportHeight:c,scrollTop:d,isSelected:u,hasSelection:p}=this.props,{layout:h,cellRenderer:m}=this.state;return Uu()(zIt,{cellIndex:e,cellX:t,cellY:a,cellWidth:i,cellHeight:r,isVirtual:n},void 0,Uu()("div",{className:(p&&VIt.a.hasSelection||"")+" "+(VIt.a.header||"")},void 0,Uu()("div",{className:VIt.a.actions},void 0,Uu()(zU,{className:VIt.a.selectButton,title:s,isSelected:u,onPress:this.onSelectPress})),Uu()("div",{className:VIt.a.title},void 0,s)),Uu()(v$,{items:o,keyPropName:"metadataItemEntityID",size:l,cellRenderer:m,viewportWidth:i,viewportHeight:c,scrollTop:d-a,layout:h}))}}FIt.defaultProps={headerHeight:0,footerHeight:0};var HIt=FIt;function _It(){return Object(_u.a)((e,{start:t})=>t,(e,{end:t})=>t,vne(),(e,t,a)=>{var{populatedRange:i,metadataItems:r}=a;return e<i.start||t>i.end?D.a.times(t-e,()=>null):r.slice(e-i.start,t-i.start)})}function QIt(){return Object(_u.a)(_It(),qG,(e,t)=>e.map(e=>t[e]))}var WIt=Object(Fu.b)((function(){return Object(_u.a)(vne(),_It(),Object(_u.a)((e,{avgAR:t})=>t,QIt(),(e,t)=>t.map(t=>t?OIt(t,e):e)),Object(_u.a)(QIt(),RLe,(e,t)=>e.every(e=>e&&ULe(t,e.ratingKey))),gne,(e,t,a,i,r)=>({containerKey:e.containerKey,listType:"photo",aspectRatios:a,items:t,isSelected:i,hasSelection:r.activeSelectionItems.length>0}))}),(function(e,t){return{onSelectItems(t){e(Dx({type:Wt.k,ids:t}))},onDeselectItems(t){e(Px({ids:t}))}}}))(HIt);function GIt(e){var{columns:t=1,areas:a=[],innerPaddingTop:i=0,innerPaddingBottom:r=0}=e,n=Je()(e,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return ast(Object.assign({getCellHeights:function(e){return a.map(a=>function(e,a){return Math.max(1,Math.round(e/t))*a+(i+r)}(a,e/t))}},n))}var YIt=Ed.a.createElement,{Component:KIt}=Ed.a;var qIt=class extends KIt{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){var t=e.items!==this.props.items,a=e.columns!==this.props.columns;(t||a)&&this.setState({layout:this._createLayout(e)})}_createLayout(e){return GIt({columns:e.columns,areas:e.items.map(e=>e.area),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})}render(){var{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,columns:i,headerHeight:r,footerHeight:n,cellComponent:s}=this.props;return(YIt(M$,tp()({layout:this.state.layout,cellRenderer:Gfe({serverEntityID:e,providerEntityID:t,metadataListEntityID:a,columns:i,headerHeight:r,footerHeight:n},s)},this.props)))}},ZIt=Ed.a.createElement,{Component:XIt}=Ed.a;var JIt={dispatchPopulateMetadataListRange:fx,dispatchDeselectAllMetadataListItems:Ox,dispatchResetMetadataList:jx};var $It=Object(Fu.b)((function(){return Object(_u.a)(gne,e=>({disableReloadThreshold:!!e.activeSelectionType}))}),JIt)(class extends XIt{constructor(...e){super(...e),this.onPageRequest=({startIndex:e,endIndex:t})=>{var{metadataListEntityID:a,disableReloadThreshold:i,items:r,dispatchPopulateMetadataListRange:n}=this.props;n({metadataListEntityID:a,disableReloadThreshold:i,startIndex:r[e].start,endIndex:r[t].end-1,pages:1})}}componentWillUnmount(){var{metadataListEntityID:e}=this.props;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})}render(){var e=this.props,t=Je()(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]);return(ZIt(qIt,tp()({onPageRequest:this.onPageRequest},t)))}});var eSt=a("ZQel"),tSt=a.n(eSt),{Component:aSt}=Ed.a,iSt=Math.max(0,parseInt(YU.a.timelineGutter,10)-40);var rSt=class extends aSt{constructor(e,t){super(e,t),this.onListUpdate=e=>{var t=e.landmarks,a=e.listStyle&&e.listStyle.height;if(t!==this._landmarks){this._landmarks=t;var i=function(e,t){var a={},i={};return e.reduce((e,{index:r,position:n})=>{var s=Object(vle.default)(1e3*t[r],"yyyy MM"),o=s.slice(0,4);return a[o]?i[s]||(i[s]=!0,e.push({position:n,type:"minor"})):(a[o]=!0,i[s]=!0,e.push({position:n,type:"major",label:o})),e},[])}(t,D.a.pluck(this.props.moments,"startsAt"));this.setState({ticks:i,listHeight:a})}},this.state={ticks:null,listHeight:null}}render(){var{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,moments:i,columns:r,height:n,onMomentScrollIndexChange:s}=this.props,{ticks:o,listHeight:l}=this.state,c=1/n,d=l&&l>n;return i.length?Uu()("div",{className:tSt.a.container},void 0,Uu()($It,{className:tSt.a.stack,scrollerClassName:tSt.a.scroller,serverEntityID:e,providerEntityID:t,metadataListEntityID:a,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:i,size:i.length,columns:r,footerHeight:59,listPadding:55,listGutter:iSt,hasNestedList:!0,cellComponent:WIt,onListScrollIndexChange:s,onListUpdate:this.onListUpdate}),Uu()("div",{className:tSt.a.adornment},void 0,o&&d?Uu()(PIt,{pixelProportion:c,ticks:o}):null)):Uu()(a3e,{},void 0,Uu()(xH,{iconComponent:fM.photo,title:Object(Ze.default)("There are no events in this library")}))}},nSt={showPlayAll:oSt,showShuffle:function({server:e,provider:t,stableUser:a,metadataList:i}){return oSt({server:e,provider:t,stableUser:a,metadataList:i})&&!!t.features.playqueue},showQueue:function({server:e,provider:t,stableUser:a,metadataList:i}){return oSt({server:e,provider:t,stableUser:a,metadataList:i})},showAddToPlaylist:function({server:e,provider:t,stableUser:a,metadataList:i}){return!(!e.isFullServer||!i.isFirstItemLibraryItem)},showAddToCatalog:function({server:e,provider:t,stableUser:a,metadataList:i}){return!!(t.features.actions&&t.features.actions.addToCatalog&&mw(a,t.features.actions.addToCatalog))},showSync:function({server:e,provider:t,stableUser:a,metadataList:i}){if(!be.a.allowSync)return!1;return!!(e.isFullServer&&e.allowSync&&i.isFirstItemLibraryItem&&i.allowSync)},showOptimize:function({server:e,provider:t,stableUser:a,metadataList:i}){return!!(e.isFullOwnedServer&&e.transcoderVideo&&i.isFirstItemLibraryItem)}},sSt={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],photo:["showPlayAll","showShuffle","showAddToPlaylist","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function oSt({server:e,provider:t,stableUser:a,metadataList:i}){return fie(e,t,a.features,i)}var lSt=Ed.a.createElement,{Component:cSt}=Ed.a;var dSt=function(e,t){var{isUpdatingPropName:a,errorPropName:i,clearDirtyOnChangePropName:r}=t;class n extends cSt{constructor(e,t){super(e,t),this.onFormChange=e=>{this.props.onFormChange&&this.props.onFormChange(e),this.state.isDirty||this.setState({isDirty:!0})},this.state={isDirty:!1}}componentWillReceiveProps(e){var t=!1;r&&(t=this.props[r]!==e[r]);var n=this.props[a]&&!e[a]&&null===e[i];this.state.isDirty&&(t||n)&&this.setState({isDirty:!1})}render(){return lSt(e,tp()({isDirty:this.state.isDirty},this.props,{onFormChange:this.onFormChange}))}}return n.displayName="DirtyAware("+gf(e)+")",n.WrappedComponent=e,n},uSt=a("RZIj"),pSt=a.n(uSt),{Component:hSt}=Ed.a;function mSt(e={}){return Object.assign({isFileImport:!1,channelURL:"",fileURL:null},e)}class vSt extends hSt{static getDerivedStateFromProps(e,t){return t.isOpen!==!e.isOpen?mSt({isOpen:e.isOpen}):null}constructor(e,t){super(e,t),this.onModalClose=()=>{this.props.onClearError(),this.props.onModalClose()},this.onFileImportTogglePress=()=>{this.setState(mSt({isFileImport:!this.state.isFileImport}))},this.onFileChange=e=>{var t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){var a=window.URL.createObjectURL(t);this.setState({fileURL:a})}},this.onURLChange=e=>{this.setState({channelURL:e})},this.onSubmit=e=>{e.preventDefault(),this.props.onSubmit({channelURL:this.state.channelURL,fileURL:this.state.fileURL})},this.state=mSt()}componentDidUpdate(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()}render(){var{isOpen:e,title:t,message:a,hasError:i,hasFileImportFeature:r,textInputLabel:n,fileInputButtonLabel:s,fileImportLabel:o,urlImportLabel:l,confirmLabel:c,confirmKind:d,isUpdating:u,isDirty:p,metricsPage:h,metricsProperties:m,onFormChange:v}=this.props;return(Uu()(xT,{isOpen:e,metricsPage:h,metricsProperties:m,onModalClose:this.onModalClose},void 0,Uu()("form",{className:pSt.a.form,onSubmit:this.onSubmit,onChange:v},void 0,Uu()(UL,{onModalClose:this.onModalClose},void 0,Uu()(jL,{},void 0,t),i?Uu()(MU,{errorMessage:Object(Ze.default)("Something went wrong. Make sure the URL is correct and try again.")}):null,Uu()(fL,{},void 0,Uu()("p",{},void 0,a),r?Uu()("p",{},void 0,Uu()(Vp,{kind:Dp,onPress:this.onFileImportTogglePress},void 0,this.state.isFileImport?l||Object(Ze.default)("Import from a URL instead"):o||Object(Ze.default)("Import from a file instead"))):null,Uu()("div",{className:pSt.a.inputContainer},void 0,this.state.isFileImport?Uu()(oUe,{name:"file",accept:".xml, .opml",buttonText:s||Object(Ze.default)("Choose File"),showFilename:!0,onChange:this.onFileChange}):Uu()(qV,{name:"channelURL",value:this.state.URLValue,labelText:n,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?Uu()("p",{className:pSt.a.fileNote},void 0,Object(Ze.default)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),Uu()(CL,{},void 0,Uu()(uU,{},void 0,Uu()(bU,{type:"submit",kind:d,isDisabled:!p,isSpinning:u},void 0,c||Object(Ze.default)("Continue"))))))))}}vSt.defaultProps={confirmKind:Dp,hasFileImportFeature:!1};var gSt=dSt(vSt,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var ySt=xG((function(){return Object(_u.a)(e=>e.ui.addToCatalogModal,e=>({isUpdating:e.isUpdating,hasError:!!e.error}))}),(function(e,t){return{onClearError(){e(W7e())},onSubmit(a){e(Q7e({providerEntityID:t.providerEntityID,data:a}))}}}))(gSt);var fSt=function(e){var{providerEntityID:t,isOpen:a,onModalClose:i}=e;return(Uu()(ySt,{providerEntityID:t,isOpen:a,title:Object(Ze.default)("Add a Podcast"),message:Object(Ze.default)("Want to add a podcast we havent listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:Object(Ze.default)("Podcast Feed"),fileInputButtonLabel:Object(Ze.default)("Choose OPML File"),fileImportLabel:Object(Ze.default)("Import podcasts from an OPML file instead"),urlImportLabel:Object(Ze.default)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:i}))},{Component:bSt}=Ed.a;var ISt=class extends bSt{constructor(e,t){super(e,t),this.onAddToCatalogPress=()=>{this.setState({isAddToCatalogModalOpen:!0})},this.onAddToCatalogClose=()=>{this.setState({isAddToCatalogModalOpen:!1})},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1}),this.props.onMenuClose()},this.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1}}createOnPress(e){return()=>{e(),this.props.onMenuClose()}}render(){var e=this.props,{isAddToCatalogModalOpen:t,isAddToPlaylistModalOpen:a}=this.state;return Uu()("div",{},void 0,e.showPlayAll?Uu()(Gg,{onPress:this.createOnPress(e.onPlayAllPress)},void 0,Object(Ze.default)("Play All")):null,e.showShuffle?Uu()(Gg,{onPress:this.createOnPress(e.onShufflePress)},void 0,Object(Ze.default)("Shuffle")):null,e.showQueue?Uu()(Gg,{onPress:this.createOnPress(e.onPlayNextPress)},void 0,Object(Ze.default)("Play Next")):null,e.showQueue?Uu()(Gg,{onPress:this.createOnPress(e.onAddToQueuePress)},void 0,Object(Ze.default)("Add to Queue")):null,e.showAddToPlaylist?Uu()(Gg,{onPress:this.createOnPress(this.onAddToPlaylistPress)},void 0,Object(Ze.default)("Add to Playlist...")):null,e.showAddToCatalog?Uu()(Gg,{onPress:this.onAddToCatalogPress},void 0,(e.listType,e.listSubtype===OM.c?Object(Ze.default)("Add Podcast by URL"):Object(Ze.default)("Add to Catalog by URL"))):null,e.showSync?Uu()(Gg,{onPress:this.createOnPress(e.onSyncPress)},void 0,Object(Ze.default)("Sync...")):null,e.showOptimize?Uu()(Gg,{onPress:this.createOnPress(e.onOptimizePress)},void 0,Object(Ze.default)("Optimize...")):null,Uu()(fSt,{providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?Uu()(ose,{isOpen:a,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,onModalClose:this.onAddToPlaylistClose}):null)}},SSt=Ed.a.createElement;var MSt=function(e){var t=Je()(e,["target","isOpen"]);return(Uu()(Fg,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},void 0,SSt(ISt,t)))};function CSt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}CSt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var DSt=CSt,PSt=Ed.a.createElement,{Component:OSt}=Ed.a,jSt=Uu()(DSt,{});var TSt=class extends OSt{constructor(e,t){super(e,t),this.onButtonPress=()=>{this.setState({isModalOpen:!0})},this.onModalClose=()=>{this.setState({isModalOpen:!1})},this.state={isModalOpen:!1}}render(){var e=this.props,{providerEntityID:t}=e,a=Je()(e,["providerEntityID"]);return(PSt(oJ,tp()({tooltip:Object(Ze.default)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress},a),jSt,Uu()(fSt,{providerEntityID:t,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose})))}},wSt=Ed.a.createElement,{Component:ESt}=Ed.a;var NSt=W3e(class extends ESt{constructor(e,t){super(e,t),this.onPlayShortcut=()=>{this.props.showPlayAll&&this.props.onPlayAllPress()},this.onAddToPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!1})},this.onAddToSmartPlaylistPress=()=>{this.setState({isAddToPlaylistModalOpen:!0,isSmartPlaylist:!0})},this.onAddToPlaylistClose=()=>{this.setState({isAddToPlaylistModalOpen:!1})},this.onActionsPress=e=>{this.setState({isActionsMenuOpen:!this.state.isActionsMenuOpen})},this.onActionsMenuClose=()=>{this.setState({isActionsMenuOpen:!1})},this.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1,isSmartPlaylist:!1},this._moreButtonID=Mp()}componentDidMount(){H.a.on("shortcut:playSelected",this.onPlayShortcut)}componentWillUnmount(){H.a.off("shortcut:playSelected",this.onPlayShortcut)}render(){var{className:e,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,customFilterRoute:r,showPlayAll:n,showPlayAllOverflow:s,showShuffle:o,showShuffleOverflow:l,showAddToPlaylist:c,showAddToPlaylistOverflow:d,showAddToSmartPlaylist:u,showAddToCatalog:p,showAddToCatalogOverflow:h,showSync:m,showSyncOverflow:v,showOverflow:g,onPlayAllPress:y,onShufflePress:f,onSyncPress:b}=this.props,{isActionsMenuOpen:I,isAddToPlaylistModalOpen:S,isSmartPlaylist:M}=this.state;return Uu()("div",{className:e},void 0,n?Uu()(O3e,{playLabel:Object(Ze.default)("Play All"),onPress:y}):null,o?Uu()(N3e,{onPress:f}):null,c?Uu()(I3e,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,customFilterRoute:r,showAddToSmartPlaylist:u,onAddToPlaylistPress:this.onAddToPlaylistPress,onAddToSmartPlaylistPress:this.onAddToSmartPlaylistPress}):null,p?Uu()(TSt,{providerEntityID:a}):null,m?Uu()(L3e,{onPress:b}):null,g?Uu()(C3e,{id:this._moreButtonID,iconComponent:Y3e,label:Object(Ze.default)("More..."),isMenuOpen:I,onPress:this.onActionsPress}):null,wSt(MSt,tp()({},this.props,{target:this._moreButtonID,isOpen:I,showPlayAll:s,showShuffle:l,showAddToPlaylist:d,showAddToCatalog:h,showSync:v,onMenuClose:this.onActionsMenuClose})),c?Uu()(ose,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,isOpen:S,smart:M,onModalClose:this.onAddToPlaylistClose}):null)}},["showPlayAll","showShuffle","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var xSt=xG((function(){return Object(_u.a)((e,{listType:t})=>t,GS,_S,uw,vne(),(e,t,a,i,r)=>function({server:e,provider:t,stableUser:a,metadataList:i,listType:r}){var n=r||i.firstItemType||"mixed",s=sSt[n];return s?s.reduce((r,s)=>{var o=nSt[s];return Object(P.a)(D.a.isFunction(o),"getMetadataListActionProps: Invalid action, "+s+", for "+n),r[s]=!!(e&&t&&i)&&o({server:e,provider:t,stableUser:a,metadataList:i}),r},{}):{}}({server:t,provider:a,stableUser:i,metadataList:r,listType:e}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||_t.LIST}};return{onPlayAllPress(){e(Cw.p(a))},onShufflePress(){e(Cw.t(a))},onPlayNextPress(){e(Cw.j(Object.assign({},a,{options:{playAll:!0,next:!0}})))},onAddToQueuePress(){e(Cw.j(Object.assign({},a,{options:{playAll:!0,next:!1}})))},onSyncPress(){e(Ix(a))},onOptimizePress(){e(Sx(a))}}}),lie)(NSt),{Fragment:ASt}=Ed.a;var LSt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,sourceDirectory:r,title:n,totalSize:s,listType:o,listStyle:l,allListStyles:c}=e;return(Uu()(ASt,{},void 0,Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r}),Uu()(dnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,directoryKey:ta}),Uu()(Rrt,{},void 0,Uu()(U5e,{selectedListStyle:l,allListStyles:c}))),Uu()(P1e,{},void 0,Uu()(mnt,{},void 0,Uu()(PJ,{},void 0,n),Uu()(Nlt,{},void 0,s)),Uu()(bJ,{},void 0,Uu()(xSt,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,listType:o})))))};var kSt=Object(Fu.b)((function(){return Object(_u.a)(vne(),e=>({totalSize:e.totalSize,listType:Wt.k,listStyle:xc,allListStyles:[xc]}))}))(LSt),RSt=a("sKLl"),zSt=a.n(RSt),USt=Ed.a.createElement,{Component:VSt}=Ed.a,BSt=Uu()(xH,{},void 0,Uu()(Xh,{}));var FSt=class extends VSt{constructor(e,t){super(e,t),this.onMeasure=({width:e,height:t})=>{this.setState({isMeasured:!0,width:e,height:t})},this.onMomentScrollIndexChange=e=>{this.setState({currentMomentTitle:this.props.moments[e].title})},this.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0}}componentDidMount(){var{librarySectionID:e,providerIdentifier:t,onLibraryChange:a}=this.props;e&&a(t,e)}componentDidUpdate(e){var{librarySectionID:t,providerIdentifier:a,onLibraryChange:i}=this.props;t&&t!==e.librarySectionID&&i(a,t)}componentWillUnmount(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()}render(){var{serverEntityID:e,providerEntityID:t,providerMetricsIdentifier:a,metadataListEntityID:i,sourceDirectory:r,pivot:n,isMomentListPending:s,isMomentListPopulated:o,moments:l,activeSelectionType:c,columnAdjustment:d,serverVersion:u}=this.props,{isMeasured:p,width:h,height:m,currentMomentTitle:v}=this.state,g=200-100*d,y=12+d,f=Math.min(Math.ceil(h/g),y);if(o)return Uu()(tJ,{metricsPage:Rd.V,metricsProperties:{identifier:a,mode:"timeline",type:"photo",style:xc},allowBackgroundLightPreset:!0,scrollDirection:Jp},void 0,c?Uu()(p5e,{serverEntityID:e,providerEntityID:t}):Uu()(kSt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,sourceDirectory:r,title:v}),Uu()(p$,{className:zSt.a.measured,ignorePosition:!0,onMeasure:this.onMeasure},void 0,p?Uu()(rSt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,moments:l,columns:f,height:m,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));var b={serverEntityID:e,providerEntityID:t,sourceDirectory:r,pivot:n,directoryKey:ta,scrollDirection:Jp};if(s)return USt(Ant,tp()({},b,{showSecondHeader:!0}),BSt);var I={title:Object(Ze.default)("There was an error loading the timeline for this library")};return Qa(u,Ka.itemClusters)||(I.description=Object(Ze.default)("The photos timeline requires Plex Media Server {version} or higher",{version:Ka.itemClusters})),USt(Ant,b,USt(cst,I))}},HSt=Object(_u.a)(e=>e.ui.timelinePage.momentList,e=>{if(!e)return[];var t=0;return e.moments.map(e=>{var a=t;t+=e.size;var{id:i,title:r,size:n,avgAR:s,startsAt:o}=e,l=e.size*(e.avgAR||1);return{start:a,end:t,area:l,id:i,title:r,size:n,avgAR:s,startsAt:o}})});var _St=Jnt(FSt,(function(e){var t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}}),(function(e,t){e(vIt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(fIt())})),QSt=Object(Fu.b)((function(){return Object(_u.a)((e,{libraryKey:t})=>t,e=>e.ui.timelinePage,HSt,GS,kS(),K8e(),Mrt(),gne,Nv.a,(e,t,a,i,r,n,s,o,l)=>{var{details:c,containerKey:d,isMomentListPending:u,isMomentListPopulated:p}=t;return{metadataListEntityID:t.metadataList,providerIdentifier:r.identifier,providerMetricsIdentifier:r.metricsIdentifier,librarySectionID:c&&c.librarySectionID,sourceDirectory:n,pivot:s,moments:a,isMomentListPending:u,isMomentListPopulated:p,containerKey:d,momentKey:_.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:l.columnAdjustment,serverVersion:i.version}})}),(function(e,t){return{onLibraryChange(a,i){e(uee({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:i}))},onCloseTimelinePage(){e(gIt({}))}}}))(_St),{useEffect:WSt}=Ed.a,GSt=Uu()(xgt,{}),YSt=Uu()(qat,{}),KSt=({pivotType:e,sourceURI:t,directoryKey:a,selectedPivot:i})=>{var[r,n,s]=wv(),o=Put(),l=Object(Fu.d)(cw);if(Drt(null==i?void 0:i.requires,l))return GSt;switch(e){case TGe.Hub:return Uu()(_b.a,{name:null==i?void 0:i.context},void 0,Uu()(upt,{sourceURI:t}));case TGe.List:return Uu()(_b.a,{name:null==i?void 0:i.context},void 0,Uu()(wgt,{directoryKey:a,sourceURI:t,selectedPivot:i}));case TGe.View:switch(null==i?void 0:i.key){case wGe.SharedItems:return Uu()(_b.a,{name:null==i?void 0:i.context},void 0,Uu()(wgt,{directoryKey:null!=a?a:"/library/shared/all",sourceURI:t,selectedPivot:i,listStyle:Dr.SharedItems}));case wGe.Guide:return Uu()(Act,{serverEntityID:r.entityID,providerEntityID:n.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:wGe.Guide,activeFilters:ite(o.filters),activeFilterLabel:o.filterLabel});case wGe.RecordingSchedule:return Uu()(mIt,{serverEntityID:r.entityID,providerEntityID:n.entityID,sourceDirectoryID:null==s?void 0:s.id,selectedViewType:o.view});case wGe.Timeline:var c=bZe(n,PGe.Content);return(Uu()(QSt,{serverEntityID:r.entityID,providerEntityID:n.entityID,sourceDirectoryID:null==s?void 0:s.id,directoryKey:wGe.Timeline,libraryKey:_.join([null==c?void 0:c.key,null==s?void 0:s.id,"cluster"],{clusterZoomLevel:1})}))}}return YSt},qSt=[wGe.Guide,wGe.RecordingSchedule,wGe.Timeline],ZSt=Uu()(Out,{}),XSt=({className:e,directoryKey:t,pageType:a,machineIdentifier:i,providerIdentifier:r,contentDirectoryID:n,pivotID:s})=>{var o=Object(Fu.c)(),l=dyt({machineIdentifier:i,providerIdentifier:r,contentDirectoryID:n,pageType:a,pivotID:s}),c=l?l.type:null!=a?a:TGe.List,d=(null==l?void 0:l.key)||t,u=d?Object(an.a)({serverIdentifier:i,providerIdentifier:r,metadataItemKey:d}):void 0;return WSt(()=>{if(n){var e=Object(pt.a)(ht.n,i),t=Object(pt.a)(ht.k,r,e);return o(uee({serverEntityID:e,providerEntityID:t,providerIdentifier:r,directoryID:n})),()=>{o(uee({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}}},[n,o,i,r]),WSt(()=>()=>{Object(wa.a)(()=>{o(Rn.actions.resetMeta())})},[o]),u?Uu()(Ev,{machineIdentifier:i,providerIdentifier:r,contentDirectoryID:n},void 0,Uu()(kGe,{className:e,scrollDirection:$u.None},void 0,l&&c===TGe.View&&qSt.includes(l.key)?null:Uu()(ryt,{sourceURI:u,selectedPivot:l}),Uu()(KSt,{pivotType:c,sourceURI:u,directoryKey:t,selectedPivot:l}))):Uu()(kGe,{className:e},void 0,ZSt)},JSt=bbe.bind(null,Ot.f),$St=Object(_u.a)(Nv.a,e=>e.lastSourcePivots),eMt=/^\/library\/sections\/(\w+)(\/all)?$/;var{Component:tMt}=Ed.a;var aMt={dispatchNavigate:Wi.l},iMt=Uu()(qat,{}),rMt=Uu()(ph,{},void 0,Uu()(Xh,{}));var nMt=Object(Fu.b)((function(){return Object(_u.a)(RS(),kS(),K8e(),Object(_u.a)(RS(),kS(),K8e(),$St,(e,t,a,i)=>{if(a){var r=i[Object(Kc.a)(e.machineIdentifier,t.identifier,a.id)];return eMt.test(r)&&(r=Gt(a.id,a.type)),a.pivots.find(e=>e.key===r)}}),ytt,(e,t,a,i,r)=>{return a?(a.pivots&&(n=i||a.pivots[0]),{tabRoute:Frt(e,t,a,n,r[Crt(e,t,a,n)])}):{isSourceDirectoryNotFound:!0};var n})}),aMt)(class extends tMt{componentDidMount(){this._maybeRedirect(this.props)}componentDidUpdate(e){this._maybeRedirect(this.props)}_maybeRedirect(e){this._hasRedirected||this.props.isSourceDirectoryNotFound||(e.dispatchNavigate({pathname:e.tabRoute,prependHashBang:!0,replace:!0}),this._hasRedirected=!0)}render(){var{isSourceDirectoryNotFound:e}=this.props;return e?iMt:rMt}}),sMt={[aa]:"/library/shared/all"};function oMt(e={},t){return sMt[e.key]||t}var lMt=Uu()(ryt,{}),cMt=({hubKey:e})=>{var[t,a]=wv(),i=Object(an.a)({serverIdentifier:t.machineIdentifier,providerIdentifier:a.providerIdentifier,metadataItemKey:e});return Uu()(kGe,{allowBackgroundPreset:!0,scrollDirection:$u.None},void 0,lMt,Uu()(upt,{sourceURI:i}))},dMt=Ed.a.createElement;var uMt=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,(e,t)=>({machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier}))}))((function(e){var{machineIdentifier:t,providerIdentifier:a}=e,i=Je()(e,["machineIdentifier","providerIdentifier","serverEntityID","providerEntityID"]);return(Uu()(Ev,{machineIdentifier:t,providerIdentifier:a},void 0,dMt(cMt,i)))})),pMt=a("Uk9b"),hMt=Object(Pa.a)("INIT_DISCOVER_PAGE"),mMt=Object(Pa.a)("FETCH_HUBS"),vMt=Object(Pa.a)("FETCH_PROMOTED_HUBS");Object(Pa.a)("POPULATE_PROMOTED_HUBS");function gMt(e){return e.get("ui").get("discoverPage")}var yMt=uk({INIT_DISCOVER_PAGE(e,t){var a=gMt(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{providerEntityID:n,hubKey:s}=t;if(n!==a.get("providerEntityID")||s!==a.get("hubKey")){var o=new iw.default([],Object.assign({server:i,provider:r,hubKey:s,count:16,includeMeta:!0,includeEmpty:!0,includeTypeFirst:!0,includeFeaturedTags:!0,includeRecentChannels:!0},ow(e),{excludes:["playlists"]})),l=new iw.default([],{server:e.get("cloudServer"),url:"https://services.provider.plex.tv/home/hubs",deferred:!0,includeMeta:!0});a.restoreDefaults({providerEntityID:n,hubKey:s,hubs:o,promotedHubs:l})}},FETCH_HUBS(e,t){var a=gMt(e);a.set("isHubsPending",!0);var i=a.get("hubs"),r=i.provider.getXHROptions(i.url(),{dataType:"json"});T.a.ajax(r).then(e=>{var t=e.MediaContainer;i.reset(t,{parse:!0}),a.set({isHubsPending:!1,isHubsPopulated:!0,hubsError:null,hubsTitle:t.title})},(e,t)=>{a.set({isHubsPending:!1,hubsError:Object(vw.a)(t)})})},FETCH_PROMOTED_HUBS(e,t){var a=gMt(e),i=a.get("promotedHubs");a.set("isPromotedHubsPending",!0);var r=i.server.getXHROptions(i.url,{includeMeta:1,dataType:"json"});T.a.ajax(r).then(t=>{var{MediaContainer:{Hub:r=[]}={}}=t;r.forEach((t,r)=>{var{source:n}=t,s=IAe(n);if(s){var o=Object(Ta.t)(e,s);if(o){var l=Object(Ta.s)(e,s);if(l){var c=new pMt.a(t,{server:o,provider:l,parse:!0});i.add(c);var d=Object(Ta.o)(e);a.set({isPromotedHubsPending:!1,isPromotedHubsPopulated:!0,promotedHubsError:null,knownPromotedHubCloudProviderIDs:d.get("providers").map(e=>e.entityID())})}else O.a.error('Provider with entity id "'+s.providerEntityID+'" not found.')}else O.a.error('Server with entity id "'+o.serverEntityID+'" not found.')}else O.a.error('Hub source "'+n+'" not in correct format.')})},(e,t)=>{a.set({isPromotedHubsPending:!1,promotedHubsError:Object(vw.a)(t)})})},POPULATE_PROMOTED_HUBS(e,t,a){gMt(e).get("isPromotedHubsPopulated")||a(vMt(t))},[ji.a](e,t,a){var i=gMt(e).get("hubs");!i||t.metadataItemEntityID||t.containerKeyPattern||lw({actionCreator:bx,dispatch:a,hubs:i,serverModel:Object(Ta.m)(e,t)})}}),fMt=Object(_u.a)(sfe,e=>e.ui.discoverPage.hubs,(e,t=[])=>!!t.find(t=>e[t].style===Hye.d)),{Component:bMt}=Ed.a;var IMt=Object(Fu.b)((function(){return Object(_u.a)(_7e(),e=>({isRefreshing:!!e}))}),(function(e,t){var{serverEntityID:a}=t;return{dispatchFetchProviders(){e(Fa({serverEntityID:a}))},dispatchRepopulatePage(){e(Object(ji.c)({serverEntityID:a}))}}}))(class extends bMt{constructor(...e){super(...e),this._repopulateProgramGuide=()=>{var{dispatchFetchProviders:e,dispatchRepopulatePage:t}=this.props;e(),t(),this._setRepopulateTimeout()}}componentDidMount(){this._setRepopulateTimeout()}componentDidUpdate(){this._setRepopulateTimeout()}componentWillUnmount(){this._clearRepopulateTimeout()}_setRepopulateTimeout(){this.props.isRefreshing&&(this._clearRepopulateTimeout(),this._repopulateTimeoutID=window.setTimeout(this._repopulateProgramGuide,15e3))}_clearRepopulateTimeout(){this._repopulateTimeoutID&&window.clearTimeout(this._repopulateTimeoutID)}render(){return null}}),SMt=a("9XR6"),MMt=a.n(SMt);var CMt=function(e){var{providerIdentifier:t}=e;return jt.k(t,jt.f)?Uu()("div",{className:MMt.a.container},void 0,Uu()("div",{className:MMt.a.text},void 0,Uu()("div",{className:MMt.a.logo,"aria-label":Object(Ze.default)("TIDAL")}),Uu()("div",{className:MMt.a.body},void 0,Object(Ze.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),Uu()(EL,{metricsProperties:{pane:"tidalBanner"},action:kd.ob},void 0,Uu()(Vp,{to:Fp,kind:Op,target:"_blank"},void 0,Object(Ze.default)("Learn more at plex.tv"))))):null},{Fragment:DMt}=Ed.a,PMt=Uu()(Z1e,{}),OMt=Uu()(U5e,{});var jMt=function(e){var{serverEntityID:t,providerEntityID:a,provider:i,sourceDirectory:r,hubKey:n,hubsTitle:s,showAddToCatalog:o,showEPGActivity:l}=e;return(Uu()(DMt,{},void 0,Uu()(wrt,{},void 0,s?Uu()(mnt,{},void 0,Uu()(O5e,{title:s,detail:i.sourceTitle})):Uu()(wnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,hubKey:n}),r&&!s?Uu()(dnt,{serverEntityID:t,providerEntityID:a,sourceDirectory:r,directoryKey:n}):null,Uu()(Rrt,{},void 0,o?Uu()($1e,{},void 0,Uu()(TSt,{providerEntityID:a})):null,o?PMt:null,OMt)),l?Uu()(P1e,{},void 0,Uu()(Art,{},void 0,Uu()(Llt,{serverEntityID:t,providerEntityID:a}))):null))};var TMt=Object(Fu.b)((function(){return Object(_u.a)(uw,_S,_7e(),(e,t,a)=>{var i=t.features.actions.addToCatalog;return{provider:t,showAddToCatalog:!!i&&mw(e,i),showEPGActivity:!!a}})}))(jMt),wMt=a("HU9O"),EMt=a.n(wMt),NMt=Uu()(xH,{},void 0,Uu()(Xh,{}));var xMt=function(e){var{machineIdentifier:t,isCloud:a,isFullOwnedServer:i,isPending:r,error:n,onRepopulate:s}=e;if(r)return NMt;if(n)return Uu()(cst,{title:a?Object(Ze.default)("There was an unexpected error loading this page"):Object(Ze.default)("There was an unexpected error loading this library")},void 0,Uu()(Vp,{kind:Dp,onPress:s},void 0,Object(Ze.default)("Retry")));var o=i?Object(Ze.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null;return(Uu()(xH,{title:a?Object(Ze.default)("This page is currently empty"):Object(Ze.default)("This library is currently empty"),description:o},void 0,o?null:Uu()("div",{className:EMt.a.emptyDescription}),i?Uu()(rT,{className:EMt.a.manageLibraries,kind:Dp,to:si(t,"manage","libraries")},void 0,Object(Ze.default)("Manage libraries")):null,Uu()(Vp,{kind:Dp,onPress:s},void 0,Object(Ze.default)("Retry"))))};var AMt=Object(Fu.b)((function(){return Object(_u.a)(RS(),e=>({machineIdentifier:e.machineIdentifier,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer}))}))(xMt),LMt=Uu()(xH,{},void 0,Uu()(Xh,{}));var kMt=function(e){var{serverEntityID:t,providerEntityID:a,isPending:i,error:r}=e;return i?LMt:r?Uu()(cst,{title:Object(Ze.default)("There was an unexpected error loading the Guide")}):Uu()(ost,{serverEntityID:t,providerEntityID:a})},RMt=Object(_u.a)(qu.a,e=>e.subscriptions||[]),zMt=Object(_u.a)(RMt,e=>{var t=e.find(e=>"tidal"===e.type)||{};return"active"===t.state||"pending_cancellation"===t.state});function UMt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}UMt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var VMt=UMt,BMt=a("8pg1"),FMt=a.n(BMt),HMt=Uu()(xH,{},void 0,Uu()(Xh,{}));var _Mt=function(e){var{isPending:t,hasTidal:a}=e;return t?HMt:a?Uu()(RH,{title:Object(Ze.default)("Account not linked"),description:Object(Ze.default)("Ensure your Plex account is linked to TIDAL.")},void 0,Uu()(Vp,{to:"https://plex.tv/users/other-services",kind:Dp},void 0,Object(Ze.default)("Learn more"))):Uu()(xH,{iconComponent:VMt,iconClassName:FMt.a.logo,title:Object(Ze.default)("TIDAL + Plex = music to your ears!"),description:Object(Ze.default)("Need some jams? Add TIDAL streaming music to Plex and get access to 60 million of the highest quality tracks, hundreds of thousands of music videos, awesome premium Plex music features, and seamless integration with your own collection. Sign up today to start a FREE trial!")},void 0,Uu()(EL,{action:kd.ob},void 0,Uu()(Vp,{to:Fp,kind:Dp,target:"_blank"},void 0,Object(Ze.default)("Learn more"))))};var QMt=Object(Fu.b)((function(){return Object(_u.a)(zMt,e=>({hasTidal:e}))}))(_Mt),WMt=Ed.a.createElement;var GMt=function(e){var{providerIdentifier:t,sourceDirectory:a}=e,i=Je()(e,["providerIdentifier","sourceDirectory"]);return jt.k(t,jt.c)?WMt(kMt,i):a&&"tidal"===a.id?WMt(QMt,i):WMt(AMt,i)},YMt=a("obfZ"),KMt=a.n(YMt),{Component:qMt}=Ed.a;var ZMt=class extends qMt{componentDidMount(){this.props.onProviderChange(this.props.providerIdentifier)}componentDidUpdate(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.onProviderChange(this.props.providerIdentifier)}componentWillUnmount(){this.props.onProviderChange(null)}render(){var{serverEntityID:e,providerEntityID:t,providerIdentifier:a,providerMetricsIdentifier:i,isProgramGuide:r,isAutoHomeHubsEnabled:n,sourceDirectory:s,activeSelectionType:o,hubEntityIDs:l,isHubsPending:c,hubsError:d,hubsTitle:u,isEmpty:p,hubKey:h,showUpsell:m,onRepopulate:v}=this.props;return(Uu()(tJ,{metricsPage:Rd.rb,metricsProperties:{identifier:i,mode:"hub",type:s&&s.type},allowBackgroundLightPreset:!0,scrollDirection:Jp},void 0,o?Uu()(p5e,{serverEntityID:e,providerEntityID:t}):Uu()(TMt,{serverEntityID:e,providerEntityID:t,sourceDirectory:s,hubKey:h,hubsTitle:u}),Uu()(a3e,{innerClassName:KMt.a.discoverPageContent},void 0,m?Uu()(CMt,{providerIdentifier:a}):null,r?Uu()(YH,{serverEntityID:e,providerEntityID:t}):null,Uu()("div",{className:KMt.a.discoverPageList},void 0,p||c?Uu()(GMt,{serverEntityID:e,providerEntityID:t,providerIdentifier:a,sourceDirectory:s,isPending:c,error:d,onRepopulate:v}):Uu()(aRe,{directoryKey:h,serverEntityID:e,providerEntityID:t,hubEntityIDs:l,sourceDirectory:s,allowHomeHubIndicator:!n,allowPersistentHomeHubStatus:!n,allowToggleHomeHub:!n}))),r?Uu()(IMt,{serverEntityID:e,providerEntityID:t}):null))}},XMt=Object(_u.a)(sfe,e=>e.ui.discoverPage.hubs,_4e);var JMt=Jnt(ZMt,(function(e){var t=e.ui.discoverPage;return{providerEntityID:t.providerEntityID,hubKey:t.hubKey}}),(function(e,t){e(hMt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,hubKey:t.hubKey,sourceDirectory:t.sourceDirectory})),e(mMt({options:{onlyTransient:!0}}))})),$Mt=Object(Fu.b)((function(){return Object(_u.a)(kS(),e=>e.ui.discoverPage,XMt,fMt,gne,gGe,(e,t,a,i,r,n)=>{var s=t.hubs||[],o=jt.k(e.identifier,jt.c);return{providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,isProgramGuide:o,isAutoHomeHubsEnabled:n,hubEntityIDs:s,isHubsPending:t.isHubsPending,hubsError:t.hubsError,hubsTitle:t.hubsTitle,isEmpty:a,showUpsell:i,activeSelectionType:r.activeSelectionType}})}),(function(e,t){return{onProviderChange(a){var i,r=jt.k(a,jt.d);if(t.sourceDirectory&&(i=t.sourceDirectory.id),!i&&r&&t.hubKey){var n=t.hubKey.match(/\w+\/\w+\/(\d+)/);n&&([,i]=n)}e(uee({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:i}))}}}))(JMt);var eCt=Object(_u.a)(e=>e.ui.libraryPage.metadataList,mne,(e,t)=>t[e]),tCt=Object(_u.a)(e=>e.ui.libraryPage.details,eCt,(e,t)=>{var a=t&&t.meta;return a&&a.types.length?a.types:e?e.types:void 0});function aCt(){return Object(_u.a)((e,{activeType:t})=>t,(e,{typeKey:t})=>t,tCt,(e,t,a)=>{var i;return t?i=D.a.find(a,e=>e.key===t):e&&(i=D.a.find(a,t=>{var a=Object(Wt.u)(t.type),i=Object(Wt.u)(e);return!!a&&!!i&&a.id===i.id})),i||(i=D.a.first(a)),i})}var iCt=a("BRfu"),rCt=a("UvU1"),nCt=xe.a.extend({name:"QueryLimitModel",rootPropertyName:"Limit",syncedAttrs:{limit:Ae.a.integer,unit:Ae.a.string}}),sCt=ke.a.extend({name:"QueryLimitCollection",model:nCt}),oCt=a("VIuC"),lCt=xe.a.extend({name:"QueryParseModel",context:["server"],url(){return this.get("key")},sessionAttrs:{key:Ae.a.string},syncedAttrs:{type:Ae.a.string},syncedRelations:{rule:{relationClass:oCt.a,rootPropertyName:"Rule",deferred:!0},limits:{relationClass:sCt,rootPropertyName:"Limit",deferred:!0}}}),cCt="ui/libraryPage/initLibraryPage",dCt="ui/libraryPage/clearLibraryPageErrors",uCt="ui/libraryPage/initLibraryPageMetadataList",pCt="ui/libraryPage/initLibraryPageSupportingLists",hCt="ui/libraryPage/fetchLibraryDetails",mCt="ui/libraryPage/populateLibraryDetails",vCt="ui/libraryPage/fetchLibraryFirstCharacters",gCt="ui/libraryPage/populateLibraryFirstCharacters",yCt="ui/libraryPage/fetchQueryParse",fCt="ui/libraryPage/populateQueryParse",bCt="ui/libraryPage/selectLibraryFilter",ICt="ui/libraryPage/deselectLibraryFilter",SCt="ui/libraryPage/fetchLibraryFilterOptions",MCt="ui/libraryPage/populateLibraryFilterOptions",CCt="ui/libraryPage/searchLibraryFilterOptions",DCt="ui/libraryPage/selectLibraryTableColumn",PCt="ui/libraryPage/deselectLibraryTableColumn",OCt="ui/libraryPage/updateSmartPlaylist",jCt="ui/libraryPage/navigatePlaylist",TCt=Object(Pa.a)(cCt),wCt=Object(Pa.a)(dCt),ECt=Object(Pa.a)(uCt),NCt=Object(Pa.a)(pCt),xCt=Object(Pa.a)(hCt),ACt=Object(Pa.a)(mCt),LCt=Object(Pa.a)(vCt),kCt=Object(Pa.a)(gCt),RCt=Object(Pa.a)(yCt),zCt=Object(Pa.a)(fCt),UCt=Object(Pa.a)(bCt),VCt=Object(Pa.a)(ICt),BCt=Object(Pa.a)(SCt),FCt=Object(Pa.a)(MCt),HCt=Object(Pa.a)(CCt),_Ct=Object(Pa.a)(DCt),QCt=Object(Pa.a)(PCt),WCt=Object(Pa.a)(OCt),GCt=Object(Pa.a)(jCt);function YCt(e){return e.get("ui").get("libraryPage")}var KCt={[cCt](e,t){var a=YCt(e),i=a.get("details"),r=Object(Ta.m)(e,t),n=Object(Ta.j)(e,t),{providerEntityID:s,libraryKey:o,directoryKey:l}=t;if(o||s!==a.get("providerEntityID")||l!==a.get("directoryKey"))if(o){if(s!==a.get("providerEntityID")||o!==a.get("libraryKey")){var c={providerEntityID:s,libraryKey:o,directoryKey:l};i&&i.get("libraryKey")===o?(c.details=i,c.isDetailsPending=a.get("isDetailsPending"),c.isDetailsPopulated=a.get("isDetailsPopulated"),c.detailsError=a.get("detailsError")):c.details=new Aw({key:o},{server:r,provider:n,includeAdvanced:!0}),a.restoreDefaults(c)}}else a.restoreDefaults({isDetailsPending:!1,isDetailsPopulated:!0,detailsError:null,directoryKey:l,providerEntityID:s})},[dCt](e,t){YCt(e).set({isUpdatePlaylistPending:!0,updatePlaylistError:null})},[uCt](e,t){var a=YCt(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=a.get("metadataList"),{containerKey:s}=t;if(!n||s!==n.get("containerKey"))if(n)n.set({containerKey:s});else{var o=Object(sw.a)(e,Tt.a),l=new Qi.default({entityKey:"libraryPageMetadataList",containerKey:s},{server:i,provider:r,includeCollections:r.get("isLibraryProvider")?1:0,includeExternalMedia:o,includeAdvanced:1,includeMeta:1});a.set({metadataList:l})}},[pCt](e,t){var a,i=YCt(e),r=Object(Ta.m)(e,t),n=Object(Ta.j)(e,t),s=i.get("firstCharacters"),o=i.get("queryParse"),{firstCharacterKey:l,queryParseKey:c,customFilter:d}=t,u={},p=Object(sw.a)(e,Tt.a);if(l&&(a=_.join(l,{includeCollections:1,includeExternalMedia:p})),l&&!s||s&&s.url!==a){var h=new rCt.a([],{server:r,provider:n,url:a});u.firstCharacters=h,u.isFirstCharactersPending=!1,u.isFirstCharactersPopulated=!1,u.firstCharactersError=null}!d||o&&o.get("key")===c||(u.queryParse=new lCt({key:c},{server:r}),u.isQueryParsePending=!0,u.isQueryParsePopulated=!1,u.queryParseError=null),Object.keys(u).length&&i.set(u)},[hCt]:Object(Oa.a)({key:"details",getModel:YCt}),[mCt]:Object(ja.a)({key:"details",fetchActionCreator:xCt,getModel:YCt}),[vCt]:Object(Oa.a)({key:"firstCharacters",getModel:YCt}),[gCt]:Object(ja.a)({key:"firstCharacters",fetchActionCreator:LCt,getModel:YCt}),[yCt]:Object(Oa.a)({key:"queryParse",getModel:YCt}),[fCt]:Object(ja.a)({key:"queryParse",fetchActionCreator:RCt,getModel:YCt}),[ji.a](e,t,a){var{metadataItemEntityID:i,containerKeyPattern:r}=t;if(!i){var n=Object(Ta.m)(e,t),s=YCt(e),o=s.get("metadataList");o&&o.server===n&&(r&&!o.get("containerKey").match(r)||(a(bx({metadataListEntityID:o.entityID()})),s.get("firstCharacters")&&a(LCt())))}},[bCt](e,t){var a=YCt(e),i=a.get("selectedFilterOptions"),r=Object(Ta.m)(e,t),n=Object(Ta.j)(e,t),{key:s}=t,o={selectedFilterKey:s},l=Object(sw.a)(e,Tt.a)?_.join(s,{includeExternalMedia:1}):s;i&&i.url===s||(o.selectedFilterOptions=new iCt.a([],{server:r,provider:n,url:l}),o.isSelectedFilterOptionsPending=!0,o.isSelectedFilterOptionsPopulated=!1,o.selectedFilterOptionsError=null),a.set(o)},[ICt](e){YCt(e).set({selectedFilterKey:void 0,selectedFilterOptions:void 0,filterOptionQuery:""})},[SCt]:Object(Oa.a)({key:"selectedFilterOptions",getModel:YCt}),[MCt]:Object(ja.a)({key:"selectedFilterOptions",fetchActionCreator:BCt,getModel:YCt}),[CCt](e,t){YCt(e).set("filterOptionQuery",t)},[DCt](e,t,a){var{type:i,subtype:r,activeTableColumns:n,key:s}=t;if(-1===D.a.findIndex(n,e=>e.key===s)){var o=j5e(i,r),l=e.get("user").get("experienceSettings").get("libraryTableColumns"),c=n.map(e=>e.key).concat(s);a(Object(Qu.f)({libraryTableColumns:Object.assign({},l,{[o]:c})}))}},[PCt](e,t,a){var{type:i,subtype:r,activeTableColumns:n,key:s}=t;if(!(n.length<=1)){var o=D.a.findIndex(n,e=>e.key===s);if(-1!==o){var l=j5e(i,r),c=e.get("user").get("experienceSettings").get("libraryTableColumns"),d=n.slice(0,o).concat(n.slice(o+1)).map(e=>e.key);a(Object(Qu.f)({libraryTableColumns:Object.assign({},c,{[l]:d})}))}}},[OCt](e,t,a){var i=YCt(e),r=Object(Ta.j)(e,t),n=i.get("metadataList"),{playlistID:s}=t,{uri:o}=rne({providerModel:r,itemProviderModel:r,metadataListModel:n});i.set({isUpdatePlaylistPending:!0,updatePlaylistError:null}),nne({playlistID:s,uri:o,providerModel:r}).then(()=>a(GCt(t)),e=>{i.set("updatePlaylistError",Object(vw.a)(e))}).always(()=>{i.set("isUpdatePlaylistPending",!1)})},[jCt](e,t,a){var i=YCt(e),r=Object(Ta.m)(e,t),n=Object(Ta.j)(e,t),s=i.get("metadataList"),{playlistID:o}=t,l=s.get("firstItemType");if(l){var c=Object(Wt.t)(l).mediaType,d=lu(r.toJSON(),n.toJSON(),_.join(["/playlists",o]),{},c);a(Object(Wi.l)({pathname:d}))}}};function qCt(e){return Object(_u.a)((e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{selectedType:t})=>t,(e,{sourceDirectory:t})=>t,(t,a,i,r,n,s)=>{var o={filters:a,sort:i,limit:r};return!(s&&s.type===Wt.k)&&n&&n.key?Sbe([n.key.replace("/all?","/"+e+"?")],o):t?Sbe([t,e],o):void 0})}function ZCt(){return Object(_u.a)((e,{activeSort:t})=>t,aCt(),(e,t)=>{if(t){var a=e&&D.a.first(e.split(":")),i=D.a.find(t.sorts,t=>!!t.active||(e?t.key===a||t.descKey===e:t.isDefault));return i||(i=D.a.first(t.sorts)),i}})}var XCt=Object(_u.a)(Nv.a,e=>e.listStyles);function JCt(e){var{type:t,primaryExtraKey:a}=e;return"track"===t&&!!a}var $Ct=a("W6Nc"),eDt=a.n($Ct);function tDt(e){var{className:t,iconClassName:a,iconComponent:i}=e;return(Uu()("span",{className:t},void 0,Uu()(i,{className:a})))}tDt.defaultProps={className:eDt.a.decoratorIconContainer,iconClassName:eDt.a.decoratorIcon};var aDt=tDt,iDt=a("eq1q"),rDt=a.n(iDt),nDt=Uu()(aDt,{iconComponent:yM});var sDt=function(e){var{className:t,title:a,isFolder:i,isMultiVersion:r,hasMusicVideo:n}=e;return(Uu()("span",{className:t},void 0,Uu()("div",{className:rDt.a.titleContainer},void 0,i?Uu()(aDt,{className:rDt.a.folderIconContainer,iconClassName:rDt.a.folderIcon,iconComponent:iM}):null,Uu()("span",{className:rDt.a.title},void 0,a),Uu()("span",{},void 0,r?Uu()(aDt,{iconClassName:rDt.a.multiVersionIcon,iconComponent:lje}):null,n?nDt:null))))};var oDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>e?{title:e.title,isFolder:e.isFolder,isMultiVersion:wOe(e),hasMusicVideo:JCt(e)}:{})}))(sDt),lDt=a("litE"),cDt=a.n(lDt),dDt=Uu()($y,{}),uDt=Uu()(aDt,{iconComponent:yM});var pDt=function(e){var{className:t,title:a,originalTitle:i,hasMusicVideo:r}=e;return(Uu()("span",{className:t},void 0,Uu()("span",{className:cDt.a.titleContainer},void 0,Uu()("span",{className:cDt.a.title,"data-qa-id":"trackName"},void 0,a,i?Uu()("span",{className:cDt.a.trackArtist},void 0,a?dDt:null,i):null),r?uDt:null)))};var hDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),e=>{if(!e)return{};var{title:t,originalTitle:a}=e;return{title:t,originalTitle:a,hasMusicVideo:JCt(e)}})}))(pDt);var mDt=function({className:e,lastRatedAt:t}){return t?Uu()(nle,{className:e,timestamp:t}):null};var vDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({lastRatedAt:e.lastRatedAt}))}))(mDt),gDt=a("1B0D"),yDt=a.n(gDt);function fDt({size:e,saved:t,viewOffset:a,viewCount:i}){return null==t||t||a?i||a?a?Uu()("div",{className:(yDt.a.unwatchedCircle||"")+" "+(yDt.a.isPartiallyWatched||"")+" "+(yDt.a[e]||"")}):null:Uu()("div",{className:(yDt.a.unwatchedCircle||"")+" "+(yDt.a[e]||"")}):null}fDt.defaultProps={size:Tp};var bDt=fDt;var IDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({saved:e.saved,viewOffset:e.viewOffset,viewCount:e.viewCount}))}))(bDt),SDt=a("7ykk"),MDt=a.n(SDt);function CDt(e){var{className:t,size:a,duration:i,viewOffset:r,viewCount:n,isFolder:s}=e;return s?null:n||r?Uu()(dSe,{className:t,duration:i,viewOffset:r}):Uu()("div",{className:(MDt.a.unwatchedCircle||"")+" "+(MDt.a[a]||"")})}CDt.defaultProps={size:Tp};var DDt=CDt;var PDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({duration:e.duration,viewOffset:e.viewOffset,viewCount:e.viewCount,isFolder:e.isFolder}))}))(DDt);var ODt=function({className:e,originalTitle:t}){return Uu()("span",{className:e,title:t},void 0,t)};var jDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({originalTitle:e.originalTitle}))}))(ODt);var TDt=function({className:e,unviewedLeafCount:t}){var a;return t>0&&(a=Object(Ze.default)("{numEpisodes} unplayed",{numEpisodes:t})),Uu()("span",{className:e},void 0,a)};var wDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({unviewedLeafCount:e.unviewedLeafCount}))}))(TDt);var EDt=function({className:e,viewCount:t}){return Uu()("span",{className:e},void 0,t>0?t:null)};var NDt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({viewCount:e.viewCount}))}))(EDt),xDt={flex:"2 1 350px"},ADt={flex:"0 1 200px"},LDt={key:"title",ascKey:"titleSort",descKey:"titleSort:desc",title:e=>{switch(e){case Wt.j:return Object(Ze.default)("Movie Title");case Wt.o:return Object(Ze.default)("Show Title");case Wt.f:return Object(Ze.default)("Episode Title");case Wt.b:return Object(Ze.default)("Artist Title");case Wt.a:return Object(Ze.default)("Album Title");case Wt.p:return Object(Ze.default)("Track Title");default:return Object(Ze.default)("Title")}},component:()=>oDt,style:xDt},kDt={key:"season",ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",title:()=>Object(Ze.default)("Season"),component:()=>oDt,style:xDt},RDt={key:"seasonShow",ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",title:()=>Object(Ze.default)("Show"),component:()=>ale,style:xDt},zDt={key:"episodeShow",ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",title:()=>Object(Ze.default)("Show"),component:()=>ele,style:xDt},UDt={key:"albumArtist",ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",title:()=>Object(Ze.default)("Album Artist"),component:()=>ale,style:xDt},VDt={key:"trackAlbumArtist",ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",title:()=>Object(Ze.default)("Album Artist"),component:()=>ele,style:xDt},BDt={key:"trackArtist",title:()=>Object(Ze.default)("Artist"),ascKey:"originalTitle",descKey:"originalTitle:desc",component:()=>jDt,style:xDt},FDt={key:"combinedTitleTrackArtist",ascKey:"titleSort",descKey:"titleSort:desc",title:()=>Object(Ze.default)("Track Title"),component:()=>hDt,style:xDt},HDt={key:"trackAlbum",ascKey:"album.titleSort",descKey:"album.titleSort:desc",title:()=>Object(Ze.default)("Album"),component:()=>ale,style:xDt},_Dt={key:"year",ascKey:"year",descKey:"year:desc",title:()=>Object(Ze.default)("Year"),component:()=>Tle,style:{flex:"0 1 150px"}},QDt={key:"criticRating",ascKey:"rating",descKey:"rating:desc",title:()=>Object(Ze.default)("Critic Rating"),component:()=>BSe,style:{flex:"0 0 150px"}},WDt={key:"userRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ze.default)("Rating"),component:()=>bMe,style:{flex:"0 0 115px"}},GDt={key:"miniUserRating",ascKey:"userRating",descKey:"userRating:desc",title:()=>Object(Ze.default)("Rating"),component:()=>bMe,style:{flex:"0 0 75px",padding:0}},YDt={key:"contentRating",ascKey:"contentRating",descKey:"contentRating:desc",title:()=>Object(Ze.default)("Content Rating"),component:()=>ESe,style:{flex:"0 0 150px"}},KDt={key:"duration",ascKey:"duration",descKey:"duration:desc",title:()=>Object(Ze.default)("Duration"),component:e=>{switch(e){case Wt.p:return Dke;default:return FSe}},style:{flex:"0 1 150px"}},qDt={key:"progress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ze.default)("Progress"),component:()=>PDt,style:{flex:"0 1 150px"}},ZDt={key:"miniProgress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:()=>Object(Ze.default)("Progress"),component:()=>IDt,style:{flex:"0 0 25px",paddingLeft:"10px",paddingRight:0}},XDt={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ze.default)("Seasons"),component:()=>Cle,style:{flex:"0 1 150px"}},JDt={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:()=>Object(Ze.default)("Episodes"),component:()=>WIe,style:{flex:"0 1 150px"}},$Dt={key:"unwatchedCount",ascKey:"unviewedLeafCount",descKey:"unviewedLeafCount:desc",title:()=>Object(Ze.default)("Unplayed"),component:()=>wDt,style:{flex:"0 1 150px"}},ePt={key:"playCount",ascKey:"viewCount",descKey:"viewCount:desc",title:()=>Object(Ze.default)("Plays"),component:()=>NDt,style:{flex:"0 1 150px"}},tPt={key:"dateAdded",ascKey:"addedAt",descKey:"addedAt:desc",title:()=>Object(Ze.default)("Date Added"),component:()=>fle,style:ADt},aPt={key:"dateViewed",ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",title:()=>Object(Ze.default)("Date Viewed"),component:()=>_Se,style:ADt},iPt={key:"releaseDate",ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",title:e=>{switch(e){case"movie":return Object(Ze.default)("Release Date");case"show":case"episode":return Object(Ze.default)("Air Date");case"album":default:return Object(Ze.default)("Release Date")}},component:()=>YSe,style:ADt},rPt={key:"lastRatedAt",ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",title:()=>Object(Ze.default)("Date Rated"),component:()=>vDt,style:ADt},nPt={key:"resolution",ascKey:"mediaHeight",descKey:"mediaHeight:desc",title:()=>Object(Ze.default)("Resolution"),component:()=>qSe,style:{flex:"0 1 150px"}},sPt={key:"bitrate",ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",title:()=>Object(Ze.default)("Bitrate"),component:()=>jSe,style:{flex:"0 1 150px"}},oPt={movie:[LDt,_Dt,QDt,WDt,YDt,KDt,qDt,ePt,tPt,aPt,iPt,nPt,sPt],show:[LDt,_Dt,QDt,WDt,YDt,XDt,$Dt,tPt,aPt,iPt],season:[kDt,RDt,WDt,tPt],episode:[LDt,zDt,_Dt,QDt,WDt,KDt,qDt,ePt,tPt,aPt,iPt,nPt,sPt],artist:[LDt,WDt,tPt],album:[LDt,UDt,_Dt,QDt,WDt,tPt,iPt],track:[LDt,VDt,BDt,HDt,_Dt,WDt,KDt,qDt,ePt,tPt,rPt,sPt],collection:[LDt,WDt]},lPt=[LDt,kDt,RDt,zDt,UDt,VDt,BDt,HDt,_Dt,QDt,WDt,YDt,KDt,qDt,XDt,JDt,$Dt,ePt,tPt,aPt,rPt,iPt,nPt,sPt];function cPt(e){return oPt[e]}function dPt(e=[]){var t=e.reduce((e,t)=>(e[t.key]=!0,e),{});return lPt.reduce((e,a)=>(t[a.ascKey]&&e.push(a),e),[])}var uPt=Object(_u.a)(Nv.a,e=>e.libraryTableColumns);function pPt(){return Object(_u.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{isFolder:t})=>t,aCt(),uPt,(e,t,a,i,r={},n)=>{var s=a===jc,o=j5e(e,t);return function(e,t,a,i={}){var r=i.keys,n=i.sorts,s=i.isFolder;if(r&&r.length)return(n&&n.length&&!s?dPt(n):cPt(e)).reduce((e,t)=>(-1!==r.indexOf(t.key)&&e.push(t),e),[]);switch(a){case Tc:switch(e){case Wt.n:return[kDt,_Dt,JDt,WDt];case Wt.f:return[ZDt,LDt,WDt];case Wt.a:return[LDt,_Dt,WDt];case Wt.p:return[FDt,GDt]}break;case"metadataList":switch(e){case Wt.p:return[LDt,VDt,HDt,WDt,KDt]}}switch(t){case OM.c:switch(e){case Wt.o:return[LDt];case Wt.p:return[LDt,KDt]}}switch(e){case Wt.j:return[LDt,_Dt,KDt,qDt];case Wt.o:return[LDt,_Dt,XDt,$Dt];case Wt.n:return[kDt,RDt];case Wt.f:return[LDt,zDt,qDt];case Wt.b:return[LDt];case Wt.a:return[LDt,UDt,_Dt];case Wt.p:return[LDt,VDt,KDt];case Wt.k:case Wt.l:case Wt.d:case Wt.e:return[LDt]}return[]}(e,t,a,{isFolder:i,keys:s?n[o]:void 0,sorts:s?r.sorts:void 0})})}var hPt=a("uEtx"),mPt=a.n(hPt),vPt=Ed.a.createElement;function gPt(e){var{isAscending:t}=e,a=Je()(e,["isAscending"]);return vPt(t?Zdt:Kdt,tp()({"aria-label":t?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending")},a))}gPt.defaultProps={className:mPt.a.sortDirectionIcon,isAscending:!0};var yPt=gPt,fPt=a("KzEB"),bPt=a.n(fPt),IPt=Ed.a.createElement;function SPt(e){var{children:t}=e,a=Je()(e,["children"]);return(IPt("div",a,t))}SPt.defaultProps={className:bPt.a.tableHeader};var MPt=SPt,CPt=a("N6Bl"),DPt=a.n(CPt),PPt=Ed.a.createElement;function OPt(e){var{className:t,activeClassName:a,children:i,isActive:r}=e,n=Je()(e,["className","activeClassName","children","isActive"]),s=r?a:t;return PPt("div",tp()({className:s},n),i)}OPt.defaultProps={className:DPt.a.tableHeaderCell,activeClassName:DPt.a.activeTableHeaderCell};var jPt=OPt,TPt=a("mZ//"),wPt=a.n(TPt),EPt=Ed.a.createElement;function NPt(e){var{children:t}=e,a=Je()(e,["children"]);return(EPt(Vp,a,t))}NPt.defaultProps={className:wPt.a.tableHeaderLink};var xPt=NPt,APt=a("oArg"),LPt=a.n(APt),kPt=Ed.a.createElement;function RPt(e){var{children:t}=e,a=Je()(e,["children"]);return(kPt("div",a,t))}RPt.defaultProps={className:LPt.a.tableHeaderTitle};var zPt=RPt,{Component:UPt}=Ed.a;var VPt=class extends UPt{constructor(...e){super(...e),this.onPress=e=>{(this.props.isSelected?this.props.onColumnDeselect:this.props.onColumnSelect)(this.props.columnKey),this.props.onMenuClose()}}render(){var{children:e,isSelected:t}=this.props;return(Uu()(iy,{isSelected:t,onPress:this.onPress},void 0,e))}},BPt=a("ulDd"),FPt=a.n(BPt),{Component:HPt}=Ed.a,_Pt=Uu()(UZ,{});var QPt=class extends HPt{constructor(e,t){super(e,t),this.onChangeColumnsPress=e=>{this.setState({isColumnsMenuOpen:!this.state.isColumnsMenuOpen})},this.onColumnsMenuClose=()=>{this.setState({isColumnsMenuOpen:!1})},this.state={isColumnsMenuOpen:!1},this._columnsButtonID=Mp()}render(){var{activeTableColumnsByKey:e,allTableColumns:t,typeKey:a,listType:i,activeFilters:r,activeFilterLabel:n,activeSort:s,customFilter:o,selectedSort:l,isDisabled:c,onColumnSelect:d,onColumnDeselect:u}=this.props,{isColumnsMenuOpen:p}=this.state;return Uu()(MPt,{"data-qa-id":"metadataTableHeader"},void 0,Uu()("div",{className:FPt.a.playCell}),t.map(({style:t,title:d,ascKey:u,descKey:p,key:h})=>{if(!e[h])return null;var m=s===u||s===p||l.key===u,v=s?s===u:l.key===u;return c?Uu()("div",{style:t,className:FPt.a.tableHeader},h,Uu()(jPt,{},void 0,Uu()(zPt,{},void 0,d(i)))):Uu()(xPt,{style:t,to:NIe({typeKey:a,filters:r,filterLabel:n,sort:v?p:u,customFilter:o})},h,Uu()(jPt,{isActive:m},void 0,Uu()(zPt,{},void 0,d(i)),m?Uu()(yPt,{isAscending:!v}):null))}),Uu()("div",{className:FPt.a.actionsCell},void 0,Uu()(Vp,{id:this._columnsButtonID,className:FPt.a.columnsButton,"aria-label":Object(Ze.default)("Change Columns"),"aria-haspopup":!0,onPress:this.onChangeColumnsPress},void 0,_Pt),Uu()(Fg,{target:this._columnsButtonID,isOpen:p,onMenuClose:this.onColumnsMenuClose},void 0,t.map(t=>Uu()(VPt,{columnKey:t.key,isSelected:!!e[t.key],onColumnSelect:d,onColumnDeselect:u,onMenuClose:this.onColumnsMenuClose},t.key,t.title(i))))))}},WPt=Ed.a.createElement,{Component:GPt}=Ed.a;function YPt(e=[],t){var a=e.reduce((e,t)=>(e[t.key]=t,e),{});return t.map(e=>{var t=a[e.ascKey];return t?Object.assign({},e,{title:a=>t.title||e.title(a)}):e})}var KPt={dispatchSelectLibraryTableColumn:_Ct,dispatchDeselectLibraryTableColumn:QCt};var qPt=Object(Fu.b)((function(){return Object(_u.a)((e,{listType:t})=>t,(e,{isFolder:t})=>t,pPt(),aCt(),(e,t,a,i)=>{var r=t?cPt(e):dPt(i.sorts),n=a.reduce((e,t)=>(e[t.key]=t,e),{});return{allTableColumns:YPt(i.sorts,r),activeTableColumnsByKey:n,activeTableColumns:a}})}),KPt)(class extends GPt{constructor(...e){super(...e),this.onColumnSelect=e=>{this.props.dispatchSelectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})},this.onColumnDeselect=e=>{this.props.dispatchDeselectLibraryTableColumn({type:this.props.listType,subtype:this.props.listSubtype,activeTableColumns:this.props.activeTableColumns,key:e})}}render(){var e=this.props,t=Je()(e,["dispatchSelectLibraryTableColumn","dispatchDeselectLibraryTableColumn","activeTableColumns"]);return(WPt(QPt,tp()({},t,{onColumnSelect:this.onColumnSelect,onColumnDeselect:this.onColumnDeselect})))}}),ZPt=Ed.a.createElement;var XPt=function(e){return ZPt(qat,tp()({className:EH.a.innerEmptyPage,contentClassName:EH.a.innerEmptyPageContent,scrollDirection:Jp},e))},JPt=a("reQb"),$Pt=a.n(JPt),eOt=Ed.a.createElement;var tOt=function(e){var t=function({sourceDirectory:e,hint:t,error:a}){if(e&&"tidal"===e.id){var i={iconComponent:VMt,iconClassName:$Pt.a.tidal,title:Object(Ze.default)("TIDAL + Plex = music to your ears!"),link:Fp,linkText:Object(Ze.default)("Learn more"),linkTarget:"_blank",linkAction:kd.ob};if(406===a&&t){if(t.includes("saved"))return Object.assign({},i,{description:Object(Ze.default)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music.")});if(t.includes("playlists"))return Object.assign({},i,{description:Object(Ze.default)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going.")})}}if(404===a)return{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("We can't find the page you're looking for"),link:"#",linkText:Object(Ze.default)("Go Home")}}(e);if(t){var{link:a,linkText:i,linkTarget:r,linkAction:n}=t,s=Je()(t,["link","linkText","linkTarget","linkAction"]),o=Uu()(Vp,{to:a,kind:Dp,target:r},void 0,i);return eOt(RH,s,n?Uu()(EL,{action:n},void 0,o):o)}return(Uu()(cst,{title:e.defaultTitle},void 0,e.children))},aOt=Object(_u.a)(tCt,e=>e.reduce((e,t)=>(e.push.apply(e,t.fields),e),[])),iOt=Object(_u.a)(e=>e.ui.libraryPage.details,eCt,(e,t)=>{var a=t&&t.meta;return a&&a.fieldTypes.length?a.fieldTypes:e?e.fieldTypes:void 0}),rOt=a("Qb9m"),nOt=a.n(rOt),sOt=Ed.a.createElement;function oOt(e){var{children:t}=e,a=Je()(e,["children"]);return(sOt("div",a,t))}oOt.defaultProps={className:nOt.a.group};var lOt=oOt,cOt=a("Zev7"),dOt=a.n(cOt);function uOt({className:e,name:t,labelText:a,showErrors:i,errors:r}){return Uu()(DV,{className:e,showErrors:i,errors:r,name:t,labelText:a})}uOt.defaultProps={className:dOt.a.label};var pOt=uOt,hOt=a("YxVA"),mOt=a.n(hOt),vOt=Ed.a.createElement;function gOt(e){var{inputClassName:t,name:a,labelText:i,showErrors:r,errors:n,leftLabel:s}=e,o=Je()(e,["inputClassName","name","labelText","showErrors","errors","leftLabel"]);return(Uu()(lOt,{},void 0,s?Uu()(pOt,{hasError:r,errors:n,name:a,labelText:i}):null,vOt(HV,tp()({className:t,name:a,hasError:r},o)),s?null:Uu()(pOt,{hasError:r,errors:n,name:a,labelText:i})))}gOt.defaultProps={inputClassName:mOt.a.input,leftLabel:!0};var yOt=jV(gOt);var fOt=function(e){return">>=-"===e||"<<=-"===e},bOt=Object(_u.a)(iOt,e=>e.reduce((e,t)=>{if(t.type===Lw){var a=t.operators.filter(({key:e})=>"="!==e&&"!="!==e);a.push({key:">>=-",title:Object(Ze.default)("in the last")},{key:"<<=-",title:Object(Ze.default)("in not the last")}),e[t.type]=a}else e[t.type]=t.operators;return e},{})),IOt=a("l+2V"),SOt=a("FpO7"),MOt=a("z07K"),COt=a.n(MOt),DOt=Ed.a.createElement,{Component:POt}=Ed.a;class OOt extends POt{constructor(...e){super(...e),this.setInputRef=e=>{this.inputRef=e},this.onChange=e=>{this.textMaskInputElement.update(),this.props.onChange(this.textMaskInputElement.state.previousConformedValue)}}componentDidMount(){var{value:e}=this.props,{mask:t,guide:a,pipe:i,placeholderChar:r,keepCharPositions:n}=this.props;this.textMaskInputElement=Object(SOt.createTextMaskInputElement)({inputElement:this.inputRef,mask:t,guide:a,pipe:i,placeholderChar:r,keepCharPositions:n}),this.textMaskInputElement.update(e)}componentDidUpdate(){this.textMaskInputElement.update(this.props.value)}render(){var e=this.props,{className:t,errorClassName:a,disabledClassName:i,isDisabled:r,type:n,name:s,value:o,size:l,hasError:c}=e,d=Je()(e,["className","errorClassName","disabledClassName","isDisabled","type","name","initialValue","value","size","mask","guide","pipe","placeholderChar","keepCharPositions","hasError","errors","validations","onChange"]);return(DOt("input",tp()({},d,{className:(t||"")+" "+(COt.a[l]||"")+" "+(r&&i||"")+" "+(c&&a||""),id:s,name:s,type:n,disabled:r,defaultValue:o,ref:this.setInputRef,onChange:this.onChange})))}}OOt.defaultProps={className:COt.a.input,errorClassName:COt.a.hasError,disabledClassName:COt.a.isDisabled,isDisabled:!1,size:wp,type:"text",hasError:!1};var jOt=OOt,TOt=Ed.a.createElement,wOt=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],EOt=Object(IOt.createAutoCorrectedDatePipe)("yyyy-mm-dd");function NOt(e){return TOt(jOt,tp()({mask:wOt,pipe:EOt,keepCharPositions:!0,placeholder:"yyyy-mm-dd"},e))}NOt.defaultProps={placeholderChar:"",guide:!1};var xOt=NOt,AOt=a("OOzj"),LOt=a.n(AOt),{Component:kOt}=Ed.a,ROt=/^([0-9]+)?([a-zA-Z]+)?$/;var zOt=class extends kOt{constructor(e,t){super(e,t),this.onValueChange=e=>{this.setState({inputValue:e},()=>{this.props.onChange(""+e+this.state.selectedUnit)})},this.onUnitChange=e=>{this.setState({selectedUnit:e},()=>{this.props.onChange(""+this.state.inputValue+e)})},this.state=this.getStateFromProps(e)}componentWillReceiveProps(e){this.props.value!==e.value&&this.setState(this.getStateFromProps(e))}getStateFromProps(e){var[t]=e.units,[,a="",i=Object.keys(t)[0]]=e.value.match(ROt)||[];return{inputValue:a,selectedUnit:i}}render(){var{textInputClassName:e,selectInputClassName:t,units:a,size:i}=this.props;return(Uu()("span",{className:LOt.a.inputs},void 0,Uu()(LR,{name:"unitValue",className:e,type:"number",value:this.state.inputValue,size:i,onChange:this.onValueChange}),Uu()(bR,{name:"unit",className:t,value:this.state.selectedUnit,values:a,size:i,onChange:this.onUnitChange})))}};function UOt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}UOt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var VOt=UOt;function BOt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-remove-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h252v44.8h-252v-44.8"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}BOt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var FOt=BOt,HOt=a("Zi5A"),_Ot=a.n(HOt),{Component:QOt}=Ed.a,WOt=Uu()(DI,{});var GOt=class extends QOt{constructor(...e){super(...e),this.onRemovePress=()=>{this.props.onRemove(this.props.index)}}render(){var{tag:e,index:t,tagCount:a,isDisabled:i,getTagDisplayValue:r}=this.props;return(Uu()("span",{className:_Ot.a.container},void 0,Uu()("span",{className:_Ot.a.tag},void 0,i?null:Uu()(Vp,{className:_Ot.a.remove,"aria-label":Object(Ze.default)("Remove Tag"),onPress:this.onRemovePress},void 0,WOt),Uu()("span",{},void 0,r(e))),Uu()("span",{className:_Ot.a.or},void 0,t!==a-1?Object(Ze.default)("or"):null)))}},YOt=a("URkQ"),KOt=a.n(YOt),{Component:qOt}=Ed.a,ZOt=["=","!="],XOt=["==","!=="],JOt={integer:/^\d+$/};function $Ot(e){var{selectedField:t,filter:a,selectedFilterOptions:i,suggestionsFilter:r,renderSuggestion:n,shouldRenderSuggestions:s,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,onSuggestionSelected:p,onSuggestionsFetchRequested:h,onSuggestionsClearRequested:m,onValueChange:v,onTagValueChange:g}=e;return t?"boolean"===t.type?null:"rating"===t.subType?Uu()(bR,{className:KOt.a.selectInput,name:"value",size:jp,values:[{"-1":Object(Ze.default)("Empty")},{2:""},{4:""},{6:""},{8:""},{10:""}],value:a.value[0]?a.value[0].value:"",onChange:v}):t.type===Lw&&fOt(a.operator)?Uu()(zOt,{textInputClassName:KOt.a.unitTextInput,selectInputClassName:KOt.a.selectInput,name:"value",size:jp,units:[{s:Object(Ze.default)("Seconds")},{m:Object(Ze.default)("Minutes")},{h:Object(Ze.default)("Hours")},{d:Object(Ze.default)("Days")},{w:Object(Ze.default)("Weeks")},{mon:Object(Ze.default)("Months")},{y:Object(Ze.default)("Years")}],value:a.value[0]?a.value[0].value:"",onChange:v}):t.type===Lw?Uu()(xOt,{className:KOt.a.textInput,name:"value",size:jp,value:a.value[0]?a.value[0].value:"",onChange:v}):Uu()(XK,{className:KOt.a.tagsInput,value:a.value,suggestions:i,suggestionsFilter:r,renderSuggestion:n,shouldRenderSuggestions:s,getSuggestionValue:o,getTagValue:l,getTagDisplayValue:c,makeTag:d,makeTagFromSuggestion:u,tagComponent:GOt,validationRegex:JOt[t.type],onSuggestionSelected:p,onSuggestionsFetchRequested:h,onSuggestionsClearRequested:m,onChange:g}):null}var ejt=Uu()(FOt,{}),tjt=Uu()(VOt,{});class ajt extends qOt{constructor(...e){super(...e),this.shouldRenderSuggestions=e=>{var{selectedFilter:t,selectedField:{type:a},value:{operator:i}}=this.props;return!!t&&("string"===a&&XOt.indexOf(i)>-1||"string"!==a&&ZOt.indexOf(i)>-1)},this.onFieldChange=e=>{var{fieldKeyTypes:t}=this.props,{defaultOperator:a,type:i,subType:r}=t[e],n=[];"boolean"===i&&n.push({value:1}),"rating"===r&&n.push({value:"-1"}),e!==this.props.value.key&&this.props.onChange({key:e,operator:a,value:n})},this.onOperatorChange=e=>{var t,{selectedField:a}=this.props;t=a.type===Lw&&fOt(e)&&fOt(this.props.value.operator)||!fOt(e)&&!fOt(this.props.value.operator)?this.props.value.value:[],this.props.onChange(Object.assign({},this.props.value,{value:t,operator:e}))},this.onTagValueChange=e=>{this.props.onChange(Object.assign({},this.props.value,{value:Array.isArray(e)?e:[e]}))},this.onValueChange=e=>{this.props.onChange(Object.assign({},this.props.value,{value:[{value:e}]}))},this.onRemovePress=()=>{this.props.onRemovePress(this.props.index)},this.onAddPress=()=>{this.props.onAddPress(this.props.index)}}getSuggestionValue(e){return e}getTagValue(e){return e.value}getTagDisplayValue(e){return e.valueTitle||e.value}makeTag(e){return{value:encodeURIComponent(e),valueTitle:e}}makeTagFromSuggestion(e){return{value:e.value,valueTitle:e.title}}suggestionsFilter(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1}renderSuggestion(e){return e.title}render(){var{isRemoveDisabled:e,value:t,operatorValues:a,fieldValues:i,selectedField:r,selectedFilterOptions:n,onSuggestionsFetchRequested:s,onSuggestionsClearRequested:o}=this.props;return(Uu()("div",{className:KOt.a.container},void 0,Uu()("div",{className:KOt.a.rules},void 0,Uu()("div",{className:KOt.a.rule},void 0,Uu()(bR,{className:KOt.a.selectInput,name:"filter",size:jp,values:i,value:t.key,onChange:this.onFieldChange})),Uu()("div",{className:KOt.a.rule},void 0,Uu()(bR,{className:KOt.a.selectInput,name:"operator",size:jp,values:a,value:t.operator,onChange:this.onOperatorChange})),Uu()("div",{className:KOt.a.value},void 0,Uu()($Ot,{selectedField:r,filter:t,selectedFilterOptions:n,suggestionsFilter:this.suggestionsFilter,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,getSuggestionValue:this.getSuggestionValue,getTagValue:this.getTagValue,getTagDisplayValue:this.getTagDisplayValue,makeTag:this.makeTag,makeTagFromSuggestion:this.makeTagFromSuggestion,tagComponent:GOt,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:s,onSuggestionsClearRequested:o,onTagValueChange:this.onTagValueChange,onValueChange:this.onValueChange})),Uu()("div",{className:KOt.a.buttons},void 0,Uu()(Vp,{className:e?KOt.a.iconButtonDisabled:KOt.a.iconButton,"aria-label":Object(Ze.default)("Remove Filter"),isDisabled:e,onPress:this.onRemovePress},void 0,ejt),Uu()(Vp,{className:KOt.a.iconButton,"aria-label":Object(Ze.default)("Add Filter"),onPress:this.onAddPress},void 0,tjt)))))}}ajt.defaultProps={isRemoveDisabled:!1,isAddEnabled:!0,onRemovePress(){},onAddPress(){}};var ijt=ajt,rjt=Ed.a.createElement,{Component:njt}=Ed.a,sjt=new RegExp("("+["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")+")$");var ojt={dispatchSelectLibraryFilter:UCt,dispatchPopulateLibraryFilterOptions:FCt,dispatchDeselectLibraryFilter:VCt,dispatchSearchLibraryFilterOptions:HCt};var ljt=jV(Object(Fu.b)((function(){return Object(_u.a)((e,{value:t})=>t.key,tCt,aOt,bOt,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,a,i,r)=>{for(var n,s,o=[],l={},c=0;c<a.length;c++){var d=a[c],{key:u,title:p,type:h,subType:m}=d;d.key===e&&(n=d),l[u]={type:h,subType:m,defaultOperator:i[h][0].key},sjt.test(u)||o.push({[u]:p})}if(n){var v,[g,y]=n.key.split(".");if(y||(y=g,g=null),g){var{id:f}=Object(Wt.u)(g);v=D.a.find(t,e=>{var t=Object(Wt.u)(e.type);return!!t&&t.id===f})}else v=t[0];v&&(s=D.a.find(v.filters,e=>e.filter===y))}return{selectedField:n,fieldValues:o,selectedFilter:s,selectedFilterOptions:r,operatorValues:(n?i[n.type]:[]).map(e=>({[e.key]:e.title})),fieldKeyTypes:l}})}),ojt)(class extends njt{constructor(...e){super(...e),this.onSuggestionsFetchRequested=()=>{this.props.selectedFilter&&(this.props.dispatchSelectLibraryFilter({serverEntityID:this.props.serverEntityID,key:this.props.selectedFilter.key}),this.props.dispatchPopulateLibraryFilterOptions())},this.onSuggestionsClearRequested=()=>{this.props.selectedFilterOptions&&Object(wa.a)(()=>{this.props.dispatchDeselectLibraryFilter()})}}render(){var e=this.props,t=Je()(e,["dispatchSelectLibraryFilter","dispatchPopulateLibraryFilterOptions","dispatchDeselectLibraryFilter","dispatchSearchLibraryFilterOptions"]);return(rjt(ijt,tp()({},t,{onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested})))}})),cjt=a("cqN0"),djt=a.n(cjt),ujt=Ed.a.createElement,{useCallback:pjt,useState:hjt}=Ed.a,mjt=Uu()(my,{});function vjt(e){var{className:t,ariaLabel:a,label:i,menuSize:r,children:n,onPress:s}=e,o=Je()(e,["className","ariaLabel","label","menuSize","children","onPress"]),l=a||i,c=hjt(Mp())[0],d=hjt(!1),u=d[1],p=d[0],h=pjt(()=>u(!p),[p]),m=Ed.a.Children.only(n);return Uu()("div",{className:t,id:c},void 0,ujt(rT,tp()({"aria-label":l,className:djt.a.mainButton,onPress:s},o),i),ujt(rT,tp()({className:djt.a.menuButton,onPress:h},o),mjt),Uu()(Fg,{target:c,isOpen:p,size:r,onMenuClose:h},void 0,Ed.a.cloneElement(m,{onMenuClose:h,onMenuOpen:h})))}vjt.defaultProps={className:djt.a.button};var gjt=vjt,{Fragment:yjt,useCallback:fjt,useState:bjt}=Ed.a;var Ijt=function(e){var t=w8(),a=bjt(!1),i=a[1],r=a[0],{className:n,serverEntityID:s,providerEntityID:o,metadataListEntityID:l,showUpdate:c,onUpdatePress:d}=e,u=fjt(()=>{i(!1),t.onOpen()},[t]),p=fjt(()=>{i(!0),t.onOpen()},[t]),h=c?d:p,m=c?Object(Ze.default)("Save"):Object(Ze.default)("Save As...");return Uu()(yjt,{},void 0,Uu()(gjt,{className:n,kind:Dp,label:m,menuSize:wp,onPress:h},void 0,Uu()(Aoe,{serverEntityID:s,providerEntityID:o,metadataListEntityID:l,showAddToPlaylist:!0,showAddToSmartPlaylist:!0,onAddToPlaylistPress:u,onAddToSmartPlaylistPress:p})),Uu()(ose,{serverEntityID:s,providerEntityID:o,metadataListEntityID:l,smart:r,isOpen:t.isOpen,onModalClose:t.onClose}))},Sjt=a("2OOI"),Mjt=a.n(Sjt),{Component:Cjt}=Ed.a,Djt=jV(RV);function Pjt(e){var{defaultField:t,defaultFieldType:{type:a,operators:i}}=e,r=[];return"boolean"===a&&r.push({value:1}),{key:t.key,value:r,operator:i[0].key,id:D.a.uniqueId()}}function Ojt(e){return(e.activeFilters.length?e.activeFilters:[Pjt(e)]).map(e=>Object.assign({},e,{id:D.a.uniqueId(e.key)}))}var jjt=Uu()(Xh,{});var Tjt=class extends Cjt{constructor(e,t){super(e,t),this.onFormSubmit=e=>{var t,{activeFilters:a}=this.state,{allTypeFieldsByKey:i,typeKey:r,activeSort:n}=this.props,s=a.map(t=>{var a,{key:r,value:n,operator:s}=e[t.id],o=n.map(e=>D.a.isString(e)?e:e.value),l=i[r];if(l&&l.type===Lw&&!fOt(s)){var c=Object(Ky.a)(o[0]?o[0].replace(/-+$/,""):new Date,"yyyy-MM-dd");a=[Object(jw.a)(c)?Object(zy.a)(c):Object(zy.a)(new Date)]}else a=o;return{key:r,operator:s,value:a}}).filter(e=>e.value.length);e.enableLimit&&""!==e.limit&&(t=e.limit),window.location.hash=NIe({typeKey:r,filters:s,sort:n,limit:t,customFilter:!0})},this.onAddPress=e=>{var t=[...this.state.activeFilters];t.splice(e+1,0,Pjt(this.props)),this.setState({activeFilters:t})},this.onRemovePress=e=>{var t=[...this.state.activeFilters];t.splice(e,1),this.setState({activeFilters:t})},this.state={activeFilters:e.activeFilters?Ojt(e):[]}}componentWillReceiveProps(e){this.setState({activeFilters:Ojt(e)})}render(){var{activeFilters:e}=this.state,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,activeLimit:r,isQueryParsePopulated:n,queryParseError:s,showUpdate:o,updateError:l,onUpdatePress:c}=this.props;if(!n)return Uu()("div",{className:Mjt.a.loadingContainer},void 0,s?Object(Ze.default)("There was an error trying to load the filters. Reload the page and try again"):jjt);var d=!!r;return(Uu()(AC,{className:Mjt.a.container,onSubmit:this.onFormSubmit},void 0,e.map((a,i)=>Uu()(ljt,{serverEntityID:t,name:a.id,index:i,initialValue:a,isRemoveDisabled:e.length<2,onRemovePress:this.onRemovePress,onAddPress:this.onAddPress},a.id)),Uu()("div",{className:Mjt.a.footer},void 0,Uu()("div",{className:Mjt.a.settings},void 0,Uu()(Djt,{className:Mjt.a.checkInput,size:jp,name:"enableLimit",checkboxText:Object(Ze.default)("Limit to"),initialValue:d}),Uu()(yOt,{inputClassName:Mjt.a.numberInput,size:jp,name:"limit",initialValue:d?r:"",leftLabel:!1,labelText:Object(Ze.default)("items")})),Uu()("div",{className:Mjt.a.buttons},void 0,l?Uu()("span",{className:Mjt.a.error},void 0,Object(Ze.default)("There was a problem saving the playlist")):null,Uu()(rT,{type:"submit"},void 0,Object(Ze.default)("Apply")),Uu()(Ijt,{className:Mjt.a.saveButton,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,showUpdate:o,onUpdatePress:c})))))}},wjt=Ed.a.createElement,{Component:Ejt}=Ed.a,Njt=/^-([0-9]+)([a-zA-Z]+)$/;function xjt(e,t){var a,i,{field:r,type:n,fieldTitle:s,valueTitle:o}=e,l=null==n?r:n+"."+r,c=t[l];return(">>="===e.operator||"<<="===e.operator)&&Njt.test(e.value)&&c&&c.type===Lw?(a=e.operator+"-",i=e.value.substr(1)):c&&c.type===Lw?(a=e.operator,i=Object(Ky.a)(Object(Xc.a)(e.value),"yyyy-MM-dd")):(a=e.operator,i=e.value),{key:l,keyTitle:s,operator:a,value:[{value:decodeURIComponent(i),valueTitle:o?decodeURIComponent(o):void 0}]}}var Ajt=Object(_u.a)(aOt,e=>e.reduce((e,t)=>(e[t.key]=t,e),{})),Ljt=Object(_u.a)(e=>e.ui.libraryPage.queryParse,Ajt,(e={},t)=>e.rule?function e(t,a,i){var r=[];if("composite"===a.type&&"and"===a.operator){if(a.rules){var n=a.rules.reduce((a,r)=>(a.push.apply(a,e(t,r,i)),a),[]);r.push.apply(r,n)}}else if("composite"===a.type&&"or"===a.operator){var s=a.rules.reduce((e,t)=>{var a=xjt(t,i);return e.key=a.key,e.keyTitle=a.keyTitle,e.operator=a.operator,null==e.value&&(e.value=[]),e.value.push.apply(e.value,a.value),e},{});r.push(s)}else r.push(xjt(a,i));return r}(e.type,e.rule,t):[]),kjt=Object(_u.a)(_S,tCt,iOt,Ajt,Ljt,e=>e.ui.libraryPage.queryParse.key,e=>e.ui.libraryPage.queryParseError,e=>e.ui.libraryPage.isQueryParsePopulated,(e,{playlistID:t})=>t,e=>e.ui.libraryPage.updatePlaylistError,e=>e.ui.libraryPage.isUpdatePlaylistPending,(e,t,a,i,r,n,s,o,l,c,d)=>{var[u]=t,[p]=u.fields,h=D.a.find(a,e=>e.type===p.type);return{supportsQueryParser:!!e.features.queryParser,activeFilters:r,allTypeFieldsByKey:i,queryParseKey:n,queryParseError:s,isQueryParsePopulated:o,defaultField:p,defaultFieldType:h,showUpdate:!!l,updateError:c,isUpdating:d}}),Rjt={dispatchPopulateQueryParse:zCt,dispatchUpdateSmartPlaylist:WCt};var zjt=Object(Fu.b)(kjt,Rjt)(class extends Ejt{constructor(...e){super(...e),this.onUpdatePress=()=>{this.props.dispatchUpdateSmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,playlistID:this.props.playlistID})}}componentDidMount(){this.props.supportsQueryParser&&this.props.dispatchPopulateQueryParse()}componentWillReceiveProps(e){this.props.queryParseKey!==e.queryParseKey&&this.props.dispatchPopulateQueryParse()}render(){var e=this.props,{supportsQueryParser:t}=e,a=Je()(e,["dispatchPopulateQueryParse","dispatchUpdateSmartPlaylist","supportsQueryParser"]);return t?wjt(Tjt,tp()({onUpdatePress:this.onUpdatePress},a)):null}}),Ujt=Ed.a.createElement,Vjt=Uu()(TJ,{});var Bjt=function(e){var{types:t,selectedType:a,libraryRoute:i,activeSort:r,activeLimit:n,activeFilters:s,customFilter:o,onMenuClose:l}=e,c=Je()(e,["types","selectedType","libraryRoute","activeSort","activeLimit","activeFilters","customFilter","onMenuClose"]);if(!(t&&t.length>0))return null;var d=t.reduce((e,t)=>(t.type!==Wt.g?e.types.push(t):e.folder.push(t),e),{types:[],folder:[]});return(Ujt(Fg,tp()({},c,{onMenuClose:l}),d.types.map(({key:e,type:t,title:l})=>Uu()(iy,{to:NIe({typeKey:e,filters:o?s:void 0,sort:o?r:void 0,limit:o?n:void 0,customFilter:o},i),isSelected:a.key===e},e,l)),d.folder.length>0?Vjt:null,d.folder.length>0?d.folder.map(({key:e,type:t,title:r})=>Uu()(iy,{to:NIe({typeKey:e,folderKey:e,save:1},i),isSelected:a.key===e,onPress:l},e,r)):null))},{Component:Fjt,Fragment:Hjt}=Ed.a;var _jt=class extends Fjt{constructor(e,t){super(e,t),this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.state={isTypesMenuOpen:!1},this._typesMenuButtonID=Mp()}render(){var{serverEntityID:e,providerEntityID:t,sourceDirectory:a,pivot:i,directoryKey:r,folderTitle:n,parentFolderTitle:s,parentRoute:o,size:l,listType:c,listContext:d,listStyle:u,metadataTypes:p,selectedType:h,allListStyles:m}=this.props,{isTypesMenuOpen:v}=this.state;return Uu()(Hjt,{},void 0,Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a}),i?Uu()(dnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:a,directoryKey:r}):null,Uu()(Rrt,{},void 0,Uu()(U5e,{listType:c,listContext:d,selectedListStyle:u,allListStyles:m}))),Uu()(P1e,{},void 0,Uu()(Art,{},void 0,Uu()(PJ,{id:this._typesMenuButtonID,hasMenu:!0,isMenuOpen:v,onPress:this.onTypesMenuButtonPress},void 0,(null==h?void 0:h.title)||Object(Ze.default)("Folders")),Uu()(Bjt,{target:this._typesMenuButtonID,isOpen:v,types:p,selectedType:h,activeFilters:[],onMenuClose:this.onTypesMenuClose}),o?Uu()(PJ,{hasMenu:!1,to:o},void 0,s||a.title):null,Uu()(PJ,{},void 0,n),Uu()(Nlt,{},void 0,l))))}};function Qjt(e,t,a){if(a)switch(a){case Tc:switch(t){case"podcast":switch(e){case"track":return[Lc]}break;case"webshow":switch(e){case"episode":return[Lc]}}switch(e){case"track":return[Ac]}break;case Rd.T:switch(e){case"track":return[Ac]}break;case Ec:return[zc]}switch(t){case"podcast":switch(e){case"show":return[Nc,Ac,kc];case"track":return[Ac,Lc]}}switch(e){case"movie":case"show":return[Nc,Ac,kc];case"season":return[Nc,Ac];case"episode":case"artist":case"album":return[Nc,Ac,kc];case"track":return[Nc,Ac];case"photo":case"photoalbum":return[xc];case"clip":return[Nc,Ac];case"collection":return[Nc,kc];default:return[Nc]}}function Wjt(e,t,a,i={}){return jt.k(i.identifier,jt.c)?function(e,t,a){if(a)switch(a){case Tc:return[Rc]}switch(e){case"show":case"episode":case"movie":return[Nc]}return Qjt(e,t,a)}(e,t,a):Qjt(e,t,a)}var Gjt=Object(Fu.b)((function(){return Object(_u.a)((e,{listType:t})=>t,kS(),tCt,aCt(),vne(),Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,{folderKey:t})=>t,(e,{folderTitle:t})=>t,(e,{parentFolderKey:t})=>t,(e,{parentFolderTitle:t})=>t,RS(),kS(),(e,t,a,i,r,n,s,o)=>{var l={key:t?t.key:e.key,folderKey:r,folderTitle:n};if(!r){var c=e.key+"/folder";if(c===a)return null;l.folderKey=c,l.folderTitle=e.title}return Jt(s,o,e,l)}),(e,t,a,i,r,n)=>{var s=Wjt(e,null,jc,t);return{parentRoute:n,size:r.totalSize||r.metadataItems.length,metadataTypes:a,selectedType:i,allListStyles:s}})}))(_jt),Yjt=a("BSWJ"),Kjt=a.n(Yjt);var qjt=function(){return Uu()(xH,{iconClassName:Kjt.a.icon,iconComponent:Gut,title:Object(Ze.default)("Watchlist"),description:Object(Ze.default)("You can add movies and shows to your Watchlist to catch up on later. Once you finish watching an item in the list, or mark it as watched it will automatically be removed from the list.")})},Zjt=Uu()(qjt,{});var Xjt=function(e){var{serverEntityID:t,providerEntityID:a,providerIdentifier:i,error:r,typeKey:n,activeFilters:s,activeSort:o,pivot:l,listType:c,listTitle:d,isFolder:u,isLibraryRefreshing:p}=e,h=jt.k(i,jt.c),m="vod.watchlist"===(null==l?void 0:l.id),v=fM[c];return r?Uu()(cst,{title:Object(Ze.default)("There was an unexpected error loading this library")}):D.a.isEmpty(s)?h?Uu()(ost,{serverEntityID:t,providerEntityID:a}):p?Uu()(xH,{iconComponent:v,title:Object(Ze.default)("Libraries are currently being updated"),description:Object(Ze.default)("Hang tight while we look for your content")}):m?Zjt:Uu()(xH,{iconComponent:v,title:u?Object(Ze.default)("There are no items in this folder"):Object(Ze.default)("There are no items in {listTitle}",{listTitle:d})}):Uu()(xH,{iconComponent:v,title:Object(Ze.default)("The active filter has no matches"),description:Object(Ze.default)("Use the menu above to change the active filter")},void 0,Uu()(Vp,{to:NIe({typeKey:n,sort:o}),kind:Dp},void 0,Object(Ze.default)("Clear filter")))},Jjt=parseInt(YU.a.prePlayContentPadding,10),$jt={},eTt={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function tTt(e,t,a,i=0,r=0){var n=e+(t||"")+a+i+r;if($jt.hasOwnProperty(n))return $jt[n];var s=jM(e,t,a),{titleHeight:o,minCellWidth:l,preferredCellWidth:c,minColumns:d,maxColumns:u}=iLe({type:e,aspectRatio:s,titleCount:r,context:a}),p=function(e){return e===Tc?Object.assign({},eTt,{outerPaddingTop:10,outerPaddingRight:Jjt,outerPaddingBottom:5,outerPaddingLeft:Jjt}):eTt}(a),h=D$(Object.assign({direction:C$},p,{getCellWidth:e=>Rfe(Object.assign({},e,{preferredCellWidth:c,minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:s})),getCellHeight:e=>Lfe(Object.assign({},e,{aspectRatio:s,titleHeight:o}))}));return h.cellOptions={minCellWidth:l,minColumns:d,maxColumns:u,columnAdjustment:i,aspectRatio:s,titleHeight:o},$jt[n]=h,h}var aTt=Ed.a.createElement;var iTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,sourceDirectory:r,containerKey:n,containerTitle:s,activeSort:o,listType:l,listSubtype:c,columnAdjustment:d}=e,u=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","sourceDirectory","containerKey","containerTitle","activeSort","listType","listSubtype","columnAdjustment"]),p=MMe(l,e.listContext,{activeSort:o,subtype:c,providerEntityID:a});return aTt(M$,tp()({listType:l,listContext:"directoryList",layout:tTt(l,c,"directoryList",d,p.length),cellRenderer:jLe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,sourceDirectory:r,containerKey:n,containerTitle:s,listType:l,listContext:"directoryList",titleComponents:p})},u))},rTt=P$(parseInt(YU.a.simpleSummaryCellHeight,10),5),nTt=a("p9a2"),sTt=a.n(nTt),{useState:oTt}=Ed.a;var lTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,cellIndex:s,title:o,summary:l,tagline:c,route:d,showLink:u,showMore:p,isPlaying:h,isPlayerPaused:m,onPlayPress:v}=e,g=N$(e),y=oTt(!1),f=y[1],b=y[0];return Uu()("div",{className:((s%2?sTt.a.alternateItem:sTt.a.item)||"")+" "+(b&&sTt.a.isActionsMenuOpen||""),style:g.style},void 0,u?Uu()(Vp,{className:sTt.a.underlay,to:d,"aria-label":o}):null,Uu()("div",{className:sTt.a.overlay},void 0,Uu()("div",{className:sTt.a.simpleSummaryContainer},void 0,Uu()("div",{className:sTt.a.indexPlayContainer},void 0,h?null:Uu()(XIe,{className:sTt.a.titleEpisodeIndex,metadataItemEntityID:i,longName:!1}),h?Uu()(Cxe,{isPaused:m}):Uu()("div",{className:sTt.a.playButtonContainer},void 0,Uu()(kle,{className:sTt.a.playButton,title:o,onPress:v}))),Uu()("div",{className:sTt.a.miniProgressContainer},void 0,Uu()(IDt,{metadataItemEntityID:i,size:jp})),Uu()("div",{className:sTt.a.titleAndSummaryContainer},void 0,Uu()("div",{className:sTt.a.titleContainer},void 0,Uu()("div",{className:sTt.a.title},void 0,o),Uu()("div",{className:sTt.a.actions},void 0,p?Uu()(Xoe,{"data-qa-id":"metadataSimpleSummaryMoreButton",className:sTt.a.moreButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,showPlay:!1,showAddToSaved:!1,isMenuOpen:b,onMenuOpenChange:f}):null)),Uu()("div",{className:sTt.a.summary},void 0,c||l)))))},cTt=a("p050"),dTt=a.n(cTt);var uTt=function(e){var{cellIndex:t}=e,a=N$(e);return Uu()("div",{className:t%2?dTt.a.alternateLoadingItem:dTt.a.loadingItem,style:a.style},void 0,Object(Ze.default)("Loading..."))},pTt=Ed.a.createElement;var hTt=xG((function(){return Object(_u.a)((e,{listContext:t})=>t,(e,{cellHeight:t})=>t,ZG(),HLe(),xIe(),LLe(),Mke(),e=>e.ui.audioVideoPlayer.isPaused,(e,t,a={},i,r,n,s,o)=>({metadataKey:a.key,grandparentKey:a.grandparentKey,type:i,index:a.index,title:a.title,summary:n,tagline:a.tagline,route:r,showLink:!!r,showMore:!a.isFolder,isPlaying:s,isPlayerPaused:o}))}),(function(e,t){var{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,containerKey:n,listType:s,metricsPage:o,metricsContext:l}=t;return{onPlayPress(){e(Object(Cw.p)({serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metricsPage:o,metricsContext:l,options:{containerKey:n,listType:s}}))}}}),lie)((function(e){var{metadataKey:t}=e;return(pTt(t?lTt:uTt,e))})),mTt=Ed.a.createElement;var vTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,containerTitle:n,listType:s,listContext:o}=e,l=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return(mTt(M$,tp()({listType:s,listContext:o,layout:rTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,listType:s,listContext:o,containerKey:r,containerTitle:n},hTt)},l)))},gTt=P$(parseInt(YU.a.summaryCellHeight,10),5),yTt=Ed.a.createElement;var fTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,containerTitle:n,listType:s,listContext:o}=e,l=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return(yTt(M$,tp()({listType:s,listContext:o,layout:gTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,listType:s,listContext:o,containerKey:r,containerTitle:n},dke)},l)))},bTt=P$(parseInt(YU.a.tableRowHeight,10)),ITt=a("MEJa"),STt=a.n(ITt),MTt=Ed.a.createElement;var CTt=function(e){var{style:t,component:a,isActiveSort:i}=e,r=Je()(e,["style","component","isActiveSort"]),n=a(e.type);return Uu()("div",{className:i?STt.a.activeTableCell:STt.a.tableCell,style:t},void 0,MTt(n,tp()({},r,{className:STt.a.title})))};var DTt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({index:e.index}))}))(ZLe),PTt=a("0dFH"),OTt=a.n(PTt),jTt=Ed.a.createElement,{useState:TTt}=Ed.a,wTt=Uu()(aje,{});var ETt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,listContext:s,activeSort:o,selectedSort:l,cellIndex:c,activeTableColumns:d,title:u,route:p,ratingKey:h,source:m,hasOfflineFile:v,hasOwnSubscription:g,showAvailableOffline:y,showLink:f,showPlay:b,showEdit:I,showSelect:S,showMore:M,showPlayIndex:C,showPlayCellIndex:D,showActionsDuration:P,showActionsMinutesLeft:O,hasActiveSelection:j,isSelected:T,isOtherItemSelected:w,isModifierKeyPressed:E,isPlaying:N,isPlayerPaused:x,onPlayPress:A,onEditPress:L,onSelectPress:k,onDeselectPress:R}=e,z=N$(e),[U,V]=WLe(),B=TTt(!1),F=B[1],H=B[0],_=s===jc,Q=S&&(E||w),W=j?"-1":"0",G=!U,Y=y||P||O;return jTt("div",tp()({className:((c%2?OTt.a.alternateItem:OTt.a.item)||"")+" "+(j&&OTt.a.hasActiveSelection||"")+" "+(Q&&OTt.a.isForcingSelection||"")+" "+(T&&OTt.a.isSelected||"")+" "+(H&&OTt.a.isActionsMenuOpen||""),style:z.style},V),S?Uu()(Vp,{className:OTt.a.selectCoverButton,"aria-label":T?Object(Ze.default)("Deselect {title}",{title:u}):Object(Ze.default)("Select {title}",{title:u}),tabIndex:f&&!j?"-1":"0",onPress:T?R:k}):null,f?Uu()(Vp,{className:OTt.a.underlay,tabIndex:W,to:p,"aria-label":u}):null,Uu()("div",{className:OTt.a.overlay},void 0,Uu()("div",{className:OTt.a.playCell},void 0,C&&!N?Uu()(DTt,{className:OTt.a.transientTitleLeft,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null,D&&!N?Uu()("span",{className:OTt.a.transientTitleLeft},void 0,c+1):null,b&&!N?Uu()(kle,{className:OTt.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:W,title:u,onPress:A}):null,N?Uu()(Cxe,{className:OTt.a.equalizer,isPaused:x}):null),d.map(({style:e,component:r,ascKey:s,descKey:c},d)=>Uu()(CTt,{style:e,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,component:r,type:n,isActiveSort:o===s||o===c||!!l&&l.key===s,hideUnrated:G},d)),Uu()("div",{className:_?OTt.a.libraryActionsCell:OTt.a.actionsCell},void 0,Y?Uu()("div",{className:_?OTt.a.transientTitleLeft:OTt.a.transientTitleRight},void 0,y?Uu()(JOe,{size:16,arrowSize:16,lineWidth:1.5,source:m,ratingKey:h,hasOfflineFile:v,hasOwnSubscription:g}):null,y?Uu()(qie,{metadataItemEntityID:i,providerEntityID:a}):null,P?Uu()(Dke,{className:OTt.a.transientTitleRightText,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null,O?Uu()(uSe,{className:OTt.a.transientTitleRightText,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null):null,S?Uu()(zU,{className:OTt.a.selectButton,tabIndex:W,title:u,isSelected:T,onPress:k}):null,I?Uu()(Vp,{"data-qa-id":"metadataRowEditButton",className:OTt.a.editButton,tabIndex:W,"aria-label":Object(Ze.default)("Edit {title}",{title:u}),onPress:L},void 0,wTt):null,M?Uu()(Xoe,{"data-qa-id":"metadataRowMoreButton",className:OTt.a.moreButton,tabIndex:W,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:n,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:H,onMenuOpenChange:F}):null)))},NTt=a("Y9Bx"),xTt=a.n(NTt);var ATt=function(e){var{cellIndex:t}=e,a=N$(e);return Uu()("div",{className:t%2?xTt.a.alternateLoadingItem:xTt.a.loadingItem,style:a.style},void 0,Object(Ze.default)("Loading..."))},LTt=Ed.a.createElement,{Component:kTt}=Ed.a,RTt=AOe(ETt);var zTt=Object(Fu.b)(uie)(xG((function(){return Object(_u.a)(ZG(),GS,_S,uw,pPt(),HLe(),xIe(),Hie(),BLe(),VLe(),Mke(),e=>e.ui.audioVideoPlayer.isPaused,gne,(e={},t,a,i,r,n,s,o,l,c,d,u,p)=>{var h=!(!e.ratingKey||!o)&&be.a.allowSyncDownload;return{activeTableColumns:r,metadataKey:e.key,type:n,title:e.title,selectionID:e.entityID,selectionType:l,activeSelectionType:p.activeSelectionType,isSelected:c,isPlaying:d,isPlayerPaused:u,route:s,ratingKey:e.ratingKey,source:o,hasOfflineFile:Zie(e),hasOwnSubscription:Xie(e),showAvailableOffline:h,showLink:!!s,showPlay:Sie({server:t,provider:a,stableUser:i,metadataItem:e}),showEdit:Nie({server:t,provider:a,stableUser:i,metadataItem:e}),showSelect:Uie({server:t,provider:a,stableUser:i,metadataItem:e}),showMore:!e.isFolder}})}),(function(e,t){var{serverEntityID:a,providerEntityID:i,itemServerEntityID:r,itemProviderEntityID:n,metadataListEntityID:s,metadataItemEntityID:o,containerKey:l,listType:c,metricsPage:d,metricsContext:u}=t;return{onPlayPress(){e(Object(Cw.p)({serverEntityID:a,providerEntityID:i,itemServerEntityID:r,itemProviderEntityID:n,metadataItemEntityID:o,metricsPage:d,metricsContext:u,options:{containerKey:l,listType:c}}))},onEditPress(){e(xae({serverEntityID:a,providerEntityID:i,metadataItemEntityID:o,metricsPage:d}))},onSelectItem(t){e(Mx(Object.assign({metadataListEntityID:s,id:o},t)))},onDeselectItem(t){e(Cx(Object.assign({metadataListEntityID:s},t)))},onDeselectAllItems(){e(Ox({metadataListEntityID:s}))}}}),lie)(class extends kTt{constructor(...e){super(...e),this.onSelectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onSelectItem(e))},this.onDeselectItem=e=>{this._isDoubleClick()?this._doubleClick():(this._firstClickTime=Date.now(),this.props.onDeselectItem(e))}}_isDoubleClick(){return this._firstClickTime&&Date.now()-this._firstClickTime<300}_doubleClick(){var{selectionType:e,showPlay:t,onPlayPress:a,onSelectItem:i,onDeselectAllItems:r}=this.props;this._firstClickTime=0,r(),i({type:e}),t&&a()}render(){return this.props.metadataKey?this.props.showSelect?LTt(RTt,tp()({},this.props,{onSelectItem:this.onSelectItem,onDeselectItem:this.onDeselectItem})):LTt(ETt,this.props):LTt(ATt,this.props)}})),UTt=Ed.a.createElement;var VTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,containerTitle:n,listType:s,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p}=e,h=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listSubtype","listContext","typeKey","isFolder","activeSort","selectedSort"]);return(UTt(M$,tp()({layout:bTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,containerTitle:n,listType:s,listSubtype:o,listContext:l,typeKey:c,isFolder:d,activeSort:u,selectedSort:p},zTt)},h)))},BTt=Ed.a.createElement;var FTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,containerTitle:n,containerDisplayFields:s,activeSort:o,listType:l,listSubtype:c,listContext:d,columnAdjustment:u}=e,p=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","containerDisplayFields","activeSort","listType","listSubtype","listContext","columnAdjustment"]),h=MMe(l,d,{providerEntityID:a,subtype:c,activeSort:o});return BTt(M$,tp()({listType:l,listContext:d,layout:tTt(l,c,d,u,h.length),cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,listType:l,listSubtype:c,listContext:d,titleComponents:h,containerKey:r,containerTitle:n,displayFieldDefinitions:s},fke)},p))};function HTt(e,t,a){switch(jM(e,t,a)){case 16/9:return 114;case 1/1.5:return 64;case 1:return 74}}var _Tt=a("fZKy"),QTt=a.n(_Tt),{useState:WTt}=Ed.a;var GTt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,cellIndex:n,metadataKey:s,type:o,title:l,route:c,isDirectory:d,showLink:u,showActions:p,imageWidth:h,imageHeight:m,imageUrl:v}=e,g=N$(e),y=WTt(!1),f=y[1],b=y[0];return Uu()("div",{className:((n%2?QTt.a.alternateItem:QTt.a.item)||"")+" "+(b&&QTt.a.isActionsMenuOpen||""),style:g.style},void 0,u?Uu()(Vp,{className:QTt.a.underlay,to:c,"aria-label":l}):null,Uu()("div",{className:QTt.a.overlay},void 0,Uu()("div",{className:QTt.a.posterContainer},void 0,g.isPlaceholder?Uu()(qLe,{imageWidth:h,imageHeight:m}):Uu()(Vje,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:Wt.i,listContext:Ec,metadataKey:s,type:o,imageWidth:h,imageHeight:m,imageUrl:v,isFolder:!1,showOverlay:!d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),Uu()("div",{className:QTt.a.summaryContainer},void 0,Uu()("div",{className:QTt.a.titleContainer},void 0,Uu()("div",{className:QTt.a.title},void 0,l)),Uu()("div",{className:QTt.a.type},void 0,function(e,t){var a=Wt.u(e).title;return t?Object(Ze.default)("{typeTitle} Library",{typeTitle:a}):a}(o,d))),p?Uu()("div",{className:QTt.a.actions},void 0,Uu()(Xoe,{"data-qa-id":"sharedItemSummaryMoreButton",className:QTt.a.moreButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,containerKey:r,listType:Wt.i,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:b,onMenuOpenChange:f})):null))},YTt=a("q3pM"),KTt=a.n(YTt);var qTt=function(e){var{cellIndex:t,imageWidth:a,imageHeight:i}=e,r=N$(e);return Uu()("div",{className:t%2?KTt.a.alternateLoadingItem:KTt.a.loadingItem,style:r.style},void 0,Uu()("div",{className:KTt.a.posterContainer},void 0,Uu()(qLe,{imageWidth:a,imageHeight:i})),Object(Ze.default)("Loading..."))},ZTt=Ed.a.createElement;var XTt=xG((function(){return Object(_u.a)(GS,_S,HG(),ZG(),HLe(),xIe(),(e,t,a,i={},r,n)=>{var s=!!i.directory,o=function(e,t){var{type:a,subtype:i}=e;return oie(HTt(a,i,t),null,a,i,e,t)}(i,Ec),l=n;s&&(l=Jt(e,t,function(e,t){return e.find(e=>!!Srt(e,t))}(a,i.key)));return{metadataKey:i.key,type:r,title:LP(i),selectionID:i.entityID,route:l,isDirectory:s,showLink:!!l,showActions:!s,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url}})}))((function(e){return e.metadataKey?ZTt(GTt,e):ZTt(qTt,e)})),JTt=Ed.a.createElement;var $Tt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r}=e,n=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey"]);return(JTt(M$,tp()({layout:gTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r},XTt)},n)))},ewt=a("cpNh"),twt=a.n(ewt);var awt=Uu()(a3e,{},void 0,Uu()(xH,{},void 0,Uu()(Xh,{})));function iwt(e){var{children:t,serverEntityID:a,providerEntityID:i,metadataListEntityID:r,sourceDirectory:n,containerKey:s,containerTitle:o,containerDisplayFields:l,listTitle:c,listType:d,listSubtype:u,listContext:p,listStyle:h,typeKey:m,activeSort:v,selectedSort:g,isDirectoryList:y,isFolder:f,metadataItemEntityIDs:b,totalSize:I,populatedRange:S,firstItemType:M,firstItemSubtype:C,isPending:D,isPopulated:P,error:O,columnAdjustment:j,hasGutter:T,onPageRequest:w,onListScrollIndexChange:E,onListUpdate:N,onMeasure:x,scrollIndex:A}=e,L=I||b.length;if(P&&L){var k=d||M,R=u||C,z=function(e,t){if(e)return iTt;switch(t){case Ac:return VTt;case kc:return fTt;case Lc:return vTt;case zc:return $Tt;default:return FTt}}(y,h||Wjt(k,R,Rd.T)[0]);return Uu()(z,{className:twt.a.metadataListPageContent,scrollerClassName:(twt.a.metadataListScroller||"")+" "+(T&&twt.a.hasGutter||""),serverEntityID:a,providerEntityID:i,metadataListEntityID:r,sourceDirectory:n,containerKey:s,containerTitle:o,containerDisplayFields:l,listType:k,listSubtype:R,listContext:p,typeKey:m,isFolder:f,activeSort:v,selectedSort:g,scrollIndex:A,scrollPositionStorageKey:"MetadataListPageContent",keyPropName:"metadataItemEntityID",items:b,itemsOffset:S.start,size:L,columnAdjustment:j,onPageRequest:w,onListScrollIndexChange:E,onListUpdate:N,onMeasure:x},void 0,t)}if(D)return awt;if(O){var U=c?Object(Ze.default)("There was an unexpected error loading {listTitle}",{listTitle:c}):Object(Ze.default)("There was an unexpected error loading this list");return(Uu()(a3e,{},void 0,Uu()(tOt,{sourceDirectory:n,hint:s,error:O.status,defaultTitle:U})))}return(Uu()(a3e,{},void 0,Uu()(xH,{title:Object(Ze.default)("Nothing to see here"),description:c?Object(Ze.default)("There are no items in {listTitle}",{listTitle:c}):Object(Ze.default)("There are no items in this list")})))}iwt.defaultProps={listContext:jc};var rwt=iwt;var nwt=Object(Fu.b)((function(){return Object(_u.a)(vne(),e=>{var t;return{containerDisplayFields:null==(t=e.meta)?void 0:t.DisplayFields}})}))(rwt),swt=Ed.a.createElement;var owt=function(e){var{serverEntityID:t,providerEntityID:a,providerIdentifier:i,metadataItemEntityIDs:r,totalSize:n,isPending:s,isPopulated:o,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:h,listTitle:m,isFolder:v,isLibraryRefreshing:g}=e,y=n||r.length;return s||o&&y?swt(nwt,e):Uu()(a3e,{},void 0,Uu()(Xjt,{serverEntityID:t,providerEntityID:a,providerIdentifier:i,error:l,typeKey:c,activeFilters:d,activeSort:u,pivot:p,listType:h,listTitle:m,isFolder:v,isLibraryRefreshing:g}))},lwt=(e,t)=>{var[a,i]=e.split("."),r=i?a:t,n=i||a;return r&&r!==Wt.j?r+"."+n:n};var cwt=function(){return Object(_u.a)((e,{listType:t})=>t,(e,{activeFilters:t})=>t,aCt(),(e,t,a)=>{var i=[],r=function(t){var r=lwt(t.key,e);a.fields.find(e=>e.key===r)&&i.push(Object.assign({},t,{key:r}))};for(var n of t)r(n);return i})};var dwt=a("upXi"),uwt=a.n(dwt),pwt=Uu()(TJ,{});var hwt=function(e){var{className:t,style:a,typeKey:i,activeFilters:r,activeSort:n,selectedFilter:s,filterOptions:o,filterOptionQuery:l,showError:c,showSearchInput:d,onFilterDeselect:u,onSearch:p}=e,h=s.filter;return Uu()("div",{className:t,style:a,"data-qa-id":"secondFiltersList"},void 0,Uu()("div",{className:uwt.a.header,"data-qa-id":"filterHeader"},void 0,Uu()("div",{className:uwt.a.headerTitle},void 0,Uu()(Vp,{"data-qa-id":"previousFilters",onPress:u},void 0,Uu()(oO,{className:uwt.a.backIcon,"aria-label":Object(Ze.default)("Back")})),Uu()("span",{className:uwt.a.filterText},void 0,s.title)),d?Uu()(LR,{className:uwt.a.searchInput,name:"filterOptionQuery",placeholder:Object(Ze.default)("Filter {filterTitle}",{filterTitle:s.title}),value:l,onChange:p}):null),pwt,Uu()(rh,{className:d?uwt.a.filterOptionsWithSearchScroller:uwt.a.filterOptionsScroller,autoScroll:!0},void 0,c?Uu()("div",{className:uwt.a.emptyText},void 0,Object(Ze.default)("Unable to load options")):null,c||o.length?null:Uu()("div",{className:uwt.a.emptyText},void 0,Object(Ze.default)("No options")),o.map(({value:e,title:t,isSelected:a})=>Uu()(iy,{className:uwt.a.filterOptionMenuItem,to:NIe({typeKey:i,filters:a?rct(r,h,e):act(r,h,{value:e,type:"other"}),filterLabel:a?void 0:t,sort:n}),isSelected:a},e,t))))},mwt=a("xjMz"),vwt=a.n(mwt),{Component:gwt}=Ed.a,ywt={scrollDirection:Jp};class fwt extends gwt{constructor(e,t){super(e,t),this.onFiltersListMeasure=({height:e})=>{this.setState({isMeasured:!0,filterOptionsHeight:Math.max(e,this.props.minHeight)})},this.state={isMeasured:!1,filterOptionsHeight:"auto"}}render(){var{target:e,isOpen:t,typeKey:a,activeFilters:i,activeFilterLabel:r,activeSort:n,filters:s,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showSpinner:d,showError:u,showSearchInput:p,showCustomFilter:h,onFilterSelect:m,onFilterDeselect:v,onSearch:g,onMenuClose:y}=this.props,{isMeasured:f,filterOptionsHeight:b}=this.state,I=!!o&&!d&&f;return Uu()(Fg,{target:e,isOpen:t,size:wp,scrollerProps:ywt,onMenuClose:Ib(v,y)},void 0,Uu()(p$,{className:(vwt.a.panesContainer||"")+" "+(I&&vwt.a.showFilterOptions||""),ignoreWidth:!0,ignorePosition:!0,ignoreTransforms:!0,onMeasure:this.onFiltersListMeasure},void 0,Uu()(mct,{className:vwt.a.filtersPane,typeKey:a,activeFilters:i,activeFilterLabel:r,activeSort:n,filters:s,selectedFilter:o,showSpinner:d,showCustomFilter:h,onFilterSelect:m}),I?Uu()(hwt,{className:vwt.a.filterOptionsPane,style:{height:b},typeKey:a,activeFilters:i,activeSort:n,selectedFilter:o,filterOptions:l,filterOptionQuery:c,showError:u,showSearchInput:p,onFilterDeselect:v,onSearch:g}):null))}}fwt.defaultProps={minHeight:385};var bwt=fwt,Iwt=Ed.a.createElement,{Component:Swt}=Ed.a;var Mwt=Object(Fu.b)((function(){return Object(_u.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage,Object(_u.a)((e,{activeFilters:t})=>t,(e,{selectedType:t})=>t,e=>e.ui.libraryPage.selectedFilterKey,e=>e.ui.libraryPage.filterOptionQuery,e=>e.ui.libraryPage.selectedFilterOptions,(e,t,a,i,r=[])=>{var n=t&&t.filters,s=D.a.findWhere(n,{key:a}),o=r;if(i){var l=i.trim().toLowerCase();o=o.filter(e=>e.title.toLowerCase().indexOf(l)>-1)}if(s){var c=e.filter(e=>e.key===s.filter),d=o.reduce((e,t)=>{var a=ict(c,t.value);return(a?e.selected:e.unselected).push(Object.assign({},t,{isSelected:a})),e},{selected:[],unselected:[]});o=d.selected.concat(d.unselected)}return o}),(e,t,a,i)=>{var{selectedFilterKey:r,filterOptionQuery:n,selectedFilterOptions:s=[],isSelectedFilterOptionsPopulated:o,selectedFilterOptionsError:l}=a,c=t&&t.filters;return{filters:c,selectedFilter:r&&D.a.findWhere(c,{key:r}),filterOptions:i,filterOptionQuery:n,showSpinner:!o&&!l,showError:!!l,showSearchInput:s.length>12}})}),b)(class extends Swt{constructor(...e){super(...e),this.onFilterSelect=e=>{this.props.selectLibraryFilter({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,key:e}),this.props.fetchLibraryFilterOptions()},this.onFilterDeselect=()=>{this.props.deselectLibraryFilter()},this.onSearch=e=>{this.props.searchLibraryFilterOptions(e)}}render(){return Iwt(bwt,tp()({onFilterSelect:this.onFilterSelect,onFilterDeselect:this.onFilterDeselect,onSearch:this.onSearch},this.props))}}),Cwt=a("pXVu"),Dwt=Ed.a.createElement,{ASCENDING:Pwt,DESCENDING:Owt}=Cwt.a.directions;var jwt=function(e){var{typeKey:t,activeFilters:a,activeFilterLabel:i,activeSort:r,activeLimit:n,sorts:s,selectedSort:o,customFilter:l,onMenuClose:c}=e,d=Je()(e,["typeKey","activeFilters","activeFilterLabel","activeSort","activeLimit","sorts","selectedSort","customFilter","onMenuClose"]);return(Dwt(Fg,tp()({},d,{onMenuClose:c}),s.map(({key:e,descKey:s,defaultDirection:d,title:u})=>{var p=o.key===e,h=d;p&&(h=o.activeDirection?o.activeDirection===Owt?Pwt:Owt:r?r===s?Pwt:Owt:d===Pwt?Owt:Pwt);var m=h===Owt;return(Uu()(iy,{to:NIe({typeKey:t,filters:a,filterLabel:i,sort:m?s:e,limit:l?n:null,customFilter:l}),isSelected:p,iconComponent:m?Kdt:Zdt,selectedIconAriaLabel:m?Object(Ze.default)("Ascending"):Object(Ze.default)("Descending"),onPress:c},e,u))})))},Twt=a("tRnC"),wwt=a.n(Twt),{Component:Ewt,Fragment:Nwt}=Ed.a,xwt=Uu()(Oee,{});class Awt extends Ewt{constructor(e,t){super(e,t),this.onFiltersMenuButtonPress=e=>{this.setState({isFiltersMenuOpen:!this.state.isFiltersMenuOpen})},this.onFiltersMenuClose=()=>{this.setState({isFiltersMenuOpen:!1})},this.onTypesMenuButtonPress=e=>{this.setState({isTypesMenuOpen:!this.state.isTypesMenuOpen})},this.onTypesMenuClose=()=>{this.setState({isTypesMenuOpen:!1})},this.onSortsMenuButtonPress=e=>{this.setState({isSortsMenuOpen:!this.state.isSortsMenuOpen})},this.onSortsMenuClose=()=>{this.setState({isSortsMenuOpen:!1})},this.state={isFiltersMenuOpen:!1,isTypesMenuOpen:!1,isSortsMenuOpen:!1},this._filtersMenuButtonID=Mp(),this._sortsMenuButtonID=Mp(),this._typesMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,provider:i,pivot:r,sourceDirectory:n,directoryKey:s,listType:o,listSubtype:l,listContext:c,listStyle:d,listTitle:u,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:v,activeLimit:g,activeAdvancedFilters:y,metadataTypes:f,selectedType:b,selectedSort:I,selectedFilterTitle:S,customFilter:M,playlistTitle:C,totalSize:D,showSortsMenu:P,canBuildAdvancedFilter:O,allListStyles:j}=this.props,{isFiltersMenuOpen:T,isTypesMenuOpen:w,isSortsMenuOpen:E}=this.state,N=M||h.length>0,x=!!b&&b.filters.length>0&&!M,A=!!b&&f.length>1,L=!!(P&&I&&b.sorts.length>1),k=x?S:C||u,R=O?NIe({typeKey:p,filters:y,sort:v,limit:g,customFilter:!0}):"";return Uu()(Nwt,{},void 0,Uu()(wrt,{},void 0,Uu()(wnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:n}),r?Uu()(dnt,{serverEntityID:e,providerEntityID:t,sourceDirectory:n,directoryKey:s}):null,Uu()(Rrt,{},void 0,Uu()(U5e,{listType:o,listSubtype:l,listContext:c,selectedListStyle:d,allListStyles:j}))),Uu()(P1e,{},void 0,Uu()(mnt,{},void 0,N?Uu()(ynt,{},void 0,Uu()(oJ,{className:wwt.a.resetButton,tooltip:Object(Ze.default)("Clear Filter"),to:NIe({typeKey:p,sort:v})},void 0,xwt)):null,k?Uu()(PJ,{id:this._filtersMenuButtonID,hasMenu:x,isMenuOpen:T,onPress:this.onFiltersMenuButtonPress},void 0,k):null,x?Uu()(Mwt,{serverEntityID:e,providerEntityID:t,target:this._filtersMenuButtonID,isOpen:T,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:v,selectedType:b,showCustomFilter:!!i.features.queryParser,onMenuClose:this.onFiltersMenuClose}):null,A?Uu()(PJ,{id:this._typesMenuButtonID,hasMenu:f.length>1,isMenuOpen:w,onPress:this.onTypesMenuButtonPress},void 0,b.title):null,A?Uu()(Bjt,{target:this._typesMenuButtonID,isOpen:w,types:f,activeFilters:h,activeSort:v,activeLimit:g,customFilter:M,selectedType:b,onMenuClose:this.onTypesMenuClose}):null,L?Uu()(PJ,{id:this._sortsMenuButtonID,hasMenu:!0,isMenuOpen:E,onPress:this.onSortsMenuButtonPress},void 0,Object(Ze.default)("By {sortTitle}",{sortTitle:I.title})):null,L?Uu()(jwt,{target:this._sortsMenuButtonID,isOpen:E,typeKey:p,activeFilters:h,activeFilterLabel:m,activeSort:v,activeLimit:g,customFilter:M,sorts:b.sorts,selectedSort:I,onMenuClose:this.onSortsMenuClose}):null,Uu()(Nlt,{},void 0,D)),Uu()(bJ,{},void 0,Uu()(xSt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,listType:o,selectedType:b,showAddToSmartPlaylist:!O,customFilterRoute:R}))))}}Awt.defaultProps={showSortsMenu:!0};var Lwt=Awt;var kwt=Object(Fu.b)((function(){return Object(_u.a)((e,{listType:t})=>t,(e,{listSubtype:t})=>t,(e,{listContext:t})=>t,(e,{listStyle:t})=>t,(e,{activeFilters:t})=>t,(e,{activeTitle:t})=>t,(e,{pivot:t})=>t,_S,tCt,vne(),aCt(),Object(_u.a)((e,{activeFilters:t})=>t,(e,{activeFilterLabel:t})=>t,aCt(),(e,t,a)=>{if(D.a.isEmpty(e)||!a)return Object(Ze.default)("All");var i=[],r=e.reduce((e,t)=>(("boolean"===t.type?e.boolean:e.other).push(t),e),{boolean:[],other:[]}),n=r.boolean,s=r.other;if(1===n.length){var o=n[0],l=D.a.findWhere(a.filters,{filter:o.key,filterType:"boolean"});l&&i.push(l.title)}return 1===s.length&&t&&i.push(t),i.length?i.join(" "):Object(Ze.default)("Filtered")}),ZCt(),cwt(),(e,t,a,i,r,n,s,o,l,c,d,u,p,h)=>{var m=Wjt(e,t,a,o);return{provider:o,metadataTypes:l,canBuildAdvancedFilter:h.length===r.length,activeAdvancedFilters:h,selectedType:d,selectedSort:p,selectedFilterTitle:u,listTitle:n||s&&s.title,listType:e,listContext:a,listStyle:i,allListStyles:m,totalSize:c.totalSize}})}))(Lwt);function Rwt(e,t){return e&&e.length&&t>0?D.a.sortBy(function(e,t){var a=[D.a.first(e),D.a.last(e)],i=D.a.sortBy(e,"size").reverse();return D.a.union(a,i).slice(0,t)}(e,t),"position"):[]}var zwt=a("nqj8"),Uwt=a.n(zwt),{Component:Vwt}=Ed.a;var Bwt=class extends Vwt{constructor(...e){super(...e),this.onPress=e=>{this.props.onPress(this.props.scrollIndex)}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){return Uu()(Vp,{className:Uwt.a.character,"data-qa-id":"jumpBarCharacter",onPress:this.onPress},void 0,this.props.title)}},Fwt=a("m5q2"),Hwt=a.n(Fwt),_wt=Ed.a.createElement,Qwt=parseInt(YU.a.jumpBarCharacterHeight,10);var Wwt=function(e){var{firstCharacters:t,viewportHeight:a,onJumpBarItemPress:i}=e,r={height:a+"px"},n=Rwt(t,Math.floor(a/Qwt));return Uu()("div",{className:Hwt.a.jumpBar,style:r},void 0,n.map((e,t)=>_wt(Bwt,tp()({key:t},e,{onPress:i}))))};var Gwt=Object(Fu.b)((function(){return Object(_u.a)(GS,(e,{activeSort:t})=>t,e=>e.ui.libraryPage.firstCharacters,(e,t,a=[])=>{var i,r,n=e.version&&!Qa(e.version,Ka.firstCharacterKeySortDirection)&&/titleSort:desc/i.test(t)?a.slice().reverse():a;return{firstCharacters:(i=n,r=0,i.map((e,t)=>{var a=Object.assign({},e,{position:t,scrollIndex:r});return r+=e.size,a}))}})}))(Wwt),Ywt=Ed.a.createElement,{Component:Kwt}=Ed.a,qwt=Uu()(xH,{},void 0,Uu()(Xh,{})),Zwt=Uu()(XPt,{});class Xwt extends Kwt{constructor(e,t){super(e,t),this.onListScrollIndexChange=e=>{this.setState({scrollIndex:e})},this.onListUpdate=e=>{var{listStyle:{height:t}}=e;this.setState({listHeight:t})},this.onMeasure=({height:e})=>{this.setState({viewportHeight:e})},this.onJumpBarItemPress=e=>{this.setState({scrollIndex:e})};var{listHeight:a,scrollIndex:i,viewportHeight:r}=e;this.state={listHeight:a,scrollIndex:i,viewportHeight:r}}componentDidMount(){var{librarySectionID:e,providerIdentifier:t,onLibraryChange:a}=this.props;a(t,e)}componentDidUpdate(e){var{librarySectionID:t,providerIdentifier:a,onLibraryChange:i}=this.props;(a!==e.providerIdentifier||t&&t!==e.librarySectionID)&&i(a,t)}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){var{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,metadataItemEntityIDs:i,sourceDirectory:r,pivot:n,containerKey:s,containerDisplayFields:o,directoryKey:l,providerIdentifier:c,providerMetricsIdentifier:d,libraryError:u,isProgramGuide:p,showLibrarySpinner:h,showLibraryNotFound:m,selectedSort:v,listTitle:g,listType:y,listSubtype:f,listContext:b,listStyle:I,firstItemType:S,firstItemSubtype:M,activeSelectionType:C,typeKey:D,activeType:P,activeFilters:O,activeFilterLabel:j,activeSort:T,activeLimit:w,activeTitle:E,customFilter:N,folderKey:x,folderTitle:A,parentFolderKey:L,parentFolderTitle:k,playlistID:R,playlistTitle:z,populatedRange:U,columnAdjustment:V,hasQueryParse:B,isDirectoryList:F,isLibraryRefreshing:H,isPending:_,isPopulated:Q,totalSize:W,firstCharacterCount:G,metricsContext:Y,onPageRequest:K}=this.props,{listHeight:q,scrollIndex:Z,viewportHeight:X}=this.state,J=/titleSort/i.test(v.key),$=Math.max(q,1),ee=!x&&J&&G>=5&&X/$<=.25,te=I===Ac,ae=!C&&!!x,ie=!C&&!x,re={serverEntityID:e,providerEntityID:t,pivot:n,sourceDirectory:r,directoryKey:ae?x:l,scrollDirection:Jp},ne={metricsPage:Rd.rb,metricsProperties:{identifier:d,mode:"list",type:x?"folder":y,customFilter:N,style:I},allowBackgroundLightPreset:!0,scrollDirection:Jp},se=n?OAe(Rd.P,n.context):Y;if(h)return Uu()(vGe,{metricsContext:se},void 0,Ywt(tJ,ne,Ywt(Ant,tp()({},re,{showSecondHeader:!0}),qwt)));if(m)return Uu()(vGe,{metricsContext:se},void 0,Ywt(tJ,ne,Ywt(Ant,re,Zwt)));if(u){var oe=N||O.length>0||!!T||!!w||!!D;return(Uu()(vGe,{metricsContext:se},void 0,Ywt(tJ,ne,Ywt(Ant,re,Uu()(tOt,{sourceDirectory:r,hint:l,error:u.status,defaultTitle:Object(Ze.default)("There was an unexpected error loading this library")},void 0,oe?Uu()(Vp,{to:NIe({}),kind:Dp},void 0,Object(Ze.default)("Retry")):null)))))}return(Uu()(vGe,{metricsContext:se},void 0,Ywt(tJ,ne,C?Uu()(p5e,{serverEntityID:e,providerEntityID:t}):null,ae?Uu()(Gjt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,pivot:n,sourceDirectory:r,directoryKey:l,typeKey:D,listType:y,listSubtype:f,listContext:b,listStyle:I,folderKey:x,folderTitle:A,parentFolderKey:L,parentFolderTitle:k}):null,ie?Uu()(kwt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,pivot:n,sourceDirectory:r,directoryKey:l,listType:y,listSubtype:f,listContext:b,listStyle:I,typeKey:D,activeType:P,activeTitle:E,activeFilters:O,activeFilterLabel:j,activeSort:T,customFilter:N,playlistTitle:z,showSortsMenu:!te}):null,Uu()(YH,{serverEntityID:e,providerEntityID:t}),N&&B?Uu()(zjt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,providerIdentifier:c,typeKey:D,activeSort:T,activeLimit:w,selectedSort:v,playlistID:R}):null,te?Uu()(qPt,{providerEntityID:t,metadataListEntityID:a,listType:y,listSubtype:f,listContext:b,typeKey:D,activeFilters:O,activeFilterLabel:j,activeSort:T,customFilter:N,selectedSort:v,isFolder:!!x,isDisabled:!!x}):null,Uu()(owt,{serverEntityID:e,providerEntityID:t,metadataListEntityID:a,metadataItemEntityIDs:i,sourceDirectory:r,containerKey:s,containerTitle:A,containerDisplayFields:o,providerIdentifier:c,hasGutter:ee,scrollIndex:Z,listTitle:g,listType:y,listSubtype:f,listContext:te?b:"metadataList",listStyle:I,typeKey:D,firstItemType:S,firstItemSubtype:M,activeFilters:O,activeSort:T,selectedSort:v,pivot:n,populatedRange:U,columnAdjustment:V,shouldResetOnUnmount:!0,totalSize:W,isLibraryRefreshing:H,isPending:_,isPopulated:Q,isFolder:!!x,isDirectoryList:F,onPageRequest:K,onListScrollIndexChange:this.onListScrollIndexChange,onListUpdate:this.onListUpdate,onMeasure:this.onMeasure}),ee?Uu()(Gwt,{serverEntityID:e,activeSort:T,viewportHeight:X,onJumpBarItemPress:this.onJumpBarItemPress}):null,p?Uu()(IMt,{serverEntityID:e,providerEntityID:t}):null)))}}Xwt.defaultProps={listContext:jc,scrollIndex:0,listHeight:0,viewportHeight:0};var Jwt=Xwt;function $wt(e,t,a,i,r){if(a){var n,s=Wjt(a,i,t,r);if(1===s.length)return s[0];var o=j5e(a,i);return e[t]&&(n=e[t][o]),n&&s.indexOf(n)>-1?n:s[0]}}var eEt=Ed.a.createElement,{Component:tEt}=Ed.a;var aEt=xG((function(){return Object(_u.a)((e,{librarySectionID:t})=>t,(e,{folderKey:t})=>t,(e,{listContext:t})=>t,(e,{selectedType:t})=>t,(e,{isMetaPopulated:t})=>t,(e,{isChannelsList:t})=>t,(e,{error:t})=>t,e=>e.ui.libraryPage,kS(),Object(_u.a)(qCt("firstCharacter"),(e,{selectedType:t})=>t,(e,{libraryKey:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,t,a,i,r)=>{if(!a&&t&&t.sorts){var n=t.sorts.find(({active:e})=>!!e),s={filters:i,sort:r};if(n&&n.firstCharacterKey)return Sbe([n.firstCharacterKey],s)}if(e)return e}),qCt("query/parse"),tCt,ZCt(),Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{pivot:t})=>t,(e,t)=>t?t.title:e?e.title:null),XCt,gne,PG(),(e,t,a,i={},r,n,s,o,l,c,d,u,p={},h,m,v,g)=>{var{metadataList:y,directoryKey:f,firstCharacters:b,details:I,queryParse:S,isDetailsPopulated:M,detailsError:C}=o,D=function(e,t,a,i,r){if(r)return"channels";if(i.match(/^\/playlists/))return Wt.m;if(i.match(/^\/library\/sections\/\w+\/collections$/))return Wt.e;if(e&&t){if(a){var[n]=t;if(!n)return;var s=Object(Wt.t)(n.type);return s?Object(Wt.t)(s.id).typeString:"mixed"}return Object(Wt.q)(e.type)?Object(Wt.u)(e.type).typeString:e.type}}(i,u,t,f,n),P=function(e){if(e)return e.subtype}(i),O=$wt(m,a,D,P,l),j=e||I&&I.librarySectionID,T=jt.k(l.identifier,jt.c);return{librarySectionID:j,firstCharacterKey:c,queryParseKey:d,hasQueryParse:!!S,metadataListEntityID:y,providerIdentifier:l.identifier,providerMetricsIdentifier:l.metricsIdentifier,isProgramGuide:T,isDetailsPopulated:M||r,showLibrarySpinner:!(C||s||M&&r&&y),showLibraryNotFound:!!C&&404===C.status,libraryError:C||s,libraryDirectories:I&&I.directories,listTitle:h,listType:D,listSubtype:P,listContext:a,listStyle:O,selectedType:i,selectedSort:p,activeSelectionType:v.activeSelectionType,isLibraryRefreshing:g,firstCharacterCount:b?b.length:0}})}),(function(e,t){return{onLibraryChange(a,i){var r;t.sourceDirectory&&(r=t.sourceDirectory.id),r||(r=i),e(uee({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:r}))},dispatchInitLibraryPageSupportingLists(t){e(NCt(t))},dispatchPopulateLibraryFirstCharacters(){e(kCt())},dispatchClearErrors(){e(wCt())}}}))(class extends tEt{componentDidMount(){var{isDetailsPopulated:e}=this.props;e&&this._populate()}componentDidUpdate(e){var{isDetailsPopulated:t,firstCharacterKey:a,queryParseKey:i}=this.props;!t||a===e.firstCharacterKey&&i===e.queryParseKey||this._populate()}componentWillUnmount(){this.props.dispatchClearErrors()}_populate(){var{serverEntityID:e,providerEntityID:t,firstCharacterKey:a,queryParseKey:i,customFilter:r,dispatchInitLibraryPageSupportingLists:n,dispatchPopulateLibraryFirstCharacters:s}=this.props;(a||i)&&n({serverEntityID:e,providerEntityID:t,firstCharacterKey:a,queryParseKey:i,customFilter:r}),a&&s()}render(){var e=this.props,t=Je()(e,["dispatchInitLibraryPageSupportingLists","dispatchPopulateLibraryFirstCharacters"]);return(eEt(Jwt,t))}}),iEt=Ed.a.createElement;var rEt=Jnt((function(e){return iEt(Mne,tp()({component:aEt,initialSize:50},e))}),(function(e){var t=e.ui.libraryPage;return{providerEntityID:t.providerEntityID,directoryKey:t.directoryKey,libraryKey:t.libraryKey}}),(function(e,t){var{pivot:a={}}=t;e(TCt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:a.libraryKey,directoryKey:t.directoryKey})),e(ECt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,containerKey:t.containerKey})),a.libraryKey&&e(ACt())})),nEt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.libraryPage,Object(_u.a)((e,{folderKey:t})=>t,(e,{directoryKey:t})=>t,(e,{typeKey:t})=>t,(e,{activeType:t})=>t,(e,{activeFilters:t})=>t,(e,{activeSort:t})=>t,(e,{activeLimit:t})=>t,(e,{sourceDirectory:t})=>t,(e,t,a,i,r,n,s,o)=>{if(e)return e;var l={type:i,filters:r,sort:n,limit:s};return Sbe(o&&o.type===Wt.k||!a?a||t:a,l)}),kS(),aCt(),(e,t,a,i)=>{var{details:r,metadataList:n}=e;return{metadataListEntityID:n,librarySectionID:r&&r.librarySectionID,providerIdentifier:a.identifier,containerKey:t,selectedType:i}})}),(function(e,t){return{onLibraryChange(a,i){var r;r=t.sourceDirectory?t.sourceDirectory.id:i,e(uee({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:r}))},dispatchInitLibraryPageMetadataList(t){e(ECt(t))},dispatchPopulateLibraryFirstCharacters(){e(kCt())}}}))(rEt);function sEt(e={}){return e.key===aa?Ec:jc}var oEt=function(e){var{serverEntityID:t,providerEntityID:a,sourceDirectory:i,directoryKey:r,pivot:n,title:s,activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,pageType:h,customFilter:m,typeKey:v,folderKey:g,folderTitle:y,parentFolderKey:f,parentFolderTitle:b,playlistID:I,playlistTitle:S,canShowV4DirectoryHubsPage:M}=e;return M?Uu()(uMt,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,hubKey:r}):h===xt?Uu()($Mt,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,title:s,hubKey:r}):Uu()(nEt,{serverEntityID:t,providerEntityID:a,sourceDirectory:i,directoryKey:oMt(n,r),libraryKey:n&&n.libraryKey,pivot:n,listContext:sEt(n),activeType:o,activeSubtype:l,activeFilters:c,activeFilterLabel:d,activeSort:u,activeLimit:p,activeTitle:s,customFilter:m,typeKey:v,folderKey:g,folderTitle:y||i&&i.title,parentFolderKey:f,parentFolderTitle:b,playlistID:I,playlistTitle:S})};var lEt=Object(Fu.b)((function(){return Object(_u.a)((e,{sourceDirectory:t})=>t,(e,{directoryKey:t})=>t,(e,{pageType:t})=>t,_S,(e,t,a,i)=>({canShowV4DirectoryHubsPage:!1}))}))(oEt),cEt=xe.a.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:Ae.a.string.isRequired,status:Ae.a.string.isRequired}}),dEt=ke.a.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:ct.a,model:cEt});var uEt=function(){var e=T.a.Deferred();return window.setTimeout(()=>{e.resolve()},3e3),e},pEt=Object(Pa.a)("provider/providerIntegrations/initProviderIntegrations"),hEt=Object(Pa.a)("provider/providerIntegrations/fetchProviderIntegrations"),mEt=Object(Pa.a)("provider/providerIntegrations/pollProviderIntegrations"),vEt=Object(Pa.a)("provider/providerIntegrations/integrationsOnboardingComplete"),gEt=Object(Pa.a)("provider/providerIntegrations/createLocastAccount");function yEt(e){return e.get("ui").get("providerIntegrations")}var fEt={"provider/providerIntegrations/initProviderIntegrations"(e,t,a){yEt(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new dEt([],{server:Object(Ta.m)(e,t),provider:Object(Ta.j)(e,t)})}),a(hEt())},"provider/providerIntegrations/fetchProviderIntegrations":Object(Oa.a)({key:"integrations",getModel:yEt}),"provider/providerIntegrations/pollProviderIntegrations"(e,t,a){yEt(e).set("isIntegrationsOnboarding",!0),window.setTimeout(()=>{Object(wa.a)(()=>{a(hEt())})},3e3)},"provider/providerIntegrations/integrationsOnboardingComplete"(e){yEt(e).set("isIntegrationsOnboarding",!1)},"provider/providerIntegrations/createLocastAccount"(e,t,a){yEt(e).set("isIntegrationsOnboarding",!0),uEt().then(()=>{a(mEt())})}};var bEt=function(e){return e.ui.providerIntegrations};var IEt=function(e){var t=bEt(e);return t.integrations?t.integrations.find(e=>"locast"===e.id):null},SEt=Object(_u.a)(IEt,e=>e?e.status:null),MEt=Object(_u.a)(bEt,e=>e.integrations),CEt=Object(_u.a)(MEt,e=>{var t={active:[],available:[],inaccessible:[],inactive:[],unavailable:[]};return e?e.reduce((e,t)=>(e[t.status]&&e[t.status].push(t),e),t):t}),DEt=Object(_u.a)(bEt,CEt,SEt,(e,t,a)=>({locastIntegrationStatus:a,integrationsError:e.integrationsError,isIntegrationsPopulated:e.isIntegrationsPopulated,isIntegrationsOnboarding:e.isIntegrationsOnboarding,isEveryIntegrationActive:e.isIntegrationsPopulated&&t.active.length===e.integrations.length})),PEt=a("VYcH"),OEt=a.n(PEt),jEt=Ed.a.createElement;var TEt=function(e){return jEt(IS,tp()({containerClassName:OEt.a.container,component:QI},e))},wEt=a("OhkS"),EEt=a.n(wEt);var NEt=function(e){var{message:t}=e;return(Uu()("p",{className:EEt.a.message},void 0,t))},{Fragment:xEt}=Ed.a;var AEt=function(e){var{children:t,messages:a}=e;return(Uu()(xEt,{},void 0,a?a.map((e,t)=>Uu()(NEt,{message:e},t)):null,t||null))},LEt=a("gxfN"),kEt=a.n(LEt),REt=Ed.a.createElement;function zEt(e){var{src:t,title:a,badge:i,messages:r,children:n,contentClassName:s,backgroundPosition:o}=e,l=Je()(e,["src","title","badge","messages","children","contentClassName","backgroundPosition"]);return(REt(a3e,tp()({autoScroll:!0,compactScroller:!0},l),Uu()(TEt,{src:t,backgroundPosition:o}),Uu()("div",{className:(s||"")+" "+((i?kEt.a.hasBadge:null)||"")},void 0,a?Uu()("h1",{className:kEt.a.title},void 0,a):null,r?Uu()(AEt,{messages:r}):null,i||null,n)))}zEt.defaultProps={contentClassName:kEt.a.content,innerClassName:kEt.a.innerPageContent};var UEt=zEt,VEt=a.p+"desktop/common/img/banners/banner-locast.fdb0bba3f985f18fa7aeb5cdfc9cf053.jpg",BEt=Ed.a.createElement;var FEt=function(e){return BEt(UEt,tp()({src:VEt,backgroundPosition:"top center"},e))},HEt=a("W0Xf"),_Et=a.n(HEt),QEt=Ed.a.createElement;function WEt(e){return QEt(rT,tp()({className:_Et.a.button,size:wp},e))}WEt.defaultProps={kind:Cp};var GEt=WEt,YEt=a("mJGB"),KEt=a.n(YEt);var qEt=function(e){var{children:t}=e;return(Uu()("div",{className:KEt.a.buttons},void 0,t))},ZEt=Ed.a.createElement;var XEt=function(e){return ZEt("p",tp()({},e,{className:EEt.a.message}))},JEt=a("GSgU"),$Et=a.n(JEt),eNt=Ed.a.createElement;var tNt=function(e){return eNt("span",tp()({className:$Et.a.message},e))},{Fragment:aNt}=Ed.a;var iNt=function(e){var{onAdvance:t}=e;return(Uu()(aNt,{},void 0,Uu()(AEt,{},void 0,Uu()(NEt,{},void 0,Object(Ze.default)("All done!")),Uu()(oT,{component:XEt,message:Object(Ze.default)("You can manage your Locast account at {manageAccountUrl}"),tags:[{unpaired:"manageAccountUrl",children:Uu()(tNt,{},"manageAccountUrl","plex.tv/users/other-services")}]}),Uu()(NEt,{},void 0,Object(Ze.default)("Locast can be found under 'Live TV' in all your Plex apps now."))),Uu()(qEt,{},void 0,Uu()(GEt,{kind:Dp,onPress:t},void 0,Object(Ze.default)("Watch Locast TV now")))))},rNt=Object(_u.a)(qu.a,e=>e.email),{Fragment:nNt}=Ed.a;var sNt=function(e){var{onBack:t}=e;return(Uu()(nNt,{},void 0,Uu()(AEt,{},void 0,Uu()(oT,{component:XEt,message:Object(Ze.default)("Visit {url} on your phone or computer to link your Locast account to Plex"),tags:[{unpaired:"url",children:Uu()(tNt,{},"https://app.plex.tv/locast",Uu()(Vp,{to:"https://app.plex.tv/locast",kind:Dp,size:wp,target:"_self"},void 0,"https://app.plex.tv/locast"))}]})),Uu()(qEt,{},void 0,Uu()(GEt,{onPress:t},void 0,Object(Ze.default)("Back")))))},oNt=Ed.a.createElement,{useEffect:lNt}=Ed.a,cNt=Object(_u.a)(rNt,SEt,bEt,(e,t,a)=>({email:e,isLocastIntegrationActive:"active"===t,isIntegrationsPending:a.isIntegrationsPending,isIntegrationsPopulated:a.isIntegrationsPopulated})),dNt={dispatchPollProviderIntegrations:mEt};var uNt=Object(Fu.b)(cNt,dNt)((function(e){var{isIntegrationsPending:t,isLocastIntegrationActive:a,dispatchPollProviderIntegrations:i,onAdvance:r}=e;return lNt(()=>{t||a||i()},[i,a,t]),lNt(()=>{a&&r()},[a,r]),oNt(sNt,e)})),{Fragment:pNt}=Ed.a,hNt=Uu()(Xh,{});var mNt=function(e){var{email:t,isLocastIntegrationActive:a,onAdvance:i}=e;return(Uu()(pNt,{},void 0,Uu()(AEt,{},void 0,Uu()(oT,{component:XEt,message:Object(Ze.default)("We will create a new account for you using {emailAddress}"),tags:[{unpaired:"emailAddress",children:Uu()(tNt,{},"emailAddress",t)}]},"emailAddress"),Uu()(NEt,{message:Object(Ze.default)("Locast is a not for profit service that relies on donations to survive.")})),a?Uu()(qEt,{},void 0,Uu()(GEt,{onPress:i},void 0,Object(Ze.default)("Watch Locast TV now"))):hNt))},vNt=Ed.a.createElement,{useEffect:gNt}=Ed.a,yNt=Object(_u.a)(rNt,SEt,bEt,(e,t,a)=>({email:e,isLocastIntegrationActive:"active"===t})),fNt={dispatchCreateLocastAccount:gEt};var bNt=Object(Fu.b)(yNt,fNt)((function(e){var{email:t,dispatchCreateLocastAccount:a}=e;return gNt(()=>{a()},[t,a]),vNt(mNt,e)})),{Fragment:INt}=Ed.a;var SNt=function(e){var{onAdvanceNewAccount:t,onAdvanceExistingAccount:a}=e;return(Uu()(INt,{},void 0,Uu()(AEt,{},void 0,Uu()(NEt,{message:Object(Ze.default)("Stream local broadcast TV to all of your Plex devices for free with Locast!")}),Uu()(NEt,{message:Object(Ze.default)("Our easy-to-use program guide and powerful search let you find and watch your local movies, shows, news, and sports.")})),Uu()(qEt,{},void 0,Uu()(GEt,{kind:Dp,onPress:t},"1",Object(Ze.default)("Get started for free")),Uu()(GEt,{onPress:a},"2",Object(Ze.default)("Already a Locast customer")))))},{useState:MNt}=Ed.a;var CNt=function(e){var{onComplete:t}=e,a=MNt(0),i=a[1],r=a[0];return Uu()(FEt,{},void 0,0===r?Uu()(SNt,{onAdvanceNewAccount:function(){i(2)},onAdvanceExistingAccount:function(){i(3)}}):null,1===r?Uu()(iNt,{onAdvance:t}):null,2===r?Uu()(bNt,{onAdvance:t}):null,3===r?Uu()(uNt,{onAdvance:function(){i(1)},onBack:function(){i(0)}}):null)},{useEffect:DNt}=Ed.a,PNt={dispatchInitProviderIntegrations:pEt,dispatchIntegrationsOnboardingComplete:vEt},ONt=Uu()(ph,{},void 0,Uu()(Xh,{})),jNt=Uu()(fh,{});var TNt=Object(Fu.b)(DEt,PNt)((function(e){var{serverEntityID:t,providerEntityID:a,children:i,integrationsError:r,locastIntegrationStatus:n,isIntegrationsPopulated:s,isIntegrationsOnboarding:o,isEveryIntegrationActive:l,dispatchInitProviderIntegrations:c,dispatchIntegrationsOnboardingComplete:d}=e;return DNt(()=>{Object(wa.a)(()=>{c({serverEntityID:t,providerEntityID:a})})},[t,a,c]),s?"available"===n||"active"===n&&o?Uu()(CNt,{serverEntityID:t,providerEntityID:a,onComplete:d}):r?jNt:l?i:Uu()(fh,{title:Object(Ze.default)("Unavailable")}):ONt})),wNt=Ed.a.createElement;function ENt(e){var{serverEntityID:t,providerEntityID:a,hasIntegrationsFeature:i}=e,r=function(e){var{serverEntityID:t,providerEntityID:a,sourceDirectoryID:i,sourceDirectory:r,pivot:n,directoryKey:s,params:o,shouldSaveParams:l}=e,c=Je()(e,["serverEntityID","providerEntityID","machineIdentifier","sourceDirectoryID","sourceDirectory","pivot","directoryKey","params","shouldSaveParams"]);return!(!i||s)?Uu()(nMt,{serverEntityID:t,providerEntityID:a,sourceDirectoryID:i}):Uu()(qnt,{serverEntityID:t,providerEntityID:a,sourceDirectoryID:i,directoryKey:s,params:o,shouldSaveParams:l},void 0,wNt(lEt,tp()({serverEntityID:t,providerEntityID:a,sourceDirectory:r,pivot:n,directoryKey:s},c)))}(e);return i?Uu()(TNt,{serverEntityID:t,providerEntityID:a},void 0,r):r}var NNt=function(e){var{machineIdentifier:t,serverEntityID:a,providerEntityID:i}=e,r=ENt(e);return t===pw.a?Uu()(Irt,{providerEntityID:i},void 0,r):Uu()(tit,{serverEntityID:a},void 0,r)};var xNt=Object(Fu.b)((function(){return Object(_u.a)(K8e(),Mrt(),JSt(),(e,t,a)=>({sourceDirectory:e,pivot:t,hasIntegrationsFeature:Boolean(a)}))}))(NNt),ANt=Ed.a.createElement,LNt=Uu()(qat,{}),kNt=Uu()(qat,{}),RNt=Uu()(qat,{}),zNt=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,r=Object(pt.a)(ht.n,t),n=Object(pt.a)(ht.k,a,r);if($Q())return Uu()(_b.a,{metricsPage:Rd.P,metricsContextParam:i.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,selectedSourceDirectoryID:i.source}),t===pw.a?Uu()(Irt,{providerEntityID:n},void 0,i.key||i.source?Uu()(XSt,{directoryKey:i.key,machineIdentifier:t,providerIdentifier:a,contentDirectoryID:i.source,pageType:i.pageType,pivotID:i.pivot}):LNt):Uu()(tit,{serverEntityID:r},void 0,i.key||i.source?Uu()(XSt,{directoryKey:i.key,machineIdentifier:t,providerIdentifier:a,contentDirectoryID:i.source,pageType:i.pageType,pivotID:i.pivot}):kNt))));var s=function(e){return{type:e.type,subtype:e.subtype,filters:e.filters,filterLabel:e.filterLabel,sort:e.sort,limit:e.limit,view:e.view,pageType:e.pageType,customFilter:e.customFilter,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(i),o=function(e){return{activeType:e.type,activeSubtype:e.subtype,activeFilters:ite(e.filters),activeFilterLabel:e.filterLabel,activeSort:e.sort,activeLimit:Object(zs.a)(e.limit),customFilter:Object(Rs.a)(e.customFilter),view:e.view,pageType:e.pageType,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,playlistID:e.playlistID,playlistTitle:e.playlistTitle}}(s);return Uu()(vGe,{metricsContext:i.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,selectedSourceDirectoryID:i.source}),i.key||i.source?ANt(xNt,tp()({serverEntityID:r,providerEntityID:n,machineIdentifier:t,sourceDirectoryID:i.source,directoryKey:i.key,title:i.title},o,{params:s,shouldSaveParams:Se.a.parseBoolean(i.save)})):RNt)))}}),UNt=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,r=Object(pt.a)(ht.n,t),n=Object(pt.a)(ht.k,a,r);return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,selectedSourceDirectoryID:i.source}),Uu()(tit,{serverEntityID:r},void 0,Uu()(qnt,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,directoryKey:ta},void 0,Uu()(QSt,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,directoryKey:ta,libraryKey:i.key})))))}}),VNt=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,r=Object(pt.a)(ht.n,t),n=Object(pt.a)(ht.k,a,r);return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(Qtt,{selectedMachineIdentifier:t,selectedProviderIdentifier:a,selectedSourceDirectoryID:i.source}),Uu()(tit,{serverEntityID:r},void 0,Uu()(qnt,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,directoryKey:$t},void 0,Uu()(mIt,{serverEntityID:r,providerEntityID:n,sourceDirectoryID:i.source,selectedViewType:i.view})))))}}),BNt=Uu()(ph,{},void 0,Uu()(Xh,{})),FNt=Uu()(qat,{});var HNt=function(e){var{children:t,hasProvider:a,showSpinner:i,showError:r}=e,n=Je()(e,["children","hasProvider","showSpinner","showError"]);if(i)return BNt;if(r)return Uu()(FX,{title:Object(Ze.default)("There was an unexpected error")});if(!a)return FNt;var s=Ed.a.Children.only(t);return(Ed.a.cloneElement(s,n))},_Nt=Ed.a.createElement,{Component:QNt}=Ed.a;var WNt={dispatchFetchProvider:yAe,dispatchPopulateProvider:fAe};var GNt=Object(Fu.b)((function(){return Object(_u.a)(kS(),e=>e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1})}),WNt)(class extends QNt{constructor(...e){super(...e),this.onPopulate=({serverEntityID:e,providerEntityID:t})=>{Object(wa.a)(()=>{this.props.dispatchPopulateProvider({providerEntityID:t,options:{merge:!0}})})},this.onRepopulate=({serverEntityID:e,providerEntityID:t})=>{Object(wa.a)(()=>{this.props.dispatchFetchProvider({providerEntityID:t,options:{merge:!0}})})}}componentDidMount(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})}componentWillReceiveProps(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})}render(){var e=this.props,t=Je()(e,["dispatchFetchProvider","dispatchPopulateProvider"]);return(_Nt(HNt,tp()({},t,{onRetry:this.onRepopulate})))}});function YNt(e,t){return e?e.split("|").map(e=>{var[a,i]=e.split(":");return["int"===t?parseInt(a,10):a,i]}):null}function KNt(e,t){var a;return null==(a=YNt(e,t))?void 0:a.map(([e,t])=>({[e]:t}))}function qNt(e){var t,a=ZNt(e),i=null==(t=YNt(e.enumValues,e.type))?void 0:t.find(([e])=>e===a);return i?i[1]:null}function ZNt(e){var t;return null!=(t=e.value)?t:e.defaultValue}var XNt=a("p2t2"),JNt=a.n(XNt),$Nt=jV(RV);var ext=function(e){var{labelText:t,helpText:a,options:i}=e;return(Uu()(sU,{},void 0,Uu()(UC,{},void 0,t),a?Uu()(CV,{className:JNt.a.help},void 0,a):null,Uu()("div",{className:JNt.a.multiSelectContainer},void 0,i.map(e=>Uu()("div",{className:JNt.a.multiSelectItem},e.key,Uu()($Nt,{name:e.key,checkboxText:e.title,initialValue:e.selected}))))))},txt=a("N6gl"),axt=a.n(txt),{Component:ixt}=Ed.a;var rxt=jV(class extends ixt{constructor(e,t){super(e,t),this.onCountryChange=e=>{var t=this._calculateLocationState(e,this.state.postalCode,this.props.countries);this.setState(t,()=>{this.props.onChange({country:t.country,postalCode:t.postalCode})})},this.onPostalCodeChange=e=>{this.setState({postalCode:e},()=>{this.props.onChange({country:this.state.country,postalCode:e})})},this.state=this._calculateLocationState(e.initialValue.country,e.initialValue.postalCode,e.countries)}componentWillReceiveProps(e){var t=this.state.country!==e.value.country,a=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||a){var i=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(i)}}_getCountryOption(e,t){return t.find(t=>t.code===e)}_countryHasPostalCode(e,t){var a=this._getCountryOption(e,t);return a&&"postalcode"===a.flavor}_calculateLocationState(e,t,a){return{country:e,postalCode:this._countryHasPostalCode(e,a)&&t?t:""}}_getSelectInputValues(e){return e.map(e=>({[e.code]:e.title}))}_getPostalCodeMask(e,t){var a=this._getCountryOption(e,t).postalCodeFormat;return a?D.a.map(a,e=>"N"===e?/\d/:/\./):[]}render(){var{labelText:e,helpText:t,countries:a,showErrors:i,errors:r,onBlur:n}=this.props,{country:s,postalCode:o}=this.state,[l]=r,c=0===a.length,d=this._countryHasPostalCode(s,a);return Uu()(sU,{},void 0,Uu()(UC,{name:"country"},void 0,e),t?Uu()(CV,{className:axt.a.help},void 0,t):null,Uu()(bR,{name:"country",value:s,values:this._getSelectInputValues(a),isDisabled:c,onChange:this.onCountryChange}),d?Uu()(UC,{name:"postalCode",hasError:i,className:axt.a.secondaryLabel},void 0,Object(Ze.default)("Postal Code"),i&&l?"  "+l:null):null,d?Uu()(jOt,{mask:this._getPostalCodeMask(s,a),name:"postalCode",value:o,isDisabled:c,hasError:i,onBlur:n,onChange:this.onPostalCodeChange}):null)}}),nxt=Ed.a.createElement;var sxt=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return Object(Ze.default)("Postal Code is not in correct format")}],oxt={playbackSpeed:dB};var lxt=function e(t){var{id:a,type:i,multiselect:r,label:n,summary:s,country:o,locations:l,postalCode:c,value:d,options:u,enumValues:p,settings:h,parentSetting:m}=t;return a===ICe.b?Uu()(VV,{name:a,checkboxText:Object(Ze.default)("Display the last 3 accessed channels in Guide"),checkedValue:3,uncheckedValue:0,initialValue:d}):"group"===i?Uu()("div",{},void 0,h.map(a=>a.hidden?null:nxt(e,tp()({key:a.id},a,{parentSetting:t})))):"bool"===i?Uu()(VV,{name:a,labelText:m&&m.label||n,checkboxText:n,helpText:s,initialValue:d}):"double"===i?Uu()(cB,{name:a,labelText:n,min:t.min,max:t.max,stepSize:t.step,initialValue:d,valueModifier:oxt[a]}):"location"===i?Uu()(rxt,{name:a,labelText:n,helpText:s,initialValue:{country:o,postalCode:c},validations:sxt,countries:l}):"select"===i&&r?Uu()(ext,{labelText:n,helpText:s,options:u}):p?Uu()(wV,{name:a,labelText:n,helpText:s,initialValue:d,values:KNt(p,i)}):(O.a.warn("Unsupported provider setting type:[%s]",i),null)},cxt=a("1MJM"),dxt=a.n(cxt);function uxt(e){var{children:t,className:a,onPress:i}=e;return(Uu()(Vp,{className:(dxt.a.sectionWrapper||"")+" "+(a||""),component:"div",onPress:i},void 0,t))}function pxt(e){var{children:t,className:a}=e;return(Uu()("div",{className:(dxt.a.sectionWrapper||"")+" "+(a||"")},void 0,t))}var hxt=function(e){var{errorMessage:t,children:a,className:i,onPress:r}=e,n=r?uxt:pxt;return Uu()(n,{className:i,onPress:r},void 0,t?Uu()(MU,{errorMessage:t}):null,Uu()("div",{className:dxt.a.section},void 0,a))},mxt=a("x9uD"),vxt=a.n(mxt);function gxt(e){var{children:t,className:a}=e;return(Uu()("div",{className:a},void 0,t))}gxt.defaultProps={className:vxt.a.actionLinks};var yxt=gxt,fxt=a("UT02"),bxt=a.n(fxt);var Ixt=function(e){var{children:t,className:a,closedNode:i,errorMessage:r,isOpen:n,onTogglePress:s}=e;return(Uu()(hxt,{className:((n?bxt.a.isOpen:bxt.a.isClosed)||"")+" "+(a||""),errorMessage:n?r:null,onPress:n?null:s},void 0,Uu()(yxt,{},void 0,n?Uu()(Vp,{kind:Dp,onPress:s},void 0,Object(Ze.default)("Cancel")):null,n?null:Uu()(Vp,{kind:Dp},void 0,Object(Ze.default)("Edit"))),n?t:i))},Sxt=a("R/D4"),Mxt=a.n(Sxt);function Cxt(e){var{className:t,children:a}=e;return(Uu()("div",{className:t},void 0,a))}Cxt.defaultProps={className:Mxt.a.sectionDetails};var Dxt=Cxt,Pxt=a("m97E"),Oxt=a.n(Pxt),jxt=Uu()(Xh,{});function Txt(e){var{className:t,children:a,closedNode:i,title:r,errorMessage:n,buttonKind:s,buttonText:o,isDirty:l,isOpen:c,isUpdating:d,showButton:u,showButtonEnabled:p,showSpinner:h,onFormChange:m,onSubmit:v,onTogglePress:g}=e;return(Uu()(Ixt,{className:t,isOpen:c,errorMessage:n,closedNode:Uu()(Dxt,{className:Oxt.a.sectionDetails},void 0,Uu()(UC,{className:Oxt.a.label},void 0,r),i),onTogglePress:g},void 0,h?Uu()(UC,{className:Oxt.a.label},void 0,r):null,h?Uu()("div",{className:Oxt.a.spinnerContainer},void 0,jxt):null,!h&&u?Uu()(AC,{onSubmit:v,onChange:m},void 0,a,Uu()("div",{className:Oxt.a.submitButton},void 0,Uu()(bU,{type:"submit",isDisabled:!p&&!l,isSpinning:d,kind:s},void 0,o||Object(Ze.default)("Save Changes")))):null,h||u?null:a))}Txt.defaultProps={buttonKind:Dp,showButton:!0,showButtonEnabled:!1};var wxt=dSt(Txt,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"}),Ext=Ed.a.createElement;var Nxt=function(e){var{setting:t}=e,a=Je()(e,["setting"]);return(Ext(wxt,tp()({},a,{closedNode:qNt(t),initialValue:ZNt(t)})))},xxt=Ed.a.createElement;var Axt=function(e){var{setting:t}=e,a=Je()(e,["setting"]);return(xxt(wxt,tp()({closedNode:t.summary},a)))};function Lxt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-closed-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["g",void 0].concat([Ed.a.createElement.apply(Ed.a,["path",{d:"M522.454 280c-56.558 79.108-145.66 125.848-241.414 125.848-95.82 0-184.9884-46.756-241.5154-125.848H1l3.1852 4.958C65.863 381.112 169.368 438.512 281.034 438.512c111.642 0 215.126-57.4 276.788-153.578L561 280h-38.546z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M269.018 436.36V520h29.56v-83.64zM383.556 414.76l34.616 83.904 27.21-11.884-34.616-83.906zM480.352 361.564l54.132 71.284 23.294-18.728-54.132-71.284zM154.4628 402.434l-31.0532 87.792 27.7794 10.4 31.053-87.79zM62.8262 345.216L8.3388 416.972l23.2936 18.726 54.4874-71.754z"}].concat([]))]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Lxt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var kxt=Lxt;function Rxt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-eye-open-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["g",void 0].concat([Ed.a.createElement.apply(Ed.a,["path",{d:"M556.022 268.128C550.718 261.908 431.676 120 280.22 120 128.766 120 9.7238 261.908 4.4198 268.128c-5.893 6.784-5.893 16.394 0 23.744C9.7238 298.092 128.766 440 280.22 440c151.456 0 270.498-142.474 275.802-148.128 5.304-6.784 5.304-16.96 0-23.744zM280.22 386.29c-61.288 0-110.79-47.492-110.79-106.29 0-58.798 49.502-106.29 110.79-106.29 61.29 0 110.792 47.492 110.792 106.29 0 58.798-49.502 106.29-110.792 106.29z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{d:"M280.224 344.452c37.102 0 67.182-28.856 67.182-64.452s-30.08-64.454-67.182-64.454c-37.104 0-67.184 28.858-67.184 64.454 0 35.596 30.08 64.452 67.184 64.452z"}].concat([]))]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}Rxt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var zxt=Rxt,Uxt=a("HiPX"),Vxt=a.n(Uxt),{useCallback:Bxt}=Ed.a;function Fxt(e){var{serverEntityID:t,providerEntityID:a,className:i,channelID:r,title:n,thumb:s,style:o,hidden:l,connectDragSource:c,onToggleHideChannel:d}=e,u=Bxt(()=>{d&&d(r)},[r,d]),p=l?Object(Ze.default)("Show"):Object(Ze.default)("Hide");return Uu()("div",{className:(i||"")+" "+(l&&Vxt.a.isHidden||""),style:o},void 0,c(Uu()("div",{},void 0,Uu()(Pxe,{className:Vxt.a.iconReorder}))),Uu()(YS,{serverEntityID:t,providerEntityID:a,className:Vxt.a.thumb,url:s,width:36,height:36,backgroundSize:"contain"}),Uu()("span",{className:Vxt.a.label},void 0,Uu()("span",{className:Vxt.a.title},void 0,n)),Uu()(zb,{className:Vxt.a.toggleButton,component:KG,iconComponent:l?kxt:zxt,ariaLabel:p,tooltip:p,onPress:u}))}Fxt.defaultProps={className:Vxt.a.item,connectDragSource:e=>e};var Hxt=Fxt,_xt=Ed.a.createElement,{Component:Qxt}=Ed.a,Wxt=parseInt(GU.lineupSettingChannelHeight,10);var Gxt=Object(axe.DragLayer)((function(e){var t=e.getItem(),a={item:t,style:null},i=e.getInitialSourceClientOffset(),r=e.getSourceClientOffset();if("LINEUP_CHANNEL"===e.getItemType()&&i&&r){var n=r.y;n-t.listTop<=0?n=t.listTop:n+Wxt>=t.listBottom&&(n=t.listBottom-Wxt),a.style=y2e({x:i.x,y:n},t.listWidth)}return a}))(class extends Qxt{render(){var{item:e,style:t}=this.props;if(!e||!t)return null;var a=Je()(e,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return(Uu()(mxe,{},void 0,_xt(Hxt,tp()({},a,{style:t}))))}}),Yxt=a("NDU1"),Kxt=a.n(Yxt),qxt=Ed.a.createElement,{Component:Zxt}=Ed.a,Xxt={beginDrag(e){var{channelID:t,serverEntityID:a,providerEntityID:i,title:r,thumb:n,hidden:s,listIndex:o,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:h}=e;return{dragIndex:o,channelID:t,serverEntityID:a,providerEntityID:i,title:r,thumb:n,hidden:s,listHeight:l,listWidth:c,listTop:d,listRight:u,listBottom:p,listLeft:h}},endDrag(e,t){e.onItemDragEnd({didDrop:t.didDrop()})}},Jxt={hover(e,t,a){var i,r=t.getClientOffset(),n=Object(Vu.findDOMNode)(a).getBoundingClientRect(),s=(n.bottom-n.top)/2,o=r.y-n.top,l=t.getItem().dragIndex,c=e.listIndex;i=c===l?c:o>s?c+1:c,e.onItemDragMove({dragIndex:l,dropIndex:i})}};var $xt=Object(axe.DropTarget)("LINEUP_CHANNEL",Jxt,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("LINEUP_CHANNEL",Xxt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends Zxt{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}render(){var e=this.props,{isOver:t,isDragging:a,isDraggingBefore:i,isDraggingAfter:r,connectDropTarget:n}=e,s=Je()(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return n(Uu()("div",{className:(Kxt.a.container||"")+" "+(t&&Kxt.a.isOver||"")+" "+(a?"isDragging":"")+" "+(t&&i?"isDraggingBefore":"")+" "+(t&&r?"isDraggingAfter":"")},void 0,qxt(Hxt,s)))}})),eAt=a("pQgm"),tAt=a.n(eAt),aAt=Ed.a.createElement,{Component:iAt}=Ed.a,rAt={dragIndex:-1,dropIndex:-1,hasValidDropTarget:!1},nAt=Uu()(Gxt,{});var sAt=nxe(class extends iAt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{var{dragIndex:t,dropIndex:a}=e,{dragIndex:i,dropIndex:r}=this.state,n=a!==r?a:r,s=t!==i?t:i;if((n===s||n>s&&n-s==1)&&(n=-1),s!==i||n!==r){var o={dragIndex:s,dropIndex:n,hasValidDropTarget:-1!==n};this.setState(o)}},this.onItemDragEnd=e=>{var t,{dragIndex:a,dropIndex:i}=this.state;e.didDrop&&-1!==i&&(t=()=>{this.props.onReorderChannel({fromIndex:a,toIndex:i>a?i-1:i})}),this.setState(rAt,t)},this.onMeasure=e=>{var{height:t,width:a,x:i,y:r}=e;this.setState({listHeight:t,listWidth:a,listTop:r,listRight:i+a,listBottom:r+t,listLeft:i})},this.state=Object.assign({},rAt,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0})}render(){var{serverEntityID:e,providerEntityID:t,lineup:a,onToggleHideChannel:i}=this.props,{dropIndex:r,hasValidDropTarget:n}=this.state;return Uu()(p$,{onMeasure:this.onMeasure},void 0,Uu()(rh,{className:tAt.a.scroller,scrollDirection:"vertical"},void 0,a.map((a,s)=>{var{id:o,title:l,thumb:c,hidden:d}=a,u=s,p=n&&r===u,h=n&&r===u+1;return aAt($xt,tp()({},this.state,{key:o,serverEntityID:e,providerEntityID:t,channelID:o,listIndex:u,title:l,thumb:c,hidden:d,hasValidDropTarget:n,isDraggingAfter:h,isDraggingBefore:p,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,onToggleHideChannel:i}))}),nAt))}}),oAt=a("K5wW"),lAt=a.n(oAt),cAt=Ed.a.createElement,{useCallback:dAt,useEffect:uAt,useState:pAt}=Ed.a;var hAt=function(e){var{serverEntityID:t,providerEntityID:a,setting:i,onTogglePress:r,onSubmit:n}=e,s=Je()(e,["serverEntityID","providerEntityID","setting","onTogglePress","onSubmit"]),{summary:o,lineup:l,isLineupPending:c}=i,d=pAt(l),u=d[1],p=d[0],h=pAt(!1),m=h[1],v=h[0],g=dAt(e=>{m(!0),u(p.map(t=>t.id===e?Object.assign({},t,{hidden:!t.hidden}):t))},[p]),y=dAt(({fromIndex:e,toIndex:t})=>{e!==t&&(m(!0),u(i2e(p,e,t)))},[p]),f=dAt(e=>{u(l),r(e)},[l,r]),b=dAt(()=>{var e=p.map(({id:e,hidden:t})=>({id:e,hidden:t}));n(e)},[p,n]);return uAt(()=>{c||u(l)},[c,l]),cAt(wxt,tp()({},s,{closedNode:o,showSpinner:c,isDirty:v,onSubmit:b,onTogglePress:f}),Uu()(CV,{className:lAt.a.help},void 0,o),Uu()(sAt,{serverEntityID:t,providerEntityID:a,lineup:p,onReorderChannel:y,onToggleHideChannel:g}))},mAt=Ed.a.createElement,{Component:vAt}=Ed.a;var gAt=class extends vAt{constructor(...e){super(...e),this.onSubmit=e=>{var{location:t}=e;this.props.onSubmit(t)}}_getCountryPostalCodeLabel(e,t){var a=[];return e?(a.push(e),t&&a.push(t),a.join(", ")):""}render(){var e=this.props,{setting:t}=e,a=Je()(e,["setting"]);return(mAt(wxt,tp()({closedNode:this._getCountryPostalCodeLabel(t.countryLabel,t.postalCode),showSpinner:t.isLocationsPending},a,{onSubmit:this.onSubmit})))}},yAt=Ed.a.createElement;var fAt=function(e){var{setting:t}=e,a=Je()(e,["setting"]);return(yAt(wxt,tp()({closedNode:Object(Ze.default)("{1} selected",t.selectedCount),showSpinner:t.isOptionsPending},a)))},bAt=Ed.a.createElement,{Component:IAt}=Ed.a;var SAt=class extends IAt{constructor(...e){super(...e),this.onTogglePress=()=>{var{setting:{optionsError:e,locationsError:t,lineupError:a,id:i}}=this.props;this.props.onTogglePress(i),(e||t||a)&&this.props.onOptionsFetchErrorDismiss(i)},this.onSubmit=e=>{this.props.onUpdateSetting(this.props.setting.id,e)}}render(){var{setting:e}=this.props,{id:t,summary:a,optionsError:i,locationsError:r,lineupError:n,type:s,multiselect:o,enumValues:l,value:c}=e,d=this.props,{updateError:u}=d,p=Je()(d,["updateError","onUpdateSetting","onTogglePress","onOptionsFetchErrorDismiss"]),h=u?Object(Ze.default)("Unable to save settings"):null,m=i||r||n?Object(Ze.default)("There was an error loading the options"):h;return t===ICe.b?bAt(wxt,tp()({},p,{title:Object(Ze.default)("Display the last 3 accessed channels in Guide"),closedNode:3===c?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled"),errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"group"===s?bAt(Axt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"location"===s?bAt(gAt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"select"===s&&o?bAt(fAt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):l?bAt(Nxt,tp()({},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"lineup"===s?bAt(hAt,tp()({},p,{setting:e,errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):"double"===s||"bool"===s?bAt(wxt,tp()({closedNode:a},p,{errorMessage:m,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):(O.a.warn("Unsupported provider setting type:[%s]",s),null)}},MAt=Ed.a.createElement,{Component:CAt}=Ed.a,DAt=Uu()(ph,{},void 0,Uu()(Xh,{})),PAt=Uu()($y,{});var OAt=class extends CAt{static getDerivedStateFromProps(e,t){var a={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(a.openSettingID=null),a}constructor(e,t){super(e,t),this.onTogglePress=e=>{this.props.updateError&&this.props.onUpdateErrorDismiss(),this.state.openSettingID===e?this.setState({openSettingID:null}):(this.props.onSettingViewDetail(e),this.setState({openSettingID:e}))},this.state={openSettingID:null,isUpdatePendingFromStore:e.isUpdatePending}}render(){var{serverEntityID:e,providerEntityID:t,providerTitle:a,showSpinner:i,settings:r,isUpdatePending:n,updateError:s,onUpdateSetting:o,onOptionsFetchErrorDismiss:l}=this.props,{openSettingID:c}=this.state;return i?DAt:Uu()(C3,{metricsPage:Rd.fb,metricsPane:"settings"},void 0,Uu()(g3,{},void 0,a,a?PAt:null,Object(Ze.default)("Personalize")),r.map(a=>a.hidden?null:Uu()(SAt,{serverEntityID:e,providerEntityID:t,title:a.label,setting:a,isOpen:c===a.id,isUpdating:n,updateError:s,onTogglePress:this.onTogglePress,onUpdateSetting:o,onOptionsFetchErrorDismiss:l},a.id,MAt(lxt,a))))}},{Component:jAt}=Ed.a;var TAt={dispatchFetchProviderSettings:_ot,dispatchUpdateProviderSetting:Jot,dispatchClearProviderSettingUpdateError:$ot,dispatchClearProviderSettingFetchError:Wot,dispatchPopulateSettingsOptions:elt};var wAt=Object(Fu.b)((function(){return Object(_u.a)(kS(),bbe(Ot.p),e=>e.ui.providerSettingsPage,(e,t,a)=>({providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:a.isUpdatePending,updateError:a.updateError}))}),TAt)(class extends jAt{constructor(...e){super(...e),this.onUpdateErrorDismiss=()=>{this.props.dispatchClearProviderSettingUpdateError({providerEntityID:this.props.providerEntityID})},this.onOptionsFetchErrorDismiss=e=>{this.props.dispatchClearProviderSettingFetchError({providerEntityID:this.props.providerEntityID,settingID:e})},this.onUpdateSetting=(e,t)=>{this.props.dispatchUpdateProviderSetting({providerEntityID:this.props.providerEntityID,settingID:e,values:t})},this.onSettingViewDetail=e=>{this.props.dispatchPopulateSettingsOptions({providerEntityID:this.props.providerEntityID,settingID:e})}}componentDidMount(){var{providerEntityID:e}=this.props;this.props.dispatchFetchProviderSettings({providerEntityID:e})}render(){return Uu()(OAt,{serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})}}),EAt=Uu()(Qtt,{}),NAt=Uu()(wAt,{}),xAt=Hu.extend({component(e){var t=e.selectedProviderID,a=Object(pt.a)(ht.n,pw.a),i=Object(pt.a)(ht.k,t,a);return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,EAt,Uu()(GNt,{serverEntityID:a,providerEntityID:i},void 0,NAt)))}}),AAt={signIn:qit,error:ort,notFound:lrt,serverRequired:crt,unauthorized:drt,unavailable:urt},LAt=B.Controller.extend({initialize(){this.listenTo(H.a,"initialize:app",this.onAppInitialize)},viewFor(e,t){var a=AAt[e];if(a)return new a(t);throw new Error("No view defined for "+e)},login(){var e=Object(ie.c)("appModel"),t=e.get("cloudServer");H.a.trigger("show:loading"),t.populate().done(()=>{e.get("user").get("anonymous")?H.a.trigger("show:view",this.viewFor("signIn")):H.a.trigger("navigate","dashboard")}).fail(()=>{var e=t.get("available");!0===e||!1===e?window.setTimeout(()=>{var a=e?this.viewFor("signIn"):this.viewFor("unavailable",{model:t});H.a.trigger("show:view",a)},0):this.listenToOnce(t,"change:available",this.login)})},error(){H.a.trigger("show:view",this.viewFor("notFound",{type:"404"}))},unauthorized(e){D.a.some(this.getUnauthorizedHandlers(),t=>t.call(this,e))||H.a.trigger("show:view",this.viewFor("notFound",{type:"media"}))},getUnauthorizedHandlers(){return[this.handleLockState,this.handleAuthorized,this.handlePrimaryServer,this.handleServer]},handleLockState:e=>Object(ie.c)("appModel").get("user").get("isLocked"),handleAuthorized(e){var t=Object(ie.c)("appModel"),a=!t.get("servers").findWhere({authorized:!0})&&!t.get("skipSignIn");return a&&this.populateServersThenRecover(),a},handlePrimaryServer({server:e,options:t}){return!(e||!t.primaryServer)&&(H.a.trigger("show:view",this.viewFor("serverRequired")),!0)},handleServer({server:e,options:t}){var a,i,r=this.viewFor,n=Object(ie.c)("appModel").get("cloudServer");return!(!t.serverID&&!t.primaryServer)&&(e?e.get("available")?e.get("authorized")||"resolved"!==n.populatePromise.state()?e.get("authorized")||(a=this.populateServersThenRecover()):i=r("unauthorized"):i=r("unavailable",{model:e}):i=r("notFound",{type:"server"}),i&&H.a.trigger("show:view",i),!(!i&&!a))},populateServersThenRecover(){var e=Object(ie.c)("appModel"),t=e.get("skipSignIn"),a=e.get("servers"),i=a.findWhere({cloud:!0}),r=this.viewFor;return a.populate().done(()=>{var e=a.find(e=>e.get("hasManualConnection"));i.get("authorized")?H.a.trigger("navigate:refresh"):e?e.get("authorized")?H.a.trigger("navigate","dashboard"):H.a.trigger("show:view",r("unavailable",{model:e})):t?H.a.trigger("show:view",r("serverRequired")):H.a.trigger("navigate","login",{silent:!0})}).fail(()=>{be.a.requiresSignIn?H.a.trigger("show:view",r("unavailable",{model:i})):H.a.trigger("show:view",r("serverRequired"))})},getMediaRouteViewOptions:(e,t,a)=>(!e&&t&&(e=pw.a),{selectedServerID:e,selectedProviderID:t,params:_.parseParams(a)}),mediaLanding(...e){H.a.trigger("show:view",new zNt(this.getMediaRouteViewOptions(...e)))},serverUpdate(e){H.a.trigger("show:view",new vit({serverID:e}))},timeline(...e){H.a.trigger("show:view",new UNt(this.getMediaRouteViewOptions(...e)))},guide(...e){H.a.trigger("show:view",new Lct(this.getMediaRouteViewOptions(...e)))},recordingSchedule(...e){H.a.trigger("show:view",new VNt(this.getMediaRouteViewOptions(...e)))},dashboard(e){H.a.trigger("show:view",new Gtt({params:_.parseParams(e)}))},search(e){H.a.trigger("show:view",new Uat({params:_.parseParams(e)}))},playHistory(e,t){H.a.trigger("show:view",new Cut({selectedServerID:e,params:_.parseParams(t)}))},providerSettings(e){H.a.trigger("show:view",new xAt({selectedProviderID:e}))},logs(){H.a.trigger("show:view",new Jtt({collection:Object(ie.c)("logs")}))},info(){H.a.trigger("show:view",new qtt)},serverDownloadMessage(){H.a.trigger("show:view",new Bat)},signUp(){H.a.trigger("show:view",new qit({signUp:!0}))},logout(){H.a.trigger("show:view",new art)},firstRunExperience(e){H.a.trigger("show:view",new uGe({params:_.parseParams(e)}))},onAppInitialize(){this.appView=new AQe,this.appView.render()}}),kAt=f6.extend({controller:new LAt,appRoutes:{"!/dashboard":"dashboard","!/search":"search","!(/server/:serverID)/playHistory":"playHistory","!/provider/:providerID/settings":"providerSettings","":"dashboard","!/login":"login","!/logout":"logout","!/signUp":"signUp","!/client-setup":"firstRunExperience","!/unauthorized":"unauthorized","!/logs":"logs","!/info":"info","!/get-plex-media-server":"serverDownloadMessage","!/server/:serverID/update":"serverUpdate","!/media(/:serverID)/:providerID/timeline":"timeline","!/media(/:serverID)/:providerID/guide":"guide","!/media(/:serverID)/:providerID/schedule":"recordingSchedule","!/media(/:serverID)/:providerID":"mediaLanding","*404":"error"},onNavigateRefreshDashboard:function(){var e=I.c.history.getFragment();""===e||"!/dashboard"===e?I.c.history.loadUrl(""):H.a.trigger("navigate","dashboard")}}),RAt=Object(_u.a)(Wu,e=>e.playlistItems),zAt=Object(Pa.a)("INIT_PLAYLIST_PAGE"),UAt=Object(Pa.a)("INIT_PLAYLIST_ITEM_LIST"),VAt=Object(Pa.a)("RESET_PLAYLIST_ITEM_LIST"),BAt=Object(Pa.a)("FETCH_PLAYLIST"),FAt=Object(Pa.a)("POPULATE_PLAYLIST_ITEM_RANGE"),HAt=Object(Pa.a)("REPOPULATE_PLAYLIST_ITEMS"),_At=Object(Pa.a)("SELECT_PLAYLIST_ITEM"),QAt=Object(Pa.a)("DESELECT_PLAYLIST_ITEM"),WAt=Object(Pa.a)("MOVE_PLAYLIST_ITEM"),GAt=Object(Pa.a)("REMOVE_PLAYLIST_ITEM"),YAt=Object(Pa.a)("REMOVE_SELECTED_ITEMS");var KAt=Object(_u.a)(Nv.a,e=>e.playThemeMusic),qAt=Object(_u.a)(Nv.a,e=>e.showPrePlayArtwork);function ZAt(){return Object(_u.a)(ZG(),(e={})=>{var{type:t,subtype:a,skipChildren:i}=e;if(t===Wt.e)return a;if(t===Wt.o&&a===OM.c)return Wt.p;var r=i?Wt.t(t):Wt.s(t);return r&&r.typeString})}var XAt=Ed.a.createElement;function JAt(e,{metricsPage:t}){return XAt(ET,tp()({},e,{page:t}))}JAt.contextTypes={metricsPage:Oc.a.string.isRequired};var $At=JAt;var eLt=function(){return Uu()(RH,{title:Object(Ze.default)("Nothing is here"),description:Object(Ze.default)("This item may have been deleted recently")},void 0,Uu()(Vp,{to:"#",kind:Dp},void 0,Object(Ze.default)("Go Home")))};var tLt=function(){return Uu()(RH,{title:Object(Ze.default)("You must be lost"),description:Object(Ze.default)("This item does not have its own page")},void 0,Uu()(Vp,{to:"#",kind:Dp},void 0,Object(Ze.default)("Go Home")))};var aLt=a("ctCg"),iLt=a.n(aLt);var rLt=function(){return Uu()(dRe,{className:iLt.a.bottomDivider})},nLt=a("4Img"),sLt=a.n(nLt);var oLt=function(){return Uu()(dRe,{className:sLt.a.topDivider})},lLt=a("U0CT"),cLt=a.n(lLt),{memo:dLt}=Ed.a,uLt={height:parseInt(YU.a.tableRowHeight,10)},pLt=Uu()(oLt,{}),hLt=Uu()(rLt,{});var mLt=dLt((function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,title:n,index:s,className:o,metadataItemEntityIDs:l,listType:c}=e,d=N$(e);return Uu()("div",{className:o,style:d.style},void 0,Uu()(Sfe,{className:cLt.a.header},void 0,Uu()(Gye,{},void 0,n||Object(Ze.default)("Disc {discNumber}",{discNumber:s}))),pLt,l.map((e,n)=>Uu()(zTt,{style:uLt,serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,keyPropName:"metadataItemEntityID",metadataItemEntityID:e,cellIndex:n,listType:c,listContext:Tc,activeSort:"titleSort",showLink:!1,showPlayIndex:!0,showActionsDuration:!0},e)),hLt)}));var vLt=a("GtsS"),gLt=a.n(vLt),yLt=Uu()(Xh,{});var fLt=function(e){var{listType:t,isPopulated:a,isPending:i,error:r,size:n,children:s}=e;return a&&n?Uu()("div",{className:gLt.a.container,"data-qa-id":"preplayContainer--"+[t]},void 0,s):i?Uu()("div",{className:gLt.a.emptyContainer},void 0,yLt):Uu()("div",{className:gLt.a.emptyMessage},void 0,r?function(e){switch(e){case Wt.n:return Object(Ze.default)("Unable to load seasons");case Wt.f:return Object(Ze.default)("Unable to load episodes");case Wt.a:return Object(Ze.default)("Unable to load albums");case Wt.p:return Object(Ze.default)("Unable to load tracks");case Wt.k:return Object(Ze.default)("Unable to load photos");default:return Object(Ze.default)("Unable to load items")}}(t):function(e){switch(e){case Wt.n:return Object(Ze.default)("No seasons");case Wt.f:return Object(Ze.default)("No episodes");case Wt.a:return Object(Ze.default)("No albums");case Wt.p:return Object(Ze.default)("No tracks");case Wt.k:return Object(Ze.default)("No photos");default:return Object(Ze.default)("No items")}}(t))},bLt=Ed.a.createElement,{Component:ILt}=Ed.a;var SLt=class extends ILt{constructor(e,t){super(e,t),this.onListContainerRef=e=>{this._setOffsetTop(e)},this._hasOffsetChanged=!1,this.state={listOffsetTop:null}}componentWillUpdate(e){this._hasOffsetChanged=e.contentHeight!==this.props.contentHeight}_setOffsetTop(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})}render(){var{children:e,scrollTop:t}=this.props,{listOffsetTop:a}=this.state,i=Ed.a.Children.only(e);return bLt("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=a?Ed.a.cloneElement(i,{scrollTop:t-a}):null)}},MLt=Ed.a.createElement,{useMemo:CLt}=Ed.a,DLt=parseInt(YU.a.tableTitleHeight,10)+19,PLt=parseInt(YU.a.tableRowHeight,10);var OLt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,discs:n,listType:s,isPopulated:o,isPending:l,error:c,contentHeight:d,scrollTop:u}=e,p=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","discs","listType","isPopulated","isPending","error","contentHeight","scrollTop"]),h=n.reduce((e,t)=>e+t.metadataItemEntityIDs.length,0),m=1===n.length?GLe(s,h):"",v=CLt(()=>ast({getCellHeights:()=>n.map(e=>DLt+e.metadataItemEntityIDs.length*PLt),overscan:1}),[n]),g={serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,title:m,listType:s};return Uu()(fLt,{listType:s,isPopulated:o,isPending:l,error:c,size:h},void 0,Uu()(SLt,{contentHeight:d,scrollTop:u},void 0,v?MLt(v$,tp()({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,keyPropName:"index",items:n,size:n.length,listType:s,listContext:Rd.eb,isPopulated:o,isPending:l,error:c,layout:v,cellRenderer:Gfe(g,mLt)},p)):null))};var jLt=Object(Fu.b)((function(){return Object(_u.a)(Object(_u.a)((e,{metadataItemEntityIDs:t})=>t,qG,(e,t)=>D.a.compact(e.reduce((e,a)=>{var{entityID:i,parentIndex:r=1}=t[a],n=e[r];return n?n.metadataItemEntityIDs.push(i):e[r]={index:r,metadataItemEntityIDs:[i]},e},[]))),e=>({discs:e}))}))(OLt),TLt=a("d+lh"),wLt=a.n(TLt);function ELt({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}ELt.defaultProps={className:wLt.a.content};var NLt=ELt,xLt=a("GERC"),ALt=a.n(xLt);var LLt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,posterWidth:o,posterHeight:l,posterUrl:c,showLinkOnly:d}=e;return(Uu()(Vje,{cardFaceClassName:ALt.a.face,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,imageWidth:o,imageHeight:l,imageUrl:c,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:d}))},kLt=a("Y7Bh"),RLt=a.n(kLt);function zLt(e){var{children:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,columnAdjustment:n,showPoster:s,posterType:o,metadataKey:l,type:c,subtype:d,thumb:u,pageWidth:p}=e,h=zNe(p,n),m=wM(h,o||c,d,Tc);return Uu()("div",{className:RLt.a.container},void 0,s?Uu()(LLt,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,metadataKey:l,type:c,subtype:d,posterType:o,posterWidth:h,posterHeight:m,posterUrl:u}):null,Uu()(s?NLt:"div",{},void 0,t))}zLt.defaultProps={showPoster:!0};var ULt=zLt;var VLt=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),ZG(),(e,t,a,i={})=>({server:e,provider:t,sourceDirectory:a,type:i.type,Genre:i.Genre}))}))(SVe),BLt=a("T2rF"),FLt=a.n(BLt);function HLt({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}HLt.defaultProps={className:FLt.a.innerContent};var _Lt=HLt,QLt=a("dFNS"),WLt=a.n(QLt),GLt=Ed.a.createElement,{memo:YLt}=Ed.a;function KLt(e){var{route:t,children:a}=e,i=Je()(e,["route","children"]);return t?GLt(Vp,tp()({className:WLt.a.posterCardLinkContainer,to:t},i),a):GLt("span",tp()({className:WLt.a.posterCardContainer},i),a)}var qLt=YLt((function(e){var t,{listType:a,serverEntityID:i,providerEntityID:r,server:n,provider:s,sourceDirectory:o,titleComponents:l,role:c,cellWidth:d}=e,{key:u,thumb:p,id:h,tag:m,role:v,filter:g,directory:y}=c,f=N$(e);return y&&u&&o?t=Jt(n,s,o,{key:u,title:m}):(g||h)&&o&&(t=X7(n,s,o,{filters:g||"actor="+h,filterLabel:m})),Uu()("div",{style:f.style},void 0,Uu()(KLt,{route:t},void 0,Uu()(dce,{serverEntityID:i,providerEntityID:r,imageWidth:d,imageHeight:d,imageUrl:p,title:m,tag:m,tagType:a})),Uu()("div",{className:WLt.a.titleContainer},void 0,l.map((e,a)=>Uu()(qbe,{route:t,tag:m,role:v,component:e,isSecondary:a>0},a))))})),ZLt=a("BUrS"),XLt=a.n(ZLt),JLt=Ed.a.createElement;function $Lt(e){var{listType:t,listSubtype:a,listContext:i,serverEntityID:r,providerEntityID:n,server:s,provider:o,sourceDirectory:l,roles:c,isEmbeddedServer:d}=e;if(!c||d)return null;var u,p=MMe(t,i);return Uu()("div",{className:XLt.a.castList},void 0,Uu()(jfe,{hubIdentifier:"cast",title:Object(Ze.default)("Cast"),size:c.length,listType:t,listContext:i,columnAdjustment:1,keyPropName:"uniqueID",items:c.map(e=>({role:e,uniqueID:(e.id||e.tag)+"!"+e.role})),layout:nLe(t,a,i,1,p.length),cellRenderer:(u={listType:t,listContext:i,serverEntityID:r,providerEntityID:n,server:s,provider:o,sourceDirectory:l,titleComponents:p},e=>JLt(qLt,tp()({},u,e)))}))}$Lt.defaultProps={listType:"actor",listContext:Tc};var ekt=$Lt;var tkt=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),ZG(),Fat(),(e,t,a,i,r)=>({server:e,provider:t,sourceDirectory:a,roles:i.Role,isEmbeddedServer:r}))}))(ekt);function akt(){return Object(_u.a)(_S,ZG(),(e,t)=>{var a=e&&e.features.content;if(!t||!a)return null;if(e.protocols[Qt.a])return a.directories.find(e=>e.hubKey&&!e.key);var{librarySectionKey:i,librarySectionID:r,isPlaylist:n}=t;return i||r?a.directories.find(e=>e.id?e.id===r:!!e.key&&e.key===i):n?a.directories.find(e=>e.type===Ot.k):void 0})}var ikt=a("DOb5"),rkt=a.n(ikt),nkt=Uu()(Xh,{});function skt(e){var{serverEntityID:t,providerEntityID:a,hubEntityIDs:i,sourceDirectory:r,showSpinner:n,isEmbeddedServer:s,listContext:o}=e;return s?null:n?Uu()("div",{className:rkt.a.spinnerContainer},void 0,nkt):Uu()(aRe,{className:rkt.a.relatedList,serverEntityID:t,providerEntityID:a,hubEntityIDs:i,sourceDirectory:r,listContext:o,columnAdjustment:1})}skt.defaultsProps={listContext:Tc};var okt=skt;var lkt=Object(Fu.b)((function(){return Object(_u.a)(Fat(),akt(),e=>e.ui.prePlayPage,(e,t,a)=>{var{relatedHubs:i,isRelatedHubsPending:r}=a;return{isEmbeddedServer:e,sourceDirectory:t,hubEntityIDs:i,showSpinner:!i.length&&r}})}))(okt),ckt=a("PZfv"),dkt=a.n(ckt);var ukt=function({attribution:e,title:t}){return Uu()(yNe,{className:dkt.a.container},void 0,e?Uu()(nS,{className:dkt.a.attribution,attribution:e}):null,Uu()("div",{className:dkt.a.title},void 0,t))},{Component:pkt}=Ed.a,hkt=Uu()(dRe,{});var mkt=class extends pkt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,metadataKey:r,attribution:n,title:s,type:o,year:l,summary:c,thumb:d,art:u,listType:p,listStyle:h,isListReady:m,pageWidth:v,pageHeight:g,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,M=!!u,C=!(!b||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:r,type:o,thumb:d,pageWidth:v,columnAdjustment:f},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(ale,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(wNe,{},void 0,Uu()(ukt,{attribution:n,title:s}),Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(ANe,{},void 0,Uu()(yNe,{},void 0,l),Uu()(PNe,{},void 0,Uu()(VLt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})))),hkt,c?Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,c)):null),Uu()(_Lt,{},void 0,C?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,initialSize:1/0,listType:p,listStyle:h,showArtwork:M,component:jLt,viewportWidth:I,viewportHeight:g,contentHeight:S,scrollTop:y}):null,m?Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}};var vkt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.prePlayPage,e=>{var{augmentedHubs:t,isAugmentedHubsPending:a}=e;return t?{hubEntityIDs:t,showSpinner:!t.length&&a}:{hubEntityIDs:[],showSpinner:!1}})}))(okt),gkt=a("NJkC"),ykt=a.n(gkt),{useCallback:fkt,useState:bkt}=Ed.a;var Ikt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,cellIndex:r,metadataKey:n,route:s,title:o,type:l,summary:c,showRecord:d,hasSingleSubscription:u}=e,p=N$(e),h=bkt(!1),m=h[1],v=h[0],g=fkt(e=>{m(!0)},[]),y=fkt(()=>{m(!1)},[]);return n?Uu()("div",{className:r%2?ykt.a.alternateItem:ykt.a.item,style:p.style},void 0,Uu()(Vp,{className:ykt.a.underlay,to:s}),Uu()("div",{className:ykt.a.overlay},void 0,Uu()("div",{className:ykt.a.primaryTitle},void 0,Uu()(rSe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i})),Uu()("div",{className:ykt.a.secondaryTitle},void 0,u?Uu()(SPe,{className:ykt.a.subscriptionIcon,"aria-label":Object(Ze.default)("Recording Scheduled")}):null,Uu()(EIe,{className:ykt.a.nextAiringDate,metadataItemEntityID:i,showFullTime:!0}),c?Uu()($y,{className:ykt.a.separator}):null,c)),d?Uu()(Qle,{className:ykt.a.recordButton,tabIndex:"-1",title:o,onPress:g}):null,Uu()(hOe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,isOpen:v,subscriptionType:l,onModalClose:y})):Uu()("div",{className:r%2?ykt.a.alternateLoadingItem:ykt.a.loadingItem,style:p.style},void 0,Object(Ze.default)("Loading..."))},Skt=Ed.a.createElement;var Mkt=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,GS,_S,ZG(),(e,t,a,i={})=>{var r={};return e&&(r.context=e),{metadataKey:i.key,title:i.title,type:i.type,summary:i.summary,route:lu(t,a,i.key,r),showRecord:!!a.features.subscribe,hasSingleSubscription:!!i.subscriptionID}})}))((function(e){return Skt(Ikt,e)})),Ckt=Ed.a.createElement,{Component:Dkt}=Ed.a,Pkt=P$(96);var Okt=class extends Dkt{constructor(...e){super(...e),this.renderCell=e=>Ckt(Mkt,tp()({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataListEntityID:this.props.metadataListEntityID},e))}render(){return Ckt(v$,tp()({layout:Pkt,cellRenderer:this.renderCell},this.props))}},jkt=Ed.a.createElement;var Tkt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s}=e,o=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return(jkt(v$,tp()({layout:rTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s},hTt)},o)))},wkt=Ed.a.createElement,{Component:Ekt}=Ed.a;class Nkt extends Ekt{constructor(e,t){super(e,t),this.state={layout:this._createLayout(e)}}componentWillReceiveProps(e){var t=this.props.aspectRatios!==e.aspectRatios,a=this.props.viewportWidth!==e.viewportWidth,i=this.props.columnAdjustment!==e.columnAdjustment;(t||a||i)&&this.setState({layout:this._createLayout(e)})}_createLayout(e=this.props){var{viewportWidth:t,columnAdjustment:a,aspectRatios:i}=e,r=Math.ceil(t/400),n=Math.max(1,r+a);return AIt({columns:n,rows:RIt({aspectRatios:i,columns:n})})}render(){if(!this.state)return null;var e=this.props,{cellRenderer:t}=e,a=Je()(e,["cellRenderer"]),{layout:i}=this.state;return wkt(v$,tp()({layout:i,cellRenderer:t},a))}}Nkt.defaultProps={columnAdjustment:0};var xkt=Nkt;var Akt=Object(Fu.b)((function(){return Object(_u.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,(e,{metadataListEntityID:t})=>t,(e,{containerKey:t})=>t,(e,{listType:t})=>t,qG,(e=[],t,a,i,r,n,s)=>({listType:n,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n},xIt),aspectRatios:e.map(e=>OIt(s[e]))}))}))(xkt),Lkt=Ed.a.createElement;var kkt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listSubtype:s,listContext:o,columnAdjustment:l}=e,c=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),d=MMe(n,o,{providerEntityID:a});return Lkt(v$,tp()({layout:tTt(n,s,o,l,d.length),cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:o,titleComponents:d},fke)},c))},Rkt=Ed.a.createElement;var zkt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s}=e,o=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return(Rkt(v$,tp()({layout:gTt,cellRenderer:Gfe({serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s},dke)},o)))},Ukt=Ed.a.createElement;var Vkt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s}=e,o=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]),l={serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:r,listType:n,listContext:s,activeSort:"titleSort"};return"episode"===n&&(l.showPlayIndex=!0,l.showActionsMinutesLeft=!0),"track"===n&&(l.showLink=!1,l.showPlayIndex=!0,l.showActionsDuration=!0),Ukt(v$,tp()({layout:bTt,cellRenderer:Gfe(l,zTt)},o))},Bkt=a("HUgi"),Fkt=a.n(Bkt);var Hkt=Uu()(oLt,{}),_kt=Uu()(rLt,{});var Qkt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityIDs:r,containerKey:n,listType:s,listStyle:o,populatedRange:l,isPopulated:c,isPending:d,error:u,listTitle:p,titleButtonTitle:h,titleButtonRoute:m,totalSize:v,previewSize:g,viewportWidth:y,viewportHeight:f,contentHeight:b,scrollTop:I,columnAdjustment:S,onPageRequest:M}=e,C=v||r.length,D=null!=g&&C>g?g:C,P=null!=g&&C>g,O=function(e){switch(e){case xc:return Akt;case Ac:return Vkt;case kc:return zkt;case Rc:return Okt;case Lc:return Tkt;default:return kkt}}(o),j=p||GLe(s,C),T=o===Ac||o===kc||o===Lc||o===Rc;return Uu()(fLt,{listType:s,isPopulated:c,isPending:d,error:u,size:D},void 0,j?Uu()(Sfe,{className:Fkt.a.descendantHubCellHeader},void 0,Uu()(Gye,{},void 0,j),P||null!=h?Uu()(Vp,{className:Fkt.a.titleButton,to:m},void 0,h||Object(Ze.default)("See all")):null):null,T?Hkt:null,Uu()(SLt,{contentHeight:b,scrollTop:I},void 0,Uu()(O,{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:n,listType:s,listContext:Tc,keyPropName:"metadataItemEntityID",items:r,itemsOffset:l.start,size:D,viewportWidth:y,viewportHeight:f,columnAdjustment:S,onPageRequest:M})),T?_kt:null)},Wkt=a("sAyO"),Gkt=a.n(Wkt),Ykt=Ed.a.createElement;function Kkt(e){return Ykt(Ike,tp()({className:Gkt.a.extrasHubCell,hubIdentifier:"extras"},e))}Kkt.defaultProps={listType:"extra",listContext:Tc,columnAdjustment:1};var qkt=Kkt;var Zkt=Object(Fu.b)((function(){return Object(_u.a)(_S,ZG(),vne(),(e,t={},a)=>{var i=a.metadataItems.length,r=1===i&&!!t.primaryExtraKey;return{metadataItemEntityIDs:a.metadataItems,containerKey:a.containerKey,size:r?0:i,populatedRange:a.populatedRange}})}))(qkt),Xkt=a.p+"desktop/common/img/vendor-logos/songkick.247f8ed60f8dcedd4ae46adc19b41ac5.svg",Jkt=a("JgKN"),$kt=a.n(Jkt);var eRt=function(e){var{at:t,city:a,country:i,tag:r,url:n,venue:s}=e,o=Object(Xc.a)(t),l=Object(Ky.a)(o,"dd"),c=Object(Ky.a)(o,"MMM");return Uu()(Vp,{className:$kt.a.concert,target:"_blank",to:n},void 0,Uu()("div",{className:$kt.a.concertCalendar},void 0,Uu()("div",{className:$kt.a.concertMonth},void 0,c),Uu()("div",{className:$kt.a.concertDay},void 0,l)),Uu()("div",{className:$kt.a.concertDetails},void 0,Uu()("div",{className:$kt.a.concertTitle},void 0,r),Uu()("div",{className:$kt.a.concertLocation},void 0,s," (",a,", ",i,")")))},tRt=a("pAB4"),aRt=a.n(tRt),iRt=Ed.a.createElement;var rRt=function({concerts:e}){return e&&e.length?Uu()("div",{className:aRt.a.concerts},void 0,Uu()(Sfe,{},void 0,Uu()(Gye,{},void 0,Object(Ze.default)("On Tour"),Uu()("img",{className:aRt.a.concertsLogo,src:Xkt}))),e.map(e=>iRt(eRt,tp()({key:e.id},e)))):null};var nRt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({concerts:e.concerts}))}))(rRt);var sRt=function(e){var{server:t,provider:a,sourceDirectory:i,Country:r,Genre:n}=e,s=!(!r||!r.length),o=!(!n||!n.length);return s||o?Uu()(ANe,{},void 0,s?Uu()(yNe,{},void 0,Uu()(LRe,{server:t,provider:a,sourceDirectory:i,fallbackFilterKey:"country",tags:r,limit:1})):null,o?Uu()(PNe,{},void 0,Uu()(SVe,{server:t,provider:a,sourceDirectory:i,Genre:n})):null):null};var oRt=Object(Fu.b)((function(){return Object(_u.a)(GS,_S,fSe(),ZG(),(e,t,a,i={})=>({server:e,provider:t,sourceDirectory:a,Country:i.Country,Genre:i.Genre}))}))(sRt),lRt=a("YhBC"),cRt=a.n(lRt),dRt=Ed.a.createElement,uRt=Uu()(oLt,{}),pRt=Uu()(rLt,{});var hRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataItemEntityIDs:r,containerKey:n,showArtwork:s,contentHeight:o,scrollTop:l}=e,c=Je()(e,["serverEntityID","providerEntityID","metadataListEntityID","metadataItemEntityIDs","containerKey","showArtwork","contentHeight","scrollTop"]);if(!r||!r.length)return null;var d={serverEntityID:t,providerEntityID:a,metadataListEntityID:i,containerKey:n,listType:"track",listContext:Tc,activeSort:"titleSort",showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0};return(Uu()("div",{className:cRt.a.popularTracksHubCell,"data-qa-id":"hub--popularTracks"},void 0,Uu()(sRe,{},void 0,Uu()(Gye,{},void 0,Object(Ze.default)("Popular Tracks"))),uRt,Uu()(SLt,{showArtwork:s,contentHeight:o,scrollTop:l},void 0,dRt(v$,tp()({layout:bTt,cellRenderer:Gfe(d,zTt),items:r,size:Math.min(r.length,5),keyPropName:"metadataItemEntityID"},c))),pRt))},{Component:mRt}=Ed.a,vRt=Uu()(dRe,{});var gRt=class extends mRt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,extrasMetadataListEntityID:r,popularLeavesMetadataListEntityID:n,metadataKey:s,attribution:o,title:l,type:c,summary:d,thumb:u,art:p,listType:h,listStyle:m,isListReady:v,pageWidth:g,pageHeight:y,scrollTop:f,columnAdjustment:b}=this.props,{isContentMeasured:I,contentWidth:S,contentHeight:M}=this.state,C=!(!I||!n),D=!(!I||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:s,type:c,thumb:u,pageWidth:g,columnAdjustment:b},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(ukt,{attribution:o,title:l}),Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(oRt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),vRt,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(CRe,{},void 0,d))),Uu()(_Lt,{},void 0,C?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:n,component:hRt,showArtwork:!!p,viewportWidth:S,viewportHeight:y,contentHeight:M,scrollTop:f,listStyle:m}):null,D?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:h,listStyle:m,component:Qkt,initialSize:20,showArtwork:!!p,viewportWidth:S,viewportHeight:y,contentHeight:M,scrollTop:f}):null,v?Uu()(sRe,{},void 0,r?Uu()(Zkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:r,title:Object(Ze.default)("Music Videos")}):null,Uu()(nRt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(lkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(vkt,{serverEntityID:e,providerEntityID:t})):null))}},{Component:yRt}=Ed.a,fRt=Uu()(dRe,{});var bRt=class extends yRt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,metadataKey:r,title:n,minYear:s,maxYear:o,type:l,summary:c,thumb:d,art:u,listType:p,listStyle:h,isListReady:m,pageWidth:v,pageHeight:g,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,M=!(!s||!o||s===o),C=!(!o||s!==o),D=!(!b||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:r,type:l,thumb:d,pageWidth:v,columnAdjustment:f},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,n)),Uu()(wNe,{},void 0,M||C?Uu()(yNe,{},void 0,M?s+"  "+o:o):null,Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),fRt,c?Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,c)):null),Uu()(_Lt,{},void 0,D?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:p,listStyle:h,component:Qkt,initialSize:20,showArtwork:!!u,viewportWidth:I,viewportHeight:g,contentHeight:S,scrollTop:y}):null,m?Uu()(sRe,{},void 0,Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}};var IRt=Object(Fu.b)((function(){return Object(_u.a)(Hbe(),e=>({mediaItem:e}))}))(xft);Ed.a.createElement;var SRt=Object(Fu.b)((function(){return Object(_u.a)(_be,Hbe(),sIe(),(e,t,a)=>({beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:a&&a.tag,timeFormat:e}))}))(Aft),MRt=a("8ros"),CRt=a.n(MRt),{Component:DRt}=Ed.a;class PRt extends DRt{constructor(e,t){super(e,t),this.onRecordPress=e=>{this.setState({isSubscribeModalOpen:!0})},this.onSubscribeModalClose=()=>{this.setState({isSubscribeModalOpen:!1})},this.state={isSubscribeModalOpen:e.isSubscribeModalOpen}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i,isSubscribed:r,subscriptionType:n,grandparentSubscriptionType:s}=this.props,{isSubscribeModalOpen:o}=this.state;return Uu()(rT,{"data-qa-id":"preplayRecordButton",className:CRt.a.recordButton,size:jp,onPress:this.onRecordPress},void 0,Uu()(MPe,{className:r?CRt.a.recordingIcon:CRt.a.recordIcon,type:s||n||i}),r?Object(Ze.default)("Recording Scheduled"):Object(Ze.default)("Record"),Uu()(hOe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,isOpen:o,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))}}PRt.defaultProps={isSubscribeModalOpen:!1};var ORt=PRt,jRt=a("H43X"),TRt=a.n(jRt);var wRt=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i,duration:r,contentRating:n,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return Uu()(yNe,{},void 0,Uu()(pSe,{className:TRt.a.duration,duration:r}),Uu()(WUe,{contentRating:n}),c?Uu()(ORt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var ERt=Object(Fu.b)((function(){return Object(_u.a)(_S,ZG(),(e,t={})=>({type:t.type,duration:t.duration,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(wRt),{Fragment:NRt}=Ed.a,xRt=Uu()(dRe,{});var ARt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,summary:s,grandparentThumb:o,pageWidth:l,columnAdjustment:c,record:d}=e;return(Uu()(NRt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,posterType:Wt.o,metadataKey:r,type:n,thumb:o,pageWidth:l,columnAdjustment:c},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,Uu()(ele,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,Uu()(rSe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),Uu()(ANe,{},void 0,Uu()(ERt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,record:d}),Uu()(CVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),xRt,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(IRt,{metadataItemEntityID:i},void 0,Uu()(SRt,{metadataItemEntityID:i,showFullTime:!0,showChannel:!0})),Uu()(CRe,{},void 0,s))),Uu()(sRe,{},void 0,Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(lkt,{serverEntityID:t,providerEntityID:a}))))))},{Fragment:LRt}=Ed.a;var kRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,attributionLogo:n,type:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return(Uu()(LRt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:s,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Uu()(yVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,attributionLogo:n,type:s,summary:o})),Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(vkt,{serverEntityID:t,providerEntityID:a}),Uu()(lkt,{serverEntityID:t,providerEntityID:a})))))},{Fragment:RRt}=Ed.a;var zRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return(Uu()(RRt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Uu()(IVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,summary:o})),Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(lkt,{serverEntityID:t,providerEntityID:a})))))},{Fragment:URt}=Ed.a;var VRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,summary:o,thumb:l,pageWidth:c,columnAdjustment:d}=e;return(Uu()(URt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:n,subtype:s,thumb:l,pageWidth:c,columnAdjustment:d},void 0,Uu()(IVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,summary:o})),Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(lkt,{serverEntityID:t,providerEntityID:a})))))},{Fragment:BRt}=Ed.a,FRt=Uu()(dRe,{});var HRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,title:n,type:s,year:o,summary:l,thumb:c,pageWidth:d,columnAdjustment:u,record:p}=e;return(Uu()(BRt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,type:s,thumb:c,pageWidth:d,columnAdjustment:u},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,n)),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,o)),Uu()(ANe,{},void 0,Uu()(ERt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,record:p}),Uu()(CVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),FRt,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(IRt,{metadataItemEntityID:i},void 0,Uu()(SRt,{metadataItemEntityID:i,showFullTime:!0,showChannel:!0})),Uu()(CRe,{},void 0,l))),Uu()(sRe,{},void 0,Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(lkt,{serverEntityID:t,providerEntityID:a}))))))},{Fragment:_Rt}=Ed.a;var QRt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,extrasMetadataListEntityID:r,metadataKey:n,attributionLogo:s,title:o,type:l,year:c,summary:d,thumb:u,pageWidth:p,columnAdjustment:h,watchlistedAt:m,showGenres:v,showStreams:g}=e;return(Uu()(_Rt,{},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:n,type:l,thumb:u,pageWidth:p,columnAdjustment:h},void 0,Uu()(xVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,extrasMetadataListEntityID:r,attributionLogo:s,title:o,year:c,summary:d,watchlistedAt:m,showGenres:v,showStreams:g})),Uu()(_Lt,{},void 0,Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),r?Uu()(Zkt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,title:Object(Ze.default)("Extras")}):null,Uu()(vkt,{serverEntityID:t,providerEntityID:a}),Uu()(lkt,{serverEntityID:t,providerEntityID:a})))))},{Component:WRt}=Ed.a,GRt=Uu()(dRe,{});var YRt=class extends WRt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,title:r,summary:n,art:s,listType:o,listStyle:l,pageHeight:c,scrollTop:d}=this.props,{isContentMeasured:u,contentWidth:p,contentHeight:h}=this.state,m=!(!u||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,r),Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),GRt,n?Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,n)):null,Uu()(_Lt,{},void 0,m?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:o,listStyle:l,component:Qkt,initialSize:1e3,showArtwork:!!s,viewportWidth:p,viewportHeight:c,contentHeight:h,scrollTop:d}):null))}};function KRt(e,t){switch(e){case tl.e:return 1===t?Object(Ze.default)("1 Video"):Object(Ze.default)("{count} Videos",{count:t});case tl.a:return 1===t?Object(Ze.default)("1 Track"):Object(Ze.default)("{count} Tracks",{count:t});default:return 1===t?Object(Ze.default)("1 Item"):Object(Ze.default)("{count} Items",{count:t})}}var qRt=P$(parseInt(YU.a.playQueueItemHeight,10));function ZRt(){return Object(_u.a)((e,{playlistItemEntityID:t})=>t,RAt,(e,t)=>t[e])}function XRt(){return Object(_u.a)(ZRt(),qG,({metadataItem:e},t)=>t[e])}var JRt=a("J7Rr"),$Rt=a.n(JRt);function ezt(e){var{className:t,indexContainerClassName:a,titlesContainerClassName:i,sourceTextClassName:r,durationContainerClassName:n,attributionContainerClassName:s,serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,cellIndex:d,type:u,subtype:p,title:h,duration:m,context:v,imageWidth:g,imageHeight:y,imageUrl:f,isPlaying:b,isPlayerPaused:I,hasOfflineFile:S,hasOwnSubscription:M,showAvailableOffline:C,source:D,ratingKey:P,onPlayPress:O}=e,j=MMe(u,v,{providerEntityID:l,subtype:p});return Uu()("div",{className:t},void 0,Uu()("div",{className:a},void 0,b?null:Uu()(ZLe,{className:$Rt.a.transientTitleLeft,index:d+1}),b?null:Uu()(kle,{className:$Rt.a.playButton,title:h,onPress:O}),b?Uu()(Cxe,{className:$Rt.a.equalizer,isPaused:I}):null),Uu()("div",{className:$Rt.a.cardContainer},void 0,Uu()(Rne,{className:$Rt.a.card,serverEntityID:o,providerEntityID:l,component:PM,width:g,height:y,url:f},c)),Uu()("div",{className:i,"data-qa-id":"playlistTitleContainer"},void 0,j.map((e,t)=>Uu()(qbe,{serverEntityID:o,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0},t))),C?Uu()("div",{className:s},void 0,Uu()(JOe,{className:$Rt.a.downloadIcon,size:16,arrowSize:16,lineWidth:1.5,source:D,ratingKey:P,hasOfflineFile:S,hasOwnSubscription:M})):null,C?Uu()(qie,{metadataItemEntityID:c,providerEntityID:l}):null,Uu()(xxe,{className:s,textClassName:r,serverEntityID:o,metadataItemEntityID:c}),m?Uu()("div",{className:n},void 0,Uu()(Cke,{className:$Rt.a.transientTitleRight,duration:m})):null)}ezt.defaultProps={className:$Rt.a.container,indexContainerClassName:$Rt.a.indexContainer,titlesContainerClassName:$Rt.a.titlesContainer,durationContainerClassName:$Rt.a.durationContainer,attributionContainerClassName:$Rt.a.attributionContainer};var tzt=ezt;var azt=xG((function(){return Object(_u.a)(ZG(),Hie(),Mke(),e=>e.ui.audioVideoPlayer.isPaused,(e={},t,a,i)=>{var r=oie(jM(e.type,e.subtype,"playlist")===16/9?64:36,null,e.type,e.subtype,e,"playlist"),n=!(!e.ratingKey||!t)&&be.a.allowSyncDownload;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:"playlist",imageWidth:r.width,imageHeight:r.height,imageUrl:r.url,isPlaying:a,isPlayerPaused:i,source:t,title:e.title,hasOfflineFile:Zie(e),hasOwnSubscription:Xie(e),showAvailableOffline:n}})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Object(Cw.p)(Object.assign({},a,{playlistMetadataItemEntityID:t.metadataListEntityID})))}}}))(tzt),izt=a("vtAB"),rzt=a.n(izt),{Component:nzt}=Ed.a;class szt extends nzt{constructor(e,t){super(e,t),this.onActionsMenuOpenChange=e=>{this.setState({isActionsMenuOpen:e})},this.state={isActionsMenuOpen:!1}}render(){var{serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:i,metadataItemEntityID:r,metadataListEntityID:n,metadataKey:s,listType:o,title:l,isSmart:c,isReadOnly:d,isSelected:u,isEmbeddedServer:p,hasActiveSelection:h,isOtherItemSelected:m,isModifierKeyPressed:v,cellIndex:g,isDragging:y,connectDragSource:f,onRemovePress:b,onSelectPress:I,onDeselectPress:S}=this.props,M=!(c||d||p),C=M&&(v||m),D=h?"-1":"0";return Uu()("div",{className:((g%2?rzt.a.alternateContainer:rzt.a.container)||"")+" "+(h&&rzt.a.hasActiveSelection||"")+" "+(C&&rzt.a.isForcingSelection||"")+" "+(u&&rzt.a.isSelected||"")+" "+(y&&rzt.a.isItemDragging||"")},void 0,M?Uu()(Vp,{className:rzt.a.underlay,"aria-label":u?Object(Ze.default)("Deselect {title}",{title:l}):Object(Ze.default)("Select {title}",{title:l}),tabIndex:h?"0":"-1",onPress:u?S:I}):null,Uu()("div",{className:rzt.a.overlay,"data-qa-id":"playlistItem"},void 0,M?f(Uu()("div",{className:rzt.a.moveControl,"data-qa-id":"playlistReorderItem"},void 0,Uu()(Pxe,{className:rzt.a.grabIcon}))):null,Uu()(azt,{className:rzt.a.metadataContainer,sourceTextClassName:rzt.a.sourceText,durationContainerClassName:rzt.a.metadataDurationContainer,attributionContainerClassName:rzt.a.attributionContainer,serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:i,metadataItemEntityID:r,metadataListEntityID:n,metadataKey:s,listType:o,cellIndex:g}),Uu()("div",{className:rzt.a.otherControls},void 0,M?Uu()(zU,{className:rzt.a.selectButton,title:l,isSelected:u,onPress:u?S:I}):null,Uu()(Xoe,{"data-qa-id":"metadataRowMoreButton",className:rzt.a.moreButton,tabIndex:D,serverEntityID:e,itemServerEntityID:t,providerEntityID:a,itemProviderEntityID:i,metadataItemEntityID:r,containerKey:s,listType:o,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),M?Uu()(KG,{className:rzt.a.removeButton,"data-qa-id":"playlistRemoveButton",iconComponent:DI,title:Object(Ze.default)("Remove"),kind:Pp,onPress:b}):null)))}}szt.defaultProps={isDragging:!1,connectDragSource:e=>e};var ozt=szt;var lzt=Object(Fu.b)((function(e,t){return Object(_u.a)((e,{playlistItemEntityID:t})=>t,ZRt(),XRt(),Fat(),RLe,gne,(e,{playlistItemID:t},a,i,r,n)=>({itemServerEntityID:a.serverEntityID,itemProviderEntityID:a.providerEntityID,metadataItemEntityID:a.entityID,metadataKey:a.key,title:a.title,selectionID:e,selectionType:a.type,activeSelectionType:n.activeSelectionType,isSelected:ULe(r,t),isEmbeddedServer:i}))}),(function(e,t){var a={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem(t){e(_At(t))},onDeselectItem(t){e(QAt(t))},onRemovePress(){e(GAt(a))}}}))(AOe(ozt)),czt=a("EykR"),dzt=a.n(czt),uzt=Ed.a.createElement,{Component:pzt}=Ed.a;var hzt=Object(axe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}}))(class extends pzt{shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{item:e,itemType:t,currentOffset:a}=this.props;if(!a||"PLAYLIST_ITEM"!==t)return null;var i=y2e(a,e.viewportWidth);return(Uu()(mxe,{},void 0,Uu()("div",{className:dzt.a.dragPreview,style:i},void 0,uzt(lzt,tp()({isDragging:!0},e)))))}}),mzt=a("FjM4"),vzt=a.n(mzt),gzt=Ed.a.createElement,{Component:yzt}=Ed.a,fzt={beginDrag(e){var{providerEntityID:t,serverEntityID:a,metadataListEntityID:i,playlistItemEntityID:r,cellIndex:n,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}=e;return{providerEntityID:t,serverEntityID:a,metadataListEntityID:i,playlistItemEntityID:r,cellIndex:n,isSmart:s,isReadOnly:o,listType:l,viewportWidth:c}},endDrag(e,t,a){e.onItemDragEnd(t.getItem(),t.didDrop())}},bzt={hover(e,t,a){var i=Object(Vu.findDOMNode)(a).getBoundingClientRect(),r=(i.bottom-i.top)/2,n=t.getClientOffset().y-i.top,s=e.cellIndex,o=n>r?s+1:s;e.onItemDragMove(o)}};var Izt=Object(axe.DropTarget)("PLAYLIST_ITEM",bzt,(function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}))(Object(axe.DragSource)("PLAYLIST_ITEM",fzt,(function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}))(class extends yzt{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{moveIndex:e,cellIndex:t,isOver:a,isDragging:i,connectDropTarget:r}=this.props,n=a&&e===t,s=a&&e===t+1;return r(Uu()("div",{className:(vzt.a.container||"")+" "+(i?"isDragging":"")+" "+(n&&a?"isDraggingBefore":"")+" "+(s&&a?"isDraggingAfter":"")},void 0,gzt(lzt,this.props)))}})),Szt=a("yb7Q"),Mzt=a.n(Szt);var Czt=function(e){return Uu()("div",{className:e.cellIndex%2?Mzt.a.alternateContainer:Mzt.a.container},void 0,Object(Ze.default)("Loading..."))},Dzt=Ed.a.createElement,{memo:Pzt}=Ed.a;var Ozt=Pzt((function(e){var{cellIndex:t,playlistItemEntityID:a,isSmart:i,isReadOnly:r}=e,n=Je()(e,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),s=N$(e),o=i||r?lzt:Izt;return Uu()("div",{style:s.style},void 0,a?Dzt(o,tp()({playlistItemEntityID:a,cellIndex:t,isSmart:i,isReadOnly:r},n)):Uu()(Czt,{cellIndex:t}))})),jzt=a("6GOp"),Tzt=a.n(jzt),wzt=Ed.a.createElement,{Component:Ezt}=Ed.a,Nzt=Uu()(oLt,{}),xzt=Uu()(rLt,{});var Azt=nxe(class extends Ezt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{var{moveIndex:a}=this.state;t&&null!=a&&Object(wa.a)(()=>{this.props.dispatchMovePlaylistItem(Object.assign({},e,{moveIndex:a}))}),this.setState({moveIndex:null})},this.state={moveIndex:null}}_getItemCountLabel(){return KRt(this.props.playlistType,this.props.size)}render(){var e=this.props,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:r,playlistType:n,contentWidth:s,contentHeight:o,scrollTop:l,items:c,isSmart:d,isReadOnly:u,size:p,duration:h,onEditFilters:m}=e,v=Je()(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration","onEditFilters"]),g={serverEntityID:t,providerEntityID:a,metadataListEntityID:i,metadataKey:r,listType:n,activeSort:"titleSort",isSmart:d,isReadOnly:u,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};if(0===p)return Uu()("div",{},void 0,n===tl.e?Object(Ze.default)("This playlist has no videos."):Object(Ze.default)("This playlist has no tracks."));var y=d&&!u;return(Uu()("div",{},void 0,Uu()(Sfe,{className:Tzt.a.header},void 0,Uu()(Gye,{},void 0,this._getItemCountLabel(),y?Uu()(Vp,{className:Tzt.a.editLink,kind:Dp,onPress:m},void 0,Object(Ze.default)("Edit filters")):null),h?Uu()("span",{className:Tzt.a.durationTitle},void 0,Ym(h)):null),Nzt,wzt(v$,tp()({layout:qRt,containerKey:r,keyPropName:"playlistItemEntityID",cellRenderer:Gfe(g,Ozt),items:c,size:p,viewportWidth:s,viewportHeight:o,scrollTop:l,firstItemType:n,listType:n,moveIndex:this.state.moveIndex},v)),xzt,d||u?null:Uu()(hzt,{serverEntityID:t,providerEntityID:a})))}}),Lzt=Ed.a.createElement,{Component:kzt}=Ed.a;var Rzt=nxe(class extends kzt{constructor(e,t){super(e,t),this.onItemDragMove=e=>{e!==this.state.moveIndex&&this.setState({moveIndex:e})},this.onItemDragEnd=(e,t)=>{var{moveIndex:a}=this.state;t&&null!==a&&this.props.onItemDropped(Object.assign({},e,{moveIndex:a})),this.setState({moveIndex:null})},this.state={moveIndex:null}}render(){var e=this.props,{showPreview:t,createCellRenderer:a,listComponent:i,previewComponent:r}=e,n=Je()(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),s={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return Lzt(i,tp()({moveIndex:this.state.moveIndex,cellRenderer:a(s)},n),t?Lzt(r,n):null)}}),zzt=a("9leU"),Uzt=a.n(zzt),{Component:Vzt}=Ed.a,Bzt=Uu()(cM,{});class Fzt extends Vzt{constructor(...e){super(...e),this.onPlayPress=()=>{this.props.onPlayPress(this.props.metadataItemEntityID)},this.onEditPress=()=>{this.props.onEditPress(this.props.metadataItemEntityID)}}render(){var{serverEntityID:e,providerEntityID:t,itemServerEntityID:a,itemProviderEntityID:i,metadataItemEntityID:r,playlistItemID:n,metadataKey:s,type:o,thumb:l,title:c,width:d,height:u,hasActiveSelection:p,isSelected:h,isOtherItemSelected:m,isModifierKeyPressed:v,isDragging:g,isSmart:y,isExternal:f,canDrag:b,connectDragSource:I,onSelectPress:S,onDeselectPress:M,onRemovePress:C}=this.props,D=o===Wt.d,P=!s;return I(Uu()("div",{className:Uzt.a.photoContainer},void 0,Uu()("div",{className:(Uzt.a.photo||"")+" "+(h&&Uzt.a.isSelected||"")},void 0,Uu()("div",{className:Uzt.a.image},void 0,P?null:Uu()(Rne,{serverEntityID:a,providerEntityID:i,component:PM,url:l,width:d,height:u},n||s),Uu()(Dje,{serverEntityID:e,providerEntityID:t,itemServerEntityID:a,itemProviderEntityID:i,metadataItemEntityID:r,title:c,showPlay:!0,showEdit:!f,showSelect:!y,showRemove:!y,hasActiveSelection:p,isSelected:h,isOtherItemSelected:m,isModifierKeyPressed:v,isDragging:g,canDrag:b,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:S,onDeselectPress:M,onRemovePress:C}),D?Uu()("div",{className:Uzt.a.badge},void 0,Bzt):null))))}}Fzt.defaultProps={connectDragSource:e=>e};var Hzt=Fzt,_zt=Ed.a.createElement,{Component:Qzt}=Ed.a;function Wzt(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function Gzt(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}class Yzt extends Qzt{componentDidMount(){this.props.connectDragPreview(Object(ixe.getEmptyImage)())}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e=this.props,{dragClassName:t,indexPropName:a,moveIndex:i,isDragging:r,isOver:n,connectDropTarget:s,connectDragSource:o,itemComponent:l}=e,c=Je()(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),d=this.props[a],u=n&&i===d,p=n&&i===d+1;return s(Uu()("div",{className:(t||"")+" "+(r?"isDragging":"")+" "+(u&&n?"isDraggingBefore":"")+" "+(p&&n?"isDraggingAfter":"")},void 0,_zt(l,tp()({connectDragSource:o,canDrag:!0,isDragging:r},c))))}}var Kzt=a("Hr1X"),qzt=function({itemComponent:e,dragClassName:t,dragType:a,direction:i="VERTICAL",idAttribute:r,indexPropName:n}){return Object(axe.DropTarget)(a,function({direction:e,indexPropName:t}){return{hover(a,i,r){var n=Object(Vu.findDOMNode)(r).getBoundingClientRect(),s=(n.right-n.left)/2,o=(n.bottom-n.top)/2,l=i.getClientOffset(),c=l.x-n.left,d=l.y-n.top,u=a[t],p=("VERTICAL"===e?d>o:c>s)?u+1:u;a.onItemDragMove(p)}}}({direction:i,indexPropName:n}),Gzt)(Object(axe.DragSource)(a,function({idAttribute:e}){return{beginDrag:t=>({[e]:t[e]}),endDrag(e,t,a){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:r}),Wzt)((s={itemComponent:e,indexPropName:n,dragClassName:t},e=>_zt(Yzt,tp()({},s,e)))));var s}({itemComponent:Hzt,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:a.n(Kzt).a.draggable}),Zzt=Ed.a.createElement,Xzt=parseInt(YU.a.mosaicCellPadding,10);var Jzt=function(e){var{cellWidth:t,cellHeight:a,isSmart:i}=e,r=Je()(e,["cellX","cellY","cellWidth","cellHeight","isSmart"]),n=N$(e),s=i?Hzt:qzt,o=t-2*Xzt,l=a-2*Xzt;return Uu()("div",{style:n.style},void 0,Zzt(s,tp()({width:o,height:l,isSmart:i},r)))};var $zt=xG((function(){return Object(_u.a)((e,{playlistItemEntityID:t})=>t,ZRt(),XRt(),RLe,gne,(e,{playlistItemID:t},a={},i,r)=>{var{serverEntityID:n,providerEntityID:s,entityID:o,key:l,source:c,type:d,thumb:u,title:p}=a;return{listType:tl.c,playlistItemID:t,itemServerEntityID:n,itemProviderEntityID:s,metadataItemEntityID:o,metadataKey:l,isExternal:!!c,type:d,thumb:u,title:p,selectionID:e,selectionType:tl.c,activeSelectionType:r.activeSelectionType,isSelected:ULe(i,t)}})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(i){e(Object(Cw.p)(Object.assign({},a,{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:i})))},onEditPress(t){e(xae(Object.assign({},a,{metadataItemEntityID:t})))},onRemovePress(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}}))(AOe(Jzt));var eUt=Object(Fu.b)(null,(function(e){return{onSelectItem(t){e(_At(t))},onDeselectItem(t){e(QAt(t))},onRemoveItem(t){e(GAt(t))}}}))($zt);var tUt=function(e){var{width:t,height:a}=e;return(Uu()(YS,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:a,component:QI}))};var aUt=Object(Fu.b)((function(){return Object(_u.a)((e,{playlistItemEntityID:t})=>t,RAt,qG,(e,t,a)=>{var i=a[t[e].metadataItem],r=Math.min(Math.max(OIt(i),.5),2),n=r>1;return{width:n?100*r:100,height:n?100:100/r,thumb:i.thumb}})}))(tUt),iUt=a("EzYn"),rUt=a.n(iUt),{Component:nUt}=Ed.a;var sUt=Object(axe.DragLayer)((function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}}))(class extends nUt{render(){var{item:e,currentOffset:t,serverEntityID:a}=this.props;if(!t||!e)return null;var i=Object.assign({},y2e(t),{display:"inline-block",width:"auto"});return(Uu()(mxe,{},void 0,Uu()("div",{className:rUt.a.dragPreview,style:i},void 0,Uu()(aUt,{serverEntityID:a,playlistItemEntityID:e.playlistItemEntityID}))))}}),oUt=Ed.a.createElement,{Component:lUt}=Ed.a;var cUt=class extends lUt{constructor(...e){super(...e),this.createCellRenderer=e=>{var{serverEntityID:t,providerEntityID:a,playlistMetadataItemEntityID:i,playlistRatingKey:r,isSmart:n,listType:s}=this.props;return Gfe(Object.assign({serverEntityID:t,providerEntityID:a,playlistMetadataItemEntityID:i,ratingKey:r,listType:s,isSmart:n},e),eUt)}}render(){var e=this.props,{isSmart:t,onItemDropped:a}=e,i=Je()(e,["isSmart","onItemDropped"]);return(oUt(Rzt,tp()({showPreview:!t,listComponent:xkt,previewComponent:sUt,createCellRenderer:this.createCellRenderer,onItemDropped:a},i)))}};var dUt={onItemDropped:WAt},uUt=Object(Fu.b)((function(){return Object(_u.a)((e,{items:t})=>t,(e,{serverEntityID:t})=>t,(e,{providerEntityID:t})=>t,ZG(),RAt,qG,(e=[],t,a,i,r,n)=>{var s=e.map(e=>{var t=r[e];return OIt(n[t.metadataItem])});return{listType:i.playlistType,aspectRatios:s,playlistMetadataItemEntityID:i.entityID,playlistRatingKey:i.ratingKey,isSmart:!!i.smart,isReadOnly:!!i.readOnly}})}),dUt)(cUt),pUt=a("p1pj"),hUt=a.n(pUt),mUt=Ed.a.createElement,vUt=Uu()(Xh,{});var gUt=function(e){var{contentHeight:t,scrollTop:a,showArtwork:i,showSpinner:r,showError:n,listType:s,isEmpty:o}=e,l=Je()(e,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return r?Uu()("div",{className:hUt.a.emptyContainer},void 0,vUt):n?Uu()("div",{className:hUt.a.emptyMessage},void 0,Object(Ze.default)("Unable to load items")):o?Uu()("div",{className:hUt.a.emptyMessage},void 0,s===tl.c?Object(Ze.default)("There are no items in this album"):Object(Ze.default)("There are no items in this playlist")):Uu()(SLt,{showArtwork:i,contentHeight:t,scrollTop:a},void 0,s===tl.c?mUt(uUt,l):mUt(Azt,l))},yUt=Ed.a.createElement,{Component:fUt}=Ed.a;var bUt={dispatchInitPlaylistItemList:UAt,dispatchResetPlaylistItemList:VAt,dispatchPopulatePlaylistItemRange:FAt,dispatchDeselectAllPlaylistItems:QN,dispatchMovePlaylistItem:WAt,dispatchModifySmartPlaylist:tie};var IUt=Object(Fu.b)((function(e,t){return Object(_u.a)(e=>e.ui.playlistPage,ZG(),cie,(e,t,a)=>{var{serverEntityID:i,providerEntityID:r,metadataKey:n,playlistItemList:s={},isPlaylistItemListPending:o,isPlaylistItemListPopulated:l,playlistItemListError:c}=e,{ratingKey:d,playlistType:u,smart:p,readOnly:h,duration:m}=t,{metadataItems:v=[],populatedRange:g={},totalSize:y}=s;return{serverEntityID:i,providerEntityID:r,metadataKey:n,ratingKey:d,providerIdentifier:a.identifier,listType:u,keyPropName:"playlistItemEntityID",isSmart:!!p,isReadOnly:!!h,populatedRange:g,items:v,size:y,itemsOffset:g.start,duration:m,isEmpty:l&&!y,showArtwork:!1,showSpinner:o&&!l,showError:c}})}),bUt)(class extends fUt{constructor(...e){super(...e),this.onPageRequest=({startIndex:e,endIndex:t})=>{var a=jt.k(this.props.providerIdentifier,jt.f);this.props.dispatchPopulatePlaylistItemRange({pages:a?1:void 0,startIndex:e,endIndex:t})},this.onEditFilters=()=>{this.props.dispatchModifySmartPlaylist({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,metadataItemEntityID:this.props.metadataItemEntityID})}}componentDidMount(){this._populate()}componentDidUpdate(e){this.props.metadataKey!==e.metadataKey&&this._populate()}componentWillUnmount(){this.props.dispatchDeselectAllPlaylistItems(),this.props.dispatchResetPlaylistItemList()}_populate(){var{serverEntityID:e,providerEntityID:t,metadataKey:a,providerIdentifier:i,dispatchInitPlaylistItemList:r,dispatchPopulatePlaylistItemRange:n}=this.props;r({serverEntityID:e,providerEntityID:t,metadataKey:a}),n({pages:jt.k(i,jt.f)?1:void 0,startIndex:0,endIndex:39})}render(){var e=this.props,t=Je()(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems","dispatchModifySmartPlaylist"]);return(yUt(gUt,tp()({},t,{onEditFilters:this.onEditFilters,onPageRequest:this.onPageRequest})))}}),{Component:SUt}=Ed.a,MUt=Uu()(dRe,{});var CUt=class extends SUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:i,title:r,type:n,playlistType:s,summary:o,composite:l,thumb:c,pageWidth:d,pageHeight:u,scrollTop:p,columnAdjustment:h}=this.props,{contentWidth:m,contentHeight:v,isContentMeasured:g}=this.state;return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,showPoster:s!==tl.c,metadataKey:i,type:n,thumb:c||l,pageWidth:d,columnAdjustment:h},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,r)),MUt,o?Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,o)):null),Uu()(_Lt,{},void 0,g?Uu()(IUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,playlistType:s,contentHeight:v,viewportWidth:m,viewportHeight:u,scrollTop:p}):null))}},{Component:DUt}=Ed.a,PUt=Uu()(dRe,{});var OUt=class extends DUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,metadataKey:r,attributionLogo:n,title:s,type:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:h,pageHeight:m,scrollTop:v,columnAdjustment:g}=this.props,{isContentMeasured:y,contentWidth:f,contentHeight:b}=this.state,I=!(!y||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:r,type:o,thumb:c,pageWidth:h,columnAdjustment:g},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,Uu()(ale,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(PNe,{},void 0,Uu()(ERe,{attributionLogo:n}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,s),Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),PUt,l?Uu()(sRe,{},void 0,Uu()(CRe,{},void 0,l)):null),Uu()(_Lt,{},void 0,I?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:d,listStyle:u,component:Qkt,initialSize:20,viewportWidth:f,viewportHeight:m,contentHeight:b,scrollTop:v}):null,p?Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(vkt,{serverEntityID:e,providerEntityID:t}),Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}},jUt=a("YZZ6"),TUt=a.n(jUt);var wUt=function({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,type:i,leafCount:r,contentRating:n,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,showRecord:c,record:d}){return Uu()(yNe,{},void 0,Uu()(Sle,{className:TUt.a.episodeCount,leafCount:r}),Uu()(WUe,{contentRating:n}),c?Uu()(ORt,{serverEntityID:e,metadataItemEntityID:a,providerEntityID:t,type:i,isSubscribed:s,subscriptionType:o,grandparentSubscriptionType:l,isSubscribeModalOpen:d}):null)};var EUt=Object(Fu.b)((function(){return Object(_u.a)(_S,ZG(),(e,t={})=>({type:t.type,leafCount:t.leafCount,contentRating:t.contentRating,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}))}))(wUt),{Component:NUt}=Ed.a,xUt=Uu()(dRe,{});var AUt=class extends NUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,metadataKey:r,title:n,type:s,year:o,summary:l,thumb:c,listType:d,listStyle:u,isListReady:p,pageWidth:h,pageHeight:m,scrollTop:v,columnAdjustment:g,record:y}=this.props,{isContentMeasured:f,contentWidth:b,contentHeight:I}=this.state,S=!(!f||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:r,type:s,thumb:c,pageWidth:h,columnAdjustment:g},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,n)),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,o)),Uu()(ANe,{},void 0,Uu()(EUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,record:y}),Uu()(CVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),xUt,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(CRe,{},void 0,l))),Uu()(_Lt,{},void 0,S?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:d,listStyle:u,component:Qkt,initialSize:20,viewportWidth:b,viewportHeight:m,contentHeight:I,scrollTop:v}):null,p?Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}},LUt=a("ld10"),kUt=a.n(LUt);function RUt(e){var{className:t,kind:a,size:i,saved:r,providerIdentifier:n,subtype:s,onPress:o}=e;return(Uu()(rT,{className:t,kind:a,size:i,onPress:o},void 0,r?Uu()(ey,{className:kUt.a.iconSaved}):null,function(e,t,a){return a===OM.c?e?Object(Ze.default)("In My Podcasts"):Object(Ze.default)("Add to My Podcasts"):a===OM.d?e?Object(Ze.default)("In My Shows"):Object(Ze.default)("Add to My Shows"):jt.k(t,jt.f)?e?Object(Ze.default)("In My TIDAL"):Object(Ze.default)("Add to My TIDAL"):e?Object(Ze.default)("In My Shows"):Object(Ze.default)("Add to My Shows")}(r,n,s)))}RUt.defaultProps={kind:Op,size:wp};var zUt=RUt;var UUt=Object(Fu.b)((function(){return Object(_u.a)(cie,ZG(),(e,t)=>({providerIdentifier:e.identifier,saved:t.saved,subtype:t.subtype}))}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(t){e(Object(Z8.i)(a))}}}))(zUt);var VUt=function({leafCount:e}){return Uu()(yNe,{},void 0,Uu()(Sle,{leafCount:e}))};var BUt=Object(Fu.b)((function(){return Object(_u.a)(ZG(),(e={})=>({leafCount:e.leafCount}))}))(VUt),FUt=a("S1st"),HUt=a.n(FUt),{Component:_Ut}=Ed.a,QUt=Uu()(dRe,{});var WUt=class extends _Ut{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var e,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,metadataKey:n,title:s,type:o,subtype:l,summary:c,showAddToSaved:d,thumb:u,allEpisodes:p,listType:h,listStyle:m,isListReady:v,pageHeight:g,pageWidth:y,scrollTop:f,columnAdjustment:b,isEmbeddedServer:I}=this.props,{isContentMeasured:S,contentWidth:M,contentHeight:C}=this.state,D=!(!S||!r);return D&&I?e=p?Object(Ze.default)("All Downloaded Episodes"):Object(Ze.default)("Recent Downloaded Episodes"):D&&(e=p?Object(Ze.default)("All Episodes"):Object(Ze.default)("Recent Episodes")),Uu()(p$,{className:HUt.a.container,ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataKey:n,type:o,subtype:l,thumb:u,pageWidth:y,columnAdjustment:b},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,s)),Uu()(ANe,{},void 0,Uu()(BUt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(CVe,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}))),QUt,Uu()(sRe,{},void 0,Uu()(CRe,{dangerouslySetInnerHTML:{__html:c}}),d?Uu()(UUt,{className:HUt.a.addToSavedButton,serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}):null)),Uu()(_Lt,{},void 0,D?Uu()(Mne,{serverEntityID:t,providerEntityID:a,metadataListEntityID:r,listType:h,listStyle:m,component:Qkt,initialSize:20,previewSize:p?null:3,listTitle:e,titleButtonTitle:p?Object(Ze.default)("See Recent Episodes"):Object(Ze.default)("See All Episodes"),titleButtonRoute:_.join(window.location.hash,{allEpisodes:p?void 0:1},{parseParams:!0}),viewportWidth:M,viewportHeight:g,contentHeight:C,scrollTop:f}):null,v?Uu()(sRe,{},void 0,Uu()(lkt,{serverEntityID:t,providerEntityID:a})):null))}},{Component:GUt}=Ed.a,YUt=Uu()($y,{}),KUt=Uu()(dRe,{});var qUt=class extends GUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,onDeckMetadataItemEntityID:r,extrasMetadataListEntityID:n,metadataKey:s,attributionLogo:o,title:l,type:c,year:d,contentRating:u,summary:p,thumb:h,listType:m,listStyle:v,isListReady:g,pageWidth:y,pageHeight:f,scrollTop:b,columnAdjustment:I,watchlistedAt:S}=this.props,{isContentMeasured:M,contentWidth:C,contentHeight:D}=this.state,P=!(!M||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:s,type:c,thumb:h,pageWidth:y,columnAdjustment:I},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,l),Uu()(PNe,{},void 0,Uu()(ERe,{attributionLogo:o}),Uu()(TVe,{watchlistedAt:S}))),Uu()(wNe,{},void 0,Uu()(yNe,{},void 0,d),Uu()(UUe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(ANe,{},void 0,Uu()(yNe,{},void 0,Uu()(iVe,{},void 0,r?Uu()("span",{},void 0,Object(Ze.default)("On Deck")," ",YUt,Uu()(vSe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:r})):Uu()(WIe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a})),Uu()(WUe,{contentRating:u})),Uu()(CVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),KUt,Uu()(sRe,{},void 0,Uu()(WRe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(CRe,{},void 0,p))),Uu()(_Lt,{},void 0,P?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:m,listStyle:v,component:Qkt,initialSize:20,viewportWidth:C,viewportHeight:f,contentHeight:D,scrollTop:b}):null,g?Uu()(sRe,{},void 0,Uu()(tkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),n?Uu()(Zkt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:n,title:Object(Ze.default)("Extras")}):null,Uu()(vkt,{serverEntityID:e,providerEntityID:t}),Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}},{Component:ZUt}=Ed.a,XUt=Uu()(dRe,{});var JUt=class extends ZUt{constructor(e,t){super(e,t),this.onContentMeasure=({width:e,height:t})=>{this.setState({isContentMeasured:!0,contentWidth:e,contentHeight:t})},this.state={isContentMeasured:!1,contentWidth:null,contentHeight:null}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,metadataKey:r,title:n,type:s,subtype:o,summary:l,showAddToSaved:c,thumb:d,allEpisodes:u,listType:p,listStyle:h,isListReady:m,pageWidth:v,pageHeight:g,scrollTop:y,columnAdjustment:f}=this.props,{isContentMeasured:b,contentWidth:I,contentHeight:S}=this.state,M=!(!b||!i);return Uu()(p$,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,Uu()(ULt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataKey:r,type:s,subtype:o,thumb:d,pageWidth:v,columnAdjustment:f},void 0,Uu()(sRe,{},void 0,Uu()(SNe,{},void 0,Uu()(yNe,{},void 0,n)),Uu()(ANe,{},void 0,Uu()(BUt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),Uu()(CVe,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}))),XUt,Uu()(sRe,{},void 0,Uu()(CRe,{dangerouslySetInnerHTML:{__html:l}}),c?Uu()(UUt,{className:HUt.a.addToSavedButton,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}):null)),Uu()(_Lt,{},void 0,M?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,listType:p,listStyle:h,component:Qkt,initialSize:20,previewSize:u?null:3,listTitle:u?Object(Ze.default)("All Episodes"):Object(Ze.default)("Recent Episodes"),titleButtonTitle:u?Object(Ze.default)("See Recent Episodes"):Object(Ze.default)("See All Episodes"),titleButtonRoute:_.join(window.location.hash,{allEpisodes:u?void 0:1},{parseParams:!0}),viewportWidth:I,viewportHeight:g,contentHeight:S,scrollTop:y}):null,m?Uu()(sRe,{},void 0,Uu()(lkt,{serverEntityID:e,providerEntityID:t})):null))}},$Ut=Ed.a.createElement,{Component:eVt}=Ed.a,tVt={movie:QRt,show:qUt,season:OUt,episode:kRt,artist:gRt,album:mkt,photoalbum:YRt,clip:QRt,playlist:CUt,collection:bRt,game:QRt},aVt={podcast:{show:WUt,track:zRt},webshow:{show:JUt,episode:VRt}},iVt={movie:HRt,show:AUt,episode:ARt};var rVt=Jnt(class extends eVt{componentDidMount(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl,!!this.props.art),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()}componentDidUpdate(e){var{librarySectionID:t,providerIdentifier:a,backgroundImageUrl:i,art:r,theme:n,isRemotePlayer:s,onLibraryChange:o,onBackgroundChange:l,onThemeMusicChange:c,onMirrorDetails:d}=this.props;t!==e.librarySectionID&&o(a,t),e.backgroundImageUrl!==i&&l(i,!!r),e.theme!==n&&c(n),!e.isRemotePlayer&&s&&d()}componentWillUnmount(){this.props.onLibraryChange(null,null)}render(){var e=this.props,{providerIdentifier:t,providerMetricsIdentifier:a,type:i,subtype:r,art:n,listStyle:s}=e,o=Je()(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"]),l=function(e,t,a){if(!e)return eLt;var i=jt.k(a,jt.c),r=aVt[t],n=(i?iVt:tVt)[e];return r&&r[e]||n||tLt}(i,r,t),c=i===Wt.h;return Uu()($At,{identifier:a,type:i,style:s,showArtwork:!!n},void 0,$Ut(l,tp()({type:i,subtype:r,art:n,listStyle:s,showGenres:!c,showStreams:!c},o)))}},(function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}}),(function(e,t){e(qRe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))})),nVt=xG((function(){return Object(_u.a)(uw,_S,ZG(),Object(_u.a)(ZG(),e=>{if(e&&e.childrenKey){var t=e.key,a=e.skipChildren?"grandchildren":"children";return _.join([t,a])}}),qAt,KAt,XCt,ZAt(),Object(_u.a)(vne(),e=>!(!e||!e.isPopulated)),Qwe,Fat(),(e,t,a,i,r,n,s,o,l,c,d)=>{var{type:u,subtype:p}=a,h=sie(u,p,a,Tc),m=h||a.thumb||a.parentThumb||a.grandparentThumb,v=a.grandparentArt||a.parentArt||a.art,g=a.grandparentTheme||a.parentTheme||a.theme,y=r?v||m:m||v,f=$wt(s,Tc,o,a.subtype,t),b=mw(e,t.features.actions.save);return{librarySectionID:a.librarySectionID,providerIdentifier:t.identifier,providerMetricsIdentifier:t.metricsIdentifier,metadataKey:a.key,descendantKey:i,attribution:a.attribution,attributionLogo:a.attributionLogo,title:a.title,type:a.type,subtype:a.subtype,year:a.year,contentRating:a.contentRating,minYear:a.minYear,maxYear:a.maxYear,summary:a.summary,showAddToSaved:b&&null!=a.saved,thumb:h,parentThumb:a.parentThumb,grandparentThumb:a.grandparentThumb,composite:a.composite,art:r?v:void 0,theme:n?g:void 0,backgroundImageUrl:y,playlistType:a.playlistType,isListReady:l,onDeckMetadataItemEntityID:a.onDeck,extrasMetadataListEntityID:a.extras,popularLeavesMetadataListEntityID:a.popularLeaves,listType:o,listStyle:f,isRemotePlayer:c,isEmbeddedServer:d,watchlistedAt:a.watchlistedAt}})}),(function(e,t){return{onLibraryChange(a,i){var r;t.sourceDirectory&&(r=t.sourceDirectory.id),!r&&i&&(r=i),e(uee({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:a,directoryID:r}))},onBackgroundChange(a,i){e(gQ({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:a,allowBlur:!i}))},onThemeMusicChange(a){e(yQ({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:a}))},onMirrorDetails(){e(d9({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}}))(rVt),sVt=a("3B9w"),oVt=a.n(sVt),{Component:lVt}=Ed.a;var cVt=class extends lVt{constructor(e,t){super(e,t),this.onScrollPositionChange=({scrollTop:e})=>{this.setState({scrollTop:e})},this.onContentMeasure=({width:e,height:t,y:a})=>{(e||t)&&this.setState({isMeasured:!0,pageWidth:e,pageHeight:t,pageY:a})},this.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0}}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,columnAdjustment:r,record:n,allEpisodes:s}=this.props,{scrollTop:o,isMeasured:l,pageWidth:c,pageHeight:d,pageY:u}=this.state;return Uu()(p$,{className:oVt.a.prePlayPageContentContainer,onMeasure:this.onContentMeasure},void 0,Uu()(a3e,{className:oVt.a.prePlayPageContent,scrollTop:o,onScrollPositionChange:this.onScrollPositionChange},void 0,l?Uu()(nVt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i,pageWidth:c,pageHeight:d,pageY:u,scrollTop:o,columnAdjustment:r,record:n,allEpisodes:s}):null))}};var dVt=Ed.a.createElement,{Component:uVt}=Ed.a;var pVt=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,GS,_S,ZG(),(e,t,a,i={})=>{var r={legacy:1};return e&&(r.context=e),{to:lu(t,a,i.key,r),isDisabled:!i.key}})}),{dispatchPreFetch:JRe})(class extends uVt{componentDidMount(){this._preFetch()}componentDidUpdate(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()}_preFetch(){var{metadataItemEntityID:e,isDisabled:t,dispatchPreFetch:a}=this.props;t||a({metadataItemEntityID:e})}render(){var e=this.props,t=Je()(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]);return(dVt(oJ,t))}}),hVt=Uu()(_Ne,{}),mVt=Uu()(FNe,{});var vVt=function({serverEntityID:e,providerEntityID:t,previousMetadataItemEntityID:a,nextMetadataItemEntityID:i}){return Uu()("div",{},void 0,Uu()(pVt,{serverEntityID:e,"data-qa-id":"toolbarPrevious",providerEntityID:t,metadataItemEntityID:a},void 0,hVt),Uu()(pVt,{serverEntityID:e,"data-qa-id":"toolbarNext",providerEntityID:t,metadataItemEntityID:i},void 0,mVt))};var gVt=Object(Fu.b)((function(){return Object(_u.a)((e,{metadataItemEntityID:t})=>t,vne(),(e,t={})=>{var a,i,r=t.metadataItems,n=r.indexOf(e),s=n+1,o=n-1;return o>-1&&(a=r[o]),s>0&&s<r.length&&(i=r[s]),{previousMetadataItemEntityID:a,nextMetadataItemEntityID:i}})}))(vVt);var yVt=function({title:e,to:t,isSelected:a}){return t?Uu()(iy,{to:t,isSelected:a},void 0,e):null};var fVt=xG((function(){return Object(_u.a)((e,{selectedKey:t})=>t,(e,{metricsContext:t})=>t,GS,_S,ZG(),xIe(),(e,t,a,i,r={},n)=>({title:r.title,to:n,isSelected:e===r.key}))}))(yVt),bVt=a("RWya"),IVt=a.n(bVt),SVt=Uu()(Xh,{});var MVt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityIDs:i,isPending:r,error:n,selectedKey:s,target:o,isOpen:l,onMenuClose:c}=e,d=!!i.length,u=!d&&r,p=!d&&!r&&!!n,h=!d&&!u&&!p;return Uu()(Fg,{target:o,isOpen:l,size:wp,onMenuClose:c},void 0,u?Uu()("span",{className:IVt.a.emptyContainer},void 0,SVt):null,p?Uu()("span",{className:IVt.a.emptyContainer},void 0,Object(Ze.default)("Unable to load items")):null,h?Uu()("span",{className:IVt.a.emptyContainer},void 0,Object(Ze.default)("No items")):null,i.map(e=>Uu()(fVt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:e,selectedKey:s},e)))};function CVt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-to-watchlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M22.2 12H25.8V16.2H30V19.8H25.8V24H22.2V19.8H18V16.2H22.2V12Z"}].concat([])),Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM19.7759 30.3837L9.6 38.2073V7.19998H38.4V38.2073L28.2241 30.3837C26.9296 29.3885 25.382 28.9922 23.9927 28.9938C22.6046 28.9953 21.0627 29.3944 19.7759 30.3837Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}CVt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var DVt=CVt;function PVt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-remove-from-watchlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M42 6.15892C42 4.72113 40.8409 3.59998 39.411 3.59998H8.58903C7.15701 3.59998 6 4.74565 6 6.15892V42.9571C6 44.3949 6.90879 44.8173 8.02984 43.9554L21.9702 33.2377C23.0826 32.3824 24.9088 32.3758 26.0298 33.2377L39.9702 43.9554C41.0826 44.8107 42 44.3704 42 42.9571V6.15892ZM21.4545 18L17.6361 14.1816L20.1817 11.636L24.0001 15.4544L27.8184 11.636L30.364 14.1816L26.5456 18L30.364 21.8183L27.8184 24.3639L24.0001 20.5456L20.1817 24.3639L17.6361 21.8184L21.4545 18Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}PVt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var OVt=PVt,jVt=Uu()(OVt,{}),TVt=Uu()(DVt,{});var wVt=function(e){var{watchlistedAt:t,onPress:a}=e;return(Uu()(oJ,{"data-qa-id":"toolbarAddToWatchList",tooltip:t?Object(Ze.default)("Remove from Watchlist"):Object(Ze.default)("Add to Watchlist"),onPress:a},void 0,t?jVt:TVt))},EVt=Object(_u.a)(ZG(),e=>({watchlistedAt:e.watchlistedAt}));var NVt=Object(Fu.b)(EVt,(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress(){e(Object(Z8.j)(a))}}}))(wVt),xVt=Uu()(R3e,{});function AVt(e){var{markUnplayed:t,onPress:a}=e;return(Uu()(oJ,{"data-qa-id":"toolbarToggleWatched",tooltip:t?Object(Ze.default)("Mark as Unplayed"):Object(Ze.default)("Mark as Played"),onPress:a},void 0,xVt))}AVt.defaultProps={markUnplayed:!1};var LVt=AVt;function kVt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}kVt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var RVt=kVt,zVt=Ed.a.createElement,UVt=Uu()(RVt,{});var VVt=function(e){return zVt(oJ,tp()({tooltip:Object(Ze.default)("Artist TV")},e),UVt)};function BVt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}BVt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var FVt=BVt,HVt=Ed.a.createElement,_Vt=Uu()(FVt,{});var QVt=function(e){return HVt(oJ,tp()({tooltip:Object(Ze.default)("Play Radio")},e),_Vt)};function WVt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}WVt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var GVt=WVt,YVt=Ed.a.createElement,KVt=Uu()(GVt,{});var qVt=function(e){return YVt(oJ,tp()({tooltip:Object(Ze.default)("Play Trailer")},e),KVt)},ZVt=a("hNn6"),XVt=a.n(ZVt),JVt=Ed.a.createElement,$Vt=Uu()(Vle,{});var eBt=function(e){var t=Je()(e,["title"]);return(JVt(oJ,tp()({tooltip:Object(Ze.default)("Record"),className:XVt.a.toolbarRecordButton,"data-qa-id":"toolbarRecord"},t),$Vt))},tBt=Ed.a.createElement,aBt=Uu()(XH,{});var iBt=function(e){return tBt(oJ,tp()({tooltip:Object(Ze.default)("Settings"),"data-qa-id":"toolbarSettings"},e),aBt)};function rBt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}rBt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var nBt=rBt,sBt=Ed.a.createElement,oBt=Uu()(nBt,{});var lBt=function(e){var{hasDownloadState:t,hasOwnSubscription:a,isDisabled:i,label:r,progress:n}=e,s=Je()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),o=null!==n&&n>=0;return sBt(oJ,tp()({},s,{isDisabled:i,tooltip:r,"data-qa-id":"toolbarSync"}),!a||t||o?Uu()(ZOe,{progress:n,isDisabled:i,showIndeterminate:t}):oBt)},{useCallback:cBt,useEffect:dBt}=Ed.a;var uBt=W3e((function(e){var{className:t,serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,type:n,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:d,metricsPage:u,showRecord:p,showPlay:h,showPlayOverflow:m,showPlayTrailer:v,showPlayTrailerOverflow:g,showPlayRadio:y,showPlayRadioOverflow:f,showPlayArtistTV:b,showPlayArtistTVOverflow:I,showShuffle:S,showShuffleOverflow:M,showAddToPlaylist:C,showAddToPlaylistOverflow:D,showAddToSaved:P,showAddToWatchlist:O,showAddToWatchlistOverflow:j,showTogglePlayed:T,showTogglePlayedOverflow:w,showMarkPlayed:E,showMarkUnplayed:N,showEdit:x,showEditOverflow:A,showSettings:L,showSettingsOverflow:k,showSync:R,showSyncOverflow:z,showSyncDownload:U,showSyncDownloadOverflow:V,showOverflow:B,onPlayPress:F,onPlayLiveTVPress:_,onPlayTrailerPress:Q,onPlayRadioPress:W,onPlayArtistTVPress:G,onShufflePress:Y,onEditPress:K,onSyncPress:q,onCancelDownloadActivity:Z,onDeleteDownloadSubscription:X,onCreateDownloadSubscription:J}=e,$=ly(),ee=w8(e.onMarkPlayedConfirm),te=w8(e.onMarkUnplayedConfirm),ae=w8(),ie=w8(),re=w8(),ne=ore({metadataItemEntityID:r,metricsPage:u,providerEntityID:i,serverEntityID:a,onCancelDownloadActivity:Z,onDeleteDownloadSubscription:X,onCreateDownloadSubscription:J}),se=cBt(()=>{(h||m)&&F()},[F,h,m]),oe=cBt(()=>{(x||A)&&K()},[x,A,K]);return dBt(()=>(H.a.on("shortcut:playSelected",se),H.a.on("shortcut:edit",oe),()=>{H.a.off("shortcut:playSelected",se),H.a.off("shortcut:edit",oe)})),Uu()("div",{className:t},void 0,p?Uu()(eBt,{title:o,onPress:ae.onOpen}):null,h?Uu()(O3e,{playLabel:Object(Ze.default)("Play"),onPress:d?_:F}):null,v?Uu()(qVt,{onPress:Q}):null,S?Uu()(N3e,{onPress:Y}):null,y?Uu()(QVt,{onPress:W}):null,b?Uu()(VVt,{onPress:G}):null,O?Uu()(NVt,{metadataItemEntityID:r,providerEntityID:i,serverEntityID:a}):null,C?Uu()(I3e,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,onAddToPlaylistPress:re.onOpen}):null,T&&E?Uu()(LVt,{type:n,subtype:s,onPress:ee.onOpen}):null,T&&N&&!E?Uu()(LVt,{type:n,subtype:s,markUnplayed:!0,onPress:te.onOpen}):null,x?Uu()(a2e,{onPress:K}):null,L?Uu()(iBt,{onPress:ie.onOpen}):null,R?Uu()(L3e,{onPress:q}):null,U?Uu()(cre,{component:lBt,metadataItemEntityID:r,providerEntityID:i,serverEntityID:a,onPress:ne.onPress}):null,B?Uu()(C3e,{id:$.menuButtonID,iconComponent:Y3e,label:Object(Ze.default)("More..."),isMenuOpen:$.isMenuOpen,onPress:$.onMenuButtonPress}):null,Uu()(Koe,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,allowRedirectOnDelete:!0,showPlay:m,showPlayTrailer:g,showPlayRadio:f,showPlayArtistTV:I,showQueuePlexMix:!1,showShuffle:M,showAddToPlaylist:D,showAddToSaved:P&&n!==Wt.o,showAddToWatchlist:j,showEdit:A,showSettings:k,showMarkPlayed:w&&E,showMarkUnplayed:w&&N,showSync:z,showSyncDownload:V,target:$.menuButtonID,isOpen:$.isMenuOpen,onMenuClose:$.onMenuClose}),E?Uu()(xre,{isOpen:ee.isOpen,type:n,subtype:s,title:o,leafCount:c,onConfirm:ee.onConfirm,onCancel:ee.onClose}):null,C?Uu()(ose,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,isOpen:re.isOpen,onModalClose:re.onClose}):null,N?Uu()(xre,{isOpen:te.isOpen,type:n,subtype:s,title:o,leafCount:l,markUnplayed:!0,onConfirm:te.onConfirm,onCancel:te.onClose}):null,Uu()(hOe,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,isOpen:ae.isOpen,subscriptionType:n,onModalClose:ae.onClose}),U?Uu()(ure,{isOpen:ne.isOpen,state:ne.state,onConfirm:ne.onConfirm,onClose:ne.onClose}):null,Uu()(ene,{serverEntityID:a,providerEntityID:i,metadataItemEntityID:r,isOpen:ie.isOpen,onModalClose:ie.onClose}))}),["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToWatchlist","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var pBt=xG((function(){return Object(_u.a)(GS,_S,uw,ZG(),Fat(),(e,t,a,i,r)=>{var{type:n,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c}=i,d=Vie({server:e,provider:t,stableUser:a,metadataItem:i}),u=d.showMarkPlayed||d.showMarkUnplayed,p=!!t.protocols.livetv,h=!r&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===vie.b;return Object.assign({type:n,subtype:s,title:o,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:p,showRecord:h,showTogglePlayed:u},d)})}),(function(e,t){var a={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext}};return{onPlayPress(){e(Cw.p(a))},onPlayLiveTVPress(){e(Kme(a))},onPlayTrailerPress(){e(Cw.q(a))},onPlayRadioPress(){e(Cw.r(Object.assign({playlistType:Yt.a},a)))},onPlayArtistTVPress(){e(Cw.r(Object.assign({playlistType:Yt.c},a)))},onShufflePress(){e(Cw.t(a))},onMarkPlayedConfirm(){e(qae(Object.assign({},a,{skipConfirm:!0})))},onMarkUnplayedConfirm(){e(Kae(Object.assign({},a,{skipConfirm:!0})))},onEditPress(){e(xae(a))},onSyncPress(){e(Bae(a))},onGetInfoPress(){e(Lae(a))},onCancelDownloadActivity(){e(pie(a))},onDeleteDownloadSubscription(){e(mie(a))},onCreateDownloadSubscription(){e(hie(a))}}}))(uBt);function hBt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}hBt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var mBt=hBt,vBt=a("GhuN"),gBt=a.n(vBt),{Component:yBt,Fragment:fBt}=Ed.a,bBt=Uu()(mBt,{});var IBt=Jnt(class extends yBt{constructor(e,t){super(e,t),this.onSiblingsMenuButtonPress=e=>{this.setState({isSiblingsMenuOpen:!this.state.isSiblingsMenuOpen})},this.onSiblingsMenuClose=()=>{this.setState({isSiblingsMenuOpen:!1})},this.onToggleArtworkPress=e=>{this.props.onArtworkToggle(!this.props.isArtworkButtonSelected)},this.state={isSiblingsMenuOpen:!1},this._siblingsMenuButtonID=Mp()}shouldComponentUpdate(e,t){return Np(this,e,t)}render(){var{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,siblingsMetadataListEntityID:i,sourceDirectory:r,metadataKey:n,grandparentTitle:s,parentTitle:o,title:l,skipParent:c,grandparentRoute:d,parentRoute:u,showArtworkButton:p,isArtworkButtonSelected:h,listType:m,listSubtype:v,listStyle:g,allListStyles:y}=this.props,{isSiblingsMenuOpen:f}=this.state;if(!n)return null;var b=!!i,I=m&&Uc(y,g);return Uu()(P1e,{className:b||p&&!I?gBt.a.altPageHeader:gBt.a.pageHeader},void 0,Uu()(wnt,{containerComponent:vJ,serverEntityID:e,providerEntityID:t,sourceDirectory:r},void 0,s?Uu()(PJ,{to:d,hasMenu:!1,isDisabled:!d},void 0,s):null,!c&&o?Uu()(PJ,{to:u,hasMenu:!1,isDisabled:!u},void 0,o):null,l?Uu()(PJ,{id:this._siblingsMenuButtonID,hasMenu:b,isMenuOpen:f,isDisabled:!b,onPress:this.onSiblingsMenuButtonPress},void 0,l):null,b?Uu()(Mne,{serverEntityID:e,providerEntityID:t,metadataListEntityID:i,component:MVt,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:f,selectedKey:n,onMenuClose:this.onSiblingsMenuClose}):null),Uu()(bJ,{},void 0,Uu()(pBt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a}),p?Uu()(Z1e,{className:gBt.a.divider}):null,p?Uu()(oJ,{tooltip:h?Object(Ze.default)("Hide Artwork"):Object(Ze.default)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:h,hideOnPress:!1,tooltipAttachment:I||b?"bottomCenter":"bottomRight",onPress:this.onToggleArtworkPress},void 0,bBt):null,I?Uu()(fBt,{},void 0,Uu()(Z1e,{className:gBt.a.divider}),Uu()(U5e,{listType:m,listSubtype:v,listContext:Tc,selectedListStyle:g,allListStyles:y})):null,b?Uu()(Z1e,{className:gBt.a.divider}):null,b?Uu()(gVt,{serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,metadataListEntityID:i}):null))}},(function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}}),(function(e,t){e(ZRe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))})),SBt=xG((function(){return Object(_u.a)((e,{metricsContext:t})=>t,e=>e.ui.prePlayPage,GS,_S,akt(),ZG(),Object(_u.a)(ZG(),e=>{if(e){var t=e.skipParent,a=t?e.grandparentKey:e.parentKey;if(a){var i=t?"grandchildren":"children";return _.join([a,i])}}}),qAt,XCt,ZAt(),(e,t,a,i,r,n,s,o,l,c)=>{var{grandparentKey:d,parentKey:u,key:p,grandparentTitle:h,parentTitle:m,title:v,skipParent:g,subtype:y}=n,f=$wt(l,Tc,c,y,i),b=Wjt(c,y,Tc,i),I={legacy:1};return e&&(I.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:r,metadataKey:p,siblingKey:s,grandparentTitle:h,parentTitle:m,title:v,skipParent:g,grandparentRoute:lu(a,i,d,I),parentRoute:lu(a,i,u,I),showArtworkButton:!!n.art,isArtworkButtonSelected:o,listType:c,listSubtype:y,listStyle:f,allListStyles:b}})}),(function(e,t){return{onArtworkToggle(t){e(Object(Qu.f)({showPrePlayArtwork:t}))}}}))(IBt),MBt=Uu()(ph,{},void 0,Uu()(Xh,{}));var CBt=function(e){var{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,showSpinner:n,showError:s,showNotFoundError:o,activeSelectionType:l,columnAdjustment:c,record:d,allEpisodes:u,multiSelectToolbarComponent:p}=e;return n?MBt:s?o?Uu()(fh,{title:Object(Ze.default)("The media you're looking for isn't here"),description:Object(Ze.default)("It may have been removed from the media server, or moved to a new location")},void 0,Uu()(Vp,{to:"#",kind:Dp},void 0,Object(Ze.default)("Go home"))):Uu()(FX,{title:Object(Ze.default)("There was an unexpected error loading this item")}):Uu()(tJ,{metricsPage:Rd.eb,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:Jp},void 0,l?Uu()(p5e,{serverEntityID:t,providerEntityID:a,toolbarComponent:p,allowRedirectOnDelete:!0}):Uu()(SBt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i}),Uu()(cVt,{serverEntityID:t,providerEntityID:a,metadataItemEntityID:i,metadataListEntityID:r,columnAdjustment:c,record:d,allEpisodes:u}))};function DBt(e){var t=e["aria-label"],a=e.className,i=e.style,r={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}DBt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var PBt=DBt,OBt=Uu()(PBt,{});var jBt=function({onRemovePress:e}){return Uu()(oJ,{tooltip:Object(Ze.default)("Remove from Playlist"),tooltipAttachment:"bottomRight",onPress:e},void 0,OBt)};var TBt=Object(Fu.b)(null,(function(e,t){return{onRemovePress(){e(YAt())}}}))(jBt),wBt=Ed.a.createElement,{Component:EBt}=Ed.a;var NBt={dispatchChangeQuickSearchSettings:uee};var xBt=Jnt(class extends EBt{constructor(...e){super(...e),this.onLibraryChange=()=>{this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:jt.d,directoryID:this.props.librarySectionID})}}componentDidMount(){this.onLibraryChange()}componentDidUpdate(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()}componentWillUnmount(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})}render(){var e=this.props,t=Je()(e,["dispatchChangeQuickSearchSettings"]);return(wBt(CBt,t))}},(function(e){var t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(zAt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(BAt())})),ABt=Object(Fu.b)((function(e,t){return Object(_u.a)(e=>e.ui.playlistPage,Nv.a,gne,Object(_u.a)(e=>e.ui.playlistPage.playlist,e=>e.ui.playlistPage.playlistItemList,RAt,qG,(e,t,a,i)=>{var r=i[e],n=r&&r.playlistType===Wt.k,s=t&&t.metadataItems.length;if(n&&s)return i[a[t.metadataItems[0]].metadataItem].librarySectionID}),(e,t,a,i)=>{var{playlist:r,isPlaylistPending:n,playlistError:s}=e,o=!n&&!!s;return{metadataItemEntityID:r,librarySectionID:i,showSpinner:n,showError:o,showNotFoundError:o&&404===s.status,columnAdjustment:t.columnAdjustment,activeSelectionType:a.activeSelectionType,multiSelectToolbarComponent:TBt}})}),NBt)(xBt);var LBt=Object(Fu.b)((function(){return Object(_u.a)(akt(),e=>({selectedSourceDirectoryID:e?e.id:null}))}))(Qtt),kBt=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,r=a||jt.d,n=Object(pt.a)(ht.n,t),s=Object(pt.a)(ht.k,r,n),o=Object(pt.a)(ht.g,i.key,n);return Uu()(vGe,{metricsContext:i.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(LBt,{selectedMachineIdentifier:t,selectedProviderIdentifier:r,providerEntityID:s,metadataItemEntityID:o}),Uu()(tit,{serverEntityID:n},void 0,Uu()(ABt,{machineIdentifier:t,serverEntityID:n,providerEntityID:s,metadataKey:i.key})))))}}),RBt=Uu()(Qtt,{}),zBt=Hu.extend({component(e){var{selectedProviderID:t,params:a}=e,i=pw.a,r=Object(pt.a)(ht.n,i),n=Object(pt.a)(ht.k,t,r);return Uu()(vGe,{metricsContext:a.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,RBt,Uu()(GNt,{serverEntityID:r,providerEntityID:n},void 0,Uu()(ABt,{machineIdentifier:i,selectedProviderID:t,serverEntityID:r,providerEntityID:n,metadataKey:a.key})))))}});function UBt(e,t){var a,i=bZe(e,PGe.Content);if(i){var r=null!=(a=null==i?void 0:i.directories)?a:[];if(e.protocols.includes(DGe.LiveTV))return r.find(e=>e.hubKey&&!e.key);var{librarySectionID:n,isPlaylist:s}=t;return n?r.find(e=>!!e.id&&e.id===n):s?r.find(e=>e.type===Nr.Playlist):void 0}}function VBt(e,t,a){switch(a){case Ar.Podcast:switch(t){case Nr.Track:return 1===e?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:e})}}switch(t){case Nr.Movie:return 1===e?Object(Ze.default)("1 Movie"):Object(Ze.default)("{movieCount} Movies",{movieCount:e});case Nr.Show:return 1===e?Object(Ze.default)("1 Show"):Object(Ze.default)("{showCount} Shows",{showCount:e});case Nr.Season:return Object(Ze.default)("Seasons");case Nr.Episode:return 1===e?Object(Ze.default)("1 Episode"):Object(Ze.default)("{episodeCount} Episodes",{episodeCount:e});case Nr.Album:return 1===e?Object(Ze.default)("1 Album"):Object(Ze.default)("{albumCount} Albums",{albumCount:e});case Nr.Track:return 1===e?Object(Ze.default)("1 Track"):Object(Ze.default)("{trackCount} Tracks",{trackCount:e});default:return 1===e?Object(Ze.default)("1 Item"):Object(Ze.default)("{itemCount} Items",{itemCount:e})}}var{createContext:BBt,useContext:FBt,useMemo:HBt}=Ed.a,_Bt=BBt({width:0,height:0,contentHeight:0,scrollTop:0,scrollLeft:0});function QBt(){return FBt(_Bt)}var WBt=({children:e,width:t,height:a,contentHeight:i,scrollTop:r,scrollLeft:n})=>{var s=HBt(()=>({width:t,height:a,contentHeight:i,scrollTop:r,scrollLeft:n}),[t,a,i,r,n]);return(Uu()(_Bt.Provider,{value:s},void 0,e))},{useCallback:GBt,useEffect:YBt,useRef:KBt,useState:qBt}=Ed.a;var ZBt=function(e){var t=qBt(0),a=t[1],i=t[0],r=KBt(null),n=GBt(e=>{r.current=e,r.current&&a(r.current.offsetTop)},[]);return YBt(()=>{r.current&&a(r.current.offsetTop)},[e]),[i,n]},XBt=Object(_u.a)(Ny,e=>e.prePlay),{useMemo:JBt}=Ed.a;function $Bt(){var{descendantListSourceURI:e}=Object(Fu.d)(XBt),t=JBt(()=>e?c0e(e):()=>{},[e]);return Object(Fu.d)(t)}var eFt=a("43je"),tFt=a.n(eFt),{useCallback:aFt,useMemo:iFt}=Ed.a;function rFt(e){var t=Object(Fu.c)(),a=Object(Fu.d)(_Ke),i=iFt(()=>e.every(e=>a.items[Xn.getIdentity(e)]),[e,a]),r=aFt(()=>{t($n.actions.selectItems({items:e}))},[t,e]),n=aFt(()=>{t($n.actions.deselectItems({items:e}))},[t,e]),s=aFt(()=>{i?n():r()},[i,n,r]);return{isSelectionActive:!!a.count,isSelected:i,onSelect:r,onDeselect:n,onToggleSelect:s}}var nFt=a("zJz3"),sFt=a.n(nFt),oFt=({className:e=sFt.a.titleContainer,selectedClassName:t=sFt.a.selectedTitleContainer,selectButtonClassName:a=sFt.a.selectButton,isSelected:i=!1,isSelectable:r,onSelectPress:n,title:s})=>Uu()("div",{className:i?t:e},void 0,r?Uu()(zU,{className:a,title:s,isSelected:i,onPress:n}):null,Uu()(b$e,{},void 0,s)),lFt=a("6cmb"),cFt=a.n(lFt),{useMemo:dFt}=Ed.a,uFt={height:parseInt(YU.a.tableRowHeight,10)},pFt=e=>{var t,{item:a,title:i}=e,r=WO(Je()(e,["item","title"])),n=dFt(()=>[Zht,emt,imt],[]),{onToggleSelect:s,isSelected:o}=rFt(null!=(t=null==a?void 0:a.items)?t:[]);if(!a)return null;var l=i||Object(Ze.default)("Disc {discNumber}",{discNumber:a.index});return(Uu()("div",{style:r.style},void 0,Uu()(oFt,{className:cFt.a.titleContainer,selectedClassName:cFt.a.selectedTitleContainer,selectButtonClassName:cFt.a.selectButton,title:l,isSelectable:!0,isSelected:o,onSelectPress:s}),Uu()("div",{className:cFt.a.trackList},void 0,a.items.map((e,t)=>{var a;return(Uu()(Tmt,{item:e,tableColumns:n,hasTransientActionsCell:!0,index:null!=(a=e.index)?a:t,isVirtual:!1,cellIndex:t,style:uFt},e.key))}))))},hFt=a("x436"),mFt=a.n(hFt),vFt=Ed.a.createElement,{useCallback:gFt,useMemo:yFt}=Ed.a,fFt=parseInt(YU.a.v4PagePadding,10),bFt=parseInt(YU.a.v4ListSpacing,10),IFt=parseInt(YU.a.v4PrePlayListTitleGap,10),SFt=parseInt(YU.a.v4PrePlayDividerHeight,10),MFt=parseInt(tFt.a.hubTitleLineHeight,10),CFt=parseInt(YU.a.tableRowHeight,10),DFt=MFt+IFt+2*SFt,PFt=({className:e=mFt.a.container,metadataItem:t})=>{var a,{type:i,subtype:r}=t,[n,s]=wv(),o=QBt(),{descendantListSourceURI:l}=Object(Fu.d)(XBt),{totalSize:c,items:d=[]}=null!=(a=$Bt())?a:{},u=yFt(()=>{var e;return null!=(e=d.reduce((e,t)=>{var{parentIndex:a=1}=t,i=e[a];return i?i.items.push(t):e[a]={index:a,items:[t]},e},[]).filter(()=>!0))?e:[]},[d]),p=1===u.length?VBt(null!=c?c:0,Nr.Track):void 0,h=yFt(()=>function(e){var t,a,{overscan:i=0,outerPaddingTop:r=0,outerPaddingRight:n=0,outerPaddingBottom:s=0,outerPaddingLeft:o=0,getCellHeights:l}=e;function c(e){var t=a.findIndex(t=>t>e),i=a.length-1;return-1===t?i:Math.min(Math.max(0,t-1),i)}return{getListMeasurements(e,i){var{viewportWidth:c,viewportHeight:d}=e,u=c-(o+n);t=l(u),a=[];var p=r;return t.forEach(e=>{a.push(p),p+=e}),{width:u,height:t.reduce((e,t)=>e+t,r+s),outerPaddingTop:r,outerPaddingRight:n,outerPaddingBottom:s,outerPaddingLeft:o,listTop:e.listTop,listLeft:e.listLeft,viewportWidth:c,viewportHeight:d}},getPositionForIndex(e,i){var{width:r}=i;return{column:1,row:e,cellX:o,cellY:a[e],cellWidth:r,cellHeight:t[e]}},getRangesForPosition(e,t,a,r){var{viewportHeight:n}=r,s=e+n-1,o=c(e-i*n),l=c(e),d=c(s),u=c(s+i*n);return{visibleStartIndex:lO(l,a),visibleEndIndex:lO(d,a),renderStartIndex:lO(o,a),renderEndIndex:lO(u,a)}}}}({overscan:1,getCellHeights:e=>u.map(e=>DFt+e.items.length*CFt+bFt),outerPaddingRight:fFt,outerPaddingLeft:fFt}),[u]),[m,v]=ZBt(o.contentHeight),g=gFt(e=>vFt(pFt,tp()({},e,{title:p})),[p]);return l&&c?vFt("div",{className:e,ref:v},Uu()(cYe,{containerServer:n,containerProvider:s,containerSourceURI:l,containerKey:t.childrenKey,containerType:i,containerSubtype:r,listStyle:Dr.Table},void 0,Uu()(eqe,{items:d},void 0,Uu()(CO,{layout:h,cellComponentFactory:g,items:u,totalSize:c,scrollTop:o.scrollTop-m,scrollLeft:o.scrollLeft,viewportWidth:o.width,viewportHeight:o.height})))):null};var OFt=function(e,t){var{base:a,searchParams:i,hashPath:r,hashParams:n}=me(e);if(!r)return e;var s=Object(te.a)(n),o=Object.keys(s).reduce((e,a)=>(t.includes(a)||(e[a]=s[a]),e),{}),l=""+a+i+"#"+r;return Object.keys(o).length?l+"?"+Object(Xs.a)(o):l};var jFt=function(e){return Object(_u.a)(CYe(e),XBt,(e,t)=>!!e.deletedAt||t.metadata.isMediaFileUnavailable)};function TFt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-add-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{clipRule:"evenodd",d:"M27.4286 27.4286V44.5714H20.5714V27.4286H3.42857V20.5714H20.5714V3.42859H27.4286V20.5714H44.5714V27.4286H27.4286Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}TFt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var wFt=TFt,EFt=a("kEeM"),NFt=a.n(EFt),{Fragment:xFt,useCallback:AFt,useEffect:LFt,useMemo:kFt,useState:RFt}=Ed.a,zFt=({isPrimary:e,isDisabled:t,action:a,metadataItem:i,metadataItemState:r,onDeckMetadataItemState:n,isMediaFileUnavailable:s})=>{var o=Object(Fu.c)(),{metricsPage:l,metricsContextTuple:c}=Object(_b.d)(),[d,u]=wv(),{containerServer:p,containerProvider:h}=lYe(),m=lZe({server:d,provider:u,metadataItem:i,metadataItemState:r}),v=_qe({containerServer:p,containerProvider:h,server:d,provider:u,metadataItem:i,metadataItemState:r,metricsPage:l,metricsContextTuple:c}),g=xKe(i),y=Put(),f=e?Bv.Primary:Bv.Default,b=AFt((e={})=>{g(Object.assign({},e,{action:kd.M})),v(Cw.p({metricsProperties:e}))},[v,g]),I=AFt((e={})=>{g(Object.assign({},e,{action:kd.M}));var t=WYe(i);o(Kme({serverEntityID:d.entityID,providerEntityID:u.entityID,metricsPage:l,metricsContextTuple:c,metricsProperties:e,options:{type:tl.e,identifier:t.channelIdentifier}}))},[o,d,u,i,l,c,g]),S=AFt((e={})=>{g(Object.assign({},e,{action:kd.gb})),v(Cw.t({metricsProperties:e}))},[v,g]),M=b;pqe(i)?M=I:i.type===Nr.Artist&&(M=S);var C=AFt(()=>{m(Lae())},[m]),D=AFt(()=>{M()},[M]),P=AFt(()=>{S()},[S]),O=AFt(()=>{g({action:kd.Q}),v(Cw.q())},[v,g]),j=AFt(()=>{g({action:kd.R}),v(Cw.r({playlistType:Yt.a}))},[v,g]),T=AFt(()=>{g({action:kd.e}),o(yn.actions.toggleSavedRequested({server:d,provider:u,sourceURI:i.grandparentKey?Object(an.a)({serverIdentifier:d.machineIdentifier,providerIdentifier:u.identifier,metadataItemKey:i.grandparentKey}):i.sourceURI,ratingKey:i.grandparentRatingKey||i.ratingKey,saved:!0}))},[o,i.grandparentKey,i.grandparentRatingKey,i.ratingKey,i.sourceURI,u,d,g]),w=AFt(e=>{g({action:e?kd.f:kd.Y}),o(yn.actions.toggleWatchlistRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,added:e}))},[o,i.ratingKey,i.sourceURI,u,d,g]),E=AFt(()=>{w(!0)},[w]),N=AFt(()=>{w(!1)},[w]),x=AFt(e=>{g({action:e?kd.F:kd.E}),o(yn.actions.playedStatusUpdateRequested({server:d,provider:u,sourceURI:i.sourceURI,ratingKey:i.ratingKey,played:e}))},[o,i.ratingKey,i.sourceURI,u,d,g]),A=wye(),L=AFt(()=>{x(!0),A.onClose()},[A,x]),k=wye(),R=AFt(()=>{x(!1),k.onClose()},[k,x]),z=wye(),U=wye(),V=wye(),B=ny(),F=AFt(()=>{g({action:kd.w}),m(xae())},[m,g]),_=AFt(()=>{"isMarkPlayedVisible"===a?A.onOpen():k.onOpen()},[a,A,k]),Q=AFt(()=>{alert("Not implemented")},[]);switch(Ju(()=>{var e=Se.a.parseBoolean(y.autoplay);e&&window.history.replaceState(null,"",OFt(window.location.href,["autoplay"])),e&&"isPlayVisible"===a&&!s&&M({setting:"autoplay"})}),Ju(()=>{"isRecordVisible"===a&&y.record&&!z.isOpen&&z.onOpen()}),LFt(()=>{if("isPlayVisible"===a)return H.a.on("shortcut:playSelected",D),()=>{H.a.off("shortcut:playSelected",D)}}),LFt(()=>{if("isEditVisible"===a)return H.a.on("shortcut:edit",F),()=>{H.a.off("shortcut:edit",F)}}),LFt(()=>{if("isMarkPlayedVisible"===a||"isMarkUnplayedVisible"===a)return H.a.on("shortcut:togglePlayed",_),()=>{H.a.off("shortcut:togglePlayed",_)}}),a){case"isPlayVisible":return Uu()(r1e,s?{kind:Bv.Danger,title:Object(Ze.default)("Unavailable"),isLabeled:!0,isDisabled:t,onPress:C}:{"data-qa-id":"preplay-play",kind:f,icon:k1e,title:Qqe(i,r,n),isLabeled:e,isDisabled:t,onPress:D});case"isPlayTrailerVisible":return Uu()(r1e,{"data-qa-id":"preplay-trailer",kind:f,icon:GVt,title:Object(Ze.default)("Play Trailer"),isLabeled:e,isDisabled:t,onPress:O});case"isShuffleVisible":return Uu()(r1e,{"data-qa-id":"preplay-shuffle",kind:f,icon:T3e,title:Object(Ze.default)("Shuffle"),isLabeled:e,isDisabled:t,onPress:P});case"isPlayRadioVisible":return Uu()(r1e,{"data-qa-id":"preplay-radio",kind:f,icon:FVt,title:Object(Ze.default)("Play Radio"),isLabeled:e,isDisabled:t,onPress:j});case"isMarkPlayedVisible":case"isMarkUnplayedVisible":var W="isMarkPlayedVisible"===a;return(Uu()(xFt,{},void 0,Uu()(r1e,{"data-qa-id":"preplay-togglePlayedState",kind:f,icon:W?w1e:N1e,title:W?Object(Ze.default)("Mark as Played"):Object(Ze.default)("Mark as Unplayed"),isLabeled:e,isDisabled:t,onPress:W?A.onOpen:k.onOpen}),Uu()(xre,{isOpen:W?A.isOpen:k.isOpen,type:i.type,subtype:i.subtype,title:i.title,leafCount:W?r.unviewedLeafCount:r.viewedLeafCount,markUnplayed:k.isOpen,onConfirm:W?L:R,onCancel:W?A.onClose:k.onClose})));case"isAddToSavedVisible":return Uu()(r1e,{"data-qa-id":"preplay-addToSaved",iconClassName:NFt.a.addIcon,kind:f,icon:wFt,title:yZe(u.identifier,r.saved,i.subtype),isLabeled:e,isDisabled:t,onPress:T});case"isAddToWatchlistVisible":return Uu()(r1e,{"data-qa-id":"preplay-addToWatchlist",kind:f,icon:DVt,title:Object(Ze.default)("Add to Watchlist"),isLabeled:e,isDisabled:t,onPress:E});case"isRemoveFromWatchlistVisible":return Uu()(r1e,{"data-qa-id":"preplay-removeFromWatchlist",kind:f,icon:OVt,title:Object(Ze.default)("Remove from Watchlist"),isLabeled:e,isDisabled:t,onPress:N});case"isAddToPlaylistVisible":return Uu()(xFt,{},void 0,Uu()(r1e,{"data-qa-id":"preplay-playlist",id:B,kind:f,icon:cxe,title:Object(Ze.default)("Add to Playlist"),isLabeled:e,isDisabled:t,onPress:V.onToggle}),Uu()(ZXe,{isOpen:U.isOpen,sourceURI:i.sourceURI,playlistType:rKe(i.type,i.subtype),defaultDestinationSource:i.source,defaultPlaylistTitle:i.title,onModalClose:U.onClose}),Uu()(Fg,{className:NFt.a.menu,target:B,isOpen:V.isOpen,onMenuClose:V.onClose},void 0,Uu()(JZe,{sourceURI:i.sourceURI,playlistType:rKe(i.type,i.subtype),onAddToPlaylistPress:U.onOpen,onMenuClose:V.onClose})));case"isSyncDownloadVisible":return Uu()(r1e,{"data-qa-id":"preplay-download",kind:f,icon:Lze,title:Object(Ze.default)("Download"),isLabeled:e,isDisabled:t,onPress:Q});case"isEditVisible":return Uu()(r1e,{"data-qa-id":"preplay-edit",kind:f,icon:j1e,title:Object(Ze.default)("Edit"),isLabeled:e,isDisabled:t,onPress:F});case"isRecordVisible":var G=r.grandparentSubscriptionType||r.subscriptionType||i.type;return(Uu()(xFt,{},void 0,Uu()(r1e,{"data-qa-id":"preplay-record",kind:Bv.Primary,icon:G===Nr.Show?bPe:SPe,title:null==r.grandparentSubscriptionID&&null==r.subscriptionID?Object(Ze.default)("Record"):Object(Ze.default)("Modify"),isLabeled:e,isDisabled:t,onPress:z.onOpen}),Uu()(mZe,{metadataItem:i,metadataItemState:r},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,onMarkStale:i})=>Uu()(hOe,{isOpen:z.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:a,subscriptionType:G,metricsProperties:{page:l,contextTuple:c},onModalClose:Ib(i,z.onClose)}))))}return null};var UFt=({metadataItem:e,promotedActions:t})=>{var a,i=ny(),r=RFt(!1),n=r[1],s=r[0],[o,l]=wv(),c=Object(Fu.d)(uw),d=Object(Fu.d)(n1e),u=PYe(e.sourceURI),p=PYe(null==(a=e.onDeck)?void 0:a.sourceURI),h=kFt(()=>jFt(e.sourceURI),[e.sourceURI]),m=Object(Fu.d)(h),v=xKe(e),g=lZe({server:o,provider:l,metadataItem:e,metadataItemState:u}),y=HZe({server:o,provider:l,stableUser:c,metadataItem:e,metadataItemState:u}),f=function(e,t){return Object.keys(e).reduce((a,i)=>{var r=i;return a[r]=!t.includes(r)&&e[r],a},{})}(y,t),b=AFt(()=>{n(!s)},[s]),I=AFt(()=>{n(!1)},[]),S=AFt(()=>{v({action:kd.C}),g(Lae())},[g,v]);return LFt(()=>{if(y.isGetInfoVisible)return H.a.on("shortcut:info",S),()=>{H.a.off("shortcut:info",S)}}),Uu()(gvt,{className:NFt.a.container},void 0,t.filter(e=>y[e]).map((t,a)=>"isMarkUnplayedVisible"===t&&y.isMarkPlayedVisible?null:Uu()(zFt,{isPrimary:0===a,isDisabled:d,action:t,metadataItem:e,metadataItemState:u,isMediaFileUnavailable:m,onDeckMetadataItemState:p},t)),Object.keys(f).some(e=>f[e])?Uu()(r1e,{"data-qa-id":"preplay-more",id:i,icon:A1e,title:Object(Ze.default)("More"),isDisabled:d,onPress:b}):null,y.isRateVisible?Uu()(LKe,{className:d?NFt.a.disabledUserRating:void 0,metadataItem:e}):null,Uu()(sJe,{className:NFt.a.menu,target:i,isOpen:s,actionsOverride:f,metadataItem:e,onMenuClose:I}))},VFt=a("OAeU"),BFt=a.n(VFt),FFt=({className:e=BFt.a.content,children:t})=>Uu()("div",{className:e},void 0,t),HFt=({className:e,metadataItem:t})=>{var a=PYe(t.sourceURI);return null==a.viewOffset?null:Uu()("span",{className:e},void 0,Object(Ze.default)("Played for {duration}",{duration:Ym(a.viewOffset)}))};var _Ft=function(e,t){return Object(_u.a)(Nut(e),e=>e.find(e=>"grabber.grab"===e.type&&e.Context.itemKey&&e.Context.itemKey===t.key))},QFt=a("ISTI"),WFt=a.n(QFt),GFt=({className:e=WFt.a.DVRBadge,subscriptionType:t})=>{var a=t===Nr.Show?bPe:SPe;return(Uu()(a,{className:e}))},YFt=a("e/fv"),KFt=a.n(YFt),qFt=({children:e})=>Uu()("div",{className:KFt.a.status},void 0,e),ZFt=({children:e})=>Uu()("span",{className:KFt.a.label},void 0,e),XFt=Uu()($y,{}),JFt=({metadataItem:e,metadataItemState:t})=>{var{onDeck:a}=e,{viewOffset:i,unviewedLeafCount:r,watchlistedAt:n}=t,[s]=wv(),o=Object(Fu.d)(Fqe(Tt.p)),l=Object(Fu.d)(_Ft(s,e));return pqe(e)?t.subscriptionID||t.grandparentSubscriptionID?Uu()(qFt,{},void 0,t.grandparentSubscriptionType?Uu()(GFt,{className:KFt.a.recordingBadge,subscriptionType:t.grandparentSubscriptionType}):null,t.subscriptionType&&!t.grandparentSubscriptionType?Uu()(GFt,{className:KFt.a.recordingBadge,subscriptionType:t.subscriptionType}):null,Uu()(ZFt,{},void 0,l?Object(Ze.default)("Recording"):Object(Ze.default)("Scheduled"))):null:a&&r?Uu()(qFt,{},void 0,Uu()(ZFt,{},void 0,Object(Ze.default)("On Deck"),XFt,Object(ZI.a)({seasonIndex:a.parentIndex,episodeIndex:a.index,date:a.originallyAvailableAt,noLeadingZero:!0,separator:"  "}))):i?Uu()(qFt,{},void 0,Uu()(ZFt,{},void 0,e.type===Nr.Game?Uu()(HFt,{metadataItem:e}):Uu()(Fht,{metadataItem:e}))):n?Uu()(qFt,{},void 0,Uu()(xqe,{className:KFt.a.watchlistBadge}),Uu()(ZFt,{},void 0,Object(Ze.default)("In Watchlist"))):o&&hqe(e,t)?Uu()(qFt,{},void 0,Uu()(Dqe,{className:KFt.a.playedBadge}),Uu()(ZFt,{},void 0,Object(Ze.default)("Played"))):null},$Ft=a("QhHd"),eHt=a.n($Ft),tHt=({aspectRatio:e,metadataItem:t,children:a,isProgressBarHidden:i})=>{var r=PYe(t.sourceURI),n=TYe(t.sourceURI),s=QBt().width<800,o=null!=e?e:wYe(t.type,t.subtype);return Uu()("div",{className:eHt.a.container},void 0,s?null:Uu()("div",{className:eHt.a.posterContainer},void 0,Uu()(QJe,{metadataItem:t,metadataItemState:r,metadataTimelineState:n,width:o===16/9?300:250,aspectRatio:o,isSelectHidden:!0,isPlayButtonCard:!0,isPlayedStatusHidden:!0,isProgressBarHidden:i}),Uu()(JFt,{metadataItem:t,metadataItemState:r})),Uu()(FFt,{className:eHt.a.content},void 0,a))},aHt=a("1Y+X"),iHt=a.n(aHt),rHt=({children:e,className:t=iHt.a.group})=>Uu()("div",{className:t,"data-qa-id":"preplayDetailsContainer"},void 0,e),nHt=a("S+4V"),sHt=a.n(nHt),oHt=({children:e,className:t=sHt.a.groupItem,labelClassName:a=sHt.a.label,contentClassName:i=sHt.a.content,label:r})=>Uu()("div",{className:t},void 0,Uu()("div",{className:a},void 0,r),Uu()("div",{className:i},void 0,e));function lHt(e,t){var a=e.Stream;return a?a.filter(e=>e.streamType===t):[]}function cHt(e,t){var a=lHt(e,t);return t===Rr.Video?a[0]:a.find(e=>e.selected)}var{Fragment:dHt}=Ed.a,uHt=({type:e,stream:t})=>Uu()("span",{},void 0,t?t.displayTitle:Uu()(dHt,{},void 0,e===Rr.Subtitles?Object(Ze.default)("Off"):Object(Ze.default)("None"))),pHt=a("NMOu"),hHt=a.n(pHt),{Fragment:mHt,useCallback:vHt,useEffect:gHt,useState:yHt}=Ed.a,fHt=({part:e,onSelect:t})=>{var a=ny(),i=wye(),r=yHt(cHt(e,Rr.Audio)),n=r[1],s=r[0],o=lHt(e,Rr.Audio),l=vHt(e=>{var a=o.find(t=>t.id===e);n(a),t(zr.Audio,e)},[o,t]);return gHt(()=>{n(cHt(e,Rr.Audio))},[e]),Uu()(mHt,{},void 0,o.length>1?Uu()(Cy,{id:a,isSelected:!0,direction:i.isOpen?cy:dy,onPress:i.onToggle},void 0,Uu()(uHt,{type:Rr.Audio,stream:s})):Uu()(uHt,{type:Rr.Audio,stream:s}),Uu()(Fg,{target:a,isOpen:i.isOpen,size:wp,onMenuClose:i.onClose},void 0,o.map(e=>Uu()(iy,{menuLabelClassName:hHt.a.menuLabelClassName,value:e.id,isSelected:e===s,onSelect:Ib(l,i.onClose)},e.id,Uu()(uHt,{type:Rr.Audio,stream:e}),e.title?Uu()("span",{className:hHt.a.extendedTitle},void 0,e.title):null))))},bHt=a("EtI4"),IHt=a.n(bHt),{Fragment:SHt,useCallback:MHt,useEffect:CHt,useState:DHt}=Ed.a,PHt=({metadataItem:e,part:t,onSelect:a,onDelete:i})=>{var r,n,[s,o]=wv(),l=PYe(e.sourceURI),c=wye(),d=wye(),u=!!((null==(r=s.ownerFeatures)?void 0:r.includes(Tt.v))&&mqe(o)),p=!!((null==(n=s.ownerFeatures)?void 0:n.includes(Tt.w))&&mqe(o)),h=ny(),m=wye(),v=wye(),g=DHt(),y=g[1],f=g[0],b=DHt(cHt(t,Rr.Subtitles)),I=b[1],S=b[0],M=lHt(t,Rr.Subtitles),C=MHt(e=>{var t=M.find(t=>t.id===e);I(t),a(zr.Subtitles,e)},[a,M]),D=MHt(()=>{f&&i(f)},[i,f]);return CHt(()=>{I(cHt(t,Rr.Subtitles))},[t]),CHt(()=>{!l.isStreamDeletePending&&v.isOpen&&v.onClose()},[l.isStreamDeletePending]),Uu()(SHt,{},void 0,M.length||u||p?Uu()(Cy,{id:h,isSelected:!0,direction:m.isOpen?cy:dy,onPress:m.onToggle},void 0,M.length?Uu()(uHt,{type:Rr.Subtitles,stream:S}):Object(Ze.default)("None")):Object(Ze.default)("None"),Uu()(Fg,{target:h,isOpen:m.isOpen,size:wp,isAutoCloseDisabled:v.isOpen,onMenuClose:m.onClose},void 0,M.length?Uu()(iy,{value:LM.a,isSelected:!S,onSelect:Ib(C,m.onClose)},LM.a,Uu()(uHt,{type:Rr.Subtitles})):null,M.map(e=>{var t=!!e.key&&s.isFullOwnedServer;return Uu()("div",{className:t?IHt.a.externalMenuItemContainer:void 0},e.id,Uu()(iy,{className:t?IHt.a.externalMenuItem:void 0,menuLabelClassName:IHt.a.menuLabelClassName,value:e.id,isSelected:e===S,onSelect:Ib(C,m.onClose)},void 0,Uu()(uHt,{type:Rr.Subtitles,stream:e}),e.title?Uu()("span",{className:IHt.a.extendedTitle},void 0,e.title):null),t?Uu()(SHt,{},void 0,Uu()(tO,{className:IHt.a.externalDeleteButton,iconComponent:DI,ariaLabel:Object(Ze.default)("Delete Subtitle"),onPress:Ib(v.onOpen,()=>y(e.key))}),Uu()(HH,{isOpen:v.isOpen,isConfirmButtonSpinning:l.isStreamDeletePending,metricsPage:Rd.n,kind:Pp,title:Object(Ze.default)("Delete Subtitle File"),message:Object(Ze.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Ze.default)("Delete"),onConfirm:D,onCancel:v.onClose})):null)}),u?Uu()(Gg,{onPress:Ib(c.onOpen,m.onClose)},void 0,Object(Ze.default)("Search...")):null,p?Uu()(Gg,{onPress:Ib(d.onOpen,m.onClose)},void 0,Object(Ze.default)("Upload...")):null),Uu()(mZe,{metadataItem:e,metadataItemState:l},void 0,({metadataItemEntityID:e,onMarkStale:t})=>Uu()(SHt,{},void 0,Uu()(Zze,{metadataItemEntityID:e,isOpen:c.isOpen,onModalClose:Ib(c.onClose,t)}),Uu()(IUe,{metadataItemEntityID:e,isOpen:d.isOpen,onModalClose:Ib(d.onClose,t)}))))};var{useCallback:OHt}=Ed.a,jHt=({metadataItem:e})=>{var t=Object(Fu.c)(),[a,i]=wv(),r=function(e){var t=e.Media;if(t.length)return 1===t.length?t[0]:Array.from(t).sort((e,t)=>{var a,i,r,n;return(null!=(a=t.width)?a:0)-(null!=(i=e.width)?i:0)||(null!=(r=t.bitrate)?r:0)-(null!=(n=e.bitrate)?n:0)})[0]}(e),n=(null==r?void 0:r.Part)&&r.Part[0],s=n?cHt(n,Rr.Video):void 0,o=OHt((r,s)=>{nn(null!=n,"A part is required to select a stream"),t(yn.actions.streamSelectRequested({server:a,provider:i,sourceURI:e.sourceURI,part:n,streamIDParam:r,streamID:s,allParts:!0}))},[t,e.sourceURI,n,i,a]),l=OHt(r=>{t(yn.actions.streamDeleteRequested({server:a,provider:i,sourceURI:e.sourceURI,streamKey:r}))},[t,e.sourceURI,i,a]);return n?Uu()(rHt,{},void 0,Uu()(oHt,{label:Object(Ze.default)("Video")},void 0,Uu()(uHt,{type:Rr.Video,stream:s})),Uu()(oHt,{label:Object(Ze.default)("Audio")},void 0,Uu()(fHt,{part:n,onSelect:o})),Uu()(oHt,{label:Object(Ze.default)("Subtitles")},void 0,Uu()(PHt,{metadataItem:e,part:n,onSelect:o,onDelete:l}))):null};function THt(e){switch(e){case Nr.Movie:return xr.Movie;case Nr.Show:return xr.Show;case Nr.Season:return xr.Season;case Nr.Episode:return xr.Episode;case Nr.Person:return xr.Person;case Nr.Artist:return xr.Artist;case Nr.Album:return xr.Album;case Nr.Track:return xr.Track;case Nr.Clip:return xr.Clip;case Nr.Photo:return xr.Photo;case Nr.PhotoAlbum:return xr.PhotoAlbum;case Nr.Playlist:return xr.Playlist;case Nr.Collection:return xr.Collection;case Nr.Game:return xr.Game}!function(e){throw new Error('"'+e+'" is not mapped to a numeric type')}(e)}var wHt=a("8UDN"),EHt=a.n(wHt),NHt=Ed.a.createElement,xHt=e=>{var{className:t=EHt.a.tagsListLink}=e,a=Je()(e,["className"]);return(NHt(qv,tp()({className:t},a)))},AHt=({tag:e,server:t,provider:a,contentDirectory:i,metadataNumericType:r,fallbackFilter:n})=>{var s;if(e.directory&&e.key&&i)s=Jt(t,a,i,{key:e.key,title:e.tag});else if((e.filter||e.id)&&i){var o,l={filters:null!=(o=e.filter)?o:n+"="+e.id,filterLabel:e.tag};r&&(l.type=r),e.context&&(l.context=e.context),s=X7(t,a,i,l)}return s},LHt=({tag:e,server:t,provider:a,contentDirectory:i,metadataNumericType:r,fallbackFilter:n})=>{if(i){var s;if(e.directory&&e.key)s=Jt(t,a,i,{key:e.key,pageType:TGe.List});else if(e.filter){var[o,l]=e.filter.split("=");s=Jt(t,a,i,{key:_.join([i.key,"all"],{type:r,[o]:l}),pageType:TGe.List})}else e.id&&n&&(s=Jt(t,a,i,{key:_.join([i.key,"all"],{type:r,[n]:e.id}),pageType:TGe.List}));return s}},{Fragment:kHt,useCallback:RHt,useState:zHt}=Ed.a;var UHt=({className:e,metadataItem:t,linkClassName:a,tagName:i,limit:r=1/0})=>{var{type:n,[i]:s}=t,o=s.length,l=zHt(!1),c=l[1],d=l[0],u=function(e,t,a){return nn(e>1,"`limit` must be a value greater than 1"),a?t:t>e?e-1:e}(r,o,d),[p,h]=wv(),m=Object(Fu.d)(zrt),v=Object(Fu.d)(Iv(p.machineIdentifier,h.identifier,t.librarySectionID)),g=RHt(()=>{c(!0)},[]);if(!o)return null;var y=THt(n);return(Uu()("span",{className:e},void 0,s.map((e,t)=>{if(!(t>=u)){var i=m?LHt({tag:e,contentDirectory:v,server:p,provider:h,metadataNumericType:y}):AHt({tag:e,contentDirectory:v,server:p,provider:h,metadataNumericType:y});return(Uu()("span",{},t,Uu()(xHt,{className:a,to:i,isDisabled:!i},void 0,e.tag),t+1<u&&t+1<o?", ":null))}}),o>u?Uu()(kHt,{},void 0,u>1?", ":" ",Uu()(xHt,{onPress:g},void 0,Object(Ze.default)("and {count} more",{count:o-u}))):null))},{Fragment:VHt}=Ed.a,BHt=({label:e,metadataItem:t})=>{var[a,i]=wv(),r=Object(Fu.d)(Iv(a.machineIdentifier,i.identifier,t.librarySectionID)),{studio:n,Studio:s}=t;return Uu()(VHt,{},void 0,s.length?Uu()(oHt,{label:e},void 0,Uu()(UHt,{metadataItem:t,tagName:"Studio",limit:2})):null,!s.length&&n?Uu()(oHt,{label:e},void 0,Uu()(xHt,{to:X7(a,i,r,{filters:"studio="+encodeURIComponent(encodeURIComponent(n)),filterLabel:n,type:THt(t.type)})},void 0,n)):null)},FHt=a("jEUb"),HHt=a.n(FHt),_Ht=({className:e=HHt.a.summary,dangerouslySetInnerHTML:t,children:a})=>{var i=a?a.split("\n"):[];return(Uu()(bRe,{className:e,dangerouslySetInnerHTML:t},void 0,i.length>1?i.map((e,t)=>Uu()("p",{},t,e)):a))},QHt=Uu()($y,{}),WHt=({className:e,allowLink:t,metadataItem:a})=>{var{parentTitle:i}=a;return(Uu()("div",{className:e},void 0,Uu()(yKe,{allowLink:t,metadataItem:a}),i?QHt:null,Uu()(SKe,{allowLink:t,metadataItem:a})))},GHt=a("xAXV"),YHt=a.n(GHt),KHt=Ed.a.createElement,qHt=parseInt(YU.a.trackCellPadding,10),ZHt=Uu()(UZ,{}),XHt=({style:e,index:t,cellIndex:a,cellHeight:i,metadataItem:r,metadataItemState:n})=>{var[s,o]=wv(),l=Object(Fu.d)(uw),c=Object(Fu.d)(Nht(r,s)),d=Object(Fu.d)(Object(mmt.a)(l1e.a.AudioVideo,"isPaused")),{hoverRef:u,actionsMenuButtonID:p,isHovered:h,isActionsVisible:m,isActionsMenuOpen:v,onActionsMenuClose:g,onActionsMenuCloseComplete:y,onActionsMenuToggle:f}=cqe(),{type:b,subtype:I}=r,S=wYe(b,I),M=EYe({height:i-2*qHt,aspectRatio:S}),C=m&&DZe({server:s,provider:o,stableUser:l,metadataItem:r,metadataItemState:n});return KHt(PXe,{isAlternate:!!(a%2),isHovered:h,style:e,ref:u},Uu()(vpt,{metadataItem:r,keyAttribute:"parentKey","aria-label":dqe(r)}),Uu()("div",{className:YHt.a.overlay},void 0,Uu()("div",{className:YHt.a.container},void 0,Uu()("div",{className:YHt.a.indexPlayContainer},void 0,c||C?null:t,!c&&C?Uu()(Jqe,{metadataItem:r}):null,c?Uu()(Cxe,{isPaused:d}):null),Uu()("div",{className:YHt.a.posterContainer},void 0,Uu()(YS,{serverEntityID:s.entityID,providerEntityID:o.entityID,url:uqe(r,{aspectRatio:S}),width:M.width,height:M.height,component:QI,preloadOnMount:!1,animateOnMount:!1})),Uu()("div",{className:YHt.a.titleContainer},void 0,Uu()(xYe,{className:YHt.a.title,metadataItem:r}),Uu()(WHt,{className:YHt.a.subtitle,metadataItem:r})),m?Uu()("div",{className:YHt.a.actions},void 0,Uu()(qv,{id:p,className:YHt.a.actionsMenuButton,"data-qa-id":"metadataTrackMoreButton","aria-label":Object(Ze.default)("More Actions"),onPress:f},void 0,ZHt)):Uu()(Hht,{className:YHt.a.duration,metadataItem:r}))),Uu()(sJe,{target:p,isOpen:v,metadataItem:r,actionsOverride:{isPlayVisible:!1},onMenuClose:g,onMenuCloseComplete:y}))},JHt=e=>{var{index:t,item:a}=e,i=Je()(e,["index","item"]),r=PYe(null==a?void 0:a.sourceURI),n=WO(i),{cellIndex:s,cellHeight:o}=i;return a?Uu()(hYe,{metadataItem:a,metadataItemState:r},void 0,Uu()(XHt,{style:n.style,index:t,cellIndex:s,cellHeight:o,metadataItem:a,metadataItemState:r})):Uu()(TXe,{style:n.style,index:s})},$Ht=a("DJk6"),e_t=a.n($Ht),t_t=({className:e=e_t.a.divider})=>Uu()("div",{className:e}),a_t=a("3Kzt"),i_t=a.n(a_t),r_t=Ed.a.createElement,{useCallback:n_t,useEffect:s_t,useMemo:o_t,useState:l_t}=Ed.a,c_t=parseInt(YU.a.v4PagePadding,10),d_t={[Nr.Track]:parseInt(YU.a.trackCellHeight,10),[Nr.Album]:parseInt(YU.a.summaryCellHeight,10)},u_t=Uu()(t_t,{}),p_t=Uu()(t_t,{}),h_t=({hub:e,onHubReady:t})=>{var{title:a,sourceURI:i,key:r,type:n,subtype:s,initialSize:o,random:l,style:c=Dr.List,context:d,isStale:u}=e,p=Object(Fu.c)(),[h,m]=wv(),v=QBt(),[g,y]=ZBt(v.contentHeight),f=l_t(o<3?o:3),b=f[1],I=f[0],S=d_t[n],M=o_t(()=>IXe({rowHeight:null!=S?S:0,outerPaddingRight:c_t,outerPaddingLeft:c_t,overscan:1}),[S]),C=o_t(()=>c0e(i),[i]),D=Object(Fu.d)(C),P=null==D?void 0:D.items.length,O=null==D?void 0:D.totalSize,j=null==O||l?o:O,T=n_t(e=>{p(gn.actions.fetchRangeRequested(Object.assign({},e,{server:h,provider:m,sourceURI:i})))},[p,h,m,i]),w=n_t(()=>{b(j)},[j]),{isPlaceholder:E,placeholderItems:N}=M$e({hub:e,size:P,totalSize:O,placeholderSize:3,onPageRequest:T});s_t(()=>{!I&&P&&b(P<3?P:3)},[P,I]),s_t(()=>{u&&!l&&p(gn.actions.throttledRepopulateRangeRequested({server:h,provider:m,sourceURI:i}))},[p,u,m,l,h,i]),s_t(()=>{t&&t(e)},[e,t]);var x=n_t(e=>n===Cr.Track?Uu()(_b.a,{row:e.row,column:e.column},e.key,r_t(JHt,tp()({index:e.cellIndex+1},e))):r_t(Apt,e),[n]);return E||j?Uu()(_b.a,{name:d},void 0,Uu()(cYe,{containerServer:h,containerProvider:m,containerSourceURI:D.sourceURI,containerKey:r,containerType:n,containerSubtype:s,listStyle:c},void 0,Uu()("div",{className:i_t.a.hubHeader},void 0,Uu()(T0e,{hub:e},void 0,a)),u_t,r_t("div",{ref:y},Uu()(CO,{layout:M,cellComponentFactory:x,keyPropName:"listItemKey",items:E?N:D.items,totalSize:E?N.length:I,scrollTop:v.scrollTop-g,scrollLeft:v.scrollLeft,viewportWidth:v.width,viewportHeight:v.height,onPageRequest:E?void 0:T})),p_t,!E&&I<j?Uu()("div",{className:i_t.a.showAllContainer},void 0,Uu()(qv,{onPress:w},void 0,Object(Ze.default)("Show All"))):null,Uu()("div",{className:i_t.a.belowHub}))):null},m_t=a("ONyx"),v_t=a.n(m_t),{useEffect:g_t}=Ed.a,y_t=({hub:e,onHubReady:t})=>{var a=e.style===Dr.List?h_t:h0e,{serverIdentifier:i,providerIdentifier:r}=Object(Bn.a)(e.sourceURI);return Uu()(Ev,{machineIdentifier:i,providerIdentifier:r},void 0,Uu()(a,{hub:e,hubTitleComponent:T0e,onHubReady:t}))},f_t=Uu()(Xh,{}),b_t=({metadataItem:e,onHubsReady:t})=>{var{augmentationKey:a}=e,i=Object(Fu.c)(),[r,n]=wv(),{augmented:{hubs:s,isPending:o,isPopulated:l}}=Object(Fu.d)(XBt);return g_t(()=>{a&&i(ss.actions.augmentedHubsFetchRequested({server:r,provider:n,augmentationKey:a}))},[i,a,n,r]),g_t(()=>{(!a||l&&!s.length)&&t()},[a,s.length,l,t]),a?!l&&o?Uu()("div",{className:v_t.a.spinnerContainer},void 0,f_t):Uu()(b0e,{hubs:s,hubComponent:y_t,onHubsReady:t}):null},I_t=a("26nm"),S_t=a.n(I_t),{useEffect:M_t}=Ed.a,C_t=({hub:e,onHubReady:t})=>{var a=e.style===Dr.List?h_t:h0e,{serverIdentifier:i,providerIdentifier:r}=Object(Bn.a)(e.sourceURI);return Uu()(Ev,{machineIdentifier:i,providerIdentifier:r},void 0,Uu()(a,{hub:e,hubTitleComponent:T0e,onHubReady:t}))},D_t=Uu()(Xh,{}),P_t=({metadataItem:e,onHubsReady:t})=>{var{key:a}=e,i=Object(Fu.c)(),[r,n]=wv(),{related:{hubs:s,isPending:o,isPopulated:l}}=Object(Fu.d)(XBt),{isEmbedded:c}=r;return M_t(()=>{c||i(ss.actions.relatedHubsFetchRequested({server:r,provider:n,metadataKey:a}))},[i,c,a,n,r]),M_t(()=>{c||l&&!s.length&&t()},[s.length,c,l,t]),c?null:o?Uu()("div",{className:S_t.a.spinnerContainer},void 0,D_t):Uu()(b0e,{hubs:s,hubComponent:C_t,onHubsReady:t})},O_t=a("5Y3Z"),j_t=a.n(O_t),T_t=({className:e=j_t.a.rightTitle,children:t})=>Uu()("div",{className:e},void 0,t),w_t=a("JQa6"),E_t=a.n(w_t),N_t=({className:e=E_t.a.rightTitle,imgClassName:t=E_t.a.attributionLogo,metadataItem:a})=>{var{attribution:i,attributionLogo:r}=a;return r?Uu()(T_t,{className:e},void 0,Uu()("img",{src:r,className:t})):i?Uu()(T_t,{className:e},void 0,Uu()(nS,{attribution:i})):null},x_t=a("NCdd"),A_t=a.n(x_t),L_t=({contentRating:e})=>e?Uu()(QF,{className:A_t.a.badge},void 0,TSe(e)):null,k_t=a("WEzZ"),R_t=a.n(k_t),z_t=({className:e=R_t.a.tertiaryTitleSpacer,children:t})=>Uu()("span",{className:e},void 0,t),{Fragment:U_t}=Ed.a,V_t=({metadataItem:e})=>{var{duration:t,contentRating:a}=e;return(Uu()(U_t,{},void 0,t?Uu()(z_t,{},void 0,Uu()(pKe,{metadataItem:e})):null,a?Uu()(z_t,{},void 0,Uu()(L_t,{contentRating:a})):null,Uu()(uKe,{metadataItem:e})))},B_t=a("R/vz"),F_t=a.n(B_t),H_t=({className:e=F_t.a.leftTitle,children:t})=>Uu()("div",{className:e},void 0,t),__t=a("U47K"),Q_t=a.n(__t),W_t=({className:e=Q_t.a.primaryTitle,children:t})=>Uu()("div",{className:e,"data-qa-id":"preplay-mainTitle"},void 0,t),G_t=a("x5TN"),Y_t=a.n(G_t),K_t=({className:e=Y_t.a.secondaryTitle,children:t})=>Uu()("div",{className:e,"data-qa-id":"preplay-secondTitle"},void 0,t),q_t=a("0csW"),Z_t=a.n(q_t),X_t=({className:e=Z_t.a.tertiaryTitle,children:t})=>Uu()("div",{className:e,"data-qa-id":"preplay-thirdTitle"},void 0,t),{useRef:J_t}=Ed.a;function $_t(e,t){var a=J_t(0),i=J_t(void 0);return i.current||(i.current=Array.from({length:e}).map((i,r)=>()=>{a.current=a.current|2**r,a.current===2**e-1&&t()})),i.current}var{Fragment:eQt}=Ed.a,tQt=({metadataItem:e,onHubsReady:t})=>{var{year:a,summary:i,Genre:r,Style:n}=e,[s,o]=$_t(2,t);return Uu()(eQt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(SKe,{metadataItem:e})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(X_t,{},void 0,a?Uu()(z_t,{},void 0,a):null,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isShuffleVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(rHt,{},void 0,Uu()(BHt,{label:Object(Ze.default)("Record Label"),metadataItem:e}),r.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null,n.length?Uu()(oHt,{label:Object(Ze.default)("Style")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Style",limit:3})):null),Uu()(jHt,{metadataItem:e})),Uu()(PFt,{metadataItem:e}),Uu()(P_t,{metadataItem:e,onHubsReady:o}),Uu()(b_t,{metadataItem:e,onHubsReady:s}))},{useCallback:aQt,useEffect:iQt,useState:rQt}=Ed.a,nQt=({className:e,selectedClassName:t,selectButtonClassName:a,metadataList:i,metadataItem:r})=>{var n,s,o=Object(Fu.c)(),[l,c]=wv(),{type:d,subtype:u,skipChildren:p}=r,h=p?QZe(d,u):_Ze(d,u),m=rQt(!1),v=m[1],g=m[0],y=null!=(n=i.totalSize)?n:0,f=i.items.length,{onSelect:b,onToggleSelect:I,isSelected:S}=rFt(i.items);iQt(()=>{g&&(f<y?o(gn.actions.fetchAllRequested({server:l,provider:c,sourceURI:i.sourceURI})):b())},[o,g,f,i.sourceURI,b,c,l,y]),iQt(()=>{S&&v(!1)},[S]);var M=aQt(()=>{f<y?v(!g):I()},[g,f,I,y]),C=VBt(null!=(s=i.totalSize)?s:0,null!=h?h:d,u);return Uu()(oFt,{className:e,selectedClassName:t,selectButtonClassName:a,title:C,isSelectable:pJe(c),isSelected:S||g,onSelectPress:M})},sQt=Ed.a.createElement,{Fragment:oQt,useCallback:lQt,useMemo:cQt}=Ed.a,dQt=parseInt(YU.a.v4PagePadding,10),uQt=Uu()(t_t,{}),pQt=Uu()(t_t,{}),hQt=({items:e,totalSize:t,viewportWidth:a,viewportHeight:i,scrollTop:r,scrollLeft:n,onPageRequest:s})=>{var o=cQt(()=>kpt({outerPaddingRight:dQt,outerPaddingLeft:dQt}),[]),l=lQt(e=>sQt(Apt,tp()({},e,{isParentDetailHidden:!0})),[]);return Uu()(oQt,{},void 0,uQt,Uu()(CO,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:r,scrollLeft:n,viewportWidth:a,viewportHeight:i,onPageRequest:s}),pQt)},mQt=Ed.a.createElement,{useCallback:vQt,useMemo:gQt}=Ed.a,yQt=({type:e,subtype:t,items:a,totalSize:i,viewportWidth:r,viewportHeight:n,scrollTop:s,scrollLeft:o,onPageRequest:l})=>{var c=Object(Fu.d)(N$e),{containerDisplayFields:d}=lYe(),u=gQt(()=>lht({listType:e,subtype:t,columnWidth:c,listStyle:Dr.PrePlayGrid,displayFields:d}),[c,d,t,e]),p=vQt(e=>mQt(JJe,e),[]);return Uu()(CO,{layout:u,cellComponentFactory:p,keyPropName:"listItemKey",items:a,totalSize:i,scrollTop:s,scrollLeft:o,viewportWidth:r,viewportHeight:n,onPageRequest:l})},fQt=a("1ggG"),bQt=a.n(fQt),IQt=Ed.a.createElement,{useCallback:SQt,useMemo:MQt}=Ed.a;var CQt=Uu()(UZ,{}),DQt=({style:e,cellIndex:t,metadataItem:a,metadataItemState:i})=>{var[r,n]=wv(),s=Object(Fu.d)(uw),o=Object(Fu.d)(Nht(a,r)),l=Object(Fu.d)(Object(mmt.a)(l1e.a.AudioVideo,"isPaused")),{hoverRef:c,actionsMenuButtonID:d,isHovered:u,isActionsVisible:p,isActionsMenuOpen:h,onActionsMenuClose:m,onActionsMenuCloseComplete:v,onActionsMenuToggle:g}=cqe(),{isSelected:y,isInSelectionRange:f,isSelectionActive:b,onToggleSelect:I}=sqe({isHovered:u,metadataItem:a,metadataItemState:i}),S=MQt(()=>f?bQt.a.rangeListRow:y?bQt.a.selectedListRow:void 0,[f,y]),M=!b&&p,C=SQt(()=>{I()},[I]),D=M&&DZe({server:r,provider:n,stableUser:s,metadataItem:a,metadataItemState:i});return IQt(PXe,{className:S,alternateClassName:S,isAlternate:!!(t%2),isHovered:u,style:e,ref:c},pJe(n)?Uu()(bpt,{isSelected:y,isInSelectionRange:f,isVisible:y||f||u,title:dqe(a),onPress:C}):null,b?Uu()(qv,{className:bQt.a.selectOverlay,onPress:C}):Uu()(vpt,{metadataItem:a,keyAttribute:"key","aria-label":dqe(a)}),Uu()("div",{className:bQt.a.overlay},void 0,Uu()("div",{className:bQt.a.simpleSummaryContainer},void 0,Uu()("div",{className:bQt.a.indexPlayContainer},void 0,o||D?null:Uu()(gpt,{className:bQt.a.titleEpisodeIndex,metadataItem:a}),!o&&D?Uu()(Jqe,{metadataItem:a}):null,o?Uu()(Cxe,{isPaused:l}):null),Uu()("div",{className:bQt.a.titleAndSummaryContainer},void 0,Uu()("div",{className:bQt.a.titleContainer},void 0,Uu()("div",{className:bQt.a.title},void 0,a.title),M?Uu()("div",{className:bQt.a.actions},void 0,Uu()(qv,{id:d,"data-qa-id":"metadataRowMoreButton","aria-label":Object(Ze.default)("More Actions"),onPress:g},void 0,CQt)):null),Uu()("div",{className:bQt.a.summary},void 0,function(e,t){var{tagline:a,summary:i}=t;return a||("html"===Bt(e.identifier)?ALe(i):i)}(n,a))))),Uu()(sJe,{target:d,isOpen:h,metadataItem:a,actionsOverride:{isPlayVisible:!1},onMenuClose:m,onMenuCloseComplete:v}))},PQt=e=>{var{item:t}=e,a=Je()(e,["item"]),i=PYe(null==t?void 0:t.sourceURI),r=WO(a),{cellIndex:n}=a;return t?Uu()(hYe,{metadataItem:t,metadataItemState:i},void 0,Uu()(DQt,{style:r.style,cellIndex:n,metadataItem:t,metadataItemState:i})):Uu()(TXe,{style:r.style,index:n})},OQt=parseInt(YU.a.simpleSummaryCellHeight,10),jQt=parseInt(YU.a.v4PagePadding,10);var TQt=function(e){return IXe(Object.assign({rowHeight:OQt,outerPaddingRight:jQt,outerPaddingLeft:jQt,overscan:2},e))},wQt=a("/Oxn"),EQt=a.n(wQt),NQt=Ed.a.createElement,{Fragment:xQt,useCallback:AQt,useMemo:LQt,useState:kQt}=Ed.a,RQt=Uu()(t_t,{}),zQt=Uu()(t_t,{}),UQt=({items:e,totalSize:t,viewportWidth:a,viewportHeight:i,scrollTop:r,scrollLeft:n,onPageRequest:s})=>{var o=kQt(t<3?t:3),l=o[1],c=o[0],d=LQt(()=>TQt(),[]),u=AQt(()=>{l(t)},[t]),p=AQt(e=>NQt(PQt,e),[]);return Uu()(xQt,{},void 0,RQt,Uu()(CO,{layout:d,cellComponentFactory:p,keyPropName:"listItemKey",items:e,totalSize:c,scrollTop:r,scrollLeft:n,viewportWidth:a,viewportHeight:i,onPageRequest:s}),zQt,Uu()("div",{className:EQt.a.allEpisodesContainer},void 0,c<t?Uu()(qv,{onPress:u},void 0,Object(Ze.default)("Show All Episodes")):null))},VQt=a("Bzgf"),BQt=a.n(VQt),FQt=Ed.a.createElement,HQt=e=>{var{iconContainerClassName:t=BQt.a.recordIconContainer,iconClassName:a=BQt.a.recordIcon}=e,i=Je()(e,["iconContainerClassName","iconClassName"]);return(FQt(qv,tp()({"aria-label":Object(Ze.default)("Record")},i),Uu()("span",{className:t},void 0,Uu()("span",{className:a}))))},_Qt=a("a5AD"),QQt=a.n(_Qt),WQt=Ed.a.createElement,GQt=Uu()($y,{}),YQt=({style:e,cellIndex:t,metadataItem:a,metadataItemState:i})=>{var{metricsPage:r,metricsContextTuple:n}=Object(_b.d)(),[s,o]=wv(),l=Object(Fu.d)(uw),c=wye(),[d,u]=pS(),p=a&&NZe({provider:o,server:s,stableUser:l,metadataItem:a,metadataItemState:i}),{summary:h}=a,{subscriptionID:m}=i;return WQt(PXe,{isAlternate:!!(t%2),isHovered:d,style:e,ref:u},Uu()(vpt,{metadataItem:a,keyAttribute:"key","aria-label":dqe(a)}),Uu()("div",{className:QQt.a.overlay},void 0,Uu()("div",{className:QQt.a.titleContainer},void 0,Uu()("div",{className:QQt.a.primaryTitle},void 0,Uu()(TKe,{className:QQt.a.titleEpisodeIndex,metadataItem:a}),GQt,Uu()(xYe,{metadataItem:a,allowLink:!1})),Uu()("div",{className:QQt.a.secondaryTitle},void 0,m?Uu()(SPe,{className:QQt.a.subscriptionIcon,"aria-label":Object(Ze.default)("Recording Scheduled")}):null,Uu()(qYe,{className:QQt.a.nextAiringDate,metadataItem:a}),h?Uu()($y,{className:QQt.a.separator}):null,h)),d&&p?Uu()(HQt,{tabIndex:-1,onPress:c.onOpen}):null),Uu()(mZe,{metadataItem:a,metadataItemState:i},void 0,({serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,onMarkStale:o})=>Uu()(hOe,{isOpen:c.isOpen,serverEntityID:e,providerEntityID:t,metadataItemEntityID:s,subscriptionType:i.grandparentSubscriptionType||i.subscriptionType||a.type,metricsProperties:{page:r,contextTuple:n},onModalClose:Ib(o,c.onClose)})))},KQt=e=>{var{item:t}=e,a=Je()(e,["item"]),i=PYe(null==t?void 0:t.sourceURI),r=WO(a),{cellIndex:n}=a;return t?Uu()(hYe,{metadataItem:t,metadataItemState:i},void 0,Uu()(YQt,{style:r.style,cellIndex:n,metadataItem:t,metadataItemState:i})):Uu()(TXe,{style:r.style,index:n})},qQt=Ed.a.createElement,{Fragment:ZQt,useCallback:XQt,useMemo:JQt}=Ed.a,$Qt=Uu()(t_t,{}),eWt=Uu()(t_t,{}),tWt=({items:e,totalSize:t,viewportWidth:a,viewportHeight:i,scrollTop:r,scrollLeft:n,onPageRequest:s})=>{var o=JQt(()=>TQt({rowHeight:96}),[]),l=XQt(e=>qQt(KQt,e),[]);return Uu()(ZQt,{},void 0,$Qt,Uu()(CO,{layout:o,cellComponentFactory:l,keyPropName:"listItemKey",items:e,totalSize:t,scrollTop:r,scrollLeft:n,viewportWidth:a,viewportHeight:i,onPageRequest:s}),eWt)};var aWt=function(e){var t=Kr(Cr).find(([,t])=>t===e);return t?Cr[t[0]]:void 0},iWt=Object(_u.a)(XBt,e=>e.metadata.metadataItem),rWt=Object(_u.a)(iWt,e=>{if(e){var t=e.skipChildren?QZe(e.type,e.subtype):_Ze(e.type,e.subtype),a=t?aWt(t):void 0;return a||void 0}}),nWt=Object(_u.a)(iWt,rWt,(e,t)=>e?e.source+":"+e.librarySectionID+":"+t:void 0),sWt=Object(_u.a)(iWt,rWt,(e,t)=>{if(!e||!t)return[];if(pqe(e))return[Dr.SimpleDetails];switch(e.subtype){case Ar.Webshow:case Ar.Podcast:return[Dr.SimpleDetails]}switch(t){case Cr.Album:case Cr.Episode:return[Dr.PrePlayGrid,Dr.Details];case Cr.Track:return[Dr.Table];default:return[Dr.PrePlayGrid]}}),oWt=Object(_u.a)(xv("prePlayListStyles"),nWt,sWt,(e,t,a)=>{if(t&&a.length){var i=e[t];return!!i&&a.includes(i)?i:a[0]}}),lWt=a("kxlF"),cWt=a.n(lWt),dWt=Ed.a.createElement,{useCallback:uWt}=Ed.a;var pWt=({className:e=cWt.a.listContainer,metadataItem:t})=>{var a=Object(Fu.c)(),[i,r]=wv(),n=QBt(),{descendantListSourceURI:s}=Object(Fu.d)(XBt),o=Object(Fu.d)(rWt),l=Object(Fu.d)(oWt),c=$Bt(),[d,u]=ZBt(n.contentHeight),p=uWt(e=>{s&&a(gn.actions.fetchRangeRequested(Object.assign({},e,{server:i,provider:r,sourceURI:s})))},[s,a,r,i]),h=function(e,t){switch(t){case Dr.PrePlayGrid:return yQt;case Dr.Details:return hQt;case Dr.SimpleDetails:return pqe(e)?tWt:UQt}throw new Error("Failed to map the preplay descendant list style to a list component. Check `selectPrePlayDescendantListStyles` for list style options.")}(t,l);return s&&o&&c&&c.totalSize?dWt("div",{className:e,ref:u},Uu()(cYe,{containerServer:i,containerProvider:r,containerSourceURI:s,containerKey:t.childrenKey,containerType:o,containerSubtype:t.subtype,listStyle:l},void 0,Uu()(nQt,{metadataList:c,metadataItem:t}),Uu()(eqe,{items:c.items},void 0,Uu()(h,{type:o,subtype:t.subtype,items:c.items,totalSize:c.totalSize,scrollTop:n.scrollTop-d,scrollLeft:n.scrollLeft,viewportWidth:n.width,viewportHeight:n.height,onPageRequest:p})))):null},hWt=Ed.a.createElement,{useCallback:mWt,useMemo:vWt}=Ed.a,gWt=()=>{var[e,t]=wv(),{extrasSourceURI:a}=Object(Fu.d)(XBt),i=vWt(()=>a?c0e(a):()=>{},[a]),r=Object(Fu.d)(i),n=Object(Fu.d)(N$e),s=vWt(()=>p$e({listType:Cr.Clip,subtype:Ar.Trailer,columnWidth:n}),[n]),o=mWt(e=>{var{item:t}=e,a=Je()(e,["item"]);return(hWt(JJe,tp()({},a,{item:t})))},[]);return r?Uu()(cYe,{containerServer:e,containerProvider:t,containerSourceURI:r.sourceURI,containerType:Cr.Clip,containerSubtype:Ar.Trailer},void 0,Uu()(E$e,{hub:{title:Object(Ze.default)("Extras"),sourceURI:r.sourceURI},keyPropName:"listItemKey",items:r.items,layout:s,cellComponentFactory:o,totalSize:r.totalSize})):null},yWt=a("/9Dk"),fWt=a.n(yWt),bWt=Ed.a.createElement,{useCallback:IWt,useMemo:SWt,useState:MWt}=Ed.a,CWt=Uu()(t_t,{}),DWt=Uu()(t_t,{}),PWt=({className:e=fWt.a.container})=>{var t,a,i=Object(Fu.c)(),{popularLeavesSourceURI:r}=Object(Fu.d)(XBt),n=SWt(()=>r?c0e(r):()=>{},[r]),s=Object(Fu.d)(n),o=QBt(),[l,c]=ZBt(o.contentHeight),[d,u]=wv(),p=null!=(t=null==s?void 0:s.items.length)?t:0,h=null!=(a=null==s?void 0:s.totalSize)?a:p,m=null==s?void 0:s.sourceURI,v=MWt(p<5?p:5),g=v[1],y=v[0],f=SWt(()=>[Qht,Xht,emt,imt],[]),b=SWt(()=>xmt(),[]),I=IWt(e=>{m&&i(gn.actions.fetchRangeRequested(Object.assign({},e,{server:d,provider:u,sourceURI:m})))},[m,i,d,u]),S=IWt(()=>{var e=y+10;g(e>h?h:e)},[h,y]),M=IWt(e=>bWt(Tmt,tp()({index:e.cellIndex+1,tableColumns:f,hasTransientActionsCell:!0},e)),[f]);return s?Uu()("div",{className:e},void 0,Uu()(cYe,{containerServer:d,containerProvider:u,containerSourceURI:s.sourceURI,containerType:Nr.Track},void 0,Uu()(oFt,{title:Object(Ze.default)("Popular Tracks")}),CWt,bWt("div",{ref:c},Uu()(eqe,{items:s.items},void 0,Uu()(CO,{keyPropName:"listItemKey",items:s.items,totalSize:y,layout:b,cellComponentFactory:M,viewportHeight:o.height,viewportWidth:o.width,scrollTop:o.scrollTop-l,scrollLeft:o.scrollLeft,onPageRequest:I}))),DWt,Uu()("div",{className:fWt.a.moreContainer},void 0,y<h?Uu()(qv,{onPress:S},void 0,Object(Ze.default)("Show More")):null))):null},{Fragment:OWt}=Ed.a,jWt=Uu()(PWt,{}),TWt=Uu()(gWt,{}),wWt=({metadataItem:e,onHubsReady:t})=>{var{summary:a,Country:i,Genre:r,Style:n}=e,[s,o]=$_t(2,t);return Uu()(OWt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(N_t,{metadataItem:e})),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayRadioVisible","isAddToPlaylistVisible","isSyncDownloadVisible","isEditVisible"]}),a?Uu()(_Ht,{},void 0,a):null,Uu()(rHt,{},void 0,i.length?Uu()(oHt,{label:Object(Ze.default)("Country")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Country",limit:2})):null,r.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null,n.length?Uu()(oHt,{label:Object(Ze.default)("Style")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Style",limit:3})):null),Uu()(jHt,{metadataItem:e})),jWt,Uu()(pWt,{metadataItem:e}),TWt,Uu()(P_t,{metadataItem:e,onHubsReady:o}),Uu()(b_t,{metadataItem:e,onHubsReady:s}))},{Fragment:EWt}=Ed.a,NWt=({metadataItem:e,onHubsReady:t})=>{var{title:a,summary:i,minYear:r,maxYear:n}=e,s=!(!r||!n||r===n),o=!(!n||r!==n);return Uu()(EWt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,a),Uu()(K_t,{},void 0,s||o?Uu()(EWt,{},void 0,s?r+"  "+n:n):null),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isShuffleVisible","isSyncDownloadVisible","isEditVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(jHt,{metadataItem:e})),Uu()(pWt,{metadataItem:e}),Uu()(P_t,{metadataItem:e,onHubsReady:t}))};function xWt(e,t,a){var i=e/1e3;return a<i?Object(Ze.default)("Aired"):t<=i&&a>=i?Object(Ze.default)("Airing"):Object(Ze.default)("Airs")}var AWt=({metadataItem:e})=>{var t=Object(Fu.d)(xv("timeFormat")),a=KYe(),i=WYe(e);if(!i)return null;var{Channel:r}=e,{videoResolution:n,beginsAt:s,endsAt:o,channelID:l}=i,c=r.find(e=>e.id===l);return Uu()(rHt,{},void 0,n?Uu()(oHt,{label:Object(Ze.default)("Video")},void 0,function(e){var t=parseInt(e,10);return t>=720||4===t||8===t}(n)?Object(Ze.default)("HD"):Object(Ze.default)("SD")):null,null!=s&&null!=o?Uu()(oHt,{label:xWt(a,s,o)},void 0,UYe({now:a,beginsAt:s,endsAt:o,channel:null==c?void 0:c.tag,timeFormat:t,showFullTime:!0,showChannel:!0})):null)},{Fragment:LWt}=Ed.a,kWt=Uu()($y,{separator:""}),RWt=({metadataItem:e,onHubsReady:t})=>{var{summary:a}=e;return(Uu()(LWt,{},void 0,Uu()(tHt,{aspectRatio:1/1.5,metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(yKe,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(TKe,{metadataItem:e}),kWt,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),a?Uu()(_Ht,{},void 0,a):null,Uu()(AWt,{metadataItem:e})),Uu()(P_t,{metadataItem:e,onHubsReady:t})))},zWt=a("KluX"),UWt=a.n(zWt),VWt=Ed.a.createElement,{useCallback:BWt,useMemo:FWt}=Ed.a,HWt=e=>{var{server:t,provider:a,contentDirectory:i,metadataItem:r,item:n}=e,s=Je()(e,["server","provider","contentDirectory","metadataItem","item"]),o=WO(s),l=Object(Fu.d)(zrt),[c,d]=pS();if(!n)return null;var{thumb:u,tag:p}=n,h=l?LHt({tag:n,contentDirectory:i,server:t,provider:a,metadataNumericType:THt(r.type),fallbackFilter:"actor"}):AHt({tag:n,contentDirectory:i,server:t,provider:a,metadataNumericType:THt(r.type),fallbackFilter:"actor"}),m=s.cellWidth;return Uu()("div",{style:o.style},void 0,VWt(fYe,{className:UWt.a.card,ref:d},u?Uu()(YS,{className:UWt.a.rounded,serverEntityID:t.entityID,providerEntityID:a.entityID,url:u,width:m,height:m,component:QI,preloadOnMount:!1,animateOnMount:!1}):Uu()(rce,{className:UWt.a.rounded,name:n.tag,width:m,height:m}),h?Uu()(Bqe,{isHovered:c,className:UWt.a.link,hoverClassName:UWt.a.hoveredLink,to:h}):null),Uu()("div",{className:UWt.a.titleContainer},void 0,h?Uu()(qv,{className:UWt.a.title,to:h,title:p},void 0,p):Uu()("span",{className:UWt.a.title,title:p},void 0,p),n.role?Uu()("span",{className:UWt.a.role,title:n.role},void 0,n.role):null))},_Wt=({metadataItem:e})=>{var[t,a,i]=wv(),r=Object(Fu.d)(N$e),{Role:n}=e,s=FWt(()=>p$e({listType:Cr.Person,columnWidth:r,titleCount:2}),[r]),o=BWt(r=>VWt(HWt,tp()({},r,{metadataItem:e,server:t,provider:a,contentDirectory:i})),[i,e,a,t]);return Uu()(E$e,{hub:{title:Object(Ze.default)("Cast"),sourceURI:_.join([e.sourceURI,"castList"])},totalSize:n.length,items:n,layout:s,cellComponentFactory:o})},{Fragment:QWt}=Ed.a,WWt=({metadataItem:e,onHubsReady:t})=>{var{year:a,summary:i,Genre:r}=e;return(Uu()(QWt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(K_t,{},void 0,a),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(rHt,{},void 0,r.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Uu()(AWt,{metadataItem:e})),Uu()(_Wt,{metadataItem:e}),Uu()(P_t,{metadataItem:e,onHubsReady:t})))},{Fragment:GWt}=Ed.a,YWt=({metadataItem:e,onHubsReady:t})=>{var{title:a,summary:i,Genre:r}=e;return(Uu()(GWt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,a),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isRecordVisible","isPlayVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(rHt,{},void 0,r.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Uu()(jHt,{metadataItem:e})),Uu()(pWt,{metadataItem:e}),Uu()(_Wt,{metadataItem:e}),Uu()(P_t,{metadataItem:e,onHubsReady:t})))},KWt=({className:e,metadataItem:t})=>{var a=KIe({useLongName:!0,episodeIndex:t.index,date:t.originallyAvailableAt,noLeadingZero:!0});return(Uu()("span",{className:e},void 0,Uu()("span",{title:t.title},void 0,a)))},qWt=a("F5gX"),ZWt=a.n(qWt),XWt=({className:e=ZWt.a.container,children:t})=>Uu()("div",{className:e},void 0,t),{Fragment:JWt}=Ed.a,$Wt=Uu()($y,{separator:""}),eGt=({metadataItem:e,onHubsReady:t})=>{var{summary:a,originallyAvailableAt:i,Writer:r,Director:n}=e,[s,o]=$_t(2,t);return Uu()(JWt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(yKe,{metadataItem:e})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(SKe,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(KWt,{metadataItem:e}),$Wt,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e}))),Uu()(XWt,{},void 0,Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),a?Uu()(_Ht,{},void 0,a):null,Uu()(rHt,{},void 0,n.length?Uu()(HRe,{label:Object(Ze.default)("Directed by")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Director",limit:2})):null,r.length?Uu()(HRe,{label:Object(Ze.default)("Written by")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Writer",limit:2})):null,i?Uu()(HRe,{label:Object(Ze.default)("Released")},void 0,Uu()(iKe,{metadataItem:e})):null),Uu()(jHt,{metadataItem:e})),Uu()(b_t,{metadataItem:e,onHubsReady:s}),Uu()(P_t,{metadataItem:e,onHubsReady:o}))},{Fragment:tGt}=Ed.a,aGt=Uu()($y,{separator:""}),iGt=({metadataItem:e,onHubsReady:t})=>{var{summary:a}=e;return(Uu()(tGt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(yKe,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(KWt,{metadataItem:e}),aGt,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible"]})),Uu()(XWt,{},void 0,a?Uu()(_Ht,{dangerouslySetInnerHTML:{__html:a}}):null),Uu()(P_t,{metadataItem:e,onHubsReady:t})))},rGt=a("hrvX"),nGt=a.n(rGt),sGt=({className:e=nGt.a.container,children:t})=>Uu()("div",{className:e},void 0,t),oGt=a.p+"common/img/ratings/rt-certified-fresh-560.6a22ac5186f3f60353ba3dc5f161dff5.svg",lGt=a.p+"common/img/ratings/rt-spilt-popcorn-simple-560.bab3b2a9cc8157dbc0d09c4f8b2a8de2.svg",cGt=a("C5La"),dGt=a.n(cGt),uGt=Ed.a.createElement,{useCallback:pGt,useMemo:hGt}=Ed.a,mGt={certified:oGt,fresh:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoODAgNzQpIj4KICAgIDxwYXRoIGZpbGw9IiNGQTMyMEEiIGQ9Ik0zOTguMjkwMTI5LDIyMi45NzU5NjYgQzM5NC4zMDA0MjksMTU5LjAxMDMgMzYxLjc2OTk1NywxMTEuMTUyNzkgMzEyLjgyMjMxOCw4NC4zOTc0MjQ5IEMzMTMuMTAwNDI5LDg1Ljk1NjIyMzIgMzExLjcxMzMwNSw4Ny45MDQ3MjEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNDAxNzE3LDExMy4zOTMxMzMgMTI5LjAzNjkxLDEwMS4zNDE2MzEgQzEwNC42OTg3MTIsMTIzLjE1MTA3MyA5MC41NjQ4MDY5LDEzMS4zNTg3OTggNDMuODk4NzEyNCwxMjAuNTI3ODk3IEMxNC4wMjA2MDA5LDE1MS43NjkwOTkgLTIuOTA5ODcxMjQsMTk0LjUyNzg5NyAwLjQxMzczMzkwNiwyNDcuNzkzMTMzIEM3LjE5NDg0OTc5LDM1Ni41Mjc4OTcgMTA5LjA0Mzc3Nyw0MTguNjgyNDAzIDIxMS42MDY4NjcsNDEyLjI4MjQwMyBDMzE0LjE2MzA5LDQwNS44ODc1NTQgNDA1LjA3Mjk2MSwzMzEuNzEwNzMgMzk4LjI5MDEyOSwyMjIuOTc1OTY2Ii8+CiAgICA8cGF0aCBmaWxsPSIjMDA5MTJEIiBkPSJNMjExLjM3NTEwNyw1OC4yOTI3MDM5IEMyMzIuNDQ5Nzg1LDUzLjI2OTUyNzkgMjkzLjA2NzgxMSw1Ny44MDM0MzM1IDMxMi40ODkyNyw4My41NjY1MjM2IEMzMTMuNjU0OTM2LDg1LjExMTU4OCAzMTIuMDEzNzM0LDg4LjAzNTE5MzEgMzEwLjEzMzkwNiw4Ny4yMTQ1OTIzIEMyNzguMTE4NDU1LDczLjIwOTQ0MjEgMjIzLjgwNjAwOSwxMTguNTM0NzY0IDE4NS44NTIzNjEsOTQuNzk5MTQxNiBDMTg2LjEzNzMzOSwxMDMuMzE3NTk3IDE4NC40NzM4MiwxNDQuODcxMjQ1IDEyNS45MzgxOTcsMTQ3LjI4MTU0NSBDMTI0LjU1NjIyMywxNDcuMzM4MTk3IDEyMy43OTU3MDgsMTQ1LjkyNzAzOSAxMjQuNjY5NTI4LDE0NC45Mjc4OTcgQzEzMi40OTc4NTQsMTM1Ljk5OTE0MiAxNDAuNCwxMTMuMzkzMTMzIDEyOS4wMzY5MSwxMDEuMzQxNjMxIEMxMDIuNTI1MzIyLDEyNS4wOTk1NzEgODguMTUyNzg5NywxMzIuNzMzOTA2IDMwLjYxMTE1ODgsMTE3LjE4MDI1OCBDMjguNzI3ODk3LDExNi42NzIxMDMgMjkuMzY5OTU3MSwxMTMuNjQ1NDk0IDMxLjM3MzM5MDYsMTEyLjg4MTU0NSBDNDIuMjQ4OTI3LDEwOC43MjUzMjIgNjYuODg3NTUzNiw5MC41MjEwMyA5MC4xOTc0MjQ5LDgyLjQ5Njk5NTcgQzk0LjYzNTE5MzEsODAuOTcwODE1NSA5OS4wNTkyMjc1LDc5Ljc4NjI2NjEgMTAzLjM3NjgyNCw3OS4wOTc4NTQxIEM3Ny43MTE1ODgsNzYuODA0MjkxOCA2Ni4xNDI0ODkzLDczLjIzNTE5MzEgNDkuODE4MDI1OCw3NS42OTY5OTU3IEM0OC4wMjkxODQ1LDc1Ljk2NjUyMzYgNDYuODEzNzMzOSw3My44ODQxMjAyIDQ3LjkyMjc0NjgsNzIuNDU1Nzk0IEM2OS45MTc1OTY2LDQ0LjEyNDQ2MzUgMTEwLjQzNjA1MiwzNS41NjgyNDAzIDEzNS40MzUxOTMsNTAuNjE4ODg0MSBDMTIwLjAyNTc1MSwzMS41MjUzMjE5IDEwNy45NTUzNjUsMTYuMjk3ODU0MSAxMDcuOTU1MzY1LDE2LjI5Nzg1NDEgTDEzNi41NTYyMjMsMC4wNTIzNjA1MTUgQzEzNi41NTYyMjMsMC4wNTIzNjA1MTUgMTQ4LjM3MjUzMiwyNi40NTIzNjA1IDE1Ni45Njk5NTcsNDUuNjY2MDk0NCBDMTc4LjI0NTQ5NCwxNC4yMzA5MDEzIDIxNy44MzAwNDMsMTEuMzI5NjEzNyAyMzQuNTU0NTA2LDMzLjYzMzQ3NjQgQzIzNS41NDY3ODEsMzQuOTU4Nzk4MyAyMzQuNTA5ODcxLDM2Ljg0Mzc3NjggMjMyLjg1MzIxOSwzNi44MDQyOTE4IEMyMTkuMjQxMjAyLDM2LjQ3Mjk2MTQgMjExLjc0NTkyMyw0OC44NTQwNzczIDIxMS4xNzc2ODIsNTguMjcwMzg2MyBMMjExLjM3NTEwNyw1OC4yOTI3MDM5Ii8+CiAgPC9nPgo8L3N2Zz4K",rotten:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPHBhdGggZmlsbD0iIzBBQzg1NSIgZD0iTTM3NS4xODUyNjMsMzY4LjY4NDQ3NCBDMjk1LjgxNjMxNiwzNzIuODUxMzE2IDI3OS41OTg0MjEsMjgyLjAzMTg0MiAyNDguNDU5NDc0LDI4Mi42Nzg0MjEgQzIzNS4xOTA3ODksMjgyLjk1NjU3OSAyMjQuNzMzMTU4LDI5Ni44Mjk0NzQgMjI5LjMyNTUyNiwzMTIuOTk3NjMyIEMyMzEuODUxMDUzLDMyMS44ODU3ODkgMjM4Ljg1NjU3OSwzMzQuOTIwNTI2IDI0My4yNzAyNjMsMzQzLjAwOTIxMSBDMjU4LjgzOTczNywzNzEuNTUyNjMyIDIzNS44MjI2MzIsNDAzLjg1Mzk0NyAyMDguODg3MzY4LDQwNi41ODU3ODkgQzE2NC4xMjYwNTMsNDExLjEyNjU3OSAxNDUuNDU0NDc0LDM4NS4xNjAyNjMgMTQ2LjYwOTQ3NCwzNTguNTc4Njg0IEMxNDcuOTA4MTU4LDMyOC43Mzg0MjEgMTczLjIwOTQ3NCwyOTguMjQ3ODk1IDE0Ny4yNTk3MzcsMjg1LjI3Mzk0NyBDMTIwLjA2NDczNywyNzEuNjc3MzY4IDk3Ljk1NzYzMTYsMzI0Ljg0NjA1MyA3MS45MzQyMTA1LDMzNi43MTI4OTUgQzQ4LjM4MTA1MjYsMzQ3LjQ1NDIxMSAxNS42ODU1MjYzLDMzOS4xMjYwNTMgNC4wNjE4NDIxMSwzMTIuOTcxODQyIEMtNC4xMDIzNjg0MiwyOTQuNTkzMTU4IC0yLjYxNzYzMTU4LDI1OS4yMDQ0NzQgMzMuNzMyNjMxNiwyNDUuNzAxODQyIEM1Ni40Mzg0MjExLDIzNy4yNjg2ODQgMTA3LjAzNzM2OCwyNTYuNzMwNTI2IDEwOS42MzI4OTUsMjMyLjA3OTQ3NCBDMTEyLjYyNDQ3NCwyMDMuNjYzMTU4IDU2LjQ3NzEwNTMsMjAxLjI2NjU3OSAzOS41NzIxMDUzLDE5NC40NTI2MzIgQzkuNjYsMTgyLjM5Nzg5NSAtNy45OTQ3MzY4NCwxNTYuNjAyODk1IDUuODM3NjMxNTgsMTI4LjkzMDc4OSBDMTYuMjE2MDUyNiwxMDguMTczOTQ3IDQ2Ljc1MjYzMTYsOTkuNzI3ODk0NyA3MC4wNjA3ODk1LDEwOC44MjA1MjYgQzk3Ljk4MzQyMTEsMTE5LjcxMjg5NSAxMDIuNDY1MjYzLDE0OC42NzQ0NzQgMTE2Ljc3MTA1MywxNjAuNzE4MTU4IEMxMjkuMDk0NzM3LDE3MS4wOTg0MjEgMTQ1Ljk2MTA1MywxNzIuMzk3MTA1IDE1Ni45OTE1NzksMTY1LjI2MDc4OSBDMTY1LjEyNjMxNiwxNTkuOTk2MDUzIDE2Ny44MzQyMTEsMTQ4LjQzMzE1OCAxNjQuNzY1MjYzLDEzNy44NzA1MjYgQzE2MC42OTQyMTEsMTIzLjg0ODQyMSAxNDkuODkwMjYzLDExNS4wOTg0MjEgMTM5LjM0OTczNywxMDYuNTI1MjYzIEMxMjAuNTkxNTc5LDkxLjI3NjMxNTggOTQuMTA5NDczNyw3OC4xNjQyMTA1IDExMC4xMjg0MjEsMzYuNTQxODQyMSBDMTIzLjI1ODk0NywyLjQzMTU3ODk1IDE2MS43NywxLjIwMjg5NDc0IDE2MS43NywxLjIwMjg5NDc0IEMxNzcuMDcwNTI2LC0wLjUxNzYzMTU3OSAxOTAuNzcyMTA1LDQuMTAyMzY4NDIgMjAxLjkzNzEwNSwxNC4wNzczNjg0IEMyMTYuODYzNjg0LDI3LjQxMjM2ODQgMjE5Ljc3MDUyNiw0NS4yMzY1Nzg5IDIxNy4yNzI2MzIsNjQuMjUyNjMxNiBDMjE0Ljk5MDI2Myw4MS42MTA3ODk1IDIwOC44NDY4NDIsOTYuODEzNjg0MiAyMDUuNjQzNDIxLDExNC4wMTE1NzkgQzIwMS45MjYwNTMsMTMzLjk3ODE1OCAyMTIuNTk3MzY4LDE1NC4wOTc2MzIgMjMyLjg5MTg0MiwxNTQuODgwNTI2IEMyNTkuNTg1Nzg5LDE1NS45MTIxMDUgMjY3LjU4OTczNywxMzUuMzk0NzM3IDI3MC44NTU3ODksMTIyLjM4OTQ3NCBDMjc1LjYzNzg5NSwxMDMuMzYwNTI2IDI4MS45MTM5NDcsODUuNjk0NzM2OCAyOTkuNTc0MjExLDc0LjU2ODQyMTEgQzMyNC45MTk3MzcsNTguNTk5MjEwNSAzNjAuMTI2MDUzLDYyLjA5OTIxMDUgMzc2LjQ2LDkyLjc5MDUyNjMgQzM4OS4zODA1MjYsMTE3LjA3NSAzODUuMjMyMTA1LDE1MC41MDU1MjYgMzY1LjQxMjg5NSwxNjguNzYwNzg5IEMzNTYuNTIxMDUzLDE3Ni45NDg5NDcgMzQ1LjgyOTQ3NCwxNzkuODM1NTI2IDMzNC4yNjQ3MzcsMTc5LjkxNjU3OSBDMzE3LjY4MDI2MywxODAuMDM0NDc0IDMwMS4xMDMxNTgsMTc5LjYyNzM2OCAyODUuNzA4Njg0LDE4Ny4zODgxNTggQzI3NS4yMjg5NDcsMTkyLjY2OTQ3NCAyNzAuNjYyMzY4LDIwMS4yNzU3ODkgMjcwLjY2NDIxMSwyMTIuODExMDUzIEMyNzAuNjY0MjExLDIyNC4wNTM0MjEgMjc2LjUxNjU3OSwyMzEuMzk2MDUzIDI4NS45OTk3MzcsMjM2LjE3NDQ3NCBDMzAzLjg2MDc4OSwyNDUuMTc2ODQyIDMyMy41NzY4NDIsMjQ3LjAxNzEwNSAzNDIuODcxMDUzLDI1MC4zOTU1MjYgQzM3MC44NTA3ODksMjU1LjI5NTUyNiAzOTUuNDUyMTA1LDI2NS4xNTA3ODkgNDExLjI0NjMxNiwyOTEuMTE1MjYzIEM0MTEuMzg4MTU4LDI5MS4zNDM2ODQgNDExLjUyNjMxNiwyOTEuNTczOTQ3IDQxMS42NjA3ODksMjkxLjgwNjA1MyBDNDI5LjgsMzIyLjU0NzEwNSA0MTAuODMsMzY2LjgxMTA1MyAzNzUuMTg1MjYzLDM2OC42ODQ0NzQiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDcwIDc2KSIvPgo8L3N2Zz4K",spilled:lGt,upright:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NjAiIGhlaWdodD0iNTYwIiB2aWV3Qm94PSIwIDAgNTYwIDU2MCI+CiAgPGcgZmlsbD0ibm9uZSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTA0IDQ1KSI+CiAgICA8cGF0aCBmaWxsPSIjRkZGIiBkPSJNMjY2LjU3MDgyNiw0MjkuMjE0MDcxIEwyOTAuMDM1NzQxLDE5MS4yNTc1MTcgQzMwNC45NjUwOTUsMTg2LjQ2MTcyMSAzMTkuNTMzNjkyLDE4MC4xMDc1OTkgMzMwLjI2NTMxMywxNzAuOTk1NzYyIEwzMDAuMTU5NjgyLDQwMS4yNzc5OTMgQzI5My40MTIxMzksNDExLjUyNjE4MiAyODAuMjk3MDc1LDQyMi4xMzg1NjUgMjY2LjU3MDgyNiw0MjkuMjE0MDcxIFogTTE4OC4zNzI1MzcsNDUwLjg0NTA1MiBMMTkxLjMxOTg4MSwyMDYuMzE3MjYgQzIxMi4yMTM5NywyMDUuNzE4NDQyIDIzOS4yNTMxNzQsMjAyLjg4NzE5IDI2Mi4yOTA3ODYsMTk3Ljk3MDU4IEwyNDMuMjE5NzQxLDQzOS4xNDAwODkgQzIyMC40OTU2MDIsNDQ2LjY1ODU4IDIwNy4yODU5Nyw0NDguOTg5MDY3IDE4OC4zNzI1MzcsNDUwLjg0NTA1MiBaIE04OC42Nzk0ODI2LDE5Ny45NzA1OCBDMTExLjcxNzA5NSwyMDIuODg3MTkgMTM4Ljc1NjI5OSwyMDUuNzE4NDQyIDE1OS42NTAzODgsMjA2LjMxNzI2IEwxNjIuNTk3NzMxLDQ1MC44NDUwNTIgQzE0My42ODQyOTksNDQ4Ljk4OTA2NyAxMzAuNDc0NjY3LDQ0Ni42NTg1OCAxMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IFogTTIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgwODgzNTgsNDAxLjI3Nzk5MyBMMjAuNzA0OTU1MiwxNzAuOTk1NzYyIFoiLz4KICAgIDxwYXRoIGZpbGw9IiNGRkQ3MDAiIGQ9Ik0xNC45MDQ4MzU4LDExMi40NDQ2ODQgQzE2LjI2MjA0OTgsMTQxLjI3MTk4NSA4Ny42NzYwMTk5LDE2NC4xMjE2MTMgMTc1LjQ4MzM4MywxNjMuNjIwODQ4IEMyNTIuMTcwMzQ4LDE2My4xODMxMTUgMzE2LjE0MTUzMiwxNDUuMDc1MDA0IDMzMS44MTE2NjIsMTIxLjI4NTEyNiBDMzI4LjI0MDg3NiwxMTcuMzE3NTIgMzIzLjMwOTM3MywxMTQuNTk2NTc2IDMxNy43NTQ0MjgsMTEzLjg1OTQzNSBDMzE3LjgxMzk3LDExMy4xNTkwNjMgMzE3Ljg1MjQ5OCwxMTIuNDUzNDM5IDMxNy44NDg5OTUsMTExLjczNzMwOSBDMzE3Ljc4NDE5OSwxMDAuMzM3MDA3IDMwOS40MjAyNTksOTAuOTQ4NTI0MiAyOTguNTIyMjY5LDg5LjE5NzU5NDggQzI5OC44MDk0NzMsODcuNzIzMzEyMyAyOTguOTYwMDgsODYuMTk4MjUyOCAyOTguOTUxMzIzLDg0LjYzODE3NDcgQzI5OC44Nzk1MjIsNzEuOTQyMTg1OSAyODguNTI2MTY5LDYxLjcwOTc1NDYgMjc1LjgyNzksNjEuNzgxNTQyOCBDMjc1LjU0MDY5Nyw2MS43ODMyOTM3IDI3NS4yNjA0OTgsNjEuODE4MzEyMyAyNzQuOTc1MDQ1LDYxLjgzMDU2ODggQzI3NS43ODc2MjIsNTkuNDU2MzA4NiAyNzYuMjQyOTQ1LDU2LjkxOTIxMTkgMjc2LjIyODkzNSw1NC4yNzAwNTU4IEMyNzYuMTU1MzgzLDQxLjU3NDA2NjkgMjY1LjgwMzc4MSwzMS4zNDE2MzU3IDI1My4xMDU1MTIsMzEuNDEzNDIzOCBDMjUwLjE5MTQ0MywzMS40MzA5MzMxIDI0Ny40MTkyMjQsMzIuMDEwNDkwNyAyNDQuODU4OTA1LDMzLjAxMzc3MzIgQzI0MS4yMjY4MjYsMjYuMTc4MTQ1IDIzNC4yNTMzNzMsMjEuNDEzODY2MiAyMjYuMTIyMzQ4LDIwLjg2NDA3NDMgQzIyNC43MDU1OTIsOS40NjM3NzMyMyAyMTQuOTY1MTc0LDAuNjY4ODU1MDE5IDIwMy4xOTE1NjIsMC43MzUzOTAzMzUgQzE5NS43ODIwNSwwLjc3NzQxMjYzOSAxODkuMjI4ODk2LDQuMzM1MzAxMTIgMTg1LjA1NTY4Miw5Ljc5OTk1MTY3IEMxODAuODIyOTI1LDUuMTk1MDA3NDMgMTc0Ljc1NjYxNywyLjMwNTk3Mzk4IDE2OC4wMDkwNzUsMi4zNDQ0OTQ0MiBDMTU1LjMxMDgwNiwyLjQxNjI4MjUzIDE0NS4wNzY1MzcsMTIuNzY3Nzc3IDE0NS4xNDgzMzgsMjUuNDYyMDE0OSBDMTQ1LjE2MjM0OCwyNy44ODcwNTIgMTQ1LjU1NjM3OCwzMC4yMTc1MzkgMTQ2LjI2Mzg4MSwzMi40MDc5NTE3IEMxNDEuMDgxOTUsMzMuMzY5MjExOSAxMzYuNTI1MjE0LDM2LjA2MjE0MTMgMTMzLjE5NDM0OCwzOS44NjY5MTA4IEMxMzAuNTQ5OTcsMzAuMDE5Njg0IDEyMS41NTczMzMsMjIuNzgzMDkyOSAxMTAuODgsMjIuODQyNjI0NSBDMTAwLjkwNDkxNSwyMi45MDA0MDUyIDkyLjQ3NDQyNzksMjkuMzEyMzA4NiA4OS4zNDMyMDQsMzguMjA4NzgwNyBDODAuODY4OTM1Myw0MS42MzUzNDk0IDc0LjkwNDE5OSw0OS45NDcwMTEyIDc0Ljk2MDIzODgsNTkuNjQxOTA3MSBDNzQuOTcyNDk3NSw2MS43OTU1NTAyIDc1LjMwMTczMTMsNjMuODY4NjUwNiA3NS44NjczODMxLDY1Ljg0MzY5ODkgQzczLjAwOTM1MzIsNjQuNTkzNTM1MyA2OS44NTg4NjU3LDYzLjg5MzE2MzYgNjYuNTM4NTA3NSw2My45MTI0MjM4IEM1Ni41MjY2NDY4LDYzLjk3MDIwNDUgNDguMDY5ODkwNSw3MC40Mjc2MzIgNDQuOTY0OTM1Myw3OS4zNzY2MzIgQzQxLjk4NzgyMDksNzcuOTkzMzk3OCAzOC42Nzc5NzAxLDc3LjIwNzIzMDUgMzUuMTc3MjMzOCw3Ny4yMjgyNDE2IEMyMi40Nzg5NjUyLDc3LjMwMDAyOTcgMTIuMjQyOTQ1Myw4Ny42NDk3NzMyIDEyLjMxNjQ5NzUsMTAwLjM0NTc2MiBDMTIuMzM5MjYzNywxMDQuNTMyMjM0IDEzLjUwMDMzODMsMTA4LjQ0MDMwOSAxNS40NzU3NDEzLDExMS44MDkwOTcgQzE1LjI3NDM0ODMsMTEyLjAxMjIwNCAxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTQuOTA0ODM1OCwxMTIuNDQ0Njg0Ii8+CiAgICA8cGF0aCBmaWxsPSIjRkEzMjBBIiBkPSJNMzAwLjE2MTQzMyw0MDEuMjc3OTkzIEMyOTMuNDEyMTM5LDQxMS41MjYxODIgMjgwLjI5NzA3NSw0MjIuMTM4NTY1IDI2Ni41NzA4MjYsNDI5LjIxNDA3MSBMMjkwLjAzNTc0MSwxOTEuMjU3NTE3IEMzMDQuOTY1MDk1LDE4Ni40NjE3MjEgMzE5LjUzMzY5MiwxODAuMTA3NTk5IDMzMC4yNjUzMTMsMTcwLjk5NTc2MiBMMzAwLjE2MTQzMyw0MDEuMjc3OTkzIFogTTI0My4yMTk3NDEsNDM5LjE0MDA4OSBDMjIwLjQ5NzM1Myw0NDYuNjU4NTggMjA3LjI4NTk3LDQ0OC45ODkwNjcgMTg4LjM3MjUzNyw0NTAuODQ1MDUyIEwxOTEuMzE5ODgxLDIwNi4zMTcyNiBDMjEyLjIxMzk3LDIwNS43MTg0NDIgMjM5LjI1MzE3NCwyMDIuODg3MTkgMjYyLjI5MjUzNywxOTcuOTcwNTggTDI0My4yMTk3NDEsNDM5LjE0MDA4OSBaIE0xMDcuNzUwNTI3LDQzOS4xNDAwODkgTDg4LjY3OTQ4MjYsMTk3Ljk3MDU4IEMxMTEuNzE3MDk1LDIwMi44ODcxOSAxMzguNzU2Mjk5LDIwNS43MTg0NDIgMTU5LjY1MDM4OCwyMDYuMzE3MjYgTDE2Mi41OTc3MzEsNDUwLjg0NTA1MiBDMTQzLjY4NDI5OSw0NDguOTg5MDY3IDEzMC40NzQ2NjcsNDQ2LjY1ODU4IDEwNy43NTA1MjcsNDM5LjE0MDA4OSBaIE01MC44MTA1ODcxLDQwMS4yNzc5OTMgTDIwLjcwNDk1NTIsMTcwLjk5NTc2MiBDMzEuNDM2NTc3MSwxODAuMTA3NTk5IDQ2LjAwNTE3NDEsMTg2LjQ2MTcyMSA2MC45MzQ1Mjc0LDE5MS4yNTc1MTcgTDg0LjM5OTQ0MjgsNDI5LjIxNDA3MSBDNzAuNjczMTk0LDQyMi4xMzg1NjUgNTcuNTU4MTI5NCw0MTEuNTI2MTgyIDUwLjgxMDU4NzEsNDAxLjI3Nzk5MyBaIE0yOTguNDc4NDg4LDgwLjEzNDc4NDQgQzI5OC43NzYxOTksODEuNTg4MDU1OCAyOTguOTQyNTY3LDgzLjA5MDM1MzIgMjk4Ljk1MTMyMyw4NC42MzI5MjE5IEMyOTguOTYwMDgsODYuMTkzIDI5OC44MDk0NzMsODcuNzE4MDU5NSAyOTguNTIwNTE3LDg5LjE5MjM0MiBDMzA5LjQyMDI1OSw5MC45NDE1MjA0IDMxNy43ODQxOTksMTAwLjMzMDAwNCAzMTcuODQ4OTk1LDExMS43MzIwNTYgQzMxNy44NTI0OTgsMTEyLjQ0NjQzNSAzMTcuODEzOTcsMTEzLjE1MzgxIDMxNy43NTQ0MjgsMTEzLjg1MjQzMSBDMzIzLjMwOTM3MywxMTQuNTg5NTcyIDMyOC4yNDA4NzYsMTE3LjMxMDUxNyAzMzEuODExNjYyLDEyMS4yNzgxMjMgQzMxNi4xNDMyODQsMTQ1LjA2OTc1MSAyNTIuMTcwMzQ4LDE2My4xNzc4NjIgMTc1LjQ4NTEzNCwxNjMuNjE3MzQ2IEM4Ny42Nzc3NzExLDE2NC4xMTk4NjIgMTYuMjYzODAxLDE0MS4yNzE5ODUgMTQuOTA0ODM1OCwxMTIuNDQyOTMzIEMxNS4wOTc0NzI2LDExMi4yMzQ1NzIgMTUuMjc0MzQ4MywxMTIuMDEwNDU0IDE1LjQ3NTc0MTMsMTExLjgwOTA5NyBDMTQuMTIwMjc4NiwxMDkuNDk3ODcgMTMuMTg1MTE0NCwxMDYuOTIyMjUzIDEyLjcwMTc3MTEsMTA0LjE4OTA1MiBDNC4yOTQwNDk3NSwxMTIuMTY4MDM3IC0wLjc5MzMxMzQzMywxMTguNjAwOTUyIDAuMTAxNTcyMTM5LDEyNy45Njg0MjQgQzAuMTg3MzgzMDg1LDEyOS4yMjAzMzggMzcuMjk3OTksMzk0Ljg4MDA5NyAzNy4yOTc5OSwzOTQuODgwMDk3IEM0MS41Nzk3ODExLDQzNi45NTQ5MjkgMTAyLjY4OTQzMyw0NzAuNTgzMjc5IDE3NS40ODUxMzQsNDcxIEMyNDguMjgwODM2LDQ3MC41ODMyNzkgMzA5LjM5MjIzOSw0MzYuOTU0OTI5IDMxMy42NzIyNzksMzk0Ljg4MDA5NyBDMzEzLjY3MjI3OSwzOTQuODgwMDk3IDM1MC43ODI4ODYsMTI5LjIyMDMzOCAzNTAuODY4Njk3LDEyNy45Njg0MjQgQzM1Mi42NDYyMDksMTA5LjIzMTcyOSAzMzAuNzE4ODg2LDkyLjIyMzIwMDcgMjk4LjQ3ODQ4OCw4MC4xMzQ3ODQ0IFoiLz4KICA8L2c+Cjwvc3ZnPgo="},vGt=parseInt(YU.a.v4PagePadding,10),gGt=e=>{var{item:t}=e,a=WO(Je()(e,["server","provider","item"]));if(!t)return null;var{text:i,tag:r,source:n,image:s,link:o}=t,l=s?s.substr(s.lastIndexOf(".")+1):"",c=mGt[l];return Uu()(fYe,{className:dGt.a.card,style:a.style},void 0,Uu()("div",{className:dGt.a.details},void 0,c?Uu()("img",{className:dGt.a.ratingImg,src:c}):null,Uu()("div",{className:dGt.a.titleContainer},void 0,o?Uu()(qv,{to:o,target:"_blank",rel:"noopener noreferrer",className:dGt.a.title},void 0,n):Uu()("div",{className:dGt.a.title},void 0,n),Uu()("div",{className:dGt.a.author},void 0,r))),Uu()("div",{className:dGt.a.reviewContainer},void 0,i))},yGt=({metadataItem:e})=>{var[t,a]=wv(),{Review:i}=e,r=hGt(()=>dO({columnWidth:350,rowHeight:220,innerHorizontalPadding:30,outerPaddingLeft:vGt,outerPaddingRight:vGt}),[]),n=pGt(e=>uGt(gGt,tp()({},e,{server:t,provider:a})),[a,t]);return Uu()(E$e,{hub:{title:Object(Ze.default)("Reviews"),sourceURI:_.join([e.sourceURI,"reviewList"])},totalSize:i.length,items:i,layout:r,cellComponentFactory:n})},{Fragment:fGt}=Ed.a,bGt=Uu()(gWt,{}),IGt=({metadataItem:e,onHubsReady:t})=>{var{year:a,summary:i,Country:r,Genre:n,Platform:s}=e,[o,l]=$_t(2,t);return Uu()(fGt,{},void 0,Uu()(tHt,{metadataItem:e,isProgressBarHidden:!0},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,a),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isEditVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(sGt,{},void 0,Uu()(rHt,{},void 0,s.length?Uu()(oHt,{label:Object(Ze.default)("Platform")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Platform",limit:2})):null,r.length?Uu()(oHt,{label:Object(Ze.default)("Country")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Country",limit:2})):null,Uu()(BHt,{label:Object(Ze.default)("Studio"),metadataItem:e}),n.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null))),Uu()(_Wt,{metadataItem:e}),Uu()(yGt,{metadataItem:e}),bGt,Uu()(b_t,{metadataItem:e,onHubsReady:o}),Uu()(P_t,{metadataItem:e,onHubsReady:l}))},{Fragment:SGt}=Ed.a,MGt=Uu()(gWt,{}),CGt=({metadataItem:e,onHubsReady:t})=>{var{year:a,summary:i,Director:r,Writer:n,Genre:s}=e,[o,l]=$_t(2,t);return Uu()(SGt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,a),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(sGt,{},void 0,Uu()(rHt,{},void 0,r.length?Uu()(oHt,{label:Object(Ze.default)("Directed by")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Director",limit:2})):null,n.length?Uu()(oHt,{label:Object(Ze.default)("Written by")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Writer",limit:2})):null,Uu()(BHt,{label:Object(Ze.default)("Studio"),metadataItem:e}),s.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Uu()(jHt,{metadataItem:e}))),Uu()(_Wt,{metadataItem:e}),Uu()(yGt,{metadataItem:e}),MGt,Uu()(b_t,{metadataItem:e,onHubsReady:o}),Uu()(P_t,{metadataItem:e,onHubsReady:l}))},{Fragment:DGt}=Ed.a,PGt=({metadataItem:e})=>{var{summary:t}=e;return(Uu()(DGt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(SKe,{metadataItem:e})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),t?Uu()(_Ht,{},void 0,t):null,Uu()(jHt,{metadataItem:e})),Uu()(pWt,{metadataItem:e})))},{Fragment:OGt}=Ed.a,jGt=Uu()(gWt,{}),TGt=({metadataItem:e,onHubsReady:t})=>{var{year:a,summary:i,Genre:r}=e;return(Uu()(OGt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(H_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(N_t,{metadataItem:e})),Uu()(K_t,{},void 0,a),Uu()(X_t,{},void 0,Uu()(V_t,{metadataItem:e})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isPlayTrailerVisible","isAddToWatchlistVisible","isRemoveFromWatchlistVisible","isMarkPlayedVisible","isMarkUnplayedVisible","isSyncDownloadVisible","isEditVisible"]}),i?Uu()(_Ht,{},void 0,i):null,Uu()(rHt,{},void 0,Uu()(BHt,{label:Object(Ze.default)("Studio"),metadataItem:e}),r.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Uu()(jHt,{metadataItem:e})),Uu()(pWt,{metadataItem:e}),Uu()(_Wt,{metadataItem:e}),jGt,Uu()(P_t,{metadataItem:e,onHubsReady:t})))},{Fragment:wGt}=Ed.a,EGt=Uu()(gWt,{}),NGt=({metadataItem:e,onHubsReady:t})=>{var{summary:a,Genre:i}=e;return(Uu()(wGt,{},void 0,Uu()(tHt,{metadataItem:e},void 0,Uu()(W_t,{},void 0,Uu()(xYe,{metadataItem:e,allowLink:!1})),Uu()(UFt,{metadataItem:e,promotedActions:["isPlayVisible","isAddToSavedVisible"]}),a?Uu()(_Ht,{dangerouslySetInnerHTML:{__html:a}}):null,Uu()(rHt,{},void 0,i.length?Uu()(oHt,{label:Object(Ze.default)("Genre")},void 0,Uu()(UHt,{metadataItem:e,tagName:"Genre",limit:3})):null),Uu()(jHt,{metadataItem:e})),Uu()(pWt,{metadataItem:e}),Uu()(_Wt,{metadataItem:e}),EGt,Uu()(P_t,{metadataItem:e,onHubsReady:t})))},{memo:xGt}=Ed.a;var AGt=xGt(({metadataItem:e,onHubsReady:t})=>{var a=function(e){var{type:t,subtype:a}=e;if(pqe(e))switch(t){case Nr.Movie:return WWt;case Nr.Show:return YWt;case Nr.Episode:return RWt}switch(a){case Ar.Webshow:case Ar.Podcast:switch(t){case Nr.Show:return NGt;case Nr.Episode:case Nr.Track:return iGt}}switch(t){case Nr.Movie:return CGt;case Nr.Show:return TGt;case Nr.Season:return PGt;case Nr.Episode:return eGt;case Nr.Artist:return wWt;case Nr.Album:return tQt;case Nr.Collection:return NWt;case Nr.Game:return IGt}}(e);return a?Uu()(a,{metadataItem:e,onHubsReady:t}):Uu()(bGe,{title:Object(Ze.default)("Missing details"),description:Object(Ze.default)("Pardon our dust. This item is lacking a details page.")})}),LGt=a("UqSa"),kGt=a.n(LGt),RGt=Ed.a.createElement,{useCallback:zGt,useEffect:UGt,useState:VGt}=Ed.a,BGt=Uu()(vp,{},void 0,Uu()(bp,{})),FGt=Uu()(IGe,{}),HGt=()=>{var e=VGt(!1),t=e[1],a=e[0],[i,r]=wv(),{metadata:{metadataItem:n,isPopulated:s,error:o}}=Object(Fu.d)(XBt),l=$Bt(),[c,{height:d}]=Object(Bb.a)(),[u,{width:p,height:h}]=Object(Bb.a)(),m=VGt({scrollTop:0,scrollLeft:0}),v=m[1],g=m[0],y=zGt(e=>{v(e)},[]),{scrollRestoreProps:f,onScrollPositionReady:b}=xO({key:"PrePlayPage",onScrollPositionChange:y}),I=zGt(()=>{t(!0)},[t]);return UGt(()=>{a&&b()},[a,b]),!s&&!o||l&&!l.isPopulated&&!l.error?BGt:o||!n||(null==l?void 0:l.error)?FGt:Uu()(cYe,{containerServer:i,containerProvider:r,containerSourceURI:n.sourceURI,containerType:n.type,containerSubtype:n.subtype},void 0,RGt(BGe,tp()({ref:c},f),RGt("div",{className:kGt.a.prePlayContentWrapper,ref:u},Uu()(WBt,{width:p,height:d,contentHeight:h,scrollTop:g.scrollTop,scrollLeft:g.scrollLeft},void 0,Uu()(AGt,{metadataItem:n,onHubsReady:I})))))},{useMemo:_Gt}=Ed.a;function QGt(){var{siblingListSourceURI:e}=Object(Fu.d)(XBt),t=_Gt(()=>e?c0e(e):()=>{},[e]);return Object(Fu.d)(t)}function WGt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48",id:"plex-icon-toolbar-sibling-nav-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M5 39.36H43.4V43.2H5V39.36ZM5 27.84H43.4V31.68H5V27.84ZM5.00104 16.32H43.4V20.16H5.00104V16.32ZM5 4.79999H43.4V8.63999H5V4.79999Z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}WGt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var GGt=WGt,YGt=a("Nw/v"),KGt=a.n(YGt),{Fragment:qGt}=Ed.a,ZGt=Uu()(GGt,{}),XGt=Uu()($y,{}),JGt=({server:e,provider:t,metadataItem:a,metricsContextTuple:i})=>{var r=ly(),n=QGt();if(!n)return null;var{items:s}=n,o=!a;return Uu()(qGt,{},void 0,Uu()(oJ,{id:r.menuButtonID,isDisabled:o,onPress:r.onMenuButtonPress},void 0,ZGt,Uu()(my,{className:o?KGt.a.disabledDisclosureArrow:KGt.a.disclosureArrow,direction:r.isMenuOpen?cy:dy})),Uu()(Fg,{isOpen:r.isMenuOpen,target:r.menuButtonID,size:wp,onMenuClose:r.onMenuClose},void 0,s.map(r=>Uu()(iy,{to:lu(e,t,r.key,{context:Object(_b.b)(i)},null==a?void 0:a.playlistType),isSelected:r.key===(null==a?void 0:a.key)},r.key,r.type===Nr.Episode?Uu()(qGt,{},void 0,Uu()(gpt,{metadataItem:r}),XGt):null,r.title))))},{Fragment:$Gt}=Ed.a,eYt=Uu()(Z1e,{}),tYt=Uu()(oO,{}),aYt=Uu()(rO,{}),iYt=({metadataItem:e})=>{var[t,a]=wv(),{metricsContextTuple:i}=Object(_b.d)(),r=QGt();if(!r||r.items.length<2)return null;var{items:n}=r,s=n.findIndex(t=>t.key===(null==e?void 0:e.key)),o=s<0?s:s+1,l=n[s<0?s:s-1],c=n[o],d={context:Object(_b.b)(i)};return Uu()($Gt,{},void 0,eYt,Uu()("div",{},void 0,Uu()(oJ,{"data-qa-id":"toolbarPrevious",to:lu(t,a,null==l?void 0:l.key,d),isDisabled:!l},void 0,tYt),Uu()(JGt,{metadataItem:e,server:t,provider:a,metricsContextTuple:i}),Uu()(oJ,{"data-qa-id":"toolbarNext",to:lu(t,a,null==c?void 0:c.key,d),isDisabled:!c},void 0,aYt)))},rYt=a("fPZ+"),nYt=a.n(rYt),{Fragment:sYt,useCallback:oYt}=Ed.a,lYt=Uu()(G1e,{}),cYt=Uu()(Rgt,{}),dYt=Uu()(mBt,{}),uYt=Uu()(Z1e,{}),pYt=()=>{var e=Object(Fu.c)(),{metadata:{metadataItem:t,isPopulated:a}}=Object(Fu.d)(XBt),i=Object(Fu.d)(xv("showPrePlayArtwork")),r=Object(Fu.d)(xv("prePlayListStyles")),n=Object(Fu.d)(nWt),s=Object(Fu.d)(oWt),o=Object(Fu.d)(sWt),l=oYt(t=>{if(n){var a=Object.assign({},r,{[n]:t});Object(wa.a)(()=>{e(Object(Qu.f)({prePlayListStyles:a}))})}},[e,r,n]),c=Object(Fu.d)(n1e),d=oYt(()=>{e(Object(Qu.f)({showPrePlayArtwork:!i}))},[e,i]);return c?lYt:Uu()(P1e,{className:nYt.a.pageHeader},void 0,Uu()(vJ,{},void 0,a?cYt:null),Uu()(bJ,{},void 0,(null==t?void 0:t.grandparentArt)||(null==t?void 0:t.parentArt)||(null==t?void 0:t.art)?Uu()(sYt,{},void 0,Uu()($1e,{},void 0,Uu()(oJ,{tooltip:i?Object(Ze.default)("Blur Background"):Object(Ze.default)("Show Background"),isSelected:i,onPress:d},void 0,dYt)),uYt):null,s&&o.length>1?Uu()(J0e,{listStyles:o,selectedListStyle:s,onListStyleSelect:l}):Uu()(J0e,{listStyles:[Dr.PrePlayGrid],selectedListStyle:Dr.PrePlayGrid}),Uu()(iYt,{metadataItem:t})))},{useEffect:hYt}=Ed.a,mYt=Uu()(pYt,{}),vYt=Uu()(HGt,{}),gYt=({machineIdentifier:e,providerIdentifier:t,metadataKey:a})=>{var i=Object(Fu.c)(),r=Object(Fu.d)(Dv(e)),n=Object(Fu.d)(fv(e,t)),{metadata:{metadataItem:s,isPopulated:o,isStale:l}}=Object(Fu.d)(XBt),c=s?UBt(n,s):void 0,d=PYe(Object(an.a)({serverIdentifier:r.machineIdentifier,providerIdentifier:n.identifier,metadataItemKey:a})),u=Object(Fu.d)(xv("showPrePlayArtwork")),p=Object(Fu.d)(xv("playThemeMusic")),h=Object(Fu.d)(Qwe);return Zb({identifier:n.metricsIdentifier,type:null==s?void 0:s.type},o),hYt(()=>(d.isDeleted?H.a.trigger("navigate:back",{replace:!0}):i(ss.actions.metadataItemFetchRequested({server:r,provider:n,metadataKey:a})),()=>{i(ss.actions.reset())}),[a,d.isDeleted]),hYt(()=>{(l||d.isStale)&&i(ss.actions.metadataItemRepopulateRequested({server:r,provider:n}))},[l,d.isStale]),hYt(()=>{if(s){var e=s.thumb||s.parentThumb||s.grandparentThumb,t=s.grandparentArt||s.parentArt||s.art,a=u?t||e:e||t;i(gQ({serverEntityID:r.entityID,providerEntityID:n.entityID,imageUrl:a,allowBlur:!u||!t}))}},[i,s,n.entityID,r.entityID,u]),hYt(()=>{if(s&&p){var e=s.grandparentTheme||s.parentTheme||s.theme;i(yQ({serverEntityID:r.entityID,providerEntityID:n.entityID,theme:e}))}},[i,s,p,n.entityID,r.entityID]),hYt(()=>{if(s&&s.librarySectionID)return i(uee({serverEntityID:r.entityID,providerEntityID:n.entityID,providerIdentifier:n.identifier,directoryID:s.librarySectionID})),()=>{i(uee({serverEntityID:null,providerEntityID:null,providerIdentifier:null,directoryID:null}))}},[i,s,n.entityID,n.identifier,t,r.entityID]),hYt(()=>{s&&h&&i(jae({server:r,provider:n,metadataItem:s,metadataItemState:d,legacyAction:d9()}))},[i,h,s,d,n,r]),Uu()(Ev,{machineIdentifier:e,providerIdentifier:t,contentDirectoryID:null==c?void 0:c.id},void 0,Uu()(kGe,{allowBackgroundPreset:!1,scrollDirection:$u.None},void 0,mYt,vYt))},{useMemo:yYt}=Ed.a,fYt=({selectedMachineIdentifier:e,selectedProviderIdentifier:t})=>{var a=yYt(()=>fv(e,t),[e,t]),i=Object(Fu.d)(a),r=Object(Fu.d)(iWt),n=r?UBt(i,r):void 0;return Uu()(Qtt,{selectedMachineIdentifier:e,selectedProviderIdentifier:t,selectedSourceDirectoryID:null==n?void 0:n.id})},bYt=Object(_u.a)(e=>e.ui.prePlayPage.metadataItem,qG,(e,t)=>{var a=t[e]||{};return!(!a||!a.isPreFetched)});var IYt=Jnt(CBt,(function(e){var t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}}),(function(e,t){e(KRe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e($Re()),e(eze())})),SYt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.prePlayPage,bYt,gne,Nv.a,(e,t,a,i)=>{var{metadataItem:r,descendantList:n,isMetadataItemPending:s,metadataItemError:o}=e,l=!s&&!!o;return{metadataItemEntityID:r,metadataListEntityID:n,showSpinner:s&&!t,showError:l,showNotFoundError:l&&404===o.status,activeSelectionType:a.activeSelectionType,columnAdjustment:i.columnAdjustment}})}))(IYt),MYt=Uu()(qat,{}),CYt=Uu()(qat,{}),DYt=Hu.extend({component(e){var{selectedServerID:t,selectedProviderID:a,params:i={}}=e,{key:r,record:n,allEpisodes:s,legacy:o}=i,l=a||jt.d,c=Object(pt.a)(ht.n,t),d=Object(pt.a)(ht.k,l,c),u=Object(pt.a)(ht.g,r,c);return o?Uu()(vGe,{metricsContext:i.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(LBt,{selectedMachineIdentifier:t,selectedProviderIdentifier:l,providerEntityID:d,metadataItemEntityID:u}),Uu()(tit,{serverEntityID:c},void 0,r?Uu()(SYt,{serverEntityID:c,providerEntityID:d,metadataKey:r,record:1===parseInt(n,10),allEpisodes:1===parseInt(s,10)}):CYt)))):Uu()(_b.a,{metricsPage:Rd.eb,metricsContextParam:i.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(fYt,{selectedMachineIdentifier:t,selectedProviderIdentifier:l}),Uu()(tit,{serverEntityID:c},void 0,r?Uu()(gYt,{machineIdentifier:t,providerIdentifier:l,metadataKey:r}):MYt))))}}),PYt=Uu()(qat,{}),OYt=Hu.extend({component(e){var{selectedProviderID:t,params:a={}}=e,{key:i,record:r,allEpisodes:n}=a,s=Object(pt.a)(ht.n,pw.a),o=Object(pt.a)(ht.k,t,s),l=Object(pt.a)(ht.g,i,s);return Uu()(_b.a,{metricsPage:Rd.eb,metricsContextParam:a.context},void 0,Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(LBt,{selectedMachineIdentifier:pw.a,selectedProviderIdentifier:t,providerEntityID:o,metadataItemEntityID:l}),Uu()(Irt,{providerEntityID:o},void 0,i?Uu()(gYt,{machineIdentifier:pw.a,providerIdentifier:t,metadataKey:i}):PYt))))}}),jYt=Object(_u.a)(Gu,e=>e.transientServer,(e,t)=>e[t]),TYt=Ed.a.createElement;var wYt=function(e){return e.serverEntityID&&e.providerEntityID?TYt(SYt,e):Uu()(fh,{title:Object(Ze.default)("No longer available"),description:Object(Ze.default)("Details can only be mirrored temporarily while casting")},void 0,Uu()(Vp,{to:"#",kind:Dp},void 0,Object(Ze.default)("Go Home")))};var EYt=Object(Fu.b)((function(){return Object(_u.a)((e,{providerIdentifier:t})=>t,pv,jYt,(e,t,a)=>{if(a)for(var i=a.providers,r=0,n=i.length;r<n;r++){var s=t[i[r]];if(s.identifier===e)return{serverEntityID:a.entityID,providerEntityID:s.entityID}}return{}})}))(wYt);EYt.propTypes=Object.assign({},EYt.propTypes,{providerIdentifier:Oc.a.string.isRequired});var NYt=EYt,xYt=Uu()(Qtt,{}),AYt=Hu.extend({component(e){var{selectedProviderID:t,params:a={}}=e;return(Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,xYt,Uu()(NYt,{providerIdentifier:t,metadataKey:a.key}))))}}),LYt=B.Controller.extend({album(e,t,a){H.a.trigger("show:view",new kBt({selectedServerID:e,selectedProviderID:t,isPlaylistRoute:!1,params:_.parseParams(a)}))},playlist(e,t,a){H.a.trigger("show:view",new kBt({selectedServerID:e,selectedProviderID:t,params:_.parseParams(a)}))},providerPlaylist(e,t){H.a.trigger("show:view",new zBt({selectedProviderID:e,params:_.parseParams(t)}))},prePlay(e,t,a){H.a.trigger("show:view",new DYt({selectedServerID:e,selectedProviderID:t,params:_.parseParams(a)}))},transientPrePlay(e,t){H.a.trigger("show:view",new AYt({selectedProviderID:e,params:_.parseParams(t)}))},providerPrePlay(e,t){H.a.trigger("show:view",new OYt({selectedProviderID:e,params:_.parseParams(t)}))}}),kYt=Ru.extend({controller:new LYt,appRoutes:{"!/provider/:providerID/details":"providerPrePlay","!/provider/:providerID/playlist":"providerPlaylist","!/server/:serverID(/provider/:providerID)/album":"album","!/server/:serverID(/provider/:providerID)/playlist":"playlist","!/server/:serverID(/provider/:providerID)/details":"prePlay","!/transient/provider/:providerID/details":"transientPrePlay"}}),RYt=a("/lm6"),zYt=a.n(RYt),UYt=B.ItemView.extend({template:zYt.a});var VYt=function(e,t,a){return null==a&&(a=e+"s"),1===t?e:a},BYt=a("+ICQ"),FYt=a.n(BYt),HYt=B.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:FYt.a,ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var a=QM(e,this.model.get("platform"));t.attr("src",a)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return Nj(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,a=e.get("itemsCompleteCount");return a&&a>0&&(t=[a,VYt("item",a)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,a=e.get("totalSize");return a&&a>0&&(t=["(",S4(a),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?Ge.execute("removeServer",{device:this.model}):Ge.execute("removeDevice",{device:this.model})}}),_Yt=ym.extend({tagName:"ul",className:"list card-tile-list",itemView:HYt,emptyView:UYt}),QYt=a("L1nn"),WYt=a.n(QYt),GYt=B.Layout.extend({className:"devices-container",template:WYt.a,regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4","Plex for PlayStation 5"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox","Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){var t=Object(ie.c)("appModel").get("user"),a=t.get("desktop").get("devices");this.model=t,this.collection=a,this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),rr("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1})},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return D.a.sortBy(e,(function(e){return"all"===e.id?"":e.title.toLowerCase()}))},getDeviceType:function(e){var t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find(t=>t.id===e)||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;var e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){var t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter((function(e){return"all"===e.id||D.a.intersection(this.products,e.ids).length>0}),this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=D.a.flatten(D.a.map(this.deviceTypes,(function(e){return e.ids}))),t=D.a.difference(this.products,e),a=D.a.find(this.deviceTypes,(function(e){return"other"===e.id}));D.a.each(t,(function(e){a.ids.push(e)}))},onRender:function(){this.list.show(new _Yt({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();var t=T()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),rr("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1}),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.data("id"),i=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==a){var r=D.a.findWhere(this.deviceTypes,{id:a});i=this.collection.filterByProducts(r.ids)}this.list.show(new _Yt({collection:i}))}}),{Fragment:YYt,useState:KYt}=Ed.a,qYt=Uu()(u6,{selectedKey:"devices"}),ZYt=Uu()(ph,{},void 0,Uu()(Xh,{}));var XYt=function(e){var{deviceTypeID:t}=e,a=KYt({isDevicesPopulated:!1,devicesError:!1}),i=a[1],r=a[0];Ju(()=>{Object(ie.c)("appModel").get("user").get("desktop").get("devices").fetch().then(()=>{i({isDevicesPopulated:!0,devicesError:!1})},()=>{i({isDevicesPopulated:!1,devicesError:!0})})});var n=!r.isDevicesPopulated&&!r.devicesError,s=!n&&r.devicesError,o=!n&&!s;return Uu()(YYt,{},void 0,qYt,n?ZYt:null,s?Uu()(fh,{title:Object(Ze.default)("Your devices are unavailable. Please try again later.")}):null,o?Uu()(C3,{metricsPage:Rd.E},void 0,Uu()(g3,{},void 0,Object(Ze.default)("Authorized Devices")),Uu()(NQ,{view:GYt,viewOptions:{deviceTypeID:t}})):null)},JYt=Hu.extend({component(e){var{deviceTypeID:t}=e;return(Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()(XYt,{deviceTypeID:t}))))}}),$Yt=[{key:"general",title:()=>Object(Ze.default)("General")},{key:"quality",title:()=>Object(Ze.default)("Quality")},{key:"debug",title:()=>Object(Ze.default)("Debug"),isAdvanced:!0},{key:"player",title:()=>Object(Ze.default)("Player")},{key:"downloads",title:()=>Object(Ze.default)("Downloads")}];Object.values(v),Object.values(v),Object.values(y);var eKt={musicSettings:[{value:hl.a.ORIGINAL,title:()=>Object(Ze.default)("Original")},{value:3,title:()=>Object(Ze.default)("High (320 Kbps)")},{value:2,title:()=>Object(Ze.default)("Medium (192 Kbps)")},{value:1,title:()=>Object(Ze.default)("Low (128 Kbps)")}],videoSettings:[{value:hl.a.ORIGINAL,title:()=>Object(Ze.default)("Original")},{value:12,title:()=>Object(Ze.default)("High (20 Mbps, 1080p)")},{value:8,title:()=>Object(Ze.default)("Medium (4 Mbps, 720p)")},{value:5,title:()=>Object(Ze.default)("Low (1.5 Mbps, 480p)")}]},tKt=a("P5aE"),aKt=a.n(tKt),iKt=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}];var rKt=B.ItemView.extend({className:"web-settings-container",template:aKt.a,ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message",audioDeviceName:".audio-device-name",audioDevicesFieldSets:".audio-device-fields",audioDeviceKindSelects:".audio-device-kind",audioDeviceKindFieldSets:".audio-device-kind-fields"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change .audio-device-name":"onAudioDeviceChange","change .audio-device-kind":"onAudioDeviceKindChange","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","click .reset-reminders-btn":"onResetReminders","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=Object(ie.c)("appModel"),a=t.get("user"),i=a.get("experienceSettings");this.model=t.get("deviceSettings"),this.settingsGroup=e.settingsGroup,this.listenTo(a,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(H.a,"shortcut:save",this.saveChanges);var r=t.get("deviceSettings").get("audioDevices");r&&this.listenTo(r,"change",this.onAudioDevicesChange);var n=i.get("showAdvancedSettings");(this.$el.toggleClass("show-advanced",n),this.displayHomeStreamingSettings(i.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup)&&Object(ie.c)("appStore").dispatch(Object(Wi.q)({hasDismissedInsecureHostedAppWarning:!0}))},serializeData:function(){var e,t=[{value:"h:mma",title:Object(Ze.default)("12 Hour")},{value:"HH:mm",title:Object(Ze.default)("24 Hour")}],a=this.model.toJSON(),i=Object(ie.c)("appModel"),r=Object(Ta.o)(i),n=Object(Ta.n)(i),s=r.get("experienceSettings").toJSON(),o=!!r.get("pin")||n.get("homeUsers").length>1,l=r.isNinja(),c=r.get("restricted"),d=r.get("isSignedIn")&&be.a.allowSyncSettings&&!s.isRemoteSchemaVersionNewer,u=r.get("isSignedIn")&&be.a.allowSyncSettings&&s.isRemoteSchemaVersionNewer,p=F8.prop("video"),h=r.isNinja()?"4.47.3-927d87d":"4.47.3",m=D.a.escape($.prop("X-Plex-Product"));return Object.assign({},this.serializePlatformData(),{deviceSettings:a,experienceSettings:s,hasHome:o,canPlayAdaptiveBitrate:!0,hasSubtitleBurnLevel:!0,hasSubtitleColor:!0,hasSubtitlePosition:!0,hasSubtitleSize:!0,canDebugAds:r.isEmployee(),canDebugAdaptiveBitrate:l,isAnonymous:r.get("anonymous"),isRestricted:c,isSyncSettingsAllowed:d,isSyncSettingsRestrictedBySchemaVersion:u,isHybridPlatform:!1,isNinja:l,isQtDesktop:!1,version:h,languages:(e=Object.keys(Du.a.getLanguages()).map(e=>({value:e,title:nW(e)})),e.sort((e,t)=>e.title.localeCompare(t.title)),e),debugLevels:ac.a.settings,debugAdKinds:tc.a.settings,subtitlesBurnLevels:Dc.settings,chromecastAppIDs:rc.settings,availableQualities:gl.a.getAvailableQualities({lowestQualityIndex:p.lowestQualityIndex}).reverse(),subtitleColors:Ic.settings,subtitlePositions:Mc.settings,subtitleSizes:vye.settings,musicDownloadQualityLevels:eKt.musicSettings,videoDownloadQualityLevels:eKt.videoSettings,httpFallbackOptions:F.a.isHostedHttps?null:fc.settings,alertIcon:Vd(mh),showReloadSecurely:!1,extrasPrefixCounts:iKt,timeFormats:t,generalSettingsRoute:"#!/settings/web/general",escapedProductName:m,hasV4DirectoryFeature:r.get("features").get(Tt.A),hasV4DVRSetupFeature:r.get("features").get(Tt.B),normalizeDownmixedVolume:100===s.audioBoost})},serializePlatformData:()=>({}),saveChanges:function(){var e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,a=this.ui.restoreBtn,i=this.ui.submitBtn,r=this.ui.message;if(!i.isDisabled()){r.text(""),r.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),a.addClass("disabled"),i.addClass("active");var n=!!this.changes.language,s=!1===this.changes.shouldSaveLastSourcePivots,o=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.tryInterceptAudioDeviceChanges(this.changes).then(e=>this.interceptNormalizedDownmixedVolumeChange(e)).then(e=>this.saveSettings(e));l.done(D.a.bind((function(){var e=Object(ie.c)("appStore");this.changes={},s&&e.dispatch(Object(Wi.j)()),o&&e.dispatch(z8(4)),n?e.dispatch(En.actions.languageChanged()):(i.addClass("disabled"),r.text(Object(Ze.default)("Your changes have been saved.")))}),this)),l.fail(D.a.bind((function(){var e=qs(Object(ie.c)("appModel").get("user"))?Object(Ze.default)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):Object(Ze.default)("Your changes could not be saved.");r.addClass("has-error"),r.text(e)}),this)),l.always(D.a.bind((function(){n||(e.removeClass("disabled"),t.removeClass("disabled"),a.removeClass("disabled"),i.removeClass("active"))}),this))}},toggleSync:function(){var e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,a=this.ui.submitBtn,i=this.ui.message;if(!e.isDisabled()){i.text("");var r=this.getToggleSyncConfirmModal();r.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),a.addClass("disabled"),this.toggleShouldSyncSettings().then(()=>{this.changes={},this.render(),r.hide()},()=>{i.text(Object(Ze.default)("An error occurred, could not load settings from your Plex profile.")),e.removeClass("active"),t.removeClass("disabled"),a.removeClass("disabled"),r.hide()}))),H.a.trigger("show:modal",r)}},resetCustomization:function(){var e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,a=this.ui.submitBtn,i=this.ui.message;if(!e.isDisabled()){i.text("");var r=this.getResetCustomizationConfirmModal();r.promise.then(()=>{e.addClass("active"),t.addClass("disabled"),a.addClass("disabled"),Object(ie.c)("appStore").dispatch(EA()),r.hide()}),H.a.trigger("show:modal",r)}},restoreDefaults:function(){var e=this.ui.restoreBtn,t=this.ui.submitBtn,a=this.ui.message;if(!e.isDisabled()){a.text("");var i=this.getRestoreDefaultsConfirmModal();i.promise.then(()=>(e.addClass("active"),t.addClass("disabled"),this.restoreDefaultSettings().then(()=>{this.changes={},this.render(),i.hide()},()=>{a.text(Object(Ze.default)("An error occurred, defaults have not been restored.")),e.removeClass("active"),t.removeClass("disabled"),i.hide()}))),H.a.trigger("show:modal",i)}},getToggleSyncConfirmModal:function(){var e=Object(ie.c)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?Object(Ze.default)("Turn off settings sync"):Object(Ze.default)("Turn on settings sync"),a=$.prop("X-Plex-Product"),i=e?Object(Ze.default)("Changes to {productName} settings and customization will no longer synchronize with other {productName} instances.",{productName:a}):Object(Ze.default)("{productName} settings and customization will now be used on other {productName} instances.",{productName:a});return new mi({title:t,message:i,confirmLabel:t,cancelLabel:Object(Ze.default)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){var e=Object(Ze.default)("Reset customization");return new mi({title:e,message:Object(Ze.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){var e=qs(Object(ie.c)("appModel").get("user")),t=Object(Ze.default)("Restore defaults"),a=$.prop("X-Plex-Product"),i=e?Object(Ze.default)("All {productName} settings and customization will be reset and restored to their default state. This will affect other {productName} instances.",{productName:a}):Object(Ze.default)("All {productName} settings and customization will be reset and restored to their default state. Other {productName} instances will not be affected.",{productName:a});return new mi({title:t,message:i,confirmLabel:t,cancelLabel:Object(Ze.default)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,a){var i=T.a.Deferred(),r="change:"+t;return e.on(r,(function t(n,s){s===a&&(e.off(r,t),i.resolve())})),i.promise()},tryInterceptAudioDeviceChanges:function(e){return T.a.Deferred().resolve(e).promise()},interceptAudioDeviceChanges:function(e){var t=Object(ie.c)("appModel").get("deviceSettings"),a=t.get("audioDevices"),i=e["player.audioDevice"],r=new Set;for(var n in e)/^ignore/.test(n)&&(r.add(document.getElementById(n).dataset.cid),delete e[n]);if(r.forEach(e=>{var t=a.get(e),i=this.getAudioDeviceSettingsFromForm(e);t&&i&&(Object(O.a)("[Settings] Updating "+t.get("description")+" ("+t.get("name")+"): "+JSON.stringify(i)),t.set(i))}),r.size||i){var s=a.get(i||t.get("player.audioDevice"));if(s)if(s.get("present")){var o={"player.audioDevice":s.get("name"),"player.audioChannelLayout":s.get("channelLayout"),"player.audioPassthroughCodecs":s.get("passthroughCodecs"),"player.transcodeToAC3Enabled":s.get("transcodeToAC3")};Object.assign(e,o),Object(O.a)("[Settings] Audio device changes "+s.get("description")+" ("+s.get("name")+"): "+JSON.stringify(o))}else O.a.error("[Settings] Expected device "+s.get("description")+" ("+s.get("name")+") is absent. Changes saved but refusing to select absent device.");else O.a.error("[Settings] Expected audio device missing.")}return T.a.Deferred().resolve(e).promise()},getAudioDeviceFields:function(e){return this.ui.audioDevicesFieldSets.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindSelect:function(e){return this.ui.audioDeviceKindSelects.toArray().find(t=>t.dataset.cid===e)},getAudioDeviceKindFields:function(e,t){return this.ui.audioDeviceKindFieldSets.toArray().find(a=>a.dataset.cid===e&&a.dataset.kind===t)},getAudioDeviceSettingsFromForm:function(e){var t=this.getAudioDeviceKindSelect(e);if(!t)return null;var a=this.getAudioDeviceKindFields(e,t.value),i={channelLayout:a.querySelector("[name=channelLayout]").value,kind:parseInt(t.value,10),passthroughCodecs:[],transcodeToAC3:a.querySelector("[name=transcodeToAC3]").checked};for(var r of a.querySelectorAll("[name=passthroughCodecs]"))r.checked&&i.passthroughCodecs.push(r.value);return i},interceptNormalizedDownmixedVolumeChange:function(e){var{normalizeDownmixedVolume:t}=e;return null!=t&&(delete e.normalizeDownmixedVolume,e.audioBoost=t?100:700),T.a.Deferred().resolve(e).promise()},saveSettings:function(e){var t=[],a=Object(ie.c)("appModel"),i=[{model:a.get("deviceSettings"),actionCreator:Wi.q},{model:a.get("user").get("experienceSettings"),actionCreator:Qu.f}].reduce((e,{model:a,actionCreator:i})=>{var r={},n={};for(var s in e){var o,l=e[s];if(a.hasAttr(s)){var c=Object.getPrototypeOf(a),d=c.syncedAttrs[s]||c.sessionAttrs[s];"string"==typeof l&&d===Ae.a.integer&&(l=Object(zs.a)(l)),o=r}else o=n;o[s]=l}return Object.keys(r).length&&t.push(this.saveSettingUsingActionCreator(r,a,i)),n},e);return Object.keys(i).length&&t.push(this.model.save(i)),t.length?T.a.when(...t):T.a.Deferred().resolve().promise()},toggleShouldSyncSettings:function(){var e=Object(ie.c)("appModel").get("deviceSettings"),t=Object(ie.c)("appModel").get("user").get("experienceSettings"),a=e.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!a},e,Wi.q).then(()=>this.saveSettingUsingActionCreator({},t,Qu.f))},restoreDefaultSettings:function(){var e=[],t=Object(ie.c)("appModel");return[{model:t.get("deviceSettings"),actionCreator:cu},{model:t.get("user").get("experienceSettings"),actionCreator:iL}].forEach(({model:t,actionCreator:a})=>{e.push(this.saveSettingUsingActionCreator({},t,a))}),T.a.when(...e)},saveSettingUsingActionCreator:function(e,t,a){if(!t.has("isSaving"))return Object(ie.c)("appStore").dispatch(a(e)),T.a.Deferred().resolve().promise();var i=t.get("isSaving"),r=this.waitForAttribute(t,"isSaving",!1);return r=r.then(()=>i?this.saveSettingUsingActionCreator(e,t,a):t.get("saveError")?T.a.Deferred().reject().promise():T.a.Deferred().resolve().promise()),i||window.setTimeout(()=>{Object(ie.c)("appStore").dispatch(a(e))},0),r},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),Object(ie.c)("appStore").dispatch(Object(Qu.f)({showAdvancedSettings:!t}))},onReloadSecurelyClick(e){window.location=Js(Od(window.location.href,"https:"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(a).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===rc.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=T()(e.currentTarget),a=e.currentTarget,i=a.value;"checkbox"===a.type&&(i=t.prop("checked")),"int"===t.data("type")&&(i=parseInt(i,10)),this.changes[a.id]=i,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onAudioDevicesChange:function(e){var t=this.ui.audioDeviceName[0],a=t.querySelector("option[value="+e.cid+"]");a&&(a.disabled=!e.get("present"),a.disabled&&a.selected&&(t.selectedIndex=0,this.onAudioDeviceChange({target:t})))},onAudioDeviceChange:function(e){this.ui.audioDevicesFieldSets.each((t,a)=>{a.classList.toggle("hidden",e.target.value!==a.dataset.cid)})},onAudioDeviceKindChange:function(e){var{cid:t}=e.target.dataset,a=e.target.value;this.ui.audioDeviceKindFieldSets.each((e,i)=>{i.classList.toggle("hidden",i.dataset.cid!==t||i.dataset.kind!==a)})},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onResetReminders:function(e){e.preventDefault(),Object(ie.c)("appStore").dispatch(oL())},onSubmit:function(e){e.preventDefault(),this.saveChanges()}}),{Fragment:nKt,useEffect:sKt}=Ed.a,oKt=Uu()(ph,{},void 0,Uu()(Xh,{})),lKt=Uu()($y,{});var cKt=function(e){var{settingsSubset:t,title:a,showSpinner:i,isSettingsSubsetAllowed:r,isSignedIn:n,onPopulateHomeUsers:s}=e;return Ju(()=>{rr("webSettings",{settingsSubset:"general"})},!r),sKt(()=>{n&&Object(wa.a)(s)},[n,s]),i?oKt:Uu()(nKt,{},void 0,Uu()(u6,{selectedKey:"web-client--settings--"+t}),Uu()(C3,{metricsPage:Rd.kb,metricsPane:"web:"+t},void 0,Uu()(g3,{},void 0,$.prop("X-Plex-Product"),lKt,a()),Uu()(NQ,{view:rKt,viewOptions:{subset:"web",settingsGroup:t}})))};var dKt={onPopulateHomeUsers:IA},uKt=Object(Fu.b)((function(){return Object(_u.a)((e,{settingsSubset:t})=>t,Yu,qu.a,Wq,(e,t,a,i)=>{var r,n=(r=e,$Yt.find(e=>e.key===r)),s=n&&(a.experienceSettings.showAdvancedSettings||!n.isAdvanced),o=t.isPending&&t.connectionTestResult===qa.PENDING,l=!t.isResolved&&!t.isRejected||t.isResolved&&(!i.isHomeUsersPopulated&&!i.homeUsersError||!!i.homeUsersError&&i.isHomeUsersPending);return{showSpinner:!s||o||l,settingsSubset:e,title:n&&n.title,isSettingsSubsetAllowed:s,isSignedIn:a.isSignedIn}})}),dKt)(cKt),pKt=Hu.extend({initialize:function(){this.listenTo(H.a,"change:language",this.render)},component(e){var{settingsSubset:t}=e;return(Uu()(zh,{},void 0,Uu()(Ah,{},void 0,Uu()(uKt,{settingsSubset:t}))))}}),hKt=B.Controller.extend({settings(){return this.webSettings("general")},webSettings(e){H.a.trigger("show:view",new pKt({settingsSubset:e}))},legacyWebSettings(){return this.webSettings("general")},legacyServerSettings(e,t){var a;if(t){var i=G0.find(e=>!!e.groups.find(e=>e.key===t));i&&(a=i.key)}else a="settings",t="general";this.showServerSettingsView(e,a,t)},serverSettings(e,t){this.showServerSettingsView(e,"settings",t)},manage(e,t){this.showServerSettingsView(e,"manage",t)},showServerSettingsView(e,t,a){H.a.trigger("show:view",new v6({settingsSection:t,group:a,serverID:e}))},devices(e){H.a.trigger("show:view",new JYt({deviceTypeID:e}))}}),mKt=Ru.extend({controller:new hKt,appRoutes:{"!/settings/server/:serverID/settings/:group":"serverSettings","!/settings/server/:serverID/manage/:group":"manage","!/settings/web/(:settingsSubset)":"webSettings","!/settings/devices(/:deviceTypeID)":"devices","!/settings":"settings","!/settings/web":"legacyWebSettings","!/settings/server(/:serverID)(/:group)":"legacyServerSettings"}});var vKt=function(e){return e.get("desktop").get("settings").populate().then(e=>e.get("AcceptedEULA").save({AcceptedEULA:!0}))},gKt=a("dpdm"),yKt=a.n(gKt),fKt=B.ItemView.extend({className:"setup-basic-container",template:yKt.a,ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){D.a.bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=Object(ie.c)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),a=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:a?a.toJSON():null}},mountReact:function(){Bu.a.render(Uu()(Fu.a,{store:Object(ie.c)("appStore")},void 0,Uu()(ek,{origin:"server-setup",metricsProperties:{context:_t.SETUP_WIZARD,firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Bu.a.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this.ui.submitBtn;if(!e.hasClass("active")){e.addClass("active"),Object(ie.c)("metrics").trackClick({action:kd.W,page:Rd.mb,pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var t=this.save();(t=t.done(()=>{this.ui.nextBtn.click()})).always((function(){e.removeClass("active")}))}},save(){return this.saveChanges().then(()=>this.claimServer())},saveChanges(){return(D.a.isEmpty(this.changes)?T.a.Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,()=>{H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})})},claimServer(){var e=Object(ie.c)("appModel"),t=e.get("cloudServer");return this.model.supports("claimServer")&&!this.model.get("isClaimed")&&!this.model.get("superToken")&&!e.get("user").get("anonymous")?ae(t.populate().then(()=>Ge.execute("signInServer",{claim:!0,cloudAccount:this.model.get("desktop").get("cloudAccount")}).then(null,()=>{H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem claiming this server.")})}))):T.a.Deferred().resolve().promise()},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,a=t.value;"checkbox"===t.type&&(a=t.checked?1:0),this.changes[t.id]=a},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),bKt=a("vEnl"),IKt=a.n(bKt),SKt=B.ItemView.extend({className:"setup-complete-container",template:IKt.a,ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){D.a.bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var e=ie.c("appModel").get("user");e.get("isSignedIn")?e.fetch().done(this.whenRendered(()=>{this.ui.submitBtn.removeClass("active")})):this.once("attached",()=>{this.ui.submitBtn.removeClass("active")})},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4=",collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){Bu.a.render(Uu()("div",{},void 0,this.isDVRSetupModalOpen?Uu()(Fu.a,{store:ie.c("appStore")},void 0,Uu()(TH,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Bu.a.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){var e=T.a.Deferred();return new Ik([],{server:this.model}).fetch().then(t=>{t.filter(e=>!e.get("parentID")&&e.get("status")===fk).length?e.resolve():e.reject()},()=>{e.reject()}),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered((function(){this.ui.doneBtn.click(),e.removeClass("active")}))))},save:function(){this.saved=!0,D.a.has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&ie.c("metrics").trackClick({action:kd.K,page:Rd.mb,pane:"complete",firstRun:!0});var e=this.collection.first().save(this.changes),t=this.model.get("sections").filter(e=>e.isNew()).map(e=>e.save()),a=T.a.when(e,Ce(t));return a.fail(()=>{H.a.trigger("show:alert",{type:"error",message:Object(Ze.default)("There was a problem saving these settings.")})}),a},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,a=t.value;"checkbox"===t.type&&(a=t.checked?1:0),this.changes[t.id]=a},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}}),MKt=a("c7MW"),CKt=a.n(MKt),DKt=B.ItemView.extend({className:"setup-error-container",template:CKt.a}),PKt=a("sPMf"),OKt=a.n(PKt),jKt=B.ItemView.extend({className:"setup-intro-container",template:OKt.a,serializeData:()=>({computerImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg==",mediaImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4=",playImg:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="})}),TKt=a("yCP3"),wKt=a.n(TKt),EKt={artist:"music",movie:"film",photo:"picture",show:"display"},NKt=B.ItemView.extend({tagName:"li",className:"card-tile-list-single-item",template:wKt.a,events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON(),a=t.locations&&t.locations[0],i=t.locations?t.locations.length:0;return{section:t,serverID:e.id,icon:EKt[t.type],path:a.path,more:i-1}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();var t=this.model,a=new rG({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&a.promise.always(()=>{t.trigger("destroy",t,t.collection)}),H.a.trigger("show:modal",a)},onDeleteClick:function(e){e.preventDefault();var t=this.model;t.isNew()?t.trigger("destroy",t,t.collection):Ge.execute("deleteSection",{section:t})}}),xKt=ym.extend({tagName:"ul",className:"list card-tile-list",itemView:NKt}),AKt=a("/GUN"),LKt=a.n(AKt),kKt=B.Layout.extend({className:"setup-library-container",template:LKt.a,regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){var t=this.model,a=t.get("sections"),i=new Mt([],{server:t,url:"/services/defaultLibraries"});this.collection=a,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&T.a.when(i.populate(),a.populate()).done(()=>{a.length||i.forEach(e=>{e.collection=a,a.add(e)})})},onRender:function(){this.list.show(new xKt({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),H.a.trigger("show:modal",new rG({server:this.model}))}}),RKt=a("VTB1"),zKt=a.n(RKt),UKt=B.ItemView.extend({className:"setup-loading-container",template:zKt.a}),VKt=a("h5wC"),BKt=a.n(VKt);var FKt={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},HKt=[tn.a,tn.i,tn.b],_Kt=B.Layout.extend({className:"container",template:BKt.a,maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){D.a.bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,Object(ie.c)("appStore").dispatch)(gQ({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},O.a.info("Starting the setup wizard");var t=Object(ie.c)("appModel");this.model=Object(Ta.m)(t,e),this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){if(this.model.get("shared"))this.navigate("setupError");else{var e=Object(ie.c)("appModel"),t=e.get("user").server,a=t.populate();a.done(this.whenRendered(()=>{this.navigate("setupIntro")})),a.fail(()=>{e.get("primaryServer").get("desktop").get("settings").fetch().then(e=>!0===e.get("AcceptedEULA").get("value")?T.a.Deferred().resolve():T.a.Deferred().reject()).then(this.whenRendered(()=>{this.navigate("setupIntro")})).fail(this.whenRendered(()=>{var a=e.get("skipSignIn"),i=t.get("isUnavailable");this.navigate(a||i?"setupIntro":"setupSignIn")}))})}},start:function(){if(this.attempts>=this.maxAttempts)return O.a.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)Object(O.a)("Waiting for server to start ("+e+")"),this.model.fetch().done(D.a.delay(this.start,500));else{var t=new cW([],{server:this.model}).fetch({timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,a="setupSignIn"===e,i="setupLoading"===e,r=function(e){return{setupSignIn:qit,setupIntro:jKt,setupLoading:UKt,setupError:DKt,setupBasic:fKt,setupLibrary:kKt,setupComplete:SKt}[e]}(e),n=FKt[e];this.previousSubset=this.subset,this.subset=e,n&&Object(ie.c)("metrics").trackView({page:Rd.mb,pane:n,firstRun:!0});var s=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;var o=new r({model:this.model,isFirstRun:!0,isFirstVisitToSubset:s});this.container.show(o),this.ui.header.toggleClass("hidden",t||a),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),i&&this.start()},onRender:function(){Object(ie.c)("appModel").set("isFirstRun",!0),this.renderSubset()},onClose:function(){Object(ie.c)("appModel").set("isFirstRun",!1)},onAgentsSuccess:function(e){Object(O.a)("Looking for a core agent");var t=HKt.find(t=>e.get(t));t?(Object(O.a)(t+" found"),vKt(this.model),Ge.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(O.a.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){O.a.warn("Unable to request agents"),D.a.delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=T()(e.currentTarget),a=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):(this.navigate(a),H.a.trigger("navigate",a,{trigger:!1}))},onDoneClick:function(e){e.preventDefault(),Object(ie.c)("metrics").trackClick({page:Rd.mb,action:kd.n,firstRun:!0}),H.a.trigger("navigate","dashboard")},onSkipSignInChange(){this.renderSubset()}}),QKt=Uu()(ph,{},void 0,Uu()(Xh,{}));var WKt=function(e){var{isSettingsPopulated:t,settingsError:a,hasAcceptedEULA:i,isAcceptedEULASaving:r,onPopulateSettings:n,onAcceptEULA:s,onSkipSignIn:o}=e;return Ju(()=>{n()}),Ju(()=>{s()},t&&!i),Ju(()=>{o()},i&&!r),a?Uu()(fh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")}):QKt};var GKt=Object(Fu.b)((function(){return Object(_u.a)(zQ(),e=>{var t=e.settings.find(e=>"AcceptedEULA"===e.id);return{isSettingsPopulated:e.isSettingsPopulated,settingsError:e.settingsError,hasAcceptedEULA:!(!t||!t.value),isAcceptedEULASaving:!(!t||!t.isSaving)}})}),(function(e,t){var{serverEntityID:a,forwardUrl:i}=t;return{onPopulateSettings(){e(cG({serverEntityID:a}))},onAcceptEULA(){e(uG({serverEntityID:a,setting:{id:"AcceptedEULA",value:!0}}))},onSkipSignIn(){Object(ie.c)("metrics").trackClick({page:Rd.pb,action:kd.hb,firstRun:!0}),e(mu({url:i}))}}}))(WKt),YKt=Uu()(ph,{},void 0,Uu()(Xh,{}));var KKt=function(e){var{serverEntityID:t,isWaitingForPrimaryServer:a,subset:i,forwardUrl:r}=e;return t?Uu()(tit,{serverEntityID:t,hideUnclaimedPage:!0},void 0,i?Uu()(NQ,{className:"scroll-container dark-scrollbar",view:_Kt,viewOptions:{serverEntityID:t,subset:i}}):Uu()(GKt,{serverEntityID:t,forwardUrl:r})):a?YKt:Uu()(fh,{title:Object(Ze.default)("Media server not found"),description:Object(Ze.default)("The server you're trying to access doesn't seem to exist.")})};var qKt=Object(Fu.b)((function(){return Object(_u.a)((e,{serverEntityID:t})=>t,e=>e.primaryServer,e=>e.isWaitingForPrimaryServer,Yu,(e,t,a)=>({serverEntityID:e||t,isWaitingForPrimaryServer:a}))}))(KKt),ZKt=Hu.extend({component(e){var{serverID:t,subset:a,forwardUrl:i}=e,r=t?Object(pt.a)(ht.n,t):null;return Uu()(Hh,{},void 0,Uu()(Ah,{},void 0,Uu()(qKt,{serverEntityID:r,subset:a,forwardUrl:i})))}}),XKt=B.Controller.extend({setupBasic(e){this.showSetupPageView({serverID:e,subset:"setupBasic"})},setupLibrary(){this.showSetupPageView({subset:"setupLibrary"})},setupComplete(){this.showSetupPageView({subset:"setupComplete"})},setupSkipSignIn(e){this.showSetupPageView({forwardUrl:e})},showSetupPageView(e){H.a.trigger("show:view",new ZKt(e))}}),JKt=Ru.extend({controller:new XKt,appRoutes:{"!/setup/skipSignIn?forwardUrl=:forwardUrl":"setupSkipSignIn","!/setup/library":"setupLibrary","!/setup/complete":"setupComplete","!/setup(/:serverID)":"setupBasic"}}),$Kt=Object(Pa.a)("ui/accountSettingsPage/updateUserProfile"),eqt=Object(Pa.a)("ui/accountSettingsPage/clearUpdateUserProfileError");function tqt(e){return e.get("ui").get("accountSettingsPage")}var aqt={"ui/accountSettingsPage/updateUserProfile"(e,t){var a=function(e){return e.get("user").get("profile")}(e),i=tqt(e);i.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),a.save(t,{type:"PUT",wait:!0}).done(()=>{a.set(t),i.set({isUpdatingUserProfile:!1,updateUserProfileError:null})}).fail(e=>{i.set({isUpdatingUserProfile:!1,updateUserProfileError:N1(e)})})},"ui/accountSettingsPage/clearUpdateUserProfileError":e=>{tqt(e).set("updateUserProfileError",null)}},iqt=Ed.a.createElement,rqt={0:{color:"#ff5533",translateFn:()=>Object(Ze.default)("Too weak")},1:{color:"#ee8833",translateFn:()=>Object(Ze.default)("Very weak")},2:{color:"#eebb00",translateFn:()=>Object(Ze.default)("Somewhat weak")},3:{color:"#bbbb33",translateFn:()=>Object(Ze.default)("Somewhat Strong")},4:{color:"#66bb55",translateFn:()=>Object(Ze.default)("Very Strong")}};var nqt=If(jV((function(e){var{formGroupClassName:t,formLabelClassName:a,formInputClassName:i,name:r,value:n,labelText:s,showErrors:o,errors:l,zxcvbn:c}=e,d=Je()(e,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]),u=c&&""!==n&&!l.length?rqt[c(n).score]:null,p=D.a.last(l);return Uu()(sU,{className:t},void 0,Uu()(UC,{hasError:o,name:r,className:a},void 0,s,u&&!o?Uu()("span",{},void 0," ",""," ",Uu()("span",{style:{color:u.color}},void 0,u.translateFn())):null,o?"  "+p:null),iqt(LR,tp()({className:i,name:r,type:"password",value:n,hasError:o},d)))})),{zxcvbn:()=>a.e(6).then(a.t.bind(null,"WA7+",7)).then(e=>e.default)});nqt.defaultProps={showErrors:!1};var sqt=nqt;function oqt(e){if(!e)return Object(Ze.default)("Username is required")}function lqt(e){if(!e)return Object(Ze.default)("Email address is required")}function cqt(e){if(!e)return Object(Ze.default)("Password is required")}function dqt(e){if(!e)return Object(Ze.default)("Password confirmation is required")}function uqt(e){if(!e)return Object(Ze.default)("Current password is required")}function pqt(e){return e&&e.length<8?Object(Ze.default)("Password must be at least 8 characters"):e&&e.length>128?Object(Ze.default)("Password must be no longer than 128 characters"):void 0}function hqt(e,t){if(e!==t.password.value)return Object(Ze.default)("Passwords must match")}function mqt(e){if(!e)return Object(Ze.default)("Verification code is required")}function vqt(e){if(!e)return Object(Ze.default)("URL is required")}var gqt=a("URCS"),yqt=a.n(gqt),fqt=({children:e,className:t=yqt.a.sectionHeader})=>Uu()("div",{className:t},void 0,e),bqt=a("Nbqw"),Iqt=a.n(bqt),Sqt=Ed.a.createElement,Mqt=e=>{var{className:t=Iqt.a.label,errorClassName:a=Iqt.a.hasError,children:i,name:r,hasError:n}=e,s=Je()(e,["className","errorClassName","children","name","hasError"]);return(Sqt("label",tp()({},s,{className:(t||"")+" "+(n&&a||""),htmlFor:r}),i))},Cqt=Object(_u.a)(Ny,e=>e.twoFactorAuth);function Dqt(e){var t;if(null==e?void 0:null==(t=e.data)?void 0:t.errors){var a=N1(e.data.errors[0]);if(a)return a}return Object(Ze.default)("Something went wrong. Please try again in a few minutes.")}var Pqt,Oqt=a("tCBj"),jqt=a.n(Oqt),Tqt=Ed.a.createElement,{useCallback:wqt,useEffect:Eqt}=Ed.a,Nqt=({isOpen:e,onModalClose:t})=>{var a,i=Object(Fu.c)(),r=Object(Fu.d)(Cqt),n=Object(Fu.d)(N2).twoFactorEnabled,s=r.toggle.error,o=wqt(()=>{i(ls.actions.reset()),t()},[i,t]);Eqt(()=>{n||o()},[n,o]);var{register:l,handleSubmit:c,errors:d}=Object($Ze.a)(),u="required"===(null==(a=d.verificationCode)?void 0:a.type),p=wqt(({verificationCode:e})=>{i(ls.actions.toggleRequested({enabled:!1,verificationCode:e}))},[i]);return Uu()(fI,{isOpen:e,onModalClose:o},void 0,Uu()(TI,{onModalClose:o},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Disable two-factor authentication")),s?Uu()(uXe,{message:Dqt(s)}):null,Uu()("form",{className:jqt.a.modalContent,onSubmit:c(p)},void 0,Uu()(MI,{innerClassName:jqt.a.innerModalBody},void 0,Uu()("div",{className:jqt.a.inputGroup},void 0,Uu()(Mqt,{name:"verificationCode",hasError:u},void 0,Object(Ze.default)("Verification code")),Tqt(lXe,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})}))),Uu()(XC,{},void 0,Uu()(eD,{},void 0,Uu()(KC,{onPress:o},void 0,Object(Ze.default)("Cancel")),Uu()(iXe,{isSpinning:r.toggle.isPending,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Disable")))))))},xqt=a("OiDK"),Aqt=a.n(xqt),{Fragment:Lqt,useCallback:kqt}=Ed.a,Rqt=({showEnabledMessage:e,codes:t,onAcknowledgeCodes:a})=>{var i=kqt(()=>{kq.writeText(t.join("\n"))},[t]);return(Uu()(Lqt,{},void 0,Uu()(MI,{innerClassName:Aqt.a.innerModalBody},void 0,e?Uu()("span",{className:(Aqt.a.info||"")+" "+(Aqt.a.strong||"")},void 0,Object(Ze.default)("Two-factor authentication is enabled!")):null,Uu()("span",{className:Aqt.a.info},void 0,Object(Ze.default)("Use recovery codes when you are unable to generate a verification code via your authenticator app. Store these recovery codes safely.")),Uu()("div",{className:Aqt.a.codes},void 0,t.map(e=>Uu()("div",{className:Aqt.a.code},e,e))),Uu()(KC,{onPress:i},void 0,Object(Ze.default)("Copy to clipboard"))),Uu()(XC,{},void 0,Uu()(eD,{},void 0,Uu()(KC,{kind:Bv.Primary,onPress:a},void 0,Object(Ze.default)("Done"))))))},zqt=a("RDBK"),Uqt=a.n(zqt),Vqt=Ed.a.createElement,{Fragment:Bqt,Suspense:Fqt,useCallback:Hqt,useEffect:_qt,useState:Qqt}=Ed.a,Wqt=({onConfirmed:e,onClose:t})=>{var a,i=Object(Fu.c)(),r=Object(Fu.d)(Cqt),n=r.secret.isPopulated,s=r.secret.error,{register:o,handleSubmit:l,errors:c}=Object($Ze.a)(),d="required"===(null==(a=c.currentPassword)?void 0:a.type);_qt(()=>{n&&e()},[n,e]);var u=Hqt(({currentPassword:e})=>{i(ls.actions.createSecretRequested({password:e}))},[i]);return(Uu()(Bqt,{},void 0,s?Uu()(uXe,{message:Dqt(s)}):null,Uu()("form",{className:Uqt.a.modalContent,onSubmit:l(u)},void 0,Uu()(MI,{innerClassName:Uqt.a.innerModalBody},void 0,Uu()("div",{className:Uqt.a.inputGroup},void 0,Uu()(Mqt,{name:"currentPassword",hasError:d},void 0,Object(Ze.default)("Password")),Vqt(lXe,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:d,ref:o({required:!0})}))),Uu()(XC,{},void 0,Uu()(eD,{},void 0,Uu()(KC,{onPress:t},void 0,Object(Ze.default)("Cancel")),Uu()(iXe,{isSpinning:r.secret.isPending,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Continue")))))))},Gqt=Ed.a.lazy(()=>a.e(5).then(a.t.bind(null,"D1Df",7))),Yqt=({onConfirmed:e,onClose:t})=>{var a,i=Object(Fu.c)(),r=Object(Fu.d)(Cqt),n=r.secret.provisioningUri,s=r.secret.secret,o=r.toggle.isPopulated,l=r.toggle.error;_qt(()=>{o&&e()},[o,e]);var{register:c,handleSubmit:d,errors:u}=Object($Ze.a)(),p="required"===(null==(a=u.verificationCode)?void 0:a.type),h=Hqt(({verificationCode:e})=>{i(ls.actions.toggleRequested({enabled:!0,verificationCode:e}))},[i]);return Uu()(Bqt,{},void 0,l?Uu()(uXe,{message:Dqt(l)}):null,Uu()("form",{className:Uqt.a.modalContent,onSubmit:d(h)},void 0,Uu()(MI,{},void 0,Uu()("div",{className:Uqt.a.secretContent},void 0,Uu()("div",{className:Uqt.a.qrCodeContent},void 0,Uu()(Fqt,{fallback:Uu()("div",{className:Uqt.a.qrCodePlaceholder})},void 0,n?Uu()(Gqt,{value:n,size:200,includeMargin:!0}):null),s?Uu()("div",{className:Uqt.a.textCode},void 0,Uu()(Mqt,{},void 0,Object(Ze.default)("Text code")),Uu()("div",{},void 0,s)):null),Uu()("div",{className:Uqt.a.verificationCodeContent},void 0,Uu()("div",{},void 0,Object(Ze.default)("Scan the image with the two-factor authentication app on your phone and enter the verification code. If you can't use a barcode use the text code instead.")),Uu()("div",{className:Uqt.a.verificationCodeInput},void 0,Uu()(Mqt,{name:"verificationCode",hasError:p},void 0,Object(Ze.default)("Verification code")),Vqt(lXe,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasFocusOnMount:!0,hasError:p,ref:c({required:!0})}))))),Uu()(XC,{},void 0,Uu()(eD,{},void 0,Uu()(KC,{onPress:t},void 0,Object(Ze.default)("Cancel")),Uu()(iXe,{isSpinning:r.toggle.isPending,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Continue"))))))};!function(e){e.Password="Password",e.Secret="Secret",e.Codes="codes"}(Pqt||(Pqt={}));var Kqt=({isOpen:e,onEnableTwoFactorAuthComplete:t,onModalClose:a})=>{var i=Qqt(Pqt.Password),r=i[1],n=i[0],s=Object(Fu.c)(),o=Object(Fu.d)(Cqt);_qt(()=>{r(Pqt.Password)},[e]);var l=Hqt(()=>{s(ls.actions.reset()),a()},[s,a]),c=Hqt(()=>{r(Pqt.Secret)},[r]),d=Hqt(()=>{r(Pqt.Codes)},[r]),u=Hqt(()=>{t(),l()},[l,t]);return Uu()(fI,{isOpen:e,onModalClose:l},void 0,Uu()(TI,{onModalClose:l},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Enable two-factor authentication")),n===Pqt.Password?Uu()(Wqt,{onClose:l,onConfirmed:c}):null,n===Pqt.Secret?Uu()(Yqt,{onClose:l,onConfirmed:d}):null,n===Pqt.Codes?Uu()(Rqt,{showEnabledMessage:!0,codes:o.codes,onAcknowledgeCodes:u}):null))},qqt=a("w1d1"),Zqt=a.n(qqt),Xqt=Ed.a.createElement,{useCallback:Jqt}=Ed.a,$qt=({isOpen:e,onModalClose:t})=>{var a,i,r=Object(Fu.c)(),n=Object(Fu.d)(Cqt),s=n.recoveryCodes.error,o=Jqt(()=>{r(ls.actions.reset()),t()},[r,t]),{register:l,handleSubmit:c,errors:d}=Object($Ze.a)(),u="required"===(null==(a=d.currentPassword)?void 0:a.type),p="required"===(null==(i=d.verificationCode)?void 0:i.type),h=Jqt(({currentPassword:e,verificationCode:t})=>{r(ls.actions.generateRecoveryCodesRequested({password:e,verificationCode:t}))},[r]);return Uu()(fI,{isOpen:e,onModalClose:o},void 0,Uu()(TI,{onModalClose:o},void 0,Uu()(NI,{},void 0,Object(Ze.default)("Generate new recovery codes")),s?Uu()(uXe,{message:Dqt(s)}):null,n.recoveryCodes.isPopulated?Uu()(Rqt,{codes:n.codes,onAcknowledgeCodes:o}):Uu()("form",{className:Zqt.a.modalContent,onSubmit:c(h)},void 0,Uu()(MI,{innerClassName:Zqt.a.innerModalBody},void 0,Uu()("div",{className:Zqt.a.inputGroup},void 0,Uu()(Mqt,{name:"currentPassword",hasError:u},void 0,Object(Ze.default)("Password")),Xqt(lXe,{type:"password",name:"currentPassword",defaultValue:"",hasFocusOnMount:!0,hasError:u,ref:l({required:!0})})),Uu()("div",{className:Zqt.a.inputGroup},void 0,Uu()(Mqt,{name:"verificationCode",hasError:p},void 0,Object(Ze.default)("Verification code")),Xqt(lXe,{name:"verificationCode",defaultValue:"",autoComplete:"off",hasError:p,ref:l({required:!0})}))),Uu()(XC,{},void 0,Uu()(eD,{},void 0,Uu()(KC,{onPress:o},void 0,Object(Ze.default)("Cancel")),Uu()(iXe,{isSpinning:n.recoveryCodes.isPending,type:"submit",kind:Bv.Primary},void 0,Object(Ze.default)("Generate codes")))))))},eZt=a("oucR"),tZt=a.n(eZt),{Fragment:aZt}=Ed.a,iZt=({onEnableTwoFactorAuthComplete:e})=>{var t=Object(Fu.d)(N2),a=wye(),i=wye(),r=wye();return Uu()(aZt,{},void 0,Uu()(Kqt,{isOpen:a.isOpen,onEnableTwoFactorAuthComplete:e,onModalClose:a.onClose}),Uu()(Nqt,{isOpen:i.isOpen,onModalClose:i.onClose}),Uu()($qt,{isOpen:r.isOpen,onModalClose:r.onClose}),Uu()(fqt,{},void 0,Object(Ze.default)("Two-factor authentication")),t.twoFactorEnabled?Uu()(aZt,{},void 0,Uu()("div",{className:tZt.a.sectionWrapper},void 0,Uu()("div",{className:tZt.a.description},void 0,Object(Ze.default)("To disable two-factor authentication you will need will need your authenticator app or recovery codes.")),Uu()("div",{className:tZt.a.action},void 0,Uu()(KC,{kind:Bv.Primary,size:gp.Medium,onPress:i.onOpen},void 0,Object(Ze.default)("Disable")))),Uu()("div",{className:tZt.a.sectionWrapper},void 0,Uu()("div",{className:tZt.a.description},void 0,Object(Ze.default)("Recovery codes are used in place of generated two-factor authentication codes. Treat them as carefully as you treat your password.")),Uu()("div",{className:tZt.a.action},void 0,Uu()(KC,{kind:Bv.Primary,size:gp.Medium,onPress:r.onOpen},void 0,Object(Ze.default)("Generate new recovery codes"))))):Uu()("div",{className:tZt.a.sectionWrapper},void 0,Uu()("div",{className:tZt.a.description},void 0,Object(Ze.default)("Use an authenticator application on your phone to get two-factor authentication codes when prompted.")),Uu()("div",{className:tZt.a.action},void 0,Uu()(KC,{kind:Bv.Primary,size:gp.Medium,onPress:a.onOpen},void 0,Object(Ze.default)("Enable")))))},rZt=a.p+"desktop/common/img/pp-ticket.a20f24dabb7938a8b8791b62f2f6dc9b.svg",nZt=a("eO7X"),sZt=a.n(nZt),{Component:oZt,Fragment:lZt}=Ed.a,cZt={path:"/subscription",title:()=>Object(Ze.default)("Subscriptions")},dZt={path:"/users/payments",title:()=>Object(Ze.default)("Payments")},uZt={path:"/users/other-services",title:()=>Object(Ze.default)("Other Services")};var pZt=class extends oZt{constructor(e,t){super(e,t),this.onPlexPassPress=()=>{this.setState({isPlexPassModalOpen:!0})},this.onPlexPassModalClose=()=>{this.setState({isPlexPassModalOpen:!1})},this.state={isPlexPassModalOpen:!1}}render(){var e,{user:t}=this.props,{isPlexPassModalOpen:a}=this.state,i=r2()?"_blank":"_self",r=function(e){return e.isEmployee?Uu()("span",{className:sZt.a.textBadge},void 0,"Employee"):e.isNinja&&!e.isEmployee?Uu()("span",{className:sZt.a.textBadge},void 0,"Ninja"):null}(t);return t.hasPlexSubscription||t.canGoPremium||!t.restricted?Uu()(hxt,{},void 0,Uu()("div",{className:sZt.a.container},void 0,Uu()("div",{},void 0,t.hasPlexSubscription?Uu()("div",{},void 0,Uu()("div",{className:sZt.a.badgeContainer},void 0,t.hasPlexPass?Uu()("img",{className:sZt.a.plexPassBadge,src:rZt}):null,r),Uu()("div",{},void 0,t.subscriptionDescription)):null,t.canGoPremium?Uu()("div",{},void 0,r?Uu()("div",{className:sZt.a.badgeContainer},void 0,r):null,Uu()(rT,{kind:Dp,onPress:this.onPlexPassPress},void 0,Object(Ze.default)("Go Premium")),Uu()(ek,{origin:"account",metricsProperties:{context:Rd.a},isOpen:a,onModalClose:this.onPlexPassModalClose})):null),t.restricted?null:Uu()("div",{className:sZt.a.actionLinksContainer},void 0,Uu()(yxt,{className:sZt.a.actionLinks},void 0,(e=t.hasPlexSubscription,e?[cZt,dZt,uZt]:[dZt,uZt]).map(({path:e,title:t},a)=>Uu()(lZt,{},a,Uu()($y,{className:sZt.a.linkSeparator,separator:""}),Uu()(Vp,{kind:Dp,to:Object(_.join)(["https://plex.tv",e]),target:i},void 0,t()))))))):null}};function hZt(e,t){var a=e.find(e=>e.hasOwnProperty(t));return a?a[t]:""}var mZt=Uu()($y,{}),vZt=Uu()($y,{});var gZt=function(e){var{userProfile:t,languageOptions:a,autoSelectSubtitleOptions:i,subtitleAccessibilityOptions:r,subtitleForcedOptions:n}=e,{autoSelectAudio:s,defaultAudioLanguage:o,defaultSubtitleLanguage:l,autoSelectSubtitle:c,defaultSubtitleAccessibility:d,defaultSubtitleForced:u}=t,p=[],h=hZt(a,o);""!==o&&h&&p.push(Object(Ze.default)("{audioLanguage} audio",{audioLanguage:h}));var m=hZt(a,l),v="";""!==l&&m&&(v=Object(Ze.default)("{subtitleLanguage} subtitles",{subtitleLanguage:m}));var g,y=hZt(i,c).toLowerCase();v&&y?g=v+" "+y:!v&&y?g=Object(Ze.default)("Subtitles")+" "+y:v&&!y&&(g=v),g&&p.push(g);var f=s?p.join(", "):Object(Ze.default)("Manually Select"),b=[hZt(r,d),hZt(n,u)].join(", ");return Uu()("div",{},void 0,f?Uu()("div",{},void 0,Object(Ze.default)("Track selection")," ",mZt," ",f):null,Uu()("div",{},void 0,Object(Ze.default)("Searches")," ",vZt," ",b))},yZt=a("+tcT"),fZt=a.n(yZt),bZt=Ed.a.createElement,{Component:IZt}=Ed.a;var SZt=class extends IZt{constructor(e,t){super(e,t),this.onSubmit=e=>{e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),e.autoSelectAudio||(e.autoSelectSubtitle=0),this.props.onSubmit(e)},this.onFormChange=({autoSelectAudio:e})=>{e.value!==this.state.isAutoSelectAudio&&this.setState({isAutoSelectAudio:e.value})},this.state={isAutoSelectAudio:e.userProfile.autoSelectAudio},this._autoSelectSubtitleOptions=[{0:Object(Ze.default)("Manually selected")},{1:Object(Ze.default)("Shown with foreign audio")},{2:Object(Ze.default)("Always enabled")}],this._subtitleAccessibilityOptions=[{0:Object(Ze.default)("Prefer non-SDH subtitles")},{1:Object(Ze.default)("Prefer SDH subtitles")},{2:Object(Ze.default)("Only show SDH subtitles")},{3:Object(Ze.default)("Only show non-SDH subtitles")}],this._subtitleForcedOptions=[{0:Object(Ze.default)("Prefer non-forced subtitles")},{1:Object(Ze.default)("Prefer forced subtitles")},{2:Object(Ze.default)("Only show forced subtitles")},{3:Object(Ze.default)("Only show non-forced subtitles")}],this._languageOptions=[{"":Object(Ze.default)("Select Language")},...pc.filter(e=>2===e.length&&-1===uc.indexOf(e)).map(e=>({[e]:hc[e]}))]}componentWillReceiveProps(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})}render(){var e=this.props,{userProfile:t}=e,a=Je()(e,["userProfile"]),{isAutoSelectAudio:i}=this.state;return bZt(wxt,tp()({},a,{title:Object(Ze.default)("Audio & Subtitle Settings"),closedNode:Uu()(gZt,{userProfile:t,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions}),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),Uu()(UC,{},void 0,Object(Ze.default)("Audio & Subtitle Settings")),Uu()("p",{className:fZt.a.description},void 0,Object(Ze.default)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),Uu()("p",{},void 0,Uu()(Vp,{kind:Dp,to:"https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_blank"},void 0,Object(Ze.default)("Learn more"))),Uu()(VV,{name:"autoSelectAudio",checkboxText:Object(Ze.default)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio}),i?Uu()(wV,{labelText:Object(Ze.default)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:t.defaultAudioLanguage,values:this._languageOptions}):null,i?Uu()(wV,{labelText:Object(Ze.default)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:t.defaultSubtitleLanguage,values:this._languageOptions}):null,i?Uu()(wV,{labelText:Object(Ze.default)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:t.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,Uu()(wV,{labelText:Object(Ze.default)("Subtitles for the Deaf or Hard-of-Hearing (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:t.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}),Uu()(wV,{labelText:Object(Ze.default)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:t.defaultSubtitleForced,values:this._subtitleForcedOptions}))}},MZt=Object(_u.a)(mv("profile"),e=>({userProfile:e})),CZt={onSubmit:$Kt},DZt=Object(Fu.b)(MZt,CZt)(SZt);function PZt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}PZt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var OZt=PZt;function jZt(e){var t=e["aria-label"],a=e.className,i=e.style,r={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}jZt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var TZt=jZt,wZt=a("6MR1"),EZt=a.n(wZt),NZt=Ed.a.createElement,{Component:xZt}=Ed.a,AZt=Uu()(TZt,{}),LZt=Uu()(OZt,{});class kZt extends xZt{constructor(e,t){super(e,t),this.setCanvasRef=e=>{this.canvas=e},this.onMouseDown=e=>{e.preventDefault(),this.startAvatarDrag(e.clientX,e.clientY)},this.onTouchStart=e=>{e.preventDefault();var t=e.touches.item(0);t&&this.startAvatarDrag(t.clientX,t.clientY,!0)},this.onTouchMove=e=>{var t=e.touches.item(0);t&&this.dragAvatar(t.clientX,t.clientY)},this.onMouseMove=e=>{this.dragAvatar(e.clientX,e.clientY)},this.onMouseUp=()=>{this.stopAvatarDrag()},this.onTouchEnd=()=>{this.stopAvatarDrag()},this.onFileDrop=e=>{var t;if(e.preventDefault(),this.setState({isOverDropTarget:!1}),this.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){var a=new window.FileReader;a.onload=e=>this.loadImage(e.target.result),a.readAsDataURL(t)}},this.onDragEnter=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter++,this.setOverDropTargetState()},this.onDragLeave=(e=window.event)=>{e.preventDefault(),this.dropTargetEnteredCounter--,this.setOverDropTargetState()},this.onSliderChange=({steppedValue:e})=>{this.setState(t=>{var{offsetX:a,offsetY:i}=t,r=this.initialWidth*e,n=this.initialHeight*e,s=(this.imageWidth-r)/2,o=(this.imageHeight-n)/2,l=this.props.width-r,c=this.props.height-n,d=Math.max(l,Math.min(a+s,0)),u=Math.max(c,Math.min(i+o,0));return Object.assign({},t,{scale:e,offsetX:d,offsetY:u})},()=>this.props.onChange(this.getImageDataUrl()))},this.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},this.dropTargetEnteredCounter=0}componentDidMount(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)}componentWillReceiveProps(e){this.props.url!==e.url&&this.loadImage(e.url)}shouldComponentUpdate(e,t){return Np(this,e,t)}componentDidUpdate(){this.paint()}componentWillUnmount(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()}listenForDrag(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))}stopListeningForDrag(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)}startAvatarDrag(e,t,a){this.listenForDrag(a),this.setState({drag:!0,dragX:e,dragY:t})}dragAvatar(e,t){this.state.drag&&this.setState(a=>{var{offsetX:i,offsetY:r,dragX:n,dragY:s}=a,o=this.props.width-this.imageWidth,l=this.props.height-this.imageHeight,c=Math.max(o,Math.min(i+(e-n),0)),d=Math.max(l,Math.min(r+(t-s),0));return Object.assign({},a,{dragX:e,dragY:t,offsetX:c,offsetY:d})})}stopAvatarDrag(){this.stopListeningForDrag(),this.setState({drag:!1},()=>this.props.onChange(this.getImageDataUrl()))}loadImage(e,t,a=this.props){var i=new window.Image;i.onload=()=>this.onImageLoad(i,t),/^https?:\/\//.test(e)&&i.setAttribute("crossOrigin","anonymous");var r=e;if(0!==e.indexOf("data:")){var n=km(),s={width:Math.round(a.width*n),height:Math.round(a.height*n),minSize:1},o=e.indexOf("?");o>-1?(r=_.join(e.substring(0,o),s),r+=-1===r.indexOf("?")?"?":"&",r+=e.substring(o+1)):r=_.join(r,s)}i.src=r}paint(){var{width:e,height:t}=this.props,a=this.canvas.getContext("2d");a.clearRect(0,0,e,t),this.image&&this.drawImage(a);var i=document.createElement("canvas"),r=i.getContext("2d");i.width=e,i.height=t,r.fillStyle="rgba(0,0,0,0.6)",r.fillRect(0,0,i.width,i.height),r.globalCompositeOperation="destination-out",r.arc(e/2,t/2,e/2,0,2*Math.PI),r.fill(),a.drawImage(i,0,0)}drawImage(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)}getImageDataUrl(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()}setOverDropTargetState(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})}onImageLoad(e,t){this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);var a=e.width>e.height?e.height:e.width,i=a>this.props.width?this.props.width/a:1,r=a<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:i,maxScale:r,scale:i,offsetX:0,offsetY:0},t?null:()=>this.props.onChange(this.getImageDataUrl()))}onWindowDrop(e=window.event){e.preventDefault()}onWindowDragOver(e=window.event){e.preventDefault()}onDragStart(e=window.event){e.dataTransfer.effectAllowed="copyMove"}onDragOver(e=window.event){e.dataTransfer.dropEffect="copy"}render(){var{isOverDropTarget:e}=this.state;return(Uu()("div",{className:EZt.a.avatarContainer,onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},void 0,Uu()("div",{className:EZt.a.avatarPane},void 0,NZt("canvas",{className:e?EZt.a.isOverDropTarget:"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),Uu()("div",{className:EZt.a.sliderContainer},void 0,Uu()("span",{className:EZt.a.sliderEnd},void 0,AZt),Uu()("span",{className:EZt.a.sliderWrapper},void 0,Uu()(rB,{className:EZt.a.slider,min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),Uu()("span",{className:EZt.a.sliderEnd},void 0,LZt))),Uu()("div",{className:EZt.a.avatarTextPane},void 0,Uu()("p",{},void 0,Uu()(oUe,{accept:"image/*",buttonText:Object(Ze.default)("Choose Photo"),onChange:this.onFileDrop})),Uu()("p",{className:EZt.a.help},void 0,Object(Ze.default)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle.")))))}}kZt.defaultProps={height:200,width:200,onChange(){}};var RZt=jV(kZt);var zZt=Object(Fu.b)((function(){return Object(_u.a)(BS(),e=>({url:e}))}))(RZt),UZt=Object(Pa.a)("oauth/fetchOauthProviders"),VZt=Object(Pa.a)("oauth/unlinkOauthProvider"),BZt={"oauth/fetchOauthProviders":Object(Oa.a)({key:"oauthProviders",getModel:e=>e.get("cloudServer").get("desktop")}),"oauth/unlinkOauthProvider"(e,t,a){var i=e.get("cloudServer"),r=i.get("desktop").get("oauthProviders").findWhere(t);r.set("isUnlinking",!0);var n=i.populate().then(()=>T.a.ajax(i.getXHROptions(t.url,{type:"DELETE"})));tw(n,1e3).done(()=>{r.set("unlinkError",null)}).fail(e=>{r.set("unlinkError",e)}).always(()=>{a(du()),a(UZt()),r.set("isUnlinking",!1)})}};var FZt=function(e){return Object(_u.a)(Yu,t=>{if(!t)return{};var a=t.desktop;return{oauthProviders:a.oauthProviders.filter(t=>t.usage&&t.usage[e]),isOauthProvidersPending:a.isOauthProvidersPending,isOauthProvidersPopulated:a.isOauthProvidersPopulated,oauthProvidersError:a.oauthProvidersError}})}("federatedAuth");var HZt=function(e,t){var a=E2(window.location.href,t);return _.join([e],{origin:a})},_Zt=(Oc.a.shape({url:Oc.a.string.isRequired}),a("3GoL")),QZt=a.n(_Zt),{Component:WZt}=Ed.a,GZt={apple:QZt.a.buttonApple,facebook:QZt.a.buttonFacebook,google:QZt.a.buttonGoogle};var YZt=class extends WZt{constructor(e,t){super(e,t),this.onUnlinkPress=e=>{!this.props.hasPassword&&this.props.isLastLinkedAccount?this.setState({isUnlinkOauthProviderModalOpen:!0}):this.props.onCreatePassword(e)},this.onUnlinkCancel=()=>{this.setState({isUnlinkOauthProviderModalOpen:!1})},this.state={isUnlinkOauthProviderModalOpen:!1}}componentWillReceiveProps(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})}render(){var{to:e,isPollClient:t,isBusy:a,code:i,providerID:r,metricsProperties:n,isDisabled:s,isLastLinkedAccount:o,hasPassword:l,label:c,linked:d,onUnlink:u,onLink:p,onCreatePassword:h,onStillTherePress:m}=this.props,{isUnlinkOauthProviderModalOpen:v}=this.state,g=d,y=!d&&!s,f=!(y||a||i||g),b=g||y||f,I=!l&&o,S=I?this.onUnlinkPress:u;return Uu()("div",{className:d?QZt.a.rowLinked:QZt.a.rowUnlinked},void 0,Uu()(rT,{className:GZt[r],isDisabled:s,to:y?e:null,target:y&&t?"_blank":null,onPress:y?p:S}),d?Object(Ze.default)("Your {oauthProvider} account is linked",{oauthProvider:c}):Object(Ze.default)("Your {oauthProvider} account is not linked",{oauthProvider:c}),b?Uu()("span",{className:QZt.a.separator},void 0,""):null,g?Uu()(Vp,{kind:Dp,isDisabled:s,onPress:S},void 0,Object(Ze.default)("Unlink")):null,I?Uu()(HH,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:v,metricsPage:Rd.B,metricsProperties:n,title:Object(Ze.default)("Unlink {oauthProvider}",{oauthProvider:c}),message:Object(Ze.default)("To unlink, first set a password to use when signing in"),confirmLabel:Object(Ze.default)("Set Password"),kind:Pp,onConfirm:h,onCancel:this.onUnlinkCancel}):null,y?Uu()(Vp,{kind:Dp,to:e,target:t?"_blank":null,onPress:p},void 0,Object(Ze.default)("Link")):null,f?Uu()(oT,{message:Object(Ze.default)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Vp,kind:Dp,onPress:m}]}):null)}},KZt=Ed.a.createElement,{Component:qZt}=Ed.a;var ZZt={dispatchUnlinkOauthProvider:VZt,dispatchPreloadPIN:y2};var XZt=Object(Fu.b)((function(){var e=Object(_u.a)((e,{url:t})=>t,FZt,(e,t)=>t.oauthProviders.find(t=>t.url===e));return Object(_u.a)((e,{url:t})=>({url:t}),(e,{returnUrl:t})=>t,mv("email"),mv("authToken"),e,j1,(e,t,a,i,r,n)=>{var s=Je()(n,["authToken"]),o=!r.linked&&(r.isUnlinking||n2()&&!n.code||n.isBusy);return Object.assign({},r,{isPollClient:n2(),userAuthToken:i,email:a,providerID:r.authName,originalUrl:r.url,url:HZt(r.url,t),metricsProperties:e,isDisabled:o},s)})}),ZZt)(class extends qZt{constructor(...e){super(...e),this.onUnlink=()=>{this.props.dispatchUnlinkOauthProvider({url:this.props.originalUrl})},this.onStillTherePress=()=>{this.props.dispatchPreloadPIN()}}render(){var e=this.props,t=Je()(e,["dispatchUnlinkOauthProvider"]);return(KZt(L2,tp()({component:YZt},t,{onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress})))}}),JZt=Object(Pa.a)("user/linkAccount/navigateRefresh"),$Zt={"user/linkAccount/navigateRefresh"(e,t,a){H.a.trigger("navigate:refresh")}},{Component:eXt}=Ed.a,tXt={dispatchPreloadPIN:y2,dispatchStopPolling:I2,dispatchNavigateRefresh:JZt};var aXt=Object(Fu.b)(j1,tXt)(class extends eXt{componentDidMount(){this.props.dispatchPreloadPIN()}componentDidUpdate(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchNavigateRefresh()}componentWillUnmount(){this.props.dispatchStopPolling()}render(){return null}}),iXt=a("EWqP"),rXt=a.n(iXt),nXt=Ed.a.createElement,sXt=Uu()(aXt,{});var oXt=function(e){var t,{isPollClient:a,returnUrl:i,hasPassword:r,linkedOauthProviders:n,isOauthProvidersPending:s,isOauthProvidersPopulated:o,oauthProvidersError:l,lastLinkedAuthProviderID:c,onCreatePassword:d,onLink:u}=e,p=Je()(e,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);return t=s?Uu()("span",{className:rXt.a.dim},void 0,Object(Ze.default)("Loading")):l?Uu()("span",{className:rXt.a.dim},void 0,Object(Ze.default)("Error")):n||Uu()("span",{className:rXt.a.dim},void 0,Object(Ze.default)("None")),nXt(wxt,tp()({},p,{closedNode:t,showButton:!1}),Uu()(UC,{},void 0,Object(Ze.default)("Linked Accounts")),Uu()("div",{className:rXt.a.description},void 0,Object(Ze.default)("You can link your Google, Facebook, or Apple account to simplify signing in to Plex."),a?sXt:null),o&&e.oauthProviders?e.oauthProviders.map(e=>Uu()(XZt,{isUnlinking:s,hasPassword:r,isLastLinkedAccount:c===e.authName,providerID:e.providerID,url:e.url,returnUrl:i,onCreatePassword:d,onLink:u},e.url)):null)},lXt=Ed.a.createElement,{Component:cXt}=Ed.a,dXt=Object(_u.a)(FZt,j1,(e,t)=>{var a=e.oauthProviders.filter(e=>e.linked),i=1===a.length?a[0].authName:null;return Object.assign({linkedOauthProviders:a.map(e=>e.label).join(", "),lastLinkedAuthProviderID:i,returnUrl:window.location.href,isPollClient:n2()},e,t)}),uXt={dispatchFetchOauthProviders:UZt,dispatchBeginPolling:b2};var pXt=Object(Fu.b)(dXt,uXt)(class extends cXt{constructor(...e){super(...e),this.onLink=()=>{this.props.isPollClient&&this.props.dispatchBeginPolling({pinID:this.props.pinID})}}componentDidMount(){this.props.dispatchFetchOauthProviders()}render(){var e=this.props,t=Je()(e,["dispatchFetchOauthProviders"]);return(lXt(oXt,tp()({onLink:this.onLink},t)))}}),hXt=a("qGiH"),mXt=a.n(hXt),vXt=Ed.a.createElement,{Component:gXt}=Ed.a,yXt=Uu()($y,{});var fXt=class extends gXt{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{null==t||t.preventDefault();var a=this.state[e];this.props.updateUserError&&this.props.onErrorDismiss(),this.setState(D.a.mapObject(this.state,(t,i)=>i===e&&!a))},this.getUserFormSectionProps=(e,t)=>{var a=this.state[t];return{title:e,onTogglePress:this.createToggleHandler(t),isOpen:a,onSubmit:this.props.onSubmit,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError}},this.onCreatePassword=e=>{this.createToggleHandler("isPasswordOpen")(e)},this.onEnableTwoFactorAuthComplete=e=>{this.createToggleHandler("isTwoFactorAuthenticationOpen")(e)},this.onToggleAudioSubtitlesFormSection=e=>{this.createToggleHandler("isSelectAudioOpen")(e)},this.onAccountEmailSubmit=e=>{var t=this.props.user;t.username===t.email?this.props.onSubmit(Object.assign({},e,{username:e.email})):this.props.onSubmit(e)},this.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isTwoFactorAuthenticationOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isSelectAudioOpen:!1}}componentWillReceiveProps(e){var t=this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError,a=this.state.isTwoFactorAuthenticationOpen&&this.props.user.twoFactorEnabled&&!e.user.twoFactorEnabled;(t||a)&&this.setState(D.a.mapObject(this.state,()=>!1))}render(){var{serverEntityID:e,user:t,userSettingErrors:a,hasTwoFactorAuthFeature:i}=this.props,r=Object(Ze.default)("System Default"),n=t.anonymous,s=!t.restricted,o=t.username===t.email,l=i&&s&&!n,c=pc.map(e=>({[e]:hc[e]}));return Uu()(C3,{metricsPage:Rd.a,metricsPane:"account"},void 0,Uu()(g3,{},void 0,Object(Ze.default)("Account")),n?null:Uu()(pZt,{user:t}),n?null:vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Photo"),"isPhotoOpen"),{closedNode:Uu()(JS,{serverEntityID:e,url:this.props.user.thumb,width:80,height:80})}),Uu()(UC,{},void 0,Object(Ze.default)("Photo")),Uu()(zZt,{serverEntityID:e,name:"avatar",width:180,height:180,initialValue:this.props.user.thumb,url:this.props.user.thumb})),vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Language"),"isLocaleOpen"),{closedNode:hc[t.locale]||r}),Uu()(wV,{labelText:Object(Ze.default)("Language"),helpText:Object(Ze.default)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:t.locale,values:[{"":r},...c]})),Uu()(DZt,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),s&&!n?vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Username"),"isUsernameOpen"),{closedNode:o?Object(Ze.default)("Not set"):t.username}),Uu()(ZV,{labelText:Object(Ze.default)("Username"),helpText:Object(Ze.default)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:o?"":t.username,errors:a.username,validations:[oqt]}),Uu()(VV,{name:"emailOnlyAuth",checkboxText:Object(Ze.default)("Allow username to be used when signing in"),helpText:Object(Ze.default)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:t.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,s&&!n?vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Email Address"),"isEmailOpen"),{closedNode:t.email,onSubmit:this.onAccountEmailSubmit}),Uu()(ZV,{labelText:Object(Ze.default)("Email Address"),name:"email",initialValue:t.email,errors:a.email,validations:[lqt]}),Uu()(ZV,{labelText:Object(Ze.default)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[cqt]}),t.twoFactorEnabled?Uu()(ZV,{labelText:Object(Ze.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[mqt]}):null):null,s&&!n?vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Password"),"isPasswordOpen"),{closedNode:t.hasPassword?"**********":Object(Ze.default)("Not set")}),Uu()(sqt,{labelText:t.hasPassword?Object(Ze.default)("New Password"):Object(Ze.default)("Choose Password"),name:"password",initialValue:"",errors:a.password,validations:[cqt,pqt]}),Uu()(ZV,{labelText:t.hasPassword?Object(Ze.default)("Confirm New Password"):Object(Ze.default)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[dqt,hqt]}),t.hasPassword?Uu()(ZV,{labelText:Object(Ze.default)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[uqt]}):null,t.hasPassword&&t.twoFactorEnabled?Uu()(ZV,{labelText:Object(Ze.default)("Verification code"),name:"verificationCode",autoComplete:"off",initialValue:"",validations:[mqt]}):null,t.hasPassword?Uu()(VV,{checkboxText:Object(Ze.default)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,l&&t.hasPassword?vXt(wxt,tp()({showButton:!1},this.getUserFormSectionProps(Object(Ze.default)("Two-factor authentication"),"isTwoFactorAuthenticationOpen"),{closedNode:t.twoFactorEnabled?Object(Ze.default)("Active"):Object(Ze.default)("Inactive")}),Uu()(iZt,{onEnableTwoFactorAuthComplete:this.onEnableTwoFactorAuthComplete})):null,l&&!t.hasPassword?Uu()(hxt,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Two-factor authentication")),Uu()(Dxt,{className:mXt.a.sectionDetails},void 0,Object(Ze.default)("Inactive"),yXt,Uu()(Vp,{kind:Bv.Primary,onPress:this.onCreatePassword},void 0,Object(Ze.default)("To use two-factor authentication, first set a password to use when signing in")))):null,s&&!n?vXt(pXt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Linked Accounts"),"isLinkedAccountsOpen"),{hasPassword:t.hasPassword,onCreatePassword:this.onCreatePassword})):null,s&&!n?vXt(wxt,tp()({},this.getUserFormSectionProps(Object(Ze.default)("Newsletter"),"isNewsletterOpen"),{closedNode:t.mailingListActive?Object(Ze.default)("You are currently subscribed"):Object(Ze.default)("You are not subscribed")}),Uu()(VV,{name:"mailingListActive",initialValue:t.mailingListActive,labelText:Object(Ze.default)("Newsletter"),checkboxText:Object(Ze.default)("Subscribe to our amazing, but infrequent email newsletter")})):null,s?Uu()(hxt,{},void 0,Uu()(UC,{},void 0,Object(Ze.default)("Privacy")),Uu()(oT,{className:mXt.a.description,message:Object(Ze.default)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:Vp,kind:Dp,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:Vp,kind:Dp,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:Vp,kind:Dp,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,s&&!n?Uu()(hxt,{},void 0,Uu()(Vp,{kind:Pp,to:Object(_.join)(["https://plex.tv","/users/delete"]),target:"_self"},void 0,Object(Ze.default)("Delete your account"))):null)}},bXt=Ed.a.createElement,{Component:IXt}=Ed.a,SXt=Object(_u.a)(qu.a,Yu,e=>e.ui.accountSettingsPage,zT(Tt.z),(e,t,a,i)=>{var r=e.desktop,n=r.updateUserError?N1(D.a.last(r.updateUserError[D.a.first(Object.keys(r.updateUserError))])):a.updateUserProfileError,s=D.a.mapObject(r.updateUserError,e=>e.map(e=>N1(e))),o=D.a.pick(e,"username","anonymous","email","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","twoFactorEnabled","isEmployee","isNinja","mailingListActive","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:r.isUpdatingUser||a.isUpdatingUserProfile,updateUserError:n,userSettingErrors:s,hasTwoFactorAuthFeature:i}}),MXt={dispatchUpdateUser:CA,dispatchClearUpdateUserError:DA,dispatchClearUpdateUserProfileError:eqt};var CXt=Object(Fu.b)(SXt,MXt)(class extends IXt{constructor(...e){super(...e),this.onErrorDismiss=()=>{this.props.dispatchClearUpdateUserError(),this.props.dispatchClearUpdateUserProfileError()},this.onSubmit=e=>{this.props.dispatchUpdateUser(e)}}render(){var e=this.props,t=Je()(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]);return(bXt(fXt,tp()({},t,{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit})))}}),DXt=Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()(u6,{selectedKey:"account"}),Uu()(CXt,{}))),PXt=Hu.extend({component:()=>DXt}),OXt=xe.a.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:Ae.a.string,title:Ae.a.string}}),jXt=ke.a.extend({name:"AvailableProvidersCollection",context:["server"],model:OXt,url:"/media/providers?ignore_opt_outs=true"}),TXt=Object(Pa.a)("ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"),wXt=Object(Pa.a)("ui/onlineMediaSourcePage/fetchAvailableProviders"),EXt=Object(Pa.a)("ui/onlineMediaSourcePage/fetchOptOutStatuses"),NXt=Object(Pa.a)("ui/onlineMediaSourcePage/updateOptOutStatuses"),xXt=Object(Pa.a)("ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError");function AXt(e){return e.get("ui").get("onlineMediaSourcesPage")}function LXt(e,t={},a={}){var i=e.get("cloudServer"),r=e.get("user").get("uuid"),n=_.join(["/api/v2/user",r,"settings/opt_outs"],t);return i.getXHROptions(n,Object.assign({dataType:"json"},a))}var kXt={"ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"(e,t,a){var i=AXt(e),r=e.get("cloudServer");i.restoreDefaults({availableProviders:new jXt([],{server:r})}),a(wXt()),a(EXt())},"ui/onlineMediaSourcePage/fetchAvailableProviders":Object(Oa.a)({key:"availableProviders",getModel:AXt}),"ui/onlineMediaSourcePage/fetchOptOutStatuses"(e,t){var a=AXt(e);a.set({isOptOutStatusesPending:!0,optOutStatusesError:null});var i=LXt(e);T.a.ajax(i).then(e=>{a.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})},e=>{a.set({isOptOutStatusesPending:!1,optOutStatusesError:Object(vw.a)(e)})})},"ui/onlineMediaSourcePage/updateOptOutStatuses"(e,t,a){var i=AXt(e);i.set({isUpdatePending:!0,updateError:null});var r=Object.keys(t.optOutStatuses)[0],n=t.optOutStatuses[r],s=LXt(e,{key:r,value:n},{type:"POST"});T.a.ajax(s).then(()=>{var e=i.get("optOutStatuses");i.set({optOutStatuses:Object.assign({},e,{[r]:n}),isUpdatePending:!1,updateError:null}),Object(ie.c)("serviceWorker").sendMessage({type:"CLEAR_CLOUD_MEDIA_PROVIDERS"}).finally(()=>{a(vAe())})},e=>{i.set({isUpdatePending:!1,updateError:Object(vw.a)(e)})})},"ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError"(e,t){AXt(e).set("updateError",null)}},{Component:RXt}=Ed.a,zXt=Uu()(ph,{},void 0,Uu()(Xh,{}));var UXt=class extends RXt{constructor(e,t){super(e,t),this.createToggleHandler=e=>t=>{t.preventDefault();var a=this.state.openProviderIdentifier===e;this.props.updateError&&this.props.onErrorDismiss(),this.setState({openProviderIdentifier:a?null:e})},this.state={openProviderIdentifier:null}}componentWillReceiveProps(e){var t=this.props.showSpinner&&!e.showSpinner,a=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||a)&&this.setState({openProviderIdentifier:null})}_getOptOutStatus(e){var t=this.props.optOutStatuses,a=jt.k(e,[jt.f,jt.i])?"opt_in":"opt_out_managed";return t[e]?t[e]:a}_getAvailableOptOutOptions(e,t){var a=[{opt_in:Object(Ze.default)("Enabled")},{opt_out:Object(Ze.default)("Disabled")}],i=[...a,{opt_out_managed:Object(Ze.default)("Disabled for Managed Users")}],r=jt.k(e,jt.f)?a:i;return r.find(e=>e[t])?r:[...r,{[t]:t}]}render(){var{isUnauthorized:e,loadSettingsError:t,showSpinner:a,availableProviders:i,isUpdatePending:r,updateError:n,onUpdateStatus:s}=this.props;return e?Uu()(fh,{title:Object(Ze.default)("You're not supposed to be here"),description:Object(Ze.default)("You don't have access to Online Media Sources")}):t?Uu()(FX,{title:Object(Ze.default)("There was an unexpected error loading Online Media Sources")}):a?zXt:Uu()(C3,{metricsPage:Rd.a,metricsPane:"onlineMediaSources"},void 0,Uu()(g3,{},void 0,Object(Ze.default)("Online Media Sources")),i.map(e=>{var t=this._getOptOutStatus(e.identifier),a=this._getAvailableOptOutOptions(e.identifier,t),i=a.find(e=>e[t])[t];return Uu()(wxt,{closedNode:i,title:e.title,isOpen:this.state.openProviderIdentifier===e.identifier,isUpdating:r,errorMessage:n&&Object(Ze.default)("Unable to save settings"),onTogglePress:this.createToggleHandler(e.identifier),onUpdateStatus:s,onSubmit:s},e.identifier,Uu()(wV,{labelText:e.title,helpText:Object(Ze.default)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:e.title}),name:e.identifier,initialValue:t,values:a}))}))}},{Component:VXt}=Ed.a,BXt=Object(_u.a)(e=>e.ui.onlineMediaSourcesPage.availableProviders,pv,(e,t)=>{if(e&&t){var a=Object.values(t);return e.filter(({identifier:e})=>{var t=a.find(t=>t.identifier===e);return!t||t.isPopulated&&Object.values(t.features).some(({type:e})=>e===Ot.c)})}}),FXt=Object(_u.a)(e=>e.ui.onlineMediaSourcesPage,qu.a,BXt,(e,t,a)=>({isUnauthorized:t.restricted,availableProviders:a,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError})),HXt={dispatchInitOnlineMediaSourcesPage:TXt,dispatchClearOnlineMediaSourcesUpdateError:xXt,dispatchUpdateOptOutStatuses:NXt};var _Xt=Object(Fu.b)(FXt,HXt)(class extends VXt{constructor(...e){super(...e),this.onErrorDismiss=()=>{this.props.dispatchClearOnlineMediaSourcesUpdateError()},this.onUpdateStatus=e=>{this.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})}}componentDidMount(){Object(wa.a)(()=>{this.props.dispatchInitOnlineMediaSourcesPage()})}render(){var{isUnauthorized:e,isAvailableProvidersPending:t,availableProvidersError:a,isOptOutStatusesPending:i,optOutStatusesError:r,availableProviders:n,optOutStatuses:s,updateError:o,isUpdatePending:l}=this.props;return(Uu()(UXt,{isUnauthorized:e,loadSettingsError:!(!a&&!r),showSpinner:t||i,availableProviders:n,optOutStatuses:s,isUpdatePending:l,updateError:o,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus}))}}),QXt=Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()(u6,{selectedKey:"online-media-sources"}),Uu()(_Xt,{}))),WXt=Hu.extend({component:()=>QXt}),GXt="ui/userSharingSettingsPage/addToHome",YXt=Object(Pa.a)("ui/userSharingSettingsPage/resetUserSharingSettingsPage"),KXt=Object(Pa.a)("ui/userSharingSettingsPage/fetchFilterOptionsTags"),qXt=Object(Pa.a)("ui/userSharingSettingsPage/setFriendRestrictions"),ZXt=Object(Pa.a)("ui/userSharingSettingsPage/updateManagedUserProfile"),XXt=Object(Pa.a)("ui/userSharingSettingsPage/dismissFriendError"),JXt=Object(Pa.a)("ui/userSharingSettingsPage/fetchSharedSources"),$Xt=Object(Pa.a)("ui/userSharingSettingsPage/populateSharedItem"),eJt=Object(Pa.a)("ui/userSharingSettingsPage/deleteSharedItem"),tJt=Object(Pa.a)("ui/userSharingSettingsPage/fetchServerOverviews"),aJt=Object(Pa.a)("ui/userSharingSettingsPage/fetchServerShares"),iJt=Object(Pa.a)("ui/userSharingSettingsPage/saveLibraryShares"),rJt=Object(Pa.a)("ui/userSharingSettingsPage/dismissSharingError"),nJt=Object(Pa.a)("ui/userSharingSettingsPage/removeServerShare"),sJt=Object(Pa.a)("ui/userSharingSettingsPage/dismissRemoveServerShareError"),oJt=Object(Pa.a)(GXt);function lJt(e){return e.get("ui").get("userSharingSettingsPage")}function cJt(e,t,a){return e.map(e=>{if(e.origin!==t)return e;var i=e.sharedItems.filter(e=>e.id!==a);return Object.assign({},e,{sharedItems:i})})}var dJt=uk({"ui/userSharingSettingsPage/resetUserSharingSettingsPage"(e){var t=lJt(e);Z.a.abortAll("userSharingSettingsPage"),t.restoreDefaults()},"ui/userSharingSettingsPage/fetchFilterOptionsTags"(e,t={}){var a=lJt(e),{serverEntityIDs:i}=t,r=i.map(t=>Object(Ta.m)(e,{serverEntityID:t}));Z.a.abortAll("userSharingSettingsPage"),Object(wa.a)(()=>{a.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),pY(r,"userSharingSettingsPage").done(e=>{a.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})})},"ui/userSharingSettingsPage/setFriendRestrictions"(e,t,a){var i,r=lJt(e),n=e.get("cloudServer"),{friendEntityID:s,restrictions:o}=t,{restrictionProfileIdentifier:l}=o,c=Object(Ta.a)(e,{friendEntityID:s}),d=Object(Ta.n)(e);if(Object(wa.a)(()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})}),!!l){var u={userId:c.id};"unrestricted"!==l&&(u.restrictionProfile=l);var p=n.getXHROptions("/api/v2/home/users/restricted/profile",{type:"POST",contentType:"application/json",data:JSON.stringify(u),scope:"userSharingSettingsPage"});i=T.a.ajax(p).then(()=>{var e=d.get("homeUsers").find(e=>e.id===c.id),t="unrestricted"===l?"":l;return c.fetch().then(()=>{e.set("restrictionProfile",t)})})}else{var h=mY(o);i=c.save(h)}i.then(()=>{r.set({isUpdatingFriend:!1})},()=>{r.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("Failed to update")})})},"ui/userSharingSettingsPage/updateManagedUserProfile"(e,t,a){var i,r=lJt(e),n=e.get("cloudServer"),s=e.get("user").get("homeUsers"),{friendEntityID:o,username:l,avatar:c}=t,d=Object(Ta.a)(e,{friendEntityID:o});if(Object(wa.a)(()=>{r.set({isUpdatingFriend:!0,updateFriendError:null})}),l){if(l.trim()===d.get("title"))return void r.set({isUpdatingFriend:!1});if(!!s.findWhere({title:l.trim()}))return void r.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("A Home user already exists with this name")});var u={friendlyName:l.trim()},p=n.getXHROptions("/api/v2/home/users/restricted/"+d.id,{type:"POST",contentType:"application/json",data:JSON.stringify(u),scope:"userSharingSettingsPage"});i=T.a.ajax(p)}else c&&(i=ew(c,d.id));i.then(()=>{r.set({isUpdatingFriend:!1}),s.fetch(),a(bA()),a(fA())},()=>{r.set({isUpdatingFriend:!1,updateFriendError:Object(Ze.default)("Failed to update")})})},"ui/userSharingSettingsPage/dismissFriendError"(e,t,a){lJt(e).set({updateFriendError:null})},"ui/userSharingSettingsPage/fetchSharedSources"(e,t,a){var i=lJt(e),r=e.get("cloudServer");Object(wa.a)(()=>{i.set({isSharedSourcesPopulating:!0,isSharedSourcesPopulated:!1,sharedSourcesError:null})});var n=_.join("/api/v2/shared_sources/owned",{invitedId:t.userID,includeItems:!0}),s=_.join("/api/v2/shared_sources/received",{ownerId:t.userID,includeItems:!0}),o=r.getXHROptions(n,{type:"GET",dataType:"json",scope:"userSharingSettingsPage"}),l=r.getXHROptions(s,{type:"GET",dataType:"json",scope:"userSharingSettingsPage"});T.a.when(T.a.ajax(o),T.a.ajax(l)).then((e,t)=>{i.set({ownedSharedSources:e[0],receivedSharedSources:t[0],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!0})},()=>{i.set({isSharedSourcesPopulating:!1,sharedSourcesError:Object(Ze.default)("Failed to fetch shared items.")})})},"ui/userSharingSettingsPage/populateSharedItem"(e,t,a){var{serverIdentifier:i,providerIdentifier:r,metadataItemKey:n}=Object(Bn.a)(t.uri),s=e.get("servers").get(i),o=s&&s.get("providers").get(r);o&&o.get("isPopulated")&&new ut.a({key:n},{server:s,provider:o}).populate()},"ui/userSharingSettingsPage/deleteSharedItem"(e,t,a){var i=lJt(e),r=e.get("cloudServer"),{id:n,origin:s,isOwnedItem:o}=t;i.set("deleteSharedItemID",n);var l=r.getXHROptions("/api/v2/shared_items/"+n,{method:"DELETE",dataType:"json",scope:"userSharingSettingsPage"});T.a.ajax(l).then(()=>{var e={deleteSharedItemID:null};if(o){var t=cJt(i.get("ownedSharedSources"),s,n);e.ownedSharedSources=t}else{var a=cJt(i.get("receivedSharedSources"),s,n);e.receivedSharedSources=a}i.set(e)},()=>{a(Object(ji.d)({type:"error",message:Object(Ze.default)("There was a problem removing this shared item.")})),i.set("deleteSharedItemID",null)})},"ui/userSharingSettingsPage/fetchServerOverviews"(e,t={}){var a=lJt(e),{serverEntityIDs:i}=t;Object(wa.a)(()=>{a.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1})}),oY(i).then(e=>{a.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:e})})},"ui/userSharingSettingsPage/fetchServerShares"(e,t={}){var a=lJt(e),i=Object(Ta.a)(e,t);Z.a.abortAll("userSharingSettingsPage"),Object(wa.a)(()=>{a.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),lY(i,"userSharingSettingsPage").done(()=>{a.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(()=>{a.set({isServerSharesPopulating:!1,serverSharesError:Object(Ze.default)("Failed to load shares.")})})},"ui/userSharingSettingsPage/saveLibraryShares"(e,t={},a){var i=lJt(e),r=e.get("user");Object(wa.a)(()=>{i.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});var n,{friendEntityID:s,machineIdentifier:o,selectedLibrarySectionIDs:l,isAllLibrariesSelected:c}=t,d=Object(Ta.a)(e,{friendEntityID:s}),u=d.get("serverShares"),p=u.findWhere({machineIdentifier:o}),h=!p,m=!c&&0===l.length,v=c?[]:l;if(h){var g=new ho({machineIdentifier:o});n=cY({user:r,friend:d,serverShare:g,librarySectionIDs:v,isNewFriend:!1,isNewServerShare:!0})}else n=m?p.destroy({wait:!0}):cY({user:r,friend:d,serverShare:p,librarySectionIDs:v,isNewFriend:!1,isNewServerShare:!1});n.done(e=>{h&&u.add(new ho(e,{server:r.server,parse:!0})),i.set({isSharingPending:!1,isSharingCompleted:!0})}).fail(e=>{i.set({isSharingPending:!1,sharingError:KT(e,null,"status")||Object(Ze.default)("Failed to update server shares.")})}).always(()=>{lY(d,"userSharingSettingsPage")})},"ui/userSharingSettingsPage/dismissSharingError"(e,t,a){lJt(e).set({sharingError:null})},"ui/userSharingSettingsPage/removeServerShare"(e,t,a){var i=lJt(e);Object(wa.a)(()=>{i.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})});var{friendEntityID:r,machineIdentifier:n}=t,s=Object(Ta.a)(e,{friendEntityID:r});s.get("serverShares").findWhere({machineIdentifier:n}).destroy({wait:!0}).done(()=>{i.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})}).fail(e=>{i.set({isRemoveServerSharePending:!1,removeServerShareError:KT(e,null,"status")||Object(Ze.default)("Failed to remove server share.")})}).always(()=>{lY(s,"userSharingSettingsPage")})},"ui/userSharingSettingsPage/dismissRemoveServerShareError"(e,t,a){lJt(e).set({removeServerShareError:null})},[GXt](e,t,a){var i=lJt(e),r=e.get("user"),n=Object(Ta.a)(e,t);Object(wa.a)(()=>{i.set({isUpdatingFriend:!0,updateFriendError:null})}),new dY({username:n.get("username")},{server:r.server}).save().done(()=>{i.set({isUpdatingFriend:!1}),a(bA()),a(UA()),a(HA())}).fail(e=>{i.set({isUpdatingFriend:!1,updateFriendError:KT(e,Object(Ze.default)("Failed to add to Plex Home"),"status")})})}}),uJt=a("R14s"),pJt=a.n(uJt),hJt=Uu()(Xh,{});var mJt=function(e){return Uu()("div",{className:pJt.a.spinnerContainer},void 0,hJt)};function vJt(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}vJt.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var gJt=vJt,yJt=a("L4oE"),fJt=a.n(yJt),bJt=Ed.a.createElement,{useCallback:IJt,useEffect:SJt,useState:MJt}=Ed.a,CJt={isUsernameOpen:!1,isPhotoOpen:!1};var DJt=function(e){var{cloudServerEntityID:t,friend:a,isGuest:i,isAllFriendsPending:r,isUpdatingFriend:n,updateFriendError:s,onSubmit:o,onErrorDismiss:l}=e,{entityID:c,title:d,thumb:u}=a,p=MJt(CJt),h=p[1],m=p[0],v=Gb(r);SJt(()=>{!v||r||s||h(D.a.mapObject(m,()=>!1))},[v,r,s,m]);var g=IJt(e=>t=>{t.preventDefault(),s&&l({friendEntityID:c});var a=D.a.mapObject(m,(t,a)=>a===e&&!m[e]);h(a)},[m,h,c,s,l]),y=IJt((e,t)=>({title:e,isOpen:m[t],onSubmit:e=>{o(Object.assign({},e,{friendEntityID:c}))},isUpdating:n||r,onTogglePress:g(t)}),[m,g,c,r,n,o]),f=IJt(()=>{s&&l()},[s,l]);return Uu()(C3,{className:fJt.a.content,metricsPage:Rd.zb,metricsPane:"profile"},void 0,i?null:bJt(wxt,tp()({},y(Object(Ze.default)("Username"),"isUsernameOpen"),{closedNode:d}),Uu()(ZV,{labelText:Object(Ze.default)("Username"),name:"username",initialValue:d,errors:s?[s]:[],validations:[oqt],onChange:f})),bJt(wxt,tp()({},y(Object(Ze.default)("Photo"),"isPhotoOpen"),{closedNode:Uu()(JS,{serverEntityID:t,url:u,width:80,height:80})}),Uu()(zZt,{serverEntityID:t,name:"avatar",width:180,height:180,initialValue:u,url:u})))};var PJt={onSubmit:ZXt,onErrorDismiss:XXt},OJt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.userSharingSettingsPage,Yu,mv("isAllFriendsPending"),(e,t,a)=>({cloudServerEntityID:t.entityID,isAllFriendsPending:a,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError}))}),PJt)(DJt),jJt=Ed.a.createElement,{Fragment:TJt}=Ed.a;function wJt(e){var{[ao]:t,[io]:a,[ro]:i,[no]:r}=e;if(!(t||a||i||r))return Object(Ze.default)("No restrictions");var n=[t,i].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),s=[a,r].reduce((e,t)=>t?e.concat(t.split(",")):e,[]).join(", "),o=n.length>0,l=s.length>0;return o&&!l?Object(Ze.default)("Allow only {tags}",{tags:n}):!o&&l?Object(Ze.default)("Exclude only {tags}",{tags:s}):Uu()(TJt,{},void 0,Uu()("div",{},void 0,Object(Ze.default)("Allow only {tags}",{tags:n})),Uu()("div",{},void 0,Object(Ze.default)("Exclude {tags}",{tags:s})))}function EJt(e){var{label:t,metadataType:a,contentRatingsName:i,excludeContentRatingsName:r,labelsName:n,excludeLabelsName:s,filters:o,tagsProps:l}=e,c=Je()(e,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps"]),d=OK(o,ao,io),u=OK(o,ro,no);return jJt(wxt,tp()({},c,{closedNode:wJt(o)}),Uu()(UC,{},void 0,t),i?jJt(gq,tp()({},l,{name:i,metadataType:a,tagType:ao,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange})):null,r?jJt(gq,tp()({},l,{name:r,metadataType:a,tagType:io,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange})):null,jJt(gq,tp()({},l,{name:n,metadataType:a,tagType:ro,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange})),jJt(gq,tp()({},l,{name:s,metadataType:a,tagType:no,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange})))}var NJt=a("sNLJ"),xJt=a.n(NJt),AJt=Ed.a.createElement,{Fragment:LJt,useCallback:kJt,useEffect:RJt,useState:zJt}=Ed.a,UJt={isRestrictionProfileOpen:!1,isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function VJt(e){return Zx(e||"unrestricted").title}function BJt(e,t){return e?fK.options[t]():t===fK.TV_ONLY?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}function FJt(e){return parseInt(e,10)}var HJt=function(e){var{friend:t,restrictionProfile:a,filterOptionsTags:i,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:n,isUpdatingFriend:s,updateFriendError:o,hasPlexPass:l,isGuest:c,canShowRestrictions:d,canShareTuners:u,canShareDVR:p,onSubmit:h,onErrorDismiss:m}=e,{entityID:v,restricted:g,filterMovies:y,filterTelevision:f,filterMusic:b,allowSync:I,allowCameraUpload:S,allowTuners:M}=t,C=zJt(UJt),P=C[1],O=C[0],j=Gb(s);RJt(()=>{!j||s||o||P(D.a.mapObject(O,()=>!1))},[j,s,o,O]);var T=kJt(e=>t=>{t.preventDefault(),o&&m({friendEntityID:v});var a=D.a.mapObject(O,(t,a)=>a===e&&!O[e]);P(a)},[O,P,v,o,m]),w=kJt((e,t)=>({title:e,isOpen:O[t],onSubmit:e=>{h({friendEntityID:v,restrictions:e})},isUpdating:s,errorMessage:o,onTogglePress:T(t)}),[O,T,v,s,o,h]),E={filterOptionsTags:i,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:n},N=d&&!a;return Uu()(C3,{className:xJt.a.content,metricsPage:Rd.zb,metricsPane:"restrictions"},void 0,g&&!c?AJt(wxt,tp()({},w(Object(Ze.default)("Restriction Profile"),"isRestrictionProfileOpen"),{closedNode:VJt(a)}),Uu()(aZ,{name:"restrictionProfileIdentifier",initialValue:a||"unrestricted",hasPlexPass:l})):null,d?AJt(wxt,tp()({},w(Object(Ze.default)("Allow Sync and Download"),"isAllowSyncOpen"),{closedNode:I?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}),Uu()(VV,{name:"allowSync",initialValue:I,labelText:Object(Ze.default)("Allow Sync and Download"),checkboxText:Object(Ze.default)("Allow this user to sync or download content from your server")})):null,d?AJt(wxt,tp()({},w(Object(Ze.default)("Allow Camera Upload"),"isAllowCameraUploadOpen"),{closedNode:S?Object(Ze.default)("Enabled"):Object(Ze.default)("Disabled")}),Uu()(VV,{name:"allowCameraUpload",initialValue:S,labelText:Object(Ze.default)("Allow Camera Upload"),checkboxText:Object(Ze.default)("Allow this user to upload media to your server")})):null,u?AJt(wxt,tp()({},w(p?Object(Ze.default)("Live TV & DVR Access"):Object(Ze.default)("Allow access to Live TV"),"isAllowLiveTVOpen"),{closedNode:BJt(p,M)}),p?Uu()(wV,{name:"allowTuners",initialValue:M,value:fK.values[M],values:fK.values,transformValue:FJt,labelText:Object(Ze.default)("Live TV & DVR Access"),helpText:Object(Ze.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):Uu()(VV,{name:"allowTuners",initialValue:M,checkedValue:1,uncheckedValue:0,labelText:Object(Ze.default)("Allow access to Live TV"),checkboxText:Object(Ze.default)("Enabling this option will allow this user to access Live TV streams.")})):null,N?Uu()(LJt,{},void 0,AJt(EJt,tp()({},w(UQ.g.get(UQ.b).title,"isMovieTagsOpen"),{label:UQ.g.get(UQ.b).title,metadataType:Wt.j,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:y,tagsProps:E})),AJt(EJt,tp()({},w(UQ.g.get(UQ.e).title,"isTelevisionTagsOpen"),{label:UQ.g.get(UQ.e).title,metadataType:Wt.o,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:f,tagsProps:E})),AJt(EJt,tp()({},w(UQ.g.get(UQ.c).title,"isMusicTagsOpen"),{label:UQ.g.get(UQ.c).title,metadataType:Wt.b,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:b,tagsProps:E}))):null,d?null:Uu()(mT,{iconComponent:G9,title:Object(Ze.default)("Sharing Restrictions"),text:Object(Ze.default)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:Uu()(oT,{message:Object(Ze.default)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:Vp,kind:Dp,to:"https://support.plex.tv/articles/204232573-restricting-the-shares/",target:"_blank"}]})},void 0,Uu()(ak,{origin:"users-and-sharing",modalMetricsProperties:{context:_t.USERS_AND_SHARING}})))},_Jt=Ed.a.createElement,{useEffect:QJt}=Ed.a,WJt=zT(Tt.c),GJt=zT(Tt.y),YJt=zT(Tt.b);var KJt={dispatchFetchFilterOptionsTags:KXt,onSubmit:qXt,onErrorDismiss:XXt};var qJt=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,gK,WJt,GJt,YJt,Object(_u.a)((e,{friend:t})=>t,Yq,(e,t)=>Object.values(t).find(t=>t.id===e.id)),mv("hasPlexPass"),(e,t,a,i,r,n,s,o)=>{var l=r||t.home;return{serverEntityIDs:a,restrictionProfile:s?s.restrictionProfile:null,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,hasPlexPass:o,isGuest:!!s&&s.guest,canShowRestrictions:i,canShareTuners:l,canShareDVR:l&&n}})}),KJt)((function(e){var{serverEntityIDs:t,dispatchFetchFilterOptionsTags:a}=e,i=Je()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return QJt(()=>{a({serverEntityIDs:t})},[t,a]),_Jt(HJt,i)})),ZJt=a("ZrFU"),XJt=a.n(ZJt),{Fragment:JJt}=Ed.a;var $Jt=function({serverShare:e}){var{name:t,libraries:a}=e;return(Uu()(JJt,{},void 0,Uu()(UC,{},void 0,t),a.map(e=>Uu()("div",{className:XJt.a.library},e.id,e.title))))},e$t=Ed.a.createElement,{Fragment:t$t,useCallback:a$t,useEffect:i$t,useMemo:r$t,useState:n$t}=Ed.a;function s$t(e){var{libraries:t,sharingSettings:a,allLibraries:i}=e,r=i?Object(Ze.default)("All libraries"):t.map(e=>e.title).join(", "),n=[];return a.allowSync&&n.push(Object(Ze.default)("Sync Allowed")),a.allowCameraUpload&&n.push(Object(Ze.default)("Camera Upload Allowed")),0!==a.allowTuners&&n.push(1===a.allowTuners?Object(Ze.default)("Live TV Allowed"):Object(Ze.default)("Live TV and DVR allowed")),Uu()(t$t,{},void 0,Uu()("div",{},void 0,r),n.length>0?Uu()("div",{},void 0,n.join(", ")):null)}var o$t=function(e){var{friend:t,serverShares:a,isRemoveServerSharePending:i,isRemoveServerShareCompleted:r,removeServerShareError:n,onSubmit:s,onErrorDismiss:o}=e,l=r$t(()=>a.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[a]),c=n$t(l),d=c[1],u=c[0],p=n$t(!1),h=p[1],m=p[0],v=n$t(null),g=v[1],y=v[0],f=Gb(r);i$t(()=>{f||!r||n||d(D.a.mapObject(u,()=>!1))},[u,f,r,n]);var b=a$t(()=>{h(!1)},[h]),I=a$t(()=>{s({friendEntityID:t.entityID,machineIdentifier:y}),h(!1)},[t,y,h,s]),S=a$t(e=>t=>{t.preventDefault(),n&&o();var a=D.a.mapObject(u,(t,a)=>a===e&&!u[e]);d(a)},[u,d,n,o]),M=a$t((e,t)=>({title:e,isOpen:u[t],onSubmit:()=>{g(t),h(!0)},isUpdating:i,errorMessage:n,onTogglePress:S(t)}),[u,i,n,S]);return Uu()(t$t,{},void 0,a.map(e=>{var{machineIdentifier:t,name:a}=e;return(e$t(wxt,tp()({},M(a,t),{key:t,closedNode:s$t(e),buttonKind:Pp,buttonText:Object(Ze.default)("Leave Server"),showButtonEnabled:!0}),Uu()($Jt,{serverShare:e},t)))}),Uu()(HH,{isOpen:m,metricsPage:Rd.zb,kind:Pp,title:Object(Ze.default)("Leave shared server"),message:Object(Ze.default)("Are you sure you want to leave this shared server?"),confirmLabel:Object(Ze.default)("Leave Server"),onConfirm:I,onCancel:b}))},l$t=Object(_u.a)(e=>e.ui.userSharingSettingsPage,e=>{var{isRemoveServerSharePending:t,isRemoveServerShareCompleted:a,removeServerShareError:i}=e;return{isRemoveServerSharePending:t&&!i,isRemoveServerShareCompleted:a,removeServerShareError:i}}),c$t={onSubmit:nJt,onErrorDismiss:sJt},d$t=Object(Fu.b)(l$t,c$t)(o$t),u$t=a("cTZx"),p$t=a.n(u$t),h$t=Ed.a.createElement;var m$t=jV((function(e){return h$t(RV,tp()({className:p$t.a.input},e))})),v$t=a("ccYj"),g$t=a.n(v$t),{Fragment:y$t,useCallback:f$t,useState:b$t}=Ed.a;var I$t=function(e){var{serverOverview:t,serverShare:a}=e,{machineIdentifier:i,name:r,sections:n}=t,s=b$t(!(!a||!a.allLibraries)),o=s[1],l=s[0],c=f$t(()=>{o(!l)},[l]);return Uu()(y$t,{},void 0,Uu()(UC,{},void 0,r),n.length>0?Uu()(m$t,{name:JSON.stringify({machineIdentifier:i}),checkboxText:Object(Ze.default)("All Libraries"),initialValue:l,onChange:c}):null,0===n.length?Uu()("div",{className:g$t.a.emptyMessage},void 0,Object(Ze.default)("No libraries")):null,l?null:n.map(e=>{var{id:t,title:i}=e,r=!!(a&&a.libraries&&a.libraries.find(e=>e.id===t));return Uu()(m$t,{name:JSON.stringify({sectionID:t}),checkboxText:i,initialValue:r},t)}))},S$t=Ed.a.createElement,{useCallback:M$t,useEffect:C$t,useMemo:D$t,useState:P$t}=Ed.a;function O$t(e){return e?e.allLibraries?Object(Ze.default)("All libraries"):e.libraries.map(e=>e.title).join(", "):Object(Ze.default)("No shared libraries")}var j$t=function(e){var{friend:t,serverOverviews:a,isSharingPending:i,isSharingCompleted:r,sharingError:n,onSubmit:s,onErrorDismiss:o}=e,l=D$t(()=>a.reduce((e,t)=>(e[t.machineIdentifier]=!1,e),{}),[a]),c=P$t(l),d=c[1],u=c[0],p=Gb(r);C$t(()=>{p||!r||n||d(D.a.mapObject(u,()=>!1))},[u,p,r,n]);var h=M$t(e=>t=>{t.preventDefault(),n&&o();var a=D.a.mapObject(u,(t,a)=>a===e&&!u[e]);d(a)},[u,d,n,o]),m=M$t(e=>a=>{var i=Object.keys(a).reduce((e,t)=>{var i=a[t],r=JSON.parse(t);return i&&r.hasOwnProperty("sectionID")&&e.selectedLibrarySectionIDs.push(r.sectionID),i&&r.hasOwnProperty("machineIdentifier")&&(e.isAllLibrariesSelected=!0),e},{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});s(i)},[t,s]),v=M$t((e,t)=>({title:e,isOpen:u[t],onSubmit:m(t),isUpdating:i,errorMessage:n,onTogglePress:h(t)}),[u,m,h,i,n]);return a.map(e=>{var{name:a,machineIdentifier:i}=e,r=t.serverShares.find(e=>e.machineIdentifier===i);return S$t(wxt,tp()({},v(a,i),{key:i,closedNode:O$t(r)}),Uu()(I$t,{serverOverview:e,serverShare:r},i))})},T$t=Object(_u.a)(e=>e.ui.userSharingSettingsPage,e=>{var{isSharingPending:t,isSharingCompleted:a,sharingError:i}=e;return{isSharingPending:t&&!i,isSharingCompleted:a,sharingError:i}}),w$t={onSubmit:iJt,onErrorDismiss:rJt},E$t=Object(Fu.b)(T$t,w$t)(j$t),N$t=a("9JDX"),x$t=a.n(N$t);var A$t=function({children:e}){return Uu()("h2",{className:x$t.a.header},void 0,e)},{Fragment:L$t,useMemo:k$t}=Ed.a,R$t=Uu()(mJt,{});var z$t=function(e){var{friend:t,serverOverviews:a,isRestricted:i,isLoading:r,showList:n,errorMessage:s}=e,o=k$t(()=>t.serverShares.filter(e=>!e.owned&&!e.pending),[t]);return s?Uu()(fh,{title:Object(Ze.default)("There was an unexpected error"),description:s}):Uu()(C3,{metricsPage:Rd.zb,metricsPane:"sharedLibraries"},void 0,r?R$t:null,n?Uu()(L$t,{},void 0,i?null:Uu()(A$t,{},void 0,Object(Ze.default)("Shared with {username}",{username:t.title})),i?null:Uu()(E$t,{friend:t,serverOverviews:a}),o.length>0?Uu()(A$t,{},void 0,Object(Ze.default)("Shared with you")):null,o.length>0?Uu()(d$t,{friend:t,serverShares:o}):null):null)},U$t=Ed.a.createElement,{useEffect:V$t}=Ed.a,B$t=Object(_u.a)(e=>e.ui.userSharingSettingsPage,_Y,mv("restricted"),(e,t,a)=>{var{serverOverviews:i,isServerOverviewsPopulating:r,isServerOverviewsPopulated:n,isServerSharesPopulating:s,isServerSharesPopulated:o,serverSharesError:l}=e;return{sharingEligibleServerEntityIDs:t,serverOverviews:i,isRestricted:a,isLoading:(r||s)&&!l,showList:n&&o,errorMessage:l}}),F$t={dispatchFetchServerOverviews:tJt,dispatchFetchServerShares:aJt};var H$t=Object(Fu.b)(B$t,F$t)((function(e){var{friend:t,sharingEligibleServerEntityIDs:a,dispatchFetchServerOverviews:i,dispatchFetchServerShares:r}=e,n=Je()(e,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),s=t.entityID;return V$t(()=>{i({serverEntityIDs:a})},[a,i]),V$t(()=>{r({friendEntityID:s})},[s,r]),U$t(z$t,tp()({},n,{friend:t}))}));var _$t=a("eLO8"),Q$t=a.n(_$t),{useCallback:W$t,useEffect:G$t,useState:Y$t}=Ed.a;var K$t=function(e){var{serverEntityID:t,providerEntityID:a,cellIndex:i,id:r,origin:n,serverName:s,type:o,playlistType:l,title:c,parentTitle:d,grandparentTitle:u,leafCount:p,duration:h,imageWidth:m,imageHeight:v,imageUrl:g,isOwnedItem:y,isDeleting:f,showDelete:b,onDeleteSharedItem:I}=e,S=N$(e),M=Y$t(!1),C=M[1],D=M[0],P=Gb(f),O=W$t(()=>{C(!0)},[]),j=W$t(()=>{I({id:r,origin:n,isOwnedItem:y})},[r,n,y,I]),T=W$t(()=>{C(!1)},[]);G$t(()=>{P&&!f&&C(!1)},[P,f]);var w=function(e,t,a){var i=a||t;return i?i+"  "+e:e}(c,d,u),E=Wt.u(o).title,N=y?Object(Ze.default)("Are you sure you want to stop sharing this item? The user will no longer be able to access it on {serverName}.",{serverName:s}):Object(Ze.default)("Are you sure you want to remove this shared item? You will no longer be able to access it on {serverName}.",{serverName:s});return Uu()("div",{className:((i%2?Q$t.a.alternateItem:Q$t.a.item)||"")+" "+(D&&Q$t.a.isDeleteConfirmModalOpen||""),style:S.style},void 0,Uu()("div",{className:Q$t.a.posterContainer},void 0,Uu()("div",{className:Q$t.a.poster,style:{width:m,height:v}},void 0,Uu()(PM,{serverEntityID:t,providerEntityID:a,type:o,url:S.isPlaceholder?null:g,width:m,height:v}))),Uu()("div",{className:Q$t.a.summaryContainer},void 0,Uu()("div",{className:Q$t.a.titleContainer},void 0,Uu()("div",{className:Q$t.a.title},void 0,w),Uu()("div",{className:Q$t.a.subtitle},void 0,E,p||o===Wt.p&&h?Uu()($y,{className:Q$t.a.separator}):null,p?function(e,t,a){if(t)return KRt(t,a);var i;if(e===Wt.o)i=Wt.f;else{var r=Wt.s(e);r&&(i=r.typeString)}return GLe(i,a)}(o,l,p):null,o===Wt.p&&h?Ym(h):null),Uu()("div",{className:Q$t.a.subtitle},void 0,s)),Uu()("div",{className:Q$t.a.actions},void 0,b?Uu()(Vp,{"data-qa-id":"sharedItemDeleteButton",className:Q$t.a.deleteButton,tabIndex:"0","aria-label":Object(Ze.default)("Remove {title}",{title:w}),onPress:O},void 0,Uu()(DI,{className:Q$t.a.icon})):null)),Uu()(HH,{kind:Pp,title:Object(Ze.default)("Remove {title}",{title:w}),message:N,confirmLabel:y?Object(Ze.default)("Stop Sharing"):Object(Ze.default)("Remove"),isOpen:D,isConfirmButtonSpinning:f,metricsPage:Rd.zb,onConfirm:j,onCancel:T}))},q$t=Ed.a.createElement,{useEffect:Z$t}=Ed.a;var X$t={dispatchPopulateSharedItem:$Xt,onDeleteSharedItem:eJt};var J$t=Object(Fu.b)((function(){return Object(_u.a)((e,{id:t})=>t,(e,{type:t})=>t,(e,{title:t})=>t,e=>e.ui.userSharingSettingsPage.deleteSharedItemID,Object(_u.a)((e,{uri:t})=>t,Gu,qG,(e,t,a)=>{var{metadataItemKey:i,serverIdentifier:r}=Object(Bn.a)(e),n=Object.keys(t).find(e=>t[e].machineIdentifier===r),s=Object.keys(a).find(e=>{var t=a[e];return t.key===i&&t.serverEntityID===n});return a[s]}),Object(_u.a)((e,{uri:t})=>t,Cne,(e,t)=>{var{serverIdentifier:a}=Object(Bn.a)(e),i=t.find(e=>e.server.machineIdentifier===a);return!!(i&&i.provider&&i.provider.isPopulated)}),(e,t,a,i,r={},n)=>{var s=function(e,t){var{subtype:a}=e;return oie(HTt(t,a,Ec),null,t,a,e,Ec)}(r,t);return{serverEntityID:r.serverEntityID,providerEntityID:r.providerEntityID,isItemProviderPopulated:n,grandparentKey:r.grandparentKey,parentTitle:r.parentTitle,grandparentTitle:r.grandparentTitle,type:t,playlistType:r.playlistType,index:r.index,title:r.title||a,leafCount:r.leafCount,duration:r.duration,isDeleting:e===i,showDelete:!i,imageWidth:s.width,imageHeight:s.height,imageUrl:s.url}})}),X$t)((function(e){var{uri:t,isItemProviderPopulated:a,dispatchPopulateSharedItem:i}=e,r=Je()(e,["uri","isItemProviderPopulated","dispatchPopulateSharedItem"]);return Z$t(()=>{a&&i({uri:t})},[t,a,i]),q$t(K$t,r)})),$$t=Ed.a.createElement,e0t=P$(120);function t0t(e){return t=>$$t(J$t,tp()({isOwnedItem:e},t))}var a0t=function(e){var{isOwnedItem:t}=e,a=Je()(e,["isOwnedItem"]);return($$t(v$,tp()({},a,{keyPropName:"id",layout:e0t,cellRenderer:t0t(t)})))},i0t=a("lEPh"),r0t=a.n(i0t),{Fragment:n0t,useCallback:s0t,useMemo:o0t,useState:l0t}=Ed.a;function c0t(e){return e.reduce((e,t)=>[...e,...t.sharedItems.map(e=>Object.assign({},e,{origin:t.origin,serverName:t.name}))],[])}var d0t=Uu()(mJt,{});var u0t=function(e){var{userTitle:t,isRestrictedUser:a,isRestrictedFriend:i,ownedSharedSources:r,receivedSharedSources:n,isPopulated:s,isLoading:o,errorMessage:l}=e,c=l0t(0),d=c[1],u=c[0],p=l0t(0),h=p[1],m=p[0],v=l0t({isContentMeasured:!1}),g=v[1],y=v[0],f=o0t(()=>c0t(r),[r]),b=o0t(()=>c0t(n),[n]),I=s0t(e=>{d(e.scrollTop)},[]),S=s0t(({width:e,height:t})=>{g({isContentMeasured:!0,contentWidth:e,contentHeight:t})},[]),M=s0t(({height:e})=>{h(e)},[]);if(l)return Uu()(fh,{title:Object(Ze.default)("There was an unexpected error"),description:l});var C=!o&&y.isContentMeasured,D=s&&!a,P=s&&!i;return Uu()(C3,{metricsPage:Rd.zb,metricsPane:"sharedMedia",scrollTop:u,onScrollPositionChange:I},void 0,o?d0t:null,Uu()(p$,{className:r0t.a.container,onMeasure:S},void 0,C?Uu()(n0t,{},void 0,D?Uu()(A$t,{},void 0,Object(Ze.default)("Shared with {userTitle}",{userTitle:t})):null,D&&0===f.length?Uu()("div",{className:r0t.a.message},void 0,Object(Ze.default)("You haven't shared anything yet.")):null,D&&f.length>0?Uu()(p$,{ignoreWidth:!1,ignorePosition:!1,onMeasure:M},void 0,Uu()(a0t,{items:f,size:f.length,viewportWidth:y.contentWidth,viewportHeight:y.contentHeight,scrollTop:u,isOwnedItem:!0})):null,P?Uu()(A$t,{},void 0,Object(Ze.default)("Shared with you")):null,P&&0===b.length?Uu()("div",{className:r0t.a.message},void 0,Object(Ze.default)("This user hasn't shared anything with you yet.")):null,P&&b.length>0?Uu()(a0t,{items:b,size:b.length,viewportWidth:y.contentWidth,viewportHeight:y.contentHeight,scrollTop:u-m,isOwnedItem:!1}):null):null))},p0t=Ed.a.createElement,{useEffect:h0t}=Ed.a;var m0t={dispatchFetchSharedSources:JXt};var v0t=Object(Fu.b)((function(){return Object(_u.a)(e=>e.ui.userSharingSettingsPage,(e,{friend:t})=>t,mv("restricted"),(e,t,a)=>{var{ownedSharedSources:i,receivedSharedSources:r,isSharedSourcesPopulating:n,isSharedSourcesPopulated:s,sharedSourcesError:o}=e;return{userID:t.id,userTitle:t.title,ownedSharedSources:i,receivedSharedSources:r,isRestrictedUser:a,isRestrictedFriend:t.restricted,isPopulating:n,isPopulated:s,isLoading:n&&!o,errorMessage:o}})}),m0t)((function(e){var{userID:t,isPopulating:a,isPopulated:i,dispatchFetchSharedSources:r}=e,n=Je()(e,["userID","isPopulating","isPopulated","dispatchFetchSharedSources"]);return h0t(()=>{a||i||r({userID:t})},[t,a,i,r]),p0t(u0t,tp()({},n,{isPopulated:i}))})),g0t=a("08AQ"),y0t=a.n(g0t),{useCallback:f0t,useEffect:b0t,useMemo:I0t,useState:S0t}=Ed.a,M0t={sharedLibraries:H$t,sharedMedia:v0t,profile:OJt,restrictions:qJt};var C0t=Uu()(mJt,{});var D0t=function(e){var{serverEntityID:t,friend:a,isGuest:i,isUpdatingFriend:r,isPending:n,isPopulated:s,showAddToHome:o,showProfile:l,showRestrictions:c,hasError:d,dispatchAddToHome:u}=e,p=Gb(r),h=S0t("sharedLibraries"),m=h[1],v=h[0],g=S0t(!1),y=g[1],f=g[0],b=f0t(e=>{m(e)},[]),I=f0t(()=>y(!0),[]),S=f0t(()=>u({friendEntityID:a.entityID}),[a,u]),M=f0t(()=>y(!1),[]);b0t(()=>{p&&!r&&y(!1)},[p,r,y]);var C=I0t(()=>function(e,t,a){var i=[{id:"sharedLibraries",title:Object(Ze.default)("Shared Libraries"),isSelected:"sharedLibraries"===e},{id:"sharedMedia",title:Object(Ze.default)("Shared Media"),isSelected:"sharedMedia"===e}];return t&&i.push({id:"profile",title:Object(Ze.default)("Profile"),isSelected:"profile"===e}),a&&i.push({id:"restrictions",title:Object(Ze.default)("Restrictions"),isSelected:"restrictions"===e}),i}(v,l,c),[v,l,c]),D=M0t[v];return Uu()(tJ,{metricsPage:Rd.a,metricsProperties:{pane:"users-sharing"},scrollDirection:Jp},void 0,!d&&n?C0t:null,!d&&s?Uu()(P1e,{className:y0t.a.pageHeader},void 0,Uu()(mnt,{className:y0t.a.pageHeaderLeft},void 0,Uu()(JS,{className:y0t.a.avatar,serverEntityID:t,url:a.thumb,width:60,height:60}),Uu()("div",{className:y0t.a.username},void 0,a.title)),Uu()(lnt,{tabs:C,hideSingleTabs:!1,onPress:b}),Uu()(Art,{className:y0t.a.pageHeaderRight},void 0,o?Uu()(KG,{className:y0t.a.addToHomeIcon,iconComponent:gJt,title:Object(Ze.default)("Add to Plex Home"),onPress:I}):null)):null,!d&&s?Uu()(D,{friend:a,isGuest:i}):null,d?Uu()(RH,{title:Object(Ze.default)("An error occurred loading this user"),description:Object(Ze.default)("Please try again")},void 0,Uu()(Vp,{to:"#!/settings/users-sharing",kind:Dp},void 0,Object(Ze.default)("Go Back"))):null,Uu()(HH,{isOpen:f,metricsPage:Rd.e,title:Object(Ze.default)("Add to Plex Home"),message:Uu()("div",{className:y0t.a.confirmMessageContainer},void 0,Uu()(GM,{className:y0t.a.confirmWarning}),Uu()("div",{className:y0t.a.confirmMessage},void 0,Object(Ze.default)("Inviting other users to your home is a security risk that could allow these users to access your account. You should only do this if you live in the same home and share devices.")),Uu()("div",{className:y0t.a.confirmMessage},void 0,Object(Ze.default)("Users in your Home appear on the Switch User screen. The invited user will be asked to confirm Home membership."))),confirmLabel:Object(Ze.default)("Confirm"),kind:Pp,isConfirmButtonSpinning:r,onConfirm:S,onCancel:M}))},P0t=Ed.a.createElement,{useEffect:O0t}=Ed.a,j0t=Object(_u.a)(e=>e.ui.userSharingSettingsPage,e=>e.cloudServer,(e,{userID:t})=>t,qu.a,Wq,QY,Yq,mv("hasPlexPass"),(e,t,a,i,r,n,s,o)=>{var l=Object.keys(n).find(e=>n[e].id===a),c=Object.keys(s).find(e=>s[e].id===a),d=i.isAllFriendsPopulated,u=n[l],p=s[c],h=!!r.sentInvites.find(e=>parseInt(e.id,10)===u.id&&e.home);return{serverEntityID:t,friend:u,isGuest:!!p&&p.guest,isUpdatingFriend:e.isUpdatingFriend,isPending:i.isAllFriendsPending&&!d,isPopulated:d,hasError:!!i.allFriendsError||d&&!l,showAddToHome:o&&!(u&&u.home)&&!h,showProfile:!!p&&p.restricted,showRestrictions:!i.restricted}}),T0t={dispatchResetUserSharingSettingsPage:YXt,dispatchPopulateAllFriends:SA,dispatchPopulateHomeUsers:IA,dispatchAddToHome:oJt};var w0t=Object(Fu.b)(j0t,T0t)((function(e){var{dispatchResetUserSharingSettingsPage:t,dispatchPopulateAllFriends:a,dispatchPopulateHomeUsers:i}=e,r=Je()(e,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends","dispatchPopulateHomeUsers"]);return O0t(()=>{Object(wa.a)(a)},[a]),O0t(()=>{Object(wa.a)(i)},[i]),O0t(()=>t,[t]),P0t(D0t,r)})),E0t=Uu()(u6,{selectedKey:"users-sharing"}),N0t=Hu.extend({component(e){var{userID:t}=e;return(Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,E0t,Uu()(w0t,{userID:parseInt(t,10)}))))}}),x0t=Object(_u.a)(Wq,e=>e.homeDetails),A0t=a("doJ2"),L0t=a.n(A0t);var k0t=function(e){var{isAccepting:t,onPress:a}=e;return t?Uu()(Kh,{className:L0t.a.spinner,loadingLabel:Object(Ze.default)("Accepting invite"),size:jp}):Uu()(KG,{className:L0t.a.button,iconComponent:Zq,title:Object(Ze.default)("Accept Invite"),onPress:a})},R0t=a("e0vz"),z0t=a.n(R0t);var U0t=function({title:e,onPress:t}){return Uu()(KG,{className:z0t.a.button,iconComponent:DI,title:e,onPress:t})},V0t=Ed.a.createElement;var B0t=function(e){var{hasOtherHomeUsers:t,isSignedInUserAdmin:a}=e,i=Je()(e,["hasOtherHomeUsers","isSignedInUserAdmin"]),r=Object(Ze.default)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return t&&(r=a?Object(Ze.default)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ze.default)("Are you sure you want to join this home? You will leave your current home.")),V0t(HH,tp()({},i,{kind:Pp,title:Object(Ze.default)("Join Home"),message:r,confirmLabel:Object(Ze.default)("Join")}))},F0t=Ed.a.createElement;var H0t=function(e){return F0t(HH,tp()({},e,{title:Object(Ze.default)("Reject Invite"),message:Object(Ze.default)("Are you sure you want to reject this invite?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No")}))},_0t=a("P9va"),Q0t=a.n(_0t);function W0t(e){var{className:t,children:a,userID:i}=e;return(Uu()("div",{className:t},void 0,i?Uu()(Vp,{className:Q0t.a.underlay,to:"#!/settings/users-sharing/"+i}):null,a))}W0t.defaultProps={className:Q0t.a.row};var G0t=W0t,Y0t=a("4vwf"),K0t=a.n(Y0t);function q0t({className:e,children:t}){return Uu()("div",{className:e},void 0,t)}q0t.defaultProps={className:K0t.a.container};var Z0t=q0t,X0t=a("HCZj"),J0t=a.n(X0t);var $0t=function(e){var{serverEntityID:t,thumb:a}=e;return(Uu()("div",{className:J0t.a.container},void 0,Uu()(JS,{serverEntityID:t,url:a,width:50,height:50})))};function e1t(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}e1t.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var t1t=e1t,a1t=a("qM40"),i1t=a.n(a1t),r1t=Uu()($y,{});var n1t=function(e){var t,{title:a,subtitle:i,restrictionProfile:r,isAdmin:n,isRestricted:s}=e;return s&&(t=r?Zx(r).title:Object(Ze.default)("Managed User")),Uu()("div",{className:i1t.a.container},void 0,Uu()("div",{className:i1t.a.titleContainer},void 0,Uu()("div",{className:i1t.a.title},void 0,a),n?Uu()("div",{className:i1t.a.statusContainer},void 0,Uu()("div",{className:i1t.a.status},void 0,Object(Ze.default)("Admin")),Uu()(t1t,{className:i1t.a.admin})):null,t?Uu()("div",{className:i1t.a.status},void 0,t):null),i?Uu()("div",{className:i1t.a.subtitle},void 0,r1t,i):null)},s1t=a("qr/E"),o1t=a.n(s1t);function l1t(e){var{serverShares:t}=e,a=0,i=0;return t.forEach(e=>{e.owned?a+=e.numLibraries:i+=e.numLibraries}),Uu()("div",{className:o1t.a.container},void 0,i?Uu()("div",{className:o1t.a.status},void 0,1===i?Object(Ze.default)("Shares 1 library with you"):Object(Ze.default)("Shares {libraryCount} libraries with you",{libraryCount:i})):null,a?Uu()("div",{className:o1t.a.status},void 0,1===a?Object(Ze.default)("Sharing 1 library with them"):Object(Ze.default)("Sharing {libraryCount} libraries with them",{libraryCount:a})):null)}l1t.defaultProps={serverShares:[]};var c1t=l1t,d1t=a("O6KH"),u1t=a.n(d1t),{useCallback:p1t,useState:h1t}=Ed.a;var m1t=function(e){var{serverEntityID:t,thumb:a,friendlyName:i,home:r,serverShares:n,isAccepting:s,isRemoving:o,hasOtherHomeUsers:l,isSignedInUserAdmin:c,dispatchAcceptInvite:d,dispatchRejectInvite:u}=e,p=h1t(!1),h=p[1],m=p[0],v=h1t(!1),g=v[1],y=v[0],f=p1t(()=>r?h(!0):d(),[r,d]),b=p1t(()=>g(!0),[]),I=p1t(()=>h(!1),[]),S=p1t(()=>g(!1),[]);return Uu()(G0t,{},void 0,Uu()($0t,{serverEntityID:t,thumb:a}),Uu()(n1t,{title:i,subtitle:r?Object(Ze.default)("Wants you to join their home"):Object(Ze.default)("Wants to share with you")}),r?Uu()("div",{className:u1t.a.homeInvite},void 0,Object(Ze.default)("Awaiting your response")):Uu()(c1t,{serverShares:n}),Uu()(Z0t,{},void 0,Uu()(k0t,{isAccepting:s,onPress:f}),Uu()(U0t,{title:Object(Ze.default)("Reject Invite"),onPress:b})),r?Uu()(B0t,{isOpen:m,metricsPage:Rd.zb,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:d,onCancel:I}):null,Uu()(H0t,{isOpen:y,metricsPage:Rd.zb,isConfirmButtonSpinning:o,onConfirm:u,onCancel:S}))};var v1t=Object(Fu.b)(null,(function(e,t){return{dispatchAcceptInvite(){e(VA({inviteID:t.id}))},dispatchRejectInvite(){e(BA({inviteID:t.id}))}}}))(m1t),g1t=Ed.a.createElement;var y1t=function(e){return g1t(HH,tp()({},e,{title:Object(Ze.default)("Cancel Invite"),message:Object(Ze.default)("Are you sure you want to cancel this invite?"),confirmLabel:Object(Ze.default)("Yes"),cancelLabel:Object(Ze.default)("No")}))},f1t=a("n6F1"),b1t=a.n(f1t),{useCallback:I1t,useState:S1t}=Ed.a;var M1t=function(e){var{serverEntityID:t,thumb:a,friendlyName:i,home:r,serverShares:n,isRemoving:s,dispatchCancelInvite:o}=e,l=S1t(!1),c=l[1],d=l[0];return Uu()(G0t,{className:b1t.a.row},void 0,Uu()($0t,{serverEntityID:t,thumb:a}),Uu()(n1t,{title:i,subtitle:Object(Ze.default)("Invite pending")}),r?Uu()("div",{className:b1t.a.homeInvite},void 0,Uu()("div",{className:b1t.a.status},void 0,Object(Ze.default)("Awaiting their response"))):Uu()(c1t,{serverShares:n}),Uu()(Z0t,{className:b1t.a.actions},void 0,Uu()(U0t,{title:Object(Ze.default)("Cancel Invite"),onPress:I1t(()=>c(!0),[])})),Uu()(y1t,{isOpen:d,metricsPage:Rd.zb,isConfirmButtonSpinning:s,onConfirm:o,onCancel:I1t(()=>c(!1),[])}))};var C1t=Object(Fu.b)(null,(function(e,t){return{dispatchCancelInvite(){e(FA({inviteID:t.id}))}}}))(M1t),D1t=a("8cAR"),P1t=a.n(D1t);var O1t=function({title:e,children:t}){return Uu()("div",{className:P1t.a.header},void 0,Uu()("div",{className:P1t.a.pageHeaderLeft},void 0,e),Uu()("div",{className:P1t.a.pageHeaderRight},void 0,t))},j1t=Ed.a.createElement;function T1t(e){var{title:t,serverShares:a}=e,i=Je()(e,["title","serverShares"]),r=Object(Ze.default)("Are you sure you want to remove {friendName}?",{friendName:t}),n=0,s=0;a.forEach(e=>{e.owned?n+=e.numLibraries:s+=e.numLibraries});var o=function(e,t,a){return e&&t?a>1?Object(Ze.default)("You are sharing {libraryCount} libraries with each other",{libraryCount:a}):Object(Ze.default)("You are sharing {libraryCount} library with each other",{libraryCount:a}):e?a>1?Object(Ze.default)("You are sharing {libraryCount} libraries with this friend",{libraryCount:a}):Object(Ze.default)("You are sharing {libraryCount} library with this friend",{libraryCount:a}):t?a>1?Object(Ze.default)("This friend is sharing {libraryCount} libraries with you",{libraryCount:a}):Object(Ze.default)("This friend is sharing {libraryCount} library with you",{libraryCount:a}):void 0}(n,s,n+s);return o&&(r+=" "+o),j1t(HH,tp()({},i,{kind:Pp,title:Object(Ze.default)("Remove Friend"),message:r,confirmLabel:Object(Ze.default)("Remove")}))}T1t.defaultProps={serverShares:[]};var w1t=T1t,E1t=a("W/pu"),N1t=a.n(E1t),{useEffect:x1t}=Ed.a;var A1t=function(e){var{serverEntityID:t,id:a,title:i,thumb:r,serverShares:n,home:s,restricted:o,isRemoving:l,dispatchRemove:c}=e,d=w8(),u=Gb(l);return x1t(()=>{u&&!l&&d.isOpen&&d.onClose()},[u,l,d]),s||o?null:Uu()(G0t,{className:N1t.a.row,userID:a},void 0,Uu()($0t,{serverEntityID:t,thumb:r}),Uu()(n1t,{title:i}),Uu()(c1t,{serverShares:n}),Uu()(Z0t,{className:N1t.a.actions},void 0,Uu()(U0t,{title:Object(Ze.default)("Remove User"),onPress:d.onOpen})),Uu()(w1t,{isOpen:d.isOpen,metricsPage:Rd.zb,title:i,serverShares:n,isConfirmButtonSpinning:l,onConfirm:c,onCancel:d.onClose}))};var L1t=Object(Fu.b)((function(){return Object(_u.a)(WY(),e=>e)}),(function(e,t){return{dispatchRemove(){e(LA({friendEntityID:t.friendEntityID}))}}}))(A1t);function k1t(){return Object(_u.a)(Yq,(e,t)=>t.homeUserEntityID,(e,t)=>e[t])}var R1t=Ed.a.createElement;var z1t=function(e){var{isSignedInUser:t,isAdmin:a,isRestricted:i}=e,r=Je()(e,["isSignedInUser","isAdmin","isRestricted"]),n=Object(Ze.default)("Remove User"),s=Object(Ze.default)("You will no longer be able to switch to this user."),o=Object(Ze.default)("Remove");return t?(n=Object(Ze.default)("Leave Home"),s=a?Object(Ze.default)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Ze.default)("Are you sure you want to leave this home?"),o=Object(Ze.default)("Leave")):i&&(s=Object(Ze.default)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),R1t(HH,tp()({},r,{kind:Pp,title:n,message:s,confirmLabel:o}))};function U1t(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}U1t.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var V1t=U1t;function B1t(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}B1t.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var F1t=B1t,H1t=a("H3DA"),_1t=a.n(H1t);function Q1t(e){var{isProtected:t,isGuest:a}=e,i=t?V1t:F1t;return Uu()("div",{className:_1t.a.container},void 0,Uu()("div",{title:t?Object(Ze.default)("Has PIN"):Object(Ze.default)("No PIN")},void 0,a?null:Uu()(i,{className:t?_1t.a.lockedIcon:_1t.a.icon})))}Q1t.defaultProps={isProtected:!1,isGuest:!1};var W1t=Q1t,G1t=a("Hbfx"),Y1t=a.n(G1t),{useCallback:K1t,useEffect:q1t,useState:Z1t}=Ed.a;var X1t=function(e){var{serverEntityID:t,id:a,title:i,thumb:r,protected:n,restricted:s,serverShares:o,isSignedInUserAdmin:l,isSignedInUserRestricted:c,isSignedInUser:d,admin:u,guest:p,restrictionProfile:h,hasOtherHomeUsers:m,isRemoving:v,dispatchEditPIN:g,dispatchRemove:y}=e,f=Z1t(!1),b=f[1],I=f[0],S=Gb(v);q1t(()=>{S&&!v&&I&&b(!1)},[S,v,I]);var M,C=K1t(()=>{b(!0)},[]),D=K1t(()=>{b(!1)},[]);M=!!l||(c?u:!s);var P=!d&&M,O=l&&!d&&!p,j=d&&!s,T=l&&s&&!p;return Uu()(G0t,{className:Y1t.a.row,userID:P?a:null},void 0,Uu()($0t,{serverEntityID:t,thumb:r}),Uu()(n1t,{title:i,restrictionProfile:h,isAdmin:u,isRestricted:s}),Uu()(W1t,{isProtected:n,isGuest:p}),Uu()(c1t,{serverShares:o}),Uu()(Z0t,{className:Y1t.a.actions},void 0,j||T?Uu()(Vp,{className:Y1t.a.editPin,onPress:g},void 0,n?Object(Ze.default)("Edit PIN"):Object(Ze.default)("Set PIN")):null,O?Uu()(U0t,{title:Object(Ze.default)("Remove From Plex Home"),onPress:C}):null,d&&m&&!s?Uu()(U0t,{title:Object(Ze.default)("Leave Home"),onPress:C}):null),Uu()(z1t,{isOpen:I,metricsPage:Rd.zb,isSignedInUser:d,isAdmin:u,isRestricted:s,isConfirmButtonSpinning:v,onConfirm:y,onCancel:D}))},J1t=Object(_u.a)(Yq,mv("id"),(e,t)=>{var a=Object.values(e).find(e=>e.id===t);return!(!a||!a.restricted)});var $1t=Object(Fu.b)((function(){return Object(_u.a)((e,{signedInUserId:t})=>t,J1t,k1t(),Object(_u.a)(k1t(),Kq,QY,(e,t,a)=>t.find(t=>a[t].id===e.id)),(e,t,a,i)=>Object.assign({},a,{serverShares:i&&i.serverShares,isSignedInUser:a.id===e,isSignedInUserRestricted:t}))}),(function(e,t){return{dispatchRemove(){e(AA({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN(){e(RA({homeUserEntityID:t.homeUserEntityID}))}}}))(X1t),e2t=a("FuJG"),t2t=a.n(e2t),a2t=Ed.a.createElement,{Fragment:i2t,useCallback:r2t,useState:n2t}=Ed.a;function s2t(e,t){return e.filter(e=>e.home===t)}var o2t=Uu()(mJt,{});function l2t(e){var t,{serverEntityID:a,addManagedUser:i,isPending:r,isPopulated:n,allFriendsError:s,allFriends:o,homeDetailsError:l,homeUsersError:c,homeUsers:d,invitesError:u,invites:p,sentInvitesError:h,sentInvites:m,signedInUserId:v,guestEnabled:g,isTogglingGuestUser:y,isSignedInUserAdmin:f,isFullUser:b,hasPlexPass:I,onToggleGuestUser:S}=e,M=s2t(p,!0),C=s2t(p,!1),D=s2t(m,!0),P=s2t(m,!1),O=n2t(i),j=O[1],T=O[0],w=n2t(!1),E=w[1],N=w[0],x=n2t(i),A=x[1],L=x[0],k=r2t(()=>j(!0),[]),R=r2t(()=>{j(!0),E(!0)},[]),z=r2t(()=>{j(!0),A(!0)},[]),U=r2t(()=>{j(!1),E(!1),A(!1)},[]);if(l?t=Object(Ze.default)("An error occurred retrieving home details. Please try again."):c?t=Object(Ze.default)("An error occurred retrieving home users. Please try again."):s?t=Object(Ze.default)("An error occurred retrieving friends. Please try again."):(u||h)&&(t=Object(Ze.default)("An error occurred retrieving invites. Please try again.")),t)return Uu()(fh,{title:t});var V=n&&b;return(Uu()(C3,{metricsPage:Rd.a,metricsPane:"users-sharing"},void 0,Uu()(g3,{},void 0,Object(Ze.default)("Users & Sharing")),r&&!n?o2t:null,n?Uu()("div",{className:t2t.a.homeUsersList},void 0,Uu()(O1t,{title:Object(Ze.default)("Home Users")},void 0,I&&f?Uu()(rT,{className:t2t.a.button,size:jp,onPress:R},void 0,Object(Ze.default)("Invite Home User")):null,f?Uu()(bU,{className:t2t.a.button,size:jp,onPress:z},void 0,Object(Ze.default)("Create Managed User")):null,I&&f?Uu()(bU,{className:t2t.a.button,size:jp,isSpinning:y,isDisabled:y,onPress:S},void 0,g?Object(Ze.default)("Disable Guest"):Object(Ze.default)("Enable Guest")):null),M.map(e=>a2t(v1t,tp()({key:e.id},e,{serverEntityID:a,hasOtherHomeUsers:d.length>1,isSignedInUserAdmin:f}))),d.map(e=>Uu()($1t,{serverEntityID:a,homeUserEntityID:e,signedInUserId:v,isSignedInUserAdmin:f,hasOtherHomeUsers:d.length>1},e)),f&&!I?Uu()("div",{className:t2t.a.upsell},void 0,Uu()(oT,{className:t2t.a.upsellMessage,message:Object(Ze.default)("Adding other Plex users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:Vp,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:Dp}]})):null,D.map(e=>a2t(C1t,tp()({key:e.id},e,{serverEntityID:a})))):null,V?Uu()(i2t,{},void 0,Uu()(O1t,{title:Object(Ze.default)("Friends")},void 0,Uu()(rT,{className:t2t.a.button,size:jp,onPress:k},void 0,Object(Ze.default)("Add A Friend"))),C.map(e=>{var t=e.Server?e.Server.map(e=>Object.assign({},e,{owned:!1})):void 0;return(a2t(v1t,tp()({key:e.id},e,{serverEntityID:a,serverShares:t})))}),o.map(e=>Uu()(L1t,{serverEntityID:a,friendEntityID:e},e)),P.map(e=>{var t=e.Server?e.Server.map(e=>Object.assign({},e,{owned:!0})):[];return(a2t(C1t,tp()({key:e.id},e,{serverEntityID:a,serverShares:t})))})):null,Uu()(NZ,{metricsProperties:{context:_t.USERS_AND_SHARING},serverEntityID:a,isAddingHomeUser:N,isCreatingManagedUser:L,isOpen:T,onModalClose:U})))}l2t.defaultProps={addManagedUser:!1};var c2t=l2t,d2t=Ed.a.createElement,{Component:u2t}=Ed.a,p2t=Object(_u.a)(Yq,qu.a,(e,t)=>{var a=Object.values(e).find(e=>e.id===t.id);return!(!a||!a.admin)}),h2t=Object(_u.a)(e=>e.cloudServer,qu.a,Wq,x0t,p2t,mv("hasPlexPass"),(e,t,a,i,r,n)=>({serverEntityID:e,isPending:t.isAllFriendsPending||a.isHomeDetailsPending||a.isHomeUsersPending||a.isInvitesPending||a.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&a.isHomeDetailsPopulated&&a.isHomeUsersPopulated&&a.isInvitesPopulated&&a.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:a.homeDetailsError,homeDetails:a.homeDetails,homeUsersError:a.homeUsersError,homeUsers:a.homeUsers,invitesError:a.invitesError,invites:a.invites,sentInvitesError:a.sentInvitesError,sentInvites:a.sentInvites,signedInUserId:t.id,guestEnabled:i.guestEnabled,isTogglingGuestUser:i.isTogglingGuestUser,isSignedInUserAdmin:r,isFullUser:t.isFullUser,hasPlexPass:n})),m2t={dispatchFetchAllFriends:fA,dispatchFetchHomeDetails:xA,dispatchFetchHomeUsers:bA,dispatchFetchInvites:zA,dispatchFetchSentInvites:UA,onToggleGuestUser:kA};var v2t=Object(Fu.b)(h2t,m2t)(class extends u2t{componentDidMount(){Object(wa.a)(()=>{this.props.dispatchFetchAllFriends(),this.props.dispatchFetchHomeDetails(),this.props.dispatchFetchHomeUsers(),this.props.dispatchFetchInvites(),this.props.dispatchFetchSentInvites()})}render(){var e=this.props,t=Je()(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]);return(d2t(c2t,t))}}),g2t=Uu()(u6,{selectedKey:"users-sharing"}),y2t=Hu.extend({component(e){var{params:t={}}=e;return(Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,g2t,Uu()(v2t,{addManagedUser:Se.a.parseBoolean(t.addManagedUser)}))))}}),f2t=a("KN9C"),b2t=a.n(f2t),{Component:I2t}=Ed.a;var S2t=dSt(class extends I2t{constructor(...e){super(...e),this.onTogglePress=e=>{this.props.onToggle(this.props.index)},this.onRemovePress=e=>{this.props.onRemove(this.props.url)},this.onSubmit=e=>{this.props.onSubmit(this.props.url,e.url)}}render(){var{isDirty:e,isOpen:t,isUpdating:a,isRemoving:i,url:r,error:n,onFormChange:s}=this.props,o=a||i;return Uu()(Ixt,{isOpen:t,closedNode:Uu()("div",{},void 0,Uu()(UC,{className:b2t.a.label},void 0,Object(Ze.default)("URL")),r),errorMessage:N1(n),onTogglePress:this.onTogglePress},void 0,Uu()(AC,{onSubmit:this.onSubmit,onChange:s},void 0,Uu()(ZV,{focusOnMount:!0,selectTextOnFocus:!0,labelText:Object(Ze.default)("URL"),isDisabled:o,name:"url",initialValue:r,validations:r?[vqt]:[]}),Uu()("div",{className:b2t.a.buttons},void 0,r?Uu()(bU,{className:b2t.a.dangerButton,kind:Pp,isSpinning:i,isDisabled:o,onPress:this.onRemovePress},void 0,Object(Ze.default)("Remove")):null,Uu()(bU,{className:b2t.a.button,type:"submit",kind:Dp,isSpinning:a,isDisabled:o||!e},void 0,Object(Ze.default)("Save Changes")))))}},{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var M2t=function(e){var{hasPlexSubscription:t,origin:a,modalMetricsProperties:i}=e;return t?null:Uu()(ak,{origin:a,modalMetricsProperties:i})},C2t=Object(_u.a)(qu.a,e=>({hasPlexSubscription:!!e&&e.hasPlexSubscription})),D2t=Object(Fu.b)(C2t)(M2t);D2t.propTypes=Object.assign({},D2t.propTypes);var P2t=D2t;function O2t(e){var t=e["aria-label"],a=e.className,i=e.style,r={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};r["aria-hidden"]=!t,r.style=i,r.className=xd.a.plexIcon+(a?" "+a:"");var n=[Ed.a.createElement.apply(Ed.a,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&n.unshift(Ed.a.createElement("title",null,t)),Ed.a.createElement.apply(Ed.a,["svg",r].concat(n))}O2t.propTypes={"aria-label":Oc.a.string,className:Oc.a.string,style:Oc.a.object};var j2t=O2t,T2t=a("2ZL2"),w2t=a.n(T2t);var E2t=function(e){var{supportPageUrl:t,hasWebhooksFeature:a,addWebHookButton:i}=e;return(Uu()("div",{className:w2t.a.infoContainer},void 0,Uu()(mT,{iconComponent:j2t,title:Object(Ze.default)("Webhooks"),text:Object(Ze.default)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:Uu()(oT,{message:Object(Ze.default)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:Vp,kind:Dp,to:t,target:"_blank"}]})},void 0,a?i:Uu()(P2t,{origin:"webhooks",modalMetricsProperties:{context:"webhooks"}}))))},N2t=a("M1AR"),x2t=a.n(N2t),{Component:A2t,Fragment:L2t}=Ed.a,k2t=Uu()(ph,{},void 0,Uu()(Xh,{}));var R2t=class extends A2t{constructor(e,t){super(e,t),this.onToggle=e=>{var t=this.state.openFormSectionIndex===e;this.props.onErrorDismiss(),this.props.onToggle(),this.setState({openFormSectionIndex:t?null:e})},this.onRemove=e=>{this.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},this.onSubmit=(e,t)=>{e===t?(this.setState({openFormSectionIndex:null}),this.props.onToggle()):this.props.onSubmit(e,t)},this.onRemoveWebhookConfirmPress=e=>{var{removeWebhookModalURL:t}=this.state;this.props.onRemove(t)},this.onRemoveWebhookCancelPress=e=>{this.setState({isRemoveWebhookModalOpen:!1})},this.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1}}componentWillReceiveProps(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});var t=e.webhooks===this.props.webhooks?-1:D.a.findIndex(e.webhooks,e=>""===e.url),a=-1!==t,i=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;a?this.setState({openFormSectionIndex:t}):i&&this.setState({openFormSectionIndex:null})}render(){var{isUserRestricted:e,hasWebhooksFeature:t,isWebhooksPending:a,isWebhooksPopulated:i,webhooksError:r,isUpdatingWebhooks:n,isRemovingWebhooks:s,updateWebhooksError:o,webhooks:l,onAddWebhookPress:c}=this.props,{openFormSectionIndex:d,removeWebhookModalURL:u,isRemoveWebhookModalOpen:p}=this.state;if(e)return Uu()(fh,{title:Object(Ze.default)("You're not supposed to be here"),description:Object(Ze.default)("You don't have access to webhooks settings")});if(t&&a)return k2t;var h=l&&l.length,m=!t||!h,v=l&&D.a.find(l,e=>""===e.url),g=i&&l&&h<5&&!v,y=Uu()(rT,{kind:Dp,onPress:c},void 0,Object(Ze.default)("Add webhook"));return Uu()(C3,{metricsPage:Rd.a,metricsPane:"webhooks"},void 0,m?Uu()(E2t,{supportPageUrl:Gp,hasWebhooksFeature:t,addWebHookButton:y}):Uu()(L2t,{},void 0,Uu()(g3,{},void 0,Object(Ze.default)("Webhooks")),Uu()("p",{},void 0,Object(Ze.default)("Plex Media Server will make requests to these webhooks on various media playback events.")),Uu()("p",{},void 0,Uu()(Vp,{kind:Dp,to:Gp,target:"_blank"},void 0,Object(Ze.default)("Learn more"))),l.map((e,t)=>{var a=d===t;return(Uu()(S2t,{index:t,url:e.url,isOpen:a,isUpdating:a&&n,isRemoving:a&&s,error:a?o:null,onRemove:this.onRemove,onToggle:this.onToggle,onSubmit:this.onSubmit},t))}),g?Uu()("div",{className:x2t.a.buttons},void 0,y):null),r?Uu()("div",{className:x2t.a.error},void 0,Object(Ze.default)("An error occurred retrieving webhooks. Please try again.")):null,Uu()(HH,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:p,metricsPage:Rd.z,title:Object(Ze.default)("Remove Webhook"),message:Object(Ze.default)("Plex will no longer post updates to {url}.",{url:u}),confirmLabel:Object(Ze.default)("Remove"),kind:Pp,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))}},z2t=Ed.a.createElement,{Component:U2t}=Ed.a,V2t=Object(_u.a)(Wq,zT(Tt.E),(e,t)=>({isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t})),B2t={dispatchFetchWebhooks:PA,onAddWebhookPress:()=>OA(),onErrorDismiss:TA,onRemove:e=>wA(e),onSubmit:(e,t)=>jA({oldUrl:e,newUrl:t}),onToggle:()=>wA("")};var F2t=Object(Fu.b)(V2t,B2t)(class extends U2t{componentDidMount(){this.props.hasWebhooksFeature&&Object(wa.a)(()=>{this.props.dispatchFetchWebhooks()}),this.props.onErrorDismiss()}render(){var e=this.props,t=Je()(e,["dispatchFetchWebhooks"]);return(z2t(R2t,t))}}),H2t=Uu()(zh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()(u6,{selectedKey:"webhooks"}),Uu()(F2t,{}))),_2t=Hu.extend({component:()=>H2t}),Q2t=a("EXeW"),W2t=a.n(Q2t),G2t=B.ItemView.extend({className:"announcement-list-item",template:W2t.a,ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new Bm({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),Y2t=ym.extend({className:"list announcement-list",itemView:G2t}),K2t=a("6+d7"),q2t=a.n(K2t),Z2t=B.Layout.extend({className:"container",template:q2t.a,regions:{list:".announcements-container"},initialize:function(){var e=Object(ie.c)("appStore").dispatch,t=Object(ie.c)("appModel").get("user");this.collection=t.get("desktop").get("announcements"),e(gQ({allowLightPreset:!1}))},onRender:function(){this.list.show(new Y2t({collection:this.collection}))}}),{useState:X2t}=Ed.a,J2t=Uu()(ph,{},void 0,Uu()(Xh,{}));var $2t=function(){var e=X2t({isAnnouncementsPending:!0,announcementsError:!1}),t=e[1],a=e[0];return Ju(()=>{Object(Ta.n)(Object(ie.c)("appModel")).get("announcements").fetch().then(()=>{t({isAnnouncementsPending:!1,announcementsError:!1})},()=>{t({isAnnouncementsPending:!1,announcementsError:!0})})}),a.isAnnouncementsPending?J2t:a.announcementsError?Uu()(fh,{title:Object(Ze.default)("Announcements are not available.")}):Uu()(NQ,{className:"scroll-container dark-scrollbar",view:Z2t,viewOptions:{}})},e4t=Uu()(Hh,{},void 0,Uu()(Ah,{isAccountRequired:!0},void 0,Uu()($2t,{}))),t4t=Hu.extend({component:()=>e4t}),a4t=B.Controller.extend({account:function(){H.a.trigger("show:view",new PXt)},onlineMediaSources:function(){H.a.trigger("show:view",new WXt)},webhooks(){H.a.trigger("show:view",new _2t)},usersSharing(e){H.a.trigger("show:view",new y2t({params:_.parseParams(e)}))},userSharingSettings(e){H.a.trigger("show:view",new N0t({userID:e}))},announcements:function(){H.a.trigger("show:view",new t4t)}}),i4t=Ru.extend({controller:new a4t,appRoutes:{"!/settings/account":"account","!/settings/webhooks":"webhooks","!/settings/users-sharing":"usersSharing","!/settings/users-sharing/(:userID)":"userSharingSettings","!/settings/online-media-sources":"onlineMediaSources","!/announcements":"announcements","!/account":"account","!/account/webhooks":"webhooks","!/account/online-media-sources":"onlineMediaSources","!/account/audio-subtitle":"account"}});function r4t(){return new kAt,new JKt,new kYt,new mKt,new y6,new i4t,T.a.Deferred().resolve().promise()}function n4t(){var e,t,a;Object(O.a)("[Servers] Initializing..."),e=Object(ie.c)("appModel"),t=e.get("servers"),(a=e.get("cloudServer")).addConnection(ehe()),t.add(a),function(e){var t=Object(ie.c)("appModel"),a=t.get("servers"),i=Gs.getActiveServers();if(!i)return;i.each(e=>{if(e.get("connections").length)try{var i=new ai(e.toJSON(),{parent:t}),r=i.get("connections");r.reset(r.filter(e=>!e.get("relay"))),!i.get("isMobileServer")&&r.length>0&&(o4t(i),a.add(i))}catch(e){O.a.warn(e)}})}(),function(){var e=Object(ie.c)("appModel"),t=e.get("servers"),a=be.a.primaryServer;if(!a)return;var i=new ai({machineIdentifier:a.machineIdentifier,friendlyName:a.name,isShared:a.shared,superToken:a.superToken,accessToken:a.accessToken,sourceTitle:a.sourceTitle},{parent:e});i.addConnection({scheme:a.scheme,address:a.address,port:a.port}),t.add(i)}(),function(){0;var e=Object(ie.c)("appModel"),t=e.get("servers"),a=new ai({isBundled:!0},{parent:e});a.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),o4t(a),t.add(a)}(),function(){if(!be.a.allowLoopbackDiscovery)return;var e=Object(ie.c)("appModel"),t=e.get("servers"),a=new ai({},{parent:e});a.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),o4t(a),t.add(a)}(),Object(ie.c)("serverManager").start(),Object(ie.c)("primaryServerManager").start(),Object(ie.c)("serverConnectionManager").start(),Object(ie.c)("companionServerManager").start(),Object(ie.c)("providerManager").start(),Object(ie.c)("serverUpdateManager").start(),Object(O.a)("[Servers] Finished initialization")}function s4t(){Object(O.a)("[Servers] Clearing...");var e=Object(ie.c)("appModel"),t=e.get("servers");Object(ie.c)("serverManager").stop(),Object(ie.c)("primaryServerManager").stop(),Object(ie.c)("serverConnectionManager").stop(),Object(ie.c)("serverConnectionTestManager").reset(),Object(ie.c)("companionServerManager").stop(),Object(ie.c)("providerManager").stop(),Object(ie.c)("serverUpdateManager").stop(),t.uninitialize(),t.reset(),t.initialize(),e.unset("primaryServer"),e.unset("companionServer"),e.unset("transientServer")}function o4t(e){var t=e.get("connections").map(e=>e.get("uri"));Object(O.a)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",D.a.compact([e.get("debugName"),e.get("machineIdentifier"),...t]).join(", "))}function l4t(){return n4t(),H.a.on("clear:servers",s4t),H.a.on("init:servers",n4t),T.a.Deferred().resolve().promise()}var c4t=a("zBfM"),d4t=a.n(c4t),u4t=Qx.extend({className:"alert-bar notify",template:d4t.a,events:D.a.extend({"click .info-link":"onInfoClick"},Qx.prototype.events),initialize(){this.listenTo(this.model,"change:read",this.hide)},serializeData(){var e=this.model.get("content");return{content:ALe(e),url:this.model.get("url")}},onInfoClick(e){this.hide(),this.model.markAsRead()},onCloseClick(e){Qx.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}}),p4t=Ee.a.extend({mixins:Ne.a,announcementsUpdateDelay:36e5,initialize(){this.user=Object(ie.c)("appModel").get("user"),D.a.bindAll(this,"updateAnnouncements","onSignedInChange")},start(){var e=D.a.debounce(this.onAnnouncementsChange),t=D.a.debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop(){window.clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").clear(),this.stopListening()},updateAnnouncements(){this.user.get("restricted")||this.user.get("anonymous")||!this.user.server.get("isConnected")||(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&window.clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=window.setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange(){this.user.get("desktop").get("announcements").clear(),this.updateAnnouncements()},onAnnouncementsChange(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){var e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&H.a.trigger("show:bar","alertbar",new u4t({model:e}))}}}),h4t=["plex_tv_auth","plex_tv_lang"];var m4t=Ee.a.extend({mixins:Ne.a,collectionNames:["homeDetails","homeUsers"],flexCollectionNames:["cloudCompanions","devices","invites","socialNetworks"],populateActions:[gAe,SA],initialize(e){this.user=e,this.debouncedChangeTimeout=null},start(){var e=this.user;this.previousUserID=e.id;var t={change:this.onUserChange};["isLocked","hasInvalidToken"].forEach(a=>{var i=e.get(a),r=this["on"+Object(gw.a)(a)+"Change"];t["change:"+a]=r,i&&r.call(this,e,i)}),this.listenTo(e,t),this.listenTo(e,"change:isSignedIn",this.onIsSignedInChange),this.listenTo(e,"change:isSignedIn",this.onIsSignedInChangeHandleSyncSettings),this.listenTo(e,"change:isSignedIn",this.onIsSignedInChangeHandlePopulateUser),e.get("isSignedIn")&&(this.onIsSignedInChange(e,!0),this.onIsSignedInChangeHandleSyncSettings(e,!0),this.onIsSignedInChangeHandlePopulateUser(e,!0));var a=Object(ie.c)("settingFinder").find("autoLogin")||e.get("isUnlocked");Object(O.a)("[UserManager] autoLogin",a),a||this._lockIfInHome()},handleInvalidToken(){var e=new mi({title:Object(Ze.default)("Invalid Credentials"),message:Object(Ze.default)("Your credentials have expired. Please sign in again."),confirmLabel:Object(Ze.default)("OK"),cancelLabel:Object(Ze.default)("Ignore")});e.promise.done(()=>{H.a.trigger("navigate","login",{silent:!0})}),H.a.trigger("show:modal",e)},_lockIfInHome(){var e=Gs.getActiveUser();e&&e.get("home")&&this.user.set("lockState",Fo.lockStates.LOCKED)},_updateUser(e,t){if(t){var a={};t.id!==e.id&&(a.included=["experienceSettings"]),t.copyFromModel(e,a)}else{Gs.get("users").add(e.toJSON(),{parse:!0})}Gs.debouncedSave()},onHasInvalidTokenChange(e,t){t&&this.handleInvalidToken()},onUserChange(e){this.debouncedChangeTimeout&&window.clearTimeout(this.debouncedChangeTimeout);var t=Gs.getActiveUser();this.debouncedChangeTimeout=window.setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange(e,t){if(this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t){if(t&&e.get("isLocked")&&(this.previousUserID=e.id),t&&e.get("restricted")&&document.cookie.split(";").forEach(e=>{var[t]=e.trim().split("=");t&&!h4t.includes(t)&&(document.cookie=t+"=; Domain=plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie=t+"=; Domain=.app.plex.tv; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;")}),e.get("isFullUser")&&t){var a=e.server.getXHROptions("/api/claim/subscribe");T.a.ajax(Object.assign({},a,{type:"POST"}))}}else e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings(e,t){if(t){var a=Object(ie.c)("appStore").dispatch,i=e.get("settings"),r=e.get("experienceSettings"),n=i.reduce((e,t)=>(t.get("isDirty")&&e.push(t.get("id")),e),[]);r.get("isDirty")&&a(aL()),n.length&&a(tL(n))}},onIsSignedInChangeHandlePopulateUser(e,t){if(t){var a=Object(ie.c)("appStore").dispatch,i={reset:!0};this.collectionNames.forEach(t=>e.get(t).populate(i)),this.flexCollectionNames.forEach(t=>e.get("desktop").get(t).populate(i)),this.populateActions.forEach(e=>a(e()))}else{e.get("features").clear()}},onIsLockedChange(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange),H.a.trigger("show:modal",new gA({isForced:!0})))},onNextIsUnlockedChange(e,t){t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),window.setTimeout(()=>{var e=this.previousUserID,t=e&&e===this.user.id?"navigate:refresh":"navigate:refresh:dashboard";H.a.trigger(t)},0))}});function v4t(){var e=ae(Gs.populate());return e=(e=e.then(()=>De.get("myPlexAccessToken"))).then(e=>{var t=Object(ie.c)("appModel").get("user"),a=Gs.get("users").findWhere({authToken:e});a&&(t.activateStoredUser(a.id),a.copyToModel(t))},()=>{var e=Object(ie.c)("appModel").get("user");e.activateStoredUser(0);var t=Gs.getActiveUser();t&&t.copyToModel(e)}),ae(e).then(()=>{var e=Object(ie.c)("appModel").get("user");new m4t(e).start(),(new p4t).start()})}function g4t(){return Object(ie.c)("watchTogetherRoomsManager").start(),Object(ie.c)("syncplaySessionManager").start(),T.a.Deferred().resolve().promise()}function y4t(){H.a.trigger("initialize:app");var e=function(){ee.init("https://540fa70dba644b8dbd34d61a56bd1e72@sentry.io/160686");var e={lifecycle:"started",release:"4.47.3-927d87d",version:$.prop("X-Plex-Version")};return $.props.forEach(t=>{var a=$.prop(t);a&&(e[t]=a)}),ee.set(e),ee.enable(),T.a.Deferred().resolve().promise()}();return e=(e=(e=(e=e.then(ku)).then(zl)).then(ud)).then(Me),F.a.hasServiceWorker&&(e=e.then(function(){Object(O.a)("[Workers] Initializing...");var e=T.a.Deferred();return Object(ie.c)("serviceWorker").register().then(t=>{Object(O.a)("[Workers] Finished initialization"),e.resolve()}).catch(t=>{Object(O.a)("[Workers] Failed initialization: ",t),e.resolve()}),e.promise()}())),e=(e=(e=(e=(e=(e=e.then(we)).then(Id)).then(X)).then(Gl)).then(v4t)).then(Pu),be.a.allowCloudPubSub&&(e=e.then(()=>function(){var e;function t(){e&&e.stop()}return F.a.hasWebSocket&&(e=new Qe({name:"CloudServerEventManager",appModel:Object(ie.c)("appModel"),isValidServer:We,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Fe,ServerRetryManager:_e})).start(),H.a.on("app:exit",t),H.a.on("app:priorityBackground",t),H.a.on("app:priorityForeground",(function(){e&&e.start()})),T.a.Deferred().resolve().promise()}())),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.then(Nu)).then(fe)).then(l4t)).then(Tu)).then(Wl)).then(Cu)).then(Dd)).then(ye)).then(Iu)).then(r4t)).then(g4t)}var f4t=a("3O+N"),b4t=a.n(f4t),I4t=a("N85i"),S4t=a.n(I4t),M4t=a("fz6g"),C4t=a.n(M4t),D4t=a("fbCT"),P4t=a.n(D4t),O4t=a("P9eC"),j4t=a.n(O4t),T4t=a("Kjiw"),w4t=a.n(T4t),E4t=a("TKUo"),N4t=a.n(E4t),x4t=a("mUut"),A4t=a.n(x4t);b4t.a.registerPartial("setting",N4t.a),b4t.a.registerPartial("lockableTagInput",j4t.a),b4t.a.registerPartial("lockableTextInput",w4t.a),b4t.a.registerPartial("lockableNumericInput",P4t.a),b4t.a.registerPartial("textInput",A4t.a),b4t.a.registerPartial("autocompleteTextInput",S4t.a),b4t.a.registerPartial("connectError",C4t.a);var L4t=a("mPz0"),k4t=a.n(L4t),R4t=new k4t.a({attributePrefix:"_",emptyNodeForm:{},ignoreRoot:!0}),z4t={writeXml:function(e){return'<?xml version="1.0"?>'+R4t.js2xml(e)}};function U4t(e){e.forEach(e=>{e.resolve()}),e.length=0}function V4t(e){e.forEach(e=>{e.reject()}),e.length=0}var B4t=Ee.a.extend({mixins:[Ne.a],name:"MediaServerCompanionProxy",commandID:0,initialize(){D.a.bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=D.a.debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=D.a.debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=T.a.Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink(){return this._deepLinkDeferred.promise()},publish(e){if(this.proxyServer)if(this.timelineInflight)this._pendingTimeline=e;else{this.timelineInflight=!0;var t=z4t.writeXml(e),a=D.a.result(this.proxyServer,"url"),i=this.proxyServer.getXHROptions(a+"player/proxy/timeline?commandID="+this.commandID);i.data="timeline="+encodeURIComponent(t),i.method="POST",i.contentType="application/x-www-form-urlencoded",T.a.ajax(i).always(()=>{this.timelineInflight=!1;var e=this._pendingTimeline;e&&(delete this._pendingTimeline,this.publish(e))})}},subscribe(e){this.started||(this.callback=e,this.started=!0,this.appModel=Object(ie.c)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe(){if(this.started){var e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)}},unregisterPlayer(e,t){this.cloudServer=e,this.clientID=t;var a=T.a.Deferred();return this._playerUnregistrationDeferreds.push(a),a.promise()},registerPlayer(e,t){this.cloudServer=e,this.clientID=t;var a=T.a.Deferred();return this._playerRegistrationDeferreds.push(a),a.promise()},debugStatus(){var e=this.proxyServer;return e?"Proxied: "+e.get("debugName"):void 0},_pickProxyServer(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer(){if(this.proxyServer&&this.cloudServer&&this.clientID){var e=this.cloudServer.getXHROptions("devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":be.a.allowCloudPubSub?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});T.a.ajax(e).done(()=>{U4t(this._playerRegistrationDeferreds)}).fail(()=>{V4t(this._playerRegistrationDeferreds)})}},_unregisterPlayer(e){if(e&&this.cloudServer&&this.clientID){var t=this.cloudServer.getXHROptions("/devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});T.a.ajax(t).done(()=>{U4t(this._playerUnregistrationDeferreds)}).fail(()=>{V4t(this._playerUnregistrationDeferreds)})}},_poll(){if(this.started){var e=this.proxyServer;if(e)if(this._isPollRequestPending())O.a.info("[Companion] Long poll already open to ",e.get("debugName"));else{this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();var t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});O.a.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=T.a.ajax(t).done(this.onPollSuccess).fail(this.onPollError)}else O.a.info("[Companion] No proxy server available to long poll")}},_repoll(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus(){this._isPollRequestPending()&&this.proxyServer&&(O.a.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater(){this._pollRequestStatusCheckTimeout=window.setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck(){this._pollRequestStatusCheckTimeout=window.clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater(){this._pollRetryTimeout=window.setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater(){this._pollRetryTimeout=window.clearTimeout(this._pollRetryTimeout)},_processCommand(e){if(this.started){var t={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},a="resolved"!==this._deepLinkDeferred.state();this.callback(t,a).always(e=>{a&&e&&e.deferredAction&&this._deepLinkDeferred.resolve(e.deferredAction),this._sendResponse(e.controllerResponse)})}},_sendResponse(e){if(this.proxyServer){var t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);var a="/player/proxy/response?commandID="+e.commandID,i=this.proxyServer.getXHROptions(a,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});T.a.ajax(i)}},onPollSuccess(e){var t=e&&Se.a.parseXML(e),a=t&&t.Command;e?(t?a||O.a.warn("[Companion] Poll succeeded without a Command response",t):O.a.warn("[Companion] Poll succeeded without a parseable response",e),a?(this._repoll(),(Array.isArray(a)?a:[a]).forEach(e=>{try{O.a.info("[Companion] Received %s from %s",e.path,e.deviceName),this._processCommand(e)}catch(t){O.a.warn("[Companion] encountered %s while processing %s",t.message,e)}},this)):this.onPollError()):this._repoll()},onPollError(e={}){var t=this.proxyServer;if(this.started&&t){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;var a=t.get("debugName");O.a.warn("[Companion] Poll failed to %s",a)}}});var F4t=ms.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:Ae.a.integer,lastPlayingHeartbeatTime:Ae.a.integer,playbackCount:Ae.a.integer,playbackTime:Ae.a.integer,sessionId:Ae.a.string,anonymousSessionId:Ae.a.string,startTime:Ae.a.integer,lastInteractionTime:Ae.a.integer},defaults:{playbackCount:0,playbackTime:0}}),H4t=a("FbYo"),_4t=a("IJmf");var Q4t=Object(_4t.a)((function(e={},t){var a=function(e){var{mimeType:t,codecs:a}=e,i=Je()(e,["mimeType","codecs"]);if(!t)return"";var r=[t];if(a&&r.push('codecs="'+a+'"'),i)for(var n in i)r.push(n+'="'+i[n]+'"');return r.join("; ")}(e),i=Object(Ou.a)("video",!0),r=i.canPlayType(a);return Object(Ou.b)(i),e.codecs?"probably"===r:"probably"===r||"maybe"===r})),W4t=a("zvMH"),G4t=Ed.a.createElement,{Component:Y4t,Fragment:K4t}=Ed.a;function q4t(e){return"progressive"===e.deliveryType&&Q4t(e)}class Z4t extends Y4t{constructor(e,t){super(e,t),this._onLoadTimeout=()=>{this._isAdLoaded||this.onError(H4t.b.VAST_MEDIA_FILE_TIMEOUT)},this._onPlaybackTimeout=()=>{this.onError(H4t.b.VAST_MEDIA_FILE_TIMEOUT)},this.onMediaError=()=>{this.onError(H4t.b.VAST_PROBLEM_DISPLAYING_MEDIA)},this.onEnd=()=>{this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._clearPlaybackTimeout(),this._playNextAdOrResume()},this.onError=(e=H4t.b.UNDEFINED_ERROR)=>{this._adPod&&this._adPod.error(e),this._playNextAdOrResume()},this.onPositionMillisecondsChange=e=>{this._isAdLoaded||(this._isAdLoaded=!0),e!==this._lastPositionMilliseconds&&(this._setPlaybackTimeout(),this._lastPositionMilliseconds=e),this._adPod?this._adPod.progress(e):O.a.error("[AdPlayer] Unexpected position update without an adPod"),(!this._lastOnPositionMillisecondsChange||e>=this._lastOnPositionMillisecondsChange+0)&&(this._lastOnPositionMillisecondsChange=e,this.props.onPositionMillisecondsChange(e))},this._vmapClient=null,this._adPod=null,this._adPodPromise=null,this._isAdLoaded=!1,this._loadTimeoutID=null,this._playbackTimeoutID=null,this._lastPositionMilliseconds=null,this._lastOnPositionMillisecondsChange=null,this._mediaComponent=Object(ie.c)("mediaComponent"),this.bufferingDetectionLimit=be.a.bufferingDetectionLimit}componentDidMount(){var{url:e,playerPositionSeconds:t,followsManualRedirect:a}=this.props;this._vmapClient=new H4t.a({url:new window.URL(e),canPlayMedia:q4t,followsManualRedirect:a}),this._handlePositionUpdate(1e3*t,!0)}componentDidUpdate(e,t){var{ad:a,playerPositionSeconds:i,isMiniPlayer:r,isFullscreen:n,isPaused:s,isIdle:o,url:l,followsManualRedirect:c,volume:d}=this.props;l!==e.url&&(this.onEnd(),delete this._adPodPromise,this._adPod&&(this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose(),this._vmapClient=new H4t.a({url:new window.URL(l),canPlayMedia:q4t,followsManualRedirect:c}));var u=!o&&e.isIdle;if(u||i!==e.playerPositionSeconds){var p=i-e.playerPositionSeconds,h=p<0||p>1;this._handlePositionUpdate(1e3*i,h||u)}this._adPod&&a&&(r!==e.isMiniPlayer&&(this._adPod.expanded=!r),n!==e.isFullscreen&&(this._adPod.fullscreen=n),d!==e.volume&&(this._adPod.muted=0===d),s!==e.isPaused&&(this._adPod.paused=s,s?this._clearPlaybackTimeout():this._setPlaybackTimeout()))}componentWillUnmount(){this._loadTimeoutID&&(this._loadTimeoutID=window.clearTimeout(this._loadTimeoutID)),this._playbackTimeoutID&&(this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)),delete this._adPodPromise,this._adPod&&(this.props.ad&&!this._isAdLoaded&&this._adPod.error(H4t.b.VAST_MEDIA_FILE_TIMEOUT),this._adPod.dispose(),delete this._adPod),this._vmapClient&&this._vmapClient.dispose()}_handlePositionUpdate(e,t){var{isIdle:a}=this.props;if(!a)if(t&&this._vmapClient&&!this._adPodPromise&&!this.props.ad){var i=this._vmapClient.resolveAdPod(e);this._adPodPromise=i,i.then(e=>{var t;i===this._adPodPromise&&e&&(this._adPod=e,t=e.next()),t?this._playAd(t,e):(this._adPod&&(this._adPod.dispose(),delete this._adPod),delete this._adPodPromise,this.onEnd())},()=>{delete this._adPodPromise,this.onEnd()})}else if(this._adPod){if(this._adPod.timeOffset>e)return;var r=this._adPod.next();r?this._playAd(r,this._adPod):(this._adPod.dispose(),delete this._adPod,delete this._adPodPromise)}else if(!this._adPodPromise&&this._vmapClient){var n=this._vmapClient.resolveNextAdPod(e);this._adPodPromise=n,n.then(e=>{n===this._adPodPromise&&(this._adPod=e,e||delete this._adPodPromise)},()=>{n===this._adPodPromise&&delete this._adPodPromise})}}_playAd(e,t){var{volume:a,isMiniPlayer:i,isFullscreen:r,isPaused:n}=this.props;t.expanded=i,t.fullscreen=r,t.muted=0===a,t.paused=n,this._isAdLoaded=!1,this._loadTimeoutID=window.setTimeout(this._onLoadTimeout,8e3),this.props.onAdChange(e)}_playNextAdOrResume(){var e=this._adPod?this._adPod.next():null;e?this._playAd(e,this._adPod):(this._adPod&&this._adPod.dispose(),delete this._adPod,delete this._adPodPromise,this.props.onAdChange(e))}_setPlaybackTimeout(){this._clearPlaybackTimeout(),this.props.isPaused||(this._playbackTimeoutID=window.setTimeout(this._onPlaybackTimeout,8e3))}_clearPlaybackTimeout(){this._playbackTimeoutID=window.clearTimeout(this._playbackTimeoutID)}render(){var e,t,a,i,r=this.props,{ad:n,isMiniPlayer:s,isPaused:o,positionSeconds:l,playerPositionSeconds:c,statusOverlayClassName:d}=r,u=Je()(r,["ad","url","isMiniPlayer","isPaused","positionSeconds","playerPositionSeconds","statusOverlayClassName"]),p=this._adPod?Math.round((this._adPod.timeOffset-1e3*c)/1e3):W4t.d,h=!!n,m=null!=(e=null==(t=this._adPod)?void 0:t.hasAnyCreative)&&e&&!s,v=h?this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0}):null;return Uu()(K4t,{},void 0,h?G4t(v,tp()({},u,{key:n.url.href,bufferingDetectionLimit:this.bufferingDetectionLimit,positionSeconds:l,paused:o,src:n.url.href,mediaType:tl.e,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onEnd:this.onEnd,onError:this.onMediaError})):null,m?Uu()(W4t.a,{className:d,displayIndex:null!=(a=null==n?void 0:n.displayIndex)?a:W4t.b,displayTotal:null!=(i=null==n?void 0:n.displayTotal)?i:W4t.c,secondsUntilAd:p}):null)}}Z4t.defaultProps={isIdle:!1,followsManualRedirect:!1};var X4t=Z4t;var J4t=Object(Fu.b)((function(){return Object(_u.a)(Jhe(["isPaused","positionSeconds","durationSeconds"]),Fpe,(e,{volume:t})=>t,(e,t,a)=>({volume:t||a||0,isPaused:e.isPaused,playerPositionSeconds:e.positionSeconds,playerDurationSeconds:e.durationSeconds}))}),(function(e,t){var{playerType:a}=t;return{onBufferingChange(t){e(Object(bse.N)({playerType:a,isBuffering:t}))},onMetricsPlayerChange(t){e(Object(Cw.m)({playerType:a,metricsPlayer:t}))}}}))(X4t),$4t=a("yXPU"),e3t=a.n($4t);function t3t(e){return new Promise((t,a)=>{function i(e){var t;e&&(null==(t=s.parentNode)||t.removeChild(s));s.removeEventListener("load",r),s.removeEventListener("error",n)}function r(){i(!1),t()}function n(){i(!0),a(new Error("Unable to load: "+e))}var s=document.createElement("script");try{!function(e){var t=document.getElementsByTagName("SCRIPT");return Array.from(t).some(t=>t.src===e)}(e)?(s.addEventListener("error",n),s.addEventListener("load",r),s.type="text/javascript",s.src=e,document.body.appendChild(s)):t()}catch(e){i(!0),a(e)}})}var a3t=a("tRmQ"),i3t={default:J4t},r3t=Ed.a.lazy(e3t()((function*(){try{var e=Object(a3t.a)()?"//imasdk.googleapis.com/js/sdkloader/ima3_debug.js":"//imasdk.googleapis.com/js/sdkloader/ima3.js";Object(a3t.a)()&&Object(O.a)("[IMA] SDK loading from",e),yield t3t(e)}catch(e){return O.a.error("[IMA] SDK load failed",e),i3t}try{return Object(a3t.a)()&&Object(O.a)("[IMA] SDK %s loaded",window.google.ima.VERSION),Object(a3t.a)()&&Object(O.a)("[IMA] Enabling VPAID"),window.google.ima.settings.setVpaidMode(window.google.ima.ImaSdkSettings.VpaidMode.ENABLED),Object(a3t.a)()&&Object(O.a)("[IMA] Loading ImaPlayer"),yield a.e(1).then(a.bind(null,"7qL+"))}catch(e){return O.a.error("[IMA] Player failed to initialize",e),i3t}}))),n3t={getComponent:()=>Object(sw.a)(Object(ie.c)("appModel"),Tt.F)?r3t:J4t},s3t=(...e)=>e.reduce((e,t)=>e.concat("string"==typeof t?t.split(","):t),[]).sort().join(","),o3t=s3t("stop","audioStream","subtitleStream","volume"),l3t=s3t("audioStream","autoPlay","playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stepBack","stepForward","stop","subtitleStream","volume"),c3t={videoCloudLiveTV:o3t,video:s3t(l3t,"subtitleColor","subtitleOffset","subtitlePosition","subtitleSize"),music:s3t("playPause","repeat","seekTo","shuffle","skipNext","skipPrevious","stop","volume"),photo:s3t("playPause","seekTo","skipNext","skipPrevious","stop")};function d3t(){return Q4t({mimeType:"application/x-mpegURL"})}var u3t=a("9ym6"),p3t=Ed.a.lazy(()=>Promise.all([a.e(10),a.e(8)]).then(a.bind(null,"d5Al"))),h3t=Ed.a.lazy(()=>Promise.all([a.e(11),a.e(9)]).then(a.bind(null,"Noln"))),m3t=Ed.a.lazy(()=>a.e(7).then(a.bind(null,"2xJJ"))),v3t={getComponent:e=>e?"parsec"===e.protocol?m3t:"dash"===e.protocol?h3t:e.drm===Ft.FAIRPLAY&&"hls"===e.protocol&&d3t()?h3t:"hls"===e.protocol&&d3t()?u3t.a:"hls"===e.protocol?p3t:u3t.a:u3t.a};var g3t=function(){var e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var y3t=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""};var f3t={videoResolution:!0},b3t={width:1920,height:1080,bitDepth:8,frameRate:30};function I3t(e,t){return D.a.pick(e,(e,a)=>0===a.indexOf(t))}function S3t(e,t,a,i){var r=Object.assign({},I3t(e,i),I3t(t,i));return D.a.map(r,(e,r)=>({codec:D.a.has(t,r)?a:null,name:y3t(r.slice(i.length)),value:e}))}var M3t=function(e){var t=e.finalProfile.directStream.video,a=Object($M.a)(e.media),i=a&&a.codec,r=t.codecs&&t.codecs[i],n=S3t(t,r,i,"min"),s=S3t(t,r,i,"max");if(!a)return[];var o={width:a.width<=b3t.width,height:a.height<=b3t.height,bitDepth:a.bitDepth<=b3t.bitDepth,frameRate:a.frameRate<=b3t.frameRate};s=s.filter(e=>{return!0!==o[e.name]&&!0!==f3t[e.name]&&(t=e.name,a=e.value,!b3t[t]||b3t[t]<a);var t,a});var l=[...n.map(({codec:e,name:t,value:a})=>function({codec:e,name:t,value:a}){return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(e||"*")+"&type=lowerBound&name=video."+encodeURIComponent(t)+"&value="+encodeURIComponent(a)+"&replace=true)"}({codec:e,name:t,value:a})),...s.map(({codec:e,name:t,value:a})=>function({codec:e,name:t,value:a}){return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(e||"*")+"&type=upperBound&name=video."+encodeURIComponent(t)+"&value="+encodeURIComponent(a)+"&replace=true)"}({codec:e,name:t,value:a}))];return r&&"h264"!==i&&l.push(function(e){var{protocol:t,codec:a}=e;return"append-transcode-target-codec(type=videoProfile&context=streaming&protocol="+encodeURIComponent(t)+"&videoCodec="+encodeURIComponent(a)+")"}({protocol:e.protocol,codec:i})),l};function C3t(e=F8.prop("video")){var t,a,i,r,n,s,o,l=(null==(t=e.directPlay)?void 0:null==(a=t.mp4)?void 0:null==(i=a.video)?void 0:null==(r=i.codecs)?void 0:r.hevc)||(null==(n=e.directStream)?void 0:null==(s=n.video)?void 0:null==(o=s.codecs)?void 0:o.hevc);return(null==l?void 0:l.maxBitDepth)>=10}var D3t=a("2NUs"),P3t=a("lRX7");function O3t(e){var{mediaItems:t,transcodeServer:a,metadataItem:i,canPlayAdaptiveBitrate:r,settings:n,availableQualities:s}=e,o=function(e){return Math.max.apply(Math,e.map(e=>e.bitrate))}(t),l=a.get("maxUploadBitrate"),c=a.get("isPrivateConnection"),d=r&&n.get("autoAdjustQuality"),{localQualityDefault:u}=n;void 0===u&&(u=gl.a.ORIGINAL);var p=Object(P3t.a)(i,c),h=Object(D3t.a)(i,c),m=gl.a.getQualityByIndex(n.get(h));if(p){var v=n.get("useHomeStreamingRecommendedSettings")?u:m.index,g=gl.a.getQualityByIndex(v),y=gl.a.isExplicitQuality(g.index)&&j3t(g.bitrate,o);return g.index===gl.a.ORIGINAL||y?gl.a.ORIGINAL:d?gl.a.CONVERT_AUTOMATICALLY:gl.a.getBestAvailableQuality(g,s)}var f=j3t(l,o),b=m.index===gl.a.ORIGINAL,I=j3t(m.bitrate,o);return n.get("remoteSmallVideoAtOriginalQuality")&&f&&(b||I)?gl.a.ORIGINAL:d?gl.a.CONVERT_AUTOMATICALLY:b&&f?gl.a.ORIGINAL:gl.a.getBestAvailableQuality(m,s)}function j3t(e,t){return!e||!!t&&e>=t}var T3t=function e(t,a,i,r={},n){var s,o=Object(ie.c)("appModel"),l=o.get("user").get("experienceSettings"),c=o.get("deviceSettings"),d=F8.prop("video"),u=function(e,t){return!(!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(o,t),p=function(e){var{profile:t,metadataItem:a,mediaItem:i,canPlayAdaptiveBitrate:r,settings:n}=e,{qualityIndex:s}=e,o=i?[i]:a.get("Media"),l=gl.a.getAvailableQualitiesFor(o,a.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==s?s=O3t({mediaItems:o,transcodeServer:a.server,metadataItem:a,canPlayAdaptiveBitrate:r,settings:n,availableQualities:l}):gl.a.isExplicitQuality(s)&&!l.find(e=>e.index===s)&&(s=gl.a.ORIGINAL),{availableQualities:l,quality:gl.a.getQualityByIndex(s),qualityIndex:s}}({profile:d,metadataItem:t,qualityIndex:a,mediaItem:n,canPlayAdaptiveBitrate:u,settings:l}),h=p.qualityIndex,m=h===gl.a.CONVERT_AUTOMATICALLY&&u,v=c.get("directPlay")&&!m,g=c.get("directStream")&&!m?1:0,y=u&&l.get("autoAdjustQuality")&&t.server.supports("adaptiveBitrateFallback")&&!gl.a.isExplicitQuality(h),f=p.quality;return m&&(f=function(e,t){var a=e.server.get("isPrivateConnection");if(Object(P3t.a)(e,a)&&t.get("useHomeStreamingRecommendedSettings")){var i=t.defaults().localQuality;return gl.a.getQualityByIndex(i)}var r=Object(D3t.a)(e,a),n=t.get(r);return gl.a.getQualityByIndex(n)}(t,l)),h!==gl.a.ORIGINAL&&(s=e(t,gl.a.ORIGINAL,i,r,n)),Object.assign({type:$I.types.VIDEO,profile:d,allowDirectPlay:v,allowDirectStreamVideoWithSoftSubtitles:!0,allowIncompleteSegments:!0,subtitlesBurnLevel:l.get("subtitlesBurnLevel"),availableQualities:p.availableQualities,qualityIndex:h,quality:f,transcoderOptions:Object.assign({addDebugOverlay:c.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:y||m?1:0,directStream:g,directStreamAudio:g,audioBoost:l.get("audioBoost")},r),originalQualityDecisionOptions:s},i)},w3t=g3t(),E3t=g3t()||d3t(),N3t=w3t?"dash":"hls";function x3t(e,t,a){var i=Object(ie.c)("appModel").get("user").get("experienceSettings"),r={hasNativeHLS:E3t,hasDASH:w3t,hasStreamingMKV:!1,canDisplayHDR:C3t(),canDisplayDolbyVision:!1,subtitlesBurnLevel:i.get("subtitlesBurnLevel"),transcoder:Um,transcodeProtocol:N3t,preferredDirectPlayProtocol:N3t,profileExtra(e){var t=M3t(e),a=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&a){var{maxBitDepth:i}=a;t.push(function(e={}){var{maxBitDepth:t=8,protocol:a,supportsHDR:i=!1,supportsDolbyVision:r=!1}=e,n=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return t>=10&&n.push("bt2020-10"),t>=12&&n.push("bt2020-12"),t>=10&&(i||r)&&n.push("smpte2084"),"add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol="+a+"&type=match&name=video.colorTrc&list="+n.join("|")+"&isRequired=false)"}({protocol:e.protocol,maxBitDepth:i,supportsHDR:e.canDisplayHDR,supportsDolbyVision:e.canDisplayDolbyVision}))}var r=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(r=r.filter(e=>!1===/^e?ac3$/.test(e))),t.push(function(e){var{type:t="videoProfile",context:a="streaming",videoCodec:i,audioCodec:r,subtitleCodec:n}=e,s=Je()(e,["type","context","videoCodec","audioCodec","subtitleCodec"]),o={type:t,context:a};return i&&(o.videoCodec=Array.isArray(i)?i.join(","):i),r&&(o.audioCodec=Array.isArray(r)?r.join(","):r),n&&(o.subtitleCodec=Array.isArray(n)?n.join(","):n),Object.assign(o,s),"append-transcode-target-codec("+_.stringifyParams(o)+")"}({protocol:e.protocol,audioCodec:r.join(",")})),t.join("+")}},n=Object(ie.c)("appModel").get("user").get("experienceSettings");n.get("forceTranscodeProtocolHLS")&&"dash"===r.transcodeProtocol&&(E3t?n.get("autoAdjustQuality")?O.a.warn("[Player] Experimental alternate streaming protocol for video playback is disabled because automatic quality adjustment is enabled"):(O.a.warn("[Player] Experimental alternate streaming protocol for video playback is enabled"),r.transcodeProtocol="hls"):O.a.warn("[Player] Experimental alternate streaming protocol for video playback is unsupported by this browser"));var s={subtitleSize:i.get("subtitleSize"),mediaBufferSize:102400},o=a||e.get("Media")[0];return o&&"livetv"===o.origin&&(r.allowDirectPlay=!1),T3t(e,t,r,s,a)}var A3t=function(e,t,a){var i,r=Wt.u(e.get("type"));return(null==r?void 0:r.mediaType)===tl.a?(i=[],w3t&&i.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac,mp3)"),E3t&&i.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:$I.types.MUSIC,profile:F8.prop("music"),allowDirectPlay:!0,hasNativeHLS:E3t,hasDASH:w3t,transcoder:Um,transcodeProtocol:N3t,preferredDirectPlayProtocol:N3t,transcoderOptions:{directStreamAudio:1,mediaBufferSize:12288},profileExtra:i.length?i.join("+"):null}):(null==r?void 0:r.mediaType)===tl.d?{type:$I.types.ROM,profile:{},allowDirectPlay:!1,allowDirectStream:!1,transcoder:Um,transcoderOptions:{}}:x3t(e,t,a)},L3t=Ee.a.extend({mixins:[Ne.a],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize(e={}){this.queue=[],!1!==e.enabled&&this.enable()},enable(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send(e){e&&(this.queue.push(e),this._next())},_next(){if(this._canNext()){var e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){var a=T.a.ajax(t);a.always(this.onAjaxAlways.bind(this,a)),this.request=a}}},_canNext(){return this.enabled&&!this.request},_getAjaxOptions:e=>e,onAjaxAlways(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled(){this._next()},onDisabled(){},onDestroyed(){}});var k3t=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],R3t=["setBaseUrl","trackEvent"];function z3t(e,t){var{server:a}=t,i=a.get("debugName");return O.a.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",i,e),U3t(e,t)}function U3t(e,t){var{connection:a}=t,i=T.a.Deferred();return D.a.defer(()=>{a.set({currentTest:null,testState:"unavailable"}),i.reject(a)}),i.promise()}function V3t(e){var{server:t,connection:a}=e,i=t.resolveUrl(e.url||"/media/providers",{connection:a}),r=Object(ie.c)("appModel"),n=r.get("settings"),s=r.get("deviceSettings");if(!be.a.allowHttpsMediaServerConnections&&a.get("isHttps")&&!t.get("isCloud"))return z3t(i,e);var o=n&&n.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&a.get("isHttps")&&"always"===o)return z3t(i,e);if(!t.get("httpsRequired")&&a.get("isHttps")&&"samenetwork"===o&&a.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){var{server:a}=t,i=a.get("debugName");return O.a.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",i,e),U3t(e,t)}(i,e);if(!be.a.allowMixedContent&&F.a.isHostedHttps&&!a.get("isHttps"))return function(e,t){var{server:a}=t,i=a.get("debugName");return O.a.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",i,e),U3t(e,t)}(i,e);var l=s&&s.get("rejectDirectConnections");return t.get("isCloud")||a.get("relay")||!l&&!be.a.rejectDirectConnections?function(e,t){var{server:a,connection:i}=t,r=T.a.Deferred(),n=a.get("debugName"),s=Object(st.a)(a),o=Date.now();Object(O.a)("[Connections] Testing connection for %s at %s",n,e);var l=[],c={dataType:"text",headers:{Accept:s.accept},timeout:a.connectionTestTimeout};l.push(a.getXHROptions(e,c));var d=!L1(a);if(null==t.url&&d){var u=a.resolveUrl("/",{connection:i});Object(O.a)("[Connections] Testing legacy connection for %s at %s",n,u),l.push(a.getXHROptions(u,c))}if(be.a.emulateBrokenHTTPS){var p=i.get("isHttps")&&!a.get("isCloud"),h="private"!==be.a.emulateBrokenHTTPS||i.get("isPrivate");p&&h&&function(e){e.forEach(e=>{e.url="fail"+e.url})}(l)}var m=l.map(e=>T.a.ajax(e)),v=Ce(...m);function g(e){i.get("relay")&&Object(ie.c)("metrics").trackEvent(Object.assign({},e,{event:"client:relayTested",interaction:!1,reason:1===i.server.get("connections").length?101:102,serverType:i.server.get("isShared")?"shared":"owned",latency:Date.now()-o}))}function y(t){Object(O.a)("[Connections] %s connected at %s",n,e),i.set({currentTest:null,testState:"connected"}),g({status:"success"}),r.resolve(i,t)}function f(t,a){var s={currentTest:null};if(t.some(e=>e.aborting))Object(O.a)("[Connections] Aborted pending connection test for %s at %s",n,e),s.testState="aborted";else{var o=function(e){return 401===e||403===e||406===e}(a)?"unauthorized":"unavailable";g({status:"failure",error:a}),t.forEach(t=>{O.a.warn("[Connections] %s is %s at %s (Status %s)",n,o,e,t.status)}),s.testState=o}i.set(s),r.reject(i,t)}return i.set({currentTest:m,testState:"pending"}),v.done(()=>{var t,[i,r]=m;if(200!==i.status&&404!==i.status?t=i.status:r&&200!==r.status&&(t=r.status),void 0===t)if(a.get("isCloud"))y();else{var o=s.parse(i.responseText),l=r?s.parse(r.responseText):void 0,c=a.parseResponse(T.a.extend(!0,{},o,l)),d=c.machineIdentifier,u=a.get("isTransient")?a.get("originalMachineIdentifier"):a.get("machineIdentifier");if(!d||u&&d!==u)O.a.warn("[Connections] %s has an unexpected machine identifier at %s",n,e),f(m);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:r||(c.mediaProviders=1);var p=a.parse(c);a.get("isTransient")&&(p.machineIdentifier=a.get("machineIdentifier")),p.isInstallingServerUpdate=!1,p.isProvidersPending=!1,p.isProvidersPopulated=!0,Ca(p.providers,a),y(p)}}else f(m,t)}),r.promise()}(i,e):function(e,t){var{server:a}=t,i=a.get("debugName");return O.a.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",i,e),U3t(e,t)}(i,e)}var B3t=a("PdYn");var F3t,H3t,_3t=function(){var e=Object(ie.c)("appModel").get("ui"),t=e.get("audioVideoPlayer"),a=e.get("photoPlayer"),i=e.get("romPlayer"),r=Object(B3t.a)(t),n=Object(B3t.a)(a);return r===khe.d||n===khe.d||!!i&&Object(B3t.a)(i)===khe.d},Q3t=Object(_u.a)(lk,e=>e.volume),W3t=a("LXFu"),G3t=ai.prototype.sessionAttrs,Y3t=Je()(G3t,["isCloud"]),K3t=ai.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:Object.assign({},Y3t,{isTransient:Ae.a.boolean,originalMachineIdentifier:Ae.a.string}),derivedAttrs:Object.assign({},ai.prototype.derivedAttrs,{isCloud(){return this.get("originalMachineIdentifier")===pw.a}}),defaults(){var e=ai.prototype.defaults.apply(this,arguments);return Object.assign({},e,{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey(){},testConnection(e){if(this.get("originalMachineIdentifier")!==pw.a)return ai.prototype.testConnection.apply(this,arguments);e.set({testState:"connected"}),this.onConnectionTestSuccess(e)}}),q3t=a("NNVK"),Z3t="ui/player/localCompanionPlayer/mirrorLocalDetails",X3t=Object(Pa.a)("ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction"),J3t=Object(Pa.a)("ui/player/localCompanionPlayer/setTransientServer"),$3t=Object(Pa.a)(Z3t),e5t={"ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction"(e,{type:t,action:a},i){var{type:r,payload:n={}}=a,s=e.get("ui"),o=t===q3t.b?I6.b:I6.a,l=s.get(o+"Player");l.get("isOpen")&&l.get("playQueue")&&i({type:r,payload:Object.assign({},n,{playerType:o})})},"ui/player/localCompanionPlayer/setTransientServer"(e,t){e.set("transientServer",t)},[Z3t](e,t){}},t5t=a("7QCR"),a5t={"/player/timeline/subscribe":function(){Object(ie.c)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){c5t(),Object(ie.c)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){var t,a,i=e.providerIdentifier&&e.providerIdentifier[0];return l5t().then(()=>s5t(e)).then(a=>o5t(t=a,e)).then(e=>(a=e.get(i||jt.d))?a.populate({merge:!0}):T.a.Deferred().reject().promise()).then(()=>function(e,t,a){var i=(a.key&&a.key[0]).replace("/children",""),r=new ut.a({key:i},{server:e,provider:t});return H3t=i,r.populate().then(()=>H3t!==i?T.a.Deferred().reject().promise():{metadataItemModel:r})}(t,a,e)).then(({metadataItemModel:e})=>{r5t($3t({serverEntityID:t.entityID(),providerEntityID:a.entityID(),key:e.get("key"),parentKey:e.get("parentKey"),type:e.get("type"),subtype:e.get("subtype")}))})},"/player/playback/playMedia":function(e){var t,a,i=e.providerIdentifier&&e.providerIdentifier[0],r=e.type&&e.type[0],n=e.offset&&e.offset[0],s=e.mediaIndex&&e.mediaIndex[0],o=e.containerKey&&e.containerKey[0];return Ge.execute("remotePlaybackUnlock").then(()=>s5t(e)).then(a=>o5t(t=a,e)).then(e=>{var t=W8(o);return t&&(a=e.get(i||jt.d))?a.populate().then(()=>({playQueueID:t})):T.a.Deferred().reject().promise()}).then(({metadataItemModel:e,playQueueID:i})=>{var l=t.entityID(),c=a.entityID(),d=q3t.e(r),u=null==n?null:parseInt(n,10),p=null==s?null:parseInt(s,10);if(e){var h=e.entityID();r5t(Cw.p({serverEntityID:l,providerEntityID:c,metadataItemEntityID:h,startMetadataItemEntityID:h,startOffsetMilliseconds:u,startMediaIndex:p,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:o}}))}else r5t(Cw.n({serverEntityID:l,providerEntityID:c,playQueueType:d,playQueueID:i,startOffsetMilliseconds:u,startMediaIndex:p}))})},"/player/playback/pause":e=>n5t(e,bse.s()),"/player/playback/play":e=>n5t(e,bse.t()),"/player/playback/stop":e=>n5t(e,Cw.h()),"/player/playback/skipNext":e=>n5t(e,_pe.h()),"/player/playback/skipPrevious":e=>n5t(e,_pe.i()),"/player/playback/stepForward":e=>n5t(e,bse.B()),"/player/playback/stepBack":e=>n5t(e,bse.A()),"/player/playback/skipTo":function(e){var t=decodeURIComponent(e.key[0]);n5t(e,_pe.g({key:t}))},"/player/playback/seekTo":function(e){var t=parseInt(e.offset[0],10);n5t(e,bse.w({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){n5t(e,_pe.c())},"/player/playback/refreshStreams":function(e){n5t(e,bse.v())},"/player/playback/setParameters":function(e){var t=e.volume&&e.volume[0],a=e.repeat&&e.repeat[0],i=e.shuffle&&e.shuffle[0],r=e.autoPlay&&e.autoPlay[0],n=e.subtitleColor&&e.subtitleColor[0],s=e.subtitlePosition&&e.subtitlePosition[0],o=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){var c=parseInt(t,10);n5t(e,bse.q({volume:c}))}if(null!=a){var d=parseInt(a,10);n5t(e,_pe.p({repeatAll:d===t5t.a,repeatOne:d===t5t.c}))}null!=i&&n5t(e,_pe.u());null!=r&&n5t(e,_pe.o({autoPlay:1===parseInt(e.autoPlay,10)}));null!=n&&n5t(e,bse.m({subtitleColor:n}));null!=s&&n5t(e,bse.o({subtitlePosition:s}));null!=o&&n5t(e,bse.p({subtitleSize:parseInt(o,10)}));null!=l&&n5t(e,bse.n({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){var t=e.audioStreamID&&e.audioStreamID[0],a=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&n5t(e,bse.l({streamTypeString:"audio",streamID:t.toString()}));null!=a&&n5t(e,bse.l({streamTypeString:"subtitles",streamID:a.toString()}))},"/player/navigation/moveLeft":()=>d5t("moveLeft"),"/player/navigation/moveRight":()=>d5t("moveRight"),"/player/navigation/moveUp":()=>d5t("moveUp"),"/player/navigation/moveDown":()=>d5t("moveDown"),"/player/navigation/select":()=>d5t("select"),"/player/navigation/back":()=>d5t("back"),"/player/navigation/home":function(){l5t().then(()=>{r5t(Object(Wi.m)())})}};function i5t(e,t,a){return{commandID:e,body:z4t.writeXml({Response:{_code:t,_status:a}}),responseCode:t}}function r5t(e){Object(ie.c)("appStore").dispatch(e)}function n5t(e,t){var a=e.type&&e.type[0];a?(t.type===Cw.a&&c5t(),r5t(X3t({type:a,action:t}))):O.a.warn("[Companion] Ignored playback action due to missing type")}function s5t(e){var t,a=e.machineIdentifier[0],i=Object(ie.c)("appModel"),r=i.get("servers").get(a),n=i.get("transientServer");F3t=a;var s={originalMachineIdentifier:a,accessToken:e.token&&e.token[0],mediaProviders:1};r&&(s.serverClass=r.get("serverClass"),s.publicAddressMatches=r.get("publicAddressMatches"),s.version=r.get("version")),n&&n.get("originalMachineIdentifier")===a?(t=n).set(s):t=new K3t(Object.assign({machineIdentifier:"transient-"+a+"-"+Mp()},s),{parent:i});var o,l=r&&r.get("isConnected")&&r.get("activeConnection");if(l)o={scheme:l.get("scheme"),address:l.get("address"),port:l.get("port"),uri:l.get("uri")};else{var c,d=e.port&&e.port[0],u=e.protocol&&e.protocol[0],p=e.address&&e.address[0],h=p;if(!u&&!p)return O.a.warn("[Companion] Unable to create a transient server without a protocol or address"),T.a.Deferred().reject().promise();"https"===u&&(p=Le(p),be.a.allowHttpsMediaServerConnections||(u="http",h=p)),c=u+"://"+h,d&&(c+=":"+d),o={scheme:u,address:p,port:d,uri:c}}return t.addConnection(o),t.testOnlyUntestedConnections().then(()=>F3t!==a?T.a.Deferred().reject().promise():(t.get("isTransient")&&r5t(J3t(t)),t))}function o5t(e,t){var a=Object(ie.c)("appModel").get("user"),i=e.get("isCloud")&&!e.get("isTransient")?a.get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});var r=i.populate();return r.then(()=>(e.set({isProvidersPending:!1,isProvidersPopulated:!0}),r),()=>(e.set({isProvidersPending:!1,providersError:{}}),r))}function l5t(){var e=T.a.Deferred();return Object(ie.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function c5t(){Object(ie.c)("appModel").get("user").get("isRemote")&&r5t(Object(Qu.c)())}function d5t(e){H.a.trigger("companion:"+e),H.a.trigger("companion:key",e)}function u5t(e){var t,{path:a,query:i,commandID:r,supportsTimeline:n}=e,s=T.a.Deferred(),o=a5t[a];if((t=Object(ie.c)("appModel").get("inputActivity"))&&t.notice(),!1!==n&&Object(ie.c)("localCompanionTimelineManager").start(),o){(o(i)||T.a.Deferred().resolve().promise()).done(()=>{Object(O.a)('[Companion] Successfully processed command from path "'+a+'"');var e=i5t(r,200,"OK");s.resolve({controllerResponse:e})}).fail(()=>{O.a.warn('[Companion] Failed to process command from path "'+a+'"');var e=i5t(r,400,"Bad Request");s.resolve({controllerResponse:e})})}else{O.a.warn('[Companion] Unable to handle command from unknown path "'+a+'"');var l=i5t(r,400,"Bad Request");s.resolve({controllerResponse:l})}return s.promise()}function p5t(e){var t=()=>e.get("deviceSettings"),a=()=>e.get("user").get("experienceSettings"),i={autoPlay:a,autoLogin:t,companion:a,language:a,shouldSyncSettings:t,subtitleColor:a,subtitlePosition:a,subtitleSize:a,volume:t};return{find:e=>i[e]().get(e),addCompanionChangeListener(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}function h5t(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function m5t(e){return!(!h5t(e)||e.get("isShared"))}var v5t=Ee.a.extend({mixins:[Ne.a],name:"CompanionServerManager",initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=D.a.throttle(this._pickCompanionServer,2e3)},start(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop(){this.stopListening(),this.started=!1},_pickCompanionServer(){this.started&&(this.companionServer&&h5t(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(m5t)||this.servers.find(h5t),this.companionServer?(Object(ie.c)("appStore").dispatch(Object(Wi.h)({serverEntityID:this.companionServer.entityID()})),O.a.info("[Companion] Found companion",this.companionServer.get("debugName"))):(Object(ie.c)("appStore").dispatch(Object(Wi.o)()),O.a.warn("[Companion] No companion found"))))}}),g5t=Ee.a.extend({mixins:[Ne.a],browserConnectionChangeDelay:2e3,initialize(e){D.a.bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start(){this.stop();var e=T()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(H.a,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop(){this.stopListening();var e=T()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries(e){},stopFailedServerRetries(e){},_removeConnection(e){var{server:t}=e,a=Gs.getActiveServers();if(Object(O.a)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),a){var i=a.get(t.id),r=i&&i.get("connections");r&&r.get(e.id)&&(r.remove(e.id),r.length||a.remove(t.id),Gs.debouncedSave())}},onBrowserConnectionChange(e){Object(O.a)("[Connections] Browser online status changed to",window.navigator.onLine),window.clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=window.setTimeout(()=>{this.servers.invoke("testAllConnections")},this.browserConnectionChangeDelay)},onTestAllServers(){this.servers.invoke("testAllConnections")},onTestServer(e){e.testAllConnections()},onServerAdd(e){e.testOnlyUntestedConnections()},onServerRemove(e){var t,a=Gs.getActiveServers();if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),a)if(e.get("isMerged")){var i=e.previous("machineIdentifier");i&&(t=a.get(i))&&(t.set("machineIdentifier",e.id),Gs.debouncedSave())}else(t=a.get(e.id))&&(a.remove(e.id),Gs.debouncedSave())},onServersReset(e,t){var a=t.previousModels;D.a.each(a,t=>{e.contains(t)||(t.abortAllConnectionTests(),this.stopFailedServerRetries(t))})},onServerConnectionError(e){(O.a.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud"))?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd(e){var{server:t}=e;Object(O.a)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove(e){this._removeConnection(e)},onServerConnectionsReset(e,t){var a=t.previousModels;D.a.each(a,t=>{e.contains(t)||this._removeConnection(t)})},onServerConnectionConnectedChange(e,t){var{server:a}=e,i=e.get("isBundled"),r=e.get("isFallback"),n=e.get("relay"),s=t&&!i&&!r&&!n,o=Gs.getActiveServers();if(a.id&&!a.get("isCloud")&&s&&o){var l=o.get(a.id);if(l)l.copyFromModel(a);else{var c=D.a.omit(a.toJSON(),"connections");l=o.add(c,{merge:!0,parse:!0})}l.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Gs.debouncedSave()}},onServerConnectionSourcesChange(e,t){var{server:a}=e,i=Gs.getActiveServers(),r=i&&i.get(a.id);if(r){var n=r.get("connections").get(e.id);if(n)n.get("sources").set(t.toJSON()),Gs.debouncedSave()}},onServerAccessTokenChange(e,t){if(!e.get("isCloud")){Object(O.a)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);var a=Gs.getActiveServers(),i=a&&a.get(e.id);i&&(i.set("accessToken",t),Gs.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",ai.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),y5t=g5t.extend({initialize(e){g5t.prototype.initialize.apply(this,arguments),this._serverRetryManager=new He({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop(){g5t.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries(e){this._serverRetryManager.start(e)},stopFailedServerRetries(e){this._serverRetryManager.stop(e)}}),f5t=()=>{},b5t=["page","type","style","mode"];var I5t=a("5M8o"),S5t=/0/g,M5t=()=>(0|16*Math.random()).toString(16);var C5t=function(){return"00000000-0000-4000-8000-000000000000".replace(S5t,M5t)},D5t=Ee.a.extend({mixins:Ne.a,initialize(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=D.a.debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable(){this.enabled=!0},disable(){this.enabled=!1},set(e){this.defaults=Object.assign({},this.defaults,e)},setUser(e){this.set({userId:e.id}),this.defaults.context||(this.defaults.context={}),this.defaults.context.user=e.get("subscriptions").reduce((e,t)=>(e[t.get("type")]=t.get("mode"),e),{anonymous:e.get("anonymous")})},fetchPrivacySettings(){this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);var e=Object(ie.c)("appModel").get("user");if(!e.server.get("isConnected"))return T.a.Deferred().reject().promise();var t=e.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=T.a.ajax(t),this._pendingPrivacyRequest.promise().done(t=>{this.setUser(e),this.setPrivacySettings(t),this.trackPendingEvents()}).always(()=>{this._pendingPrivacyRequest=null})},setPrivacySettings(e){e&&e.metrics&&(this.privacySettings=Object.assign({},e,{metrics:e.metrics.reduce((e,t)=>(e[t.event]=t.status,e),{})}),Object(ie.c)("metricsReporter").setBaseUrl(e.baseUrl))},incrementPlaybackCount(){var e="playbackCount",t=Object(ie.c)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime(e){var t="playbackTime",a=Object(ie.c)("sessionStats");a.save(t,a.get(t)+e)},trackView(e,t){var a="client:view",i=Object.assign({event:a,interaction:!0,properties:e},t),r=Kb.a.measure(function(e,t){for(var a=e,i=0;i<b5t.length;i++){var r=t[b5t[i]];null!=r&&(a=a+":"+r)}return a}(a,e),a+":"+e.page+"-start");r&&(i.properties=Object.assign({},i.properties,{latency:Math.round(r.duration)})),this.trackEvent(i)},trackClick(e,t){this.trackEvent(Object.assign({event:"client:click",interaction:!0,properties:e},t))},trackEvent(e){var t;if(this.enabled){var a=null==(t=e.properties)?void 0:t.contextTuple;a&&(delete e.properties.contextTuple,Object.assign(e.properties,Object(_b.c)(a)));var i=Object(ie.c)("sessionStats"),r=i.get("sessionId"),n=i.get("anonymousSessionId");if(this.privacySettings){var s=T.a.extend(!0,{},this.defaults,e);s.sessionIdentifier||(s.sessionIdentifier=r),s.anonymousSessionIdentifier||(s.anonymousSessionIdentifier=n);var o=Date.now();if(!("client:shutdown"===e.event||"client:start"===e.event)){var l=i.get("lastInteractionTime"),c=i.get("lastPlayingHeartbeatTime");if(o-Math.max(l,c)>18e5)return void this.flushSession().then(()=>{this.trackEvent(e)})}var d=this.privacySettings.metrics[s.event];if(d)if("off"===d);else s.interaction&&Object(I5t.a)(),"anonymous"===d&&(delete s.userId,s.deviceIdentifier=Object(ie.c)("appModel").get("anonymousClientID"),s.sessionIdentifier=s.anonymousSessionIdentifier),delete s.anonymousSessionIdentifier,f5t(s),Object(ie.c)("metricsReporter").trackEvent(s)}else this._pendingEvents.push(Object.assign({},e,{sessionIdentifier:r,anonymousSessionIdentifier:n}))}},trackPendingEvents(){for(var e=this._pendingEvents,t=0;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start(){var e=Object(ie.c)("appModel").get("user");return this.flushSession().then(()=>ae(e.server.populate())).then(()=>this.fetchPrivacySettings()).always(()=>{this.listenTo(e.server,"change:isConnected",this.onCloudServerChange),this.listenTo(e,"change:id",this.onUserIDChange)}),T.a.Deferred().resolve().promise()},flushSession(){var e=Object(ie.c)("sessionStats").populate().then(()=>{this.stopSession(),this.startSession()},()=>{this.startSession()});return ae(e)},startSession(){var e=Date.now(),t=Object(ie.c)("sessionStats");if(!this.interval){var a=be.a.heartbeatInterval;0,this.interval=window.setInterval(()=>{var e=Date.now(),a={heartbeatTime:e};this.isPlaybackActive()&&(a.lastPlayingHeartbeatTime=e),t.set(a)},a)}t.save({sessionId:C5t(),anonymousSessionId:C5t(),startTime:e,lastInteractionTime:e,heartbeatTime:e,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});var i=Kb.a.endPeriod("client:start"),r={event:"client:start",interaction:!0,properties:{mode:"uno"}};i&&(r.properties.latency=Math.round(i.duration)),this.trackEvent(r)},stopSession(){var e=Object(ie.c)("sessionStats"),t=e.get("heartbeatTime"),a=e.get("playbackCount"),i=e.get("playbackTime"),r=e.get("startTime");this.trackEvent({event:"client:shutdown",interaction:!1,properties:{sessionLength:Math.floor((t-r)/1e3),playbackCount:a,playbackTime:rme(i)}})},toJSON(){return Object.assign({},this.defaults)},onCloudServerChange(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),P5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer(_t.STARTUP)},stop(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer(e){if(this._primaryServerPromise)return this._primaryServerPromise;var t=Object(ie.c)("appStore");t.dispatch(Object(Wi.p)());var a=this._waitForPrimaryServer();return this._primaryServerPromise=a,a.done(i=>{if(a===this._primaryServerPromise){if(this._primaryServerPromise=null,this.appModel.get("primaryServer"))return;var r=!i.get("version")&&!i.get("isRejected");i.get("isOutOfDate")||r?(Object(O.a)("[Primary Server] The server, %s, is waiting for a version",i.get("debugName")),this._setPrimaryServer(e)):t.dispatch(Object(Wi.i)({machineIdentifier:i.id,metricsProperties:{context:e}}))}}).fail(()=>{a===this._primaryServerPromise&&(this._primaryServerPromise=null,this.appModel.set("isWaitingForPrimaryServer",!1))}),a},_waitForPrimaryServer(){var e,t=this.appModel.get("user").get("lastPrimaryServerID");return t?(Object(O.a)("[Primary Server] Waiting for the last primary server, %s, to connect",t),e=this.servers.populateServer({machineIdentifier:t,isPrimaryEligible:!0,isOutOfDate:!1})):e=T.a.Deferred().reject().promise(),e=(e=(e=e.then(null,()=>(Object(O.a)("[Primary Server] Waiting for any owned server to connect"),this.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})))).then(null,()=>(Object(O.a)("[Primary Server] Waiting for any eligible server to connect"),this.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})))).then(null,()=>(Object(O.a)("[Primary Server] Waiting for any eligible server"),this.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})))},onPrimaryServerChange(e,t){Gs.flushDebouncedSave();var a=e.previous("primaryServer");(a&&this.stopListening(a),t)?(O.a.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&Object(ie.c)("appStore").dispatch(xa({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?Object(O.a)("[Primary Server] Waiting to set the primary server"):O.a.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange(e,t){var a=this.appModel.get("user");t||(Object(O.a)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),a.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK))},onPrimaryServerOutOfDateChange(e,t){var a=this.appModel.get("user");t&&(Object(O.a)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),a.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK))},onWaitingForServersChange(e,t){if(t){var a=e.get("primaryServer"),i=!a||!this.servers.get(a.id),r=e.get("isWaitingForPrimaryServer");i&&!r&&this._setPrimaryServer(_t.FALLBACK)}},onPrimaryServerIsRelayedChange(e,t){t&&Object(ie.c)("appStore").dispatch(xa({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate(){var e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&(Object(O.a)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer(_t.FALLBACK)):this._setPrimaryServer(_t.STARTUP)}}),O5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel},start(){var e=this.appModel.get("user");this.populateCloudProviders(e.get("providers")),this.listenTo(this.appModel,{"change:user.change:providers.add":this.onProviderAdd})},stop(){this.stopListening()},populateCloudProviders(e){e.each(e=>{this.populateCloudProvider(e)})},populateCloudProvider(e){e.get("isPopulated")||Object(ie.c)("appStore").dispatch(fAe({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd(e){this.populateCloudProvider(e)}});function j5t(e,t,a){return function(i){return i.server===e&&i.connection.id===t.id&&i.url===a}}var T5t=Ee.a.extend({initialize(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=be.a.maximumConcurrentConnectionTests,this.throttledStartProcessing=D.a.throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest({server:e,connection:t,url:a}){var i=this._queuedOrExecuting(e,t,a);if(i)return i.deferred.promise();var r=T.a.Deferred();return this.queued.push({server:e,connection:t,url:a,deferred:r}),this._sortQueue(),this.throttledStartProcessing(),r.promise()},abortConnectionTest({server:e,connection:t,url:a}){return this._abortCurrentTest(e,t,a),this._removeQueuedOrExecuting(e,t,a),T.a.Deferred().resolve().promise()},reset(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue(){var e=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort((t,a)=>{var i=t.server,r=a.server,n=t.connection,s=a.connection,o=this._isManualConnection(n),l=this._isManualConnection(s),c=this._isMatchingLocation(i,n),d=this._isMatchingLocation(r,s);return i.id===e&&r.id!==e?-1:r.id===e&&i.id!==e?1:i.get("isCloud")&&!r.get("isCloud")?-1:r.get("isCloud")&&!i.get("isCloud")?1:!n.get("relay")&&s.get("relay")?-1:!s.get("relay")&&n.get("relay")?1:!n.get("isConnected")&&s.get("isConnected")?-1:!s.get("isConnected")&&n.get("isConnected")?1:!i.get("isShared")&&r.get("isShared")?-1:!r.get("isShared")&&i.get("isShared")?1:i.get("isFullServer")&&!r.get("isFullServer")?-1:r.get("isFullServer")&&!i.get("isFullServer")?1:o&&!l?-1:l&&!o?1:n.get("isBundled")&&!s.get("isBundled")?-1:s.get("isBundled")&&!n.get("isBundled")?1:c&&!d?-1:d&&!c?1:0})},_startProcessing(){D.a.times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process(){if(!(this.executing.length>=this.maximumConcurrent)&&this.queued.length){var e=this.queued.shift(),{server:t,connection:a,url:i}=e;this._abortCurrentTest(t,a,i);var r=Object(ie.c)("testServerConnection")({server:t,connection:a,url:i});this.executing.push(e),r.done((t,a)=>{e.deferred.resolve(t,a)}),r.fail((t,a)=>{e.deferred.reject(t,a)}),r.always(()=>{var t=this.executing.indexOf(e);this.executing.splice(t,1),this._process()})}},_abortCurrentTest(e,t,a){t.get("currentTest")&&t.get("currentTest").forEach(i=>{var r=e.resolveUrl(a||i.url,{connection:t});i&&"pending"===i.state()&&(Object(O.a)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),r),Z.a.abort(i.rid),i.abort())})},_isManualConnection:e=>e.get("sources").some(e=>0===e.id.indexOf("manualServer")),_isMatchingLocation(e,t){var a=e.get("publicAddressMatches"),i=t.get("isPrivate");return a&&i||!a&&!i},_queuedOrExecuting(e,t,a){var i=j5t(e,t,a);return D.a.find(this.executing,i)||D.a.find(this.queued,i)},_removeQueuedOrExecuting(e,t,a){var i=j5t(e,t,a),r=D.a.findIndex(this.executing,i),n=D.a.findIndex(this.queued,i);r>=0&&this.executing.splice(r,1),n>=0&&this.queued.splice(n,1)}});function w5t(e){return Mv(Object.assign({entityID:e.entityID()},e.toJSON()))}var E5t=Object.keys(Ls.prototype.syncedAttrs),N5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start(){this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate,"change:isConnected":this.onConnectedChange,"change:desktop.change:isSettingsPopulated":this.onSettingsPopulatedChange}),E5t.forEach(e=>{this.listenTo(this.servers,"change:"+e,this.onStoredServerAttributeChange.bind(this,e))}),this.listenTo(H.a,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop(){this.stopListening()},_checkFoundAllServers(){this.servers.shouldWaitForInitialServers()?this._waitForServers():this.servers.shouldWaitForResources()?this._waitForServers():this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers(){this.servers.waitForServers(),Object(wa.a)(()=>{this.appModel.set("isWaitingForServers",!0)})},_foundAllServers(){this.servers.foundAllServers(),Object(wa.a)(()=>{this.appModel.set("isWaitingForServers",!1)})},_fetchResources(e){if(e.get("isRejected"))return O.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:!1}),T.a.Deferred().reject().promise();if(!e.get("isResolved"))return Object(O.a)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then(()=>this._fetchResources(e));Object(O.a)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);var t=e.get("resources");return t.fetch().done(()=>{Object(O.a)("[Servers] Found %s resources through %s",t.length,e.get("debugName")),e.set({isResourcesPending:!1,isResourcesPopulated:!0,hasFailedResources:!1,isDownForMaintenance:!1})}).fail((t,a)=>{O.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===a.status})}).always(()=>{this._checkFoundAllServers()})},_convertResourceToServer:e=>(Object(O.a)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),ihe(e)),_removeResource(e){Object(O.a)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);var t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources(e){for(var t=e.get("resources"),a=this.servers.length-1;a>=0;){var i=this.servers.at(a),r=t.get(i.id);if(r)for(var n=i.get("connections"),s=n.length-1;s>=0;){var o=n.at(s);if(o.get("sources").get(e.id))r.get("connections").get(o.id)||o.get("sources").remove(e.id);s--}else i.removeSource(e.id);a--}},_setAuthorized(){var e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange(e,t){e.get("resources")&&this._fetchResources(e),this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange(e,t,a){var i=Gs.getActiveServers(),r=i&&i.get(t.id);r&&null!=a&&r.get(e)!==a&&(r.set(e,a),Gs.debouncedSave())},onServerRemove(e){O.a.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),H.a.trigger("clearWhere:cache",{server:e})},onServersUpdateReset(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers(){var e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd(e){if(D.a.contains(e.get("provides"),"server")){var t=this._convertResourceToServer(e);t.get("isMobileServer")||this.servers.add(t)}},onResourceRemove(e){this._removeResource(e)},onResourcesUpdate(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset(e,t){var a=t.previousModels;D.a.each(a,t=>{e.contains(t)||this._removeResource(t)}),this._checkFoundAllServers()},onResourcesPresenceChange(e){var t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate(e){var t=e.parent,a=this.servers.get(t.id);a&&(ahe(a,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())},onConnectedChange(e,t){if(t){var a=Object(ie.c)("appStore"),i=w5t(e);a.dispatch(In.actions.connected({server:i})),e.get("isFullOwnedServer")&&(a.dispatch(wn.actions.fetchRequested({server:i})),a.dispatch(cG({serverEntityID:e.entityID()})))}},onSettingsPopulatedChange(e,t){if(t){var a=e.get("settings"),i=a.get("AcceptedEULA");i&&!1===i.get("value")&&!window.location.hash.includes("/setup")&&H.a.trigger("navigate","setupBasic",{serverID:a.server.id})}}}),x5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel},start(){this.stop(),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isInstallingServerUpdate":this.onIsInstallingServerUpdateChange})},stop(){this.stopListening()},onServerIsConnectedChange(e,t){t&&ie.c("appStore").dispatch(t1({serverEntityID:e.entityID()}))},onIsInstallingServerUpdateChange(e,t){t||ie.c("appStore").dispatch(t1({serverEntityID:e.entityID()}))}});var A5t=Ee.a.extend({mixins:[Ne.a],initialize(e){this.appModel=e.appModel,this.debouncedSaveTimeout=null},start(){this.listenTo(this.appModel,{"change:user.change:providers.add":this.onCloudProviderAdd,"change:user.change:providers.change:isPending":this.onCloudProviderIsPendingChange,"change:user.change:isProvidersPending":this.onCloudProvidersIsPendingChange}),this.listenTo(this.appModel.get("servers"),{"change:isConnected":this.onServerIsConnectedChange,"change:isProvidersPending":this.onServerIsProvidersPendingChange,add:this.onServerAdd,"change:friendlyName":this.onServerAttrChanged,"change:sourceTitle":this.onServerAttrChanged}),this.listenTo(this.appModel.get("cloudServer"),{"change:isResourcesPending":this.onCloudReadyChange,"change:hasFailedResources":this.onCloudReadyChange})},_getPinnedSources(){return this.appModel.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources")},_getCustomHomeHubs(){return this.appModel.get("user").get("experienceSettings").get("homeSettings").get("hubs")},_shouldRemoveHiddenSource(e){var t=e.get("hiddenAt");return t>0&&Date.now()-t>604800},_hideCustomHomeHubs(e){e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),this._debouncedSaveExperienceSettings())})},_hidePinnedSources(e){var t;e.forEach(e=>{e.get("isHidden")?this._shouldRemoveHiddenSource(e)&&(e.trigger("destroy",e,e.collection),this._debouncedSaveExperienceSettings()):(e.set({isHidden:!0,hiddenAt:Date.now()}),t=!0,this._debouncedSaveExperienceSettings())}),t&&Object(ie.c)("appStore").dispatch(xx())},_hideSourcesWithNoServer(){var e=this.appModel.get("servers"),t=this._getPinnedSources().filter(t=>!e.get(t.get("machineIdentifier"))),a=this._getCustomHomeHubs().filter(t=>!e.get(t.get("server").get("machineIdentifier")));this._hidePinnedSources(t),this._hideCustomHomeHubs(a)},_hideSourcesWithNoProvider(e,t,a,i){if(e.get("isConnected")&&a&&!i){var r=e.get("machineIdentifier"),n=this._getPinnedSources().filter(e=>{var a=e.get("machineIdentifier"),i=e.get("providerIdentifier");return a===r&&!t.get(i)}),s=this._getCustomHomeHubs().filter(e=>{var a=e.get("server").get("machineIdentifier"),i=e.get("provider").get("identifier");return a===r&&!t.get(i)});this._hidePinnedSources(n),this._hideCustomHomeHubs(s)}},_hideCloudSourcesWithNoProvider(e){var t=this.appModel.get("cloudServer");this._hideSourcesWithNoProvider(t,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_hideServerSourcesWithNoProvider(e){this._hideSourcesWithNoProvider(e,e.get("providers"),e.get("isProvidersPopulated"),e.get("providersError"))},_updateStoredPinnedSources(e,t){var a,i=[];this._getPinnedSources().forEach(r=>{var n=$T(r.toJSON());if(n.machineIdentifier===e.machineIdentifier&&n.providerIdentifier===t.identifier){var s=V7(t,n.directoryID);if(s){var o=JQ(t,s),l=$T(R7({sourceType:o?o.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:s}));r.get("isHidden")&&(l.isHidden=!1,l.hiddenAt=null,a=!0),Ep(n,l)||(r.set(l),this._debouncedSaveExperienceSettings())}else e.isConnected&&t.isPopulated&&i.push(r)}}),this._hidePinnedSources(i),a&&Object(ie.c)("appStore").dispatch(xx())},_updateStoredHomeHubModels(e,t){var a=[];this._getCustomHomeHubs().forEach(i=>{var r=i.toJSON();if(r.server.machineIdentifier===e.machineIdentifier&&r.provider.identifier===t.identifier){var n=function(e,t){var a=Kt(e);return a&&a.directories?a.directories.find(e=>e.key===t||e.hubKey===t):null}(t,r.directoryKey),s=t&&t.features.find(e=>e.type===Ot.m);!!(n||s&&s.key===r.directoryKey)?i.get("isHidden")&&(i.set({isHidden:!1,hiddenAt:null}),this._debouncedSaveExperienceSettings()):e.isConnected&&t.isPopulated&&a.push(i)}}),this._hideCustomHomeHubs(a)},_autoPinSources(e,t){var a=this.appModel.get("user").get("experienceSettings"),i=a.get("autoPinnedProviders"),r=a.get("sidebarSettings"),n=r.get("pinnedSources"),s=Object(Kc.a)(e.machineIdentifier,t.identifier);if(jt.k(t.identifier,[jt.i,jt.b])&&!i.includes(s)){a.set({autoPinnedProviders:[...i,s]}),this._debouncedSaveExperienceSettings();var o=Kt(t);if(r.get("hasCompletedSetup")&&o&&o.directories){var l=o.directories.reduce((a,i)=>{var r=JQ(t,i),s=YQ(r?r.key:null,e.machineIdentifier,t.identifier,i.id);if(r&&!n.get(s)){var o=R7({sourceType:r?r.key:null,sourceServer:e,sourceProvider:t,sourceDirectory:i});a.push($T(o))}return a},[]);l.length>0&&Object(ie.c)("appStore").dispatch(XA({sources:l,interaction:!1}))}}},_processSources(e,t){t.isPopulated&&(this._updateStoredPinnedSources(e,t),this._updateStoredHomeHubModels(e,t),this._autoPinSources(e,t))},_debouncedSaveExperienceSettings(){var e=this.appModel.get("user").get("experienceSettings");e.set({isDirty:!0}),this.debouncedSaveTimeout&&window.clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=window.setTimeout(()=>{e.get("isDirty")&&Object(ie.c)("appStore").dispatch(Object(Qu.f)())},1e3)},_processCloudProviderChange(e){var t=this.appModel.get("cloudServer").toJSON(),a=e.toJSON();this._processSources(t,a)},_processServerChange(e){if(e.get("isConnected")&&e.get("isProvidersPopulated")){var t=e.toJSON();t.providers.forEach(e=>this._processSources(t,e))}},onCloudProviderAdd(e){this._processCloudProviderChange(e)},onCloudProviderIsPendingChange(e,t){t||this._processCloudProviderChange(e)},onCloudProvidersIsPendingChange(e,t){t||this._hideCloudSourcesWithNoProvider(e)},onServerAttrChanged(e){this._processServerChange(e)},onServerIsConnectedChange(e,t){t||this._processServerChange(e)},onServerIsProvidersPendingChange(e,t){t||(this._hideServerSourcesWithNoProvider(e),this._processServerChange(e))},onServerAdd(e){this._processServerChange(e)},onCloudReadyChange(e){e.get("isResourcesPending")||e.get("hasFailedResources")||this._hideSourcesWithNoServer()}});function L5t(e,t){var a=e.get("user"),i=()=>{r&&(r=window.clearTimeout(r)),t(a,a.get("isSignedIn"))},r=window.setTimeout(i,0);return a.on("change:isSignedIn",i),()=>{r&&(r=window.clearTimeout(r)),a.off("change:isSignedIn",i)}}var k5t=window.console.error.bind(window.console,"[Events]");class R5t{constructor(){this.listeners=void 0,this.listeners=new Map}destroy(){this.removeAllListeners()}addListener(e,t){var a=this.listeners.get(e)||new Set;this.listeners.has(e)||this.listeners.set(e,a),a.add(t)}emit(e,...t){var a;null==(a=this.listeners.get(e))||a.forEach(e=>{try{e(...t)}catch(e){k5t(e)}})}removeListener(e,t){var a;null==(a=this.listeners.get(e))||a.delete(t)}removeAllListeners(){this.listeners.forEach(e=>e.clear())}}class z5t{static fromJSON(e){var{playing:t,index:a,count:i,breakPosition:r}=e;return new z5t(t,a,i,r)}constructor(e,t,a,i){this.breakPositionSeconds=void 0,this.displayIndex=void 0,this.displayTotal=void 0,this.isPlaying=void 0,this.breakPositionSeconds=null!=i?i:null,this.displayIndex=null!=t?t:null,this.displayTotal=null!=a?a:null,this.isPlaying=e}toJSON(){var e={playing:this.isPlaying};return null!=this.breakPositionSeconds&&(e.breakPosition=this.breakPositionSeconds),null!=this.displayIndex&&(e.index=this.displayIndex),null!=this.displayTotal&&(e.count=this.displayTotal),e}toString(){return JSON.stringify(this.toJSON())}}class U5t{static fromJSON(e){if(e.name){var t=JSON.parse(e.name);return new U5t(t.uri,z5t.fromJSON(t.ads))}}constructor(e,t){this.ad=void 0,this.sourceUri=void 0,this.ad=t||new z5t(!1),this.sourceUri=e}toJSON(){var e={ads:this.ad.toJSON(),uri:this.sourceUri};return{name:JSON.stringify(e)}}}var V5t=/_+$/;class B5t{static fromJSON(e){var{deviceIdentifier:t,deviceName:a,userID:i}=e;return new B5t(i,t,a)}static fromString(e){var t=e.replace(V5t,"");return B5t.fromJSON(JSON.parse(t))}constructor(e,t,a){this.deviceIdentifier=void 0,this.deviceName=void 0,this.id=void 0,this.id="number"==typeof e?e:parseInt(e,10),this.deviceIdentifier=t,this.deviceName=a}toJSON(){var{deviceIdentifier:e,deviceName:t,id:a}=this;return{deviceIdentifier:e,deviceName:t,userID:String(a)}}toString(){return JSON.stringify(this.toJSON())}}class F5t{static fromJSON(e){return new F5t(B5t.fromString(e.username),e.room.name)}constructor(e,t){this.roomID=void 0,this.type="Hello",this.user=void 0,this.roomID=t,this.user=e}toJSON(){return{[this.type]:{room:{name:this.roomID},username:this.user.toString(),version:"1.6.4"}}}}class H5t{static fromJSON(e,t){return new H5t(B5t.fromString(e),t.isReady||!1,t.position,U5t.fromJSON(t.file))}constructor(e,t,a,i){this.user=void 0,this.isReady=void 0,this.position=void 0,this.file=void 0,this.file=i||null,this.isReady=t,this.position=a,this.user=e}}class _5t{static fromJSON(e,t){var a=e[t],i=[];for(var r in a){var n=H5t.fromJSON(r,a[r]);i.push(n)}return new _5t(i)}constructor(e){this.type="List",this.users=void 0,this.users=e||[]}toJSON(){return{[this.type]:{}}}}class Q5t{static fromJSON(e,t){if(e.ready){var{isReady:a,username:i}=e.ready,r=B5t.fromString(i);return new Q5t(r,a)}if(e.user){var[n,s]=Object.entries(e.user)[0];if(s.room.name===t){var o=B5t.fromString(n),l=s.file&&U5t.fromJSON(s.file),{joined:c=!1,left:d=!1}=s.event||{};return new Q5t(o,l,c,d)}}}constructor(e,t,a,i){this.type="Set",this.file=null,this.hasJoined=null,this.hasLeft=null,this.isReady=null,this.user=void 0,this.user=e,"boolean"==typeof t||null===t?this.isReady=t:(this.file=null!=t?t:null,this.hasJoined=null!=a?a:this.hasJoined,this.hasLeft=null!=i?i:this.hasLeft)}toJSON(){var{file:e,isReady:t}=this;return e?{[this.type]:{file:e.toJSON()}}:null!=t?{[this.type]:{ready:{isReady:t}}}:void 0}}class W5t{static fromJSON(e){var{ping:t,playstate:a,ignoringOnTheFly:i}=e;return new W5t(t,a,i)}constructor(e,t,a){this.ignoringOnTheFly=void 0,this.ping=void 0,this.playstate=void 0,this.setBy=void 0,this.type="State",this.ignoringOnTheFly=a,this.ping=e,this.playstate=t,this.setBy=t.setBy?B5t.fromString(t.setBy):null}toJSON(){var{ignoringOnTheFly:e,ping:t,playstate:a}=this,i={ping:t,playstate:a};return null!=(null==e?void 0:e.client)&&null!=(null==e?void 0:e.server)?i.ignoringOnTheFly={client:e.client,server:e.server}:null!=(null==e?void 0:e.client)?i.ignoringOnTheFly={client:e.client}:null!=(null==e?void 0:e.server)&&(i.ignoringOnTheFly={server:e.server}),{[this.type]:i}}}var G5t=window.console.error.bind(window.console,"[WebSocketConnection]");class Y5t extends R5t{destroy(){super.destroy()}}class K5t extends Y5t{get isConnecting(){var e;return 0===(null==(e=this.socket)?void 0:e.readyState)}get isOpen(){var e;return 1===(null==(e=this.socket)?void 0:e.readyState)}constructor(e){super(),this.isPingEnabled=void 0,this.pingIntervalID=void 0,this.url=void 0,this.socket=void 0,this.onHelloInterval=()=>{try{this.isOpen&&this.send("hello")}catch(e){G5t("WebSocketConnection hello exception: "+e.message)}},this.isPingEnabled=!1!==e.isPingEnabled,this.url=e.url}open(){return new Promise((e,t)=>{if(this.isConnecting||this.isOpen)t(new Error("Refusing to open multiple connections"));else{var a=new window.WebSocket(this.url);this.socket=a,a.onerror=()=>{t(new Error("Connection error"))},a.onopen=()=>{this.isPingEnabled&&(this.pingIntervalID=window.setInterval(this.onHelloInterval,3e4)),a.onerror=null,a.onclose=e=>{this.pingIntervalID&&(window.clearInterval(this.pingIntervalID),delete this.pingIntervalID),this.emit("close",e)},a.onmessage=e=>{try{this.emit("message",this.parseMessage(e.data))}catch(e){G5t("Parse failure",e)}},this.emit("open"),e()}}})}close(e=1e3){if((this.isOpen||this.isConnecting)&&this.socket){var{socket:t}=this;delete this.socket,t.close(e),t.onopen=null,t.onclose=null,t.onerror=null,t.onmessage=null}}destroy(){super.destroy(),this.close()}send(e){var t,a;if(!this.isOpen)throw new Error("Cannot send to socket in state "+(null==(t=this.socket)?void 0:t.readyState));null==(a=this.socket)||a.send(e)}parseMessage(e){return JSON.parse(e)}}new k4t.a({attributePrefix:"",ignoreRoot:!0});var q5t=window.console.debug.bind(window.console,"[SyncplaySession]"),Z5t=window.console.warn.bind(window.console,"[SyncplaySession]");class X5t extends R5t{constructor(e){super(),this.connection=void 0,this.roomID=void 0,this.onSocketClose=e=>{this.emit("close",e)},this.onSocketMessage=e=>{var t;q5t("Message ("+Date.now()+") <<",e),e.Error?this.close(1011):e.Hello?t=F5t.fromJSON(e.Hello):e.List?t=_5t.fromJSON(e.List,this.roomID):e.Set?t=Q5t.fromJSON(e.Set,this.roomID):e.State&&(t=W5t.fromJSON(e.State)),t&&this.emit("message",t)};var{roomID:t,roomSyncplayHost:a,roomSyncplayPort:i}=e,r="wss://"+a+":"+i+"/ws";this.connection=new K5t({url:r,isPingEnabled:!1}),this.connection.addListener("close",this.onSocketClose),this.connection.addListener("message",this.onSocketMessage),this.roomID=t}destroy(){super.destroy(),this.connection.destroy()}open(){var e=this;return e3t()((function*(){yield e.connection.open()}))()}close(e=1e3){this.connection.close(e)}send(e){var t=e.toJSON();t&&this.connection.send(JSON.stringify(t)),(t?q5t:Z5t)("Message ("+Date.now()+") >>",t||e)}}function J5t(){return window.performance.now()/1e3}class $5t{constructor(){this._lastForwardDelay=0,this.averageRtt=0,this.clientRtt=0,this.lastPing=void 0}get lastForwardDelaySeconds(){return this._lastForwardDelay}get state(){var e,t;return{clientLatencyCalculation:J5t(),clientRtt:this.clientRtt,serverRtt:(null==(e=this.lastPing)?void 0:e.serverRtt)||0,latencyCalculation:(null==(t=this.lastPing)?void 0:t.latencyCalculation)||0}}update(e){var{clientLatencyCalculation:t,serverRtt:a}=e;this.lastPing=e,null!=t&&(this.clientRtt=J5t()-t,this.clientRtt<0||a<0||(0===this.averageRtt&&(this.averageRtt=a),this.averageRtt=.85*this.averageRtt+this.clientRtt*(1-.85),this._lastForwardDelay=this.averageRtt/2,a<this.clientRtt&&(this._lastForwardDelay+=this.clientRtt-a)))}}var e6t=window.console.debug.bind(window.console,"[SyncplayClient]");function t6t(e){return["User",e.id,"("+e.deviceName+")"]}class a6t extends R5t{get isReady(){return!this.file.ad.isPlaying&&this.playerBridge.hasInitialBuffer}constructor(e){super(),this.eventFields=void 0,this.file=void 0,this.ignoringOnTheFly=void 0,this.lastIsReady=void 0,this.lastSentFile=void 0,this.pingHelper=void 0,this.roomID=void 0,this.roomSourceUri=void 0,this.session=void 0,this.user=void 0,this.playerBridge=void 0,this.onSessionClose=e=>{this.emit("close",e)},this.onSessionMessage=e=>{e instanceof F5t?this.onHelloMessage(e):e instanceof _5t?this.onListMessage(e):e instanceof Q5t?this.onSetMessage(e):e instanceof W5t&&this.onStateMessage(e)},this.onHelloMessage=e=>{this.session.send(new _5t)},this.onListMessage=e=>{e.users.forEach(e=>{this.tryEmitUserState(!0,e.isReady,e.user)}),e.users.forEach(e=>{this.tryEmitAdState(e.file,e.user)})},this.onSetMessage=e=>{var{user:t}=e,a=null!=e.hasJoined||null!=e.hasLeft?e.hasJoined||!e.hasLeft:null;this.tryEmitUserState(a,e.isReady,t),this.tryEmitAdState(e.file,t)},this.onStateMessage=e=>{var t=this.lastSentFile!==this.file;this.pingHelper.update(e.ping),this.tryUpdateIgnoringOnTheFly(e),this.tryEmitPlaybackState(e);var a=this.shouldEchoSessionState()?{doSeek:!1,paused:e.playstate.paused,position:e.playstate.position,setBy:null}:{doSeek:this.playerBridge.hasPendingSeek,paused:this.playerBridge.isPaused,position:this.playerBridge.positionSeconds,setBy:null};t&&this.playerBridge.hasPendingSeek&&(a.doSeek=this.playerBridge.hasPendingSeek,a.position=this.playerBridge.positionSeconds);var i=this.isReady;this.playerBridge.hasPendingPlayPause=!1,this.playerBridge.hasPendingSeek=!1,this.session.send(new W5t(this.pingHelper.state,a,this.ignoringOnTheFly)),t&&(this.lastSentFile=this.file,this.session.send(new Q5t(this.user,this.lastSentFile))),this.lastIsReady!==i&&(e6t("Setting isReady",{isReady:i,isAdPlaying:this.file.ad.isPlaying,hasInitialBuffer:this.playerBridge.hasInitialBuffer}),this.lastIsReady=i,this.session.send(new Q5t(this.user,this.lastIsReady)))};var{deviceIdentifier:t,deviceName:a,userID:i,playerBridge:r,roomID:n,roomSourceUri:s,roomSyncplayHost:o,roomSyncplayPort:l}=e;this.eventFields={roomID:n},this.file=new U5t(s),this.ignoringOnTheFly={client:0,server:0},this.pingHelper=new $5t,this.playerBridge=r,this.roomID=n,this.roomSourceUri=s,this.user=new B5t(i,t,a),this.session=new X5t({roomID:n,roomSyncplayHost:o,roomSyncplayPort:l}),this.session.addListener("close",this.onSessionClose),this.session.addListener("message",this.onSessionMessage)}destroy(){super.destroy(),this.leave(),this.session.destroy()}join(){var e=this;return e3t()((function*(){yield e.session.open(),e.session.send(new F5t(e.user,e.roomID))}))()}leave(){this.session.close(),this.file=new U5t(this.roomSourceUri)}setAdState(e,t,a){var i,r=null==(i=this.file)?void 0:i.ad;(null==r?void 0:r.isPlaying)!==e||(null==r?void 0:r.displayIndex)!==t||(null==r?void 0:r.displayTotal)!==a?this.file=new U5t(this.roomSourceUri,e?new z5t(e,t,a):void 0):e6t("Will not Set redundant session ad state",{isPlaying:e,displayIndex:t,displayTotal:a})}tryEmitAdState(e,t){if(e){var{ad:a}=e,i=Object.assign({},this.eventFields,{ad:a,user:t});e6t(...t6t(t),"ad state",a),this.emit("session",i)}}tryEmitUserState(e,t,a){var i=Object.assign({},this.eventFields,{user:a});null!=e&&(e6t(...t6t(a),"present?",e),i.isPresent=e),null!=t?(e6t(...t6t(a),"ready?",t),i.isReady=t):!1===e&&(i.isReady=!1),null==e&&null==t||this.emit("session",i)}tryEmitPlaybackState(e){var t;if(!((null==(t=e.setBy)?void 0:t.deviceIdentifier)===this.user.deviceIdentifier||this.ignoringOnTheFly.client>0)){var{playstate:a,setBy:i}=e,r=a.position+(a.paused?0:this.pingHelper.lastForwardDelaySeconds),n={isPaused:a.paused,positionSeconds:r,shouldSeek:a.doSeek},s=Object.assign({},this.eventFields,n);i?(e6t(...t6t(i),"playback state",n),s.user=i):e6t("Server playback state",n),this.emit("session",s)}}tryUpdateIgnoringOnTheFly(e){var t,a,{ignoringOnTheFly:i}=this,r=null!=(null==(t=e.ignoringOnTheFly)?void 0:t.client)&&e.ignoringOnTheFly.client>0?e.ignoringOnTheFly.client:0;i.server=null!=(null==(a=e.ignoringOnTheFly)?void 0:a.server)&&e.ignoringOnTheFly.server>0?e.ignoringOnTheFly.server:0,(this.shouldEchoSessionState()||r===i.client)&&(i.client=0),this.shouldEchoSessionState()||!this.playerBridge.hasPendingPlayPause&&!this.playerBridge.hasPendingSeek||i.client++}shouldEchoSessionState(){return!this.playerBridge.isPlayerForeground||this.file.ad.isPlaying||this.ignoringOnTheFly.server>0}}var i6t;a("6oI5");function r6t(){var e=!!i6t;return e||O.a.warn("[Watch Together] Syncplay client is unavailable"),e}var n6t=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){var{appModel:e,appStore:t}=this,a=t.dispatch;L5t(e,(e,t)=>{!t&&i6t&&a(Pse())})}update({hasPendingSeek:e,hasPendingPlayPause:t,isAdPlaying:a,adDisplayIndex:i,adDisplayTotal:r}){r6t()&&(void 0!==a&&i6t.setAdState(a,null!=i?i:void 0,null!=r?r:void 0),void 0!==t&&(i6t.playerBridge.hasPendingPlayPause=t),void 0!==e&&(i6t.playerBridge.hasPendingSeek=e))}leave(){r6t()&&(i6t.destroy(),i6t=void 0)}join({roomID:e,roomSourceUri:t,roomSyncplayHost:a,roomSyncplayPort:i}){var{appModel:r,appStore:n}=this;i6t=new a6t({deviceIdentifier:$.prop("X-Plex-Client-Identifier"),deviceName:$.prop("X-Plex-Device-Name"),playerBridge:{get hasInitialBuffer(){var e=Object(ie.c)("appModel"),t=Object(e9.c)(e,I6.a);if(t.get("canPlayThrough"))return!0;for(var a=t.get("bufferedRanges"),i=t.get("positionSeconds")+5,r=0;r<a.length;r++){var n=a[r];if(i>=n.startSeconds&&i<=n.endSeconds)return!0}return!1},hasPendingPlayPause:!1,hasPendingSeek:!1,get isPaused(){var e=Object(ie.c)("appModel");return Object(e9.c)(e,I6.a).get("isPaused")},get isPlayerForeground(){var e=Object(ie.c)("appModel");return!1===Object(e9.c)(e,I6.a).get("isWatchTogetherLobbyVisible")},get positionSeconds(){var e=Object(ie.c)("appModel"),t=Object(e9.c)(e,I6.a);return null!=t.get("lastSeekPositionSeconds")?t.get("lastSeekPositionSeconds"):t.get("positionSeconds")}},roomID:e,roomSourceUri:t,roomSyncplayHost:a,roomSyncplayPort:i,userID:r.get("user").id}),Object(O.a)("[Watch Together] Joining session for room:",e),i6t.join().then(()=>{Object(O.a)("[Watch Together] Joined session for room:",e),Object(ie.c)("metrics").trackEvent({event:"watchtogether:joined",interaction:!0,properties:{playbackSessionId:e}}),i6t.addListener("session",t=>{var a={roomID:e,event:t};O.a.groupCollapsed("[Watch Together] Session event"),O.a.debug("[Watch Together] Event:",t),n.dispatch(wse(a)),n.dispatch(Nse(a)),n.dispatch(Ese(a)),O.a.groupEnd()}),i6t.addListener("close",t=>{O.a.warn("[Watch Together] Session closed unexpectedly:",t),n.dispatch(Ose({roomID:e,sessionError:Object(Ze.default)("Lost connection to the Watch Together session.")}))})}).catch(t=>{O.a.error("[Watch Together] Error joining session for room:",e,t),n.dispatch(Ose({roomID:e,sessionError:Object(Ze.default)("Could not join at this time.")}))})}};class s6t extends Y5t{get isConnecting(){return!1}get isOpen(){return this.cloudServerModel.get("hasEventConnection")}constructor(){super(),this.cloudServerModel=void 0,this.onDispatcherMessage=e=>{this.emit("message",e)},this.onHasEventConnectionChange=()=>{this.cloudServerModel.get("hasEventConnection")?this.emit("open"):this.emit("close")};var e=Object(ie.c)("appModel");this.cloudServerModel=e.get("cloudServer"),this.cloudServerModel.on({"change:hasEventConnection":this.onHasEventConnectionChange}),H.a.on({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.get("hasEventConnection")&&this.onHasEventConnectionChange()}open(){return Promise.reject(new Error("Cannot open directly"))}close(){throw new Error("Cannot close directly")}send(){throw new Error("Cannot send directly")}destroy(){super.destroy(),H.a.off({"cloudServer:notifyWatchTogetherExpire":this.onDispatcherMessage,"cloudServer:notifyWatchTogetherInvite":this.onDispatcherMessage}),this.cloudServerModel.off({"change:hasEventConnection":this.onHasEventConnectionChange})}}a("OYMB");function o6t(e){return e}function l6t(...e){return e.filter(e=>!!(null==e?void 0:e.trim())).map(e=>null==e?void 0:e.replace(/^\/+|\/+$/g,"")).join("/")}var c6t;class d6t{constructor(e){this.endpoint="https://together.plex.tv/rooms",this.accessToken=void 0,this.accessToken=e.accessToken}create(e,t,a){var i=this;return e3t()((function*(){return(yield yr.a.post(i.endpoint,{sourceUri:e,title:t,users:a||null},{params:{"X-Plex-Token":i.accessToken},responseType:"json"})).data}))()}createInvites(e,t){var a=this;return e3t()((function*(){return(yield yr.a.post(l6t(a.endpoint,e,"invite"),{users:t},{params:{"X-Plex-Token":a.accessToken},responseType:"json"})).data}))()}delete(e){var t=this;return e3t()((function*(){yield yr.a.delete(l6t(t.endpoint,e),{params:{"X-Plex-Token":t.accessToken},responseType:"json"})}))()}get(e){var t=this;return e3t()((function*(){var a=yield yr.a.get(l6t(t.endpoint,e),{params:{"X-Plex-Token":t.accessToken},responseType:"json"});return e?a.data:function(e){return e.rooms.map(o6t)}(a.data)}))()}patch(e,t){var a=this;return e3t()((function*(){return(yield yr.a.patch(l6t(a.endpoint,e),{params:Object.assign({},t,{"X-Plex-Token":a.accessToken}),responseType:"json"})).data}))()}}class u6t extends R5t{get isOpen(){return this.pubsub.isOpen}constructor(e){super(),this.pubsub=void 0,this.service=void 0,this.onPubSubMessage=e=>{var{command:t}=e;"notifyWatchTogetherInvite"!==t&&"notifyWatchTogetherExpire"!==t||this.rooms()},this.onPubSubClose=e=>{this.emit("close",e)};var{accessToken:t,pubsub:a}=e;this.pubsub=a,this.pubsub.addListener("close",this.onPubSubClose),this.pubsub.addListener("message",this.onPubSubMessage),this.service=new d6t({accessToken:t})}open(){return this.pubsub.open()}destroy(){super.destroy(),this.pubsub.destroy()}rooms(){var e=this;return e3t()((function*(){var t=yield e.service.get();return e.emit("rooms",t),t}))()}createRoom(e,t,a){var i=this;return e3t()((function*(){var r=yield i.service.create(e,t,a);return yield i.rooms(),r.id}))()}deleteRoom(e){var t=this;return e3t()((function*(){try{yield t.service.delete(e)}catch(e){var a;if(404!==(null==e?void 0:null==(a=e.response)?void 0:a.status))throw e}yield t.rooms()}))()}inviteUsers(e,t){var a=this;return e3t()((function*(){yield a.service.createInvites(e,t),yield a.rooms()}))()}}var p6t=class{constructor({appModel:e,appStore:t}){this.appModel=e,this.appStore=t}start(){var{appModel:e,appStore:t}=this;L5t(e,(a,i)=>{if(c6t&&(c6t.destroy(),c6t=null,Object(O.a)("[Watch Together] stopped rooms client")),i){var r=a.id;Fse(a.get("features").populate({timeout:5e3})).then(()=>{if(e.get("user").id!==r)return Promise.reject(new Error("User has changed"));if(!Object(sw.a)(e,Tt.D))return Promise.reject(new Error("User missing feature access"));var i=a.get("authToken");(c6t=new u6t({accessToken:i,pubsub:new s6t})).addListener("rooms",e=>{t.dispatch(qse({rooms:e}))}),t.dispatch(Kse())}).catch(e=>{O.a.warn("[Watch Together] cannot start",e)})}})}getRoomsClient(){return c6t}},h6t={[q3t.c]:"fullScreenVideo",[q3t.a]:"fullScreenMusic",[q3t.b]:"fullScreenPhoto"};function m6t(e,t){var a=e.get("connections").filter(e=>e.get("isConnected")&&!e.get("isLoopback")),i=a.length?a.reduce(Ga):null;if(i)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:i.get("scheme"),address:i.getAddressFromUri(),port:i.get("port")}}function v6t(e,t,a){var i,{getPlayerModels:r,getVolume:n}=a,s=!1,o=!1;function l(t={}){if(i)o=!0;else if(o=!1,!r(e).some(e=>e.get("isPlayQueueLoading"))){var a=c(q3t.c),n=c(q3t.a),s=c(q3t.b),l={MediaContainer:{_location:a._location||s._location||n._location||"navigation",Timeline:[a,n,s]}};t.requestDisconnect&&(l.MediaContainer._disconnected=1),Object(O.a)(l),Object(ie.c)("companionProxy").publish(l),i=window.setTimeout(d,1e3)}}function c(t){var a={_type:t,_state:"stopped",_volume:n(e),_autoPlay:Object(ie.c)("settingFinder").find("autoPlay")?1:0,_subtitleColor:Object(ie.c)("settingFinder").find("subtitleColor"),_subtitlePosition:Object(ie.c)("settingFinder").find("subtitlePosition"),_subtitleSize:Object(ie.c)("settingFinder").find("subtitleSize"),_controllable:Object(ie.c)("companionPlayerProfile")[t]},i=function(t){var a=q3t.e(t);return r(e).find(e=>{var t=e.get("playQueue");if(t&&t.get("type")===a)return e})}(t);if(!i)return a;var s=i.get("serverEntityID"),o=i.get("providerEntityID"),l=Object(Ta.m)(e,{serverEntityID:s}),c=Object(Ta.j)(e,{providerEntityID:o}),d=m6t(l);c&&jt.k(c.get("identifier"),jt.b)&&(a._controllable=Object(ie.c)("companionPlayerProfile").videoCloudLiveTV);var u=i.get("decisions"),p=i.get("playQueue"),h=p.get("playQueueItems"),m=p.get("playQueueSelectedItemID"),v=h.get(m),g=v.get("metadataItem"),y=Object(ine.a)({metadataItemModel:g}),f=q3t.d(y),b=1e3*i.get("positionSeconds"),I=1e3*i.get("durationSeconds"),S=t5t.b;return i.get("repeatOne")?S=t5t.c:i.get("repeatAll")&&(S=t5t.a),d?(a._machineIdentifier=d.machineIdentifier,a._protocol=d.protocol,a._address=d.address,a._port=d.port):a._machineIdentifier=l.get("originalMachineIdentifier")||l.get("machineIdentifier"),a._providerIdentifier=c.get("identifier"),a._itemType=f,a._key=g.get("key"),a._ratingKey=g.get("ratingKey"),a._containerKey=D.a.result(p,"url"),p.get("isLocal")||(a._playQueueID=p.get("playQueueID"),a._playQueueItemID=m,a._playQueueVersion=p.get("playQueueVersion")),a._state=Object(B3t.a)(i),a._time=b,a._duration=I,a._seekRange="0-"+I,a._shuffle=p.get("playQueueShuffled")?1:0,a._repeat=S,i.get("openState")===J8.a&&(a._location=function(e){return h6t[e]}(t)),Object.assign({},a,function(e,t){var a=e.get("metadataItem"),i=t[e.entityID()];if(!i)return{};var r={_mediaIndex:i.mediaIndex,_partIndex:i.partIndex,_partCount:i.partCount},n=a.get("Media")[i.mediaIndex],s=n&&n.Part,o=s&&s[i.partIndex];return(o?o.Stream:[]).reduce((e,{id:t,streamType:a,selected:i})=>t?(a===kM.a.get("video").id?e._videoStreamID=t:i&&(a===kM.a.get("audio").id?e._audioStreamID=t:a===kM.a.get("subtitles").id&&(e._subtitleStreamID=t)),e):e,r)}(v,u))}function d(){i=null,o&&l()}function u(){l()}return{start:function(){s||(s=!0,(Object(ie.a)("remoteCastPlayerManager")||Object(ie.a)("remotePlexPlayerManager"))&&t.dispatch(h9()),r(e).forEach(e=>{e.on("change",u)}))},stop:function(t){s=!1,i&&(window.clearTimeout(i),i=null),r(e).forEach(e=>{e.off("change",u)}),t&&l({requestDisconnect:t})}}}var g6t=a("GYaK"),y6t=a("pSG4");function f6t(e,t){var a=m6t(e);return a?(a.transcoderVideo=e.get("transcoderVideo")||!1,a.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,a.transcoderAudio=e.get("transcoderAudio")||!1,a.version=e.get("shortVersion"),a.myPlexSubscription=e.get("myPlexSubscription"),a.isVerifiedHostname="https"===a.protocol&&!ce(a.address),function(e,t={}){var a=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(a)?T.a.Deferred().resolve(a).promise():T.a.ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then(e=>Object(y6t.a)(e).token||T.a.Deferred().reject().promise())}(e).then(e=>(a.accessToken=e,a))):T.a.Deferred().reject().promise()}function b6t(e,t){var a,i,r,n,s,o=t.dispatch,l=0,c=0,d=!1,u={},p={};function h(e,t={},i={}){if(!a)return T.a.Deferred().reject().promise();var r=_.join([a.baseURL,e],Object.assign({},t,{commandID:l})),n=a.server.getXHROptions(r,Object.assign({},i,{scope:"remoteCastPlayerManager",headers:{"X-Plex-Target-Client-Identifier":a.get("machineIdentifier")}}));return T.a.ajax(n)}function m(e){var{type:t,state:a,providerIdentifier:i,machineIdentifier:r,containerKey:n,key:s}=e,l=e.playQueueItemID||e.playQueueItemId,c=q3t.e(t),d=Object(Rs.a)(e.continuing);if("stopped"===a&&!d)return u[t]=null,p[t]=null,void o(p9({playQueueType:c}));var h=Object(zs.a)(e.playQueueVersion),m=Object(zs.a)(e.time),v=Object(zs.a)(e.duration),g=Object(zs.a)(e.mediaIndex),y=Object(zs.a)(e.partIndex),f=e.audioStreamID?Object(zs.a)(e.audioStreamID):null,b=e.subtitleStreamID?Object(zs.a)(e.subtitleStreamID):null,I=Object(zs.a)(e.volume),S=Object(zs.a)(e.repeat),M=(e.controllable||"").split(","),C={positionSeconds:Math.floor(m/1e3),durationSeconds:Math.floor(v/1e3),mediaIndex:g,partIndex:y,isPaused:"paused"===a,isBuffering:"buffering"===a,hasError:"error"===a,controllable:M.reduce((e,t)=>(e[t]=!0,e),{})},D=u[t],P=p[t],O=l!==D||h!==P;u[t]=l,p[t]=h,o(a9({playQueueType:c,options:{providerIdentifier:i,machineIdentifier:r,containerKey:n,key:s,playQueueItemID:l,shouldRefreshPlayQueue:O,initialState:C}})),o(i9({playQueueType:c,playerState:C,providerIdentifier:i,machineIdentifier:r})),function(e){var t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=Object(zs.a)(e.subtitleSize,10)),o(o9(t))}(e),o(r9({playQueueType:c,playQueueVersion:h,repeatAll:S===t5t.a||S===t5t.c,repeatOne:S===t5t.c})),o(s9({playQueueType:c,key:s,mediaIndex:g,partIndex:y,audioStreamID:f,subtitleStreamID:b})),null!=e.volume&&o(l9(I))}function v(){i=null,null!=r&&(f(r),r=null)}function g(){n=null,null!=s&&(b(s),s=null)}function y(e,t){return a?(l++,h(e,t)):(O.a.warn("[Companion] Command for "+e+" ignored; no current player"),T.a.Deferred().reject().promise())}function f(e){i?(window.clearTimeout(i),r=e):y("/player/playback/seekTo",e),i=window.setTimeout(v,200)}function b(e){n?(window.clearTimeout(n),s=e):y("/player/playback/setParameters",e),n=window.setTimeout(g,200)}return{requestSession:function(t){(a=vx(e,{playerIdentifier:t}))?(o(t9(t)),l=0,c=0,function e(t={}){a&&h("/player/timeline/poll",t,{timeout:2e4}).done((i,r,n)=>{c=0;var s=Object(y6t.a)(i);if(Object(Rs.a)(s.disconnected)&&t.wait)o(h9());else{var u=a.get("machineIdentifier"),p=n.getResponseHeader("X-Plex-Client-Identifier"),h=Object(zs.a)(s.commandID),v=u===p||a.baseURL;if(!d&&v&&h>=l){var g=Object(g6t.a)(s.Timeline),y=D.a.findWhere(g,{type:"video"}),f=D.a.findWhere(g,{type:"music"}),b=D.a.findWhere(g,{type:"photo"});!y||f&&f.state&&"stopped"!==f.state?f&&m(f):m(y),b&&m(b),l=h}e({wait:1})}}).fail((a,i)=>{a&&a.aborting||("error"===i?(c++,t.wait&&c<=3?(O.a.warn("[Companion] Poll request failed; retrying..."),e({wait:1})):(O.a.warn("[Companion] Poll request failed 3 times in a row; giving up"),o(h9()))):e({wait:1}))})}()):O.a.warn('[Companion] Request session ignored; no player with identifier "'+t+'"')},endSession:function(){a?(i&&(window.clearTimeout(i),i=null),n&&(window.clearTimeout(n),n=null),Z.a.abortAll("remoteCastPlayerManager"),h("/player/timeline/unsubscribe"),a=null,r=null,s=null,u={},p={}):O.a.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(a){var t=e.get("playQueue"),i=t.get("type"),r=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),n=t.server,s=t.provider;if("speaker"!==a.get("deviceClass")||t.get("type")===X8.a){var l=1e3*e.get("positionSeconds")||Math.floor(Object(che.a)(e,r));d=!0,f6t(n).done(e=>{var a=e.machineIdentifier,n=s.get("identifier"),c={type:q3t.d(t.get("type")),providerIdentifier:n,containerKey:_.join([D.a.result(t,"url")],{own:1}),key:r.get("key"),offset:l,machineIdentifier:a,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};Object(O.a)("[Companion] Sending play media request"),y("/player/playback/playMedia",c).done(()=>{d=!1,Object(O.a)("[Companion] Play media success"),o(i9({playQueueType:i,playerState:{isMediaLoading:!1},providerIdentifier:n,machineIdentifier:a}))}).fail(e=>{d=!1,O.a.warn('[Companion] Failed to play media with error "'+e.status+'"'),o(c9({playQueueType:i}))})}).fail(()=>{d=!1,o(c9({playQueueType:i,errorMessage:Object(Ze.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:n.get("friendlyName")})}))})}else o(c9({playQueueType:i,errorMessage:Object(Ze.default)("The connected player only supports audio playback.")}))}else O.a.warn("[Companion] Start playback ignored; no current player")},mirrorDetails:function(e){if(a){var t=a.get("protocolCapabilities");if(t&&-1!==t.indexOf("mirror")){var i=e.server,r=e.provider;f6t(i).done(t=>{h("/player/mirror/details",{key:e.get("key"),providerIdentifier:r.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})})}else O.a.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability")}else O.a.warn("[Companion] Mirror details ignored; no current player")},sendCommand:y,seek:f,changeVolume:b}}var I6t=I.c.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),S6t=new(I.c.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",Td.a)},toJSON:function(){var e=this.parent,t=e.get("primaryServer"),a=e.get("user");return this.set("version","4.47.3"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",a.get("username")),this.set("cloudUrl",a.server.get("connections")),I.c.Model.prototype.toJSON.apply(this,arguments)}})),M6t=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?[-\w]+"?)/g,C6t=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,D6t=/("?(address|host|uri)"?[:=].*?)(".*")/g;function P6t(e){if(e)return e.replace(M6t,'$1"TOKEN"').replace(C6t,'$1"EMAIL"').replace(D6t,'$1"IP ADDRESS"')}var O6t=/(password=)([^&]+)/;function j6t(e){return e.replace(M6t,"$1TOKEN").replace(O6t,"$1PASSWORD")}var T6t=I.c.Collection.extend({model:I6t,initialize:function(e,t){D.a.bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,S6t.parent=t.parent,Object(ie.d)("appModel").done(this.onAppModelRegistered)},reconfigure(){Object(ie.c)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(H.a,"log:message",this.onLogMessage),I.c.history.on("route",this.onRoute,this),T()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(H.a),I.c.history.off("route",this.onRoute,this),T()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>200&&this.shift(),I.c.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=I.c.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(D.a.extend({type:"info"},S6t.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){var t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,a){var i={type:"navigation",route:t,args:a,fragment:window.location.hash};this.add(i)},onAjaxComplete:function(e,t,a){var i,r=Object(ie.c)("appModel").get("deviceSettings").get("debugLevel"),n={type:"ajax",url:j6t(a.url),status:t.status};D.a.isEmpty(a.headers)||(n.headers=((i=a.headers)&&i.hasOwnProperty("X-Plex-Token")&&(i["X-Plex-Token"]="TOKEN"),i&&i.hasOwnProperty("Authorization")&&(i.Authorization="BASIC AUTHORIZATION"),i)),D.a.isEmpty(a.data)||(n.params=j6t(a.data)),200===t.status?2===r?n.response=P6t(t.responseText):n.responseLength=t.responseText?t.responseText.length:0:(n.statusText=t.statusText,n.response=P6t(t.responseText)),this.add(n)}}),w6t=Object(_u.a)(Nv.a,e=>e.remoteQuality),E6t=Object(_u.a)(lk,e=>e.restorePlayQueue),N6t=Object(_u.a)(Nv.a,e=>({color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize})),x6t={CREATED:0,PROGRESS:1,MATCHING:2,DOWNLOADING_METADATA:3,LOADING_METADATA:4,PROCESSED:5,DELETED:9},A6t=D.a.reduce(dt.a,(e,t)=>(e[t]="Metadata",e),{});var L6t=function e(t){if(!t||!t._children)return t;var a=D.a.clone(t),i=a._children;return Array.isArray(i)&&(i.forEach(t=>{var i=t._elementType;if(t._elementType=null,t.elementName=i,i){var r=A6t[i]||i,n=a[r],s=e(t);n?Array.isArray(n)?n.push(s):a[r]=[n,s]:a[r]=s}}),a._children=null),a},k6t=xe.a.extend({context:["server"],url:"/updater/status",sessionAttrs:{isChecking:Ae.a.boolean.isRequired},syncedAttrs:{status:Ae.a.integer,canInstall:Ae.a.boolean,downloadURL:Ae.a.string,state:Ae.a.string,progress:Ae.a.integer,version:Ae.a.string,error:Ae.a.string,added:Ae.a.string,fixed:Ae.a.string},defaults:{state:LX,status:0,progress:0,version:null,error:"",added:null,fixed:null,isChecking:!1},augmentResponse(e){var{Release:t}=e,a=Je()(e,["Release"]);return t&&(e=Object.assign({},a,t)),"0"!==e.status&&(e.state=xX),e}}),R6t={started:La,updated:ka,ended:Ra},z6t={started:Cn.actions.activityStarted,updated:Cn.actions.activityUpdated,ended:Cn.actions.activityFinished},U6t=["account","activity","backgroundGeneratorState","backgroundProcessingQueue","grabber.device","playing","preference","progress","provider.change","provider.content.change","provider.subscription.change","reachability","status","syncState","timeline","transcodeSession.end","transcodeSession.start","transcodeSession.update","update.statechange","versionState"];function V6t(e){var t=ie.c("appStore");t.dispatch(Jme({serverEntityID:e,playerType:I6.a})),jt.k(window.location.hash,jt.c)&&t.dispatch(Object(ji.c)({serverEntityID:e}))}var B6t=zX.extend({initialize(e){zX.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle(e,t,a){var i=this.throttledRepopulates[e];if(i)if(i.hasTimeout);else{var r=Date.now()-i.timestamp;r<a?(window.setTimeout(()=>{this.repopulateNow(e,t)},a-r),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:()=>U6t,preference(e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,ie.c("appStore").dispatch)(dG({serverEntityID:this.server.entityID(),setting:e}))},timeline(e){if(!jt.k(e.identifier,jt.c)){var{state:t,sectionID:a,rootItemID:i,parentItemID:r,itemID:n,metadataState:s,mediaState:o,type:l}=e,c=ie.c("appStore").dispatch,d=this.server.entityID(),u="/library/metadata/"+n,p=r?"/library/metadata/"+r:null,h=i?"/library/metadata/"+i:null,m=Object(pt.a)(ht.g,u,d),v=Object(an.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:u}),g=p?Object(an.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:p}):null,y=h?Object(an.a)({serverIdentifier:this.server.get("machineIdentifier"),providerIdentifier:jt.d,metadataItemKey:h}):null,f=Wt.u(l),b=f&&f.typeString===Wt.a;c(bn.actions.timelineStatesChanged({sourceURI:v,metadataState:s,mediaState:o})),c(_ae({serverEntityID:d,metadataItemEntityID:m,metadataState:s,mediaState:o})),t===x6t.PROCESSED&&(c(yn.actions.metadataProcessed({sourceURI:v})),c(Object(Z8.f)({serverEntityID:d,metadataItemEntityID:m})),b===Wt.a&&c(ize({serverEntityID:d,albumMetadataItemEntityID:m}))),t===x6t.DELETED&&(c(yn.actions.deleted({sourceURI:v,parentSourceURI:g,rootSourceURI:y})),c(Object(Z8.e)({serverEntityID:d,metadataItemEntityID:m}))),t!==x6t.CREATED&&t!==x6t.DELETED||(a>0&&this.repopulateWithThrottle("section-"+a,()=>{c(Object(ji.c)({serverEntityID:d,containerKeyPattern:new RegExp("^"+Sd("/library/sections/"+a)+"\\b")}))},5e3),i>0&&this.repopulateWithThrottle("metadata-"+i,()=>{var e="/library/metadata/"+i,t=Object(pt.a)(ht.g,e,d);c(Object(ji.c)({serverEntityID:d,metadataItemEntityID:t,rootMetadataKey:e}))},5e3),r>0&&this.repopulateWithThrottle("metadata-"+r,()=>{var e="/library/metadata/"+r,t=Object(pt.a)(ht.g,e,d);c(Object(ji.c)({serverEntityID:d,metadataItemEntityID:t,parentMetadataKey:e}))},5e3),b===Wt.m&&c(Object(ji.c)({serverEntityID:d,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),H.a.trigger("timeline",e)}},status(e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){var t=ie.c("appStore").dispatch,a=this.server.entityID();a&&(t(In.actions.libraryScanUpdated({server:w5t(this.server)})),t(Na({serverEntityID:a})),t(Ha({serverEntityID:a})),t(Object(ji.c)({serverEntityID:a})))}},progress(e){this.server.trigger("socket:status",e)},playing(e){if(e.sessionKey&&this.server.get("isFullOwnedServer")){var t=ie.c("appStore").dispatch;e.state===$I.states.STOPPED?(t(wn.actions.sessionStopped({server:w5t(this.server),sessionKey:e.sessionKey})),t(Object(ji.c)({serverEntityID:this.server.entityID()}))):t(wn.actions.sessionChanged({server:w5t(this.server),message:e}))}},syncState(e){var t=new Lj({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});D.a.isEmpty(t)||t.get("Media").forEach(a=>{a.Part.forEach(a=>{a.transcodeState=e.syncFileState,a.transcodeStateContext=e.syncFileStateContext,a.syncState=e.syncState,a.syncStateContext=e.syncStateContext;var i=ot.getSyncStateFromPart(a);ot.waitingRegex.test(i)&&(a.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))})})},backgroundGeneratorState(e){var t={server:this.server,onlyIfCached:!0},a=new ll({id:e.generatorID},t);D.a.isEmpty(a)||a.fetch()},versionState(e){var t={server:this.server,onlyIfCached:!0},a=new ll({id:e.generatorID},t);if(!D.a.isEmpty(a)){var i=a.get("children").getCollection().get(e.metadataItemID);i&&i.set({processingState:e.state,processingStateContext:e.stateContext})}},backgroundProcessingQueue(e){var t=new mm([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!D.a.isEmpty(t)){var a=t.first();a&&a.fetch()}},"transcodeSession.start"(e){var t=ie.c("appStore").dispatch;this.server.get("isShared")||("static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():t(wn.actions.fetchRequested({server:w5t(this.server)})))},"transcodeSession.update"(e){if(!this.server.get("isShared")&&"static"===e.context){var t=this.server.get("desktop").get("backgroundTranscodeJobs"),a=t.get(e.key);a?a.set(a.parse(e)):t.fetch()}},"transcodeSession.end"(e){this.server.get("isShared")||this["transcodeSession.start"].apply(this,arguments)},"update.statechange"(e){var t=this.server.get("desktop").get("update"),a=D.a.pick(e,Object.keys(k6t.prototype.syncedAttrs));D.a.defaults(a,D.a.result(t,"defaults")),t.get("state")===NX&&a.state===TX&&(a.state=NX),t.set(Object.assign({},a,{isChecking:!1}))},reachability(e){this.server.get("desktop").get("cloudAccount").fetch()},account(e){this.server.set("myPlexSubscription",e.hasPlexPass),ie.c("appModel").get("user").get("isSignedIn")&&H.a.trigger("discover:servers")},activity(e){var t=L6t(e),a=ie.c("appStore"),i=this.server.entityID(),r=t.Activity||t;if(r.Context=r.Context||{},r.Response=r.Response||{},i){var n=R6t[t.event],s=z6t[t.event];n&&a.dispatch(n({serverEntityID:i,activity:r})),s&&a.dispatch(s({server:w5t(this.server),activity:r}))}},"grabber.device"(e){var t=ie.c("appStore"),a=this.server.entityID();a&&"appeared"===e.event&&t.dispatch(bG({serverEntityID:a,device:e.Device}))},"provider.content.change"(){V6t(this.server.entityID())},"provider.subscription.change"(){V6t(this.server.entityID())},"provider.change"(){ie.c("appStore").dispatch(Fa({serverEntityID:this.server.entityID()}))}});var F6t=xe.a.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(H.a,"change:entity",this.onEntityChange),xe.a.prototype.constructor.apply(this,arguments)},initialize(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity({type:e,id:t,model:a}){this.get("entities").get(e).add({id:t,model:a},{merge:!0})},onEntityChange(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});function H6t(e){return e.length?D.a.map(e,e=>e.get("debugName")).join(", "):"(none)"}var _6t=ke.a.extend({mixins:[Ct],name:"ServerCollection",model:ai,initialize(){this._resetPopulate()},comparator(e){var t=e.get("isShared"),a=e.get("friendlyName")||"",i=e.get("sourceTitle")||"",r=t?i+a:a;return e.get("isCloud")?"9":(t?"1":"0")+r.toLowerCase()},shouldWaitForInitialServers(){var e=this.filter(e=>(!e.id||!!e.get("resources"))&&e.isPopulating());return!!e.length&&(Object(O.a)("[Servers] Waiting for initial servers =",H6t(e)),!0)},shouldWaitForResources(){var e=this.reduce((e,t)=>{var a=t.get("isResolved"),i=t.get("resources"),r=i&&i.isPopulating();return a&&r&&e.push(t),e},[]);return!!e.length&&(Object(O.a)("[Servers] Waiting for additional resources from",H6t(e)),!0)},shouldWaitForPendingServers(){if(this.findWhere({isConnected:!0}))return!1;var e=this.filter(e=>e.isPopulating());return!!e.length&&(Object(O.a)("[Servers] Waiting for pending servers =",H6t(e)),!0)},waitForServers(){this._resetPopulate()},foundAllServers(){var e=this.where({isConnected:!0}),t=H6t(e);Object(O.a)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer(e=this.models){var t=T.a.Deferred(),a=e.slice(0),i=D.a.find(a,e=>e.get("isCloud")?e.get("isResolved"):e.get("isConnected"));if(i)return Object(O.a)("[Servers] Populate any server chose %s where servers = %s",i.get("debugName"),H6t(a)),t.resolve(i).promise();if(this.hasOnlyRejectedServers(a))return t.reject().promise();function r(e,i){D.a.contains(a,e)&&i&&t.resolve(e)}function n(e,i){D.a.contains(a,e)&&i&&this.hasOnlyRejectedServers(a)&&t.reject()}return this.on({remove:function(e){var i=a.indexOf(e);i>-1&&(a.splice(i,1),this.hasOnlyRejectedServers(a)&&t.reject())},"change:isResolved":r,"change:isRejected":n},this),t.always(()=>{this.off("change:isResolved",r,this),this.off("change:isRejected",n,this)}),t.promise()},populateServer(e){return this.findServer(e,!0).then(e=>e.get("isConnected")&&!e.get("isCloud")?T.a.Deferred().resolve(e):e.populate())},findServer(e,t){var a=D.a.isString(e),i=a?{machineIdentifier:e}:e,r=T.a.Deferred();if(a){var n=this.get(i.machineIdentifier);if(n&&n.get("isResolved"))return window.setTimeout(r.resolve.bind(r,n),0),r.promise()}var s,o=D.a.has(i,"machineIdentifier"),l="add "+D.a.map(D.a.keys(i),e=>"change:"+e).join(" ");function c(){var e=this.filterServers(i,t);e?(s=e,e.done(t=>{s===e&&r.resolve(t)}),e.fail(()=>{s===e&&(o||!this.isPopulating()?r.reject():this.populate().always(c.bind(this)))})):this.isPopulating()||r.reject()}return c.call(this),this.on(l,c,this),this.populate().always(()=>{s||r.reject()}),r.always(()=>{this.off(l,c,this)}),r.promise()},filterServers(e,t){var a=this.where(e);if(a.length)return t?this.populateAnyServer(a):T.a.Deferred().resolve(a[0]).promise()},hasOnlyRejectedServers(e=this.models){return D.a.every(e,e=>e.get("isRejected"))},hasLoopbackServer(e=this.models){return!!D.a.find(e,e=>{var t=e.get("activeConnection");return!!t&&t.get("isLoopback")})}}),Q6t=xe.a.extend({name:"EntityModel",sessionAttrs:{id:Ae.a.string.isRequired},sessionRelations:{model:{relationClass:xe.a,deferred:!0}},toState(){var e=this.get("model"),t=Object.assign({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),W6t=ke.a.extend({name:"EntityCollection",model:Q6t,toState(){var e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:(e,t)=>(e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e)});var G6t=xe.a.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:Ae.a.string,metadataItemEntityID:Ae.a.string,isSubtitlesPending:Ae.a.boolean,isSubtitlesPopulated:Ae.a.boolean,subtitlesError:Ae.a.string,subtitlesDownloadActivityID:Ae.a.string,subtitlesDownloadKey:Ae.a.string,subtitlesDownloadStartTime:Ae.a.integer,isSubtitlesDownloaded:Ae.a.boolean,subtitlesDownloadError:Ae.a.string},sessionRelations:{subtitles:{relationClass:yze,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}}),Y6t=xe.a.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:Ae.a.boolean.isRequired,isIntegrationsPending:Ae.a.boolean.isRequired,isIntegrationsPopulated:Ae.a.boolean.isRequired,integrationsError:Ae.a.object},sessionRelations:{integrations:{relationClass:dEt,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),K6t=xe.a.extend({name:"AdvertisingNoticeModalModel",sessionAttrs:{isSaving:Ae.a.boolean,isSaved:Ae.a.boolean},defaults:{isSaving:!1,isSaved:!1}}),q6t=ke.a.extend({name:"AutoHubsCollection",modelId:e=>Object(Kc.a)(e.machineIdentifier,e.providerIdentifier),model:rw}),Z6t=xe.a.extend({name:"AutoHomePageModel",sessionAttrs:{isHubsPopulated:Ae.a.boolean.isRequired},sessionRelations:{hubs:{relationClass:q6t}},defaults:{isHubsPopulated:!1}}),X6t=xe.a.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,containerKey:Ae.a.string,directoryKey:Ae.a.string,startTime:Ae.a.integer,visibleColumns:Ae.a.integer,columnTimes:Ae.a.array,columnWidth:Ae.a.float,viewportWidth:Ae.a.integer,viewportHeight:Ae.a.integer,airedProgress:Ae.a.float,isChannelsListPending:Ae.a.boolean,isChannelsListPopulated:Ae.a.boolean,channelsListError:Ae.a.object},sessionRelations:{metadataList:{relationClass:ebe,deferred:!0},channelsList:{relationClass:abe,deferred:!0}},defaults:()=>({startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null})}),J6t=xe.a.extend({name:"HomeHubStatusModel",idAttribute:"homeHubID",sessionAttrs:{error:Ae.a.object,homeHubID:Ae.a.string.isRequired,isPending:Ae.a.boolean.isRequired,isPopulated:Ae.a.boolean.isRequired,provider:Ae.a.string,server:Ae.a.string},sessionRelations:{hub:{relationClass:pMt.a,deferred:!0}},defaults:()=>({error:null,isPending:!0,isPopulated:!1})}),$6t=ke.a.extend({name:"HomeHubStatusCollection",model:J6t}),e8t=xe.a.extend({name:"HomePageModel",sessionAttrs:{isContentPending:Ae.a.boolean.isRequired,isContentPopulated:Ae.a.boolean.isRequired,contentError:Ae.a.object,isPreferredServerContentPending:Ae.a.boolean.isRequired,isPreferredServerContentPopulated:Ae.a.boolean.isRequired,preferredServerContentError:Ae.a.object,isProviderPromotedContentPending:Ae.a.boolean.isRequired,isProviderPromotedContentPopulated:Ae.a.boolean.isRequired,providerPromotedContentError:Ae.a.object},sessionRelations:{homeHubStatuses:{relationClass:$6t}},defaults:()=>({isContentPending:!0,isContentPopulated:!1,contentError:null,isPreferredServerContentPending:!0,isPreferredServerContentPopulated:!1,preferredServerContentError:null,isProviderPromotedContentPending:!0,isProviderPromotedContentPopulated:!1,providerPromotedContentError:null})}),t8t=xe.a.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:Ae.a.boolean,isMediaSubscriptionPopulated:Ae.a.boolean,mediaSubscriptionError:Ae.a.string,isMediaSubscriptionSaving:Ae.a.boolean,mediaSubscriptionSaveError:Ae.a.string,isMediaSubscriptionMoving:Ae.a.boolean,mediaSubscriptionMoveError:Ae.a.string,isMediaSubscriptionDeleting:Ae.a.boolean,mediaSubscriptionDeleteError:Ae.a.string},sessionRelations:{templates:{relationClass:HDe,deferred:!0},mediaSubscription:{relationClass:FDe,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}}),a8t=Pe(),i8t=xe.a.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,playbackSessionID:Ae.a.string,syncplaySessionRoomID:Ae.a.string,isOpen:Ae.a.boolean,previousOpenState:Ae.a.oneOf(J8.a,J8.b),openState:Ae.a.oneOf(J8.a,J8.b),isPlayQueueVisible:Ae.a.boolean,isAlsoAiringVisible:Ae.a.boolean,isLyricsVisible:Ae.a.boolean,isPostPlayVisible:Ae.a.boolean,isSettingsVisible:Ae.a.boolean,isChaptersVisible:Ae.a.boolean,isSubtitlesOffsetSettingsVisible:Ae.a.boolean,isWatchTogetherLobbyVisible:Ae.a.boolean,isWatchTogetherParticipantsVisible:Ae.a.boolean,confirmPlayerUpsellPayload:Ae.a.object,confirmPlaybackPayload:Ae.a.object,confirmOffsetPayload:Ae.a.object,confirmRemoteToLocal:Ae.a.boolean,confirmLocalToRemote:Ae.a.oneOf(1,3,2).isRequired,decisions:Ae.a.object.isRequired,currentDecision:Ae.a.object,startMetadataItemEntityID:Ae.a.string,startOffsetMilliseconds:Ae.a.integer,startMediaIndex:Ae.a.integer,positionSeconds:Ae.a.integer,nextPositionSeconds:Ae.a.integer,lastSeekPositionSeconds:Ae.a.integer,durationSeconds:Ae.a.integer,seekStartSeconds:Ae.a.integer,seekEndSeconds:Ae.a.integer,bandwidthTimeline:Ae.a.object,lastInteractedAt:Ae.a.integer,itemPlaybackTime:Ae.a.integer,sessionPlaybackTime:Ae.a.integer,playbackSpeed:Ae.a.float,isPlayQueueLoading:Ae.a.boolean.isRequired,isMediaLoading:Ae.a.boolean.isRequired,isPostPlayLoading:Ae.a.boolean.isRequired,isPaused:Ae.a.boolean.isRequired,isBuffering:Ae.a.boolean.isRequired,repeatAll:Ae.a.boolean.isRequired,repeatOne:Ae.a.boolean.isRequired,mediaIndex:Ae.a.integer,partIndex:Ae.a.integer,qualityIndex:Ae.a.integer,availableQualities:Ae.a.array.isRequired,controllable:Ae.a.object,metricsPage:Ae.a.string,metricsContextTuple:Ae.a.array,metricsSetting:Ae.a.string,metricsAutoPlay:Ae.a.boolean,metricsPlayer:Ae.a.oneOf(...eme.a),hasError:Ae.a.boolean.isRequired,errorMessage:Ae.a.string,errorCode:Ae.a.string,errorCategory:Ae.a.string,playbackStartTime:Ae.a.integer,hasConflicts:Ae.a.boolean.isRequired,isConflictCancelling:Ae.a.boolean,cancelConflictError:Ae.a.object,confirmLiveTVPlayback:Ae.a.boolean.isRequired,adState:Ae.a.string,adPositionSeconds:Ae.a.integer,adDurationSeconds:Ae.a.integer,adDisplayIndex:Ae.a.integer,adDisplayTotal:Ae.a.integer,adTimeOffsetSeconds:Ae.a.oneOfType(Ae.a.integer,Ae.a.float),advertisingNoticePayload:Ae.a.object,bufferedRanges:Ae.a.array,canPlayThrough:Ae.a.boolean,mediaWidth:Ae.a.integer,mediaHeight:Ae.a.integer},derivedAttrs:{isWatchTogether(){return!!this.get("syncplaySessionRoomID")}},sessionRelations:{playQueue:{relationClass:xe.a,deferred:!0},relatedHubs:{relationClass:iw.default,deferred:!0},liveTVSession:{relationClass:_8,deferred:!0}},defaults:()=>({playbackSessionID:a8t,playbackSpeed:1,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,isWatchTogetherLobbyVisible:!1,isWatchTogetherParticipantsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,itemPlaybackTime:0,sessionPlaybackTime:0,isPlayQueueLoading:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adDisplayIndex:null,adDisplayTotal:null,adTimeOffsetSeconds:null,advertisingNoticePayload:null,bufferedRanges:[],canPlayThrough:!1,mediaWidth:null,mediaHeight:null})}),r8t=xe.a.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:Ae.a.boolean,updateError:Ae.a.object},defaults:{isUpdatePending:!1,updateError:null}}),n8t=xe.a.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:Ae.a.boolean,isMediaSubscriptionsPending:Ae.a.boolean,isMediaSubscriptionsPopulated:Ae.a.boolean,mediaSubscriptionsError:Ae.a.object,isCalendarPending:Ae.a.boolean,isCalendarPopulated:Ae.a.boolean,calendarError:Ae.a.object,mediaSubscriptionMoveError:Ae.a.string},sessionRelations:{mediaSubscriptions:{relationClass:vyt,deferred:!0},calendar:{relationClass:hyt,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}}),s8t=ke.a.extend({name:"SearchCollection",context:["server","provider"],model:q7}),o8t=xe.a.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:s8t}}}),l8t=xe.a.extend({name:"WatchTogetherRoomUserModel",syncedAttrs:{id:Ae.a.integer.isRequired,subscription:Ae.a.boolean.isRequired,thumb:Ae.a.string.isRequired,title:Ae.a.string.isRequired,uuid:Ae.a.string.isRequired}}),c8t=ke.a.extend({name:"WatchTogetherRoomUserCollection",model:l8t}),d8t=xe.a.extend({name:"WatchTogetherRoomModel",entityType:ht.q,entityID(e=this.state){return Object(pt.a)(this.entityType,e.id)},mergeStrategy:Dt.a,sessionAttrs:{isMetadataItemPending:Ae.a.boolean,isMetadataItemPopulated:Ae.a.boolean,metadataItemError:Ae.a.string},syncedAttrs:{id:Ae.a.string.isRequired,title:Ae.a.string.isRequired,sourceUri:Ae.a.string.isRequired,startsAt:Ae.a.integer.isRequired,endsAt:Ae.a.integer.isRequired,updatedAt:Ae.a.integer.isRequired,syncplayHost:Ae.a.string.isRequired,syncplayPort:Ae.a.integer.isRequired},syncedRelations:{metadataItem:{relationClass:ut.a,deferred:!0},users:{relationClass:c8t}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null}}),u8t=ke.a.extend({name:"WatchTogetherRoomCollection",model:d8t}),p8t=xe.a.extend({name:"WatchTogetherModel",sessionAttrs:{isRoomsPending:Ae.a.boolean,isRoomsPopulated:Ae.a.boolean,roomsError:Ae.a.string,isInvitePending:Ae.a.boolean,isInviteCompleted:Ae.a.boolean,inviteError:Ae.a.string,sessionError:Ae.a.string},sessionRelations:{session:{relationClass:yse,deferred:!0},rooms:{relationClass:u8t}},defaults:()=>({isRoomsPending:!0,isRoomsPopulated:!1,roomsError:void 0,isInvitePending:!1,isInviteCompleted:!1,inviteError:void 0,sessionError:void 0})}),h8t=xe.a.extend({name:"MultiSelectItemModel",sessionAttrs:{id:Ae.a.any.isRequired,type:Ae.a.string.isRequired},sessionRelations:{model:{relationClass:xe.a,deferred:!0}}}),m8t=ke.a.extend({name:"MultiSelectItemCollection",model:h8t}),v8t=xe.a.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:Ae.a.object},sessionRelations:{activeSelectionItems:{relationClass:m8t}},derivedAttrs:{activeSelectionType(){var e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange(){this.set("activeSelectionRange",null)},onCollectionReset(e,t){var a=this.get("activeSelectionItems"),i=t.previousModels;D.a.each(i,t=>{e.contains(t)||a.remove(t.id)})},onCollectionRemove(e){this.get("activeSelectionItems").remove(e.id)}}),g8t=xe.a.extend({name:"AddToPlaylistMenuModel",sessionAttrs:{uri:Ae.a.string},sessionRelations:{recentPlaylists:{relationClass:Qi.default,deferred:!0}}}),y8t=a("kXc8"),f8t=xe.a.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:Ae.a.string,containerKey:Ae.a.string,type:Ae.a.string,title:Ae.a.string,uri:Ae.a.string,smart:Ae.a.boolean,readOnly:Ae.a.boolean,isUpdating:Ae.a.boolean,error:Ae.a.object},sessionRelations:{server:{relationClass:ai,deferred:!0},provider:{relationClass:Sa,deferred:!0},metadataItem:{relationClass:ut.a,deferred:!0},metadataList:{relationClass:Qi.default,deferred:!0},multiSelect:{relationClass:v8t,deferred:!0},playQueue:{relationClass:y8t.a,deferred:!0},playlists:{relationClass:Qi.default,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}}),b8t=xe.a.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:Ae.a.boolean,isUploaded:Ae.a.boolean,error:Ae.a.string},defaults:{isUploading:!1,isUploaded:!1,error:null}}),I8t=xe.a.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:Ae.a.array.isRequired,unfilteredLogLinesCount:Ae.a.integer.isRequired,filter:Ae.a.string.isRequired,logLevels:Ae.a.array.isRequired,highlightedLineIndex:Ae.a.integer,timeFilterStart:Ae.a.string.isRequired,timeFilterEnd:Ae.a.string.isRequired,isTimeFilterStartValid:Ae.a.boolean.isRequired,isTimeFilterEndValid:Ae.a.boolean.isRequired,showTimeFilter:Ae.a.boolean.isRequired,showRawText:Ae.a.boolean.isRequired},defaults:()=>({logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1})}),S8t=xe.a.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:Ae.a.boolean.isRequired,updateUserProfileError:Ae.a.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}}),M8t=xe.a.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:Ae.a.boolean.isRequired,error:Ae.a.object},defaults:{isUpdating:!1,error:null}}),C8t=xe.a.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:Ae.a.string,pinID:Ae.a.integer,pinIDInitial:Ae.a.integer,pinTimeout:Ae.a.integer,authToken:Ae.a.string,isBusy:Ae.a.boolean.isRequired,errorMessage:Ae.a.string,fatalErrorMessage:Ae.a.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),D8t=xe.a.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:Ae.a.string,themeMusicUrl:Ae.a.string,allowLightPreset:Ae.a.boolean,allowBlur:Ae.a.boolean,isBackgroundPending:Ae.a.boolean},sessionRelations:{server:{relationClass:ai,deferred:!0},provider:{relationClass:Sa,deferred:!0}},defaults:{allowLightPreset:!1,allowBlur:!0,isBackgroundPending:!1}}),P8t=xe.a.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:Ae.a.boolean,isDvrsPopulated:Ae.a.boolean,dvrsError:Ae.a.object,isUIPopulated:Ae.a.boolean},sessionRelations:{dvrs:{relationClass:Mk,deferred:!0},dvrSetup:{relationClass:Gk,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),O8t=xe.a.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:Ae.a.string,hubKey:Ae.a.string,isHubsPending:Ae.a.boolean.isRequired,isHubsPopulated:Ae.a.boolean.isRequired,hubsError:Ae.a.object,hubsTitle:Ae.a.string,isPromotedHubsPending:Ae.a.boolean.isRequired,isPromotedHubsPopulated:Ae.a.boolean.isRequired,promotedHubsError:Ae.a.object,knownPromotedHubCloudProviderIDs:Ae.a.array.isRequired},sessionRelations:{hubs:{relationClass:iw.default,deferred:!0},promotedHubs:{relationClass:iw.default,deferred:!0}},defaults:()=>({isHubsPending:!0,isHubsPopulated:!1,hubsError:null,hubsTitle:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]})}),j8t=xe.a.extend({name:"LibraryPageModel",sessionAttrs:{providerEntityID:Ae.a.string,libraryKey:Ae.a.string,directoryKey:Ae.a.string,containerKey:Ae.a.string,isDetailsPending:Ae.a.boolean.isRequired,isDetailsPopulated:Ae.a.boolean.isRequired,detailsError:Ae.a.object,isFirstCharactersPending:Ae.a.boolean.isRequired,isFirstCharactersPopulated:Ae.a.boolean.isRequired,firstCharactersError:Ae.a.object,selectedFilterKey:Ae.a.string,filterOptionQuery:Ae.a.string,isSelectedFilterOptionsPending:Ae.a.boolean.isRequired,isSelectedFilterOptionsPopulated:Ae.a.boolean.isRequired,selectedFilterOptionsError:Ae.a.object,isQueryParsePending:Ae.a.boolean.isRequired,isQueryParsePopulated:Ae.a.boolean.isRequired,queryParseError:Ae.a.object,isUpdatePlaylistPending:Ae.a.boolean.isRequired,updatePlaylistError:Ae.a.object,typeKey:Ae.a.string},sessionRelations:{metadataList:{relationClass:Qi.default,deferred:!0},details:{relationClass:Aw,deferred:!0},firstCharacters:{relationClass:rCt.a,deferred:!0},selectedFilterOptions:{relationClass:iCt.a,deferred:!0},queryParse:{relationClass:lCt,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isFirstCharactersPending:!0,isFirstCharactersPopulated:!1,firstCharactersError:null,selectedFilterKey:null,filterOptionQuery:"",isSelectedFilterOptionsPending:!0,isSelectedFilterOptionsPopulated:!1,selectedFilterOptionsError:null,isQueryParsePending:!0,isQueryParsePopulated:!1,queryParseError:null,isUpdatePlaylistPending:!1,updatePlaylistError:null}}),T8t=xe.a.extend({name:"MetadataListPageModel",sessionAttrs:{providerEntityID:Ae.a.string,listKey:Ae.a.string},sessionRelations:{metadataList:{relationClass:Qi.default,deferred:!0}}}),w8t=xe.a.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:Ae.a.object,isOptOutStatusesPending:Ae.a.boolean,optOutStatusesError:Ae.a.object,isAvailableProvidersPending:Ae.a.boolean,isAvailableProvidersPopulated:Ae.a.boolean,availableProvidersError:Ae.a.object,isUpdatePending:Ae.a.boolean,updateError:Ae.a.object},sessionRelations:{availableProviders:{relationClass:jXt,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}}),E8t=xe.a.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,metadataKey:Ae.a.string,isPlaylistPending:Ae.a.boolean.isRequired,isPlaylistPopulated:Ae.a.boolean.isRequired,playlistError:Ae.a.object,isPlaylistItemListPending:Ae.a.boolean.isRequired,isPlaylistItemListPopulated:Ae.a.boolean.isRequired,playlistItemListError:Ae.a.object},sessionRelations:{playlist:{relationClass:ut.a,deferred:!0},playlistItemList:{relationClass:gt,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}}),N8t=xe.a.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:Ae.a.string,libraryKey:Ae.a.string,containerKey:Ae.a.string,isLibraryDetailsPending:Ae.a.boolean.isRequired,isLibraryDetailsPopulated:Ae.a.boolean.isRequired,libraryDetailsError:Ae.a.object,isSortsPending:Ae.a.boolean.isRequired,isSortsPopulated:Ae.a.boolean.isRequired,sortsError:Ae.a.object},sessionRelations:{libraryDetails:{relationClass:Aw,deferred:!0},playlists:{relationClass:Qi.default,deferred:!0},sorts:{relationClass:rt.a,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}}),x8t=xe.a.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:Ae.a.string,metadataKey:Ae.a.string,descendantKey:Ae.a.string,siblingKey:Ae.a.string,isMetadataItemPending:Ae.a.boolean.isRequired,isMetadataItemPopulated:Ae.a.boolean.isRequired,metadataItemError:Ae.a.object,isRelatedHubsPending:Ae.a.boolean.isRequired,isRelatedHubsPopulated:Ae.a.boolean.isRequired,relatedHubsError:Ae.a.object,isAugmentedHubsPending:Ae.a.boolean.isRequired,isAugmentedHubsPopulated:Ae.a.boolean.isRequired,augmentedHubsError:Ae.a.object,isFileUnavailable:Ae.a.boolean,decisionMediaItem:Ae.a.object},sessionRelations:{metadataItem:{relationClass:ut.a,deferred:!0},descendantList:{relationClass:Qi.default,deferred:!0},siblingList:{relationClass:Qi.default,deferred:!0},relatedHubs:{relationClass:iw.default,deferred:!0},augmentedHubs:{relationClass:iw.default,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}}),A8t=xe.a.extend({name:"QuickSearchModel",sessionAttrs:{query:Ae.a.string,serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,providerIdentifier:Ae.a.string,directoryID:Ae.a.string,selectedResultEntityID:Ae.a.string},sessionRelations:{searches:{relationClass:s8t}},defaults:{query:"",selectedResultEntityID:null}}),L8t=xe.a.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Ae.a.string,title:Ae.a.string,size:Ae.a.integer,avgAR:Ae.a.float,startsAt:Ae.a.integer,endsAt:Ae.a.integer}}),k8t=ke.a.extend({name:"MomentCollection",context:["server","provider"],model:L8t}),R8t=xe.a.extend({name:"MomentListModel",context:["server","provider"],url(){return this.get("momentKey")},sessionAttrs:{momentKey:Ae.a.string},syncedAttrs:{key:Ae.a.string},syncedRelations:{moments:{relationClass:k8t,rootPropertyName:"Directory"}}}),z8t=xe.a.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:Ae.a.string,providerEntityID:Ae.a.string,momentKey:Ae.a.string,isDetailsPending:Ae.a.boolean.isRequired,isDetailsPopulated:Ae.a.boolean.isRequired,detailsError:Ae.a.object,isMomentListPending:Ae.a.boolean.isRequired,isMomentListPopulated:Ae.a.boolean.isRequired,momentListError:Ae.a.object},sessionRelations:{metadataList:{relationClass:Qi.default,deferred:!0},details:{relationClass:Aw,deferred:!0},momentList:{relationClass:R8t,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}}),U8t=xe.a.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:Ae.a.object,isFilterOptionsTagsPopulating:Ae.a.boolean,isFilterOptionsTagsPopulated:Ae.a.boolean,isUpdatingFriend:Ae.a.boolean,updateFriendError:Ae.a.string,ownedSharedSources:Ae.a.array,receivedSharedSources:Ae.a.array,isSharedSourcesPopulating:Ae.a.boolean,isSharedSourcesPopulated:Ae.a.boolean,sharedSourcesError:Ae.a.string,deleteSharedItemID:Ae.a.integer,isServerOverviewsPopulating:Ae.a.boolean,isServerOverviewsPopulated:Ae.a.boolean,isServerSharesPopulating:Ae.a.boolean,isServerSharesPopulated:Ae.a.boolean,serverSharesError:Ae.a.string,isSharingPending:Ae.a.boolean,isSharingCompleted:Ae.a.boolean,sharingError:Ae.a.string,isRemoveServerSharePending:Ae.a.boolean,isRemoveServerShareCompleted:Ae.a.boolean,removeServerShareError:Ae.a.string},sessionRelations:{serverOverviews:{relationClass:eY,deferred:!0}},defaults:()=>({filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,ownedSharedSources:[],receivedSharedSources:[],isSharedSourcesPopulating:!1,isSharedSourcesPopulated:!1,sharedSourcesError:null,deleteSharedItemID:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null})}),V8t=xe.a.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:D8t},authCodeExchange:{relationClass:C8t},discoverPage:{relationClass:O8t},metadataListPage:{relationClass:T8t},libraryPage:{relationClass:j8t},prePlayPage:{relationClass:x8t},timelinePage:{relationClass:z8t},playlistsPage:{relationClass:N8t},dvrSettingsUI:{relationClass:P8t},recordingSchedulePage:{relationClass:n8t},channelGridPage:{relationClass:X6t},mediaSubscriptionModal:{relationClass:t8t},searchPage:{relationClass:o8t},quickSearch:{relationClass:A8t},photoPlayer:{relationClass:i8t},audioVideoPlayer:{relationClass:i8t},romPlayer:{relationClass:i8t},onlineMediaSourcesPage:{relationClass:w8t},accountSettingsPage:{relationClass:S8t},playlistPage:{relationClass:E8t},providerSettingsPage:{relationClass:r8t},addToCatalogModal:{relationClass:M8t},multiSelect:{relationClass:v8t},serverLogPage:{relationClass:I8t},subtitlesModal:{relationClass:G6t},subtitlesUploadModal:{relationClass:b8t},homePage:{relationClass:e8t},autoHomePage:{relationClass:Z6t},addToPlaylistMenu:{relationClass:g8t},addToPlaylistModal:{relationClass:f8t},shareModal:{relationClass:sY},userSharingSettingsPage:{relationClass:U8t},providerIntegrations:{relationClass:Y6t},advertisingNoticeModal:{relationClass:K6t},watchTogether:{relationClass:p8t}}}),B8t=a("rRWa");function F8t(e,t,a,...i){return Object(vr.f)((function*(){var r={};yield Object(vr.l)(e,(function*(e){var n=a(e);r[n]&&(yield Object(vr.c)(r[n])),r[n]=yield Object(vr.f)(t,e,...i),yield Object(vr.g)(r[n]),r[n]&&!r[n].isRunning()&&delete r[n]}))}))}function H8t(e,t,a,...i){return Object(vr.f)((function*(){var r={};yield Object(vr.l)(e,(function*(e){var n,s=a(e);(null==(n=r[s])?void 0:n.isRunning())||(r[s]=yield Object(vr.f)(t,e,...i),yield Object(vr.g)(r[s]),r[s]&&!r[s].isRunning()&&delete r[s])}))}))}function*_8t({payload:e}){var{server:t,provider:a,sourceURI:i,ratingKey:r,played:n}=e;try{var s=fZe(a,jGe.Scrobble);if(!s)throw new Error("No scobble action found on provider");var o=n?s.key:s.reverseKey;if(!o)throw new Error("The scrobble action is missing a `key` or `reverseKey`");yield Object(vr.b)(Fr.get,o,{server:t,provider:a,params:{identifier:a.identifier,key:r}}),yield Object(vr.h)(yn.actions.playedStatusUpdateSucceeded({server:t,provider:a,sourceURI:i,ratingKey:r,played:n}))}catch(e){yield Object(vr.h)(yn.actions.playedStatusUpdateFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*Q8t({payload:e}){var{server:t,provider:a,sourceURI:i,ratingKey:r,rating:n}=e;try{var s=fZe(a,jGe.Rate);if(!s)throw new Error("No rate action found on provider");if(!s.key)throw new Error("The rate action is missing a `key`");yield Object(vr.b)(Fr.put,s.key,{server:t,provider:a,params:{identifier:a.identifier,key:r,rating:n}}),yield Object(vr.h)(yn.actions.rateSucceeded({server:t,provider:a,sourceURI:i,ratingKey:r,rating:n}))}catch(e){yield Object(vr.h)(yn.actions.rateFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*W8t({payload:e}){var{server:t,provider:a,sourceURI:i,ratingKey:r,added:n}=e;try{var s=fZe(a,jGe.AddToWatchlist);if(!s)throw new Error("No watchlist action found on provider");var o=n?s.key:s.reverseKey;if(!o)throw new Error("The watchlist action is missing a `key` or `reverseKey`");yield Object(vr.b)(Fr.put,o,{server:t,provider:a,params:{ratingKey:r}}),yield Object(vr.h)(yn.actions.toggleWatchlistSucceeded({server:t,provider:a,sourceURI:i,ratingKey:r,added:n}))}catch(e){yield Object(vr.h)(yn.actions.toggleWatchlistFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*G8t({payload:e}){var{server:t,provider:a,sourceURI:i,ratingKey:r,saved:n}=e;try{var s=fZe(a,jGe.Save);if(!s)throw new Error("No save action found on provider");var o=n?s.key:s.reverseKey;if(!o)throw new Error("The save action is missing a `key` or `reverseKey`");yield Object(vr.b)(Fr.put,o,{server:t,provider:a,params:{ratingKey:r}}),yield Object(vr.h)(yn.actions.toggleSavedSucceeded({server:t,provider:a,sourceURI:i,ratingKey:r,saved:n}))}catch(e){yield Object(vr.h)(yn.actions.toggleSavedFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*Y8t({payload:e}){var{server:t,provider:a,sourceURI:i,part:r,streamIDParam:n,streamID:s,allParts:o}=e;try{var l=r.key.match(new RegExp("^(.*/parts/"+r.id+")/")),c=_.join(l?l[1]:["/library/parts",r.id]);yield Object(vr.b)(Fr.put,c,{server:t,provider:a,params:{[n]:s,allParts:o?1:0}}),yield Object(vr.h)(yn.actions.streamSelectSucceeded({server:t,provider:a,sourceURI:i}))}catch(e){yield Object(vr.h)(yn.actions.streamSelectFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*K8t({payload:e}){var{server:t,provider:a,sourceURI:i,streamKey:r}=e;try{yield Object(vr.b)(Fr.del,r,{server:t,provider:a}),yield Object(vr.h)(yn.actions.streamDeleteSucceeded({server:t,provider:a,sourceURI:i}))}catch(e){yield Object(vr.h)(yn.actions.streamDeleteFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*q8t({payload:e}){var{targetServer:t,targetProvider:a,targetLibrarySectionID:i,targetLibraryType:r,server:n,provider:s,metadataItem:o}=e;try{yield Object(vr.b)(Fr.post,"/media/subscriptions",{server:t,provider:a,params:{providers:Object(an.a)({serverIdentifier:n.machineIdentifier,providerIdentifier:s.identifier}),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:THt(r)},targetLibrarySectionID:i,hints:{guid:o.guid,ratingKey:o.ratingKey,title:o.title,parentTitle:o.parentTitle},type:THt(o.type)}})}catch(e){}}function*Z8t(){yield F8t(yn.actions.playedStatusUpdateRequested,_8t,({payload:e})=>e.sourceURI)}function*X8t(){yield F8t(yn.actions.rateRequested,Q8t,({payload:e})=>e.sourceURI)}function*J8t(){yield F8t(yn.actions.toggleWatchlistRequested,W8t,({payload:e})=>e.sourceURI)}function*$8t(){yield F8t(yn.actions.toggleSavedRequested,G8t,({payload:e})=>e.sourceURI)}function*e9t(){yield F8t(yn.actions.streamSelectRequested,Y8t,({payload:e})=>e.sourceURI)}function*t9t(){yield H8t(yn.actions.streamDeleteRequested,K8t,({payload:e})=>e.streamKey)}function*a9t(){yield H8t(yn.actions.addToLibraryRequested,q8t,({payload:e})=>e.metadataItem.sourceURI)}function*i9t(){yield Object(vr.a)([Object(vr.f)(Z8t),Object(vr.f)(X8t),Object(vr.f)(J8t),Object(vr.f)($8t),Object(vr.f)(e9t),Object(vr.f)(t9t),Object(vr.f)(a9t)])}function r9t(e,t,a,i,r={leading:!0,trailing:!0},...n){return Object(vr.f)((function*(){var s={};function*o(e,t,a){s[e]={timestamp:Date.now()},yield Object(vr.e)(a),yield Object(vr.b)(l,e,t)}function*l(e,t){s[e]={timestamp:Date.now(),task:yield Object(vr.f)(a,t,...n)}}yield Object(vr.l)(t,(function*(t){var a=i(t),n=s[a];if(n){if((null==r?void 0:r.trailing)&&n.task&&!n.task.isRunning()){var c=e-(Date.now()-n.timestamp);yield Object(vr.b)(o,a,t,c)}}else(null==r?void 0:r.leading)?yield Object(vr.b)(l,a,t):(null==r?void 0:r.trailing)&&(yield Object(vr.b)(o,a,t,e));var d=s[a];yield Object(vr.e)(e),d===s[a]&&delete s[a]}))}))}function*n9t({payload:e}){var{server:t,provider:a,sourceURI:i,key:r,params:n}=e;try{var{metadataItemKey:s,parameters:o}=Object(Bn.a)(i),l=yield Object(vr.b)(vn.fetchAll,null!=r?r:s,{server:t,provider:a,params:Object.assign({},n,r?void 0:o)});yield Object(vr.h)(gn.actions.fetchAllSucceeded({sourceURI:i,data:l}))}catch(e){yield Object(vr.h)(gn.actions.fetchAllFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*s9t({payload:e}){var{server:t,provider:a,sourceURI:i,key:r,params:n,startIndex:s,size:o,isPrepend:l}=e;try{var{metadataItemKey:c,parameters:d}=Object(Bn.a)(i),u=yield Object(vr.b)(vn.fetchRange,null!=r?r:c,{server:t,provider:a,params:Object.assign({},n,r?void 0:d),startIndex:s,size:o,isPrepend:l});yield Object(vr.h)(gn.actions.fetchRangeSucceeded({sourceURI:i,data:u}))}catch(e){yield Object(vr.h)(gn.actions.fetchRangeFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*o9t({payload:e}){var{server:t,provider:a,sourceURI:i,key:r,params:n}=e;try{var s=yield Object(vr.j)(c0e(i)),o=vn.getRepopulateRangeOptions(s.items),{metadataItemKey:l,parameters:c}=Object(Bn.a)(i),d=yield Object(vr.b)(vn.fetchRange,null!=r?r:l,Object.assign({server:t,provider:a,params:Object.assign({},n,r?void 0:c)},o));yield Object(vr.h)(gn.actions.repopulateRangeSucceeded({sourceURI:i,data:d}))}catch(e){yield Object(vr.h)(gn.actions.repopulateRangeFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*l9t(){yield H8t(gn.actions.fetchAllRequested,n9t,({payload:e})=>e.sourceURI)}function*c9t(){yield F8t(gn.actions.fetchRangeRequested,s9t,({payload:e})=>e.sourceURI)}function*d9t(){yield F8t(gn.actions.repopulateRangeRequested,o9t,({payload:e})=>e.sourceURI)}function*u9t(){yield r9t(5e3,gn.actions.throttledRepopulateRangeRequested,o9t,({payload:e})=>e.sourceURI)}function*p9t(){yield r9t(5e3,gn.actions.throttledFetchAllRequested,n9t,({payload:e})=>e.sourceURI)}function*h9t(){yield Object(vr.a)([Object(vr.f)(l9t),Object(vr.f)(c9t),Object(vr.f)(d9t),Object(vr.f)(u9t),Object(vr.f)(p9t)])}function*m9t({payload:e}){var{server:t,provider:a,sourceURI:i}=e;try{var{metadataItemKey:r}=Object(Bn.a)(i);yield Object(vr.b)(Fr.put,_.join([r,"refresh"]),{server:t,provider:a})}catch(e){yield Object(vr.h)(bn.actions.metadataRefreshFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*v9t({payload:e}){var{server:t,provider:a,sourceURI:i}=e;try{var{metadataItemKey:r}=Object(Bn.a)(i);yield Object(vr.b)(Fr.put,_.join([r,"analyze"]),{server:t,provider:a})}catch(e){yield Object(vr.h)(bn.actions.mediaAnalysisFailed({sourceURI:i,error:Fr.toPlainErrorObject(e)}))}}function*g9t(){yield Object(vr.l)(bn.actions.metadataRefreshRequested,m9t)}function*y9t(){yield Object(vr.l)(bn.actions.mediaAnalysisRequested,v9t)}function*f9t(){yield Object(vr.a)([Object(vr.f)(g9t),Object(vr.f)(y9t)])}function*b9t({payload:e}){var{server:t}=e;try{(yield Object(vr.j)(TP(t.machineIdentifier))).isPopulated||(yield Object(vr.h)(Mn.actions.fetchRequested(e)))}catch(e){yield Object(vr.h)(Mn.actions.fetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*I9t({payload:e}){var{server:t}=e;try{var a,i,r=null!=(a=null==(i=(yield Object(vr.b)(Fr.get,"/accounts",{server:t})).data.MediaContainer)?void 0:i.Account)?a:[];yield Object(vr.h)(Mn.actions.fetchSucceeded({server:t,data:r.filter(e=>e.name)}))}catch(e){yield Object(vr.h)(Mn.actions.fetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*S9t(){yield H8t(Mn.actions.populateRequested,b9t,({payload:e})=>e.server.machineIdentifier)}function*M9t(){yield H8t(Mn.actions.fetchRequested,I9t,({payload:e})=>e.server.machineIdentifier)}function*C9t(){yield Object(vr.a)([Object(vr.f)(S9t),Object(vr.f)(M9t)])}function*D9t({payload:e}){var{server:t}=e;try{(yield Object(vr.j)(Gct(t.machineIdentifier))).isPopulated||(yield Object(vr.h)(Pn.actions.fetchRequested(e)))}catch(e){yield Object(vr.h)(Pn.actions.fetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*P9t({payload:e}){var{server:t}=e;try{var a,i,r=yield Object(vr.b)(Fr.get,"/devices",{server:t});yield Object(vr.h)(Pn.actions.fetchSucceeded({server:t,data:null!=(a=null==(i=r.data.MediaContainer)?void 0:i.Device)?a:[]}))}catch(e){yield Object(vr.h)(Pn.actions.fetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*O9t(){yield H8t(Pn.actions.populateRequested,D9t,({payload:e})=>e.server.machineIdentifier)}function*j9t(){yield H8t(Pn.actions.fetchRequested,P9t,({payload:e})=>e.server.machineIdentifier)}function*T9t(){yield Object(vr.a)([Object(vr.f)(O9t),Object(vr.f)(j9t)])}function w9t(e){var t,a,{data:i}=e;return(null!=(t=null==(a=i.MediaContainer)?void 0:a.Metadata)?t:[]).map(e=>{var t,a=en()(e);return on(a,"viewOffset"),on(a,"duration"),null==(t=a.Media)||t.forEach(e=>{var t;null==(t=e.Part)||t.forEach(e=>{var t;null==(t=e.Stream)||t.forEach(e=>{ln(e,"selected"),on(e,"streamType")})})}),a})}function*E9t({payload:e}){var{server:t}=e;try{var a=yield Object(vr.b)(Fr.get,"/status/sessions",{server:t});yield Object(vr.h)(wn.actions.fetchSucceeded({server:t,data:w9t(a)}))}catch(e){yield Object(vr.h)(wn.actions.fetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*N9t({payload:e}){var{server:t,message:a}=e;try{var i=(yield Object(vr.j)(Vb(t.machineIdentifier))).sessionsByKey[a.sessionKey];i&&i.key===a.key||(yield Object(vr.h)(wn.actions.fetchRequested({server:t})))}catch(e){yield Object(vr.h)(wn.actions.stopFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*x9t({payload:e}){var{server:t,session:a,reason:i}=e;try{yield Object(vr.b)(Fr.get,"/status/sessions/terminate",{server:t,params:{sessionId:a.Session.id,reason:i}})}catch(e){yield Object(vr.h)(wn.actions.stopFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*A9t(){yield H8t(wn.actions.fetchRequested,E9t,({payload:e})=>e.server.machineIdentifier)}function*L9t(){yield H8t(wn.actions.sessionChanged,N9t,({payload:e})=>e.server.machineIdentifier)}function*k9t(){yield Object(vr.l)(wn.actions.stopRequested,x9t)}function*R9t(){yield Object(vr.a)([Object(vr.f)(A9t),Object(vr.f)(L9t),Object(vr.f)(k9t)])}function*z9t(){yield Object(vr.a)([Object(vr.f)(i9t),Object(vr.f)(h9t),Object(vr.f)(f9t),Object(vr.f)(C9t),Object(vr.f)(T9t),Object(vr.f)(R9t)])}function*U9t({payload:e}){var{destinationServer:t,destinationProvider:a,playlistType:i,ui:r}=e;try{var n,s=bZe(a,PGe.Playlist);if(!s||!s.key)throw new Error("No playlist feature found on provider");var o=(null==(n=(yield Object(vr.b)(Fr.get,s.key,{server:t,provider:a,params:{playlistType:i,smart:0,sort:"updatedAt:desc",includeMeta:1,limit:r===jn.Menu?3:1e3}})).data.MediaContainer)?void 0:n.Metadata)||[];yield Object(vr.h)(xn.actions.playlistListFetchSucceeded({ui:r,playlists:o}))}catch(e){yield Object(vr.h)(xn.actions.playlistListFetchFailed({ui:r,error:Fr.toPlainErrorObject(e)}))}}function*V9t({payload:e}){var{ui:t,destinationServer:a,destinationProvider:i,playlistKey:r,sourceURI:n}=e;try{yield Object(vr.b)(Fr.put,r,{server:a,provider:i,params:{uri:n}}),yield Object(vr.h)(xn.actions.playlistSaveSucceeded({ui:t}))}catch(e){yield Object(vr.h)(xn.actions.playlistSaveFailed({ui:t,error:Fr.toPlainErrorObject(e)}))}}function*B9t({payload:e}){var{ui:t,destinationServer:a,destinationProvider:i,playlistType:r,title:n,sourceURI:s}=e;try{var o=bZe(i,PGe.Playlist);if(!o||!o.key)throw new Error("No playlist feature found on provider");yield Object(vr.b)(Fr.post,o.key,{server:a,provider:i,params:{type:r,title:n,uri:s,smart:0}}),yield Object(vr.h)(xn.actions.playlistSaveSucceeded({ui:t}))}catch(e){yield Object(vr.h)(xn.actions.playlistSaveFailed({ui:t,error:Fr.toPlainErrorObject(e)}))}}function*F9t(){yield Object(vr.m)(xn.actions.playlistListFetchRequested,U9t)}function*H9t(){yield Object(vr.m)(xn.actions.playlistCreateRequested,B9t)}function*_9t(){yield Object(vr.m)(xn.actions.playlistUpdateRequested,V9t)}function*Q9t(){yield Object(vr.a)([Object(vr.f)(F9t),Object(vr.f)(H9t),Object(vr.f)(_9t)])}function*W9t({payload:e}){try{var t,a=Date.now(),i=yield Object(vr.b)(Fr.get,"/statistics/bandwidth",{server:e.server,params:{timespan:e.timespan,"at>":e.after}}),r=i.data.MediaContainer,n=i.headers.Date,s=n?(o=n,(l=Object(Tw.a)(o,"EEE, dd MMM yyyy HH:mm:ss 'GMT'",new Date)).getTime()-60*l.getTimezoneOffset()*1e3):a;yield Object(vr.h)(Ln.actions.bandwidthFetchSucceeded({data:null!=(t=null==r?void 0:r.StatisticsBandwidth)?t:[],requestTimestampMilliseconds:a,responseTimestampMilliseconds:s}))}catch(e){yield Object(vr.h)(Ln.actions.bandwidthFetchFailed({error:Fr.toPlainErrorObject(e)}))}var o,l}function*G9t({payload:e}){try{var t,a=Date.now(),i=(yield Object(vr.b)(Fr.get,"/statistics/resources",{server:e.server,params:{timespan:Qy(ky.RealTime)}})).data.MediaContainer;yield Object(vr.h)(Ln.actions.resourcesFetchSucceeded({data:null!=(t=null==i?void 0:i.StatisticsResources)?t:[],requestTimestampMilliseconds:a}))}catch(e){yield Object(vr.h)(Ln.actions.resourcesFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*Y9t({payload:e}){try{var t,a,i=(yield Object(vr.b)(Z9t,e)).data.MediaContainer;yield Object(vr.h)(Ln.actions.topUsersFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(a=null==i?void 0:i.Account)?a:[]}}))}catch(e){yield Object(vr.h)(Ln.actions.topUsersFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*K9t({payload:e}){try{var t,a,i=(yield Object(vr.b)(Z9t,e)).data.MediaContainer;yield Object(vr.h)(Ln.actions.playHistoryFetchSucceeded({data:{statistics:null!=(t=null==i?void 0:i.StatisticsMedia)?t:[],accounts:null!=(a=null==i?void 0:i.Account)?a:[]}}))}catch(e){yield Object(vr.h)(Ln.actions.playHistoryFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*q9t({payload:e}){try{var t,a,i,r,n,s,o,l,[c,d,u,p]=yield Object(vr.a)([Object(vr.b)(X9t,e,Nr.Movie),Object(vr.b)(X9t,e,Nr.Show),Object(vr.b)(X9t,e,Nr.Artist),Object(vr.b)(X9t,e,Nr.Game)]);yield Object(vr.h)(Ln.actions.topPlayedFetchSucceeded({data:{moviesStatistics:null!=(t=null==(a=c.data.MediaContainer)?void 0:a.Metadata)?t:[],tvStatistics:null!=(i=null==(r=d.data.MediaContainer)?void 0:r.Metadata)?i:[],musicStatistics:null!=(n=null==(s=u.data.MediaContainer)?void 0:s.Metadata)?n:[],gameStatistics:null!=(o=null==(l=p.data.MediaContainer)?void 0:l.Metadata)?o:[]}}))}catch(e){yield Object(vr.h)(Ln.actions.topPlayedFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*Z9t(e){return yield Object(vr.b)(Fr.get,"/statistics/media",{server:e.server,params:{timespan:e.timespan,"at>":e.after}})}function*X9t(e,t){return yield Object(vr.b)(Fr.get,"/library/all/top",{server:e.server,params:{accountID:e.accountID,type:Wt.u(t).id,"viewedAt>":e.viewedAt,limit:e.limit}})}function*J9t(){for(;;){var e=yield Object(vr.m)(Ln.actions.bandwidthFetchRequested,W9t);yield Object(vr.k)([Ln.actions.reset,Ln.actions.bandwidthAbortRequested]),yield Object(vr.c)(e)}}function*$9t(){for(;;){var e=yield Object(vr.m)(Ln.actions.resourcesFetchRequested,G9t);yield Object(vr.k)(Ln.actions.reset),yield Object(vr.c)(e)}}function*e7t(){for(;;){var e=yield Object(vr.n)(Ln.actions.topUsersFetchRequested,Y9t);yield Object(vr.k)(Ln.actions.reset),yield Object(vr.c)(e)}}function*t7t(){for(;;){var e=yield Object(vr.n)(Ln.actions.playHistoryFetchRequested,K9t);yield Object(vr.k)(Ln.actions.reset),yield Object(vr.c)(e)}}function*a7t(){for(;;){var e=yield Object(vr.n)(Ln.actions.topPlayedFetchRequested,q9t);yield Object(vr.k)(Ln.actions.reset),yield Object(vr.c)(e)}}function*i7t(){yield Object(vr.a)([Object(vr.f)(J9t),Object(vr.f)($9t),Object(vr.f)(e7t),Object(vr.f)(t7t),Object(vr.f)(a7t)])}function r7t(e,t){if(null==t?void 0:t.DisplayFields)return t;var a=qr(e.type);if(!a)return t;var i=Xr(e.type,e.subtype);return e.style===Dr.Shelf&&e.hubIdentifier&&e.hubIdentifier.startsWith("external.")&&i.push(Er.SourceTitle),Object.assign({},t,{DisplayFields:[{type:a,subtype:e.subtype,fields:i}]})}function n7t(e){return"relatedAlbums"===e.hubIdentifier&&e.size>1?Dr.WideShelf:e.style}function s7t({server:e,provider:t,contentDirectoryID:a,data:i}){var r,n=null!=(r=null==i?void 0:i.MediaContainer)?r:{},{Hub:s=[]}=n,o=Je()(n,["Hub"]);return s.reduce((i,r)=>{var s,l,c,d=a?_.join(r.key,{contentDirectoryID:a.join(",")}):r.key,u=null!=(s=r.source)?s:Object(an.a)({serverIdentifier:e.machineIdentifier,providerIdentifier:null==t?void 0:t.identifier}),p=d?""+u+d:u+"/"+r.hubIdentifier,h=r.totalSize;null==h&&(h=r.more?void 0:r.size),i.hubs.push({source:u,sourceURI:p,key:d,isStale:!1,initialSize:r.size,style:n7t(r),attribution:r.attribution,autoAdvanceDelayMs:r.autoAdvanceDelayMs,context:r.context,hubIdentifier:r.hubIdentifier,Meta:r7t(r,r.Meta||n.Meta),more:r.more,placeholder:r.placeholder,random:r.random,subtype:r.subtype,title:r.title,type:r.type});var m=null!=(l=null!=(c=r.Metadata)?c:r.Directory)?l:[],{metadataItems:v,metadataItemStates:g}=pn({server:e,provider:t,data:m,container:o});return i.metadataLists.push({sourceURI:p,items:v,totalSize:h,offset:0,isPending:!1,isPopulated:!0,error:null}),Object.assign(i.metadataItemStates,g),i},{title:o.title,meta:o.Meta,hubs:[],metadataLists:[],metadataItemStates:{}})}function*o7t({payload:e}){var{server:t,provider:a,sourceURI:i,key:r,params:n}=e;yield Object(vr.h)(gn.actions.added({metadataLists:[{sourceURI:i,items:[],offset:0}],metadataItemStates:{}})),yield Object(vr.h)(gn.actions.fetchRangeRequested({server:t,provider:a,sourceURI:i,key:r,params:Object.assign({},n,{includeAdvanced:1,includeMeta:1}),startIndex:0,size:24}))}function*l7t({payload:e}){var{server:t,provider:a,sourceURI:i}=e,{metadataItemKey:r,parameters:n}=Object(Bn.a)(i);try{var s=s7t({server:t,provider:a,data:(yield Object(vr.b)(Fr.get,r,{server:t,provider:a,params:Object.assign({},n,{count:12,includeStations:1,includeRecentChannels:1,includeMeta:1,excludeFields:"summary"})})).data});yield Object(vr.a)([Object(vr.h)(gn.actions.added({metadataLists:s.metadataLists,metadataItemStates:s.metadataItemStates})),Object(vr.h)(Rn.actions.fetchHubsSucceeded({data:s}))])}catch(e){yield Object(vr.h)(Rn.actions.fetchHubsFailed({error:Fr.toPlainErrorObject(e)}))}}function*c7t({payload:e}){var{server:t,provider:a,key:i}=e;try{var r,n=null==(r=(yield Object(vr.b)(Fr.get,i,{server:t,provider:a})).data.MediaContainer.Directory)?void 0:r.map(e=>{var t,a;e.fastKey?t={key:e.fastKey,field:e.type,value:e.key,title:String(e.title)}:t={key:e.key,field:null!=(a=e.field)?a:"",value:null!=e.value?String(e.value):e.key,type:e.type,title:String(e.title)};return t});yield Object(vr.h)(Rn.actions.fetchFilterOptionsSucceeded({key:i,filterOptions:null!=n?n:[]}))}catch(e){yield Object(vr.h)(Rn.actions.fetchFilterOptionsFailed({key:i,error:Fr.toPlainErrorObject(e)}))}}function*d7t({payload:e}){var{server:t,provider:a,key:i}=e;try{var r,n=yield Object(vr.b)(Fr.get,i,{server:t,provider:a});yield Object(vr.h)(Rn.actions.fetchFirstCharactersSucceeded({key:i,firstCharacters:null!=(r=n.data.MediaContainer.Directory)?r:[]}))}catch(e){yield Object(vr.h)(Rn.actions.fetchFirstCharactersFailed({key:i,error:Fr.toPlainErrorObject(e)}))}}function*u7t(){for(;;){var e=yield Object(vr.n)(Rn.actions.initializeListRequested,o7t);yield Object(vr.k)(Rn.actions.reset),yield Object(vr.c)(e)}}function*p7t(){for(;;){var e=yield Object(vr.n)(Rn.actions.fetchHubsRequested,l7t);yield Object(vr.k)(Rn.actions.resetHubs),yield Object(vr.c)(e)}}function*h7t(){for(;;){var e=yield Object(vr.n)(Rn.actions.fetchFilterOptionsRequested,c7t);yield Object(vr.k)(Rn.actions.reset),yield Object(vr.c)(e)}}function*m7t(){for(;;){var e=yield Object(vr.n)(Rn.actions.fetchFirstCharactersRequested,d7t);yield Object(vr.k)([Rn.actions.reset,Rn.actions.resetFirstCharacters]),yield Object(vr.c)(e)}}function*v7t(){yield Object(vr.a)([Object(vr.f)(u7t),Object(vr.f)(p7t),Object(vr.f)(h7t),Object(vr.f)(m7t)])}function g7t({data:e}){var t;return(null!=(t=e.Device)?t:[]).map(e=>(cn(e,"source"),{key:e.key,uuid:e.uuid,parentID:e.parentID,uri:e.uri,protocol:e.protocol,status:e.status,state:e.state,lastSeenAt:e.lastSeenAt,make:e.make,model:e.model,modelNumber:e.modelNumber,source:e.source,sources:e.sources.split(","),tuners:e.tuners,thumb:e.thumb,unsupported:e.unsupported}))}function*y7t({payload:e}){var{server:t}=e;try{var a,i,r=yield Object(vr.b)(Fr.get,"/livetv/epg/countries",{server:t});yield Object(vr.h)(Vn.actions.epgCountriesFetchSucceeded({server:t,data:null!=(a=null==(i=r.data.MediaContainer)?void 0:i.Country)?a:[]}))}catch(e){yield Object(vr.h)(Vn.actions.epgCountriesFetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*f7t({payload:e}){var{server:t}=e;try{var a,i=yield Object(vr.b)(Fr.get,"/media/grabbers/devices",{server:t});yield Object(vr.h)(Vn.actions.devicesFetchSucceeded({server:t,data:g7t({server:t,data:null==(a=i.data)?void 0:a.MediaContainer})}))}catch(e){yield Object(vr.h)(Vn.actions.devicesFetchFailed({server:t,error:Fr.toPlainErrorObject(e)}))}}function*b7t({payload:e}){var{server:t,deviceKey:a}=e;try{var i,r,n=yield Object(vr.b)(Fr.get,_.join(["/media/grabbers/devices",a,"channels"]),{server:t});yield Object(vr.h)(Vn.actions.deviceChannelsFetchSucceeded({server:t,deviceKey:a,data:null!=(i=null==(r=n.data.MediaContainer)?void 0:r.DeviceChannel)?i:[]}))}catch(e){yield Object(vr.h)(Vn.actions.deviceChannelsFetchFailed({server:t,deviceKey:a,error:Fr.toPlainErrorObject(e)}))}}function*I7t(){for(;;){var e=yield Object(vr.n)(Vn.actions.devicesFetchRequested,f7t);yield Object(vr.k)(Vn.actions.reset),yield Object(vr.c)(e)}}function*S7t(){for(;;){var e=yield H8t(Vn.actions.deviceChannelsFetchRequested,b7t,({payload:e})=>String(e.deviceKey));yield Object(vr.k)(Vn.actions.reset),yield Object(vr.c)(e)}}function*M7t(){for(;;){var e=yield Object(vr.n)(Vn.actions.epgCountriesFetchRequested,y7t);yield Object(vr.k)(Vn.actions.reset),yield Object(vr.c)(e)}}function*C7t(){yield Object(vr.a)([Object(vr.f)(I7t),Object(vr.f)(S7t),Object(vr.f)(M7t)])}var D7t=["free"];function P7t(e,t){if(!t)return!0;var a=e.find(e=>e.id===t);return!!a&&(!a.subscriptionType||!D7t.includes(a.subscriptionType))}function*O7t({payload:e}){var{hubsProviders:t,hubsStates:a,userServices:i}=e;yield Object(vr.a)(t.reduce((e,t)=>{var r=a.find(e=>e.source===t.source);return r&&e.push(Object(vr.b)(w7t,t,r,i)),e},[]))}function*j7t({payload:e}){var{hubsProvider:t,userServices:a}=e,{source:i,server:r,provider:n,contentDirectoryID:s}=t;try{if(!r||!n)throw new Error("Missing server or provider");var o=n.features.find(e=>e.type===PGe.Promoted);if((null==o?void 0:o.key)&&P7t(a,o.requires)){var l=yield Object(vr.b)(Fr.get,o.key,{server:r,provider:n,params:{contentDirectoryID:s.join(","),count:12,includeMeta:1,includeGames:1,includeRecentChannels:1,excludeFields:"summary"}}),c=s7t({server:r,provider:n,contentDirectoryID:s,data:l.data});yield Object(vr.a)([Object(vr.h)(gn.actions.added({metadataLists:c.metadataLists,metadataItemStates:c.metadataItemStates})),Object(vr.h)(Wn.actions.fetchSucceeded({source:i,data:c.hubs}))])}else yield Object(vr.h)(Wn.actions.fetchSucceeded({source:i,data:[]}))}catch(e){yield Object(vr.h)(Wn.actions.fetchFailed({source:i,contentDirectoryID:s,error:Fr.toPlainErrorObject(e)}))}}function*T7t(){yield Object(vr.e)(6e4),yield Object(vr.h)(Wn.actions.markStale())}function*w7t(e,t,a){var{source:i,contentDirectoryID:r}=e;try{var n=t.isSourceReady&&!t.isListPending&&!t.isListPopulated&&!t.isListError,s=!!t.contentDirectoryID&&!Ep(t.contentDirectoryID,r);(n||s)&&(yield Object(vr.h)(Wn.actions.fetchRequested({hubsProvider:e,userServices:a})))}catch(e){yield Object(vr.h)(Wn.actions.fetchFailed({source:i,contentDirectoryID:r,error:Fr.toPlainErrorObject(e)}))}}function*E7t(){yield Object(vr.l)(Wn.actions.populateAllRequested,O7t)}function*N7t(){for(;;){var e=yield F8t(Wn.actions.fetchRequested,j7t,({payload:e})=>e.hubsProvider.source);yield Object(vr.k)(Wn.actions.markStaleRequested),yield Object(vr.c)(e)}}function*x7t(){for(;;)yield Object(vr.k)(Wn.actions.markStaleRequested),yield Object(vr.i)({task:Object(vr.b)(T7t),cancel:Object(vr.k)(Wn.actions.populateAllRequested)})}function*A7t(){yield Object(vr.a)([Object(vr.f)(E7t),Object(vr.f)(N7t),Object(vr.f)(x7t)])}function*L7t({payload:e}){var{server:t,importAll:a,sectionID:i}=e;try{yield Object(vr.b)(Fr.put,"/playlists/import/itunes",{server:t,params:{sectionID:i,force:a?1:0}}),yield Object(vr.h)(Yn.actions.importSucceeded())}catch(e){yield Object(vr.h)(Yn.actions.importFailed({error:Fr.toPlainErrorObject(e)}))}}function*k7t(){yield Object(vr.m)(Yn.actions.importRequested.type,L7t)}function*R7t(){yield Object(vr.a)([Object(vr.f)(k7t)])}function z7t(e=[]){return e.reduce((e,t)=>(t.key===Wct.ViewedAt?e["viewedAt>"]=t.value:e[t.key]=t.value,e),{})}function*U7t({payload:e}){try{var{server:t,provider:a,sort:i,filters:r,startIndex:n,size:s,isPrepend:o}=e,l=yield Object(vr.b)(es.fetchRange,"/status/sessions/history/all",{server:t,provider:a,params:Object.assign({sort:i},z7t(r)),startIndex:n,size:s,isPrepend:o});yield Object(vr.h)(as.actions.fetchRangeSucceeded({data:l}))}catch(e){yield Object(vr.h)(as.actions.fetchRangeFailed({error:Fr.toPlainErrorObject(e)}))}}function*V7t(){for(;;){var e=yield Object(vr.m)(as.actions.fetchRangeRequested,U7t);yield Object(vr.k)(as.actions.reset),yield Object(vr.c)(e)}}function*B7t(){yield Object(vr.a)([Object(vr.f)(V7t)])}function F7t(e){var{source:t,childrenKey:a,popularLeaves:i,extras:r}=e,n=function(e){var{skipParent:t,parentKey:a,grandparentKey:i}=e,r=t?i:a,n=t?"grandchildren":"children";if(r)return _.join([r,n],{excludeAllLeaves:1});return}(e),s=null==i?void 0:i.key,o=r?_.join([e.key,"extras"]):void 0;return{descendantListSourceURI:a?""+t+a:void 0,siblingListSourceURI:H7t(e)&&n?""+t+n:void 0,popularLeavesSourceURI:s?""+t+s:void 0,extrasSourceURI:o?""+t+o:void 0}}function H7t(e){return e.subtype!==Ar.Webshow&&e.subtype!==Ar.Podcast&&!pqe(e)}function*_7t({payload:e}){var t=yield Object(vr.j)(XBt);try{var a=yield Object(vr.b)(Y7t,e.server,e.provider,e.metadataKey);yield Object(vr.b)(K7t,e.server,e.provider,a,t)}catch(e){yield Object(vr.h)(ss.actions.metadataItemFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*Q7t({payload:e}){try{var t,a=yield Object(vr.j)(XBt),i=null==(t=a.metadata.metadataItem)?void 0:t.key;if(!i)return;var r=yield Object(vr.b)(Y7t,e.server,e.provider,i);yield Object(vr.b)(K7t,e.server,e.provider,r,a)}catch(e){}}function*W7t({payload:e}){var{server:t,provider:a,metadataKey:i}=e,r=!t.version||Qa(t.version,Ka.simpleRelatedKey)?_.join([i,"related"]):_.join([i.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]);try{var n=s7t({server:t,provider:a,data:(yield Object(vr.b)(Fr.get,r,{server:t,provider:a,params:{includeAugmentations:!t.version||Qa(t.version,Ka.augmentedHubsInRelatedHubs)?1:0,includeExternalMetadata:1,includeMeta:1}})).data});yield Object(vr.a)([Object(vr.h)(gn.actions.added({metadataLists:n.metadataLists,metadataItemStates:n.metadataItemStates})),Object(vr.h)(ss.actions.relatedHubsFetchSucceeded({hubs:n.hubs}))])}catch(e){yield Object(vr.h)(ss.actions.relatedHubsFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*G7t({payload:e}){var{server:t,provider:a,augmentationKey:i}=e;try{var r=s7t({server:t,provider:a,data:(yield Object(vr.b)(Fr.get,i,{server:t,provider:a,params:{wait:1}})).data});yield Object(vr.a)([Object(vr.h)(gn.actions.added({metadataLists:r.metadataLists,metadataItemStates:r.metadataItemStates})),Object(vr.h)(ss.actions.augmentedHubsFetchSucceeded({hubs:r.hubs}))])}catch(e){yield Object(vr.h)(ss.actions.augmentedHubsFetchFailed({error:Fr.toPlainErrorObject(e)}))}}function*Y7t(e,t,a){var i=(yield Object(vr.b)(Fr.get,a,{server:e,provider:t,params:{includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeReviews:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1,asyncCheckFiles:1,asyncRefreshAnalysis:1,asyncRefreshLocalMediaAgent:1}})).data.MediaContainer,{Metadata:r=[]}=i,n=Je()(i,["Metadata"]),[s]=r;if(!s)throw new Error("The response did not contain a metadata item");var o=un({server:e,provider:t,data:s,container:n}),{descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u}=F7t(o.metadataItem),p={metadataItem:o.metadataItem,metadataItemStates:o.metadataItemStates,descendantListSourceURI:l,siblingListSourceURI:c,popularLeavesSourceURI:d,extrasSourceURI:u};return yield Object(vr.h)(ss.actions.metadataItemFetchSucceeded(p)),yield Object(vr.h)(yn.actions.metadataItemStatesNormalized({metadataItemStates:o.metadataItemStates})),p}function*K7t(e,t,a,i){var r,n,{descendantListSourceURI:s,siblingListSourceURI:o,popularLeavesSourceURI:l,extrasSourceURI:c}=i,{metadataItem:d,descendantListSourceURI:u,siblingListSourceURI:p,popularLeavesSourceURI:h,extrasSourceURI:m}=a,v=[];(u&&(u===s?yield Object(vr.h)((null==d?void 0:d.type)===Nr.Album?gn.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:u}):gn.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:u})):v.push(Object(vr.b)(q7t,{server:e,provider:t,sourceURI:u,fetchAll:d.type===Nr.Album}))),p&&(p===o?yield Object(vr.h)(gn.actions.throttledFetchAllRequested({server:e,provider:t,sourceURI:p})):v.push(Object(vr.b)(q7t,{server:e,provider:t,sourceURI:p,fetchAll:!0}))),h)&&(h===l?yield Object(vr.h)(gn.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:h})):v.push(Object(vr.b)(q7t,{server:e,provider:t,sourceURI:h,items:null==(r=d.popularLeaves)?void 0:r.items})));m&&(m===c?yield Object(vr.h)(gn.actions.throttledRepopulateRangeRequested({server:e,provider:t,sourceURI:m})):v.push(Object(vr.b)(q7t,{server:e,provider:t,sourceURI:m,items:d.extras,totalSize:null==(n=d.extras)?void 0:n.length})));yield Object(vr.a)(v)}function*q7t({server:e,provider:t,sourceURI:a,items:i=[],totalSize:r,fetchAll:n}){if(yield Object(vr.h)(gn.actions.added({metadataLists:[{sourceURI:a,items:i,totalSize:r,offset:0,allowSync:!1}],metadataItemStates:{}})),null==r)if(n)try{yield Object(vr.h)(gn.actions.fetchAllRequested({server:e,provider:t,sourceURI:a}))}catch(e){yield Object(vr.h)(gn.actions.fetchAllFailed({error:Fr.toPlainErrorObject(e),sourceURI:a}))}else try{yield Object(vr.h)(gn.actions.fetchRangeRequested({server:e,provider:t,sourceURI:a,startIndex:0,size:20}))}catch(e){yield Object(vr.h)(gn.actions.fetchRangeFailed({error:Fr.toPlainErrorObject(e),sourceURI:a}))}}function*Z7t(){for(;;){var e=yield Object(vr.n)(ss.actions.metadataItemFetchRequested,_7t);yield Object(vr.k)(ss.actions.reset),yield Object(vr.c)(e)}}function*X7t(){for(;;){var e=yield Object(vr.n)(ss.actions.relatedHubsFetchRequested,W7t);yield Object(vr.k)(ss.actions.reset),yield Object(vr.c)(e)}}function*J7t(){for(;;){var e=yield Object(vr.n)(ss.actions.augmentedHubsFetchRequested,G7t);yield Object(vr.k)(ss.actions.reset),yield Object(vr.c)(e)}}function*$7t(){for(;;){var e=yield Object(vr.n)(ss.actions.metadataItemRepopulateRequested,Q7t),t=yield Object(vr.k)([ss.actions.reset,yn.actions.playedStatusUpdateRequested,yn.actions.toggleWatchlistRequested,yn.actions.toggleSavedRequested,yn.actions.streamSelectRequested,yn.actions.streamDeleteRequested,yn.actions.preferenceChanged]);if(t.type!==ss.actions.reset)(yield Object(vr.j)(XBt)).metadata.isPending&&(yield Object(vr.h)(yn.actions.repopulateCanceled({sourceURI:t.payload.sourceURI})));yield Object(vr.c)(e)}}function*eea(){yield Object(vr.a)([Object(vr.f)(Z7t),Object(vr.f)($7t),Object(vr.f)(X7t),Object(vr.f)(J7t)])}var tea=Dv(pw.a);function aea(e){Object(ie.c)("appStore").dispatch(e)}var iea=function(e){return Object(vr.b)(aea,e)};function rea(e){return e(Object(ie.c)("appStore").getState())}var nea=function(e){return Object(vr.b)(rea,e)};function*sea({payload:e}){var{password:t}=e,a=yield nea(tea);try{var i=yield Object(vr.b)(Fr.post,"/api/v2/user/two_factor",{server:a},{password:t});yield Object(vr.h)(ls.actions.createSecretSucceeded({server:a,provisioningUri:i.data.provisioningUri,secret:i.data.secret}))}catch(e){yield Object(vr.h)(ls.actions.createSecretFailed({server:a,error:Fr.toPlainErrorObject(e)}))}}function*oea({payload:e}){var{enabled:t,verificationCode:a}=e,i=yield nea(tea);try{if(t){var r=yield Object(vr.b)(Fr.put,"/api/v2/user/two_factor",{server:i},{verificationCode:a,resetDevices:!1});yield Object(vr.h)(ls.actions.toggleSucceeded({enabled:!0,codes:r.data.codes}))}else yield Object(vr.b)(Fr.del,"/api/v2/user/two_factor",{server:i,params:{verificationCode:a}}),yield Object(vr.h)(ls.actions.toggleSucceeded({enabled:!1}));yield iea(nL({twoFactorEnabled:t}))}catch(e){yield Object(vr.h)(ls.actions.toggleFailed({server:i,error:Fr.toPlainErrorObject(e)}))}}function*lea({payload:e}){var{password:t,verificationCode:a}=e,i=yield nea(tea);try{var r=yield Object(vr.b)(Fr.post,"/api/v2/user/two_factor/backup_codes",{server:i},{password:t,verificationCode:a});yield Object(vr.h)(ls.actions.generateRecoveryCodesSucceeded({codes:r.data.codes}))}catch(e){yield Object(vr.h)(ls.actions.generateRecoveryCodesFailed({server:i,error:Fr.toPlainErrorObject(e)}))}}function*cea(){for(;;){var e=yield Object(vr.m)(ls.actions.createSecretRequested,sea);yield Object(vr.k)(ls.actions.reset),yield Object(vr.c)(e)}}function*dea(){for(;;){var e=yield Object(vr.m)(ls.actions.toggleRequested,oea);yield Object(vr.k)(ls.actions.reset),yield Object(vr.c)(e)}}function*uea(){for(;;){var e=yield Object(vr.m)(ls.actions.generateRecoveryCodesRequested,lea);yield Object(vr.k)(ls.actions.reset),yield Object(vr.c)(e)}}function*pea(){yield Object(vr.a)([Object(vr.f)(cea),Object(vr.f)(dea),Object(vr.f)(uea)])}function*hea(){yield Object(vr.a)([Object(vr.f)(Q9t),Object(vr.f)(i7t),Object(vr.f)(v7t),Object(vr.f)(C7t),Object(vr.f)(A7t),Object(vr.f)(R7t),Object(vr.f)(B7t),Object(vr.f)(eea),Object(vr.f)(pea)])}var mea=Object(B8t.a)(),vea=Object(mr.a)({reducer:ps,middleware:[mea]});mea.run((function*(){yield Object(vr.a)([Object(vr.f)(z9t),Object(vr.f)(hea)])}));var gea=vea,yea=xe.a.extend({name:"StoreModel",initialize(){this._currentState=gea.getState(),gea.subscribe(()=>{var e=gea.getState();this.trigger("statechange",this,e,this._currentState),this._currentState=e})},getState:()=>gea.getState(),toJSON:()=>gea.getState(),dispatch(e){gea.dispatch(e)}}),fea=F6t.extend({name:"DesktopAppModel",sessionAttrs:{clientID:Ae.a.string,anonymousClientID:Ae.a.string,authorized:Ae.a.boolean.isRequired,skipSignIn:Ae.a.boolean.isRequired,isWaitingForServers:Ae.a.boolean.isRequired,isWaitingForPrimaryServer:Ae.a.boolean.isRequired,history:Ae.a.array.isRequired,forwardHistory:Ae.a.array.isRequired,drmType:Ae.a.oneOf(...Object.values(Ft)),isFirstRun:Ae.a.boolean.isRequired,isFullscreen:Ae.a.boolean.isRequired,castApiAvailability:C9.isRequired,settings:Ae.a.instanceOf(nd)},sessionRelations:{entities:{relationClass:function(e){var t={};for(var a in e){t[e[a]]={relationClass:W6t}}return xe.a.extend({name:"EntitiesModel",sessionRelations:t})}(n)},servers:{relationClass:_6t},cloudServer:{relationClass:$pe,deferred:!0},primaryServer:{relationClass:ai,deferred:!0},companionServer:{relationClass:ai,deferred:!0},transientServer:{relationClass:K3t,deferred:!0},user:{relationClass:Fo,deferred:!0},remotePlayer:{relationClass:xe.a,deferred:!0},deviceSettings:{relationClass:nc},ui:{relationClass:V8t},v4:{relationClass:yea}},defaults(){var e=new $pe({machineIdentifier:pw.a},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,history:[],forwardHistory:[],cloudServer:e,user:new Fo({},{server:e,parent:this}),isFirstRun:!1,isFullscreen:!1,castApiAvailability:1,settings:new nd}},dispatch(e){this.get("v4").dispatch(e)}}),bea=xe.a.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:Ae.a.boolean,other:Ae.a.boolean}}),Iea=xe.a.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:Ae.a.boolean.isRequired,unlinkError:Ae.a.object},syncedAttrs:{authName:Ae.a.string,image:Ae.a.string,label:Ae.a.string.isRequired,linked:Ae.a.boolean.isRequired,nickname:Ae.a.string,url:Ae.a.string.isRequired},syncedRelations:{usage:{relationClass:bea}},defaults:{isUnlinking:!1}}),Sea=ke.a.extend({name:"OauthProviderCollection",model:Iea,context:["server"],url:"/api/v2/authentications/providers",responseType:ct.a}),Mea=xe.a.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:Ae.a.boolean,isOauthProvidersPopulated:Ae.a.boolean,oauthProvidersError:Ae.a.object},sessionRelations:{oauthProviders:{relationClass:Sea}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),Cea=xe.a.extend({name:"PlexPlayerModel",context:["server","baseURL"],rootPropertyName:"Server",sessionAttrs:{volume:Ae.a.integer},syncedAttrs:{machineIdentifier:Ae.a.string,name:Ae.a.string,title:Ae.a.string,address:Ae.a.string,port:Ae.a.string,deviceClass:Ae.a.string,version:Ae.a.string,product:Ae.a.string,protocol:Ae.a.string,protocolVersion:Ae.a.string,protocolCapabilities:Ae.a.list},derivedAttrs:{friendlyName(){return this.get("title")||this.get("name")||this.get("product")},playerIdentifier(){return this.baseURL+":"+this.get("machineIdentifier")}},defaults:{volume:100}}),Dea=ke.a.extend({name:"PlexPlayerCollection",context:["server"],model:Cea,url:"/clients",augmentResponse(e){var t=Object(ie.c)("appModel").get("clientID"),a=parseInt(e.size,10);return 1===a&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):a>1&&(e.Server=e.Server.filter(e=>e.machineIdentifier!==t),e.size=e.Server.length.toString()),e}}),Pea=xe.a.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType(){return Object(st.a)(this.server)},sessionAttrs:{synthetic:Ae.a.boolean},syncedAttrs:{uuid:Ae.a.string,userID:Ae.a.integer,title:Ae.a.string,subtitle:Ae.a.string,progress:Ae.a.integer,event:Ae.a.string,cancellable:Ae.a.boolean,type:Ae.a.string,Context:Ae.a.object,Response:Ae.a.object},defaults:()=>({Context:{},Response:{}})}),Oea=ke.a.extend({name:"ActivityCollection",context:["server"],model:Pea,url:"/activities",responseType(){return Object(st.a)(this.server)}}),jea=So.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});var a,i=0;return(a=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize)<0&&(i=a,a=0),this.models.slice(a,a+this.pageSize+i)}}),Tea=0,wea=it.extend({idAttribute:"id",parse:function(e){var t=e;return t.time=new Date,t.id="evt"+Tea++,"preference"===t._type&&(t.value=String(t.value)),t}}),Eea=jea.extend({model:wea,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),jea.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(D.a.extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(D.a.extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(D.a.extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(D.a.extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(D.a.extend({_type:"websocket"},e),{parse:!0})}}),Nea=xe.a.extend({name:"TranscodeJobModel",context:["server"],entityType:ht.o,entityID(e=this.state){return Object(pt.a)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:Ae.a.integer,syncItemTitle:Ae.a.string,key:Ae.a.string,type:Ae.a.string,progress:Ae.a.float,speed:Ae.a.float,remaining:Ae.a.string,size:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string},responseType(){return Object(st.a)(this.server)}}),xea=ke.a.extend({name:"TranscodeJobCollection",context:["server"],model:Nea,cache:new bo,url:"/sync/transcodeQueue"}),Aea=xe.a.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:xj,entityID(e=this.state){return Object(pt.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:Ae.a.integer,generatorID:Ae.a.integer,targetTagID:Ae.a.integer,syncItemId:Ae.a.integer,syncItemTitle:Ae.a.string,key:Ae.a.string,type:Ae.a.string,progress:Ae.a.float,speed:Ae.a.float,remaining:Ae.a.integer,size:Ae.a.integer,ratingKey:Ae.a.string,title:Ae.a.string,thumb:Ae.a.string}}),Lea=ke.a.extend({name:"BackgroundTranscodeJobCollection",model:Aea,context:["server"],url:"/status/sessions/background"}),kea=xe.a.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:Ae.a.string.isRequired,address:Ae.a.string.isRequired,title:Ae.a.string,manufacturer:Ae.a.string,model:Ae.a.string,modelNumber:Ae.a.string,serialNumber:Ae.a.string}}),Rea=ke.a.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:kea,url:"neighborhood/devices"}),zea=xe.a.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{alerts:Ae.a.instanceOf(Eea).isRequired,hasiTunes:Ae.a.boolean,isHasiTunesPopulated:Ae.a.boolean,isSettingsPending:Ae.a.boolean,isSettingsPopulated:Ae.a.boolean,settingsError:Ae.a.object,isLibrariesPending:Ae.a.boolean.isRequired,isLibrariesPopulated:Ae.a.boolean.isRequired,librariesError:Ae.a.object,cleanBundlesError:Ae.a.string,optimizeDatabaseError:Ae.a.string},sessionRelations:{settings:{relationClass:nm.a,rootPropertyName:"Setting"},cloudAccount:{relationClass:sr},libraries:{relationClass:Mt},activities:{relationClass:Oea},transcodeJobs:{relationClass:xea},backgroundTranscodeJobs:{relationClass:Lea},players:{relationClass:Dea},neighborhoodDevices:{relationClass:Rea},update:{relationClass:k6t}},defaults(){return{alerts:new Eea([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}}),Uea=ms.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:Object.assign({},Yc.prototype.syncedAttrs,{isDirty:Ae.a.boolean}),syncedRelations:Object.assign({},Yc.prototype.syncedRelations)}),Vea=ke.a.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:Cea,augmentResponse:e=>(e.Server||(e.Server=e.Player,delete e.Player),e)}),Bea=xe.a.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:Ae.a.string,title:Ae.a.string,baseURL:Ae.a.string,linkURL:Ae.a.string,provides:Ae.a.list},sessionAttrs:{linkState:Ae.a.string},sessionRelations:{cloudPlayers:{relationClass:Vea,options(){return{url:this.get("baseURL")+"/resources",baseURL:this.get("baseURL")}}}},defaults:{linkState:"untested"}}),Fea=ke.a.extend({name:"CloudCompanionCollection",context:["server"],model:Bea,url:"/api/v2/companions",responseType:ct.a,augmentResponse(e){var t=e,a=Object(ie.c)("appModel"),i=(a&&a.get("deviceSettings")).get("sonosCustomBaseURL");if(i&&t&&t.length){var r=t.find(({identifier:e})=>"tv.plex.sonos"===e);r&&t.push({identifier:"tv.plex.sonos-custom",title:"Sonos (Custom)",baseURL:i,linkURL:Object(_.join)([i,"link"]),provides:r.provides,token:r.token})}return e}}),Hea=xe.a.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:Ae.a.integer,title:Ae.a.string,content:Ae.a.string,imageUrl:Ae.a.string,style:Ae.a.string,url:Ae.a.string,expireAt:Ae.a.string,notifyAt:Ae.a.string,read:{type:Ae.a.boolean,save:!0}},markAsRead(){this.get("read")||this.save("read",!0)}}),_ea=ke.a.extend({name:"AnnouncementCollection",model:Hea,context:["server"],url:"api/announcements"}),Qea=ke.a.extend({name:"SyncItemCollection",context:["server","device"],model:cl}),Wea={ACTIVE:"active",SNOOZED:"snoozed",DEAD:"dead"},Gea=xe.a.extend({name:"SyncListModel",context:["server","device"],url(){return this.device?"/devices/"+this.device.get("clientIdentifier")+"/sync_items":"/servers/"+this.server.id+"/sync_lists"},syncedAttrs:{status:Ae.a.oneOf("active","snoozed","dead"),clientIdentifier:Ae.a.string,version:Ae.a.integer,itemsCompleteCount:Ae.a.integer,totalSize:Ae.a.integer},syncedRelations:{syncItems:{relationClass:Qea,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive(){return"active"===this.get("status")}},augmentResponse:e=>(e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e),sync(e,t,a){var i=ot.addVersionHeaderForDevice(this.get("device"),a);return xe.a.prototype.sync.call(this,e,t,i)},getCollection(){return this.get("syncItems")},resetToServer(e){var t=this.getCollection(),a=t.filter((function(t){var a=t.get("Server");return a&&a.machineIdentifier===e}));t.reset(t.clone(a).models)}},{statuses:Wea}),Yea=xe.a.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:Ae.a.string,clientIdentifier:Ae.a.string,name:Ae.a.string,product:Ae.a.string,productVersion:Ae.a.string,platform:Ae.a.string,platformVersion:Ae.a.string,device:Ae.a.string,model:Ae.a.string,provides:Ae.a.list,screenResolution:Ae.a.string,screenDensity:Ae.a.string,lastSeenAt:Ae.a.integer},syncedRelations:{syncList:{relationClass:Gea,rootPropertyName:"SyncList",deferred:!0,options(){return{device:this}}}},supports(e){return-1!==this.get("provides").indexOf(e)}}),Kea=ke.a.extend({name:"DeviceCollection",context:["server"],model:Yea,url:"/devices.xml",filterSyncDevices(e){var t=!!e&&e.get("isPlaylist"),a=this.filter(e=>{var a=e.get("syncList"),i=a&&a.get("version")>=2,r=t&&!i;return e.supports("sync-target")&&!r});return this.clone(a)},filterByProducts(e){var t=this.filter(t=>D.a.contains(e,t.get("product")));return this.clone(t)},filterByPlatforms(e){var t=this.filter(t=>D.a.contains(e,t.get("platform")));return this.clone(t)},products(){var e=this.map(e=>e.get("product"));return D.a.uniq(e)}}),qea=ke.a.extend({name:"HomeUserCollection2",context:["server"],model:dY,url:"/api/home/users",parse(e){return this.convert(e,"User")}}),Zea=xe.a.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:Ae.a.boolean,isRemoving:Ae.a.boolean},syncedAttrs:{id:{type:Ae.a.string,save:!0},friend:Ae.a.boolean,home:Ae.a.boolean,server:Ae.a.boolean,friendlyName:Ae.a.string,username:Ae.a.string,email:Ae.a.string,thumb:Ae.a.string,createdAt:Ae.a.integer,Server:Ae.a.array},urlRoot:"/api/invites/requests",url(){var e;if(this.isNew())e=D.a.result(this,"urlRoot");else{var t=this.pick("friend","server","home");D.a.each(D.a.keys(t),(function(e){t[e]=t[e]?"1":"0"})),e=(e=this.collection?D.a.result(this.collection,"url"):D.a.result(this,"urlRoot")).replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=_.join(e,t)}return e},augmentResponse:e=>e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach(e=>{e.numLibraries=Object(zs.a)(e.numLibraries)}),e):e,defaults:{isAccepting:!1,isRemoving:!1}}),Xea=ke.a.extend({name:"InviteCollection",context:["server","subset"],model:Zea,url(){return"/api/invites/"+this.subset},initialize(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome(){var e=new uW.a(this);return e.filterBy(e=>e.get("home")),e},filterByFriends(){var e=new uW.a(this);return e.filterBy(e=>!e.get("home")),e}}),Jea=it.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=D.a.isObject(e)?e:Be.a.parseXML(e);return Be.a.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return t=D.a.pick(t,this.whitelistedAttrs)}}),$ea=So.extend({model:Jea,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),eta=xe.a.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:Ae.a.string,name:Ae.a.string,price:Ae.a.float,formattedPrice:Ae.a.string,currency:Ae.a.string}}),tta=ke.a.extend({name:"SubscriptionPlanCollection",context:["server"],model:eta,url:"/api/subscriptions/plans"}),ata=xe.a.extend({name:"WebhookModel",syncedAttrs:{url:Ae.a.string},defaults:{url:""}}),ita=ke.a.extend({name:"WebhookCollection",context:["server"],model:ata,url:"/api/v2/user/webhooks",responseType:ct.a}),rta=xe.a.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isHomeUsersPending:Ae.a.boolean.isRequired,isHomeUsersPopulated:Ae.a.boolean.isRequired,homeUsersError:Ae.a.object,socialNetworks:Ae.a.instanceOf($ea).isRequired,isPlansPending:Ae.a.boolean.isRequired,isPlansPopulated:Ae.a.boolean.isRequired,plansError:Ae.a.object,isUpdatingUser:Ae.a.boolean.isRequired,updateUserError:Ae.a.object,isHomeDetailsPending:Ae.a.boolean,isHomeDetailsPopulated:Ae.a.boolean,homeDetailsError:Ae.a.object,isInvitesPending:Ae.a.boolean,isInvitesPopulated:Ae.a.boolean,invitesError:Ae.a.object,isSentInvitesPending:Ae.a.boolean,isSentInvitesPopulated:Ae.a.boolean,sentInvitesError:Ae.a.object,isWebhooksPending:Ae.a.boolean,isWebhooksPopulated:Ae.a.boolean,webhooksError:Ae.a.object,isUpdatingWebhooks:Ae.a.boolean,isRemovingWebhooks:Ae.a.boolean,updateWebhooksError:Ae.a.object},sessionRelations:{homeUsers:{relationClass:qea},devices:{relationClass:Kea},cloudCompanions:{relationClass:Fea},announcements:{relationClass:_ea},homeDetails:{relationClass:yo},invites:{relationClass:Xea},sentInvites:{relationClass:Xea,options:{subset:"requested"}},plans:{relationClass:tta},webhooks:{relationClass:ita}},defaults(){var e={server:this.server,parent:this};return{isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,socialNetworks:new $ea([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null}}});function nta(e,t){var a,i=[],r=i;function n(){r===i&&(r=i.slice())}function s(e){a=function(e){for(var t={},a=0,i=e.length;a<i;a++){var r=e[a];for(var n in r){var s=t[n],o=r[n];s?Array.isArray(s)?s.push(o):t[n]=[s,o]:t[n]=o}}return t}(e)}return s(e),t.on("statechange",(function(){for(var e=i=r,t=0,a=e.length;t<a;t++)e[t]()})),{dispatch:function e(i){var{payload:r,type:n}=i,s=n&&a[n];if(Array.isArray(s))for(var o=0,l=s.length;o<l;o++)s[o](t,r,e);else s?s(t,r,e):t.dispatch(i);return i},subscribe:function(e){var t=!0;return n(),r.push(e),function(){if(t){t=!1,n();var a=r.indexOf(e);r.splice(a,1)}}},getState:function(){return t.getState()},replaceActionHandlers:s}}function sta(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function ota(e,t){return sta(e).get("epgSettings")}function lta(e,t,a,i={}){var r=sta(e),n=ota(e),s=n.get(a);return s.abortPendingPopulate(),r.get("setupErrorMessages").remove("programGuideSettings"),n.set("isFetching",!0),s.fetch(i).done(()=>{n.set({isFetching:!1,isPopulated:!0})}).fail(()=>{n.set({isFetching:!1,isPopulated:!1}),r.get("setupErrorMessages").add({id:"programGuideSettings",message:Object(Ze.default)("Unable to fetch Guide settings")})})}var cta=uk({RESET_EPG_SETTINGS(e,t){ota(e).restoreDefaults()},FETCH_EPG_COUNTRIES(e,t,a){var i=function(e,{serverEntityID:t}){return Object(hx.a)(e,ht.n,t)}(e,t);lta(e,0,"countries").done(()=>{var e=i.get("countryCode");e&&a(Kz(Object.assign({},t,{countryCode:e})))})},FETCH_EPG_LANGUAGES(e,t,a){var i=ota(e);lta(e,0,"languages").done(()=>{var e=i.get("selectedCountry");e&&a(qz(Object.assign({},t,{languageCode:e.get("language")})))})},SELECT_EPG_COUNTRY(e,t,a){var i=ota(e),r=i.get("countries").get(t.countryCode);if(i.set({selectedCountry:r,postalCode:""}),i.get("regions").reset(),i.get("lineupGroup").get("lineups").reset(),r){var n=r.get("flavor"),s=_.join([i.get("baseUrl"),r.get("key")]);a(Yz(Object.assign({},t,{languageCode:r.get("language")}))),0===n?lta(e,0,"regions",{url:s}):2===n&&(i.set("postalCode",r.get("example")),a(Jz(t)))}},SELECT_EPG_LANGUAGE(e,t,a){var i=ota(e),r=i.get("languages").get(t.languageCode);i.set("selectedLanguage",r)},SELECT_EPG_REGION(e,t,a){var i=ota(e),r=i.get("regions").get(t.regionKey);i.set("selectedRegion",r),i.get("lineupGroup").get("lineups").reset(),r&&a(Jz(t))},SET_EPG_POSTAL_CODE(e,t,a){var i=ota(e),r=t.postalCode;i.set("postalCode",r),i.get("lineupGroup").get("lineups").reset()},FETCH_EPG_LINEUPS(e,t,a){var i=ota(e),r=i.get("selectedCountry"),n=[i.get("baseUrl"),r.get("key")],s={};0===r.get("flavor")?n.push(i.get("selectedRegion").get("key")):s.postalCode=i.get("postalCode"),lta(e,0,"lineupGroup",{url:_.join(n,s)})}});function dta(e){return e.get("ui").get("background")}var uta=uk({CHANGE_BACKGROUND(e,t){var{serverEntityID:a,providerEntityID:i,imageUrl:r,allowBlur:n=!0,allowLightPreset:s=!1}=t,o=dta(e),l=a?Object(Ta.m)(e,t):void 0,c=i?Object(Ta.j)(e,t):void 0;o.set({server:l,provider:c,imageUrl:r,allowLightPreset:s,allowBlur:n,isBackgroundPending:!1})},CHANGE_THEME_MUSIC(e,t){var{serverEntityID:a,theme:i}=t,r=dta(e),n=a?Object(Ta.m)(e,t):void 0,s=n&&i?n.resolveUrl(i,{appendHeaders:!0}):void 0;r.set("themeMusicUrl",s)},RESET_BACKGROUND(e){dta(e).restoreDefaults({isBackgroundPending:!0})}});function pta(e){return e.get("ui").get("metadataListPage")}var hta=uk({INIT_METADATA_LIST_PAGE(e,t){var a=pta(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{providerEntityID:n,listKey:s,listTitle:o}=t;if(n!==a.get("providerEntityID")||s!==a.get("listKey")){var l=Object(sw.a)(e,Tt.a),c=new Qi.default({containerKey:s,containerTitle:o},{server:i,provider:r,includeExternalMedia:l});a.restoreDefaults({providerEntityID:n,listKey:s,metadataList:c})}},[ji.a](e,t,a){var{metadataItemEntityID:i,containerKeyPattern:r}=t;if(!i){var n=Object(Ta.m)(e,t),s=pta(e).get("metadataList");s&&s.server===n&&(r&&!s.get("containerKey").match(r)||a(bx({metadataListEntityID:s.entityID()})))}}}),mta=Object.assign({},e5t,{[Z3t](e,t){var a,i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t);i.get("isTransient")?a="#!/transient/provider/"+encodeURIComponent(r.get("identifier"))+"/details?key="+encodeURIComponent(t.key):a=lu({machineIdentifier:i.get("machineIdentifier")},{identifier:r.get("identifier"),isLibraryProvider:r.get("isLibraryProvider")},t.key);/\/transient\//.test(window.location.hash)?window.location.replace(a):window.location.hash=a}});var vta=Object.assign({},Cw.i,{[Cw.d](e,t,a){var i,r=Object(xme.a)(e,t),n=Object(ine.a)(r),s=t.playerType||I6.d(n),o=Object(e9.c)(e,s),l=Object(Ta.j)(e,t),c=Object(Ta.m)(e,t),d=Object(Ta.f)(e,t),u=e.get("user").get("experienceSettings"),p=va(l.get("identifier"),l.get("providerIdentifier")),h=e.get("remotePlayer"),m=h&&!$8({protocol:h.get("protocol"),protocolCapabilities:h.get("protocolCapabilities"),providerIdentifier:p,userFeaturesByUUID:q8(e),isWatchTogether:!!t.syncplaySessionRoomID,playQueueType:n}),v=s===I6.c&&!P7t(e.get("user").get("services").toJSON(),"parsec");if(m?i=Object(Ze.default)("This content is not currently supported when connected to this remote player."):v&&(i="Please link your Plex and Parsec accounts then try again."),i)Object(wa.a)(()=>{o.set({hasError:!0,errorMessage:i})});else{var g;g=o.get("isOpen")?o.get("openState"):n===X8.a?J8.b:J8.a,Object(eu.a)()&&jt.k(p,[jt.i])&&(g=J8.a);var y=!1;n===X8.b&&t.metadataItemEntityID&&(y=d.get("type")===Wt.k);var f=t.metricsProperties||{};(function(e){var t=Object(ie.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(c)&&(f=Object.assign({},f,{origin:"sync"})),f.identifier||(f.identifier=l.get("metricsIdentifier")),Cw.i[Cw.d](e,Object.assign({extrasPrefixCount:u.get("extrasPrefixCount"),openState:g,isPaused:y},t,{metricsProperties:f}),a)}},[Cw.b](e,t,a){Cw.i[Cw.b](e,Object.assign({openState:J8.b},t),a)},[Cw.a](e,t,a){var i=Object(e9.c)(e,t.playerType),r=i.get("serverEntityID"),n=i.get("providerEntityID"),s=Object(Ta.m)(e,{serverEntityID:r}),o=Object(Ta.j)(e,{providerEntityID:n});Cw.i[Cw.a](e,t,a),s&&o&&a(Fn.actions.ended({source:Object(an.a)({serverIdentifier:s.get("machineIdentifier"),providerIdentifier:o.get("identifier")})}))}});function gta(e){return e.get("ui").get("playlistPage")}var yta=uk({INIT_PLAYLIST_PAGE(e,t){var a=gta(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{serverEntityID:n,providerEntityID:s,metadataKey:o}=t;if(n!==a.get("serverEntityID")||s!==a.get("providerEntityID")||o!==a.get("metadataKey")){var l=new ut.a({key:o,type:Wt.m},{server:i,provider:r});a.restoreDefaults({serverEntityID:n,providerEntityID:s,metadataKey:o,playlist:l})}},INIT_PLAYLIST_ITEM_LIST(e,t){var a=gta(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=a.get("playlist"),{serverEntityID:s,metadataKey:o}=t;if(s!==a.get("serverEntityID")||o!==a.get("metadataKey")||!a.get("playlistItemList")){var l=Object(sw.a)(e,Tt.a),c=n.get("childrenKey"),d=new gt({containerKey:c},{server:i,provider:r,includeExternalMedia:l});a.set({playlistItemList:d})}},RESET_PLAYLIST_ITEM_LIST(e,t){var a=gta(e),i=a.get("playlistItemList");i&&(i.restoreDefaults(),a.unset("playlistItemList"))},FETCH_PLAYLIST:Object(Oa.a)({key:"playlist",getModel:gta}),POPULATE_PLAYLIST_ITEM_RANGE:yw({key:"playlistItemList",getModel:gta}),REPOPULATE_PLAYLIST_ITEMS:fw({key:"playlistItemList",getModel:gta}),SELECT_PLAYLIST_ITEM(e,t,a){var{id:i,type:r,isRangeSelect:n=!1}=t,s=Object(Ta.i)(e,{playlistItemEntityID:i}),o=gta(e).get("playlistItemList").getCollection();s&&a(HN({type:r,model:s,collection:o,isRangeSelect:n}))},DESELECT_PLAYLIST_ITEM(e,t,a){var i=Object(Ta.i)(e,{playlistItemEntityID:t.id});i&&a(WN([i.id]))},MOVE_PLAYLIST_ITEM(e,t){var a=Object(Ta.i)(e,t),i=gta(e).get("playlistItemList"),r=i.getCollection(),n=r.indexOf(a),s=t.moveIndex,o=s-1;if(n!==s&&n!==o){var l=s>n?s-1:s,c=_.join([i.get("containerKey"),a.get("playlistItemID"),"move"],o>=0&&"after="+r.at(o).id),d=a.provider.getXHROptions(c,{type:"PUT"});Object(wa.a)(()=>{r.remove(a),r.add(a,{at:l}),T.a.ajax(d).fail(()=>{r.indexOf(a)===l&&(r.remove(a),r.add(a,{at:n}))})})}},REMOVE_PLAYLIST_ITEM(e,t,a){var i=Object(Ta.i)(e,t),r=gta(e).get("playlistItemList"),n=_.join([r.get("containerKey"),i.get("playlistItemID")]);i.destroy({url:n}).fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error removing this item.")))})},REMOVE_SELECTED_ITEMS(e,t,a){var i=gta(e).get("playlistItemList"),r=i.get("containerKey"),n=i.getCollection(),s=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id"),o=T.a.Deferred().resolve().promise();s.forEach(e=>{var t=n.get(e),a=_.join([r,e]);o=o.then(()=>t.destroy({url:a,wait:!0}))}),o.fail(()=>{a(Object(ji.d)(Object(Ze.default)("There was an unexpected error removing an item.")))})},[pae](e,t,a){var{providerEntityID:i,rating:r}=t,n=gta(e),s=n.get("playlist");if(s){var o=n.get("playlistItemList");"favorites"===s.get("specialPlaylistType")&&i===n.get("providerEntityID")&&(10!==r&&-1!==r||a(HAt({count:o.get("currentPageSize")})))}}}),fta=(Object(Pa.a)("ui/playlistsPage/initPlaylistPage"),Object(Pa.a)("ui/playlistsPage/fetchSorts")),bta=(Object(Pa.a)("ui/playlistsPage/populateSorts"),Object(Pa.a)("ui/playlistsPage/fetchLibraryDetails"));Object(Pa.a)("ui/playlistsPage/populateLibraryDetails");function Ita(e){return e.get("ui").get("playlistsPage")}var Sta={"ui/playlistsPage/initPlaylistPage"(e,t){var a=Ita(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{serverEntityID:n,libraryKey:s,containerKey:o}=t,l=n===a.get("serverEntityID"),c=s===a.get("libraryKey"),d=o===a.get("containerKey");if(!(l&&c&&d)){var u=new Qi.default({containerKey:o},{server:i,provider:r}),p=a.get("libraryDetails"),h=a.get("sorts");l&&c||(p=s&&new Aw({key:s},{server:i,provider:r}),h=new rt.a([],{url:"/playlists/sorts",server:i})),a.restoreDefaults({serverEntityID:n,libraryKey:s,containerKey:o,playlists:u,libraryDetails:p,sorts:h})}},"ui/playlistsPage/fetchLibraryDetails":Object(Oa.a)({key:"libraryDetails",getModel:Ita}),"ui/playlistsPage/populateLibraryDetails":Object(ja.a)({key:"libraryDetails",fetchActionCreator:bta,getModel:Ita}),"ui/playlistsPage/fetchSorts":Object(Oa.a)({key:"sorts",getModel:Ita}),"ui/playlistsPage/populateSorts":Object(ja.a)({key:"sorts",fetchActionCreator:fta,getModel:Ita}),[ji.a](e,t,a){var{metadataItemEntityID:i,containerKeyPattern:r}=t,n=Object(Ta.m)(e,t),s=Ita(e).get("playlists");i||s&&s.server===n&&r&&s.get("containerKey").match(r)&&a(bx({metadataListEntityID:s.entityID()}))}};function Mta(e){return e.get("ui").get("timelinePage")}function Cta(e,t){var a=Mta(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),n=a.get("momentList");n.fetch().done(()=>{var e,t=n.get("key")||"empty",s=a.get("metadataList");e=s&&s.server===i&&s.get("containerKey")===t?s:new Qi.default({containerKey:t},{server:i,provider:r}),a.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:e})}).fail((e,t)=>{a.set({isMomentListPending:!1,momentListError:t})})}var Dta=uk({INIT_TIMELINE_PAGE(e,t){var a=Mta(e),i=Object(Ta.m)(e,t),r=Object(Ta.j)(e,t),{serverEntityID:n,providerEntityID:s,libraryKey:o,momentKey:l}=t;if(n!==a.get("serverEntityID")||s!==a.get("providerEntityID")||l!==a.get("momentKey")){var c=new Aw({key:o},{server:i,provider:r}),d=new R8t({momentKey:l},{server:i,provider:r});a.restoreDefaults({serverEntityID:n,providerEntityID:s,details:c,momentKey:l,momentList:d}),Cta(e,t)}},CLOSE_TIMELINE_PAGE(e){Mta(e).set({momentKey:""})},FETCH_TIMELINE_DETAILS:Object(Oa.a)({key:"details",getModel:Mta}),POPULATE_TIMELINE_DETAILS:Object(ja.a)({key:"details",fetchActionCreator:yIt,getModel:Mta}),[ji.a](e,t){var{metadataItemEntityID:a,containerKeyPattern:i}=t,r=Object(Ta.m)(e,t),n=Object(Ta.j)(e,t),s=Mta(e),o=s.get("metadataList"),l=s.get("momentKey");if(!a&&l&&o&&o.server===r&&o.provider===n){var c=o.get("containerKey");c&&(i&&!c.match(i)||Cta(e,t))}}}),Pta=Object.assign({},ji.e,{[ji.b](e,t){H.a.trigger("show:alert",t)}}),Ota=[yit,Q1,$Zt,C2,bu,hL,DG,s1,FG,iie,Ex,px,BZt,ret,fEt,nlt,kXt,Xse,Bse,Pta,uta,yMt,hta,KCt,lze,Dta,Sta,aqt,yta,fbe,jX,Pze,M6e,Bx,voe,hne,tUe,kY,dJt,Z6,fee,aat,sR,_z,cta,Fyt,$De,YMe,jhe,bse.u,dve,vta,RVe,_He,S9,B8,mta,Dme];a("rPoc");function jta(e){try{return window.localStorage.getItem(e)}catch(t){O.a.debug("[Vote] Unable to get "+e+" from storage due to error:",t.message)}}function Tta(e,t){try{return window.localStorage.setItem(e,t)}catch(a){O.a.debug("[Vote] Unable to set "+e+": "+t+" in storage due to error:",a.message)}}function wta(e){try{return window.localStorage.removeItem(e)}catch(t){O.a.debug("[Vote] Unable to remove "+e+" from storage due to error:",t.message)}}var Eta={id:null,time:null};var Nta=function({id:e=Pe(),getItem:t=jta,setItem:a=Tta,remove:i=wta,electionDuration:r=500,maxLeaderAge:n=9e4,minLeaderRefreshDuration:s=1e4}){function o(t=Date.now()){return l(t).id===e}function l(e){try{var{id:a,time:i}=JSON.parse(t("vote/leader"));return e-i<n?{id:a,time:i}:Eta}catch(e){return Eta}}var c,d=!1;function u(){window.clearTimeout(c),c=window.setTimeout(()=>{var t=Date.now(),{id:a}=l(t);if(a){var i=a===e;i!==d&&(O.a.debug(i?"[Vote:"+e+"] Elected":"[Vote:"+e+"] Unelected"),h.leaderStatusChanged.forEach(e=>e(i))),d=i}else O.a.debug("[Vote:"+e+"] Election ended with no leader found"),p(t)},r)}function p(t=Date.now()){var{id:i,time:r}=l(t);i===e&&t-r>s?(O.a.debug("[Vote:"+e+"] Upvote, refreshing my leader time"),a("vote/leader",JSON.stringify({time:t,id:e}))):i===e?O.a.debug("[Vote:"+e+"] Upvote, chilling since leader time is fresh"):i?O.a.debug("[Vote:"+e+"] Upvote, someone else is leader"):(O.a.debug("[Vote:"+e+"] Upvote, becoming leader"),a("vote/leader",JSON.stringify({time:t,id:e}))),u()}var h={leaderStatusChanged:[]};return{on:function(e,t){h[e].push(t)},off:function(e,t){h[e]=h[e].filter(e=>e!==t)},isLeader:o,up:p,down:function(t=Date.now()){o(t)?(O.a.debug("[Vote:"+e+"] Downvote, stepping down as leader"),i("vote/leader")):O.a.debug("[Vote:"+e+"] Downvote, chilling since someone else is leader"),u()}}};var xta=function(){var e=Nta({maxLeaderAge:9e4});return window.addEventListener("storage",t=>{"vote/leader"===t.key&&e.up()}),window.addEventListener("beforeunload",()=>{e.down()}),e.up(),window.setInterval(e.up,6e4),e},Ata=Yl.extend({name:"PersistentWebStorage",getStorage:()=>window.localStorage}),Lta=Yl.extend({name:"VolatileWebStorage",getStorage:()=>window.sessionStorage}),kta=a("irRM"),Rta=a("NlKi"),zta=a.n(Rta);zta.a.debug=!1;var Uta={},Vta={},Bta={userTitle:"username",userID:"id"},Fta=!1,Hta={init(e){zta.a.config(e)},enable(){Fta||(Fta=!0,zta.a.install())},disable(){Fta&&(Fta=!1,zta.a.uninstall())},set(e={}){for(var t in e){var a=e[t];"release"===t?zta.a.setRelease(a):Bta[t]?(Vta[Bta[t]]=a,zta.a.setUserContext(Vta)):(Uta[t]=a,zta.a.setTagsContext(Uta))}},capture(e,t){zta.a.captureException(e,t)}},_ta=Object.assign({},Hta,{init(e){var t=new RegExp(Sd("-plex-4.47.3-927d87d"));zta.a.config(e,{shouldSendCallback:e=>t.test(e.culprit)&&!1===/songId/.test(e.message)})}}),Qta={};function Wta(e){return null==e?"":e}function Gta(e,...t){for(var a,i=1,r=t.length;i<=r;)(a=Qta[i])||(a=new RegExp(Sd("{"+i+"}"),"g"),Qta[i]=a),e=e.replace(a,Wta(t[i-1])),i++;return e}function Yta(e,...t){return D.a.isObject(t[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,(e,a)=>t.hasOwnProperty(a)?Wta(t[a]):e)}(e,t[0]):D.a.isObject(t[t.length-1])?(t.pop(),Gta(e,...t)):Gta(e,...t)}var Kta={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t,...a){return Yta(function(e,...t){if(!e)return"";var a=t[t.length-1];return D.a.isObject(a)&&a&&a.escape?D.a.escape(e):e}(e.call(this,t)||t,t,...a),...a)}}((function(e,...t){return this.getTranslation(e,...t)})),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;var t,a=this.getLanguages();return t=D.a.has(a,e)?D.a.has(this.translations,e)?T.a.Deferred().resolve().promise():T.a.ajax({dataType:"json",url:Object(_.join)([this.basePath,a[e]])}):T.a.Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=t,t.done(D.a.bind(this.onLoadSuccess,this,t)),t.fail(D.a.bind(this.onLoadError,this,t)),t},onLoadSuccess:function(e,t){var a=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=a,t&&(this.translations[a]=t),H.a.trigger("change:language",a))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}},qta=Ee.a.extend({mixins:Kta,constructor:function(){this.basePath=Object(_.join)(["/web/","translations"]),this.translations={},Object(ie.d)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders(){var e=Object(ie.c)("appModel"),t=e.get("servers").map(t=>{if(t.get("isCloud")){var a=e.get("user").get("providers");return Ce(a.map(e=>(Object(ie.c)("appStore").dispatch(yAe({providerEntityID:e.entityID(),options:{merge:!0}})),use(e))))}if(t.get("isConnected"))return Object(ie.c)("appStore").dispatch(Fa({serverEntityID:t.entityID(),options:{merge:!0}})),use(t)});return Ce(t)},onAppModelRegistered(){0}}).extend({onAppModelRegistered(e){e.on("change:user.change:experienceSettings.change:language",(e,t)=>{this.load(t).done(()=>{Fr.setOption("language",t),this._repopulateProviders()})})}}),Zta={registerAll:function(){Du.a.register(new qta),ee.register(_ta)}};var Xta=function(){return"bundled"},Jta={init(){var e=Object(ie.c)("appModel"),t=window.innerWidth+"x"+window.innerHeight,a=window.screen.width+"x"+window.screen.height,i={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.47.3","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":Td.a.name,"X-Plex-Platform-Version":Td.a.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media,indirect-media","X-Plex-Model":Xta(),"X-Plex-Device":Td.a.platform,"X-Plex-Device-Name":Td.a.name,"X-Plex-Device-Screen-Resolution":t+","+a};return e.on("change:clientID",(e,t)=>{i["X-Plex-Client-Identifier"]=t}),T.a.Deferred().resolve(i).promise()}},$ta=a("JBE3"),eaa=a.n($ta),taa={maxWidth:1920,maxHeight:1080,maxBitDepth:10},aaa={maxWidth:4096,maxHeight:2160,maxBitDepth:10},iaa='width="'+taa.maxWidth+'"; height="'+taa.maxHeight+'"',raa='width="'+aaa.maxWidth+'"; height="'+aaa.maxHeight+'"';function naa(e){if(!xp.a)return!1;var t=Object(Ou.a)("video",!0),a=t.canPlayType(e);return Object(Ou.b)(t),"probably"===a}function saa(e){var t,a;return!!xp.a&&(null!=(t=null==(a=window.MediaSource)?void 0:null==a.isTypeSupported?void 0:a.isTypeSupported(e))&&t)}function oaa(e,t){if(Array.isArray(e))return Array.from(new Set(e.concat(t)))}function laa(e,t){return(a,i)=>{e(a)&&eaa()(t,i,oaa)}}var caa=function(){var e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},a='width="'+e.maxWidth+'"; height="'+e.maxHeight+'"',i='width="'+t.maxWidth+'"; height="'+t.maxHeight+'"',r=Object.assign({},e,{maxFrameRate:60}),n={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:Object.assign({},r)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:Object.assign({},r,{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{mp3:{}},maxBitrate:320,maxChannels:2}}}},s=[{types:['video/mp4; codecs="avc1.42E01E"; '+i],fragment:{video:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}}},{types:['video/webm; codecs="vp8, opus"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+a],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp8, opus"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+i],fragment:{video:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}}],o=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:e=>{var t=Object(Ou.a)("video",!0),a=t.canPlayType(e);return Object(Ou.b)(t),"probably"===a};if(s.forEach(e=>{e.types.some(o)?(O.a.debug("[Player] Types %o provided %o",e.types,e.fragment),T.a.extend(!0,n,e.fragment)):O.a.debug("[Player] Types %o are unsupported",e.types)}),"safari"===Td.a.id&&Qa(Td.a.platformVersion,"10.11")){var l={codecs:{ac3:{},eac3:{}}};T.a.extend(!0,n.video,{directPlay:{mp4:{audio:l}},directStream:{audio:l}})}return T.a.extend(!0,n,function({canDirectPlay:e,canDirectStream:t}={canDirectPlay:naa,canDirectStream:saa}){var a={video:{directPlay:{},directStream:{}}},i=laa(e,a),r=laa(t,a);return i('video/mp4; codecs="hvc1"; '+iaa,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},taa,{codecID:["hvc1"]})}}}}}}),i('video/mp4; codecs="hev1"; '+iaa,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},taa,{codecID:["hev1"]})}}}}}}),i('video/mp4; codecs="hvc1"; '+raa,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},aaa,{codecID:["hvc1"]})}}}}}}),i('video/mp4; codecs="hev1"; '+raa,{video:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},aaa,{codecID:["hev1"]})}}}}}}),r('video/mp4; codecs="hvc1"; '+iaa,{video:{directStream:{video:{codecs:{hevc:taa}}}}}),r('video/mp4; codecs="hev1"; '+iaa,{video:{directStream:{video:{codecs:{hevc:taa}}}}}),r('video/mp4; codecs="dvhe"; '+iaa,{video:{directStream:{video:{codecs:{hevc:taa}}}}}),r('video/mp4; codecs="hvc1"; '+raa,{video:{directStream:{video:{codecs:{hevc:aaa}}}}}),r('video/mp4; codecs="hev1"; '+raa,{video:{directStream:{video:{codecs:{hevc:aaa}}}}}),r('video/mp4; codecs="dvhe"; '+raa,{video:{directStream:{video:{codecs:{hevc:aaa}}}}}),a}()),O.a.debug("[Player] Final player profile %o",n),n},daa={registerAll(){var e=Jta.init();e.done(e=>$.register(e));var t=new Ata;De.register(t),ql.register(new Lta),Zta.registerAll();var a=caa(),i={audioCapabilities:[{contentType:'audio/mp4; codecs="flac"'}]},r=bd().then(e=>{var t=kta.a[e];return fd(i,[t])}).then(()=>{F8.register(T.a.extend(!0,{},a,{music:{directPlay:{mp4:{audio:{codecs:{flac:{}}}}}}}))},()=>{F8.register(a)});return Ce([e,r])}};function uaa(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,a=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,i=!(!t||!a);return{hasFullscreen:i,shouldExitOnPlayerClose:!0,initialize(e){var{dispatchEnterFullscreen:t,dispatchExitFullscreen:a}=e;function i(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():a()}return i(),document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i),T.a.Deferred().resolve().promise()},enter(){i&&t.call(e)},exit(){i&&a.call(document)}}}var paa=a("YDKO"),haa=a("Q+xW"),maa={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},vaa=Object.assign({},maa,{seekTo:!1});function gaa(e,t){var a,i,r,n=t.dispatch,s=!1,o=0,l=0,c=null,d={},u={};window.__onGCastApiAvailable=function(e){var t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(n(z8((t?2:Jd()&&3)||1)),!t)return void O.a.warn("[Cast] API is not available");var a=window.cast.framework,i=m();i.setOptions({receiverApplicationId:h(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),i.addEventListener(a.CastContextEventType.SESSION_STATE_CHANGED,M)},Jd()&&n(z8(3));var p=document.createElement("script");function h(){var t=e.get("deviceSettings"),a=t.get("chromecastAppID"),i=t.get("chromecastCustomAppID");return a===rc.CUSTOM&&i?i:a||rc.PRODUCTION}function m(){if(2===e.get("castApiAvailability"))return window.cast.framework.CastContext.getInstance()}function v(){if(i)return i.customData}function g(e){return e.isMute()?0:Math.round(100*e.getVolume())}function y(e){if(e){var{customData:t,media:a}=e;if(t&&t.playQueueType)return t.playQueueType;if(a&&a.metadata&&a.metadata.metadataType){var i=window.chrome.cast.media.MetadataType;switch(a.metadata.metadataType){case i.MOVIE:case i.TV_SHOW:return X8.d;case i.MUSIC_TRACK:return X8.a;case i.PHOTO:return X8.b}}}}function f(e){if(e){var{customData:t}=e;return t.playbackSessionID}}function b(e){var t=v();if(t){var{mediaIndex:a,partIndex:r,adState:s,adTime:o,adDuration:l,liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:h,liveTVSessionCurrentPosition:m,liveTVSessionChannelIdentifier:g,server:f,providerIdentifier:b,isPostPlay:I}=t,S=Object.assign({},I?vaa:maa);f.machineIdentifier===pw.a&&delete S.quality,b&&jt.k(b,[jt.c,jt.b])&&(delete S.autoPlay,delete S.subtitleColor,delete S.subtitlePosition,delete S.subtitleSize,delete S.subtitleOffset),n(i9({playQueueType:y(i),playerState:Object.assign({},e,{mediaIndex:a,partIndex:r,adState:s,adPositionSeconds:Math.round(o/1e3||0),adDurationSeconds:Math.round(l/1e3||0),controllable:S}),liveTVSessionSubscriptionKey:c,liveTVSessionStartedAt:d,liveTVSessionSeekRangeStartedAt:u,liveTVSessionSeekStartSeconds:p,liveTVSessionSeekEndSeconds:h,liveTVSessionCurrentPosition:m,liveTVSessionChannelIdentifier:g,providerIdentifier:b,machineIdentifier:f.machineIdentifier}))}}function I(){l&&l--}function S(){o&&o--}function M(e){var t=window.cast.framework,{session:i,sessionState:r,errorCode:s}=e;switch(r){case t.SessionState.NO_SESSION:Object(O.a)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:Object(O.a)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:Object(O.a)('[Cast] Session failed to start with code "'+s+'"');break;case t.SessionState.SESSION_RESUMED:Object(O.a)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:O.a.warn("[Cast] Session has disconnected")}switch(a&&(a.removeEventListener(t.SessionEventType.MEDIA_SESSION,C),i.removeEventListener(t.SessionEventType.VOLUME_CHANGED,T)),d={},u={},r){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:P(!1),a=null,n(h9());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:a=i,i.addEventListener(t.SessionEventType.MEDIA_SESSION,C),i.addEventListener(t.SessionEventType.VOLUME_CHANGED,T),n(V8(Object.assign({},i.getCastDevice(),{volume:g(i)})));var o=i.getMediaSession();o&&C({mediaSession:o})}}function C({mediaSession:e}){i&&i.removeUpdateListener(P),i=e,e.addUpdateListener(P),d={},u={}}function P(e){var t=window.chrome.cast.media.PlayerState,a=y(i);if(a!==c&&c&&(Object(O.a)("[Cast] play queue type changed from %o to %o, idling old player",c,a),d[c]=null,u[c]=null,n(p9({playQueueType:c}))),c=a,i&&e&&!s){var{playerState:o,currentTime:l,media:p}=i;b({isPaused:o===t.PAUSED,isBuffering:o===t.BUFFERING,positionSeconds:Math.round(l||0),durationSeconds:Math.round(p.duration||0),playbackSessionID:f(i)}),function(){var e=window.chrome.cast.media.PlayerState,t=v();if(t){var{containerKey:a,key:r,playQueueItemID:s,playQueueVersion:o,mediaIndex:l,partIndex:c,bitrate:p,server:h,providerIdentifier:m}=t,g=y(i),f=d[g],b=u[g],I=s!==f||o!==b;d[g]=s,u[g]=o,n(a9({playQueueType:y(i),options:{machineIdentifier:h.machineIdentifier,providerIdentifier:m,containerKey:a,key:r,mediaIndex:l,shouldRefreshPlayQueue:I,playQueueItemID:s,bitrate:p,initialState:{isPaused:i.playerState===e.PAUSED,isBuffering:i.playerState===e.BUFFERING,positionSeconds:Math.round(i.currentTime||0),durationSeconds:Math.round(i.media.duration||0),mediaIndex:l,partIndex:c}}}))}}(),function(){var e=v();if(e){var{mediaIndex:t,bitrate:a}=e;n(n9({playQueueType:y(i),mediaIndex:t,bitrate:a}))}}(),function(){var e=v();if(e){var{playQueueType:t,playQueueVersion:a,repeat:i}=e;n(r9({playQueueType:t,playQueueVersion:a,repeatAll:i===t5t.a||i===t5t.c,repeatOne:i===t5t.c}))}}(),function(){var e=v();if(e){var{key:t,mediaIndex:a,partIndex:r,audioStreamID:s,subtitleStreamID:o}=e;null==s&&null==o||n(s9({playQueueType:y(i),key:t,mediaIndex:a,partIndex:r,audioStreamID:s,subtitleStreamID:o}))}}(),o===t.PLAYING?r||(r=window.setTimeout(j,1e3)):r&&(window.clearTimeout(r),r=null)}else O.a.warn("[Cast] Update ignored; no alive media session"),r&&(window.clearTimeout(r),r=null),i&&a&&i.playerState===t.IDLE&&(d[a]=null,u[a]=null,n(p9({playQueueType:a})))}function j(){if(i){var e=Math.round(i.getEstimatedTime()||0);e&&b({positionSeconds:e}),r=window.setTimeout(j,1e3)}else O.a.warn("[Cast] Position update ignored; no media session")}function T(){l||o||a&&n(l9(g(a)))}function w(e){a?(Object(O.a)('[Cast] Sending custom message with type "'+e.type+'"'),a.sendMessage("urn:x-cast:plex",e,null,e=>{O.a.warn('[Cast] Failed to send custom message with error "'+e+'"')})):O.a.warn('[Cast] Custom message "'+e.type+'" ignored; no cast session')}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){var e=m();e?(Object(O.a)("[Cast] Requesting session"),e.requestSession()):O.a.warn("[Cast] Request session ignored; no cast context")},endSession:function(){var e=m();e?(Object(O.a)("[Cast] Ending session"),e.endCurrentSession()):O.a.warn("[Cast] End session ignored; no cast context"),d={},u={}},startPlayback:function(t){if(a){var i,r=e.get("user"),o=e.get("deviceSettings"),l=r.get("experienceSettings"),c=t.get("playQueue"),d=c.get("type"),u=c.get("playQueueItems").get(c.get("playQueueSelectedItemID")),p=u.get("metadataItem"),h=t.get("startMediaIndex"),m=c.server,v=t.get("providerEntityID"),g=Object(Ta.j)(e,{providerEntityID:v}),y=Object(Wt.u)(u.get("type"));if((y&&y.mediaType===tl.a?tl.a:tl.e)===tl.e){var f=function(e,t,a){var i=t.get("qualityIndex");if(null!=i)return i;var r=e.server.get("isPrivateConnection");if(r&&a.get("useHomeStreamingRecommendedSettings"))return a.defaults().localQuality;var n=Object(D3t.a)(e,r);return a.get(n)}(p,t,l),I=gl.a.getQualityByIndex(f);i=I.bitrate}s=!0,f6t(m).done(e=>{var u=t.get("liveTVSession"),m=u?Hme(u):Math.floor(Object(che.a)(t,p)/1e3),v={playQueueType:d,providerIdentifier:g.get("identifier"),containerKey:_.join([D.a.result(c,"url")],{own:1}),offset:m,directPlay:o.get("directPlay"),directStream:o.get("directStream"),mediaIndex:h,bitrate:i,playbackSessionID:t.get("playbackSessionID"),audioBoost:l.get("audioBoost"),subtitleColor:l.get("subtitleColor"),subtitlePosition:l.get("subtitlePosition"),subtitleSize:l.get("subtitleSize"),autoPlay:l.get("autoPlay"),repeat:Object(haa.a)({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:l.get("audioForceMultiChannel"),server:e,user:{username:r.get("username")},liveTVSessionSubscriptionKey:u?u.get("key"):null,liveTVSessionChannelIdentifier:u?u.get("channelIdentifier"):null,debugAdKind:o.get("debugAdKind")||tc.a.NONE},y=window.chrome.cast.media,f=new y.MediaInfo(p.get("key"));f.customData=v;var I=new y.LoadRequest(f);I.currentTime=m,I.autoplay=!0,Object(O.a)("[Cast] Sending load media request"),a.loadMedia(I).then(()=>{Object(O.a)("[Cast] Load media success"),s=!1,b({isMediaLoading:!1})},e=>{O.a.warn('[Cast] Failed to load media with error "'+e+'"'),s=!1,n(c9({playQueueType:d}))})}).fail(()=>{s=!1,n(c9({playQueueType:d,errorMessage:Object(Ze.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:m.get("friendlyName")})}))})}else O.a.warn("[Cast] Start playback ignored; no cast session")},mirrorDetails:function(t){if(a){var i=e.get("user"),r=t.server,n=t.provider;f6t(r).done(e=>{var a={server:e,providerIdentifier:n.get("identifier"),user:{username:i.get("username")}},r=new window.chrome.cast.media.MediaInfo(t.get("key"));r.customData=a,w({type:paa.p,media:r})})}else O.a.warn("[Cast] Mirror details ignored; no cast session")},sendMessage:w,setVolume:function(e){a?(Object(O.a)('[Cast] Setting volume to "'+e+'"'),n(l9(e)),e?(a.isMute()&&(o++,a.setMute(!1).then(S,S)),l++,a.setVolume(e/100).then(I,I)):(o++,a.setMute(!0).then(S,S))):O.a.warn("[Cast] Set volume ignored; no cast session")}}}function yaa(){Object(ie.b)({CloudServerFlexModel:Mea,ServerFlexModel:zea,UserFlexModel:rta}),Object(ie.b)({UserExperienceSettingsModel:Yc,StoredUserExperienceSettingsModel:Uea});var e=new fea,t=function(e){return nta(Ota,e)}(e);return Object(ie.b)({appModel:e,appStore:t}),Object(ie.b)({adPlayerComponent:n3t,companionPlayerProfile:c3t,companionProxy:new B4t,companionVote:xta(),fullscreenManager:uaa(),remoteCastPlayerManager:gaa(e,t),getDecisionOptions:A3t,mediaComponent:v3t,serviceWorker:(F.a.hasServiceWorker,{register:()=>(F.a.hasServiceWorker,Object(O.a)("[Workers] Registered mock service worker"),Promise.resolve()),sendMessage:e=>(O.a.debug("[Workers] Mock worker sending message %o",e),Promise.resolve())}),sessionStats:new F4t}),function(){var e,t,a=Object(ie.c)("appModel"),i=Object(ie.c)("appStore");return Object(ie.b)({settingFinder:p5t(a),selectRemoteQuality:w6t,selectRestorePlayQueue:E6t,selectSubtitleSettings:N6t,selectLocalVolume:Q3t}),Object(ie.b)({metricsReporter:[(e=new L3t,t=null,{setBaseUrl(e){t=e},trackEvent(a){if(t){var i=_.join([t,"collect/event"]),r=JSON.stringify(a);e.send({type:"POST",url:i,contentType:"text/plain",data:r})}else Object(P.a)(!1,"Network metrics reporters requires a base URL to be set before tracking events")}}),R3t],logs:new T6t([],{parent:a}),testServerConnection:V3t}),Object(ie.b)({companionServerManager:new v5t({appModel:a}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:()=>Object(Ze.default)("Open Keyboard Shortcuts")},{keys:["esc"],fn:"escape",group:"navigation",label:()=>Object(Ze.default)("Close Modal or Menu")},{keys:["g h"],fn:"home",group:"navigation",label:()=>Object(Ze.default)("Navigate to Home")},{keys:["g s"],fn:"settings",group:"navigation",label:()=>Object(Ze.default)("Navigate to Settings")},{keys:["g d"],fn:"activity",group:"navigation",label:()=>Object(Ze.default)("Navigate to Dashboard")},{keys:["g u"],fn:"usersSharing",group:"navigation",label:()=>Object(Ze.default)("Navigate to Users & Sharing")},{keys:["/"],fn:"search",group:"actions",label:()=>Object(Ze.default)("Focus Search")},{keys:["p"],fn:"playSelected",group:"actions",label:()=>Object(Ze.default)("Open Player")},{keys:["w"],fn:"togglePlayed",group:"actions",label:()=>Object(Ze.default)("Toggle as Played/Unplayed")},{keys:["e"],fn:"edit",group:"actions",label:()=>Object(Ze.default)("Edit Metadata")},{keys:["i"],fn:"info",group:"actions",label:()=>Object(Ze.default)("Get Info")},{keys:["shift+s"],fn:"save",group:"actions",label:()=>Object(Ze.default)("Save Changes")},{keys:["space","play_pause"],fn:"playPause",group:"player",label:()=>Object(Ze.default)("Play or Pause")},{keys:["play"],fn:"play",group:"player",label:()=>Object(Ze.default)("Play")},{keys:["pause"],fn:"pause",group:"player",label:()=>Object(Ze.default)("Pause")},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:()=>Object(Ze.default)("Toggle FullScreen")},{keys:["down"],fn:"decreaseVolume",group:"player",label:()=>Object(Ze.default)("Decrease Volume")},{keys:["up"],fn:"increaseVolume",group:"player",label:()=>Object(Ze.default)("Increase Volume")},{keys:[",","left"],fn:"seekBackward",group:"player",label:()=>Object(Ze.default)("Seek Backward (10 seconds)")},{keys:[".","right"],fn:"seekForward",group:"player",label:()=>Object(Ze.default)("Seek Forward (30 seconds)")},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:()=>Object(Ze.default)("Step Backward (10 minutes)")},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:()=>Object(Ze.default)("Step Forward (10 minutes)")},{keys:["shift+left"],fn:"skipPrevious",group:"player",label:()=>Object(Ze.default)("Skip to Previous Item")},{keys:["shift+right"],fn:"skipNext",group:"player",label:()=>Object(Ze.default)("Skip to Next Item")},{keys:["x"],fn:"stop",group:"player",label:()=>Object(Ze.default)("Close Player")}],triggerShortcut(e){var t="shortcut:"+e;if(H.a.hasListener(t))return H.a.trigger(t),!1},help(e){H.a.trigger("show:modal",new zde({shortcuts:this.shortcuts}))},escape(e){H.a.trigger("shortcut:escape")},dashboard(e){H.a.trigger("navigate","dashboard")},home(e){H.a.trigger("navigate","dashboard")},settings(e){rr("webSettings",{settingsSubset:"general"})},activity(e){var t=ie.c("appModel").get("primaryServer");t&&!t.get("isShared")&&rr("serverDashboard",{serverID:t.id})},usersSharing(e){H.a.trigger("navigate","usersSharing")},search(e){return this.triggerShortcut("search")},playSelected(e){return this.triggerShortcut("playSelected")},togglePlayed(e){return this.triggerShortcut("togglePlayed")},edit(e){return this.triggerShortcut("edit")},info(e){return this.triggerShortcut("info")},save(e){return this.triggerShortcut("save")},playPause(e){return this.triggerShortcut("playPause")},play(e){return this.triggerShortcut("play")},pause(e){return this.triggerShortcut("pause")},toggleFullScreen(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume(e){return this.triggerShortcut("decreaseVolume")},increaseVolume(e){return this.triggerShortcut("increaseVolume")},seekBackward(e){return this.triggerShortcut("seekBackward")},seekForward(e){return this.triggerShortcut("seekForward")},stepBackward(e){return this.triggerShortcut("stepBackward")},stepForward(e){return this.triggerShortcut("stepForward")},skipPrevious(e){return this.triggerShortcut("skipPrevious")},skipNext(e){return this.triggerShortcut("skipNext")},stop(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:v6t(a,i,{getPlayerModels(e){var t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:W3t.a}),localCompanionCommandHandler:u5t,mediaServerEventConnection:B6t,metrics:[new D5t({isPlaybackActive:_3t}),k3t],primaryServerManager:new P5t({appModel:a}),providerManager:new O5t({appModel:a}),remotePlexPlayerManager:b6t(a,i),serverConnectionManager:new y5t({appModel:a}),serverConnectionTestManager:new T5t({appModel:a}),serverManager:new N5t({appModel:a}),serverUpdateManager:new x5t({appModel:a}),sourceManager:new A5t({appModel:a}),syncplaySessionManager:new n6t({appModel:a,appStore:i}),watchTogetherRoomsManager:new p6t({appModel:a,appStore:i})}),T.a.Deferred().resolve().promise()}().then(daa.registerAll)}var faa=new B.Application;faa.addInitializer(()=>yaa().then(()=>y4t()).then(()=>(I.c.history.start(),T.a.Deferred().resolve().promise())));var baa=faa;a("tuLj");baa.start()},gjek:function(e,t,a){e.exports={serverButton:"SelectPreferredServerItem-serverButton-29jc7n",isSelected:"SelectPreferredServerItem-isSelected-daviyr",friendlyName:"SelectPreferredServerItem-friendlyName-2aHvL6",serverMenuIcon:"SelectPreferredServerItem-serverMenuIcon-d3k6mW",titles:"SelectPreferredServerItem-titles-mvqGjT",isUnavailable:"SelectPreferredServerItem-isUnavailable-JNfkys",title:"SelectPreferredServerItem-title-2YCAba",details:"SelectPreferredServerItem-details-33OHk_"}},gmpS:function(e,t,a){e.exports={jumpBar:"DirectoryListJumpBar-jumpBar-397HqV",character:"DirectoryListJumpBar-character-TJRgel Link-link-2ew_DK"}},grBd:function(e,t,a){e.exports={hub:"VirtualHubScroller-hub-3Pu2m6",hubHeader:"VirtualHubScroller-hubHeader-216w6Z",hubActions:"VirtualHubScroller-hubActions-28Hhyo",hubScrollButton:"VirtualHubScroller-hubScrollButton-Lw8gSe IconButton-iconButton-2l04Bi Link-link-2ew_DK",hubScroller:"VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},gsFU:function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));var i=a("F/us"),r=a.n(i),n=a("+zWO");function s(e,t={}){var{onlyIfCached:a=!0}=t;if(e){if(e.section)return e.section;if(e.get("isSection"))return e;var i=e.get("librarySectionID");if(i){var o=new n.a({key:i},{server:e.server,onlyIfCached:a});return r.a.isEmpty(o)?void 0:o}return e.parent?s(e.parent,t):void 0}}},gxMp:function(e,t,a){e.exports={hubCellTitle:"HubCellTitle-hubCellTitle-2abInv"}},gxfN:function(e,t,a){e.exports={innerPageContent:"HeroPageContent-innerPageContent-2XvJMX PageContent-innerPageContent-3ktLTA",content:"HeroPageContent-content-3EXgTZ PageContent-innerPageContent-3ktLTA",title:"HeroPageContent-title-3paxUK",hasBadge:"HeroPageContent-hasBadge-2L4PcY"}},h1VY:function(e,t,a){e.exports={page:"Page-page-aq7i_X"}},h3e2:function(e,t,a){e.exports={container:"DurationRemaining-container-1F4w8F"}},h5wC:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(r(a("ortX")).call(t,"Server Setup",{hash:{},data:s}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(r(a("ortX")).call(t,"Name",{hash:{},data:s}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(r(a("ortX")).call(t,"Media Library",{hash:{},data:s}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(r(a("ortX")).call(t,"Finish",{hash:{},data:s}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '}))},h7fT:function(e,t,a){e.exports={header:"SettingsPageHeader-header-1ugtIL"}},hDAk:function(e,t,a){e.exports={smartPlaylistBadge:"SmartPlaylistBadge-smartPlaylistBadge-2VXkAv Badge-badge-3I6Kzp"}},"hG+J":function(e,t,a){e.exports={menu:"AudioVideoQualityMenuInput-menu-2i8jzi Menu-menu-3XnN6J"}},hGck:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;function d(e,t){return"hidden"}function u(e,t){return"checked"}return l+='<div class="form-group ',((o=i.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((o=i.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.unwatched,{hash:{},inverse:this.noop,fn:this.program(3,u,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Unwatched only",{hash:{},data:s}))+' </label> </div> <div class="form-group ',((o=i.unless.call(t,t&&t.isDirectory,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((o=r(a("YFQD")).call(t,null==(o=t&&t.policy)||!1===o?o:o.scope,"count",{hash:{},inverse:this.noop,fn:this.program(3,u,s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"Limit to",{hash:{},data:s}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((o=i.if.call(t,null==(o=t&&t.policy)||!1===o?o:o.value,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var a,i="";return i+='value="'+c("function"==typeof(a=null==(a=e&&e.policy)||!1===a?a:a.value)?a.apply(e):a)+'"'}),s),data:s}))||0===o)&&(l+=o),l+="> "+c(r(a("ortX")).call(t,"items",{hash:{},data:s}))+' </label> <p class="convert-warning help-block ',((o=i.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:this.noop,fn:this.program(1,d,s),data:s}))||0===o)&&(l+=o),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((o=i.if.call(t,t&&t.isSync,{hash:{},inverse:this.program(9,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),fn:this.program(7,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </span> </p> </div> "}))},hNn6:function(e,t,a){e.exports={toolbarRecordButton:"ToolbarRecordButton-toolbarRecordButton-2R8pzM ToolbarButton-toolbarButton-2i2nnD PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},hjda:function(e,t,a){e.exports={titleContainer:"MetadataPosterCell-titleContainer-24DI63",continueWatchingTitleContainer:"MetadataPosterCell-continueWatchingTitleContainer-3yCAYP",splitTitleContainer:"MetadataPosterCell-splitTitleContainer-RAVdFk"}},hpd0:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=a("BRfu"),s=i.a.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:r.a.string,filterType:r.a.string,type:r.a.string,key:r.a.string,title:r.a.string,advanced:r.a.boolean},syncedRelations:{options:{relationClass:n.a}}});t.a=s},hrOP:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(o=t&&t.locked,null==o||!1===o?o:o.tag)},data:s}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(r(a("Nup9")).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(o=t&&t.locked,null==o||!1===o?o:o.autotag)},data:s}))+" </div> </div> </form> "}))},hrUx:function(e,t,a){e.exports={playHistoryListPageContent:"PlayHistoryList-playHistoryListPageContent-2V1eSL PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},hrvX:function(e,t,a){e.exports={container:"PrePlayDetailsColumn-container-2pRB1i"}},hsfa:function(e,t,a){e.exports={container:"TickMarks-container-Dsw5zQ",ticks:"TickMarks-ticks-3rrhGg",tick:"TickMarks-tick-S3qkF1",minor:"TickMarks-minor-1EIQql TickMarks-tick-S3qkF1",major:"TickMarks-major-2GXoin TickMarks-tick-S3qkF1",label:"TickMarks-label-2qQMLo"}},hsp8:function(e,t,a){e.exports={playerContainer:"SessionTileDetails-playerContainer-kkGWO1",playerIcon:"SessionTileDetails-playerIcon-2ZYrL9",productLogo:"SessionTileDetails-productLogo-2iaStq",statusIcon:"SessionTileDetails-statusIcon-pRklWz",playerInformation:"SessionTileDetails-playerInformation-288lN_",title:"SessionTileDetails-title-VJh0Fi",subtitle:"SessionTileDetails-subtitle-2YN2o4",streamInformation:"SessionTileDetails-streamInformation-3hyrAK",videoStreamInformation:"SessionTileDetails-videoStreamInformation-314lPv SessionTileDetails-streamInformation-3hyrAK",audioStreamInformation:"SessionTileDetails-audioStreamInformation-3qqPg3 SessionTileDetails-streamInformation-3hyrAK",subtitlesStreamInformation:"SessionTileDetails-subtitlesStreamInformation-2kZswu SessionTileDetails-streamInformation-3hyrAK",streamType:"SessionTileDetails-streamType-153Nfd",streams:"SessionTileDetails-streams-2gXKzW",rightArrow:"SessionTileDetails-rightArrow-3gZGE-",rightArrowForEdge:"SessionTileDetails-rightArrowForEdge-2ghJHi SessionTileDetails-rightArrow-3gZGE-"}},hsww:function(e,t,a){e.exports={title:"MetadataHubCellHeader-title-3ngFlY HubCellTitle-hubCellTitle-2abInv",attribution:"MetadataHubCellHeader-attribution-EOJMMN",titleSeparator:"MetadataHubCellHeader-titleSeparator-2XLwHj DashSeparator-separator-4CyEFW",sourceTitle:"MetadataHubCellHeader-sourceTitle-VjjOkx"}},hvMQ:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((o=i.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:d.program(3,(function(e,t){var a;return(a=i.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:d.program(6,p,t),fn:d.program(4,u,t),data:t}))||0===a?a:""}),s),fn:d.program(1,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=" </h4> </div> "}))},i0LR:function(e,t,a){e.exports={message:"AdInfoBar-message-oXwI7b",skipAdButton:"AdInfoBar-skipAdButton-2CaCxu"}},i6oY:function(e,t,a){e.exports={map:"PhotoMap-map-3J2kw2",underlay:"PhotoMap-underlay-EsEVBH",error:"PhotoMap-error-1Fk9ji"}},iA7B:function(e,t,a){e.exports={image:"DVRDeviceImage-image-Q_7oAf"}},iApP:function(e,t,a){e.exports={spotlightImage:"MetadataSpotlightCell-spotlightImage-1LMLac",copyOverlay:"MetadataSpotlightCell-copyOverlay-8VxVNo",shadeOverlay:"MetadataSpotlightCell-shadeOverlay-2KlhJd",colorOverlay:"MetadataSpotlightCell-colorOverlay-3iNipE",title:"MetadataSpotlightCell-title-1nb5mc",attributionLogo:"MetadataSpotlightCell-attributionLogo-20d3RZ",summary:"MetadataSpotlightCell-summary-QRjslu",callToAction:"MetadataSpotlightCell-callToAction-YMXi1N"}},iFKP:function(e,t,a){e.exports={separator:"MenuSeparator-separator-vr6OLv"}},iI5r:function(e,t,a){e.exports={container:"DVRSetupDeviceInfoChannelInfo-container-38JxgB",settings:"DVRSetupDeviceInfoChannelInfo-settings-3rutx5",message:"DVRSetupDeviceInfoChannelInfo-message-1d9gEK",noChannelsIcon:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-339HB9",clockContainer:"DVRSetupDeviceInfoChannelInfo-clockContainer-2n_VvV",noChannelsIconContainer:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-25faJo",clock:"DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",clockTime:"DVRSetupDeviceInfoChannelInfo-clockTime-qyydgP DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",blink:"DVRSetupDeviceInfoChannelInfo-blink-107UTs",clockBackground:"DVRSetupDeviceInfoChannelInfo-clockBackground-2moStg",noChannelsIconBackground:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-3tc9iv"}},"iT+t":function(e,t,a){e.exports={container:"SortableSources-container-28MsK- Measure-container-3yONEe"}},iTeG:function(e,t,a){"use strict";function i(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")?e.get("startOffsetMilliseconds"):e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}a.d(t,"a",(function(){return i}))},idkr:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,i="";return i+='download="'+c("function"==typeof(a=e&&e.downloadName)?a.apply(e):a)+'"'}function p(e,t){var a,i="";return i+=" "+c("function"==typeof(a=e&&e.title)?a.apply(e):a)+' <span class="title-separator"></span> '}function h(e,t){var n,s="";return s+=" "+c(r(a("NE/r")).call(e,e&&e.videoResolution,{hash:{},data:t})),((n=i.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(7,m,t),data:t}))||0===n)&&(s+=n),s+=" "}function m(e,t){return","}function v(e,t){var i="";return i+=" "+c(r(a("vLe1")).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+c(r(a("ortX")).call(t,"Download a Version",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((o=i.each.call(t,t&&t.mediaItems,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,n){var s,o="";return o+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+c("function"==typeof(s=null==t||!1===t?t:t.index)?s.apply(e):s)+'" href="'+c("function"==typeof(s=e&&e.downloadUrl)?s.apply(e):s)+'" target="'+c("function"==typeof(s=n&&n.defaultLinkTarget)?s.apply(e):s)+'" ',((s=r(a("ypsy")).call(e,n&&n.defaultLinkTarget,"_blank",{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+="> ",((s=i.if.call(e,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(9,v,t),data:t}))||0===s)&&(o+=s),o+=" </a> </li> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},irRM:function(e,t,a){"use strict";var i=a("NeLh"),r=a("lAqu"),n={[i.FAIRPLAY]:r.FAIRPLAY,[i.FAIRPLAY_AUDIO]:r.FAIRPLAY,[i.FAIRPLAY_VIDEO]:r.FAIRPLAY,[i.PLAYREADY]:r.PLAYREADY,[i.PLAYREADY_AUDIO]:r.PLAYREADY,[i.PLAYREADY_VIDEO]:r.PLAYREADY,[i.WIDEVINE]:r.WIDEVINE,[i.WIDEVINE_AUDIO]:r.WIDEVINE,[i.WIDEVINE_VIDEO]:r.WIDEVINE};t.a=n},itOj:function(e,t,a){e.exports={stream:"SubtitlesStreamMenuItem-stream-3JNI2A",menuItemContainer:"SubtitlesStreamMenuItem-menuItemContainer-644uMQ SelectedMenuItem-menuItemContainer-2hXIr-",deleteContainer:"SubtitlesStreamMenuItem-deleteContainer-2FHm_C",deleteButton:"SubtitlesStreamMenuItem-deleteButton-2OofDN IconButton-button-9An-7I",extendedTitle:"SubtitlesStreamMenuItem-extendedTitle-GT6dbo"}},ivj2:function(e,t,a){e.exports={plexImage:"PlexHeaderImage-plexImage-2K4VHL",plexImageContainer:"PlexHeaderImage-plexImageContainer-NE-7v1"}},ixBV:function(e,t,a){e.exports={overlay:"MetadataDetailsRow-overlay-1J_Ie5",selectOverlay:"MetadataDetailsRow-selectOverlay-2c5o4D Link-link-2ew_DK",selectedListRow:"MetadataDetailsRow-selectedListRow-BAFOj4 ListRow-row-1sqnTj",rangeListRow:"MetadataDetailsRow-rangeListRow-18fA8J ListRow-row-1sqnTj",summaryContainer:"MetadataDetailsRow-summaryContainer-3cxeiJ",posterContainer:"MetadataDetailsRow-posterContainer-3f0Hrk",titlesContainer:"MetadataDetailsRow-titlesContainer-27DvHt",titleContainer:"MetadataDetailsRow-titleContainer-2RpS_W",title:"MetadataDetailsRow-title-1zsf5h",singleTitle:"MetadataDetailsRow-singleTitle-3zLuDc MetadataDetailsRow-title-1zsf5h",doubleTitle:"MetadataDetailsRow-doubleTitle-1eAbNu MetadataDetailsRow-title-1zsf5h",subtitle:"MetadataDetailsRow-subtitle-3xxulQ MetadataDetailsRow-titleContainer-2RpS_W MetadataDetailsRow-title-1zsf5h",summary:"MetadataDetailsRow-summary-WRo-nv",actions:"MetadataDetailsRow-actions-Bb-UpX",actionsButton:"MetadataDetailsRow-actionsButton-32_DgC Link-link-2ew_DK",userRatingContainer:"MetadataDetailsRow-userRatingContainer-OB2qMI"}},ixgb:function(e,t,a){e.exports={title:"MetadataPosterCardTitle-title-2OWMA-",isSecondary:"MetadataPosterCardTitle-isSecondary-1R4E5X",singleLineTitle:"MetadataPosterCardTitle-singleLineTitle-_v31WY MetadataPosterCardTitle-title-2OWMA-",doubleLineTitle:"MetadataPosterCardTitle-doubleLineTitle-Z9i_-c MetadataPosterCardTitle-title-2OWMA-"}},"j+1R":function(e,t,a){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-jYQkcQ",slider:"MetadataListStylesMenu-slider-o88eP5 Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-21zDb3",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-23qAV4 MetadataListStylesMenu-stylesButton-21zDb3",stylesIcon:"MetadataListStylesMenu-stylesIcon-1r4qeF"}},j1Ci:function(e,t,a){"use strict";a.d(t,"a",(function(){return i}));var i="myPlex"},j5p2:function(e,t,a){e.exports={gutter:"DirectoryToolbarClearFiltersButton-gutter-4y0Y5x PageHeaderLeftGutter-container-2zDXNC",resetButton:"DirectoryToolbarClearFiltersButton-resetButton-1OwW63 ToolbarButton-toolbarButton-2i2nnD"}},jD54:function(e,t,a){e.exports={menuHeader:"MenuHeader-menuHeader-1zqcoT"}},jEUb:function(e,t,a){e.exports={summary:"PrePlaySummary-summary-320PKj"}},jIku:function(e,t,a){e.exports={lineHeightMeasure:"CollapsibleText-lineHeightMeasure-1AQhaN",contentTransition:"CollapsibleText-contentTransition-36Xek6",readMore:"CollapsibleText-readMore-1FIz2V DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",readMoreArrow:"CollapsibleText-readMoreArrow-1WO_UV DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC"}},jKuV:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((o=i.if.call(t,t&&t.settings,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(r(a("ortX")).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(r(a("ortX")).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((n=i.each.call(e,e&&e.settings,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+=" </div> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" "}))},jQ5Z:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i);function n(){r.a.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}n.extend=function(e,t){var a,i=this;a=e&&r.a.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)||null},r.a.extend(a,i,t);var n=function(){this.constructor=a};if(n.prototype=i.prototype,a.prototype=new n,e&&e.hasOwnProperty("mixins")){var s=e.mixins;delete e.mixins,Array.isArray(s)||(s=[s]),r.a.each(s,(function(e){r.a.extend(a.prototype,e)}))}return e&&r.a.extend(a.prototype,e),a.__super__=i.prototype,a},t.a=n},jWai:function(e,t,a){e.exports={placeholderIcon:"MetadataPosterCardIcon-placeholderIcon-2P76zo"}},javt:function(e,t,a){e.exports={hub:"WatchTogetherHubCell-hub-36FE21 HubCell-hubCell-3Ys175",hubHeader:"WatchTogetherHubCell-hubHeader-1Q9ryj VirtualHubScroller-hubHeader-216w6Z"}},jejw:function(e,t,a){"use strict";var i=a("fomp"),r=a("EVdn"),n=a.n(r),s=a("F/us"),o=a.n(s),l=a("L7kO"),c=a("yDpE"),d=a("ZwMC"),u=a("PW1X"),p=a("g0Do"),h=a("G52M"),m=a("DTXE"),v=a("xuTi"),g=a("cGVK");var y=function(e,t){return e?o.a.reduce(t,(t,a,i)=>(o.a.isEqual(e[i],a)||(t[i]=a),t),{}):t},f=(a("yYIf"),a("8gq0")),b=a("4/mG"),I=/^change:([\w]+)$/,S=e=>Array.isArray(e)?e[0]:e,M=i.c.Model.extend({mixins:[h.a],name:"AbstractModel",responseType:g.c,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){var a;if(e||(e={}),t||(t={}),this.initialize!==i.c.Model.prototype.initialize&&(a=this.initialize,this.initialize=function(){}),this.getContextNames().forEach(e=>{var a=this.findOption(t,e);void 0!==a&&(this[e]=a)}),!this.cache||this.findOption(t,"skipCache"))return i.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(a&&(a.apply(this,arguments),this.initialize=a));var r=this.findOption(t,"onlyIfCached"),n=this.cache.getItemCacheKey(this,e),s=this.cache.get(n);if(!s&&this.entityID&&Object(p.a)("appModel")){var l=Object(p.c)("appModel");if(l.has("entities")){var c=l.get("entities").get(this.entityType),d=this.entityID(e),u=c.get(d);u&&(s=u.get("model"))}}return s?(this.uninitialize(),r||(this.mergeStrategy&&(s.isMergingAttributes=!0),t.parse?e=s.parse(e):o.a.extend(e,s._getRelations(this.syncedRelations,e)),s.set(e),s.isMergingAttributes=!1),this.getContextNames().forEach(e=>{s.setContext(e,this[e]||s[e])}),t.collection&&(s.collection=t.collection),s.updateEntity(),s):r?{}:(i.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),a&&(a.apply(this,arguments),this.initialize=a),void this.cache.store(this,n))},uninitialize:function(){this.stopListening()},_initModel:function(e){v.a.shouldCreateStateTree&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};var t=o.a.extend({},this.sessionRelations,this.syncedRelations);o.a.each(t,(function(e,t){this._initRelation(e,t);var a=o.a.bind(this._initRelation,this,e,t);this.on("change:"+t,a)}),this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){var a=this._resolveRelationDefinition(e).relationClass,i=this.get(t),r=this.previous(t),n=i&&i instanceof a;r&&r instanceof a&&o.a.has(this._relationListeners,t)&&(r.off("all",this._relationListeners[t]),this._relationListeners[t]=null),n&&this._forwardRelationEvents(i,t)},_initDerived:function(){o.a.each(this.derivedAttrs,this._setDerived,this)},_initState:function(){v.a.shouldCreateStateTree&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(S)},getContext:function(){if(!this.context)return this._context;var e=o.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){if(this.hasContext(e)&&this[e]!==t){var a,i=this.getContext().find(t=>S(t)===e),r=Array.isArray(i)&&i[1]&&i[1].boundDerivedAttrs,n=r?[e,...r]:[e];if(this[e]=t,n.forEach(e=>{this.hasDerived(e)&&((a=a||{})[e]=this.derivedAttrs[e].call(this))}),a&&this.set(a),"parent"!==e){var s=o.a.extend({},this.sessionRelations,this.syncedRelations);o.a.each(s,(function(a,i){var r=this.get(i);r&&r.setContext(e,t)}),this)}}},getScopedKey:function(e){return null!=e&&o.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){var e=this.state,t=this.getState();this.state=this.toState();var a=this.getState();return a!==t&&this.updateEntity(),this.trigger("statechange",this,a,t),{name:this.name,previousState:e,nextState:a}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&(Object(c.a)(this.entityType,this.name+" requires an `entityType`"),l.a.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;var e=Object.keys(this.attributes),t=o.a.reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){var a=this.attributes[t];return a&&a.getState?(e.possibleEntityContainers.push(t),e[t]=a.getState(),e):a&&a.initialize?e:(e[t]=a,e)},shouldUpdateRelationState:function(e,t,a){return t!==a},toJSON:function(e={}){this.name;var t=this.syncedAttrs,a=this.sessionRelations,r=this.syncedRelations,s=this.attributes,l={};for(var c in s){var d=e.excluded&&e.excluded.includes(c),u=a&&o.a.has(a,c),p=r&&o.a.has(r,c),h=e.syncedOnly&&(!t||!o.a.has(t,c));d||u||p||h||(l[c]=s[c])}var m=n.a.extend(!0,{},l);function v(t,a){var r,n=this.get(a),s=e.excluded&&e.excluded.includes(a);n&&!s&&(r=e.excludeDefaults?n instanceof i.c.Collection?n.map((function(t){return y(o.a.result(t,"defaults"),t.toJSON(e))})):y(o.a.result(n,"defaults"),n.toJSON(e)):n.toJSON(e),m[a]=r)}return e.excludeDefaults&&(m=y(o.a.result(this,"defaults"),m)),e.syncedOnly||o.a.each(a,v,this),o.a.each(r,v,this),m},clone:function(){var e=o.a.extend(o.a.pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){Object(c.a)(e instanceof this.constructor,"Only a model of the same type may be copied");var t=e.toJSON();return o.a.extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){var t={};return o.a.each(this.attributes,(function(e,a){this.derivedAttrs&&o.a.has(this.derivedAttrs,a)||(t[a]=void 0)}),this),o.a.extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),o.a.result(this,"defaults"),e),this.set(t)},set:function(e,t,a){var r,n;return o.a.isObject(e)?(r=e,a=t):(r={})[e]=t,a||(a={}),!this.isMergingAttributes&&a.merge&&this.mergeStrategy&&(n=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(r=this._mergeAttributes(r)),i.c.Model.prototype.set.call(this,r,a),n&&(this.isMergingAttributes=!1),this},hasAttr:function(e){var t=this.sessionAttrs&&o.a.has(this.sessionAttrs,e),a=this.syncedAttrs&&o.a.has(this.syncedAttrs,e);return!(!t&&!a)},hasRelation:function(e){var t=this.sessionRelations&&o.a.has(this.sessionRelations,e),a=this.syncedRelations&&o.a.has(this.syncedRelations,e);return!(!t&&!a)},hasDerived:function(e){return!(!this.derivedAttrs||!o.a.has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){var a=o.a.extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),i=this._validateTypes(e,a);return i&&Object(c.a)(!1,i),i},parse:function(e,t){if(t&&t.save&&!this.hasResponseOnSave)return this.attributes;this.name;return this.convert(e,t)},parseResponse(e){var t,a=e,i=o.a.result(this,"responseType");return o.a.isString(a)&&(t=!0,o.a.isFunction(this.augmentResponseText)&&(a=this.augmentResponseText(a,i)),a=i.parse(a)),i===g.a&&a.MediaContainer&&(a=a.MediaContainer),o.a.isFunction(this.augmentResponse)&&(a=this.augmentResponse(a,i)),t&&this.rootPropertyName&&o.a.has(a,this.rootPropertyName)&&(a=a[this.rootPropertyName]),Array.isArray(a)&&(a=a[0]),a},convert:function(e,t){var a,i=this.parseResponse(e),r={};o.a.each(this.sessionAttrs,(function(e,t){o.a.has(i,t)&&(r[t]=i[t])})),o.a.each(this.syncedAttrs,(function(e,t){if(o.a.has(i,t)){var n,s=e;s.typeName||(s=e.type,n=o.a.omit(e,"type")),r[t]=null==i[t]?i[t]:s.parse(i[t],n)}else this.has(t)&&(a||(a=o.a.result(this,"defaults")),r[t]=a&&o.a.has(a,t)?a[t]:void 0)}),this);var n=o.a.extend({},t,{parse:!0});return o.a.extend(r,this._getRelations(this.syncedRelations,i,n)),r},save:function(e,t,a){var r;null==e||"object"==typeof e?(r=e,a=t):(r={})[e]=t;var s=o.a.extend({save:!0},a),l=o.a.extend(this.getSaveParams(r),s.data);if(o.a.isEmpty(l))return s.success&&s.success(this),n.a.Deferred().resolve(this);s.data=l;var c=s.success;return s.success=function(e,t,a){e.cache&&e.cache.store(e),c&&c(e,t,a)},i.c.Model.prototype.save.call(this,r,s)},sync:function(e,t,a){var r=a?o.a.clone(a):{};if("create"===e||"update"===e){var n=r.data,s=r.url||o.a.result(this,"saveUrl")||o.a.result(this,"syncUrl")||o.a.result(this,"url");r.url=u.join(s,n),r.data=""}return i.c.Model.prototype.sync.call(this,e,t,r)},getSaveParams:function(e){var t=this._getSaveAttrs(e);return o.a.reduce(t,(function(e,t,a){var i=t.definition,r=t.value,n=a;if(!i)return e[n]=r,e;var s=i.relationClass;if(s){var l,c=s.prototype.model;i.rootPropertyName?l=i.rootPropertyName:r&&r.rootPropertyName?l=r.rootPropertyName:c&&c.prototype&&(l=c.prototype.rootPropertyName),r&&(r=r.getSaveParams()),l&&(n=l)}else{var d,u;o.a.has(i,"type")?(d=i.type,u=o.a.omit(i,"type")):d=i,r=d.stringify(r,u)}return e[n]=r,e}),{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)Object(c.a)(!1,this.name+" is already capturing events");else{var e=this.set,t=[],a=o.a.clone(this.attributes);this.set=function(a,i,r){var n,s=o.a.extend({},r,{silent:!0});return"object"==typeof a?(n=a,r=i):(n={})[a]=i,o.a.each(n,(function(a,i){this.get(i)!==a&&(t.push({key:i,value:a}),e.call(this,i,a,s))}),this),o.a.each(this._derivedListeners,(function(a){var i=a.key,r=this.derivedAttrs[i].call(this);this.get(i)!==r&&(t.push({key:i,value:r}),e.call(this,i,r,s))}),this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=a,this._changing=!0,o.a.each(t,(function(e){this.trigger("change:"+e.key,this,e.value)}),this),this._changing=!1,o.a.isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}}},spyOnGet:function(e){var t=[],a=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),a.apply(this,arguments)},e.call(this),this.get=a,t},dispatch:function(e){},_mergeAttributes:function(e){var t=this.mergeStrategy;return t?o.a.reduce(e,(function(e,a,i,r){return e[i]=t(i,this.get(i),a),e}),{},this):e},_resolveRelationDefinition:function(e){return o.a.isFunction(e)?e.call(this):e},_getRelations:function(e,t,a){t||(t={}),a||(a={});var r={};return o.a.each(e,(function(e,n){var s=this._resolveRelationDefinition(e),l=s.relationClass;Object(c.a)(l,this.name+" requires a `relationClass` for the "+n+" relation");var d=n;a.parse&&!o.a.has(t,n)&&o.a.has(s,"rootPropertyName")&&(d=s.rootPropertyName);var u=t[d];if(u instanceof l)r[n]=u;else if(u||!s.deferred){var p=a.reset?null:this.get(n),h=p instanceof l,m=l.prototype instanceof i.c.Collection;if(m?u=f.a.parseArray(u):u||(u={}),h&&!m&&(a.parse&&(u=p.parse(u)),h=p.id===u[p.idAttribute||"id"]),h){p.isMergingAttributes=this.isMergingAttributes;var v=s.setOptions;o.a.isFunction(v)&&(v=v.call(this,a)),m?p.set(u,o.a.extend({parse:a.parse,remove:!this.isMergingAttributes},v)):p.set(u,o.a.extend({merge:!0},v)),p.isMergingAttributes=!1}else{var g={parse:a.parse};if(this.getContextNames().forEach(e=>{g[e]=this[e]}),!m){var y=s.attrs;o.a.isFunction(y)&&(y=y.call(this,t)),u=o.a.extend({},u,y)}var b=s.options;o.a.isFunction(b)&&(b=b.call(this,t)),o.a.extend(g,{parent:this},b),p=new l(u,g)}r[n]=p}else r[n]=void 0}),this),r},_forwardRelationEvents:function(e,t){var a=["sync","request","invalid","error","add","remove"];function i(){var i=arguments[0];if("change"!==i)if("statechange"!==i){var r=o.a.toArray(arguments);r[0]="change:"+t+"."+i,this.trigger.apply(this,r),o.a.contains(a,i)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}else this.shouldUpdateRelationState.apply(this,o.a.rest(arguments,1))&&b.b(this.updateState,this)}e.on("all",i,this),this._relationListeners[t]=i},_setDerived:function(e,t){var a,i=this.spyOnGet((function(){var i=this.set;this.set=function(){Object(c.a)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},a=e.call(this),this.set=i}));this.set(t,a),o.a.each(i,(function(a){this._addDerivedListener(t,a,e)}),this)},_addDerivedListener:function(e,t,a){this._derivedListeners||(this._derivedListeners=[]);var i={key:e,name:t,callback:o.a.bind(this._setDerived,this,a,e)};o.a.findWhere(this._derivedListeners,{key:e,name:i.name})||(this._derivedListeners.push(i),this.on(i.name,i.callback))},_getSaveAttrs:function(e){var t;if(e)t=o.a.reduce(e,(function(e,t,a){return e[a]={definition:this.syncedAttrs[a],value:t},e}),{},this);else{var a=o.a.extend({},this.syncedAttrs,this.syncedRelations);t=o.a.reduce(a,(function(e,t,a){var i=this._resolveRelationDefinition(t),r=i.save;return o.a.isFunction(r)&&(r=r.call(this)),r&&(e[a]={definition:i,value:this.get(a)}),e}),{},this)}return t},_validateTypes:function(e,t){var a=Object.keys(e),r=o.a.reduce(a,(function(a,r){if(this.hasDerived(r))return a;if(!o.a.has(t,r))return a.push(this.name+" received an unknown attribute: "+r+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),a;var n,s=e[r],l=this._resolveRelationDefinition(t[r]),c=l.relationClass,d=(n=c?this.hasInitialRelations?m.a.instanceOf(c):c.prototype instanceof i.c.Collection?m.a.oneOfType(m.a.array,m.a.object):m.a.object:l.type?l.type:l).validate;return d?d(s)||a.push(r+" of type "+n.typeName+" has an invalid value: "+JSON.stringify(s)):a.push(r+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),a}),[],this);if(r.length>0)return r.join("\n")},onEvent:function(e,t,a){if(t){var i=e.match(I);if(i){var r=i[1];t.get(r)!==this.state[r]&&(a&&a.updateEntity&&a.updateEntity(),b.b(this.updateState,this))}}else d.a.warn("Unable to handle",e)}});t.a=M},jlmP:function(e,t,a){e.exports={card:"PosterCard-card-VhPkOe"}},jnKl:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"b",(function(){return s}));var i=a("17x9"),r="bottom-left",n="top-left",s="none";a.n(i).a.oneOf([r,n,s])},jsGA:function(e,t,a){e.exports={circularProgressBarText:"CircularProgressBar-circularProgressBarText-1kr2I3 CircularProgressBar-circularProgressBarText-gC1Z--",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-30vSIT CircularProgressBar-circularProgressBarContainer-26EO1i"}},jw1d:function(e,t,a){e.exports={spinner:"PlaylistList-spinner-35vMZm",content:"PlaylistList-content-BhpSbg",contentScroller:"PlaylistList-contentScroller-10slMm",cell:"PlaylistList-cell-2Crv3Z"}},"jy+L":function(e,t,a){e.exports={input:"ServerLogFilterInput-input-1ueuPd TextInput-input-1VMuma input-input-1P2Vi4"}},"k+R5":function(e,t,a){e.exports={card:"MetadataPosterButtonCard-card-2T8TR6",playButton:"MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",playCircle:"MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw",recordButton:"MetadataPosterButtonCard-recordButton-1m2tbo RecordIcon-recordIconContainer-1PXGA2",recordCircle:"MetadataPosterButtonCard-recordCircle-1UtXWP RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw"}},k1Cv:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i);function n(e){var t=r.a.clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function s(e,t){return r.a.filter(r.a.map(e,n),(function(e){return t?e.size>=0:e.size>0}))}var o={augment:n,difference:function(e,t,a){return e=n(e),t=n(t),s([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],a)},union:function(e,t,a){if(e=n(e),t=n(t),e.start>t.start){var i=e;e=t,t=i}var r=[e];return t.start<=e.end?r[0].last=Math.max(t.last,e.last):r.push(t),s(r,a)},degap:function(e,t){var a=n(e);return(t=n(t)).size?(a.start>t.end&&(a={start:t.end,end:a.end}),a.end<t.start&&(a={start:a.start,end:t.start}),n(a)):a},each:function(e,t,a){e=n(e);for(var i=Math.min(e.start,e.end),r=Math.max(e.start,e.end);i<=r;i++)t.call(a,i)},roundByPage:function(e,t){return e=n(e),n({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}};t.a=o},k1Nx:function(e,t,a){"use strict";var i=a("QVrK"),r=a("S8DM"),n=function(){if(!r.a)return!1;var e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),s={isHostedHttps:r.a&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:r.a&&!!window.WebSocket,hasEventSource:r.a&&!!window.EventSource,hasReplaceState:r.a&&!(!window.history||!window.history.replaceState),hasFileUpload:r.a&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:r.a&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!i.a.presto&&r.a&&!!(window.URL&&window.URL.createObjectURL&&window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!r.a)return!1;var e=document.createElement("div");return!!(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen)}(),hasCanvas:n,hasWebGL:function(){if(!n)return!1;var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:r.a&&!!("ontouchstart"in window),hasPageVisibility:r.a&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:r.a&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:r.a&&!!window.speechSynthesis,hasServiceWorker:r.a&&!(!window.navigator||!window.navigator.serviceWorker),hasGamepads:r.a&&"function"==typeof window.navigator.getGamepads,hasMediaSession:r.a&&"mediaSession"in window.navigator};t.a=s},k31B:function(e,t,a){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-YJRGCZ PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},k4np:function(e,t,a){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-pMf-qI MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardPlaceholder-isSelected-34TSl1 MetadataPosterCardFace-isSelected-1XUgkl"}},kDj3:function(e,t,a){e.exports={title:"SourceSidebarServerHeader-title-3zMGa0 SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",isSelected:"SourceSidebarServerHeader-isSelected-3RDRpP SourceSidebarLink-isSelected-27-9-6",iconContainer:"SourceSidebarServerHeader-iconContainer-39Nny8 SourceSidebarItem-iconImg-2zgKLr",actionContainer:"SourceSidebarServerHeader-actionContainer-1FXUpo"}},kEeM:function(e,t,a){e.exports={container:"PrePlayActionBar-container-2BXA5E ActionButtonBar-bar-BSTmw2",addIcon:"PrePlayActionBar-addIcon-332EkW ActionButton-icon-3yhx5u",menu:"PrePlayActionBar-menu-Jlr1YK Menu-menu-3XnN6J",disabledUserRating:"PrePlayActionBar-disabledUserRating-3CKqsG StarRating-starRating-1-SbNQ"}},kJQh:function(e,t,a){e.exports={line:"ServerLogLine-line-2WtKzy",field:"ServerLogLine-field-madfJN",fieldTime:"ServerLogLine-fieldTime-17MvxW ServerLogLine-field-madfJN",fieldThread:"ServerLogLine-fieldThread-3Pag7D ServerLogLine-field-madfJN",fieldMessage:"ServerLogLine-fieldMessage-37X1ly ServerLogLine-field-madfJN",levelError:"ServerLogLine-levelError-bOQc8x ServerLogLine-line-2WtKzy",levelWarning:"ServerLogLine-levelWarning-1Fzthi ServerLogLine-line-2WtKzy",levelInfo:"ServerLogLine-levelInfo-K81rVD ServerLogLine-line-2WtKzy",levelDebug:"ServerLogLine-levelDebug-mz-F9H ServerLogLine-line-2WtKzy",levelVerbose:"ServerLogLine-levelVerbose-1mA-Cl ServerLogLine-line-2WtKzy",levelUnknown:"ServerLogLine-levelUnknown-vHwX-9 ServerLogLine-line-2WtKzy",isHighlighted:"ServerLogLine-isHighlighted-2uX6-J"}},kORC:function(e,t,a){"use strict";e.exports={gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputMaxWidth:"360px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},kTPH:function(e,t,a){e.exports={overlay:"MetadataFolderDetailsRow-overlay-IN-cEw",underlay:"MetadataFolderDetailsRow-underlay-35B7RW Link-link-2ew_DK",posterContainer:"MetadataFolderDetailsRow-posterContainer-2z5Of4",titlesContainer:"MetadataFolderDetailsRow-titlesContainer-BwsdTb",doubleTitle:"MetadataFolderDetailsRow-doubleTitle-tBpYhL"}},"kV+z":function(e,t,a){e.exports={recordButtonContainer:"LiveTVRecord-recordButtonContainer-vuoUXZ"}},kXc8:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n=a("/HJv"),s=a("cGVK"),o=a("a+vp"),l=i.a.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot(){return this.get("key")},sessionAttrs:{key:r.a.string,type:r.a.string,repeat:r.a.boolean,own:r.a.boolean,isUpdatePending:r.a.boolean,isUniversal:r.a.boolean},syncedAttrs:{allowShuffle:r.a.boolean,playQueueID:r.a.string,playQueueSelectedItemOffset:r.a.integer,playQueueSelectedItemID:r.a.string,playQueueSelectedMetadataItemID:r.a.string,playQueueLastAddedItemID:r.a.string,playQueueShuffled:r.a.boolean,playQueueSourceURI:r.a.string,playQueueTotalCount:r.a.integer,playQueueVersion:r.a.integer},syncedRelations:{playQueueItems:{relationClass:n.a,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle(){var e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),a=e.get(t);return e.indexOf(a)},length(){var e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:(e,t)=>t===s.c?Object(o.b)(e):e,augmentResponse(e,t){return this.responseContext.forEach(t=>{var a=e[t];void 0!==a&&this.setContext(t,a)}),e}});t.a=l},kj1j:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"b",(function(){return n}));var i="audio",r="video",n="photo"},"kjw+":function(e,t,a){e.exports={container:"PageHeaderLeftGutter-container-2zDXNC",innerContainer:"PageHeaderLeftGutter-innerContainer-34KhPg"}},kkNn:function(e,t,a){"use strict";a.d(t,"n",(function(){return i})),a.d(t,"k",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"p",(function(){return o})),a.d(t,"l",(function(){return l})),a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return d})),a.d(t,"h",(function(){return u})),a.d(t,"g",(function(){return p})),a.d(t,"f",(function(){return h})),a.d(t,"e",(function(){return m})),a.d(t,"j",(function(){return v})),a.d(t,"i",(function(){return g})),a.d(t,"m",(function(){return y})),a.d(t,"o",(function(){return f})),a.d(t,"q",(function(){return b}));var i="servers",r="providers",n="libraries",s="hubs",o="users",l="resources",c="friends",d="homeUsers",u="metadataLists",p="metadataItems",h="mediaSubscriptions",m="liveTVSessions",v="playQueueItems",g="playlistItems",y="searchResults",f="transcodeJobs",b="watchTogetherRooms"},kr0E:function(e,t,a){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-7XF2zU"}},kxlF:function(e,t,a){e.exports={listContainer:"PrePlayDescendantList-listContainer-3AH-PT"}},l8FK:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("QVrK");function r(e=i.a){return"safari"===e.id}},lAqu:function(e,t,a){"use strict";a.r(t),a.d(t,"FAIRPLAY",(function(){return i})),a.d(t,"PLAYREADY",(function(){return r})),a.d(t,"WIDEVINE",(function(){return n}));var i="com.apple.fps.1_0",r="com.microsoft.playready",n="com.widevine.alpha"},lEPh:function(e,t,a){e.exports={container:"UserSharingSettingsSharedMedia-container-hSe45e Measure-container-3yONEe",message:"UserSharingSettingsSharedMedia-message-2fv_1p"}},lRX7:function(e,t,a){"use strict";function i(e,t){var a=e.toJSON?e.toJSON():e,{isExtra:i,guid:r}=a;return!(i&&!/^file:\/\//.test(r))&&t}a.d(t,"a",(function(){return i}))},lXqf:function(e,t,a){e.exports={selectButton:"SelectButton-selectButton-3jGXzS Link-link-2ew_DK",selectCircle:"SelectButton-selectCircle-ec9No3",selectedIcon:"SelectButton-selectedIcon-1liPBH",unselectedCircle:"SelectButton-unselectedCircle-2reVv_ SelectButton-selectCircle-ec9No3",selectedCircle:"SelectButton-selectedCircle-264nVE SelectButton-selectCircle-ec9No3",rangeCircle:"SelectButton-rangeCircle-25BDKx SelectButton-selectCircle-ec9No3"}},ld10:function(e,t,a){e.exports={icon:"PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconSaved:"PrePlayToggleMetadataItemSavedButton-iconSaved-17WmVR PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconUnsaved:"PrePlayToggleMetadataItemSavedButton-iconUnsaved-3itVtk PrePlayToggleMetadataItemSavedButton-icon-2zORzf"}},ldju:function(e,t,a){e.exports={zeroState:"SourceSidebarContent-zeroState-35CCyo",expandedSidebarContent:"SourceSidebarContent-expandedSidebarContent-3n-5nj"}},ldqa:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r}));var i="full",r="mini"},litE:function(e,t,a){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-4jblz3",title:"MetadataTitleCombinedTitleTrackArtist-title-2YgMrS",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-19qjuQ"}},lj0k:function(e,t,a){e.exports={dotButton:"SpotlightHubDot-dotButton-1CaIUt",selectedDotButton:"SpotlightHubDot-selectedDotButton-2HE7D6 SpotlightHubDot-dotButton-1CaIUt"}},ljKs:function(e,t,a){e.exports={container:"GridAlsoAiringItem-container-2U1khf",metadataPosterPlayButton:"GridAlsoAiringItem-metadataPosterPlayButton-2jquhV MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",underlay:"GridAlsoAiringItem-underlay-2Wp2X0",metadataContainer:"GridAlsoAiringItem-metadataContainer-104qr7 GridAlsoAiringItemMetadata-container-2V7Z3m"}},lm5H:function(e,t,a){e.exports={modalBody:"StopServerSessionModal-modalBody-3EGW3i ModalBody-modalBody-1-wcfe",topContainer:"StopServerSessionModal-topContainer-Hb_CLj",avatarImg:"StopServerSessionModal-avatarImg-20JowZ AvatarImg-avatar-3Op56u",description:"StopServerSessionModal-description-1It0K7",modalFooter:"StopServerSessionModal-modalFooter-wfpGhv ModalFooter-modalFooter-3ZumZj",formLabel:"StopServerSessionModal-formLabel-bglBuZ FormLabel-label-2aLJ9b",form:"StopServerSessionModal-form-2tqYeQ",textArea:"StopServerSessionModal-textArea-1pPhy5 TextArea-textArea-2jx-Xy input-input-1P2Vi4",buttonBar:"StopServerSessionModal-buttonBar-1iqGdA ModalFooterButtonBar-buttonBar-7XF2zU"}},lmsz:function(e,t,a){e.exports={dragLayer:"DragPreviewLayer-dragLayer-2uYZUK"}},lmxN:function(e,t,a){e.exports={container:"AudioVideoPlayerView-container-kWiFsz"}},lnp7:function(e,t,a){e.exports={button:"PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",isSelected:"PageHeaderTabButton-isSelected-25CIS7"}},"lo1/":function(e,t,a){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3Tut9G",label:"PrePlayDetailsGroupItem-label-2Ee43I",content:"PrePlayDetailsGroupItem-content-1aRNUU"}},lqtG:function(e,t,a){e.exports={grid:"FlexGrid-grid-Ws_Ykq"}},lvUb:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return f})),a.d(t,"h",(function(){return b})),a.d(t,"i",(function(){return I})),a.d(t,"f",(function(){return S})),a.d(t,"g",(function(){return M})),a.d(t,"u",(function(){return C})),a.d(t,"p",(function(){return D})),a.d(t,"t",(function(){return P})),a.d(t,"o",(function(){return O})),a.d(t,"q",(function(){return j})),a.d(t,"s",(function(){return T})),a.d(t,"r",(function(){return w})),a.d(t,"d",(function(){return E})),a.d(t,"e",(function(){return N})),a.d(t,"k",(function(){return x})),a.d(t,"c",(function(){return A})),a.d(t,"n",(function(){return L})),a.d(t,"l",(function(){return k})),a.d(t,"m",(function(){return R})),a.d(t,"j",(function(){return z}));var i=a("BQdi"),r=a("ZwMC"),n=a("PW1X"),s=a("aNE2"),o=a("S5Gm"),l=a("g21S"),c=a("mbhi"),d=a("Mty/"),u=a("vVLk"),p=a("5hhD"),h=a("vkLW"),m=a("Xi+k"),v=a("4/mG"),g=a("5CKu"),y="ui/player/playQueue/savePlayQueueState",f="ui/player/playQueue/removePlayQueueState",b=Object(i.a)("ui/player/playQueue/playNextItem"),I=Object(i.a)("ui/player/playQueue/playPreviousItem"),S=Object(i.a)("ui/player/playQueue/playItemByIndex"),M=Object(i.a)("ui/player/playQueue/playItemByKey"),C=(Object(i.a)("ui/player/playQueue/playItemByID"),Object(i.a)("ui/player/playQueue/toggleShuffle")),D=Object(i.a)("ui/player/playQueue/setRepeat"),P=Object(i.a)("ui/player/playQueue/toggleRepeat"),O=Object(i.a)("ui/player/playQueue/setAutoPlay"),j=Object(i.a)("ui/player/playQueue/showPostPlay"),T=Object(i.a)("ui/player/playQueue/togglePlayerPlayQueueState"),w=Object(i.a)("ui/player/playQueue/togglePlayerLyricsState"),E=Object(i.a)("ui/player/playQueue/fetchPlayQueueItemLyrics"),N=Object(i.a)("ui/player/playQueue/movePlayQueueItem"),x=Object(i.a)("ui/player/playQueue/removePlayQueueItem"),A=Object(i.a)("ui/player/playQueue/fetchPlayQueue"),L=Object(i.a)(y),k=Object(i.a)(f),R=Object(i.a)("ui/player/playQueue/restorePlayQueue"),z={"ui/player/playQueue/playNextItem"(e,{playerType:t,isApplicationInitiated:a}){var i=Object(m.c)(e,t),r=Object(s.a)(e);Object(c.a)(i)||Object(v.a)(()=>{i.get("isPostPlayVisible")&&i.set({isPostPlayVisible:!1}),r.playNextItem(i,a)})},"ui/player/playQueue/playPreviousItem"(e,{playerType:t}){var a=Object(m.c)(e,t),i=Object(s.a)(e);Object(c.a)(a)||Object(v.a)(()=>{a.set({isPostPlayVisible:!1}),a.get("positionSeconds")>u.a?(i.seek(a,0),i.play(a)):i.playPreviousItem(a)})},"ui/player/playQueue/playItemByIndex"(e,{playerType:t,index:a}){var i=Object(m.c)(e,t),r=Object(s.a)(e);Object(v.a)(()=>{r.playItem(i,a)})},"ui/player/playQueue/playItemByKey"(e,{playerType:t,key:a},i){var n=Object(m.c)(e,t).get("playQueue").get("playQueueItems"),s=n.find(e=>a===e.get("metadataItem").get("key"));if(s){var o=n.indexOf(s);i(S({playerType:t,index:o}))}else r.a.warn('[Player] Unable to play unknown key "'+a+'"')},"ui/player/playQueue/playItemByID"(e,{playerType:t,playQueueItemID:a},i){var n=Object(m.c)(e,t).get("playQueue").get("playQueueItems"),s=n.get(a);if(s){var o=n.indexOf(s);i(S({playerType:t,index:o}))}else r.a.warn('[Player] Unable to play unknown PlayQueueItemID "'+a+'"')},"ui/player/playQueue/toggleShuffle"(e,t,a){var{playerType:i}=t,r=Object(m.c)(e,i),n=r.get("playQueue");Object(v.a)(()=>{var t=!n.get("playQueueShuffled");n.set("playQueueShuffled",t);var l=t?"shuffle":"unshuffle";Object(o.a)(n,{urlPath:l,type:"PUT"}).done(Object(d.a)(r,()=>{var t=Object(s.a)(e);a(L({playerType:i})),t.refreshRemotePlayQueue(r)})).fail(Object(d.a)(r,()=>{n.set("playQueueShuffled",!t)}))})},"ui/player/playQueue/setRepeat"(e,{playerType:t,repeatAll:a,repeatOne:i},r){var n=Object(m.c)(e,t),l=n.get("playQueue"),c=Object(s.a)(e);Object(v.a)(()=>{c.setRepeat(n,{repeatAll:a||i,repeatOne:i}),Object(o.a)(l).done(Object(d.a)(n,()=>{r(L({playerType:t}))})).fail(Object(d.a)(n,()=>{l.set({repeatAll:!1,repeatOne:!1}),l.set("repeat",!1)}))})},"ui/player/playQueue/toggleRepeat"(e,{playerType:t},a){var i=Object(m.c)(e,t),r=i.get("repeatAll"),n=i.get("repeatOne");a(D({playerType:t,repeatAll:!r||!n,repeatOne:r&&!n}))},"ui/player/playQueue/setAutoPlay"(e,{playerType:t,autoPlay:a},i){var r=Object(m.c)(e,t);Object(s.a)(e).changeAutoPlay(r,a,i)},"ui/player/playQueue/showPostPlay"(e,{playerType:t},a){var i=Object(m.c)(e,t),r=Object(s.a)(e),n=i.get("playQueue"),o=Object(m.a)(i,n.get("currentIndex")).get("postPlay"),l=n.provider.id,c=()=>{i.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),r.pause(i,!0)};i.set({isPostPlayLoading:!0}),p.k(l,p.d)?o.fetch().then(Object(d.a)(i,()=>{var e=o.findWhere({upNext:!0});e&&o.remove(e),c()}),Object(d.a)(i,c)):window.setTimeout(Object(d.a)(i,c),0)},"ui/player/playQueue/togglePlayerPlayQueueState"(e,{playerType:t}){var a=Object(m.c)(e,t),i=a.get("isPlayQueueVisible");Object(v.a)(()=>{a.set(Object(l.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!i,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},"ui/player/playQueue/togglePlayerLyricsState"(e,{playerType:t}){var a=Object(m.c)(e,t),i=a.get("isLyricsVisible");Object(v.a)(()=>{a.set(Object(l.a)(a,i,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!i,isSubtitlesOffsetSettingsVisible:!1}))})},"ui/player/playQueue/fetchPlayQueueItemLyrics"(e,t,a){var{streamID:i}=t,r=Object(h.h)(e,t),n=r.get("metadataItem"),s=Object(h.s)(e,{providerEntityID:n.get("providerEntityID")});if(s){var o=r.get("lyricsStreams").get(i);o.set("lyricsError",null),o.fetch({merge:!0,server:s}).fail(e=>{o.set("lyricsError",e)})}},"ui/player/playQueue/movePlayQueueItem"(e,t,a){var{playerType:i,playQueueItemEntityID:r,moveIndex:l}=t,c=Object(m.c)(e,i),u=c.get("playQueue"),p=Object(h.h)(e,{playQueueItemEntityID:r}),g=u.get("playQueueItems"),y=g.indexOf(p);if(y!==l&&y!==l-1){var f=l>y?l-1:l,b=l>0?g.at(l-1).id:void 0,I=n.join(["items",p.id,"move"]),S={after:b};Object(v.a)(()=>{g.remove(p),g.add(p,{at:f}),Object(o.a)(u,{urlPath:I,params:S,type:"PUT"}).done(Object(d.a)(c,()=>{var t=Object(s.a)(e);a(L({playerType:i})),t.refreshRemotePlayQueue(c)})).fail(Object(d.a)(c,()=>{g.indexOf(p)===f&&(g.remove(p),g.add(p,{at:y}))}))})}},"ui/player/playQueue/removePlayQueueItem"(e,{playerType:t,playQueueItemEntityID:a},i){var r=Object(m.c)(e,t),l=r.get("playQueue"),c=l.get("playQueueItems"),u=Object(h.h)(e,{playQueueItemEntityID:a}),p=c.indexOf(u),g=n.join(["items",u.id]);Object(v.a)(()=>{c.remove(u),Object(o.a)(l,{urlPath:g,type:"DELETE"}).done(Object(d.a)(r,()=>{var a=Object(s.a)(e);i(L({playerType:t})),a.refreshRemotePlayQueue(r)})).fail(Object(d.a)(r,()=>{c.add(u,{at:p})}))})},"ui/player/playQueue/fetchPlayQueue"(e,{playerType:t}){var a=Object(m.c)(e,t).get("playQueue");Object(o.a)(a)},[y](e,{playerType:t}){},[f](e){},"ui/player/playQueue/restorePlayQueue"(e,t,a){var{serverEntityID:i,providerEntityID:r,playQueueType:n,playQueueOffset:s,playQueueRepeat:o,playQueueID:l,next:c}=t,d={serverEntityID:i,providerEntityID:r,startOffsetMilliseconds:1e3*s,options:{type:n,playQueueRepeat:o,playQueueID:l,next:c}};a(Object(g.j)(d))}}},m432:function(e,t,a){e.exports={modalHeader:"PlayerErrorModal-modalHeader-167lt1 ModalHeader-modalHeader-1Kf9RW",errorCode:"PlayerErrorModal-errorCode-2H7W7M"}},m5q2:function(e,t,a){e.exports={jumpBar:"LibraryPageJumpBar-jumpBar-22VKU1"}},m7TM:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+='<a class="artwork-option media-poster-container" data-rating-key="',s+=(0,this.escapeExpression)((n=a.ratingKey)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.ratingKey)?n.call(t,{hash:{},data:r}):n)+'" href="#"> <div class="media-poster"></div> </a> '}))},m97E:function(e,t,a){e.exports={sectionDetails:"SubmittableFormSection-sectionDetails-12m6Er CloseableFormSection-isPressable-3BPTnc SettingsFormSectionDetails-sectionDetails-2rJ3jd",label:"SubmittableFormSection-label-1uVA_5 FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc",submitButton:"SubmittableFormSection-submitButton-2Dd-PE",spinnerContainer:"SubmittableFormSection-spinnerContainer-3JnpqQ"}},m9Cz:function(e,t,a){e.exports={deviceInfoBody:"DVRSetupDeviceInfo-deviceInfoBody-2LzExz ModalBody-modalBody--5uHSu",deviceInfoForm:"DVRSetupDeviceInfo-deviceInfoForm-1K-pGS",channelInfo:"DVRSetupDeviceInfo-channelInfo-32L387",channelDetails:"DVRSetupDeviceInfo-channelDetails-314k9o",deviceDetails:"DVRSetupDeviceInfo-deviceDetails-3DYVe7",countryInputGroup:"DVRSetupDeviceInfo-countryInputGroup-5CATqW",channelScanSourceSelect:"DVRSetupDeviceInfo-channelScanSourceSelect-22g5Xu SelectInput-input-x1tNmq input-input-1P2Vi4",deviceChannelsContainer:"DVRSetupDeviceInfo-deviceChannelsContainer-2ffnzV",deviceChannels:"DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT",deviceChannelsInfo:"DVRSetupDeviceInfo-deviceChannelsInfo-3oUd5C DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT"}},mDY5:function(e,t,a){e.exports={section:"ShareRestrictionsFilters-section-2OL_0T"}},mEyC:function(e,t,a){e.exports={container:"QuickSearch-container-2PWkBt"}},mJEB:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(r(a("ortX")).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(r(a("ortX")).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((o=i.if.call(t,t&&t.showUpload,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((n=i.if.call(e,e&&e.showFileUpload,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+=' <a class="upload-url-btn" href="#">'+c(r(a("ortX")).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(r(a("ortX")).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(r(a("ortX")).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(r(a("ortX")).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(r(a("ortX")).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(r(a("ortX")).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(r(a("ortX")).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(r(a("ortX")).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(r(a("ortX")).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="artwork-list-container"></div> '}))},mJGB:function(e,t,a){e.exports={buttons:"HeroButtons-buttons-2mHk7l"}},"mKd/":function(e,t,a){e.exports={input:"SelectInput-input-x1tNmq input-input-1P2Vi4",small:"SelectInput-small-2QgMQ- input-small-3LyjJH",select:"SelectInput-select-3zFgU3",large:"SelectInput-large-8FdD3e input-large-3wNGTy",isDisabled:"SelectInput-isDisabled-1d1XjS",hasError:"SelectInput-hasError-3tk9iX"}},mUut:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a,i="";return i+=' rows="'+c("function"==typeof(a=e&&e.rows)?a.apply(e):a)+'"'}function p(e,t){var a,i="";return i+='data-exclude-param="'+c("function"==typeof(a=e&&e.excludeParam)?a.apply(e):a)+'" data-exclude-value="'+c("function"==typeof(a=e&&e.excludeValue)?a.apply(e):a)+'"'}return l+='<div class="form-group"> <label for="text-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c(r(a("ortX")).call(t,t&&t.label,{hash:{},data:s}))+"</label> ",((o=r(a("YFQD")).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(4,(function(e,t){var a,r="";return r+=' <input type="text" id="text-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" class="form-control text-field" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" value="'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+'" placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'" ',((a=i.if.call(e,e&&e.excludeParam,{hash:{},inverse:d.noop,fn:d.program(5,p,t),data:t}))||0===a)&&(r+=a),r+="> "}),s),fn:d.program(1,(function(e,t){var a,r="";return r+=' <textarea class="form-control text-field" id="text-'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'" name="'+c("function"==typeof(a=e&&e.name)?a.apply(e):a)+'"',((a=i.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=' placeholder="'+c("function"==typeof(a=e&&e.placeholder)?a.apply(e):a)+'">'+c("function"==typeof(a=e&&e.value)?a.apply(e):a)+"</textarea> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> "}))},mYof:function(e,t,a){e.exports={message:"EPGMapping-message-2-bnsH",spinnerContainer:"EPGMapping-spinnerContainer-TAwZ1M"}},"mZ//":function(e,t,a){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3Gf7Eg"}},mbhi:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("5+Bl"),r=a("5hhD");function n(e){var t=Object(i.a)(e).get("metadataItem");return r.k(t.provider.get("identifier"),r.b)}},mkKI:function(e,t,a){e.exports={icon:"SubtitlesOffsetSettingsValue-icon-98VH3J"}},mqLr:function(e,t,a){e.exports={modal:"DVRSetupModal-modal-3IeKFJ Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},mzMB:function(e,t,a){e.exports={pageHeaderCenter:"PageHeaderCenter-pageHeaderCenter-XZlGC2"}},mzNq:function(e,t,a){e.exports={formContent:"SyncDownloadModal-formContent-1fzG5B ModalContent-modalContent-UQlV4k"}},n1jJ:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));a("yDpE");var i=a("O57k");function r(e){var{key:t,fetchActionCreator:a,getModel:r}=e,n="is"+Object(i.a)(t)+"Populated";return(e,t,i)=>{r(e,t).get(n)||i(a(t))}}},n6F1:function(e,t,a){e.exports={row:"UserSettingsSentInviteRow-row-wQq2YS UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UserSettingsSentInviteRow-actions-26ThO1 UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",homeInvite:"UserSettingsSentInviteRow-homeInvite-3B7qbE",status:"UserSettingsSentInviteRow-status-1FpZ6r"}},nAMV:function(e,t,a){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-3jI6Xi PosterCard-card-VhPkOe",cardShimmer:"MetadataPosterCardPlaceholder-cardShimmer-2dNr5Z"}},nIWF:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("ZwMC"),s=a("2NUs"),o={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};var t={index:e};return r.a.each(this.qualities,(function(a,i){t[i]=r.a.result(this.qualities,i)[e]}),this),t},getQualityCount:function(){var e=r.a.first(r.a.keys(this.qualities));return r.a.result(this.qualities,e).length},getQualityAttribute:function(e){var t=Object(s.a)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,a){var i=this.getQualityAttribute(e),s=t.get(i);return s>=this.getQualityCount()&&(n.a.warn("Quality index "+s+" is out of bounds"),a({[i]:s=r.a.result(t,"defaults")[i]})),r.a.extend(this.getQualityByIndex(s),{attribute:i})},getAvailableQualities:function(e){e||(e={});var t=e.lowestQualityIndex,a=e.highestQualityIndex,i=e.comparator,r=[];a===this.ORIGINAL&&(a=void 0);for(var n=0,s=this.getQualityCount();n<s;n++)if(!(t&&n<t)){if(a&&n>a)return r;if(i&&i.call(this,n))return r;r.push(this.getQualityByIndex(n))}return r},getResolutionFromSize:function(e){var t=e.split("x"),a=parseInt(t[1],10);return this.getResolutionFromHeight(a)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;var a=e.indexOf(t);if(a<0){a=0;for(var i=0,r=e.length;i<r;i++){if(e[i]>t)break;a=i}}return a}};t.a=o},nP6q:function(e,t,a){"use strict";t.a=function(e,t,a){var i=a;if(e.Part.length>1)for(var r=0,n=e.Part.length;r<n;r++){var s=e.Part[r];if(!s.duration)break;if(t.key===s.key)break;i+=s.duration}return i}},nSpa:function(e,t,a){e.exports={modalBody:"EditHomeModalContent-modalBody-2rHN2d ModalBody-modalBody--5uHSu",innerModalBody:"EditHomeModalContent-innerModalBody-4OMCUx",pane:"EditHomeModalContent-pane-3AzgqM ModalBody-innerModalBody-36gmbf",isHidden:"EditHomeModalContent-isHidden-2gSrWM",editPane:"EditHomeModalContent-editPane-1xAxS_",centeredContainer:"EditHomeModalContent-centeredContainer-Dyflr4",stackedButtonsContainer:"EditHomeModalContent-stackedButtonsContainer-36lBjY",sortableServers:"EditHomeModalContent-sortableServers-1uFWuv SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",reloadIcon:"EditHomeModalContent-reloadIcon-3wbMu9",footer:"EditHomeModalContent-footer-10Ix6N ModalFooter-modalFooter-30WIB5",button:"EditHomeModalContent-button-HgDyCQ ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"EditHomeModalContent-splitButton-gmcHmN ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},nWaN:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(r(a("ortX")).call(t,"Converting",{hash:{},data:s}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(r(a("ortX")).call(t,"Complete",{hash:{},data:s}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(r(a("ortX")).call(t,"Deleted",{hash:{},data:s}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(o=t&&t.initialErrorMessage)?o.apply(t):o)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(r(a("ortX")).call(t,"Waiting",{hash:{},data:s}))+"</span> </div> "}))},nc7K:function(e,t,a){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-dPOw8Z",title:"MetadataTitleCombinedTitleTrackArtist-title-3orFUf",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-3o0Kmw"}},ngbI:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this.escapeExpression;return s+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',s+=o((n=a.title)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.title)?n.call(t,{hash:{},data:r}):n)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">',s+=o((n=a.year)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.year)?n.call(t,{hash:{},data:r}):n)+"</div> </div> "}))},nnTz:function(e,t,a){e.exports={posterCell:"HomeHubPosterPlaceholderCell-posterCell-1jeJqH"}},nqj8:function(e,t,a){e.exports={character:"LibraryPageJumpBarCharacter-character-2Hr4Ed"}},o2in:function(e,t,a){e.exports={playButton:"PlayButton-playButton-lixyMM Link-link-2ew_DK",playCircle:"PlayButton-playCircle-1_WgTy"}},o4BE:function(e,t,a){"use strict";a.d(t,"f",(function(){return g})),a.d(t,"d",(function(){return y})),a.d(t,"a",(function(){return f})),a.d(t,"b",(function(){return b})),a.d(t,"c",(function(){return I})),a.d(t,"e",(function(){return S})),a.d(t,"t",(function(){return M})),a.d(t,"p",(function(){return C})),a.d(t,"i",(function(){return D})),a.d(t,"h",(function(){return P})),a.d(t,"o",(function(){return O})),a.d(t,"k",(function(){return j})),a.d(t,"l",(function(){return T})),a.d(t,"m",(function(){return w})),a.d(t,"n",(function(){return E})),a.d(t,"q",(function(){return N})),a.d(t,"r",(function(){return x})),a.d(t,"j",(function(){return A})),a.d(t,"s",(function(){return L})),a.d(t,"g",(function(){return k}));var i,r,n=a("BQdi"),s=a("ZwMC"),o=a("BQgB"),l=a("+We+"),c=0,d=0;function u(e,t){return Object(l.a)(e)?function(e,t){for(var a=e.possibleEntityContainers,i=a?a.length:0,r=0;r<i;r++){var n=a[r];if(u(e[n],t))return!0}return!1}(e,t):Array.isArray(e)?function(e,t){for(var a=0,i=e.length;a<i;a++){if(u(e[a],t))return!0}return!1}(e,t):e===t}function p(e,t){return e+1>=t?0:e+1}var h=a("vkLW"),m=a("4/mG"),v=a("XyZL"),g="app/setPrimaryServer",y="app/resetPrimaryServer",f="app/changePrimaryServer",b="app/navigate",I="app/navigatePrePlay",S="app/saveDeviceSettings",M=Object(n.a)(g),C=Object(n.a)(y),D=Object(n.a)(f),P=Object(n.a)("app/changeCompanionServer"),O=Object(n.a)("app/removeCompanionServer"),j=Object(n.a)("app/garbageCollectEntities"),T=Object(n.a)(b),w=(Object(n.a)("app/navigateBack"),Object(n.a)("app/navigateForward"),Object(n.a)("app/navigateHome")),E=(Object(n.a)("app/navigateSearch"),Object(n.a)(I)),N=Object(n.a)(S),x=Object(n.a)("app/saveLastSourcePivot"),A=Object(n.a)("app/clearLastSourcePivots"),L=Object(n.a)("app/savePivotParams"),k={"app/garbageCollectEntities"(e,t){Object(m.a)();var a=function(e,t={}){var a=null!=t.budget?t.budget:1e3/60,n=window.performance.now(),s=e.entities,o=Object.keys(s),l=o.length,h={},m=s[o[c]];for(i=c,r=Math.max(Math.min(d,Object.keys(m).length-1),0);c<l;){for(var v=o[c],g=s[v],y=Object.keys(g),f=y.length,b=p(c,l);d<f;){var I=y[d],S=p(d,f);if(u(e,I)||(h[v]||(h[v]=[]),h[v].push(I)),b===i&&S===r)return c=b,d=S,h;if(window.performance.now()-n>=a)return c=b,d=S,h;d++}if(d=0,(c=b)===i&&d===r)return h}return h}(e.getState(),t),n=e.get("entities");for(var s in a){var o=a[s];n.get(s).remove(o)}t&&t.budget===1/0&&Object.keys(a).length&&Object(m.a)()},"app/saveLastSourcePivot"(e,t,a){var i=Object(h.m)(e,t),r=Object(h.j)(e,t),n=e.get("user").get("experienceSettings"),s=n.get("lastSourcePivots");if(n.get("shouldSaveLastSourcePivots")){var l=Object(v.a)(i.get("machineIdentifier"),r.get("identifier"),t.directoryID);a(Object(o.f)({lastSourcePivots:Object.assign({},s,{[l]:t.pivotKey})}))}},"app/clearLastSourcePivots"(e,t,a){a(Object(o.f)({lastSourcePivots:{}}))},"app/savePivotParams"(e,t,a){var i=Object(h.m)(e,t),r=Object(h.j)(e,t),n=e.get("user").get("experienceSettings").get("savedPivotParams"),s=Object(v.a)(i.get("machineIdentifier"),r.get("identifier"),t.directoryID,t.pivotKey);a(Object(o.f)({savedPivotParams:Object.assign({},n,{[s]:t.params})}))},[f](e,t){},[y](e,t){},[g](e,t){},"app/changeCompanionServer"(e,t){var a=Object(h.t)(e,t);a?e.set("companionServer",a):s.a.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},"app/removeCompanionServer"(e){e.unset("companionServer")},[b](){},"app/navigateBack"(){},"app/navigateForward"(){},"app/navigateHome"(){},"app/navigateSearch"(){},[I](){},[S](){}}},o8wu:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var a="";return a+=" <li>"+c("function"==typeof e?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(r(a("ortX")).call(t,"Plex Media Server Release Notes",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+c(r(a("ortX")).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:s}))+"</span> ",((o=i.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,(function(e,t,n){var s,o="";return o+=' <h4 class="update-list-title">'+c(r(a("ortX")).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((s=i.each.call(e,n&&n.added,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,(function(e,t,n){var s,o="";return o+=' <h4 class="update-list-title">'+c(r(a("ortX")).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((s=i.each.call(e,n&&n.fixed,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===s)&&(o+=s),o+=" </ul> "}),s,t),data:s}))||0===o)&&(l+=o),l+=" </div> </div> </div> "}))},oArg:function(e,t,a){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-14sZdQ"}},oKl5:function(e,t,a){e.exports={title:"SectionTypeLibraries-title-3B6e9v",divider:"SectionTypeLibraries-divider-2acpqi"}},oRFc:function(e,t,a){e.exports={disclosureArrowLink:"DisclosureArrowLink-disclosureArrowLink-2tZpSu Link-link-2ew_DK",isSelected:"DisclosureArrowLink-isSelected-1ke9ld",small:"DisclosureArrowLink-small-2xeRpi",medium:"DisclosureArrowLink-medium-me93mt",large:"DisclosureArrowLink-large-3oPuWK",disclosureArrow:"DisclosureArrowLink-disclosureArrow-2QXL2b DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowLink-down-D5SyKC",left:"DisclosureArrowLink-left-3IbFw0",up:"DisclosureArrowLink-up-2voo1-",right:"DisclosureArrowLink-right-2imPuw"}},oToW:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){return this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '}))},oZqB:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("PW1X"),s=a("Sgs+"),o=a("hpd0"),l=s.a.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:o.a,comparator:"filterType",includeAdvanced:!0,url(){var e=r.a.result(this.section,"url"),t=this.section.get("currentType"),a={includeAdvanced:this.includeAdvanced?1:0};return t&&(a.type=t.id),n.join([e,"/filters"],a)},findUnwatchedFilter(){return this.get("unwatched")||this.get("unwatchedLeaves")}});t.a=l},oayy:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var a;return(a=i.if.call(e,e&&e.isOpeningAddManagedUser,{hash:{},inverse:d.program(11,m,t),fn:d.program(9,h,t),data:t}))||0===a?a:""}function h(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Enter Admin PIN",{hash:{},data:t}))+" "}function m(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Enter PIN",{hash:{},data:t}))+" "}function v(e,t){var i="";return i+=' <button type="button" class="remove-btn btn-gray pull-left">'+c(r(a("ortX")).call(e,"Remove",{hash:{},data:t}))+"</button> "}function g(e,t){var i="";return i+=' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(r(a("ortX")).call(e,"Skip",{hash:{},data:t}))+"</button> "}function y(e,t){var i="";return i+=' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(r(a("ortX")).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((o=i.if.call(t,t&&t.showBackButton,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.program(5,(function(e,t){var a;return(a=i.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:d.program(8,p,t),fn:d.program(6,u,t),data:t}))||0===a?a:""}),s),fn:d.program(3,(function(e,t){var i="";return i+=' <i class="modal-icon glyphicon pencil"></i> '+c(r(a("ortX")).call(e,"Edit PIN",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(r(a("ortX")).call(t,"Forgot?",{hash:{},data:s}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((o=i.if.call(t,t&&t.isEditWarning,{hash:{},inverse:d.noop,fn:d.program(13,(function(e,t){var i="";return i+=' <p class="help-block"> '+c(r(a("ortX")).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=" </div> ",((o=i.if.call(t,t&&t.isEditing,{hash:{},inverse:d.noop,fn:d.program(15,(function(e,t){var n,s="";return s+=' <div class="modal-footer"> ',((n=i.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:d.noop,fn:d.program(16,v,t),data:t}))||0===n)&&(s+=n),s+=" ",((n=i.if.call(e,e&&e.isEditWarning,{hash:{},inverse:d.program(20,y,t),fn:d.program(18,g,t),data:t}))||0===n)&&(s+=n),s+=' <button type="submit" class="save-btn btn-link">'+c(r(a("ortX")).call(e,"Save",{hash:{},data:t}))+"</button> </div> "}),s),data:s}))||0===o)&&(l+=o),l+=" </form> "}))},obfZ:function(e,t,a){e.exports={discoverPageContent:"DiscoverPage-discoverPageContent-3mJ50O PageContent-innerPageContent-3ktLTA",discoverPageList:"DiscoverPage-discoverPageList-3u-Jgf"}},ogHR:function(e,t,a){e.exports={decoratorIconContainer:"DecoratorIcon-decoratorIconContainer-2cRbIa",decoratorIcon:"DecoratorIcon-decoratorIcon-1Odh78"}},ogW7:function(e,t,a){e.exports={scroller:"VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74"}},oozQ:function(e,t,a){"use strict";a.d(t,"e",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return o}));var i="stopped",r="playing",n="paused",s="buffering",o="error"},ortX:function(e,t,a){var i=a("F/us"),r=a("A+r8").default,n=a("3O+N");e.exports=function(){var e=i.initial(arguments).concat({escape:!0}),t=i.last(arguments).hash;return i.isObject(t)&&!i.isEmpty(t)&&e.splice(1,0,t),new n.SafeString(r.apply(r,e))}},oucR:function(e,t,a){e.exports={sectionWrapper:"TwoFactorAuthSection-sectionWrapper-1W0bun SettingsFormSection-section-1zYMPA",description:"TwoFactorAuthSection-description-3mOew1",action:"TwoFactorAuthSection-action-pFmYvP"}},ovLB:function(e,t,a){e.exports={pageHeaderDivider:"PageHeaderDivider-pageHeaderDivider-1NwPUr"}},oz32:function(e,t,a){e.exports={measureContainer:"DirectoryListFilterMenu-measureContainer-BY7PKV",menuScroller:"DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",headerContainer:"DirectoryListFilterMenu-headerContainer-fAEzTJ",header:"DirectoryListFilterMenu-header-1C5kVg",filterOptionsContainer:"DirectoryListFilterMenu-filterOptionsContainer-2yL-jE",headerTitle:"DirectoryListFilterMenu-headerTitle-3_2Kx4",filterOptionsScroller:"DirectoryListFilterMenu-filterOptionsScroller-2MYItA DirectoryListFilterMenu-menuScroller-3GD7He Scroller-scroller-CQJq74",backIcon:"DirectoryListFilterMenu-backIcon-IINLdp",filterText:"DirectoryListFilterMenu-filterText-3_u9I3",searchInput:"DirectoryListFilterMenu-searchInput-3BccPR TextInput-input-1VMuma input-input-1P2Vi4",selectedMenuItem:"DirectoryListFilterMenu-selectedMenuItem-owGNxt SelectedMenuItem-menuItemContainer-2hXIr-",emptyText:"DirectoryListFilterMenu-emptyText-1GMJoR"}},p050:function(e,t,a){e.exports={loadingItem:"MetadataSimpleSummaryCellLoading-loadingItem-35Sst7",alternateLoadingItem:"MetadataSimpleSummaryCellLoading-alternateLoadingItem-2LPd55 MetadataSimpleSummaryCellLoading-loadingItem-35Sst7"}},p1pj:function(e,t,a){e.exports={emptyContainer:"PlaylistItemList-emptyContainer-3nMxMp",emptyMessage:"PlaylistItemList-emptyMessage-1ot0Cu PlaylistItemList-emptyContainer-3nMxMp"}},p2t2:function(e,t,a){e.exports={multiSelectContainer:"MultiSelectInputGroup-multiSelectContainer-2ePyeH",multiSelectItem:"MultiSelectInputGroup-multiSelectItem-qpRtxx",help:"MultiSelectInputGroup-help-FxDQrq FormHelp-help-3VCuqa"}},p9Lp:function(e,t,a){e.exports={container:"ServerDashboardPageMessage-container-2qUY4V",message:"ServerDashboardPageMessage-message-2iodXZ"}},p9a2:function(e,t,a){e.exports={item:"MetadataSimpleSummaryCell-item-2wMSiM",isActionsMenuOpen:"MetadataSimpleSummaryCell-isActionsMenuOpen-3iGW8j",button:"MetadataSimpleSummaryCell-button-T_Dfk_",titleEpisodeIndex:"MetadataSimpleSummaryCell-titleEpisodeIndex-fssXIX",alternateItem:"MetadataSimpleSummaryCell-alternateItem-2dz9an MetadataSimpleSummaryCell-item-2wMSiM",underlay:"MetadataSimpleSummaryCell-underlay-3j5Egl",overlay:"MetadataSimpleSummaryCell-overlay-18Efas",simpleSummaryContainer:"MetadataSimpleSummaryCell-simpleSummaryContainer-2b-1Rj",indexPlayContainer:"MetadataSimpleSummaryCell-indexPlayContainer-C8tSJA",playButtonContainer:"MetadataSimpleSummaryCell-playButtonContainer-CgWZXI",playButton:"MetadataSimpleSummaryCell-playButton-3yyum1 PlayButton-playButton-3WX8X- MetadataSimpleSummaryCell-button-T_Dfk_",miniProgressContainer:"MetadataSimpleSummaryCell-miniProgressContainer-3piSDJ",titleAndSummaryContainer:"MetadataSimpleSummaryCell-titleAndSummaryContainer-YfihRx",titleContainer:"MetadataSimpleSummaryCell-titleContainer-1kD2Ls",title:"MetadataSimpleSummaryCell-title-2SoJl0",summary:"MetadataSimpleSummaryCell-summary-1plSwU",actions:"MetadataSimpleSummaryCell-actions-2_Bywi",moreButton:"MetadataSimpleSummaryCell-moreButton-1mNpcu MetadataSimpleSummaryCell-button-T_Dfk_"}},pAB4:function(e,t,a){e.exports={concerts:"PrePlayConcerts-concerts-3r-qin",concertsLogo:"PrePlayConcerts-concertsLogo-oF29Rl"}},pIhj:function(e,t,a){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-1dljwG"}},pIrp:function(e,t,a){e.exports={item:"MetadataSummaryCell-item-3B6Ccq",isActionsMenuOpen:"MetadataSummaryCell-isActionsMenuOpen-2SCBd-",button:"MetadataSummaryCell-button-zZgSeN",hasActiveSelection:"MetadataSummaryCell-hasActiveSelection-3nabOz",underlay:"MetadataSummaryCell-underlay-3M2OQt",isForcingSelection:"MetadataSummaryCell-isForcingSelection-2Iov2k",overlay:"MetadataSummaryCell-overlay-1lk0o5",editButton:"MetadataSummaryCell-editButton-2RfiY7 MetadataSummaryCell-button-zZgSeN",moreButton:"MetadataSummaryCell-moreButton-1rf6AI MetadataSummaryCell-button-zZgSeN",isSelected:"MetadataSummaryCell-isSelected-fha5M-",selectButton:"MetadataSummaryCell-selectButton-3KJeM6 SelectButton-selectButton-3Kbjm9 MetadataSummaryCell-button-zZgSeN",alternateItem:"MetadataSummaryCell-alternateItem-3K1M60 MetadataSummaryCell-item-3B6Ccq",posterContainer:"MetadataSummaryCell-posterContainer-1Vc-ob",summaryContainer:"MetadataSummaryCell-summaryContainer-6HJG5t",librarySummaryContainer:"MetadataSummaryCell-librarySummaryContainer-HZdA_F MetadataSummaryCell-summaryContainer-6HJG5t",titleContainer:"MetadataSummaryCell-titleContainer-p5H3cg",title:"MetadataSummaryCell-title-3jmFb3",doubleTitle:"MetadataSummaryCell-doubleTitle-39TlXL",subtitle:"MetadataSummaryCell-subtitle-1bwT6w MetadataSummaryCell-title-3jmFb3",rating:"MetadataSummaryCell-rating-2QtpgP",separator:"MetadataSummaryCell-separator-2zu7c5 DashSeparator-separator-4CyEFW",summary:"MetadataSummaryCell-summary-2xqysY",shorterSummary:"MetadataSummaryCell-shorterSummary-33vpwE MetadataSummaryCell-summary-2xqysY",actions:"MetadataSummaryCell-actions-1C9ShK",selectCoverButton:"MetadataSummaryCell-selectCoverButton-2nF-uP"}},pQgm:function(e,t,a){e.exports={scroller:"SortableLineup-scroller-195UUm Scroller-scroller-3GqQcZ"}},pRYq:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="";return s+='<span class="message">',s+=(0,this.escapeExpression)((n=a.message)?n.call(t,{hash:{},data:r}):"function"==typeof(n=t&&t.message)?n.call(t,{hash:{},data:r}):n)+"</span> "}))},pSG4:function(e,t,a){"use strict";var i,r=a("mPz0"),n=a.n(r),s=a("ZwMC");t.a=function(e){var t,a={};if(!e)return s.a.warn("[Parser] Empty XML source"),a;i=i||new n.a({attributePrefix:"",emptyNodeForm:{},ignoreRoot:!0});try{t=e&&i.xml2js(e)}catch(e){s.a.warn("[Parser] Unable to parse XML: "+e.message)}return t||a}},pSrE:function(e,t,a){e.exports={container:"ChannelsGridRow-container-2sCkCm",title:"ChannelsGridRow-title-3AzG0n ChannelsGridRowTitle-container-2k8lvi",programsContainer:"ChannelsGridRow-programsContainer-TF5JSz",program:"ChannelsGridRow-program-1x1gRE ChannelsGridMetadataItemCell-container-2NM2za",progress:"ChannelsGridRow-progress-2ZqEd5"}},pWsU:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this,d=this.escapeExpression;function u(e,t){var i,n="";return n+=' <option value="-1" ',((i=r(a("YFQD")).call(e,null==(i=e&&e.selectedVideoQuality)||!1===i?i:i.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===i)&&(n+=i),n+="> "+d(r(a("ortX")).call(e,"Original",{hash:{},data:t}))+" </option> "}function p(e,t){return"selected"}function h(e,t,i){var n,s="";return s+=' <option value="'+d("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedVideoQuality)||!1===n?n:n.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===n)&&(s+=n),s+="> "+d(r(a("0enV")).call(e,e,{hash:{},data:t}))+" </option> "}function m(e,t,i){var n,s="";return s+=' <option value="'+d("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedMusicQuality)||!1===n?n:n.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===n)&&(s+=n),s+="> "+d(r(a("7wfR")).call(e,e,{hash:{},data:t}))+" </option> "}function v(e,t,i){var n,s="";return s+=' <option value="'+d("function"==typeof(n=e&&e.index)?n.apply(e):n)+'" ',((n=r(a("YFQD")).call(e,null==(n=i&&i.selectedPhotoQuality)||!1===n?n:n.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,p,t),data:t}))||0===n)&&(s+=n),s+="> "+d("function"==typeof(n=e&&e.title)?n.apply(e):n)+" </option> "}return((o=r(a("YFQD")).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,(function(e,t){var a,r="";return r+=' <select class="sync-quality-select" name="videoQuality"> ',((a=i.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,u,t),data:t}))||0===a)&&(r+=a),r+=" ",((a=i.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,h,t,e),data:t}))||0===a)&&(r+=a),r+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r(a("YFQD")).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,(function(e,t){var a,r="";return r+=' <select class="sync-quality-select" name="musicQuality"> ',((a=i.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,m,t,e),data:t}))||0===a)&&(r+=a),r+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=" ",((o=r(a("YFQD")).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,(function(e,t){var a,r="";return r+=' <select class="sync-quality-select" name="photoQuality"> ',((a=i.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,v,t,e),data:t}))||0===a)&&(r+=a),r+=" </select> "}),s),data:s}))||0===o)&&(l+=o),l+=' <p class="help-block">'+d(r(a("ortX")).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:s}))+"</p> "}))},pWth:function(e,t,a){e.exports={noSources:"QuickSearchProviders-noSources-26m6pv"}},pXVu:function(e,t,a){"use strict";var i=a("jejw"),r=a("DTXE"),n={ASCENDING:"asc",DESCENDING:"desc"},s=i.a.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:r.a.boolean,direction:r.a.string},syncedAttrs:{key:r.a.string,descKey:r.a.string,title:r.a.string,isDefault:r.a.boolean,active:r.a.boolean,defaultDirection:r.a.string,activeDirection:r.a.string,firstCharacterKey:r.a.string},defaults:{selected:!1},augmentResponse:e=>(e.defaultDirection||(e.defaultDirection=e.default||n.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e),reverseSortDirection(){var e=this.get("direction")||this.get("defaultDirection");e=e&&e!==n.ASCENDING?n.ASCENDING:n.DESCENDING,this.set("direction",e)}},{directions:n});t.a=s},pYVw:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"d",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s}));var i="audio",r="video",n="photo",s="rom"},paCu:function(e,t,a){e.exports={statusContainer:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-3czNOC NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",statusTitle:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-2LUdOL NavBarActivityMenuStatusItem-statusTitle-2hIH6G"}},pkL8:function(e,t,a){"use strict";a.r(t),a.d(t,"default",(function(){return r}));var i=a("r/An");function r(e){return Object(i.a)(e.bitrate)}},pmMa:function(e,t,a){e.exports={sourceTitle:"HomeHubTitle-sourceTitle-39P-XL"}},pnnh:function(e,t,a){e.exports=function(e,t){function a(a){return{underscore:e,backbone:t}[a]}return function(e){function t(e){var a=t.cache[e];if(!a){var i={};a=t.cache[e]={id:e,exports:i},t.modules[e].call(i,a,i)}return a.exports}return t.cache=[],t.modules=[function(e,i){var r=a("underscore"),n=a("backbone"),s=t(2),o=t(5),l=t(4),c=t(1),d=t(7);function u(e,t){this._superset=e,this._filtered=new s(e,t),this._sorted=new o(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),d.call(this,this._filtered,h),d.call(this,this._sorted,m),d.call(this,this._paginated,v),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},h=["filtered:add","filtered:remove","filtered:reset"],m=["sorted:add","sorted:remove"],v=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];r.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],(function(e){p[e]=function(){var t=s.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}})),r.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],(function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}})),r.each(["setSort","reverseSort","removeSort"],(function(e){p[e]=function(){var t=o.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}})),r.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],(function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}})),r.extend(u.prototype,p,n.Events),(u=n.Collection.extend(u.prototype)).FilteredCollection=s,u.SortedCollection=o,u.PaginatedCollection=l,e.exports=u},function(e,t){var i=a("underscore"),r=a("backbone"),n=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],s=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function a(){t.length=e.length}var o={};return i.each(i.functions(r.Collection.prototype),(function(t){i.contains(n,t)||(o[t]=function(){return e[t].apply(e,arguments)})})),i.extend(t,r.Events,o),t.listenTo(e,"all",a),t.listenTo(e,"all",(function(a){var r=i.toArray(arguments),n="change"===a||"change:"===a.slice(0,7);"reset"===a&&(t.models=e.models),i.contains(s,a)?(i.contains(["add","remove","destroy"],a)?r[2]=t:i.contains(["reset","sort"],a)&&(r[1]=t),t.trigger.apply(this,r)):n&&t.contains(r[1])&&t.trigger.apply(this,r)})),t.models=e.models,a(),t}},function(e,i){var r=a("underscore"),n=a("backbone"),s=t(1),o=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function d(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}function u(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}function p(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var a in this._filters)if(this._filters.hasOwnProperty(a)&&(t.hasOwnProperty(a)||(t[a]=this._filters[a].fn(e)),!t[a]))return!1;return!0}function h(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(r.bind(p,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function m(){h.call(this,{reset:!0})}function v(){var e=!(!this._superset||!this._superset.comparator);h.call(this,{reset:e})}function g(e){if(this._filterResultCache[e.cid]={},p.call(this,e)){if(!this._collection.get(e.cid)){for(var t=null,a=this.superset().indexOf(e)-1;a>=0;a-=1)if(this.contains(this.superset().at(a))){t=this.indexOf(this.superset().at(a))+1;break}t=t||0,this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function y(e){this._filterResultCache[e.cid]={},p.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}function f(e,t,a){"change:"===e.slice(0,7)&&y.call(this,arguments[1])}function b(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function I(e){this._superset=e,this._collection=new n.Collection(e.toArray()),s(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",m),this.listenTo(this._superset,"sort",v),this.listenTo(this._superset,"add change",g),this.listenTo(this._superset,"remove",b),this.listenTo(this._superset,"all",f)}var S={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),d.call(this,e,o(t)),h.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),u.call(this,e),h.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),h.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?g.call(this,e):(l.call(this),h.call(this)),this},getFilters:function(){return r.keys(this._filters)},hasFilter:function(e){return r.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};r.extend(I.prototype,S,n.Events),e.exports=I},function(e,t){var i=a("underscore");function r(e,t){return i.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return i.isFunction(e)?r(e,t):i.isObject(e)?function(e){var t=i.keys(e),a=i.map(t,(function(t){var a=e[t];return i.isFunction(a)?function(e,t){return function(a){return t(a.get(e))}}(t,a):function(e,t){return function(a){return a.get(e)===t}}(t,a)}));return r((function(e){for(var t=0;t<a.length;t++)if(!a[t](e))return!1;return!0}),t)}(e):void 0}},function(e,i){var r=a("underscore"),n=a("backbone"),s=t(1);function o(){var e=this.getPage()*this.getPerPage();return[e,e+this.getPerPage()]}function l(){var e=o.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),a=e%t==0?e/t:Math.floor(e/t)+1,i=this._totalPages!==a;if(this._totalPages=a,i&&this.trigger("paginated:change:numPages",{numPages:a}),this.getPage()>=a)return this.setPage(a-1),!0}function d(){c.call(this)||l.call(this)}function u(e,t){for(var a=r.max([e.length,t.length]),i=0,n=0;i<a;i+=1,n+=1)if(e[i]!==t[n])if(t[i-1]===e[i])n-=1;else{if(t[i+1]!==e[i])return e[i];n+=1}}function p(e,t,a){if(!c.call(this)){var i=o.call(this),r=i[0],n=i[1],s=u(this.superset().slice(r,n),this._collection.toArray()),l=u(this._collection.toArray(),this.superset().slice(r,n));l&&this._collection.remove(l),s&&this._collection.add(s,{at:this.superset().indexOf(s)-r})}}function h(e,t){this._superset=e,this._collection=new n.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),s(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",d)}var m={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,d.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};r.extend(h.prototype,m,n.Events),e.exports=h},function(e,i){var r=a("underscore"),n=a("backbone"),s=t(1),o=t(6);function l(e){return r.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?o(this._collection.toArray(),e,l(this._comparator)):r.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function d(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function u(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),d.call(this,e))}function h(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function m(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new n.Collection(e.toArray()),s(this._collection,this),this.listenTo(this._superset,"add",d),this.listenTo(this._superset,"remove",u),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",h)}var v={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,h.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,h.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};r.extend(m.prototype,v,n.Events),e.exports=m},function(e,t){var i=a("underscore");e.exports=function(e,t,a,r){for(var n=(a=null==a?i.identity:function(e){return i.isFunction(e)?e:function(t){return t[e]}}(a)).call(r,t),s=0,o=e.length;s<o;){var l=s+o>>>1;a.call(r,e[l])<n?o=l:s=l+1}return s}},function(e,t){var i=a("underscore");e.exports=function(e,t){i.each(t,(function(t){this.listenTo(e,t,(function(){var e=i.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)}))}),this)}}],t(0)}()}(a("F/us"),a("zLeb"))},pqqZ:function(e,t,a){e.exports=function(e,t,a){return Array.isArray(e)&&e.includes(t)?a.fn(this):a.inverse(this)}},puJ8:function(e,t,a){e.exports={title:"ConflictTitle-title-1g7j7l",secondaryTitle:"ConflictTitle-secondaryTitle-2kiOLQ"}},q3pM:function(e,t,a){e.exports={loadingItem:"SharedItemMetadataCellLoading-loadingItem-2GrG2c",alternateLoadingItem:"SharedItemMetadataCellLoading-alternateLoadingItem-1xEfhx SharedItemMetadataCellLoading-loadingItem-2GrG2c",posterContainer:"SharedItemMetadataCellLoading-posterContainer-3rtpMI"}},qGiH:function(e,t,a){e.exports={description:"AccountPage-description-2EgbIA",sectionDetails:"AccountPage-sectionDetails-1Td4Vy SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},qM40:function(e,t,a){e.exports={container:"UsersSettingsRowName-container-2JjONh",titleContainer:"UsersSettingsRowName-titleContainer-3LIPWK",title:"UsersSettingsRowName-title-kkZcaJ",subtitle:"UsersSettingsRowName-subtitle-2kYoSI",statusContainer:"UsersSettingsRowName-statusContainer-WYR7Dv",status:"UsersSettingsRowName-status-3Dp2rT",admin:"UsersSettingsRowName-admin-3uMu0o"}},qOxg:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("x1fA").a.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(r.a.isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}});t.a=n},qR6r:function(e,t,a){e.exports={input:"Select-input-1OU8QF",small:"Select-small-9auucE",medium:"Select-medium-wyEgAx",large:"Select-large-1LpoL2",isDisabled:"Select-isDisabled-3JKUiC",select:"Select-select-LY3OYE",hasError:"Select-hasError-1CtTId"}},qXTq:function(e,t,a){"use strict";a.r(t);var i=a("PW1X"),r=a("MC0S");t.default=function(e,t){return Object(r.default)(Object(i.getLastSegment)(e||""),t)}},qlzh:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(r(a("ortX")).call(t,"Title",{hash:{},data:s}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=null==(o=t&&t.syncItem)||!1===o?o:o.title)?o.apply(t):o)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((o=i.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,(function(e,t){return c(r(a("ortX")).call(e,"Save",{hash:{},data:t}))}),s),fn:this.program(1,(function(e,t){return c(r(a("ortX")).call(e,"Sync",{hash:{},data:t}))}),s),data:s}))||0===o)&&(l+=o),l+="</span> </button> </div> </form> "}))},qoqg:function(e,t,a){e.exports={input:"TextInput-input-1VMuma input-input-1P2Vi4",small:"TextInput-small-2i2et0 input-small-3LyjJH",large:"TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},"qr/E":function(e,t,a){e.exports={container:"UsersSettingsRowShares-container-30EeNi",status:"UsersSettingsRowShares-status-O26EBM"}},quxt:function(e,t,a){"use strict";a.r(t);var i=a("Sgs+"),r=a("cGVK"),n=a("0dto"),s=a("a+vp"),o=a("RcYF"),l=i.a.extend({name:"MetadataCollection",context:["server","provider","section","playlist","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:o.a,responseType(){return Object(n.a)(this.server)},url(){return this.containerKey},augmentResponseText:(e,t)=>t===r.c?Object(s.b)(e):e,splitByType:function(){var e={};return this.each(t=>{var a=t.get("type");e.hasOwnProperty(a)?e[a].push(t):e[a]=[t]}),e}});t.default=l},"r+/Q":function(e,t,a){e.exports={card:"QuickSearchTagPosterCard-card-3RJG3x TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC"}},"r+E8":function(e,t,a){"use strict";var i=a("Sgs+"),r=a("KmMs"),n=i.a.extend({name:"MediaSettingCollection",context:["server","provider"],model:r.a,getSaveParams(){return this.reduce((e,t)=>(e[t.id]=t.get("value"),e),{})}});t.a=n},"r/An":function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var i=a("WpEi");function r(e){return Object(i.a)(e)}},r2QQ:function(e,t,a){e.exports={recordButton:"LiveTVRecordButton-recordButton-3o22mL",recordingProgressBarContainer:"LiveTVRecordButton-recordingProgressBarContainer-2S-XB4 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",recordingProgressBackground:"LiveTVRecordButton-recordingProgressBackground-3vdcHr CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",playerButton:"LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",playerButtonRecording:"LiveTVRecordButton-playerButtonRecording-2gpjKi LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I"}},r3vD:function(e,t,a){e.exports={bar:"RomFullPlayer-bar-1JS_af",topBar:"RomFullPlayer-topBar-JnSwUa RomFullPlayer-bar-1JS_af",bottomBar:"RomFullPlayer-bottomBar-3D1zEx RomFullPlayer-bar-1JS_af",content:"RomFullPlayer-content-2V1V4Q",spinnerContainer:"RomFullPlayer-spinnerContainer-YDtMMH",overlayButton:"RomFullPlayer-overlayButton-3RL_Mc Button-button-2kT68l Link-link-2n0yJn",videoTopBar:"RomFullPlayer-videoTopBar-NG4kd5",playQueueTopBar:"RomFullPlayer-playQueueTopBar-swgINA",topBarHidden:"RomFullPlayer-topBarHidden-pdOVo7",bottomBarHidden:"RomFullPlayer-bottomBarHidden-21pB18"}},"r4V+":function(e,t,a){e.exports={menuButton:"ServerDashboardMenuButton-menuButton-1zwB4s DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},r5Me:function(e,t,a){e.exports={item:"AddToLibraryMenuItem-item-3Q9Aau"}},r8pT:function(e,t,a){e.exports={form:"DVRSettingsModalContent-form-2-MX9z"}},"rC/d":function(e,t,a){e.exports={container:"FirstRunExperiencePage-container-39Qadj"}},rHgT:function(e,t,a){var i=a("dokP").default,r=a("S4rx");e.exports=r(i)},rNFJ:function(e,t,a){e.exports={playerButton:"PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",isPrimary:"PlayerIconButton-isPrimary-cD9yVe"}},rT61:function(e,t,a){e.exports={separator:"DashSeparator-separator-4CyEFW"}},rU2Z:function(e,t,a){e.exports={button:"PhotoFullPlayerOverlays-button-1anMgY",leftButton:"PhotoFullPlayerOverlays-leftButton-2bCve6 PhotoFullPlayerOverlays-button-1anMgY",rightButton:"PhotoFullPlayerOverlays-rightButton-3cTEzQ PhotoFullPlayerOverlays-button-1anMgY",topBar:"PhotoFullPlayerOverlays-topBar-45GYUI",hideOverlays:"PhotoFullPlayerOverlays-hideOverlays-eccNex",playButton:"PhotoFullPlayerOverlays-playButton-35mXLy"}},rUJk:function(e,t,a){e.exports={serverMenuItem:"ServerMenuItem-serverMenuItem-2djO5d",disabledServerMenuItem:"ServerMenuItem-disabledServerMenuItem-22OGfg",selectedServerMenuItem:"ServerMenuItem-selectedServerMenuItem-jaUTXA",serverMenuItemContainer:"ServerMenuItem-serverMenuItemContainer-1DS9VM",serverMenuTitle:"ServerMenuItem-serverMenuTitle-1s5qRg",serverMenuFriendlyName:"ServerMenuItem-serverMenuFriendlyName-37Gt74",serverMenuDetails:"ServerMenuItem-serverMenuDetails-1-Rfql",serverMenuIconContainer:"ServerMenuItem-serverMenuIconContainer-2WtBGs",serverMenuIcon:"ServerMenuItem-serverMenuIcon-2zKCW4",selectedIcon:"ServerMenuItem-selectedIcon-dhK05-",secureIcon:"ServerMenuItem-secureIcon-3-O-_k"}},rXhf:function(e,t,a){e.exports={listItem:"SessionTile-listItem-2PZHxn",mediaInformationContainer:"SessionTile-mediaInformationContainer-2Wl9vI",posterContainer:"SessionTile-posterContainer-26-HyO",attribution:"SessionTile-attribution-2OICdx",infoContainer:"SessionTile-infoContainer-TH6GXu",previewThumbnailContainer:"SessionTile-previewThumbnailContainer-3TB_Bz",metadataText:"SessionTile-metadataText-2B-EHG",visibleProgressBar:"SessionTile-visibleProgressBar-3nkcPJ",title:"SessionTile-title-3MkbNc",subtitle:"SessionTile-subtitle-3JYsEl",progressTrack:"SessionTile-progressTrack-3guOYU",progressPercent:"SessionTile-progressPercent-3iLgUW",playProgressPercent:"SessionTile-playProgressPercent-1_FcEg SessionTile-progressPercent-3iLgUW",transcodeProgressPercent:"SessionTile-transcodeProgressPercent-K1k4ZQ SessionTile-progressPercent-3iLgUW",detailsContainer:"SessionTile-detailsContainer-30PbCu",detailsContainerExpanded:"SessionTile-detailsContainerExpanded-1fXFk6",userContainer:"SessionTile-userContainer-2O2uBF",stopButton:"SessionTile-stopButton-367qa4 Link-link-2ew_DK",stopIcon:"SessionTile-stopIcon-118Toq",avatarImg:"SessionTile-avatarImg-m5Yohf AvatarImg-avatar-3Op56u",username:"SessionTile-username-1w5mFj"}},reQb:function(e,t,a){e.exports={tidal:"InnerProviderErrorPage-tidal-3tCQVW EmptyPage-icon-31D3ZA"}},roTl:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Sync",{hash:{},data:n}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},roui:function(e,t,a){e.exports={modalContainer:"Modal-modalContainer-FhCOaJ",modalBackdrop:"Modal-modalBackdrop-2QqdlT",modal:"Modal-modal-3v30kQ",small:"Modal-small-3khlbk Modal-modal-3v30kQ",medium:"Modal-medium-3wftUS Modal-modal-3v30kQ",large:"Modal-large-3ySrkU Modal-modal-3v30kQ"}},"ryK+":function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(r(a("ortX")).call(t,"Add Folder",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(r(a("ortX")).call(t,"Add",{hash:{},data:s}))+"</button> </div> </form> </div> </div> "}))},rymg:function(e,t,a){e.exports={heading:"AudioVideoFullPlayerContentHeading-heading-1XO9q-"}},s1Aa:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s="",o=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return s+='<div class="media-poster-container"> <div class="media-poster"> ',((n=a.unless.call(t,t&&t.shared,{hash:{},inverse:o.noop,fn:o.program(1,(function(e,t){var i,r="";return r+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((i=a.if.call(e,null==(i=e&&e.item)||!1===i?i:i.hasPrefs,{hash:{},inverse:o.noop,fn:o.program(2,l,t),data:t}))||0===i)&&(r+=i),r+=' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '}),r),data:r}))||0===n)&&(s+=n),s+=' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '}))},s2Sz:function(e,t,a){e.exports={overlay:"EPGPosterCardOverlay-overlay-21AW0j",background:"EPGPosterCardOverlay-background-nZkC7i",link:"EPGPosterCardOverlay-link-hVinzR",subscriptionBadge:"EPGPosterCardOverlay-subscriptionBadge-2DXamf MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"EPGPosterCardOverlay-subscriptionBadgeIcon-2CSvdG",progress:"EPGPosterCardOverlay-progress-2KBp3y PosterCardOverlayProgress-progress-16k0BJ",button:"EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playButton:"EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordButton:"EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"EPGPosterCardOverlay-playCoverButton-virTg2 EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCircle:"EPGPosterCardOverlay-playCircle-3e6vzW MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordCoverButton:"EPGPosterCardOverlay-recordCoverButton-3QBBow EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircle:"EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIcon:"EPGPosterCardOverlay-recordIcon-1-ns13 RecordIcon-recordIcon-2ygXS_",recordButtonBottom:"EPGPosterCardOverlay-recordButtonBottom-18I3qt EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircleBottom:"EPGPosterCardOverlay-recordCircleBottom-3rJ86p EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIconBottom:"EPGPosterCardOverlay-recordIconBottom-1cF9xa RecordIcon-recordIcon-2ygXS_",isActionsMenuOpen:"EPGPosterCardOverlay-isActionsMenuOpen-1O_P26"}},s4MQ:function(e,t,a){e.exports={summary:"PrePlaySummary-summary-1NL8gz"}},s5ij:function(e,t,a){e.exports={modalBody:"ModalBody-modalBody-1-wcfe",modalScroller:"ModalBody-modalScroller-3VG8jR ModalBody-modalBody-1-wcfe",innerModalBody:"ModalBody-innerModalBody-BHe1nE"}},sAyO:function(e,t,a){e.exports={extrasHubCell:"PrePlayExtrasList-extrasHubCell-2NcGKs HubCell-hubCell-3Ys175"}},"sB/z":function(e,t,a){e.exports={img:"MetadataAttributionLogoTitle-img-1hdE56"}},sKLl:function(e,t,a){e.exports={measured:"TimelinePage-measured-3JDcK6"}},sNLJ:function(e,t,a){e.exports={content:"UserSharingSettingsRestrictions-content-1eTE4V SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},sPMf:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<h2 class="setup-intro-header">'+c(r(a("ortX")).call(t,"How Plex Works",{hash:{},data:s}))+"</h2> <h4>"+c(r(a("ortX")).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c("function"==typeof(o=t&&t.computerImg)?o.apply(t):o)+"> <h4>"+c(r(a("ortX")).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c("function"==typeof(o=t&&t.mediaImg)?o.apply(t):o)+"> <h4>"+c(r(a("ortX")).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:s}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c("function"==typeof(o=t&&t.playImg)?o.apply(t):o)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(r(a("ortX")).call(t,"Got it!",{hash:{},data:s}))+"</button> </p> "}))},sPYG:function(e,t,a){e.exports={container:"FirstRunExperienceStep-container-GybKBS",actions:"FirstRunExperienceStep-actions-sqsbDy",stepContainer:"FirstRunExperienceStep-stepContainer-2g5HG8",stepText:"FirstRunExperienceStep-stepText-2Kql2A",stepHeading:"FirstRunExperienceStep-stepHeading-2l2OyX",stepBody:"FirstRunExperienceStep-stepBody-GIL2YT",stepIcon:"FirstRunExperienceStep-stepIcon-53JNXw",activeStepIcon:"FirstRunExperienceStep-activeStepIcon-rczb-H FirstRunExperienceStep-stepIcon-53JNXw",stepButton:"FirstRunExperienceStep-stepButton-2FQBJU"}},sPbJ:function(e,t,a){"use strict";a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return s}));var i="playbackSpeed",r="lineup",n="recentChannelsInGrid",s="numRecentChannelsInGrid"},sPni:function(e,t,a){e.exports={button:"MetadataDirectoryButtonCell-button-29C3x2 Button-button-2kT68l Link-link-2n0yJn"}},sZyU:function(e,t,a){var i=a("MC0S").default,r=a("S4rx");e.exports=r(i)},smKM:function(e,t,a){e.exports={linkCover:"MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",overlay:"MetadataTableRow-overlay-_TFQZN MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",underlay:"MetadataTableRow-underlay-tSsY-w MetadataTableRow-linkCover-KDCSST Link-link-2ew_DK",selectedListRow:"MetadataTableRow-selectedListRow-2b3axQ ListRow-row-1sqnTj",rangeListRow:"MetadataTableRow-rangeListRow-1o4iQ6 ListRow-row-1sqnTj",isSelectionActive:"MetadataTableRow-isSelectionActive-1Z8pea",firstTableCell:"MetadataTableRow-firstTableCell-HUJ75o TableCell-tableCell-2mwuHk",title:"MetadataTableRow-title-cNk_l6 TableCell-title-2x35AT",isSecondary:"MetadataTableRow-isSecondary-1aBcwk",playCell:"MetadataTableRow-playCell-1eyqqJ",actionsCell:"MetadataTableRow-actionsCell-yQ5kKi TableCell-tableCell-2mwuHk",actionsButton:"MetadataTableRow-actionsButton-Hypg4s Link-link-2ew_DK"}},"sn/B":function(e,t,a){e.exports={sidebarListItem:"SidebarListItem-sidebarListItem-GdcVsd"}},sq6x:function(e,t,a){e.exports={tagsInput:"TagsInput-tagsInput-2eRCns",input:"TagsInput-input-3KDPbm",hasError:"TagsInput-hasError-22oXCy input-hasError-1to6Ql"}},sscm:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(r(a("ortX")).call(t,"This media is being synced.",{hash:{},data:s}))+"</h4> <h4>"+l(r(a("ortX")).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:s}))+"</h4> </div> </div> "}))},t3yN:function(e,t,a){e.exports={section:"SignInFormSection-section-2kPygI"}},t4kf:function(e,t,a){e.exports={description:"InsecureFallbackChoicePage-description-3qJXgB EmptyPageDescription-description-DhEtaD"}},t87T:function(e,t,a){e.exports={image:"DVRDeviceImage-image-1q4Bgj"}},tCBj:function(e,t,a){e.exports={modalContent:"DisableTwoFactorAuthModal-modalContent-hBjP9W ModalContent-modalContent-4GS6yU",innerModalBody:"DisableTwoFactorAuthModal-innerModalBody-1gOMOT ModalBody-innerModalBody-BHe1nE",inputGroup:"DisableTwoFactorAuthModal-inputGroup-3BGI35"}},tN90:function(e,t,a){e.exports={magazine:"Carousel-magazine-3pULs0",slide:"Carousel-slide-1-FUF9",currentSlide:"Carousel-currentSlide-1fcfro Carousel-slide-1-FUF9"}},tRmQ:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));var i=a("g0Do"),r=a("QVd+");function n(){var e=Object(i.c)("appModel").get("deviceSettings").get("debugLevel");return e===r.a.ENABLED||e===r.a.VERBOSE}},tRnC:function(e,t,a){e.exports={resetButton:"LibraryPageHeader-resetButton-1JTO6m ToolbarButton-toolbarButton-2i2nnD"}},tSXP:function(e,t,a){e.exports={dotButton:"SpotlightHubDot-dotButton-22ad0b Button-button-3A5jB3 Link-link-2ew_DK",dot:"SpotlightHubDot-dot-1vI7Ji",dotIsSelected:"SpotlightHubDot-dotIsSelected-3I2Lu8 SpotlightHubDot-dot-1vI7Ji"}},tXoW:function(e,t,a){e.exports={listContainer:"DirectoryListPageContent-listContainer-_B2x94",pageContentScroller:"DirectoryListPageContent-pageContentScroller-37FxKJ PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74"}},taPP:function(e,t,a){e.exports={titleBackground:"TopPlayedColumnHeader-titleBackground-3VRIG-",emptyTitleBackground:"TopPlayedColumnHeader-emptyTitleBackground-3LDge3 TopPlayedColumnHeader-titleBackground-3VRIG-",title:"TopPlayedColumnHeader-title-1JOc2I"}},tbBR:function(e,t,a){e.exports={backgroundContainer:"FullPlayerBackground-backgroundContainer-2UnXoW"}},tmXh:function(e,t,a){e.exports={resolution:"EPGChannelResolution-resolution-rYFHtf Badge-badge-21NQRi"}},tsFx:function(e,t,a){e.exports={modalBody:"WatchTogetherInviteModalContent-modalBody-3qma5S ModalBody-modalBody--5uHSu",message:"WatchTogetherInviteModalContent-message-3GOdW-",spinnerContainer:"WatchTogetherInviteModalContent-spinnerContainer-l1CZIS",list:"WatchTogetherInviteModalContent-list-2J0RAj UserList-list-1xb8US Scroller-vertical-VScFLT",modalFooter:"WatchTogetherInviteModalContent-modalFooter-2ckW7y ModalFooter-modalFooter-30WIB5"}},tt2x:function(e,t,a){e.exports={badgeMenuItem:"BadgeMenuItem-badgeMenuItem-3GW7S7 MenuItem-menuItem-1s02mQ",badge:"BadgeMenuItem-badge-3CgtTF Badge-badge-21NQRi"}},tuLj:function(e,t,a){},u60l:function(e,t,a){"use strict";var i=a("ZwMC"),r=a("+We+"),n=a("EsBL");t.a=function(e,t){if(t||(t={}),Object(r.a)(e))return e;if(!Object(n.a)(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};var a=t.separators&&t.separators.join("")||t.separator||"&",s=new RegExp("["+a+"]+");return e.split(s).reduce((e,t)=>{var[a,r]=t.split("=");try{a=decodeURIComponent(a),r=void 0===r?null:decodeURIComponent(r),e.hasOwnProperty(a)?Array.isArray(e[a])?e[a].push(r):e[a]=[e[a],r]:e[a]=r}catch(e){i.a.warn("[Parser] Unable to decode query string at "+a)}return e},{})}},"u7G/":function(e,t,a){e.exports={thumbWrapper:"VideoChapterCell-thumbWrapper-1ofw_D",isActive:"VideoChapterCell-isActive-VaLoSm",titleContainer:"VideoChapterCell-titleContainer-2B15Ta",title:"VideoChapterCell-title-b2bbcF",secondaryTitle:"VideoChapterCell-secondaryTitle-3vGCqV"}},u7Vr:function(e,t,a){"use strict";var i=new(a("Z0Xd").a)({interface:["getLanguages","load","t"]});t.a=i},uDqd:function(e,t,a){e.exports={bar:"ActionButtonBar-bar-BSTmw2"}},uEK0:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o,l="",c=this.escapeExpression;return((s=i.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,(function(e,t){return' <a class="user-select-container" href="#"> '}),n),fn:this.program(1,(function(e,t){return' <div class="user-select-container"> '}),n),data:n}))||0===s)&&(l+=s),l+=' <div class="user-select-top"> <div class="user-poster img-circle"> <span class="add-icon">',((s="function"==typeof(s=t&&t.iconAdd)?s.apply(t):s)||0===s)&&(l+=s),l+='</span> </div> </div> <div class="caption"> <div class="username">'+c((o=a("ortX"),o&&(o.__esModule?o.default:o)).call(t,"Add User",{hash:{},data:n}))+"</div> </div> ",((s=i.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,(function(e,t){return" </a> "}),n),fn:this.program(5,(function(e,t){return" </div> "}),n),data:n}))||0===s)&&(l+=s),l+=" "}))},uEtx:function(e,t,a){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-OPhyF4"}},uGWF:function(e,t,a){e.exports={container:"ChannelsGridDetailRowAirTime-container-Xxl-Is",contentRating:"ChannelsGridDetailRowAirTime-contentRating-3x_JJt"}},uUkn:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((o=r(a("YFQD")).call(t,t&&t.title,"Preferences...",{hash:{},inverse:this.program(3,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "}),s),fn:this.program(1,(function(e,t){var i="";return i+=" "+c(r(a("ortX")).call(e,"Directory Settings",{hash:{},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((o=i.each.call(t,t&&t.settings,{hash:{},inverse:this.noop,fn:this.program(5,(function(e,t){var i="";return i+=" "+c(r(a("Nup9")).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}),s),data:s}))||0===o)&&(l+=o),l+=' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(r(a("ortX")).call(t,"Cancel",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Save",{hash:{},data:s}))+"</span> </button> </div> </form> </div> </div> "}))},uYXV:function(e,t,a){e.exports={dragPreview:"AudioVideoPlayQueueDragPreview-dragPreview-21bXey"}},uceU:function(e,t,a){e.exports={container:"CriticRating-container-33b2hD",rating:"CriticRating-rating-2Jrl15",rt:"CriticRating-rt-2J0SbJ",ratingImage:"CriticRating-ratingImage-3-Lxod",imdb:"CriticRating-imdb-23PVnW CriticRating-ratingImage-3-Lxod",tmdb:"CriticRating-tmdb-1F5ua- CriticRating-ratingImage-3-Lxod",certified:"CriticRating-certified-kPXY1l CriticRating-ratingImage-3-Lxod",ripe:"CriticRating-ripe-3KaJBn CriticRating-ratingImage-3-Lxod",rotten:"CriticRating-rotten-19B4iO CriticRating-ratingImage-3-Lxod",spilled:"CriticRating-spilled-9kErJQ CriticRating-ratingImage-3-Lxod",upright:"CriticRating-upright-3fxtyh CriticRating-ratingImage-3-Lxod",other:"CriticRating-other-1f4HXP CriticRating-ratingImage-3-Lxod"}},ugHo:function(e,t,a){e.exports={form:"DVRManageChannelsModalContent-form-2ykdJq",manageChannelsBody:"DVRManageChannelsModalContent-manageChannelsBody-PHeFRe ModalBody-modalBody--5uHSu",scanChannelsContainer:"DVRManageChannelsModalContent-scanChannelsContainer-1k91yK",scanChannelsMessage:"DVRManageChannelsModalContent-scanChannelsMessage-3d_EuA",scroller:"DVRManageChannelsModalContent-scroller-1MbzJs Scroller-vertical-VScFLT",centeredContainer:"DVRManageChannelsModalContent-centeredContainer-6K7kAs",progressContainer:"DVRManageChannelsModalContent-progressContainer-1GUW14"}},uh19:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<form class="edit-section-folders-form settings-container"> <label> '+l(r(a("ortX")).call(t,"Add folders to your library",{hash:{},data:s}))+' </label> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="add-folder-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default"> <i class="glyphicon folder-plus"></i> '+l(r(a("ortX")).call(t,"Browse for media folder",{hash:{},data:s}))+' </button> </p> <p class="control-error">'+l(r(a("ortX")).call(t,"At least one folder is required.",{hash:{},data:s}))+'</p> </div> <p class="help-block">'+l(r(a("ortX")).call(t,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </form> "}))},ulDd:function(e,t,a){e.exports={tableHeader:"MetadataTableHeader-tableHeader-2bHAm0",playCell:"MetadataTableHeader-playCell-1oEdHR MetadataTableRow-playCell-ziDSkt TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",actionsCell:"MetadataTableHeader-actionsCell-1RppTc MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",columnsButton:"MetadataTableHeader-columnsButton-33h2bW"}},upBJ:function(e,t,a){e.exports={listModalSubheader:"AddToPlaylistModalContent-listModalSubheader-2iqJkg",listModalInnerBody:"AddToPlaylistModalContent-listModalInnerBody-3Lr83z",createForm:"AddToPlaylistModalContent-createForm-7H1yU-",createButton:"AddToPlaylistModalContent-createButton-19CeH0"}},upXi:function(e,t,a){e.exports={header:"LibraryFilterOptionsList-header-JO56lu",headerTitle:"LibraryFilterOptionsList-headerTitle-21Ewqn",backIcon:"LibraryFilterOptionsList-backIcon-15GqTg",filterText:"LibraryFilterOptionsList-filterText-ys_NHp",searchInput:"LibraryFilterOptionsList-searchInput-3YaUSo TextInput-input-1VMuma input-input-1P2Vi4",filterOptionsScroller:"LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionsWithSearchScroller:"LibraryFilterOptionsList-filterOptionsWithSearchScroller-3ARHUk LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionMenuItem:"LibraryFilterOptionsList-filterOptionMenuItem-3bhER_ MenuItem-menuItem-1s02mQ",emptyText:"LibraryFilterOptionsList-emptyText-1SzoY8"}},uprk:function(e,t,a){e.exports={baseForm:"MediaSubscriptionForm-baseForm-2bT5Ug",advancedForm:"MediaSubscriptionForm-advancedForm-26WFwH",cancelConfirmation:"MediaSubscriptionForm-cancelConfirmation-2aCvUv",advancedSettings:"MediaSubscriptionForm-advancedSettings-3dyPlo",baseSettings:"MediaSubscriptionForm-baseSettings-2ssnbm",footer:"MediaSubscriptionForm-footer-2U6dhX ModalFooter-modalFooter-30WIB5",cancelConfirmationFooter:"MediaSubscriptionForm-cancelConfirmationFooter-3JtInX ModalFooter-modalFooter-30WIB5",advancedIcon:"MediaSubscriptionForm-advancedIcon-j3Yxg9"}},"urZ/":function(e,t,a){e.exports={statusButton:"PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},uyqX:function(e,t,a){e.exports={container:"ShareSummary-container-1DKUno",modalBody:"ShareSummary-modalBody-1l_PJl ModalBody-modalBody--5uHSu",content:"ShareSummary-content-gIEf7Y",inviteLink:"ShareSummary-inviteLink-2rDWM5",input:"ShareSummary-input-2csGE7 TextInput-input-1VMuma input-input-1P2Vi4",copyLink:"ShareSummary-copyLink-1bH3yr Link-link-2n0yJn",modalFooter:"ShareSummary-modalFooter-3VMDIR ModalFooter-modalFooter-30WIB5"}},v6AS:function(e,t,a){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-3X6qjo"}},v7SW:function(e,t,a){e.exports={errorButton:"CalendarErrorButton-errorButton-1z8H1l",errorTooltip:"CalendarErrorButton-errorTooltip-lo9O-P Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},v9T8:function(e,t,a){e.exports={cardCircle:"MetadataPosterCardCircle-cardCircle-2NfIyT"}},v9kw:function(e,t,a){e.exports={unavailableButton:"PrePlayUnavailableButton-unavailableButton-3dycrS PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},vCrX:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o="",l=this.escapeExpression;return o+='<form class="edit-section-type-form settings-container"> <p>'+l(r(a("ortX")).call(t,"There was an error adding this library.",{hash:{},data:s}))+"</p> <p>"+l(r(a("ortX")).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:s}))+"</p> </form> "}))},vCt9:function(e,t,a){"use strict";t.a=function(e={},t={}){return function(e,t){var a=Object.keys(e);return t.orFields&&t.andFields&&a.sort((e,a)=>t.orFields.includes(e)&&t.andFields.includes(a)?-1:t.andFields.includes(e)&&t.orFields.includes(a)?1:0),a}(e,t).reduce((a,i,r)=>{var n=t.separator||"&";return 0===r?n="":t.orFields&&t.orFields.includes(i)?n="|":t.andFields&&t.andFields.includes(i)&&(n="&"),a+""+n+encodeURIComponent(i)+"="+encodeURIComponent(e[i])},"")}},vD73:function(e,t,a){e.exports={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",isSelected:"DisclosureArrowButton-isSelected-1aPl5o",small:"DisclosureArrowButton-small-2fBp-o",medium:"DisclosureArrowButton-medium-3zt1WM",large:"DisclosureArrowButton-large-2E9J1Y",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowButton-down-2EHTTC",left:"DisclosureArrowButton-left-1_7OFY",up:"DisclosureArrowButton-up-3CeKSp",right:"DisclosureArrowButton-right-3r62HY"}},vEnl:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression,d=this;function u(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+c("function"==typeof(o=t&&t.devicesImg)?o.apply(t):o)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+c(r(a("ortX")).call(t,"Get Plex Apps",{hash:{},data:s}))+'</a> </div> <p class="text-muted">'+c(r(a("ortX")).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:s}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((o=i.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:d.noop,fn:d.program(1,(function(e,t){var n,s="";return s+=' <div class="checkbox"> <label for="'+c("function"==typeof(n=null==(n=e&&e.collectUsageDataSetting)||!1===n?n:n.id)?n.apply(e):n)+'"> <input type="checkbox" id="'+c("function"==typeof(n=null==(n=e&&e.collectUsageDataSetting)||!1===n?n:n.id)?n.apply(e):n)+'" name="'+c("function"==typeof(n=null==(n=e&&e.collectUsageDataSetting)||!1===n?n:n.id)?n.apply(e):n)+'" value="1" ',((n=i.if.call(e,null==(n=e&&e.collectUsageDataSetting)||!1===n?n:n.value,{hash:{},inverse:d.noop,fn:d.program(2,u,t),data:t}))||0===n)&&(s+=n),s+="> "+c(r(a("ortX")).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+c(r(a("ortX")).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "}),s),data:s}))||0===o)&&(l+=o),l+=' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+c(r(a("ortX")).call(t,"Back",{hash:{},data:s}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(r(a("ortX")).call(t,"Done",{hash:{},data:s}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '}))},vIVX:function(e,t,a){e.exports={label:"DVRSetupCountrySelectInput-label-1SwdLg FormLabel-label-2aLJ9b",edit:"DVRSetupCountrySelectInput-edit-qIxBW9"}},vLe1:function(e,t,a){var i=a("xcSv").default,r=a("S4rx");e.exports=r(i)},vMaE:function(e,t,a){e.exports={container:"WatchTogetherRoomEventToasts-container-1FskJf",toast:"WatchTogetherRoomEventToasts-toast-qUbkMv"}},vQY0:function(e,t,a){e.exports={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-3kRFWc EmptyPage-content-10PgBS"}},vSud:function(e,t,a){e.exports={sidebarListHeaderContainer:"SidebarList-sidebarListHeaderContainer-2D2g-W",sidebarListHeader:"SidebarList-sidebarListHeader-1t0yzs",sidebarListHeaderIcon:"SidebarList-sidebarListHeaderIcon-3Itr_l"}},vTNh:function(e,t,a){e.exports={listItem:"HomeHubListItemDragPreview-listItem-iDQ3JS HomeHubListItem-listItem-3aSc2w"}},vVLk:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"c",(function(){return r})),a.d(t,"d",(function(){return n})),a.d(t,"b",(function(){return s})),a.d(t,"e",(function(){return o})),a.d(t,"f",(function(){return l}));var i=5,r=10,n=30,s=5,o=600,l=600},vXsA:function(e,t,a){e.exports={container:"DeviceChannelMappingsHeader-container-1VViTz",deviceChannelsContainer:"DeviceChannelMappingsHeader-deviceChannelsContainer-1TSeU3",guideChannels:"DeviceChannelMappingsHeader-guideChannels-3D6cOQ",deviceChannels:"DeviceChannelMappingsHeader-deviceChannels-iZFrgG",signalStrength:"DeviceChannelMappingsHeader-signalStrength-1vcKgT",deviceChannelsPadding:"DeviceChannelMappingsHeader-deviceChannelsPadding-AkfFyu"}},vau6:function(e,t,a){e.exports={item:"MetadataTrackCell-item-218Rwm",isActionsMenuOpen:"MetadataTrackCell-isActionsMenuOpen-9m3QIm",index:"MetadataTrackCell-index-SRMm4f",duration:"MetadataTrackCell-duration-_NFMrJ",playButton:"MetadataTrackCell-playButton-A4P6on PlayButton-playButton-3WX8X- MetadataTrackCell-button-3Y1jAH",button:"MetadataTrackCell-button-3Y1jAH",hasActiveSelection:"MetadataTrackCell-hasActiveSelection-2K30-L",underlay:"MetadataTrackCell-underlay-2w73nF",isForcingSelection:"MetadataTrackCell-isForcingSelection-2_5rmx",overlay:"MetadataTrackCell-overlay-1ttKRU",editButton:"MetadataTrackCell-editButton-273Zg_ MetadataTrackCell-button-3Y1jAH",moreButton:"MetadataTrackCell-moreButton-1bneFN MetadataTrackCell-button-3Y1jAH",isSelected:"MetadataTrackCell-isSelected-2J-Jyg",selectButton:"MetadataTrackCell-selectButton-2SGNAh SelectButton-selectButton-3Kbjm9 MetadataTrackCell-button-3Y1jAH",alternateItem:"MetadataTrackCell-alternateItem-2TLQqb MetadataTrackCell-item-218Rwm",container:"MetadataTrackCell-container-1n4vzv",playIndexContainer:"MetadataTrackCell-playIndexContainer-2spzEE",posterContainer:"MetadataTrackCell-posterContainer-3WFjf3",titleContainer:"MetadataTrackCell-titleContainer-2MVHF0",actionsContainer:"MetadataTrackCell-actionsContainer-4JPLSt",equalizer:"MetadataTrackCell-equalizer-37dBny EqualizerIcon-equalizer-2SoFA6",subtitle:"MetadataTrackCell-subtitle-2-CISa",rating:"MetadataTrackCell-rating-2xr-EN",separator:"MetadataTrackCell-separator-1wI-J9 DashSeparator-separator-4CyEFW",buttons:"MetadataTrackCell-buttons-yLmJ5m",selectCoverButton:"MetadataTrackCell-selectCoverButton-QoTAMD"}},"vd0/":function(e,t,a){e.exports={icon:"ServerIsClaimedIcon-icon-dQsVa9"}},vkLW:function(e,t,a){"use strict";a.d(t,"o",(function(){return n})),a.d(t,"n",(function(){return s})),a.d(t,"m",(function(){return o})),a.d(t,"t",(function(){return l})),a.d(t,"l",(function(){return c})),a.d(t,"j",(function(){return d})),a.d(t,"s",(function(){return u})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return h})),a.d(t,"g",(function(){return m})),a.d(t,"r",(function(){return v})),a.d(t,"f",(function(){return g})),a.d(t,"q",(function(){return y})),a.d(t,"e",(function(){return f})),a.d(t,"d",(function(){return b})),a.d(t,"h",(function(){return I})),a.d(t,"i",(function(){return S})),a.d(t,"a",(function(){return M})),a.d(t,"k",(function(){return C})),a.d(t,"p",(function(){return D}));var i=a("kkNn"),r=a("MLhB");function n(e){return e.get("user")}function s(e){return e.get("user").get("desktop")}function o(e,{serverEntityID:t}){return Object(r.a)(e,i.n,t)}function l(e,{serverEntityID:t}){return Object(r.b)(e,i.n,t)}function c(e,t){var a=o(e,t);return a&&a.get("desktop")}function d(e,{providerEntityID:t}){return Object(r.a)(e,i.k,t)}function u(e,{providerEntityID:t}){return Object(r.b)(e,i.k,t)}function p(e,{libraryEntityID:t}){return Object(r.a)(e,i.d,t)}function h(e,{hubEntityID:t}){return Object(r.a)(e,i.c,t)}function m(e,{metadataListEntityID:t}){return Object(r.a)(e,i.h,t)}function v(e,{metadataListEntityID:t}){return Object(r.b)(e,i.h,t)}function g(e,{metadataItemEntityID:t}){return Object(r.a)(e,i.g,t)}function y(e,{metadataItemEntityID:t}){return Object(r.b)(e,i.g,t)}function f(e,{mediaSubscriptionEntityID:t}){return Object(r.a)(e,i.f,t)}function b(e,{liveTVSessionEntityID:t}){return Object(r.a)(e,i.e,t)}function I(e,{playQueueItemEntityID:t}){return Object(r.a)(e,i.j,t)}function S(e,{playlistItemEntityID:t}){return Object(r.a)(e,i.i,t)}function M(e,{friendEntityID:t}){return Object(r.a)(e,i.a,t)}function C(e,{searchResultEntityID:t}){return Object(r.a)(e,i.m,t)}function D(e,{watchTogetherRoomEntityID:t}){return Object(r.a)(e,i.q,t)}},voa6:function(e,t,a){e.exports={header:"DatePickerTimeList-header-2g8yBs",backIcon:"DatePickerTimeList-backIcon-1dZa89",headerText:"DatePickerTimeList-headerText-3xMhWJ"}},vtAB:function(e,t,a){e.exports={container:"PlaylistItemRow-container-PfUn9T",isSelected:"PlaylistItemRow-isSelected-1Ajx9r",button:"PlaylistItemRow-button-13eRZH",moveControl:"PlaylistItemRow-moveControl-2sc-ei",otherControls:"PlaylistItemRow-otherControls-2m4rnM",metadataDurationContainer:"PlaylistItemRow-metadataDurationContainer-96Rvw1 PlaylistItemMetadata-durationContainer-yQA2Vd",attributionContainer:"PlaylistItemRow-attributionContainer-1ceTSe PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",isForcingSelection:"PlaylistItemRow-isForcingSelection-3N6BrL",selectButton:"PlaylistItemRow-selectButton-1nLWBt SelectButton-selectButton-3Kbjm9 PlaylistItemRow-button-13eRZH",hasActiveSelection:"PlaylistItemRow-hasActiveSelection-3MrNhY",overlay:"PlaylistItemRow-overlay-2nVlqP",removeButton:"PlaylistItemRow-removeButton-1g21fe IconButton-button-9An-7I",moreButton:"PlaylistItemRow-moreButton-1zrwp6 IconButton-button-9An-7I",alternateContainer:"PlaylistItemRow-alternateContainer-2SVf_N PlaylistItemRow-container-PfUn9T",metadataContainer:"PlaylistItemRow-metadataContainer-1BWE59 PlaylistItemMetadata-container-2NWQH2",underlay:"PlaylistItemRow-underlay-iZmQR7",sourceText:"PlaylistItemRow-sourceText-3_tAtW",grabIcon:"PlaylistItemRow-grabIcon--qMgMI",isItemDragging:"PlaylistItemRow-isItemDragging-2d2WaL"}},"vzw/":function(e,t,a){"use strict";a.r(t);var i=a("sWYD");t.default=function(e,t="MMMM d, yyyy"){return e?Object(i.a)(e,t):""}},"w+Nc":function(e,t,a){e.exports={avatar:"AvatarImg-avatar-3Op56u"}},w1d1:function(e,t,a){e.exports={modalContent:"GenerateRecoveryCodesModal-modalContent-g_D5jx ModalContent-modalContent-4GS6yU",innerModalBody:"GenerateRecoveryCodesModal-innerModalBody-CZW_GQ ModalBody-innerModalBody-BHe1nE",inputGroup:"GenerateRecoveryCodesModal-inputGroup-2ev7Iq"}},w3ZG:function(e,t,a){"use strict";t.a=function(e){return e.beginsAt+"-"+e.channelIdentifier+"-"+e.endsAt}},w9Qn:function(e,t,a){e.exports={title:"MetadataPosterTitle-title-3tU5F9",singleLineTitle:"MetadataPosterTitle-singleLineTitle-24_DNu MetadataPosterTitle-title-3tU5F9",doubleLineTitle:"MetadataPosterTitle-doubleLineTitle-37-cWF MetadataPosterTitle-title-3tU5F9",isSecondary:"MetadataPosterTitle-isSecondary-2VUxYk",isSplitLine:"MetadataPosterTitle-isSplitLine-oK3N1p"}},wCLk:function(e,t,a){e.exports={titleContainer:"ChannelsGridDetailRowTitle-titleContainer-2gAFRL",primaryTitle:"ChannelsGridDetailRowTitle-primaryTitle-1SX7s0",secondaryTitle:"ChannelsGridDetailRowTitle-secondaryTitle-2HfyQE"}},wIEn:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)("function"==typeof(n=null==(n=t&&t.agent)||!1===n?n:n.name)?n.apply(t):n)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((n=(s=a.attribution)?s.call(t,{hash:{},data:r}):"function"==typeof(s=t&&t.attribution)?s.call(t,{hash:{},data:r}):s)||0===n)&&(o+=n),o+="</p> </div> </div> </div> "}))},wIt8:function(e,t,a){e.exports={form:"InviteHomeUserWarning-form-2YLPzb",modalBody:"InviteHomeUserWarning-modalBody-36ay10 ModalBody-modalBody--5uHSu",warning:"InviteHomeUserWarning-warning-A7harF"}},wOT7:function(e,t,a){e.exports={plexPassTitle:"PlexPassModalContent-plexPassTitle-3B6zqq",header:"PlexPassModalContent-header-2D-A94 ModalHeader-modalHeader-1Kf9RW",body:"PlexPassModalContent-body-3BSt2g ModalBody-innerModalBody-36gmbf",moreFeatures:"PlexPassModalContent-moreFeatures-2qv0-f",footer:"PlexPassModalContent-footer-15_IJg ModalFooter-modalFooter-30WIB5",planButton:"PlexPassModalContent-planButton-3JY2bR",link:"PlexPassModalContent-link-3Xt-yL",spinnerContainer:"PlexPassModalContent-spinnerContainer-ytMIfw",plansContainer:"PlexPassModalContent-plansContainer-2boTWX",isPlansPending:"PlexPassModalContent-isPlansPending-SjJBDA",marketingFrame:"PlexPassModalContent-marketingFrame-3NKjtm"}},wQNq:function(e,t,a){"use strict";a.r(t);var i=a("Sgs+"),r=a("YSW/"),n=i.a.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:r.a,comparator(e){var t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}});t.default=n},wRTI:function(e,t,a){e.exports={button:"QuickSearchResult-button-1ZHpOA",title:"QuickSearchResult-title-1XJ-0g",selected:"QuickSearchResult-selected-3xPnwh",underlay:"QuickSearchResult-underlay-QgyJtZ",overlay:"QuickSearchResult-overlay-38WrLO",imageContainer:"QuickSearchResult-imageContainer-DvFlpe",titles:"QuickSearchResult-titles-3kHPx0",moreButton:"QuickSearchResult-moreButton-2Agbka",moreIcon:"QuickSearchResult-moreIcon-UsTkIK"}},wRpn:function(e,t,a){e.exports={seriesIcon:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1yyj_S"}},wTIs:function(e,t,a){e.exports={container:"ServerLogTimeFilterInputs-container-2cnIRA",separator:"ServerLogTimeFilterInputs-separator-6uUbhp",input:"ServerLogTimeFilterInputs-input-sLDSiT TextInput-input-1VMuma input-input-1P2Vi4"}},wdGl:function(e,t,a){"use strict";a.r(t),a.d(t,"PICKER",(function(){return i})),a.d(t,"FALLBACK",(function(){return r})),a.d(t,"STARTUP",(function(){return n})),a.d(t,"SERVER",(function(){return s})),a.d(t,"LIBRARY",(function(){return o})),a.d(t,"LIST",(function(){return l})),a.d(t,"SELECTION",(function(){return c})),a.d(t,"SETTINGS",(function(){return d})),a.d(t,"SETUP_WIZARD",(function(){return u})),a.d(t,"SERVER_DOWNLOAD",(function(){return p})),a.d(t,"AGENDA",(function(){return h})),a.d(t,"CALENDAR",(function(){return m})),a.d(t,"NAV_BAR",(function(){return v})),a.d(t,"COMPANION",(function(){return g})),a.d(t,"USERS_AND_SHARING",(function(){return y})),a.d(t,"DISCOVER_PIVOT",(function(){return f})),a.d(t,"LIBRARY_PIVOT",(function(){return b})),a.d(t,"PLAYLISTS_PIVOT",(function(){return I})),a.d(t,"COLLECTIONS_PIVOT",(function(){return S})),a.d(t,"TIMELINE_PIVOT",(function(){return M})),a.d(t,"DVR_DISCOVER_PIVOT",(function(){return C})),a.d(t,"DVR_GUIDE_PIVOT",(function(){return D})),a.d(t,"DVR_SCHEDULE_PIVOT",(function(){return P})),a.d(t,"WATCHLIST",(function(){return O})),a.d(t,"HDR_CONVERSION",(function(){return j}));var i="picker",r="fallback",n="startup",s="server",o="library",l="list",c="selection",d="settings",u="setupWizard",p="serverDownload",h="agenda",m="calendar",v="navBar",g="companion",y="usersAndSharing",f="content.discover",b="content.library",I="content.playlists",S="content.collections",M="content.timeline",C="content.dvr.discover",D="content.dvr.guide",P="content.dvr.schedule",O="content.watchlist",j="hdr-conversion"},wlUd:function(e,t,a){e.exports={listModalInnerBody:"ListModal-listModalInnerBody-1mBaLj"}},wnar:function(e,t,a){e.exports={slider:"VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",fill:"VerticalSlider-fill-2HISoE Slider-fill-35GFqs",thumb:"VerticalSlider-thumb-hm7PPn Slider-thumb-2QGiU1 Link-link-2n0yJn",thumbTrack:"VerticalSlider-thumbTrack-36XvCF Slider-thumbTrack-21hGVQ",track:"VerticalSlider-track-1RVQfn Slider-track-28JOSn"}},wowv:function(e,t,a){"use strict";function i(e){var t=new Set;function a(a){if(a.metaKey||a.ctrlKey||(a.stopImmediatePropagation(),a.preventDefault()),!a.repeat){var i="keydown"===a.type;i?t.add(a.code):t.delete(a.code),e(a.code,i,t)}}return window.addEventListener("keydown",a,!0),window.addEventListener("keyup",a,!0),()=>{window.removeEventListener("keydown",a,!0),window.removeEventListener("keyup",a,!0)}}a.d(t,"a",(function(){return i}))},wrVM:function(e,t,a){e.exports={modalContainer:"SourceSidebarConfirmModal-modalContainer-21lfc3 Modal-modalContainer-tNumMm"}},"x/40":function(e,t,a){e.exports={emptyPageContentScroller:"EmptyPageContent-emptyPageContentScroller-1iFp-y PageContent-pageContentScroller-okL_Uc Scroller-scroller-CQJq74",content:"EmptyPageContent-content-2f0kQ6",icon:"EmptyPageContent-icon-2r564L",imgIcon:"EmptyPageContent-imgIcon-tsh_pm",title:"EmptyPageContent-title-1IdWPt",description:"EmptyPageContent-description-21WgWJ",footer:"EmptyPageContent-footer-2hesaN"}},x1aQ:function(e,t,a){e.exports={badge:"Badge-badge-21NQRi",isHidden:"Badge-isHidden-2p8gjS",default:"Badge-default-VTVet2",primary:"Badge-primary-3suJx3",success:"Badge-success-3m8_X_",danger:"Badge-danger-2rQkaX"}},x1fA:function(e,t,a){"use strict";var i=a("F/us"),r=a.n(i),n=a("jQ5Z"),s=a("L7kO"),o=a("ZwMC"),l=a("bErN"),c=n.a.extend({mixins:l.a,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(s.a,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){var t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,r.a.first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,r.a.first(this.cycles)))},getItemCacheKey:function(e){return r.a.result(e,"cacheKey")},setItemCycle:function(e,t,a){var i=e._cacheCycle;i&&i.hasOwnProperty(t)&&delete i[t],e._cacheCycle=a,a[t]=e},cycle:function(){this.size>this.maxSize&&(o.a.warn("Cache overflow, size: "+this.size),r.a.each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(r.a.last(this.cycles))},remove:function(e){if(e&&e._cacheKey){var t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey}},removeCycle:function(e){r.a.each(r.a.values(e),this.remove,this);var t=r.a.indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){var t=r.a.where(r.a.values(this._cache),e);r.a.each(t,this.remove,this)},clearAll:function(){r.a.each(r.a.values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){for(var e=this.cycles;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}});t.a=c},x2jy:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"b",(function(){return n})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return l}));var i=a("pYVw"),r="audioVideo",n="photo",s="rom",o={[i.a]:r,[i.d]:r,[i.b]:n,[i.c]:s};function l(e){return o[e]}},x3ko:function(e,t,a){e.exports={equalizer:"EqualizerIcon-equalizer-2SoFA6",bar:"EqualizerIcon-bar-1nPotE"}},x436:function(e,t,a){e.exports={container:"AlbumDiscList-container-3sxwmh"}},x5Hs:function(e,t,a){"use strict";var i=a("G4qV"),r=a("Z/P6"),n=Object(i.a)(r.a,({language:e})=>e);t.a=n},x5TN:function(e,t,a){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-1O5B-i PrePlayPrimaryTitle-primaryTitle-3kexTE"}},x8AS:function(e,t,a){e.exports={separator:"PrePlayDashSeparator-separator-1d01zK"}},x9uD:function(e,t,a){e.exports={actionLinks:"SettingsFormSectionActionLinks-actionLinks-2vGv7Q"}},xAXV:function(e,t,a){e.exports={overlay:"MetadataTrackDetailsRow-overlay-leehwr",container:"MetadataTrackDetailsRow-container-1TJ4EW",indexPlayContainer:"MetadataTrackDetailsRow-indexPlayContainer-1c8mV9",posterContainer:"MetadataTrackDetailsRow-posterContainer-2xjhb8",titleContainer:"MetadataTrackDetailsRow-titleContainer-3ptKaN",title:"MetadataTrackDetailsRow-title-1en8KD",subtitle:"MetadataTrackDetailsRow-subtitle-2HonOp MetadataTrackDetailsRow-title-1en8KD",duration:"MetadataTrackDetailsRow-duration-2fxryr",actions:"MetadataTrackDetailsRow-actions-2FSefs",actionsMenuButton:"MetadataTrackDetailsRow-actionsMenuButton-392OTT Link-link-2ew_DK"}},xFOn:function(e,t,a){e.exports={container:"DVRSetupDevice-container-3LEeHY",section:"DVRSetupDevice-section-K34p9s",make:"DVRSetupDevice-make-1Qm23Z",model:"DVRSetupDevice-model-3r7EdV",moreInfo:"DVRSetupDevice-moreInfo-2xaSX-",channelsMessage:"DVRSetupDevice-channelsMessage-33Ju5f",button:"DVRSetupDevice-button-28DOb2 Button-button-3A5jB3 Link-link-2ew_DK",disabledText:"DVRSetupDevice-disabledText-17ZACh"}},xH8n:function(e,t,a){e.exports={container:"SourceBadge-container-3OfQBW",text:"SourceBadge-text-Y8yYEa",attribution:"SourceBadge-attribution-YBphYv",avatar:"SourceBadge-avatar-3iVqZC AvatarImg-avatar-3Op56u"}},xHef:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="";return o+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((s=a("ortX"),s&&(s.__esModule?s.default:s)).call(t,"Optimize",{hash:{},data:n}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '}))},xHnD:function(e,t,a){e.exports={header:"SkipSignInMessage-header-Y0dMXv",list:"SkipSignInMessage-list-5YPdVE",item:"SkipSignInMessage-item-2vzluZ"}},xJXR:function(e,t,a){e.exports={container:"SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",scroller:"SortableHomeHubs-scroller-_fZlTr Scroller-scroller-3GqQcZ"}},xKMG:function(e,t,a){"use strict";var i=a("EVdn"),r=a.n(i),n=a("F/us"),s=a.n(n),o=a("jQ5Z"),l=a("ZwMC"),c=a("PW1X"),d=a("g0Do"),u=o.a.extend({initialize(){s.a.bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening(){var e=r()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening(){var e=r()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll(e){for(var t=this.requests.length-1;t>-1;t--){var a=this.requests[t];null!=e&&e!==a.settings.scope||this.abort(a)}},abort(e){var t=s.a.isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store(e,t){var a=s.a.uniqueId("r");e.rid=a;var i={xhr:e,settings:t};return this.requests.push(i),this.byId[a]=i,i},remove(e){var t=s.a.indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend(e,t,a){if(!a.skipCorsWithRedirect){var i=this.store(t,a);t.always(()=>{t.aborting||this.remove(i)})}},onAjaxComplete(e,t,a){var i=401===t.status;if(!t.aborting&&i){var r=Object(c.parseUrl)(a.url);if(!i||"/log"!==r.pathname&&"/"!==r.pathname&&"/media/providers"!==r.pathname){var n=Object(d.c)("appModel").get("servers"),o=n?n.find(e=>{var t=e.get("activeConnection"),i=t&&t.get("isConnected"),r=s.a.result(t,"url");return!!i&&a.url.substring(0,r.length)===r}):null;o&&(Object(l.a)('[Connections] Active connection to "%s" lost authorization',o.get("debugName")),o.trigger("error:connection",o))}}}});t.a=new u},xY9m:function(e,t,a){var i=a("3O+N");function r(e){return e&&(e.__esModule?e.default:e)}e.exports=(i.default||i).template((function(e,t,i,n,s){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),s=s||{};var o,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+c(r(a("ortX")).call(t,"Select a File",{hash:{},data:s}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((o=i.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,n="";return n+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c("function"==typeof(i=null==t||!1===t?t:t.index)?i.apply(e):i)+'" href="#"> ',((i=r(a("SoKO")).call(e,null==(i=null==(i=e&&e.Part)||!1===i?i:i[0])||!1===i?i:i.file,35,{hash:{},data:t}))||0===i)&&(n+=i),n+=" </a> </li> "}),s),data:s}))||0===o)&&(l+=o),l+=" </ul> </div> </div> </div> "}))},xcSv:function(e,t,a){"use strict";a.r(t);var i=a("WpEi");t.default=function(e){return e>=100?function(e){if(!(e>0))return"";var t=e/1e3;return(t=t>=.1?Number(t.toFixed(1)):t)+" Mbps"}(e):Object(i.a)(e)}},"xhK+":function(e,t,a){e.exports={plexIcon:"PlexIcon-plexIcon-8Tamaj"}},xjMz:function(e,t,a){e.exports={panesContainer:"LibraryFiltersMenu-panesContainer-2wE6-U",pane:"LibraryFiltersMenu-pane-13lnRz",filtersPane:"LibraryFiltersMenu-filtersPane-367idZ LibraryFiltersMenu-pane-13lnRz",filterOptionsPane:"LibraryFiltersMenu-filterOptionsPane-sYfFI8 LibraryFiltersMenu-pane-13lnRz",showFilterOptions:"LibraryFiltersMenu-showFilterOptions-PvLk-v"}},xuTi:function(e,t,a){"use strict";var i=a("NeLh"),r=a("4wpE").default,n=Object.assign({allowFlash:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,allowAdsOverMedia:!0,drmType:i.NONE},r,window.PLEXWEB),s=Object.freeze(n);t.a=s},xwJx:function(e,t,a){e.exports={button:"NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",badge:"NavBarAccountButton-badge-2D07am Badge-badge-21NQRi",tooltip:"NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarAccountButton-tooltipTriggerHasFocus-1Sjs7h NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",avatarContainer:"NavBarAccountButton-avatarContainer-2fU5S_",overlay:"NavBarAccountButton-overlay-2BHPAl",isMenuOpen:"NavBarAccountButton-isMenuOpen-2kMP78"}},xyAC:function(e,t,a){e.exports={controlsContainer:"ControlsContainer-controlsContainer-1Wn7vp"}},yCP3:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="",l=this.escapeExpression;return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon '+l("function"==typeof(s=t&&t.icon)?s.apply(t):s)+'"></i> <span class="section-title"></span> ',((s=i.if.call(t,t&&t.path,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var a,i="";return i+='<span class="section-path">'+l("function"==typeof(a=e&&e.path)?a.apply(e):a)+"</span>"}),n),data:n}))||0===s)&&(o+=s),o+=" ",((s=i.if.call(t,t&&t.more,{hash:{},inverse:this.noop,fn:this.program(3,(function(e,t){var i,r="";return r+='<span class="section-count">'+l((i=a("ortX"),i&&(i.__esModule?i.default:i)).call(e,"and {count} more",{hash:{count:e&&e.more},data:t}))+"</span>"}),n),data:n}))||0===s)&&(o+=s),o+=" </div> "}))},yD7D:function(e,t,a){e.exports={miniPlayerPoster:"MiniPlayerPoster-miniPlayerPoster-13YueA",cardContainer:"MiniPlayerPoster-cardContainer-1675aN",expandButton:"MiniPlayerPoster-expandButton-11onC7 PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",card:"MiniPlayerPoster-card-1z_VBo MetadataPosterCard-card-3bztRc"}},yDpE:function(e,t,a){"use strict";var i=a("ZwMC");t.a=function(e,t="`assert` requires an error message argument",a=!1){if(e)return!0;if(i.a.error(t),a)throw new Error(t);return!1}},yG8u:function(e,t,a){e.exports={statusContainer:"NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",splitButton:"NavBarActivityMenuStatusItem-splitButton-3DXXY- ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",statusButtonIndicator:"NavBarActivityMenuStatusItem-statusButtonIndicator-3D2d1i",alertIndicator:"NavBarActivityMenuStatusItem-alertIndicator-10zV51",statusTitle:"NavBarActivityMenuStatusItem-statusTitle-2hIH6G",primaryLabel:"NavBarActivityMenuStatusItem-primaryLabel-o8tsu6"}},yHQc:function(e,t,a){e.exports={posterCardContainer:"WatchTogetherRoomEventToastContent-posterCardContainer-2baLT0",card:"WatchTogetherRoomEventToastContent-card-CM1Znj TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC TagPosterCard-isPerson-1ez1h_",username:"WatchTogetherRoomEventToastContent-username-qN-1YC"}},yJYc:function(e,t,a){e.exports={hubTitle:"HubTitle-hubTitle-rI6xhu"}},yULO:function(e,t,a){e.exports={tableHeader:"PlayHistoryTableHeader-tableHeader-10A2v4"}},yYIf:function(e,t,a){"use strict";a("ZwMC");var i,r=a("xuTi");function n(){if(void 0===i){var e=window.location.search.match(new RegExp("performanceReportingHost=([^&=]+)"));i=(e&&e[1]?decodeURIComponent(e[1]):r.a.performanceReportingHost)||null}return i}t.a=function(e=n){var t={};function a(a){return a&&!t[a]&&(t[a]=/^(client|playback):/.test(a)||!!e()),!!a&&t[a]}var i={startPeriod:e=>i.mark(e+"-start"),endPeriod:(e,t)=>i.measure(e,t||e+"-start"),mark(e){var t=null;if(a(e)){window.performance.mark(e);var i=window.performance.getEntriesByName(e);t=i[i.length-1]}else 0;return t},measure(e,t,i){var r=null;if(a(e))try{window.performance.measure(e,t,i),window.performance.clearMarks(t);var n=window.performance.getEntriesByName(e);r=n[n.length-1]}catch(e){}else 0;return r}};return i}()},yb7Q:function(e,t,a){e.exports={container:"PlaylistItemLoading-container-2kR7-j",alternateContainer:"PlaylistItemLoading-alternateContainer-3UvX6M PlaylistItemLoading-container-2kR7-j"}},ybRO:function(e,t,a){e.exports={card:"PosterCard-card-1rN9gd"}},ycxr:function(e,t,a){e.exports={cell:"SpotlightHubScroller-cell-3T5qH9",hub:"SpotlightHubScroller-hub-1QzLTm VirtualHubScroller-hub-3Pu2m6",hubScroller:"SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",hubScrollerControlledScroll:"SpotlightHubScroller-hubScrollerControlledScroll-3L-Cza SpotlightHubScroller-hubScroller-3IxsqM VirtualHubScroller-hubScroller-3pMK1r VirtualListScroller-scroller-QdPYA9 Scroller-scroller-CQJq74",dots:"SpotlightHubScroller-dots-3grCzG"}},yd35:function(e,t,a){e.exports={headingContainer:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-2UyXvc",divider:"AudioVideoFullPlayerContentHeadingContainer-divider-1A1d_2"}},yfFC:function(e,t,a){"use strict";var i,r;a.d(t,"a",(function(){return r})),function(e){e.BottomLeft="bottom-left",e.TopLeft="top-left",e.None="none"}(i||(i={})),function(e){e.AudioVideo="audioVideo",e.Photo="photo"}(r||(r={}))},yfwS:function(e,t,a){e.exports={recordIconContainer:"RecordIcon-recordIconContainer-1PXGA2",recordCircle:"RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw",recordIcon:"RecordIcon-recordIcon-2ygXS_"}},ygGu:function(e,t,a){e.exports={input:"ShareServerLibrary-input-3rk7uI CheckInput-input-1Pi_2g"}},yhTy:function(e,t,a){e.exports={circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-26EO1i",absoluteCenterCircularProgressBarContainer:"CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",circularProgressBar:"CircularProgressBar-circularProgressBar-3gv7mU",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarText:"CircularProgressBar-circularProgressBarText-gC1Z--",indeterminate:"CircularProgressBar-indeterminate-2KTTUF spin-spin-2kLwt_"}},yize:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"c",(function(){return d})),a.d(t,"d",(function(){return u})),a.d(t,"f",(function(){return p})),a.d(t,"a",(function(){return h}));var i=a("z4sZ"),r=a("NA2r"),n=a("A+r8"),s=a("IQV3"),o=a("ADhH"),l="movies",c="tv",d="music",u="photos",p="videos",h="games",m=Object(s.a)(["key","typeID","typeString","rootTypeString"],[{key:l,typeID:"1",typeString:o.j,rootTypeString:o.j,title:()=>Object(n.default)("Movies"),shortTitle:()=>Object(n.default)("Movies"),defaultLanguage:"en",defaultAgents:[i.e,i.a],defaultScanners:[r.b,r.c],mutual:{agent:i.e,scanner:r.b}},{key:c,typeID:"2",typeString:o.o,rootTypeString:o.o,title:()=>Object(n.default)("TV Shows"),shortTitle:()=>Object(n.default)("Shows"),defaultLanguage:"en",defaultAgents:[i.i],defaultScanners:[r.h],mutual:{}},{key:d,typeID:"8",typeString:o.b,rootTypeString:o.b,title:()=>Object(n.default)("Music"),shortTitle:()=>Object(n.default)("Music"),defaultLanguage:"en",defaultAgents:[i.f,i.b],defaultScanners:[r.d,r.e],exclusiveAgents:[i.g],exclusiveScanners:[r.g],mutual:{agent:i.f,scanner:r.d}},{key:u,typeID:"13",typeString:o.k,rootTypeString:o.l,title:()=>Object(n.default)("Photos"),shortTitle:()=>Object(n.default)("Photos"),defaultLanguage:"en",defaultAgents:[i.d],defaultScanners:[r.f],mutual:{}},{key:p,typeID:"1",typeString:o.j,rootTypeString:o.d,title:()=>Object(n.default)("Other Videos"),shortTitle:()=>Object(n.default)("Videos"),defaultLanguage:"xn",defaultAgents:[i.d],defaultScanners:[r.i],mutual:{}},{key:h,typeID:"19",typeString:o.h,rootTypeString:o.h,title:()=>"Games",shortTitle:()=>"Games",defaultLanguage:"en",defaultAgents:[i.d],defaultScanners:[r.a],mutual:{}}]);t.g=m},ylzf:function(e,t,a){e.exports={container:"GridAlsoAiringItemMetadata-container-2V7Z3m",channelInfoContainer:"GridAlsoAiringItemMetadata-channelInfoContainer-2y86gy",channelTitle:"GridAlsoAiringItemMetadata-channelTitle-3AalgG",cardContainer:"GridAlsoAiringItemMetadata-cardContainer-1E0Q5l",titlesContainer:"GridAlsoAiringItemMetadata-titlesContainer-3dbQ_R",titles:"GridAlsoAiringItemMetadata-titles-2sZGTd",airTimeContainer:"GridAlsoAiringItemMetadata-airTimeContainer-1u9tYy",posterPlayCircle:"GridAlsoAiringItemMetadata-posterPlayCircle-RlbyCo MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw"}},ypsy:function(e,t){e.exports=function(e,t,a){return e!==t?a.fn(this):a.inverse(this)}},yvfd:function(e,t,a){e.exports={input:"Checkbox-input-2z-Vk6",small:"Checkbox-small-39MQSN",medium:"Checkbox-medium-3tpwbj",large:"Checkbox-large-ftFaN8",isDisabled:"Checkbox-isDisabled-3aQ431",hasError:"Checkbox-hasError-2vvQzP"}},z07K:function(e,t,a){e.exports={input:"MaskedInput-input-17hU34 TextInput-input-1VMuma input-input-1P2Vi4",small:"MaskedInput-small-1owiYE TextInput-small-2i2et0 input-small-3LyjJH",large:"MaskedInput-large-1UpZYJ TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"MaskedInput-isDisabled-3_twg- TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"MaskedInput-hasError-1kFATb TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},z2YV:function(e,t,a){e.exports={channelMapping:"DeviceChannelMapping-channelMapping-2Z4xxm",deviceInfo:"DeviceChannelMapping-deviceInfo-3HnWcW",channelEnabled:"DeviceChannelMapping-channelEnabled-1FW8MJ",deviceIdentifier:"DeviceChannelMapping-deviceIdentifier-3-v5l4",mappingDisabled:"DeviceChannelMapping-mappingDisabled-3uY5jA",channelName:"DeviceChannelMapping-channelName-2knCVI",signalStrength:"DeviceChannelMapping-signalStrength-3YDOuy SignalStrength-signalStrength-33wP3p",epgChannel:"DeviceChannelMapping-epgChannel-tjRMxM",drmChannel:"DeviceChannelMapping-drmChannel-2CJhXe",drmChannelBadge:"DeviceChannelMapping-drmChannelBadge-1_tZU8",resolutionContainer:"DeviceChannelMapping-resolutionContainer-1Au-Kj"}},z4rd:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],r=r||{};var n,s="";function o(e,t){return"hidden"}return s+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((n=(a=this.merge(a,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))||0===n)&&(s+=n),s+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((n=a.if.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,o,r),data:r}))||0===n)&&(s+=n),s+='"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '}))},z4sZ:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return r})),a.d(t,"c",(function(){return n})),a.d(t,"d",(function(){return s})),a.d(t,"g",(function(){return o})),a.d(t,"f",(function(){return l})),a.d(t,"e",(function(){return c})),a.d(t,"h",(function(){return d})),a.d(t,"i",(function(){return u}));var i="com.plexapp.agents.imdb",r="com.plexapp.agents.lastfm",n="com.plexapp.agents.lyricfind",s="com.plexapp.agents.none",o="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="tv.plex.agents.movie",d="com.plexapp.agents.themoviedb",u="com.plexapp.agents.thetvdb"},z9Hc:function(e,t,a){e.exports={container:"ClaimedServer-container-3O6-1n",message:"ClaimedServer-message-1yZ-wd",messageHeader:"ClaimedServer-messageHeader-3uzatL",messageDetails:"ClaimedServer-messageDetails-3lEkVI",button:"ClaimedServer-button-36k0Q0 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},zBfM:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,i,r,n){this.compilerInfo=[4,">= 1.0.0"],i=this.merge(i,e.helpers),n=n||{};var s,o="",l=this.escapeExpression;return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+l("function"==typeof(s=t&&t.content)?s.apply(t):s)+"</span> ",((s=i.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){var i,r,n="";return n+=' <a class="info-link link" href="'+l("function"==typeof(i=e&&e.url)?i.apply(e):i)+'" target="_blank">'+l((r=a("ortX"),r&&(r.__esModule?r.default:r)).call(e,"More Info",{hash:{},data:t}))+"</a> "}),n),data:n}))||0===s)&&(o+=s),o+=" "}))},zJz3:function(e,t,a){e.exports={titleContainer:"PrePlayListTitle-titleContainer-1ITpXZ",selectButton:"PrePlayListTitle-selectButton-2GE1kx SelectButton-selectButton-3Kbjm9",selectedTitleContainer:"PrePlayListTitle-selectedTitleContainer-CISxYT PrePlayListTitle-titleContainer-1ITpXZ"}},zLeb:function(e,t,a){(function(i){var r,n,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[a("F/us"),a("EVdn"),t],void 0===(n=function(e,t,a){s.Backbone=function(e,t,a,i){var r=e.Backbone,n=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,i){a.each(t,(function(t,r){a[r]&&(e.prototype[r]=function(e,t,i){switch(e){case 1:return function(){return a[t](this[i])};case 2:return function(e){return a[t](this[i],e)};case 3:return function(e,r){return a[t](this[i],o(e,this),r)};case 4:return function(e,r,n){return a[t](this[i],o(e,this),r,n)};default:return function(){var e=n.call(arguments);return e.unshift(this[i]),a[t].apply(a,e)}}}(t,r,i))}))},o=function(e,t){return a.isFunction(e)?e:a.isObject(e)&&!t._isModel(e)?l(e):a.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=a.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},d=/\s+/,u=function(e,t,i,r,n){var s,o=0;if(i&&"object"==typeof i){void 0!==r&&"context"in n&&void 0===n.context&&(n.context=r);for(s=a.keys(i);o<s.length;o++)t=u(e,t,s[o],i[s[o]],n)}else if(i&&d.test(i))for(s=i.split(d);o<s.length;o++)t=e(t,s[o],r,n);else t=e(t,i,r,n);return t};c.on=function(e,t,a){return p(this,e,t,a)};var p=function(e,t,a,i,r){return e._events=u(h,e._events||{},t,a,{context:i,ctx:e,listening:r}),r&&((e._listeners||(e._listeners={}))[r.id]=r),e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=a.uniqueId("l")),n=this._listeningTo||(this._listeningTo={}),s=n[r];if(!s){var o=this._listenId||(this._listenId=a.uniqueId("l"));s=n[r]={obj:e,objId:r,id:o,listeningTo:n,count:0}}return p(e,t,i,this,s),this};var h=function(e,t,a,i){if(a){var r=e[t]||(e[t]=[]),n=i.context,s=i.ctx,o=i.listening;o&&o.count++,r.push({callback:a,context:n,ctx:n||s,listening:o})}return e};c.off=function(e,t,a){return this._events?(this._events=u(m,this._events,e,t,{context:a,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var n=e?[e._listenId]:a.keys(r),s=0;s<n.length;s++){var o=r[n[s]];if(!o)break;o.obj.off(t,i,this)}return a.isEmpty(r)&&(this._listeningTo=void 0),this};var m=function(e,t,i,r){if(e){var n,s=0,o=r.context,l=r.listeners;if(t||i||o){for(var c=t?[t]:a.keys(e);s<c.length;s++){var d=e[t=c[s]];if(!d)break;for(var u=[],p=0;p<d.length;p++){var h=d[p];i&&i!==h.callback&&i!==h.callback._callback||o&&o!==h.context?u.push(h):(n=h.listening)&&0==--n.count&&(delete l[n.id],delete n.listeningTo[n.objId])}u.length?e[t]=u:delete e[t]}return a.size(e)?e:void 0}for(var m=a.keys(l);s<m.length;s++)delete l[(n=l[m[s]]).id],delete n.listeningTo[n.objId]}};c.once=function(e,t,i){var r=u(v,{},e,t,a.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=u(v,{},t,i,a.bind(this.stopListening,this,e));return this.listenTo(e,r)};var v=function(e,t,i,r){if(i){var n=e[t]=a.once((function(){r(t,n),i.apply(this,arguments)}));n._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),a=Array(t),i=0;i<t;i++)a[i]=arguments[i+1];return u(g,this._events,e,void 0,a),this};var g=function(e,t,a,i){if(e){var r=e[t],n=e.all;r&&n&&(n=n.slice()),r&&y(r,i),n&&y(n,[t].concat(i))}return e},y=function(e,t){var a,i=-1,r=e.length,n=t[0],s=t[1],o=t[2];switch(t.length){case 0:for(;++i<r;)(a=e[i]).callback.call(a.ctx);return;case 1:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n);return;case 2:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n,s);return;case 3:for(;++i<r;)(a=e[i]).callback.call(a.ctx,n,s,o);return;default:for(;++i<r;)(a=e[i]).callback.apply(a.ctx,t);return}};c.bind=c.on,c.unbind=c.off,a.extend(t,c);var f=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=a.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=a.defaults({},i,a.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};a.extend(f.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return a.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return a.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!a.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var n=i.unset,s=i.silent,o=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=a.clone(this.attributes),this.changed={});var c=this.attributes,d=this.changed,u=this._previousAttributes;for(var p in r)t=r[p],a.isEqual(c[p],t)||o.push(p),a.isEqual(u[p],t)?delete d[p]:d[p]=t,n?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!s){o.length&&(this._pending=i);for(var h=0;h<o.length;h++)this.trigger("change:"+o[h],this,c[o[h]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,a.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,a.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!a.isEmpty(this.changed):a.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&a.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var n=e[r];a.isEqual(t[r],n)||(i[r]=n)}return!!a.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return a.clone(this._previousAttributes)},fetch:function(e){e=a.extend({parse:!0},e);var t=this,i=e.success;return e.success=function(a){var r=e.parse?t.parse(a,e):a;if(!t.set(r,e))return!1;i&&i.call(e.context,t,a,e),t.trigger("sync",t,a,e)},z(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var n=(i=a.extend({validate:!0,parse:!0},i)).wait;if(r&&!n){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,o=i.success,l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;if(n&&(t=a.extend({},r,t)),t&&!s.set(t,i))return!1;o&&o.call(i.context,s,e,i),s.trigger("sync",s,e,i)},z(this,i),r&&n&&(this.attributes=a.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var d=this.sync(c,this,i);return this.attributes=l,d},destroy:function(e){e=e?a.clone(e):{};var t=this,i=e.success,r=e.wait,n=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(a){r&&n(),i&&i.call(e.context,t,a,e),t.isNew()||t.trigger("sync",t,a,e)};var s=!1;return this.isNew()?a.defer(e.success):(z(this,e),s=this.sync("delete",this,e)),r||n(),s},url:function(){var e=a.result(this,"urlRoot")||a.result(this.collection,"url")||R();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},a.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=a.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,a.extend(t,{validationError:i})),!1)}}),s(f,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,a.extend({silent:!0},t))},I={add:!0,remove:!0,merge:!0},S={add:!0,remove:!1},M=function(e,t,a){a=Math.min(Math.max(a,0),e.length);for(var i=Array(e.length-a),r=t.length,n=0;n<i.length;n++)i[n]=e[n+a];for(n=0;n<r;n++)e[n+a]=t[n];for(n=0;n<i.length;n++)e[n+r+a]=i[n]};a.extend(b.prototype,c,{model:f,initialize:function(){},toJSON:function(e){return this.map((function(t){return t.toJSON(e)}))},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,a.extend({merge:!1},t,S))},remove:function(e,t){t=a.extend({},t);var i=!a.isArray(e);e=i?[e]:a.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){(t=a.defaults({},t,I)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!a.isArray(e);e=i?e?[e]:[]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var n,s=[],o=[],l=[],c={},d=t.add,u=t.merge,p=t.remove,h=!1,m=this.comparator&&null==r&&!1!==t.sort,v=a.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){n=e[g];var y=this.get(n);if(y){if(u&&n!==y){var f=this._isModel(n)?n.attributes:n;t.parse&&(f=y.parse(f,t)),y.set(f,t),m&&!h&&(h=y.hasChanged(v))}c[y.cid]||(c[y.cid]=!0,s.push(y)),e[g]=y}else d&&(n=e[g]=this._prepareModel(n,t))&&(o.push(n),this._addReference(n,t),c[n.cid]=!0,s.push(n))}if(p){for(g=0;g<this.length;g++)c[(n=this.models[g]).cid]||l.push(n);l.length&&this._removeModels(l,t)}var b=!1,S=!m&&d&&p;if(s.length&&S?(b=this.length!=s.length||a.some(this.models,(function(e,t){return e!==s[t]})),this.models.length=0,M(this.models,s,0),this.length=this.models.length):o.length&&(m&&(h=!0),M(this.models,o,null==r?this.length:r),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(g=0;g<o.length;g++)null!=r&&(t.index=r+g),(n=o[g]).trigger("add",n,this,t);(h||b)&&this.trigger("sort",this,t),(o.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?a.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,a.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,a.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,a.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return n.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return a.isFunction(t)&&(t=a.bind(t,this)),1===i||a.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return a.invoke(this.models,"get",e)},fetch:function(e){var t=(e=a.extend({parse:!0},e)).success,i=this;return e.success=function(a){var r=e.reset?"reset":"set";i[r](a,e),t&&t.call(e.context,i,a,e),i.trigger("sync",i,a,e)},z(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?a.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,n=t.success;return t.success=function(e,t,a){i&&r.add(e,a),n&&n.call(a.context,e,t,a)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?a.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var a=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var n=this.indexOf(r);this.models.splice(n,1),this.length--,t.silent||(t.index=n,r.trigger("remove",r,this,t)),a.push(r),this._removeReference(r,t)}}return!!a.length&&a},_isModel:function(e){return e instanceof f},_addReference:function(e,t){this._byId[e.cid]=e;var a=this.modelId(e.attributes);null!=a&&(this._byId[a]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var a=this.modelId(e.attributes);null!=a&&delete this._byId[a],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,a,i){if("add"!==e&&"remove"!==e||a===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),n=this.modelId(t.attributes);r!==n&&(null!=r&&delete this._byId[r],null!=n&&(this._byId[n]=t))}this.trigger.apply(this,arguments)}}}),s(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var C=t.View=function(e){this.cid=a.uniqueId("view"),a.extend(this,a.pick(e,P)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,P=["model","collection","el","id","attributes","className","tagName","events"];a.extend(C.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=a.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(a.isFunction(i)||(i=this[i]),i){var r=t.match(D);this.delegate(r[1],r[2],a.bind(i,this))}}return this},delegate:function(e,t,a){return this.$el.on(e+".delegateEvents"+this.cid,t,a),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,a){return this.$el.off(e+".delegateEvents"+this.cid,t,a),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(a.result(this,"el"));else{var e=a.extend({},a.result(this,"attributes"));this.id&&(e.id=a.result(this,"id")),this.className&&(e.class=a.result(this,"className")),this.setElement(this._createElement(a.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var n=O[e];a.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:n,dataType:"json"};if(r.url||(s.url=a.result(i,"url")||R()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===n||"DELETE"===n||"PATCH"===n)){s.type="POST",r.emulateJSON&&(s.data._method=n);var o=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",n),o)return o.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(e,t,a){r.textStatus=t,r.errorThrown=a,l&&l.call(r.context,e,t,a)};var c=r.xhr=t.ajax(a.extend(s,r));return i.trigger("request",i,c,r),c};var O={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var j=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},T=/\((.*?)\)/g,w=/(\(\?)?:\w+/g,E=/\*\w+/g,N=/[\-{}\[\]+?.,\\\^$|#\s]/g;a.extend(j.prototype,c,{initialize:function(){},route:function(e,i,r){a.isRegExp(e)||(e=this._routeToRegExp(e)),a.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var n=this;return t.history.route(e,(function(a){var s=n._extractParameters(e,a);!1!==n.execute(r,s,i)&&(n.trigger.apply(n,["route:"+i].concat(s)),n.trigger("route",i,s),t.history.trigger("route",n,i,s))})),this},execute:function(e,t,a){e&&e.apply(this,t)},navigate:function(e,a){return t.history.navigate(e,a),this},_bindRoutes:function(){if(this.routes){this.routes=a.result(this,"routes");for(var e,t=a.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(N,"\\$&").replace(T,"(?:$1)?").replace(w,(function(e,t){return t?e:"([^/?]+)"})).replace(E,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return a.map(i,(function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null}))}});var x=t.History=function(){this.handlers=[],this.checkUrl=a.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},A=/^[#\/]|\s+$/g,L=/^\/+|\/+$/g,k=/#.*$/;x.started=!1,a.extend(x.prototype,c,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(A,"")},start:function(e){if(x.started)throw new Error("Backbone.history has already been started");if(x.started=!0,this.options=a.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(L,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var n=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?n("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?n("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),x.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),a.some(this.handlers,(function(t){if(t.route.test(e))return t.callback(e),!0})))},navigate:function(e,t){if(!x.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var a=this.root;""!==e&&"?"!==e.charAt(0)||(a=a.slice(0,-1)||"/");var i=a+e;e=e.replace(k,"");var r=this.decodeFragment(e);if(this.fragment!==r){if(this.fragment=r,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var n=this.iframe.contentWindow;t.replace||(n.document.open(),n.document.close()),this._updateHash(n.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,a){if(a){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new x,f.extend=b.extend=j.extend=C.extend=x.extend=function(e,t){var i,r=this;i=e&&a.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},a.extend(i,r,t);var n=function(){this.constructor=i};return n.prototype=r.prototype,i.prototype=new n,e&&a.extend(i.prototype,e),i.__super__=r.prototype,i};var R=function(){throw new Error('A "url" property or function must be specified')},z=function(e,t){var a=t.error;t.error=function(i){a&&a.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(s,a,e,t)}.apply(t,r))||(e.exports=n)}).call(this,a("yLpj"))},zLrO:function(e,t,a){e.exports={ratingRightTitle:"PrePlayRatingRightTitle-ratingRightTitle-1d4YyI PrePlayRightTitle-rightTitle-VxiwUS",starRating:"PrePlayRatingRightTitle-starRating-31XbAl",criticRating:"PrePlayRatingRightTitle-criticRating-2J_tnK"}},zLzU:function(e,t,a){e.exports={measure:"AudioVideoLyrics-measure-2SF_6A",container:"AudioVideoLyrics-container-3d-0qH",card:"AudioVideoLyrics-card-1ul6PO MetadataPosterCard-card-3bztRc",content:"AudioVideoLyrics-content-5An40t",titlesContainer:"AudioVideoLyrics-titlesContainer-3I1RVb",rightInfo:"AudioVideoLyrics-rightInfo-x_GGfW",scroller:"AudioVideoLyrics-scroller-3hrplZ Scroller-vertical-VScFLT",spinner:"AudioVideoLyrics-spinner-1K46lG Spinner-spinner-Niere7 spin-spin-2kLwt_",upsellContainer:"AudioVideoLyrics-upsellContainer-2K0Q7S",innerContent:"AudioVideoLyrics-innerContent-19sRoW",line:"AudioVideoLyrics-line-2CYDi-",lineTimedIcon:"AudioVideoLyrics-lineTimedIcon-GOFkGM",isLineSelected:"AudioVideoLyrics-isLineSelected-2kgwVU",timedLyricsButton:"AudioVideoLyrics-timedLyricsButton-13NoS- IconButton-button-9An-7I",isTimedLyricsActive:"AudioVideoLyrics-isTimedLyricsActive-3bWfB0"}},zQVR:function(e,t,a){e.exports={icon:"SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs",selectedIcon:"SettingsSidebarListLink-selectedIcon-caIG1g SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs"}},zVLU:function(e,t,a){e.exports={group:"PrePlayDetailsGroup-group-3i0Tjw"}},zfMR:function(e,t,a){e.exports={form:"AddToPlaylistModal-form-R6AQa2",input:"AddToPlaylistModal-input-3CucUv TextInput-input-1mDdJf",button:"AddToPlaylistModal-button-1Em5lp SpinnerButton-button-2YjGJZ Button-button-3A5jB3 Link-link-2ew_DK"}},zjrX:function(e,t,a){var i=a("3O+N");e.exports=(i.default||i).template((function(e,t,a,i,r){this.compilerInfo=[4,">= 1.0.0"],a=this.merge(a,e.helpers),r=r||{};var n,s,o="";return o+='<div class="show-actions striped-list-inner-item playlist-inner-item ',o+=(0,this.escapeExpression)(n=(s=a.type)?s.call(t,{hash:{},data:r}):"function"==typeof(s=t&&t.type)?s.call(t,{hash:{},data:r}):s)+'"> <div class="media-actions media-reorder"> ',((n=a.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,(function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '}),r),data:r}))||0===n)&&(o+=n),o+=' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '}))},zsFO:function(e,t,a){e.exports={extendedTitle:"VideoSettings-extendedTitle-39DU_s"}},zvMH:function(e,t,a){"use strict";a.d(t,"b",(function(){return s})),a.d(t,"c",(function(){return o})),a.d(t,"d",(function(){return l})),a.d(t,"a",(function(){return c}));var i=a("gcR/"),r=a.n(i),n=(a("17x9"),a("q1tI"),a("A+r8")),s=-1,o=-1,l=-1;function c({className:e,displayIndex:t,displayTotal:a,secondsUntilAd:i}){var s=i>0&&i<=5;return t>0&&a>0?r()("div",{className:e},void 0,1===a?Object(n.default)("Ad"):Object(n.default)("Ad {index} of {total}",{index:t,total:a})):s?r()("div",{className:e},void 0,Object(n.default)("Ad in {seconds}",{seconds:Math.round(i)})):null}}},[[0,3,4]]]);