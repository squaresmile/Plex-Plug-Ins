(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[function(e,t){var n;e.exports=function(e,t,r,i){n||(n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var a=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),t&&a)for(var s in a)void 0===t[s]&&(t[s]=a[s]);else t||(t=a||{});if(1===o)t.children=i;else if(o>1){for(var l=new Array(o),c=0;c<o;c++)l[c]=arguments[c+3];t.children=l}return{$$typeof:n,type:e,key:void 0===r?null:""+r,ref:null,props:t,_owner:null}}},function(e,t,n){"use strict";e.exports=n(1399)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var r=n(180);function i(){return r.a.t.apply(r.a,arguments)}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(36),o=["boolean","integer","float","string","object","array"];function s(e){return!0}function l(e){return i.a.isObject(e)&&!Array.isArray(e)}function c(e,t){t||(t={});var n,r=i.a.defaults(t,{typeName:e,parse:i.a.bind(a.a.parseType,a.a,e),stringify:i.a.bind(a.a.stringifyType,a.a,e)});return r.validate=t.validate?(n=t.validate,function(e){return null==e||n(e)}):s,r.isRequired=Object.assign({},r,{validate:function(e){return null!=e&&r.validate(e)},typeName:r.typeName+"<required>"}),r}var u={any:c("any"),boolean:c("boolean",{validate:i.a.isBoolean}),integer:c("integer",{validate:Number.isInteger}),float:c("float",{validate:i.a.isNumber}),string:c("string",{validate:i.a.isString}),object:c("object",{validate:l}),array:c("array",{validate:Array.isArray}),list:c("list",{validate:Array.isArray}),encodedString:c("encodedString",{validate:i.a.isString}),queryString:c("queryString",{validate:l}),instanceOf:function(){var e=i.a.toArray(arguments);return c("instanceOf",{validate:function(t){return i.a.some(e,function(e){return t instanceof e})}})},oneOf:function(){var e=i.a.toArray(arguments);return c("oneOf",{validate:function(t){return i.a.contains(e,t)}})},oneOfType:function(){var e=i.a.toArray(arguments);return c("oneOfType",{validate:function(t){return i.a.some(e,function(e){return e.validate(t)})}})},custom:function(e){return c("custom",{validate:e})},getAttrTypeFor:function(e){if(null==e)return u.any;for(var t=0,n=o.length;t<n;t++){var r=u[o[t]];if(r.validate(e))return r}return u.any}};t.a=u},function(e,t,n){e.exports=n(1397)()},function(e,t,n){var r;(function(){var n=this,i=n._,a=Array.prototype,o=Object.prototype,s=Function.prototype,l=a.push,c=a.slice,u=o.toString,d=o.hasOwnProperty,p=Array.isArray,h=Object.keys,f=s.bind,g=Object.create,v=function(){},m=function(e){return e instanceof m?e:this instanceof m?void(this._wrapped=e):new m(e)};e.exports&&(t=e.exports=m),t._=m,m.VERSION="1.8.3";var y=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,a){return e.call(t,n,r,i,a)}}return function(){return e.apply(t,arguments)}},b=function(e,t,n){return null==e?m.identity:m.isFunction(e)?y(e,t,n):m.isObject(e)?m.matcher(e):m.property(e)};m.iteratee=function(e,t){return b(e,t,1/0)};var S=function(e,t){return function(n){var r=arguments.length;if(r<2||null==n)return n;for(var i=1;i<r;i++)for(var a=arguments[i],o=e(a),s=o.length,l=0;l<s;l++){var c=o[l];t&&void 0!==n[c]||(n[c]=a[c])}return n}},I=function(e){if(!m.isObject(e))return{};if(g)return g(e);v.prototype=e;var t=new v;return v.prototype=null,t},C=function(e){return function(t){return null==t?void 0:t[e]}},M=Math.pow(2,53)-1,D=C("length"),w=function(e){var t=D(e);return"number"==typeof t&&t>=0&&t<=M};function P(e){return function(t,n,r,i){n=y(n,i,4);var a=!w(t)&&m.keys(t),o=(a||t).length,s=e>0?0:o-1;return arguments.length<3&&(r=t[a?a[s]:s],s+=e),function(t,n,r,i,a,o){for(;a>=0&&a<o;a+=e){var s=i?i[a]:a;r=n(r,t[s],s,t)}return r}(t,n,r,a,s,o)}}m.each=m.forEach=function(e,t,n){var r,i;if(t=y(t,n),w(e))for(r=0,i=e.length;r<i;r++)t(e[r],r,e);else{var a=m.keys(e);for(r=0,i=a.length;r<i;r++)t(e[a[r]],a[r],e)}return e},m.map=m.collect=function(e,t,n){t=b(t,n);for(var r=!w(e)&&m.keys(e),i=(r||e).length,a=Array(i),o=0;o<i;o++){var s=r?r[o]:o;a[o]=t(e[s],s,e)}return a},m.reduce=m.foldl=m.inject=P(1),m.reduceRight=m.foldr=P(-1),m.find=m.detect=function(e,t,n){var r;if(void 0!==(r=w(e)?m.findIndex(e,t,n):m.findKey(e,t,n))&&-1!==r)return e[r]},m.filter=m.select=function(e,t,n){var r=[];return t=b(t,n),m.each(e,function(e,n,i){t(e,n,i)&&r.push(e)}),r},m.reject=function(e,t,n){return m.filter(e,m.negate(b(t)),n)},m.every=m.all=function(e,t,n){t=b(t,n);for(var r=!w(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(!t(e[o],o,e))return!1}return!0},m.some=m.any=function(e,t,n){t=b(t,n);for(var r=!w(e)&&m.keys(e),i=(r||e).length,a=0;a<i;a++){var o=r?r[a]:a;if(t(e[o],o,e))return!0}return!1},m.contains=m.includes=m.include=function(e,t,n,r){return w(e)||(e=m.values(e)),("number"!=typeof n||r)&&(n=0),m.indexOf(e,t,n)>=0},m.invoke=function(e,t){var n=c.call(arguments,2),r=m.isFunction(t);return m.map(e,function(e){var i=r?t:e[t];return null==i?i:i.apply(e,n)})},m.pluck=function(e,t){return m.map(e,m.property(t))},m.where=function(e,t){return m.filter(e,m.matcher(t))},m.findWhere=function(e,t){return m.find(e,m.matcher(t))},m.max=function(e,t,n){var r,i,a=-1/0,o=-1/0;if(null==t&&null!=e)for(var s=0,l=(e=w(e)?e:m.values(e)).length;s<l;s++)(r=e[s])>a&&(a=r);else t=b(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))>o||i===-1/0&&a===-1/0)&&(a=e,o=i)});return a},m.min=function(e,t,n){var r,i,a=1/0,o=1/0;if(null==t&&null!=e)for(var s=0,l=(e=w(e)?e:m.values(e)).length;s<l;s++)(r=e[s])<a&&(a=r);else t=b(t,n),m.each(e,function(e,n,r){((i=t(e,n,r))<o||i===1/0&&a===1/0)&&(a=e,o=i)});return a},m.shuffle=function(e){for(var t,n=w(e)?e:m.values(e),r=n.length,i=Array(r),a=0;a<r;a++)(t=m.random(0,a))!==a&&(i[a]=i[t]),i[t]=n[a];return i},m.sample=function(e,t,n){return null==t||n?(w(e)||(e=m.values(e)),e[m.random(e.length-1)]):m.shuffle(e).slice(0,Math.max(0,t))},m.sortBy=function(e,t,n){return t=b(t,n),m.pluck(m.map(e,function(e,n,r){return{value:e,index:n,criteria:t(e,n,r)}}).sort(function(e,t){var n=e.criteria,r=t.criteria;if(n!==r){if(n>r||void 0===n)return 1;if(n<r||void 0===r)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,r){var i={};return n=b(n,r),m.each(t,function(r,a){var o=n(r,a,t);e(i,r,o)}),i}};m.groupBy=T(function(e,t,n){m.has(e,n)?e[n].push(t):e[n]=[t]}),m.indexBy=T(function(e,t,n){e[n]=t}),m.countBy=T(function(e,t,n){m.has(e,n)?e[n]++:e[n]=1}),m.toArray=function(e){return e?m.isArray(e)?c.call(e):w(e)?m.map(e,m.identity):m.values(e):[]},m.size=function(e){return null==e?0:w(e)?e.length:m.keys(e).length},m.partition=function(e,t,n){t=b(t,n);var r=[],i=[];return m.each(e,function(e,n,a){(t(e,n,a)?r:i).push(e)}),[r,i]},m.first=m.head=m.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:m.initial(e,e.length-t)},m.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},m.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:m.rest(e,Math.max(0,e.length-t))},m.rest=m.tail=m.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},m.compact=function(e){return m.filter(e,m.identity)};var E=function(e,t,n,r){for(var i=[],a=0,o=r||0,s=D(e);o<s;o++){var l=e[o];if(w(l)&&(m.isArray(l)||m.isArguments(l))){t||(l=E(l,t,n));var c=0,u=l.length;for(i.length+=u;c<u;)i[a++]=l[c++]}else n||(i[a++]=l)}return i};function x(e){return function(t,n,r){n=b(n,r);for(var i=D(t),a=e>0?0:i-1;a>=0&&a<i;a+=e)if(n(t[a],a,t))return a;return-1}}function O(e,t,n){return function(r,i,a){var o=0,s=D(r);if("number"==typeof a)e>0?o=a>=0?a:Math.max(a+s,o):s=a>=0?Math.min(a+1,s):a+s+1;else if(n&&a&&s)return r[a=n(r,i)]===i?a:-1;if(i!=i)return(a=t(c.call(r,o,s),m.isNaN))>=0?a+o:-1;for(a=e>0?o:s-1;a>=0&&a<s;a+=e)if(r[a]===i)return a;return-1}}m.flatten=function(e,t){return E(e,t,!1)},m.without=function(e){return m.difference(e,c.call(arguments,1))},m.uniq=m.unique=function(e,t,n,r){m.isBoolean(t)||(r=n,n=t,t=!1),null!=n&&(n=b(n,r));for(var i=[],a=[],o=0,s=D(e);o<s;o++){var l=e[o],c=n?n(l,o,e):l;t?(o&&a===c||i.push(l),a=c):n?m.contains(a,c)||(a.push(c),i.push(l)):m.contains(i,l)||i.push(l)}return i},m.union=function(){return m.uniq(E(arguments,!0,!0))},m.intersection=function(e){for(var t=[],n=arguments.length,r=0,i=D(e);r<i;r++){var a=e[r];if(!m.contains(t,a)){for(var o=1;o<n&&m.contains(arguments[o],a);o++);o===n&&t.push(a)}}return t},m.difference=function(e){var t=E(arguments,!0,!0,1);return m.filter(e,function(e){return!m.contains(t,e)})},m.zip=function(){return m.unzip(arguments)},m.unzip=function(e){for(var t=e&&m.max(e,D).length||0,n=Array(t),r=0;r<t;r++)n[r]=m.pluck(e,r);return n},m.object=function(e,t){for(var n={},r=0,i=D(e);r<i;r++)t?n[e[r]]=t[r]:n[e[r][0]]=e[r][1];return n},m.findIndex=x(1),m.findLastIndex=x(-1),m.sortedIndex=function(e,t,n,r){for(var i=(n=b(n,r,1))(t),a=0,o=D(e);a<o;){var s=Math.floor((a+o)/2);n(e[s])<i?a=s+1:o=s}return a},m.indexOf=O(1,m.findIndex,m.sortedIndex),m.lastIndexOf=O(-1,m.findLastIndex),m.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var r=Math.max(Math.ceil((t-e)/n),0),i=Array(r),a=0;a<r;a++,e+=n)i[a]=e;return i};var j=function(e,t,n,r,i){if(!(r instanceof t))return e.apply(n,i);var a=I(e.prototype),o=e.apply(a,i);return m.isObject(o)?o:a};m.bind=function(e,t){if(f&&e.bind===f)return f.apply(e,c.call(arguments,1));if(!m.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),r=function(){return j(e,r,t,this,n.concat(c.call(arguments)))};return r},m.partial=function(e){var t=c.call(arguments,1),n=function(){for(var r=0,i=t.length,a=Array(i),o=0;o<i;o++)a[o]=t[o]===m?arguments[r++]:t[o];for(;r<arguments.length;)a.push(arguments[r++]);return j(e,n,this,this,a)};return n},m.bindAll=function(e){var t,n,r=arguments.length;if(r<=1)throw new Error("bindAll must be passed function names");for(t=1;t<r;t++)e[n=arguments[t]]=m.bind(e[n],e);return e},m.memoize=function(e,t){var n=function(r){var i=n.cache,a=""+(t?t.apply(this,arguments):r);return m.has(i,a)||(i[a]=e.apply(this,arguments)),i[a]};return n.cache={},n},m.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},m.defer=m.partial(m.delay,m,1),m.throttle=function(e,t,n){var r,i,a,o=null,s=0;n||(n={});var l=function(){s=!1===n.leading?0:m.now(),o=null,a=e.apply(r,i),o||(r=i=null)};return function(){var c=m.now();s||!1!==n.leading||(s=c);var u=t-(c-s);return r=this,i=arguments,u<=0||u>t?(o&&(clearTimeout(o),o=null),s=c,a=e.apply(r,i),o||(r=i=null)):o||!1===n.trailing||(o=setTimeout(l,u)),a}},m.debounce=function(e,t,n){var r,i,a,o,s,l=function(){var c=m.now()-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,n||(s=e.apply(a,i),r||(a=i=null)))};return function(){a=this,i=arguments,o=m.now();var c=n&&!r;return r||(r=setTimeout(l,t)),c&&(s=e.apply(a,i),a=i=null),s}},m.wrap=function(e,t){return m.partial(t,e)},m.negate=function(e){return function(){return!e.apply(this,arguments)}},m.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,r=e[t].apply(this,arguments);n--;)r=e[n].call(this,r);return r}},m.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},m.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},m.once=m.partial(m.before,2);var A=!{toString:null}.propertyIsEnumerable("toString"),N=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function k(e,t){var n=N.length,r=e.constructor,i=m.isFunction(r)&&r.prototype||o,a="constructor";for(m.has(e,a)&&!m.contains(t,a)&&t.push(a);n--;)(a=N[n])in e&&e[a]!==i[a]&&!m.contains(t,a)&&t.push(a)}m.keys=function(e){if(!m.isObject(e))return[];if(h)return h(e);var t=[];for(var n in e)m.has(e,n)&&t.push(n);return A&&k(e,t),t},m.allKeys=function(e){if(!m.isObject(e))return[];var t=[];for(var n in e)t.push(n);return A&&k(e,t),t},m.values=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=e[t[i]];return r},m.mapObject=function(e,t,n){t=b(t,n);for(var r,i=m.keys(e),a=i.length,o={},s=0;s<a;s++)o[r=i[s]]=t(e[r],r,e);return o},m.pairs=function(e){for(var t=m.keys(e),n=t.length,r=Array(n),i=0;i<n;i++)r[i]=[t[i],e[t[i]]];return r},m.invert=function(e){for(var t={},n=m.keys(e),r=0,i=n.length;r<i;r++)t[e[n[r]]]=n[r];return t},m.functions=m.methods=function(e){var t=[];for(var n in e)m.isFunction(e[n])&&t.push(n);return t.sort()},m.extend=S(m.allKeys),m.extendOwn=m.assign=S(m.keys),m.findKey=function(e,t,n){t=b(t,n);for(var r,i=m.keys(e),a=0,o=i.length;a<o;a++)if(t(e[r=i[a]],r,e))return r},m.pick=function(e,t,n){var r,i,a={},o=e;if(null==o)return a;m.isFunction(t)?(i=m.allKeys(o),r=y(t,n)):(i=E(arguments,!1,!1,1),r=function(e,t,n){return t in n},o=Object(o));for(var s=0,l=i.length;s<l;s++){var c=i[s],u=o[c];r(u,c,o)&&(a[c]=u)}return a},m.omit=function(e,t,n){if(m.isFunction(t))t=m.negate(t);else{var r=m.map(E(arguments,!1,!1,1),String);t=function(e,t){return!m.contains(r,t)}}return m.pick(e,t,n)},m.defaults=S(m.allKeys,!0),m.create=function(e,t){var n=I(e);return t&&m.extendOwn(n,t),n},m.clone=function(e){return m.isObject(e)?m.isArray(e)?e.slice():m.extend({},e):e},m.tap=function(e,t){return t(e),e},m.isMatch=function(e,t){var n=m.keys(t),r=n.length;if(null==e)return!r;for(var i=Object(e),a=0;a<r;a++){var o=n[a];if(t[o]!==i[o]||!(o in i))return!1}return!0};var L=function(e,t,n,r){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof m&&(e=e._wrapped),t instanceof m&&(t=t._wrapped);var i=u.call(e);if(i!==u.call(t))return!1;switch(i){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var a="[object Array]"===i;if(!a){if("object"!=typeof e||"object"!=typeof t)return!1;var o=e.constructor,s=t.constructor;if(o!==s&&!(m.isFunction(o)&&o instanceof o&&m.isFunction(s)&&s instanceof s)&&"constructor"in e&&"constructor"in t)return!1}r=r||[];for(var l=(n=n||[]).length;l--;)if(n[l]===e)return r[l]===t;if(n.push(e),r.push(t),a){if((l=e.length)!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],n,r))return!1}else{var c,d=m.keys(e);if(l=d.length,m.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!m.has(t,c)||!L(e[c],t[c],n,r))return!1}return n.pop(),r.pop(),!0};m.isEqual=function(e,t){return L(e,t)},m.isEmpty=function(e){return null==e||(w(e)&&(m.isArray(e)||m.isString(e)||m.isArguments(e))?0===e.length:0===m.keys(e).length)},m.isElement=function(e){return!(!e||1!==e.nodeType)},m.isArray=p||function(e){return"[object Array]"===u.call(e)},m.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},m.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){m["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),m.isArguments(arguments)||(m.isArguments=function(e){return m.has(e,"callee")}),"object"!=typeof Int8Array&&(m.isFunction=function(e){return"function"==typeof e||!1}),m.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},m.isNaN=function(e){return m.isNumber(e)&&e!==+e},m.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},m.isNull=function(e){return null===e},m.isUndefined=function(e){return void 0===e},m.has=function(e,t){return null!=e&&d.call(e,t)},m.noConflict=function(){return n._=i,this},m.identity=function(e){return e},m.constant=function(e){return function(){return e}},m.noop=function(){},m.property=C,m.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},m.matcher=m.matches=function(e){return e=m.extendOwn({},e),function(t){return m.isMatch(t,e)}},m.times=function(e,t,n){var r=Array(Math.max(0,e));t=y(t,n,1);for(var i=0;i<e;i++)r[i]=t(i);return r},m.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},m.now=Date.now||function(){return(new Date).getTime()};var R={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},_=m.invert(R),U=function(e){var t=function(t){return e[t]},n="(?:"+m.keys(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=null==e?"":""+e,r.test(e)?e.replace(i,t):e}};m.escape=U(R),m.unescape=U(_),m.result=function(e,t,n){var r=null==e?void 0:e[t];return void 0===r&&(r=n),m.isFunction(r)?r.call(e):r};var z=0;m.uniqueId=function(e){var t=++z+"";return e?e+t:t},m.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,B={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},H=/\\|'|\r|\n|\u2028|\u2029/g,V=function(e){return"\\"+B[e]};m.template=function(e,t,n){!t&&n&&(t=n),t=m.defaults({},t,m.templateSettings);var r=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),i=0,a="__p+='";e.replace(r,function(t,n,r,o,s){return a+=e.slice(i,s).replace(H,V),i=s+t.length,n?a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":r?a+="'+\n((__t=("+r+"))==null?'':__t)+\n'":o&&(a+="';\n"+o+"\n__p+='"),t}),a+="';\n",t.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{var o=new Function(t.variable||"obj","_",a)}catch(e){throw e.source=a,e}var s=function(e){return o.call(this,e,m)},l=t.variable||"obj";return s.source="function("+l+"){\n"+a+"}",s},m.chain=function(e){var t=m(e);return t._chain=!0,t};var Q=function(e,t){return e._chain?m(t).chain():t};m.mixin=function(e){m.each(m.functions(e),function(t){var n=m[t]=e[t];m.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),Q(this,n.apply(m,e))}})},m.mixin(m),m.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];m.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],Q(this,n)}}),m.each(["concat","join","slice"],function(e){var t=a[e];m.prototype[e]=function(){return Q(this,t.apply(this._wrapped,arguments))}}),m.prototype.value=function(){return this._wrapped},m.prototype.valueOf=m.prototype.toJSON=m.prototype.value,m.prototype.toString=function(){return""+this._wrapped},void 0===(r=function(){return m}.apply(t,[]))||(e.exports=r)}).call(this)},function(e,t,n){"use strict";function r(e,t){return e===t}function i(e){var t=arguments.length<=1||void 0===arguments[1]?r:arguments[1],n=null,i=null;return function(){for(var r=arguments.length,a=Array(r),o=0;o<r;o++)a[o]=arguments[o];return null!==n&&n.length===a.length&&a.every(function(e,r){return t(e,n[r])})?i:(n=a,i=e.apply(void 0,a))}}function a(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return function(){for(var t=arguments.length,r=Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=0,o=r.pop(),s=function(e){var t=Array.isArray(e[0])?e[0]:e;if(!t.every(function(e){return"function"==typeof e})){var n=t.map(function(e){return typeof e}).join(", ");throw new Error("Selector creators expect all input-selectors to be functions, instead received the following types: ["+n+"]")}return t}(r),l=e.apply(void 0,[function(){return a++,o.apply(void 0,arguments)}].concat(n)),c=function(e,t){for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];var a=s.map(function(n){return n.apply(void 0,[e,t].concat(r))});return l.apply(void 0,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a))};return c.resultFunc=o,c.recomputations=function(){return a},c.resetRecomputations=function(){return a=0},c}}function o(){return a(i).apply(void 0,arguments)}t.__esModule=!0,t.defaultMemoize=i,t.createSelectorCreator=a,t.createSelector=o,t.createStructuredSelector=function(e){var t=arguments.length<=1||void 0===arguments[1]?o:arguments[1];if("object"!=typeof e)throw new Error("createStructuredSelector expects first argument to be an object where each property is a selector, instead received a "+typeof e);var n=Object.keys(e);return t(n.map(function(t){return e[t]}),function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.reduce(function(e,t,r){return e[n[r]]=t,e},{})})}},function(e,t){e.exports=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}},function(e,t,n){var r,i,a;
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
/*!
 * jQuery JavaScript Library v2.1.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright 2005, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-04-28T16:01Z
 */
i="undefined"!=typeof window?window:this,a=function(n,i){var a=[],o=a.slice,s=a.concat,l=a.push,c=a.indexOf,u={},d=u.toString,p=u.hasOwnProperty,h={},f=n.document,g=function(e,t){return new g.fn.init(e,t)},v=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,m=/^-ms-/,y=/-([\da-z])/gi,b=function(e,t){return t.toUpperCase()};function S(e){var t="length"in e&&e.length,n=g.type(e);return"function"!==n&&!g.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e))}g.fn=g.prototype={jquery:"2.1.4",constructor:g,selector:"",length:0,toArray:function(){return o.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:o.call(this)},pushStack:function(e){var t=g.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return g.each(this,e,t)},map:function(e){return this.pushStack(g.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(o.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:l,sort:a.sort,splice:a.splice},g.extend=g.fn.extend=function(){var e,t,n,r,i,a,o=arguments[0]||{},s=1,l=arguments.length,c=!1;for("boolean"==typeof o&&(c=o,o=arguments[s]||{},s++),"object"==typeof o||g.isFunction(o)||(o={}),s===l&&(o=this,s--);s<l;s++)if(null!=(e=arguments[s]))for(t in e)n=o[t],o!==(r=e[t])&&(c&&r&&(g.isPlainObject(r)||(i=g.isArray(r)))?(i?(i=!1,a=n&&g.isArray(n)?n:[]):a=n&&g.isPlainObject(n)?n:{},o[t]=g.extend(c,a,r)):void 0!==r&&(o[t]=r));return o},g.extend({expando:"jQuery"+("2.1.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===g.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){return!g.isArray(e)&&e-parseFloat(e)+1>=0},isPlainObject:function(e){return"object"===g.type(e)&&!e.nodeType&&!g.isWindow(e)&&!(e.constructor&&!p.call(e.constructor.prototype,"isPrototypeOf"))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[d.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=g.trim(e))&&(1===e.indexOf("use strict")?((t=f.createElement("script")).text=e,f.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(m,"ms-").replace(y,b)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var r=0,i=e.length,a=S(e);if(n){if(a)for(;r<i&&!1!==t.apply(e[r],n);r++);else for(r in e)if(!1===t.apply(e[r],n))break}else if(a)for(;r<i&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(v,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(S(Object(e))?g.merge(n,"string"==typeof e?[e]:e):l.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:c.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,a=e.length,o=!n;i<a;i++)!t(e[i],i)!==o&&r.push(e[i]);return r},map:function(e,t,n){var r,i=0,a=e.length,o=[];if(S(e))for(;i<a;i++)null!=(r=t(e[i],i,n))&&o.push(r);else for(i in e)null!=(r=t(e[i],i,n))&&o.push(r);return s.apply([],o)},guid:1,proxy:function(e,t){var n,r,i;if("string"==typeof t&&(n=e[t],t=e,e=n),g.isFunction(e))return r=o.call(arguments,2),(i=function(){return e.apply(t||this,r.concat(o.call(arguments)))}).guid=e.guid=e.guid||g.guid++,i},now:Date.now,support:h}),g.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var I=
/*!
 * Sizzle CSS Selector Engine v2.2.0-pre
 * http://sizzlejs.com/
 *
 * Copyright 2008, 2014 jQuery Foundation, Inc. and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2014-12-16
 */
function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,g,v,m,y,b,S="sizzle"+1*new Date,I=e.document,C=0,M=0,D=oe(),w=oe(),P=oe(),T=function(e,t){return e===t&&(d=!0),0},E=1<<31,x={}.hasOwnProperty,O=[],j=O.pop,A=O.push,N=O.push,k=O.slice,L=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},R="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",_="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",z=U.replace("w","w#"),F="\\["+_+"*("+U+")(?:"+_+"*([*^$|!~]?=)"+_+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+z+"))|)"+_+"*\\]",B=":("+U+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+F+")*)|.*)\\)|)",H=new RegExp(_+"+","g"),V=new RegExp("^"+_+"+|((?:^|[^\\\\])(?:\\\\.)*)"+_+"+$","g"),Q=new RegExp("^"+_+"*,"+_+"*"),W=new RegExp("^"+_+"*([>+~]|"+_+")"+_+"*"),G=new RegExp("="+_+"*([^\\]'\"]*?)"+_+"*\\]","g"),Y=new RegExp(B),K=new RegExp("^"+z+"$"),q={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+F),PSEUDO:new RegExp("^"+B),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+_+"*(even|odd|(([+-]|)(\\d*)n|)"+_+"*(?:([+-]|)"+_+"*(\\d+)|))"+_+"*\\)|)","i"),bool:new RegExp("^(?:"+R+")$","i"),needsContext:new RegExp("^"+_+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+_+"*((?:-\\d)?\\d*)"+_+"*\\)|)(?=[^-]|$)","i")},Z=/^(?:input|select|textarea|button)$/i,X=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=/'|\\/g,ne=new RegExp("\\\\([\\da-f]{1,6}"+_+"?|("+_+")|.)","ig"),re=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},ie=function(){p()};try{N.apply(O=k.call(I.childNodes),I.childNodes),O[I.childNodes.length].nodeType}catch(e){N={apply:O.length?function(e,t){A.apply(e,k.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ae(e,t,r,i){var a,s,c,u,d,f,m,y,C,M;if((t?t.ownerDocument||t:I)!==h&&p(t),r=r||[],u=(t=t||h).nodeType,"string"!=typeof e||!e||1!==u&&9!==u&&11!==u)return r;if(!i&&g){if(11!==u&&(a=$.exec(e)))if(c=a[1]){if(9===u){if(!(s=t.getElementById(c))||!s.parentNode)return r;if(s.id===c)return r.push(s),r}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(c))&&b(t,s)&&s.id===c)return r.push(s),r}else{if(a[2])return N.apply(r,t.getElementsByTagName(e)),r;if((c=a[3])&&n.getElementsByClassName)return N.apply(r,t.getElementsByClassName(c)),r}if(n.qsa&&(!v||!v.test(e))){if(y=m=S,C=t,M=1!==u&&e,1===u&&"object"!==t.nodeName.toLowerCase()){for(f=o(e),(m=t.getAttribute("id"))?y=m.replace(te,"\\$&"):t.setAttribute("id",y),y="[id='"+y+"'] ",d=f.length;d--;)f[d]=y+ve(f[d]);C=ee.test(e)&&fe(t.parentNode)||t,M=f.join(",")}if(M)try{return N.apply(r,C.querySelectorAll(M)),r}catch(e){}finally{m||t.removeAttribute("id")}}}return l(e.replace(V,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[S]=!0,e}function le(e){var t=h.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),i=e.length;i--;)r.attrHandle[n[i]]=t}function ue(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||E)-(~e.sourceIndex||E);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function pe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function he(e){return se(function(t){return t=+t,se(function(n,r){for(var i,a=e([],n.length,t),o=a.length;o--;)n[i=a[o]]&&(n[i]=!(r[i]=n[i]))})})}function fe(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},a=ae.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ae.setDocument=function(e){var t,i,o=e?e.ownerDocument||e:I;return o!==h&&9===o.nodeType&&o.documentElement?(h=o,f=o.documentElement,(i=o.defaultView)&&i!==i.top&&(i.addEventListener?i.addEventListener("unload",ie,!1):i.attachEvent&&i.attachEvent("onunload",ie)),g=!a(o),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(o.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(o.getElementsByClassName),n.getById=le(function(e){return f.appendChild(e).id=S,!o.getElementsByName||!o.getElementsByName(S).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n&&n.parentNode?[n]:[]}},r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(ne,re);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,a=t.getElementsByTagName(e);if("*"===e){for(;n=a[i++];)1===n.nodeType&&r.push(n);return r}return a},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=J.test(o.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+S+"'></a><select id='"+S+"-\f]' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+_+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+_+"*(?:value|"+R+")"),e.querySelectorAll("[id~="+S+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+S+"+*").length||v.push(".#.+[+~]")}),le(function(e){var t=o.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+_+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=J.test(y=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",B)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=J.test(f.compareDocumentPosition),b=t||J.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},T=t?function(e,t){if(e===t)return d=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===o||e.ownerDocument===I&&b(I,e)?-1:t===o||t.ownerDocument===I&&b(I,t)?1:u?L(u,e)-L(u,t):0:4&r?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,r=0,i=e.parentNode,a=t.parentNode,s=[e],l=[t];if(!i||!a)return e===o?-1:t===o?1:i?-1:a?1:u?L(u,e)-L(u,t):0;if(i===a)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)l.unshift(n);for(;s[r]===l[r];)r++;return r?ue(s[r],l[r]):s[r]===I?-1:l[r]===I?1:0},o):h},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if((e.ownerDocument||e)!==h&&p(e),t=t.replace(G,"='$1']"),n.matchesSelector&&g&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ae(t,h,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!==h&&p(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!==h&&p(e);var i=r.attrHandle[t.toLowerCase()],a=i&&x.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==a?a:n.attributes||!g?e.getAttribute(t):(a=e.getAttributeNode(t))&&a.specified?a.value:null},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,r=[],i=0,a=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(T),d){for(;t=e[a++];)t===e[a]&&(i=r.push(a));for(;i--;)e.splice(r[i],1)}return u=null,e},i=ae.getText=function(e){var t,n="",r=0,a=e.nodeType;if(a){if(1===a||9===a||11===a){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===a||4===a)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ae.selectors={cacheLength:50,createPseudo:se,match:q,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(ne,re),e[3]=(e[3]||e[4]||e[5]||"").replace(ne,re),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return q.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Y.test(n)&&(t=o(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(ne,re).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=D[e+" "];return t||(t=new RegExp("(^|"+_+")"+e+"("+_+"|$)"))&&D(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ae.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var a="nth"!==e.slice(0,3),o="last"!==e.slice(-4),s="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,p,h,f,g=a!==o?"nextSibling":"previousSibling",v=t.parentNode,m=s&&t.nodeName.toLowerCase(),y=!l&&!s;if(v){if(a){for(;g;){for(d=t;d=d[g];)if(s?d.nodeName.toLowerCase()===m:1===d.nodeType)return!1;f=g="only"===e&&!f&&"nextSibling"}return!0}if(f=[o?v.firstChild:v.lastChild],o&&y){for(h=(c=(u=v[S]||(v[S]={}))[e]||[])[0]===C&&c[1],p=c[0]===C&&c[2],d=h&&v.childNodes[h];d=++h&&d&&d[g]||(p=h=0)||f.pop();)if(1===d.nodeType&&++p&&d===t){u[e]=[C,h,p];break}}else if(y&&(c=(t[S]||(t[S]={}))[e])&&c[0]===C)p=c[1];else for(;(d=++h&&d&&d[g]||(p=h=0)||f.pop())&&((s?d.nodeName.toLowerCase()!==m:1!==d.nodeType)||!++p||(y&&((d[S]||(d[S]={}))[e]=[C,p]),d!==t)););return(p-=i)===r||p%r==0&&p/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return i[S]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,a=i(e,t),o=a.length;o--;)e[r=L(e,a[o])]=!(n[r]=a[o])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=s(e.replace(V,"$1"));return r[S]?se(function(e,t,n,i){for(var a,o=r(e,null,i,[]),s=e.length;s--;)(a=o[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,r(t,null,a,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return ae(e,t).length>0}}),contains:se(function(e){return e=e.replace(ne,re),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(ne,re).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===h.activeElement&&(!h.hasFocus||h.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return X.test(e.nodeName)},input:function(e){return Z.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:he(function(){return[0]}),last:he(function(e,t){return[t-1]}),eq:he(function(e,t,n){return[n<0?n+t:n]}),even:he(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:he(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:he(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:he(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=pe(t);function ge(){}function ve(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function me(e,t,n){var r=t.dir,i=n&&"parentNode"===r,a=M++;return t.first?function(t,n,a){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,o){var s,l,c=[C,a];if(o){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,o))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((s=(l=t[S]||(t[S]={}))[r])&&s[0]===C&&s[1]===a)return c[2]=s[2];if(l[r]=c,c[2]=e(t,n,o))return!0}}}function ye(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function be(e,t,n,r,i){for(var a,o=[],s=0,l=e.length,c=null!=t;s<l;s++)(a=e[s])&&(n&&!n(a,r,i)||(o.push(a),c&&t.push(s)));return o}function Se(e,t,n,r,i,a){return r&&!r[S]&&(r=Se(r)),i&&!i[S]&&(i=Se(i,a)),se(function(a,o,s,l){var c,u,d,p=[],h=[],f=o.length,g=a||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ae(e,t[r],n);return n}(t||"*",s.nodeType?[s]:s,[]),v=!e||!a&&t?g:be(g,p,e,s,l),m=n?i||(a?e:f||r)?[]:o:v;if(n&&n(v,m,s,l),r)for(c=be(m,h),r(c,[],s,l),u=c.length;u--;)(d=c[u])&&(m[h[u]]=!(v[h[u]]=d));if(a){if(i||e){if(i){for(c=[],u=m.length;u--;)(d=m[u])&&c.push(v[u]=d);i(null,m=[],c,l)}for(u=m.length;u--;)(d=m[u])&&(c=i?L(a,d):p[u])>-1&&(a[c]=!(o[c]=d))}}else m=be(m===o?m.splice(f,m.length):m),i?i(null,o,m,l):N.apply(o,m)})}function Ie(e){for(var t,n,i,a=e.length,o=r.relative[e[0].type],s=o||r.relative[" "],l=o?1:0,u=me(function(e){return e===t},s,!0),d=me(function(e){return L(t,e)>-1},s,!0),p=[function(e,n,r){var i=!o&&(r||n!==c)||((t=n).nodeType?u(e,n,r):d(e,n,r));return t=null,i}];l<a;l++)if(n=r.relative[e[l].type])p=[me(ye(p),n)];else{if((n=r.filter[e[l].type].apply(null,e[l].matches))[S]){for(i=++l;i<a&&!r.relative[e[i].type];i++);return Se(l>1&&ye(p),l>1&&ve(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(V,"$1"),n,l<i&&Ie(e.slice(l,i)),i<a&&Ie(e=e.slice(i)),i<a&&ve(e))}p.push(n)}return ye(p)}return ge.prototype=r.filters=r.pseudos,r.setFilters=new ge,o=ae.tokenize=function(e,t){var n,i,a,o,s,l,c,u=w[e+" "];if(u)return t?0:u.slice(0);for(s=e,l=[],c=r.preFilter;s;){for(o in n&&!(i=Q.exec(s))||(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),n=!1,(i=W.exec(s))&&(n=i.shift(),a.push({value:n,type:i[0].replace(V," ")}),s=s.slice(n.length)),r.filter)!(i=q[o].exec(s))||c[o]&&!(i=c[o](i))||(n=i.shift(),a.push({value:n,type:o,matches:i}),s=s.slice(n.length));if(!n)break}return t?s.length:s?ae.error(e):w(e,l).slice(0)},s=ae.compile=function(e,t){var n,i=[],a=[],s=P[e+" "];if(!s){for(t||(t=o(e)),n=t.length;n--;)(s=Ie(t[n]))[S]?i.push(s):a.push(s);(s=P(e,function(e,t){var n=t.length>0,i=e.length>0,a=function(a,o,s,l,u){var d,p,f,g=0,v="0",m=a&&[],y=[],b=c,S=a||i&&r.find.TAG("*",u),I=C+=null==b?1:Math.random()||.1,M=S.length;for(u&&(c=o!==h&&o);v!==M&&null!=(d=S[v]);v++){if(i&&d){for(p=0;f=e[p++];)if(f(d,o,s)){l.push(d);break}u&&(C=I)}n&&((d=!f&&d)&&g--,a&&m.push(d))}if(g+=v,n&&v!==g){for(p=0;f=t[p++];)f(m,y,o,s);if(a){if(g>0)for(;v--;)m[v]||y[v]||(y[v]=j.call(l));y=be(y)}N.apply(l,y),u&&!a&&y.length>0&&g+t.length>1&&ae.uniqueSort(l)}return u&&(C=I,c=b),m};return n?se(a):a}(a,i))).selector=e}return s},l=ae.select=function(e,t,i,a){var l,c,u,d,p,h="function"==typeof e&&e,f=!a&&o(e=h.selector||e);if(i=i||[],1===f.length){if((c=f[0]=f[0].slice(0)).length>2&&"ID"===(u=c[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[c[1].type]){if(!(t=(r.find.ID(u.matches[0].replace(ne,re),t)||[])[0]))return i;h&&(t=t.parentNode),e=e.slice(c.shift().value.length)}for(l=q.needsContext.test(e)?0:c.length;l--&&(u=c[l],!r.relative[d=u.type]);)if((p=r.find[d])&&(a=p(u.matches[0].replace(ne,re),ee.test(c[0].type)&&fe(t.parentNode)||t))){if(c.splice(l,1),!(e=a.length&&ve(c)))return N.apply(i,a),i;break}}return(h||s(e,f))(a,t,!g,i,ee.test(e)&&fe(t.parentNode)||t),i},n.sortStable=S.split("").sort(T).join("")===S,n.detectDuplicates=!!d,p(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(h.createElement("div"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(R,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ae}(n);g.find=I,g.expr=I.selectors,g.expr[":"]=g.expr.pseudos,g.unique=I.uniqueSort,g.text=I.getText,g.isXMLDoc=I.isXML,g.contains=I.contains;var C=g.expr.match.needsContext,M=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,D=/^.[^:#\[\.,]*$/;function w(e,t,n){if(g.isFunction(t))return g.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return g.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(D.test(t))return g.filter(t,e,n);t=g.filter(t,e)}return g.grep(e,function(e){return c.call(t,e)>=0!==n})}g.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?g.find.matchesSelector(r,e)?[r]:[]:g.find.matches(e,g.grep(t,function(e){return 1===e.nodeType}))},g.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(g(e).filter(function(){for(t=0;t<n;t++)if(g.contains(i[t],this))return!0}));for(t=0;t<n;t++)g.find(e,i[t],r);return(r=this.pushStack(n>1?g.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(w(this,e||[],!1))},not:function(e){return this.pushStack(w(this,e||[],!0))},is:function(e){return!!w(this,"string"==typeof e&&C.test(e)?g(e):e||[],!1).length}});var P,T=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(g.fn.init=function(e,t){var n,r;if(!e)return this;if("string"==typeof e){if(!(n="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:T.exec(e))||!n[1]&&t)return!t||t.jquery?(t||P).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof g?t[0]:t,g.merge(this,g.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:f,!0)),M.test(n[1])&&g.isPlainObject(t))for(n in t)g.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}return(r=f.getElementById(n[2]))&&r.parentNode&&(this.length=1,this[0]=r),this.context=f,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):g.isFunction(e)?void 0!==P.ready?P.ready(e):e(g):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),g.makeArray(e,this))}).prototype=g.fn,P=g(f);var E=/^(?:parents|prev(?:Until|All))/,x={children:!0,contents:!0,next:!0,prev:!0};function O(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}g.extend({dir:function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&g(e).is(n))break;r.push(e)}return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}}),g.fn.extend({has:function(e){var t=g(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(g.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,a=[],o=C.test(e)||"string"!=typeof e?g(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(o?o.index(n)>-1:1===n.nodeType&&g.find.matchesSelector(n,e))){a.push(n);break}return this.pushStack(a.length>1?g.unique(a):a)},index:function(e){return e?"string"==typeof e?c.call(g(e),this[0]):c.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(g.unique(g.merge(this.get(),g(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),g.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return g.dir(e,"parentNode")},parentsUntil:function(e,t,n){return g.dir(e,"parentNode",n)},next:function(e){return O(e,"nextSibling")},prev:function(e){return O(e,"previousSibling")},nextAll:function(e){return g.dir(e,"nextSibling")},prevAll:function(e){return g.dir(e,"previousSibling")},nextUntil:function(e,t,n){return g.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return g.dir(e,"previousSibling",n)},siblings:function(e){return g.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return g.sibling(e.firstChild)},contents:function(e){return e.contentDocument||g.merge([],e.childNodes)}},function(e,t){g.fn[e]=function(n,r){var i=g.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=g.filter(r,i)),this.length>1&&(x[e]||g.unique(i),E.test(e)&&i.reverse()),this.pushStack(i)}});var j,A=/\S+/g,N={};function k(){f.removeEventListener("DOMContentLoaded",k,!1),n.removeEventListener("load",k,!1),g.ready()}g.Callbacks=function(e){e="string"==typeof e?N[e]||function(e){var t=N[e]={};return g.each(e.match(A)||[],function(e,n){t[n]=!0}),t}(e):g.extend({},e);var t,n,r,i,a,o,s=[],l=!e.once&&[],c=function(d){for(t=e.memory&&d,n=!0,o=i||0,i=0,a=s.length,r=!0;s&&o<a;o++)if(!1===s[o].apply(d[0],d[1])&&e.stopOnFalse){t=!1;break}r=!1,s&&(l?l.length&&c(l.shift()):t?s=[]:u.disable())},u={add:function(){if(s){var n=s.length;!function t(n){g.each(n,function(n,r){var i=g.type(r);"function"===i?e.unique&&u.has(r)||s.push(r):r&&r.length&&"string"!==i&&t(r)})}(arguments),r?a=s.length:t&&(i=n,c(t))}return this},remove:function(){return s&&g.each(arguments,function(e,t){for(var n;(n=g.inArray(t,s,n))>-1;)s.splice(n,1),r&&(n<=a&&a--,n<=o&&o--)}),this},has:function(e){return e?g.inArray(e,s)>-1:!(!s||!s.length)},empty:function(){return s=[],a=0,this},disable:function(){return s=l=t=void 0,this},disabled:function(){return!s},lock:function(){return l=void 0,t||u.disable(),this},locked:function(){return!l},fireWith:function(e,t){return!s||n&&!l||(t=[e,(t=t||[]).slice?t.slice():t],r?l.push(t):c(t)),this},fire:function(){return u.fireWith(this,arguments),this},fired:function(){return!!n}};return u},g.extend({Deferred:function(e){var t=[["resolve","done",g.Callbacks("once memory"),"resolved"],["reject","fail",g.Callbacks("once memory"),"rejected"],["notify","progress",g.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return g.Deferred(function(n){g.each(t,function(t,a){var o=g.isFunction(e[t])&&e[t];i[a[1]](function(){var e=o&&o.apply(this,arguments);e&&g.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[a[0]+"With"](this===r?n.promise():this,o?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?g.extend(e,r):r}},i={};return r.pipe=r.then,g.each(t,function(e,a){var o=a[2],s=a[3];r[a[1]]=o.add,s&&o.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?r:this,arguments),this},i[a[0]+"With"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,i=0,a=o.call(arguments),s=a.length,l=1!==s||e&&g.isFunction(e.promise)?s:0,c=1===l?e:g.Deferred(),u=function(e,n,r){return function(i){n[e]=this,r[e]=arguments.length>1?o.call(arguments):i,r===t?c.notifyWith(n,r):--l||c.resolveWith(n,r)}};if(s>1)for(t=new Array(s),n=new Array(s),r=new Array(s);i<s;i++)a[i]&&g.isFunction(a[i].promise)?a[i].promise().done(u(i,r,a)).fail(c.reject).progress(u(i,n,t)):--l;return l||c.resolveWith(r,a),c.promise()}}),g.fn.ready=function(e){return g.ready.promise().done(e),this},g.extend({isReady:!1,readyWait:1,holdReady:function(e){e?g.readyWait++:g.ready(!0)},ready:function(e){(!0===e?--g.readyWait:g.isReady)||(g.isReady=!0,!0!==e&&--g.readyWait>0||(j.resolveWith(f,[g]),g.fn.triggerHandler&&(g(f).triggerHandler("ready"),g(f).off("ready"))))}}),g.ready.promise=function(e){return j||(j=g.Deferred(),"complete"===f.readyState?setTimeout(g.ready):(f.addEventListener("DOMContentLoaded",k,!1),n.addEventListener("load",k,!1))),j.promise(e)},g.ready.promise();var L=g.access=function(e,t,n,r,i,a,o){var s=0,l=e.length,c=null==n;if("object"===g.type(n))for(s in i=!0,n)g.access(e,t,s,n[s],!0,a,o);else if(void 0!==r&&(i=!0,g.isFunction(r)||(o=!0),c&&(o?(t.call(e,r),t=null):(c=t,t=function(e,t,n){return c.call(g(e),n)})),t))for(;s<l;s++)t(e[s],n,o?r:r.call(e[s],s,t(e[s],n)));return i?e:c?t.call(e):l?t(e[0],n):a};function R(){Object.defineProperty(this.cache={},0,{get:function(){return{}}}),this.expando=g.expando+R.uid++}g.acceptData=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType},R.uid=1,R.accepts=g.acceptData,R.prototype={key:function(e){if(!R.accepts(e))return 0;var t={},n=e[this.expando];if(!n){n=R.uid++;try{t[this.expando]={value:n},Object.defineProperties(e,t)}catch(r){t[this.expando]=n,g.extend(e,t)}}return this.cache[n]||(this.cache[n]={}),n},set:function(e,t,n){var r,i=this.key(e),a=this.cache[i];if("string"==typeof t)a[t]=n;else if(g.isEmptyObject(a))g.extend(this.cache[i],t);else for(r in t)a[r]=t[r];return a},get:function(e,t){var n=this.cache[this.key(e)];return void 0===t?n:n[t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,g.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,a=this.key(e),o=this.cache[a];if(void 0===t)this.cache[a]={};else{g.isArray(t)?r=t.concat(t.map(g.camelCase)):(i=g.camelCase(t),r=t in o?[t,i]:(r=i)in o?[r]:r.match(A)||[]),n=r.length;for(;n--;)delete o[r[n]]}},hasData:function(e){return!g.isEmptyObject(this.cache[e[this.expando]]||{})},discard:function(e){e[this.expando]&&delete this.cache[e[this.expando]]}};var _=new R,U=new R,z=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,F=/([A-Z])/g;function B(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(F,"-$1").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:z.test(n)?g.parseJSON(n):n)}catch(e){}U.set(e,t,n)}else n=void 0;return n}g.extend({hasData:function(e){return U.hasData(e)||_.hasData(e)},data:function(e,t,n){return U.access(e,t,n)},removeData:function(e,t){U.remove(e,t)},_data:function(e,t,n){return _.access(e,t,n)},_removeData:function(e,t){_.remove(e,t)}}),g.fn.extend({data:function(e,t){var n,r,i,a=this[0],o=a&&a.attributes;if(void 0===e){if(this.length&&(i=U.get(a),1===a.nodeType&&!_.get(a,"hasDataAttrs"))){for(n=o.length;n--;)o[n]&&0===(r=o[n].name).indexOf("data-")&&(r=g.camelCase(r.slice(5)),B(a,r,i[r]));_.set(a,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){U.set(this,e)}):L(this,function(t){var n,r=g.camelCase(e);if(a&&void 0===t)return void 0!==(n=U.get(a,e))?n:void 0!==(n=U.get(a,r))?n:void 0!==(n=B(a,r,void 0))?n:void 0;this.each(function(){var n=U.get(this,r);U.set(this,r,t),-1!==e.indexOf("-")&&void 0!==n&&U.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){U.remove(this,e)})}}),g.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=_.get(e,t),n&&(!r||g.isArray(n)?r=_.access(e,t,g.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=g.queue(e,t),r=n.length,i=n.shift(),a=g._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,function(){g.dequeue(e,t)},a)),!r&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return _.get(e,n)||_.access(e,n,{empty:g.Callbacks("once memory").add(function(){_.remove(e,[t+"queue",n])})})}}),g.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?g.queue(this[0],e):void 0===t?this:this.each(function(){var n=g.queue(this,e,t);g._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&g.dequeue(this,e)})},dequeue:function(e){return this.each(function(){g.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=g.Deferred(),a=this,o=this.length,s=function(){--r||i.resolveWith(a,[a])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";o--;)(n=_.get(a[o],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(s));return s(),i.promise(t)}});var H,V,Q=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,W=["Top","Right","Bottom","Left"],G=function(e,t){return e=t||e,"none"===g.css(e,"display")||!g.contains(e.ownerDocument,e)},Y=/^(?:checkbox|radio)$/i;H=f.createDocumentFragment().appendChild(f.createElement("div")),(V=f.createElement("input")).setAttribute("type","radio"),V.setAttribute("checked","checked"),V.setAttribute("name","t"),H.appendChild(V),h.checkClone=H.cloneNode(!0).cloneNode(!0).lastChild.checked,H.innerHTML="<textarea>x</textarea>",h.noCloneChecked=!!H.cloneNode(!0).lastChild.defaultValue,h.focusinBubbles="onfocusin"in n;var K=/^key/,q=/^(?:mouse|pointer|contextmenu)|click/,Z=/^(?:focusinfocus|focusoutblur)$/,X=/^([^.]*)(?:\.(.+)|)$/;function J(){return!0}function $(){return!1}function ee(){try{return f.activeElement}catch(e){}}g.event={global:{},add:function(e,t,n,r,i){var a,o,s,l,c,u,d,p,h,f,v,m=_.get(e);if(m)for(n.handler&&(n=(a=n).handler,i=a.selector),n.guid||(n.guid=g.guid++),(l=m.events)||(l=m.events={}),(o=m.handle)||(o=m.handle=function(t){return void 0!==g&&g.event.triggered!==t.type?g.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(A)||[""]).length;c--;)h=v=(s=X.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h&&(d=g.event.special[h]||{},h=(i?d.delegateType:d.bindType)||h,d=g.event.special[h]||{},u=g.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&g.expr.match.needsContext.test(i),namespace:f.join(".")},a),(p=l[h])||((p=l[h]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,r,f,o)||e.addEventListener&&e.addEventListener(h,o,!1)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),i?p.splice(p.delegateCount++,0,u):p.push(u),g.event.global[h]=!0)},remove:function(e,t,n,r,i){var a,o,s,l,c,u,d,p,h,f,v,m=_.hasData(e)&&_.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(A)||[""]).length;c--;)if(h=v=(s=X.exec(t[c])||[])[1],f=(s[2]||"").split(".").sort(),h){for(d=g.event.special[h]||{},p=l[h=(r?d.delegateType:d.bindType)||h]||[],s=s[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),o=a=p.length;a--;)u=p[a],!i&&v!==u.origType||n&&n.guid!==u.guid||s&&!s.test(u.namespace)||r&&r!==u.selector&&("**"!==r||!u.selector)||(p.splice(a,1),u.selector&&p.delegateCount--,d.remove&&d.remove.call(e,u));o&&!p.length&&(d.teardown&&!1!==d.teardown.call(e,f,m.handle)||g.removeEvent(e,h,m.handle),delete l[h])}else for(h in l)g.event.remove(e,h+t[c],n,r,!0);g.isEmptyObject(l)&&(delete m.handle,_.remove(e,"events"))}},trigger:function(e,t,r,i){var a,o,s,l,c,u,d,h=[r||f],v=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(o=s=r=r||f,3!==r.nodeType&&8!==r.nodeType&&!Z.test(v+g.event.triggered)&&(v.indexOf(".")>=0&&(m=v.split("."),v=m.shift(),m.sort()),c=v.indexOf(":")<0&&"on"+v,(e=e[g.expando]?e:new g.Event(v,"object"==typeof e&&e)).isTrigger=i?2:3,e.namespace=m.join("."),e.namespace_re=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=r),t=null==t?[e]:g.makeArray(t,[e]),d=g.event.special[v]||{},i||!d.trigger||!1!==d.trigger.apply(r,t))){if(!i&&!d.noBubble&&!g.isWindow(r)){for(l=d.delegateType||v,Z.test(l+v)||(o=o.parentNode);o;o=o.parentNode)h.push(o),s=o;s===(r.ownerDocument||f)&&h.push(s.defaultView||s.parentWindow||n)}for(a=0;(o=h[a++])&&!e.isPropagationStopped();)e.type=a>1?l:d.bindType||v,(u=(_.get(o,"events")||{})[e.type]&&_.get(o,"handle"))&&u.apply(o,t),(u=c&&o[c])&&u.apply&&g.acceptData(o)&&(e.result=u.apply(o,t),!1===e.result&&e.preventDefault());return e.type=v,i||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(h.pop(),t)||!g.acceptData(r)||c&&g.isFunction(r[v])&&!g.isWindow(r)&&((s=r[c])&&(r[c]=null),g.event.triggered=v,r[v](),g.event.triggered=void 0,s&&(r[c]=s)),e.result}},dispatch:function(e){e=g.event.fix(e);var t,n,r,i,a,s,l=o.call(arguments),c=(_.get(this,"events")||{})[e.type]||[],u=g.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,e)){for(s=g.event.handlers.call(this,e,c),t=0;(i=s[t++])&&!e.isPropagationStopped();)for(e.currentTarget=i.elem,n=0;(a=i.handlers[n++])&&!e.isImmediatePropagationStopped();)e.namespace_re&&!e.namespace_re.test(a.namespace)||(e.handleObj=a,e.data=a.data,void 0!==(r=((g.event.special[a.origType]||{}).handle||a.handler).apply(i.elem,l))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,a,o=[],s=t.delegateCount,l=e.target;if(s&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!==this;l=l.parentNode||this)if(!0!==l.disabled||"click"!==e.type){for(r=[],n=0;n<s;n++)void 0===r[i=(a=t[n]).selector+" "]&&(r[i]=a.needsContext?g(i,this).index(l)>=0:g.find(i,this,null,[l]).length),r[i]&&r.push(a);r.length&&o.push({elem:l,handlers:r})}return s<t.length&&o.push({elem:this,handlers:t.slice(s)}),o},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,r,i,a=t.button;return null==e.pageX&&null!=t.clientX&&(r=(n=e.target.ownerDocument||f).documentElement,i=n.body,e.pageX=t.clientX+(r&&r.scrollLeft||i&&i.scrollLeft||0)-(r&&r.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(r&&r.scrollTop||i&&i.scrollTop||0)-(r&&r.clientTop||i&&i.clientTop||0)),e.which||void 0===a||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[g.expando])return e;var t,n,r,i=e.type,a=e,o=this.fixHooks[i];for(o||(this.fixHooks[i]=o=q.test(i)?this.mouseHooks:K.test(i)?this.keyHooks:{}),r=o.props?this.props.concat(o.props):this.props,e=new g.Event(a),t=r.length;t--;)e[n=r[t]]=a[n];return e.target||(e.target=f),3===e.target.nodeType&&(e.target=e.target.parentNode),o.filter?o.filter(e,a):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ee()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ee()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&g.nodeName(this,"input"))return this.click(),!1},_default:function(e){return g.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,r){var i=g.extend(new g.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?g.event.trigger(i,null,t):g.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},g.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)},g.Event=function(e,t){if(!(this instanceof g.Event))return new g.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?J:$):this.type=e,t&&g.extend(this,t),this.timeStamp=e&&e.timeStamp||g.now(),this[g.expando]=!0},g.Event.prototype={isDefaultPrevented:$,isPropagationStopped:$,isImmediatePropagationStopped:$,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=J,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=J,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=J,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}},g.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){g.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||g.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),h.focusinBubbles||g.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){g.event.simulate(t,e.target,g.event.fix(e),!0)};g.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=_.access(r,t);i||r.addEventListener(e,n,!0),_.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=_.access(r,t)-1;i?_.access(r,t,i):(r.removeEventListener(e,n,!0),_.remove(r,t))}}}),g.fn.extend({on:function(e,t,n,r,i){var a,o;if("object"==typeof e){for(o in"string"!=typeof t&&(n=n||t,t=void 0),e)this.on(o,t,n,e[o],i);return this}if(null==n&&null==r?(r=t,n=t=void 0):null==r&&("string"==typeof t?(r=n,n=void 0):(r=n,n=t,t=void 0)),!1===r)r=$;else if(!r)return this;return 1===i&&(a=r,(r=function(e){return g().off(e),a.apply(this,arguments)}).guid=a.guid||(a.guid=g.guid++)),this.each(function(){g.event.add(this,e,r,n,t)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,g(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=$),this.each(function(){g.event.remove(this,e,n,t)})},trigger:function(e,t){return this.each(function(){g.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return g.event.trigger(e,t,n,!0)}});var te=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,ne=/<([\w:]+)/,re=/<|&#?\w+;/,ie=/<(?:script|style|link)/i,ae=/checked\s*(?:[^=]|=\s*.checked.)/i,oe=/^$|\/(?:java|ecma)script/i,se=/^true\/(.*)/,le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,ce={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ue(e,t){return g.nodeName(e,"table")&&g.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function de(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function pe(e){var t=se.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function he(e,t){for(var n=0,r=e.length;n<r;n++)_.set(e[n],"globalEval",!t||_.get(t[n],"globalEval"))}function fe(e,t){var n,r,i,a,o,s,l,c;if(1===t.nodeType){if(_.hasData(e)&&(a=_.access(e),o=_.set(t,a),c=a.events))for(i in delete o.handle,o.events={},c)for(n=0,r=c[i].length;n<r;n++)g.event.add(t,i,c[i][n]);U.hasData(e)&&(s=U.access(e),l=g.extend({},s),U.set(t,l))}}function ge(e,t){var n=e.getElementsByTagName?e.getElementsByTagName(t||"*"):e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&g.nodeName(e,t)?g.merge([e],n):n}ce.optgroup=ce.option,ce.tbody=ce.tfoot=ce.colgroup=ce.caption=ce.thead,ce.th=ce.td,g.extend({clone:function(e,t,n){var r,i,a,o,s,l,c,u=e.cloneNode(!0),d=g.contains(e.ownerDocument,e);if(!(h.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||g.isXMLDoc(e)))for(o=ge(u),r=0,i=(a=ge(e)).length;r<i;r++)s=a[r],l=o[r],c=void 0,"input"===(c=l.nodeName.toLowerCase())&&Y.test(s.type)?l.checked=s.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=s.defaultValue);if(t)if(n)for(a=a||ge(e),o=o||ge(u),r=0,i=a.length;r<i;r++)fe(a[r],o[r]);else fe(e,u);return(o=ge(u,"script")).length>0&&he(o,!d&&ge(e,"script")),u},buildFragment:function(e,t,n,r){for(var i,a,o,s,l,c,u=t.createDocumentFragment(),d=[],p=0,h=e.length;p<h;p++)if((i=e[p])||0===i)if("object"===g.type(i))g.merge(d,i.nodeType?[i]:i);else if(re.test(i)){for(a=a||u.appendChild(t.createElement("div")),o=(ne.exec(i)||["",""])[1].toLowerCase(),s=ce[o]||ce._default,a.innerHTML=s[1]+i.replace(te,"<$1></$2>")+s[2],c=s[0];c--;)a=a.lastChild;g.merge(d,a.childNodes),(a=u.firstChild).textContent=""}else d.push(t.createTextNode(i));for(u.textContent="",p=0;i=d[p++];)if((!r||-1===g.inArray(i,r))&&(l=g.contains(i.ownerDocument,i),a=ge(u.appendChild(i),"script"),l&&he(a),n))for(c=0;i=a[c++];)oe.test(i.type||"")&&n.push(i);return u},cleanData:function(e){for(var t,n,r,i,a=g.event.special,o=0;void 0!==(n=e[o]);o++){if(g.acceptData(n)&&(i=n[_.expando])&&(t=_.cache[i])){if(t.events)for(r in t.events)a[r]?g.event.remove(n,r):g.removeEvent(n,r,t.handle);_.cache[i]&&delete _.cache[i]}delete U.cache[n[U.expando]]}}}),g.fn.extend({text:function(e){return L(this,function(e){return void 0===e?g.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||ue(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=ue(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,r=e?g.filter(e,this):this,i=0;null!=(n=r[i]);i++)t||1!==n.nodeType||g.cleanData(ge(n)),n.parentNode&&(t&&g.contains(n.ownerDocument,n)&&he(ge(n,"script")),n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(g.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return g.clone(this,e,t)})},html:function(e){return L(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ie.test(e)&&!ce[(ne.exec(e)||["",""])[1].toLowerCase()]){e=e.replace(te,"<$1></$2>");try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(g.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=arguments[0];return this.domManip(arguments,function(t){e=this.parentNode,g.cleanData(ge(this)),e&&e.replaceChild(t,this)}),e&&(e.length||e.nodeType)?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t){e=s.apply([],e);var n,r,i,a,o,l,c=0,u=this.length,d=this,p=u-1,f=e[0],v=g.isFunction(f);if(v||u>1&&"string"==typeof f&&!h.checkClone&&ae.test(f))return this.each(function(n){var r=d.eq(n);v&&(e[0]=f.call(this,n,r.html())),r.domManip(e,t)});if(u&&(r=(n=g.buildFragment(e,this[0].ownerDocument,!1,this)).firstChild,1===n.childNodes.length&&(n=r),r)){for(a=(i=g.map(ge(n,"script"),de)).length;c<u;c++)o=n,c!==p&&(o=g.clone(o,!0,!0),a&&g.merge(i,ge(o,"script"))),t.call(this[c],o,c);if(a)for(l=i[i.length-1].ownerDocument,g.map(i,pe),c=0;c<a;c++)o=i[c],oe.test(o.type||"")&&!_.access(o,"globalEval")&&g.contains(l,o)&&(o.src?g._evalUrl&&g._evalUrl(o.src):g.globalEval(o.textContent.replace(le,"")))}return this}}),g.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){g.fn[e]=function(e){for(var n,r=[],i=g(e),a=i.length-1,o=0;o<=a;o++)n=o===a?this:this.clone(!0),g(i[o])[t](n),l.apply(r,n.get());return this.pushStack(r)}});var ve,me={};function ye(e,t){var r,i=g(t.createElement(e)).appendTo(t.body),a=n.getDefaultComputedStyle&&(r=n.getDefaultComputedStyle(i[0]))?r.display:g.css(i[0],"display");return i.detach(),a}function be(e){var t=f,n=me[e];return n||("none"!==(n=ye(e,t))&&n||((t=(ve=(ve||g("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=ye(e,t),ve.detach()),me[e]=n),n}var Se=/^margin/,Ie=new RegExp("^("+Q+")(?!px)[a-z%]+$","i"),Ce=function(e){return e.ownerDocument.defaultView.opener?e.ownerDocument.defaultView.getComputedStyle(e,null):n.getComputedStyle(e,null)};function Me(e,t,n){var r,i,a,o,s=e.style;return(n=n||Ce(e))&&(o=n.getPropertyValue(t)||n[t]),n&&(""!==o||g.contains(e.ownerDocument,e)||(o=g.style(e,t)),Ie.test(o)&&Se.test(t)&&(r=s.width,i=s.minWidth,a=s.maxWidth,s.minWidth=s.maxWidth=s.width=o,o=n.width,s.width=r,s.minWidth=i,s.maxWidth=a)),void 0!==o?o+"":o}function De(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var e,t,r=f.documentElement,i=f.createElement("div"),a=f.createElement("div");function o(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",a.innerHTML="",r.appendChild(i);var o=n.getComputedStyle(a,null);e="1%"!==o.top,t="4px"===o.width,r.removeChild(i)}a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",h.clearCloneStyle="content-box"===a.style.backgroundClip,i.style.cssText="border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",i.appendChild(a),n.getComputedStyle&&g.extend(h,{pixelPosition:function(){return o(),e},boxSizingReliable:function(){return null==t&&o(),t},reliableMarginRight:function(){var e,t=a.appendChild(f.createElement("div"));return t.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",t.style.marginRight=t.style.width="0",a.style.width="1px",r.appendChild(i),e=!parseFloat(n.getComputedStyle(t,null).marginRight),r.removeChild(i),a.removeChild(t),e}}))}(),g.swap=function(e,t,n,r){var i,a,o={};for(a in t)o[a]=e.style[a],e.style[a]=t[a];for(a in i=n.apply(e,r||[]),t)e.style[a]=o[a];return i};var we=/^(none|table(?!-c[ea]).+)/,Pe=new RegExp("^("+Q+")(.*)$","i"),Te=new RegExp("^([+-])=("+Q+")","i"),Ee={position:"absolute",visibility:"hidden",display:"block"},xe={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"];function je(e,t){if(t in e)return t;for(var n=t[0].toUpperCase()+t.slice(1),r=t,i=Oe.length;i--;)if((t=Oe[i]+n)in e)return t;return r}function Ae(e,t,n){var r=Pe.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||"px"):t}function Ne(e,t,n,r,i){for(var a=n===(r?"border":"content")?4:"width"===t?1:0,o=0;a<4;a+=2)"margin"===n&&(o+=g.css(e,n+W[a],!0,i)),r?("content"===n&&(o-=g.css(e,"padding"+W[a],!0,i)),"margin"!==n&&(o-=g.css(e,"border"+W[a]+"Width",!0,i))):(o+=g.css(e,"padding"+W[a],!0,i),"padding"!==n&&(o+=g.css(e,"border"+W[a]+"Width",!0,i)));return o}function ke(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=Ce(e),o="border-box"===g.css(e,"boxSizing",!1,a);if(i<=0||null==i){if(((i=Me(e,t,a))<0||null==i)&&(i=e.style[t]),Ie.test(i))return i;r=o&&(h.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Ne(e,t,n||(o?"border":"content"),r,a)+"px"}function Le(e,t){for(var n,r,i,a=[],o=0,s=e.length;o<s;o++)(r=e[o]).style&&(a[o]=_.get(r,"olddisplay"),n=r.style.display,t?(a[o]||"none"!==n||(r.style.display=""),""===r.style.display&&G(r)&&(a[o]=_.access(r,"olddisplay",be(r.nodeName)))):(i=G(r),"none"===n&&i||_.set(r,"olddisplay",i?n:g.css(r,"display"))));for(o=0;o<s;o++)(r=e[o]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?a[o]||"":"none"));return e}function Re(e,t,n,r,i){return new Re.prototype.init(e,t,n,r,i)}g.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Me(e,"opacity");return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,a,o,s=g.camelCase(t),l=e.style;if(t=g.cssProps[s]||(g.cssProps[s]=je(l,s)),o=g.cssHooks[t]||g.cssHooks[s],void 0===n)return o&&"get"in o&&void 0!==(i=o.get(e,!1,r))?i:l[t];"string"===(a=typeof n)&&(i=Te.exec(n))&&(n=(i[1]+1)*i[2]+parseFloat(g.css(e,t)),a="number"),null!=n&&n==n&&("number"!==a||g.cssNumber[s]||(n+="px"),h.clearCloneStyle||""!==n||0!==t.indexOf("background")||(l[t]="inherit"),o&&"set"in o&&void 0===(n=o.set(e,n,r))||(l[t]=n))}},css:function(e,t,n,r){var i,a,o,s=g.camelCase(t);return t=g.cssProps[s]||(g.cssProps[s]=je(e.style,s)),(o=g.cssHooks[t]||g.cssHooks[s])&&"get"in o&&(i=o.get(e,!0,n)),void 0===i&&(i=Me(e,t,r)),"normal"===i&&t in xe&&(i=xe[t]),""===n||n?(a=parseFloat(i),!0===n||g.isNumeric(a)?a||0:i):i}}),g.each(["height","width"],function(e,t){g.cssHooks[t]={get:function(e,n,r){if(n)return we.test(g.css(e,"display"))&&0===e.offsetWidth?g.swap(e,Ee,function(){return ke(e,t,r)}):ke(e,t,r)},set:function(e,n,r){var i=r&&Ce(e);return Ae(0,n,r?Ne(e,t,r,"border-box"===g.css(e,"boxSizing",!1,i),i):0)}}}),g.cssHooks.marginRight=De(h.reliableMarginRight,function(e,t){if(t)return g.swap(e,{display:"inline-block"},Me,[e,"marginRight"])}),g.each({margin:"",padding:"",border:"Width"},function(e,t){g.cssHooks[e+t]={expand:function(n){for(var r=0,i={},a="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+W[r]+t]=a[r]||a[r-2]||a[0];return i}},Se.test(e)||(g.cssHooks[e+t].set=Ae)}),g.fn.extend({css:function(e,t){return L(this,function(e,t,n){var r,i,a={},o=0;if(g.isArray(t)){for(r=Ce(e),i=t.length;o<i;o++)a[t[o]]=g.css(e,t[o],!1,r);return a}return void 0!==n?g.style(e,t,n):g.css(e,t)},e,t,arguments.length>1)},show:function(){return Le(this,!0)},hide:function(){return Le(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){G(this)?g(this).show():g(this).hide()})}}),g.Tween=Re,Re.prototype={constructor:Re,init:function(e,t,n,r,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=a||(g.cssNumber[n]?"":"px")},cur:function(){var e=Re.propHooks[this.prop];return e&&e.get?e.get(this):Re.propHooks._default.get(this)},run:function(e){var t,n=Re.propHooks[this.prop];return this.options.duration?this.pos=t=g.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Re.propHooks._default.set(this),this}},Re.prototype.init.prototype=Re.prototype,Re.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=g.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){g.fx.step[e.prop]?g.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[g.cssProps[e.prop]]||g.cssHooks[e.prop])?g.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Re.propHooks.scrollTop=Re.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},g.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},g.fx=Re.prototype.init,g.fx.step={};var _e,Ue,ze=/^(?:toggle|show|hide)$/,Fe=new RegExp("^(?:([+-])=|)("+Q+")([a-z%]*)$","i"),Be=/queueHooks$/,He=[function(e,t,n){var r,i,a,o,s,l,c,u=this,d={},p=e.style,h=e.nodeType&&G(e),f=_.get(e,"fxshow");n.queue||(null==(s=g._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,u.always(function(){u.always(function(){s.unqueued--,g.queue(e,"fx").length||s.empty.fire()})}));1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],c=g.css(e,"display"),"inline"===("none"===c?_.get(e,"olddisplay")||be(e.nodeName):c)&&"none"===g.css(e,"float")&&(p.display="inline-block"));n.overflow&&(p.overflow="hidden",u.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t)if(i=t[r],ze.exec(i)){if(delete t[r],a=a||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!f||void 0===f[r])continue;h=!0}d[r]=f&&f[r]||g.style(e,r)}else c=void 0;if(g.isEmptyObject(d))"inline"===("none"===c?be(e.nodeName):c)&&(p.display=c);else for(r in f?"hidden"in f&&(h=f.hidden):f=_.access(e,"fxshow",{}),a&&(f.hidden=!h),h?g(e).show():u.done(function(){g(e).hide()}),u.done(function(){var t;for(t in _.remove(e,"fxshow"),d)g.style(e,t,d[t])}),d)o=Ge(h?f[r]:0,r,u),r in f||(f[r]=o.start,h&&(o.end=o.start,o.start="width"===r||"height"===r?1:0))}],Ve={"*":[function(e,t){var n=this.createTween(e,t),r=n.cur(),i=Fe.exec(t),a=i&&i[3]||(g.cssNumber[e]?"":"px"),o=(g.cssNumber[e]||"px"!==a&&+r)&&Fe.exec(g.css(n.elem,e)),s=1,l=20;if(o&&o[3]!==a){a=a||o[3],i=i||[],o=+r||1;do{o/=s=s||".5",g.style(n.elem,e,o+a)}while(s!==(s=n.cur()/r)&&1!==s&&--l)}return i&&(o=n.start=+o||+r||0,n.unit=a,n.end=i[1]?o+(i[1]+1)*i[2]:+i[2]),n}]};function Qe(){return setTimeout(function(){_e=void 0}),_e=g.now()}function We(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=W[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ge(e,t,n){for(var r,i=(Ve[t]||[]).concat(Ve["*"]),a=0,o=i.length;a<o;a++)if(r=i[a].call(n,t,e))return r}function Ye(e,t,n){var r,i,a=0,o=He.length,s=g.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1;for(var t=_e||Qe(),n=Math.max(0,c.startTime+c.duration-t),r=1-(n/c.duration||0),a=0,o=c.tweens.length;a<o;a++)c.tweens[a].run(r);return s.notifyWith(e,[c,r,n]),r<1&&o?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:g.extend({},t),opts:g.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:_e||Qe(),duration:n.duration,tweens:[],createTween:function(t,n){var r=g.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(r),r},stop:function(t){var n=0,r=t?c.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)c.tweens[n].run(1);return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,r,i,a,o;for(n in e)if(i=t[r=g.camelCase(n)],a=e[n],g.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==r&&(e[r]=a,delete e[n]),(o=g.cssHooks[r])&&"expand"in o)for(n in a=o.expand(a),delete e[r],a)n in e||(e[n]=a[n],t[n]=i);else t[r]=i}(u,c.opts.specialEasing);a<o;a++)if(r=He[a].call(c,e,u,c.opts))return r;return g.map(u,Ge,c),g.isFunction(c.opts.start)&&c.opts.start.call(e,c),g.fx.timer(g.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}g.Animation=g.extend(Ye,{tweener:function(e,t){g.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ve[n]=Ve[n]||[],Ve[n].unshift(t)},prefilter:function(e,t){t?He.unshift(e):He.push(e)}}),g.speed=function(e,t,n){var r=e&&"object"==typeof e?g.extend({},e):{complete:n||!n&&t||g.isFunction(e)&&e,duration:e,easing:n&&t||t&&!g.isFunction(t)&&t};return r.duration=g.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in g.fx.speeds?g.fx.speeds[r.duration]:g.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){g.isFunction(r.old)&&r.old.call(this),r.queue&&g.dequeue(this,r.queue)},r},g.fn.extend({fadeTo:function(e,t,n,r){return this.filter(G).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=g.isEmptyObject(e),a=g.speed(t,n,r),o=function(){var t=Ye(this,g.extend({},e),a);(i||_.get(this,"finish"))&&t.stop(!0)};return o.finish=o,i||!1===a.queue?this.each(o):this.queue(a.queue,o)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",a=g.timers,o=_.get(this);if(i)o[i]&&o[i].stop&&r(o[i]);else for(i in o)o[i]&&o[i].stop&&Be.test(i)&&r(o[i]);for(i=a.length;i--;)a[i].elem!==this||null!=e&&a[i].queue!==e||(a[i].anim.stop(n),t=!1,a.splice(i,1));!t&&n||g.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=_.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],a=g.timers,o=r?r.length:0;for(n.finish=!0,g.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1));for(t=0;t<o;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),g.each(["toggle","show","hide"],function(e,t){var n=g.fn[t];g.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(We(t,!0),e,r,i)}}),g.each({slideDown:We("show"),slideUp:We("hide"),slideToggle:We("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){g.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),g.timers=[],g.fx.tick=function(){var e,t=0,n=g.timers;for(_e=g.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||g.fx.stop(),_e=void 0},g.fx.timer=function(e){g.timers.push(e),e()?g.fx.start():g.timers.pop()},g.fx.interval=13,g.fx.start=function(){Ue||(Ue=setInterval(g.fx.tick,g.fx.interval))},g.fx.stop=function(){clearInterval(Ue),Ue=null},g.fx.speeds={slow:600,fast:200,_default:400},g.fn.delay=function(e,t){return e=g.fx&&g.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},function(){var e=f.createElement("input"),t=f.createElement("select"),n=t.appendChild(f.createElement("option"));e.type="checkbox",h.checkOn=""!==e.value,h.optSelected=n.selected,t.disabled=!0,h.optDisabled=!n.disabled,(e=f.createElement("input")).value="t",e.type="radio",h.radioValue="t"===e.value}();var Ke,qe=g.expr.attrHandle;g.fn.extend({attr:function(e,t){return L(this,g.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){g.removeAttr(this,e)})}}),g.extend({attr:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return void 0===e.getAttribute?g.prop(e,t,n):(1===a&&g.isXMLDoc(e)||(t=t.toLowerCase(),r=g.attrHooks[t]||(g.expr.match.bool.test(t)?Ke:void 0)),void 0===n?r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=g.find.attr(e,t))?void 0:i:null!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):void g.removeAttr(e,t))},removeAttr:function(e,t){var n,r,i=0,a=t&&t.match(A);if(a&&1===e.nodeType)for(;n=a[i++];)r=g.propFix[n]||n,g.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)},attrHooks:{type:{set:function(e,t){if(!h.radioValue&&"radio"===t&&g.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}}}),Ke={set:function(e,t,n){return!1===t?g.removeAttr(e,n):e.setAttribute(n,n),n}},g.each(g.expr.match.bool.source.match(/\w+/g),function(e,t){var n=qe[t]||g.find.attr;qe[t]=function(e,t,r){var i,a;return r||(a=qe[t],qe[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,qe[t]=a),i}});var Ze=/^(?:input|select|textarea|button)$/i;g.fn.extend({prop:function(e,t){return L(this,g.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[g.propFix[e]||e]})}}),g.extend({propFix:{for:"htmlFor",class:"className"},prop:function(e,t,n){var r,i,a=e.nodeType;if(e&&3!==a&&8!==a&&2!==a)return(1!==a||!g.isXMLDoc(e))&&(t=g.propFix[t]||t,i=g.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){return e.hasAttribute("tabindex")||Ze.test(e.nodeName)||e.href?e.tabIndex:-1}}}}),h.optSelected||(g.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null}}),g.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){g.propFix[this.toLowerCase()]=this});var Xe=/[\t\r\n\f]/g;g.fn.extend({addClass:function(e){var t,n,r,i,a,o,s="string"==typeof e&&e,l=0,c=this.length;if(g.isFunction(e))return this.each(function(t){g(this).addClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(A)||[];l<c;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Xe," "):" ")){for(a=0;i=t[a++];)r.indexOf(" "+i+" ")<0&&(r+=i+" ");o=g.trim(r),n.className!==o&&(n.className=o)}return this},removeClass:function(e){var t,n,r,i,a,o,s=0===arguments.length||"string"==typeof e&&e,l=0,c=this.length;if(g.isFunction(e))return this.each(function(t){g(this).removeClass(e.call(this,t,this.className))});if(s)for(t=(e||"").match(A)||[];l<c;l++)if(r=1===(n=this[l]).nodeType&&(n.className?(" "+n.className+" ").replace(Xe," "):"")){for(a=0;i=t[a++];)for(;r.indexOf(" "+i+" ")>=0;)r=r.replace(" "+i+" "," ");o=e?g.trim(r):"",n.className!==o&&(n.className=o)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):g.isFunction(e)?this.each(function(n){g(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if("string"===n)for(var t,r=0,i=g(this),a=e.match(A)||[];t=a[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else"undefined"!==n&&"boolean"!==n||(this.className&&_.set(this,"__className__",this.className),this.className=this.className||!1===e?"":_.get(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,r=this.length;n<r;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Xe," ").indexOf(t)>=0)return!0;return!1}});var Je=/\r/g;g.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=g.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,g(this).val()):e)?i="":"number"==typeof i?i+="":g.isArray(i)&&(i=g.map(i,function(e){return null==e?"":e+""})),(t=g.valHooks[this.type]||g.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=g.valHooks[i.type]||g.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(Je,""):null==n?"":n:void 0}}),g.extend({valHooks:{option:{get:function(e){var t=g.find.attr(e,"value");return null!=t?t:g.trim(g.text(e))}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,a="select-one"===e.type||i<0,o=a?null:[],s=a?i+1:r.length,l=i<0?s:a?i:0;l<s;l++)if(((n=r[l]).selected||l===i)&&(h.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!g.nodeName(n.parentNode,"optgroup"))){if(t=g(n).val(),a)return t;o.push(t)}return o},set:function(e,t){for(var n,r,i=e.options,a=g.makeArray(t),o=i.length;o--;)((r=i[o]).selected=g.inArray(r.value,a)>=0)&&(n=!0);return n||(e.selectedIndex=-1),a}}}}),g.each(["radio","checkbox"],function(){g.valHooks[this]={set:function(e,t){if(g.isArray(t))return e.checked=g.inArray(g(e).val(),t)>=0}},h.checkOn||(g.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),g.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){g.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),g.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}});var $e=g.now(),et=/\?/;g.parseJSON=function(e){return JSON.parse(e+"")},g.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||g.error("Invalid XML: "+e),t};var tt=/#.*$/,nt=/([?&])_=[^&]*/,rt=/^(.*?):[ \t]*([^\r\n]*)$/gm,it=/^(?:GET|HEAD)$/,at=/^\/\//,ot=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,st={},lt={},ct="*/".concat("*"),ut=n.location.href,dt=ot.exec(ut.toLowerCase())||[];function pt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,a=t.toLowerCase().match(A)||[];if(g.isFunction(n))for(;r=a[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function ht(e,t,n,r){var i={},a=e===lt;function o(s){var l;return i[s]=!0,g.each(e[s]||[],function(e,s){var c=s(t,n,r);return"string"!=typeof c||a||i[c]?a?!(l=c):void 0:(t.dataTypes.unshift(c),o(c),!1)}),l}return o(t.dataTypes[0])||!i["*"]&&o("*")}function ft(e,t){var n,r,i=g.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&g.extend(!0,e,r),e}g.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ut,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(dt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ct,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":g.parseJSON,"text xml":g.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?ft(ft(e,g.ajaxSettings),t):ft(g.ajaxSettings,e)},ajaxPrefilter:pt(st),ajaxTransport:pt(lt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var n,r,i,a,o,s,l,c,u=g.ajaxSetup({},t),d=u.context||u,p=u.context&&(d.nodeType||d.jquery)?g(d):g.event,h=g.Deferred(),f=g.Callbacks("once memory"),v=u.statusCode||{},m={},y={},b=0,S="canceled",I={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!a)for(a={};t=rt.exec(i);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?i:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return b||(e=y[n]=y[n]||e,m[e]=t),this},overrideMimeType:function(e){return b||(u.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)v[t]=[v[t],e[t]];else I.always(e[I.status]);return this},abort:function(e){var t=e||S;return n&&n.abort(t),C(0,t),this}};if(h.promise(I).complete=f.add,I.success=I.done,I.error=I.fail,u.url=((e||u.url||ut)+"").replace(tt,"").replace(at,dt[1]+"//"),u.type=t.method||t.type||u.method||u.type,u.dataTypes=g.trim(u.dataType||"*").toLowerCase().match(A)||[""],null==u.crossDomain&&(s=ot.exec(u.url.toLowerCase()),u.crossDomain=!(!s||s[1]===dt[1]&&s[2]===dt[2]&&(s[3]||("http:"===s[1]?"80":"443"))===(dt[3]||("http:"===dt[1]?"80":"443")))),u.data&&u.processData&&"string"!=typeof u.data&&(u.data=g.param(u.data,u.traditional)),ht(st,u,t,I),2===b)return I;for(c in(l=g.event&&u.global)&&0==g.active++&&g.event.trigger("ajaxStart"),u.type=u.type.toUpperCase(),u.hasContent=!it.test(u.type),r=u.url,u.hasContent||(u.data&&(r=u.url+=(et.test(r)?"&":"?")+u.data,delete u.data),!1===u.cache&&(u.url=nt.test(r)?r.replace(nt,"$1_="+$e++):r+(et.test(r)?"&":"?")+"_="+$e++)),u.ifModified&&(g.lastModified[r]&&I.setRequestHeader("If-Modified-Since",g.lastModified[r]),g.etag[r]&&I.setRequestHeader("If-None-Match",g.etag[r])),(u.data&&u.hasContent&&!1!==u.contentType||t.contentType)&&I.setRequestHeader("Content-Type",u.contentType),I.setRequestHeader("Accept",u.dataTypes[0]&&u.accepts[u.dataTypes[0]]?u.accepts[u.dataTypes[0]]+("*"!==u.dataTypes[0]?", "+ct+"; q=0.01":""):u.accepts["*"]),u.headers)I.setRequestHeader(c,u.headers[c]);if(u.beforeSend&&(!1===u.beforeSend.call(d,I,u)||2===b))return I.abort();for(c in S="abort",{success:1,error:1,complete:1})I[c](u[c]);if(n=ht(lt,u,t,I)){I.readyState=1,l&&p.trigger("ajaxSend",[I,u]),u.async&&u.timeout>0&&(o=setTimeout(function(){I.abort("timeout")},u.timeout));try{b=1,n.send(m,C)}catch(e){if(!(b<2))throw e;C(-1,e)}}else C(-1,"No Transport");function C(e,t,a,s){var c,m,y,S,C,M=t;2!==b&&(b=2,o&&clearTimeout(o),n=void 0,i=s||"",I.readyState=e>0?4:0,c=e>=200&&e<300||304===e,a&&(S=function(e,t,n){for(var r,i,a,o,s=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in s)if(s[i]&&s[i].test(r)){l.unshift(i);break}if(l[0]in n)a=l[0];else{for(i in n){if(!l[0]||e.converters[i+" "+l[0]]){a=i;break}o||(o=i)}a=a||o}if(a)return a!==l[0]&&l.unshift(a),n[a]}(u,I,a)),S=function(e,t,n,r){var i,a,o,s,l,c={},u=e.dataTypes.slice();if(u[1])for(o in e.converters)c[o.toLowerCase()]=e.converters[o];for(a=u.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=u.shift())if("*"===a)a=l;else if("*"!==l&&l!==a){if(!(o=c[l+" "+a]||c["* "+a]))for(i in c)if((s=i.split(" "))[1]===a&&(o=c[l+" "+s[0]]||c["* "+s[0]])){!0===o?o=c[i]:!0!==c[i]&&(a=s[0],u.unshift(s[1]));break}if(!0!==o)if(o&&e.throws)t=o(t);else try{t=o(t)}catch(e){return{state:"parsererror",error:o?e:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}(u,S,I,c),c?(u.ifModified&&((C=I.getResponseHeader("Last-Modified"))&&(g.lastModified[r]=C),(C=I.getResponseHeader("etag"))&&(g.etag[r]=C)),204===e||"HEAD"===u.type?M="nocontent":304===e?M="notmodified":(M=S.state,m=S.data,c=!(y=S.error))):(y=M,!e&&M||(M="error",e<0&&(e=0))),I.status=e,I.statusText=(t||M)+"",c?h.resolveWith(d,[m,M,I]):h.rejectWith(d,[I,M,y]),I.statusCode(v),v=void 0,l&&p.trigger(c?"ajaxSuccess":"ajaxError",[I,u,c?m:y]),f.fireWith(d,[I,M]),l&&(p.trigger("ajaxComplete",[I,u]),--g.active||g.event.trigger("ajaxStop")))}return I},getJSON:function(e,t,n){return g.get(e,t,n,"json")},getScript:function(e,t){return g.get(e,void 0,t,"script")}}),g.each(["get","post"],function(e,t){g[t]=function(e,n,r,i){return g.isFunction(n)&&(i=i||r,r=n,n=void 0),g.ajax({url:e,type:t,dataType:i,data:n,success:r})}}),g._evalUrl=function(e){return g.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},g.fn.extend({wrapAll:function(e){var t;return g.isFunction(e)?this.each(function(t){g(this).wrapAll(e.call(this,t))}):(this[0]&&(t=g(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return g.isFunction(e)?this.each(function(t){g(this).wrapInner(e.call(this,t))}):this.each(function(){var t=g(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=g.isFunction(e);return this.each(function(n){g(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){g.nodeName(this,"body")||g(this).replaceWith(this.childNodes)}).end()}}),g.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0},g.expr.filters.visible=function(e){return!g.expr.filters.hidden(e)};var gt=/%20/g,vt=/\[\]$/,mt=/\r?\n/g,yt=/^(?:submit|button|image|reset|file)$/i,bt=/^(?:input|select|textarea|keygen)/i;function St(e,t,n,r){var i;if(g.isArray(t))g.each(t,function(t,i){n||vt.test(e)?r(e,i):St(e+"["+("object"==typeof i?t:"")+"]",i,n,r)});else if(n||"object"!==g.type(t))r(e,t);else for(i in t)St(e+"["+i+"]",t[i],n,r)}g.param=function(e,t){var n,r=[],i=function(e,t){t=g.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=g.ajaxSettings&&g.ajaxSettings.traditional),g.isArray(e)||e.jquery&&!g.isPlainObject(e))g.each(e,function(){i(this.name,this.value)});else for(n in e)St(n,e[n],t,i);return r.join("&").replace(gt,"+")},g.fn.extend({serialize:function(){return g.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=g.prop(this,"elements");return e?g.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!g(this).is(":disabled")&&bt.test(this.nodeName)&&!yt.test(e)&&(this.checked||!Y.test(e))}).map(function(e,t){var n=g(this).val();return null==n?null:g.isArray(n)?g.map(n,function(e){return{name:t.name,value:e.replace(mt,"\r\n")}}):{name:t.name,value:n.replace(mt,"\r\n")}}).get()}}),g.ajaxSettings.xhr=function(){try{return new XMLHttpRequest}catch(e){}};var It=0,Ct={},Mt={0:200,1223:204},Dt=g.ajaxSettings.xhr();n.attachEvent&&n.attachEvent("onunload",function(){for(var e in Ct)Ct[e]()}),h.cors=!!Dt&&"withCredentials"in Dt,h.ajax=Dt=!!Dt,g.ajaxTransport(function(e){var t;if(h.cors||Dt&&!e.crossDomain)return{send:function(n,r){var i,a=e.xhr(),o=++It;if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(i in e.xhrFields)a[i]=e.xhrFields[i];for(i in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||n["X-Requested-With"]||(n["X-Requested-With"]="XMLHttpRequest"),n)a.setRequestHeader(i,n[i]);t=function(e){return function(){t&&(delete Ct[o],t=a.onload=a.onerror=null,"abort"===e?a.abort():"error"===e?r(a.status,a.statusText):r(Mt[a.status]||a.status,a.statusText,"string"==typeof a.responseText?{text:a.responseText}:void 0,a.getAllResponseHeaders()))}},a.onload=t(),a.onerror=t("error"),t=Ct[o]=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),g.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return g.globalEval(e),e}}}),g.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),g.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(r,i){t=g("<script>").prop({async:!0,charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&i("error"===e.type?404:200,e.type)}),f.head.appendChild(t[0])},abort:function(){n&&n()}}});var wt=[],Pt=/(=)\?(?=&|$)|\?\?/;g.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=wt.pop()||g.expando+"_"+$e++;return this[e]=!0,e}}),g.ajaxPrefilter("json jsonp",function(e,t,r){var i,a,o,s=!1!==e.jsonp&&(Pt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Pt.test(e.data)&&"data");if(s||"jsonp"===e.dataTypes[0])return i=e.jsonpCallback=g.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,s?e[s]=e[s].replace(Pt,"$1"+i):!1!==e.jsonp&&(e.url+=(et.test(e.url)?"&":"?")+e.jsonp+"="+i),e.converters["script json"]=function(){return o||g.error(i+" was not called"),o[0]},e.dataTypes[0]="json",a=n[i],n[i]=function(){o=arguments},r.always(function(){n[i]=a,e[i]&&(e.jsonpCallback=t.jsonpCallback,wt.push(i)),o&&g.isFunction(a)&&a(o[0]),o=a=void 0}),"script"}),g.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||f;var r=M.exec(e),i=!n&&[];return r?[t.createElement(r[1])]:(r=g.buildFragment([e],t,i),i&&i.length&&g(i).remove(),g.merge([],r.childNodes))};var Tt=g.fn.load;g.fn.load=function(e,t,n){if("string"!=typeof e&&Tt)return Tt.apply(this,arguments);var r,i,a,o=this,s=e.indexOf(" ");return s>=0&&(r=g.trim(e.slice(s)),e=e.slice(0,s)),g.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),o.length>0&&g.ajax({url:e,type:i,dataType:"html",data:t}).done(function(e){a=arguments,o.html(r?g("<div>").append(g.parseHTML(e)).find(r):e)}).complete(n&&function(e,t){o.each(n,a||[e.responseText,t,e])}),this},g.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){g.fn[t]=function(e){return this.on(t,e)}}),g.expr.filters.animated=function(e){return g.grep(g.timers,function(t){return e===t.elem}).length};var Et=n.document.documentElement;function xt(e){return g.isWindow(e)?e:9===e.nodeType&&e.defaultView}g.offset={setOffset:function(e,t,n){var r,i,a,o,s,l,c=g.css(e,"position"),u=g(e),d={};"static"===c&&(e.style.position="relative"),s=u.offset(),a=g.css(e,"top"),l=g.css(e,"left"),("absolute"===c||"fixed"===c)&&(a+l).indexOf("auto")>-1?(o=(r=u.position()).top,i=r.left):(o=parseFloat(a)||0,i=parseFloat(l)||0),g.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+o),null!=t.left&&(d.left=t.left-s.left+i),"using"in t?t.using.call(e,d):u.css(d)}},g.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){g.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},a=r&&r.ownerDocument;return a?(t=a.documentElement,g.contains(t,r)?(void 0!==r.getBoundingClientRect&&(i=r.getBoundingClientRect()),n=xt(a),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===g.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),g.nodeName(e[0],"html")||(r=e.offset()),r.top+=g.css(e[0],"borderTopWidth",!0),r.left+=g.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-g.css(n,"marginTop",!0),left:t.left-r.left-g.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Et;e&&!g.nodeName(e,"html")&&"static"===g.css(e,"position");)e=e.offsetParent;return e||Et})}}),g.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var r="pageYOffset"===t;g.fn[e]=function(i){return L(this,function(e,i,a){var o=xt(e);if(void 0===a)return o?o[t]:e[i];o?o.scrollTo(r?n.pageXOffset:a,r?a:n.pageYOffset):e[i]=a},e,i,arguments.length,null)}}),g.each(["top","left"],function(e,t){g.cssHooks[t]=De(h.pixelPosition,function(e,n){if(n)return n=Me(e,t),Ie.test(n)?g(e).position()[t]+"px":n})}),g.each({Height:"height",Width:"width"},function(e,t){g.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){g.fn[r]=function(r,i){var a=arguments.length&&(n||"boolean"!=typeof r),o=n||(!0===r||!0===i?"margin":"border");return L(this,function(t,n,r){var i;return g.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?g.css(t,n,o):g.style(t,n,r,o)},t,a?r:void 0,a,null)}})}),g.fn.size=function(){return this.length},g.fn.andSelf=g.fn.addBack,void 0===(r=function(){return g}.apply(t,[]))||(e.exports=r);var Ot=n.jQuery,jt=n.$;return g.noConflict=function(e){return n.$===g&&(n.$=jt),e&&n.jQuery===g&&(n.jQuery=Ot),g},void 0===i&&(n.jQuery=n.$=g),g},"object"==typeof e.exports?e.exports=i.document?a(i,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return a(e)}:a(i)},function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n.apply(this,arguments)}e.exports=n},function(e,t){e.exports=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d});var r=n(8),i=n.n(r),a=(n(5),n(28),{}),o={};function s(e,t,n){a[e]=function(e,t){if(!t)return e;var n={};return t.forEach(function(t){n[t]=function(){return e[t].apply(e,arguments)}}),n}(t,n);var r=o[e];r&&(delete o[e],r.resolve(a[e]))}function l(e){for(var t in e){var n=e[t],r=void 0,i=void 0;Array.isArray(n)?(r=n[0],i=n[1]):r=n,s(t,r,i)}}function c(e){return u(e)?i.a.Deferred().resolve(a[e]).promise():(o[e]||(o[e]=i.a.Deferred()),o[e].promise())}function u(e){return a.hasOwnProperty(e)}function d(e){return a[e]}},function(e,t,n){"use strict";n.d(t,"g",function(){return o}),n.d(t,"l",function(){return s}),n.d(t,"k",function(){return l}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"m",function(){return p}),n.d(t,"c",function(){return h}),n.d(t,"h",function(){return f}),n.d(t,"i",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"d",function(){return m}),n.d(t,"f",function(){return y}),n.d(t,"n",function(){return S}),n.d(t,"r",function(){return I}),n.d(t,"o",function(){return C}),n.d(t,"p",function(){return M}),n.d(t,"q",function(){return D}),n.d(t,"t",function(){return w}),n.d(t,"s",function(){return P}),n.d(t,"v",function(){return T}),n.d(t,"u",function(){return E});var r=n(2),i=n(69),a=n(31),o="movie",s="show",l="season",c="episode",u="artist",d="album",p="track",h="clip",f="photo",g="photoalbum",v="playlist",m="collection",y="folder",b=Object(i.a)(["id","typeString"],[{id:1,typeString:o,title:function(){return Object(r.default)("Movie")},plural:function(){return Object(r.default)("Movies")},mediaType:a.d},{id:2,typeString:s,title:function(){return Object(r.default)("Show")},plural:function(){return Object(r.default)("Shows")},mediaType:a.b,child:l},{id:3,typeString:l,title:function(){return Object(r.default)("Season")},plural:function(){return Object(r.default)("Seasons")},mediaType:a.b,parent:s,child:c},{id:4,typeString:c,title:function(){return Object(r.default)("Episode")},plural:function(){return Object(r.default)("Episodes")},mediaType:a.d,parent:l},{id:5,typeString:"trailer",title:function(){return Object(r.default)("Trailer")},plural:function(){return Object(r.default)("Trailers")},mediaType:a.d},{id:6,typeString:"comic",title:function(){return Object(r.default)("Comic")},plural:function(){return Object(r.default)("Comics")},mediaType:a.c},{id:7,typeString:"person",title:function(){return Object(r.default)("Person")},plural:function(){return Object(r.default)("People")},mediaType:a.b},{id:8,typeString:u,title:function(){return Object(r.default)("Artist")},plural:function(){return Object(r.default)("Artists")},mediaType:a.b,child:d},{id:9,typeString:d,title:function(){return Object(r.default)("Album")},plural:function(){return Object(r.default)("Albums")},mediaType:a.b,parent:u,child:p},{id:10,typeString:p,title:function(){return Object(r.default)("Track")},plural:function(){return Object(r.default)("Tracks")},mediaType:a.a,parent:d},{id:11,typeString:"picture",title:function(){return Object(r.default)("Picture")},plural:function(){return Object(r.default)("Pictures")},mediaType:a.c},{id:12,typeString:h,title:function(){return Object(r.default)("Clip")},plural:function(){return Object(r.default)("Clips")},mediaType:a.d},{id:13,typeString:f,title:function(){return Object(r.default)("Photo")},plural:function(){return Object(r.default)("Photos")},mediaType:a.c,parent:g},{id:14,typeString:g,title:function(){return Object(r.default)("Photo Album")},plural:function(){return Object(r.default)("Photo Albums")},mediaType:a.b,child:f},{id:15,typeString:v,title:function(){return Object(r.default)("Playlist")},plural:function(){return Object(r.default)("Playlists")},mediaType:a.b,parent:g},{id:16,typeString:"playlistFolder",title:function(){return Object(r.default)("Playlist")},plural:function(){return Object(r.default)("Playlists")},mediaType:a.b,child:v},{id:18,typeString:m,title:function(){return Object(r.default)("Collection")},plural:function(){return Object(r.default)("Collections")},mediaType:a.b}]),S=b.contains,I=b.get,C=b.getAll;function M(e){var t=b.get(e);if(t&&t.child)return b.get(t.child)}function D(e){var t=b.get(e);if(t){var n=t.child;return null==n?t:D(n)}}function w(e){var t=b.get(e);if(t){var n=t.parent;return null==n?t:w(n)}}function P(e,t){if(!t){var n=w(e);return n?P(n.id,[]):[]}var r=b.get(e),i=M(e),a=[].concat(t,[r]);return i?P(i.id,a):a}function T(e){return!!M(e)}function E(e){var t=b.get(e);return!!t&&t.mediaType===a.b}},function(e,t,n){"use strict";var r=n(43),i=n(50),a=r.a.extend({mixins:i.a});t.a=new a},function(e,t,n){var r=n(5),i=n(2).default,a=n(22);e.exports=function(){var e=r.initial(arguments).concat({escape:!0}),t=r.last(arguments).hash;return r.isObject(t)&&!r.isEmpty(t)&&e.splice(1,0,t),new a.SafeString(i.apply(i,e))}},function(e,t,n){"use strict";n.r(t),n.d(t,"getLastSegment",function(){return u}),n.d(t,"stringifyParams",function(){return d}),n.d(t,"parseParams",function(){return p}),n.d(t,"parseUri",function(){return h}),n.d(t,"parseUrl",function(){return f}),n.d(t,"join",function(){return g});var r=n(249),i=n.n(r),a=n(5),o=n.n(a),s=n(752);n(28);var l=/^([^?#]*)(?:\?([^#]*))?(#.*)?/,c=/([^?]*)\??(.*)()/;function u(e){return e?o.a.first(/[^/\\]+$/.exec(e))||e:""}function d(e,t){return i.a.stringify(e,Object.assign({arrayFormat:"repeat"},t))}function p(e,t){return i.a.parse(e,t)}function h(e){var t=s.parse(e),n=t.scheme?t.scheme+":":"",r=t.port?String(t.port):"",i=t.host?r&&t.host+":"+r||t.host:"",a=t.host||"",o=t.fragment?"#"+t.fragment:"",l=e,c=n&&i?n+"//"+i:"",u=t.path||"",d=t.query?"?"+t.query:"",h=t.query?p(t.query):{};return{isAbsolute:/^[\w:]*\/\//.test(e),hash:o,host:i,hostname:a,href:l,origin:c,params:h,pathname:u,port:r,protocol:n,search:d}}function f(e){var t=Object.assign({},h(e)),n=/file/.test(t.protocol);return t.protocol||(t.protocol=window.location.protocol),n||(t.host||(t.host=window.location.host),t.hostname||(t.hostname=window.location.hostname),t.port||(t.port=window.location.port)),t.origin||(t.origin=n?t.protocol+"//":t.protocol+"//"+t.host),t}function g(e,t,n){o.a.isString(e)&&(e=[e]),e=e.filter(function(e){return e});var r,i=n&&n.recognizeHash?l:c,a=e.reduce(function(e,t){var n=function(e){return String(e).replace(/^\/|\/$/g,"")}(t).match(i),r=n[1],a=n[2],o=n[3];return r&&(e.path=e.path?e.path+"/"+r:r),a&&(e.params=e.params?e.params+"&"+a:a),o&&(e.hash=o),e},{path:"",params:"",hash:""});if(n&&n.parseParams)r=d(Object.assign(p(a.params),o.a.isString(t)?p(t):t));else{var s=o.a.isString(t)?t:d(t);r=a.params+(a.params&&s?"&":"")+s}return(e.length&&"/"===e[0].charAt(0)?"/":"")+a.path+(r?"?"+r:"")+a.hash}},function(e,t,n){"use strict";var r=n(35),i=n(8),a=n.n(i),o=n(5),s=n.n(o),l=n(13),c=n(28),u=n(17),d=n(15),p=n(11),h=n(208),f=n(3),g=n(26),v=n(37),m=n(296),y=(n(91),n(36)),b=n(20),S=/^change:([\w]+)$/,I=function(e){return Array.isArray(e)?e[0]:e},C=r.c.Model.extend({mixins:[h.a],name:"AbstractModel",responseType:v.a.xml,hasInitialRelations:!1,_context:["parent","skipCache"],cache:null,cacheKey:function(e){return e[this.idAttribute]},constructor:function(e,t){var n,i=this;if(e||(e={}),t||(t={}),this.initialize!==r.c.Model.prototype.initialize&&(n=this.initialize,this.initialize=function(){}),this.getContextNames().forEach(function(e){var n=i.findOption(t,e);void 0!==n&&(i[e]=n)}),!this.cache||this.findOption(t,"skipCache"))return r.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),void(n&&(n.apply(this,arguments),this.initialize=n));var a=this.findOption(t,"onlyIfCached"),o=this.cache.getItemCacheKey(this,e),l=this.cache.get(o);if(!l&&this.entityID&&Object(p.a)("appModel")){var c=Object(p.c)("appModel");if(c.has("entities")){var u=c.get("entities").get(this.entityType),d=this.entityID(e),h=u.get(d);h&&(l=h.get("model"))}}return l?(this.uninitialize(),a||(this.mergeStrategy&&(l.isMergingAttributes=!0),t.parse?e=l.parse(e):s.a.extend(e,l._getRelations(this.syncedRelations,e)),l.set(e),l.isMergingAttributes=!1),this.getContextNames().forEach(function(e){l.setContext(e,i[e]||l[e])}),t.collection&&(l.collection=t.collection),l.updateEntity(),l):a?{}:(r.c.Model.prototype.constructor.apply(this,arguments),this._initModel(t),n&&(n.apply(this,arguments),this.initialize=n),void this.cache.store(this,o))},uninitialize:function(){this.stopListening()},_initModel:function(e){g.a.get("shouldCreateStateTree")&&this.entityID&&(this.state=this.toState()),this._initRelations(e),this._initDerived(e),this._initState()},_initRelations:function(e){this._relationListeners={};var t=s.a.extend({},this.sessionRelations,this.syncedRelations);s.a.each(t,function(e,t){this._initRelation(e,t);var n=s.a.bind(this._initRelation,this,e,t);this.on("change:"+t,n)},this),this.hasInitialRelations=!0,this.set(this._getRelations(this.sessionRelations,this.attributes)),e.parse||this.set(this._getRelations(this.syncedRelations,this.attributes))},_initRelation:function(e,t){var n=this._resolveRelationDefinition(e).relationClass,r=this.get(t),i=this.previous(t),a=r&&r instanceof n;i&&i instanceof n&&s.a.has(this._relationListeners,t)&&(i.off("all",this._relationListeners[t]),this._relationListeners[t]=null),a&&this._forwardRelationEvents(r,t)},_initDerived:function(){s.a.each(this.derivedAttrs,this._setDerived,this)},_initState:function(){g.a.get("shouldCreateStateTree")&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.updateEntity(),this.on("all",this.onEvent,this))},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},getContextNames:function(){return this.getContext().map(I)},getContext:function(){if(!this.context)return this._context;var e=s.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){var n=this;if(this.hasContext(e)&&this[e]!==t){var r,i=this.getContext().find(function(t){return I(t)===e}),a=Array.isArray(i)&&i[1]&&i[1].boundDerivedAttrs,o=a?[e].concat(a):[e];if(this[e]=t,o.forEach(function(e){n.hasDerived(e)&&((r=r||{})[e]=n.derivedAttrs[e].call(n))}),r&&this.set(r),"parent"!==e){var l=s.a.extend({},this.sessionRelations,this.syncedRelations);s.a.each(l,function(n,r){var i=this.get(r);i&&i.setContext(e,t)},this)}}},getScopedKey:function(e){return null!=e&&s.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},getState:function(){return this._computedEntityID||this.state},updateState:function(){var e=this.state,t=this.getState();this.state=this.toState();var n=this.getState();return n!==t&&this.updateEntity(),this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},updateEntity:function(){this._computedEntityID&&!this.skipCache&&(Object(c.a)(this.entityType,this.name+" requires an `entityType`"),l.a.trigger("change:entity",{type:this.entityType,id:this._computedEntityID,model:this}))},toState:function(){this.name;var e=Object.keys(this.attributes),t=s.a.reduce(e,this.reduceState,{possibleEntityContainers:[]},this);return Object.defineProperty(t,"possibleEntityContainers",{enumerable:!1}),this.entityID&&(this._computedEntityID=this.entityID(t)),t},reduceState:function(e,t){var n=this.attributes[t];return n&&n.getState?(e.possibleEntityContainers.push(t),e[t]=n.getState(),e):n&&n.initialize?e:(e[t]=n,e)},shouldUpdateRelationState:function(e,t,n){return t!==n},toJSON:function(e){void 0===e&&(e={});this.name;var t=this.syncedAttrs,n=this.sessionRelations,i=this.syncedRelations,o=this.attributes,l={};for(var c in o){var u=e.excluded&&e.excluded.includes(c),d=n&&s.a.has(n,c),p=i&&s.a.has(i,c),h=e.syncedOnly&&(!t||!s.a.has(t,c));u||d||p||h||(l[c]=o[c])}var f=a.a.extend(!0,{},l);function g(t,n){var i,a=this.get(n),o=e.excluded&&e.excluded.includes(n);a&&!o&&(i=e.excludeDefaults?a instanceof r.c.Collection?a.map(function(t){return Object(m.a)(s.a.result(t,"defaults"),t.toJSON(e))}):Object(m.a)(s.a.result(a,"defaults"),a.toJSON(e)):a.toJSON(e),f[n]=i)}return e.excludeDefaults&&(f=Object(m.a)(s.a.result(this,"defaults"),f)),e.syncedOnly||s.a.each(n,g,this),s.a.each(i,g,this),f},clone:function(){var e=s.a.extend(s.a.pick(this,this.getContextNames()),{skipCache:!0});return new this.constructor(this.toJSON(),e)||null},copy:function(e){Object(c.a)(e instanceof this.constructor,"Only a model of the same type may be copied");var t=e.toJSON();return s.a.extend(t,this._getRelations(this.sessionRelations,t,{parse:!0}),this._getRelations(this.syncedRelations,t,{parse:!0})),this.set(t)},restoreDefaults:function(e){var t={};return s.a.each(this.attributes,function(e,n){this.derivedAttrs&&s.a.has(this.derivedAttrs,n)||(t[n]=void 0)},this),s.a.extend(t,this._getRelations(this.sessionRelations,{},{reset:!0}),this._getRelations(this.syncedRelations,{},{reset:!0}),s.a.result(this,"defaults"),e),this.set(t)},set:function(e,t,n){var i,a;return s.a.isObject(e)?(i=e,n=t):(i={})[e]=t,n||(n={}),!this.isMergingAttributes&&n.merge&&this.mergeStrategy&&(a=!0,this.isMergingAttributes=!0),this.isMergingAttributes&&(i=this._mergeAttributes(i)),r.c.Model.prototype.set.call(this,i,n),a&&(this.isMergingAttributes=!1),this},hasAttr:function(e){var t=this.sessionAttrs&&s.a.has(this.sessionAttrs,e),n=this.syncedAttrs&&s.a.has(this.syncedAttrs,e);return!(!t&&!n)},hasRelation:function(e){var t=this.sessionRelations&&s.a.has(this.sessionRelations,e),n=this.syncedRelations&&s.a.has(this.syncedRelations,e);return!(!t&&!n)},hasDerived:function(e){return!(!this.derivedAttrs||!s.a.has(this.derivedAttrs,e))},hasContext:function(e){return this.getContextNames().includes(e)},validate:function(e,t){var n=s.a.extend({},this.sessionAttrs,this.syncedAttrs,this.sessionRelations,this.syncedRelations),r=this._validateTypes(e,n);return r&&Object(c.a)(!1,r),r},parse:function(e,t){if(t&&t.save&&!this.hasResponseOnSave)return this.attributes;this.name;return this.convert(e,t)},parseResponse:function(e){var t,n=e,r=s.a.result(this,"responseType");return s.a.isString(n)&&(t=!0,s.a.isFunction(this.augmentResponseText)&&(n=this.augmentResponseText(n,r)),n=r.parse(n)),r===v.a.json&&n.MediaContainer&&(n=n.MediaContainer),s.a.isFunction(this.augmentResponse)&&(n=this.augmentResponse(n,r)),t&&this.rootPropertyName&&s.a.has(n,this.rootPropertyName)&&(n=n[this.rootPropertyName]),Array.isArray(n)&&(n=n[0]),n},convert:function(e,t){var n,r=this.parseResponse(e),i={};s.a.each(this.sessionAttrs,function(e,t){s.a.has(r,t)&&(i[t]=r[t])}),s.a.each(this.syncedAttrs,function(e,t){if(s.a.has(r,t)){var a,o=e;o.typeName||(o=e.type,a=s.a.omit(e,"type")),i[t]=null==r[t]?r[t]:o.parse(r[t],a)}else this.has(t)&&(n||(n=s.a.result(this,"defaults")),i[t]=n&&s.a.has(n,t)?n[t]:void 0)},this);var a=s.a.extend({},t,{parse:!0});return s.a.extend(i,this._getRelations(this.syncedRelations,r,a)),i},save:function(e,t,n){var i;null==e||"object"==typeof e?(i=e,n=t):(i={})[e]=t;var o=s.a.extend({save:!0},n),l=s.a.extend(this.getSaveParams(i),o.data);if(s.a.isEmpty(l))return o.success&&o.success(this),a.a.Deferred().resolve(this);o.data=l;var c=o.success;return o.success=function(e,t,n){e.cache&&e.cache.store(e),c&&c(e,t,n)},r.c.Model.prototype.save.call(this,i,o)},sync:function(e,t,n){var i=n?s.a.clone(n):{};if("create"===e||"update"===e){var a=i.data,o=i.url||s.a.result(this,"saveUrl")||s.a.result(this,"syncUrl")||s.a.result(this,"url");i.url=d.join(o,a),i.data=""}return r.c.Model.prototype.sync.call(this,e,t,i)},getSaveParams:function(e){var t=this._getSaveAttrs(e);return s.a.reduce(t,function(e,t,n){var r=t.definition,i=t.value,a=n;if(!r)return e[a]=i,e;var o=r.relationClass;if(o){var l,c=o.prototype.model;r.rootPropertyName?l=r.rootPropertyName:i&&i.rootPropertyName?l=i.rootPropertyName:c&&c.prototype&&(l=c.prototype.rootPropertyName),i&&(i=i.getSaveParams()),l&&(a=l)}else{var u,d;s.a.has(r,"type")?(u=r.type,d=s.a.omit(r,"type")):u=r,i=u.stringify(i,d)}return e[a]=i,e},{},this)},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)Object(c.a)(!1,this.name+" is already capturing events");else{var e=this.set,t=[],n=s.a.clone(this.attributes);this.set=function(n,r,i){var a,o=s.a.extend({},i,{silent:!0});return"object"==typeof n?(a=n,i=r):(a={})[n]=r,s.a.each(a,function(n,r){this.get(r)!==n&&(t.push({key:r,value:n}),e.call(this,r,n,o))},this),s.a.each(this._derivedListeners,function(n){var r=n.key,i=this.derivedAttrs[r].call(this);this.get(r)!==i&&(t.push({key:r,value:i}),e.call(this,r,i,o))},this),this},this.releaseCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,this._previousAttributes=n,this._changing=!0,s.a.each(t,function(e){this.trigger("change:"+e.key,this,e.value)},this),this._changing=!1,s.a.isEmpty(t)||this.trigger("change",this,{})},this.discardCapturedChangeEvents=function(){this.set=e,this.releaseCapturedChangeEvents=null,this.discardCapturedChangeEvents=null,t.length=0}}},spyOnGet:function(e){var t=[],n=this.get;return this.get=function(e){return t.push("change:"+e),this.hasRelation(e)&&t.push("change:"+e+".change"),n.apply(this,arguments)},e.call(this),this.get=n,t},_mergeAttributes:function(e){var t=this.mergeStrategy;return t?s.a.reduce(e,function(e,n,r){return e[r]=t(r,this.get(r),n),e},{},this):e},_resolveRelationDefinition:function(e){return s.a.isFunction(e)?e.call(this):e},_getRelations:function(e,t,n){t||(t={}),n||(n={});var i={};return s.a.each(e,function(e,a){var o=this,l=this._resolveRelationDefinition(e),u=l.relationClass;Object(c.a)(u,this.name+" requires a `relationClass` for the "+a+" relation");var d=a;n.parse&&!s.a.has(t,a)&&s.a.has(l,"rootPropertyName")&&(d=l.rootPropertyName);var p=t[d];if(p instanceof u)i[a]=p;else if(p||!l.deferred){var h=n.reset?null:this.get(a),f=h instanceof u,g=u.prototype instanceof r.c.Collection;if(g?p=y.a.parseArray(p):p||(p={}),f&&!g&&(n.parse&&(p=h.parse(p)),f=h.id===p[h.idAttribute||"id"]),f){h.isMergingAttributes=this.isMergingAttributes;var v=l.setOptions;s.a.isFunction(v)&&(v=v.call(this,n)),g?h.set(p,s.a.extend({parse:n.parse,remove:!this.isMergingAttributes},v)):h.set(p,s.a.extend({merge:!0},v)),h.isMergingAttributes=!1}else{var m={parse:n.parse};if(this.getContextNames().forEach(function(e){m[e]=o[e]}),!g){var b=l.attrs;s.a.isFunction(b)&&(b=b.call(this,t)),p=s.a.extend({},p,b)}var S=l.options;s.a.isFunction(S)&&(S=S.call(this,t)),s.a.extend(m,{parent:this},S),h=new u(p,m)}i[a]=h}else i[a]=void 0},this),i},_forwardRelationEvents:function(e,t){var n=["sync","request","invalid","error","add","remove"];function r(){var r=arguments[0];if("change"!==r)if("statechange"!==r){var i=s.a.toArray(arguments);i[0]="change:"+t+"."+r,this.trigger.apply(this,i),s.a.contains(n,r)||(this.trigger("change:"+t+".change",this,e),this.trigger("change",this))}else this.shouldUpdateRelationState.apply(this,s.a.rest(arguments,1))&&b.b(this.updateState,this)}e.on("all",r,this),this._relationListeners[t]=r},_setDerived:function(e,t){var n,r=this.spyOnGet(function(){var r=this.set;this.set=function(){Object(c.a)(!1,this.name+" blocked `set` in the "+t+" attribute. Derived attributes are read-only.")},n=e.call(this),this.set=r});this.set(t,n),s.a.each(r,function(n){this._addDerivedListener(t,n,e)},this)},_addDerivedListener:function(e,t,n){this._derivedListeners||(this._derivedListeners=[]);var r={key:e,name:t,callback:s.a.bind(this._setDerived,this,n,e)};s.a.findWhere(this._derivedListeners,{key:e,name:r.name})||(this._derivedListeners.push(r),this.on(r.name,r.callback))},_getSaveAttrs:function(e){var t;if(e)t=s.a.reduce(e,function(e,t,n){return e[n]={definition:this.syncedAttrs[n],value:t},e},{},this);else{var n=s.a.extend({},this.syncedAttrs,this.syncedRelations);t=s.a.reduce(n,function(e,t,n){var r=this._resolveRelationDefinition(t),i=r.save;return s.a.isFunction(i)&&(i=i.call(this)),i&&(e[n]={definition:r,value:this.get(n)}),e},{},this)}return t},_validateTypes:function(e,t){var n=Object.keys(e),i=s.a.reduce(n,function(n,i){if(this.hasDerived(i))return n;if(!s.a.has(t,i))return n.push(this.name+" received an unknown attribute: "+i+". All attributes must be defined in `sessionAttrs`, `syncedAttrs`, `sessionRelations`, or `syncedRelations`."),n;var a,o=e[i],l=this._resolveRelationDefinition(t[i]),c=l.relationClass,u=(a=c?this.hasInitialRelations?f.a.instanceOf(c):c.prototype instanceof r.c.Collection?f.a.oneOfType(f.a.array,f.a.object):f.a.object:l.type?l.type:l).validate;return u?u(o)||n.push(i+" of type "+a.typeName+" has an invalid value: "+JSON.stringify(o)):n.push(i+" has an unknown type. Specify the type in the attribute definition or use attrTypes.any as a wildcard type."),n},[],this);if(i.length>0)return i.join("\n")},onEvent:function(e,t,n){if(t){var r=e.match(S);if(r){var i=r[1];t.get(i)!==this.state[i]&&(n&&n.updateEntity&&n.updateEntity(),b.b(this.updateState,this))}}else u.a.warn("Unable to handle",e)}});t.a=C},function(e,t,n){"use strict";var r=n(13),i={accessToken:1,address:1,auth_token:1,authToken:1,Authorization:1,clientIdentifier:1,email:1,host:1,myPlexAccessToken:1,password:1,uri:1,"X-Plex-Token":1},a=new RegExp("("+Object.keys(i).join("|")+")(\\s?=\\s?)(['\"]?)[^'\"\n]+(['\"]?)","g"),o=/%[sdifo]/g,s=/(error|exception)\]$/i,l={"%s":function(e){return e},"%d":function(e){return Number.parseInt(e,10)},"%f":function(e){return Number.parseFloat(e)},"%o":function(e){return e}},c=function(e,t,n){return function(){var i,a=arguments.length;if(t=void 0===t?u.LEVEL_LOG:t,!(u.level<t)){if(0===a&&n)i=n;else if(1===a)i=u.serialize(arguments[0]);else if(a>1){for(var s=Array(a),c=-1;++c<a;)s[c]=u.serialize(arguments[c]);s[0]=s[0].replace(o,function(e,t){var n=e;return s.length>1&&(n=l[e](s[1]),s.splice(1,1)),n}),i=s.join(" ")}return i&&r.a.trigger(e,{type:e,level:t,message:i}),i}}},u=c("log:message");u.LEVEL_NONE=-1,u.LEVEL_ERROR=0,u.LEVEL_WARN=1,u.LEVEL_INFO=2,u.LEVEL_DEBUG=3,u.LEVEL_LOG=4,u.LEVEL_GROUP=u.LEVEL_INFO,u.LEVEL_GROUP_END=u.LEVEL_INFO,u.level=u.LEVEL_LOG,u.redacts=!0,u.setLevel=function(e){u.level=Math.max(u.LEVEL_NONE,Math.min(e,u.LEVEL_LOG))},u.debug=c("log:message",u.LEVEL_DEBUG),u.info=c("log:message",u.LEVEL_INFO),u.warn=c("log:message",u.LEVEL_WARN),u.error=c("log:message",u.LEVEL_ERROR),u.group=c("log:group",u.LEVEL_GROUP,"Group"),u.groupCollapsed=c("log:groupCollapsed",u.LEVEL_GROUP,"Group"),u.groupEnd=function(){u.level<u.LEVEL_GROUP_END||r.a.trigger("log:groupEnd",{type:"log:groupEnd",level:u.LEVEL_GROUP_END})},u.serialize=function(e){var t;switch(t=void 0===e?"[object Undefined]":null===e?"[object Null]":Object.prototype.toString.call(e)){case"[object String]":return u.redacts?e.replace(a,"$1$2$3REDACTED$4"):e;case"[object Object]":case"[object Array]":try{var n=u.redacts?u._jsonReplacer:null;return JSON.stringify(e,n,2)}catch(e){return"Unable to serialize value"}case"[object Boolean]":case"[object Number]":case"[object Function]":case"[object RegExp]":return e.toString();case"[object Date]":return e.toUTCString();case"[object Undefined]":return"undefined";case"[object Null]":return"null";default:if(s.test(t)){var r=u._getMaxStackLength(),i=e.stacktrace||e.stack;return i&&i.length>r&&(i=i.substr(0,r-3)+"..."),u.serialize({type:t,stack:i,name:e.name,message:e.message})}return e.toString()}},u._jsonReplacer=function(e,t){return i[e]?"REDACTED":"[object String]"===Object.prototype.toString.call(t)?u.serialize(t):t},u._getMaxStackLength=function(){return 1e3},t.a=u},function(e,t,n){e.exports={plexIcon:"PlexIcon-plexIcon-8Tamaj"}},function(e,t,n){"use strict";var r=n(35),i=n(8),a=n.n(i),o=n(5),s=n.n(o),l=(n(28),n(15)),c=n(208),u=n(26),d=n(37),p=(n(91),n(20)),h=r.c.Collection.extend({mixins:[c.a],responseType:d.a.xml,instanceOptions:["url","path","pageStart","pageSize","persistInCache","skipCache"],_context:["parent"],cache:null,cacheKey:function(){return s.a.result(this,"url")},constructor:function(e,t){t||(t={}),s.a.each(this.getContext(),function(e){var n=t[e];void 0!==n&&this.setContext(e,n)},this);var n=s.a.result(this,"instanceOptions");if(s.a.each(n,function(e){s.a.has(t,e)&&(this[e]=t[e])},this),null==this.pageStart&&null==this.pageSize||(this.pageStart||(this.pageStart=0),this.pageSize||(this.pageSize=0)),t.populated&&this.resetPopulatePromise(a.a.Deferred().resolve().promise()),!this.cache||this.skipCache)return r.c.Collection.prototype.constructor.apply(this,arguments),void this._initState();this.initialize.apply(this,arguments);var i=this.cache.getItemCacheKey(this),o=this.cache.get(i);return this.uninitialize(),o||(t.onlyIfCached?{}:(r.c.Collection.prototype.constructor.apply(this,arguments),this._initState(),void this.cache.store(this,i)))},uninitialize:function(){this.stopListening()},_initState:function(){u.a.get("shouldCreateStateTree")&&(this.state=this.toState(),this.updateState=this.updateState.bind(this),this.on("reset update sort",this.onCollectionChange,this),this.on("statechange",this.onStateChange,this))},hasContext:function(e){return this.getContext().includes(e)},getContext:function(){if(!this.context)return this._context;var e=s.a.result(this,"context");return this._context.concat(e)},setContext:function(e,t){-1!==this.getContext().indexOf(e)&&this[e]!==t&&(this[e]=t,this.each(function(n){n.setContext(e,t)}))},getState:function(){return this.state},updateState:function(){var e=this.state,t=this.getState();this.state=this.toState();var n=this.getState();return this.trigger("statechange",this,n,t),{name:this.name,previousState:e,nextState:n}},toState:function(){this.name;return this.reduce(this.reduceState,[])},reduceState:function(e,t){var n=t.getState();return n&&e.push(n),e},shouldUpdateModelState:function(e,t,n){return t!==n},sync:function(){return this.cache&&this.cache.store(this),r.c.sync.apply(this,arguments)},syncUrl:function(){var e="";if(this.url&&(e=s.a.result(this,"url")),this.path&&(e=l.join([e,s.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){var t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=l.join(e,t)}return e},parse:function(e,t){this.name;return this.convert(e)},convert:function(e){var t=e,n=s.a.result(this,"responseType");if(s.a.isString(t)&&(s.a.isFunction(this.augmentResponseText)&&(t=this.augmentResponseText(t,n)),t=n.parse(t),n===d.a.json&&t.MediaContainer&&(t=t.MediaContainer)),s.a.isFunction(this.augmentResponse)&&(t=this.augmentResponse(t,n)),Array.isArray(t))return t;var r=this.model.prototype.rootPropertyName;if(!r)return t;var i=t[r];return i?(Array.isArray(i)||(i=[i]),i):[]},clone:function(e){e||(e=this.models);var t=s.a.result(this,"instanceOptions"),n=s.a.extend(s.a.pick(this,t),s.a.pick(this,this.getContext()),{skipCache:!0,persistInCache:!1});return new this.constructor(e,n)||null},cloneDeep:function(e){e||(e=this.models);var t=s.a.map(e,function(e){return e.clone()});return this.clone(t)},clear:function(e){e=s.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)},getSaveParams:function(){return this.map(function(e){return e.getSaveParams()})},onCollectionChange:function(){p.b(this.updateState,this)},onStateChange:function(e,t,n){e!==this&&this.shouldUpdateModelState(e,t,n)&&p.b(this.updateState,this)}});t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return m}),n.d(t,"b",function(){return y});var r,i,a,o=n(28),s=n(17),l=[],c=!1,u=!1,d=1e3/60,p=1e3/60;function h(){r&&(r=clearTimeout(r))}function f(){i&&(i=clearTimeout(i))}function g(){var e=a;if(a=null,f(),e)e()}function v(){h(),f();var e,t=window.performance.now();for(u=!0;l.length&&(!e||e-t<d);)l.pop()(),e=window.performance.now();u=!1,l.length?(s.a.warn("[State] Unable to process all updates within budget; %s update(s) remaining",l.length),r=setTimeout(v,p)):a&&(i=setTimeout(g,p))}function m(e){for(h(),f(),u=!0,c=!0;l.length;)l.pop()();if(e)try{e()}catch(e){Object(o.a)(!1,e.name+": "+e.message)}a&&g(),u=!1,c=!1}function y(e,t){if(t.isStateTreeRoot)return a=e,void(u||i||(i=setTimeout(g,p)));c?e():(f(),l[0]!==e&&l.unshift(e),u||r||(r=setTimeout(v,p)))}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"g",function(){return l}),n.d(t,"h",function(){return c}),n.d(t,"a",function(){return u}),n.d(t,"i",function(){return d});var r="tv.plex.providers.channel",i="tv.plex.providers.epg",a="com.plexapp.plugins.library",o="tv.plex.provider.music",s="tv.plex.provider.news",l="tv.plex.provider.podcasts",c="tv.plex.provider.webshows",u=[r,"tv.plex.providers.epg.cloud",i,a,"com.plexapp.plugins.library.sync",o,s,l,c];function d(e,t){return!!e&&(Array.isArray(t)||(t=[t]),t.some(function(t){return-1!==e.indexOf(t)}))}},function(e,t,n){e.exports=n(1390)},function(e,t,n){"use strict";var r=n(9),i=n.n(r),a=n(1),o=n.n(a),s=n(81),l=n(2),c=o.a.createElement;function u(e){return c(s.a,i()({},e,{loadingLabel:Object(l.default)("Loading")}))}u.defaultProps=s.a.defaultProps,t.a=u},function(e,t,n){var r=n(49),i=n(105).f,a=n(100),o=n(113),s=n(540),l=n(691),c=n(355);e.exports=function(e,t){var n,u,d,p,h,f=e.target,g=e.global,v=e.stat;if(n=g?r:v?r[f]||s(f,{}):(r[f]||{}).prototype)for(u in t){if(p=t[u],d=e.noTargetGet?(h=i(n,u))&&h.value:n[u],!c(g?u:f+(v?".":"#")+u,e.forced)&&void 0!==d){if(typeof p==typeof d)continue;l(p,d)}(e.sham||d&&d.sham)&&a(p,"sham",!0),o(n,u,p,e)}}},function(e,t,n){"use strict";var r=n(248),i=n(577);e.exports=r({},i,{signInFormSectionWidth:"320px",sliderTrackSize:"60px",sliderThumbSize:"12px",serverMenuItemHeight:"60px",sourceMenuItemHeight:"65px",sourceMenuItemGutter:"25px",posterCenterCircleSize:"42px",posterBadgeHeight:"24px",posterHoverSlideDistance:"10px",posterIconPadding:"20px",posterProgressHeight:"4px",listButtonHeight:"40px",hubCellHeaderBottomPadding:"5px",hubCellHeaderTopPadding:"25px",pagePadding:"60px",typeFirstPageHeaderHeight:"50px",pageHeaderTabButtonLeftRightMargin:"5px",recordingPriorityPaneWidth:"360px",recordingPriorityPaneBorderWidth:"4px",recordingPriorityDragHandleWidth:"62px",channelGridRowHeight:"60px",channelGridTitleColumnWidth:"130px",channelGridChannelColumnWidth:"250px",channelGridChannelOverflowWidth:"100px",channelGridChannelIconWidth:"80px",jumpBarCharacterHeight:"25px",jumpBarGutter:"30px",playCellWidth:"42px",actionsCellWidth:"122px",summaryCellHeight:"136px",simpleSummaryCellHeight:"90px",summaryCellPadding:"20px",mosaicCellPadding:"5px",timelineGutter:"60px",prePlaySummaryMaxWidth:"750px",prePlayPosterMinWidth:"150px",prePlayPosterMaxWidth:"230px",prePlayPosterWidthRatio:"0.15",prePlayContentPadding:"20px",prePlayRatingBase:"1em",postPlayPosterWidth:"260px",postPlayTitleHeight:"40px",postPlayAutoPlayHeight:"55px",filterBuilderFooterHeight:"46px",dvrSetupImageWidth:"193px",playerControlsHeight:"100px",playerControlsMinWidth:"640px",playerControlsNarrowHeight:"140px",playerControlsNarrowBreakpoint:"960px",playerControlsPosterHeight:"80px",playerControlsPosterLeftGutter:"8px",playerControlsPosterBottomGutter:"8px",playerControlsNarrowPosterBottomGutter:"48px",playerControlsContentSpacing:"20px",playerControlsSquarePosterWidth:"80px",playerControlsLandscapePosterWidth:Math.round(16/9*80)+"px",playerInfoBarHeight:"45px",playerTopControlsHeight:"60px",playerSideControlsWidth:"100px",playerIconButtonSize:"30px",playerIconButtonSpacing:"5px",playerVolumeSliderWidth:"32px",playerVolumeSliderHeight:"60px",seekBarHeight:"4px",seekBarTooltipMarginBottom:"4px",seekBarTooltipHeight:"23px",seekBarTooltipSmallWidth:"60px",seekBarTooltipLargeWidth:"90px",playQueueItemHeight:"68px",playQueueMoveButtonWidth:"54px",playQueueSidePadding:"60px",lyricsLineHeight:"30px",lyricsLineWidth:"640px",playlistItemCardWidth:"64px",playlistBadgeSize:"30px",navigationIconSize:"20px",sourceSidebarIconSize:"18px",sourceSidebarWidth:"60px",sourceSidebarExpandedWidth:"260px",sourceSidebarLeftGutter:"20px",sourceSidebarItemHeight:"50px",sourceSidebarLinkHoverStatusbarAllowance:"20px",sourceSidebarServerHeaderIconSize:"24px",homeServerListItemHeight:"40px",serverSelectMenuWidth:"260px",heroBadgeHeight:"90px",heroPageMinHeight:"600px",serverShareListRowHeight:"40px"})},function(e,t,n){"use strict";var r=n(35),i=n(5),a=n.n(i),o=n(1389).default,s=new(r.c.Model.extend({defaults:a.a.extend({allowFlash:!1,allowServerUpdates:!1,testPrivateConnectionsWhenPublicAddressDoesNotMatch:!0,allowHttpsMediaServerConnections:!1,allowMediaServerRelayConnections:!1,allowLoopbackDiscovery:!1,allowSSO:!1,allowMixedContent:!1,allowBaseImagePreloading:!0,allowBaseImageBlobs:!0,heartbeatInterval:1e4,allowManualServers:!1,allowMobileServers:!1,allowMultiTrackAudio:!1,maximumConcurrentConnectionTests:5,shouldCreateFlexModels:!1,shouldCreateStateTree:!1,requiresSignIn:!0,requiresPlexPass:!1,myPlexAccessToken:null,alerts:null,continueUrl:null,primaryServer:null,shouldCreateNewSessionWhenSeekingLiveTV:!1,shouldPreferInsecureLocalConnections:!1,shouldRequestHTMLFromCloudProvider:!1,allowLiveTVPlayback:!0,seekDebounceMilliseconds:null,allowSyncSettings:!1,shouldPublishDRM:!1},o,window.PLEXWEB)}));t.a=s},function(e,t,n){"use strict";n.r(t),n.d(t,"TINY",function(){return r}),n.d(t,"SMALL",function(){return i}),n.d(t,"MEDIUM",function(){return a}),n.d(t,"LARGE",function(){return o}),n.d(t,"all",function(){return s});var r="tiny",i="small",a="medium",o="large",s=[r,i,a,o]},function(e,t,n){"use strict";var r=n(17),i="`assert` requires an error message argument";t.a=function(e,t,n){if(void 0===t&&(t=i),void 0===n&&(n=!1),e)return!0;if(r.a.error(t),n)throw new Error(t);return!1}},function(e,t,n){"use strict";n.d(t,"n",function(){return r}),n.d(t,"l",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o}),n.d(t,"p",function(){return s}),n.d(t,"m",function(){return l}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return h}),n.d(t,"o",function(){return f}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return v}),n.d(t,"k",function(){return m}),n.d(t,"j",function(){return y});var r="servers",i="providers",a="libraries",o="hubs",s="users",l="resources",c="friends",u="homeUsers",d="metadataLists",p="metadataDirectories",h="metadataItems",f="sessions",g="mediaSubscriptions",v="liveTVSessions",m="playQueueItems",y="playlistItems"},function(e,t,n){"use strict";function r(e,t){if(t){for(var n=[e],r=0,i=arguments.length<=2?0:arguments.length-2;r<i;r++){var a=r+2<2||arguments.length<=r+2?void 0:arguments[r+2];a&&n.push(a)}return n.push(t),n.join("--")}}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"d",function(){return a}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return s});var r=n(69),i="none",a="video",o="audio",s="photo",l=Object(r.a)(["id","typeString"],[{id:0,typeString:i},{id:1,typeString:a},{id:2,typeString:o},{id:3,typeString:s}]);l.get,l.getAll},function(e,t,n){"use strict";var r=n(75),i=/version\/(\d+(\.\d+)?)/i,a=/\/([^\s]+)\s+\(Vizio/,o=/(?:applewebkit|safari)\/(\d+(\.\d+)?)/i,s=function(e){var t=/\(.* ([^)]+)\)$/.exec(e);return t&&t[1]||void 0};function l(e){var t="",n="";e?(t=e.userAgent,n=e.platform):r.a&&null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.platformVersion="0",this.detect({userAgent:t,platform:n})}l.prototype={constructor:l,browsers:[{id:"konvergo",name:"Plex Media Player",webkit:!0,regex:/plexmediaplayer/i,versionRegex:/plexmediaplayer (\d+\.\d+\.\d+)/i},{id:"wiiu",name:"Wii U",regex:/wiiu/i,versionRegex:o,webkit:!0},{id:"ps3",name:"Unknown Browser",webkit:!0,regex:/\(PLAYSTATION 3 \d\./},{id:"ps4",name:"Unknown Browser",webkit:!0,regex:/\(PlayStation 4 \d\./},{id:"ps3",name:"PlayStation 3",webkit:!0,regex:/\(PlayStation 3\)/,versionRegex:o},{id:"ps4",name:"PlayStation 4",webkit:!0,regex:/\(PlayStation 4\)/,versionRegex:o},{id:"edge",name:"Microsoft Edge",regex:/edge|(windows phone.+chrome)/i,versionRegex:/edge\/(\d+(\.\d+)?)/i},{id:"ie",name:"Internet Explorer",msie:!0,regex:/(msie|trident|iemobile)/i,versionRegex:/(msie |rv:)(\d+(\.\d+)?)/i,versionMatchIndex:2},{id:"opera",name:"Opera",presto:!0,regex:/opera/i,versionRegex:i},{id:"opera",name:"Opera",webkit:!0,regex:/OPR\//,versionRegex:/OPR\/\s?(\d+(\.\d+)?)/},{id:"vivaldi",name:"Vivaldi",webkit:!0,regex:/vivaldi/i,versionRegex:/Vivaldi\/\s?(\d+(\.\d+)?)/},{id:"chrome",name:"Chrome",webkit:!0,regex:/(chrome|crios|gfiber|netbox)/i,versionRegex:/(?:chrome|crios|gfibertv)[/-](\d+(\.\d+)?)/i},{id:"firefox",name:"Firefox",gecko:!0,regex:/firefox/i,versionRegex:/firefox[ /](\d+(\.\d+)?)/i},{id:"safari",name:"Safari",webkit:!0,regex:/macintosh.+safari/i,versionRegex:i},{id:"safari",name:"Safari",webkit:!0,regex:/applewebkit/i,versionRegex:o}],platforms:[{id:"metrological",name:"Metrological",tv:!0,regex:/WPE([-\w]+)?$/,version:function(e){void 0===e&&(e="");var t=/WPE(?:-(\w*))?$/.exec(e);if(t&&t[1])return t[1]}},{id:"netgem",name:"Netgem",tv:!0,regex:/^Netbox/,version:function(e){return void 0===e&&(e=""),e.split("/")[1]||e}},{id:"netcast",name:"NetCast",tv:!0,predicate:function(e){return/netcast/i.test(e)&&!/web[o0]s/i.test(e)}},{id:"webos",name:"webOS",tv:!0,predicate:function(e){return/web[o0]s/i.test(e)&&/smarttv/i.test(e)}},{id:"blackberry",name:"Blackberry",mobile:!0,regex:/BlackBerry|RIM|BB10/,version:function(e){var t=(/PlayBook/.test(e)?/Tablet OS (\d+\.\d+)/:i).exec(e);return t&&t[1]}},{id:"ps3",name:"PlayStation 3",tv:!0,regex:/P(lay)?S(tation )?3/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"ps4",name:"PlayStation 4",tv:!0,regex:/P(lay)?S(tation )?4/i,version:function(e){return window.WM_devSettings?window.WM_devSettings.version:void 0}},{id:"wiiu",name:"Wii U",tv:!0,regex:/Nintendo WiiU/},{id:"tizen",name:"Tizen",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){var t=/Tizen (\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"winvergo",name:"Windows",tv:!0,predicate:function(e){return r.a&&!!window.Windows},version:function(e){try{for(var t=window.Windows.System.Profile.AnalyticsInfo.versionInfo.deviceFamilyVersion,n=("0000000000000000"+parseInt(t,10).toString(16)).slice(-16),r=[],i=0;i<n.length;){var a=n.substring(i,i+4),o=parseInt(a,16);r.push(o),i+=4}return r.join(".")}catch(e){}}},{id:"viera",name:"Viera",tv:!0,predicate:function(e){return!!this.version(e)},version:function(e){var t=/Viera\/(\d+(\.\d+)*)/i.exec(e);return t&&t[1]||void 0}},{id:"sta",name:"Smart TV Alliance",tv:!0,version:function(e){var t,n;if(/SmartTvA/.test(e))t=(n=/SmartTvA\/(\d+\.\d+)/.exec(e))&&n[1]||t;else{var r=function(t){return t.test(e)};[/Linux i686.+Chromium\/18/,/nettv\/4.2/i,/toshiba-dtv/i,/viera/i].some(r)?t="2.0":[/nettv\/4/i].some(r)?t="1.0":[/nettv/i].some(r)&&(t="0")}return t},predicate:function(e){return void 0!==this.version(e)}},{id:"tivo",name:"TiVo",tv:!0,regex:/TiVo/,version:function(e){var t=/TCD[^,]+/.exec(e);return t&&t[0]||void 0}},{id:"viziosmartcast",name:"Vizio SmartCast",tv:!0,predicate:function(e){return r.a&&window.VIZIO&&window.VIZIO.isSmartCastDevice},version:function(e){}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return/opera/i.test(e)&&"undefined"!=typeof iMTK_JSP}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,predicate:function(e){return/opera/i.test(e)&&/vizio/i.test(e)},version:function(e){var t=a.exec(e);return t&&t[1]||void 0}},{id:"viziomtk",name:"Vizio MTK",tv:!0,predicate:function(e){return a.test(e)&&"undefined"!=typeof iMTK_JSP},version:function(e){var t=a.exec(e);return t&&t[1]||void 0}},{id:"viziosigma",name:"Vizio Sigma",tv:!0,regex:a,version:function(e){var t=a.exec(e);return t&&t[1]||void 0}},{id:"operatvstore",name:"Opera TV Store",tv:!0,predicate:function(e){var t=/Opera TV Store/.test(e),n=/TV Store/.test(e)&&/OMI\//.test(e);return t||n}},{id:"operatv",name:"Opera TV",tv:!0,regex:/opera\/\d+\.\d+ \(linux (mips|arm)/i},{id:"ios",name:"iOS",mobile:!0,regex:/(iphone|ipad|ipod)/i,version:function(e){var t=/OS (\d+_\d+)/.exec(e);return t&&t[1]?t[1].replace("_","."):void 0}},{id:"windowsphone",name:"Windows Phone",mobile:!0,regex:/windows phone/i,version:function(e){var t=/windows phone[ os]*(\d+\.\d+);/i.exec(e);return t&&t[1]}},{id:"android",name:"Android",mobile:!0,regex:/android/i,version:function(e){var t=/Android (\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"webos",name:"webOS",mobile:!0,predicate:function(e){return/hpwOS/.test(e)||/web[o0]s/i.test(e)&&!/smarttv/i.test(e)},version:function(e){var t=/(?:hpw|web)OS\/(\d+\.\d+)/.exec(e);return t&&t[1]}},{id:"openelec-rpi2",name:"Embedded (Raspberry Pi)",tv:!0,regex:/plexmediaplayer.*openelec-rpi2/i,version:s},{id:"openelec",name:"Embedded",tv:!0,regex:/plexmediaplayer.*openelec/i,version:s},{id:"linuxkonvergo",name:"Linux",tv:!0,regex:/plexmediaplayer.*linux/i,version:s},{id:"osxkonvergo",name:"OSX",tv:!0,regex:/plexmediaplayer.*mac/i,version:s},{id:"windowskonvergo",name:"Windows",tv:!0,regex:/plexmediaplayer.*win/i,version:s},{id:"linux",name:"Linux",regex:/linux/i},{id:"osx",name:"OSX",regex:/Macintosh/,version:function(e){var t=/OS X (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}},{id:"windows",name:"Windows",regex:/Windows/,version:function(e){var t=/Windows [^\d;)]*(\d+\.\d+)/.exec(e);if(t)return{"6.0":"Vista / Server 2008",6.1:"7 / Server 2008 R2",6.2:"8",6.3:"8.1",6.4:"10","10.0":"10"}[t[1]]}},{id:"chromeos",name:"Chrome OS",regex:/CrOS/,version:function(e){var t=/CrOS [\S]* (\d+)[_.]?(\d+)?/.exec(e);if(t)return t[2]?t[1]+"."+t[2]:t[1]}}],detect:function(e){var t,n=this.runTests(this.browsers,e),r=this.runTests(this.platforms,e);n?(this.id=n.id,this.name=n.name,this.version=this.getVersion(e.userAgent,n.versionRegex,n.versionMatchIndex||1),this.webkit=!!n.webkit,this.gecko=!!n.gecko,this.msie=!!n.msie,this.presto=!!n.presto):(this.id="unknown",this.name="Unknown Browser",this.version="0",this.webkit=!1,this.gecko=!1,this.msie=!1,this.presto=!1),r?(t="function"==typeof r.version?r.version(e.userAgent):r.version,this.platform=r.name,this.platformID=r.id,this.platformVersion=t||this.platformVersion,this.mobile=!!r.mobile,this.tv=!!r.tv):(this.platformID="unknown",this.platform="Unknown Platform",this.mobile=!1,this.tv=!1),this.tv||(this.platformModifierKey="osx"===this.platformID||"ios"===this.platformID?"command":"ctrl")},runTests:function(e,t){for(var n,r,i,a=0;!0!==r&&(i=e[a++]);)n=t[i.context||"userAgent"],i.regex?r=i.regex.test(n):i.predicate&&(r=i.predicate(n));return i},getVersion:function(e,t,n){var r=e.match(t);return r&&r.length>n&&r[n]||"0"},toJSON:function(){var e={};for(var t in this)this[t]&&"browsers"!==t&&"platforms"!==t&&(e[t]=this[t]);return e}},t.a=new l},function(e,t,n){var r=n(5),i=n(22);e.exports=function(e,t){var n=i.partials[e],a=r.extend({},t.hash.context||this,t.hash);return new i.SafeString(n(a))}},function(e,t,n){"use strict";n.d(t,"a",function(){return c});var r=n(41),i=n(164),a=36e5,o=6e4,s=2,l={dateTimeDelimeter:/[T ]/,plainTime:/:/,timeZoneDelimeter:/[Z ]/i,YY:/^(\d{2})$/,YYY:[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],YYYY:/^(\d{4})/,YYYYY:[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],MM:/^-(\d{2})$/,DDD:/^-?(\d{3})$/,MMDD:/^-?(\d{2})-?(\d{2})$/,Www:/^-?W(\d{2})$/,WwwD:/^-?W(\d{2})-?(\d{1})$/,HH:/^(\d{2}([.,]\d*)?)$/,HHMM:/^(\d{2}):?(\d{2}([.,]\d*)?)$/,HHMMSS:/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,timezone:/([Z+-].*)$/,timezoneZ:/^(Z)$/,timezoneHH:/^([+-])(\d{2})$/,timezoneHHMM:/^([+-])(\d{2}):?(\d{2})$/};function c(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");if(null===e)return new Date(NaN);var n=t||{},c=null==n.additionalDigits?s:Object(r.a)(n.additionalDigits);if(2!==c&&1!==c&&0!==c)throw new RangeError("additionalDigits must be 0, 1 or 2");if(e instanceof Date||"object"==typeof e&&"[object Date]"===Object.prototype.toString.call(e))return new Date(e.getTime());if("number"==typeof e||"[object Number]"===Object.prototype.toString.call(e))return new Date(e);if("string"!=typeof e&&"[object String]"!==Object.prototype.toString.call(e))return new Date(NaN);var d=function(e){var t,n={},r=e.split(l.dateTimeDelimeter);l.plainTime.test(r[0])?(n.date=null,t=r[0]):(n.date=r[0],t=r[1],l.timeZoneDelimeter.test(n.date)&&(n.date=e.split(l.timeZoneDelimeter)[0],t=e.substr(n.date.length,e.length)));if(t){var i=l.timezone.exec(t);i?(n.time=t.replace(i[1],""),n.timezone=i[1]):n.time=t}return n}(e),p=function(e,t){var n,r=l.YYY[t],i=l.YYYYY[t];if(n=l.YYYY.exec(e)||i.exec(e)){var a=n[1];return{year:parseInt(a,10),restDateString:e.slice(a.length)}}if(n=l.YY.exec(e)||r.exec(e)){var o=n[1];return{year:100*parseInt(o,10),restDateString:e.slice(o.length)}}return{year:null}}(d.date,c),y=p.year,b=function(e,t){if(null===t)return null;var n,r,i,a;if(0===e.length)return(r=new Date(0)).setUTCFullYear(t),r;if(n=l.MM.exec(e))return r=new Date(0),i=parseInt(n[1],10)-1,f(t,i)?(r.setUTCFullYear(t,i),r):new Date(NaN);if(n=l.DDD.exec(e)){r=new Date(0);var o=parseInt(n[1],10);return function(e,t){if(t<1)return!1;var n=h(e);if(n&&t>366)return!1;if(!n&&t>365)return!1;return!0}(t,o)?(r.setUTCFullYear(t,0,o),r):new Date(NaN)}if(n=l.MMDD.exec(e)){r=new Date(0),i=parseInt(n[1],10)-1;var s=parseInt(n[2],10);return f(t,i,s)?(r.setUTCFullYear(t,i,s),r):new Date(NaN)}if(n=l.Www.exec(e))return a=parseInt(n[1],10)-1,g(t,a)?u(t,a):new Date(NaN);if(n=l.WwwD.exec(e)){a=parseInt(n[1],10)-1;var c=parseInt(n[2],10)-1;return g(t,a,c)?u(t,a,c):new Date(NaN)}return null}(p.restDateString,y);if(isNaN(b))return new Date(NaN);if(b){var S,I=b.getTime(),C=0;if(d.time&&(C=function(e){var t,n,r;if(t=l.HH.exec(e))return v(n=parseFloat(t[1].replace(",",".")))?n%24*a:NaN;if(t=l.HHMM.exec(e))return n=parseInt(t[1],10),r=parseFloat(t[2].replace(",",".")),v(n,r)?n%24*a+r*o:NaN;if(t=l.HHMMSS.exec(e)){n=parseInt(t[1],10),r=parseInt(t[2],10);var i=parseFloat(t[3].replace(",","."));return v(n,r,i)?n%24*a+r*o+1e3*i:NaN}return null}(d.time),isNaN(C)))return new Date(NaN);if(d.timezone){if(S=function(e){var t,n,r;if(t=l.timezoneZ.exec(e))return 0;if(t=l.timezoneHH.exec(e))return m(r=parseInt(t[2],10))?(n=r*a,"+"===t[1]?-n:n):NaN;if(t=l.timezoneHHMM.exec(e)){r=parseInt(t[2],10);var i=parseInt(t[3],10);return m(r,i)?(n=r*a+i*o,"+"===t[1]?-n:n):NaN}return 0}(d.timezone),isNaN(S))return new Date(NaN)}else S=Object(i.a)(new Date(I+C)),S=Object(i.a)(new Date(I+C+S));return new Date(I+C+S)}return new Date(NaN)}function u(e,t,n){t=t||0,n=n||0;var r=new Date(0);r.setUTCFullYear(e,0,4);var i=7*t+n+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}var d=[31,28,31,30,31,30,31,31,30,31,30,31],p=[31,29,31,30,31,30,31,31,30,31,30,31];function h(e){return e%400==0||e%4==0&&e%100!=0}function f(e,t,n){if(t<0||t>11)return!1;if(null!=n){if(n<1)return!1;var r=h(e);if(r&&n>p[t])return!1;if(!r&&n>d[t])return!1}return!0}function g(e,t,n){return!(t<0||t>52)&&(null==n||!(n<0||n>6))}function v(e,t,n){return(null==e||!(e<0||e>=25))&&((null==t||!(t<0||t>=60))&&(null==n||!(n<0||n>=60)))}function m(e,t){return null==t||!(t<0||t>59)}},function(e,t,n){"use strict";var r=n(10),i=n.n(r),a=n(283),o=n.n(a),s=n(5),l=n.n(s),c=n(43),u=(n(439),n(15)),d={bindToModel:function(){this.bindings&&l.a.each(l.a.keys(this.bindings),function(e){var t,n=this.bindings[e];if(t=n.model?this[n.model]:this[this.bindingsModel]||this.model){var r=n.modelListeners||[n.modelAttribute];l.a.each(r,function(r){var i={obj:t,name:"change:"+r,callback:l.a.bind(this.renderBinding,this,e,n,t)};this._bindingListeners||(this._bindingListeners=[]),this._bindingListeners.push(i),this.listenTo(i.obj,i.name,i.callback)},this),this.renderBinding(e,n,t)}},this)},unbindFromModel:function(){this.bindings&&(l.a.each(this._bindingListeners,function(e){this.stopListening(e.obj,e.name,e.callback)},this),this._bindingListeners=null)},renderBinding:function(e,t,n){var r=this.$(e),i=t.formatter,a=!!t.isHtml,o=t.autohide,s=t.hiddenClass||"hidden",c=n.get(t.modelAttribute);if(i&&(c=i.call(this,c,r)),o){var u=l.a.isFunction(o)?o.call(this,c):c;r.toggleClass(s,!u)}t.manual||(!a&&l.a.isString(c)&&(c=l.a.escape(c)),r.html(c))}};function p(e){var t={},n=l.a.result(e,"responseType");return n&&n.accept&&(t.Accept=n.accept),t}n.d(t,"a",function(){return h}),n.d(t,"b",function(){return f});var h=3e4,f=6e4,g=o.a.noConflict(),v=g.sync;g.sync=function(e,t,n){var r=n.url,a=n.data,o=n.headers,s=i()(n,["url","data","headers"]),c=function(e,t){return t.server?t.server:e.getXHROptions?e:e.provider?e.provider:e.server?e.server:e}(t,s),d=r||l.a.result(t,"syncUrl")||l.a.result(t,"url"),g=l.a.isObject(a)?u.stringifyParams(a):a,m=!!g&&g.indexOf("checkFiles=1")>-1,y=Object.assign({data:g,dataType:"text",processData:!1,headers:l.a.extend(p(t),o),timeout:m?f:h},s);return l.a.isFunction(c.getXHROptions)?y=c.getXHROptions(d,y):y.url=d,v(e,t,y)},g.wrapError=function(e,t){var n=t.error;t.error=function(r){n&&n(e,r,t),e.trigger("error",e,r,t)}},l.a.extend(g.View.prototype,d),[g.Model,g.Collection,g.Router,g.View,g.History].forEach(function(e){e.extend=c.a.extend});t.c=g},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(285),o=n(141),s=n(17);var l=function(e){if(null==e)return"";try{return decodeURIComponent(e)}catch(t){return s.a.warn("[Parser] Unable to parse encoded string"),e}};var c=function(e){return null==e||""===e?0:window.parseFloat(e)},u=n(58),d=n(216);var p=function(e){return e?Array.isArray(e)?e:e.split(","):[]},h=n(286);var f=function(e){return null==e?"":e.toString()},g=n(159);var v=function(e){return e?"1":"0"};var m=function(e){return e.join(",")},y=n(288),b={parseType:function(e,t,n){var r=this.getByType("parse",e,this._parseTypeMap);return r?r(t,n):t},stringifyType:function(e,t,n){if(i.a.isString(t))return t;if(null==t)return"";var r=this.getByType("stringify",e,this._stringifyTypeMap);return r?r(t,n):t},getByType:function(e,t,n){if(n&&i.a.has(n,t))return n[t];var r=e+(t.charAt(0).toUpperCase()+t.slice(1));return i.a.has(this,r)?(n[t]=this[r],this[r]):void 0},parseBoolean:o.a,stringifyBoolean:v,parseInteger:u.a,parseFloat:c,parseString:f,parseEncodedString:l,parseArray:a.a,parseList:p,stringifyList:m,parseQueryString:h.a,stringifyQueryString:y.a,parseJSON:d.a,parseXML:g.a,reset:function(){this._parseTypeMap={json:this.parseJSON,xml:this.parseXML},this._stringifyTypeMap={}}};b.reset();t.a=b},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(36);function o(e,t){return t||(t={}),i.a.defaults(t,{typeName:e,parse:i.a.bind(a.a.parseType,a.a,e)})}var s={xml:o("xml",{accept:"application/xml"}),json:o("json",{accept:"application/json"}),text:o("text")};t.a=s},function(e,t){e.exports=function(e,t,n){return e===t?n.fn(this):n.inverse(this)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(34),i=n(41);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(i.a)(e);return Object(r.a)(1e3*n,t)}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(365),o=n(144),s=i.a.extend({},o.a,{type:"video",qualities:{bitrate:[64,96,208,320,720,1500,2e3,3e3,4e3,8e3,1e4,12e3,2e4],videoResolution:["220x128","220x128","284x160","420x240","576x320","720x480","1280x720","1280x720","1280x720","1920x1080","1920x1080","1920x1080","1920x1080"],videoQuality:[10,20,30,30,40,60,60,75,100,60,75,90,100]},getAvailableQualitiesFor:function(e,t,n){if(!e||!t)return[];if(Array.isArray(e)||(e=[e]),0===e.length)return[];var r=t.get("transcoderVideo"),o=t.get("transcoderVideoRemuxOnly"),s=this.getMaximumResolution(e);if(!r||o||!s)return[];var l=t.get("maxUploadBitrate"),c=i.a.extend({},n,{comparator:function(e){if(l&&this.qualities.bitrate[e]>l)return!0;var t=this.qualities.videoResolution[e].split("x");return Object(a.a)(t[0],t[1])>s}});return this.getAvailableQualities(c)},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)},getMinimumQuality:function(e,t){return(e===s.ORIGINAL?Number.MAX_VALUE:e)<(t===s.ORIGINAL?Number.MAX_VALUE:t)?e:t},getMaximumQuality:function(e,t){return this.getMinimumQuality(e,t)===e?t:e},getMaximumResolution:function(e){return e.reduce(function(e,t){if(!t.width&&!t.height)return e;var n=Object(a.a)(t.width,t.height);return null===e||n>e?n:e},null)},isExplicitQuality:function(e){return e!==s.ORIGINAL&&e!==s.CONVERT_AUTOMATICALLY}});t.a=s},function(e,t,n){"use strict";function r(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(287),o=n.n(a),s=n(17),l=new o.a(!1,"",!0);function c(e,t){Array.isArray(t)?i.a.each(t,e):e(t)}var u={parseXML:function(e){if(!e)return{};var t=l.parseXmlString(e);if(!t)return s.a.warn("parseXML: No XML document created"),{};if(t.getElementsByTagName("parsererror").length)return s.a.warn("parseXML: Errors found while parsing XML document"),{};try{return l.xml2json(t)}catch(e){return s.a.warn("parseXML: Unable to parse XML: "+e.message),{}}},replaceXMLElementNames:function(e,t,n){Array.isArray(t)||(t=[t]);var r=t.join("|"),i=new RegExp("<("+r+")","g"),a=new RegExp("</("+r+")>","g");return e=(e=e.replace(i,"<"+n+' elementName="$1"')).replace(a,"</"+n+">")},parseEncodedString:function(e,t){e&&c(function(t){if(e.hasOwnProperty(t)){var n=e[t];if(null==n)e[t]="";else try{e[t]=decodeURIComponent(n)}catch(e){}}},t)},parseInteger:function(e,t){e&&c(function(t){if(e.hasOwnProperty(t)){var n=e[t];e[t]=null==n||""===n?0:parseInt(n,10)}},t)},parseFloat:function(e){function t(t,n){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}(function(e,t){e&&c(function(t){if(e.hasOwnProperty(t)){var n=e[t];e[t]=null===n||""===n?0:parseFloat(n)}},t)}),parseBoolean:function(e,t){e&&c(function(t){if(e.hasOwnProperty(t)){var n=e[t];e[t]=1===Number(n)||"true"===n}},t)},parseArray:function(e,t){e&&c(function(t){if(e.hasOwnProperty(t)){var n=e[t];Array.isArray(n)||(e[t]=[n])}else e[t]=[]},t)},parseQueryString:function(e,t,n){e&&(n||(n="&"),c(function(t){if(e.hasOwnProperty(t)){var r,a=e[t];i.a.isObject(a)||(i.a.isString(a)&&(a=a.trim().replace(/^(\?|#)/,""))?e[t]=(r=a.split(n),i.a.reduce(r,function(e,t){var n=t.split("="),r=n[0],i=n[1];try{r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}catch(e){s.a.warn("Unable to decode query string at "+r)}return e},{})):e[t]={})}},t))}};t.a=u},function(e,t,n){"use strict";var r=n(5),i=n.n(r);function a(){i.a.isFunction(this.initialize)&&this.initialize.apply(this,arguments)}a.extend=function(e,t){var n,r=this;n=e&&i.a.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)||null},i.a.extend(n,r,t);var a=function(){this.constructor=n};if(a.prototype=r.prototype,n.prototype=new a,e&&e.hasOwnProperty("mixins")){var o=e.mixins;delete e.mixins,Array.isArray(o)||(o=[o]),i.a.each(o,function(e){i.a.extend(n.prototype,e)})}return e&&i.a.extend(n.prototype,e),n.__super__=r.prototype,n},t.a=a},function(e,t,n){"use strict";var r=n(8),i=n.n(r),a=n(5),o=n.n(a),s=n(15),l=n(16),c=n(3),u=n(37),d=l.a.extend({name:"TranscodeSessionModel",context:["server"],url:function(){return"/transcode/sessions/"+this.id},syncedAttrs:{key:c.a.string,progress:c.a.float,throttled:c.a.boolean,speed:c.a.float,duration:c.a.integer,videoDecision:c.a.string,audioDecision:c.a.string,protocol:c.a.string,container:c.a.string,videoCodec:c.a.string,audioCodec:c.a.string,audioChannels:c.a.integer,width:c.a.string,height:c.a.string,transcodeHwDecoding:c.a.string,transcodeHwEncoding:c.a.string,timeStamp:c.a.integer,minOffsetAvailable:c.a.integer,maxOffsetAvailable:c.a.integer}}),p=n(107),h=n(89),f=n(61),g=n(289),v=n(209),m=n(90),y=n(102),b=n(21);var S=n(42),I=n(47),C=n(36),M=n(30),D=n(29),w=n(2),P=n(12),T=n(82),E=n(55),x=n(19),O=l.a.extend({name:"ChapterModel",context:["server","section"],syncedAttrs:{id:c.a.integer,tag:c.a.string,index:c.a.integer,startTimeOffset:c.a.integer,endTimeOffset:c.a.integer,thumb:c.a.string}}),j=x.a.extend({name:"ChapterCollection",context:["server","section"],model:O,modelId:function(e){return e.id+"_"+e.index}}),A=l.a.extend({name:"ConcertModel",context:["server","section"],syncedAttrs:{id:c.a.integer,at:c.a.integer,tag:c.a.string,venue:c.a.string,city:c.a.string,country:c.a.string,url:c.a.string}}),N=x.a.extend({name:"ConcertCollection",context:["server","section"],model:A}),k=l.a.extend({name:"OverlayModel",context:["server","section"],syncedAttrs:{key:c.a.string,marginTop:c.a.integer,marginRight:c.a.integer,marginBottom:c.a.integer,marginLeft:c.a.integer,width:c.a.integer,height:c.a.integer,alignHorizontal:c.a.string,alignVertical:c.a.string,relative:c.a.string,imageScaling:c.a.string,marginScaling:c.a.string}}),L=x.a.extend({name:"OverlayCollection",context:["server","section"],model:k}),R=n(119),_=n(94),U={guid:!0,librarySectionID:!0,librarySectionTitle:!0,librarySectionUUID:!0,librarySectionKey:!0,file:!0,summary:!0,tagline:!0};function z(e){var t=0;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var i=e[n].Part;if(i)for(var a=0,o=i.length;a<o;a++){var s=i[a].Stream;s&&(t+=s.length)}}return t}function F(e){var t=0;if(!e)return t;for(var n=0,r=e.length;n<r;n++){var i=e[n].Part;if(i)for(var a=0,o=i.length;a<o;a++){var s=i[a];null!=s.exists&&null!=s.accessible&&t++}}return t}function B(e){return void 0===e&&(e=[]),e.reduce(function(e,t){return e[[t.beginsAt,t.channelIdentifier,t.endsAt].join("-")]=t,e},{})}function H(e,t,n){if(n&&!t)return n;var r,i=(r=n||t)&&r.some(function(e){return e.protocol===_.a})?function(e,t){if(!t)return null;var n=B(e),r=B(t),i=Object.assign({},n,r);return Object.keys(i).map(function(e){return i[e]})}(t,n):function(e,t){var n=z(t),r=z(e);return n>r?t:n===r&&F(t)>=F(e)?t:null}(t,n);return i||Object(R.a)(e,t,n)}function V(e){return(e.hasOwnProperty("ratingKey")||e.hasOwnProperty("id"))&&e.hasOwnProperty("tag")}var Q=l.a.extend({name:"MetadataModel",context:[["server",{boundDerivedAttrs:["serverEntityID"]}],["provider",{boundDerivedAttrs:["providerEntityID"]}],"section","playlist","channel","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","relatedOptions","includeExternalMedia"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:D.h,entityID:function(e){var t;if(void 0===e&&(e=this.state),e.source){var n=Object(y.a)(e.source).serverIdentifier;n!==this.server.get("machineIdentifier")&&(t=Object(M.a)(D.n,n))}return Object(M.a)(this.entityType,e.key||this.cid,t,this.server.entityID())},idAttribute:"ratingKey",rootPropertyName:"Metadata",cache:new h.a,mergeStrategy:function(e,t,n){return"Media"===e?H(e,t,n):function(e){var t=W.prototype.syncedAttrs[e];return!(!t||t!==c.a.array)}(e)?function(e,t,n){if(!n)return t;if(!t)return n;if(n.length>t.length)return n;if(!n.length||n.length<t.length)return t;var r=t&&t[0],i=n&&n[0];if(!r&&i)return n;if(!i&&r)return t;var a=V(r),o=V(i);return a&&!o?t:n}(0,t,n):function(e){return!!W.prototype.syncedRelations[e]}(e)||U[e]?Object(R.a)(e,t,n):n},responseType:function(){var e=this.get("key");return e&&e.indexOf("/system/services/url/lookup")>-1?u.a.xml:Object(v.a)(this.server,this.provider,this.channel)},url:function(){var e={};return this.includeExternalMedia&&(e.includeExternalMedia=1),s.join(this.get("key"),e)},urlRoot:function(){return this.get("key")},saveUrl:function(){return this.get("isPlaylist")&&!this.server.supports("truePlaylistsPath")?"/library/metadata/"+this.get("ratingKey"):o.a.result(this,"url")},cacheKey:function(e){this.channel&&(e=this.normalizeChannelKey(e));var t=this.extractChildrenKey(e.key);return e.source&&(t.key=e.source+t.key),this.server&&this.server.getScopedKey(t.key)},sessionAttrs:{isPreFetched:c.a.boolean,isStreamChangeInProgress:c.a.boolean,isStreamDeleteInProgress:c.a.boolean,metadataState:c.a.string,mediaState:c.a.string,indirectHttpHeaders:c.a.object,isSettingsUpdating:c.a.boolean,settingsUpdateError:c.a.object,viewCountIncrementedByPlayQueueItemID:c.a.string,downloadSubscriptionID:c.a.string,isDownloaded:c.a.boolean},syncedAttrs:{elementName:c.a.string,ratingKey:c.a.string,parentRatingKey:c.a.string,grandparentRatingKey:c.a.string,key:c.a.string,childrenKey:c.a.string,parentKey:c.a.string,grandparentKey:c.a.string,primaryExtraKey:c.a.string,augmentationKey:c.a.string,guid:c.a.string,source:c.a.string,attribution:c.a.string,remoteMedia:c.a.boolean,librarySectionID:c.a.string,librarySectionTitle:c.a.string,librarySectionUUID:c.a.string,librarySectionKey:c.a.string,type:c.a.string,subtype:c.a.string,title:c.a.string,titleSort:c.a.string,originalTitle:c.a.string,parentTitle:c.a.string,grandparentTitle:c.a.string,year:c.a.string,minYear:c.a.string,maxYear:c.a.string,tagline:c.a.string,summary:c.a.string,studio:c.a.string,contentRating:c.a.string,originallyAvailableAt:c.a.string,thumb:c.a.string,parentThumb:c.a.string,grandparentThumb:c.a.string,banner:c.a.string,art:c.a.string,parentArt:c.a.string,grandparentArt:c.a.string,hero:c.a.string,theme:c.a.string,parentTheme:c.a.string,grandparentTheme:c.a.string,chapterSource:c.a.string,ratingImage:c.a.string,audienceRating:c.a.float,audienceRatingImage:c.a.string,rating:c.a.float,userRating:c.a.float,playbackSpeed:c.a.float,index:c.a.integer,parentIndex:c.a.integer,absoluteIndex:c.a.integer,duration:c.a.integer,preview:c.a.boolean,viewOffset:c.a.integer,viewCount:c.a.integer,childCount:c.a.integer,leafCount:c.a.integer,viewedLeafCount:c.a.integer,ratingCount:c.a.integer,mediaCount:c.a.integer,mediaCountOptimized:c.a.integer,extraType:c.a.integer,lastViewedAt:c.a.integer,lastRatedAt:c.a.integer,addedAt:c.a.integer,updatedAt:c.a.integer,deletedAt:c.a.integer,Geolocation:c.a.object,url:c.a.string,playlistID:c.a.integer,playlistType:c.a.string,specialPlaylistType:c.a.string,radio:c.a.boolean,smart:c.a.boolean,readOnly:c.a.boolean,icon:c.a.string,composite:c.a.string,durationInSeconds:c.a.integer,skipChildren:c.a.boolean,skipParent:c.a.boolean,skipDetails:c.a.boolean,subscriptionID:c.a.string,saved:c.a.boolean,picked:c.a.boolean,grandparentSubscriptionID:c.a.string,subscriptionType:c.a.string,grandparentSubscriptionType:c.a.string,Channel:c.a.array,Topic:c.a.array,onAir:c.a.boolean,Media:c.a.array,Collection:c.a.array,Director:c.a.array,Producer:c.a.array,Writer:c.a.array,Genre:c.a.array,Mood:c.a.array,Country:c.a.array,Label:c.a.array,Role:c.a.array,Location:c.a.array,Tag:c.a.array,Autotag:c.a.array},sessionRelations:{children:function(){return{relationClass:n(54).default}}},syncedRelations:{chapters:{relationClass:j,rootPropertyName:"Chapter",deferred:!0},overlays:{relationClass:L,rootPropertyName:"Overlay",deferred:!0},preferences:{relationClass:p.a,rootPropertyName:"Preferences",deferred:!0},onDeck:function(){return{relationClass:Q,rootPropertyName:"OnDeck",deferred:!0}},related:function(){var e={skipCache:!0};return this.relatedOptions&&o.a.extend(e,this.relatedOptions),{relationClass:n(74).default,rootPropertyName:"RelatedHubs",deferred:!0,options:e}},popularLeaves:function(){return{relationClass:n(54).default,rootPropertyName:"PopularLeaves",deferred:!0}},extras:function(){return{relationClass:n(54).default,rootPropertyName:"Extras",deferred:!0,attrs:function(e){return{containerKey:s.join([e.key,"extras"])}}}},concerts:{relationClass:N,rootPropertyName:"Concert",deferred:!0},stations:function(){return{relationClass:n(120).default,rootPropertyName:"Stations",deferred:!0}},transcodeSession:{relationClass:d,rootPropertyName:"TranscodeSession",deferred:!0}},derivedAttrs:{identifier:function(){return this.identifier},serverEntityID:function(){if(!this.state)return null;var e=this.get("source");if(e){var t=Object(y.a)(e).serverIdentifier;return Object(M.a)(D.n,t)}return this.server?this.server.entityID():null},providerEntityID:function(){if(!this.state)return null;var e=this.get("source");if(e){var t=Object(y.a)(e).providerIdentifier;return Object(M.a)(D.l,t,this.get("serverEntityID"))}return this.provider?this.provider.entityID():null},mediaTagPrefix:function(){return this.mediaTagPrefix},mediaTagVersion:function(){return this.mediaTagVersion},allowSync:function(){return this.allowSync},containerKey:function(){return this.containerKey},isLibraryItem:function(){return this.isLibraryItem(this.get("identifier"),this.get("key"))},isChannelItem:function(){return!!this.channel},isPlaylist:function(){return this.get("type")===P.j&&!this.get("radio")},isFolder:function(){return/\/folder\?parent=/.test(this.get("key"))},isExtra:function(){return!!this.get("extraType")},isPremium:function(){var e=this.get("Media")||[];return o.a.any(e,function(e){return e.premium})},hasRadioStation:function(){var e=this.get("stations");return!!e&&!!e.findWhere({playlistType:T.a})},hasArtistTVStation:function(){var e=this.get("stations");return!!e&&!!e.findWhere({playlistType:T.c})},unviewedLeafCount:function(){var e=this.get("leafCount"),t=this.get("viewedLeafCount");if(e)return e-t},downloadUrl:function(){var e=this,t=this.get("Media");if(t&&1===t.length){var n=o.a.first(o.a.first(t).Part),r=n&&n.key;if(r)return function(){var t=s.join(r,{download:1});return e.server.resolveUrl(t,{appendToken:!0})}}}},defaults:{isStreamChangeInProgress:!1,isStreamDeleteInProgress:!1,isSettingsUpdating:!1,isDownloaded:!1,settingsUpdateError:null,rating:0,onAir:!1,skipDetails:!1,Media:[],Collection:[],Director:[],Producer:[],Writer:[],Genre:[],Mood:[],Country:[],Label:[],Topic:[],Channel:[],Role:[],Location:[],Autotag:[],Tag:[]},initialize:function(){this.setChildrenKey(this.get("childrenKey")),this.on("change:childrenKey",this.onChildrenKeyChange,this)},uninitialize:function(){this.off("change:childrenKey",this.onChildrenKeyChange,this),this.stopListening()},fetch:function(e){return void 0===e&&(e={}),e.data&&(this._populatedParams=o.a.extend({},this._populatedParams,e.data)),e.usePopulatedParams&&(e.data=this._populatedParams),l.a.prototype.fetch.call(this,e)},augmentResponseText:function(e,t){return t===u.a.xml?Object(I.b)(e):e},augmentResponse:function(e,t){var n=this,r=e[this.rootPropertyName];if(r){Array.isArray(r)&&(r=r[0]);["attribution","augmentationKey","librarySectionID","librarySectionTitle","librarySectionUUID"].forEach(function(t){r[t]||(r[t]=e[t])})}this.responseContext.forEach(function(t){var i=e[t]||r&&r[t];void 0!==i&&n.setContext(t,i)});var i=r||e,a=i.Related,s=i.OnDeck,l=i.Stations,c=i.Preferences,u=this.extractChildrenKey(i.key);return u.childrenKey&&(i.childrenKey=u.childrenKey,i.key=u.key),i.Media=this.convertMediaItems(i.Media),i.Channel=this.convertChannelItems(i.Channel),i.Topic=this.convertTopicItems(i.Topic),a&&(i.RelatedHubs=o.a.compact([].concat(a.Hub,a.Directory))),s&&(i.OnDeck=s.Metadata),l&&(i.Stations=l.Metadata),c&&(i.Preferences=c.Setting),this.normalize(i)},extractChildrenKey:function(e){var t,n=/(.*)\/(children|items)$/.exec(e);return n&&(t=e,e=n[1]),{childrenKey:t,key:e}},setChildrenKey:function(e){e&&("album"===this.get("type")&&(e=s.join(e,{includeRelated:1})),this.get("children").set("containerKey",e))},convertMediaItems:function(e){var t=C.a.parseArray(e);return o.a.each(t,function(e){S.a.parseBoolean(e,["indirect","optimizedForStreaming","premium","premiere","selected"]),S.a.parseInteger(e,["id","duration","width","height","bitrate","audioChannels","proxyType","beginsAt","endsAt","beginOffset","startOffsetSeconds","endOffsetSeconds"]),null==e.id&&null==e.uuid&&(e.uuid=e.container+"-"+e.protocol+"-"+e.audioCodec),S.a.parseArray(e,"Part"),o.a.each(e.Part,function(e){null!=e.exists&&(e.exists=C.a.parseBoolean(e.exists)),null!=e.accessible&&(e.accessible=C.a.parseBoolean(e.accessible)),S.a.parseInteger(e,["id","duration","size"]),S.a.parseBoolean(e,"optimizedForStreaming"),S.a.parseEncodedString(e,"file"),S.a.parseArray(e,"Stream"),o.a.each(e.Stream,function(e){S.a.parseBoolean(e,["anamorphic","selected","default","forced","timed","cabac","hasScalingMatrix","headerStripping"]),S.a.parseInteger(e,["id","index","streamType","duration","width","height","bitrate","bitDepth","level","refFrames","samplingRate","channels","minLines","offset"]),S.a.parseFloat(e,"frameRate")})})}),this.addNoneSubtitlesStreams(t)},convertChannelItems:function(e){var t=C.a.parseArray(e);return o.a.each(t,function(e){S.a.parseBoolean(e,["followed","muted"])}),t},convertTopicItems:function(e){var t=C.a.parseArray(e);return o.a.each(t,function(e){S.a.parseBoolean(e,["followed","muted"])}),t},addNoneSubtitlesStreams:function(e){var t=E.a.get("subtitles");return e.forEach(function(e){var n=e.Part;n&&n.forEach(function(n){if(n.Stream&&Object(m.a)(e)){var r=n.Stream.filter(function(e){return e.streamType===t.id});if(!r.find(function(e){return e.id===g.a})){var i=r.find(function(e){return e.selected}),a={id:0,streamType:t.id,language:Object(w.default)("None")};i||(a.selected=!0),n.Stream.unshift(a)}}})}),e},normalize:function(e){return this.channel?(e=this.normalizeChannelKey(e),e=this.normalizeChannelType(e),e=this.normalizeChannelMetadata(e)):e=this.normalizeType(e),e},normalizeType:function(e){return"photo"===e.type&&e.childrenKey&&(e.type="photoalbum"),e},normalizeChannelKey:function(e){var t=e.key&&e.key.split("/");return t&&(1===t.length&&this.containerKey&&(e.hasInvalidKey=!0,e.originalKey=e.key,e.key=this.containerKey+"/"+e.key),e.ratingKey||(e.ratingKey=e.originalKey||e.key)),e},normalizeChannelType:function(e){return e.type||(e.mediaType?e.type=e.mediaType:e.elementName&&(e.type=e.elementName.toLowerCase())),/image/i.test(e.type)&&(e.type="photo"),Object(P.r)(e.type)||(e.type="channelDirectory"),e},normalizeChannelMetadata:function(e){return e.label?e.title=e.label:e.artist&&(e.track?(e.title=e.track,e.originalTitle=e.artist,e.parentTitle=e.album,e.grandparentTitle=e.albumArtist):e.album?(e.title=e.album,e.parentTitle=e.artist):e.title=e.artist),e.totalTime&&(e.duration=e.totalTime),e},refreshChildren:function(){var e=this.get("children");e&&e.populatePromise&&e.fetch().always(function(){e.get("metadataItems").invoke("refreshChildren")})},resolveIndirect:function(e,t){var n=this,r=i.a.Deferred();if(!e||!t)return r.reject(this).promise();if(!e.indirect)return r.resolve(this).promise();if(t.postURL){var a=o.a.find([this.server,this.server.parent.get("primaryServer")],function(e){return e&&e.get("isConnected")&&e.get("isFullServer")});if(a)return this.resolvePostUrl(e,t,a)}var s=i.a.ajax(this.server.getXHROptions(t.key));return s.done(function(i){n.mergeIndirectResponse(i,e,t)?r.resolve(n):r.reject(n)}),s.fail(function(){r.reject(n)}),r.promise()},resolvePostUrl:function(e,t,n){var r=this,a=i.a.Deferred(),o=t.key,l=t.postURL,c=n.getXHROptions("/system/proxy");c.headers=c.headers||{},c.headers["X-Plex-Url"]=l;var u=i.a.ajax(c);return(u=u.then(function(e,t,n){var a=s.join(o,{postURL:l}),c=r.server.getXHROptions(a);return c.type="POST",c.headers=c.headers||{},c.data=n.getAllResponseHeaders()+"\r\n"+e,i.a.ajax(c)})).done(function(n,i,o){r.mergeIndirectResponse(n,e,t)?a.resolve(r):a.reject(r)}),u.fail(function(){a.reject(r)}),a.promise()},mergeIndirectResponse:function(e,t,n){var r=C.a.parseXML(Object(I.b)(e));if(!(r&&r.Metadata&&r.Metadata.Media&&r.Metadata.Media.Part))return!1;var i,a=o.a.first(this.convertMediaItems(r.Metadata.Media)),s=C.a.parseArray(a.Part),l=o.a.first(s);if(!a||!l)return!1;(a.indirect=!1,o.a.extend(t,o.a.omit(a,"Part")),o.a.extend(n,l),s.length>1)&&(i=t.Part).push.apply(i,s.slice(1));if(r.httpHeaders){for(var c,u=new RegExp("([^=]+)=([^&]+)&?","g"),d={};c=u.exec(r.httpHeaders);)c[1]in d?(Array.isArray(d[c[1]])||(d[c[1]]=[d[c[1]]]),d[c[1]].push(c[2])):d[c[1]]=c[2];this.set("indirectHttpHeaders",d)}return!0},batchAdd:function(e,t,n){var r=o.a.map(e,function(e){return e.get("ratingKey")}),a=s.join(["/library/metadata",r.join(","),t,"add"],{tag:n}),l=this.server.getXHROptions(a,{type:"PUT"});return i.a.ajax(l)},getDownloadUrl:function(e){void 0===e&&(e=0);var t=this.get("Media")[e];if(t){var n=o.a.first(t.Part),r=n&&n.key;if(r){var i=s.join(r,{download:1});return this.server.resolveUrl(i,{appendToken:!0})}}},getFilepath:function(e){void 0===e&&(e=0);var t=this.get("Media")[e];if(t){var n=o.a.first(t.Part);if(n)return n.file}},getLocation:function(){var e=this.get("Location");return e.length?o.a.first(e).path:this.getFilepath()},getMediaKey:function(){var e=o.a.first(this.get("Media"));if(e){var t=o.a.first(e.Part);if(t)return t.key}return this.get("key")},isLibraryItem:function(e,t){return!(this.provider&&!this.provider.get("isLibraryProvider"))&&(r=t,(n=e)?b.i(n,b.d):/^(\/sync\/[\w\d-/]*)?\/library\//.test(r));var n,r},isPlexMusicItem:function(){var e=this.section;return e&&e.get("agent")===f.f},onChildrenKeyChange:function(e,t){this.setChildrenKey(t)}}),W=t.a=Q},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},function(e,t,n){e.exports={overlay:"MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",background:"MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",hoverBackground:"MetadataPosterCardOverlay-hoverBackground-1SwD6Z PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"MetadataPosterCardOverlay-selectedBackground-Wzv0ox PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"MetadataPosterCardOverlay-visibleBackground-1JQ4_4 PosterCardOverlay-visibleBackground-1Kms_J",link:"MetadataPosterCardOverlay-link-1SwhlG",badge:"MetadataPosterCardOverlay-badge-1FU-pf",topLeftBadge:"MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadge:"MetadataPosterCardOverlay-versionBadge-1cDAuU MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",versionBadgeIcon:"MetadataPosterCardOverlay-versionBadgeIcon-JkU8Ef",smartBadge:"MetadataPosterCardOverlay-smartBadge-2YOF_V MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",smartBadgeIcon:"MetadataPosterCardOverlay-smartBadgeIcon-378Syu",favoriteBadge:"MetadataPosterCardOverlay-favoriteBadge-1jLkEK MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",favoriteBadgeIcon:"MetadataPosterCardOverlay-favoriteBadgeIcon-2CJhPF",unplayedBadge:"MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",hasSubscriptionBadge:"MetadataPosterCardOverlay-hasSubscriptionBadge-l3MOeu DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj MetadataPosterCardOverlay-topLeftBadge-2ooI_T MetadataPosterCardOverlay-badge-1FU-pf",unplayedTagContainer:"MetadataPosterCardOverlay-unplayedTagContainer-1uFYq2",unplayedTag:"MetadataPosterCardOverlay-unplayedTag-3hwoiQ MetadataPosterCardOverlay-unplayedBadge-2hKHo5 MetadataPosterCardOverlay-badge-1FU-pf",progress:"MetadataPosterCardOverlay-progress-2voxfD PosterCardOverlayProgress-progress-16k0BJ",button:"MetadataPosterCardOverlay-button-M43H-q",centerCircle:"MetadataPosterCardOverlay-centerCircle-1Mg-s-",playButton:"MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"MetadataPosterCardOverlay-playCoverButton-I7oU3N MetadataPosterCardOverlay-playButton-1fjhkh PlayButton-playButton-3WX8X- MetadataPosterCardOverlay-button-M43H-q",playCircle:"MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",selectButton:"MetadataPosterCardOverlay-selectButton-3rwSVG SelectButton-selectButton-3Kbjm9 MetadataPosterCardOverlay-button-M43H-q",selectCircle:"MetadataPosterCardOverlay-selectCircle-3ql8ST SelectButton-selectCircle-3tdvGt",coverButton:"MetadataPosterCardOverlay-coverButton-2Dm9Pj",selectCoverButton:"MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",deselectCoverButton:"MetadataPosterCardOverlay-deselectCoverButton-3mzekx MetadataPosterCardOverlay-coverButton-2Dm9Pj",editButton:"MetadataPosterCardOverlay-editButton-7oR-Qi MetadataPosterCardOverlay-button-M43H-q",favoriteButton:"MetadataPosterCardOverlay-favoriteButton-3SmN_W MetadataPosterCardOverlay-button-M43H-q",moreButton:"MetadataPosterCardOverlay-moreButton-3FK-Ko MetadataPosterCardOverlay-button-M43H-q",removeButton:"MetadataPosterCardOverlay-removeButton-3hIPxU MetadataPosterCardOverlay-button-M43H-q",hasActiveSelection:"MetadataPosterCardOverlay-hasActiveSelection-2pflV8",refreshingCircle:"MetadataPosterCardOverlay-refreshingCircle-3EbpeR MetadataPosterCardOverlay-centerCircle-1Mg-s-",trashCircle:"MetadataPosterCardOverlay-trashCircle-XoEoZf MetadataPosterCardOverlay-centerCircle-1Mg-s-",isActionsMenuOpen:"MetadataPosterCardOverlay-isActionsMenuOpen-AvHIX3",isSelected:"MetadataPosterCardOverlay-isSelected-2muunK",isConflictingTypeSelected:"MetadataPosterCardOverlay-isConflictingTypeSelected-E8CIxH",isModifierKeyPressed:"MetadataPosterCardOverlay-isModifierKeyPressed-2cmkda",isDragging:"MetadataPosterCardOverlay-isDragging-1XK1P4",refreshingSpinnerContainer:"MetadataPosterCardOverlay-refreshingSpinnerContainer-1ERDtN",refreshingSpinner:"MetadataPosterCardOverlay-refreshingSpinner-ipJiyn",refreshingIcon:"MetadataPosterCardOverlay-refreshingIcon-3dF55d"}},function(e,t,n){"use strict";var r,i=n(12);var a=function(e){r||(r=Object(i.o)().map(function(e){return e.typeString}).join("|"));var t=new RegExp('<Directory([^>]*?)type="('+r+')"([\\s\\S]*?)</Directory>',"gm"),n=new RegExp('<Directory([^>]*?)type="('+r+')"([\\s\\S]*?)/>',"gm");return e.replace(t,'<Metadata$1type="$2" elementName="Directory"$3</Metadata>').replace(n,'<Metadata$1type="$2" elementName="Directory"$3/>')};var o=function(e,t,n){Array.isArray(t)||(t=[t]);var r=t.join("|"),i=new RegExp("<("+r+")","g"),a=new RegExp("</("+r+")>","g");return e.replace(i,"<"+n+' elementName="$1"').replace(a,"</"+n+">")};n.d(t,"a",function(){return s});var s=["Video","Track","Photo","Playlist"];t.b=function(e,t){var n=t&&t.includeDirectories,r=n?["Directory"].concat(s):s,i=o(e,r,"Metadata");return n?i:a(i)}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="myPlex"},function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=(n(439),/\s+/),o=function(e,t,n,r){if(!n)return!0;if("object"==typeof n){for(var i in n)e[t].apply(e,[i,n[i]].concat(r));return!1}if(a.test(n)){for(var o=n.split(a),s=0,l=o.length;s<l;s++)e[t].apply(e,[o[s]].concat(r));return!1}return!0},s=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t)}},l={on:function(e,t,n){return o(this,"on",e,[t,n])&&t?(this._events||(this._events={}),(this._events[e]||(this._events[e]=[])).push({callback:t,context:n,ctx:n||this}),this):this},once:function(e,t,n){if(!o(this,"once",e,[t,n])||!t)return this;var r=this,a=i.a.once(function(){r.off(e,a),t.apply(this,arguments)});return a._callback=t,this.on(e,a,n)},off:function(e,t,n){var r,a,s,l,c,u,d,p;if(!this._events||!o(this,"off",e,[t,n]))return this;if(!e&&!t&&!n)return this._events=void 0,this;for(c=0,u=(l=e?[e]:i.a.keys(this._events)).length;c<u;c++)if(e=l[c],s=this._events[e]){if(this._events[e]=r=[],t||n)for(d=0,p=s.length;d<p;d++)a=s[d],(t&&t!==a.callback&&t!==a.callback._callback||n&&n!==a.context)&&r.push(a);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=[].slice.call(arguments,1);if(!o(this,"trigger",e,t))return this;var n=this._events[e],r=this._events.all;return n&&s(n,t),r&&s(r,arguments),this},stopListening:function(e,t,n){var r=this._listeningTo;if(!r)return this;var a=!t&&!n;for(var o in n||"object"!=typeof t||(n=this),e&&((r={})[e._listenId]=e),r)(e=r[o]).off(t,n,this),(a||i.a.isEmpty(e._events))&&delete this._listeningTo[o];return this},hasListener:function(e){var t=this._events&&this._events[e];return Array.isArray(t)&&t.length>0}};i.a.each({listenTo:"on",listenToOnce:"once"},function(e,t){l[t]=function(t,n,r){return(this._listeningTo||(this._listeningTo={}))[t._listenId||(t._listenId=i.a.uniqueId("l"))]=t,r||"object"!=typeof n||(r=this),t[e](n,r,this),this}}),l.bind=l.on,l.unbind=l.off,t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(37);function i(e){var t=e&&e.get("isCloud"),n=e&&e.supports("json")&&!e.get("onlyXML")&&e.get("isFullServer");return t||n?r.a.json:r.a.xml}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),a=n(5),o=n.n(a),s=n(43),l=n(17),c=n(15),u=n(11),d=n(440),p=s.a.extend({initialize:function(){o.a.bindAll(this,"onAjaxSend","onAjaxComplete"),this.requests=[],this.byId={}},startListening:function(){var e=i()(document);e.on("ajaxSend",this.onAjaxSend),e.on("ajaxComplete",this.onAjaxComplete)},stopListening:function(){var e=i()(document);e.off("ajaxSend",this.onAjaxSend),e.off("ajaxComplete",this.onAjaxComplete)},abortAll:function(e){for(var t=this.requests.length-1;t>-1;t--){var n=this.requests[t];null!=e&&e!==n.settings.scope||this.abort(n)}},abort:function(e){var t=o.a.isString(e)?this.byId[e]:e;t&&(t.xhr.aborting=!0,t.xhr.abort(),this.remove(t))},store:function(e,t){var n=o.a.uniqueId("r");e.rid=n;var r={xhr:e,settings:t};return this.requests.push(r),this.byId[n]=r,r},remove:function(e){var t=o.a.indexOf(this.requests,e);t>-1&&this.requests.splice(t,1),this.byId.hasOwnProperty(e.xhr.rid)&&delete this.byId[e.xhr.rid]},onAjaxSend:function(e,t,n){var r=this;if(!n.skipCorsWithRedirect){var i=this.store(t,n);t.always(function(){t.aborting||r.remove(i)})}},onAjaxComplete:function(e,t,n){var r=Object(d.a)(t);if(!t.aborting&&r){var i=Object(c.parseUrl)(n.url);if(!r||"/log"!==i.pathname&&"/"!==i.pathname&&"/media/providers"!==i.pathname){var a=Object(u.c)("appModel").get("servers").find(function(e){var t=e.get("activeConnection"),r=t&&t.get("isConnected"),i=o.a.result(t,"url");return!!r&&0===n.url.indexOf(i)});a&&(Object(l.a)('[Connections] Active connection to "%s" lost authorization',a.get("debugName")),a.trigger("error:connection",a))}}}});t.a=new p},function(e,t,n){"use strict";var r=n(32),i=n(75),a=function(){if(!i.a)return!1;var e=document.createElement("canvas");return!!(e&&e.getContext&&e.getContext("2d"))}(),o={isHostedHttps:i.a&&"https:"===window.location.protocol,hasConsole:!!(window.console&&window.console.log&&window.console.log.call),hasWebSocket:i.a&&!!window.WebSocket,hasEventSource:i.a&&!!window.EventSource,hasReplaceState:i.a&&!(!window.history||!window.history.replaceState),hasFileUpload:i.a&&!!(window.File&&window.FileList&&window.FileReader),hasMediaSource:i.a&&!(!window.MediaSource&&!window.WebKitMediaSource),hasObjectUrl:!("ie"===r.a.id&&11===parseInt(r.a.version,10))&&!r.a.presto&&i.a&&!!(window.URL&&window.URL.createObjectURL&&window.URL.revokeObjectURL),hasBlob:function(){try{return!!new window.Blob}catch(e){return!1}}(),hasFullscreen:function(){if(!i.a)return!1;var e=document.createElement("div");return!!(e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen)}(),hasCanvas:a,hasWebGL:function(){if(!a)return!1;var e=document.createElement("canvas"),t=e.getContext("webgl")||e.getContext("experimental-webgl");return!!t&&t instanceof window.WebGLRenderingContext}(),hasTouchScreen:i.a&&!!("ontouchstart"in window),hasPageVisibility:i.a&&(!0===document.hidden||!1===document.hidden),hasWebKitPageVisibility:i.a&&(!0===document.webkitHidden||!1===document.webkitHidden),hasPassiveEventListeners:function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){return e=!0,!0}});window.addEventListener("test",null,t)}catch(e){}return e}(),hasWebSpeech:i.a&&!!window.speechSynthesis};t.a=o},function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),a=n(15),o=n(16),s=n(3),l=n(95),c=n(37),u=n(209),d=n(47),p=n(36),h=n(30),f=n(29),g=n(456),v=n(457),m=o.a.extend({name:"MetaModel",context:["server","provider"],syncedRelations:{types:{relationClass:v.a,rootPropertyName:"Type"},fieldTypes:{relationClass:g.a,rootPropertyName:"FieldType"}}}),y=n(120),b=o.a.extend({mixins:[l.a],name:"MetadataListModel",context:["server","provider","section","metadataItem","channel","identifier","mediaTagPrefix","mediaTagVersion","allowSync","excludeFields","excludeElements","excludeAllLeaves","includeRelated","includeCollections","includeExternalMedia","includeAdvanced","includeMeta"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion","allowSync"],entityType:f.i,entityID:function(e){return void 0===e&&(e=this.state),Object(h.a)(this.entityType,e.entityKey||e.containerKey||e.key||this.cid,(this.provider||this.server).entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType:function(){return Object(u.a)(this.server,this.provider,this.channel)},url:function(){var e=this.getPaginatedUrl(this.get("containerKey")||this.get("key")),t={excludeElements:this.excludeElements?this.excludeElements:void 0,excludeFields:this.excludeFields?this.excludeFields:void 0,excludeAllLeaves:this.excludeAllLeaves?1:void 0,includeRelated:this.includeRelated?1:void 0,includeCollections:this.includeCollections?1:void 0,includeExternalMedia:this.includeExternalMedia?1:void 0,includeAdvanced:this.includeAdvanced?1:void 0,includeMeta:this.includeMeta?1:void 0};return e?a.join(e,t):e},sessionAttrs:{isMetadataList:s.a.boolean,entityKey:s.a.string,containerKey:s.a.string,containerTitle:s.a.string,currentPageStart:s.a.integer,currentPageSize:s.a.integer,populatedRange:s.a.object,isPending:s.a.boolean,isPopulated:s.a.boolean,error:s.a.object},syncedAttrs:{isDirectoryList:s.a.boolean,isMetaPopulated:s.a.boolean,key:s.a.string,librarySectionID:s.a.string,totalSize:s.a.integer,viewGroup:s.a.string,title:s.a.string,thumb:s.a.string,art:s.a.string,banner:s.a.string,theme:s.a.string,allowSync:s.a.boolean},syncedRelations:{metadataItems:{relationClass:y.default,rootPropertyName:"Metadata",options:function(e){return{containerKey:e.containerKey||e.key}},setOptions:function(e){return{remove:e.remove,at:e.at}}},meta:{relationClass:m,rootPropertyName:"Meta",deferred:!0}},derivedAttrs:{firstItemType:function(){var e=this.getCollection().first();return e?e.get("type"):this.attributes.firstItemType},firstItemSubtype:function(){var e=this.getCollection().first();return e?e.get("subtype"):this.attributes.firstItemSubtype},isFirstItemLibraryItem:function(){var e=this.getCollection().first();return e?e.get("isLibraryItem"):this.attributes.isFirstItemLibraryItem}},defaults:function(){return{isMetadataList:!0,isDirectoryList:!1,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,isMetaPopulated:!1,error:null}},initialize:function(e){this._totalSizeAdjustment=0,this.startPopulatedRangeMonitor(),this.on("change:key change:containerKey",this.onContainerKeyChange,this)},uninitialize:function(){this.off("change:key change:containerKey",this.onContainerKeyChange,this),this.stopListening()},augmentResponseText:function(e,t){var n=this.get("containerKey")||this.get("key"),r=/\/folder(\?|$)/.test(n);return t===c.a.xml?Object(d.b)(e,{includeDirectories:r}):e},augmentResponse:function(e,t){var n=this;this.responseContext.forEach(function(t){var r=e[t];void 0!==r&&n.setContext(t,r)});var r=p.a.parseArray(e.Metadata),a=p.a.parseArray(e.Directory),o=p.a.parseInteger(e.totalSize);return this.allowAllLeaves||(e.Metadata=i.a.reject(r,function(e){var t=/\/allLeaves$/.test(e.key);return t&&(this._totalSizeAdjustment-=1),t},this)),!r.length&&e.Directory&&(e.Metadata=a,e.isDirectoryList=!0),this.includeMeta&&(e.isMetaPopulated=!0),o&&this._totalSizeAdjustment&&(e.totalSize=o-this._totalSizeAdjustment),!e.title&&e.title1&&(e.title=e.title1),e},onContainerKeyChange:function(e,t){var n=this.get("metadataItems"),r=this.syncedRelations.metadataItems.options(this.attributes);i.a.each(r,function(e,t){n.setContext(t,e)})}});t.default=b},function(e,t,n){"use strict";var r=n(2),i=n(69),a=Object(i.a)(["id","typeString"],[{id:1,typeString:"video",key:"videoStreamID",title:function(){return Object(r.default)("Video")}},{id:2,typeString:"audio",key:"audioStreamID",title:function(){return Object(r.default)("Audio")}},{id:3,typeString:"subtitles",key:"subtitleStreamID",title:function(){return Object(r.default)("Subtitles")}},{id:4,typeString:"lyrics",key:"lyricStreamID",title:function(){return Object(r.default)("Lyrics")}}]);t.a=a},function(e,t,n){
/*!
 * Includes BabySitter
 * https://github.com/marionettejs/backbone.babysitter/
 *
 * Includes Wreqr
 * https://github.com/marionettejs/backbone.wreqr/
 */
!function(t,r){var i=n(5),a=n(283);n(1382),n(1383);e.exports=function(e,t){!function(e,t,n){"use strict";var r={};t.Marionette=r,r.$=t.$;var i=Array.prototype.slice;function a(e,t){var n=new Error(e);throw n.name=t||"Error",n}r.extend=t.Model.extend,r.getOption=function(e,t){if(e&&t)return e.options&&t in e.options&&void 0!==e.options[t]?e.options[t]:e[t]},r.normalizeMethods=function(e){var t,r={};return n.each(e,function(e,i){t=e,n.isFunction(t)||(t=this[t]),t&&(r[i]=t)},this),r},r.triggerMethod=function(){var e=/(^|:)(\w)/gi;function t(e,t,n){return n.toUpperCase()}return function(r){var i=this["on"+r.replace(e,t)];n.isFunction(this.trigger)&&this.trigger.apply(this,arguments);if(n.isFunction(i))return i.apply(this,n.tail(arguments))}}(),r.MonitorDOMRefresh=function(e){function t(t){t._isShown&&t._isRendered&&function(t){return e.contains(t.el)}(t)&&n.isFunction(t.triggerMethod)&&t.triggerMethod("dom:refresh")}return function(e){e.listenTo(e,"show",function(){!function(e){e._isShown=!0,t(e)}(e)}),e.listenTo(e,"render",function(){!function(e){e._isRendered=!0,t(e)}(e)})}}(document.documentElement),function(e){function t(e,t,r,i){var o=i.split(/\s+/);n.each(o,function(n){var i=e[n];i||a("Method '"+n+"' was configured as an event handler, but does not exist."),e.listenTo(t,r,i)})}function r(e,t,n,r){e.listenTo(t,n,r)}function i(e,t,r,i){var a=i.split(/\s+/);n.each(a,function(n){var i=e[n];e.stopListening(t,r,i)})}function o(e,t,n,r){e.stopListening(t,n,r)}function s(e,t,r,i,a){t&&r&&(n.isFunction(r)&&(r=r.call(e)),n.each(r,function(r,o){n.isFunction(r)?i(e,t,o,r):a(e,t,o,r)}))}e.bindEntityEvents=function(e,n,i){s(e,n,i,r,t)},e.unbindEntityEvents=function(e,t,n){s(e,t,n,o,i)}}(r),r.Callbacks=function(){this._deferred=r.$.Deferred(),this._callbacks=[]},n.extend(r.Callbacks.prototype,{add:function(e,t){this._callbacks.push({cb:e,ctx:t}),this._deferred.done(function(n,r){t&&(n=t),e.call(n,r)})},run:function(e,t){this._deferred.resolve(t,e)},reset:function(){var e=this._callbacks;this._deferred=r.$.Deferred(),this._callbacks=[],n.each(e,function(e){this.add(e.cb,e.ctx)},this)}}),r.Controller=function(e){this.triggerMethod=r.triggerMethod,this.options=e||{},n.isFunction(this.initialize)&&this.initialize(this.options)},r.Controller.extend=r.extend,n.extend(r.Controller.prototype,t.Events,{close:function(){this.stopListening(),this.triggerMethod("close"),this.unbind()}}),r.Region=function(e){if(this.options=e||{},this.el=r.getOption(this,"el"),this.el||a("An 'el' must be specified for a region.","NoElError"),this.initialize){var t=Array.prototype.slice.apply(arguments);this.initialize.apply(this,t)}},n.extend(r.Region,{buildRegion:function(e,t){var r,i,o=n.isString(e),s=n.isString(e.selector),l=n.isUndefined(e.regionType),c=n.isFunction(e);c||o||s||a("Region must be specified as a Region type, a selector string or an object with selector property"),o&&(r=e),e.selector&&(r=e.selector,delete e.selector),c&&(i=e),!c&&l&&(i=t),e.regionType&&(i=e.regionType,delete e.regionType),(o||c)&&(e={}),e.el=r;var u=new i(e);return e.parentEl&&(u.getEl=function(t){var r=e.parentEl;return n.isFunction(r)&&(r=r()),r.find(t)}),u}}),n.extend(r.Region.prototype,t.Events,{show:function(e){this.ensureEl();var t=e.isClosed||n.isUndefined(e.$el),i=e!==this.currentView;i&&this.close(),e.render(),(i||t)&&this.open(e),this.currentView=e,r.triggerMethod.call(this,"show",e),r.triggerMethod.call(e,"show")},ensureEl:function(){this.$el&&0!==this.$el.length||(this.$el=this.getEl(this.el))},getEl:function(e){return r.$(e)},open:function(e){this.$el.empty().append(e.el)},close:function(){var e=this.currentView;e&&!e.isClosed&&(e.close?e.close():e.remove&&e.remove(),r.triggerMethod.call(this,"close",e),delete this.currentView)},attachView:function(e){this.currentView=e},reset:function(){this.close(),delete this.$el}}),r.Region.extend=r.extend,r.RegionManager=function(e){var t=e.Controller.extend({constructor:function(t){this._regions={},e.Controller.prototype.constructor.call(this,t)},addRegions:function(e,t){var r={};return n.each(e,function(e,i){n.isString(e)&&(e={selector:e}),e.selector&&(e=n.defaults({},e,t));var a=this.addRegion(i,e);r[i]=a},this),r},addRegion:function(t,r){var i,a=n.isObject(r),o=n.isString(r),s=!!r.selector;return i=o||a&&s?e.Region.buildRegion(r,e.Region):n.isFunction(r)?e.Region.buildRegion(r,e.Region):r,this._store(t,i),this.triggerMethod("region:add",t,i),i},get:function(e){return this._regions[e]},removeRegion:function(e){var t=this._regions[e];this._remove(e,t)},removeRegions:function(){n.each(this._regions,function(e,t){this._remove(t,e)},this)},closeRegions:function(){n.each(this._regions,function(e,t){e.close()},this)},close:function(){this.removeRegions(),e.Controller.prototype.close.apply(this,arguments)},_store:function(e,t){this._regions[e]=t,this._setLength()},_remove:function(e,t){t.close(),delete this._regions[e],this._setLength(),this.triggerMethod("region:remove",e,t)},_setLength:function(){this.length=n.size(this._regions)}});return n.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],function(e){t.prototype[e]=function(){var t=n.values(this._regions),r=[t].concat(n.toArray(arguments));return n[e].apply(n,r)}}),t}(r),r.TemplateCache=function(e){this.templateId=e},n.extend(r.TemplateCache,{templateCaches:{},get:function(e){var t=this.templateCaches[e];return t||(t=new r.TemplateCache(e),this.templateCaches[e]=t),t.load()},clear:function(){var e,t=i.call(arguments),n=t.length;if(n>0)for(e=0;e<n;e++)delete this.templateCaches[t[e]];else this.templateCaches={}}}),n.extend(r.TemplateCache.prototype,{load:function(){if(this.compiledTemplate)return this.compiledTemplate;var e=this.loadTemplate(this.templateId);return this.compiledTemplate=this.compileTemplate(e),this.compiledTemplate},loadTemplate:function(e){var t=r.$(e).html();return t&&0!==t.length||a("Could not find template: '"+e+"'","NoTemplateError"),t},compileTemplate:function(e){return n.template(e)}}),r.Renderer={render:function(e,t){return e||a("Cannot render the template since it's false, null or undefined.","TemplateNotFoundError"),("function"==typeof e?e:r.TemplateCache.get(e))(t)}},r.View=t.View.extend({constructor:function(e){n.bindAll(this,"render"),this.options=n.extend({},n.result(this,"options"),n.isFunction(e)?e.call(this):e),this.events=this.normalizeUIKeys(n.result(this,"events")),t.View.prototype.constructor.apply(this,arguments),r.MonitorDOMRefresh(this),this.listenTo(this,"show",this.onShowCalled)},triggerMethod:r.triggerMethod,normalizeMethods:r.normalizeMethods,getTemplate:function(){return r.getOption(this,"template")},mixinTemplateHelpers:function(e){e=e||{};var t=r.getOption(this,"templateHelpers");return n.isFunction(t)&&(t=t.call(this)),n.extend(e,t)},normalizeUIKeys:function(e){var t=this;if(void 0!==e)return n.each(n.keys(e),function(r){var i=/@ui.[a-zA-Z_$0-9]*/g;r.match(i)&&(e[r.replace(i,function(e){return n.result(t,"ui")[e.slice(4)]})]=e[r],delete e[r])}),e},configureTriggers:function(){if(this.triggers){var e={},t=this.normalizeUIKeys(n.result(this,"triggers"));return n.each(t,function(t,r){var i=n.isObject(t),a=i?t.event:t;e[r]=function(e){if(e){var n=e.preventDefault,r=e.stopPropagation,o=i?t.preventDefault:n,s=i?t.stopPropagation:r;o&&n&&n.apply(e),s&&r&&r.apply(e)}var l={view:this,model:this.model,collection:this.collection};this.triggerMethod(a,l)}},this),e}},delegateEvents:function(e){this._delegateDOMEvents(e),r.bindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.bindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},_delegateDOMEvents:function(e){e=e||this.events,n.isFunction(e)&&(e=e.call(this));var r={},i=this.configureTriggers();n.extend(r,e,i),t.View.prototype.delegateEvents.call(this,r)},undelegateEvents:function(){var e=Array.prototype.slice.call(arguments);t.View.prototype.undelegateEvents.apply(this,e),r.unbindEntityEvents(this,this.model,r.getOption(this,"modelEvents")),r.unbindEntityEvents(this,this.collection,r.getOption(this,"collectionEvents"))},onShowCalled:function(){},close:function(){if(!this.isClosed){var e=this.triggerMethod("before:close");!1!==e&&(this.isClosed=!0,this.triggerMethod("close"),this.unbindUIElements(),this.remove())}},bindUIElements:function(){if(this.ui){this._uiBindings||(this._uiBindings=this.ui);var e=n.result(this,"_uiBindings");this.ui={},n.each(n.keys(e),function(t){var n=e[t];this.ui[t]=this.$(n)},this)}},unbindUIElements:function(){this.ui&&this._uiBindings&&(n.each(this.ui,function(e,t){delete this.ui[t]},this),this.ui=this._uiBindings,delete this._uiBindings)}}),r.ItemView=r.View.extend({constructor:function(){r.View.prototype.constructor.apply(this,arguments)},serializeData:function(){var e={};return this.model?e=this.model.toJSON():this.collection&&(e={items:this.collection.toJSON()}),e},render:function(){this.isClosed=!1,this.triggerMethod("before:render",this),this.triggerMethod("item:before:render",this);var e=this.serializeData();e=this.mixinTemplateHelpers(e);var t=this.getTemplate(),n=r.Renderer.render(t,e);return this.$el.html(n),this.bindUIElements(),this.triggerMethod("render",this),this.triggerMethod("item:rendered",this),this},close:function(){this.isClosed||(this.triggerMethod("item:before:close"),r.View.prototype.close.apply(this,arguments),this.triggerMethod("item:closed"))}}),r.CollectionView=r.View.extend({itemViewEventPrefix:"itemview",constructor:function(e){this._initChildViewStorage(),r.View.prototype.constructor.apply(this,arguments),this._initialEvents(),this.initRenderBuffer()},initRenderBuffer:function(){this.elBuffer=document.createDocumentFragment(),this._bufferedChildren=[]},startBuffering:function(){this.initRenderBuffer(),this.isBuffering=!0},endBuffering:function(){this.isBuffering=!1,this.appendBuffer(this,this.elBuffer),this._triggerShowBufferedChildren(),this.initRenderBuffer()},_triggerShowBufferedChildren:function(){this._isShown&&(n.each(this._bufferedChildren,function(e){r.triggerMethod.call(e,"show")}),this._bufferedChildren=[])},_initialEvents:function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this.render))},addChildView:function(e,t,n){this.closeEmptyView();var r=this.getItemView(e),i=this.collection.indexOf(e);this.addItemView(e,r,i)},onShowCalled:function(){this.children.each(function(e){r.triggerMethod.call(e,"show")})},triggerBeforeRender:function(){this.triggerMethod("before:render",this),this.triggerMethod("collection:before:render",this)},triggerRendered:function(){this.triggerMethod("render",this),this.triggerMethod("collection:rendered",this)},render:function(){return this.isClosed=!1,this.triggerBeforeRender(),this._renderChildren(),this.triggerRendered(),this},_renderChildren:function(){this.startBuffering(),this.closeEmptyView(),this.closeChildren(),this.isEmpty(this.collection)?this.showEmptyView():this.showCollection(),this.endBuffering()},showCollection:function(){var e;this.collection.each(function(t,n){e=this.getItemView(t),this.addItemView(t,e,n)},this)},showEmptyView:function(){var e=this.getEmptyView();if(e&&!this._showingEmptyView){this._showingEmptyView=!0;var n=new t.Model;this.addItemView(n,e,0)}},closeEmptyView:function(){this._showingEmptyView&&(this.closeChildren(),delete this._showingEmptyView)},getEmptyView:function(){return r.getOption(this,"emptyView")},getItemView:function(e){var t=r.getOption(this,"itemView");return t||a("An `itemView` must be specified","NoItemViewError"),t},addItemView:function(e,t,i){var a=r.getOption(this,"itemViewOptions");n.isFunction(a)&&(a=a.call(this,e,i));var o=this.buildItemView(e,t,a);return this.addChildViewEventForwarding(o),this.triggerMethod("before:item:added",o),this.children.add(o),this.renderItemView(o,i),this._isShown&&!this.isBuffering&&r.triggerMethod.call(o,"show"),this.triggerMethod("after:item:added",o),o},addChildViewEventForwarding:function(e){var t=r.getOption(this,"itemViewEventPrefix");this.listenTo(e,"all",function(){var a=i.call(arguments),o=a[0],s=this.normalizeMethods(this.getItemEvents());a[0]=t+":"+o,a.splice(1,0,e),void 0!==s&&n.isFunction(s[o])&&s[o].apply(this,a),r.triggerMethod.apply(this,a)},this)},getItemEvents:function(){return n.isFunction(this.itemEvents)?this.itemEvents.call(this):this.itemEvents},renderItemView:function(e,t){e.render(),this.appendHtml(this,e,t)},buildItemView:function(e,t,r){var i=n.extend({model:e},r);return new t(i)},removeItemView:function(e){var t=this.children.findByModel(e);this.removeChildView(t),this.checkEmpty()},removeChildView:function(e){e&&(this.stopListening(e),e.close?e.close():e.remove&&e.remove(),this.children.remove(e)),this.triggerMethod("item:removed",e)},isEmpty:function(e){return!this.collection||0===this.collection.length},checkEmpty:function(){this.isEmpty(this.collection)&&this.showEmptyView()},appendBuffer:function(e,t){e.$el.append(t)},appendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t)):e.$el.append(t.el)},_initChildViewStorage:function(){this.children=new t.ChildViewContainer},close:function(){this.isClosed||(this.triggerMethod("collection:before:close"),this.closeChildren(),this.triggerMethod("collection:closed"),r.View.prototype.close.apply(this,arguments))},closeChildren:function(){this.children.each(function(e){this.removeChildView(e)},this),this.checkEmpty()}}),r.CompositeView=r.CollectionView.extend({constructor:function(){r.CollectionView.prototype.constructor.apply(this,arguments)},_initialEvents:function(){this.once("render",function(){this.collection&&(this.listenTo(this.collection,"add",this.addChildView),this.listenTo(this.collection,"remove",this.removeItemView),this.listenTo(this.collection,"reset",this._renderChildren))})},getItemView:function(e){var t=r.getOption(this,"itemView")||this.constructor;return t||a("An `itemView` must be specified","NoItemViewError"),t},serializeData:function(){var e={};return this.model&&(e=this.model.toJSON()),e},render:function(){this.isRendered=!0,this.isClosed=!1,this.resetItemViewContainer(),this.triggerBeforeRender();var e=this.renderModel();return this.$el.html(e),this.bindUIElements(),this.triggerMethod("composite:model:rendered"),this._renderChildren(),this.triggerMethod("composite:rendered"),this.triggerRendered(),this},_renderChildren:function(){this.isRendered&&(this.triggerMethod("composite:collection:before:render"),r.CollectionView.prototype._renderChildren.call(this),this.triggerMethod("composite:collection:rendered"))},renderModel:function(){var e={};e=this.serializeData(),e=this.mixinTemplateHelpers(e);var t=this.getTemplate();return r.Renderer.render(t,e)},appendBuffer:function(e,t){var n=this.getItemViewContainer(e);n.append(t)},appendHtml:function(e,t,n){if(e.isBuffering)e.elBuffer.appendChild(t.el),e._bufferedChildren.push(t);else{var r=this.getItemViewContainer(e);r.append(t.el)}},getItemViewContainer:function(e){if("$itemViewContainer"in e)return e.$itemViewContainer;var t,i=r.getOption(e,"itemViewContainer");if(i){var o=n.isFunction(i)?i.call(this):i;(t=e.$(o)).length<=0&&a("The specified `itemViewContainer` was not found: "+e.itemViewContainer,"ItemViewContainerMissingError")}else t=e.$el;return e.$itemViewContainer=t,t},resetItemViewContainer:function(){this.$itemViewContainer&&delete this.$itemViewContainer}}),r.Layout=r.ItemView.extend({regionType:r.Region,constructor:function(e){e=e||{},this._firstRender=!0,this._initializeRegions(e),r.ItemView.prototype.constructor.call(this,e)},render:function(){return this.isClosed&&this._initializeRegions(),this._firstRender?this._firstRender=!1:this.isClosed||this._reInitializeRegions(),r.ItemView.prototype.render.apply(this,arguments)},close:function(){this.isClosed||(this.regionManager.close(),r.ItemView.prototype.close.apply(this,arguments))},addRegion:function(e,t){var n={};return n[e]=t,this._buildRegions(n)[e]},addRegions:function(e){return this.regions=n.extend({},this.regions,e),this._buildRegions(e)},removeRegion:function(e){return delete this.regions[e],this.regionManager.removeRegion(e)},_buildRegions:function(e){var t=this,n={regionType:r.getOption(this,"regionType"),parentEl:function(){return t.$el}};return this.regionManager.addRegions(e,n)},_initializeRegions:function(e){var t;this._initRegionManager(),t=n.isFunction(this.regions)?this.regions(e):this.regions||{},this.addRegions(t)},_reInitializeRegions:function(){this.regionManager.closeRegions(),this.regionManager.each(function(e){e.reset()})},_initRegionManager:function(){this.regionManager=new r.RegionManager,this.listenTo(this.regionManager,"region:add",function(e,t){this[e]=t,this.trigger("region:add",e,t)}),this.listenTo(this.regionManager,"region:remove",function(e,t){delete this[e],this.trigger("region:remove",e,t)})}}),r.AppRouter=t.Router.extend({constructor:function(e){t.Router.prototype.constructor.apply(this,arguments),this.options=e||{};var n=r.getOption(this,"appRoutes"),i=this._getController();this.processAppRoutes(i,n)},appRoute:function(e,t){var n=this._getController();this._addAppRoute(n,e,t)},processAppRoutes:function(e,t){if(t){var r=n.keys(t).reverse();n.each(r,function(n){this._addAppRoute(e,n,t[n])},this)}},_getController:function(){return r.getOption(this,"controller")},_addAppRoute:function(e,t,r){var i=e[r];i||a("Method '"+r+"' was not found on the controller"),this.route(t,r,n.bind(i,e))}}),r.Application=function(e){this._initRegionManager(),this._initCallbacks=new r.Callbacks,this.vent=new t.Wreqr.EventAggregator,this.commands=new t.Wreqr.Commands,this.reqres=new t.Wreqr.RequestResponse,this.submodules={},n.extend(this,e),this.triggerMethod=r.triggerMethod},n.extend(r.Application.prototype,t.Events,{execute:function(){this.commands.execute.apply(this.commands,arguments)},request:function(){return this.reqres.request.apply(this.reqres,arguments)},addInitializer:function(e){this._initCallbacks.add(e)},start:function(e){this.triggerMethod("initialize:before",e),this._initCallbacks.run(e,this),this.triggerMethod("initialize:after",e),this.triggerMethod("start",e)},addRegions:function(e){return this._regionManager.addRegions(e)},closeRegions:function(){this._regionManager.closeRegions()},removeRegion:function(e){this._regionManager.removeRegion(e)},getRegion:function(e){return this._regionManager.get(e)},module:function(e,t){var n=r.Module.getClass(t),a=i.call(arguments);return a.unshift(this),n.create.apply(n,a)},_initRegionManager:function(){this._regionManager=new r.RegionManager,this.listenTo(this._regionManager,"region:add",function(e,t){this[e]=t}),this.listenTo(this._regionManager,"region:remove",function(e,t){delete this[e]})}}),r.Application.extend=r.extend,r.Module=function(e,t,i){this.moduleName=e,this.options=n.extend({},this.options,i),this.initialize=i.initialize||this.initialize,this.submodules={},this._setupInitializersAndFinalizers(),this.app=t,this.startWithParent=!0,this.triggerMethod=r.triggerMethod,n.isFunction(this.initialize)&&this.initialize(this.options,e,t)},r.Module.extend=r.extend,n.extend(r.Module.prototype,t.Events,{initialize:function(){},addInitializer:function(e){this._initializerCallbacks.add(e)},addFinalizer:function(e){this._finalizerCallbacks.add(e)},start:function(e){this._isInitialized||(n.each(this.submodules,function(t){t.startWithParent&&t.start(e)}),this.triggerMethod("before:start",e),this._initializerCallbacks.run(e,this),this._isInitialized=!0,this.triggerMethod("start",e))},stop:function(){this._isInitialized&&(this._isInitialized=!1,r.triggerMethod.call(this,"before:stop"),n.each(this.submodules,function(e){e.stop()}),this._finalizerCallbacks.run(void 0,this),this._initializerCallbacks.reset(),this._finalizerCallbacks.reset(),r.triggerMethod.call(this,"stop"))},addDefinition:function(e,t){this._runModuleDefinition(e,t)},_runModuleDefinition:function(e,i){if(e){var a=n.flatten([this,this.app,t,r,r.$,n,i]);e.apply(this,a)}},_setupInitializersAndFinalizers:function(){this._initializerCallbacks=new r.Callbacks,this._finalizerCallbacks=new r.Callbacks}}),n.extend(r.Module,{create:function(e,t,r){var a=e,o=i.call(arguments);o.splice(0,3);var s=(t=t.split(".")).length,l=[];return l[s-1]=r,n.each(t,function(t,n){var i=a;a=this._getModule(i,t,e,r),this._addModuleDefinition(i,a,l[n],o)},this),a},_getModule:function(e,t,r,i,a){var o=n.extend({},i),s=this.getClass(i),l=e[t];return l||(l=new s(t,r,o),e[t]=l,e.submodules[t]=l),l},getClass:function(e){var t=r.Module;return e?e.prototype instanceof t?e:e.moduleClass||t:t},_addModuleDefinition:function(e,t,i,a){var o,s;!n.isFunction(i)||i.prototype instanceof r.Module?n.isObject(i)?(o=i.define,s=!!n.isUndefined(i.startWithParent)||i.startWithParent):s=!0:(o=i,s=!0),o&&t.addDefinition(o,a),t.startWithParent=t.startWithParent&&s,t.startWithParent&&!t.startWithParentIsConfigured&&(t.startWithParentIsConfigured=!0,e.addInitializer(function(e){t.startWithParent&&t.start(e)}))}})}(0,t,e);return t.Marionette}(i,a)}()},function(e,t,n){"use strict";!function e(){if("undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(e){console.error(e)}}(),e.exports=n(1401)},function(e,t,n){"use strict";t.a=function(e){return null==e||""===e?0:parseInt(e,10)}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(737);Object.defineProperty(t,"DragDropContext",{enumerable:!0,get:function(){return l(r).default}});var i=n(1479);Object.defineProperty(t,"DragDropContextProvider",{enumerable:!0,get:function(){return l(i).default}});var a=n(1480);Object.defineProperty(t,"DragLayer",{enumerable:!0,get:function(){return l(a).default}});var o=n(1481);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return l(o).default}});var s=n(1491);function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return l(s).default}})},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"d",function(){return o}),n.d(t,"f",function(){return s}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return c});var r="com.plexapp.agents.imdb",i="com.plexapp.agents.lastfm",a="com.plexapp.agents.lyricfind",o="com.plexapp.agents.none",s="com.plexapp.agents.plexmusic",l="tv.plex.agents.music",c="com.plexapp.agents.thetvdb"},function(e,t,n){var r=n(59);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},function(e,t,n){var r=n(351)("wks"),i=n(352),a=n(49).Symbol,o=n(693);e.exports=function(e){return r[e]||(r[e]=o&&a[e]||(o?a:i)("Symbol."+e))}},function(e,t,n){"use strict";var r,i=n(67),a=n(49),o=n(59),s=n(79),l=n(421),c=n(100),u=n(113),d=n(71).f,p=n(158),h=n(277),f=n(63)("toStringTag"),g=n(352)("TYPED_ARRAY_TAG"),v=a.DataView,m=v&&v.prototype,y=a.Int8Array,b=y&&y.prototype,S=a.Uint8ClampedArray,I=S&&S.prototype,C=y&&p(y),M=b&&p(b),D=Object.prototype,w=D.isPrototypeOf,P=!(!a.ArrayBuffer||!a.DataView),T=P&&!!h,E=!1,x={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},O=function(e){return o(e)&&s(x,l(e))};for(r in x)a[r]||(T=!1);if((!T||"function"!=typeof C||C===Function.prototype)&&(C=function(){throw TypeError("Incorrect invocation")},T))for(r in x)a[r]&&h(a[r],C);if((!T||!M||M===D)&&(M=C.prototype,T))for(r in x)a[r]&&h(a[r].prototype,M);if(T&&p(I)!==M&&h(I,M),i&&!s(M,f))for(r in E=!0,d(M,f,{get:function(){return o(this)?this[g]:void 0}}),x)a[r]&&c(a[r],g,r);P&&h&&p(m)!==D&&h(m,D),e.exports={NATIVE_ARRAY_BUFFER:P,NATIVE_ARRAY_BUFFER_VIEWS:T,TYPED_ARRAY_TAG:E&&g,aTypedArray:function(e){if(O(e))return e;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(e){if(h){if(w.call(C,e))return e}else for(var t in x)if(s(x,r)){var n=a[t];if(n&&(e===n||w.call(n,e)))return e}throw TypeError("Target is not a typed array constructor")},exportProto:function(e,t,n){if(i){if(n)for(var r in x){var o=a[r];o&&s(o.prototype,e)&&delete o.prototype[e]}M[e]&&!n||u(M,e,n?t:T&&b[e]||t)}},exportStatic:function(e,t,n){var r,o;if(i){if(h){if(n)for(r in x)(o=a[r])&&s(o,e)&&delete o[e];if(C[e]&&!n)return;try{return u(C,e,n?t:T&&y[e]||t)}catch(e){}}for(r in x)!(o=a[r])||o[e]&&!n||u(o,e,t)}},isView:function(e){var t=l(e);return"DataView"===t||s(x,t)},isTypedArray:O,TypedArray:C,TypedArrayPrototype:M}},function(e,t,n){var r=n(129),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},function(e,t,n){"use strict";var r=n(41),i=n(164),a=n(34),o=n(251),s=n(454),l=864e5;var c=n(459),u=n(443),d=n(458),p=n(291),h="midnight",f="noon",g="morning",v="afternoon",m="evening",y="night";function b(e,t){for(var n=e<0?"-":"",r=Math.abs(e).toString();r.length<t;)r="0"+r;return n+r}function S(e,t){var n=t||"",r=e>0?"-":"+",i=Math.abs(e);return r+b(Math.floor(i/60),2)+n+b(i%60,2)}function I(e,t){return e%60==0?(e>0?"-":"+")+b(Math.abs(e)/60,2):S(e,t)}function C(e,t){var n=e>0?"-":"+",r=Math.abs(e),i=Math.floor(r/60),a=r%60;if(0===a)return n+String(i);var o=t||"";return n+String(i)+o+b(a,2)}var M={G:function(e,t,n){var r=e.getUTCFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n,r){var i=e.getUTCFullYear(),a=i>0?i:1-i;return"yy"===t?b(a%100,2):"yo"===t?n.ordinalNumber(a,{unit:"year"}):b(a,t.length)},Y:function(e,t,n,r){var i=Object(p.a)(e,r),a=i>0?i:1-i;return"YY"===t?b(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):b(a,t.length)},R:function(e,t,n,r){return b(Object(u.a)(e,r),t.length)},u:function(e,t,n,r){return b(e.getUTCFullYear(),t.length)},Q:function(e,t,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return b(i,2);case"Qo":return n.ordinalNumber(i,{unit:"quarter"});case"QQQ":return n.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(i,{width:"wide",context:"formatting"})}},q:function(e,t,n,r){var i=Math.ceil((e.getUTCMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return b(i,2);case"qo":return n.ordinalNumber(i,{unit:"quarter"});case"qqq":return n.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(i,{width:"wide",context:"standalone"})}},M:function(e,t,n,r){var i=e.getUTCMonth();switch(t){case"M":return String(i+1);case"MM":return b(i+1,2);case"Mo":return n.ordinalNumber(i+1,{unit:"month"});case"MMM":return n.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(i,{width:"wide",context:"formatting"})}},L:function(e,t,n,r){var i=e.getUTCMonth();switch(t){case"L":return String(i+1);case"LL":return b(i+1,2);case"Lo":return n.ordinalNumber(i+1,{unit:"month"});case"LLL":return n.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(i,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=Object(d.a)(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):b(i,t.length)},I:function(e,t,n,r){var i=Object(c.a)(e,r);return"Io"===t?n.ordinalNumber(i,{unit:"week"}):b(i,t.length)},d:function(e,t,n,r){var i=e.getUTCDate();return"do"===t?n.ordinalNumber(i,{unit:"date"}):b(i,t.length)},D:function(e,t,n,r){var i=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),r=n.getTime();n.setUTCMonth(0,1),n.setUTCHours(0,0,0,0);var i=r-n.getTime();return Math.floor(i/l)+1}(e,r);return"Do"===t?n.ordinalNumber(i,{unit:"dayOfYear"}):b(i,t.length)},E:function(e,t,n,r){var i=e.getUTCDay();switch(t){case"E":case"EE":case"EEE":return n.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(i,{width:"short",context:"formatting"});case"EEEE":default:return n.day(i,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return b(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getUTCDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return b(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n,r){var i=e.getUTCDay(),a=0===i?7:i;switch(t){case"i":return String(a);case"ii":return b(a,t.length);case"io":return n.ordinalNumber(a,{unit:"day"});case"iii":return n.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(i,{width:"short",context:"formatting"});case"iiii":default:return n.day(i,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getUTCHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getUTCHours();switch(r=12===i?f:0===i?h:i/12>=1?"pm":"am",t){case"b":case"bb":case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getUTCHours();switch(r=i>=17?m:i>=12?v:i>=4?g:y,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n,r){var i=e.getUTCHours()%12;return 0===i&&(i=12),"ho"===t?n.ordinalNumber(i,{unit:"hour"}):b(i,t.length)},H:function(e,t,n,r){var i=e.getUTCHours();return"Ho"===t?n.ordinalNumber(i,{unit:"hour"}):b(i,t.length)},K:function(e,t,n,r){var i=e.getUTCHours()%12;return"Ko"===t?n.ordinalNumber(i,{unit:"hour"}):b(i,t.length)},k:function(e,t,n,r){var i=e.getUTCHours();return 0===i&&(i=24),"ko"===t?n.ordinalNumber(i,{unit:"hour"}):b(i,t.length)},m:function(e,t,n,r){var i=e.getUTCMinutes();return"mo"===t?n.ordinalNumber(i,{unit:"minute"}):b(i,t.length)},s:function(e,t,n,r){var i=e.getUTCSeconds();return"so"===t?n.ordinalNumber(i,{unit:"second"}):b(i,t.length)},S:function(e,t,n,r){var i=t.length,a=e.getUTCMilliseconds();return b(Math.floor(a*Math.pow(10,i-3)),i)},X:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();if(0===i)return"Z";switch(t){case"X":return I(i);case"XXXX":case"XX":return S(i);case"XXXXX":case"XXX":default:return S(i,":")}},x:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"x":return I(i);case"xxxx":case"xx":return S(i);case"xxxxx":case"xxx":default:return S(i,":")}},O:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+C(i,":");case"OOOO":default:return"GMT"+S(i,":")}},z:function(e,t,n,r){var i=(r._originalDate||e).getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+C(i,":");case"zzzz":default:return"GMT"+S(i,":")}},t:function(e,t,n,r){var i=r._originalDate||e;return b(Math.floor(i.getTime()/1e3),t.length)},T:function(e,t,n,r){return b((r._originalDate||e).getTime(),t.length)}};function D(e,t,n){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}}function w(e,t,n){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}}var P={p:w,P:function(e,t,n){var r,i=e.match(/(P+)(p+)?/),a=i[1],o=i[2];if(!o)return D(e,t);switch(a){case"P":r=t.dateTime({width:"short"});break;case"PP":r=t.dateTime({width:"medium"});break;case"PPP":r=t.dateTime({width:"long"});break;case"PPPP":default:r=t.dateTime({width:"full"})}return r.replace("{{date}}",D(a,t)).replace("{{time}}",w(o,t))}},T=n(442),E=n(298);n.d(t,"a",function(){return N});var x=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,j=/^'(.*?)'?$/,A=/''/g;function N(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var l=String(t),c=n||{},u=c.locale||s.a,d=u.options&&u.options.firstWeekContainsDate,p=null==d?1:Object(r.a)(d),h=null==c.firstWeekContainsDate?p:Object(r.a)(c.firstWeekContainsDate);if(!(h>=1&&h<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var f=u.options&&u.options.weekStartsOn,g=null==f?0:Object(r.a)(f),v=null==c.weekStartsOn?g:Object(r.a)(c.weekStartsOn);if(!(v>=0&&v<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(!u.localize)throw new RangeError("locale must contain localize property");if(!u.formatLong)throw new RangeError("locale must contain formatLong property");var m=Object(a.a)(e,c);if(!Object(o.a)(m,c))return"Invalid Date";var y=Object(i.a)(m),b=Object(T.a)(m,y,c),S={firstWeekContainsDate:h,weekStartsOn:v,locale:u,_originalDate:m};return l.match(O).map(function(e){var t=e[0];return"p"===t||"P"===t?(0,P[t])(e,u.formatLong,S):e}).join("").match(x).map(function(e){if("''"===e)return"'";var t=e[0];if("'"===t)return e.match(j)[1].replace(A,"'");var n=M[t];return n?(!c.awareOfUnicodeTokens&&Object(E.a)(e)&&Object(E.b)(e),n(b,e,u.localize,S)):e}).join("")}},function(e,t,n){e.exports=!n(45)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t,n){"use strict";function r(e){return e.displayName||e.name||"Component"}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return s});var r=n(5),i=n.n(r),a=n(17);function o(e){var t=i.a.clone(e);return t.hasOwnProperty("title")?(t.title=i.a.result(t,"title"),t.hasOwnProperty("shortTitle")&&(t.shortTitle=i.a.result(t,"shortTitle")),t.hasOwnProperty("plural")&&(t.plural=i.a.result(t,"plural")),t):t}function s(e,t){var n={};return e.forEach(function(e){n[e]=t.reduceRight(function(t,n){var r=n[e];return null!=r&&(t[r]=n),t},{})}),{contains:function(e){for(var t in n)if(n[t][e])return!0;return!1},get:function(e){for(var t in n){var r=n[t][e];if(r)return o(r)}a.a.warn("No type was found for "+e)},getAll:function(){return t.map(o)}}}},function(e,t,n){e.exports={item:"MetadataTableRow-item-11DH-Z",isActionsMenuOpen:"MetadataTableRow-isActionsMenuOpen-3yasOW",transientTitle:"MetadataTableRow-transientTitle-3nwhoL",button:"MetadataTableRow-button-1Y7ax9",hasActiveSelection:"MetadataTableRow-hasActiveSelection-3A2BEJ",underlay:"MetadataTableRow-underlay-2ipZbj",isForcingSelection:"MetadataTableRow-isForcingSelection-t_XFIx",overlay:"MetadataTableRow-overlay-1RiIdu",transientTitleLeft:"MetadataTableRow-transientTitleLeft-19Y6Pd MetadataTableRow-transientTitle-3nwhoL",transientTitleRight:"MetadataTableRow-transientTitleRight-3JGw3f MetadataTableRow-transientTitle-3nwhoL",playButton:"MetadataTableRow-playButton-3bNBC0 PlayButton-playButton-3WX8X- MetadataTableRow-button-1Y7ax9",editButton:"MetadataTableRow-editButton-1hH1w0 MetadataTableRow-button-1Y7ax9",moreButton:"MetadataTableRow-moreButton-2YKSy8 MetadataTableRow-button-1Y7ax9",downloadIcon:"MetadataTableRow-downloadIcon-2BopYh",isSelected:"MetadataTableRow-isSelected-bNqXlr",selectButton:"MetadataTableRow-selectButton-11Ia99 SelectButton-selectButton-3Kbjm9 MetadataTableRow-button-1Y7ax9",alternateItem:"MetadataTableRow-alternateItem-1-jtpL MetadataTableRow-item-11DH-Z",playCell:"MetadataTableRow-playCell-ziDSkt",actionsCell:"MetadataTableRow-actionsCell-1ax6EZ",libraryActionsCell:"MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ",transientTitleRightText:"MetadataTableRow-transientTitleRightText-25yD3X",selectCoverButton:"MetadataTableRow-selectCoverButton-3SFDJL",equalizer:"MetadataTableRow-equalizer-35cH_6 EqualizerIcon-equalizer-2SoFA6"}},function(e,t,n){var r=n(67),i=n(688),a=n(62),o=n(156),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(a(e),t=o(t,!0),a(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},function(e,t,n){e.exports={playerContainer:"SessionTileDetails-playerContainer-2SkQod",playerIcon:"SessionTileDetails-playerIcon-1kileC",productLogo:"SessionTileDetails-productLogo-29pwkh",statusIcon:"SessionTileDetails-statusIcon-7rlLcF",playerInformation:"SessionTileDetails-playerInformation-1InxIL",title:"SessionTileDetails-title-3qQk5L",subtitle:"SessionTileDetails-subtitle-INedqO",streamInformation:"SessionTileDetails-streamInformation-agaLFu",videoStreamInformation:"SessionTileDetails-videoStreamInformation-2nF7Rp SessionTileDetails-streamInformation-agaLFu",audioStreamInformation:"SessionTileDetails-audioStreamInformation-228K00 SessionTileDetails-streamInformation-agaLFu",subtitlesStreamInformation:"SessionTileDetails-subtitlesStreamInformation-37imW7 SessionTileDetails-streamInformation-agaLFu",streamType:"SessionTileDetails-streamType-2ZBaSj",streams:"SessionTileDetails-streams-3WW-It",rightArrow:"SessionTileDetails-rightArrow-226XP5"}},function(e,t,n){e.exports={troubleshootingSection:"ServerTroubleshootingPane-troubleshootingSection-2sPDnQ",buttonContainer:"ServerTroubleshootingPane-buttonContainer-32mhYG",buttonStatus:"ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusSuccess:"ServerTroubleshootingPane-buttonStatusSuccess-12Jbj9 ServerTroubleshootingPane-buttonStatus-_ZS1zr",buttonStatusError:"ServerTroubleshootingPane-buttonStatusError-1Kyp1H ServerTroubleshootingPane-buttonStatus-_ZS1zr",button:"ServerTroubleshootingPane-button-Av642k",description:"ServerTroubleshootingPane-description-2JlKLF"}},function(e,t,n){"use strict";n.r(t);var r=n(5),i=n.n(r),a=n(13),o=n(15),s=n(19),l=n(37),c=n(21),u=n(2);var d=n(51),p=n(47),h=n(131),f=n(211),g=n(212),v=s.a.extend({name:"HubCollection",context:["server","provider","section","identifier","hubKey","hubCount","count","includeEmpty","libraryHubsOnly","includeFeaturedTags","includeLibraryPlaylists","includeTypeFirst","includeTypeFirstQuickLinksHubs","includeStations","includeExternalMedia","includeExternalMetadata","asyncAugmentMetadata","excludes","excludeFields","excludeElements","allowSync","maxLength","wait"],responseContext:["identifier","allowSync"],model:g.a,responseType:function(){return Object(d.a)(this.server)},url:function(){var e="/hubs";this.hubKey?e=this.hubKey:this.section&&(e="/hubs/sections/"+encodeURIComponent(this.section.id));var t={excludeFields:this.excludeFields||"summary"};return this.excludeElements&&(t.excludeElements=this.excludeElements),this.count&&(t.count=this.count+1),this.hubCount&&(t.hubCount=this.hubCount),this.includeEmpty&&(t.includeEmpty=1),this.libraryHubsOnly&&(t.libraryHubsOnly=1),this.includeFeaturedTags&&(t.includeFeaturedTags=1),this.includeLibraryPlaylists&&(t.includeLibraryPlaylists=1),this.includeTypeFirst&&(t.includeTypeFirst=1),this.includeStations&&(t.includeStations=1),this.includeExternalMedia&&(t.includeExternalMedia=1),this.includeExternalMetadata&&(t.includeExternalMetadata=1),this.asyncAugmentMetadata&&(t.asyncAugmentMetadata=1),this.wait&&(t.wait=1),this.excludes&&this.excludes.length&&this.excludes.forEach(function(e){t["exclude"+Object(h.a)(e)]=1}),o.join(e,t)},initialize:function(){this.section&&this.listenTo(a.a,"clear:sections:hubs",this.clear)},fetch:function(e){void 0===e&&(e={});var t=i.a.clone(e);return e.onlyTransient&&this.populatePromise&&(t.remove=!1,t.url=o.join(i.a.result(this,"url"),{onlyTransient:1})),s.a.prototype.fetch.call(this,t)},augmentResponseText:function(e,t){return t===l.a.xml?Object(p.b)(e):e},augmentResponse:function(e){var t=this,n=this.model.prototype.rootPropertyName;if(e&&n){var r;if(Array.isArray(e))(r={})[n]=e,e=r;else if(e[n]&&!Array.isArray(e[n])){var i;(i={})[n]=[e[n]],e=i}var a=e[n];if(this.includeTypeFirst)if(this.includeTypeFirstQuickLinksHubs){if(c.i(e.identifier,c.f)){var o={context:"hub.home.quicklinks",hubIdentifier:"home.quicklinks",size:2,style:"list",totalSize:2,type:"directory",Directory:[{content:1,context:"content.categories",key:"/library/sections/categories",subtype:"news",title:Object(u.default)("Categories"),type:"genre"},{content:1,context:"content.channels",key:"/library/sections/channels",subtype:"news",title:Object(u.default)("Channels")}]};if(!(a&&a.some(function(e){return e.hubIdentifier===o.hubIdentifier})))if(a){var s=0===a.length?0:1;e.Hub.splice(s,0,o)}else e[n]=[o]}else if(c.i(e.identifier,c.d)){var l=a&&a.find(function(e){var t=e.hubIdentifier;return t&&/^video\.quicklinks\./.test(t)});if(l)l.Directory.some(function(e){return/^\/playlists\//.test(e.key)})||l.Directory.push({key:"/playlists/all?type=15&playlistType=video&sectionID="+e.librarySectionID,title:Object(u.default)("Playlists")})}}else a&&(a=a.filter(function(e){var t=e.hubIdentifier;return!t||-1===t.indexOf("quicklinks")}),e[n]=a);var d=a&&a.length;if(d){if(!this.includeEmpty)for(;d&&d--;){var p=a[d];f.a.includes(p.style)&&p.size<=0&&a.splice(d,1)}this.maxLength&&a.splice(this.maxLength),e.size>a.length&&(e.size=String(a.length)),this.count&&a.forEach(function(e){e.more&&e.size>t.count&&(e.Metadata.splice(t.count,e.size-t.count),e.size=t.count)})}}return this.responseContext.forEach(function(n){var r=e[n];void 0!==r&&t.setContext(n,r)}),e}});t.default=v},function(e,t,n){"use strict";t.a=!("undefined"==typeof window||void 0===window.document||void 0===window.document.createElement)},function(e,t,n){e.exports={listItem:"SessionTile-listItem-2Scy7l",mediaInformationContainer:"SessionTile-mediaInformationContainer-1-9kZy",posterContainer:"SessionTile-posterContainer-2EzQN_",attribution:"SessionTile-attribution-UkRVrF",infoContainer:"SessionTile-infoContainer-3RYIuf",previewThumbnailContainer:"SessionTile-previewThumbnailContainer-1D1PJQ",metadataText:"SessionTile-metadataText-oU8hQU",visibleProgressBar:"SessionTile-visibleProgressBar-3wK0ur",title:"SessionTile-title-9ZXplc",subtitle:"SessionTile-subtitle-NnxzE6",progressTrack:"SessionTile-progressTrack-3GcVnF",progressPercent:"SessionTile-progressPercent-3U0xHM",playProgressPercent:"SessionTile-playProgressPercent-3kuKUi SessionTile-progressPercent-3U0xHM",transcodeProgressPercent:"SessionTile-transcodeProgressPercent-12EHXw SessionTile-progressPercent-3U0xHM",detailsContainer:"SessionTile-detailsContainer-3eQM11",detailsContainerExpanded:"SessionTile-detailsContainerExpanded-1aEz4c",userContainer:"SessionTile-userContainer-1y1kBC",stopControls:"SessionTile-stopControls-1n6mtj",stopIcon:"SessionTile-stopIcon-2hSq2W",avatarImg:"SessionTile-avatarImg-37yBF7 AvatarImg-avatar-3Op56u",username:"SessionTile-username-2nfvc3"}},function(e,t,n){e.exports={item:"MetadataSummaryCell-item-3B6Ccq",isActionsMenuOpen:"MetadataSummaryCell-isActionsMenuOpen-2SCBd-",button:"MetadataSummaryCell-button-zZgSeN",hasActiveSelection:"MetadataSummaryCell-hasActiveSelection-3nabOz",underlay:"MetadataSummaryCell-underlay-3M2OQt",isForcingSelection:"MetadataSummaryCell-isForcingSelection-2Iov2k",overlay:"MetadataSummaryCell-overlay-1lk0o5",editButton:"MetadataSummaryCell-editButton-2RfiY7 MetadataSummaryCell-button-zZgSeN",moreButton:"MetadataSummaryCell-moreButton-1rf6AI MetadataSummaryCell-button-zZgSeN",isSelected:"MetadataSummaryCell-isSelected-fha5M-",selectButton:"MetadataSummaryCell-selectButton-3KJeM6 SelectButton-selectButton-3Kbjm9 MetadataSummaryCell-button-zZgSeN",alternateItem:"MetadataSummaryCell-alternateItem-3K1M60 MetadataSummaryCell-item-3B6Ccq",posterContainer:"MetadataSummaryCell-posterContainer-1Vc-ob",summaryContainer:"MetadataSummaryCell-summaryContainer-6HJG5t",librarySummaryContainer:"MetadataSummaryCell-librarySummaryContainer-HZdA_F MetadataSummaryCell-summaryContainer-6HJG5t",titleContainer:"MetadataSummaryCell-titleContainer-p5H3cg",title:"MetadataSummaryCell-title-3jmFb3",rating:"MetadataSummaryCell-rating-2QtpgP",separator:"MetadataSummaryCell-separator-2zu7c5 DashSeparator-separator-4CyEFW",summary:"MetadataSummaryCell-summary-2xqysY",actions:"MetadataSummaryCell-actions-1C9ShK",selectCoverButton:"MetadataSummaryCell-selectCoverButton-2nF-uP"}},function(e,t,n){e.exports={measure:"AudioVideoLyrics-measure-2SF_6A",container:"AudioVideoLyrics-container-3d-0qH",card:"AudioVideoLyrics-card-1ul6PO MetadataPosterCard-card-3bztRc",content:"AudioVideoLyrics-content-5An40t",titlesContainer:"AudioVideoLyrics-titlesContainer-3I1RVb",rightInfo:"AudioVideoLyrics-rightInfo-x_GGfW",scroller:"AudioVideoLyrics-scroller-3hrplZ Scroller-vertical-VScFLT",spinner:"AudioVideoLyrics-spinner-1K46lG Spinner-spinner-Niere7 spin-spin-2kLwt_",upsellContainer:"AudioVideoLyrics-upsellContainer-2K0Q7S",innerContent:"AudioVideoLyrics-innerContent-19sRoW",line:"AudioVideoLyrics-line-2CYDi-",lineTimedIcon:"AudioVideoLyrics-lineTimedIcon-GOFkGM",isLineSelected:"AudioVideoLyrics-isLineSelected-2kgwVU",timedLyricsButton:"AudioVideoLyrics-timedLyricsButton-13NoS- IconButton-button-9An-7I",isTimedLyricsActive:"AudioVideoLyrics-isTimedLyricsActive-3bWfB0"}},function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},function(e,t,n){var r=n(127);e.exports=function(e){return Object(r(e))}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=(n(4),n(1),n(27)),o=n(460),s=n.n(o);function l(e){var t=e.className,n=e.containerClassName,r=e.labelClassName,a=e.size,o=e.label,l=e.loadingLabel,c=(t||"")+" "+(s.a[a]||"");return o?i()("div",{className:(n||"")+" "+(s.a.spinnerContainer||"")},void 0,i()("div",{className:c}),i()("div",{className:(r||"")+" "+(s.a.spinnerLabel||"")},void 0,o)):i()("div",{className:c,"aria-label":l})}l.defaultProps={size:a.MEDIUM},t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return a});var r="audio",i="video",a="photo"},function(e,t,n){e.exports={container:"DVRSetupDeviceInfoChannelInfo-container-38JxgB",settings:"DVRSetupDeviceInfoChannelInfo-settings-3rutx5",message:"DVRSetupDeviceInfoChannelInfo-message-1d9gEK",noChannelsIcon:"DVRSetupDeviceInfoChannelInfo-noChannelsIcon-339HB9",clockContainer:"DVRSetupDeviceInfoChannelInfo-clockContainer-2n_VvV",noChannelsIconContainer:"DVRSetupDeviceInfoChannelInfo-noChannelsIconContainer-25faJo",clock:"DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",clockTime:"DVRSetupDeviceInfoChannelInfo-clockTime-qyydgP DVRSetupDeviceInfoChannelInfo-clock-2vxBTq",blink:"DVRSetupDeviceInfoChannelInfo-blink-107UTs",clockBackground:"DVRSetupDeviceInfoChannelInfo-clockBackground-2moStg",noChannelsIconBackground:"DVRSetupDeviceInfoChannelInfo-noChannelsIconBackground-3tc9iv"}},function(e,t,n){e.exports={container:"PlaylistItemRow-container-PfUn9T",isSelected:"PlaylistItemRow-isSelected-1Ajx9r",button:"PlaylistItemRow-button-13eRZH",moveControl:"PlaylistItemRow-moveControl-2sc-ei",otherControls:"PlaylistItemRow-otherControls-2m4rnM",metadataDurationContainer:"PlaylistItemRow-metadataDurationContainer-96Rvw1 PlaylistItemMetadata-durationContainer-yQA2Vd",attributionContainer:"PlaylistItemRow-attributionContainer-1ceTSe PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",isForcingSelection:"PlaylistItemRow-isForcingSelection-3N6BrL",selectButton:"PlaylistItemRow-selectButton-1nLWBt SelectButton-selectButton-3Kbjm9 PlaylistItemRow-button-13eRZH",hasActiveSelection:"PlaylistItemRow-hasActiveSelection-3MrNhY",overlay:"PlaylistItemRow-overlay-2nVlqP",removeButton:"PlaylistItemRow-removeButton-1g21fe IconButton-button-9An-7I",moreButton:"PlaylistItemRow-moreButton-1zrwp6 IconButton-button-9An-7I",alternateContainer:"PlaylistItemRow-alternateContainer-2SVf_N PlaylistItemRow-container-PfUn9T",metadataContainer:"PlaylistItemRow-metadataContainer-1BWE59 PlaylistItemMetadata-container-2NWQH2",underlay:"PlaylistItemRow-underlay-iZmQR7",sourceText:"PlaylistItemRow-sourceText-3_tAtW",grabIcon:"PlaylistItemRow-grabIcon--qMgMI",isItemDragging:"PlaylistItemRow-isItemDragging-2d2WaL"}},function(e,t,n){e.exports={modalBody:"EditHomeModalContent-modalBody-2rHN2d ModalBody-modalBody--5uHSu",innerModalBody:"EditHomeModalContent-innerModalBody-4OMCUx",pane:"EditHomeModalContent-pane-3AzgqM ModalBody-innerModalBody-36gmbf",isHidden:"EditHomeModalContent-isHidden-2gSrWM",editPane:"EditHomeModalContent-editPane-1xAxS_",sortableServers:"EditHomeModalContent-sortableServers-1uFWuv SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",reloadIcon:"EditHomeModalContent-reloadIcon-3wbMu9",footer:"EditHomeModalContent-footer-10Ix6N ModalFooter-modalFooter-30WIB5",button:"EditHomeModalContent-button-HgDyCQ ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"EditHomeModalContent-splitButton-gmcHmN ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={container:"ChannelsGridMetadataItemCell-container-2NM2za",selected:"ChannelsGridMetadataItemCell-selected-3K64Hu",hoverable:"ChannelsGridMetadataItemCell-hoverable-Tm-6mJ",subTitleContainer:"ChannelsGridMetadataItemCell-subTitleContainer-2Izpkj",actions:"ChannelsGridMetadataItemCell-actions-3OwaeD",onAir:"ChannelsGridMetadataItemCell-onAir-1TBnoi",finishedAiring:"ChannelsGridMetadataItemCell-finishedAiring-1NTjLc",underlay:"ChannelsGridMetadataItemCell-underlay-Qhctil",content:"ChannelsGridMetadataItemCell-content-3-Y3Yf",actionsContainer:"ChannelsGridMetadataItemCell-actionsContainer-_6ZyYW",subTitle:"ChannelsGridMetadataItemCell-subTitle-iaQsk7",premiereBadge:"ChannelsGridMetadataItemCell-premiereBadge-1Qqk61 PremiereAiringBadge-badge-hAmdnV",subscriptionBadge:"ChannelsGridMetadataItemCell-subscriptionBadge-dFSz15",placeholderContainer:"ChannelsGridMetadataItemCell-placeholderContainer-2681u-"}},function(e,t,n){e.exports={item:"MetadataSimpleSummaryCell-item-2wMSiM",isActionsMenuOpen:"MetadataSimpleSummaryCell-isActionsMenuOpen-3iGW8j",button:"MetadataSimpleSummaryCell-button-T_Dfk_",titleEpisodeIndex:"MetadataSimpleSummaryCell-titleEpisodeIndex-fssXIX",alternateItem:"MetadataSimpleSummaryCell-alternateItem-2dz9an MetadataSimpleSummaryCell-item-2wMSiM",underlay:"MetadataSimpleSummaryCell-underlay-3j5Egl",overlay:"MetadataSimpleSummaryCell-overlay-18Efas",simpleSummaryContainer:"MetadataSimpleSummaryCell-simpleSummaryContainer-2b-1Rj",indexPlayContainer:"MetadataSimpleSummaryCell-indexPlayContainer-C8tSJA",playButtonContainer:"MetadataSimpleSummaryCell-playButtonContainer-CgWZXI",playButton:"MetadataSimpleSummaryCell-playButton-3yyum1 PlayButton-playButton-3WX8X- MetadataSimpleSummaryCell-button-T_Dfk_",miniProgressContainer:"MetadataSimpleSummaryCell-miniProgressContainer-3piSDJ",titleAndSummaryContainer:"MetadataSimpleSummaryCell-titleAndSummaryContainer-YfihRx",titleContainer:"MetadataSimpleSummaryCell-titleContainer-1kD2Ls",title:"MetadataSimpleSummaryCell-title-2SoJl0",summary:"MetadataSimpleSummaryCell-summary-1plSwU",actions:"MetadataSimpleSummaryCell-actions-2_Bywi",moreButton:"MetadataSimpleSummaryCell-moreButton-1mNpcu MetadataSimpleSummaryCell-button-T_Dfk_"}},function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(182).a.extend({maxCycles:5,maxSize:100,getItemCacheKey:function(e,t){if(i.a.isFunction(e.cacheKey))return t||(t=e.toJSON()),e.cacheKey(t)}});t.a=a},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(55),o=n(101);t.a=function(e){var t=a.a.get("video").id,n=Object(o.a)(e,{streamType:t});return i.a.first(n)}},function(e,t,n){"use strict";var r,i=n(17),a=n(26);function o(){if(void 0===r){var e="performanceReportingHost",t=window.location.search.match(new RegExp(e+"=([^&=]+)"));r=(r=t&&t[1]?decodeURIComponent(t[1]):a.a.get(e))||null}return r}var s=!1;t.a=function(e){void 0===e&&(e=o);var t={};function n(n){return n&&!t[n]&&(t[n]=/^(client|playback):/.test(n)||!!e()),!!n&&t[n]}var r={startPeriod:function(e){return r.mark(e+"-start")},endPeriod:function(e,t){return r.measure(e,t||e+"-start")},mark:function(e){var t=null;if(n(e)){window.performance.mark(e);var r=window.performance.getEntriesByName(e);t=r[r.length-1]}else s&&Object(i.a)('[Performance] Ignoring mark "%s"',e);return t},measure:function(e,t,r){var a=null;if(n(e))try{window.performance.measure(e,t,r),window.performance.clearMarks(t);var o=window.performance.getEntriesByName(e);a=o[o.length-1]}catch(e){}else s&&Object(i.a)('[Performance] Ignoring measure "%s"',e);return a}};return r}()},function(e,t,n){e.exports={container:"NavBar-container-1T0BJz",side:"NavBar-side-2kZrHV",button:"NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",buttonSeparator:"NavBar-buttonSeparator-1ZbV4v",accountButton:"NavBar-accountButton-3EEZiM NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",plexPassButton:"NavBar-plexPassButton-wVK4vI NavBarPlexPassButton-button-2zlgP_ Link-link-2n0yJn",plexLogo:"NavBar-plexLogo-3_NNRw NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",left:"NavBar-left-2SrTGf NavBar-side-2kZrHV",right:"NavBar-right-2ZzDEY NavBar-side-2kZrHV"}},function(e,t,n){e.exports={container:"LibraryFilterBuilderRow-container-2QVqaQ",rules:"LibraryFilterBuilderRow-rules-3enmeN",rule:"LibraryFilterBuilderRow-rule-2bAya1",tagsInput:"LibraryFilterBuilderRow-tagsInput-1zILxA AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",textInput:"LibraryFilterBuilderRow-textInput-3yZ-zi TextInput-input-1VMuma input-input-1P2Vi4",unitTextInput:"LibraryFilterBuilderRow-unitTextInput-38LP9b UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4",selectInput:"LibraryFilterBuilderRow-selectInput-gFMEG9 SelectInput-input-x1tNmq input-input-1P2Vi4",value:"LibraryFilterBuilderRow-value-3DsOSy",buttons:"LibraryFilterBuilderRow-buttons-3m5ptU",iconButton:"LibraryFilterBuilderRow-iconButton-1L9m0F",iconButtonDisabled:"LibraryFilterBuilderRow-iconButtonDisabled-1LPODg LibraryFilterBuilderRow-iconButton-1L9m0F"}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r="livetv"},function(e,t,n){"use strict";var r=n(8),i=n.n(r),a=n(5),o=n.n(a),s=n(15),l=n(297),c={getCollectionName:function(){return this.collectionName||"items"},getCollection:function(){return this.get(this.getCollectionName())},getTotalSize:function(){return this.get("totalSize")||this.get("populatedRange").size},getPaginatedUrl:function(e){var t=this.get("currentPageStart"),n=this.get("currentPageSize");if(null!=t||null!=n){var r={"X-Plex-Container-Start":t||0,"X-Plex-Container-Size":n||0};return s.join(e,r)}return e},getCollectionChangeEvents:function(){var e=this.getCollectionName();return["change:"+e+".update","change:"+e+".reset"].join(" ")},startPopulatedRangeMonitor:function(){var e=this.getCollectionName();this.updatePopulatedRange(),this.on(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.on("change:"+e+".destroy",this.decrementTotalSize,this)},stopPopulatedRangeMonitor:function(){var e=this.getCollectionName();this.off(this.getCollectionChangeEvents(),this.updatePopulatedRange,this),this.off("change:"+e+".destroy",this.decrementTotalSize,this)},fetchRange:function(e){var t=o.a.extend({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({currentPageStart:e.start,currentPageSize:e.size}),this.fetch(t).promise()},populateRange:function(e){var t=this.getCollection(),n=this.get("populatedRange"),r=l.a.difference(e,n)[0];if(!r)return i.a.Deferred().resolve().promise();if(r=l.a.degap(r,n),this.isPopulating()){var a=this.get("currentPageStart")!==r.start,s=this.get("currentPageSize")!==r.size;if(!a&&!s)return this.populatePromise;this.abortPendingPopulate()}if(e.reloadThreshold&&r.size>e.reloadThreshold)return t.reset(),this.populateRange(o.a.omit(e,"reloadThreshold"));var c=o.a.extend({},e,r,{prepend:r.start<n.start});return this.fetchRange(c)},repopulateRange:function(e){void 0===e&&(e=0);var t=this.get("populatedRange").end;return this.set({currentPageStart:0,currentPageSize:Math.max(t,e)}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange:function(){var e,t=this.get("currentPageStart"),n=this.get("populatedRange").start,r=this.get("populatedRange").size,i=this.getCollection().length;e=i?r?Math.min(n,null==t?1/0:t):t||n:0,this.set("populatedRange",{start:e,end:e+i,size:i})},decrementTotalSize:function(){var e=this.get("totalSize");e>0&&this.set("totalSize",e-1)}};t.a=c},function(e,t,n){"use strict";n.r(t);var r=n(66);t.default=function(e,t){return void 0===t&&(t="MMMM d, yyyy"),e?Object(r.a)(e,t):""}},function(e,t,n){e.exports={device:"DVRDevice-device-3IwH66",details:"DVRDevice-details-F9a0My",modelContainer:"DVRDevice-modelContainer-3qwvJt",model:"DVRDevice-model-1unSm8",deviceSettingsButton:"DVRDevice-deviceSettingsButton-2W-U0I Link-link-2n0yJn",deviceSettingsIcon:"DVRDevice-deviceSettingsIcon-wNdKgV",uri:"DVRDevice-uri-2Vhv07",deviceWarning:"DVRDevice-deviceWarning-UAoFis",deviceWarningIconContainer:"DVRDevice-deviceWarningIconContainer-29K1lz",separator:"DVRDevice-separator-2sIVzr DashSeparator-separator-4CyEFW",info:"DVRDevice-info-kn53L2",removeDeviceContainer:"DVRDevice-removeDeviceContainer-2W5hIO",removeDevice:"DVRDevice-removeDevice-3N-rDk"}},function(e,t,n){e.exports={container:"ServerLogLineModal-container-36025E",containerWithTimeFilter:"ServerLogLineModal-containerWithTimeFilter-HpbS0j",closeButton:"ServerLogLineModal-closeButton-33oO-Y Link-link-2n0yJn",action:"ServerLogLineModal-action-3YbmGc",label:"ServerLogLineModal-label-11MSOm",containerError:"ServerLogLineModal-containerError-BFsDKE ServerLogLineModal-container-36025E",containerWarning:"ServerLogLineModal-containerWarning-1L6UQw ServerLogLineModal-container-36025E",containerInfo:"ServerLogLineModal-containerInfo-1xSNjM ServerLogLineModal-container-36025E",containerDebug:"ServerLogLineModal-containerDebug-1_0AQ7 ServerLogLineModal-container-36025E",containerVerbose:"ServerLogLineModal-containerVerbose-3MAAhh ServerLogLineModal-container-36025E",containerUnknown:"ServerLogLineModal-containerUnknown-3YTiLQ ServerLogLineModal-container-36025E",levelError:"ServerLogLineModal-levelError-ATM6vg",levelWarning:"ServerLogLineModal-levelWarning-3o-hUc",levelInfo:"ServerLogLineModal-levelInfo-GC9mts"}},function(e,t,n){e.exports={overlay:"EPGPosterCardOverlay-overlay-21AW0j",background:"EPGPosterCardOverlay-background-nZkC7i",link:"EPGPosterCardOverlay-link-hVinzR",subscriptionBadge:"EPGPosterCardOverlay-subscriptionBadge-2DXamf MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"EPGPosterCardOverlay-subscriptionBadgeIcon-2CSvdG",progress:"EPGPosterCardOverlay-progress-2KBp3y PosterCardOverlayProgress-progress-16k0BJ",button:"EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playButton:"EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordButton:"EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCoverButton:"EPGPosterCardOverlay-playCoverButton-virTg2 EPGPosterCardOverlay-playButton-2VFIkB RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",playCircle:"EPGPosterCardOverlay-playCircle-3e6vzW MetadataPosterCardOverlay-playCircle-M67q6x PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordCoverButton:"EPGPosterCardOverlay-recordCoverButton-3QBBow EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircle:"EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIcon:"EPGPosterCardOverlay-recordIcon-1-ns13 RecordIcon-recordIcon-2ygXS_",recordButtonBottom:"EPGPosterCardOverlay-recordButtonBottom-18I3qt EPGPosterCardOverlay-recordButton-hPelUi RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 EPGPosterCardOverlay-button-1-wi-B MetadataPosterCardOverlay-button-M43H-q",recordCircleBottom:"EPGPosterCardOverlay-recordCircleBottom-3rJ86p EPGPosterCardOverlay-recordCircle-fVDxDI RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw MetadataPosterCardOverlay-centerCircle-1Mg-s-",recordIconBottom:"EPGPosterCardOverlay-recordIconBottom-1cF9xa RecordIcon-recordIcon-2ygXS_",isActionsMenuOpen:"EPGPosterCardOverlay-isActionsMenuOpen-1O_P26"}},function(e,t,n){var r=n(71),i=n(243);e.exports=n(67)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},function(e,t,n){"use strict";var r=n(5),i=n.n(r);t.a=function(e,t){var n=[];if(e){var r=i.a.first(e.Part);r&&r.Stream&&n.push.apply(n,i.a.where(r.Stream,t))}return n}},function(e,t,n){"use strict";n.d(t,"a",function(){return l});var r=n(15),i=n(21),a=n(48),o=/\/([^/]+)([^$]+)?/,s={};function l(e){if(s[e])return s[e];var t=r.parseUri(e),n=t.protocol,l=t.host,c=t.pathname,u=t.search,d="provider:"===n,p="server:"===n;if(d||p){var h=u.substr(1)||void 0,f=c.replace(/\/$/,"")||void 0,g=f&&f.match(o)||[];s[e]={isServer:p,metadataItemKey:d?f:g[2],parameters:h&&r.parseParams(h),providerIdentifier:d?l:g[1]||i.d,serverIdentifier:d?a.a:l}}else s[e]={};return s[e]}},function(e,t,n){e.exports={container:"AudioVideoPlayQueueItem-container-2_nsgE",moveControls:"AudioVideoPlayQueueItem-moveControls-1M6Iyd",removeControls:"AudioVideoPlayQueueItem-removeControls-1XM62U",metadataDurationContainer:"AudioVideoPlayQueueItem-metadataDurationContainer-184JwM AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92",sourceText:"AudioVideoPlayQueueItem-sourceText-1oT-kA SourceBadge-text-Y8yYEa",metadataContainer:"AudioVideoPlayQueueItem-metadataContainer-w326I_ AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",leftContainer:"AudioVideoPlayQueueItem-leftContainer-2xVS6L",removeButton:"AudioVideoPlayQueueItem-removeButton-4gx_SM IconButton-button-9An-7I",opacity20Precent:"AudioVideoPlayQueueItem-opacity20Precent-36ydLE",opacity40Precent:"AudioVideoPlayQueueItem-opacity40Precent-1FZXaH",opacity60Precent:"AudioVideoPlayQueueItem-opacity60Precent-3KF0lC",opacity80Precent:"AudioVideoPlayQueueItem-opacity80Precent-3wzZOl",isCurrentItem:"AudioVideoPlayQueueItem-isCurrentItem-3g1KW-",isItemDragging:"AudioVideoPlayQueueItem-isItemDragging-1lnodd"}},function(e,t,n){e.exports={event:"AgendaEvent-event-1CGOuE",isComplete:"AgendaEvent-isComplete-1Qgi-m",hasError:"AgendaEvent-hasError-3_JkX6",underlay:"AgendaEvent-underlay-3aB2_X",overlay:"AgendaEvent-overlay-F0jvnJ",statusIcon:"AgendaEvent-statusIcon-2HvuT0",date:"AgendaEvent-date-14otD2",isToday:"AgendaEvent-isToday-WyLYsI",time:"AgendaEvent-time-1gWgjZ",title:"AgendaEvent-title-2XPt5P",titleDetails:"AgendaEvent-titleDetails-1_26SP",status:"AgendaEvent-status-3bBTHT",recording:"AgendaEvent-recording-R38Vn-",recordingProgressBackground:"AgendaEvent-recordingProgressBackground-3zpaH4 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"AgendaEvent-recordingIcon-2abV-I"}},function(e,t,n){var r=n(67),i=n(350),a=n(243),o=n(112),s=n(156),l=n(79),c=n(688),u=Object.getOwnPropertyDescriptor;t.f=r?u:function(e,t){if(e=o(e),t=s(t,!0),c)try{return u(e,t)}catch(e){}if(l(e,t))return a(!i.f.call(e,t),e[t])}},function(e,t,n){var r=n(204),i=n(417),a=n(80),o=n(65),s=n(356);e.exports=function(e,t){var n=1==e,l=2==e,c=3==e,u=4==e,d=6==e,p=5==e||d,h=t||s;return function(t,s,f){for(var g,v,m=a(t),y=i(m),b=r(s,f,3),S=o(y.length),I=0,C=n?h(t,S):l?h(t,0):void 0;S>I;I++)if((p||I in y)&&(v=b(g=y[I],I,m),e))if(n)C[I]=v;else if(v)switch(e){case 3:return!0;case 5:return g;case 6:return I;case 2:C.push(g)}else if(u)return!1;return d?-1:c||u?u:C}}},function(e,t,n){"use strict";var r=n(19),i=n(252),a=r.a.extend({name:"MediaSettingCollection",context:["server","provider"],model:i.a,getSaveParams:function(){return this.reduce(function(e,t){return e[t.id]=t.get("value"),e},{})}});t.a=a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEmptyImage=t.NativeTypes=void 0,t.default=function(e){return new r.default(e)};var r=o(n(1496)),i=o(n(1509)),a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(572));function o(e){return e&&e.__esModule?e:{default:e}}t.NativeTypes=a,t.getEmptyImage=i.default},function(e,t,n){"use strict";var r=n(248),i=n(578);e.exports=r({},i,{dragPreviewBackgroundColor:"rgba(76, 76, 76, 0.7)",dragPreviewOpacity:"0.9",dragPreviewLowOpacity:"0.35",dropLocationColor:"#f9be03",sliderTrackBackgroundColor:"rgba(255, 255, 255, 0.2)",sliderThumbBackgroundColor:"#ddd",sliderThumbHoverBackgroundColor:"#fff",rowOddBackgroundColor:"rgba(255, 255, 255, 0.03)",rowEvenBackgroundColor:"#292929",avatarBackgroundColor:"#999",detailsShadowColor:"#000",playerBackgroundColor:"#232426",playerTopControlsBackgroundColor:"rgba(35, 36, 38, 0.45)",playerBottomControlsBackgroundColor:"rgba(35, 36, 38, 0.8)",playerPrimaryButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",miniPlayerBackgroundColor:i.blackDarkerTranslucentBackgroundColor,playerSecondaryOverlayColor:"rgba(0, 0, 0, 0.4)",playerPosterActionColor:i.blackDarkTranslucentBackgroundColor,playerPanelColor:"rgba(0, 0, 0, 0.6)",playerDisabledLinkColor:"rgba(255, 255, 255, 0.15)",playerShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTrackColor:"rgba(0, 0, 0, 0.75)",seekBarTrackColorHover:"rgba(255, 255, 255, 0.15)",seekBarFillColor:"#cc7b19",seekBarBufferColor:"rgba(204, 123, 25, 0.3)",seekBarThumbnailShadowColor:"rgba(0, 0, 0, 0.45)",seekBarTooltipBackgroundColor:"#000",seekBarTooltipShadowColor:"rgba(0, 0, 0, 0.5)",thumbnailBackgroundColor:"rgba(0, 0, 0, 0.45)",adSeekBarFillColor:"#f9be03",equalizerBarColor:"#f9be03",htmlMediaElementBackgroundColor:"#000",toastBackgroundColor:"rgba(1, 1, 1, 0.50)",posterBackgroundColor:"rgba(0, 0, 0, 0.45)",posterHoverBackgroundColor:"radial-gradient(farthest-corner at 50% 50%, rgba(50, 50, 50, 0.5) 50%, rgb(50, 50, 50) 100%)",posterSelectedBackgroundColor:"rgba(30, 30, 30, 0.5)",posterBlendedSelectedBackgroundColor:"rgba(19, 19, 19, 0.78);",posterPlaceholderIconColor:"rgba(255, 255, 255, 0.15)",posterCenterCircleBackgroundColor:"rgba(0, 0, 0, 0.45)",posterBadgeShadowColor:"rgba(0, 0, 0, 0.6)",posterProgressTrackBackgroundColor:"rgba(0, 0, 0, 0.75)",posterVersionBadgeColor:"#556688",posterSmartBadgeColor:"rgb(142, 97, 145)",posterFavoriteBadgeColor:"rgb(229, 172, 182)",recordColor:"#f53",recordHoverColor:"color(#f53 lightness(+5%))",recordBackgroundColor:"#b32",recordActiveBackgroundColor:"color(#b32 blackness(+10%))",dayOfWeekBackgroundColor:"rgba(255, 255, 255, 0.1)",dayOfWeekColor:"rgba(255, 255, 255, 0.75)",todayBackgroundColor:"rgba(255, 255, 255, 0.3)",todayColor:"rgba(255, 255, 255, 0.1)",calendarEventSuccessBackgroundColor:"rgba(0, 102, 153, 0.15)",calendarEventSuccessAlternateBackgroundColor:"rgba(31, 120, 165, 0.17)",calendarEventSuccessHoverBackgroundColor:"rgba(76, 148, 183, 0.20)",calendarEventErrorBackgroundColor:"rgba(187, 51, 34, 0.3)",calendarEventErrorAlternateBackgroundColor:"rgba(191, 64, 48, 0.31)",calendarEventErrorHoverBackgroundColor:"rgba(199, 87, 73, 0.34)",recordingIconColor:"#ff5533",playColor:"rgba(255, 255, 255, 0.75)",channelGridSelectedItemDetailsBackgroundColor:"rgba(0, 0, 0, 0.2)",channelGridBorderColor:"rgb(43, 57, 70)",channelGridHoverColor:"rgba(255, 255, 255, 0.2)",channelGridOnAirBackgroundColor:"rgba(255, 255, 255, 0.1)",channelGridMissingItemBackgroundColor:"rgba(0, 0, 0, 0)",channelGridProgressColor:"rgba(255, 255, 255, 0.15)",channelGridChannelThumbBackgroundColor:"rgba(255, 255, 255, 0.4)",channelGridChannelIdentifierBackroundColor:"rgba(255, 255, 255, 0.05)",channelGridNewBadgeColor:"rgba(84, 84, 84)",filterBuilderInputBackgroundColor:"rgba(0, 0, 0, 0.6)",altFilterBuilderInputBackgroundColor:i.blackDarkerTranslucentBackgroundColor,dvrBackgroundColor:i.blackDarkTranslucentBackgroundColor,preplayUnavailableButtonBackgroundColor:"rgba(255, 84, 50, 0.6)",preplayPartialButtonBackgroundColor:"rgba(204, 123, 25, 0.6)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.08)",preferredServerButtonBackgroundColor:"rgba(0, 0, 0, 0.45)",sortableHomeHubsContainerBackgroundColor:"rgba(255, 255, 255, 0.03)",sortableHomeHubsRowBackgroundColor:"rgba(255, 255, 255, 0.02)",chartTranslucentOpacity:"0.25",serverDashboardTileRowBackgroundPrimaryColor:"rgba(229, 160, 13, 0.2)",serverDashboardTileRowBackgroundSecondaryColor:"rgba(229, 160, 13, 0.15)",serverDashboardTileRowBackgroundTertiaryColor:"rgba(229, 160, 13, 0.1)",serverDashboardTileRowBackgroundQuaternaryColor:"rgba(229, 160, 13, 0.05)",sessionStopBackgroundColor:"#701f29",sessionStopIconColor:"rgba(255, 255, 255, 0.5)",sourceSidebarSelectedColor:"rgba(255, 255, 255, 0.07)"})},function(e,t,n){e.exports={plexPassTitle:"PlexPassModalContent-plexPassTitle-3B6zqq",header:"PlexPassModalContent-header-2D-A94 ModalHeader-modalHeader-1Kf9RW",body:"PlexPassModalContent-body-3BSt2g ModalBody-innerModalBody-36gmbf",moreFeatures:"PlexPassModalContent-moreFeatures-2qv0-f",footer:"PlexPassModalContent-footer-15_IJg ModalFooter-modalFooter-30WIB5",planButton:"PlexPassModalContent-planButton-3JY2bR",link:"PlexPassModalContent-link-3Xt-yL",linkSeparator:"PlexPassModalContent-linkSeparator-2yiHh-",spinnerContainer:"PlexPassModalContent-spinnerContainer-ytMIfw",plansContainer:"PlexPassModalContent-plansContainer-2boTWX",isPlansPending:"PlexPassModalContent-isPlansPending-SjJBDA"}},function(e,t,n){e.exports={event:"CalendarEvent-event-1N79nG",isComplete:"CalendarEvent-isComplete-3BKnCP",hasError:"CalendarEvent-hasError-2mgqYf",underlay:"CalendarEvent-underlay-2LGTNr",overlay:"CalendarEvent-overlay-3RDXNJ",errorIcon:"CalendarEvent-errorIcon-3q6lKQ",title:"CalendarEvent-title-K5q2kI",secondary:"CalendarEvent-secondary-2ufz9k",secondaryInfo:"CalendarEvent-secondaryInfo-3pj4z0",time:"CalendarEvent-time-sjVsBy",status:"CalendarEvent-status-27k9YY",recording:"CalendarEvent-recording-1igLY0",recordingProgressBackground:"CalendarEvent-recordingProgressBackground-1vuJU9 CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",recordingIcon:"CalendarEvent-recordingIcon-3BTduh"}},function(e,t,n){var r=n(417),i=n(127);e.exports=function(e){return r(i(e))}},function(e,t,n){var r=n(49),i=n(100),a=n(79),o=n(540),s=n(689),l=n(128),c=l.get,u=l.enforce,d=String(s).split("toString");n(351)("inspectSource",function(e){return s.call(e)}),(e.exports=function(e,t,n,s){var l=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,p=!!s&&!!s.noTargetGet;"function"==typeof n&&("string"!=typeof t||a(n,"name")||i(n,"name",t),u(n).source=d.join("string"==typeof t?t:"")),e!==r?(l?!p&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)):c?e[t]=n:o(t,n)})(Function.prototype,"toString",function(){return"function"==typeof this&&c(this).source||s.call(this)})},function(e,t,n){var r=n(543),i=n(79),a=n(694),o=n(71).f;e.exports=function(e){var t=r.Symbol||(r.Symbol={});i(t,e)||o(t,e,{value:a.f(e)})}},function(e,t,n){var r=n(127),i=/"/g;e.exports=function(e,t,n,a){var o=String(r(e)),s="<"+t;return""!==n&&(s+=" "+n+'="'+String(a).replace(i,"&quot;")+'"'),s+">"+o+"</"+t+">"}},function(e,t,n){var r=n(45);e.exports=function(e){return r(function(){var t=""[e]('"');return t!==t.toLowerCase()||t.split('"').length>3})}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){return e?/^\d+$/.test(e)?e+(t&&t.length?t[0]:"p"):e.toUpperCase():""}},function(e,t,n){"use strict";e.exports={defaultSpeed:"0.2s",slowSpeed:"0.6s",fastSpeed:"0.1s",motionEasing:"cubic-bezier(0.6, 0.4, 0.2, 1.4)",modalSpeed:"0.2s",menuSpeed:"0.15s",tooltipSpeed:"0.15s"}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(5),i=n.n(r);function a(e,t,n){return void 0===n?t:i.a.isObject(t)?t:n}},function(e,t,n){"use strict";n.r(t);var r=n(19),i=n(37),a=n(209),o=n(47),s=n(44),l=r.a.extend({name:"MetadataCollection",context:["server","provider","section","playlist","channel","identifier","mediaTagPrefix","mediaTagVersion","allowSync","containerKey","includeExternalMedia"],model:s.a,responseType:function(){return Object(a.a)(this.server,this.provider,this.channel)},url:function(){return this.containerKey},augmentResponseText:function(e,t){return t===i.a.xml?Object(o.b)(e):e},splitByType:function(){var e={};return this.each(function(t){var n=t.get("type");e.hasOwnProperty(n)?e[n].push(t):e[n]=[t]}),e}});t.default=l},function(e,t,n){e.exports={modalFooter:"ModalFooter-modalFooter-30WIB5",button:"ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn",splitButton:"ModalFooter-splitButton-2NLiBa ModalFooter-button-15VJa0 Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={channelMapping:"DeviceChannelMapping-channelMapping-2Z4xxm",deviceInfo:"DeviceChannelMapping-deviceInfo-3HnWcW",channelEnabled:"DeviceChannelMapping-channelEnabled-1FW8MJ",deviceIdentifier:"DeviceChannelMapping-deviceIdentifier-3-v5l4",mappingDisabled:"DeviceChannelMapping-mappingDisabled-3uY5jA",channelName:"DeviceChannelMapping-channelName-2knCVI",signalStrength:"DeviceChannelMapping-signalStrength-3YDOuy SignalStrength-signalStrength-33wP3p",epgChannel:"DeviceChannelMapping-epgChannel-tjRMxM",drmChannel:"DeviceChannelMapping-drmChannel-2CJhXe",drmChannelBadge:"DeviceChannelMapping-drmChannelBadge-1_tZU8",resolutionContainer:"DeviceChannelMapping-resolutionContainer-1Au-Kj"}},function(e,t,n){e.exports={dvr:"DVRListItem-dvr-1CoTiB",header:"DVRListItem-header-Lb8AEy",separator:"DVRListItem-separator-2BuN4r DashSeparator-separator-4CyEFW",name:"DVRListItem-name-rIFJzK",deleteLink:"DVRListItem-deleteLink-1ATve6",actions:"DVRListItem-actions-1mU6F4",actionIcon:"DVRListItem-actionIcon-fPqPli",devices:"DVRListItem-devices-2eZl_c",addDeviceIcon:"DVRListItem-addDeviceIcon-2n26fm"}},function(e,t,n){e.exports={starRating:"StarRating-starRating-1-SbNQ",stars:"StarRating-stars-2HyHdq",dot:"StarRating-dot-3IqC-T",star:"StarRating-star-31C9XQ",hidden:"StarRating-hidden-2n6-94",emptyStar:"StarRating-emptyStar-1XVvKp StarRating-star-31C9XQ",fullStar:"StarRating-fullStar-3gYOkk StarRating-star-31C9XQ",pulsing:"StarRating-pulsing-ZL72Hc",isReadOnly:"StarRating-isReadOnly-2SumJR",isUnrated:"StarRating-isUnrated-2pl1WY",slider:"StarRating-slider-2uo17U",track:"StarRating-track-29690M"}},function(e,t,n){e.exports={item:"EPGPrePlayEpisodeCell-item-31U2lg",recordButton:"EPGPrePlayEpisodeCell-recordButton-x7LVGv RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2",alternateItem:"EPGPrePlayEpisodeCell-alternateItem-3QMpyC EPGPrePlayEpisodeCell-item-31U2lg",underlay:"EPGPrePlayEpisodeCell-underlay-28hJxq",overlay:"EPGPrePlayEpisodeCell-overlay-2sL4QI",primaryTitle:"EPGPrePlayEpisodeCell-primaryTitle-p-NawY",secondaryTitle:"EPGPrePlayEpisodeCell-secondaryTitle-iTKpt4",subscriptionIcon:"EPGPrePlayEpisodeCell-subscriptionIcon-14CJUM",nextAiringDate:"EPGPrePlayEpisodeCell-nextAiringDate-10Bif2",separator:"EPGPrePlayEpisodeCell-separator-2LvFs5",loadingItem:"EPGPrePlayEpisodeCell-loadingItem-2VkI2H",alternateLoadingItem:"EPGPrePlayEpisodeCell-alternateLoadingItem-2KPtT_ EPGPrePlayEpisodeCell-loadingItem-2VkI2H"}},function(e,t,n){e.exports={container:"PlaylistItemMetadata-container-2NWQH2",transientTitleLeft:"PlaylistItemMetadata-transientTitleLeft-3qVWpm PlaylistItemMetadata-transientTitle-2Qo_VZ",button:"PlaylistItemMetadata-button-mjGjCU",cardContainer:"PlaylistItemMetadata-cardContainer-7tc0mg",card:"PlaylistItemMetadata-card-2mWmPP QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",indexContainer:"PlaylistItemMetadata-indexContainer-fnl6eJ",titlesContainer:"PlaylistItemMetadata-titlesContainer-964Lec",durationContainer:"PlaylistItemMetadata-durationContainer-yQA2Vd",downloadIcon:"PlaylistItemMetadata-downloadIcon-3CngSd DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",attributionContainer:"PlaylistItemMetadata-attributionContainer-3xQOQf SourceBadge-container-3OfQBW",transientTitle:"PlaylistItemMetadata-transientTitle-2Qo_VZ",transientTitleRight:"PlaylistItemMetadata-transientTitleRight-3KEzxj PlaylistItemMetadata-transientTitle-2Qo_VZ",playButton:"PlaylistItemMetadata-playButton-2Nx0Mi PlayButton-playButton-3WX8X- PlaylistItemMetadata-button-mjGjCU",equalizer:"PlaylistItemMetadata-equalizer-3_dxgr EqualizerIcon-equalizer-2SoFA6"}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on "+e);return e}},function(e,t,n){var r,i,a,o=n(690),s=n(59),l=n(100),c=n(79),u=n(418),d=n(353),p=n(49).WeakMap;if(o){var h=new p,f=h.get,g=h.has,v=h.set;r=function(e,t){return v.call(h,e,t),t},i=function(e){return f.call(h,e)||{}},a=function(e){return g.call(h,e)}}else{var m=u("state");d[m]=!0,r=function(e,t){return l(e,m,t),t},i=function(e){return c(e,m)?e[m]:{}},a=function(e){return c(e,m)}}e.exports={set:r,get:i,has:a,enforce:function(e){return a(e)?i(e):r(e,{})},getterFor:function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}}}},function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},function(e,t,n){"use strict";var r=n(8),i=n.n(r),a=n(5),o=n.n(a),s=n(43),l=n(50),c=s.a.extend({mixins:l.a,initialize:function(e){var t=this;void 0===e&&(e={}),e.interface&&(this.interface=e.interface),e.props&&(this.props=e.props),o.a.each(this.interface,function(e){t[e]=o.a.bind(t._proxy,t,e)})},_proxy:function(e){for(var t=this.getInstance(),n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t[e].apply(t,r)},register:function(e,t){void 0===t&&(t={}),this.hasInstance()&&!t.ignorePrevious&&(this._previousInstance=this.getInstance()),this._instance=e,t.silent||this.trigger("change:instance",e)},registerOnce:function(e){if(!this.hasInstance()){var t=e();this.register(t.instance||t,t.options||void 0)}},restorePrevious:function(){this._previousInstance&&this.register(this._previousInstance)},registered:function(){var e=i.a.Deferred();return this.hasInstance()?e.resolve(this.getInstance()):this.listenToOnce(this,"change:instance",e.resolve),e.promise()},getInstance:function(){if(this.hasInstance())return this._instance;throw new Error("Nothing has been registered to this adapter.")},hasInstance:function(){return null!=this._instance},prop:function(e){if(o.a.contains(this.props,e))return this.getInstance()[e];throw new Error("The "+e+" property has not been defined for this adapter")}});t.a=c},function(e,t,n){"use strict";t.a=function(e){return e?e.charAt(0).toUpperCase()+e.slice(1):""}},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(16),i=n(3),a=n(44),o={INACTIVE:"inactive",SCHEDULED:"scheduled",IN_PROGRESS:"inprogress",COMPLETE:"complete",CANCELLED:"cancelled",ERROR:"error",POST_PROCESSING:"postprocessing"},s=r.a.extend({name:"MediaGrabOperationModel",context:["server","provider"],rootPropertyName:"MediaGrabOperation",syncedAttrs:{mediaSubscriptionID:i.a.string,provider:i.a.string,identifier:i.a.string,mediaIndex:i.a.integer,channelTitle:i.a.string,status:i.a.string,error:i.a.string,linkedKey:i.a.string,key:i.a.string,rolling:i.a.boolean},sessionAttrs:{isLibraryMetadataItemPending:i.a.boolean,isLibraryMetadataItemPopulated:i.a.boolean,libraryMetadataItemError:i.a.object},syncedRelations:{metadataItem:{relationClass:a.a,rootPropertyName:"Metadata"},conflicts:function(){return{relationClass:n(364).default,deferred:!0}}},sessionRelations:{libraryMetadataItem:{relationClass:a.a,deferred:!0}},derivedAttrs:{mediaItem:function(){var e=this.get("mediaIndex");return(this.get("metadataItem").get("Media")||[])[e]},beginsAt:function(){var e=this.get("mediaItem");return e&&e.beginsAt},endsAt:function(){var e=this.get("mediaItem");return e&&e.endsAt}},defaults:{rolling:!1,isLibraryMetadataItemPending:!0,isLibraryMetadataItemPopulated:!1,libraryMetadataItemError:null},augmentResponse:function(e){var t=e;return t[this.rootPropertyName]&&(t=t[this.rootPropertyName]),t.Conflicts&&(t.conflicts=t.Conflicts.MediaGrabOperation,delete t.Conflicts),t}});t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});n(28);var r=n(17),i={},a=!1;function o(e,t){var n=t&&!a,o=i[e];return n&&o&&o.length?(Object(r.a)("[MediaElement] Found existing media element to use. type: %s",e),o.shift()):(Object(r.a)("[MediaElement] Creating new media element. type: %s",e),document.createElement(e))}function s(e){var t=e.nodeName.toLowerCase();Object(r.a)("[MediaElement] Releasing media element to pool. type: %s",t),i[t]||(i[t]=[]),i[t].push(e)}},function(e,t,n){e.exports={slider:"Slider-slider-2oLVTs",isDisabled:"Slider-isDisabled-1hEOtJ",thumb:"Slider-thumb-2QGiU1 Link-link-2n0yJn",isDragging:"Slider-isDragging-3wZpYx",hasAutoHideThumb:"Slider-hasAutoHideThumb-tpdhCS",track:"Slider-track-28JOSn",fill:"Slider-fill-35GFqs",secondaryFill:"Slider-secondaryFill-31_05F Slider-fill-35GFqs",thumbTrack:"Slider-thumbTrack-21hGVQ"}},function(e,t,n){e.exports={container:"ManageLibrarySummary-container-2i42AP",isActionsMenuOpen:"ManageLibrarySummary-isActionsMenuOpen-2S0oYD",actions:"ManageLibrarySummary-actions-Xad3MQ",underlay:"ManageLibrarySummary-underlay-3yXf2K",alternateContainer:"ManageLibrarySummary-alternateContainer-2wBQ-1 ManageLibrarySummary-container-2i42AP",titleContainer:"ManageLibrarySummary-titleContainer-14le9W",iconContainer:"ManageLibrarySummary-iconContainer-2GNNak",spinner:"ManageLibrarySummary-spinner-i5J6LT",title:"ManageLibrarySummary-title-ah-Rnu",action:"ManageLibrarySummary-action-2Wct92"}},function(e,t,n){e.exports={hubCell:"HomeHubCell-hubCell-3ioBjg HubCell-hubCell-3Ys175",hubCellHeader:"HomeHubCell-hubCellHeader-1j-ZKS HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF",titleSeparator:"HomeHubCell-titleSeparator-4VHhFq HubCell-titleSeparator-_noi6V DashSeparator-separator-4CyEFW",sourceTitle:"HomeHubCell-sourceTitle-2q-ZZ0 HubCell-sourceTitle-2X9oMh",hubScroller:"HomeHubCell-hubScroller-TifVnj HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",errorSeparator:"HomeHubCell-errorSeparator-1u82zN HomeHubCell-titleSeparator-4VHhFq HubCell-titleSeparator-_noi6V DashSeparator-separator-4CyEFW",errorTitle:"HomeHubCell-errorTitle-2f9701 HomeHubCell-sourceTitle-2q-ZZ0 HubCell-sourceTitle-2X9oMh",iconButton:"HomeHubCell-iconButton-1zgW6Q",iconButtonIcon:"HomeHubCell-iconButtonIcon-2eaaLl"}},function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},function(e,t,n){var r=n(5);e.exports=function(e){return function(){return e.apply(this,r.initial(arguments))}}},function(e,t,n){"use strict";n.r(t),n.d(t,"FAIRPLAY",function(){return r}),n.d(t,"PLAYREADY",function(){return i}),n.d(t,"WIDEVINE",function(){return a}),n.d(t,"NONE",function(){return o});var r="fairplay",i="playready",a="widevine",o="none"},function(e,t,n){"use strict";t.a=function(e){return 1===Number(e)||"true"===e}},function(e,t,n){"use strict";n.r(t);var r=n(66),i=n(39);t.default=function(e,t){return void 0===t&&(t="MMMM d, yyyy"),e?Object(r.a)(Object(i.a)(e),t):""}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(41),i=n(34);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},a=n.locale,o=a&&a.options&&a.options.weekStartsOn,s=null==o?0:Object(r.a)(o),l=null==n.weekStartsOn?s:Object(r.a)(n.weekStartsOn);if(!(l>=0&&l<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var c=Object(i.a)(e,n),u=c.getUTCDay(),d=(u<l?7:0)+u-l;return c.setUTCDate(c.getUTCDate()-d),c.setUTCHours(0,0,0,0),c}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(17),o=n(214),s={ORIGINAL:-1,CONVERT_AUTOMATICALLY:-2,qualities:{},getQualityByIndex:function(e){if(e===this.CONVERT_AUTOMATICALLY)return{index:this.CONVERT_AUTOMATICALLY};if(e<0)return{index:this.ORIGINAL};var t={index:e};return i.a.each(this.qualities,function(n,r){t[r]=i.a.result(this.qualities,r)[e]},this),t},getQualityCount:function(){var e=i.a.first(i.a.keys(this.qualities));return i.a.result(this.qualities,e).length},getQualityAttribute:function(e){var t=Object(o.a)(e,e.server.get("isPrivateConnection"));return"video"!==this.type?this.type+"!"+t:t},getSyncQualityAttribute:function(){return"syncQuality!"+this.type},getCurrentQuality:function(e,t,n){var r,o=this.getQualityAttribute(e),s=t.get(o);s>=this.getQualityCount()&&(a.a.warn("Quality index "+s+" is out of bounds"),s=i.a.result(t,"defaults")[o],n(((r={})[o]=s,r)));return i.a.extend(this.getQualityByIndex(s),{attribute:o})},getAvailableQualities:function(e){e||(e={});var t=e.lowestQualityIndex,n=e.highestQualityIndex,r=e.comparator,i=[];n===this.ORIGINAL&&(n=void 0);for(var a=0,o=this.getQualityCount();a<o;a++)if(!(t&&a<t)){if(n&&a>n)return i;if(r&&r.call(this,a))return i;i.push(this.getQualityByIndex(a))}return i},getResolutionFromSize:function(e){var t=e.split("x"),n=parseInt(t[1],10);return this.getResolutionFromHeight(n)},getResolutionFromHeight:function(e){return e>2560?"8k":e>1100?"4k":e>720?"1080":e>576?"720":e>480?"576":e>360?"480":"sd"},getHeightFromResolution:function(e){switch(e){case"8k":return 5120;case"4k":return 2560;case"1080":return 1080;case"720":return 720;case"576":return 576;case"480":return 480;case"sd":default:return 360}},getNearestIndex:function(e,t){if(!t)return this.ORIGINAL;var n=e.indexOf(t);if(n<0){n=0;for(var r=0,i=e.length;r<i;r++){if(e[r]>t)break;n=r}}return n}};t.a=s},function(e,t,n){"use strict";var r=n(1513),i=window.Raven,a=new r;a.noConflict=function(){return window.Raven=i,a},a.afterLoad(),e.exports=a},function(e,t,n){e.exports={deviceInfoBody:"DVRSetupDeviceInfo-deviceInfoBody-2LzExz ModalBody-modalBody--5uHSu",deviceInfoForm:"DVRSetupDeviceInfo-deviceInfoForm-1K-pGS",channelInfo:"DVRSetupDeviceInfo-channelInfo-32L387",channelDetails:"DVRSetupDeviceInfo-channelDetails-314k9o",deviceDetails:"DVRSetupDeviceInfo-deviceDetails-3DYVe7",countryInputGroup:"DVRSetupDeviceInfo-countryInputGroup-5CATqW",channelScanSourceSelect:"DVRSetupDeviceInfo-channelScanSourceSelect-22g5Xu SelectInput-input-x1tNmq input-input-1P2Vi4",deviceChannelsContainer:"DVRSetupDeviceInfo-deviceChannelsContainer-2ffnzV",deviceChannels:"DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT",deviceChannelsInfo:"DVRSetupDeviceInfo-deviceChannelsInfo-3oUd5C DVRSetupDeviceInfo-deviceChannels-2erQ6b Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={line:"ServerLogLine-line-2WtKzy",field:"ServerLogLine-field-madfJN",fieldTime:"ServerLogLine-fieldTime-17MvxW ServerLogLine-field-madfJN",fieldThread:"ServerLogLine-fieldThread-3Pag7D ServerLogLine-field-madfJN",fieldMessage:"ServerLogLine-fieldMessage-37X1ly ServerLogLine-field-madfJN",levelError:"ServerLogLine-levelError-bOQc8x ServerLogLine-line-2WtKzy",levelWarning:"ServerLogLine-levelWarning-1Fzthi ServerLogLine-line-2WtKzy",levelInfo:"ServerLogLine-levelInfo-K81rVD ServerLogLine-line-2WtKzy",levelDebug:"ServerLogLine-levelDebug-mz-F9H ServerLogLine-line-2WtKzy",levelVerbose:"ServerLogLine-levelVerbose-1mA-Cl ServerLogLine-line-2WtKzy",levelUnknown:"ServerLogLine-levelUnknown-vHwX-9 ServerLogLine-line-2WtKzy",isHighlighted:"ServerLogLine-isHighlighted-2uX6-J"}},function(e,t,n){e.exports={hubCell:"HubCell-hubCell-3Ys175",hubActions:"HubCell-hubActions-28w1-R",hubScrollButton:"HubCell-hubScrollButton-2Y7riu",hubScroller:"HubCell-hubScroller-2qgkrG VirtualListScroller-scroller-3aWqhy",title:"HubCell-title-UFv40n HubCellTitle-hubCellTitle-2abInv",attribution:"HubCell-attribution-2Ukv_c",titleSeparator:"HubCell-titleSeparator-_noi6V DashSeparator-separator-4CyEFW",sourceTitle:"HubCell-sourceTitle-2X9oMh",hubCellHeader:"HubCell-hubCellHeader-3s3KKW HubCellHeader-hubCellHeader-2pvYNF"}},function(e,t,n){e.exports={container:"CriticRating-container-33b2hD",rating:"CriticRating-rating-2Jrl15",rt:"CriticRating-rt-2J0SbJ",ratingImage:"CriticRating-ratingImage-3-Lxod",imdb:"CriticRating-imdb-23PVnW CriticRating-ratingImage-3-Lxod",certified:"CriticRating-certified-kPXY1l CriticRating-ratingImage-3-Lxod",ripe:"CriticRating-ripe-3KaJBn CriticRating-ratingImage-3-Lxod",rotten:"CriticRating-rotten-19B4iO CriticRating-ratingImage-3-Lxod",spilled:"CriticRating-spilled-9kErJQ CriticRating-ratingImage-3-Lxod",upright:"CriticRating-upright-3fxtyh CriticRating-ratingImage-3-Lxod",other:"CriticRating-other-1f4HXP CriticRating-ratingImage-3-Lxod"}},function(e,t,n){e.exports={cardContainer:"MetadataDirectoryPosterCard-cardContainer-ZkpfRo MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataDirectoryPosterCard-card-3HffoU MetadataPosterCard-card-3bztRc",face:"MetadataDirectoryPosterCard-face-1a7ldr MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",overlay:"MetadataDirectoryPosterCard-overlay-1W6FjR MetadataPosterCardOverlay-overlay-1uMpL6 PosterCardOverlay-overlay-3wQFXY",overlayBackground:"MetadataDirectoryPosterCard-overlayBackground-23yvvb MetadataPosterCardOverlay-background-2EwyBM PosterCardOverlay-background-23u0Zs",overlayLink:"MetadataDirectoryPosterCard-overlayLink-3Lb0W4 MetadataPosterCardOverlay-link-1SwhlG",overlaySelectCoverButton:"MetadataDirectoryPosterCard-overlaySelectCoverButton-31KJlc MetadataPosterCardOverlay-selectCoverButton-ukQUfL MetadataPosterCardOverlay-coverButton-2Dm9Pj",iconContainer:"MetadataDirectoryPosterCard-iconContainer-2qCCQC",titleContainer:"MetadataDirectoryPosterCard-titleContainer-waqIG7",titleItem:"MetadataDirectoryPosterCard-titleItem-3i-cuz"}},function(e,t,n){e.exports={fullPlayer:"PhotoFullPlayer-fullPlayer-zjtdRE",player:"PhotoFullPlayer-player-3kRDPi",main:"PhotoFullPlayer-main-1eD7_P",mainFooter:"PhotoFullPlayer-mainFooter-2n5Rrx",content:"PhotoFullPlayer-content-28yAom",spinner:"PhotoFullPlayer-spinner-2SO2v5",bar:"PhotoFullPlayer-bar-2WMUPU",bottomBar:"PhotoFullPlayer-bottomBar-2pmIfL PhotoFullPlayer-bar-2WMUPU",seekBar:"PhotoFullPlayer-seekBar-3H_XhU SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",aside:"PhotoFullPlayer-aside-WshsFY",hideControls:"PhotoFullPlayer-hideControls-1nwReo",controls:"PhotoFullPlayer-controls-1-Z6KS",dockControls:"PhotoFullPlayer-dockControls-e5lzCQ"}},function(e,t,n){e.exports={container:"FirstRunExperienceStep-container-GybKBS",actions:"FirstRunExperienceStep-actions-sqsbDy",stepContainer:"FirstRunExperienceStep-stepContainer-2g5HG8",stepText:"FirstRunExperienceStep-stepText-2Kql2A",stepHeading:"FirstRunExperienceStep-stepHeading-2l2OyX",stepBody:"FirstRunExperienceStep-stepBody-GIL2YT",stepIcon:"FirstRunExperienceStep-stepIcon-53JNXw",activeStepIcon:"FirstRunExperienceStep-activeStepIcon-rczb-H FirstRunExperienceStep-stepIcon-53JNXw",stepButton:"FirstRunExperienceStep-stepButton-2FQBJU"}},function(e,t,n){e.exports={button:"SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",isDim:"SourceSidebarLink-isDim-1Fd4hr",title:"SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",iconContainer:"SourceSidebarLink-iconContainer-2M-FOW SidebarLink-icon-34JWqs",isDisabled:"SourceSidebarLink-isDisabled-3NPqYK SourceSidebarLink-isDim-1Fd4hr",isSelected:"SourceSidebarLink-isSelected-27-9-6",isActive:"SourceSidebarLink-isActive-2_QExr",sourceLink:"SourceSidebarLink-sourceLink-307kPL",titles:"SourceSidebarLink-titles-uoVrTb",detail:"SourceSidebarLink-detail-32x4Iq"}},function(e,t,n){e.exports={header:"LibraryFilterOptionsList-header-JO56lu",headerTitle:"LibraryFilterOptionsList-headerTitle-21Ewqn",backIcon:"LibraryFilterOptionsList-backIcon-15GqTg",filterText:"LibraryFilterOptionsList-filterText-ys_NHp",searchInput:"LibraryFilterOptionsList-searchInput-3YaUSo TextInput-input-1VMuma input-input-1P2Vi4",filterOptionsScroller:"LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionsWithSearchScroller:"LibraryFilterOptionsList-filterOptionsWithSearchScroller-3ARHUk LibraryFilterOptionsList-filterOptionsScroller-1TXk8A Scroller-vertical-VScFLT",filterOptionMenuItem:"LibraryFilterOptionsList-filterOptionMenuItem-3bhER_ MenuItem-menuItem-1s02mQ",emptyText:"LibraryFilterOptionsList-emptyText-1SzoY8"}},function(e,t,n){e.exports={avatarContainer:"AvatarEditor-avatarContainer-3eqle0",isOverDropTarget:"AvatarEditor-isOverDropTarget-xHyXAj",avatarPane:"AvatarEditor-avatarPane-ZIMdI5",sliderContainer:"AvatarEditor-sliderContainer-1XP4NL",sliderEnd:"AvatarEditor-sliderEnd-LMe5uN",sliderWrapper:"AvatarEditor-sliderWrapper-2-DX7n",slider:"AvatarEditor-slider-1DyFRU Slider-slider-2oLVTs",help:"AvatarEditor-help-9JA7xI",avatarTextPane:"AvatarEditor-avatarTextPane-3QTnNq",avatarActionButtons:"AvatarEditor-avatarActionButtons-29uxGU",avatarFileInput:"AvatarEditor-avatarFileInput-2RZv10"}},function(e,t,n){var r=n(59);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},function(e,t,n){var r=n(71).f,i=n(79),a=n(63)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,a)&&r(e,a,{configurable:!0,value:t})}},function(e,t,n){var r=n(79),i=n(80),a=n(418)("IE_PROTO"),o=n(547),s=Object.prototype;e.exports=o?Object.getPrototypeOf:function(e){return e=i(e),r(e,a)?e[a]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},function(e,t,n){"use strict";var r,i=n(287),a=n.n(i),o=n(17);t.a=function(e){if(!e)return o.a.warn("[Parser] Empty XML source"),{};var t=r||(r=new a.a(!1,"",!0)),n=t.parseXmlString(e);if(!n)return o.a.warn("[Parser] No XML document created"),{};if(n.getElementsByTagName("parsererror").length)return o.a.warn("[Parser] Errors found while parsing XML document"),{};try{return t.xml2json(n)}catch(e){return o.a.warn("[Parser] Unable to parse XML: "+e.message),{}}}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(15),o=n(19),s=n(210),l=o.a.extend({name:"SortCollection",context:["server","section","typeID"],model:s.a,url:function(){var e=i.a.result(this.section,"url"),t=this.typeID||this.section.get("currentType").id,n=t?{type:t}:{};return a.join([e,"/sorts"],n)}});t.a=l},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTAwIDEwMCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBzdHlsZT0ic3Ryb2tlLW1pdGVybGltaXQ6MS40MTQyMTtjbGlwLXJ1bGU6ZXZlbm9kZDtmaWxsLXJ1bGU6ZXZlbm9kZDtzdHJva2UtbGluZWpvaW46cm91bmQiPgogPGNpcmNsZSBpZD0iMCIgY3g9IjUwIiBjeT0iNTAiIHI9IjUwIiBzdHlsZT0iZmlsbDp1cmwoIzMpIi8+CiA8Y2lyY2xlIGlkPSIxIiBjeD0iNTAiIGN5PSI1MCIgcj0iNDciIHN0eWxlPSJmaWxsOnVybCgjNCkiLz4KIDxwYXRoIGlkPSIyIiBkPSJtMzIuOSAxOC44bDE4LjE2MSAwIDIwLjAzOSAzMS4yNS0yMC4wMzkgMzEuMjUtMTguMTYxIDAgMjAuMDM5LTMxLjI1LTIwLjAzOS0zMS4yNSIgc3R5bGU9ImZpbGw6dXJsKCM1KSIvPgogPGRlZnM+CiAgPGxpbmVhckdyYWRpZW50IGlkPSIzIiB4MT0iMTAwIiB4Mj0iMCIgZ3JhZGllbnRVbml0cz0idXNlclNwYWNlT25Vc2UiPgogICA8c3RvcCBvZmZzZXQ9IjAlIiBzdHlsZT0ic3RvcC1jb2xvcjojZjliZTAzIi8+CiAgIDxzdG9wIG9mZnNldD0iMTAwJSIgc3R5bGU9InN0b3AtY29sb3I6I2NjN2IxOSIvPgogIDwvbGluZWFyR3JhZGllbnQ+CiAgPGxpbmVhckdyYWRpZW50IGlkPSI0IiB4MT0iOTciIHgyPSIzIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+CiAgIDxzdG9wIG9mZnNldD0iMCUiIHN0eWxlPSJzdG9wLWNvbG9yOiMyODI4MjgiLz4KICAgPHN0b3Agb2Zmc2V0PSIxMDAlIiBzdHlsZT0ic3RvcC1jb2xvcjojMWYxZjFmIi8+CiAgPC9saW5lYXJHcmFkaWVudD4KICA8cmFkaWFsR3JhZGllbnQgaWQ9IjUiIGN4PSI2NyIgY3k9IjQ5LjkiIHI9IjU3LjgxMjMiIGdyYWRpZW50VW5pdHM9InVzZXJTcGFjZU9uVXNlIiB4bGluazpocmVmPSIjMyIvPgogPC9kZWZzPgo8L3N2Zz4K"},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o,s="",l="function";return s+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h1>',((a=(o=n.title)?o.call(t,{hash:{},data:i}):typeof(o=t&&t.title)===l?o.call(t,{hash:{},data:i}):o)||0===a)&&(s+=a),s+="</h1> ",((a=n.if.call(t,t&&t.subtitle,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,i,a="";return a+=' <h2 class="text-muted">',((r=(i=n.subtitle)?i.call(e,{hash:{},data:t}):typeof(i=e&&e.subtitle)===l?i.call(e,{hash:{},data:t}):i)||0===r)&&(a+=r),a+="</h2> "},i),data:i}))||0===a)&&(s+=a),s+=" ",((a=n.if.call(t,t&&t.message,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r,i,a="";return a+=" <p>",((r=(i=n.message)?i.call(e,{hash:{},data:t}):typeof(i=e&&e.message)===l?i.call(e,{hash:{},data:t}):i)||0===r)&&(a+=r),a+="</p> "},i),data:i}))||0===a)&&(s+=a),s+=" </div> </div>"})},function(e,t,n){"use strict";n.r(t);var r=n(444);t.default=function(e){return e>=100?function(e){if(!(e>0))return"";var t=e/1e3;return(t=t>=.1?Number(t.toFixed(1)):t)+" Mbps"}(e):Object(r.a)(e)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=6e4;function i(e){var t=new Date(e.getTime()),n=t.getTimezoneOffset();t.setSeconds(0,0);var i=t.getTime()%r;return n*r+i}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(34);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),i=n.getUTCDay(),a=(i<1?7:0)+i-1;return n.setUTCDate(n.getUTCDate()-a),n.setUTCHours(0,0,0,0),n}},function(e,t,n){e.exports={modalBody:"StopServerSessionModal-modalBody-3WYgCc ModalBody-modalBody--5uHSu",topContainer:"StopServerSessionModal-topContainer-n4yyAN",avatarImg:"StopServerSessionModal-avatarImg-3X8xu- AvatarImg-avatar-3Op56u",description:"StopServerSessionModal-description-3djDx-",modalFooter:"StopServerSessionModal-modalFooter-1mOhES ModalFooter-modalFooter-30WIB5",formLabel:"StopServerSessionModal-formLabel-syEM-5 FormLabel-label-2aLJ9b",form:"StopServerSessionModal-form-3U6xSD",textArea:"StopServerSessionModal-textArea-2mu_An TextArea-textArea-2jx-Xy input-input-1P2Vi4",buttonBar:"StopServerSessionModal-buttonBar-XYwtJN ModalFooterButtonBar-buttonBar-3X6qjo"}},function(e,t,n){e.exports={form:"DeviceChannelMappings-form-BhAiSq",channelMappingsBody:"DeviceChannelMappings-channelMappingsBody-1KPoxK ModalBody-modalBody--5uHSu",programGuideLabel:"DeviceChannelMappings-programGuideLabel-3tWK8z",programGuideSelectContainer:"DeviceChannelMappings-programGuideSelectContainer-1cpiV-",programGuideTitle:"DeviceChannelMappings-programGuideTitle-3xOjMS",centeredContainer:"DeviceChannelMappings-centeredContainer-3NaUqc",scroller:"DeviceChannelMappings-scroller-2_Aea6 Scroller-vertical-VScFLT",channelMappingsContainer:"DeviceChannelMappings-channelMappingsContainer-2gZaIv"}},function(e,t,n){e.exports={form:"ShareLibraryRestrictions-form-2LNIz3",modalBody:"ShareLibraryRestrictions-modalBody-1Uicvp ModalBody-modalBody--5uHSu",scroller:"ShareLibraryRestrictions-scroller-9sUcUx Scroller-vertical-VScFLT",message:"ShareLibraryRestrictions-message-3Jox-L",section:"ShareLibraryRestrictions-section-3y47D-",list:"ShareLibraryRestrictions-list-2F_x8T",modalFooter:"ShareLibraryRestrictions-modalFooter-nGgw9k ModalFooter-modalFooter-30WIB5"}},function(e,t,n){e.exports={serverMenuItem:"ServerMenuItem-serverMenuItem-2djO5d",disabledServerMenuItem:"ServerMenuItem-disabledServerMenuItem-22OGfg",selectedServerMenuItem:"ServerMenuItem-selectedServerMenuItem-jaUTXA",serverMenuItemContainer:"ServerMenuItem-serverMenuItemContainer-1DS9VM",serverMenuTitle:"ServerMenuItem-serverMenuTitle-1s5qRg",serverMenuFriendlyName:"ServerMenuItem-serverMenuFriendlyName-37Gt74",serverMenuDetails:"ServerMenuItem-serverMenuDetails-1-Rfql",serverMenuIconContainer:"ServerMenuItem-serverMenuIconContainer-2WtBGs",serverMenuIcon:"ServerMenuItem-serverMenuIcon-2zKCW4",selectedIcon:"ServerMenuItem-selectedIcon-dhK05-",secureIcon:"ServerMenuItem-secureIcon-3-O-_k"}},function(e,t,n){e.exports={button:"QuickSearchResult-button-1ZHpOA",title:"QuickSearchResult-title-1XJ-0g",selected:"QuickSearchResult-selected-3xPnwh",underlay:"QuickSearchResult-underlay-QgyJtZ",overlay:"QuickSearchResult-overlay-38WrLO",imageContainer:"QuickSearchResult-imageContainer-DvFlpe",titles:"QuickSearchResult-titles-3kHPx0",moreButton:"QuickSearchResult-moreButton-2Agbka",moreIcon:"QuickSearchResult-moreIcon-UsTkIK"}},function(e,t,n){e.exports={container:"HubTitleToggleHomeHubButton-container-2IqMsG",icon:"HubTitleToggleHomeHubButton-icon-1jwJTZ AddOrRemoveButton-icon-2m9zyA",button:"HubTitleToggleHomeHubButton-button-2V6cQB AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",isHidden:"HubTitleToggleHomeHubButton-isHidden-2ozuyI",isVisible:"HubTitleToggleHomeHubButton-isVisible-WlFUSh"}},function(e,t,n){e.exports={controls:"PlayerControls-controls-e59abb",buttonGroup:"PlayerControls-buttonGroup-4L6Pw-",buttonGroupLeft:"PlayerControls-buttonGroupLeft-3vLk-g PlayerControls-buttonGroup-4L6Pw-",buttonGroupCenter:"PlayerControls-buttonGroupCenter-11q8ie PlayerControls-buttonGroup-4L6Pw-",buttonGroupRight:"PlayerControls-buttonGroupRight-18LS_l PlayerControls-buttonGroup-4L6Pw-",volumeButton:"PlayerControls-volumeButton-hSQZXs PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",balanceLeft:"PlayerControls-balanceLeft--vfZAg",volumeSlider:"PlayerControls-volumeSlider-9c0JEx VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",hasLandscapePoster:"PlayerControls-hasLandscapePoster-23Gat5",hasSquarePoster:"PlayerControls-hasSquarePoster--hAg0V"}},function(e,t,n){e.exports={item:"SubtitleRow-item-1suQRb",downloadIcon:"SubtitleRow-downloadIcon-3pqWjW SubtitleRow-icon-21El6y",titles:"SubtitleRow-titles-3FAr9t",title:"SubtitleRow-title-1Jeywc",secondaryTitle:"SubtitleRow-secondaryTitle-17rEPf SubtitleRow-title-1Jeywc",score:"SubtitleRow-score-1DVm2L",perfectMatch:"SubtitleRow-perfectMatch-3N1BnR",spinnerContainer:"SubtitleRow-spinnerContainer-FDGoZD",icon:"SubtitleRow-icon-21El6y",downloadedIcon:"SubtitleRow-downloadedIcon-2F0Cd2 SubtitleRow-icon-21El6y"}},function(e,t,n){e.exports={container:"AudioVideoUpNext-container-1HyiyV",title:"AudioVideoUpNext-title-2RflZV",poster:"AudioVideoUpNext-poster-362QoU",progress:"AudioVideoUpNext-progress-3dmBnM",playButton:"AudioVideoUpNext-playButton-3X0Mbp PlayButton-playButton-3WX8X-",playCircle:"AudioVideoUpNext-playCircle-RTuurg PlayButton-playCircle-3Evfdw",timeLeft:"AudioVideoUpNext-timeLeft--rCIME",autoPlay:"AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOn:"AudioVideoUpNext-autoPlayOn-2tSBYt AudioVideoUpNext-autoPlay-2s2lSY",autoPlayOff:"AudioVideoUpNext-autoPlayOff-3tmvpL AudioVideoUpNext-autoPlay-2s2lSY"}},function(e,t,n){e.exports={gridContainer:"ChannelsGrid-gridContainer-u_bmj0",gridRowCell:"ChannelsGrid-gridRowCell-3P8MTs ChannelsGrid-gridContainer-u_bmj0",gridRow:"ChannelsGrid-gridRow-2odI0o ChannelsGridRow-container-2sCkCm",gridContent:"ChannelsGrid-gridContent-3Vhy_E",gridInnerContent:"ChannelsGrid-gridInnerContent-27SAIf VirtualListScroller-scroller-3aWqhy",timeline:"ChannelsGrid-timeline-ctXXxM ChannelsGridTimeline-container-3dKF2q",innerEmptyPage:"ChannelsGrid-innerEmptyPage-18fOTc InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",attribution:"ChannelsGrid-attribution-1KnJ7- ProgramGuideAttribution-attribution-3Ca_IP"}},function(e,t,n){e.exports={container:"AccountSummary-container-2EbPg2",actionLinksContainer:"AccountSummary-actionLinksContainer-2aUMQI",actionLinks:"AccountSummary-actionLinks-1tXSN6 SettingsFormSectionActionLinks-actionLinks-2vGv7Q",linkSeparator:"AccountSummary-linkSeparator-F6ygAk",separator:"AccountSummary-separator-23I7sP DashSeparator-separator-4CyEFW",badgeContainer:"AccountSummary-badgeContainer-2TYeDA",plexPassBadge:"AccountSummary-plexPassBadge-27hFF9",textBadge:"AccountSummary-textBadge-3M187q"}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){var r=n(415),i=n(1163),a=n(348),o="[object Object]",s=Function.prototype,l=Object.prototype,c=s.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!a(e)||r(e)!=o)return!1;var t=i(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){"use strict";if(n(67)){var r=n(49),i=n(24),a=n(562),o=n(64),s=n(549),l=n(205),c=n(243),u=n(100),d=n(65),p=n(706),h=n(721),f=n(156),g=n(79),v=n(421),m=n(59),y=n(245),b=n(277),S=n(244).f,I=n(722),C=n(106)(0),M=n(278),D=n(71),w=n(105),P=n(128),T=P.get,E=P.set,x=D.f,O=w.f,j=r.RangeError,A=s.ArrayBuffer,N=s.DataView,k=o.NATIVE_ARRAY_BUFFER_VIEWS,L=o.TYPED_ARRAY_TAG,R=o.TypedArray,_=o.TypedArrayPrototype,U=o.aTypedArrayConstructor,z=o.isTypedArray,F=function(e,t){for(var n=0,r=t.length,i=new(U(e))(r);r>n;)i[n]=t[n++];return i},B=function(e,t){x(e,t,{get:function(){return T(this)[t]}})},H=function(e){var t;return e instanceof A||"ArrayBuffer"==(t=v(e))||"SharedArrayBuffer"==t},V=function(e,t){return z(e)&&"symbol"!=typeof t&&t in e&&String(+t)==String(t)},Q=function(e,t){return V(e,t=f(t,!0))?c(2,e[t]):O(e,t)},W=function(e,t,n){return!(V(e,t=f(t,!0))&&m(n)&&g(n,"value"))||g(n,"get")||g(n,"set")||n.configurable||g(n,"writable")&&!n.writable||g(n,"enumerable")&&!n.enumerable?x(e,t,n):(e[t]=n.value,e)};k||(w.f=Q,D.f=W,B(_,"buffer"),B(_,"byteOffset"),B(_,"byteLength"),B(_,"length")),i({target:"Object",stat:!0,forced:!k},{getOwnPropertyDescriptor:Q,defineProperty:W}),e.exports=function(e,t,n,o){var s=e+(o?"Clamped":"")+"Array",c="get"+e,f="set"+e,g=r[s],v=g,D=v&&v.prototype,w={},P=function(e,n){x(e,n,{get:function(){return function(e,n){var r=T(e);return r.view[c](n*t+r.byteOffset,!0)}(this,n)},set:function(e){return function(e,n,r){var i=T(e);o&&(r=(r=Math.round(r))<0?0:r>255?255:255&r),i.view[f](n*t+i.byteOffset,r,!0)}(this,n,e)},enumerable:!0})};k?a&&(v=n(function(e,n,r,i){return l(e,v,s),m(n)?H(n)?void 0!==i?new g(n,h(r,t),i):void 0!==r?new g(n,h(r,t)):new g(n):z(n)?F(v,n):I.call(v,n):new g(p(n))}),b&&b(v,R),C(S(g),function(e){e in v||u(v,e,g[e])}),v.prototype=D):(v=n(function(e,n,r,i){l(e,v,s);var a,o,c,u=0,f=0;if(m(n)){if(!H(n))return z(n)?F(v,n):I.call(v,n);a=n,f=h(r,t);var g=n.byteLength;if(void 0===i){if(g%t)throw j("Wrong length");if((o=g-f)<0)throw j("Wrong length")}else if((o=d(i)*t)+f>g)throw j("Wrong length");c=o/t}else c=p(n),a=new A(o=c*t);for(E(e,{buffer:a,byteOffset:f,byteLength:o,length:c,view:new N(a)});u<c;)P(e,u++)}),b&&b(v,R),D=v.prototype=y(_)),D.constructor!==v&&u(D,"constructor",v),L&&u(D,L,s),w[s]=v,i({global:!0,forced:v!=g,sham:!k},w),"BYTES_PER_ELEMENT"in v||u(v,"BYTES_PER_ELEMENT",t),"BYTES_PER_ELEMENT"in D||u(D,"BYTES_PER_ELEMENT",t),M(s)}}else e.exports=function(){}},function(e,t,n){"use strict";var r=new(n(130).a)({interface:["getLanguages","load","t"]});t.a=r},function(e,t,n){"use strict";t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var r=l(n(731)),i=l(n(1407)),a=l(n(1408)),o=l(n(1409)),s=l(n(734));l(n(733));function l(e){return e&&e.__esModule?e:{default:e}}t.createStore=r.default,t.combineReducers=i.default,t.bindActionCreators=a.default,t.applyMiddleware=o.default,t.compose=s.default},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(43),o=n(13),s=n(17),l=n(50),c=a.a.extend({mixins:l.a,maxCycles:3,maxSize:50,isListening:!1,initialize:function(){this._cache={},this.size=0,this.cycles=[],this.cycle()},startListening:function(){this.isListening||(this.isListening=!0,this.listenTo(o.a,{"cycle:cache":this.cycle,"clearWhere:cache":this.clearWhere,"clearAll:cache":this.clearAll,"clearCycles:cache":this.clearCycles}))},get:function(e){var t=this._cache[e];return t&&t._cacheCycle&&this.setItemCycle(t,e,i.a.first(this.cycles)),t},store:function(e,t){t||(t=this.getItemCacheKey(e)),this.remove(e),t&&(this.startListening(),e._cacheKey=t,this._cache[t]=e,this.size++,e.persistInCache||this.setItemCycle(e,t,i.a.first(this.cycles)))},getItemCacheKey:function(e){return i.a.result(e,"cacheKey")},setItemCycle:function(e,t,n){var r=e._cacheCycle;r&&r.hasOwnProperty(t)&&delete r[t],e._cacheCycle=n,n[t]=e},cycle:function(){this.size>this.maxSize&&(s.a.warn("Cache overflow, size: "+this.size),i.a.each(this.cycles.slice(1),this.removeCycle,this)),this.cycles.unshift({}),this.cycles.length>Math.max(this.maxCycles,1)&&this.removeCycle(i.a.last(this.cycles))},remove:function(e){if(e&&e._cacheKey){var t=e._cacheKey;this._cache.hasOwnProperty(t)&&(delete this._cache[t],this.size--),e._cacheCycle&&(e._cacheCycle.hasOwnProperty(t)&&delete e._cacheCycle[t],delete e._cacheCycle),delete e._cacheKey}},removeCycle:function(e){i.a.each(i.a.values(e),this.remove,this);var t=i.a.indexOf(this.cycles,e);this.cycles.splice(t,1)},clearWhere:function(e){var t=i.a.where(i.a.values(this._cache),e);i.a.each(t,this.remove,this)},clearAll:function(){i.a.each(i.a.values(this._cache),this.remove,this),this.cycles.length=0,this.cycle(),this.stopListening(),this.isListening=!1},clearCycles:function(){for(var e=this.cycles;e.length;)this.removeCycle(e[e.length-1]);this.cycle()}});t.a=c},function(e,t,n){e.exports=function(e,t){function n(n){return{underscore:e,backbone:t}[n]}return function(e){function t(e){var n=t.cache[e];if(!n){var r={};n=t.cache[e]={id:e,exports:r},t.modules[e].call(r,n,r)}return n.exports}return t.cache=[],t.modules=[function(e,r){var i=n("underscore"),a=n("backbone"),o=t(2),s=t(5),l=t(4),c=t(1),u=t(7);function d(e,t){this._superset=e,this._filtered=new o(e,t),this._sorted=new s(this._filtered,t),this._paginated=new l(this._sorted,t),c(this._paginated,this),u.call(this,this._filtered,h),u.call(this,this._sorted,f),u.call(this,this._paginated,g),this.initialize(t)}var p={superset:function(){return this._superset},getFilteredLength:function(){return this._filtered.length},removeTransforms:function(){return this._filtered.resetFilters(),this._sorted.removeSort(),this._paginated.removePagination(),this},destroy:function(){this.stopListening(),this._filtered.destroy(),this._sorted.destroy(),this._paginated.destroy(),this.length=0,this.trigger("obscura:destroy")}},h=["filtered:add","filtered:remove","filtered:reset"],f=["sorted:add","sorted:remove"],g=["paginated:change:perPage","paginated:change:page","paginated:change:numPages"];i.each(["filterBy","removeFilter","resetFilters","refilter","hasFilter","getFilters"],function(e){p[e]=function(){var t=o.prototype[e].apply(this._filtered,arguments);return t===this._filtered?this:t}}),i.each(["setPerPage","setPage","getPerPage","getNumPages","getPage","hasNextPage","hasPrevPage","nextPage","prevPage","movePage","removePagination","firstPage","lastPage"],function(e){p[e]=function(){var t=l.prototype[e].apply(this._paginated,arguments);return t===this._paginated?this:t}}),i.each(["setSort","reverseSort","removeSort"],function(e){p[e]=function(){var t=s.prototype[e].apply(this._sorted,arguments);return t===this._sorted?this:t}}),i.each(["add","create","remove","set","reset","sort","parse","sync","fetch","push","pop","shift","unshift"],function(e){p[e]=function(){throw new Error("Backbone.Obscura: Unsupported method: "+e+"called on read-only proxy")}}),i.extend(d.prototype,p,a.Events),(d=a.Collection.extend(d.prototype)).FilteredCollection=o,d.SortedCollection=s,d.PaginatedCollection=l,e.exports=d},function(e,t){var r=n("underscore"),i=n("backbone"),a=["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],o=["add","remove","reset","sort","destroy","sync","request","error"];e.exports=function(e,t){function n(){t.length=e.length}var s={};return r.each(r.functions(i.Collection.prototype),function(t){r.contains(a,t)||(s[t]=function(){return e[t].apply(e,arguments)})}),r.extend(t,i.Events,s),t.listenTo(e,"all",n),t.listenTo(e,"all",function(n){var i=r.toArray(arguments),a="change"===n||"change:"===n.slice(0,7);"reset"===n&&(t.models=e.models),r.contains(o,n)?(r.contains(["add","remove","destroy"],n)?i[2]=t:r.contains(["reset","sort"],n)&&(i[1]=t),t.trigger.apply(this,i)):a&&t.contains(i[1])&&t.trigger.apply(this,i)}),t.models=e.models,n(),t}},function(e,r){var i=n("underscore"),a=n("backbone"),o=t(1),s=t(3);function l(){this._filterResultCache={}}function c(e){for(var t in this._filterResultCache)this._filterResultCache.hasOwnProperty(t)&&delete this._filterResultCache[t][e]}function u(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(this._filters.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=this._filters[n].fn(e)),!t[n]))return!1;return!0}function d(e){e||(e={});var t=[];this._superset&&(t=this._superset.filter(i.bind(u,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length}function p(){d.call(this,{reset:!0})}function h(){var e=!(!this._superset||!this._superset.comparator);d.call(this,{reset:e})}function f(e){if(this._filterResultCache[e.cid]={},u.call(this,e)){if(!this._collection.get(e.cid)){for(var t=this.superset().indexOf(e),n=null,r=t-1;r>=0;r-=1)if(this.contains(this.superset().at(r))){n=this.indexOf(this.superset().at(r))+1;break}n=n||0,this._collection.add(e,{at:n})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length}function g(e,t,n){"change:"===e.slice(0,7)&&function(e){this._filterResultCache[e.cid]={},u.call(this,e)||this._collection.get(e.cid)&&this._collection.remove(e)}.call(this,arguments[1])}function v(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length}function m(e){this._superset=e,this._collection=new a.Collection(e.toArray()),o(this._collection,this),this.resetFilters(),this.listenTo(this._superset,"reset",p),this.listenTo(this._superset,"sort",h),this.listenTo(this._superset,"add change",f),this.listenTo(this._superset,"remove",v),this.listenTo(this._superset,"all",g)}var y={defaultFilterName:"__default",filterBy:function(e,t){return t||(t=e,e=this.defaultFilterName),function(e,t){this._filters[e]&&c.call(this,e),this._filters[e]=t,this.trigger("filtered:add",e)}.call(this,e,s(t)),d.call(this),this},removeFilter:function(e){return e||(e=this.defaultFilterName),function(e){delete this._filters[e],c.call(this,e),this.trigger("filtered:remove",e)}.call(this,e),d.call(this),this},resetFilters:function(){return this._filters={},l.call(this),this.trigger("filtered:reset"),d.call(this),this},superset:function(){return this._superset},refilter:function(e){return"object"==typeof e&&e.cid?f.call(this,e):(l.call(this),d.call(this)),this},getFilters:function(){return i.keys(this._filters)},hasFilter:function(e){return i.contains(this.getFilters(),e)},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("filtered:destroy")}};i.extend(m.prototype,y,a.Events),e.exports=m},function(e,t){var r=n("underscore");function i(e,t){return r.isArray(t)||(t=null),{fn:e,keys:t}}e.exports=function(e,t){return r.isFunction(e)?i(e,t):r.isObject(e)?function(e){var t=r.keys(e),n=r.map(t,function(t){var n=e[t];return r.isFunction(n)?function(e,t){return function(n){return t(n.get(e))}}(t,n):function(e,t){return function(n){return n.get(e)===t}}(t,n)});return i(function(e){for(var t=0;t<n.length;t++)if(!n[t](e))return!1;return!0},t)}(e):void 0}},function(e,r){var i=n("underscore"),a=n("backbone"),o=t(1);function s(){var e=this.getPage()*this.getPerPage(),t=e+this.getPerPage();return[e,t]}function l(){var e=s.call(this);this._collection.reset(this.superset().slice(e[0],e[1]))}function c(){this._totalPages;var e=this.superset().length,t=this.getPerPage(),n=e%t==0?e/t:Math.floor(e/t)+1,r=this._totalPages!==n;if(this._totalPages=n,r&&this.trigger("paginated:change:numPages",{numPages:n}),this.getPage()>=n)return this.setPage(n-1),!0}function u(){c.call(this)||l.call(this)}function d(e,t){for(var n=i.max([e.length,t.length]),r=0,a=0;r<n;r+=1,a+=1)if(e[r]!==t[a])if(t[r-1]===e[r])a-=1;else{if(t[r+1]!==e[r])return e[r];a+=1}}function p(e,t,n){if(!c.call(this)){var r=s.call(this),i=r[0],a=r[1],o=d(this.superset().slice(i,a),this._collection.toArray()),l=d(this._collection.toArray(),this.superset().slice(i,a));l&&this._collection.remove(l),o&&this._collection.add(o,{at:this.superset().indexOf(o)-i})}}function h(e,t){this._superset=e,this._collection=new a.Collection(e.toArray()),this._page=0,this.setPerPage(t&&t.perPage?t.perPage:null),o(this._collection,this),this.listenTo(this._superset,"add remove",p),this.listenTo(this._superset,"reset sort",u)}var f={removePagination:function(){return this.setPerPage(null),this},setPerPage:function(e){return this._perPage=e,u.call(this),this.setPage(0),this.trigger("paginated:change:perPage",{perPage:e,numPages:this.getNumPages()}),this},setPage:function(e){var t=this.getNumPages()-1;return e=(e=(e=e>0?e:0)<t?e:t)<0?0:e,this._page=e,l.call(this),this.trigger("paginated:change:page",{page:e}),this},getPerPage:function(){return this._perPage||this.superset().length||1},getNumPages:function(){return this._totalPages},getPage:function(){return this._page},hasNextPage:function(){return this.getPage()<this.getNumPages()-1},hasPrevPage:function(){return this.getPage()>0},nextPage:function(){return this.movePage(1),this},prevPage:function(){return this.movePage(-1),this},firstPage:function(){this.setPage(0)},lastPage:function(){this.setPage(this.getNumPages()-1)},movePage:function(e){return this.setPage(this.getPage()+e),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this._page=0,this._totalPages=0,this.length=0,this.trigger("paginated:destroy")}};i.extend(h.prototype,f,a.Events),e.exports=h},function(e,r){var i=n("underscore"),a=n("backbone"),o=t(1),s=t(6);function l(e){return i.isFunction(e)?e:function(t){return t.get(e)}}function c(e){return this._comparator?this._reverse?s(this._collection.toArray(),e,l(this._comparator)):i.sortedIndex(this._collection.toArray(),e,l(this._comparator)):this._superset.indexOf(e)}function u(e){var t=c.call(this,e);this._collection.add(e,{at:t})}function d(e){this.contains(e)&&this._collection.remove(e)}function p(e){this.contains(e)&&this._collection.indexOf(e)!==c.call(this,e)&&(this._collection.remove(e),u.call(this,e))}function h(){if(this._comparator){var e=this._superset.sortBy(this._comparator);this._collection.reset(this._reverse?e.reverse():e)}else this._collection.reset(this._superset.toArray())}function f(e){this._superset=e,this._reverse=!1,this._comparator=null,this._collection=new a.Collection(e.toArray()),o(this._collection,this),this.listenTo(this._superset,"add",u),this.listenTo(this._superset,"remove",d),this.listenTo(this._superset,"change",p),this.listenTo(this._superset,"reset",h)}var g={setSort:function(e,t){return this._reverse="desc"===t,this._comparator=e,h.call(this),e?this.trigger("sorted:add"):this.trigger("sorted:remove"),this},reverseSort:function(){return this._reverse=!this._reverse,h.call(this),this},removeSort:function(){return this.setSort(),this},superset:function(){return this._superset},destroy:function(){this.stopListening(),this._collection.reset([]),this._superset=this._collection,this.length=0,this.trigger("sorted:destroy")}};i.extend(f.prototype,g,a.Events),e.exports=f},function(e,t){var r=n("underscore");e.exports=function(e,t,n,i){for(var a=(n=null==n?r.identity:function(e){return r.isFunction(e)?e:function(t){return t[e]}}(n)).call(i,t),o=0,s=e.length;o<s;){var l=o+s>>>1;n.call(i,e[l])<a?s=l:o=l+1}return o}},function(e,t){var r=n("underscore");e.exports=function(e,t){r.each(t,function(t){this.listenTo(e,t,function(){var e=r.toArray(arguments);e.unshift(t),this.trigger.apply(this,e)})},this)}}],t(0)}()}(n(5),n(283))},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return o});var r=n(4),i="bottom-left",a="top-left",o="none";n.n(r).a.oneOf([i,a,o])},function(e,t,n){e.exports={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-9fpLMp EmptyPage-emptyPage-1mYmbe",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent--Yoft2 EmptyPage-content-1H9v6r"}},function(e,t,n){e.exports={container:"ChartTooltip-container-3qn8Yf",separator:"ChartTooltip-separator-3cEIac",LegendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",legendLabel:"ChartTooltip-LegendLabel-11wpbJ LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",label:"ChartTooltip-label-2Ez54j",values:"ChartTooltip-values-AlrdzX",valueRow:"ChartTooltip-valueRow-2OZ4lo",total:"ChartTooltip-total-2SwEHi"}},function(e,t,n){e.exports={summaryContainer:"TopUsersCell-summaryContainer-1yfwzo",playHistoryLink:"TopUsersCell-playHistoryLink-N0CBlR",avatar:"TopUsersCell-avatar-32G-sm AvatarImg-avatar-3Op56u",summary:"TopUsersCell-summary-2kJUgD",row:"TopUsersCell-row-3J07td",username:"TopUsersCell-username-2id3JZ TopUsersCell-row-3J07td",metadataRow:"TopUsersCell-metadataRow-18eeum TopUsersCell-row-3J07td",metadataTitle:"TopUsersCell-metadataTitle-3elrC0",duration:"TopUsersCell-duration-aWMKX_"}},function(e,t,n){e.exports={deviceImageContainer:"DVRSetupDevice-deviceImageContainer-2xU-HL",selectButton:"DVRSetupDevice-selectButton-ae6X2N SelectButton-selectButton-3Kbjm9",details:"DVRSetupDevice-details-3KGanS",make:"DVRSetupDevice-make-1bKta_",modelContainer:"DVRSetupDevice-modelContainer-2aBGGR",model:"DVRSetupDevice-model-2C8RY9",uri:"DVRSetupDevice-uri-1doZGQ",channelCount:"DVRSetupDevice-channelCount-3h5cjL"}},function(e,t,n){e.exports={addDeviceButton:"DVRSetupDeviceSelector-addDeviceButton-37qk2J",manualDeviceButtonContainer:"DVRSetupDeviceSelector-manualDeviceButtonContainer-3-lqeO",manualDeviceContainer:"DVRSetupDeviceSelector-manualDeviceContainer-6K51iL",manualAddressArrow:"DVRSetupDeviceSelector-manualAddressArrow-e9thnK",manualDeviceInput:"DVRSetupDeviceSelector-manualDeviceInput-22enzQ TextInput-input-1VMuma input-input-1P2Vi4",deviceCount:"DVRSetupDeviceSelector-deviceCount-6HUilm",devices:"DVRSetupDeviceSelector-devices-2f43GS",device:"DVRSetupDeviceSelector-device-QX9WAw",spinnerContainer:"DVRSetupDeviceSelector-spinnerContainer-2U4Wii"}},function(e,t,n){e.exports={container:"UnclaimedServer-container-2zE1QO",message:"UnclaimedServer-message-16zts1",messageHeader:"UnclaimedServer-messageHeader-6cNqhY",messageDetails:"UnclaimedServer-messageDetails-2ERBDY"}},function(e,t,n){e.exports={sidebarMenuButton:"SidebarMenuButton-sidebarMenuButton-khx_Pb",sidebarMenuButtonContainer:"SidebarMenuButton-sidebarMenuButtonContainer-3c2yQl",sidebarMenuSpinner:"SidebarMenuButton-sidebarMenuSpinner-2cI_mh",sidebarMenuTitle:"SidebarMenuButton-sidebarMenuTitle-2If4a2",sidebarMenuPrimaryTitleContainer:"SidebarMenuButton-sidebarMenuPrimaryTitleContainer-3-vDDD",sidebarMenuPrimaryTitle:"SidebarMenuButton-sidebarMenuPrimaryTitle-2_fxHH",sidebarMenuSecondaryTitle:"SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"SidebarMenuButton-icon-3UrWWB",isDisabled:"SidebarMenuButton-isDisabled-Iwcsxd"}},function(e,t,n){var r;!function(n,i){var a=this;void 0===(r=function(){return function(e){"use strict";return function(e){var t=Object.create(null);return function n(r){if(t[r])return t[r];var i=t[r]=Object.create(null);e[r](i,n);return i}(0)}([function(e,t){var n=t(23),r=t(23);e.debugMode=r.debugMode,e.verboseMode=r.verboseMode;var i=t(33),a=t(33);e.Set=a.Set;var o=t(30),s=t(30);e.Map=s.Map;var l=t(32),c=t(32);e.Promise=c.Promise,e.DeferredPromise=c.DeferredPromise;var u=t(37);e.webworker=u;var d=t(8);e.parts=d;var p=t(1);e.parser=p;var h=t(14);e.renderers=h;var f=t(24);e.ASS=f.ASS;var g=t(25);e.Attachment=g.Attachment,e.AttachmentType=g.AttachmentType;var v=t(26);e.Dialogue=v.Dialogue;var m=t(28);e.ScriptProperties=m.ScriptProperties;var y=t(29);e.Style=y.Style;var b=t(27);e.BorderStyle=b.BorderStyle,e.Format=b.Format,e.WrappingStyle=b.WrappingStyle,Object.defineProperties(e,{debugMode:{get:function(){return n.debugMode},set:n.setDebugMode},verboseMode:{get:function(){return n.verboseMode},set:n.setVerboseMode},Set:{get:function(){return i.Set},set:i.setImplementation},Map:{get:function(){return o.Map},set:o.setImplementation},Promise:{get:function(){return l.Promise},set:l.setImplementation}})},function(e,t){var n=t(3);e.parse=n.parse;var r=t(5);e.BrowserReadableStream=r.BrowserReadableStream,e.StringStream=r.StringStream,e.XhrStream=r.XhrStream;var i=t(4);e.StreamParser=i.StreamParser,e.SrtStreamParser=i.SrtStreamParser},function(e,t){var n=t(30);function r(e){var t=e.indexOf(":");if(-1===t)return null;var n=e.substr(0,t),r=e.substr(t+1).replace(/^\s+/,"");return{name:n,value:r}}e.parseLineIntoProperty=r,e.parseLineIntoTypedTemplate=function(e,t){var i=r(e);if(null===i)return null;var a=i.value.split(",");a.length>t.length&&(a[t.length-1]=a.slice(t.length-1).join(","));var o=new n.Map;return t.forEach(function(e,t){o.set(e,a[t])}),{type:i.name,template:o}}},function(e,t){var n=t(8),r=t(23),i=t(30),a=new i.Map;function o(e,t){var n=new s(e,t);if(null===n.result||n.result.end!==e.length)throw r.debugMode&&console.error("Parse failed. %s %s %o",t,e,n.result),new Error("Parse failed.");return n.result.value}e.parse=o;var s=function(){function e(e,t){this._input=e,this._parseTree=new p(null),this._result=a.get(t).call(this,this._parseTree)}return Object.defineProperty(e.prototype,"result",{get:function(){return this._result},enumerable:!0,configurable:!0}),e.prototype.parse_dialogueParts=function(e){var t,r=new p(e);for(r.value=[];this._haveMore();){var i=this.parse_enclosedTags(r);if(null!==i)(t=r.value).push.apply(t,i.value);else{var a=this.parse_newline(r)||this.parse_hardspace(r)||this.parse_text(r);if(null===a)return e.pop(),null;if(a.value instanceof n.Text&&r.value[r.value.length-1]instanceof n.Text){var s=r.value[r.value.length-1];r.value[r.value.length-1]=new n.Text(s.value+a.value.value)}else r.value.push(a.value)}}var l=!1;return r.value.forEach(function(e,t){e instanceof n.DrawingMode?l=0!==e.scale:e instanceof n.Text&&l&&(r.value[t]=new n.DrawingInstructions(o(e.value,"drawingInstructions")))}),r},e.prototype.parse_enclosedTags=function(e){var t=new p(e);if(t.value=[],null===this.read(t,"{"))return e.pop(),null;for(var r=this._peek();this._haveMore()&&"}"!==r;r=this._peek()){var i=null;if(null!==this.read(t,"\\")&&null===(i=this.parse_tag_alpha(t)||this.parse_tag_iclip(t)||this.parse_tag_xbord(t)||this.parse_tag_ybord(t)||this.parse_tag_xshad(t)||this.parse_tag_yshad(t)||this.parse_tag_blur(t)||this.parse_tag_bord(t)||this.parse_tag_clip(t)||this.parse_tag_fade(t)||this.parse_tag_fscx(t)||this.parse_tag_fscy(t)||this.parse_tag_move(t)||this.parse_tag_shad(t)||this.parse_tag_fad(t)||this.parse_tag_fax(t)||this.parse_tag_fay(t)||this.parse_tag_frx(t)||this.parse_tag_fry(t)||this.parse_tag_frz(t)||this.parse_tag_fsp(t)||this.parse_tag_fsplus(t)||this.parse_tag_fsminus(t)||this.parse_tag_org(t)||this.parse_tag_pbo(t)||this.parse_tag_pos(t)||this.parse_tag_an(t)||this.parse_tag_be(t)||this.parse_tag_fn(t)||this.parse_tag_fr(t)||this.parse_tag_fs(t)||this.parse_tag_kf(t)||this.parse_tag_ko(t)||this.parse_tag_1a(t)||this.parse_tag_1c(t)||this.parse_tag_2a(t)||this.parse_tag_2c(t)||this.parse_tag_3a(t)||this.parse_tag_3c(t)||this.parse_tag_4a(t)||this.parse_tag_4c(t)||this.parse_tag_a(t)||this.parse_tag_b(t)||this.parse_tag_c(t)||this.parse_tag_i(t)||this.parse_tag_k(t)||this.parse_tag_K(t)||this.parse_tag_p(t)||this.parse_tag_q(t)||this.parse_tag_r(t)||this.parse_tag_s(t)||this.parse_tag_t(t)||this.parse_tag_u(t))&&t.pop(),null===i&&(i=this.parse_comment(t)),null===i)return e.pop(),null;i.value instanceof n.Comment&&t.value[t.value.length-1]instanceof n.Comment?t.value[t.value.length-1]=new n.Comment(t.value[t.value.length-1].value+i.value.value):t.value.push(i.value)}return null===this.read(t,"}")?(e.pop(),null):t},e.prototype.parse_newline=function(e){var t=new p(e);return null===this.read(t,"\\N")?(e.pop(),null):(t.value=new n.NewLine,t)},e.prototype.parse_hardspace=function(e){var t=new p(e);return null===this.read(t,"\\h")?(e.pop(),null):(t.value=new n.Text(""),t)},e.prototype.parse_text=function(e){var t=this._peek(),r=new p(e),i=new p(r,t);return r.value=new n.Text(i.value),r},e.prototype.parse_comment=function(e){var t=this._peek(),r=new p(e),i=new p(r,t);return r.value=new n.Comment(i.value),r},e.prototype.parse_tag_a=function(e){var t=new p(e);if(null===this.read(t,"a"))return e.pop(),null;var r=this._peek();switch(r){case"1":var i=this._peek(2);switch(i){case"10":case"11":r=i}break;case"2":case"3":case"5":case"6":case"7":case"9":break;default:return e.pop(),null}var a=new p(t,r),o=null;switch(a.value){case"1":o=1;break;case"2":o=2;break;case"3":o=3;break;case"5":o=7;break;case"6":o=8;break;case"7":o=9;break;case"9":o=4;break;case"10":o=5;break;case"11":o=6}return t.value=new n.Alignment(o),t},e.prototype.parse_tag_alpha=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_an=function(e){var t=new p(e);if(null===this.read(t,"an"))return e.pop(),null;var r=this._peek();if(r<"1"||r>"9")return e.pop(),null;var i=new p(t,r);return t.value=new n.Alignment(parseInt(i.value)),t},e.prototype.parse_tag_b=function(e){var t=new p(e);if(null===this.read(t,"b"))return e.pop(),null;var r=null,i=this._peek();return i>="1"&&i<="9"&&"00"===(i=this._peek(3)).substr(1)&&((r=new p(t,i)).value=parseInt(r.value)),null===r&&(r=this.parse_enableDisable(t)),t.value=null!==r?new n.Bold(r.value):new n.Bold(null),t},e.prototype.parse_tag_be=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_blur=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_bord=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_c=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_clip=function(e){return this._parse_tag_clip_or_iclip("clip",e)},e.prototype.parse_tag_fad=function(e){var t=new p(e);if(null===this.read(t,"fad"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=this.parse_decimal(t);if(null===r)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var i=this.parse_decimal(t);return null===i?(e.pop(),null):null===this.read(t,")")?(e.pop(),null):(t.value=new n.Fade(r.value/1e3,i.value/1e3),t)},e.prototype.parse_tag_fade=function(e){var t=new p(e);if(null===this.read(t,"fade"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=this.parse_decimal(t);if(null===r)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var i=this.parse_decimal(t);if(null===i)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var a=this.parse_decimal(t);if(null===a)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var o=this.parse_decimal(t);if(null===o)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var s=this.parse_decimal(t);if(null===s)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var l=this.parse_decimal(t);if(null===l)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var c=this.parse_decimal(t);return null===c?(e.pop(),null):null===this.read(t,")")?(e.pop(),null):(t.value=new n.ComplexFade(1-r.value/255,1-i.value/255,1-a.value/255,o.value/1e3,s.value/1e3,l.value/1e3,c.value/1e3),t)},e.prototype.parse_tag_fax=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_fay=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_fn=function(e){var t=new p(e);if(null===this.read(t,"fn"))return e.pop(),null;for(var r=new p(t,""),i=this._peek();this._haveMore()&&"\\"!==i&&"}"!==i;i=this._peek())r.value+=i;return r.value.length>0?t.value=new n.FontName(r.value):t.value=new n.FontName(null),t},e.prototype.parse_tag_fr=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_frx=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_fry=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_frz=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_fs=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_fsplus=function(e){var t=new p(e);if(null===this.read(t,"fs+"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.FontSizePlus(r.value),t)},e.prototype.parse_tag_fsminus=function(e){var t=new p(e);if(null===this.read(t,"fs-"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.FontSizeMinus(r.value),t)},e.prototype.parse_tag_fscx=function(e){var t=new p(e);if(null===this.read(t,"fscx"))return e.pop(),null;var r=this.parse_decimal(t);return t.value=null!==r?new n.FontScaleX(r.value/100):new n.FontScaleX(null),t},e.prototype.parse_tag_fscy=function(e){var t=new p(e);if(null===this.read(t,"fscy"))return e.pop(),null;var r=this.parse_decimal(t);return t.value=null!==r?new n.FontScaleY(r.value/100):new n.FontScaleY(null),t},e.prototype.parse_tag_fsp=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_i=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_iclip=function(e){return this._parse_tag_clip_or_iclip("iclip",e)},e.prototype.parse_tag_k=function(e){var t=new p(e);if(null===this.read(t,"k"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.ColorKaraoke(r.value/100),t)},e.prototype.parse_tag_K=function(e){var t=new p(e);if(null===this.read(t,"K"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.SweepingColorKaraoke(r.value/100),t)},e.prototype.parse_tag_kf=function(e){var t=new p(e);if(null===this.read(t,"kf"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.SweepingColorKaraoke(r.value/100),t)},e.prototype.parse_tag_ko=function(e){var t=new p(e);if(null===this.read(t,"ko"))return e.pop(),null;var r=this.parse_decimal(t);return null===r?(e.pop(),null):(t.value=new n.OutlineKaraoke(r.value/100),t)},e.prototype.parse_tag_move=function(e){var t=new p(e);if(null===this.read(t,"move"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=this.parse_decimal(t);if(null===r)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var i=this.parse_decimal(t);if(null===i)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var a=this.parse_decimal(t);if(null===a)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var o=this.parse_decimal(t);if(null===o)return e.pop(),null;var s=null,l=null;if(null!==this.read(t,",")){if(null===(s=this.parse_decimal(t)))return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;if(null===(l=this.parse_decimal(t)))return e.pop(),null}return null===this.read(t,")")?(e.pop(),null):(t.value=new n.Move(r.value,i.value,a.value,o.value,null!==s?s.value/1e3:null,null!==l?l.value/1e3:null),t)},e.prototype.parse_tag_org=function(e){var t=new p(e);if(null===this.read(t,"org"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=this.parse_decimal(t);if(null===r)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var i=this.parse_decimal(t);return null===i?(e.pop(),null):null===this.read(t,")")?(e.pop(),null):(t.value=new n.RotationOrigin(r.value,i.value),t)},e.prototype.parse_tag_p=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_pbo=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_pos=function(e){var t=new p(e);if(null===this.read(t,"pos"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=this.parse_decimal(t);if(null===r)return e.pop(),null;if(null===this.read(t,","))return e.pop(),null;var i=this.parse_decimal(t);return null===i?(e.pop(),null):null===this.read(t,")")?(e.pop(),null):(t.value=new n.Position(r.value,i.value),t)},e.prototype.parse_tag_q=function(e){var t=new p(e);if(null===this.read(t,"q"))return e.pop(),null;var r=this._peek();if(r<"0"||r>"3")return e.pop(),null;var i=new p(t,r);return t.value=new n.WrappingStyle(parseInt(i.value)),t},e.prototype.parse_tag_r=function(e){var t=new p(e);if(null===this.read(t,"r"))return e.pop(),null;for(var r=new p(t,""),i=this._peek();this._haveMore()&&"\\"!==i&&"}"!==i;i=this._peek())r.value+=i;return r.value.length>0?t.value=new n.Reset(r.value):t.value=new n.Reset(null),t},e.prototype.parse_tag_s=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_shad=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_t=function(e){var t=new p(e);if(null===this.read(t,"t"))return e.pop(),null;if(null===this.read(t,"("))return e.pop(),null;var r=null,i=null,a=null,o=this.parse_decimal(t);if(null!==o){if(null===this.read(t,","))return e.pop(),null;var s=this.parse_decimal(t);if(null!==s){if(r=o,i=s,null===this.read(t,","))return e.pop(),null;var l=this.parse_decimal(t);if(null!==l&&(a=l,null===this.read(t,",")))return e.pop(),null}else if(a=o,null===this.read(t,","))return e.pop(),null}for(var c=[],u=this._peek();this._haveMore()&&")"!==u&&"}"!==u;u=this._peek()){var d=null;if(null!==this.read(t,"\\")&&null===(d=this.parse_tag_alpha(t)||this.parse_tag_iclip(t)||this.parse_tag_xbord(t)||this.parse_tag_ybord(t)||this.parse_tag_xshad(t)||this.parse_tag_yshad(t)||this.parse_tag_blur(t)||this.parse_tag_bord(t)||this.parse_tag_clip(t)||this.parse_tag_fscx(t)||this.parse_tag_fscy(t)||this.parse_tag_shad(t)||this.parse_tag_fax(t)||this.parse_tag_fay(t)||this.parse_tag_frx(t)||this.parse_tag_fry(t)||this.parse_tag_frz(t)||this.parse_tag_fsp(t)||this.parse_tag_fsplus(t)||this.parse_tag_fsminus(t)||this.parse_tag_be(t)||this.parse_tag_fr(t)||this.parse_tag_fs(t)||this.parse_tag_1a(t)||this.parse_tag_1c(t)||this.parse_tag_2a(t)||this.parse_tag_2c(t)||this.parse_tag_3a(t)||this.parse_tag_3c(t)||this.parse_tag_4a(t)||this.parse_tag_4c(t)||this.parse_tag_c(t))&&t.pop(),null===d&&(d=this.parse_comment(t)),null===d)return e.pop(),null;d.value instanceof n.Comment&&c[c.length-1]instanceof n.Comment?c[c.length-1]=new n.Comment(c[c.length-1].value+d.value.value):c.push(d.value)}return this.read(t,")"),t.value=new n.Transform(null!==r?r.value/1e3:null,null!==i?i.value/1e3:null,null!==a?a.value/1e3:null,c),t},e.prototype.parse_tag_u=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_xbord=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_xshad=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_ybord=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_yshad=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_1a=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_1c=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_2a=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_2c=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_3a=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_3c=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_4a=function(){throw new Error("Method not implemented.")},e.prototype.parse_tag_4c=function(){throw new Error("Method not implemented.")},e.prototype.parse_drawingInstructions=function(e){var t=new p(e),r=null,i=[];for(t.value=[];this._haveMore();){for(;null!==this.read(t," "););if(!this._haveMore())break;if(null!==r){var a=this.parse_decimal(t);if(null!==a){i.push(a),"m"===r&&2===i.length?(t.value.push(new n.drawing.MoveInstruction(i[0].value,i[1].value)),i.splice(0,i.length)):"l"===r&&2===i.length?(t.value.push(new n.drawing.LineInstruction(i[0].value,i[1].value)),i.splice(0,i.length)):"b"===r&&6===i.length&&(t.value.push(new n.drawing.CubicBezierCurveInstruction(i[0].value,i[1].value,i[2].value,i[3].value,i[4].value,i[5].value)),i.splice(0,i.length));continue}}var o=this.parse_text(t);if(null===o)break;var s=o.value.value;switch(s){case"m":case"l":case"b":r=s,i.splice(0,i.length)}}for(;null!==this.read(t," "););return t},e.prototype.parse_decimalInt32=function(e){for(var t=new p(e),n=null!==this.read(t,"-"),r=new p(t,""),i=this._peek();this._haveMore()&&i>="0"&&i<="9";i=this._peek())r.value+=i;if(0===r.value.length)return e.pop(),null;var a=parseInt(r.value);return a>=4294967295?a=4294967295:n&&(a=-a),t.value=a,t},e.prototype.parse_hexInt32=function(e){for(var t=new p(e),n=null!==this.read(t,"-"),r=new p(t,""),i=this._peek();this._haveMore()&&(i>="0"&&i<="9"||i>="a"&&i<="f"||i>="A"&&i<="F");i=this._peek())r.value+=i;if(0===r.value.length)return e.pop(),null;var a=parseInt(r.value,16);return a>=4294967295?a=4294967295:n&&(a=-a),t.value=a,t},e.prototype.parse_decimalOrHexInt32=function(e){var t=new p(e),n=null!==this.read(t,"&H")||null!==this.read(t,"&h")?this.parse_hexInt32(t):this.parse_decimalInt32(t);return null===n?(e.pop(),null):(t.value=n.value,t)},e.prototype.parse_decimal=function(e){var t=new p(e),n=null!==this.read(t,"-"),r=this.parse_unsignedDecimal(t);return null===r?(e.pop(),null):(t.value=r.value,n&&(t.value=-t.value),t)},e.prototype.parse_unsignedDecimal=function(e){for(var t=new p(e),n=new p(t,""),r=null,i=this._peek();this._haveMore()&&i>="0"&&i<="9";i=this._peek())n.value+=i;if(0===n.value.length)return e.pop(),null;if(null!==this.read(t,".")){r=new p(t,"");for(var i=this._peek();this._haveMore()&&i>="0"&&i<="9";i=this._peek())r.value+=i;if(0===r.value.length)return e.pop(),null}return t.value=parseFloat(n.value+(null!==r?"."+r.value:"")),t},e.prototype.parse_enableDisable=function(e){var t=this._peek();if("0"===t||"1"===t){var n=new p(e,t);return n.value="1"===n.value,n}return null},e.prototype.parse_color=function(e){for(var t=new p(e);null!==this.read(t,"&")||null!==this.read(t,"H"););var r=this.parse_hexInt32(t);if(null===r)return e.pop(),null;var i=r.value;for(t.value=new n.Color(255&i,i>>8&255,i>>16&255);null!==this.read(t,"&")||null!==this.read(t,"H"););return t},e.prototype.parse_alpha=function(e){for(var t=new p(e);null!==this.read(t,"&")||null!==this.read(t,"H"););var n=this.parse_hexInt32(t);if(null===n)return e.pop(),null;var r=n.value;for(t.value=1-(255&r)/255;null!==this.read(t,"&")||null!==this.read(t,"H"););return t},e.prototype.parse_colorWithAlpha=function(e){var t=new p(e),r=this.parse_decimalOrHexInt32(t);if(null===r)return e.pop(),null;var i=r.value;return t.value=new n.Color(255&i,i>>8&255,i>>16&255,1-(i>>24&255)/255),t},e.prototype.read=function(e,t){return this._peek(t.length)!==t?null:new p(e,t)},e.prototype._peek=function(e){return void 0===e&&(e=1),1===e?this._input[this._parseTree.end]:this._input.substr(this._parseTree.end,e)},e.prototype._haveMore=function(){return this._parseTree.end<this._input.length},e.prototype._parse_tag_clip_or_iclip=function(e,t){var r=new p(t);if(null===this.read(r,e))return t.pop(),null;if(null===this.read(r,"("))return t.pop(),null;var i=null,a=null,s=null,l=null,c=null,u=null,d=this.parse_decimal(r);if(null!==d){if(null===this.read(r,","))return t.pop(),null;var h=this.parse_decimal(r);null!==h?(i=d,s=h):c=d}if(null!==i&&null!==s){if(null===this.read(r,","))return t.pop(),null;if(a=this.parse_decimal(r),null===this.read(r,","))return t.pop(),null;l=this.parse_decimal(r),r.value=new n.RectangularClip(i.value,s.value,a.value,l.value,"clip"===e)}else{u=new p(r,"");for(var f=this._peek();this._haveMore()&&")"!==f&&"}"!==f;f=this._peek())u.value+=f;r.value=new n.VectorClip(null!==c?c.value:1,o(u.value,"drawingInstructions"),"clip"===e)}return null===this.read(r,")")?(t.pop(),null):r},e}();function l(e,t,n,r){s.prototype["parse_tag_"+e]=function(i){var a=new p(i);if(null===this.read(a,e))return i.pop(),null;var o=n.call(this,a);if(null!==o)a.value=new t(o.value);else{if(r)return i.pop(),null;a.value=new t(null)}return a}}l("alpha",n.Alpha,s.prototype.parse_alpha,!1),l("be",n.Blur,s.prototype.parse_decimal,!1),l("blur",n.GaussianBlur,s.prototype.parse_decimal,!1),l("bord",n.Border,s.prototype.parse_decimal,!1),l("c",n.PrimaryColor,s.prototype.parse_color,!1),l("fax",n.SkewX,s.prototype.parse_decimal,!1),l("fay",n.SkewY,s.prototype.parse_decimal,!1),l("fr",n.RotateZ,s.prototype.parse_decimal,!1),l("frx",n.RotateX,s.prototype.parse_decimal,!1),l("fry",n.RotateY,s.prototype.parse_decimal,!1),l("frz",n.RotateZ,s.prototype.parse_decimal,!1),l("fs",n.FontSize,s.prototype.parse_decimal,!1),l("fsp",n.LetterSpacing,s.prototype.parse_decimal,!1),l("i",n.Italic,s.prototype.parse_enableDisable,!1),l("p",n.DrawingMode,s.prototype.parse_decimal,!0),l("pbo",n.DrawingBaselineOffset,s.prototype.parse_decimal,!0),l("s",n.StrikeThrough,s.prototype.parse_enableDisable,!1),l("shad",n.Shadow,s.prototype.parse_decimal,!1),l("u",n.Underline,s.prototype.parse_enableDisable,!1),l("xbord",n.BorderX,s.prototype.parse_decimal,!1),l("xshad",n.ShadowX,s.prototype.parse_decimal,!1),l("ybord",n.BorderY,s.prototype.parse_decimal,!1),l("yshad",n.ShadowY,s.prototype.parse_decimal,!1),l("1a",n.PrimaryAlpha,s.prototype.parse_alpha,!1),l("1c",n.PrimaryColor,s.prototype.parse_color,!1),l("2a",n.SecondaryAlpha,s.prototype.parse_alpha,!1),l("2c",n.SecondaryColor,s.prototype.parse_color,!1),l("3a",n.OutlineAlpha,s.prototype.parse_alpha,!1),l("3c",n.OutlineColor,s.prototype.parse_color,!1),l("4a",n.ShadowAlpha,s.prototype.parse_alpha,!1),l("4c",n.ShadowColor,s.prototype.parse_color,!1);for(var c=0,u=Object.keys(s.prototype);c<u.length;c++){var d=u[c];0===d.indexOf("parse_")&&"function"==typeof s.prototype[d]&&a.set(d.substr("parse_".length),s.prototype[d])}var p=function(){function e(e,t){void 0===t&&(t=null),this._parent=e,this._children=[],null!==e&&e.children.push(this),this._start=null!==e?e.end:0,this._end=this._start,this.value=t}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._children},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this._value=e,null!==this._value&&this._value.constructor===String&&0===this._children.length&&this._setEnd(this._start+this._value.length)},enumerable:!0,configurable:!0}),e.prototype.pop=function(){this._children.splice(this._children.length-1,1),this._children.length>0?this._setEnd(this._children[this._children.length-1].end):this._setEnd(this.start)},e.prototype._setEnd=function(e){this._end=e,null!==this._parent&&this._parent.end!==this._end&&this._parent._setEnd(this._end)},e}(),h=t(32),f=t(36),g=t(38);g.registerWorkerCommand(f.WorkerCommands.Parse,function(e){return new h.Promise(function(t){t(o(e.input,e.rule))})})},function(e,t){var n,r=t(23),i=t(24),a=t(29),o=t(26),s=t(25),l=t(30),c=t(32),u=t(2);!function(e){e[e.ScriptInfo=0]="ScriptInfo",e[e.Styles=1]="Styles",e[e.Events=2]="Events",e[e.Fonts=3]="Fonts",e[e.Graphics=4]="Graphics",e[e.Other=5]="Other",e[e.EOF=6]="EOF"}(n||(n={}));var d=function(){function e(e){var t=this;this._stream=e,this._ass=new i.ASS,this._minimalDeferred=new c.DeferredPromise,this._deferred=new c.DeferredPromise,this._shouldSwallowBom=!0,this._currentSection=n.ScriptInfo,this._currentAttachment=null,this._stream.nextLine().then(function(e){return t._onNextLine(e)},function(e){t._minimalDeferred.reject(e),t._deferred.reject(e)})}return Object.defineProperty(e.prototype,"minimalASS",{get:function(){return this._minimalDeferred.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ass",{get:function(){return this._deferred.promise},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentSection",{get:function(){return this._currentSection},set:function(e){if(null!==this._currentAttachment&&(this._ass.addAttachment(this._currentAttachment),this._currentAttachment=null),this._currentSection===n.ScriptInfo&&e!==n.ScriptInfo&&this._minimalDeferred.resolve(this._ass),e===n.EOF){var t=this._ass.properties;void 0===t.resolutionX||void 0===t.resolutionY?(this._minimalDeferred.reject("Malformed ASS script."),this._deferred.reject("Malformed ASS script.")):(this._minimalDeferred.resolve(this._ass),this._deferred.resolve(this._ass))}this._currentSection=e},enumerable:!0,configurable:!0}),e.prototype._onNextLine=function(e){var t=this;if(null!==e){if("\r"===e[e.length-1]&&(e=e.substr(0,e.length-1)),65279===e.charCodeAt(0)&&this._shouldSwallowBom&&(e=e.substr(1)),this._shouldSwallowBom=!1,""===e);else if(";"===e[0]&&null===this._currentAttachment);else if("[Script Info]"===e)this.currentSection=n.ScriptInfo;else if("[V4+ Styles]"===e||"[V4 Styles]"===e)this.currentSection=n.Styles;else if("[Events]"===e)this.currentSection=n.Events;else if("[Fonts]"===e)this.currentSection=n.Fonts;else if("[Graphics]"===e)this.currentSection=n.Graphics;else switch(null===this._currentAttachment&&"["===e[0]&&"]"===e[e.length-1]&&(this.currentSection=n.Other),this.currentSection){case n.ScriptInfo:var i=u.parseLineIntoProperty(e);if(null!==i)switch(i.name){case"PlayResX":this._ass.properties.resolutionX=parseInt(i.value);break;case"PlayResY":this._ass.properties.resolutionY=parseInt(i.value);break;case"WrapStyle":this._ass.properties.wrappingStyle=parseInt(i.value);break;case"ScaledBorderAndShadow":this._ass.properties.scaleBorderAndShadow="yes"===i.value}break;case n.Styles:if(null===this._ass.stylesFormatSpecifier){var a=u.parseLineIntoProperty(e);null!==a&&"Format"===a.name&&(this._ass.stylesFormatSpecifier=a.value.split(",").map(function(e){return e.trim()}))}else try{this._ass.addStyle(e)}catch(t){r.debugMode&&console.error("Could not parse style from line "+e+" - "+(t.stack||t))}break;case n.Events:if(null===this._ass.dialoguesFormatSpecifier){var o=u.parseLineIntoProperty(e);null!==o&&"Format"===o.name&&(this._ass.dialoguesFormatSpecifier=o.value.split(",").map(function(e){return e.trim()}))}else try{this._ass.addEvent(e)}catch(t){r.debugMode&&console.error("Could not parse event from line "+e+" - "+(t.stack||t))}break;case n.Fonts:case n.Graphics:var l=this.currentSection===n.Fonts?/^fontname:(.+)/:/^filename:(.+)/,c=l.exec(e);if(null!==c)null!==this._currentAttachment&&(this._ass.addAttachment(this._currentAttachment),this._currentAttachment=null),this._currentAttachment=new s.Attachment(c[1].trim(),this.currentSection===n.Fonts?s.AttachmentType.Font:s.AttachmentType.Graphic);else if(null!==this._currentAttachment)try{this._currentAttachment.contents+=function(e){for(var t="",n=0;n<e.length;n++){var r=e.charCodeAt(n)-33;if(r<0||r>63)throw new Error("Out-of-range character code "+r+" at index "+n+" in string "+e);t+=r<26?String.fromCharCode("A".charCodeAt(0)+r):r<52?String.fromCharCode("a".charCodeAt(0)+r-26):r<62?String.fromCharCode("0".charCodeAt(0)+r-52):62===r?"+":"/"}return t}(e)}catch(e){r.debugMode&&console.error("Encountered error while reading font "+this._currentAttachment.filename+": %o",e),this._currentAttachment=null}break;case n.Other:break;default:throw new Error("Unhandled state "+this.currentSection)}this._stream.nextLine().then(function(e){return t._onNextLine(e)},function(e){t._minimalDeferred.reject(e),t._deferred.reject(e)})}else this.currentSection=n.EOF},e}();e.StreamParser=d;var p=function(){function e(e){var t=this;this._stream=e,this._ass=new i.ASS,this._deferred=new c.DeferredPromise,this._shouldSwallowBom=!0,this._currentDialogueNumber=null,this._currentDialogueStart=null,this._currentDialogueEnd=null,this._currentDialogueText=null,this._stream.nextLine().then(function(e){return t._onNextLine(e)},function(e){t._deferred.reject(e)}),this._ass.properties.resolutionX=1280,this._ass.properties.resolutionY=720,this._ass.properties.wrappingStyle=1,this._ass.properties.scaleBorderAndShadow=!0;var n=new a.Style(new l.Map([["Name","Default"],["FontSize","36"]]));this._ass.styles.set(n.name,n)}return Object.defineProperty(e.prototype,"ass",{get:function(){return this._deferred.promise},enumerable:!0,configurable:!0}),e.prototype._onNextLine=function(e){var t=this;if(null===e)return null!==this._currentDialogueNumber&&null!==this._currentDialogueStart&&null!==this._currentDialogueEnd&&null!==this._currentDialogueText&&this._ass.dialogues.push(new o.Dialogue(new l.Map([["Style","Default"],["Start",this._currentDialogueStart],["End",this._currentDialogueEnd],["Text",this._currentDialogueText]]),this._ass)),void this._deferred.resolve(this._ass);if("\r"===e[e.length-1]&&(e=e.substr(0,e.length-1)),65279===e.charCodeAt(0)&&this._shouldSwallowBom&&(e=e.substr(1)),this._shouldSwallowBom=!1,""===e)null!==this._currentDialogueNumber&&null!==this._currentDialogueStart&&null!==this._currentDialogueEnd&&null!==this._currentDialogueText&&this._ass.dialogues.push(new o.Dialogue(new l.Map([["Style","Default"],["Start",this._currentDialogueStart],["End",this._currentDialogueEnd],["Text",this._currentDialogueText]]),this._ass)),this._currentDialogueNumber=this._currentDialogueStart=this._currentDialogueEnd=this._currentDialogueText=null;else if(null===this._currentDialogueNumber)/^\d+$/.test(e)&&(this._currentDialogueNumber=e);else if(null===this._currentDialogueStart&&null===this._currentDialogueEnd){var n=/^(\d\d:\d\d:\d\d,\d\d\d) --> (\d\d:\d\d:\d\d,\d\d\d)/.exec(e);null!==n&&(this._currentDialogueStart=n[1].replace(",","."),this._currentDialogueEnd=n[2].replace(",","."))}else e=e.replace(/<b>/g,"{\\b1}").replace(/\{b\}/g,"{\\b1}").replace(/<\/b>/g,"{\\b0}").replace(/\{\/b\}/g,"{\\b0}").replace(/<i>/g,"{\\i1}").replace(/\{i\}/g,"{\\i1}").replace(/<\/i>/g,"{\\i0}").replace(/\{\/i\}/g,"{\\i0}").replace(/<u>/g,"{\\u1}").replace(/\{u\}/g,"{\\u1}").replace(/<\/u>/g,"{\\u0}").replace(/\{\/u\}/g,"{\\u0}").replace(/<font color="#([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})">/g,function(e,t,n,r){return"{c&H"+r+n+t+"&}"}).replace(/<\/font>/g,"{\\c}"),null!==this._currentDialogueText?this._currentDialogueText+="\\N"+e:this._currentDialogueText=e;this._stream.nextLine().then(function(e){return t._onNextLine(e)},function(e){t._deferred.reject(e)})},e}();e.SrtStreamParser=p},function(t,n){var r=n(32),i=function(){function e(e){this._str=e,this._readTill=0}return e.prototype.nextLine=function(){var e=null;if(this._readTill<this._str.length){var t=this._str.indexOf("\n",this._readTill);-1!==t?(e=r.Promise.resolve(this._str.substring(this._readTill,t)),this._readTill=t+1):(e=r.Promise.resolve(this._str.substr(this._readTill)),this._readTill=this._str.length)}else e=r.Promise.resolve(null);return e},e}();t.StringStream=i;var a=function(){function e(e){var t=this;this._xhr=e,this._readTill=0,this._pendingDeferred=null,this._failedError=null,e.addEventListener("progress",function(){return t._onXhrProgress()},!1),e.addEventListener("load",function(){return t._onXhrLoad()},!1),e.addEventListener("error",function(e){return t._onXhrError(e)},!1)}return e.prototype.nextLine=function(){if(null!==this._pendingDeferred)throw new Error("XhrStream only supports one pending unfulfilled read at a time.");var e=this._pendingDeferred=new r.DeferredPromise;return this._tryResolveNextLine(),e.promise},e.prototype._onXhrProgress=function(){null!==this._pendingDeferred&&this._xhr.readyState!==XMLHttpRequest.DONE&&this._tryResolveNextLine()},e.prototype._onXhrLoad=function(){null!==this._pendingDeferred&&this._tryResolveNextLine()},e.prototype._onXhrError=function(e){this._failedError=e,null!==this._pendingDeferred&&this._tryResolveNextLine()},e.prototype._tryResolveNextLine=function(){if(null===this._failedError){var e=this._xhr.responseText,t=e.indexOf("\n",this._readTill);-1!==t?(this._pendingDeferred.resolve(e.substring(this._readTill,t)),this._readTill=t+1,this._pendingDeferred=null):this._xhr.readyState===XMLHttpRequest.DONE&&(null!==this._failedError?this._pendingDeferred.reject(this._failedError):this._readTill<e.length?(this._pendingDeferred.resolve(e.substr(this._readTill)),this._readTill=e.length):this._pendingDeferred.resolve(null),this._pendingDeferred=null)}else this._pendingDeferred.reject(this._failedError)},e}();t.XhrStream=a;var o=function(){function t(t,n){this._buffer="",this._pendingDeferred=null,this._reader=t.getReader(),this._decoder=new e.TextDecoder(n,{ignoreBOM:!0})}return t.prototype.nextLine=function(){if(null!==this._pendingDeferred)throw new Error("BrowserReadableStream only supports one pending unfulfilled read at a time.");var e=this._pendingDeferred=new r.DeferredPromise;return this._tryResolveNextLine(),e.promise},t.prototype._tryResolveNextLine=function(){var e=this,t=this._buffer.indexOf("\n");-1!==t?(this._pendingDeferred.resolve(this._buffer.substr(0,t)),this._buffer=this._buffer.substr(t+1),this._pendingDeferred=null):this._reader.read().then(function(t){var n=t.value,r=t.done;r?(0===e._buffer.length?e._pendingDeferred.resolve(null):(e._pendingDeferred.resolve(e._buffer),e._buffer=""),e._pendingDeferred=null):(e._buffer+=e._decoder.decode(n,{stream:!0}),e._tryResolveNextLine())})},t}();t.BrowserReadableStream=o},function(e,t){var n,r=t(34).__decorate,i=t(30),a=t(33);!function(e){e[e.Char=0]="Char",e[e.Uint16=1]="Uint16",e[e.Uint32=2]="Uint32"}(n||(n={}));var o=new i.Map,s=function(){function e(){}return r([p(n.Uint16)],e.prototype,"majorVersion",void 0),r([p(n.Uint16)],e.prototype,"minorVersion",void 0),r([p(n.Uint16)],e.prototype,"numTables",void 0),r([p(n.Uint16)],e.prototype,"searchRange",void 0),r([p(n.Uint16)],e.prototype,"entrySelector",void 0),r([p(n.Uint16)],e.prototype,"rangeShift",void 0),e=r([d],e)}(),l=function(){function e(){}return r([p(n.Char)],e.prototype,"c1",void 0),r([p(n.Char)],e.prototype,"c2",void 0),r([p(n.Char)],e.prototype,"c3",void 0),r([p(n.Char)],e.prototype,"c4",void 0),r([p(n.Uint32)],e.prototype,"checksum",void 0),r([p(n.Uint32)],e.prototype,"offset",void 0),r([p(n.Uint32)],e.prototype,"length",void 0),e=r([d],e)}(),c=function(){function e(){}return r([p(n.Uint16)],e.prototype,"formatSelector",void 0),r([p(n.Uint16)],e.prototype,"count",void 0),r([p(n.Uint16)],e.prototype,"stringOffset",void 0),e=r([d],e)}(),u=function(){function e(){}return r([p(n.Uint16)],e.prototype,"platformId",void 0),r([p(n.Uint16)],e.prototype,"encodingId",void 0),r([p(n.Uint16)],e.prototype,"languageId",void 0),r([p(n.Uint16)],e.prototype,"nameId",void 0),r([p(n.Uint16)],e.prototype,"length",void 0),r([p(n.Uint16)],e.prototype,"offset",void 0),e=r([d],e)}();function d(e){var t=e.__fields;return e.read=function(r){for(var i=new e,a=0;a<t.length;a++){var o=t[a],s=void 0;switch(o.type){case n.Char:s=String.fromCharCode(r.dataView.getInt8(r.position)),r.position+=1;break;case n.Uint16:s=r.dataView.getUint16(r.position),r.position+=2;break;case n.Uint32:s=r.dataView.getUint32(r.position),r.position+=4}i[o.field]=s}return i},e}function p(e){var t=o.get(e);return void 0===t&&(t=function(t,n){var r=t.constructor;void 0===r.__fields&&(r.__fields=[]),r.__fields.push({type:e,field:n})},o.set(e,t)),t}e.getTtfNames=function(e){for(var t=atob(e.contents),n=new Uint8Array(new ArrayBuffer(t.length)),r=0;r<t.length;r++)n[r]=t.charCodeAt(r);for(var i={dataView:new DataView(n.buffer),position:0},o=s.read(i),d=null,r=0;r<o.numTables;r++){var p=l.read(i);if(p.c1+p.c2+p.c3+p.c4==="name"){d=p;break}}i.position=d.offset;for(var h=c.read(i),f=new a.Set,r=0;r<h.count;r++){var g=u.read(i);switch(g.nameId){case 1:case 4:case 6:var v=d.offset+h.stringOffset+g.offset,m=n.subarray(v,v+g.length);switch(g.platformId){case 1:for(var y="",b=0;b<m.length;b++)y+=String.fromCharCode(m[b]);f.add(y);break;case 3:for(var S="",b=0;b<m.length;b+=2)S+=String.fromCharCode((m[b]<<8)+m[b+1]);f.add(S)}}}return f}},function(e){var t=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();e.MoveInstruction=t;var n=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();e.LineInstruction=n;var r=function(){function e(e,t,n,r,i,a){this._x1=e,this._y1=t,this._x2=n,this._y2=r,this._x3=i,this._y3=a}return Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x3",{get:function(){return this._x3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y3",{get:function(){return this._y3},enumerable:!0,configurable:!0}),e}();e.CubicBezierCurveInstruction=r},function(e,t){var n=t(7);e.drawing=n;var r=function(){function e(e,t,n,r){void 0===r&&(r=1),this._red=e,this._green=t,this._blue=n,this._alpha=r}return Object.defineProperty(e.prototype,"red",{get:function(){return this._red},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"green",{get:function(){return this._green},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blue",{get:function(){return this._blue},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},enumerable:!0,configurable:!0}),e.prototype.withAlpha=function(t){return null!==t?new e(this._red,this._green,this._blue,t):this},e.prototype.toString=function(){return"rgba("+this._red+", "+this._green+", "+this._blue+", "+this._alpha.toFixed(3)+")"},e.prototype.interpolate=function(t,n){return new e(this._red+n*(t.red-this._red),this._green+n*(t.green-this._green),this._blue+n*(t.blue-this._blue),this._alpha+n*(t.alpha-this._alpha))},e}();e.Color=r;var i=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Comment=i;var a=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"Text { value: "+this._value.replace(/\u00A0/g,"\\h")+" }"},e}();e.Text=a;var o=function(){return function(){}}();e.NewLine=o;var s=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Italic=s;var l=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Bold=l;var c=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Underline=c;var u=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.StrikeThrough=u;var d=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Border=d;var p=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.BorderX=p;var h=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.BorderY=h;var f=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Shadow=f;var g=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.ShadowX=g;var v=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.ShadowY=v;var m=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Blur=m;var y=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.GaussianBlur=y;var b=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontName=b;var S=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontSize=S;var I=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontSizePlus=I;var C=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontSizeMinus=C;var M=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontScaleX=M;var D=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.FontScaleY=D;var w=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.LetterSpacing=w;var P=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.RotateX=P;var T=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.RotateY=T;var E=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.RotateZ=E;var x=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.SkewX=x;var O=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.SkewY=O;var j=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.PrimaryColor=j;var A=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.SecondaryColor=A;var N=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.OutlineColor=N;var k=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.ShadowColor=k;var L=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Alpha=L;var R=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.PrimaryAlpha=R;var _=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.SecondaryAlpha=_;var U=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.OutlineAlpha=U;var z=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.ShadowAlpha=z;var F=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Alignment=F;var B=function(){function e(e){this._duration=e}return Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e}();e.ColorKaraoke=B;var H=function(){function e(e){this._duration=e}return Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e}();e.SweepingColorKaraoke=H;var V=function(){function e(e){this._duration=e}return Object.defineProperty(e.prototype,"duration",{get:function(){return this._duration},enumerable:!0,configurable:!0}),e}();e.OutlineKaraoke=V;var Q=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.WrappingStyle=Q;var W=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.Reset=W;var G=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();e.Position=G;var Y=function(){function e(e,t,n,r,i,a){this._x1=e,this._y1=t,this._x2=n,this._y2=r,this._t1=i,this._t2=a}return Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t1",{get:function(){return this._t1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t2",{get:function(){return this._t2},enumerable:!0,configurable:!0}),e}();e.Move=Y;var K=function(){function e(e,t){this._x=e,this._y=t}return Object.defineProperty(e.prototype,"x",{get:function(){return this._x},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y",{get:function(){return this._y},enumerable:!0,configurable:!0}),e}();e.RotationOrigin=K;var q=function(){function e(e,t){this._start=e,this._end=t}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),e}();e.Fade=q;var Z=function(){function e(e,t,n,r,i,a,o){this._a1=e,this._a2=t,this._a3=n,this._t1=r,this._t2=i,this._t3=a,this._t4=o}return Object.defineProperty(e.prototype,"a1",{get:function(){return this._a1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a2",{get:function(){return this._a2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"a3",{get:function(){return this._a3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t1",{get:function(){return this._t1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t2",{get:function(){return this._t2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t3",{get:function(){return this._t3},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"t4",{get:function(){return this._t4},enumerable:!0,configurable:!0}),e}();e.ComplexFade=Z;var X=function(){function e(e,t,n,r){this._start=e,this._end=t,this._accel=n,this._tags=r}return Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"accel",{get:function(){return this._accel},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"tags",{get:function(){return this._tags},enumerable:!0,configurable:!0}),e}();e.Transform=X;var J=function(){function e(e,t,n,r,i){this._x1=e,this._y1=t,this._x2=n,this._y2=r,this._inside=i}return Object.defineProperty(e.prototype,"x1",{get:function(){return this._x1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y1",{get:function(){return this._y1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"x2",{get:function(){return this._x2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"y2",{get:function(){return this._y2},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this._inside},enumerable:!0,configurable:!0}),e}();e.RectangularClip=J;var $=function(){function e(e,t,n){this._scale=e,this._instructions=t,this._inside=n}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"instructions",{get:function(){return this._instructions},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"inside",{get:function(){return this._inside},enumerable:!0,configurable:!0}),e}();e.VectorClip=$;var ee=function(){function e(e){this._scale=e}return Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},enumerable:!0,configurable:!0}),e}();e.DrawingMode=ee;var te=function(){function e(e){this._value=e}return Object.defineProperty(e.prototype,"value",{get:function(){return this._value},enumerable:!0,configurable:!0}),e}();e.DrawingBaselineOffset=te;var ne=function(){function e(e){this._instructions=e}return Object.defineProperty(e.prototype,"instructions",{get:function(){return this._instructions},enumerable:!0,configurable:!0}),e}();e.DrawingInstructions=ne;for(var re=function(e,t){if(!e.prototype.hasOwnProperty("toString")){var n=Object.getOwnPropertyNames(e.prototype).filter(function(e){return"constructor"!==e});e.prototype.toString=function(){var e=this;return t+" { "+n.map(function(t){return t+": "+e[t]}).join(", ")+(n.length>0?" ":"")+"}"}}},ie=t(38),ae=0,oe=Object.keys(e);ae<oe.length;ae++){var se=oe[ae],le=e[se];le instanceof Function&&(re(le,se),ie.registerClassPrototype(le.prototype))}for(var ce=0,ue=Object.keys(n);ce<ue.length;ce++){var se=ue[ce],le=n[se];le instanceof Function&&(re(le,"Drawing"+se),ie.registerClassPrototype(le.prototype))}},function(e,t){var n=t(23),r=t(11),i=function(){function e(e,t){this._getCurrentTime=e,this._autoPauseAfter=t,this._manualClock=new r.ManualClock,this._nextAnimationFrameRequestId=null,this._lastKnownExternalTime=null,this._lastKnownExternalTimeObtainedAt=null}return e.prototype.play=function(){this._manualClock.enabled&&(this._startTicking(),this._manualClock.play())},e.prototype.pause=function(){this._manualClock.enabled&&(null!==this._nextAnimationFrameRequestId?(this._stopTicking(),this._manualClock.pause()):n.debugMode&&console.warn("AutoClock.pause: Abnormal state detected. AutoClock._nextAnimationFrameRequestId should not have been null."))},e.prototype.seeking=function(){this._manualClock.seek(this._getCurrentTime())},Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._manualClock.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._manualClock.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._manualClock.paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this._manualClock.rate},enumerable:!0,configurable:!0}),e.prototype.setRate=function(e){this._manualClock.setRate(e)},e.prototype.enable=function(){return!!this._manualClock.enable()&&(this._startTicking(),!0)},e.prototype.disable=function(){return!!this._manualClock.disable()&&(this._stopTicking(),!0)},e.prototype.toggle=function(){this._manualClock.enabled?this.disable():this.enable()},e.prototype.setEnabled=function(e){return e?this.enable():this.disable()},e.prototype.addEventListener=function(e,t){this._manualClock.addEventListener(e,t)},e.prototype._onTimerTick=function(e){var t=this;if(this._manualClock.enabled){var r=this._manualClock.currentTime,i=this._getCurrentTime();this._manualClock.paused?r!==i&&(this._lastKnownExternalTime=i,this._lastKnownExternalTimeObtainedAt=e,this._manualClock.tick(i)):null!==this._lastKnownExternalTime&&i===this._lastKnownExternalTime?e-this._lastKnownExternalTimeObtainedAt>this._autoPauseAfter?(this._lastKnownExternalTimeObtainedAt=null,this._manualClock.pause()):this._manualClock.tick((e-this._lastKnownExternalTimeObtainedAt)/1e3*this._manualClock.rate+this._lastKnownExternalTime):(this._lastKnownExternalTime=i,this._lastKnownExternalTimeObtainedAt=e,this._manualClock.tick(i)),this._nextAnimationFrameRequestId=requestAnimationFrame(function(e){return t._onTimerTick(e)})}else n.debugMode&&console.warn("AutoClock._onTimerTick: Called when disabled.")},e.prototype._startTicking=function(){var e=this;null===this._nextAnimationFrameRequestId&&(this._nextAnimationFrameRequestId=requestAnimationFrame(function(t){return e._onTimerTick(t)}))},e.prototype._stopTicking=function(){null!==this._nextAnimationFrameRequestId&&(cancelAnimationFrame(this._nextAnimationFrameRequestId),this._nextAnimationFrameRequestId=null)},e}();e.AutoClock=i},function(e){var t,n=function(){function e(){}return e.prototype.addEventListener=function(e,t){var n=this._eventListeners.get(e);void 0===n&&this._eventListeners.set(e,n=[]),n.push(t)},e.prototype._dispatchEvent=function(e,t){var n=this._eventListeners.get(e);if(void 0!==n)for(var r=0;r<n.length;r++){var i=n[r];i.apply(this,t)}},e}();e.EventSource=n,(t=e.ClockEvent||(e.ClockEvent={}))[t.Play=0]="Play",t[t.Tick=1]="Tick",t[t.Pause=2]="Pause",t[t.Stop=3]="Stop",t[t.RateChange=4]="RateChange"},function(e,t){var n=t(31),r=t(30),i=t(10),a=function(){function e(){this._currentTime=-1,this._rate=1,this._enabled=!0,this._paused=!0,this._eventListeners=new r.Map}return e.prototype.play=function(){this._enabled&&this._paused&&(this._paused=!1,this._dispatchEvent(i.ClockEvent.Play,[]))},e.prototype.tick=function(e){this._enabled&&this._currentTime!==e&&(this.play(),this._currentTime=e,this._dispatchEvent(i.ClockEvent.Tick,[]))},e.prototype.seek=function(e){this._enabled&&(this.pause(),this._currentTime!==e&&(this.stop(),this.tick(e),this.pause()))},e.prototype.pause=function(){this._enabled&&(this._paused||(this._paused=!0,this._dispatchEvent(i.ClockEvent.Pause,[])))},e.prototype.stop=function(){this._dispatchEvent(i.ClockEvent.Stop,[])},Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this._rate},enumerable:!0,configurable:!0}),e.prototype.setRate=function(e){this._rate!==e&&(this._rate=e,this._dispatchEvent(i.ClockEvent.RateChange,[]))},e.prototype.enable=function(){return!this._enabled&&(this._enabled=!0,!0)},e.prototype.disable=function(){return!!this._enabled&&(this.pause(),this.stop(),this._enabled=!1,!0)},e.prototype.toggle=function(){this._enabled?this.disable():this.enable()},e.prototype.setEnabled=function(e){return e?this.enable():this.disable()},e}();e.ManualClock=a,n.mixin(a,[i.EventSource])},function(e,t){var n=t(9),r=function(){function e(e){var t=this;this._autoClock=new n.AutoClock(function(){return e.currentTime},100),e.addEventListener("playing",function(){return t._autoClock.play()},!1),e.addEventListener("pause",function(){return t._autoClock.pause()},!1),e.addEventListener("seeking",function(){return t._autoClock.seeking()},!1),e.addEventListener("ratechange",function(){return t._autoClock.setRate(e.playbackRate)},!1)}return Object.defineProperty(e.prototype,"currentTime",{get:function(){return this._autoClock.currentTime},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"enabled",{get:function(){return this._autoClock.enabled},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"paused",{get:function(){return this._autoClock.paused},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rate",{get:function(){return this._autoClock.rate},enumerable:!0,configurable:!0}),e.prototype.enable=function(){return this._autoClock.enable()},e.prototype.disable=function(){return this._autoClock.disable()},e.prototype.toggle=function(){this._autoClock.enabled?this.disable():this.enable()},e.prototype.setEnabled=function(e){return e?this.enable():this.disable()},e.prototype.addEventListener=function(e,t){this._autoClock.addEventListener(e,t)},e}();e.VideoClock=r},function(e,t){var n=t(34).__extends,r=t(12),i=t(21),a=function(e){function t(t,n,i){e.call(this,n,new r.VideoClock(t),document.createElement("div"),i),this._video=t,this._video.parentElement.replaceChild(this.libjassSubsWrapper,this._video),this.libjassSubsWrapper.insertBefore(this._video,this.libjassSubsWrapper.firstElementChild)}return n(t,e),t.prototype.resize=function(){var t=this._video.videoWidth,n=this._video.videoHeight,r=this._video.offsetWidth,i=this._video.offsetHeight,a=Math.min(r/t,i/n),o=t*a,s=n*a,l=(r-o)/2,c=(i-s)/2;e.prototype.resize.call(this,o,s,l,c)},t.prototype.resizeVideo=function(){console.warn("`DefaultRenderer.resizeVideo(width, height)` has been deprecated. Use `DefaultRenderer.resize()` instead."),this.resize()},t.prototype._ready=function(){this.resize(),e.prototype._ready.call(this)},t}(i.WebRenderer);e.DefaultRenderer=a},function(e,t){var n=t(10);e.ClockEvent=n.ClockEvent,e.EventSource=n.EventSource;var r=t(9);e.AutoClock=r.AutoClock;var i=t(11);e.ManualClock=i.ManualClock;var a=t(12);e.VideoClock=a.VideoClock;var o=t(13);e.DefaultRenderer=o.DefaultRenderer;var s=t(15);e.NullRenderer=s.NullRenderer;var l=t(21);e.WebRenderer=l.WebRenderer;var c=t(16);e.RendererSettings=c.RendererSettings},function(e,t){var n=t(10),r=t(16),i=t(23),a=function(){function e(t,i,a){var o=this;this._ass=t,this._clock=i,this._id=++e._lastRendererId,this._settings=r.RendererSettings.from(a),this._clock.addEventListener(n.ClockEvent.Play,function(){return o._onClockPlay()}),this._clock.addEventListener(n.ClockEvent.Tick,function(){return o._onClockTick()}),this._clock.addEventListener(n.ClockEvent.Pause,function(){return o._onClockPause()}),this._clock.addEventListener(n.ClockEvent.Stop,function(){return o._onClockStop()}),this._clock.addEventListener(n.ClockEvent.RateChange,function(){return o._onClockRateChange()})}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"ass",{get:function(){return this._ass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clock",{get:function(){return this._clock},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"settings",{get:function(){return this._settings},enumerable:!0,configurable:!0}),e.prototype.preRender=function(){},e.prototype.draw=function(){},e.prototype.enable=function(){return this._clock.enable()},e.prototype.disable=function(){return this._clock.disable()},e.prototype.toggle=function(){this._clock.toggle()},e.prototype.setEnabled=function(e){return this._clock.setEnabled(e)},Object.defineProperty(e.prototype,"enabled",{get:function(){return this._clock.enabled},enumerable:!0,configurable:!0}),e.prototype._onClockPlay=function(){i.verboseMode&&console.log("NullRenderer._onClockPlay")},e.prototype._onClockTick=function(){var e=this._clock.currentTime;i.verboseMode&&console.log("NullRenderer._onClockTick: currentTime = "+e);for(var t=0,n=this._ass.dialogues;t<n.length;t++){var r=n[t];r.end>e&&(r.start<=e?this.draw(r):r.start<=e+this._settings.preRenderTime&&this.preRender(r))}},e.prototype._onClockPause=function(){i.verboseMode&&console.log("NullRenderer._onClockPause")},e.prototype._onClockStop=function(){i.verboseMode&&console.log("NullRenderer._onClockStop")},e.prototype._onClockRateChange=function(){i.verboseMode&&console.log("NullRenderer._onClockRateChange")},e._lastRendererId=-1,e}();e.NullRenderer=a},function(e,t){var n=t(30),r=function(){function e(){}return e.makeFontMapFromStyleElement=function(e){for(var t=new n.Map,r=e.sheet,a=0;a<r.cssRules.length;a++){var o=r.cssRules[a];if(i(o)){var s=o.style.getPropertyValue("font-family").match(/^["']?(.*?)["']?$/)[1],l=o.style.getPropertyValue("src");l||(l=o.cssText.split("\n").map(function(e){return e.match(/src:\s*([^;]+?)\s*;/)}).filter(function(e){return null!==e}).map(function(e){return e[1]})[0]),t.set(s,l)}}return t},e.from=function(t){null==t&&(t={});var n=t,r=n.fontMap,i=void 0===r?null:r,a=n.preRenderTime,o=void 0===a?5:a,s=n.preciseOutlines,l=void 0!==s&&s,c=n.enableSvg,u=void 0===c||c,d=n.fallbackFonts,p=void 0===d?'Arial, Helvetica, sans-serif, "Segoe UI Symbol"':d,h=n.useAttachedFonts,f=void 0!==h&&h,g=new e;return g.fontMap=i,g.preRenderTime=o,g.preciseOutlines=l,g.enableSvg=u,g.fallbackFonts=p,g.useAttachedFonts=f,g},e}();function i(e){return e.type===CSSRule.FONT_FACE_RULE}e.RendererSettings=r},function(e,t){var n=t(30),r=function(){function e(t,r){this._style=r,this._animationStyle="",this._animationDelays=new n.Map,this._numAnimations=0,this._id=t.id+"-"+e._nextId++,this._rate=t.clock.rate}return Object.defineProperty(e.prototype,"animationStyle",{get:function(){return this._animationStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"animationDelays",{get:function(){return this._animationDelays},enumerable:!0,configurable:!0}),e.prototype.add=function(e,t){for(var n=null,r=null,i=0;i<t.length;i++){var a=t[i];null===n&&(n=a.time),r=a.time}for(var o="",s=0;s<t.length;s++){var a=t[s];o+="\t"+(100*(r-n==0?1:(a.time-n)/(r-n))).toFixed(3)+"% {\n",a.properties.forEach(function(e,t){o+="\t\t"+t+": "+e+";\n"}),o+="\t}\n"}var l="animation-"+this._id+"-"+this._numAnimations++;this._style.appendChild(document.createTextNode("@-webkit-keyframes "+l+" {\n"+o+"\n}")),this._style.appendChild(document.createTextNode("@keyframes "+l+" {\n"+o+"\n}")),""!==this._animationStyle&&(this._animationStyle+=","),this._animationStyle+=l+" "+((r-n)/this._rate).toFixed(3)+"s "+e,this._animationDelays.set(l,n)},e._nextId=0,e}();e.AnimationCollection=r},function(e,t){var n=t(8),r=function(){function e(e,t){this._outputScaleX=e,this._outputScaleY=t,this._scale=1,this._baselineOffset=0}return Object.defineProperty(e.prototype,"scale",{set:function(e){this._scale=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"baselineOffset",{set:function(e){this._baselineOffset=e},enumerable:!0,configurable:!0}),e.prototype.toSVG=function(e,t){for(var r=Math.pow(2,this._scale-1),i=this._outputScaleX/r,a=this._outputScaleY/r,o=document.createElementNS("http://www.w3.org/2000/svg","path"),s=0,l=0,c=0,u=e.instructions;c<u.length;c++){var d=u[c];d instanceof n.drawing.MoveInstruction?(o.pathSegList.appendItem(o.createSVGPathSegMovetoAbs(d.x,d.y+this._baselineOffset)),s=Math.max(s,d.x),l=Math.max(l,d.y+this._baselineOffset)):d instanceof n.drawing.LineInstruction?(o.pathSegList.appendItem(o.createSVGPathSegLinetoAbs(d.x,d.y+this._baselineOffset)),s=Math.max(s,d.x),l=Math.max(l,d.y+this._baselineOffset)):d instanceof n.drawing.CubicBezierCurveInstruction&&(o.pathSegList.appendItem(o.createSVGPathSegCurvetoCubicAbs(d.x3,d.y3+this._baselineOffset,d.x1,d.y1+this._baselineOffset,d.x2,d.y2+this._baselineOffset)),s=Math.max(s,d.x1,d.x2,d.x3),l=Math.max(l,d.y1+this._baselineOffset,d.y2+this._baselineOffset,d.y3+this._baselineOffset))}var p=document.createElementNS("http://www.w3.org/2000/svg","svg");p.setAttribute("version","1.1"),p.width.baseVal.valueAsString=(s*i).toFixed(3)+"px",p.height.baseVal.valueAsString=(l*a).toFixed(3)+"px";var h=document.createElementNS("http://www.w3.org/2000/svg","g");return p.appendChild(h),h.setAttribute("transform","scale("+i.toFixed(3)+" "+a.toFixed(3)+")"),h.appendChild(o),o.setAttribute("fill",t.toString()),p},e}();e.DrawingStyles=r},function(e,t){var n=t(32);function r(e,t,n,r){var i='"'+e+'"';""!==n&&(i+=", "+n),r.style.fontFamily=i,r.style.fontSize=t+"px"}function i(e,t,i,a){return r(e,t,i,a),new n.Promise(function(e){return setTimeout(function(){return e(a.offsetHeight)},1e3)})}function a(e,t,n,i){return r(e,t,n,i),i.offsetHeight}function o(e,t){return[e,180/(t-e)]}e.calculateFontMetrics=function(e,t,n){return i(e,180,t,n).then(function(r){return i(e,360,t,n).then(function(e){return o(r,e)})})},e.fontSizeForLineHeight=function(e,t,n,r,i){var s=i.get(e);if(void 0===s){var l=a(e,180,n,r),c=a(e,360,n,r);i.set(e,s=o(l,c))}var u=s[0],d=s[1];return function(e,t,n){return 180+(e-t)*n}(t,u,d)}},function(e){var t=function(){function e(e,t){this._time=e,this._properties=t}return Object.defineProperty(e.prototype,"time",{get:function(){return this._time},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"properties",{get:function(){return this._properties},enumerable:!0,configurable:!0}),e}();e.Keyframe=t},function(t,n){var r=n(34).__extends,i=n(17),a=n(18),o=n(19),s=n(20),l=n(22),c=n(10),u=n(15),d=n(6),p=n(8),h=n(23),f=n(25),g=n(27),v=n(31),m=n(30),y=n(32),b=/^(url|local)\(["']?(.+?)["']?\)$/,S=function(t){function n(n,r,i,a){var o=this;t.call(this,n,r,function(){if(!(i instanceof HTMLDivElement)){var e=a;a=i,i=e,console.warn("WebRenderer's constructor now takes libjassSubsWrapper as the third parameter and settings as the fourth parameter. Please update the caller.")}return a}()),this._libjassSubsWrapper=i,this._layerWrappers=[],this._layerAlignmentWrappers=[],this._fontMetricsCache=new m.Map,this._currentSubs=new m.Map,this._preRenderedSubs=new m.Map,this._eventListeners=new m.Map,this._libjassSubsWrapper.classList.add("libjass-wrapper"),this._subsWrapper=document.createElement("div"),this._libjassSubsWrapper.appendChild(this._subsWrapper),this._subsWrapper.className="libjass-subs",this._fontSizeElement=document.createElement("div"),this._libjassSubsWrapper.appendChild(this._fontSizeElement),this._fontSizeElement.className="libjass-font-measure",this._fontSizeElement.appendChild(document.createTextNode("M")),h.debugMode&&console.log("Preloading fonts...");var s=[],l=new m.Map,c=null===this.settings.fontMap?new m.Map:this.settings.fontMap,u=new m.Map;this.settings.useAttachedFonts&&n.attachments.forEach(function(e){if(e.type===f.AttachmentType.Font){var t=null;try{t=d.getTtfNames(e)}catch(e){return void console.error(e)}var n="data:application/x-font-ttf;base64,"+e.contents;t.forEach(function(e){var t=c.get(e);if(void 0!==t)if("string"!=typeof t)t.push(n);else{var r=u.get(e);void 0===r&&u.set(e,r=[]),r.push(n)}else c.set(e,[n])})}}),c.forEach(function(t,n){var r;if(e.document.fonts&&e.document.fonts.add){var i="string"==typeof t?t:t.map(function(e){return null!==e.match(b)?e:'url("'+e+'")'}).join(", "),a=u.get(n);if(void 0!==a)for(var c=0;c<a.length;c++){var d=a[c];i+=', url("'+d+'")'}var p,f=[];if(e.document.fonts.forEach(function(e){e.family!==n&&e.family!=='"'+n+'"'||f.push(e)}),0===f.length){var g=new FontFace(n,i),v=new FontFace('"'+n+'"',i);e.document.fonts.add(g),e.document.fonts.add(v),p=y.any([g.load(),v.load()])}else p=y.any(f.map(function(e){return e.load()}));r=o._calculateFontMetricsAfterFetch(n,p.catch(function(e){return console.warn("Fetching fonts for "+n+" at "+i+" failed: %o",e),null}))}else{var m=("string"==typeof t?t.split(/,/):t).map(function(e){return e.trim()}).map(function(e){var t=e.match(b);return null===t?e:"local"===t[1]?null:t[2]}).filter(function(e){return null!==e}),a=u.get(n);void 0!==a&&(m=m.concat(a));var S=m.map(function(e){var t=l.get(e);return void 0===t&&(t=new y.Promise(function(t,n){var r=new XMLHttpRequest;r.addEventListener("load",function(){h.debugMode&&console.log("Preloaded "+e+"."),t(null)}),r.addEventListener("error",function(e){n(e)}),r.open("GET",e,!0),r.send()}),l.set(e,t)),t}),I=0===S.length?y.Promise.resolve(null):y.first(S).catch(function(e){return console.warn("Fetching fonts for "+n+" at "+m.join(", ")+" failed: %o",e),null});r=o._calculateFontMetricsAfterFetch(n,I)}s.push(r.then(function(e){return o._fontMetricsCache.set(n,e)}))}),y.Promise.all(s).then(function(){h.debugMode&&console.log("All fonts have been preloaded."),o._ready()})}return r(n,t),Object.defineProperty(n.prototype,"libjassSubsWrapper",{get:function(){return this._libjassSubsWrapper},enumerable:!0,configurable:!0}),n.prototype.resize=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=0),this._removeAllSubs(),this._subsWrapper.style.width=e.toFixed(3)+"px",this._subsWrapper.style.height=t.toFixed(3)+"px",this._subsWrapper.style.left=n.toFixed(3)+"px",this._subsWrapper.style.top=r.toFixed(3)+"px",this._subsWrapperWidth=e,this._scaleX=e/this.ass.properties.resolutionX,this._scaleY=t/this.ass.properties.resolutionY,this._preRenderedSubs.clear(),-1!==this.clock.currentTime&&this._onClockTick()},n.prototype.preRender=function(e){var t=this,r=this._preRenderedSubs.get(e.id);if(r)return r;var o=this.clock.currentTime-e.start;if(e.containsTransformTag&&o<0)return null;var c=document.createElement("div");c.style.marginLeft=(this._scaleX*e.style.marginLeft).toFixed(3)+"px",c.style.marginRight=(this._scaleX*e.style.marginRight).toFixed(3)+"px",c.style.marginTop=c.style.marginBottom=(this._scaleY*e.style.marginVertical).toFixed(3)+"px",c.style.minWidth=(this._subsWrapperWidth-this._scaleX*(e.style.marginLeft+e.style.marginRight)).toFixed(3)+"px";var u=document.createElement("style");u.id="libjass-animation-styles-"+this.id+"-"+e.id,u.type="text/css";var d=new i.AnimationCollection(this,u),f=document.createElementNS("http://www.w3.org/2000/svg","svg");f.setAttribute("version","1.1"),f.setAttribute("class","libjass-filters"),f.width.baseVal.valueAsString="0",f.height.baseVal.valueAsString="0";var v=document.createElementNS("http://www.w3.org/2000/svg","defs");f.appendChild(v);var y=null,b=new l.SpanStyles(this,e,this._scaleX,this._scaleY,this.settings,this._fontSizeElement,v,this._fontMetricsCache),S=null,I=!1,C=function(e){null!==y&&y.hasChildNodes()&&c.appendChild(b.setStylesOnSpan(y,S)),null!==S&&S.animationDelays.forEach(function(e,t){return d.animationDelays.set(t,e)}),e&&(I?c.appendChild(b.makeNewLine()):c.appendChild(document.createElement("br"))),y=document.createElement("span"),S=new i.AnimationCollection(t,u),I=e};C(!1);for(var M=new a.DrawingStyles(this._scaleX,this._scaleY),D=this.ass.properties.wrappingStyle,w=0,P=0,T=e.parts;P<T.length;P++){var E=T[P];if(E instanceof p.Italic)b.italic=E.value;else if(E instanceof p.Bold)b.bold=E.value;else if(E instanceof p.Underline)b.underline=E.value;else if(E instanceof p.StrikeThrough)b.strikeThrough=E.value;else if(E instanceof p.Border)b.outlineWidth=E.value,b.outlineHeight=E.value;else if(E instanceof p.BorderX)b.outlineWidth=E.value;else if(E instanceof p.BorderY)b.outlineHeight=E.value;else if(E instanceof p.Shadow)b.shadowDepthX=E.value,b.shadowDepthY=E.value;else if(E instanceof p.ShadowX)b.shadowDepthX=E.value;else if(E instanceof p.ShadowY)b.shadowDepthY=E.value;else if(E instanceof p.Blur)b.blur=E.value;else if(E instanceof p.GaussianBlur)b.gaussianBlur=E.value;else if(E instanceof p.FontName)b.fontName=E.value;else if(E instanceof p.FontSize)b.fontSize=E.value;else if(E instanceof p.FontSizePlus)b.fontSize+=E.value;else if(E instanceof p.FontSizeMinus)b.fontSize-=E.value;else if(E instanceof p.FontScaleX)b.fontScaleX=E.value;else if(E instanceof p.FontScaleY)b.fontScaleY=E.value;else if(E instanceof p.LetterSpacing)b.letterSpacing=E.value;else if(E instanceof p.RotateX)b.rotationX=E.value;else if(E instanceof p.RotateY)b.rotationY=E.value;else if(E instanceof p.RotateZ)b.rotationZ=E.value;else if(E instanceof p.SkewX)b.skewX=E.value;else if(E instanceof p.SkewY)b.skewY=E.value;else if(E instanceof p.PrimaryColor)b.primaryColor=E.value;else if(E instanceof p.SecondaryColor)b.secondaryColor=E.value;else if(E instanceof p.OutlineColor)b.outlineColor=E.value;else if(E instanceof p.ShadowColor)b.shadowColor=E.value;else if(E instanceof p.Alpha)b.primaryAlpha=E.value,b.secondaryAlpha=E.value,b.outlineAlpha=E.value,b.shadowAlpha=E.value;else if(E instanceof p.PrimaryAlpha)b.primaryAlpha=E.value;else if(E instanceof p.SecondaryAlpha)b.secondaryAlpha=E.value;else if(E instanceof p.OutlineAlpha)b.outlineAlpha=E.value;else if(E instanceof p.ShadowAlpha)b.shadowAlpha=E.value;else if(E instanceof p.Alignment);else if(E instanceof p.ColorKaraoke)C(!1),S.add("step-end",[new s.Keyframe(0,new m.Map([["color",b.secondaryColor.withAlpha(b.secondaryAlpha).toString()]])),new s.Keyframe(w,new m.Map([["color",b.primaryColor.withAlpha(b.primaryAlpha).toString()]]))]),w+=E.duration;else if(E instanceof p.WrappingStyle)D=E.value;else if(E instanceof p.Reset)b.reset(this.ass.styles.get(E.value));else if(E instanceof p.Position)c.style.position="absolute",c.style.left=(this._scaleX*E.x).toFixed(3)+"px",c.style.top=(this._scaleY*E.y).toFixed(3)+"px";else if(E instanceof p.Move)c.style.position="absolute",d.add("linear",[new s.Keyframe(0,new m.Map([["left",(this._scaleX*E.x1).toFixed(3)+"px"],["top",(this._scaleY*E.y1).toFixed(3)+"px"]])),new s.Keyframe(E.t1,new m.Map([["left",(this._scaleX*E.x1).toFixed(3)+"px"],["top",(this._scaleY*E.y1).toFixed(3)+"px"]])),new s.Keyframe(E.t2,new m.Map([["left",(this._scaleX*E.x2).toFixed(3)+"px"],["top",(this._scaleY*E.y2).toFixed(3)+"px"]])),new s.Keyframe(e.end-e.start,new m.Map([["left",(this._scaleX*E.x2).toFixed(3)+"px"],["top",(this._scaleY*E.y2).toFixed(3)+"px"]]))]);else if(E instanceof p.Fade)d.add("linear",[new s.Keyframe(0,new m.Map([["opacity","0"]])),new s.Keyframe(E.start,new m.Map([["opacity","1"]])),new s.Keyframe(e.end-e.start-E.end,new m.Map([["opacity","1"]])),new s.Keyframe(e.end-e.start,new m.Map([["opacity","0"]]))]);else if(E instanceof p.ComplexFade)d.add("linear",[new s.Keyframe(0,new m.Map([["opacity",E.a1.toFixed(3)]])),new s.Keyframe(E.t1,new m.Map([["opacity",E.a1.toFixed(3)]])),new s.Keyframe(E.t2,new m.Map([["opacity",E.a2.toFixed(3)]])),new s.Keyframe(E.t3,new m.Map([["opacity",E.a2.toFixed(3)]])),new s.Keyframe(E.t4,new m.Map([["opacity",E.a3.toFixed(3)]])),new s.Keyframe(e.end-e.start,new m.Map([["opacity",E.a3.toFixed(3)]]))]);else if(E instanceof p.Transform)for(var x=o<=E.start?0:o>=E.end?1:Math.pow((o-E.start)/(E.end-E.start),E.accel),O=0,j=E.tags;O<j.length;O++){var A=j[O];A instanceof p.Border?(b.outlineWidth+=x*(A.value-b.outlineWidth),b.outlineHeight+=x*(A.value-b.outlineHeight)):A instanceof p.BorderX?b.outlineWidth+=x*(A.value-b.outlineWidth):A instanceof p.BorderY?b.outlineHeight+=x*(A.value-b.outlineHeight):A instanceof p.Shadow?(b.shadowDepthX+=x*(A.value-b.shadowDepthX),b.shadowDepthY+=x*(A.value-b.shadowDepthY)):A instanceof p.ShadowX?b.shadowDepthX+=x*(A.value-b.shadowDepthX):A instanceof p.ShadowY?b.shadowDepthY+=x*(A.value-b.shadowDepthY):A instanceof p.Blur?b.blur+=x*(A.value-b.blur):A instanceof p.GaussianBlur?b.gaussianBlur+=x*(A.value-b.gaussianBlur):A instanceof p.FontSize?b.fontSize+=x*(A.value-b.fontSize):A instanceof p.FontSizePlus?b.fontSize+=x*A.value:A instanceof p.FontSizeMinus?b.fontSize-=x*A.value:A instanceof p.FontScaleX?b.fontScaleX+=x*(A.value-b.fontScaleX):A instanceof p.FontScaleY?b.fontScaleY+=x*(A.value-b.fontScaleY):A instanceof p.LetterSpacing?b.letterSpacing+=x*(A.value-b.letterSpacing):A instanceof p.RotateX?b.rotationX+=x*(A.value-b.rotationX):A instanceof p.RotateY?b.rotationY+=x*(A.value-b.rotationY):A instanceof p.RotateZ?b.rotationZ+=x*(A.value-b.rotationZ):A instanceof p.SkewX?b.skewX+=x*(A.value-b.skewX):A instanceof p.SkewY?b.skewY+=x*(A.value-b.skewY):A instanceof p.PrimaryColor?b.primaryColor=b.primaryColor.interpolate(A.value,x):A instanceof p.SecondaryColor?b.secondaryColor=b.secondaryColor.interpolate(A.value,x):A instanceof p.OutlineColor?b.outlineColor=b.outlineColor.interpolate(A.value,x):A instanceof p.ShadowColor?b.shadowColor=b.shadowColor.interpolate(A.value,x):A instanceof p.Alpha?(b.primaryAlpha+=x*(A.value-b.primaryAlpha),b.secondaryAlpha+=x*(A.value-b.secondaryAlpha),b.outlineAlpha+=x*(A.value-b.outlineAlpha),b.shadowAlpha+=x*(A.value-b.shadowAlpha)):A instanceof p.PrimaryAlpha?b.primaryAlpha+=x*(A.value-b.primaryAlpha):A instanceof p.SecondaryAlpha?b.secondaryAlpha+=x*(A.value-b.secondaryAlpha):A instanceof p.OutlineAlpha?b.outlineAlpha+=x*(A.value-b.outlineAlpha):A instanceof p.ShadowAlpha&&(b.shadowAlpha+=x*(A.value-b.shadowAlpha))}else E instanceof p.DrawingMode?0!==E.scale&&(M.scale=E.scale):E instanceof p.DrawingBaselineOffset?M.baselineOffset=E.value:E instanceof p.DrawingInstructions?(y.appendChild(M.toSVG(E,b.primaryColor.withAlpha(b.primaryAlpha))),C(!1)):E instanceof p.Text?(y.appendChild(document.createTextNode(E.value+"")),C(!1)):h.debugMode&&E instanceof p.Comment?(y.appendChild(document.createTextNode(E.value)),C(!1)):E instanceof p.NewLine&&C(!0)}for(var N=0,k=e.parts;N<k.length;N++){var E=k[N];if(E instanceof p.Position||E instanceof p.Move){var L=n._transformOrigins[e.alignment],R="translate("+-L[0]+"%, "+-L[1]+"%) translate(-"+c.style.marginLeft+", -"+c.style.marginTop+")",_=L[0]+"% "+L[1]+"%";c.style.webkitTransform=R,c.style.webkitTransformOrigin=_,c.style.transform=R,c.style.transformOrigin=_;break}}switch(D){case g.WrappingStyle.EndOfLineWrapping:c.style.whiteSpace="pre-wrap";break;case g.WrappingStyle.NoLineWrapping:c.style.whiteSpace="pre";break;case g.WrappingStyle.SmartWrappingWithWiderTopLine:case g.WrappingStyle.SmartWrappingWithWiderBottomLine:c.style.whiteSpace="pre-wrap"}if(""!==c.style.position)switch(e.alignment){case 1:case 4:case 7:c.style.textAlign="left";break;case 2:case 5:case 8:c.style.textAlign="center";break;case 3:case 6:case 9:c.style.textAlign="right"}c.style.webkitAnimation=d.animationStyle,c.style.animation=d.animationStyle,c.setAttribute("data-dialogue-id",this.id+"-"+e.id),""!==u.textContent&&c.appendChild(u),v.hasChildNodes()&&c.appendChild(f);var U={sub:c,animationDelays:d.animationDelays};return e.containsTransformTag||this._preRenderedSubs.set(e.id,U),U},n.prototype.draw=function(e){var t=this;if(!this._currentSubs.has(e)||e.containsTransformTag){h.debugMode&&console.log(e.toString());var n=this._preRenderedSubs.get(e.id);void 0===n&&(n=this.preRender(e),h.debugMode&&console.log(e.toString()));var r=n.sub.cloneNode(!0),i=function(r){var i=r.style.animationName||r.style.webkitAnimationName;if(void 0!==i&&""!==i){var a=i.split(",").map(function(r){r=r.trim();var i=n.animationDelays.get(r);return((i+e.start-t.clock.currentTime)/t.clock.rate).toFixed(3)+"s"}).join(", ");r.style.webkitAnimationDelay=a,r.style.animationDelay=a}};i(r);for(var a=r.querySelectorAll('[style*="animation:"]'),o=0;o<a.length;o++)i(a[o]);var s=e.layer,l="absolute"===r.style.position?0:e.alignment;if(void 0===this._layerWrappers[s]){var c=document.createElement("div");c.className="layer layer"+s;for(var u=null,d=s+1;d<this._layerWrappers.length&&null===u;d++)void 0!==this._layerWrappers[d]&&(u=this._layerWrappers[d]);this._subsWrapper.insertBefore(c,u),this._layerWrappers[s]=c,this._layerAlignmentWrappers[s]=[]}if(void 0===this._layerAlignmentWrappers[s][l]){var p=document.createElement("div");p.className="an an"+l;for(var c=this._layerWrappers[s],u=null,f=l+1;f<this._layerAlignmentWrappers[s].length&&null===u;f++)void 0!==this._layerAlignmentWrappers[s][f]&&(u=this._layerAlignmentWrappers[s][f]);c.insertBefore(p,u),this._layerAlignmentWrappers[s][l]=p}this._layerAlignmentWrappers[s][l].appendChild(r);var g=r.getElementsByTagName("style")[0];if(void 0!==g){var v=g.sheet;0===v.cssRules.length&&(v.cssText=g.textContent)}this._currentSubs.set(e,r)}},n.prototype._onClockPlay=function(){t.prototype._onClockPlay.call(this),this._removeAllSubs(),this._subsWrapper.style.display="",this._subsWrapper.classList.remove("paused")},n.prototype._onClockTick=function(){var e=this,n=this.clock.currentTime;this._currentSubs.forEach(function(t,r){(r.start>n||r.end<n||r.containsTransformTag)&&(e._currentSubs.delete(r),e._removeSub(t))}),t.prototype._onClockTick.call(this)},n.prototype._onClockPause=function(){t.prototype._onClockPause.call(this),this._subsWrapper.classList.add("paused")},n.prototype._onClockStop=function(){t.prototype._onClockStop.call(this),this._subsWrapper.style.display="none"},n.prototype._onClockRateChange=function(){t.prototype._onClockRateChange.call(this),this._preRenderedSubs.clear()},n.prototype._ready=function(){this._dispatchEvent("ready",[])},n.prototype._calculateFontMetricsAfterFetch=function(e,t){var n=this;return t.then(function(){var t=n._fontSizeElement.cloneNode(!0);return n._libjassSubsWrapper.appendChild(t),y.lastly(o.calculateFontMetrics(e,n.settings.fallbackFonts,t),function(){n._libjassSubsWrapper.removeChild(t)})})},n.prototype._removeSub=function(e){e.parentNode.removeChild(e)},n.prototype._removeAllSubs=function(){var e=this;this._currentSubs.forEach(function(t){return e._removeSub(t)}),this._currentSubs.clear()},n._transformOrigins=[null,[0,100],[50,100],[100,100],[0,50],[50,50],[100,50],[0,0],[50,0],[100,0]],n}(u.NullRenderer);t.WebRenderer=S,v.mixin(S,[c.EventSource])},function(e,t){var n=t(19),r=function(){function e(e,t,n,r,i,a,o,s){this._scaleX=n,this._scaleY=r,this._settings=i,this._fontSizeElement=a,this._svgDefsElement=o,this._fontMetricsCache=s,this._nextFilterId=0,this._id=e.id+"-"+t.id,this._defaultStyle=t.style,this.reset(null)}return e.prototype.reset=function(e){null==e&&(e=this._defaultStyle),this.italic=e.italic,this.bold=e.bold,this.underline=e.underline,this.strikeThrough=e.strikeThrough,this.outlineWidth=e.outlineThickness,this.outlineHeight=e.outlineThickness,this.shadowDepthX=e.shadowDepth,this.shadowDepthY=e.shadowDepth,this.fontName=e.fontName,this.fontSize=e.fontSize,this.fontScaleX=e.fontScaleX,this.fontScaleY=e.fontScaleY,this.letterSpacing=e.letterSpacing,this._rotationX=null,this._rotationY=null,this._rotationZ=e.rotationZ,this._skewX=null,this._skewY=null,this.primaryColor=e.primaryColor,this.secondaryColor=e.secondaryColor,this.outlineColor=e.outlineColor,this.shadowColor=e.shadowColor,this.primaryAlpha=e.primaryColor.alpha,this.secondaryAlpha=e.secondaryColor.alpha,this.outlineAlpha=e.outlineColor.alpha,this.shadowAlpha=e.shadowColor.alpha,this.blur=null,this.gaussianBlur=null},e.prototype.setStylesOnSpan=function(t,r){var i=t.childNodes[0]instanceof Text,a="";this._italic&&(a+="italic "),!0===this._bold?a+="bold ":!1!==this._bold&&(a+=this._bold+" ");var o=(this._scaleY*n.fontSizeForLineHeight(this._fontName,this._fontSize*(i?this._fontScaleX:1),this._settings.fallbackFonts,this._fontSizeElement,this._fontMetricsCache)).toFixed(3),s=(this._scaleY*this._fontSize).toFixed(3),l=this._fontName;switch(l){case"cursive":case"fantasy":case"monospace":case"sans-serif":case"serif":break;default:l='"'+l+'"'}""!==this._settings.fallbackFonts&&(l+=", "+this._settings.fallbackFonts),t.style.font=""+a+o+"px/"+s+"px "+l;var c="";this._underline&&(c="underline"),this._strikeThrough&&(c+=" line-through"),t.style.textDecoration=c.trim();var u="";if(i?this._fontScaleY!==this._fontScaleX&&(u+="scaleY("+(this._fontScaleY/this._fontScaleX).toFixed(3)+") "):(1!==this._fontScaleX&&(u+="scaleX("+this._fontScaleX+") "),1!==this._fontScaleY&&(u+="scaleY("+this._fontScaleY+") ")),null!==this._rotationY&&(u+="rotateY("+this._rotationY+"deg) "),null!==this._rotationX&&(u+="rotateX("+this._rotationX+"deg) "),0!==this._rotationZ&&(u+="rotateZ("+-1*this._rotationZ+"deg) "),null!==this._skewX||null!==this._skewY){var d=e._valueOrDefault(this._skewX,0),p=e._valueOrDefault(this._skewY,0);u+="matrix(1, "+p+", "+d+", 1, 0, 0) "}""!==u&&(t.style.webkitTransform=u,t.style.webkitTransformOrigin="50% 50%",t.style.transform=u,t.style.transformOrigin="50% 50%",t.style.display="inline-block"),t.style.letterSpacing=(this._scaleX*this._letterSpacing).toFixed(3)+"px";var h=this._scaleX*this._outlineWidth,f=this._scaleY*this._outlineHeight,g=document.createElement("span");g.appendChild(t);var v=this._primaryColor.withAlpha(this._primaryAlpha),m=this._outlineColor.withAlpha(this._outlineAlpha),y=this._shadowColor.withAlpha(this._shadowAlpha);if(this._settings.enableSvg||(0!==h||0!==f)&&m.alpha!==v.alpha||(0!==this._shadowDepthX||0!==this._shadowDepthY)&&y.alpha!==v.alpha||(v=this._primaryColor.withAlpha(1),m=this._outlineColor.withAlpha(1),y=this._shadowColor.withAlpha(1),t.style.opacity=this._primaryAlpha.toFixed(3)),t.style.color=v.toString(),this._settings.enableSvg?this._setSvgOutlineOnSpan(g,h,f,m,this._primaryAlpha):this._setTextShadowOutlineOnSpan(t,h,f,m),0!==this._shadowDepthX||0!==this._shadowDepthY){var b=y.toString()+" "+(this._shadowDepthX*this._scaleX).toFixed(3)+"px "+(this._shadowDepthY*this._scaleY).toFixed(3)+"px 0px";""===t.style.textShadow?t.style.textShadow=b:t.style.textShadow+=", "+b}return 0===this._rotationX&&0===this._rotationY||(g.style.display="inline-block"),t.style.webkitAnimation=r.animationStyle,t.style.animation=r.animationStyle,g},e.prototype._setSvgOutlineOnSpan=function(e,t,n,r,i){var a="svg-filter-"+this._id+"-"+this._nextFilterId++,o=document.createElementNS("http://www.w3.org/2000/svg","filter");if(o.id=a,o.x.baseVal.valueAsString="-50%",o.width.baseVal.valueAsString="200%",o.y.baseVal.valueAsString="-50%",o.height.baseVal.valueAsString="200%",t>0||n>0){var s=0,l=!this._settings.preciseOutlines&&this._gaussianBlur>0?this._gaussianBlur:1;!function(e){if(t<=n)if(t>0){var r;for(r=0;r<=t;r+=l)e(r,n/t*Math.sqrt(t*t-r*r));r!==t+l&&e(t,0)}else e(0,n);else if(n>0){var i;for(i=0;i<=n;i+=l)e(t/n*Math.sqrt(n*n-i*i),i);i!==n+l&&e(0,n)}else e(t,0)}(function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","feMorphology");o.appendChild(n),n.in1.baseVal="source",n.operator.baseVal=SVGFEMorphologyElement.SVG_MORPHOLOGY_OPERATOR_DILATE,n.radiusX.baseVal=e,n.radiusY.baseVal=t,n.result.baseVal="outline"+s,s++});var c=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");o.insertBefore(c,o.firstElementChild),c.in1.baseVal="SourceAlpha",c.result.baseVal="source";var u=document.createElementNS("http://www.w3.org/2000/svg","feFuncA");c.appendChild(u),u.type.baseVal=SVGComponentTransferFunctionElement.SVG_FECOMPONENTTRANSFER_TYPE_LINEAR,u.slope.baseVal=0===i?1:1/i,u.intercept.baseVal=0;var d=document.createElementNS("http://www.w3.org/2000/svg","feMerge");o.appendChild(d);for(var p=0;p<s;p++){var h=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");d.appendChild(h),h.in1.baseVal="outline"+p}var f=document.createElementNS("http://www.w3.org/2000/svg","feComponentTransfer");o.appendChild(f),f.setAttribute("color-interpolation-filters","sRGB");var g=document.createElementNS("http://www.w3.org/2000/svg","feFuncR");f.appendChild(g),g.type.baseVal=SVGComponentTransferFunctionElement.SVG_FECOMPONENTTRANSFER_TYPE_LINEAR,g.slope.baseVal=0,g.intercept.baseVal=r.red/255*r.alpha;var v=document.createElementNS("http://www.w3.org/2000/svg","feFuncG");f.appendChild(v),v.type.baseVal=SVGComponentTransferFunctionElement.SVG_FECOMPONENTTRANSFER_TYPE_LINEAR,v.slope.baseVal=0,v.intercept.baseVal=r.green/255*r.alpha;var m=document.createElementNS("http://www.w3.org/2000/svg","feFuncB");f.appendChild(m),m.type.baseVal=SVGComponentTransferFunctionElement.SVG_FECOMPONENTTRANSFER_TYPE_LINEAR,m.slope.baseVal=0,m.intercept.baseVal=r.blue/255*r.alpha;var y=document.createElementNS("http://www.w3.org/2000/svg","feFuncA");if(f.appendChild(y),y.type.baseVal=SVGComponentTransferFunctionElement.SVG_FECOMPONENTTRANSFER_TYPE_LINEAR,y.slope.baseVal=r.alpha,y.intercept.baseVal=0,this._gaussianBlur>0){var b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");o.appendChild(b),b.stdDeviationX.baseVal=this._gaussianBlur,b.stdDeviationY.baseVal=this._gaussianBlur}for(var p=0;p<this._blur;p++){var S=document.createElementNS("http://www.w3.org/2000/svg","feConvolveMatrix");o.appendChild(S),S.setAttribute("kernelMatrix","1 2 1 2 4 2 1 2 1"),S.edgeMode.baseVal=SVGFEConvolveMatrixElement.SVG_EDGEMODE_NONE}var I=document.createElementNS("http://www.w3.org/2000/svg","feComposite");o.appendChild(I),I.in2.baseVal="source",I.operator.baseVal=SVGFECompositeElement.SVG_FECOMPOSITE_OPERATOR_OUT;var C=document.createElementNS("http://www.w3.org/2000/svg","feMerge");o.appendChild(C);var M=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");C.appendChild(M);var D=document.createElementNS("http://www.w3.org/2000/svg","feMergeNode");C.appendChild(D),D.in1.baseVal="SourceGraphic"}else{if(this._gaussianBlur>0){var b=document.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur");o.appendChild(b),b.stdDeviationX.baseVal=this._gaussianBlur,b.stdDeviationY.baseVal=this._gaussianBlur}for(var p=0;p<this._blur;p++){var S=document.createElementNS("http://www.w3.org/2000/svg","feConvolveMatrix");o.appendChild(S),S.setAttribute("kernelMatrix","1 2 1 2 4 2 1 2 1"),S.edgeMode.baseVal=SVGFEConvolveMatrixElement.SVG_EDGEMODE_NONE}}o.childElementCount>0&&(this._svgDefsElement.appendChild(o),e.style.webkitFilter='url("#'+a+'")',e.style.filter='url("#'+a+'")')},e.prototype._setTextShadowOutlineOnSpan=function(e,t,n,r){var i=this;if(t>0||n>0){var a="";!function(e){for(var r=0;r<=t;r++)for(var i=0===t?n:n*Math.sqrt(1-r*r/(t*t)),a=0;a<=i;a++)e(r,a),0!==r&&e(-r,a),0!==a&&e(r,-a),0!==r&&0!==a&&e(-r,-a)}(function(e,t){a+=", "+r.toString()+" "+e+"px "+t+"px "+i._gaussianBlur.toFixed(3)+"px"}),e.style.textShadow=a.substr(", ".length)}},e.prototype.makeNewLine=function(){var e=document.createElement("br");return e.style.lineHeight=(this._scaleY*this._fontSize).toFixed(3)+"px",e},Object.defineProperty(e.prototype,"italic",{set:function(t){this._italic=e._valueOrDefault(t,this._defaultStyle.italic)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{set:function(t){this._bold=e._valueOrDefault(t,this._defaultStyle.bold)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{set:function(t){this._underline=e._valueOrDefault(t,this._defaultStyle.underline)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strikeThrough",{set:function(t){this._strikeThrough=e._valueOrDefault(t,this._defaultStyle.strikeThrough)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineWidth",{get:function(){return this._outlineWidth},set:function(t){this._outlineWidth=e._valueOrDefault(t,this._defaultStyle.outlineThickness)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineHeight",{get:function(){return this._outlineWidth},set:function(t){this._outlineHeight=e._valueOrDefault(t,this._defaultStyle.outlineThickness)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowDepthX",{get:function(){return this._shadowDepthX},set:function(t){this._shadowDepthX=e._valueOrDefault(t,this._defaultStyle.shadowDepth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowDepthY",{get:function(){return this._shadowDepthY},set:function(t){this._shadowDepthY=e._valueOrDefault(t,this._defaultStyle.shadowDepth)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=e._valueOrDefault(t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"gaussianBlur",{get:function(){return this._gaussianBlur},set:function(t){this._gaussianBlur=e._valueOrDefault(t,0)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{set:function(t){this._fontName=e._valueOrDefault(t,this._defaultStyle.fontName)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},set:function(t){this._fontSize=e._valueOrDefault(t,this._defaultStyle.fontSize)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontScaleX",{get:function(){return this._fontScaleX},set:function(t){this._fontScaleX=e._valueOrDefault(t,this._defaultStyle.fontScaleX)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontScaleY",{get:function(){return this._fontScaleY},set:function(t){this._fontScaleY=e._valueOrDefault(t,this._defaultStyle.fontScaleY)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},set:function(t){this._letterSpacing=e._valueOrDefault(t,this._defaultStyle.letterSpacing)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationX",{get:function(){return this._rotationX},set:function(e){this._rotationX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationY",{get:function(){return this._rotationY},set:function(e){this._rotationY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this._rotationZ},set:function(t){this._rotationZ=e._valueOrDefault(t,this._defaultStyle.rotationZ)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewX",{get:function(){return this._skewX},set:function(e){this._skewX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"skewY",{get:function(){return this._skewY},set:function(e){this._skewY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryColor",{get:function(){return this._primaryColor},set:function(t){this._primaryColor=e._valueOrDefault(t,this._defaultStyle.primaryColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryColor",{get:function(){return this._secondaryColor},set:function(t){this._secondaryColor=e._valueOrDefault(t,this._defaultStyle.secondaryColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineColor",{get:function(){return this._outlineColor},set:function(t){this._outlineColor=e._valueOrDefault(t,this._defaultStyle.outlineColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return this._shadowColor},set:function(t){this._shadowColor=e._valueOrDefault(t,this._defaultStyle.shadowColor)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryAlpha",{get:function(){return this._primaryAlpha},set:function(t){this._primaryAlpha=e._valueOrDefault(t,this._defaultStyle.primaryColor.alpha)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryAlpha",{get:function(){return this._secondaryAlpha},set:function(t){this._secondaryAlpha=e._valueOrDefault(t,this._defaultStyle.secondaryColor.alpha)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineAlpha",{get:function(){return this._outlineAlpha},set:function(t){this._outlineAlpha=e._valueOrDefault(t,this._defaultStyle.outlineColor.alpha)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowAlpha",{get:function(){return this._shadowAlpha},set:function(t){this._shadowAlpha=e._valueOrDefault(t,this._defaultStyle.shadowColor.alpha)},enumerable:!0,configurable:!0}),e._valueOrDefault=function(e,t){return null!==e?e:t},e}();e.SpanStyles=r},function(e){e.debugMode=!1,e.verboseMode=!1,e.setDebugMode=function(t){e.debugMode=t},e.setVerboseMode=function(t){e.verboseMode=t}},function(t,n){var r=n(26),i=n(29),a=n(28),o=n(27),s=n(23),l=n(1),c=n(2),u=n(30),d=n(32),p=function(){function t(){if(this._properties=new a.ScriptProperties,this._styles=new u.Map,this._dialogues=[],this._attachments=[],this._stylesFormatSpecifier=null,this._dialoguesFormatSpecifier=null,1===arguments.length)throw new Error("Constructor `new ASS(rawASS)` has been deprecated. Use `ASS.fromString(rawASS)` instead.");this._styles.set("Default",new i.Style(new u.Map([["Name","Default"]])))}return Object.defineProperty(t.prototype,"properties",{get:function(){return this._properties},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styles",{get:function(){return this._styles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialogues",{get:function(){return this._dialogues},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"attachments",{get:function(){return this._attachments},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stylesFormatSpecifier",{get:function(){return this._stylesFormatSpecifier},set:function(e){this._stylesFormatSpecifier=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dialoguesFormatSpecifier",{get:function(){return this._dialoguesFormatSpecifier},set:function(e){this._dialoguesFormatSpecifier=e},enumerable:!0,configurable:!0}),t.prototype.addStyle=function(e){var t=c.parseLineIntoTypedTemplate(e,this._stylesFormatSpecifier);if(null!==t&&"Style"===t.type){var n=t.template;if(s.verboseMode){var r="";n.forEach(function(e,t){return r+=t+" = "+e+", "}),console.log("Read style: "+r)}var a=new i.Style(n);this._styles.set(a.name,a)}},t.prototype.addEvent=function(e){var t=c.parseLineIntoTypedTemplate(e,this._dialoguesFormatSpecifier);if(null!==t&&"Dialogue"===t.type){var n=t.template;if(s.verboseMode){var i="";n.forEach(function(e,t){return i+=t+" = "+e+", "}),console.log("Read dialogue: "+i)}this.dialogues.push(new r.Dialogue(n,this))}},t.prototype.addAttachment=function(e){this._attachments.push(e)},t.fromString=function(e,n){return void 0===n&&(n=o.Format.ASS),t.fromStream(new l.StringStream(e),n)},t.fromStream=function(e,t){switch(void 0===t&&(t=o.Format.ASS),t){case o.Format.ASS:return new l.StreamParser(e).ass;case o.Format.SRT:return new l.SrtStreamParser(e).ass;default:throw new Error("Illegal value of type: "+t)}},t.fromUrl=function(n,r){return void 0===r&&(r=o.Format.ASS),("function"==typeof e.fetch&&"function"==typeof e.ReadableStream&&"function"==typeof e.ReadableStream.prototype.getReader&&"function"==typeof e.TextDecoder?e.fetch(n).then(function(e){if(!1===e.ok||void 0===e.ok&&(e.status<200||e.status>299))throw new Error("HTTP request for "+n+" failed with status code "+e.status);return t.fromReadableStream(e.body,"utf-8",r)}):d.Promise.reject(new Error("Not supported."))).catch(function(e){console.warn("fetch() failed, falling back to XHR: %o",e);var i=new XMLHttpRequest,a=t.fromStream(new l.XhrStream(i),r);return i.open("GET",n,!0),i.send(),a})},t.fromReadableStream=function(e,n,r){return void 0===n&&(n="utf-8"),void 0===r&&(r=o.Format.ASS),t.fromStream(new l.BrowserReadableStream(e,n),r)},t}();t.ASS=p},function(e){var t;(t=e.AttachmentType||(e.AttachmentType={}))[t.Font=0]="Font",t[t.Graphic=1]="Graphic";var n=function(){function e(e,t){this._filename=e,this._type=t,this._contents=""}return Object.defineProperty(e.prototype,"filename",{get:function(){return this._filename},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._type},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"contents",{get:function(){return this._contents},set:function(e){this._contents=e},enumerable:!0,configurable:!0}),e}();e.Attachment=n},function(e,t){var n=t(27),r=t(3),i=t(8),a=t(23),o=t(30),s=function(){function e(t,r){this._parts=null,this._containsTransformTag=!1;var i=new o.Map;t.forEach(function(e,t){i.set(t.toLowerCase(),e)}),t=i,this._id=++e._lastDialogueId;var s=t.get("style");if(null!=s&&s.constructor===String&&null!==(s=s.replace(/^\*+/,"")).match(/^Default$/i)&&(s="Default"),this._style=r.styles.get(s),void 0===this._style&&(a.debugMode&&console.warn("Unrecognized style "+s+'. Falling back to "Default"'),this._style=r.styles.get("Default")),void 0===this._style)throw new Error("Unrecognized style "+s);if(this._start=e._toTime(t.get("start")),this._end=e._toTime(t.get("end")),this._layer=Math.max(n.valueOrDefault(t,"layer",parseInt,function(e){return!isNaN(e)},"0"),0),this._rawPartsString=t.get("text"),void 0===this._rawPartsString||null===this._rawPartsString||this._rawPartsString.constructor!==String)throw new Error("Dialogue doesn't have any text.")}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"start",{get:function(){return this._start},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"end",{get:function(){return this._end},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return null===this._parts&&this._parsePartsString(),this._alignment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layer",{get:function(){return this._layer},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parts",{get:function(){return null===this._parts&&this._parsePartsString(),this._parts},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"containsTransformTag",{get:function(){return null===this._parts&&this._parsePartsString(),this._containsTransformTag},enumerable:!0,configurable:!0}),e.prototype.toString=function(){return"#"+this._id+" ["+this._start.toFixed(3)+"-"+this._end.toFixed(3)+"] "+(null!==this._parts?this._parts.join(", "):this._rawPartsString)},e.prototype._parsePartsString=function(){var e=this;if(this._parts=r.parse(this._rawPartsString,"dialogueParts"),this._alignment=this._style.alignment,this._parts.forEach(function(t,n){t instanceof i.Alignment?e._alignment=t.value:t instanceof i.Move?null!==t.t1&&null!==t.t2||(e._parts[n]=new i.Move(t.x1,t.y1,t.x2,t.y2,0,e._end-e._start)):t instanceof i.Transform&&(null!==t.start&&null!==t.end&&null!==t.accel||(e._parts[n]=new i.Transform(null===t.start?0:t.start,null===t.end?e._end-e._start:t.end,null===t.accel?1:t.accel,t.tags)),e._containsTransformTag=!0)}),a.debugMode){var t=this._parts.filter(function(e){return e instanceof i.Comment&&-1!==e.value.indexOf("\\")});t.length>0&&console.warn("Possible incorrect parse:\n"+this._rawPartsString+"\nwas parsed as\n"+this.toString()+"\nThe possibly incorrect parses are:\n"+t.join("\n"))}},e._toTime=function(e){return e.split(":").reduce(function(e,t){return 60*e+parseFloat(t)},0)},e._lastDialogueId=-1,e}();e.Dialogue=s},function(e){var t,n,r;(t=e.Format||(e.Format={}))[t.ASS=0]="ASS",t[t.SRT=1]="SRT",(n=e.WrappingStyle||(e.WrappingStyle={}))[n.SmartWrappingWithWiderTopLine=0]="SmartWrappingWithWiderTopLine",n[n.SmartWrappingWithWiderBottomLine=3]="SmartWrappingWithWiderBottomLine",n[n.EndOfLineWrapping=1]="EndOfLineWrapping",n[n.NoLineWrapping=2]="NoLineWrapping",(r=e.BorderStyle||(e.BorderStyle={}))[r.Outline=1]="Outline",r[r.OpaqueBox=3]="OpaqueBox",e.valueOrDefault=function(e,t,n,r,i){var a=e.get(t);if(void 0===a)return n(i);try{var o=n(a);if(null!==r&&!r(o))throw new Error("Validation failed.");return o}catch(e){throw new Error("Property "+t+" has invalid value "+a+" - "+e.stack)}}},function(e){var t=function(){function e(){}return Object.defineProperty(e.prototype,"resolutionX",{get:function(){return this._resolutionX},set:function(e){this._resolutionX=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"resolutionY",{get:function(){return this._resolutionY},set:function(e){this._resolutionY=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"wrappingStyle",{get:function(){return this._wrappingStyle},set:function(e){this._wrappingStyle=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scaleBorderAndShadow",{get:function(){return this._scaleBorderAndShadow},set:function(e){this._scaleBorderAndShadow=e},enumerable:!0,configurable:!0}),e}();e.ScriptProperties=t},function(e,t){var n=t(27),r=t(3),i=t(30),a=function(){function e(e){var t=new i.Map;if(e.forEach(function(e,n){t.set(n.toLowerCase(),e)}),e=t,this._name=e.get("name"),void 0===this._name||null===this._name||this._name.constructor!==String)throw new Error("Style doesn't have a name.");this._name=this._name.replace(/^\*+/,""),this._italic=!!n.valueOrDefault(e,"italic",parseFloat,function(e){return!isNaN(e)},"0"),this._bold=!!n.valueOrDefault(e,"bold",parseFloat,function(e){return!isNaN(e)},"0"),this._underline=!!n.valueOrDefault(e,"underline",parseFloat,function(e){return!isNaN(e)},"0"),this._strikeThrough=!!n.valueOrDefault(e,"strikeout",parseFloat,function(e){return!isNaN(e)},"0"),this._fontName=n.valueOrDefault(e,"fontname",function(e){return e},function(e){return e.constructor===String},"sans-serif"),this._fontSize=n.valueOrDefault(e,"fontsize",parseFloat,function(e){return!isNaN(e)},"18"),this._fontScaleX=n.valueOrDefault(e,"scalex",parseFloat,function(e){return e>=0},"100")/100,this._fontScaleY=n.valueOrDefault(e,"scaley",parseFloat,function(e){return e>=0},"100")/100,this._letterSpacing=n.valueOrDefault(e,"spacing",parseFloat,function(e){return e>=0},"0"),this._rotationZ=n.valueOrDefault(e,"angle",parseFloat,function(e){return!isNaN(e)},"0"),this._primaryColor=n.valueOrDefault(e,"primarycolour",function(e){return r.parse(e,"colorWithAlpha")},null,"&H00FFFFFF"),this._secondaryColor=n.valueOrDefault(e,"secondarycolour",function(e){return r.parse(e,"colorWithAlpha")},null,"&H00FFFF00"),this._outlineColor=n.valueOrDefault(e,"outlinecolour",function(e){return r.parse(e,"colorWithAlpha")},null,"&H00000000"),this._shadowColor=n.valueOrDefault(e,"backcolour",function(e){return r.parse(e,"colorWithAlpha")},null,"&H80000000"),this._outlineThickness=n.valueOrDefault(e,"outline",parseFloat,function(e){return e>=0},"2"),this._borderStyle=n.valueOrDefault(e,"borderstyle",parseInt,function(e){return n.BorderStyle[n.BorderStyle[e]]===e},"1"),this._shadowDepth=n.valueOrDefault(e,"shadow",parseFloat,function(e){return e>=0},"3"),this._alignment=n.valueOrDefault(e,"alignment",parseInt,function(e){return e>=1&&e<=9},"2"),this._marginLeft=n.valueOrDefault(e,"marginl",parseFloat,function(e){return!isNaN(e)},"20"),this._marginRight=n.valueOrDefault(e,"marginr",parseFloat,function(e){return!isNaN(e)},"20"),this._marginVertical=n.valueOrDefault(e,"marginv",parseFloat,function(e){return!isNaN(e)},"20")}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"italic",{get:function(){return this._italic},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"bold",{get:function(){return this._bold},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"underline",{get:function(){return this._underline},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"strikeThrough",{get:function(){return this._strikeThrough},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontName",{get:function(){return this._fontName},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontSize",{get:function(){return this._fontSize},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontScaleX",{get:function(){return this._fontScaleX},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fontScaleY",{get:function(){return this._fontScaleY},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"letterSpacing",{get:function(){return this._letterSpacing},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"rotationZ",{get:function(){return this._rotationZ},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"primaryColor",{get:function(){return this._primaryColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"secondaryColor",{get:function(){return this._secondaryColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineColor",{get:function(){return this._outlineColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowColor",{get:function(){return this._shadowColor},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outlineThickness",{get:function(){return this._outlineThickness},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"borderStyle",{get:function(){return this._borderStyle},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"shadowDepth",{get:function(){return this._shadowDepth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"alignment",{get:function(){return this._alignment},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginLeft",{get:function(){return this._marginLeft},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginRight",{get:function(){return this._marginRight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"marginVertical",{get:function(){return this._marginVertical},enumerable:!0,configurable:!0}),e}();e.Style=a},function(t){t.Map=e.Map;var n=function(){function e(e){if(this.clear(),void 0!==e){if(!Array.isArray(e))throw new Error("Non-array iterables are not supported by the SimpleMap constructor.");for(var t=0;t<e.length;t++){var n=e[t];this.set(n[0],n[1])}}}return e.prototype.get=function(e){var t=this._keyToProperty(e);if(null!==t)return this._values[t]},e.prototype.has=function(e){var t=this._keyToProperty(e);return null!==t&&t in this._keys},e.prototype.set=function(e,t){var n=this._keyToProperty(e);if(null===n)throw new Error("This Map implementation only supports Number and String keys, or keys with an id property.");return n in this._keys||this._size++,this._keys[n]=e,this._values[n]=t,this},e.prototype.delete=function(e){var t=this._keyToProperty(e);if(null===t)return!1;var n=t in this._keys;return n&&(delete this._keys[t],delete this._values[t],this._size--),n},e.prototype.clear=function(){this._keys=Object.create(null),this._values=Object.create(null),this._size=0},e.prototype.forEach=function(e,t){for(var n=0,r=Object.keys(this._keys);n<r.length;n++){var i=r[n];e.call(t,this._values[i],this._keys[i],this)}},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype._keyToProperty=function(e){return"number"==typeof e?"#"+e:"string"==typeof e?"'"+e:void 0!==e.id?"!"+e.id:null},e}();(void 0===t.Map||"function"!=typeof t.Map.prototype.forEach||function(){try{return 2!==new t.Map([[1,"foo"],[2,"bar"]]).size}catch(e){return!0}}())&&(t.Map=n),t.setImplementation=function(e){t.Map=null!==e?e:n}},function(e){e.mixin=function(e,t){for(var n=0;n<t.length;n++)for(var r=t[n],i=0,a=Object.getOwnPropertyNames(r.prototype);i<a.length;i++){var o=a[i];e.prototype[o]=r.prototype[o]}}},function(t){t.Promise=e.Promise;var n,r=function(){var t=e.MutationObserver||e.WebkitMutationObserver;if(void 0!==e.process&&"function"==typeof e.process.nextTick)return function(t){e.process.nextTick(t)};if(void 0!==t){var n=[],r=!1,i=document.createElement("div"),a=new t(function(){for(var e=n.splice(0,n.length),t=0;t<e.length;t++){var a=e[t];a()}r=!1,n.length>0&&(i.classList.toggle("foo"),r=!0)});return a.observe(i,{attributes:!0}),function(e){n.push(e),r||(i.classList.toggle("foo"),r=!0)}}return function(e){return setTimeout(e,0)}}(),i=function(){function e(e){if(this._state=n.PENDING,this._fulfillReactions=[],this._rejectReactions=[],this._fulfilledValue=null,this._rejectedReason=null,"function"!=typeof e)throw new TypeError('typeof executor !== "function"');var t=this._createResolvingFunctions(),r=t.resolve,i=t.reject;try{e(r,i)}catch(e){i(e)}}return e.prototype.then=function(e,t){var r=new a;"function"!=typeof e&&(e=function(e){return e}),"function"!=typeof t&&(t=function(e){throw e});var i={capabilities:r,handler:e},o={capabilities:r,handler:t};switch(this._state){case n.PENDING:this._fulfillReactions.push(i),this._rejectReactions.push(o);break;case n.FULFILLED:this._enqueueFulfilledReactionJob(i,this._fulfilledValue);break;case n.REJECTED:this._enqueueRejectedReactionJob(o,this._rejectedReason)}return r.promise},e.prototype.catch=function(e){return this.then(null,e)},e.resolve=function(n){return n instanceof e?n:new t.Promise(function(e){return e(n)})},e.reject=function(e){return new t.Promise(function(t,n){return n(e)})},e.all=function(e){return new t.Promise(function(n,r){var i=[],a=e.length;0!==a?e.forEach(function(e,o){return t.Promise.resolve(e).then(function(e){i[o]=e,0===--a&&n(i)},r)}):n(i)})},e.race=function(e){return new t.Promise(function(n,r){for(var i=0;i<e.length;i++){var a=e[i];t.Promise.resolve(a).then(n,r)}})},e.prototype._createResolvingFunctions=function(){var e=this,t=!1;return{resolve:function(n){if(t)return;if(t=!0,n===e)return void e._reject(new TypeError("resolution === this"));if(null===n||"object"!=typeof n&&"function"!=typeof n)return void e._fulfill(n);try{var i=n.then}catch(t){return void e._reject(t)}if("function"!=typeof i)return void e._fulfill(n);r(function(){return e._resolveWithThenable(n,i)})},reject:function(n){if(t)return;t=!0,e._reject(n)}}},e.prototype._resolveWithThenable=function(e,t){var n=this._createResolvingFunctions(),r=n.resolve,i=n.reject;try{t.call(e,r,i)}catch(e){i(e)}},e.prototype._fulfill=function(e){var t=this._fulfillReactions;this._fulfilledValue=e,this._fulfillReactions=void 0,this._rejectReactions=void 0,this._state=n.FULFILLED;for(var r=0;r<t.length;r++){var i=t[r];this._enqueueFulfilledReactionJob(i,e)}},e.prototype._reject=function(e){var t=this._rejectReactions;this._rejectedReason=e,this._fulfillReactions=void 0,this._rejectReactions=void 0,this._state=n.REJECTED;for(var r=0;r<t.length;r++){var i=t[r];this._enqueueRejectedReactionJob(i,e)}},e.prototype._enqueueFulfilledReactionJob=function(e,t){r(function(){var n,r=e.capabilities,i=r.resolve,a=r.reject,o=e.handler;try{n=o(t)}catch(e){return void a(e)}i(n)})},e.prototype._enqueueRejectedReactionJob=function(e,t){r(function(){var n,r=e.capabilities,i=r.resolve,a=r.reject,o=e.handler;try{n=o(t)}catch(e){return void a(e)}i(n)})},e}();void 0===t.Promise&&(t.Promise=i),function(e){e[e.PENDING=0]="PENDING",e[e.FULFILLED=1]="FULFILLED",e[e.REJECTED=2]="REJECTED"}(n||(n={})),t.setImplementation=function(e){t.Promise=null!==e?e:i};var a=function(){function e(){var e=this;this._promise=new t.Promise(function(t,n){Object.defineProperties(e,{resolve:{value:t,enumerable:!0},reject:{value:n,enumerable:!0}})})}return Object.defineProperty(e.prototype,"promise",{get:function(){return this._promise},enumerable:!0,configurable:!0}),e}();t.DeferredPromise=a,t.first=function(e){return function e(n,r){if(0===n.length)return t.Promise.reject(r);var i=n[0];var a=n.slice(1);return i.catch(function(t){return e(a,r.concat(t))})}(e,[])},t.any=function(e){return new t.Promise(function(n,r){return t.Promise.all(e.map(function(e){return e.then(n,function(e){return e})})).then(r)})},t.lastly=function(e,t){return e.then(function(e){return t(),e},function(e){throw t(),e})}},function(t){t.Set=e.Set;var n=function(){function e(e){if(this.clear(),void 0!==e){if(!Array.isArray(e))throw new Error("Non-array iterables are not supported by the SimpleSet constructor.");for(var t=0;t<e.length;t++){var n=e[t];this.add(n)}}}return e.prototype.add=function(e){var t=this._toProperty(e);if(null===t)throw new Error("This Set implementation only supports Number and String values.");return t in this._elements||this._size++,this._elements[t]=e,this},e.prototype.clear=function(){this._elements=Object.create(null),this._size=0},e.prototype.has=function(e){var t=this._toProperty(e);return null!==t&&t in this._elements},e.prototype.forEach=function(e,t){for(var n=0,r=Object.keys(this._elements);n<r.length;n++){var i=r[n],a=this._elements[i];e.call(t,a,a,this)}},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!0,configurable:!0}),e.prototype._toProperty=function(e){return"number"==typeof e?"#"+e:"string"==typeof e?"'"+e:null},e}();(void 0===t.Set||"function"!=typeof t.Set.prototype.forEach||function(){try{return 2!==new t.Set([1,2]).size}catch(e){return!0}}())&&(t.Set=n),t.setImplementation=function(e){t.Set=null!==e?e:n}},function(e){e.__extends=function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r},e.__decorate=function(e,t,n){if(arguments.length<3)return function(e,t){for(var n=0;n<e.length;n++){var r=e[n];t=r(t)||t}return t}(e.reverse(),t);!function(e,t,n){for(var r=0;r<e.length;r++){var i=e[r];i(t,n)}}(e.reverse(),t,n)}},function(e,t){var n=t(30),r=t(32),i=t(36),a=t(38),o=function(){function e(e){var t=this;this._comm=e,this._pendingRequests=new n.Map,this._comm.addEventListener("message",function(e){return t._onMessage(e.data)},!1)}return e.prototype.request=function(t,n){var i=new r.DeferredPromise,o=++e._lastRequestId;this._pendingRequests.set(o,i);var s={requestId:o,command:t,parameters:n};return this._comm.postMessage(a.serialize(s)),i.promise},e.prototype.cancelRequest=function(e){var t=this._pendingRequests.get(e);void 0!==t&&(this._pendingRequests.delete(e),t.reject(new Error("Cancelled.")))},e.prototype._respond=function(e){var t=e.requestId,n=e.error,r=e.result;n instanceof Error&&(n={message:n.message,stack:n.stack}),this._comm.postMessage(a.serialize({command:i.WorkerCommands.Response,requestId:t,error:n,result:r}))},e.prototype._onMessage=function(e){var t=this,n=a.deserialize(e);if(n.command===i.WorkerCommands.Response){var r=n,o=this._pendingRequests.get(r.requestId);void 0!==o&&(this._pendingRequests.delete(r.requestId),null===r.error?o.resolve(r.result):o.reject(r.error))}else{var s=n,l=s.requestId,c=a.getWorkerCommandHandler(s.command);if(void 0===c)return void this._respond({requestId:l,error:new Error("No handler registered for command "+s.command),result:null});c(s.parameters).then(function(e){return{requestId:l,error:null,result:e}},function(e){return{requestId:l,error:e,result:null}}).then(function(e){return t._respond(e)})}},e._lastRequestId=-1,e}();e.WorkerChannelImpl=o,a.registerWorkerCommand(i.WorkerCommands.Ping,function(){return new r.Promise(function(e){return e(null)})})},function(e){var t;(t=e.WorkerCommands||(e.WorkerCommands={}))[t.Response=0]="Response",t[t.Parse=1]="Parse",t[t.Ping=2]="Ping"},function(t,n){var r=n(35),i=n(36);t.WorkerCommands=i.WorkerCommands,t.supported="undefined"!=typeof Worker;var a="undefined"!=typeof document&&void 0!==document.currentScript?document.currentScript:null;t.createWorker=function(e){void 0===e&&(e=a.src);return new r.WorkerChannelImpl(new Worker(e))},"undefined"!=typeof WorkerGlobalScope&&e instanceof WorkerGlobalScope&&new r.WorkerChannelImpl(e)},function(e,t){var n=t(30),r=new n.Map,i=new n.Map;e.registerWorkerCommand=function(e,t){r.set(e,t)},e.getWorkerCommandHandler=function(e){return r.get(e)},e.registerClassPrototype=function(e){e._classTag=i.size,i.set(e._classTag,e)},e.serialize=function(e){return JSON.stringify(e,function(e,t){return t&&void 0!==t._classTag&&(t._classTag=t._classTag),t})},e.deserialize=function(e){return JSON.parse(e,function(e,t){if(t&&void 0!==t._classTag){for(var n=Object.create(i.get(t._classTag)),r=0,a=Object.keys(t);r<a.length;r++){var o=a[r];"_classTag"!==o&&(n[o]=t[o])}t=n}return t})}}])}(a)}.apply(t,[]))||(e.exports=r)}()},function(e,t,n){e.exports={container:"GridAlsoAiringItemMetadata-container-yIov2S",channelInfoContainer:"GridAlsoAiringItemMetadata-channelInfoContainer-2yoC8Z",channelTitle:"GridAlsoAiringItemMetadata-channelTitle-257JUm",cardContainer:"GridAlsoAiringItemMetadata-cardContainer-9mkTHk",titlesContainer:"GridAlsoAiringItemMetadata-titlesContainer-3O1wAd",titles:"GridAlsoAiringItemMetadata-titles-2ul-k_",airTimeContainer:"GridAlsoAiringItemMetadata-airTimeContainer-1RzkWo",posterPlayCircle:"GridAlsoAiringItemMetadata-posterPlayCircle-V0bCfc MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw"}},function(e,t,n){e.exports={container:"LiveTVAlsoAiringItemMetadata-container-37Fq4m",channelInfoContainer:"LiveTVAlsoAiringItemMetadata-channelInfoContainer-28vl4k",channelTitle:"LiveTVAlsoAiringItemMetadata-channelTitle-Y3OwAF",cardContainer:"LiveTVAlsoAiringItemMetadata-cardContainer-mtr3eN",titlesContainer:"LiveTVAlsoAiringItemMetadata-titlesContainer-n7-5xB",titles:"LiveTVAlsoAiringItemMetadata-titles-2gp2Te",airTimeContainer:"LiveTVAlsoAiringItemMetadata-airTimeContainer-3PA9G0",posterPlayCircle:"LiveTVAlsoAiringItemMetadata-posterPlayCircle-3bKZHD MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw"}},function(e,t,n){e.exports={baseForm:"MediaSubscriptionForm-baseForm-2bT5Ug",advancedForm:"MediaSubscriptionForm-advancedForm-26WFwH",cancelConfirmation:"MediaSubscriptionForm-cancelConfirmation-2aCvUv",advancedSettings:"MediaSubscriptionForm-advancedSettings-3dyPlo",baseSettings:"MediaSubscriptionForm-baseSettings-2ssnbm",footer:"MediaSubscriptionForm-footer-2U6dhX ModalFooter-modalFooter-30WIB5",cancelConfirmationFooter:"MediaSubscriptionForm-cancelConfirmationFooter-3JtInX ModalFooter-modalFooter-30WIB5",advancedIcon:"MediaSubscriptionForm-advancedIcon-j3Yxg9"}},function(e,t,n){e.exports={modalContainer:"SubtitlesModalContent-modalContainer-3B7OAM",modalBody:"SubtitlesModalContent-modalBody-3sIFen ModalBody-modalBody--5uHSu",inputs:"SubtitlesModalContent-inputs-b332_W",languageInput:"SubtitlesModalContent-languageInput-10IPxN SelectInput-input-x1tNmq input-input-1P2Vi4",titleInput:"SubtitlesModalContent-titleInput-sGHLRX TextInput-input-1VMuma input-input-1P2Vi4",centeredContainer:"SubtitlesModalContent-centeredContainer-2fFRIV"}},function(e,t,n){e.exports={photoInformation:"PhotoInformation-photoInformation-1vUJbF",scroller:"PhotoInformation-scroller-1kXikq Scroller-vertical-VScFLT",exif:"PhotoInformation-exif-3TGkhv",line:"PhotoInformation-line-2tnkCU",split:"PhotoInformation-split-3vWYSO PhotoInformation-line-2tnkCU",format:"PhotoInformation-format-IPisod",map:"PhotoInformation-map-26hTST"}},function(e,t,n){e.exports={button:"SourceSidebarItem-button-257zM0 SourceSidebarLink-button-1Qe470 SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",overflowButton:"SourceSidebarItem-overflowButton-1lLH3b",iconImg:"SourceSidebarItem-iconImg-2zgKLr",pinnedIcon:"SourceSidebarItem-pinnedIcon-2WBaus",isActive:"SourceSidebarItem-isActive-3_yiwn SourceSidebarLink-isActive-2_QExr",isSelected:"SourceSidebarItem-isSelected-2FULYf SourceSidebarLink-isSelected-27-9-6",small:"SourceSidebarItem-small-2IV23c",actionContainer:"SourceSidebarItem-actionContainer-3H9EXk"}},function(e,t,n){e.exports={container:"ChannelsGridRowTitle-container-2k8lvi",numberContainer:"ChannelsGridRowTitle-numberContainer-1NXm94",thumbnailContainer:"ChannelsGridRowTitle-thumbnailContainer-3ThS3l",thumbnail:"ChannelsGridRowTitle-thumbnail-1At_s8",channelCallSignText:"ChannelsGridRowTitle-channelCallSignText-3ehTII",number:"ChannelsGridRowTitle-number-2yURdO",playButtonContainer:"ChannelsGridRowTitle-playButtonContainer-30FVKB",playButton:"ChannelsGridRowTitle-playButton-1Dp3VH PlayButton-playButton-3WX8X-"}},function(e,t,n){e.exports={container:"LibraryFilterBuilder-container-1ep_xx",loadingContainer:"LibraryFilterBuilder-loadingContainer-c77MeP LibraryFilterBuilder-container-1ep_xx",footer:"LibraryFilterBuilder-footer-3W2q0T",settings:"LibraryFilterBuilder-settings-okmbXJ",checkInput:"LibraryFilterBuilder-checkInput-B0ck9X InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b",numberInput:"LibraryFilterBuilder-numberInput-1vwc6F InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4",buttons:"LibraryFilterBuilder-buttons-3PEDFO",button:"LibraryFilterBuilder-button-36Leqv Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={container:"UsersSettingsRowName-container-2JjONh",titleContainer:"UsersSettingsRowName-titleContainer-3LIPWK",title:"UsersSettingsRowName-title-kkZcaJ",subtitle:"UsersSettingsRowName-subtitle-2kYoSI",statusContainer:"UsersSettingsRowName-statusContainer-WYR7Dv",status:"UsersSettingsRowName-status-3Dp2rT",admin:"UsersSettingsRowName-admin-3uMu0o"}},function(e,t,n){var r=n(129),i=Math.max,a=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):a(n,t)}},function(e,t,n){var r=n(63)("unscopables"),i=n(245),a=n(100),o=Array.prototype;null==o[r]&&a(o,r,i(null)),e.exports=function(e){o[r][e]=!0}},function(e,t,n){var r=n(138);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},function(e,t,n){var r=n(62),i=n(138),a=n(63)("species");e.exports=function(e,t){var n,o=r(e).constructor;return void 0===o||null==(n=r(o)[a])?t:i(n)}},function(e,t,n){"use strict";var r=n(8),i=n.n(r);t.a=function(e){var t=i.a.Deferred();return e.then(t.resolve,t.reject,t.notify),{promise:t.promise(),cancel:function(){t.reject({isCanceled:!0})}}}},function(e,t,n){"use strict";var r=n(35),i=n(8),a=n.n(i),o=n(52),s={isPopulating:function(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},isPopulated:function(){return!!this.populatePromise&&"resolved"===this.populatePromise.state()},populate:function(){return this.populatePromise?this.populatePromise:this.fetch.apply(this,arguments)},fetch:function(){var e,t=this,n=a.a.Deferred();if(this.isPopulating())return this.populatePromise;e=this._fetch?this._fetch.apply(this,arguments):this instanceof r.c.Collection?r.c.Collection.prototype.fetch.apply(this,arguments):r.c.Model.prototype.fetch.apply(this,arguments);var i=n.promise();return i.rid=e.rid,this.populatePromise=i,this.failedPopulatePromise=null,e.done(function(r){t.populatePromise=a.a.Deferred().resolveWith(t,[t]).promise(),n.resolveWith(t,[t,r,e])}),e.fail(function(e){t.populatePromise=null,t.failedPopulatePromise=i,n.rejectWith(t,[t,e])}),i},abortPendingPopulate:function(){return this.isPopulating()&&o.a.abort(this.populatePromise.rid),this.populatePromise},resetPopulatePromise:function(e){return this.isPopulating()||(this.populatePromise=e,this.failedPopulatePromise=null),this.populatePromise}};t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(37),i=n(21),a=n(51);function o(e,t,n){return n?r.a.xml:t&&i.i(t.get("identifier"),i.b)?r.a.xml:Object(a.a)(e)}},function(e,t,n){"use strict";var r=n(16),i=n(3),a={ASCENDING:"asc",DESCENDING:"desc"},o=r.a.extend({name:"SortModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:i.a.boolean,direction:i.a.string},syncedAttrs:{key:i.a.string,descKey:i.a.string,title:i.a.string,isDefault:i.a.boolean,active:i.a.boolean,defaultDirection:i.a.string,activeDirection:i.a.string},defaults:{selected:!1},augmentResponse:function(e){return e.defaultDirection||(e.defaultDirection=e.default||a.ASCENDING),e.isDefault=!!e.default,e.direction||(e.direction=e.defaultDirection),e},reverseSortDirection:function(){var e=this.get("direction")||this.get("defaultDirection");e=e&&e!==a.ASCENDING?a.ASCENDING:a.DESCENDING,this.set("direction",e)}},{directions:a});t.a=o},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a});var r="list",i="upsell",a=["shelf","grid",r,"banner","hero"]},function(e,t,n){"use strict";var r=n(16),i=n(3),a=n(37),o=n(51),s=n(47),l=n(36),c=n(30),u=n(29),d=n(54),p=n(295),h=r.a.extend({name:"HubModel",context:["server","provider","section","identifier","allowSync","includeExternalMedia"],entityType:u.c,entityID:function(e){return void 0===e&&(e=this.state),Object(c.a)(this.entityType,e.key||e.hubKey||e.hubIdentifier,this.provider.entityID())},idAttribute:"hubIdentifier",rootPropertyName:"Hub",responseType:function(){return Object(o.a)(this.server)},url:function(){return this.get("key")||this.get("hubKey")},syncedAttrs:{key:i.a.string,hubKey:i.a.string,hubIdentifier:i.a.string,source:i.a.string,title:i.a.string,summary:i.a.string,icon:i.a.string,thumb:i.a.string,attribution:i.a.string,type:i.a.string,subtype:i.a.string,style:i.a.string,size:i.a.integer,totalSize:i.a.integer,more:i.a.boolean,random:i.a.boolean,browse:i.a.boolean,upNext:i.a.boolean,context:i.a.string,promoted:i.a.boolean},syncedRelations:{metadataList:{relationClass:d.default,deferred:!0},directoryList:{relationClass:p.a,deferred:!0}},initialize:function(){this.listenTo(this.get("metadataList"),"change:populatedRange",this.onPopulatedRangeChange),this.listenTo(this.get("directoryList"),"change:populatedRange",this.onPopulatedRangeChange)},augmentResponseText:function(e,t){return t===a.a.xml?Object(s.b)(e):e},augmentResponse:function(e){var t=null==e.totalSize?void 0:l.a.parseInteger(e.totalSize),n=l.a.parseInteger(e.size)||0,r=e.key||e.hubKey;return e.Directory?e.metadataList={containerKey:r,Metadata:e.Directory,size:n,totalSize:t}:e.metadataList={containerKey:r,Metadata:e.Metadata,size:n,totalSize:t},e},onPopulatedRangeChange:function(e,t){var n=t.size,r=e.get("totalSize"),i={size:n};null!=r&&(i.more=r>n),this.set(i)}});t.a=h},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(41),i=n(34);function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(i.a)(e,n).getTime(),o=Object(r.a)(t);return new Date(a+o)}},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(292);function i(e,t){return Object(r.a)(e,t)?"localQuality":"remoteQuality"}},function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return i});var r="html",i=[r,"mpv","samsung_avplay","webmaf_video_player"]},function(e,t,n){"use strict";var r=n(17);var i=function(e){return"[object String]"===toString.call(e)};t.a=function(e,t){void 0===t&&(t={});try{return JSON.parse(e)}catch(a){var n=i(e)?e.substring(0,50):"no response";return r.a.warn("[Parser] Unable to parse JSON: "+a.message+" ("+n+")"),t}}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(15),o=n(19),s=n(16),l=n(3),c=s.a.extend({name:"FilterOptionModel",context:["server","section","type","standalone"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:l.a.encodedString,type:l.a.string,field:l.a.string,value:l.a.string,title:l.a.string},augmentResponse:function(e){return e.fastKey?(e.value=e.key,e.key=e.fastKey,e.field=e.type,delete e.type,delete e.fastKey):e.fastKey||e.value||(e.value=e.key),e}}),u=o.a.extend({name:"FilterOptionCollection",context:["server","provider","section","type","standalone","includeExternalMedia"],model:c,url:function(){var e;this.type?e={type:this.type}:this.standalone||(e=this.getUrlParams());var t=i.a.result(this.section,"url");return a.join([t,this.parent.id],e)},getUrlParams:function(){var e=this,t={},n=[],r=this.section.get("currentType"),a=this.section.get("currentFilters");return r&&(t.type=r.id),i.a.each(a,function(n){n.key!==e.parent.id&&n.values.length&&(t[n.key]=n.values.join(","))}),i.a.each(t,function(e,t){"unviewedLeafCount"===t?n.push(t+">="+e):n.push(t+"="+e)}),n.join("&")},augmentResponse:function(e){return e.Directory&&!Array.isArray(e.Directory)&&(e.Directory=[e.Directory]),e.Directory=i.a.filter(e.Directory,function(e){return e.title}),e},search:function(e){var t=this.filter(function(t){return t.get("title").toLowerCase().indexOf(e.toLowerCase())>-1});return this.clone(t)}});t.a=u},function(e,t,n){"use strict";e.exports={motionEasing:[.6,.4,.2,1.4]}},function(e,t,n){e.exports={upsell:"ServerDashboardPageUpsell-upsell-37J5Ky",description:"ServerDashboardPageUpsell-description-1EYv9c",chartImageContainer:"ServerDashboardPageUpsell-chartImageContainer-2wVqgp",listImageContainer:"ServerDashboardPageUpsell-listImageContainer-1RWgoK",image:"ServerDashboardPageUpsell-image-2u0wKP",button:"ServerDashboardPageUpsell-button-25r8sJ"}},function(e,t,n){e.exports={bar:"BarChart-bar-TGQuuG",translucentBar:"BarChart-translucentBar-g8W7OB BarChart-bar-TGQuuG",legendContainer:"BarChart-legendContainer-1LFnsF",legendLabels:"BarChart-legendLabels-10gpog",legendSummary:"BarChart-legendSummary-OWb0ex",legendLabel:"BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"BarChart-translucentLegendLabel-25PxUk BarChart-legendLabel-2VxIT5 LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},function(e,t,n){e.exports={line:"LineChart-line-kpWRY5",translucentLine:"LineChart-translucentLine-3Noru- LineChart-line-kpWRY5",legendContainer:"LineChart-legendContainer-3m9Lu0",legendLabels:"LineChart-legendLabels-2_DC2x",legendSummary:"LineChart-legendSummary-3CHecr",legendLabel:"LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",translucentLegendLabel:"LineChart-translucentLegendLabel-177DBq LineChart-legendLabel-3FrzJh LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn"}},function(e,t,n){e.exports={emptyPage:"EmptyPage-emptyPage-2AM9uQ",content:"EmptyPage-content-10PgBS",icon:"EmptyPage-icon-31D3ZA",default:"EmptyPage-default-26GUDH",primary:"EmptyPage-primary-1uNBT2",success:"EmptyPage-success-zqYzQ8",danger:"EmptyPage-danger-3-2M_Y",title:"EmptyPage-title-264Jp4",description:"EmptyPage-description-oYWtW_",footer:"EmptyPage-footer-2lE0TA"}},function(e,t,n){e.exports={form:"ShareLibraryUsers-form-3xwubQ",modalBody:"ShareLibraryUsers-modalBody-2yYYpn ModalBody-modalBody--5uHSu",messages:"ShareLibraryUsers-messages-SDegac",inputContainer:"ShareLibraryUsers-inputContainer-ekgqZd",icon:"ShareLibraryUsers-icon-3nVB6o",checkIcon:"ShareLibraryUsers-checkIcon-3BuKaI ShareLibraryUsers-icon-3nVB6o",scroller:"ShareLibraryUsers-scroller-2gQZg0 Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={emptyPage:"InsecureFallbackChoicePage-emptyPage-3RqTdC EmptyPage-emptyPage-2AM9uQ",content:"InsecureFallbackChoicePage-content-hP24cX EmptyPage-content-10PgBS",title:"InsecureFallbackChoicePage-title-fSQV11 EmptyPage-title-264Jp4",description:"InsecureFallbackChoicePage-description-3qJXgB EmptyPage-description-oYWtW_",pmsLogo:"InsecureFallbackChoicePage-pmsLogo-rf-KRy",button:"InsecureFallbackChoicePage-button-Hd0hln"}},function(e,t,n){e.exports={sidebarLink:"SidebarLink-sidebarLink-L2OPdE Link-default-2XA2bN",iconImg:"SidebarLink-iconImg-1grLXe",container:"SidebarLink-container-24bhWp",icon:"SidebarLink-icon-34JWqs",title:"SidebarLink-title-2vaAAn",children:"SidebarLink-children-3Lh_RU",spinner:"SidebarLink-spinner-3MZY0q"}},function(e,t,n){e.exports={remotePlayerName:"RemotePlayerMenuItems-remotePlayerName-L2owql",remoteProduct:"RemotePlayerMenuItems-remoteProduct-3K34_6",remotePlayerProduct:"RemotePlayerMenuItems-remotePlayerProduct-3Xx8U1",menuItemSubtitle:"RemotePlayerMenuItems-menuItemSubtitle-102JIU",emptyMessage:"RemotePlayerMenuItems-emptyMessage-_vLf31",disconnectIcon:"RemotePlayerMenuItems-disconnectIcon-3DaqB7"}},function(e,t,n){e.exports={button:"NavBarAccountButton-button-1Y4ek6 DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",badge:"NavBarAccountButton-badge-2D07am Badge-badge-21NQRi",tooltip:"NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarAccountButton-tooltipTriggerHasFocus-1Sjs7h NavBarAccountButton-tooltip-MBMW8U Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",avatarContainer:"NavBarAccountButton-avatarContainer-2fU5S_",overlay:"NavBarAccountButton-overlay-2BHPAl",isMenuOpen:"NavBarAccountButton-isMenuOpen-2kMP78"}},function(e,t,n){e.exports={topControls:"FullPlayerTopControls-topControls-2gkcEk",topButton:"FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",castButton:"FullPlayerTopControls-castButton-1CwQ3E FullPlayerTopControls-topButton-2iGrJm PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",remotePlayerName:"FullPlayerTopControls-remotePlayerName-32QaKl",remotePlayerProduct:"FullPlayerTopControls-remotePlayerProduct-2k5kgk"}},function(e,t,n){e.exports={container:"AudioVideoPlayQueue-container-mD38oi",topContainer:"AudioVideoPlayQueue-topContainer-3udEGu",topLeft:"AudioVideoPlayQueue-topLeft-_-AJUI",topRight:"AudioVideoPlayQueue-topRight-2iuaOm",count:"AudioVideoPlayQueue-count-1zBsgM",content:"AudioVideoPlayQueue-content-28l4x2 Scroller-vertical-VScFLT",tooltipButton:"AudioVideoPlayQueue-tooltipButton-1wdD77"}},function(e,t,n){e.exports={modalBody:"SubtitlesUploadModalContent-modalBody-26_M5- ModalBody-modalBody--5uHSu",container:"SubtitlesUploadModalContent-container-hAKMim",dropHover:"SubtitlesUploadModalContent-dropHover-2g3rQZ",uploadingContainer:"SubtitlesUploadModalContent-uploadingContainer-3YDAh7",fileInputContainer:"SubtitlesUploadModalContent-fileInputContainer-oioGGH",fileInputLink:"SubtitlesUploadModalContent-fileInputLink-2mJgaq",separator:"SubtitlesUploadModalContent-separator-3gi0QY"}},function(e,t,n){e.exports={container:"SubtitlesOffsetSettings-container-2qSmYo AudioVideoStripeContainer-container-MI02OU",closeButton:"SubtitlesOffsetSettings-closeButton-2WdGs9 Link-link-2n0yJn",title:"SubtitlesOffsetSettings-title-2G4Dw8",buttonContainer:"SubtitlesOffsetSettings-buttonContainer-29XRne",button:"SubtitlesOffsetSettings-button-17oZz6 Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={fullPlayer:"AudioVideoFullPlayer-fullPlayer-3bJyOR",bar:"AudioVideoFullPlayer-bar-dDYeoN",topBar:"AudioVideoFullPlayer-topBar-2XUGMf AudioVideoFullPlayer-bar-dDYeoN",bottomBar:"AudioVideoFullPlayer-bottomBar-2yixi6 AudioVideoFullPlayer-bar-dDYeoN",content:"AudioVideoFullPlayer-content-37T7O7",isVideo:"AudioVideoFullPlayer-isVideo-1aASwH",isPlayQueueVisible:"AudioVideoFullPlayer-isPlayQueueVisible-1caoxF",hideControls:"AudioVideoFullPlayer-hideControls-3B1pWE"}},function(e,t,n){e.exports={hub:"PhotoHub-hub-3ROVkK",container:"PhotoHub-container-2-eNSV",body:"PhotoHub-body-2A7LSr",overlay:"PhotoHub-overlay-1cF_Sl",title:"PhotoHub-title-1Js3ET",count:"PhotoHub-count-30JDLw",icon:"PhotoHub-icon-1yZ1em"}},function(e,t,n){e.exports={serverButton:"SelectPreferredServerItem-serverButton-29jc7n",isSelected:"SelectPreferredServerItem-isSelected-daviyr",friendlyName:"SelectPreferredServerItem-friendlyName-2aHvL6",serverMenuIcon:"SelectPreferredServerItem-serverMenuIcon-d3k6mW",isUnavailable:"SelectPreferredServerItem-isUnavailable-JNfkys",titles:"SelectPreferredServerItem-titles-mvqGjT",details:"SelectPreferredServerItem-details-33OHk_"}},function(e,t,n){e.exports={emptyPage:"EmptyPage-emptyPage-1mYmbe",content:"EmptyPage-content-1H9v6r",icon:"EmptyPage-icon-1TWJcT",default:"EmptyPage-default-2B1JW8",primary:"EmptyPage-primary-35hq5h",success:"EmptyPage-success-3R5Umt",danger:"EmptyPage-danger-RGaeLo",imgIcon:"EmptyPage-imgIcon--9p1vI",title:"EmptyPage-title-30ar8T",footer:"EmptyPage-footer-2Ldy4u"}},function(e,t,n){e.exports={header:"SkipSignInMessage-header-Y0dMXv",list:"SkipSignInMessage-list-5YPdVE",item:"SkipSignInMessage-item-2vzluZ"}},function(e,t,n){e.exports={container:"ChannelsGridTimeline-container-3dKF2q",dayContainer:"ChannelsGridTimeline-dayContainer-22VllU",labelContainer:"ChannelsGridTimeline-labelContainer-3JCH3a",label:"ChannelsGridTimeline-label-368pi8",navigationButtons:"ChannelsGridTimeline-navigationButtons-3GtRvh",navigationButton:"ChannelsGridTimeline-navigationButton-2oRTOG"}},function(e,t,n){e.exports={subscription:"RecordingPrioritySubscription-subscription-sOfYqe",link:"RecordingPrioritySubscription-link-2-ONe6",linkContainer:"RecordingPrioritySubscription-linkContainer-35Li6i",posterContainer:"RecordingPrioritySubscription-posterContainer-1ZjTKX",titleContainer:"RecordingPrioritySubscription-titleContainer-2zfvGj",dragHandle:"RecordingPrioritySubscription-dragHandle-1KbYqy Link-link-2n0yJn",dragIcon:"RecordingPrioritySubscription-dragIcon-2zAikO"}},function(e,t,n){e.exports={concert:"PrePlayConcert-concert-2d4lOH",concertCalendar:"PrePlayConcert-concertCalendar-1FILvy",concertMonth:"PrePlayConcert-concertMonth-2qln2a",concertDay:"PrePlayConcert-concertDay-zNEEhM",concertDetails:"PrePlayConcert-concertDetails-_iXFvZ",concertTitle:"PrePlayConcert-concertTitle-2O-pNp",concertLocation:"PrePlayConcert-concertLocation-3ltdCq"}},function(e,t,n){e.exports={homeUsersList:"UsersSettingsPage-homeUsersList-3XOzw8",button:"UsersSettingsPage-button-1upQLF",upsell:"UsersSettingsPage-upsell-3zJGA6",upsellMessage:"UsersSettingsPage-upsellMessage-3ocMg3"}},function(e,t){var n=Array.isArray;e.exports=n},function(e,t){e.exports=!1},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,n){var r=n(692),i=n(542).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},function(e,t,n){var r=n(62),i=n(695),a=n(542),o=n(696),s=n(539),l=n(418)("IE_PROTO"),c=function(){},u=function(){var e,t=s("iframe"),n=a.length;for(t.style.display="none",o.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[a[n]];return u()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[l]=e):n=u(),void 0===t?n:i(n,t)},n(353)[l]=!0},function(e,t,n){"use strict";var r=n(156),i=n(71),a=n(243);e.exports=function(e,t,n){var o=r(t);o in e?i.f(e,o,a(0,n)):e[o]=n}},function(e,t,n){var r=n(352)("meta"),i=n(361),a=n(59),o=n(79),s=n(71).f,l=0,c=Object.isExtensible||function(){return!0},u=function(e){s(e,r,{value:{objectID:"O"+ ++l,weakData:{}}})},d=e.exports={REQUIRED:!1,fastKey:function(e,t){if(!a(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!o(e,r)){if(!c(e))return"F";if(!t)return"E";u(e)}return e[r].objectID},getWeakData:function(e,t){if(!o(e,r)){if(!c(e))return!0;if(!t)return!1;u(e)}return e[r].weakData},onFreeze:function(e){return i&&d.REQUIRED&&c(e)&&!o(e,r)&&u(e),e}};n(353)[r]=!0},function(e,t,n){"use strict";
/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(e){return!1}}()?Object.assign:function(e,t){for(var n,o,s=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in n=Object(arguments[l]))i.call(n,c)&&(s[c]=n[c]);if(r){o=r(n);for(var u=0;u<o.length;u++)a.call(n,o[u])&&(s[o[u]]=n[o[u]])}}return s}},function(e,t,n){var r=n(1380),i=n(1381);e.exports={stringify:r,parse:i}},function(e,t,n){"use strict";n.r(t),n.d(t,"FAIRPLAY_NATIVE",function(){return r}),n.d(t,"FAIRPLAY_MSE",function(){return i}),n.d(t,"PLAYREADY",function(){return a}),n.d(t,"WIDEVINE",function(){return o});var r="com.apple.fps.1_0",i="com.apple.fps.2_0",a="com.microsoft.playready",o="com.widevine.alpha"},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(34);function i(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t);return!isNaN(n)}},function(e,t,n){"use strict";n.d(t,"b",function(){return o});var r=n(16),i=n(3),a=n(36),o={INT:"int",TEXT:"text",BOOL:"bool",DOUBLE:"double"};function s(e,t){switch(e){case o.INT:case o.ENUM:return a.a.parseInteger(t);case o.BOOL:return a.a.parseBoolean(t);case o.DOUBLE:return a.a.parseFloat(t);default:return t}}var l=r.a.extend({name:"MediaSettingModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Setting",syncedAttrs:{id:i.a.string,advanced:i.a.boolean,default:i.a.oneOfType(i.a.integer,i.a.string,i.a.boolean),hidden:i.a.boolean,group:i.a.string,label:i.a.string,summary:i.a.string,type:i.a.oneOf(o.INT,o.TEXT,o.BOOL,o.ENUM,o.DOUBLE),value:i.a.oneOfType(i.a.integer,i.a.float,i.a.string,i.a.boolean),min:i.a.float,max:i.a.float,step:i.a.float,enumValues:i.a.array},augmentResponse:function(e){return e.default=s(e.type,e.default),e.value=s(e.type,e.value),e.enumValues&&(e.enumValues=e.enumValues.split("|").map(function(t){var n=t.split(":"),r=n[0],i=n[1];return{label:decodeURIComponent(void 0===i?r:i),value:s(e.type,r)}})),e},parseAndSetValue:function(e){this.set("value",s(this.get("type"),e))}});t.a=l},function(e,t,n){e.exports={disclosureArrowButton:"DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",isSelected:"DisclosureArrowButton-isSelected-1aPl5o",small:"DisclosureArrowButton-small-2fBp-o",medium:"DisclosureArrowButton-medium-3zt1WM",large:"DisclosureArrowButton-large-2E9J1Y",disclosureArrow:"DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC",down:"DisclosureArrowButton-down-2EHTTC",left:"DisclosureArrowButton-left-1_7OFY",up:"DisclosureArrowButton-up-3CeKSp",right:"DisclosureArrowButton-right-3r62HY"}},function(e,t,n){e.exports={feature:"PlexPassFeature-feature-227Do1",featurePadding:"PlexPassFeature-featurePadding-3qxKLi",featureImage:"PlexPassFeature-featureImage-1MQuZ0",featureContainer:"PlexPassFeature-featureContainer-5yGpRx",featureTitle:"PlexPassFeature-featureTitle-cBOf4G",featureDescription:"PlexPassFeature-featureDescription-2mgxrS"}},function(e,t,n){e.exports={container:"DeviceChannelMappingsHeader-container-1VViTz",deviceChannelsContainer:"DeviceChannelMappingsHeader-deviceChannelsContainer-1TSeU3",guideChannels:"DeviceChannelMappingsHeader-guideChannels-3D6cOQ",deviceChannels:"DeviceChannelMappingsHeader-deviceChannels-iZFrgG",signalStrength:"DeviceChannelMappingsHeader-signalStrength-1vcKgT",deviceChannelsPadding:"DeviceChannelMappingsHeader-deviceChannelsPadding-AkfFyu"}},function(e,t,n){e.exports={form:"DVRDeviceSettingsModalContent-form-1a8dRt",container:"DVRDeviceSettingsModalContent-container-320C56",info:"DVRDeviceSettingsModalContent-info-3oNQ9g",deviceImage:"DVRDeviceSettingsModalContent-deviceImage-3ud4cE",model:"DVRDeviceSettingsModalContent-model-3qWA4s",settings:"DVRDeviceSettingsModalContent-settings-3-KyiK"}},function(e,t,n){e.exports={header:"ShareLibraryServerLibraries-header-3-lvJ_",toggleButton:"ShareLibraryServerLibraries-toggleButton-2k6pgE Link-link-2n0yJn",toggleButtonHidden:"ShareLibraryServerLibraries-toggleButtonHidden-cin3vQ ShareLibraryServerLibraries-toggleButton-2k6pgE Link-link-2n0yJn",libraries:"ShareLibraryServerLibraries-libraries-2oGqFC",hidden:"ShareLibraryServerLibraries-hidden-3DTrNi",emptyMessage:"ShareLibraryServerLibraries-emptyMessage-3Sr7Na"}},function(e,t,n){e.exports={form:"ShareLibraryLibraries-form-3q_XJa",modalBody:"ShareLibraryLibraries-modalBody-17F_gb ModalBody-modalBody--5uHSu",message:"ShareLibraryLibraries-message-3UyUtE",spinnerContainer:"ShareLibraryLibraries-spinnerContainer-aFtfte",scroller:"ShareLibraryLibraries-scroller-2oQPx1 Scroller-vertical-VScFLT",modalFooter:"ShareLibraryLibraries-modalFooter-1syKzy ModalFooter-modalFooter-30WIB5"}},function(e,t,n){e.exports={container:"ShareLibrarySummary-container-1Fg1Pi",modalBody:"ShareLibrarySummary-modalBody-2buHgM ModalBody-modalBody--5uHSu",content:"ShareLibrarySummary-content-pOReeu",inviteLink:"ShareLibrarySummary-inviteLink-1_5B49",input:"ShareLibrarySummary-input-1uIlOe TextInput-input-1VMuma input-input-1P2Vi4",copyLink:"ShareLibrarySummary-copyLink-3hJ9In Link-link-2n0yJn",modalFooter:"ShareLibrarySummary-modalFooter-3WAdTx ModalFooter-modalFooter-30WIB5"}},function(e,t,n){e.exports={button:"ShareLibraryUser-button-3OMZKZ Button-button-2kT68l Link-link-2n0yJn",avatar:"ShareLibraryUser-avatar-fGzJ5E AvatarImg-avatar-3Op56u",titleContainer:"ShareLibraryUser-titleContainer-3uXT6L",title:"ShareLibraryUser-title-18rxYY",email:"ShareLibraryUser-email-1Zkrmo",homeIcon:"ShareLibraryUser-homeIcon-zJ2D9J"}},function(e,t,n){e.exports={pageContent:"ServerLog-pageContent-3VPW5Y PageContent-pageContent-16mK6G",hiddenPageContent:"ServerLog-hiddenPageContent-2lLY70",pageContentScroller:"ServerLog-pageContentScroller-1gN08N",rawTextScroller:"ServerLog-rawTextScroller-bQAXSk",jumpLinkVisible:"ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn",jumpLinkHidden:"ServerLog-jumpLinkHidden-1de4QU ServerLog-jumpLinkVisible-3DIQ4u Link-link-2n0yJn"}},function(e,t,n){e.exports={container:"MediaSubscriptionHintPosterTitle-container-1YkOT9",left:"MediaSubscriptionHintPosterTitle-left-2X9d4r",right:"MediaSubscriptionHintPosterTitle-right-3zh2jU",subscriptionBadge:"MediaSubscriptionHintPosterTitle-subscriptionBadge-k6PWnh MetadataPosterCardOverlay-badge-1FU-pf",subscriptionBadgeIcon:"MediaSubscriptionHintPosterTitle-subscriptionBadgeIcon-2JWgb6",titleContainer:"MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc",staticHeightTitleContainer:"MediaSubscriptionHintPosterTitle-staticHeightTitleContainer-3HS2ME MediaSubscriptionHintPosterTitle-titleContainer-2vZUMc"}},function(e,t,n){e.exports={downloadIcon:"DownloadIcon-downloadIcon-351NIN PlexIcon-plexIcon-8Tamaj",hasShadow:"DownloadIcon-hasShadow-5mpN0m",arrowIcon:"DownloadIcon-arrowIcon-2Lp78c",progressBarContainer:"DownloadIcon-progressBarContainer-1Qpx70 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",hasProgress:"DownloadIcon-hasProgress-2Wq4Tq",showIndeterminate:"DownloadIcon-showIndeterminate-rVIAWL"}},function(e,t,n){e.exports={seekBar:"SeekBar-seekBar-2UK3iX Slider-slider-2oLVTs",seekBarTrack:"SeekBar-seekBarTrack-3Gu5RX Slider-track-28JOSn",seekBarFill:"SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs",seekBarBuffer:"SeekBar-seekBarBuffer-3bUz95 Slider-secondaryFill-31_05F Slider-fill-35GFqs",noFillTransition:"SeekBar-noFillTransition-2hHzCv"}},function(e,t,n){e.exports={measure:"AudioVideoFullMusic-measure-3rspAQ",content:"AudioVideoFullMusic-content-7Qnq7O",card:"AudioVideoFullMusic-card-3HHZDw MetadataPosterCard-card-3bztRc",titlesContainer:"AudioVideoFullMusic-titlesContainer-1f9NMl",title:"AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",primaryTitle:"AudioVideoFullMusic-primaryTitle-sT84wu AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9",secondaryTitle:"AudioVideoFullMusic-secondaryTitle-2tx_Bf AudioVideoFullMusic-title-2fZRLT MetadataPosterTitle-title-3tU5F9"}},function(e,t,n){e.exports={container:"AudioVideoPlayerPlayQueueMetadata-container-sM2h0v",cardContainer:"AudioVideoPlayerPlayQueueMetadata-cardContainer-vcGvjG",card:"AudioVideoPlayerPlayQueueMetadata-card-18P30N QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6",titlesContainer:"AudioVideoPlayerPlayQueueMetadata-titlesContainer-2G9lRp",sourceText:"AudioVideoPlayerPlayQueueMetadata-sourceText-2jMM6D",durationContainer:"AudioVideoPlayerPlayQueueMetadata-durationContainer-2dgI92"}},function(e,t,n){e.exports={control:"PhotoMap-control-3PVoKg",underlay:"PhotoMap-underlay-EsEVBH",loading:"PhotoMap-loading-1TLcP1",map:"PhotoMap-map-3J2kw2",pin:"PhotoMap-pin-2X7JvR",error:"PhotoMap-error-1Fk9ji"}},function(e,t,n){e.exports={strip:"PhotoStrip-strip-q6m2Bg",thumbs:"PhotoStrip-thumbs-2iLLAJ",cell:"PhotoStrip-cell-NRVDib",thumbContainer:"PhotoStrip-thumbContainer-1kU-fS",isSelected:"PhotoStrip-isSelected-3exw8b",thumb:"PhotoStrip-thumb-eGqcdL",thumbOverlay:"PhotoStrip-thumbOverlay-gC5wmR"}},function(e,t,n){e.exports={link:"SourcesToggleButton-link-O75VbU",icon:"SourcesToggleButton-icon-2cbEY1",pinnedIcon:"SourcesToggleButton-pinnedIcon-3o85VC SourcesToggleButton-icon-2cbEY1",unclaimedImage:"SourcesToggleButton-unclaimedImage-3GLPXd",topBorder:"SourcesToggleButton-topBorder-30Yrnv",bottomBorder:"SourcesToggleButton-bottomBorder-34MxB6"}},function(e,t,n){e.exports={sidebarUnderlay:"SourceSidebar-sidebarUnderlay-2odIuy",sidebar:"SourceSidebar-sidebar-YpV2mw",collapsedSidebar:"SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",expandedSidebar:"SourceSidebar-expandedSidebar-ljacXC SourceSidebar-sidebar-YpV2mw",openSidebar:"SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw",pane:"SourceSidebar-pane-3b3ayx",heading:"SourceSidebar-heading-2EO2Ee",footer:"SourceSidebar-footer-h1OTb1",toggleMenuButton:"SourceSidebar-toggleMenuButton-3rDpsd",toggleMenuIcon:"SourceSidebar-toggleMenuIcon-2FNbrD"}},function(e,t,n){e.exports={listItem:"HomeHubListItem-listItem-3aSc2w",label:"HomeHubListItem-label-1g_Fbz",title:"HomeHubListItem-title-3xEA84",isRemoved:"HomeHubListItem-isRemoved-HpH7U3",iconReorder:"HomeHubListItem-iconReorder-1GrJsE",toggleButton:"HomeHubListItem-toggleButton-2C4qs1 AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I"}},function(e,t,n){e.exports={container:"PageHeaderTabDropdown-container-24xGAL",button:"PageHeaderTabDropdown-button-3bolBi PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",buttonContents:"PageHeaderTabDropdown-buttonContents-GDhP2H",title:"PageHeaderTabDropdown-title-2myggE",disclosureArrow:"PageHeaderTabDropdown-disclosureArrow-sMJzCd DisclosureArrow-disclosureArrow-1KPaBC",isSelected:"PageHeaderTabDropdown-isSelected-FK5pDv"}},function(e,t,n){e.exports={completeIcon:"AiringDetailsModalContent-completeIcon-38k0QF",recordingIcon:"AiringDetailsModalContent-recordingIcon-LbdQNk",errorIcon:"AiringDetailsModalContent-errorIcon-3syeNu",separator:"AiringDetailsModalContent-separator-3OQLc5 DashSeparator-separator-4CyEFW",summary:"AiringDetailsModalContent-summary-vVorLB"}},function(e,t,n){e.exports={calendarHeaderContainer:"CalendarHeader-calendarHeaderContainer-2f7fSq",calendarHeader:"CalendarHeader-calendarHeader-moR_Hb",calendarNav:"CalendarHeader-calendarNav-rIR1ko Link-link-2n0yJn",calendarNavDisabled:"CalendarHeader-calendarNavDisabled-1bqai2"}},function(e,t,n){var r=n(692),i=n(542);e.exports=Object.keys||function(e){return r(e,i)}},function(e,t,n){var r=n(137);e.exports=Array.isArray||function(e){return"Array"==r(e)}},function(e,t,n){var r=n(704);e.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n,i),t?e.call(n,i):n.__proto__=i,n}}():void 0)},function(e,t,n){"use strict";var r=n(548),i=n(71),a=n(67),o=n(63)("species");e.exports=function(e){var t=r(e),n=i.f;a&&t&&!t[o]&&n(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,n){var r=n(113);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},function(e,t,n){var r=n(62),i=n(545),a=n(65),o=n(204),s=n(359),l=n(701),c={};(e.exports=function(e,t,n,u,d){var p,h,f,g,v,m=o(t,n,u?2:1);if(d)p=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(f=0,g=a(e.length);g>f;f++)if((u?m(r(v=e[f])[0],v[1]):m(e[f]))===c)return c;return}p=h.call(e)}for(;!(v=p.next()).done;)if(l(p,m,v.value,u)===c)return c}).BREAK=c},function(e,t,n){var r=n(127),i="["+n(425)+"]",a=RegExp("^"+i+i+"*"),o=RegExp(i+i+"*$");e.exports=function(e,t){return e=String(r(e)),1&t&&(e=e.replace(a,"")),2&t&&(e=e.replace(o,"")),e}},function(e,t){e.exports=function(e,t,n){return e!==t?n.fn(this):n.inverse(this)}},function(e,t,n){(function(r){var i,a,o;o="object"==typeof self&&self.self==self&&self||"object"==typeof r&&r.global==r&&r,i=[n(5),n(8),t],void 0===(a=function(e,t,n){o.Backbone=function(e,t,n,r){var i=e.Backbone,a=Array.prototype.slice;t.VERSION="1.2.3",t.$=r,t.noConflict=function(){return e.Backbone=i,this},t.emulateHTTP=!1,t.emulateJSON=!1;var o=function(e,t,r){n.each(t,function(t,i){n[i]&&(e.prototype[i]=function(e,t,r){switch(e){case 1:return function(){return n[t](this[r])};case 2:return function(e){return n[t](this[r],e)};case 3:return function(e,i){return n[t](this[r],s(e,this),i)};case 4:return function(e,i,a){return n[t](this[r],s(e,this),i,a)};default:return function(){var e=a.call(arguments);return e.unshift(this[r]),n[t].apply(n,e)}}}(t,i,r))})},s=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},u=/\s+/,d=function(e,t,r,i,a){var o,s=0;if(r&&"object"==typeof r){void 0!==i&&"context"in a&&void 0===a.context&&(a.context=i);for(o=n.keys(r);s<o.length;s++)t=d(e,t,o[s],r[o[s]],a)}else if(r&&u.test(r))for(o=r.split(u);s<o.length;s++)t=e(t,o[s],i,a);else t=e(t,r,i,a);return t};c.on=function(e,t,n){return p(this,e,t,n)};var p=function(e,t,n,r,i){if(e._events=d(h,e._events||{},t,n,{context:r,ctx:e,listening:i}),i){var a=e._listeners||(e._listeners={});a[i.id]=i}return e};c.listenTo=function(e,t,r){if(!e)return this;var i=e._listenId||(e._listenId=n.uniqueId("l")),a=this._listeningTo||(this._listeningTo={}),o=a[i];if(!o){var s=this._listenId||(this._listenId=n.uniqueId("l"));o=a[i]={obj:e,objId:i,id:s,listeningTo:a,count:0}}return p(e,t,r,this,o),this};var h=function(e,t,n,r){if(n){var i=e[t]||(e[t]=[]),a=r.context,o=r.ctx,s=r.listening;s&&s.count++,i.push({callback:n,context:a,ctx:a||o,listening:s})}return e};c.off=function(e,t,n){return this._events?(this._events=d(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,r){var i=this._listeningTo;if(!i)return this;for(var a=e?[e._listenId]:n.keys(i),o=0;o<a.length;o++){var s=i[a[o]];if(!s)break;s.obj.off(t,r,this)}return n.isEmpty(i)&&(this._listeningTo=void 0),this};var f=function(e,t,r,i){if(e){var a,o=0,s=i.context,l=i.listeners;if(t||r||s){for(var c=t?[t]:n.keys(e);o<c.length;o++){t=c[o];var u=e[t];if(!u)break;for(var d=[],p=0;p<u.length;p++){var h=u[p];r&&r!==h.callback&&r!==h.callback._callback||s&&s!==h.context?d.push(h):(a=h.listening)&&0==--a.count&&(delete l[a.id],delete a.listeningTo[a.objId])}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var f=n.keys(l);o<f.length;o++)a=l[f[o]],delete l[a.id],delete a.listeningTo[a.objId]}};c.once=function(e,t,r){var i=d(g,{},e,t,n.bind(this.off,this));return this.on(i,void 0,r)},c.listenToOnce=function(e,t,r){var i=d(g,{},t,r,n.bind(this.stopListening,this,e));return this.listenTo(e,i)};var g=function(e,t,r,i){if(r){var a=e[t]=n.once(function(){i(t,a),r.apply(this,arguments)});a._callback=r}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),r=0;r<t;r++)n[r]=arguments[r+1];return d(v,this._events,e,void 0,n),this};var v=function(e,t,n,r){if(e){var i=e[t],a=e.all;i&&a&&(a=a.slice()),i&&m(i,r),a&&m(a,[t].concat(r))}return e},m=function(e,t){var n,r=-1,i=e.length,a=t[0],o=t[1],s=t[2];switch(t.length){case 0:for(;++r<i;)(n=e[r]).callback.call(n.ctx);return;case 1:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a);return;case 2:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o);return;case 3:for(;++r<i;)(n=e[r]).callback.call(n.ctx,a,o,s);return;default:for(;++r<i;)(n=e[r]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var y=t.Model=function(e,t){var r=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(r=this.parse(r,t)||{}),r=n.defaults({},r,n.result(this,"defaults")),this.set(r,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(y.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,r){if(null==e)return this;var i;if("object"==typeof e?(i=e,r=t):(i={})[e]=t,r||(r={}),!this._validate(i,r))return!1;var a=r.unset,o=r.silent,s=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var p in i)t=i[p],n.isEqual(c[p],t)||s.push(p),n.isEqual(d[p],t)?delete u[p]:u[p]=t,a?delete c[p]:c[p]=t;if(this.id=this.get(this.idAttribute),!o){s.length&&(this._pending=r);for(var h=0;h<s.length;h++)this.trigger("change:"+s[h],this,c[s[h]],r)}if(l)return this;if(!o)for(;this._pending;)r=this._pending,this._pending=!1,this.trigger("change",this,r);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var r in this.attributes)t[r]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,r={};for(var i in e){var a=e[i];n.isEqual(t[i],a)||(r[i]=a)}return!!n.size(r)&&r},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=n.extend({parse:!0},e);var t=this,r=e.success;return e.success=function(n){var i=e.parse?t.parse(n,e):n;if(!t.set(i,e))return!1;r&&r.call(e.context,t,n,e),t.trigger("sync",t,n,e)},_(this,e),this.sync("read",this,e)},save:function(e,t,r){var i;null==e||"object"==typeof e?(i=e,r=t):(i={})[e]=t;var a=(r=n.extend({validate:!0,parse:!0},r)).wait;if(i&&!a){if(!this.set(i,r))return!1}else if(!this._validate(i,r))return!1;var o=this,s=r.success,l=this.attributes;r.success=function(e){o.attributes=l;var t=r.parse?o.parse(e,r):e;if(a&&(t=n.extend({},i,t)),t&&!o.set(t,r))return!1;s&&s.call(r.context,o,e,r),o.trigger("sync",o,e,r)},_(this,r),i&&a&&(this.attributes=n.extend({},l,i));var c=this.isNew()?"create":r.patch?"patch":"update";"patch"!==c||r.attrs||(r.attrs=i);var u=this.sync(c,this,r);return this.attributes=l,u},destroy:function(e){e=e?n.clone(e):{};var t=this,r=e.success,i=e.wait,a=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){i&&a(),r&&r.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var o=!1;return this.isNew()?n.defer(e.success):(_(this,e),o=this.sync("delete",this,e)),i||a(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||R();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var r=this.validationError=this.validate(e,t)||null;return!r||(this.trigger("invalid",this,r,n.extend(t,{validationError:r})),!1)}}),o(y,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var b=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},S={add:!0,remove:!0,merge:!0},I={add:!0,remove:!1},C=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var r=Array(e.length-n),i=t.length,a=0;a<r.length;a++)r[a]=e[a+n];for(a=0;a<i;a++)e[a+n]=t[a];for(a=0;a<r.length;a++)e[a+i+n]=r[a]};n.extend(b.prototype,c,{model:y,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,I))},remove:function(e,t){t=n.extend({},t);var r=!n.isArray(e);e=r?[e]:n.clone(e);var i=this._removeModels(e,t);return!t.silent&&i&&this.trigger("update",this,t),r?i[0]:i},set:function(e,t){if(null!=e){(t=n.defaults({},t,S)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var r=!n.isArray(e);e=r?e?[e]:[]:e.slice();var i=t.at;null!=i&&(i=+i),i<0&&(i+=this.length+1);for(var a,o=[],s=[],l=[],c={},u=t.add,d=t.merge,p=t.remove,h=!1,f=this.comparator&&null==i&&!1!==t.sort,g=n.isString(this.comparator)?this.comparator:null,v=0;v<e.length;v++){a=e[v];var m=this.get(a);if(m){if(d&&a!==m){var y=this._isModel(a)?a.attributes:a;t.parse&&(y=m.parse(y,t)),m.set(y,t),f&&!h&&(h=m.hasChanged(g))}c[m.cid]||(c[m.cid]=!0,o.push(m)),e[v]=m}else u&&(a=e[v]=this._prepareModel(a,t))&&(s.push(a),this._addReference(a,t),c[a.cid]=!0,o.push(a))}if(p){for(v=0;v<this.length;v++)a=this.models[v],c[a.cid]||l.push(a);l.length&&this._removeModels(l,t)}var b=!1,I=!f&&u&&p;if(o.length&&I?(b=this.length!=o.length||n.some(this.models,function(e,t){return e!==o[t]}),this.models.length=0,C(this.models,o,0),this.length=this.models.length):s.length&&(f&&(h=!0),C(this.models,s,null==i?this.length:i),this.length=this.models.length),h&&this.sort({silent:!0}),!t.silent){for(v=0;v<s.length;v++)null!=i&&(t.index=i+v),(a=s[v]).trigger("add",a,this,t);(h||b)&&this.trigger("sort",this,t),(s.length||l.length)&&this.trigger("update",this,t)}return r?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var r=0;r<this.models.length;r++)this._removeReference(this.models[r],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return a.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var r=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===r||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,r=this;return e.success=function(n){var i=e.reset?"reset":"set";r[i](n,e),t&&t.call(e.context,r,n,e),r.trigger("sync",r,n,e)},_(this,e),this.sync("read",this,e)},create:function(e,t){var r=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;r||this.add(e,t);var i=this,a=t.success;return t.success=function(e,t,n){r&&i.add(e,n),a&&a.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var r=new this.model(e,t);return r.validationError?(this.trigger("invalid",this,r.validationError,t),!1):r},_removeModels:function(e,t){for(var n=[],r=0;r<e.length;r++){var i=this.get(e[r]);if(i){var a=this.indexOf(i);this.models.splice(a,1),this.length--,t.silent||(t.index=a,i.trigger("remove",i,this,t)),n.push(i),this._removeReference(i,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof y},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,r){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,r),"change"===e){var i=this.modelId(t.previousAttributes()),a=this.modelId(t.attributes);i!==a&&(null!=i&&delete this._byId[i],null!=a&&(this._byId[a]=t))}this.trigger.apply(this,arguments)}}}),o(b,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var M=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,w)),this._ensureElement(),this.initialize.apply(this,arguments)},D=/^(\S+)\s*(.*)$/,w=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var r=e[t];if(n.isFunction(r)||(r=this[r]),r){var i=t.match(D);this.delegate(i[1],i[2],n.bind(r,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,r,i){var a=P[e];n.defaults(i||(i={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var o={type:a,dataType:"json"};if(i.url||(o.url=n.result(r,"url")||R()),null!=i.data||!r||"create"!==e&&"update"!==e&&"patch"!==e||(o.contentType="application/json",o.data=JSON.stringify(i.attrs||r.toJSON(i))),i.emulateJSON&&(o.contentType="application/x-www-form-urlencoded",o.data=o.data?{model:o.data}:{}),i.emulateHTTP&&("PUT"===a||"DELETE"===a||"PATCH"===a)){o.type="POST",i.emulateJSON&&(o.data._method=a);var s=i.beforeSend;i.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",a),s)return s.apply(this,arguments)}}"GET"===o.type||i.emulateJSON||(o.processData=!1);var l=i.error;i.error=function(e,t,n){i.textStatus=t,i.errorThrown=n,l&&l.call(i.context,e,t,n)};var c=i.xhr=t.ajax(n.extend(o,i));return r.trigger("request",r,c,i),c};var P={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var T=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},E=/\((.*?)\)/g,x=/(\(\?)?:\w+/g,O=/\*\w+/g,j=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(T.prototype,c,{initialize:function(){},route:function(e,r,i){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(r)&&(i=r,r=""),i||(i=this[r]);var a=this;return t.history.route(e,function(n){var o=a._extractParameters(e,n);!1!==a.execute(i,o,r)&&(a.trigger.apply(a,["route:"+r].concat(o)),a.trigger("route",r,o),t.history.trigger("route",a,r,o))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(j,"\\$&").replace(E,"(?:$1)?").replace(x,function(e,t){return t?e:"([^/?]+)"}).replace(O,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var r=e.exec(t).slice(1);return n.map(r,function(e,t){return t===r.length-1?e||null:e?decodeURIComponent(e):null})}});var A=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,k=/^\/+|\/+$/g,L=/#.*$/;A.started=!1,n.extend(A.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(N,"")},start:function(e){if(A.started)throw new Error("Backbone.history has already been started");if(A.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(k,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var r=document.body,i=r.insertBefore(this.iframe,r.firstChild).contentWindow;i.document.open(),i.document.close(),i.location.hash="#"+this.fragment}var a=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?a("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?a("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),A.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!A.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var r=n+e;e=e.replace(L,"");var i=this.decodeFragment(e);if(this.fragment!==i){if(this.fragment=i,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,r);else{if(!this._wantsHashChange)return this.location.assign(r);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var a=this.iframe.contentWindow;t.replace||(a.document.open(),a.document.close()),this._updateHash(a.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var r=e.href.replace(/(javascript:|#).*$/,"");e.replace(r+"#"+t)}else e.hash="#"+t}}),t.history=new A,y.extend=b.extend=T.extend=M.extend=A.extend=function(e,t){var r,i=this;r=e&&n.has(e,"constructor")?e.constructor:function(){return i.apply(this,arguments)},n.extend(r,i,t);var a=function(){this.constructor=r};return a.prototype=i.prototype,r.prototype=new a,e&&n.extend(r.prototype,e),r.__super__=i.prototype,r};var R=function(){throw new Error('A "url" property or function must be specified')},_=function(e,t){var n=t.error;t.error=function(r){n&&n.call(t.context,e,r,t),e.trigger("error",e,r,t)}};return t}(o,n,e,t)}.apply(t,i))||(e.exports=a)}).call(this,n(177))},function(e,t,n){(function(n){var r;
/*!
 * VERSION: 1.20.0
 * DATE: 2017-06-13
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
/*!
 * VERSION: 1.20.0
 * DATE: 2017-06-13
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 */
!function(n,i){"use strict";var a={},o=n.document,s=n.GreenSockGlobals=n.GreenSockGlobals||n;if(!s.TweenLite){var l,c,u,d,p,h=function(e){var t,n=e.split("."),r=s;for(t=0;t<n.length;t++)r[n[t]]=r=r[n[t]]||{};return r},f=h("com.greensock"),g=function(e){var t,n=[],r=e.length;for(t=0;t!==r;n.push(e[t++]));return n},v=function(){},m=function(){var e=Object.prototype.toString,t=e.call([]);return function(n){return null!=n&&(n instanceof Array||"object"==typeof n&&!!n.push&&e.call(n)===t)}}(),y={},b=function(n,i,o,l){this.sc=y[n]?y[n].sc:[],y[n]=this,this.gsClass=null,this.func=o;var c=[];this.check=function(u){for(var d,p,f,g,v=i.length,m=v;--v>-1;)(d=y[i[v]]||new b(i[v],[])).gsClass?(c[v]=d.gsClass,m--):u&&d.sc.push(this);if(0===m&&o){if(f=(p=("com.greensock."+n).split(".")).pop(),g=h(p.join("."))[f]=this.gsClass=o.apply(o,c),l)if(s[f]=a[f]=g,e.exports)if("TweenLite"===n)for(v in e.exports=a.TweenLite=g,a)g[v]=a[v];else a.TweenLite&&(a.TweenLite[f]=g);else void 0===(r=function(){return g}.apply(t,[]))||(e.exports=r);for(v=0;v<this.sc.length;v++)this.sc[v].check()}},this.check(!0)},S=n._gsDefine=function(e,t,n,r){return new b(e,t,n,r)},I=f._class=function(e,t,n){return t=t||function(){},S(e,[],function(){return t},n),t};S.globals=s;var C=[0,0,1,1],M=I("easing.Ease",function(e,t,n,r){this._func=e,this._type=n||0,this._power=r||0,this._params=t?C.concat(t):C},!0),D=M.map={},w=M.register=function(e,t,n,r){for(var i,a,o,s,l=t.split(","),c=l.length,u=(n||"easeIn,easeOut,easeInOut").split(",");--c>-1;)for(a=l[c],i=r?I("easing."+a,null,!0):f.easing[a]||{},o=u.length;--o>-1;)s=u[o],D[a+"."+s]=D[s+a]=i[s]=e.getRatio?e:e[s]||new e};for((u=M.prototype)._calcEnd=!1,u.getRatio=function(e){if(this._func)return this._params[0]=e,this._func.apply(null,this._params);var t=this._type,n=this._power,r=1===t?1-e:2===t?e:e<.5?2*e:2*(1-e);return 1===n?r*=r:2===n?r*=r*r:3===n?r*=r*r*r:4===n&&(r*=r*r*r*r),1===t?1-r:2===t?r:e<.5?r/2:1-r/2},c=(l=["Linear","Quad","Cubic","Quart","Quint,Strong"]).length;--c>-1;)u=l[c]+",Power"+c,w(new M(null,null,1,c),u,"easeOut",!0),w(new M(null,null,2,c),u,"easeIn"+(0===c?",easeNone":"")),w(new M(null,null,3,c),u,"easeInOut");D.linear=f.easing.Linear.easeIn,D.swing=f.easing.Quad.easeInOut;var P=I("events.EventDispatcher",function(e){this._listeners={},this._eventTarget=e||this});(u=P.prototype).addEventListener=function(e,t,n,r,i){i=i||0;var a,o,s=this._listeners[e],l=0;for(this!==d||p||d.wake(),null==s&&(this._listeners[e]=s=[]),o=s.length;--o>-1;)(a=s[o]).c===t&&a.s===n?s.splice(o,1):0===l&&a.pr<i&&(l=o+1);s.splice(l,0,{c:t,s:n,up:r,pr:i})},u.removeEventListener=function(e,t){var n,r=this._listeners[e];if(r)for(n=r.length;--n>-1;)if(r[n].c===t)return void r.splice(n,1)},u.dispatchEvent=function(e){var t,n,r,i=this._listeners[e];if(i)for((t=i.length)>1&&(i=i.slice(0)),n=this._eventTarget;--t>-1;)(r=i[t])&&(r.up?r.c.call(r.s||n,{type:e,target:n}):r.c.call(r.s||n))};var T=n.requestAnimationFrame,E=n.cancelAnimationFrame,x=Date.now||function(){return(new Date).getTime()},O=x();for(c=(l=["ms","moz","webkit","o"]).length;--c>-1&&!T;)T=n[l[c]+"RequestAnimationFrame"],E=n[l[c]+"CancelAnimationFrame"]||n[l[c]+"CancelRequestAnimationFrame"];I("Ticker",function(e,t){var n,r,i,a,s,l=this,c=x(),u=!(!1===t||!T)&&"auto",h=500,f=33,g=function(e){var t,o,u=x()-O;u>h&&(c+=u-f),O+=u,l.time=(O-c)/1e3,t=l.time-s,(!n||t>0||!0===e)&&(l.frame++,s+=t+(t>=a?.004:a-t),o=!0),!0!==e&&(i=r(g)),o&&l.dispatchEvent("tick")};P.call(l),l.time=l.frame=0,l.tick=function(){g(!0)},l.lagSmoothing=function(e,t){h=e||1e10,f=Math.min(t,h,0)},l.sleep=function(){null!=i&&(u&&E?E(i):clearTimeout(i),r=v,i=null,l===d&&(p=!1))},l.wake=function(e){null!==i?l.sleep():e?c+=-O+(O=x()):l.frame>10&&(O=x()-h+5),r=0===n?v:u&&T?T:function(e){return setTimeout(e,1e3*(s-l.time)+1|0)},l===d&&(p=!0),g(2)},l.fps=function(e){if(!arguments.length)return n;a=1/((n=e)||60),s=this.time+a,l.wake()},l.useRAF=function(e){if(!arguments.length)return u;l.sleep(),u=e,l.fps(n)},l.fps(e),setTimeout(function(){"auto"===u&&l.frame<5&&"hidden"!==o.visibilityState&&l.useRAF(!1)},1500)}),(u=f.Ticker.prototype=new f.events.EventDispatcher).constructor=f.Ticker;var j=I("core.Animation",function(e,t){if(this.vars=t=t||{},this._duration=this._totalDuration=e||0,this._delay=Number(t.delay)||0,this._timeScale=1,this._active=!0===t.immediateRender,this.data=t.data,this._reversed=!0===t.reversed,Z){p||d.wake();var n=this.vars.useFrames?q:Z;n.add(this,n._time),this.vars.paused&&this.paused(!0)}});d=j.ticker=new f.Ticker,(u=j.prototype)._dirty=u._gc=u._initted=u._paused=!1,u._totalTime=u._time=0,u._rawPrevTime=-1,u._next=u._last=u._onUpdate=u._timeline=u.timeline=null,u._paused=!1;var A=function(){p&&x()-O>2e3&&"hidden"!==o.visibilityState&&d.wake();var e=setTimeout(A,2e3);e.unref&&e.unref()};A(),u.play=function(e,t){return null!=e&&this.seek(e,t),this.reversed(!1).paused(!1)},u.pause=function(e,t){return null!=e&&this.seek(e,t),this.paused(!0)},u.resume=function(e,t){return null!=e&&this.seek(e,t),this.paused(!1)},u.seek=function(e,t){return this.totalTime(Number(e),!1!==t)},u.restart=function(e,t){return this.reversed(!1).paused(!1).totalTime(e?-this._delay:0,!1!==t,!0)},u.reverse=function(e,t){return null!=e&&this.seek(e||this.totalDuration(),t),this.reversed(!0).paused(!1)},u.render=function(e,t,n){},u.invalidate=function(){return this._time=this._totalTime=0,this._initted=this._gc=!1,this._rawPrevTime=-1,!this._gc&&this.timeline||this._enabled(!0),this},u.isActive=function(){var e,t=this._timeline,n=this._startTime;return!t||!this._gc&&!this._paused&&t.isActive()&&(e=t.rawTime(!0))>=n&&e<n+this.totalDuration()/this._timeScale-1e-7},u._enabled=function(e,t){return p||d.wake(),this._gc=!e,this._active=this.isActive(),!0!==t&&(e&&!this.timeline?this._timeline.add(this,this._startTime-this._delay):!e&&this.timeline&&this._timeline._remove(this,!0)),!1},u._kill=function(e,t){return this._enabled(!1,!1)},u.kill=function(e,t){return this._kill(e,t),this},u._uncache=function(e){for(var t=e?this:this.timeline;t;)t._dirty=!0,t=t.timeline;return this},u._swapSelfInParams=function(e){for(var t=e.length,n=e.concat();--t>-1;)"{self}"===e[t]&&(n[t]=this);return n},u._callback=function(e){var t=this.vars,n=t[e],r=t[e+"Params"],i=t[e+"Scope"]||t.callbackScope||this;switch(r?r.length:0){case 0:n.call(i);break;case 1:n.call(i,r[0]);break;case 2:n.call(i,r[0],r[1]);break;default:n.apply(i,r)}},u.eventCallback=function(e,t,n,r){if("on"===(e||"").substr(0,2)){var i=this.vars;if(1===arguments.length)return i[e];null==t?delete i[e]:(i[e]=t,i[e+"Params"]=m(n)&&-1!==n.join("").indexOf("{self}")?this._swapSelfInParams(n):n,i[e+"Scope"]=r),"onUpdate"===e&&(this._onUpdate=t)}return this},u.delay=function(e){return arguments.length?(this._timeline.smoothChildTiming&&this.startTime(this._startTime+e-this._delay),this._delay=e,this):this._delay},u.duration=function(e){return arguments.length?(this._duration=this._totalDuration=e,this._uncache(!0),this._timeline.smoothChildTiming&&this._time>0&&this._time<this._duration&&0!==e&&this.totalTime(this._totalTime*(e/this._duration),!0),this):(this._dirty=!1,this._duration)},u.totalDuration=function(e){return this._dirty=!1,arguments.length?this.duration(e):this._totalDuration},u.time=function(e,t){return arguments.length?(this._dirty&&this.totalDuration(),this.totalTime(e>this._duration?this._duration:e,t)):this._time},u.totalTime=function(e,t,n){if(p||d.wake(),!arguments.length)return this._totalTime;if(this._timeline){if(e<0&&!n&&(e+=this.totalDuration()),this._timeline.smoothChildTiming){this._dirty&&this.totalDuration();var r=this._totalDuration,i=this._timeline;if(e>r&&!n&&(e=r),this._startTime=(this._paused?this._pauseTime:i._time)-(this._reversed?r-e:e)/this._timeScale,i._dirty||this._uncache(!1),i._timeline)for(;i._timeline;)i._timeline._time!==(i._startTime+i._totalTime)/i._timeScale&&i.totalTime(i._totalTime,!0),i=i._timeline}this._gc&&this._enabled(!0,!1),this._totalTime===e&&0!==this._duration||(R.length&&J(),this.render(e,t,!1),R.length&&J())}return this},u.progress=u.totalProgress=function(e,t){var n=this.duration();return arguments.length?this.totalTime(n*e,t):n?this._time/n:this.ratio},u.startTime=function(e){return arguments.length?(e!==this._startTime&&(this._startTime=e,this.timeline&&this.timeline._sortChildren&&this.timeline.add(this,e-this._delay)),this):this._startTime},u.endTime=function(e){return this._startTime+(0!=e?this.totalDuration():this.duration())/this._timeScale},u.timeScale=function(e){if(!arguments.length)return this._timeScale;if(e=e||1e-10,this._timeline&&this._timeline.smoothChildTiming){var t=this._pauseTime,n=t||0===t?t:this._timeline.totalTime();this._startTime=n-(n-this._startTime)*this._timeScale/e}return this._timeScale=e,this._uncache(!1)},u.reversed=function(e){return arguments.length?(e!=this._reversed&&(this._reversed=e,this.totalTime(this._timeline&&!this._timeline.smoothChildTiming?this.totalDuration()-this._totalTime:this._totalTime,!0)),this):this._reversed},u.paused=function(e){if(!arguments.length)return this._paused;var t,n,r=this._timeline;return e!=this._paused&&r&&(p||e||d.wake(),n=(t=r.rawTime())-this._pauseTime,!e&&r.smoothChildTiming&&(this._startTime+=n,this._uncache(!1)),this._pauseTime=e?t:null,this._paused=e,this._active=this.isActive(),!e&&0!==n&&this._initted&&this.duration()&&(t=r.smoothChildTiming?this._totalTime:(t-this._startTime)/this._timeScale,this.render(t,t===this._totalTime,!0))),this._gc&&!e&&this._enabled(!0,!1),this};var N=I("core.SimpleTimeline",function(e){j.call(this,0,e),this.autoRemoveChildren=this.smoothChildTiming=!0});(u=N.prototype=new j).constructor=N,u.kill()._gc=!1,u._first=u._last=u._recent=null,u._sortChildren=!1,u.add=u.insert=function(e,t,n,r){var i,a;if(e._startTime=Number(t||0)+e._delay,e._paused&&this!==e._timeline&&(e._pauseTime=e._startTime+(this.rawTime()-e._startTime)/e._timeScale),e.timeline&&e.timeline._remove(e,!0),e.timeline=e._timeline=this,e._gc&&e._enabled(!0,!0),i=this._last,this._sortChildren)for(a=e._startTime;i&&i._startTime>a;)i=i._prev;return i?(e._next=i._next,i._next=e):(e._next=this._first,this._first=e),e._next?e._next._prev=e:this._last=e,e._prev=i,this._recent=e,this._timeline&&this._uncache(!0),this},u._remove=function(e,t){return e.timeline===this&&(t||e._enabled(!1,!0),e._prev?e._prev._next=e._next:this._first===e&&(this._first=e._next),e._next?e._next._prev=e._prev:this._last===e&&(this._last=e._prev),e._next=e._prev=e.timeline=null,e===this._recent&&(this._recent=this._last),this._timeline&&this._uncache(!0)),this},u.render=function(e,t,n){var r,i=this._first;for(this._totalTime=this._time=this._rawPrevTime=e;i;)r=i._next,(i._active||e>=i._startTime&&!i._paused&&!i._gc)&&(i._reversed?i.render((i._dirty?i.totalDuration():i._totalDuration)-(e-i._startTime)*i._timeScale,t,n):i.render((e-i._startTime)*i._timeScale,t,n)),i=r},u.rawTime=function(){return p||d.wake(),this._totalTime};var k=I("TweenLite",function(e,t,r){if(j.call(this,t,r),this.render=k.prototype.render,null==e)throw"Cannot tween a null target.";this.target=e="string"!=typeof e?e:k.selector(e)||e;var i,a,o,s=e.jquery||e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType),l=this.vars.overwrite;if(this._overwrite=l=null==l?K[k.defaultOverwrite]:"number"==typeof l?l>>0:K[l],(s||e instanceof Array||e.push&&m(e))&&"number"!=typeof e[0])for(this._targets=o=g(e),this._propLookup=[],this._siblings=[],i=0;i<o.length;i++)(a=o[i])?"string"!=typeof a?a.length&&a!==n&&a[0]&&(a[0]===n||a[0].nodeType&&a[0].style&&!a.nodeType)?(o.splice(i--,1),this._targets=o=o.concat(g(a))):(this._siblings[i]=$(a,this,!1),1===l&&this._siblings[i].length>1&&te(a,this,null,1,this._siblings[i])):"string"==typeof(a=o[i--]=k.selector(a))&&o.splice(i+1,1):o.splice(i--,1);else this._propLookup={},this._siblings=$(e,this,!1),1===l&&this._siblings.length>1&&te(e,this,null,1,this._siblings);(this.vars.immediateRender||0===t&&0===this._delay&&!1!==this.vars.immediateRender)&&(this._time=-1e-10,this.render(Math.min(0,-this._delay)))},!0),L=function(e){return e&&e.length&&e!==n&&e[0]&&(e[0]===n||e[0].nodeType&&e[0].style&&!e.nodeType)};(u=k.prototype=new j).constructor=k,u.kill()._gc=!1,u.ratio=0,u._firstPT=u._targets=u._overwrittenProps=u._startAt=null,u._notifyPluginsOfEnabled=u._lazy=!1,k.version="1.20.0",k.defaultEase=u._ease=new M(null,null,1,1),k.defaultOverwrite="auto",k.ticker=d,k.autoSleep=120,k.lagSmoothing=function(e,t){d.lagSmoothing(e,t)},k.selector=n.$||n.jQuery||function(e){var t=n.$||n.jQuery;return t?(k.selector=t,t(e)):void 0===o?e:o.querySelectorAll?o.querySelectorAll(e):o.getElementById("#"===e.charAt(0)?e.substr(1):e)};var R=[],_={},U=/(?:(-|-=|\+=)?\d*\.?\d*(?:e[\-+]?\d+)?)[0-9]/gi,z=/[\+-]=-?[\.\d]/,F=function(e){for(var t,n=this._firstPT;n;)t=n.blob?1===e&&this.end?this.end:e?this.join(""):this.start:n.c*e+n.s,n.m?t=n.m(t,this._target||n.t):t<1e-6&&t>-1e-6&&!n.blob&&(t=0),n.f?n.fp?n.t[n.p](n.fp,t):n.t[n.p](t):n.t[n.p]=t,n=n._next},B=function(e,t,n,r){var i,a,o,s,l,c,u,d=[],p=0,h="",f=0;for(d.start=e,d.end=t,e=d[0]=e+"",t=d[1]=t+"",n&&(n(d),e=d[0],t=d[1]),d.length=0,i=e.match(U)||[],a=t.match(U)||[],r&&(r._next=null,r.blob=1,d._firstPT=d._applyPT=r),l=a.length,s=0;s<l;s++)u=a[s],h+=(c=t.substr(p,t.indexOf(u,p)-p))||!s?c:",",p+=c.length,f?f=(f+1)%5:"rgba("===c.substr(-5)&&(f=1),u===i[s]||i.length<=s?h+=u:(h&&(d.push(h),h=""),o=parseFloat(i[s]),d.push(o),d._firstPT={_next:d._firstPT,t:d,p:d.length-1,s:o,c:("="===u.charAt(1)?parseInt(u.charAt(0)+"1",10)*parseFloat(u.substr(2)):parseFloat(u)-o)||0,f:0,m:f&&f<4?Math.round:0}),p+=u.length;return(h+=t.substr(p))&&d.push(h),d.setRatio=F,z.test(t)&&(d.end=0),d},H=function(e,t,n,r,i,a,o,s,l){"function"==typeof r&&(r=r(l||0,e));var c=typeof e[t],u="function"!==c?"":t.indexOf("set")||"function"!=typeof e["get"+t.substr(3)]?t:"get"+t.substr(3),d="get"!==n?n:u?o?e[u](o):e[u]():e[t],p="string"==typeof r&&"="===r.charAt(1),h={t:e,p:t,s:d,f:"function"===c,pg:0,n:i||t,m:a?"function"==typeof a?a:Math.round:0,pr:0,c:p?parseInt(r.charAt(0)+"1",10)*parseFloat(r.substr(2)):parseFloat(r)-d||0};if(("number"!=typeof d||"number"!=typeof r&&!p)&&(o||isNaN(d)||!p&&isNaN(r)||"boolean"==typeof d||"boolean"==typeof r?(h.fp=o,h={t:B(d,p?parseFloat(h.s)+h.c:r,s||k.defaultStringFilter,h),p:"setRatio",s:0,c:1,f:2,pg:0,n:i||t,pr:0,m:0}):(h.s=parseFloat(d),p||(h.c=parseFloat(r)-h.s||0))),h.c)return(h._next=this._firstPT)&&(h._next._prev=h),this._firstPT=h,h},V=k._internals={isArray:m,isSelector:L,lazyTweens:R,blobDif:B},Q=k._plugins={},W=V.tweenLookup={},G=0,Y=V.reservedProps={ease:1,delay:1,overwrite:1,onComplete:1,onCompleteParams:1,onCompleteScope:1,useFrames:1,runBackwards:1,startAt:1,onUpdate:1,onUpdateParams:1,onUpdateScope:1,onStart:1,onStartParams:1,onStartScope:1,onReverseComplete:1,onReverseCompleteParams:1,onReverseCompleteScope:1,onRepeat:1,onRepeatParams:1,onRepeatScope:1,easeParams:1,yoyo:1,immediateRender:1,repeat:1,repeatDelay:1,data:1,paused:1,reversed:1,autoCSS:1,lazy:1,onOverwrite:1,callbackScope:1,stringFilter:1,id:1,yoyoEase:1},K={none:0,all:1,auto:2,concurrent:3,allOnStart:4,preexisting:5,true:1,false:0},q=j._rootFramesTimeline=new N,Z=j._rootTimeline=new N,X=30,J=V.lazyRender=function(){var e,t=R.length;for(_={};--t>-1;)(e=R[t])&&!1!==e._lazy&&(e.render(e._lazy[0],e._lazy[1],!0),e._lazy=!1);R.length=0};Z._startTime=d.time,q._startTime=d.frame,Z._active=q._active=!0,setTimeout(J,1),j._updateRoot=k.render=function(){var e,t,n;if(R.length&&J(),Z.render((d.time-Z._startTime)*Z._timeScale,!1,!1),q.render((d.frame-q._startTime)*q._timeScale,!1,!1),R.length&&J(),d.frame>=X){for(n in X=d.frame+(parseInt(k.autoSleep,10)||120),W){for(e=(t=W[n].tweens).length;--e>-1;)t[e]._gc&&t.splice(e,1);0===t.length&&delete W[n]}if((!(n=Z._first)||n._paused)&&k.autoSleep&&!q._first&&1===d._listeners.tick.length){for(;n&&n._paused;)n=n._next;n||d.sleep()}}},d.addEventListener("tick",j._updateRoot);var $=function(e,t,n){var r,i,a=e._gsTweenID;if(W[a||(e._gsTweenID=a="t"+G++)]||(W[a]={target:e,tweens:[]}),t&&((r=W[a].tweens)[i=r.length]=t,n))for(;--i>-1;)r[i]===t&&r.splice(i,1);return W[a].tweens},ee=function(e,t,n,r){var i,a,o=e.vars.onOverwrite;return o&&(i=o(e,t,n,r)),(o=k.onOverwrite)&&(a=o(e,t,n,r)),!1!==i&&!1!==a},te=function(e,t,n,r,i){var a,o,s,l;if(1===r||r>=4){for(l=i.length,a=0;a<l;a++)if((s=i[a])!==t)s._gc||s._kill(null,e,t)&&(o=!0);else if(5===r)break;return o}var c,u=t._startTime+1e-10,d=[],p=0,h=0===t._duration;for(a=i.length;--a>-1;)(s=i[a])===t||s._gc||s._paused||(s._timeline!==t._timeline?(c=c||ne(t,0,h),0===ne(s,c,h)&&(d[p++]=s)):s._startTime<=u&&s._startTime+s.totalDuration()/s._timeScale>u&&((h||!s._initted)&&u-s._startTime<=2e-10||(d[p++]=s)));for(a=p;--a>-1;)if(s=d[a],2===r&&s._kill(n,e,t)&&(o=!0),2!==r||!s._firstPT&&s._initted){if(2!==r&&!ee(s,t))continue;s._enabled(!1,!1)&&(o=!0)}return o},ne=function(e,t,n){for(var r=e._timeline,i=r._timeScale,a=e._startTime;r._timeline;){if(a+=r._startTime,i*=r._timeScale,r._paused)return-100;r=r._timeline}return(a/=i)>t?a-t:n&&a===t||!e._initted&&a-t<2e-10?1e-10:(a+=e.totalDuration()/e._timeScale/i)>t+1e-10?0:a-t-1e-10};u._init=function(){var e,t,n,r,i,a,o=this.vars,s=this._overwrittenProps,l=this._duration,c=!!o.immediateRender,u=o.ease;if(o.startAt){for(r in this._startAt&&(this._startAt.render(-1,!0),this._startAt.kill()),i={},o.startAt)i[r]=o.startAt[r];if(i.overwrite=!1,i.immediateRender=!0,i.lazy=c&&!1!==o.lazy,i.startAt=i.delay=null,i.onUpdate=o.onUpdate,i.onUpdateScope=o.onUpdateScope||o.callbackScope||this,this._startAt=k.to(this.target,0,i),c)if(this._time>0)this._startAt=null;else if(0!==l)return}else if(o.runBackwards&&0!==l)if(this._startAt)this._startAt.render(-1,!0),this._startAt.kill(),this._startAt=null;else{for(r in 0!==this._time&&(c=!1),n={},o)Y[r]&&"autoCSS"!==r||(n[r]=o[r]);if(n.overwrite=0,n.data="isFromStart",n.lazy=c&&!1!==o.lazy,n.immediateRender=c,this._startAt=k.to(this.target,0,n),c){if(0===this._time)return}else this._startAt._init(),this._startAt._enabled(!1),this.vars.immediateRender&&(this._startAt=null)}if(this._ease=u=u?u instanceof M?u:"function"==typeof u?new M(u,o.easeParams):D[u]||k.defaultEase:k.defaultEase,o.easeParams instanceof Array&&u.config&&(this._ease=u.config.apply(u,o.easeParams)),this._easeType=this._ease._type,this._easePower=this._ease._power,this._firstPT=null,this._targets)for(a=this._targets.length,e=0;e<a;e++)this._initProps(this._targets[e],this._propLookup[e]={},this._siblings[e],s?s[e]:null,e)&&(t=!0);else t=this._initProps(this.target,this._propLookup,this._siblings,s,0);if(t&&k._onPluginEvent("_onInitAllProps",this),s&&(this._firstPT||"function"!=typeof this.target&&this._enabled(!1,!1)),o.runBackwards)for(n=this._firstPT;n;)n.s+=n.c,n.c=-n.c,n=n._next;this._onUpdate=o.onUpdate,this._initted=!0},u._initProps=function(e,t,r,i,a){var o,s,l,c,u,d;if(null==e)return!1;for(o in _[e._gsTweenID]&&J(),this.vars.css||e.style&&e!==n&&e.nodeType&&Q.css&&!1!==this.vars.autoCSS&&function(e,t){var n,r={};for(n in e)Y[n]||n in t&&"transform"!==n&&"x"!==n&&"y"!==n&&"width"!==n&&"height"!==n&&"className"!==n&&"border"!==n||!(!Q[n]||Q[n]&&Q[n]._autoCSS)||(r[n]=e[n],delete e[n]);e.css=r}(this.vars,e),this.vars)if(d=this.vars[o],Y[o])d&&(d instanceof Array||d.push&&m(d))&&-1!==d.join("").indexOf("{self}")&&(this.vars[o]=d=this._swapSelfInParams(d,this));else if(Q[o]&&(c=new Q[o])._onInitTween(e,this.vars[o],this,a)){for(this._firstPT=u={_next:this._firstPT,t:c,p:"setRatio",s:0,c:1,f:1,n:o,pg:1,pr:c._priority,m:0},s=c._overwriteProps.length;--s>-1;)t[c._overwriteProps[s]]=this._firstPT;(c._priority||c._onInitAllProps)&&(l=!0),(c._onDisable||c._onEnable)&&(this._notifyPluginsOfEnabled=!0),u._next&&(u._next._prev=u)}else t[o]=H.call(this,e,o,"get",d,o,0,null,this.vars.stringFilter,a);return i&&this._kill(i,e)?this._initProps(e,t,r,i,a):this._overwrite>1&&this._firstPT&&r.length>1&&te(e,this,t,this._overwrite,r)?(this._kill(t,e),this._initProps(e,t,r,i,a)):(this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration)&&(_[e._gsTweenID]=!0),l)},u.render=function(e,t,n){var r,i,a,o,s=this._time,l=this._duration,c=this._rawPrevTime;if(e>=l-1e-7&&e>=0)this._totalTime=this._time=l,this.ratio=this._ease._calcEnd?this._ease.getRatio(1):1,this._reversed||(r=!0,i="onComplete",n=n||this._timeline.autoRemoveChildren),0===l&&(this._initted||!this.vars.lazy||n)&&(this._startTime===this._timeline._duration&&(e=0),(c<0||e<=0&&e>=-1e-7||1e-10===c&&"isPause"!==this.data)&&c!==e&&(n=!0,c>1e-10&&(i="onReverseComplete")),this._rawPrevTime=o=!t||e||c===e?e:1e-10);else if(e<1e-7)this._totalTime=this._time=0,this.ratio=this._ease._calcEnd?this._ease.getRatio(0):0,(0!==s||0===l&&c>0)&&(i="onReverseComplete",r=this._reversed),e<0&&(this._active=!1,0===l&&(this._initted||!this.vars.lazy||n)&&(c>=0&&(1e-10!==c||"isPause"!==this.data)&&(n=!0),this._rawPrevTime=o=!t||e||c===e?e:1e-10)),(!this._initted||this._startAt&&this._startAt.progress())&&(n=!0);else if(this._totalTime=this._time=e,this._easeType){var u=e/l,d=this._easeType,p=this._easePower;(1===d||3===d&&u>=.5)&&(u=1-u),3===d&&(u*=2),1===p?u*=u:2===p?u*=u*u:3===p?u*=u*u*u:4===p&&(u*=u*u*u*u),this.ratio=1===d?1-u:2===d?u:e/l<.5?u/2:1-u/2}else this.ratio=this._ease.getRatio(e/l);if(this._time!==s||n){if(!this._initted){if(this._init(),!this._initted||this._gc)return;if(!n&&this._firstPT&&(!1!==this.vars.lazy&&this._duration||this.vars.lazy&&!this._duration))return this._time=this._totalTime=s,this._rawPrevTime=c,R.push(this),void(this._lazy=[e,t]);this._time&&!r?this.ratio=this._ease.getRatio(this._time/l):r&&this._ease._calcEnd&&(this.ratio=this._ease.getRatio(0===this._time?0:1))}for(!1!==this._lazy&&(this._lazy=!1),this._active||!this._paused&&this._time!==s&&e>=0&&(this._active=!0),0===s&&(this._startAt&&(e>=0?this._startAt.render(e,t,n):i||(i="_dummyGS")),this.vars.onStart&&(0===this._time&&0!==l||t||this._callback("onStart"))),a=this._firstPT;a;)a.f?a.t[a.p](a.c*this.ratio+a.s):a.t[a.p]=a.c*this.ratio+a.s,a=a._next;this._onUpdate&&(e<0&&this._startAt&&-1e-4!==e&&this._startAt.render(e,t,n),t||(this._time!==s||r||n)&&this._callback("onUpdate")),i&&(this._gc&&!n||(e<0&&this._startAt&&!this._onUpdate&&-1e-4!==e&&this._startAt.render(e,t,n),r&&(this._timeline.autoRemoveChildren&&this._enabled(!1,!1),this._active=!1),!t&&this.vars[i]&&this._callback(i),0===l&&1e-10===this._rawPrevTime&&1e-10!==o&&(this._rawPrevTime=0)))}},u._kill=function(e,t,n){if("all"===e&&(e=null),null==e&&(null==t||t===this.target))return this._lazy=!1,this._enabled(!1,!1);t="string"!=typeof t?t||this._targets||this.target:k.selector(t)||t;var r,i,a,o,s,l,c,u,d,p=n&&this._time&&n._startTime===this._startTime&&this._timeline===n._timeline;if((m(t)||L(t))&&"number"!=typeof t[0])for(r=t.length;--r>-1;)this._kill(e,t[r],n)&&(l=!0);else{if(this._targets){for(r=this._targets.length;--r>-1;)if(t===this._targets[r]){s=this._propLookup[r]||{},this._overwrittenProps=this._overwrittenProps||[],i=this._overwrittenProps[r]=e?this._overwrittenProps[r]||{}:"all";break}}else{if(t!==this.target)return!1;s=this._propLookup,i=this._overwrittenProps=e?this._overwrittenProps||{}:"all"}if(s){if(c=e||s,u=e!==i&&"all"!==i&&e!==s&&("object"!=typeof e||!e._tempKill),n&&(k.onOverwrite||this.vars.onOverwrite)){for(a in c)s[a]&&(d||(d=[]),d.push(a));if((d||!e)&&!ee(this,n,t,d))return!1}for(a in c)(o=s[a])&&(p&&(o.f?o.t[o.p](o.s):o.t[o.p]=o.s,l=!0),o.pg&&o.t._kill(c)&&(l=!0),o.pg&&0!==o.t._overwriteProps.length||(o._prev?o._prev._next=o._next:o===this._firstPT&&(this._firstPT=o._next),o._next&&(o._next._prev=o._prev),o._next=o._prev=null),delete s[a]),u&&(i[a]=1);!this._firstPT&&this._initted&&this._enabled(!1,!1)}}return l},u.invalidate=function(){return this._notifyPluginsOfEnabled&&k._onPluginEvent("_onDisable",this),this._firstPT=this._overwrittenProps=this._startAt=this._onUpdate=null,this._notifyPluginsOfEnabled=this._active=this._lazy=!1,this._propLookup=this._targets?{}:[],j.prototype.invalidate.call(this),this.vars.immediateRender&&(this._time=-1e-10,this.render(Math.min(0,-this._delay))),this},u._enabled=function(e,t){if(p||d.wake(),e&&this._gc){var n,r=this._targets;if(r)for(n=r.length;--n>-1;)this._siblings[n]=$(r[n],this,!0);else this._siblings=$(this.target,this,!0)}return j.prototype._enabled.call(this,e,t),!(!this._notifyPluginsOfEnabled||!this._firstPT)&&k._onPluginEvent(e?"_onEnable":"_onDisable",this)},k.to=function(e,t,n){return new k(e,t,n)},k.from=function(e,t,n){return n.runBackwards=!0,n.immediateRender=0!=n.immediateRender,new k(e,t,n)},k.fromTo=function(e,t,n,r){return r.startAt=n,r.immediateRender=0!=r.immediateRender&&0!=n.immediateRender,new k(e,t,r)},k.delayedCall=function(e,t,n,r,i){return new k(t,0,{delay:e,onComplete:t,onCompleteParams:n,callbackScope:r,onReverseComplete:t,onReverseCompleteParams:n,immediateRender:!1,lazy:!1,useFrames:i,overwrite:0})},k.set=function(e,t){return new k(e,0,t)},k.getTweensOf=function(e,t){if(null==e)return[];var n,r,i,a;if(e="string"!=typeof e?e:k.selector(e)||e,(m(e)||L(e))&&"number"!=typeof e[0]){for(n=e.length,r=[];--n>-1;)r=r.concat(k.getTweensOf(e[n],t));for(n=r.length;--n>-1;)for(a=r[n],i=n;--i>-1;)a===r[i]&&r.splice(n,1)}else if(e._gsTweenID)for(n=(r=$(e).concat()).length;--n>-1;)(r[n]._gc||t&&!r[n].isActive())&&r.splice(n,1);return r||[]},k.killTweensOf=k.killDelayedCallsTo=function(e,t,n){"object"==typeof t&&(n=t,t=!1);for(var r=k.getTweensOf(e,t),i=r.length;--i>-1;)r[i]._kill(n,e)};var re=I("plugins.TweenPlugin",function(e,t){this._overwriteProps=(e||"").split(","),this._propName=this._overwriteProps[0],this._priority=t||0,this._super=re.prototype},!0);if(u=re.prototype,re.version="1.19.0",re.API=2,u._firstPT=null,u._addTween=H,u.setRatio=F,u._kill=function(e){var t,n=this._overwriteProps,r=this._firstPT;if(null!=e[this._propName])this._overwriteProps=[];else for(t=n.length;--t>-1;)null!=e[n[t]]&&n.splice(t,1);for(;r;)null!=e[r.n]&&(r._next&&(r._next._prev=r._prev),r._prev?(r._prev._next=r._next,r._prev=null):this._firstPT===r&&(this._firstPT=r._next)),r=r._next;return!1},u._mod=u._roundProps=function(e){for(var t,n=this._firstPT;n;)(t=e[this._propName]||null!=n.n&&e[n.n.split(this._propName+"_").join("")])&&"function"==typeof t&&(2===n.f?n.t._applyPT.m=t:n.m=t),n=n._next},k._onPluginEvent=function(e,t){var n,r,i,a,o,s=t._firstPT;if("_onInitAllProps"===e){for(;s;){for(o=s._next,r=i;r&&r.pr>s.pr;)r=r._next;(s._prev=r?r._prev:a)?s._prev._next=s:i=s,(s._next=r)?r._prev=s:a=s,s=o}s=t._firstPT=i}for(;s;)s.pg&&"function"==typeof s.t[e]&&s.t[e]()&&(n=!0),s=s._next;return n},re.activate=function(e){for(var t=e.length;--t>-1;)e[t].API===re.API&&(Q[(new e[t])._propName]=e[t]);return!0},S.plugin=function(e){if(!(e&&e.propName&&e.init&&e.API))throw"illegal plugin definition.";var t,n=e.propName,r=e.priority||0,i=e.overwriteProps,a={init:"_onInitTween",set:"setRatio",kill:"_kill",round:"_mod",mod:"_mod",initAll:"_onInitAllProps"},o=I("plugins."+n.charAt(0).toUpperCase()+n.substr(1)+"Plugin",function(){re.call(this,n,r),this._overwriteProps=i||[]},!0===e.global),s=o.prototype=new re(n);for(t in s.constructor=o,o.API=e.API,a)"function"==typeof e[t]&&(s[a[t]]=e[t]);return o.version=e.version,re.activate([o]),o},l=n._gsQueue){for(c=0;c<l.length;c++)l[c]();for(u in y)y[u].func||n.console.log("GSAP encountered missing dependency: "+u)}p=!1}}(e.exports&&void 0!==n?n:this||window)}).call(this,n(177))},function(e,t,n){"use strict";t.a=function(e){return e?Array.isArray(e)?e:[e]:[]}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(17);t.a=function(e,t){if(t||(t={}),i.a.isObject(e))return e;if(!i.a.isString(e))return{};if(!(e=e.trim().replace(/^(\?|#)/,"")))return{};var n=t.separators&&t.separators.join("")||t.separator||"&",r=new RegExp("["+n+"]+");return e.split(r).reduce(function(e,t){var n=t.split("="),r=n[0],i=n[1];try{r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i}catch(e){a.a.warn("[Parser] Unable to decode query string at "+r)}return e},{})}},function(e,t){e.exports=function(e,t,n){"use strict";null==t&&(t="_"),null==n&&(n=!1);var r=!1,i={ELEMENT_NODE:1,TEXT_NODE:3,CDATA_SECTION_NODE:4,COMMENT_NODE:8,DOCUMENT_NODE:9};function a(e){var t=e.localName;return null==t&&(t=e.baseName),null!=t&&""!=t||(t=e.nodeName),t}function o(e){return"string"==typeof e?e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;").replace(/\//g,"&#x2F;"):e}function s(e){var t="";return e instanceof Object?t+=function(e){var t="";return null!=e.__cdata&&(t+="<![CDATA["+e.__cdata+"]]>"),null!=e.__text&&(t+=r?o(e.__text):e.__text),t}(e):null!=e&&(t+=r?o(e):e),t}function l(e,t){return n=t.toString(),r="_asArray",-1!==n.indexOf(r,n.length-r.length)||0==t.toString().indexOf("_")||e[t]instanceof Function;var n,r}function c(e){var t=0;if(e instanceof Object)for(var n in e)l(e,n)||t++;return t}function u(e){var t=[];if(e instanceof Object)for(var n in e){var r=n.toString().charAt(0);-1==n.indexOf("__")&&("_"===r||r===r.toLowerCase()&&r!==r.toUpperCase())&&t.push(n)}return t}function d(e,t,n){var r="";if(0==e.length)r+=p(e,t,n,!0);else for(var i=0;i<e.length;i++)r+=p(e[i],t,u(e[i]),!1),r+=f(e[i]),r+=h(e[i],t);return r}function p(e,t,n,r){var i="<"+(null!=e&&null!=e.__prefix?e.__prefix+":":"")+t;if(null!=n)for(var a=0;a<n.length;a++){var s=n[a],l=o(e[s]);i+=" "+s.substr(1)+"='"+l+"'"}return i+=r?"/>":">"}function h(e,t){return"</"+(null!=e.__prefix?e.__prefix+":":"")+t+">"}function f(e){var t="";if(c(e)>0)for(var n in e)if(!l(e,n)){var r=e[n],i=u(r);null==r||null==r?t+=p(r,n,i,!0):r instanceof Object?r instanceof Array?t+=d(r,n,i):c(r)>0||null!=r.__text||null!=r.__cdata?(t+=p(r,n,i,!1),t+=f(r),t+=h(r,n)):t+=p(r,n,i,!0):(t+=p(r,n,i,!1),t+=s(r),t+=h(r,n))}return t+=s(e)}this.parseXmlString=function(e){var t;return window.DOMParser?t=(new window.DOMParser).parseFromString(e,"text/xml"):(0==e.indexOf("<?")&&(e=e.substr(e.indexOf("?>")+2)),(t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e)),t},this.xml2json=function(r){return function r(o){var s,l,c;if(o.nodeType==i.DOCUMENT_NODE){var u,d;for(l=o.firstChild,u=0,d=o.childNodes.length;u<d;u+=1)if(o.childNodes[u].nodeType!==i.COMMENT_NODE){l=o.childNodes[u];break}return n?s=r(l):(s={})[c=a(l)]=r(l),s}if(o.nodeType==i.ELEMENT_NODE){var p=0,h=o.childNodes;s=new Object;for(var f=0;f<h.length;f++)if(p++,null==s[c=a(l=h.item(f))])s[c]=r(l);else{if(null!=s[c]&&!(s[c]instanceof Array)){var g=s[c];s[c]=[],s[c].push(g)}for(var v=0;null!=s[c][v];)v++;s[c][v]=r(l)}for(var m=0;m<o.attributes.length;m++){var y=o.attributes.item(m);p++;for(var b=y.value,S=0,I=e.length;S<I;S++){var C=e[S];C.test.call(this,y.value)&&(b=C.converter.call(this,y.value))}s[t+y.name]=b}if(null!=s["#text"]){var M=s["#text"];"string"==typeof M?(M=M.replace(/[\r\n]/g,""),s["#text"]=M,1==p&&(s=M)):delete s["#text"]}return s}return o.nodeType==i.TEXT_NODE||o.nodeType==i.CDATA_SECTION_NODE?o.nodeValue:o.nodeType==i.COMMENT_NODE?null:void 0}(r.documentElement||r)},this.xml_str2json=function(e){var t=this.parseXmlString(e);return this.xml2json(t.documentElement||t)},this.getVersion=function(){return"1.0.11"},this.escapeMode=function(e){r=e},this.json2xml_str=function(e){return f(e)}}},function(e,t,n){"use strict";t.a=function(e,t){return void 0===e&&(e={}),void 0===t&&(t={}),function(e,t){var n=Object.keys(e);return t.orFields&&t.andFields&&n.sort(function(e,n){return t.orFields.includes(e)&&t.andFields.includes(n)?-1:t.andFields.includes(e)&&t.orFields.includes(n)?1:0}),n}(e,t).reduce(function(n,r,i){var a=t.separator||"&";return 0===i?a="":t.orFields&&t.orFields.includes(r)?a="|":t.andFields&&t.andFields.includes(r)&&(a="&"),n+""+a+encodeURIComponent(r)+"="+encodeURIComponent(e[r])},"")}},function(e,t,n){"use strict";n.d(t,"a",function(){return r});var r=0},function(e,t,n){"use strict";var r=n(16),i=n(3),a=n(217),o=r.a.extend({name:"FilterModel",context:["server","section","type","standalone"],idAttribute:"filter",rootPropertyName:"Directory",defaults:{advanced:!1},syncedAttrs:{filter:i.a.string,filterType:i.a.string,type:i.a.string,key:i.a.string,title:i.a.string,advanced:i.a.boolean},syncedRelations:{options:{relationClass:a.a}}});t.a=o},function(e,t,n){"use strict";n.d(t,"a",function(){return o});var r=n(41),i=n(34),a=n(143);function o(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(i.a)(e,t),o=n.getUTCFullYear(),s=t||{},l=s.locale,c=l&&l.options&&l.options.firstWeekContainsDate,u=null==c?1:Object(r.a)(c),d=null==s.firstWeekContainsDate?u:Object(r.a)(s.firstWeekContainsDate);if(!(d>=1&&d<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var p=new Date(0);p.setUTCFullYear(o+1,0,d),p.setUTCHours(0,0,0,0);var h=Object(a.a)(p,t),f=new Date(0);f.setUTCFullYear(o,0,d),f.setUTCHours(0,0,0,0);var g=Object(a.a)(f,t);return n.getTime()>=h.getTime()?o+1:n.getTime()>=g.getTime()?o:o-1}},function(e,t,n){"use strict";function r(e,t){var n=e.toJSON?e.toJSON():e,r=n.isChannelItem,i=n.isExtra,a=n.guid,o=i&&!/^file:\/\//.test(a);return!r&&!o&&t}n.d(t,"a",function(){return r})},function(e,t,n){var r,i;
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
/**!
 * Sortable
 * @author	RubaXa   <trash@rubaxa.org>
 * @license MIT
 */
!function(a){"use strict";void 0===(i="function"==typeof(r=function(){var e,t,n,r,i,a,o,s,l,c,u,d,p,h,f={},g=/\s+/g,v="Sortable"+(new Date).getTime(),m=window,y=m.document,b=m.parseInt,S=!!("draggable"in y.createElement("div")),I=!1,C=function(e,t,r,i,a,o,s){var l=y.createEvent("Event"),c=(e||t[v]).options,u="on"+r.charAt(0).toUpperCase()+r.substr(1);l.initEvent(r,!0,!0),l.item=i||t,l.from=a||t,l.clone=n,l.oldIndex=o,l.newIndex=s,c[u]&&c[u].call(e,l),t.dispatchEvent(l)},M=Math.abs,D=[].slice,w=[],P=F(function(e,t,n){if(n&&t.scroll){var r,i,s,l,c=t.scrollSensitivity,u=t.scrollSpeed,d=e.clientX,p=e.clientY,h=window.innerWidth,g=window.innerHeight;if(o!==n&&(a=t.scroll,o=n,!0===a)){a=n;do{if(a.offsetWidth<a.scrollWidth||a.offsetHeight<a.scrollHeight)break}while(a=a.parentNode)}a&&(r=a,i=a.getBoundingClientRect(),s=(M(i.right-d)<=c)-(M(i.left-d)<=c),l=(M(i.bottom-p)<=c)-(M(i.top-p)<=c)),s||l||(l=(g-p<=c)-(p<=c),((s=(h-d<=c)-(d<=c))||l)&&(r=m)),f.vx===s&&f.vy===l&&f.el===r||(f.el=r,f.vx=s,f.vy=l,clearInterval(f.pid),r&&(f.pid=setInterval(function(){r===m?m.scrollTo(m.pageXOffset+s*u,m.pageYOffset+l*u):(l&&(r.scrollTop+=l*u),s&&(r.scrollLeft+=s*u))},24)))}},30);function T(e,t){this.el=e,this.options=t=B({},t),e[v]=this;var n={group:Math.random(),sort:!0,disabled:!1,store:null,handle:null,scroll:!0,scrollSensitivity:30,scrollSpeed:10,draggable:/[uo]l/i.test(e.nodeName)?"li":">*",ghostClass:"sortable-ghost",ignore:"a, img",filter:null,animation:0,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0};for(var r in n)!(r in t)&&(t[r]=n[r]);var i=t.group;for(var a in i&&"object"==typeof i||(i=t.group={name:i}),["pull","put"].forEach(function(e){e in i||(i[e]=!0)}),t.groups=" "+i.name+(i.put.join?" "+i.put.join(" "):"")+" ",this)"_"===a.charAt(0)&&(this[a]=x(this,this[a]));j(e,"mousedown",this._onTapStart),j(e,"touchstart",this._onTapStart),j(e,"dragover",this),j(e,"dragenter",this),w.push(this._onDragOver),t.store&&this.sort(t.store.get(this))}function E(t){n&&n.state!==t&&(k(n,"display",t?"none":""),!t&&n.state&&r.insertBefore(n,e),n.state=t)}function x(e,t){var n=D.call(arguments,2);return t.bind?t.bind.apply(t,[e].concat(n)):function(){return t.apply(e,n.concat(D.call(arguments)))}}function O(e,t,n){if(e){n=n||y;var r=(t=t.split(".")).shift().toUpperCase(),i=new RegExp("\\s("+t.join("|")+")\\s","g");do{if(">*"===r&&e.parentNode===n||(""===r||e.nodeName.toUpperCase()==r)&&(!t.length||((" "+e.className+" ").match(i)||[]).length==t.length))return e}while(e!==n&&(e=e.parentNode))}return null}function j(e,t,n){e.addEventListener(t,n,!1)}function A(e,t,n){e.removeEventListener(t,n,!1)}function N(e,t,n){if(e)if(e.classList)e.classList[n?"add":"remove"](t);else{var r=(" "+e.className+" ").replace(g," ").replace(" "+t+" "," ");e.className=(r+(n?" "+t:"")).replace(g," ")}}function k(e,t,n){var r=e&&e.style;if(r){if(void 0===n)return y.defaultView&&y.defaultView.getComputedStyle?n=y.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in r||(t="-webkit-"+t),r[t]=n+("string"==typeof n?"":"px")}}function L(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function R(e){e.draggable=!1}function _(){I=!1}function U(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function z(e){for(var t=0;e&&(e=e.previousElementSibling);)"TEMPLATE"!==e.nodeName.toUpperCase()&&t++;return t}function F(e,t){var n,r;return function(){void 0===n&&(n=arguments,r=this,setTimeout(function(){1===n.length?e.call(r,n[0]):e.apply(r,n),n=void 0},t))}}function B(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}return T.prototype={constructor:T,_onTapStart:function(e){var t=this,n=this.el,r=this.options,i=e.type,a=e.touches&&e.touches[0],o=(a||e).target,s=o,l=r.filter;if(!("mousedown"===i&&0!==e.button||r.disabled)&&(o=O(o,r.draggable,n))){if(c=z(o),"function"==typeof l){if(l.call(this,e,o,this))return C(t,s,"filter",o,n,c),void e.preventDefault()}else if(l&&(l=l.split(",").some(function(e){if(e=O(s,e.trim(),n))return C(t,e,"filter",o,n,c),!0})))return void e.preventDefault();r.handle&&!O(s,r.handle,n)||this._prepareDragStart(e,a,o)}},_prepareDragStart:function(t,n,a){var o,s=this,l=s.el,c=s.options,u=l.ownerDocument;a&&!e&&a.parentNode===l&&(p=t,r=l,i=(e=a).nextSibling,d=c.group,o=function(){s._disableDelayedDrag(),e.draggable=!0,c.ignore.split(",").forEach(function(t){L(e,t.trim(),R)}),s._triggerDragStart(n)},j(u,"mouseup",s._onDrop),j(u,"touchend",s._onDrop),j(u,"touchcancel",s._onDrop),c.delay?(j(u,"mousemove",s._disableDelayedDrag),j(u,"touchmove",s._disableDelayedDrag),s._dragStartTimer=setTimeout(o,c.delay)):o())},_disableDelayedDrag:function(){var e=this.el.ownerDocument;clearTimeout(this._dragStartTimer),A(e,"mousemove",this._disableDelayedDrag),A(e,"touchmove",this._disableDelayedDrag)},_triggerDragStart:function(t){t?(p={target:e,clientX:t.clientX,clientY:t.clientY},this._onDragStart(p,"touch")):S?(j(e,"dragend",this),j(r,"dragstart",this._onDragStart)):this._onDragStart(p,!0);try{y.selection?y.selection.empty():window.getSelection().removeAllRanges()}catch(e){}},_dragStarted:function(){r&&e&&(N(e,this.options.ghostClass,!0),T.active=this,C(this,r,"start",e,r,c))},_emulateDragOver:function(){if(h){k(t,"display","none");var e=y.elementFromPoint(h.clientX,h.clientY),n=e,r=" "+this.options.group.name,i=w.length;if(n)do{if(n[v]&&n[v].options.groups.indexOf(r)>-1){for(;i--;)w[i]({clientX:h.clientX,clientY:h.clientY,target:e,rootEl:n});break}e=n}while(n=n.parentNode);k(t,"display","")}},_onTouchMove:function(e){if(p){var n=e.touches?e.touches[0]:e,r=n.clientX-p.clientX,i=n.clientY-p.clientY,a=e.touches?"translate3d("+r+"px,"+i+"px,0)":"translate("+r+"px,"+i+"px)";h=n,k(t,"webkitTransform",a),k(t,"mozTransform",a),k(t,"msTransform",a),k(t,"transform",a),e.preventDefault()}},_onDragStart:function(i,a){var o=i.dataTransfer,s=this.options;if(this._offUpEvents(),"clone"==d.pull&&(k(n=e.cloneNode(!0),"display","none"),r.insertBefore(n,e)),a){var l,c=e.getBoundingClientRect(),u=k(e);k(t=e.cloneNode(!0),"top",c.top-b(u.marginTop,10)),k(t,"left",c.left-b(u.marginLeft,10)),k(t,"width",c.width),k(t,"height",c.height),k(t,"opacity","0.8"),k(t,"position","fixed"),k(t,"zIndex","100000"),r.appendChild(t),l=t.getBoundingClientRect(),k(t,"width",2*c.width-l.width),k(t,"height",2*c.height-l.height),"touch"===a?(j(y,"touchmove",this._onTouchMove),j(y,"touchend",this._onDrop),j(y,"touchcancel",this._onDrop)):(j(y,"mousemove",this._onTouchMove),j(y,"mouseup",this._onDrop)),this._loopId=setInterval(this._emulateDragOver,150)}else o&&(o.effectAllowed="move",s.setData&&s.setData.call(this,o,e)),j(y,"drop",this);setTimeout(this._dragStarted,0)},_onDragOver:function(a){var o,c,u,p=this.el,h=this.options,f=h.group,g=f.put,m=d===f,y=h.sort;if(void 0!==a.preventDefault&&(a.preventDefault(),!h.dragoverBubble&&a.stopPropagation()),d&&!h.disabled&&(m?y||(u=!r.contains(e)):d.pull&&g&&(d.name===f.name||g.indexOf&&~g.indexOf(d.name)))&&(void 0===a.rootEl||a.rootEl===this.el)){if(P(a,h,this.el),I)return;if(o=O(a.target,h.draggable,p),c=e.getBoundingClientRect(),u)return E(!0),void(n||i?r.insertBefore(e,n||i):y||r.appendChild(e));if(0===p.children.length||p.children[0]===t||p===a.target&&(o=function(e,t){var n=e.lastElementChild,r=n.getBoundingClientRect();return t.clientY-(r.top+r.height)>5&&n}(p,a))){if(o){if(o.animated)return;S=o.getBoundingClientRect()}E(m),p.appendChild(e),this._animate(c,e),o&&this._animate(S,o)}else if(o&&!o.animated&&o!==e&&void 0!==o.parentNode[v]){s!==o&&(s=o,l=k(o));var b,S=o.getBoundingClientRect(),C=S.right-S.left,M=S.bottom-S.top,D=/left|right|inline/.test(l.cssFloat+l.display),w=o.offsetWidth>e.offsetWidth,T=o.offsetHeight>e.offsetHeight,x=(D?(a.clientX-S.left)/C:(a.clientY-S.top)/M)>.5,j=o.nextElementSibling;I=!0,setTimeout(_,30),E(m),(b=D?o.previousElementSibling===e&&!w||x&&w:j!==e&&!T||x&&T)&&!j?p.appendChild(e):o.parentNode.insertBefore(e,b?j:o),this._animate(c,e),this._animate(S,o)}}},_animate:function(e,t){var n=this.options.animation;if(n){var r=t.getBoundingClientRect();k(t,"transition","none"),k(t,"transform","translate3d("+(e.left-r.left)+"px,"+(e.top-r.top)+"px,0)"),t.offsetWidth,k(t,"transition","all "+n+"ms"),k(t,"transform","translate3d(0,0,0)"),clearTimeout(t.animated),t.animated=setTimeout(function(){k(t,"transition",""),k(t,"transform",""),t.animated=!1},n)}},_offUpEvents:function(){var e=this.el.ownerDocument;A(y,"touchmove",this._onTouchMove),A(e,"mouseup",this._onDrop),A(e,"touchend",this._onDrop),A(e,"touchcancel",this._onDrop)},_onDrop:function(g){var v=this.el,m=this.options;clearInterval(this._loopId),clearInterval(f.pid),clearTimeout(this.dragStartTimer),A(y,"drop",this),A(y,"mousemove",this._onTouchMove),A(v,"dragstart",this._onDragStart),this._offUpEvents(),g&&(g.preventDefault(),!m.dropBubble&&g.stopPropagation(),t&&t.parentNode.removeChild(t),e&&(A(e,"dragend",this),R(e),N(e,this.options.ghostClass,!1),r!==e.parentNode?(u=z(e),C(null,e.parentNode,"sort",e,r,c,u),C(this,r,"sort",e,r,c,u),C(null,e.parentNode,"add",e,r,c,u),C(this,r,"remove",e,r,c,u)):(n&&n.parentNode.removeChild(n),e.nextSibling!==i&&(u=z(e),C(this,r,"update",e,r,c,u),C(this,r,"sort",e,r,c,u))),T.active&&C(this,r,"end",e,r,c,u)),r=e=t=i=n=a=o=p=h=s=l=d=T.active=null,this.save())},handleEvent:function(t){var n=t.type;"dragover"===n||"dragenter"===n?e&&(this._onDragOver(t),function(e){e.dataTransfer.dropEffect="move",e.preventDefault()}(t)):"drop"!==n&&"dragend"!==n||this._onDrop(t)},toArray:function(){for(var e,t=[],n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)O(e=n[r],a.draggable,this.el)&&t.push(e.getAttribute(a.dataIdAttr)||U(e));return t},sort:function(e){var t={},n=this.el;this.toArray().forEach(function(e,r){var i=n.children[r];O(i,this.options.draggable,n)&&(t[e]=i)},this),e.forEach(function(e){t[e]&&(n.removeChild(t[e]),n.appendChild(t[e]))})},save:function(){var e=this.options.store;e&&e.set(this)},closest:function(e,t){return O(e,t||this.options.draggable,this.el)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];n[e]=t},destroy:function(){var e=this.el;e[v]=null,A(e,"mousedown",this._onTapStart),A(e,"touchstart",this._onTapStart),A(e,"dragover",this),A(e,"dragenter",this),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(e){e.removeAttribute("draggable")}),w.splice(w.indexOf(this._onDragOver),1),this._onDrop(),this.el=e=null}},T.utils={on:j,off:A,css:k,find:L,bind:x,is:function(e,t){return!!O(e,t,e)},extend:B,throttle:F,closest:O,toggleClass:N,index:z},T.version="1.2.0",T.create=function(e,t){return new T(e,t)},T})?r.call(t,n,t,e):r)||(e.exports=i)}()},function(e,t,n){"use strict";var r=n(248),i=n(118);e.exports=r({},i,{starSpeed:"0.3s",starPulseScale:1.35,starPulseSpeed:"0.15s",starPulseTimingFunction:"cubic-bezier(0.075, 0.82, 0.165, 1)",posterFlipSpeed:"0.8s",overlaySpeed:"0.3s",chartOpacitySpeed:"0.3s"})},function(e,t,n){"use strict";var r=n(16),i=n(3),a=n(95),o=n(51),s=n(30),l=n(29),c=n(19),u=n(15),d=n(12),p=r.a.extend({name:"MetadataDirectoryModel",context:["server","provider"],entityType:l.g,entityID:function(e){return void 0===e&&(e=this.state),Object(s.a)(this.entityType,e.key,e.filter,this.provider.entityID())},responseType:function(){return Object(o.a)(this.server)},syncedAttrs:{key:i.a.string,title:i.a.string,containerKey:i.a.string,typeKey:i.a.string,type:i.a.string,subtype:i.a.string,thumb:i.a.string,icon:i.a.string,content:i.a.boolean,context:i.a.string,filter:i.a.string},augmentResponse:function(e){var t=e.key,n=e.filter;if(n)return e.containerKey=t,e.typeKey=u.join([t,"all"],n),e;var r=t.match(/\/library\/sections\/(\d+)\/collection/);if(r){var i="/library/sections/"+r[1],a=i+"/all?type="+Object(d.r)(d.d).id;return e.containerKey=i,e.typeKey=a,e.content=!0,e}var o=t.match(/\/library\/sections\/(\d+)\/all\?type=(\d+)/);if(o){var s="/library/sections/"+o[1]+"?type="+o[2];e.key=s,e.typeKey=t,e.content=!0}return e}}),h=c.a.extend({name:"MetadataDirectoryCollection",context:["server","provider"],model:p,modelId:function(e){var t=e.key,n=e.filter,r=t;return n&&(r+="?"+n),r},responseType:function(){return Object(o.a)(this.server)}}),f=r.a.extend({mixins:[a.a],name:"MetadataDirectoryListModel",context:["server","provider"],entityType:l.i,entityID:function(e){return void 0===e&&(e=this.state),Object(s.a)(this.entityType,e.containerKey||this.cid,this.provider.entityID())},idAttribute:"containerKey",collectionName:"metadataItems",responseType:function(){return Object(o.a)(this.server)},url:function(){return this.getPaginatedUrl(this.get("containerKey"))},sessionAttrs:{containerKey:i.a.string,containerTitle:i.a.string,currentPageStart:i.a.integer,currentPageSize:i.a.integer,populatedRange:i.a.object,isPending:i.a.boolean,isPopulated:i.a.boolean,error:i.a.object},syncedAttrs:{totalSize:i.a.integer},syncedRelations:{metadataItems:{relationClass:h,rootPropertyName:"Directory",setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null}},initialize:function(){this.startPopulatedRangeMonitor()}});t.a=f},function(e,t,n){"use strict";var r=n(5),i=n.n(r);t.a=function(e,t){return e?i.a.reduce(t,function(t,n,r){return i.a.isEqual(e[r],n)||(t[r]=n),t},{}):t}},function(e,t,n){"use strict";var r=n(5),i=n.n(r);function a(e){var t=i.a.clone(e);return void 0!==t.last?(t.end=t.last+1,t.size=t.end-t.start):void 0!==t.size?(t.end=t.start+t.size,t.last=t.end-1):void 0!==t.end&&(t.last=t.end-1,t.size=t.end-t.start),t}function o(e,t){return i.a.filter(i.a.map(e,a),function(e){return t?e.size>=0:e.size>0})}var s={augment:a,difference:function(e,t,n){return e=a(e),t=a(t),o([{start:e.start,last:Math.min(e.last,t.start-1)},{start:Math.max(e.start,t.end),last:e.last}],n)},union:function(e,t,n){if(e=a(e),t=a(t),e.start>t.start){var r=e;e=t,t=r}var i=[e];return t.start<=e.end?i[0].last=Math.max(t.last,e.last):i.push(t),o(i,n)},degap:function(e,t){var n=a(e);return(t=a(t)).size?(n.start>t.end&&(n={start:t.end,end:n.end}),n.end<t.start&&(n={start:n.start,end:t.start}),a(n)):n},each:function(e,t,n){e=a(e);for(var r=Math.min(e.start,e.end),i=Math.max(e.start,e.end);r<=i;r++)t.call(n,r)},roundByPage:function(e,t){return e=a(e),a({start:Math.floor(e.start/t)*t,end:Math.ceil(e.end/t)*t})}};t.a=s},function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a});var r=["D","DD","YY","YYYY"];function i(e){return-1!==r.indexOf(e)}function a(e){throw new RangeError("`options.awareOfUnicodeTokens` must be set to `true` to use `"+e+"` token; see: https://git.io/fxCyr")}},function(e,t,n){"use strict";n.r(t);var r=n(36),i=n(2);t.default=function(e){return e&&r.a.parseBoolean(e)?Object(i.default)("Yes"):Object(i.default)("No")}},function(e,t,n){e.exports={innerEmptyPage:"InnerEmptyPage-innerEmptyPage-1MHKZS EmptyPage-emptyPage-2AM9uQ",innerEmptyPageContent:"InnerEmptyPage-innerEmptyPageContent-3kRFWc EmptyPage-content-10PgBS"}},function(e,t,n){e.exports={menuItemContainer:"SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"SelectedMenuItem-menuLabel-2fp2lo",selectedIcon:"SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"SelectedMenuItem-isSelected-178xe1"}},function(e,t,n){e.exports={disclosureArrow:"DisclosureArrow-disclosureArrow-1KPaBC",default:"DisclosureArrow-default-_QTDZt",primary:"DisclosureArrow-primary-2w1Tep",success:"DisclosureArrow-success-1gS8PY",danger:"DisclosureArrow-danger-3OtVyw",small:"DisclosureArrow-small-lqtG6h",up:"DisclosureArrow-up-L-Dw3O",right:"DisclosureArrow-right-2D3Mwp",medium:"DisclosureArrow-medium-20IdwE",large:"DisclosureArrow-large-2JBrDF",down:"DisclosureArrow-down-3lf_Gg DisclosureArrow-up-L-Dw3O",left:"DisclosureArrow-left-3Q0NGs DisclosureArrow-right-2D3Mwp",isSelected:"DisclosureArrow-isSelected-QMJhDY"}},function(e,t,n){e.exports={menuPortal:"Menu-menuPortal-AbMPTD",menuScroller:"Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT",menu:"Menu-menu-3XnN6J",isDisabled:"Menu-isDisabled-34uAXf",small:"Menu-small-3l53QV",medium:"Menu-medium-2qYxsO",large:"Menu-large--60wbS"}},function(e,t,n){e.exports={container:"Measure-container-3yONEe",scrollContainer:"Measure-scrollContainer-1c6dyV",expandContent:"Measure-expandContent-zsLw6n",shrinkContent:"Measure-shrinkContent-303GSV Measure-expandContent-zsLw6n"}},function(e,t,n){e.exports={toggle:"NowPlaying-toggle-f6BvW4",tilesContainer:"NowPlaying-tilesContainer-CVYAj6",nowPlayingList:"NowPlaying-nowPlayingList-2-BKC7",column:"NowPlaying-column-2Tn18h",emptyMessage:"NowPlaying-emptyMessage-30c8IZ ServerDashboardPageMessage-container-1GpeeA"}},function(e,t,n){e.exports={upsell:"PlexPassUpsell-upsell-3i2JLq",iconContainer:"PlexPassUpsell-iconContainer-3uKd8W",icon:"PlexPassUpsell-icon-1r94uI",title:"PlexPassUpsell-title-3m6RLs",text:"PlexPassUpsell-text-2hF28X"}},function(e,t,n){e.exports={input:"SelectInput-input-x1tNmq input-input-1P2Vi4",small:"SelectInput-small-2QgMQ- input-small-3LyjJH",select:"SelectInput-select-3zFgU3",large:"SelectInput-large-8FdD3e input-large-3wNGTy",isDisabled:"SelectInput-isDisabled-1d1XjS",hasError:"SelectInput-hasError-3tk9iX"}},function(e,t,n){e.exports={button:"SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn",spinnerContainer:"SpinnerButton-spinnerContainer-1NdZWc",spinner:"SpinnerButton-spinner-1TgDPI Spinner-spinner-Niere7 spin-spin-2kLwt_",label:"SpinnerButton-label-qxG01S",isSpinning:"SpinnerButton-isSpinning-bbh-4T"}},function(e,t,n){e.exports={circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-26EO1i",absoluteCenterCircularProgressBarContainer:"CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",circularProgressBar:"CircularProgressBar-circularProgressBar-3gv7mU",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarText:"CircularProgressBar-circularProgressBarText-gC1Z--",indeterminate:"CircularProgressBar-indeterminate-2KTTUF spin-spin-2kLwt_"}},function(e,t,n){e.exports={input:"CheckInput-input-1Pi_2g",label:"CheckInput-label-2yG4rI",small:"CheckInput-small-3zAF6g",large:"CheckInput-large-3wPNUE",isDisabled:"CheckInput-isDisabled-C1Lz-G",hasError:"CheckInput-hasError-1V3ZUM"}},function(e,t,n){e.exports={unsupportedDeviceBody:"DVRSetupUnsupportedDevice-unsupportedDeviceBody-1vVn1Q ModalBody-modalBody--5uHSu",imageContainer:"DVRSetupUnsupportedDevice-imageContainer-3DhXFA",makeModelContainer:"DVRSetupUnsupportedDevice-makeModelContainer-2bdrZY",info:"DVRSetupUnsupportedDevice-info-1un44K"}},function(e,t,n){e.exports={form:"EPGSettings-form-ZJ79Ys",message:"EPGSettings-message-159MED",regionInput:"EPGSettings-regionInput-1wXWR6 SelectInput-input-x1tNmq input-input-1P2Vi4",fetchingSpinner:"EPGSettings-fetchingSpinner-3HphG1 Spinner-spinner-Niere7 spin-spin-2kLwt_"}},function(e,t,n){e.exports={confirmBody:"ConfirmModal-confirmBody-10ifxp ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",accordLabel:"ConfirmModal-accordLabel-2PQCSz",accordInput:"ConfirmModal-accordInput-3RjnHc",cancelButton:"ConfirmModal-cancelButton-3A26bv",confirmButton:"ConfirmModal-confirmButton-1DVQ-r"}},function(e,t,n){e.exports={form:"DVRManageChannelsModalContent-form-2ykdJq",manageChannelsBody:"DVRManageChannelsModalContent-manageChannelsBody-PHeFRe ModalBody-modalBody--5uHSu",scanChannelsContainer:"DVRManageChannelsModalContent-scanChannelsContainer-1k91yK",scanChannelsMessage:"DVRManageChannelsModalContent-scanChannelsMessage-3d_EuA",scroller:"DVRManageChannelsModalContent-scroller-1MbzJs Scroller-vertical-VScFLT",centeredContainer:"DVRManageChannelsModalContent-centeredContainer-6K7kAs",progressContainer:"DVRManageChannelsModalContent-progressContainer-1GUW14"}},function(e,t,n){e.exports={header:"ManageLibrariesPane-header-1Q-gmT",headerTitle:"ManageLibrariesPane-headerTitle-2WyRsF",button:"ManageLibrariesPane-button-3nA1pC"}},function(e,t,n){e.exports={container:"ClaimedServer-container-3O6-1n",message:"ClaimedServer-message-1yZ-wd",messageHeader:"ClaimedServer-messageHeader-3uzatL",messageDetails:"ClaimedServer-messageDetails-3lEkVI",button:"ClaimedServer-button-36k0Q0 SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={button:"NavBarIconButton-button-eR0v0j IconButton-button-9An-7I",icon:"NavBarIconButton-icon-2gdVPu",alertIcon:"NavBarIconButton-alertIcon-2HPvE2",tooltip:"NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipTriggerHasFocus:"NavBarIconButton-tooltipTriggerHasFocus-347Sxg NavBarIconButton-tooltip-2RzDyR Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},function(e,t,n){e.exports={container:"QuickSearchInput-container-1HiCoN",focused:"QuickSearchInput-focused-3rEqJC",searchIcon:"QuickSearchInput-searchIcon-38PAh5",closeIcon:"QuickSearchInput-closeIcon-3ZiORN",searchInput:"QuickSearchInput-searchInput-3m6naA"}},function(e,t,n){e.exports={card:"MetadataPosterButtonCard-card-2T8TR6",playButton:"MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",playCircle:"MetadataPosterButtonCard-playCircle-366hcx PlayButton-playCircle-3Evfdw",recordButton:"MetadataPosterButtonCard-recordButton-1m2tbo RecordIcon-recordIconContainer-1PXGA2",recordCircle:"MetadataPosterButtonCard-recordCircle-1UtXWP RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw"}},function(e,t,n){var r;e.exports=function e(t,n,i){function a(s,l){if(!n[s]){if(!t[s]){var c="function"==typeof r&&r;if(!l&&c)return r(s,!0);if(o)return o(s,!0);var u=new Error("Cannot find module '"+s+"'");throw u.code="MODULE_NOT_FOUND",u}var d=n[s]={exports:{}};t[s][0].call(d.exports,function(e){var n=t[s][1][e];return a(n||e)},d,d.exports,e,t,n,i)}return n[s].exports}for(var o="function"==typeof r&&r,s=0;s<i.length;s++)a(i[s]);return a}({1:[function(e,t,n){function r(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function i(e){return"function"==typeof e}function a(e){return"object"==typeof e&&null!==e}function o(e){return void 0===e}t.exports=r,r.EventEmitter=r,r.prototype._events=void 0,r.prototype._maxListeners=void 0,r.defaultMaxListeners=10,r.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},r.prototype.emit=function(e){var t,n,r,s,l,c;if(this._events||(this._events={}),"error"===e&&(!this._events.error||a(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var u=new Error('Uncaught, unspecified "error" event. ('+t+")");throw u.context=t,u}if(o(n=this._events[e]))return!1;if(i(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(a(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),r=c.length,l=0;l<r;l++)c[l].apply(this,s);return!0},r.prototype.addListener=function(e,t){var n;if(!i(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,i(t.listener)?t.listener:t),this._events[e]?a(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,a(this._events[e])&&!this._events[e].warned&&(n=o(this._maxListeners)?r.defaultMaxListeners:this._maxListeners)&&n>0&&this._events[e].length>n&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},r.prototype.on=r.prototype.addListener,r.prototype.once=function(e,t){if(!i(t))throw TypeError("listener must be a function");var n=!1;function r(){this.removeListener(e,r),n||(n=!0,t.apply(this,arguments))}return r.listener=t,this.on(e,r),this},r.prototype.removeListener=function(e,t){var n,r,o,s;if(!i(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(n=this._events[e],o=n.length,r=-1,n===t||i(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(a(n)){for(s=o;s-- >0;)if(n[s]===t||n[s].listener&&n[s].listener===t){r=s;break}if(r<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(r,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},r.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(i(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},r.prototype.listeners=function(e){return this._events&&this._events[e]?i(this._events[e])?[this._events[e]]:this._events[e].slice():[]},r.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(i(t))return 1;if(t)return t.length}return 0},r.listenerCount=function(e,t){return e.listenerCount(t)}},{}],2:[function(e,t,n){var r;r=function(){this.id=null,this.sequence=null,this.system=null,this.title=null,this.description=null,this.advertiser=null,this.pricing=null,this.survey=null,this.errorURLTemplates=[],this.impressionURLTemplates=[],this.creatives=[],this.extensions=[]},t.exports=r},{}],3:[function(e,t,n){var r,i,a;i=e("./parser"),a=e("./util"),r=function(){function e(){}var t,r;return e.cappingFreeLunch=0,e.cappingMinimumTimeInterval=0,e.options={withCredentials:!1,timeout:0},e.get=function(e,t,r){var a,o,s,l;if(o=+new Date,a=n.extend=function(e,t){var n,r;for(n in t)r=t[n],e[n]=r;return e},r||("function"==typeof t&&(r=t),s={}),s=a(this.options,t),this.totalCallsTimeout<o?(this.totalCalls=1,this.totalCallsTimeout=o+36e5):this.totalCalls++,!(this.cappingFreeLunch>=this.totalCalls)){if((l=o-this.lastSuccessfullAd)<0)this.lastSuccessfullAd=0;else if(l<this.cappingMinimumTimeInterval)return void r(null,new Error("VAST call canceled  ("+this.cappingMinimumTimeInterval+")ms minimum interval reached"));return i.parse(e,s,function(e,t){return r(e,t)})}r(null,new Error("VAST call canceled  FreeLunch capping not reached yet "+this.totalCalls+"/"+this.cappingFreeLunch))},r=a.storage,t=Object.defineProperty,["lastSuccessfullAd","totalCalls","totalCallsTimeout"].forEach(function(n){t(e,n,{get:function(){return r.getItem(n)},set:function(e){return r.setItem(n,e)},configurable:!1,enumerable:!0})}),null==e.lastSuccessfullAd&&(e.lastSuccessfullAd=0),null==e.totalCalls&&(e.totalCalls=0),null==e.totalCallsTimeout&&(e.totalCallsTimeout=0),e}(),t.exports=r},{"./parser":12,"./util":18}],4:[function(e,t,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.altText=null,this.companionClickThroughURLTemplate=null,this.companionClickTrackingURLTemplates=[],this.trackingEvents={}},t.exports=r},{}],5:[function(e,t,n){var r,i,a,o,s=function(e,t){for(var n in t)l.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e},l={}.hasOwnProperty;a=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="linear",this.duration=0,this.skipDelay=null,this.mediaFiles=[],this.videoClickThroughURLTemplate=null,this.videoClickTrackingURLTemplates=[],this.videoCustomClickURLTemplates=[],this.adParameters=null,this.icons=[]}return s(t,e),t}(r=function(e){null==e&&(e={}),this.id=e.id||null,this.adId=e.adId||null,this.sequence=e.sequence||null,this.apiFramework=e.apiFramework||null,this.trackingEvents={}}),o=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="nonlinear",this.variations=[]}return s(t,e),t}(r),i=function(e){function t(){t.__super__.constructor.apply(this,arguments),this.type="companion",this.variations=[]}return s(t,e),t}(r),t.exports={VASTCreativeLinear:a,VASTCreativeNonLinear:o,VASTCreativeCompanion:i}},{}],6:[function(e,t,n){var r;r=function(){this.attributes={},this.children=[]},t.exports=r},{}],7:[function(e,t,n){var r;r=function(){this.name=null,this.value=null,this.attributes={}},t.exports=r},{}],8:[function(e,t,n){var r;r=function(){this.program=null,this.height=0,this.width=0,this.xPosition=0,this.yPosition=0,this.apiFramework=null,this.offset=null,this.duration=0,this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.iconClickThroughURLTemplate=null,this.iconClickTrackingURLTemplates=[],this.iconViewTrackingURLTemplate=null},t.exports=r},{}],9:[function(e,t,n){t.exports={client:e("./client"),tracker:e("./tracker"),parser:e("./parser"),util:e("./util")}},{"./client":3,"./parser":12,"./tracker":14,"./util":18}],10:[function(e,t,n){var r;r=function(){this.id=null,this.fileURL=null,this.deliveryType="progressive",this.mimeType=null,this.codec=null,this.bitrate=0,this.minBitrate=0,this.maxBitrate=0,this.width=0,this.height=0,this.apiFramework=null,this.scalable=null,this.maintainAspectRatio=null},t.exports=r},{}],11:[function(e,t,n){var r;r=function(){this.id=null,this.width=0,this.height=0,this.expandedWidth=0,this.expandedHeight=0,this.scalable=!0,this.maintainAspectRatio=!0,this.minSuggestedDuration=0,this.apiFramework="static",this.type=null,this.staticResource=null,this.htmlResource=null,this.iframeResource=null,this.nonlinearClickThroughURLTemplate=null,this.nonlinearClickTrackingURLTemplates=[],this.adParameters=null},t.exports=r},{}],12:[function(e,t,n){var r,i,a,o,s,l,c,u,d,p,h,f,g,v,m,y=[].indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1};i=e("./urlhandler"),v=e("./response"),a=e("./ad"),o=e("./extension"),s=e("./extensionchild"),m=e("./util"),u=e("./creative").VASTCreativeLinear,c=e("./creative").VASTCreativeCompanion,d=e("./creative").VASTCreativeNonLinear,h=e("./mediafile"),p=e("./icon"),l=e("./companionad"),f=e("./nonlinear"),r=e("events").EventEmitter,g=function(){var e;function t(){}return e=[],t.addURLTemplateFilter=function(t){"function"==typeof t&&e.push(t)},t.removeURLTemplateFilter=function(){return e.pop()},t.countURLTemplateFilters=function(){return e.length},t.clearUrlTemplateFilters=function(){return e=[]},t.parse=function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),this._parse(e,null,t,function(e,t){return n(t,e)})},t.load=function(e,t,n){return n||("function"==typeof t&&(n=t),t={}),this.parseXmlDocument(null,[],t,e,n)},t.vent=new r,t.track=function(e,t){return this.vent.emit("VAST-error",t),m.track(e,t)},t.on=function(e,t){return this.vent.on(e,t)},t.once=function(e,t){return this.vent.once(e,t)},t.off=function(e,t){return this.vent.removeListener(e,t)},t._parse=function(t,n,r,a){var o,s,l,c;for(a||("function"==typeof r&&(a=r),r={}),s=0,l=e.length;s<l;s++)o=e[s],t=o(t);return null==n&&(n=[]),n.push(t),i.get(t,r,(c=this,function(e,i){return null!=e?a(e):c.parseXmlDocument(t,n,r,i,a)}))},t.parseXmlDocument=function(e,n,r,i,a){var o,s,l,c,u,d,p,h,f,g,m;if(m=new v,null==(null!=i?i.documentElement:void 0)||"VAST"!==i.documentElement.nodeName)return a(new Error("Invalid VAST XMLDocument"));for(f=i.documentElement.childNodes,l=0,u=f.length;l<u;l++)"Error"===(h=f[l]).nodeName&&m.errorURLTemplates.push(t.parseNodeText(h));for(g=i.documentElement.childNodes,c=0,d=g.length;c<d;c++)"Ad"===(h=g[c]).nodeName&&(null!=(o=t.parseAdElement(h))?m.ads.push(o):t.track(m.errorURLTemplates,{ERRORCODE:101}));for(s=function(e,n){var r,i,s,l;if(null==e&&(e=null),null==n&&(n=!1),m){for(s=!0,l=m.ads,r=0,i=l.length;r<i;r++){if(null!=(o=l[r]).nextWrapperURL)return;o.creatives.length>0&&(s=!1)}return s&&(n||t.track(m.errorURLTemplates,{ERRORCODE:303})),0===m.ads.length&&(m=null),a(e,m)}},p=m.ads.length;p--;)null!=(o=m.ads[p]).nextWrapperURL&&function(i){var a;n.length>(null!==r.wrapperLimit?r.wrapperLimit:9)||(a=i.nextWrapperURL,y.call(n,a)>=0)?(t.track(i.errorURLTemplates,{ERRORCODE:302}),m.ads.splice(m.ads.indexOf(i),1),s(new Error("Wrapper limit reached, as defined by the video player"))):(null!=e&&(i.nextWrapperURL=t.resolveVastAdTagURI(i.nextWrapperURL,e)),t._parse(i.nextWrapperURL,n,r,function(e,n){var r,a,o,l,c,u;if(r=!1,null!=e)t.track(i.errorURLTemplates,{ERRORCODE:301}),m.ads.splice(m.ads.indexOf(i),1),r=!0;else if(null==n)t.track(i.errorURLTemplates,{ERRORCODE:303}),m.ads.splice(m.ads.indexOf(i),1),r=!0;else for(m.errorURLTemplates=m.errorURLTemplates.concat(n.errorURLTemplates),a=m.ads.indexOf(i),m.ads.splice(a,1),c=n.ads,o=0,l=c.length;o<l;o++)u=c[o],t.mergeWrapperAdData(u,i),m.ads.splice(++a,0,u);return delete i.nextWrapperURL,s(e,r)}))}(o);return s()},t.resolveVastAdTagURI=function(e,t){return 0===e.indexOf("//")?""+location.protocol+e:-1===e.indexOf("://")?t.slice(0,t.lastIndexOf("/"))+"/"+e:e},t.mergeWrapperAdData=function(e,t){var n,r,i,a,o,s,l,c,u,d,p,h,f,g,v,m,y,b,S,I,C;for(e.errorURLTemplates=t.errorURLTemplates.concat(e.errorURLTemplates),e.impressionURLTemplates=t.impressionURLTemplates.concat(e.impressionURLTemplates),e.extensions=t.extensions.concat(e.extensions),h=e.creatives,a=0,c=h.length;a<c;a++)if(r=h[a],null!=(null!=(f=t.trackingEvents)?f[r.type]:void 0))for(i in g=t.trackingEvents[r.type])C=g[i],(n=r.trackingEvents)[i]||(n[i]=[]),r.trackingEvents[i]=r.trackingEvents[i].concat(C);if(null!=(v=t.videoClickTrackingURLTemplates)?v.length:void 0)for(m=e.creatives,o=0,u=m.length;o<u;o++)"linear"===(r=m[o]).type&&(r.videoClickTrackingURLTemplates=r.videoClickTrackingURLTemplates.concat(t.videoClickTrackingURLTemplates));if(null!=(y=t.videoCustomClickURLTemplates)?y.length:void 0)for(b=e.creatives,s=0,d=b.length;s<d;s++)"linear"===(r=b[s]).type&&(r.videoCustomClickURLTemplates=r.videoCustomClickURLTemplates.concat(t.videoCustomClickURLTemplates));if(null!=t.videoClickThroughURLTemplate){for(S=e.creatives,I=[],l=0,p=S.length;l<p;l++)"linear"===(r=S[l]).type&&null==r.videoClickThroughURLTemplate?I.push(r.videoClickThroughURLTemplate=t.videoClickThroughURLTemplate):I.push(void 0);return I}},t.childByName=function(e,t){var n,r,i,a;for(a=e.childNodes,r=0,i=a.length;r<i;r++)if((n=a[r]).nodeName===t)return n},t.childsByName=function(e,t){var n,r,i,a,o;for(r=[],o=e.childNodes,i=0,a=o.length;i<a;i++)(n=o[i]).nodeName===t&&r.push(n);return r},t.parseAdElement=function(e){var t,n,r,i,a;for(i=e.childNodes,n=0,r=i.length;n<r;n++)if(t=i[n],"Wrapper"===(a=t.nodeName)||"InLine"===a){if(this.copyNodeAttribute("id",e,t),this.copyNodeAttribute("sequence",e,t),"Wrapper"===t.nodeName)return this.parseWrapperElement(t);if("InLine"===t.nodeName)return this.parseInLineElement(t)}},t.parseWrapperElement=function(e){var t,n,r,i,a,o,s,l,c,u,d,p,h,f,g,v,m,y,b,S,I,C,M;for(t=this.parseInLineElement(e),null!=(M=this.childByName(e,"VASTAdTagURI"))?t.nextWrapperURL=this.parseNodeText(M):null!=(M=this.childByName(e,"VASTAdTagURL"))&&(t.nextWrapperURL=this.parseNodeText(this.childByName(M,"URL"))),g=t.creatives,a=0,u=g.length;a<u;a++)if(C=g[a],"linear"===(v=C.type)||"nonlinear"===v){if(null!=C.trackingEvents)for(i in t.trackingEvents||(t.trackingEvents={}),(n=t.trackingEvents)[f=C.type]||(n[f]={}),m=C.trackingEvents)for(I=m[i],(r=t.trackingEvents[C.type])[i]||(r[i]=[]),s=0,d=I.length;s<d;s++)S=I[s],t.trackingEvents[C.type][i].push(S);if(null!=C.videoClickTrackingURLTemplates)for(t.videoClickTrackingURLTemplates||(t.videoClickTrackingURLTemplates=[]),y=C.videoClickTrackingURLTemplates,l=0,p=y.length;l<p;l++)o=y[l],t.videoClickTrackingURLTemplates.push(o);if(null!=C.videoClickThroughURLTemplate&&(t.videoClickThroughURLTemplate=C.videoClickThroughURLTemplate),null!=C.videoCustomClickURLTemplates)for(t.videoCustomClickURLTemplates||(t.videoCustomClickURLTemplates=[]),b=C.videoCustomClickURLTemplates,c=0,h=b.length;c<h;c++)o=b[c],t.videoCustomClickURLTemplates.push(o)}if(null!=t.nextWrapperURL)return t},t.parseInLineElement=function(e){var t,n,r,i,o,s,l,c,u,d,p,h,f,g,v;for((t=new a).id=e.getAttribute("id")||null,t.sequence=e.getAttribute("sequence")||null,f=e.childNodes,s=0,u=f.length;s<u;s++)switch((h=f[s]).nodeName){case"Error":t.errorURLTemplates.push(this.parseNodeText(h));break;case"Impression":t.impressionURLTemplates.push(this.parseNodeText(h));break;case"Creatives":for(g=this.childsByName(h,"Creative"),l=0,d=g.length;l<d;l++)for(i=g[l],r={id:i.getAttribute("id")||null,adId:this.parseCreativeAdIdAttribute(i),sequence:i.getAttribute("sequence")||null,apiFramework:i.getAttribute("apiFramework")||null},v=i.childNodes,c=0,p=v.length;c<p;c++)switch((o=v[c]).nodeName){case"Linear":(n=this.parseCreativeLinearElement(o,r))&&t.creatives.push(n);break;case"NonLinearAds":(n=this.parseNonLinear(o,r))&&t.creatives.push(n);break;case"CompanionAds":(n=this.parseCompanionAd(o,r))&&t.creatives.push(n)}break;case"Extensions":this.parseExtension(t.extensions,this.childsByName(h,"Extension"));break;case"AdSystem":t.system={value:this.parseNodeText(h),version:h.getAttribute("version")||null};break;case"AdTitle":t.title=this.parseNodeText(h);break;case"Description":t.description=this.parseNodeText(h);break;case"Advertiser":t.advertiser=this.parseNodeText(h);break;case"Pricing":t.pricing={value:this.parseNodeText(h),model:h.getAttribute("model")||null,currency:h.getAttribute("currency")||null};break;case"Survey":t.survey=this.parseNodeText(h)}return t},t.parseExtension=function(e,t){var n,r,i,a,l,c,u,d,p,h,f,g,v,m,y,b,S,I,C;for(I=[],u=0,f=t.length;u<f;u++){if(l=t[u],r=new o,l.attributes)for(y=l.attributes,d=0,g=y.length;d<g;d++)c=y[d],r.attributes[c.nodeName]=c.nodeValue;for(b=l.childNodes,p=0,v=b.length;p<v;p++)if(n=b[p],C=this.parseNodeText(n),"#comment"!==n.nodeName&&""!==C){if((i=new s).name=n.nodeName,i.value=C,n.attributes)for(S=n.attributes,h=0,m=S.length;h<m;h++)a=S[h],i.attributes[a.nodeName]=a.nodeValue;r.children.push(i)}I.push(e.push(r))}return I},t.parseCreativeLinearElement=function(e,t){var n,r,i,a,o,s,l,c,d,f,g,v,m,y,b,S,I,C,M,D,w,P,T,E,x,O,j,A,N,k,L,R,_,U,z,F,B,H,V,Q,W,G,Y,K,q,Z,X,J,$,ee,te,ne,re,ie,ae,oe,se,le,ce;if((a=new u(t)).duration=this.parseDuration(this.parseNodeText(this.childByName(e,"Duration"))),-1===a.duration&&"Wrapper"!==e.parentNode.parentNode.parentNode.nodeName)return null;if(null==(ie=e.getAttribute("skipoffset"))?a.skipDelay=null:"%"===ie.charAt(ie.length-1)?(H=parseInt(ie,10),a.skipDelay=a.duration*(H/100)):a.skipDelay=this.parseDuration(ie),null!=(ce=this.childByName(e,"VideoClicks"))){for(a.videoClickThroughURLTemplate=this.parseNodeText(this.childByName(ce,"ClickThrough")),W=this.childsByName(ce,"ClickTracking"),c=0,C=W.length;c<C;c++)i=W[c],a.videoClickTrackingURLTemplates.push(this.parseNodeText(i));for(G=this.childsByName(ce,"CustomClick"),b=0,M=G.length;b<M;b++)o=G[b],a.videoCustomClickURLTemplates.push(this.parseNodeText(o))}for(null!=(n=this.childByName(e,"AdParameters"))&&(a.adParameters=this.parseNodeText(n)),K=this.childsByName(e,"TrackingEvents"),S=0,w=K.length;S<w;S++)for(se=K[S],q=this.childsByName(se,"Tracking"),I=0,P=q.length;I<P;I++)if(oe=q[I],s=oe.getAttribute("event"),le=this.parseNodeText(oe),null!=s&&null!=le){if("progress"===s){if(!(F=oe.getAttribute("offset")))continue;s="%"===F.charAt(F.length-1)?"progress-"+F:"progress-"+Math.round(this.parseDuration(F))}null==(r=a.trackingEvents)[s]&&(r[s]=[]),a.trackingEvents[s].push(le)}for(Z=this.childsByName(e,"MediaFiles"),N=0,T=Z.length;N<T;N++)for(_=Z[N],X=this.childsByName(_,"MediaFile"),U=0,E=X.length;U<E;U++)R=X[U],(L=new h).id=R.getAttribute("id"),L.fileURL=this.parseNodeText(R),L.deliveryType=R.getAttribute("delivery"),L.codec=R.getAttribute("codec"),L.mimeType=R.getAttribute("type"),L.apiFramework=R.getAttribute("apiFramework"),L.bitrate=parseInt(R.getAttribute("bitrate")||0),L.minBitrate=parseInt(R.getAttribute("minBitrate")||0),L.maxBitrate=parseInt(R.getAttribute("maxBitrate")||0),L.width=parseInt(R.getAttribute("width")||0),L.height=parseInt(R.getAttribute("height")||0),(re=R.getAttribute("scalable"))&&"string"==typeof re&&("true"===(re=re.toLowerCase())?L.scalable=!0:"false"===re&&(L.scalable=!1)),(k=R.getAttribute("maintainAspectRatio"))&&"string"==typeof k&&("true"===(k=k.toLowerCase())?L.maintainAspectRatio=!0:"false"===k&&(L.maintainAspectRatio=!1)),a.mediaFiles.push(L);if(null!=(m=this.childByName(e,"Icons")))for(J=this.childsByName(m,"Icon"),z=0,x=J.length;z<x;z++){for(v=J[z],(d=new p).program=v.getAttribute("program"),d.height=parseInt(v.getAttribute("height")||0),d.width=parseInt(v.getAttribute("width")||0),d.xPosition=this.parseXPosition(v.getAttribute("xPosition")),d.yPosition=this.parseYPosition(v.getAttribute("yPosition")),d.apiFramework=v.getAttribute("apiFramework"),d.offset=this.parseDuration(v.getAttribute("offset")),d.duration=this.parseDuration(v.getAttribute("duration")),$=this.childsByName(v,"HTMLResource"),B=0,O=$.length;B<O;B++)l=$[B],d.type=l.getAttribute("creativeType")||"text/html",d.htmlResource=this.parseNodeText(l);for(ee=this.childsByName(v,"IFrameResource"),V=0,j=ee.length;V<j;V++)y=ee[V],d.type=y.getAttribute("creativeType")||0,d.iframeResource=this.parseNodeText(y);for(te=this.childsByName(v,"StaticResource"),Q=0,A=te.length;Q<A;Q++)ae=te[Q],d.type=ae.getAttribute("creativeType")||0,d.staticResource=this.parseNodeText(ae);if(null!=(g=this.childByName(v,"IconClicks")))for(d.iconClickThroughURLTemplate=this.parseNodeText(this.childByName(g,"IconClickThrough")),Y=this.childsByName(g,"IconClickTracking"),ne=0,D=Y.length;ne<D;ne++)f=Y[ne],d.iconClickTrackingURLTemplates.push(this.parseNodeText(f));d.iconViewTrackingURLTemplate=this.parseNodeText(this.childByName(v,"IconViewTracking")),a.icons.push(d)}return a},t.parseNonLinear=function(e,t){var n,r,i,a,o,s,l,c,u,p,h,g,v,m,y,b,S,I,C,M,D,w,P,T,E,x,O,j,A,N,k,L,R,_;for(a=new d(t),T=this.childsByName(e,"TrackingEvents"),l=0,g=T.length;l<g;l++)for(R=T[l],E=this.childsByName(R,"Tracking"),u=0,v=E.length;u<v;u++)L=E[u],o=L.getAttribute("event"),_=this.parseNodeText(L),null!=o&&null!=_&&(null==(r=a.trackingEvents)[o]&&(r[o]=[]),a.trackingEvents[o].push(_));for(x=this.childsByName(e,"NonLinear"),p=0,m=x.length;p<m;p++){for(w=x[p],(D=new f).id=w.getAttribute("id")||null,D.width=w.getAttribute("width"),D.height=w.getAttribute("height"),D.expandedWidth=w.getAttribute("expandedWidth"),D.expandedHeight=w.getAttribute("expandedHeight"),D.scalable=this.parseBoolean(w.getAttribute("scalable")),D.maintainAspectRatio=this.parseBoolean(w.getAttribute("maintainAspectRatio")),D.minSuggestedDuration=this.parseDuration(w.getAttribute("minSuggestedDuration")),D.apiFramework=w.getAttribute("apiFramework"),O=this.childsByName(w,"HTMLResource"),h=0,y=O.length;h<y;h++)s=O[h],D.type=s.getAttribute("creativeType")||"text/html",D.htmlResource=this.parseNodeText(s);for(j=this.childsByName(w,"IFrameResource"),C=0,b=j.length;C<b;C++)c=j[C],D.type=c.getAttribute("creativeType")||0,D.iframeResource=this.parseNodeText(c);for(A=this.childsByName(w,"StaticResource"),M=0,S=A.length;M<S;M++)k=A[M],D.type=k.getAttribute("creativeType")||0,D.staticResource=this.parseNodeText(k);for(null!=(n=this.childByName(w,"AdParameters"))&&(D.adParameters=this.parseNodeText(n)),D.nonlinearClickThroughURLTemplate=this.parseNodeText(this.childByName(w,"NonLinearClickThrough")),N=this.childsByName(w,"NonLinearClickTracking"),P=0,I=N.length;P<I;P++)i=N[P],D.nonlinearClickTrackingURLTemplates.push(this.parseNodeText(i));a.variations.push(D)}return a},t.parseCompanionAd=function(e,t){var n,r,i,a,o,s,u,d,p,h,f,g,v,m,y,b,S,I,C,M,D,w,P,T,E,x,O,j,A,N,k,L,R,_,U,z,F;for(s=new c(t),x=this.childsByName(e,"Companion"),p=0,m=x.length;p<m;p++){for(o=x[p],(a=new l).id=o.getAttribute("id")||null,a.width=o.getAttribute("width"),a.height=o.getAttribute("height"),a.companionClickTrackingURLTemplates=[],O=this.childsByName(o,"HTMLResource"),f=0,y=O.length;f<y;f++)d=O[f],a.type=d.getAttribute("creativeType")||"text/html",a.htmlResource=this.parseNodeText(d);for(j=this.childsByName(o,"IFrameResource"),g=0,b=j.length;g<b;g++)h=j[g],a.type=h.getAttribute("creativeType")||0,a.iframeResource=this.parseNodeText(h);for(A=this.childsByName(o,"StaticResource"),v=0,S=A.length;v<S;v++){for(_=A[v],a.type=_.getAttribute("creativeType")||0,N=this.childsByName(o,"AltText"),w=0,I=N.length;w<I;w++)r=N[w],a.altText=this.parseNodeText(r);a.staticResource=this.parseNodeText(_)}for(k=this.childsByName(o,"TrackingEvents"),P=0,C=k.length;P<C;P++)for(z=k[P],L=this.childsByName(z,"Tracking"),T=0,M=L.length;T<M;T++)U=L[T],u=U.getAttribute("event"),F=this.parseNodeText(U),null!=u&&null!=F&&(null==(n=a.trackingEvents)[u]&&(n[u]=[]),a.trackingEvents[u].push(F));for(R=this.childsByName(o,"CompanionClickTracking"),E=0,D=R.length;E<D;E++)i=R[E],a.companionClickTrackingURLTemplates.push(this.parseNodeText(i));a.companionClickThroughURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickThrough")),a.companionClickTrackingURLTemplate=this.parseNodeText(this.childByName(o,"CompanionClickTracking")),s.variations.push(a)}return s},t.parseDuration=function(e){var t,n,r,i,a;return null==e?-1:m.isNumeric(e)?parseInt(e):3!==(t=e.split(":")).length?-1:(a=t[2].split("."),i=parseInt(a[0]),2===a.length&&(i+=parseFloat("0."+a[1])),r=parseInt(60*t[1]),n=parseInt(60*t[0]*60),isNaN(n)||isNaN(r)||isNaN(i)||r>3600||i>60?-1:n+r+i)},t.parseXPosition=function(e){return"left"===e||"right"===e?e:parseInt(e||0)},t.parseYPosition=function(e){return"top"===e||"bottom"===e?e:parseInt(e||0)},t.parseBoolean=function(e){return"true"===e||"TRUE"===e||"1"===e},t.parseNodeText=function(e){return e&&(e.textContent||e.text||"").trim()},t.copyNodeAttribute=function(e,t,n){var r;if(r=t.getAttribute(e))return n.setAttribute(e,r)},t.parseCreativeAdIdAttribute=function(e){return e.getAttribute("AdID")||e.getAttribute("adID")||e.getAttribute("adId")||null},t}(),t.exports=g},{"./ad":2,"./companionad":4,"./creative":5,"./extension":6,"./extensionchild":7,"./icon":8,"./mediafile":10,"./nonlinear":11,"./response":13,"./urlhandler":15,"./util":18,events:1}],13:[function(e,t,n){var r;r=function(){this.ads=[],this.errorURLTemplates=[]},t.exports=r},{}],14:[function(e,t,n){var r,i,a,o,s,l,c,u={}.hasOwnProperty;i=e("./client"),c=e("./util"),o=e("./creative").VASTCreativeLinear,s=e("./nonlinear"),a=e("./companionad"),r=e("events").EventEmitter,l=function(e){function t(e,t,n){var r,l,c;for(r in this.ad=e,this.creative=t,this.variation=null!=n?n:null,this.muted=!1,this.impressed=!1,this.skipable=!1,this.skipDelayDefault=-1,this.trackingEvents={},this.emitAlwaysEvents=["creativeView","start","firstQuartile","midpoint","thirdQuartile","complete","resume","pause","rewind","skip","closeLinear","close"],c=this.creative.trackingEvents)l=c[r],this.trackingEvents[r]=l.slice(0);this.creative instanceof o?(this.setDuration(this.creative.duration),this.skipDelay=this.creative.skipDelay,this.linear=!0,this.clickThroughURLTemplate=this.creative.videoClickThroughURLTemplate,this.clickTrackingURLTemplates=this.creative.videoClickTrackingURLTemplates):(this.skipDelay=-1,this.linear=!1,this.variation&&(this.variation instanceof s?(this.clickThroughURLTemplate=this.variation.nonlinearClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.nonlinearClickTrackingURLTemplates):this.variation instanceof a&&(this.clickThroughURLTemplate=this.variation.companionClickThroughURLTemplate,this.clickTrackingURLTemplates=this.variation.companionClickTrackingURLTemplates))),this.on("start",function(){i.lastSuccessfullAd=+new Date})}return function(e,t){for(var n in t)u.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype}(t,e),t.off=function(e,t){return this.removeListener(e,t)},t.prototype.setDuration=function(e){return this.assetDuration=e,this.quartiles={firstQuartile:Math.round(25*this.assetDuration)/100,midpoint:Math.round(50*this.assetDuration)/100,thirdQuartile:Math.round(75*this.assetDuration)/100}},t.prototype.setProgress=function(e){var t,n,r,i,a,o,s,l,c;if(-1===(l=null===this.skipDelay?this.skipDelayDefault:this.skipDelay)||this.skipable||(l>e?this.emit("skip-countdown",l-e):(this.skipable=!0,this.emit("skip-countdown",0))),this.linear&&this.assetDuration>0){if(n=[],e>0)for(o in n.push("start"),a=Math.round(e/this.assetDuration*100),n.push("progress-"+a+"%"),n.push("progress-"+Math.round(e)),s=this.quartiles)(c=s[o])<=e&&e<=c+1&&n.push(o);for(r=0,i=n.length;r<i;r++)t=n[r],this.track(t,!0);e<this.progress&&this.track("rewind")}return this.progress=e},t.prototype.setMuted=function(e){return this.muted!==e&&this.track(e?"mute":"unmute"),this.muted=e},t.prototype.setPaused=function(e){return this.paused!==e&&this.track(e?"pause":"resume"),this.paused=e},t.prototype.setFullscreen=function(e){return this.fullscreen!==e&&this.track(e?"fullscreen":"exitFullscreen"),this.fullscreen=e},t.prototype.setExpand=function(e){return this.expanded!==e&&this.track(e?"expand":"collapse"),this.expanded=e},t.prototype.setSkipDelay=function(e){if("number"==typeof e)return this.skipDelay=e},t.prototype.load=function(){if(!this.impressed)return this.impressed=!0,this.trackURLs(this.ad.impressionURLTemplates),this.track("creativeView")},t.prototype.errorWithCode=function(e){return this.trackURLs(this.ad.errorURLTemplates,{ERRORCODE:e})},t.prototype.complete=function(){return this.track("complete")},t.prototype.close=function(){return this.track(this.linear?"closeLinear":"close")},t.prototype.stop=function(){},t.prototype.skip=function(){return this.track("skip"),this.trackingEvents=[]},t.prototype.click=function(){var e,t,n;if((null!=(t=this.clickTrackingURLTemplates)?t.length:void 0)&&this.trackURLs(this.clickTrackingURLTemplates),null!=this.clickThroughURLTemplate)return this.linear&&(n={CONTENTPLAYHEAD:this.progressFormated()}),e=c.resolveURLTemplates([this.clickThroughURLTemplate],n)[0],this.emit("clickthrough",e)},t.prototype.track=function(e,t){var n,r;null==t&&(t=!1),"closeLinear"===e&&null==this.trackingEvents[e]&&null!=this.trackingEvents.close&&(e="close"),r=this.trackingEvents[e],n=this.emitAlwaysEvents.indexOf(e),null!=r?(this.emit(e,""),this.trackURLs(r)):-1!==n&&this.emit(e,""),!0===t&&(delete this.trackingEvents[e],n>-1&&this.emitAlwaysEvents.splice(n,1))},t.prototype.trackURLs=function(e,t){var n;return null==t&&(t={}),this.linear&&(null!=(null!=(n=this.creative.mediaFiles[0])?n.fileURL:void 0)&&(t.ASSETURI=this.creative.mediaFiles[0].fileURL),t.CONTENTPLAYHEAD=this.progressFormated()),c.track(e,t)},t.prototype.progressFormated=function(){var e,t,n,r,i;return i=parseInt(this.progress),(e=i/3600).length<2&&(e="0"+e),(t=i/60%60).length<2&&(t="0"+t),(r=i%60).length<2&&(r="0"+t),n=parseInt(100*(this.progress-i)),e+":"+t+":"+r+"."+n},t}(r),t.exports=l},{"./client":3,"./companionad":4,"./creative":5,"./nonlinear":11,"./util":18,events:1}],15:[function(e,t,n){var r,i,a;a=e("./urlhandlers/xmlhttprequest"),i=e("./urlhandlers/flash"),r=function(){function t(){}return t.get=function(t,n,r){var o,s;return r||("function"==typeof n&&(r=n),n={}),null!=n.response?(s=n.response,delete n.response,r(null,s)):(null!=(o=n.urlhandler)?o.supported():void 0)?n.urlhandler.get(t,n,r):"undefined"==typeof window||null===window?e("./urlhandlers/node").get(t,n,r):a.supported()?a.get(t,n,r):i.supported()?i.get(t,n,r):r(new Error("Current context is not supported by any of the default URLHandlers. Please provide a custom URLHandler"))},t}(),t.exports=r},{"./urlhandlers/flash":16,"./urlhandlers/xmlhttprequest":17}],16:[function(e,t,n){var r;r=function(){function e(){}return e.xdr=function(){var e;return window.XDomainRequest&&(e=new XDomainRequest),e},e.supported=function(){return!!this.xdr()},e.get=function(e,t,n){var r,i;return(i="function"==typeof window.ActiveXObject?new window.ActiveXObject("Microsoft.XMLDOM"):void 0)?(i.async=!1,(r=this.xdr()).open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.send(),r.onprogress=function(){},r.onload=function(){return i.loadXML(r.responseText),n(null,i)}):n(new Error("FlashURLHandler: Microsoft.XMLDOM format not supported"))},e}(),t.exports=r},{}],17:[function(e,t,n){var r;r=function(){function e(){}return e.xhr=function(){var e;if("withCredentials"in(e=new window.XMLHttpRequest))return e},e.supported=function(){return!!this.xhr()},e.get=function(e,t,n){var r;if("https:"===window.location.protocol&&0===e.indexOf("http://"))return n(new Error("XHRURLHandler: Cannot go from HTTPS to HTTP."));try{return(r=this.xhr()).open("GET",e),r.timeout=t.timeout||0,r.withCredentials=t.withCredentials||!1,r.overrideMimeType&&r.overrideMimeType("text/xml"),r.onreadystatechange=function(){if(4===r.readyState)return 200===r.status?n(null,r.responseXML):n(new Error("XHRURLHandler: "+r.statusText))},r.send(),r}catch(e){return n(new Error("XHRURLHandler: Unexpected error"))}},e}(),t.exports=r},{}],18:[function(e,t,n){var r;r=function(){function e(){}return e.track=function(e,t){var n,r,i,a,o,s;for(r=this.resolveURLTemplates(e,t),s=[],a=0,o=r.length;a<o;a++)n=r[a],"undefined"!=typeof window&&null!==window&&(i=new Image,s.push(i.src=n));return s},e.resolveURLTemplates=function(e,t){var n,r,i,a,o,s,l,c,u;for(null==t&&(t={}),r=[],null!=t.ASSETURI&&(t.ASSETURI=this.encodeURIComponentRFC3986(t.ASSETURI)),null!=t.CONTENTPLAYHEAD&&(t.CONTENTPLAYHEAD=this.encodeURIComponentRFC3986(t.CONTENTPLAYHEAD)),null==t.ERRORCODE||/^[0-9]{3}$/.test(t.ERRORCODE)||(t.ERRORCODE=900),t.CACHEBUSTING=this.leftpad(Math.round(1e8*Math.random()).toString()),t.TIMESTAMP=this.encodeURIComponentRFC3986((new Date).toISOString()),t.RANDOM=t.random=t.CACHEBUSTING,i=0,o=e.length;i<o;i++)if(n=e[i],c=n){for(a in t)u=t[a],s="["+a+"]",l="%%"+a+"%%",c=(c=c.replace(s,u)).replace(l,u);r.push(c)}return r},e.encodeURIComponentRFC3986=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})},e.leftpad=function(e){return e.length<8?function(){var t,n,r;for(r=[],t=0,n=8-e.length;0<=n?t<n:t>n;0<=n?t++:t--)r.push("0");return r}().join("")+e:e},e.storage=function(){var e,t,n;try{n="undefined"!=typeof window&&null!==window?window.localStorage||window.sessionStorage:null}catch(e){n=null}return t=function(e){try{if(e.setItem("__VASTUtil__","__VASTUtil__"),"__VASTUtil__"!==e.getItem("__VASTUtil__"))return!0}catch(e){return!0}return!1},(null==n||t(n))&&(e={},n={length:0,getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n,this.length=Object.keys(e).length},removeItem:function(t){delete e[t],this.length=Object.keys(e).length},clear:function(){e={},this.length=0}}),n}(),e.isNumeric=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},e}(),t.exports=r},{}]},{},[9])(9)},function(e,t,n){e.exports={modalHeader:"PlayerConflictModalContent-modalHeader-esgnIK ModalHeader-modalHeader-1Kf9RW",innerModalBody:"PlayerConflictModalContent-innerModalBody-2N2K54 ModalBody-innerModalBody-36gmbf",message:"PlayerConflictModalContent-message-1A31cS",conflicts:"PlayerConflictModalContent-conflicts-2yWT26",footerMessage:"PlayerConflictModalContent-footerMessage-1ptDWP"}},function(e,t,n){e.exports={thumbWrapper:"VideoChapterCell-thumbWrapper-1ofw_D",isActive:"VideoChapterCell-isActive-VaLoSm",titleContainer:"VideoChapterCell-titleContainer-2B15Ta",title:"VideoChapterCell-title-b2bbcF",secondaryTitle:"VideoChapterCell-secondaryTitle-3vGCqV"}},function(e,t,n){e.exports={container:"PlayerControlsMetadata-container-2wqMfv",ratingContainer:"PlayerControlsMetadata-ratingContainer-1bg_57",hasUserRating:"PlayerControlsMetadata-hasUserRating-2bCRcO",durationContainer:"PlayerControlsMetadata-durationContainer-3UDmW1 DurationRemaining-container-1F4w8F",mediaInfoContainer:"PlayerControlsMetadata-mediaInfoContainer-3g4P-6"}},function(e,t,n){e.exports={recordButton:"LiveTVRecordButton-recordButton-3o22mL",recordingProgressBarContainer:"LiveTVRecordButton-recordingProgressBarContainer-2S-XB4 CircularProgressBar-absoluteCenterCircularProgressBarContainer--zr4W7",recordingProgressBackground:"LiveTVRecordButton-recordingProgressBackground-3vdcHr CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",playerButton:"LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",playerButtonRecording:"LiveTVRecordButton-playerButtonRecording-2gpjKi LiveTVRecordButton-playerButton-3pFcSJ PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I"}},function(e,t,n){e.exports={slider:"VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",fill:"VerticalSlider-fill-2HISoE Slider-fill-35GFqs",thumb:"VerticalSlider-thumb-hm7PPn Slider-thumb-2QGiU1 Link-link-2n0yJn",thumbTrack:"VerticalSlider-thumbTrack-36XvCF Slider-thumbTrack-21hGVQ",track:"VerticalSlider-track-1RVQfn Slider-track-28JOSn"}},function(e,t,n){e.exports={visibleContainer:"SeekBarThumbnail-visibleContainer-3eifZW",hiddenContainer:"SeekBarThumbnail-hiddenContainer-15Ujjv SeekBarThumbnail-visibleContainer-3eifZW",thumbnail:"SeekBarThumbnail-thumbnail-2rxzk1",tooltip:"SeekBarThumbnail-tooltip-WCnO4Y",small:"SeekBarThumbnail-small-21D-mk",large:"SeekBarThumbnail-large-1NQZT9"}},function(e,t,n){e.exports={tag:"MetadataFollowMuteTag-tag-2CoGQF",tagText:"MetadataFollowMuteTag-tagText-2sa_RS",icon:"MetadataFollowMuteTag-icon-sFuVhK",isFollowed:"MetadataFollowMuteTag-isFollowed-1q9G0Y",isMuted:"MetadataFollowMuteTag-isMuted-2XZVIW"}},function(e,t,n){e.exports={button:"PhotoFullPlayerOverlays-button-1anMgY",leftButton:"PhotoFullPlayerOverlays-leftButton-2bCve6 PhotoFullPlayerOverlays-button-1anMgY",rightButton:"PhotoFullPlayerOverlays-rightButton-3cTEzQ PhotoFullPlayerOverlays-button-1anMgY",topBar:"PhotoFullPlayerOverlays-topBar-45GYUI",hideOverlays:"PhotoFullPlayerOverlays-hideOverlays-eccNex",playButton:"PhotoFullPlayerOverlays-playButton-35mXLy"}},function(e,t,n){e.exports={sourceItem:"SelectSourceItemInput-sourceItem-27ZJnH",sourceTitle:"SelectSourceItemInput-sourceTitle-5GEyy5",sourceIconContainer:"SelectSourceItemInput-sourceIconContainer-MjtV8A",iconImg:"SelectSourceItemInput-iconImg-CfO67q SourceSidebarItem-iconImg-2zgKLr",input:"SelectSourceItemInput-input-ioDkeo CheckInput-input-1Pi_2g"}},function(e,t,n){e.exports={spinner:"SourceSidebarBadgedIcon-spinner-2bI1aW",container:"SourceSidebarBadgedIcon-container-3XjdPK",badge:"SourceSidebarBadgedIcon-badge-2uHPR5",image:"SourceSidebarBadgedIcon-image-2aA5FB"}},function(e,t,n){e.exports={title:"SourceSidebarServerHeader-title-3zMGa0 SourceSidebarLink-title-1lgRT2 SidebarLink-title-2vaAAn",isSelected:"SourceSidebarServerHeader-isSelected-3RDRpP SourceSidebarLink-isSelected-27-9-6",iconContainer:"SourceSidebarServerHeader-iconContainer-39Nny8 SourceSidebarItem-iconImg-2zgKLr",actionContainer:"SourceSidebarServerHeader-actionContainer-1FXUpo",visibleActionContainer:"SourceSidebarServerHeader-visibleActionContainer-CI9PEW SourceSidebarServerHeader-actionContainer-1FXUpo"}},function(e,t,n){e.exports={page:"SignInLaunchPagePoll-page-1MNEQu",container:"SignInLaunchPagePoll-container-10QkUk",section:"SignInLaunchPagePoll-section-11igev",addendumLink:"SignInLaunchPagePoll-addendumLink-2n2Dig",switchToSkipSignInLink:"SignInLaunchPagePoll-switchToSkipSignInLink-2eT_Lx"}},function(e,t,n){e.exports={multiSelectPageHeader:"MultiSelectPageHeader-multiSelectPageHeader-2x7d0B TypeFirstPageHeader-pageHeader-3yLq-K",selectedTitle:"MultiSelectPageHeader-selectedTitle-fT_hgU",deselectLink:"MultiSelectPageHeader-deselectLink-3Xa4Sd",icon:"MultiSelectPageHeader-icon-PxQ99V"}},function(e,t,n){e.exports={stylesContainer:"MetadataListStylesMenu-stylesContainer-jYQkcQ",slider:"MetadataListStylesMenu-slider-o88eP5 Slider-slider-2oLVTs",stylesButton:"MetadataListStylesMenu-stylesButton-21zDb3",stylesButtonWithArrow:"MetadataListStylesMenu-stylesButtonWithArrow-23qAV4 MetadataListStylesMenu-stylesButton-21zDb3",stylesIcon:"MetadataListStylesMenu-stylesIcon-1r4qeF"}},function(e,t,n){e.exports={container:"ChannelsGridRow-container-2sCkCm",title:"ChannelsGridRow-title-3AzG0n ChannelsGridRowTitle-container-2k8lvi",programsContainer:"ChannelsGridRow-programsContainer-TF5JSz",program:"ChannelsGridRow-program-1x1gRE ChannelsGridMetadataItemCell-container-2NM2za",progress:"ChannelsGridRow-progress-2ZqEd5"}},function(e,t,n){e.exports={menuItemContainer:"DisclosureFilterMenuItem-menuItemContainer-umTpyG SelectedMenuItem-menuItemContainer-2hXIr-",menuLabel:"DisclosureFilterMenuItem-menuLabel-3sWTgU SelectedMenuItem-menuLabel-2fp2lo",spinner:"DisclosureFilterMenuItem-spinner-k12hYZ Spinner-spinner-Niere7 spin-spin-2kLwt_",selectedIcon:"DisclosureFilterMenuItem-selectedIcon-1HwbQK SelectedMenuItem-selectedIcon-20Yx1_",isSelected:"DisclosureFilterMenuItem-isSelected-3uWkOw"}},function(e,t,n){e.exports={titleContainer:"MetadataTableTitle-titleContainer-3sPQCa",title:"MetadataTableTitle-title-2WmEM3",folderIconContainer:"MetadataTableTitle-folderIconContainer-3TcvnR MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",folderIcon:"MetadataTableTitle-folderIcon-1bAaoB MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk",multiVersionIcon:"MetadataTableTitle-multiVersionIcon-1lcNL3 MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},function(e,t,n){e.exports={unwatchedCircle:"MetadataTitleMiniProgress-unwatchedCircle-235-SR MetadataTitleProgress-unwatchedCircle-25KKnh",isPartiallyWatched:"MetadataTitleMiniProgress-isPartiallyWatched-19Hrxr",small:"MetadataTitleMiniProgress-small-1fCcoZ",medium:"MetadataTitleMiniProgress-medium-xU97R-"}},function(e,t,n){e.exports={photoContainer:"MetadataPhotoCell-photoContainer-1HkmQE",photo:"MetadataPhotoCell-photo-Po3Kxh",image:"MetadataPhotoCell-image-3KqaFc",badge:"MetadataPhotoCell-badge-2L0KJM",title:"MetadataPhotoCell-title-OzhEqa"}},function(e,t,n){e.exports={actions:"MetadataMomentCell-actions--ESOoE",selectButton:"MetadataMomentCell-selectButton-2JUtis SelectButton-selectButton-3Kbjm9",title:"MetadataMomentCell-title-RqYT09",header:"MetadataMomentCell-header-3vgVay",hasSelection:"MetadataMomentCell-hasSelection-3g1dLr"}},function(e,t,n){e.exports={pane:"RecordingPriorityPane-pane-1TYhVu",paneHeader:"RecordingPriorityPane-paneHeader-FyTveE",paneScroller:"RecordingPriorityPane-paneScroller-2HMalx Scroller-vertical-VScFLT",error:"RecordingPriorityPane-error-2elsBZ",empty:"RecordingPriorityPane-empty-7QU40t"}},function(e,t,n){e.exports={sectionDetails:"SubmittableFormSection-sectionDetails-12m6Er CloseableFormSection-isPressable-3BPTnc SettingsFormSectionDetails-sectionDetails-2rJ3jd",label:"SubmittableFormSection-label-1uVA_5 FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc",submitButton:"SubmittableFormSection-submitButton-2Dd-PE",spinnerContainer:"SubmittableFormSection-spinnerContainer-3JnpqQ"}},function(e,t,n){e.exports={photoContainer:"PlaylistPhotoItem-photoContainer-3t9rft MetadataPhotoCell-photoContainer-1HkmQE",image:"PlaylistPhotoItem-image-2oORkY MetadataPhotoCell-image-3KqaFc",photo:"PlaylistPhotoItem-photo-10hVk3 MetadataPhotoCell-photo-Po3Kxh",badge:"PlaylistPhotoItem-badge-3F6lgO MetadataPhotoCell-badge-2L0KJM",isSelected:"PlaylistPhotoItem-isSelected-9usYFV MetadataPosterCardFace-isSelected-1XUgkl"}},function(e,t,n){e.exports={pageHeader:"PrePlayPageHeader-pageHeader-1sIu-M TypeFirstPageHeader-pageHeader-3yLq-K",altPageHeader:"PrePlayPageHeader-altPageHeader-j0lNgY PrePlayPageHeader-pageHeader-1sIu-M TypeFirstPageHeader-pageHeader-3yLq-K",currentSourcePageHeaderLeftChildrenContainer:"PrePlayPageHeader-currentSourcePageHeaderLeftChildrenContainer-1S8MQG",divider:"PrePlayPageHeader-divider-3qHT9c TypeFirstPageHeaderDivider-pageHeaderDivider-3oGvsy",listStylesArrowsDivider:"PrePlayPageHeader-listStylesArrowsDivider-2P7rOc TypeFirstPageHeaderDivider-pageHeaderDivider-3oGvsy"}},function(e,t,n){e.exports={row:"LinkedAccount-row-B2dK4T",rowLinked:"LinkedAccount-rowLinked-1oGBHa LinkedAccount-row-B2dK4T",rowUnlinked:"LinkedAccount-rowUnlinked-1CEr_W LinkedAccount-row-B2dK4T",separator:"LinkedAccount-separator-2K5SKR",button:"LinkedAccount-button-2xPPXm",buttonGoogle:"LinkedAccount-buttonGoogle-3vahJX LinkedAccount-button-2xPPXm",buttonFacebook:"LinkedAccount-buttonFacebook-1qn9Yd LinkedAccount-button-2xPPXm"}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){var r=n(732),i="object"==typeof self&&self&&self.Object===Object&&self,a=r||i||Function("return this")();e.exports=a},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var r=n(680),i=n(1174),a=n(1175);e.exports=function(e,t){return a(i(e,t,r),e+"")}},function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,a=i&&!r.call({1:2},1);t.f=a?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},function(e,t,n){var r=n(49),i=n(540),a=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n(242)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},function(e,t){e.exports={}},function(e,t,n){var r=n(112),i=n(65),a=n(202);e.exports=function(e){return function(t,n,o){var s,l=r(t),c=i(l.length),u=a(o,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},function(e,t,n){var r=n(45),i=/#|\.prototype\./,a=function(e,t){var n=s[o(e)];return n==c||n!=l&&("function"==typeof t?r(t):!!t)},o=a.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=a.data={},l=a.NATIVE="N",c=a.POLYFILL="P";e.exports=a},function(e,t,n){var r=n(59),i=n(276),a=n(63)("species");e.exports=function(e,t){var n;return i(e)&&("function"!=typeof(n=e.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[a])&&(n=void 0):n=void 0),new(void 0===n?Array:n)(0===t?0:t)}},function(e,t,n){var r=n(45),i=n(63)("species");e.exports=function(e){return!r(function(){var t=[];return(t.constructor={})[i]=function(){return{foo:1}},1!==t[e](Boolean).foo})}},function(e,t){e.exports={}},function(e,t,n){var r=n(421),i=n(63)("iterator"),a=n(358);e.exports=function(e){if(null!=e)return e[i]||e["@@iterator"]||a[r(e)]}},function(e,t,n){"use strict";var r=n(45);e.exports=function(e,t){var n=[][e];return!n||!r(function(){n.call(null,t||function(){throw 1},1)})}},function(e,t,n){e.exports=!n(45)(function(){return Object.isExtensible(Object.preventExtensions({}))})},function(e,t,n){var r=n(1394).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(32);function i(e){return void 0===e&&(e=r.a),"safari"===e.id}},function(e,t,n){"use strict";n.r(t);var r=n(19),i=n(132),a=r.a.extend({name:"MediaGrabOperationCollection",context:["server","provider"],model:i.a,comparator:function(e){var t=e.get("mediaItem");if(t)return t.beginsAt-(t.startOffsetSeconds||0)}});t.default=a},function(e,t,n){"use strict";function r(e,t){var n=t?8*Math.round(t/8):0,r=e?8*Math.round(e/8*(9/16)):0;return Math.max(n,r)}n.d(t,"a",function(){return r})},function(e,t,n){(function(r){var i,a,o,s=e.exports&&void 0!==r?r:this||window;
/*!
 * VERSION: 1.15.6
 * DATE: 2017-06-19
 * UPDATES AND DOCS AT: http://greensock.com
 *
 * @license Copyright (c) 2008-2017, GreenSock. All rights reserved.
 * This work is subject to the terms at http://greensock.com/standard-license or for
 * Club GreenSock members, the software agreement that was issued with your membership.
 * 
 * @author: Jack Doyle, jack@greensock.com
 **/(s._gsQueue||(s._gsQueue=[])).push(function(){"use strict";s._gsDefine("easing.Back",["easing.Ease"],function(e){var t,n,r,i=s.GreenSockGlobals||s,a=i.com.greensock,o=2*Math.PI,l=Math.PI/2,c=a._class,u=function(t,n){var r=c("easing."+t,function(){},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,r},d=e.register||function(){},p=function(e,t,n,r,i){var a=c("easing."+e,{easeOut:new t,easeIn:new n,easeInOut:new r},!0);return d(a,e),a},h=function(e,t,n){this.t=e,this.v=t,n&&(this.next=n,n.prev=this,this.c=n.v-t,this.gap=n.t-e)},f=function(t,n){var r=c("easing."+t,function(e){this._p1=e||0===e?e:1.70158,this._p2=1.525*this._p1},!0),i=r.prototype=new e;return i.constructor=r,i.getRatio=n,i.config=function(e){return new r(e)},r},g=p("Back",f("BackOut",function(e){return(e-=1)*e*((this._p1+1)*e+this._p1)+1}),f("BackIn",function(e){return e*e*((this._p1+1)*e-this._p1)}),f("BackInOut",function(e){return(e*=2)<1?.5*e*e*((this._p2+1)*e-this._p2):.5*((e-=2)*e*((this._p2+1)*e+this._p2)+2)})),v=c("easing.SlowMo",function(e,t,n){t=t||0===t?t:.7,null==e?e=.7:e>1&&(e=1),this._p=1!==e?t:0,this._p1=(1-e)/2,this._p2=e,this._p3=this._p1+this._p2,this._calcEnd=!0===n},!0),m=v.prototype=new e;return m.constructor=v,m.getRatio=function(e){var t=e+(.5-e)*this._p;return e<this._p1?this._calcEnd?1-(e=1-e/this._p1)*e:t-(e=1-e/this._p1)*e*e*e*t:e>this._p3?this._calcEnd?1-(e=(e-this._p3)/this._p1)*e:t+(e-t)*(e=(e-this._p3)/this._p1)*e*e*e:this._calcEnd?1:t},v.ease=new v(.7,.7),m.config=v.config=function(e,t,n){return new v(e,t,n)},(m=(t=c("easing.SteppedEase",function(e,t){e=e||1,this._p1=1/e,this._p2=e+(t?0:1),this._p3=t?1:0},!0)).prototype=new e).constructor=t,m.getRatio=function(e){return e<0?e=0:e>=1&&(e=.999999999),((this._p2*e|0)+this._p3)*this._p1},m.config=t.config=function(e,n){return new t(e,n)},(m=(n=c("easing.RoughEase",function(t){for(var n,r,i,a,o,s,l=(t=t||{}).taper||"none",c=[],u=0,d=0|(t.points||20),p=d,f=!1!==t.randomize,g=!0===t.clamp,v=t.template instanceof e?t.template:null,m="number"==typeof t.strength?.4*t.strength:.4;--p>-1;)n=f?Math.random():1/d*p,r=v?v.getRatio(n):n,i="none"===l?m:"out"===l?(a=1-n)*a*m:"in"===l?n*n*m:n<.5?(a=2*n)*a*.5*m:(a=2*(1-n))*a*.5*m,f?r+=Math.random()*i-.5*i:p%2?r+=.5*i:r-=.5*i,g&&(r>1?r=1:r<0&&(r=0)),c[u++]={x:n,y:r};for(c.sort(function(e,t){return e.x-t.x}),s=new h(1,1,null),p=d;--p>-1;)o=c[p],s=new h(o.x,o.y,s);this._prev=new h(0,0,0!==s.t?s:s.next)},!0)).prototype=new e).constructor=n,m.getRatio=function(e){var t=this._prev;if(e>t.t){for(;t.next&&e>=t.t;)t=t.next;t=t.prev}else for(;t.prev&&e<=t.t;)t=t.prev;return this._prev=t,t.v+(e-t.t)/t.gap*t.c},m.config=function(e){return new n(e)},n.ease=new n,p("Bounce",u("BounceOut",function(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}),u("BounceIn",function(e){return(e=1-e)<1/2.75?1-7.5625*e*e:e<2/2.75?1-(7.5625*(e-=1.5/2.75)*e+.75):e<2.5/2.75?1-(7.5625*(e-=2.25/2.75)*e+.9375):1-(7.5625*(e-=2.625/2.75)*e+.984375)}),u("BounceInOut",function(e){var t=e<.5;return(e=t?1-2*e:2*e-1)<1/2.75?e*=7.5625*e:e=e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375,t?.5*(1-e):.5*e+.5})),p("Circ",u("CircOut",function(e){return Math.sqrt(1-(e-=1)*e)}),u("CircIn",function(e){return-(Math.sqrt(1-e*e)-1)}),u("CircInOut",function(e){return(e*=2)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1)})),p("Elastic",(r=function(t,n,r){var i=c("easing."+t,function(e,t){this._p1=e>=1?e:1,this._p2=(t||r)/(e<1?e:1),this._p3=this._p2/o*(Math.asin(1/this._p1)||0),this._p2=o/this._p2},!0),a=i.prototype=new e;return a.constructor=i,a.getRatio=n,a.config=function(e,t){return new i(e,t)},i})("ElasticOut",function(e){return this._p1*Math.pow(2,-10*e)*Math.sin((e-this._p3)*this._p2)+1},.3),r("ElasticIn",function(e){return-this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)},.3),r("ElasticInOut",function(e){return(e*=2)<1?this._p1*Math.pow(2,10*(e-=1))*Math.sin((e-this._p3)*this._p2)*-.5:this._p1*Math.pow(2,-10*(e-=1))*Math.sin((e-this._p3)*this._p2)*.5+1},.45)),p("Expo",u("ExpoOut",function(e){return 1-Math.pow(2,-10*e)}),u("ExpoIn",function(e){return Math.pow(2,10*(e-1))-.001}),u("ExpoInOut",function(e){return(e*=2)<1?.5*Math.pow(2,10*(e-1)):.5*(2-Math.pow(2,-10*(e-1)))})),p("Sine",u("SineOut",function(e){return Math.sin(e*l)}),u("SineIn",function(e){return 1-Math.cos(e*l)}),u("SineInOut",function(e){return-.5*(Math.cos(Math.PI*e)-1)})),c("easing.EaseLookup",{find:function(t){return e.map[t]}},!0),d(i.SlowMo,"SlowMo","ease,"),d(n,"RoughEase","ease,"),d(t,"SteppedEase","ease,"),g},!0)}),s._gsDefine&&s._gsQueue.pop()(),function(){"use strict";var r=function(){return s.GreenSockGlobals||s};e.exports?(n(284),e.exports=r()):(a=[n(284)],void 0===(o="function"==typeof(i=r)?i.apply(t,a):i)||(e.exports=o))}()}).call(this,n(177))},function(e,t,n){e.exports={link:"Link-link-2n0yJn",default:"Link-default-2XA2bN",primary:"Link-primary-1vcAGA",success:"Link-success-oE5mZt",danger:"Link-danger-58vt6Z",dark:"Link-dark-2Q58AO",small:"Link-small-_K-QDf",medium:"Link-medium-3gAfLz",large:"Link-large-3a4C4d",isSelected:"Link-isSelected-IRm9uM"}},function(e,t,n){e.exports={menuItem:"MenuItem-menuItem-1s02mQ",isDisabled:"MenuItem-isDisabled-37rHXk",isHidden:"MenuItem-isHidden-t1VSNw",default:"MenuItem-default-2SKQ84",primary:"MenuItem-primary-2LuUHM",success:"MenuItem-success-3F7NZJ",danger:"MenuItem-danger-3P_Dfn"}},function(e,t,n){e.exports={scroller:"Scroller-scroller-3GqQcZ",none:"Scroller-none-3GfKRp",vertical:"Scroller-vertical-VScFLT",auto:"Scroller-auto-LsWiWx",horizontal:"Scroller-horizontal-cOKsqj",omni:"Scroller-omni-2Pq3HR",compactScroller:"Scroller-compactScroller-rzREb6"}},function(e,t,n){e.exports={textArea:"TextArea-textArea-2jx-Xy input-input-1P2Vi4",small:"TextArea-small-1qB4kd",large:"TextArea-large-3b8XTo",isDisabled:"TextArea-isDisabled-33gHrC input-isDisabled-2FiSY3",hasError:"TextArea-hasError-2KSz1h input-hasError-1to6Ql"}},function(e,t,n){e.exports={container:"ServerResources-container-yYuInw",graph:"ServerResources-graph-3JAR8Y"}},function(e,t,n){e.exports={poster:"TopPlayedColumnRow-poster-1mkhc2",artistPoster:"TopPlayedColumnRow-artistPoster-1zSrT-",summary:"TopPlayedColumnRow-summary-2r-9f9",itemTitle:"TopPlayedColumnRow-itemTitle-1arH4T"}},function(e,t,n){e.exports={header:"TopPlayedColumn-header-3vgucn",tintedHeader:"TopPlayedColumn-tintedHeader-3cEDwY TopPlayedColumn-header-3vgucn",title:"TopPlayedColumn-title-2_vTzv",item:"TopPlayedColumn-item-2uq7dK",emptyItem:"TopPlayedColumn-emptyItem-2b8e80 TopPlayedColumn-item-2uq7dK"}},function(e,t,n){e.exports={button:"IconButton-button-9An-7I",isDisabled:"IconButton-isDisabled-2Wi5UT",isActive:"IconButton-isActive-1_AJJ-",label:"IconButton-label-1cUJaL"}},function(e,t,n){e.exports={container:"TopUsers-container-9Qzi_q",listActions:"TopUsers-listActions-1yrx3I",listScrollButton:"TopUsers-listScrollButton-3a0n18"}},function(e,t,n){e.exports={selectButton:"SelectButton-selectButton-3Kbjm9",isSelected:"SelectButton-isSelected-3mX245",selectCircle:"SelectButton-selectCircle-3tdvGt",selectedIcon:"SelectButton-selectedIcon-3-SALM"}},function(e,t,n){e.exports={input:"TextInput-input-1VMuma input-input-1P2Vi4",small:"TextInput-small-2i2et0 input-small-3LyjJH",large:"TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},function(e,t,n){e.exports={container:"ServerLogTimeFilterInputs-container-2cnIRA",separator:"ServerLogTimeFilterInputs-separator-6uUbhp",input:"ServerLogTimeFilterInputs-input-sLDSiT TextInput-input-1VMuma input-input-1P2Vi4"}},function(e,t,n){e.exports={unknown:"RemoteAccessStateIcon-unknown-2v9yMF",error:"RemoteAccessStateIcon-error-1HDvqj",ok:"RemoteAccessStateIcon-ok-2eQXXP"}},function(e,t,n){e.exports={disabled:"ServerSettingsServerMenuItem-disabled-PIAsvm",friendlyName:"ServerSettingsServerMenuItem-friendlyName-2eYIlv",details:"ServerSettingsServerMenuItem-details-soe_sv",icon:"ServerSettingsServerMenuItem-icon-3bTVtt"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this,d="function";function p(e,t){var r,a="";return a+=" "+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Labels",name:"label",attribute:"labels",locked:(r=e&&e.locked,null==r||!1===r?r:r.label)},data:t}))+" "}function h(e,t){var r="";return r+=' <div class="form-group"> <label>'+c(i(n(14)).call(e,"Labels",{hash:{},data:t}))+"</label> <p>"+c(i(n(14)).call(e,"Labels require Plex Media Server {1} or later.",e&&e.escapedLabelsMinVersion,{hash:{},data:t}))+"</p> </div> "}return((s=r.if.call(t,t&&t.hasContentFilterFeature,{hash:{},inverse:u.program(6,function(e,t){var r,a="";return a+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+c(i(n(14)).call(e,"You need a Plex Pass to use restrictions.",{hash:{},data:t}))+'</h4> <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c(typeof(r=e&&e.plexPassUrl)===d?r.apply(e):r)+'" target="_blank">'+c(i(n(14)).call(e,"Learn More",{hash:{},data:t}))+"</a> </p> </div> "},o),fn:u.program(1,function(e,t){var n,i="";return i+=' <form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> ',((n=r.if.call(e,e&&e.showLabels,{hash:{},inverse:u.program(4,h,t),fn:u.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" </div> </div> </form> "},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){e.exports={alternate:"PlaylistListItem-alternate-3LodVO",container:"PlaylistListItem-container-1zf1-X",card:"PlaylistListItem-card-1lyuEQ PosterCard-card-1rN9gd",title:"PlaylistListItem-title-2aEtHh"}},function(e,t,n){e.exports={spinner:"PlaylistList-spinner-35vMZm",content:"PlaylistList-content-BhpSbg",contentScroller:"PlaylistList-contentScroller-10slMm",cell:"PlaylistList-cell-2Crv3Z"}},function(e,t,n){e.exports={listModalSubheader:"AddToPlaylistModalContent-listModalSubheader-2iqJkg",listModalInnerBody:"AddToPlaylistModalContent-listModalInnerBody-3Lr83z",createForm:"AddToPlaylistModalContent-createForm-7H1yU-",createButton:"AddToPlaylistModalContent-createButton-19CeH0"}},function(e,t,n){e.exports={title:"QuickSearchProvider-title-1DX5MD",noResults:"QuickSearchProvider-noResults-2j7_91",spinnerContainer:"QuickSearchProvider-spinnerContainer-lhn2AI",spinner:"QuickSearchProvider-spinner-2_uC9g"}},function(e,t,n){e.exports={splitButton:"ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",activityTitleContainer:"ActivityMenuStatusItem-activityTitleContainer-1KXytt",activityTitle:"ActivityMenuStatusItem-activityTitle-v72dUV",activitySubtitle:"ActivityMenuStatusItem-activitySubtitle-3uOyHy"}},function(e,t,n){e.exports={statusContainer:"NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",splitButton:"NavBarActivityMenuStatusItem-splitButton-3DXXY- ActivityMenuStatusItem-splitButton-1Ov6bl MenuItem-menuItem-1s02mQ",statusButtonIndicator:"NavBarActivityMenuStatusItem-statusButtonIndicator-3D2d1i",statusTitle:"NavBarActivityMenuStatusItem-statusTitle-2hIH6G"}},function(e,t,n){e.exports={iconContainer:"NavBarActivityIcon-iconContainer-24xhXd",icon:"NavBarActivityIcon-icon-VJ4m73",activityIndicator:"NavBarActivityIcon-activityIndicator-3asEGT Spinner-spinner-Niere7 spin-spin-2kLwt_"}},function(e,t,n){e.exports={conflict:"PlayerConflictItemRow-conflict-P0q6Qn",thumbnail:"PlayerConflictItemRow-thumbnail-3DnQMQ",title:"PlayerConflictItemRow-title-1hIqin",titleHighlight:"PlayerConflictItemRow-titleHighlight-EbgLGl"}},function(e,t,n){e.exports={title:"MetadataPosterTitle-title-3tU5F9",singleLineTitle:"MetadataPosterTitle-singleLineTitle-24_DNu MetadataPosterTitle-title-3tU5F9",doubleLineTitle:"MetadataPosterTitle-doubleLineTitle-37-cWF MetadataPosterTitle-title-3tU5F9",isSecondary:"MetadataPosterTitle-isSecondary-2VUxYk",isSplitLine:"MetadataPosterTitle-isSplitLine-oK3N1p"}},function(e,t,n){e.exports={container:"GridAlsoAiringItem-container-2w5T5c",metadataPosterPlayButton:"GridAlsoAiringItem-metadataPosterPlayButton-XgEpcP MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",underlay:"GridAlsoAiringItem-underlay-PSrIAq",metadataContainer:"GridAlsoAiringItem-metadataContainer-181Pj7 GridAlsoAiringItemMetadata-container-yIov2S"}},function(e,t,n){e.exports={container:"LiveTVAlsoAiringItem-container-tGNgC3",metadataPosterPlayButton:"LiveTVAlsoAiringItem-metadataPosterPlayButton-rnFi8O MetadataPosterButtonCard-playButton-aOV1En PlayButton-playButton-3WX8X-",underlay:"LiveTVAlsoAiringItem-underlay-1_8vab",metadataContainer:"LiveTVAlsoAiringItem-metadataContainer-26LEOv LiveTVAlsoAiringItemMetadata-container-37Fq4m"}},function(e,t,n){e.exports={row:"AudioVideoSettingsRow-row-2CrSzB",cell:"AudioVideoSettingsRow-cell-24KvKF",label:"AudioVideoSettingsRow-label-2h0yy9 AudioVideoSettingsRow-cell-24KvKF",isDisabled:"AudioVideoSettingsRow-isDisabled-3laLAT"}},function(e,t,n){e.exports={miniPlayerPoster:"MiniPlayerPoster-miniPlayerPoster-13YueA",cardContainer:"MiniPlayerPoster-cardContainer-1675aN",expandButton:"MiniPlayerPoster-expandButton-11onC7 PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",card:"MiniPlayerPoster-card-1z_VBo MetadataPosterCard-card-3bztRc"}},function(e,t,n){e.exports={lineHeightMeasure:"CollapsibleText-lineHeightMeasure-1AQhaN",contentTransition:"CollapsibleText-contentTransition-36Xek6",readMore:"CollapsibleText-readMore-1FIz2V DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",readMoreArrow:"CollapsibleText-readMoreArrow-1WO_UV DisclosureArrowButton-disclosureArrow-1Gz1vb DisclosureArrow-disclosureArrow-1KPaBC"}},function(e,t,n){e.exports={stream:"SubtitlesStreamMenuItem-stream-3JNI2A",menuItemContainer:"SubtitlesStreamMenuItem-menuItemContainer-644uMQ SelectedMenuItem-menuItemContainer-2hXIr-",deleteContainer:"SubtitlesStreamMenuItem-deleteContainer-2FHm_C",deleteButton:"SubtitlesStreamMenuItem-deleteButton-2OofDN IconButton-button-9An-7I"}},function(e,t,n){e.exports={container:"FirstRunExperienceActionsContainer-container-1Uv1FY",titleBar:"FirstRunExperienceActionsContainer-titleBar-iWGY90",titleText:"FirstRunExperienceActionsContainer-titleText-3KDIHA",scroller:"FirstRunExperienceActionsContainer-scroller-3w2d0r Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={titleContainer:"SourceSidebarReorderContent-titleContainer-20R_su",title:"SourceSidebarReorderContent-title-fy8R0_",closeButton:"SourceSidebarReorderContent-closeButton-1rl2ef",expandedSidebarContent:"SourceSidebarReorderContent-expandedSidebarContent-3lC3o8 SourceSidebarContent-expandedSidebarContent-3n-5nj"}},function(e,t,n){e.exports={container:"AllSourcesSidebarContent-container-3ONiKZ",serverContainer:"AllSourcesSidebarContent-serverContainer-1HtNbS",iconImg:"AllSourcesSidebarContent-iconImg-1hajvx",extrasContainer:"AllSourcesSidebarContent-extrasContainer-12nvl9"}},function(e,t,n){e.exports={playButton:"ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordButton:"ChannelsGridMetadataDetailButtons-recordButton-17JFUk ChannelsGridMetadataDetailButtons-playButton-2liy7L",recordingIcon:"ChannelsGridMetadataDetailButtons-recordingIcon-1R0yT4",icon:"ChannelsGridMetadataDetailButtons-icon-1-luT7"}},function(e,t,n){e.exports={container:"ProviderUpsell-container-1COcVT",text:"ProviderUpsell-text-3KCk5g",logo:"ProviderUpsell-logo-35aGQ3",body:"ProviderUpsell-body-XamSF3"}},function(e,t,n){e.exports={tableHeader:"MetadataTableHeader-tableHeader-2bHAm0",playCell:"MetadataTableHeader-playCell-1oEdHR MetadataTableRow-playCell-ziDSkt TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",actionsCell:"MetadataTableHeader-actionsCell-1RppTc MetadataTableRow-libraryActionsCell-2OOmPb MetadataTableRow-actionsCell-1ax6EZ TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",columnsButton:"MetadataTableHeader-columnsButton-33h2bW"}},function(e,t,n){e.exports={input:"MaskedInput-input-17hU34 TextInput-input-1VMuma input-input-1P2Vi4",small:"MaskedInput-small-1owiYE TextInput-small-2i2et0 input-small-3LyjJH",large:"MaskedInput-large-1UpZYJ TextInput-large-2sz70T input-large-3wNGTy",isDisabled:"MaskedInput-isDisabled-3_twg- TextInput-isDisabled-3hj7IS input-isDisabled-2FiSY3",hasError:"MaskedInput-hasError-1kFATb TextInput-hasError-3FVrzH input-hasError-1to6Ql"}},function(e,t,n){e.exports={container:"LibraryFilterBuilderRowTag-container-2eCigC",tag:"LibraryFilterBuilderRowTag-tag-3tEm1x",remove:"LibraryFilterBuilderRowTag-remove-3WifL0 TagLabel-remove-27nEke",or:"LibraryFilterBuilderRowTag-or-2CPm8x"}},function(e,t,n){e.exports={panesContainer:"LibraryFiltersMenu-panesContainer-2wE6-U",pane:"LibraryFiltersMenu-pane-13lnRz",filtersPane:"LibraryFiltersMenu-filtersPane-367idZ LibraryFiltersMenu-pane-13lnRz",filterOptionsPane:"LibraryFiltersMenu-filterOptionsPane-sYfFI8 LibraryFiltersMenu-pane-13lnRz",showFilterOptions:"LibraryFiltersMenu-showFilterOptions-PvLk-v"}},function(e,t,n){e.exports={innerPageContent:"HeroPageContent-innerPageContent-2XvJMX PageContent-innerPageContent-3ktLTA",content:"HeroPageContent-content-3EXgTZ PageContent-innerPageContent-3ktLTA",title:"HeroPageContent-title-3paxUK",hasBadge:"HeroPageContent-hasBadge-2L4PcY"}},function(e,t,n){e.exports={container:"TickMarks-container-Dsw5zQ",ticks:"TickMarks-ticks-3rrhGg",tick:"TickMarks-tick-S3qkF1",minor:"TickMarks-minor-1EIQql TickMarks-tick-S3qkF1",major:"TickMarks-major-2GXoin TickMarks-tick-S3qkF1",label:"TickMarks-label-2qQMLo"}},function(e,t,n){e.exports={container:"TimelinePageContent-container-To7vp7",stack:"TimelinePageContent-stack-U-1uxA PageContent-pageContent-16mK6G",adornment:"TimelinePageContent-adornment-3eAmrp",scroller:"TimelinePageContent-scroller-3tUHZ1"}},function(e,t,n){e.exports={titleContainer:"SearchTagPosterCell-titleContainer-2WMiUS",imageContainer:"SearchTagPosterCell-imageContainer-244-TF",imageLink:"SearchTagPosterCell-imageLink-GYb2j1",isPerson:"SearchTagPosterCell-isPerson-3JJoqT"}},function(e,t,n){e.exports={container:"PrePlayList-container-WZ86OE HubCell-hubCell-3Ys175",emptyContainer:"PrePlayList-emptyContainer-1scC5X",emptyMessage:"PrePlayList-emptyMessage-aeAV8W PrePlayList-emptyContainer-1scC5X"}},function(e,t,n){e.exports={description:"LinkedAccounts-description-JKP8ii",dim:"LinkedAccounts-dim-2wlJAd"}},function(e,t,n){e.exports={pageHeader:"UserSharingSettingsPage-pageHeader-2_t6mm",addToHomeIcon:"UserSharingSettingsPage-addToHomeIcon-1svaEG IconButton-button-9An-7I",avatar:"UserSharingSettingsPage-avatar-3ETJGK AvatarImg-avatar-3Op56u",username:"UserSharingSettingsPage-username-1NRe2Z"}},function(e,t,n){e.exports={row:"UserSettingsSentInviteRow-row-wQq2YS UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UserSettingsSentInviteRow-actions-26ThO1 UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",homeInvite:"UserSettingsSentInviteRow-homeInvite-3B7qbE",status:"UserSettingsSentInviteRow-status-1FpZ6r"}},function(e,t,n){e.exports={buttons:"WebhookFormSection-buttons-1bW9AT",button:"WebhookFormSection-button-2hUeXy",dangerButton:"WebhookFormSection-dangerButton-1Hm32l",label:"WebhookFormSection-label-1llL2- FormLabel-label-2aLJ9b CloseableFormSection-isPressable-3BPTnc"}},function(e,t,n){var r=n(534),i=n(1405),a=n(1406),o="[object Null]",s="[object Undefined]",l=r?r.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?s:o:l&&l in Object(e)?i(e):a(e)}},function(e,t,n){var r=n(1435),i=n(1438);e.exports=function(e,t){var n=i(e,t);return r(n)?n:void 0}},function(e,t,n){var r=n(45),i=n(137),a="".split;e.exports=r(function(){return!Object("z").propertyIsEnumerable(0)})?function(e){return"String"==i(e)?a.call(e,""):Object(e)}:Object},function(e,t,n){var r=n(351)("keys"),i=n(352);e.exports=function(e){return r[e]||(r[e]=i(e))}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,n){var r=n(63)("iterator"),i=!1;try{var a=0,o={next:function(){return{done:!!a++}},return:function(){i=!0}};o[r]=function(){return this},Array.from(o,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var a={};a[r]=function(){return{next:function(){return{done:n=!0}}}},e(a)}catch(e){}return n}},function(e,t,n){var r=n(137),i=n(63)("toStringTag"),a="Arguments"==r(function(){return arguments}());e.exports=function(e){var t,n,o;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=Object(e),i))?n:a?r(t):"Object"==(o=r(t))&&"function"==typeof t.callee?"Arguments":o}},function(e,t,n){"use strict";var r=n(112),i=n(203),a=n(358),o=n(128),s=n(546),l=o.set,c=o.getterFor("Array Iterator");e.exports=s(Array,"Array",function(e,t){l(this,{type:"Array Iterator",target:r(e),index:0,kind:t})},function(){var e=c(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}},"values"),a.Arguments=a.Array,i("keys"),i("values"),i("entries")},function(e,t,n){"use strict";var r=n(49),i=n(355),a=n(24),o=n(113),s=n(247),l=n(280),c=n(205),u=n(59),d=n(45),p=n(420),h=n(157),f=n(550);e.exports=function(e,t,n,g,v){var m=r[e],y=m&&m.prototype,b=m,S=g?"set":"add",I={},C=function(e){var t=y[e];o(y,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return v&&!u(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(v&&!u(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof m||!(v||y.forEach&&!d(function(){(new m).entries().next()}))))b=n.getConstructor(t,e,g,S),s.REQUIRED=!0;else if(i(e,!0)){var M=new b,D=M[S](v?{}:-0,1)!=M,w=d(function(){M.has(1)}),P=p(function(e){new m(e)}),T=!v&&d(function(){for(var e=new m,t=5;t--;)e[S](t,t);return!e.has(-0)});P||((b=t(function(t,n){c(t,b,e);var r=f(new m,t,b);return null!=n&&l(n,r[S],r,g),r})).prototype=y,y.constructor=b),(w||T)&&(C("delete"),C("has"),g&&C("get")),(T||D)&&C(S),v&&y.clear&&delete y.clear}return I[e]=b,a({global:!0,forced:b!=m},I),h(b,e),v||n.setStrong(b,e,g),b}},function(e,t){var n=Math.expm1;e.exports=!n||n(10)>22025.465794806718||n(10)<22025.465794806718||-2e-17!=n(-2e-17)?function(e){return 0==(e=+e)?e:e>-1e-6&&e<1e-6?e+e*e/2:Math.exp(e)-1}:n},function(e,t){e.exports="\t\n\v\f\r \u2028\u2029\ufeff"},function(e,t,n){"use strict";e.exports=n(242)||!n(45)(function(){var e=Math.random();__defineSetter__.call(null,e,function(){}),delete n(49)[e]})},function(e,t,n){"use strict";var r=n(62);e.exports=function(){var e=r(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},function(e,t,n){var r=n(129),i=n(127);e.exports=function(e,t,n){var a,o,s=String(i(e)),l=r(t),c=s.length;return l<0||l>=c?n?"":void 0:(a=s.charCodeAt(l))<55296||a>56319||l+1===c||(o=s.charCodeAt(l+1))<56320||o>57343?n?s.charAt(l):a:n?s.slice(l,l+2):o-56320+(a-55296<<10)+65536}},function(e,t,n){var r=n(137),i=n(560);e.exports=function(e,t){var n=e.exec;if("function"==typeof n){var a=n.call(e,t);if("object"!=typeof a)throw TypeError("RegExp exec method returned something other than an Object or null");return a}if("RegExp"!==r(e))throw TypeError("RegExp#exec called on incompatible receiver");return i.call(e,t)}},function(e,t,n){"use strict";var r=n(100),i=n(113),a=n(45),o=n(63),s=n(560),l=o("species"),c=!a(function(){var e=/./;return e.exec=function(){var e=[];return e.groups={a:"7"},e},"7"!=="".replace(e,"$<a>")}),u=!a(function(){var e=/(?:)/,t=e.exec;e.exec=function(){return t.apply(this,arguments)};var n="ab".split(e);return 2!==n.length||"a"!==n[0]||"b"!==n[1]});e.exports=function(e,t,n,d){var p=o(e),h=!a(function(){var t={};return t[p]=function(){return 7},7!=""[e](t)}),f=h&&!a(function(){var t=!1,n=/a/;return n.exec=function(){return t=!0,null},"split"===e&&(n.constructor={},n.constructor[l]=function(){return n}),n[p](""),!t});if(!h||!f||"replace"===e&&!c||"split"===e&&!u){var g=/./[p],v=n(p,""[e],function(e,t,n,r,i){return t.exec===s?h&&!i?{done:!0,value:g.call(t,n,r)}:{done:!0,value:e.call(n,t,r)}:{done:!1}}),m=v[0],y=v[1];i(String.prototype,e,m),i(RegExp.prototype,p,2==t?function(e,t){return y.call(e,this,t)}:function(e){return y.call(e,this)}),d&&r(RegExp.prototype[p],"sham",!0)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.END_DRAG=t.DROP=t.HOVER=t.PUBLISH_DRAG_SOURCE=t.BEGIN_DRAG=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.beginDrag=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0,clientOffset:null},n=t.publishSource,r=t.clientOffset,s=t.getSourceClientOffset;(0,i.default)((0,a.default)(e),"Expected sourceIds to be an array.");var l=this.getMonitor(),u=this.getRegistry();(0,i.default)(!l.isDragging(),"Cannot call beginDrag while dragging.");for(var d=0;d<e.length;d++)(0,i.default)(u.getSource(e[d]),"Expected sourceIds to be registered.");for(var p=null,h=e.length-1;h>=0;h--)if(l.canDragSource(e[h])){p=e[h];break}if(null===p)return;var f=null;r&&((0,i.default)("function"==typeof s,"When clientOffset is provided, getSourceClientOffset must be a function."),f=s(p));var g=u.getSource(p).beginDrag(l,p);(0,i.default)((0,o.default)(g),"Item must be an object."),u.pinSource(p);var v=u.getSourceType(p);return{type:c,itemType:v,item:g,sourceId:p,clientOffset:r,sourceClientOffset:f,isSourcePublic:n}},t.publishDragSource=function(){if(!this.getMonitor().isDragging())return;return{type:u}},t.hover=function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).clientOffset,n=void 0===t?null:t;(0,i.default)((0,a.default)(e),"Expected targetIds to be an array.");var r=e.slice(0),o=this.getMonitor(),l=this.getRegistry();(0,i.default)(o.isDragging(),"Cannot call hover while not dragging."),(0,i.default)(!o.didDrop(),"Cannot call hover after drop.");for(var c=0;c<r.length;c++){var u=r[c];(0,i.default)(r.lastIndexOf(u)===c,"Expected targetIds to be unique in the passed array.");var p=l.getTarget(u);(0,i.default)(p,"Expected targetIds to be registered.")}for(var h=o.getItemType(),f=r.length-1;f>=0;f--){var g=r[f],v=l.getTargetType(g);(0,s.default)(v,h)||r.splice(f,1)}for(var m=0;m<r.length;m++){var y=r[m],b=l.getTarget(y);b.hover(o,y)}return{type:d,targetIds:r,clientOffset:n}},t.drop=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this.getMonitor(),a=this.getRegistry();(0,i.default)(n.isDragging(),"Cannot call drop while not dragging."),(0,i.default)(!n.didDrop(),"Cannot call drop twice during one drag operation.");var s=n.getTargetIds().filter(n.canDropOnTarget,n);s.reverse(),s.forEach(function(s,l){var c=a.getTarget(s),u=c.drop(n,s);(0,i.default)(void 0===u||(0,o.default)(u),"Drop result must either be an object or undefined."),void 0===u&&(u=0===l?{}:n.getDropResult()),e.store.dispatch({type:p,dropResult:r({},t,u)})})},t.endDrag=function(){var e=this.getMonitor(),t=this.getRegistry();(0,i.default)(e.isDragging(),"Cannot call endDrag while not dragging.");var n=e.getSourceId();return t.getSource(n,!0).endDrag(e,n),t.unpinSource(),{type:h}};var i=l(n(88)),a=l(n(241)),o=l(n(346)),s=l(n(739));function l(e){return e&&e.__esModule?e:{default:e}}var c=t.BEGIN_DRAG="dnd-core/BEGIN_DRAG",u=t.PUBLISH_DRAG_SOURCE="dnd-core/PUBLISH_DRAG_SOURCE",d=t.HOVER="dnd-core/HOVER",p=t.DROP="dnd-core/DROP",h=t.END_DRAG="dnd-core/END_DRAG"},function(e,t,n){var r=n(416)(Object,"create");e.exports=r},function(e,t,n){var r=n(536);e.exports=function(e,t){for(var n=e.length;n--;)if(r(e[n][0],t))return n;return-1}},function(e,t,n){var r=n(1449);e.exports=function(e,t){var n=e.__data__;return r(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var r=n(533),i=n(348);e.exports=function(e){return i(e)&&r(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addSource=function(e){return{type:r,sourceId:e}},t.addTarget=function(e){return{type:i,targetId:e}},t.removeSource=function(e){return{type:a,sourceId:e}},t.removeTarget=function(e){return{type:o,targetId:e}};var r=t.ADD_SOURCE="dnd-core/ADD_SOURCE",i=t.ADD_TARGET="dnd-core/ADD_TARGET",a=t.REMOVE_SOURCE="dnd-core/REMOVE_SOURCE",o=t.REMOVE_TARGET="dnd-core/REMOVE_TARGET"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){0}},function(e,t,n){"use strict";var r=n(0),i=n.n(r),a=n(7),o=n.n(a),s=(n(4),n(1)),l=n.n(s),c=n(57),u=n.n(c),d=n(28),p=n(17),h=n(215),f=n(184),g=n(133),v=n(363),m=n(2),y=l.a.Component,b=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onTick=function(){var e=Date.now()-t._initialMilliseconds;t.props.onTick&&t.props.onTick(Math.floor(e/1e3))},t}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._initialMilliseconds=Date.now(),this._positionTimer=setInterval(this.props.onPositionUpdate,40),this._tickTimer=setInterval(this.onTick,1e3)},n.componentWillUnmount=function(){clearInterval(this._positionTimer),clearInterval(this._tickTimer)},n.render=function(){return null},t}(y),S=n(1159),I=n.n(S),C=l.a.Component,M=2;var D=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._nativeSeek=function(e){r._mediaEl.currentTime=e},r.onStarted=function(){var e=r.props,t=e.positionSeconds,n=e.onDurationMillisecondsChange;r.state.isStarted||(t&&r._nativeSeek(t),r.setState({isStarted:!0},function(){if(n){var e=r._mediaEl.duration;n(Number.isFinite(e)?Math.floor(1e3*e):0)}}))},r.onDataLoad=function(){r._canNativelySelectAudioTrack()&&r._selectAudioTrack(),Object(v.a)()||r.onStarted()},r.onCanPlay=function(){var e;(Object(v.a)()&&r.onStarted(),r.props.onCanPlay)&&(e=r.props).onCanPlay.apply(e,arguments)},r.onPositionUpdate=function(){if(r._mediaEl){var e=Math.floor(1e3*r._mediaEl.currentTime);if(e!==r._lastPositionMilliseconds)r._lastPositionMilliseconds=e,r._lastPositionChangeTime=Date.now(),r._isBuffering&&(r._isBuffering=!1,r.props.onBufferingChange&&r.props.onBufferingChange(!1));else if(!r._isBuffering&&!r.props.paused){var t=Date.now()-r._lastPositionChangeTime;t>r.props.bufferingDetectionLimit&&(p.a.warn("[Player] Buffering detected, last position change was "+t+"ms ago"),r._isBuffering=!0,r.props.onBufferingChange&&r.props.onBufferingChange(!0))}r.props.onPositionMillisecondsChange(e)}},r.onProgress=function(){var e=r._mediaEl.buffered;if(e.length){var t=1e3*e.start(0),n=1e3*e.end(e.length-1);r.props.onBufferChange&&r.props.onBufferChange({start:t,end:n})}},r.onEnded=function(){r.props.onEnd&&r.props.onEnd()},r.onError=function(e){var t=e.target.error.code,n=function(e){switch(e){case 1:return Object(m.default)("Abort");case 2:return Object(m.default)("Network");case 3:return Object(m.default)("Decode");case 4:return Object(m.default)("Not Supported")}}(t),i=t+" ("+(n||"Unknown")+")";t===M?p.a.warn("[Player] An HTML media error occurred: "+i+"; the player will attempt to recover"):(p.a.warn("[Player] A critical HTML media error occurred: "+i+"; the player cannot recover"),r.props.onError&&r.props.onError({code:"h"+t,category:n}))},r.onSeek=function(e){var t=r._mediaEl.ended;(r.props.onSeek||r._nativeSeek)(e),!r.props.paused&&t&&r._play()},r.onPause=function(){r._mediaEl.ended||r.props.onPause&&r.props.onPause()},r.onPlay=function(){r.props.onPlay&&r.props.onPlay()},r.state={isStarted:!1},r._mediaListeners={loadeddata:r.onDataLoad,canplay:r.onCanPlay,progress:r.onProgress,ended:r.onEnded,error:r.onError,pause:r.onPause,play:r.onPlay},r._lastPositionMilliseconds=null,r._lastPositionChangeTime=0,r._isBuffering=!1,r._isUnmounting=!1,r}o()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this._mediaEl=Object(g.a)(this.props.mediaType,this.props.allowRecycleElement);var t=this._mediaEl;t.className=I.a.mediaElement,t.volume=Math.max(0,Math.min(this.props.volume/100,1)),Object.keys(this._mediaListeners).forEach(function(n){t.addEventListener(n,e._mediaListeners[n])}),this._node=u.a.findDOMNode(this),this._node.appendChild(t),this.props.onElementChange?this.props.onElementChange(t):t.src=this.props.src,this.props.isReadyToPlay&&!this.props.paused&&this.props.src&&this._play(),this._mediaEl.playbackRate=this.props.playbackSpeed,this.props.onMetricsPlayerChange(h.b)},n.componentDidUpdate=function(e,t){Object(d.a)(this.props.src===e.src,"Use a new `key` when changing `src`");var n=this.props,r=n.lastSeekPositionSeconds,i=n.paused,a=n.volume,o=n.playbackSpeed,s=n.isReadyToPlay,l=n.audioStream,c=n.subtitleStream,u=n.subtitleSize,p=n.hasBurnedSubtitles,h=n.isStreamChangeInProgress,f=n.onStreamChange,g=this._mediaEl,v=null!=r&&r!==e.lastSeekPositionSeconds,m=(!!e.audioStream&&e.audioStream.id)!==(!!l&&l.id),y=(!!e.subtitleStream&&e.subtitleStream.id)!==(!!c&&c.id),b=e.isStreamChangeInProgress&&!h,S=e.subtitleSize!==u;v&&this.onSeek(r),i===e.paused||g.ended||(i?this._pause():this._play()),a!==e.volume&&(g.volume=Math.max(0,Math.min(a/100,1))),o!==e.playbackSpeed&&(g.playbackRate=o),!s||e.isReadyToPlay||i||this._play(),f&&(m&&!h||y&&!h||b||S&&p)&&f()},n.componentWillUnmount=function(){var e=this;this._isUnmounting=!0,this.props.onBufferChange&&this.props.onBufferChange({start:0,end:0}),this._node.removeChild(this._mediaEl),this._mediaEl.src="",this._mediaEl.removeAttribute("src"),this._mediaEl.className="",Object.keys(this._mediaListeners).forEach(function(t){e._mediaEl.removeEventListener(t,e._mediaListeners[t])}),this.props.allowRecycleElement&&Object(g.b)(this._mediaEl)},n._play=function(){var e=this,t=this._mediaEl.play();t&&t.then&&t.then(null,function(t){e._isUnmounting||(("AbortError"===t.name||"NotAllowedError"===t.name)&&e.props.onPause&&e.props.onPause(),p.a.warn(t.name+": "+t.message))})},n._pause=function(){this._mediaEl.pause()},n._canNativelySelectAudioTrack=function(){var e=this.props,t=e.audioStreams,n=e.isDecisionDirectPlay;return!!(t&&t.length&&n&&this._mediaEl.audioTracks)},n._selectAudioTrack=function(){var e=this.props,t=e.audioStreams,n=e.audioStream,r=this._mediaEl.audioTracks;if(r)for(var i=t.findIndex(function(e){return e.id===n.id}),a=0;a<r.length;a++)r[a].enabled=a===i},n.render=function(){var e,t=this.props,n=t.height,r=t.width,a=t.placement,o=t.edgeGutterX,s=t.edgeGutterY,l=t.isStackedAbove,c=t.onTick;if(a===f.b)e={display:"none"};else{switch(e={position:"absolute",width:-1===r?"100%":r+"px",height:-1===n?"100%":n+"px"},a){case f.a:e.bottom=s||0,e.left=o||0;break;case f.c:e.top=s||0,e.left=o||0}l&&(e.zIndex=1)}return i()("div",{style:e},void 0,this.state.isStarted?i()(b,{onPositionUpdate:this.onPositionUpdate,onTick:c}):null)},t}(C);D.defaultProps={mediaType:"video",positionSeconds:0,placement:f.c,width:-1,height:-1,edgeGutterX:0,edgeGutterY:0,volume:100,playbackSpeed:1,allowRecycleElement:!1,isReadyToPlay:!0};t.a=D},function(e,t,n){"use strict";var r=n(28);t.a=function(e,t){Object(r.a)(function(e){return e&&("function"==typeof e||Object.values(e).every(function(e){return"function"==typeof e}))}("object"==typeof e?e:t),"Callback must be a function")}},function(e,t,n){"use strict";t.a=function(e){return!(!e||!e.status||401!==e.status&&422!==e.status)}},function(e,t,n){"use strict";var r=n(5),i=n.n(r),a=n(15),o=n(19),s=n(290),l=o.a.extend({name:"FilterCollection",context:["server","section","includeAdvanced"],model:s.a,comparator:"filterType",includeAdvanced:!0,url:function(){var e=i.a.result(this.section,"url"),t=this.section.get("currentType"),n={includeAdvanced:this.includeAdvanced?1:0};return t&&(n.type=t.id),a.join([e,"/filters"],n)},findUnwatchedFilter:function(){return this.get("unwatched")||this.get("unwatchedLeaves")}});t.a=l},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(41),i=n(213);function a(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var a=Object(r.a)(t);return Object(i.a)(e,-a,n)}},function(e,t,n){"use strict";n.d(t,"a",function(){return a});var r=n(34),i=n(165);function a(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),a=n.getUTCFullYear(),o=new Date(0);o.setUTCFullYear(a+1,0,4),o.setUTCHours(0,0,0,0);var s=Object(i.a)(o,t),l=new Date(0);l.setUTCFullYear(a,0,4),l.setUTCHours(0,0,0,0);var c=Object(i.a)(l,t);return n.getTime()>=s.getTime()?a+1:n.getTime()>=c.getTime()?a:a-1}},function(e,t,n){"use strict";function r(e){return e>0?e+" kbps":""}n.d(t,"a",function(){return r})},function(e,t,n){"use strict";n.d(t,"a",function(){return i});var r=n(444);function i(e){return Object(r.a)(e)}},function(e,t,n){e.exports={page:"Page-page-aq7i_X"}},function(e,t,n){e.exports={sidebarContent:"SettingsSidebar-sidebarContent-3yMjj9",alertIcon:"SettingsSidebar-alertIcon-2t3ZyX"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="",l=this.escapeExpression;return s+='<form class="edit-metadata-form"> ',((o=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,i="";return i+=" "+l((r=n(33),r&&(r.__esModule?r.default:r)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "},a),data:a}))||0===o)&&(s+=o),s+=" </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon pencil"></i> '+c("function"==typeof(s=t&&t.paneTitle)?s.apply(t):s)+'</h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar hidden"> <ul class="list modal-nav-list"> ',((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.general,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn general-btn" data-pane="general" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> '+c(i(n(14)).call(e,"General",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.tags,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn tags-btn" data-pane="tags" href="#"> <i class="modal-nav-icon glyphicon tags"></i> '+c(i(n(14)).call(e,"Tags",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.sharing,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn sharing-btn" data-pane="sharing" href="#"> <i class="modal-nav-icon glyphicon parents"></i> '+c(i(n(14)).call(e,"Sharing",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.poster,{hash:{},inverse:this.noop,fn:this.program(7,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn poster-btn" data-pane="poster" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(14)).call(e,"Poster",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.banner,{hash:{},inverse:this.noop,fn:this.program(9,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn banner-btn" data-pane="banner" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(14)).call(e,"Banner",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.art,{hash:{},inverse:this.noop,fn:this.program(11,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn art-btn" data-pane="art" href="#"> <i class="modal-nav-icon glyphicon picture"></i> '+c(i(n(14)).call(e,"Background",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.info,{hash:{},inverse:this.noop,fn:this.program(13,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn info-btn" data-pane="info" href="#"> <i class="modal-nav-icon glyphicon circle-info"></i> '+c(i(n(14)).call(e,"Info",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.panes)||!1===s?s:s.advanced,{hash:{},inverse:this.noop,fn:this.program(15,function(e,t){var r="";return r+=' <li><a class="btn-gray change-pane-btn advanced-btn" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(14)).call(e,"Advanced",{hash:{},data:t}))+" </a></li> "},o),data:o}))||0===s)&&(l+=s),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(t,"Save Changes",{hash:{},data:o}))+"</span> </button> </div> </div> </div> "})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwYzE1NC41MzYgMCAyODAgMTI1LjQ2NCAyODAgMjgwUzQzNC41MzYgNTYwIDI4MCA1NjAgMCA0MzQuNTM2IDAgMjgwIDEyNS40NjQgMCAyODAgMCIgZmlsbD0iI0U1QTAwRCIvPgogICAgPHBhdGggZD0iTTI4MCA0NzVjLTI0LjgzNyAwLTQ1LTIwLjE2My00NS00NXMyMC4xNjMtNDUgNDUtNDUgNDUgMjAuMTYzIDQ1IDQ1LTIwLjE2MyA0NS00NSA0NXpNMjUwIDkwaDYwYzExLjAzOCAwIDIwIDguOTYyIDIwIDIwbC0xMCAyMDVjMCAxMS4wMzgtOC45NjIgMjAtMjAgMjBoLTQwYy0xMS4wMzggMC0yMC04Ljk2Mi0yMC0yMGwtMTAtMjA1YzAtMTEuMDM4IDguOTYyLTIwIDIwLTIweiIgZmlsbD0iIzAwMCIvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t,n){"use strict";var r=n(16),i=n(3),a=r.a.extend({name:"QueryRuleModel",syncedAttrs:{field:i.a.string,fieldTitle:i.a.string,value:i.a.string,valueTitle:i.a.string,operator:i.a.string,type:i.a.string},syncedRelations:{rules:function(){return{relationClass:n(1510).default,rootPropertyName:"Rule",deferred:!0}}}});t.a=a},function(e,t,n){e.exports={message:"HeroMessage-message-3ZznX1"}},function(e,t,n){e.exports={addToSavedButton:"PodcastShowPrePlay-addToSavedButton-2aatEo"}},function(e,t,n){"use strict";var r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function i(e){return function(t){var n=t||{},r=n.width?String(n.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}var a={date:i({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:i({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:i({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},o={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function s(e){return function(t,n){var r=n||{},i=r.width?String(r.width):e.defaultWidth;return("formatting"===(r.context?String(r.context):"standalone")&&e.formattingValues?e.formattingValues[i]||e.formattingValues[e.defaultFormattingWidth]:e.values[i]||e.values[e.defaultWidth])[e.argumentCallback?e.argumentCallback(t):t]}}function l(e){return function(t,n){var r=String(t),i=n||{},a=i.width,o=a&&e.matchPatterns[a]||e.matchPatterns[e.defaultMatchWidth],s=r.match(o);if(!s)return null;var l,c=s[0],u=a&&e.parsePatterns[a]||e.parsePatterns[e.defaultParseWidth];return l="[object Array]"===Object.prototype.toString.call(u)?u.findIndex(function(e){return e.test(r)}):function(e,t){for(var n in e)if(e.hasOwnProperty(n)&&t(e[n]))return n}(u,function(e){return e.test(r)}),l=e.valueCallback?e.valueCallback(l):l,{value:l=i.valueCallback?i.valueCallback(l):l,rest:r.slice(c.length)}}}var c,u={formatDistance:function(e,t,n){var i;return n=n||{},i="string"==typeof r[e]?r[e]:1===t?r[e].one:r[e].other.replace("{{count}}",t),n.addSuffix?n.comparison>0?"in "+i:i+" ago":i},formatLong:a,formatRelative:function(e,t,n,r){return o[e]},localize:{ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:s({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:s({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return Number(e)-1}}),month:s({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:s({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:s({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaulFormattingWidth:"wide"})},match:{ordinalNumber:(c={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e,t){var n=String(e),r=t||{},i=n.match(c.matchPattern);if(!i)return null;var a=i[0],o=n.match(c.parsePattern);if(!o)return null;var s=c.valueCallback?c.valueCallback(o[0]):o[0];return{value:s=r.valueCallback?r.valueCallback(s):s,rest:n.slice(a.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},options:{weekStartsOn:0,firstWeekContainsDate:1}};t.a=u},function(e,t,n){"use strict";n.r(t);var r=n(15),i=n(16),a=n(3),o=n(37),s=n(19),l=i.a.extend({name:"FileModel",idAttribute:"key",rootPropertyName:"File",syncedAttrs:{key:a.a.string,title:a.a.string,path:a.a.string,network:a.a.boolean}}),c=s.a.extend({name:"FileCollection",model:l}),u=i.a.extend({name:"FilePathModel",context:["server","includeFiles"],idAttribute:"key",rootPropertyName:"Path",sessionAttrs:{isBackShortcut:a.a.boolean},sessionRelations:{children:function(){var e={};return this.includeFiles&&(e.includeFiles=1),{relationClass:n(455).default,options:{url:r.join([this.id],e)}}}},syncedAttrs:{key:a.a.string,title:a.a.string,path:a.a.string,home:a.a.boolean,network:a.a.boolean}}),d=s.a.extend({name:"FilePathCollection",context:["server","includeFiles"],model:u,url:function(){var e={};return this.includeFiles&&(e.includeFiles=1),r.join(["/services/browse"],e)}}),p=i.a.extend({name:"FilePathListModel",responseType:o.a.json,context:["server","includeFiles","url"],url:function(){var e={};return this.includeFiles&&(e.includeFiles=1),r.join(["/services/browse"],e)},sessionAttrs:{truncatedFilesCount:a.a.integer},syncedRelations:{paths:{relationClass:d,rootPropertyName:"Path"},files:{relationClass:c,rootPropertyName:"File"}},augmentResponse:function(e){return e.File&&(e.truncatedFilesCount=Math.max(0,e.File.length-500),e.File=e.File.slice(0,500)),e}});t.default=p},function(e,t,n){"use strict";var r=n(19),i=n(16),a=n(3),o=i.a.extend({name:"OperatorModel",context:["server"],idAttribute:"key",rootPropertyName:"Operator",syncedAttrs:{key:a.a.string,title:a.a.string}}),s=r.a.extend({name:"OperatorCollection",context:["server"],model:o}),l=i.a.extend({name:"MetadataFieldTypeModel",context:["server"],idAttribute:"type",rootPropertyName:"FieldType",syncedAttrs:{type:a.a.string.isRequired},syncedRelations:{operators:{relationClass:s,rootPropertyName:"Operator"}}}),c=r.a.extend({name:"MetadataTypeCollection",context:["server"],model:l});t.a=c},function(e,t,n){"use strict";var r=n(19),i=n(16),a=n(3),o=i.a.extend({name:"FieldModel",context:["server"],idAttribute:"key",rootPropertyName:"Field",syncedAttrs:{key:a.a.string,title:a.a.string,type:a.a.string,subType:a.a.string}}),s=r.a.extend({name:"FieldCollection",context:["server"],model:o}),l=n(441),c=n(160),u=i.a.extend({name:"MetadataTypeModel",context:["server"],idAttribute:"key",rootPropertyName:"Type",syncedAttrs:{type:a.a.string,subtype:a.a.string,key:a.a.string,title:a.a.string,context:a.a.string},syncedRelations:{filters:{relationClass:l.a,rootPropertyName:"Filter"},sorts:{relationClass:c.a,rootPropertyName:"Sort"},fields:{relationClass:s,rootPropertyName:"Field"}}}),d=r.a.extend({name:"MetadataTypeCollection",context:["server"],model:u});t.a=d},function(e,t,n){"use strict";var r=n(34),i=n(143),a=n(41),o=n(291);n.d(t,"a",function(){return l});var s=6048e5;function l(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),l=Object(i.a)(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,s=r&&r.options&&r.options.firstWeekContainsDate,l=null==s?1:Object(a.a)(s),c=null==n.firstWeekContainsDate?l:Object(a.a)(n.firstWeekContainsDate),u=Object(o.a)(e,t),d=new Date(0);return d.setUTCFullYear(u,0,c),d.setUTCHours(0,0,0,0),Object(i.a)(d,t)}(n,t).getTime();return Math.round(l/s)+1}},function(e,t,n){"use strict";var r=n(34),i=n(165),a=n(443);n.d(t,"a",function(){return s});var o=6048e5;function s(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(r.a)(e,t),s=Object(i.a)(n,t).getTime()-function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(a.a)(e,t),r=new Date(0);return r.setUTCFullYear(n,0,4),r.setUTCHours(0,0,0,0),Object(i.a)(r,t)}(n,t).getTime();return Math.round(s/o)+1}},function(e,t,n){e.exports={spinner:"Spinner-spinner-Niere7 spin-spin-2kLwt_",spinnerContainer:"Spinner-spinnerContainer-1dbVIc",spinnerLabel:"Spinner-spinnerLabel-3_zR9A",small:"Spinner-small-3PStHE Spinner-spinner-Niere7 spin-spin-2kLwt_",medium:"Spinner-medium-31XpHm Spinner-spinner-Niere7 spin-spin-2kLwt_",large:"Spinner-large-3AQPyD Spinner-spinner-Niere7 spin-spin-2kLwt_"}},function(e,t,n){e.exports={container:"ServerDashboardSectionContent-container-1-ybgJ",spinner:"ServerDashboardSectionContent-spinner-1_1RiC",errorMessage:"ServerDashboardSectionContent-errorMessage-12dFO_ ServerDashboardPageMessage-container-1GpeeA"}},function(e,t,n){e.exports={modalBody:"ModalBody-modalBody--5uHSu",modalScroller:"ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalBody-innerModalBody-36gmbf"}},function(e,t,n){e.exports={modalContainer:"Modal-modalContainer-tNumMm",modalBackdrop:"Modal-modalBackdrop-3-L45r",modal:"Modal-modal-3Z1JSX",small:"Modal-small-37D0Mq Modal-modal-3Z1JSX",medium:"Modal-medium-1UIAdk Modal-modal-3Z1JSX",large:"Modal-large-1fVmOF Modal-modal-3Z1JSX"}},function(e,t,n){e.exports={secureIcon:"ServerConnectionStatusIcon-secureIcon-2Rpe9G",alertIcon:"ServerConnectionStatusIcon-alertIcon-Jq_NiV",warningIcon:"ServerConnectionStatusIcon-warningIcon-2xMTpf"}},function(e,t,n){e.exports={button:"Button-button-2kT68l Link-link-2n0yJn",default:"Button-default--yDCH5",primary:"Button-primary-3fwLzo",success:"Button-success-lQICHw",danger:"Button-danger-2T8IUN",dark:"Button-dark-y17CmQ",small:"Button-small-PnnoGC",medium:"Button-medium-3g45_Q",large:"Button-large-3S9UdJ"}},function(e,t,n){e.exports={titleBackground:"TopPlayedColumnHeader-titleBackground-VwA_DQ",emptyTitleBackground:"TopPlayedColumnHeader-emptyTitleBackground-3zFBIt TopPlayedColumnHeader-titleBackground-VwA_DQ",title:"TopPlayedColumnHeader-title-llQFnL"}},function(e,t,n){e.exports={info:"PlexPassUpsellInfo-info-2k9lub",moreInfo:"PlexPassUpsellInfo-moreInfo-3FndRu",upsell:"PlexPassUpsellInfo-upsell-uBlkWj PlexPassUpsell-upsell-3i2JLq"}},function(e,t,n){e.exports={unsupported:"UnsupportedDeviceIcon-unsupported-_Tz7jI",unsupportedIcon:"UnsupportedDeviceIcon-unsupportedIcon-gpTqo6",unsupportedTooltip:"UnsupportedDeviceIcon-unsupportedTooltip-38E6zp Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},function(e,t,n){e.exports={sliderContainer:"SliderInputGroup-sliderContainer-2Dx08D input-input-1P2Vi4",slider:"SliderInputGroup-slider-1x6JAX Slider-slider-2oLVTs",sliderValue:"SliderInputGroup-sliderValue-2oLooy"}},function(e,t,n){e.exports={channel:"DVRSetupDeviceChannel-channel-3Z90sR",channelIdentifier:"DVRSetupDeviceChannel-channelIdentifier-1EqGb3",signalStrength:"DVRSetupDeviceChannel-signalStrength-2Jp2fk SignalStrength-signalStrength-33wP3p"}},function(e,t,n){e.exports={message:"EPGDownload-message-1nld-C",spinnerContainer:"EPGDownload-spinnerContainer-OHwKIR",spinnerMessage:"EPGDownload-spinnerMessage-j4e6Wi"}},function(e,t,n){e.exports={badge:"Badge-badge-21NQRi",isHidden:"Badge-isHidden-2p8gjS",default:"Badge-default-VTVet2",primary:"Badge-primary-3suJx3",success:"Badge-success-3m8_X_",danger:"Badge-danger-2rQkaX"}},function(e,t,n){e.exports={icon:"ModalContentError-icon-235FFE",default:"ModalContentError-default-1xFU82",primary:"ModalContentError-primary-34blWW",success:"ModalContentError-success-2Wv-fJ",danger:"ModalContentError-danger-22PUTO",message:"ModalContentError-message-3J35my"}},function(e,t,n){e.exports={progressContainer:"DVRManageChannelsInfo-progressContainer-1JJ2zU",scroller:"DVRManageChannelsInfo-scroller-1mBV99 Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={tagsInput:"TagsInput-tagsInput-2eRCns",input:"TagsInput-input-3KDPbm",hasError:"TagsInput-hasError-22oXCy input-hasError-1to6Ql"}},function(e,t,n){e.exports={container:"ShareLibraryRestrictionsTag-container-1-kjNR",tag:"ShareLibraryRestrictionsTag-tag-3hraBl",remove:"ShareLibraryRestrictionsTag-remove-2hMqXJ TagLabel-remove-27nEke"}},function(e,t,n){e.exports={section:"ShareLibraryRestrictionsFilters-section-1kQt1u"}},function(e,t,n){e.exports={toolbarButton:"ToolbarButton-toolbarButton-2i2nnD",bottomLeft:"ToolbarButton-bottomLeft-3shLl3 Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"ToolbarButton-bottomCenter-1rHc9f Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"ToolbarButton-bottomRight-3evr63 Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",hasFocus:"ToolbarButton-hasFocus-1rnm1X"}},function(e,t,n){e.exports={button:"ServerSettingsServerMenuButton-button-24D7lE SidebarMenuButton-sidebarMenuButton-khx_Pb",secondaryTitle:"ServerSettingsServerMenuButton-secondaryTitle-2Flndc SidebarMenuButton-sidebarMenuSecondaryTitle-2jpJLR",icon:"ServerSettingsServerMenuButton-icon-2pk73R"}},function(e,t,n){e.exports={sidebarListHeaderContainer:"SidebarList-sidebarListHeaderContainer-2D2g-W",sidebarListHeader:"SidebarList-sidebarListHeader-1t0yzs",sidebarListHeaderIcon:"SidebarList-sidebarListHeaderIcon-3Itr_l"}},function(e,t,n){e.exports={item:"NestedMenuItem-item-23kmqU",icon:"NestedMenuItem-icon-wU7kAQ",menu:"NestedMenuItem-menu-OHevMF Menu-menu-3XnN6J"}},function(e,t,n){e.exports={activityIcon:"NavBarActivityButton-activityIcon-1Db2GP NavBarActivityIcon-iconContainer-24xhXd",label:"NavBarActivityButton-label-2ZN0gQ",isHighlighted:"NavBarActivityButton-isHighlighted-27qlko"}},function(e,t,n){e.exports={fullPlayerContainer:"Player-fullPlayerContainer-1-HN7X",fullPlayerContainerBackground:"Player-fullPlayerContainerBackground-1rsLDv",miniPlayerContainer:"Player-miniPlayerContainer-3S8L9e"}},function(e,t,n){e.exports={button:"AddOrRemoveButton-button-3FgmE7 IconButton-button-9An-7I",icon:"AddOrRemoveButton-icon-2m9zyA",iconRemovable:"AddOrRemoveButton-iconRemovable-3pNZ1z AddOrRemoveButton-icon-2m9zyA"}},function(e,t,n){e.exports={container:"MetadataTitleAttributedLink-container-3yxPWV",badge:"MetadataTitleAttributedLink-badge-jZWYpy",title:"MetadataTitleAttributedLink-title-3qLtHw"}},function(e,t,n){e.exports={container:"MetadataTitleAttributedYear-container-13zCHq",badge:"MetadataTitleAttributedYear-badge-2LIkKl",title:"MetadataTitleAttributedYear-title-1wqqCr"}},function(e,t,n){e.exports={playButton:"PlayPauseOverlay-playButton-25OfWy PlayButton-playButton-3WX8X-",pauseButton:"PlayPauseOverlay-pauseButton-hSFg5q PlayPauseOverlay-playButton-25OfWy PlayButton-playButton-3WX8X-",playCircle:"PlayPauseOverlay-playCircle-3ydPYX PlayButton-playCircle-3Evfdw"}},function(e,t,n){e.exports={container:"AudioVideoPlaybackSettings-container-2pTAjN AudioVideoStripeContainer-container-MI02OU",title:"AudioVideoPlaybackSettings-title-2MRYF1",menusContainer:"AudioVideoPlaybackSettings-menusContainer-2bvbji"}},function(e,t,n){e.exports={message:"AdInfoBar-message-oXwI7b",skipAdButton:"AdInfoBar-skipAdButton-2CaCxu"}},function(e,t,n){e.exports={progress:"PosterCardOverlayProgress-progress-16k0BJ",progressTrack:"PosterCardOverlayProgress-progressTrack-3luzPK",progressBar:"PosterCardOverlayProgress-progressBar-3k291O"}},function(e,t,n){e.exports={poster:"MetadataPosterCardFace-poster-L2P6rC",face:"MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardFace-isSelected-1XUgkl",faceFront:"MetadataPosterCardFace-faceFront-1bxHG3",faceBack:"MetadataPosterCardFace-faceBack-1ofDHf"}},function(e,t,n){e.exports={cardContainer:"MetadataPosterCard-cardContainer-2gRcQF",card:"MetadataPosterCard-card-3bztRc",isFlipped:"MetadataPosterCard-isFlipped-2lUIIU"}},function(e,t,n){e.exports={slider:"VolumeSlider-slider-1QXdTt VerticalSlider-slider-25iZh4 Slider-slider-2oLVTs",track:"VolumeSlider-track-2WJDzq VerticalSlider-track-1RVQfn Slider-track-28JOSn",fill:"VolumeSlider-fill-3XkYyD VerticalSlider-fill-2HISoE Slider-fill-35GFqs"}},function(e,t,n){e.exports={container:"LiveTVUpNext-container-1kAJR9",upNext:"LiveTVUpNext-upNext-pGRmzn",icon:"LiveTVUpNext-icon-3DqMOZ"}},function(e,t,n){e.exports={container:"SourceBadge-container-3OfQBW",text:"SourceBadge-text-Y8yYEa",attribution:"SourceBadge-attribution-YBphYv",avatar:"SourceBadge-avatar-3iVqZC AvatarImg-avatar-3Op56u"}},function(e,t,n){e.exports={title:"MetadataDirectoryPosterCell-title-3smW-W MetadataPosterTitle-title-3tU5F9",titleContainer:"MetadataDirectoryPosterCell-titleContainer-2B6MFr MetadataPosterCell-titleContainer-24DI63",placeholder:"MetadataDirectoryPosterCell-placeholder-1qJ1Mw MetadataPosterCardFace-poster-L2P6rC"}},function(e,t,n){e.exports={titleContainer:"MetadataPosterCell-titleContainer-24DI63",continueWatchingTitleContainer:"MetadataPosterCell-continueWatchingTitleContainer-3yCAYP",splitTitleContainer:"MetadataPosterCell-splitTitleContainer-RAVdFk"}},function(e,t,n){e.exports={groupItem:"PrePlayDetailsGroupItem-groupItem-3Tut9G",label:"PrePlayDetailsGroupItem-label-2Ee43I",content:"PrePlayDetailsGroupItem-content-1aRNUU"}},function(e,t,n){e.exports={fileInput:"FileInput-fileInput-2okdnH",filename:"FileInput-filename-3PPxwz",noFilename:"FileInput-noFilename-sUIsdE"}},function(e,t,n){e.exports={loadingMessage:"PrePlayDetailsStreamsGroup-loadingMessage-27_ndH"}},function(e,t,n){e.exports={ratingRightTitle:"PrePlayRatingRightTitle-ratingRightTitle-1d4YyI PrePlayRightTitle-rightTitle-VxiwUS",starRating:"PrePlayRatingRightTitle-starRating-31XbAl",criticRating:"PrePlayRatingRightTitle-criticRating-2J_tnK"}},function(e,t,n){e.exports={container:"AudioVideoPostPlay-container-1G36_l",poster:"AudioVideoPostPlay-poster-1YcVF8",details:"AudioVideoPostPlay-details-2CzQuz"}},function(e,t,n){e.exports={magazine:"Carousel-magazine-3pULs0",slide:"Carousel-slide-1-FUF9",currentSlide:"Carousel-currentSlide-1fcfro Carousel-slide-1-FUF9"}},function(e,t,n){e.exports={container:"PhotoHubList-container-1-l_qP",title:"PhotoHubList-title-1lMNLT",list:"PhotoHubList-list-3GW3Uv"}},function(e,t,n){e.exports={sidebarUnderlay:"EmptySourceSidebar-sidebarUnderlay-vtLxD9 SourceSidebar-sidebarUnderlay-2odIuy",collapsedSidebar:"EmptySourceSidebar-collapsedSidebar-ORj7Lb SourceSidebar-collapsedSidebar-3MDUee SourceSidebar-sidebar-YpV2mw",openSidebar:"EmptySourceSidebar-openSidebar-uzbF72 SourceSidebar-openSidebar-364QEr SourceSidebar-sidebar-YpV2mw"}},function(e,t,n){e.exports={container:"TypeFirstPageHeaderTitle-container-2zgvvy",title:"TypeFirstPageHeaderTitle-title-3M-1OL",detail:"TypeFirstPageHeaderTitle-detail-3Bc5Lb"}},function(e,t,n){e.exports={titleContainer:"ChannelsGridDetailRowTitle-titleContainer-2gAFRL",primaryTitle:"ChannelsGridDetailRowTitle-primaryTitle-1SX7s0",secondaryTitle:"ChannelsGridDetailRowTitle-secondaryTitle-2HfyQE"}},function(e,t,n){e.exports={actions:"ChannelsGridMetadataCellButtons-actions-250KmI",button:"ChannelsGridMetadataCellButtons-button-9hRMcK",playButton:"ChannelsGridMetadataCellButtons-playButton-3vgI50 PlayButton-playButton-3WX8X- ChannelsGridMetadataCellButtons-button-9hRMcK",recordButton:"ChannelsGridMetadataCellButtons-recordButton-1bSu6m RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2 ChannelsGridMetadataCellButtons-button-9hRMcK"}},function(e,t,n){e.exports={container:"ChannelsGridDetailRow-container-3CcnPZ",preplayContainer:"ChannelsGridDetailRow-preplayContainer-2ECfQQ",poster:"ChannelsGridDetailRow-poster-3A0RgC PosterCard-card-1rN9gd"}},function(e,t,n){e.exports={fill:"ChannelsGridProgress-fill-hY0DOn",indicator:"ChannelsGridProgress-indicator-2xDxPk",active:"ChannelsGridProgress-active-1lw2kP"}},function(e,t,n){e.exports={container:"CurrentSourcePageHeaderLeft-container-1WP_u-",currentSourceContainer:"CurrentSourcePageHeaderLeft-currentSourceContainer-SqIHF8",childrenContainer:"CurrentSourcePageHeaderLeft-childrenContainer-1LCz1_"}},function(e,t,n){e.exports={header:"DatePickerTimeList-header-2g8yBs",backIcon:"DatePickerTimeList-backIcon-1dZa89",headerText:"DatePickerTimeList-headerText-3xMhWJ"}},function(e,t,n){e.exports={listContainer:"DatePickerMenu-listContainer-2IYmJe",list:"DatePickerMenu-list-3YRaAd",showTimeOptions:"DatePickerMenu-showTimeOptions-2OWJ97"}},function(e,t,n){e.exports={tableCell:"TableCell-tableCell-4fCpHS",activeTableCell:"TableCell-activeTableCell-1y-9p6 TableCell-tableCell-4fCpHS",title:"TableCell-title-6gbkRR"}},function(e,t,n){e.exports={item:"PlayHistoryTableRow-item-3ols-Q",alternateItem:"PlayHistoryTableRow-alternateItem-2aufHo PlayHistoryTableRow-item-3ols-Q",columns:"PlayHistoryTableRow-columns-28XRK5"}},function(e,t,n){e.exports={form:"AddToCatalogModal-form-3c_MqA",inputContainer:"AddToCatalogModal-inputContainer-3V2vNI",fileNote:"AddToCatalogModal-fileNote-25qjc8"}},function(e,t,n){e.exports={discoverPageContent:"DiscoverPage-discoverPageContent-3vBK2w PageContent-innerPageContent-3ktLTA",discoverPageList:"DiscoverPage-discoverPageList-2_hYJh",attribution:"DiscoverPage-attribution-1_O8mO ProgramGuideAttribution-attribution-3Ca_IP"}},function(e,t,n){e.exports={titleContainer:"MetadataTitleCombinedTitleTrackArtist-titleContainer-4jblz3",title:"MetadataTitleCombinedTitleTrackArtist-title-2YgMrS",trackArtist:"MetadataTitleCombinedTitleTrackArtist-trackArtist-19qjuQ"}},function(e,t,n){e.exports={loadingItem:"MetadataSummaryCellLoading-loadingItem-2TLkoX",alternateLoadingItem:"MetadataSummaryCellLoading-alternateLoadingItem-6d55PW MetadataSummaryCellLoading-loadingItem-2TLkoX",posterContainer:"MetadataSummaryCellLoading-posterContainer-18W6xj"}},function(e,t,n){e.exports={metadataListPageContent:"MetadataListPageContent-metadataListPageContent-1cRCVS PageContent-pageContent-16mK6G",metadataListScroller:"MetadataListPageContent-metadataListScroller-3LU9dC",hasGutter:"MetadataListPageContent-hasGutter-DThBJL",attribution:"MetadataListPageContent-attribution-3PHIbZ"}},function(e,t,n){e.exports={schedulePageContent:"RecordingSchedulePageContent-schedulePageContent-zrwp09 PageContent-pageContent-16mK6G",schedulePageInnerContent:"RecordingSchedulePageContent-schedulePageInnerContent-3967MX PageContent-innerPageContent-3ktLTA",emptyDescription:"RecordingSchedulePageContent-emptyDescription-3A30qq EmptyPage-description-oYWtW_"}},function(e,t,n){e.exports={multiSelectContainer:"MultiSelectInputGroup-multiSelectContainer-2ePyeH",multiSelectItem:"MultiSelectInputGroup-multiSelectItem-qpRtxx",help:"MultiSelectInputGroup-help-FxDQrq FormHelp-help-3VCuqa"}},function(e,t,n){e.exports={sectionWrapper:"SettingsFormSection-sectionWrapper-1-gPgj",section:"SettingsFormSection-section-1zYMPA"}},function(e,t,n){e.exports={container:"PrePlayAttributedLeftTitle-container-3uhPwv",attribution:"PrePlayAttributedLeftTitle-attribution-1XwG5F",title:"PrePlayAttributedLeftTitle-title-3g0eIf"}},function(e,t,n){e.exports={recordButton:"EPGPrePlayRecordButton-recordButton-1Y_Dwm PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",recordingIcon:"EPGPrePlayRecordButton-recordingIcon-15EDBw",recordIcon:"EPGPrePlayRecordButton-recordIcon-3SHaDe"}},function(e,t,n){e.exports={emptyContainer:"PlaylistItemList-emptyContainer-3nMxMp",emptyMessage:"PlaylistItemList-emptyMessage-1ot0Cu PlaylistItemList-emptyContainer-3nMxMp"}},function(e,t,n){e.exports={emptyContainer:"PrePlayPageHeaderSiblingsMenu-emptyContainer-zMrx0k"}},function(e,t,n){e.exports={container:"UsersSettingsRowShares-container-30EeNi",status:"UsersSettingsRowShares-status-O26EBM"}},function(e,t,n){e.exports={header:"UsersSettingsPageListHeader-header-Xombf9",pageHeaderLeft:"UsersSettingsPageListHeader-pageHeaderLeft-3YO7gD",pageHeaderRight:"UsersSettingsPageListHeader-pageHeaderRight-2vIIyU"}},function(e,t,n){e.exports={container:"UsersSettingsRowHome-container-7lwe0f",icon:"UsersSettingsRowHome-icon-QYwADJ",lockedIcon:"UsersSettingsRowHome-lockedIcon-oExhHy UsersSettingsRowHome-icon-QYwADJ"}},function(e,t,n){e.exports={row:"UsersSettingsRowHomeUser-row-yBG7Dd UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowHomeUser-actions-2K_nSZ UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt",editPin:"UsersSettingsRowHomeUser-editPin-14dFb5"}},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}},function(e,t,n){var r=n(679),i=n(683);e.exports=function(e){return null!=e&&i(e.length)&&!r(e)}},function(e,t,n){var r=n(347).Symbol;e.exports=r},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){var r=n(682),i=n(1453),a=n(1454);function o(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new r;++t<n;)this.add(e[t])}o.prototype.add=o.prototype.push=i,o.prototype.has=a,e.exports=o},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t,n){var r=n(59),i=n(49).document,a=r(i)&&r(i.createElement);e.exports=function(e){return a?i.createElement(e):{}}},function(e,t,n){var r=n(49),i=n(100);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},function(e,t,n){var r=n(244),i=n(419),a=n(62),o=n(49).Reflect;e.exports=o&&o.ownKeys||function(e){var t=r.f(a(e)),n=i.f;return n?t.concat(n(e)):t}},function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},function(e,t,n){e.exports=n(49)},function(e,t,n){"use strict";var r=n(80),i=n(202),a=n(65);e.exports=function(e){for(var t=r(this),n=a(t.length),o=arguments.length,s=i(o>1?arguments[1]:void 0,n),l=o>2?arguments[2]:void 0,c=void 0===l?n:i(l,n);c>s;)t[s++]=e;return t}},function(e,t,n){var r=n(358),i=n(63)("iterator"),a=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||a[i]===e)}},function(e,t,n){"use strict";var r=n(24),i=n(702),a=n(158),o=n(277),s=n(157),l=n(100),c=n(113),u=n(242),d=n(63)("iterator"),p=n(358),h=n(703),f=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,v=function(){return this};e.exports=function(e,t,n,h,m,y,b){i(n,t,h);var S,I,C,M=function(e){if(e===m&&E)return E;if(!g&&e in P)return P[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},D=t+" Iterator",w=!1,P=e.prototype,T=P[d]||P["@@iterator"]||m&&P[m],E=!g&&T||M(m),x="Array"==t&&P.entries||T;if(x&&(S=a(x.call(new e)),f!==Object.prototype&&S.next&&(u||a(S)===f||(o?o(S,f):"function"!=typeof S[d]&&l(S,d,v)),s(S,D,!0,!0),u&&(p[D]=v))),"values"==m&&T&&"values"!==T.name&&(w=!0,E=function(){return T.call(this)}),u&&!b||P[d]===E||l(P,d,E),p[t]=E,m)if(I={values:M("values"),keys:y?E:M("keys"),entries:M("entries")},b)for(C in I)!g&&!w&&C in P||c(P,C,I[C]);else r({target:t,proto:!0,forced:g||w},I);return I}},function(e,t,n){e.exports=!n(45)(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},function(e,t,n){var r=n(543),i=n(49),a=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?a(r[e])||a(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},function(e,t,n){"use strict";var r=n(49),i=n(67),a=n(64).NATIVE_ARRAY_BUFFER,o=n(100),s=n(279),l=n(45),c=n(205),u=n(129),d=n(65),p=n(706),h=n(244).f,f=n(71).f,g=n(544),v=n(157),m=n(128),y=m.get,b=m.set,S=r.ArrayBuffer,I=S,C=r.DataView,M=r.Math,D=r.RangeError,w=M.abs,P=M.pow,T=M.floor,E=M.log,x=M.LN2,O=function(e,t,n){var r,i,a,o=new Array(n),s=8*n-t-1,l=(1<<s)-1,c=l>>1,u=23===t?P(2,-24)-P(2,-77):0,d=e<0||0===e&&1/e<0?1:0,p=0;for((e=w(e))!=e||e===1/0?(i=e!=e?1:0,r=l):(r=T(E(e)/x),e*(a=P(2,-r))<1&&(r--,a*=2),(e+=r+c>=1?u/a:u*P(2,1-c))*a>=2&&(r++,a/=2),r+c>=l?(i=0,r=l):r+c>=1?(i=(e*a-1)*P(2,t),r+=c):(i=e*P(2,c-1)*P(2,t),r=0));t>=8;o[p++]=255&i,i/=256,t-=8);for(r=r<<t|i,s+=t;s>0;o[p++]=255&r,r/=256,s-=8);return o[--p]|=128*d,o},j=function(e,t){var n,r=e.length,i=8*r-t-1,a=(1<<i)-1,o=a>>1,s=i-7,l=r-1,c=e[l--],u=127&c;for(c>>=7;s>0;u=256*u+e[l],l--,s-=8);for(n=u&(1<<-s)-1,u>>=-s,s+=t;s>0;n=256*n+e[l],l--,s-=8);if(0===u)u=1-o;else{if(u===a)return n?NaN:c?-1/0:1/0;n+=P(2,t),u-=o}return(c?-1:1)*n*P(2,u-t)},A=function(e){return e[3]<<24|e[2]<<16|e[1]<<8|e[0]},N=function(e){return[255&e]},k=function(e){return[255&e,e>>8&255]},L=function(e){return[255&e,e>>8&255,e>>16&255,e>>24&255]},R=function(e){return O(e,23,4)},_=function(e){return O(e,52,8)},U=function(e,t){f(e.prototype,t,{get:function(){return y(this)[t]}})},z=function(e,t,n,r){var i=p(+n),a=y(e);if(i+t>a.byteLength)throw D("Wrong index");var o=y(a.buffer).bytes,s=i+a.byteOffset,l=o.slice(s,s+t);return r?l:l.reverse()},F=function(e,t,n,r,i,a){var o=p(+n),s=y(e);if(o+t>s.byteLength)throw D("Wrong index");for(var l=y(s.buffer).bytes,c=o+s.byteOffset,u=r(+i),d=0;d<t;d++)l[c+d]=u[a?d:t-d-1]};if(a){if(!l(function(){S(1)})||!l(function(){new S(-1)})||l(function(){return new S,new S(1.5),new S(NaN),"ArrayBuffer"!=S.name})){for(var B,H=(I=function(e){return c(this,I),new S(p(e))}).prototype=S.prototype,V=h(S),Q=0;V.length>Q;)(B=V[Q++])in I||o(I,B,S[B]);H.constructor=I}var W=new C(new I(2)),G=C.prototype.setInt8;W.setInt8(0,2147483648),W.setInt8(1,2147483649),!W.getInt8(0)&&W.getInt8(1)||s(C.prototype,{setInt8:function(e,t){G.call(this,e,t<<24>>24)},setUint8:function(e,t){G.call(this,e,t<<24>>24)}},{unsafe:!0})}else I=function(e){c(this,I,"ArrayBuffer");var t=p(e);b(this,{bytes:g.call(new Array(t),0),byteLength:t}),i||(this.byteLength=t)},C=function(e,t,n){c(this,C,"DataView"),c(e,I,"DataView");var r=y(e).byteLength,a=u(t);if(a<0||a>r)throw D("Wrong offset");if(a+(n=void 0===n?r-a:d(n))>r)throw D("Wrong length");b(this,{buffer:e,byteLength:n,byteOffset:a}),i||(this.buffer=e,this.byteLength=n,this.byteOffset=a)},i&&(U(I,"byteLength"),U(C,"buffer"),U(C,"byteLength"),U(C,"byteOffset")),s(C.prototype,{getInt8:function(e){return z(this,1,e)[0]<<24>>24},getUint8:function(e){return z(this,1,e)[0]},getInt16:function(e){var t=z(this,2,e,arguments[1]);return(t[1]<<8|t[0])<<16>>16},getUint16:function(e){var t=z(this,2,e,arguments[1]);return t[1]<<8|t[0]},getInt32:function(e){return A(z(this,4,e,arguments[1]))},getUint32:function(e){return A(z(this,4,e,arguments[1]))>>>0},getFloat32:function(e){return j(z(this,4,e,arguments[1]),23)},getFloat64:function(e){return j(z(this,8,e,arguments[1]),52)},setInt8:function(e,t){F(this,1,e,N,t)},setUint8:function(e,t){F(this,1,e,N,t)},setInt16:function(e,t){F(this,2,e,k,t,arguments[2])},setUint16:function(e,t){F(this,2,e,k,t,arguments[2])},setInt32:function(e,t){F(this,4,e,L,t,arguments[2])},setUint32:function(e,t){F(this,4,e,L,t,arguments[2])},setFloat32:function(e,t){F(this,4,e,R,t,arguments[2])},setFloat64:function(e,t){F(this,8,e,_,t,arguments[2])}});v(I,"ArrayBuffer"),v(C,"DataView"),t.ArrayBuffer=I,t.DataView=C},function(e,t,n){var r=n(59),i=n(277);e.exports=function(e,t,n){var a,o=t.constructor;return o!==n&&"function"==typeof o&&(a=o.prototype)!==n.prototype&&r(a)&&i&&i(e,a),e}},function(e,t){e.exports=Math.sign||function(e){return 0==(e=+e)||e!=e?e:e<0?-1:1}},function(e,t,n){"use strict";var r=n(129),i=n(127);e.exports="".repeat||function(e){var t=String(i(this)),n="",a=r(e);if(a<0||a==1/0)throw RangeError("Wrong number of repetitions");for(;a>0;(a>>>=1)&&(t+=t))1&a&&(n+=t);return n}},function(e,t,n){var r,i,a,o=n(49),s=n(137),l=n(204),c=n(696),u=n(539),d=o.setImmediate,p=o.clearImmediate,h=o.process,f=o.MessageChannel,g=o.Dispatch,v=0,m={},y=function(){var e=+this;if(m.hasOwnProperty(e)){var t=m[e];delete m[e],t()}},b=function(e){y.call(e.data)};d&&p||(d=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return m[++v]=function(){("function"==typeof e?e:Function(e)).apply(void 0,t)},r(v),v},p=function(e){delete m[e]},"process"==s(h)?r=function(e){h.nextTick(l(y,e,1))}:g&&g.now?r=function(e){g.now(l(y,e,1))}:f?(a=(i=new f).port2,i.port1.onmessage=b,r=l(a.postMessage,a,1)):o.addEventListener&&"function"==typeof postMessage&&!o.importScripts?(r=function(e){o.postMessage(e+"","*")},o.addEventListener("message",b,!1)):r="onreadystatechange"in u("script")?function(e){c.appendChild(u("script")).onreadystatechange=function(){c.removeChild(this),y.call(e)}}:function(e){setTimeout(l(y,e,1),0)}),e.exports={set:d,clear:p}},function(e,t,n){var r=n(49).navigator;e.exports=r&&r.userAgent||""},function(e,t,n){"use strict";var r=n(138),i=function(e){var t,n;this.promise=new e(function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r}),this.resolve=r(t),this.reject=r(n)};e.exports.f=function(e){return new i(e)}},function(e,t,n){var r=n(59),i=n(137),a=n(63)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[a])?!!t:"RegExp"==i(e))}},function(e,t,n){var r=n(556),i=n(127);e.exports=function(e,t,n){if(r(t))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(e))}},function(e,t,n){var r=n(63)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},function(e,t,n){"use strict";var r=n(428);e.exports=function(e,t,n){return t+(n?r(e,t,!0).length:1)}},function(e,t,n){"use strict";var r,i,a=n(427),o=RegExp.prototype.exec,s=String.prototype.replace,l=o,c=(r=/a/,i=/b*/g,o.call(r,"a"),o.call(i,"a"),0!==r.lastIndex||0!==i.lastIndex),u=void 0!==/()??/.exec("")[1];(c||u)&&(l=function(e){var t,n,r,i,l=this;return u&&(n=new RegExp("^"+l.source+"$(?!\\s)",a.call(l))),c&&(t=l.lastIndex),r=o.call(l,e),c&&r&&(l.lastIndex=l.global?r.index+r[0].length:t),u&&r&&r.length>1&&s.call(r[0],n,function(){for(i=1;i<arguments.length-2;i++)void 0===arguments[i]&&(r[i]=void 0)}),r}),e.exports=l},function(e,t,n){var r=n(45),i=n(425);e.exports=function(e){return r(function(){return!!i[e]()||""!=""[e]()||i[e].name!==e})}},function(e,t,n){var r=n(49),i=n(45),a=n(420),o=n(64).NATIVE_ARRAY_BUFFER_VIEWS,s=r.ArrayBuffer,l=r.Int8Array;e.exports=!o||!i(function(){l(1)})||!i(function(){new l(-1)})||!a(function(e){new l,new l(null),new l(1.5),new l(e)},!0)||i(function(){return 1!==new l(new s(2),1,void 0).length})},function(e,t,n){"use strict";var r=n(564),i=n(565).default;t.VERSION="1.3.0";t.COMPILER_REVISION=4;t.REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:">= 1.0.0"};var a=r.isArray,o=r.isFunction,s=r.toString;function l(e,t){var n;this.helpers=e||{},this.partials=t||{},(n=this).registerHelper("helperMissing",function(e){if(2!==arguments.length)throw new i("Missing helper: '"+e+"'")}),n.registerHelper("blockHelperMissing",function(e,t){var r=t.inverse||function(){},i=t.fn;return o(e)&&(e=e.call(this)),!0===e?i(this):!1===e||null==e?r(this):a(e)?e.length>0?n.helpers.each(e,t):r(this):i(e)}),n.registerHelper("each",function(e,t){var n,r=t.fn,i=t.inverse,s=0,l="";if(o(e)&&(e=e.call(this)),t.data&&(n=d(t.data)),e&&"object"==typeof e)if(a(e))for(var c=e.length;s<c;s++)n&&(n.index=s,n.first=0===s,n.last=s===e.length-1),l+=r(e[s],{data:n});else for(var u in e)e.hasOwnProperty(u)&&(n&&(n.key=u,n.index=s,n.first=0===s),l+=r(e[u],{data:n}),s++);return 0===s&&(l=i(this)),l}),n.registerHelper("if",function(e,t){return o(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||r.isEmpty(e)?t.inverse(this):t.fn(this)}),n.registerHelper("unless",function(e,t){return n.helpers.if.call(this,e,{fn:t.inverse,inverse:t.fn,hash:t.hash})}),n.registerHelper("with",function(e,t){if(o(e)&&(e=e.call(this)),!r.isEmpty(e))return t.fn(e)}),n.registerHelper("log",function(e,t){var r=t.data&&null!=t.data.level?parseInt(t.data.level,10):1;n.log(r,e)})}t.HandlebarsEnvironment=l,l.prototype={constructor:l,logger:c,log:u,registerHelper:function(e,t,n){if("[object Object]"===s.call(e)){if(n||t)throw new i("Arg not supported with multiple helpers");r.extend(this.helpers,e)}else n&&(t.not=n),this.helpers[e]=t},registerPartial:function(e,t){"[object Object]"===s.call(e)?r.extend(this.partials,e):this.partials[e]=t}};var c={methodMap:{0:"debug",1:"info",2:"warn",3:"error"},DEBUG:0,INFO:1,WARN:2,ERROR:3,level:3,log:function(e,t){if(c.level<=e){var n=c.methodMap[e];"undefined"!=typeof console&&console[n]&&console[n].call(console,t)}}};function u(e,t){c.log(e,t)}t.logger=c,t.log=u;var d=function(e){var t={};return r.extend(t,e),t};t.createFrame=d},function(e,t,n){"use strict";var r=n(728).default,i={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},a=/[&<>"'`]/g,o=/[&<>"'`]/;function s(e){return i[e]||"&amp;"}t.extend=function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])};var l,c=Object.prototype.toString;t.toString=c,(l=function(e){return"function"==typeof e})(/x/)&&(l=function(e){return"function"==typeof e&&"[object Function]"===c.call(e)}),t.isFunction=l;var u=Array.isArray||function(e){return!(!e||"object"!=typeof e)&&"[object Array]"===c.call(e)};t.isArray=u,t.escapeExpression=function(e){return e instanceof r?e.toString():e||0===e?(e=""+e,o.test(e)?e.replace(a,s):e):""},t.isEmpty=function(e){return!e&&0!==e||!(!u(e)||0!==e.length)}},function(e,t,n){"use strict";var r=["description","fileName","lineNumber","message","name","number","stack"];function i(e,t){var n;t&&t.firstLine&&(e+=" - "+(n=t.firstLine)+":"+t.firstColumn);for(var i=Error.prototype.constructor.call(this,e),a=0;a<r.length;a++)this[r[a]]=i[r[a]];n&&(this.lineNumber=n,this.column=t.firstColumn)}i.prototype=new Error,t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(e===t)return!1;var i=Object.keys(e),a=Object.keys(t);if(i.length!==a.length)return!0;var o={},s=void 0,l=void 0;for(s=0,l=n.length;s<l;s++)o[n[s]]=!0;for(s=0,l=i.length;s<l;s++){var c=i[s],u=e[c],d=t[c];if(u!==d){if(!o[c]||null===u||null===d||"object"!==(void 0===u?"undefined":r(u))||"object"!==(void 0===d?"undefined":r(d)))return!0;var p=Object.keys(u),h=Object.keys(d);if(p.length!==h.length)return!0;for(var f=0,g=p.length;f<g;f++){var v=p[f];if(u[v]!==d[v])return!0}}}return!1}},function(e,t,n){var r=n(1455);e.exports=function(e,t){return!(null==e||!e.length)&&r(e,t,0)>-1}},function(e,t){e.exports=function(e,t,n){for(var r=-1,i=null==e?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}},function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,o=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var h=o(n);s&&(h=h.concat(s(n)));for(var f=0;f<h.length;++f){var g=h[f];if(!(r[g]||i[g]||d&&d[g])){var v=l(n,g);try{a(t,g,v)}catch(e){}}}return t}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;var o=e[n[a]],s=t[n[a]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){return Boolean(e&&"function"==typeof e.dispose)},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.FILE="__NATIVE_FILE__",t.URL="__NATIVE_URL__",t.TEXT="__NATIVE_TEXT__"},function(e,t,n){var r=n(299).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";n.r(t);var r=n(15),i=n(575);t.default=function(e,t){return Object(i.default)(Object(r.getLastSegment)(e||""),t)}},function(e,t,n){"use strict";n.r(t),t.default=function(e,t,n){if(!e)return"";if(e.length>t){var r=t-3-(n=n||Math.floor((t-3)/2));return e.substr(0,n)+"..."+e.substr(e.length-r)}return e}},function(e,t,n){"use strict";e.exports=n(1404)},function(e,t,n){"use strict";e.exports={gapSmall:"15px",gapMedium:"30px",gapLarge:"60px",navigationHeaderHeight:"60px",navigationUserMenuImageSize:"34px",pageHeaderHeight:"60px",breadcrumbMargin:"25px",menuSmallWidth:"120px",menuMediumWidth:"180px",menuLargeWidth:"220px",menuPadding:"8px",menuItemTopPadding:"4px",menuItemSidePadding:"20px",toolbarButtonWidth:"50px",posterTitlePadding:"10px",posterTitleHeight:"20px",searchHubTitleHeight:"18px",searchResultWidth:"346px",searchResultHeight:"50px",sidebarWidth:"240px",sidebarRightGutterWidth:"15px",sidebarLeftGutterWidth:"25px",tableCellPadding:"20px",tableHeaderHeight:"40px",tableRowHeight:"40px",tableTitleHeight:"60px",inputBorderRadius:"4px",autosuggestSuggestionRadius:"4px",smallArrowWidth:"6px",mediumArrowWidth:"8px",largeArrowWidth:"10px",tooltipArrowSize:"6px",tooltipMarginTop:"-6px",breakpointMobileNarrow:"320px",breakpointExtraSmall:"480px",breakpointSmall:"768px",breakpointMedium:"992px",breakpointLarge:"1200px",modalBodyPadding:"30px"}},function(e,t,n){"use strict";e.exports={defaultColor:"#fff",quietColor:"#a8a8a8",inverseColor:"#222",primaryColor:"#cc7b19",primaryAlternateColor:"#e5a00d",selectedColor:"#f9be03",successColor:"#6b5",dangerColor:"#f53",warningColor:"#f0ad4e",appBackgroundColor:"#3f4245",blackDarkTranslucentBackgroundColor:"rgba(0, 0, 0, 0.15)",blackDarkerTranslucentBackgroundColor:"rgba(0, 0, 0, 0.3)",badgeBackgroundColor:"rgba(0, 0, 0, 0.15)",defaultBadgeColor:"rgba(255, 255, 255, 0.7)",defaultLinkColor:"rgba(255, 255, 255, 0.7)",defaultLinkHoverColor:"#fff",defaultLinkDisabledLinkColor:"rgba(255, 255, 255, 0.3)",selectedLinkColor:"#f9be03",selectedLinkHoverColor:"color(#f9be03 lightness(+15%))",defaultBackgroundColor:"rgba(255, 255, 255, 0.25)",defaultHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",defaultActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",defaultDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",primaryBackgroundColor:"#cc7b19",primaryHoverBackgroundColor:"color(#cc7b19 lightness(+5%))",primaryActiveBackgroundColor:"color(#cc7b19 blackness(+10%))",primaryDisabledBackgroundColor:"color(#cc7b19 blackness(+30%))",quietBackgroundColor:"rgba(255, 255, 255, 0.08)",quietHoverBackgroundColor:"rgba(255, 255, 255, 0.1)",quietActiveBackgroundColor:"rgba(255, 255, 255, 0.06)",successBackgroundColor:"#3d7832",successHoverBackgroundColor:"color(#3d7832 lightness(+5%))",successActiveBackgroundColor:"color(#3d7832 blackness(+10%))",successDisabledBackgroundColor:"color(#3d7832 blackness(+30%))",dangerBackgroundColor:"#b32",dangerHoverBackgroundColor:"color(#b32 lightness(+5%))",dangerActiveBackgroundColor:"color(#b32 blackness(+10%))",dangerDisabledBackgroundColor:"color(#b32 blackness(+30%))",darkBackgroundColor:"rgba(0, 0, 0, 0.3)",darkHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",darkActiveBackgroundColor:"rgba(255, 255, 255, 0.2)",darkDisabledBackgroundColor:"rgba(255, 255, 255, 0.15)",headerColor:"rgba(255, 255, 255, 0.3)",dimColor:"rgba(255, 255, 255, 0.45)",secondaryContentColor:"rgba(255, 255, 255, 0.75)",shadowColor:"rgba(0, 0, 0, 0.35)",dividerColor:"rgba(0, 0, 0, 0.3)",scrollbarBackgroundColor:"rgba(255, 255, 255, 0.2)",scrollbarHoverBackgroundColor:"rgba(255, 255, 255, 0.3)",scrollbarInactiveBackgroundColor:"rgba(255, 255, 255, 0.05)",errorBackgroundColor:"rgba(255, 85, 51, 0.3)",inputBackgroundColor:"rgba(255, 255, 255, 0.25)",inputFocusBackgroundColor:"#eee",inputColor:"#eee",inputFocusColor:"#555",inputPlaceholderColor:"#afb0b1",inputDisabledOpacity:"0.5",formSectionBackgroundColor:"rgba(0, 0, 0, 0.3)",formSectionHoverBackgroundColor:"rgba(0, 0, 0, 0.15)",modalBackdropBackgroundColor:"rgba(102, 102, 102, 0.6)",modalBackgroundColor:"#2d2d2d",modalBodyBackgroundColor:"rgba(0, 0, 0, 0.15)",menuBackgroundColor:"#191a1c",menuDisabledBackgroundColor:"#2d2d2d",menuItemHoverBackgroundColor:"rgba(255, 255, 255, 0.08)",menuItemActiveBackgroundColor:"rgba(255, 255, 255, 0.15)",menuSeparatorBackgroundColor:"rgba(200, 200, 200, 0.15)",tooltipBackgroundColor:"#191a1c",pageHeaderBackgroundColor:"rgba(0, 0, 0, 0.7)",pageHeaderLinkColor:"#999",pageHeaderLinkHoverColor:"#eee",pageHeaderColor:"rgba(255, 255, 255, 0.75)",searchInputBackgroundColor:"rgba(255, 255, 255, 0.25)",searchFocusBackgroundColor:"#eee",searchInputColor:"#eee",searchInputFocusColor:"#555",searchImagePlaceholderBackgroundColor:"rgba(255, 255, 255, 0.1)",searchHoverResultBackgroundColor:"rgba(255, 255, 255, 0.05)",searchSelectedResultBackgroundColor:"rgba(255, 255, 255, 0.08)",searchResultTitleColor:"rgba(255, 255, 255, 0.75)",searchResultTitleSelectedColor:"rgba(255, 255, 255, 1)",searchResultSecondaryTitleColor:"rgba(255, 255, 255, 0.3)",sidebarBackgroundColor:"rgba(0, 0, 0, 0.15)",sidebarMenuButtonBackgroundColor:"rgba(0, 0, 0, 0.3)",sidebarMenuButtonHoverBackgroundColor:"rgba(0, 0, 0, 0.45)",sidebarMenuButtonActiveBackgroundColor:"rgba(0, 0, 0, 0.75)",stripeListAlternateBackgroundColor:"rgba(255, 255, 255, 0.02)",stripeListHoverBackgroundColor:"rgba(255, 255, 255, 0.06)",stripeListSelectedBackgroundColor:"rgba(0, 0, 0, 0.15)"}},function(e,t,n){"use strict";n.r(t);var r=n(19),i=n(16),a=n(3),o=i.a.extend({name:"ProviderCountryModel",context:["server","provider"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{code:a.a.string,title:a.a.string,postalCodeFormat:a.a.string,flavor:a.a.string}}),s=r.a.extend({name:"ProviderCountryCollection",context:["server","provider"],url:"https://services.provider.plex.tv/location/countries",model:o}),l=i.a.extend({name:"ProviderSettingOptionsModel",context:["server","provider"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:a.a.string,title:a.a.string,type:a.a.string,selected:a.a.boolean}}),c=r.a.extend({name:"ProviderSettingOptionsCollection",context:["server","provider"],model:l}),u=n(36),d={bool:u.a.parseBoolean,double:u.a.parseFloat},p=i.a.extend({name:"ProviderSettingModel",context:["server","provider"],rootPropertyName:"Setting",url:function(){return this.get("key")},sessionAttrs:{isOptionsPending:a.a.boolean,isOptionsPopulated:a.a.boolean,optionsError:a.a.object,isLocationsPending:a.a.boolean,isLocationsPopulated:a.a.boolean,locationsError:a.a.object},syncedAttrs:{country:a.a.string,countryLabel:a.a.string,hidden:a.a.boolean,id:a.a.string,key:a.a.string,label:a.a.string,multiselect:a.a.boolean,postalCode:a.a.string,required:a.a.boolean,selectedCount:a.a.integer,summary:a.a.string,type:a.a.string,value:a.a.oneOfType(a.a.string,a.a.boolean,a.a.float),min:a.a.float,max:a.a.float,step:a.a.float},sessionRelations:{locations:{relationClass:s}},syncedRelations:{settings:function(){return{relationClass:n(579).default,rootPropertyName:"Setting",deferred:!0}},options:{relationClass:c,options:function(e){return{url:e.key}}}},defaults:{isOptionsPending:!0,isOptionsPopulated:!1,optionsError:null,isLocationsPending:!0,isLocationsPopulated:!1,locationsError:null},augmentResponse:function(e){var t=d[e.type];return t&&(e.value=t(e.value)),e}}),h=r.a.extend({name:"ProviderSettingCollection",context:["server","provider"],url:"/settings",model:p});t.default=h},function(e,t,n){"use strict";n.r(t);var r=n(19),i=n(16),a=n(3),o=i.a.extend({name:"MatchResultModel",context:["server"],idAttribute:"guid",rootPropertyName:"SearchResult",syncedAttrs:{id:a.a.integer,guid:a.a.string,name:a.a.string,parentGUID:a.a.string,parentName:a.a.string,type:a.a.string,index:a.a.integer,score:a.a.integer,thumb:a.a.string,year:a.a.integer,matched:a.a.boolean,disambiguation:a.a.string,area:a.a.string,beginArea:a.a.string,lifespanBegin:a.a.string,lifespanEnd:a.a.string},syncedRelations:{children:function(){return{relationClass:n(580).default,rootPropertyName:"SearchResult"}}},derivedAttrs:{normalizedScore:function(){var e=this.get("score");if(null!=e)return Math.min(Math.max(e,0),100)}}}),s=r.a.extend({name:"MatchResultCollection",context:["server"],model:o,url:function(){return"/library/metadata/"+this.parent.id+"/matches"}});t.default=s},function(e,t,n){e.exports={header:"ServerDashboardPageHeader-header-2Zk-2G",headerTitle:"ServerDashboardPageHeader-headerTitle-21VOd3"}},function(e,t,n){e.exports={container:"ServerDashboardPageMessage-container-1GpeeA",message:"ServerDashboardPageMessage-message-2jGksL"}},function(e,t,n){e.exports={container:"ServerDashboardPageUpdateMessage-container-wrbleB",link:"ServerDashboardPageUpdateMessage-link-3YK7_o"}},function(e,t,n){e.exports={legendLabel:"LegendLabel-legendLabel-2z2UeB Link-link-2n0yJn",dot:"LegendLabel-dot-320-i6"}},function(e,t,n){e.exports={container:"ServerDashboardGraph-container-2Mv8XG ServerDashboardSectionContent-container-1-ybgJ",errorMessage:"ServerDashboardGraph-errorMessage-mJWkuO ServerDashboardSectionContent-errorMessage-12dFO_ ServerDashboardPageMessage-container-1GpeeA"}},function(e,t,n){e.exports={container:"Bandwidth-container-1ekmV2",graph:"Bandwidth-graph-1rImGP"}},function(e,t,n){e.exports={tooltipPortal:"Tooltip-tooltipPortal-3Nb82p",tooltip:"Tooltip-tooltip-9TKmAQ",tooltipArrow:"Tooltip-tooltipArrow-3GUCry",tooltipBottomArrow:"Tooltip-tooltipBottomArrow-34fSAD",tooltipTopArrow:"Tooltip-tooltipTopArrow-NjH0DX",tooltipRightArrow:"Tooltip-tooltipRightArrow-18BKzY",tooltipLeftArrow:"Tooltip-tooltipLeftArrow-1Zt2gV",tooltipCenterAlignArrow:"Tooltip-tooltipCenterAlignArrow-35uHtY",tooltipLeftAlignArrow:"Tooltip-tooltipLeftAlignArrow-NweCLw",tooltipRightAlignArrow:"Tooltip-tooltipRightAlignArrow-1ETgza",tooltipMiddleAlignArrow:"Tooltip-tooltipMiddleAlignArrow-3x1zFR",topLeft:"Tooltip-topLeft-2DEJ1a Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipLeftAlignArrow-NweCLw",topCenter:"Tooltip-topCenter-Hv9C9n Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipCenterAlignArrow-35uHtY",topRight:"Tooltip-topRight-3-BmgQ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipBottomArrow-34fSAD Tooltip-tooltipRightAlignArrow-1ETgza",bottomLeft:"Tooltip-bottomLeft-2fPtVW Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipLeftAlignArrow-NweCLw",bottomCenter:"Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY",bottomRight:"Tooltip-bottomRight-T6_Ik3 Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipRightAlignArrow-1ETgza",middleLeft:"Tooltip-middleLeft-11JlOJ Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipRightArrow-18BKzY Tooltip-tooltipMiddleAlignArrow-3x1zFR",middleRight:"Tooltip-middleRight-3lubOi Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipLeftArrow-1Zt2gV Tooltip-tooltipMiddleAlignArrow-3x1zFR"}},function(e,t,n){e.exports={modalContent:"ModalContent-modalContent-UQlV4k",closeButton:"ModalContent-closeButton-3NY5uJ Link-link-2n0yJn"}},function(e,t,n){e.exports={label:"FormLabel-label-2aLJ9b",hasError:"FormLabel-hasError-3DBzXd"}},function(e,t,n){e.exports={menuButton:"ServerDashboardUserMenuButton-menuButton-2EwifV ServerDashboardMenuButton-menuButton-1uJSv_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn",menuLabel:"ServerDashboardUserMenuButton-menuLabel-pZVswv SelectedMenuItem-menuLabel-2fp2lo"}},function(e,t,n){e.exports={container:"PlayHistory-container-26wScW",link:"PlayHistory-link-1B5q43"}},function(e,t,n){e.exports={container:"TopPlayedList-container-2qYfz6 ServerDashboardSectionContent-container-1-ybgJ",column:"TopPlayedList-column-3YN6lq"}},function(e,t,n){e.exports={container:"TopUsersList-container-5y91eV ServerDashboardSectionContent-container-1-ybgJ",listContainer:"TopUsersList-listContainer-2-82G1"}},function(e,t,n){e.exports={sectionError:"FormSectionError-sectionError-3ZuKeE",sectionErrorIcon:"FormSectionError-sectionErrorIcon--74cEl"}},function(e,t,n){e.exports={circularProgressBarText:"CircularProgressBar-circularProgressBarText-1kr2I3 CircularProgressBar-circularProgressBarText-gC1Z--",circularProgressBarBackground:"CircularProgressBar-circularProgressBarBackground-1a1VUp CircularProgressBar-circularProgressBarBackground-RvD8Ob",circularProgressBarContainer:"CircularProgressBar-circularProgressBarContainer-30vSIT CircularProgressBar-circularProgressBarContainer-26EO1i"}},function(e,t,n){e.exports={message:"EPGMapping-message-2-bnsH",spinnerContainer:"EPGMapping-spinnerContainer-TAwZ1M"}},function(e,t,n){e.exports={modalScroller:"ModalContentCenter-modalScroller-3cd-bo ModalBody-modalScroller-1xOMqS ModalBody-modalBody--5uHSu",innerModalBody:"ModalContentCenter-innerModalBody-3jQ5IS ModalBody-innerModalBody-36gmbf"}},function(e,t,n){e.exports={container:"ShareLibraryRestrictionsCheckInputItem-container-3s7FrZ",subtitle:"ShareLibraryRestrictionsCheckInputItem-subtitle-2rtm54"}},function(e,t,n){e.exports={tag:"TagLabel-tag-2n9WOX",remove:"TagLabel-remove-27nEke"}},function(e,t,n){e.exports={tagsInput:"AutosuggestTagsInput-tagsInput-6yLPXr TagsInput-tagsInput-2eRCns",input:"AutosuggestTagsInput-input-ZG-hTQ TagsInput-input-3KDPbm"}},function(e,t,n){e.exports={title:"SectionTypeLibraries-title-3B6e9v",divider:"SectionTypeLibraries-divider-2acpqi"}},function(e,t,n){e.exports={link:"PageHeaderBreadcrumbButton-link-30Jgzu",button:"PageHeaderBreadcrumbButton-button-ZRyx6_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},function(e,t,n){e.exports={controlsHiddenLinesCount:"ServerLogPageHeader-controlsHiddenLinesCount-2RVYnd",rawButton:"ServerLogPageHeader-rawButton-b0m7AG"}},function(e,t,n){e.exports={dropFileOverlay:"ServerLogPage-dropFileOverlay-30ow04",icon:"ServerLogPage-icon-3tZH8N"}},function(e,t,n){e.exports={avatar:"ServerAvatar-avatar-2VGH0z",icon:"ServerAvatar-icon-DrP34o"}},function(e,t,n){e.exports={serverMenu:"ServerSettingsServerMenu-serverMenu-3CI7iC Menu-menu-3XnN6J",serverMenuScroller:"ServerSettingsServerMenu-serverMenuScroller-2WzFgn Menu-menuScroller-1TF6oW Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={icon:"SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs",selectedIcon:"SettingsSidebarListLink-selectedIcon-caIG1g SettingsSidebarListLink-icon-eICe1t SidebarLink-icon-34JWqs"}},function(e,t,n){e.exports={container:"ErrorNavBar-container-2YGrro NavBar-container-1T0BJz",icon:"ErrorNavBar-icon-2uGCg9"}},function(e,t,n){e.exports={placeholder:"QuickSearchPlaceholderLink-placeholder-1Wxzp6",isPlaceholderSelected:"QuickSearchPlaceholderLink-isPlaceholderSelected-rDCpKm"}},function(e,t,n){e.exports={item:"AddToLibraryMenuItem-item-3Q9Aau"}},function(e,t,n){e.exports={playButton:"PlayButton-playButton-3WX8X-",playCircle:"PlayButton-playCircle-3Evfdw"}},function(e,t,n){e.exports={recordIconContainer:"RecordIcon-recordIconContainer-1PXGA2",recordCircle:"RecordIcon-recordCircle-176nlN PlayButton-playCircle-3Evfdw",recordIcon:"RecordIcon-recordIcon-2ygXS_"}},function(e,t,n){e.exports={card:"TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC",isPerson:"TagPosterCard-isPerson-1ez1h_"}},function(e,t,n){e.exports={title:"QuickSearchTitle-title-2ApAOM",isSecondary:"QuickSearchTitle-isSecondary-mxETFa"}},function(e,t,n){e.exports={badgeMenuItem:"BadgeMenuItem-badgeMenuItem-3GW7S7 MenuItem-menuItem-1s02mQ",badge:"BadgeMenuItem-badge-3CgtTF Badge-badge-21NQRi"}},function(e,t,n){e.exports={statusContainer:"NavBarEmbeddedServerActivityMenuStatusItem-statusContainer-3czNOC NavBarActivityMenuStatusItem-statusContainer-Ml8vjL",statusTitle:"NavBarEmbeddedServerActivityMenuStatusItem-statusTitle-2LUdOL NavBarActivityMenuStatusItem-statusTitle-2hIH6G"}},function(e,t,n){e.exports={modalHeader:"PlayerErrorModal-modalHeader-167lt1 ModalHeader-modalHeader-1Kf9RW",errorCode:"PlayerErrorModal-errorCode-2H7W7M"}},function(e,t,n){e.exports={measure:"Subtitles-measure-3cYuWS",renderer:"Subtitles-renderer-12VzSU"}},function(e,t,n){e.exports={headingContainer:"AudioVideoFullPlayerContentHeadingContainer-headingContainer-2UyXvc",divider:"AudioVideoFullPlayerContentHeadingContainer-divider-1A1d_2"}},function(e,t,n){e.exports={container:"GridAlsoAiring-container-11nR4Y",content:"GridAlsoAiring-content-lujqDB Scroller-vertical-VScFLT",tooltipButton:"GridAlsoAiring-tooltipButton-38jf8Q"}},function(e,t,n){e.exports={container:"LiveTVAlsoAiring-container-15aYo6",content:"LiveTVAlsoAiring-content-2DXRs4 Scroller-vertical-VScFLT",tooltipButton:"LiveTVAlsoAiring-tooltipButton-YQKCSm"}},function(e,t,n){e.exports={playerButton:"PlayerIconButton-playerButton-1DmNp4 IconButton-button-9An-7I",isPrimary:"PlayerIconButton-isPrimary-cD9yVe"}},function(e,t,n){e.exports={infoContainer:"MediaInfo-infoContainer-2LgYro",info:"MediaInfo-info-JF98Bn"}},function(e,t,n){e.exports={title:"ConflictTitle-title-1g7j7l",secondaryTitle:"ConflictTitle-secondaryTitle-2kiOLQ"}},function(e,t,n){e.exports={title:"MediaSubscriptionTitle-title-1I857z",secondaryTitle:"MediaSubscriptionTitle-secondaryTitle-1srwEQ"}},function(e,t,n){e.exports={message:"MediaSubscriptionConflict-message-1ZbxOs",conflicts:"MediaSubscriptionConflict-conflicts-3hyQu1"}},function(e,t,n){e.exports={errorMessage:"MediaSubscriptionNoLibrary-errorMessage-39UUf6",addIcon:"MediaSubscriptionNoLibrary-addIcon-2B_Pqv"}},function(e,t,n){e.exports={overlay:"PosterCardOverlay-overlay-3wQFXY",background:"PosterCardOverlay-background-23u0Zs",hoverBackground:"PosterCardOverlay-hoverBackground-2KpNfu",selectedBackground:"PosterCardOverlay-selectedBackground-3gAngY",visibleBackground:"PosterCardOverlay-visibleBackground-1Kms_J"}},function(e,t,n){e.exports={isActive:"GridCurrentChannel-isActive-3LvNiy",icon:"GridCurrentChannel-icon-nvN-NU"}},function(e,t,n){e.exports={isActive:"LiveTVCurrentChannel-isActive-2DTwmD",icon:"LiveTVCurrentChannel-icon-17SlvD"}},function(e,t,n){e.exports={equalizer:"EqualizerIcon-equalizer-2SoFA6",bar:"EqualizerIcon-bar-1nPotE"}},function(e,t,n){e.exports={placeholder:"MetadataPosterCardPlaceholder-placeholder-pMf-qI MetadataPosterCardFace-poster-L2P6rC",isSelected:"MetadataPosterCardPlaceholder-isSelected-34TSl1 MetadataPosterCardFace-isSelected-1XUgkl"}},function(e,t,n){e.exports={partialButton:"PrePlayRecordingStatusButton-partialButton-1aQ0th PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5",failedButton:"PrePlayRecordingStatusButton-failedButton-ap5JD2 PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},function(e,t,n){e.exports={toast:"AudioVideoToast-toast-3RFwwG",metadataContainer:"AudioVideoToast-metadataContainer-Zqu4Pm"}},function(e,t,n){e.exports={slideContainer:"SlideImg-slideContainer-2XcH9x",statusContainer:"SlideImg-statusContainer-2GP9ql fadeIn-fadeIn-3S08eh"}},function(e,t,n){e.exports={carousel:"PhotoCarousel-carousel-3ebQMF",message:"PhotoCarousel-message-2qnduU",contents:"PhotoCarousel-contents-1OztiK"}},function(e,t,n){e.exports={dragSource:"ReorderSourceSidebarItem-dragSource-ZtIKSO",iconReorder:"ReorderSourceSidebarItem-iconReorder-1pLGE5"}},function(e,t,n){e.exports={container:"SourceListItemDragSource-container-3Cii3P",source:"SourceListItemDragSource-source-2nauag",isOver:"SourceListItemDragSource-isOver-3Ngu4e"}},function(e,t,n){e.exports={button:"SourceSidebarServerHeaderActions-button-19NZoF IconButton-button-9An-7I"}},function(e,t,n){e.exports={expandedSidebarContent:"SourceSidebarContent-expandedSidebarContent-3n-5nj",zeroState:"SourceSidebarContent-zeroState-35CCyo"}},function(e,t,n){e.exports={plexImage:"PlexHeaderImage-plexImage-2K4VHL",plexImageContainer:"PlexHeaderImage-plexImageContainer-NE-7v1"}},function(e,t,n){e.exports={link:"SwitchToTVLayoutLink-link-2Aq9Xs",icon:"SwitchToTVLayoutLink-icon-1RpyTO"}},function(e,t,n){e.exports={pageContent:"PageContent-pageContent-16mK6G",innerPageContent:"PageContent-innerPageContent-3ktLTA"}},function(e,t,n){e.exports={toolbarContainer:"measuredPageHeaderToolbar-toolbarContainer-24LrJ0 Measure-container-3yONEe",toolbar:"measuredPageHeaderToolbar-toolbar-2vtgM4"}},function(e,t,n){e.exports={container:"HomeHubListItemDragSource-container-1T0Duj",isOver:"HomeHubListItemDragSource-isOver-1k9kxT"}},function(e,t,n){e.exports={container:"SortableHomeHubs-container-2NqZ-l Measure-container-3yONEe",scroller:"SortableHomeHubs-scroller-_fZlTr Scroller-scroller-3GqQcZ"}},function(e,t,n){e.exports={container:"ChannelsGridDetailRowAirTime-container-Xxl-Is",contentRating:"ChannelsGridDetailRowAirTime-contentRating-3x_JJt"}},function(e,t,n){e.exports={container:"ChannelsGridPlaceholder-container-t1lz5q",bar:"ChannelsGridPlaceholder-bar-1g_DPl",shimmer:"ChannelsGridPlaceholder-shimmer-18AjFZ"}},function(e,t,n){e.exports={measureContainer:"ChannelsGridPageContent-measureContainer-AXLb8F",gridContent:"ChannelsGridPageContent-gridContent-2STJVv ChannelsGrid-gridContainer-u_bmj0"}},function(e,t,n){e.exports={button:"PageHeaderTabButton-button-1zTdeV Button-button-2kT68l Link-link-2n0yJn",isSelected:"PageHeaderTabButton-isSelected-25CIS7"}},function(e,t,n){e.exports={tableHeaderCell:"TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS",activeTableHeaderCell:"TableHeaderCell-activeTableHeaderCell-3cIqeg TableHeaderCell-tableHeaderCell-1P5kwn TableCell-tableCell-4fCpHS"}},function(e,t,n){e.exports={titleContainer:"PlayHistoryTableTitle-titleContainer-33rRWz",title:"PlayHistoryTableTitle-title-1KiKkm"}},function(e,t,n){e.exports={loadingItem:"PlayHistoryTableRowLoading-loadingItem-1hpeJI",alternateLoadingItem:"PlayHistoryTableRowLoading-alternateLoadingItem-3_-r45 PlayHistoryTableRowLoading-loadingItem-1hpeJI"}},function(e,t,n){e.exports={playHistoryListPageContent:"PlayHistoryList-playHistoryListPageContent-2v3RAa PageContent-pageContent-16mK6G",playHistoryListScroller:"PlayHistoryList-playHistoryListScroller-3G_YkV"}},function(e,t,n){e.exports={title:"PlayHistoryPageHeader-title-gbXrBS",subtitle:"PlayHistoryPageHeader-subtitle-28eyDX"}},function(e,t,n){e.exports={emptyDescription:"DiscoverEmptyLibraryPage-emptyDescription-3CX6Gk",manageLibraries:"DiscoverEmptyLibraryPage-manageLibraries-5VHLZV"}},function(e,t,n){e.exports={decoratorIconContainer:"MetadataTitleDecoratorIcon-decoratorIconContainer-3n0amT",decoratorIcon:"MetadataTitleDecoratorIcon-decoratorIcon-sjuWWk"}},function(e,t,n){e.exports={unwatchedCircle:"MetadataTitleProgress-unwatchedCircle-25KKnh",medium:"MetadataTitleProgress-medium-1tjFo8"}},function(e,t,n){e.exports={loadingItem:"MetadataSimpleSummaryCellLoading-loadingItem-35Sst7",alternateLoadingItem:"MetadataSimpleSummaryCellLoading-alternateLoadingItem-2LPd55 MetadataSimpleSummaryCellLoading-loadingItem-35Sst7"}},function(e,t,n){e.exports={loadingItem:"MetadataTableRowLoading-loadingItem-2g4_QI",alternateLoadingItem:"MetadataTableRowLoading-alternateLoadingItem-3U7fuh MetadataTableRowLoading-loadingItem-2g4_QI"}},function(e,t,n){e.exports={errorButton:"CalendarErrorButton-errorButton-1z8H1l",errorTooltip:"CalendarErrorButton-errorTooltip-lo9O-P Tooltip-bottomCenter-2yj43D Tooltip-tooltip-9TKmAQ Tooltip-tooltipArrow-3GUCry Tooltip-tooltipTopArrow-NjH0DX Tooltip-tooltipCenterAlignArrow-35uHtY"}},function(e,t,n){e.exports={dayOfWeek:"CalendarDayOfWeek-dayOfWeek-3dQ59f",isToday:"CalendarDayOfWeek-isToday-2rPYNP"}},function(e,t,n){e.exports={title:"RecordingPrioritySubscriptionTitle-title-3QS814",secondaryTitle:"RecordingPrioritySubscriptionTitle-secondaryTitle-2Wl5uS"}},function(e,t,n){e.exports={help:"LocationSettingInputGroup-help-3KxH7k FormHelp-help-3VCuqa",secondaryLabel:"LocationSettingInputGroup-secondaryLabel-1RrMcE FormLabel-label-2aLJ9b"}},function(e,t,n){e.exports={isPressable:"CloseableFormSection-isPressable-3BPTnc",isClosed:"CloseableFormSection-isClosed-37Gj8w CloseableFormSection-isPressable-3BPTnc",isOpen:"CloseableFormSection-isOpen-vvIoP3"}},function(e,t,n){e.exports={providerTitle:"SearchProviderHubs-providerTitle-3nGwSv",spinner:"SearchProviderHubs-spinner-1-T9Ul"}},function(e,t,n){e.exports={cardLink:"PrePlayCastCell-cardLink-Tndv54",titleContainer:"PrePlayCastCell-titleContainer-PAy29K"}},function(e,t,n){e.exports={relatedList:"PrePlayHubList-relatedList-3rwpfc",spinnerContainer:"PrePlayHubList-spinnerContainer-1kYSWN"}},function(e,t,n){e.exports={descendantHubCellHeader:"PrePlayDescendantList-descendantHubCellHeader-2qK3U8 HubCellHeader-hubCellHeader-2pvYNF",titleButton:"PrePlayDescendantList-titleButton-P7EPne"}},function(e,t,n){e.exports={concerts:"PrePlayConcerts-concerts-3r-qin",concertsLogo:"PrePlayConcerts-concertsLogo-oF29Rl"}},function(e,t,n){"use strict";var r=n(248),i=n(1511);e.exports=r({},i,{})},function(e,t,n){e.exports={container:"PlaylistItemLoading-container-2kR7-j",alternateContainer:"PlaylistItemLoading-alternateContainer-3UvX6M PlaylistItemLoading-container-2kR7-j"}},function(e,t,n){e.exports={header:"PlaylistItemTable-header-2fQb_w HubCellHeader-hubCellHeader-2pvYNF",durationTitle:"PlaylistItemTable-durationTitle-2PGlcL"}},function(e,t,n){e.exports={prePlayPageContentContainer:"PrePlayPageContent-prePlayPageContentContainer-3Xb-nh PageContent-pageContent-16mK6G",prePlayPageContent:"PrePlayPageContent-prePlayPageContent-2WcFUT"}},function(e,t,n){e.exports={button:"AcceptInviteButton-button-1h_5ks",spinner:"AcceptInviteButton-spinner-2um426"}},function(e,t,n){e.exports={row:"UsersSettingsRow-row-3XFVVH",underlay:"UsersSettingsRow-underlay-2ev7sE"}},function(e,t,n){e.exports={row:"UsersSettingsRowFriend-row-3vhOQu UsersSettingsRow-row-3XFVVH",actions:"UsersSettingsRowFriend-actions-2x39xk UsersSettingsRowActions-container-J6Ghnt"}},function(e,t,n){e.exports={buttons:"WebhookSettingsPage-buttons-1ppDm6",error:"WebhookSettingsPage-error-3sqjBM"}},function(e,t,n){var r=n(415),i=n(346),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!i(e))return!1;var t=r(e);return t==o||t==s||t==a||t==l}},function(e,t){e.exports=function(e){return e}},function(e,t,n){var r=n(1166),i=n(1465);e.exports=function e(t,n,a,o,s){var l=-1,c=t.length;for(a||(a=i),s||(s=[]);++l<c;){var u=t[l];n>0&&a(u)?n>1?e(u,n-1,a,o,s):r(s,u):o||(s[s.length]=u)}return s}},function(e,t,n){var r=n(1432),i=n(1448),a=n(1450),o=n(1451),s=n(1452);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var r=n(1466),i=n(348),a=Object.prototype,o=a.hasOwnProperty,s=a.propertyIsEnumerable,l=r(function(){return arguments}())?r:function(e){return i(e)&&o.call(e,"callee")&&!s.call(e,"callee")};e.exports=l},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t){var n=9007199254740991,r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var i=typeof e;return!!(t=null==t?n:t)&&("number"==i||"symbol"!=i&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){e.exports=!n(67)&&!n(45)(function(){return 7!=Object.defineProperty(n(539)("div"),"a",{get:function(){return 7}}).a})},function(e,t,n){e.exports=n(351)("native-function-to-string",Function.toString)},function(e,t,n){var r=n(689),i=n(49).WeakMap;e.exports="function"==typeof i&&/native code/.test(r.call(i))},function(e,t,n){var r=n(79),i=n(541),a=n(105),o=n(71);e.exports=function(e,t){for(var n=i(t),s=o.f,l=a.f,c=0;c<n.length;c++){var u=n[c];r(e,u)||s(e,u,l(t,u))}}},function(e,t,n){var r=n(79),i=n(112),a=n(354)(!1),o=n(353);e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)!r(o,n)&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~a(c,n)||c.push(n));return c}},function(e,t,n){e.exports=!n(45)(function(){return!String(Symbol())})},function(e,t,n){t.f=n(63)},function(e,t,n){var r=n(67),i=n(71),a=n(62),o=n(275);e.exports=r?Object.defineProperties:function(e,t){a(e);for(var n,r=o(t),s=r.length,l=0;s>l;)i.f(e,n=r[l++],t[n]);return e}},function(e,t,n){var r=n(49).document;e.exports=r&&r.documentElement},function(e,t,n){var r=n(112),i=n(244).f,a={}.toString,o="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return o&&"[object Window]"==a.call(e)?function(e){try{return i(e)}catch(e){return o.slice()}}(e):i(r(e))}},function(e,t,n){"use strict";var r=n(80),i=n(202),a=n(65);e.exports=[].copyWithin||function(e,t){var n=r(this),o=a(n.length),s=i(e,o),l=i(t,o),c=arguments.length>2?arguments[2]:void 0,u=Math.min((void 0===c?o:i(c,o))-l,o-s),d=1;for(l<s&&s<l+u&&(d=-1,l+=u-1,s+=u-1);u-- >0;)l in n?n[s]=n[l]:delete n[s],s+=d,l+=d;return n}},function(e,t,n){"use strict";var r=n(276),i=n(65),a=n(204),o=function(e,t,n,s,l,c,u,d){for(var p,h=l,f=0,g=!!u&&a(u,d,3);f<s;){if(f in n){if(p=g?g(n[f],f,t):n[f],c>0&&r(p))h=o(e,t,p,i(p.length),h,c-1)-1;else{if(h>=9007199254740991)throw TypeError("Exceed the acceptable array length");e[h]=p}h++}f++}return h};e.exports=o},function(e,t,n){"use strict";var r=n(204),i=n(80),a=n(701),o=n(545),s=n(65),l=n(246),c=n(359);e.exports=function(e){var t,n,u,d,p=i(e),h="function"==typeof this?this:Array,f=arguments.length,g=f>1?arguments[1]:void 0,v=void 0!==g,m=0,y=c(p);if(v&&(g=r(g,f>2?arguments[2]:void 0,2)),null==y||h==Array&&o(y))for(n=new h(t=s(p.length));t>m;m++)l(n,m,v?g(p[m],m):p[m]);else for(d=y.call(p),n=new h;!(u=d.next()).done;m++)l(n,m,v?a(d,g,[u.value,m],!0):u.value);return n.length=m,n}},function(e,t,n){var r=n(62);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var a=e.return;throw void 0!==a&&r(a.call(e)),t}}},function(e,t,n){"use strict";var r=n(703).IteratorPrototype,i=n(245),a=n(243),o=n(157),s=n(358),l=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:a(1,n)}),o(e,c,!1,!0),s[c]=l,e}},function(e,t,n){"use strict";var r,i,a,o=n(158),s=n(100),l=n(79),c=n(242),u=n(63)("iterator"),d=!1;[].keys&&("next"in(a=[].keys())?(i=o(o(a)))!==Object.prototype&&(r=i):d=!0),null==r&&(r={}),c||l(r,u)||s(r,u,function(){return this}),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:d}},function(e,t,n){var r=n(59),i=n(62);e.exports=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},function(e,t,n){"use strict";var r=n(112),i=n(129),a=n(65),o=[].lastIndexOf,s=!!o&&1/[1].lastIndexOf(1,-0)<0,l=n(360)("lastIndexOf");e.exports=s||l?function(e){if(s)return o.apply(this,arguments)||0;var t=r(this),n=a(t.length),l=n-1;for(arguments.length>1&&(l=Math.min(l,i(arguments[1]))),l<0&&(l=n+l);l>=0;l--)if(l in t&&t[l]===e)return l||0;return-1}:o},function(e,t,n){var r=n(129),i=n(65);e.exports=function(e){if(void 0===e)return 0;var t=r(e),n=i(t);if(t!==n)throw RangeError("Wrong length or index");return n}},function(e,t,n){"use strict";var r=n(71).f,i=n(245),a=n(279),o=n(204),s=n(205),l=n(280),c=n(546),u=n(278),d=n(67),p=n(247).fastKey,h=n(128),f=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var u=e(function(e,r){s(e,u,t),f(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),d||(e.size=0),null!=r&&l(r,e[c],e,n)}),h=g(t),v=function(e,t,n){var r,i,a=h(e),o=m(e,t);return o?o.value=n:(a.last=o={index:i=p(t,!0),key:t,value:n,previous:r=a.last,next:void 0,removed:!1},a.first||(a.first=o),r&&(r.next=o),d?a.size++:e.size++,"F"!==i&&(a.index[i]=o)),e},m=function(e,t){var n,r=h(e),i=p(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return a(u.prototype,{clear:function(){for(var e=h(this),t=e.index,n=e.first;n;)n.removed=!0,n.previous&&(n.previous=n.previous.next=void 0),delete t[n.index],n=n.next;e.first=e.last=void 0,d?e.size=0:this.size=0},delete:function(e){var t=h(this),n=m(this,e);if(n){var r=n.next,i=n.previous;delete t.index[n.index],n.removed=!0,i&&(i.next=r),r&&(r.previous=i),t.first==n&&(t.first=r),t.last==n&&(t.last=i),d?t.size--:this.size--}return!!n},forEach:function(e){for(var t,n=h(this),r=o(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!m(this,e)}}),a(u.prototype,n?{get:function(e){var t=m(this,e);return t&&t.value},set:function(e,t){return v(this,0===e?0:e,t)}}:{add:function(e){return v(this,e=0===e?0:e,e)}}),d&&r(u.prototype,"size",{get:function(){return h(this).size}}),u},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),a=g(r);c(e,t,function(e,t){f(this,{type:r,target:e,state:i(e),kind:t,last:void 0})},function(){for(var e=a(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})},n?"entries":"values",!n,!0),u(t)}}},function(e,t){e.exports=Math.log1p||function(e){return(e=+e)>-1e-8&&e<1e-8?e-e*e/2:Math.log(1+e)}},function(e,t,n){var r=n(59),i=Math.floor;e.exports=function(e){return!r(e)&&isFinite(e)&&i(e)===e}},function(e,t,n){var r=n(49).parseFloat,i=n(281),a=n(425),o=1/r(a+"-0")!=-1/0;e.exports=o?function(e){var t=i(String(e),3),n=r(t);return 0===n&&"-"==t.charAt(0)?-0:n}:r},function(e,t,n){var r=n(49).parseInt,i=n(281),a=n(425),o=/^[-+]?0[xX]/,s=8!==r(a+"08")||22!==r(a+"0x16");e.exports=s?function(e,t){var n=i(String(e),3);return r(n,t>>>0||(o.test(n)?16:10))}:r},function(e,t,n){"use strict";var r=n(275),i=n(419),a=n(350),o=n(80),s=n(417),l=Object.assign;e.exports=!l||n(45)(function(){var e={},t={},n=Symbol();return e[n]=7,"abcdefghijklmnopqrst".split("").forEach(function(e){t[e]=e}),7!=l({},e)[n]||"abcdefghijklmnopqrst"!=r(l({},t)).join("")})?function(e,t){for(var n=o(e),l=arguments.length,c=1,u=i.f,d=a.f;l>c;)for(var p,h=s(arguments[c++]),f=u?r(h).concat(u(h)):r(h),g=f.length,v=0;g>v;)d.call(h,p=f[v++])&&(n[p]=h[p]);return n}:l},function(e,t,n){var r=n(275),i=n(112),a=n(350).f;e.exports=function(e,t){for(var n,o=i(e),s=r(o),l=s.length,c=0,u=[];l>c;)a.call(o,n=s[c++])&&u.push(t?[n,o[n]]:o[n]);return u}},function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}},function(e,t,n){var r,i,a,o,s,l,c,u=n(49),d=n(105).f,p=n(137),h=n(553).set,f=n(554),g=u.MutationObserver||u.WebKitMutationObserver,v=u.process,m=u.Promise,y="process"==p(v),b=d(u,"queueMicrotask"),S=b&&b.value;S||(r=function(){var e,t;for(y&&(e=v.domain)&&e.exit();i;){t=i.fn,i=i.next;try{t()}catch(e){throw i?o():a=void 0,e}}a=void 0,e&&e.enter()},y?o=function(){v.nextTick(r)}:g&&!/(iPhone|iPod|iPad).*AppleWebKit/i.test(f)?(s=!0,l=document.createTextNode(""),new g(r).observe(l,{characterData:!0}),o=function(){l.data=s=!s}):m&&m.resolve?(c=m.resolve(void 0),o=function(){c.then(r)}):o=function(){h.call(u,r)}),e.exports=S||function(e){var t={fn:e,next:void 0};a&&(a.next=t),i||(i=t,o()),a=t}},function(e,t,n){var r=n(62),i=n(59),a=n(555);e.exports=function(e,t){if(r(e),i(t)&&t.constructor===e)return t;var n=a.f(e);return(0,n.resolve)(t),n.promise}},function(e,t){e.exports=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}}},function(e,t,n){"use strict";var r=n(428),i=n(128),a=n(546),o=i.set,s=i.getterFor("String Iterator");a(String,"String",function(e){o(this,{type:"String Iterator",string:String(e),index:0})},function(){var e,t=s(this),n=t.string,i=t.index;return i>=n.length?{value:void 0,done:!0}:(e=r(n,i,!0),t.index+=e.length,{value:e,done:!1})})},function(e,t,n){var r=n(65),i=n(552),a=n(127);e.exports=function(e,t,n,o){var s,l,c=String(a(e)),u=c.length,d=void 0===n?" ":String(n),p=r(t);return p<=u||""==d?c:(s=p-u,(l=i.call(d,Math.ceil(s/d.length))).length>s&&(l=l.slice(0,s)),o?l+c:c+l)}},function(e,t,n){var r=n(554);e.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(r)},function(e,t,n){var r=n(129);e.exports=function(e,t){var n=r(e);if(n<0||n%t)throw RangeError("Wrong offset");return n}},function(e,t,n){var r=n(80),i=n(65),a=n(359),o=n(545),s=n(204),l=n(64).aTypedArrayConstructor;e.exports=function(e){var t,n,c,u,d,p=r(e),h=arguments.length,f=h>1?arguments[1]:void 0,g=void 0!==f,v=a(p);if(null!=v&&!o(v))for(d=v.call(p),p=[];!(u=d.next()).done;)p.push(u.value);for(g&&h>2&&(f=s(f,arguments[2],2)),n=i(p.length),c=new(l(this))(n),t=0;n>t;t++)c[t]=g?f(p[t],t):p[t];return c}},function(e,t,n){"use strict";var r=n(279),i=n(247).getWeakData,a=n(62),o=n(59),s=n(205),l=n(280),c=n(106),u=n(79),d=n(128),p=d.set,h=d.getterFor,f=c(5),g=c(6),v=0,m=function(e){return e.frozen||(e.frozen=new y)},y=function(){this.entries=[]},b=function(e,t){return f(e.entries,function(e){return e[0]===t})};y.prototype={get:function(e){var t=b(this,e);if(t)return t[1]},has:function(e){return!!b(this,e)},set:function(e,t){var n=b(this,e);n?n[1]=t:this.entries.push([e,t])},delete:function(e){var t=g(this.entries,function(t){return t[0]===e});return~t&&this.entries.splice(t,1),!!~t}},e.exports={getConstructor:function(e,t,n,c){var d=e(function(e,r){s(e,d,t),p(e,{type:t,id:v++,frozen:void 0}),null!=r&&l(r,e[c],e,n)}),f=h(t),g=function(e,t,n){var r=f(e),o=i(a(t),!0);return!0===o?m(r).set(t,n):o[r.id]=n,e};return r(d.prototype,{delete:function(e){var t=f(this);if(!o(e))return!1;var n=i(e);return!0===n?m(t).delete(e):n&&u(n,t.id)&&delete n[t.id]},has:function(e){var t=f(this);if(!o(e))return!1;var n=i(e);return!0===n?m(t).has(e):n&&u(n,t.id)}}),r(d.prototype,n?{get:function(e){var t=f(this);if(o(e)){var n=i(e);return!0===n?m(t).get(e):n?n[t.id]:void 0}},set:function(e,t){return g(this,e,t)}}:{add:function(e){return g(this,e,!0)}}),d}}},function(e,t){e.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},function(e,t,n){var r=n(242),i=n(63)("iterator");e.exports=!n(45)(function(){var e=new URL("b?e=1","http://a"),t=e.searchParams;return e.pathname="c%20d",r&&!e.toJSON||!t.sort||"http://a/c%20d?e=1"!==e.href||"1"!==t.get("e")||"a=1"!==String(new URLSearchParams("?a=1"))||!t[i]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://").host||"#%D0%B1"!==new URL("http://a#").hash})},function(e,t,n){"use strict";n(422);var r=n(725),i=n(113),a=n(279),o=n(702),s=n(128),l=n(205),c=n(79),u=n(204),d=n(62),p=n(59),h=n(1378),f=n(359),g=n(63)("iterator"),v=s.set,m=s.getterFor("URLSearchParams"),y=s.getterFor("URLSearchParamsIterator"),b=/\+/g,S=Array(4),I=function(e){return S[e-1]||(S[e-1]=RegExp("((?:%[\\da-f]{2}){"+e+"})","gi"))},C=function(e){try{return decodeURIComponent(e)}catch(t){return e}},M=function(e){for(var t=e.replace(b," "),n=4;n;)t=t.replace(I(n--),C);return t},D=/[!'()~]|%20/g,w={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},P=function(e){return w[e]},T=function(e){return encodeURIComponent(e).replace(D,P)},E=function(e,t){if(t)for(var n,r,i=t.split("&"),a=0;a<i.length;)(n=i[a++]).length&&(r=n.split("="),e.push({key:M(r.shift()),value:M(r.join("="))}));return e},x=function(e){this.entries.length=0,E(this.entries,e)},O=function(e,t){if(e<t)throw TypeError("Not enough arguments")},j=o(function(e,t){v(this,{type:"URLSearchParamsIterator",iterator:h(m(e).entries),kind:t})},"Iterator",function(){var e=y(this),t=e.kind,n=e.iterator.next(),r=n.value;return n.done||(n.value="keys"===t?r.key:"values"===t?r.value:[r.key,r.value]),n}),A=function(){l(this,A,"URLSearchParams");var e,t,n,r,i,a,o,s=arguments.length>0?arguments[0]:void 0,u=[];if(v(this,{type:"URLSearchParams",entries:u,updateURL:null,updateSearchParams:x}),void 0!==s)if(p(s))if("function"==typeof(e=f(s)))for(t=e.call(s);!(n=t.next()).done;){if((i=(r=h(d(n.value))).next()).done||(a=r.next()).done||!r.next().done)throw TypeError("Expected sequence with length 2");u.push({key:i.value+"",value:a.value+""})}else for(o in s)c(s,o)&&u.push({key:o,value:s[o]+""});else E(u,"string"==typeof s?"?"===s.charAt(0)?s.slice(1):s:s+"")},N=A.prototype;a(N,{append:function(e,t){O(arguments.length,2);var n=m(this);n.entries.push({key:e+"",value:t+""}),n.updateURL&&n.updateURL()},delete:function(e){O(arguments.length,1);for(var t=m(this),n=t.entries,r=e+"",i=0;i<n.length;)n[i].key===r?n.splice(i,1):i++;t.updateURL&&t.updateURL()},get:function(e){O(arguments.length,1);for(var t=m(this).entries,n=e+"",r=0;r<t.length;r++)if(t[r].key===n)return t[r].value;return null},getAll:function(e){O(arguments.length,1);for(var t=m(this).entries,n=e+"",r=[],i=0;i<t.length;i++)t[i].key===n&&r.push(t[i].value);return r},has:function(e){O(arguments.length,1);for(var t=m(this).entries,n=e+"",r=0;r<t.length;)if(t[r++].key===n)return!0;return!1},set:function(e,t){O(arguments.length,1);for(var n,r=m(this),i=r.entries,a=!1,o=e+"",s=t+"",l=0;l<i.length;l++)(n=i[l]).key===o&&(a?i.splice(l--,1):(a=!0,n.value=s));a||i.push({key:o,value:s}),r.updateURL&&r.updateURL()},sort:function(){var e,t,n,r=m(this),i=r.entries,a=i.slice();for(i.length=0,t=0;t<a.length;t++){for(e=a[t],n=0;n<t;n++)if(i[n].key>e.key){i.splice(n,0,e);break}n===t&&i.push(e)}r.updateURL&&r.updateURL()},forEach:function(e){for(var t,n=m(this).entries,r=u(e,arguments.length>1?arguments[1]:void 0,3),i=0;i<n.length;)r((t=n[i++]).value,t.key,this)},keys:function(){return new j(this,"keys")},values:function(){return new j(this,"values")},entries:function(){return new j(this,"entries")}},{enumerable:!0}),i(N,g,N.entries),i(N,"toString",function(){for(var e,t=m(this).entries,n=[],r=0;r<t.length;)e=t[r++],n.push(T(e.key)+"="+T(e.value));return n.join("&")},{enumerable:!0}),n(157)(A,"URLSearchParams"),n(24)({global:!0,forced:!r},{URLSearchParams:A}),e.exports={URLSearchParams:A,getState:m}},function(e,t){var n={};n.hexTable=new Array(256);for(var r=0;r<256;++r)n.hexTable[r]="%"+((r<16?"0":"")+r.toString(16)).toUpperCase();t.arrayToObject=function(e,t){for(var n=t.plainObjects?Object.create(null):{},r=0,i=e.length;r<i;++r)void 0!==e[r]&&(n[r]=e[r]);return n},t.merge=function(e,n,r){if(!n)return e;if("object"!=typeof n)return Array.isArray(e)?e.push(n):"object"==typeof e?e[n]=!0:e=[e,n],e;if("object"!=typeof e)return e=[e].concat(n);Array.isArray(e)&&!Array.isArray(n)&&(e=t.arrayToObject(e,r));for(var i=Object.keys(n),a=0,o=i.length;a<o;++a){var s=i[a],l=n[s];Object.prototype.hasOwnProperty.call(e,s)?e[s]=t.merge(e[s],l,r):e[s]=l}return e},t.decode=function(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch(t){return e}},t.encode=function(e){if(0===e.length)return e;"string"!=typeof e&&(e=""+e);for(var t="",r=0,i=e.length;r<i;++r){var a=e.charCodeAt(r);45===a||46===a||95===a||126===a||a>=48&&a<=57||a>=65&&a<=90||a>=97&&a<=122?t+=e[r]:a<128?t+=n.hexTable[a]:a<2048?t+=n.hexTable[192|a>>6]+n.hexTable[128|63&a]:a<55296||a>=57344?t+=n.hexTable[224|a>>12]+n.hexTable[128|a>>6&63]+n.hexTable[128|63&a]:(++r,a=65536+((1023&a)<<10|1023&e.charCodeAt(r)),t+=n.hexTable[240|a>>18]+n.hexTable[128|a>>12&63]+n.hexTable[128|a>>6&63]+n.hexTable[128|63&a])}return t},t.compact=function(e,n){if("object"!=typeof e||null===e)return e;var r=(n=n||[]).indexOf(e);if(-1!==r)return n[r];if(n.push(e),Array.isArray(e)){for(var i=[],a=0,o=e.length;a<o;++a)void 0!==e[a]&&i.push(e[a]);return i}var s=Object.keys(e);for(a=0,o=s.length;a<o;++a){var l=s[a];e[l]=t.compact(e[l],n)}return e},t.isRegExp=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},t.isBuffer=function(e){return null!=e&&!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))}},function(e,t,n){"use strict";function r(e){this.string=e}r.prototype.toString=function(){return""+this.string},t.default=r},function(e,t,n){var r=n(1393).default,i=n(139);e.exports=i(r)},function(e,t,n){var r=n(96).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,r){"function"==typeof n&&void 0===r&&(r=n,n=void 0);if(void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t;var s=n;var l=[];var c=l;var u=!1;function d(){c===l&&(c=l.slice())}function p(e){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(u)throw new Error("Reducers may not dispatch actions.");try{u=!0,s=i(s,e)}finally{u=!1}for(var t=l=c,n=0;n<t.length;n++)t[n]();return e}p({type:o.INIT});return{dispatch:p,subscribe:function(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return d(),c.push(e),function(){if(t){t=!1,d();var n=c.indexOf(e);c.splice(n,1)}}},getState:function(){return s},replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,p({type:o.INIT})}}};var r,i=n(178),a=(r=i)&&r.__esModule?r:{default:r};var o=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(177))},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){if(0===t.length)return arguments.length<=0?void 0:arguments[0];var e=t[t.length-1],n=t.slice(0,-1);return n.reduceRight(function(e,t){return t(e)},e.apply(void 0,arguments))}}},function(e,t){e.exports=function(e){return encodeURIComponent(e||"")}},function(e,t,n){var r=n(575).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unpackBackendForEs5Users=t.createChildContext=t.CHILD_CONTEXT_TYPES=void 0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){p.default.apply(void 0,["DragDropContext","backend"].concat(Array.prototype.slice.call(arguments)));var t=v(e),n=g(t);return function(e){var t,a,l=e.displayName||e.name||"Component",c=(a=t=function(t){function a(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(a,t),i(a,[{key:"getDecoratedComponentInstance",value:function(){return(0,u.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"getManager",value:function(){return n.dragDropManager}},{key:"getChildContext",value:function(){return n}},{key:"render",value:function(){var t=this;return s.default.createElement(e,r({},this.props,{ref:function(e){t.child=e}}))}}]),a}(o.Component),t.DecoratedComponent=e,t.displayName="DragDropContext("+l+")",t.childContextTypes=f,a);return(0,d.default)(c,e)}};var o=n(1),s=h(o),l=h(n(4)),c=n(1425),u=h(n(88)),d=h(n(569)),p=h(n(437));function h(e){return e&&e.__esModule?e:{default:e}}var f=t.CHILD_CONTEXT_TYPES={dragDropManager:l.default.object.isRequired},g=t.createChildContext=function(e,t){return{dragDropManager:new c.DragDropManager(e,t)}},v=t.unpackBackendForEs5Users=function(e){var t=e;return"object"===(void 0===t?"undefined":a(t))&&"function"==typeof t.default&&(t=t.default),(0,u.default)("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://react-dnd.github.io/react-dnd/docs-drag-drop-context.html"),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments[1];switch(t.type){case i.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case i.HOVER:return function(e,t){if(e===t)return!0;return e&&t&&e.x===t.x&&e.y===t.y}(e.clientOffset,t.clientOffset)?e:r({},e,{clientOffset:t.clientOffset});case i.END_DRAG:case i.DROP:return a;default:return e}},t.getSourceClientOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset,r=e.initialSourceClientOffset;if(!t||!n||!r)return null;return{x:t.x+r.x-n.x,y:t.y+r.y-n.y}},t.getDifferenceFromInitialOffset=function(e){var t=e.clientOffset,n=e.initialClientOffset;if(!t||!n)return null;return{x:t.x-n.x,y:t.y-n.y}};var i=n(431),a={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(0,a.default)(e)?e.some(function(e){return e===t}):e===t};var r,i=n(241),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){var r=n(741),i=n(349),a=n(435),o=i(function(e,t){return a(e)?r(e,t):[]});e.exports=o},function(e,t,n){var r=n(537),i=n(567),a=n(568),o=n(532),s=n(535),l=n(538),c=200;e.exports=function(e,t,n,u){var d=-1,p=i,h=!0,f=e.length,g=[],v=t.length;if(!f)return g;n&&(t=o(t,s(n))),u?(p=a,h=!1):t.length>=c&&(p=l,h=!1,t=new r(t));e:for(;++d<f;){var m=e[d],y=null==n?m:n(m);if(m=u||0!==m?m:0,h&&y==y){for(var b=v;b--;)if(t[b]===y)continue e;g.push(m)}else p(t,y,u)||g.push(m)}return g}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=arguments[1],t=arguments[2];switch(e.type){case a.HOVER:break;case o.ADD_SOURCE:case o.ADD_TARGET:case o.REMOVE_TARGET:case o.REMOVE_SOURCE:return l;case a.BEGIN_DRAG:case a.PUBLISH_DRAG_SOURCE:case a.END_DRAG:case a.DROP:default:return c}var n=e.targetIds,i=t.targetIds,s=(0,r.default)(n,i),u=!1;if(0===s.length){for(var d=0;d<n.length;d++)if(n[d]!==i[d]){u=!0;break}}else u=!0;if(!u)return l;var p=i[i.length-1],h=n[n.length-1];p!==h&&(p&&s.push(p),h&&s.push(h));return s},t.areDirty=function(e,t){if(e===l)return!1;if(e===c||void 0===t)return!0;return(0,i.default)(t,e).length>0};var r=s(n(1463)),i=s(n(1178)),a=n(431),o=n(436);function s(e){return e&&e.__esModule?e:{default:e}}var l=[],c=[]},function(e,t,n){var r=n(537),i=n(567),a=n(568),o=n(538),s=n(1467),l=n(685),c=200;e.exports=function(e,t,n){var u=-1,d=i,p=e.length,h=!0,f=[],g=f;if(n)h=!1,d=a;else if(p>=c){var v=t?null:s(e);if(v)return l(v);h=!1,d=o,g=new r}else g=t?[]:f;e:for(;++u<p;){var m=e[u],y=t?t(m):m;if(m=n||0!==m?m:0,h&&y==y){for(var b=g.length;b--;)if(g[b]===y)continue e;t&&g.push(y),f.push(m)}else d(g,y,n)||(g!==f&&g.push(y),f.push(m))}return f}},function(e,t){e.exports=function(){}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":r(e))||null===e||"object"!==(void 0===t?"undefined":r(t))||null===t)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(var a=Object.prototype.hasOwnProperty,o=0;o<n.length;o+=1){if(!a.call(t,n[o]))return!1;var s=e[n[o]],l=t[n[o]];if(s!==l||"object"===(void 0===s?"undefined":r(s))||"object"===(void 0===l?"undefined":r(l)))return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t,n,f=e.DecoratedComponent,v=e.createHandler,m=e.createMonitor,y=e.createConnector,b=e.registerHandler,S=e.containerDisplayName,I=e.getType,C=e.collect,M=e.options.arePropsEqual,D=void 0===M?h.default:M,w=f.displayName||f.name||"Component",P=(n=t=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.handleChange=r.handleChange.bind(r),r.handleChildRef=r.handleChildRef.bind(r),(0,u.default)("object"===i(r.context.dragDropManager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",w,w),r.manager=r.context.dragDropManager,r.handlerMonitor=m(r.manager),r.handlerConnector=y(r.manager.getBackend()),r.handler=v(r.handlerMonitor),r.disposable=new c.SerialDisposable,r.receiveProps(e),r.state=r.getCurrentState(),r.dispose(),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),a(t,[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return this.decoratedComponentInstance}},{key:"shouldComponentUpdate",value:function(e,t){return!D(e,this.props)||!(0,p.default)(t,this.state)}}]),a(t,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.disposable=new c.SerialDisposable,this.currentType=null,this.receiveProps(this.props),this.handleChange()}},{key:"componentWillReceiveProps",value:function(e){D(e,this.props)||(this.receiveProps(e),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose(),this.isCurrentlyMounted=!1}},{key:"receiveProps",value:function(e){this.handler.receiveProps(e),this.receiveType(I(e))}},{key:"receiveType",value:function(e){if(e!==this.currentType){this.currentType=e;var t=b(e,this.handler,this.manager),n=t.handlerId,r=t.unregister;this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor(),a=i.subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new c.CompositeDisposable(new c.Disposable(a),new c.Disposable(r)))}}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector.receiveHandlerId(null)}},{key:"handleChildRef",value:function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)}},{key:"getCurrentState",value:function(){var e=C(this.handlerConnector.hooks,this.handlerMonitor);return e}},{key:"render",value:function(){return s.default.createElement(f,r({},this.props,this.state,{ref:g(f)?this.handleChildRef:null}))}}]),t}(o.Component),t.DecoratedComponent=f,t.displayName=S+"("+w+")",t.contextTypes={dragDropManager:l.default.object.isRequired},n);return(0,d.default)(P,f)};var o=n(1),s=f(o),l=f(n(4)),c=n(1482),u=(f(n(178)),f(n(88))),d=f(n(569)),p=f(n(570)),h=f(n(745));function f(e){return e&&e.__esModule?e:{default:e}}var g=function(e){return Boolean(e&&e.prototype&&"function"==typeof e.prototype.render)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={};return Object.keys(e).forEach(function(n){var r=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if((0,i.isValidElement)(t)){var r=t;!function(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors.You can either wrap "+t+" into a <div>, or turn it into a drag source or a drop target itself.")}}(r);var a=n?function(t){return e(t,n)}:e;return(0,o.default)(r,a)}var s=t;e(s,n)}}(e[n]);t[n]=function(){return r}}),t};var r,i=n(1),a=n(1490),o=(r=a)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(t===e)return!0;return null!==t&&null!==e&&(0,a.default)(t,e)};var r,i=n(570),a=(r=i)&&r.__esModule?r:{default:r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function e(t,n){return"string"==typeof t||"symbol"===(void 0===t?"undefined":r(t))||n&&(0,o.default)(t)&&t.every(function(t){return e(t,!1)})};var i,a=n(241),o=(i=a)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isSafari=t.isFirefox=void 0;var r,i=n(1181),a=(r=i)&&r.__esModule?r:{default:r};t.isFirefox=(0,a.default)(function(){return/firefox/i.test(navigator.userAgent)}),t.isSafari=(0,a.default)(function(){return Boolean(window.safari)})},function(e,t,n){"use strict";var r=Object.prototype;function i(e){return void 0===e}function a(e){return"[object String]"===r.toString.call(e)}function o(e){return"object"==typeof e&&null!==e}function s(e,t){var n,r;if(i(e.length))for(n in e)l(e,n)&&t.call(null,n,e[n]);else if(r=e.length)for(n=0;n<r;n++)t.call(null,n,e[n])}function l(e,t){return r.hasOwnProperty.call(e,t)}e.exports={isUndefined:i,isFunction:function(e){return"function"==typeof e},isString:a,isObject:o,isEmptyObject:function(e){for(var t in e)return!1;return!0},isError:function(e){return o(e)&&"[object Error]"===r.toString.call(e)||e instanceof Error},each:s,objectMerge:function(e,t){return t?(s(t,function(t,n){e[t]=n}),e):e},truncate:function(e,t){return!t||e.length<=t?e:e.substr(0,t)+""},hasKey:l,joinRegExp:function(e){for(var t,n=[],r=0,i=e.length;r<i;r++)a(t=e[r])?n.push(t.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")):t&&t.source&&n.push(t.source);return new RegExp(n.join("|"),"i")},urlencode:function(e){var t=[];return s(e,function(e,n){t.push(encodeURIComponent(e)+"="+encodeURIComponent(n))}),t.join("&")},uuid4:function(){var e=window.crypto||window.msCrypto;if(!i(e)&&e.getRandomValues){var t=new Uint16Array(8);e.getRandomValues(t),t[3]=4095&t[3]|16384,t[4]=16383&t[4]|32768;var n=function(e){for(var t=e.toString(16);t.length<4;)t="0"+t;return t};return n(t[0])+n(t[1])+n(t[2])+n(t[3])+n(t[4])+n(t[5])+n(t[6])+n(t[7])}return"xxxxxxxxxxxx4xxxyxxxxxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})}}},function(e,t,n){
/** @license URI.js v4.2.1 (c) 2011 Gary Court. License: http://github.com/garycourt/uri-js */
!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var r=t.length-1,i=1;i<r;++i)t[i]=t[i].slice(1,-1);return t[r]=t[r].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function r(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function i(e){return e.toUpperCase()}function a(e){var r=t("[0-9]","[A-Fa-f]"),i=n(n("%[EFef]"+r+"%"+r+r+"%"+r+r)+"|"+n("%[89A-Fa-f]"+r+"%"+r+r)+"|"+n("%"+r+r)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",o=t("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]",l=e?"[\\uE000-\\uF8FF]":"[]",c=t("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",s),u=n("[A-Za-z]"+t("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),d=n(n(i+"|"+t(c,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("[1-9][0-9]")+"|[0-9]"),n(n("25[0-5]")+"|"+n("2[0-4][0-9]")+"|"+n("1[0-9][0-9]")+"|"+n("0?[1-9][0-9]")+"|0?0?[0-9]")),h=n(p+"\\."+p+"\\."+p+"\\."+p),f=n(r+"{1,4}"),g=n(n(f+"\\:"+f)+"|"+h),v=n(n(f+"\\:")+"{6}"+g),m=n("\\:\\:"+n(f+"\\:")+"{5}"+g),y=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+g),b=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+g),S=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+g),I=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+g),C=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+g),M=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),D=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),w=n([v,m,y,b,S,I,C,M,D].join("|")),P=n(n(c+"|"+i)+"+"),T=(n(w+"\\%25"+P),n(w+n("\\%25|\\%(?!"+r+"{2})")+P)),E=n("[vV]"+r+"+\\."+t(c,a,"[\\:]")+"+"),x=n("\\["+n(T+"|"+w+"|"+E)+"\\]"),O=n(n(i+"|"+t(c,a))+"*"),j=n(x+"|"+h+"(?!"+O+")|"+O),A=n("[0-9]*"),N=n(n(d+"@")+"?"+j+n("\\:"+A)+"?"),k=n(i+"|"+t(c,a,"[\\:\\@]")),L=n(k+"*"),R=n(k+"+"),_=n(n(i+"|"+t(c,a,"[\\@]"))+"+"),U=n(n("\\/"+L)+"*"),z=n("\\/"+n(R+U)+"?"),F=n(_+U),B=n(R+U),H="(?!"+k+")",V=(n(U+"|"+z+"|"+F+"|"+B+"|"+H),n(n(k+"|"+t("[\\/\\?]",l))+"*")),Q=n(n(k+"|[\\/\\?]")+"*"),W=n(n("\\/\\/"+N+U)+"|"+z+"|"+B+"|"+H),G=n(u+"\\:"+W+n("\\?"+V)+"?"+n("\\#"+Q)+"?"),Y=n(n("\\/\\/"+N+U)+"|"+z+"|"+F+"|"+H),K=n(Y+n("\\?"+V)+"?"+n("\\#"+Q)+"?");return n(G+"|"+K),n(u+"\\:"+W+n("\\?"+V)+"?"),n(n("\\/\\/("+n("("+d+")@")+"?("+j+")"+n("\\:("+A+")")+"?)")+"?("+U+"|"+z+"|"+B+"|"+H+")"),n("\\?("+V+")"),n("\\#("+Q+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+j+")"+n("\\:("+A+")")+"?)")+"?("+U+"|"+z+"|"+F+"|"+H+")"),n("\\?("+V+")"),n("\\#("+Q+")"),n(n("\\/\\/("+n("("+d+")@")+"?("+j+")"+n("\\:("+A+")")+"?)")+"?("+U+"|"+z+"|"+B+"|"+H+")"),n("\\?("+V+")"),n("\\#("+Q+")"),n("("+d+")@"),n("\\:("+A+")"),{NOT_SCHEME:new RegExp(t("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",c,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",c,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",c,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",c,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]",l),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",c,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",c,a),"g"),UNRESERVED:new RegExp(c,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",c,o),"g"),PCT_ENCODED:new RegExp(i,"g"),IPV4ADDRESS:new RegExp("^("+h+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+n(n("\\%25|\\%(?!"+r+"{2})")+"("+P+")")+"?\\]?$")}}var o=a(!1),s=a(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,u=/^xn--/,d=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,g=String.fromCharCode;function v(e){throw new RangeError(h[e])}function m(e,t){var n=e.split("@"),r="";n.length>1&&(r=n[0]+"@",e=n[1]);var i=(e=e.replace(p,".")).split("."),a=function(e,t){for(var n=[],r=e.length;r--;)n[r]=t(e[r]);return n}(i,t).join(".");return r+a}function y(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}var b=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},S=function(e,t,n){var r=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;r+=36)e=f(e/35);return f(r+36*e/(e+38))},I=function(e){var t,n=[],r=e.length,i=0,a=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var l=0;l<s;++l)e.charCodeAt(l)>=128&&v("not-basic"),n.push(e.charCodeAt(l));for(var u=s>0?s+1:0;u<r;){for(var d=i,p=1,h=36;;h+=36){u>=r&&v("invalid-input");var g=(t=e.charCodeAt(u++))-48<10?t-22:t-65<26?t-65:t-97<26?t-97:36;(g>=36||g>f((c-i)/p))&&v("overflow"),i+=g*p;var m=h<=o?1:h>=o+26?26:h-o;if(g<m)break;var y=36-m;p>f(c/y)&&v("overflow"),p*=y}var b=n.length+1;o=S(i-d,b,0==d),f(i/b)>c-a&&v("overflow"),a+=f(i/b),i%=b,n.splice(i++,0,a)}return String.fromCodePoint.apply(String,n)},C=function(e){var t=[],n=(e=y(e)).length,r=128,i=0,a=72,o=!0,s=!1,l=void 0;try{for(var u,d=e[Symbol.iterator]();!(o=(u=d.next()).done);o=!0){var p=u.value;p<128&&t.push(g(p))}}catch(e){s=!0,l=e}finally{try{!o&&d.return&&d.return()}finally{if(s)throw l}}var h=t.length,m=h;for(h&&t.push("-");m<n;){var I=c,C=!0,M=!1,D=void 0;try{for(var w,P=e[Symbol.iterator]();!(C=(w=P.next()).done);C=!0){var T=w.value;T>=r&&T<I&&(I=T)}}catch(e){M=!0,D=e}finally{try{!C&&P.return&&P.return()}finally{if(M)throw D}}var E=m+1;I-r>f((c-i)/E)&&v("overflow"),i+=(I-r)*E,r=I;var x=!0,O=!1,j=void 0;try{for(var A,N=e[Symbol.iterator]();!(x=(A=N.next()).done);x=!0){var k=A.value;if(k<r&&++i>c&&v("overflow"),k==r){for(var L=i,R=36;;R+=36){var _=R<=a?1:R>=a+26?26:R-a;if(L<_)break;var U=L-_,z=36-_;t.push(g(b(_+U%z,0))),L=f(U/z)}t.push(g(b(L,0))),a=S(i,E,m==h),i=0,++m}}}catch(e){O=!0,j=e}finally{try{!x&&N.return&&N.return()}finally{if(O)throw j}}++i,++r}return t.join("")},M={version:"2.1.0",ucs2:{decode:y,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(e))}},decode:I,encode:C,toASCII:function(e){return m(e,function(e){return d.test(e)?"xn--"+C(e):e})},toUnicode:function(e){return m(e,function(e){return u.test(e)?I(e.slice(4).toLowerCase()):e})}},D={};function w(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function P(e){for(var t="",n=0,r=e.length;n<r;){var i=parseInt(e.substr(n+1,2),16);if(i<128)t+=String.fromCharCode(i),n+=3;else if(i>=194&&i<224){if(r-n>=6){var a=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&i)<<6|63&a)}else t+=e.substr(n,6);n+=6}else if(i>=224){if(r-n>=9){var o=parseInt(e.substr(n+4,2),16),s=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function T(e,t){function n(e){var n=P(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,w).replace(t.PCT_ENCODED,i)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,w).replace(t.PCT_ENCODED,i)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,w).replace(t.PCT_ENCODED,i)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,w).replace(t.PCT_ENCODED,i)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,w).replace(t.PCT_ENCODED,i)),e}function E(e){return e.replace(/^0*(.*)/,"$1")||"0"}function x(e,t){var n=e.match(t.IPV4ADDRESS)||[],r=l(n,2),i=r[1];return i?i.split(".").map(E).join("."):e}function O(e,t){var n=e.match(t.IPV6ADDRESS)||[],r=l(n,3),i=r[1],a=r[2];if(i){for(var o=i.toLowerCase().split("::").reverse(),s=l(o,2),c=s[0],u=s[1],d=u?u.split(":").map(E):[],p=c.split(":").map(E),h=t.IPV4ADDRESS.test(p[p.length-1]),f=h?7:8,g=p.length-f,v=Array(f),m=0;m<f;++m)v[m]=d[m]||p[g+m]||"";h&&(v[f-1]=x(v[f-1],t));var y=v.reduce(function(e,t,n){if(!t||"0"===t){var r=e[e.length-1];r&&r.index+r.length===n?r.length++:e.push({index:n,length:1})}return e},[]),b=y.sort(function(e,t){return t.length-e.length})[0],S=void 0;if(b&&b.length>1){var I=v.slice(0,b.index),C=v.slice(b.index+b.length);S=I.join(":")+"::"+C.join(":")}else S=v.join(":");return a&&(S+="%"+a),S}return e}var j=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,A=void 0==="".match(/(){0}/)[1];function N(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},r=!1!==t.iri?s:o;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var i=e.match(j);if(i){A?(n.scheme=i[1],n.userinfo=i[3],n.host=i[4],n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=i[7],n.fragment=i[8],isNaN(n.port)&&(n.port=i[5])):(n.scheme=i[1]||void 0,n.userinfo=-1!==e.indexOf("@")?i[3]:void 0,n.host=-1!==e.indexOf("//")?i[4]:void 0,n.port=parseInt(i[5],10),n.path=i[6]||"",n.query=-1!==e.indexOf("?")?i[7]:void 0,n.fragment=-1!==e.indexOf("#")?i[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?i[4]:void 0)),n.host&&(n.host=O(x(n.host,r),r)),void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?n.reference="relative":void 0===n.fragment?n.reference="absolute":n.reference="uri":n.reference="same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var a=D[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||a&&a.unicodeSupport)T(n,r);else{if(n.host&&(t.domainHost||a&&a.domainHost))try{n.host=M.toASCII(n.host.replace(r.PCT_ENCODED,P).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}T(n,o)}a&&a.parse&&a.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}var k=/^\.\.?\//,L=/^\/\.(\/|$)/,R=/^\/\.\.(\/|$)/,_=/^\/?(?:.|\n)*?(?=\/|$)/;function U(e){for(var t=[];e.length;)if(e.match(k))e=e.replace(k,"");else if(e.match(L))e=e.replace(L,"/");else if(e.match(R))e=e.replace(R,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(_);if(!n)throw new Error("Unexpected dot segment condition");var r=n[0];e=e.slice(r.length),t.push(r)}return t.join("")}function z(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?s:o,r=[],i=D[(t.scheme||e.scheme||"").toLowerCase()];if(i&&i.serialize&&i.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||i&&i.domainHost)try{e.host=t.iri?M.toUnicode(e.host):M.toASCII(e.host.replace(n.PCT_ENCODED,P).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}T(e,n),"suffix"!==t.reference&&e.scheme&&(r.push(e.scheme),r.push(":"));var a=function(e,t){var n=!1!==t.iri?s:o,r=[];return void 0!==e.userinfo&&(r.push(e.userinfo),r.push("@")),void 0!==e.host&&r.push(O(x(String(e.host),n),n).replace(n.IPV6ADDRESS,function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"})),"number"==typeof e.port&&(r.push(":"),r.push(e.port.toString(10))),r.length?r.join(""):void 0}(e,t);if(void 0!==a&&("suffix"!==t.reference&&r.push("//"),r.push(a),e.path&&"/"!==e.path.charAt(0)&&r.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||i&&i.absolutePath||(l=U(l)),void 0===a&&(l=l.replace(/^\/\//,"/%2F")),r.push(l)}return void 0!==e.query&&(r.push("?"),r.push(e.query)),void 0!==e.fragment&&(r.push("#"),r.push(e.fragment)),r.join("")}function F(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments[3],i={};return r||(e=N(z(e,n),n),t=N(z(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(i.scheme=t.scheme,i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(i.userinfo=t.userinfo,i.host=t.host,i.port=t.port,i.path=U(t.path||""),i.query=t.query):(t.path?("/"===t.path.charAt(0)?i.path=U(t.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?i.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:i.path=t.path:i.path="/"+t.path,i.path=U(i.path)),i.query=t.query):(i.path=e.path,void 0!==t.query?i.query=t.query:i.query=e.query),i.userinfo=e.userinfo,i.host=e.host,i.port=e.port),i.scheme=e.scheme),i.fragment=t.fragment,i}function B(e,t){return e&&e.toString().replace(t&&t.iri?s.PCT_ENCODED:o.PCT_ENCODED,P)}var H={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},V={scheme:"https",domainHost:H.domainHost,parse:H.parse,serialize:H.serialize},Q={},W="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",Y=n(n("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+n("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+n("%"+G+G)),K=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),q=new RegExp(W,"g"),Z=new RegExp(Y,"g"),X=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',K),"g"),J=new RegExp(t("[^]",W,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),$=J;function ee(e){var t=P(e);return t.match(q)?t:e}var te={scheme:"mailto",parse:function(e,t){var n=e,r=n.to=n.path?n.path.split(","):[];if(n.path=void 0,n.query){for(var i=!1,a={},o=n.query.split("&"),s=0,l=o.length;s<l;++s){var c=o[s].split("=");switch(c[0]){case"to":for(var u=c[1].split(","),d=0,p=u.length;d<p;++d)r.push(u[d]);break;case"subject":n.subject=B(c[1],t);break;case"body":n.body=B(c[1],t);break;default:i=!0,a[B(c[0],t)]=B(c[1],t)}}i&&(n.headers=a)}n.query=void 0;for(var h=0,f=r.length;h<f;++h){var g=r[h].split("@");if(g[0]=B(g[0]),t.unicodeSupport)g[1]=B(g[1],t).toLowerCase();else try{g[1]=M.toASCII(B(g[1],t).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[h]=g.join("@")}return n},serialize:function(e,t){var n,r=e,a=null!=(n=e.to)?n instanceof Array?n:"number"!=typeof n.length||n.split||n.setInterval||n.call?[n]:Array.prototype.slice.call(n):[];if(a){for(var o=0,s=a.length;o<s;++o){var l=String(a[o]),c=l.lastIndexOf("@"),u=l.slice(0,c).replace(Z,ee).replace(Z,i).replace(X,w),d=l.slice(c+1);try{d=t.iri?M.toUnicode(d):M.toASCII(B(d,t).toLowerCase())}catch(e){r.error=r.error||"Email address's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+e}a[o]=u+"@"+d}r.path=a.join(",")}var p=e.headers=e.headers||{};e.subject&&(p.subject=e.subject),e.body&&(p.body=e.body);var h=[];for(var f in p)p[f]!==Q[f]&&h.push(f.replace(Z,ee).replace(Z,i).replace(J,w)+"="+p[f].replace(Z,ee).replace(Z,i).replace($,w));return h.length&&(r.query=h.join("&")),r}},ne=/^([^\:]+)\:(.*)/,re={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(ne),r=e;if(n){var i=t.scheme||r.scheme||"urn",a=n[1].toLowerCase(),o=n[2],s=i+":"+(t.nid||a),l=D[s];r.nid=a,r.nss=o,r.path=void 0,l&&(r=l.parse(r,t))}else r.error=r.error||"URN can not be parsed.";return r},serialize:function(e,t){var n=t.scheme||e.scheme||"urn",r=e.nid,i=n+":"+(t.nid||r),a=D[i];a&&(e=a.serialize(e,t));var o=e,s=e.nss;return o.path=(r||t.nid)+":"+s,o}},ie=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ae={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(ie)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};D[H.scheme]=H,D[V.scheme]=V,D[te.scheme]=te,D[re.scheme]=re,D[ae.scheme]=ae,e.SCHEMES=D,e.pctEncChar=w,e.pctDecChars=P,e.parse=N,e.removeDotSegments=U,e.serialize=z,e.resolveComponents=F,e.resolve=function(e,t,n){var r=function(e,t){var n=e;if(t)for(var r in t)n[r]=t[r];return n}({scheme:"null"},n);return z(F(N(e,r),N(t,r),r,!0),r)},e.normalize=function(e,t){return"string"==typeof e?e=z(N(e,t),t):"object"===r(e)&&(e=N(z(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=z(N(e,n),n):"object"===r(e)&&(e=z(e,n)),"string"==typeof t?t=z(N(t,n),n):"object"===r(t)&&(t=z(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?s.ESCAPE:o.ESCAPE,w)},e.unescapeComponent=B,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t){function n(e){for(var t=e.length,n=new Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n}function r(e){for(var t="",n=0;n<e.length;n++)t+=SHA256_hexchars[e[n]>>4]+SHA256_hexchars[15&e[n]];return t}function i(){SHA256_H=new Array(1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225),SHA256_buf=new Array,SHA256_len=0}function a(e){SHA256_buf="string"==typeof e?SHA256_buf.concat(n(e)):SHA256_buf.concat(e);for(var t=0;t+64<=SHA256_buf.length;t+=64)g(SHA256_H,SHA256_buf.slice(t,t+64));SHA256_buf=SHA256_buf.slice(t),SHA256_len+=e.length}function o(){if(SHA256_buf[SHA256_buf.length]=128,SHA256_buf.length>56){for(var e=SHA256_buf.length;e<64;e++)SHA256_buf[e]=0;g(SHA256_H,SHA256_buf),SHA256_buf.length=0}for(e=SHA256_buf.length;e<59;e++)SHA256_buf[e]=0;SHA256_buf[59]=SHA256_len>>>29&255,SHA256_buf[60]=SHA256_len>>>21&255,SHA256_buf[61]=SHA256_len>>>13&255,SHA256_buf[62]=SHA256_len>>>5&255,SHA256_buf[63]=SHA256_len<<3&255,g(SHA256_H,SHA256_buf);var t=new Array(32);for(e=0;e<8;e++)t[4*e+0]=SHA256_H[e]>>>24,t[4*e+1]=SHA256_H[e]>>16&255,t[4*e+2]=SHA256_H[e]>>8&255,t[4*e+3]=255&SHA256_H[e];return SHA256_H=null,SHA256_buf=null,SHA256_len=null,t}function s(e){HMAC_SHA256_key="string"==typeof e?n(e):(new Array).concat(e),HMAC_SHA256_key.length>64&&(i(),a(HMAC_SHA256_key),HMAC_SHA256_key=o());for(var t=HMAC_SHA256_key.length;t<64;t++)HMAC_SHA256_key[t]=0;for(t=0;t<64;t++)HMAC_SHA256_key[t]^=54;i(),a(HMAC_SHA256_key)}function l(e){a(e)}function c(){for(var e=o(),t=0;t<64;t++)HMAC_SHA256_key[t]^=106;i(),a(HMAC_SHA256_key),a(e);for(t=0;t<64;t++)HMAC_SHA256_key[t]=0;return HMAC_SHA256_key=null,o()}function u(e){return(e>>>7|e<<25)^(e>>>18|e<<14)^e>>>3}function d(e){return(e>>>2|e<<30)^(e>>>13|e<<19)^(e>>>22|e<<10)}function p(e){return(e>>>6|e<<26)^(e>>>11|e<<21)^(e>>>25|e<<7)}function h(e,t,n){return n^e&(t^n)}function f(e,t,n){return e&t^n&(e^t)}function g(e,t){for(var n=new Array(16),r=0;r<16;r++)n[r]=t[4*r+0]<<24|t[4*r+1]<<16|t[4*r+2]<<8|t[4*r+3];!function(e,t){for(var n=16;n<64;n++)t[n]=4294967295&(((r=t[n-2])>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)+t[n-7]+u(t[n-15])+t[n-16];var r,i=(new Array).concat(e);for(n=0;n<64;n++){var a=i[7]+p(i[4])+h(i[4],i[5],i[6])+SHA256_K[n]+t[n],o=d(i[0])+f(i[0],i[1],i[2]);i.pop(),i.unshift(a+o&4294967295),i[4]=i[4]+a&4294967295}for(n=0;n<8;n++)e[n]=e[n]+i[n]&4294967295}(e,n)}SHA256_hexchars=new Array("0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"),SHA256_K=new Array(1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298),t.array_to_string=function(e){for(var t="",n=0;n<e.length;n++)t+=String.fromCharCode(e[n]);return t},t.SHA256_hash=function(e){return i(),a(e),r(o())},t.HMAC_SHA256_init=s,t.HMAC_SHA256_write=l,t.HMAC_SHA256_finalize=c},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Settings",{hash:{},data:t}))+" "}function h(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Sign In",{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> ',((s=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(3,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Plex Pass Required",{hash:{},data:t}))+" "},o),fn:d.program(1,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Internet Required",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </h4> </div> <div class="modal-body"> <p class="confirm-message"> ',((s=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(7,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"This library requires your server be signed in to a Plex Pass account.",{hash:{},data:t}))+" "},o),fn:d.program(5,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"This server cannot reach the Internet. Please verify connectivity and try again.",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </p> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Ignore",{hash:{},data:o}))+"</button> ",((s=r.if.call(t,t&&t.hasPlexSubscription,{hash:{},inverse:d.program(11,function(e,t){var n,i="";return i+=' <a class="confirm-btn btn btn-lg btn-primary" href="'+c(typeof(n=e&&e.serverSettingsRoute)===u?n.apply(e):n)+'"> ',((n=r.if.call(e,e&&e.isSignedIn,{hash:{},inverse:d.program(14,h,t),fn:d.program(12,p,t),data:t}))||0===n)&&(i+=n),i+=" </a> "},o),fn:d.program(9,function(e,t){var r="";return r+=' <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(14)).call(e,"OK",{hash:{},data:t}))+"</button> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c("function"==typeof(s=t&&t.title)?s.apply(t):s)+'</h4> </div> <div class="modal-body"> <p class="confirm-message">'+c("function"==typeof(s=t&&t.message)?s.apply(t):s)+'</p> <p class="double-confirm-message text-warning"></p> </div> <div class="modal-footer"> ',((s=r.unless.call(t,t&&t.hideCancel,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=' <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(14)).call(e,e&&e.cancelLabel,{hash:{},data:t}))+"</button> "},o),data:o}))||0===s)&&(l+=s),l+=' <button type="button" class="confirm-btn btn btn-lg ',((s=r.if.call(t,t&&t.hasDanger,{hash:{},inverse:this.program(5,function(e,t){return"btn-primary"},o),fn:this.program(3,function(e,t){return"btn-danger"},o),data:o}))||0===s)&&(l+=s),l+=' btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(t,t&&t.confirmLabel,{hash:{},data:o}))+"</span> </button> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon file"></i> '+u(i(n(14)).call(t,"Select a File",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((s=r.each.call(t,t&&t.medias,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,a="";return a+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+u(typeof(r=null==t||!1===t?t:t.index)===c?r.apply(e):r)+'" href="#"> ',((r=i(n(1392)).call(e,null==(r=null==(r=e&&e.Part)||!1===r?r:r[0])||!1===r?r:r.file,35,{hash:{},data:t}))||0===r)&&(a+=r),a+=" </a> </li> "},o),data:o}))||0===s)&&(l+=s),l+=" </ul> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-arrow-right"></i> '+c(i(n(14)).call(t,"Go Premium",{hash:{},data:o}))+' </h4> </div> <div class="modal-body"> <p class="text-center"><i class="plex-image plex-pass"></i></p> <h4 class="text-center">'+c(i(n(14)).call(t,"This feature requires a Plex Pass subscription.",{hash:{},data:o}))+"</h4> ",((s=r.if.call(t,t&&t.isClaimed,{hash:{},inverse:this.program(3,function(e,t){var r="";return r+=' <p class="text-muted">'+c(i(n(14)).call(e,'The server "{1}" has not been claimed. This server must be claimed by an account with a Plex Pass subscription.',e&&e.escapedFriendlyName,{hash:{},data:t}))+"</p> "},o),fn:this.program(1,function(e,t){var r="";return r+=' <p class="text-muted">'+c(i(n(14)).call(e,"Everything you need to experience the best of Plex. Your subscription gives you premium features and exclusive access to new ones.",{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=' <p class="text-center"> <a class="btn btn-sm btn-primary" href="'+c("function"==typeof(s=t&&t.plexPassUrl)?s.apply(t):s)+'" target="_blank">'+c(i(n(14)).call(t,"Learn More",{hash:{},data:o}))+"</a> </p> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t){var r="";return r+=" "+c(i(n(729)).call(e,e&&e.name,25,{hash:{},data:t}))+" "}function h(e,t){var r="";return r+=" "+c(i(n(729)).call(e,e&&e.device,25,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon iphone"></i> '+c(i(n(14)).call(t,"Choose Destination",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list"> ',((s=r.each.call(t,t&&t.devices,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var n,i="";return i+=' <li class="striped-list-item select-list-item"> <a class="media" data-value="'+c(typeof(n=e&&e.id)===u?n.apply(e):n)+'" href="#"> ',((n=r.if.call(e,e&&e.name,{hash:{},inverse:d.program(4,h,t),fn:d.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" </a> </li> "},o),data:o}))||0===s)&&(l+=s),l+=" </ul> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(14)).call(t,"There was a problem syncing this media.",{hash:{},data:o}))+'</h4> <h4><a class="try-again-link" href="#">'+l(i(n(14)).call(t,"Try again",{hash:{},data:o}))+"</a></h4> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;function d(e,t){return"hidden"}function p(e,t){return"checked"}return l+='<div class="form-group ',((s=r.unless.call(t,t&&t.showUnwatched,{hash:{},inverse:this.noop,fn:this.program(1,d,o),data:o}))||0===s)&&(l+=s),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-unwatched" name="policyUnwatched" ',((s=r.if.call(t,null==(s=t&&t.policy)||!1===s?s:s.unwatched,{hash:{},inverse:this.noop,fn:this.program(3,p,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Unwatched only",{hash:{},data:o}))+' </label> </div> <div class="form-group ',((s=r.unless.call(t,t&&t.isDirectory,{hash:{},inverse:this.noop,fn:this.program(1,d,o),data:o}))||0===s)&&(l+=s),l+='"> <label class="control-label"> <input type="checkbox" id="convert-policy-scope" name="policyScope" value="count" ',((s=i(n(38)).call(t,null==(s=t&&t.policy)||!1===s?s:s.scope,"count",{hash:{},inverse:this.noop,fn:this.program(3,p,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Limit to",{hash:{},data:o}))+' <input type="number" id="convert-policy-value" name="policyValue" class="policy-value-control form-control" ',((s=r.if.call(t,null==(s=t&&t.policy)||!1===s?s:s.value,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var n,r="";return r+='value="'+u(typeof(n=null==(n=e&&e.policy)||!1===n?n:n.value)===c?n.apply(e):n)+'"'},o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"items",{hash:{},data:o}))+' </label> <p class="convert-warning help-block ',((s=r.unless.call(t,t&&t.showLimitWarning,{hash:{},inverse:this.noop,fn:this.program(1,d,o),data:o}))||0===s)&&(l+=s),l+='"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> ',((s=r.if.call(t,t&&t.isSync,{hash:{},inverse:this.program(9,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"A large number of items may be time-consuming to convert. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "},o),fn:this.program(7,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"A large number of sync items may be time-consuming to convert and transfer to your device. If you have trouble, try reducing the number of items.",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" </span> </p> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u=this.escapeExpression,d="function";function p(e,t){var r,a="";return a+=' <option value="-1" ',((r=i(n(38)).call(e,null==(r=e&&e.selectedVideoQuality)||!1===r?r:r.index,-1,{hash:{},inverse:c.noop,fn:c.program(3,h,t),data:t}))||0===r)&&(a+=r),a+="> "+u(i(n(14)).call(e,"Original",{hash:{},data:t}))+" </option> "}function h(e,t){return"selected"}function f(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.index)===d?a.apply(e):a)+'" ',((a=i(n(38)).call(e,null==(a=r&&r.selectedVideoQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,h,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(362)).call(e,e,{hash:{},data:t}))+" </option> "}function g(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.index)===d?a.apply(e):a)+'" ',((a=i(n(38)).call(e,null==(a=r&&r.selectedMusicQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,h,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(1395)).call(e,e,{hash:{},data:t}))+" </option> "}function v(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.index)===d?a.apply(e):a)+'" ',((a=i(n(38)).call(e,null==(a=r&&r.selectedPhotoQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:c.noop,fn:c.program(3,h,t),data:t}))||0===a)&&(o+=a),o+="> "+u(typeof(a=e&&e.title)===d?a.apply(e):a)+" </option> "}return((s=i(n(38)).call(t,t&&t.typeElement,"video",{hash:{},inverse:c.noop,fn:c.program(1,function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="videoQuality"> ',((n=r.if.call(e,e&&e.supportsOriginalQuality,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.each.call(e,e&&e.availableVideoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(5,f,t,e),data:t}))||0===n)&&(i+=n),i+=" </select> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=i(n(38)).call(t,t&&t.typeElement,"audio",{hash:{},inverse:c.noop,fn:c.program(7,function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="musicQuality"> ',((n=r.each.call(e,e&&e.availableMusicQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(8,g,t,e),data:t}))||0===n)&&(i+=n),i+=" </select> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=i(n(38)).call(t,t&&t.typeElement,"photo",{hash:{},inverse:c.noop,fn:c.program(10,function(e,t){var n,i="";return i+=' <select class="sync-quality-select" name="photoQuality"> ',((n=r.each.call(e,e&&e.availablePhotoQualities,{hash:{},inverse:c.noop,fn:c.programWithDepth(11,v,t,e),data:t}))||0===n)&&(i+=n),i+=" </select> "},o),data:o}))||0===s)&&(l+=s),l+=' <p class="help-block">'+u(i(n(14)).call(t,"Plex will convert your media to this quality and transfer the converted media to your device.",{hash:{},data:o}))+"</p> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form id="sync-form" class="settings-container"> <div class="modal-body"> <div class="form-group"> <label class="control-label" for="sync-title">'+c(i(n(14)).call(t,"Title",{hash:{},data:o}))+'</label> <input type="text" id="sync-title" name="title" class="form-control" value="'+c("function"==typeof(s=null==(s=t&&t.syncItem)||!1===s?s:s.title)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=null==(s=t&&t.syncItem)||!1===s?s:s.title)?s.apply(t):s)+'"> </div> <div class="policy-region"></div> <div class="quality-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((s=r.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(3,function(e,t){return c(i(n(14)).call(e,"Save",{hash:{},data:t}))},o),fn:this.program(1,function(e,t){return c(i(n(14)).call(e,"Sync",{hash:{},data:t}))},o),data:o}))||0===s)&&(l+=s),l+="</span> </button> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(14)).call(t,"This media is being synced.",{hash:{},data:o}))+"</h4> <h4>"+l(i(n(14)).call(t,"Watch the status of the sync {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:o}))+"</h4> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Sync",{hash:{},data:a}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">',o+=(0,this.escapeExpression)((a=n.message)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.message)?a.call(t,{hash:{},data:i}):a)+"</span> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="",l="function",c=this.escapeExpression;return s+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(typeof(o=t&&t.content)===l?o.apply(t):o)+"</span> ",((o=r.if.call(t,t&&t.url,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,i,a="";return a+=' <a class="info-link link" href="'+c(typeof(r=e&&e.url)===l?r.apply(e):r)+'" target="_blank">'+c((i=n(14),i&&(i.__esModule?i.default:i)).call(e,"More Info",{hash:{},data:t}))+"</a> "},a),data:a}))||0===o)&&(s+=o),s+=" "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<span class="message">',o+=(0,this.escapeExpression)((a=n.message)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.message)?a.call(t,{hash:{},data:i}):a)+"</span> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(n(14)).call(t,"Welcome to Plex Home",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <p>'+c("function"==typeof(s=t&&t.intro)?s.apply(t):s)+".</p> ",((s=r.if.call(t,t&&t.hasFullOwnedServer,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=" <p>"+c(i(n(14)).call(e,"We've disabled DLNA to prevent any DLNA-enabled device from browsing and playing media without a password or PIN. You can change this preference in your {1}server settings{2}.",'<a class="server-settings-btn" href="{3}">',"</a>",e&&e.dlnaSettingsRoute,{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=" <p>"+c(i(n(14)).call(t,"For more information on Plex Home security settings, please see the {1}Plex Home section{2} on our support site.",'<a href="https://support.plex.tv/articles/categories/plex-home/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+'</p> </div> <div class="modal-footer"> <button type="button" class="btn btn-lg btn-primary" data-dismiss="modal">'+c(i(n(14)).call(t,"OK",{hash:{},data:o}))+"</button> </div> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var a,o="";return((a=(n=this.merge(n,e.helpers)).if.call(t,t&&t.disabled,{hash:{},inverse:this.program(3,function(e,t){return' <a class="user-select-container" href="#"> '},i),fn:this.program(1,function(e,t){return' <div class="user-select-container"> '},i),data:i}))||0===a)&&(o+=a),o+=' <div class="user-select-top"> <div class="user-poster img-circle"></div> <i class="protected-icon user-icon glyphicon lock"></i> <i class="admin-icon user-icon glyphicon crown"></i> </div> <div class="username"></div> ',((a=n.if.call(t,t&&t.disabled,{hash:{},inverse:this.program(7,function(e,t){return" </a> "},i),fn:this.program(5,function(e,t){return" </div> "},i),data:i}))||0===a)&&(o+=a),o+=" "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Confirm Current PIN",{hash:{},data:t}))+" "}function p(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Enter PIN",{hash:{},data:t}))+" "}function h(e,t){var r="";return r+=' <button type="button" class="remove-btn btn-gray pull-left">'+c(i(n(14)).call(e,"Remove",{hash:{},data:t}))+"</button> "}function f(e,t){var r="";return r+=' <button type="button" class="skip-btn btn-gray" data-dismiss="modal">'+c(i(n(14)).call(e,"Skip",{hash:{},data:t}))+"</button> "}function g(e,t){var r="";return r+=' <button type="button" class="cancel-btn btn-gray" data-dismiss="modal">'+c(i(n(14)).call(e,"Cancel",{hash:{},data:t}))+"</button> "}return l+='<div class="modal-header"> <div class="home-user-dropdown-container pull-right"></div> <h4 class="modal-title"> ',((s=r.if.call(t,t&&t.showBackButton,{hash:{},inverse:u.noop,fn:u.program(1,function(e,t){return' <a class="back-btn btn-gray" href="#"><i class="glyphicon chevron-left"></i></a> '},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.isEditing,{hash:{},inverse:u.program(5,function(e,t){var n;return(n=r.if.call(e,e&&e.isEditConfirmation,{hash:{},inverse:u.program(8,p,t),fn:u.program(6,d,t),data:t}))||0===n?n:""},o),fn:u.program(3,function(e,t){var r="";return r+=' <i class="modal-icon glyphicon pencil"></i> '+c(i(n(14)).call(e,"Edit PIN",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' <span class="loading loading-sm hidden"></span> </h4> </div> <form id="pin-form"> <div class="modal-body"> <ul class="tile-list user-select-list disabled"></ul> <input type="number" pattern="[0-9]*" class="pin-input"> <a class="pin-forgot-link btn-gray hidden" href="https://www.plex.tv/pin-reset/" target="_blank">'+c(i(n(14)).call(t,"Forgot?",{hash:{},data:o}))+'</a> <div class="pin-digit-container" aria-hidden="true"> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> <div class="pin-digit"></div> </div> ',((s=r.if.call(t,t&&t.isEditWarning,{hash:{},inverse:u.noop,fn:u.program(10,function(e,t){var r="";return r+=' <p class="help-block"> '+c(i(n(14)).call(e,"You do not currently have a PIN. This will allow any users in this home to switch to your account.",{hash:{},data:t}))+" </p> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> ",((s=r.if.call(t,t&&t.isEditing,{hash:{},inverse:u.noop,fn:u.program(12,function(e,t){var a,o="";return o+=' <div class="modal-footer"> ',((a=r.if.call(e,e&&e.hasCurrentPIN,{hash:{},inverse:u.noop,fn:u.program(13,h,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.isEditWarning,{hash:{},inverse:u.program(17,g,t),fn:u.program(15,f,t),data:t}))||0===a)&&(o+=a),o+=' <button type="submit" class="save-btn btn-link">'+c(i(n(14)).call(e,"Save",{hash:{},data:t}))+"</button> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="modal-header"> <h4 class="modal-title"> '+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Select User",{hash:{},data:a}))+' <span class="loading loading-sm"></span> </h4> </div> <div class="modal-body"></div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="modal-dialog"> <div class="modal-alert"></div> <div class="modal-content"></div> </div> '})},function(e,t,n){"use strict";e.exports=n(1400)},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t,n,i){var a,o="";return o+=' <li><a href="'+c(typeof(a=e&&e.url)===u?a.apply(e):a)+'" ',((a=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,i&&i.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,f,t,n),data:t}))||0===a)&&(o+=a),o+=' class="download-btn">'+c(typeof(a=e&&e.label)===u?a.apply(e):a)+"</a></li> "}function h(e,t){return"download"}function f(e,t,n){var r,i="";return i+='target="'+c(typeof(r=n&&n.target)===u?r.apply(e):r)+'"'}function g(e,t,n,i){var a,o="";return o+=' <a href="'+c(typeof(a=e&&e.url)===u?a.apply(e):a)+'" ',((a=r.if.call(e,i&&i.shouldUseDownload,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,i&&i.target,{hash:{},inverse:d.noop,fn:d.programWithDepth(9,f,t,n),data:t}))||0===a)&&(o+=a),o+=' class="btn btn-primary download-btn">'+c(typeof(a=e&&e.label)===u?a.apply(e):a)+"</a> "}return l+='<div class="type-'+c(typeof(s=t&&t.type)===u?s.apply(t):s)+" platform-logo platform-"+c(typeof(s=t&&t.id)===u?s.apply(t):s)+'"></div> <h2><strong>'+c(typeof(s=t&&t.name)===u?s.apply(t):s)+"</strong> "+c(i(n(14)).call(t,"Download",{hash:{},data:o}))+"</h2> <h5>"+c(i(n(14)).call(t,"Version",{hash:{},data:o}))+" "+c(typeof(s=t&&t.version)===u?s.apply(t):s)+"</h5> <h5>"+c(i(n(730)).call(t,t&&t.date,{hash:{},data:o}))+'</h5> <div class="more-info"> ',((s=r.if.call(t,t&&t.requirements,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var r,a="";return a+="<p>"+c(i(n(14)).call(e,"Requirements",{hash:{},data:t}))+": ",((r=typeof(r=e&&e.requirements)===u?r.apply(e):r)||0===r)&&(a+=r),a+="</p>"},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.info,{hash:{},inverse:d.noop,fn:d.program(3,function(e,t){var n,r="";return r+="<p>",((n=typeof(n=e&&e.info)===u?n.apply(e):n)||0===n)&&(r+=n),r+="</p>"},o),data:o}))||0===s)&&(l+=s),l+=" </div> ",((s=r.if.call(t,t&&t.shouldUseDropup,{hash:{},inverse:d.programWithDepth(11,function(e,t,n){var i,a="";return a+=' <div class="download-server-btn-group"> ',((i=r.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(12,g,t,e,n),data:t}))||0===i)&&(a+=i),a+=" </div> "},o,t),fn:d.programWithDepth(5,function(e,t,a){var o,s="";return s+=' <div class="btn-group dropup download-server-btn-group"> <button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> '+c(i(n(14)).call(e,"Download",{hash:{},data:t}))+' <span class="caret"></span> </button> <ul class="dropdown-menu"> ',((o=r.each.call(e,e&&e.releases,{hash:{},inverse:d.noop,fn:d.programWithDepth(6,p,t,e,a),data:t}))||0===o)&&(s+=o),s+=" </ul> </div> "},o,t),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u="function",d=this.escapeExpression;function p(e,t){return" selected"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((s=typeof(s=t&&t.iconPlexChevron)===u?s.apply(t):s)||0===s)&&(l+=s),l+=" "+d(i(n(14)).call(t,"Plex Media Server Downloads",{hash:{},data:o}))+' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> ',((s=r.each.call(t,t&&t.items,{hash:{},inverse:c.noop,fn:c.program(1,function(e,t){var r,a="";return a+=' <li><a class="btn-gray show-pane-btn type-btn',((r=i(n(38)).call(e,e&&e.selectedPane,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===r)&&(a+=r),a+='" href="#" data-pane="'+d(typeof(r=e&&e.id)===u?r.apply(e):r)+'">'+d(typeof(r=e&&e.name)===u?r.apply(e):r)+"</a></li> "},o),data:o}))||0===s)&&(l+=s),l+=' </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> </div> <div class="server-download-loading loading loading-inline"></div> </div> </div> '})},function(e,t,n){var r;!function(i,a,o){for(var s,l={8:"backspace",9:"tab",13:"enter",16:"shift",17:"ctrl",18:"alt",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"ins",46:"del",91:"meta",93:"meta",224:"meta"},c={106:"*",107:"+",109:"-",110:".",111:"/",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},u={"~":"`","!":"1","@":"2","#":"3",$:"4","%":"5","^":"6","&":"7","*":"8","(":"9",")":"0",_:"-","+":"=",":":";",'"':"'","<":",",">":".","?":"/","|":"\\"},d={option:"alt",command:"meta",return:"enter",escape:"esc",plus:"+",mod:/Mac|iPod|iPhone|iPad/.test(navigator.platform)?"meta":"ctrl"},p=1;p<20;++p)l[111+p]="f"+p;for(p=0;p<=9;++p)l[p+96]=p;function h(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function f(e){if("keypress"==e.type){var t=String.fromCharCode(e.which);return e.shiftKey||(t=t.toLowerCase()),t}return l[e.which]?l[e.which]:c[e.which]?c[e.which]:String.fromCharCode(e.which).toLowerCase()}function g(e){return"shift"==e||"ctrl"==e||"alt"==e||"meta"==e}function v(e,t,n){return n||(n=function(){if(!s)for(var e in s={},l)e>95&&e<112||l.hasOwnProperty(e)&&(s[l[e]]=e);return s}()[e]?"keydown":"keypress"),"keypress"==n&&t.length&&(n="keydown"),n}function m(e,t){var n,r,i,a=[];for(n=function(e){return"+"===e?["+"]:(e=e.replace(/\+{2}/g,"+plus")).split("+")}(e),i=0;i<n.length;++i)r=n[i],d[r]&&(r=d[r]),t&&"keypress"!=t&&u[r]&&(r=u[r],a.push("shift")),g(r)&&a.push(r);return{key:r,modifiers:a,action:t=v(r,a,t)}}function y(e){var t=this;if(e=e||a,!(t instanceof y))return new y(e);t.target=e,t._callbacks={},t._directMap={};var n,r={},i=!1,o=!1,s=!1;function l(e){e=e||{};var t,n=!1;for(t in r)e[t]?n=!0:r[t]=0;n||(s=!1)}function c(e,n,i,a,o,s){var l,c,u,d,p=[],h=i.type;if(!t._callbacks[e])return[];for("keyup"==h&&g(e)&&(n=[e]),l=0;l<t._callbacks[e].length;++l)if(c=t._callbacks[e][l],(a||!c.seq||r[c.seq]==c.level)&&h==c.action&&("keypress"==h&&!i.metaKey&&!i.ctrlKey||(u=n,d=c.modifiers,u.sort().join(",")===d.sort().join(",")))){var f=!a&&c.combo==o,v=a&&c.seq==a&&c.level==s;(f||v)&&t._callbacks[e].splice(l,1),p.push(c)}return p}function u(e,n,r,i){t.stopCallback(n,n.target||n.srcElement,r,i)||!1===e(n,r)&&(function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}(n),function(e){e.stopPropagation?e.stopPropagation():e.cancelBubble=!0}(n))}function d(e){"number"!=typeof e.which&&(e.which=e.keyCode);var n=f(e);n&&("keyup"!=e.type||i!==n?t.handleKey(n,function(e){var t=[];return e.shiftKey&&t.push("shift"),e.altKey&&t.push("alt"),e.ctrlKey&&t.push("ctrl"),e.metaKey&&t.push("meta"),t}(e),e):i=!1)}function p(e,t,a,o){function c(t){return function(){s=t,++r[e],clearTimeout(n),n=setTimeout(l,1e3)}}function d(t){u(a,t,e),"keyup"!==o&&(i=f(t)),setTimeout(l,10)}r[e]=0;for(var p=0;p<t.length;++p){var h=p+1===t.length?d:c(o||m(t[p+1]).action);v(t[p],h,o,e,p)}}function v(e,n,r,i,a){t._directMap[e+":"+r]=n;var o,s=(e=e.replace(/\s+/g," ")).split(" ");s.length>1?p(e,s,n,r):(o=m(e,r),t._callbacks[o.key]=t._callbacks[o.key]||[],c(o.key,o.modifiers,{type:o.action},i,e,a),t._callbacks[o.key][i?"unshift":"push"]({callback:n,modifiers:o.modifiers,action:o.action,seq:i,level:a,combo:e}))}t._handleKey=function(e,t,n){var r,i=c(e,t,n),a={},d=0,p=!1;for(r=0;r<i.length;++r)i[r].seq&&(d=Math.max(d,i[r].level));for(r=0;r<i.length;++r)if(i[r].seq){if(i[r].level!=d)continue;p=!0,a[i[r].seq]=1,u(i[r].callback,n,i[r].combo,i[r].seq)}else p||u(i[r].callback,n,i[r].combo);var h="keypress"==n.type&&o;n.type!=s||g(e)||h||l(a),o=p&&"keydown"==n.type},t._bindMultiple=function(e,t,n){for(var r=0;r<e.length;++r)v(e[r],t,n)},h(e,"keypress",d),h(e,"keydown",d),h(e,"keyup",d)}y.prototype.bind=function(e,t,n){return e=e instanceof Array?e:[e],this._bindMultiple.call(this,e,t,n),this},y.prototype.unbind=function(e,t){return this.bind.call(this,e,function(){},t)},y.prototype.trigger=function(e,t){return this._directMap[e+":"+t]&&this._directMap[e+":"+t]({},e),this},y.prototype.reset=function(){return this._callbacks={},this._directMap={},this},y.prototype.stopCallback=function(e,t){return!((" "+t.className+" ").indexOf(" mousetrap ")>-1)&&(!function e(t,n){return null!==t&&t!==a&&(t===n||e(t.parentNode,n))}(t,this.target)&&("INPUT"==t.tagName||"SELECT"==t.tagName||"TEXTAREA"==t.tagName||t.isContentEditable))},y.prototype.handleKey=function(){return this._handleKey.apply(this,arguments)},y.init=function(){var e=y(a);for(var t in e)"_"!==t.charAt(0)&&(y[t]=function(t){return function(){return e[t].apply(e,arguments)}}(t))},y.init(),i.Mousetrap=y,e.exports&&(e.exports=y),void 0===(r=function(){return y}.call(t,n,t,e))||(e.exports=r)}(window,document)},function(e,t,n){e.exports={container:"FullPage-container-17Y0cs"}},function(e,t,n){"use strict";var r=n(576),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function l(e){return r.isMemo(e)?o:s[e.$$typeof]||i}s[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,p=Object.getOwnPropertyDescriptor,h=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!=typeof n){if(f){var i=h(n);i&&i!==f&&e(t,i,r)}var o=u(n);d&&(o=o.concat(d(n)));for(var s=l(t),g=l(n),v=0;v<o.length;++v){var m=o[v];if(!(a[m]||r&&r[m]||g&&g[m]||s&&s[m])){var y=p(n,m);try{c(t,m,y)}catch(e){}}}return t}return t}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u=this.escapeExpression,d="function";function p(e,t){return' <i class="server-alert-icon glyphicon bullhorn"></i> '}function h(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"playing",{hash:{},inverse:c.program(9,g,t),fn:c.program(7,f,t),data:t}))||0===r?r:""}function f(e,t){return' <i class="server-alert-icon glyphicon imac"></i> '}function g(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"websocket",{hash:{},inverse:c.program(13,y,t),fn:c.program(10,v,t),data:t}))||0===r?r:""}function v(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(11,m,t),fn:c.program(4,p,t),data:t}))||0===n)&&(i+=n),i+=" "}function m(e,t){return' <i class="server-alert-icon glyphicon warning-sign"></i> '}function y(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,0,{hash:{},inverse:c.program(16,S,t),fn:c.program(14,b,t),data:t}))||0===r?r:""}function b(e,t){return' <i class="server-alert-icon glyphicon plus"></i> '}function S(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,5,{hash:{},inverse:c.program(19,C,t),fn:c.program(17,I,t),data:t}))||0===r?r:""}function I(e,t){return' <i class="server-alert-icon glyphicon ok-2"></i> '}function C(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,6,{hash:{},inverse:c.program(22,D,t),fn:c.program(20,M,t),data:t}))||0===r?r:""}function M(e,t){return' <i class="server-alert-icon glyphicon magic"></i> '}function D(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r.state,9,{hash:{},inverse:c.program(25,P,t),fn:c.program(23,w,t),data:t}))||0===r?r:""}function w(e,t){return' <i class="server-alert-icon glyphicon bin"></i> '}function P(e,t){return' <i class="server-alert-icon glyphicon tags"></i> '}function T(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.message,{hash:{},inverse:c.program(33,x,t),fn:c.program(31,E,t),data:t}))||0===n)&&(i+=n),i+=" "}function E(e,t){var r,a="";return a+=" "+u(i(n(14)).call(e,null==(r=e&&e.event)||!1===r?r:r.message,{hash:{},data:t}))+" "}function x(e,t){var a,o="";return o+=" "+u(i(n(14)).call(e,null==(a=e&&e.event)||!1===a?a:a.title,{hash:{},data:t})),((a=r.if.call(e,null==(a=e&&e.event)||!1===a?a:a.description,{hash:{},inverse:c.noop,fn:c.program(34,O,t),data:t}))||0===a)&&(o+=a),o+=" "}function O(e,t){var r,a="";return a+=": "+u(i(n(14)).call(e,null==(r=e&&e.event)||!1===r?r:r.description,{hash:{},data:t}))}function j(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"timeline",{hash:{},inverse:c.program(39,N,t),fn:c.program(37,A,t),data:t}))||0===r?r:""}function A(e,t){var r,a="";return a+=" "+u(i(n(14)).call(e,null==(r=e&&e.event)||!1===r?r:r.stateString,{hash:{},data:t}))+' <a href="#!/server/'+u(i(n(735)).call(e,e&&e.serverID,{hash:{},data:t}))+"/details?key="+u(i(n(735)).call(e,e&&e.itemKey,{hash:{},data:t}))+'">'+u(typeof(r=null==(r=e&&e.event)||!1===r?r:r.mediaTitle)===d?r.apply(e):r)+"</a> "}function N(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"playing",{hash:{},inverse:c.program(45,_,t),fn:c.program(40,k,t),data:t}))||0===r?r:""}function k(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.player,{hash:{},inverse:c.program(43,R,t),fn:c.program(41,L,t),data:t}))||0===n)&&(i+=n),i+=" "}function L(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"{1} started playing {2} on {3}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,e&&e.escapedEventPlayer,{hash:{},data:t}))+" "}function R(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"{1} started playing {2}.",e&&e.escapedEventUsername,e&&e.escapedEventTitle,{hash:{},data:t}))+" "}function _(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"websocket",{hash:{},inverse:c.noop,fn:c.program(46,U,t),data:t}))||0===r?r:""}function U(e,t){var n,i="";return i+=" ",((n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.opened,{hash:{},inverse:c.program(49,F,t),fn:c.program(47,z,t),data:t}))||0===n)&&(i+=n),i+=" "}function z(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Opened connection to {1}, listening for events.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function F(e,t){var n;return(n=r.if.call(e,null==(n=e&&e.event)||!1===n?n:n.closed,{hash:{},inverse:c.program(52,H,t),fn:c.program(50,B,t),data:t}))||0===n?n:""}function B(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Connection to {1} closed.",e&&e.escapedServerName,{hash:{},data:t}))+" "}function H(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Unable to listen for events on {1}.",e&&e.escapedServerName,{hash:{},data:t}))+" "}return l+='<div class="striped-list-inner-item alert-list-inner-item"> ',((s=i(n(38)).call(t,null==(s=t&&t.event)||!1===s?s:s._type,"setting",{hash:{},inverse:c.program(3,function(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"status",{hash:{},inverse:c.program(6,h,t),fn:c.program(4,p,t),data:t}))||0===r?r:""},o),fn:c.program(1,function(e,t){return' <i class="server-alert-icon glyphicon cogwheel"></i> '},o),data:o}))||0===s)&&(l+=s),l+=' <div class="server-alert-details"> <span class="server-alert-time">'+u(i(n(730)).call(t,null==(s=t&&t.event)||!1===s?s:s.time,t&&t.timeFormat,{hash:{},data:o}))+"</span> ",((s=i(n(38)).call(t,null==(s=t&&t.event)||!1===s?s:s._type,"setting",{hash:{},inverse:c.program(29,function(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.event)||!1===r?r:r._type,"status",{hash:{},inverse:c.program(36,j,t),fn:c.program(30,T,t),data:t}))||0===r?r:""},o),fn:c.program(27,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"{1} set to {2}.",e&&e.escapedEventLabel,e&&e.escapedEventValue,{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u=this.escapeExpression;function d(e,t){return"disabled"}return l+='<div class="filter-bar"> <span class="page-count">'+u(i(n(14)).call(t,"Page {1} of {2}",t&&t.escapedPage,t&&t.escapedPages,{hash:{},data:o}))+"</span> ",((s=r.unless.call(t,t&&t.shared,{hash:{},inverse:c.noop,fn:c.program(1,function(e,t){var n,i="";return i+=' <div class="filter-bar-right"> <a class="previous-btn btn-gray ',((n=r.unless.call(e,e&&e.enablePrevious,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t}))||0===n)&&(i+=n),i+='" href="#"> <i class="glyphicon chevron-left"></i> </a> <a class="next-btn btn-gray ',((n=r.unless.call(e,e&&e.enableNext,{hash:{},inverse:c.noop,fn:c.program(2,d,t),data:t}))||0===n)&&(i+=n),i+='" href="#"> <i class="glyphicon chevron-right"></i> </a> </div> '},o),data:o}))||0===s)&&(l+=s),l+=" </div> ",((s=r.if.call(t,t&&t.shared,{hash:{},inverse:c.program(6,function(e,t){return' <div class="alert-list-container"></div> '},o),fn:c.program(4,function(e,t){var r="";return r+=' <div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> <h4 class="text-muted text-center">'+u(i(n(14)).call(e,"Alerts are restricted from shared users.",{hash:{},data:t}))+"</h4> </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<svg class="circle-progress-bar" version="1.1" xmlns="http://www.w3.org/2000/svg"> <circle fill="transparent"></circle> </svg> <div class="circle-progress-text"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="conversion-status-container conversion-status-converting"> <div class="progress-bar-region"></div> <div class="conversion-status-converting-label-container"> <span class="conversion-status-converting-label">'+c(i(n(14)).call(t,"Converting",{hash:{},data:o}))+'</span> <span class="conversion-status-converting-speed"></span> <div class="conversion-status-converting-progress"> <span class="conversion-status-converting-percentage"></span> <span class="conversion-status-converting-progress-separator">&middot;</span> <span class="conversion-status-converting-remaining"></span> </div> </div> </div> <div class="conversion-status-container conversion-status-processed"> <i class="conversion-status-icon glyphicon ok-2 text-success"></i> '+c(i(n(14)).call(t,"Complete",{hash:{},data:o}))+' </div> <div class="conversion-status-container conversion-status-disabled"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> '+c(i(n(14)).call(t,"Deleted",{hash:{},data:o}))+' <button class="enable-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-error"> <i class="conversion-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="conversion-status-failed-message">'+c("function"==typeof(s=t&&t.initialErrorMessage)?s.apply(t):s)+'</span> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> </div> <div class="conversion-status-container conversion-status-pending"> <i class="conversion-status-icon glyphicon clock"></i> <span class="conversion-status-pending-label">'+c(i(n(14)).call(t,"Waiting",{hash:{},data:o}))+"</span> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o,s="";return s+='<div class="show-actions striped-list-inner-item playlist-inner-item ',s+=(0,this.escapeExpression)(a=(o=n.type)?o.call(t,{hash:{},data:i}):"function"==typeof(o=t&&t.type)?o.call(t,{hash:{},data:i}):o)+'"> <div class="media-actions media-reorder"> ',((a=n.unless.call(t,t&&t.hideDragHandle,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return' <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> '},i),data:i}))||0===a)&&(s+=a),s+=' </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="promote-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon up-arrow"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="conversion-status-region col-md col-secondary"></div> </div> </div> </div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(n(14)).call(t,"Conversions for sync and media optimization will appear here.",{hash:{},data:o}))+"</p> <p>"+l(i(n(14)).call(t,"Manage your optimized versions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",t&&t.manageVersionsRoute,{hash:{},data:o}))+"</p> </h4> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u=this.escapeExpression,d="function";function p(e,t){return"hidden"}return l+='<div class="conversion-filter-bar filter-bar"> ',((s=r.if.call(t,t&&t.hasPausedSetting,{hash:{},inverse:c.noop,fn:c.program(1,function(e,t){var a,o="";return o+=' <div class="filter-bar-right"> <button class="pause-btn btn btn-sm btn-default ',((a=r.if.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===a)&&(o+=a),o+='">'+u(i(n(14)).call(e,"Pause",{hash:{},data:t}))+'</button> <button class="resume-btn btn btn-sm btn-primary ',((a=r.unless.call(e,e&&e.isPaused,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===a)&&(o+=a),o+='">'+u(i(n(14)).call(e,"Resume",{hash:{},data:t}))+"</button> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> ",((s=r.if.call(t,t&&t.errorMessage,{hash:{},inverse:c.program(6,function(e,t){var r="";return r+=' <p class="conversion-status-message">'+u(i(n(14)).call(e,"Manage your completed conversions in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "},o),fn:c.program(4,function(e,t){var r,a="";return a+=' <p class="conversion-error-message"><i class="conversion-error-icon glyphicon circle-exclamation-mark text-danger"></i> '+u(typeof(r=e&&e.errorMessage)===d?r.apply(e):r)+" "+u(i(n(14)).call(e,"Check the status in {1}Optimized Versions Settings{2}.",'<a href="{3}">',"</a>",e&&e.manageVersionsRoute,{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.shouldShowList,{hash:{},inverse:c.program(10,function(e,t){var r="";return r+=' <div class="row row-padded"> <h4 class="text-muted text-center"> '+u(i(n(14)).call(e,"This requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" </h4> </div> "},o),fn:c.program(8,function(e,t){var n,i="";return i+=' <div class="conversion-queue-empty-region"></div> <div class="conversion-queue-up-next-list-region"></div> <hr class="conversion-queue-divider ',((n=r.unless.call(e,e&&e.shouldShowDivider,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===n)&&(i+=n),i+='"> <div class="conversion-queue-after-up-next-list-region"></div> '},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){e.exports={section:"ServerDashboardPageSection-section-dCuCka"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNzYgODAiPgogIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICA8cmVjdCB3aWR0aD0iMjc1Ljk2NSIgaGVpZ2h0PSI4MCIgZmlsbD0iIzAwMCIgb3BhY2l0eT0iLjI1Ii8+CiAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxNi4xOTggNi4wMDUpIj4KICAgICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjA1Ij4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI2MC4wNDkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSI0OC4wMzkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIzNi4wMjkiLz4KICAgICAgICA8cmVjdCB3aWR0aD0iMjU1LjU2OCIgaGVpZ2h0PSIxIiB5PSIyNC4wMiIvPgogICAgICAgIDxyZWN0IHdpZHRoPSIyNTUuNTY4IiBoZWlnaHQ9IjEiIHk9IjEyLjAxIi8+CiAgICAgICAgPHJlY3Qgd2lkdGg9IjI1NS41NjgiIGhlaWdodD0iMSIvPgogICAgICA8L2c+CiAgICAgIDxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgOC43MDcpIj4KICAgICAgICA8ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDEwLjgwOSkiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeD0iMjI2Ljc3MSIgeT0iMzAuNjI1IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjE4OC45NzYiIHk9IjIwLjcxNyIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjkuNjA4IiB4PSIxNTEuMTgxIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS4yMDEiIHg9IjExMy4zODYiIHk9IjM3LjIzIiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNS4xMDQiIHg9Ijc1LjU5IiB5PSIzMS41MjYiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxMC41MDkiIHg9IjM3Ljc5NSIgeT0iMjQuNjIiIGZpbGw9IiMzNjZERkMiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIyLjQwMiIgeT0iMzUuNzI5IiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyMS4wMTcpIj4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iNi45MDYiIHg9IjIyNi43NzEiIHk9IjIzLjQxOSIgZmlsbD0iI0YxMzM1RSIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjEyLjMxIiB4PSIxODguOTc2IiB5PSIxOC4wMTUiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIzMC4zMjUiIHg9IjE1MS4xODEiIGZpbGw9IiM5QUQxODYiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjUwMSIgeD0iMTEzLjM4NiIgeT0iMjguODIzIiBmaWxsPSIjMzY2REZDIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIHg9Ijc1LjU5IiB5PSIyNy4wMjIiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI0LjgwNCIgeD0iMzcuNzk1IiB5PSIyNS41MjEiIGZpbGw9IiNGMTMzNUUiIHJ4PSIuNiIvPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSIxLjgwMSIgeT0iMjguNTIzIiBmaWxsPSIjRjEzMzVFIiByeD0iLjYiLz4KICAgICAgICA8L2c+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAzLjkwMykiPgogICAgICAgICAgPHJlY3Qgd2lkdGg9IjI4Ljc5NiIgaGVpZ2h0PSI2LjMwNSIgeD0iMTUxLjE4MSIgZmlsbD0iIzM2NkRGQyIgcng9Ii42Ii8+CiAgICAgICAgICA8cmVjdCB3aWR0aD0iMjguNzk2IiBoZWlnaHQ9IjMuMzAzIiB4PSI3NS41OSIgeT0iMzQuNTI4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iOC40MDciIHg9IjM3Ljc5NSIgeT0iMjIuNTE4IiBmaWxsPSIjRTY5RjIzIiByeD0iLjYiLz4KICAgICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMS44MDEiIHk9IjQwLjIzMyIgZmlsbD0iI0U2OUYyMyIgcng9Ii42Ii8+CiAgICAgICAgPC9nPgogICAgICAgIDxyZWN0IHdpZHRoPSIyOC43OTYiIGhlaWdodD0iMy4zMDMiIGZpbGw9IiNFNjlGMjMiIHJ4PSIuNiIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMTUxLjE4KSIvPgogICAgICA8L2c+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjI0MC41NyIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgICA8cmVjdCB3aWR0aD0iMS41IiBoZWlnaHQ9IjEuNTAxIiB4PSIxNjQuOTc5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjIwMi43NzQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iODkuMzg5IiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEyNy4xODQiIHk9IjYwLjM0OSIgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEuNSIgaGVpZ2h0PSIxLjUwMSIgeD0iNTEuNTkzIiB5PSI2MC4zNDkiIGZpbGw9IiNGRkYiIG9wYWNpdHk9Ii4xIi8+CiAgICAgIDxyZWN0IHdpZHRoPSIxLjUiIGhlaWdodD0iMS41MDEiIHg9IjEzLjc5OCIgeT0iNjAuMzQ5IiBmaWxsPSIjRkZGIiBvcGFjaXR5PSIuMSIvPgogICAgPC9nPgogICAgPGcgZmlsbD0iI0ZGRiIgb3BhY2l0eT0iLjEiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDUuNDc0IDUuNTc1KSI+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE5LjcwOCIgeT0iNjYuNzUzIiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjEwLjk0OSIgaGVpZ2h0PSIyLjE5MiIgeD0iNTcuNjM2IiB5PSI2Ni43NTMiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iMTAuOTQ5IiBoZWlnaHQ9IjIuMTkyIiB4PSI5NS4xNTgiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjEzMy4zODMiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjE3MS4wMjYiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMC45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjIwOC44MzQiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSIxMS45NDkiIGhlaWdodD0iMi4xOTIiIHg9IjI0Ni4wNTkiIHk9IjY2Ljc1MyIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iMTEuNzI1IiByeD0iMS4wOTYiLz4KICAgICAgPHJlY3Qgd2lkdGg9IjYuNTY5IiBoZWlnaHQ9IjIuMTkyIiB5PSIyMy45MjUiIHJ4PSIxLjA5NiIvPgogICAgICA8cmVjdCB3aWR0aD0iNi41NjkiIGhlaWdodD0iMi4xOTIiIHk9IjM1LjgyNSIgcng9IjEuMDk2Ii8+CiAgICAgIDxyZWN0IHdpZHRoPSI2LjU2OSIgaGVpZ2h0PSIyLjE5MiIgeT0iNDcuOTI1IiByeD0iMS4wOTYiLz4KICAgIDwvZz4KICA8L2c+Cjwvc3ZnPgo="},function(e,t,n){e.exports=n.p+"desktop/common/img/upsell/upsell-server-dashboard-list.57fd1b383a084b3b564cbba3d4ff024d.svg"},function(e,t,n){"use strict";(function(e){for(var n=["native code","[object MutationObserverConstructor]"],r="undefined"!=typeof window,i=["Edge","Trident","Firefox"],a=0,o=0;o<i.length;o+=1)if(r&&navigator.userAgent.indexOf(i[o])>=0){a=1;break}var s,l=r&&(s=window.MutationObserver,n.some(function(e){return(s||"").toString().indexOf(e)>-1}))?function(e){var t=!1,n=0,r=document.createElement("span");return new MutationObserver(function(){e(),t=!1}).observe(r,{attributes:!0}),function(){t||(t=!0,r.setAttribute("x-index",n),n+=1)}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},a))}};function c(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function u(e,t){Object.keys(t).forEach(function(n){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&c(t[n])&&(r="px"),e.style[n]=t[n]+r})}function d(e){return e&&"[object Function]"==={}.toString.call(e)}function p(e,t){if(1!==e.nodeType)return[];var n=window.getComputedStyle(e,null);return t?n[t]:n}function h(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function f(e){if(!e||-1!==["HTML","BODY","#document"].indexOf(e.nodeName))return window.document.body;var t=p(e),n=t.overflow,r=t.overflowX,i=t.overflowY;return/(auto|scroll)/.test(n+i+r)?e:f(h(e))}function g(e){return null!==e.parentNode?g(e.parentNode):e}function v(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?t:window.document.documentElement}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return window.document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,r=n?e:t,i=n?t:e,a=document.createRange();a.setStart(r,0),a.setEnd(i,0);var o,s,l=a.commonAncestorContainer;if(e!==l&&t!==l||r.contains(i))return"BODY"===(s=(o=l).nodeName)||"HTML"!==s&&o.firstElementChild.offsetParent!==o?v(l):l;var c=g(e);return c.host?m(c.host,t):m(e,g(t).host)}function y(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var r=window.document.documentElement;return(window.document.scrollingElement||r)[t]}return e[t]}function b(e,t){var n="x"===t?"Left":"Top",r="Left"===n?"Right":"Bottom";return+e["border"+n+"Width"].split("px")[0]+ +e["border"+r+"Width"].split("px")[0]}var S=void 0,I=function(){return void 0===S&&(S=-1!==navigator.appVersion.indexOf("MSIE 10")),S};function C(e,t,n,r){return Math.max(t["offset"+e],n["client"+e],n["offset"+e],I()?n["offset"+e]+r["margin"+("Height"===e?"Top":"Left")]+r["margin"+("Height"===e?"Bottom":"Right")]:0)}function M(){var e=window.document.body,t=window.document.documentElement,n=I()&&window.getComputedStyle(t);return{height:C("Height",e,t,n),width:C("Width",e,t,n)}}var D=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},w=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),P=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};function E(e){return T({},e,{right:e.left+e.width,bottom:e.top+e.height})}function x(e){var t={};if(I())try{t=e.getBoundingClientRect();var n=y(e,"top"),r=y(e,"left");t.top+=n,t.left+=r,t.bottom+=n,t.right+=r}catch(e){}else t=e.getBoundingClientRect();var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},a="HTML"===e.nodeName?M():{},o=a.width||e.clientWidth||i.right-i.left,s=a.height||e.clientHeight||i.bottom-i.top,l=e.offsetWidth-o,c=e.offsetHeight-s;if(l||c){var u=p(e);l-=b(u,"x"),c-=b(u,"y"),i.width-=l,i.height-=c}return E(i)}function O(e,t){var n=I(),r="HTML"===t.nodeName,i=x(e),a=x(t),o=f(e),s=E({top:i.top-a.top,left:i.left-a.left,width:i.width,height:i.height});if(r||"BODY"===t.nodeName){var l=p(t),c=n&&r?0:+l.borderTopWidth.split("px")[0],u=n&&r?0:+l.borderLeftWidth.split("px")[0],d=n&&r?0:+l.marginTop.split("px")[0],h=n&&r?0:+l.marginLeft.split("px")[0];s.top-=c-d,s.bottom-=c-d,s.left-=u-h,s.right-=u-h,s.marginTop=d,s.marginLeft=h}return(n?t.contains(o):t===o&&"BODY"!==o.nodeName)&&(s=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=y(t,"top"),i=y(t,"left"),a=n?-1:1;return e.top+=r*a,e.bottom+=r*a,e.left+=i*a,e.right+=i*a,e}(s,t)),s}function j(e,t,n,r){var i={top:0,left:0},a=m(e,t);if("viewport"===r)i=function(e){var t=window.document.documentElement,n=O(e,t),r=Math.max(t.clientWidth,window.innerWidth||0),i=Math.max(t.clientHeight,window.innerHeight||0),a=y(t),o=y(t,"left");return E({top:a-n.top+n.marginTop,left:o-n.left+n.marginLeft,width:r,height:i})}(a);else{var o=void 0;"scrollParent"===r?"BODY"===(o=f(h(e))).nodeName&&(o=window.document.documentElement):o="window"===r?window.document.documentElement:r;var s=O(o,a);if("HTML"!==o.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===p(t,"position")||e(h(t)))}(a))i=s;else{var l=M(),c=l.height,u=l.width;i.top+=s.top-s.marginTop,i.bottom=c+s.top,i.left+=s.left-s.marginLeft,i.right=u+s.left}}return i.left+=n,i.top+=n,i.right-=n,i.bottom-=n,i}function A(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var o=j(n,r,a,i),s={top:{width:o.width,height:t.top-o.top},right:{width:o.right-t.right,height:o.height},bottom:{width:o.width,height:o.bottom-t.bottom},left:{width:t.left-o.left,height:o.height}},l=Object.keys(s).map(function(e){return T({key:e},s[e],{area:(t=s[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,r=e.height;return t>=n.clientWidth&&r>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function N(e,t,n){return O(n,m(t,n))}function k(e){var t=window.getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),r=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+r,height:e.offsetHeight+n}}function L(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function R(e,t,n){n=n.split("-")[0];var r=k(e),i={width:r.width,height:r.height},a=-1!==["right","left"].indexOf(n),o=a?"top":"left",s=a?"left":"top",l=a?"height":"width",c=a?"width":"height";return i[o]=t[o]+t[l]/2-r[l]/2,i[s]=n===s?t[s]-r[c]:t[L(s)],i}function _(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function U(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var r=_(e,function(e){return e[t]===n});return e.indexOf(r)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&d(n)&&(t=n(t,e))}),t}function z(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function F(e){for(var t=[!1,"ms","webkit","moz","o"],n=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<t.length-1;r++){var i=t[r],a=i?""+i+n:e;if(void 0!==window.document.body.style[a])return a}return null}function B(e,t,n,r){n.updateBound=r,window.addEventListener("resize",n.updateBound,{passive:!0});var i=f(e);return function e(t,n,r,i){var a="BODY"===t.nodeName,o=a?window:t;o.addEventListener(n,r,{passive:!0}),a||e(f(o.parentNode),n,r,i),i.push(o)}(i,"scroll",n.updateBound,n.scrollParents),n.scrollElement=i,n.eventsEnabled=!0,n}function H(){var e;this.state.eventsEnabled&&(window.cancelAnimationFrame(this.scheduleUpdate),this.state=(this.reference,e=this.state,window.removeEventListener("resize",e.updateBound),e.scrollParents.forEach(function(t){t.removeEventListener("scroll",e.updateBound)}),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function V(e,t,n){var r=_(e,function(e){return e.name===t}),i=!!r&&e.some(function(e){return e.name===n&&e.enabled&&e.order<r.order});if(!i){var a="`"+t+"`",o="`"+n+"`";console.warn(o+" modifier is required by "+a+" modifier in order to work, be sure to include it before "+a+"!")}return i}var Q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],W=Q.slice(3);function G(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=W.indexOf(e),r=W.slice(n+1).concat(W.slice(0,n));return t?r.reverse():r}var Y={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function K(e,t,n,r){var i=[0,0],a=-1!==["right","left"].indexOf(r),o=e.split(/(\+|\-)/).map(function(e){return e.trim()}),s=o.indexOf(_(o,function(e){return-1!==e.search(/,|\s/)}));o[s]&&-1===o[s].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,u=-1!==s?[o.slice(0,s).concat([o[s].split(l)[0]]),[o[s].split(l)[1]].concat(o.slice(s+1))]:[o];return(u=u.map(function(e,r){var i=(1===r?!a:a)?"height":"width",o=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,o=!0,e):o?(e[e.length-1]+=t,o=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,r){var i=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),a=+i[1],o=i[2];if(!a)return e;if(0===o.indexOf("%")){var s=void 0;switch(o){case"%p":s=n;break;case"%":case"%r":default:s=r}return E(s)[t]/100*a}if("vh"===o||"vw"===o)return("vh"===o?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*a;return a}(e,i,t,n)})})).forEach(function(e,t){e.forEach(function(n,r){c(n)&&(i[t]+=n*("-"===e[r-1]?-1:1))})}),i}var q={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],r=t.split("-")[1];if(r){var i=e.offsets.reference,a=E(e.offsets.popper),o=-1!==["bottom","top"].indexOf(n),s=o?"left":"top",l=o?"width":"height",c={start:P({},s,i[s]),end:P({},s,i[s]+i[l]-a[l])};e.offsets.popper=T({},a,c[r])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,r=e.placement,i=e.offsets,a=i.popper,o=i.reference,s=r.split("-")[0],l=void 0;return l=c(+n)?[+n,0]:K(n,a,o,s),"left"===s?(a.top+=l[0],a.left-=l[1]):"right"===s?(a.top+=l[0],a.left+=l[1]):"top"===s?(a.left+=l[0],a.top-=l[1]):"bottom"===s&&(a.left+=l[0],a.top+=l[1]),e.popper=a,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||v(e.instance.popper),r=j(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=r;var i=t.priority,a=E(e.offsets.popper),o={primary:function(e){var n=a[e];return a[e]<r[e]&&!t.escapeWithReference&&(n=Math.max(a[e],r[e])),P({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=a[n];return a[e]>r[e]&&!t.escapeWithReference&&(i=Math.min(a[n],r[e]-("right"===e?a.width:a.height))),P({},n,i)}};return i.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";a=T({},a,o[t](e))}),e.offsets.popper=a,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=E(e.offsets.popper),n=e.offsets.reference,r=e.placement.split("-")[0],i=Math.floor,a=-1!==["top","bottom"].indexOf(r),o=a?"right":"bottom",s=a?"left":"top",l=a?"width":"height";return t[o]<i(n[s])&&(e.offsets.popper[s]=i(n[s])-t[l]),t[s]>i(n[o])&&(e.offsets.popper[s]=i(n[o])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){if(!V(e.instance.modifiers,"arrow","keepTogether"))return e;var n=t.element;if("string"==typeof n){if(!(n=e.instance.popper.querySelector(n)))return e}else if(!e.instance.popper.contains(n))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],i=E(e.offsets.popper),a=e.offsets.reference,o=-1!==["left","right"].indexOf(r),s=o?"height":"width",l=o?"top":"left",c=o?"left":"top",u=o?"bottom":"right",d=k(n)[s];a[u]-d<i[l]&&(e.offsets.popper[l]-=i[l]-(a[u]-d)),a[l]+d>i[u]&&(e.offsets.popper[l]+=a[l]+d-i[u]);var p=a[l]+a[s]/2-d/2-E(e.offsets.popper)[l];return p=Math.max(Math.min(i[s]-d,p),0),e.arrowElement=n,e.offsets.arrow={},e.offsets.arrow[l]=Math.floor(p),e.offsets.arrow[c]="",e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(z(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=j(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),r=e.placement.split("-")[0],i=L(r),a=e.placement.split("-")[1]||"",o=[];switch(t.behavior){case Y.FLIP:o=[r,i];break;case Y.CLOCKWISE:o=G(r);break;case Y.COUNTERCLOCKWISE:o=G(r,!0);break;default:o=t.behavior}return o.forEach(function(s,l){if(r!==s||o.length===l+1)return e;r=e.placement.split("-")[0],i=L(r);var c=E(e.offsets.popper),u=e.offsets.reference,d=Math.floor,p="left"===r&&d(c.right)>d(u.left)||"right"===r&&d(c.left)<d(u.right)||"top"===r&&d(c.bottom)>d(u.top)||"bottom"===r&&d(c.top)<d(u.bottom),h=d(c.left)<d(n.left),f=d(c.right)>d(n.right),g=d(c.top)<d(n.top),v=d(c.bottom)>d(n.bottom),m="left"===r&&h||"right"===r&&f||"top"===r&&g||"bottom"===r&&v,y=-1!==["top","bottom"].indexOf(r),b=!!t.flipVariations&&(y&&"start"===a&&h||y&&"end"===a&&f||!y&&"start"===a&&g||!y&&"end"===a&&v);(p||m||b)&&(e.flipped=!0,(p||m)&&(r=o[l+1]),b&&(a=function(e){return"end"===e?"start":"start"===e?"end":e}(a)),e.placement=r+(a?"-"+a:""),e.offsets.popper=T({},e.offsets.popper,R(e.instance.popper,e.offsets.reference,e.placement)),e=U(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],r=E(e.offsets.popper),i=E(e.offsets.reference),a=-1!==["left","right"].indexOf(n),o=-1===["top","left"].indexOf(n);return r[a?"left":"top"]=i[t]-(o?r[a?"width":"height"]:0),e.placement=L(t),e.offsets.popper=E(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!V(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=_(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},applyStyle:{order:900,enabled:!0,fn:function(e,t){var n={position:e.offsets.popper.position},r={"x-placement":e.placement},i=Math.round(e.offsets.popper.left),a=Math.round(e.offsets.popper.top),o=F("transform");return t.gpuAcceleration&&o?(n[o]="translate3d("+i+"px, "+a+"px, 0)",n.top=0,n.left=0,n.willChange="transform"):(n.left=i,n.top=a,n.willChange="top, left"),u(e.instance.popper,T({},n,e.styles)),function(e,t){Object.keys(t).forEach(function(n){!1!==t[n]?e.setAttribute(n,t[n]):e.removeAttribute(n)})}(e.instance.popper,T({},r,e.attributes)),e.offsets.arrow&&u(e.arrowElement,e.offsets.arrow),e},onLoad:function(e,t,n,r,i){var a=N(0,t,e),o=A(n.placement,a,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",o),n},gpuAcceleration:!0}}},Z=function(){function e(t,n){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};D(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(r.update)},this.update=l(this.update.bind(this)),this.options=T({},e.Defaults,i),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t.jquery?t[0]:t,this.popper=n.jquery?n[0]:n,u(this.popper,{position:"absolute"}),this.options.modifiers={},Object.keys(T({},e.Defaults.modifiers,i.modifiers)).forEach(function(t){r.options.modifiers[t]=T({},e.Defaults.modifiers[t]||{},i.modifiers?i.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return T({name:e},r.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&d(e.onLoad)&&e.onLoad(r.reference,r.popper,r.options,e,r.state)}),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return w(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference),e.placement=A(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=R(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=U(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[F("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return H.call(this)}}]),e}();Z.Utils=("undefined"!=typeof window?window:e).PopperUtils,Z.placements=Q,Z.Defaults=q,t.a=Z}).call(this,n(177))},function(e,t,n){e.exports={menuButton:"ServerDashboardMenuButton-menuButton-1uJSv_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},function(e,t,n){e.exports={menuButton:"ServerDashboardPageFilterMenuButton-menuButton-zAhJ9h ServerDashboardMenuButton-menuButton-1uJSv_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},function(e,t,n){e.exports={separator:"DashSeparator-separator-4CyEFW"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <span class="message">'+c(i(n(14)).call(t,"A new TV tuner ({tunerMake} {tunerModel}) has been found! Plex DVR is the easiest way to record your favorite shows!",{hash:{tunerModel:t&&t.model,tunerMake:t&&t.make},data:o}))+'</span> <a class="setup-link link" href="'+c("function"==typeof(s=t&&t.dvrSettingsRoute)?s.apply(t):s)+'">'+c(i(n(14)).call(t,"Learn more",{hash:{},data:o}))+"</a> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r="";return r+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return((s=r.if.call(t,t&&t.settings,{hash:{},inverse:u.noop,fn:u.program(1,function(e,t){var a,o="";return o+=' <div class="setup-agent-section"> <div class="setup-agent-title">'+c(i(n(14)).call(e,"{1} Settings",e&&e.escapedAgentName,{hash:{},data:t}))+'</div> <p class="setup-agent-disclaimer">'+c(i(n(14)).call(e,"Note: These settings will take effect for all libraries using the {1} agent.",e&&e.escapedAgentName,{hash:{},data:t}))+'</p> <div class="setup-agent-settings"> ',((a=r.each.call(e,e&&e.settings,{hash:{},inverse:u.noop,fn:u.program(2,d,t),data:t}))||0===a)&&(o+=a),o+=" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r,a="";return a+=" ",((r=i(n(38)).call(e,e&&e.id,"enableBIFGeneration",{hash:{},inverse:u.noop,fn:u.program(3,p,t),data:t}))||0===r)&&(a+=r),a+=" "}function p(e,t){var r="";return r+=' <div class="form-group"> <button type="button" class="delete-thumbnails-btn btn btn-sm btn-danger">'+c(i(n(14)).call(e,"Delete Preview Thumbnails",{hash:{},data:t}))+"</button> </div> "}return((s=r.each.call(t,t&&t.settings,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,function(e,t,a){var o,s="";return s+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" ",((o=r.if.call(e,a&&a.edit,{hash:{},inverse:u.noop,fn:u.program(2,d,t),data:t}))||0===o)&&(s+=o),s+=" "},o,t),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-section-advanced-form settings-container"> <div class="language-group"> <input type="hidden" name="language" value="'+c("function"==typeof(s=null==(s=t&&t.section)||!1===s?s:s.language)?s.apply(t):s)+'"> </div> <div class="row"> <div class="col-md-12 section-settings-region"></div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group scanner-group hidden"> <label for="edit-section-scanner" class="control-label"> '+c(i(n(14)).call(t,"Scanner",{hash:{},data:o}))+' <span class="control-error">'+c(i(n(14)).call(t,"A scanner is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-scanner" name="scanner"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <div class="form-group agent-group hidden"> <label for="edit-section-agent" class="control-label"> '+c(i(n(14)).call(t,"Agent",{hash:{},data:o}))+' <span class="control-error">'+c(i(n(14)).call(t,"An agent is required.",{hash:{},data:o}))+'</span> </label> <select id="edit-section-agent" name="agent"></select> </div> </div> </div> <div class="row"> <div class="col-md-12 section-agent-settings-region"></div> </div> </form> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<form class="edit-section-type-form settings-container"> <p>'+l(i(n(14)).call(t,"There was an error adding this library.",{hash:{},data:o}))+"</p> <p>"+l(i(n(14)).call(t,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<div class="col-md-12"> <div class="form-group path-group"> <input type="text" name="path" class="form-control" value="',o+=(0,this.escapeExpression)((a=n.path)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.path)?a.call(t,{hash:{},data:i}):a)+'"> <div class="path-actions"> <a href="#" class="remove-path-btn btn-link btn-gray"><i class="glyphicon remove-2"></i></a> </div> </div> </div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this.escapeExpression;return o+='<a class="striped-list-item" href="#" data-key="'+s("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.key)?a.apply(t):a)+'"> <i class="glyphicon file"></i> '+s("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)?a.apply(t):a)+" </a> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<ul class="js-file-list-items list browse-directory-list"></ul> <div class="js-file-list-truncated-message css-file-list-truncated-message"></div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this,l=this.escapeExpression;function c(e,t){return"home"}function u(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.network,{hash:{},inverse:s.program(9,p,t),fn:s.program(7,d,t),data:t}))||0===r?r:""}function d(e,t){return"globe"}function p(e,t){var r;return(r=n.if.call(e,e&&e.isRoot,{hash:{},inverse:s.program(12,f,t),fn:s.program(10,h,t),data:t}))||0===r?r:""}function h(e,t){return"hdd"}function f(e,t){return"folder-open"}return o+='<a class="striped-list-item" href="#" data-key="'+l("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.key)?a.apply(t):a)+'" title="'+l("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)?a.apply(t):a)+'" aria-label="'+l("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)?a.apply(t):a)+'"> <i class="folder-icon glyphicon ',((a=n.if.call(t,null==(a=t&&t.filePath)||!1===a?a:a.isBackShortcut,{hash:{},inverse:s.program(3,function(e,t){var r;return(r=n.if.call(e,null==(r=e&&e.filePath)||!1===r?r:r.home,{hash:{},inverse:s.program(6,u,t),fn:s.program(4,c,t),data:t}))||0===r?r:""},i),fn:s.program(1,function(e,t){return"left-arrow"},i),data:i}))||0===a)&&(o+=a),o+='"></i>&nbsp;'+l("function"==typeof(a=null==(a=t&&t.filePath)||!1===a?a:a.title)?a.apply(t):a)+' <div class="loading loading-sm loading-inline hidden"></div> </a> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="modal-dialog"> <div class="modal-content"> <form name="add-folder-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon folder-plus"></i> '+l(i(n(14)).call(t,"Add Folder",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="row"> <div class="col-md-12"> <input type="text" name="path" class="form-control" value=""> </div> </div> <div class="row directory-container-row"> <div class="home-directory-container col-md-5"></div> <div class="col-md-7"> <div class="path-container"></div> <div class="file-container"></div> </div> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+l(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="add-btn btn btn-primary">'+l(i(n(14)).call(t,"Add",{hash:{},data:o}))+"</button> </div> </form> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<form class="edit-section-folders-form settings-container"> <label> '+l(i(n(14)).call(t,"Add folders to your library",{hash:{},data:o}))+' </label> <div class="form-group Location-group"> <div class="paths-region"></div> <p class="add-folder-container"> <button type="button" class="add-folder-btn btn btn-icon-label btn-default"> <i class="glyphicon folder-plus"></i> '+l(i(n(14)).call(t,"Browse for media folder",{hash:{},data:o}))+' </button> </p> <p class="control-error">'+l(i(n(14)).call(t,"At least one folder is required.",{hash:{},data:o}))+'</p> </div> <p class="help-block">'+l(i(n(14)).call(t,"Help us out by following {1}our guide{2} to naming and organizing your media.",'<a href="https://support.plex.tv/articles/naming-and-organizing-your-movie-media-files/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="choose-library use-premium-library" data-agent="com.plexapp.agents.plexmusic" data-scanner="Plex Premium Music Scanner"> <div class="row"> <div class="col-xs-12"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> <span class="header-text"> '+c(i(n(14)).call(t,"Create a premium Plex music library!",{hash:{},data:o}))+' </span> </div> </div> <div class="row use-premium-library-body"> <div class="col-xs-8"> <ul> <li>'+c(i(n(14)).call(t,"Access to the best artwork, artist bios, album reviews, and more",{hash:{},data:o}))+"</li> <li>"+c(i(n(14)).call(t,"Smart mixes based on track or mood",{hash:{},data:o}))+"</li> <li>"+c(i(n(14)).call(t,"Improved music recognition and matching",{hash:{},data:o}))+"</li> </ul> ",((s=r.unless.call(t,t&&t.hasPremiumMusic,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=' <p class="help-block"> '+c(i(n(14)).call(e,"Note: An active Plex Pass is required for this service. Don't have a Plex Pass? {1}Subscribe here{2}",'<a href="{3}" target="_blank">',"</a>",e&&e.plexPassUrl,{hash:{},data:t}))+" </p> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="col-xs-4 vendor-logos"> ',((s=r.if.call(t,t&&t.hasLyrics,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){return'<div class="vendor-logo vendor-logo-lyricfind"></div>'},o),data:o}))||0===s)&&(l+=s),l+=' <div class="vendor-logo vendor-logo-gracenote"></div> <div class="vendor-logo vendor-logo-plex-pass"></div> </div> </div> </div> </div> </div> <div class="choose-library use-basic-library"> <div class="row use-library-header"> <div class="col-xs-12"> <input type="radio"> '+c(i(n(14)).call(t,"Create a basic music library",{hash:{},data:o}))+" </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this,d="function";function p(e,t){return"selectable"}function h(e,t){return"selected"}return l+='<form class="edit-section-type-form settings-container ',((s=r.if.call(t,null==(s=t&&t.section)||!1===s?s:s.type,{hash:{},inverse:u.noop,fn:u.program(1,function(e,t){return"section-type-chosen"},o),data:o}))||0===s)&&(l+=s),l+='"> ',((s=r.if.call(t,t&&t.add,{hash:{},inverse:u.program(5,function(e,t){var r="";return r+=" <label>"+c(i(n(14)).call(e,"Library type",{hash:{},data:t}))+"</label> "},o),fn:u.program(3,function(e,t){var r="";return r+=' <p class="prompt">'+c(i(n(14)).call(e,"Select your library type",{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="wizard-blocks-group form-group type-group"> ',((s=r.each.call(t,t&&t.sectionTypes,{hash:{},inverse:u.noop,fn:u.programWithDepth(7,function(e,t,a){var o,s="";return s+=' <a class="wizard-block section-type ',((o=r.if.call(e,a&&a.canChangeType,{hash:{},inverse:u.noop,fn:u.program(8,p,t),data:t}))||0===o)&&(s+=o),s+=" ",((o=i(n(38)).call(e,a&&a.currentSectionKey,e&&e.key,{hash:{},inverse:u.noop,fn:u.program(10,h,t),data:t}))||0===o)&&(s+=o),s+='" data-key="'+c(typeof(o=e&&e.key)===d?o.apply(e):o)+'" href="#"> ',((o=typeof(o=e&&e.typeIcon)===d?o.apply(e):o)||0===o)&&(s+=o),s+=" "+c(typeof(o=e&&e.title)===d?o.apply(e):o)+" </a> "},o,t),data:o}))||0===s)&&(l+=s),l+=' <label class="control-label"> <span class="control-error">'+c(i(n(14)).call(t,"You must select a media type.",{hash:{},data:o}))+'</span> </label> </div> <div class="visible-once-section-type-chosen"> ',((s=r.if.call(t,t&&t.hasType,{hash:{},inverse:u.noop,fn:u.program(12,function(e,t){var r="";return r+=' <div class="row"> <div class="col-xs-12"> <p class="prompt">'+c(i(n(14)).call(e,"Name your library and choose language.",{hash:{},data:t}))+"</p> </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-md-7"> <div class="form-group title-group"> <div> <label for="edit-section-title" class="control-label"> '+c(i(n(14)).call(t,"Name",{hash:{},data:o}))+' <span class="control-error">'+c(i(n(14)).call(t,"A library name is required.",{hash:{},data:o}))+'</span> </label> </div> <input type="text" id="edit-section-title" name="title" class="form-control" value="'+c(typeof(s=null==(s=t&&t.section)||!1===s?s:s.title)===d?s.apply(t):s)+'"> </div> </div> <div class="col-md-5"> <div class="form-group language-group"> <div> <label for="edit-section-language" class="control-label"> '+c(i(n(14)).call(t,"Language",{hash:{},data:o}))+' <span class="control-error">'+c(i(n(14)).call(t,"A language is required.",{hash:{},data:o}))+'</span> </label> </div> <select id="edit-section-language" name="language"></select> </div> </div> </div> <div class="row"> <div class="col-md-12"> <span class="text-muted"> ',((s=r.if.call(t,t&&t.updatedAt,{hash:{},inverse:u.noop,fn:u.program(14,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Last updated {1}",e&&e.escapedUpdatedAt,{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" </span> </div> </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t){return" selected"}function h(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Select type",{hash:{},data:t}))+" "}function f(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"General",{hash:{},data:t}))+" "}function g(e,t){return"disabled"}function v(e,t){return"hidden"}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> ',((s=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(3,function(e,t){var n,r="";return r+=' <i class="modal-icon glyphicon pencil"></i> '+c(typeof(n=e&&e.paneTitle)===u?n.apply(e):n)+" "},o),fn:d.program(1,function(e,t){var r="";return r+=' <i class="modal-icon glyphicon plus"></i> '+c(i(n(14)).call(e,"Add {1} Library",'<span class="section-type-title"></span>',{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </h4> </div> <div class="modal-body modal-body-scroll modal-body-with-panes"> ',((s=r.if.call(t,t&&t.isLoading,{hash:{},inverse:d.program(7,function(e,t){var a,o="";return o+=' <div class="modal-nav-pane dark-scrollbar"> <ul class="list modal-nav-list"> <li> <a class="btn-gray change-pane-btn type-btn',((a=i(n(38)).call(e,e&&e.selectedPane,"type",{hash:{},inverse:d.noop,fn:d.program(8,p,t),data:t}))||0===a)&&(o+=a),o+='" data-pane="type" href="#"> <i class="modal-nav-icon glyphicon align-center"></i> ',((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.program(12,f,t),fn:d.program(10,h,t),data:t}))||0===a)&&(o+=a),o+=' </a> </li> <li> <a class="btn-gray change-pane-btn folders-btn',((a=i(n(38)).call(e,e&&e.selectedPane,"folders",{hash:{},inverse:d.noop,fn:d.program(8,p,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.unless.call(e,e&&e.showFolders,{hash:{},inverse:d.noop,fn:d.program(16,v,t),data:t}))||0===a)&&(o+=a),o+='" data-pane="folders" href="#"> <i class="modal-nav-icon glyphicon folder-open"></i> '+c(i(n(14)).call(e,"Add folders",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn options-btn',((a=i(n(38)).call(e,e&&e.selectedPane,"options",{hash:{},inverse:d.noop,fn:d.program(8,p,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===a)&&(o+=a),o+=' hidden" data-pane="options" href="#"> <i class="modal-nav-icon glyphicon magic"></i> '+c(i(n(14)).call(e,"Options",{hash:{},data:t}))+' </a> </li> <li> <a class="btn-gray change-pane-btn advanced-btn',((a=i(n(38)).call(e,e&&e.selectedPane,"advanced",{hash:{},inverse:d.noop,fn:d.program(8,p,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,e&&e.add,{hash:{},inverse:d.noop,fn:d.program(14,g,t),data:t}))||0===a)&&(o+=a),o+='" data-pane="advanced" href="#"> <i class="modal-nav-icon glyphicon cogwheel"></i> '+c(i(n(14)).call(e,"Advanced",{hash:{},data:t}))+' </a> </li> </ul> </div> <div class="modal-body-pane pane-region dark-scrollbar"> </div> '},o),fn:d.program(5,function(e,t){return' <div class="modal-body-pane pane-region dark-scrollbar"> <div class="loading loading-inline"></div> </div> '},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="modal-footer"> <span class="form-message"></span> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="button" class="save-btn btn btn-primary btn-loading ',((s=r.if.call(t,t&&t.add,{hash:{},inverse:d.noop,fn:d.program(14,g,o),data:o}))||0===s)&&(l+=s),l+='"> <div class="loading loading-sm"></div> <span class="btn-label"> <span class="save-btn-label-next">'+c(i(n(14)).call(t,"Next",{hash:{},data:o}))+'</span> <span class="save-btn-label-save"> ',((s=r.if.call(t,t&&t.add,{hash:{},inverse:d.program(20,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Save Changes",{hash:{},data:t}))+" "},o),fn:d.program(18,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Add Library",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" </span> </span> </button> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon file-import"></i> '+u(i(n(14)).call(t,"Import from iTunes",{hash:{},data:o}))+' </h4> </div> <div class="modal-body"> <p class="help-block">'+u(i(n(14)).call(t,"Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library. Depending on how many tracks you have, this process can take many minutes to complete.",{hash:{},data:o}))+'</p> <div class="form-group ',((s=r.unless.call(t,t&&t.showSections,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"hidden"},o),data:o}))||0===s)&&(l+=s),l+='"> <label class="control-label"> '+u(i(n(14)).call(t,"Add to library: ",{hash:{},data:o}))+' <select id="section-list"> ',((s=r.each.call(t,t&&t.sections,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var n,r="";return r+=' <option value="'+u(typeof(n=e&&e.key)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.title)===c?n.apply(e):n)+"</option> "},o),data:o}))||0===s)&&(l+=s),l+=' </select> </label> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="import-all"> '+u(i(n(14)).call(t,"Overwrite existing playlists",{hash:{},data:o}))+' </label> </div> </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-default" data-dismiss="modal">'+u(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="button" class="import-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Import",{hash:{},data:o}))+"</span> </button> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-exclamation-mark"></i> '+c(i(n(14)).call(t,"Limited Connection",{hash:{},data:o}))+" - "+c("function"==typeof(s=t&&t.serverName)?s.apply(t):s)+' </h4> </div> <div class="modal-body"> <p> '+c(i(n(14)).call(t,"You are not connected directly to {1} so streaming quality may be limited. You may be able to connect directly to this server by changing your home network settings. {2}Learn more{3}",t&&t.escapedServerName,'<a href="https://help.plex.tv/relay" target="_blank" class="learn-more">',"</a>",{hash:{},data:o}))+' </p> </div> <div class="modal-footer"> <button type="button" class="confirm-btn btn btn-lg btn-primary">'+c(i(n(14)).call(t,"OK",{hash:{},data:o}))+"</button> </div> </div> </div> "})},function(e,t,n){e.exports={modalHeader:"ModalHeader-modalHeader-1Kf9RW"}},function(e,t,n){e.exports={modalHeader:"NowPlayingErrorModal-modalHeader-2_4v8r ModalHeader-modalHeader-1Kf9RW"}},function(e,t,n){e.exports={crossFade:"CrossFadeImage-crossFade-10Sndv"}},function(e,t,n){e.exports={avatar:"AvatarImg-avatar-3Op56u"}},function(e,t,n){e.exports={container:"MetadataIcon-container-1OiQBF"}},function(e,t,n){e.exports={placeholderIcon:"MetadataPosterCardIcon-placeholderIcon-2P76zo"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTUwLjEzOCA4NS42MXYtNi4xNDZjMC0yLjE4NS0xLjMzOC00LjEzMy0zLjM2Ni00Ljk5NC03LjU5NS0zLjIyNC0xMi45MS0xMC43NjUtMTIuOTEtMTkuNDcgMC0xMS42MDMgOS40NDMtMjEuMTM5IDIxLjEzOC0yMS4xMzkgMTEuNjk1IDAgMjEuMTM5IDkuNTM2IDIxLjEzOSAyMS4xMzkgMCAxMy42OS0xMC41OSAyNi42MzQtMjYgMzAuNjF6TTU1IDI0Yy0xNy4xNTEgMC0zMSAxMy45ODUtMzEgMzFzMTMuODQ5IDMxIDMxIDMxIDMxLTEzLjk4NSAzMS0zMS0xMy44NDktMzEtMzEtMzF6IiBmaWxsPSIjMzFDNEYzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQzLjg5MSAyMy40NzlsMy4wMDUgNS4xODNjLTUuNDY5IDIuNjYxLTkuMTc1IDcuODczLTkuMTc1IDEzLjg1MmgzNC45OTRjMC01Ljk3OS0zLjcwNy0xMS4xOS05LjE3Ny0xMy44NTJsMy4wMDUtNS4xODNzLjE0My0uMjc1LS4xMjctLjQzYy0uMjctLjE1NS0uNDUxLjEwOS0uNDUxLjEwOWwtMy4wNSA1LjIyOWExOS4wMyAxOS4wMyAwIDAgMC03LjY5OC0xLjYwNmMtMi43NjMgMC01LjM3Ni41OC03LjY5NyAxLjYwNmwtMy4wNS01LjIyOXMtLjE3MS0uMjY0LS40NDItLjExYy0uMjcyLjE1NC0uMTM3LjQzLS4xMzcuNDNtMy4wMDUgMTAuMDRhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjVjMCAuOTEtLjc0NyAxLjYyOC0xLjY2NCAxLjYyOC0uOTE2IDAtMS42NjQtLjcxOS0xLjY2NC0xLjYyNyAwLS45MS43NDgtMS42NTIgMS42NjQtMS42NTJtMTYuNjQyIDBhMS42NiAxLjY2IDAgMCAxIDEuNjY0IDEuNjUyYzAgLjkxLS43NDcgMS42MjctMS42NjQgMS42MjctLjkxNiAwLTEuNjY0LS43MTktMS42NjQtMS42MjcgMC0uOTEuNzQ4LTEuNjUyIDEuNjY0LTEuNjUybS0yNS45NiAxMS4wMTd2MjYuMzRjMCAxLjMwNyAxLjU5MyAzLjAxOCAyLjkxIDMuMDE4aDQuMTYzdjguOThjMCAyLjI4NiAxLjY3OSA0LjEyOCAzLjc2OCA0LjEyOCAyLjA4OSAwIDMuNzY4LTEuODQyIDMuNzY4LTQuMTI4di04Ljk4aDYuMDU2djguOThjMCAyLjI4NiAxLjY4IDQuMTI4IDMuNzY4IDQuMTI4czMuNzktMS44NDIgMy43OS00LjEyOHYtOC45OGg0LjE0YzEuMzE4IDAgMi45MS0xLjcxMSAyLjkxLTMuMDE4di0yNi4zNEgzNy41NzdtLTUuODA1LS41NTJjMi4wODMgMCAzLjc3IDEuODQ5IDMuNzcgNC4xMjh2MTUuNjI4YzAgMi4yNzktMS42ODggNC4xMjgtMy43NyA0LjEyOC0yLjA4MyAwLTMuNzcyLTEuODQ4LTMuNzcyLTQuMTI4VjQ4LjExYzAtMi4yNzkgMS42ODktNC4xMjggMy43NzItNC4xMjhtNDYuODg2IDBjMi4wODMgMCAzLjc3MiAxLjg0OSAzLjc3MiA0LjEyOHYxNS42MjhjMCAyLjI3OS0xLjY4OCA0LjEyOC0zLjc3MiA0LjEyOC0yLjA4MiAwLTMuNzctMS44NDgtMy43Ny00LjEyOFY0OC4xMWMwLTIuMjc5IDEuNjg3LTQuMTI4IDMuNzctNC4xMjgiIGZpbGw9IiNBNEM2MzkiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU2LjU1IDM5LjE0NWg1LjExNHY1Ljc3Nmg0LjkyNHY0LjA0OGgtNC45MjR2MTQuMzY5YzAgMi4yMjUuOTk0IDMuMjY2IDMuMTQ4IDMuMjY2LjU0NSAwIDEuNDItLjA3IDEuNzUyLS4xMTh2NC4wNDhjLS41NjguMTQyLTEuNzc1LjI2LTIuODg4LjI2LTUuMTM3IDAtNy4xMjUtMS45NjQtNy4xMjUtNi45MzV2LTE0Ljg5SDUzVjQ0LjkyaDMuNTV2LTUuNzc2em0zNi4yMDMgNS43NzZsLTkuMjU1IDI1LjcwOGgtNS40NjlMNjguNzUgNDQuOTJoNS40Mmw2LjU1OCAyMC42NDJoLjExOGw2LjU4MS0yMC42NDJoNS4zMjZ6bS01MC40NzEgOS41NGMtLjA0LTQuMzk4IDMuNTM4LTYuNTExIDMuNjk5LTYuNjEzLTIuMDEyLTIuOTg3LTUuMTQ0LTMuMzk3LTYuMjYxLTMuNDQ2LTIuNjY3LS4yNzQtNS4yMDMgMS41OTQtNi41NTQgMS41OTRzLTMuNDQtMS41NTMtNS42NS0xLjUxYy0yLjkwNy4wNDItNS41ODUgMS43MTQtNy4wODQgNC4zNTQtMy4wMTcgNS4zMTgtLjc3MSAxMy4xOTUgMi4xNzEgMTcuNTEgMS40MzkgMi4xMDggMy4xNTMgNC40ODIgNS40MDQgNC4zOTcgMi4xNy0uMDg2IDIuOTg4LTEuNDIzIDUuNjA4LTEuNDIzIDIuNjIgMCAzLjM1OCAxLjQyMyA1LjY1MiAxLjM3OCAyLjMzNC0uMDQyIDMuODExLTIuMTUgNS4yMzktNC4yNjcgMS42NS0yLjQ1IDIuMzMtNC44MiAyLjM3MS00Ljk0Mi0uMDUtLjAyNC00LjU1LTEuNzczLTQuNTk1LTcuMDMxbS00LjMwOC0xMi45MTNjMS4xOTYtMS40NyAyLjAwMS0zLjUxMyAxLjc4LTUuNTQ5LTEuNzIuMDcyLTMuODA2IDEuMTY1LTUuMDQzIDIuNjMzLTEuMTA3IDEuMzAxLTIuMDc4IDMuMzc5LTEuODE1IDUuMzc1IDEuOTIuMTUxIDMuODgyLS45OSA1LjA3OC0yLjQ2IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iMTQuOTM1JSIgY3k9IjEzLjY0NCUiIGZ4PSIxNC45MzUlIiBmeT0iMTMuNjQ0JSIgcj0iMTAwLjQyNiUiIGlkPSJhIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuMDk4IiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIj4KICAgICAgICAgICAgPHBhdGggZD0iTTQuOTIxIDE0LjI0M0MxMC40NCA1LjY3NyAyMC4wNjIgMCAzMSAwYzEyLjAzNyAwIDIyLjQ4IDYuODc1IDI3LjYxNSAxNi45MUgzMUwxOC43OTcgMzguMDQ0SDQuOTIxVjE0LjI0M3oiIGZpbGw9IiNEQjQ0MzciIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNNC45MiAxNC4yNDVsMTMuODc3IDIzLjhoMjQuNDF2MTAuMjU5TDI5LjU0MyA2MS45NjZDMTMuMTA5IDYxLjIwNSAwIDQ3LjYyMSAwIDMxYzAtNi4xNyAxLjgwNy0xMS45MjMgNC45Mi0xNi43NTV6IiBmaWxsPSIjMEY5RDU4IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgICAgICAgICAgPHBhdGggZD0iTTU4LjYxNSAxNi45MUEzMC44NDMgMzAuODQzIDAgMCAxIDYyIDMxYzAgMTcuMTEtMTMuODkgMzEtMzEgMzEtLjQ5MyAwLS45ODMtLjAxMi0xLjQ3LS4wMzVsMTMuNjc2LTIzLjkyTDMxIDE2LjkxaDI3LjYxNXoiIGZpbGw9IiNGRkNENDAiIGZpbGwtcnVsZT0ibm9uemVybyIvPgogICAgICAgICAgICA8cGF0aCBkPSJNMzEgMTYuOTFoMjcuNjE4TDMxIDI0LjI5di03LjM4ek00LjkyMSAxNC4yNUwyNS4wOSAzNC40MTNsLTYuMjkyIDMuNjMxTDQuOTIxIDE0LjI1em0yNC42MSA0Ny43MTFsNy4zODQtMjcuNTQ3IDYuMjkxIDMuNjMxLTEzLjY3NSAyMy45MTZ6IiBmaWxsLW9wYWNpdHk9Ii4xIiBmaWxsPSIjMDAwIi8+CiAgICAgICAgICAgIDxjaXJjbGUgZmlsbD0iI0YxRjFGMSIgY3g9IjMxIiBjeT0iMzEiIHI9IjE0LjA5MSIvPgogICAgICAgICAgICA8Y2lyY2xlIGZpbGw9IiM0Mjg1RjQiIGN4PSIzMSIgY3k9IjMxIiByPSIxMS4yNzMiLz4KICAgICAgICAgICAgPGNpcmNsZSBmaWxsPSJ1cmwoI2EpIiBjeD0iMzEiIGN5PSIzMSIgcj0iMzEiLz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbC1vcGFjaXR5PSIuMyIgZmlsbD0iI0ZGRiIgZD0iTTM4IDI1aDE3LjQzNGwxOS4yMzggMzAtMTkuMjM4IDMwSDM4bDE5LjIzOC0zMEwzOCAyNSIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTU1LjE4NCAyNy4yNTNjMTUuNTQ4IDAgMjguNTIgOS41MTIgMzEuNTI5IDIyLjE2LjI4IDEuMTc0LjQ3IDIuMzYyLS4wNzIgMy4xNTctLjc2NSAxLjEyNC0yLjUxNi45MTItMy43MjQuOTEyaC0yMi45OWMtMi4zMjIgMC00LjAwNy4wMy02LjE5OC0xLjA2LTEuNjkxLS44NDEtMi4yNzktMS41NDctMy40My0yLjg3NmE4LjQ2MSA4LjQ2MSAwIDAgMC02LjQxMS0yLjk0Yy00LjcwNCAwLTguNTIgMy44NTMtOC41MiA4LjYwNnMzLjgxNSA4LjYwNiA4LjUyIDguNjA2YTguNDI1IDguNDI1IDAgMCAwIDUuMzYxLTEuOTJjLjc2NS0uNjI1IDEuNzY1LTEuNzk0IDIuNDcyLTIuNTM5IDEuNzMtMS44MjEgNC40NDMtMi40MDMgNy41MzEtMi4yODRoMjQuNTZjMi42MDYtLjA2NCAzLjU1Ni40NTMgMy4wNjIgMi44NTItMi42OCAxMy4wMDMtMTUuODQ4IDIyLjg3Ni0zMS42ODcgMjIuODc2LTkuNTc3IDAtMTguMTc4LTMuNjEtMjQuMDczLTkuMzQyLS43MTEtLjY5MS0xLTEuNTc3LjAwNi0yLjE0Mi4zNzMtLjIwOS45MjUtLjMyNiAxLjY5LS4zMjhoMTYuNTA4YzEuNzY4LjEgMy4zNDMuNTYyIDQuNzQ3IDEuMzg3IDEuNjM5Ljk2NCAxLjkzNCAxLjYzIDMuMSAyLjg1MmE4LjQ1MiA4LjQ1MiAwIDAgMCA2LjEzNiAyLjYzNWM0LjcwMyAwIDguNTE5LTMuODUyIDguNTE5LTguNjA1IDAtNC43NTQtMy44MTUtOC42MDYtOC41Mi04LjYwNmE4LjQyNSA4LjQyNSAwIDAgMC01LjM2IDEuOTE5Yy0uNzY1LjYyNi0xLjc2NiAxLjc5NC0yLjQ3MiAyLjU0LTIuNjQyIDIuNzgtNy4wMTggMi4yODQtMTAuNTE1IDIuMjg0SDMyLjQ4NGMtMS45MzggMC00LjA5LjIwMS01Ljc3LS45MTMtMS4wNTgtLjcwMy0xLjc5LTEuODMtMi4zNTYtMy40NTdhMjQuMjQ3IDI0LjI0NyAwIDAgMS0uMzg0LTE0LjgwM2MuOTQzLTMuMTU0IDIuNDk4LTUuNjQ3IDcuMDkxLTUuNTIzaDE3LjA3NmMyLjQ5Mi0uMDk1IDQuNzQyLjI2NiA2LjQyNiAxLjM2OC45MjMuNjAzIDEuMjgyIDEuMTU5IDEuOTk1IDEuOTQyLjUyNS41NzcgMS4wOTYgMS4xNTIgMS41OCAxLjUxNCAxLjUxNiAxLjEzNSAzLjMzIDEuOTIgNS4zNjIgMS45MiA0LjcwNCAwIDguNTE4LTMuODUzIDguNTE4LTguNjA2IDAtNC43NTQtMy44MTMtOC42MDYtOC41MTgtOC42MDZhOC40NjQgOC40NjQgMCAwIDAtNi40ODggMy4wM2MtMS41MSAxLjc5Mi0zLjA3NyAyLjkyOS01LjExIDMuNDc4LTEuMzkuMzc1LTIuNTI0LjM2Ni0zLjkzLjM2NmgtMTQuOTZjLTIuOTUzLS4wMDgtMi44MzMtMS43MDctMS4wNzMtMy4yOSA1Ljg1OC01LjI4IDE0LjExLTguNTY3IDIzLjI0OS04LjU2NyIgZmlsbD0iIzQ1QUE0MiIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTQ0LjQyNSA0OS4xNzNoMjEuMTFjMC03LjU0My0zLjI3LTEyLjY4NS0xMi4xODctMTIuNjg1QzQyLjgxIDM2LjQ4OCAzMi4wOTQgNDMuMzkyIDI3IDUyYzEuNTc4LTE0Ljk0MSAxMi4yMjMtMjcgMjguMjUtMjcgMTMuNzM2IDAgMjYuNzUxIDEwLjU3IDI2Ljc1MSAyOC4xNHY2LjY4SDQ0LjUzOGMwIDkuMDkgNy44ODEgMTIuNjk0IDE2LjEzIDEyLjY5NCAxMC4wNCAwIDE2LjI2NS00LjU0MyAxNi4yNjUtNC41NDN2MTIuNzM1cy03LjAyIDQuMjkzLTE4LjIxNSA0LjI5M2MtMTQuNTQ1IDAtMjQuODEzLTEwLjQ5MS0yNC44MTMtMjMuNTM2IDAtMTAuMjQgNi4xNTQtMTguNDE1IDE0LjY3OS0yMS43ODktNC4xNSA0LjU4Ni00LjE2NCA5LjUwMi00LjE2NCA5LjUwMiIgZmlsbD0iIzMyNzdCQyIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t,n){e.exports=n.p+"desktop/common/img/devices/firefox.e8c991b3b5dcf1bb813ceaea5f428ab4.svg"},function(e,t,n){e.exports=n.p+"desktop/common/img/devices/gtv.9b15f518c4c922f2d6036fe6f13178a6.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTgzLjk5OSA1NS44N2MwLTQuOTAyLTEuMjY3LTkuNTA2LTMuNDktMTMuNTA3Qzg5Ljk4MiAyMC45MjYgNzAuMzYgMjQuMDY2IDY5LjI2OSAyNC4yOGE0OS44OTcgNDkuODk3IDAgMCAwLTExLjU1IDMuNzc0Yy0uNTIzLS4wMy0xLjA1LS4wNDUtMS41OC0uMDQ1LTEzLjIzOSAwLTI0LjMyIDkuMjM0LTI3LjE1NyAyMS42MTIgNi45NzgtNy44MjggMTEuODYxLTEwLjk4NiAxNC43ODYtMTIuMjUtLjQ2Ny40MTctLjkyNC44MzgtMS4zNzMgMS4yNjMtLjE1LjE0Mi0uMjk0LjI4NS0uNDQyLjQyNy0uMjk2LjI4NS0uNTkyLjU3LS44OC44NTgtLjE3My4xNzItLjM0LjM0NC0uNTEuNTE3LS4yNTUuMjYtLjUxMS41MjEtLjc2MS43ODQtLjE3OC4xODYtLjM1MS4zNzMtLjUyNi41NmE2OS4zNzYgNjkuMzc2IDAgMCAwLTIuMzggMi42NzUgODAuMzY1IDgwLjM2NSAwIDAgMC0xLjY1IDIuMDEyYy0uMTcyLjIxOC0uMzQ2LjQzNy0uNTE1LjY1NS0uMTYxLjIwNy0uMzE4LjQxNC0uNDc1LjYyMS0uMTc4LjIzNC0uMzU4LjQ2OC0uNTMxLjcwMS0uMTI0LjE2Ny0uMjQzLjMzMi0uMzY1LjQ5OGE4Ni40MjEgODYuNDIxIDAgMCAwLTMuNzE3IDUuNTA0bC0uMDM3LjA2Yy0uMjI3LjM2NS0uNDQ1LjcyNC0uNjU5IDEuMDhsLS4wMjIuMDM3YTg5LjQ5NCA4OS40OTQgMCAwIDAtMS41ODQgMi43NDZjLTIuNTA5IDQuNTQ3LTMuNzMgNy43MjQtMy43ODMgNy45MTMtNy45MjQgMjguMzI4IDE2LjgwNiAxNi4zNjUgMjAuMjU3IDE0LjU4YTI3Ljc0NyAyNy43NDcgMCAwIDAgMTIuMzI0IDIuODY4YzEyLjExNSAwIDIyLjQyMi03LjczMiAyNi4yNTgtMTguNTMxSDY3Ljc1N2MtMi4xNjYgMy42Ni02LjMzNiA2LjEzOC0xMS4xMjcgNi4xMzgtNy4wMiAwLTEyLjcxLTUuMzE4LTEyLjcxLTExLjg4aDM5Ljg1QTI4LjEzIDI4LjEzIDAgMCAwIDg0IDU1Ljg3aC0uMDAxem0tNS4yMDUtMjcuNDE3YzIuNCAxLjYyIDQuMzI0IDQuMTYyIDEuMDIgMTIuNzI2YTI3Ljk1NCAyNy45NTQgMCAwIDAtMTMuNjA3LTExLjI5M2MyLjU3OC0xLjI0NiA4Ljk2My0zLjg4IDEyLjU4Ny0xLjQzM3pNMjcuODA2IDgwLjgwNGMtMS45NTQtMi4wMDQtMi4zLTYuODg1IDIuMDEzLTE1Ljc4QTI3Ljk0MiAyNy45NDIgMCAwIDAgNDEuOTUgNzkuODUzYy0yLjc5MSAxLjUzNi0xMC4yMDIgNC45OTUtMTQuMTQ0Ljk1MnptMTYuMDUyLTI4Ljk2NmMuMjIzLTYuMzc2IDUuNzcyLTExLjQ4MiAxMi41OS0xMS40ODIgNi44MTkgMCAxMi4zNjggNS4xMDYgMTIuNTkgMTEuNDgyaC0yNS4xOHoiIGZpbGw9IiMxRUJCRUUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNMjIuMzkgNzEuMzM4VjQ3Ljc4NGg0LjcwN3YyMy41NTRIMjIuMzl6bTIuMzY1LTI2LjkxNmMtMS41MTkgMC0yLjc1NS0xLjIxNC0yLjc1NS0yLjcxQzIyIDQwLjE3MSAyMy4yMzYgMzkgMjQuNzU1IDM5YzEuNTE4IDAgMi43NTQgMS4xNzEgMi43NTQgMi43MTEgMCAxLjQ5Ny0xLjIzNiAyLjcxMS0yLjc1NCAyLjcxMXptMjEuMzQyLTQuOTAxYzkgMCAxNC42NjEgNi4yMjQgMTQuNjYxIDE2LjE4IDAgOS45NTUtNS42NiAxNi4xNTgtMTQuNjYxIDE2LjE1OC05LjAyMyAwLTE0LjY2Mi02LjIwMy0xNC42NjItMTYuMTU4IDAtOS45NTYgNS42MzktMTYuMTggMTQuNjYyLTE2LjE4em0wIDQuMjcyYy01Ljk0MyAwLTkuNjk1IDQuNTk4LTkuNjk1IDExLjkwOCAwIDcuMjg3IDMuNzUyIDExLjg4NSA5LjY5NSAxMS44ODUgNS45NDIgMCA5LjY3My00LjU5OCA5LjY3My0xMS44ODUgMC03LjMxLTMuNzMtMTEuOTA4LTkuNjczLTExLjkwOHpNNjMuOTkgNjIuNjJoNC43OTNjLjM0NyAzLjEwMiAzLjM2MiA1LjE0IDcuNDgzIDUuMTQgMy45NDggMCA2Ljc4OS0yLjAzOCA2Ljc4OS00LjgzNiAwLTIuNDMtMS43MTQtMy44ODItNS43Ny00Ljg4bC00LjA1NS0uOTc2Yy01Ljc0OC0xLjM4OC04LjQxNi00LjA3OC04LjQxNi04LjQzNyAwLTUuNCA0LjcwNy05LjExIDExLjM4Ny05LjExIDYuNjE1IDAgMTEuMTQ4IDMuNzEgMTEuMyA5LjExaC00LjcyOGMtLjI4Mi0zLjEyMy0yLjg2My01LjAxLTYuNjM3LTUuMDEtMy43NzQgMC02LjM1NSAxLjkwOC02LjM1NSA0LjY4NSAwIDIuMjEyIDEuNjQ5IDMuNTEzIDUuNjgzIDQuNTExbDMuNDQ4Ljg0NmM2LjQyIDEuNTE4IDkuMDg4IDQuMSA5LjA4OCA4LjY3NSAwIDUuODU3LTQuNjYzIDkuNTIyLTEyLjA4IDkuNTIyLTYuOTQxIDAtMTEuNjI2LTMuNTc5LTExLjkzLTkuMjR6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t,n){e.exports=n.p+"desktop/common/img/devices/linux.f04c01f0c805e16c0a4f522f7ddd6de3.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNDkuOTk0JSIgeTE9IjEuNjMxJSIgeDI9IjQ5Ljk5NCUiIHkyPSI5OC41NDMlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRjFCMkQiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSIzMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGMUIyRCIgb2Zmc2V0PSI2MSUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0E3MDAxNCIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjUwLjAwNSUiIHkxPSIuODQ4JSIgeDI9IjUwLjAwNSUiIHkyPSI5OS42MDIlIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM5QzAwMDAiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSI3MCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGNEI0QiIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMwLjg0IDBDMTMuODA2IDAgMCAxMy44MTIgMCAzMC44NDdjMCAxNi41NDMgMTMuMDI2IDMwLjA0MiAyOS4zOCAzMC44MWEzMC43MzQgMzAuNzM0IDAgMCAwIDIyLjAyNS03LjgxNGMtMy42MTYgMi4zOTktNy44NDUgMy43NzQtMTIuMzYzIDMuNzc0LTcuMzQ4IDAtMTMuOTIzLTMuNjQ2LTE4LjM0OS05LjM5Mi0zLjQxMy00LjAyLTUuNjIzLTkuOTc1LTUuNzctMTYuNjU0di0xLjQ1NWMuMTQ3LTYuNjczIDIuMzU3LTEyLjYyNyA1Ljc2NC0xNi42NTQgNC40MjYtNS43NDYgMTEuMDA3LTkuMzg2IDE4LjM1NS05LjM4NiA0LjUxOCAwIDguNzQ3IDEuMzgxIDEyLjM2MyAzLjc4MUEzMC43MzMgMzAuNzMzIDAgMCAwIDMwLjk1NyAwaC0uMTE3eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZD0iTTIwLjY4NyAxMy40NjJjMi44MzYtMy4zNCA2LjQ4OS01LjM1MyAxMC40ODUtNS4zNTMgOC45OCAwIDE2LjI2MSAxMC4xODQgMTYuMjYxIDIyLjczOCAwIDEyLjU2LTcuMjggMjIuNzM3LTE2LjI2MSAyMi43MzctMy45OTYgMC03LjY0OS0yLjAxNC0xMC40NzktNS4zNTMgNC40MjYgNS43NDYgMTEgOS4zOTIgMTguMzQ5IDkuMzkyIDQuNTE4IDAgOC43NDctMS4zODEgMTIuMzYzLTMuNzc1IDYuMzEtNS42NTQgMTAuMjgyLTEzLjg2MSAxMC4yODItMjMuMDAxIDAtOS4xMzUtMy45NzItMTcuMzQ4LTEwLjI4OC0yMi45OTYtMy42MTYtMi40LTcuODQtMy43NzUtMTIuMzU3LTMuNzc1LTcuMzQ4IDAtMTMuOTIzIDMuNjQ2LTE4LjM0OSA5LjM5MiIgZmlsbD0idXJsKCNiKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTcxLjc2IDU0Ljk5NGMtLjA3NC03Ljc0IDYuMzQ0LTExLjQ2IDYuNjM1LTExLjY0LTMuNjEtNS4yNTctOS4yMjQtNS45NzgtMTEuMjMyLTYuMDY0LTQuNzgzLS40ODItOS4zMzIgMi44MDQtMTEuNzU1IDIuODA0LTIuNDI0IDAtNi4xNjYtMi43MzEtMTAuMTMzLTIuNjU3LTUuMjE1LjA3NS0xMC4wMTggMy4wMTctMTIuNzA2IDcuNjY0LTUuNDEyIDkuMzYtMS4zODQgMjMuMjIyIDMuODkzIDMwLjgxIDIuNTggMy43MTEgNS42NTMgNy44ODkgOS42OTMgNy43MzcgMy44OS0uMTUxIDUuMzYtMi41MDMgMTAuMDU5LTIuNTAzIDQuNyAwIDYuMDIzIDIuNTAzIDEwLjEzNiAyLjQyNSA0LjE4Ni0uMDczIDYuODM2LTMuNzg0IDkuMzk3LTcuNTEgMi45NjItNC4zMSA0LjE4LTguNDgzIDQuMjUzLTguNjk3LS4wOTItLjA0Mi04LjE2NC0zLjEyLTguMjQ1LTEyLjM3M20tNy43MjgtMjIuNzI1YzIuMTQ2LTIuNTg3IDMuNTg5LTYuMTg3IDMuMTkzLTkuNzY1LTMuMDg4LjEyNS02LjgyNyAyLjA0OS05LjA0NSA0LjYzNC0xLjk4NyAyLjI5LTMuNzI2IDUuOTQ4LTMuMjU1IDkuNDYgMy40NDIuMjY1IDYuOTYyLTEuNzQ1IDkuMTA3LTQuMzMiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iODkuMjY3JSIgY3k9IjQ5LjcxMyUiIGZ4PSI4OS4yNjclIiBmeT0iNDkuNzEzJSIgcj0iOTIuNSUiIGdyYWRpZW50VHJhbnNmb3JtPSJtYXRyaXgoMSAwIDAgLjYxMTIgMCAuMTkzKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9Im5vbnplcm8iPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYSkiIGQ9Ik0zOCAyNWgxNy40MzRsMTkuMjM4IDMwLTE5LjIzOCAzMEgzOGwxOS4yMzgtMzBMMzggMjUiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGNENFMUUiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNhKSIgZD0iTTc4LjQ3MyA1NWwtMjAuMy0yOC45ODZMNTEuNzI4IDI2bC0zLjIyMi4wMTRMNjguODA2IDU1IDUwLjc2IDgwLjc3N2gtMy4yMjJMNjUuNTg0IDU1bC0yMC4zLTI4Ljk4NkwzOC44NCAyNmwtMy4yMjMuMDE0IDE4LjA2MSAyNS43NjRIMTlWNTVoNDAuMTRMNDEuMDg0IDI5LjIyMmgzLjIyM0w2Mi4zNjEgNTVsLTIwLjMgMjloOS42NjdsMjAuMy0yOS0xOC4wNTQtMjUuNzc4aDMuMjIzTDc1LjI1IDU1bC0yMC4zIDI5aDkuNjY3bDE4LjAxLTI1Ljc3OGg4LjcwNlY1NWgtOS42MzlMNjMuNjUgODAuNzc3aC0zLjIyMnoiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMTAwJSIgeTE9IjUwJSIgeDI9IjAlIiB5Mj0iNTAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0U1QTAwRCIgb2Zmc2V0PSI0Ny43MzglIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvbGluZWFyR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI4OS4yNjclIiBjeT0iNDkuNzEzJSIgZng9Ijg5LjI2NyUiIGZ5PSI0OS43MTMlIiByPSI5Mi41JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgxIDAgMCAuNjExMiAwIC4xOTMpIiBpZD0iYiI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUJFMDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0NDN0MxOSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTMxIDYyQzEzLjg3OSA2MiAwIDQ4LjEyMSAwIDMxIDAgMTMuODc5IDEzLjg3OSAwIDMxIDBjMTcuMTIxIDAgMzEgMTMuODc5IDMxIDMxIDAgMTcuMTIxLTEzLjg3OSAzMS0zMSAzMXptMC0xLjg2YzE2LjA5MyAwIDI5LjE0LTEzLjA0NyAyOS4xNC0yOS4xNFM0Ny4wOTMgMS44NiAzMSAxLjg2IDEuODYgMTQuOTA3IDEuODYgMzEgMTQuOTA3IDYwLjE0IDMxIDYwLjE0eiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMjQgMjQpIi8+CiAgICAgICAgPHBhdGggZmlsbD0idXJsKCNiKSIgZD0iTTIwLjM5OCAxMS42NTZoMTEuMjZsMTIuNDI0IDE5LjM3NS0xMi40MjUgMTkuMzc1SDIwLjM5OGwxMi40MjUtMTkuMzc1LTEyLjQyNS0xOS4zNzUiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiMxQTgwRDMiIG9mZnNldD0iMCUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iIzFBNDU5MyIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgIDwvZGVmcz4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTg5LjkxMSA2OS44NmMtMS40MTcgMS43ODgtNC44OSAzLjA2NC00Ljg5IDMuMDY0bC0yNS44MyA5LjI3OFY3NS4zNmwxOS4wMS02Ljc3NGMyLjE1Ni0uNzczIDIuNDg4LTEuODY1LjczNC0yLjQzOS0xLjc1LS41NzUtNC45Mi0uNDEtNy4wNzguMzY2TDU5LjE5IDcwLjk3NHYtNy4xMDFsLjczLS4yNDdzMy42Ni0xLjI5NiA4LjgwNy0xLjg2NmM1LjE0Ny0uNTY3IDExLjQ1LjA3OCAxNi4zOTcgMS45NTMgNS41NzUgMS43NjIgNi4yMDMgNC4zNiA0Ljc4NyA2LjE0N3pNNjEuNjUgNTguMjF2LTE3LjVjMC0yLjA1NC0uMzc5LTMuOTQ2LTIuMzA3LTQuNDgyLTEuNDc3LS40NzMtMi4zOTMuODk4LTIuMzkzIDIuOTUyVjgzTDQ1LjEzIDc5LjI1VjI3YzUuMDI1LjkzMyAxMi4zNDUgMy4xMzggMTYuMjggNC40NjUgMTAuMDEgMy40MzYgMTMuNDAzIDcuNzEyIDEzLjQwMyAxNy4zNDggMCA5LjM5Mi01Ljc5OCAxMi45NTItMTMuMTY1IDkuMzk2ek0yMy40NDYgNzQuNjQ0Yy01LjcyMy0xLjYxMS02LjY3Ni00Ljk3LTQuMDY3LTYuOTA1IDIuNDEtMS43ODYgNi41MTEtMy4xMzEgNi41MTEtMy4xMzFsMTYuOTQ1LTYuMDI1djYuODY5bC0xMi4xOTQgNC4zNjRjLTIuMTU0Ljc3My0yLjQ4NSAxLjg2Ny0uNzM1IDIuNDQgMS43NTIuNTc0IDQuOTIzLjQxIDcuMDgtLjM2NGw1Ljg1LTIuMTIydjYuMTQ1Yy0uMzcyLjA2Ni0uNzg1LjEzMi0xLjE2OC4xOTYtNS44NS45NTYtMTIuMDgxLjU1Ny0xOC4yMjItMS40Njd6IiBmaWxsPSJ1cmwoI2EpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBmaWxsPSIjNjYyRDkxIiBkPSJNMTEgMzJoODh2NDZIMTF6Ii8+CiAgICAgICAgPHBhdGggZD0iTTY2LjkyNyA1NC4zODhsLTYuMTk2IDYuMjF2LTYuMjMxaC01LjM3OHYxNS44MzVoNS4zNzh2LTYuNDI0bDYuNDY5IDYuNDI0aDYuNzdsLTguMjIxLTguMjQyIDYuODA5LTYuODIzdjkuMzk4YzAgMy4xMiAxLjg3MiA2IDYuNTg2IDYgMi4yMzggMCA0LjI5Mi0xLjI3MiA1LjI5LTIuNDI0bDIuNDE4IDIuMDlIODhWNTQuMzg0aC01LjM3OHYxMC4yNGMtLjYwNSAxLjA2LTEuNDUgMS43MjYtMi43NTQgMS43MjYtMS4zMjMgMC0xLjkzLS43ODctMS45My0zLjMwMXYtOC42NjVoLTExLjAxbS0zMy4wNzMgMTUuODRsLTQuODQ2LTYuNzRoLTEuNjN2Ni43MjZIMjJWNTBoNy43MDZjNC40NDMgMCA4LjA2OSAzLjAyOSA4LjA2OSA2Ljc1NCAwIDIuMjczLTEuMzkgNC4zMDItMy41MSA1LjU0NGw1LjY5IDcuOTI3LTYuMS0uMDAyem0tMS40NjQtMTMuNDY3YzAtMS44OC0xLjUwOS0zLjM5My0zLjM1My0zLjM5M2gtMS42NjN2Ni43NTZoMS42NjNjMS44NDUgMCAzLjM1My0xLjUxNSAzLjM1My0zLjM2M3ptMjEuOTE3IDUuNTRjMCA0LjU3OC0zLjcxNCA4LjI0NC04LjI4IDguMjQ0YTguMjI2IDguMjI2IDAgMCAxLTguMjUxLTguMjQzIDguMjI2IDguMjI2IDAgMCAxIDguMjUtOC4yNDFjNC41NjYgMCA4LjI4IDMuNjY3IDguMjggOC4yNHptLTguMjgtNC4zM2MtMS40MjEgMC0yLjYzMSAxLjkzNS0yLjYzMSA0LjMzIDAgMi4zOTcgMS4yMDggNC4zMzUgMi42MyA0LjMzNSAxLjQ1MyAwIDIuNjYtMS45MzggMi42Ni00LjMzNCAwLTIuMzk3LTEuMjA2LTQuMzMxLTIuNjYtNC4zMzF6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t,n){e.exports=n.p+"desktop/common/img/devices/safari.ebe0357a3d1fcf188ad15d1f619f2c5a.svg"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTEwMC45NDMgNDcuMzY5YzEuMjUzIDcuMjc2LTE4LjI5OSAxNi44MDYtNDMuNjc2IDIxLjI4NC0yNS4zNzMgNC40NzgtNDYuOTU5IDIuMjA1LTQ4LjIxLTUuMDc0LTEuMjUtNy4yNzggMTguMzA3LTE2LjgwNCA0My42OC0yMS4yODEgMjUuMzc1LTQuNDggNDYuOTU3LTIuMjA4IDQ4LjIwNiA1LjA3eiIgZmlsbD0iIzAzNEVBMiIvPgogICAgICAgIDxwYXRoIGQ9Ik03Ny4wNjEgNTguMTdsLS4xMy03LjU2NmgyLjM1NXY5LjUzN0g3NS45bC0yLjM1LTcuODI2aC0uMDVsLjEzIDcuODI2aC0yLjM0di05LjUzN2gzLjUzMmwyLjE4NiA3LjU2N2guMDUzem0tNDIuODA2LTYuNjczbC0xLjMwMyA4Ljc0NGgtMi41NjhsMS43NjMtOS42MzdoNC4yMzFsMS43NTYgOS42MzdoLTIuNTU4bC0xLjI2OC04Ljc0NGgtLjA1M3ptMTEuMDkyIDYuNDc0bDEuMTc2LTcuMzY3aDMuODc5bC4yMDYgOS42MzdINDguMjNsLS4wNjMtOC42NjRoLS4wNWwtMS41OSA4LjY2NGgtMi40MTNsLTEuNTktOC42NjRoLS4wNTJsLS4wNiA4LjY2NGgtMi4zODJsLjIxLTkuNjM3aDMuODgxbDEuMTc1IDcuMzY3aC4wNXptLTE4Ljk2OS0uNDQ4Yy0uNDg5LTEuMjQ4LTMuODY4LTEuODE4LTQuMjgzLTMuNzg3LS4xLS40ODMtLjA5LS44Ny0uMDIxLTEuMzAzLjI1Mi0xLjU2OSAxLjYzNS0yLjEzNSAzLjMyNy0yLjEzNSAxLjM0NyAwIDMuMjA3LjMyOCAzLjIwNyAyLjQyN3YuNjc3aC0yLjM3MnYtLjU5NWMwLS41MjYtLjMyOS0uODc0LS44ODUtLjg3NC0uNTk1IDAtLjgwMy4zMzgtLjg2OS42NDYtLjAyMi4xMS0uMDM1LjMxNC4wMS41MDguMjcgMS4xMjggMy44OCAxLjczIDQuMjggMy43NDguMDQuMjA1LjEyNi43NS4wMSAxLjU4My0uMjI1IDEuNjA1LTEuNjQyIDIuMjAxLTMuMzYyIDIuMjAxLTEuNzg5IDAtMy40NTktLjY0OC0zLjQ1OS0yLjc5NmwuMDAyLS43NDdoMi41NTF2LjkzM2MwIC41My4zNjIuODc2Ljk1OS44NzYuNjMyIDAgLjg0Ny0uMzI3LjkyNi0uNjQ4LjA0NC0uMTguMDcyLS40OC0uMDItLjcxNHptMzAuOTMtLjAxOGMtLjQ4NC0xLjIzNS0zLjgzLTEuODAxLTQuMjQtMy43NWEzLjM2IDMuMzYgMCAwIDEtLjAyMS0xLjI4N2MuMjQ3LTEuNTU3IDEuNjE5LTIuMTE3IDMuMjkyLTIuMTE3IDEuMzM0IDAgMy4xNzguMzI2IDMuMTc4IDIuNDAzdi42N2gtMi4zNTR2LS41OWMwLS41MjItLjMyMS0uODYyLS44NzItLjg2Mi0uNTkgMC0uNzkzLjMzMS0uODYxLjY0LS4wMjMuMTA0LS4wMzYuMzA3LjAwOS41LjI2NiAxLjExNiAzLjg0IDEuNzEyIDQuMjM5IDMuNzExLjA0MS4yMDIuMTIzLjc0LjAwOCAxLjU2Ni0uMjIxIDEuNTkxLTEuNjI1IDIuMTgtMy4zMjcgMi4xOC0xLjc3MSAwLTMuNDI2LS42NDMtMy40MjYtMi43N2wuMDA0LS43MzZoMi41MjRsLjAwMi45MjVjMCAuNTE3LjM2Ljg2My45NDcuODYzLjYyOSAwIC44NDEtLjMyMi45MTktLjY0MS4wNDItLjE4MS4wNzMtLjQ3My0uMDIxLS43MDV6bTcuOTkgMS4yOTVjLjY2IDAgLjg2Ni0uNDYzLjkxMS0uN2EyLjAzIDIuMDMgMCAwIDAgLjAyMi0uMzY4VjUwLjZoMi40MDZ2Ni45MTNjLjAwNS4xNzgtLjAxMi41NDItLjAyLjYzMy0uMTcgMS44LTEuNTczIDIuMzgzLTMuMzIgMi4zODMtMS43NSAwLTMuMTU1LS41ODQtMy4zMjItMi4zODNhOC4zMzMgOC4zMzMgMCAwIDEtLjAyLS42MzNWNTAuNmgyLjQwM3Y3LjEzMmMwIC4xMjQuMDA1LjI2NS4wMjMuMzY4LjA1MS4yMzcuMjUxLjcuOTE2Ljd6bTE5Ljg0Mi0uMTAyYy42ODkgMCAuOTMtLjQ0MS45NzQtLjY5OC4wMTctLjExLjAyMi0uMjQ1LjAyMS0uMzY3di0xLjM5OWgtLjk3NnYtMS40MDdoMy4zNzN2Mi41ODdjLS4wMDMuMTgtLjAwNy4zMTMtLjAzNS42MzUtLjE1OSAxLjc1My0xLjY2IDIuMzc5LTMuMzQ1IDIuMzc5LTEuNjkgMC0zLjE4OC0uNjI2LTMuMzQ5LTIuMzc5YTcuOSA3LjkgMCAwIDEtLjAzNC0uNjM1bC4wMDItNC4wNThjMC0uMTcxLjAyMS0uNDc0LjA0LS42MzUuMjEtMS44MDEgMS42NTItMi4zOCAzLjM0LTIuMzhzMy4xNjQuNTc2IDMuMzQgMi4zOGMuMDMuMzA3LjAyLjYzNS4wMi42MzV2LjMyMWgtMi4zOTh2LS41NGMuMDAyLjAwMi0uMDAzLS4yMjktLjAzMS0uMzY2LS4wNC0uMjEzLS4yMjQtLjcwMi0uOTQ4LS43MDItLjY5NCAwLS44OTcuNDYzLS45NDguNzAyYTIuMTkgMi4xOSAwIDAgMC0uMDQuNDU1djQuNDA3Yy0uMDAyLjEyMi4wMDUuMjU2LjAyNC4zNjcuMDQyLjI1OC4yODEuNjk4Ljk3LjY5OHoiIGZpbGw9IiNGRkYiLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTM0LjI1IDQ2Yy00Ljg3NSAwLTguODQyIDMuOTY2LTguODQyIDguODQyIDAgNC44NzQgMy45NjcgOC44NCA4Ljg0MiA4Ljg0czguODQxLTMuOTY2IDguODQxLTguODRjMC00Ljg3Ni0zLjk2Ni04Ljg0Mi04Ljg0LTguODQyem0wIDE0LjUwNmMtMy4wOTIgMC01LjYwNS0yLjU0LTUuNjA1LTUuNjY0IDAtMy4xMjQgMi41MTMtNS42NjQgNS42MDUtNS42NjQgMy4wOTEgMCA1LjYwNyAyLjU0IDUuNjA3IDUuNjY0IDAgMy4xMjMtMi41MTYgNS42NjQtNS42MDcgNS42NjR6bS0xNC4yMTktNS41MThjMS4yNS45NTMgMS44ODMgMi4xNzQgMS44ODMgMy42MjUgMCAxLjM1Mi0uNjI1IDIuNjcxLTEuNzE3IDMuNjItMS4wOTcuOTQ5LTIuNjAyIDEuNDczLTQuMjQgMS40NzMtMy40MDYgMC01LjM2NC0yLjI4My01LjQ0NS0yLjM3OGwtLjI3OC0uMzMgMi41NDctMS43Mi4yMjEuMTY1Yy40MS4zMDcgMS41MiAxLjAyMiAyLjk1NiAxLjAyMiAxLjcgMCAyLjcxNi0uOTQxIDIuNzE2LTEuODUyIDAtLjM4OCAwLTEuMTk1LTMuMjAxLTIuMjEzLTEuNjQ2LS41MjItMi43NS0xLjA0LTMuNTg4LTEuNjgtMS4yNS0uOTUyLTEuODg1LTIuMTcyLTEuODg1LTMuNjI0IDAtMS4zNTIuNjI2LTIuNjcxIDEuNzE5LTMuNjE5IDEuMDk2LS45NSAyLjYtMS40NzQgNC4yMzgtMS40NzQgMy40MDYgMCA1LjM2NCAyLjI4IDUuNDQ3IDIuMzc4bC4yNzYuMzMtMi41NDUgMS43Mi0uMjItLjE2NWMtLjQxMy0uMzA4LTEuNTI2LTEuMDIzLTIuOTU4LTEuMDIzLTEuNyAwLTIuNzE1Ljk0My0yLjcxNSAxLjg1MyAwIC4zODggMCAxLjE5NSAzLjIwMSAyLjIxMyAxLjY0Ni41MjIgMi43NSAxLjA0IDMuNTg4IDEuNjh6bTM4LjcyIDEuMTF2LTkuNDY1aDMuMTU5VjYzLjUybC0xMC42NTktOS45MnY5LjQwNmgtMy4xNThWNDYuMTZsMTAuNjU4IDkuOTM2em0xNy0xMC4wMzNjNC44NzYgMCA4Ljg0MiAzLjk2NiA4Ljg0MiA4Ljg0MSAwIDQuODc1LTMuOTY2IDguODQxLTguODQyIDguODQxLTQuODc0IDAtOC44NC0zLjk2Ni04Ljg0LTguODQgMC00Ljg3NiAzLjk2Ni04Ljg0MiA4Ljg0LTguODQyem0wIDE0LjUwNWMzLjA5IDAgNS42MDYtMi41NDEgNS42MDYtNS42NjQgMC0zLjEyMi0yLjUxNS01LjY2My01LjYwNi01LjY2My0zLjA5MiAwLTUuNjA1IDIuNTQtNS42MDUgNS42NjNzMi41MTMgNS42NjQgNS42MDUgNS42NjR6bTE0LjIxOS01LjgxYy0xLjI1LS45NTQtMS44ODItMi4xNzMtMS44ODItMy42MjUgMC0xLjM1Mi42MjUtMi42NyAxLjcxNy0zLjYyIDEuMDk2LS45NSAyLjYwMS0xLjQ3NCA0LjIzOS0xLjQ3NCAzLjQwNiAwIDUuMzY0IDIuMjgzIDUuNDQ1IDIuMzc5bC4yNzguMzMtMi41NDYgMS43Mi0uMjIyLS4xNjVjLS40MS0uMzA3LTEuNTItMS4wMjItMi45NTUtMS4wMjItMS43IDAtMi43MTcuOTQxLTIuNzE3IDEuODUyIDAgLjM4OCAwIDEuMTk1IDMuMjAyIDIuMjEzIDEuNjQ2LjUyMiAyLjc1IDEuMDQgMy41ODggMS42OEM5OS4zNjcgNTUuOTggMTAwIDU3LjIgMTAwIDU4LjY1YzAgMS4zNTQtLjYyNiAyLjY3Mi0xLjcxOCAzLjYyLTEuMDk2Ljk1LTIuNiAxLjQ3NC00LjIzOCAxLjQ3NC0zLjQwNyAwLTUuMzY0LTIuMjgxLTUuNDQ1LTIuMzc4bC0uMjc5LS4zMyAyLjU0Ny0xLjcyLjIyLjE2NWMuNDEyLjMwNyAxLjUyNSAxLjAyMiAyLjk1NyAxLjAyMiAxLjcgMCAyLjcxNi0uOTQyIDIuNzE2LTEuODUzIDAtLjM4OCAwLTEuMTk1LTMuMjAyLTIuMjExLTEuNjQ2LS41MjMtMi43NS0xLjA0LTMuNTg4LTEuNjh6IiBmaWxsPSIjRkZGIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iNTAlIiB5MT0iMCUiIHgyPSI1MCUiIHkyPSIxMDAlIiBpZD0iYSI+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSIwJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii40NSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9saW5lYXJHcmFkaWVudD4KICAgICAgICA8cmFkaWFsR3JhZGllbnQgY3g9IjgyLjg2MiUiIGZ4PSI4Mi44NjIlIiBmeT0iNTAlIiByPSI5MS4xNTklIiBncmFkaWVudFRyYW5zZm9ybT0ibWF0cml4KC0xIDAgMCAtLjg1MSAxLjY1NyAuOTI2KSIgaWQ9ImIiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRjlCRTAzIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNDQzdDMTkiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICA8L2RlZnM+CiAgICA8ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPgogICAgICAgIDxwYXRoIGZpbGw9IiMxOTFBMUMiIGZpbGwtcnVsZT0ibm9uemVybyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTAgMTAuNjA0aDYuODU2TDkuMDkgNy44aDEuMDFsLTIuMTg2IDIuODA0aDkuNTIzTDE5LjE4IDcuOGgxLjAxbC0xLjY5NSAyLjgwNGg5LjUyM0wyOS4yNyA3LjhoMS4wMWwtMS4yMDQgMi44MDRoOS41MjNMMzkuMzYgNy44aDEuMDFsLS43MTMgMi44MDRoOS41MjNsLjI3LTIuODA0aDEuMDFsLS4yMjEgMi44MDRoOS41MjNMNTkuNTQgNy44aDEuMDA5bC4yNyAyLjgwNGg5LjUyM0w2OS42MyA3LjhoMS4wMDlsLjc2IDIuODA0aDkuNTI0TDc5LjcyMSA3LjhoMS4wMDlsMS4yNTIgMi44MDRoOS41MjNMODkuODExIDcuOGgxLjAwOWwxLjc0MyAyLjgwNGg5LjUyM0w5OS45MDEgNy44aDEuMDA5bDIuMjM0IDIuODA0SDExMHYuNzkyaC02LjIyNGwyLjU1NyAzLjIwOEgxMTB2Ljc5MmgtMy4wMzVsMi44NzUgMy42MDhoLjE2djEuNzUxbC0uNzQ4LS45NTlIOTguMjhsMi40OTIgNC4wMDhIMTEwdi43OTJoLTguNzM1bDIuOTg5IDQuODA4SDExMHYuNzkyaC01LjI1M2wzLjk4NSA2LjQwOEgxMTB2Ljc5MmgtLjc3NWwuNzc1IDEuMjQ3djIuNTYzbC0yLjMwMy0zLjgxSDkzLjk1bDMuNTc3IDguMDA4SDExMHYuNzkySDk3Ljg4MWw0LjI5MiA5LjYwOEgxMTB2Ljc5MmgtNy40NzNsNS43MjEgMTIuODA4SDExMHYuNzkyaC0xLjM5OGwxLjM5OCAzLjEzdjUuMDI2bC0zLjUtOC4xNTZIODcuNTgyTDkxLjYwMiA4NUg4OS4yNGwtMy43Ni0xNC44MDRINjYuNTZMNjcuOTg3IDg1aC0yLjM2bC0xLjE2OC0xNC44MDRINDUuNTQxTDQ0LjM3NCA4NWgtMi4zNjFsMS40MjYtMTQuODA0SDI0LjUyTDIwLjc2IDg1SDE4LjRsNC4wMi0xNC44MDRIMy41TDAgNzguMzUydi01LjAyNmwxLjM5OC0zLjEzSDB2LS43OTJoMS43NTJsNS43MjEtMTIuODA4SDB2LS43OTJoNy44MjdsNC4yOTItOS42MDhIMHYtLjc5MmgxMi40NzNsMy41NzctOC4wMDhIMi4zMDJMMCA0MS4yMDZ2LTIuNTYzbC43NzUtMS4yNDdIMHYtLjc5MmgxLjI2OGwzLjk4NS02LjQwOEgwdi0uNzkyaDUuNzQ1bDIuOTktNC44MDhIMHYtLjc5Mmg5LjIyOGwyLjQ5Mi00LjAwOEguNzQ4bC0uNzQ4Ljk2di0xLjc1MmguMTZsMi44NzUtMy42MDhIMHYtLjc5MmgzLjY2N2wyLjU1Ny0zLjIwOEgwdi0uNzkyem0yNi4xMTEgNDUuOTkySDkuMzM3TDMuODQgNjkuNDA0aDE4Ljc5NGwzLjQ3Ny0xMi44MDh6bTE4LjYzOCAwSDI3Ljk3NWwtMy4yNTMgMTIuODA4aDE4Ljc5M2wxLjIzNC0xMi44MDh6bTE4LjYzOCAwSDQ2LjYxM2wtMS4wMSAxMi44MDhoMTguNzk0bC0xLjAxLTEyLjgwOHptMTguNjM4IDBINjUuMjUxbDEuMjM0IDEyLjgwOGgxOC43OTNsLTMuMjUzLTEyLjgwOHptMTguNjM4IDBIODMuODg5bDMuNDc3IDEyLjgwOGgxOC43OTRsLTUuNDk3LTEyLjgwOHptLTcxLjcyOC0xMC40SDEzLjhsLTQuMTIzIDkuNjA4aDE2LjY1bDIuNjA4LTkuNjA4em0xNi44MTYgMEgzMC42MTdsLTIuNDQgOS42MDhoMTYuNjQ4bC45MjYtOS42MDh6bTE2LjgxNiAwSDQ3LjQzM2wtLjc1OCA5LjYwOGgxNi42NWwtLjc1OC05LjYwOHptMTYuODE2IDBINjQuMjVsLjkyNSA5LjYwOGgxNi42NWwtMi40NC05LjYwOHptMTYuODE3IDBIODEuMDY1bDIuNjA5IDkuNjA4aDE2LjY0OUw5Ni4yIDQ2LjE5NnptLTY0Ljg3Ni04LjhIMTcuNTc3bC0zLjQzNiA4LjAwOGgxNS4wMWwyLjE3My04LjAwOHptMTUuMjc1IDBIMzIuODUybC0yLjAzNCA4LjAwOGgxNS4wMWwuNzctOC4wMDh6bTE1LjI3NSAwSDQ4LjEyNmwtLjYzIDguMDA4aDE1LjAwOWwtLjYzMS04LjAwOHptMTUuMjc0IDBINjMuNDAxbC43NzEgOC4wMDhoMTUuMDFsLTIuMDM0LTguMDA4em0xNS4yNzUgMEg3OC42NzZsMi4xNzQgOC4wMDhoMTUuMDFsLTMuNDM3LTguMDA4em0tMTcuMTA0LTcuMkg2Mi43MDdsLjYxOCA2LjQwOGgxMy42MjJsLTEuNjI4LTYuNDA4em0tNTYuMDUzIDBINi42NTRsLTMuODcyIDYuNDA4aDEzLjYyMmwyLjg2Mi02LjQwOHptMTQuMDEzIDBIMjAuNjY3bC0yLjc1IDYuNDA4SDMxLjU0bDEuNzQtNi40MDh6bTE0LjAxNCAwSDM0LjY4bC0xLjYyOCA2LjQwOGgxMy42MjJsLjYxOC02LjQwOHptMTQuMDEzIDBINDguNjk0bC0uNTA1IDYuNDA4SDYxLjgxbC0uNTA1LTYuNDA4em0yOC4wMjcgMEg3Ni43MmwxLjc0IDYuNDA4aDEzLjYyMmwtMi43NS02LjQwOHptMTQuMDEzIDBIOTAuNzM0bDIuODYyIDYuNDA4aDEzLjYyMmwtMy44NzItNi40MDh6bS04MS41NzktNS42SDEwLjAzOGwtMi45MDUgNC44MDhIMTkuNjJsMi4xNDctNC44MDh6bTEzLjAzMyAwSDIzLjA3bC0yLjA2MyA0LjgwOGgxMi40ODhsMS4zMDUtNC44MDh6bTEzLjAzMiAwSDM2LjEwM2wtMS4yMjEgNC44MDhoMTIuNDg3bC40NjMtNC44MDh6bTEzLjAzMyAwaC0xMS43M2wtLjM3OCA0LjgwOGgxMi40ODZsLS4zNzgtNC44MDh6bTI2LjA2NCAwSDc1LjJsMS4zMDUgNC44MDhoMTIuNDg4bC0yLjA2NC00LjgwOHptLTEzLjAzMiAwaC0xMS43M2wuNDY0IDQuODA4aDEyLjQ4N2wtMS4yMjEtNC44MDh6bTI2LjA2NSAwaC0xMS43M2wyLjE0OCA0LjgwOGgxMi40ODdsLTIuOTA1LTQuODA4em0tNzYuMDUtNC44SDEyLjkzOWwtMi40MjIgNC4wMDhoMTEuNjA1bDEuNzktNC4wMDh6bTEyLjE5MSAwSDI1LjEzMWwtMS43MiA0LjAwOGgxMS42MDRsMS4wODgtNC4wMDh6bTEyLjE5MiAwSDM3LjMyMmwtMS4wMTggNC4wMDhINDcuOTFsLjM4Ni00LjAwOHptMTIuMTkxIDBINDkuNTE0bC0uMzE2IDQuMDA4aDExLjYwNGwtLjMxNi00LjAwOHptMTIuMTkyIDBINjEuNzA1bC4zODYgNC4wMDhoMTEuNjA1bC0xLjAxOC00LjAwOHptMTIuMTkxIDBINzMuODk3bDEuMDg4IDQuMDA4aDExLjYwNGwtMS43Mi00LjAwOHptMTIuMTkyIDBIODYuMDg4bDEuNzkgNC4wMDhoMTEuNjA1bC0yLjQyMi00LjAwOHptLTI1LjUtNC40SDYxLjI4bC4zNDggMy42MDhoMTAuODQ3bC0uOTE2LTMuNjA4em0tNTcuMTA1IDBINC4xNzhsLTIuODEyIDMuNjA4aDEwLjg0N2wyLjI0My0zLjYwOHptMTEuNDIxIDBIMTUuNTk4bC0yLjE4IDMuNjA4aDEwLjg0OGwxLjYxMS0zLjYwOHptMTEuNDIgMEgyNy4wMmwtMS41NDggMy42MDhoMTAuODQ3bC45OC0zLjYwOHptMTEuNDIyIDBoLTEwLjI4bC0uOTE1IDMuNjA4SDQ4LjM3bC4zNDgtMy42MDh6bTExLjQyIDBINDkuODYxbC0uMjg1IDMuNjA4aDEwLjg0OGwtLjI4NS0zLjYwOHptMjIuODQyIDBINzIuNzAybC45OCAzLjYwOGgxMC44NDdsLTEuNTQ4LTMuNjA4em0xMS40MiAwSDg0LjEyNGwxLjYxMSAzLjYwOGgxMC44NDhsLTIuMTgtMy42MDh6bTExLjQyMiAwaC0xMC4yOGwyLjI0NCAzLjYwOGgxMC44NDdsLTIuODExLTMuNjA4em0tMzUuMjc5LTRoLTkuNjQ4bC4zMDkgMy4yMDhoMTAuMTU0bC0uODE1LTMuMjA4em0tNTMuNiAwSDcuMjk2bC0yLjUgMy4yMDhoMTAuMTUzbDEuOTk1LTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS45MzkgMy4yMDhoMTAuMTU0bDEuNDMzLTMuMjA4em0xMC43MiAwaC05LjY0OGwtMS4zNzcgMy4yMDhoMTAuMTU0bC44Ny0zLjIwOHptMTAuNzIgMGgtOS42NDhsLS44MTUgMy4yMDhoMTAuMTU0bC4zMDktMy4yMDh6bTEwLjcyIDBoLTkuNjQ4bC0uMjUzIDMuMjA4aDEwLjE1NGwtLjI1My0zLjIwOHptMjEuNDQgMGgtOS42NDhsLjg3MSAzLjIwOGgxMC4xNTRsLTEuMzc3LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjQzMyAzLjIwOGgxMC4xNTRsLTEuOTM5LTMuMjA4em0xMC43MiAwaC05LjY0OGwxLjk5NSAzLjIwOGgxMC4xNTNsLTIuNS0zLjIwOHpNMCA3Ljc5MlY3aDExMHYuODFsLS4wMTctLjAxOEgwem0wIC4wMThWNy44aC4wMDlMMCA3LjgxeiIgZmlsbD0idXJsKCNhKSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCAyNSkiLz4KICAgICAgICA8cGF0aCBkPSJNMzkuNTggMjUuNDk2bDE5LjExIDI2LjI2Ny0zLjE1NyAzLjA4OS0xNi4yMTEtMjIuOTE3LjI1OS02LjQzOXptLTYuMjQgNTIuNzFoMjIuNjg2TDc3LjkzIDUxLjg1OGwtLjI0OCA2LjQzMi0yMS45MTkgMjYuMzQ3LTIyLjY3OC4wMTcuMjU1LTYuNDQ4eiIgZmlsbD0iIzk5NUMxMiIvPgogICAgICAgIDxwYXRoIGZpbGw9InVybCgjYikiIGQ9Ik0zOS41ODQuNTAzaDE2Ljc0OGwyMS42MDIgMjYuMzUzLTIxLjkxIDI2LjM1M0gzMy4zNDJsMjQuODc3LTI2LjM1M3oiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDAgMjUpIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZmlsbC1ydWxlPSJub256ZXJvIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNODAuMjYgNTEuNDYzdi04LjM3aDYuNjA4djkuMjUxYzAgMy45MDktNi42MDggNC43MDgtNi42MDgtLjg4em0tOS4xMDQgNS44NzRWNDYuMDNjMC0xLjc4NiAxLjU2LTIuOTM3IDMuMzc3LTIuOTM3aDIuNzl2OS44MzljMCA3LjA0NiAxMi42MjkgNy4xMDIgMTIuNjI5LS4xNDdWNDMuMjRoMy42N2MxLjMgMCAyLjM1IDEuNTI4IDIuMzUgMi45Mzd2MTEuNmMwIDIuMzM5LTEuOTAzIDMuOTY1LTQuMjU4IDMuOTY1aC0xNS44NmMtMi43OSAwLTQuNjk4LTEuNjQ0LTQuNjk4LTQuNDA1eiIgZmlsbD0iIzAwOUFDNyIvPgogICAgICAgIDxwYXRoIGQ9Ik02NC41NTYgNjcuMjU2aC00LjkxOVY1MS4zNWg0LjkxOXYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMzEtMi43NzcgMi44OTYtMi43NzcgMS42MjYgMCAyLjkzNSAxLjIzIDIuOTM1IDIuNzc2IDAgMS41NDctMS4zMDkgMi43NzctMi45MzUgMi43NzctMS41ODcgMC0yLjg5Ni0xLjI3LTIuODk2LTIuNzc3em0tNC41NjIgMjEuNDJINDkuNjhWNTEuMzVoNC45MnYxNS45MDd6bS01LjM5NS0yMS40MmMwLTEuNTQ4IDEuMjctMi43NzcgMi44NTctMi43NzcgMS42NjYgMCAyLjk3NSAxLjIzIDIuOTc1IDIuNzc2IDAgMS41NDctMS4zMSAyLjc3Ny0yLjk3NSAyLjc3Ny0xLjU4NyAwLTIuODU3LTEuMjctMi44NTctMi43Nzd6bS03LjMzOC0xLjQyOWg1LjE5NnMtNC45NTggMTcuOTctNS42MzIgMjAuMDcyYy0uNTU2IDEuNjI3LTEuNzg2IDIuOTM2LTMuNjUgMi45MzYtMi4xMDIgMC0zLjA5NC0xLjU0Ny0zLjU3LTIuOTM2LS40MzYtMS40MjgtMy42NS0xMy4yODgtMy42NS0xMy4yODhzLTMuMjEzIDExLjg2LTMuNjg5IDEzLjI4OGMtLjQzNiAxLjM4OS0xLjQyOCAyLjkzNi0zLjU3IDIuOTM2LTEuODI0IDAtMy4wOTQtMS4zMS0zLjYxLTIuOTM2LS42NzQtMi4xMDItNS42MzItMjAuMDcyLTUuNjMyLTIwLjA3Mmg1LjE1N2w0LjMyMyAxNi44NnMzLjI5My0xMi42NTUgMy44MDgtMTQuNDhjLjU1Ni0xLjc4NSAxLjYyNy0yLjU3OCAzLjIxNC0yLjU3OCAxLjU0NyAwIDIuNjU3Ljc5MyAzLjE3MyAyLjU3OC41NTUgMS44MjUgMy44NDggMTQuNDggMy44NDggMTQuNDhsNC4yODQtMTYuODZ6IiBmaWxsPSIjRkZGIiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KICAgIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjMERBREVBIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0ibm9uemVybyI+CiAgICAgICAgPHBhdGggZmlsbD0iIzE5MUExQyIgZD0iTTAgMGgxMTB2MTEwSDB6Ii8+CiAgICAgICAgPHBhdGggZD0iTTI3IDM0LjkyOWwyMi44ODUtMy4xMDcuMDEgMjIuMDA2LTIyLjg3NC4xM0wyNyAzNC45Mjh6bTIyLjg3NSAyMS40MzVsLjAxNyAyMi4wMjYtMjIuODc0LTMuMTM1LS4wMDItMTkuMDM5IDIyLjg1OS4xNDh6bTIuNzc0LTI0Ljk0OUw4Mi45OTMgMjd2MjYuNTQ4bC0zMC4zNDQuMjRWMzEuNDE2ek04MyA1Ni41NzFMODIuOTkzIDgzbC0zMC4zNDQtNC4yNy0uMDQzLTIyLjIwOCAzMC4zOTQuMDV6IiBmaWxsPSIjRTgxMTIzIi8+CiAgICA8L2c+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTEwIiBoZWlnaHQ9IjExMCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICAgIDxkZWZzPgogICAgICAgIDxyYWRpYWxHcmFkaWVudCBjeD0iNDMuNTQxJSIgY3k9IjM0LjQzNiUiIGZ4PSI0My41NDElIiBmeT0iMzQuNDM2JSIgcj0iNjUuNTY0JSIgZ3JhZGllbnRUcmFuc2Zvcm09Im1hdHJpeCgwIDEgLTEuMDU2MiAwIC44IC0uMDkxKSIgaWQ9ImEiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGOUY5RjkiIG9mZnNldD0iMjcuNDQlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM2NjYiIG9mZnNldD0iMTAwJSIvPgogICAgICAgIDwvcmFkaWFsR3JhZGllbnQ+CiAgICAgICAgPHJhZGlhbEdyYWRpZW50IGN4PSI0NS4wODQlIiBjeT0iMzkuMzg5JSIgZng9IjQ1LjA4NCUiIGZ5PSIzOS4zODklIiByPSI3Mi4wNCUiIGlkPSJiIj4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIwIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iMCIgb2Zmc2V0PSI1NS43ODclIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiNGRkYiIHN0b3Atb3BhY2l0eT0iLjYiIG9mZnNldD0iNzQuNjUzJSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjRkZGIiBzdG9wLW9wYWNpdHk9Ii42IiBvZmZzZXQ9Ijg4LjQ0MyUiLz4KICAgICAgICAgICAgPHN0b3Agc3RvcC1jb2xvcj0iI0ZGRiIgc3RvcC1vcGFjaXR5PSIuNSIgb2Zmc2V0PSIxMDAlIi8+CiAgICAgICAgPC9yYWRpYWxHcmFkaWVudD4KICAgICAgICA8bGluZWFyR3JhZGllbnQgeDE9IjY4LjkzNSUiIHkxPSI4LjU0NCUiIHgyPSIzNS4xMDQlIiB5Mj0iNDcuMDU1JSIgaWQ9ImMiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImQiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgICAgIDxsaW5lYXJHcmFkaWVudCB4MT0iMjcuMzQ3JSIgeTE9IjUwLjg5OCUiIHgyPSI3Ny45MzglIiB5Mj0iNjUuMTk4JSIgaWQ9ImUiPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjMUU3RTAxIiBvZmZzZXQ9IjAlIi8+CiAgICAgICAgICAgIDxzdG9wIHN0b3AtY29sb3I9IiM3MkMwMjgiIG9mZnNldD0iNjAuMzk5JSIvPgogICAgICAgICAgICA8c3RvcCBzdG9wLWNvbG9yPSIjQTREMDU2IiBvZmZzZXQ9IjEwMCUiLz4KICAgICAgICA8L2xpbmVhckdyYWRpZW50PgogICAgPC9kZWZzPgogICAgPGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJub256ZXJvIj4KICAgICAgICA8cGF0aCBmaWxsPSIjMTkxQTFDIiBkPSJNMCAwaDExMHYxMTBIMHoiLz4KICAgICAgICA8cGF0aCBkPSJNNjEuODk1IDMwLjk4YzAgMTcuMDg4LTEzLjg1MiAzMC45NC0zMC45MzggMzAuOTRDMTMuODcgNjEuOTIuMDE5IDQ4LjA2Ny4wMTkgMzAuOTguMDE5IDEzLjg5NiAxMy44Ny4wNDQgMzAuOTU3LjA0NGMxNy4wODYgMCAzMC45MzggMTMuODUgMzAuOTM4IDMwLjkzOHoiIGZpbGw9InVybCgjYSkiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI0IDI0KSIvPgogICAgICAgIDxwYXRoIGQ9Ik02MS44OTUgMzAuOTgxYzAgMTcuMDg4LTEzLjg1MiAzMC45MzktMzAuOTM4IDMwLjkzOUMxMy44NyA2MS45Mi4wMTkgNDguMDY5LjAxOSAzMC45OC4wMTkgMTMuODk2IDEzLjg3LjA0MyAzMC45NTcuMDQzYzE3LjA4NiAwIDMwLjkzOCAxMy44NTEgMzAuOTM4IDMwLjkzOHoiIGZpbGwtb3BhY2l0eT0iLjQ1IiBmaWxsPSJ1cmwoI2IpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNOS43MzUgOC40NThjNC44OTMuOTQyIDEwLjYyMiA1LjQxNSAxMy4zMTQgOS4wMjggMS40ODUgMy44MzcgMi43OTcgNi45OTcgNC40NTIgMTAuNTA2YTE2OC40NCAxNjguNDQgMCAwIDEgMy40OTMtMi45NEwzMC45ODcgOS44MWMtMy42NDctMi4yOTQtOS42NzQtNS4zMTItMTYuMjQ0LTUuMTE1YTI5LjA4MyAyOS4wODMgMCAwIDAtNS4wMDggMy43NjJ6IiBmaWxsPSJ1cmwoI2MpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNNi42NDggNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzkgMy4xODRjLS4xNS04Ljc5MyAxMC4wNDQtMTguMjAyIDE4LTI1LjMwNmwtNC40NjgtMTAuNTMzQzE5LjY1MyAyMS42MTEgNS4zODMgMzguNiA2LjY0OSA1MC4wODZ6IiBmaWxsPSJ1cmwoI2QpIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgyNCAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzAuOTEzIDguNDU4YzQuODk0Ljk0MiAxMC42MjIgNS40MTUgMTMuMzE0IDkuMDI4IDEuNDg1IDMuODM3IDIuNzk3IDYuOTk3IDQuNDUyIDEwLjUwNmExNjguNDQgMTY4LjQ0IDAgMCAxIDMuNDkzLTIuOTRMNTIuMTY1IDkuODFjLTMuNjQ2LTIuMjk0LTkuNjczLTUuMzEyLTE2LjI0NC01LjExNWEyOS4wODMgMjkuMDgzIDAgMCAwLTUuMDA4IDMuNzYyeiIgZmlsbD0idXJsKCNjKSIgdHJhbnNmb3JtPSJtYXRyaXgoLTEgMCAwIDEgMTA3LjA4NiAyNCkiLz4KICAgICAgICA8cGF0aCBkPSJNMzQuNDYgNTAuMDg2YTMxLjI5OSAzMS4yOTkgMCAwIDAgMi44NzggMy4xODRjLS4xNS04Ljc5MyAxMC4wNDUtMTguMjAyIDE4LTI1LjMwNkw1MC44NyAxNy40MzFjLTMuNDA1IDQuMTgtMTcuNjc2IDIxLjE2OS0xNi40MSAzMi42NTV6IiBmaWxsPSJ1cmwoI2UpIiB0cmFuc2Zvcm09Im1hdHJpeCgtMSAwIDAgMSAxMTMuNzE5IDI0KSIvPgogICAgPC9nPgo8L3N2Zz4K"},function(e,t,n){e.exports={buttonBar:"ModalFooterButtonBar-buttonBar-3X6qjo"}},function(e,t,n){e.exports={menuButton:"ServerDashboardPageUserMenuButton-menuButton-DwesYt ServerDashboardUserMenuButton-menuButton-2EwifV ServerDashboardMenuButton-menuButton-1uJSv_ DisclosureArrowButton-disclosureArrowButton-11LSbY Link-link-2n0yJn"}},function(e,t,n){e.exports={scroller:"VirtualListScroller-scroller-3aWqhy"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="media-poster"></div> <p class="title"></p> <p class="complete-subtitle subtitle hidden"> <i class="glyphicon ok-2"></i> '+l(i(n(14)).call(t,"Synced",{hash:{},data:o}))+' </p> <p class="waiting-subtitle subtitle hidden"> <i class="glyphicon circle-arrow-down"></i> '+l(i(n(14)).call(t,"Waiting to be downloaded",{hash:{},data:o}))+' </p> <p class="downloading-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(14)).call(t,"Downloading",{hash:{},data:o}))+' &middot; <span class="transcode-progress"></span>% </p> <p class="converting-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(14)).call(t,"Converting",{hash:{},data:o}))+' &middot; <span class="transcode-progress"></span>% &middot; <span class="transcode-remaining"></span> </p> <p class="processing-subtitle subtitle hidden"> <i class="glyphicon more"></i> '+l(i(n(14)).call(t,"Waiting to be converted",{hash:{},data:o}))+' </p> <p class="unknown-subtitle subtitle hidden"> <i class="glyphicon circle-question-mark"></i> '+l(i(n(14)).call(t,"Unknown",{hash:{},data:o}))+' </p> <p class="failed-subtitle subtitle hidden"> <i class="glyphicon warning-sign"></i> <span class="error-message"></span> </p> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download"></i> '+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,"Sync Status",{hash:{},data:a}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4 class="sync-item-title">'+u(typeof(o=t&&t.rootTitle)===c?o.apply(t):o)+" &middot; "+u(typeof(o=t&&t.title)===c?o.apply(t):o)+"</h4> ",((o=r.if.call(t,null==(o=t&&t.Status)||!1===o?o:o.failure,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n,r="";return r+=' <p class="text-muted"><i class="glyphicon warning-sign"></i> '+u(typeof(n=null==(n=e&&e.Status)||!1===n?n:n.failure)===c?n.apply(e):n)+"</p> "},a),data:a}))||0===o)&&(l+=o),l+=' <div class="sync-status-list-container"></div> </div> </div> </div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],i=i||{};var a,o="";function s(e,t){return"hidden"}return o+='<a class="media-poster-container" href="#"> <div class="media-poster"> <div class="media-poster-overlay"></div> <div class="sync-status"> <div class="sync-status-transcode hidden"></div> <i class="sync-status-icon sync-complete-icon glyphicon ok-2 hidden"></i> <i class="sync-status-icon sync-processing-icon glyphicon more hidden"></i> <i class="sync-status-icon sync-failed-icon glyphicon warning-sign ',((a=(n=this.merge(n,e.helpers)).unless.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,s,i),data:i}))||0===a)&&(o+=a),o+='"></i> <i class="sync-status-icon sync-unknown-icon glyphicon circle-question-mark ',((a=n.if.call(t,t&&t.isFailure,{hash:{},inverse:this.noop,fn:this.program(1,s,i),data:i}))||0===a)&&(o+=a),o+='"></i> </div> <div class="media-poster-actions"> <button class="edit-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> <div class="media-context media-heading secondary"></div> </a> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="row row-loading"> <div class="loading loading-inline"></div> </div> <div class="sync-empty-message row row-padded hidden"> <h4 class="text-muted text-center"> '+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Nothing is synced to this device.",{hash:{},data:a}))+' </h4> </div> <div class="sync-device-message row hidden"> <h4 class="sync-device-message-text text-muted text-center"></h4> </div> <div class="sync-item-list-container"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t,r){var a,o="";return o+=' <li><a data-id="'+u(typeof(a=e&&e.id)===c?a.apply(e):a)+'" href="#"><span class="dropdown-truncated-label">'+u(typeof(a=e&&e.name)===c?a.apply(e):a)+"</span>",((a=i(n(38)).call(e,null==(a=r&&r.selectedDevice)||!1===a?a:a.id,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===a)&&(o+=a),o+="</a></li> "}function h(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}function f(e,t){return' <div class="row"> <div class="sync-device-container col-sm-12 col-md-12"></div> </div> '}function g(e,t){var r="";return r+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+u(i(n(14)).call(e,"You have no sync capable devices.",{hash:{},data:t}))+"</h4> </div> "}function v(e,t){var n,i="";return i+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+u(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.message)===c?n.apply(e):n)+'</h4> <p class="text-center ',((n=r.unless.call(e,null==(n=e&&e.plexPassInfo)||!1===n?n:n.showButton,{hash:{},inverse:d.noop,fn:d.program(14,m,t),data:t}))||0===n)&&(i+=n),i+='"> <a class="btn btn-sm btn-primary" href="'+u(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.url)===c?n.apply(e):n)+'" target="'+u(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.target)===c?n.apply(e):n)+'">'+u(typeof(n=null==(n=e&&e.plexPassInfo)||!1===n?n:n.buttonText)===c?n.apply(e):n)+"</a> </p> </div> "}function m(e,t){return"hidden"}function y(e,t){var r="";return r+=' <div class="row row-padded"> <h4 class="text-muted text-center">'+u(i(n(14)).call(e,"This server does not support sync.",{hash:{},data:t}))+"</h4> </div> "}return l+='<div class="filter-bar"> ',((s=r.if.call(t,t&&t.showDeviceDropdown,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var n,i="";return i+=' <span class="dropdown"> <a class="dropdown-toggle" href="#device-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+u(typeof(n=null==(n=e&&e.selectedDevice)||!1===n?n:n.name)===c?n.apply(e):n)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((n=r.each.call(e,e&&e.devices,{hash:{},inverse:d.noop,fn:d.programWithDepth(2,p,t,e),data:t}))||0===n)&&(i+=n),i+=" </ul> </span> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="filter-bar-right"> ',((s=r.if.call(t,t&&t.hasTouchScreen,{hash:{},inverse:d.noop,fn:d.program(5,function(e,t){return'<a class="edit-btn btn-gray" href="#"><i class="glyphicon pencil"></i></a>'},o),data:o}))||0===s)&&(l+=s),l+=' <a class="refresh-btn btn-gray" href="#"><i class="glyphicon repeat"></i></a> </div> </div> ',((s=r.if.call(t,t&&t.allowSync,{hash:{},inverse:d.program(12,function(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.sync,{hash:{},inverse:d.program(16,y,t),fn:d.program(13,v,t),data:t}))||0===n)&&(i+=n),i+=" "},o),fn:d.program(7,function(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.devices,{hash:{},inverse:d.program(10,g,t),fn:d.program(8,f,t),data:t}))||0===n)&&(i+=n),i+=" "},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTEyLjcwOCAxNC42NjdhNS4zNCA1LjM0IDAgMCAxLTUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzLTUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxIDUuMzMzIDUuMzMzIDUuMzM5IDUuMzM5IDAgMCAxLTUuMzMzIDUuMzMzem0wLTkuMzM0Yy0yLjIwNSAwLTQgMS43OTUtNCA0czEuNzk1IDQgNCA0IDQtMS43OTUgNC00LTEuNzk1LTQtNC00ek0yMC4wNDEgMTZjLjM3IDAgLjY2Ny4yOTkuNjY3LjY2NyAwIDQuNzM3LTEuNjk1IDguNDkyLTQuNjY3IDEwLjM3N3Y4LjI4OWEuNjY3LjY2NyAwIDAgMS0uNjY3LjY2N2gtNS4zMzNhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di04LjI4OWMtMi45NzItMS44ODQtNC42NjctNS42MzgtNC42NjctMTAuMzc3IDAtLjM2OC4yOTktLjY2Ny42NjctLjY2N2gxNC42Njd6bS03LjI4IDEuMzMzaC0uMTA4bC0uNTg5IDcuMDgxLjY0My42NDMuNjQzLS42NDMtLjU4OS03LjA4MXptMi4yODQgOC43NTRsLS4wMDEtLjAwMWMyLjYxMi0xLjQ4NSA0LjE2Ni00LjY1NCA0LjMxNy04Ljc1M2gtNS4yNjRsLjYwOCA3LjI3OWEuNjY4LjY2OCAwIDAgMS0uMTkzLjUyN2wtMS4zMzMgMS4zMzNhLjY2OS42NjkgMCAwIDEtLjQ3Mi4xOTUuNjU0LjY1NCAwIDAgMS0uNDY5LS4xOTZsLTEuMzMzLTEuMzMzYS42Ny42NyAwIDAgMS0uMTkzLS41MjdsLjYwNy03LjI3N0g2LjA1NWMuMTUxIDQuMSAxLjcwNSA3LjI2OCA0LjMxNiA4Ljc1My4yMDguMTE5LjMzNy4zNC4zMzcuNTh2OGg0di04YzAtLjI0LjEyOS0uNDYxLjMzNy0uNTh6TTM1LjMzMyA1LjMzM2MuMzY4IDAgLjY2Ny4yOTkuNjY3LjY2N3YxOC42NjdhLjY2Ny42NjcgMCAwIDEtLjY2Ny42NjdIMjIuNjY2YS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTJWNi42NjdIMjEuMzMzYS42NjcuNjY3IDAgMCAxIDAtMS4zMzRoMTR6TTIzLjAxNyAyMC41NDF2LS4wMDJhLjY2Ni42NjYgMCAwIDEtLjM5Mi0uODU2bDIuNS02LjcxN2EuNjcuNjcgMCAwIDEgLjM4NS0uMzkyLjY4LjY4IDAgMCAxIC41NDguMDMxbDMuMzg5IDEuNzcyIDEuNzUyLTUuMjU3YS42NjYuNjY2IDAgMSAxIDEuMjY0LjQyM2wtMiA2YS42Ny42NyAwIDAgMS0uMzgzLjQwOC42NzQuNjc0IDAgMCAxLS41NTctLjAyOGwtMy40MTMtMS43ODUtMi4yMzYgNi4wMTFhLjY2OS42NjkgMCAwIDEtLjg1Ny4zOTJ6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzIDQpIj4KICAgIDxwYXRoIGQ9Ik0yNSwxNiBDMjAuNTg4LDE2IDE3LDE5LjU4OCAxNywyNCBDMTcsMjguNDEyIDIwLjU4OCwzMiAyNSwzMiBDMjkuNDEyLDMyIDMzLDI4LjQxMiAzMywyNCBDMzMsMTkuNTg4IDI5LjQxMiwxNiAyNSwxNiBaIE0yNSwzMC42NjcgQzIxLjMyNCwzMC42NjcgMTguMzMzLDI3LjY3NiAxOC4zMzMsMjQgQzE4LjMzMywyMC4zMjQgMjEuMzI0LDE3LjMzMyAyNSwxNy4zMzMgQzI4LjY3NiwxNy4zMzMgMzEuNjY3LDIwLjMyNCAzMS42NjcsMjQgQzMxLjY2NywyNy42NzYgMjguNjc2LDMwLjY2NyAyNSwzMC42NjcgWiIvPgogICAgPHBhdGggZD0iTTI1LDIwIEMyMi43OTUsMjAgMjEsMjEuNzk1IDIxLDI0IEMyMSwyNi4yMDUgMjIuNzk1LDI4IDI1LDI4IEMyNy4yMDUsMjggMjksMjYuMjA1IDI5LDI0IEMyOSwyMS43OTUgMjcuMjA1LDIwIDI1LDIwIFogTTI1LDI2LjY2NyBDMjMuNTI5LDI2LjY2NyAyMi4zMzMsMjUuNDcxIDIyLjMzMywyNCBDMjIuMzMzLDIyLjUyOSAyMy41MjksMjEuMzMzIDI1LDIxLjMzMyBDMjYuNDcxLDIxLjMzMyAyNy42NjcsMjIuNTI5IDI3LjY2NywyNCBDMjcuNjY3LDI1LjQ3MSAyNi40NzEsMjYuNjY3IDI1LDI2LjY2NyBaIi8+CiAgICA8cGF0aCBkPSJNMzIuMzMzIDkuMzMzTDEuNjY2IDkuMzMzQzEuMjk4IDkuMzMzLjk5OSA5LjYzMi45OTkgMTBMLjk5OSAyNi44MDFDLjk5OSAyOC4xOTcgMi4xNTggMjkuMzMzIDMuNTgzIDI5LjMzM0wxNC4zMzIgMjkuMzMzIDE0LjMzMiAyOCAzLjU4MyAyOEMyLjg5MiAyOCAyLjMzMiAyNy40NjMgMi4zMzIgMjYuODAxTDIuMzMyIDEwLjY2NiAzMS42NjUgMTAuNjY2IDMxLjY2NSAxNS45OTMgMzIuOTk4IDE1Ljk5MyAzMi45OTggMTBDMzIuOTk4IDkuNjMyIDMyLjY5OSA5LjMzMyAzMi4zMzEgOS4zMzNMMzIuMzMzIDkuMzMzek0zMSAwTDMgMEMxLjg5NyAwIDEgLjg5NyAxIDIuMDAxTDEgNy4zMzNDMSA3LjcwMSAxLjI5OSA4IDEuNjY3IDhMMzIuMzM0IDhDMzIuNzAyIDggMzMuMDAxIDcuNzAxIDMzLjAwMSA3LjMzM0wzMy4wMDEgMi4wMDFDMzMuMDAxLjg5NyAzMi4xMDQgNC40NDA4OTIxZS0xNiAzMS4wMDEgNC40NDA4OTIxZS0xNkwzMSAwek0zMS42MiAxLjc3MkwyNi43MjUgNi42NjcgMjMuMjc3IDYuNjY3IDI4LjYxIDEuMzM0IDMwLjk5OSAxLjMzNEMzMS4yODYgMS4zMzQgMzEuNTI2IDEuNTE4IDMxLjYxOSAxLjc3M0wzMS42MiAxLjc3MnpNMTIuNjExIDEuMzMzTDE2LjA1OSAxLjMzMyAxMC43MjYgNi42NjYgNy4yNzggNi42NjYgMTIuNjExIDEuMzMzek01LjM5MiA2LjY2N0wyLjYxMSA2LjY2NyA3Ljk0NCAxLjMzNCAxMC43MjUgMS4zMzQgNS4zOTIgNi42Njd6TTE3Ljk0NCAxLjMzM0wyMS4zOTIgMS4zMzMgMTYuMDU5IDYuNjY2IDEyLjYxMSA2LjY2NiAxNy45NDQgMS4zMzN6TTIzLjI3NyAxLjMzM0wyNi43MjUgMS4zMzMgMjEuMzkyIDYuNjY2IDE3Ljk0NCA2LjY2NiAyMy4yNzcgMS4zMzN6TTMgMS4zMzNMNi4wNTkgMS4zMzMgMi4zMzQgNS4wNTggMi4zMzQgMi4wMDFDMi4zMzQgMS42MzMgMi42MzMgMS4zMzMgMy4wMDEgMS4zMzNMMyAxLjMzM3pNMjguNjExIDYuNjY3TDMxLjY2NyAzLjYxMSAzMS42NjcgNi42NjcgMjguNjExIDYuNjY3eiIvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMCA0KSI+CiAgICA8cGF0aCBkPSJNMTUuOTUxLDE2LjQ0NCBDMTUuODUsMTYuMTkzIDE1LjYwOCwxNi4wMjkgMTUuMzM5LDE2LjAyOCBMMTIuNjY3LDE2LjAwNSBMMTIuNjY3LDEwIEMxMi42NjcsOS42MzIgMTIuMzY4LDkuMzMzIDEyLDkuMzMzIEw4LDkuMzMzIEM3LjYzMiw5LjMzMyA3LjMzMyw5LjYzMiA3LjMzMywxMCBMNy4zMzMsMTYgTDQuNjEsMTYgQzQuMzQxLDE2IDQuMDk3LDE2LjE2MyAzLjk5NCwxNi40MTIgQzMuODksMTYuNjYxIDMuOTQ3LDE2Ljk0OCA0LjEzOCwxNy4xMzkgTDkuNDcxLDIyLjQ3MiBDOS42MDIsMjIuNjAxIDkuNzcyLDIyLjY2NyA5Ljk0MywyMi42NjcgQzEwLjExMSwyMi42NjcgMTAuMjgsMjIuNjAzIDEwLjQxMSwyMi40NzUgTDE1LjgsMTcuMTcgQzE1Ljk5MiwxNi45ODEgMTYuMDUyLDE2LjY5NSAxNS45NDksMTYuNDQ1IEwxNS45NTEsMTYuNDQ0IFogTTkuOTQ4LDIxLjA2MSBMNi4yMiwxNy4zMzMgTDgsMTcuMzMzIEM4LjM2OCwxNy4zMzMgOC42NjcsMTcuMDM0IDguNjY3LDE2LjY2NiBMOC42NjcsMTAuNjY2IEwxMS4zMzQsMTAuNjY2IEwxMS4zMzQsMTYuNjY2IEMxMS4zMzQsMTcuMDMxIDExLjYyOSwxNy4zMyAxMS45OTUsMTcuMzMzIEwxMy43MTksMTcuMzQ4IEw5Ljk0OCwyMS4wNjEgWiIvPgogICAgPHBhdGggZD0iTTE2LDcuODg4NjA5MDVlLTMxIEw0LDcuODg4NjA5MDVlLTMxIEMyLjE2Myw3Ljg4ODYwOTA1ZS0zMSAwLjY2NywxLjQ5NSAwLjY2NywzLjMzMyBMMC42NjcsMjguNjY2IEMwLjY2NywzMC41MDUgMi4xNjMsMzEuOTk5IDQsMzEuOTk5IEwxNiwzMS45OTkgQzE3LjgzNywzMS45OTkgMTkuMzMzLDMwLjUwNCAxOS4zMzMsMjguNjY2IEwxOS4zMzMsMy4zMzMgQzE5LjMzMywxLjQ5NCAxNy44MzcsLTEuNzc2MzU2ODRlLTE1IDE2LDcuODg4NjA5MDVlLTMxIFogTTIsNi42NjcgTDE4LDYuNjY3IEwxOCwyNS4zMzQgTDIsMjUuMzM0IEwyLDYuNjY3IFogTTQsMS4zMzMgTDE2LDEuMzMzIEMxNy4xMDMsMS4zMzMgMTgsMi4yMyAxOCwzLjMzMyBMMTgsNS4zMzMgTDIsNS4zMzMgTDIsMy4zMzMgQzIsMi4yMyAyLjg5NywxLjMzMyA0LDEuMzMzIFogTTE2LDMwLjY2NyBMNCwzMC42NjcgQzIuODk3LDMwLjY2NyAyLDI5Ljc3IDIsMjguNjY3IEwyLDI2LjY2NyBMMTgsMjYuNjY3IEwxOCwyOC42NjcgQzE4LDI5Ljc3IDE3LjEwMywzMC42NjcgMTYsMzAuNjY3IFoiLz4KICAgIDxwYXRoIGQ9Ik02LjY2NyA0TDEzLjMzNCA0QzEzLjcwMiA0IDE0LjAwMSAzLjcwMSAxNC4wMDEgMy4zMzMgMTQuMDAxIDIuOTY1IDEzLjcwMiAyLjY2NiAxMy4zMzQgMi42NjZMNi42NjcgMi42NjZDNi4yOTkgMi42NjYgNiAyLjk2NSA2IDMuMzMzIDYgMy43MDEgNi4yOTkgNCA2LjY2NyA0ek0xMS4zMzMgMjguNjY3QzExLjMzMyAyOS40MDMgMTAuNzM2IDMwIDEwIDMwIDkuMjY0IDMwIDguNjY3IDI5LjQwMyA4LjY2NyAyOC42NjcgOC42NjcgMjcuOTMxIDkuMjY0IDI3LjMzNCAxMCAyNy4zMzQgMTAuNzM2IDI3LjMzNCAxMS4zMzMgMjcuOTMxIDExLjMzMyAyOC42Njd6Ii8+CiAgPC9nPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgdmlld0JveD0iMCAwIDQwIDQwIj4KICA8ZyBmaWxsPSIjQ0M3QjE5IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSg0IDQpIj4KICAgIDxwYXRoIGQ9Ik0xMi41MzIgMTUuMjcyQzExLjIzMiAxNi41NzIgMTEuMjMyIDE4LjY4OCAxMi41MzIgMTkuOTg3IDEzLjE2MyAyMC42MTYgMTMuOTk5IDIwLjk2MiAxNC44ODkgMjAuOTYyIDE1Ljc3OSAyMC45NjIgMTYuNjE2IDIwLjYxNSAxNy4yNDYgMTkuOTg3IDE4LjU0NiAxOC42ODcgMTguNTQ2IDE2LjU3MSAxNy4yNDYgMTUuMjcyIDE1Ljk4NSAxNC4wMTUgMTMuNzkzIDE0LjAxNSAxMi41MzEgMTUuMjcyTDEyLjUzMiAxNS4yNzJ6TTE2LjMwNCAxOS4wNDRDMTUuNTQ5IDE5Ljc5OSAxNC4yMzEgMTkuNzk5IDEzLjQ3NiAxOS4wNDQgMTIuNjk2IDE4LjI2NCAxMi42OTYgMTYuOTk1IDEzLjQ3NiAxNi4yMTUgMTMuODUzIDE1LjgzOCAxNC4zNTYgMTUuNjMxIDE0Ljg5MSAxNS42MzEgMTUuNDI2IDE1LjYzMSAxNS45MjcgMTUuODM4IDE2LjMwNiAxNi4yMTUgMTcuMDgzIDE2Ljk5NSAxNy4wODMgMTguMjY0IDE2LjMwNSAxOS4wNDRMMTYuMzA0IDE5LjA0NHpNNS45MzIgMjIuODE1QzUuNjcyIDIyLjU1NSA1LjI0OSAyMi41NTUgNC45ODkgMjIuODE1IDQuNzI5IDIzLjA3NSA0LjcyOSAyMy40OTggNC45ODkgMjMuNzU4TDguNzYgMjcuNTI5QzguODkxIDI3LjY2IDkuMDYxIDI3LjcyNCA5LjIzMiAyNy43MjQgOS40MDMgMjcuNzI0IDkuNTczIDI3LjY1OSA5LjcwNCAyNy41MjkgOS45NjQgMjcuMjY5IDkuOTY0IDI2Ljg0NiA5LjcwNCAyNi41ODZMNS45MzIgMjIuODE1eiIvPgogICAgPHBhdGggZD0iTTMxLjQ2MSw1LjMzMyBMMzIuMzIyLDQuNDcyIEMzMi41ODIsNC4yMTIgMzIuNTgyLDMuNzg5IDMyLjMyMiwzLjUyOSBMMjguOTg5LDAuMTk2IEMyOC43MjksLTAuMDY0IDI4LjMwNiwtMC4wNjQgMjguMDQ2LDAuMTk2IEwyNy4xODUsMS4wNTcgTDI2LjMyNCwwLjE5NiBDMjYuMDY0LC0wLjA2NCAyNS42NDEsLTAuMDY0IDI1LjM4MSwwLjE5NiBDMjUuMTIxLDAuNDU2IDI1LjEyMSwwLjg3OSAyNS4zODEsMS4xMzkgTDI2LjI0MiwyIEwyNS4xODUsMy4wNTcgTDI0LjMyNCwyLjE5NiBDMjQuMDY0LDEuOTM2IDIzLjY0MSwxLjkzNiAyMy4zODEsMi4xOTYgQzIzLjEyMSwyLjQ1NiAyMy4xMjEsMi44NzkgMjMuMzgxLDMuMTM5IEwyNC4yNDIsNCBMMjIuNzE0LDUuNTI4IEMyMi40NTQsNS43ODggMjIuNDU0LDYuMjExIDIyLjcxNCw2LjQ3MSBMMjIuOTA5LDYuNjY3IEwxOC40MjgsMTEuMTQ4IEMxNy4zMDQsMTAuNDc1IDE2LjA4OCwxMC4xMjEgMTQuODgsMTAuMTIxIEMxMi4xMDUsMTAuMTIxIDkuOTAzLDExLjkxMiA5LjMwNywxNC41NTQgQzUuNjk0LDE0LjAxIDIuODAyLDE1LjQ5MyAxLjU3NiwxOC40NDkgQzAuMjUzLDIxLjY0MiAxLjI0NywyNS42NjkgNC4wNDgsMjguNDcgQzUuOTg1LDMwLjQwNyA4LjU0LDMxLjUxOCAxMS4wNTcsMzEuNTE4IEMxMy4zMjUsMzEuNTE4IDE1LjM1NCwzMC42MTcgMTYuNjI1LDI5LjA0NiBDMTcuNSwyNy45NjMgMTguNDAyLDI2LjA5NSAxNy45NjIsMjMuMjA5IEMxOS43MTgsMjIuODA4IDIxLjE1NSwyMS42NjggMjEuODgzLDIwLjA2NCBDMjIuNzIsMTguMjE5IDIyLjUyMywxNi4wMjMgMjEuMzcsMTQuMDkyIEwyNS44NTEsOS42MTEgTDI2LjA0Niw5LjgwNiBDMjYuMzA2LDEwLjA2NiAyNi43MjksMTAuMDY2IDI2Ljk4OSw5LjgwNiBMMjguNTE3LDguMjc4IEwyOS4zNzgsOS4xMzkgQzI5LjUxLDkuMjY4IDI5LjY4MSw5LjMzNCAyOS44NTEsOS4zMzQgQzMwLjAyMSw5LjMzNCAzMC4xOTIsOS4yNjkgMzAuMzIzLDkuMTM5IEMzMC41ODMsOC44NzkgMzAuNTgzLDguNDU2IDMwLjMyMyw4LjE5NiBMMjkuNDYsNy4zMzMgTDMwLjUxNyw2LjI3NiBMMzEuMzc4LDcuMTM3IEMzMS41MDksNy4yNjggMzEuNjc5LDcuMzMzIDMxLjg1LDcuMzMzIEMzMi4wMjEsNy4zMzMgMzIuMTkxLDcuMjY4IDMyLjMyMiw3LjEzOCBDMzIuNTgyLDYuODc4IDMyLjU4Miw2LjQ1NSAzMi4zMjIsNi4xOTUgTDMxLjQ1OSw1LjMzMiBMMzEuNDYxLDUuMzMzIFogTTI2LjUxOSw4LjM5MSBMMjYuMzI0LDguMTk2IEMyNi4wNjQsNy45MzYgMjUuNjQxLDcuOTM2IDI1LjM4MSw4LjE5NiBMMjAuMDQ4LDEzLjUyOSBDMTkuODIsMTMuNzU3IDE5Ljc4OCwxNC4xMTYgMTkuOTcyLDE0LjM4MSBDMjEuMTE5LDE2LjAyOSAyMS4zOCwxNy45NDkgMjAuNjY5LDE5LjUxNCBDMjAuMDMzLDIwLjkxNyAxOC43MzYsMjEuODIzIDE3LjExLDIyLjAwNSBDMTYuOTIzLDIyLjAyNiAxNi43NTMsMjIuMTI1IDE2LjY0MywyMi4yNzggQzE2LjUzMiwyMi40MyAxNi40OTIsMjIuNjIzIDE2LjUzMiwyMi44MDYgQzE3LjAwMSwyNC45OTQgMTYuNjczLDI2Ljg2MiAxNS41ODcsMjguMjA5IEMxNC41NzEsMjkuNDY2IDEyLjkyLDMwLjE4NiAxMS4wNTYsMzAuMTg2IEM4Ljg4OSwzMC4xODYgNi42NzcsMjkuMjE3IDQuOTg5LDI3LjUyOSBDMi41NjUsMjUuMTA1IDEuNjg4LDIxLjY2MiAyLjgwNiwxOC45NjEgQzMuNjQ1LDE2LjkzNiA1LjQ4MiwxNS43NzYgNy44NDYsMTUuNzc2IEM4LjQzNSwxNS43NzYgOS4wNjMsMTUuODQ3IDkuNzEsMTUuOTg1IEM5Ljg5NCwxNi4wMiAxMC4wODcsMTUuOTg1IDEwLjIzOSwxNS44NzMgQzEwLjM5MSwxNS43NjQgMTAuNDkxLDE1LjU5NCAxMC41MTIsMTUuNDA2IEMxMC43NzEsMTMuMDgxIDEyLjU2NSwxMS40NTUgMTQuODc3LDExLjQ1NSBDMTUuOTgyLDExLjQ1NSAxNy4xMDgsMTEuODMyIDE4LjEzNCwxMi41NDYgQzE4LjM5OCwxMi43MzEgMTguNzU3LDEyLjY5OCAxOC45ODYsMTIuNDcgTDI0LjMxOSw3LjEzNyBDMjQuNTc5LDYuODc3IDI0LjU3OSw2LjQ1NCAyNC4zMTksNi4xOTQgTDI0LjEyNCw1Ljk5OSBMMjguNTE1LDEuNjA4IEwzMC45MDYsMy45OTkgTDI2LjUxNSw4LjM5IEwyNi41MTksOC4zOTEgWiIvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTM1LjMzMyAyNi42NjdoLS42NjdWMjZhNC42NzIgNC42NzIgMCAwIDAtNC42NjctNC42NjdBNC42NzIgNC42NzIgMCAwIDAgMjUuMzMyIDI2di42NjdoLS42NjdhLjY2Ny42NjcgMCAwIDAtLjY2Ny42Njd2OGMwIC4zNjguMjk5LjY2Ny42NjcuNjY3aDEwLjY2N2EuNjY3LjY2NyAwIDAgMCAuNjY3LS42Njd2LThhLjY2Ny42NjcgMCAwIDAtLjY2Ny0uNjY3aC4wMDF6TTI2LjY2NyAyNkEzLjMzOCAzLjMzOCAwIDAgMSAzMCAyMi42NjcgMy4zMzggMy4zMzggMCAwIDEgMzMuMzMzIDI2di42NjdoLTYuNjY3VjI2aC4wMDF6bTggOC42NjdoLTkuMzMzVjI4aDkuMzMzdjYuNjY3ek0zMCAyOS4zMzNoLjAwMmMuNzM0IDAgMS4zMzMuNTk4IDEuMzMzIDEuMzMzIDAgLjQ4Ny0uMjc2Ljg5Ni0uNjY3IDEuMTI4di44NzJhLjY2Ny42NjcgMCAwIDEtMS4zMzQgMHYtLjg3MmMtLjM5MS0uMjMyLS42NjctLjY0MS0uNjY3LTEuMTI4IDAtLjczNC41OTgtMS4zMzMgMS4zMzMtMS4zMzN6bS01LjM0OS0xNi42NjZoLjAwMmMwIDMuMDI4LTEuMzIxIDUuNjkzLTMuMzE3IDcuMjQ0djMuNDIzaC0xLjMzM3YtMi42MDlhNi4zMjMgNi4zMjMgMCAwIDEtMi42ODMuNjA5IDYuMzE3IDYuMzE3IDAgMCAxLTIuNjUxLS41OTV2Mi41OTVhLjY2OS42NjkgMCAwIDEtLjQ0My42MjhsLTYuNjggMi4zODVhMy4zNCAzLjM0IDAgMCAwLTIuMjExIDMuMTM5djIuNTE1aDE1LjMzM3YxLjMzM2gtMTZhLjY2Ny42NjcgMCAwIDEtLjY2Ny0uNjY3di0zLjE4MWE0LjY3NiA0LjY3NiAwIDAgMSAzLjA5Ni00LjM5NWw2LjIzNy0yLjIyOHYtMi45MzFjLTIuMDEzLTEuNTQ2LTMuMzQ5LTQuMjIyLTMuMzQ5LTcuMjY1QzkuOTg1IDcuODg4IDEzLjI3NCA0IDE3LjMxOCA0YzQuMDQ0IDAgNy4zMzMgMy44ODggNy4zMzMgOC42Njd6bS03LjMzNC03LjMzNGwtLjAwMS4wMDFjLTIuODM1IDAtNS4yMSAyLjQxNi01LjgzNSA1LjY1MWE0LjY4IDQuNjggMCAwIDAgMS44MzUuMzQ5YzEuNzQ1IDAgMy44MTUtMS4wMzUgNC40MjgtMi4yMTVhLjY2NS42NjUgMCAwIDEgLjU3OS0uMzU5LjYyNS42MjUgMCAwIDEgLjU5Mi4zMzZjMS4xMzkgMS45OTIgMi4zMzggMi42MjQgNC4yNzUgMi4yNDlsLjAyNC0uMDAxYy0uNTEyLTMuNDE0LTIuOTU4LTYuMDExLTUuODk3LTYuMDExem0tNiA3LjMzNGMwIDQuMDQ0IDIuNjkyIDcuMzMzIDYgNy4zMzNzNi0zLjI4OSA2LTcuMzMyYTYuNTA0IDYuNTA0IDAgMCAxLTEuMTEzLjExM2MtMS41OTIgMC0yLjg0NC0uNzAyLTMuOTA3LTIuMTgxLTEuMTM5IDEuMTk2LTMuMTQ3IDIuMDY3LTQuOTggMi4wNjctLjcxNCAwLTEuMzYtLjExLTEuOTg3LS4zMjEtLjAwNC4xMDgtLjAxMy4yMTMtLjAxMy4zMjF6IiBmaWxsPSIjQ0M3QjE5IiBmaWxsLXJ1bGU9Im5vbnplcm8iLz4KPC9zdmc+Cg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgPHBhdGggZD0iTTkuNDk3IDcuNDM4YS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi43NSAwYS42ODguNjg4IDAgMSAxLTEuMzc1IDAgLjY4OC42ODggMCAwIDEgMS4zNzUgMHptMi4wNjMgMTguNTZ2LS4wMDFhLjY4OC42ODggMCAxIDEgMCAxLjM3NUg3LjQzOEEzLjQ0IDMuNDQgMCAwIDEgNCAyMy45MzZ2LTE2LjVBMy40NCAzLjQ0IDAgMCAxIDcuNDM3IDRoMjEuOTk4YTMuNDQgMy40NCAwIDAgMSAzLjQzNyAzLjQzN3YxMWEuNjg4LjY4OCAwIDEgMS0xLjM3NiAwdi03LjU2Mkg1LjM3NHYxMy4wNjJjMCAxLjEzNy45MjQgMi4wNjIgMi4wNjIgMi4wNjJoOS42MjR6TTcuNDM1IDUuMzc3YTIuMDY0IDIuMDY0IDAgMCAwLTIuMDYzIDIuMDYyVjkuNWgyNi4xMjNWNy40MzhhMi4wNjQgMi4wNjQgMCAwIDAtMi4wNjItMi4wNjJINy40MzV6TTM2LjY1NCAzMC4xNWwuMDAyLS4wMDJhLjY4NS42ODUgMCAwIDEgLjI1Mi45MzhsLTIuMDYyIDMuNTcyYS42NzcuNjc3IDAgMCAxLS40MTcuMzIuNzAxLjcwMSAwIDAgMS0uNTIzLS4wN2wtMS4wOTItLjYzMmMtLjQxLjMtLjg1Mi41NTQtMS4zMTcuNzZ2MS4yNzRjMCAuMzgtLjMwOC42ODctLjY4OC42ODdoLTQuMTI0YS42ODguNjg4IDAgMCAxLS42ODgtLjY4N3YtMS4yNjhhNy4zMTEgNy4zMTEgMCAwIDEtMS4zMzctLjc2MmwtMS4xMDguNjM1YS42OS42OSAwIDAgMS0uOTM3LS4yNTJsLTIuMDYzLTMuNTcyYS42ODguNjg4IDAgMCAxIC4yNTItLjk0bDEuMDk0LS42MzRhNi4zMjggNi4zMjggMCAwIDEgLjAwMS0xLjUzNWwtMS4wOTQtLjYzMmEuNjg3LjY4NyAwIDAgMS0uMjUtLjk0bDIuMDYzLTMuNTcyYS42OS42OSAwIDAgMSAuOTM3LS4yNTJsMS4xMDUuNjM1Yy40MTgtLjMuODY2LS41NTUgMS4zMzYtLjc2MnYtMS4yNzRjMC0uMzguMzA4LS42ODcuNjg4LS42ODdoNC4xMjRjLjM4IDAgLjY4OC4zMDguNjg4LjY4N3YxLjI3NGMuNDY0LjIwNi45MDUuNDYgMS4zMTYuNzU5bDEuMDg5LS42MzJhLjY3OS42NzkgMCAwIDEgLjUyMy0uMDcuNjkuNjkgMCAwIDEgLjQxNy4zMmwyLjA2MyAzLjU3MmMuMTkuMzMuMDc3Ljc1LS4yNTIuOTRsLTEuMDk2LjYzNGMuMDU5LjUxLjA2IDEuMDI0IDAgMS41MzRsMS4wOTguNjM0em0tMi42NTYgMy4yMjZsMS4zNzMtMi4zNzktLjkwNy0uNTI0YS42ODcuNjg3IDAgMCAxLS4zMzEtLjcyYy4wNjItLjMzNi4wOTQtLjY3My4wOTQtMS4wMDNhNS41IDUuNSAwIDAgMC0uMDk1LTEuMDAyLjY4NS42ODUgMCAwIDEgLjMzLS43MjFsLjkwNy0uNTI0LTEuMzc0LTIuMzgtLjg5NS41MjFhLjY5LjY5IDAgMCAxLS43OTItLjA3MyA1Ljg0NyA1Ljg0NyAwIDAgMC0xLjc0LTEuMDA0LjY4Ny42ODcgMCAwIDEtLjQ0Ni0uNjQ0di0xLjA0OGgtMi43NXYxLjA0OGEuNjk2LjY5NiAwIDAgMS0uNDQ3LjY0OGMtLjY2Ni4yNDctMS4yOS42MDMtMS43NTYgMS4wMDNhLjY4Ny42ODcgMCAwIDEtLjc4OS4wNzRsLS45MTItLjUyNS0xLjM3NyAyLjM4My45MDQuNTI0Yy4yNS4xNDYuMzgzLjQzMy4zMzEuNzE5YTUuNDUyIDUuNDUyIDAgMCAwLS4wOTggMS4wMDJjMCAuMzM2LjAzMy42NzIuMDk2IDEuMDAyYS42ODcuNjg3IDAgMCAxLS4zMzMuNzJsLS45MDQuNTIzIDEuMzc2IDIuMzgzLjkxNi0uNTI1YS42ODYuNjg2IDAgMCAxIC43ODkuMDc1Yy40NjYuNCAxLjA5Ljc1NSAxLjc1NCAxLjAwMy4yNy4xLjQ0OS4zNTcuNDQ4LjY0NHYxLjA0OGgyLjc1di0xLjA0OGMwLS4yODcuMTgtLjU0NC40NS0uNjQ0YTUuNzQ0IDUuNzQ0IDAgMCAwIDEuNzM3LTEuMDA0LjY5LjY5IDAgMCAxIC43OTItLjA3M2wuODk5LjUyem0tNS4yNzItOC4wNjRhMy40NCAzLjQ0IDAgMCAxIDMuNDM3IDMuNDM3IDMuNDQgMy40NCAwIDAgMS0zLjQzNyAzLjQzNyAzLjQ0IDMuNDQgMCAwIDEtMy40MzctMy40MzcgMy40NCAzLjQ0IDAgMCAxIDMuNDM3LTMuNDM3em0wIDUuNWEyLjA2NCAyLjA2NCAwIDAgMCAyLjA2My0yLjA2MyAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2My0yLjA2MiAyLjA2NCAyLjA2NCAwIDAgMC0yLjA2MiAyLjA2MmMwIDEuMTM3LjkyNSAyLjA2MiAyLjA2MiAyLjA2MnoiIGZpbGw9IiNDQzdCMTkiIGZpbGwtcnVsZT0ibm9uemVybyIvPgo8L3N2Zz4K"},function(e,t,n){e.exports={group:"FormGroup-group-Gtcqpe"}},function(e,t,n){e.exports={footer:"DVRSetupModalFooter-footer-VLPNTO ModalFooter-modalFooter-30WIB5"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmNDc0MSIvPgogPHBhdGggZD0ibTE0MCAyNDRjMC04LjI0MyA1LjgzMi0xNS4zNDcgMTQtMTYuNTE2bDI4LTMuNDgzaDE5NmwyOCAzLjQ4M2M4LjE4MyAxLjE2OSAxNCA4LjI4MSAxNCAxNi41MTZ2NzJjMCA4LjI0My01LjgzMiAxNS4zNDctMTQgMTYuNTE2bC0yOCAzLjQ4M2gtMTk2bC0yOC0zLjQ4M2MtOC4xODMtMS4xNjktMTQtOC4yODEtMTQtMTYuNTE2di03MiIgc3R5bGU9ImZpbGwtb3BhY2l0eTouMTQ5MDIiLz4KIDxwYXRoIGQ9Im0zNzggMzM2aC0xOTZsLTI4LTMuNDgzYy0uNTA2LS4wNzUtMS4wMS0uMTY4LTEuNTA2LS4yODgtMS4wODktLjI2MS0yLjE0OS0uNjM3LTMuMTU5LTEuMTItMi4xMzItMS4wMTgtNC4wMi0yLjUxNC01LjUyLTQuMzQtMS4yMzEtMS41MDItMi4xOTQtMy4yMi0yLjg0MS01LjA1LS40MzQtMS4yMzItLjcyNi0yLjUxMy0uODY5LTMuODExLS4wNjMtLjU2OS0uMTA0LTEuNzE0LS4xMDQtMS43MTR2LTcyLjM5YzAgMCAuMDQxLTEuMTQ2LjEwNC0xLjcxNi4xNDQtMS4yOTkuNDM2LTIuNTgxLjg3MS0zLjgxMi42NDgtMS44MzIgMS42MTItMy41NTEgMi44NDUtNS4wNSAxLjQ5OC0xLjgyNSAzLjM4OS0zLjMyIDUuNTE5LTQuMzM4IDEuMDEtLjQ4MiAyLjA2OS0uODU3IDMuMTU2LTEuMTE5LjQ5Ny0uMTE5Ljk5OS0uMjEyIDEuNTA0LS4yODdsMjgtMy40ODNoMTk2YzAgMCAxOC42NjcgMi4zMjIgMjggMy40ODMuNTA2LjA3NSAxLjAxLjE2OCAxLjUwNi4yODggMS4wODkuMjYxIDIuMTQ5LjYzNyAzLjE1OSAxLjEyIDIuMTMyIDEuMDE4IDQuMDIgMi41MTQgNS41MiA0LjM0IDEuMjMxIDEuNTAyIDIuMTk0IDMuMjIgMi44NDEgNS4wNS40MzQgMS4yMzIuNzI2IDIuNTEzLjg2OSAzLjgxMS4wNjMuNTY5LjEwNCAxLjcxNC4xMDQgMS43MTR2NzIuMzljMCAwLS4wNDEgMS4xNDYtLjEwNCAxLjcxNi0uMTQ0IDEuMjk5LS40MzYgMi41ODEtLjg3MSAzLjgxMi0uNjQ4IDEuODMyLTEuNjEyIDMuNTUxLTIuODQ1IDUuMDUtMS40OTggMS44MjUtMy4zODkgMy4zMi01LjUxOSA0LjMzOC0xLjAxLjQ4Mi0yLjA2OS44NTctMy4xNTYgMS4xMTktLjQ5Ny4xMTktLjk5OS4yMTItMS41MDQuMjg3bC0yOCAzLjQ4M20tLjU1OC0xMDNoLTE5NC44OGMtOS4xMjQgMS4xMzUtMTguMjc4IDIuMDUyLTI3LjM3MiAzLjQwNS0uMTEzLjAxOS0uMjI2LjAzOS0uMzM4LjA2MS0uNjQxLjEzNC0xLjI2LjM0OC0xLjg0MS42NS0uOTMxLjQ4Ni0xLjc0NSAxLjE4My0yLjM4NCAyLjAxLS40OTcuNjQ4LS44ODkgMS4zNzYtMS4xNjEgMi4xNDYtLjI5OS44NDYtLjQ2MSAyLjYyOS0uNDYxIDIuNjI5bC4wMDEgNzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk3LjI4Ny43NjIuNjkyIDEuNDc5IDEuMjAyIDIuMTE0LjY3MS44MzcgMS41MjQgMS41MjggMi40OTMgMS45OTEuNTk4LjI4NiAxLjIzMi40NzkgMS44ODQuNTkybC4wODcuMDE0LjAzMi4wMDQgMjcuMzM5IDMuNDAxaDE5NC44OGMwIDAgMTguMjc4LTIuMDUyIDI3LjM3MS0zLjQwNS42ODEtLjExIDEuMzQzLS4zMDcgMS45NjYtLjYwNCAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjU1LS44MTYtMS40ODItMS40OTQtMi40MjItMS45NTYtLjYxOS0uMzA1LTEuMjc4LS41MDktMS45NTYtLjYyN2wtLjA4Ni0uMDEzLS4wMzItLjAwNS0yNy4zNC0zLjQwMW0tMTMuNDQyIDM4YzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTEyNiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6IzkxYzUzYiIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzQxNDEzZSIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6I2Y3OTQxZSIvPgo8L3N2Zz4K"},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzFlNDI1NCIvPgogPHBhdGggZD0ibTQyMCAyMzhjMC03LjcyNi02LjI3NS0xNC0xNC0xNGgtMjUyYy03LjcyNyAwLTE0IDYuMjc0LTE0IDE0djg0YzAgNy43MjcgNi4yNzMgMTQgMTQgMTRoMjUyYzcuNzI2IDAgMTQtNi4yNzMgMTQtMTR2LTg0IiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNi4xOCAyMjRjMCAwIC45NTIuMDM2IDEuNDI2LjA5IDEuMDM2LjExOSAyLjA1OS4zNTQgMy4wNDMuNzAxIDEuOTE2LjY3NSAzLjY3NSAxLjc3NCA1LjEyOCAzLjE5MiAxLjQ5MiAxLjQ1OCAyLjY1NCAzLjI0NiAzLjM3MiA1LjIwNC4zNTguOTc4LjYwNiAxLjk5Ny43MzcgMy4wMy4wNjguNTMyLjExMiAxLjYwMS4xMTIgMS42MDF2ODQuMzZjMCAwLS4wNDQgMS4wNjktLjExMiAxLjYwMS0uMTMxIDEuMDMzLS4zNzkgMi4wNTItLjczNyAzLjAzLS43MTggMS45NTgtMS44OCAzLjc0Ni0zLjM3MiA1LjIwNC0xLjQ1MyAxLjQxOC0zLjIxMiAyLjUxNy01LjEyOCAzLjE5Mi0uOTg0LjM0Ny0yLjAxLjU4Mi0zLjA0My43MDEtLjQ3NC4wNTQtMS40MjYuMDktMS40MjYuMDloLTI1Mi4zNmMwIDAtLjk1Mi0uMDM2LTEuNDI2LS4wOS0xLjAzNi0uMTE5LTIuMDU5LS4zNTQtMy4wNDMtLjcwMS0xLjkxNi0uNjc1LTMuNjc1LTEuNzc0LTUuMTI4LTMuMTkyLTEuNDkyLTEuNDU4LTIuNjU0LTMuMjQ2LTMuMzcyLTUuMjA0LS4zNTgtLjk3OC0uNjA2LTEuOTk3LS43MzctMy4wMy0uMDY4LS41MzItLjExMi0xLjYwMS0uMTEyLTEuNjAxdi04NC4zNmMwIDAgLjA0NC0xLjA2OS4xMTItMS42MDEuMTMxLTEuMDMzLjM3OS0yLjA1Mi43MzctMy4wMy43MTgtMS45NTggMS44OC0zLjc0NiAzLjM3Mi01LjIwNCAxLjQ1My0xLjQxOCAzLjIxMi0yLjUxNyA1LjEyOC0zLjE5Mi45ODQtLjM0NyAyLjAxLS41ODIgMy4wNDMtLjcwMS40NzQtLjA1NCAxLjQyNi0uMDkgMS40MjYtLjA5aDI1Mi4zNm0tMjUyLjE1IDguOTk5YzAgMC0uNDA4LjAxLS42MTEuMDMzLS40MDYuMDQ3LS44MDYuMTQ0LTEuMTg4LjI4OS0xLjM0NC41MTEtMi40MzQgMS42MTQtMi45MjggMi45NjMtLjE5NC41MjktLjMgMS42NDgtLjMgMS42NDhsLjAwMSA4NC4yYzAgMCAuMTEyIDEuMDc0LjI5OSAxLjU4Mi40OTQgMS4zNDkgMS41ODQgMi40NTIgMi45MjggMi45NjMuNTI0LjIgMS42MzguMzIgMS42MzguMzJoMjUyLjI3YzAgMCAxLjExNC0uMTIgMS42MzktLjMyIDEuMzQzLS41MTEgMi40MzMtMS42MTQgMi45MjctMi45NjMuMTg2LS41MDguMjk5LTEuNTgyLjI5OS0xLjU4MnYtODQuMjdjMCAwLS4xMi0xLjExNC0uMzItMS42MzgtLjUxMS0xLjM0NC0xLjYxNC0yLjQzNC0yLjk2My0yLjkyOC0uNTA4LS4xODctMS41ODItLjI5OS0xLjU4Mi0uMjk5bC0yNTIuMS0uMDAybTEwMS43MSA2My40MmgtNi45NjN2LTMyLjgzOGg2Ljk2M3YxMi44N2gxMy4wMXYtMTIuODdoNi45NDF2MzIuODM4aC02Ljk0MXYtMTQuMTczaC0xMy4wMXYxNC4xNzNtMzcuNTMyIDBoLTkuMjk4di0zMi44MzhoMTAuMzA5YzUuMzYxIDAgOS41MjQgMS40MTUgMTIuNDg4IDQuMjQ1IDIuOTY1IDIuODMgNC40NDggNi43ODMgNC40NDggMTEuODYgMCA1LjQwNS0xLjUzOSA5LjU0NS00LjYxNiAxMi40Mi0zLjA3NyAyLjg3NS03LjUyIDQuMzEzLTEzLjMzMSA0LjMxM20xLjM3MS0yNy4xM2gtMy43MDd2MjEuMzgzaDIuOTg4YzYuNzA4IDAgMTAuMDYtMy42MDEgMTAuMDYtMTAuODA0IDAtNy4wNS0zLjExNC0xMC41NzktOS4zNDMtMTAuNTc5IiBzdHlsZT0iZmlsbDojMzFhZmMwIi8+Cjwvc3ZnPgo="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgNTYwIDU2MCIgdmVyc2lvbj0iMS4xIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHN0eWxlPSJzdHJva2UtbWl0ZXJsaW1pdDoxLjQxNDIxO2NsaXAtcnVsZTpldmVub2RkO2ZpbGwtcnVsZTpldmVub2RkO3N0cm9rZS1saW5lam9pbjpyb3VuZCI+CiA8cmVjdCB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgc3R5bGU9ImZpbGw6IzJmMzM0ZCIvPgogPHBhdGggZD0ibTg0IDI0NGMwLTguMjQzIDUuODMyLTE1LjM0NyAxNC0xNi41MTZsNTYtMy40ODNoMjUybDU2IDMuNDgzYzguMTgzIDEuMTY5IDE0IDguMjgxIDE0IDE2LjUxNnY3MmMwIDguMjQzLTUuODMyIDE1LjM0Ny0xNCAxNi41MTZsLTU2IDMuNDgzaC0yNTJsLTU2LTMuNDgzYy04LjE4My0xLjE2OS0xNC04LjI4MS0xNC0xNi41MTZ2LTcyIiBzdHlsZT0iZmlsbC1vcGFjaXR5Oi4xNDkwMiIvPgogPHBhdGggZD0ibTQwNiAzMzZoLTI1MmwtNTYtMy40ODNjLS41MDYtLjA3NS0xLjAxLS4xNjgtMS41MDYtLjI4OC0xLjA4OS0uMjYxLTIuMTQ5LS42MzctMy4xNTktMS4xMi0yLjEzMi0xLjAxOC00LjAyLTIuNTE0LTUuNTItNC4zNC0xLjIzMS0xLjUwMi0yLjE5NC0zLjIyLTIuODQxLTUuMDUtLjQzNC0xLjIzMi0uNzI2LTIuNTEzLS44NjktMy44MTEtLjA2My0uNTY5LS4xMDQtMS43MTQtLjEwNC0xLjcxNHYtNzIuMzljMCAwIC4wNDEtMS4xNDYuMTA0LTEuNzE2LjE0NC0xLjI5OS40MzYtMi41ODEuODcxLTMuODEyLjY0OC0xLjgzMiAxLjYxMi0zLjU1MSAyLjg0NS01LjA1IDEuNDk4LTEuODI1IDMuMzg5LTMuMzIgNS41MTktNC4zMzggMS4wMS0uNDgyIDIuMDY5LS44NTcgMy4xNTYtMS4xMTkuNDk3LS4xMTkuOTk5LS4yMTIgMS41MDQtLjI4N2w1Ni0zLjQ4M2gyNTJjMCAwIDM3LjMzIDIuMzIyIDU2IDMuNDgzLjUwNi4wNzUgMS4wMS4xNjggMS41MDYuMjg4IDEuMDg5LjI2MSAyLjE0OS42MzcgMy4xNTkgMS4xMiAyLjEzMiAxLjAxOCA0LjAyIDIuNTE0IDUuNTIgNC4zNCAxLjIzMSAxLjUwMiAyLjE5NCAzLjIyIDIuODQxIDUuMDUuNDM0IDEuMjMyLjcyNiAyLjUxMy44NjkgMy44MTEuMDYzLjU2OS4xMDQgMS43MTQuMTA0IDEuNzE0djcyLjM5YzAgMC0uMDQxIDEuMTQ2LS4xMDQgMS43MTYtLjE0NCAxLjI5OS0uNDM2IDIuNTgxLS44NzEgMy44MTItLjY0OCAxLjgzMi0xLjYxMiAzLjU1MS0yLjg0NSA1LjA1LTEuNDk4IDEuODI1LTMuMzg5IDMuMzItNS41MTkgNC4zMzgtMS4wMS40ODItMi4wNjkuODU3LTMuMTU2IDEuMTE5LS40OTcuMTE5LS45OTkuMjEyLTEuNTA0LjI4N2wtNTYgMy40ODNtLS4yOC0xMDNoLTI1MS40NGwtNTUuMjkgMy40MzljLS4xMDMuMDE5LS4yMDYuMDQtLjMwOC4wNjMtLjYwOC4xNDItMS4xOTUuMzU2LTEuNzQ1LjY1MS0uOTUxLjUxLTEuNzc2IDEuMjQxLTIuNDEzIDIuMTExLS40NTEuNjE0LS44MDggMS4yOTUtMS4wNjIgMi4wMS0uMjk5Ljg0NS0uNDYxIDIuNjI4LS40NjEgMi42Mjh2NzIuMjhjMCAwIC4xOTMgMS44MzQuNTE5IDIuNjk4LjI4Ny43NjEuNjkyIDEuNDc4IDEuMjAyIDIuMTEzLjY3MS44MzggMS41MjQgMS41MjggMi40OTMgMS45OTEuNTYzLjI2OSAxLjE2LjQ1OSAxLjc3NC41NzJsNTUuMjkgMy40MzloMjUxLjQ0bDU1LjI5LTMuNDM5Yy42MTItLjExMyAxLjIwNy0uMzAyIDEuNzY5LS41NyAxLjAyLS40ODggMS45MS0xLjIyNiAyLjU5OC0yLjEyMi40OC0uNjI1Ljg2MS0xLjMyNSAxLjEzMi0yLjA2NS4zMTctLjg2OS40OS0yLjcxLjQ5LTIuNzFsLS4wMDEtNzIuMjhjMCAwLS4xOTMtMS44MzQtLjUxOS0yLjY5OC0uMjg3LS43NjEtLjY5Mi0xLjQ3OC0xLjIwMS0yLjExMy0uNjcyLS44MzgtMS41MjUtMS41MjgtMi40OTUtMS45OTItLjU2My0uMjY5LTEuMTYtLjQ1OC0xLjc3My0uNTcxbC01NS4yOS0zLjQzOW0tNDEuNzIgMzhjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOW0tNDIgMGM0Ljk2NyAwIDkgNC4wMyA5IDkgMCA0Ljk2Ny00LjAzIDktOSA5LTQuOTY3IDAtOS00LjAzLTktOSAwLTQuOTY3IDQuMDMtOSA5LTltLTg0IDBjNC45NjcgMCA5IDQuMDMgOSA5IDAgNC45NjctNC4wMyA5LTkgOS00Ljk2NyAwLTktNC4wMy05LTkgMC00Ljk2NyA0LjAzLTkgOS05bS00MiAwYzQuOTY3IDAgOSA0LjAzIDkgOSAwIDQuOTY3LTQuMDMgOS05IDktNC45NjcgMC05LTQuMDMtOS05IDAtNC45NjcgNC4wMy05IDktOSIgc3R5bGU9ImZpbGw6Izk0NTA4ZCIvPgo8L3N2Zz4K"},function(e,t,n){e.exports={image:"DVRDeviceImage-image-1q4Bgj"}},function(e,t,n){e.exports={help:"FormHelp-help-3VCuqa"}},function(e,t,n){e.exports={input:"NumberInputGroup-input-yz7KYn TextInput-input-1VMuma input-input-1P2Vi4"}},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDE8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTEwNzguMDAwMDAwKSI+CiAgICAgICAgICAgIDxnIGlkPSJTdHJlbmd0aC1JbmRpY2F0b3JzIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgxMzc4LjAwMDAwMCwgNzU4LjAwMDAwMCkiPgogICAgICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLS0tMSIgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMC4wMDAwMDAsIDMyMC4wMDAwMDApIj4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgZmlsbD0iIzUyNTI1MiIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5IiBmaWxsPSIjNTI1MjUyIiB4PSIyNi44MDg1MTA2IiB5PSI2LjQiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjI1LjYiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIGZpbGw9IiM1MjUyNTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIGZpbGw9IiM1MjUyNTIiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIGZpbGw9IiNEMDAyMUIiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDI8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTk5OC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0yIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMjQwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iIzUyNTI1MiIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5ODkwMCIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5ODkwMCIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDM8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTkxOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS0zIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgMTYwLjAwMDAwMCkiPgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS01IiBmaWxsPSIjNTI1MjUyIiB4PSIzNS43NDQ2ODA5IiB5PSIwIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIzMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIGZpbGw9IiM1MjUyNTIiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMiIgZmlsbD0iI0Y5QkUwMyIgeD0iMTcuODcyMzQwNCIgeT0iMTIuOCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTkuMiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktMyIgZmlsbD0iI0Y5QkUwMyIgeD0iOC45MzYxNzAyMSIgeT0iMTkuMiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMTIuOCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNCIgZmlsbD0iI0Y5QkUwMyIgeD0iMCIgeT0iMjUuNiIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iNi40IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgPC9nPgogICAgICAgICAgICA8L2c+CiAgICAgICAgPC9nPgogICAgPC9nPgo8L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDQ8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTgzOC4wMDAwMDApIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS00IiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwLjAwMDAwMCwgODAuMDAwMDAwKSI+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTUiIGZpbGw9IiM1MjUyNTIiIHg9IjM1Ljc0NDY4MDkiIHk9IjAiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjMyIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weSIgZmlsbD0iI0FDRDMyMSIgeD0iMjYuODA4NTEwNiIgeT0iNi40IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIyNS42IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0yIiBmaWxsPSIjQUNEMzIxIiB4PSIxNy44NzIzNDA0IiB5PSIxMi44IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxOS4yIiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS0zIiBmaWxsPSIjQUNEMzIxIiB4PSI4LjkzNjE3MDIxIiB5PSIxOS4yIiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSIxMi44IiByeD0iMy4xMjc2NTk1NyI+PC9yZWN0PgogICAgICAgICAgICAgICAgICAgIDxyZWN0IGlkPSJSZWN0YW5nbGUtQ29weS00IiBmaWxsPSIjQUNEMzIxIiB4PSIwIiB5PSIyNS42IiB3aWR0aD0iNi4yNTUzMTkxNSIgaGVpZ2h0PSI2LjQiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICA8L2c+CiAgICAgICAgICAgIDwvZz4KICAgICAgICA8L2c+CiAgICA8L2c+Cjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz4KPHN2ZyB3aWR0aD0iNDJweCIgaGVpZ2h0PSIzMnB4IiB2aWV3Qm94PSIwIDAgNDIgMzIiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+CiAgICA8IS0tIEdlbmVyYXRvcjogU2tldGNoIDQ5LjMgKDUxMTY3KSAtIGh0dHA6Ly93d3cuYm9oZW1pYW5jb2RpbmcuY29tL3NrZXRjaCAtLT4KICAgIDx0aXRsZT5TdHJlbmd0aCAtIDU8L3RpdGxlPgogICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+CiAgICA8ZGVmcz48L2RlZnM+CiAgICA8ZyBpZD0iUGFnZS0xIiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4KICAgICAgICA8ZyBpZD0iMS4xLVNpZ25hbC1TdHJlbmd0aC1NYW5hZ2UtQ2hhbm5lbHMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xMzc4LjAwMDAwMCwgLTc1OC4wMDAwMDApIiBmaWxsPSIjN0VEMzIxIj4KICAgICAgICAgICAgPGcgaWQ9IlN0cmVuZ3RoLUluZGljYXRvcnMiIHRyYW5zZm9ybT0idHJhbnNsYXRlKDEzNzguMDAwMDAwLCA3NTguMDAwMDAwKSI+CiAgICAgICAgICAgICAgICA8ZyBpZD0iU3RyZW5ndGgtLS01Ij4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHkiIHg9IjI2LjgwODUxMDYiIHk9IjYuNCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMjUuNiIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgICAgICA8cmVjdCBpZD0iUmVjdGFuZ2xlLUNvcHktNSIgeD0iMzUuNzQ0NjgwOSIgeT0iMCIgd2lkdGg9IjYuMjU1MzE5MTUiIGhlaWdodD0iMzIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTIiIHg9IjE3Ljg3MjM0MDQiIHk9IjEyLjgiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjE5LjIiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTMiIHg9IjguOTM2MTcwMjEiIHk9IjE5LjIiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjEyLjgiIHJ4PSIzLjEyNzY1OTU3Ij48L3JlY3Q+CiAgICAgICAgICAgICAgICAgICAgPHJlY3QgaWQ9IlJlY3RhbmdsZS1Db3B5LTQiIHg9IjAiIHk9IjI1LjYiIHdpZHRoPSI2LjI1NTMxOTE1IiBoZWlnaHQ9IjYuNCIgcng9IjMuMTI3NjU5NTciPjwvcmVjdD4KICAgICAgICAgICAgICAgIDwvZz4KICAgICAgICAgICAgPC9nPgogICAgICAgIDwvZz4KICAgIDwvZz4KPC9zdmc+"},function(e,t,n){e.exports={signalStrength:"SignalStrength-signalStrength-33wP3p"}},function(e,t,n){e.exports={message:"DVRSetupDeviceInfoMessage-message-2ozwdN"}},function(e,t,n){e.exports={resolution:"EPGChannelResolution-resolution-rYFHtf Badge-badge-21NQRi"}},function(e,t,n){e.exports={modal:"DVRSetupModal-modal-3IeKFJ Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},function(e,t,n){e.exports={form:"DVRSettingsModalContent-form-2-MX9z"}},function(e,t,n){e.exports={container:"LiveTVSettingsPage-container-KCZxGV"}},function(e,t,n){e.exports={icon:"ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},function(e,t,n){e.exports={input:"ShareLibraryServerLibrariesServerTitle-input-3rS3_g CheckInput-label-2yG4rI"}},function(e,t,n){e.exports={input:"ShareLibraryServerLibrary-input-2DX0IC CheckInput-input-1Pi_2g"}},function(e,t,n){"use strict";e.exports=n(1410).default},function(e,t,n){e.exports={container:"AutosuggestInput-container-20ylXd",input:"AutosuggestInput-input-1--lBD",suggestionsContainer:"AutosuggestInput-suggestionsContainer-3jInGa Scroller-scroller-3GqQcZ Scroller-vertical-VScFLT Menu-menu-3XnN6J",containerOpen:"AutosuggestInput-containerOpen-13PxWt",suggestionsList:"AutosuggestInput-suggestionsList-2NO4yX",suggestion:"AutosuggestInput-suggestion-1Q-8mZ MenuItem-menuItem-1s02mQ",suggestionHighlighted:"AutosuggestInput-suggestionHighlighted-3YxSr7"}},function(e,t,n){e.exports={subtitle:"ShareLibraryRestrictionsSelectInputItem-subtitle-1h_pZ_"}},function(e,t,n){"undefined"!=typeof self&&self,e.exports=function(){return t=[function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(i,a){function o(e){try{l(r.next(e))}catch(e){a(e)}}function s(e){try{l(r.throw(e))}catch(e){a(e)}}function l(e){e.done?i(e.value):new n(function(t){t(e.value)}).then(o,s)}l((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){var n,r,i,a,o={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return a={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function s(a){return function(s){return function(a){if(n)throw new TypeError("Generator is already executing.");for(;o;)try{if(n=1,r&&(i=2&a[0]?r.return:a[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,a[1])).done)return i;switch(r=0,i&&(a=[2&a[0],i.value]),a[0]){case 0:case 1:i=a;break;case 4:return o.label++,{value:a[1],done:!1};case 5:o.label++,r=a[1],a=[0];continue;case 7:a=o.ops.pop(),o.trys.pop();continue;default:if(!(i=0<(i=o.trys).length&&i[i.length-1])&&(6===a[0]||2===a[0])){o=0;continue}if(3===a[0]&&(!i||a[1]>i[0]&&a[1]<i[3])){o.label=a[1];break}if(6===a[0]&&o.label<i[1]){o.label=i[1],i=a;break}if(i&&o.label<i[2]){o.label=i[2],o.ops.push(a);break}i[2]&&o.ops.pop(),o.trys.pop();continue}a=t.call(e,o)}catch(e){a=[6,e],r=0}finally{n=i=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}([a,s])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(1);t.DT=a.DT;var o=function(e){},s=!0,l=function(){(console.warn||console.log).apply(console,arguments)}.bind("[clipboard-polyfill]"),c="text/plain";function u(e){o=e}function d(){s=!1,a.suppressDTWarnings()}function p(e){return r(this,void 0,void 0,function(){var t;return i(this,function(n){if(s&&!e.getData(c)&&l("clipboard.write() was called without a `text/plain` data type. On some platforms, this may result in an empty clipboard. Call clipboard.suppressWarnings() to suppress this warning."),w()){if(function(e){var t=e.getData(c);if(void 0===t)throw"No `text/plain` value was specified.";return window.clipboardData.setData("Text",t)}(e))return[2];throw"Copying failed, possibly because the user rejected it."}if(S(e))return o("regular execCopy worked"),[2];if(-1<navigator.userAgent.indexOf("Edge"))return o('UA "Edge" => assuming success'),[2];if(I(document.body,e))return o("copyUsingTempSelection worked"),[2];if(function(e){var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important"),t.textContent="temporary element",document.body.appendChild(t);var n=I(t,e);return document.body.removeChild(t),n}(e))return o("copyUsingTempElem worked"),[2];if(void 0!==(t=e.getData(c))&&function(e){o("copyTextUsingDOM");var t=document.createElement("div");t.setAttribute("style","-webkit-user-select: text !important");var n=t;t.attachShadow&&(o("Using shadow DOM."),n=t.attachShadow({mode:"open"}));var r=document.createElement("span");r.innerText=e,n.appendChild(r),document.body.appendChild(t),C(r);var i=document.execCommand("copy");return M(),document.body.removeChild(t),i}(t))return o("copyTextUsingDOM worked"),[2];throw"Copy command failed."})})}function h(e){return r(this,void 0,void 0,function(){return i(this,function(t){return navigator.clipboard&&navigator.clipboard.writeText?(o("Using `navigator.clipboard.writeText()`."),[2,navigator.clipboard.writeText(e)]):[2,p(D(e))]})})}function f(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){switch(t.label){case 0:return e=D,[4,g()];case 1:return[2,e.apply(void 0,[t.sent()])]}})})}function g(){return r(this,void 0,void 0,function(){return i(this,function(e){if(navigator.clipboard&&navigator.clipboard.readText)return o("Using `navigator.clipboard.readText()`."),[2,navigator.clipboard.readText()];if(w())return o("Reading text using IE strategy."),[2,function(){return r(this,void 0,void 0,function(){var e;return i(this,function(t){if(""===(e=window.clipboardData.getData("Text")))throw"Empty clipboard or could not read plain text from clipboard";return[2,e]})})}()];throw"Read is not supported in your browser."})})}t.setDebugLog=u,t.suppressWarnings=d,t.write=p,t.writeText=h,t.read=f,t.readText=g;var v=!1;function m(){v||(s&&l('The deprecated default object of `clipboard-polyfill` was called. Please switch to `import * as clipboard from "clipboard-polyfill"` and see https://github.com/lgarron/clipboard-polyfill/issues/101 for more info.'),v=!0)}var y=function(){function e(){}return e.setDebugLog=function(e){return m(),u(e)},e.suppressWarnings=function(){return m(),d()},e.write=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return m(),[2,p(e)]})})},e.writeText=function(e){return r(this,void 0,void 0,function(){return i(this,function(t){return m(),[2,h(e)]})})},e.read=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return m(),[2,f()]})})},e.readText=function(){return r(this,void 0,void 0,function(){return i(this,function(e){return m(),[2,g()]})})},e.DT=a.DT,e}();t.default=y;var b=function(){this.success=!1};function S(e){var t=new b,n=function(e,t,n){o("listener called"),e.success=!0,t.forEach(function(t,r){var i=n.clipboardData;i.setData(r,t),r===c&&i.getData(r)!=t&&(o("setting text/plain failed"),e.success=!1)}),n.preventDefault()}.bind(this,t,e);document.addEventListener("copy",n);try{document.execCommand("copy")}finally{document.removeEventListener("copy",n)}return t.success}function I(e,t){C(e);var n=S(t);return M(),n}function C(e){var t=document.getSelection();if(t){var n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}}function M(){var e=document.getSelection();e&&e.removeAllRanges()}function D(e){var t=new a.DT;return t.setData(c,e),t}function w(){return"undefined"==typeof ClipboardEvent&&void 0!==window.clipboardData&&void 0!==window.clipboardData.setData}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=["text/plain","text/html"],i=function(){(console.warn||console.log).call(arguments)}.bind(console,"[clipboard-polyfill]"),a=!0;t.suppressDTWarnings=function(){a=!1};var o=function(){function e(){this.m={}}return e.prototype.setData=function(e,t){a&&-1===r.indexOf(e)&&i("Unknown data type: "+e,"Call clipboard.suppressWarnings() to suppress this warning."),this.m[e]=t},e.prototype.getData=function(e){return this.m[e]},e.prototype.forEach=function(e){for(var t in this.m)e(this.m[t],t)},e}();t.DT=o}],n={},e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(e){return t[e]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=0);function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var t,n}()},function(e,t,n){e.exports={pageHeader:"PageHeader-pageHeader-14-NYz"}},function(e,t,n){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-OxyzPN"}},function(e,t,n){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-2a8wuj"}},function(e,t,n){e.exports={separator:"MenuSeparator-separator-vr6OLv"}},function(e,t,n){e.exports={input:"ServerLogFilterInput-input-1ueuPd TextInput-input-1VMuma input-input-1P2Vi4"}},function(e,t,n){e.exports={icon:"ServerIsClaimedIcon-icon-dQsVa9"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this.escapeExpression;return o+='<a class="btn-gray" data-identifier="',o+=s((a=n.identifier)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.identifier)?a.call(t,{hash:{},data:i}):a)+'" href="#">',o+=s((a=n.name)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.name)?a.call(t,{hash:{},data:i}):a)+"</a> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o,s="";return s+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon circle-info"></i> '+(0,this.escapeExpression)("function"==typeof(a=null==(a=t&&t.agent)||!1===a?a:a.name)?a.apply(t):a)+' </h4> </div> <div class="modal-body"> <p class="agent-icon-container"></p> <p>',((a=(o=n.attribution)?o.call(t,{hash:{},data:i}):"function"==typeof(o=t&&t.attribution)?o.call(t,{hash:{},data:i}):o)||0===a)&&(s+=a),s+="</p> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon cogwheel"></i> ',((s=i(n(38)).call(t,t&&t.title,"Preferences...",{hash:{},inverse:this.program(3,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"{1} Settings",e&&e.escapedTitle,{hash:{},data:t}))+" "},o),fn:this.program(1,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Directory Settings",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </h4> </div> <form id="channel-settings-form"> <div class="modal-body settings-container"> ',((s=r.each.call(t,t&&t.settings,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var r="";return r+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="modal-footer"> <button type="button" class="cancel-btn btn btn-lg btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(t,"Save",{hash:{},data:o}))+"</span> </button> </div> </form> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c=this.escapeExpression;return l+='<div class="card-actions"> <button class="info-btn card-action-btn"><i class="glyphicon circle-info"></i></button> <button class="settings-btn card-action-btn"><i class="glyphicon cogwheel"></i></button> </div> <div class="card-handle"><i class="glyphicon show-lines"></i></div> <label for="'+c("function"==typeof(o=t&&t.identifier)?o.apply(t):o)+'"> <input id="'+c("function"==typeof(o=t&&t.identifier)?o.apply(t):o)+'" name="'+c("function"==typeof(o=t&&t.identifier)?o.apply(t):o)+'" type="checkbox" ',((o=r.if.call(t,t&&t.enabled,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"checked"},a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.isPrimary,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){return"disabled"},a),data:a}))||0===o)&&(l+=o),l+="> "+c((s=n(14),s&&(s.__esModule?s.default:s)).call(t,t&&t.name,{hash:{},data:a}))+" </label> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this,u="function",d=this.escapeExpression;function p(e,t){return"active"}return l+='<ul class="agent-types-nav nav nav-pills"> ',((s=r.each.call(t,t&&t.agentTypes,{hash:{},inverse:c.noop,fn:c.programWithDepth(1,function(e,t,r){var a,o="";return o+=' <li class="',((a=i(n(38)).call(e,null==(a=r&&r.currentType)||!1===a?a:a.id,e&&e.id,{hash:{},inverse:c.noop,fn:c.program(2,p,t),data:t}))||0===a)&&(o+=a),o+='"> <a class="btn-gray" data-type="'+d(typeof(a=e&&e.typeString)===u?a.apply(e):a)+'" href="#">'+d(i(n(14)).call(e,e&&e.plural,{hash:{},data:t}))+"</a> </li> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </ul> <div class="agents-list-container"></div> <p class="help-block sortable-help-block">'+d(i(n(14)).call(t,"Select which additional agents should contribute to metadata from {1}, and drag them to change the order of preference.",'<span class="agent-label"></span>',{hash:{},data:o}))+'</p> <div class="contributors-list-container"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form id="server-settings-form"> ',((s=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(t,"Save Changes",{hash:{},data:o}))+'</span> </button> <span class="form-message"></span> </div> </form> '})},function(e,t,n){e.exports={button:"ClaimServerButton-button-2r6HKX SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n="";return n+=" <li>"+u(typeof e===c?e.apply(e):e)+"</li> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+u(i(n(14)).call(t,"Plex Media Server Release Notes",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <span class="text-muted">'+u(i(n(14)).call(t,"Version {1}",t&&t.escapedVersion,{hash:{},data:o}))+"</span> ",((s=r.if.call(t,t&&t.added,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,function(e,t,a){var o,s="";return s+=' <h4 class="update-list-title">'+u(i(n(14)).call(e,"New",{hash:{},data:t}))+"</h4> <ul> ",((o=r.each.call(e,a&&a.added,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===o)&&(s+=o),s+=" </ul> "},o,t),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.fixed,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,function(e,t,a){var o,s="";return s+=' <h4 class="update-list-title">'+u(i(n(14)).call(e,"Fixes",{hash:{},data:t}))+"</h4> <ul> ",((o=r.each.call(e,a&&a.fixed,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===o)&&(s+=o),s+=" </ul> "},o,t),data:o}))||0===s)&&(l+=s),l+=" </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<a href="#" class="check-for-updates-btn label label-btn label-primary ',((s=r.unless.call(t,t&&t.canCheckForUpdate,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"active"},o),data:o}))||0===s)&&(l+=s),l+='"> <i class="label-icon glyphicon upload"></i> '+c(i(n(14)).call(t,"Check for Updates",{hash:{},data:o}))+' </a> <a href="#" class="checking-for-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(n(14)).call(t,"Checking for Updates",{hash:{},data:o}))+' </a> <a href="#" class="available-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(n(14)).call(t,"Download Updates",{hash:{},data:o}))+' </a> <span class="downloading-updates-container label label-btn label-progress active"> <i class="label-icon glyphicon download"></i> '+c(i(n(14)).call(t,"Downloading Update",{hash:{},data:o}))+' <span class="downloading-progress-container hidden">(<span class="downloading-progress-label"></span>%)</span ></span> <a href="#" class="install-updates-btn label label-btn label-primary"> <i class="label-icon glyphicon download"></i> '+c(i(n(14)).call(t,"Install Update",{hash:{},data:o}))+' </a> <a href="#" class="installing-updates-btn label label-btn label-primary active"> <i class="label-icon glyphicon upload"></i> '+c(i(n(14)).call(t,"Installing",{hash:{},data:o}))+' </a> <span class="install-info-label up-to-date-label"> <i class="success-icon glyphicon ok-2"></i> '+c(i(n(14)).call(t,"Up to date",{hash:{},data:o}))+' </span> <span class="install-info-label install-error-label"> <i class="failure-icon glyphicon circle-exclamation-mark"></i> <span class="update-error-message"></span> <a class="install-manual-link" href="https://plex.tv/downloads" target="_blank">'+c(i(n(14)).call(t,"Please install manually.",{hash:{},data:o}))+'</a> </span> <a href="#" class="release-notes-btn label label-btn label-default"> <i class="label-icon glyphicon circle-info"></i> '+c(i(n(14)).call(t,"What's New",{hash:{},data:o}))+" </a> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="sign-in-region"></div> <form id="server-settings-form"> <div class="form-group"> <h4 class="version-header"><span class="version"></span> <span class="update-region"></span></h4> </div> ',((s=r.each.call(t,t,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(t,"Save Changes",{hash:{},data:o}))+'</span> </button> <span class="form-message"></span> </div> </form> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this,d="function";function p(e,t){var r="";return r+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(n(14)).call(e,"Disconnecting server...",{hash:{},data:t}))+" </h4> "}function h(e,t){var n;return(n=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:u.program(12,m,t),fn:u.program(7,f,t),data:t}))||0===n?n:""}function f(e,t){var a,o="";return o+=' <h4 class="status-header text-danger">'+c(i(n(14)).call(e,"Not available outside your network",{hash:{},data:t}))+"</h4> ",((a=r.if.call(e,e&&e.isSignedOut,{hash:{},inverse:u.program(10,v,t),fn:u.program(8,g,t),data:t}))||0===a)&&(o+=a),o+=" "}function g(e,t){var r="";return r+=' <span class="status-description help-block">'+c(i(n(14)).call(e,"First {1}sign in{2} to access your server from anywhere.",'<a class="sign-in-link" href="#">',"</a>",{hash:{},data:t}))+"</span> "}function v(e,t){var r="";return r+=' <span class="status-description help-block">'+c(i(n(14)).call(e,"Enable to access your server from anywhere.",{hash:{},data:t}))+'</span> <button class="remote-access-enable-btn btn btn-sm btn-primary">'+c(i(n(14)).call(e,"Enable Remote Access",{hash:{},data:t}))+"</button> "}function m(e,t){var a,o="";return o+=" ",((a=i(n(38)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"unreachable",{hash:{},inverse:u.program(19,C,t),fn:u.program(13,y,t),data:t}))||0===a)&&(o+=a),o+=' <button class="remote-access-disable-btn btn btn-sm btn-default">'+c(i(n(14)).call(e,"Disable Remote Access",{hash:{},data:t}))+"</button> ",((a=r.if.call(e,null==(a=e&&e.mappingModeSetting)||!1===a?a:a.value,{hash:{},inverse:u.noop,fn:u.program(21,M,t),data:t}))||0===a)&&(o+=a),o+=" "}function y(e,t){var r,a="";return a+=' <h4 class="status-header text-danger">'+c(i(n(14)).call(e,"Not available outside your network",{hash:{},data:t}))+'</h4> <span class="unreachable-description status-description help-block">'+c(i(n(14)).call(e,"Your server is signed in to Plex, but is not reachable from outside your network. {1}Learn more{2}",'<a href="https://support.plex.tv/articles/200289506/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</span> ",((r=i(n(38)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.mappingError,"jumboframes",{hash:{},inverse:u.program(16,S,t),fn:u.program(14,b,t),data:t}))||0===r)&&(a+=r),a+=" "}function b(e,t){var r="";return r+=' <span class="jumbo-frames-description status-details help-block"> <span class="help-tip">'+c(i(n(14)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(n(14)).call(e,'It looks like the devices between your server and the internet have "jumbo frames" enabled which can cause issues with remote access. Disable jumbo frames on at least one device and try again.',{hash:{},data:t}))+" </span> "}function S(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.mappingError,"doublenat",{hash:{},inverse:u.noop,fn:u.program(17,I,t),data:t}))||0===r?r:""}function I(e,t){var r="";return r+=' <span class="double-nat-description status-details help-block"> <span class="help-tip">'+c(i(n(14)).call(e,"Tip:",{hash:{},data:t}))+"</span> "+c(i(n(14)).call(e,'It looks like your server may be connected to the internet through multiple routers or other network devices. Try connecting it directly to your primary device, or visit our support site for more information about troubleshooting this "Double-NAT" scenario. {1}Learn more{2}','<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+" </span> "}function C(e,t){var r="";return r+=' <h4 class="status-header text-success">'+c(i(n(14)).call(e,"Fully accessible outside your network",{hash:{},data:t}))+'</h4> <span class="status-description help-block"> '+c(i(n(14)).call(e,"You can access this server from signed-in Plex apps or in a browser at {1}.",'<a href="https://plex.tv/web" target="_blank">https://plex.tv/web</a>',{hash:{},data:t}))+" </span> "}function M(e,t){var r="";return r+=' <p class="remote-access-disable-message help-block"> <i class="remote-access-disable-warning-icon glyphicon circle-exclamation-mark"></i> '+c(i(n(14)).call(e,"You currently have Remote Access enabled through a manually-specified port. If you wish to disable Remote Access, you will need to remove your manual port forwarding from your router.",{hash:{},data:t}))+" </p> "}function D(e,t){var a,o="";return o+=' <div class="remote-access-advanced"> <div class="remote-access-mapping-container ',((a=r.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:u.noop,fn:u.program(25,w,t),data:t}))||0===a)&&(o+=a),o+='"> <hr> <i class="plex-image server server-xs server-logo"></i> <div class="remote-access-mapping"> <span class="mapping-label text-muted">'+c(i(n(14)).call(e,"Private",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((a=r.if.call(e,e&&e.hasPrivateAddress,{hash:{},inverse:u.program(29,T,t),fn:u.program(27,P,t),data:t}))||0===a)&&(o+=a),o+=" </span> ",((a=r.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:u.program(33,x,t),fn:u.program(31,E,t),data:t}))||0===a)&&(o+=a),o+=' <span class="mapping-label text-muted">'+c(i(n(14)).call(e,"Public",{hash:{},data:t}))+'</span> <span class="mapping-address"> ',((a=r.if.call(e,e&&e.hasPublicAddress,{hash:{},inverse:u.program(29,T,t),fn:u.program(35,O,t),data:t}))||0===a)&&(o+=a),o+=" </span> ",((a=i(n(38)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"ok",{hash:{},inverse:u.program(33,x,t),fn:u.program(31,E,t),data:t}))||0===a)&&(o+=a),o+=' <span class="mapping-internet ',((a=i(n(282)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"ok",{hash:{},inverse:u.noop,fn:u.program(37,j,t),data:t}))||0===a)&&(o+=a),o+='"> <i class="mapping-internet-icon glyphicon globe text-muted"></i> '+c(i(n(14)).call(e,"Internet",{hash:{},data:t}))+" </span> </div> </div> ",((a=r.if.call(e,e&&e.hasMappingSettings,{hash:{},inverse:u.noop,fn:u.program(39,A,t),data:t}))||0===a)&&(o+=a),o+=" </div> "}function w(e,t){return"advanced-setting"}function P(e,t){var n,r="";return r+=' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privateAddress)===d?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.privatePort)===d?n.apply(e):n)+"</span> "}function T(e,t){var r="";return r+=' <span class="mapping-empty-value">'+c(i(n(14)).call(e,"Unknown IP",{hash:{},data:t}))+"</span> "}function E(e,t){return' <i class="mapping-icon glyphicon left-arrow text-success"></i> '}function x(e,t){return' <i class="mapping-icon glyphicon remove-2 text-danger"></i> '}function O(e,t){var n,r="";return r+=' <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicAddress)===d?n.apply(e):n)+'</span> <span class="mapping-separator text-muted">:</span> <span class="mapping-value">'+c(typeof(n=null==(n=e&&e.cloudAccount)||!1===n?n:n.publicPort)===d?n.apply(e):n)+"</span> "}function j(e,t){return"unreachable"}function A(e,t){var a,o="";return o+=' <div class="remote-access-error-container ',((a=r.unless.call(e,e&&e.forceAdvanced,{hash:{},inverse:u.noop,fn:u.program(25,w,t),data:t}))||0===a)&&(o+=a),o+='"> <div class="form-inline"> <div class="checkbox"> <label class="',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:u.noop,fn:u.program(40,N,t),data:t}))||0===a)&&(o+=a),o+='"> <input type="checkbox" id="'+c(typeof(a=null==(a=e&&e.mappingModeSetting)||!1===a?a:a.id)===d?a.apply(e):a)+'" name="'+c(typeof(a=null==(a=e&&e.mappingModeSetting)||!1===a?a:a.id)===d?a.apply(e):a)+'" value="1" ',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:u.noop,fn:u.program(40,N,t),data:t}))||0===a)&&(o+=a),o+=" ",((a=r.if.call(e,null==(a=e&&e.mappingModeSetting)||!1===a?a:a.value,{hash:{},inverse:u.noop,fn:u.program(42,k,t),data:t}))||0===a)&&(o+=a),o+="> "+c(i(n(14)).call(e,"Manually specify public port",{hash:{},data:t}))+' </label> </div> <div class="form-group"> <input type="text" id="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.id)===d?a.apply(e):a)+'" name="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.id)===d?a.apply(e):a)+'" class="form-control" value="'+c(typeof(a=null==(a=e&&e.mappingPortSetting)||!1===a?a:a.value)===d?a.apply(e):a)+'" ',((a=r.unless.call(e,e&&e.canEditPort,{hash:{},inverse:u.noop,fn:u.program(40,N,t),data:t}))||0===a)&&(o+=a),o+='> </div> <button class="retry-btn btn btn-primary btn-loading" ',((a=r.if.call(e,e&&e.isUnavailable,{hash:{},inverse:u.noop,fn:u.program(40,N,t),data:t}))||0===a)&&(o+=a),o+='> <div class="loading loading-sm"></div> <span class="btn-label">',((a=i(n(38)).call(e,null==(a=e&&e.cloudAccount)||!1===a?a:a.remoteAccessState,"unreachable",{hash:{},inverse:u.program(46,R,t),fn:u.program(44,L,t),data:t}))||0===a)&&(o+=a),o+='</span> </button> </div> <p class="help-block">'+c(i(n(14)).call(e,"You may need to enable this to establish a direct connection from outside your network. You may also need to configure your router. Detailed instructions are available {1}here{2}.",'<a href="https://support.plex.tv/articles/200931138/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</p> </div> "}function N(e,t){return"disabled"}function k(e,t){return"checked"}function L(e,t){return c(i(n(14)).call(e,"Retry",{hash:{},data:t}))}function R(e,t){return c(i(n(14)).call(e,"Apply",{hash:{},data:t}))}function _(e,t){return"show-warning"}function U(e,t){var n;return c(typeof(n=e&&e.totalRateSettingValue)===d?n.apply(e):n)}function z(e,t){var r="";return r+=" "+c(i(n(33)).call(e,"setting",{hash:{idSuffix:"_c"},data:t}))+" "}return l+='<i class="remote-access-status-icon glyphicon globe"></i> <div class="remote-access-status-message"> ',((s=i(n(38)).call(t,null==(s=t&&t.cloudAccount)||!1===s?s:s.remoteAccessState,"connecting",{hash:{},inverse:u.program(3,function(e,t){var r;return(r=i(n(38)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"disconnecting",{hash:{},inverse:u.program(6,h,t),fn:u.program(4,p,t),data:t}))||0===r?r:""},o),fn:u.program(1,function(e,t){var r="";return r+=' <h4 class="status-header status-header-single"> <span class="loading loading-sm"></span> '+c(i(n(14)).call(e,"Connecting server...",{hash:{},data:t}))+" </h4> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> ",((s=i(n(282)).call(t,null==(s=t&&t.cloudAccount)||!1===s?s:s.remoteAccessState,"connecting",{hash:{},inverse:u.noop,fn:u.program(23,function(e,t){var r,a="";return a+=" ",((r=i(n(282)).call(e,null==(r=e&&e.cloudAccount)||!1===r?r:r.remoteAccessState,"disconnecting",{hash:{},inverse:u.noop,fn:u.program(24,D,t),data:t}))||0===r)&&(a+=r),a+=" "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.hasUploadLimitSettings,{hash:{},inverse:u.noop,fn:u.program(48,function(e,t){var a,o="";return o+=' <div class="remote-access-upload-container ',((a=r.unless.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:u.noop,fn:u.program(49,_,t),data:t}))||0===a)&&(o+=a),o+='"> <hr> <div class="remote-access-upload-icon-container"> <i class="remote-access-upload-icon glyphicon circle-arrow-top"></i> <i class="remote-access-upload-warning-icon glyphicon circle-exclamation-mark"></i> </div> <form id="remote-access-upload-form" class="remote-access-upload-form"> <div class="remote-access-upload-speed-header">'+c(i(n(14)).call(e,"No upload speed set",{hash:{},data:t}))+'</div> <div class="form-group"> <div class="form-inline"> <div class="form-group"> '+c(i(n(14)).call(e,"Internet upload speed",{hash:{},data:t}))+' <input type="text" id="'+c(typeof(a=e&&e.totalRateSettingID)===d?a.apply(e):a)+'" name="'+c(typeof(a=e&&e.totalRateSettingID)===d?a.apply(e):a)+'" class="remote-access-upload-speed-control form-control" value="',((a=r.if.call(e,e&&e.totalRateSettingValue,{hash:{},inverse:u.noop,fn:u.program(51,U,t),data:t}))||0===a)&&(o+=a),o+='" > '+c(i(n(14)).call(e,"Mbps",{hash:{},data:t}))+' </div> <p class="help-block"> '+c(i(n(14)).call(e,"You can use {1}speedtest.net{2} to determine your internet upload capacity.",'<a href="http://speedtest.net" target="_blank" rel="noopener noreferrer">',"</a>",{hash:{},data:t}))+" <br> "+c(i(n(14)).call(e,"Enter an upload speed here and Plex can ensure it operates within this boundary.",{hash:{},data:t}))+" </p> </div> </div> ",((a=r.each.call(e,e&&e.uploadSettings,{hash:{},inverse:u.noop,fn:u.program(53,z,t),data:t}))||0===a)&&(o+=a),o+=' <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(e,"Save Changes",{hash:{},data:t}))+'</span> </button> <span class="form-message"></span> </div> </form> </div> '},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t){e.exports=function(){return""}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="row row-padded"> <h4 class="text-muted text-center"> <p>'+l(i(n(14)).call(t,'Choose "Optimize..." on items in your library and optimized versions will appear here.',{hash:{},data:o}))+"</p> <p>"+l(i(n(14)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:o}))+"</p> </h4> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;return l+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-error-icon"><i class="glyphicon circle-exclamation-mark"></i></p> </div> <div class="col-sm-8"> <h4> ',((s=r.if.call(t,t&&t.status,{hash:{},inverse:this.program(3,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"There was a problem preparing for optimization.",{hash:{},data:t}))+" "},o),fn:this.program(1,function(e,t){var n,r="";return r+=" "+u(typeof(n=e&&e.status)===c?n.apply(e):n)+" "},o),data:o}))||0===s)&&(l+=s),l+=' </h4> <h4><a class="try-again-link" href="#">'+u(i(n(14)).call(t,"Try again",{hash:{},data:o}))+"</a></h4> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"selected"}return l+='<label class="control-label" for="convert-storage-location">'+u(i(n(14)).call(t,"Version storage location",{hash:{},data:o}))+'</label> <select id="convert-storage-location" class="storage-location-select" name="storageLocation" ',((s=r.if.call(t,t&&t.disableLocation,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){return"disabled"},o),data:o}))||0===s)&&(l+=s),l+='> <option value="-1" ',((s=i(n(38)).call(t,t&&t.selectedLocationID,-1,{hash:{},inverse:d.noop,fn:d.program(3,p,o),data:o}))||0===s)&&(l+=s),l+=">"+u(i(n(14)).call(t,"In folders with original items",{hash:{},data:o}))+"</option> ",((s=r.each.call(t,t&&t.locations,{hash:{},inverse:d.noop,fn:d.programWithDepth(5,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.id)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,r&&r.selectedLocationID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(3,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(736)).call(e,e&&e.path,50,20,{hash:{},data:t}))+"</option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,'A "Plex Versions" folder will be created in your chosen location.',{hash:{},data:o}))+"</p> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t){return"selected"}function h(e,t){var r="";return r+=" - "+c(i(n(362)).call(e,e&&e.mediaSettings,{hash:{},data:t}))}return l+='<select class="convert-target-select" name="target" ',((s=r.if.call(t,t&&t.disableTarget,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){return"disabled"},o),data:o}))||0===s)&&(l+=s),l+="> ",((s=r.each.call(t,t&&t.targets,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,function(e,t,a){var o,s="";return s+=' <option value="'+c(typeof(o=e&&e.id)===u?o.apply(e):o)+'" ',((o=i(n(38)).call(e,null==(o=a&&a.item)||!1===o?o:o.targetTagID,e&&e.id,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===o)&&(s+=o),s+="> "+c(typeof(o=e&&e.tag)===u?o.apply(e):o),((o=r.if.call(e,null==(o=e&&e.mediaSettings)||!1===o?o:o.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===o)&&(s+=o),s+=" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' <option value="-1" ',((s=r.unless.call(t,null==(s=t&&t.item)||!1===s?s:s.targetTagID,{hash:{},inverse:d.noop,fn:d.program(4,p,o),data:o}))||0===s)&&(l+=s),l+=">"+c(i(n(14)).call(t,"Custom",{hash:{},data:o}))+'</option> </select> <div class="convert-custom-target-container"> <input type="text" class="convert-target-title form-control" name="targetTitle" class="form-control" value="'+c(typeof(s=null==(s=t&&t.item)||!1===s?s:s.target)===u?s.apply(t):s)+'" placeholder="'+c(i(n(14)).call(t,"Quality Name",{hash:{},data:o}))+'"> <select class="convert-target-profile-select" name="targetProfile"> ',((s=r.each.call(t,t&&t.profiles,{hash:{},inverse:d.noop,fn:d.programWithDepth(8,function(e,t,r){var a,o="";return o+=' <option value="'+c(typeof(a=e&&e.title)===u?a.apply(e):a)+'" ',((a=i(n(38)).call(e,null==(a=r&&r.selectedProfile)||!1===a?a:a.title,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+c(typeof(a=e&&e.title)===u?a.apply(e):a)+" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <select class="convert-target-quality-select" name="targetQuality"> ',((s=r.each.call(t,t&&t.availableCustomQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,function(e,t,r){var a,o="";return o+=' <option value="'+c(typeof(a=e&&e.index)===u?a.apply(e):a)+'" ',((a=i(n(38)).call(e,null==(a=r&&r.selectedCustomQuality)||!1===a?a:a.index,e&&e.index,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+c(i(n(362)).call(e,e,{hash:{},data:t}))+" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> </div> <p class="help-block">'+c(i(n(14)).call(t,"Plex will convert your media to this quality. Each version will be stored in a separate file.",{hash:{},data:o}))+"</p> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form id="convert-form" class="settings-container"> <div class="modal-body"> <div class="form-group ',((s=r.unless.call(t,t&&t.showRemuxOnlyWarning,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"hidden"},o),data:o}))||0===s)&&(l+=s),l+='"> <p class="convert-warning help-block"> <i class="convert-warning-icon glyphicon circle-exclamation-mark"></i> <span class="convert-warning-text"> '+c(i(n(14)).call(t,"Video optimization may take a long time to complete on this server. You'll be able to use Plex normally while you wait.",{hash:{},data:o}))+' </span> </p> </div> <div class="form-group"> <label class="control-label" for="convert-title">'+c(i(n(14)).call(t,"Title",{hash:{},data:o}))+'</label> <input type="text" id="convert-title" name="title" class="form-control" value="'+c("function"==typeof(s=null==(s=t&&t.conversionItem)||!1===s?s:s.title)?s.apply(t):s)+'" placeholder="'+c("function"==typeof(s=null==(s=t&&t.conversionItem)||!1===s?s:s.title)?s.apply(t):s)+'"> </div> <div class="policy-region"></div> <div class="targets-region"></div> <div class="location-region"></div> </div> <div class="modal-footer"> <button type="button" class="btn btn-default" data-dismiss="modal">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">',((s=r.if.call(t,t&&t.isNew,{hash:{},inverse:this.program(5,function(e,t){return c(i(n(14)).call(e,"Save",{hash:{},data:t}))},o),fn:this.program(3,function(e,t){return c(i(n(14)).call(e,"Optimize",{hash:{},data:t}))},o),data:o}))||0===s)&&(l+=s),l+="</span> </button> </div> </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="loading loading-inline"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="convert-message-container row"> <div class="col-sm-3 text-center"> <p class="convert-success-icon"><i class="glyphicon ok-2"></i></p> </div> <div class="col-sm-8"> <h4>'+l(i(n(14)).call(t,"This media is being converted.",{hash:{},data:o}))+"</h4> <h4>"+l(i(n(14)).call(t,"Watch the status of the conversion {1}here{2}.",'<a class="status-link" href="#">',"</a>",{hash:{},data:o}))+"</h4> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> '+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Optimize",{hash:{},data:a}))+'</h4> </div> <div class="modal-body-region"></div> </div> </div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this.escapeExpression;return o+='<div class="striped-list-inner-item"> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="conversion-status-region"></div> <div class="generator-metadata-title">',o+=s((a=n.title)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.title)?a.call(t,{hash:{},data:i}):a)+'</div> <div class="generator-metadata-episode-index generator-metadata-subtitle"></div> <div class="generator-metadata-year generator-metadata-subtitle">',o+=s((a=n.year)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.year)?a.call(t,{hash:{},data:i}):a)+"</div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon restart"></i> <span class="generator-title"></span></h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <h4> <span class="generator-failure-container pull-right"> <i class="generator-failure-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-failure-message text-muted"></span> </span> <span class="generator-items-count"></span> &middot; <span class="generator-total-size"></span> </h4> <div class="list-region"></div> <div class="list-feedback-container"> <span class="loading hidden"></span> <span class="error-message text-muted hidden"> '+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"There was a problem loading these items.",{hash:{},data:a}))+" </span> </div> </div> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<a class="show-actions playlist-inner-item '+c("function"==typeof(s=t&&t.type)?s.apply(t):s)+'" href="#"> <div class="media-actions media-reorder"> <div class="sortable-handle btn-gray-link"><i class="glyphicon show-lines"></i></div> </div> <div class="generator-poster-container"> <div class="media-poster"></div> </div> <div class="media-actions generator-actions"> <button class="retry-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon repeat"></i></button> <button class="edit-btn media-action-btn btn-gray-link" tabindex="-1"><i class="glyphicon pencil"></i></button> <button class="delete-btn media-action-btn btn-gray-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> <div class="media-item"> <div class="media-details"> <div class="generator-title col-lg"></div> <div class="generator-target col-md col-secondary"></div> <div class="generator-status col-md col-secondary"> <div class="generator-status-container generator-status-complete"> <i class="generator-status-icon glyphicon ok-2 text-success"></i> '+c(i(n(14)).call(t,"Complete",{hash:{},data:o}))+' </div> <div class="generator-status-container generator-status-failed"> <i class="generator-status-icon glyphicon circle-exclamation-mark text-danger"></i> <span class="generator-status-failed-message">'+c(i(n(14)).call(t,"Failed",{hash:{},data:o}))+'</span> </div> <div class="generator-status-container generator-status-converting"> <i class="generator-status-icon glyphicon restart"></i> '+c(i(n(14)).call(t,"Converting",{hash:{},data:o}))+' </div> <div class="generator-status-container generator-status-pending"> <i class="generator-status-icon glyphicon clock"></i> '+c(i(n(14)).call(t,"Waiting",{hash:{},data:o}))+" </div> </div> </div> </div> </a> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"This Plex Media Server platform is not capable of converting video.",{hash:{},data:t}))+" "}function p(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"There was a problem requesting media versions from this server.",{hash:{},data:t}))+" "}return l+='<div class="row row-padded"> <h4 class="text-muted text-center"> ',((s=r.if.call(t,t&&t.isUpgradeRequired,{hash:{},inverse:u.program(3,function(e,t){var n;return(n=r.if.call(e,e&&e.isTranscoderRequired,{hash:{},inverse:u.program(6,p,t),fn:u.program(4,d,t),data:t}))||0===n?n:""},o),fn:u.program(1,function(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Optimized Versions requires Plex Media Server {1} or later.",e&&e.escapedMinServerVersion,{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" </h4> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<p class="versions-status-message hidden"> <button class="delete-all-btn btn btn-sm btn-danger pull-right">'+l(i(n(14)).call(t,"Delete All Versions",{hash:{},data:o}))+"</button> "+l(i(n(14)).call(t,"Monitor conversion progress in {1}Conversion Activity{2}.",'<a class="status-conversion-btn" href="#">',"</a>",{hash:{},data:o}))+' </p> <div class="background-processing-list-region"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="filter-bar"> ',((s=r.unless.call(t,t&&t.shared,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=' <div class="filter-bar-right"> <button class="toggle-advanced-btn btn btn-sm btn-default basic-setting">'+c(i(n(14)).call(e,"Show Advanced",{hash:{},data:t}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default advanced-setting">'+c(i(n(14)).call(e,"Hide Advanced",{hash:{},data:t}))+"</button> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="settings-row row"> <div class="pane-region col-sm-12 col-md-12"></div> </div> '})},function(e,t,n){e.exports={header:"SettingsPageHeader-header-1ugtIL"}},function(e,t,n){e.exports={content:"SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},function(e,t,n){e.exports={sidebarContainer:"SidebarContainer-sidebarContainer-2RAYT1"}},function(e,t,n){e.exports={scroller:"SidebarScroller-scroller-2wp83y"}},function(e,t,n){e.exports={spinner:"ServerSettingsStatusIcon-spinner-zyA9uo"}},function(e,t,n){e.exports={sidebarListItem:"SidebarListItem-sidebarListItem-GdcVsd"}},function(e,t,n){e.exports={sidebarMessage:"SidebarMessage-sidebarMessage-3O-Deq"}},function(e,t,n){e.exports={header:"SettingsSidebarList-header-1RCToc SidebarList-sidebarListHeader-1t0yzs"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this;function l(e,t){return' <button class="settings-btn media-poster-btn btn-link" tabindex="-1"><i class="glyphicon cogwheel"></i></button> '}return o+='<div class="media-poster-container"> <div class="media-poster"> ',((a=n.unless.call(t,t&&t.shared,{hash:{},inverse:s.noop,fn:s.program(1,function(e,t){var r,i="";return i+=' <div class="media-poster-overlay"></div> <div class="media-poster-actions"> ',((r=n.if.call(e,null==(r=e&&e.item)||!1===r?r:r.hasPrefs,{hash:{},inverse:s.noop,fn:s.program(2,l,t),data:t}))||0===r)&&(i+=r),i+=' <button class="uninstall-btn media-poster-btn btn-link btn-danger" tabindex="-1"><i class="glyphicon remove-2"></i></button> </div> '},i),data:i}))||0===a)&&(o+=a),o+=' <div class="loading loading-inline"></div> </div> <div class="media-title media-heading"></div> <div class="media-subtitle-1 media-heading secondary"></div> </div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;return l+='<ul class="nav nav-header pull-right"> <li><a class="all-btn btn-gray selected" href="#">'+u(i(n(14)).call(t,"All",{hash:{},data:o})),((s=r.if.call(t,t&&t.allCount,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n,r="";return r+='<span class="badge">'+u(typeof(n=e&&e.allCount)===c?n.apply(e):n)+"</span>"},o),data:o}))||0===s)&&(l+=s),l+='</a></li> <li><a class="video-btn btn-gray" href="#">'+u(i(n(14)).call(t,"Video",{hash:{},data:o})),((s=r.if.call(t,t&&t.videoCount,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var n,r="";return r+='<span class="badge">'+u(typeof(n=e&&e.videoCount)===c?n.apply(e):n)+"</span>"},o),data:o}))||0===s)&&(l+=s),l+='</a></li> <li><a class="music-btn btn-gray" href="#">'+u(i(n(14)).call(t,"Music",{hash:{},data:o})),((s=r.if.call(t,t&&t.musicCount,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var n,r="";return r+='<span class="badge">'+u(typeof(n=e&&e.musicCount)===c?n.apply(e):n)+"</span>"},o),data:o}))||0===s)&&(l+=s),l+='</a></li> <li><a class="photo-btn btn-gray" href="#">'+u(i(n(14)).call(t,"Photo",{hash:{},data:o})),((s=r.if.call(t,t&&t.photoCount,{hash:{},inverse:this.noop,fn:this.program(7,function(e,t){var n,r="";return r+='<span class="badge">'+u(typeof(n=e&&e.photoCount)===c?n.apply(e):n)+"</span>"},o),data:o}))||0===s)&&(l+=s),l+="</a></li> </ul> <h2>"+u(i(n(14)).call(t,"Plugins",{hash:{},data:o}))+"</h2> ",((s=r.unless.call(t,t&&t.hasInstalledChannels,{hash:{},inverse:this.noop,fn:this.program(9,function(e,t){var r="";return r+=' <p style="padding:20px">'+u(i(n(14)).call(e,"No plugins installed.",{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="channels-container"></div> '})},function(e,t,n){e.exports=n.p+"common/img/backgrounds/noise.8b05ce45d0df59343e206bc9ae78d85d.png"},function(e,t,n){e.exports=n.p+"common/img/backgrounds/preset-dark2.6d2c8336496f761f38de8558a2b9709b.png"},function(e,t,n){e.exports=n.p+"common/img/backgrounds/preset-light2.ead08af5122abea1ab8f7d601fd93d6a.png"},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="";return l+='<button class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> <i class="alert-icon glyphicon ',((o=(s=n(38),s&&(s.__esModule?s.default:s)).call(t,t&&t.type,"success",{hash:{},inverse:this.program(3,function(e,t){return"circle-exclamation-mark"},a),fn:this.program(1,function(e,t){return"circle-ok"},a),data:a}))||0===o)&&(l+=o),l+='"></i> <h4>',((o="function"==typeof(o=t&&t.message)?o.apply(t):o)||0===o)&&(l+=o),l+="</h4> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<span class="message">'+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Internet Explorer 11 is no longer supported. Please upgrade to a modern browser.",{hash:{},data:a}))+"</span> "})},function(e,t,n){e.exports={formContent:"SyncDownloadModal-formContent-1fzG5B ModalContent-modalContent-UQlV4k"}},function(e,t,n){e.exports={button:"SettingsButton-button-27S5zB NavBar-button-diriIs NavBarIconButton-button-eR0v0j IconButton-button-9An-7I"}},function(e,t,n){e.exports={hubTitle:"QuickSearchHubContainer-hubTitle-2B0GDG"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n,r="";return r+='download="'+u(typeof(n=e&&e.downloadName)===c?n.apply(e):n)+'"'}function h(e,t){var n,r="";return r+=" "+u(typeof(n=e&&e.title)===c?n.apply(e):n)+' <span class="title-separator"></span> '}function f(e,t){var a,o="";return o+=" "+u(i(n(1421)).call(e,e&&e.videoResolution,{hash:{},data:t})),((a=r.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(7,g,t),data:t}))||0===a)&&(o+=a),o+=" "}function g(e,t){return","}function v(e,t){var r="";return r+=" "+u(i(n(1422)).call(e,e&&e.bitrate,{hash:{},data:t}))+" "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon download-alt"></i> '+u(i(n(14)).call(t,"Download a Version",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <ul class="list select-list download-list"> ',((s=r.each.call(t,t&&t.mediaItems,{hash:{},inverse:d.noop,fn:d.programWithDepth(1,function(e,t,a){var o,s="";return s+=' <li class="striped-list-item select-list-item download-list-item"> <a class="media" data-value="'+u(typeof(o=null==t||!1===t?t:t.index)===c?o.apply(e):o)+'" href="'+u(typeof(o=e&&e.downloadUrl)===c?o.apply(e):o)+'" target="'+u(typeof(o=a&&a.defaultLinkTarget)===c?o.apply(e):o)+'" ',((o=i(n(282)).call(e,a&&a.defaultLinkTarget,"_blank",{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===o)&&(s+=o),s+="> ",((o=r.if.call(e,e&&e.title,{hash:{},inverse:d.noop,fn:d.program(4,h,t),data:t}))||0===o)&&(s+=o),s+=" ",((o=r.if.call(e,e&&e.videoResolution,{hash:{},inverse:d.noop,fn:d.program(6,f,t),data:t}))||0===o)&&(s+=o),s+=" ",((o=r.if.call(e,e&&e.bitrate,{hash:{},inverse:d.noop,fn:d.program(9,v,t),data:t}))||0===o)&&(s+=o),s+=" </a> </li> "},o,t),data:o}))||0===s)&&(l+=s),l+=" </ul> </div> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<a class="artwork-option media-poster-container" data-rating-key="',o+=(0,this.escapeExpression)((a=n.ratingKey)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.ratingKey)?a.call(t,{hash:{},data:i}):a)+'" href="#"> <div class="media-poster"></div> </a> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r="";return r+=' <span class="artwork-file-container"> <input type="file" class="artwork-file-control" multiple> <a href="#">'+c(i(n(14)).call(e,"choose an image",{hash:{},data:t}))+'</a> </span> <span class="upload-prompt-divider">&middot;</span> '+c(i(n(14)).call(e,"drag and drop",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '}return((s=r.if.call(t,t&&t.showUpload,{hash:{},inverse:u.noop,fn:u.program(1,function(e,t){var a,o="";return o+=' <div class="upload-artwork-container"> <div class="upload-prompt"> ',((a=r.if.call(e,e&&e.showFileUpload,{hash:{},inverse:u.noop,fn:u.program(2,d,t),data:t}))||0===a)&&(o+=a),o+=' <a class="upload-url-btn" href="#">'+c(i(n(14)).call(e,"enter a url",{hash:{},data:t}))+'</a> </div> <div class="upload-progress"> '+c(i(n(14)).call(e,"Uploading artwork...",{hash:{},data:t}))+' </div> <div class="upload-success"> '+c(i(n(14)).call(e,"this artwork was uploaded successfully",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(14)).call(e,"{1}upload another{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <div class="upload-error"> '+c(i(n(14)).call(e,"there was an error uploading this artwork",{hash:{},data:t}))+' <span class="upload-prompt-divider">&middot;</span> '+c(i(n(14)).call(e,"{1}try again{2}",'<a class="upload-back-btn" href="#">',"</a>",{hash:{},data:t}))+' </div> <form id="upload-form" class="upload-form"> <input type="text" class="form-control" name="url" placeholder="'+c(i(n(14)).call(e,"Enter a url to upload an image from the web",{hash:{},data:t}))+'"> <div class="upload-form-help"> <div class="pull-right">'+c(i(n(14)).call(e,"enter to {1}upload{2}",'<a class="submit-url-btn" href="#">',"</a>",{hash:{},data:t}))+'</div> <div class="pull-left">'+c(i(n(14)).call(e,"esc to {1}cancel{2}",'<a class="cancel-url-btn" href="#">',"</a>",{hash:{},data:t}))+"</div> </div> </form> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="artwork-list-container"></div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="player-slider-track"> <div class="player-slider-progress"></div> </div> <div class="player-slider-thumb"></div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="",s=this;function l(e,t){return"star"}function c(e,t){return"dislikes"}return((a=n.each.call(t,t&&t.stars,{hash:{},inverse:s.noop,fn:s.program(1,function(e,t){var r,i="";return i+='<span class="star"><i class="star-icon glyphicon ',((r=n.if.call(e,e,{hash:{},inverse:s.program(4,c,t),fn:s.program(2,l,t),data:t}))||0===r)&&(i+=r),i+='"></i><span class="empty-icon"></span></span>'},i),data:i}))||0===a)&&(o+=a),o+=" "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((s=r.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(e,"autocompleteTextInput",{hash:{label:"Artist",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Album",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey),scopeToAttr:"parentRatingKey",scopeToParam:"artist.id"},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Album",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-3"> <label>'+c(i(n(14)).call(t,"Rating",{hash:{},data:o}))+'</label> <div class="rating-region"></div> </div> ',((s=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r,a="";return a+=' <div class="col-md-4"> '+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.ratingKey)},data:t}))+" </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="col-md-',((s=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,function(e,t){return"5"},o),fn:this.program(5,function(e,t){return"9"},o),data:o}))||0===s)&&(l+=s),l+=' "> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(s=t&&t.item,null==s||!1===s?s:s.originallyAvailableAt),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.originallyAvailableAt),locked:(s=t&&t.locked,null==s||!1===s?s:s.originallyAvailableAt)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Record Label",name:"studio",value:(s=t&&t.item,null==s||!1===s?s:s.studio),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.studio),locked:(s=t&&t.locked,null==s||!1===s?s:s.studio),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Review",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Artist",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Biography",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-8 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(s=t&&t.item,null==s||!1===s?s:s.contentRating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.contentRating),locked:(s=t&&t.locked,null==s||!1===s?s:s.contentRating),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5"},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableNumericInput",{hash:{label:"Rating",name:"rating",value:(s=t&&t.item,null==s||!1===s?s:s.rating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.rating),locked:(s=t&&t.locked,null==s||!1===s?s:s.rating)},data:o}))+' </div> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(s=t&&t.item,null==s||!1===s?s:s.originallyAvailableAt),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.originallyAvailableAt),locked:(s=t&&t.locked,null==s||!1===s?s:s.originallyAvailableAt)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(s=t&&t.item,null==s||!1===s?s:s.originalTitle),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.originalTitle),locked:(s=t&&t.locked,null==s||!1===s?s:s.originalTitle),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((s=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,function(e,t){var r,a="";return a+=" "+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "},o),fn:this.program(1,function(e,t){var r,a="";return a+=" "+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="col-md-4"> '+c(i(n(33)).call(t,"lockableNumericInput",{hash:{label:"Rating",name:"rating",value:(s=t&&t.item,null==s||!1===s?s:s.rating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.rating),locked:(s=t&&t.locked,null==s||!1===s?s:s.rating)},data:o}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(s=t&&t.item,null==s||!1===s?s:s.contentRating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.contentRating),locked:(s=t&&t.locked,null==s||!1===s?s:s.contentRating),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-',((s=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,function(e,t){return"6"},o),fn:this.program(5,function(e,t){return"12"},o),data:o}))||0===s)&&(l+=s),l+=' selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(s=t&&t.item,null==s||!1===s?s:s.studio),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.studio),locked:(s=t&&t.locked,null==s||!1===s?s:s.studio),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+" </div> ",((s=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,function(e,t){var r,a="";return a+=' <div class="col-md-6"> '+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(s=t&&t.item,null==s||!1===s?s:s.tagline),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.tagline),locked:(s=t&&t.locked,null==s||!1===s?s:s.tagline)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title)},data:o}))+' </div> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-9"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Captured Time",name:"originallyAvailableAt",value:(s=t&&t.item,null==s||!1===s?s:s.originallyAvailableAt),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.capturedTime),locked:(s=t&&t.locked,null==s||!1===s?s:s.originallyAvailableAt)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"textInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"textInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5"},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="";return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+(0,this.escapeExpression)((s=n(33),s&&(s.__esModule?s.default:s)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(o=t&&t.item,null==o||!1===o?o:o.summary),placeholder:(o=t&&t.placeholders,null==o||!1===o?o:o.summary),type:"textarea",rows:"5",locked:(o=t&&t.locked,null==o||!1===o?o:o.summary)},data:a}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Sort Title",name:"titleSort",value:(s=t&&t.item,null==s||!1===s?s:s.titleSort),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.titleSort),locked:(s=t&&t.locked,null==s||!1===s?s:s.titleSort),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-4"> ',((s=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(3,function(e,t){var r,a="";return a+=" "+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Year",name:"year",value:(r=e&&e.item,null==r||!1===r?r:r.year),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.year),locked:(r=e&&e.locked,null==r||!1===r?r:r.year)},data:t}))+" "},o),fn:this.program(1,function(e,t){var r,a="";return a+=" "+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="col-md-4"> '+c(i(n(33)).call(t,"lockableNumericInput",{hash:{label:"Rating",name:"rating",value:(s=t&&t.item,null==s||!1===s?s:s.rating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.rating),locked:(s=t&&t.locked,null==s||!1===s?s:s.rating)},data:o}))+' </div> <div class="col-md-4 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Content Rating",name:"contentRating",value:(s=t&&t.item,null==s||!1===s?s:s.contentRating),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.contentRating),locked:(s=t&&t.locked,null==s||!1===s?s:s.contentRating),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Original Title",name:"originalTitle",value:(s=t&&t.item,null==s||!1===s?s:s.originalTitle),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.originalTitle),locked:(s=t&&t.locked,null==s||!1===s?s:s.originalTitle),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-',((s=r.if.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.program(7,function(e,t){return"6"},o),fn:this.program(5,function(e,t){return"12"},o),data:o}))||0===s)&&(l+=s),l+=' selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Studio",name:"studio",value:(s=t&&t.item,null==s||!1===s?s:s.studio),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.studio),locked:(s=t&&t.locked,null==s||!1===s?s:s.studio),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+" </div> ",((s=r.unless.call(t,t&&t.supportsLinkedYears,{hash:{},inverse:this.noop,fn:this.program(9,function(e,t){var r,a="";return a+=' <div class="col-md-6"> '+c(i(n(33)).call(e,"lockableTextInput",{hash:{label:"Originally Available",name:"originallyAvailableAt",value:(r=e&&e.item,null==r||!1===r?r:r.originallyAvailableAt),placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.originallyAvailableAt),locked:(r=e&&e.locked,null==r||!1===r?r:r.originallyAvailableAt)},data:t}))+" </div> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Tagline",name:"tagline",value:(s=t&&t.item,null==s||!1===s?s:s.tagline),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.tagline),locked:(s=t&&t.locked,null==s||!1===s?s:s.tagline)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Summary",name:"summary",value:(s=t&&t.item,null==s||!1===s?s:s.summary),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.summary),type:"textarea",rows:"5",locked:(s=t&&t.locked,null==s||!1===s?s:s.summary)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> ',((s=r.if.call(t,t&&t.canReparent,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(e,"autocompleteTextInput",{hash:{label:"Album Artist",name:"grandparentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.grandparentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.grandparentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.grandparentTitle)},data:t}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(e,"autocompleteTextInput",{hash:{label:"Album",name:"parentTitle",placeholder:(r=e&&e.placeholders,null==r||!1===r?r:r.parentTitle),ratingKey:(r=e&&e.item,null==r||!1===r?r:r.parentRatingKey),title:(r=e&&e.item,null==r||!1===r?r:r.parentTitle),scopeToAttr:"grandparentRatingKey",scopeToParam:"artist.id"},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Title",name:"title",value:(s=t&&t.item,null==s||!1===s?s:s.title),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.title),locked:(s=t&&t.locked,null==s||!1===s?s:s.title)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-4"> <label>'+c(i(n(14)).call(t,"Rating",{hash:{},data:o}))+'</label> <div class="rating-region"></div> </div> <div class="col-md-4"> '+c(i(n(33)).call(t,"lockableNumericInput",{hash:{label:"Track",name:"index",value:(s=t&&t.item,null==s||!1===s?s:s.index),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.index),locked:(s=t&&t.locked,null==s||!1===s?s:s.index),disabled:t&&t.disableIndices},data:o}))+' </div> <div class="col-md-4"> '+c(i(n(33)).call(t,"lockableNumericInput",{hash:{label:"Disc",name:"parentIndex",value:(s=t&&t.item,null==s||!1===s?s:s.parentIndex),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.parentIndex),locked:(s=t&&t.locked,null==s||!1===s?s:s.parentIndex),disabled:t&&t.disableIndices},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12 selectize"> '+c(i(n(33)).call(t,"lockableTextInput",{hash:{label:"Artist",name:"originalTitle",value:(s=t&&t.item,null==s||!1===s?s:s.originalTitle),placeholder:(s=t&&t.placeholders,null==s||!1===s?s:s.originalTitle),locked:(s=t&&t.locked,null==s||!1===s?s:s.originalTitle),ratingKey:(s=t&&t.item,null==s||!1===s?s:s.ratingKey)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+=(0,this.escapeExpression)((a=n.file)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.file)?a.call(t,{hash:{},data:i}):a)+" "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+="<h4>"+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Files",{hash:{},data:a}))+'</h4> <ul class="media-info-file-list"></ul> <div class="loading-container"><div class="loading"></div></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(s=t&&t.locked,null==s||!1===s?s:s.genre)},data:o}))+" </div> </div> ",((s=r.if.call(t,null==(s=t&&t.editableTags)||!1===s?s:s["album.style"],{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.editableTags)||!1===s?s:s["album.mood"],{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(s=t&&t.locked,null==s||!1===s?s:s.collection)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(s=t&&t.locked,null==s||!1===s?s:s.genre)},data:o}))+" </div> </div> ",((s=r.if.call(t,null==(s=t&&t.editableTags)||!1===s?s:s["artist.style"],{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Styles",name:"style",attribute:"styles",locked:(r=e&&e.locked,null==r||!1===r?r:r.style)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,null==(s=t&&t.editableTags)||!1===s?s:s["artist.mood"],{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Moods",name:"mood",attribute:"moods",locked:(r=e&&e.locked,null==r||!1===r?r:r.mood)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(s=t&&t.locked,null==s||!1===s?s:s.country)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(s=t&&t.locked,null==s||!1===s?s:s.collection)},data:o}))+" </div> </div> ",((s=r.if.call(t,t&&t.canEditSimilarArtists,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var r,a="";return a+=' <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(e,"lockableTagInput",{hash:{label:"Similar Artists",name:"similar",attribute:"similar",query:"title",locked:(r=e&&e.locked,null==r||!1===r?r:r.similar)},data:t}))+" </div> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(s=t&&t.locked,null==s||!1===s?s:s.writer)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(s=t&&t.locked,null==s||!1===s?s:s.director)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Directors",name:"director",attribute:"directors",locked:(s=t&&t.locked,null==s||!1===s?s:s.director)},data:o}))+' </div> <div class="col-md-6"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Country",name:"country",attribute:"countries",locked:(s=t&&t.locked,null==s||!1===s?s:s.country)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(s=t&&t.locked,null==s||!1===s?s:s.genre)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Writers",name:"writer",attribute:"writers",locked:(s=t&&t.locked,null==s||!1===s?s:s.writer)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(s=t&&t.locked,null==s||!1===s?s:s.collection)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Tags",name:"tag",attribute:"tags",locked:(s=t&&t.locked,null==s||!1===s?s:s.tag)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{onlyDelete:!0,label:"Autotags",name:"autotag",attribute:"autotags",locked:(s=t&&t.locked,null==s||!1===s?s:s.autotag)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<form class="edit-metadata-form"> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Genres",name:"genre",attribute:"genres",locked:(s=t&&t.locked,null==s||!1===s?s:s.genre)},data:o}))+' </div> </div> <div class="row"> <div class="col-md-12"> '+c(i(n(33)).call(t,"lockableTagInput",{hash:{label:"Collections",name:"collection",attribute:"collections",locked:(s=t&&t.locked,null==s||!1===s?s:s.collection)},data:o}))+" </div> </div> </form> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<a class="dropdown-toggle" href="#auto-match-dropdown" data-toggle="dropdown">'+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,"Auto Match",{hash:{},data:a}))+' <i class="caret-icon caret-icon-sm"></i></a> <ul class="dropdown-menu"> ',((o=r.each.call(t,t&&t.agents,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n,r="";return r+=' <li><a class="auto-match-agent" href="#" data-id="'+u(typeof(n=e&&e.identifier)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+"</a></li> "},a),data:a}))||0===o)&&(l+=o),l+=" </ul> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"selected"}function h(e,t){var r="";return r+=' <option value="">'+u(i(n(14)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+u(i(n(14)).call(t,"Artist",{hash:{},data:o}))+'</label> <input type="text" id="match-search-parentTitle" name="parentTitle" class="form-control" value="'+u(typeof(s=null==(s=t&&t.item)||!1===s?s:s.parentTitle)===c?s.apply(t):s)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+u(i(n(14)).call(t,"Agent",{hash:{},data:o}))+'</label> <select id="match-search-agent" name="agent"> ',((s=r.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,h,o),fn:d.program(1,function(e,t){var n,i="";return i+=' <option value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=">"+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "},o),data:o}))||0===s)&&(l+=s),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+u(i(n(14)).call(t,"Album",{hash:{},data:o}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+u(typeof(s=null==(s=t&&t.item)||!1===s?s:s.title)===c?s.apply(t):s)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+u(i(n(14)).call(t,"Language",{hash:{},data:o}))+'</label> <select id="match-search-language" name="language"> ',((s=r.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,h,o),fn:d.program(6,function(e,t){var n,r="";return r+=' <option value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "},o),data:o}))||0===s)&&(l+=s),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+u(i(n(14)).call(t,"Year",{hash:{},data:o}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+u(typeof(s=null==(s=t&&t.item)||!1===s?s:s.year)===c?s.apply(t):s)+'"> </div> </div> </div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"selected"}function h(e,t){var r="";return r+=' <option value="">'+u(i(n(14)).call(e,"Loading...",{hash:{},data:t}))+"</option> "}return l+='<div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-title">'+u(i(n(14)).call(t,"Title",{hash:{},data:o}))+'</label> <input type="text" id="match-search-title" name="title" class="form-control" value="'+u(typeof(s=null==(s=t&&t.item)||!1===s?s:s.title)===c?s.apply(t):s)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-agent">'+u(i(n(14)).call(t,"Agent",{hash:{},data:o}))+'</label> <select id="match-search-agent" name="agent"> ',((s=r.each.call(t,t&&t.agents,{hash:{},inverse:d.program(4,h,o),fn:d.program(1,function(e,t){var n,i="";return i+=' <option value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.selected,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=">"+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "},o),data:o}))||0===s)&&(l+=s),l+=' </select> </div> </div> </div> <div class="row"> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-year">'+u(i(n(14)).call(t,"Year",{hash:{},data:o}))+'</label> <input type="text" id="match-search-year" name="year" class="form-control" value="'+u(typeof(s=null==(s=t&&t.item)||!1===s?s:s.year)===c?s.apply(t):s)+'"> </div> </div> <div class="col-md-6"> <div class="form-group"> <label class="control-label" for="match-search-language">'+u(i(n(14)).call(t,"Language",{hash:{},data:o}))+'</label> <select id="match-search-language" name="language"> ',((s=r.each.call(t,t&&t.languages,{hash:{},inverse:d.program(4,h,o),fn:d.program(6,function(e,t){var n,r="";return r+=' <option value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</option> "},o),data:o}))||0===s)&&(l+=s),l+=" </select> </div> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="match-empty-message">'+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"No matches found.",{hash:{},data:a}))+"</div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c=this.escapeExpression;return l+='<div class="row disc-number hidden"> '+c((s=n(14),s&&(s.__esModule?s.default:s)).call(t,"Disc {1}",t&&t.escapedParentIndex,{hash:{},data:a}))+' </div> <div class="row striped-list-inner-item"> <span class="col-xs-1 match-index"> '+c("function"==typeof(o=t&&t.index)?o.apply(t):o)+'. </span> <span class="col-xs-11 match-track-name ',((o=r.unless.call(t,t&&t.matched,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"missing"},a),data:a}))||0===o)&&(l+=o),l+='"> '+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+" </span> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<a class="match-result col-xs-12" href="#"> <div class="row"> <div class="col-xs-9 match-title-info"> ',((o=r.if.call(t,t&&t.parentName,{hash:{},inverse:this.program(3,function(e,t){var n,r="";return r+=' <span class="match-name">'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+"</span> "},a),fn:this.program(1,function(e,t){var n,r="";return r+=' <span class="match-name">'+u(typeof(n=e&&e.parentName)===c?n.apply(e):n)+'</span> &ndash; <span class="match-name">'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+"</span> "},a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.disambiguationInfo,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var n,r="";return r+='  <span class="match-disambiguation-info">'+u(typeof(n=e&&e.disambiguationInfo)===c?n.apply(e):n)+"</span> "},a),data:a}))||0===o)&&(l+=o),l+=' </div> <div class="col-xs-3 match-score-info" title="'+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,"Score {1}",t&&t.escapedNormalizedScore,{hash:{},data:a}))+'"> ',((o=r.if.call(t,t&&t.year,{hash:{},inverse:this.noop,fn:this.program(7,function(e,t){var n,r="";return r+=' <span class="match-year">'+u(typeof(n=e&&e.year)===c?n.apply(e):n)+'</span> <span class="match-separator">&middot;</span> '},a),data:a}))||0===o)&&(l+=o),l+=' <span class="match-score"><i class="match-score-icon glyphicon certificate"></i>'+u(typeof(o=t&&t.normalizedScore)===c?o.apply(t):o)+'</span> </div> </div> <div class="row match-extended-info hidden"> <div class="col-xs-4"> <img class="match-art" src="'+u(typeof(o=t&&t.thumb)===c?o.apply(t):o)+'"/> </div> <div class="col-xs-8 children-region"></div> </div> </a> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="result-region"> <div class="loading loading-inline"></div> </div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="modal-dialog"> <div class="modal-content"> <form id="fix-incorrect-match-form"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon nameplate"></i> <span class="modal-title-text"></span></h4> ',((s=r.if.call(t,t&&t.location,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var r="";return r+=' <div class="match-location"> '+c(i(n(14)).call(e,"Location",{hash:{},data:t}))+": "+c(i(n(736)).call(e,e&&e.location,60,12,{hash:{},data:t}))+" </div> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((s=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var r="";return r+=' <ul class="list modal-list"> <li class="modal-list-item"><a class="search-options-btn" href="#">'+c(i(n(14)).call(e,"Search Options",{hash:{},data:t}))+'</a></li> <li class="auto-match-dropdown-region modal-list-item"></li> </ul> '},o),data:o}))||0===s)&&(l+=s),l+=' <div class="pane-region"></div> </div> <div class="modal-footer"> <div class="match-search-actions"> <button type="button" class="cancel-btn btn btn-default">'+c(i(n(14)).call(t,"Cancel",{hash:{},data:o}))+"</button> ",((s=r.if.call(t,t&&t.showNavigation,{hash:{},inverse:this.noop,fn:this.program(5,function(e,t){var r="";return r+=' <button type="submit" class="search-btn btn btn-primary btn-loading"> <div class="loading loading-sm"></div> <span class="btn-label">'+c(i(n(14)).call(e,"Search",{hash:{},data:t}))+"</span> </button> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> </div> </form> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t,n){var i,a="";return a+=' <ul class="media-info-file-list well"> ',((i=r.if.call(e,n&&n.showDeleteFile,{hash:{},inverse:d.noop,fn:d.program(5,h,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=r.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,v,t,n),data:t}))||0===i)&&(a+=i),a+=" </ul> "}function h(e,t){var r,a="";return a+=' <a href="#" data-media-item="'+c(typeof(r=null==t||!1===t?t:t.index)===u?r.apply(e):r)+'" class="delete-btn text-danger pull-right"> <i class="glyphicon bin"></i> ',((r=i(n(38)).call(e,null==(r=e&&e.Part)||!1===r?r:r.length,"1",{hash:{},inverse:d.program(8,g,t),fn:d.program(6,f,t),data:t}))||0===r)&&(a+=r),a+=" </a> "}function f(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Delete File",{hash:{},data:t}))+" "}function g(e,t){var r="";return r+=" "+c(i(n(14)).call(e,"Delete Files",{hash:{},data:t}))+" "}function v(e,t,n){var i,a="";return a+=" <li> ",((i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:d.program(13,y,t),fn:d.program(11,m,t),data:t}))||0===i)&&(a+=i),a+=" ",((i=r.unless.call(e,e&&e.accessible,{hash:{},inverse:d.noop,fn:d.program(15,b,t),data:t}))||0===i)&&(a+=i),a+=" </li> "}function m(e,t){var n,r="";return r+=" "+c(typeof(n=e&&e.file)===u?n.apply(e):n)+" "}function y(e,t){var r="";return r+=" "+c(i(n(1424)).call(e,e&&e.file,{hash:{},data:t}))+" "}function b(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.exists,{hash:{},inverse:d.program(18,I,t),fn:d.program(16,S,t),data:t}))||0===n)&&(i+=n),i+=" "}function S(e,t){var r="";return r+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(14)).call(e,"Please check the permissions for this file.",{hash:{},data:t}))+'">'+c(i(n(14)).call(e,"Inaccessible",{hash:{},data:t}))+"</span> "}function I(e,t){var r="";return r+=' <span class="label label-danger" data-toggle="tooltip" title="'+c(i(n(14)).call(e,"Please check that this file exists and the necessary drive is mounted.",{hash:{},data:t}))+'">'+c(i(n(14)).call(e,"Unavailable",{hash:{},data:t}))+"</span> "}function C(e,t){var r,a="";return a+=' <li> <span class="detail-label">'+c(i(n(14)).call(e,e&&e.name,{hash:{},data:t}))+'</span> <span class="detail">'+c(typeof(r=e&&e.value)===u?r.apply(e):r)+"</span> </li> "}function M(e,t,a){var o,s="";return s+=' <div class="part"> <div class="props"> <h4>'+c(i(n(14)).call(e,"Part",{hash:{},data:t}))+"</h4> <ul> ",((o=r.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,C,t),data:t}))||0===o)&&(s+=o),s+=' </ul> </div> <div class="streams"> ',((o=r.each.call(e,e&&e.Stream,{hash:{},inverse:d.noop,fn:d.program(24,D,t),data:t}))||0===o)&&(s+=o),s+=" ",((o=r.if.call(e,a&&a.loading,{hash:{},inverse:d.noop,fn:d.program(33,O,t),data:t}))||0===o)&&(s+=o),s+=" </div> </div> "}function D(e,t){var a,o="";return o+=' <div class="props"> ',((a=i(n(38)).call(e,e&&e.streamType,"1",{hash:{},inverse:d.program(27,P,t),fn:d.program(25,w,t),data:t}))||0===a)&&(o+=a),o+=" <ul> ",((a=r.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,C,t),data:t}))||0===a)&&(o+=a),o+=" </ul> </div> "}function w(e,t){var r="";return r+=" <h4>"+c(i(n(14)).call(e,"Video",{hash:{},data:t}))+"</h4> "}function P(e,t){var r;return(r=i(n(38)).call(e,e&&e.streamType,"2",{hash:{},inverse:d.program(30,E,t),fn:d.program(28,T,t),data:t}))||0===r?r:""}function T(e,t){var r="";return r+=" <h4>"+c(i(n(14)).call(e,"Audio",{hash:{},data:t}))+"</h4> "}function E(e,t){var r;return(r=i(n(38)).call(e,e&&e.streamType,"3",{hash:{},inverse:d.noop,fn:d.program(31,x,t),data:t}))||0===r?r:""}function x(e,t){var r="";return r+=" <h4>"+c(i(n(14)).call(e,"Subtitles",{hash:{},data:t}))+"</h4> "}function O(e,t){var r="";return r+=' <div class="props"> <h4>'+c(i(n(14)).call(e,"Loading",{hash:{},data:t}))+"...</h4> </div> "}function j(e,t){var r,a="";return a+=' <div class="modal-footer"> <div class="pull-left"> <a href="'+c(typeof(r=e&&e.url)===u?r.apply(e):r)+'" target="_blank">'+c(i(n(14)).call(e,"View XML",{hash:{},data:t}))+"</a> </div> </div> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"><i class="modal-icon glyphicon circle-info"></i> '+c(i(n(14)).call(t,"Media Info",{hash:{},data:o}))+'</h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> <div class="position-ref ',((s=r.unless.call(t,t&&t.hasStreams,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){return"hide-streams-column"},o),data:o}))||0===s)&&(l+=s),l+='"> ',((s=r.if.call(t,t&&t.hasFiles,{hash:{},inverse:d.noop,fn:d.program(3,function(e,t){var a,o="";return o+=' <div class="files"> <h4>'+c(i(n(14)).call(e,"Files",{hash:{},data:t}))+"</h4> ",((a=r.each.call(e,e&&e.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(4,p,t,e),data:t}))||0===a)&&(o+=a),o+=" </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.each.call(t,t&&t.media,{hash:{},inverse:d.noop,fn:d.programWithDepth(20,function(e,t,a){var o,s="";return s+=' <div class="media"> <div class="props"> <h4>'+c(i(n(14)).call(e,"Media",{hash:{},data:t}))+"</h4> <ul> ",((o=r.each.call(e,e&&e.properties,{hash:{},inverse:d.noop,fn:d.program(21,C,t),data:t}))||0===o)&&(s+=o),s+=" </ul> </div> ",((o=r.each.call(e,e&&e.Part,{hash:{},inverse:d.noop,fn:d.programWithDepth(23,M,t,a),data:t}))||0===o)&&(s+=o),s+=" </div> "},o,t),data:o}))||0===s)&&(l+=s),l+=" </div> </div> ",((s=r.if.call(t,t&&t.key,{hash:{},inverse:d.noop,fn:d.programWithDepth(35,function(e,t,n){var i;return(i=r.if.call(e,n&&n.showFilepath,{hash:{},inverse:d.noop,fn:d.program(36,j,t),data:t}))||0===i?i:""},o,t),data:o}))||0===s)&&(l+=s),l+=" </div> </div> "})},function(e,t,n){e.exports={listModalInnerBody:"ListModal-listModalInnerBody-1mBaLj"}},function(e,t,n){e.exports={listModalItem:"ListModalItem-listModalItem-3SDr-X"}},function(e,t,n){e.exports={form:"SettingsModalContent-form-3-N4qz"}},function(e,t,n){e.exports={card:"PosterCard-card-1rN9gd"}},function(e,t,n){e.exports={recordButton:"RecordButton-recordButton-1BGtat PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},function(e,t,n){e.exports={card:"QuickSearchMetadataPosterCard-card-3_XFiO MetadataPosterButtonCard-card-2T8TR6"}},function(e,t,n){e.exports={anagram:"Anagram-anagram-2KZ_Z0"}},function(e,t,n){e.exports={card:"QuickSearchTagPosterCard-card-3RJG3x TagPosterCard-card-RVD0Dw MetadataPosterCardFace-poster-L2P6rC"}},function(e,t,n){e.exports={container:"QuickSearchResults-container-3IlHhN"}},function(e,t,n){e.exports={container:"QuickSearch-container-2PWkBt"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n,i="";return i+=' <li> <span class="keyboard-shortcuts-keys"> ',((n=r.each.call(e,e&&e.keys,{hash:{},inverse:d.noop,fn:d.program(3,h,t),data:t}))||0===n)&&(i+=n),i+=' </span> <span class="keyboard-shortcuts-label text-muted">'+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</span> </li> "}function h(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(4,f,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.unless.call(e,e&&e.plain,{hash:{},inverse:d.noop,fn:d.program(6,g,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.split,{hash:{},inverse:d.noop,fn:d.program(8,v,t),data:t}))||0===n)&&(i+=n),i+=" "}function f(e,t){var n,r="";return r+=' <span class="keyboard-shortcuts-keys-plain">'+u(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function g(e,t){var n,r="";return r+=' <span class="keyboard-shortcuts-keys-key">'+u(typeof(n=e&&e.s)===c?n.apply(e):n)+"</span> "}function v(e,t){return" <br> "}return l+='<div class="modal-dialog"> <div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal"><i class="glyphicon remove-2"></i></button> <h4 class="modal-title"> <i class="modal-icon glyphicon keyboard-wireless"></i> '+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,"Keyboard Shortcuts",{hash:{},data:a}))+' </h4> </div> <div class="modal-body modal-body-scroll dark-scrollbar"> ',((o=r.each.call(t,t&&t.groups,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var n,i="";return i+=' <h5 class="keyboard-shortcuts-header">'+u(typeof(n=e&&e.label)===c?n.apply(e):n)+'</h5> <ul class="list keyboard-shortcuts-list"> ',((n=r.each.call(e,e&&e.shortcuts,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=" </ul> "},a),data:a}))||0===o)&&(l+=o),l+=" </div> </div> </div> "})},function(e,t,n){e.exports={menuHeader:"MenuHeader-menuHeader-1zqcoT"}},function(e,t,n){e.exports={menu:"NavBarActivityMenu-menu-1AVWxV Menu-menu-3XnN6J"}},function(e,t,n){e.exports={button:"NavBarPlexPassButton-button-2zlgP_ Link-link-2n0yJn"}},function(e,t,n){e.exports={isDecisionPending:"PlayerMedia-isDecisionPending-3d0gXT"}},function(e,t,n){e.exports={hubCellHeader:"HubCellHeader-hubCellHeader-2pvYNF"}},function(e,t,n){e.exports={hubCellTitle:"HubCellTitle-hubCellTitle-2abInv"}},function(e,t,n){e.exports={container:"AudioVideoStripeContainer-container-MI02OU"}},function(e,t,n){e.exports={container:"VideoChapters-container-1hROwi AudioVideoStripeContainer-container-MI02OU"}},function(e,t,n){e.exports={heading:"AudioVideoFullPlayerContentHeading-heading-1XO9q-"}},function(e,t,n){e.exports={separator:"MetadataTitleAirDate-separator-2i3bJv DashSeparator-separator-4CyEFW"}},function(e,t,n){e.exports={slider:"AudioSettings-slider-2uCoXx Slider-slider-2oLVTs"}},function(e,t,n){e.exports={bottomBar:"BottomBar-bottomBar-gbDBaF"}},function(e,t,n){e.exports={controlsContainer:"ControlsContainer-controlsContainer-1Wn7vp"}},function(e,t,n){e.exports={container:"AudioVideoInfoBar-container-2ewFys"}},function(e,t,n){e.exports={container:"DurationRemaining-container-1F4w8F"}},function(e,t,n){e.exports={container:"ConflictItemRow-container-x4THp8"}},function(e,t,n){e.exports={cancelConfirmationMessage:"CancelRecordingConfirmation-cancelConfirmationMessage-3l-ktf"}},function(e,t,n){e.exports={grid:"FlexGrid-grid-Ws_Ykq"}},function(e,t,n){e.exports={recordButtonContainer:"LiveTVRecord-recordButtonContainer-vuoUXZ"}},function(e,t,n){e.exports={container:"PhotoMetadataControls-container-1FKfKq PlayerControlsMetadata-container-2wqMfv"}},function(e,t,n){e.exports={seekBarFill:"AdSeekBar-seekBarFill-1Qc6we SeekBar-seekBarFill-1Lcu0w Slider-fill-35GFqs"}},function(e,t,n){e.exports={container:"MetadataUpNext-container-3BvKXW",upNext:"MetadataUpNext-upNext-3XxQSf"}},function(e,t,n){e.exports={backgroundContainer:"FullPlayerBackground-backgroundContainer-2UnXoW"}},function(e,t,n){e.exports={icon:"InnerErrorPage-icon-tWVPF4 ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},function(e,t,n){e.exports={leftTitle:"PrePlayLeftTitle-leftTitle-Ev1KGW"}},function(e,t,n){e.exports={primaryTitle:"PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},function(e,t,n){e.exports={rightTitle:"PrePlayRightTitle-rightTitle-VxiwUS"}},function(e,t,n){e.exports={secondaryTitle:"PrePlaySecondaryTitle-secondaryTitle-YJRGCZ PrePlayPrimaryTitle-primaryTitle-1r9P9r"}},function(e,t,n){e.exports={tertiaryTitle:"PrePlayTertiaryTitle-tertiaryTitle-1Rc92F"}},function(e,t,n){"use strict";function r(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}n.d(t,"a",function(){return r})},function(e,t,n){e.exports={dragLayer:"DragPreviewLayer-dragLayer-2uYZUK"}},function(e,t,n){e.exports={dragPreview:"AudioVideoPlayQueueDragPreview-dragPreview-21bXey"}},function(e,t,n){e.exports={container:"AudioVideoPlayQueueItemDragSource-container-3ncn7E"}},function(e,t,n){e.exports={button:"MetadataDirectoryButtonCell-button-29C3x2 Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={innerContent:"PrePlayMetadataInnerContent-innerContent-1BPzwp"}},function(e,t,n){e.exports={divider:"PrePlayDivider-divider-1qvbj9"}},function(e,t,n){e.exports={summary:"PrePlaySummary-summary-1NL8gz"}},function(e,t,n){e.exports={tagsListLink:"PrePlayTagList-tagsListLink-Z6lfXW Link-link-2n0yJn"}},function(e,t,n){e.exports={group:"PrePlayDetailsGroup-group-3i0Tjw"}},function(e,t,n){e.exports={modal:"SubtitlesUploadModal-modal-2UMyzf Modal-medium-1UIAdk Modal-modal-3Z1JSX"}},function(e,t,n){e.exports={separator:"PrePlayDashSeparator-separator-1d01zK"}},function(e,t,n){e.exports={statusButton:"PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},function(e,t,n){e.exports={tertiaryTitleSpacer:"PrePlayTertiaryTitleSpacer-tertiaryTitleSpacer-14zhLB"}},function(e,t,n){e.exports={unavailableButton:"PrePlayUnavailableButton-unavailableButton-3dycrS PrePlayStatusButton-statusButton-28XJ7z Button-default--yDCH5"}},function(e,t,n){e.exports={itemExtraDetail:"AudioVideoQualityMenuItem-itemExtraDetail-202QW4"}},function(e,t,n){e.exports={menu:"AudioVideoQualityMenuInput-menu-2i8jzi Menu-menu-3XnN6J"}},function(e,t,n){e.exports={icon:"SubtitlesOffsetSettingsValue-icon-98VH3J"}},function(e,t,n){e.exports={playQueueIsLoading:"MiniPlayerContainer-playQueueIsLoading-30Z4GT"}},function(e,t,n){e.exports={container:"AudioVideoPlayerView-container-kWiFsz"}},function(e,t,n){"use strict";(function(e){var r=n(0),i=n.n(r),a=n(7),o=n.n(a),s=(n(4),n(1)),l=n.n(s),c=n(53),u=n(15),d=n(2),p=n(23),h=n(1027),f=n(267),g=n.n(f),v=l.a.Component,m=u.join("https://tiles.unwiredlabs.com/v/o.json",{token:"59a999cb8f28fb0a54eb"}),y="https://www.google.com/maps/@",b=i()(p.a,{}),S=function(t){function n(n,r){var i;return(i=t.call(this,n,r)||this).onMapRender=function(){i._map.loaded()&&(i._map.addControl(new e.mapboxgl.AttributionControl({compact:!0})),i._map.off("render",i.onMapRender),i.setState({isTilesLoading:!1}))},i.onMarkerClick=function(){var e={api:1,map_action:"map",center:i.props.latitude+","+i.props.longitude};window.open(u.join(y,e))},i.state={isTilesLoading:!0},i}o()(n,t);var r=n.prototype;return r.componentDidMount=function(){this.props.isExternalsLoaded&&this._addMap()},r.componentWillReceiveProps=function(e){if(e.isExternalsLoaded){var t=this.props,n=t.isExternalsLoaded,r=t.latitude,i=t.longitude,a=!n,o=r!==e.latitude,s=i!==e.longitude,l=o||s;a&&!this._map?this._addMap(e):l&&this._moveMap(e)}},r.componentWillUnmount=function(){this._markerElement&&this._markerElement.removeEventListener("click",this.onMarkerClick),this._map&&this._map.off("render",this.onMapRender)},r._addMap=function(t){void 0===t&&(t=this.props);var n=[t.longitude,t.latitude];this._map=new e.mapboxgl.Map({container:"map",style:m,attributionControl:!1,interactive:!1,zoom:12,center:n}),this._map.on("render",this.onMapRender),this._markerElement=document.createElement("div"),this._markerElement.className=g.a.pin,this._markerElement.addEventListener("click",this.onMarkerClick),this._marker=new e.mapboxgl.Marker(this._markerElement).setLngLat(n).addTo(this._map)},r._moveMap=function(e){void 0===e&&(e=this.props);var t=[e.longitude,e.latitude];this._map.setCenter(t),this._marker.setLngLat(t)},r.render=function(){var t=this.props,n=t.className,r=t.isExternalsLoading,a=t.isExternalsLoaded,o=t.isExternalsError;if(!t.isExternalsSupported)return null;var s=o||a&&!e.mapboxgl,l=r||this.state.isTilesLoading;return i()("div",{className:n},void 0,i()("div",{className:g.a.control},void 0,i()("div",{className:g.a.underlay},void 0,l?b:null,s?i()("span",{className:g.a.error},void 0,Object(d.default)("Unable to load map.")):null),i()("div",{className:(g.a.map||"")+" "+(l&&g.a.loading||""),id:"map"})))},n}(v);t.a=Object(h.a)(S,{hasSupport:function(){return c.a.hasWebGL},styles:["https://api.tiles.mapbox.com/mapbox-gl-js/v0.50.0/mapbox-gl.css"],scripts:["https://api.tiles.mapbox.com/mapbox-gl-js/v0.50.0/mapbox-gl.js"]})}).call(this,n(177))},function(e,t,n){"use strict";var r=n(9),i=n.n(r),a=n(7),o=n.n(a),s=n(8),l=n.n(s),c=n(1),u=n.n(c),d=n(68),p=u.a.createElement,h=u.a.Component,f="waiting",g="loaded",v="error",m="unsupported",y={};function b(e,t,n){if(y[t])return y[t];var r=l.a.Deferred(),i=document.createElement(e);return Object.assign(i,n),i.onload=function(){return r.resolve()},i.onerror=function(){return r.reject()},document.head.appendChild(i),y[t]=r.promise(),y[t]}function S(e){return b("link",e,{rel:"stylesheet",type:"text/css",href:e})}t.a=function(e,t){var n=function(n){function r(e,r){var i;return(i=n.call(this,e,r)||this).state={externals:t.hasSupport()?f:m},i}o()(r,n);var a=r.prototype;return a.componentWillMount=function(){var e=this;if(this.state.externals===f){var n=t.styles.map(S);n.push(t.scripts.reduce(function(e,t){return e.then(function(){return b("script",e=t,{type:"text/javascript",src:e});var e})},l.a.Deferred().resolve().promise())),l.a.when.apply(l.a,n).then(function(){return e.setState({externals:g})},function(){return e.setState({externals:v})})}},a.render=function(){var t=this.state.externals;return p(e,i()({isExternalsLoading:t===f,isExternalsLoaded:t===g,isExternalsError:t===v,isExternalsSupported:t!==m},this.props))},r}(h);return n.displayName="WithExternals("+Object(d.a)(e)+")",n.WrappedComponent=e,n}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div id="staticAlertBar" class="alert-bar-container"></div> <div id="alertBar" class="alert-bar-container"></div> <div id="content" class="scroll-container dark-scrollbar"></div> '})},function(e,t,n){e.exports={container:"SelectNavigationStep-container-17SG3E FirstRunExperienceActionsContainer-container-1Uv1FY",input:"SelectNavigationStep-input-2MiKPn CheckInput-input-1Pi_2g"}},function(e,t,n){e.exports={container:"FirstRunExperiencePage-container-39Qadj"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression;return l+='<h3>Browser</h3> <p><span class="text-muted">Host:</span> '+u(typeof(s=t&&t.host)===c?s.apply(t):s)+'</p> <p><span class="text-muted">User Agent:</span> '+u(typeof(s=t&&t.userAgent)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Name:</span> '+u(typeof(s=null==(s=t&&t.browser)||!1===s?s:s.name)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Version:</span> '+u(typeof(s=null==(s=t&&t.browser)||!1===s?s:s.version)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Platform:</span> '+u(typeof(s=null==(s=t&&t.browser)||!1===s?s:s.platform)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Mobile:</span> '+u(i(n(573)).call(t,null==(s=t&&t.browser)||!1===s?s:s.mobile,{hash:{},data:o}))+'</p> <h3>User</h3> <p><span class="text-muted">Username:</span> '+u(typeof(s=null==(s=t&&t.user)||!1===s?s:s.username)===c?s.apply(t):s)+" ",((s=r.if.call(t,t&&t.hasPlexPass,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"(Plex Pass)"},o),data:o}))||0===s)&&(l+=s),l+='</p> <p><span class="text-muted">Email:</span> '+u(typeof(s=null==(s=t&&t.user)||!1===s?s:s.email)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Token:</span> '+u(typeof(s=null==(s=t&&t.user)||!1===s?s:s.accessToken)===c?s.apply(t):s)+'</p> <h3>plex.tv</h3> <p><span class="text-muted">URL:</span> '+u(typeof(s=t&&t.cloudServerUrl)===c?s.apply(t):s)+'</p> <p><span class="text-muted">Available:</span> '+u(i(n(573)).call(t,null==(s=t&&t.cloudServer)||!1===s?s:s.available,{hash:{},data:o}))+'</p> <p><span class="text-muted">Authorized:</span> '+u(i(n(573)).call(t,null==(s=t&&t.cloudServer)||!1===s?s:s.authorized,{hash:{},data:o}))+"</p> <h3>Primary Server</h3> ",((s=r.if.call(t,t&&t.primaryServer,{hash:{},inverse:this.program(5,function(e,t){return' <p><span class="text-muted">none</span></p> '},o),fn:this.program(3,function(e,t){var n,r="";return r+=' <p><span class="text-muted">Name:</span> '+u(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.friendlyName)===c?n.apply(e):n)+'</p> <p><span class="text-muted">URL:</span> '+u(typeof(n=e&&e.primaryServerUrl)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Version:</span> '+u(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.version)===c?n.apply(e):n)+'</p> <p><span class="text-muted">Token:</span> '+u(typeof(n=null==(n=e&&e.primaryServer)||!1===n?n:n.accessToken)===c?n.apply(e):n)+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=" "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<textarea class="form-control">',o+=(0,this.escapeExpression)((a=n.logs)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.logs)?a.call(t,{hash:{},data:i}):a)+"</textarea> "})},function(e,t,n){e.exports={description:"EmptyPageDescription-description-2c3ayQ"}},function(e,t,n){e.exports={container:"TypeFirstPage-container-3eSc0u FullPage-container-17Y0cs"}},function(e,t,n){e.exports={icon:"ErrorSourceSidebar-icon-2qnXAl"}},function(e,t,n){e.exports={container:"SortableSources-container-28MsK- Measure-container-3yONEe"}},function(e,t,n){e.exports={header:"SourceSidebarHeader-header-2ViQaF"}},function(e,t,n){e.exports={scroller:"SourceSidebarScroller-scroller-3jyEM6 Scroller-scroller-3GqQcZ"}},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTYwIiBoZWlnaHQ9IjU2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KICA8ZyBmaWxsLXJ1bGU9Im5vbnplcm8iIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTI4MCAwQzEyNS41MTcgMCAwIDEyNS41MTcgMCAyODBzMTI1LjUxNyAyODAgMjgwIDI4MCAyODAtMTI1LjUxNyAyODAtMjgwUzQzNC40ODMgMCAyODAgMHoiIGZpbGw9IiM1MTU5NUUiLz4KICAgIDxwYXRoIGQ9Ik00MzIuMDY5IDQ2OC4yNzZjLTI0LjEzOCAyNi41NTItNzAgNTMuMTAzLTEwNi4yMDcgNTMuMTAzLTcuMjQxLTkuNjU1IDAtMTIuMDY5IDAtMjEuNzI0LTE5LjMxLTQuODI3LTMxLjM4LTIxLjcyNC00MS4wMzQtMzguNjItMi40MTQtMTkuMzEgMjQuMTM4LTM4LjYyMSAxNi44OTYtNTUuNTE4LTEyLjA2OSAyLjQxNC0yNi41NTItMi40MTQtMzYuMjA3LTkuNjU1LTQuODI3LTQuODI4LTkuNjU1LTkuNjU1LTEyLjA2OS0xNC40ODMtNy4yNDEtNC44MjctMTYuODk2LTcuMjQxLTI0LjEzOC05LjY1NS0yNi41NTEtOS42NTUtNTMuMTAzLTE5LjMxLTcyLjQxMy00MS4wMzQgMi40MTMtMTkuMzEtOS42NTYtMjguOTY2LTIxLjcyNS00My40NDktMTIuMDY5LTEyLjA2OS03LjI0MS0yNC4xMzgtMTIuMDY5LTQxLjAzNC00LjgyNy0xMi4wNy05LjY1NS0yMS43MjQtOS42NTUtMzMuNzkzIDAtMTIuMDcgNC44MjgtMjQuMTM4IDcuMjQyLTM2LjIwNyA3LjI0MS0yMS43MjQgMjEuNzI0LTQzLjQ0OCAyMS43MjQtNjcuNTg2IDIuNDE0LTkuNjU1LTE0LjQ4My0xMi4wNy0yLjQxNC0yNC4xMzggMTIuMDY5LTEyLjA3IDI4Ljk2Ni0yNi41NTIgNDguMjc2LTI2LjU1MiA5LjY1NSAwIDE0LjQ4MyA0LjgyOCAyNC4xMzggMi40MTQgOS42NTUtMi40MTQgMTkuMzEtNC44MjggMjguOTY1LTQuODI4IDE5LjMxLTIuNDE0IDM4LjYyMS03LjI0MSA1My4xMDQtMTkuMzFsMi40MTQgMi40MTRoMTQuNDgybDIuNDE0LTIuNDE0YzIxLjcyNCAxNi44OTYgNzIuNDE0IDkuNjU1IDY3LjU4NiA1MC42OXYyLjQxM2MtMTkuMzEgMi40MTQtMzMuNzkzIDAtNTMuMTAzLTcuMjQxdjIxLjcyNGMyOC45NjUgMTYuODk3IDY1LjE3MiAyOC45NjYgNzcuMjQxIDYwLjM0NS0xMi4wNjkgMTQuNDgzLTI2LjU1MSA3LjI0MS00My40NDggNy4yNDEtNC44MjggNC44MjgtNy4yNDEgOS42NTUtNC44MjggMTYuODk3LTEyLjA2OSA3LjI0MS0yNC4xMzggMTQuNDgzLTI4Ljk2NSAyOC45NjUtMi40MTQgNy4yNDIgMCAxOS4zMS0yLjQxNCAyNi41NTItNC44MjggOS42NTUtMTQuNDgzIDE2Ljg5Ny0xOS4zMSAyNi41NTIgMCAxNC40ODMgNy4yNDEgMjQuMTM4LTcuMjQyIDM2LjIwNy0xOS4zMSAwLTIxLjcyNC0xNC40ODMtMzYuMjA3LTE5LjMxLTEyLjA2OS00LjgyOC0yOC45NjUgMC00MS4wMzQtMi40MTQtMTkuMzEgNy4yNDEtMTYuODk3IDUzLjEwMyA5LjY1NSA0NS44NjIgMTIuMDctNC44MjggMTIuMDctMTIuMDcgMjguOTY2LTkuNjU2IDEyLjA2OSA3LjI0MiA0LjgyNyAyMS43MjUgNC44MjcgMzEuMzggNy4yNDIgNC44MjcgMTkuMzEgMi40MTQgMjQuMTM4IDEyLjA2OSAwIDcuMjQxLTIuNDE0IDE5LjMxIDIuNDE0IDI0LjEzOCA5LjY1NSAxNC40ODIgMzYuMjA3LTkuNjU1IDQzLjQ0OC0xMi4wNyAyMS43MjQtNy4yNCA0NS44NjItNC44MjcgNjcuNTg2LTQuODI3IDE2Ljg5NyAxMi4wNyA0My40NDkgNy4yNDIgNTcuOTMxIDI0LjEzOCA5LjY1Ni0yLjQxNCAxNi44OTctNy4yNDEgMjYuNTUyIDAtOS42NTUgMjguOTY2LTMzLjc5MyA1MC42OS01NS41MTcgNzIuNDE0eiIgZmlsbD0iI0EwQUFCMSIvPgogIDwvZz4KPC9zdmc+Cg=="},function(e,t,n){e.exports={modalContainer:"SourceSidebarConfirmModal-modalContainer-21lfc3 Modal-modalContainer-tNumMm"}},function(e,t,n){e.exports={menuPortal:"SourceSidebarMenu-menuPortal-LagpOp Menu-menuPortal-AbMPTD"}},function(e,t,n){e.exports={sourceLink:"HomeSourceLink-sourceLink-2PwRKn SourceSidebarLink-sourceLink-307kPL"}},function(e,t,n){e.exports={button:"SignInButton-button-RK-krQ SpinnerButton-button-1A8EcL Button-button-2kT68l Link-link-2n0yJn Button-large-3S9UdJ",badged:"SignInButton-badged-3WHIl7"}},function(e,t,n){e.exports={section:"SignInFormSection-section-2kPygI"}},function(e,t,n){e.exports={posterCell:"HomeHubPosterPlaceholderCell-posterCell-1jeJqH"}},function(e,t,n){e.exports={content:"HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},function(e,t,n){e.exports={pageHeader:"TypeFirstPageHeader-pageHeader-3yLq-K"}},function(e,t,n){e.exports={container:"PageHeaderToolbar-container-NMKiv4"}},function(e,t,n){e.exports={pageHeaderDivider:"TypeFirstPageHeaderDivider-pageHeaderDivider-3oGvsy"}},function(e,t,n){e.exports={listItem:"HomeHubListItemDragPreview-listItem-iDQ3JS HomeHubListItem-listItem-3aSc2w"}},function(e,t,n){e.exports={icon:"ErrorPage-icon-wSvNSQ EmptyPage-icon-1TWJcT"}},function(e,t,n){e.exports={description:"InsecureFallbackChoicePage-description-15to_s EmptyPageDescription-description-2c3ayQ"}},function(e,t,n){e.exports={attribution:"ProgramGuideAttribution-attribution-3Ca_IP"}},function(e,t,n){e.exports={badge:"PremiereAiringBadge-badge-hAmdnV"}},function(e,t,n){e.exports={badge:"PageHeaderBadge-badge-2oDBgn"}},function(e,t,n){e.exports={pageHeaderLeft:"PageHeaderLeft-pageHeaderLeft-12U4iA"}},function(e,t,n){e.exports={pageHeaderRight:"PageHeaderRight-pageHeaderRight-1dljwG"}},function(e,t,n){e.exports={pageHeaderCenter:"SourceTabsPageHeaderCenter-pageHeaderCenter-Q61IOY PageHeaderCenter-pageHeaderCenter-XZlGC2"}},function(e,t,n){e.exports={pageHeader:"TypeFirstPrimaryPageHeader-pageHeader-3EaE-s TypeFirstPageHeader-pageHeader-3yLq-K"}},function(e,t,n){e.exports={pageHeaderRight:"TypeFirstPrimaryPageHeaderRight-pageHeaderRight-1Z3C9Y PageHeaderRight-pageHeaderRight-1dljwG"}},function(e,t,n){e.exports={refreshingSpinner:"ProgramGuideActivityStatus-refreshingSpinner-30DBlM"}},function(e,t,n){e.exports={filtersScroller:"LibraryFiltersList-filtersScroller-2-lmLj Scroller-vertical-VScFLT"}},function(e,t,n){e.exports={sortDirectionIcon:"IconTableHeaderSortDirection-sortDirectionIcon-OPhyF4"}},function(e,t,n){e.exports={tableHeader:"TableHeader-tableHeader-1_aP-y"}},function(e,t,n){e.exports={tableHeaderLink:"TableHeaderLink-tableHeaderLink-3Gf7Eg"}},function(e,t,n){e.exports={tableHeaderTitle:"TableHeaderTitle-tableHeaderTitle-14sZdQ"}},function(e,t,n){e.exports={tableHeader:"PlayHistoryTableHeader-tableHeader-6lARRM"}},function(e,t,n){e.exports={icon:"InnerErrorPage-icon-3G9jvZ ErrorPage-icon-ZJ38xX EmptyPage-icon-31D3ZA"}},function(e,t,n){e.exports={logo:"DiscoverEmptyTidalPage-logo-3po-Ac EmptyPage-icon-31D3ZA"}},function(e,t,n){e.exports={group:"InlineFormGroup-group-2Wa86G"}},function(e,t,n){e.exports={label:"InlineInputGroupFormLabel-label-3jkhB9 FormLabel-label-2aLJ9b"}},function(e,t,n){e.exports={input:"InlineNumberInputGroup-input-uLbRbq TextInput-input-1VMuma input-input-1P2Vi4"}},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1);Object.defineProperty(t,"createAutoCorrectedDatePipe",{enumerable:!0,get:function(){return r(i).default}});var a=n(2);Object.defineProperty(t,"createNumberMask",{enumerable:!0,get:function(){return r(a).default}});var o=n(3);Object.defineProperty(t,"emailMask",{enumerable:!0,get:function(){return r(o).default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mm dd yyyy";return function(t){var n=[],r=e.split(/[^dmy]+/),i={dd:31,mm:12,yyyy:9999},a={dd:1,mm:1,yyyy:1},o=t.split("");r.forEach(function(t){var r=e.indexOf(t),a=parseInt(i[t].toString().substr(0,1),10);parseInt(o[r],10)>a&&(o[r+1]=o[r],o[r]=0,n.push(r))});var s=r.some(function(n){var r=e.indexOf(n),o=n.length,s=t.substr(r,o).replace(/\D/g,""),l=parseInt(s,10);return l>i[n]||s.length===o&&l<a[n]});return!s&&{value:o.join(""),indexesOfPipedChars:n}}}},function(e,t){"use strict";function n(e){return e.split(a).map(function(e){return p.test(e)?p:e})}Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(){function e(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=e.length;if(e===a||e[0]===g[0]&&1===t)return g.split(a).concat([p]).concat(m.split(a));var i=e.lastIndexOf(w),o=-1!==i,s=e[0]===l&&j,f=void 0,v=void 0,y=void 0;if(e.slice(-1*_)===m&&(e=e.slice(0,-1*_)),o&&(M||x)?(f=e.slice(e.slice(0,R)===g?R:0,i),v=n((v=e.slice(i+1,t)).replace(u,a))):f=e.slice(0,R)===g?e.slice(R):e,L&&(void 0===L?"undefined":r(L))===d){var S="."===I?"[.]":""+I,C=(f.match(new RegExp(S,"g"))||[]).length;f=f.slice(0,L+C*U)}return f=f.replace(u,a),N||(f=String(Number(f))),f=b?function(e,t){return e.replace(/\B(?=(\d{3})+(?!\d))/g,t)}(f,I):f,y=n(f),(o&&M||!0===x)&&(e[i-1]!==w&&y.push(h),y.push(w,h),v&&((void 0===T?"undefined":r(T))===d&&(v=v.slice(0,T)),y=y.concat(v)),!0===x&&e[i-1]===w&&y.push(p)),R>0&&(y=g.split(a).concat(y)),s&&(y.length===R&&y.push(p),y=[c].concat(y)),m.length>0&&(y=y.concat(m.split(a))),y}var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=t.prefix,g=void 0===f?i:f,v=t.suffix,m=void 0===v?a:v,y=t.includeThousandsSeparator,b=void 0===y||y,S=t.thousandsSeparatorSymbol,I=void 0===S?o:S,C=t.allowDecimal,M=void 0!==C&&C,D=t.decimalSymbol,w=void 0===D?s:D,P=t.decimalLimit,T=void 0===P?2:P,E=t.requireDecimal,x=void 0!==E&&E,O=t.allowNegative,j=void 0!==O&&O,A=t.allowLeadingZeroes,N=void 0!==A&&A,k=t.integerLimit,L=void 0===k?null:k,R=g&&g.length||0,_=m&&m.length||0,U=I&&I.length||0;return e.instanceOf="createNumberMask",e};var i="$",a="",o=",",s=".",l="-",c=/-/,u=/\D+/g,d="number",p=/\d/,h="[]"},function(e,t,n){"use strict";function r(e,t,n){var r=[];return e[t]===n?r.push(n):r.push(h,n),r.push(h),r}function i(e,t,n,r){var i=d;return-1!==t&&(i=-1===n?e.slice(t+1,e.length):e.slice(t+1,n)),(i=i.replace(new RegExp("[\\s"+r+"]",g),d))===p?c:i.length<1?f:i[i.length-1]===u?i.slice(0,i.length-1):i}function a(e,t,n,r){var i=d;return-1!==t&&(i=e.slice(t+1,e.length)),0===(i=i.replace(new RegExp("[\\s"+n+".]",g),d)).length?e[t-1]===u&&r!==e.length?c:d:i}function o(e,t){return e.split(d).map(function(e){return e===f?e:t?m:v})}Object.defineProperty(t,"__esModule",{value:!0});var s=n(4),l=function(e){return e&&e.__esModule?e:{default:e}}(s),c="*",u=".",d="",p="@",h="[]",f=" ",g="g",v=/[^\s]/,m=/[^.\s]/,y=/\s/g;t.default={mask:function(e,t){e=e.replace(y,d);var n=t.placeholderChar,s=t.currentCaretPosition,l=e.indexOf(p),c=e.lastIndexOf(u),h=c<l?-1:c,f=r(e,l+1,p),g=r(e,h-1,u),v=function(e,t){return-1===t?e:e.slice(0,t)}(e,l),m=i(e,l,h,n),b=a(e,h,n,s);return v=o(v),m=o(m),b=o(b,!0),v.concat(f).concat(m).concat(g).concat(b)},pipe:l.default}},function(e,t){"use strict";function n(e){var t=0;return e.replace(i,function(){return 1==++t?r:a})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var i=t.currentCaretPosition,d=t.rawValue,p=t.previousConformedValue,h=t.placeholderChar,f=e,g=(f=n(f)).indexOf(o);if(null===d.match(new RegExp("[^@\\s."+h+"]")))return a;if(-1!==f.indexOf(l)||-1!==g&&i!==g+1||-1===d.indexOf(r)&&p!==a&&-1!==d.indexOf(s))return!1;var v=f.indexOf(r);return(f.slice(v+1,f.length).match(u)||c).length>1&&f.substr(-1)===s&&i!==d.length&&(f=f.slice(0,f.length-1)),f};var r="@",i=/@/g,a="",o="@.",s=".",l="..",c=[],u=/\./g}])},function(e,t,n){e.exports=function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3);Object.defineProperty(t,"conformToMask",{enumerable:!0,get:function(){return r(i).default}});var a=n(2);Object.defineProperty(t,"adjustCaretPosition",{enumerable:!0,get:function(){return r(a).default}});var o=n(5);Object.defineProperty(t,"createTextMaskInputElement",{enumerable:!0,get:function(){return r(o).default}})},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.placeholderChar="_"},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=e.previousConformedValue,i=void 0===t?r:t,a=e.currentCaretPosition,o=void 0===a?0:a,s=e.conformedValue,l=e.rawValue,c=e.placeholderChar,u=e.placeholder,d=e.indexesOfPipedChars,p=void 0===d?n:d,h=e.caretTrapIndexes,f=void 0===h?n:h;if(0===o)return 0;var g=l.length,v=i.length,m=u.length,y=s.length,b=g-v,S=b>0,I=0===v;if(b>1&&!S&&!I)return o;var C=0;if(!S||i!==s&&s!==u)for(var M=s.toLowerCase(),D=l.toLowerCase().substr(0,o).split(r).filter(function(e){return-1!==M.indexOf(e)}),w=D[D.length-1],P=p.map(function(e){return M[e]}).filter(function(e){return e===w}).length,T=D.filter(function(e){return e===w}).length,E=u.substr(0,u.indexOf(c)).split(r).filter(function(e,t){return e===w&&l[t]!==e}).length+T+P,x=0,O=0;O<y;O++){var j=M[O];if(C=O+1,j===w&&x++,x>=E)break}else C=o-b;if(S){for(var A=C,N=C;N<=m;N++)if(u[N]===c&&(A=N),u[N]===c||-1!==f.indexOf(N)||N===m)return A}else for(var k=C;k>=0;k--)if(u[k-1]===c||-1!==f.indexOf(k)||0===k)return k};var n=[],r=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.guide,s=void 0===o||o,l=n.previousConformedValue,c=void 0===l?a:l,u=n.placeholderChar,d=void 0===u?i.placeholderChar:u,p=n.placeholder,h=void 0===p?(0,r.convertMaskToPlaceholder)(t,d):p,f=n.currentCaretPosition,g=n.keepCharPositions,v=!1===s&&void 0!==c,m=e.length,y=c.length,b=h.length,S=t.length,I=m-y,C=I>0,M=f+(C?-I:0),D=M+Math.abs(I);if(!0===g&&!C){for(var w=a,P=M;P<D;P++)h[P]===d&&(w+=d);e=e.slice(0,M)+w+e.slice(M,m)}for(var T=e.split(a).map(function(e,t){return{char:e,isNew:t>=M&&t<D}}),E=m-1;E>=0;E--){var x=T[E].char;if(x!==d){var O=E>=M&&y===S;x===h[O?E-I:E]&&T.splice(E,1)}}var j=a,A=!1;e:for(var N=0;N<b;N++){var k=h[N];if(k===d){if(T.length>0)for(;T.length>0;){var L=T.shift(),R=L.char,_=L.isNew;if(R===d&&!0!==v){j+=d;continue e}if(t[N].test(R)){if(!0===g&&!1!==_&&c!==a&&!1!==s&&C){for(var U=T.length,z=null,F=0;F<U;F++){var B=T[F];if(B.char!==d&&!1===B.isNew)break;if(B.char===d){z=F;break}}null!==z?(j+=R,T.splice(z,1)):N--}else j+=R;continue e}A=!0}!1===v&&(j+=h.substr(N,b));break}j+=k}if(v&&!1===C){for(var H=null,V=0;V<j.length;V++)h[V]===d&&(H=V);j=null!==H?j.substr(0,H+1):a}return{conformedValue:j,meta:{someCharsRejected:A}}};var r=n(4),i=n(1),a=""},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.convertMaskToPlaceholder=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.placeholderChar;if(-1!==e.indexOf(t))throw new Error("Placeholder character must not be used as part of the mask. Please specify a character that is not present in your mask as your placeholder character.\n\nThe placeholder character that was received is: "+JSON.stringify(t)+"\n\nThe mask that was received is: "+JSON.stringify(e));return e.map(function(e){return e instanceof RegExp?t:e}).join("")},t.isString=function(e){return"string"==typeof e||e instanceof String},t.isNumber=function(e){return"number"==typeof e&&void 0===e.length&&!isNaN(e)},t.processCaretTraps=function(e){for(var t=[],n=void 0;-1!==(n=e.indexOf(a));)t.push(n),e.splice(n,1);return{maskWithoutCaretTraps:e,indexes:t}};var r=n(1),i=[],a="[]"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){document.activeElement===e&&(m?setTimeout(function(){return e.setSelectionRange(t,t,g)},0):e.setSelectionRange(t,t,g))}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.default=function(e){var t={previousConformedValue:f};return{state:t,update:function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e,s=r.inputElement,c=r.mask,g=r.guide,m=r.pipe,y=r.placeholderChar,b=void 0===y?p.placeholderChar:y,S=r.keepCharPositions,I=void 0!==S&&S;if((n=n||s.value)!==t.previousConformedValue){(void 0===c?"undefined":o(c))===v&&void 0!==c.pipe&&void 0!==c.mask&&(m=c.pipe,c=c.mask);var C=void 0,M=void 0;if(c instanceof Array&&(C=(0,d.convertMaskToPlaceholder)(c,b)),!1!==c){var D=function(e){if((0,d.isString)(e))return e;if((0,d.isNumber)(e))return String(e);if(null==e)return f;throw new Error("The 'value' provided to Text Mask needs to be a string or a number. The value received was:\n\n "+JSON.stringify(e))}(n),w=s.selectionStart,P=t.previousConformedValue,T=void 0;if((void 0===c?"undefined":o(c))===h){if(!1===(M=c(D,{currentCaretPosition:w,previousConformedValue:P,placeholderChar:b})))return;var E=(0,d.processCaretTraps)(M),x=E.maskWithoutCaretTraps,O=E.indexes;M=x,T=O,C=(0,d.convertMaskToPlaceholder)(M,b)}else M=c;var j={previousConformedValue:P,guide:g,placeholderChar:b,pipe:m,placeholder:C,currentCaretPosition:w,keepCharPositions:I},A=(0,u.default)(D,M,j),N=A.conformedValue,k=(void 0===m?"undefined":o(m))===h,L={};k&&(!1===(L=m(N,a({rawValue:D},j)))?L={value:P,rejected:!0}:(0,d.isString)(L)&&(L={value:L}));var R=k?L.value:N,_=(0,l.default)({previousConformedValue:P,conformedValue:R,placeholder:C,rawValue:D,currentCaretPosition:w,placeholderChar:b,indexesOfPipedChars:L.indexesOfPipedChars,caretTrapIndexes:T}),U=R===C&&0===_,z=U?f:R;t.previousConformedValue=z,s.value!==z&&(s.value=z,i(s,_))}}}}};var s=n(2),l=r(s),c=n(3),u=r(c),d=n(4),p=n(1),h="function",f="",g="none",v="object",m="undefined"!=typeof navigator&&/Android/i.test(navigator.userAgent)}])},function(e,t,n){e.exports={inputs:"UnitInput-inputs-1Fc89j",textInput:"UnitInput-textInput-QSuLWN TextInput-input-1VMuma input-input-1P2Vi4"}},function(e,t,n){e.exports={character:"LibraryPageJumpBarCharacter-character-2Hr4Ed"}},function(e,t,n){e.exports={jumpBar:"LibraryPageJumpBar-jumpBar-22VKU1"}},function(e,t,n){e.exports={tidal:"InnerProviderErrorPage-tidal-VaTeSg EmptyPage-icon-31D3ZA"}},function(e,t,n){e.exports={attribution:"LibraryPage-attribution-1hvSUU ProgramGuideAttribution-attribution-3Ca_IP"}},function(e,t,n){e.exports={container:"HeroImg-container-vFZw-F"}},function(e,t,n){e.exports=n.p+"desktop/common/img/banners/banner-locast.e0329996ee7422201b88a210ecc3bdad.jpg"},function(e,t,n){e.exports={button:"HeroButton-button-2QeC3T Button-button-2kT68l Link-link-2n0yJn"}},function(e,t,n){e.exports={buttons:"HeroButtons-buttons-2mHk7l"}},function(e,t,n){e.exports={message:"Bold-message-3NquGF"}},function(e,t,n){e.exports={measured:"TimelinePage-measured-1z6hez"}},function(e,t,n){e.exports={title:"CalendarHeaderTitle-title-15Pr3D"}},function(e,t,n){e.exports={agendaHeader:"AgendaHeader-agendaHeader-66Y_9t"}},function(e,t,n){e.exports={day:"CalendarDay-day-1O4pXT"}},function(e,t,n){e.exports={calendarDays:"CalendarDays-calendarDays-2ORCec"}},function(e,t,n){e.exports={container:"CalendarDaysOfWeek-container-1MoYjb"}},function(e,t,n){e.exports={calendar:"Calendar-calendar-231Ooz"}},function(e,t,n){e.exports={seriesIcon:"RecordingPrioritySubscriptionSeriesTitle-seriesIcon-1yyj_S"}},function(e,t,n){e.exports={dragPreview:"RecordingPrioritySubscriptionDragPreview-dragPreview-3q037K"}},function(e,t,n){e.exports={dragSource:"RecordingPrioritySubscriptionDragSource-dragSource-2qcUl6"}},function(e,t,n){e.exports={actionLinks:"SettingsFormSectionActionLinks-actionLinks-2vGv7Q"}},function(e,t,n){e.exports={sectionDetails:"SettingsFormSectionDetails-sectionDetails-2rJ3jd"}},function(e,t,n){e.exports={content:"SearchPageContent-content-2wx4DB HomePageContent-content-3x2Kyr PageContent-innerPageContent-3ktLTA"}},function(e,t,n){e.exports={pageHeaderCenter:"PageHeaderCenter-pageHeaderCenter-XZlGC2"}},function(e,t,n){e.exports={pageHeaderSeparator:"PageHeaderSeparator-pageHeaderSeparator-GZfDve DashSeparator-separator-4CyEFW"}},function(e,t,n){e.exports={spinner:"SearchPageHeader-spinner-TAE_u5",separator:"SearchPageHeader-separator-1L3dSI"}},function(e,t,n){e.exports={bottomDivider:"PrePlayListBottomDivider-bottomDivider-3XSncY PrePlayDivider-divider-1qvbj9"}},function(e,t,n){e.exports={topDivider:"PrePlayListTopDivider-topDivider-3c8uzj PrePlayDivider-divider-1qvbj9"}},function(e,t,n){e.exports={header:"PrePlayDisc-header-1227p8 HubCellHeader-hubCellHeader-2pvYNF"}},function(e,t,n){e.exports={imageContainer:"PrePlayArtwork-imageContainer-3dXG6V"}},function(e,t,n){e.exports={imageContainer:"PrePlayHero-imageContainer-3tRKGo"}},function(e,t,n){e.exports={content:"PrePlayMetadataContent-content-2ww3jI"}},function(e,t,n){e.exports={face:"PrePlayPosterCard-face-3rQEjm MetadataPosterCardFace-face--dz_Dx MetadataPosterCardFace-poster-L2P6rC"}},function(e,t,n){e.exports={innerContent:"PrePlayMetadataListInnerContent-innerContent-2CsIzg"}},function(e,t,n){e.exports={castList:"PrePlayCastList-castList-3dQB5e"}},function(e,t,n){e.exports={extrasHubCell:"PrePlayExtrasList-extrasHubCell-2NcGKs HubCell-hubCell-3Ys175"}},function(e,t,n){e.exports=n.p+"desktop/common/img/vendor-logos/songkick.19411461aa7bffd06675aaa8a3d0a056.svg"},function(e,t,n){e.exports={popularTracksHubCell:"PrePlayPopularTracks-popularTracksHubCell-Q0N9bz HubCell-hubCell-3Ys175"}},function(e,t,n){e.exports={duration:"EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},function(e,t,n){e.exports={dragPreview:"PlaylistItemDragPreview-dragPreview-pFud8h"}},function(e,t,n){e.exports={container:"PlaylistItemDragSource-container-ACeFE8"}},function(e,t,n){e.exports={draggable:"PlaylistPhotoSortableItem-draggable-2XyLAc"}},function(e,t,n){e.exports={dragPreview:"PlaylistPhotoDragPreview-dragPreview-1Grr5S"}},function(e,t,n){e.exports={episodeCount:"EPGPrePlayEpisodeCountLeftTitle-episodeCount-1Ae4n- EPGPrePlayStatusLeftTitle-duration-1W91hQ"}},function(e,t,n){e.exports={icon:"PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconSaved:"PrePlayToggleMetadataItemSavedButton-iconSaved-17WmVR PrePlayToggleMetadataItemSavedButton-icon-2zORzf",iconUnsaved:"PrePlayToggleMetadataItemSavedButton-iconUnsaved-3itVtk PrePlayToggleMetadataItemSavedButton-icon-2zORzf"}},function(e,t,n){e.exports={toolbarRecordButton:"ToolbarRecordButton-toolbarRecordButton-2R8pzM ToolbarButton-toolbarButton-2i2nnD PlayButton-playButton-3WX8X- RecordIcon-recordIconContainer-1PXGA2"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="row-padded"> <h4 class="text-muted text-center">'+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"No devices found",{hash:{},data:a}))+"</h4> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){return this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{},'<div class="card card-device"> <img class="card-poster device-icon"> <div class="card-actions"> <button class="remove-device-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <h4 class="name"></h4> <div class="card-details"> <div class="pull-right"> <div class="last-seen text-muted"></div> <span class="sync-info hidden"> <span class="glyphicon circle-arrow-down sync-icon"></span> <span class="sync-count"></span> <span class="sync-size"></span> </span> </div> <span class="version text-muted"></span> <div class="device-info-container"> <div class="product"></div> <div class="device text-muted"></div> <div class="platform-info text-muted"> <span class="platform"></span> <span class="platform-version"></span> </div> </div> </div> </div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="",l="function",c=this.escapeExpression,u=this;function d(e,t){return'<i class="dropdown-selected-icon glyphicon ok-2"></i>'}return s+='<div class="filter-bar"> <span class="dropdown"> <a class="dropdown-toggle" href="#device-type-dropdown" data-toggle="dropdown"> <span class="dropdown-friendly-name">'+c(typeof(o=null==(o=t&&t.selectedDeviceType)||!1===o?o:o.title)===l?o.apply(t):o)+'</span> <i class="caret-icon"></i> </a> <ul class="dropdown-menu"> ',((o=r.each.call(t,t&&t.deviceTypes,{hash:{},inverse:u.noop,fn:u.programWithDepth(1,function(e,t,r){var i,a,o="";return o+=' <li><a data-id="'+c(typeof(i=e&&e.id)===l?i.apply(e):i)+'" href="#"><span class="dropdown-truncated-label">'+c(typeof(i=e&&e.title)===l?i.apply(e):i)+"</span>",((i=(a=n(38),a&&(a.__esModule?a.default:a)).call(e,null==(i=r&&r.selectedDeviceType)||!1===i?i:i.id,e&&e.id,{hash:{},inverse:u.noop,fn:u.program(2,d,t),data:t}))||0===i)&&(o+=i),o+="</a></li> "},a,t),data:a}))||0===o)&&(s+=o),s+=' </ul> </span> </div> <div class="device-list-container col-sm-12 col-md-12"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"selected"}function h(e,t){var a,o="";return o+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoLogin" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.autoLogin,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Automatically Sign In",{hash:{},data:t}))+' </label> <p class="help-block">'+u(i(n(14)).call(e,"Do not prompt to select a user or enter a PIN during startup on this device.",{hash:{},data:t}))+"</p> </div> "}function f(e,t){return"checked"}function g(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.allowHttpFallback,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function v(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a["settings.keepOnTop"],{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(typeof(a=e&&e.title)===c?a.apply(e):a)+"</option> "}function m(e,t){return u(i(n(14)).call(e,"Turn off settings sync",{hash:{},data:t}))}function y(e,t){return u(i(n(14)).call(e,"Turn on settings sync",{hash:{},data:t}))}function b(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.program(26,I,t),fn:d.program(24,S,t),data:t}))||0===n)&&(i+=n),i+=" "}function S(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Currently all {1} settings and home screen customization are synchronized with other {2} apps.",e&&e.escapedProductShortName,e&&e.escapedProductLongName,{hash:{},data:t}))+" "}function I(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Currently all Plex Web Client settings and home screen customization are synchronized with other browsers.",{hash:{},data:t}))+" "}function C(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.program(31,D,t),fn:d.program(29,M,t),data:t}))||0===n)&&(i+=n),i+=" "}function M(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Currently all {1} settings and home screen customization apply to this app only.",e&&e.escapedProductShortName,{hash:{},data:t}))+" "}function D(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Currently all Plex Web Client settings and home screen customization apply to this browser only.",{hash:{},data:t}))+" "}function w(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Any {1} settings and home screen customization made in this app will not be synchronized with other apps. This is because we have detected you have previously saved settings from a newer version of {2}.",e&&e.escapedProductShortName,e&&e.escapedProductLongName,{hash:{},data:t}))+" "}function P(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Any Plex Web Client settings and home screen customization made in this browser will not be synchronized with other browsers. This is because we have detected you have previously saved settings from a newer version of Plex Web client.",{hash:{},data:t}))+" "}function T(e,t){var a,o="";return o+=' <div class="form-group"> <label for="chromecastAppID">Chromecast Receiver</label> <select id="chromecastAppID"> ',((a=r.each.call(e,e&&e.chromecastAppIDs,{hash:{},inverse:d.noop,fn:d.programWithDepth(58,E,t,e),data:t}))||0===a)&&(o+=a),o+=' </select> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> <div id="chromecast-custom-group" class="form-group ',((a=i(n(282)).call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a.chromecastAppID,"custom",{hash:{},inverse:d.noop,fn:d.program(60,x,t),data:t}))||0===a)&&(o+=a),o+='"> <label for="chromecastCustomAppID">Custom Chromecast Application ID</label> <input type="text" id="chromecastCustomAppID" class="form-control" placeholder="Application ID" value="'+u(typeof(a=null==(a=e&&e.deviceSettings)||!1===a?a:a.chromecastCustomAppID)===c?a.apply(e):a)+'"> <p class="help-block">Refresh after saving this setting for it to take effect.</p> </div> '}function E(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a.chromecastAppID,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function x(e,t){return"hidden"}function O(e,t){var n,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="settings.webInspectorEnabled" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorEnabled"],{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===n)&&(i+=n),i+='> Remote Inspector </label> <p class="help-block">Restart the app after saving this setting for it to take effect.</p> </div> <div class="form-group"> <label for="">Report Inspector Port</label> <input type="text" id="settings.webInspectorPort" class="form-control" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorEnabled"],{hash:{},inverse:d.noop,fn:d.program(63,j,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.unless.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorEnabled"],{hash:{},inverse:d.noop,fn:d.program(65,A,t),data:t}))||0===n)&&(i+=n),i+=' /> <p class="help-block">After enabling the Remote Inspector visit <a href="http://localhost:'+u(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"])===c?n.apply(e):n)+'" target="_blank">http://localhost:'+u(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"])===c?n.apply(e):n)+"</a>.</p> </div> "}function j(e,t){var n,r="";return r+='value="'+u(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"])===c?n.apply(e):n)+'"'}function A(e,t){var n,r="";return r+='disabled placeholder="'+u(typeof(n=null==(n=e&&e.deviceSettings)||!1===n?n:n["settings.webInspectorPort"])===c?n.apply(e):n)+'"'}function N(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitleColor,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function k(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitlePosition,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function L(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitleSize,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function R(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.subtitlesBurnLevel,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "}function _(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other {4} apps may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,e&&e.escapedProductLongName,{hash:{},data:t}))+" "}function U(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"NOTE: If {1}settings sync{2} is also turned on, settings on other browsers where you use the Plex Web Client may also be reset. Use with caution.",'<a href="{3}">',"</a>",e&&e.generalSettingsRoute,{hash:{},data:t}))+" "}return l+='<div class="filter-bar"> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right basic-setting">'+u(i(n(14)).call(t,"Show Advanced",{hash:{},data:o}))+'</button> <button class="toggle-advanced-btn btn btn-sm btn-default pull-right advanced-setting">'+u(i(n(14)).call(t,"Hide Advanced",{hash:{},data:o}))+"</button> </div> ",((s=r.if.call(t,t&&t.showReloadSecurely,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var r,a="";return a+=' <div class="filter-bar-warning"> <span class="filter-bar-warning-text"> <span class="filter-bar-warning-alert-icon"> ',((r=typeof(r=e&&e.alertIcon)===c?r.apply(e):r)||0===r)&&(a+=r),a+=" </span> "+u(i(n(14)).call(e,"Your connection to the web app is not secure.",{hash:{},data:t}))+' </span> <button class="reload-securely-btn btn btn-sm btn-primary"> '+u(i(n(14)).call(e,"Reload Securely",{hash:{},data:t}))+" </button> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="row"> <div class="col-sm-12 col-md-12"> <form id="web-settings-form"> <div id="general-web-group" class="settings-group"> <h4 class="version-title"> '+u(i(n(14)).call(t,"Version",{hash:{},data:o}))+" "+u(typeof(s=t&&t.version)===c?s.apply(t):s)+' </h4> <div class="form-group"> <label for="language">'+u(i(n(14)).call(t,"Language",{hash:{},data:o}))+'</label> <select id="language"> ',((s=r.each.call(t,t&&t.languages,{hash:{},inverse:d.noop,fn:d.programWithDepth(3,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.language,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+u(typeof(a=e&&e.title)===c?a.apply(e):a)+" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,"Help us translate this app into your language {1}here{2}.",'<a href="https://transifex.com/plex-1/plex-web" target="_blank">',"</a>",{hash:{},data:o}))+"</p> </div> ",((s=r.if.call(t,t&&t.hasHome,{hash:{},inverse:d.noop,fn:d.program(6,function(e,t){var n,i="";return i+=" ",((n=r.unless.call(e,e&&e.isRestricted,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===n)&&(i+=n),i+=" "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="shouldSaveLastSourcePivots" ',((s=r.if.call(t,null==(s=t&&t.experienceSettings)||!1===s?s:s.shouldSaveLastSourcePivots,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Remember selected tab",{hash:{},data:o}))+' </label> <p class="help-block">'+u(i(n(14)).call(t,"Default to the last selected tab for a media source.",{hash:{},data:o}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="playThemeMusic" ',((s=r.if.call(t,null==(s=t&&t.experienceSettings)||!1===s?s:s.playThemeMusic,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Play Theme Music",{hash:{},data:o}))+' </label> <p class="help-block">'+u(i(n(14)).call(t,"Automatically play theme music in the background when available.",{hash:{},data:o}))+'</p> </div> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="companion" ',((s=r.if.call(t,null==(s=t&&t.experienceSettings)||!1===s?s:s.companion,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Advertise as player",{hash:{},data:o}))+' </label> <p class="help-block">'+u(i(n(14)).call(t,"Allow other Plex apps to fling content to this device and control it remotely.",{hash:{},data:o}))+"</p> </div> ",((s=r.if.call(t,t&&t.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.program(10,function(e,t){var a,o="";return o+=' <div class="form-group advanced-setting"> <label for="allowHttpFallback">'+u(i(n(14)).call(e,"Allow Fallback to Insecure Connections",{hash:{},data:t}))+'</label> <select id="allowHttpFallback"> ',((a=r.each.call(e,e&&e.httpFallbackOptions,{hash:{},inverse:d.noop,fn:d.programWithDepth(11,g,t,e),data:t}))||0===a)&&(o+=a),o+=' </select> <p class="help-block">'+u(i(n(14)).call(e,"Allow this app to make insecure connections to Plex Media Server if secure connections fail.",{hash:{},data:t}))+"</p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-group"> <label for="timeFormat">'+u(i(n(14)).call(t,"Time Format",{hash:{},data:o}))+'</label> <select id="timeFormat"> ',((s=r.each.call(t,t&&t.timeFormats,{hash:{},inverse:d.noop,fn:d.programWithDepth(13,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.timeFormat,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "},o,t),data:o}))||0===s)&&(l+=s),l+=" </select> </div> ",((s=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(15,function(e,t){var a,o="";return o+=' <div class="form-group"> <label for="settings.keepOnTop">'+u(i(n(14)).call(e,"Keep Plex on top of windows",{hash:{},data:t}))+'</label> <select id="settings.keepOnTop"> ',((a=r.each.call(e,e&&e.keepOnTopSettings,{hash:{},inverse:d.noop,fn:d.programWithDepth(16,v,t,e),data:t}))||0===a)&&(o+=a),o+=" </select> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <hr class="advanced-setting" /> ',((s=r.if.call(t,t&&t.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(18,function(e,t){var n,i="";return i+=' <div class="form-group advanced-setting" > <button type="button" class="toggle-sync-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:d.program(21,y,t),fn:d.program(19,m,t),data:t}))||0===n)&&(i+=n),i+='</span> </button> <p class="help-block"> ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.shouldSyncSettings,{hash:{},inverse:d.program(28,C,t),fn:d.program(23,b,t),data:t}))||0===n)&&(i+=n),i+=" </p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-group advanced-setting" > <button type="button" class="reset-customization-btn btn btn-sm btn-default btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Reset customization",{hash:{},data:o}))+'</span> </button> <p class="help-block"> ',((s=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.program(35,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the Plex Web Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{hash:{},data:t}))+" "},o),fn:d.program(33,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Reset sidebar navigation and home screen layout to the default state. Youll be redirected to the {1} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",e&&e.escapedProductShortName,{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </p> </div> <hr class="advanced-setting" /> ',((s=r.if.call(t,t&&t.isSyncSettingsRestrictedBySchemaVersion,{hash:{},inverse:d.noop,fn:d.program(37,function(e,t){var n,i="";return i+=' <p class="help-block"> <span class="inline-icon">',((n=typeof(n=e&&e.alertIcon)===c?n.apply(e):n)||0===n)&&(i+=n),i+="</span> ",((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.program(40,P,t),fn:d.program(38,w,t),data:t}))||0===n)&&(i+=n),i+=" </p> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div id="quality-web-group" class="settings-group"> ',((s=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(42,function(e,t){var a,o="";return o+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="autoAdjustQuality" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.autoAdjustQuality,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Automatically adjust quality (Beta)",{hash:{},data:t}))+' </label> <p class="help-block">'+u(i(n(14)).call(e,"Plex will increase or decrease quality based on connection speed. Requires latest Plex Media Server.",{hash:{},data:t}))+"</p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <h4 class="',((s=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.program(46,function(e,t){return"settings-header-first"},o),fn:d.program(44,function(e,t){return"settings-header"},o),data:o}))||0===s)&&(l+=s),l+='">'+u(i(n(14)).call(t,"Internet Streaming",{hash:{},data:o}))+'</h4> <div class="form-group"> <label for="remoteQuality">'+u(i(n(14)).call(t,"Video quality",{hash:{},data:o}))+'</label> <select id="remoteQuality" data-type="int"> <option value="-1">'+u(i(n(14)).call(t,"Maximum",{hash:{},data:o}))+"</option> ",((s=r.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(48,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.index)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.index,null==(a=r&&r.experienceSettings)||!1===a?a:a.remoteQuality,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(362)).call(e,e,{hash:{},data:t}))+" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,"Set the default quality for streaming video over the internet. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:o}))+'</p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="remoteSmallVideoAtOriginalQuality" ',((s=r.if.call(t,null==(s=t&&t.experienceSettings)||!1===s?s:s.remoteSmallVideoAtOriginalQuality,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Play smaller videos at original quality",{hash:{},data:o}))+' </label> <p class="help-block"> '+u(i(n(14)).call(t,"When a video file is smaller than the quality above, try playing the original video without converting. This preserves full quality, but playback may pause frequently.",{hash:{},data:o}))+" ",((s=r.if.call(t,t&&t.canPlayAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(50,function(e,t){return u(i(n(14)).call(e,'"Automatically adjust quality" will be disabled for these videos.',{hash:{},data:t}))},o),data:o}))||0===s)&&(l+=s),l+=' </p> </div> <h4 class="settings-header">'+u(i(n(14)).call(t,"Home Streaming",{hash:{},data:o}))+'</h4> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="useHomeStreamingRecommendedSettings" ',((s=r.if.call(t,null==(s=t&&t.experienceSettings)||!1===s?s:s.useHomeStreamingRecommendedSettings,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Use recommended settings",{hash:{},data:o}))+' </label> <p class="help-block recommended-home-streaming-settings">'+u(i(n(14)).call(t,"All compatible videos will play at original quality. Incompatible videos will be converted at maximum quality.",{hash:{},data:o}))+'</p> </div> <div class="form-group custom-home-streaming-settings"> <label for="localQuality">'+u(i(n(14)).call(t,"Video quality",{hash:{},data:o}))+'</label> <select id="localQuality" data-type="int"> <option value="-1">'+u(i(n(14)).call(t,"Maximum",{hash:{},data:o}))+"</option> ",((s=r.each.call(t,t&&t.availableQualities,{hash:{},inverse:d.noop,fn:d.programWithDepth(52,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.index)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.index,null==(a=r&&r.experienceSettings)||!1===a?a:a.localQuality,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(362)).call(e,e,{hash:{},data:t}))+" </option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,"Choose the default video quality to use for local Wi-Fi streaming on home networks. If quality is set too high, videos will start slowly and pause frequently.",{hash:{},data:o}))+'</p> </div> </div> <div id="debug-web-group" class="settings-group"> <div class="form-group"> <label for="debugLevel">'+u(i(n(14)).call(t,"Debug Level",{hash:{},data:o}))+'</label> <select id="debugLevel" data-type="int"> ',((s=r.each.call(t,t&&t.debugLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(54,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.deviceSettings)||!1===a?a:a.debugLevel,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,"You can view the debug logs {1}here{2}.",'<a href="#!/logs">',"</a>",{hash:{},data:o}))+"</p> </div> ",((s=r.if.call(t,t&&t.isNinja,{hash:{},inverse:d.noop,fn:d.program(56,function(e,t){var n,i="";return i+=" ",((n=r.unless.call(e,e&&e.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(57,T,t),data:t}))||0===n)&&(i+=n),i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="rejectDirectConnections" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.rejectDirectConnections,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===n)&&(i+=n),i+='> Reject direct connections </label> <p class="help-block">Forces relayed connections if available. Refresh after saving this setting for it to take effect.</p> </div> ',((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(62,O,t),data:t}))||0===n)&&(i+=n),i+=" "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directPlay" ',((s=r.if.call(t,null==(s=t&&t.deviceSettings)||!1===s?s:s.directPlay,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Direct Play",{hash:{},data:o}))+' </label> <p class="help-block"> ',((s=r.if.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.program(69,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Allows the player to play compatible media without any conversion. In most browsers, direct play supports MP4 videos with h264 video and AAC audio. Videos with subtitles cannot be played directly.",{hash:{},data:t}))+" "},o),fn:d.program(67,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"Allows the player to play compatible media without any conversion.",{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=' </p> </div> <div class="form-group"> <label class="control-label"> <input type="checkbox" id="directStream" ',((s=r.if.call(t,null==(s=t&&t.deviceSettings)||!1===s?s:s.directStream,{hash:{},inverse:d.noop,fn:d.program(8,f,o),data:o}))||0===s)&&(l+=s),l+="> "+u(i(n(14)).call(t,"Direct Stream",{hash:{},data:o}))+' </label> <p class="help-block">'+u(i(n(14)).call(t,"Allows the server to copy compatible audio and video streams without converting them.",{hash:{},data:o}))+"</p> </div> ",((s=r.if.call(t,t&&t.canDebugAdaptiveBitrate,{hash:{},inverse:d.noop,fn:d.program(71,function(e,t){var n,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugVideoQualityOverlay" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.debugVideoQualityOverlay,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===n)&&(i+=n),i+='> Video quality overlay </label> <p class="help-block">Burns a quality information overlay on video when automatically adjusting quality.</p> </div> '},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.canForceVideoAds,{hash:{},inverse:d.noop,fn:d.program(73,function(e,t){var n,i="";return i+=' <div class="form-group"> <label class="control-label"> <input type="checkbox" id="debugHasForcedVideoAds" ',((n=r.if.call(e,null==(n=e&&e.deviceSettings)||!1===n?n:n.debugHasForcedVideoAds,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===n)&&(i+=n),i+='> Force advertisements </label> <p class="help-block">Forces a test advertisement to play before each video during local playback. Remember to disable any ad blockers.</p> </div> '},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div id="player-web-group" class="settings-group"> <h4 class="settings-header-first ',((s=r.if.call(t,t&&t.isPMPDesktop,{hash:{},inverse:d.noop,fn:d.program(75,function(e,t){return"advanced-setting"},o),data:o}))||0===s)&&(l+=s),l+='">'+u(i(n(14)).call(t,"Audio & Subtitles",{hash:{},data:o}))+'</h4> <div class="form-group advanced-setting"> <label for="audioBoost">'+u(i(n(14)).call(t,"Multi-Channel Audio Boost",{hash:{},data:o}))+'</label> <select id="audioBoost" data-type="int"> ',((s=r.each.call(t,t&&t.audioBoostLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(77,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.audioBoost,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "},o,t),data:o}))||0===s)&&(l+=s),l+=' </select> <p class="help-block">'+u(i(n(14)).call(t,"Boost volume when converting multi-channel audio to stereo.",{hash:{},data:o}))+"</p> </div> ",((s=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(79,function(e,t){var a,o="";return o+=' \x3c!-- <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.exclusiveFullscreenAudioEnabled" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["player.exclusiveFullscreenAudioEnabled"],{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Exclusive Fullscreen Audio",{hash:{},data:t}))+' </label> <p class="help-block">'+u(i(n(14)).call(e,"Mute sounds from other applications while Plex is playing music or video in a fullscreen window.",{hash:{},data:t}))+"</p> </div> --\x3e "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.hasSubtitleColor,{hash:{},inverse:d.noop,fn:d.program(81,function(e,t){var a,o="";return o+=' <div class="form-group"> <label for="subtitleColor">'+u(i(n(14)).call(e,"Subtitle Color",{hash:{},data:t}))+'</label> <select id="subtitleColor"> ',((a=r.each.call(e,e&&e.subtitleColors,{hash:{},inverse:d.noop,fn:d.programWithDepth(82,N,t,e),data:t}))||0===a)&&(o+=a),o+=" </select> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.hasSubtitlePosition,{hash:{},inverse:d.noop,fn:d.program(84,function(e,t){var a,o="";return o+=' <div class="form-group"> <label for="subtitlePosition">'+u(i(n(14)).call(e,"Subtitle Position",{hash:{},data:t}))+'</label> <select id="subtitlePosition"> ',((a=r.each.call(e,e&&e.subtitlePositions,{hash:{},inverse:d.noop,fn:d.programWithDepth(85,k,t,e),data:t}))||0===a)&&(o+=a),o+=" </select> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.hasSubtitleSize,{hash:{},inverse:d.noop,fn:d.program(87,function(e,t){var a,o="";return o+=' <div class="form-group"> <label for="subtitleSize">'+u(i(n(14)).call(e,"Subtitle Size",{hash:{},data:t}))+'</label> <select id="subtitleSize" data-type="int"> ',((a=r.each.call(e,e&&e.subtitleSizes,{hash:{},inverse:d.noop,fn:d.programWithDepth(88,L,t,e),data:t}))||0===a)&&(o+=a),o+=" </select> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.hasSubtitleBurnLevel,{hash:{},inverse:d.noop,fn:d.program(90,function(e,t){var a,o="";return o+=' <div class="form-group advanced-setting"> <label for="subtitlesBurnLevel">'+u(i(n(14)).call(e,"Burn Subtitles",{hash:{},data:t}))+'</label> <select id="subtitlesBurnLevel"> ',((a=r.each.call(e,e&&e.subtitlesBurnLevels,{hash:{},inverse:d.noop,fn:d.programWithDepth(91,R,t,e),data:t}))||0===a)&&(o+=a),o+=' </select> <p class="help-block">'+u(i(n(14)).call(e,"Determines if the server should burn in subtitles when converting video depending on the subtitles format. Avoiding burn in improves server performance and is only supported by the HTML5 player.",{hash:{},data:t}))+"</p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.noop,fn:d.program(93,function(e,t){var a,o="";return o+=' <h4 class="settings-header advanced-setting">'+u(i(n(14)).call(e,"Video",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="player.hardwareDecodingEnabled" ',((a=r.if.call(e,null==(a=e&&e.deviceSettings)||!1===a?a:a["player.hardwareDecodingEnabled"],{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Use Hardware Decoding",{hash:{},data:t}))+' </label> <p class="help-block">'+u(i(n(14)).call(e,"Hardware decoding may improve video playback performance. Disable this setting if you encounter unexpected playback problems.",{hash:{},data:t}))+"</p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <h4 class="settings-header">'+u(i(n(14)).call(t,"Extras",{hash:{},data:o}))+'</h4> <div class="form-group"> <label for="extrasPrefixCount">'+u(i(n(14)).call(t,"Cinema Trailers to Play Before Movies",{hash:{},data:o}))+'</label> <select id="extrasPrefixCount" data-type="int"> ',((s=r.each.call(t,t&&t.extrasPrefixCounts,{hash:{},inverse:d.noop,fn:d.programWithDepth(95,function(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,null==(a=r&&r.experienceSettings)||!1===a?a:a.extrasPrefixCount,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===a)&&(o+=a),o+=">"+u(i(n(14)).call(e,e&&e.title,{hash:{},data:t}))+"</option> "},o,t),data:o}))||0===s)&&(l+=s),l+=" </select> </div> ",((s=r.unless.call(t,t&&t.isHybridPlatform,{hash:{},inverse:d.noop,fn:d.program(97,function(e,t){var a,o="";return o+=' <h4 class="settings-header advanced-setting">'+u(i(n(14)).call(e,"Chromecast",{hash:{},data:t}))+'</h4> <div class="form-group advanced-setting"> <label class="control-label"> <input type="checkbox" id="audioForceMultiChannel" ',((a=r.if.call(e,null==(a=e&&e.experienceSettings)||!1===a?a:a.audioForceMultiChannel,{hash:{},inverse:d.noop,fn:d.program(8,f,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Force multi-channel audio support",{hash:{},data:t}))+' </label> <p class="help-block">'+u(i(n(14)).call(e,"Forces Chromecast to allow six channel surround sound whether or not the device reports support.",{hash:{},data:t}))+"</p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' </div> <div class="form-footer"> <button type="submit" class="submit-btn btn btn-lg btn-primary btn-loading disabled"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Save Changes",{hash:{},data:o}))+'</span> </button> <span class="form-message"></span> </div> <div id="debug-web-group-footer" class="settings-group"> <hr /> <div class="form-group"> <button type="button" class="restore-btn btn btn-sm btn-danger btn-loading form-control-btn"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Restore defaults",{hash:{},data:o}))+'</span> </button> <p class="help-block"> ',((s=r.if.call(t,t&&t.isQtDesktop,{hash:{},inverse:d.program(101,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"All Plex Web Client settings, including home screen customization, will be reset and restored to their default state.",{hash:{},data:t}))+" "},o),fn:d.program(99,function(e,t){var r="";return r+=" "+u(i(n(14)).call(e,"All {1} settings, including home screen customization, will be reset and restored to their default state.",e&&e.escapedProductShortName,{hash:{},data:t}))+" "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.isSyncSettingsAllowed,{hash:{},inverse:d.noop,fn:d.program(103,function(e,t){var n,i="";return i+=" ",((n=r.if.call(e,e&&e.isQtDesktop,{hash:{},inverse:d.program(106,U,t),fn:d.program(104,_,t),data:t}))||0===n)&&(i+=n),i+=" "},o),data:o}))||0===s)&&(l+=s),l+=" </p> </div> <hr /> </div> </form> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n;return u(typeof(n=null==(n=e&&e.friendlyNameSetting)||!1===n?n:n.value)===c?n.apply(e):n)}function h(e,t){var n;return u(typeof(n=null==(n=e&&e.server)||!1===n?n:n.friendlyName)===c?n.apply(e):n)}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+u(i(n(14)).call(t,"Great, we found a server!",{hash:{},data:o}))+'</h4> <form id="setup-basic-form" class="settings-container"> ',((s=r.if.call(t,t&&t.friendlyNameSetting,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var a,o="";return o+=' <div class="setup-basic-form-group form-group"> <p class="text-muted"> '+u(i(n(14)).call(e,"Give it a friendly name to help identify it in Plex apps and on your network.",{hash:{},data:t}))+' </p> <input type="text" id="'+u(typeof(a=null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" class="form-control" value="',((a=r.if.call(e,null==(a=e&&e.friendlyNameSetting)||!1===a?a:a.value,{hash:{},inverse:d.program(4,h,t),fn:d.program(2,p,t),data:t}))||0===a)&&(o+=a),o+='" placeholder="'+u(typeof(a=null==(a=e&&e.server)||!1===a?a:a.friendlyName)===c?a.apply(e):a)+'"> </div> '},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=r.if.call(t,t&&t.publishSetting,{hash:{},inverse:d.noop,fn:d.program(6,function(e,t){var r,a="";return a+=' <div class="setup-basic-form-group form-group"> <div class="publish-checkbox checkbox"> <label for="'+u(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'"> <input type="checkbox" id="'+u(typeof(r=null==(r=e&&e.publishSetting)||!1===r?r:r.id)===c?r.apply(e):r)+'" checked> '+u(i(n(14)).call(e,"Allow me to access my media outside my home",{hash:{},data:t}))+' </label> </div> <p class="text-muted"> '+u(i(n(14)).call(e,"Plex will attempt to automatically configure your network to allow Plex apps outside your home to access Plex Media Server on this computer. Remember this computer will need to be turned on to access your media.",{hash:{},data:t}))+" </p> </div> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="setup-footer"> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Next",{hash:{},data:o}))+'</span> </button> <button class="next-btn hidden" data-subset="setupLibrary"></button> </div> </form> </div> </div> <div class="modal-container"></div> '})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTQ4IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDU0OCAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5Hcm91cDwvdGl0bGU+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0xOTYgMTczdjEzSDgxdi0xNCIvPjxtYXNrIGlkPSJqIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTE1IiBoZWlnaHQ9IjE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNhIi8+PC9tYXNrPjxwYXRoIGQ9Ik02LjUyMiAxNzNDMi45MiAxNzMgMCAxNzAuNjMxIDAgMTY3LjcxVjUuMjlDMCAyLjM3IDIuOTIgMCA2LjUyMiAwaDI2Mi45NTZDMjczLjA4IDAgMjc2IDIuMzY5IDI3NiA1LjI5djE2Mi40MmMwIDIuOTIxLTIuOTIgNS4yOS02LjUyMiA1LjI5SDYuNTIyeiIgaWQ9ImIiLz48bWFzayBpZD0iayIgeD0iMCIgeT0iMCIgd2lkdGg9IjI3NiIgaGVpZ2h0PSIxNzMiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2IiLz48L21hc2s+PHBhdGggaWQ9ImMiIGQ9Ik0xMyAxNjAuMTg1aDI0OS45MVYxM0gxM3oiLz48bWFzayBpZD0ibCIgeD0iMCIgeT0iMCIgd2lkdGg9IjI0OS45MTEiIGhlaWdodD0iMTQ3LjE4NSIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cmVjdCBpZD0iZCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIHJ4PSI2Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxOTIiIGhlaWdodD0iMTQwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNkIi8+PC9tYXNrPjxwYXRoIGlkPSJlIiBkPSJNMjAgMTFoMTUydjExOEgyMHoiLz48bWFzayBpZD0ibiIgeD0iMCIgeT0iMCIgd2lkdGg9IjE1MiIgaGVpZ2h0PSIxMTgiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2UiLz48L21hc2s+PGNpcmNsZSBpZD0iZiIgY3g9IjEyIiBjeT0iNzAiIHI9IjYiLz48bWFzayBpZD0ibyIgeD0iMCIgeT0iMCIgd2lkdGg9IjEyIiBoZWlnaHQ9IjEyIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMCAxOGg3MnY4NEgweiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iODQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2ciLz48L21hc2s+PGNpcmNsZSBpZD0iaCIgY3g9IjM2IiBjeT0iMTA5IiByPSI1Ii8+PG1hc2sgaWQ9InEiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMCIgaGVpZ2h0PSIxMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjaCIvPjwvbWFzaz48cmVjdCBpZD0iaSIgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNpIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3MiA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI2opIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjaykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNsKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDIyMCkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNkIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2UiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZiIvPjxjaXJjbGUgZmlsbD0iI0JCQiIgY3g9IjE4MCIgY3k9IjcwIiByPSIyIi8+PHBhdGggZmlsbD0iI0Y4QUQxOCIgZD0iTTk0LjU4IDEwMkg3NmwyMC42NDUtMzAuOTY4TDc2IDM4aDE4LjU4bDIwLjY0NiAzMy4wMzJ6Ii8+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDYwKSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3ApIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcSkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjwvZz48L3N2Zz4="},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"checked"}return l+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <div class="setup-apps-container"> <img class="setup-apps-image" src="'+u(typeof(s=t&&t.devicesImg)===c?s.apply(t):s)+'"> <a href="https://plex.tv/downloads" target="_blank" class="btn btn-default btn-lg">'+u(i(n(14)).call(t,"Get Plex Apps",{hash:{},data:o}))+'</a> </div> <p class="text-muted">'+u(i(n(14)).call(t,"All set! Your Plex Media Server is working hard to find your media and make it beautiful. Grab the Plex app for all your favorite devices to get the most out of Plex and start streaming everywhere!",{hash:{},data:o}))+'</p> <form id="setup-complete-form" class="settings-container"> ',((s=r.if.call(t,t&&t.collectUsageDataSetting,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){var a,o="";return o+=' <div class="checkbox"> <label for="'+u(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'"> <input type="checkbox" id="'+u(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" name="'+u(typeof(a=null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.id)===c?a.apply(e):a)+'" value="1" ',((a=r.if.call(e,null==(a=e&&e.collectUsageDataSetting)||!1===a?a:a.value,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===a)&&(o+=a),o+="> "+u(i(n(14)).call(e,"Send anonymous usage data to Plex",{hash:{},data:t}))+' </label> </div> <p class="setup-complete-help text-muted"> '+u(i(n(14)).call(e,"Help us improve everyone's Plex experience by sending anonymous usage data.",{hash:{},data:t}))+" </p> "},o),data:o}))||0===s)&&(l+=s),l+=' <div class="setup-footer setup-done-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupLibrary">'+u(i(n(14)).call(t,"Back",{hash:{},data:o}))+'</button> <button type="submit" class="submit-btn btn btn-primary btn-loading btn-lg active"> <div class="loading loading-sm"></div> <span class="btn-label">'+u(i(n(14)).call(t,"Done",{hash:{},data:o}))+'</span> </button> <button class="done-btn btn btn-primary btn-lg hidden"></button> </div> </form> </div> </div> <div class="modal-container"></div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<div class="row row-padded"> <div class="col-md-8 col-md-offset-2"> ',((s=r.if.call(t,t&&t.shared,{hash:{},inverse:this.program(3,function(e,t){var r="";return r+=" <h1>"+c(i(n(14)).call(e,"A problem has been detected with a core component of Plex Media Server.",{hash:{},data:t}))+'</h1> <h2 class="text-muted">'+c(i(n(14)).call(e,"Please visit the {1}forums{2} and provide your logs, as described {3}here{4}.",'<a href="https://forums.plex.tv" target="_blank">',"</a>",'<a href="http://support.plex.tv/hc/en-us/articles/200250417-Log-File-Locations/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:t}))+"</h2> "},o),fn:this.program(1,function(e,t){var r="";return r+=" <h1>"+c(i(n(14)).call(e,"Setup is not allowed for shared servers.",{hash:{},data:t}))+"</h1> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> </div> "})},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODEwIiBoZWlnaHQ9IjIzMCIgdmlld0JveD0iMCAwIDgxMCAyMzAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTVMg4oaSIENvbXB1dGVyPC90aXRsZT48ZGVmcz48cGF0aCBkPSJNMTU5LjU5NSAyMDcuNDc3Yy0uNDk0LTIuNDctMi42NS05LjczMi0zLjM0Ny0yMS40NDRIOTkuMzZjLS42OTggMTEuNzEyLTIuODUzIDE4Ljk3NC0zLjM0NiAyMS40NDQtLjk3NiA0Ljg4LTQuNzkgOC44MjktMTIuMDQgMTEuMDU5LTUuOTEyIDEuODE5LTUuMTU4IDEwLjY5MyAxLjY3NCAxMC42OTNoODQuMzE0YzYuODMxIDAgNy41ODctOC44NzMgMS42NzMtMTAuNjkzLTcuMjUtMi4yMy0xMS4wNjQtNi4xNzgtMTIuMDQtMTEuMDU5eiIgaWQ9ImEiLz48bWFzayBpZD0iZCIgeD0iMCIgeT0iMCIgd2lkdGg9Ijk1LjYzMyIgaGVpZ2h0PSI0My4xOTYiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTI1NiAxNDcuNXYzMS41NjRjMCA1LjUyNy00LjQ3IDEwLjAwOC05Ljk5NiAxMC4wMDhIOS45OTZjLTUuNTIgMC05Ljk5Ni00LjQ3Ni05Ljk5Ni0xMC4wMDhWMTAuMDAzQzAgNC40OCA0LjQ3IDAgOS45OTYgMGgyMzYuMDA4QzI1MS41MjQgMCAyNTYgNC40ODUgMjU2IDEwLjAwM1YxNDcuNXoiIGlkPSJiIi8+PG1hc2sgaWQ9ImUiIHg9IjAiIHk9IjAiIHdpZHRoPSIyNTYiIGhlaWdodD0iMTg5LjA3MiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48Y2lyY2xlIGlkPSJjIiBjeD0iMTEwIiBjeT0iMTEwIiByPSIxMTAiLz48bWFzayBpZD0iZiIgeD0iMCIgeT0iMCIgd2lkdGg9IjIyMCIgaGVpZ2h0PSIyMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2MiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNTUzKSIgc3Ryb2tlPSIjQkJCIj48dXNlIG1hc2s9InVybCgjZCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2EiLz48dXNlIG1hc2s9InVybCgjZSkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZS13aWR0aD0iMyIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgwIDUpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCNmKSIgc3Ryb2tlLXdpZHRoPSI4IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMTIuMTM0IDE3OS42NjdINzIuMTFsNDQuMzEtNjkuMDU2LTQ0LjMxLTY5LjA1NWg0MC4wMjNsNDQuMzEgNjkuMDU1eiIvPjwvZz48ZyBmaWxsPSIjQkJCIj48cGF0aCBkPSJNNTA0LjUgMTE1bC0xNCAxMy41di0yN3pNNDc5IDExOGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnptLTE2IDBhMyAzIDAgMSAwIDAtNiAzIDMgMCAwIDAgMCA2em0tMTYgMGEzIDMgMCAxIDAgMC02IDMgMyAwIDAgMCAwIDZ6bS0xNiAwYTMgMyAwIDEgMCAwLTYgMyAzIDAgMCAwIDAgNnoiLz48L2c+PC9nPjwvc3ZnPg=="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNzE1IiBoZWlnaHQ9IjE0OSIgdmlld0JveD0iMCAwIDcxNSAxNDkiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5NRURJQSBJQ09OUzwvdGl0bGU+PGRlZnM+PHBhdGggZD0iTTU3Ljg5NyAwSDEwLjAwOEM0LjQ4MiAwIDAgNC40ODEgMCAxMC4wMDh2NS41MDVMNTcuODk3IDB6bTU2Ljc3NiAwaDMuODljNS41MjcgMCAxMC4wMDggNC40ODIgMTAuMDA4IDEwLjAwOHY0MS44NkwxMTQuNjczIDB6bTEzLjg5OCAxMTQuMTY4djQuMzk1YzAgNS41MjctNC40ODEgMTAuMDA4LTEwLjAwOCAxMC4wMDhINzQuODE4bDUzLjc1My0xNC40MDN6TTE2LjAyIDEyOC41NzFoLTYuMDFDNC40OCAxMjguNTcxIDAgMTI0LjA5IDAgMTE4LjU2M1Y2OC43ODlsMTYuMDE5IDU5Ljc4MnoiIGlkPSJhIi8+PG1hc2sgaWQ9ImoiIHg9Ii0yIiB5PSItMiIgd2lkdGg9IjEzMi41NzEiIGhlaWdodD0iMTMyLjU3MSI+PHBhdGggZmlsbD0iI2ZmZiIgZD0iTS0yLTJoMTMyLjU3MXYxMzIuNTcxSC0yeiIvPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHJlY3QgaWQ9ImIiIHdpZHRoPSIxMjguNTcxIiBoZWlnaHQ9IjEyOC41NzEiIHJ4PSIxMCIvPjxtYXNrIGlkPSJrIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTI4LjU3MSIgaGVpZ2h0PSIxMjguNTcxIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNiIi8+PC9tYXNrPjxwYXRoIGQ9Ik0zOS43ODIgMjYuNTkyVjgzLjk5Yy0zLjI3OS0xLjAzNC03LjIzNC0xLjE2LTExLjI2Ny0uMTAzLTguNzY3IDIuMjk3LTE0LjQ4OCA5LjI2LTEyLjc3IDE1LjUzNSAxLjcxOCA2LjI3NiAxMC4yMjYgOS41MDUgMTguOTk1IDcuMTk3IDguMTAxLTIuMTE2IDE0LjcxLTguMjE3IDE0LjE1LTE0LjA3NmwuMDQxLTQxLjcxOCA0MC4zODYtNS4zODV2MzMuMTY1Yy0zLjI4LTEuMDM0LTcuMjM1LTEuMTYtMTEuMjY4LS4xMDItOC43NjYgMi4yOTYtMTQuNDg4IDkuMjU5LTEyLjc3IDE1LjUzNXMxMC4yMjYgOS41MDQgMTguOTk1IDcuMTk2YzguMTAxLTIuMTE2IDE0LjcxMS04LjIxNyAxNC4xNTEtMTQuMDc1IDAtMTQuNzk1LjA0LTY1Ljk1LjA0LTY1Ljk1bC01OC42ODMgNS4zODR6IiBpZD0iYyIvPjxtYXNrIGlkPSJsIiB4PSIwIiB5PSIwIiB3aWR0aD0iODMuMDI1IiBoZWlnaHQ9Ijg2LjE1NiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYyIvPjwvbWFzaz48cGF0aCBkPSJNNjYuMTEzIDkuNTk1bC00MC43MDUtMy41NmE4Ljg0NSA4Ljg0NSAwIDAgMC05LjU4NiA4LjA0bC0uMzkgNC40NTcgNTAuNjgtOC45Mzd6bTU1LjczNCA0Ljg3N2w1LjQ3NS40NzljNC44NjguNDI1IDguNDcgNC43MTcgOC4wNDQgOS41ODNsLTMuODk1IDQ0LjUxOC05LjYyNC01NC41OHptNC4yMDEgMTE2LjU2bC0uNDcgNS4zODNhOC44NDUgOC44NDUgMCAwIDEtOS41ODYgOC4wNGwtNDQuMTYtMy44NjMgNTQuMjE2LTkuNTZ6bS0xMDQuNTkgNS4xNTNsLTcuMzgtLjY0NWMtNC44NjgtLjQyNi04LjQ3LTQuNzE4LTguMDQ0LTkuNTg0bDQuNTE3LTUxLjYyNSAxMC45MDYgNjEuODU0eiIgaWQ9ImQiLz48bWFzayBpZD0ibSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTMzLjQiIGhlaWdodD0iMTQyLjQ5Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCA0aDEzMy40djE0Mi40OUg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggZD0iTS42MDcgOS4wMTVBOC44NDUgOC44NDUgMCAwIDEgOS40NTUuMTY5SDExMS43NmM0Ljg4NyAwIDguODQ4IDMuOTYxIDguODQ4IDguODQ2djExMi4zMDhhOC44NDUgOC44NDUgMCAwIDEtOC44NDggOC44NDZIOS40NTVjLTQuODg2IDAtOC44NDgtMy45NjItOC44NDgtOC44NDZWOS4wMTV6IiBpZD0iZSIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIwIiBoZWlnaHQ9IjEzMCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48cGF0aCBpZD0iZiIgZD0iTTE0LjYzNiAxNC4xOTdoOTAuNjQ3djgyLjAxNEgxNC42MzZ6Ii8+PG1hc2sgaWQ9Im8iIHg9IjAiIHk9IjAiIHdpZHRoPSI5MC42NDciIGhlaWdodD0iODIuMDE0IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNmIi8+PC9tYXNrPjxwYXRoIGlkPSJnIiBkPSJNMTQuNjM2IDY1Ljk5NmwzMC4yMTYtMjMuNzQxIDIzLjc0IDI2Ljk3OCAxNC4wMy0xMC43OTEgMjIuNjYxIDIwLjUwNHYxNy4yNjZIMTQuNjM2eiIvPjxtYXNrIGlkPSJwIiB4PSIwIiB5PSIwIiB3aWR0aD0iOTAuNjQ3IiBoZWlnaHQ9IjUzLjk1NyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48cGF0aCBkPSJNNjMuOTcyIDguNjgxTDIyLjEyIDUuMDE5YTUgNSAwIDAgMC01LjQyIDQuNTM5bC0uNjYzIDcuNTc1IDQ3LjkzNS04LjQ1MnptNDcuODg1IDQuMTlsMTAuODcyLjk1YTUuMDA0IDUuMDA0IDAgMCAxIDQuNTQ5IDUuNDExbC00Ljc0MiA1NC4yLTEwLjY3OS02MC41NjJ6bTUuMzkxIDEyMC45OThsLS42NTEgNy40NDdhNSA1IDAgMCAxLTUuNDIgNC41MzlsLTQxLjM3NC0zLjYyIDQ3LjQ0NS04LjM2NnptLTk2LjA0MiA0LjExNGwtMTAuNjM4LS45M2E1LjAwNCA1LjAwNCAwIDAgMS00LjU0OS01LjQxMWw0LjY2Ni01My4zMjcgMTAuNTIgNTkuNjY4eiIgaWQ9ImgiLz48bWFzayBpZD0icSIgeD0iLTIiIHk9Ii0yIiB3aWR0aD0iMTI1LjI5NyIgaGVpZ2h0PSIxNDQuODc0Ij48cGF0aCBmaWxsPSIjZmZmIiBkPSJNNCAzaDEyNS4yOTd2MTQ0Ljg3NEg0eiIvPjx1c2UgeGxpbms6aHJlZj0iI2giLz48L21hc2s+PHBhdGggZD0iTTExIDEzLjk5NEE1IDUgMCAwIDEgMTYuMDAzIDloMTAwLjk5NEE1LjAwNCA1LjAwNCAwIDAgMSAxMjIgMTMuOTk0djEyMi41NWE1LjAwMSA1LjAwMSAwIDAgMS01IDQuOTkzSDE2Yy0yLjc2MSAwLTUtMi4yNDQtNS00Ljk5M1YxMy45OTR6IiBpZD0iaSIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTExIiBoZWlnaHQ9IjEzMi41MzciIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PC9kZWZzPjxnIGZpbGw9Im5vbmUiIGZpbGwtcnVsZT0iZXZlbm9kZCI+PGcgc3Ryb2tlPSIjRDhGRjk1IiBzdHJva2Utd2lkdGg9IjQiPjx1c2UgbWFzaz0idXJsKCNqKSIgeGxpbms6aHJlZj0iI2EiIHRyYW5zZm9ybT0icm90YXRlKDUgMjQxLjM5NiA2NjczLjYwNykiLz48ZyB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNDEwLjE1IC0zMjI4LjA3KSI+PHVzZSBtYXNrPSJ1cmwoI2spIiB4bGluazpocmVmPSIjYiIvPjx1c2UgbWFzaz0idXJsKCNsKSIgeGxpbms6aHJlZj0iI2MiLz48L2c+PC9nPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDI3OSAtMSkiIHN0cm9rZT0iI0ZGQTBERSIgc3Ryb2tlLXdpZHRoPSI0Ij48dXNlIG1hc2s9InVybCgjbSkiIHhsaW5rOmhyZWY9IiNkIi8+PGcgdHJhbnNmb3JtPSJyb3RhdGUoLTEwIDEyMi42NSA3LjEzNSkiPjx1c2UgbWFzaz0idXJsKCNuKSIgeGxpbms6aHJlZj0iI2UiLz48dXNlIG1hc2s9InVybCgjbykiIHhsaW5rOmhyZWY9IiNmIi8+PHVzZSBtYXNrPSJ1cmwoI3ApIiB4bGluazpocmVmPSIjZyIvPjwvZz48L2c+PGcgc3Ryb2tlPSIjQTRFMkZGIiB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMSAtMSkiPjx1c2UgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjaCIvPjx1c2UgbWFzaz0idXJsKCNyKSIgc3Ryb2tlLXdpZHRoPSI0IiB0cmFuc2Zvcm09InJvdGF0ZSgtMTAgNjYuNSA3NS4yNjkpIiB4bGluazpocmVmPSIjaSIvPjxwYXRoIHN0cm9rZS13aWR0aD0iMiIgZD0iTTExLjgyMyAzMS4wNTNsOS43OS0xLjcyNyAxLjcyNSA5Ljc5LTkuNzg5IDEuNzI2ek0xNS45OTQgNTQuNzFsOS43OS0xLjcyNSAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yMC4xNjYgNzguMzY4bDkuNzktMS43MjcgMS43MjUgOS43OS05Ljc4OSAxLjcyNXpNMjQuMzM3IDEwMi4wMjZsOS43OS0xLjcyNiAxLjcyNiA5Ljc4OS05Ljc5IDEuNzI2ek0yOC41MSAxMjUuNjgybDkuNzg4LTEuNzI2IDEuNzI2IDkuNzktOS43ODkgMS43MjV6TTkzLjQgMTYuNjY5bDkuNzktMS43MjYgMS43MjUgOS43ODktOS43ODggMS43MjZ6TTk3LjU3MyA0MC4zMjZsOS43ODktMS43MjYgMS43MjYgOS43OS05Ljc5IDEuNzI1ek0xMDEuNzQzIDYzLjk4NGw5Ljc5LTEuNzI2IDEuNzI2IDkuNzg4LTkuNzkgMS43Mjd6TTEwNS45MTQgODcuNjRsOS43OS0xLjcyNSAxLjcyNSA5Ljc4OS05Ljc4OSAxLjcyNnpNMTEwLjA4NiAxMTEuMjk5bDkuNzktMS43MjcgMS43MjYgOS43OS05Ljc5IDEuNzI2ek0zMS43MTYgMzIuNjU5bDUyLjIxLTkuMjA2IDcuMTkxIDQwLjc4OC01Mi4yMSA5LjIwNnpNNDEuNDk3IDg4LjEzMmw1Mi4yMS05LjIwNiA3LjE5MSA0MC43ODgtNTIuMjEgOS4yMDZ6Ii8+PC9nPjwvZz48L3N2Zz4="},function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iOTQ1IiBoZWlnaHQ9IjM2MCIgdmlld0JveD0iMCAwIDk0NSAzNjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPjx0aXRsZT5QTEFZIE1FRElBIElDT05TPC90aXRsZT48ZGVmcz48cGF0aCBpZD0iYSIgZD0iTTE5NiAxNzJ2MTRIODF2LTE0Ii8+PG1hc2sgaWQ9Im0iIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTUiIGhlaWdodD0iMTQiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2EiLz48L21hc2s+PHBhdGggZD0iTTYuNTIyIDE3M0MyLjkyIDE3MyAwIDE3MC42MzEgMCAxNjcuNzFWNS4yOUMwIDIuMzcgMi45MiAwIDYuNTIyIDBoMjYyLjk1NkMyNzMuMDggMCAyNzYgMi4zNjkgMjc2IDUuMjl2MTYyLjQyYzAgMi45MjEtMi45MiA1LjI5LTYuNTIyIDUuMjlINi41MjJ6IiBpZD0iYiIvPjxtYXNrIGlkPSJuIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjc2IiBoZWlnaHQ9IjE3MyIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYiIvPjwvbWFzaz48cGF0aCBpZD0iYyIgZD0iTTEzIDE2MC4xODVoMjQ5LjkxVjEzSDEzeiIvPjxtYXNrIGlkPSJvIiB4PSIwIiB5PSIwIiB3aWR0aD0iMjQ5LjkxMSIgaGVpZ2h0PSIxNDcuMTg1IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNjIi8+PC9tYXNrPjxyZWN0IGlkPSJkIiB3aWR0aD0iMTkyIiBoZWlnaHQ9IjE0MCIgcng9IjYiLz48bWFzayBpZD0icCIgeD0iMCIgeT0iMCIgd2lkdGg9IjE5MiIgaGVpZ2h0PSIxNDAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2QiLz48L21hc2s+PHBhdGggaWQ9ImUiIGQ9Ik0yMCAxMWgxNTJ2MTE4SDIweiIvPjxtYXNrIGlkPSJxIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTUyIiBoZWlnaHQ9IjExOCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZSIvPjwvbWFzaz48Y2lyY2xlIGlkPSJmIiBjeD0iMTIiIGN5PSI3MCIgcj0iNiIvPjxtYXNrIGlkPSJyIiB4PSIwIiB5PSIwIiB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2YiLz48L21hc2s+PHBhdGggaWQ9ImciIGQ9Ik0wIDE4aDcydjg0SDB6Ii8+PG1hc2sgaWQ9InMiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSI4NCIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjZyIvPjwvbWFzaz48Y2lyY2xlIGlkPSJoIiBjeD0iMzYiIGN5PSIxMDkiIHI9IjUiLz48bWFzayBpZD0idCIgeD0iMCIgeT0iMCIgd2lkdGg9IjEwIiBoZWlnaHQ9IjEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNoIi8+PC9tYXNrPjxyZWN0IGlkPSJpIiB3aWR0aD0iNzIiIGhlaWdodD0iMTIwIiByeD0iOC40Ii8+PG1hc2sgaWQ9InUiIHg9IjAiIHk9IjAiIHdpZHRoPSI3MiIgaGVpZ2h0PSIxMjAiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2kiLz48L21hc2s+PHBhdGggZD0iTTE1OS41OTUgMjA3LjQ3N2MtLjQ5NC0yLjQ3LTIuNjUtOS43MzItMy4zNDctMjEuNDQ0SDk5LjM2Yy0uNjk4IDExLjcxMi0yLjg1MyAxOC45NzQtMy4zNDYgMjEuNDQ0LS45NzYgNC44OC00Ljc5IDguODI5LTEyLjA0IDExLjA1OS01LjkxMiAxLjgxOS01LjE1OCAxMC42OTMgMS42NzQgMTAuNjkzaDg0LjMxNGM2LjgzMSAwIDcuNTg3LTguODczIDEuNjczLTEwLjY5My03LjI1LTIuMjMtMTEuMDY0LTYuMTc4LTEyLjA0LTExLjA1OXoiIGlkPSJqIi8+PG1hc2sgaWQ9InYiIHg9IjAiIHk9IjAiIHdpZHRoPSI5NS42MzMiIGhlaWdodD0iNDMuMTk2IiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNqIi8+PC9tYXNrPjxwYXRoIGQ9Ik0yNTYgMTQ3LjV2MzEuNTY0YzAgNS41MjctNC40NyAxMC4wMDgtOS45OTYgMTAuMDA4SDkuOTk2Yy01LjUyIDAtOS45OTYtNC40NzYtOS45OTYtMTAuMDA4VjEwLjAwM0MwIDQuNDggNC40NyAwIDkuOTk2IDBoMjM2LjAwOEMyNTEuNTI0IDAgMjU2IDQuNDg1IDI1NiAxMC4wMDNWMTQ3LjV6IiBpZD0iayIvPjxtYXNrIGlkPSJ3IiB4PSIwIiB5PSIwIiB3aWR0aD0iMjU2IiBoZWlnaHQ9IjE4OS4wNzIiIGZpbGw9IiNmZmYiPjx1c2UgeGxpbms6aHJlZj0iI2siLz48L21hc2s+PGNpcmNsZSBpZD0ibCIgY3g9IjU1IiBjeT0iNTUiIHI9IjU1Ii8+PG1hc2sgaWQ9IngiIHg9IjAiIHk9IjAiIHdpZHRoPSIxMTAiIGhlaWdodD0iMTEwIiBmaWxsPSIjZmZmIj48dXNlIHhsaW5rOmhyZWY9IiNsIi8+PC9tYXNrPjwvZGVmcz48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKDY2OSA4NykiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI20pIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNhIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjbikiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2IiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNvKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjYyIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik0xMzcuMDQyIDEyMC43NUgxMTdsMjIuMTktMzQuMzc1TDExNyA1MmgyMC4wNDJsMjIuMTkgMzQuMzc1eiIvPjwvZz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgzOTcgMjIwKSI+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjcCkiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2QiLz48dXNlIHN0cm9rZT0iI0JCQiIgbWFzaz0idXJsKCNxKSIgc3Ryb2tlLXdpZHRoPSI0IiB4bGluazpocmVmPSIjZSIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3IpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNmIi8+PGNpcmNsZSBmaWxsPSIjQkJCIiBjeD0iMTgwIiBjeT0iNzAiIHI9IjIiLz48cGF0aCBmaWxsPSIjRjhBRDE4IiBkPSJNOTQuNTggMTAySDc2bDIwLjY0NS0zMC45NjhMNzYgMzhoMTguNThsMjAuNjQ2IDMzLjAzMnoiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNDU3KSI+PHJlY3Qgd2lkdGg9IjcyIiBoZWlnaHQ9IjEyMCIgcng9IjguNCIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3MpIiBzdHJva2Utd2lkdGg9IjQiIHhsaW5rOmhyZWY9IiNnIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdCkiIHN0cm9rZS13aWR0aD0iNCIgeGxpbms6aHJlZj0iI2giLz48cmVjdCBmaWxsPSIjQkJCIiB4PSIzMSIgeT0iMTAiIHdpZHRoPSIxMC44IiBoZWlnaHQ9IjIuNCIgcng9IjEuMiIvPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3UpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNpIi8+PHBhdGggZD0iTTM1LjAzMiA3OUgyNGwxMi4yNTgtMTguMzg3TDI0IDQxaDExLjAzMkw0Ny4yOSA2MC42MTN6IiBmaWxsPSIjRjhBRDE4Ii8+PC9nPjxnIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSI0IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zMzAuNTk4IDE4My4yNTRDMzQxLjM1NSAxNzIuNDEgMzQ4IDE1Ny40ODEgMzQ4IDE0MWMwLTE2LjcyMy02Ljg0MS0zMS44NDgtMTcuODc4LTQyLjcyOCIvPjxwYXRoIGQ9Ik0zMTkuOTg4IDE3Mi42NUMzMjguMDMzIDE2NC41MiAzMzMgMTUzLjM0IDMzMyAxNDFjMC0xMi41MjMtNS4xMTUtMjMuODUxLTEzLjM3LTMyLjAxTTMwOS41MDIgMTYxLjkyQTI5LjkwMiAyOS45MDIgMCAwIDAgMzE4IDE0MWMwLTguMzc2LTMuNDMzLTE1Ljk1MS04Ljk2OS0yMS4zOTQiLz48L2c+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoMCA2NSkiPjx1c2Ugc3Ryb2tlPSIjQkJCIiBtYXNrPSJ1cmwoI3YpIiBzdHJva2Utd2lkdGg9IjYiIHhsaW5rOmhyZWY9IiNqIi8+PHVzZSBzdHJva2U9IiNCQkIiIG1hc2s9InVybCgjdykiIHN0cm9rZS13aWR0aD0iNiIgeGxpbms6aHJlZj0iI2siLz48cGF0aCBkPSJNMS41IDE0Ny41aDI1My4xOTgiIHN0cm9rZT0iI0JCQiIgc3Ryb2tlLXdpZHRoPSIzIiBzdHJva2UtbGluZWNhcD0ic3F1YXJlIi8+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNzMgMjEpIj48dXNlIHN0cm9rZT0iI0Y4QUQxOCIgbWFzaz0idXJsKCN4KSIgc3Ryb2tlLXdpZHRoPSI2IiBmaWxsPSIjMUYxRjFGIiB4bGluazpocmVmPSIjbCIvPjxwYXRoIGZpbGw9IiNGOEFEMTgiIGQ9Ik01Ni4zODIgODkuMzc1SDM2LjMzOUw1OC41MyA1NSAzNi4zNCAyMC42MjVoMjAuMDQzTDc4LjU3MiA1NXoiLz48L2c+PC9nPjwvZz48L3N2Zz4="},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression;return l+='<h2 class="setup-intro-header">'+c(i(n(14)).call(t,"How Plex Works",{hash:{},data:o}))+"</h2> <h4>"+c(i(n(14)).call(t,"Plex Media Server runs on the computer where you keep your media",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-computer-img" src='+c("function"==typeof(s=t&&t.computerImg)?s.apply(t):s)+"> <h4>"+c(i(n(14)).call(t,"Plex scans your media, automatically organizes it, and makes it beautiful",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-media-img" src='+c("function"==typeof(s=t&&t.mediaImg)?s.apply(t):s)+"> <h4>"+c(i(n(14)).call(t,"Play your media on any screen with your favorite Plex app",{hash:{},data:o}))+'</h4> <img class="setup-intro-img setup-intro-play-img" src='+c("function"==typeof(s=t&&t.playImg)?s.apply(t):s)+'> <p> <button class="next-btn btn btn-primary btn-lg" data-subset="setupLoading">'+c(i(n(14)).call(t,"Got it!",{hash:{},data:o}))+"</button> </p> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,n,r,i){this.compilerInfo=[4,">= 1.0.0"],n=this.merge(n,e.helpers),i=i||{};var a,o="";return o+='<div class="card card-section"> <div class="card-actions"> <button class="edit-section-btn card-action-btn"><i class="glyphicon pencil"></i></button> <button class="delete-section-btn card-action-btn btn-danger"><i class="glyphicon remove-2"></i></button> </div> <i class="section-icon glyphicon ',o+=(0,this.escapeExpression)((a=n.icon)?a.call(t,{hash:{},data:i}):"function"==typeof(a=t&&t.icon)?a.call(t,{hash:{},data:i}):a)+'"></i> <span class="section-title"></span> </div> '})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="row"> <div class="col-sm-6 col-sm-offset-3"> <h4>'+l(i(n(14)).call(t,"Organize Your Media",{hash:{},data:o}))+'</h4> <p class="text-muted">'+l(i(n(14)).call(t,"Plex organizes your media into libraries. You can add as many libraries as you want, and you can have multiple libraries with the same type.",{hash:{},data:o}))+'</p> <p class="setup-add-section-container"> <button class="add-section-btn btn btn-default">'+l(i(n(14)).call(t,"Add Library",{hash:{},data:o}))+'</button> </p> <div class="setup-section-list-container"></div> <div class="setup-footer"> <button class="next-btn btn btn-default btn-lg" data-subset="setupBasic">'+l(i(n(14)).call(t,"Back",{hash:{},data:o}))+'</button> <button class="next-btn btn btn-primary btn-lg" data-subset="setupComplete">'+l(i(n(14)).call(t,"Next",{hash:{},data:o}))+"</button> </div> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+='<div class="loading loading-inline"></div> <p class="loading-title">'+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Please wait a moment while Plex starts.",{hash:{},data:a}))+"</p> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s="",l=this.escapeExpression;return s+='<div class="setup-header row hidden"> <div class="col-sm-6 col-sm-offset-3"> <div class="sign-in-logo text-center"> <i class="plex-image plex-logo"></i> </div> <h2>'+l(i(n(14)).call(t,"Server Setup",{hash:{},data:o}))+'</h2> <div class="setup-progress"> <div class="basic-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupBasic" href="#">'+l(i(n(14)).call(t,"Name",{hash:{},data:o}))+'</a> </div> <div class="library-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupLibrary" href="#">'+l(i(n(14)).call(t,"Media Library",{hash:{},data:o}))+'</a> </div> <div class="complete-segment setup-progress-segment"> <a class="segment-btn btn-gray" data-subset="setupComplete" href="#">'+l(i(n(14)).call(t,"Finish",{hash:{},data:o}))+'</a> </div> </div> </div> </div> <div class="setup-container"></div> '})},function(e,t,n){e.exports=n.p+"desktop/common/img/pp-ticket.de3ffb4d2327ee50e4290f8467a1796b.svg"},function(e,t,n){e.exports={description:"AudioSubtitleSettingsFormSection-description-3K2f7a"}},function(e,t,n){e.exports={description:"AccountPage-description-2EgbIA"}},function(e,t,n){e.exports={spinnerContainer:"SettingsPageLoadingSpinner-spinnerContainer-oodfMD"}},function(e,t,n){e.exports={content:"UserSharingSettingsRestrictions-content-1eTE4V SettingsPage-content-1vKVEr PageContent-pageContent-16mK6G"}},function(e,t,n){e.exports={library:"FriendSharedServerLibraries-library-3L4Qip"}},function(e,t,n){e.exports={input:"SharedServerLibrary-input-1WHloB CheckInput-input-1Pi_2g"}},function(e,t,n){e.exports={emptyMessage:"SharedServerLibraries-emptyMessage-3D4Rel"}},function(e,t,n){e.exports={button:"RemoveUserActionButton-button-3Y1kUf"}},function(e,t,n){e.exports={container:"UsersSettingsRowActions-container-J6Ghnt"}},function(e,t,n){e.exports={container:"UsersSettingsRowAvatar-container-3QE77x"}},function(e,t,n){e.exports={homeInvite:"UserSettingsInviteRow-homeInvite-3fuSS8"}},function(e,t,n){e.exports={infoContainer:"WebhookSettingsPageInfo-infoContainer-37YfYn"}},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<div class="card card-announcement"> <div class="unread ',((o=r.if.call(t,t&&t.read,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"hidden"},a),data:a}))||0===o)&&(l+=o),l+='"></div> ',((o=r.if.call(t,t&&t.url,{hash:{},inverse:this.program(5,function(e,t){var n,r="";return r+=" <h4>"+u(typeof(n=e&&e.title)===c?n.apply(e):n)+'</h4> <img class="thumb"/> '},a),fn:this.program(3,function(e,t){var n,r="";return r+=' <h4><a href="'+u(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank">'+u(typeof(n=e&&e.title)===c?n.apply(e):n)+'</a></h4> <a href="'+u(typeof(n=e&&e.url)===c?n.apply(e):n)+'" target="_blank"> <img class="thumb"/> </a> '},a),data:a}))||0===o)&&(l+=o),l+=' <div class="date">'+u((s=n(1512),s&&(s.__esModule?s.default:s)).call(t,t&&t.notifyAt,{hash:{},data:a}))+'</div> <div class="description">',((o=typeof(o=t&&t.content)===c?o.apply(t):o)||0===o)&&(l+=o),l+="</div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s="";return s+="<h2>"+(0,this.escapeExpression)((o=n(14),o&&(o.__esModule?o.default:o)).call(t,"Announcements",{hash:{},data:a}))+'</h2> <div class="announcements-container"></div> '})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<div class="form-group" data-attr="'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'"> <label for="text-'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="control-label">'+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,t&&t.label,{hash:{},data:a}))+'<span class="control-error"></span></label> <div class="input-group selectize-group"> <input type="text" id="text-'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control text-field" name="'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" placeholder="'+u(typeof(o=t&&t.placeholder)===c?o.apply(t):o)+'" data-rating-key="'+u(typeof(o=t&&t.ratingKey)===c?o.apply(t):o)+'" data-title="'+u(typeof(o=t&&t.title)===c?o.apply(t):o)+'" ',((o=r.if.call(t,t&&t.scopeToAttr,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){var n,r="";return r+='data-scope-to-attr="'+u(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+u(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'},a),data:a}))||0===o)&&(l+=o),l+="> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u=this;function d(e,t){var r="";return r+=' <h4 class="server-connect-error-header">'+c(i(n(14)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(14)).call(e,"Your server was unable to reach Plex. Please ensure that the computer or device running your server can access the internet.",{hash:{},data:t}))+"</p> "}function p(e,t){var r="";return r+=' <h4 class="server-connect-error-header">'+c(i(n(14)).call(e,"Signed in to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(14)).call(e,"You have successfully signed your server in to Plex, but we were unable to reach it from outside your network.",{hash:{},data:t}))+"</p> "}return((s=i(n(38)).call(t,t&&t.mappingError,"badauth",{hash:{},inverse:u.program(3,function(e,t){var r,a="";return((r=i(n(38)).call(e,e&&e.mappingError,"myplexgone",{hash:{},inverse:u.program(6,p,t),fn:u.program(4,d,t),data:t}))||0===r)&&(a+=r),a+=" "},o),fn:u.program(1,function(e,t){var r="";return r+=' <h4 class="server-connect-error-header">'+c(i(n(14)).call(e,"Problem Connecting to Plex",{hash:{},data:t}))+'</h4> <p class="text-muted">'+c(i(n(14)).call(e,"Plex was unable to authenticate your server. Please sign your server out and try again.",{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=" ",((s=i(n(282)).call(t,t&&t.context,"settings",{hash:{},inverse:u.noop,fn:u.program(8,function(e,t){var r="";return r+=' <p class="text-muted">'+c(i(n(14)).call(e,"If you skip this step you will not be able to share or stream media outside your home. If you change your mind later, you can adjust this in Settings.",{hash:{},data:t}))+"</p> "},o),data:o}))||0===s)&&(l+=s),l+=' <p class="text-muted">'+c(i(n(14)).call(t,"If you would like to enable this now, you will need to configure your router or firewall to allow Plex to contact your server. Please refer to our {1}Connecting a Server{2} article for more information.",'<a href="http://support.plex.tv/hc/en-us/articles/200484543-Connecting-a-Server/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps" target="_blank">',"</a>",{hash:{},data:o}))+"</p> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c=this.escapeExpression;function u(e,t){return"disabled"}return l+='<div class="form-group"> <label for="lockable-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'">'+c((s=n(14),s&&(s.__esModule?s.default:s)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group"> <a href="#" data-field="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" class="input-group-addon edit-lock-addon ',((o=r.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return"locked"},a),data:a}))||0===o)&&(l+=o),l+=" ",((o=r.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,u,a),data:a}))||0===o)&&(l+=o),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> <input type="number" id="lockable-'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" class="form-control lockable-field" name="'+c("function"==typeof(o=t&&t.name)?o.apply(t):o)+'" value="'+c("function"==typeof(o=t&&t.value)?o.apply(t):o)+'" placeholder="'+c("function"==typeof(o=t&&t.placeholder)?o.apply(t):o)+'" ',((o=r.if.call(t,t&&t.disabled,{hash:{},inverse:this.noop,fn:this.program(3,u,a),data:a}))||0===o)&&(l+=o),l+="> </div> </div> "})},function(e,t,n){var r=n(22);e.exports=(r.default||r).template(function(e,t,r,i,a){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),a=a||{};var o,s,l="",c="function",u=this.escapeExpression;return l+='<div class="form-group"> <label for="lockable-'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'">'+u((s=n(14),s&&(s.__esModule?s.default:s)).call(t,t&&t.label,{hash:{},data:a}))+'</label> <div class="input-group selectize-group"> <a href="#" data-field="'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="input-group-addon edit-lock-addon',((o=r.if.call(t,t&&t.locked,{hash:{},inverse:this.noop,fn:this.program(1,function(e,t){return" locked"},a),data:a}))||0===o)&&(l+=o),l+='"><i class="glyphicon lock"></i></a> <input type="text" id="lockable-'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" class="form-control lockable-field tag-input-hidden" data-name="'+u(typeof(o=t&&t.name)===c?o.apply(t):o)+'" data-attr="'+u(typeof(o=t&&t.attribute)===c?o.apply(t):o)+'" data-only-delete="'+u(typeof(o=t&&t.onlyDelete)===c?o.apply(t):o)+'" ',((o=r.if.call(t,t&&t.query,{hash:{},inverse:this.noop,fn:this.program(3,function(e,t){var n,r="";return r+='data-query="'+u(typeof(n=e&&e.query)===c?n.apply(e):n)+'"'},a),data:a}))||0===o)&&(l+=o),l+="> </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n,r="";return r+=' rows="'+u(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function h(e,t){var n,r="";return r+='data-scope-to-attr="'+u(typeof(n=e&&e.scopeToAttr)===c?n.apply(e):n)+'" data-scope-to-param="'+u(typeof(n=e&&e.scopeToParam)===c?n.apply(e):n)+'"'}function f(e,t){var n,r="";return r+='data-rating-key="'+u(typeof(n=e&&e.ratingKey)===c?n.apply(e):n)+'"'}return l+='<div class="form-group selectize-group" data-attr="'+u(typeof(s=t&&t.name)===c?s.apply(t):s)+'"> <label for="lockable-'+u(typeof(s=t&&t.name)===c?s.apply(t):s)+'">'+u(i(n(14)).call(t,t&&t.label,{hash:{},data:o}))+'</label> <div class="input-group"> <a href="#" data-field="'+u(typeof(s=t&&t.name)===c?s.apply(t):s)+'" class="input-group-addon edit-lock-addon',((s=r.if.call(t,t&&t.locked,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){return" locked"},o),data:o}))||0===s)&&(l+=s),l+='" tabindex="-1"><i class="glyphicon lock"></i></a> ',((s=i(n(38)).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(6,function(e,t){var n,i="";return i+=' <input type="text" id="lockable-'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control lockable-field" name="'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+u(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.scopeToAttr,{hash:{},inverse:d.noop,fn:d.program(7,h,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.ratingKey,{hash:{},inverse:d.noop,fn:d.program(9,f,t),data:t}))||0===n)&&(i+=n),i+="> "},o),fn:d.program(3,function(e,t){var n,i="";return i+=' <textarea class="form-control lockable-field" id="lockable-'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===n)&&(i+=n),i+=' placeholder="'+u(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){return"checked"}function h(e,t){var n,r="";return r+=' <p class="help-block">'+u(typeof(n=e&&e.summary)===c?n.apply(e):n)+"</p> "}function f(e,t){var n,i="";return i+=' <select id="input_'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+u(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+'"> ',((n=r.each.call(e,e&&e.enumValues,{hash:{},inverse:d.noop,fn:d.programWithDepth(10,g,t,e),data:t}))||0===n)&&(i+=n),i+=" </select> "}function g(e,t,r){var a,o="";return o+=' <option value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=i(n(38)).call(e,e&&e.value,r&&r.value,{hash:{},inverse:d.noop,fn:d.program(11,v,t),data:t}))||0===a)&&(o+=a),o+=">"+u(typeof(a=e&&e.label)===c?a.apply(e):a)+"</option> "}function v(e,t){return'selected="selected"'}function m(e,t){var a,o="";return o+=' <input type="',((a=i(n(38)).call(e,e&&e.option,"hidden",{hash:{},inverse:d.program(16,b,t),fn:d.program(14,y,t),data:t}))||0===a)&&(o+=a),o+='" id="input_'+u(typeof(a=e&&e.id)===c?a.apply(e):a)+u(typeof(a=e&&e.idSuffix)===c?a.apply(e):a)+'" class="form-control" name="'+u(typeof(a=e&&e.id)===c?a.apply(e):a)+'" value="'+u(typeof(a=e&&e.value)===c?a.apply(e):a)+'" ',((a=r.if.call(e,e&&e.placeholder,{hash:{},inverse:d.noop,fn:d.program(18,S,t),data:t}))||0===a)&&(o+=a),o+="> "}function y(e,t){return"password"}function b(e,t){return"text"}function S(e,t){var n,r="";return r+='placeholder="'+u(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'"'}return l+='<div class="form-group ',((s=r.if.call(t,t&&t.advanced,{hash:{},inverse:d.noop,fn:d.program(1,function(e,t){return"advanced-setting"},o),data:o}))||0===s)&&(l+=s),l+='"> ',((s=i(n(38)).call(t,t&&t.type,"bool",{hash:{},inverse:d.program(8,function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+u(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.label)===c?n.apply(e):n)+"</label> ",((n=r.if.call(e,e&&e.enumValues,{hash:{},inverse:d.program(13,m,t),fn:d.program(9,f,t),data:t}))||0===n)&&(i+=n),i+=" ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===n)&&(i+=n),i+=" "},o),fn:d.program(3,function(e,t){var n,i="";return i+=' <label class="control-label" for="input_'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+u(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'"> <input type="checkbox" id="input_'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+u(typeof(n=e&&e.idSuffix)===c?n.apply(e):n)+'" name="'+u(typeof(n=e&&e.id)===c?n.apply(e):n)+'" value="1" ',((n=r.if.call(e,e&&e.value,{hash:{},inverse:d.noop,fn:d.program(4,p,t),data:t}))||0===n)&&(i+=n),i+="> "+u(typeof(n=e&&e.label)===c?n.apply(e):n)+" </label> ",((n=r.if.call(e,e&&e.summary,{hash:{},inverse:d.noop,fn:d.program(6,h,t),data:t}))||0===n)&&(i+=n),i+=" "},o),data:o}))||0===s)&&(l+=s),l+=" </div> "})},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c="function",u=this.escapeExpression,d=this;function p(e,t){var n,r="";return r+=' rows="'+u(typeof(n=e&&e.rows)===c?n.apply(e):n)+'"'}function h(e,t){var n,r="";return r+='data-exclude-param="'+u(typeof(n=e&&e.excludeParam)===c?n.apply(e):n)+'" data-exclude-value="'+u(typeof(n=e&&e.excludeValue)===c?n.apply(e):n)+'"'}return l+='<div class="form-group"> <label for="text-'+u(typeof(s=t&&t.name)===c?s.apply(t):s)+'">'+u(i(n(14)).call(t,t&&t.label,{hash:{},data:o}))+"</label> ",((s=i(n(38)).call(t,t&&t.type,"textarea",{hash:{},inverse:d.program(4,function(e,t){var n,i="";return i+=' <input type="text" id="text-'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" class="form-control text-field" name="'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" value="'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+'" placeholder="'+u(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'" ',((n=r.if.call(e,e&&e.excludeParam,{hash:{},inverse:d.noop,fn:d.program(5,h,t),data:t}))||0===n)&&(i+=n),i+="> "},o),fn:d.program(1,function(e,t){var n,i="";return i+=' <textarea class="form-control text-field" id="text-'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'" name="'+u(typeof(n=e&&e.name)===c?n.apply(e):n)+'"',((n=r.if.call(e,e&&e.rows,{hash:{},inverse:d.noop,fn:d.program(2,p,t),data:t}))||0===n)&&(i+=n),i+=' placeholder="'+u(typeof(n=e&&e.placeholder)===c?n.apply(e):n)+'">'+u(typeof(n=e&&e.value)===c?n.apply(e):n)+"</textarea> "},o),data:o}))||0===s)&&(l+=s),l+=" </div> "})},function(e,t,n){e.exports={mediaElement:"HTMLMedia-mediaElement-35x77U"}},function(e,t,n){var r=n(22);function i(e){return e&&(e.__esModule?e.default:e)}e.exports=(r.default||r).template(function(e,t,r,a,o){this.compilerInfo=[4,">= 1.0.0"],r=this.merge(r,e.helpers),o=o||{};var s,l="",c=this.escapeExpression,u="function",d=this;function p(e,t){var r="";return r+=' <a class="install-link link" href="#">'+c(i(n(14)).call(e,"Install now",{hash:{},data:t}))+"</a> "}function h(e,t){var r,a="";return a+=' <a class="link" href="'+c(typeof(r=e&&e.downloadURL)===u?r.apply(e):r)+'" target="_blank">'+c(i(n(14)).call(e,"Download now",{hash:{},data:t}))+"</a> "}return l+='<span class="message"> '+c(typeof(s=t&&t.serverUpdateAvailableMessage)===u?s.apply(t):s)+' <span class="server-update-message-version">'+c(typeof(s=t&&t.version)===u?s.apply(t):s)+"</span> </span> ",((s=i(n(38)).call(t,t&&t.state,"available",{hash:{},inverse:d.program(3,function(e,t){var r;return(r=i(n(38)).call(e,e&&e.state,"downloaded",{hash:{},inverse:d.program(6,h,t),fn:d.program(4,p,t),data:t}))||0===r?r:""},o),fn:d.program(1,function(e,t){var r="";return r+=' <a class="download-link link" href="#">'+c(i(n(14)).call(e,"Download now",{hash:{},data:t}))+"</a> "},o),data:o}))||0===s)&&(l+=s),l+=' <a class="link skip-version-link" href="#">'+c(i(n(14)).call(t,"Skip this version",{hash:{},data:o}))+'</a> <button type="button" class="close-btn btn-link"><i class="glyphicon remove-2"></i></button> '})},function(e,t,n){var r=n(536),i=n(533),a=n(686),o=n(346);e.exports=function(e,t,n){if(!o(n))return!1;var s=typeof t;return!!("number"==s?i(n)&&a(t,n.length):"string"==s&&t in n)&&r(n[t],e)}},function(e,t,n){var r=n(1443),i=n(1444),a=n(1445),o=n(1446),s=n(1447);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(1171)(Object.getPrototypeOf,Object);e.exports=r},function(e,t,n){var r=n(416)(n(347),"Map");e.exports=r},function(e,t){e.exports=function(e,t){for(var n=-1,r=null==e?0:e.length,i=0,a=[];++n<r;){var o=e[n];t(o,n,e)&&(a[i++]=o)}return a}},function(e,t){e.exports=function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}},function(e,t,n){var r=n(1179),i=n(1501),a=n(533);e.exports=function(e){return a(e)?r(e,!0):i(e)}},function(e,t,n){(function(e){var r=n(347),i=n(1499),a=t&&!t.nodeType&&t,o=a&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===a?r.Buffer:void 0,l=(s?s.isBuffer:void 0)||i;e.exports=l}).call(this,n(687)(e))},function(e,t,n){(function(e){var r=n(732),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,o=a&&a.exports===i&&r.process,s=function(){try{var e=a&&a.require&&a.require("util").types;return e||o&&o.binding&&o.binding("util")}catch(e){}}();e.exports=s}).call(this,n(687)(e))},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e,t,n,r){for(var i=e.length,a=n+(r?1:-1);r?a--:++a<i;)if(t(e[a],a,e))return a;return-1}},function(e,t,n){var r=n(1458),i=Math.max;e.exports=function(e,t,n){return t=i(void 0===t?e.length-1:t,0),function(){for(var a=arguments,o=-1,s=i(a.length-t,0),l=Array(s);++o<s;)l[o]=a[t+o];o=-1;for(var c=Array(t+1);++o<t;)c[o]=a[o];return c[t]=n(l),r(e,this,c)}}},function(e,t,n){var r=n(1459),i=n(1461)(r);e.exports=i},function(e,t,n){var r=n(416),i=function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}}();e.exports=i},function(e,t,n){var r=n(416)(n(347),"Set");e.exports=r},function(e,t,n){var r=n(532),i=n(1468),a=n(349),o=n(1469),s=a(function(e){var t=r(e,o);return t.length&&t[0]===e[0]?i(t):[]});e.exports=s},function(e,t,n){var r=n(1498),i=n(684),a=n(241),o=n(1168),s=n(686),l=n(1180),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=a(e),u=!n&&i(e),d=!n&&!u&&o(e),p=!n&&!u&&!d&&l(e),h=n||u||d||p,f=h?r(e.length,String):[],g=f.length;for(var v in e)!t&&!c.call(e,v)||h&&("length"==v||d&&("offset"==v||"parent"==v)||p&&("buffer"==v||"byteLength"==v||"byteOffset"==v)||s(v,g))||f.push(v);return f}},function(e,t,n){var r=n(1500),i=n(535),a=n(1169),o=a&&a.isTypedArray,s=o?i(o):r;e.exports=s},function(e,t,n){var r=n(682),i="Expected a function";function a(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(i);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var o=e.apply(this,r);return n.cache=a.set(i,o)||a,o};return n.cache=new(a.Cache||r),n}a.Cache=r,e.exports=a},function(e,t,n){"use strict";var r=n(49),i=n(79),a=n(67),o=n(242),s=n(24),l=n(113),c=n(353),u=n(45),d=n(351),p=n(157),h=n(352),f=n(63),g=n(694),v=n(114),m=n(1183),y=n(276),b=n(62),S=n(59),I=n(112),C=n(156),M=n(243),D=n(245),w=n(697),P=n(105),T=n(71),E=n(350),x=n(100),O=n(275),j=n(418)("hidden"),A=n(128),N=A.set,k=A.getterFor("Symbol"),L=P.f,R=T.f,_=w.f,U=r.Symbol,z=r.JSON,F=z&&z.stringify,B=f("toPrimitive"),H=E.f,V=d("symbol-registry"),Q=d("symbols"),W=d("op-symbols"),G=d("wks"),Y=Object.prototype,K=r.QObject,q=n(693),Z=!K||!K.prototype||!K.prototype.findChild,X=a&&u(function(){return 7!=D(R({},"a",{get:function(){return R(this,"a",{value:7}).a}})).a})?function(e,t,n){var r=L(Y,t);r&&delete Y[t],R(e,t,n),r&&e!==Y&&R(Y,t,r)}:R,J=function(e,t){var n=Q[e]=D(U.prototype);return N(n,{type:"Symbol",tag:e,description:t}),a||(n.description=t),n},$=q&&"symbol"==typeof U.iterator?function(e){return"symbol"==typeof e}:function(e){return Object(e)instanceof U},ee=function(e,t,n){return e===Y&&ee(W,t,n),b(e),t=C(t,!0),b(n),i(Q,t)?(n.enumerable?(i(e,j)&&e[j][t]&&(e[j][t]=!1),n=D(n,{enumerable:M(0,!1)})):(i(e,j)||R(e,j,M(1,{})),e[j][t]=!0),X(e,t,n)):R(e,t,n)},te=function(e,t){b(e);for(var n,r=m(t=I(t)),i=0,a=r.length;a>i;)ee(e,n=r[i++],t[n]);return e},ne=function(e){var t=H.call(this,e=C(e,!0));return!(this===Y&&i(Q,e)&&!i(W,e))&&(!(t||!i(this,e)||!i(Q,e)||i(this,j)&&this[j][e])||t)},re=function(e,t){if(e=I(e),t=C(t,!0),e!==Y||!i(Q,t)||i(W,t)){var n=L(e,t);return!n||!i(Q,t)||i(e,j)&&e[j][t]||(n.enumerable=!0),n}},ie=function(e){for(var t,n=_(I(e)),r=[],a=0;n.length>a;)i(Q,t=n[a++])||i(c,t)||r.push(t);return r},ae=function(e){for(var t,n=e===Y,r=_(n?W:I(e)),a=[],o=0;r.length>o;)!i(Q,t=r[o++])||n&&!i(Y,t)||a.push(Q[t]);return a};q||(l((U=function(){if(this instanceof U)throw TypeError("Symbol is not a constructor");var e=void 0===arguments[0]?void 0:String(arguments[0]),t=h(e),n=function(e){this===Y&&n.call(W,e),i(this,j)&&i(this[j],t)&&(this[j][t]=!1),X(this,t,M(1,e))};return a&&Z&&X(Y,t,{configurable:!0,set:n}),J(t,e)}).prototype,"toString",function(){return k(this).tag}),E.f=ne,T.f=ee,P.f=re,n(244).f=w.f=ie,n(419).f=ae,a&&(R(U.prototype,"description",{configurable:!0,get:function(){return k(this).description}}),o||l(Y,"propertyIsEnumerable",ne,{unsafe:!0})),g.f=function(e){return J(f(e),e)}),s({global:!0,wrap:!0,forced:!q,sham:!q},{Symbol:U});for(var oe=O(G),se=0;oe.length>se;)v(oe[se++]);s({target:"Symbol",stat:!0,forced:!q},{for:function(e){return i(V,e+="")?V[e]:V[e]=U(e)},keyFor:function(e){if(!$(e))throw TypeError(e+" is not a symbol");for(var t in V)if(V[t]===e)return t},useSetter:function(){Z=!0},useSimple:function(){Z=!1}}),s({target:"Object",stat:!0,forced:!q,sham:!a},{create:function(e,t){return void 0===t?D(e):te(D(e),t)},defineProperty:ee,defineProperties:te,getOwnPropertyDescriptor:re}),s({target:"Object",stat:!0,forced:!q},{getOwnPropertyNames:ie,getOwnPropertySymbols:ae}),z&&s({target:"JSON",stat:!0,forced:!q||u(function(){var e=U();return"[null]"!=F([e])||"{}"!=F({a:e})||"{}"!=F(Object(e))})},{stringify:function(e){for(var t,n,r=[e],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=t=r[1],(S(t)||void 0!==e)&&!$(e))return y(t)||(t=function(e,t){if("function"==typeof n&&(t=n.call(this,e,t)),!$(t))return t}),r[1]=t,F.apply(z,r)}}),U.prototype[B]||x(U.prototype,B,U.prototype.valueOf),p(U,"Symbol"),c[j]=!0},function(e,t,n){var r=n(275),i=n(419),a=n(350);e.exports=function(e){var t=r(e),n=i.f;if(n)for(var o,s=n(e),l=a.f,c=0;s.length>c;)l.call(e,o=s[c++])&&t.push(o);return t}},function(e,t,n){"use strict";var r=n(67),i=n(79),a=n(59),o=n(71).f,s=n(691),l=n(49).Symbol;if(r&&"function"==typeof l&&(!("description"in l.prototype)||void 0!==l().description)){var c={},u=function(){var e=arguments.length<1||void 0===arguments[0]?void 0:String(arguments[0]),t=this instanceof u?new l(e):void 0===e?l():l(e);return""===e&&(c[t]=!0),t};s(u,l);var d=u.prototype=l.prototype;d.constructor=u;var p=d.toString,h="Symbol(test)"==String(l("test")),f=/^Symbol\((.*)\)[^)]+$/;o(d,"description",{configurable:!0,get:function(){var e=a(this)?this.valueOf():this,t=p.call(e);if(i(c,e))return"";var n=h?t.slice(7,-1):t.replace(f,"$1");return""===n?void 0:n}}),n(24)({global:!0,forced:!0},{Symbol:u})}},function(e,t,n){n(114)("asyncIterator")},function(e,t,n){n(114)("hasInstance")},function(e,t,n){n(114)("isConcatSpreadable")},function(e,t,n){n(114)("iterator")},function(e,t,n){n(114)("match")},function(e,t,n){n(114)("replace")},function(e,t,n){n(114)("search")},function(e,t,n){n(114)("species")},function(e,t,n){n(114)("split")},function(e,t,n){n(114)("toPrimitive")},function(e,t,n){n(114)("toStringTag")},function(e,t,n){n(114)("unscopables")},function(e,t,n){"use strict";var r=n(276),i=n(59),a=n(80),o=n(65),s=n(246),l=n(356),c=n(63)("isConcatSpreadable"),u=!n(45)(function(){var e=[];return e[c]=!1,e.concat()[0]!==e}),d=n(357)("concat"),p=function(e){if(!i(e))return!1;var t=e[c];return void 0!==t?!!t:r(e)},h=!u||!d;n(24)({target:"Array",proto:!0,forced:h},{concat:function(e){var t,n,r,i,c,u=a(this),d=l(u,0),h=0;for(t=-1,r=arguments.length;t<r;t++)if(c=-1===t?u:arguments[t],p(c)){if(h+(i=o(c.length))>9007199254740991)throw TypeError("Maximum allowed index exceeded");for(n=0;n<i;n++,h++)n in c&&s(d,h,c[n])}else{if(h>=9007199254740991)throw TypeError("Maximum allowed index exceeded");s(d,h++,c)}return d.length=h,d}})},function(e,t,n){n(24)({target:"Array",proto:!0},{copyWithin:n(698)}),n(203)("copyWithin")},function(e,t,n){n(24)({target:"Array",proto:!0},{fill:n(544)}),n(203)("fill")},function(e,t,n){"use strict";var r=n(106)(2),i=n(357)("filter");n(24)({target:"Array",proto:!0,forced:!i},{filter:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(106)(5),i=!0;"find"in[]&&Array(1).find(function(){i=!1}),n(24)({target:"Array",proto:!0,forced:i},{find:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(203)("find")},function(e,t,n){"use strict";var r=n(106)(6),i=!0;"findIndex"in[]&&Array(1).findIndex(function(){i=!1}),n(24)({target:"Array",proto:!0,forced:i},{findIndex:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(203)("findIndex")},function(e,t,n){"use strict";var r=n(699),i=n(80),a=n(65),o=n(129),s=n(356);n(24)({target:"Array",proto:!0},{flat:function(){var e=arguments[0],t=i(this),n=a(t.length),l=s(t,0);return l.length=r(l,t,t,n,0,void 0===e?1:o(e)),l}})},function(e,t,n){"use strict";var r=n(699),i=n(80),a=n(65),o=n(138),s=n(356);n(24)({target:"Array",proto:!0},{flatMap:function(e){var t,n=i(this),l=a(n.length);return o(e),(t=s(n,0)).length=r(t,n,n,l,0,1,e,arguments[1]),t}})},function(e,t,n){var r=!n(420)(function(e){Array.from(e)});n(24)({target:"Array",stat:!0,forced:r},{from:n(700)})},function(e,t,n){"use strict";var r=n(354)(!0);n(24)({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(203)("includes")},function(e,t,n){"use strict";var r=n(354)(!1),i=[].indexOf,a=!!i&&1/[1].indexOf(1,-0)<0,o=n(360)("indexOf");n(24)({target:"Array",proto:!0,forced:a||o},{indexOf:function(e){return a?i.apply(this,arguments)||0:r(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(112),i=[].join,a=n(417)!=Object,o=n(360)("join",",");n(24)({target:"Array",proto:!0,forced:a||o},{join:function(e){return i.call(r(this),void 0===e?",":e)}})},function(e,t,n){var r=n(705);n(24)({target:"Array",proto:!0,forced:r!==[].lastIndexOf},{lastIndexOf:r})},function(e,t,n){"use strict";var r=n(106)(1),i=n(357)("map");n(24)({target:"Array",proto:!0,forced:!i},{map:function(e){return r(this,e,arguments[1])}})},function(e,t,n){"use strict";var r=n(246),i=n(45)(function(){function e(){}return!(Array.of.call(e)instanceof e)});n(24)({target:"Array",stat:!0,forced:i},{of:function(){for(var e=0,t=arguments.length,n=new("function"==typeof this?this:Array)(t);t>e;)r(n,e,arguments[e++]);return n.length=t,n}})},function(e,t,n){"use strict";var r=n(276),i=[].reverse,a=[1,2];n(24)({target:"Array",proto:!0,forced:String(a)===String(a.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),i.call(this)}})},function(e,t,n){"use strict";var r=n(59),i=n(276),a=n(202),o=n(65),s=n(112),l=n(246),c=n(63)("species"),u=[].slice,d=Math.max,p=n(357)("slice");n(24)({target:"Array",proto:!0,forced:!p},{slice:function(e,t){var n,p,h,f=s(this),g=o(f.length),v=a(e,g),m=a(void 0===t?g:t,g);if(i(f)&&("function"!=typeof(n=f.constructor)||n!==Array&&!i(n.prototype)?r(n)&&null===(n=n[c])&&(n=void 0):n=void 0,n===Array||void 0===n))return u.call(f,v,m);for(p=new(void 0===n?Array:n)(d(m-v,0)),h=0;v<m;v++,h++)v in f&&l(p,h,f[v]);return p.length=h,p}})},function(e,t,n){"use strict";var r=n(138),i=n(80),a=n(45),o=[].sort,s=[1,2,3],l=a(function(){s.sort(void 0)}),c=a(function(){s.sort(null)}),u=n(360)("sort"),d=l||!c||u;n(24)({target:"Array",proto:!0,forced:d},{sort:function(e){return void 0===e?o.call(i(this)):o.call(i(this),r(e))}})},function(e,t,n){n(278)("Array")},function(e,t,n){"use strict";var r=n(202),i=n(129),a=n(65),o=n(80),s=n(356),l=n(246),c=Math.max,u=Math.min,d=n(357)("splice");n(24)({target:"Array",proto:!0,forced:!d},{splice:function(e,t){var n,d,p,h,f,g,v=o(this),m=a(v.length),y=r(e,m),b=arguments.length;if(0===b?n=d=0:1===b?(n=0,d=m-y):(n=b-2,d=u(c(i(t),0),m-y)),m+n-d>9007199254740991)throw TypeError("Maximum allowed length exceeded");for(p=s(v,d),h=0;h<d;h++)(f=y+h)in v&&l(p,h,v[f]);if(p.length=d,n<d){for(h=y;h<m-d;h++)g=h+n,(f=h+d)in v?v[g]=v[f]:delete v[g];for(h=m;h>m-d+n;h--)delete v[h-1]}else if(n>d)for(h=m-d;h>y;h--)g=h+n-1,(f=h+d-1)in v?v[g]=v[f]:delete v[g];for(h=0;h<n;h++)v[h+y]=arguments[h+2];return v.length=m-d+n,p}})},function(e,t,n){n(203)("flat")},function(e,t,n){n(203)("flatMap")},function(e,t,n){"use strict";var r=n(549).ArrayBuffer,i=n(49).ArrayBuffer;n(24)({global:!0,forced:i!==r},{ArrayBuffer:r}),n(278)("ArrayBuffer")},function(e,t,n){"use strict";var r=n(549),i=n(62),a=n(202),o=n(65),s=n(206),l=r.ArrayBuffer,c=r.DataView,u=l.prototype.slice,d=n(45)(function(){return!new l(2).slice(1,void 0).byteLength});n(24)({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:d},{slice:function(e,t){if(void 0!==u&&void 0===t)return u.call(i(this),e);for(var n=i(this).byteLength,r=a(e,n),d=a(void 0===t?n:t,n),p=new(s(this,l))(o(d-r)),h=new c(this),f=new c(p),g=0;r<d;)f.setUint8(g++,h.getUint8(r++));return p}})},function(e,t,n){var r=n(100),i=n(63)("toPrimitive"),a=n(1222),o=Date.prototype;i in o||r(o,i,a)},function(e,t,n){"use strict";var r=n(62),i=n(156);e.exports=function(e){if("string"!==e&&"number"!==e&&"default"!==e)throw TypeError("Incorrect hint");return i(r(this),"number"!==e)}},function(e,t,n){"use strict";var r=n(59),i=n(71),a=n(158),o=n(63)("hasInstance"),s=Function.prototype;o in s||i.f(s,o,{value:function(e){if("function"!=typeof this||!r(e))return!1;if(!r(this.prototype))return e instanceof this;for(;e=a(e);)if(this.prototype===e)return!0;return!1}})},function(e,t,n){var r=n(67),i=n(71).f,a=Function.prototype,o=a.toString,s=/^\s*function ([^ (]*)/;!r||"name"in a||i(a,"name",{configurable:!0,get:function(){try{return o.call(this).match(s)[1]}catch(e){return""}}})},function(e,t,n){n(157)(n(49).JSON,"JSON",!0)},function(e,t,n){"use strict";e.exports=n(423)("Map",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},n(707),!0)},function(e,t,n){var r=n(708),i=Math.acosh,a=Math.log,o=Math.sqrt,s=Math.LN2,l=!i||710!=Math.floor(i(Number.MAX_VALUE))||i(1/0)!=1/0;n(24)({target:"Math",stat:!0,forced:l},{acosh:function(e){return(e=+e)<1?NaN:e>94906265.62425156?a(e)+s:r(e-1+o(e-1)*o(e+1))}})},function(e,t,n){var r=Math.asinh,i=Math.log,a=Math.sqrt;n(24)({target:"Math",stat:!0,forced:!(r&&1/r(0)>0)},{asinh:function e(t){return isFinite(t=+t)&&0!=t?t<0?-e(-t):i(t+a(t*t+1)):t}})},function(e,t,n){var r=Math.atanh,i=Math.log;n(24)({target:"Math",stat:!0,forced:!(r&&1/r(-0)<0)},{atanh:function(e){return 0==(e=+e)?e:i((1+e)/(1-e))/2}})},function(e,t,n){var r=n(551),i=Math.abs,a=Math.pow;n(24)({target:"Math",stat:!0},{cbrt:function(e){return r(e=+e)*a(i(e),1/3)}})},function(e,t,n){var r=Math.floor,i=Math.log,a=Math.LOG2E;n(24)({target:"Math",stat:!0},{clz32:function(e){return(e>>>=0)?31-r(i(e+.5)*a):32}})},function(e,t,n){var r=n(424),i=Math.cosh,a=Math.abs,o=Math.E;n(24)({target:"Math",stat:!0,forced:!i||i(710)===1/0},{cosh:function(e){var t=r(a(e)-1)+1;return(t+1/(t*o*o))*(o/2)}})},function(e,t,n){var r=n(424);n(24)({target:"Math",stat:!0,forced:r!=Math.expm1},{expm1:r})},function(e,t,n){n(24)({target:"Math",stat:!0},{fround:n(1235)})},function(e,t,n){var r=n(551),i=Math.pow,a=i(2,-52),o=i(2,-23),s=i(2,127)*(2-o),l=i(2,-126);e.exports=Math.fround||function(e){var t,n,i=Math.abs(e),c=r(e);return i<l?c*(i/l/o+1/a-1/a)*l*o:(n=(t=(1+o/a)*i)-(t-i))>s||n!=n?c*(1/0):c*n}},function(e,t,n){var r=Math.abs,i=Math.sqrt;n(24)({target:"Math",stat:!0},{hypot:function(e,t){for(var n,a,o=0,s=0,l=arguments.length,c=0;s<l;)c<(n=r(arguments[s++]))?(o=o*(a=c/n)*a+1,c=n):o+=n>0?(a=n/c)*a:n;return c===1/0?1/0:c*i(o)}})},function(e,t,n){var r=Math.imul,i=n(45)(function(){return-5!=r(4294967295,5)||2!=r.length});n(24)({target:"Math",stat:!0,forced:i},{imul:function(e,t){var n=+e,r=+t,i=65535&n,a=65535&r;return 0|i*a+((65535&n>>>16)*a+i*(65535&r>>>16)<<16>>>0)}})},function(e,t,n){var r=Math.log,i=Math.LOG10E;n(24)({target:"Math",stat:!0},{log10:function(e){return r(e)*i}})},function(e,t,n){n(24)({target:"Math",stat:!0},{log1p:n(708)})},function(e,t,n){var r=Math.log,i=Math.LN2;n(24)({target:"Math",stat:!0},{log2:function(e){return r(e)/i}})},function(e,t,n){n(24)({target:"Math",stat:!0},{sign:n(551)})},function(e,t,n){var r=n(424),i=Math.abs,a=Math.exp,o=Math.E,s=n(45)(function(){return-2e-17!=Math.sinh(-2e-17)});n(24)({target:"Math",stat:!0,forced:s},{sinh:function(e){return i(e=+e)<1?(r(e)-r(-e))/2:(a(e-1)-a(-e-1))*(o/2)}})},function(e,t,n){var r=n(424),i=Math.exp;n(24)({target:"Math",stat:!0},{tanh:function(e){var t=r(e=+e),n=r(-e);return t==1/0?1:n==1/0?-1:(t-n)/(i(e)+i(-e))}})},function(e,t,n){n(157)(Math,"Math",!0)},function(e,t,n){var r=Math.ceil,i=Math.floor;n(24)({target:"Math",stat:!0},{trunc:function(e){return(e>0?i:r)(e)}})},function(e,t,n){"use strict";var r=n(49),i=n(355),a=n(79),o=n(137),s=n(550),l=n(156),c=n(45),u=n(244).f,d=n(105).f,p=n(71).f,h=n(281),f=r.Number,g=f.prototype,v="Number"==o(n(245)(g)),m="trim"in String.prototype,y=function(e){var t,n,r,i,a,o,s,c,u=l(e,!1);if("string"==typeof u&&u.length>2)if(43===(t=(u=m?u.trim():h(u,3)).charCodeAt(0))||45===t){if(88===(n=u.charCodeAt(2))||120===n)return NaN}else if(48===t){switch(u.charCodeAt(1)){case 66:case 98:r=2,i=49;break;case 79:case 111:r=8,i=55;break;default:return+u}for(o=(a=u.slice(2)).length,s=0;s<o;s++)if((c=a.charCodeAt(s))<48||c>i)return NaN;return parseInt(a,r)}return+u};if(i("Number",!f(" 0o1")||!f("0b1")||f("+0x1"))){for(var b,S=function(e){var t=arguments.length<1?0:e,n=this;return n instanceof S&&(v?c(function(){g.valueOf.call(n)}):"Number"!=o(n))?s(new f(y(t)),n,S):y(t)},I=n(67)?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),C=0;I.length>C;C++)a(f,b=I[C])&&!a(S,b)&&p(S,b,d(f,b));S.prototype=g,g.constructor=S,n(113)(r,"Number",S)}},function(e,t,n){n(24)({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},function(e,t,n){n(24)({target:"Number",stat:!0},{isFinite:n(1249)})},function(e,t,n){var r=n(49).isFinite;e.exports=Number.isFinite||function(e){return"number"==typeof e&&r(e)}},function(e,t,n){n(24)({target:"Number",stat:!0},{isInteger:n(709)})},function(e,t,n){n(24)({target:"Number",stat:!0},{isNaN:function(e){return e!=e}})},function(e,t,n){var r=n(709),i=Math.abs;n(24)({target:"Number",stat:!0},{isSafeInteger:function(e){return r(e)&&i(e)<=9007199254740991}})},function(e,t,n){n(24)({target:"Number",stat:!0},{MAX_SAFE_INTEGER:9007199254740991})},function(e,t,n){n(24)({target:"Number",stat:!0},{MIN_SAFE_INTEGER:-9007199254740991})},function(e,t,n){var r=n(710);n(24)({target:"Number",stat:!0,forced:Number.parseFloat!=r},{parseFloat:r})},function(e,t,n){var r=n(711);n(24)({target:"Number",stat:!0,forced:Number.parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var r=n(129),i=n(1258),a=n(552),o=1..toFixed,s=Math.floor,l=[0,0,0,0,0,0],c=function(e,t){for(var n=-1,r=t;++n<6;)r+=e*l[n],l[n]=r%1e7,r=s(r/1e7)},u=function(e){for(var t=6,n=0;--t>=0;)n+=l[t],l[t]=s(n/e),n=n%e*1e7},d=function(){for(var e=6,t="";--e>=0;)if(""!==t||0===e||0!==l[e]){var n=String(l[e]);t=""===t?n:t+a.call("0",7-n.length)+n}return t},p=function(e,t,n){return 0===t?n:t%2==1?p(e,t-1,n*e):p(e*e,t/2,n)};n(24)({target:"Number",proto:!0,forced:o&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!n(45)(function(){o.call({})})},{toFixed:function(e){var t,n,o,s,l=i(this),h=r(e),f="",g="0";if(h<0||h>20)throw RangeError("Incorrect fraction digits");if(l!=l)return"NaN";if(l<=-1e21||l>=1e21)return String(l);if(l<0&&(f="-",l=-l),l>1e-21)if(n=(t=function(e){for(var t=0,n=e;n>=4096;)t+=12,n/=4096;for(;n>=2;)t+=1,n/=2;return t}(l*p(2,69,1))-69)<0?l*p(2,-t,1):l/p(2,t,1),n*=4503599627370496,(t=52-t)>0){for(c(0,n),o=h;o>=7;)c(1e7,0),o-=7;for(c(p(10,o,1),0),o=t-1;o>=23;)u(1<<23),o-=23;u(1<<o),c(1,1),u(2),g=d()}else c(0,n),c(1<<-t,0),g=d()+a.call("0",h);return g=h>0?f+((s=g.length)<=h?"0."+a.call("0",h-s)+g:g.slice(0,s-h)+"."+g.slice(s-h)):f+g}})},function(e,t,n){var r=n(137);e.exports=function(e){if("number"!=typeof e&&"Number"!=r(e))throw TypeError("Incorrect invocation");return+e}},function(e,t,n){var r=n(712);n(24)({target:"Object",stat:!0,forced:Object.assign!==r},{assign:r})},function(e,t,n){"use strict";var r=n(80),i=n(138),a=n(71),o=n(426);n(67)&&n(24)({target:"Object",proto:!0,forced:o},{__defineGetter__:function(e,t){a.f(r(this),e,{get:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){"use strict";var r=n(80),i=n(138),a=n(71),o=n(426);n(67)&&n(24)({target:"Object",proto:!0,forced:o},{__defineSetter__:function(e,t){a.f(r(this),e,{set:i(t),enumerable:!0,configurable:!0})}})},function(e,t,n){var r=n(713);n(24)({target:"Object",stat:!0},{entries:function(e){return r(e,!0)}})},function(e,t,n){var r=n(59),i=n(247).onFreeze,a=Object.freeze,o=n(361),s=n(45)(function(){a(1)});n(24)({target:"Object",stat:!0,forced:s,sham:!o},{freeze:function(e){return a&&r(e)?a(i(e)):e}})},function(e,t,n){var r=n(280),i=n(246);n(24)({target:"Object",stat:!0},{fromEntries:function(e){var t={};return r(e,function(e,n){i(t,e,n)},void 0,!0),t}})},function(e,t,n){var r=n(112),i=n(105).f,a=n(67),o=n(45)(function(){i(1)}),s=!a||o;n(24)({target:"Object",stat:!0,forced:s,sham:!a},{getOwnPropertyDescriptor:function(e,t){return i(r(e),t)}})},function(e,t,n){var r=n(67),i=n(541),a=n(112),o=n(105),s=n(246);n(24)({target:"Object",stat:!0,sham:!r},{getOwnPropertyDescriptors:function(e){for(var t,n,r=a(e),l=o.f,c=i(r),u={},d=0;c.length>d;)void 0!==(n=l(r,t=c[d++]))&&s(u,t,n);return u}})},function(e,t,n){var r=n(697).f,i=n(45)(function(){Object.getOwnPropertyNames(1)});n(24)({target:"Object",stat:!0,forced:i},{getOwnPropertyNames:r})},function(e,t,n){var r=n(80),i=n(158),a=n(547),o=n(45)(function(){i(1)});n(24)({target:"Object",stat:!0,forced:o,sham:!a},{getPrototypeOf:function(e){return i(r(e))}})},function(e,t,n){n(24)({target:"Object",stat:!0},{is:n(714)})},function(e,t,n){var r=n(59),i=Object.isExtensible,a=n(45)(function(){i(1)});n(24)({target:"Object",stat:!0,forced:a},{isExtensible:function(e){return!!r(e)&&(!i||i(e))}})},function(e,t,n){var r=n(59),i=Object.isFrozen,a=n(45)(function(){i(1)});n(24)({target:"Object",stat:!0,forced:a},{isFrozen:function(e){return!r(e)||!!i&&i(e)}})},function(e,t,n){var r=n(59),i=Object.isSealed,a=n(45)(function(){i(1)});n(24)({target:"Object",stat:!0,forced:a},{isSealed:function(e){return!r(e)||!!i&&i(e)}})},function(e,t,n){var r=n(80),i=n(275),a=n(45)(function(){i(1)});n(24)({target:"Object",stat:!0,forced:a},{keys:function(e){return i(r(e))}})},function(e,t,n){"use strict";var r=n(80),i=n(156),a=n(158),o=n(105).f,s=n(426);n(67)&&n(24)({target:"Object",proto:!0,forced:s},{__lookupGetter__:function(e){var t,n=r(this),s=i(e,!0);do{if(t=o(n,s))return t.get}while(n=a(n))}})},function(e,t,n){"use strict";var r=n(80),i=n(156),a=n(158),o=n(105).f,s=n(426);n(67)&&n(24)({target:"Object",proto:!0,forced:s},{__lookupSetter__:function(e){var t,n=r(this),s=i(e,!0);do{if(t=o(n,s))return t.set}while(n=a(n))}})},function(e,t,n){var r=n(59),i=n(247).onFreeze,a=Object.preventExtensions,o=n(361),s=n(45)(function(){a(1)});n(24)({target:"Object",stat:!0,forced:s,sham:!o},{preventExtensions:function(e){return a&&r(e)?a(i(e)):e}})},function(e,t,n){var r=n(59),i=n(247).onFreeze,a=Object.seal,o=n(361),s=n(45)(function(){a(1)});n(24)({target:"Object",stat:!0,forced:s,sham:!o},{seal:function(e){return a&&r(e)?a(i(e)):e}})},function(e,t,n){n(24)({target:"Object",stat:!0},{setPrototypeOf:n(277)})},function(e,t,n){var r=n(1280),i=Object.prototype;r!==i.toString&&n(113)(i,"toString",r,{unsafe:!0})},function(e,t,n){"use strict";var r=n(421),i={};i[n(63)("toStringTag")]="z",e.exports="[object z]"!==String(i)?function(){return"[object "+r(this)+"]"}:i.toString},function(e,t,n){var r=n(713);n(24)({target:"Object",stat:!0},{values:function(e){return r(e)}})},function(e,t,n){var r=n(710);n(24)({global:!0,forced:parseFloat!=r},{parseFloat:r})},function(e,t,n){var r=n(711);n(24)({global:!0,forced:parseInt!=r},{parseInt:r})},function(e,t,n){"use strict";var r,i,a,o="Promise",s=n(242),l=n(49),c=n(24),u=n(59),d=n(138),p=n(205),h=n(137),f=n(280),g=n(420),v=n(206),m=n(553).set,y=n(715),b=n(716),S=n(1285),I=n(555),C=n(717),M=n(554),D=n(63)("species"),w=n(128),P=n(355),T=w.get,E=w.set,x=w.getterFor(o),O=l.Promise,j=l.TypeError,A=l.document,N=l.process,k=l.fetch,L=N&&N.versions,R=L&&L.v8||"",_=I.f,U=_,z="process"==h(N),F=!!(A&&A.createEvent&&l.dispatchEvent),B=P(o,function(){var e=O.resolve(1),t=function(){},n=(e.constructor={})[D]=function(e){e(t,t)};return!((z||"function"==typeof PromiseRejectionEvent)&&(!s||e.finally)&&e.then(t)instanceof n&&0!==R.indexOf("6.6")&&-1===M.indexOf("Chrome/66"))}),H=B||!g(function(e){O.all(e).catch(function(){})}),V=function(e){var t;return!(!u(e)||"function"!=typeof(t=e.then))&&t},Q=function(e,t,n){if(!t.notified){t.notified=!0;var r=t.reactions;y(function(){for(var i=t.value,a=1==t.state,o=0,s=function(n){var r,o,s,l=a?n.ok:n.fail,c=n.resolve,u=n.reject,d=n.domain;try{l?(a||(2===t.rejection&&K(e,t),t.rejection=1),!0===l?r=i:(d&&d.enter(),r=l(i),d&&(d.exit(),s=!0)),r===n.promise?u(j("Promise-chain cycle")):(o=V(r))?o.call(r,c,u):c(r)):u(i)}catch(e){d&&!s&&d.exit(),u(e)}};r.length>o;)s(r[o++]);t.reactions=[],t.notified=!1,n&&!t.rejection&&G(e,t)})}},W=function(e,t,n){var r,i;F?((r=A.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),l.dispatchEvent(r)):r={promise:t,reason:n},(i=l["on"+e])?i(r):"unhandledrejection"===e&&S("Unhandled promise rejection",n)},G=function(e,t){m.call(l,function(){var n,r=t.value;if(Y(t)&&(n=C(function(){z?N.emit("unhandledRejection",r,e):W("unhandledrejection",e,r)}),t.rejection=z||Y(t)?2:1,n.error))throw n.value})},Y=function(e){return 1!==e.rejection&&!e.parent},K=function(e,t){m.call(l,function(){z?N.emit("rejectionHandled",e):W("rejectionhandled",e,t.value)})},q=function(e,t,n,r){return function(i){e(t,n,i,r)}},Z=function(e,t,n,r){t.done||(t.done=!0,r&&(t=r),t.value=n,t.state=2,Q(e,t,!0))},X=function(e,t,n,r){if(!t.done){t.done=!0,r&&(t=r);try{if(e===n)throw j("Promise can't be resolved itself");var i=V(n);i?y(function(){var r={done:!1};try{i.call(n,q(X,e,r,t),q(Z,e,r,t))}catch(n){Z(e,r,n,t)}}):(t.value=n,t.state=1,Q(e,t,!1))}catch(n){Z(e,{done:!1},n,t)}}};B&&(O=function(e){p(this,O,o),d(e),r.call(this);var t=T(this);try{e(q(X,this,t),q(Z,this,t))}catch(e){Z(this,t,e)}},(r=function(e){E(this,{type:o,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=n(279)(O.prototype,{then:function(e,t){var n=x(this),r=_(v(this,O));return r.ok="function"!=typeof e||e,r.fail="function"==typeof t&&t,r.domain=z?N.domain:void 0,n.parent=!0,n.reactions.push(r),0!=n.state&&Q(this,n,!1),r.promise},catch:function(e){return this.then(void 0,e)}}),i=function(){var e=new r,t=T(e);this.promise=e,this.resolve=q(X,e,t),this.reject=q(Z,e,t)},I.f=_=function(e){return e===O||e===a?new i(e):U(e)},s||"function"!=typeof k||c({global:!0,enumerable:!0,forced:!0},{fetch:function(e){return b(O,k.apply(l,arguments))}})),c({global:!0,wrap:!0,forced:B},{Promise:O}),n(157)(O,o,!1,!0),n(278)(o),a=n(543).Promise,c({target:o,stat:!0,forced:B},{reject:function(e){var t=_(this);return t.reject.call(void 0,e),t.promise}}),c({target:o,stat:!0,forced:s||B},{resolve:function(e){return b(s&&this===a?O:this,e)}}),c({target:o,stat:!0,forced:H},{all:function(e){var t=this,n=_(t),r=n.resolve,i=n.reject,a=C(function(){var n=[],a=0,o=1;f(e,function(e){var s=a++,l=!1;n.push(void 0),o++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--o||r(n))},i)}),--o||r(n)});return a.error&&i(a.value),n.promise},race:function(e){var t=this,n=_(t),r=n.reject,i=C(function(){f(e,function(e){t.resolve(e).then(n.resolve,r)})});return i.error&&r(i.value),n.promise}})},function(e,t,n){var r=n(49);e.exports=function(e,t){var n=r.console;n&&n.error&&(1===arguments.length?n.error(e):n.error(e,t))}},function(e,t,n){"use strict";var r=n(548),i=n(206),a=n(716);n(24)({target:"Promise",proto:!0,real:!0},{finally:function(e){var t=i(this,r("Promise")),n="function"==typeof e;return this.then(n?function(n){return a(t,e()).then(function(){return n})}:e,n?function(n){return a(t,e()).then(function(){throw n})}:e)}})},function(e,t,n){var r=n(138),i=n(62),a=(n(49).Reflect||{}).apply,o=Function.apply,s=!n(45)(function(){a(function(){})});n(24)({target:"Reflect",stat:!0,forced:s},{apply:function(e,t,n){return r(e),i(n),a?a(e,t,n):o.call(e,t,n)}})},function(e,t,n){var r=n(245),i=n(138),a=n(62),o=n(59),s=n(45),l=n(1289),c=(n(49).Reflect||{}).construct,u=s(function(){function e(){}return!(c(function(){},[],e)instanceof e)}),d=!s(function(){c(function(){})}),p=u||d;n(24)({target:"Reflect",stat:!0,forced:p,sham:p},{construct:function(e,t){i(e),a(t);var n=arguments.length<3?e:i(arguments[2]);if(d&&!u)return c(e,t,n);if(e==n){switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3])}var s=[null];return s.push.apply(s,t),new(l.apply(e,s))}var p=n.prototype,h=r(o(p)?p:Object.prototype),f=Function.apply.call(e,h,t);return o(f)?f:h}})},function(e,t,n){"use strict";var r=n(138),i=n(59),a=[].slice,o={};e.exports=Function.bind||function(e){var t=r(this),n=a.call(arguments,1),s=function(){var r=n.concat(a.call(arguments));return this instanceof s?function(e,t,n){if(!(t in o)){for(var r=[],i=0;i<t;i++)r[i]="a["+i+"]";o[t]=Function("C,a","return new C("+r.join(",")+")")}return o[t](e,n)}(t,r.length,r):t.apply(e,r)};return i(t.prototype)&&(s.prototype=t.prototype),s}},function(e,t,n){var r=n(71),i=n(62),a=n(156),o=n(67),s=n(45)(function(){Reflect.defineProperty(r.f({},1,{value:1}),1,{value:2})});n(24)({target:"Reflect",stat:!0,forced:s,sham:!o},{defineProperty:function(e,t,n){i(e),t=a(t,!0),i(n);try{return r.f(e,t,n),!0}catch(e){return!1}}})},function(e,t,n){var r=n(105).f,i=n(62);n(24)({target:"Reflect",stat:!0},{deleteProperty:function(e,t){var n=r(i(e),t);return!(n&&!n.configurable)&&delete e[t]}})},function(e,t,n){var r=n(105),i=n(158),a=n(79),o=n(59),s=n(62);n(24)({target:"Reflect",stat:!0},{get:function e(t,n){var l,c,u=arguments.length<3?t:arguments[2];return s(t)===u?t[n]:(l=r.f(t,n))?a(l,"value")?l.value:void 0===l.get?void 0:l.get.call(u):o(c=i(t))?e(c,n,u):void 0}})},function(e,t,n){var r=n(105),i=n(62),a=n(67);n(24)({target:"Reflect",stat:!0,sham:!a},{getOwnPropertyDescriptor:function(e,t){return r.f(i(e),t)}})},function(e,t,n){var r=n(158),i=n(62),a=n(547);n(24)({target:"Reflect",stat:!0,sham:!a},{getPrototypeOf:function(e){return r(i(e))}})},function(e,t,n){n(24)({target:"Reflect",stat:!0},{has:function(e,t){return t in e}})},function(e,t,n){var r=n(62),i=Object.isExtensible;n(24)({target:"Reflect",stat:!0},{isExtensible:function(e){return r(e),!i||i(e)}})},function(e,t,n){n(24)({target:"Reflect",stat:!0},{ownKeys:n(541)})},function(e,t,n){var r=n(548),i=n(62),a=n(361);n(24)({target:"Reflect",stat:!0,sham:!a},{preventExtensions:function(e){i(e);try{var t=r("Object","preventExtensions");return t&&t(e),!0}catch(e){return!1}}})},function(e,t,n){var r=n(71),i=n(105),a=n(158),o=n(79),s=n(243),l=n(62),c=n(59);n(24)({target:"Reflect",stat:!0},{set:function e(t,n,u){var d,p,h=arguments.length<4?t:arguments[3],f=i.f(l(t),n);if(!f){if(c(p=a(t)))return e(p,n,u,h);f=s(0)}if(o(f,"value")){if(!1===f.writable||!c(h))return!1;if(d=i.f(h,n)){if(d.get||d.set||!1===d.writable)return!1;d.value=u,r.f(h,n,d)}else r.f(h,n,s(0,u));return!0}return void 0!==f.set&&(f.set.call(h,u),!0)}})},function(e,t,n){var r=n(277),i=n(704);r&&n(24)({target:"Reflect",stat:!0},{setPrototypeOf:function(e,t){i(e,t);try{return r(e,t),!0}catch(e){return!1}}})},function(e,t,n){var r=n(67),i=n(63)("match"),a=n(49),o=n(355),s=n(550),l=n(71).f,c=n(244).f,u=n(556),d=n(427),p=n(113),h=n(45),f=a.RegExp,g=f.prototype,v=/a/g,m=/a/g,y=new f(v)!==v;if(o("RegExp",r&&(!y||h(function(){return m[i]=!1,f(v)!=v||f(m)==m||"/a/i"!=f(v,"i")})))){for(var b=function(e,t){var n=this instanceof b,r=u(e),i=void 0===t;return!n&&r&&e.constructor===b&&i?e:s(y?new f(r&&!i?e.source:e,t):f((r=e instanceof b)?e.source:e,r&&i?d.call(e):t),n?this:g,b)},S=function(e){e in b||l(b,e,{configurable:!0,get:function(){return f[e]},set:function(t){f[e]=t}})},I=c(f),C=0;C<I.length;)S(I[C++]);g.constructor=b,b.prototype=g,p(a,"RegExp",b)}n(278)("RegExp")},function(e,t,n){n(67)&&"g"!=/./g.flags&&n(71).f(RegExp.prototype,"flags",{configurable:!0,get:n(427)})},function(e,t,n){"use strict";var r=n(62),i=n(45),a=n(427),o=n(67),s=/./.toString,l=i(function(){return"/a/b"!=s.call({source:"a",flags:"b"})}),c="toString"!=s.name;(l||c)&&n(113)(RegExp.prototype,"toString",function(){var e=r(this);return"/".concat(e.source,"/","flags"in e?e.flags:!o&&e instanceof RegExp?a.call(e):void 0)},{unsafe:!0})},function(e,t,n){"use strict";e.exports=n(423)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},n(707))},function(e,t,n){"use strict";var r=n(428);n(24)({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},function(e,t,n){"use strict";var r=n(65),i=n(557),a="".endsWith,o=Math.min,s=n(558)("endsWith");n(24)({target:"String",proto:!0,forced:!s},{endsWith:function(e){var t=i(this,e,"endsWith"),n=arguments.length>1?arguments[1]:void 0,s=r(t.length),l=void 0===n?s:o(r(n),s),c=String(e);return a?a.call(t,c,l):t.slice(l-c.length,l)===c}})},function(e,t,n){var r=n(202),i=String.fromCharCode,a=String.fromCodePoint,o=!!a&&1!=a.length;n(24)({target:"String",stat:!0,forced:o},{fromCodePoint:function(e){for(var t,n=[],a=arguments.length,o=0;a>o;){if(t=+arguments[o++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},function(e,t,n){"use strict";var r=n(557),i=n(558)("includes");n(24)({target:"String",proto:!0,forced:!i},{includes:function(e){return!!~r(this,e,"includes").indexOf(e,arguments.length>1?arguments[1]:void 0)}})},function(e,t,n){"use strict";var r=n(62),i=n(65),a=n(127),o=n(559),s=n(429);n(430)("match",1,function(e,t,n){return[function(t){var n=a(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var a=n(t,e,this);if(a.done)return a.value;var l=r(e),c=String(this);if(!l.global)return s(l,c);var u=l.unicode;l.lastIndex=0;for(var d,p=[],h=0;null!==(d=s(l,c));){var f=String(d[0]);p[h]=f,""===f&&(l.lastIndex=o(c,i(l.lastIndex),u)),h++}return 0===h?null:p}]})},function(e,t,n){"use strict";var r=n(719),i=n(720);n(24)({target:"String",proto:!0,forced:i},{padEnd:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!1)}})},function(e,t,n){"use strict";var r=n(719),i=n(720);n(24)({target:"String",proto:!0,forced:i},{padStart:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0,!0)}})},function(e,t,n){var r=n(112),i=n(65);n(24)({target:"String",stat:!0},{raw:function(e){for(var t=r(e.raw),n=i(t.length),a=arguments.length,o=[],s=0;n>s;)o.push(String(t[s++])),s<a&&o.push(String(arguments[s]));return o.join("")}})},function(e,t,n){n(24)({target:"String",proto:!0},{repeat:n(552)})},function(e,t,n){"use strict";var r=n(62),i=n(80),a=n(65),o=n(129),s=n(127),l=n(559),c=n(429),u=Math.max,d=Math.min,p=Math.floor,h=/\$([$&`']|\d\d?|<[^>]*>)/g,f=/\$([$&`']|\d\d?)/g;n(430)("replace",2,function(e,t,n){return[function(n,r){var i=s(this),a=null==n?void 0:n[e];return void 0!==a?a.call(n,i,r):t.call(String(i),n,r)},function(e,i){var s=n(t,e,this,i);if(s.done)return s.value;var p=r(e),h=String(this),f="function"==typeof i;f||(i=String(i));var v=p.global;if(v){var m=p.unicode;p.lastIndex=0}for(var y=[];;){var b=c(p,h);if(null===b)break;if(y.push(b),!v)break;""===String(b[0])&&(p.lastIndex=l(h,a(p.lastIndex),m))}for(var S,I="",C=0,M=0;M<y.length;M++){b=y[M];for(var D=String(b[0]),w=u(d(o(b.index),h.length),0),P=[],T=1;T<b.length;T++)P.push(void 0===(S=b[T])?S:String(S));var E=b.groups;if(f){var x=[D].concat(P,w,h);void 0!==E&&x.push(E);var O=String(i.apply(void 0,x))}else O=g(D,h,w,P,E,i);w>=C&&(I+=h.slice(C,w)+O,C=w+D.length)}return I+h.slice(C)}];function g(e,n,r,a,o,s){var l=r+e.length,c=a.length,u=f;return void 0!==o&&(o=i(o),u=h),t.call(s,u,function(t,i){var s;switch(i.charAt(0)){case"$":return"$";case"&":return e;case"`":return n.slice(0,r);case"'":return n.slice(l);case"<":s=o[i.slice(1,-1)];break;default:var u=+i;if(0===u)return t;if(u>c){var d=p(u/10);return 0===d?t:d<=c?void 0===a[d-1]?i.charAt(1):a[d-1]+i.charAt(1):t}s=a[u-1]}return void 0===s?"":s})}})},function(e,t,n){"use strict";var r=n(62),i=n(127),a=n(714),o=n(429);n(430)("search",1,function(e,t,n){return[function(t){var n=i(this),r=null==t?void 0:t[e];return void 0!==r?r.call(t,n):new RegExp(t)[e](String(n))},function(e){var i=n(t,e,this);if(i.done)return i.value;var s=r(e),l=String(this),c=s.lastIndex;a(c,0)||(s.lastIndex=0);var u=o(s,l);return a(s.lastIndex,c)||(s.lastIndex=c),null===u?-1:u.index}]})},function(e,t,n){"use strict";var r=n(556),i=n(62),a=n(127),o=n(206),s=n(559),l=n(65),c=n(429),u=n(560),d=n(45),p=[].push,h=Math.min,f=!d(function(){return!RegExp(4294967295,"y")});n(430)("split",2,function(e,t,n){var d;return d="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(e,n){var i=String(a(this)),o=void 0===n?4294967295:n>>>0;if(0===o)return[];if(void 0===e)return[i];if(!r(e))return t.call(i,e,o);for(var s,l,c,d=[],h=(e.ignoreCase?"i":"")+(e.multiline?"m":"")+(e.unicode?"u":"")+(e.sticky?"y":""),f=0,g=new RegExp(e.source,h+"g");(s=u.call(g,i))&&!((l=g.lastIndex)>f&&(d.push(i.slice(f,s.index)),s.length>1&&s.index<i.length&&p.apply(d,s.slice(1)),c=s[0].length,f=l,d.length>=o));)g.lastIndex===s.index&&g.lastIndex++;return f===i.length?!c&&g.test("")||d.push(""):d.push(i.slice(f)),d.length>o?d.slice(0,o):d}:"0".split(void 0,0).length?function(e,n){return void 0===e&&0===n?[]:t.call(this,e,n)}:t,[function(t,n){var r=a(this),i=null==t?void 0:t[e];return void 0!==i?i.call(t,r,n):d.call(String(r),t,n)},function(e,r){var a=n(d,e,this,r,d!==t);if(a.done)return a.value;var u=i(e),p=String(this),g=o(u,RegExp),v=u.unicode,m=(u.ignoreCase?"i":"")+(u.multiline?"m":"")+(u.unicode?"u":"")+(f?"y":"g"),y=new g(f?u:"^(?:"+u.source+")",m),b=void 0===r?4294967295:r>>>0;if(0===b)return[];if(0===p.length)return null===c(y,p)?[p]:[];for(var S=0,I=0,C=[];I<p.length;){y.lastIndex=f?I:0;var M,D=c(y,f?p:p.slice(I));if(null===D||(M=h(l(y.lastIndex+(f?0:I)),p.length))===S)I=s(p,I,v);else{if(C.push(p.slice(S,I)),C.length===b)return C;for(var w=1;w<=D.length-1;w++)if(C.push(D[w]),C.length===b)return C;I=S=M}}return C.push(p.slice(S)),C}]},!f)},function(e,t,n){"use strict";var r=n(65),i=n(557),a=n(558)("startsWith"),o="".startsWith;n(24)({target:"String",proto:!0,forced:!a},{startsWith:function(e){var t=i(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),a=String(e);return o?o.call(t,a,n):t.slice(n,n+a.length)===a}})},function(e,t,n){"use strict";var r=n(281),i=n(561)("trim");n(24)({target:"String",proto:!0,forced:i},{trim:function(){return r(this,3)}})},function(e,t,n){"use strict";var r=n(281),i=n(561)("trimEnd"),a=i?function(){return r(this,2)}:"".trimEnd;n(24)({target:"String",proto:!0,forced:i},{trimEnd:a,trimRight:a})},function(e,t,n){"use strict";var r=n(281),i=n(561)("trimStart"),a=i?function(){return r(this,1)}:"".trimStart;n(24)({target:"String",proto:!0,forced:i},{trimStart:a,trimLeft:a})},function(e,t,n){"use strict";var r=n(115),i=n(116)("anchor");n(24)({target:"String",proto:!0,forced:i},{anchor:function(e){return r(this,"a","name",e)}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("big");n(24)({target:"String",proto:!0,forced:i},{big:function(){return r(this,"big","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("blink");n(24)({target:"String",proto:!0,forced:i},{blink:function(){return r(this,"blink","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("bold");n(24)({target:"String",proto:!0,forced:i},{bold:function(){return r(this,"b","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("fixed");n(24)({target:"String",proto:!0,forced:i},{fixed:function(){return r(this,"tt","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("fontcolor");n(24)({target:"String",proto:!0,forced:i},{fontcolor:function(e){return r(this,"font","color",e)}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("fontsize");n(24)({target:"String",proto:!0,forced:i},{fontsize:function(e){return r(this,"font","size",e)}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("italics");n(24)({target:"String",proto:!0,forced:i},{italics:function(){return r(this,"i","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("link");n(24)({target:"String",proto:!0,forced:i},{link:function(e){return r(this,"a","href",e)}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("small");n(24)({target:"String",proto:!0,forced:i},{small:function(){return r(this,"small","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("strike");n(24)({target:"String",proto:!0,forced:i},{strike:function(){return r(this,"strike","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("sub");n(24)({target:"String",proto:!0,forced:i},{sub:function(){return r(this,"sub","","")}})},function(e,t,n){"use strict";var r=n(115),i=n(116)("sup");n(24)({target:"String",proto:!0,forced:i},{sup:function(){return r(this,"sup","","")}})},function(e,t,n){n(179)("Float32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Float64",8,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Int8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Int16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Int32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Uint8",1,function(e){return function(t,n,r){return e(this,t,n,r)}},!0)},function(e,t,n){n(179)("Uint16",2,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){n(179)("Uint32",4,function(e){return function(t,n,r){return e(this,t,n,r)}})},function(e,t,n){"use strict";var r=n(698),i=n(64),a=i.aTypedArray;i.exportProto("copyWithin",function(e,t){return r.call(a(this),e,t,arguments.length>2?arguments[2]:void 0)})},function(e,t,n){"use strict";var r=n(106)(4),i=n(64),a=i.aTypedArray;i.exportProto("every",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(544),i=n(64),a=i.aTypedArray;i.exportProto("fill",function(e){return r.apply(a(this),arguments)})},function(e,t,n){"use strict";var r=n(206),i=n(64),a=n(106)(2),o=i.aTypedArray,s=i.aTypedArrayConstructor;i.exportProto("filter",function(e){for(var t=a(o(this),e,arguments.length>1?arguments[1]:void 0),n=r(this,this.constructor),i=0,l=t.length,c=new(s(n))(l);l>i;)c[i]=t[i++];return c})},function(e,t,n){"use strict";var r=n(106)(5),i=n(64),a=i.aTypedArray;i.exportProto("find",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(106)(6),i=n(64),a=i.aTypedArray;i.exportProto("findIndex",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(106)(0),i=n(64),a=i.aTypedArray;i.exportProto("forEach",function(e){r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(562),i=n(64),a=n(722);i.exportStatic("from",a,r)},function(e,t,n){"use strict";var r=n(354)(!0),i=n(64),a=i.aTypedArray;i.exportProto("includes",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(354)(!1),i=n(64),a=i.aTypedArray;i.exportProto("indexOf",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(422),i=n(49).Uint8Array,a=n(64),o=n(63)("iterator"),s=r.values,l=r.keys,c=r.entries,u=a.aTypedArray,d=a.exportProto,p=i&&i.prototype[o],h=!!p&&("values"==p.name||null==p.name),f=function(){return s.call(u(this))};d("entries",function(){return c.call(u(this))}),d("keys",function(){return l.call(u(this))}),d("values",f,!h),d(o,f,!h)},function(e,t,n){"use strict";var r=n(64),i=r.aTypedArray,a=[].join;r.exportProto("join",function(e){return a.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(705),i=n(64),a=i.aTypedArray;i.exportProto("lastIndexOf",function(e){return r.apply(a(this),arguments)})},function(e,t,n){"use strict";var r=n(206),i=n(64),a=i.aTypedArray,o=i.aTypedArrayConstructor,s=n(106)(1,function(e,t){return new(o(r(e,e.constructor)))(t)});i.exportProto("map",function(e){return s(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(562),i=n(64),a=i.aTypedArrayConstructor;i.exportStatic("of",function(){for(var e=0,t=arguments.length,n=new(a(this))(t);t>e;)n[e]=arguments[e++];return n},r)},function(e,t,n){"use strict";var r=n(64),i=r.aTypedArray,a=[].reduce;r.exportProto("reduce",function(e){return a.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(64),i=r.aTypedArray,a=[].reduceRight;r.exportProto("reduceRight",function(e){return a.apply(i(this),arguments)})},function(e,t,n){"use strict";var r=n(64),i=r.aTypedArray;r.exportProto("reverse",function(){for(var e,t=i(this).length,n=Math.floor(t/2),r=0;r<n;)e=this[r],this[r++]=this[--t],this[t]=e;return this})},function(e,t,n){"use strict";var r=n(65),i=n(721),a=n(80),o=n(64),s=o.aTypedArray,l=n(45)(function(){new Int8Array(1).set({})});o.exportProto("set",function(e){s(this);var t=i(arguments[1],1),n=this.length,o=a(e),l=r(o.length),c=0;if(l+t>n)throw RangeError("Wrong length");for(;c<l;)this[t+c]=o[c++]},l)},function(e,t,n){"use strict";var r=n(206),i=n(64),a=i.aTypedArray,o=i.aTypedArrayConstructor,s=[].slice,l=n(45)(function(){new Int8Array(1).slice()});i.exportProto("slice",function(e,t){for(var n=s.call(a(this),e,t),i=r(this,this.constructor),l=0,c=n.length,u=new(o(i))(c);c>l;)u[l]=n[l++];return u},l)},function(e,t,n){"use strict";var r=n(106)(3),i=n(64),a=i.aTypedArray;i.exportProto("some",function(e){return r(a(this),e,arguments.length>1?arguments[1]:void 0)})},function(e,t,n){"use strict";var r=n(64),i=r.aTypedArray,a=[].sort;r.exportProto("sort",function(e){return a.call(i(this),e)})},function(e,t,n){"use strict";var r=n(65),i=n(202),a=n(206),o=n(64),s=o.aTypedArray;o.exportProto("subarray",function(e,t){var n=s(this),o=n.length,l=i(e,o);return new(a(n,n.constructor))(n.buffer,n.byteOffset+l*n.BYTES_PER_ELEMENT,r((void 0===t?o:i(t,o))-l))})},function(e,t,n){"use strict";var r=n(49).Int8Array,i=n(45),a=n(64),o=a.aTypedArray,s=[].toLocaleString,l=[].slice,c=!!r&&i(function(){s.call(new r(1))}),u=i(function(){return[1,2].toLocaleString()!=new r([1,2]).toLocaleString()})||!i(function(){r.prototype.toLocaleString.call([1,2])});a.exportProto("toLocaleString",function(){return s.apply(c?l.call(o(this)):o(this),arguments)},u)},function(e,t,n){"use strict";var r=n(49).Uint8Array,i=r&&r.prototype,a=n(64),o=[].toString,s=[].join;n(45)(function(){o.call({})})&&(o=function(){return s.call(this)}),a.exportProto("toString",o,(i||{}).toString!=o)},function(e,t,n){"use strict";var r,i=n(49),a=n(279),o=n(247),s=n(723),l=n(59),c=n(128).enforce,u=n(690),d=!i.ActiveXObject&&"ActiveXObject"in i,p=Object.isExtensible,h=function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},f=e.exports=n(423)("WeakMap",h,s,!0,!0);if(u&&d){r=s.getConstructor(h,"WeakMap",!0),o.REQUIRED=!0;var g=f.prototype,v=g.delete,m=g.has,y=g.get,b=g.set;a(g,{delete:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new r),v.call(this,e)||t.frozen.delete(e)}return v.call(this,e)},has:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new r),m.call(this,e)||t.frozen.has(e)}return m.call(this,e)},get:function(e){if(l(e)&&!p(e)){var t=c(this);return t.frozen||(t.frozen=new r),m.call(this,e)?y.call(this,e):t.frozen.get(e)}return y.call(this,e)},set:function(e,t){if(l(e)&&!p(e)){var n=c(this);n.frozen||(n.frozen=new r),m.call(this,e)?b.call(this,e,t):n.frozen.set(e,t)}else b.call(this,e,t);return this}})}},function(e,t,n){"use strict";n(423)("WeakSet",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},n(723),!1,!0)},function(e,t,n){"use strict";var r=n(555),i=n(717),a=n(280);n(24)({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=r.f(t),o=n.resolve,s=n.reject,l=i(function(){var n=[],r=0,i=1;a(e,function(e){var a=r++,s=!1;n.push(void 0),i++,t.resolve(e).then(function(e){s||(s=!0,n[a]={status:"fulfilled",value:e},--i||o(n))},function(e){s||(s=!0,n[a]={status:"rejected",reason:e},--i||o(n))})}),--i||o(n)});return l.error&&s(l.value),n.promise}})},function(e,t,n){var r=n(724),i=n(1372),a=n(100),o=n(49);for(var s in r){var l=o[s],c=l&&l.prototype;if(c&&c.forEach!==i)try{a(c,"forEach",i)}catch(e){c.forEach=i}}},function(e,t,n){"use strict";var r=[].forEach,i=n(106)(0),a=n(360)("forEach");e.exports=a?function(e){return i(this,e,arguments[1])}:r},function(e,t,n){var r=n(724),i=n(422),a=n(49),o=n(100),s=n(63),l=s("iterator"),c=s("toStringTag"),u=i.values;for(var d in r){var p=a[d],h=p&&p.prototype;if(h){if(h[l]!==u)try{o(h,l,u)}catch(e){h[l]=u}if(h[c]||o(h,c,d),r[d])for(var f in i)if(h[f]!==i[f])try{o(h,f,i[f])}catch(e){h[f]=i[f]}}}},function(e,t,n){var r=n(49),i=n(553),a=!r.setImmediate||!r.clearImmediate;n(24)({global:!0,bind:!0,enumerable:!0,forced:a},{setImmediate:i.set,clearImmediate:i.clear})},function(e,t,n){var r=n(715),i=n(49).process,a="process"==n(137)(i);n(24)({global:!0,enumerable:!0,noTargetGet:!0},{queueMicrotask:function(e){var t=a&&i.domain;r(t?t.bind(e):e)}})},function(e,t,n){"use strict";n(718);var r,i=n(67),a=n(725),o=n(49).URL,s=n(695),l=n(113),c=n(205),u=n(79),d=n(712),p=n(700),h=n(428),f=n(1377),g=n(726),v=g.URLSearchParams,m=g.getState,y=n(128),b=y.set,S=y.getterFor("URL"),I=Math.pow,C=/[a-zA-Z]/,M=/[a-zA-Z0-9+\-.]/,D=/\d/,w=/^(0x|0X)/,P=/^[0-7]+$/,T=/^\d+$/,E=/^[0-9A-Fa-f]+$/,x=/\u0000|\u0009|\u000A|\u000D|\u0020|#|%|\/|:|\?|@|\[|\\|\]/,O=/\u0000|\u0009|\u000A|\u000D|\u0020|#|\/|:|\?|@|\[|\\|\]/,j=/^[\u0000-\u001F\u0020]+|[\u0000-\u001F\u0020]+$/g,A=/\u0009|\u000A|\u000D/g,N=function(e,t){var n,r,i;if("["==t.charAt(0)){if("]"!=t.charAt(t.length-1))return"Invalid host";if(!(n=L(t.slice(1,-1))))return"Invalid host";e.host=n}else if(V(e)){if(t=f(t),x.test(t))return"Invalid host";if(null===(n=k(t)))return"Invalid host";e.host=n}else{if(O.test(t))return"Invalid host";for(n="",r=p(t),i=0;i<r.length;i++)n+=B(r[i],_);e.host=n}},k=function(e){var t,n,r,i,a,o,s,l=e.split(".");if(""==l[l.length-1]&&l.length&&l.pop(),(t=l.length)>4)return e;for(n=[],r=0;r<t;r++){if(""==(i=l[r]))return e;if(a=10,i.length>1&&"0"==i.charAt(0)&&(a=w.test(i)?16:8,i=i.slice(8==a?1:2)),""===i)o=0;else{if(!(10==a?T:8==a?P:E).test(i))return e;o=parseInt(i,a)}n.push(o)}for(r=0;r<t;r++)if(o=n[r],r==t-1){if(o>=I(256,5-t))return null}else if(o>255)return null;for(s=n.pop(),r=0;r<n.length;r++)s+=n[r]*I(256,3-r);return s},L=function(e){var t,n,r,i,a,o,s,l=[0,0,0,0,0,0,0,0],c=0,u=null,d=0,p=function(){return e.charAt(d)};if(":"==p()){if(":"!=e.charAt(1))return;d+=2,u=++c}for(;p();){if(8==c)return;if(":"!=p()){for(t=n=0;n<4&&E.test(p());)t=16*t+parseInt(p(),16),d++,n++;if("."==p()){if(0==n)return;if(d-=n,c>6)return;for(r=0;p();){if(i=null,r>0){if(!("."==p()&&r<4))return;d++}if(!D.test(p()))return;for(;D.test(p());){if(a=parseInt(p(),10),null===i)i=a;else{if(0==i)return;i=10*i+a}if(i>255)return;d++}l[c]=256*l[c]+i,2!=++r&&4!=r||c++}if(4!=r)return;break}if(":"==p()){if(d++,!p())return}else if(p())return;l[c++]=t}else{if(null!==u)return;d++,u=++c}}if(null!==u)for(o=c-u,c=7;0!=c&&o>0;)s=l[c],l[c--]=l[u+o-1],l[u+--o]=s;else if(8!=c)return;return l},R=function(e){var t,n,r,i;if("number"==typeof e){for(t=[],n=0;n<4;n++)t.unshift(e%256),e=Math.floor(e/256);return t.join(".")}if("object"==typeof e){for(t="",r=function(e){for(var t=null,n=1,r=null,i=0,a=0;a<8;a++)0!==e[a]?(i>n&&(t=r,n=i),r=null,i=0):(null===r&&(r=a),++i);return i>n&&(t=r,n=i),t}(e),n=0;n<8;n++)i&&0===e[n]||(i&&(i=!1),r===n?(t+=n?":":"::",i=!0):(t+=e[n].toString(16),n<7&&(t+=":")));return"["+t+"]"}return e},_={},U=d({},_,{" ":1,'"':1,"<":1,">":1,"`":1}),z=d({},U,{"#":1,"?":1,"{":1,"}":1}),F=d({},z,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),B=function(e,t){var n=h(e,0);return n>32&&n<127&&!u(t,e)?e:encodeURIComponent(e)},H={ftp:21,file:null,gopher:70,http:80,https:443,ws:80,wss:443},V=function(e){return u(H,e.scheme)},Q=function(e){return""!=e.username||""!=e.password},W=function(e){return!e.host||e.cannotBeABaseURL||"file"==e.scheme},G=function(e,t){var n;return 2==e.length&&C.test(e.charAt(0))&&(":"==(n=e.charAt(1))||!t&&"|"==n)},Y=function(e){var t;return e.length>1&&G(e.slice(0,2))&&(2==e.length||"/"===(t=e.charAt(2))||"\\"===t||"?"===t||"#"===t)},K=function(e){var t=e.path,n=t.length;!n||"file"==e.scheme&&1==n&&G(t[0],!0)||t.pop()},q=function(e){return"."===e||"%2e"===e.toLowerCase()},Z={},X={},J={},$={},ee={},te={},ne={},re={},ie={},ae={},oe={},se={},le={},ce={},ue={},de={},pe={},he={},fe={},ge={},ve={},me=function(e,t,n,i){var a,o,s,l,c,d=n||Z,h=0,f="",g=!1,v=!1,m=!1;for(n||(e.scheme="",e.username="",e.password="",e.host=null,e.port=null,e.path=[],e.query=null,e.fragment=null,e.cannotBeABaseURL=!1,t=t.replace(j,"")),t=t.replace(A,""),a=p(t);h<=a.length;){switch(o=a[h],d){case Z:if(!o||!C.test(o)){if(n)return"Invalid scheme";d=J;continue}f+=o.toLowerCase(),d=X;break;case X:if(o&&(M.test(o)||"+"==o||"-"==o||"."==o))f+=o.toLowerCase();else{if(":"!=o){if(n)return"Invalid scheme";f="",d=J,h=0;continue}if(n&&(V(e)!=u(H,f)||"file"==f&&(Q(e)||null!==e.port)||"file"==e.scheme&&!e.host))return;if(e.scheme=f,n)return void(V(e)&&H[e.scheme]==e.port&&(e.port=null));f="","file"==e.scheme?d=ce:V(e)&&i&&i.scheme==e.scheme?d=$:V(e)?d=re:"/"==a[h+1]?(d=ee,h++):(e.cannotBeABaseURL=!0,e.path.push(""),d=fe)}break;case J:if(!i||i.cannotBeABaseURL&&"#"!=o)return"Invalid scheme";if(i.cannotBeABaseURL&&"#"==o){e.scheme=i.scheme,e.path=i.path.slice(),e.query=i.query,e.fragment="",e.cannotBeABaseURL=!0,d=ve;break}d="file"==i.scheme?ce:te;continue;case $:if("/"!=o||"/"!=a[h+1]){d=te;continue}d=ie,h++;break;case ee:if("/"==o){d=ae;break}d=he;continue;case te:if(e.scheme=i.scheme,o==r)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query;else if("/"==o||"\\"==o&&V(e))d=ne;else if("?"==o)e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query="",d=ge;else{if("#"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.path.pop(),d=he;continue}e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,e.path=i.path.slice(),e.query=i.query,e.fragment="",d=ve}break;case ne:if(!V(e)||"/"!=o&&"\\"!=o){if("/"!=o){e.username=i.username,e.password=i.password,e.host=i.host,e.port=i.port,d=he;continue}d=ae}else d=ie;break;case re:if(d=ie,"/"!=o||"/"!=f.charAt(h+1))continue;h++;break;case ie:if("/"!=o&&"\\"!=o){d=ae;continue}break;case ae:if("@"==o){g&&(f="%40"+f),g=!0,s=p(f);for(var y=0;y<s.length;y++){var b=s[y];if(":"!=b||m){var S=B(b,F);m?e.password+=S:e.username+=S}else m=!0}f=""}else if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)){if(g&&""==f)return"Invalid authority";h-=p(f).length+1,f="",d=oe}else f+=o;break;case oe:case se:if(n&&"file"==e.scheme){d=de;continue}if(":"!=o||v){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)){if(V(e)&&""==f)return"Invalid host";if(n&&""==f&&(Q(e)||null!==e.port))return;if(l=N(e,f))return l;if(f="",d=pe,n)return;continue}"["==o?v=!0:"]"==o&&(v=!1),f+=o}else{if(""==f)return"Invalid host";if(l=N(e,f))return l;if(f="",d=le,n==se)return}break;case le:if(!D.test(o)){if(o==r||"/"==o||"?"==o||"#"==o||"\\"==o&&V(e)||n){if(""!=f){var I=parseInt(f,10);if(I>65535)return"Invalid port";e.port=V(e)&&I===H[e.scheme]?null:I,f=""}if(n)return;d=pe;continue}return"Invalid port"}f+=o;break;case ce:if(e.scheme="file","/"==o||"\\"==o)d=ue;else{if(!i||"file"!=i.scheme){d=he;continue}if(o==r)e.host=i.host,e.path=i.path.slice(),e.query=i.query;else if("?"==o)e.host=i.host,e.path=i.path.slice(),e.query="",d=ge;else{if("#"!=o){Y(a.slice(h).join(""))||(e.host=i.host,e.path=i.path.slice(),K(e)),d=he;continue}e.host=i.host,e.path=i.path.slice(),e.query=i.query,e.fragment="",d=ve}}break;case ue:if("/"==o||"\\"==o){d=de;break}i&&"file"==i.scheme&&!Y(a.slice(h).join(""))&&(G(i.path[0],!0)?e.path.push(i.path[0]):e.host=i.host),d=he;continue;case de:if(o==r||"/"==o||"\\"==o||"?"==o||"#"==o){if(!n&&G(f))d=he;else if(""==f){if(e.host="",n)return;d=pe}else{if(l=N(e,f))return l;if("localhost"==e.host&&(e.host=""),n)return;f="",d=pe}continue}f+=o;break;case pe:if(V(e)){if(d=he,"/"!=o&&"\\"!=o)continue}else if(n||"?"!=o)if(n||"#"!=o){if(o!=r&&(d=he,"/"!=o))continue}else e.fragment="",d=ve;else e.query="",d=ge;break;case he:if(o==r||"/"==o||"\\"==o&&V(e)||!n&&("?"==o||"#"==o)){if(".."===(c=(c=f).toLowerCase())||"%2e."===c||".%2e"===c||"%2e%2e"===c?(K(e),"/"==o||"\\"==o&&V(e)||e.path.push("")):q(f)?"/"==o||"\\"==o&&V(e)||e.path.push(""):("file"==e.scheme&&!e.path.length&&G(f)&&(e.host&&(e.host=""),f=f.charAt(0)+":"),e.path.push(f)),f="","file"==e.scheme&&(o==r||"?"==o||"#"==o))for(;e.path.length>1&&""===e.path[0];)e.path.shift();"?"==o?(e.query="",d=ge):"#"==o&&(e.fragment="",d=ve)}else f+=B(o,z);break;case fe:"?"==o?(e.query="",d=ge):"#"==o?(e.fragment="",d=ve):o!=r&&(e.path[0]+=B(o,_));break;case ge:n||"#"!=o?o!=r&&("'"==o&&V(e)?e.query+="%27":e.query+="#"==o?"%23":B(o,_)):(e.fragment="",d=ve);break;case ve:o!=r&&(e.fragment+=B(o,U))}h++}},ye=function(e){var t,n,r=c(this,ye,"URL"),a=arguments.length>1?arguments[1]:void 0,o=String(e),s=b(r,{type:"URL"});if(void 0!==a)if(a instanceof ye)t=S(a);else if(n=me(t={},String(a)))throw TypeError(n);if(n=me(s,o,null,t))throw TypeError(n);var l=s.searchParams=new v,u=m(l);u.updateSearchParams(s.query),u.updateURL=function(){s.query=String(l)||null},i||(r.href=Se.call(r),r.origin=Ie.call(r),r.protocol=Ce.call(r),r.username=Me.call(r),r.password=De.call(r),r.host=we.call(r),r.hostname=Pe.call(r),r.port=Te.call(r),r.pathname=Ee.call(r),r.search=xe.call(r),r.searchParams=Oe.call(r),r.hash=je.call(r))},be=ye.prototype,Se=function(){var e=S(this),t=e.scheme,n=e.username,r=e.password,i=e.host,a=e.port,o=e.path,s=e.query,l=e.fragment,c=t+":";return null!==i?(c+="//",Q(e)&&(c+=n+(r?":"+r:"")+"@"),c+=R(i),null!==a&&(c+=":"+a)):"file"==t&&(c+="//"),c+=e.cannotBeABaseURL?o[0]:o.length?"/"+o.join("/"):"",null!==s&&(c+="?"+s),null!==l&&(c+="#"+l),c},Ie=function(){var e=S(this),t=e.scheme,n=e.port;if("blob"==t)try{return new URL(t.path[0]).origin}catch(e){return"null"}return"file"!=t&&V(e)?t+"://"+R(e.host)+(null!==n?":"+n:""):"null"},Ce=function(){return S(this).scheme+":"},Me=function(){return S(this).username},De=function(){return S(this).password},we=function(){var e=S(this),t=e.host,n=e.port;return null===t?"":null===n?R(t):R(t)+":"+n},Pe=function(){var e=S(this).host;return null===e?"":R(e)},Te=function(){var e=S(this).port;return null===e?"":String(e)},Ee=function(){var e=S(this),t=e.path;return e.cannotBeABaseURL?t[0]:t.length?"/"+t.join("/"):""},xe=function(){var e=S(this).query;return e?"?"+e:""},Oe=function(){return S(this).searchParams},je=function(){var e=S(this).fragment;return e?"#"+e:""},Ae=function(e,t){return{get:e,set:t,configurable:!0,enumerable:!0}};if(i&&s(be,{href:Ae(Se,function(e){var t=S(this),n=String(e),r=me(t,n);if(r)throw TypeError(r);m(t.searchParams).updateSearchParams(t.query)}),origin:Ae(Ie),protocol:Ae(Ce,function(e){var t=S(this);me(t,String(e)+":",Z)}),username:Ae(Me,function(e){var t=S(this),n=p(String(e));if(!W(t)){t.username="";for(var r=0;r<n.length;r++)t.username+=B(n[r],F)}}),password:Ae(De,function(e){var t=S(this),n=p(String(e));if(!W(t)){t.password="";for(var r=0;r<n.length;r++)t.password+=B(n[r],F)}}),host:Ae(we,function(e){var t=S(this);t.cannotBeABaseURL||me(t,String(e),oe)}),hostname:Ae(Pe,function(e){var t=S(this);t.cannotBeABaseURL||me(t,String(e),se)}),port:Ae(Te,function(e){var t=S(this);W(t)||(""==(e=String(e))?t.port=null:me(t,e,le))}),pathname:Ae(Ee,function(e){var t=S(this);t.cannotBeABaseURL||(t.path=[],me(t,e+"",pe))}),search:Ae(xe,function(e){var t=S(this);""==(e=String(e))?t.query=null:("?"==e.charAt(0)&&(e=e.slice(1)),t.query="",me(t,e,ge)),m(t.searchParams).updateSearchParams(t.query)}),searchParams:Ae(Oe),hash:Ae(je,function(e){var t=S(this);""!=(e=String(e))?("#"==e.charAt(0)&&(e=e.slice(1)),t.fragment="",me(t,e,ve)):t.fragment=null})}),l(be,"toJSON",function(){return Se.call(this)},{enumerable:!0}),l(be,"toString",function(){return Se.call(this)},{enumerable:!0}),o){var Ne=o.createObjectURL,ke=o.revokeObjectURL;Ne&&l(ye,"createObjectURL",function(e){return Ne.apply(o,arguments)}),ke&&l(ye,"revokeObjectURL",function(e){return ke.apply(o,arguments)})}n(157)(ye,"URL"),n(24)({global:!0,forced:!a,sham:!i},{URL:ye})},function(e,t,n){"use strict";var r=/[^\0-\u007E]/,i=/[\u002E\u3002\uFF0E\uFF61]/g,a="Overflow: input needs wider integers to process",o=Math.floor,s=String.fromCharCode,l=function(e){return e+22+75*(e<26)},c=function(e,t,n){var r=0;for(e=n?o(e/700):e>>1,e+=o(e/t);e>455;r+=36)e=o(e/35);return o(r+36*e/(e+38))},u=function(e){var t,n,r=[],i=(e=function(e){for(var t=[],n=0,r=e.length;n<r;){var i=e.charCodeAt(n++);if(i>=55296&&i<=56319&&n<r){var a=e.charCodeAt(n++);56320==(64512&a)?t.push(((1023&i)<<10)+(1023&a)+65536):(t.push(i),n--)}else t.push(i)}return t}(e)).length,u=128,d=0,p=72;for(t=0;t<e.length;t++)(n=e[t])<128&&r.push(s(n));var h=r.length,f=h;for(h&&r.push("-");f<i;){var g=2147483647;for(t=0;t<e.length;t++)(n=e[t])>=u&&n<g&&(g=n);var v=f+1;if(g-u>o((2147483647-d)/v))throw RangeError(a);for(d+=(g-u)*v,u=g,t=0;t<e.length;t++){if((n=e[t])<u&&++d>2147483647)throw RangeError(a);if(n==u){for(var m=d,y=36;;y+=36){var b=y<=p?1:y>=p+26?26:y-p;if(m<b)break;var S=m-b,I=36-b;r.push(s(l(b+S%I))),m=o(S/I)}r.push(s(l(m))),p=c(d,v,f==h),d=0,++f}}++d,++u}return r.join("")};e.exports=function(e){var t,n,a=[],o=e.toLowerCase().replace(i,".").split(".");for(t=0;t<o.length;t++)n=o[t],a.push(r.test(n)?"xn--"+u(n):n);return a.join(".")}},function(e,t,n){var r=n(62),i=n(359);e.exports=function(e){var t=i(e);if("function"!=typeof t)throw TypeError(String(e)+" is not iterable");return r(t.call(e))}},function(e,t,n){"use strict";n(24)({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return URL.prototype.toString.call(this)}})},function(e,t,n){var r=n(727),i={delimiter:"&",arrayPrefixGenerators:{brackets:function(e,t){return e+"[]"},indices:function(e,t){return e+"["+t+"]"},repeat:function(e,t){return e}},strictNullHandling:!1,stringify:function(e,t,n,a,o){if("function"==typeof o)e=o(t,e);else if(r.isBuffer(e))e=e.toString();else if(e instanceof Date)e=e.toISOString();else if(null===e){if(a)return r.encode(t);e=""}if("string"==typeof e||"number"==typeof e||"boolean"==typeof e)return[r.encode(t)+"="+r.encode(e)];var s=[];if(void 0===e)return s;for(var l=Array.isArray(o)?o:Object.keys(e),c=0,u=l.length;c<u;++c){var d=l[c];s=Array.isArray(e)?s.concat(i.stringify(e[d],n(t,d),n,a,o)):s.concat(i.stringify(e[d],t+"["+d+"]",n,a,o))}return s}};e.exports=function(e,t){var n,r,a=void 0===(t=t||{}).delimiter?i.delimiter:t.delimiter,o="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling;"function"==typeof t.filter?e=(r=t.filter)("",e):Array.isArray(t.filter)&&(n=r=t.filter);var s,l=[];if("object"!=typeof e||null===e)return"";s=t.arrayFormat in i.arrayPrefixGenerators?t.arrayFormat:"indices"in t?t.indices?"indices":"repeat":"indices";var c=i.arrayPrefixGenerators[s];n||(n=Object.keys(e));for(var u=0,d=n.length;u<d;++u){var p=n[u];l=l.concat(i.stringify(e[p],p,c,o,r))}return l.join(a)}},function(e,t,n){var r=n(727),i={delimiter:"&",depth:5,arrayLimit:20,parameterLimit:1e3,strictNullHandling:!1,plainObjects:!1,allowPrototypes:!1,allowDots:!1,parseValues:function(e,t){for(var n={},i=e.split(t.delimiter,t.parameterLimit===1/0?void 0:t.parameterLimit),a=0,o=i.length;a<o;++a){var s=i[a],l=-1===s.indexOf("]=")?s.indexOf("="):s.indexOf("]=")+1;if(-1===l)n[r.decode(s)]="",t.strictNullHandling&&(n[r.decode(s)]=null);else{var c=r.decode(s.slice(0,l)),u=r.decode(s.slice(l+1));Object.prototype.hasOwnProperty.call(n,c)?n[c]=[].concat(n[c]).concat(u):n[c]=u}}return n},parseObject:function(e,t,n){if(!e.length)return t;var r,a=e.shift();if("[]"===a)r=(r=[]).concat(i.parseObject(e,t,n));else{r=n.plainObjects?Object.create(null):{};var o="["===a[0]&&"]"===a[a.length-1]?a.slice(1,a.length-1):a,s=parseInt(o,10),l=""+s;!isNaN(s)&&a!==o&&l===o&&s>=0&&n.parseArrays&&s<=n.arrayLimit?(r=[])[s]=i.parseObject(e,t,n):r[o]=i.parseObject(e,t,n)}return r},parseKeys:function(e,t,n){if(e){n.allowDots&&(e=e.replace(/\.([^\.\[]+)/g,"[$1]"));var r=/(\[[^\[\]]*\])/g,a=/^([^\[\]]*)/.exec(e),o=[];if(a[1]){if(!n.plainObjects&&Object.prototype.hasOwnProperty(a[1])&&!n.allowPrototypes)return;o.push(a[1])}for(var s=0;null!==(a=r.exec(e))&&s<n.depth;)++s,(n.plainObjects||!Object.prototype.hasOwnProperty(a[1].replace(/\[|\]/g,""))||n.allowPrototypes)&&o.push(a[1]);return a&&o.push("["+e.slice(a.index)+"]"),i.parseObject(o,t,n)}}};e.exports=function(e,t){if((t=t||{}).delimiter="string"==typeof t.delimiter||r.isRegExp(t.delimiter)?t.delimiter:i.delimiter,t.depth="number"==typeof t.depth?t.depth:i.depth,t.arrayLimit="number"==typeof t.arrayLimit?t.arrayLimit:i.arrayLimit,t.parseArrays=!1!==t.parseArrays,t.allowDots="boolean"==typeof t.allowDots?t.allowDots:i.allowDots,t.plainObjects="boolean"==typeof t.plainObjects?t.plainObjects:i.plainObjects,t.allowPrototypes="boolean"==typeof t.allowPrototypes?t.allowPrototypes:i.allowPrototypes,t.parameterLimit="number"==typeof t.parameterLimit?t.parameterLimit:i.parameterLimit,t.strictNullHandling="boolean"==typeof t.strictNullHandling?t.strictNullHandling:i.strictNullHandling,""===e||null==e)return t.plainObjects?Object.create(null):{};for(var n="string"==typeof e?i.parseValues(e,t):e,a=t.plainObjects?Object.create(null):{},o=Object.keys(n),s=0,l=o.length;s<l;++s){var c=o[s],u=i.parseKeys(c,n[c],t);a=r.merge(a,u,t)}return r.compact(a)}},function(e,t,n){var r,i;r=n(5),i=n(283),e.exports=function(e,t){"use strict";return t.Wreqr=function(e,t,n){var r,i={};return i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var r=null;t.isObject(e)&&!t.isFunction(e)&&(r=e.context,e=e.callback),this.setHandler(n,e,r)},this)},setHandler:function(e,t,n){var r={callback:t,context:n};this._wreqrHandlers[e]=r,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,n),i.CommandStorage=(r=function(e){this.options=e,this._commands={},n.isFunction(this.initialize)&&this.initialize(e)},n.extend(r.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){this.getCommands(e).instances.push(t)},clearCommands:function(e){this.getCommands(e).instances=[]}}),r),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,t,r){var i=this.storage.getCommands(e);n.each(i.instances,function(e){t.apply(r,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var t,r=e.storageType||this.storageType;t=n.isFunction(r)?new r:r,this.storage=t}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);if(this.hasHandler(e))return this.getHandler(e).apply(this,t)}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,n),i}(t,t.Marionette,e),t.Wreqr}(r,i)},function(e,t,n){var r,i,a,o;a=n(5),o=n(283),e.exports=(r=a,(i=o).ChildViewContainer=function(e,t){var n=function(e){this._views={},this._indexByModel={},this._indexByCustom={},this._updateLength(),t.each(e,this.add,this)};return t.extend(n.prototype,{add:function(e,t){var n=e.cid;return this._views[n]=e,e.model&&(this._indexByModel[e.model.cid]=n),t&&(this._indexByCustom[t]=n),this._updateLength(),this},findByModel:function(e){return this.findByModelCid(e.cid)},findByModelCid:function(e){var t=this._indexByModel[e];return this.findByCid(t)},findByCustom:function(e){var t=this._indexByCustom[e];return this.findByCid(t)},findByIndex:function(e){return t.values(this._views)[e]},findByCid:function(e){return this._views[e]},remove:function(e){var n=e.cid;return e.model&&delete this._indexByModel[e.model.cid],t.any(this._indexByCustom,function(e,t){if(e===n)return delete this._indexByCustom[t],!0},this),delete this._views[n],this._updateLength(),this},call:function(e){this.apply(e,t.tail(arguments))},apply:function(e,n){t.each(this._views,function(r){t.isFunction(r[e])&&r[e].apply(r,n||[])})},_updateLength:function(){this.length=t.size(this._views)}}),t.each(["forEach","each","map","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","toArray","first","initial","rest","last","without","isEmpty","pluck"],function(e){n.prototype[e]=function(){var n=[t.values(this._views)].concat(t.toArray(arguments));return t[e].apply(t,n)}}),n}(0,r),i.ChildViewContainer)},function(e,t,n){(function(e){!function(e){"use strict";var t=function(n,r){this.$element=e(n),this.options=e.extend({},t.DEFAULTS,r)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",n=this.$element,r=n.is("input")?"val":"html",i=n.data();e+="Text",i.resetText||n.data("resetText",n[r]()),n[r](i[e]||this.options[e]),setTimeout(function(){"loadingText"==e?n.addClass(t).attr(t,t):n.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');e.length&&("radio"===this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change").prop("type")&&e.find(".active").removeClass("active"));this.$element.toggleClass("active")};var n=e.fn.button;e.fn.button=function(n){return this.each(function(){var r=e(this),i=r.data("bs.button"),a="object"==typeof n&&n;i||r.data("bs.button",i=new t(this,a)),"toggle"==n?i.toggle():n&&i.setState(n)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=n,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var n=e(t.target);n.hasClass("btn")||(n=n.closest(".btn")),n.button("toggle"),t.preventDefault()})}(e)}).call(this,n(8))},function(e,t,n){(function(e){!function(e){"use strict";var t=".dropdown-backdrop",n="[data-toggle=dropdown]",r=function(t){e(t).on("click.bs.dropdown",this.toggle)};function i(){e(t).remove(),e(n).each(function(t){var n=a(e(this));n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function a(t){var n=t.attr("data-target");n||(n=(n=t.attr("href"))&&/#/.test(n)&&n.replace(/.*(?=#[^\s]*$)/,""));var r=n&&e(n);return r&&r.length?r:t.parent()}r.prototype.toggle=function(t){var n=e(this);if(!n.is(".disabled, :disabled")){var r=a(n),o=r.hasClass("open");if(i(),!o){if("ontouchstart"in document.documentElement&&!r.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",i),r.trigger(t=e.Event("show.bs.dropdown")),t.isDefaultPrevented())return;r.toggleClass("open").trigger("shown.bs.dropdown"),n.focus()}return!1}},r.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var r=e(this);if(t.preventDefault(),t.stopPropagation(),!r.is(".disabled, :disabled")){var i=a(r),o=i.hasClass("open");if(!o||o&&27==t.keyCode)return 27==t.which&&i.find(n).focus(),r.click();var s=e("[role=menu] li:not(.divider):visible a",i);if(s.length){var l=s.index(s.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<s.length-1&&l++,~l||(l=0),s.eq(l).focus()}}}};var o=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var n=e(this),i=n.data("dropdown");i||n.data("dropdown",i=new r(this)),"string"==typeof t&&i[t].call(n)})},e.fn.dropdown.Constructor=r,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=o,this},e(document).on("click.bs.dropdown.data-api",i).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",n,r.prototype.toggle).on("keydown.bs.dropdown.data-api",n+", [role=menu]",r.prototype.keydown)}(e)}).call(this,n(8))},function(e,t,n){(function(e){!function(e){"use strict";var t=function(t,n){this.options=n,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var n=this,r=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(r),this.isShown||r.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var r=e.support.transition&&n.$element.hasClass("fade");n.$element.parent().length||n.$element.appendTo(document.body),n.$element.show(),r&&n.$element[0].offsetWidth,n.$element.addClass("in").attr("aria-hidden",!1),n.enforceFocus();var i=e.Event("shown.bs.modal",{relatedTarget:t});r?n.$element.find(".modal-dialog").one(e.support.transition.end,function(){n.$element.focus().trigger(i)}).emulateTransitionEnd(300):n.$element.focus().trigger(i)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var n=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var r=e.support.transition&&n;if(this.$backdrop=e('<div class="modal-backdrop '+n+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),r&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;r?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var n=e.fn.modal;e.fn.modal=function(n,r){return this.each(function(){var i=e(this),a=i.data("bs.modal"),o=e.extend({},t.DEFAULTS,i.data(),"object"==typeof n&&n);a||i.data("bs.modal",a=new t(this,o)),"string"==typeof n?a[n](r):o.show&&a.show(r)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=n,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var n=e(this),r=n.attr("href"),i=e(n.attr("data-target")||r&&r.replace(/.*(?=#[^\s]+$)/,"")),a=i.data("modal")?"toggle":e.extend({remote:!/#/.test(r)&&r},i.data(),n.data());t.preventDefault(),i.modal(a,this).one("hide",function(){n.is(":visible")&&n.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(e)}).call(this,n(8))},function(e,t,n){(function(e){!function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,r){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(r);for(var i=this.options.trigger.split(" "),a=i.length;a--;){var o=i[a];if("click"==o)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=o){var s="hover"==o?"mouseenter":"focus",l="hover"==o?"mouseleave":"blur";this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return(t=e.extend({},this.getDefaults(),this.$element.data(),t)).delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults();return this._options&&e.each(this._options,function(e,r){n[e]!=r&&(t[e]=r)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="in",!n.options.delay||!n.options.delay.show)return n.show();n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);if(clearTimeout(n.timeout),n.hoverState="out",!n.options.delay||!n.options.delay.hide)return n.hide();n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var n=this.tip();this.setContent(),this.options.animation&&n.addClass("fade");var r="function"==typeof this.options.placement?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement,i=/\s?auto?\s?/i,a=i.test(r);a&&(r=r.replace(i,"")||"top"),n.detach().css({top:0,left:0,display:"block"}).addClass(r),this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var o=this.getPosition(),s=n[0].offsetWidth,l=n[0].offsetHeight;if(a){var c=this.$element.parent(),u=r,d=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:c.outerWidth(),h="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;r="bottom"==r&&o.top+o.height+l-d>h?"top":"top"==r&&o.top-d-l<0?"bottom":"right"==r&&o.right+s>p?"left":"left"==r&&o.left-s<f?"right":r,n.removeClass(u).addClass(r)}var g=this.getCalculatedOffset(r,o,s,l);this.applyPlacement(g,r),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var n,r=this.tip(),i=r[0].offsetWidth,a=r[0].offsetHeight,o=parseInt(r.css("margin-top"),10),s=parseInt(r.css("margin-left"),10);isNaN(o)&&(o=0),isNaN(s)&&(s=0),e.top=e.top+o,e.left=e.left+s,r.offset(e).addClass("in");var l=r[0].offsetWidth,c=r[0].offsetHeight;if("top"==t&&c!=a&&(n=!0,e.top=e.top+a-c),/bottom|top/.test(t)){var u=0;e.left<0&&(u=-2*e.left,e.left=0,r.offset(e),l=r[0].offsetWidth,c=r[0].offsetHeight),this.replaceArrow(u-i+l,l,"left")}else this.replaceArrow(c-a,c,"top");n&&r.offset(e)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){var t=this,n=this.tip(),r=e.Event("hide.bs."+this.type);function i(){"in"!=t.hoverState&&n.detach()}if(this.$element.trigger(r),!r.isDefaultPrevented())return n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,i).emulateTransitionEnd(150):i(),this.$element.trigger("hidden.bs."+this.type),this},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,r){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-r,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-r/2,left:t.left-n}:{top:t.top+t.height/2-r/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e=this.$element,t=this.options;return e.attr("data-original-title")||("function"==typeof t.title?t.title.call(e[0]):t.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("bs.tooltip"),a="object"==typeof n&&n;i||r.data("bs.tooltip",i=new t(this,a)),"string"==typeof n&&i[n]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(e)}).call(this,n(8))},function(e,t,n){(function(e){!function(e){"use strict";e.fn.emulateTransitionEnd=function(t){var n=!1,r=this;e(this).one(e.support.transition.end,function(){n=!0});return setTimeout(function(){n||e(r).trigger(e.support.transition.end)},t),this},e(function(){e.support.transition=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var n in t)if(void 0!==e.style[n])return{end:t[n]}}()})}(e)}).call(this,n(8))},function(e,t,n){"use strict";n.r(t);var r={allowFlash:!0,allowServerUpdates:!0,allowHttpsMediaServerConnections:!0,allowMediaServerRelayConnections:!0,allowMultipleWebSocketConnections:!0,shouldCreateFlexModels:!0,shouldCreateStateTree:!0,shouldRequestHTMLFromCloudProvider:!0,shouldPublishDRM:!1,allowCloudPubSub:!0,allowLoopbackDiscovery:"http:"===window.location.protocol,allowSSO:!1,bufferingDetectionLimit:500,allowSyncSettings:!0,allowSync:!0,allowDirectDownload:!0,allowSyncDownload:!1};t.default=r},function(e,t,n){"use strict";var r=n(563),i=n(728).default,a=n(565).default,o=n(564),s=n(1391),l=function(){var e=new r.HandlebarsEnvironment;return o.extend(e,r),e.SafeString=i,e.Exception=a,e.Utils=o,e.VM=s,e.template=function(t){return s.template(t,e)},e},c=l();c.create=l,t.default=c,e.exports=c},function(e,t,n){"use strict";var r=n(564),i=n(565).default,a=n(563).COMPILER_REVISION,o=n(563).REVISION_CHANGES;function s(e,t,n){var r=function(e,r){return t(e,(r=r||{}).data||n)};return r.program=e,r.depth=0,r}t.checkRevision=function(e){var t=e&&e[0]||1;if(t!==a){if(t<a){var n=o[a],r=o[t];throw new i("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+r+").")}throw new i("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}},t.template=function(e,t){if(!t)throw new i("No environment passed to template");var n={escapeExpression:r.escapeExpression,invokePartial:function(e,n,r,a,o,s){var l=t.VM.invokePartial.apply(this,arguments);if(null!=l)return l;if(t.compile){var c={helpers:a,partials:o,data:s};return o[n]=t.compile(e,{data:void 0!==s},t),o[n](r,c)}throw new i("The partial "+n+" could not be compiled when running in runtime-only mode")},programs:[],program:function(e,t,n){var r=this.programs[e];return n?r=s(e,t,n):r||(r=this.programs[e]=s(e,t)),r},merge:function(e,t){var n=e||t;return e&&t&&e!==t&&(n={},r.extend(n,t),r.extend(n,e)),n},programWithDepth:t.VM.programWithDepth,noop:t.VM.noop,compilerInfo:null};return function(r,i){var a,o,s=(i=i||{}).partial?i:t;i.partial||(a=i.helpers,o=i.partials);var l=e.call(n,s,r,a,o,i.data);return i.partial||t.VM.checkRevision(n.compilerInfo),l}},t.programWithDepth=function(e,t,n){var r=Array.prototype.slice.call(arguments,3),i=function(e,i){return i=i||{},t.apply(this,[e,i.data||n].concat(r))};return i.program=e,i.depth=r.length,i},t.program=s,t.invokePartial=function(e,t,n,r,a,o){var s={partial:!0,helpers:r,partials:a,data:o};if(void 0===e)throw new i("The partial "+t+" could not be found");if(e instanceof Function)return e(n,s)},t.noop=function(){return""}},function(e,t,n){var r=n(574).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";n.r(t),t.default=function(e,t){if(!e)return"";if(e.length>t){for(var n=e.substring(0,t-3);!1===/\S/.test(n.charAt(n.length-1))&&n.length>1;)n=n.slice(0,-1);return n+"..."}return e}},function(e,t,n){"use strict";n.r(t);var r=n(40),i=n(2),a=n(117),o=n(163);t.default=function(e){if(e.index===r.a.CONVERT_AUTOMATICALLY)return Object(i.default)("Convert Automatically");if(e.index===r.a.ORIGINAL)return Object(i.default)("Original");var t=e.bitrate||e.maxVideoBitrate,n=e.videoResolution;if(!t&&!n)return Object(i.default)("Unknown");var s=[];if(t&&s.push(Object(o.default)(t)),n&&(!t||t>=1e3)){var l=r.a.getResolutionFromSize(n);s.push(Object(a.default)(l))}var c=s.join(", ");return e.description?c+" "+e.description:c}},function(e,t,n){var r=n(1396).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";n.r(t),n.d(t,"default",function(){return i});var r=n(445);function i(e){return Object(r.a)(e.bitrate)}},function(e,t,n){"use strict";var r=n(1398);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){"use strict";
/** @license React v16.8.5
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(248),i="function"==typeof Symbol&&Symbol.for,a=i?Symbol.for("react.element"):60103,o=i?Symbol.for("react.portal"):60106,s=i?Symbol.for("react.fragment"):60107,l=i?Symbol.for("react.strict_mode"):60108,c=i?Symbol.for("react.profiler"):60114,u=i?Symbol.for("react.provider"):60109,d=i?Symbol.for("react.context"):60110,p=i?Symbol.for("react.concurrent_mode"):60111,h=i?Symbol.for("react.forward_ref"):60112,f=i?Symbol.for("react.suspense"):60113,g=i?Symbol.for("react.memo"):60115,v=i?Symbol.for("react.lazy"):60116,m="function"==typeof Symbol&&Symbol.iterator;function y(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S={};function I(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||b}function C(){}function M(e,t,n){this.props=e,this.context=t,this.refs=S,this.updater=n||b}I.prototype.isReactComponent={},I.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&y("85"),this.updater.enqueueSetState(this,e,t,"setState")},I.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},C.prototype=I.prototype;var D=M.prototype=new C;D.constructor=M,r(D,I.prototype),D.isPureReactComponent=!0;var w={current:null},P={current:null},T=Object.prototype.hasOwnProperty,E={key:!0,ref:!0,__self:!0,__source:!0};function x(e,t,n){var r=void 0,i={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)T.call(t,r)&&!E.hasOwnProperty(r)&&(i[r]=t[r]);var l=arguments.length-2;if(1===l)i.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in l=e.defaultProps)void 0===i[r]&&(i[r]=l[r]);return{$$typeof:a,type:e,key:o,ref:s,props:i,_owner:P.current}}function O(e){return"object"==typeof e&&null!==e&&e.$$typeof===a}var j=/\/+/g,A=[];function N(e,t,n,r){if(A.length){var i=A.pop();return i.result=e,i.keyPrefix=t,i.func=n,i.context=r,i.count=0,i}return{result:e,keyPrefix:t,func:n,context:r,count:0}}function k(e){e.result=null,e.keyPrefix=null,e.func=null,e.context=null,e.count=0,10>A.length&&A.push(e)}function L(e,t,n){return null==e?0:function e(t,n,r,i){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case a:case o:l=!0}}if(l)return r(i,t,""===n?"."+R(t,0):n),1;if(l=0,n=""===n?".":n+":",Array.isArray(t))for(var c=0;c<t.length;c++){var u=n+R(s=t[c],c);l+=e(s,u,r,i)}else if(u=null===t||"object"!=typeof t?null:"function"==typeof(u=m&&t[m]||t["@@iterator"])?u:null,"function"==typeof u)for(t=u.call(t),c=0;!(s=t.next()).done;)l+=e(s=s.value,u=n+R(s,c++),r,i);else"object"===s&&y("31","[object Object]"==(r=""+t)?"object with keys {"+Object.keys(t).join(", ")+"}":r,"");return l}(e,"",t,n)}function R(e,t){return"object"==typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+(""+e).replace(/[=:]/g,function(e){return t[e]})}(e.key):t.toString(36)}function _(e,t){e.func.call(e.context,t,e.count++)}function U(e,t,n){var r=e.result,i=e.keyPrefix;e=e.func.call(e.context,t,e.count++),Array.isArray(e)?z(e,r,n,function(e){return e}):null!=e&&(O(e)&&(e=function(e,t){return{$$typeof:a,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(e,i+(!e.key||t&&t.key===e.key?"":(""+e.key).replace(j,"$&/")+"/")+n)),r.push(e))}function z(e,t,n,r,i){var a="";null!=n&&(a=(""+n).replace(j,"$&/")+"/"),L(e,U,t=N(t,a,r,i)),k(t)}function F(){var e=w.current;return null===e&&y("321"),e}var B={Children:{map:function(e,t,n){if(null==e)return e;var r=[];return z(e,r,null,t,n),r},forEach:function(e,t,n){if(null==e)return e;L(e,_,t=N(null,null,t,n)),k(t)},count:function(e){return L(e,function(){return null},null)},toArray:function(e){var t=[];return z(e,t,null,function(e){return e}),t},only:function(e){return O(e)||y("143"),e}},createRef:function(){return{current:null}},Component:I,PureComponent:M,createContext:function(e,t){return void 0===t&&(t=null),(e={$$typeof:d,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},forwardRef:function(e){return{$$typeof:h,render:e}},lazy:function(e){return{$$typeof:v,_ctor:e,_status:-1,_result:null}},memo:function(e,t){return{$$typeof:g,type:e,compare:void 0===t?null:t}},useCallback:function(e,t){return F().useCallback(e,t)},useContext:function(e,t){return F().useContext(e,t)},useEffect:function(e,t){return F().useEffect(e,t)},useImperativeHandle:function(e,t,n){return F().useImperativeHandle(e,t,n)},useDebugValue:function(){},useLayoutEffect:function(e,t){return F().useLayoutEffect(e,t)},useMemo:function(e,t){return F().useMemo(e,t)},useReducer:function(e,t,n){return F().useReducer(e,t,n)},useRef:function(e){return F().useRef(e)},useState:function(e){return F().useState(e)},Fragment:s,StrictMode:l,Suspense:f,createElement:x,cloneElement:function(e,t,n){null==e&&y("267",e);var i=void 0,o=r({},e.props),s=e.key,l=e.ref,c=e._owner;if(null!=t){void 0!==t.ref&&(l=t.ref,c=P.current),void 0!==t.key&&(s=""+t.key);var u=void 0;for(i in e.type&&e.type.defaultProps&&(u=e.type.defaultProps),t)T.call(t,i)&&!E.hasOwnProperty(i)&&(o[i]=void 0===t[i]&&void 0!==u?u[i]:t[i])}if(1===(i=arguments.length-2))o.children=n;else if(1<i){u=Array(i);for(var d=0;d<i;d++)u[d]=arguments[d+2];o.children=u}return{$$typeof:a,type:e.type,key:s,ref:l,props:o,_owner:c}},createFactory:function(e){var t=x.bind(null,e);return t.type=e,t},isValidElement:O,version:"16.8.5",unstable_ConcurrentMode:p,unstable_Profiler:c,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentDispatcher:w,ReactCurrentOwner:P,assign:r}},H={default:B},V=H&&B||H;e.exports=V.default||V},function(e,t,n){"use strict";
/** @license React v16.8.5
 * react-dom-server.browser.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(248),i=n(1);function a(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}var o="function"==typeof Symbol&&Symbol.for,s=o?Symbol.for("react.portal"):60106,l=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,u=o?Symbol.for("react.profiler"):60114,d=o?Symbol.for("react.provider"):60109,p=o?Symbol.for("react.context"):60110,h=o?Symbol.for("react.concurrent_mode"):60111,f=o?Symbol.for("react.forward_ref"):60112,g=o?Symbol.for("react.suspense"):60113,v=o?Symbol.for("react.memo"):60115,m=o?Symbol.for("react.lazy"):60116;function y(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case h:return"ConcurrentMode";case l:return"Fragment";case s:return"Portal";case u:return"Profiler";case c:return"StrictMode";case g:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case p:return"Context.Consumer";case d:return"Context.Provider";case f:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case v:return y(e.type);case m:if(e=1===e._status?e._result:null)return y(e)}return null}var b=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;b.hasOwnProperty("ReactCurrentDispatcher")||(b.ReactCurrentDispatcher={current:null});var S={};function I(e,t){for(var n=0|e._threadCount;n<=t;n++)e[n]=e._currentValue2,e._threadCount=n+1}for(var C=new Uint16Array(16),M=0;15>M;M++)C[M]=M+1;C[15]=0;var D=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w=Object.prototype.hasOwnProperty,P={},T={};function E(e){return!!w.call(T,e)||!w.call(P,e)&&(D.test(e)?T[e]=!0:(P[e]=!0,!1))}function x(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function O(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new O(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new O(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new O(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new O(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new O(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new O(e,3,!0,e,null)}),["capture","download"].forEach(function(e){j[e]=new O(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){j[e]=new O(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){j[e]=new O(e,5,!1,e.toLowerCase(),null)});var A=/[\-:]([a-z])/g;function N(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(A,N);j[t]=new O(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(A,N);j[t]=new O(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(A,N);j[t]=new O(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new O(e,1,!1,e.toLowerCase(),null)});var k=/["'&<>]/;function L(e){if("boolean"==typeof e||"number"==typeof e)return""+e;e=""+e;var t=k.exec(e);if(t){var n,r="",i=0;for(n=t.index;n<e.length;n++){switch(e.charCodeAt(n)){case 34:t="&quot;";break;case 38:t="&amp;";break;case 39:t="&#x27;";break;case 60:t="&lt;";break;case 62:t="&gt;";break;default:continue}i!==n&&(r+=e.substring(i,n)),i=n+1,r+=t}e=i!==n?r+e.substring(i,n):r}return e}var R=null,_=null,U=null,z=!1,F=!1,B=null,H=0;function V(){return null===R&&a("321"),R}function Q(){return 0<H&&a("312"),{memoizedState:null,queue:null,next:null}}function W(){return null===U?null===_?(z=!1,_=U=Q()):(z=!0,U=_):null===U.next?(z=!1,U=U.next=Q()):(z=!0,U=U.next),U}function G(e,t,n,r){for(;F;)F=!1,H+=1,U=null,n=e(t,r);return _=R=null,H=0,U=B=null,n}function Y(e,t){return"function"==typeof t?t(e):t}function K(e,t,n){if(R=V(),U=W(),z){var r=U.queue;if(t=r.dispatch,null!==B&&void 0!==(n=B.get(r))){B.delete(r),r=U.memoizedState;do{r=e(r,n.action),n=n.next}while(null!==n);return U.memoizedState=r,[r,t]}return[U.memoizedState,t]}return e=e===Y?"function"==typeof t?t():t:void 0!==n?n(t):t,U.memoizedState=e,e=(e=U.queue={last:null,dispatch:null}).dispatch=function(e,t,n){if(25>H||a("301"),e===R)if(F=!0,e={action:n,next:null},null===B&&(B=new Map),void 0===(n=B.get(t)))B.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}}.bind(null,R,e),[U.memoizedState,e]}function q(){}var Z=0,X={readContext:function(e){var t=Z;return I(e,t),e[t]},useContext:function(e){V();var t=Z;return I(e,t),e[t]},useMemo:function(e,t){if(R=V(),t=void 0===t?null:t,null!==(U=W())){var n=U.memoizedState;if(null!==n&&null!==t){e:{var r=n[1];if(null===r)r=!1;else{for(var i=0;i<r.length&&i<t.length;i++){var a=t[i],o=r[i];if((a!==o||0===a&&1/a!=1/o)&&(a==a||o==o)){r=!1;break e}}r=!0}}if(r)return n[0]}}return e=e(),U.memoizedState=[e,t],e},useReducer:K,useRef:function(e){R=V();var t=(U=W()).memoizedState;return null===t?(e={current:e},U.memoizedState=e):t},useState:function(e){return K(Y,e)},useLayoutEffect:function(){},useCallback:function(e){return e},useImperativeHandle:q,useEffect:q,useDebugValue:q},J={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function $(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}var ee={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},te=r({menuitem:!0},ee),ne={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},re=["Webkit","ms","Moz","O"];Object.keys(ne).forEach(function(e){re.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ne[t]=ne[e]})});var ie=/([A-Z])/g,ae=/^ms-/,oe=i.Children.toArray,se=b.ReactCurrentDispatcher,le={listing:!0,pre:!0,textarea:!0},ce=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ue={},de={};var pe=Object.prototype.hasOwnProperty,he={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null,suppressHydrationWarning:null};function fe(e,t){void 0===e&&a("152",y(t)||"Component")}function ge(e,t,n){function o(i,o){var s=function(e,t,n){var r=e.contextType;if("object"==typeof r&&null!==r)return I(r,n),r[n];if(e=e.contextTypes){for(var i in n={},e)n[i]=t[i];t=n}else t=S;return t}(o,t,n),l=[],c=!1,u={isMounted:function(){return!1},enqueueForceUpdate:function(){if(null===l)return null},enqueueReplaceState:function(e,t){c=!0,l=[t]},enqueueSetState:function(e,t){if(null===l)return null;l.push(t)}},d=void 0;if(o.prototype&&o.prototype.isReactComponent){if(d=new o(i.props,s,u),"function"==typeof o.getDerivedStateFromProps){var p=o.getDerivedStateFromProps.call(null,i.props,d.state);null!=p&&(d.state=r({},d.state,p))}}else if(R={},d=o(i.props,s,u),null==(d=G(o,i.props,d,s))||null==d.render)return void fe(e=d,o);if(d.props=i.props,d.context=s,d.updater=u,void 0===(u=d.state)&&(d.state=u=null),"function"==typeof d.UNSAFE_componentWillMount||"function"==typeof d.componentWillMount)if("function"==typeof d.componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&d.componentWillMount(),"function"==typeof d.UNSAFE_componentWillMount&&"function"!=typeof o.getDerivedStateFromProps&&d.UNSAFE_componentWillMount(),l.length){u=l;var h=c;if(l=null,c=!1,h&&1===u.length)d.state=u[0];else{p=h?u[0]:d.state;var f=!0;for(h=h?1:0;h<u.length;h++){var g=u[h];null!=(g="function"==typeof g?g.call(d,p,i.props,s):g)&&(f?(f=!1,p=r({},p,g)):r(p,g))}d.state=p}}else l=null;if(fe(e=d.render(),o),i=void 0,"function"==typeof d.getChildContext&&"object"==typeof(s=o.childContextTypes))for(var v in i=d.getChildContext())v in s||a("108",y(o)||"Unknown",v);i&&(t=r({},t,i))}for(;i.isValidElement(e);){var s=e,l=s.type;if("function"!=typeof l)break;o(s,l)}return{child:e,context:t}}var ve=function(){function e(t,n){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");i.isValidElement(t)?t.type!==l?t=[t]:(t=t.props.children,t=i.isValidElement(t)?[t]:oe(t)):t=oe(t),t={type:null,domNamespace:J.html,children:t,childIndex:0,context:S,footer:""};var r=C[0];if(0===r){var o=C,s=2*(r=o.length);65536>=s||a("304");var c=new Uint16Array(s);for(c.set(o),(C=c)[0]=r+1,o=r;o<s-1;o++)C[o]=o+1;C[s-1]=0}else C[0]=C[r];this.threadID=r,this.stack=[t],this.exhausted=!1,this.currentSelectValue=null,this.previousWasTextNode=!1,this.makeStaticMarkup=n,this.suspenseDepth=0,this.contextIndex=-1,this.contextStack=[],this.contextValueStack=[]}return e.prototype.destroy=function(){if(!this.exhausted){this.exhausted=!0,this.clearProviders();var e=this.threadID;C[e]=C[0],C[0]=e}},e.prototype.pushProvider=function(e){var t=++this.contextIndex,n=e.type._context,r=this.threadID;I(n,r);var i=n[r];this.contextStack[t]=n,this.contextValueStack[t]=i,n[r]=e.props.value},e.prototype.popProvider=function(){var e=this.contextIndex,t=this.contextStack[e],n=this.contextValueStack[e];this.contextStack[e]=null,this.contextValueStack[e]=null,this.contextIndex--,t[this.threadID]=n},e.prototype.clearProviders=function(){for(var e=this.contextIndex;0<=e;e--)this.contextStack[e][this.threadID]=this.contextValueStack[e]},e.prototype.read=function(e){if(this.exhausted)return null;var t=Z;Z=this.threadID;var n=se.current;se.current=X;try{for(var r=[""],i=!1;r[0].length<e;){if(0===this.stack.length){this.exhausted=!0;var o=this.threadID;C[o]=C[0],C[0]=o;break}var s=this.stack[this.stack.length-1];if(i||s.childIndex>=s.children.length){var l=s.footer;if(""!==l&&(this.previousWasTextNode=!1),this.stack.pop(),"select"===s.type)this.currentSelectValue=null;else if(null!=s.type&&null!=s.type.type&&s.type.type.$$typeof===d)this.popProvider(s.type);else if(s.type===g){this.suspenseDepth--;var c=r.pop();if(i){i=!1;var u=s.fallbackFrame;u||a("303"),this.stack.push(u);continue}r[this.suspenseDepth]+=c}r[this.suspenseDepth]+=l}else{var p=s.children[s.childIndex++],h="";try{h+=this.render(p,s.context,s.domNamespace)}catch(e){throw e}r.length<=this.suspenseDepth&&r.push(""),r[this.suspenseDepth]+=h}}return r[0]}finally{se.current=n,Z=t}},e.prototype.render=function(e,t,n){if("string"==typeof e||"number"==typeof e)return""===(n=""+e)?"":this.makeStaticMarkup?L(n):this.previousWasTextNode?"\x3c!-- --\x3e"+L(n):(this.previousWasTextNode=!0,L(n));if(e=(t=ge(e,t,this.threadID)).child,t=t.context,null===e||!1===e)return"";if(!i.isValidElement(e)){if(null!=e&&null!=e.$$typeof){var o=e.$$typeof;o===s&&a("257"),a("258",o.toString())}return e=oe(e),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),""}if("string"==typeof(o=e.type))return this.renderDOM(e,t,n);switch(o){case c:case h:case u:case l:return e=oe(e.props.children),this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case g:a("294")}if("object"==typeof o&&null!==o)switch(o.$$typeof){case f:R={};var y=o.render(e.props,e.ref);return y=G(o.render,e.props,y,e.ref),y=oe(y),this.stack.push({type:null,domNamespace:n,children:y,childIndex:0,context:t,footer:""}),"";case v:return e=[i.createElement(o.type,r({ref:e.ref},e.props))],this.stack.push({type:null,domNamespace:n,children:e,childIndex:0,context:t,footer:""}),"";case d:return n={type:e,domNamespace:n,children:o=oe(e.props.children),childIndex:0,context:t,footer:""},this.pushProvider(e),this.stack.push(n),"";case p:o=e.type,y=e.props;var b=this.threadID;return I(o,b),o=oe(y.children(o[b])),this.stack.push({type:e,domNamespace:n,children:o,childIndex:0,context:t,footer:""}),"";case m:a("295")}a("130",null==o?o:typeof o,"")},e.prototype.renderDOM=function(e,t,n){var o=e.type.toLowerCase();n===J.html&&$(o),ue.hasOwnProperty(o)||(ce.test(o)||a("65",o),ue[o]=!0);var s=e.props;if("input"===o)s=r({type:void 0},s,{defaultChecked:void 0,defaultValue:void 0,value:null!=s.value?s.value:s.defaultValue,checked:null!=s.checked?s.checked:s.defaultChecked});else if("textarea"===o){var l=s.value;if(null==l){l=s.defaultValue;var c=s.children;null!=c&&(null!=l&&a("92"),Array.isArray(c)&&(1>=c.length||a("93"),c=c[0]),l=""+c),null==l&&(l="")}s=r({},s,{value:void 0,children:""+l})}else if("select"===o)this.currentSelectValue=null!=s.value?s.value:s.defaultValue,s=r({},s,{value:void 0});else if("option"===o){c=this.currentSelectValue;var u=function(e){if(null==e)return e;var t="";return i.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(s.children);if(null!=c){var d=null!=s.value?s.value+"":u;if(l=!1,Array.isArray(c)){for(var p=0;p<c.length;p++)if(""+c[p]===d){l=!0;break}}else l=""+c===d;s=r({selected:void 0,children:void 0},s,{selected:l,children:u})}}for(S in(l=s)&&(te[o]&&(null!=l.children||null!=l.dangerouslySetInnerHTML)&&a("137",o,""),null!=l.dangerouslySetInnerHTML&&(null!=l.children&&a("60"),"object"==typeof l.dangerouslySetInnerHTML&&"__html"in l.dangerouslySetInnerHTML||a("61")),null!=l.style&&"object"!=typeof l.style&&a("62","")),l=s,c=this.makeStaticMarkup,u=1===this.stack.length,d="<"+e.type,l)if(pe.call(l,S)){var h=l[S];if(null!=h){if("style"===S){p=void 0;var f="",g="";for(p in h)if(h.hasOwnProperty(p)){var v=0===p.indexOf("--"),m=h[p];if(null!=m){var y=p;if(de.hasOwnProperty(y))y=de[y];else{var b=y.replace(ie,"-$1").toLowerCase().replace(ae,"-ms-");y=de[y]=b}f+=g+y+":",g=p,f+=v=null==m||"boolean"==typeof m||""===m?"":v||"number"!=typeof m||0===m||ne.hasOwnProperty(g)&&ne[g]?(""+m).trim():m+"px",g=";"}}h=f||null}p=null;e:if(v=o,m=l,-1===v.indexOf("-"))v="string"==typeof m.is;else switch(v){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":v=!1;break e;default:v=!0}v?he.hasOwnProperty(S)||(p=E(p=S)&&null!=h?p+'="'+L(h)+'"':""):(v=S,p=h,h=j.hasOwnProperty(v)?j[v]:null,(m="style"!==v)&&(m=null!==h?0===h.type:2<v.length&&("o"===v[0]||"O"===v[0])&&("n"===v[1]||"N"===v[1])),m||x(v,p,h,!1)?p="":null!==h?(v=h.attributeName,p=3===(h=h.type)||4===h&&!0===p?v+'=""':v+'="'+L(p)+'"'):p=E(v)?v+'="'+L(p)+'"':""),p&&(d+=" "+p)}}c||u&&(d+=' data-reactroot=""');var S=d;l="",ee.hasOwnProperty(o)?S+="/>":(S+=">",l="</"+e.type+">");e:{if(null!=(c=s.dangerouslySetInnerHTML)){if(null!=c.__html){c=c.__html;break e}}else if("string"==typeof(c=s.children)||"number"==typeof c){c=L(c);break e}c=null}return null!=c?(s=[],le[o]&&"\n"===c.charAt(0)&&(S+="\n"),S+=c):s=oe(s.children),e=e.type,n=null==n||"http://www.w3.org/1999/xhtml"===n?$(e):"http://www.w3.org/2000/svg"===n&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":n,this.stack.push({domNamespace:n,type:o,children:s,childIndex:0,context:t,footer:l}),this.previousWasTextNode=!1,S},e}(),me={renderToString:function(e){e=new ve(e,!1);try{return e.read(1/0)}finally{e.destroy()}},renderToStaticMarkup:function(e){e=new ve(e,!0);try{return e.read(1/0)}finally{e.destroy()}},renderToNodeStream:function(){a("207")},renderToStaticNodeStream:function(){a("208")},version:"16.8.5"},ye={default:me},be=ye&&me||ye;e.exports=be.default||be},function(e,t,n){"use strict";
/** @license React v16.8.5
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r=n(1),i=n(248),a=n(1402);function o(e){for(var t=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);!function(e,t,n,r,i,a,o,s){if(!e){if(e=void 0,void 0===t)e=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,a,o,s],c=0;(e=Error(t.replace(/%s/g,function(){return l[c++]}))).name="Invariant Violation"}throw e.framesToPop=1,e}}(!1,"Minified React error #"+e+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}r||o("227");var s=!1,l=null,c=!1,u=null,d={onError:function(e){s=!0,l=e}};function p(e,t,n,r,i,a,o,c,u){s=!1,l=null,function(e,t,n,r,i,a,o,s,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(e){this.onError(e)}}.apply(d,arguments)}var h=null,f={};function g(){if(h)for(var e in f){var t=f[e],n=h.indexOf(e);if(-1<n||o("96",e),!m[n])for(var r in t.extractEvents||o("97",e),m[n]=t,n=t.eventTypes){var i=void 0,a=n[r],s=t,l=r;y.hasOwnProperty(l)&&o("99",l),y[l]=a;var c=a.phasedRegistrationNames;if(c){for(i in c)c.hasOwnProperty(i)&&v(c[i],s,l);i=!0}else a.registrationName?(v(a.registrationName,s,l),i=!0):i=!1;i||o("98",r,e)}}}function v(e,t,n){b[e]&&o("100",e),b[e]=t,S[e]=t.eventTypes[n].dependencies}var m=[],y={},b={},S={},I=null,C=null,M=null;function D(e,t,n){var r=e.type||"unknown-event";e.currentTarget=M(n),function(e,t,n,r,i,a,d,h,f){if(p.apply(this,arguments),s){if(s){var g=l;s=!1,l=null}else o("198"),g=void 0;c||(c=!0,u=g)}}(r,t,void 0,e),e.currentTarget=null}function w(e,t){return null==t&&o("30"),null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}function P(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}var T=null;function E(e){if(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t))for(var r=0;r<t.length&&!e.isPropagationStopped();r++)D(e,t[r],n[r]);else t&&D(e,t,n);e._dispatchListeners=null,e._dispatchInstances=null,e.isPersistent()||e.constructor.release(e)}}var x={injectEventPluginOrder:function(e){h&&o("101"),h=Array.prototype.slice.call(e),g()},injectEventPluginsByName:function(e){var t,n=!1;for(t in e)if(e.hasOwnProperty(t)){var r=e[t];f.hasOwnProperty(t)&&f[t]===r||(f[t]&&o("102",t),f[t]=r,n=!0)}n&&g()}};function O(e,t){var n=e.stateNode;if(!n)return null;var r=I(n);if(!r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}return e?null:(n&&"function"!=typeof n&&o("231",t,typeof n),n)}function j(e){if(null!==e&&(T=w(T,e)),e=T,T=null,e&&(P(e,E),T&&o("95"),c))throw e=u,c=!1,u=null,e}var A=Math.random().toString(36).slice(2),N="__reactInternalInstance$"+A,k="__reactEventHandlers$"+A;function L(e){if(e[N])return e[N];for(;!e[N];){if(!e.parentNode)return null;e=e.parentNode}return 5===(e=e[N]).tag||6===e.tag?e:null}function R(e){return!(e=e[N])||5!==e.tag&&6!==e.tag?null:e}function _(e){if(5===e.tag||6===e.tag)return e.stateNode;o("33")}function U(e){return e[k]||null}function z(e){do{e=e.return}while(e&&5!==e.tag);return e||null}function F(e,t,n){(t=O(e,n.dispatchConfig.phasedRegistrationNames[t]))&&(n._dispatchListeners=w(n._dispatchListeners,t),n._dispatchInstances=w(n._dispatchInstances,e))}function B(e){if(e&&e.dispatchConfig.phasedRegistrationNames){for(var t=e._targetInst,n=[];t;)n.push(t),t=z(t);for(t=n.length;0<t--;)F(n[t],"captured",e);for(t=0;t<n.length;t++)F(n[t],"bubbled",e)}}function H(e,t,n){e&&n&&n.dispatchConfig.registrationName&&(t=O(e,n.dispatchConfig.registrationName))&&(n._dispatchListeners=w(n._dispatchListeners,t),n._dispatchInstances=w(n._dispatchInstances,e))}function V(e){e&&e.dispatchConfig.registrationName&&H(e._targetInst,null,e)}function Q(e){P(e,B)}var W=!("undefined"==typeof window||!window.document||!window.document.createElement);function G(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Y={animationend:G("Animation","AnimationEnd"),animationiteration:G("Animation","AnimationIteration"),animationstart:G("Animation","AnimationStart"),transitionend:G("Transition","TransitionEnd")},K={},q={};function Z(e){if(K[e])return K[e];if(!Y[e])return e;var t,n=Y[e];for(t in n)if(n.hasOwnProperty(t)&&t in q)return K[e]=n[t];return e}W&&(q=document.createElement("div").style,"AnimationEvent"in window||(delete Y.animationend.animation,delete Y.animationiteration.animation,delete Y.animationstart.animation),"TransitionEvent"in window||delete Y.transitionend.transition);var X=Z("animationend"),J=Z("animationiteration"),$=Z("animationstart"),ee=Z("transitionend"),te="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ne=null,re=null,ie=null;function ae(){if(ie)return ie;var e,t,n=re,r=n.length,i="value"in ne?ne.value:ne.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return ie=i.slice(e,1<t?1-t:void 0)}function oe(){return!0}function se(){return!1}function le(e,t,n,r){for(var i in this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n,e=this.constructor.Interface)e.hasOwnProperty(i)&&((t=e[i])?this[i]=t(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?oe:se,this.isPropagationStopped=se,this}function ce(e,t,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,e,t,n,r),i}return new this(e,t,n,r)}function ue(e){e instanceof this||o("279"),e.destructor(),10>this.eventPool.length&&this.eventPool.push(e)}function de(e){e.eventPool=[],e.getPooled=ce,e.release=ue}i(le.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=oe)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=oe)},persist:function(){this.isPersistent=oe},isPersistent:se,destructor:function(){var e,t=this.constructor.Interface;for(e in t)this[e]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=se,this._dispatchInstances=this._dispatchListeners=null}}),le.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},le.extend=function(e){function t(){}function n(){return r.apply(this,arguments)}var r=this;t.prototype=r.prototype;var a=new t;return i(a,n.prototype),n.prototype=a,n.prototype.constructor=n,n.Interface=i({},r.Interface,e),n.extend=r.extend,de(n),n},de(le);var pe=le.extend({data:null}),he=le.extend({data:null}),fe=[9,13,27,32],ge=W&&"CompositionEvent"in window,ve=null;W&&"documentMode"in document&&(ve=document.documentMode);var me=W&&"TextEvent"in window&&!ve,ye=W&&(!ge||ve&&8<ve&&11>=ve),be=String.fromCharCode(32),Se={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},Ie=!1;function Ce(e,t){switch(e){case"keyup":return-1!==fe.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function Me(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var De=!1;var we={eventTypes:Se,extractEvents:function(e,t,n,r){var i=void 0,a=void 0;if(ge)e:{switch(e){case"compositionstart":i=Se.compositionStart;break e;case"compositionend":i=Se.compositionEnd;break e;case"compositionupdate":i=Se.compositionUpdate;break e}i=void 0}else De?Ce(e,n)&&(i=Se.compositionEnd):"keydown"===e&&229===n.keyCode&&(i=Se.compositionStart);return i?(ye&&"ko"!==n.locale&&(De||i!==Se.compositionStart?i===Se.compositionEnd&&De&&(a=ae()):(re="value"in(ne=r)?ne.value:ne.textContent,De=!0)),i=pe.getPooled(i,t,n,r),a?i.data=a:null!==(a=Me(n))&&(i.data=a),Q(i),a=i):a=null,(e=me?function(e,t){switch(e){case"compositionend":return Me(t);case"keypress":return 32!==t.which?null:(Ie=!0,be);case"textInput":return(e=t.data)===be&&Ie?null:e;default:return null}}(e,n):function(e,t){if(De)return"compositionend"===e||!ge&&Ce(e,t)?(e=ae(),ie=re=ne=null,De=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ye&&"ko"!==t.locale?null:t.data;default:return null}}(e,n))?((t=he.getPooled(Se.beforeInput,t,n,r)).data=e,Q(t)):t=null,null===a?t:null===t?a:[a,t]}},Pe=null,Te=null,Ee=null;function xe(e){if(e=C(e)){"function"!=typeof Pe&&o("280");var t=I(e.stateNode);Pe(e.stateNode,e.type,t)}}function Oe(e){Te?Ee?Ee.push(e):Ee=[e]:Te=e}function je(){if(Te){var e=Te,t=Ee;if(Ee=Te=null,xe(e),t)for(e=0;e<t.length;e++)xe(t[e])}}function Ae(e,t){return e(t)}function Ne(e,t,n){return e(t,n)}function ke(){}var Le=!1;function Re(e,t){if(Le)return e(t);Le=!0;try{return Ae(e,t)}finally{Le=!1,(null!==Te||null!==Ee)&&(ke(),je())}}var _e={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ue(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!_e[e.type]:"textarea"===t}function ze(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}function Fe(e){if(!W)return!1;var t=(e="on"+e)in document;return t||((t=document.createElement("div")).setAttribute(e,"return;"),t="function"==typeof t[e]),t}function Be(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function He(e){e._valueTracker||(e._valueTracker=function(e){var t=Be(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&void 0!==n&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function Ve(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Be(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}var Qe=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Qe.hasOwnProperty("ReactCurrentDispatcher")||(Qe.ReactCurrentDispatcher={current:null});var We=/^(.*)[\\\/]/,Ge="function"==typeof Symbol&&Symbol.for,Ye=Ge?Symbol.for("react.element"):60103,Ke=Ge?Symbol.for("react.portal"):60106,qe=Ge?Symbol.for("react.fragment"):60107,Ze=Ge?Symbol.for("react.strict_mode"):60108,Xe=Ge?Symbol.for("react.profiler"):60114,Je=Ge?Symbol.for("react.provider"):60109,$e=Ge?Symbol.for("react.context"):60110,et=Ge?Symbol.for("react.concurrent_mode"):60111,tt=Ge?Symbol.for("react.forward_ref"):60112,nt=Ge?Symbol.for("react.suspense"):60113,rt=Ge?Symbol.for("react.memo"):60115,it=Ge?Symbol.for("react.lazy"):60116,at="function"==typeof Symbol&&Symbol.iterator;function ot(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=at&&e[at]||e["@@iterator"])?e:null}function st(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case et:return"ConcurrentMode";case qe:return"Fragment";case Ke:return"Portal";case Xe:return"Profiler";case Ze:return"StrictMode";case nt:return"Suspense"}if("object"==typeof e)switch(e.$$typeof){case $e:return"Context.Consumer";case Je:return"Context.Provider";case tt:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case rt:return st(e.type);case it:if(e=1===e._status?e._result:null)return st(e)}return null}function lt(e){var t="";do{e:switch(e.tag){case 3:case 4:case 6:case 7:case 10:case 9:var n="";break e;default:var r=e._debugOwner,i=e._debugSource,a=st(e.type);n=null,r&&(n=st(r.type)),r=a,a="",i?a=" (at "+i.fileName.replace(We,"")+":"+i.lineNumber+")":n&&(a=" (created by "+n+")"),n="\n    in "+(r||"Unknown")+a}t+=n,e=e.return}while(e);return t}var ct=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ut=Object.prototype.hasOwnProperty,dt={},pt={};function ht(e,t,n,r,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t}var ft={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ft[e]=new ht(e,0,!1,e,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ft[t]=new ht(t,1,!1,e[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){ft[e]=new ht(e,2,!1,e.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ft[e]=new ht(e,2,!1,e,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ft[e]=new ht(e,3,!1,e.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(e){ft[e]=new ht(e,3,!0,e,null)}),["capture","download"].forEach(function(e){ft[e]=new ht(e,4,!1,e,null)}),["cols","rows","size","span"].forEach(function(e){ft[e]=new ht(e,6,!1,e,null)}),["rowSpan","start"].forEach(function(e){ft[e]=new ht(e,5,!1,e.toLowerCase(),null)});var gt=/[\-:]([a-z])/g;function vt(e){return e[1].toUpperCase()}function mt(e,t,n,r){var i=ft.hasOwnProperty(t)?ft[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null==t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!ut.call(pt,e)||!ut.call(dt,e)&&(ct.test(e)?pt[e]=!0:(dt[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}function yt(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function bt(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function St(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=yt(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function It(e,t){null!=(t=t.checked)&&mt(e,"checked",t,!1)}function Ct(e,t){It(e,t);var n=yt(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?Dt(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dt(e,t.type,yt(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Mt(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!e.defaultChecked,e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function Dt(e,t,n){"number"===t&&e.ownerDocument.activeElement===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(gt,vt);ft[t]=new ht(t,1,!1,e,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(gt,vt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(gt,vt);ft[t]=new ht(t,1,!1,e,"http://www.w3.org/XML/1998/namespace")}),["tabIndex","crossOrigin"].forEach(function(e){ft[e]=new ht(e,1,!1,e.toLowerCase(),null)});var wt={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}};function Pt(e,t,n){return(e=le.getPooled(wt.change,e,t,n)).type="change",Oe(n),Q(e),e}var Tt=null,Et=null;function xt(e){j(e)}function Ot(e){if(Ve(_(e)))return e}function jt(e,t){if("change"===e)return t}var At=!1;function Nt(){Tt&&(Tt.detachEvent("onpropertychange",kt),Et=Tt=null)}function kt(e){"value"===e.propertyName&&Ot(Et)&&Re(xt,e=Pt(Et,e,ze(e)))}function Lt(e,t,n){"focus"===e?(Nt(),Et=n,(Tt=t).attachEvent("onpropertychange",kt)):"blur"===e&&Nt()}function Rt(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Ot(Et)}function _t(e,t){if("click"===e)return Ot(t)}function Ut(e,t){if("input"===e||"change"===e)return Ot(t)}W&&(At=Fe("input")&&(!document.documentMode||9<document.documentMode));var zt={eventTypes:wt,_isInputEventSupported:At,extractEvents:function(e,t,n,r){var i=t?_(t):window,a=void 0,o=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?a=jt:Ue(i)?At?a=Ut:(a=Rt,o=Lt):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(a=_t),a&&(a=a(e,t)))return Pt(a,n,r);o&&o(e,i,t),"blur"===e&&(e=i._wrapperState)&&e.controlled&&"number"===i.type&&Dt(i,"number",i.value)}},Ft=le.extend({view:null,detail:null}),Bt={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ht(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Bt[e])&&!!t[e]}function Vt(){return Ht}var Qt=0,Wt=0,Gt=!1,Yt=!1,Kt=Ft.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Vt,button:null,buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},movementX:function(e){if("movementX"in e)return e.movementX;var t=Qt;return Qt=e.screenX,Gt?"mousemove"===e.type?e.screenX-t:0:(Gt=!0,0)},movementY:function(e){if("movementY"in e)return e.movementY;var t=Wt;return Wt=e.screenY,Yt?"mousemove"===e.type?e.screenY-t:0:(Yt=!0,0)}}),qt=Kt.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),Zt={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},Xt={eventTypes:Zt,extractEvents:function(e,t,n,r){var i="mouseover"===e||"pointerover"===e,a="mouseout"===e||"pointerout"===e;if(i&&(n.relatedTarget||n.fromElement)||!a&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,a?(a=t,t=(t=n.relatedTarget||n.toElement)?L(t):null):a=null,a===t)return null;var o=void 0,s=void 0,l=void 0,c=void 0;"mouseout"===e||"mouseover"===e?(o=Kt,s=Zt.mouseLeave,l=Zt.mouseEnter,c="mouse"):"pointerout"!==e&&"pointerover"!==e||(o=qt,s=Zt.pointerLeave,l=Zt.pointerEnter,c="pointer");var u=null==a?i:_(a);if(i=null==t?i:_(t),(e=o.getPooled(s,a,n,r)).type=c+"leave",e.target=u,e.relatedTarget=i,(n=o.getPooled(l,t,n,r)).type=c+"enter",n.target=i,n.relatedTarget=u,r=t,a&&r)e:{for(i=r,c=0,o=t=a;o;o=z(o))c++;for(o=0,l=i;l;l=z(l))o++;for(;0<c-o;)t=z(t),c--;for(;0<o-c;)i=z(i),o--;for(;c--;){if(t===i||t===i.alternate)break e;t=z(t),i=z(i)}t=null}else t=null;for(i=t,t=[];a&&a!==i&&(null===(c=a.alternate)||c!==i);)t.push(a),a=z(a);for(a=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)a.push(r),r=z(r);for(r=0;r<t.length;r++)H(t[r],"bubbled",e);for(r=a.length;0<r--;)H(a[r],"captured",n);return[e,n]}};function Jt(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var $t=Object.prototype.hasOwnProperty;function en(e,t){if(Jt(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!$t.call(t,n[r])||!Jt(e[n[r]],t[n[r]]))return!1;return!0}function tn(e){var t=e;if(e.alternate)for(;t.return;)t=t.return;else{if(0!=(2&t.effectTag))return 1;for(;t.return;)if(0!=(2&(t=t.return).effectTag))return 1}return 3===t.tag?2:3}function nn(e){2!==tn(e)&&o("188")}function rn(e){if(!(e=function(e){var t=e.alternate;if(!t)return 3===(t=tn(e))&&o("188"),1===t?null:e;for(var n=e,r=t;;){var i=n.return,a=i?i.alternate:null;if(!i||!a)break;if(i.child===a.child){for(var s=i.child;s;){if(s===n)return nn(i),e;if(s===r)return nn(i),t;s=s.sibling}o("188")}if(n.return!==r.return)n=i,r=a;else{s=!1;for(var l=i.child;l;){if(l===n){s=!0,n=i,r=a;break}if(l===r){s=!0,r=i,n=a;break}l=l.sibling}if(!s){for(l=a.child;l;){if(l===n){s=!0,n=a,r=i;break}if(l===r){s=!0,r=a,n=i;break}l=l.sibling}s||o("189")}}n.alternate!==r&&o("190")}return 3!==n.tag&&o("188"),n.stateNode.current===n?e:t}(e)))return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}var an=le.extend({animationName:null,elapsedTime:null,pseudoElement:null}),on=le.extend({clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sn=Ft.extend({relatedTarget:null});function ln(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}var cn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},un={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dn=Ft.extend({key:function(e){if(e.key){var t=cn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=ln(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?un[e.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Vt,charCode:function(e){return"keypress"===e.type?ln(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?ln(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),pn=Kt.extend({dataTransfer:null}),hn=Ft.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Vt}),fn=le.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),gn=Kt.extend({deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null}),vn=[["abort","abort"],[X,"animationEnd"],[J,"animationIteration"],[$,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[ee,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],mn={},yn={};function bn(e,t){var n=e[0],r="on"+((e=e[1])[0].toUpperCase()+e.slice(1));t={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:t},mn[e]=t,yn[n]=t}[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(e){bn(e,!0)}),vn.forEach(function(e){bn(e,!1)});var Sn={eventTypes:mn,isInteractiveTopLevelEventType:function(e){return void 0!==(e=yn[e])&&!0===e.isInteractive},extractEvents:function(e,t,n,r){var i=yn[e];if(!i)return null;switch(e){case"keypress":if(0===ln(n))return null;case"keydown":case"keyup":e=dn;break;case"blur":case"focus":e=sn;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":e=Kt;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":e=pn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":e=hn;break;case X:case J:case $:e=an;break;case ee:e=fn;break;case"scroll":e=Ft;break;case"wheel":e=gn;break;case"copy":case"cut":case"paste":e=on;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":e=qt;break;default:e=le}return Q(t=e.getPooled(i,t,n,r)),t}},In=Sn.isInteractiveTopLevelEventType,Cn=[];function Mn(e){var t=e.targetInst,n=t;do{if(!n){e.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;e.ancestors.push(n),n=L(r)}while(n);for(n=0;n<e.ancestors.length;n++){t=e.ancestors[n];var i=ze(e.nativeEvent);r=e.topLevelType;for(var a=e.nativeEvent,o=null,s=0;s<m.length;s++){var l=m[s];l&&(l=l.extractEvents(r,t,a,i))&&(o=w(o,l))}j(o)}}var Dn=!0;function wn(e,t){if(!t)return null;var n=(In(e)?Tn:En).bind(null,e);t.addEventListener(e,n,!1)}function Pn(e,t){if(!t)return null;var n=(In(e)?Tn:En).bind(null,e);t.addEventListener(e,n,!0)}function Tn(e,t){Ne(En,e,t)}function En(e,t){if(Dn){var n=ze(t);if(null===(n=L(n))||"number"!=typeof n.tag||2===tn(n)||(n=null),Cn.length){var r=Cn.pop();r.topLevelType=e,r.nativeEvent=t,r.targetInst=n,e=r}else e={topLevelType:e,nativeEvent:t,targetInst:n,ancestors:[]};try{Re(Mn,e)}finally{e.topLevelType=null,e.nativeEvent=null,e.targetInst=null,e.ancestors.length=0,10>Cn.length&&Cn.push(e)}}}var xn={},On=0,jn="_reactListenersID"+(""+Math.random()).slice(2);function An(e){return Object.prototype.hasOwnProperty.call(e,jn)||(e[jn]=On++,xn[e[jn]]={}),xn[e[jn]]}function Nn(e){if(void 0===(e=e||("undefined"!=typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function kn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ln(e,t){var n,r=kn(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=kn(r)}}function Rn(){for(var e=window,t=Nn();t instanceof e.HTMLIFrameElement;){try{e=t.contentDocument.defaultView}catch(e){break}t=Nn(e.document)}return t}function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Un(e){var t=Rn(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&function e(t,n){return!(!t||!n)&&(t===n||(!t||3!==t.nodeType)&&(n&&3===n.nodeType?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}(n.ownerDocument.documentElement,n)){if(null!==r&&_n(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Ln(n,a);var o=Ln(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var zn=W&&"documentMode"in document&&11>=document.documentMode,Fn={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Bn=null,Hn=null,Vn=null,Qn=!1;function Wn(e,t){var n=t.window===t?t.document:9===t.nodeType?t:t.ownerDocument;return Qn||null==Bn||Bn!==Nn(n)?null:("selectionStart"in(n=Bn)&&_n(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Vn&&en(Vn,n)?null:(Vn=n,(e=le.getPooled(Fn.select,Hn,e,t)).type="select",e.target=Bn,Q(e),e))}var Gn={eventTypes:Fn,extractEvents:function(e,t,n,r){var i,a=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!a)){e:{a=An(a),i=S.onSelect;for(var o=0;o<i.length;o++){var s=i[o];if(!a.hasOwnProperty(s)||!a[s]){a=!1;break e}}a=!0}i=!a}if(i)return null;switch(a=t?_(t):window,e){case"focus":(Ue(a)||"true"===a.contentEditable)&&(Bn=a,Hn=t,Vn=null);break;case"blur":Vn=Hn=Bn=null;break;case"mousedown":Qn=!0;break;case"contextmenu":case"mouseup":case"dragend":return Qn=!1,Wn(n,r);case"selectionchange":if(zn)break;case"keydown":case"keyup":return Wn(n,r)}return null}};function Yn(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,function(e){null!=e&&(t+=e)}),t}(t.children))&&(e.children=t),e}function Kn(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+yt(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function qn(e,t){return null!=t.dangerouslySetInnerHTML&&o("91"),i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Zn(e,t){var n=t.value;null==n&&(n=t.defaultValue,null!=(t=t.children)&&(null!=n&&o("92"),Array.isArray(t)&&(1>=t.length||o("93"),t=t[0]),n=t),null==n&&(n="")),e._wrapperState={initialValue:yt(n)}}function Xn(e,t){var n=yt(t.value),r=yt(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function Jn(e){var t=e.textContent;t===e._wrapperState.initialValue&&(e.value=t)}x.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),I=U,C=R,M=_,x.injectEventPluginsByName({SimpleEventPlugin:Sn,EnterLeaveEventPlugin:Xt,ChangeEventPlugin:zt,SelectEventPlugin:Gn,BeforeInputEventPlugin:we});var $n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function er(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function tr(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?er(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var nr,rr=void 0,ir=(nr=function(e,t){if(e.namespaceURI!==$n.svg||"innerHTML"in e)e.innerHTML=t;else{for((rr=rr||document.createElement("div")).innerHTML="<svg>"+t+"</svg>",t=rr.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return nr(e,t)})}:nr);function ar(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var or={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sr=["Webkit","ms","Moz","O"];function lr(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||or.hasOwnProperty(e)&&or[e]?(""+t).trim():t+"px"}function cr(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=lr(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(or).forEach(function(e){sr.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),or[t]=or[e]})});var ur=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function dr(e,t){t&&(ur[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&o("137",e,""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&o("60"),"object"==typeof t.dangerouslySetInnerHTML&&"__html"in t.dangerouslySetInnerHTML||o("61")),null!=t.style&&"object"!=typeof t.style&&o("62",""))}function pr(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function hr(e,t){var n=An(e=9===e.nodeType||11===e.nodeType?e:e.ownerDocument);t=S[t];for(var r=0;r<t.length;r++){var i=t[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Pn("scroll",e);break;case"focus":case"blur":Pn("focus",e),Pn("blur",e),n.blur=!0,n.focus=!0;break;case"cancel":case"close":Fe(i)&&Pn(i,e);break;case"invalid":case"submit":case"reset":break;default:-1===te.indexOf(i)&&wn(i,e)}n[i]=!0}}}function fr(){}var gr=null,vr=null;function mr(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function yr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var br="function"==typeof setTimeout?setTimeout:void 0,Sr="function"==typeof clearTimeout?clearTimeout:void 0,Ir=a.unstable_scheduleCallback,Cr=a.unstable_cancelCallback;function Mr(e){for(e=e.nextSibling;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}function Dr(e){for(e=e.firstChild;e&&1!==e.nodeType&&3!==e.nodeType;)e=e.nextSibling;return e}new Set;var wr=[],Pr=-1;function Tr(e){0>Pr||(e.current=wr[Pr],wr[Pr]=null,Pr--)}function Er(e,t){wr[++Pr]=e.current,e.current=t}var xr={},Or={current:xr},jr={current:!1},Ar=xr;function Nr(e,t){var n=e.type.contextTypes;if(!n)return xr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function kr(e){return null!=(e=e.childContextTypes)}function Lr(e){Tr(jr),Tr(Or)}function Rr(e){Tr(jr),Tr(Or)}function _r(e,t,n){Or.current!==xr&&o("168"),Er(Or,t),Er(jr,n)}function Ur(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var a in r=r.getChildContext())a in e||o("108",st(t)||"Unknown",a);return i({},n,r)}function zr(e){var t=e.stateNode;return t=t&&t.__reactInternalMemoizedMergedChildContext||xr,Ar=Or.current,Er(Or,t),Er(jr,jr.current),!0}function Fr(e,t,n){var r=e.stateNode;r||o("169"),n?(t=Ur(e,t,Ar),r.__reactInternalMemoizedMergedChildContext=t,Tr(jr),Tr(Or),Er(Or,t)):Tr(jr),Er(jr,n)}var Br=null,Hr=null;function Vr(e){return function(t){try{return e(t)}catch(e){}}}function Qr(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.contextDependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Wr(e,t,n,r){return new Qr(e,t,n,r)}function Gr(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Yr(e,t){var n=e.alternate;return null===n?((n=Wr(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=e.childExpirationTime,n.expirationTime=e.expirationTime,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,n.contextDependencies=e.contextDependencies,n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Kr(e,t,n,r,i,a){var s=2;if(r=e,"function"==typeof e)Gr(e)&&(s=1);else if("string"==typeof e)s=5;else e:switch(e){case qe:return qr(n.children,i,a,t);case et:return Zr(n,3|i,a,t);case Ze:return Zr(n,2|i,a,t);case Xe:return(e=Wr(12,n,t,4|i)).elementType=Xe,e.type=Xe,e.expirationTime=a,e;case nt:return(e=Wr(13,n,t,i)).elementType=nt,e.type=nt,e.expirationTime=a,e;default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case Je:s=10;break e;case $e:s=9;break e;case tt:s=11;break e;case rt:s=14;break e;case it:s=16,r=null;break e}o("130",null==e?e:typeof e,"")}return(t=Wr(s,n,t,i)).elementType=e,t.type=r,t.expirationTime=a,t}function qr(e,t,n,r){return(e=Wr(7,e,r,t)).expirationTime=n,e}function Zr(e,t,n,r){return e=Wr(8,e,r,t),t=0==(1&t)?Ze:et,e.elementType=t,e.type=t,e.expirationTime=n,e}function Xr(e,t,n){return(e=Wr(6,e,null,t)).expirationTime=n,e}function Jr(e,t,n){return(t=Wr(4,null!==e.children?e.children:[],e.key,t)).expirationTime=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function $r(e,t){e.didError=!1;var n=e.earliestPendingTime;0===n?e.earliestPendingTime=e.latestPendingTime=t:n<t?e.earliestPendingTime=t:e.latestPendingTime>t&&(e.latestPendingTime=t),ni(t,e)}function ei(e,t){e.didError=!1,e.latestPingedTime>=t&&(e.latestPingedTime=0);var n=e.earliestPendingTime,r=e.latestPendingTime;n===t?e.earliestPendingTime=r===t?e.latestPendingTime=0:r:r===t&&(e.latestPendingTime=n),n=e.earliestSuspendedTime,r=e.latestSuspendedTime,0===n?e.earliestSuspendedTime=e.latestSuspendedTime=t:n<t?e.earliestSuspendedTime=t:r>t&&(e.latestSuspendedTime=t),ni(t,e)}function ti(e,t){var n=e.earliestPendingTime;return n>t&&(t=n),(e=e.earliestSuspendedTime)>t&&(t=e),t}function ni(e,t){var n=t.earliestSuspendedTime,r=t.latestSuspendedTime,i=t.earliestPendingTime,a=t.latestPingedTime;0===(i=0!==i?i:a)&&(0===e||r<e)&&(i=r),0!==(e=i)&&n>e&&(e=n),t.nextExpirationTimeToWorkOn=i,t.expirationTime=e}function ri(e,t){if(e&&e.defaultProps)for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}var ii=(new r.Component).refs;function ai(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:i({},t,n),e.memoizedState=n,null!==(r=e.updateQueue)&&0===e.expirationTime&&(r.baseState=n)}var oi={isMounted:function(e){return!!(e=e._reactInternalFiber)&&2===tn(e)},enqueueSetState:function(e,t,n){e=e._reactInternalFiber;var r=Cs(),i=qa(r=qo(r,e));i.payload=t,null!=n&&(i.callback=n),Vo(),Xa(e,i),Jo(e,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternalFiber;var r=Cs(),i=qa(r=qo(r,e));i.tag=Va,i.payload=t,null!=n&&(i.callback=n),Vo(),Xa(e,i),Jo(e,r)},enqueueForceUpdate:function(e,t){e=e._reactInternalFiber;var n=Cs(),r=qa(n=qo(n,e));r.tag=Qa,null!=t&&(r.callback=t),Vo(),Xa(e,r),Jo(e,n)}};function si(e,t,n,r,i,a,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!en(n,r)||!en(i,a))}function li(e,t,n){var r=!1,i=xr,a=t.contextType;return"object"==typeof a&&null!==a?a=Ba(a):(i=kr(t)?Ar:Or.current,a=(r=null!=(r=t.contextTypes))?Nr(e,i):xr),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=oi,e.stateNode=t,t._reactInternalFiber=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ci(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&oi.enqueueReplaceState(t,t.state,null)}function ui(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=ii;var a=t.contextType;"object"==typeof a&&null!==a?i.context=Ba(a):(a=kr(t)?Ar:Or.current,i.context=Nr(e,a)),null!==(a=e.updateQueue)&&(to(e,a,n,i,r),i.state=e.memoizedState),"function"==typeof(a=t.getDerivedStateFromProps)&&(ai(e,t,a,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&oi.enqueueReplaceState(i,i.state,null),null!==(a=e.updateQueue)&&(to(e,a,n,i,r),i.state=e.memoizedState)),"function"==typeof i.componentDidMount&&(e.effectTag|=4)}var di=Array.isArray;function pi(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&o("309"),r=n.stateNode),r||o("147",e);var i=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===i?t.ref:((t=function(e){var t=r.refs;t===ii&&(t=r.refs={}),null===e?delete t[i]:t[i]=e})._stringRef=i,t)}"string"!=typeof e&&o("284"),n._owner||o("290",e)}return e}function hi(e,t){"textarea"!==e.type&&o("31","[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t,"")}function fi(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t,n){return(e=Yr(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.effectTag=2,n):r:(t.effectTag=2,n):n}function s(t){return e&&null===t.alternate&&(t.effectTag=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Xr(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=pi(e,t,n),r.return=e,r):((r=Kr(n.type,n.key,n.props,null,e.mode,r)).ref=pi(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Jr(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function d(e,t,n,r,a){return null===t||7!==t.tag?((t=qr(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function p(e,t,n){if("string"==typeof t||"number"==typeof t)return(t=Xr(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case Ye:return(n=Kr(t.type,t.key,t.props,null,e.mode,n)).ref=pi(e,null,t),n.return=e,n;case Ke:return(t=Jr(t,e.mode,n)).return=e,t}if(di(t)||ot(t))return(t=qr(t,e.mode,n,null)).return=e,t;hi(e,t)}return null}function h(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n||"number"==typeof n)return null!==i?null:l(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case Ye:return n.key===i?n.type===qe?d(e,t,n.props.children,r,i):c(e,t,n,r):null;case Ke:return n.key===i?u(e,t,n,r):null}if(di(n)||ot(n))return null!==i?null:d(e,t,n,r,null);hi(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r||"number"==typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case Ye:return e=e.get(null===r.key?n:r.key)||null,r.type===qe?d(t,e,r.props.children,i,r.key):c(t,e,r,i);case Ke:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(di(r)||ot(r))return d(t,e=e.get(n)||null,r,i,null);hi(t,r)}return null}function g(i,o,s,l){for(var c=null,u=null,d=o,g=o=0,v=null;null!==d&&g<s.length;g++){d.index>g?(v=d,d=null):v=d.sibling;var m=h(i,d,s[g],l);if(null===m){null===d&&(d=v);break}e&&d&&null===m.alternate&&t(i,d),o=a(m,o,g),null===u?c=m:u.sibling=m,u=m,d=v}if(g===s.length)return n(i,d),c;if(null===d){for(;g<s.length;g++)(d=p(i,s[g],l))&&(o=a(d,o,g),null===u?c=d:u.sibling=d,u=d);return c}for(d=r(i,d);g<s.length;g++)(v=f(d,i,g,s[g],l))&&(e&&null!==v.alternate&&d.delete(null===v.key?g:v.key),o=a(v,o,g),null===u?c=v:u.sibling=v,u=v);return e&&d.forEach(function(e){return t(i,e)}),c}function v(i,s,l,c){var u=ot(l);"function"!=typeof u&&o("150"),null==(l=u.call(l))&&o("151");for(var d=u=null,g=s,v=s=0,m=null,y=l.next();null!==g&&!y.done;v++,y=l.next()){g.index>v?(m=g,g=null):m=g.sibling;var b=h(i,g,y.value,c);if(null===b){g||(g=m);break}e&&g&&null===b.alternate&&t(i,g),s=a(b,s,v),null===d?u=b:d.sibling=b,d=b,g=m}if(y.done)return n(i,g),u;if(null===g){for(;!y.done;v++,y=l.next())null!==(y=p(i,y.value,c))&&(s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return u}for(g=r(i,g);!y.done;v++,y=l.next())null!==(y=f(g,i,v,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?v:y.key),s=a(y,s,v),null===d?u=y:d.sibling=y,d=y);return e&&g.forEach(function(e){return t(i,e)}),u}return function(e,r,a,l){var c="object"==typeof a&&null!==a&&a.type===qe&&null===a.key;c&&(a=a.props.children);var u="object"==typeof a&&null!==a;if(u)switch(a.$$typeof){case Ye:e:{for(u=a.key,c=r;null!==c;){if(c.key===u){if(7===c.tag?a.type===qe:c.elementType===a.type){n(e,c.sibling),(r=i(c,a.type===qe?a.props.children:a.props)).ref=pi(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===qe?((r=qr(a.props.children,e.mode,l,a.key)).return=e,e=r):((l=Kr(a.type,a.key,a.props,null,e.mode,l)).ref=pi(e,r,a),l.return=e,e=l)}return s(e);case Ke:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Jr(a,e.mode,l)).return=e,e=r}return s(e)}if("string"==typeof a||"number"==typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Xr(a,e.mode,l)).return=e,e=r),s(e);if(di(a))return g(e,r,a,l);if(ot(a))return v(e,r,a,l);if(u&&hi(e,a),void 0===a&&!c)switch(e.tag){case 1:case 0:o("152",(l=e.type).displayName||l.name||"Component")}return n(e,r)}}var gi=fi(!0),vi=fi(!1),mi={},yi={current:mi},bi={current:mi},Si={current:mi};function Ii(e){return e===mi&&o("174"),e}function Ci(e,t){Er(Si,t),Er(bi,e),Er(yi,mi);var n=t.nodeType;switch(n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:tr(null,"");break;default:t=tr(t=(n=8===n?t.parentNode:t).namespaceURI||null,n=n.tagName)}Tr(yi),Er(yi,t)}function Mi(e){Tr(yi),Tr(bi),Tr(Si)}function Di(e){Ii(Si.current);var t=Ii(yi.current),n=tr(t,e.type);t!==n&&(Er(bi,e),Er(yi,n))}function wi(e){bi.current===e&&(Tr(yi),Tr(bi))}var Pi=0,Ti=2,Ei=4,xi=8,Oi=16,ji=32,Ai=64,Ni=128,ki=Qe.ReactCurrentDispatcher,Li=0,Ri=null,_i=null,Ui=null,zi=null,Fi=null,Bi=null,Hi=0,Vi=null,Qi=0,Wi=!1,Gi=null,Yi=0;function Ki(){o("321")}function qi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Jt(e[n],t[n]))return!1;return!0}function Zi(e,t,n,r,i,a){if(Li=a,Ri=t,Ui=null!==e?e.memoizedState:null,ki.current=null===Ui?ca:ua,t=n(r,i),Wi){do{Wi=!1,Yi+=1,Ui=null!==e?e.memoizedState:null,Bi=zi,Vi=Fi=_i=null,ki.current=ua,t=n(r,i)}while(Wi);Gi=null,Yi=0}return ki.current=la,(e=Ri).memoizedState=zi,e.expirationTime=Hi,e.updateQueue=Vi,e.effectTag|=Qi,e=null!==_i&&null!==_i.next,Li=0,Bi=Fi=zi=Ui=_i=Ri=null,Hi=0,Vi=null,Qi=0,e&&o("300"),t}function Xi(){ki.current=la,Li=0,Bi=Fi=zi=Ui=_i=Ri=null,Hi=0,Vi=null,Qi=0,Wi=!1,Gi=null,Yi=0}function Ji(){var e={memoizedState:null,baseState:null,queue:null,baseUpdate:null,next:null};return null===Fi?zi=Fi=e:Fi=Fi.next=e,Fi}function $i(){if(null!==Bi)Bi=(Fi=Bi).next,Ui=null!==(_i=Ui)?_i.next:null;else{null===Ui&&o("310");var e={memoizedState:(_i=Ui).memoizedState,baseState:_i.baseState,queue:_i.queue,baseUpdate:_i.baseUpdate,next:null};Fi=null===Fi?zi=e:Fi.next=e,Ui=_i.next}return Fi}function ea(e,t){return"function"==typeof t?t(e):t}function ta(e){var t=$i(),n=t.queue;if(null===n&&o("311"),0<Yi){var r=n.dispatch;if(null!==Gi){var i=Gi.get(n);if(void 0!==i){Gi.delete(n);var a=t.memoizedState;do{a=e(a,i.action),i=i.next}while(null!==i);return Jt(a,t.memoizedState)||(Ia=!0),t.memoizedState=a,t.baseUpdate===n.last&&(t.baseState=a),n.eagerReducer=e,n.eagerState=a,[a,r]}}return[t.memoizedState,r]}r=n.last;var s=t.baseUpdate;if(a=t.baseState,null!==s?(null!==r&&(r.next=null),r=s.next):r=null!==r?r.next:null,null!==r){var l=i=null,c=r,u=!1;do{var d=c.expirationTime;d<Li?(u||(u=!0,l=s,i=a),d>Hi&&(Hi=d)):a=c.eagerReducer===e?c.eagerState:e(a,c.action),s=c,c=c.next}while(null!==c&&c!==r);u||(l=s,i=a),Jt(a,t.memoizedState)||(Ia=!0),t.memoizedState=a,t.baseUpdate=l,t.baseState=i,n.eagerReducer=e,n.eagerState=a}return[t.memoizedState,n.dispatch]}function na(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===Vi?(Vi={lastEffect:null}).lastEffect=e.next=e:null===(t=Vi.lastEffect)?Vi.lastEffect=e.next=e:(n=t.next,t.next=e,e.next=n,Vi.lastEffect=e),e}function ra(e,t,n,r){var i=Ji();Qi|=e,i.memoizedState=na(t,n,void 0,void 0===r?null:r)}function ia(e,t,n,r){var i=$i();r=void 0===r?null:r;var a=void 0;if(null!==_i){var o=_i.memoizedState;if(a=o.destroy,null!==r&&qi(r,o.deps))return void na(Pi,n,a,r)}Qi|=e,i.memoizedState=na(t,n,a,r)}function aa(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function oa(){}function sa(e,t,n){25>Yi||o("301");var r=e.alternate;if(e===Ri||null!==r&&r===Ri)if(Wi=!0,e={expirationTime:Li,action:n,eagerReducer:null,eagerState:null,next:null},null===Gi&&(Gi=new Map),void 0===(n=Gi.get(t)))Gi.set(t,e);else{for(t=n;null!==t.next;)t=t.next;t.next=e}else{Vo();var i=Cs(),a={expirationTime:i=qo(i,e),action:n,eagerReducer:null,eagerState:null,next:null},s=t.last;if(null===s)a.next=a;else{var l=s.next;null!==l&&(a.next=l),s.next=a}if(t.last=a,0===e.expirationTime&&(null===r||0===r.expirationTime)&&null!==(r=t.eagerReducer))try{var c=t.eagerState,u=r(c,n);if(a.eagerReducer=r,a.eagerState=u,Jt(u,c))return}catch(e){}Jo(e,i)}}var la={readContext:Ba,useCallback:Ki,useContext:Ki,useEffect:Ki,useImperativeHandle:Ki,useLayoutEffect:Ki,useMemo:Ki,useReducer:Ki,useRef:Ki,useState:Ki,useDebugValue:Ki},ca={readContext:Ba,useCallback:function(e,t){return Ji().memoizedState=[e,void 0===t?null:t],e},useContext:Ba,useEffect:function(e,t){return ra(516,Ni|Ai,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ra(4,Ei|ji,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ra(4,Ei|ji,e,t)},useMemo:function(e,t){var n=Ji();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ji();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={last:null,dispatch:null,eagerReducer:e,eagerState:t}).dispatch=sa.bind(null,Ri,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},Ji().memoizedState=e},useState:function(e){var t=Ji();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={last:null,dispatch:null,eagerReducer:ea,eagerState:e}).dispatch=sa.bind(null,Ri,e),[t.memoizedState,e]},useDebugValue:oa},ua={readContext:Ba,useCallback:function(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)},useContext:Ba,useEffect:function(e,t){return ia(516,Ni|Ai,e,t)},useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,ia(4,Ei|ji,aa.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ia(4,Ei|ji,e,t)},useMemo:function(e,t){var n=$i();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&qi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)},useReducer:ta,useRef:function(){return $i().memoizedState},useState:function(e){return ta(ea)},useDebugValue:oa},da=null,pa=null,ha=!1;function fa(e,t){var n=Wr(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.effectTag=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function ga(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);case 13:default:return!1}}function va(e){if(ha){var t=pa;if(t){var n=t;if(!ga(e,t)){if(!(t=Mr(n))||!ga(e,t))return e.effectTag|=2,ha=!1,void(da=e);fa(da,n)}da=e,pa=Dr(t)}else e.effectTag|=2,ha=!1,da=e}}function ma(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&18!==e.tag;)e=e.return;da=e}function ya(e){if(e!==da)return!1;if(!ha)return ma(e),ha=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!yr(t,e.memoizedProps))for(t=pa;t;)fa(e,t),t=Mr(t);return ma(e),pa=da?Mr(e.stateNode):null,!0}function ba(){pa=da=null,ha=!1}var Sa=Qe.ReactCurrentOwner,Ia=!1;function Ca(e,t,n,r){t.child=null===e?vi(t,null,n,r):gi(t,e.child,n,r)}function Ma(e,t,n,r,i){n=n.render;var a=t.ref;return Fa(t,i),r=Zi(e,t,n,r,a,i),null===e||Ia?(t.effectTag|=1,Ca(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Aa(e,t,i))}function Da(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!=typeof o||Gr(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Kr(n.type,null,r,null,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,wa(e,t,o,r,i,a))}return o=e.child,i<a&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:en)(i,r)&&e.ref===t.ref)?Aa(e,t,a):(t.effectTag|=1,(e=Yr(o,r)).ref=t.ref,e.return=t,t.child=e)}function wa(e,t,n,r,i,a){return null!==e&&en(e.memoizedProps,r)&&e.ref===t.ref&&(Ia=!1,i<a)?Aa(e,t,a):Ta(e,t,n,r,a)}function Pa(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.effectTag|=128)}function Ta(e,t,n,r,i){var a=kr(n)?Ar:Or.current;return a=Nr(t,a),Fa(t,i),n=Zi(e,t,n,r,a,i),null===e||Ia?(t.effectTag|=1,Ca(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.effectTag&=-517,e.expirationTime<=i&&(e.expirationTime=0),Aa(e,t,i))}function Ea(e,t,n,r,i){if(kr(n)){var a=!0;zr(t)}else a=!1;if(Fa(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),li(t,n,r),ui(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var l=o.context,c=n.contextType;"object"==typeof c&&null!==c?c=Ba(c):c=Nr(t,c=kr(n)?Ar:Or.current);var u=n.getDerivedStateFromProps,d="function"==typeof u||"function"==typeof o.getSnapshotBeforeUpdate;d||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ci(t,o,r,c),Ga=!1;var p=t.memoizedState;l=o.state=p;var h=t.updateQueue;null!==h&&(to(t,h,r,o,i),l=t.memoizedState),s!==r||p!==l||jr.current||Ga?("function"==typeof u&&(ai(t,n,u,r),l=t.memoizedState),(s=Ga||si(t,n,s,r,p,l,c))?(d||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.effectTag|=4)):("function"==typeof o.componentDidMount&&(t.effectTag|=4),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=c,r=s):("function"==typeof o.componentDidMount&&(t.effectTag|=4),r=!1)}else o=t.stateNode,s=t.memoizedProps,o.props=t.type===t.elementType?s:ri(t.type,s),l=o.context,"object"==typeof(c=n.contextType)&&null!==c?c=Ba(c):c=Nr(t,c=kr(n)?Ar:Or.current),(d="function"==typeof(u=n.getDerivedStateFromProps)||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(s!==r||l!==c)&&ci(t,o,r,c),Ga=!1,l=t.memoizedState,p=o.state=l,null!==(h=t.updateQueue)&&(to(t,h,r,o,i),p=t.memoizedState),s!==r||l!==p||jr.current||Ga?("function"==typeof u&&(ai(t,n,u,r),p=t.memoizedState),(u=Ga||si(t,n,s,r,l,p,c))?(d||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,c),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,c)),"function"==typeof o.componentDidUpdate&&(t.effectTag|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.effectTag|=256)):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=c,r=u):("function"!=typeof o.componentDidUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=4),"function"!=typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&l===e.memoizedState||(t.effectTag|=256),r=!1);return xa(e,t,n,r,a,i)}function xa(e,t,n,r,i,a){Pa(e,t);var o=0!=(64&t.effectTag);if(!r&&!o)return i&&Fr(t,n,!1),Aa(e,t,a);r=t.stateNode,Sa.current=t;var s=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.effectTag|=1,null!==e&&o?(t.child=gi(t,e.child,null,a),t.child=gi(t,null,s,a)):Ca(e,t,s,a),t.memoizedState=r.state,i&&Fr(t,n,!0),t.child}function Oa(e){var t=e.stateNode;t.pendingContext?_r(0,t.pendingContext,t.pendingContext!==t.context):t.context&&_r(0,t.context,!1),Ci(e,t.containerInfo)}function ja(e,t,n){var r=t.mode,i=t.pendingProps,a=t.memoizedState;if(0==(64&t.effectTag)){a=null;var o=!1}else a={timedOutAt:null!==a?a.timedOutAt:0},o=!0,t.effectTag&=-65;if(null===e)if(o){var s=i.fallback;e=qr(null,r,0,null),0==(1&t.mode)&&(e.child=null!==t.memoizedState?t.child.child:t.child),r=qr(s,r,n,null),e.sibling=r,(n=e).return=r.return=t}else n=r=vi(t,null,i.children,n);else null!==e.memoizedState?(s=(r=e.child).sibling,o?(n=i.fallback,i=Yr(r,r.pendingProps),0==(1&t.mode)&&((o=null!==t.memoizedState?t.child.child:t.child)!==r.child&&(i.child=o)),r=i.sibling=Yr(s,n,s.expirationTime),n=i,i.childExpirationTime=0,n.return=r.return=t):n=r=gi(t,r.child,i.children,n)):(s=e.child,o?(o=i.fallback,(i=qr(null,r,0,null)).child=s,0==(1&t.mode)&&(i.child=null!==t.memoizedState?t.child.child:t.child),(r=i.sibling=qr(o,r,n,null)).effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=t):r=n=gi(t,s,i.children,n)),t.stateNode=e.stateNode;return t.memoizedState=a,t.child=n,r}function Aa(e,t,n){if(null!==e&&(t.contextDependencies=e.contextDependencies),t.childExpirationTime<n)return null;if(null!==e&&t.child!==e.child&&o("153"),null!==t.child){for(n=Yr(e=t.child,e.pendingProps,e.expirationTime),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Yr(e,e.pendingProps,e.expirationTime)).return=t;n.sibling=null}return t.child}function Na(e,t,n){var r=t.expirationTime;if(null!==e){if(e.memoizedProps!==t.pendingProps||jr.current)Ia=!0;else if(r<n){switch(Ia=!1,t.tag){case 3:Oa(t),ba();break;case 5:Di(t);break;case 1:kr(t.type)&&zr(t);break;case 4:Ci(t,t.stateNode.containerInfo);break;case 10:Ua(t,t.memoizedProps.value);break;case 13:if(null!==t.memoizedState)return 0!==(r=t.child.childExpirationTime)&&r>=n?ja(e,t,n):null!==(t=Aa(e,t,n))?t.sibling:null}return Aa(e,t,n)}}else Ia=!1;switch(t.expirationTime=0,t.tag){case 2:r=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),e=t.pendingProps;var i=Nr(t,Or.current);if(Fa(t,n),i=Zi(null,t,r,e,i,n),t.effectTag|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof){if(t.tag=1,Xi(),kr(r)){var a=!0;zr(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null;var s=r.getDerivedStateFromProps;"function"==typeof s&&ai(t,r,s,e),i.updater=oi,t.stateNode=i,i._reactInternalFiber=t,ui(t,r,e,n),t=xa(null,t,r,!0,a,n)}else t.tag=0,Ca(null,t,i,n),t=t.child;return t;case 16:switch(i=t.elementType,null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),a=t.pendingProps,e=function(e){var t=e._result;switch(e._status){case 1:return t;case 2:case 0:throw t;default:switch(e._status=0,(t=(t=e._ctor)()).then(function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)},function(t){0===e._status&&(e._status=2,e._result=t)}),e._status){case 1:return e._result;case 2:throw e._result}throw e._result=t,t}}(i),t.type=e,i=t.tag=function(e){if("function"==typeof e)return Gr(e)?1:0;if(null!=e){if((e=e.$$typeof)===tt)return 11;if(e===rt)return 14}return 2}(e),a=ri(e,a),s=void 0,i){case 0:s=Ta(null,t,e,a,n);break;case 1:s=Ea(null,t,e,a,n);break;case 11:s=Ma(null,t,e,a,n);break;case 14:s=Da(null,t,e,ri(e.type,a),r,n);break;default:o("306",e,"")}return s;case 0:return r=t.type,i=t.pendingProps,Ta(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ea(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 3:return Oa(t),null===(r=t.updateQueue)&&o("282"),i=null!==(i=t.memoizedState)?i.element:null,to(t,r,t.pendingProps,null,n),(r=t.memoizedState.element)===i?(ba(),t=Aa(e,t,n)):(i=t.stateNode,(i=(null===e||null===e.child)&&i.hydrate)&&(pa=Dr(t.stateNode.containerInfo),da=t,i=ha=!0),i?(t.effectTag|=2,t.child=vi(t,null,r,n)):(Ca(e,t,r,n),ba()),t=t.child),t;case 5:return Di(t),null===e&&va(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,yr(r,i)?s=null:null!==a&&yr(r,a)&&(t.effectTag|=16),Pa(e,t),1!==n&&1&t.mode&&i.hidden?(t.expirationTime=t.childExpirationTime=1,t=null):(Ca(e,t,s,n),t=t.child),t;case 6:return null===e&&va(t),null;case 13:return ja(e,t,n);case 4:return Ci(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=gi(t,null,r,n):Ca(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Ma(e,t,r,i=t.elementType===r?i:ri(r,i),n);case 7:return Ca(e,t,t.pendingProps,n),t.child;case 8:case 12:return Ca(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,Ua(t,a=i.value),null!==s){var l=s.value;if(0===(a=Jt(l,a)?0:0|("function"==typeof r._calculateChangedBits?r._calculateChangedBits(l,a):1073741823))){if(s.children===i.children&&!jr.current){t=Aa(e,t,n);break e}}else for(null!==(l=t.child)&&(l.return=t);null!==l;){var c=l.contextDependencies;if(null!==c){s=l.child;for(var u=c.first;null!==u;){if(u.context===r&&0!=(u.observedBits&a)){1===l.tag&&((u=qa(n)).tag=Qa,Xa(l,u)),l.expirationTime<n&&(l.expirationTime=n),null!==(u=l.alternate)&&u.expirationTime<n&&(u.expirationTime=n),u=n;for(var d=l.return;null!==d;){var p=d.alternate;if(d.childExpirationTime<u)d.childExpirationTime=u,null!==p&&p.childExpirationTime<u&&(p.childExpirationTime=u);else{if(!(null!==p&&p.childExpirationTime<u))break;p.childExpirationTime=u}d=d.return}c.expirationTime<n&&(c.expirationTime=n);break}u=u.next}}else s=10===l.tag&&l.type===t.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===t){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}}Ca(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,Fa(t,n),r=r(i=Ba(i,a.unstable_observedBits)),t.effectTag|=1,Ca(e,t,r,n),t.child;case 14:return a=ri(i=t.type,t.pendingProps),Da(e,t,i,a=ri(i.type,a),r,n);case 15:return wa(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:ri(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.effectTag|=2),t.tag=1,kr(r)?(e=!0,zr(t)):e=!1,Fa(t,n),li(t,r,i),ui(t,r,i,n),xa(null,t,r,!0,e,n)}o("156")}var ka={current:null},La=null,Ra=null,_a=null;function Ua(e,t){var n=e.type._context;Er(ka,n._currentValue),n._currentValue=t}function za(e){var t=ka.current;Tr(ka),e.type._context._currentValue=t}function Fa(e,t){La=e,_a=Ra=null;var n=e.contextDependencies;null!==n&&n.expirationTime>=t&&(Ia=!0),e.contextDependencies=null}function Ba(e,t){return _a!==e&&!1!==t&&0!==t&&("number"==typeof t&&1073741823!==t||(_a=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Ra?(null===La&&o("308"),Ra=t,La.contextDependencies={first:t,expirationTime:0}):Ra=Ra.next=t),e._currentValue}var Ha=0,Va=1,Qa=2,Wa=3,Ga=!1;function Ya(e){return{baseState:e,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ka(e){return{baseState:e.baseState,firstUpdate:e.firstUpdate,lastUpdate:e.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function qa(e){return{expirationTime:e,tag:Ha,payload:null,callback:null,next:null,nextEffect:null}}function Za(e,t){null===e.lastUpdate?e.firstUpdate=e.lastUpdate=t:(e.lastUpdate.next=t,e.lastUpdate=t)}function Xa(e,t){var n=e.alternate;if(null===n){var r=e.updateQueue,i=null;null===r&&(r=e.updateQueue=Ya(e.memoizedState))}else r=e.updateQueue,i=n.updateQueue,null===r?null===i?(r=e.updateQueue=Ya(e.memoizedState),i=n.updateQueue=Ya(n.memoizedState)):r=e.updateQueue=Ka(i):null===i&&(i=n.updateQueue=Ka(r));null===i||r===i?Za(r,t):null===r.lastUpdate||null===i.lastUpdate?(Za(r,t),Za(i,t)):(Za(r,t),i.lastUpdate=t)}function Ja(e,t){var n=e.updateQueue;null===(n=null===n?e.updateQueue=Ya(e.memoizedState):$a(e,n)).lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=t:(n.lastCapturedUpdate.next=t,n.lastCapturedUpdate=t)}function $a(e,t){var n=e.alternate;return null!==n&&t===n.updateQueue&&(t=e.updateQueue=Ka(t)),t}function eo(e,t,n,r,a,o){switch(n.tag){case Va:return"function"==typeof(e=n.payload)?e.call(o,r,a):e;case Wa:e.effectTag=-2049&e.effectTag|64;case Ha:if(null==(a="function"==typeof(e=n.payload)?e.call(o,r,a):e))break;return i({},r,a);case Qa:Ga=!0}return r}function to(e,t,n,r,i){Ga=!1;for(var a=(t=$a(e,t)).baseState,o=null,s=0,l=t.firstUpdate,c=a;null!==l;){var u=l.expirationTime;u<i?(null===o&&(o=l,a=c),s<u&&(s=u)):(c=eo(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastEffect?t.firstEffect=t.lastEffect=l:(t.lastEffect.nextEffect=l,t.lastEffect=l))),l=l.next}for(u=null,l=t.firstCapturedUpdate;null!==l;){var d=l.expirationTime;d<i?(null===u&&(u=l,null===o&&(a=c)),s<d&&(s=d)):(c=eo(e,0,l,c,n,r),null!==l.callback&&(e.effectTag|=32,l.nextEffect=null,null===t.lastCapturedEffect?t.firstCapturedEffect=t.lastCapturedEffect=l:(t.lastCapturedEffect.nextEffect=l,t.lastCapturedEffect=l))),l=l.next}null===o&&(t.lastUpdate=null),null===u?t.lastCapturedUpdate=null:e.effectTag|=32,null===o&&null===u&&(a=c),t.baseState=a,t.firstUpdate=o,t.firstCapturedUpdate=u,e.expirationTime=s,e.memoizedState=c}function no(e,t,n){null!==t.firstCapturedUpdate&&(null!==t.lastUpdate&&(t.lastUpdate.next=t.firstCapturedUpdate,t.lastUpdate=t.lastCapturedUpdate),t.firstCapturedUpdate=t.lastCapturedUpdate=null),ro(t.firstEffect,n),t.firstEffect=t.lastEffect=null,ro(t.firstCapturedEffect,n),t.firstCapturedEffect=t.lastCapturedEffect=null}function ro(e,t){for(;null!==e;){var n=e.callback;if(null!==n){e.callback=null;var r=t;"function"!=typeof n&&o("191",n),n.call(r)}e=e.nextEffect}}function io(e,t){return{value:e,source:t,stack:lt(t)}}function ao(e){e.effectTag|=4}var oo=void 0,so=void 0,lo=void 0,co=void 0;oo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},so=function(){},lo=function(e,t,n,r,a){var o=e.memoizedProps;if(o!==r){var s=t.stateNode;switch(Ii(yi.current),e=null,n){case"input":o=bt(s,o),r=bt(s,r),e=[];break;case"option":o=Yn(s,o),r=Yn(s,r),e=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),e=[];break;case"textarea":o=qn(s,o),r=qn(s,r),e=[];break;default:"function"!=typeof o.onClick&&"function"==typeof r.onClick&&(s.onclick=fr)}dr(n,r),s=n=void 0;var l=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var c=o[n];for(s in c)c.hasOwnProperty(s)&&(l||(l={}),l[s]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(b.hasOwnProperty(n)?e||(e=[]):(e=e||[]).push(n,null));for(n in r){var u=r[n];if(c=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&u!==c&&(null!=u||null!=c))if("style"===n)if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(l||(l={}),l[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(l||(l={}),l[s]=u[s])}else l||(e||(e=[]),e.push(n,l)),l=u;else"dangerouslySetInnerHTML"===n?(u=u?u.__html:void 0,c=c?c.__html:void 0,null!=u&&c!==u&&(e=e||[]).push(n,""+u)):"children"===n?c===u||"string"!=typeof u&&"number"!=typeof u||(e=e||[]).push(n,""+u):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(b.hasOwnProperty(n)?(null!=u&&hr(a,n),e||c===u||(e=[])):(e=e||[]).push(n,u))}l&&(e=e||[]).push("style",l),a=e,(t.updateQueue=a)&&ao(t)}},co=function(e,t,n,r){n!==r&&ao(t)};var uo="function"==typeof WeakSet?WeakSet:Set;function po(e,t){var n=t.source,r=t.stack;null===r&&null!==n&&(r=lt(n)),null!==n&&st(n.type),t=t.value,null!==e&&1===e.tag&&st(e.type);try{console.error(t)}catch(e){setTimeout(function(){throw e})}}function ho(e){var t=e.ref;if(null!==t)if("function"==typeof t)try{t(null)}catch(t){Ko(e,t)}else t.current=null}function fo(e,t,n){if(null!==(n=null!==(n=n.updateQueue)?n.lastEffect:null)){var r=n=n.next;do{if((r.tag&e)!==Pi){var i=r.destroy;r.destroy=void 0,void 0!==i&&i()}(r.tag&t)!==Pi&&(i=r.create,r.destroy=i()),r=r.next}while(r!==n)}}function go(e){switch("function"==typeof Hr&&Hr(e),e.tag){case 0:case 11:case 14:case 15:var t=e.updateQueue;if(null!==t&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n.destroy;if(void 0!==r){var i=e;try{r()}catch(e){Ko(i,e)}}n=n.next}while(n!==t)}break;case 1:if(ho(e),"function"==typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(t){Ko(e,t)}break;case 5:ho(e);break;case 4:yo(e)}}function vo(e){return 5===e.tag||3===e.tag||4===e.tag}function mo(e){e:{for(var t=e.return;null!==t;){if(vo(t)){var n=t;break e}t=t.return}o("160"),n=void 0}var r=t=void 0;switch(n.tag){case 5:t=n.stateNode,r=!1;break;case 3:case 4:t=n.stateNode.containerInfo,r=!0;break;default:o("161")}16&n.effectTag&&(ar(t,""),n.effectTag&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||vo(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.effectTag)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break e}}for(var i=e;;){if(5===i.tag||6===i.tag)if(n)if(r){var a=t,s=i.stateNode,l=n;8===a.nodeType?a.parentNode.insertBefore(s,l):a.insertBefore(s,l)}else t.insertBefore(i.stateNode,n);else r?(s=t,l=i.stateNode,8===s.nodeType?(a=s.parentNode).insertBefore(l,s):(a=s).appendChild(l),null!=(s=s._reactRootContainer)||null!==a.onclick||(a.onclick=fr)):t.appendChild(i.stateNode);else if(4!==i.tag&&null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;i=i.return}i.sibling.return=i.return,i=i.sibling}}function yo(e){for(var t=e,n=!1,r=void 0,i=void 0;;){if(!n){n=t.return;e:for(;;){switch(null===n&&o("160"),n.tag){case 5:r=n.stateNode,i=!1;break e;case 3:case 4:r=n.stateNode.containerInfo,i=!0;break e}n=n.return}n=!0}if(5===t.tag||6===t.tag){e:for(var a=t,s=a;;)if(go(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}i?(a=r,s=t.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):r.removeChild(t.stateNode)}else if(4===t.tag){if(null!==t.child){r=t.stateNode.containerInfo,i=!0,t.child.return=t,t=t.child;continue}}else if(go(t),null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return;4===(t=t.return).tag&&(n=!1)}t.sibling.return=t.return,t=t.sibling}}function bo(e,t){switch(t.tag){case 0:case 11:case 14:case 15:fo(Ei,xi,t);break;case 1:break;case 5:var n=t.stateNode;if(null!=n){var r=t.memoizedProps;e=null!==e?e.memoizedProps:r;var i=t.type,a=t.updateQueue;t.updateQueue=null,null!==a&&function(e,t,n,r,i){e[k]=i,"input"===n&&"radio"===i.type&&null!=i.name&&It(e,i),pr(n,r),r=pr(n,i);for(var a=0;a<t.length;a+=2){var o=t[a],s=t[a+1];"style"===o?cr(e,s):"dangerouslySetInnerHTML"===o?ir(e,s):"children"===o?ar(e,s):mt(e,o,s,r)}switch(n){case"input":Ct(e,i);break;case"textarea":Xn(e,i);break;case"select":t=e._wrapperState.wasMultiple,e._wrapperState.wasMultiple=!!i.multiple,null!=(n=i.value)?Kn(e,!!i.multiple,n,!1):t!==!!i.multiple&&(null!=i.defaultValue?Kn(e,!!i.multiple,i.defaultValue,!0):Kn(e,!!i.multiple,i.multiple?[]:"",!1))}}(n,a,i,e,r)}break;case 6:null===t.stateNode&&o("162"),t.stateNode.nodeValue=t.memoizedProps;break;case 3:case 12:break;case 13:if(n=t.memoizedState,r=void 0,e=t,null===n?r=!1:(r=!0,e=t.child,0===n.timedOutAt&&(n.timedOutAt=Cs())),null!==e&&function(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)r.style.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=null!=i&&i.hasOwnProperty("display")?i.display:null,r.style.display=lr("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else{if(13===n.tag&&null!==n.memoizedState){(r=n.child.sibling).return=n,n=r;continue}if(null!==n.child){n.child.return=n,n=n.child;continue}}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}(e,r),null!==(n=t.updateQueue)){t.updateQueue=null;var s=t.stateNode;null===s&&(s=t.stateNode=new uo),n.forEach(function(e){var n=function(e,t){var n=e.stateNode;null!==n&&n.delete(t),t=qo(t=Cs(),e),null!==(e=Xo(e,t))&&($r(e,t),0!==(t=e.expirationTime)&&Ms(e,t))}.bind(null,t,e);s.has(e)||(s.add(e),e.then(n,n))})}break;case 17:break;default:o("163")}}var So="function"==typeof WeakMap?WeakMap:Map;function Io(e,t,n){(n=qa(n)).tag=Wa,n.payload={element:null};var r=t.value;return n.callback=function(){As(r),po(e,t)},n}function Co(e,t,n){(n=qa(n)).tag=Wa;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)}}var a=e.stateNode;return null!==a&&"function"==typeof a.componentDidCatch&&(n.callback=function(){"function"!=typeof r&&(null===Uo?Uo=new Set([this]):Uo.add(this));var n=t.value,i=t.stack;po(e,t),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Mo(e){switch(e.tag){case 1:kr(e.type)&&Lr();var t=e.effectTag;return 2048&t?(e.effectTag=-2049&t|64,e):null;case 3:return Mi(),Rr(),0!=(64&(t=e.effectTag))&&o("285"),e.effectTag=-2049&t|64,e;case 5:return wi(e),null;case 13:return 2048&(t=e.effectTag)?(e.effectTag=-2049&t|64,e):null;case 18:return null;case 4:return Mi(),null;case 10:return za(e),null;default:return null}}var Do=Qe.ReactCurrentDispatcher,wo=Qe.ReactCurrentOwner,Po=1073741822,To=!1,Eo=null,xo=null,Oo=0,jo=-1,Ao=!1,No=null,ko=!1,Lo=null,Ro=null,_o=null,Uo=null;function zo(){if(null!==Eo)for(var e=Eo.return;null!==e;){var t=e;switch(t.tag){case 1:var n=t.type.childContextTypes;null!=n&&Lr();break;case 3:Mi(),Rr();break;case 5:wi(t);break;case 4:Mi();break;case 10:za(t)}e=e.return}xo=null,Oo=0,jo=-1,Ao=!1,Eo=null}function Fo(){for(;null!==No;){var e=No.effectTag;if(16&e&&ar(No.stateNode,""),128&e){var t=No.alternate;null!==t&&(null!==(t=t.ref)&&("function"==typeof t?t(null):t.current=null))}switch(14&e){case 2:mo(No),No.effectTag&=-3;break;case 6:mo(No),No.effectTag&=-3,bo(No.alternate,No);break;case 4:bo(No.alternate,No);break;case 8:yo(e=No),e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null,null!==(e=e.alternate)&&(e.return=null,e.child=null,e.memoizedState=null,e.updateQueue=null)}No=No.nextEffect}}function Bo(){for(;null!==No;){if(256&No.effectTag)e:{var e=No.alternate,t=No;switch(t.tag){case 0:case 11:case 15:fo(Ti,Pi,t);break e;case 1:if(256&t.effectTag&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:ri(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}break e;case 3:case 5:case 6:case 4:case 17:break e;default:o("163")}}No=No.nextEffect}}function Ho(e,t){for(;null!==No;){var n=No.effectTag;if(36&n){var r=No.alternate,i=No,a=t;switch(i.tag){case 0:case 11:case 15:fo(Oi,ji,i);break;case 1:var s=i.stateNode;if(4&i.effectTag)if(null===r)s.componentDidMount();else{var l=i.elementType===i.type?r.memoizedProps:ri(i.type,r.memoizedProps);s.componentDidUpdate(l,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}null!==(r=i.updateQueue)&&no(0,r,s);break;case 3:if(null!==(r=i.updateQueue)){if(s=null,null!==i.child)switch(i.child.tag){case 5:s=i.child.stateNode;break;case 1:s=i.child.stateNode}no(0,r,s)}break;case 5:a=i.stateNode,null===r&&4&i.effectTag&&mr(i.type,i.memoizedProps)&&a.focus();break;case 6:case 4:case 12:case 13:case 17:break;default:o("163")}}128&n&&(null!==(i=No.ref)&&(a=No.stateNode,"function"==typeof i?i(a):i.current=a)),512&n&&(Lo=e),No=No.nextEffect}}function Vo(){null!==Ro&&Cr(Ro),null!==_o&&_o()}function Qo(e,t){ko=To=!0,e.current===t&&o("177");var n=e.pendingCommitExpirationTime;0===n&&o("261"),e.pendingCommitExpirationTime=0;var r=t.expirationTime,i=t.childExpirationTime;for(function(e,t){if(e.didError=!1,0===t)e.earliestPendingTime=0,e.latestPendingTime=0,e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0;else{t<e.latestPingedTime&&(e.latestPingedTime=0);var n=e.latestPendingTime;0!==n&&(n>t?e.earliestPendingTime=e.latestPendingTime=0:e.earliestPendingTime>t&&(e.earliestPendingTime=e.latestPendingTime)),0===(n=e.earliestSuspendedTime)?$r(e,t):t<e.latestSuspendedTime?(e.earliestSuspendedTime=0,e.latestSuspendedTime=0,e.latestPingedTime=0,$r(e,t)):t>n&&$r(e,t)}ni(0,e)}(e,i>r?i:r),wo.current=null,r=void 0,1<t.effectTag?null!==t.lastEffect?(t.lastEffect.nextEffect=t,r=t.firstEffect):r=t:r=t.firstEffect,gr=Dn,vr=function(){var e=Rn();if(_n(e)){if("selectionStart"in e)var t={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(t=(t=e.ownerDocument)&&t.defaultView||window).getSelection&&t.getSelection();if(n&&0!==n.rangeCount){t=n.anchorNode;var r=n.anchorOffset,i=n.focusNode;n=n.focusOffset;try{t.nodeType,i.nodeType}catch(e){t=null;break e}var a=0,o=-1,s=-1,l=0,c=0,u=e,d=null;t:for(;;){for(var p;u!==t||0!==r&&3!==u.nodeType||(o=a+r),u!==i||0!==n&&3!==u.nodeType||(s=a+n),3===u.nodeType&&(a+=u.nodeValue.length),null!==(p=u.firstChild);)d=u,u=p;for(;;){if(u===e)break t;if(d===t&&++l===r&&(o=a),d===i&&++c===n&&(s=a),null!==(p=u.nextSibling))break;d=(u=d).parentNode}u=p}t=-1===o||-1===s?null:{start:o,end:s}}else t=null}t=t||{start:0,end:0}}else t=null;return{focusedElem:e,selectionRange:t}}(),Dn=!1,No=r;null!==No;){i=!1;var s=void 0;try{Bo()}catch(e){i=!0,s=e}i&&(null===No&&o("178"),Ko(No,s),null!==No&&(No=No.nextEffect))}for(No=r;null!==No;){i=!1,s=void 0;try{Fo()}catch(e){i=!0,s=e}i&&(null===No&&o("178"),Ko(No,s),null!==No&&(No=No.nextEffect))}for(Un(vr),vr=null,Dn=!!gr,gr=null,e.current=t,No=r;null!==No;){i=!1,s=void 0;try{Ho(e,n)}catch(e){i=!0,s=e}i&&(null===No&&o("178"),Ko(No,s),null!==No&&(No=No.nextEffect))}if(null!==r&&null!==Lo){var l=function(e,t){_o=Ro=Lo=null;var n=is;is=!0;do{if(512&t.effectTag){var r=!1,i=void 0;try{var a=t;fo(Ni,Pi,a),fo(Pi,Ai,a)}catch(e){r=!0,i=e}r&&Ko(t,i)}t=t.nextEffect}while(null!==t);is=n,0!==(n=e.expirationTime)&&Ms(e,n),us||is||Es(1073741823,!1)}.bind(null,e,r);Ro=a.unstable_runWithPriority(a.unstable_NormalPriority,function(){return Ir(l)}),_o=l}To=ko=!1,"function"==typeof Br&&Br(t.stateNode),n=t.expirationTime,0===(t=(t=t.childExpirationTime)>n?t:n)&&(Uo=null),function(e,t){e.expirationTime=t,e.finishedWork=null}(e,t)}function Wo(e){for(;;){var t=e.alternate,n=e.return,r=e.sibling;if(0==(1024&e.effectTag)){Eo=e;e:{var a=t,s=Oo,l=(t=e).pendingProps;switch(t.tag){case 2:case 16:break;case 15:case 0:break;case 1:kr(t.type)&&Lr();break;case 3:Mi(),Rr(),(l=t.stateNode).pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),null!==a&&null!==a.child||(ya(t),t.effectTag&=-3),so(t);break;case 5:wi(t);var c=Ii(Si.current);if(s=t.type,null!==a&&null!=t.stateNode)lo(a,t,s,l,c),a.ref!==t.ref&&(t.effectTag|=128);else if(l){var u=Ii(yi.current);if(ya(t)){a=(l=t).stateNode;var d=l.type,p=l.memoizedProps,h=c;switch(a[N]=l,a[k]=p,s=void 0,c=d){case"iframe":case"object":wn("load",a);break;case"video":case"audio":for(d=0;d<te.length;d++)wn(te[d],a);break;case"source":wn("error",a);break;case"img":case"image":case"link":wn("error",a),wn("load",a);break;case"form":wn("reset",a),wn("submit",a);break;case"details":wn("toggle",a);break;case"input":St(a,p),wn("invalid",a),hr(h,"onChange");break;case"select":a._wrapperState={wasMultiple:!!p.multiple},wn("invalid",a),hr(h,"onChange");break;case"textarea":Zn(a,p),wn("invalid",a),hr(h,"onChange")}for(s in dr(c,p),d=null,p)p.hasOwnProperty(s)&&(u=p[s],"children"===s?"string"==typeof u?a.textContent!==u&&(d=["children",u]):"number"==typeof u&&a.textContent!==""+u&&(d=["children",""+u]):b.hasOwnProperty(s)&&null!=u&&hr(h,s));switch(c){case"input":He(a),Mt(a,p,!0);break;case"textarea":He(a),Jn(a);break;case"select":case"option":break;default:"function"==typeof p.onClick&&(a.onclick=fr)}s=d,l.updateQueue=s,(l=null!==s)&&ao(t)}else{p=t,h=s,a=l,d=9===c.nodeType?c:c.ownerDocument,u===$n.html&&(u=er(h)),u===$n.html?"script"===h?((a=d.createElement("div")).innerHTML="<script><\/script>",d=a.removeChild(a.firstChild)):"string"==typeof a.is?d=d.createElement(h,{is:a.is}):(d=d.createElement(h),"select"===h&&(h=d,a.multiple?h.multiple=!0:a.size&&(h.size=a.size))):d=d.createElementNS(u,h),(a=d)[N]=p,a[k]=l,oo(a,t,!1,!1),h=a;var f=c,g=pr(d=s,p=l);switch(d){case"iframe":case"object":wn("load",h),c=p;break;case"video":case"audio":for(c=0;c<te.length;c++)wn(te[c],h);c=p;break;case"source":wn("error",h),c=p;break;case"img":case"image":case"link":wn("error",h),wn("load",h),c=p;break;case"form":wn("reset",h),wn("submit",h),c=p;break;case"details":wn("toggle",h),c=p;break;case"input":St(h,p),c=bt(h,p),wn("invalid",h),hr(f,"onChange");break;case"option":c=Yn(h,p);break;case"select":h._wrapperState={wasMultiple:!!p.multiple},c=i({},p,{value:void 0}),wn("invalid",h),hr(f,"onChange");break;case"textarea":Zn(h,p),c=qn(h,p),wn("invalid",h),hr(f,"onChange");break;default:c=p}dr(d,c),u=void 0;var v=d,m=h,y=c;for(u in y)if(y.hasOwnProperty(u)){var S=y[u];"style"===u?cr(m,S):"dangerouslySetInnerHTML"===u?null!=(S=S?S.__html:void 0)&&ir(m,S):"children"===u?"string"==typeof S?("textarea"!==v||""!==S)&&ar(m,S):"number"==typeof S&&ar(m,""+S):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(b.hasOwnProperty(u)?null!=S&&hr(f,u):null!=S&&mt(m,u,S,g))}switch(d){case"input":He(h),Mt(h,p,!1);break;case"textarea":He(h),Jn(h);break;case"option":null!=p.value&&h.setAttribute("value",""+yt(p.value));break;case"select":(c=h).multiple=!!p.multiple,null!=(h=p.value)?Kn(c,!!p.multiple,h,!1):null!=p.defaultValue&&Kn(c,!!p.multiple,p.defaultValue,!0);break;default:"function"==typeof c.onClick&&(h.onclick=fr)}(l=mr(s,l))&&ao(t),t.stateNode=a}null!==t.ref&&(t.effectTag|=128)}else null===t.stateNode&&o("166");break;case 6:a&&null!=t.stateNode?co(a,t,a.memoizedProps,l):("string"!=typeof l&&(null===t.stateNode&&o("166")),a=Ii(Si.current),Ii(yi.current),ya(t)?(s=(l=t).stateNode,a=l.memoizedProps,s[N]=l,(l=s.nodeValue!==a)&&ao(t)):(s=t,(l=(9===a.nodeType?a:a.ownerDocument).createTextNode(l))[N]=t,s.stateNode=l));break;case 11:break;case 13:if(l=t.memoizedState,0!=(64&t.effectTag)){t.expirationTime=s,Eo=t;break e}l=null!==l,s=null!==a&&null!==a.memoizedState,null!==a&&!l&&s&&(null!==(a=a.child.sibling)&&(null!==(c=t.firstEffect)?(t.firstEffect=a,a.nextEffect=c):(t.firstEffect=t.lastEffect=a,a.nextEffect=null),a.effectTag=8)),(l||s)&&(t.effectTag|=4);break;case 7:case 8:case 12:break;case 4:Mi(),so(t);break;case 10:za(t);break;case 9:case 14:break;case 17:kr(t.type)&&Lr();break;case 18:break;default:o("156")}Eo=null}if(t=e,1===Oo||1!==t.childExpirationTime){for(l=0,s=t.child;null!==s;)(a=s.expirationTime)>l&&(l=a),(c=s.childExpirationTime)>l&&(l=c),s=s.sibling;t.childExpirationTime=l}if(null!==Eo)return Eo;null!==n&&0==(1024&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=e.firstEffect),n.lastEffect=e.lastEffect),1<e.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=e:n.firstEffect=e,n.lastEffect=e))}else{if(null!==(e=Mo(e)))return e.effectTag&=1023,e;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=1024)}if(null!==r)return r;if(null===n)break;e=n}return null}function Go(e){var t=Na(e.alternate,e,Oo);return e.memoizedProps=e.pendingProps,null===t&&(t=Wo(e)),wo.current=null,t}function Yo(e,t){To&&o("243"),Vo(),To=!0;var n=Do.current;Do.current=la;var r=e.nextExpirationTimeToWorkOn;r===Oo&&e===xo&&null!==Eo||(zo(),Oo=r,Eo=Yr((xo=e).current,null),e.pendingCommitExpirationTime=0);for(var i=!1;;){try{if(t)for(;null!==Eo&&!Ps();)Eo=Go(Eo);else for(;null!==Eo;)Eo=Go(Eo)}catch(t){if(_a=Ra=La=null,Xi(),null===Eo)i=!0,As(t);else{null===Eo&&o("271");var a=Eo,s=a.return;if(null!==s){e:{var l=e,c=s,u=a,d=t;if(s=Oo,u.effectTag|=1024,u.firstEffect=u.lastEffect=null,null!==d&&"object"==typeof d&&"function"==typeof d.then){var p=d;d=c;var h=-1,f=-1;do{if(13===d.tag){var g=d.alternate;if(null!==g&&null!==(g=g.memoizedState)){f=10*(1073741822-g.timedOutAt);break}"number"==typeof(g=d.pendingProps.maxDuration)&&(0>=g?h=0:(-1===h||g<h)&&(h=g))}d=d.return}while(null!==d);d=c;do{if((g=13===d.tag)&&(g=void 0!==d.memoizedProps.fallback&&null===d.memoizedState),g){if(null===(c=d.updateQueue)?((c=new Set).add(p),d.updateQueue=c):c.add(p),0==(1&d.mode)){d.effectTag|=64,u.effectTag&=-1957,1===u.tag&&(null===u.alternate?u.tag=17:((s=qa(1073741823)).tag=Qa,Xa(u,s))),u.expirationTime=1073741823;break e}c=s;var v=(u=l).pingCache;null===v?(v=u.pingCache=new So,g=new Set,v.set(p,g)):void 0===(g=v.get(p))&&(g=new Set,v.set(p,g)),g.has(c)||(g.add(c),u=Zo.bind(null,u,p,c),p.then(u,u)),-1===h?l=1073741823:(-1===f&&(f=10*(1073741822-ti(l,s))-5e3),l=f+h),0<=l&&jo<l&&(jo=l),d.effectTag|=2048,d.expirationTime=s;break e}d=d.return}while(null!==d);d=Error((st(u.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display."+lt(u))}Ao=!0,d=io(d,u),l=c;do{switch(l.tag){case 3:l.effectTag|=2048,l.expirationTime=s,Ja(l,s=Io(l,d,s));break e;case 1:if(h=d,f=l.type,u=l.stateNode,0==(64&l.effectTag)&&("function"==typeof f.getDerivedStateFromError||null!==u&&"function"==typeof u.componentDidCatch&&(null===Uo||!Uo.has(u)))){l.effectTag|=2048,l.expirationTime=s,Ja(l,s=Co(l,h,s));break e}}l=l.return}while(null!==l)}Eo=Wo(a);continue}i=!0,As(t)}}break}if(To=!1,Do.current=n,_a=Ra=La=null,Xi(),i)xo=null,e.finishedWork=null;else if(null!==Eo)e.finishedWork=null;else{if(null===(n=e.current.alternate)&&o("281"),xo=null,Ao){if(i=e.latestPendingTime,a=e.latestSuspendedTime,s=e.latestPingedTime,0!==i&&i<r||0!==a&&a<r||0!==s&&s<r)return ei(e,r),void Is(e,n,r,e.expirationTime,-1);if(!e.didError&&t)return e.didError=!0,r=e.nextExpirationTimeToWorkOn=r,t=e.expirationTime=1073741823,void Is(e,n,r,t,-1)}t&&-1!==jo?(ei(e,r),(t=10*(1073741822-ti(e,r)))<jo&&(jo=t),t=10*(1073741822-Cs()),t=jo-t,Is(e,n,r,e.expirationTime,0>t?0:t)):(e.pendingCommitExpirationTime=r,e.finishedWork=n)}}function Ko(e,t){for(var n=e.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"==typeof n.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===Uo||!Uo.has(r)))return Xa(n,e=Co(n,e=io(t,e),1073741823)),void Jo(n,1073741823);break;case 3:return Xa(n,e=Io(n,e=io(t,e),1073741823)),void Jo(n,1073741823)}n=n.return}3===e.tag&&(Xa(e,n=Io(e,n=io(t,e),1073741823)),Jo(e,1073741823))}function qo(e,t){var n=a.unstable_getCurrentPriorityLevel(),r=void 0;if(0==(1&t.mode))r=1073741823;else if(To&&!ko)r=Oo;else{switch(n){case a.unstable_ImmediatePriority:r=1073741823;break;case a.unstable_UserBlockingPriority:r=1073741822-10*(1+((1073741822-e+15)/10|0));break;case a.unstable_NormalPriority:r=1073741822-25*(1+((1073741822-e+500)/25|0));break;case a.unstable_LowPriority:case a.unstable_IdlePriority:r=1;break;default:o("313")}null!==xo&&r===Oo&&--r}return n===a.unstable_UserBlockingPriority&&(0===ss||r<ss)&&(ss=r),r}function Zo(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),null!==xo&&Oo===n?xo=null:(t=e.earliestSuspendedTime,r=e.latestSuspendedTime,0!==t&&n<=t&&n>=r&&(e.didError=!1,(0===(t=e.latestPingedTime)||t>n)&&(e.latestPingedTime=n),ni(n,e),0!==(n=e.expirationTime)&&Ms(e,n)))}function Xo(e,t){e.expirationTime<t&&(e.expirationTime=t);var n=e.alternate;null!==n&&n.expirationTime<t&&(n.expirationTime=t);var r=e.return,i=null;if(null===r&&3===e.tag)i=e.stateNode;else for(;null!==r;){if(n=r.alternate,r.childExpirationTime<t&&(r.childExpirationTime=t),null!==n&&n.childExpirationTime<t&&(n.childExpirationTime=t),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return i}function Jo(e,t){null!==(e=Xo(e,t))&&(!To&&0!==Oo&&t>Oo&&zo(),$r(e,t),To&&!ko&&xo===e||Ms(e,e.expirationTime),ms>vs&&(ms=0,o("185")))}function $o(e,t,n,r,i){return a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){return e(t,n,r,i)})}var es=null,ts=null,ns=0,rs=void 0,is=!1,as=null,os=0,ss=0,ls=!1,cs=null,us=!1,ds=!1,ps=null,hs=a.unstable_now(),fs=1073741822-(hs/10|0),gs=fs,vs=50,ms=0,ys=null;function bs(){fs=1073741822-((a.unstable_now()-hs)/10|0)}function Ss(e,t){if(0!==ns){if(t<ns)return;null!==rs&&a.unstable_cancelCallback(rs)}ns=t,e=a.unstable_now()-hs,rs=a.unstable_scheduleCallback(Ts,{timeout:10*(1073741822-t)-e})}function Is(e,t,n,r,i){e.expirationTime=r,0!==i||Ps()?0<i&&(e.timeoutHandle=br(function(e,t,n){e.pendingCommitExpirationTime=n,e.finishedWork=t,bs(),gs=fs,xs(e,n)}.bind(null,e,t,n),i)):(e.pendingCommitExpirationTime=n,e.finishedWork=t)}function Cs(){return is?gs:(Ds(),0!==os&&1!==os||(bs(),gs=fs),gs)}function Ms(e,t){null===e.nextScheduledRoot?(e.expirationTime=t,null===ts?(es=ts=e,e.nextScheduledRoot=e):(ts=ts.nextScheduledRoot=e).nextScheduledRoot=es):t>e.expirationTime&&(e.expirationTime=t),is||(us?ds&&(as=e,os=1073741823,Os(e,1073741823,!1)):1073741823===t?Es(1073741823,!1):Ss(e,t))}function Ds(){var e=0,t=null;if(null!==ts)for(var n=ts,r=es;null!==r;){var i=r.expirationTime;if(0===i){if((null===n||null===ts)&&o("244"),r===r.nextScheduledRoot){es=ts=r.nextScheduledRoot=null;break}if(r===es)es=i=r.nextScheduledRoot,ts.nextScheduledRoot=i,r.nextScheduledRoot=null;else{if(r===ts){(ts=n).nextScheduledRoot=es,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if(i>e&&(e=i,t=r),r===ts)break;if(1073741823===e)break;n=r,r=r.nextScheduledRoot}}as=t,os=e}var ws=!1;function Ps(){return!!ws||!!a.unstable_shouldYield()&&(ws=!0)}function Ts(){try{if(!Ps()&&null!==es){bs();var e=es;do{var t=e.expirationTime;0!==t&&fs<=t&&(e.nextExpirationTimeToWorkOn=fs),e=e.nextScheduledRoot}while(e!==es)}Es(0,!0)}finally{ws=!1}}function Es(e,t){if(Ds(),t)for(bs(),gs=fs;null!==as&&0!==os&&e<=os&&!(ws&&fs>os);)Os(as,os,fs>os),Ds(),bs(),gs=fs;else for(;null!==as&&0!==os&&e<=os;)Os(as,os,!1),Ds();if(t&&(ns=0,rs=null),0!==os&&Ss(as,os),ms=0,ys=null,null!==ps)for(e=ps,ps=null,t=0;t<e.length;t++){var n=e[t];try{n._onComplete()}catch(e){ls||(ls=!0,cs=e)}}if(ls)throw e=cs,cs=null,ls=!1,e}function xs(e,t){is&&o("253"),as=e,os=t,Os(e,t,!1),Es(1073741823,!1)}function Os(e,t,n){if(is&&o("245"),is=!0,n){var r=e.finishedWork;null!==r?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Yo(e,n),null!==(r=e.finishedWork)&&(Ps()?e.finishedWork=r:js(e,r,t)))}else null!==(r=e.finishedWork)?js(e,r,t):(e.finishedWork=null,-1!==(r=e.timeoutHandle)&&(e.timeoutHandle=-1,Sr(r)),Yo(e,n),null!==(r=e.finishedWork)&&js(e,r,t));is=!1}function js(e,t,n){var r=e.firstBatch;if(null!==r&&r._expirationTime>=n&&(null===ps?ps=[r]:ps.push(r),r._defer))return e.finishedWork=t,void(e.expirationTime=0);e.finishedWork=null,e===ys?ms++:(ys=e,ms=0),a.unstable_runWithPriority(a.unstable_ImmediatePriority,function(){Qo(e,t)})}function As(e){null===as&&o("246"),as.expirationTime=0,ls||(ls=!0,cs=e)}function Ns(e,t){var n=us;us=!0;try{return e(t)}finally{(us=n)||is||Es(1073741823,!1)}}function ks(e,t){if(us&&!ds){ds=!0;try{return e(t)}finally{ds=!1}}return e(t)}function Ls(e,t,n){us||is||0===ss||(Es(ss,!1),ss=0);var r=us;us=!0;try{return a.unstable_runWithPriority(a.unstable_UserBlockingPriority,function(){return e(t,n)})}finally{(us=r)||is||Es(1073741823,!1)}}function Rs(e,t,n,r,i){var a=t.current;e:if(n){t:{2===tn(n=n._reactInternalFiber)&&1===n.tag||o("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(kr(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(null!==s);o("171"),s=void 0}if(1===n.tag){var l=n.type;if(kr(l)){n=Ur(n,l,s);break e}}n=s}else n=xr;return null===t.context?t.context=n:t.pendingContext=n,t=i,(i=qa(r)).payload={element:e},null!==(t=void 0===t?null:t)&&(i.callback=t),Vo(),Xa(a,i),Jo(a,r),r}function _s(e,t,n,r){var i=t.current;return Rs(e,t,n,i=qo(Cs(),i),r)}function Us(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function zs(e){var t=1073741822-25*(1+((1073741822-Cs()+500)/25|0));t>=Po&&(t=Po-1),this._expirationTime=Po=t,this._root=e,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Fs(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Bs(e,t,n){e={current:t=Wr(3,null,null,t?3:0),containerInfo:e,pendingChildren:null,pingCache:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=t.stateNode=e}function Hs(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Vs(e,t,n,r,i){var a=n._reactRootContainer;if(a){if("function"==typeof i){var o=i;i=function(){var e=Us(a._internalRoot);o.call(e)}}null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new Bs(e,!1,t)}(n,r),"function"==typeof i){var s=i;i=function(){var e=Us(a._internalRoot);s.call(e)}}ks(function(){null!=e?a.legacy_renderSubtreeIntoContainer(e,t,i):a.render(t,i)})}return Us(a._internalRoot)}function Qs(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Hs(t)||o("200"),function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Ke,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Pe=function(e,t,n){switch(t){case"input":if(Ct(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=U(r);i||o("90"),Ve(r),Ct(r,i)}}}break;case"textarea":Xn(e,n);break;case"select":null!=(t=n.value)&&Kn(e,!!n.multiple,t,!1)}},zs.prototype.render=function(e){this._defer||o("250"),this._hasChildren=!0,this._children=e;var t=this._root._internalRoot,n=this._expirationTime,r=new Fs;return Rs(e,t,null,n,r._onCommit),r},zs.prototype.then=function(e){if(this._didComplete)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},zs.prototype.commit=function(){var e=this._root._internalRoot,t=e.firstBatch;if(this._defer&&null!==t||o("251"),this._hasChildren){var n=this._expirationTime;if(t!==this){this._hasChildren&&(n=this._expirationTime=t._expirationTime,this.render(this._children));for(var r=null,i=t;i!==this;)r=i,i=i._next;null===r&&o("251"),r._next=i._next,this._next=t,e.firstBatch=this}this._defer=!1,xs(e,n),t=this._next,this._next=null,null!==(t=e.firstBatch=t)&&t._hasChildren&&t.render(t._children)}else this._next=null,this._defer=!1},zs.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++)(0,e[t])()}},Fs.prototype.then=function(e){if(this._didCommit)e();else{var t=this._callbacks;null===t&&(t=this._callbacks=[]),t.push(e)}},Fs.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var e=this._callbacks;if(null!==e)for(var t=0;t<e.length;t++){var n=e[t];"function"!=typeof n&&o("191",n),n()}}},Bs.prototype.render=function(e,t){var n=this._internalRoot,r=new Fs;return null!==(t=void 0===t?null:t)&&r.then(t),_s(e,n,null,r._onCommit),r},Bs.prototype.unmount=function(e){var t=this._internalRoot,n=new Fs;return null!==(e=void 0===e?null:e)&&n.then(e),_s(null,t,null,n._onCommit),n},Bs.prototype.legacy_renderSubtreeIntoContainer=function(e,t,n){var r=this._internalRoot,i=new Fs;return null!==(n=void 0===n?null:n)&&i.then(n),_s(t,r,e,i._onCommit),i},Bs.prototype.createBatch=function(){var e=new zs(this),t=e._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=e,e._next=null;else{for(n=null;null!==r&&r._expirationTime>=t;)n=r,r=r._next;e._next=r,null!==n&&(n._next=e)}return e},Ae=Ns,Ne=Ls,ke=function(){is||0===ss||(Es(ss,!1),ss=0)};var Ws={createPortal:Qs,findDOMNode:function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternalFiber;return void 0===t&&("function"==typeof e.render?o("188"):o("268",Object.keys(e))),e=null===(e=rn(t))?null:e.stateNode},hydrate:function(e,t,n){return Hs(t)||o("200"),Vs(null,e,t,!0,n)},render:function(e,t,n){return Hs(t)||o("200"),Vs(null,e,t,!1,n)},unstable_renderSubtreeIntoContainer:function(e,t,n,r){return Hs(n)||o("200"),(null==e||void 0===e._reactInternalFiber)&&o("38"),Vs(e,t,n,!1,r)},unmountComponentAtNode:function(e){return Hs(e)||o("40"),!!e._reactRootContainer&&(ks(function(){Vs(null,null,e,!1,function(){e._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Qs.apply(void 0,arguments)},unstable_batchedUpdates:Ns,unstable_interactiveUpdates:Ls,flushSync:function(e,t){is&&o("187");var n=us;us=!0;try{return $o(e,t)}finally{us=n,Es(1073741823,!1)}},unstable_createRoot:function(e,t){return Hs(e)||o("299","unstable_createRoot"),new Bs(e,!0,null!=t&&!0===t.hydrate)},unstable_flushControlled:function(e){var t=us;us=!0;try{$o(e)}finally{(us=t)||is||Es(1073741823,!1)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[R,_,U,x.injectEventPluginsByName,y,Q,function(e){P(e,V)},Oe,je,En,j]}};!function(e){var t=e.findFiberByHostInstance;(function(e){if("undefined"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var t=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(t.isDisabled||!t.supportsFiber)return!0;try{var n=t.inject(e);Br=Vr(function(e){return t.onCommitFiberRoot(n,e)}),Hr=Vr(function(e){return t.onCommitFiberUnmount(n,e)})}catch(e){}})(i({},e,{overrideProps:null,currentDispatcherRef:Qe.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=rn(e))?null:e.stateNode},findFiberByHostInstance:function(e){return t?t(e):null}}))}({findFiberByHostInstance:L,bundleType:0,version:"16.8.5",rendererPackageName:"react-dom"});var Gs={default:Ws},Ys=Gs&&Ws||Gs;e.exports=Ys.default||Ys},function(e,t,n){"use strict";e.exports=n(1403)},function(e,t,n){"use strict";(function(e){
/** @license React v0.13.6
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
Object.defineProperty(t,"__esModule",{value:!0});var n=null,r=!1,i=3,a=-1,o=-1,s=!1,l=!1;function c(){if(!s){var e=n.expirationTime;l?M():l=!0,C(p,e)}}function u(){var e=n,t=n.next;if(n===t)n=null;else{var r=n.previous;n=r.next=t,t.previous=r}e.next=e.previous=null,r=e.callback,t=e.expirationTime,e=e.priorityLevel;var a=i,s=o;i=e,o=t;try{var l=r()}finally{i=a,o=s}if("function"==typeof l)if(l={callback:l,priorityLevel:e,expirationTime:t,next:null,previous:null},null===n)n=l.next=l.previous=l;else{r=null,e=n;do{if(e.expirationTime>=t){r=e;break}e=e.next}while(e!==n);null===r?r=n:r===n&&(n=l,c()),(t=r.previous).next=r.previous=l,l.next=r,l.previous=t}}function d(){if(-1===a&&null!==n&&1===n.priorityLevel){s=!0;try{do{u()}while(null!==n&&1===n.priorityLevel)}finally{s=!1,null!==n?c():l=!1}}}function p(e){s=!0;var i=r;r=e;try{if(e)for(;null!==n;){var a=t.unstable_now();if(!(n.expirationTime<=a))break;do{u()}while(null!==n&&n.expirationTime<=a)}else if(null!==n)do{u()}while(null!==n&&!D())}finally{s=!1,r=i,null!==n?c():l=!1,d()}}var h,f,g=Date,v="function"==typeof setTimeout?setTimeout:void 0,m="function"==typeof clearTimeout?clearTimeout:void 0,y="function"==typeof requestAnimationFrame?requestAnimationFrame:void 0,b="function"==typeof cancelAnimationFrame?cancelAnimationFrame:void 0;function S(e){h=y(function(t){m(f),e(t)}),f=v(function(){b(h),e(t.unstable_now())},100)}if("object"==typeof performance&&"function"==typeof performance.now){var I=performance;t.unstable_now=function(){return I.now()}}else t.unstable_now=function(){return g.now()};var C,M,D,w=null;if("undefined"!=typeof window?w=window:void 0!==e&&(w=e),w&&w._schedMock){var P=w._schedMock;C=P[0],M=P[1],D=P[2],t.unstable_now=P[3]}else if("undefined"==typeof window||"function"!=typeof MessageChannel){var T=null,E=function(e){if(null!==T)try{T(e)}finally{T=null}};C=function(e){null!==T?setTimeout(C,0,e):(T=e,setTimeout(E,0,!1))},M=function(){T=null},D=function(){return!1}}else{"undefined"!=typeof console&&("function"!=typeof y&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!=typeof b&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var x=null,O=!1,j=-1,A=!1,N=!1,k=0,L=33,R=33;D=function(){return k<=t.unstable_now()};var _=new MessageChannel,U=_.port2;_.port1.onmessage=function(){O=!1;var e=x,n=j;x=null,j=-1;var r=t.unstable_now(),i=!1;if(0>=k-r){if(!(-1!==n&&n<=r))return A||(A=!0,S(z)),x=e,void(j=n);i=!0}if(null!==e){N=!0;try{e(i)}finally{N=!1}}};var z=function(e){if(null!==x){S(z);var t=e-k+R;t<R&&L<R?(8>t&&(t=8),R=t<L?L:t):L=t,k=e+R,O||(O=!0,U.postMessage(void 0))}else A=!1};C=function(e,t){x=e,j=t,N||0>t?U.postMessage(void 0):A||(A=!0,S(z))},M=function(){x=null,O=!1,j=-1}}t.unstable_ImmediatePriority=1,t.unstable_UserBlockingPriority=2,t.unstable_NormalPriority=3,t.unstable_IdlePriority=5,t.unstable_LowPriority=4,t.unstable_runWithPriority=function(e,n){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=i,o=a;i=e,a=t.unstable_now();try{return n()}finally{i=r,a=o,d()}},t.unstable_next=function(e){switch(i){case 1:case 2:case 3:var n=3;break;default:n=i}var r=i,o=a;i=n,a=t.unstable_now();try{return e()}finally{i=r,a=o,d()}},t.unstable_scheduleCallback=function(e,r){var o=-1!==a?a:t.unstable_now();if("object"==typeof r&&null!==r&&"number"==typeof r.timeout)r=o+r.timeout;else switch(i){case 1:r=o+-1;break;case 2:r=o+250;break;case 5:r=o+1073741823;break;case 4:r=o+1e4;break;default:r=o+5e3}if(e={callback:e,priorityLevel:i,expirationTime:r,next:null,previous:null},null===n)n=e.next=e.previous=e,c();else{o=null;var s=n;do{if(s.expirationTime>r){o=s;break}s=s.next}while(s!==n);null===o?o=n:o===n&&(n=e,c()),(r=o.previous).next=o.previous=e,e.next=o,e.previous=r}return e},t.unstable_cancelCallback=function(e){var t=e.next;if(null!==t){if(t===e)n=null;else{e===n&&(n=t);var r=e.previous;r.next=t,t.previous=r}e.next=e.previous=null}},t.unstable_wrapCallback=function(e){var n=i;return function(){var r=i,o=a;i=n,a=t.unstable_now();try{return e.apply(this,arguments)}finally{i=r,a=o,d()}}},t.unstable_getCurrentPriorityLevel=function(){return i},t.unstable_shouldYield=function(){return!r&&(null!==n&&n.expirationTime<o||D())},t.unstable_continueExecution=function(){null!==n&&c()},t.unstable_pauseExecution=function(){},t.unstable_getFirstCallbackNode=function(){return n}}).call(this,n(177))},function(e,t,n){"use strict";
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&Symbol.for,i=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,o=r?Symbol.for("react.fragment"):60107,s=r?Symbol.for("react.strict_mode"):60108,l=r?Symbol.for("react.profiler"):60114,c=r?Symbol.for("react.provider"):60109,u=r?Symbol.for("react.context"):60110,d=r?Symbol.for("react.async_mode"):60111,p=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,g=r?Symbol.for("react.memo"):60115,v=r?Symbol.for("react.lazy"):60116;function m(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case i:switch(e=e.type){case d:case p:case o:case l:case s:case f:return e;default:switch(e=e&&e.$$typeof){case u:case h:case c:return e;default:return t}}case v:case g:case a:return t}}}function y(e){return m(e)===p}t.typeOf=m,t.AsyncMode=d,t.ConcurrentMode=p,t.ContextConsumer=u,t.ContextProvider=c,t.Element=i,t.ForwardRef=h,t.Fragment=o,t.Lazy=v,t.Memo=g,t.Portal=a,t.Profiler=l,t.StrictMode=s,t.Suspense=f,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===o||e===p||e===l||e===s||e===f||"object"==typeof e&&null!==e&&(e.$$typeof===v||e.$$typeof===g||e.$$typeof===c||e.$$typeof===u||e.$$typeof===h)},t.isAsyncMode=function(e){return y(e)||m(e)===d},t.isConcurrentMode=y,t.isContextConsumer=function(e){return m(e)===u},t.isContextProvider=function(e){return m(e)===c},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===i},t.isForwardRef=function(e){return m(e)===h},t.isFragment=function(e){return m(e)===o},t.isLazy=function(e){return m(e)===v},t.isMemo=function(e){return m(e)===g},t.isPortal=function(e){return m(e)===a},t.isProfiler=function(e){return m(e)===l},t.isStrictMode=function(e){return m(e)===s},t.isSuspense=function(e){return m(e)===f}},function(e,t,n){var r=n(534),i=Object.prototype,a=i.hasOwnProperty,o=i.toString,s=r?r.toStringTag:void 0;e.exports=function(e){var t=a.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=o.call(e);return r&&(t?e[s]=n:delete e[s]),i}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e){for(var t=Object.keys(e),n={},i=0;i<t.length;i++){var o=t[i];"function"==typeof e[o]&&(n[o]=e[o])}var s,l=Object.keys(n);try{!function(e){Object.keys(e).forEach(function(t){var n=e[t],i=n(void 0,{type:r.ActionTypes.INIT});if(void 0===i)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var a="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if(void 0===n(void 0,{type:a}))throw new Error('Reducer "'+t+"\" returned undefined when probed with a random type. Don't try to handle "+r.ActionTypes.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.')})}(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,i={},o=0;o<l.length;o++){var c=l[o],u=n[c],d=e[c],p=u(d,t);if(void 0===p){var h=a(c,t);throw new Error(h)}i[c]=p,r=r||p!==d}return r?i:e}};var r=n(731);i(n(178)),i(n(733));function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){var n=t&&t.type;return"Given action "+(n&&'"'+n.toString()+'"'||"an action")+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}},function(e,t,n){"use strict";function r(e,t){return function(){return t(e.apply(void 0,arguments))}}t.__esModule=!0,t.default=function(e,t){if("function"==typeof e)return r(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(e),i={},a=0;a<n.length;a++){var o=n[a],s=e[o];"function"==typeof s&&(i[o]=r(s,t))}return i}},function(e,t,n){"use strict";t.__esModule=!0;var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,i,a){var s=e(n,i,a),l=s.dispatch,c=[],u={getState:s.getState,dispatch:function(e){return l(e)}};return c=t.map(function(e){return e(u)}),l=o.default.apply(void 0,c)(s.dispatch),r({},s,{dispatch:l})}}};var i,a=n(734),o=(i=a)&&i.__esModule?i:{default:i}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=d(a),s=d(n(4)),l=d(n(1411)),c=d(n(1412)),u=n(1420);function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){return!0},h=function(e){function t(e){var n=e.alwaysRenderSuggestions;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return f.call(r),r.state={isFocused:!1,isCollapsed:!n,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null},r.justPressedUpDown=!1,r.justMouseEntered=!1,r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.onDocumentMouseDown),this.input=this.autowhatever.input,this.suggestionsContainer=this.autowhatever.itemsContainer}},{key:"componentWillReceiveProps",value:function(e){(0,l.default)(e.suggestions,this.props.suggestions)?e.highlightFirstSuggestion&&e.suggestions.length>0&&!1===this.justPressedUpDown&&!1===this.justMouseEntered&&this.highlightFirstSuggestion():this.willRenderSuggestions(e)?this.state.isCollapsed&&!this.justSelectedSuggestion&&this.revealSuggestions():this.resetHighlightedSuggestion()}},{key:"componentDidUpdate",value:function(e,t){var n=this.props,r=n.suggestions,i=n.onSuggestionHighlighted,a=n.highlightFirstSuggestion;if(!(0,l.default)(r,e.suggestions)&&r.length>0&&a)this.highlightFirstSuggestion();else if(i){var o=this.getHighlightedSuggestion();o!=t.highlightedSuggestion&&i({suggestion:o})}}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.onDocumentMouseDown)}},{key:"updateHighlightedSuggestion",value:function(e,t,n){var r=this;this.setState(function(i){var a=i.valueBeforeUpDown;return null===t?a=null:null===a&&void 0!==n&&(a=n),{highlightedSectionIndex:e,highlightedSuggestionIndex:t,highlightedSuggestion:null===t?null:r.getSuggestion(e,t),valueBeforeUpDown:a}})}},{key:"resetHighlightedSuggestion",value:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.setState(function(t){var n=t.valueBeforeUpDown;return{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:e?null:n}})}},{key:"revealSuggestions",value:function(){this.setState({isCollapsed:!1})}},{key:"closeSuggestions",value:function(){this.setState({highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!0})}},{key:"getSuggestion",value:function(e,t){var n=this.props,r=n.suggestions,i=n.multiSection,a=n.getSectionSuggestions;return i?a(r[e])[t]:r[t]}},{key:"getHighlightedSuggestion",value:function(){var e=this.state,t=e.highlightedSectionIndex,n=e.highlightedSuggestionIndex;return null===n?null:this.getSuggestion(t,n)}},{key:"getSuggestionValueByIndex",value:function(e,t){return(0,this.props.getSuggestionValue)(this.getSuggestion(e,t))}},{key:"getSuggestionIndices",value:function(e){var t=e.getAttribute("data-section-index"),n=e.getAttribute("data-suggestion-index");return{sectionIndex:"string"==typeof t?parseInt(t,10):null,suggestionIndex:parseInt(n,10)}}},{key:"findSuggestionElement",value:function(e){var t=e;do{if(null!==t.getAttribute("data-suggestion-index"))return t;t=t.parentNode}while(null!==t);throw console.error("Clicked element:",e),new Error("Couldn't find suggestion element")}},{key:"maybeCallOnChange",value:function(e,t,n){var r=this.props.inputProps,i=r.value,a=r.onChange;t!==i&&a(e,{newValue:t,method:n})}},{key:"willRenderSuggestions",value:function(e){var t=e.suggestions,n=e.inputProps,r=e.shouldRenderSuggestions,i=n.value;return t.length>0&&r(i)}},{key:"getQuery",value:function(){var e=this.props.inputProps.value,t=this.state.valueBeforeUpDown;return(null===t?e:t).trim()}},{key:"render",value:function(){var e=this,t=this.props,n=t.suggestions,i=t.renderInputComponent,a=t.onSuggestionsFetchRequested,s=t.renderSuggestion,l=t.inputProps,d=t.multiSection,h=t.renderSectionTitle,f=t.id,g=t.getSectionSuggestions,v=t.theme,m=t.getSuggestionValue,y=t.alwaysRenderSuggestions,b=t.highlightFirstSuggestion,S=this.state,I=S.isFocused,C=S.isCollapsed,M=S.highlightedSectionIndex,D=S.highlightedSuggestionIndex,w=S.valueBeforeUpDown,P=y?p:this.props.shouldRenderSuggestions,T=l.value,E=l.onFocus,x=l.onKeyDown,O=this.willRenderSuggestions(this.props),j=y||I&&!C&&O,A=j?n:[],N=r({},l,{onFocus:function(t){if(!e.justSelectedSuggestion&&!e.justClickedOnSuggestionsContainer){var n=P(T);e.setState({isFocused:!0,isCollapsed:!n}),E&&E(t),n&&a({value:T,reason:"input-focused"})}},onBlur:function(t){e.justClickedOnSuggestionsContainer?e.input.focus():(e.blurEvent=t,e.justSelectedSuggestion||(e.onBlur(),e.onSuggestionsClearRequested()))},onChange:function(t){var n=t.target.value,i=P(n);e.maybeCallOnChange(t,n,"type"),e.setState(r({},b?{}:{highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null},{valueBeforeUpDown:null,isCollapsed:!i})),i?a({value:n,reason:"input-changed"}):e.onSuggestionsClearRequested()},onKeyDown:function(t,r){var i=t.keyCode;switch(i){case 40:case 38:if(C)P(T)&&(a({value:T,reason:"suggestions-revealed"}),e.revealSuggestions());else if(n.length>0){var o=r.newHighlightedSectionIndex,s=r.newHighlightedItemIndex,l=void 0;l=null===s?null===w?T:w:e.getSuggestionValueByIndex(o,s),e.updateHighlightedSuggestion(o,s,T),e.maybeCallOnChange(t,l,40===i?"down":"up")}t.preventDefault(),e.justPressedUpDown=!0,setTimeout(function(){e.justPressedUpDown=!1});break;case 13:if(229===t.keyCode)break;var c=e.getHighlightedSuggestion();if(j&&!y&&e.closeSuggestions(),null!=c){var u=m(c);e.maybeCallOnChange(t,u,"enter"),e.onSuggestionSelected(t,{suggestion:c,suggestionValue:u,suggestionIndex:D,sectionIndex:M,method:"enter"}),e.justSelectedSuggestion=!0,setTimeout(function(){e.justSelectedSuggestion=!1})}break;case 27:j&&t.preventDefault();var d=j&&!y;if(null===w){if(!d){e.maybeCallOnChange(t,"","escape"),P("")?a({value:"",reason:"escape-pressed"}):e.onSuggestionsClearRequested()}}else e.maybeCallOnChange(t,w,"escape");d?(e.onSuggestionsClearRequested(),e.closeSuggestions()):e.resetHighlightedSuggestion()}x&&x(t)}}),k={query:this.getQuery()};return o.default.createElement(c.default,{multiSection:d,items:A,renderInputComponent:i,renderItemsContainer:this.renderSuggestionsContainer,renderItem:s,renderItemData:k,renderSectionTitle:h,getSectionItems:g,highlightedSectionIndex:M,highlightedItemIndex:D,inputProps:N,itemProps:this.itemProps,theme:(0,u.mapToAutowhateverTheme)(v),id:f,ref:this.storeAutowhateverRef})}}]),t}();h.propTypes={suggestions:s.default.array.isRequired,onSuggestionsFetchRequested:function(e,t){var n=e[t];if("function"!=typeof n)throw new Error("'onSuggestionsFetchRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsFetchRequestedProp")},onSuggestionsClearRequested:function(e,t){var n=e[t];if(!1===e.alwaysRenderSuggestions&&"function"!=typeof n)throw new Error("'onSuggestionsClearRequested' must be implemented. See: https://github.com/moroshko/react-autosuggest#onSuggestionsClearRequestedProp")},onSuggestionSelected:s.default.func,onSuggestionHighlighted:s.default.func,renderInputComponent:s.default.func,renderSuggestionsContainer:s.default.func,getSuggestionValue:s.default.func.isRequired,renderSuggestion:s.default.func.isRequired,inputProps:function(e,t){var n=e[t];if(!n.hasOwnProperty("value"))throw new Error("'inputProps' must have 'value'.");if(!n.hasOwnProperty("onChange"))throw new Error("'inputProps' must have 'onChange'.")},shouldRenderSuggestions:s.default.func,alwaysRenderSuggestions:s.default.bool,multiSection:s.default.bool,renderSectionTitle:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'renderSectionTitle' must be implemented. See: https://github.com/moroshko/react-autosuggest#renderSectionTitleProp")},getSectionSuggestions:function(e,t){var n=e[t];if(!0===e.multiSection&&"function"!=typeof n)throw new Error("'getSectionSuggestions' must be implemented. See: https://github.com/moroshko/react-autosuggest#getSectionSuggestionsProp")},focusInputOnSuggestionClick:s.default.bool,highlightFirstSuggestion:s.default.bool,theme:s.default.object,id:s.default.string},h.defaultProps={renderSuggestionsContainer:function(e){var t=e.containerProps,n=e.children;return o.default.createElement("div",t,n)},shouldRenderSuggestions:function(e){return e.trim().length>0},alwaysRenderSuggestions:!1,multiSection:!1,focusInputOnSuggestionClick:!0,highlightFirstSuggestion:!1,theme:u.defaultTheme,id:"1"};var f=function(){var e=this;this.onDocumentMouseDown=function(t){e.justClickedOnSuggestionsContainer=!1;for(var n=t.detail&&t.detail.target||t.target;null!==n&&n!==document;){if(null!==n.getAttribute("data-suggestion-index"))return;if(n===e.suggestionsContainer)return void(e.justClickedOnSuggestionsContainer=!0);n=n.parentNode}},this.storeAutowhateverRef=function(t){null!==t&&(e.autowhatever=t)},this.onSuggestionMouseEnter=function(t,n){var r=n.sectionIndex,i=n.itemIndex;e.updateHighlightedSuggestion(r,i),e.justMouseEntered=!0,setTimeout(function(){e.justMouseEntered=!1})},this.highlightFirstSuggestion=function(){e.updateHighlightedSuggestion(e.props.multiSection?0:null,0)},this.onSuggestionMouseDown=function(){e.justSelectedSuggestion=!0},this.onSuggestionsClearRequested=function(){var t=e.props.onSuggestionsClearRequested;t&&t()},this.onSuggestionSelected=function(t,n){var r=e.props,i=r.alwaysRenderSuggestions,a=r.onSuggestionSelected,o=r.onSuggestionsFetchRequested;a&&a(t,n),i?o({value:n.suggestionValue,reason:"suggestion-selected"}):e.onSuggestionsClearRequested(),e.resetHighlightedSuggestion()},this.onSuggestionClick=function(t){var n=e.props,r=n.alwaysRenderSuggestions,i=n.focusInputOnSuggestionClick,a=e.getSuggestionIndices(e.findSuggestionElement(t.target)),o=a.sectionIndex,s=a.suggestionIndex,l=e.getSuggestion(o,s),c=e.props.getSuggestionValue(l);e.maybeCallOnChange(t,c,"click"),e.onSuggestionSelected(t,{suggestion:l,suggestionValue:c,suggestionIndex:s,sectionIndex:o,method:"click"}),r||e.closeSuggestions(),!0===i?e.input.focus():e.onBlur(),setTimeout(function(){e.justSelectedSuggestion=!1})},this.onBlur=function(){var t=e.props,n=t.inputProps,r=t.shouldRenderSuggestions,i=n.value,a=n.onBlur,o=e.getHighlightedSuggestion(),s=r(i);e.setState({isFocused:!1,highlightedSectionIndex:null,highlightedSuggestionIndex:null,highlightedSuggestion:null,valueBeforeUpDown:null,isCollapsed:!s}),a&&a(e.blurEvent,{highlightedSuggestion:o})},this.resetHighlightedSuggestionOnMouseLeave=function(){e.resetHighlightedSuggestion(!1)},this.itemProps=function(t){return{"data-section-index":t.sectionIndex,"data-suggestion-index":t.itemIndex,onMouseEnter:e.onSuggestionMouseEnter,onMouseLeave:e.resetHighlightedSuggestionOnMouseLeave,onMouseDown:e.onSuggestionMouseDown,onTouchStart:e.onSuggestionMouseDown,onClick:e.onSuggestionClick}},this.renderSuggestionsContainer=function(t){var n=t.containerProps,r=t.children;return(0,e.props.renderSuggestionsContainer)({containerProps:n,children:r,query:e.getQuery()})}};t.default=h},function(e,t,n){"use strict";e.exports=function(e,t){if(e===t)return!0;if(!e||!t)return!1;var n=e.length;if(t.length!==n)return!1;for(var r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}},function(e,t,n){"use strict";e.exports=n(1413).default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(1),s=h(o),l=h(n(4)),c=h(n(1414)),u=h(n(1415)),d=h(n(1417)),p=h(n(1418));function h(e){return e&&e.__esModule?e:{default:e}}var f={},g=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.storeInputReference=function(e){null!==e&&(n.input=e)},n.storeItemsContainerReference=function(e){null!==e&&(n.itemsContainer=e)},n.onHighlightedItemChange=function(e){n.highlightedItem=e},n.getItemId=function(e,t){return null===t?null:"react-autowhatever-"+n.props.id+"-"+(null===e?"":"section-"+e)+"-item-"+t},n.onFocus=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!0}),t.onFocus&&t.onFocus(e)},n.onBlur=function(e){var t=n.props.inputProps;n.setState({isInputFocused:!1}),t.onBlur&&t.onBlur(e)},n.onKeyDown=function(e){var t=n.props,r=t.inputProps,a=t.highlightedSectionIndex,o=t.highlightedItemIndex;switch(e.key){case"ArrowDown":case"ArrowUp":var s="ArrowDown"===e.key?"next":"prev",l=n.sectionIterator[s]([a,o]),c=i(l,2),u=c[0],d=c[1];r.onKeyDown(e,{newHighlightedSectionIndex:u,newHighlightedItemIndex:d});break;default:r.onKeyDown(e,{highlightedSectionIndex:a,highlightedItemIndex:o})}},n.highlightedItem=null,n.state={isInputFocused:!1},n.setSectionsItems(e),n.setSectionIterator(e),n.setTheme(e),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.Component),a(t,[{key:"componentDidMount",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"componentWillReceiveProps",value:function(e){e.items!==this.props.items&&this.setSectionsItems(e),e.items===this.props.items&&e.multiSection===this.props.multiSection||this.setSectionIterator(e),e.theme!==this.props.theme&&this.setTheme(e)}},{key:"componentDidUpdate",value:function(){this.ensureHighlightedItemIsVisible()}},{key:"setSectionsItems",value:function(e){e.multiSection&&(this.sectionsItems=e.items.map(function(t){return e.getSectionItems(t)}),this.sectionsLengths=this.sectionsItems.map(function(e){return e.length}),this.allSectionsAreEmpty=this.sectionsLengths.every(function(e){return 0===e}))}},{key:"setSectionIterator",value:function(e){this.sectionIterator=(0,c.default)({multiSection:e.multiSection,data:e.multiSection?this.sectionsLengths:e.items.length})}},{key:"setTheme",value:function(e){this.theme=(0,u.default)(e.theme)}},{key:"renderSections",value:function(){var e=this;if(this.allSectionsAreEmpty)return null;var t=this.theme,n=this.props,r=n.id,i=n.items,a=n.renderItem,o=n.renderItemData,l=n.renderSectionTitle,c=n.highlightedSectionIndex,u=n.highlightedItemIndex,h=n.itemProps;return i.map(function(n,i){var f="react-autowhatever-"+r+"-",g=f+"section-"+i+"-",v=0===i;return s.default.createElement("div",t(g+"container","sectionContainer",v&&"sectionContainerFirst"),s.default.createElement(d.default,{section:n,renderSectionTitle:l,theme:t,sectionKeyPrefix:g}),s.default.createElement(p.default,{items:e.sectionsItems[i],itemProps:h,renderItem:a,renderItemData:o,sectionIndex:i,highlightedItemIndex:c===i?u:null,onHighlightedItemChange:e.onHighlightedItemChange,getItemId:e.getItemId,theme:t,keyPrefix:f,ref:e.storeItemsListReference}))})}},{key:"renderItems",value:function(){var e=this.props.items;if(0===e.length)return null;var t=this.theme,n=this.props,r=n.id,i=n.renderItem,a=n.renderItemData,o=n.highlightedSectionIndex,l=n.highlightedItemIndex,c=n.itemProps;return s.default.createElement(p.default,{items:e,itemProps:c,renderItem:i,renderItemData:a,highlightedItemIndex:null===o?l:null,onHighlightedItemChange:this.onHighlightedItemChange,getItemId:this.getItemId,theme:t,keyPrefix:"react-autowhatever-"+r+"-"})}},{key:"ensureHighlightedItemIsVisible",value:function(){var e=this.highlightedItem;if(e){var t=this.itemsContainer,n=e.offsetParent===t?e.offsetTop:e.offsetTop-t.offsetTop,r=t.scrollTop;n<r?r=n:n+e.offsetHeight>r+t.offsetHeight&&(r=n+e.offsetHeight-t.offsetHeight),r!==t.scrollTop&&(t.scrollTop=r)}}},{key:"render",value:function(){var e=this.theme,t=this.props,n=t.id,i=t.multiSection,a=t.renderInputComponent,o=t.renderItemsContainer,l=t.highlightedSectionIndex,c=t.highlightedItemIndex,u=this.state.isInputFocused,d=i?this.renderSections():this.renderItems(),p=null!==d,h=this.getItemId(l,c),f="react-autowhatever-"+n,g=r({role:"combobox","aria-haspopup":"listbox","aria-owns":f,"aria-expanded":p},e("react-autowhatever-"+n+"-container","container",p&&"containerOpen"),this.props.containerProps),v=a(r({type:"text",value:"",autoComplete:"off","aria-autocomplete":"list","aria-controls":f,"aria-activedescendant":h},e("react-autowhatever-"+n+"-input","input",p&&"inputOpen",u&&"inputFocused"),this.props.inputProps,{onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.props.inputProps.onKeyDown&&this.onKeyDown,ref:this.storeInputReference})),m=o({containerProps:r({id:f,role:"listbox"},e("react-autowhatever-"+n+"-items-container","itemsContainer",p&&"itemsContainerOpen"),{ref:this.storeItemsContainerReference}),children:d});return s.default.createElement("div",g,v,m)}}]),t}();g.propTypes={id:l.default.string,multiSection:l.default.bool,renderInputComponent:l.default.func,renderItemsContainer:l.default.func,items:l.default.array.isRequired,renderItem:l.default.func,renderItemData:l.default.object,renderSectionTitle:l.default.func,getSectionItems:l.default.func,containerProps:l.default.object,inputProps:l.default.object,itemProps:l.default.oneOfType([l.default.object,l.default.func]),highlightedSectionIndex:l.default.number,highlightedItemIndex:l.default.number,theme:l.default.oneOfType([l.default.object,l.default.array])},g.defaultProps={id:"1",multiSection:!1,renderInputComponent:function(e){return s.default.createElement("input",e)},renderItemsContainer:function(e){var t=e.containerProps,n=e.children;return s.default.createElement("div",t,n)},renderItem:function(){throw new Error("`renderItem` must be provided")},renderItemData:f,renderSectionTitle:function(){throw new Error("`renderSectionTitle` must be provided")},getSectionItems:function(){throw new Error("`getSectionItems` must be provided")},containerProps:f,inputProps:f,itemProps:f,highlightedSectionIndex:null,highlightedItemIndex:null,theme:{container:"react-autowhatever__container",containerOpen:"react-autowhatever__container--open",input:"react-autowhatever__input",inputOpen:"react-autowhatever__input--open",inputFocused:"react-autowhatever__input--focused",itemsContainer:"react-autowhatever__items-container",itemsContainerOpen:"react-autowhatever__items-container--open",itemsList:"react-autowhatever__items-list",item:"react-autowhatever__item",itemFirst:"react-autowhatever__item--first",itemHighlighted:"react-autowhatever__item--highlighted",sectionContainer:"react-autowhatever__section-container",sectionContainerFirst:"react-autowhatever__section-container--first",sectionTitle:"react-autowhatever__section-title"}},t.default=g},function(e,t,n){"use strict";var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.exports=function(e){var t=e.data,n=e.multiSection;function i(e){var i=r(e,2),a=i[0],o=i[1];return n?null===o||o===t[a]-1?null===(a=function(e){for(null===e?e=0:e++;e<t.length&&0===t[e];)e++;return e===t.length?null:e}(a))?[null,null]:[a,0]:[a,o+1]:0===t||o===t-1?[null,null]:null===o?[null,0]:[null,o+1]}return{next:i,prev:function(e){var i=r(e,2),a=i[0],o=i[1];return n?null===o||0===o?null===(a=function(e){for(null===e?e=t.length-1:e--;e>=0&&0===t[e];)e--;return-1===e?null:e}(a))?[null,null]:[a,t[a]-1]:[a,o-1]:0===t||0===o?[null,null]:null===o?[null,t-1]:[null,o-1]},isLast:function(e){return null===i(e)[1]}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){return function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw a}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();function i(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var a,o=n(1416),s=(a=o)&&a.__esModule?a:{default:a},l=function(e){return e};t.default=function(e){var t=Array.isArray(e)&&2===e.length?e:[e,null],n=r(t,2),a=n[0],o=n[1];return function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var c=n.map(function(e){return a[e]}).filter(l);return"string"==typeof c[0]||"function"==typeof o?{key:e,className:o?o.apply(void 0,i(c)):c.join(" ")}:{key:e,style:s.default.apply(void 0,[{}].concat(i(c)))}}},e.exports=t.default},function(e,t,n){"use strict";var r=Object.prototype.propertyIsEnumerable;function i(e){var t=Object.getOwnPropertyNames(e);return Object.getOwnPropertySymbols&&(t=t.concat(Object.getOwnPropertySymbols(e))),t.filter(function(t){return r.call(e,t)})}e.exports=Object.assign||function(e,t){for(var n,r,a=function(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),o=1;o<arguments.length;o++){n=arguments[o],r=i(Object(n));for(var s=0;s<r.length;s++)a[r[s]]=n[r[s]]}return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n(1),a=l(i),o=l(n(4)),s=l(n(566));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.Component),r(t,[{key:"shouldComponentUpdate",value:function(e){return(0,s.default)(e,this.props)}},{key:"render",value:function(){var e=this.props,t=e.section,n=e.renderSectionTitle,r=e.theme,i=e.sectionKeyPrefix,o=n(t);return o?a.default.createElement("div",r(i+"title","sectionTitle"),o):null}}]),t}();c.propTypes={section:o.default.any.isRequired,renderSectionTitle:o.default.func.isRequired,theme:o.default.func.isRequired,sectionKeyPrefix:o.default.string.isRequired},t.default=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=u(a),s=u(n(4)),l=u(n(1419)),c=u(n(566));function u(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var p=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=d(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.storeHighlightedItemReference=function(e){r.props.onHighlightedItemChange(null===e?null:e.item)},d(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,c.default)(e,this.props,["itemProps"])}},{key:"render",value:function(){var e=this,t=this.props,n=t.items,i=t.itemProps,a=t.renderItem,s=t.renderItemData,c=t.sectionIndex,u=t.highlightedItemIndex,d=t.getItemId,p=t.theme,h=t.keyPrefix,f=null===c?h:h+"section-"+c+"-",g="function"==typeof i;return o.default.createElement("ul",r({role:"listbox"},p(f+"items-list","itemsList")),n.map(function(t,n){var h=0===n,v=n===u,m=f+"item-"+n,y=g?i({sectionIndex:c,itemIndex:n}):i,b=r({id:d(c,n),"aria-selected":v},p(m,"item",h&&"itemFirst",v&&"itemHighlighted"),y);return v&&(b.ref=e.storeHighlightedItemReference),o.default.createElement(l.default,r({},b,{sectionIndex:c,isHighlighted:v,itemIndex:n,item:t,renderItem:a,renderItemData:s}))}))}}]),t}();p.propTypes={items:s.default.array.isRequired,itemProps:s.default.oneOfType([s.default.object,s.default.func]),renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,sectionIndex:s.default.number,highlightedItemIndex:s.default.number,onHighlightedItemChange:s.default.func.isRequired,getItemId:s.default.func.isRequired,theme:s.default.func.isRequired,keyPrefix:s.default.string.isRequired},p.defaultProps={sectionIndex:null},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(1),o=c(a),s=c(n(4)),l=c(n(566));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var d=function(e){function t(){var e,n,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);for(var i=arguments.length,a=Array(i),o=0;o<i;o++)a[o]=arguments[o];return n=r=u(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(a))),r.storeItemReference=function(e){null!==e&&(r.item=e)},r.onMouseEnter=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseEnter(e,{sectionIndex:n,itemIndex:i})},r.onMouseLeave=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseLeave(e,{sectionIndex:n,itemIndex:i})},r.onMouseDown=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onMouseDown(e,{sectionIndex:n,itemIndex:i})},r.onClick=function(e){var t=r.props,n=t.sectionIndex,i=t.itemIndex;r.props.onClick(e,{sectionIndex:n,itemIndex:i})},u(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.Component),i(t,[{key:"shouldComponentUpdate",value:function(e){return(0,l.default)(e,this.props,["renderItemData"])}},{key:"render",value:function(){var e=this.props,t=e.isHighlighted,n=e.item,i=e.renderItem,a=e.renderItemData,s=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["isHighlighted","item","renderItem","renderItemData"]);return delete s.sectionIndex,delete s.itemIndex,"function"==typeof s.onMouseEnter&&(s.onMouseEnter=this.onMouseEnter),"function"==typeof s.onMouseLeave&&(s.onMouseLeave=this.onMouseLeave),"function"==typeof s.onMouseDown&&(s.onMouseDown=this.onMouseDown),"function"==typeof s.onClick&&(s.onClick=this.onClick),o.default.createElement("li",r({role:"option"},s,{ref:this.storeItemReference}),i(n,r({isHighlighted:t},a)))}}]),t}();d.propTypes={sectionIndex:s.default.number,isHighlighted:s.default.bool.isRequired,itemIndex:s.default.number.isRequired,item:s.default.any.isRequired,renderItem:s.default.func.isRequired,renderItemData:s.default.object.isRequired,onMouseEnter:s.default.func,onMouseLeave:s.default.func,onMouseDown:s.default.func,onClick:s.default.func},t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultTheme={container:"react-autosuggest__container",containerOpen:"react-autosuggest__container--open",input:"react-autosuggest__input",inputOpen:"react-autosuggest__input--open",inputFocused:"react-autosuggest__input--focused",suggestionsContainer:"react-autosuggest__suggestions-container",suggestionsContainerOpen:"react-autosuggest__suggestions-container--open",suggestionsList:"react-autosuggest__suggestions-list",suggestion:"react-autosuggest__suggestion",suggestionFirst:"react-autosuggest__suggestion--first",suggestionHighlighted:"react-autosuggest__suggestion--highlighted",sectionContainer:"react-autosuggest__section-container",sectionContainerFirst:"react-autosuggest__section-container--first",sectionTitle:"react-autosuggest__section-title"},t.mapToAutowhateverTheme=function(e){var t={};for(var n in e)switch(n){case"suggestionsContainer":t.itemsContainer=e[n];break;case"suggestionsContainerOpen":t.itemsContainerOpen=e[n];break;case"suggestion":t.item=e[n];break;case"suggestionFirst":t.itemFirst=e[n];break;case"suggestionHighlighted":t.itemHighlighted=e[n];break;case"suggestionsList":t.itemsList=e[n];break;default:t[n]=e[n]}return t}},function(e,t,n){var r=n(117).default,i=n(139);e.exports=i(r)},function(e,t,n){var r=n(163).default,i=n(139);e.exports=i(r)},function(e,t,n){(function(r){var i,a,o,s,l,c,u,d,p;o={id:"sifter",exports:{},loaded:!1},i="function"==typeof(a=function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=i(String(e||"").toLowerCase()))||!e.length)return[];var t,n,r,o,l=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(r=a(c[t]),this.settings.diacritics)for(o in s)s.hasOwnProperty(o)&&(r=r.replace(new RegExp(o,"g"),s[o]));l.push({string:c[t],regex:new RegExp(r,"i")})}return l},e.prototype.iterator=function(e,t){(o(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)}).apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,i;e=this.prepareSearch(e,t),r=e.tokens,n=e.options.fields,i=r.length;var a,o=function(e,t){var n,r;return e?(e=String(e||""),-1===(r=e.search(t.regex))?0:(n=t.string.length/e.length,0===r&&(n+=.5),n)):0},s=(a=n.length)?1===a?function(e,t){return o(t[n[0]],e)}:function(e,t){for(var r=0,i=0;r<a;r++)i+=o(t[n[r]],e);return i/a}:function(){return 0};return i?1===i?function(e){return s(r[0],e)}:"and"===e.options.conjunction?function(e){for(var t,n=0,a=0;n<i;n++){if((t=s(r[n],e))<=0)return 0;a+=t}return a/i}:function(e){for(var t=0,n=0;t<i;t++)n+=s(r[t],e);return n/i}:function(){return 0}},e.prototype.getSortFunction=function(e,n){var r,i,a,o,s,l,c,u,d,p,h;if(e=(a=this).prepareSearch(e,n),h=!e.query&&n.sort_empty||n.sort,d=function(e,t){return"$score"===e?t.score:a.items[t.id][e]},s=[],h)for(r=0,i=h.length;r<i;r++)(e.query||"$score"!==h[r].field)&&s.push(h[r]);if(e.query){for(p=!0,r=0,i=s.length;r<i;r++)if("$score"===s[r].field){p=!1;break}p&&s.unshift({field:"$score",direction:"desc"})}else for(r=0,i=s.length;r<i;r++)if("$score"===s[r].field){s.splice(r,1);break}for(u=[],r=0,i=s.length;r<i;r++)u.push("desc"===s[r].direction?-1:1);return(l=s.length)?1===l?(o=s[0].field,c=u[0],function(e,n){return c*t(d(o,e),d(o,n))}):function(e,n){var r,i,a;for(r=0;r<l;r++)if(a=s[r].field,i=u[r]*t(d(a,e),d(a,n)))return i;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;var r=(t=n({},t)).fields,i=t.sort,a=t.sort_empty;return r&&!o(r)&&(t.fields=[r]),i&&!o(i)&&(t.sort=[i]),a&&!o(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n,r,i,a;return r=this.prepareSearch(e,t),t=r.options,e=r.query,a=t.score||this.getScoreFunction(r),e.length?this.iterator(this.items,function(e,i){n=a(e),(!1===t.filter||n>0)&&r.items.push({score:n,id:i})}):this.iterator(this.items,function(e,t){r.items.push({score:1,id:t})}),(i=this.getSortFunction(r,t))&&r.items.sort(i),r.total=r.items.length,"number"==typeof t.limit&&(r.items=r.items.slice(0,t.limit)),r};var t=function(e,t){return"number"==typeof e&&"number"==typeof t?e>t?1:e<t?-1:0:(e=l(String(e||"")),t=l(String(t||"")),e>t?1:t>e?-1:0)},n=function(e,t){var n,r,i,a;for(n=1,r=arguments.length;n<r;n++)if(a=arguments[n])for(i in a)a.hasOwnProperty(i)&&(e[i]=a[i]);return e},i=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},a=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},o=Array.isArray||r&&r.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},s={a:"[a]",c:"[c]",d:"[d]",e:"[e]",i:"[i]",l:"[l]",n:"[n]",o:"[o]",r:"[r]",s:"[s]",t:"[t]",u:"[u]",y:"[y]",z:"[z]"},l=function(){var e,t,n,r,i="",a={};for(n in s)if(s.hasOwnProperty(n))for(r=s[n].substring(2,s[n].length-1),i+=r,e=0,t=r.length;e<t;e++)a[r.charAt(e)]=n;var o=new RegExp("["+i+"]","g");return function(e){return e.replace(o,function(e){return a[e]}).toLowerCase()}}();return e})?a.call(o.exports,n,o.exports,o):a,o.loaded=!0,void 0!==i||(i=o.exports),c={id:"microplugin",exports:{},loaded:!1},s="function"==typeof(l=function(){var e={mixin:function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,i,a=[];if(this.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;n<r;n++)"string"==typeof e[n]?a.push(e[n]):(this.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(i in e)e.hasOwnProperty(i)&&(this.plugins.settings[i]=e[i],a.push(i));for(;a.length;)this.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this.plugins,r=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');n.requested[t]=!0,n.loaded[t]=r.fn.apply(this,[this.plugins.settings[t]||{}]),n.names.push(t)},e.prototype.require=function(e){var t=this.plugins;if(!this.plugins.loaded.hasOwnProperty(e)){if(t.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');this.loadPlugin(e)}return t.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}}},t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e})?l.call(c.exports,n,c.exports,c):l,c.loaded=!0,void 0!==s||(s=c.exports),d=[n(8),i,s],void 0===(p="function"==typeof(u=function(e,t,n){"use strict";var r=function(e,t){if("string"!=typeof t||t.length){var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var i=e.data.search(n);if(i>=0&&e.data.length>0){var a=e.data.match(n),o=document.createElement("span");o.className="highlight";var s=e.splitText(i),l=(s.splitText(a[0].length),s.cloneNode(!0));o.appendChild(l),s.parentNode.replaceChild(o,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var c=0;c<e.childNodes.length;++c)c+=r(e.childNodes[c]);return t};return e.each(function(){r(this)})}},i=function(){};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;return 0===n?delete this._events:1===n?delete this._events[e]:(this._events=this._events||{},void(e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)))},trigger:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=i.prototype[t[n]]};var a=/Mac/.test(navigator.userAgent),o=a?91:17,s=a?18:17,l=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,c=function(e){return void 0!==e},u=function(e){return null==e?null:"boolean"==typeof e?e?"1":"0":e+""},d=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},p=function(e){return(e+"").replace(/\$/g,"$$$$")},h=function(e,t,n){var r,i=e.trigger,a={};for(r in e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return i.apply(e,arguments);a[n]=arguments},n.apply(e,[]),e.trigger=i,a)a.hasOwnProperty(r)&&i.apply(e,a[r])},f=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},g=function(n,r){var i,a,o,s;(s=n[0]).selectize=this;var l,c,u,d=window.getComputedStyle&&window.getComputedStyle(s,null);if(o=(o=d?d.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction)||n.parents("[dir]:first").attr("dir")||"",e.extend(this,{order:0,settings:r,$input:n,tabIndex:n.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(o),eventNS:".selectize"+ ++g.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:n.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===r.loadThrottle?this.onSearchChange:(l=this.onSearchChange,c=r.loadThrottle,function(){var e=this,t=arguments;window.clearTimeout(u),u=window.setTimeout(function(){l.apply(e,t)},c)})}),this.sifter=new t(this.options,{diacritics:r.diacritics}),this.settings.options){for(i=0,a=this.settings.options.length;i<a;i++)this.registerOption(this.settings.options[i]);delete this.settings.options}if(this.settings.optgroups){for(i=0,a=this.settings.optgroups.length;i<a;i++)this.registerOptionGroup(this.settings.optgroups[i]);delete this.settings.optgroups}this.settings.mode=this.settings.mode||(1===this.settings.maxItems?"single":"multi"),"boolean"!=typeof this.settings.hideSelected&&(this.settings.hideSelected="multi"===this.settings.mode),this.initializePlugins(this.settings.plugins),this.setupCallbacks(),this.setupTemplates(),this.setup()};return i.mixin(g),n.mixin(g),e.extend(g.prototype,{setup:function(){var t,n,r,i,c,u,d,p,h,g,v,m,y,b=this,S=b.settings,I=b.eventNS,C=e(window),M=e(document),D=b.$input;if(d=b.settings.mode,p=D.attr("class")||"",t=e("<div>").addClass(S.wrapperClass).addClass(p).addClass(d),n=e("<div>").addClass(S.inputClass).addClass("items").appendTo(t),r=e('<input type="text" autocomplete="off" />').appendTo(n).attr("tabindex",D.is(":disabled")?"-1":b.tabIndex),u=e(S.dropdownParent||t),i=e("<div>").addClass(S.dropdownClass).addClass(d).hide().appendTo(u),c=e("<div>").addClass(S.dropdownContentClass).appendTo(i),b.settings.copyClassesToDropdown&&i.addClass(p),t.css({width:D[0].style.width}),b.plugins.names.length&&(h="plugin-"+b.plugins.names.join(" plugin-"),t.addClass(h),i.addClass(h)),(null===S.maxItems||S.maxItems>1)&&1===b.tagType&&D.attr("multiple","multiple"),b.settings.placeholder&&r.attr("placeholder",S.placeholder),!b.settings.splitOn&&b.settings.delimiter){var w=b.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");b.settings.splitOn=new RegExp("\\s*"+w+"+\\s*")}D.attr("autocorrect")&&r.attr("autocorrect",D.attr("autocorrect")),D.attr("autocapitalize")&&r.attr("autocapitalize",D.attr("autocapitalize")),b.$wrapper=t,b.$control=n,b.$control_input=r,b.$dropdown=i,b.$dropdown_content=c,i.on("mouseenter","[data-selectable]",function(){return b.onOptionHover.apply(b,arguments)}),i.on("mousedown click","[data-selectable]",function(){return b.onOptionSelect.apply(b,arguments)}),v="mousedown",m="*:not(input)",y=function(){return b.onItemSelect.apply(b,arguments)},(g=n).on(v,m,function(e){for(var t=e.target;t&&t.parentNode!==g[0];)t=t.parentNode;return e.currentTarget=t,y.apply(this,[e])}),b.settings.manualInputWidth||function(t){var n=null,r=function(r,i){var a,o,s,l,c,u,d,p;r=r||window.event||{},i=i||{},r.metaKey||r.altKey||(i.force||!1!==t.data("grow"))&&(a=t.val(),r.type&&"keydown"===r.type.toLowerCase()&&(o=r.keyCode,s=o>=97&&o<=122||o>=65&&o<=90||o>=48&&o<=57||32===o,46===o||8===o?(p=f(t[0])).length?a=a.substring(0,p.start)+a.substring(p.start+p.length):8===o&&p.start?a=a.substring(0,p.start-1)+a.substring(p.start+1):46===o&&void 0!==p.start&&(a=a.substring(0,p.start)+a.substring(p.start+1)):s&&(u=r.shiftKey,d=String.fromCharCode(r.keyCode),d=u?d.toUpperCase():d.toLowerCase(),a+=d)),l=t.attr("placeholder"),!a&&l&&(a=l),(c=function(t,n){if(!t)return 0;var r=e("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(t).appendTo("body");!function(e,t,n){var r,i,a={};if(n)for(r=0,i=n.length;r<i;r++)a[n[r]]=e.css(n[r]);else a=e.css();t.css(a)}(n,r,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var i=r.width();return r.remove(),i}(a,t)+4)!==n&&(n=c,t.width(c),t.triggerHandler("resize")))};t.on("keydown keyup update blur",r),r()}(r),n.on({mousedown:function(){return b.onMouseDown.apply(b,arguments)},click:function(){return b.onClick.apply(b,arguments)}}),r.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return b.onKeyDown.apply(b,arguments)},keyup:function(){return b.onKeyUp.apply(b,arguments)},keypress:function(){return b.onKeyPress.apply(b,arguments)},resize:function(){b.positionDropdown.apply(b,[])},blur:function(){return b.onBlur.apply(b,arguments)},focus:function(){return b.ignoreBlur=!1,b.onFocus.apply(b,arguments)},paste:function(){return b.onPaste.apply(b,arguments)}}),D.parents().last().find('label[for="'+D.attr("id")+'"]').on("click",function(){b.onClick.apply(b,arguments)}),M.on("keydown"+I,function(e){b.isCmdDown=e[a?"metaKey":"ctrlKey"],b.isCtrlDown=e[a?"altKey":"ctrlKey"],b.isShiftDown=e.shiftKey}),M.on("keyup"+I,function(e){e.keyCode===s&&(b.isCtrlDown=!1),16===e.keyCode&&(b.isShiftDown=!1),e.keyCode===o&&(b.isCmdDown=!1)}),M.on("mousedown"+I,function(e){if(b.isFocused){if(e.target===b.$dropdown[0]||e.target.parentNode===b.$dropdown[0])return!1;b.$control.has(e.target).length||e.target===b.$control[0]||b.blur(e.target)}}),C.on(["scroll"+I,"resize"+I].join(" "),function(){b.isOpen&&b.positionDropdown.apply(b,arguments)}),C.on("mousemove"+I,function(){b.ignoreHover=!1}),this.revertSettings={$children:D.children().detach(),tabindex:D.attr("tabindex")},D.attr("tabindex",-1).hide().after(b.$wrapper),e.isArray(S.items)&&(b.setValue(S.items),delete S.items),l&&D.on("invalid"+I,function(e){e.preventDefault(),b.isInvalid=!0,b.refreshState()}),b.updateOriginalInput(),b.refreshItems(),b.refreshState(),b.updatePlaceholder(),b.isSetup=!0,D.is(":disabled")&&b.disable(),b.on("change",this.onChange),D.data("selectize",b),D.addClass("selectized"),b.trigger("initialize"),!0===S.preload&&b.onSearchChange("")},setupTemplates:function(){var t=this.settings.labelField,n=this.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,n){return'<div class="option">'+n(e[t])+"</div>"},item:function(e,n){return'<div class="item">'+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};this.settings.render=e.extend({},r,this.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){this.isFocused||(this.focus(),e.preventDefault())},onMouseDown:function(t){var n=this,r=t.isDefaultPrevented();if(e(t.target),n.isFocused){if(t.target!==n.$control_input[0])return"single"===n.settings.mode&&t.target!==n.$control[0]?n.isOpen?n.close():n.open():r||n.setActiveItem(null),!1}else r||window.setTimeout(function(){n.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(t){var n=this;n.isFull()||n.isInputHidden||n.isLocked?t.preventDefault():n.settings.splitOn&&setTimeout(function(){for(var t=e.trim(n.$control_input.val()||"").split(n.settings.splitOn),r=0,i=t.length;r<i;r++)n.createItem(t[r])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);return this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter?(this.createItem(),e.preventDefault(),!1):void 0},onKeyDown:function(e){if(e.target,this.$control_input[0],this.isLocked)9!==e.keyCode&&e.preventDefault();else{switch(e.keyCode){case 65:if(this.isCmdDown)return void this.selectAll();break;case 27:return void(this.isOpen&&(e.preventDefault(),e.stopPropagation(),this.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!this.isOpen&&this.hasOptions)this.open();else if(this.$activeOption){this.ignoreHover=!0;var t=this.getAdjacentOption(this.$activeOption,1);t.length&&this.setActiveOption(t,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(this.$activeOption){this.ignoreHover=!0;var n=this.getAdjacentOption(this.$activeOption,-1);n.length&&this.setActiveOption(n,!0,!0)}return void e.preventDefault();case 13:return void(this.isOpen&&this.$activeOption&&(this.onOptionSelect({currentTarget:this.$activeOption}),e.preventDefault()));case 37:return void this.advanceSelection(-1,e);case 39:return void this.advanceSelection(1,e);case 9:return void(this.settings.selectOnTab&&this.isOpen&&this.$activeOption?(this.onOptionSelect({currentTarget:this.$activeOption}),this.settings.allowCreateEmpty&&1===this.settings.maxItems||this.isFull()||e.preventDefault()):this.settings.create&&this.createItem()&&e.preventDefault());case 8:return void this.deleteSelection(e,!0);case 46:return void this.deleteSelection(e)}!this.isFull()&&!this.isInputHidden||(a?e.metaKey:e.ctrlKey)||e.preventDefault()}},onKeyUp:function(e){if(this.isLocked)return e&&e.preventDefault();var t=this.$control_input.val()||"";this.lastValue!==t&&(this.lastValue=t,this.onSearchChange(t),this.refreshOptions(),this.trigger("type",t))},onSearchChange:function(e){var t=this,n=t.settings.load;n&&(t.loadedSearches.hasOwnProperty(e)||(t.loadedSearches[e]=!0,t.load(function(r){n.apply(t,[e,r])})))},onFocus:function(e){var t=this.isFocused;if(this.isDisabled)return this.blur(),e&&e.preventDefault(),!1;this.ignoreFocus||(this.isFocused=!0,"focus"===this.settings.preload&&this.onSearchChange(""),t||this.trigger("focus"),this.$activeItems.length||(this.showInput(),this.setActiveItem(null),this.refreshOptions(!!this.settings.openOnFocus)),this.refreshState())},onBlur:function(e,t){var n=this;if(n.isFocused&&(n.isFocused=!1,!n.ignoreFocus))return n.ignoreBlur||document.activeElement!==n.$dropdown_content[0]?void setTimeout(function(){var e=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.selectOnBlur&&n.$activeOption&&1===n.$activeOption.not(".create").length?(n.addItem(n.$activeOption.not(".create").data("value")),e()):n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,e):e()}):(n.ignoreBlur=!0,void n.onFocus(e))},onOptionHover:function(e){this.ignoreHover||this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(t){var n,r,i=this;t.preventDefault&&(t.preventDefault(),t.stopPropagation()),(r=e(t.currentTarget)).hasClass("create")?i.createItem(null,function(){i.settings.closeAfterSelect&&i.close()}):void 0!==(n=r.attr("data-value"))&&(i.lastQuery=null,i.setTextboxValue(""),i.addItem(n),i.settings.closeAfterSelect?i.close():!i.settings.hideSelected&&t.type&&/mouse/.test(t.type)&&i.setActiveOption(i.getOption(n)))},onItemSelect:function(e){this.isLocked||"multi"===this.settings.mode&&(e.preventDefault(),this.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){h(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(t,n){var r,i,a,o,s,l,c,u;if("single"!==this.settings.mode){if(!(t=e(t)).length)return e(this.$activeItems).removeClass("active"),this.$activeItems=[],void(this.isFocused&&this.showInput());if("mousedown"===(r=n&&n.type.toLowerCase())&&this.isShiftDown&&this.$activeItems.length){for(u=this.$control.children(".active:last"),(o=Array.prototype.indexOf.apply(this.$control[0].childNodes,[u[0]]))>(s=Array.prototype.indexOf.apply(this.$control[0].childNodes,[t[0]]))&&(c=o,o=s,s=c),i=o;i<=s;i++)l=this.$control[0].childNodes[i],-1===this.$activeItems.indexOf(l)&&(e(l).addClass("active"),this.$activeItems.push(l));n.preventDefault()}else"mousedown"===r&&this.isCtrlDown||"keydown"===r&&this.isShiftDown?t.hasClass("active")?(a=this.$activeItems.indexOf(t[0]),this.$activeItems.splice(a,1),t.removeClass("active")):this.$activeItems.push(t.addClass("active")[0]):(e(this.$activeItems).removeClass("active"),this.$activeItems=[t.addClass("active")[0]]);this.hideInput(),this.isFocused||this.focus()}},setActiveOption:function(t,n,r){var i,a,o,s,l;this.$activeOption&&this.$activeOption.removeClass("active"),this.$activeOption=null,(t=e(t)).length&&(this.$activeOption=t.addClass("active"),!n&&c(n)||(i=this.$dropdown_content.height(),a=this.$activeOption.outerHeight(!0),n=this.$dropdown_content.scrollTop()||0,s=o=this.$activeOption.offset().top-this.$dropdown_content.offset().top+n,l=o-i+a,o+a>i+n?this.$dropdown_content.stop().animate({scrollTop:l},r?this.settings.scrollDuration:0):o<n&&this.$dropdown_content.stop().animate({scrollTop:s},r?this.settings.scrollDuration:0)))},selectAll:function(){"single"!==this.settings.mode&&(this.$activeItems=Array.prototype.slice.apply(this.$control.children(":not(input)").addClass("active")),this.$activeItems.length&&(this.hideInput(),this.close()),this.focus())},hideInput:function(){this.setTextboxValue(""),this.$control_input.css({opacity:0}),this.settings.manualInputWidth||this.$control_input.css({position:"absolute",left:this.rtl?1e4:-1e4}),this.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1}),this.settings.manualInputWidth||this.$control_input.css({position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;e.isDisabled||(e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0))},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(t){var n,r,i,a=this.settings,o=this.getSearchOptions();if(a.score&&"function"!=typeof(i=this.settings.score.apply(this,[t])))throw new Error('Selectize "score" setting must be a function that returns a function');if(t!==this.lastQuery?(this.lastQuery=t,r=this.sifter.search(t,e.extend(o,{score:i})),this.currentResults=r):r=e.extend(!0,{},this.currentResults),a.hideSelected)for(n=r.items.length-1;n>=0;n--)-1!==this.items.indexOf(u(r.items[n].id))&&r.items.splice(n,1);return r},refreshOptions:function(t){var n,i,a,o,s,l,c,d,p,h,f,g,v,m,y,b;void 0===t&&(t=!0);var S=this,I=e.trim(S.$control_input.val()),C=S.search(I),M=S.$dropdown_content,D=S.$activeOption&&u(S.$activeOption.attr("data-value"));for(o=C.items.length,"number"==typeof S.settings.maxOptions&&(o=Math.min(o,S.settings.maxOptions)),s={},l=[],n=0;n<o;n++)for(c=S.options[C.items[n].id],d=S.render("option",c),p=c[S.settings.optgroupField]||"",i=0,a=(h=e.isArray(p)?p:[p])&&h.length;i<a;i++)p=h[i],S.optgroups.hasOwnProperty(p)||(p=""),s.hasOwnProperty(p)||(s[p]=[],l.push(p)),s[p].push(d);for(this.settings.lockOptgroupOrder&&l.sort(function(e,t){return(S.optgroups[e].$order||0)-(S.optgroups[t].$order||0)}),f=[],n=0,o=l.length;n<o;n++)p=l[n],S.optgroups.hasOwnProperty(p)&&s[p].length?(g=S.render("optgroup_header",S.optgroups[p])||"",g+=s[p].join(""),f.push(S.render("optgroup",e.extend({},S.optgroups[p],{html:g})))):f.push(s[p].join(""));if(M.html(f.join("")),S.settings.highlight&&C.query.length&&C.tokens.length)for(n=0,o=C.tokens.length;n<o;n++)r(M,C.tokens[n].regex);if(!S.settings.hideSelected)for(n=0,o=S.items.length;n<o;n++)S.getOption(S.items[n]).addClass("selected");(v=S.canCreate(I))&&(M.prepend(S.render("option_create",{input:I})),b=e(M[0].childNodes[0])),S.hasOptions=C.items.length>0||v,S.hasOptions?(C.items.length>0?((y=D&&S.getOption(D))&&y.length?m=y:"single"===S.settings.mode&&S.items.length&&(m=S.getOption(S.items[0])),m&&m.length||(m=b&&!S.settings.addPrecedence?S.getAdjacentOption(b,1):M.find("[data-selectable]:first"))):m=b,S.setActiveOption(m),t&&!S.isOpen&&S.open()):(S.setActiveOption(null),t&&S.isOpen&&S.close())},addOption:function(t){var n,r,i;if(e.isArray(t))for(n=0,r=t.length;n<r;n++)this.addOption(t[n]);else(i=this.registerOption(t))&&(this.userOptions[i]=!0,this.lastQuery=null,this.trigger("option_add",i,t))},registerOption:function(e){var t=u(e[this.settings.valueField]);return!(!t||this.options.hasOwnProperty(t))&&(e.$order=e.$order||++this.order,this.options[t]=e,t)},registerOptionGroup:function(e){var t=u(e[this.settings.optgroupValueField]);return!!t&&(e.$order=e.$order||++this.order,this.optgroups[t]=e,t)},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(t,n){var r,i,a,o,s,l,c;if(t=u(t),a=u(n[this.settings.valueField]),null!==t&&this.options.hasOwnProperty(t)){if("string"!=typeof a)throw new Error("Value must be set in option data");c=this.options[t].$order,a!==t&&(delete this.options[t],-1!==(o=this.items.indexOf(t))&&this.items.splice(o,1,a)),n.$order=n.$order||c,this.options[a]=n,s=this.renderCache.item,l=this.renderCache.option,s&&(delete s[t],delete s[a]),l&&(delete l[t],delete l[a]),-1!==this.items.indexOf(a)&&(r=this.getItem(t),i=e(this.render("item",n)),r.hasClass("active")&&i.addClass("active"),r.replaceWith(i)),this.lastQuery=null,this.isOpen&&this.refreshOptions(!1)}},removeOption:function(e,t){e=u(e);var n=this.renderCache.item,r=this.renderCache.option;n&&delete n[e],r&&delete r[e],delete this.userOptions[e],delete this.options[e],this.lastQuery=null,this.trigger("option_remove",e),this.removeItem(e,t)},clearOptions:function(){this.loadedSearches={},this.userOptions={},this.renderCache={},this.options=this.sifter.items={},this.lastQuery=null,this.trigger("option_clear"),this.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(t,n){var r=this.$dropdown.find("[data-selectable]"),i=r.index(t)+n;return i>=0&&i<r.length?r.eq(i):e()},getElementWithValue:function(t,n){if(null!=(t=u(t)))for(var r=0,i=n.length;r<i;r++)if(n[r].getAttribute("data-value")===t)return e(n[r]);return e()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(t,n){for(var r=e.isArray(t)?t:[t],i=0,a=r.length;i<a;i++)this.isPending=i<a-1,this.addItem(r[i],n)},addItem:function(t,n){h(this,n?[]:["change"],function(){var r,i,a,o,s,l=this.settings.mode;t=u(t),-1===this.items.indexOf(t)?this.options.hasOwnProperty(t)&&("single"===l&&this.clear(n),"multi"===l&&this.isFull()||(r=e(this.render("item",this.options[t])),s=this.isFull(),this.items.splice(this.caretPos,0,t),this.insertAtCaret(r),(!this.isPending||!s&&this.isFull())&&this.refreshState(),this.isSetup&&(a=this.$dropdown_content.find("[data-selectable]"),this.isPending||(i=this.getOption(t),o=this.getAdjacentOption(i,1).attr("data-value"),this.refreshOptions(this.isFocused&&"single"!==l),o&&this.setActiveOption(this.getOption(o))),!a.length||this.isFull()?this.close():this.positionDropdown(),this.updatePlaceholder(),this.trigger("item_add",t,r),this.updateOriginalInput({silent:n})))):"single"===l&&this.close()})},removeItem:function(e,t){var n,r,i;n="object"==typeof e?e:this.getItem(e),e=u(n.attr("data-value")),-1!==(r=this.items.indexOf(e))&&(n.remove(),n.hasClass("active")&&(i=this.$activeItems.indexOf(n[0]),this.$activeItems.splice(i,1)),this.items.splice(r,1),this.lastQuery=null,!this.settings.persist&&this.userOptions.hasOwnProperty(e)&&this.removeOption(e,t),r<this.caretPos&&this.setCaret(this.caretPos-1),this.refreshState(),this.updatePlaceholder(),this.updateOriginalInput({silent:t}),this.positionDropdown(),this.trigger("item_remove",e,n))},createItem:function(t,n){var r=this,i=r.caretPos;t=t||e.trim(r.$control_input.val()||"");var a=arguments[arguments.length-1];if("function"!=typeof a&&(a=function(){}),"boolean"!=typeof n&&(n=!0),!r.canCreate(t))return a(),!1;r.lock();var o,s,l="function"==typeof r.settings.create?this.settings.create:function(e){var t={};return t[r.settings.labelField]=e,t[r.settings.valueField]=e,t},c=(o=function(e){if(r.unlock(),!e||"object"!=typeof e)return a();var t=u(e[r.settings.valueField]);if("string"!=typeof t)return a();r.setTextboxValue(""),r.addOption(e),r.setCaret(i),r.addItem(t),r.refreshOptions(n&&"single"!==r.settings.mode),a(e)},s=!1,function(){s||(s=!0,o.apply(this,arguments))}),d=l.apply(this,[t,c]);return void 0!==d&&c(d),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){this.isRequired&&(this.items.length&&(this.isInvalid=!1),this.$control_input.prop("required",void 0)),this.refreshClasses()},refreshClasses:function(){var t=this.isFull(),n=this.isLocked;this.$wrapper.toggleClass("rtl",this.rtl),this.$control.toggleClass("focus",this.isFocused).toggleClass("disabled",this.isDisabled).toggleClass("required",this.isRequired).toggleClass("invalid",this.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",this.isFocused&&!this.isInputHidden).toggleClass("dropdown-active",this.isOpen).toggleClass("has-options",!e.isEmptyObject(this.options)).toggleClass("has-items",this.items.length>0),this.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,i;if(e=e||{},1===this.tagType){for(r=[],t=0,n=this.items.length;t<n;t++)i=this.options[this.items[t]][this.settings.labelField]||"",r.push('<option value="'+d(this.items[t])+'" selected="selected">'+d(i)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),this.$input.html(r.join(""))}else this.$input.val(this.getValue()),this.$input.attr("value",this.$input.val());this.isSetup&&(e.silent||this.trigger("change",this.$input.val()))},updatePlaceholder:function(){if(this.settings.placeholder){var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})}},open:function(){this.isLocked||this.isOpen||this.settings.hideDropdown||"multi"===this.settings.mode&&this.isFull()||(this.focus(),this.isOpen=!0,this.refreshState(),this.$dropdown.css({visibility:"hidden",display:"block"}),this.positionDropdown(),this.$dropdown.css({visibility:"visible"}),this.trigger("dropdown_open",this.$dropdown))},close:function(){var e=this.isOpen;"single"===this.settings.mode&&this.items.length&&this.hideInput(),this.isOpen=!1,this.$dropdown.hide(),this.setActiveOption(null),this.refreshState(),e&&this.trigger("dropdown_close",this.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){this.items.length&&(this.$control.children(":not(input)").remove(),this.items=[],this.lastQuery=null,this.setCaret(0),this.setActiveItem(null),this.updatePlaceholder(),this.updateOriginalInput({silent:e}),this.refreshState(),this.showInput(),this.trigger("clear"))},insertAtCaret:function(t){var n=Math.min(this.caretPos,this.items.length);0===n?this.$control.prepend(t):e(this.$control[0].childNodes[n]).before(t),this.setCaret(n+1)},deleteSelection:function(t,n){var r,i,a,o,s,l,c,u,d;if(a=n||void 0===n&&t&&8===t.keyCode?-1:1,o=f(this.$control_input[0]),this.$activeOption&&!this.settings.hideSelected&&(c=this.getAdjacentOption(this.$activeOption,-1).attr("data-value")),s=[],this.$activeItems.length){for(d=this.$control.children(".active:"+(a>0?"last":"first")),l=this.$control.children(":not(input)").index(d),a>0&&l++,r=0,i=this.$activeItems.length;r<i;r++)s.push(e(this.$activeItems[r]).attr("data-value"));t&&(t.preventDefault(),t.stopPropagation())}else(this.isFocused||"single"===this.settings.mode)&&this.items.length&&(a<0&&0===o.start&&0===o.length?s.push(this.items[this.caretPos-1]):a>0&&o.start===this.$control_input.val().length&&s.push(this.items[this.caretPos]));if(!s.length||"function"==typeof this.settings.onDelete&&!1===this.settings.onDelete.apply(this,[s]))return!1;for(void 0!==l&&this.setCaret(l);s.length;)this.removeItem(s.pop());return this.showInput(),this.positionDropdown(),this.refreshOptions(!0),c&&(u=this.getOption(c)).length&&this.setActiveOption(u),!0},advanceSelection:function(e,t){var n,r,i,a,o;0!==e&&(this.rtl&&(e*=-1),n=e>0?"last":"first",r=f(this.$control_input[0]),this.isFocused&&!this.isInputHidden?(a=this.$control_input.val().length,(e<0?0===r.start&&0===r.length:r.start===a)&&!a&&this.advanceCaret(e,t)):(o=this.$control.children(".active:"+n)).length&&(i=this.$control.children(":not(input)").index(o),this.setActiveItem(null),this.setCaret(e>0?i+1:i)))},advanceCaret:function(e,t){var n,r;0!==e&&(n=e>0?"next":"prev",this.isShiftDown?(r=this.$control_input[n]()).length&&(this.hideInput(),this.setActiveItem(r),t&&t.preventDefault()):this.setCaret(this.caretPos+e))},setCaret:function(t){var n,r,i,a;if(t="single"===this.settings.mode?this.items.length:Math.max(0,Math.min(this.items.length,t)),!this.isPending)for(n=0,r=(i=this.$control.children(":not(input)")).length;n<r;n++)a=e(i[n]).detach(),n<t?this.$control_input.before(a):this.$control.append(a);this.caretPos=t},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){this.$input.prop("disabled",!0),this.$control_input.prop("disabled",!0).prop("tabindex",-1),this.isDisabled=!0,this.lock()},enable:function(){this.$input.prop("disabled",!1),this.$control_input.prop("disabled",!1).prop("tabindex",this.tabIndex),this.isDisabled=!1,this.unlock()},destroy:function(){var t=this.eventNS,n=this.revertSettings;this.trigger("destroy"),this.off(),this.$wrapper.remove(),this.$dropdown.remove(),this.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),this.$control_input.removeData("grow"),this.$input.removeData("selectize"),e(window).off(t),e(document).off(t),e(document.body).off(t),delete this.$input[0].selectize},render:function(e,t){var n,r,i="",a=!1,o=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;return"option"!==e&&"item"!==e||(a=!!(n=u(t[this.settings.valueField]))),a&&(c(this.renderCache[e])||(this.renderCache[e]={}),this.renderCache[e].hasOwnProperty(n))?this.renderCache[e][n]:(i=this.settings.render[e].apply(this,[t,d]),"option"!==e&&"option_create"!==e||(i=i.replace(o,"<$1 data-selectable")),"optgroup"===e&&(r=t[this.settings.optgroupValueField]||"",i=i.replace(o,'<$1 data-group="'+p(d(r))+'"')),"option"!==e&&"item"!==e||(i=i.replace(o,'<$1 data-value="'+p(d(n||""))+'"')),a&&(this.renderCache[e][n]=i),i)},clearCache:function(e){void 0===e?this.renderCache={}:delete this.renderCache[e]},canCreate:function(e){if(!this.settings.create)return!1;var t=this.settings.createFilter;return(e.length||this.settings.allowCreateEmpty)&&("function"!=typeof t||t.apply(this,[e]))&&("string"!=typeof t||new RegExp(t).test(e))&&(!(t instanceof RegExp)||t.test(e))}}),g.count=0,g.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,selectOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,allowCreateEmpty:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",manualInputWidth:!1,dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},e.fn.selectize=function(t){var n=e.fn.selectize.defaults,r=e.extend({},n,t),i=r.dataAttr,a=r.labelField,o=r.valueField,s=r.optgroupField,l=r.optgroupLabelField,c=r.optgroupValueField;return this.each(function(){if(!this.selectize){var d=e(this),p=this.tagName.toLowerCase(),h=d.attr("placeholder")||d.attr("data-placeholder");h||r.allowEmptyOption||(h=d.children('option[value=""]').text());var f={placeholder:h,options:[],optgroups:[],items:[]};"select"===p?function(t,n){var d,p,h,f,g=n.options,v={},m=function(e){var t=i&&e.attr(i);return"string"==typeof t&&t.length?JSON.parse(t):null},y=function(t,i){t=e(t);var l=u(t.attr("value"));if(l||r.allowEmptyOption)if(v.hasOwnProperty(l)){if(i){var c=v[l][s];c?e.isArray(c)?c.push(i):v[l][s]=[c,i]:v[l][s]=i}}else{var d=m(t)||{};d[a]=d[a]||t.text(),d[o]=d[o]||l,d[s]=d[s]||i,v[l]=d,g.push(d),t.is(":selected")&&n.items.push(l)}},b=function(t){var r,i,a,o,s;for((a=(t=e(t)).attr("label"))&&((o=m(t)||{})[l]=a,o[c]=a,n.optgroups.push(o)),r=0,i=(s=e("option",t)).length;r<i;r++)y(s[r],a)};for(n.maxItems=t.attr("multiple")?null:1,d=0,p=(f=t.children()).length;d<p;d++)"optgroup"===(h=f[d].tagName.toLowerCase())?b(f[d]):"option"===h&&y(f[d])}(d,f):function(t,n){var s,l,c,u,d=t.attr(i);if(d)for(n.options=JSON.parse(d),s=0,l=n.options.length;s<l;s++)n.items.push(n.options[s][o]);else{var p=e.trim(t.val()||"");if(!r.allowEmptyOption&&!p.length)return;for(s=0,l=(c=p.split(r.delimiter)).length;s<l;s++)(u={})[a]=c[s],u[o]=c[s],n.options.push(u);n.items=c}}(d,f),new g(d,e.extend(!0,{},n,f,t))}})},e.fn.selectize.defaults=g.defaults,e.fn.selectize.support={validity:l},g.define("remove_button",function(t){if("single"!==this.settings.mode){t=e.extend({label:"&times;",title:"Remove",className:"remove",append:!0},t);var n,r=this,i='<a href="javascript:void(0)" class="'+t.className+'" tabindex="-1" title="'+d(t.title)+'">'+t.label+"</a>";this.setup=(n=r.setup,function(){if(t.append){var a=r.settings.render.item;r.settings.render.item=function(e){return t=a.apply(this,arguments),n=i,r=t.search(/(<\/[^>]+>\s*)$/),t.substring(0,r)+n+t.substring(r);var t,n,r}}n.apply(this,arguments),this.$control.on("click","."+t.className,function(t){if(t.preventDefault(),!r.isLocked){var n=e(t.currentTarget).parent();r.setActiveItem(n),r.deleteSelection()&&r.setCaret(r.items.length)}})})}}),g.define("restore_on_backspace",function(e){var t,n=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=(t=n.onKeyDown,function(n){var r,i;return 8===n.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length?(i=this.options[this.items[r]],this.deleteSelection(n,!0)&&(this.setTextboxValue(e.text.apply(this,[i])),this.refreshOptions(!0)),void n.preventDefault()):t.apply(this,arguments)})}),g.define("restore_on_focus",function(e){e.text=e.text||function(e){return e[this.settings.labelField]};var t=this.onFocus;this.onFocus=function(n){var r=this.caretPos-1;if(r>=0&&r<this.items.length){var i=this.options[this.items[r]],a=e.text.call(this,i);this.removeItem(i[this.settings.valueField]),this.setTextboxValue(a),this.refreshOptions(!0)}return t.apply(this,arguments)}}),g})?u.apply(t,d):u)||(e.exports=p)}).call(this,n(8))},function(e,t,n){var r=n(15).getLastSegment,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1426);Object.defineProperty(t,"DragDropManager",{enumerable:!0,get:function(){return s(r).default}});var i=n(1476);Object.defineProperty(t,"DragSource",{enumerable:!0,get:function(){return s(i).default}});var a=n(1477);Object.defineProperty(t,"DropTarget",{enumerable:!0,get:function(){return s(a).default}});var o=n(1478);function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"createTestBackend",{enumerable:!0,get:function(){return s(o).default}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=l(n(1427)),a=l(n(1430)),o=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(431)),s=l(n(1471));function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var r=(0,i.default)(a.default);this.context=n,this.store=r,this.monitor=new s.default(r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return r(e,[{key:"handleRefCountChange",value:function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)}},{key:"getContext",value:function(){return this.context}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch;return Object.keys(o).filter(function(e){return"function"==typeof o[e]}).reduce(function(n,r){var i,a=o[r];return n[r]=(i=a,function(){for(var n=arguments.length,r=Array(n),a=0;a<n;a++)r[a]=arguments[a];var o=i.apply(e,r);void 0!==o&&t(o)}),n},{})}}]),e}();t.default=c},function(e,t,n){"use strict";t.__esModule=!0,t.ActionTypes=void 0,t.default=function e(t,n,a){var s;"function"==typeof n&&void 0===a&&(a=n,n=void 0);if(void 0!==a){if("function"!=typeof a)throw new Error("Expected the enhancer to be a function.");return a(e)(t,n)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var l=t;var c=n;var u=[];var d=u;var p=!1;function h(){d===u&&(d=u.slice())}function f(){return c}function g(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return h(),d.push(e),function(){if(t){t=!1,h();var n=d.indexOf(e);d.splice(n,1)}}}function v(e){if(!(0,r.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,c=l(c,e)}finally{p=!1}for(var t=u=d,n=0;n<t.length;n++){var i=t[n];i()}return e}v({type:o.INIT});return s={dispatch:v,subscribe:g,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");l=e,v({type:o.INIT})}},s[i.default]=function(){var e,t=g;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}n();var r=t(n);return{unsubscribe:r}}})[i.default]=function(){return this},e},s};var r=a(n(178)),i=a(n(1428));function a(e){return e&&e.__esModule?e:{default:e}}var o=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t,n){"use strict";n.r(t),function(e,r){var i,a=n(1006);i="undefined"!=typeof self?self:"undefined"!=typeof window?window:void 0!==e?e:r;var o=Object(a.a)(i);t.default=o}.call(this,n(177),n(1429)(e))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){var t=Object.create(e);t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),Object.defineProperty(t,"exports",{enumerable:!0}),t.webpackPolyfill=1}return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];return{dirtyHandlerIds:(0,o.default)(e.dirtyHandlerIds,t,e.dragOperation),dragOffset:(0,r.default)(e.dragOffset,t),refCount:(0,a.default)(e.refCount,t),dragOperation:(0,i.default)(e.dragOperation,t),stateId:(0,s.default)(e.stateId)}};var r=l(n(738)),i=l(n(1431)),a=l(n(1462)),o=l(n(742)),s=l(n(1470));function l(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.BEGIN_DRAG:return r({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case s.PUBLISH_DRAG_SOURCE:return r({},e,{isSourcePublic:!0});case s.HOVER:return r({},e,{targetIds:t.targetIds});case l.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:r({},e,{targetIds:(0,o.default)(e.targetIds,t.targetId)});case s.DROP:return r({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case s.END_DRAG:return r({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}};var i,a=n(740),o=(i=a)&&i.__esModule?i:{default:i},s=n(431),l=n(436);var c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null}},function(e,t,n){var r=n(1433),i=n(1162),a=n(1164);e.exports=function(){this.size=0,this.__data__={hash:new r,map:new(a||i),string:new r}}},function(e,t,n){var r=n(1434),i=n(1439),a=n(1440),o=n(1441),s=n(1442);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}l.prototype.clear=r,l.prototype.delete=i,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,e.exports=l},function(e,t,n){var r=n(432);e.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(e,t,n){var r=n(679),i=n(1436),a=n(346),o=n(1172),s=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,p=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!a(e)||i(e))&&(r(e)?p:s).test(o(e))}},function(e,t,n){var r,i=n(1437),a=(r=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"";e.exports=function(e){return!!a&&a in e}},function(e,t,n){var r=n(347)["__core-js_shared__"];e.exports=r},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var r=n(432),i="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(r){var n=t[e];return n===i?void 0:n}return a.call(t,e)?t[e]:void 0}},function(e,t,n){var r=n(432),i=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return r?void 0!==t[e]:i.call(t,e)}},function(e,t,n){var r=n(432),i="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=r&&void 0===t?i:t,this}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var r=n(433),i=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=r(t,e);return!(n<0||(n==t.length-1?t.pop():i.call(t,n,1),--this.size,0))}},function(e,t,n){var r=n(433);e.exports=function(e){var t=this.__data__,n=r(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var r=n(433);e.exports=function(e){return r(this.__data__,e)>-1}},function(e,t,n){var r=n(433);e.exports=function(e,t){var n=this.__data__,i=r(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}},function(e,t,n){var r=n(434);e.exports=function(e){var t=r(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var r=n(434);e.exports=function(e){return r(this,e).get(e)}},function(e,t,n){var r=n(434);e.exports=function(e){return r(this,e).has(e)}},function(e,t,n){var r=n(434);e.exports=function(e,t){var n=r(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t,n){var r=n(1173),i=n(1456),a=n(1457);e.exports=function(e,t,n){return t==t?a(e,t,n):r(e,i,n)}},function(e,t){e.exports=function(e){return e!=e}},function(e,t){e.exports=function(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}},function(e,t){e.exports=function(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}},function(e,t,n){var r=n(1460),i=n(1176),a=n(680),o=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:a;e.exports=o},function(e,t){e.exports=function(e){return function(){return e}}},function(e,t){var n=800,r=16,i=Date.now;e.exports=function(e){var t=0,a=0;return function(){var o=i(),s=r-(o-a);if(a=o,s>0){if(++t>=n)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;switch(arguments[1].type){case r.ADD_SOURCE:case r.ADD_TARGET:return e+1;case r.REMOVE_SOURCE:case r.REMOVE_TARGET:return e-1;default:return e}};var r=n(436)},function(e,t,n){var r=n(1165),i=n(349),a=n(1464),o=n(435),s=i(function(e){return a(r(e,o))});e.exports=s},function(e,t,n){var r=n(741),i=n(681),a=n(743);e.exports=function(e,t,n){var o=e.length;if(o<2)return o?a(e[0]):[];for(var s=-1,l=Array(o);++s<o;)for(var c=e[s],u=-1;++u<o;)u!=s&&(l[s]=r(l[s]||c,e[u],t,n));return a(i(l,1),t,n)}},function(e,t,n){var r=n(534),i=n(684),a=n(241),o=r?r.isConcatSpreadable:void 0;e.exports=function(e){return a(e)||i(e)||!!(o&&e&&e[o])}},function(e,t,n){var r=n(415),i=n(348),a="[object Arguments]";e.exports=function(e){return i(e)&&r(e)==a}},function(e,t,n){var r=n(1177),i=n(744),a=n(685),o=r&&1/a(new r([,-0]))[1]==1/0?function(e){return new r(e)}:i;e.exports=o},function(e,t,n){var r=n(537),i=n(567),a=n(568),o=n(532),s=n(535),l=n(538),c=Math.min;e.exports=function(e,t,n){for(var u=n?a:i,d=e[0].length,p=e.length,h=p,f=Array(p),g=1/0,v=[];h--;){var m=e[h];h&&t&&(m=o(m,s(t))),g=c(m.length,g),f[h]=!n&&(t||d>=120&&m.length>=120)?new r(h&&m):void 0}m=e[0];var y=-1,b=f[0];e:for(;++y<d&&v.length<g;){var S=m[y],I=t?t(S):S;if(S=n||0!==S?S:0,!(b?l(b,I):u(v,I,n))){for(h=p;--h;){var C=f[h];if(!(C?l(C,I):u(e[h],I,n)))continue e}b&&b.push(I),v.push(S)}}return v}},function(e,t,n){var r=n(435);e.exports=function(e){return r(e)?e:[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:0)+1}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=u(n(88)),a=u(n(241)),o=u(n(739)),s=u(n(1472)),l=n(738),c=n(742);function u(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=new s.default(t)}return r(e,[{key:"subscribeToStateChange",value:function(e){var t=this,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).handlerIds;(0,i.default)("function"==typeof e,"listener must be a function."),(0,i.default)(void 0===n||(0,a.default)(n),"handlerIds, when specified, must be an array of strings.");var r=this.store.getState().stateId;return this.store.subscribe(function(){var i=t.store.getState(),a=i.stateId;try{a===r||a===r+1&&!(0,c.areDirty)(i.dirtyHandlerIds,n)||e()}finally{r=a}})}},{key:"subscribeToOffsetChange",value:function(e){var t=this;(0,i.default)("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe(function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())})}},{key:"canDragSource",value:function(e){var t=this.registry.getSource(e);return(0,i.default)(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){var t=this.registry.getTarget(e);if((0,i.default)(t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();return(0,o.default)(n,r)&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){var t=this.registry.getSource(e,!0);return(0,i.default)(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&(this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e))}},{key:"isOverTarget",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1}).shallow;if(!this.isDragging())return!1;var n=this.registry.getTargetType(e),r=this.getItemType();if(!(0,o.default)(n,r))return!1;var i=this.getTargetIds();if(!i.length)return!1;var a=i.indexOf(e);return t?a===i.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return(0,l.getSourceClientOffset)(this.store.getState().dragOffset)}},{key:"getDifferenceFromInitialOffset",value:function(){return(0,l.getDifferenceFromInitialOffset)(this.store.getState().dragOffset)}}]),e}();t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=u(n(88)),o=u(n(241)),s=u(n(1473)),l=n(436),c=u(n(1475));function u(e){return e&&e.__esModule?e:{default:e}}var d={SOURCE:"SOURCE",TARGET:"TARGET"};function p(e,t){t&&(0,o.default)(e)?e.forEach(function(e){return p(e,!1)}):(0,a.default)("string"==typeof e||"symbol"===(void 0===e?"undefined":i(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function h(e){switch(e[0]){case"S":return d.SOURCE;case"T":return d.TARGET;default:(0,a.default)(!1,"Cannot parse handler ID: "+e)}}var f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return r(e,[{key:"addSource",value:function(e,t){p(e),function(e){(0,a.default)("function"==typeof e.canDrag,"Expected canDrag to be a function."),(0,a.default)("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),(0,a.default)("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(d.SOURCE,e,t);return this.store.dispatch((0,l.addSource)(n)),n}},{key:"addTarget",value:function(e,t){p(e,!0),function(e){(0,a.default)("function"==typeof e.canDrop,"Expected canDrop to be a function."),(0,a.default)("function"==typeof e.hover,"Expected hover to be a function."),(0,a.default)("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(d.TARGET,e,t);return this.store.dispatch((0,l.addTarget)(n)),n}},{key:"addHandler",value:function(e,t,n){var r=function(e){var t=(0,c.default)().toString();switch(e){case d.SOURCE:return"S"+t;case d.TARGET:return"T"+t;default:(0,a.default)(!1,"Unknown role: "+e)}}(e);return this.types[r]=t,this.handlers[r]=n,r}},{key:"containsHandler",value:function(e){var t=this;return Object.keys(this.handlers).some(function(n){return t.handlers[n]===e})}},{key:"getSource",value:function(e,t){return(0,a.default)(this.isSourceId(e),"Expected a valid source ID."),t&&e===this.pinnedSourceId?this.pinnedSource:this.handlers[e]}},{key:"getTarget",value:function(e){return(0,a.default)(this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]}},{key:"getSourceType",value:function(e){return(0,a.default)(this.isSourceId(e),"Expected a valid source ID."),this.types[e]}},{key:"getTargetType",value:function(e){return(0,a.default)(this.isTargetId(e),"Expected a valid target ID."),this.types[e]}},{key:"isSourceId",value:function(e){return h(e)===d.SOURCE}},{key:"isTargetId",value:function(e){return h(e)===d.TARGET}},{key:"removeSource",value:function(e){var t=this;(0,a.default)(this.getSource(e),"Expected an existing source."),this.store.dispatch((0,l.removeSource)(e)),(0,s.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"removeTarget",value:function(e){var t=this;(0,a.default)(this.getTarget(e),"Expected an existing target."),this.store.dispatch((0,l.removeTarget)(e)),(0,s.default)(function(){delete t.handlers[e],delete t.types[e]})}},{key:"pinSource",value:function(e){var t=this.getSource(e);(0,a.default)(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){(0,a.default)(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}}]),e}();t.default=f},function(e,t,n){"use strict";var r=n(1474),i=[],a=[],o=r.makeRequestCallFromTimer(function(){if(a.length)throw a.shift()});function s(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(a.push(e),o())}finally{this.task=null,i[i.length]=this}}},function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],a=0,o=1024;function s(){for(;a<i.length;){var e=a;if(a+=1,i[e].call(),a>o){for(var t=0,n=i.length-a;t<n;t++)i[t]=i[t+a];i.length-=a,a=0}}i.length=0,a=0,!1}var l,c,u,d=void 0!==t?t:self,p=d.MutationObserver||d.WebKitMutationObserver;function h(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof p?(l=1,c=new p(s),u=document.createTextNode(""),c.observe(u,{characterData:!0}),r=function(){l=-l,u.data=l}):r=h(s),n.requestFlush=r,n.makeRequestCallFromTimer=h}).call(this,n(177))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return r++};var r=0},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrag",value:function(){return!0}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return r(e,[{key:"canDrop",value:function(){return!0}},{key:"hover",value:function(){}},{key:"drop",value:function(){}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new s(e)};var i,a=n(744),o=(i=a)&&i.__esModule?i:{default:i};var s=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions()}return r(e,[{key:"setup",value:function(){this.didCallSetup=!0}},{key:"teardown",value:function(){this.didCallTeardown=!0}},{key:"connectDragSource",value:function(){return o.default}},{key:"connectDragPreview",value:function(){return o.default}},{key:"connectDropTarget",value:function(){return o.default}},{key:"simulateBeginDrag",value:function(e,t){this.actions.beginDrag(e,t)}},{key:"simulatePublishDragSource",value:function(){this.actions.publishDragSource()}},{key:"simulateHover",value:function(e,t){this.actions.hover(e,t)}},{key:"simulateDrop",value:function(){this.actions.drop()}},{key:"simulateEndDrag",value:function(){this.actions.endDrag()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i,a,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),l=n(4),c=(a=l)&&a.__esModule?a:{default:a},u=n(737);var d=(i=r=function(e){function t(e,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return r.backend=(0,u.unpackBackendForEs5Users)(e.backend),r.childContext=(0,u.createChildContext)(r.backend,{window:e&&e.window?e.window:n&&n.window?n.window:"undefined"!=typeof window?window:void 0}),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.Component),o(t,[{key:"componentWillReceiveProps",value:function(e){if(e.backend!==this.props.backend||e.window!==this.props.window)throw new Error("DragDropContextProvider backend and window props must not change.")}},{key:"getChildContext",value:function(){return this.childContext}},{key:"render",value:function(){return s.Children.only(this.props.children)}}]),t}(),r.propTypes={backend:c.default.oneOfType([c.default.func,c.default.object]).isRequired,children:c.default.element.isRequired,window:c.default.object},r.defaultProps={window:void 0},r.childContextTypes=u.CHILD_CONTEXT_TYPES,r.displayName="DragDropContextProvider",r.contextTypes={window:c.default.object},i);t.default=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return f.default.apply(void 0,["DragLayer","collect[, options]"].concat(Array.prototype.slice.call(arguments))),(0,d.default)("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html",e),(0,d.default)((0,u.default)(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-layer.html',t),function(n){var u,f,g=t.arePropsEqual,v=void 0===g?h.default:g,m=n.displayName||n.name||"Component",y=(f=u=function(t){function l(e,t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,e));return n.handleChange=n.handleChange.bind(n),n.manager=t.dragDropManager,(0,d.default)("object"===i(n.manager),"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://react-dnd.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",m,m),n.state=n.getCurrentState(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(l,o.Component),a(l,[{key:"getDecoratedComponentInstance",value:function(){return(0,d.default)(this.child,"In order to access an instance of the decorated component it can not be a stateless component."),this.child}},{key:"shouldComponentUpdate",value:function(e,t){return!v(e,this.props)||!(0,p.default)(t,this.state)}}]),a(l,[{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0;var e=this.manager.getMonitor();this.unsubscribeFromOffsetChange=e.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=e.subscribeToStateChange(this.handleChange),this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange(),this.unsubscribeFromStateChange()}},{key:"handleChange",value:function(){if(this.isCurrentlyMounted){var e=this.getCurrentState();(0,p.default)(e,this.state)||this.setState(e)}}},{key:"getCurrentState",value:function(){var t=this.manager.getMonitor();return e(t,this.props)}},{key:"render",value:function(){var e=this;return s.default.createElement(n,r({},this.props,this.state,{ref:function(t){e.child=t}}))}}]),l}(),u.DecoratedComponent=n,u.displayName="DragLayer("+m+")",u.contextTypes={dragDropManager:l.default.object.isRequired},f);return(0,c.default)(y,n)}};var o=n(1),s=g(o),l=g(n(4)),c=g(n(569)),u=g(n(178)),d=g(n(88)),p=g(n(570)),h=g(n(745)),f=g(n(437));function g(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a.default.apply(void 0,["DragSource","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',e),h=function(){return e});(0,r.default)((0,i.default)(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',t);var f=(0,l.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),(0,r.default)((0,i.default)(p),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:f,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var r=p(n(88)),i=p(n(178)),a=p(n(437)),o=p(n(746)),s=p(n(1486)),l=p(n(1487)),c=p(n(1488)),u=p(n(1489)),d=p(n(749));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=r(n(571));t.isDisposable=i.default;var a=r(n(1483));t.Disposable=a.default;var o=r(n(1484));t.CompositeDisposable=o.default;var s=r(n(1485));t.SerialDisposable=s.default},function(e,t,n){"use strict";t.__esModule=!0;var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){},a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.action=t||i}return r(e,null,[{key:"empty",value:{dispose:i},enumerable:!0}]),e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},e}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(571),a=(r=i)&&r.__esModule?r:{default:r},o=function(){function e(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Array.isArray(n[0])&&1===n.length&&(n=n[0]);for(var i=0;i<n.length;i++)if(!a.default(n[i]))throw new Error("Expected a disposable");this.disposables=n,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1!==t&&(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.isDisposed=!0,this.disposables=[],this.length=0;for(n=0;n<e;n++)t[n].dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";t.__esModule=!0;var r,i=n(571),a=(r=i)&&r.__esModule?r:{default:r},o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=arguments.length<=0||void 0===arguments[0]?null:arguments[0];if(null!=e&&!a.default(e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,n=void 0;t||(n=this.current,this.current=e),n&&n.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t.default=o,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return{handlerId:i,unregister:function(){r.removeSource(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach(function(t){(0,i.default)(o.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html',o.join(", "),t),(0,i.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),s.forEach(function(t){(0,i.default)("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrag",value:function(){return!e.canDrag||e.canDrag(this.props,this.monitor)}},{key:"isDragging",value:function(t,n){return e.isDragging?e.isDragging(this.props,this.monitor):n===t.getSourceId()}},{key:"beginDrag",value:function(){var t=e.beginDrag(this.props,this.monitor,this.component);return t}},{key:"endDrag",value:function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)}}]),t}();return function(e){return new t(e)}};var i=a(n(88));a(n(178));function a(e){return e&&e.__esModule?e:{default:e}}var o=["canDrag","beginDrag","isDragging","endDrag"],s=["beginDrag"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new c(e)};var i,a=n(88),o=(i=a)&&i.__esModule?i:{default:i};var s=!1,l=!1,c=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"canDrag",value:function(){(0,o.default)(!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}}},{key:"isDragging",value:function(){(0,o.default)(!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,a=void 0,o=void 0,s=void 0,l=void 0,c=void 0;function u(){o&&(o(),o=null),t&&n&&(o=e.connectDragSource(t,n,a))}function d(){c&&(c(),c=null),t&&s&&(c=e.connectDragPreview(t,s,l))}return{receiveHandlerId:function(e){if(e===t)return;t=e,u(),d()},hooks:(0,r.default)({dragSource:function(e,t){e===n&&(0,i.default)(t,a)||(n=e,a=t,u())},dragPreview:function(e,t){e===s&&(0,i.default)(t,l)||(s=e,l=t,d())}})}};var r=a(n(747)),i=a(n(748));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=e.ref;if((0,a.default)("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),!n)return(0,o.cloneElement)(e,{ref:t});return(0,o.cloneElement)(e,{ref:function(e){t(e),n&&n(e)}})};var r,i=n(88),a=(r=i)&&r.__esModule?r:{default:r},o=n(1)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var p=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};a.default.apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(Array.prototype.slice.call(arguments)));var h=e;"function"!=typeof e&&((0,r.default)((0,d.default)(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',e),h=function(){return e});(0,r.default)((0,i.default)(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',t);var f=(0,l.default)(t);return(0,r.default)("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),(0,r.default)((0,i.default)(p),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',n),function(e){return(0,o.default)({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:f,registerHandler:s.default,createMonitor:c.default,createConnector:u.default,DecoratedComponent:e,getType:h,collect:n,options:p})}};var r=p(n(88)),i=p(n(178)),a=p(n(437)),o=p(n(746)),s=p(n(1492)),l=p(n(1493)),c=p(n(1494)),u=p(n(1495)),d=p(n(749));function p(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return{handlerId:i,unregister:function(){r.removeTarget(i)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){Object.keys(e).forEach(function(t){(0,i.default)(o.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html',o.join(", "),t),(0,i.default)("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.monitor=e,this.props=null,this.component=null}return r(t,[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"receiveComponent",value:function(e){this.component=e}},{key:"canDrop",value:function(){return!e.canDrop||e.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){e.hover&&e.hover(this.props,this.monitor,this.component)}},{key:"drop",value:function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return t}}}]),t}();return function(e){return new t(e)}};var i=a(n(88));a(n(178));function a(e){return e&&e.__esModule?e:{default:e}}var o=["canDrop","hover","drop"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=function(e){return new l(e)};var i,a=n(88),o=(i=a)&&i.__esModule?i:{default:i};var s=!1,l=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.internalMonitor=t.getMonitor()}return r(e,[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"canDrop",value:function(){(0,o.default)(!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}}},{key:"isOver",value:function(e){return this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}]),e}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=void 0,n=void 0,a=void 0,o=void 0;function s(){o&&(o(),o=null),t&&n&&(o=e.connectDropTarget(t,n,a))}return{receiveHandlerId:function(e){if(e===t)return;t=e,s()},hooks:(0,r.default)({dropTarget:function(e,t){e===n&&(0,i.default)(t,a)||(n=e,a=t,s())}})}};var r=a(n(747)),i=a(n(748));function a(e){return e&&e.__esModule?e:{default:e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=d(n(1497)),a=d(n(1503)),o=d(n(1504)),s=n(750),l=n(1506),c=n(1508),u=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(572));function d(e){return e&&e.__esModule?e:{default:e}}var p=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.context=t.getContext(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new o.default,this.dragStartSourceIds=[],this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this),this.endDragNativeItem=this.endDragNativeItem.bind(this),this.asyncEndDragNativeItem=this.asyncEndDragNativeItem.bind(this),this.isNodeInDocument=this.isNodeInDocument.bind(this)}return r(e,[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions[e]=n,this.sourcePreviewNodes[e]=t,function(){delete r.sourcePreviewNodes[e],delete r.sourcePreviewNodeOptions[e]}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=n;var i=function(t){return r.handleDragStart(t,e)},a=function(t){return r.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",i),t.addEventListener("selectstart",a),function(){delete r.sourceNodes[e],delete r.sourceNodeOptions[e],t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",a),t.setAttribute("draggable",!1)}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},a=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",a),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",a)}}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return(0,i.default)(t||{},{dropEffect:this.altKeyPressed?"copy":"move"})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return(0,i.default)(t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})}},{key:"getSourceClientOffset",value:function(e){return(0,l.getNodeClientOffset)(this.sourceNodes[e])}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(u).some(function(t){return u[t]===e})}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode();var t=(0,c.createNativeDragSource)(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"asyncEndDragNativeItem",value:function(){this.asyncEndDragFrameId=this.window.requestAnimationFrame(this.endDragNativeItem)}},{key:"endDragNativeItem",value:function(){this.isDraggingNativeItem()&&(this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)}},{key:"isNodeInDocument",value:function(e){return!(!document.body.contains(e)&&!this.window)&&this.window.document.body.contains(e)}},{key:"endDragIfSourceWasRemovedFromDOM",value:function(){var e=this.currentDragSourceNode;this.isNodeInDocument(e)||this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=(0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffsetChanged=!1;this.mouseMoveTimeoutTimer=setTimeout(function(){return t.mouseMoveTimeoutId=null,t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)},1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,this.window.clearTimeout(this.mouseMoveTimeoutTimer),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),this.mouseMoveTimeoutTimer=null,!0)}},{key:"checkIfCurrentDragSourceRectChanged",value:function(){var e=this.currentDragSourceNode;return!!e&&(!!this.currentDragSourceNodeOffsetChanged||(this.currentDragSourceNodeOffsetChanged=!(0,a.default)((0,l.getNodeClientOffset)(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged))}},{key:"handleTopDragStartCapture",value:function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]}},{key:"handleDragStart",value:function(e,t){this.dragStartSourceIds.unshift(t)}},{key:"handleTopDragStart",value:function(e){var t=this,n=this.dragStartSourceIds;this.dragStartSourceIds=null;var r=(0,l.getEventClientOffset)(e);this.monitor.isDragging()&&this.actions.endDrag(),this.actions.beginDrag(n,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:r});var i=e.dataTransfer,a=(0,c.matchNativeItemType)(i);if(this.monitor.isDragging()){if("function"==typeof i.setDragImage){var o=this.monitor.getSourceId(),s=this.sourceNodes[o],u=this.sourcePreviewNodes[o]||s,d=this.getCurrentSourcePreviewNodeOptions(),p={anchorX:d.anchorX,anchorY:d.anchorY},h={offsetX:d.offsetX,offsetY:d.offsetY},f=(0,l.getDragPreviewOffset)(s,u,r,p,h);i.setDragImage(u,f.x,f.y)}try{i.setData("application/json",{})}catch(e){}this.setCurrentDragSourceNode(e.target),this.getCurrentSourcePreviewNodeOptions().captureDraggingState?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(a)this.beginDragNativeItem(a);else{if(!(i.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}}},{key:"handleTopDragEndCapture",value:function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()}},{key:"handleTopDragEnterCapture",value:function(e){if(this.dragEnterTargetIds=[],this.enterLeaveCounter.enter(e.target)&&!this.monitor.isDragging()){var t=e.dataTransfer,n=(0,c.matchNativeItemType)(t);n&&this.beginDragNativeItem(n)}}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleTopDragEnter",value:function(e){var t=this,n=this.dragEnterTargetIds;(this.dragEnterTargetIds=[],this.monitor.isDragging())&&(this.altKeyPressed=e.altKey,(0,s.isFirefox)()||this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some(function(e){return t.monitor.canDropOnTarget(e)})&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()))}},{key:"handleTopDragOverCapture",value:function(){this.dragOverTargetIds=[]}},{key:"handleDragOver",value:function(e,t){this.dragOverTargetIds.unshift(t)}},{key:"handleTopDragOver",value:function(e){var t=this,n=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.altKeyPressed=e.altKey,this.actions.hover(n,{clientOffset:(0,l.getEventClientOffset)(e)}),n.some(function(e){return t.monitor.canDropOnTarget(e)})?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")}},{key:"handleTopDragLeaveCapture",value:function(e){this.isDraggingNativeItem()&&e.preventDefault(),this.enterLeaveCounter.leave(e.target)&&this.isDraggingNativeItem()&&this.endDragNativeItem()}},{key:"handleTopDropCapture",value:function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"handleTopDrop",value:function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:(0,l.getEventClientOffset)(e)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()}},{key:"handleSelectStart",value:function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))}},{key:"window",get:function(){return this.context&&this.context.window?this.context.window:"undefined"!=typeof window?window:void 0}}]),e}();t.default=p},function(e,t,n){var r=n(349),i=n(536),a=n(1161),o=n(1167),s=Object.prototype,l=s.hasOwnProperty,c=r(function(e,t){e=Object(e);var n=-1,r=t.length,c=r>2?t[2]:void 0;for(c&&a(t[0],t[1],c)&&(r=1);++n<r;)for(var u=t[n],d=o(u),p=-1,h=d.length;++p<h;){var f=d[p],g=e[f];(void 0===g||i(g,s[f])&&!l.call(e,f))&&(e[f]=u[f])}return e});e.exports=c},function(e,t){e.exports=function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var r=n(415),i=n(683),a=n(348),o={};o["[object Float32Array]"]=o["[object Float64Array]"]=o["[object Int8Array]"]=o["[object Int16Array]"]=o["[object Int32Array]"]=o["[object Uint8Array]"]=o["[object Uint8ClampedArray]"]=o["[object Uint16Array]"]=o["[object Uint32Array]"]=!0,o["[object Arguments]"]=o["[object Array]"]=o["[object ArrayBuffer]"]=o["[object Boolean]"]=o["[object DataView]"]=o["[object Date]"]=o["[object Error]"]=o["[object Function]"]=o["[object Map]"]=o["[object Number]"]=o["[object Object]"]=o["[object RegExp]"]=o["[object Set]"]=o["[object String]"]=o["[object WeakMap]"]=!1,e.exports=function(e){return a(e)&&i(e.length)&&!!o[r(e)]}},function(e,t,n){var r=n(346),i=n(1170),a=n(1502),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!r(e))return a(e);var t=i(e),n=[];for(var s in e)("constructor"!=s||!t&&o.call(e,s))&&n.push(s);return n}},function(e,t){e.exports=function(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a+=1){if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;var o=e[n[a]],s=t[n[a]];if(o!==s)return!1}return!0}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=o(n(1505)),a=o(n(740));function o(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[]}return r(e,[{key:"enter",value:function(e){var t=this.entered.length;return this.entered=(0,i.default)(this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0}},{key:"leave",value:function(e){var t=this.entered.length;return this.entered=(0,a.default)(this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}]),e}();t.default=s},function(e,t,n){var r=n(681),i=n(349),a=n(743),o=n(435),s=i(function(e){return a(r(e,1,o,!0))});e.exports=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getNodeClientOffset=l,t.getEventClientOffset=function(e){return{x:e.clientX,y:e.clientY}},t.getDragPreviewOffset=function(e,t,n,r,a){var s=(I=t,"IMG"===I.nodeName&&((0,i.isFirefox)()||!document.documentElement.contains(I))),c=l(s?e:t),u={x:n.x-c.x,y:n.y-c.y},d=e.offsetWidth,p=e.offsetHeight,h=r.anchorX,f=r.anchorY,g=function(e,t,n,r){var a=e?t.width:n,o=e?t.height:r;(0,i.isSafari)()&&e&&(o/=window.devicePixelRatio,a/=window.devicePixelRatio);return{dragPreviewWidth:a,dragPreviewHeight:o}}(s,t,d,p),v=g.dragPreviewWidth,m=g.dragPreviewHeight,y=a.offsetX,b=a.offsetY,S=0===b||b;var I;return{x:0===y||y?y:new o.default([0,.5,1],[u.x,u.x/d*v,u.x+v-d]).interpolate(h),y:S?b:function(){var e=new o.default([0,.5,1],[u.y,u.y/p*m,u.y+m-p]).interpolate(f);(0,i.isSafari)()&&s&&(e+=(window.devicePixelRatio-1)*m);return e}()}};var r,i=n(750),a=n(1507),o=(r=a)&&r.__esModule?r:{default:r};var s=1;function l(e){var t=e.nodeType===s?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var i=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],a=0;a<r;a++)i.push(a);i.sort(function(e,n){return t[e]<t[n]?-1:1});for(var o=[],s=[],l=[],c=void 0,u=void 0,d=0;d<r-1;d++)c=t[d+1]-t[d],u=n[d+1]-n[d],s.push(c),o.push(u),l.push(u/c);for(var p=[l[0]],h=0;h<s.length-1;h++){var f=l[h],g=l[h+1];if(f*g<=0)p.push(0);else{c=s[h];var v=s[h+1],m=c+v;p.push(3*m/((m+v)/f+(m+c)/g))}}p.push(l[l.length-1]);for(var y=[],b=[],S=void 0,I=0;I<p.length-1;I++){S=l[I];var C=p[I],M=1/s[I],D=C+p[I+1]-S-S;y.push((S-C-D)*M),b.push(D*M*M)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=y,this.c3s=b}return r(e,[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,a=this.c3s,o=t.length-1;if(e===t[o])return n[o];for(var s=0,l=a.length-1,c=void 0;s<=l;){var u=t[c=Math.floor(.5*(s+l))];if(u<e)s=c+1;else{if(!(u>e))return n[c];l=c-1}}var d=e-t[o=Math.max(0,l)],p=d*d;return n[o]+r[o]*d+i[o]*p+a[o]*d*p}}]),e}();t.default=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.createNativeDragSource=function(e){var t=l[e],n=t.exposeProperty,r=t.matchesTypes,a=t.getData;return function(){function e(){var t,r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.item=(t={},(r={})[n]=r[n]||{},r[n].get=function(){return console.warn("Browser doesn't allow reading \""+n+'" until the drop event.'),null},function(e,t){for(var n in t){var r=t[n];r.configurable=r.enumerable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,n,r)}}(t,r),t)}return i(e,[{key:"mutateItemByReadingDataTransfer",value:function(e){delete this.item[n],this.item[n]=a(e,r)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}]),e}()},t.matchNativeItemType=function(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(l).filter(function(e){var n=l[e].matchesTypes;return n.some(function(e){return t.indexOf(e)>-1})})[0]||null};var a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(572));function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t,n){var r=t.reduce(function(t,n){return t||e.getData(n)},null);return null!=r?r:n}var l=(o(r={},a.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),o(r,a.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),o(r,a.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),r)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){r||((r=new Image).src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==");return r};var r=void 0},function(e,t,n){"use strict";n.r(t);var r=n(19),i=n(451),a=r.a.extend({name:"QueryRuleCollection",model:i.a});t.default=a},function(e,t,n){"use strict";e.exports={defaultFontFamily:'"Open Sans Semibold", "Helvetica Neue", Helvetica, Arial, sans-serif',boldFontFamily:'"Open Sans Bold", "Helvetica Neue", Helvetica, Arial, sans-serif',smallFontSize:"12px",smallIconFontSize:"12px",defaultFontSize:"13px",defaultIconFontSize:"14px",largeFontSize:"15px",headerFontSize:"24px",lineHeightComputed:"1.71428571"}},function(e,t,n){var r=n(142).default,i=n(139);e.exports=i(r)},function(e,t,n){"use strict";(function(t){var r=n(1514),i=n(1515),a=n(751),o=a.isFunction,s=a.isUndefined,l=a.isError,c=a.isEmptyObject,u=a.hasKey,d=a.joinRegExp,p=a.each,h=a.objectMerge,f=a.truncate,g=a.urlencode,v=a.uuid4,m="source protocol user pass host port path".split(" "),y=/^(?:(\w+):)?\/\/(?:(\w+)(:\w+)?@)?([\w\.-]+)(?::(\d+))?(\/.*)/;function b(){return+new Date}function S(){for(var e in this._hasJSON=!("object"!=typeof JSON||!JSON.stringify),this._hasDocument="undefined"!=typeof document,this._lastCapturedException=null,this._lastEventId=null,this._globalServer=null,this._globalKey=null,this._globalProject=null,this._globalContext={},this._globalOptions={logger:"javascript",ignoreErrors:[],ignoreUrls:[],whitelistUrls:[],includePaths:[],crossOrigin:"anonymous",collectWindowErrors:!0,maxMessageLength:0,stackTraceLimit:50},this._ignoreOnError=0,this._isRavenInstalled=!1,this._originalErrorStackTraceLimit=Error.stackTraceLimit,this._originalConsole=window.console||{},this._originalConsoleMethods={},this._plugins=[],this._startTime=b(),this._wrappedBuiltIns=[],this._originalConsole)this._originalConsoleMethods[e]=this._originalConsole[e]}S.prototype={VERSION:"2.2.0",debug:!1,TraceKit:r,config:function(e,t){var n=this;if(this._globalServer)return this._logDebug("error","Error: Raven has already been configured"),this;if(!e)return this;t&&p(t,function(e,t){"tags"===e||"extra"===e?n._globalContext[e]=t:n._globalOptions[e]=t});var i=this._parseDSN(e),a=i.path.lastIndexOf("/"),o=i.path.substr(1,a);return this._dsn=e,this._globalOptions.ignoreErrors.push(/^Script error\.?$/),this._globalOptions.ignoreErrors.push(/^Javascript error: Script error\.? on line 0$/),this._globalOptions.ignoreErrors=d(this._globalOptions.ignoreErrors),this._globalOptions.ignoreUrls=!!this._globalOptions.ignoreUrls.length&&d(this._globalOptions.ignoreUrls),this._globalOptions.whitelistUrls=!!this._globalOptions.whitelistUrls.length&&d(this._globalOptions.whitelistUrls),this._globalOptions.includePaths=d(this._globalOptions.includePaths),this._globalKey=i.user,this._globalSecret=i.pass&&i.pass.substr(1),this._globalProject=i.path.substr(a+1),this._globalServer=this._getGlobalServer(i),this._globalEndpoint=this._globalServer+"/"+o+"api/"+this._globalProject+"/store/",this._globalOptions.fetchContext&&(r.remoteFetching=!0),this._globalOptions.linesOfContext&&(r.linesOfContext=this._globalOptions.linesOfContext),r.collectWindowErrors=!!this._globalOptions.collectWindowErrors,this},install:function(){var e=this;return this.isSetup()&&!this._isRavenInstalled&&(r.report.subscribe(function(){e._handleOnErrorStackInfo.apply(e,arguments)}),this._wrapBuiltIns(),this._drainPlugins(),this._isRavenInstalled=!0),Error.stackTraceLimit=this._globalOptions.stackTraceLimit,this},context:function(e,t,n){return o(e)&&(n=t||[],t=e,e=void 0),this.wrap(e,t).apply(this,n)},wrap:function(e,t){var n=this;if(s(t)&&!o(e))return e;if(o(e)&&(t=e,e=void 0),!o(t))return t;try{if(t.__raven__)return t}catch(e){return t}if(t.__raven_wrapper__)return t.__raven_wrapper__;function r(){for(var r=[],i=arguments.length,a=!e||e&&!1!==e.deep;i--;)r[i]=a?n.wrap(e,arguments[i]):arguments[i];try{return t.apply(this,r)}catch(t){throw n._ignoreNextOnError(),n.captureException(t,e),t}}for(var i in t)u(t,i)&&(r[i]=t[i]);return t.__raven_wrapper__=r,r.prototype=t.prototype,r.__raven__=!0,r.__inner__=t,r},uninstall:function(){return r.report.uninstall(),this._restoreBuiltIns(),Error.stackTraceLimit=this._originalErrorStackTraceLimit,this._isRavenInstalled=!1,this},captureException:function(e,t){if(!l(e))return this.captureMessage(e,t);this._lastCapturedException=e;try{var n=r.computeStackTrace(e);this._handleStackInfo(n,t)}catch(t){if(e!==t)throw t}return this},captureMessage:function(e,t){if(!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(e))return this._send(h({message:e+""},t)),this},addPlugin:function(e){var t=Array.prototype.slice.call(arguments,1);return this._plugins.push([e,t]),this._isRavenInstalled&&this._drainPlugins(),this},setUserContext:function(e){return this._globalContext.user=e,this},setExtraContext:function(e){return this._mergeContext("extra",e),this},setTagsContext:function(e){return this._mergeContext("tags",e),this},clearContext:function(){return this._globalContext={},this},getContext:function(){return JSON.parse(JSON.stringify(this._globalContext))},setRelease:function(e){return this._globalOptions.release=e,this},setDataCallback:function(e){return this._globalOptions.dataCallback=e,this},setShouldSendCallback:function(e){return this._globalOptions.shouldSendCallback=e,this},setTransport:function(e){return this._globalOptions.transport=e,this},lastException:function(){return this._lastCapturedException},lastEventId:function(){return this._lastEventId},isSetup:function(){return!!this._hasJSON&&(!!this._globalServer||(this.ravenNotConfiguredError||(this.ravenNotConfiguredError=!0,this._logDebug("error","Error: Raven has not been configured.")),!1))},afterLoad:function(){var e=window.RavenConfig;e&&this.config(e.dsn,e.config).install()},showReportDialog:function(e){if(window.document){var t=(e=e||{}).eventId||this.lastEventId();if(!t)throw new i("Missing eventId");var n=e.dsn||this._dsn;if(!n)throw new i("Missing DSN");var r=encodeURIComponent,a="";a+="?eventId="+r(t),a+="&dsn="+r(n);var o=e.user||this._globalContext.user;o&&(o.name&&(a+="&name="+r(o.name)),o.email&&(a+="&email="+r(o.email)));var s=this._getGlobalServer(this._parseDSN(n)),l=document.createElement("script");l.async=!0,l.src=s+"/api/embed/error-page/"+a,(document.head||document.body).appendChild(l)}},_ignoreNextOnError:function(){var e=this;this._ignoreOnError+=1,setTimeout(function(){e._ignoreOnError-=1})},_triggerEvent:function(e,t){var n,r;if(this._hasDocument){for(r in t=t||{},e="raven"+e.substr(0,1).toUpperCase()+e.substr(1),document.createEvent?(n=document.createEvent("HTMLEvents")).initEvent(e,!0,!0):(n=document.createEventObject()).eventType=e,t)u(t,r)&&(n[r]=t[r]);if(document.createEvent)document.dispatchEvent(n);else try{document.fireEvent("on"+n.eventType.toLowerCase(),n)}catch(e){}}},_wrapBuiltIns:function(){var e=this;function n(t,n,r,i){var a=t[n];t[n]=r(a),i||e._wrappedBuiltIns.push([t,n,a])}function r(t){return function(n,r){var i=[].slice.call(arguments),a=i[0];return o(a)&&(i[0]=e.wrap(a)),t.apply?t.apply(this,i):t(i[0],i[1])}}n(window,"setTimeout",r),n(window,"setInterval",r),window.requestAnimationFrame&&n(window,"requestAnimationFrame",function(t){return function(n){return t(e.wrap(n))}}),"EventTarget Window Node ApplicationCache AudioTrackList ChannelMergerNode CryptoOperation EventSource FileReader HTMLUnknownElement IDBDatabase IDBRequest IDBTransaction KeyOperation MediaController MessagePort ModalWindow Notification SVGElementInstance Screen TextTrack TextTrackCue TextTrackList WebSocket WebSocketWorker Worker XMLHttpRequest XMLHttpRequestEventTarget XMLHttpRequestUpload".replace(/\w+/g,function(t){var r=window[t]&&window[t].prototype;r&&r.hasOwnProperty&&r.hasOwnProperty("addEventListener")&&(n(r,"addEventListener",function(t){return function(n,r,i,a){try{r&&r.handleEvent&&(r.handleEvent=e.wrap(r.handleEvent))}catch(e){}return t.call(this,n,e.wrap(r),i,a)}}),n(r,"removeEventListener",function(e){return function(t,n,r,i){return n=n&&(n.__raven_wrapper__?n.__raven_wrapper__:n),e.call(this,t,n,r,i)}}))}),"XMLHttpRequest"in window&&n(XMLHttpRequest.prototype,"send",function(t){return function(r){var i=this;return"onreadystatechange onload onerror onprogress".replace(/\w+/g,function(t){t in i&&"[object Function]"===Object.prototype.toString.call(i[t])&&n(i,t,function(t){return e.wrap(t)},!0)}),t.apply(this,arguments)}});var i=t||window.$;i&&i.fn&&i.fn.ready&&n(i.fn,"ready",function(t){return function(n){return t.call(this,e.wrap(n))}})},_restoreBuiltIns:function(){for(var e;this._wrappedBuiltIns.length;){var t=(e=this._wrappedBuiltIns.shift())[0],n=e[1],r=e[2];t[n]=r}},_drainPlugins:function(){var e=this;p(this._plugins,function(t,n){var r=n[0],i=n[1];r.apply(e,[e].concat(i))})},_parseDSN:function(e){var t=y.exec(e),n={},r=7;try{for(;r--;)n[m[r]]=t[r]||""}catch(t){throw new i("Invalid DSN: "+e)}if(n.pass&&!this._globalOptions.allowSecretKey)throw new i("Do not specify your secret key in the DSN. See: http://bit.ly/raven-secret-key");return n},_getGlobalServer:function(e){var t="//"+e.host+(e.port?":"+e.port:"");return e.protocol&&(t=e.protocol+":"+t),t},_handleOnErrorStackInfo:function(){this._ignoreOnError||this._handleStackInfo.apply(this,arguments)},_handleStackInfo:function(e,t){var n=this,r=[];e.stack&&e.stack.length&&p(e.stack,function(e,t){var i=n._normalizeFrame(t);i&&r.push(i)}),this._triggerEvent("handle",{stackInfo:e,options:t}),this._processException(e.name,e.message,e.url,e.lineno,r.slice(0,this._globalOptions.stackTraceLimit),t)},_normalizeFrame:function(e){if(e.url){var t,n={filename:e.url,lineno:e.line,colno:e.column,function:e.func||"?"},r=this._extractContextFromFrame(e);if(r){var i=["pre_context","context_line","post_context"];for(t=3;t--;)n[i[t]]=r[t]}return n.in_app=!(this._globalOptions.includePaths.test&&!this._globalOptions.includePaths.test(n.filename)||/(Raven|TraceKit)\./.test(n.function)||/raven\.(min\.)?js$/.test(n.filename)),n}},_extractContextFromFrame:function(e){if(e.context&&this._globalOptions.fetchContext){for(var t=e.context,n=~~(t.length/2),r=t.length,i=!1;r--;)if(t[r].length>300){i=!0;break}if(i){if(s(e.column))return;return[[],t[n].substr(e.column,50),[]]}return[t.slice(0,n),t[n],t.slice(n+1)]}},_processException:function(e,t,n,r,i,a){var o,s;if((!this._globalOptions.ignoreErrors.test||!this._globalOptions.ignoreErrors.test(t))&&(t=f(t+="",this._globalOptions.maxMessageLength),s=f(s=e+": "+t,this._globalOptions.maxMessageLength),i&&i.length?(n=i[0].filename||n,i.reverse(),o={frames:i}):n&&(o={frames:[{filename:n,lineno:r,in_app:!0}]}),(!this._globalOptions.ignoreUrls.test||!this._globalOptions.ignoreUrls.test(n))&&(!this._globalOptions.whitelistUrls.test||this._globalOptions.whitelistUrls.test(n)))){var l=h({exception:{values:[{type:e,value:t,stacktrace:o}]},culprit:n,message:s},a);this._send(l)}},_trimPacket:function(e){var t=this._globalOptions.maxMessageLength;if(e.message=f(e.message,t),e.exception){var n=e.exception.values[0];n.value=f(n.value,t)}return e},_getHttpData:function(){if(this._hasDocument&&document.location&&document.location.href){var e={headers:{"User-Agent":navigator.userAgent}};return e.url=document.location.href,document.referrer&&(e.headers.Referer=document.referrer),e}},_send:function(e){var t=this,n=this._globalOptions,r={project:this._globalProject,logger:n.logger,platform:"javascript"},i=this._getHttpData();if(i&&(r.request=i),(e=h(r,e)).tags=h(h({},this._globalContext.tags),e.tags),e.extra=h(h({},this._globalContext.extra),e.extra),e.extra["session:duration"]=b()-this._startTime,c(e.tags)&&delete e.tags,this._globalContext.user&&(e.user=this._globalContext.user),n.release&&(e.release=n.release),n.serverName&&(e.server_name=n.serverName),o(n.dataCallback)&&(e=n.dataCallback(e)||e),e&&!c(e)&&(!o(n.shouldSendCallback)||n.shouldSendCallback(e))&&(this._lastEventId=e.event_id||(e.event_id=v()),e=this._trimPacket(e),this._logDebug("debug","Raven about to send:",e),this.isSetup())){var a={sentry_version:"7",sentry_client:"raven-js/"+this.VERSION,sentry_key:this._globalKey};this._globalSecret&&(a.sentry_secret=this._globalSecret);var s=this._globalEndpoint;(n.transport||this._makeRequest).call(this,{url:s,auth:a,data:e,options:n,onSuccess:function(){t._triggerEvent("success",{data:e,src:s})},onError:function(){t._triggerEvent("failure",{data:e,src:s})}})}},_makeImageRequest:function(e){e.auth.sentry_data=JSON.stringify(e.data);var t=this._newImage(),n=e.url+"?"+g(e.auth),r=e.options.crossOrigin;(r||""===r)&&(t.crossOrigin=r),t.onload=e.onSuccess,t.onerror=t.onabort=e.onError,t.src=n},_makeXhrRequest:function(e){var t,n=e.url;function r(){200===t.status?e.onSuccess&&e.onSuccess():e.onError&&e.onError()}"withCredentials"in(t=new XMLHttpRequest)?t.onreadystatechange=function(){4===t.readyState&&r()}:(t=new XDomainRequest,n=n.replace(/^https?:/,""),t.onload=r),t.open("POST",n+"?"+g(e.auth)),t.send(JSON.stringify(e.data))},_makeRequest:function(e){return("withCredentials"in new XMLHttpRequest||"undefined"!=typeof XDomainRequest?this._makeXhrRequest:this._makeImageRequest)(e)},_newImage:function(){return document.createElement("img")},_logDebug:function(e){this._originalConsoleMethods[e]&&this.debug&&Function.prototype.apply.call(this._originalConsoleMethods[e],this._originalConsole,[].slice.call(arguments,1))},_mergeContext:function(e,t){s(t)?delete this._globalContext[e]:this._globalContext[e]=h(this._globalContext[e]||{},t)}},S.prototype.setUser=S.prototype.setUserContext,S.prototype.setReleaseContext=S.prototype.setRelease,e.exports=S}).call(this,n(8))},function(e,t,n){"use strict";var r=n(751),i=r.hasKey,a=r.isString,o=r.isUndefined,s={remoteFetching:!1,collectWindowErrors:!0,linesOfContext:7,debug:!1},l=[].slice,c="?";function u(){return"undefined"==typeof document?"":document.location.href}s.report=function(){var e,t,n=[],r=null,a=null,o=null;function c(e,t){var r=null;if(!t||s.collectWindowErrors){for(var a in n)if(i(n,a))try{n[a].apply(null,[e].concat(l.call(arguments,2)))}catch(e){r=e}if(r)throw r}}function d(t,n,r,i,a){if(o)s.computeStackTrace.augmentStackTraceWithInitialElement(o,n,r,t),p();else if(a)c(s.computeStackTrace(a),!0);else{var l={url:n,line:r,column:i};l.func=s.computeStackTrace.guessFunctionName(l.url,l.line),l.context=s.computeStackTrace.gatherContext(l.url,l.line),c({message:t,url:u(),stack:[l]},!0)}return!!e&&e.apply(this,arguments)}function p(){var e=o,t=r;r=null,o=null,a=null,c.apply(null,[e,!1].concat(t))}function h(e,t){var n=l.call(arguments,1);if(o){if(a===e)return;p()}var i=s.computeStackTrace(e);if(o=i,a=e,r=n,window.setTimeout(function(){a===e&&p()},i.incomplete?2e3:0),!1!==t)throw e}return h.subscribe=function(r){t||(e=window.onerror,window.onerror=d,t=!0),n.push(r)},h.unsubscribe=function(e){for(var t=n.length-1;t>=0;--t)n[t]===e&&n.splice(t,1)},h.uninstall=function(){t&&(window.onerror=e,t=!1,e=void 0),n=[]},h}(),s.computeStackTrace=function(){var e={};function t(t){if(!a(t))return[];if(!i(e,t)){var n="",r="";try{r=document.domain}catch(e){}-1!==t.indexOf(r)&&(n=function(e){if(!s.remoteFetching)return"";try{var t=function(){try{return new window.XMLHttpRequest}catch(e){return new window.ActiveXObject("Microsoft.XMLHTTP")}}();return t.open("GET",e,!1),t.send(""),t.responseText}catch(e){return""}}(t)),e[t]=n?n.split("\n"):[]}return e[t]}function n(e,n){var r,i=/function ([^(]*)\(([^)]*)\)/,a=/['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,s="",l=t(e);if(!l.length)return c;for(var u=0;u<10;++u)if(s=l[n-u]+s,!o(s)){if(r=a.exec(s))return r[1];if(r=i.exec(s))return r[1]}return c}function r(e,n){var r=t(e);if(!r.length)return null;var i=[],a=Math.floor(s.linesOfContext/2),l=a+s.linesOfContext%2,c=Math.max(0,n-a-1),u=Math.min(r.length,n+l-1);n-=1;for(var d=c;d<u;++d)o(r[d])||i.push(r[d]);return i.length>0?i:null}function l(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g,"\\$&")}function d(e){return l(e).replace("<","(?:<|&lt;)").replace(">","(?:>|&gt;)").replace("&","(?:&|&amp;)").replace('"','(?:"|&quot;)').replace(/\s+/g,"\\s+")}function p(e,n){for(var r,i,a=0,o=n.length;a<o;++a)if((r=t(n[a])).length&&(r=r.join("\n"),i=e.exec(r)))return{url:n[a],line:r.substring(0,i.index).split("\n").length,column:i.index-r.lastIndexOf("\n",i.index)-1};return null}function h(e,n,r){var i,a=t(n),o=new RegExp("\\b"+l(e)+"\\b");return r-=1,a&&a.length>r&&(i=o.exec(a[r]))?i.index:null}function f(e){if("undefined"!=typeof document){for(var t,n,r,i,a=[window.location.href],o=document.getElementsByTagName("script"),s=""+e,c=0;c<o.length;++c){var u=o[c];u.src&&a.push(u.src)}if(r=/^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(s)){var h=r[1]?"\\s+"+r[1]:"",f=r[2].split(",").join("\\s*,\\s*");t=l(r[3]).replace(/;$/,";?"),n=new RegExp("function"+h+"\\s*\\(\\s*"+f+"\\s*\\)\\s*{\\s*"+t+"\\s*}")}else n=new RegExp(l(s).replace(/\s+/g,"\\s+"));if(i=p(n,a))return i;if(r=/^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/.exec(s)){var g=r[1];if(t=d(r[2]),i=p(n=new RegExp("on"+g+"=[\\'\"]\\s*"+t+"\\s*[\\'\"]","i"),a[0]))return i;if(i=p(n=new RegExp(t),a))return i}return null}}function g(e){if(!o(e.stack)&&e.stack){for(var t,i,a=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,s=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|\[).*?)(?::(\d+))?(?::(\d+))?\s*$/i,l=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,d=e.stack.split("\n"),p=[],f=/^(.*) is undefined$/.exec(e.message),g=0,v=d.length;g<v;++g){if(t=a.exec(d[g])){var m=t[2]&&-1!==t[2].indexOf("native");i={url:m?null:t[2],func:t[1]||c,args:m?[t[2]]:[],line:t[3]?+t[3]:null,column:t[4]?+t[4]:null}}else if(t=l.exec(d[g]))i={url:t[2],func:t[1]||c,args:[],line:+t[3],column:t[4]?+t[4]:null};else{if(!(t=s.exec(d[g])))continue;i={url:t[3],func:t[1]||c,args:t[2]?t[2].split(","):[],line:t[4]?+t[4]:null,column:t[5]?+t[5]:null}}!i.func&&i.line&&(i.func=n(i.url,i.line)),i.line&&(i.context=r(i.url,i.line)),p.push(i)}return p.length?(p[0].line&&!p[0].column&&f?p[0].column=h(f[1],p[0].url,p[0].line):p[0].column||o(e.columnNumber)||(p[0].column=e.columnNumber+1),{name:e.name,message:e.message,url:u(),stack:p}):null}}function v(e,t,i,a){var o={url:t,line:i};if(o.url&&o.line){e.incomplete=!1,o.func||(o.func=n(o.url,o.line)),o.context||(o.context=r(o.url,o.line));var s=/ '([^']+)' /.exec(a);if(s&&(o.column=h(s[1],o.url,o.line)),e.stack.length>0&&e.stack[0].url===o.url){if(e.stack[0].line===o.line)return!1;if(!e.stack[0].line&&e.stack[0].func===o.func)return e.stack[0].line=o.line,e.stack[0].context=o.context,!1}return e.stack.unshift(o),e.partial=!0,!0}return e.incomplete=!0,!1}function m(e,t){for(var r,i,a,o=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,l=[],d={},p=!1,g=m.caller;g&&!p;g=g.caller)if(g!==y&&g!==s.report){if(i={url:null,func:c,line:null,column:null},g.name?i.func=g.name:(r=o.exec(g.toString()))&&(i.func=r[1]),void 0===i.func)try{i.func=r.input.substring(0,r.input.indexOf("{"))}catch(e){}if(a=f(g)){i.url=a.url,i.line=a.line,i.func===c&&(i.func=n(i.url,i.line));var b=/ '([^']+)' /.exec(e.message||e.description);b&&(i.column=h(b[1],a.url,a.line))}d[""+g]?p=!0:d[""+g]=!0,l.push(i)}t&&l.splice(0,t);var S={name:e.name,message:e.message,url:u(),stack:l};return v(S,e.sourceURL||e.fileName,e.line||e.lineNumber,e.message||e.description),S}function y(e,a){var l=null;a=null==a?0:+a;try{if(l=function(e){var t=e.stacktrace;if(!o(e.stacktrace)&&e.stacktrace){for(var i,a=/ line (\d+).*script (?:in )?(\S+)(?:: in function (\S+))?$/i,s=/ line (\d+), column (\d+)\s*(?:in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\))? in (.*):\s*$/i,l=t.split("\n"),c=[],d=0;d<l.length;d+=2){var p=null;if((i=a.exec(l[d]))?p={url:i[2],line:+i[1],column:null,func:i[3],args:[]}:(i=s.exec(l[d]))&&(p={url:i[6],line:+i[1],column:+i[2],func:i[3]||i[4],args:i[5]?i[5].split(","):[]}),p){if(!p.func&&p.line&&(p.func=n(p.url,p.line)),p.line)try{p.context=r(p.url,p.line)}catch(e){}p.context||(p.context=[l[d+1]]),c.push(p)}}return c.length?{name:e.name,message:e.message,url:u(),stack:c}:null}}(e))return l}catch(e){if(s.debug)throw e}try{if(l=g(e))return l}catch(e){if(s.debug)throw e}try{if(l=function(e){var a=e.message.split("\n");if(a.length<4)return null;var o,s=/^\s*Line (\d+) of linked script ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,l=/^\s*Line (\d+) of inline#(\d+) script in ((?:file|https?|blob)\S+)(?:: in function (\S+))?\s*$/i,c=/^\s*Line (\d+) of function script\s*$/i,h=[],f=document.getElementsByTagName("script"),g=[];for(var v in f)i(f,v)&&!f[v].src&&g.push(f[v]);for(var m=2;m<a.length;m+=2){var y=null;if(o=s.exec(a[m]))y={url:o[2],func:o[3],args:[],line:+o[1],column:null};else if(o=l.exec(a[m])){y={url:o[3],func:o[4],args:[],line:+o[1],column:null};var b=+o[1],S=g[o[2]-1];if(S){var I=t(y.url);if(I){var C=(I=I.join("\n")).indexOf(S.innerText);C>=0&&(y.line=b+I.substring(0,C).split("\n").length)}}}else if(o=c.exec(a[m])){var M=window.location.href.replace(/#.*$/,""),D=p(new RegExp(d(a[m+1])),[M]);y={url:M,func:"",args:[],line:D?D.line:o[1],column:null}}if(y){y.func||(y.func=n(y.url,y.line));var w=r(y.url,y.line),P=w?w[Math.floor(w.length/2)]:null;w&&P.replace(/^\s*/,"")===a[m+1].replace(/^\s*/,"")?y.context=w:y.context=[a[m+1]],h.push(y)}}return h.length?{name:e.name,message:a[0],url:u(),stack:h}:null}(e))return l}catch(e){if(s.debug)throw e}try{if(l=m(e,a+1))return l}catch(e){if(s.debug)throw e}return{name:e.name,message:e.message,url:u()}}return y.augmentStackTraceWithInitialElement=v,y.computeStackTraceFromStackProp=g,y.guessFunctionName=n,y.gatherContext=r,y}(),e.exports=s},function(e,t,n){"use strict";function r(e){this.name="RavenConfigError",this.message=e}r.prototype=new Error,r.prototype.constructor=r,e.exports=r},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"refreshMetadata",function(){return Fc}),n.d(r,"analyzeItems",function(){return Bc}),n.d(r,"analyzeSection",function(){return Wc}),n.d(r,"unmatch",function(){return Gc}),n.d(r,"splitApart",function(){return Yc}),n.d(r,"merge",function(){return Kc}),n.d(r,"deleteItems",function(){return Zc}),n.d(r,"deleteMediaItem",function(){return tu}),n.d(r,"deleteVersions",function(){return ru}),n.d(r,"deleteSection",function(){return su}),n.d(r,"deleteSectionThumbnails",function(){return lu}),n.d(r,"deletePlaylist",function(){return cu}),n.d(r,"updateLibrary",function(){return uu}),n.d(r,"optimize",function(){return du}),n.d(r,"cleanBundles",function(){return pu}),n.d(r,"emptyTrash",function(){return hu}),n.d(r,"match",function(){return fu}),n.d(r,"autoMatch",function(){return gu}),n.d(r,"changeArtwork",function(){return mu}),n.d(r,"rate",function(){return yu}),n.d(r,"enableVersionGenerator",function(){return bu}),n.d(r,"disableVersionGenerator",function(){return Su}),n.d(r,"reprocessVersionGenerator",function(){return Iu}),n.d(r,"deleteVersionGenerator",function(){return Cu}),n.d(r,"deleteAllVersionGenerators",function(){return Du}),n.d(r,"updateChannel",function(){return wu}),n.d(r,"uninstallChannel",function(){return Tu}),n.d(r,"connectServer",function(){return Lu}),n.d(r,"reconnectServer",function(){return Ru}),n.d(r,"signInServer",function(){return _u}),n.d(r,"removeServer",function(){return zu}),n.d(r,"checkForServerUpdates",function(){return Fu}),n.d(r,"installServerUpdates",function(){return Vu}),n.d(r,"showSyncModal",function(){return xd}),n.d(r,"deleteSyncItem",function(){return Od}),n.d(r,"refreshSyncLists",function(){return jd}),n.d(r,"removeDevice",function(){return Ad}),n.d(r,"signOut",function(){return kd}),n.d(r,"remotePlaybackUnlock",function(){return Ld}),n.d(r,"testServerConnection",function(){return St}),n.d(r,"abortServerConnectionTest",function(){return It}),n.d(r,"populateServerIdentity",function(){return Ct}),n.d(r,"resetUser",function(){return Ls}),n.d(r,"switchUser",function(){return Rs}),n.d(r,"authenticateWithServer",function(){return _s}),n.d(r,"authenticateWithHash",function(){return Us}),n.d(r,"selectStream",function(){return Bs}),n.d(r,"updateWatchedStatus",function(){return Hs}),n.d(r,"deleteFile",function(){return Vs}),n.d(r,"deleteItem",function(){return qs});var i={};n.r(i),n.d(i,"UP",function(){return Up}),n.d(i,"RIGHT",function(){return zp}),n.d(i,"DOWN",function(){return Fp}),n.d(i,"LEFT",function(){return Bp}),n.d(i,"all",function(){return Hp});var a={};n.r(a),n.d(a,"DEFAULT",function(){return Vp}),n.d(a,"PRIMARY",function(){return Qp}),n.d(a,"SUCCESS",function(){return Wp}),n.d(a,"DANGER",function(){return Gp}),n.d(a,"DARK",function(){return Yp}),n.d(a,"all",function(){return Kp});var o={};n.r(o),n.d(o,"NONE",function(){return Zp}),n.d(o,"VERTICAL",function(){return Xp}),n.d(o,"HORIZONTAL",function(){return Jp}),n.d(o,"OMNI",function(){return $p}),n.d(o,"all",function(){return eh});var s={};n.r(s),n.d(s,"TOP_LEFT",function(){return th}),n.d(s,"TOP_CENTER",function(){return nh}),n.d(s,"TOP_RIGHT",function(){return rh}),n.d(s,"BOTTOM_LEFT",function(){return ih}),n.d(s,"BOTTOM_CENTER",function(){return ah}),n.d(s,"BOTTOM_RIGHT",function(){return oh}),n.d(s,"MIDDLE_LEFT",function(){return sh}),n.d(s,"MIDDLE_RIGHT",function(){return lh}),n.d(s,"all",function(){return ch});var l={};n.r(l),n.d(l,"CALENDAR",function(){return uh}),n.d(l,"AGENDA",function(){return dh}),n.d(l,"all",function(){return ph});var c={};n.r(c),n.d(c,"SERVER",function(){return Er.n}),n.d(c,"PROVIDER",function(){return Er.l}),n.d(c,"LIBRARY",function(){return Er.d}),n.d(c,"HUB",function(){return Er.c}),n.d(c,"USER",function(){return Er.p}),n.d(c,"RESOURCE",function(){return Er.m}),n.d(c,"FRIEND",function(){return Er.a}),n.d(c,"HOME_USER",function(){return Er.b}),n.d(c,"METADATA_LIST",function(){return Er.i}),n.d(c,"METADATA_DIRECTORY",function(){return Er.g}),n.d(c,"METADATA_ITEM",function(){return Er.h}),n.d(c,"SESSION",function(){return Er.o}),n.d(c,"MEDIA_SUBSCRIPTION",function(){return Er.f}),n.d(c,"LIVE_TV_SESSION",function(){return Er.e}),n.d(c,"PLAY_QUEUE_ITEM",function(){return Er.k}),n.d(c,"PLAYLIST_ITEM",function(){return Er.j}),n.d(c,"TRANSCODE_JOBS",function(){return Ab}),n.d(c,"BACKGROUND_TRANSCODE_JOBS",function(){return Nb}),n.d(c,"SEARCH_RESULT",function(){return kb}),n.d(c,"SYNC_METADATA_ITEM",function(){return Lb});var u={};n.r(u),n.d(u,"resetEPGSettings",function(){return lV}),n.d(u,"fetchEPGCountries",function(){return cV}),n.d(u,"fetchEPGLanguages",function(){return uV}),n.d(u,"selectEPGCountry",function(){return dV}),n.d(u,"selectEPGLanguage",function(){return pV}),n.d(u,"selectEPGRegion",function(){return hV}),n.d(u,"setEPGPostalCode",function(){return fV}),n.d(u,"fetchEPGLineups",function(){return gV});var d={};n.r(d),n.d(d,"startPlayback",function(){return Hee}),n.d(d,"endPlayback",function(){return Vee}),n.d(d,"playNextItem",function(){return Qee}),n.d(d,"playPreviousItem",function(){return Wee}),n.d(d,"playItem",function(){return Gee}),n.d(d,"play",function(){return Yee}),n.d(d,"pause",function(){return Kee}),n.d(d,"seek",function(){return qee}),n.d(d,"changeVolume",function(){return Zee}),n.d(d,"changeQualityIndex",function(){return Xee}),n.d(d,"changeStream",function(){return Jee}),n.d(d,"changeSubtitleColor",function(){return $ee}),n.d(d,"changeSubtitlePosition",function(){return ete}),n.d(d,"changeSubtitleSize",function(){return tte}),n.d(d,"changeSubtitleOffset",function(){return nte}),n.d(d,"changeAutoPlay",function(){return rte}),n.d(d,"changePlaybackSpeed",function(){return ite}),n.d(d,"setRepeat",function(){return ate}),n.d(d,"refreshRemotePlayQueue",function(){return ote}),n.d(d,"refreshRemoteStreams",function(){return ste}),n.d(d,"mirrorDetails",function(){return lte}),n.d(d,"skipAd",function(){return cte});var p={};n.r(p),n.d(p,"startPlayback",function(){return kte}),n.d(p,"endPlayback",function(){return Lte}),n.d(p,"playNextItem",function(){return Rte}),n.d(p,"playPreviousItem",function(){return _te}),n.d(p,"playItem",function(){return Ute}),n.d(p,"play",function(){return zte}),n.d(p,"pause",function(){return Fte}),n.d(p,"seek",function(){return Bte}),n.d(p,"changeVolume",function(){return Hte}),n.d(p,"changeQualityIndex",function(){return Vte}),n.d(p,"changeStream",function(){return Qte}),n.d(p,"changeSubtitleColor",function(){return Wte}),n.d(p,"changeSubtitlePosition",function(){return Gte}),n.d(p,"changeSubtitleSize",function(){return Yte}),n.d(p,"changeSubtitleOffset",function(){return Kte}),n.d(p,"changeAutoPlay",function(){return qte}),n.d(p,"changePlaybackSpeed",function(){return Zte}),n.d(p,"setRepeat",function(){return Xte}),n.d(p,"refreshRemotePlayQueue",function(){return Jte}),n.d(p,"refreshRemoteStreams",function(){return $te}),n.d(p,"mirrorDetails",function(){return ene}),n.d(p,"skipAd",function(){return tne});var h={};n.r(h),n.d(h,"startPlayback",function(){return cne}),n.d(h,"endPlayback",function(){return une}),n.d(h,"playNextItem",function(){return dne}),n.d(h,"playPreviousItem",function(){return pne}),n.d(h,"playItem",function(){return hne}),n.d(h,"play",function(){return fne}),n.d(h,"pause",function(){return gne}),n.d(h,"seek",function(){return vne}),n.d(h,"changeVolume",function(){return mne}),n.d(h,"changeQualityIndex",function(){return yne}),n.d(h,"changeStream",function(){return bne}),n.d(h,"changeSubtitleColor",function(){return Sne}),n.d(h,"changeSubtitlePosition",function(){return Ine}),n.d(h,"changeSubtitleSize",function(){return Cne}),n.d(h,"changeSubtitleOffset",function(){return Mne}),n.d(h,"changeAutoPlay",function(){return Dne}),n.d(h,"changePlaybackSpeed",function(){return wne}),n.d(h,"setRepeat",function(){return Pne}),n.d(h,"refreshRemotePlayQueue",function(){return Tne}),n.d(h,"refreshRemoteStreams",function(){return Ene}),n.d(h,"mirrorDetails",function(){return xne});var f={};n.r(f),n.d(f,"initQuickSearch",function(){return lse}),n.d(f,"resetQuickSearch",function(){return cse}),n.d(f,"fetchQuickSearch",function(){return use}),n.d(f,"changeQuickSearchQuery",function(){return dse}),n.d(f,"changeQuickSearchSettings",function(){return pse}),n.d(f,"selectQuickSearchResult",function(){return hse}),n.d(f,"navigateQuickSearchResult",function(){return fse}),n.d(f,"playQuickSearchResult",function(){return gse});var g={};n.r(g),n.d(g,"ANALYZE_METADATA_ITEM",function(){return Vue}),n.d(g,"DELETE_METADATA_ITEM",function(){return Que}),n.d(g,"DELETE_METADATA_ITEM_VERSION",function(){return Wue}),n.d(g,"DOWNLOAD_METADATA_ITEM_VERSION",function(){return Gue}),n.d(g,"EDIT_METADATA_ITEM",function(){return Yue}),n.d(g,"FIX_METADATA_ITEM_MATCH",function(){return Kue}),n.d(g,"GET_METADATA_ITEM_INFO",function(){return que}),n.d(g,"UPDATE_METADATA_ITEM_PLAYED_STATUS",function(){return Zue}),n.d(g,"OPTIMIZE_METADATA_ITEM",function(){return Xue}),n.d(g,"RATE_METADATA_ITEM",function(){return Jue}),n.d(g,"REFRESH_METADATA_ITEM",function(){return $ue}),n.d(g,"SPLIT_METADATA_ITEM_APART",function(){return ede}),n.d(g,"SYNC_METADATA_ITEM",function(){return tde}),n.d(g,"UNMATCH_METADATA_ITEM",function(){return nde}),n.d(g,"CHANGE_METADATA_ITEM_FIELD",function(){return rde}),n.d(g,"UPDATE_METADATA_ITEM_REFRESHING_STATE",function(){return ide}),n.d(g,"UPDATE_METADATA_SETTINGS",function(){return ade}),n.d(g,"CLEAR_METADATA_SETTINGS_ERROR",function(){return ode}),n.d(g,"UPDATE_DOWNLOAD_AVAILABILITY",function(){return sde}),n.d(g,"UPDATE_DOWNLOAD_AVAILABILITY_FROM_DELETED_TIMELINE",function(){return lde}),n.d(g,"SET_DOWNLOAD_SUBSCRIPTION_ID",function(){return cde}),n.d(g,"UNSET_DOWNLOAD_SUBSCRIPTION_ID",function(){return ude}),n.d(g,"UPDATE_DOWNLOAD_SUBSCRIPTION_IDS",function(){return dde}),n.d(g,"analyzeMetadataItem",function(){return pde}),n.d(g,"deleteMetadataItem",function(){return hde}),n.d(g,"deleteMetadataItemVersion",function(){return fde}),n.d(g,"downloadMetadataItemVersion",function(){return gde}),n.d(g,"editMetadataItem",function(){return vde}),n.d(g,"fixMetadataItemMatch",function(){return mde}),n.d(g,"getMetadataItemInfo",function(){return yde}),n.d(g,"updateMetadataItemPlayedStatus",function(){return bde}),n.d(g,"optimizeMetadataItem",function(){return Sde}),n.d(g,"rateMetadataItem",function(){return Ide}),n.d(g,"refreshMetadataItem",function(){return Cde}),n.d(g,"splitMetadataItemApart",function(){return Mde}),n.d(g,"syncMetadataItem",function(){return Dde}),n.d(g,"unmatchMetadataItem",function(){return wde}),n.d(g,"changeMetadataItemField",function(){return Pde}),n.d(g,"updateMetadataItemRefreshingState",function(){return Tde}),n.d(g,"updateMetadataSettings",function(){return Ede}),n.d(g,"clearMetadataSettingsError",function(){return xde}),n.d(g,"favoriteMetadataItem",function(){return Ode}),n.d(g,"unfavoriteMetadataItem",function(){return jde}),n.d(g,"markMetadataItemUnplayed",function(){return Ade}),n.d(g,"markMetadataItemPlayed",function(){return Nde}),n.d(g,"setDownloadSubscriptionID",function(){return kde}),n.d(g,"unsetDownloadSubscriptionID",function(){return Lde}),n.d(g,"updateDownloadAvailability",function(){return Rde}),n.d(g,"updateDownloadAvailabilityFromDeletedTimeline",function(){return _de}),n.d(g,"updateDownloadSubscriptionIDs",function(){return Ude}),n.d(g,"metadataActionHandlers",function(){return Fde});var v={};n.r(v),n.d(v,"INIT_LIBRARY_PAGE",function(){return vat}),n.d(v,"INIT_LIBRARY_PAGE_METADATA_LIST",function(){return mat}),n.d(v,"INIT_LIBRARY_PAGE_DIRECTORY_LIST",function(){return yat}),n.d(v,"INIT_LIBRARY_PAGE_SUPPORTING_LISTS",function(){return bat}),n.d(v,"FETCH_LIBRARY_DETAILS",function(){return Sat}),n.d(v,"POPULATE_LIBRARY_DETAILS",function(){return Iat}),n.d(v,"FETCH_LIBRARY_FIRST_CHARACTERS",function(){return Cat}),n.d(v,"POPULATE_LIBRARY_FIRST_CHARACTERS",function(){return Mat}),n.d(v,"FETCH_QUERY_PARSE",function(){return Dat}),n.d(v,"POPULATE_QUERY_PARSE",function(){return wat}),n.d(v,"SELECT_LIBRARY_FILTER",function(){return Pat}),n.d(v,"DESELECT_LIBRARY_FILTER",function(){return Tat}),n.d(v,"FETCH_LIBRARY_FILTER_OPTIONS",function(){return Eat}),n.d(v,"POPULATE_LIBRARY_FILTER_OPTIONS",function(){return xat}),n.d(v,"SEARCH_LIBRARY_FILTER_OPTIONS",function(){return Oat}),n.d(v,"SELECT_LIBRARY_TABLE_COLUMN",function(){return jat}),n.d(v,"DESELECT_LIBRARY_TABLE_COLUMN",function(){return Aat}),n.d(v,"initLibraryPage",function(){return Nat}),n.d(v,"initLibraryPageMetadataList",function(){return kat}),n.d(v,"initLibraryPageDirectoryList",function(){return Lat}),n.d(v,"initLibraryPageSupportingLists",function(){return Rat}),n.d(v,"fetchLibraryDetails",function(){return _at}),n.d(v,"populateLibraryDetails",function(){return Uat}),n.d(v,"fetchLibraryFirstCharacters",function(){return zat}),n.d(v,"populateLibraryFirstCharacters",function(){return Fat}),n.d(v,"fetchQueryParse",function(){return Bat}),n.d(v,"populateQueryParse",function(){return Hat}),n.d(v,"selectLibraryFilter",function(){return Vat}),n.d(v,"deselectLibraryFilter",function(){return Qat}),n.d(v,"fetchLibraryFilterOptions",function(){return Wat}),n.d(v,"populateLibraryFilterOptions",function(){return Gat}),n.d(v,"searchLibraryFilterOptions",function(){return Yat}),n.d(v,"selectLibraryTableColumn",function(){return Kat}),n.d(v,"deselectLibraryTableColumn",function(){return qat}),n.d(v,"libraryPageActionHandlers",function(){return Xat});var m={};n.r(m),n.d(m,"INIT_RECORDING_SCHEDULE_PAGE",function(){return zft}),n.d(m,"CLEAR_RECORDING_SCHEDULE_PAGE",function(){return Fft}),n.d(m,"FETCH_MEDIA_SUBSCRIPTIONS",function(){return Bft}),n.d(m,"MOVE_MEDIA_SUBSCRIPTION",function(){return Hft}),n.d(m,"SET_VISIBLE_DAYS",function(){return Vft}),n.d(m,"GO_TO_TODAY",function(){return Qft}),n.d(m,"GO_TO_PREVIOUS_RANGE",function(){return Wft}),n.d(m,"GO_TO_NEXT_RANGE",function(){return Gft}),n.d(m,"FETCH_CALENDAR",function(){return Yft}),n.d(m,"PLAY_RECORDING",function(){return Kft}),n.d(m,"CLEAR_MOVE_ERROR",function(){return qft}),n.d(m,"initRecordingSchedulePage",function(){return Zft}),n.d(m,"clearRecordingSchedulePage",function(){return Xft}),n.d(m,"fetchMediaSubscriptions",function(){return Jft}),n.d(m,"moveMediaSubscription",function(){return $ft}),n.d(m,"setVisibleDays",function(){return egt}),n.d(m,"goToToday",function(){return tgt}),n.d(m,"goToPreviousRange",function(){return ngt}),n.d(m,"goToNextRange",function(){return rgt}),n.d(m,"fetchCalendar",function(){return igt}),n.d(m,"playRecording",function(){return agt}),n.d(m,"clearMoveError",function(){return ogt}),n.d(m,"recordingSchedulePageActionHandlers",function(){return ugt});n(1182),n(1184),n(1185),n(1186),n(1187),n(1188),n(1189),n(1190),n(1191),n(1192),n(1193),n(1194),n(1195),n(1196),n(1197),n(1198),n(1199),n(1200),n(1201),n(1202),n(1203),n(1204),n(1205),n(1206),n(1207),n(422),n(1208),n(1209),n(1210),n(1211),n(1212),n(1213),n(1214),n(1215),n(1216),n(1217),n(1218),n(1219),n(1220),n(1221),n(1223),n(1224),n(1225),n(1226),n(1227),n(1228),n(1229),n(1230),n(1231),n(1232),n(1233),n(1234),n(1236),n(1237),n(1238),n(1239),n(1240),n(1241),n(1242),n(1243),n(1244),n(1245),n(1246),n(1247),n(1248),n(1250),n(1251),n(1252),n(1253),n(1254),n(1255),n(1256),n(1257),n(1259),n(1260),n(1261),n(1262),n(1263),n(1264),n(1265),n(1266),n(1267),n(1268),n(1269),n(1270),n(1271),n(1272),n(1273),n(1274),n(1275),n(1276),n(1277),n(1278),n(1279),n(1281),n(1282),n(1283),n(1284),n(1286),n(1287),n(1288),n(1290),n(1291),n(1292),n(1293),n(1294),n(1295),n(1296),n(1297),n(1298),n(1299),n(1300),n(1301),n(1302),n(1303),n(1304),n(1305),n(1306),n(1307),n(1308),n(718),n(1309),n(1310),n(1311),n(1312),n(1313),n(1314),n(1315),n(1316),n(1317),n(1318),n(1319),n(1320),n(1321),n(1322),n(1323),n(1324),n(1325),n(1326),n(1327),n(1328),n(1329),n(1330),n(1331),n(1332),n(1333),n(1334),n(1335),n(1336),n(1337),n(1338),n(1339),n(1340),n(1341),n(1342),n(1343),n(1344),n(1345),n(1346),n(1347),n(1348),n(1349),n(1350),n(1351),n(1352),n(1353),n(1354),n(1355),n(1356),n(1357),n(1358),n(1359),n(1360),n(1361),n(1362),n(1363),n(1364),n(1365),n(1366),n(1367),n(1368),n(1369),n(1370),n(1371),n(1373),n(1374),n(1375),n(1376),n(1379),n(726);var y=n(35),b=n(56),S=n.n(b),I=n(5),C=n.n(I),M=n(28),D=n(17),w=n(8),P=n.n(w);P.a.fn.isDisabled=function(){return this.hasClass("disabled")||this.hasClass("active")||this.hasClass("hidden")},P.a.fn.selectText=function(){var e,t=this[0];if(document.body.createTextRange)(e=document.body.createTextRange()).moveToElementText(t),e.select();else if(window.getSelection){var n=window.getSelection();(e=document.createRange()).selectNodeContents(t),n.removeAllRanges(),n.addRange(e)}},P.a.fn.triggerReflow=function(){var e=this[0];return e&&e.offsetHeight,this},S.a.isNodeAttached=function(e){return y.c.$.contains(document.documentElement,e)};var T=C.a.clone(S.a.View.prototype),E=C.a.clone(S.a.CollectionView.prototype),x=C.a.clone(S.a.Region.prototype),O=C.a.clone(S.a.Region),j=C.a.clone(S.a.Layout.prototype),A={constructor:function(){this.wrapAfterRender(),T.constructor.apply(this,arguments),this.listenViewEvents()},listenViewEvents:function(){var e=this;this.stopListeningViewEvents();var t=C.a.result(this,"viewEvents");t&&(this._viewEventsListeners=C.a.mapObject(t,function(t){return C.a.isString(t)?e[t]:t}),this.listenTo(this,this._viewEventsListeners))},stopListeningViewEvents:function(){this._viewEventsListeners&&(this.stopListening(this,this._viewEventsListeners),delete this._viewEventsListeners)},_setElement:function(){T._setElement.apply(this,arguments),this.el&&(this.el._viewInstance?this.el._viewInstance!==this&&D.a.warn('Multiple views registered for a single element with class="%s"',this.el.className):this.el._viewInstance=this)},_removeElement:function(){this.el&&delete this.el._viewInstance,T._removeElement.apply(this,arguments)},bindAllWhenRendered:function(){Object(M.a)(arguments.length>0,"`bindAllWhenRendered` requires at least one function");var e=Array.isArray(arguments[0])?arguments[0]:arguments;C.a.each(e,function(e){try{this[e]=this.whenRendered(this[e])}catch(t){Object(M.a)(!1,"`bindAllWhenRendered` is unable to wrap "+JSON.stringify(e))}},this)},whenRendered:function(e){return Object(M.a)(C.a.isFunction(e),"`whenRendered` must be called with a single function"),C.a.bind(function(){if(!this.isClosed){var t=C.a.toArray(arguments),n=C.a.bind(function(){this.isRendered&&!this.isClosed&&e.apply(this,t)},this);this.isRendered?C.a.defer(n):this.listenToOnce(this,"render",function(){C.a.defer(n)})}},this)},wrapAfterRender:function(){void 0!==this.onlyAfterRender&&(Object(M.a)(Array.isArray(this.onlyAfterRender),"`onlyAfterRender` must be an array"),this.bindAllWhenRendered.apply(this,this.onlyAfterRender))},bindUIElements:function(){T.bindUIElements.apply(this,arguments),this.bindToModel(),this.isRendered=!0},unbindUIElements:function(){T.unbindUIElements.apply(this,arguments),this.unbindFromModel()},_getImmediateChildren:function(){return[]},_getNestedViews:function(){var e=this._getImmediateChildren();return e.length?C.a.reduce(e,function(e,t){return t._getNestedViews?e.concat(t._getNestedViews()):e},e):e}},N={constructor:function(){E.constructor.apply(this,arguments)},triggerRendered:function(){return this.isRendered=!0,E.triggerRendered.apply(this,arguments)},rebase:function(e){return this.stopListening(this.collection),this.collection=e,this._initialEvents(),C.a.isFunction(this._renderChildren)?this._renderChildren():this.render(),this},buildItemView:function(){var e=E.buildItemView.apply(this,arguments);return e._parentView=this,e},_getImmediateChildren:function(){return C.a.values(this.children._views)}},k={constructor:function(){E.constructor.apply(this,arguments)}},L={append:function(e,t,n){var r=e.isClosed||C.a.isUndefined(e.$el),i=e!==this.currentView;return i&&this.close(),e.render(),(i||r)&&(t||(t=this.getEl(this.el)),n?t.prepend(e.el):t.append(e.el)),this.attachView(e),S.a.triggerMethod.call(this,"show",e),S.a.triggerMethod.call(e,"show"),this._updateParentView(e),this._triggerAttached(e,t),this},prepend:function(e,t){return this.append(e,t,!0)},show:function(e){x.show.apply(this,arguments),this._updateParentView(e),this._triggerAttached(e,this.$el)},_triggerAttached:function(e,t){if(S.a.isNodeAttached(t.get(0))){var n=C.a.union([e],C.a.result(e,"_getNestedViews")||[]);C.a.each(n,function(e){e.triggerMethod&&e.triggerMethod("attached",this)},this)}},_updateParentView:function(e){e&&(e._parentView=this._parentView)}},R={buildRegion:function(e,t){var n=O.buildRegion.apply(this,arguments);return n._parentView=e._parentView,n}},_={_buildRegions:function(e){var t=this,n=C.a.mapObject(e,function(e){return C.a.isString(e)?{_parentView:t,selector:e}:C.a.defaults(e,{_parentView:t})});return j._buildRegions.call(this,n)},_getImmediateChildren:function(){return C.a.chain(this.regionManager._regions).values().pluck("currentView").compact().value()}};C.a.extend(S.a.View.prototype,A),C.a.extend(S.a.ItemView.prototype,A),C.a.extend(S.a.CollectionView.prototype,A,N),C.a.extend(S.a.CompositeView.prototype,A,k),C.a.extend(S.a.Region.prototype,L),C.a.extend(S.a.Region,R),C.a.extend(S.a.Layout.prototype,_),S.a.extend=y.c.Model.extend,S.a.Controller.extend=S.a.extend,S.a.Region.extend=S.a.extend,S.a.Application.extend=S.a.extend,S.a.Module.extend=S.a.extend,S.a.View.extend=S.a.extend,S.a.ItemView.extend=S.a.extend,S.a.CollectionView.extend=S.a.extend,S.a.CompositeView.extend=S.a.extend,S.a.Layout.extend=S.a.extend;var U=S.a,z=(n(1384),n(1385),n(1386),n(1387),n(1388),n(13)),F=n(15),B={PUT:!0,DELETE:!0},H={Accept:!0,"Accept-Language":!0,"Content-Language":!0,"Content-Type":!0},V=/^(text\/plain|multipart\/form-data|application\/x-www-form-urlencoded)/,Q=/(^X-Plex-[^=]+)/i,W=/(^[^?]+)\?(.+$)/;function G(e){var t=e.type,n=e.contentType,r=e.headers,i=e.allowHeadersInUrl,a=e.allowBlacklistedMethodHeaders;if(i&&(!B[t]||a)){var o={},s=!1;if(C.a.each(r,function(e,t){H[t]||(Q.test(t)?(s=!0,o[t]=e,delete r[t]):D.a.warn('Did not move header "%s" to query string. This can result in an unnecessary OPTIONS preflight request.',t))}),s){var l=e.url.match(W)||[null,e.url,null],c=l[1],u=l[2],d=u?u.split("&"):[],p=C.a.partition(d,function(e){return Q.test(e)}),h=p[0],f=p[1],g=e.data;"GET"===t&&g&&(f.push(C.a.isString(g)?g:F.stringifyParams(g)),delete e.data),h.forEach(function(e){var t=e.match(Q);t&&delete o[t[1]]});var v=F.stringifyParams(o);v&&h.push(v),e.url=c+"?"+f.concat(h).join("&")}n&&!V.test(n)&&D.a.warn('Sending %s request with Content-Type "%s". This can result in an unnecessary OPTIONS preflight request.',t,n)}}var Y=n(52);function K(){return P.a.ajaxPrefilter(G),Y.a.startListening(),P.a.Deferred().resolve().promise()}var q=function(e){var t=P.a.Deferred();return e&&e.then?e.then(t.resolve,t.resolve):t.resolve(e),t.promise()};var Z,X=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Array.isArray(t[0])?t[0]:t;return P.a.when.apply(P.a,r.map(q))},J=n(11),$=n(130),ee=new $.a({interface:["get","set","remove","clear"]}),te=n(26),ne=n(140),re=n(250),ie=((Z={})[re.FAIRPLAY_NATIVE]=ne.FAIRPLAY,Z[re.FAIRPLAY_MSE]=ne.FAIRPLAY,Z[re.PLAYREADY]=ne.PLAYREADY,Z[re.WIDEVINE]=ne.WIDEVINE,Z);var ae=function(){return!!(window.MediaKeys||window.WebKitMediaKeys||window.MSMediaKeys)};var oe=function(){return!!window.navigator.requestMediaKeySystemAccess};function se(e,t){return oe()?window.navigator.requestMediaKeySystemAccess(e,t):Promise.reject(new Error("NotSupportedError"))}var le=function(e){var t=[{initDataTypes:["cenc"],audioCapabilities:e.audioCapabilities,videoCapabilities:e.videoCapabilities}],n=P.a.Deferred(),r=Object.values(re),i=window.WebKitMediaKeys,a=i?function(e,t,n){return ae()?new Promise(function(r,i){var a=n[0],o=a.audioCapabilities,s=void 0===o?[]:o,l=a.videoCapabilities,c=void 0===l?[]:l,u=s.concat(c).map(function(e){return e.contentType});u&&u.length&&u.every(function(n){return e.isTypeSupported(t,n)})?r({keySystem:t}):i(new Error("NotSupportedError"))}):Promise.reject(new Error("NotSupportedError"))}.bind(null,i):se,o=r.map(function(e){return a(e,t)});return Promise.allSettled(o).then(function(e){var t=e.reduce(function(e,t,n){var i=t.status,a=t.reason,o=t.value;return"fulfilled"===i?(Object(D.a)("[Player] %s is available",o.keySystem),e.push(o.keySystem)):Object(D.a)("[Player] %s is unavailable: %s",r[n],a.message),e},[]);t.length?n.resolve(t):n.reject()}),n.promise()},ce=[{contentType:'audio/mp4; codecs="flac"'},{contentType:'audio/mp4; codecs="mp4a.40.5"'},{contentType:'audio/mp4; codecs="mp4a.40.29"'},{contentType:'audio/mp4; codecs="mp4a.40.2"'}];var ue=function(){return le({audioCapabilities:ce}).then(function(e){var t=function(e){var t,n=e,r=Array.isArray(n),i=0;for(n=r?n:n[Symbol.iterator]();;){var a;if(r){if(i>=n.length)break;a=n[i++]}else{if((i=n.next()).done)break;a=i.value}if(t=ie[a])break}return t}(e);return Object(D.a)("[Player] Supported key systems:",e),Object(D.a)("[Player] Selected DRM type:",t),t})};var de=function(e){e=e>0?Math.min(e,1024):24;for(var t="";t.length<e;)t+=Math.random().toString(36).substr(2);return t.substr(0,e)};function pe(e){return C.a.isString(e)&&e.trim().length>0}function he(e,t){var n=de();return Object(D.a)("[appModelInitializer] Generating new %s [%s]",t,n),e.set(t,n),ee.set(t,n)}function fe(e,t){var n=e.get(t);return pe(n)?ee.set(t,n):ee.get(t).then(function(r){if(!pe(r))return D.a.error("[appModelInitializer] Invalid %s found in storage [%s]",t,n),he(e,t);e.set(t,r)},function(){return Object(D.a)("[appModelInitializer] Failed to read %s from storage",t),he(e,t)})}function ge(){var e=Object(J.c)("appModel");return X(fe(e,"clientID"),fe(e,"anonymousClientID"),function(e){var t=ee.get("skipSignIn");return t.always(function(t){e.set("skipSignIn","1"===t)}),t}(e),function(e){var t=P.a.Deferred();te.a.get("shouldPublishDRM")?ue().then(function(n){e.set("drmType",n),t.resolve()},function(){e.unset("drmType"),t.resolve()}):t.resolve();return t.promise()}(e))}var ve=n(53),me=n(43),ye=me.a.extend({maximumDelay:30,initialize:function(e){var t=e.callback,n=e.logFormat;this._serversBeingRetried={},this.callback=t,this.logFormat=n},start:function(e){this._serversBeingRetried[e.cid]||this.supportsRetry(e)&&(this._serversBeingRetried[e.cid]={server:e,attempt:1},this._scheduleRetry(e))},stop:function(e){var t=this._serversBeingRetried[e.cid];t&&(clearTimeout(t.timeout),delete this._serversBeingRetried[e.cid])},stopAll:function(){var e=this;C.a.each(this._serversBeingRetried,function(t,n){clearTimeout(t.timeout),delete e._serversBeingRetried[n]})},supportsRetry:function(e){return!0},_scheduleRetry:function(e){var t=this,n=this._serversBeingRetried[e.cid],r=2*Math.min(this.maximumDelay/2,n.attempt);Object(D.a)(this.logFormat,e.get("debugName"),r),n.timeout=setTimeout(function(){t.callback(e),n.attempt++,t._scheduleRetry(e)},1e3*r)}}),be=ye.extend({supportsRetry:function(e){return e.get("isCloud")}}),Se=n(50),Ie=me.a.extend({mixins:[Se.a],initialize:function(e){this.name=e.name||"ServerEventManager",this.appModel=e.appModel,this.servers=e.servers||this.appModel.get("servers"),this.isValidServer=e.isValidServer,this.supportsLongPolling=e.supportsLongPolling,this.allowMultipleConnections=e.allowMultipleConnections,this.allowAppendingHeaders=e.allowAppendingHeaders,this.ServerEventConnection=e.ServerEventConnection,this.connections={},this._serverRetryManager=new e.ServerRetryManager({appModel:this.appModel,callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying server events connection for %s in %s seconds"})},start:function(){this.allowMultipleConnections?this.listenTo(this.servers,{"change:isResolved":this.onServerResolvedChange,"change:isRejected":this.onServerRejectedChange,remove:this.onServerRemove,reset:this.onServersReset}):this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},stop:function(){this.stopListening(),this._serverRetryManager.stopAll(),this.disconnectAll(),this.connections={}},tryConnectServer:function(e){var t=this,n=this.connections[e.id];this.isValidServer(e)&&!n&&(ve.a.hasWebSocket||this.supportsLongPolling?this.connect({server:e}).then(null,function(){t._serverRetryManager.start(e)}):e.trigger("socket:websocket",{error:!0}))},connect:function(e){var t=e.server,n=this.connections[t.id];n||(n=new this.ServerEventConnection({server:t,appendHeaders:this.allowAppendingHeaders}),this.connections[t.id]=n,this.listenTo(n,{open:this.onOpen,close:this.onClose,error:this.onClose}));var r=n.open(),i=n.socket?n.socket.url:n.pollUrl;return Object(D.a)("["+this.name+"] Opening server event connection to "+t.get("debugName")+" at "+i),r},disconnectAll:function(){var e=this;C.a.each(this.connections,function(t){e.disconnect({connection:t})})},disconnect:function(e){var t=e.connection;if(t||(t=this.connections[e.server.id]),t){var n=t.socket?t.socket.url:t.pollUrl,r=t.server;Object(D.a)("["+this.name+"] Closing server event connection to "+r.get("debugName")+" at "+n),this.stopListening(t),this._serverRetryManager.stop(t.server),t.close(),delete this.connections[t.server.id]}},retryServerConnections:function(e){this.isValidServer(e)&&e.get("isResolved")&&this.connect({server:e})},onPrimaryServerChange:function(e,t){this.disconnectAll(),t&&this.tryConnectServer(t)},onServerResolvedChange:function(e,t){t&&this.tryConnectServer(e)},onServerRejectedChange:function(e,t){t&&this.disconnect({server:e})},onServerRemove:function(e){var t=this.connections[e.id];if(t&&(this.disconnect({connection:t}),e.get("isMerged")&&t)){var n=this.servers.get(e.id);this.connect({server:n})}},onServersReset:function(e,t){var n=this,r=t.previousModels;C.a.each(r,function(t){e.contains(t)||n.disconnect({server:t})})},onOpen:function(e){var t=this.connections[e.id],n=t.socket?t.socket.url:t.pollUrl;D.a.info("["+this.name+"] Opened server event connection to "+e.get("debugName")+" at "+n),this._serverRetryManager.stop(e)},onClose:function(e){D.a.warn("["+this.name+"] Unexpectedly closed server event connection to "+e.get("debugName")),this._serverRetryManager.start(e)}}),Ce=n(16),Me=n(3),De="pending",we="connected",Pe="unauthorized",Te="unavailable",Ee="aborted";function xe(e){if(/\.plex\.direct$/.test(e)){var t=e.indexOf(".");t>0&&(e=(e=e.substring(0,t)).replace(/-/g,"."))}return e}var Oe=/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/,je=/^([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})\.([0-9]{1,3})$/,Ae=/(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))/i,Ne=/[a-f0-9]{1,4}/gi;function ke(e){var t=je.exec(e);if(null!=t)return{octets:C.a.map(C.a.rest(t),function(e){return parseInt(e,10)})}}function Le(e){if(Ae.test(e)){var t=e.split("::"),n=t[0].match(Ne),r={parts:[]};if(null!=n){if(n.length>8)return;r.parts=C.a.map(n,function(e){return parseInt(e,16)})}if(t.length>1){var i=t[1].match(Ne),a=C.a.map(i,function(e){return parseInt(e,16)}),o=8-r.parts.length-a.length;if(o<0||8===o)return;C.a.times(o,function(){r.parts.push(0)}),r.parts=r.parts.concat(a)}return r}}var Re={isValidPort:function(e){return Oe.test(e)},isValidAddress:function(e){return this.isValidV4Address(e)||this.isValidV6Address(e)},isLoopbackAddress:function(e){return"localhost"===e||this.isLoopbackV4Address(e)||this.isLoopbackV6Address(e)},isPrivateAddress:function(e){return this.isPrivateV4Address(e)||this.isPrivateV6Address(e)},isPlexDirectAddress:function(e){return/plex\.direct$/.test(e)},isValidV4Address:function(e){var t=ke(e);return!(!t||!C.a.all(t.octets,function(e){return e>=0&&e<=255}))},isLoopbackV4Address:function(e){var t=ke(e);return!(!t||127!==t.octets[0]&&!C.a.all(t.octets,function(e){return 0===e}))},isPrivateV4Address:function(e){var t=ke(e);if(t){if(10===t.octets[0])return!0;if(172===t.octets[0]&&t.octets[1]>=16&&t.octets[1]<=31)return!0;if(192===t.octets[0]&&168===t.octets[1])return!0}return!1},isValidV6Address:function(e){var t=Le(e);return!(!t||!C.a.all(t.parts,function(e){return e>=0&&e<=65535}))},isLoopbackV6Address:function(e){var t=Le(e);return!!t&&(C.a.all(C.a.take(t.parts,7),function(e){return 0===e})&&1===C.a.last(t.parts))},isPrivateV6Address:function(e){var t=Le(e);return!!(t&&t.parts[0]>=64512&&t.parts[0]<=65023)},getV4Subnet:function(e){return Re.isValidV4Address(e)?e.split(".").slice(0,-1).join("."):""}},_e=Re,Ue=n(19),ze=Ce.a.extend({name:"ConnectionSourceModel",context:["server"],sessionAttrs:{id:Me.a.string}}),Fe=Ue.a.extend({name:"ConnectionSourceCollection",context:["server"],model:ze}),Be=Me.a.boolean.isRequired,He=Ce.a.extend({name:"ConnectionModel",context:["server"],idAttribute:"uri",sessionAttrs:{currentTest:Me.a.custom(function(e){return Array.isArray(e)&&e.every(function(e){return C.a.isFunction(e.abort)})}),testState:Me.a.oneOf("untested",De,we,Pe,Te,Ee).isRequired,isBundled:Be,isFallback:Be},sessionRelations:{sources:{relationClass:Fe}},syncedAttrs:{uri:Me.a.string,scheme:Me.a.string,address:Me.a.string,port:Me.a.string,relay:Me.a.boolean},derivedAttrs:{isUntested:function(){return"untested"===this.get("testState")},isPending:function(){return this.get("testState")===De},isConnected:function(){return this.get("testState")===we},isUnauthorized:function(){return this.get("testState")===Pe},isUnavailable:function(){return this.get("testState")===Te},isFailed:function(){return this.get("isUnauthorized")||this.get("isUnavailable")},isAborted:function(){return this.get("testState")===Ee},isLoopback:function(){var e=this.get("address");return"localhost"===e||_e.isLoopbackAddress(e)},isPrivate:function(){return this.get("isLoopback")||_e.isPrivateAddress(this.get("address"))},isHttps:function(){return"https"===this.get("scheme")},isSecure:function(){return this.get("isLoopback")||this.get("isHttps")},isPlexDirect:function(){return/\.plex\.direct:/.test(this.get("uri"))}},defaults:{testState:"untested",isBundled:!1,isFallback:!1,relay:!1},url:function(){return this.get("uri")},constructor:function(e,t){var n=C.a.clone(e);C.a.isObject(e)&&!e.uri&&(Object(M.a)(e.scheme&&e.address,"A server connection requires either a uri or a scheme and address. "+e.scheme+"://"+e.address),n.uri=e.scheme+"://"+e.address,e.port&&(n.uri+=":"+e.port)),Ce.a.prototype.constructor.call(this,n,t)},initialize:function(){this.listenTo(this.get("sources"),"remove reset",this.onSourcesChange)},augmentResponse:function(e){var t=e.protocol;return t?C.a.extend({},e,{scheme:t}):e},getAddressFromUri:function(){return Object(F.parseUrl)(this.get("uri")).hostname},getIpAddressFromPlexDirectAddress:function(){return xe(this.get("address"))},getLoopbackAttributes:function(){return{scheme:"http",address:"127.0.0.1",port:this.get("port")}},hasSource:function(e){return this.get("sources").some(function(t){return e&&t.get("id")===e})},onSourcesChange:function(){this.get("sources").length||this.trigger("destroy",this,this.collection)}}),Ve=n(42),Qe=me.a.extend({lastModified:null,eTag:null,mixins:Se.a,url:function(){var e=J.c("appModel"),t=e.get("user"),n="/sub/"+this.requestType+"/"+t.id+"/"+e.get("clientID"),r=new He({scheme:"websockets"===this.requestType?"wss":"https",address:"pubsub.plex.tv"}),i=this.server.resolveUrl(n,{connection:r,appendToken:!0});return i},initialize:function(e){C.a.bindAll(this,"onSocketOpen","onSocketClose","onSocketError","onSocketMessage","onPingTimeout","onPollSuccess","onPollError"),this.server=e.server},open:function(){return(this.socket||this.pollRequest)&&this.close(),ve.a.hasWebSocket?(this._deferred=P.a.Deferred(),this.requestType="websockets",this.socket=new window.WebSocket(C.a.result(this,"url")),this.socket.onopen=this.onSocketOpen,this.socket.onclose=this.onSocketClose,this.socket.onerror=this.onSocketError,this.socket.onmessage=this.onSocketMessage,this._deferred.promise()):this.poll()},close:function(){this.pollRequest&&(Y.a.abort(this.pollRequest.rid),this.pollRequest=null),this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject(),this.socket&&(this.cancelPing(),this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null)},schedulePing:function(){this.cancelPing(),this._pingTimeoutID=setTimeout(this.onPingTimeout,3e4)},cancelPing:function(){this._pingTimeoutID&&(clearTimeout(this._pingTimeoutID),this._pingTimeoutID=null)},poll:function(){this.requestType="longpolling",this.pollUrl=F.join(C.a.result(this,"url"),{ttl:String(30)+"s"});var e=this.server.getXHROptions(this.pollUrl,{timeout:35e3});return e.headers["If-Modified-Since"]=this.lastModified?this.lastModified:"Thu, 01 Jan 1970 00:00:00 GMT",this.eTag&&(e.headers["If-None-Match"]=this.eTag),this.pollRequest=P.a.ajax(e).done(this.onPollSuccess).fail(this.onPollError),this.pollRequest.promise()},handleResponse:function(e){if(e){var t=Ve.a.parseXML(e);if(C.a.isObject(t)){var n=t.command;z.a.trigger("cloudServer:"+n,t)}}},onSocketOpen:function(e){this.server.set("hasEventConnection",!0),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e),this.schedulePing()},onSocketClose:function(e){this.close(),this.server.set("hasEventConnection",!1),this.trigger("close",this.server,e),this._deferred.reject(this.server,e)},onSocketError:function(e){this.close(),this.trigger("error",this.server,e),this._deferred.reject(this.server,e)},onSocketMessage:function(e){this.handleResponse(e.data)},onPingTimeout:function(){this._pingTimeoutID=null,this.socket.send("hello"),this.schedulePing()},onPollSuccess:function(e,t,n){this.trigger("open",this.server,e),this.lastModified=n.getResponseHeader("Last-Modified"),this.eTag=n.getResponseHeader("ETag"),this.handleResponse(e),this.poll()},onPollError:function(e,t){"abort"===t?this.poll():this.pollRequest.aborting||this.trigger("error",this.server,e)}});function We(e){return e.get("isCloud")}var Ge={subscribe:function(){z.a.on("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},unsubscribe:function(){z.a.off("cloudServer:processRemoteControlCommand",this.onCloudServerCommand,this)},onCloudServerCommand:function(e){var t=e.Command,n={supportsTimeline:!1,path:t.path,commandID:t.commandID,query:{key:[t.queryKey],offset:[t.queryOffset],mediaIndex:[t.queryMediaIndex],containerKey:[t.queryContainerKey],playQueueID:[t.queryPlayqueueid],type:[t.queryType],volume:[t.queryVolume],repeat:[t.queryRepeat],autoPlay:[t.queryAutoPlay],subtitleSize:[t.querySubtitleSize],audioStreamID:[t.queryAudioStreamID],subtitleStreamID:[t.querySubtitleStreamID],token:[t.queryToken],machineIdentifier:[t.queryMachineIdentifier],protocol:[t.queryProtocol],address:[t.queryAddress],port:[t.queryPort],text:[t.queryText],field:[t.queryField]}};Object(J.c)("localCompanionCommandHandler")(n)}},Ye="leaderStatusChanged",Ke=null,qe=null;function Ze(){var e=Je();return!(e&&!e.isLeader())&&Object(J.c)("settingFinder").find("companion")}function Xe(){if(Ze()){var e=Object(J.c)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t&&t.get("authorized")&&n&&n!==Ke)Ke=n,D.a.info('[Companion] Registering player with plex.tv, clientID="%s"',n),Object(J.c)("companionProxy").registerPlayer(t,n).done(function(){D.a.info('[Companion] Registered player with plex.tv, clientID="%s"',n)}).fail(function(e){e||(e={}),Ke=null,D.a.warn('[Companion] Couldn\'t register player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})}}function Je(){return Object(J.a)("companionVote")?Object(J.c)("companionVote"):null}function $e(){var e=Object(J.c)("companionProxy"),t=Ze();return qe===t?P.a.Deferred().resolve().promise():(qe=t,t?(Ge.subscribe(),P.a.when(e.subscribe(Object(J.c)("localCompanionCommandHandler")))):(Ge.unsubscribe(),P.a.when(e.unsubscribe(),function(){var e=Object(J.c)("appModel"),t=e.get("cloudServer"),n=e.get("clientID");if(t.get("authorized")&&n)return D.a.info('[Companion] Unregistering player with plex.tv, clientID="%s"',n),Object(J.c)("companionProxy").unregisterPlayer(t,n).done(function(){return D.a.info('[Companion] Unregistered player with plex.tv, clientID="%s"',n)}).fail(function(e){return void 0===e&&(e={}),D.a.warn('[Companion] Couldn\'t unregister player with plex.tv, status="%s", response="%s"',e.status,e.responseText&&e.responseText.substr(0,100))})}())))}function et(){var e=Object(J.c)("appModel"),t=e.get("cloudServer");Xe(),e.on("change:clientID",Xe),t.on("change:authorized",Xe),Object(J.c)("settingFinder").addCompanionChangeListener($e);var n=Je();return n&&n.on(Ye,function(e){D.a.info(e?"[Companion] Elected to poll leader role":"[Companion] Lost poll leader role"),$e()}),Ze()?$e().then(function(){var e=Object(J.c)("companionProxy").getDeepLink();return e.fail(function(){D.a.warn("[Companion] Ignoring error getting deep link")}),q(e)}):P.a.Deferred().resolve().promise()}var tt=new $.a({props:["X-Plex-Client-Identifier","X-Plex-Device","X-Plex-Device-Name","X-Plex-Device-Screen-Resolution","X-Plex-Device-Vendor","X-Plex-Model","X-Plex-Platform","X-Plex-Platform-Version","X-Plex-Product","X-Plex-Version"]}),nt=new $.a({interface:["init","enable","disable","set","capture"]});var rt=n(180);function it(){var e=Object(J.c)("settingFinder").find("language");return q(rt.a.load(e))}var at=ye.extend({mixins:[Se.a],initialize:function(e){var t=e.appModel;ye.prototype.initialize.apply(this,arguments),this.appModel=t,this.listenTo(this.appModel,"change:primaryServer",this.onPrimaryServerChange)},supportsRetry:function(e){return!0},onPrimaryServerChange:function(e,t){t&&!t.get("hasEventConnection")&&(this.stop(t),this.start(t))}});function ot(e){return e.get("isFullOwnedServer")||e.get("isFullServer")&&e.supports("sharedUserNotifications")}function st(){var e;function t(){e&&e.stop()}return ve.a.hasWebSocket&&(e=new Ie({name:"MediaServerEventManager",appModel:Object(J.c)("appModel"),isValidServer:ot,supportsLongPolling:!1,allowMultipleConnections:te.a.get("allowMultipleWebSocketConnections"),ServerEventConnection:Object(J.c)("mediaServerEventConnection"),ServerRetryManager:at})).start(),z.a.on("app:exit",t),z.a.on("app:priorityBackground",t),z.a.on("app:priorityForeground",function(){e&&e.start()}),P.a.Deferred().resolve().promise()}var lt="file",ct="http",ut="http-loopback",dt="https";var pt=function(e){var t,n=e.hostname,r=e.protocol,i="file:"===r;return"https:"===r?t=dt:"http:"===r?t=_e.isLoopbackAddress(n)?ut:ct:i&&(t=lt),t};function ht(e){void 0===e&&(e={});var t=Object(J.c)("metrics"),n=e.context,r=void 0===n?{}:n;return t.set({deviceIdentifier:tt.prop("X-Plex-Client-Identifier"),context:Object.assign({},r,{device:{product:tt.prop("X-Plex-Product"),version:tt.prop("X-Plex-Version"),platform:tt.prop("X-Plex-Platform"),platformVersion:tt.prop("X-Plex-Platform-Version"),device:tt.prop("X-Plex-Device"),model:tt.prop("X-Plex-Model"),screenResolution:tt.prop("X-Plex-Device-Screen-Resolution"),layout:"desktop",protocol:pt(window.location)}})}),q(t.start())}function ft(){Object(D.a)("[Providers] Initializing..."),Object(J.c)("providerManager").start(),Object(D.a)("[Providers] Finished initialization")}function gt(){Object(D.a)("[Providers] Resetting..."),ft()}function vt(){return ft(),z.a.on("reset:providers",gt),P.a.Deferred().resolve().promise()}var mt=n(36);var yt=function(){if(!ve.a.hasReplaceState)return P.a.Deferred().resolve().promise();var e,t=P.a.Deferred(),n=window.location,r=mt.a.parseQueryString(n.search);try{e=JSON.parse(r.alerts),delete r.alerts}catch(e){}if(e){te.a.set("alerts",e);var i=""+F.join([""+n.origin+n.pathname],r)+n.hash;window.history.replaceState({},"",i)}return t.resolve().promise()},bt={_map:{},register:function(e,t){Object(M.a)(C.a.isFunction(t),'The "'+e+'" command must be a function'),this._map[e]=t},registerAll:function(e){var t=this;C.a.each(e,function(e,n){"__esModule"!==n&&t.register(n,e)})},hasRegistered:function(e){return this._map.hasOwnProperty(e)},reset:function(){this._map={}},execute:function(e){var t=this._map[e];if(Object(M.a)(t,'The "'+e+'" command has not been registered'),t){Object(D.a)("[Commands] Executing",e);for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return t.apply(void 0,r)}}};var St=function(e){return Object(J.c)("serverConnectionTestManager").queueConnectionTest(e)};var It=function(e){return Object(J.c)("serverConnectionTestManager").abortConnectionTest(e)};var Ct=function(e){var t=e.server,n=e.connection;if(t.id)return P.a.Deferred().resolve(t.id).promise();var r=t.resolveUrl("/identity",{connection:n}),i=C.a.extend(t.getXHROptions(r),{timeout:t.connectionTestTimeout});Object(D.a)("[Identity] Requesting the machine identifier of "+t.get("debugName")+" at "+r);var a=P.a.ajax(i).promise();return(a=a.then(function(e){var n=P.a.Deferred(),r=mt.a.parseXML(e),i=r&&r.machineIdentifier;return i?(Object(D.a)("[Identity] Machine identifier found for "+t.get("debugName")+": "+i),!t.collection||t.collection.get(i)?n.resolve(i):(t.collection.populateServer({isCloud:!0}).done(function(e){e.get("resources").populate().always(function(){n.resolve(i)})}),t.collection.findServer({isCloud:!0}).done(function(e){e.populate().fail(function(){n.resolve(i)})}).fail(function(){n.resolve(i)}))):n.reject(),n.promise()})).fail(function(){D.a.warn("[Identity] Machine identifier not found for "+t.get("debugName")+" at "+r)}),a};var Mt=function(e,t){var n="function"==typeof t;return function(){var r=n?t.apply(void 0,arguments):arguments[0];return{type:e,payload:r}}},Dt=n(10),wt=n.n(Dt),Pt=n(753),Tt=n.n(Pt),Et=n(216);function xt(e,t){var n;(te.a.get("shouldCreateFlexModels")||te.a.get("shouldCreateFlex"+e.prototype.name))&&(e.prototype.sessionRelations=Object.assign({},e.prototype.sessionRelations,((n={}).desktop=t,n)));return e}var Ot={fetch:function(){return Object(M.a)(!1,"A model or collection with a controlled populate promise cannot be fetched directly"),this.populatePromise},isPopulating:function(){return!!this.populatePromise&&"pending"===this.populatePromise.state()},_resetPopulate:function(){return this.isPopulating()||(this._populateDeferred=P.a.Deferred(),this.populatePromise=this._populateDeferred.promise()),this.populatePromise},_resolvePopulate:function(){return"resolved"===this.populatePromise.state()?this.populatePromise:("rejected"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.resolveWith(this,[this]),this.populatePromise)},_rejectPopulate:function(){return"rejected"===this.populatePromise.state()?this.populatePromise:("resolved"===this.populatePromise.state()&&this._resetPopulate(),this._populateDeferred.rejectWith(this,[this]),this.populatePromise)}},jt=n(37),At=Ce.a.extend({name:"AbstractStorageModel",responseType:jt.a.json,save:function(e,t,n){var r=this;void 0===n&&(n={});var i,a=this.attributes;if(null==e||C.a.isObject(e)?(i=e,n=t):(i={})[e]=t,n=C.a.extend({validate:!0},n),i&&!n.wait){if(!this.set(i,n))return!1}else if(!this._validate(i,n))return!1;i&&n.wait&&(this.attributes=C.a.extend({},a,i));var o=ee.getInstance().excludeDefaults,s=this.toJSON({syncedOnly:!0,excludeDefaults:!1!==o}),l=this._serialize(s),c=ee.set(this._getStorageKey(),l);return c.done(function(){r.attributes=a,r.trigger("sync",r,a,n)}),c.fail(function(e){r.trigger("error",r,e,n)}),i&&n.wait&&(this.attributes=a),c},destroy:function(e){var t=this;void 0===e&&(e={}),e.wait||this.trigger("destroy",this,this.collection,e);var n=ee.remove(this._getStorageKey());return n.done(function(n){e.wait&&t.trigger("destroy",t,t.collection,e),t.trigger("sync",t,n,e)}),n.fail(function(n){t.trigger("error",t,n,e)}),n},sync:function(){this._logError("does not support syncing to a server")},_getStorageKey:function(){var e=C.a.result(this,"storageKey");if(!e)throw new Error(this.name+" requires a `storageKey` property");return e},_fetch:function(e){var t=this;void 0===e&&(e={});var n=ee.get(this._getStorageKey());return n.done(function(n){n&&t.set(t.parse(n)),t.trigger("sync",t,n,e)}),n.fail(function(n){t.trigger("error",t,n,e)}),n},_serialize:function(e){var t="";try{t=JSON.stringify(e)}catch(e){this._logError("serialization error: "+e.message)}return t},_warnUnsupportedOptions:function(e){e.parse&&this._logError("does not support the `parse` option. The response from storage is always parsed."),e.success&&this._logError("does not support a `success` callback. Use the returned promise."),e.error&&this._logError("does not support an `error` callback. Use the returned promise.")},_logError:function(e){var t;try{t=this._getStorageKey()}catch(e){t="no storageKey"}Object(M.a)(!1,this.name+" ("+t+") "+e)}}),Nt=Ce.a.extend({name:"UserEntitlementModel",syncedAttrs:{id:Me.a.string}}),kt=Ue.a.extend({name:"UserEntitlementCollection",model:Nt}),Lt=Ce.a.extend({name:"UserFeatureModel",idAttribute:"uuid",syncedAttrs:{uuid:Me.a.string.isRequired}}),Rt=Ue.a.extend({name:"UserFeatureCollection",context:["server"],model:Lt,url:F.join(["https://plex.tv","/api/v2/features"]),responseType:jt.a.json}),_t=Ce.a.extend({name:"UserRoleModel",syncedAttrs:{id:Me.a.string}}),Ut=Ue.a.extend({name:"UserRoleCollection",model:_t}),zt=Ce.a.extend({name:"UserServiceModel",syncedAttrs:{id:Me.a.string,territory:Me.a.string}}),Ft=Ue.a.extend({name:"UserServiceCollection",model:zt}),Bt=["active","inactive","canceled","pending_cancellation"],Ht=["plexpass","tidal"],Vt=Ce.a.extend({name:"UserSubscriptionModel",syncedAttrs:{type:Me.a.oneOf.apply(Me.a,Ht).isRequired,state:Me.a.oneOf.apply(Me.a,Bt).isRequired,mode:Me.a.string.isRequired}}),Qt=Ue.a.extend({name:"UserSubscriptionCollection",model:Vt}),Wt=Ce.a.extend({additionalRelations:[],copyFromModel:function(e,t){this._copy(e,this,t)},copyToModel:function(e,t){this._copy(this,e,t)},_copy:function(e,t,n){void 0===n&&(n={});var r=!!t.releaseCapturedChangeEvents;r||t.startCapturingChangeEvents(),this._copyAttributes(e,t,n),this._copyRelations(e,t,n),r||t.releaseCapturedChangeEvents()},_copyAttributes:function(e,t,n){var r={};C.a.each(this.syncedAttrs,function(t,i){n.included&&!n.included.includes(i)||(r[i]=e.get(i))}),t.set(r)},_copyRelations:function(e,t,n){var r=this;C.a.each(this.syncedRelations,function(i,a){if((!n.included||n.included.includes(a))&&!r.additionalRelations.includes(a)){var o=e.get(a),s=t.get(a);if(o&&s){var l=o.toJSON();s instanceof Ce.a?s.set(s.parse(l)):s.set(l,{parse:!0})}}})}}),Gt=Ce.a.extend({name:"StoredConnectionSourceModel",syncedAttrs:{id:Me.a.string}}),Yt=Ue.a.extend({name:"StoredConnectionSourceCollection",model:Gt}),Kt=Ce.a.extend({name:"StoredConnectionModel",idAttribute:"uri",syncedAttrs:{uri:Me.a.string,scheme:Me.a.string,address:Me.a.string,port:Me.a.string,relay:Me.a.boolean},syncedRelations:{sources:{relationClass:Yt}}}),qt=Ue.a.extend({name:"StoredConnectionCollection",model:Kt}),Zt="scrobble",Xt="follow",Jt="mute",$t="rate",en="actions",tn="content",nn="grid",rn="imagetranscoder",an="playqueue",on="playlist",sn="promoted",ln="settings",cn="subscribe",un="timeline",dn=Ce.a.extend({name:"ProviderActionModel",context:["server","provider"],syncedAttrs:{id:Me.a.string,key:Me.a.string,reverseKey:Me.a.string,requires:Me.a.string}}),pn=Ue.a.extend({name:"ProviderActionCollection",context:["server","provider"],model:dn}),hn=n(579),fn={HUB:"hub",LIST:"list",VIEW:"view"},gn=Ce.a.extend({name:"PivotModel",idAttribute:"key",syncedAttrs:{key:Me.a.string.isRequired,type:Me.a.oneOf(fn.HUB,fn.LIST,fn.VIEW).isRequired,title:Me.a.string.isRequired,context:Me.a.string.isRequired,libraryKey:Me.a.string}}),vn=Ue.a.extend({name:"PivotCollection",model:gn}),mn=Ce.a.extend({name:"ProviderDirectoryModel",context:["server","provider"],syncedAttrs:{id:Me.a.string,key:Me.a.string,hubKey:Me.a.string,title:Me.a.string,icon:Me.a.string,type:Me.a.string,subtype:Me.a.string,agent:Me.a.string,refreshing:Me.a.boolean,updatedAt:Me.a.integer,scannedAt:Me.a.integer,context:Me.a.string},syncedRelations:{pivots:{relationClass:vn,rootPropertyName:"Pivot",deferred:!0}}}),yn=Ue.a.extend({name:"ProviderDirectoryCollection",context:["server","provider"],model:mn,modelId:function(e){return e.key||e.hubKey}}),bn=Ce.a.extend({name:"ProviderFeatureModel",context:["server","provider"],sessionAttrs:{isSettingsPending:Me.a.boolean,isSettingsPopulated:Me.a.boolean,settingsError:Me.a.object},syncedAttrs:{id:Me.a.string,key:Me.a.string,reverseKey:Me.a.string,scrobbleKey:Me.a.string,unscrobbleKey:Me.a.string,type:Me.a.string,flavor:Me.a.string,requires:Me.a.string,automaticLibraryFolders:Me.a.boolean,public:Me.a.boolean,storageTotal:Me.a.integer},syncedRelations:{directories:{relationClass:yn,rootPropertyName:"Directory",deferred:!0},settings:{relationClass:hn.default,rootPropertyName:"Setting",deferred:!0},actions:{relationClass:pn,rootPropertyName:"Action",deferred:!0,setOptions:{remove:!1}}},defaults:{isSettingsPending:!0,isSettingsPopulated:!1}}),Sn=Ue.a.extend({name:"ProviderFeatureCollection",context:["server","provider"],model:bn,modelId:function(e){return"action"===e.type?e.id:e.type},augmentResponse:function(e){var t=e.find(function(e){return e.type===en});return null==t||Array.isArray(t.Action)||(t.Action=[t.Action]),null==t&&(t={Action:[],type:en},e.push(t)),e.forEach(function(e){if(e.type===un&&(null!=e.scrobbleKey||null!=e.unscrobbleKey)){var n=e.scrobbleKey,r=e.unscrobbleKey;t.Action.push({id:Zt,key:n,reverseKey:r}),delete e.scrobbleKey,delete e.unscrobbleKey}if("rate"===e.type){var i=e.key;t.Action.push({id:$t,key:i}),delete e.key}if("action"===e.type&&(null!=e.key||null!=e.reverseKey)){var a=e.key,o=e.reverseKey;t.Action.push({id:e.id,key:a,reverseKey:o}),delete e.key,delete e.reverseKey}}),e}}),In=n(119),Cn=n(21),Mn="html",Dn="plain";var wn=function(e){if(!te.a.get("shouldRequestHTMLFromCloudProvider"))return Dn;var t=[Cn.g,Cn.h];return Cn.i(e,t)?Mn:Dn};var Pn=function(e){var t,n=e||ne.NONE;return(t={})["X-Plex-Drm"]=n,t};var Tn=function(e){return e.get("drmType")},En="server",xn="library",On="list",jn="selection",An="settings",Nn="usersAndSharing",kn="content.discover",Ln="content.library",Rn="content.playlists",_n="content.collections",Un="content.timeline",zn="content.albums",Fn="content.dvr.discover",Bn="content.dvr.guide",Hn="content.dvr.schedule",Vn="content.home",Qn="content.saved",Wn="content.all",Gn="content.categories",Yn="content.channels",Kn="tidal",qn=n(94);function Zn(e){return F.join([e,"all"])}var Xn=n(2),Jn="news",$n="podcast",er="webshow",tr="musicVideo",nr=n(12),rr=n(82);function ir(e){if(e&&e.features)return e.features.find(function(e){return e.type===tn})}var ar,or="media";function sr(e,t,n,r,i){void 0===r&&(r={});var a=["#!",or];return e||a.push(encodeURIComponent(t)),a.push(encodeURIComponent(n),i),F.join(a,r)}function lr(e,t,n,r){return sr(e.isCloud,e.machineIdentifier,t.identifier,n,r)}function cr(e,t,n,r){var i=r.key,a=r.filterLabel,o=r.filters,s=wt()(r,["key","filterLabel","filters"]),l=function(e){var t=e.features&&e.features.content?e.features.content:ir(e);return t&&t.directories?t.directories.find(function(e){return!!e.hubKey}):null}(t);return r.filters?lr(e,t,Object.assign({},s,{title:a,key:i+"/all?"+o,source:l&&l.hubKey})):n.pivots&&0!==n.pivots.length?void 0:lr(e,t,Object.assign({},s,{title:n.title,key:i+"/all",source:l&&l.hubKey}))}function ur(e){var t=Object(J.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.machineIdentifier===t.get("machineIdentifier")}function dr(e,t,n,r,i){if(void 0===r&&(r={}),ur(e))return null;if(!n)return lr(e,t,r,i);if(Cn.i(t.identifier,Cn.c)){var a=cr(e,t,n,r);if(a)return a}return lr(e,t,Object.assign({},r,{source:n.hubKey||n.key}),i)}var pr={RECORDING_SCHEDULE:"view://dvr/recording-schedule",GUIDE:"view://dvr/guide",TIMELINE:"view://photo/timeline"},hr=((ar={})[pr.RECORDING_SCHEDULE]={path:"schedule"},ar[pr.GUIDE]={path:"guide"},ar[pr.TIMELINE]={path:"timeline",getRouteParams:function(e){return{key:e.key+"/cluster?clusterZoomLevel=1"}}},ar);function fr(e){return!!hr[e]}function gr(e,t,n,r){if(fr(e)){var i=hr[e];return dr(t,n,r,i.getRouteParams?i.getRouteParams(r):{},i.path)}}function vr(e,t){return{key:e.hubKey,type:fn.HUB,title:Object(Xn.default)("Recommended"),context:t?Vn:kn}}function mr(e){return{key:Zn(e.key),libraryKey:e.key,type:fn.LIST,title:Object(Xn.default)("Library"),context:Ln,isContent:!0}}function yr(e){var t=nr.r(nr.d);return{key:F.join([e.key,"all"],{type:t.id}),type:fn.LIST,title:Object(Xn.default)("Collections"),context:_n}}function br(e,t){var n=e.key.match(/\/library\/sections\/(\d+)/)[1],r=nr.r(nr.j);return F.join("/playlists/all",{type:r.id,playlistType:t,sectionID:n})}function Sr(e,t){return{key:br(e,t),type:fn.LIST,title:Object(Xn.default)("Playlists"),context:Rn}}function Ir(e){return{key:br(e,rr.b),type:fn.LIST,title:Object(Xn.default)("Albums"),context:zn}}function Cr(e){return e&&-1!==e.split(",").indexOf(qn.a)}function Mr(e,t){return e&&e.some(function(e){return e.type===t})}function Dr(e,t,n){return n.type===e&&(null==t&&null==n.subtype||null!=t&&n.subtype===t)}function wr(e,t){return/\/library\/sections\/(\d+)/.test(t.key)&&Dr(e,null,t)}var Pr=function(e,t){var n=t||e;return Cn.i(n,Cn.c)?Cn.c:n},Tr=n(30),Er=n(29);function xr(e){return/^\w+:\/\//.test(e)}function Or(e){var t,n=((t={})["X-Plex-Text-Format"]=wn(e),t["X-Plex-Provider-Version"]="1.3",t);if(te.a.get("shouldPublishDRM")){var r=Tn(Object(J.c)("appModel"));Object.assign(n,Pn(r))}return n}var jr=Er.l;function Ar(e){var t=e.identifier,n=e.serverEntityID;return Object(Tr.a)(jr,t,n)}var Nr,kr=Ce.a.extend({name:"ProviderModel",context:["server"],entityType:jr,entityID:function(e){return void 0===e&&(e=this.state),Ar({identifier:e.identifier,serverEntityID:this.server.entityID()})},idAttribute:"identifier",rootPropertyName:"MediaProvider",url:function(){return this.get("baseURL")},mergeStrategy:function(e,t,n){return"protocols"===e&&n&&n.length>0?n:Object(In.a)(e,t,n)},syncedAttrs:{id:Me.a.integer,parentID:Me.a.integer,identifier:Me.a.string,providerIdentifier:Me.a.string,baseURL:Me.a.string,title:Me.a.string,types:Me.a.list,protocols:Me.a.list,subscriptions:Me.a.boolean,icon:Me.a.string,epgSource:Me.a.string,source:Me.a.string},sessionAttrs:{isPending:Me.a.boolean,isPopulated:Me.a.boolean,error:Me.a.object},syncedRelations:{features:{relationClass:Sn,rootPropertyName:"Feature",options:function(){return{provider:this}},setOptions:{remove:!1}}},derivedAttrs:{isLibraryProvider:function(){return Cn.i(Pr(this.get("identifier"),this.get("providerIdentifier")),Cn.d)},metricsIdentifier:function(){var e=this.get("providerIdentifier")||this.get("identifier");return Cn.i(e,Cn.c)?e.split(":")[0]:e}},populate:function(){return this.get("isPopulated")?P.a.Deferred().resolve(this).promise():Ce.a.prototype.populate.apply(this,arguments)},resolveUrl:function(e,t){var n=Object.assign({},t);return this.url()&&(n.baseUrl=this.url()),this.server.resolveUrl(e,n)},getXHROptions:function(e,t){void 0===t&&(t={});var n=xr(e)?e:F.join([this.get("baseURL"),e]),r=this.get("providerIdentifier")||this.get("identifier");return this.server.getXHROptions(n,Object.assign({},t,{headers:Object.assign({},Or(r),t.headers)}))},defaults:function(){return{protocols:[],isPending:!0,isPopulated:!1,error:null}},augmentResponse:function(e){return e.Feature?(Array.isArray(e.Feature)||(e.Feature=[e.Feature]),e.Feature.forEach(function(t){var n;if((t.type===ln&&(t.Setting=[]),t.Directory&&t.type===tn)&&(Array.isArray(t.Directory)||(t.Directory=[t.Directory]),t.Directory.forEach(function(t,r){t.type===nr.j&&(n=r),t.Pivot||(t.Pivot=function(e,t,n){return e.hubKey||"/playlists"===e.key?Dr(nr.c,Jn,e)?[vr(e,!0),{key:"/library/sections/categories",type:fn.LIST,title:Object(Xn.default)("Categories"),context:Gn,isContent:!0},{key:"/library/sections/channels",type:fn.LIST,title:Object(Xn.default)("Channels"),context:Yn,isContent:!0}]:Dr(nr.l,$n,e)?[vr(e,!0),{key:"/library/sections/saved",type:fn.LIST,title:Object(Xn.default)("My Podcasts"),context:Qn,isContent:!0},{key:"/library/sections/categories",type:fn.LIST,title:Object(Xn.default)("Categories"),context:Gn,isContent:!0}]:Dr(nr.l,er,e)?[vr(e,!0),{key:"/library/sections/saved",type:fn.LIST,title:Object(Xn.default)("My Shows"),context:Qn,isContent:!0},{key:"/library/sections/home",type:fn.LIST,title:Object(Xn.default)("All Shows"),context:Wn,isContent:!0}]:Dr(nr.b,null,e)&&e.id===Kn?[vr(e,!0),{key:"/library/sections/saved",type:fn.LIST,title:Object(Xn.default)("My TIDAL"),context:Qn,isContent:!0},{type:fn.LIST,key:"/playlists",title:Object(Xn.default)("My TIDAL Playlists"),context:Rn}]:wr(nr.b,e)?[vr(e),mr(e),Sr(e,rr.a)]:wr(nr.g,e)?[vr(e),mr(e),yr(e),Sr(e,rr.c)]:wr(nr.l,e)?[vr(e),mr(e),yr(e),Sr(e,rr.c)]:wr(nr.h,e)?[vr(e),{key:pr.TIMELINE,type:fn.VIEW,title:Object(Xn.default)("Timeline"),context:Un},mr(e),Ir(e)]:Cr(t)&&Mr(n,cn)?[{key:e.hubKey,type:fn.HUB,title:Object(Xn.default)("Recommended"),context:Fn},{key:pr.GUIDE,type:fn.VIEW,title:Object(Xn.default)("Guide"),context:Bn},{key:pr.RECORDING_SCHEDULE,type:fn.VIEW,title:Object(Xn.default)("DVR Schedule"),context:Hn}]:Cr(t)||Mr(n,nn)?[{key:e.hubKey,type:fn.HUB,title:Object(Xn.default)("Recommended"),context:Fn},{key:pr.GUIDE,type:fn.VIEW,title:Object(Xn.default)("Guide"),context:Bn}]:Dr(nr.j,null,e)?[{key:F.join(e.key,{playlistType:rr.a}),type:fn.LIST,title:Object(Xn.default)("Music"),context:Rn},{key:F.join(e.key,{playlistType:rr.c}),type:fn.LIST,title:Object(Xn.default)("Video"),context:Rn},{key:F.join(e.key,{playlistType:rr.b}),type:fn.LIST,title:Object(Xn.default)("Photo"),context:Rn}]:[]:[]}(t,e.protocols,e.Feature))}),n&&n<t.Directory.length-1)){var r=t.Directory[n];t.Directory.splice(n,1),t.Directory.push(r)}}),e):e}}),Lr=Ce.a.extend({name:"StoredProviderModel",idAttribute:"identifier",syncedAttrs:Object.assign({},kr.prototype.syncedAttrs),syncedRelations:{features:{relationClass:Sn}}}),Rr=Ue.a.extend({name:"StoredProviderCollection",model:Lr}),_r=Wt.extend({name:"StoredServerModel",idAttribute:"machineIdentifier",additionalRelations:["connections"],syncedAttrs:{machineIdentifier:Me.a.string,friendlyName:Me.a.string,accessToken:Me.a.string,sourceTitle:Me.a.string,home:Me.a.boolean,serverClass:Me.a.string,platform:Me.a.string,isShared:Me.a.boolean,version:Me.a.string,publicAddressMatches:Me.a.boolean,ownerId:Me.a.integer,mediaProviders:Me.a.integer},syncedRelations:{providers:{relationClass:Rr},connections:{relationClass:qt}}}),Ur=Ue.a.extend({name:"StoredServerCollection",model:_r}),zr=n(141),Fr=n(58),Br="json",Hr=((Nr={})["bool"]=zr.a,Nr[Br]=Et.a,Nr),Vr=Ce.a.extend({name:"UserSettingModel",context:["server"],sessionAttrs:{isDirty:Me.a.boolean},syncedAttrs:{id:Me.a.string,type:Me.a.string,value:Me.a.oneOfType(Me.a.boolean,Me.a.object),hidden:Me.a.boolean,updatedAt:Me.a.integer},defaults:{isDirty:!1},augmentResponse:function(e){var t=this.get("isDirty"),n=this.get("updatedAt"),r=Object(Fr.a)(e.updatedAt),i=n&&r&&n<r;if(t&&n===r||n&&r&&n>r)return this.toJSON();t&&i&&(e.isDirty=!1);var a=Hr[e.type];return a&&(e.value=a(e.value)),e}}),Qr=Ce.a.extend({name:"StoredUserSettingModel",syncedAttrs:Object.assign({},Vr.prototype.syncedAttrs,{isDirty:Me.a.boolean})}),Wr=Ue.a.extend({name:"StoredUserSettingCollection",model:Qr}),Gr=Wt.extend({name:"StoredUserModel",additionalRelations:["servers"],syncedAttrs:{id:Me.a.integer,authToken:Me.a.string,username:Me.a.string,email:Me.a.string,title:Me.a.string,thumb:Me.a.string,pin:Me.a.string,home:Me.a.boolean,restricted:Me.a.boolean,guest:Me.a.boolean,hasAllEntitlements:Me.a.boolean,lastPrimaryServerID:Me.a.string},syncedRelations:{subscriptions:{relationClass:Qt},roles:{relationClass:Ut},entitlements:{relationClass:kt},providers:{relationClass:Ft},features:{relationClass:Rt},settings:{relationClass:Wr},experienceSettings:function(){return{relationClass:Object(J.c)("StoredUserExperienceSettingsModel")}},servers:{relationClass:Ur}},clearSensitiveAttributes:function(){this.unset("authToken"),this.unset("pin"),this.get("servers").reset()}}),Yr=Ue.a.extend({name:"StoredUserCollection",model:Gr}),Kr=new(At.extend({name:"UserStorageModel",storageKey:"users",sessionAttrs:{activeUserID:Me.a.integer},syncedRelations:{users:{relationClass:Yr}},initialize:function(){this.debouncedSaveTimeout=null},debouncedSave:function(){var e=this;this.debouncedSaveTimeout&&clearTimeout(this.debouncedSaveTimeout),this.debouncedSaveTimeout=setTimeout(function(){return e.save()},1e3)},flushDebouncedSave:function(){this.debouncedSaveTimeout&&(clearTimeout(this.debouncedSaveTimeout),this.save())},getActiveUser:function(){var e=this.get("users"),t=this.get("activeUserID");if(null!=t)return e.get(t)},clearActiveUser:function(){var e=this.getActiveUser();return e&&e.clearSensitiveAttributes(),this.unset("activeUserID"),this.save()},getActiveServers:function(){var e=this.getActiveUser();if(e)return e.get("servers")}})),qr="contentRating",Zr="contentRating!",Xr="label",Jr="label!",$r=Ce.a.extend({name:"ServerShareLibraryModel",syncedAttrs:{id:Me.a.integer,key:Me.a.string,title:Me.a.string,type:Me.a.string}}),ei=Ue.a.extend({name:"ServerShareLibraryCollection",context:["server"],model:$r}),ti={type:Me.a.queryString,separators:["|","&"],orFields:[qr,Xr],andFields:[Zr,Jr]},ni=Ce.a.extend({name:"ServerShareSharingSettingsModel",syncedAttrs:{allowSync:Me.a.boolean,allowCameraUpload:Me.a.boolean,allowChannels:Me.a.boolean,allowSubtitleAdmin:Me.a.boolean,allowTuners:Me.a.integer,filterMovies:ti,filterTelevision:ti,filterMusic:ti,filterPhotos:ti}}),ri=Ce.a.extend({name:"ServerShareModel2",context:["server"],mergeStrategy:In.a,responseType:jt.a.json,urlRoot:"api/v2/shared_servers",syncedAttrs:{id:Me.a.integer,serverId:Me.a.integer,machineIdentifier:Me.a.string,name:Me.a.string,owned:Me.a.boolean,admin:Me.a.boolean,pending:Me.a.boolean,accepted:Me.a.boolean,ownerId:Me.a.integer,inviteToken:Me.a.string,invitedEmail:Me.a.string,invitedAt:Me.a.string,acceptedAt:Me.a.string,lastSeenAt:Me.a.string,deletedAt:Me.a.string,leftAt:Me.a.string,numLibraries:Me.a.integer,allLibraries:Me.a.boolean},syncedRelations:{libraries:{relationClass:ei},sharingSettings:{relationClass:ni}}}),ii=Ue.a.extend({name:"ServerShareCollection2",context:["server"],model:ri}),ai={type:Me.a.queryString,separators:["|","&"],orFields:[qr,Xr],andFields:[Zr,Jr],save:!0},oi=Ce.a.extend({name:"FriendModel2",context:["server"],rootPropertyName:"User",entityType:Er.a,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.id)},urlRoot:function(){return this.get("home")?"/api/users":"/api/friends"},saveAttrs:["allowSync","allowCameraUpload","allowChannels","allowTuners","filterMovies","filterTelevision","filterMusic","filterPhotos"],filterAttrs:["filterMovies","filterTelevision","filterMusic","filterPhotos"],sessionAttrs:{isRemoving:Me.a.boolean},syncedAttrs:{id:Me.a.integer,home:Me.a.boolean,protected:Me.a.boolean,restricted:Me.a.boolean,title:Me.a.string,username:Me.a.string,email:Me.a.string,thumb:Me.a.string,recommendationsPlaylistId:Me.a.string,allowSync:{type:Me.a.boolean,save:!0},allowCameraUpload:{type:Me.a.boolean,save:!0},allowChannels:{type:Me.a.boolean,save:!0},allowTuners:{type:Me.a.integer,save:!0},filterMovies:ai,filterTelevision:ai,filterMusic:ai,filterPhotos:ai},syncedRelations:{serverShares:{relationClass:ii,rootPropertyName:"Server"}},defaults:{isRemoving:!1},getSaveParams:function(e){var t=this;if(e&&0!==Object.keys(e).length)return Ce.a.prototype.getSaveParams.apply(this,arguments);var n=this.pick(this.saveAttrs);return Object.keys(n).map(function(e){var r=n[e];"boolean"==typeof r?n[e]=r?"1":"0":t.filterAttrs.includes(e)&&(n[e]=t.stringifyFilter(r))}),n},stringifyFilter:function(e){return Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])}).join("|")}}),si=Ue.a.extend({name:"FriendCollection2",context:["server"],model:oi,url:"/api/users"}),li={hubIdentifier:Me.a.string,hubKey:Me.a.string,key:Me.a.string,style:Me.a.string,subtype:Me.a.string,title:Me.a.string,type:Me.a.string},ci={friendlyName:Me.a.string,machineIdentifier:Me.a.string.isRequired,sourceTitle:Me.a.string},ui={identifier:Me.a.string,providerIdentifier:Me.a.string,title:Me.a.string},di=Ce.a.extend({name:"HomeHubProviderModel",syncedAttrs:Object.assign({},ui)}),pi=Ce.a.extend({name:"HomeHubServerModel",syncedAttrs:Object.assign({},ci)}),hi=Ce.a.extend({name:"HomeHubModel",syncedAttrs:Object.assign({},li,{id:Me.a.string.isRequired,directoryKey:Me.a.string.isRequired,isHidden:Me.a.boolean.isRequired}),syncedRelations:{provider:{relationClass:di},server:{relationClass:pi}},defaults:{isHidden:!1}}),fi=Ue.a.extend({name:"HomeHubCollection",model:hi}),gi=Ce.a.extend({name:"HomeSettingsModel",syncedAttrs:{hasCustomizations:Me.a.boolean.isRequired,hasSeededPreferredServerContent:Me.a.boolean.isRequired,hasSeededProviderPromotedContent:Me.a.boolean.isRequired,preferredServerID:Me.a.string,settingsKey:Me.a.string.isRequired,version:Me.a.integer.isRequired},syncedRelations:{hubs:{relationClass:fi}},defaults:function(){return{hasCustomizations:!1,hasSeededPreferredServerContent:!1,hasSeededProviderPromotedContent:!1,settingsKey:de(),version:1}}}),vi=Ce.a.extend({name:"SidebarSourceModel",idAttribute:"key",syncedAttrs:{key:Me.a.string.isRequired,sourceType:Me.a.string.isRequired,machineIdentifier:Me.a.string.isRequired,providerIdentifier:Me.a.string.isRequired,directoryKey:Me.a.string,directoryHubKey:Me.a.string,directoryIcon:Me.a.string,title:Me.a.string.isRequired,serverFriendlyName:Me.a.string.isRequired,serverSourceTitle:Me.a.string,detail:Me.a.string,isCloud:Me.a.boolean,isFullOwnedServer:Me.a.boolean,isHidden:Me.a.boolean.isRequired},defaults:{isHidden:!1}}),mi=Ue.a.extend({name:"SidebarSourceCollection",model:vi}),yi=Ce.a.extend({name:"SidebarSettingsModel",syncedAttrs:{hasCompletedSetup:Me.a.boolean.isRequired},syncedRelations:{pinnedSources:{relationClass:mi}},defaults:function(){return{hasCompletedSetup:!1}}}),bi={sessionAttrs:{sidebarPreferredSourcesSavedEnteredPath:Me.a.string,isSidebarAllSources:Me.a.boolean.isRequired,isDirty:Me.a.boolean.isRequired,isSaving:Me.a.boolean.isRequired,saveError:Me.a.object},syncedAttrs:{updatedAt:Me.a.integer,shouldSaveLastSourcePivots:Me.a.boolean.isRequired,lastSourcePivots:Me.a.object.isRequired,savedPivotParams:Me.a.object.isRequired},syncedRelations:{homeSettings:{relationClass:gi},sidebarSettings:{relationClass:yi}},defaults:{sidebarPreferredSourcesSavedEnteredPath:null,isSidebarAllSources:!1,isDirty:!1,isSaving:!1,saveError:null,shouldSaveLastSourcePivots:!0,lastSourcePivots:{},savedPivotParams:{}}};function Si(e){return!e.get("experienceSettings").get("isRemoteSchemaVersionNewer")&&te.a.get("allowSyncSettings")&&Object(J.c)("settingFinder").find("shouldSyncSettings")}function Ii(e,t){var n={includeSubscriptions:1,includeProviders:1,includeSettings:te.a.get("allowSyncSettings")?1:0,includeSharedSettings:Si(e)?1:0};if(t&&Object.assign(n,t),te.a.get("shouldPublishDRM")){var r=Tn(Object(J.c)("appModel")),i=Pn(r);Object(D.a)("[User] Device DRM:",i),Object.assign(n,i)}return n}function Ci(e,t){return e.replace(/^\w+:\/\//,t+"//")}var Mi=function(e){var t=e.url,n=e.data,r=e.onMessage,i=e.timeout,a=setTimeout(function(){r({success:!1}),o()},i);function o(){window.document.body.removeChild(l),window.removeEventListener("message",s),clearTimeout(a)}function s(e){if(e.source===l.contentWindow){var t;try{t=JSON.parse(e.data)}catch(e){}t&&(r(t),o())}}window.addEventListener("message",s);var l=window.document.createElement("iframe");l.style.display="none",l.src=t+"#"+encodeURIComponent(JSON.stringify({data:n})),window.document.body.appendChild(l)},Di="service-reflector";function wi(e){return e&&e.statusText||""}var Pi=function(e){var t,n,r=e.xhrFields&&e.xhrFields.withCredentials&&!1;return e.headers=Object.assign({},tt.getInstance(),e.headers||{}),r?(t=e,n=P.a.Deferred(),Mi({url:Ci(window.location.origin,"https:")+"/"+Di,data:t,timeout:5e3,onMessage:function(e){!0===e.success?n.resolve(e.data,wi(e.xhr),e.xhr):!1===e.success&&n.reject(e.xhr,wi(e.xhr))}}),n.promise()):P.a.ajax(e)},Ti=n(440),Ei=n(208),xi=n(89),Oi=y.c.Model.extend({mixins:[Ei.a],cache:new xi.a,constructor:function(e,t){if(e||(e={}),t||(t={}),this.server=this.findOption(t,"server"),this.section=this.findOption(t,"section"),this.channel=this.findOption(t,"channel"),this.device=this.findOption(t,"device"),this.parent=this.findOption(t,"parent"),this.findOption(t,"skipCache"))y.c.Model.prototype.constructor.apply(this,arguments);else{var n=this.cache.getItemCacheKey(this,e),r=this.cache.get(n);if(r)return t.parse&&(e=r.parse(e)),this.preserveCachedAttributes&&this.preserveCachedAttributes(t.url)?C.a.each(e,function(e,t){C.a.isUndefined(r.get(t))&&!C.a.isUndefined(e)&&r.set(t,e)}):r.set(e),r.server=this.server||r.server,r.section=this.section||r.section,r.channel=this.channel||r.channel,r.device=this.device||r.device,r.parent=this.parent||r.parent,t.collection&&(r.collection=t.collection),r;if(this.findOption(t,"onlyIfCached"))return{};y.c.Model.prototype.constructor.apply(this,arguments),this.cache.store(this,n)}},findOption:function(e,t){return e[t]||e.collection&&e.collection[t]},clone:function(){var e={server:this.server,section:this.section,channel:this.channel,parent:this.parent,skipCache:!0};return new this.constructor(this.attributes,e)||null},convert:function(e){return C.a.isObject(e)?e:Ve.a.parseXML(e)},parse:function(e,t){var n=this.convert(e);return this.whitelistedAttrs&&(n=C.a.pick(n,this.whitelistedAttrs)),n},save:function(e,t,n){var r,i,a,o=this.attributes;null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=C.a.extend({validate:!0},n);var s=this.getSaveParams(r,n);if(C.a.extend(s,n.data),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;if(r&&n.wait&&(this.attributes=C.a.extend({},o,r)),C.a.isEmpty(s)&&!n.force)return n.success&&n.success(this),P.a.Deferred().resolve(this);void 0===n.parse&&(n.parse=!0);var l=this,c=n.success;n.success=function(e){if(l.attributes=o,e){var t=l.parse(e,n);if(n.wait&&(t=C.a.extend(r||{},t)),C.a.isObject(t)&&!l.set(t,n))return!1;l.cache.store(l)}c&&c(l,e,n),l.trigger("sync",l,e,n)},y.c.wrapError(this,n),"patch"===(i=this.isNew()?"create":n.patch?"patch":"update")&&(n.attrs=r);var u=C.a.result(this,"saveUrl")||C.a.result(this,"url");return C.a.isEmpty(s)||(n.url=F.join(u,s)),n.data="",a=this.sync(i,this,n),r&&n.wait&&(this.attributes=o),a},getSaveParams:function(e,t){return this.isNew()?e||this.toJSON():this.changedAttributes(e)||{}},getScopedKey:function(e){return null!=e&&C.a.isFunction(this.cacheKey)?this.cacheKey(this.attributes)+"!"+e:e},restoreDefaults:function(e){var t=C.a.result(this,"defaults");if(!t)return this.clear(e);var n,r=this.attributes;for(n in r)n in t||this.unset(n,e);return this.set(t,e),this},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)Object(M.a)(!1,"This model is already capturing events");else{var e=this.set,t={};this.set=function(n,r,i){var a;"object"==typeof n?(a=n,i=r):(a={})[n]=r;var o=C.a.extend({},i,{silent:!0}),s=e.call(this,a,o);return C.a.extend(t,this.changed),s},this.releaseCapturedChangeEvents=function(){C.a.each(t,function(e,t){this.trigger("change:"+t,this,e)},this),C.a.isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}}});Oi.extend=function(){var e=y.c.Model.extend.apply(this,arguments);return e.prototype.cache=new xi.a,e};var ji=Oi,Ai=ji.extend({url:"/api/home",whitelistedAttrs:["id","guestUserID","guestEnabled","name"],convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseInteger(t,"id"),Ve.a.parseBoolean(t,["guestEnabled"]),t},parse:function(e){var t=this.convert(e);return t=C.a.pick(t,this.whitelistedAttrs)},getSaveParams:function(e,t){return C.a.isEmpty(e)?{guestEnabled:this.get("guestEnabled")?"1":"0"}:ji.prototype.getSaveParams.apply(this,arguments)}}),Ni=n(182),ki=Ni.a.extend({maxCycles:3,maxSize:20,get:function(e){var t=Ni.a.prototype.get.apply(this,arguments);return t&&t.every(function(e){return!(!e.cache||!e.cache.isListening)&&(e.cache.store(e),!0)}),t},getItemCacheKey:function(e){var t=C.a.result(e,"url");return e.server&&(t=e.server.getScopedKey(t)),e.provider&&(t=e.provider.getScopedKey(t)),t}}),Li=y.c.Collection.extend({mixins:[Ei.a],cache:new ki,constructor:function(e,t){if(t||(t={}),this.server=t.server,this.section=t.section,this.channel=t.channel,this.device=t.device,this.parent=t.parent,this.allowInCache=t.allowInCache,this.persistInCache=t.persistInCache,this.skipCache=t.skipCache,t.url&&(this.url=t.url),t.path&&(this.path=t.path),null==t.pageStart&&null==t.pageSize||(this.pageStart=t.pageStart||0,this.pageSize=t.pageSize||0),t.populated&&this.resetPopulatePromise(P.a.Deferred().resolve().promise()),t.allowInCache||t.persistInCache){this.initialize.apply(this,arguments);var n=this.cache.getItemCacheKey(this),r=this.cache.get(n);if(this.uninitialize(),t.onlyIfCached&&(r||(r={})),r)return r;y.c.Collection.prototype.constructor.apply(this,arguments),this.cache.store(this,n)}else y.c.Collection.prototype.constructor.apply(this,arguments)},uninitialize:function(){this.stopListening()},sync:function(){return(this.allowInCache||this.persistInCache)&&this.cache.store(this),y.c.sync.apply(this,arguments)},syncUrl:function(){var e="";if(this.url&&(e=C.a.result(this,"url")),this.path&&(e=F.join([e,C.a.result(this,"path")])),null!=this.pageStart||null!=this.pageSize){var t={"X-Plex-Container-Start":this.pageStart||0,"X-Plex-Container-Size":this.pageSize||0};e=F.join(e,t)}return e},convert:function(e,t){var n=C.a.isObject(e)?e:Ve.a.parseXML(e);if(!t)return n;var r=n[t];return r?(Array.isArray(r)||(r=[r]),r):[]},clone:function(e){var t={server:this.server,section:this.section,parent:this.parent,url:this.url};return e||(e=this.models),new this.constructor(e,t)},cloneDeep:function(e){return e||(e=this.map(function(e){return e.clone()})),this.clone(e)},clear:function(e){e=C.a.extend({silent:!0},e),this.abortPendingPopulate(),this.resetPopulatePromise(null),this.reset([],e)}});Li.extend=function(){var e=y.c.Collection.extend.apply(this,arguments);return e.prototype.cache=new ki,e};var Ri=Li,_i=ji.extend({urlRoot:"/api/home/users",whitelistedAttrs:["id","uuid","admin","protected","restricted","guest","title","username","email","thumb"],convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return t.User&&(t=t.User),Ve.a.parseInteger(t,"id"),Ve.a.parseBoolean(t,["admin","protected","restricted","guest"]),t},parse:function(e){var t=this.convert(e);return t=C.a.pick(t,this.whitelistedAttrs)},getSaveParams:function(e,t){if(C.a.isEmpty(e)){var n={};return this.get("restricted")?n.title=this.get("title"):this.isNew()&&(n.invitedEmail=this.get("username")),n}return ji.prototype.getSaveParams.apply(this,arguments)}}),Ui=Ri.extend({model:_i,url:"/api/home/users",parse:function(e){return this.convert(e,"User")}}),zi=Ce.a.extend({name:"UserProfileModel",context:["server"],url:"/api/v2/user/profile",syncedAttrs:{autoSelectAudio:Me.a.boolean,autoSelectSubtitle:Me.a.integer,defaultAudioLanguage:Me.a.string,defaultSubtitleLanguage:Me.a.string,defaultSubtitleAccessibility:Me.a.integer,defaultSubtitleForced:Me.a.integer}}),Fi=Ue.a.extend({name:"UserSettingCollection",context:["server"],model:Vr}),Bi={PENDING:"pending",LOCKED:"locked",UNLOCKED:"unlocked"},Hi={EMPTY:"",UNSUBSCRIBED:"unsubscribed",ACTIVE:"active",ERROR:"error",REMOVED:"removed"},Vi=Ce.a.extend({mixins:[Ot],name:"UserModel",context:["server"],url:function(){return F.join("/api/v2/user",Ii(this))},sessionAttrs:{isRemote:Me.a.boolean,isSignedIn:Me.a.boolean.isRequired,hasInvalidToken:Me.a.boolean.isRequired,lastPrimaryServerID:Me.a.string,lockState:Me.a.oneOf(Bi.PENDING,Bi.LOCKED,Bi.UNLOCKED).isRequired,homeUsers:Me.a.instanceOf(Ui).isRequired,homeDetails:Me.a.instanceOf(Ai).isRequired,isAllFriendsPending:Me.a.boolean.isRequired,isAllFriendsPopulated:Me.a.boolean.isRequired,allFriendsError:Me.a.object},syncedAttrs:{id:Me.a.integer,uuid:Me.a.string,authToken:Me.a.string,username:Me.a.string,email:Me.a.string,emailOnlyAuth:Me.a.boolean,title:Me.a.string,subscriptionDescription:Me.a.string,locale:Me.a.string,thumb:Me.a.string,pin:Me.a.string,home:Me.a.boolean,restricted:Me.a.boolean,guest:Me.a.boolean,homeSize:Me.a.integer,maxHomeSize:Me.a.integer,queueUid:Me.a.string,queueEmail:Me.a.string,hasAllEntitlements:Me.a.boolean,mailingListActive:Me.a.boolean,hasPassword:Me.a.boolean,mailingListStatus:Me.a.oneOf(Hi.EMPTY,Hi.UNSUBSCRIBED,Hi.ACTIVE,Hi.ERROR,Hi.REMOVED)},sessionRelations:{features:{relationClass:Rt},allFriends:{relationClass:si}},syncedRelations:{subscriptions:{relationClass:Qt},roles:{relationClass:Ut},entitlements:{relationClass:kt},settings:{relationClass:Fi},experienceSettings:function(){return{relationClass:Object(J.c)("UserExperienceSettingsModel")}},services:{relationClass:Ft},profile:{relationClass:zi}},derivedAttrs:{isLocked:function(){return this.get("lockState")===Bi.LOCKED},isUnlocked:function(){return this.get("lockState")===Bi.UNLOCKED},isFullUser:function(){return!!this.get("username")},isEmployee:function(){return!!this.get("roles").get("employee")},isNinja:function(){return this.get("isEmployee")||!!this.get("roles").get("ninja")},hasPlexSubscription:function(){return this.get("subscriptions").some(function(e){var t=e.get("state");return"active"===t||"pending_cancellation"===t})},hasPlexPass:function(){return this.get("subscriptions").some(function(e){var t=e.get("type"),n=e.get("state");return"plexpass"===t&&("active"===n||"pending_cancellation"===n)})},canGoPremium:function(){var e=this.get("homeSize")>1;return this.get("signedIn")&&!this.get("restricted")&&!this.get("hasPlexSubscription")&&!e},signedIn:function(){return this.get("isSignedIn")},locked:function(){var e=this.get("lockState");return e===Bi.LOCKED||e!==Bi.UNLOCKED&&null}},defaults:function(){var e={server:this.server,parent:this};return{id:0,isRemote:!1,isSignedIn:!1,hasInvalidToken:!1,hasPassword:!0,lockState:Bi.PENDING,homeUsers:new Ui([],e),homeDetails:new Ai({},e),isAllFriendsPending:!0,isAllFriendsPopulated:!1,allFriendsError:null}},initialize:function(e,t){this._resetPopulate(),this.onHomeUsersChange(this,this.get("homeUsers")),this.on("change:homeUsers",this.onHomeUsersChange,this),this.listenTo(this.server,{"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange})},uninitialize:function(){this.off("change:homeUsers",this.onHomeUsersChange,this),this.stopListening()},fetch:function(){return y.c.Model.prototype.fetch.apply(this,arguments)},augmentResponse:function(e){void 0===e&&(e={});var t=e,n=t.roles,r=t.entitlements,i=t.settings,a=t.providers,o=t.subscriptions,s=wt()(t,["roles","entitlements","settings","providers","subscriptions"]),l=i&&i.setting?i.setting:[];l=Array.isArray(l)?l:[l];var c=this.get("experienceSettings"),u=!1,d=l.reduce(function(e,t){return"experience"===t.id?(u=!0,e.experienceSettings=Object.assign({},Object(Et.a)(t.value),{updatedAt:t.updatedAt})):e.settings.push(t),e},{settings:[],experienceSettings:{}});return!u&&c&&(d.experienceSettings=c.toJSON({syncedOnly:!0})),Object.assign({},s,d,{roles:n&&n.role,hasAllEntitlements:r&&r.all,entitlements:r&&r.entitlement,services:a&&a.provider,subscriptions:o&&o.subscription})},_getTokenPromise:function(){return te.a.get("allowSSO")?this._getSSOThenStorageTokenPromise():this._getStorageTokenPromise()},_getSSOThenStorageTokenPromise:function(){var e=this,t=this._getStorageTokenPromise(),n=this._getSSOTokenPromise();return n.then(function(n){return n?function(e){return t.then(function(t){return e===t?(Object(D.a)("[User] SSO status is signed-in, storage token matches SSO token"),e):(Object(D.a)("[User] SSO status is signed-in, storage token and SSO token differ"),bt.execute("resetUser").then(function(){z.a.trigger("reset:servers"),z.a.trigger("reset:providers")}).then(function(){return e}))},function(){return Object(D.a)("[User] SSO status is signed-in, storage token is not present"),q(e)})}(n):(Object(D.a)("[User] SSO status is signed-out"),t.then(function(){return q(e.signOutDueToInvalidToken())}))},function(){return Object(D.a)("[User] SSO status is not available"),t})},_getStorageTokenPromise:function(){return ee.get("myPlexAccessToken")},_getSSOTokenPromise:function(){return Pi(this.server.getXHROptions("/api/v2/users/signin",{method:"POST",xhrFields:{withCredentials:!0},data:{skipAuthentication:!0},dataType:"json"})).then(function(e){return e.authToken},function(e){return e&&400===e.status?P.a.Deferred().resolve(null).promise():P.a.Deferred().reject().promise()})},_getManualUserPromise:function(e){return P.a.ajax(this.server.getXHROptions(C.a.result(this,"url"),{headers:{"X-Plex-Token":e}}))},signInUnsupervised:function(){var e=this;if(!this._isSigningIn){this._isSigningIn=!0;var t=this._getTokenPromise();t.done(function(t){Object(D.a)("[User] Token promise succeeded, accessToken="+t);var n=t?e._getManualUserPromise(t):P.a.Deferred().reject().promise();n.done(function(n){Object(D.a)("[User] userPromise succeeded");var r=e.get("homeDetails");r.fetch({headers:{"X-Plex-Token":t}}).always(function(){var t=e.parse(n),i=e.get("lockState");if(i!==Bi.UNLOCKED){var a=Object(J.c)("settingFinder").find("autoLogin"),o=!!t.guest&&!r.get("guestEnabled");i=!!t.home&&(!a||o)?Bi.LOCKED:Bi.UNLOCKED}e.signIn(t,{lockState:i}),e._isSigningIn=!1})}),n.fail(function(t){if(Object(D.a)("[User] userPromise failed"),t&&t.aborting)e._isSigningIn=!1;else{var n=Object(Ti.a)(t);n?e.signOutDueToInvalidToken():e.signOut({hasInvalidToken:n,features:e.get("features"),allFriends:e.get("allFriends"),settings:e.get("settings"),experienceSettings:e.get("experienceSettings")}),e.server.testAllConnections(),e._isSigningIn=!1}})}),t.fail(function(){Object(D.a)("[User] tokenPromise failed"),e.signOut({features:e.get("features"),allFriends:e.get("allFriends"),settings:e.get("settings"),experienceSettings:e.get("experienceSettings")}),e._isSigningIn=!1})}},signIn:function(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=C.a.isString(e)?this.parse(e):e,i=r.authToken,a=Object.assign({isSignedIn:!0},r,t);return this._resolve(a,n),ee.set("myPlexAccessToken",i)},signOut:function(e){return void 0===e&&(e={}),this._reject(e),P.a.Deferred().resolve().promise()},signOutDueToInvalidToken:function(){return P.a.when(q(this.signOut({hasInvalidToken:!0})),q(this.clearAccessToken()))},activateStoredUser:function(e){Kr.set("activeUserID",e)},clearAccessToken:function(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken&&delete window.PLEXWEB.myPlexAccessToken;var e=ee.remove("myPlexAccessToken");return e=e.then(function(){return Kr.clearActiveUser()})},hashPIN:function(e,t){return void 0===t&&(t=this.get("authToken")),Tt.a.SHA256_hash(e+t)},hasEntitlement:function(e){var t=this.get("hasAllEntitlements"),n=this.get("entitlements");return!(!t&&!n.get(e))},hasHome:function(){return!!this.get("pin")||this.get("homeUsers").length>1},isFullUser:function(){return this.get("isFullUser")},isEmployee:function(){return this.get("isEmployee")},isNinja:function(){return this.get("isNinja")},_resolve:function(e,t){void 0===t&&(t={}),this.startCapturingChangeEvents(),this.activateStoredUser(e.id),this.set(e),this._resolvePopulate(),this.server.authenticate(e.authToken),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},_reject:function(e,t){void 0===t&&(t={}),this.startCapturingChangeEvents(),this.restoreDefaults(e),this._rejectPopulate(),this.server.deauthenticate(),t.silent?this.discardCapturedChangeEvents():this.releaseCapturedChangeEvents()},onHomeUsersChange:function(e,t){var n=e.previous("homeUsers");n&&this.stopListening(n),this.listenTo(this.get("homeUsers"),"reset add remove",this.onHomeUsersUpdate)},onHomeUsersUpdate:function(){this.set("homeSize",this.get("homeUsers").length),this.get("homeDetails").fetch()},onServerConnectedChange:function(e,t){t&&this.signInUnsupervised()},onServerUnavailableChange:function(e,t){t&&this.signOut({lockState:this.get("lockState"),features:this.get("features"),allFriends:this.get("allFriends"),settings:this.get("settings"),experienceSettings:this.get("experienceSettings")})}},{lockStates:Bi,mailingListStates:Hi});xt(Vi,function(){return{relationClass:Object(J.c)("UserFlexModel")}});var Qi=Vi,Wi=n(131);function Gi(e){return{status:e.status,statusText:e.statusText,readyState:e.readyState,responseText:e.responseText}}function Yi(e){var t=e.key,n=e.getModel,r=e.onResolved,i=e.onRejected,a=Object(Wi.a)(t),o="is"+a+"Pending",s="is"+a+"Populated",l=t?t+"Error":"error";return function(t,a,c){void 0===a&&(a={});var u=n(t,a),d=(u.sessionAttrs,u.get(o));u.set(o,!0),e.fetch(t,a,c).then(function(){var e;u.set(((e={})[o]=!1,e[s]=!0,e[l]=null,e)),r&&r(u,t,a,c)},function(e){var n,r,s=e.aborting?((n={})[o]=d,n):((r={})[o]=!1,r[l]=Gi(e),r);u.set(s),i&&i(u,t,a,c)})}}function Ki(e){var t=e.key,n=e.getModel;return Yi(Object.assign({},e,{fetch:function(e,r){var i=n(e,r);return(t?i.get(t):i).fetch(r.options).then(null,function(e,t){return P.a.Deferred().reject(t).promise()})}}))}function qi(e){var t=e.key,n=e.fetchActionCreator,r=e.getModel,i="is"+Object(Wi.a)(t)+"Populated";return function(e,t,a){r(e,t).get(i)||a(n(t))}}var Zi={"home.continue":[/^(movie|tv)\.inprogress\.([0-9]+)/],"home.movies.recent":[/^movie\.recentlyadded\.([0-9]+)/],"home.music.recent":[/^music\.recent\.added\.([0-9]+)/],"home.photos.recent":[/^photo\.recent\.([0-9]+)/],"home.ondeck":[/^tv\.ondeck\.([0-9]+)/],"home.television.recent":[/^tv\.recentlyadded\.([0-9]+)/],"home.videos.recent":[/^video\.recent\.([0-9]+)/]};function Xi(e,t){return t.some(function(t){return t.test(e)})}function Ji(e){for(var t in Zi){if(Xi(e,Zi[t]))return t}return e}function $i(e){return ea({hubIdentifier:e.get("hubIdentifier"),identifier:e.provider.get("identifier"),machineIdentifier:e.server.get("machineIdentifier")})}function ea(e){var t=e.identifier,n=e.hubIdentifier;return e.machineIdentifier+"--"+t+"--"+Ji(n)}function ta(e,t){var n={};for(var r in t)e.hasAttr(r)&&(n[r]=e.get(r));return n}function na(e,t){var n=e.get("user").get("experienceSettings").get("homeSettings");n.set("settingsKey",de()),t(Wo({homeSettings:n}))}var ra="claim",ia="dismiss",aa="skip",oa="select",sa="cancel",la="refresh",ca="analyze",ua="download",da="rate",pa="selectStream",ha="updateLibrary",fa="cancelLibraryUpdate",ga="forceRefreshLibrary",va="selectSource",ma="selectTab",ya="selectPreferredServer",ba="client:claimServer",Sa="client:claimServerFailure",Ia="client:click",Ca="client:relayTested",Ma="client:signout",Da="client:switchuser",wa="home",Pa="preplay",Ta="playlists",Ea="searchResults",xa="player",Oa="account",ja="plexpass",Aa="unclaimedServer",Na="metadataSettings",ka="subtitles",La="subtitlesUpload",Ra="playHistory",_a="sidebar",Ua="usersSharing",za="sharing",Fa="preferredServer",Ba="dvrSettings",Ha="dvrSetup",Va="dvrManageChannels",Qa="dvrDeviceSettings",Wa="manageSubscription",Ga="airingDetails",Ya="channelsGrid",Ka="confirmOptimizeDatabase",qa="confirmCleanBundles",Za="confirmEmptyTrash",Xa="confirmAnalyzeLibrary",Ja="confirmForceRefreshLibrary",$a="confirmEmptyTrashLibrary",eo="confirmDeleteLibrary",to="confirmCancelDownload",no="confirmRemoveDownload",ro="confirmAddToHome",io="confirmResetCustomization",ao="confirmPlayback",oo="confirmRemoteToLocalPlayback",so="confirmLocalToRemotePlayback",lo="playVersion",co="resumePlayback",uo="playerError",po="liveTVPlayerConflict",ho="castApiMissing";function fo(e){return e.isCloud?"online":e.isFullOwnedServer?"owned":"shared"}var go=function(e){return{key:e.key,sourceType:e.sourceType,machineIdentifier:e.machineIdentifier,providerIdentifier:e.providerIdentifier,directoryKey:e.directoryKey,directoryHubKey:e.directoryHubKey,directoryIcon:e.directoryIcon,title:e.title,serverFriendlyName:e.serverFriendlyName,serverSourceTitle:e.serverSourceTitle,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer}};function vo(e,t,n){var r=e.get("entities").get(t);if(r){var i=r.get(n);if(i)return i.get("model")}}function mo(e,t,n){var r=vo(e,t,n);return r||D.a.warn('An entity does not exist with the type "%s" and id "%s"',t,n),r}function yo(e){return e.get("user").get("desktop")}function bo(e,t){var n=t.serverEntityID;return mo(e,Er.n,n)}function So(e,t){var n=t.serverEntityID;return vo(e,Er.n,n)}function Io(e,t){var n=bo(e,t);return n&&n.get("desktop")}function Co(e,t){var n=t.providerEntityID;return mo(e,Er.l,n)}function Mo(e,t){var n=t.providerEntityID;return vo(e,Er.l,n)}function Do(e,t){var n=t.libraryEntityID;return mo(e,Er.d,n)}function wo(e,t){var n=t.hubEntityID;return mo(e,Er.c,n)}function Po(e,t){var n=t.metadataListEntityID;return mo(e,Er.i,n)}function To(e,t){var n=t.metadataItemEntityID;return mo(e,Er.h,n)}function Eo(e,t){var n=t.metadataItemEntityID;return vo(e,Er.h,n)}function xo(e,t){var n=t.mediaSubscriptionEntityID;return mo(e,Er.f,n)}function Oo(e,t){var n=t.playQueueItemEntityID;return mo(e,Er.k,n)}function jo(e,t){var n=t.playlistItemEntityID;return mo(e,Er.j,n)}var Ao,No=n(20),ko=Mt("user/lockUser"),Lo=Mt("user/changePreferredServer"),Ro=Mt("user/addHomeHubs"),_o=Mt("user/removeHomeHubs"),Uo=Mt("user/updateHomeHubs"),zo=Mt("user/fetchAllFriends"),Fo=Mt("user/populateAllFriends"),Bo=Mt("user/seedProviderPromotedContent"),Ho=Mt("user/seedPreferredServerContent"),Vo=Mt("user/reorderHomeHubs"),Qo=(Mt("user/resetHomeSettings"),Mt("user/saveSetting"),Mt("user/syncSettings")),Wo=Mt("user/saveExperienceSettings"),Go=Mt("user/syncExperienceSettings"),Yo=Mt("user/restoreCustomizationSettings"),Ko=Mt("user/restoreDefaultExperienceSettings"),qo=Mt("user/saveSubtitleColor"),Zo=Mt("user/saveSubtitlePosition"),Xo=Mt("user/saveSubtitleSize"),Jo=Mt("user/saveAutoPlay"),$o=Mt("user/pinSources"),es=Mt("user/unpinSources"),ts=Mt("user/setupSources"),ns=Mt("user/reorderPinnedSources"),rs=Mt("user/updatePinnedSources");function is(e,t){if(!e.get("isSignedIn")||!te.a.get("allowSyncSettings"))return P.a.Deferred().resolve().promise();var n=Array.isArray(t)?t:[t],r=F.join("/api/v2/user/settings",{sharedSettings:Si(e)?1:0}),i=e.server.getXHROptions(r,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify({value:JSON.stringify(n)})});return P.a.ajax(i).promise()}function as(e,t){if(!e)return null;var n=e.find(function(e){return e.id===t});return n&&n.updatedAt}function os(e){return e.get("user")}function ss(e){return e.get("user").get("experienceSettings").get("sidebarSettings")}var ls=((Ao={})["user/lockUser"]=function(e){Object(No.a)(function(){e.get("user").set("lockState",Qi.lockStates.LOCKED)})},Ao["user/changePreferredServer"]=function(e,t,n){var r=t.machineIdentifier;e.get("user").get("experienceSettings").get("homeSettings").set("preferredServerID",r),na(e,n)},Ao["user/addHomeHubs"]=function(e,t,n){var r=e.get("user").get("experienceSettings").get("homeSettings"),i=t.at,a=t.isUserInitiated,o=i>=0?{at:i}:null,s=t.hubs.reduce(function(t,n){var r=n.directoryKey,i=n.entityID,a=n.model,o=i?wo(e,{hubEntityID:i}):a;return o&&t.push(function(e){var t=e.directoryKey,n=e.hubModel,r=n.get("hubIdentifier"),i=Ji(r),a=i===r?t:"/hubs";return new hi(Object.assign({},ta(n,li),{provider:Object.assign({},ta(n.provider,ui)),server:Object.assign({},ta(n.server,ci)),hubIdentifier:i,id:$i(n),directoryKey:a}))}({directoryKey:r,hubModel:o})),t},[]);s.length&&(a&&!r.get("hasCustomizations")&&r.set("hasCustomizations",!0),Object(D.a)("[Home] user/addHomeHubs:",t,s),r.get("hubs").add(s,o),na(e,n))},Ao["user/removeHomeHubs"]=function(e,t,n){var r=e.get("user").get("experienceSettings").get("homeSettings"),i=t.isUserInitiated,a=t.hubs.reduce(function(t,n){var r=n.entityID,i=n.homeHubID;if(r){var a=wo(e,{hubEntityID:r});i=a&&$i(a)}return i&&t.push(i),t},[]);a.length&&(i&&!r.get("hasCustomizations")&&r.set("hasCustomizations",!0),r.get("hubs").remove(a),na(e,n))},Ao["user/updateHomeHubs"]=function(e,t,n){var r=t.homeHubIDs,i=t.homeHubAttrs,a=e.get("user").get("experienceSettings").get("homeSettings").get("hubs");r.forEach(function(e){var t=a.get(e);t&&t.set(i)}),na(e,n)},Ao["user/fetchAllFriends"]=Ki({key:"allFriends",getModel:os}),Ao["user/populateAllFriends"]=qi({key:"allFriends",fetchActionCreator:zo,getModel:os}),Ao["user/seedPreferredServerContent"]=function(e,t,n){if(t.hubs.length){var r=e.get("user").get("experienceSettings").get("homeSettings"),i=Object.assign({},t);r.get("hasCustomizations")||(i.at=0),n(Ro(i)),r.set({hasSeededPreferredServerContent:!0}),na(e,n)}},Ao["user/seedProviderPromotedContent"]=function(e,t,n){if(t.hubs.length){var r=e.get("user").get("experienceSettings").get("homeSettings");n(Ro(t)),r.set({hasSeededProviderPromotedContent:!0}),na(e,n)}},Ao["user/reorderHomeHubs"]=function(e,t,n){var r=e.get("user").get("experienceSettings").get("homeSettings"),i=r.get("hubs"),a=t.isUserInitiated,o=t.homeHubIDs.map(function(e){return i.get(e)});a&&!r.get("hasCustomizations")&&r.set("hasCustomizations",!0),r.get("hubs").reset(o),na(e,n)},Ao["user/resetHomeSettings"]=function(e,t,n){var r=e.get("user").get("experienceSettings").get("homeSettings");r.restoreDefaults({preferredServerID:r.get("preferredServerID")}),na(e,n)},Ao["user/saveSetting"]=function(e,t,n){e.get("user").get("settings").get(t.id).set({value:t.value,isDirty:!0}),n(Qo([t.id]))},Ao["user/syncSettings"]=function(e,t){var n=e.get("user"),r=n.get("settings");is(n,t.map(function(e){return r.get(e).toJSON({syncedOnly:!0})})).then(function(e){t.forEach(function(t){var n=r.get(t),i=as(e,t);i&&n.set({updatedAt:i,isDirty:!1})})})},Ao["user/saveExperienceSettings"]=function(e,t,n){e.get("user").get("experienceSettings").set(Object.assign({},t,{isDirty:!0})),n(Go())},Ao["user/syncExperienceSettings"]=function(e){var t=e.get("user"),n=t.get("experienceSettings"),r=n.toJSON({excluded:["updatedAt"],syncedOnly:!0,excludeDefaults:!0});n.set({isSaving:!0,saveError:null}),is(t,{id:"experience",type:"json",value:JSON.stringify(r),hidden:!0}).then(function(e){var t=as(e,"experience"),r={isSaving:!1};t&&(r.updatedAt=t,r.isDirty=!1),n.set(r)},function(){n.set({isSaving:!1,saveError:{message:Object(Xn.default)("An error occurred while syncing settings")}})})},Ao["user/restoreCustomizationSettings"]=function(e,t,n){var r=e.get("user").get("experienceSettings");r.get("homeSettings").restoreDefaults(),r.get("sidebarSettings").restoreDefaults(),n(Go())},Ao["user/restoreDefaultExperienceSettings"]=function(e,t,n){var r=e.get("user").get("experienceSettings"),i={showAdvancedSettings:r.get("showAdvancedSettings"),isDirty:!0};r.restoreDefaults(i),n(Go())},Ao["user/saveSubtitleColor"]=function(e,t,n){n(Wo(t))},Ao["user/saveSubtitlePosition"]=function(e,t,n){n(Wo(t))},Ao["user/saveSubtitleSize"]=function(e,t,n){n(Wo(t))},Ao["user/saveAutoPlay"]=function(e,t,n){n(Wo(t))},Ao["user/setupSources"]=function(e,t,n){var r=ss(e),i=r.get("pinnedSources"),a=t.sources,o=void 0===a?[]:a;r.get("hasCompletedSetup")||r.set("hasCompletedSetup",!0);var s=o.map(go);i.reset(s),n(Wo({sidebarSettings:r})),s.forEach(function(e){Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,identifier:e.providerIdentifier,properties:{page:"preferredSources",action:"pinToNav",type:e.sourceType,serverType:fo(e),firstRun:!0}})})},Ao["user/pinSources"]=function(e,t,n){var r=ss(e),i=r.get("pinnedSources"),a=t.sources,o=(void 0===a?[]:a).map(go);i.add(o),n(Wo({sidebarSettings:r})),o.forEach(function(e){Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,identifier:e.providerIdentifier,properties:{page:_a,action:"pinToNav",type:e.sourceType,serverType:fo(e),firstRun:!1}})})},Ao["user/unpinSources"]=function(e,t,n){var r=ss(e),i=r.get("pinnedSources"),a=t.sources,o=void 0===a?[]:a,s=o.map(function(e){return i.get(e.key)});i.remove(s),n(Wo({sidebarSettings:r})),o.forEach(function(e){Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,identifier:e.providerIdentifier,properties:{page:_a,action:"unpinFromNav",type:e.sourceType,serverType:fo(e),firstRun:!1}})})},Ao["user/reorderPinnedSources"]=function(e,t,n){var r=ss(e),i=r.get("pinnedSources"),a=t.sourceKeys.map(function(e){return i.get(e)});i.reset(a),n(Wo({sidebarSettings:r})),Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,properties:{page:_a,action:"reorderNav"}})},Ao["user/updatePinnedSources"]=function(e,t,n){var r=t.sourceKeys,i=t.pinnedSourceAttrs,a=ss(e),o=a.get("pinnedSources");r.forEach(function(e){var t=o.get(e);t&&t.set(i)}),n(Wo({sidebarSettings:a}))},Ao),cs=function(e){return Function.prototype.toString.call(e)},us=cs(Object);function ds(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&cs(n)===us}var ps,hs,fs,gs=1e3/60,vs=0,ms=0;function ys(e,t){return ds(e)?function(e,t){for(var n=e.possibleEntityContainers,r=n?n.length:0,i=0;i<r;i++){var a=n[i],o=e[a];if(ys(o,t))return!0}return!1}(e,t):Array.isArray(e)?function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(ys(i,t))return!0}return!1}(e,t):e===t}function bs(e,t){return e+1>=t?0:e+1}function Ss(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter(function(e){return!!e}).join("--")}var Is=Mt("app/setPrimaryServer"),Cs=Mt("app/resetPrimaryServer"),Ms=Mt("app/changePrimaryServer"),Ds=Mt("app/changeCompanionServer"),ws=Mt("app/removeCompanionServer"),Ps=Mt("app/garbageCollectEntities"),Ts=Mt("app/navigate"),Es=(Mt("app/navigateBack"),Mt("app/navigateForward"),Mt("app/navigateHome")),xs=(Mt("app/navigateSearch"),Mt("app/navigatePrePlay")),Os=Mt("app/saveDeviceSettings"),js=Mt("app/saveLastSourcePivot"),As=Mt("app/clearLastSourcePivots"),Ns=Mt("app/savePivotParams"),ks=((fs={})["app/garbageCollectEntities"]=function(e,t){Object(No.a)();var n=function(e,t){void 0===t&&(t={});var n=null!=t.budget?t.budget:gs,r=window.performance.now(),i=e.entities,a=Object.keys(i),o=a.length,s={},l=i[a[vs]];for(ps=vs,hs=Math.max(Math.min(ms,Object.keys(l).length-1),0);vs<o;){for(var c=a[vs],u=i[c],d=Object.keys(u),p=d.length,h=bs(vs,o);ms<p;){var f=d[ms],g=bs(ms,p);if(ys(e,f)||(s[c]||(s[c]=[]),s[c].push(f)),h===ps&&g===hs)return vs=h,ms=g,s;if(window.performance.now()-r>=n)return vs=h,ms=g,s;ms++}if(ms=0,(vs=h)===ps&&ms===hs)return s}return s}(e.getState(),t),r=e.get("entities");for(var i in n){var a=n[i];r.get(i).remove(a)}t&&t.budget===1/0&&Object.keys(n).length&&Object(No.a)()},fs["app/saveLastSourcePivot"]=function(e,t,n){var r,i=bo(e,t),a=Co(e,t),o=e.get("user").get("experienceSettings"),s=o.get("lastSourcePivots");if(o.get("shouldSaveLastSourcePivots")){var l=Ss(i.get("machineIdentifier"),a.get("identifier"),t.directoryKey);n(Wo({lastSourcePivots:Object.assign({},s,(r={},r[l]=t.pivotKey,r))}))}},fs["app/clearLastSourcePivots"]=function(e,t,n){n(Wo({lastSourcePivots:{}}))},fs["app/savePivotParams"]=function(e,t,n){var r,i=bo(e,t),a=Co(e,t),o=e.get("user").get("experienceSettings").get("savedPivotParams"),s=Ss(i.get("machineIdentifier"),a.get("identifier"),t.directoryKey,t.pivotKey);n(Wo({savedPivotParams:Object.assign({},o,(r={},r[s]=t.params,r))}))},fs["app/changePrimaryServer"]=function(e,t){},fs["app/resetPrimaryServer"]=function(e,t){},fs["app/setPrimaryServer"]=function(e,t){},fs["app/changeCompanionServer"]=function(e,t){var n=So(e,t);n?e.set("companionServer",n):D.a.warn("[Companion] Could not find %s to use as companion server",t.serverEntityID)},fs["app/removeCompanionServer"]=function(e){e.unset("companionServer")},fs["app/navigate"]=function(){},fs["app/navigateBack"]=function(){},fs["app/navigateForward"]=function(){},fs["app/navigateHome"]=function(){},fs["app/navigateSearch"]=function(){},fs["app/navigatePrePlay"]=function(){},fs["app/saveDeviceSettings"]=function(){},fs);var Ls=function(){var e=Object(J.c)("appStore"),t=Object(J.c)("appModel"),n=t.get("ui"),r=t.get("user"),i=t.get("fakeRouter"),a=r.server,o=r.clearAccessToken();return o.fail(function(){D.a.warn("Failed to clear the access token and user storage")}).always(function(){t.set("history",[]),n&&n.restoreDefaults(),i&&i.restoreDefaults(),Y.a.abortAll(),r.signOut(),r.uninitialize(),r.initialize(),e.dispatch(Ps({budget:1/0})),z.a.trigger("clearAll:cache"),a.cache.store(a)}),q(o)};var Rs=function(e){void 0===e&&(e={});var t=Object(J.c)("appModel").get("user"),n=t.get("signedIn"),r=t.id!==e.homeUser.id,i=e.allowGuestLock,a=!!e.isRemoteUser,o=r||i,s=n?bt.execute("authenticateWithServer",e):bt.execute("authenticateWithHash",e);return n&&o?s=s.then(function(t){return function(e,t){var n=Object(J.c)("appModel").get("user"),r=bt.execute("resetUser");return(r=r.then(function(){n.activateStoredUser(t.homeUser.id);var r=Kr.getActiveUser();return r&&r.copyToModel(n),z.a.trigger("reset:servers"),z.a.trigger("reset:providers"),n.signIn(e,{lockState:Qi.lockStates.UNLOCKED})})).done(function(){Object(J.c)("metrics").trackEvent({event:Da,interaction:!0})}),r}(t,e)}):s.done(function(){t.set({isRemote:a,lockState:Qi.lockStates.UNLOCKED})}),s};var _s=function(e){var t=e.homeUser,n=J.c("appModel").get("user"),r=t.get("uuid")||n.get("uuid"),i=Ii(n,{pin:e.pin}),a=F.join(["/api/v2/home/users/",r,"/switch"],i),o=t.server.getXHROptions(a,{type:"POST",xhrFields:{withCredentials:te.a.get("allowSSO")}});return Pi(o)};var Us=function(e){var t=P.a.Deferred().resolve().promise(),n=P.a.Deferred().reject().promise(),r=Kr.getActiveUser();if(!r)return n;var i=r.get("pin"),a=r.get("authToken");return i||e.pin?i===Object(J.c)("appModel").get("user").hashPIN(e.pin,a)?t:n:t},zs=n(101);var Fs=function(e,t,n){if(e){var r=Object(zs.a)(e,{streamType:t.id});C.a.each(r,function(e){e.selected=e.id===n})}};var Bs=function(e){var t=P.a.Deferred(),n=e.item,r=n.server,i=e.media||C.a.first(n.get("Media")),a=e.part||i&&C.a.first(i.Part),o=e.streamType,s=e.streamID;if(!i||!a)return t.reject().promise();var l={};l[o.key]=s,!e.media&&r.supports("allPartsStreamSelection")&&(l.allParts=1);var c=F.join(["/library/parts/",a.id],l),u=C.a.extend(r.getXHROptions(c),{type:"PUT"}),d=P.a.ajax(u);return d.done(function(){Fs(i,o,s),n.trigger("change:streams"),t.resolve()}),d.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem selecting the stream for this item.")}),t.reject(e)}),t.promise()};var Hs=function(e){var t,n=e.watched;e.item?t=[e.item]:e.items&&(t=e.items)[0];var r=C.a.map(t,function(e){var t=n?"scrobble":"unscrobble",r={identifier:e.get("identifier")||"com.plexapp.plugins.library",key:e.get("ratingKey")},i=F.join(["/:/",t],r),a=P.a.ajax(e.server.getXHROptions(i));return a.done(function(){!function e(t,n){var r,i=Object(nr.r)(t.get("type")),a=t.parent;if(a&&a.get("isMetadataList")&&(a=a.parent),a&&(r=Object(nr.r)(a.get("type"))),r&&r.typeString===i.parent){var o,s=Object(nr.u)(t.get("type"));n?o=s?t.get("unviewedLeafCount"):1:(o=s?t.get("viewedLeafCount"):1,o*=-1),a.set({unviewedLeafCount:a.get("unviewedLeafCount")-o,viewedLeafCount:a.get("viewedLeafCount")+o}),e(a,n)}}(e,n),function e(t,n){if(Object(nr.u)(t.get("type"))){t.set({unviewedLeafCount:n?0:t.get("leafCount"),viewedLeafCount:n?t.get("leafCount"):0});var r=t.get("children")||t.get("items");r&&r.getCollection().each(function(t){e(t,n)})}else t.set({viewOffset:0,viewCount:n?1:0})}(e,n)}),a}),i=P.a.when.apply(P.a,r);return i.fail(function(){var e;e=n?Object(Xn.default)("There was a problem marking this item as watched."):Object(Xn.default)("There was a problem marking this item as unwatched."),z.a.trigger("show:alert",{type:"error",message:e})}),i};var Vs=function(e){var t,n=e.item,r=e.media,i=n.server;if(r){var a="/library/metadata/"+n.id+"/media/"+r.id,o=C.a.extend(i.getXHROptions(a),{type:"DELETE"});(t=P.a.ajax(o)).done(function(){var t=e.item.get("Media");t.splice(C.a.indexOf(t,r),1),n.trigger("change:Media",n,n.get("Media"))})}else t=n.destroy({wait:!0});return t.fail(function(e){var t=403===e.status?Object(Xn.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Xn.default)("There was a problem deleting this item.");z.a.trigger("show:alert",{type:"error",message:t})}),t},Qs=n(44);function Ws(e,t){var n=e.get("features").get(tn),r=n.get("directories");if(!n||!r)return null;var i=r.find(function(e){return e.get("hubKey")===t||e.get("key")===t});return i?i.toJSON():null}function Gs(e,t){if(!e)return!1;var n=new Qs.a({key:e},{server:t.item.server,onlyIfCached:!0});return!C.a.isEmpty(n)&&n}function Ys(e){e.skipRedirect||(e.refreshPage?z.a.trigger("navigate:refresh"):function(e){var t=e.get("isLibraryItem")&&e.parent,n=e.get("librarySectionKey")||t&&t.get("librarySectionKey");if(n){var r=Ws(e.provider,n),i=dr(e.server.toJSON(),e.provider.toJSON(),r);i?Object(J.c)("appStore").dispatch(Ts({pathname:i,replace:!0})):z.a.trigger("navigate:back")}else z.a.trigger("navigate:back")}(e.item))}function Ks(e,t){t.skipRedirect||Object(J.c)("appStore").dispatch(xs({serverEntityID:e.server.entityID(),providerEntityID:e.provider.entityID(),key:e.get("key"),replace:!0}))}var qs=function(e){var t=bt.execute("deleteFile",e);return t.done(function(){var t=e.item,n=Gs(t.get("parentKey"),e);if(n){var r=n.get("children");r.fetchRange({size:1}).then(function(){if(r.getCollection().length>0)Ks(n,e);else{n.trigger("destroy",n,n.collection);var i=Gs(t.get("grandparentKey"),e);if(i){var a=i.get("children");a.fetchRange({size:1}).then(function(){a.getCollection().length>0?Ks(i,Object.assign({},e,{skipRedirect:!1})):Ys(e)})}else Ys(Object.assign({},e,{skipRedirect:!1}))}})}else Ys(e)}),t},Zs=n(160),Xs=n(95),Js=n(51),$s={waitingRegex:/^(transcoded|downloaded|directplay|processed)$/,processingRegex:/^(pending|transcoding|downloading)$/,failedRegex:/^(failed|error)$/,addVersionHeader:function(e,t){return t||(t={}),t.headers||(t.headers={}),t.headers["X-Plex-Sync-Version"]=e,t},addVersionHeaderForDevice:function(e,t){var n=e&&e.get("syncList");return n&&n.get("version")?this.addVersionHeader(n.get("version"),t):t},getSyncStateFromPart:function(e){return e.transcodeState||e.syncState},getSyncStateContextFromPart:function(e){return e.transcodeStateContext||e.syncStateContext}},el=n(212),tl=n(66),nl=n(34);function rl(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getDate()}function il(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getMonth()}var al=function(e){return e=parseInt(e,10),C.a.isNaN(e)?"":(e<10?"0":"")+e};var ol=function(e){var t=e.seasonIndex,n=e.episodeIndex;if((n>0||0===n)&&t<1e3){e.noLeadingZero||(t=al(t),n=al(n));var r=e.separator;return e.useLongName?""+Object(Xn.default)("Season {seasonNumber}",{seasonNumber:t})+(r||" ")+Object(Xn.default)("Episode {episodeNumber}",{episodeNumber:n}):""+Object(Xn.default)("S{seasonNumber}",{seasonNumber:t})+(r||"")+Object(Xn.default)("E{episodeNumber}",{episodeNumber:n})}if(e.date){var i=Object(nl.a)(e.date);return Object(Xn.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:il(i)+1,dayNumber:rl(i),shortYear:Object(tl.a)(i,"yy")})}return""},sl=n(210),ll=n(54),cl={unviewedLeafCount:">="},ul=ll.default.extend({name:"SectionMetadataListModel",context:["server","section","identifier","mediaTagPrefix","mediaTagVersion","allowSync"],url:function(){var e,t,n=[],r=this.section.get("currentFolderKey");if(r)n.push(r);else if(n.push(C.a.result(this.section,"url")),e=this.section.get("currentSubset").id,this.section.get("allowAdvancedFilters"))"recentlyAdded"!==e&&"newest"!==e||(e="all"),n.push(e),t=this.getParams();else{var i=this.section.get("currentFilters");i.length?n=[i[0].values[0]]:n.push(e)}var a=F.join(n,t);return a=this.replaceSpecialFilterOperators(a),this.set("containerKey",a),this.server.get("isFullServer")?this.getPaginatedUrl(a):a},getParams:function(){var e=this.getFilterParams(),t=this.getMetadataTypeID(),n=this.getSort();return t&&t!==Object(nr.r)("photo").id&&(e.type=t),n&&(e.sort=n),this.section.get("refreshing")&&this.server.supports("timelineState")&&(e.timelineState=1),e},getFilterParams:function(){var e=this.section.get("currentFilters"),t={};return C.a.each(e,function(e){e.values.length&&(t[e.key]=e.values.map(decodeURIComponent).join(","))}),t},getMetadataTypeID:function(){var e=this.section.get("currentSubset").id,t=this.section.get("currentType").id||Object(nr.r)(this.section.get("type")).id;return/^(onDeck|recentlyAdded|recentlyViewed|newest)$/.test(e)?t===Object(nr.r)("show").id||t===Object(nr.r)("season").id?t=Object(nr.r)("episode").id:t!==Object(nr.r)("artist").id&&t!==Object(nr.r)("track").id||(t=Object(nr.r)("album").id):/^recentlyViewedShows$/.test(e)&&(t=Object(nr.r)("show").id),t},getSort:function(){var e=this.section.get("currentSort"),t=this.section.get("currentSubset").id;return"recentlyAdded"===t?"addedAt:desc":"newest"===t?"originallyAvailableAt:desc":e?(e.get("direction")||e.get("defaultDirection"))===sl.a.directions.DESCENDING?e.get("descKey"):e.get("key"):void 0},replaceSpecialFilterOperators:function(e){return C.a.each(cl,function(t,n){e=e.replace(n+"=",n+t)}),e}}),dl={INT:"int",TEXT:"text",BOOL:"bool",ENUM:"enum",DOUBLE:"double"};function pl(e,t){switch(e){case dl.INT:case dl.ENUM:return mt.a.parseInteger(t);case dl.BOOL:return mt.a.parseBoolean(t);default:return t}}var hl=Ce.a.extend({idAttribute:"id",url:"/:/prefs",context:["server"],syncedAttrs:{id:Me.a.string,label:Me.a.string,default:Me.a.oneOfType(Me.a.integer,Me.a.string,Me.a.boolean,Me.a.array),summary:Me.a.string,value:{type:Me.a.oneOfType(Me.a.integer,Me.a.string,Me.a.boolean,Me.a.array),save:!0},type:Me.a.oneOf(dl.INT,dl.TEXT,dl.BOOL,dl.ENUM,dl.DOUBLE),group:Me.a.string,advanced:Me.a.boolean,option:Me.a.string,hidden:Me.a.boolean,enumValues:Me.a.array,values:Me.a.string},defaults:{type:"string",summary:"",label:"",group:""},augmentResponse:function(e){if(e.value=pl(e.type,e.value),e.advanced=pl(dl.BOOL,e.advanced),e.hidden=pl(dl.BOOL,e.hidden),e.enumValues&&!Array.isArray(e.enumValues)&&(e.enumValues=e.enumValues.split("|").map(function(t){var n=t.split(":"),r=n[0],i=n[1];return{label:void 0===i?r:i,value:pl(e.type,r)}})),e.type===dl.ENUM&&e.values&&!Array.isArray(e.values)){var t=0;e.enumValues=e.values.split("|").map(function(e){return{label:e,value:t++}})}return e},getSaveParams:function(e){var t,n=Ce.a.prototype.getSaveParams.apply(this,arguments);return e&&!e.hasOwnProperty("value")?(Object.keys(n).forEach(function(t){return delete e[t]}),n):((t={})[this.get("id")]=n.value,t)}}),fl=Ue.a.extend({name:"ServerSettingCollection",context:["server"],url:"/:/prefs",model:hl,augmentResponse:function(e){return e.Setting?(Array.isArray(e.Setting)?e.Setting:[e.Setting]).filter(function(e){return e.id}):[]}}),gl=n(61),vl=n(69),ml="movies",yl="tv",bl="music",Sl="photos",Il="videos",Cl=Object(vl.a)(["key","typeID","typeString","rootTypeString"],[{key:ml,typeID:"1",typeString:nr.g,rootTypeString:nr.g,title:function(){return Object(Xn.default)("Movies")},shortTitle:function(){return Object(Xn.default)("Movies")},defaultLanguage:"en",defaultAgents:[gl.a],defaultScanners:["Plex Movie Scanner"],mutual:{}},{key:yl,typeID:"2",typeString:nr.l,rootTypeString:nr.l,title:function(){return Object(Xn.default)("TV Shows")},shortTitle:function(){return Object(Xn.default)("Shows")},defaultLanguage:"en",defaultAgents:[gl.g],defaultScanners:["Plex Series Scanner"],mutual:{}},{key:bl,typeID:"8",typeString:nr.b,rootTypeString:nr.b,title:function(){return Object(Xn.default)("Music")},shortTitle:function(){return Object(Xn.default)("Music")},defaultLanguage:"en",defaultAgents:[gl.e,gl.b],defaultScanners:["Plex Music","Plex Music Scanner"],exclusiveAgents:[gl.f],exclusiveScanners:["Plex Premium Music Scanner"],mutual:{agent:gl.e,scanner:"Plex Music"}},{key:Sl,typeID:"13",typeString:nr.h,rootTypeString:nr.i,title:function(){return Object(Xn.default)("Photos")},shortTitle:function(){return Object(Xn.default)("Photos")},defaultLanguage:"en",defaultAgents:[gl.d],defaultScanners:["Plex Photo Scanner"],mutual:{}},{key:Il,typeID:"1",typeString:nr.g,rootTypeString:nr.c,title:function(){return Object(Xn.default)("Other Videos")},shortTitle:function(){return Object(Xn.default)("Videos")},defaultLanguage:"xn",defaultAgents:[gl.d],defaultScanners:["Plex Video Files Scanner"],mutual:{}}]),Ml=Object(vl.a)(["key"],[{key:"all",title:function(){return Object(Xn.default)("All")}},{key:"unwatched",title:function(){return Object(Xn.default)("Unplayed")}},{key:"newest",title:function(){return Object(Xn.default)("Recently Released")}},{key:"recentlyAdded",title:function(){return Object(Xn.default)("Recently Added")}},{key:"recentlyViewed",title:function(){return Object(Xn.default)("Recently Viewed")}},{key:"recentlyViewedShows",title:function(){return Object(Xn.default)("Recently Viewed Shows")}},{key:"onDeck",title:function(){return Object(Xn.default)("On Deck")}},{key:"folder",title:function(){return Object(Xn.default)("By Folder")}}]),Dl=n(441),wl=Ce.a.extend({name:"FirstCharacterModel",context:["server","provider","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:Me.a.string,title:Me.a.string,size:Me.a.integer},urlRoot:function(){return"/library/sections/"+this.section.id+"/firstCharacter"}}),Pl=Ue.a.extend({name:"FirstCharacterCollection",context:["server","provider","section"],model:wl,responseType:function(){return Object(Js.a)(this.server)},url:function(){var e=C.a.result(this.section,"url")+"/firstCharacter",t=this.getUrlParams(),n=t?e+"?"+t:e;return n},getUrlParams:function(){var e={},t=[],n=this.section.get("currentType");n&&(e.type=n.id);var r=this.section.get("currentFilters");return C.a.each(r,function(t){t.values.length&&(e[t.key]=t.values.join(","))}),C.a.each(e,function(n,r){"unviewedLeafCount"===r?t.push(r+">="+e[r]):t.push(r+"="+e[r])}),t.join("&")}}),Tl=n(217),El=Ce.a.extend({name:"LinearFilterModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{secondary:Me.a.boolean,key:Me.a.string,title:Me.a.string},syncedRelations:{options:{relationClass:Tl.a}},defaults:{secondary:!1}}),xl=Ue.a.extend({name:"LinearFilterCollection",context:["server","section"],model:El,url:function(){return C.a.result(this.section,"url")},filterBySecondary:function(){var e=this.filter(function(e){return e.get("secondary")});return this.clone(e)}}),Ol=Ce.a.extend({name:"LocationModel",context:["server","section"],rootPropertyName:"Location",syncedAttrs:{id:Me.a.integer,path:{type:Me.a.string,save:!0}}}),jl=Ue.a.extend({name:"LocationCollection",context:["server","section"],model:Ol}),Al=Ce.a.extend({name:"MediaTypeModel",context:["server","section"],sessionAttrs:{id:Me.a.integer,typeString:Me.a.string,title:Me.a.string,plural:Me.a.string,mediaType:Me.a.string,child:Me.a.string,parent:Me.a.string,selected:Me.a.boolean},defaults:{selected:!1}}),Nl=Ue.a.extend({name:"MediaTypeCollection",context:["server","section"],model:Al}),kl=["all","recentlyAdded","recentlyViewed","recentlyViewedShows","onDeck","newest","folder"],Ll=Ce.a.extend({name:"SectionSubsetModel",context:["server","section"],idAttribute:"key",rootPropertyName:"Directory",sessionAttrs:{selected:Me.a.boolean},syncedAttrs:{key:Me.a.string,title:Me.a.string,secondary:Me.a.boolean},derivedAttrs:{primary:function(){return!this.get("secondary")&&C.a.contains(kl,this.get("key"))}},defaults:{selected:!1},augmentResponse:function(e){return"all"===e.key&&(e.title=Object(Xn.default)("All")),e}},{whitelistedPrimaryKeySubsets:kl}),Rl=Ue.a.extend({name:"SectionSubsetCollection",context:["server","section"],model:Ll,url:function(){return C.a.result(this.section,"url")},filterPrimaries:function(){var e=this.filter(function(e){return e.get("primary")});return this.clone(e)}}),_l=Ce.a.extend({name:"SectionModel",context:["server"],entityType:Er.d,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"Directory",cache:new xi.a,persistInCache:!0,cacheKey:function(e){return this.server&&this.server.getScopedKey(e.key)},url:function(){if(this.isNew())return C.a.result(this,"urlRoot")||C.a.result(this.collection,"url");var e=C.a.isNaN(parseInt(this.id,10))?this.id:"/library/sections/"+this.id;return e},sessionAttrs:{isSection:Me.a.boolean,currentFilters:Me.a.array,currentFolderKey:Me.a.string,settings:Me.a.instanceOf(fl)},syncedAttrs:{key:Me.a.oneOfType(Me.a.string,Me.a.integer),uuid:Me.a.string,thumb:Me.a.string,art:Me.a.string,createdAt:Me.a.integer,updatedAt:Me.a.integer,allowAdvancedFilters:Me.a.boolean,allowSync:Me.a.boolean,refreshing:Me.a.boolean,name:{type:Me.a.string,save:!0},title:{type:Me.a.string,save:!0},type:{type:Me.a.string,save:!0},agent:{type:Me.a.string,save:!0},scanner:{type:Me.a.string,save:!0},language:{type:Me.a.string,save:!0},importFromiTunes:{type:Me.a.boolean,save:!0},enableAutoPhotoTags:{type:Me.a.boolean,save:!0}},derivedAttrs:{serverEntityID:function(){return this.state?this.server.entityID():""}},syncedRelations:{locations:function(){return{relationClass:jl,rootPropertyName:"Location",options:{section:this},save:!0}}},sessionRelations:{items:function(){return{relationClass:ul,options:{section:this}}},currentSubset:function(){return{relationClass:Ll,options:{section:this}}},currentFirstCharacter:function(){return{relationClass:wl,deferred:!0}},currentType:function(){return{relationClass:Al,deferred:!0}},currentSort:function(){return{relationClass:sl.a,deferred:!0}},types:function(){return{relationClass:Nl,options:{section:this}}},subsets:function(){return{relationClass:Rl,options:{section:this}}},filters:function(){return{relationClass:this.get("allowAdvancedFilters")?Dl.a:xl,options:{section:this}}},sorts:function(){return{relationClass:Zs.a,options:{section:this}}},firstCharacters:function(){return{relationClass:Pl,options:{section:this}}}},defaults:function(){var e=this;return{isSection:!0,currentType:null,currentFilters:[],currentSort:null,currentFirstCharacter:null,currentFolderKey:null,currentSubset:Ml.get("all"),settings:new fl([],{server:this.server,url:function(){return F.join(["/library/sections/",e.get("key"),"/prefs"])}})}},initialize:function(e){this.updateMediaTypes(this,e.type),this.set({currentType:this.get("types").findWhere({typeString:e.type})}),this.on("change:type",this.updateMediaTypes,this)},uninitialize:function(){this.off("change:type",this.updateMediaTypes,this),this.stopListening()},augmentResponse:function(e){return e.allowAdvancedFilters=!!e.filters,delete e.filters,e},getSectionType:function(){var e=this.get("type");return Cl.get(e)},getSaveParams:function(e){var t=Ce.a.prototype.getSaveParams.apply(this,arguments);if("type"in t){var n=Cl.get(t.type);n&&(t.type=n.typeString)}return"title"in t&&(t.name=t.title,delete t.title),C.a.isObject(t.type)&&(t.type=t.type.typeString),"Location"in t&&(t.location=C.a.pluck(t.Location,"path"),delete t.Location),t},getSyncTitle:function(e){var t=this.get("title"),n=[],r=this.get("currentSubset"),i=this.get("currentFilters");return e?(C.a.each(e,function(e){n.push(e.get("title"))}),t+": "+n.join(", ")):"all"!==r.id?t+": "+r.get("title"):i.length?(C.a.each(i,function(e){n.push(e.titles.join(", "))}),t+": "+n.join(",")):t},setAgentAndScanner:function(e,t,n){var r=e.defaultAgents.find(function(e){return t.find(function(t){return t.get("identifier")===e})}),i=e.defaultScanners.find(function(e){return n.find(function(t){return t.get("name")===e})});this.set({agent:r,scanner:i})},updateMediaTypes:function(e,t){var n=Object(nr.s)(t);this.get("types").reset(n)}});function Ul(e,t){void 0===t&&(t={});var n=t.onlyIfCached,r=void 0===n||n;if(e){if(e.section)return e.section;if(e.get("isSection"))return e;var i=e.get("librarySectionID");if(i){var a=new _l({key:i},{server:e.server,onlyIfCached:r});return C.a.isEmpty(a)?void 0:a}return e.parent?Ul(e.parent,t):void 0}}var zl=function(e){if(e&&e.length){var t=e.length;return 1===t?e[0]:2===t?Object(Xn.default)("{1} and {2}",e[0],e[1]):3===t?Object(Xn.default)("{1}, {2}, and {3}",e[0],e[1],e[2]):Object(Xn.default)("{1}, {2}, and {3} others",e[0],e[1],e.length-2)}},Fl={uri:function(e,t){var n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataURI(n,t);e||(e=C.a.first(n))}if(e instanceof y.c.Model){if(e.get("isSection"))return this.getSectionURI(e,t);if(e.get("isMetadataList"))return this.getMetadataListURI(e,t);if(e.get("isPlaylist"))return this.getPlaylistURI(e,t);if(e.channel)return this.getChannelURI(e,t)}return this.getLibraryMetadataURI(e,t)},getSectionURI:function(e,t){var n,r=C.a.result(e,"url"),i=e.get("currentSubset"),a=e.get("currentFolderKey"),o=e.get("currentType");if("folder"===i.id)n=a||F.join([r,"all"]);else{var s=e.get("items"),l=s.getParams();if(l.type&&delete l.type,l.timelineState&&delete l.timelineState,l.unwatchedLeaves)l[Object(nr.q)(e.get("type")).typeString+".unwatched"]=1,delete l.unwatchedLeaves;o&&(l.sourceType=o.id),n=F.join([r,i.id],l),n=s.replaceSpecialFilterOperators(n)}return this._resolveURI({prefix:"library",parts:[e.get("uuid"),"directory",n]})},getBatchLibraryMetadataURI:function(e,t){var n=this._getSectionInfo(C.a.first(e)),r="/library/metadata/"+C.a.map(e,function(e){return e.get("ratingKey")}).join(",");return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",r]})},getLibraryMetadataURI:function(e,t){t||(t={});var n,r=this._getSectionInfo(e),i=C.a.result(e,"url");return t.excludeSeedItem&&(i=F.join(i,{excludeSeedItem:1})),n=e.models||e.collectionName||e instanceof el.a?"directory":e.get("radio")?"station":"item",this._resolveURI({prefix:"library",parts:[r.sectionUUID,n,i]})},getMetadataListURI:function(e,t){t||(t={});var n=this._getSectionInfo(e);return this._resolveURI({prefix:"library",parts:[n.sectionUUID,"directory",F.join(e.get("containerKey"),{sourceType:t.sourceType})]})},getPlaylistURI:function(e,t){return this._resolveURI({prefix:"playlist",parts:["",e.get("guid")]})},getChannelURI:function(e,t){t||(t={});var n=C.a.result(e,"url"),r=e.get("items"),i=r&&r.length?"directory":"item";return this._resolveURI({prefix:"channel",parts:[e.channel.get("identifier"),i,n]})},title:function(e,t){var n=t&&t.items;if(n&&n.length){if(n.length>1)return this.getBatchLibraryMetadataTitle(n,t);e=C.a.first(n)}return e.get("isSection")?this.getSectionTitle(e,t):e.get("isMetadataList")?this.getMetadataListTitle(e,t):this.getLibraryMetadataTitle(e,t)},getSectionTitle:function(e){var t=e.get("title"),n=e.get("currentSubset"),r=e.get("currentFilters");return"all"!==n.id?t+": "+n.get("title"):r.length?t+": "+C.a.flatten(C.a.map(r,function(e){return e.titles})).join(", "):t},getMetadataListTitle:function(e){return e.get("containerTitle")||e.get("title")},getBatchLibraryMetadataTitle:function(e){var t=C.a.map(e,function(e){return e.get("title")});return zl(t)},getLibraryMetadataTitle:function(e){var t=e.get("grandparentTitle")||e.get("parentTitle"),n=e.get("title");(t&&(n=t+" - "+n),"episode"===e.get("type"))&&(n+=" ("+ol({seasonIndex:e.get("parentIndex"),episodeIndex:e.get("index"),date:e.get("originallyAvailableAt"),noLeadingZero:!0,separator:" "})+")");return n},_resolveURI:function(e){var t=e.parts,n=C.a.map(t,function(e){return e?encodeURIComponent(e):""});return e.prefix+"://"+n.join("/")},_getSectionInfo:function(e){var t=e.get("librarySectionUUID"),n=e.get("librarySectionID");if(!t||!n){var r=Ul(e);C.a.isEmpty(r)||(t=r.get("uuid"),n=r.id)}return{sectionUUID:t,sectionID:n}}},Bl=n(47),Hl=Ce.a.extend({name:"PlaylistItemModel",context:["server","provider","playlist"],entityType:Er.j,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.playlistItemID||e.key,this.server.entityID())},idAttribute:"playlistItemID",syncedAttrs:{playlistItemID:Me.a.string,key:Me.a.string,type:Me.a.string},syncedRelations:{metadataItem:{relationClass:Qs.a,deferred:!0}},augmentResponse:function(e){return{playlistItemID:e.playlistItemID,key:e.key,type:e.type,metadataItem:e}}}),Vl=Ue.a.extend({name:"PlaylistItemCollection",context:["server","provider","playlist"],model:Hl}),Ql=Ce.a.extend({mixins:[Xs.a],name:"PlaylistItemListModel",context:["server","provider","playlist","includeExternalMedia"],idAttribute:"key",collectionName:"metadataItems",url:function(){var e=this.getPaginatedUrl(this.get("containerKey"));return this.includeExternalMedia&&(e=F.join(e,{includeExternalMedia:1})),e},sessionAttrs:{containerKey:Me.a.string,currentPageStart:Me.a.integer,currentPageSize:Me.a.integer,populatedRange:Me.a.object},syncedAttrs:{totalSize:Me.a.integer},syncedRelations:{metadataItems:{relationClass:Vl,rootPropertyName:"Metadata",setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{populatedRange:{start:0,end:0,size:0}}},initialize:function(){this.startPopulatedRangeMonitor()},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}}),Wl=Ce.a.extend({name:"PlaylistModel",context:["server","containerKey"],idAttribute:"ratingKey",rootPropertyName:"Playlist",urlRoot:"/playlists",saveUrl:function(){return this.server.supports("truePlaylistsPath")?C.a.result(this,"url"):"/library/metadata/"+this.id},sessionAttrs:{isPlaylist:Me.a.boolean,isLibraryItem:Me.a.boolean},syncedAttrs:{ratingKey:Me.a.string,key:Me.a.string,guid:Me.a.string,type:Me.a.string,playlistType:Me.a.string,title:Me.a.string,titleSort:Me.a.string,composite:Me.a.string,summary:Me.a.string,smart:Me.a.boolean,allowSync:Me.a.boolean,duration:Me.a.integer,durationInSeconds:Me.a.integer,leafCount:Me.a.integer,addedAt:Me.a.integer,updatedAt:Me.a.integer},sessionRelations:{children:{relationClass:Ql,attrs:function(e){var t={};return"audio"===e.playlistType&&(t.includeRelated=1),{containerKey:F.join(["/playlists",e.ratingKey,"items"],t)}},options:function(){return{playlist:this}}}},defaults:{isPlaylist:!0,isLibraryItem:!0},findItem:function(e){return this.get("children").getCollection().findWhere({playlistItemID:e})},moveItem:function(e,t){if(void 0!==e){var n=t?{after:t}:{},r=F.join([C.a.result(this,"url"),"/items/",e,"/move"],n),i=C.a.extend(this.server.getXHROptions(r),{type:"PUT"}),a=P.a.ajax(i),o=this.get("children").getCollection(),s=this.findItem(e);o.remove(s);var l=this.findItem(t),c=l?o.indexOf(l)+1:0;return o.add(s,{at:c}),a}},removeItem:function(e){var t=this;if(void 0!==e){var n=F.join([C.a.result(this,"url"),"/items/",e]),r=C.a.extend(this.server.getXHROptions(n),{type:"DELETE"}),i=P.a.ajax(r);i.then(function(e){t.set(t.parse(e))});var a=this.get("children").getCollection(),o=this.findItem(e);return a.remove(o),a.trigger("destroy",o,a),i}},addContent:function(e,t){var n=this,r=this.isNew()?"POST":"PUT",i=[C.a.result(this,"url")],a={};this.isNew()?(a.type=this.get("playlistType"),a.title=this.get("title"),a.smart=this.get("smart")?1:0):i.push("/items"),e.get("playQueueID")?a.playQueueID=e.get("playQueueID"):a.uri=Fl.uri(e,t);var o=F.join(i,a),s=C.a.extend(e.server.getXHROptions(o),{type:r}),l=P.a.ajax(s);return l.then(function(e){n.set(n.parse(e))}),l.promise()},isLibraryItem:function(e,t){return!0},isPlexMusicItem:function(){return!1}}),Gl=Ue.a.extend({name:"PlaylistCollection",context:["server","containerKey"],model:Wl,url:function(){return this.containerKey}}),Yl=Ce.a.extend({mixins:[Xs.a],name:"PlaylistListModel",context:["server","section"],idAttribute:"key",collectionName:"playlists",responseType:function(){return Object(Js.a)(this.server)},url:function(){return this.getPaginatedUrl(C.a.result(this,"containerKey"))},containerKey:function(){var e=this.section.get("currentType"),t=this.section.get("currentSort"),n={type:15};return n.sort=t?t.id+":"+(t.get("direction")||"asc"):"titleSort:asc",e&&(n.playlistType=e),this.section.get("onlyDumb")&&(n.smart=0),F.join("/playlists/all",n)},sessionAttrs:{isPlaylistList:Me.a.boolean,currentPageStart:Me.a.integer,currentPageSize:Me.a.integer,populatedRange:Me.a.object},syncedAttrs:{totalSize:Me.a.integer},syncedRelations:{playlists:{relationClass:Gl,rootPropertyName:"Playlist",options:function(e){return{containerKey:C.a.result(this,"containerKey")}},setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{isPlaylistList:!0,populatedRange:{start:0,end:0,size:0}}},initialize:function(){this.startPopulatedRangeMonitor()},sync:function(e,t,n){var r=$s.addVersionHeader(2,n);return Ce.a.prototype.sync.call(this,e,t,r)},augmentResponse:function(e){return e.Metadata&&(e.Playlist=e.Metadata,delete e.Metadata),e}}),Kl=ji.extend({name:"PlaylistsSectionModel",defaults:function(){return{pseudo:!0,currentType:0,sorts:new Zs.a([],{section:this,server:this.server}),items:new Yl({},{section:this,server:this.server})}},url:function(){return"/playlists"}}),ql=Ue.a.extend({name:"SectionCollection",context:["server"],model:_l,url:"/library/sections",responseType:function(){return Object(Js.a)(this.server)}}),Zl=kr.extend({name:"LegacyChannelProviderModel",defaults:function(){return{identifier:Cn.b,title:Object(Xn.default)("Channel"),types:["video","audio","photo"],protocols:["stream"],features:[{type:en,actions:[{id:Zt,key:"/:/scrobble",reverseKey:"/:/unscrobble"}]},{type:un,key:"/:/timeline"}]}}}),Xl=kr.extend({name:"LegacyLibraryProviderModel",defaults:function(){var e=this.server,t=e.get("isFullServer"),n=e.get("isFullOwnedServer"),r=[{type:tn,key:"/library/sections"},{type:"match",key:"/library/matches"},{type:"metadata",key:"/library/metadata"}];return t&&r.push({type:"search",key:"/hubs/search"},{type:an,key:"/playQueues"},{type:on,key:"/playlists"},{type:un,key:"/:/timeline"},{type:en,actions:[{id:Zt,key:"/:/scrobble",reverseKey:"/:/unscrobble"},{id:$t,key:"/:/rate"}]}),n&&r.push({type:"manage"}),{identifier:Cn.d,title:Object(Xn.default)("Library"),types:["video","audio","photo"],protocols:n?["stream","download"]:["stream"],features:new Sn(r,{parse:!0,server:e})}}});function Jl(e,t){!t.get("isCloud")&&e.forEach(function(e){e.set({isPending:!1,isPopulated:!0})}),t.get("isCloud")||e.get(Cn.d)||e.add(new Xl({isPending:!1,isPopulated:!0},{server:t})),t.get("isCloud")||e.get(Cn.b)||e.add(new Zl({isPending:!1,isPopulated:!0},{server:t}))}var $l,ec=Ue.a.extend({name:"ProviderCollection",context:["server"],model:kr,url:"/media/providers",responseType:function(){return Object(Js.a)(this.server)},fetch:function(){var e,t=this.server;return(e=t.get("mediaProviders")||t.get("isCloud")?Ue.a.prototype.fetch.apply(this,arguments):P.a.Deferred().resolve(this,"").promise()).then(function(e){Jl(e,t)}),e}}),tc="server/finishActivity",nc=Mt("server/testServer"),rc=(Mt("server/testServers"),Mt("server/setRelayReminder")),ic=Mt("server/confirmRelayConnection"),ac=Mt("server/addHttpFallbackConnection"),oc=Mt("server/startActivity"),sc=Mt("server/updateActivity"),lc=Mt(tc),cc=Mt("server/startSyntheticActivity"),uc=Mt("server/finishSyntheticActivity"),dc=Mt("server/eventConnectionOpen"),pc=Mt("server/eventConnectionClose"),hc=Mt("server/fetchProviders"),fc=Mt("server/populateProviders"),gc=Mt("server/fetchLibraries"),vc=Mt("server/populateLibraries"),mc=(($l={})["server/setRelayReminder"]=function(e,t,n){},$l["server/confirmRelayConnection"]=function(e,t){},$l["server/addHttpFallbackConnection"]=function(e,t){},$l["server/startActivity"]=function(e,t,n){var r=Io(e,t),i=t.activity;r.get("activities").add([i],{parse:!0}),i.synthetic||n(uc({serverEntityID:t.serverEntityID,activityType:i.type}))},$l["server/updateActivity"]=function(e,t){Io(e,t).get("activities").add([t.activity],{parse:!0,merge:!0})},$l[tc]=function(e,t){Io(e,t).get("activities").remove(t.activity.uuid)},$l["server/startSyntheticActivity"]=function(e,t,n){Object(No.a)(function(){var e={type:t.activityType,synthetic:!0,uuid:t.activityType+"-"+Date.now()};t.title&&(e.title=t.title),t.Context&&(e.Context=t.Context),n(oc({serverEntityID:t.serverEntityID,activity:e}))})},$l["server/finishSyntheticActivity"]=function(e,t){var n=Io(e,t).get("activities"),r=t.activityType,i=t.Context,a=t.title,o=n.findWhere(function(e){return e.get("type")===r&&!0===e.get("synthetic")&&(!a||e.get("title")===a)&&(!i||C.a.isEqual(e.get("Context"),i))});o&&n.remove(o)},$l["server/eventConnectionOpen"]=function(e,t){var n=bo(e,t),r=Io(e,t).get("activities");n.set("hasEventConnection",!0),n.get("isFullOwnedServer")&&r.fetch()},$l["server/eventConnectionClose"]=function(e,t){bo(e,t).set("hasEventConnection",!1)},$l["server/fetchProviders"]=Ki({key:"providers",getModel:bo}),$l["server/populateProviders"]=qi({key:"providers",fetchActionCreator:hc,getModel:bo}),$l["server/fetchLibraries"]=Ki({key:"libraries",getModel:Io}),$l["server/populateLibraries"]=qi({key:"libraries",fetchActionCreator:gc,getModel:Io}),$l["server/testServer"]=function(e,t){var n=bo(e,t);z.a.trigger("test:server",n)},$l["server/testServers"]=function(){z.a.trigger("test:servers")},$l);function yc(e,t){Object(M.a)(null!=e,"No `version` supplied to `isVersionOrNewer`."),Object(M.a)(null!=t,"No `minVersion` supplied to `isVersionOrNewer`. Have you misspelled a constant?");for(var n=t.split("."),r=e.split("."),i=0,a=n.length;i<a;i++)if(i<r.length){var o=parseInt(n[i],10),s=parseInt(r[i],10);if(o<s)return!0;if(o>s)return!1}return!0}var bc=function(e){var t=/(\d+\.){2,3}\d+/.exec(e);return C.a.first(t)||e},Sc=function(e,t){return!e.get("relay")&&t.get("relay")?e:!t.get("relay")&&e.get("relay")?t:!e.get("isLoopback")&&t.get("isLoopback")?t:!t.get("isLoopback")&&e.get("isLoopback")?e:!e.get("isPrivate")&&t.get("isPrivate")?t:!t.get("isPrivate")&&e.get("isPrivate")?e:!e.get("isHttps")&&t.get("isHttps")?t:(!t.get("isHttps")&&e.get("isHttps"),e)},Ic=Ue.a.extend({name:"ConnectionCollection",context:["server"],model:He,getBestConnection:function(){var e=te.a.get("allowHttpsMediaServerConnections"),t=!this.server||this.server.get("isCloud")||e,n=this.filter(function(e){return e.get("isConnected")&&(t||!e.get("isHttps"))});if(n.length)return C.a.reduce(n,Sc)},hasBetterConnectionCandidates:function(){var e=this.server&&this.server.get("activeConnection");return this.some(function(t){var n=t.get("isUntested")||t.get("isPending"),r=!e||t!==e&&Sc(t,e)===t;return n&&r})},hasOnlyFailedConnections:function(){return this.every(function(e){return e.get("isFailed")})},hasFailedEveryDirectConnection:function(){return this.where({relay:!1}).every(function(e){return e.get("isFailed")})},hasMultiplePrivateV4Subnets:function(){var e;return this.some(function(t){var n=t.get("address");if(t.get("isPrivate")&&_e.isValidV4Address(n)){var r=_e.getV4Subnet(n);return e||(e=r),e!==r}})}}),Cc={plexMusicUpgrade:"1.18.0",addProviderContentToLibrary:"1.15.4.993",transientTokenProxy:"1.15.4",dashboardRAMChart:"1.15.3",dashboardCPUChart:"1.15.2",playHistoryDevices:"1.15.2",playHistory:"1.15.1",enhancedSessionDetails:"1.15.1",sessionJSON:"1.15.1",dashboardTopPlayedChart:"1.14.1",dashboardBandwidthChart:"1.14.1",mediaProvidersServerRoot:"1.13.10",streamDisplayTitles:"1.13.8",bundledWebAppNewSettingsRoutes:"1.13.8",saveInlineSectionSettings:"1.13.4",softSubtitlesWithDirectPlay:"1.13.4",channelGrid:"1.13.2.5081",typeFirst:"1.12.1",photoTagEdit:"1.11.1",sharedUserNotifications:"1.11.1",adaptiveBitrateFallback:"1.9.5",truePlaylistsPath:"1.9.3",multiplePlaylistTypes:"1.7.1",itemClusters:"1.5.4",optimizeDatabaseActivity:"1.4.2",asyncCheckFiles:"1.4.0",json:"1.8.0",libraryDeleteActivity:"1.2.1",cleanBundlesActivity:"1.2.1",allowBlacklistedMethodHeaders:"1.2.1",decisionEndpoint:"1.0.3",defaultSections:"0.9.17.3",ownerFeatures:"0.9.17.0",replaceTranscodeTarget:"0.9.17.0",quickSearch:"0.9.16.0",relay:"0.9.15.0",claimServer:"0.9.14.2",searchSpecificType:"0.9.14.2",linkedYearMetadata:"0.9.14.0",streamReady:"0.9.14.0",syncOriginalQuality:"0.9.14.0",allPartsStreamSelection:"0.9.12.5",sharedChannels:"0.9.12.5",shortenTranscodeURL:"0.9.12.5",companionProxy:"0.9.12.5",editSimilarArtists:"0.9.12.2",neuterRedirect:"0.9.12.0",audioAsVideo:"0.9.12.0",compositeDelete:"0.9.12.0",batchEdit:"0.9.12.0",premiumMusic:"0.9.12.0",transientToken:"0.9.12.0",softSubtitles:"0.9.12.0",sharedSyncStatus:"0.9.11.14",reachability:"0.9.11.14",photoPlayQueues:"0.9.11.12",publicNowPlaying:"0.9.11.3",labels:"0.9.11.2",updater:"0.9.11.1",playItemsBatchAdd:"0.9.9.16",playlists:"0.9.9.13",imageFilters:"0.9.9.13",hubFilterSigns:"0.9.9.12",cancelAllUpdates:"0.9.9.10",playQueues:"0.9.9.6",sectionSettings:"0.9.9.6",hubFilters:"0.9.9.2",streamingMKV:"0.9.9.16",chunkedHTTP:"0.9.9.3",sharedSync:"0.9.9.3",dash:"0.9.8.6",specificMediaDeletion:"0.9.7.23",sharedSettings:"0.9.7.23",syncNotifications:"0.9.7.23",universalMusicTranscoder:"0.9.8.3",universalTranscoder:"0.9.7.17",sync:"0.9.7.10",artworkUpload:"0.9.7.9",firstRunPref:"0.9.7.3",timelineState:"0.9.7.2",cleanBundles:"0.9.7.0",advancedFilters:"0.9.7.0",search:"0.9.7.0",merge:"0.9.7.0",splitApart:"0.9.7.0"},Mc={PENDING:"pending",CONNECTED:"connected",UNAVAILABLE:"unavailable",UNAUTHORIZED:"unauthorized"},Dc={PENDING:"pending",RESOLVED:"resolved",REJECTED:"rejected"},wc={SECONDARY:"secondary"},Pc=["camera_upload","content_filter","home","lyrics","music_videos","pass","premium_music_metadata","sync","trailers"],Tc="ok",Ec="none",xc=Er.n;function Oc(e){var t=e.machineIdentifier;return Object(Tr.a)(xc,t)}var jc=Ce.a.extend({mixins:[Ot],name:"ServerModel",entityType:xc,entityID:function(e){return void 0===e&&(e=this.state),Oc({machineIdentifier:e.machineIdentifier||this.cid})},idAttribute:"machineIdentifier",connectionTestTimeout:1e4,responseType:function(){return Object(Js.a)(this)},mergeStrategy:In.a,cache:new xi.a,persistInCache:!0,sessionAttrs:{connectionTestResult:Me.a.oneOf(Mc.PENDING,Mc.CONNECTED,Mc.UNAVAILABLE,Mc.UNAUTHORIZED).isRequired,promiseState:Me.a.oneOf(Dc.PENDING,Dc.RESOLVED,Dc.REJECTED).isRequired,sections:Me.a.instanceOf(ql).isRequired,playlists:Me.a.instanceOf(Kl).isRequired,isShared:Me.a.boolean.isRequired,isBundled:Me.a.boolean.isRequired,isCloud:Me.a.boolean.isRequired,isMerged:Me.a.boolean.isRequired,isInstallingServerUpdate:Me.a.boolean.isRequired,superToken:Me.a.string,accessToken:Me.a.string,sourceTitle:Me.a.string,publicAddressMatches:Me.a.boolean,httpsRequired:Me.a.boolean,presence:Me.a.boolean,home:Me.a.boolean,createdAt:Me.a.integer,lastSeenAt:Me.a.integer,ownerId:Me.a.integer,hasEventConnection:Me.a.boolean,serverClass:Me.a.oneOf(wc.SECONDARY),onlyXML:Me.a.boolean,isProvidersPending:Me.a.boolean.isRequired,isProvidersPopulated:Me.a.boolean.isRequired,providersError:Me.a.object},sessionRelations:{activeConnection:{relationClass:He,deferred:!0},connections:{relationClass:Ic,options:function(){return{server:this}}}},syncedRelations:{providers:{relationClass:ec,rootPropertyName:"MediaProvider",options:function(){return{server:this}}}},syncedAttrs:{machineIdentifier:Me.a.string,friendlyName:Me.a.string,startState:Me.a.string,version:Me.a.string,platform:Me.a.string,platformVersion:Me.a.string,sync:Me.a.boolean,backgroundProcessing:Me.a.boolean,multiuser:Me.a.boolean,transcoderLyrics:Me.a.boolean,myPlex:Me.a.boolean,myPlexMappingState:Me.a.string,myPlexSigninState:Me.a.oneOf(Tc,Ec,"invalid"),myPlexSubscription:Me.a.boolean,myPlexUsername:Me.a.string,transcoderPhoto:Me.a.boolean,transcoderAudio:Me.a.boolean,transcoderVideo:Me.a.boolean,transcoderVideoRemuxOnly:Me.a.boolean,transcoderSubtitles:Me.a.boolean,transcoderActiveVideoSessions:Me.a.integer,allowMediaDeletion:Me.a.boolean,allowCameraUpload:Me.a.boolean,allowChannelAccess:Me.a.boolean,allowSync:Me.a.boolean,diagnostics:Me.a.list,companionProxy:Me.a.boolean,updater:Me.a.boolean,isDesktop:Me.a.boolean,photoAutoTag:Me.a.boolean,itemClusters:Me.a.boolean,updatedAt:Me.a.integer,countryCode:Me.a.string,ownerFeatures:Me.a.list,mediaProviders:Me.a.integer,maxUploadBitrate:Me.a.integer,maxUploadBitrateReason:Me.a.string,maxUploadBitrateReasonMessage:Me.a.string,streamingBrainABRVersion:Me.a.integer,livetv:Me.a.integer},derivedAttrs:{debugName:function(){var e=this.get("machineIdentifier"),t=this.get("connections"),n=1===t.length&&t.at(0).get("isLoopback"),r=this.get("friendlyName");return!r&&this.get("isBundled")?r="[Bundled]":!r&&n&&(r="[Loopback]"),r||(e?"["+e+"]":"[Anonymous]")},shortVersion:function(){return bc(this.get("version"))},isConnected:function(){return this.get("connectionTestResult")===Mc.CONNECTED},isUnavailable:function(){return this.get("connectionTestResult")===Mc.UNAVAILABLE},isUnauthorized:function(){return this.get("connectionTestResult")===Mc.UNAUTHORIZED},isPending:function(){return this.get("promiseState")===Dc.PENDING},isPrivateConnection:function(){var e=this.get("activeConnection");return!(!e||!e.get("isPrivate"))},isResolved:function(){return this.get("promiseState")===Dc.RESOLVED},isRejected:function(){return this.get("promiseState")===Dc.REJECTED},isRelayed:function(){var e=this.get("activeConnection");return!(!e||!e.get("relay"))},isSecure:function(){var e=this.get("activeConnection");return!(!e||!e.get("isSecure"))},hasHttpsConnections:function(){return!!this.get("connections").findWhere({isHttps:!0})},hasFallbackConnections:function(){return!!this.get("connections").findWhere({isFallback:!0})},isMobileServer:function(){return this.get("serverClass")===wc.SECONDARY},isFullServer:function(){return!this.get("isCloud")&&!this.get("isMobileServer")},isFullOwnedServer:function(){return this.get("isFullServer")&&!this.get("isShared")},isPrimaryEligible:function(){return!(!te.a.get("allowMobileServers")&&this.get("isMobileServer"))&&(!!this.get("machineIdentifier")&&!this.get("isUnauthorized")&&!this.get("isCloud"))},isOutOfDate:function(){return!this.get("isMobileServer")&&!this.isVersionOrNewer("1.3.0")},isClaimed:function(){return this.get("isConnected")?this.get("myPlexSigninState")===Tc:void 0},hasManualConnection:function(){return this.get("connections").some(function(e){return e.get("sources").some(function(e){return/^manual/.test(e.id)})})},hasAdaptiveBitrate:function(){return this.get("streamingBrainABRVersion")>=3},shared:function(){return this.get("isShared")},bundled:function(){return this.get("isBundled")},cloud:function(){return this.get("isCloud")},merged:function(){return this.get("isMerged")},connected:function(){return this.get("connectionTestResult")===Mc.PENDING?null:this.get("isConnected")},available:function(){return this.get("connectionTestResult")===Mc.PENDING?null:!this.get("isUnavailable")},authorized:function(){return this.get("connectionTestResult")===Mc.PENDING?null:this.get("isResolved")},relayed:function(){return this.get("isRelayed")}},defaults:function(){return{connectionTestResult:Mc.PENDING,promiseState:Dc.PENDING,sections:new ql([],{server:this}),playlists:new Kl({},{server:this}),isShared:!1,isBundled:!1,isCloud:!1,isMerged:!1,isInstallingServerUpdate:!1,hasEventConnection:!1,sync:!1,backgroundProcessing:!1,allowChannelAccess:!1,updater:!0,ownerFeatures:[],isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}},url:function(e){void 0===e&&(e=this.get("activeConnection")),Object(M.a)(e,"An active or manual connection is required for a server url");var t=C.a.result(e,"url");return/\/$/.test(t)||(t+="/"),t},initialize:function(){this._reset(),this.on("change:machineIdentifier",this.onMachineIdentifierChange,this),this.listenTo(this.get("connections"),{remove:this.onConnectionRemove,reset:this.onConnectionsReset})},uninitialize:function(){this.off("change:machineIdentifier",this.onMachineIdentifierChange,this),this.stopListening()},updateEntity:function(){if(!this.get("isMerged"))return Ce.a.prototype.updateEntity.apply(this,arguments)},fetch:function(){return y.c.Model.prototype.fetch.apply(this,arguments)},resolveUrl:function(e,t){if(void 0===t&&(t={}),xr(e))return e;var n;n=t.useRelativeUrl?this.get("isMobileServer")?"http://127.0.0.1:"+this.getLoopbackPort()+"/":"":t.baseUrl||this.url(t.connection);var r=this.get("accessToken"),i=C.a.extend({},t.params);return t.appendHeaders&&C.a.defaults(i,this.getHeaders()),t.appendToken&&r&&(i["X-Plex-Token"]=r),F.join([n,e],i)},getXHROptions:function(e,t){var n=void 0===t?{}:t,r=n.headers,i=n.baseUrl,a=wt()(n,["headers","baseUrl"]);return Object.assign({url:this.resolveUrl(e,{baseUrl:i}),dataType:"text",headers:C.a.extend(this.getHeaders(),r),allowHeadersInUrl:!0,allowBlacklistedMethodHeaders:this.supports("allowBlacklistedMethodHeaders")},a)},getHeaders:function(){var e=tt.getInstance(),t=C.a.clone(e),n=this.get("accessToken");n&&(t["X-Plex-Token"]=n);var r=Object(J.c)("settingFinder").find("language");return r&&(t["X-Plex-Language"]=r,t["Accept-Language"]=r),t},addConnection:function(e){e.sources||(e.sources=[{id:"internal"}]);var t=this.get("connections"),n=new He(e),r=t.get(n.id);return r?(r.get("sources").set(e.sources,{remove:!1}),r):t.add(e)},hasSource:function(e){return this.get("connections").some(function(t){return t.hasSource(e)})},removeSource:function(e){for(var t=this.get("connections"),n=t.length-1;n>=0;){t.at(n).get("sources").remove(e),n--}},testAllConnections:function(){var e=this,t=this.get("connections");return Object(D.a)("[Connections] Testing all %s connection(s) for %s",t.length,this.get("debugName")),this._reset(),t.each(function(t){var n=!t.get("relay"),r=!t.get("isUntested");(n||r)&&e.testConnection(t)}),this.populatePromise},testOnlyUntestedConnections:function(){var e=this;return this.get("connections").each(function(t){var n=!t.get("relay"),r=t.get("isUntested"),i=t.get("isAborted");n&&(r||i)&&e.testConnection(t)}),this.populatePromise},testOnlyUntestedRelayConnections:function(){var e=this;return this.get("connections").each(function(t){var n=t.get("relay"),r=t.get("isUntested");n&&r&&e.testConnection(t)}),this.populatePromise},testConnection:function(e,t){return void 0===t&&(t={}),t.server=this,t.connection=e,this.get("promiseState")===Dc.REJECTED&&this._reset(),bt.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortAllConnectionTests:function(){var e=this,t=this.get("connections");Object(D.a)("[Connections] Aborting all pending connection tests for",this.get("debugName")),t.each(function(t){e.abortConnectionTest(t)})},abortConnectionTest:function(e){var t={server:this,connection:e};bt.execute("abortServerConnectionTest",t)},populateIdentity:function(e){var t=this;if(this._identityPromise)return this._identityPromise;var n=bt.execute("populateServerIdentity",{server:this,connection:e});return n.done(function(e){t.set("machineIdentifier",e)}),this._identityPromise=n,n},updateCacheKey:function(){var e=this.get("debugName"),t=this.cacheKey(this.attributes),n=this.cache.get(t);if(n){var r=n.get("debugName");D.a.warn("[Identity] %s and %s (cached) collide",e,r),n.get("isConnected")||!this.get("isConnected")?(Object(D.a)("[Identity] Merging %s into %s (cached)",e,r),n.merge(this)):(Object(D.a)("[Identity] Merging %s (cached) into %s",r,e),this.merge(n),this.cache.store(this,t))}else this.cache.store(this,t)},merge:function(e){var t=this;e.set("isMerged",!0),e.get("isBundled")&&this.set("isBundled",!0),e.get("connections").each(function(e){t.addConnection(e.toJSON())}),this.collection&&(this.collection.remove(e.cid,{silent:!0}),this.collection._byId[this.id]=this,this.collection.trigger("remove",e,this.collection),this.collection.trigger("update",this.collection)),this.cache.remove(e),te.a.get("shouldCreateStateTree")&&this.updateEntity()},hasOwnerFeature:function(e){if(this.supports("ownerFeatures")){var t=this.get("ownerFeatures");return!!(t&&t.indexOf(e)>-1)}return!!this.get("myPlexSubscription")&&Pc.indexOf(e)>-1},supports:function(e){var t=this.get(e);if(C.a.isBoolean(t))return t;var n=Cc[e];return null!=n&&this.isVersionOrNewer(n)},isVersionOrNewer:function(e){var t=this.get("shortVersion");return!e||!t||yc(t,e)},hasRegression:function(e){if(!e)return!1;var t=this.isVersionOrNewer(e.introduced),n=e.resolved&&this.isVersionOrNewer(e.resolved);return t&&!n},hasOtherLoopbackServer:function(){return!!this.collection&&this.collection.hasLoopbackServer()},getLoopbackPort:function(){var e=this.get("connections").findWhere({isPrivate:!0});return e?e.get("port"):"32400"},authenticate:function(e){this._resolve({accessToken:e})},deauthenticate:function(){this._reject({accessToken:null})},_reset:function(){this.startCapturingChangeEvents(),this.set("promiseState",Dc.PENDING),this._resetPopulate(),this.releaseCapturedChangeEvents()},_resolve:function(e){var t=C.a.extend({connectionTestResult:Mc.CONNECTED,promiseState:Dc.RESOLVED},e);this.startCapturingChangeEvents(),this.set(t),te.a.get("shouldCreateStateTree")&&this.updateState(),this._resolvePopulate(),this.releaseCapturedChangeEvents()},_reject:function(e){var t=this.get("connections");t.hasOnlyFailedConnections()&&D.a.warn("[Connections] All connections to %s failed",this.get("debugName"));var n=t.findWhere({isUnauthorized:!0})?Mc.UNAUTHORIZED:Mc.UNAVAILABLE,r=C.a.extend({connectionTestResult:n,promiseState:Dc.REJECTED},e);this.startCapturingChangeEvents(),this.set(r),this._rejectPopulate(),this.releaseCapturedChangeEvents()},_checkActiveConnection:function(){var e=this.get("activeConnection"),t=this.get("connections");if(e&&!t.contains(e)){var n=t.getBestConnection();n?this.set({activeConnection:n}):this.testAllConnections()}},onMachineIdentifierChange:function(e,t){this.collection?this.listenToOnce(this.collection,"change:machineIdentifier",function(){this.updateCacheKey()}):this.updateCacheKey()},onConnectionRemove:function(e,t){t.length?this._checkActiveConnection():(this.trigger("change:connections.remove",e,t),this.trigger("change:connections.change",this,t),this.trigger("destroy",this,this.collection))},onConnectionsReset:function(e,t){e.length?this._checkActiveConnection():(this.trigger("change:connections.reset",e,t),this.trigger("change:connections.change",this,e),this.trigger("destroy",this,this.collection))},onConnectionTestSuccess:function(e,t){var n=this.get("connections").getBestConnection();if(n!==this.get("activeConnection")&&D.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),n.id),this._resolve(Object.assign({activeConnection:n},t)),te.a.get("allowLoopbackDiscovery")){var r=this.get("connections"),i=this.get("activeConnection"),a=i.get("isPrivate"),o=!!r.findWhere({isLoopback:!0});!a||o||this.hasOtherLoopbackServer()||(Object(D.a)("[Connections] Adding possible loopback connection for",this.get("debugName")),this.addConnection(i.getLoopbackAttributes()))}},onConnectionTestError:function(e,t){var n=this;if(!e.get("isAborted")){var r=this.get("connections");!e.get("isHttps")||e.get("isUnauthorized")||e.get("relay")||Object(J.c)("appStore").dispatch(ac({serverEntityID:this.entityID(),address:e.get("address"),port:e.get("port")})),!this.id&&e.get("isUnauthorized")&&this.populateIdentity(e),r.hasOnlyFailedConnections()?this.id||!this._identityPromise?this._reject():this._identityPromise.always(function(){r.hasOnlyFailedConnections()&&n._reject()}):r.hasFailedEveryDirectConnection()&&this.testOnlyUntestedRelayConnections()}}},{connectionTestResults:Mc,promiseStates:Dc,serverClasses:wc});xt(jc,function(){return{relationClass:Object(J.c)("ServerFlexModel"),options:{server:this}}});var Ac=jc,Nc=0,kc=[],Lc=U.Layout.extend({className:"modal fade",focusDelay:500,animationDelay:500,events:{"hide.bs.modal":"onHide"},initialize:function(e){this.once("render",function(){Nc+=1,z.a.trigger("anyModalOpen")}),this.once("close",function(){0===(Nc-=1)&&z.a.trigger("allModalsClosed")})},hide:function(){this.isClosed||this.isHidden||this.$el.modal("hide")},onRender:function(){this.rerender||(this.isForced?this.$el.modal({backdrop:"static",keyboard:!1}):(this.listenTo(z.a,"shortcut:escape",C.a.bind(function(){kc[0]===this&&this.hide()},this)),this.listenToOnce(this,"close",function(){var e=kc.indexOf(this);-1!==e&&kc.splice(e,1)}),kc.unshift(this),this.$el.modal()),P()(":focus").blur())},onHide:function(e){this.isHidden=!0,C.a.each(this.panes,function(e,t){var n=e.constructor.onModalClose;n&&n.apply(this)},this),setTimeout(C.a.bind(function(){z.a.trigger("hide:modal",this),this.trigger("close")},this),this.animationDelay)}});function Rc(e,t,n){return"#!/settings/server/"+encodeURIComponent(e)+"/"+t+"/"+n}var _c=n(754),Uc=n.n(_c),zc=Lc.extend({name:"libraryFailureModal",className:"confirm-modal modal modal-sm fade",template:Uc.a,events:C.a.extend({"click .confirm-btn":"hide"},Lc.prototype.events),serializeData:function(){return{isSignedIn:this.model.get("myPlexSigninState")===Tc,hasPlexSubscription:this.model.get("myPlexSubscription"),serverSettingsRoute:Rc(this.model.id,"settings","general")}}});var Fc=function(e){var t,n;return e.item?n=[t=e.item]:(n=e.items,t=n[0]),P.a.when.apply(P.a,C.a.map(n,function(e){var n="/library/metadata/"+e.id+"/refresh",r=C.a.extend(t.server.getXHROptions(n),{type:"PUT"});return P.a.ajax(r).promise()})).fail(function(e){503===e.status?z.a.trigger("show:modal",new zc({model:t.server})):z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem refreshing.")})})};var Bc=function(e){var t=e.items;return P.a.when.apply(P.a,C.a.map(t,function(e){var t="/library/metadata/"+e.id+"/analyze",n=C.a.extend(e.server.getXHROptions(t),{type:"PUT"});return P.a.ajax(n).promise()}))},Hc=n(755),Vc=n.n(Hc),Qc=Lc.extend({className:"confirm-modal modal modal-sm fade",template:Vc.a,ui:{doubleConfirmMessage:".double-confirm-message",confirmBtn:".confirm-btn",confirmLabel:".confirm-btn .btn-label"},events:C.a.extend({"click .confirm-btn":"onConfirm"},Lc.prototype.events),whitelistedOptions:["title","message","confirmLabel","cancelLabel","hasDanger","hideCancel"],initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.async=e.async,this.data=C.a.pick(e,this.whitelistedOptions),this.promise=P.a.Deferred()},serializeData:function(){return C.a.defaults(this.data,{confirmLabel:"Yes",cancelLabel:"No"})},onRender:function(){Lc.prototype.onRender.apply(this,arguments),setTimeout(C.a.bind(function(){this.ui.confirmBtn.focus()},this),this.focusDelay)},onHide:function(e){Lc.prototype.onHide.apply(this,arguments),this.promise.reject()},onConfirm:function(e){if(e.preventDefault(),this.options.requireDoubleConfirm&&!this.hasConfirmedOnce){this.hasConfirmedOnce=!0;var t=this.options.doubleConfirmMessage,n=this.options.doubleConfirmLabel;return t&&this.ui.doubleConfirmMessage.text(t),void(n&&this.ui.confirmLabel.text(n))}this.promise.resolve(),this.async?this.ui.confirmBtn.addClass("active"):this.hide()}});var Wc=function(e){var t=P.a.Deferred(),n=e.section,r="/library/sections/"+n.id+"/analyze",i=C.a.extend(n.server.getXHROptions(r),{type:"PUT"}),a=new Qc({title:Object(Xn.default)("Analyze Library"),message:Object(Xn.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Xn.default)("Analyze"),cancelLabel:Object(Xn.default)("Cancel"),async:!0}),o=a.promise;return o.done(function(){var e=P.a.ajax(i);e.done(function(){t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem analyzing the library.")}),t.reject(e)}),e.always(function(e){a.hide()})}),o.fail(function(){t.reject()}),z.a.trigger("show:modal",a),t.promise()};var Gc=function(e){var t=e.item,n="/library/metadata/"+t.id+"/unmatch",r=C.a.extend(t.server.getXHROptions(n),{type:"PUT"}),i=P.a.ajax(r);return i.fail(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem unmatching this item.")})}),i.promise()};var Yc=function(e){var t=P.a.Deferred(),n=e.item,r="/library/metadata/"+n.id+"/split",i=new Qc({title:Object(Xn.default)("Split Apart"),message:Object(Xn.default)("Are you sure you want to split this item apart?"),async:!0}),a=i.promise;return a.done(function(){var a=C.a.extend(n.server.getXHROptions(r),{type:"PUT"}),o=P.a.ajax(a);o.done(function(){var r,i=n.get("type");r="show"===i||"artist"===i||"album"===i?"Location":"Media",n.set(r,n.get(r).slice(0,1)),e.skipNavigate||z.a.trigger("navigate:back"),t.resolve()}),o.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem splitting this item apart.")}),t.reject(e)}),o.always(function(e){i.hide()})}),a.fail(function(){t.reject()}),z.a.trigger("show:modal",i),t.promise()};var Kc=function(e){var t=P.a.Deferred(),n=e.item,r=C.a.pluck(e.items,"id").join(","),i="/library/metadata/"+n.id+"/merge?ids="+r,a=C.a.extend(n.server.getXHROptions(i),{type:"PUT"}),o=new Qc({title:Object(Xn.default)("Merge"),message:Object(Xn.default)("Are you sure you want to merge these items together?"),async:!0}),s=o.promise;return s.done(function(){var e=P.a.ajax(a);e.done(function(){t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem merging these items.")}),t.reject(e)}),e.always(function(e){o.hide()})}),s.fail(function(){t.reject()}),z.a.trigger("show:modal",o),t.promise()};function qc(e,t){return C.a.map(e,function(e){return bt.execute("deleteItem",{item:e,skipRedirect:t})})}var Zc=function(e){var t=e.items,n=e.item,r=e.skipConfirmation,i=e.skipRedirect;t||(t=[n]),n||(n=C.a.first(t));var a,o=n.get("Media");if(1===t.length&&o.length>1&&!n.get("remoteMedia")&&n.server.supports("specificMediaDeletion"))return bt.execute("deleteMediaItem",{item:n});if(r)a=P.a.when.apply(P.a,qc(t,i));else{var s=function(e){var t,n,r=e.item,i=e.items,a=i.length>1,o=r.get("remoteMedia"),s=r.get("type"),l=nr.r(s);o&&!a?(t=l.title,n=Object(Xn.default)("Are you sure you want to remove {1}?",r.get("title"))):a&&i.every(function(e){return e.get("remoteMedia")})?(t=l.plural,n=Object(Xn.default)("Are you sure you want to remove {1} items?",i.length)):s===nr.d?(t=l.title,n=Object(Xn.default)("Are you sure you want to delete {1}? This cannot be undone.",r.get("title"))):a?(t=l.plural,n=Object(Xn.default)("Are you sure you want to delete {1} items from your filesystem?",i.length)):(t=l.title,n=Object(Xn.default)("Are you sure you want to delete this item from your filesystem?"));var c={title:o?Object(Xn.default)("Remove {typeLabel}",{typeLabel:t}):Object(Xn.default)("Delete {typeLabel}",{typeLabel:t}),message:n,confirmLabel:o?Object(Xn.default)("Remove"):Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0};(a||nr.v(s))&&(c.requireDoubleConfirm=!0,c.doubleConfirmMessage=o?Object(Xn.default)("Multiple files may be removed."):Object(Xn.default)("Multiple items may be deleted."),c.doubleConfirmLabel=Object(Xn.default)("Yes, I'm sure"));var u=new Qc(c);return z.a.trigger("show:modal",u),u}({item:n,items:t});a=s.promise.then(function(){return P.a.when.apply(P.a,qc(t,i)).always(function(){s.hide()})})}return a},Xc=Lc.extend({className:"select-modal modal modal-sm fade",events:C.a.extend({"click a":"onClick"},Lc.prototype.events),initialize:function(){Lc.prototype.initialize.apply(this,arguments),this.promise=P.a.Deferred()},onRender:function(){Lc.prototype.onRender.apply(this,arguments)},onHide:function(e){Lc.prototype.onHide.apply(this,arguments),this.promise.reject()},onClick:function(e){e.preventDefault(),this.promise.resolve(P()(e.currentTarget).data("value")),this.hide()}}),Jc=n(756),$c=n.n(Jc),eu=Xc.extend({name:"SelectMediaFileModal",template:$c.a,serializeData:function(){return{medias:this.model.get("Media")}}});var tu=function(e){var t=function(e){var t=P.a.Deferred(),n=e.item,r=n.get("Media");if(e.index in r)return t.resolve(r[e.index]).promise();var i=new eu({model:n}),a=i.promise;return a.done(function(e){t.resolve(r[e])}),a.fail(function(){t.reject()}),z.a.trigger("show:modal",i),t.promise()}(e);return t=t.then(function(t){var n=function(){var e=new Qc({title:Object(Xn.default)("Delete File"),message:Object(Xn.default)("Are you sure you want to delete this file from your filesystem?"),confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",e),e}();return n.promise.then(function(){return bt.execute("deleteFile",{item:e.item,media:t}).always(function(){n.hide()})})})};var nu,ru=function(e){var t=e.item,n=t.server,r=t.get("Media"),i=C.a.filter(r,function(e){return!!e.proxyType}),a=function(e){var t,n=e.item,r=e.versions,i=r.length>1;if(i)t=Object(Xn.default)("Are you sure you want to delete {1} versions of {2}?",r.length,n.get("title"));else{var a=C.a.first(r);t=Object(Xn.default)("Are you sure you want to delete the {1} version of {2}?",a.title,n.get("title"))}var o=new Qc({title:i?Object(Xn.default)("Delete Versions"):Object(Xn.default)("Delete Version"),message:t,confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",o),o}({item:t,versions:i});return a.promise.then(function(){var e=F.join(["/library/metadata/",t.id],{proxy:1}),o=C.a.extend(n.getXHROptions(e),{type:"DELETE"}),s=P.a.ajax(o);return s.done(function(){C.a.each(i,function(e){r.splice(C.a.indexOf(r,e),1)}),t.trigger("change:Media",t,t.get("Media"))}),s.fail(function(e){var t=403===e.status?Object(Xn.default)("Ensure that media deletion is enabled for library content in your server settings."):Object(Xn.default)("There was a problem deleting these versions.");z.a.trigger("show:alert",{type:"error",message:t})}),s.always(function(){a.hide()}),s.promise()})},iu=Mt("ui/repopulatePage"),au=Mt("ui/showAlert",function(e){return"string"==typeof e?{type:"error",message:e}:e}),ou=((nu={})["ui/showAlert"]=function(e,t){},nu);var su=function(e){var t=P.a.Deferred(),n=e.section,r=new Qc({title:Object(Xn.default)("Delete Library"),message:Object(Xn.default)("Are you sure you want to delete {1}?",n.get("title")),confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Xn.default)("This cannot be undone."),doubleConfirmLabel:Object(Xn.default)("Yes, I'm sure"),async:!0,hasDanger:!0}),i=r.promise;return i.done(function(){var e=n.destroy({wait:!0});e?(e.done(function(){var e=J.c("appStore").dispatch,n=this.server.entityID();n&&e(iu({serverEntityID:n})),t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem deleting the library.")}),t.reject(e)})):t.resolve()}),i.fail(function(){t.reject()}),z.a.trigger("show:modal",r),t.promise().always(function(){r.hide()}),t.promise()};var lu=function(e){var t=e.section,n="/library/sections/"+t.id+"/indexes",r=C.a.extend(t.server.getXHROptions(n),{type:"DELETE"}),i=new Qc({title:Object(Xn.default)("Delete Preview Thumbnails"),message:Object(Xn.default)("Are you sure you want to delete the preview thumbnails for items in this library? This cannot be undone."),confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0}),a=i.promise;return a=a.then(function(){return(e=P.a.ajax(r)).done(function(e){z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("The preview thumbnails for items in this library were deleted.")})}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem deleting the preview thumbnails for items in this library.")})}),e.always(function(e){i.hide()}),e;var e}),z.a.trigger("show:modal",i),a};var cu=function(e){var t=P.a.Deferred(),n="photo"===e.item.get("playlistType"),r=new Qc({title:n?Object(Xn.default)("Delete Album"):Object(Xn.default)("Delete Playlist"),message:Object(Xn.default)("Are you sure you want to delete {1}? This cannot be undone.",e.item.get("title")),confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i.done(function(){var i=e.item.destroy();i.done(function(){e.skipRedirect||z.a.trigger("navigate:back"),t.resolve()}),i.fail(function(e){z.a.trigger("show:alert",{type:"error",message:n?Object(Xn.default)("There was a problem deleting the album."):Object(Xn.default)("There was a problem deleting the playlist.")}),t.reject(e)}),i.always(function(e){r.hide()})}),i.fail(function(){t.reject()}),z.a.trigger("show:modal",r),t.promise()};var uu=function(e){var t=P.a.Deferred(),n=e.section,r=n?n.id:"all",i=e.cancel,a=n?n.server:e.server,o={};(e.params||{}).force&&(o.force=1);var s="/library/sections/"+r+"/refresh",l=C.a.extend(a.getXHROptions(s),{data:o});function c(){var e=P.a.ajax(l);e.done(function(){t.resolve()}),e.fail(function(e){if(503===e.status)z.a.trigger("show:modal",new zc({model:a}));else{var n=i?Object(Xn.default)("There was a problem canceling the update."):Object(Xn.default)("There was a problem updating the library.");z.a.trigger("show:alert",{type:"error",message:n})}t.reject(e)})}if(i&&(l.type="DELETE",n&&n.set("refreshing",!1)),o.force){var u=new Qc({title:Object(Xn.default)("Refresh All"),message:Object(Xn.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Xn.default)("Refresh"),cancelLabel:Object(Xn.default)("Cancel")}),d=u.promise;d.done(c),d.fail(function(){t.reject()}),z.a.trigger("show:modal",u)}else c();return t.promise()};var du=function(e){var t=P.a.Deferred(),n=e.server,r=C.a.extend(n.getXHROptions("/library/optimize"),{type:"PUT"}),i=new Qc({title:Object(Xn.default)("Optimize Database"),message:Object(Xn.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Xn.default)("Optimize"),cancelLabel:Object(Xn.default)("Cancel"),async:!0}),a=i.promise;return a.done(function(){var e=P.a.ajax(r);e.done(function(){z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("The database was optimized.")}),t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem optimizing this database.")}),t.reject(e)}),e.always(function(e){i.hide()})}),a.fail(function(){t.reject()}),z.a.trigger("show:modal",i),t.promise()};var pu=function(e){var t=P.a.Deferred(),n=e.server,r=C.a.extend(n.getXHROptions("/library/clean/bundles"),{type:"PUT"}),i=new Qc({title:Object(Xn.default)("Clean Bundles"),message:Object(Xn.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Xn.default)("Clean"),cancelLabel:Object(Xn.default)("Cancel"),async:!0}),a=i.promise;return a.done(function(){var e=P.a.ajax(r);e.done(function(){z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("Unused bundles are being removed.")}),t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem removing unused bundles.")}),t.reject(e)}),e.always(function(e){i.hide()})}),a.fail(function(){t.reject()}),z.a.trigger("show:modal",i),t.promise()};var hu=function(e){var t=P.a.Deferred(),n=e.section,r=n?n.server:e.server,i=[],a=[];n?i.push(n.id):r.get("sections").each(function(e){i.push(e.id)});var o=new Qc({title:Object(Xn.default)("Empty Trash"),message:Object(Xn.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Xn.default)("Empty"),cancelLabel:Object(Xn.default)("Cancel"),async:!0}),s=o.promise;return s.done(function(){C.a.each(i,function(e){var t="/library/sections/"+e+"/emptyTrash",n=C.a.extend(r.getXHROptions(t),{type:"PUT"});a.push(P.a.ajax(n))});var e=P.a.when.apply(P.a,a);e.done(function(){z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("The trash was emptied.")}),t.resolve()}),e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem emptying the trash.")}),t.reject(e)}),e.always(function(e){o.hide()})}),s.fail(function(){t.reject()}),z.a.trigger("show:modal",o),t.promise()};var fu=function(e){var t=e.item,n={guid:e.guid,name:e.name};"album"===t.get("type")&&e.children&&e.children.reduce(function(e,t){var n=t.get("id");return n&&(e["guid["+n+"]"]=t.get("guid")),e},n);var r=F.join(["/library/metadata/",t.id,"/match"],n),i=C.a.extend(t.server.getXHROptions(r),{type:"PUT"});return P.a.ajax(i).promise()};var gu=function(e){var t=P.a.Deferred(),n=e.item,r={agent:e.agent.id,manual:0},i=F.join(["/library/metadata/",n.id,"/matches"],r),a=C.a.extend(n.server.getXHROptions(i)),o=P.a.ajax(a);return o.done(function(e){var i=C.a.isObject(e)?e:Ve.a.parseXML(e);if(i.SearchResult){var a=i.SearchResult;Array.isArray(i.SearchResult)&&(a=i.SearchResult[0]),r={guid:a.guid,name:a.name};var o=F.join(["/library/metadata/",n.id,"/match"],r),s=C.a.extend(n.server.getXHROptions(o),{type:"PUT"}),l=P.a.ajax(s);l.done(function(){t.resolve()}),l.fail(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem matching this item.")}),t.reject()})}else z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("No matches were found using this agent.")}),t.reject()}),o.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem searching for matches.")}),t.reject(e)}),t.promise()},vu={poster:"thumb",art:"art",banner:"banner"};var mu=function(e){var t=e.item,n={url:e.artworkRatingKey},r=F.join(["/library/metadata/",t.id,e.artworkType],n),i=C.a.extend(t.server.getXHROptions(r),{type:"PUT"}),a=P.a.ajax(i);return a.done(function(n){t.set(vu[e.artworkType],n)}),a.promise()};var yu=function(e){var t=e.item,n=e.rating,r=t.get("userRating");if(-1===n?t.unset("userRating"):t.set("userRating",n),e.passive)return P.a.Deferred().resolve().promise();var i={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:n},a=F.join("/:/rate",i),o=P.a.ajax(t.server.getXHROptions(a));return o.fail(function(){t.set("userRating",r),z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem rating this item.")})}),o.promise()};var bu=function(e){var t=e.generator,n=C.a.result(t,"url")+"/"+e.ratingKey+"/enable",r=C.a.extend(t.server.getXHROptions(n),{type:"PUT"}),i=P.a.ajax(r).promise();return i.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem enabling this version.")})}),i};var Su=function(e){var t=e.generator,n=C.a.result(t,"url")+"/"+e.ratingKey+"/disable",r=function(){var e=new Qc({title:Object(Xn.default)("Remove Version"),message:Object(Xn.default)("Are you sure you want to delete this version? You can enable it again in Optimized Versions Settings."),confirmLabel:Object(Xn.default)("Remove"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",e),e}();return r.promise.then(function(){var e=C.a.extend(t.server.getXHROptions(n),{type:"PUT"}),i=P.a.ajax(e).promise();return i.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem disabling this version.")})}),i.always(function(){r.hide()}),i})};var Iu=function(e){var t=e.generator,n=e.ratingKey,r=C.a.result(t,"url");n&&(r+="/"+n),r+="/reprocess";var i=C.a.extend(t.server.getXHROptions(r),{type:"PUT"}),a=P.a.ajax(i).promise();return a.fail(function(e){var t=n?Object(Xn.default)("There was a problem processing this item."):Object(Xn.default)("There was a problem processing these items.");z.a.trigger("show:alert",{type:"error",message:t})}),a};var Cu=function(e){var t=e.generator,n=function(e){var t=e.generator.get("title"),n=t?Object(Xn.default)("Removing this item will delete all versions created by {1}. Are you sure you want to continue?",t):Object(Xn.default)("Removing this item will delete all related versions. Are you sure you want to continue?"),r=new Qc({title:Object(Xn.default)("Delete Versions"),message:n,confirmLabel:Object(Xn.default)("Remove"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",r),r}(e);return n.promise.then(function(){var e=t.destroy();return e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("Unable to stop generating these versions.")})}),e.always(function(){n.hide()}),e})},Mu={NORMAL:0,LOCAL:42,CLOUD:43};var Du=function(e){var t=function(){var e=new Qc({title:Object(Xn.default)("Delete All Versions"),message:Object(Xn.default)("Are you sure you want to delete all versions? This cannot be undone."),confirmLabel:Object(Xn.default)("Delete"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",e),e}(),n=t.promise;return n=n.then(function(){var n="/playlists/generators?type="+Mu.LOCAL,r=C.a.extend(e.server.getXHROptions(n),{type:"DELETE"}),i=P.a.ajax(r).promise();return i.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem deleting all versions.")})}),i.always(function(){t.hide()}),i.promise()})};var wu=function(e){var t,n=P.a.Deferred(),r=e.channel,i=r?r.server:e.server,a=e.silent;if(r){var o=r.get("identifier");t=(o?"/system/appstore/apps/"+o:r.get("key"))+"/update"}else t="/system/appstore/updates";var s=P.a.ajax(i.getXHROptions(t));function l(e){a||z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem checking for updates.")}),n.reject(e)}return s.done(function e(t){var r=C.a.isObject(t)?t:Ve.a.parseXML(t);if(r&&(r.message||r.Directory))if(r.message)a||z.a.trigger("show:alert",{type:"success",message:r.message}),n.resolve();else{Ve.a.parseArray(r,"Directory");var o=r.Directory[0].key,s=P.a.ajax(i.getXHROptions(o));s.done(e),s.fail(l)}else l()}),s.fail(l),n.promise()};function Pu(e,t){z.a.trigger("navigate",e,t)}var Tu=function(e){var t=P.a.Deferred(),n=e.channel,r=n.get("identifier"),i=(r?"/system/appstore/apps/"+r:n.get("key"))+"/uninstall",a=n.server.getXHROptions(i);function o(){var r=P.a.ajax(a);r.done(function(r){var i=C.a.isObject(r)?r:Ve.a.parseXML(r);n.set("installed",!1),i.message&&!e.skipConfirmation&&z.a.trigger("show:alert",{type:"success",message:i.message}),t.resolve()}),r.fail(function(e){if(400===e.status){var r=new Qc({title:Object(Xn.default)("Unable to Uninstall Plugin"),message:Object(Xn.default)("This plugin could not be uninstalled, but you can disable it in the server settings."),confirmLabel:Object(Xn.default)("OK"),cancelLabel:Object(Xn.default)("Ignore")});r.promise.done(function(){Pu("serverSettings",{serverID:n.server.id,group:"channels"})}),z.a.trigger("show:modal",r)}else z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("This plugin could not be uninstalled.")});t.reject(e)})}if(e.skipConfirmation)o();else{var s=new Qc({title:Object(Xn.default)("Uninstall Plugin"),message:Object(Xn.default)("Are you sure you want to uninstall this plugin?")}),l=s.promise;l.done(o),l.fail(function(){t.reject()}),z.a.trigger("show:modal",s)}return t.promise()},Eu="unknown",xu="waiting",Ou="mapped",ju="connecting",Au="disconnecting",Nu="",ku=Ce.a.extend({context:["server"],url:"/myplex/account",responseType:jt.a.json,sessionAttrs:{remoteAccessState:Me.a.oneOf(ju,Au,"unreachable","ok",Nu)},syncedAttrs:{username:Me.a.string,mappingState:Me.a.oneOf(Eu,xu,"failed",Ou),mappingError:Me.a.oneOf("badauth","unreachable","myplexgone","publisherror","doublenat","jumboframes",""),signInState:Me.a.oneOf("none","unknown","invalid","ok"),publicAddress:Me.a.string,publicPort:Me.a.integer,privateAddress:Me.a.string,privatePort:Me.a.integer,subscriptionActive:Me.a.boolean,subscriptionState:Me.a.string},derivedAttrs:{signedIn:function(){return"ok"===this.get("signInState")},isWaiting:function(){var e=this.get("remoteAccessState");return e===ju||e===Au}},defaults:{signedIn:!1,mappingState:null,mappingError:null,signInState:null,publicAddress:null,publicPort:null,privateAddress:null,privatePort:null},isNew:function(){return!this.get("signedIn")},augmentResponse:function(e){var t=e.MyPlex;t||(D.a.warn("[Account] Failed to get reachable information for account - received "+JSON.stringify(e)),t={});var n="ok"===t.signInState;n||(t.username=null);var r=!n||t.mappingError,i=!r&&t.mappingState===Ou;return r?t.remoteAccessState="unreachable":i&&(t.remoteAccessState="ok"),t}});var Lu=function(e){var t,n=e.cloudAccount,r=n.server.get("desktop").get("settings").get("PublishServerOnPlexOnlineKey"),i=P.a.Deferred(),a=500;if(!n.get("isWaiting")){var o=e.value?ju:Au;n.set("remoteAccessState",o)}var s=n.previous("remoteAccessState"),l=r.save({PublishServerOnPlexOnlineKey:e.value},{timeout:0});return l.done(function r(){n.fetch().done(function(){var o=n.get("mappingState"),s=e.value&&o===Eu,l=!e.value&&o===Ou;o===xu||s||l?t||(t=setInterval(r,a)):(t=clearInterval(t),n.get("isWaiting")&&n.set("remoteAccessState",Nu),i.resolve())})}),l.fail(function(t){var r;r=e.value?Object(Xn.default)("There was a problem connecting your server."):Object(Xn.default)("There was a problem disconnecting your server."),z.a.trigger("show:alert",{type:"error",message:r}),n.set("remoteAccessState",s),i.reject(t)}),i.promise()};var Ru=function(e){var t=e.cloudAccount,n={cloudAccount:t,value:!1},r=bt.execute("connectServer",n);return r=(r=r.then(function(){return n.value=!0,bt.execute("connectServer",n)})).then(function(){if(t.get("mappingError"))return P.a.Deferred().reject().promise()})};var _u=function(e){var t=e.cloudAccount,n=e.username,r=e.password,i=e.claim,a=void 0!==i&&i,o=P.a.Deferred(),s=t.server,l=Object(J.c)("appModel"),c=l.get("user"),u=l.get("cloudServer"),d=s.get("accessToken");s.set("accessToken",c.get("authToken"));var p=a?function(e,t){var n=t.getXHROptions("/api/claim/token"),r=P.a.ajax(n).promise();return r=r.then(function(t){var n=mt.a.parseXML(t).token,r=F.join("/myplex/claim",{token:n}),i=e.getXHROptions(r,{type:"POST"});return P.a.ajax(i).promise()})}(s,u):function(e,t,n){var r=F.join("/myplex/account",{username:e,password:t}),i=n.getXHROptions(r,{type:"PUT"});return P.a.ajax(i).promise()}(n,r,s);return p.done(function(e){var n=C.a.isObject(e)?e:mt.a.parseXML(e);n&&"invalid"===n.signInState?(z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("The username or password is incorrect.")}),o.reject()):(s.set({myPlexSigninState:Tc,myPlexUsername:c.get("email")}),t.set({signedIn:!0,username:c.get("email")}),o.resolve())}),p.fail(function(e){var n;s.set("accessToken",d),!0===t.get("signedIn")&&t.set("signedIn",!1),n=401===e.status?Object(Xn.default)("The username or password is incorrect."):Object(Xn.default)("There was a problem signing in to Plex."),z.a.trigger("show:alert",{type:"error",message:n}),o.reject(e)}),o.promise()};function Uu(e){e.trigger("destroy",e,e.collection),e.cache.remove(e)}var zu=function(e){var t,n=J.c("appModel").get("user"),r=e.device,i=e.server||function(e){var t=new Ac({machineIdentifier:e},{onlyIfCached:!0});if(!C.a.isEmpty(t))return t}(r.get("clientIdentifier"));function a(){var e;if(r)e=r.destroy({wait:!0});else{var t="/api/servers/"+i.id,a=C.a.extend(n.server.getXHROptions(t),{type:"DELETE"});e=P.a.ajax(a)}if(i){if(i.get("connected")&&i.get("myPlexSigninState")===Tc){var o=i.get("desktop").get("cloudAccount");e=(e=e.then(function(){return o.fetch()})).then(function(){return function(e){var t=e.get("desktop").get("cloudAccount").destroy();return t.done(function(){e.set({accessToken:void 0,myPlexSigninState:Ec,myPlexSubscription:!1})}),t}(i)})}!1===i.get("connected")?Uu(i):e.always(function(){z.a.trigger("test:server",i),i.populate().fail(function(){Uu(i)})})}return e.always(function(){s.hide()}),e.promise()}t=r?Object(Xn.default)("If you remove the server, all syncs and shares associated with the server will be lost and you will need to sign the server in again to restore access to Plex."):Object(Xn.default)("Are you sure you want to remove this server?");var o={title:Object(Xn.default)("Remove Server"),message:t,confirmLabel:Object(Xn.default)("Remove"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0};r&&(o.requireDoubleConfirm=!0,o.doubleConfirmMessage=Object(Xn.default)("Are you sure you want to remove this server?"),o.doubleConfirmLabel=Object(Xn.default)("Yes, I'm sure"));var s=new Qc(o),l=s.promise;return l=l.then(function(){return a()}),z.a.trigger("show:modal",s),l};var Fu=function(e){var t=e.server,n={download:!1===e.download?"0":"1"},r=F.join("/updater/check",n),i=C.a.extend(t.getXHROptions(r),{type:"PUT"}),a=e.initialState||"checking",o=t.get("desktop").get("update");o.set("state",a);var s=P.a.ajax(i).promise();return s.fail(function(){o.set("state","error")}),s};var Bu,Hu,Vu=function(e){var t,n=e.server,r=C.a.extend(n.getXHROptions("/updater/apply"),{type:"PUT"});n.get("activeConnection").get("isLoopback")||(t=new Qc({title:Object(Xn.default)("Remote Installation"),confirmLabel:Object(Xn.default)("Continue"),cancelLabel:Object(Xn.default)("Cancel"),message:Object(Xn.default)("The installer may display dialogs that require input. Make sure you have desktop access to the computer running Plex Media Server before continuing."),hasDanger:!0}),z.a.trigger("show:modal",t));var i=t?t.promise:P.a.Deferred().resolve().promise();return i=i.then(function(){return e=n.get("desktop").get("update"),P.a.ajax(r).promise().then(function(){e.set("state","installing"),n.set("isInstallingServerUpdate",!0)},function(){e.set("state","error"),n.set("isInstallingServerUpdate",!1)});var e})},Qu=n(757),Wu=n.n(Qu),Gu=Lc.extend({name:"plexPassModal",template:Wu.a,serializeData:function(){return{plexPassUrl:J.c("appModel").get("user").server.get("plexPassUrl"),escapedFriendlyName:C.a.escape(this.model.get("friendlyName")),isClaimed:this.model.get("isClaimed")}}}),Yu=n(758),Ku=n.n(Yu),qu=Xc.extend({name:"selectDeviceModal",template:Ku.a,serializeData:function(){return{devices:this.collection.toJSON()}}}),Zu={currentState:null,enterState:function(e){if(e!==this.currentState){var t=this.currentState,n=this.states[e];if(!n)throw new Error("The state machine is unable to enter undefined state: "+e);if(t){var r=this.states[t];if(C.a.isFunction(r.onExit))if(!1===r.onExit.call(this))return}if(this.currentState=e,C.a.isFunction(n.onEnter))if(!1===n.onEnter.apply(this,C.a.rest(arguments)))return void(this.currentState=t);this.triggerMethod("stateMachineChange",{from:t,to:e})}},enterNextState:function(){var e;if(this.currentState){e=this.states[this.currentState].nextState}else{if(!this.initialState)throw new Error("An initial state must be defined for the state machine");e=this.initialState}e?this.enterState(e):this.triggerMethod("stateMachineComplete")}},Xu=n(759),Ju=n.n(Xu),$u=U.ItemView.extend({className:"modal-body",template:Ju.a,events:{"click .try-again-link":"onTryAgainClick"},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","form")}}),ed=n(31),td=Ce.a.extend({name:"VersionGeneratorMediaSettingsModel",context:["server"],syncedAttrs:{videoQuality:{type:Me.a.integer,save:!0},videoResolution:{type:Me.a.string,save:!0},maxVideoBitrate:{type:Me.a.integer,save:!0},audioBoost:{type:Me.a.integer,save:!0},subtitleSize:{type:Me.a.integer,save:!0},musicBitrate:{type:Me.a.integer,save:!0},photoQuality:{type:Me.a.integer,save:!0},photoResolution:{type:Me.a.string,save:!0}}}),nd=Ce.a.extend({name:"VersionGeneratorMetadataModel",context:["server","generator"],idAttribute:"ratingKey",syncedAttrs:C.a.extend({},Qs.a.prototype.syncedAttrs,{processingState:Me.a.string,processingStateContext:Me.a.string})}),rd=Ue.a.extend({name:"VersionGeneratorMetadataCollection",context:["server","generator"],model:nd}),id=Ce.a.extend({mixins:[Xs.a],name:"VersionGeneratorMetadataListModel",context:["server","generator"],collectionName:"metadataItems",url:function(){var e=F.join([C.a.result(this.generator,"url"),"items"]);return this.getPaginatedUrl(e)},sessionAttrs:{currentPageStart:Me.a.integer,currentPageSize:Me.a.integer,populatedRange:Me.a.object},syncedAttrs:{totalSize:Me.a.integer,identifier:Me.a.string,mediaTagPrefix:Me.a.string,mediaTagVersion:Me.a.string,viewGroup:Me.a.string,title:Me.a.string},syncedRelations:{metadataItems:{relationClass:rd,rootPropertyName:"Metadata",setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{populatedRange:{start:0,end:0,size:0}}},initialize:function(){this.startPopulatedRangeMonitor()},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}}),ad=Ce.a.extend({name:"VersionGeneratorPolicyModel",context:["server"],syncedAttrs:{scope:{type:Me.a.string,save:!0},value:{type:Me.a.integer,save:!0},unwatched:{type:Me.a.boolean,save:!0}},defaults:{unwatched:!1}}),od=Ce.a.extend({name:"VersionGeneratorStatusModel",context:["server"],syncedAttrs:{state:Me.a.string,failureCode:Me.a.string,failure:Me.a.string,itemsCount:Me.a.integer,itemsCompleteCount:Me.a.integer,itemsSuccessfulCount:Me.a.integer,itemsFailedCount:Me.a.integer,itemsDisabledCount:Me.a.integer,totalSize:Me.a.integer}}),sd=Ce.a.extend({name:"VersionGeneratorModel",context:["server","section","playlistID"],rootPropertyName:"Item",cache:new xi.a,cacheKey:function(e){return this.server&&this.server.getScopedKey(e.id)},urlRoot:function(){return"/playlists/"+(this.playlistID||this.parent.id)+"/items"},syncedAttrs:{id:Me.a.integer,clientIdentifier:Me.a.string,contentType:Me.a.string,composite:Me.a.string,type:{type:Me.a.integer,save:!0},title:{type:Me.a.string,save:!0},target:{type:Me.a.string,save:!0},targetTagID:{type:Me.a.integer,save:!0},locationID:{type:Me.a.integer,save:!0},Location:{type:Me.a.object,save:!0},Device:{type:Me.a.object,save:!0}},sessionRelations:{children:{relationClass:id,options:function(){return{generator:this}}}},syncedRelations:{status:{relationClass:od,rootPropertyName:"Status"},policy:{relationClass:ad,rootPropertyName:"Policy",save:!0},mediaSettings:{relationClass:td,rootPropertyName:"MediaSettings",save:!0}},derivedAttrs:{isDirectory:function(){var e=this.get("Location");if(e.uri)return/(playlist:\/\/|library:\/\/([\w-]*)\/directory\/)/.test(e.uri)}},defaults:function(){return{type:42,locationID:-1,Location:{},Device:{}}},defaultCounts:(Bu={},Bu[ed.d]=5,Bu[ed.a]=50,Bu[ed.c]=50,Bu),warningCounts:(Hu={},Hu[ed.d]=10,Hu[ed.a]=100,Hu[ed.c]=100,Hu),getSaveParams:function(e,t){var n=Ce.a.prototype.getSaveParams.apply(this,arguments);return n.targetTagID&&(delete n.MediaSettings,delete n.Device),{Item:n}},setPolicyDefaultsFor:function(e){var t=this.get("policy"),n=this.get("isDirectory");return t.has("scope")||t.set("scope",n?"count":"all"),!t.has("value")&&n&&t.set("value",this.defaultCounts[e]),this},shouldShowPolicyWarning:function(e,t){var n=this.get("policy").get("scope");return"count"===n?t>this.warningCounts[e]:"all"===n&&this.get("isDirectory")}}),ld=sd.extend({name:"SyncItemModel",context:["server","device"],urlRoot:function(){return"/devices/"+(this.device?this.device.get("clientIdentifier"):this.get("clientIdentifier"))+"/sync_items"},syncedAttrs:C.a.extend({},sd.prototype.syncedAttrs,{version:{type:Me.a.integer,save:!0},metadataType:{type:Me.a.string,save:!0},rootTitle:{type:Me.a.string,save:!0},machineIdentifier:{type:Me.a.string,save:!0},Server:Me.a.object}),defaults:function(){return{Location:{},Device:{},Server:{}}},augmentResponse:function(e){return"photoAlbum"===e.metadataType&&(e.metadataType="photoalbum"),e},sync:function(e,t,n){var r=$s.addVersionHeaderForDevice(this.device,n);return sd.prototype.sync.call(this,e,t,r)},getSaveParams:function(e,t){var n=sd.prototype.getSaveParams.apply(this,arguments).Item;return C.a.each(n,function(e,t){""===e&&delete n[t]}),{SyncItem:n}}}),cd=n(760),ud=n.n(cd),dd=U.ItemView.extend({className:"convert-policy-container",template:ud.a,ui:{policyUnwatchedInput:"#convert-policy-unwatched",policyScopeInput:"#convert-policy-scope",policyValueInput:"#convert-policy-value",policyWarning:".convert-warning"},events:{"change input[name=policyUnwatched]":"onPolicyUnwatchedChange","change input[name=policyScope]":"onPolicyScopeChange","keyup input[name=policyValue]":"onPolicyValueChange","change input[name=policyValue]":"onPolicyValueChange"},initialize:function(e){this.type=Object(nr.r)(this.model.get("metadataType")||"movie"),this.leafMediaType=Object(nr.q)(this.type.typeString).mediaType,this.model.setPolicyDefaultsFor(this.leafMediaType)},serializeData:function(){var e={isSync:this.options.isSync,isDirectory:this.model.get("isDirectory"),policy:this.model.get("policy").toJSON()};return e.showLimitWarning=this.model.shouldShowPolicyWarning(this.leafMediaType,e.policy.value),e.showUnwatched=e.isDirectory&&this.leafMediaType===ed.d,e},updatePolicyValue:function(){var e=this.model.get("policy"),t=Math.abs(parseInt(this.ui.policyValueInput.val(),10));this.ui.policyValueInput.val(C.a.isNaN(t)?"":t),C.a.isNaN(t)&&(t=0),e.set("value","all"===e.scope?null:t);var n=this.model.shouldShowPolicyWarning(this.leafMediaType,t);this.ui.policyWarning.toggleClass("hidden",!n)},onPolicyUnwatchedChange:function(e){this.model.get("policy").set("unwatched",this.ui.policyUnwatchedInput.prop("checked"))},onPolicyScopeChange:function(e){var t=this.model.get("policy"),n=this.ui.policyScopeInput.prop("checked")?this.ui.policyScopeInput.val():"all";t.set("scope",n),this.updatePolicyValue()},onPolicyValueChange:function(e){this.updatePolicyValue()}}),pd=n(144),hd=C.a.extend({},pd.a,{type:"music",qualities:{bitrate:[96,128,192,320]},getNearestIndexToBitrate:function(e){return this.getNearestIndex(this.qualities.bitrate,e)}}),fd=C.a.extend({},pd.a,{type:"photo",qualities:{photoResolution:["720x480","1280x720","1920x1080","3840x2160"],photoQuality:[24,49,74,99],title:function(){return[Object(Xn.default)("Low"),Object(Xn.default)("Medium"),Object(Xn.default)("High"),Object(Xn.default)("Highest")]}},getNearestIndexToQuality:function(e){return this.getNearestIndex(this.qualities.photoQuality,e)}}),gd=n(40),vd=n(761),md=n.n(vd),yd=U.ItemView.extend({className:"sync-quality-container form-group",template:md.a,events:{"change select[name=videoQuality]":"onVideoQualityChange","change select[name=musicQuality]":"onMusicQualityChange","change select[name=photoQuality]":"onPhotoQualityChange"},initialize:function(e){var t=Object(J.c)("appModel").get("user").get("experienceSettings");this.mediaSettings=this.model.get("mediaSettings"),this.mediaSettings.has("audioBoost")||this.mediaSettings.set("audioBoost",t.get("audioBoost")),this.mediaSettings.has("subtitleSize")||this.mediaSettings.set("subtitleSize",t.get("subtitleSize")),this.initVideoQuality(),this.initMusicQuality(),this.initPhotoQuality()},initVideoQuality:function(){this.availableVideoQualities=gd.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var e=Object(J.c)("appModel").get("settings"),t=this.mediaSettings.get("maxVideoBitrate"),n=t?gd.a.getNearestIndexToBitrate(t):e.get(gd.a.getSyncQualityAttribute());this.updateVideoQuality(gd.a.getQualityByIndex(n))},initMusicQuality:function(){this.availableMusicQualities=hd.getAvailableQualities().reverse();var e=Object(J.c)("appModel").get("settings"),t=this.mediaSettings.get("musicBitrate"),n=t?hd.getNearestIndexToBitrate(t):e.get(hd.getSyncQualityAttribute());this.updateMusicQuality(hd.getQualityByIndex(n))},initPhotoQuality:function(){this.availablePhotoQualities=fd.getAvailableQualities().reverse();var e=Object(J.c)("appModel").get("settings"),t=this.mediaSettings.get("photoQuality"),n=t?fd.getNearestIndexToQuality(t):e.get(fd.getSyncQualityAttribute());this.updatePhotoQuality(fd.getQualityByIndex(n))},serializeData:function(){return{typeElement:Object(nr.r)(this.model.get("metadataType")).mediaType,supportsOriginalQuality:this.model.server.supports("syncOriginalQuality"),availableVideoQualities:this.availableVideoQualities,selectedVideoQuality:this.selectedVideoQuality,availableMusicQualities:this.availableMusicQualities,selectedMusicQuality:this.selectedMusicQuality,availablePhotoQualities:this.availablePhotoQualities,selectedPhotoQuality:this.selectedPhotoQuality}},updateVideoQuality:function(e){this.selectedVideoQuality=e,this.mediaSettings.set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},updateMusicQuality:function(e){this.selectedMusicQuality=e,this.mediaSettings.set({musicBitrate:e.bitrate})},updatePhotoQuality:function(e){this.selectedPhotoQuality=e,this.mediaSettings.set({photoQuality:e.photoQuality,photoResolution:e.photoResolution})},saveQualityIndex:function(e,t){var n=parseInt(t,10);return Object(J.c)("appModel").get("settings").save(e.getSyncQualityAttribute(),n),e.getQualityByIndex(n)},onVideoQualityChange:function(e){var t=this.saveQualityIndex(gd.a,e.currentTarget.value);this.updateVideoQuality(t)},onMusicQualityChange:function(e){var t=this.saveQualityIndex(hd,e.currentTarget.value);this.updateMusicQuality(t)},onPhotoQualityChange:function(e){var t=this.saveQualityIndex(fd,e.currentTarget.value);this.updatePhotoQuality(t)}}),bd=n(762),Sd=n.n(bd),Id={video:"movie",audio:"track",photo:"photo"},Cd=U.Layout.extend({template:Sd.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",qualityRegion:".quality-region"},events:{"change input[name=title]":"onTitleChange","submit #sync-form":"onSubmit"},initialize:function(e){var t=J.c("appModel");if(this.device=e.device,this.model)this.tempModel=this.model.clone();else{var n,r,i=e.item,a=e.items;i.get("isPlaylist")?(n=i,r=Id[i.get("playlistType")]):i.get("isMetadataList")?(n=i,r=Object(nr.q)(i.get("firstItemType")).typeString):(n=i.has("childrenKey")?i.get("children"):i,r=Object(nr.q)(i.get("type")).typeString),r===nr.d&&(r=i.get("subtype")),this.tempModel=new ld({metadataType:r,title:Fl.title(i,{items:a}),rootTitle:this.getRootTitle(i),machineIdentifier:i.server.id,clientIdentifier:this.device.get("clientIdentifier"),Location:{uri:Fl.uri(n,{items:a})}},{parent:i.server,server:t.get("user").server,device:this.device})}},serializeData:function(){return{syncItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew()}},getRootTitle:function(e){return e.section?e.section.get("title"):e.channel?e.channel.get("title"):e.get("title")},onRender:function(){this.policyRegion.show(new dd({model:this.tempModel,isSync:!0})),this.qualityRegion.show(new yd({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var n=this.tempModel.save();n.done(C.a.bind(function(){if(this.model){var e=this.model.get("version")||0,t=C.a.omit(this.tempModel.toJSON(),"children");t.version=e+1,this.model.set(this.model.parse(t))}},this)),(n=n.then(C.a.bind(function(){return bt.execute("refreshSyncLists",{server:this.tempModel.parent,silent:!0})},this))).done(this.whenRendered(function(){this.trigger("request:nextState")})),n.fail(this.whenRendered(function(){this.trigger("request:state","error")}))}}}),Md=n(763),Dd=n.n(Md),wd=U.ItemView.extend({className:"modal-body",template:Dd.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),Pu("syncedContent",{serverID:this.options.server.id,deviceID:this.options.device.id})}}),Pd=n(764),Td=n.n(Pd),Ed=Lc.extend({mixins:[Zu],name:"syncModal",className:"convert-modal modal fade",template:Td.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.device=this.model?this.model.device:e.device},initialState:"form",states:{form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new Cd({model:this.model,item:this.options.item,items:this.options.items,device:this.device})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new wd({server:this.options.item.server,device:this.device})),this.listenForStateRequests())}},error:{onEnter:function(){this.bodyRegion.show(new $u),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}});var xd=function(e){var t=J.c("appModel").get("user"),n=e.item.server;if(n.get("myPlexSigninState")===Tc)if(n.get("allowSync")){var r=t.get("desktop").get("devices").filterSyncDevices(e.item),i=C.a.clone(e);if(r.length){var a=new qu({collection:r});a.promise.done(function(e){i.device=r.get(e),z.a.trigger("show:modal",new Ed(i))}),z.a.trigger("show:modal",a)}else z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("You are not signed in to any sync capable devices.")})}else z.a.trigger("show:modal",new Gu({model:n}));else{var o=Object(Xn.default)("This server needs to be connected to Plex to sync its content.");z.a.trigger("show:alert",{type:"error",message:o})}};var Od=function(e){var t=e.syncItem,n=e.server;if(!t.server.get("connected"))return z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("Please sign in to remove sync items.")}),P.a.Deferred().reject().promise();var r=function(){var e=new Qc({title:Object(Xn.default)("Stop Syncing"),message:Object(Xn.default)("Are you sure you want to stop syncing this item? All files created by this job will be removed from the device."),confirmLabel:Object(Xn.default)("Remove"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0});return z.a.trigger("show:modal",e),e}(),i=r.promise.then(function(){var e=t.destroy();return e.fail(function(e){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem removing this sync item.")})}),e.always(function(){r.hide()}),e});return i=i.then(function(){return bt.execute("refreshSyncLists",{server:n,silent:!0,skipContent:!0})})};var jd=function(e){var t=e.server,n=C.a.extend(t.getXHROptions("/sync/refreshSynclists"),{type:"PUT"}),r=P.a.ajax(n);return e.skipContent||(r=r.then(function(e){var n=C.a.extend(t.getXHROptions("/sync/refreshContent"),{type:"PUT"});return P.a.ajax(n)})),r.done(function(){e.silent||z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("Synced items were refreshed.")})}),r.promise()};var Ad=function(e){var t=e.device,n=Object(Xn.default)("If you remove this device, you will need to sign in again on the device to restore access to Plex."),r=new Qc({title:Object(Xn.default)("Remove Device"),message:n,confirmLabel:Object(Xn.default)("Remove"),cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0}),i=r.promise;return i=i.then(function(){return(e=t.destroy({wait:!0})).fail(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem removing this device.")})}),e.always(function(){r.hide()}),e.promise();var e}),z.a.trigger("show:modal",r),i};var Nd=function(e){return q(Pi({url:"https://plex.tv/api/v2/users/signout",headers:{"X-Plex-Token":e.accessToken},type:"DELETE",xhrFields:{withCredentials:!1}}))};var kd=function(){Object(J.c)("metrics").trackEvent({event:Ma,interaction:!0});var e=te.a.get("allowSSO"),t=Object(J.c)("appModel").get("user").get("authToken");return q(e?Nd({accessToken:t}):P.a.Deferred().resolve().promise()).then(function(){return bt.execute("resetUser")}).then(function(){return Kr.restoreDefaults(),Kr.save()}).then(function(){if(e)return Object(No.a)(),Nd({accessToken:t}),z.a.trigger("navigate","login"),P.a.Deferred().reject().promise();z.a.trigger("reset:servers"),z.a.trigger("reset:providers")})};var Ld=function(){var e=P.a.Deferred();return Object(J.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()};function Rd(){return bt.registerAll(r),P.a.Deferred().resolve().promise()}function _d(){var e="https://plex.tv".match(/^([^:]+):\/\/(.*)$/);return{scheme:e[1],address:e[2]}}function Ud(){Object(D.a)("[Servers] Resetting...");var e=Object(J.c)("appStore"),t=Object(J.c)("appModel"),n=t.get("servers");Object(J.c)("serverManager").stop(),Object(J.c)("primaryServerManager").stop(),Object(J.c)("manualServerManager").stop(),Object(J.c)("serverConnectionManager").stop(),Object(J.c)("serverConnectionTestManager").reset(),Object(J.c)("companionServerManager").stop(),n.uninitialize(),n.reset(),n.initialize(),t.unset("primaryServer"),t.unset("companionServer"),t.unset("transientServer"),e.dispatch(Ps({budget:1/0})),zd()}function zd(){var e,t,n;Object(D.a)("[Servers] Initializing..."),e=Object(J.c)("appModel"),t=e.get("servers"),(n=e.get("cloudServer")).addConnection(_d()),t.add(n),function(e){var t=Object(J.c)("appModel"),n=t.get("servers"),r=Kr.getActiveServers();if(!r)return;r.each(function(e){if(e.get("connections").length)try{var r=new Ac(e.toJSON(),{parent:t});Fd(r),n.add(r)}catch(e){D.a.warn(e)}})}(),function(){var e=Object(J.c)("appModel"),t=e.get("servers"),n=te.a.get("primaryServer");if(!n)return;var r=new Ac({machineIdentifier:n.machineIdentifier,friendlyName:n.name,isShared:n.shared,superToken:n.superToken,accessToken:n.accessToken,sourceTitle:n.sourceTitle},{parent:e});r.addConnection({scheme:n.scheme,address:n.address,port:n.port}),t.add(r)}(),function(){0;var e=Object(J.c)("appModel"),t=e.get("servers"),n=new Ac({isBundled:!0},{parent:e});n.addConnection({scheme:window.location.protocol.replace(":",""),address:window.location.hostname,port:window.location.port,isBundled:!0}),Fd(n),t.add(n)}(),function(){if(!te.a.get("allowLoopbackDiscovery"))return;var e=Object(J.c)("appModel"),t=e.get("servers"),n=new Ac({},{parent:e});n.addConnection({scheme:"http",address:"127.0.0.1",port:"32400"}),Fd(n),t.add(n)}(),Object(J.c)("serverManager").start(),Object(J.c)("primaryServerManager").start(),Object(J.c)("manualServerManager").start(),Object(J.c)("serverConnectionManager").start(),Object(J.c)("companionServerManager").start(),Object(D.a)("[Servers] Finished initialization")}function Fd(e){var t=e.get("connections").map(function(e){return e.get("uri")});Object(D.a)("[Servers]","Initialize server",e.get("accessToken")?"with token,":"without token,",C.a.compact([e.get("debugName"),e.get("machineIdentifier")].concat(t)).join(", "))}function Bd(){var e=(zd(),z.a.on("reset:servers",Ud),P.a.Deferred().resolve().promise());return e.done(function(){Object(J.c)("serverUpdateManager").start()}),e}function Hd(){var e=Object(J.c)("appModel");return X(e.get("settings").populate(),e.get("deviceSettings").populate())}var Vd=me.a.extend({getStorage:function(){},get:function(e){var t=this;return this._catchStorageError(function(n){var r=window.PLEXWEB,i=r&&e in r?r[e]:n.getItem(e);if(null==i)throw new Error(e+" is not in "+t.name);return i})},set:function(e,t){var n=this;return this._catchStorageError(function(r){if(!e)throw new Error("Unable to set value in "+n.name+" without a key");if(null==t)throw new Error("Unable to set null or undefined value for "+e+" in "+n.name+". Use the remove function.");return r.setItem(e,t)})},remove:function(e){return this._catchStorageError(function(t){return t.removeItem(e)})},clear:function(){return this._catchStorageError(function(e){return e.clear()})},_catchStorageError:function(e){var t=P.a.Deferred();try{t.resolve(e(this.getStorage()))}catch(e){D.a.warn(e.message),t.reject(e)}return t.promise()}}),Qd=Vd.extend({name:"BasicVolatileStorage",initialize:function(){var e={};this.api={getItem:function(t){return e[t]},setItem:function(t,n){e[t]=n},removeItem:function(t){delete e[t]},clear:function(){for(var t in e)e.hasOwnProperty(t)&&delete e[t]}}},getStorage:function(){return this.api}}),Wd=new $.a({interface:["get","set","remove","clear"]});function Gd(e,t){return ee.get(e).then(function(e){return Object(Et.a)(e,t)},function(){if(t)return P.a.Deferred().resolve(t).promise()})}function Yd(e,t){return ee.set(e,JSON.stringify(t))}var Kd=function(e){return e.isDirty=!0,Gd(Kr.storageKey).then(function(t){if(t.users)return t.users.forEach(function(t){t.experienceSettings=Object.assign({},t.experienceSettings,e)}),Yd(Kr.storageKey,t)})},qd=["homeSettings"];var Zd=function(){var e=Object(J.c)("StoredUserExperienceSettingsModel"),t=Object.keys(Object.assign({},e.prototype.syncedAttrs,e.prototype.syncedRelations)),n=C.a.without.apply(C.a,[t].concat(qd)),r=Gd("experience").then(function(e){var t=C.a.pick(e,n);return Kd(t).then(function(){return ee.remove("experience")})});return q(r)},Xd={DISABLED:0,ENABLED:1,VERBOSE:2};Xd.settings=[{value:Xd.DISABLED,title:"Disabled"},{value:Xd.ENABLED,title:"Enabled"},{value:Xd.VERBOSE,title:"Verbose"}];var Jd=Xd,$d={PRODUCTION:"9AC194DC",QA:"4289C4E0",NINJA:"EB90125F",CUSTOM:"custom"};$d.settings=[{value:$d.PRODUCTION,title:"Production"},{value:$d.QA,title:"QA"},{value:$d.NINJA,title:"Ninja"},{value:$d.CUSTOM,title:"Custom"}];var ep=$d,tp=At.extend({name:"DeviceSettingsModel",storageKey:"deviceSettings",sessionAttrs:{isSaving:Me.a.boolean,saveError:Me.a.object},syncedAttrs:{autoLogin:Me.a.boolean,chromecastAppID:Me.a.string,chromecastCustomAppID:Me.a.string,debugHasForcedVideoAds:Me.a.boolean,debugLevel:Me.a.integer,debugVideoQualityOverlay:Me.a.boolean,directPlay:Me.a.boolean,directStream:Me.a.boolean,rejectDirectConnections:Me.a.boolean,restorePlayQueue:Me.a.object,shouldSyncSettings:Me.a.boolean,hasDismissedInsecureHostedAppWarning:Me.a.boolean,hasDismissedServerDownloadMessage:Me.a.boolean,dismissedUnclaimedServers:Me.a.object,volume:Me.a.integer},defaults:function(){return{isSaving:!1,saveError:null,autoLogin:!1,chromecastAppID:ep.PRODUCTION,debugHasForcedVideoAds:!1,debugLevel:Jd.DISABLED,debugVideoQualityOverlay:!1,directPlay:!0,directStream:!0,rejectDirectConnections:!1,restorePlayQueue:null,shouldSyncSettings:te.a.get("allowSyncSettings"),hasDismissedInsecureHostedAppWarning:!1,hasDismissedServerDownloadMessage:!1,dismissedUnclaimedServers:{},volume:90}}}),np=["debugVideoQualityOverlay","restorePlayQueue","volume"];var rp,ip=function(){var e=tp.prototype.storageKey,t=Gd("experience").then(function(t){var n=C.a.pick(t,np);if(0!==Object.keys(n).length)return Gd(e,{}).then(function(t){var r=Object.assign({},t,n);return Yd(e,r)})});return q(t)},ap=/^\/library\/sections\/(\d+)$/;var op=((rp={aa:"Afaraf",af:"Afrikaans",ab:"Abkhazian",ak:"Akan",sq:"Shqip",am:"Amharic",ar:"",an:"Aragons",hy:"",as:"Assamese",av:" ",ae:"avesta",ay:"aymar aru",az:"azrbaycan dili",ba:" ",bm:"bamanankan",eu:"euskara",be:"",bn:"Bengali",bh:"",bi:"Bislama",bs:"bosanski jezik",br:"brezhoneg",bg:" ",my:"Burmese",ca:"Catal",ch:"Chamoru",ce:" ",cu:" ",cv:" ",kw:"Kernewek",co:"corsu",cr:"",dv:"Divehi",dz:"",en:"English","en-GB":"English (UK)",eo:"Esperanto",et:"eesti",ee:"Eegbe",fo:"froyskt",fj:"vosa Vakaviti",fy:"Frysk",ff:"Fulfulde",ka:"",gd:"Gidhlig",ga:"Gaeilge",gl:"Galego",gv:"Gaelg",gn:"Avae&apos;",gu:"",ht:"Kreyl ayisyen",ha:"",hz:"Otjiherero",hi:"",ho:"Hiri Motu",hr:"hrvatski",ig:"Ass Igbo",is:"slenska",io:"Ido",ii:" Nuosuhxop",iu:"",ie:"Interlingue",ia:"Interlingua",id:"Bahasa Indonesia",ik:"Iupiaq",jv:"basa Jawa",kl:"kalaallisut",kn:"",ks:"",kr:"Kanuri",kk:" ",km:"Khmer",ki:"Gky",rw:"Ikinyarwanda",ky:" ",kv:" ",kg:"KiKongo",kj:"Kuanyama",ku:"Kurd",lo:"Lao",la:"latine",lv:"latvieu valoda",li:"Limburgs",ln:"Lingla",lt:"lietuvi kalba",lb:"Ltzebuergesch",lu:"Luba-Katanga",lg:"Luganda",mk:" ",mh:"Kajin Maje",ml:"Malayalam",mi:"te reo Mori",mr:"",ms:"bahasa Melayu",mg:"Malagasy fiteny",mt:"Malti",mo:"Moldavian",mn:"",na:"Ekakair Naoero",nv:"Din bizaad",nr:"isiNdebele (North)",nd:"isiNdebele (South)",ng:"Owambo",ne:"",nn:"Norsk nynorsk",nb:"Norsk bokml",ny:"chiChea",oc:"Occitan",oj:"",or:"Oriya",om:"Afaan Oromoo",os:" ",pa:"",pi:"",ps:"",qu:"Runa Simi",rm:"rumantsch grischun",ro:"romn",rn:"kiRundi",sg:"yng t sng",sa:"",sr:" ",si:"Sinhala",sk:"slovenina",sl:"Slovenina",se:"Davvismegiella",sm:"gagana fa&apos;a Samoa",sn:"chiShona",sd:"",so:"Soomaaliga",st:"Sesotho",sc:"sardu",ss:"SiSwati",su:"Basa Sunda",sw:"Kiswahili",ty:"Reo Tahiti",ta:"",tt:"",te:"Telugu",tg:"",tl:"Wikang Tagalog",th:"",bo:"",ti:"Tigrinya",to:"faka Tonga",tn:"Setswana",ts:"Xitsonga",tk:"Trkmen",tw:"Twi",ug:"Uyurq",uk:"",ur:"",uz:"O&apos;zbek",ve:"Tshivena",vi:"Ting Vit",vo:"Volapk",cy:"Cymraeg",wa:"Walon",wo:"Wollof",xh:"isiXhosa",yi:"",yo:"Yorb",za:"Sa cue",zu:"isiZulu",pb:"Portugus (Brasil)",fr:"Franais","fr-CA":"Franais Canadien",de:"Deutsch",sv:"Svenska",no:"Norsk",da:"Dansk",fi:"Suomeksi",nl:"Nederlands",it:"Italiano",es:"Espaol","es-419":"Espaol (Latinoamrica)",pl:"Polski",hu:"Magyar",el:"",tr:"Trke",zh:"","zh-TW":"",ru:" ",he:"",ja:"",pt:"Portugus","pt-BR":"Portugus Brasileiro",ko:"",cs:"etina",fa:""}).xx="Unknown",rp.xn="None",rp);function sp(e,t){return op[e].localeCompare(op[t])}var lp,cp=["xx","xn"],up=((lp=Object.keys(op).filter(function(e){return-1===cp.indexOf(e)})).sort(sp),lp.concat(cp)),dp=op,pp=/(^[^-]+)-/;function hp(e){for(var t=0,n=(e=e||[]).length;t<n;t++){var r=e[t];if("xx"!==r&&"xn"!==r){if(dp[r])return r;var i=r.match(pp),a=i&&hp([i[1]]);if(a)return a}}}function fp(e){var t,n,r=window.navigator;return e?t=(n=e)&&n.match(/[a-zA-Z-]{2,10}/g)||[]:r.languages?t=r.languages:r.language?t=[r.language]:r.userLanguage&&(t=[r.userLanguage]),hp(t)||"en"}var gp={NEVER:"never",SAME_NETWORK:"samenetwork",ALWAYS:"always"};gp.settings=[{value:gp.NEVER,title:"Never"},{value:gp.SAME_NETWORK,title:"On same network as server"},{value:gp.ALWAYS,title:"Always"}];var vp=gp,mp={WHITE:"#ffffff",YELLOW:"#ffee00",BLACK:"#000000",CYAN:"#00ffff",BLUE:"#0000ff",GREEN:"#00ff00",MAGENTA:"#ee00ee",RED:"#ff0000"};mp.settings=[{value:mp.WHITE,title:"White"},{value:mp.YELLOW,title:"Yellow"},{value:mp.BLACK,title:"Black"},{value:mp.CYAN,title:"Cyan"},{value:mp.BLUE,title:"Blue"},{value:mp.GREEN,title:"Green"},{value:mp.MAGENTA,title:"Magenta"},{value:mp.RED,title:"Red"}],mp.ALL=[mp.WHITE,mp.YELLOW,mp.BLACK,mp.CYAN,mp.BLUE,mp.GREEN,mp.MAGENTA,mp.RED];var yp=mp,bp={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"};bp.settings=[{value:bp.TOP,title:"Top"},{value:bp.MIDDLE,title:"Middle"},{value:bp.BOTTOM,title:"Bottom"}],bp.ALL=[bp.TOP,bp.MIDDLE,bp.BOTTOM];var Sp=bp,Ip={AUTO:"auto",AVOID:"avoid",ALWAYS:"always",NEVER:"never"};Ip.settings=[{value:Ip.AUTO,title:"Automatic"},{value:Ip.AVOID,title:"Only image formats"},{value:Ip.ALWAYS,title:"Always"}];var Cp=Ip,Mp=n(4),Dp=n.n(Mp),wp="library",Pp="continueWatching",Tp="prePlay",Ep="playlist",xp="search",Op="quickSearch",jp="player",Ap="playQueue",Np="lineTVTimeline",kp="newscast",Lp="recommended",Rp="nowPlaying",_p="downloads",Up=(Dp.a.oneOf(["discover",wp,"metadataList","timeline",Pp,Tp,"postPlayPrevious","postPlayNext",Ep,xp,Op,jp,Ap,Np,kp,Lp,Rp,_p]),"up"),zp="right",Fp="down",Bp="left",Hp=[Up,zp,Fp,Bp],Vp="default",Qp="primary",Wp="success",Gp="danger",Yp="dark",Kp=[Vp,Qp,Wp,Gp,Yp],qp=n(27),Zp="none",Xp="vertical",Jp="horizontal",$p="omni",eh=[Zp,Xp,Jp,$p],th="topLeft",nh="topCenter",rh="topRight",ih="bottomLeft",ah="bottomCenter",oh="bottomRight",sh="middleLeft",lh="middleRight",ch=[th,nh,rh,ih,ah,oh,sh,lh],uh="calendar",dh="agenda",ph=[uh,dh],hh="poster",fh="mosaic",gh="table",vh="simpleSummary",mh="summary",yh="epgEpisode";function bh(e){return e===hh||e===fh}function Sh(e){return e.length>1}Dp.a.oneOf([hh,fh,gh,vh,mh,yh]);var Ih,Ch=gd.a.ORIGINAL,Mh=At.extend({name:"UserExperienceSettingsModel",sessionAttrs:Object.assign({},bi.sessionAttrs,{isRemoteSchemaVersionNewer:Me.a.boolean}),syncedAttrs:Object.assign({},bi.syncedAttrs,{schemaVersion:Me.a.integer,language:Me.a.string,playThemeMusic:Me.a.boolean,companion:Me.a.boolean,allowHttpFallback:Me.a.string,timeFormat:Me.a.string,autoAdjustQuality:Me.a.boolean,remoteSmallVideoAtOriginalQuality:Me.a.boolean,useHomeStreamingRecommendedSettings:Me.a.boolean,localQuality:Me.a.integer,remoteQuality:Me.a.integer,audioBoost:Me.a.integer,subtitleColor:Me.a.string,subtitlePosition:Me.a.string,subtitleSize:Me.a.integer,subtitlesBurnLevel:Me.a.string,extrasPrefixCount:Me.a.integer,audioForceMultiChannel:Me.a.boolean,autoPlay:Me.a.boolean,calendarViewType:Me.a.string,columnAdjustment:Me.a.integer,dashboardNowPlayingShowDetails:Me.a.boolean,hasDismissedDVRUpsell:Me.a.boolean,hasDismissedServerDashboardUpsell:Me.a.boolean,isSidebarCollapsed:Me.a.boolean,libraryRoutes:Me.a.object,libraryTableColumns:Me.a.object,listStyles:Me.a.object,relayReminders:Me.a.object,searchAllServers:Me.a.boolean,showAdvancedSettings:Me.a.boolean,showPrePlayArtwork:Me.a.boolean}),syncedRelations:Object.assign({},bi.syncedRelations),defaults:function(){var e;return Object.assign({},bi.defaults,{isRemoteSchemaVersionNewer:!1,language:fp(),playThemeMusic:!1,companion:!0,allowHttpFallback:vp.NEVER,timeFormat:"h:mma",autoAdjustQuality:!1,remoteSmallVideoAtOriginalQuality:!0,useHomeStreamingRecommendedSettings:!0,localQuality:Ch,remoteQuality:6,audioBoost:100,subtitleColor:yp.WHITE,subtitlePosition:Sp.BOTTOM,subtitleSize:100,subtitlesBurnLevel:Cp.AUTO,extrasPrefixCount:0,audioForceMultiChannel:!1,autoPlay:!0,calendarViewType:l.CALENDAR,columnAdjustment:0,dashboardNowPlayingShowDetails:!1,hasDismissedServerDashboardUpsell:!1,isSidebarCollapsed:!1,libraryRoutes:{},libraryTableColumns:{},listStyles:(e={},e[wp]={episode:gh,track:gh},e[Tp]={track:gh},e),relayReminders:{},searchAllServers:!1,showAdvancedSettings:!1,showPrePlayArtwork:!1})},initialize:function(){this.set({schemaVersion:Mh.schemaVersion})},augmentResponse:function(e){if(e.schemaVersion>Mh.schemaVersion)return D.a.warn("[Settings] Received settings with schemaVersion of "+e.schemaVersion+"; expected "+Mh.schemaVersion+" or less.  Settings sharing is now disabled."),Object.assign({},this.toJSON(),{isRemoteSchemaVersionNewer:!0});e=Th(e);var t=this.get("isDirty"),n=this.get("updatedAt"),r=Object(Fr.a)(e.updatedAt),i=n&&r&&n<r;return t&&n===r||n&&r&&n>r?this.toJSON():(t&&i&&(e.isDirty=!1),e.isRemoteSchemaVersionNewer=!1,e)}},{schemaVersion:1}),Dh=Mh,wh=((Ih={})[1]=function(e){return e},Ih),Ph=[function(e){var t=e.lastSourcePivots;return t&&Object.keys(t).forEach(function(e){var n=t[e];ap.test(n)&&(t[e]=Zn(n))}),e}];function Th(e){for(var t=e.schemaVersion||0;t<Dh.schemaVersion;){var n=wh[++t];e=Object.assign({},n(e),{schemaVersion:t})}return Ph.forEach(function(t){t(e)}),e}function Eh(){var e=Gd(Kr.storageKey).then(function(e){if(e.users&&e.users.some(function(e){return e.experienceSettings&&e.experienceSettings.schemaVersion!==Dh.schemaVersion}))return e.users.forEach(function(e){e.experienceSettings=Th(e.experienceSettings)}),Yd(Kr.storageKey,e)});return q(e)}var xh="samenetwork",Oh="always",jh=At.extend({name:"DesktopSettingsModel",storageKey:"settingsv2",syncedAttrs:{preferInsecureConnections:Me.a.string,"syncQuality!video":Me.a.integer,"syncQuality!music":Me.a.integer,"syncQuality!photo":Me.a.integer,serverUpdateDismissedVersion:Me.a.string,viewedUnclaimedServers:Me.a.list,dismissedUnclaimedServers:Me.a.list},defaults:function(){return{preferInsecureConnections:te.a.get("shouldPreferInsecureLocalConnections")?xh:"never","syncQuality!video":8,"syncQuality!music":2,"syncQuality!photo":2,serverUpdateDismissedVersion:"",viewedUnclaimedServers:[],dismissedUnclaimedServers:[]}}}),Ah=["autoLogin","chromecastAppID","chromecastCustomAppID","debugLevel","directPlay","directStream","rejectDirectConnections"];var Nh=function(){var e=jh.prototype.storageKey,t=tp.prototype.storageKey,n=Gd(e).then(function(n){var r=C.a.pick(n,Ah);if(0!==Object.keys(r).length)return Gd(t,{}).then(function(e){var n=Object.assign({},e,r);return Yd(t,n)}).then(function(){return Yd(e,C.a.omit(n,Ah))})});return q(n)},kh=["allowHttpFallback","audioBoost","companion","language"];var Lh,Rh=function(){var e=Gd(jh.prototype.storageKey).then(function(e){var t=C.a.pick(e,kh);if(0!==Object.keys(t).length)return Kd(t).then(function(){return Yd(jh.prototype.storageKey,C.a.omit(e,kh))})});return q(e)},_h="plexTestToken";function Uh(){var e=P.a.Deferred(),t=ee.set(_h,1);return t.done(function(){ee.remove(_h),e.resolve()}),t.fail(function(t){var n=new Qd;D.a.warn("Storage module swapped for "+n.name+' due to exception: "'+t+'"'),Wd.register(n),ee.register(n,{ignorePrevious:!0}),e.resolve()}),e.promise()}function zh(){return(e=P.a.Deferred(),t=Wd.get("myPlexAccessToken"),t.done(function(){window.PLEXWEB&&window.PLEXWEB.myPlexAccessToken||ee.register(Wd.getInstance())}),t.always(function(){e.resolve()}),e.promise()).then(Uh).then(Nh).then(ip).then(Zd).then(Rh).then(Eh);var e,t}var Fh,Bh=function(e){if(!e)return"";Lh||(Lh=document.createElement("P")),Lh.innerHTML=e;var t=Lh.textContent;return Lh.innerHTML="",t},Hh=n(765),Vh=n.n(Hh),Qh={success:!0,error:!0,notify:!0},Wh=U.ItemView.extend({className:"alert-bar",template:Vh.a,events:{"click .close-btn":"onCloseClick"},initialize:function(e){var t=e.alert;if(this.alert=t,t){var n=t.type;n&&Qh[n]&&this.$el.addClass(n)}},hide:function(){z.a.trigger("hide:bar","alertbar")},serializeData:function(){return this.alert},onCloseClick:function(e){e.preventDefault(),this.hide()}}),Gh=n(766),Yh=n.n(Gh),Kh=Wh.extend({className:"alert-bar notify",template:Yh.a,events:C.a.extend({"click .info-link":"onInfoClick"},Wh.prototype.events),initialize:function(){this.listenTo(this.model,"change:read",this.hide)},serializeData:function(){var e=this.model.get("content");return{content:Bh(e),url:this.model.get("url")}},onInfoClick:function(e){this.hide(),this.model.markAsRead()},onCloseClick:function(e){Wh.prototype.onCloseClick.apply(this,arguments),this.model.markAsRead()}}),qh=me.a.extend({mixins:Se.a,announcementsUpdateDelay:36e5,initialize:function(){this.user=Object(J.c)("appModel").get("user"),C.a.bindAll(this,"updateAnnouncements","onSignedInChange")},start:function(){var e=C.a.debounce(this.onAnnouncementsChange),t=C.a.debounce(this.onSignedInChange);this.listenTo(this.user,"change:signedIn",t),this.listenTo(this.user.get("desktop"),{"change:announcements":e,"change:announcements.reset":e,"change:announcements.update":e,"change:announcements.change:read":e,"change:announcements.change:priority":e}),this.user.populate().fail(t)},stop:function(){clearTimeout(this.announcementsUpdateTimeout),this.user.get("desktop").get("announcements").reset(),this.stopListening()},updateAnnouncements:function(){!this.user.get("restricted")&&this.user.server.get("isConnected")&&(this.user.get("desktop").get("announcements").fetch(),this.announcementsUpdateTimeout&&clearTimeout(this.announcementsUpdateTimeout),this.announcementsUpdateTimeout=setTimeout(this.updateAnnouncements,this.announcementsUpdateDelay))},onSignedInChange:function(){this.user.get("desktop").get("announcements").reset(),this.updateAnnouncements()},onAnnouncementsChange:function(){if(this.user.get("isSignedIn")&&!this.user.get("restricted")){var e=this.user.get("desktop").get("announcements").findWhere({style:"priority",read:!1});e&&z.a.trigger("show:bar","alertbar",new Kh({model:e}))}}}),Zh=me.a.extend({mixins:Se.a,collectionNames:[],flexCollectionNames:[],populateActions:[],initialize:function(e){this.user=e,this.debouncedChangeTimeout=null},start:function(){var e=this,t=this.user;this.previousUserID=t.id;var n={change:this.onUserChange};["isLocked","isUnlocked","hasInvalidToken"].forEach(function(r){var i=t.get(r),a=e["on"+Object(Wi.a)(r)+"Change"];n["change:"+r]=a,i&&a.call(e,t,i)}),this.listenTo(t,n),this.listenTo(t,"change:isSignedIn",this.onIsSignedInChange),this.listenTo(t,"change:isSignedIn",this.onIsSignedInChangeHandleSyncSettings),this.listenTo(t,"change:isSignedIn",this.onIsSignedInChangeHandlePopulateUser),t.get("isSignedIn")&&(this.onIsSignedInChange(t,!0),this.onIsSignedInChangeHandleSyncSettings(t,!0),this.onIsSignedInChangeHandlePopulateUser(t,!0));var r=Object(J.c)("settingFinder").find("autoLogin")||t.get("isUnlocked");Object(D.a)("[UserManager] autoLogin",r),r||this._lockIfInHome()},handleInvalidToken:function(){},_lockIfInHome:function(){var e=Kr.getActiveUser();e&&e.get("home")&&this.user.set("lockState",Qi.lockStates.LOCKED)},_updateUser:function(e,t){if(t){var n={};t.id!==e.id&&(n.included=["experienceSettings"]),t.copyFromModel(e,n)}else{Kr.get("users").add(e.toJSON(),{parse:!0})}Kr.debouncedSave()},onHasInvalidTokenChange:function(e,t){t&&this.handleInvalidToken()},onIsUnlockedChange:function(e,t){},onUserChange:function(e){this.debouncedChangeTimeout&&clearTimeout(this.debouncedChangeTimeout);var t=Kr.getActiveUser();this.debouncedChangeTimeout=setTimeout(this._updateUser.bind(this,e,t),0)},onIsSignedInChange:function(e,t){this.stopListening(e,"change:hasInvalidToken",this.onHasInvalidTokenChange),t?t&&e.get("isLocked")&&(this.previousUserID=e.id):e.get("hasInvalidToken")&&this.handleInvalidToken()},onIsSignedInChangeHandleSyncSettings:function(e,t){if(t){var n=Object(J.c)("appStore").dispatch,r=e.get("settings"),i=e.get("experienceSettings"),a=r.reduce(function(e,t){return t.get("isDirty")&&e.push(t.get("id")),e},[]);i.get("isDirty")&&n(Go()),a.length&&n(Qo(a))}},onIsSignedInChangeHandlePopulateUser:function(e,t){if(t){var n=Object(J.c)("appStore").dispatch,r={reset:!0},i=e.get("features");i.abortPendingPopulate(),i.fetch(),this.collectionNames.forEach(function(t){return e.get(t).populate(r)}),this.flexCollectionNames.forEach(function(t){return e.get("desktop").get(t).populate(r)}),this.populateActions.forEach(function(e){return n(e())})}},onIsLockedChange:function(e,t){t&&(this.previousUserID=e.id,this.isPreviousUserRemote=e.get("isRemote"),this.listenTo(e,"change:isUnlocked",this.onNextIsUnlockedChange))},onNextIsUnlockedChange:function(e,t){var n=this;t&&(this.stopListening(e,"change:isUnlocked",this.onNextIsUnlockedChange),setTimeout(function(){var e=n.previousUserID,t=e&&e===n.user.id?"navigate:refresh":"navigate:refresh:dashboard";z.a.trigger(t)},0))}}),Xh=Mt("provider/fetchCloudProviders"),Jh=Mt("provider/populateCloudProviders"),$h=Mt("providers/fetchProvider",function(e){var t=e.options,n=void 0===t?{}:t;return Object.assign({},e,{options:Object.assign({},n,{allowHeadersInUrl:!1})})}),ef=Mt("providers/populateProvider"),tf=((Fh={})["provider/fetchCloudProviders"]=Ki({key:"providers",getModel:yo}),Fh["provider/populateCloudProviders"]=qi({key:"providers",fetchActionCreator:Xh,getModel:yo}),Fh["providers/fetchProvider"]=Ki({getModel:Co}),Fh["providers/populateProvider"]=qi({getModel:Co,fetchActionCreator:$h}),Fh),nf=n(767),rf=n.n(nf),af=Wh.extend({className:"user-select-alert-bar",template:rf.a}),of=n(32),sf=n(768),lf=n.n(sf),cf=Lc.extend({name:"homeWarningModal",template:lf.a,events:C.a.extend({"click .server-settings-btn":"hide"},Lc.prototype.events),initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.type=e.type,this.ownedServer=Object(J.c)("appModel").get("servers").findWhere({isFullOwnedServer:!0})},serializeData:function(){return{intro:"pin"===this.type?Object(Xn.default)("You've added a PIN restriction"):Object(Xn.default)("You've joined a Plex Home"),hasFullOwnedServer:!!this.ownedServer,dlnaSettingsRoute:this.ownedServer&&Rc(this.ownedServer.id,"settings","dlna")}}});function uf(){return window.viewport&&window.viewport.pixelRatio||window.devicePixelRatio||1}var df="placeholder-standard",pf="placeholder-square",hf="placeholder-widescreen",ff={movie:df,show:df,season:df,episode:hf,artist:pf,album:pf,track:pf,photo:pf,photoalbum:pf,clip:hf,playlist:pf,playlistFolder:pf,channel:pf,channelDirectory:pf,folder:"placeholder-folder",friend:"placeholder-friend",device:pf,poster:df,art:hf,banner:hf,collection:df},gf={sizes:{movie:"portrait",show:"portrait",season:"portrait",episode:"landscape",artist:"square",album:"square",track:"square",photo:"square",photoalbum:"square",clip:"landscape",playlist:"square",playlistFolder:"square",channel:"square",channelDirectory:"square",folder:"portrait",friend:"square",poster:"portrait",art:"landscape",banner:"banner",collection:"portrait"},ratios:{portrait:1/1.5,square:1,landscape:16/9,banner:5.2},getRatioByType:function(e){return this.ratios[this.sizes[e]]},getPosterWidthUsingRatio:function(e,t){return Math.round(this.ratios[e]*t)},getPosterHeightUsingRatio:function(e,t){return Math.round(this.ratios[e]&t)},getPosterWidth:function(e,t){return Math.round(t*this.getRatioByType(e))},getPosterHeight:function(e,t){return Math.round(t/this.getRatioByType(e))}},vf=Ni.a.extend({maxCycles:3,maxSize:50,imageParamsRegex:/&?(width|height|minSize)=([^&]+)/g,initialize:function(){Ni.a.prototype.initialize.apply(this,arguments),this._infoMemo={}},store:function(e,t){if(t||(t=this.getItemCacheKey(e)),t){var n=e.url,r=this.getImageInfo(n),i={url:n,blobUrl:e.blobUrl,size:r.size},a=this.get(t);if(a){if(!a.images.hasOwnProperty(n)){var o=a.sizes;a.images[n]=i;var s=C.a.sortedIndex(o,i,"size");o.splice(s,0,i)}}else(a={images:{},sizes:[i]}).images[n]=i,this.startListening(),a._cacheKey=t,this._cache[t]=a,this.size++,e.persistInCache||this.setItemCycle(a,t,C.a.first(this.cycles))}},getItemCacheKey:function(e){return this.getImageInfo(e.url).key},getImageInfo:function(e){if(this._infoMemo.hasOwnProperty(e))return this._infoMemo[e];var t={width:0,height:0,minSize:0},n={key:e.replace(this.imageParamsRegex,function(e,n,r){return t[n]=parseInt(r,10),""}),size:t.width*t.height+t.minSize};return this._infoMemo[e]=n,n},removeImageInfo:function(e){this._infoMemo.hasOwnProperty(e)&&delete this._infoMemo[e]},getBlobUrl:function(e){var t=this.getImageInfo(e),n=this.get(t.key);if(n){var r=n.images[e];if(r)return r.blobUrl}},getPlaceholder:function(e){var t=this.getImageInfo(e),n=this.get(t.key);if(n){if(n.images[e])return;return C.a.last(n.sizes).blobUrl}},remove:function(e,t){Ni.a.prototype.remove.apply(this,arguments),C.a.each(e.sizes,function(e){this.removeImageInfo(e.url),ve.a.hasObjectUrl&&window.URL.revokeObjectURL(e.blobUrl)},this)}});var mf=function(e,t){return t?e.get("Media").findIndex(function(e){return e.id===t}):0};var yf=function(e,t){var n=e.Part;return C.a.indexOf(n,C.a.findWhere(n,{key:t}))},bf={extensions:{dash:".mpd",hls:".m3u8",http:""},logParams:function(e,t,n){D.a.group("[Transcoder] %s (%s) options",e,t),C.a.forEach(n,function(e,t){return D.a.info("%s: %s",t,e)}),D.a.groupEnd()},serializeParams:function(e,t){var n={},r={},i=/^X-Plex/;return C.a.each(e,function(e,t){i.test(t)?r[t]=e:n[t]=e}),n=F.stringifyParams(n),r=F.stringifyParams(r),n&&r?n+"&"+r:n||r},image:function(e,t,n){if(!t)return"";var r,i=n.fallbackServer,a=!1;i&&i.get("isConnected")&&(r=i.get("isFullServer")?i:null);if(r)if(e.get("cloud"))a=!0;else if(!e.get("isFullServer")){var o=!e.get("activeConnection").get("isPrivate"),s=r.get("activeConnection").get("isPrivate");a=o||s}var l=a?r:e,c=l.id===e.id,u={url:e.resolveUrl(t,{useRelativeUrl:c,appendToken:!0}),width:n.width&&Math.round(parseFloat(n.width)),height:n.height&&Math.round(parseFloat(n.height))};n.minSize&&(u.minSize=1),n.format&&(u.format=n.format),n.quality&&(u.quality=n.quality),n.filters&&C.a.each(n.filters,function(e,t){void 0!==e&&(u[t]=e)});var d="/photo/:/transcode?"+this.serializeParams(u,l);return l.resolveUrl(d,{appendToken:!0})},music:function(e,t,n,r){r||(r="start");var i=C.a.first(t.get("Media"));if(i){var a=C.a.first(i.Part);if(a){var o,s;e.supports("universalMusicTranscoder")?(o=C.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:!0}),mediaIndex:0,partIndex:0},n),s="/music/:/transcode/universal/"+r):(o={identifier:t.get("identifier"),url:e.resolveUrl(a.key,{useRelativeUrl:!0}),format:"mp3",audioCodec:"libmp3lame",audioBitrate:320,audioSamples:44100},s="/music/:/transcode/generic.mp3"),this.logParams("Music",r,o),o=C.a.extend(o,e.getHeaders());var l=this.extensions[o.protocol];return"start"===r&&l&&(s+=l),e.resolveUrl(s+"?"+this.serializeParams(o,e))}}},video:function(e,t,n,r,i,a){i||(i={}),a||(a="start");var o=e.entityID()===t.get("serverEntityID"),s=e.get("activeConnection").get("isPrivate"),l=C.a.extend({hasMDE:1,path:e.resolveUrl(t.get("key"),{useRelativeUrl:o,appendToken:!o}),mediaIndex:mf(t,n.id),partIndex:yf(n,r.key),protocol:"hls",fastSeek:1,directPlay:0,directStream:1,subtitleSize:100,audioBoost:100,location:s?"lan":"wan"},i);this.logParams("Video",a,l);var c=t.get("indirectHttpHeaders");c&&(l.httpCookies=c.Cookie,l.userAgent=c["User-Agent"]),l=C.a.extend(l,e.getHeaders());var u=this.extensions[l.protocol],d="/video/:/transcode/universal/"+a;return"start"===a&&u&&(d+=u),e.resolveUrl(d+"?"+this.serializeParams(l,e))}},Sf="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",If=U.ItemView.extend({tagName:"img",background:!1,backgroundSize:"",cache:new vf,initialize:function(e){e||(e={}),C.a.bindAll(this,"onLoad","onError","loadImage"),this.url=e.url,this.server=e.server,this.placeholder=e.placeholder,this.placeholderClass=e.placeholderClass,this.modelAttribute=e.modelAttribute,this.ignoreAttributeChanges=e.ignoreAttributeChanges,this.exposeUrl=e.exposeUrl,this.resetOnError=e.resetOnError,this.emptyImage=e.explicitEmpty?"url("+Sf+")":"",e.background&&(this.background=e.background),e.backgroundSize&&(this.backgroundSize=e.backgroundSize),e.format&&(this.format=e.format),e.quality&&(this.quality=e.quality),C.a.isFunction(e.getUrl)&&(this.getUrl=e.getUrl),this.allowBaseImageBlobs=te.a.get("allowBaseImageBlobs"),this.allowBaseImagePreloading=te.a.get("allowBaseImagePreloading"),this.setup(e)},setup:function(e){this.setDimensions(e),this.setFilters(e.filters),this.setModel(e.model,e)},setDimensions:function(e){e.width&&e.height&&(this.transcode=!0,this.width=e.width,this.height=e.height)},setFilters:function(e){this.filters=e||void 0},hasFilters:function(){return void 0!==this.filters},setModel:function(e,t){t||(t={}),this.stopListening(),this.src=null,this.model=e,e&&(this.server||(this.server=e.server),t.url||this.modelAttribute&&(this.url=this.getUrl(e.get(this.modelAttribute)),this.ignoreAttributeChanges||this.listenTo(e,"change:"+this.modelAttribute,this.onChange)))},setElement:function(e){U.ItemView.prototype.setElement.apply(this,arguments),this.render({force:!0})},getUrl:function(e){return e},getTranscodeUrl:function(e){if(!this.server||!this.transcode)return e;var t=J.c("appModel"),n=uf();return bf.image(this.server,e,{fallbackServer:t.get("primaryServer"),width:this.width*n,height:this.height*n,minSize:this.minSize,filters:this.filters,format:this.format,quality:this.quality})},render:function(e){return e||(e={}),this.url||this.placeholder||this.placeholderClass?this.src?(e.force&&this.showImage(this.src),this):(this.isPlaceholderRendered&&this.url||this.showPlaceholder(),this.url&&this.load(this.url,this.transcode).then(this.onLoad,this.onError,this.onLoad),this):this},showPlaceholder:function(){if(this.isPlaceholderRendered=!0,this.$el.removeClass("loaded"),this.placeholderClass)return this.$el.addClass(this.placeholderClass),void this.$el.css("background-image",this.emptyImage);this.placeholder?this.showImage(this.placeholder):this.clearImage()},clearImage:function(){this.background?this.$el.css("background-image",this.emptyImage):this.showImage(Sf)},showImage:function(e){this.background?this.showBackgroundImage(e):this.$el.attr("src",e).removeAttr("width").removeAttr("height")},showBackgroundImage:function(e){this.$el.css("background-image","url("+e+")")},load:function(e){if(!e)return P.a.Deferred().reject().promise();if(e=this.getTranscodeUrl(e),this.exposeUrl&&this.$el.attr("data-image-url",e),this.allowBaseImageBlobs&&ve.a.hasBlob&&ve.a.hasObjectUrl){var t=this.loadBlob(e);return t=t.then(this.loadImage,null,this.loadImage)}return this.allowBaseImagePreloading?this.loadImage(e):P.a.Deferred().resolve(e).promise()},loadBlob:function(e){var t=P.a.Deferred();this.cancel();var n=this.cache.getBlobUrl(e);if(n)return t.resolve(n),t.promise();var r=this.cache.getPlaceholder(e);r&&t.notify(r,!0);var i=new window.XMLHttpRequest;return i.open("GET",e,!0),i.responseType="arraybuffer",this.xhr=i,i.onreadystatechange=C.a.bind(function(){if(4===i.readyState)if(i.onreadystatechange=null,this.xhr=null,200===i.status){var n=new window.Blob([i.response],{type:"image/jpeg"}),r=window.URL.createObjectURL(n);this.cache.store({url:e,blobUrl:r}),t.resolve(r)}else t.reject()},this),i.send(),t.promise()},loadImage:function(e,t){var n=P.a.Deferred(),r=new window.Image;return r.onload=function(){r.onload=r.onabort=r.onerror=null,t?n.notify(e,r.width,r.height):n.resolve(e,r.width,r.height)},r.onabort=r.onerror=function(){r.onload=r.onabort=r.onerror=null,n.reject()},r.src=e,n.promise()},cancel:function(){this.xhr&&(this.xhr.onreadystatechange=null,this.xhr.abort(),this.xhr=null)},onLoad:function(e,t,n){if(this.backgroundSize){var r=t&&t>this.width||n&&n>this.height?this.backgroundSize:"auto";this.$el[0].style.backgroundSize=r}this.src=e,this.placeholderClass&&this.$el.removeClass(this.placeholderClass),this.$el.addClass("loaded"),this.showImage(e),this.trigger("load",e,t,n)},onError:function(){this.resetOnError&&this.showPlaceholder(),this.trigger("error")},onClose:function(){this.cancel()},onChange:function(e,t){if(t=this.getUrl(t),this.url===t)return this;this.url=t,this.src=null,this.render()}}),Cf=If.extend({background:!0,setup:function(e){this.minSize=!0,this.type=e.type,this.modelAttribute=e.modelAttribute||"thumb",!1!==e.placeholder&&(this.model&&this.model.get("isFolder")?this.placeholderClass=ff.folder:e.placeholderClass||(this.placeholderClass=ff[this.type])),If.prototype.setup.apply(this,arguments)},setDimensions:function(e){e.width?e.height=gf.getPosterHeight(this.type,e.width):e.height&&(e.width=gf.getPosterWidth(this.type,e.height)),If.prototype.setDimensions.call(this,e)},setModel:function(e,t){If.prototype.setModel.apply(this,arguments),this.model&&this.model.get("isFolder")&&(this.placeholderClass=ff.folder)}}),Mf=Cf.extend({getUrl:function(e){if(e){var t=uf();return F.join(e,{size:Math.round(this.width*t)})}return e}}),Df=n(769),wf=n.n(Df),Pf=U.ItemView.extend({tagName:"li",className:"user-select-list-item",template:wf.a,ui:{container:".user-select-container",poster:".user-poster"},events:{"click a":"onClick"},initialize:function(e){this.disabled=e.disabled,this.posterImage=new Mf({model:this.model,type:"friend",width:80});var t=J.c("appModel").get("primaryServer");t&&t.supports("imageFilters")&&(this.backgroundImage=new Mf({model:this.model,type:"friend",width:120,background:!0,filters:{blur:20,opacity:50,background:"000000"}}),this.backgroundImage.placeholderClass=!1)},serializeData:function(){return{disabled:this.disabled}},bindings:{".username":{modelAttribute:"title"},".protected-icon":{modelAttribute:"protected",autohide:!0,manual:!0},".admin-icon":{modelAttribute:"admin",autohide:!0,manual:!0}},onRender:function(){this.posterImage.setElement(this.ui.poster),this.backgroundImage&&this.backgroundImage.setElement(this.ui.container)},onClose:function(){this.posterImage.close(),this.backgroundImage&&this.backgroundImage.close()},onClick:function(e){e.preventDefault(),this.trigger("selectUser",this.model)}}),Tf=n(770),Ef=n.n(Tf),xf=U.Layout.extend({className:"user-select-modal-pin-container",template:Ef.a,ui:{digitContainer:".pin-digit-container",input:".pin-input",digits:".pin-digit",loading:".loading",removeBtn:".remove-btn",saveBtn:".save-btn",pinForgotLink:".pin-forgot-link"},regions:{userList:".user-select-list"},events:{"keydown input":"onKeyDown","input input":"onInput","keyup input":"onKeyUp","focus input":"onFocus","blur input":"onBlur","change input":"onChange","animationend .pin-input-container":"onInputsAnimationEnd","webkitAnimationEnd .pin-input-container":"onInputsAnimationEnd","oAnimationEnd .pin-input-container":"onInputsAnimationEnd","click .back-btn":"onBackClick","click .remove-btn":"onRemoveClick","submit #pin-form":"onSubmit","click .pin-digit":"onPINClick","keydown .save-btn":"onSaveKeyDown"},onlyAfterRender:["confirmUser"],initialize:function(e){var t=J.c("appModel");this.isForced=e.isForced,this.isEditing=e.isEditing,this.isEditWarning=e.isEditWarning,this.showBackButton=e.showBackButton,this.focusDelay=e.focusDelay,this.user=t.get("user"),this.isEditConfirmation=this.isEditing&&this.model.get("protected")&&!this.model.get("restricted")},serializeData:function(){return{isEditing:this.isEditing&&!this.isEditConfirmation,isEditWarning:this.isEditWarning,isEditConfirmation:this.isEditConfirmation,hasCurrentPIN:this.model.get("protected"),showBackButton:this.showBackButton}},focusInput:function(){this.ui.input.val(""),this.ui.input.focus()},getPIN:function(){return this.ui.input.val()},editPIN:function(e){this.ui.saveBtn.isDisabled()||(this.ui.saveBtn.addClass("disabled"),this.savePIN(e).fail(this.whenRendered(function(){this.ui.saveBtn.removeClass("disabled"),z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("This PIN could not be saved.")})})))},removePIN:function(){this.ui.removeBtn.isDisabled()||(this.ui.removeBtn.addClass("disabled"),this.savePIN("").fail(this.whenRendered(function(){this.ui.removeBtn.removeClass("disabled"),z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("This PIN could not be removed.")})})))},savePIN:function(e){this.ui.loading.removeClass("hidden");var t=this.model.getSaveParams(),n={pin:e};this.currentPin&&(n.currentPin=this.currentPin);var r=P.a.extend(!0,{},t,n),i=F.join(this.model.url(),r),a=this.model.server.getXHROptions(i,{type:"PUT"}),o=P.a.ajax(a);return o.done(C.a.bind(function(){this.model.set("protected",!!e),this.model.id===this.user.id&&(e?this.user.set("pin",this.user.hashPIN(e)):this.user.unset("pin"),this.user.set("home",this.user.hasHome())),this.trigger("resolve",e),e&&this.user.get("homeUsers").length<2&&z.a.trigger("show:modal",new cf({type:"pin"}))},this)),o.always(this.whenRendered(function(){this.ui.loading.addClass("hidden")})),o},confirmUser:function(e){this.ui.loading.removeClass("hidden");var t=bt.execute("switchUser",{homeUser:this.model,pin:e,allowGuestLock:!this.isEditing});t.done(C.a.bind(function(){this.isEditing?(this.isEditConfirmation=!1,this.currentPin=e,this.render()):this.trigger("resolve",e)},this)),t.fail(this.whenRendered(function(){this.ui.digitContainer.addClass("shake"),this.ui.input.val(""),this.focusInput()})),t.always(this.whenRendered(function(){this.ui.loading.addClass("hidden")}))},renderPIN:function(){var e=this.getPIN(),t=e.length,n=this.isEditing&&!this.isEditConfirmation;this.ui.digits.each(function(r,i){var a=e[r]||"";a&&!n&&(a="&bull;"),P()(i).toggleClass("current",r===t).html(a)})},onRender:function(){this.userList.show(new Pf({model:this.model,disabled:!0})),this.ui.pinForgotLink.toggleClass("hidden",this.model.get("restricted")),of.a.mobile||setTimeout(C.a.bind(this.focusInput,this),this.focusDelay)},onKeyDown:function(e){var t=e.which;13!==t&&(8!==t&&46!==t&&229!==t&&(t>=48&&t<=57||t>=96&&t<=105||e.preventDefault()))},onInput:function(e){var t=P()(e.currentTarget),n=t.val(),r=n.length,i=n.charAt(n.length-1);/[0-9]/.test(i)?4===n.length&&(!this.isEditing||this.isEditConfirmation?(t.blur(),this.confirmUser(this.getPIN())):this.ui.saveBtn.focus()):t.val(n.slice(0,r-1))},onKeyUp:function(e){this.renderPIN()},onFocus:function(e){this.renderPIN()},onBlur:function(e){this.renderPIN(),this.ui.digits.removeClass("current")},onChange:function(e){this.renderPIN()},onInputsAnimationEnd:function(e){P()(e.currentTarget).removeClass("shake")},onBackClick:function(e){e.preventDefault(),this.trigger("change:pane","users")},onRemoveClick:function(e){e.preventDefault(),this.removePIN()},onSubmit:function(e){e.preventDefault();var t=this.getPIN();4===t.length?this.isEditing&&!this.isEditConfirmation?this.editPIN(t):this.confirmUser(t):z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("Please enter a 4 digit PIN.")})},onSaveKeyDown:function(e){var t=e.which;8!==t&&46!==t||(e.preventDefault(),this.ui.input.val(""),this.focusInput())},onPINClick:function(){this.focusInput()}}),Of=U.CollectionView.extend({appendHtml:function(e,t,n){return this.sorted?this.sortedAppendHtml.apply(this,arguments):this.reversed?this.reversedAppendHtml.apply(this,arguments):U.CollectionView.prototype.appendHtml.apply(this,arguments)},sortedAppendHtml:function(e,t,n){if(e.isBuffering){var r=e.elBuffer.childNodes;r.length<=n?e.elBuffer.appendChild(t.el):e.elBuffer.insertBefore(t.el,r[n]),e._bufferedChildren.push(t)}else{var i=e.itemViewContainer?e.$(e.itemViewContainer):e.$el,a=i.children();a.size()<=n?i.append(t.el):a.eq(n).before(t.el)}},reversedAppendHtml:function(e,t,n){e.isBuffering?(e.elBuffer.insertBefore(t.el,e.elBuffer.firstChild),e._bufferedChildren.push(t)):(e.itemViewContainer?e.$(e.itemViewContainer):e.$el).prepend(t.el)},measureList:function(){if(this.children.length){var e=this.children._views,t=e[C.a.first(C.a.keys(e))];C.a.defer(C.a.bind(function(){this.itemWidth=t.$el.outerWidth(!0),this.itemHeight=t.$el.outerHeight(!0),this.itemMarginRight=parseInt(t.$el.css("margin-right"),10),this.itemMarginBottom=parseInt(t.$el.css("margin-bottom"),10),this.triggerMethod("measure",this)},this))}},getViewForModel:function(e){var t=this.children._indexByModel[e.cid];return this.children._views[t]},reorder:function(){var e=this.children,t=this.collection.models,n=C.a.map(t,function(t,n){var r=e.findByModel(t);return r._index=n,r.el});this.$el.append(n)},onCollectionRendered:function(){this.measure&&this.measureList()}}),jf=Of.extend({tagName:"ul",className:"tile-list user-select-list",itemView:Pf}),Af=n(771),Nf=n.n(Af),kf=U.Layout.extend({className:"user-select-modal-users-container",template:Nf.a,ui:{loading:".loading"},regions:{body:".modal-body"},onlyAfterRender:["onUserPopulated","onHomeUsersPopulated","onError"],initialize:function(e){var t=J.c("appModel");this.user=t.get("user"),this.homeUsers=this.user.get("homeUsers"),this.user.server.populate().done(C.a.bind(this.onUserPopulated,this)).fail(C.a.bind(this.onError,this))},showList:function(e){this.ui.loading.addClass("hidden"),this.body.show(new jf({collection:e})),this.listenTo(this.body.currentView,"itemview:selectUser",this.onUserSelect)},selectUser:function(e){this.ui.loading.removeClass("hidden");var t=bt.execute("switchUser",{homeUser:e,switchUser:!0,allowGuestLock:!0});t.done(C.a.bind(function(){this.trigger("resolve")},this)),t.always(this.whenRendered(function(){this.ui.loading.addClass("hidden")}))},onUserPopulated:function(){this.homeUsers.fetch().done(C.a.bind(this.onHomeUsersPopulated,this)).fail(C.a.bind(this.onError,this))},onHomeUsersPopulated:function(e){1===e.length&&e.first().get("protected")?this.trigger("change:pane","pin",{model:e.first(),showBackButton:!1,focusDelay:0}):this.showList(e)},onError:function(){var e=Kr.getActiveUser();if(e&&e.get("home")){var t={id:e.id,title:e.get("title"),protected:!!e.get("pin")};this.showList(new Ui([t],{server:this.user.server,parent:this.user}))}else this.user.set("lockState",Qi.lockStates.UNLOCKED),this.trigger("resolve")},onUserSelect:function(e,t){t.get("protected")?this.trigger("change:pane","pin",{model:t,showBackButton:!0,focusDelay:0}):this.selectUser(t)}}),Lf=n(772),Rf=n.n(Lf),_f=Lc.extend({name:"userSelectModal",className:"user-select-modal modal modal-transparent fade",template:Rf.a,transparent:!0,panes:{users:kf,pin:xf},regions:{content:".modal-content",alertBar:".modal-alert"},initialize:function(e){Lc.prototype.initialize.apply(this,arguments);var t=J.c("appModel");this.options=e,this.isForced=e.isForced,this.user=t.get("user"),this.promise=P.a.Deferred()},showPane:function(e,t){this.currentPane&&this.stopListening(this.currentPane);var n=new(0,this.panes[e])(C.a.extend({},this.options,t));return this.listenTo(n,{"change:pane":this.onChangePane,resolve:this.onResolve,reject:this.onReject}),this.currentPane=n,this.content.show(n),n},showAlertBar:function(){var e=te.a.get("alerts");te.a.set("alerts",null);var t=new af({alert:C.a.first(e)});this.alertBar.show(t)},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.model?this.showPane("pin",{focusDelay:this.focusDelay}):this.showPane("users"),this.showAlertBar()},onHide:function(e){Lc.prototype.onHide.apply(this,arguments),"pending"===this.promise.state()&&this.promise.reject()},onChangePane:function(e,t){this.showPane(e,t)},onResolve:function(e){!te.a.has("continueUrl")||this.options.isEditing?(this.promise.resolve(e),this.hide()):window.location=te.a.get("continueUrl")},onReject:function(){this.promise.reject(),this.hide()}}),Uf=Zh.prototype,zf=Zh.extend({collectionNames:["homeDetails","homeUsers"],flexCollectionNames:["cloudCompanions","devices","invites","socialNetworks"],populateActions:[Jh,Fo],handleInvalidToken:function(){var e=new Qc({title:Object(Xn.default)("Invalid Credentials"),message:Object(Xn.default)("Your credentials have expired. Please sign in again."),confirmLabel:Object(Xn.default)("OK"),cancelLabel:Object(Xn.default)("Ignore")});e.promise.done(function(){z.a.trigger("navigate","login",{silent:!0})}),z.a.trigger("show:modal",e)},onIsSignedInChange:function(e,t){if(Uf.onIsSignedInChange.apply(this,arguments),e.get("isFullUser")&&t){var n=e.server.getXHROptions("/api/claim/subscribe");P.a.ajax(Object.assign({},n,{type:"POST"}))}},onIsLockedChange:function(e,t){Uf.onIsLockedChange.apply(this,arguments),t&&z.a.trigger("show:modal",new _f({isForced:!0}))},onIsUnlockedChange:function(){}});function Ff(){var e=Object(J.c)("appModel").get("user"),t=function(){var e=q(Kr.populate());return e=(e=e.then(function(){return ee.get("myPlexAccessToken")})).then(function(e){var t=Object(J.c)("appModel").get("user"),n=Kr.get("users").findWhere({authToken:e});n&&(t.activateStoredUser(n.id),n.copyToModel(t))},function(){var e=Object(J.c)("appModel").get("user");e.activateStoredUser(0);var t=Kr.getActiveUser();t&&t.copyToModel(e)}),q(e)}();return t.done(function(){new zf(e).start(),(new qh).start()}),t}var Bf=n(249),Hf=n.n(Bf);var Vf=function(e){return e.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")};var Qf=function(e,t){var n=new RegExp("(\\?|&)("+Vf(t)+"=[^\\?&]+(?:[\\?&]?))","g");return e.replace(n,function(e,t){return"?"===t?"?":""}).replace(/\?$/,"")};var Wf=function(e){var t=e.match(/(^[^#]+)(?:#(.*$))?/),n=t[1],r=t[2],i=void 0===r?"":r,a=n.match(/(^[^?]+)(\?.*$)?/),o=a[1],s=a[2],l=void 0===s?"":s,c=i.match(/(^[^?]*)(\?.*$)?/),u=c[1],d=c[2];return{base:o,searchParams:l,hashPath:u,hashParams:void 0===d?"":d}};var Gf=function(e){return e.get("ui").get("authCodeExchange")};var Yf=function(){var e=Wf(window.location.href).hashParams,t=Hf.a.parse(e.substr(1)),n=Object(Fr.a)(t.pinID);if(n){var r=Object(J.c)("appModel");Gf(r).set({pinIDInitial:n}),Object(No.a)(),window.history.replaceState(null,null,Qf(window.location.href,"pinID"))}return P.a.Deferred().resolve().promise()},Kf="#!";var qf=function(){var e=Ci(window.location.href,"http:"),t=te.a.get("allowSSO")?F.join(e,{secure:0},{parseParams:!0,recognizeHash:!0}):e;D.a.info("[redirectToHttp] Redirecting from "+window.location.href+" to "+t),window.location=t},Zf=n(1),Xf=n.n(Zf),Jf=n(18),$f=n.n(Jf);function eg(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 1000",id:"plex-icon-plex-chevron"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M195,0 L485.000707,0 L805,500 L485.000707,1000 L195,1000 L514.999293,500 L195,0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}eg.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var tg=eg,ng=n(773),rg=Xf.a.createElement;function ig(e,t){return void 0===t&&(t={}),Object(ng.renderToStaticMarkup)(rg(e,t))}function ag(e){var t=this.panes[e],n=lg.call(this,t);return 0===function(e,t){var n=t.constructor.prototype.validate;return n?n(e):[]}.call(this,n,t).length}function og(e,t){var n=this.panes[t].dependentPanes;return"function"==typeof n&&(n=n.call(this)),e.concat(n||[])}function sg(){var e=this.$(".change-pane-btn");e.addClass("disabled").removeClass("selected"),C.a.each(this.getReachablePanes(),function(t){e.filter("."+t+"-btn").removeClass("disabled")},this),e.filter("."+this.selectedPane+"-btn").addClass("selected")}function lg(e){return this[e.model]||this[this.panesModel]||this.model}var cg={showPane:function(e){if(e!==this.selectedPane){var t=this.paneRegion.currentView;t&&(this.stopListening(t,"valid",sg),this.stopListening(t,"invalid",sg),this.$el.removeClass("pane-"+this.selectedPane),this.onPaneHide&&this.onPaneHide(this.selectedPane,t)),this.selectedPane=e;var n=this.panes[e],r=n.constructor,i=this.paneConstructorArg?this.paneConstructorArg():{},a=new r(C.a.extend(i,{model:lg.call(this,n)}));if(a.onModalClose){this._paneOnModalCloseCallbacks||this.listenToOnce(this,"close",function(){C.a.each(this._paneOnModalCloseCallbacks,function(e){e[1].call(e[0])},this),this._paneOnModalCloseCallbacks=null});var o=this._paneOnModalCloseCallbacks||[];o.push([a,a.onModalClose]),this._paneOnModalCloseCallbacks=C.a.uniq(o,function(e){return e[1]})}this.listenTo(a,"valid",sg),this.listenTo(a,"invalid",sg),sg.call(this),this.onPaneShow&&this.onPaneShow(e,a),this.$el.addClass("pane-"+e),this.paneRegion.show(a),sg.call(this)}},getReachablePanes:function(){for(var e,t,n=C.a.reduce(this.panes,function(e,t){var n=t.dependentPanes;return"function"==typeof n&&(n=n.call(this)),C.a.union(e,n||[])},[],this),r=C.a.filter(C.a.keys(this.panes),function(e){return!C.a.contains(n,e)}),i=r;i.length;)e=C.a.filter(i,ag,this),t=t||e.length!==i.length,i=C.a.reduce(e,og,[],this),r=r.concat(i);return r.isAnyInvalid=t,r},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))}},ug=Ce.a.extend({name:"DownloadServerReleaseModel",context:["server"],modelId:function(){return this.get("build")+"-"+this.get("distro")},syncedAttrs:{label:Me.a.string,build:Me.a.string,distro:Me.a.string,url:Me.a.string}}),dg=Ue.a.extend({name:"DownloadServerReleaseCollection",context:["server"],model:ug}),pg=Ce.a.extend({name:"DownloadServerPlatformModel",context:["server","type"],rootPropertyName:"Platform",idAttribute:"id",syncedAttrs:{id:Me.a.string,name:Me.a.string,version:Me.a.string,date:Me.a.integer,requirements:Me.a.string,fixed:Me.a.string,added:Me.a.string,info:Me.a.string},syncedRelations:{releases:{rootPropertyName:"Release",relationClass:dg}},derivedAttrs:{type:function(){return this.type}},augmentResponse:function(e){var t=e.release_date,n=e.extra_info,r=e.items_fixed,i=e.items_added,a=wt()(e,["release_date","extra_info","items_fixed","items_added"]);return Object.assign({},a,{info:n,fixed:r,added:i,date:t+"000"})}}),hg=Ue.a.extend({name:"DownloadServerPlatformCollection",context:["server","type"],model:pg}),fg=Ce.a.extend({name:"DownloadServerModel",context:["server"],rootPropertyName:"Type",idAttribute:"name",syncedAttrs:{name:Me.a.string},syncedRelations:{platforms:{rootPropertyName:"Platform",relationClass:hg,options:function(e){return{type:e.name}}}}}),gg=Ue.a.extend({name:"DownloadServerCollection",context:["server"],url:function(){var e=C.a.result(this.server,"url");return F.join([e,"api/downloads/1"])},model:fg});function vg(e){return void 0===e&&(e=of.a),"chrome"===e.id}function mg(e){return void 0===e&&(e=of.a),"konvergo"===e.id}function yg(e){void 0===e&&(e=of.a);var t=e.platformID;return"linuxkonvergo"===t||"osxkonvergo"===t||"windowskonvergo"===t}var bg="undefined"!=typeof window;function Sg(e){var t="",n="";e?(t=e.userAgent,n=e.platform):null!=window.navigator&&(t=window.navigator.userAgent,n=window.navigator.platform),this.detect({userAgent:t,platform:n})}Sg.prototype={constructor:Sg,tests:[{id:"ee",name:"EE",predicate:function(e){return/^Netbox-/.test(e.userAgent)}},{id:"libertyglobal",name:"Liberty Global",tv:!0,predicate:function(e){return/WPE-Horizon$/.test(e.userAgent)}},{id:"sony",name:"Sony",predicate:function(e){return/playstation|sony/i.test(e.userAgent)}},{id:"nintendo",name:"Nintendo",predicate:function(e){return/nintendo/i.test(e.userAgent)}},{id:"tivo",name:"TiVo",predicate:function(e){return/TiVo/.test(e.userAgent)}},{id:"lg",name:"LG",predicate:function(e){var t=e.userAgent;return/netcast/i.test(t)||/web[o0]s/i.test(t)&&/smarttv/i.test(t)}},{id:"samsung",name:"Samsung",predicate:function(e){return/Samsung|Tizen/i.test(e.userAgent)}},{id:"panasonic",name:"Panasonic",predicate:function(e){return/viera/i.test(e.userAgent)}},{id:"philips",name:"Philips",predicate:function(e){return/philips/i.test(e.userAgent)}},{id:"toshiba",name:"Toshiba",predicate:function(e){return/toshiba/i.test(e.userAgent)}},{id:"vizio",name:"Vizio",predicate:function(e){var t=/vizio/i.test(e.userAgent),n=/opera/i.test(e.userAgent),r=bg&&window.iMTK_JSP;return t||r&&n}},{id:"swisscom",name:"Swisscom",predicate:function(e){return/swisscom/i.test(e.userAgent)}},{id:"humax",name:"Humax",predicate:function(e){return/humax/i.test(e.userAgent)}},{id:"amazon",name:"Amazon",predicate:function(e){return/-AFT\w-/.test(e.userAgent)}},{id:"generic",name:"Generic Device",predicate:function(e){var t=e.userAgent;return/smarttv/i.test(t)||/large screen/i.test(t)||/hbbtv/i.test(t)}}],id:"unknown",name:"Unknown Manufacturer",detect:function(e){var t=this.runTests(this.tests,e);t&&(this.id=t.id,this.name=t.name)},runTests:function(e,t){for(var n=0,r=e.length;n<r;n++){var i=e[n];if(i.predicate(t))return i}},toJSON:function(){var e={};for(var t in this)this.hasOwnProperty(t)&&this[t]&&(e[t]=this[t]);return e}};new Sg;function Ig(e){return void 0===e&&(e="desktop"),"pmp"===e}n(363);var Cg,Mg=n(774),Dg=n.n(Mg),wg=U.ItemView.extend({template:Dg.a,className:"download-server-pane",serializeData:function(){var e=this.model.toJSON(),t=!Ig()&&!0,n=!t&&"_self";return Object.assign({},e,{target:n,shouldUseDownload:t,shouldUseDropup:e.releases.length>1})}}),Pg=n(775),Tg=n.n(Pg),Eg={osx:"macos"},xg=Lc.extend({mixins:[cg],name:"serverDownloadModal",className:"server-download-modal modal modal-lg fade",template:Tg.a,ui:{downloadBtn:".download-btn",paneTabs:".show-pane-btn",loading:".server-download-loading"},regions:{paneRegion:".pane-region"},events:C.a.extend({"click .show-pane-btn":"onShowPaneClick","click .download-btn":"onDownloadClick"},Lc.prototype.events),panesModel:"selectedModel",onlyAfterRender:["showPane"],initialize:function(e){var t=this;Lc.prototype.initialize.apply(this,arguments);var n=J.c("appModel");n.get("primaryServer")||this.listenTo(n,"change:primaryServer",function(e,n){n&&n.id&&t.hide()}),this.downloadType=e.downloadType;var r=new gg([],{server:n.get("cloudServer")});r.populate().done(function(){t.collection=r.get(t.downloadType).get("platforms"),t.paneSetup(),t.render(),t.ui.loading.addClass("hidden")}),J.c("metrics").trackView({page:"downloads",firstRun:!0})},serializeData:function(){return{items:this.collection?this.collection.toJSON():[],selectedPane:this.selectedModel?this.selectedModel.get("id"):null,iconPlexChevron:ig(tg,{className:"modal-icon"})}},selectListItem:function(){var e=this.selectedModel.get("id");this.ui.paneTabs.removeClass("selected"),this.ui.paneTabs.filter('[data-pane="'+e+'"]').addClass("selected")},paneSetup:function(){this.panes=this.collection.reduce(function(e,t){return e[t.get("id")]={constructor:wg},e},{});var e=of.a.platformID,t=Eg[e]||e;this.selectedModel=this.collection.get(t)||this.collection.first(),this.showPane(this.selectedModel.get("id"))},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.selectedModel&&this.selectListItem()},onShowPaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget).data("pane");this.selectedModel=this.collection.get(t),this.showPane(t),this.selectListItem()},onDownloadClick:function(e){var t=this.selectedModel.get("id");J.c("metrics").trackClick({page:"downloads",firstRun:!0,action:"downloadServer",platform:this.downloadType,os:t}),this.hide()}});function Og(e,t,n,r,i){var a;if(void 0===r&&(r={}),e&&t&&n){var o=function(e,t){var n=encodeURIComponent(e.machineIdentifier),r=encodeURIComponent(t.identifier),i="/server/"+n;return t.isLibraryProvider?i:(e.isCloud?"":i)+"/provider/"+r}(e,t),s=encodeURIComponent(n),l=((a={})[ed.c]="album",a[ed.d]="playlist",a[ed.a]="playlist",a),c="#!"+o+"/"+(i?l[i]:"details")+"?key="+s;return F.join(c,r)}}Mt("app/saveSettings"),Mt("app/restoreDefaultSettings");var jg=Mt("app/restoreDefaultDeviceSettings"),Ag=(Mt("app/downloadServer"),Mt("app/discoverServers")),Ng=Mt("app/dismissUnclaimedServer"),kg=Mt("app/redirectToRoute"),Lg=Mt("app/redirectToHttp"),Rg=Mt("app/redirectToUrl"),_g=(Mt("app/redirectToHash"),Mt("app/preferInsecure")),Ug=Mt("app/switchAppLayout"),zg=Mt("app/toggleFullscreen",function(e){return{isFullscreen:!0}}),Fg=Mt("app/toggleFullscreen",function(e){return{isFullscreen:!1}});function Bg(e,t){e.save(Object.assign({},t,{isSaving:!0,saveError:null})).then(function(){e.set({isSaving:!1})},function(t){var n=t&&t.message||"";e.set({isSaving:!1,saveError:{message:n}})})}var Hg=Object.assign({},ks,((Cg={})["app/saveDeviceSettings"]=function(e,t){Bg(e.get("deviceSettings"),t)},Cg["app/saveSettings"]=function(e,t){var n=t.name,r=t.settings;Bg(e.get(n),r)},Cg["app/restoreDefaultSettings"]=function(e,t){var n=t.name,r=e.get(n);r.restoreDefaults(),Bg(r,{})},Cg["app/restoreDefaultDeviceSettings"]=function(e){var t=e.get("deviceSettings"),n={shouldSyncSettings:t.get("shouldSyncSettings")};e.get("user").get("restricted")&&(n.autoLogin=t.get("autoLogin")),t.restoreDefaults(n),Bg(t,{})},Cg["app/downloadServer"]=function(e,t){var n=new xg({downloadType:t});z.a.trigger("show:modal",n)},Cg["app/discoverServers"]=function(e){z.a.trigger("discover:servers")},Cg["app/dismissUnclaimedServer"]=function(e,t,n){var r,i=t.machineIdentifier,a=e.get("deviceSettings").get("dismissedUnclaimedServers");a[i]||n(Os({dismissedUnclaimedServers:Object.assign({},a,(r={},r[i]=!0,r))}))},Cg["app/setPrimaryServer"]=function(e,t){var n=t.machineIdentifier;e.get("servers").findServer(n).then(function(t){e.set({primaryServer:t,isWaitingForPrimaryServer:!1})},function(){D.a.warn("Unable to set primary server to:",n)})},Cg["app/resetPrimaryServer"]=function(e){e.set({primaryServer:null,isWaitingForPrimaryServer:!0})},Cg["app/changePrimaryServer"]=function(e,t){var n=t.machineIdentifier;e.get("servers").findServer(n).done(function(t){!t.get("isOutOfDate")&&t.get("isPrimaryEligible")&&e.get("primaryServer")!==t&&e.set({primaryServer:t,isWaitingForPrimaryServer:!1})})},Cg["app/navigate"]=function(e,t,n){var r=function(e,t){void 0===t&&(t=!0);var n="";return e&&("string"==typeof e.pathname?n=e.query?F.join(e.pathname,e.query):e.pathname:"string"==typeof e&&(n=e)),n&&t&&0!==n.indexOf(Kf)&&(n=Kf+n),n}(t);t.replace?window.location.replace(r):window.location.href=r},Cg["app/navigatePrePlay"]=function(e,t,n){var r=t.key,i=t.replace,a=bo(e,t),o=Co(e,t),s=Og(a.toJSON(),o.toJSON(),r);s&&n(Ts({pathname:s,replace:i}))},Cg["app/redirectToRoute"]=function(e,t){var n=t.route,r=t.options;C.a.defer(function(){z.a.trigger("navigate",n,r)})},Cg["app/redirectToHttp"]=function(){qf()},Cg["app/redirectToUrl"]=function(e,t){var n=t.url;window.location.href=n},Cg["app/redirectToHash"]=function(e,t){var n=t.hash;window.location.hash=n},Cg["app/preferInsecure"]=function(){window.localStorage.setItem("preferInsecure","1")},Cg["app/switchAppLayout"]=function(){var e;e="tv",Kr.flushDebouncedSave(),ee.set("main.webMode",e)},Cg["app/toggleFullscreen"]=function(e,t){var n=t.isFullscreen;e.get("isFullscreen")!==n&&e.set("isFullscreen",n)},Cg));function Vg(){var e=Object(J.c)("fullscreenManager").initialize({dispatchEnterFullscreen:function(){Object(J.c)("appStore").dispatch(zg())},dispatchExitFullscreen:function(){Object(J.c)("appStore").dispatch(Fg())}});return q(e)}var Qg=n(776),Wg=n.n(Qg);function Gg(){var e=Object(J.c)("keyboardShortcuts"),t=!0;return z.a.on("anyModalOpen",function(){t=!1}),z.a.on("allModalsClosed",function(){t=!0}),e.shortcuts.forEach(function(n){Wg.a.bind(n.keys,function(n,r,i){if(t||r instanceof window.KeyboardEvent&&"esc"===i)return e[n.fn](e,r,i)}.bind(null,n))}),P.a.Deferred().resolve().promise()}var Yg="data:audio/mpeg;base64,//uQxAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAADAAAGhgBVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVWqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqqr///////////////////////////////////////////8AAAA5TEFNRTMuOThyAc0AAAAAAAAAABSAJAiqQgAAgAAABobxtI73AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA//uQxAACFEII9ACZ/sJZwWEoEb8w/////N//////JcxjHjf+7/v/H2PzCCFAiDtGeyBCIx7bJJ1mmEEMy6g8mm2c8nrGABB4h2Mkmn//4z/73u773R5qHHu/j/w7Kxkzh5lWRWdsifCkNAnY9Zc1HvDAhjhSHdFkHFzLmabt/AQxSg2wwzLhHIJOBnAWwVY4zrhIYhhc2kvhYDfQ4hDi2Gmh5KyFn8EcGIrHAngNgIwVIEMf5bzbAiTRoAD///8z/KVhkkWEle6IX+d/z4fvH3BShK1e5kmjkCMoxVmXhd4ROlTKo3iipasvTilY21q19ta30/v/0/idPX1v8PNxJL6ramnOVsdvMv2akO0iSYIzdJFirtzWXCZicS9vHqvSKyqm5XJBdqBwPxyfJdykhWTZ0G0ZyTZGpLKxsNwwoRhsx3tZfhwmeOBVISm3impAC/IT/8hP/EKEM1KMdVdVKM2rHV4x7HVXZvbVVKN/qq8CiV9VL9jjH/6l6qf7MBCjZmOqsAibjcP+qqqv0oxqpa/NVW286hPo1nz2L/h8+jXt//uSxCmDU2IK/ECN98KKtE5IYzNoCfbw+u9i5r8PoadUMFPKqWL4LK3T/LCraMSHGkW4bpLXR/E6LlHOVQxmslKVJ8IULktMN06N0FKCpHCoYsjC4F+Z0NVqdNFoGSTjSiyjzLdnZ2fNqTi2eHKONONKLMPMKLONKLMPQRJGlFxZRoKcJFAYEeIFiRQkUWUeYfef//Ko04soswso40UJAgMw8wosososy0EalnZyjQUGBRQGIFggOWUacWUeYmuadrZziQKKEgQsQLAhQkUJAgMQDghltLO1onp0cpkNInSFMqlYeSEJ5AHsqFdOwy1DA2sRmRJKxdKRfLhfLw5BzUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVUxBTUUzLjk4LjJVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVf/7ksRRA8AAAaQAAAAgAAA0gAAABFVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVVU=",Kg=n(133),qg=["touchstart","mousedown","click","keydown","keypress"];function Zg(){function e(){qg.forEach(function(t){document.body.removeEventListener(t,e,!0)});var t=Object(Kg.a)("audio",!0);function n(){t.removeEventListener("playing",n),t.removeEventListener("error",n),t.src="",t.removeAttribute("src"),Object(Kg.b)(t)}t.addEventListener("playing",n),t.addEventListener("error",n),t.src=Yg,t.play()}return Ig()||qg.forEach(function(t){document.body.addEventListener(t,e,!0)}),P.a.Deferred().resolve().promise()}var Xg,Jg=me.a.extend({mixins:Se.a,name:"AbstractReporter",enabled:!1,destroyed:!1,_suspended:!1,initialize:function(e){void 0===e&&(e={}),!1!==e.enabled&&this.enable()},hasSupport:function(){return!0},enable:function(){this.enabled||this.destroyed||!this.hasSupport()||(this.enabled=!0,this.listenTo(z.a,{"log:message":this.onLog,"log:group":this.onLog,"log:groupCollapsed":this.onLog,"log:groupEnd":this.onLog}),this.onEnabled())},disable:function(){this.enabled&&(this.enabled=!1,this.stopListening(),this.onDisabled())},destroy:function(){this.destroyed||(this.disable(),this.destroyed=!0,this.onDestroyed())},_suspend:function(){this._suspended||(this._suspended=!0,this.onSuspended())},_resume:function(){this._suspended&&(this._suspended=!1,this.onResumed())},onLog:function(e){if(this._suspended)ve.a.hasConsole&&window.console.warn("[Logging] Ignored log reentrancy:",JSON.stringify(e));else{switch(this._suspend(),e.type){case"log:message":this.onLogMessage(e);break;case"log:group":this.onLogGroup(e);break;case"log:groupCollapsed":this.onLogGroupCollapsed(e);break;case"log:groupEnd":this.onLogGroupEnd(e)}this._resume()}},onLogMessage:function(){},onLogGroup:function(){},onLogGroupCollapsed:function(){this.onLogGroup.apply(this,arguments)},onLogGroupEnd:function(){},onEnabled:function(){},onDisabled:function(){},onResumed:function(){},onSuspended:function(){},onDestroyed:function(){}}),$g=((Xg={})[D.a.LEVEL_LOG]={method:"log",color:"black"},Xg[D.a.LEVEL_DEBUG]={method:"debug",color:"#d500ff"},Xg[D.a.LEVEL_INFO]={method:"info",color:"blue"},Xg[D.a.LEVEL_WARN]={method:"warn",color:"#ff6600"},Xg[D.a.LEVEL_ERROR]={method:"error",color:"red"},Xg),ev=Jg.extend({name:"ConsoleReporter",hasSupport:function(){return ve.a.hasConsole},onLogMessage:function(e){var t=e.message,n=$g[e.level],r=window.console[n&&n.method]||window.console.log;n&&n.color?r.call(window.console,"%c"+t,"color: "+n.color+";"):r.call(window.console,t)},onLogGroup:function(e){(window.console.group||window.console.log).call(window.console,e.message)},onLogGroupCollapsed:function(e){(window.console.groupCollapsed||window.console.log).call(window.console,e.message)},onLogGroupEnd:function(){window.console.groupEnd&&window.console.groupEnd()}});function tv(){return new ev,P.a.Deferred().resolve().promise()}var nv=U.AppRouter.extend({initialize:function(){this.uniqueRoutes=C.a.uniq(C.a.values(this.appRoutes)),this.fragments=C.a.invert(this.appRoutes),this.listenTo(this,"route",this.onRoute),this.listenTo(z.a,"navigate",this.onNavigate)},resolveUrlFragment:function(e,t){var n=e.match(/:\w+/g);return n&&C.a.each(n,function(n){var r=n.slice(1),i=t[r];if(null==i){var a=new RegExp("\\([^\\)]*"+n+"[^\\)]*\\)","g");e=e.replace(a,"")}else e=e.replace(n,encodeURIComponent(i))}),e.replace(/\(|\)/g,"")},onRoute:function(e){var t=J.c("appModel"),n=Array.from(t.get("history")),r=Array.from(t.get("forwardHistory")),i=y.c.history.getFragment();i===r[0]?n.push(r.shift()):i!==C.a.last(n)&&(n.push(i),r.splice(0)),t.set({history:n,forwardHistory:r})},onNavigate:function(e,t){if(-1!==C.a.indexOf(this.uniqueRoutes,e)){t||(t={});var n=!1;if(null!=t.silent&&(n=t.silent,delete t.silent),null==t.trigger&&(t.trigger=!0),n)this.controller[e].apply(this.controller,C.a.values(t));else{var r=this.resolveUrlFragment(this.fragments[e],t);this.navigate(r,{trigger:t.trigger,replace:t.replace})}}}});var rv,iv=function(e){var t=P.a.Deferred();return e&&e.then?e.then(t.reject,t.reject):t.reject(e),t.promise()},av=Ce.a.extend({name:"ChannelModel",context:["server","channel"],idAttribute:"key",url:function(){return this.id?this.id:this.identifierUrl(this.get("identifier"))},identifierUrl:function(e){return"/:/plugins/"+e+"/root"},syncedAttrs:{key:Me.a.string,identifier:Me.a.string,type:Me.a.string,name:Me.a.string,title1:Me.a.string,title2:Me.a.string,message:Me.a.string,summary:Me.a.string,thumb:Me.a.string,art:Me.a.string,prefsKey:Me.a.string,searchKey:Me.a.string,installed:Me.a.boolean,noCache:Me.a.boolean,allowSync:Me.a.boolean,hasPrefs:Me.a.boolean,hasStoreServices:Me.a.boolean,share:Me.a.boolean,lastAccessedAt:Me.a.integer},syncedRelations:{metadataList:{relationClass:ll.default,attrs:function(e){return{containerKey:e.key?e.key:this.identifierUrl(e.identifier)}},options:function(e){return{channel:this,skipCache:!0}}}},derivedAttrs:{title:function(){return this.get("name")||this.get("title2")||this.get("title1")}},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e,{includeDirectories:!0}):e},augmentResponse:function(e){if(this.has("key")&&(e.key=this.get("key")),"none"===e.key&&delete e.key,e.key){var t=e.key.match(/^\/(\w+)\//);t&&(e.type=t[1])}e.title&&(e.name=e.title);for(var n=mt.a.parseArray(e.Metadata),r=n.length-1;r>=0;r--){var i=n[r];if(i.settings||i.search)e[i.settings?"prefsKey":"searchKey"]=i.key,n.splice(r,1)}return e.Metadata=n,e.metadataList=e,e}}),ov=n(74),sv=!1,lv=U.Controller.extend({populateView:function(e){e||(e={});var t=!1!==e.showLoading;t&&z.a.trigger("show:loading",{navigating:!0}),this.abortPendingPopulate();var n={options:e},r=P.a.Deferred().resolve(n).promise();var i=this.populateUser(r,n);return i=this.populateServer(i,e.serverID,n),e.primaryServer&&(i=this.populatePrimaryServer(i,n)),i=this.populateUserFeatures(i,n),e.sectionID&&(i=this.populateSection(e,i,n)),e.key&&(i=this.populateMetadata(e,i,n)),e.channelID&&(i=this.populateChannel(e,i,n)),e.channelKey&&(i=this.populateChannelMetadata(e,i,n)),this.resolveWithResult(i,n)},resolveWithResult:function(e,t){return e=e.then(function(){return P.a.Deferred().resolve(t).promise()},function(){return sv?sv=!1:z.a.trigger("navigate","unauthorized",{result:t,silent:!0}),P.a.Deferred().reject(t).promise()}),rv=e,e},abortPendingPopulate:function(){rv&&"pending"===rv.state()&&(sv=!0),Y.a.abortAll("page")},populateUser:function(e,t){var n=J.c("appModel").get("user"),r=function(){return n.get("isLocked")?P.a.Deferred().reject(t).promise():P.a.Deferred().resolve(t).promise()};return(n.get("lockState")===Qi.lockStates.PENDING?n.server.populate():P.a.Deferred().resolve().promise()).then(r,r)},populateUserFeatures:function(e,t){var n=J.c("appModel"),r=n.get("cloudServer"),i=n.get("user");function a(){if(!r.get("isConnected"))return P.a.Deferred().resolve().promise();var e=!!i.get("features").failedPopulatePromise,t=i.get("features").populate({timeout:5e3});return e?void 0:t}return e.then(function(){return q(a())},function(){return iv(a())})},populateServer:function(e,t,n){var r=J.c("appModel");return e=e.then(function(){var e,i=r.get("servers");if(!t)return i.populateAnyServer();if(/^transient/.test(t)){var a=r.get("transientServer");if(!a||a.id!==t)return z.a.trigger("navigate:refresh:dashboard"),P.a.Deferred().reject().promise();e=P.a.Deferred().resolve(a).promise()}else e=i.populateServer(t);return e.done(function(e){n.server=e}),e.fail(function(){n.server=i.get(t)}),e})},populatePrimaryServer:function(e,t){var n=J.c("appModel");return e=e.then(function(){var e=P.a.Deferred(),r=n.get("primaryServer");if(r)return t.server=r,e.resolve().promise();if(!n.get("isWaitingForPrimaryServer"))return e.reject().promise();return n.on("change:isWaitingForPrimaryServer",function i(a,o){o||(n.off("change:isWaitingForPrimaryServer",i),(r=n.get("primaryServer"))?(t.server=r,r.populate().done(e.resolve).fail(e.reject)):e.reject())}),e.promise()})},populateSection:function(e,t,n){return t=(t=t.then(function(){var e=n.server.get("sections");return e.find(function(e){return e.isNew()})?e.fetch():e.populate()})).then(function(t){var r=n.item,i=e.sectionID;if(r&&(!(i=r.get("librarySectionID"))||!n.server.get("isFullServer")))return P.a.Deferred().resolve();var a=t.get(i);return a?(n.section=a,r&&r.setContext("section",a),P.a.Deferred().resolve(a)):P.a.Deferred().reject()})},populateMetadata:function(e,t,n){return t=t.then(function(){var t=new Qs.a({key:e.key},{server:n.server,relatedOptions:e.relatedOptions});return n.item=t,t.fetch({scope:"page",data:C.a.extend({checkFiles:"1",includeExtras:"1",includeRelated:"1",includeRelatedCount:"0",includeOnDeck:"1",includeChapters:"1"},e.populateData)})}),t=this.populateSection(e,t,n)},populateChannel:function(e,t,n){return t=t.then(function(){var t=e.channelID,r={};/^\/\w+\//.test(t)?r.key=t:r.identifier=t;var i=new av(r,{server:n.server});return n.channel=i,e.channelKey?P.a.Deferred().resolve().promise():i.fetch({scope:"page"})})},populateChannelMetadata:function(e,t,n){return t=t.then(function(){var t=new av({key:e.channelKey},{server:n.server,channel:n.channel});return n.channelItem=t,t.fetch({scope:"page"})})},isReload:function(e){var t=J.c("appModel").get("servers").get(e);return t&&t.isPopulated()}}),cv=n(48),uv=n(9),dv=n.n(uv),pv=n(0),hv=n.n(pv),fv=n(777),gv=n.n(fv);function vv(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}vv.defaultProps={className:gv.a.container};var mv=vv,yv=ji.extend({idAttribute:"key",whitelistedAttrs:["key","name","defaultAudioLanguage","autoSelectAudio","defaultSubtitleLanguage","subtitleMode"],url:function(){return this.get("key")},convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return t.Account&&(t=t.Account),Ve.a.parseBoolean(t,"autoSelectAudio"),t},parse:function(e){var t=this.convert(e);return t=C.a.pick(t,this.whitelistedAttrs)}});function bv(e){return Object(Tr.a)(Er.l,Cn.d,e)}var Sv=n(120),Iv=ji.extend({idAttribute:"ratingKey",whitelistedAttrs:["guid","addedAt","composite","duration","key","leafCount","playlistType","ratingKey","smart","summary","title","type","allowSync"],defaults:function(){return{children:new Sv.default([],{server:this.server,parent:this,url:function(){var e,t="/playlists/"+this.parent.id+"/items";return"audio"===this.parent.get("playlistType")&&(e={includeRelated:1}),F.join(t,e)}})}},urlRoot:"/playlists",saveUrl:function(){return"/library/metadata/"+this.id},cacheKey:function(e){if(e.key)return this.server&&this.server.getScopedKey(e.key)},initialize:function(){this.listenToOnce(this.get("children"),"add",function(e){this.set("art",e.get("art"))})},sync:function(e,t,n){var r=$s.addVersionHeader(2,n);return ji.prototype.sync.call(this,e,t,r)},parse:function(e){var t=this.convert(e);return t.Playlist&&(t=t.Playlist),Ve.a.parseInteger(t,["duration","leafCount","addedAt"]),Ve.a.parseBoolean(t,["smart","allowSync"]),t.isPlaylist=!0,t},findItem:function(e){return this.get("children").findWhere({playlistItemID:e})},moveItem:function(e,t){var n=t?{after:t}:{},r=F.join([C.a.result(this,"url"),"/items/",e,"/move"],n),i=C.a.extend(this.server.getXHROptions(r),{type:"PUT"}),a=P.a.ajax(i),o=this.get("children"),s=this.findItem(e);o.remove(s);var l=this.findItem(t),c=l?o.indexOf(l)+1:0;return o.add(s,{at:c}),a},removeItem:function(e){e=e.toString();var t=F.join([C.a.result(this,"url"),"/items/",e]),n=C.a.extend(this.server.getXHROptions(t),{type:"DELETE"}),r=P.a.ajax(n);r.then(C.a.bind(function(e){this.set(this.parse(e))},this));var i=this.get("children"),a=this.findItem(e);return i.remove(a),r},addContent:function(e,t){var n=this.isNew()?"POST":"PUT",r=[C.a.result(this,"url")],i={};this.isNew()?(i.type=this.get("playlistType"),i.title=this.get("title"),i.smart=this.get("smart")?1:0):r.push("/items"),e.get("playQueueID")?i.playQueueID=e.get("playQueueID"):i.uri=Fl.uri(e,t);var a=F.join(r,i),o=C.a.extend(e.server.getXHROptions(a),{type:n}),s=P.a.ajax(o);return s.then(C.a.bind(function(e){this.set(this.parse(e))},this)),s.promise()},isLibraryItem:function(){return!0},isPlexMusicItem:function(){return!1}}),Cv=Ue.a.extend({name:"VersionGeneratorCollection",context:["server"],model:sd,url:function(){return F.join(["playlists",this.parent.id,"items"],{type:Mu.LOCAL})}}),Mv=Iv.extend({defaults:function(){return{children:new Cv([],{server:this.server,parent:this})}},findItem:function(e){return this.get("children").get(e)},addContent:function(e){var t=[C.a.result(this,"url"),"items",e.id],n=F.join(t,e.getSaveParams()),r=C.a.extend(e.server.getXHROptions(n),{type:"PUT"}),i=P.a.ajax(r);return i.then(C.a.bind(function(e){this.set(this.parse(e))},this)),i.promise()}}),Dv=Ri.extend({model:Mv,url:"/playlists?type="+Mu.LOCAL,parse:function(e){return this.convert(e,"Playlist")}}),wv={exclusiveBoolAttr:function(e){var t=this;this.listenTo(this,"change:"+e,function(n,r){r&&t.each(function(t){t.set(e,t===n&&r)})})}},Pv=Ce.a.extend({name:"LyricsSpanModel",context:["server","section"],sessionAttrs:{active:Me.a.boolean},syncedAttrs:{startOffset:Me.a.integer,endOffset:Me.a.integer,text:Me.a.string},defaults:{startOffset:-1,endOffset:-1},isPositionWithin:function(e){var t=this.get("startOffset"),n=this.get("endOffset");return-1!==t&&(e>=t&&(e<=n||-1===n))}}),Tv=Ue.a.extend({name:"LyricsSpanCollection",context:["server","section"],model:Pv}),Ev=Ce.a.extend({name:"LyricsLineModel",context:["server","section"],syncedAttrs:{startOffset:Me.a.integer,endOffset:Me.a.integer},syncedRelations:{spans:{relationClass:Tv,rootPropertyName:"Span"}},defaults:{startOffset:-1,endOffset:-1}}),xv=Ue.a.extend({name:"LyricsLineCollection",context:["server","section"],model:Ev,eachSpan:function(e){this.each(function(t){t.get("spans").each(e)})}}),Ov=Ce.a.extend({name:"LyricsStreamModel",context:["server","provider","section"],rootPropertyName:"Lyrics",mergeStrategy:In.a,url:function(){return F.join(this.get("key"),{format:"xml"})},sessionAttrs:{follow:Me.a.boolean,lyricsError:Me.a.object},syncedAttrs:{id:Me.a.integer,key:Me.a.string,streamType:Me.a.integer,index:Me.a.integer,title:Me.a.string,selected:Me.a.boolean,codec:Me.a.string,provider:Me.a.string,format:Me.a.string,minLines:Me.a.integer,timed:Me.a.boolean},syncedRelations:{lines:{relationClass:xv,rootPropertyName:"Line"}},defaults:{follow:!0,selected:!1,lyricsError:null}}),jv=Ue.a.extend({mixins:[wv],name:"LyricsStreamCollection",context:["server","provider","section"],model:Ov,initialize:function(){this.exclusiveBoolAttr("selected")}}),Av=n(55),Nv=Ce.a.extend({name:"PlayQueueItemModel",context:["server","provider"],syncedAttrs:{url:Me.a.string,UrlTemplateFilter:Me.a.array},defaults:{UrlTemplateFilter:[]}}),kv=Ce.a.extend({name:"PlayQueueItemModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],entityType:Er.k,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.playQueueItemID,this.server.entityID())},idAttribute:"playQueueItemID",cache:new xi.a,cacheKey:function(e){return this.server&&this.server.getScopedKey(e.playQueueItemID)},sessionAttrs:{isPlayQueueItem:Me.a.boolean},syncedAttrs:{playQueueItemID:Me.a.string,queueIndex:Me.a.integer,key:Me.a.string,ratingKey:Me.a.string,type:Me.a.string,subtype:Me.a.string,advertisement:Me.a.boolean,allowSkipAfter:Me.a.integer,librarySectionID:Me.a.string,hasPremiumLyrics:Me.a.boolean,syncItemId:Me.a.integer,generatorID:Me.a.integer,generatorType:Me.a.integer,clientIdentifier:Me.a.string,target:Me.a.string},syncedRelations:{metadataItem:{relationClass:Qs.a,deferred:!0},lyricsStreams:{relationClass:jv,deferred:!0},vast:{relationClass:Nv,deferred:!0}},sessionRelations:{postPlay:{relationClass:ov.default,options:function(){return{url:"hubs/metadata/"+this.get("metadataItem").id+"/postplay"}}}},defaults:{isPlayQueueItem:!0},augmentResponse:function(e){var t=C.a.pick(e,Object.keys(this.syncedAttrs));e.Vast&&(t.vast=e.Vast),t.metadataItem=e;var n=C.a.first(mt.a.parseArray(e.Media));if(n){var r=C.a.first(mt.a.parseArray(n.Part));if(r){var i=mt.a.parseArray(r.Stream);if(i){var a=Av.a.get("lyrics");t.lyricsStreams=C.a.filter(i,function(e){return mt.a.parseInteger(e.streamType)===a.id})}}}return t}}),Lv=Ue.a.extend({name:"PlayQueueItemCollection",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],model:kv}),Rv=ji.extend({idAttribute:"playQueueID",whitelistedAttrs:["playQueueID","playQueueSelectedItemID","playQueueSelectedItemOffset","playQueueSelectedMetadataItemID","playQueueLastAddedItemID","playQueueShuffled","playQueueSourceURI","playQueueTotalCount","playQueueVersion","message"],defaults:{selectedItem:null,mediaType:null,owned:!0,hasUserAdditions:!1,playQueueVersion:0},metadataElementNames:["Directory","Video","Track","Photo","Hub"],url:function(){return"/playQueues/"+this.id},initialize:function(){this.listenTo(this,"change:message",this.onMessageChange)},_fetch:function(){var e=C.a.result(this,"url");return this._ajax("GET",e)},convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseBoolean(t,"playQueueShuffled"),Ve.a.parseInteger(t,["playQueueSelectedItemOffset","playQueueTotalCount","playQueueVersion"]),Ve.a.parseArray(t,"Metadata"),t},parse:function(e,t){C.a.isString(e)&&(e=Ve.a.replaceXMLElementNames(e,this.metadataElementNames,"Metadata"));var n=this.convert(e);n.id&&(n.playQueueID=n.id);var r=C.a.pick(n,this.whitelistedAttrs);return this.set(r,{silent:!0}),this.pendingChanges=this.changed,this.parseItems(n),r},parseItems:function(e){var t=this.get("collection"),n=e.Metadata,r=!!n.length,i=C.a.pluck(n,"playQueueItemID").indexOf(e.playQueueSelectedItemID),a=e.playQueueSelectedItemOffset-i;C.a.each(n,function(t,n){t.queueIndex=a+n,e.identifier&&(t.identifier=e.identifier),e.mediaTagPrefix&&(t.mediaTagPrefix=e.mediaTagPrefix),e.mediaTagVersion&&(t.mediaTagVersion=e.mediaTagVersion)}),t?t.set(n,{parse:r}):(t=new Lv(n,{server:this.server,parent:this,parse:r}),this.set("collection",t)),t.totalSize=e.playQueueTotalCount,t.availableRange={start:a,end:a+t.length}},moveItem:function(e,t){if(e===this.get("playQueueSelectedItemID"))return P.a.Deferred().resolve().promise();this.set("hasUserAdditions",!0);var n={after:t||-1},r=F.join([C.a.result(this,"url"),"/items/",e,"/move"],n);return this._ajax("PUT",r)},getUpNextRange:function(){var e=this.get("collection"),t=e.get(this.get("playQueueSelectedItemID")),n=e.indexOf(t),r=Math.max(n,0),i=r,a=this.get("playQueueLastAddedItemID");if(null!=a){var o=e.get(a),s=e.indexOf(o);s>r&&(i=s)}return{start:r,end:i}},getCurrentItem:function(){var e=this.get("playQueueSelectedItemID");return this.get("collection").findWhere({playQueueItemID:e})||null},_ajax:function(e,t){var n=C.a.extend(this.server.getXHROptions(t),{type:e}),r=P.a.ajax(n);return r.done(C.a.bind(function(e){this.set(this.parse(e)),C.a.isEmpty(this.pendingChanges)||(C.a.each(this.pendingChanges,function(e,t){this.trigger("change:"+t,this,e)},this),this.trigger("change",this),this.pendingChanges=null),this.set("selectedItem",this.getCurrentItem())},this)),r.promise()},onMessageChange:function(e,t){t&&z.a.trigger("show:alert",{type:"error",message:t})}}),_v=Ri.extend({model:Rv,url:"/playQueues?type="+Mu.LOCAL,parse:function(e){return this.convert(e,"PlayQueue")}});function Uv(e){return Ss("web-client","settings",e)}function zv(e,t,n){return Ss("server",e,t,n)}var Fv=n(57),Bv=n.n(Fv);function Hv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var Vv=Dp.a.shape({trySubscribe:Dp.a.func.isRequired,tryUnsubscribe:Dp.a.func.isRequired,notifyNestedSubs:Dp.a.func.isRequired,isSubscribed:Dp.a.func.isRequired}),Qv=Dp.a.shape({subscribe:Dp.a.func.isRequired,dispatch:Dp.a.func.isRequired,getState:Dp.a.func.isRequired});var Wv=function(e){var t;void 0===e&&(e="store");var n=e+"Subscription",r=function(t){Hv(i,t);var r=i.prototype;function i(n,r){var i;return(i=t.call(this,n,r)||this)[e]=n.store,i}return r.getChildContext=function(){var t;return(t={})[e]=this[e],t[n]=null,t},r.render=function(){return Zf.Children.only(this.props.children)},i}(Zf.Component);return r.propTypes={store:Qv.isRequired,children:Dp.a.element.isRequired},r.childContextTypes=((t={})[e]=Qv.isRequired,t[n]=Vv,t),r}();function Gv(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yv(){return(Yv=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Kv(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var qv=n(778),Zv=n.n(qv),Xv=n(88),Jv=n.n(Xv),$v=n(576),em=null,tm={notify:function(){}};var nm=function(){function e(e,t,n){this.store=e,this.parentSub=t,this.onStateChange=n,this.unsubscribe=null,this.listeners=tm}var t=e.prototype;return t.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},t.notifyNestedSubs=function(){this.listeners.notify()},t.isSubscribed=function(){return Boolean(this.unsubscribe)},t.trySubscribe=function(){var e,t;this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=(e=[],t=[],{clear:function(){t=em,e=em},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},get:function(){return t},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==em&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}))},t.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=tm)},e}(),rm=0,im={};function am(){}function om(e,t){var n,r;void 0===t&&(t={});var i=t,a=i.getDisplayName,o=void 0===a?function(e){return"ConnectAdvanced("+e+")"}:a,s=i.methodName,l=void 0===s?"connectAdvanced":s,c=i.renderCountProp,u=void 0===c?void 0:c,d=i.shouldHandleStateChanges,p=void 0===d||d,h=i.storeKey,f=void 0===h?"store":h,g=i.withRef,v=void 0!==g&&g,m=Kv(i,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),y=f+"Subscription",b=rm++,S=((n={})[f]=Qv,n[y]=Vv,n),I=((r={})[y]=Vv,r);return function(t){Jv()(Object($v.isValidElementType)(t),"You must pass a component to the function returned by "+l+". Instead received "+JSON.stringify(t));var n=t.displayName||t.name||"Component",r=o(n),i=Yv({},m,{getDisplayName:o,methodName:l,renderCountProp:u,shouldHandleStateChanges:p,storeKey:f,withRef:v,displayName:r,wrappedComponentName:n,WrappedComponent:t}),a=function(n){function a(e,t){var i;return(i=n.call(this,e,t)||this).version=b,i.state={},i.renderCount=0,i.store=e[f]||t[f],i.propsMode=Boolean(e[f]),i.setWrappedInstance=i.setWrappedInstance.bind(Gv(Gv(i))),Jv()(i.store,'Could not find "'+f+'" in either the context or props of "'+r+'". Either wrap the root component in a <Provider>, or explicitly pass "'+f+'" as a prop to "'+r+'".'),i.initSelector(),i.initSubscription(),i}Hv(a,n);var o=a.prototype;return o.getChildContext=function(){var e,t=this.propsMode?null:this.subscription;return(e={})[y]=t||this.context[y],e},o.componentDidMount=function(){p&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},o.componentWillReceiveProps=function(e){this.selector.run(e)},o.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},o.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=am,this.store=null,this.selector.run=am,this.selector.shouldComponentUpdate=!1},o.getWrappedInstance=function(){return Jv()(v,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+l+"() call."),this.wrappedInstance},o.setWrappedInstance=function(e){this.wrappedInstance=e},o.initSelector=function(){var t=e(this.store.dispatch,i);this.selector=function(e,t){var n={run:function(r){try{var i=e(t.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(e){n.shouldComponentUpdate=!0,n.error=e}}};return n}(t,this.store),this.selector.run(this.props)},o.initSubscription=function(){if(p){var e=(this.propsMode?this.props:this.context)[y];this.subscription=new nm(this.store,e,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},o.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(im)):this.notifyNestedSubs()},o.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},o.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},o.addExtraProps=function(e){if(!(v||u||this.propsMode&&this.subscription))return e;var t=Yv({},e);return v&&(t.ref=this.setWrappedInstance),u&&(t[u]=this.renderCount++),this.propsMode&&this.subscription&&(t[y]=this.subscription),t},o.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return Object(Zf.createElement)(t,this.addExtraProps(e.props))},a}(Zf.Component);return a.WrappedComponent=t,a.displayName=r,a.childContextTypes=I,a.contextTypes=S,a.propTypes=S,Zv()(a,t)}}var sm=Object.prototype.hasOwnProperty;function lm(e,t){return e===t?0!==e||0!==t||1/e==1/t:e!=e&&t!=t}function cm(e,t){if(lm(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=0;i<n.length;i++)if(!sm.call(t,n[i])||!lm(e[n[i]],t[n[i]]))return!1;return!0}var um=n(181);function dm(e){return function(t,n){var r=e(t,n);function i(){return r}return i.dependsOnOwnProps=!1,i}}function pm(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function hm(e,t){return function(t,n){n.displayName;var r=function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)};return r.dependsOnOwnProps=!0,r.mapToProps=function(t,n){r.mapToProps=e,r.dependsOnOwnProps=pm(e);var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=pm(i),i=r(t,n)),i},r}}var fm=[function(e){return"function"==typeof e?hm(e):void 0},function(e){return e?void 0:dm(function(e){return{dispatch:e}})},function(e){return e&&"object"==typeof e?dm(function(t){return Object(um.bindActionCreators)(e,t)}):void 0}];var gm=[function(e){return"function"==typeof e?hm(e):void 0},function(e){return e?void 0:dm(function(){return{}})}];function vm(e,t,n){return Yv({},n,e,t)}var mm=[function(e){return"function"==typeof e?function(e){return function(t,n){n.displayName;var r,i=n.pure,a=n.areMergedPropsEqual,o=!1;return function(t,n,s){var l=e(t,n,s);return o?i&&a(l,r)||(r=l):(o=!0,r=l),r}}}(e):void 0},function(e){return e?void 0:function(){return vm}}];function ym(e,t,n,r){return function(i,a){return n(e(i,a),t(r,a),a)}}function bm(e,t,n,r,i){var a,o,s,l,c,u=i.areStatesEqual,d=i.areOwnPropsEqual,p=i.areStatePropsEqual,h=!1;function f(i,h){var f,g,v=!d(h,o),m=!u(i,a);return a=i,o=h,v&&m?(s=e(a,o),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):v?(e.dependsOnOwnProps&&(s=e(a,o)),t.dependsOnOwnProps&&(l=t(r,o)),c=n(s,l,o)):m?(f=e(a,o),g=!p(f,s),s=f,g&&(c=n(s,l,o)),c):c}return function(i,u){return h?f(i,u):(s=e(a=i,o=u),l=t(r,o),c=n(s,l,o),h=!0,c)}}function Sm(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,i=t.initMergeProps,a=Kv(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),o=n(e,a),s=r(e,a),l=i(e,a);return(a.pure?bm:ym)(o,s,l,e,a)}function Im(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function Cm(e,t){return e===t}var Mm,Dm,wm,Pm,Tm,Em,xm,Om,jm,Am,Nm,km,Lm=(wm=(Dm=void 0===Mm?{}:Mm).connectHOC,Pm=void 0===wm?om:wm,Tm=Dm.mapStateToPropsFactories,Em=void 0===Tm?gm:Tm,xm=Dm.mapDispatchToPropsFactories,Om=void 0===xm?fm:xm,jm=Dm.mergePropsFactories,Am=void 0===jm?mm:jm,Nm=Dm.selectorFactory,km=void 0===Nm?Sm:Nm,function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.pure,o=void 0===a||a,s=i.areStatesEqual,l=void 0===s?Cm:s,c=i.areOwnPropsEqual,u=void 0===c?cm:c,d=i.areStatePropsEqual,p=void 0===d?cm:d,h=i.areMergedPropsEqual,f=void 0===h?cm:h,g=Kv(i,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),v=Im(e,Em,"mapStateToProps"),m=Im(t,Om,"mapDispatchToProps"),y=Im(n,Am,"mergeProps");return Pm(km,Yv({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:v,initMapDispatchToProps:m,initMergeProps:y,pure:o,areStatesEqual:l,areOwnPropsEqual:u,areStatePropsEqual:p,areMergedPropsEqual:f},g))}),Rm=U.Layout.extend({template:function(){return""},mountReact:function(){var e=Object(J.c)("appStore");Bv.a.render(hv()(Wv,{store:e},void 0,this.component(this.options)),this.el)},unmountReact:function(){this.isRendered&&Bv.a.unmountComponentAtNode(this.el)},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()}}),_m=n(779),Um=n.n(_m),zm=U.ItemView.extend({tagName:"li",className:"card-collapsed striped-list-item alert-list-item",template:Um.a,serializeData:function(){var e=Object(J.c)("appModel").get("user").get("experienceSettings"),t=this.model.toJSON(),n={serverID:this.model.server.id,itemKey:"/library/metadata/"+this.model.get("itemID"),event:t,escapedServerName:C.a.escape(this.model.server.get("friendlyName")),escapedEventLabel:C.a.escape(t.label),escapedEventValue:C.a.escape(t.value),escapedEventUsername:C.a.escape(t.username),escapedEventTitle:C.a.escape(t.title),escapedEventPlayer:C.a.escape(t.player),timeFormat:e.get("timeFormat")};if(t.label=C.a.escape(t.label),t.value=C.a.escape(t.value),"playing"===t._type&&(t.username=C.a.escape(t.username),t.title=C.a.escape(t.title),t.player=C.a.escape(t.player)),"timeline"===t._type)switch(t.mediaTitle=this.model.get("title")||"an item",this.model.get("state")){case 0:t.stateString=Object(Xn.default)("Created");break;case 1:t.stateString=Object(Xn.default)("Progress for");break;case 2:t.stateString=Object(Xn.default)("Matching");break;case 3:t.stateString=Object(Xn.default)("Downloading metadata for");break;case 4:t.stateString=Object(Xn.default)("Loading metadata for");break;case 5:t.stateString=Object(Xn.default)("Finished processing");break;case 6:t.stateString=Object(Xn.default)("Analyzing");break;case 9:t.stateString=Object(Xn.default)("Deleted")}return n}}),Fm=Of.extend({tagName:"ul",className:"list card-list alert-list",itemView:zm,reversed:!0}),Bm=n(780),Hm=n.n(Bm),Vm=U.Layout.extend({className:"alerts-container",template:Hm.a,ui:{pageCount:".page-count",previousBtn:".previous-btn",nextBtn:".next-btn"},regions:{serverDropdown:".filter-bar",list:".alert-list-container"},modelEvents:{"change:shared":"onSharedChange"},collectionEvents:{add:"onAlertAdd"},events:{"click .previous-btn":"onPreviousClick","click .next-btn":"onNextClick"},onlyAfterRender:["onAlertAdd"],initialize:function(){this.shared=this.model.get("shared"),this.page=1,this.listCollection=this.collection.clone(this.collection.page(this.page,{reverse:!0})),this.listCollection.stopListening()},serializeData:function(){var e=this.collection.pages();return{shared:this.shared,escapedPage:C.a.escape(this.page),escapedPages:C.a.escape(e),enablePrevious:this.page>1,enableNext:this.page<e}},updatePages:function(){var e=this.collection.pages();this.ui.pageCount.text(Object(Xn.default)("{1} of {2}",this.page,e)),this.ui.previousBtn.toggleClass("disabled",this.page<2),this.ui.nextBtn.toggleClass("disabled",this.page>=e)},updateList:function(){this.listCollection.reset(this.collection.page(this.page,{reverse:!0}))},onRender:function(){this.shared||this.list.append(new Fm({collection:this.listCollection}))},onSharedChange:function(e,t){this.shared=t,this.render()},onAlertAdd:function(e,t){this.shared||(this.updatePages(),this.updateList())},onPreviousClick:function(e){e.preventDefault(),this.ui.previousBtn.isDisabled()||(this.page--,this.updatePages(),this.updateList())},onNextClick:function(e){e.preventDefault(),this.ui.nextBtn.isDisabled()||(this.page++,this.updatePages(),this.updateList())}}),Qm=me.a.extend({mixins:[Se.a],defaultFilterName:"__default",whitelistedEvents:["add","remove","reset","sort","destroy","sync","request","error"],blacklistedMethods:["_onModelEvent","_prepareModel","_removeReference","_reset","add","initialize","sync","remove","reset","set","push","pop","unshift","shift","sort","parse","fetch","create","model","off","on","listenTo","listenToOnce","bind","trigger","once","stopListening"],constructor:function(e,t){this.superset=e,this._collection=new y.c.Collection(e.toArray()),this._proxyCollection(this._collection),this.resetFilters(),this.listenTo(e,{add:this.onSupersetAdd,remove:this.onSupersetRemove,reset:this.onSupersetReset}),this.initialize(t)},_proxyCollection:function(e){this.models=e.models,this._proxyCollectionMethods(e),this._proxyCollectionLength(e),this._proxyCollectionEvents(e)},_proxyCollectionMethods:function(e){var t={};C.a.each(C.a.functions(y.c.Collection.prototype),function(n){C.a.contains(this.blacklistedMethods,n)||(t[n]=function(){return e[n].apply(e,arguments)})},this),C.a.extend(this,t)},_proxyCollectionLength:function(e){var t=function(){this.length=e.length};this.listenTo(e,"all",t),t.call(this)},_proxyCollectionEvents:function(e){this.listenTo(e,"all",function(t){var n=C.a.toArray(arguments),r="change"===t||"change:"===t.slice(0,7);"reset"===t&&(this.models=e.models),C.a.contains(this.whitelistedEvents,t)?(C.a.contains(["add","remove","destroy"],t)?n[2]=this:C.a.contains(["reset","sort"],t)&&(n[1]=this),this.trigger.apply(this,n)):r&&this.contains(n[1])&&this.trigger.apply(this,n)})},addFilter:function(e,t){return t||(t=e,e=this.defaultFilterName),C.a.has(this._filters,e)&&this._invalidateCacheForFilter(e),this._filters[e]=this._createFilter(t),this._execFilters(),this.trigger("filtered:add",e),this},removeFilter:function(e){return e||(e=this.defaultFilterName),delete this._filters[e],this._invalidateCacheForFilter(e),this._execFilters(),this.trigger("filtered:remove",e),this},resetFilters:function(){return this._filters={},this._invalidateCache(),this._execFilters(),this.trigger("filtered:reset"),this},getFilters:function(){return C.a.keys(this._filters)},hasFilter:function(e){return C.a.contains(this.getFilters(),e)},refilter:function(e){return C.a.isObject(e)&&e.cid?this.onSupersetAdd(e):(this._invalidateCache(),this._execFilters()),this},destroy:function(){return this.stopListening(),this.superset=null,this._collection.reset([]),this.length=0,this.trigger("filtered:destroy"),this},_createFilter:function(e,t){if(C.a.isFunction(e))return e;throw new Error("Unsupported filter type")},_execFilters:function(e){e||(e={});var t=[];this.superset&&(t=this.superset.filter(C.a.bind(this._execFiltersOnModel,this))),e.reset?this._collection.reset(t):this._collection.set(t),this.length=this._collection.length},_execFiltersOnModel:function(e){this._filterResultCache[e.cid]||(this._filterResultCache[e.cid]={});var t=this._filterResultCache[e.cid];for(var n in this._filters)if(C.a.has(this._filters,n)&&(C.a.has(t,n)||(t[n]=this._filters[n](e)),!t[n]))return!1;return!0},_invalidateCache:function(){this._filterResultCache={}},_invalidateCacheForFilter:function(e){for(var t in this._filterResultCache)C.a.has(this._filterResultCache,t)&&delete this._filterResultCache[t][e]},onSupersetAdd:function(e){if(this._filterResultCache[e.cid]={},this._execFiltersOnModel(e)){if(!this._collection.get(e.cid)){for(var t=0,n=this.superset.indexOf(e)-1;n>=0;n-=1)if(this.contains(this.superset.at(n))){t=this.indexOf(this.superset.at(n))+1;break}this._collection.add(e,{at:t})}}else this._collection.get(e.cid)&&this._collection.remove(e);this.length=this._collection.length},onSupersetRemove:function(e){this.contains(e)&&this._collection.remove(e),this.length=this._collection.length},onSupersetReset:function(){this._execFilters({reset:!0})}}).extend({initialize:function(e){this.playQueue=e.playQueue,this.includeSelectedItem=e.includeSelectedItem,this.addFilter(C.a.bind(this.filterUpNext,this)),this.listenForUpNextChanges()},listenForUpNextChanges:function(){var e=C.a.debounce(this.onPlayQueueChange);this.listenTo(this.playQueue,["change:playQueueSelectedItemID","change:playQueueLastAddedItemID"].join(" "),e),this.listenTo(this.playQueue.get("collection"),"change:queueIndex",e)},filterUpNext:function(e){var t=this.superset.indexOf(e),n=this.playQueue.getUpNextRange(),r=n.start,i=n.end;return this.includeSelectedItem||(r+=1),t>=r&&t<=i},onPlayQueueChange:function(){this.refilter()}}),Wm=Qm.extend({initialize:function(e){this.playQueue=e.playQueue,this.addFilter(C.a.bind(this.filterAfterUpNext,this)),this.listenForUpNextChanges()},filterAfterUpNext:function(e){return this.superset.indexOf(e)>this.playQueue.getUpNextRange().end}}),Gm=n(293),Ym=n.n(Gm),Km=30,qm=365,Zm=["years","months","days","hours","minutes","seconds","milliseconds"],Xm={years:864e5*qm,months:864e5*Km,days:864e5,hours:36e5,minutes:6e4,seconds:1e3,milliseconds:1};function Jm(e){for(var t=e<0?-1:1,n={},r=e*t,i=-1;++i<Zm.length;){var a=Zm[i],o=Xm[a],s=Math.floor(r/o);n[a]=s&&s*t,r%=o}return n}var $m=function(e){if(null==e)return"";var t=Jm(e),n=t.hours+24*t.days,r=t.minutes,i=t.seconds;return n&&r?Object(Xn.default)("{1} hr {2} min",n,r):n?Object(Xn.default)("{1} hr",n):r?Object(Xn.default)("{1} min",r):i>0?Object(Xn.default)("{1} sec",i):""};var ey=[[54e5,function(e){if(null==e)return"";var t=Jm(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,a=t.seconds;return i?Object(Xn.default)("{1} min",i):a>0?Object(Xn.default)("{1} sec",a):""}],[864e5,$m],[6048e5,function(e){if(null==e)return"";var t=Jm(e),n=t.days,r=t.hours,i=1!==n;return n&&r?i?Object(Xn.default)("{1} days {2} hr",n,r):Object(Xn.default)("{1} day {2} hr",n,r):n?i?Object(Xn.default)("{1} days",n):Object(Xn.default)("{1} day",n):Object(Xn.default)("{1} hr",r)}],[1/0,function(e){if(null==e)return"";var t=Jm(e),n=t.years*qm+t.months*Km+t.days;return 1!==n?Object(Xn.default)("{1} days",n):Object(Xn.default)("{1} day",n)}]];var ty=function(e){return e?(0,C.a.find(ey,function(t){var n=t[0];return e<=n})[1])(e):""};var ny=function(e){if(null==e)return"";var t=ty(1e3*e);return t?Object(Xn.default)("{1} left",t):""},ry=n(781),iy=n.n(ry),ay=U.ItemView.extend({className:"circle-progress",template:iy.a,size:30,lineWidth:5,strokeColor:"#cc7b19",hasSize:!1,ui:{svg:".circle-progress-bar",svgCircle:".circle-progress-bar circle"},bindings:{".circle-progress-text":{modelAttribute:"text"}},modelEvents:{"change:progress":"onProgressChange"},initialize:function(e){this.size=e.size||this.size,this.lineWidth=e.lineWidth||this.lineWidth,this.strokeColor=e.strokeColor||this.strokeColor,this.size&&(this.$el.width(this.size),this.$el.height(this.size))},drawProgressBar:function(){var e=this.size,t=e/2,n=t-this.lineWidth,r=Math.PI*(2*n);this.hasSize||(this.ui.svg.attr("width",e),this.ui.svg.attr("height",e),this.ui.svgCircle.attr("r",n),this.ui.svgCircle.attr("cx",t),this.ui.svgCircle.attr("cy",t),this.ui.svgCircle.attr("stroke-dasharray",r),this.ui.svgCircle.css("stroke-width",this.lineWidth),this.ui.svgCircle.css("stroke",this.strokeColor),this.hasSize=!0);var i=(100-this.model.get("progress"))/100*r;this.ui.svgCircle.css("stroke-dashoffset",i)},onRender:function(){this.drawProgressBar()},onProgressChange:function(){this.drawProgressBar()}}),oy=n(782),sy=n.n(oy),ly=U.Layout.extend({mixins:[Zu],className:"conversion-status",template:sy.a,regions:{progressBarRegion:".progress-bar-region"},initialize:function(e){this.initialState=e.initialState,this.initialErrorMessage=e.initialErrorMessage,this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.progressModel=new y.c.Model({progress:0,remaining:0,speed:0})},states:{pending:{onEnter:function(){this.$el.addClass("pending")},onExit:function(){this.$el.removeClass("pending")}},converting:{onEnter:function(){this.$el.addClass("converting")},onExit:function(){this.$el.removeClass("converting")}},processed:{onEnter:function(){this.$el.addClass("processed")},onExit:function(){this.$el.removeClass("processed")}},disabled:{onEnter:function(){this.$el.addClass("disabled")},onExit:function(){this.$el.removeClass("disabled")}},error:{onEnter:function(){this.$el.addClass("error")},onExit:function(){this.$el.removeClass("error")}}},bindingsModel:"progressModel",bindings:{".conversion-status-converting-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Xn.default)("Paused"):Object(Xn.default)("Converting")}},".conversion-status-pending-label":{model:"pausedSetting",modelAttribute:"value",formatter:function(e){return e?Object(Xn.default)("Paused"):Object(Xn.default)("Waiting")}},".conversion-status-converting-speed":{modelAttribute:"speed",autohide:!0,formatter:function(e){if(e){var t=Math.round(10*e)/10;return t>10&&(t=Math.round(t)),"("+t+"x)"}}},".conversion-status-converting-percentage":{modelAttribute:"progress",formatter:function(e){return Math.round(e)+"%"}},".conversion-status-converting-progress-separator":{modelAttribute:"remaining",manual:!0,autohide:function(e){return e&&this.progressModel.get("speed")}},".conversion-status-converting-remaining":{modelAttribute:"remaining",autohide:!0,formatter:function(e){if(this.progressModel.get("speed"))return ny(e)}}},serializeData:function(){return{initialErrorMessage:this.initialErrorMessage}},findTranscodeJob:function(){return this.transcodeJob=this.transcodeJobs.find(function(e){var t=this.model.get("ratingKey"),n=this.generator?this.generator.id:this.model.get("generatorID"),r=this.model.get("syncItemId"),i=t&&t===e.get("ratingKey"),a=n&&n===e.get("generatorID"),o=r&&r===e.get("syncItemId");return i&&(a||o)},this),this.transcodeJob&&(this.stopListening(this.transcodeJobs),this.enterState("converting"),this.progressModel.set({progress:this.transcodeJob.get("progress"),speed:this.transcodeJob.get("speed"),remaining:this.transcodeJob.get("remaining")}),this.listenTo(this.transcodeJob,{remove:this.onTranscodeJobRemove,"change:progress":this.onTranscodeProgressChange,"change:speed":this.onTranscodeSpeedChange,"change:remaining":this.onTranscodeRemainingChange})),this.transcodeJob},onRender:function(){this.enterState(this.initialState||"pending"),this.findTranscodeJob()||this.listenTo(this.transcodeJobs,"reset add",this.findTranscodeJob),this.progressBarRegion.append(new ay({model:this.progressModel,size:30,lineWidth:3}))},onTranscodeJobRemove:function(e){this.enterState("pending")},onTranscodeProgressChange:function(e,t){this.progressModel.set("progress",t)},onTranscodeSpeedChange:function(e,t){this.progressModel.set("speed",t)},onTranscodeRemainingChange:function(e,t){this.progressModel.set("remaining",t)}}),cy=n(783),uy=n.n(cy),dy=U.Layout.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:uy.a,ui:{poster:".media-poster"},events:{"click .promote-btn":"onPromoteClick","click .delete-btn":"onDeleteClick"},regions:{statusRegion:".conversion-status-region"},attributes:function(){return{"data-queue-item-id":this.model.id}},initialize:function(e){this.metadataItem=e.model.get("metadataItem"),this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.hideDragHandle=e.hideDragHandle,this.type=this.metadataItem.get("type");var t=ff[this.type];"movie"===this.type&&(t=ff.art);var n="episode"===this.type?"show":this.type;this.image=new Cf({model:this.metadataItem,type:n,placeholderClass:t,height:60,modelAttribute:"thumb",getUrl:this.getPosterUrl})},bindings:{".generator-title":{model:"metadataItem",modelAttribute:"title",formatter:function(e){return Fl.title(this.metadataItem)}},".generator-target":{modelAttribute:"target",formatter:function(e){return this.model.get("syncItemId")?Object(Xn.default)("Sync"):e}},".sortable-handle":{model:"playQueue",modelAttribute:"playQueueSelectedItemID",manual:!0,autohide:function(e){return this.model.get("playQueueItemID")!==e}},".promote-btn":{modelAttribute:"queueIndex",manual:!0,autohide:function(e){var t=this.playQueue.getCurrentItem();return this.hideDragHandle||e-t.get("queueIndex")>1}}},serializeData:function(){return{hideDragHandle:this.hideDragHandle}},getPosterUrl:function(e){return"episode"===this.model.get("type")&&(this.model.get("grandparentThumb")||this.model.get("parentThumb"))||e},deleteSyncItem:function(){var e=J.c("appModel"),t=new ld({id:this.model.get("syncItemId"),clientIdentifier:this.model.get("clientIdentifier")},{server:e.get("user").server});return bt.execute("deleteSyncItem",{syncItem:t,server:this.model.server})},deleteGenerator:function(){var e=new sd({id:this.model.get("generatorID")},{server:this.model.server,playlistID:this.metadataItem.get("playlistID")});return bt.execute("disableVersionGenerator",{generator:e,ratingKey:this.metadataItem.get("ratingKey")})},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new ly({model:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onClose:function(){this.image.close()},onCollectionSort:function(e){this.trigger("sort")},onPromoteClick:function(e){e.preventDefault();var t=this.playQueue.get("collection");this.listenToOnce(t,"sort",C.a.debounce(this.onCollectionSort));var n=this.model.get("playQueueItemID"),r=this.playQueue.get("playQueueSelectedItemID");this.playQueue.moveItem(n,r)},onDeleteClick:function(e){e.preventDefault(),this.model.has("syncItemId")?this.deleteSyncItem():this.deleteGenerator()}}),py=Of.extend({tagName:"ol",className:"list media-list playlist-items",itemView:dy,sorted:!0,itemEvents:{sort:"onSort"},initialize:function(){C.a.bindAll(this,"onItemMove")},onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Ym.a(this.el,C.a.extend({onAdd:this.onItemMove,onUpdate:this.onItemMove,handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2},this.options.sortableOptions))},onClose:function(){this.sortable&&this.sortable.destroy()},onSort:function(){this.render()},onItemMove:function(e){var t=P()(e.item).data("queue-item-id"),n=P()(e.item).prev().data("queue-item-id"),r=this.options.playQueue;if(n)r.moveItem(t,n);else{var i=r.get("selectedItem").get("metadataItem").get("title"),a=new Qc({title:Object(Xn.default)("Convert Immediately"),message:Object(Xn.default)("Do you want to start converting this item immediately? Any conversion progress for '{1}' will be lost.",i)}),o=a.promise;o.done(function(){r.moveItem(t)}),o.fail(C.a.bind(this.render,this)),z.a.trigger("show:modal",a)}}}),hy=n(784),fy=n.n(hy),gy=U.ItemView.extend({template:fy.a,serializeData:function(){return{manageVersionsRoute:Rc(this.model.id,"manage","versions")}}}),vy=n(785),my=n.n(vy),yy=U.Layout.extend({className:"conversion-container",template:my.a,ui:{filterBar:".filter-bar",pauseBtn:".pause-btn",resumeBtn:".resume-btn",divider:".conversion-queue-divider"},regions:{filterBar:".filter-bar",upNextList:".conversion-queue-up-next-list-region",afterUpNextList:".conversion-queue-after-up-next-list-region",emptyRegion:".conversion-queue-empty-region"},events:{"click .pause-btn":"onTogglePauseClick","click .resume-btn":"onTogglePauseClick"},initialize:function(e){this.playQueue=e.playQueue,this.transcodeJobs=e.transcodeJobs,this.generators=e.generators,this.items=this.playQueue.get("collection"),this.upNextItems=new Qm(this.items,{playQueue:this.playQueue,includeSelectedItem:!0}),this.afterUpNextItems=new Wm(this.items,{playQueue:this.playQueue}),this.settings=this.model.get("desktop").get("settings"),this.pausedSetting=this.settings.get("BackgroundQueueIdlePaused"),this.listenTo(this.upNextItems,"reset add remove",this.onUpNextChange),this.listenTo(this.afterUpNextItems,"reset add remove",this.onAfterUpNextChange)},serializeData:function(){return{shouldShowList:this.model.supports("streamReady"),shouldShowDivider:!!this.afterUpNextItems.length,escapedMinServerVersion:C.a.escape(Cc.streamReady),hasPausedSetting:!!this.pausedSetting,isPaused:this.pausedSetting&&this.pausedSetting.get("value"),errorMessage:this.getErrorMessage(),manageVersionsRoute:Rc(this.model.id,"manage","versions")}},toggleEmptyView:function(){var e=this.upNextItems.length+this.afterUpNextItems.length>0;e?this.emptyRegion.close():this.emptyRegion.show(new gy({model:this.model})),this.$el.toggleClass("is-empty",!e),this.ui.filterBar.toggleClass("hide-actions",!e)},getErrorMessage:function(){var e=this.generators.reduce(function(e,t){var n=t.get("status");return"failed"===n.get("state")?e+=Math.max(n.get("itemsCount"),1):n.get("itemsFailedCount")&&(e+=n.get("itemsFailedCount")),e},0);if(e)return 1===e?Object(Xn.default)("There was a problem converting 1 item."):Object(Xn.default)("There were problems converting {1} items.",e)},onRender:function(){var e={playQueue:this.playQueue},t={playQueue:this.playQueue,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting};this.upNextList.show(new py(C.a.extend({},e,{collection:this.upNextItems,itemViewOptions:t,sortableOptions:{sort:!0,group:{name:"upNext",pull:!1,put:["afterUpNext"]}}}))),this.afterUpNextList.show(new py(C.a.extend({},e,{collection:this.afterUpNextItems,itemViewOptions:C.a.extend({},t,{hideDragHandle:!0}),sortableOptions:{sort:!1,group:{name:"afterUpNext",pull:!0,put:!1}}}))),this.toggleEmptyView()},onClose:function(){this.upNextItems.destroy(),this.afterUpNextItems.destroy()},onUpNextChange:function(){this.toggleEmptyView()},onAfterUpNextChange:function(){this.ui.divider.toggleClass("hidden",!this.afterUpNextItems.length),this.toggleEmptyView()},onTogglePauseClick:function(e){e.preventDefault();var t=this.pausedSetting.get("value");this.ui.pauseBtn.toggleClass("hidden",!t),this.ui.resumeBtn.toggleClass("hidden",t),this.pausedSetting.set("value",!t),this.settings.first().save(this.pausedSetting.id,t?0:1)}}),by=n(7),Sy=n.n(by),Iy=n(6);function Cy(e){return e.entities}var My=Object(Iy.createSelector)(Cy,function(e){return e.servers});function Dy(){return Object(Iy.createSelector)(function(e,t){return t.serverEntityID},My,function(e,t){return t[e]})}function wy(e){return e.user}var Py=Object(Iy.createSelector)(wy,function(e){return e.experienceSettings}),Ty="32cc8bf5-b425-4582-a52d-71b4f1cf436b",Ey="2797e341-b062-46ed-862f-0acbba5dd522",xy="de789b83-9c5e-4472-bccf-791c69e67500",Oy="64ed42f8-259d-4957-8530-0fff2d846cd0",jy="7c4200b1-a2ab-4803-adcd-6c36b22a9269",Ay="96cac76e-c5bc-4596-87eb-4fdfef9aaa11",Ny="4b522f91-ae89-4f62-af9c-76f44d8ef61c",ky="740a75d2-6dba-4317-ba68-ed3d619d4c7a",Ly="bb50c92f-b412-44fe-8d8a-b1684f212a44",Ry="b612f571-83c3-431a-88eb-3f05ce08da4a",_y="222020fb-1504-492d-af33-a0b80a49558a",Uy="4bdcac7b-f25b-43b3-93d8-2bbcb9605fd7",zy="644c4466-05fa-45e0-a478-c594cf81778f",Fy="6d7be725-9a96-42c7-8af4-01e735138822",By="43725019-9122-4a6d-bc50-bca06a411b7a",Hy="d8810b38-ec9b-494c-8555-3df6e365dfbd";function Vy(e,t,n){if(void 0===n&&(n="message"),!e)return t;var r=mt.a.parseXML(e.responseText);return r&&r[n]?r[n]:t}var Qy=n(41),Wy=n(164),Gy=n(442),Yy=n(454),Ky=n(291);function qy(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=n||{},i=r.locale,a=i&&i.options&&i.options.weekStartsOn,o=null==a?0:Object(Qy.a)(a),s=null==r.weekStartsOn?o:Object(Qy.a)(r.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var l=Object(nl.a)(e,n),c=Object(Qy.a)(t),u=((c%7+7)%7<s?7:0)+c-l.getUTCDay();return l.setUTCDate(l.getUTCDate()+u),l}var Zy=n(458);var Xy=n(143);var Jy=n(459);var $y=n(165),eb=36e5,tb=6e4,nb=1e3,rb={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ib=/^([+-])(\d{2})(\d{2})?|Z/,ab=/^([+-])(\d{2})(\d{2})|Z/,ob=/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,sb=/^([+-])(\d{2}):(\d{2})|Z/,lb=/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/;function cb(e,t,n){var r=t.match(e);if(!r)return null;var i=parseInt(r[0],10);return{value:n?n(i):i,rest:t.slice(r[0].length)}}function ub(e,t){var n=t.match(e);if(!n)return null;if("Z"===n[0])return{value:0,rest:t.slice(1)};var r="+"===n[1]?1:-1,i=n[2]?parseInt(n[2],10):0,a=n[3]?parseInt(n[3],10):0,o=n[5]?parseInt(n[5],10):0;return{value:r*(i*eb+a*tb+o*nb),rest:t.slice(n[0].length)}}function db(e,t){return cb(rb.anyDigitsSigned,e,t)}function pb(e,t,n){switch(e){case 1:return cb(rb.singleDigit,t,n);case 2:return cb(rb.twoDigits,t,n);case 3:return cb(rb.threeDigits,t,n);case 4:return cb(rb.fourDigits,t,n);default:return cb(new RegExp("^\\d{1,"+e+"}"),t,n)}}function hb(e,t,n){switch(e){case 1:return cb(rb.singleDigitSigned,t,n);case 2:return cb(rb.twoDigitsSigned,t,n);case 3:return cb(rb.threeDigitsSigned,t,n);case 4:return cb(rb.fourDigitsSigned,t,n);default:return cb(new RegExp("^-?\\d{1,"+e+"}"),t,n)}}function fb(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function gb(e,t){var n,r=t>0,i=r?t:1-t;if(i<=50)n=e||100;else{var a=i+50;n=e+100*Math.floor(a/100)-(e>=a%100?100:0)}return r?n:1-n}var vb=[31,28,31,30,31,30,31,31,30,31,30,31],mb=[31,29,31,30,31,30,31,31,30,31,30,31];function yb(e){return e%400==0||e%4==0&&e%100!=0}var bb={G:{priority:140,parse:function(e,t,n,r){switch(t){case"G":case"GG":case"GGG":return n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"});case"GGGGG":return n.era(e,{width:"narrow"});case"GGGG":default:return n.era(e,{width:"wide"})||n.era(e,{width:"abbreviated"})||n.era(e,{width:"narrow"})}},set:function(e,t,n){return e.setUTCFullYear(1===t?10:-9,0,1),e.setUTCHours(0,0,0,0),e}},y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"yy"===t}};switch(t){case"y":return pb(4,e,i);case"yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return pb(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n){var r=Object(Ky.a)(e,n);if(t.isTwoDigitYear){var i=gb(t.year,r);return e.setUTCFullYear(i,0,1),e.setUTCHours(0,0,0,0),e}var a=r>0?t.year:1-t.year;return e.setUTCFullYear(a,0,1),e.setUTCHours(0,0,0,0),e}},Y:{priority:130,parse:function(e,t,n,r){var i=function(e){return{year:e,isTwoDigitYear:"YY"===t}};switch(t){case"Y":return pb(4,e,i);case"Yo":return n.ordinalNumber(e,{unit:"year",valueCallback:i});default:return pb(t.length,e,i)}},validate:function(e,t,n){return t.isTwoDigitYear||t.year>0},set:function(e,t,n){var r=e.getUTCFullYear();if(t.isTwoDigitYear){var i=gb(t.year,r);return e.setUTCFullYear(i,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(Xy.a)(e,n)}var a=r>0?t.year:1-t.year;return e.setUTCFullYear(a,0,n.firstWeekContainsDate),e.setUTCHours(0,0,0,0),Object(Xy.a)(e,n)}},R:{priority:130,parse:function(e,t,n,r){return hb("R"===t?4:t.length,e)},set:function(e,t,n){var r=new Date(0);return r.setUTCFullYear(t,0,4),r.setUTCHours(0,0,0,0),Object($y.a)(r)}},u:{priority:130,parse:function(e,t,n,r){return hb("u"===t?4:t.length,e)},set:function(e,t,n){return e.setUTCFullYear(t,0,1),e.setUTCHours(0,0,0,0),e}},Q:{priority:120,parse:function(e,t,n,r){switch(t){case"Q":case"QQ":return pb(t.length,e);case"Qo":return n.ordinalNumber(e,{unit:"quarter"});case"QQQ":return n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQQ":return n.quarter(e,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(e,{width:"wide",context:"formatting"})||n.quarter(e,{width:"abbreviated",context:"formatting"})||n.quarter(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n){return e.setUTCMonth(3*(t-1),1),e.setUTCHours(0,0,0,0),e}},q:{priority:120,parse:function(e,t,n,r){switch(t){case"q":case"qq":return pb(t.length,e);case"qo":return n.ordinalNumber(e,{unit:"quarter"});case"qqq":return n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"});case"qqqqq":return n.quarter(e,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(e,{width:"wide",context:"standalone"})||n.quarter(e,{width:"abbreviated",context:"standalone"})||n.quarter(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=1&&t<=4},set:function(e,t,n){return e.setUTCMonth(3*(t-1),1),e.setUTCHours(0,0,0,0),e}},M:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"M":return cb(rb.month,e,i);case"MM":return pb(2,e,i);case"Mo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"MMM":return n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"});case"MMMMM":return n.month(e,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(e,{width:"wide",context:"formatting"})||n.month(e,{width:"abbreviated",context:"formatting"})||n.month(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n){return e.setUTCMonth(t,1),e.setUTCHours(0,0,0,0),e}},L:{priority:110,parse:function(e,t,n,r){var i=function(e){return e-1};switch(t){case"L":return cb(rb.month,e,i);case"LL":return pb(2,e,i);case"Lo":return n.ordinalNumber(e,{unit:"month",valueCallback:i});case"LLL":return n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"});case"LLLLL":return n.month(e,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(e,{width:"wide",context:"standalone"})||n.month(e,{width:"abbreviated",context:"standalone"})||n.month(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n){return e.setUTCMonth(t,1),e.setUTCHours(0,0,0,0),e}},w:{priority:100,parse:function(e,t,n,r){switch(t){case"w":return cb(rb.week,e);case"wo":return n.ordinalNumber(e,{unit:"week"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n){return Object(Xy.a)(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(Qy.a)(t),a=Object(Zy.a)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,t,n),n)}},I:{priority:100,parse:function(e,t,n,r){switch(t){case"I":return cb(rb.week,e);case"Io":return n.ordinalNumber(e,{unit:"week"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=53},set:function(e,t,n){return Object($y.a)(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(Qy.a)(t),a=Object(Jy.a)(r,n)-i;return r.setUTCDate(r.getUTCDate()-7*a),r}(e,t,n),n)}},d:{priority:90,parse:function(e,t,n,r){switch(t){case"d":return cb(rb.date,e);case"do":return n.ordinalNumber(e,{unit:"date"});default:return pb(t.length,e)}},validate:function(e,t,n){var r=yb(e.getUTCFullYear()),i=e.getUTCMonth();return r?t>=1&&t<=mb[i]:t>=1&&t<=vb[i]},set:function(e,t,n){return e.setUTCDate(t),e.setUTCHours(0,0,0,0),e}},D:{priority:90,parse:function(e,t,n,r){switch(t){case"D":case"DD":return cb(rb.dayOfYear,e);case"Do":return n.ordinalNumber(e,{unit:"date"});default:return pb(t.length,e)}},validate:function(e,t,n){return yb(e.getUTCFullYear())?t>=1&&t<=366:t>=1&&t<=365},set:function(e,t,n){return e.setUTCMonth(0,t),e.setUTCHours(0,0,0,0),e}},E:{priority:90,parse:function(e,t,n,r){switch(t){case"E":case"EE":case"EEE":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEEE":return n.day(e,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"EEEE":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n){return(e=qy(e,t,n)).setUTCHours(0,0,0,0),e}},e:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"e":case"ee":return pb(t.length,e,i);case"eo":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"eee":return n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeeee":return n.day(e,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"});case"eeee":default:return n.day(e,{width:"wide",context:"formatting"})||n.day(e,{width:"abbreviated",context:"formatting"})||n.day(e,{width:"short",context:"formatting"})||n.day(e,{width:"narrow",context:"formatting"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n){return(e=qy(e,t,n)).setUTCHours(0,0,0,0),e}},c:{priority:90,parse:function(e,t,n,r){var i=function(e){var t=7*Math.floor((e-1)/7);return(e+r.weekStartsOn+6)%7+t};switch(t){case"c":case"cc":return pb(t.length,e,i);case"co":return n.ordinalNumber(e,{unit:"day",valueCallback:i});case"ccc":return n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"ccccc":return n.day(e,{width:"narrow",context:"standalone"});case"cccccc":return n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"});case"cccc":default:return n.day(e,{width:"wide",context:"standalone"})||n.day(e,{width:"abbreviated",context:"standalone"})||n.day(e,{width:"short",context:"standalone"})||n.day(e,{width:"narrow",context:"standalone"})}},validate:function(e,t,n){return t>=0&&t<=6},set:function(e,t,n){return(e=qy(e,t,n)).setUTCHours(0,0,0,0),e}},i:{priority:90,parse:function(e,t,n,r){var i=function(e){return 0===e?7:e};switch(t){case"i":case"ii":return pb(t.length,e);case"io":return n.ordinalNumber(e,{unit:"day"});case"iii":return n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiii":return n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiiiii":return n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i});case"iiii":default:return n.day(e,{width:"wide",context:"formatting",valueCallback:i})||n.day(e,{width:"abbreviated",context:"formatting",valueCallback:i})||n.day(e,{width:"short",context:"formatting",valueCallback:i})||n.day(e,{width:"narrow",context:"formatting",valueCallback:i})}},validate:function(e,t,n){return t>=1&&t<=7},set:function(e,t,n){return(e=function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(Qy.a)(t);r%7==0&&(r-=7);var i=Object(nl.a)(e,n),a=((r%7+7)%7<1?7:0)+r-i.getUTCDay();return i.setUTCDate(i.getUTCDate()+a),i}(e,t,n)).setUTCHours(0,0,0,0),e}},a:{priority:80,parse:function(e,t,n,r){switch(t){case"a":case"aa":case"aaa":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaaa":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n){return e.setUTCHours(fb(t),0,0,0),e}},b:{priority:80,parse:function(e,t,n,r){switch(t){case"b":case"bb":case"bbb":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbbb":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n){return e.setUTCHours(fb(t),0,0,0),e}},B:{priority:80,parse:function(e,t,n,r){switch(t){case"B":case"BB":case"BBB":return n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBBB":return n.dayPeriod(e,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(e,{width:"wide",context:"formatting"})||n.dayPeriod(e,{width:"abbreviated",context:"formatting"})||n.dayPeriod(e,{width:"narrow",context:"formatting"})}},set:function(e,t,n){return e.setUTCHours(fb(t),0,0,0),e}},h:{priority:70,parse:function(e,t,n,r){switch(t){case"h":return cb(rb.hour12h,e);case"ho":return n.ordinalNumber(e,{unit:"hour"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=12},set:function(e,t,n){var r=e.getUTCHours()>=12;return r&&t<12?e.setUTCHours(t+12,0,0,0):r||12!==t?e.setUTCHours(t,0,0,0):e.setUTCHours(0,0,0,0),e}},H:{priority:70,parse:function(e,t,n,r){switch(t){case"H":return cb(rb.hour23h,e);case"Ho":return n.ordinalNumber(e,{unit:"hour"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=23},set:function(e,t,n){return e.setUTCHours(t,0,0,0),e}},K:{priority:70,parse:function(e,t,n,r){switch(t){case"K":return cb(rb.hour11h,e);case"Ko":return n.ordinalNumber(e,{unit:"hour"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=11},set:function(e,t,n){return e.getUTCHours()>=12&&t<12?e.setUTCHours(t+12,0,0,0):e.setUTCHours(t,0,0,0),e}},k:{priority:70,parse:function(e,t,n,r){switch(t){case"k":return cb(rb.hour24h,e);case"ko":return n.ordinalNumber(e,{unit:"hour"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=1&&t<=24},set:function(e,t,n){var r=t<=24?t%24:t;return e.setUTCHours(r,0,0,0),e}},m:{priority:60,parse:function(e,t,n,r){switch(t){case"m":return cb(rb.minute,e);case"mo":return n.ordinalNumber(e,{unit:"minute"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n){return e.setUTCMinutes(t,0,0),e}},s:{priority:50,parse:function(e,t,n,r){switch(t){case"s":return cb(rb.second,e);case"so":return n.ordinalNumber(e,{unit:"second"});default:return pb(t.length,e)}},validate:function(e,t,n){return t>=0&&t<=59},set:function(e,t,n){return e.setUTCSeconds(t,0),e}},S:{priority:40,parse:function(e,t,n,r){return pb(t.length,e,function(e){return Math.floor(e*Math.pow(10,3-t.length))})},set:function(e,t,n){return e.setUTCMilliseconds(t),e}},X:{priority:20,parse:function(e,t,n,r){switch(t){case"X":return ub(ib,e);case"XX":return ub(ab,e);case"XXXX":return ub(ob,e);case"XXXXX":return ub(lb,e);case"XXX":default:return ub(sb,e)}},set:function(e,t,n){return new Date(e.getTime()-t)}},x:{priority:20,parse:function(e,t,n,r){switch(t){case"x":return ub(ib,e);case"xx":return ub(ab,e);case"xxxx":return ub(ob,e);case"xxxxx":return ub(lb,e);case"xxx":default:return ub(sb,e)}},set:function(e,t,n){return new Date(e.getTime()-t)}},t:{priority:10,parse:function(e,t,n,r){return db(e)},set:function(e,t,n){return new Date(1e3*t)}},T:{priority:10,parse:function(e,t,n,r){return db(e)},set:function(e,t,n){return new Date(t)}}},Sb=n(298),Ib=20,Cb=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mb=/^'(.*?)'?$/,Db=/''/g,wb=/\S/;function Pb(e,t,n,r){if(arguments.length<3)throw new TypeError("3 arguments required, but only "+arguments.length+" present");var i=String(e),a=String(t),o=r||{},s=o.locale||Yy.a;if(!s.match)throw new RangeError("locale must contain match property");var l=s.options&&s.options.firstWeekContainsDate,c=null==l?1:Object(Qy.a)(l),u=null==o.firstWeekContainsDate?c:Object(Qy.a)(o.firstWeekContainsDate);if(!(u>=1&&u<=7))throw new RangeError("firstWeekContainsDate must be between 1 and 7 inclusively");var d=s.options&&s.options.weekStartsOn,p=null==d?0:Object(Qy.a)(d),h=null==o.weekStartsOn?p:Object(Qy.a)(o.weekStartsOn);if(!(h>=0&&h<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");if(""===a)return""===i?Object(nl.a)(n,o):new Date(NaN);var f,g={firstWeekContainsDate:u,weekStartsOn:h,locale:s},v=[{priority:Ib,set:Tb,index:0}],m=a.match(Cb);for(f=0;f<m.length;f++){var y=m[f];!o.awareOfUnicodeTokens&&Object(Sb.a)(y)&&Object(Sb.b)(y);var b=y[0],S=bb[b];if(S){var I=S.parse(i,y,s.match,g);if(!I)return new Date(NaN);v.push({priority:S.priority,set:S.set,validate:S.validate,value:I.value,index:v.length}),i=I.rest}else{if("''"===y?y="'":"'"===b&&(y=y.match(Mb)[1].replace(Db,"'")),0!==i.indexOf(y))return new Date(NaN);i=i.slice(y.length)}}if(i.length>0&&wb.test(i))return new Date(NaN);var C=v.map(function(e){return e.priority}).sort(function(e,t){return t-e}).filter(function(e,t,n){return n.indexOf(e)===t}).map(function(e){return v.filter(function(t){return t.priority===e}).reverse()}).map(function(e){return e[0]}),M=Object(nl.a)(n,o);if(isNaN(M))return new Date(NaN);var D=Object(Gy.a)(M,Object(Wy.a)(M));for(f=0;f<C.length;f++){var w=C[f];if(w.validate&&!w.validate(D,w.value,g))return new Date(NaN);D=w.set(D,w.value,g)}return D}function Tb(e){var t=new Date(0);return t.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),t.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),t}var Eb="EEE, dd MMM yyyy HH:mm:ss 'GMT'";var xb=function(e,t){var n=e.get("Session");return n&&n.id?P.a.ajax(e.server.getXHROptions("/status/sessions/terminate",{data:{sessionId:n.id,reason:t}})).then(function(){e.trigger("destroy",e,e.collection)}):P.a.Deferred().reject()};function Ob(e,t,n,r){var i=F.join("/library/all/top",{accountID:t.accountID,type:nr.r(n).id,viewedAt:t.viewedAt,limit:t.limit}).replace("viewedAt=","viewedAt>="),a=e.getXHROptions(i,{dataType:"json",scope:r});return P.a.ajax(a)}function jb(e,t,n){var r=F.join("/statistics/media",{accountID:t.accountID,deviceID:t.deviceID,timespan:t.timespan,at:t.after,count:t.count,duration:t.duration}).replace("at=","at>="),i=e.getXHROptions(r,{dataType:"json",scope:n});return P.a.ajax(i)}var Ab="transcodeJobs",Nb="backgroundTranscodeJobs",kb="searchResults",Lb="syncMetadataItems";function Rb(e,t){var n=t.searchResultEntityID;return mo(e,kb,n)}function _b(e,t){var n=t.friendEntityID;return mo(e,Er.a,n)}function Ub(e,t){var n=t.homeUserEntityID;return mo(e,Er.b,n)}function zb(e,t){var n=t.machineIdentifier,r=e.get("user").get("desktop").get("cloudCompanions").models,i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o.get("cloudPlayers").get(n);if(s)return s}return e.get("companionServer").get("desktop").get("players").get(n)}function Fb(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Math.floor(function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getTime()}(e,t)/1e3)}function Bb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(Qy.a)(t);return r.setDate(r.getDate()+i),r}function Hb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Bb(e,-Object(Qy.a)(t),n)}var Vb=n(213),Qb=36e5;function Wb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(Qy.a)(t);return Object(Vb.a)(e,r*Qb,n)}function Gb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(Qy.a)(t),a=r.getMonth()+i,o=new Date(0);o.setFullYear(r.getFullYear(),a,1),o.setHours(0,0,0,0);var s=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(nl.a)(e,t),r=n.getFullYear(),i=n.getMonth(),a=new Date(0);return a.setFullYear(r,i+1,0),a.setHours(0,0,0,0),a.getDate()}(o,n);return r.setMonth(a,Math.min(s,r.getDate())),r}function Yb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Bb(e,7*Object(Qy.a)(t),n)}function Kb(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Gb(e,12*Object(Qy.a)(t),n)}var qb,Zb="real-time",Xb="twelve-hours",Jb="day",$b="week",eS="month",tS="ninety-days",nS="year",rS="all-time",iS={YEAR:0,MONTH:1,WEEK:2,DAY:3,HOUR:4,MINUTES:5,REAL_TIME:6},aS=Object(vl.a)(["key"],[{key:Zb,title:function(){return Object(Xn.default)("Real Time")},timespan:iS.REAL_TIME,after:function(){}},{key:Xb,title:function(){return Object(Xn.default)("Last 12 Hours")},timespan:iS.HOUR,after:function(){return Fb(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Wb(e,-Object(Qy.a)(t),n)}(new Date,12))},dateFormat:"H:00",longDateFormat:"H:00"},{key:Jb,title:function(){return Object(Xn.default)("Last 24 Hours")},timespan:iS.HOUR,after:function(){return Fb(Hb(new Date,1))},dateFormat:"HH",longDateFormat:"H:00"},{key:$b,title:function(){return Object(Xn.default)("Last 7 Days")},timespan:iS.DAY,after:function(){return Fb(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Yb(e,-Object(Qy.a)(t),n)}(new Date,1))},dateFormat:"MMM d",longDateFormat:"MMMM do"},{key:eS,title:function(){return Object(Xn.default)("Last 30 Days")},timespan:iS.WEEK,after:function(){return Fb(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Gb(e,-Object(Qy.a)(t),n)}(new Date,1))},dateFormat:"MMM d",longDateFormat:"MMMM do"},{key:tS,title:function(){return Object(Xn.default)("Last 90 Days")},timespan:iS.WEEK,after:function(){return Fb(Hb(new Date,90))},dateFormat:"MMM d",longDateFormat:"MMMM do"},{key:nS,title:function(){return Object(Xn.default)("Last Year")},timespan:iS.MONTH,after:function(){return Fb(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");return Kb(e,-Object(Qy.a)(t),n)}(new Date,1))},dateFormat:"MMM",longDateFormat:"MMMM"},{key:rS,title:function(){return Object(Xn.default)("All Time")},timespan:iS.MONTH,after:function(){return 0},dateFormat:"MMM yy",longDateFormat:"MMMM yyyy"}]),oS=aS.get,sS=(aS.getAll,"serverDashboard"),lS=Mt("ui/serverDashboardPage/resetServerDashboardPage"),cS=Mt("ui/serverDashboardPage/dismissServerDashboardUpsell"),uS=Mt("ui/serverDashboardPage/fetchBandwidthStatistics"),dS=Mt("ui/serverDashboardPage/abortFetchBandwidthStatistics"),pS=Mt("ui/serverDashboardPage/fetchResourcesStatistics"),hS=Mt("ui/serverDashboardPage/fetchTopUsers"),fS=Mt("ui/serverDashboardPage/fetchPlayHistory"),gS=Mt("ui/serverDashboardPage/fetchTopPlayed"),vS=Mt("ui/serverDashboardPage/stopServerSession"),mS=Mt("ui/serverDashboardPage/dismissStopServerSessionError");function yS(e){return e.get("ui").get("serverDashboardPage")}var bS=((qb={})["ui/serverDashboardPage/resetServerDashboardPage"]=function(e){var t=yS(e);Y.a.abortAll(sS),t.restoreDefaults()},qb["ui/serverDashboardPage/dismissServerDashboardUpsell"]=function(e,t,n){n(Wo({hasDismissedServerDashboardUpsell:!0}))},qb["ui/serverDashboardPage/fetchBandwidthStatistics"]=function(e,t){var n=yS(e),r=bo(e,t),i=n.get("bandwidthStatisticsRequestID");i&&Y.a.abort(i);var a=F.join("/statistics/bandwidth",{accountID:t.accountID,deviceID:t.deviceID,timespan:t.timespan,at:t.after,lan:t.lan}).replace("at=","at>="),o=r.getXHROptions(a,{dataType:"json",scope:sS}),s=P.a.ajax(o);Object(No.a)(function(){n.set({bandwidthStatisticsRequestID:s.rid,isBandwidthStatisticsPending:!0,isBandwidthStatisticsPopulated:!1,bandwidthStatisticsError:null})});var l=Date.now();s.done(function(e,t,r){var i,a=r.getResponseHeader("Date"),o=a?(i=Pb(a,Eb,new Date)).getTime()-60*i.getTimezoneOffset()*1e3:l;n.set({bandwidthStatistics:e.MediaContainer.StatisticsBandwidth||[],bandwidthStatisticsRequestTimestampMilliseconds:l,bandwidthStatisticsResponseTimestampMilliseconds:o,bandwidthStatisticsRequestID:null,isBandwidthStatisticsPending:!1,isBandwidthStatisticsPopulated:!0})}).fail(function(e){n.set({bandwidthStatisticsRequestTimestampMilliseconds:null,bandwidthStatisticsResponseTimestampMilliseconds:null,bandwidthStatisticsRequestID:null,isBandwidthStatisticsPending:!1,bandwidthStatisticsError:e.aborting?null:Vy(e,Object(Xn.default)("Unable to load statistics"))})})},qb["ui/serverDashboardPage/abortFetchBandwidthStatistics"]=function(e){var t=yS(e).get("bandwidthStatisticsRequestID");t&&Y.a.abort(t)},qb["ui/serverDashboardPage/fetchResourcesStatistics"]=function(e,t){var n=yS(e),r=bo(e,t),i=n.get("resourcesStatisticsRequestID");i&&Y.a.abort(i);var a=F.join("/statistics/resources",{timespan:oS(Zb).timespan}),o=r.getXHROptions(a,{dataType:"json",scope:sS}),s=P.a.ajax(o);Object(No.a)(function(){n.set({resourcesStatisticsRequestID:s.rid,isResourcesStatisticsPending:!0,isResourcesStatisticsPopulated:!1,isResourcesStatisticsSupported:!0,resourcesStatisticsError:null})});var l=Date.now();s.done(function(e){n.set({resourcesStatistics:e.MediaContainer.StatisticsResources||[],resourcesStatisticsRequestTimestampMilliseconds:l,resourcesStatisticsRequestID:null,isResourcesStatisticsPending:!1,isResourcesStatisticsPopulated:!0})}).fail(function(e){n.set({resourcesStatisticsRequestTimestampMilliseconds:null,resourcesStatisticsRequestID:null,isResourcesStatisticsPending:!1,isResourcesStatisticsSupported:404!==e.status,resourcesStatisticsError:e.aborting?null:Vy(e,Object(Xn.default)("Unable to load statistics"))})})},qb["ui/serverDashboardPage/fetchTopUsers"]=function(e,t){void 0===t&&(t={});var n=yS(e),r=bo(e,t),i=n.get("topUsersRequestID");i&&Y.a.abort(i);var a=jb(r,t,sS);Object(No.a)(function(){n.set({topUsersRequestID:a.rid,isTopUsersPending:!0,isTopUsersPopulated:!1,topUsersError:null})}),a.done(function(e){n.set({topUsersStatistics:e.MediaContainer.StatisticsMedia||[],topUsersAccounts:e.MediaContainer.Account||[],topUsersRequestID:null,isTopUsersPending:!1,isTopUsersPopulated:!0})}).fail(function(e){n.set({topUsersRequestID:null,isTopUsersPending:!1,topUsersError:e.aborting?null:Vy(e,Object(Xn.default)("Unable to load statistics"))})})},qb["ui/serverDashboardPage/fetchPlayHistory"]=function(e,t){void 0===t&&(t={});var n=yS(e),r=bo(e,t),i=n.get("playHistoryRequestID");i&&Y.a.abort(i);var a=jb(r,t,sS);Object(No.a)(function(){n.set({playHistoryRequestID:a.rid,isPlayHistoryPending:!0,isPlayHistoryPopulated:!1,playHistoryError:null})}),a.done(function(e){n.set({playHistoryStatistics:e.MediaContainer.StatisticsMedia||[],playHistoryAccounts:e.MediaContainer.Account||[],playHistoryRequestID:null,isPlayHistoryPending:!1,isPlayHistoryPopulated:!0})}).fail(function(e){n.set({playHistoryRequestID:null,isPlayHistoryPending:!1,playHistoryError:e.aborting?null:Vy(e,Object(Xn.default)("Unable to load statistics"))})})},qb["ui/serverDashboardPage/fetchTopPlayed"]=function(e,t){void 0===t&&(t={});var n=yS(e),r=bo(e,t),i=n.get("topPlayedMoviesRequestID"),a=n.get("topPlayedTVRequestID"),o=n.get("topPlayedMusicRequestID");i&&Y.a.abort(i),a&&Y.a.abort(a),o&&Y.a.abort(o);var s=Ob(r,t,nr.g,sS),l=Ob(r,t,nr.l,sS),c=Ob(r,t,nr.b,sS);Object(No.a)(function(){n.set({topPlayedMoviesRequestID:s.rid,topPlayedTVRequestID:l.rid,topPlayedMusicRequestID:c.rid,isTopPlayedPending:!0,isTopPlayedPopulated:!1,topPlayedError:null})}),P.a.when(s,l,c).done(function(e,t,r){n.set({topPlayedMovies:e[0].MediaContainer.Metadata||[],topPlayedTV:t[0].MediaContainer.Metadata||[],topPlayedMusic:r[0].MediaContainer.Metadata||[],topPlayedMoviesRequestID:null,topPlayedTVRequestID:null,topPlayedMusicRequestID:null,isTopPlayedPending:!1,isTopPlayedPopulated:!0})}).fail(function(e){n.set({topPlayedMoviesRequestID:null,topPlayedTVRequestID:null,topPlayedMusicRequestID:null,isTopPlayedPending:!1,topPlayedError:e.aborting?null:Vy(e,Object(Xn.default)("Unable to load statistics"))})})},qb["ui/serverDashboardPage/stopServerSession"]=function(e,t){xb(function(e,t){var n=t.sessionEntityID;return mo(e,Er.o,n)}(e,t),t.message).fail(function(){yS(e).set("stopSessionErrorMessage",Object(Xn.default)("There was a problem stopping playback"))})},qb["ui/serverDashboardPage/dismissStopServerSessionError"]=function(e){yS(e).set("stopSessionErrorMessage",null)},qb),SS=n(786),IS=n.n(SS);var CS=function(e){var t=e.children;return hv()("div",{className:IS.a.section},void 0,t)},MS=null;function DS(){var e=document.activeElement;return e&&e.dataset&&e.dataset.uid||MS}var wS=0;var PS=function(){return"id-"+wS++};function TS(e,t){if(e===t)return!0;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty,a=0;a<n.length;a++)if(!i.call(t,n[a])||e[n[a]]!==t[n[a]])return!1;return!0}function ES(e,t,n,r,i){var a=i||TS,o=a(e.props,t);return o&&(o=a(e.state,n))&&r&&(o=a(e.context,r)),!o}var xS=n(75),OS=n(367),jS=n.n(OS),AS=Xf.a.createElement,NS=Xf.a.Component,kS=MS;xS.a&&window.addEventListener("blur",function(){kS=DS()});var LS=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTouchStart=function(e){r._isTouch=!0,r._preventFocus=r._shouldPreventFocus(),1===e.touches.length&&r._activate(!0),r.props.onTouchStart&&r.props.onTouchStart(e)},r.onTouchMove=function(e){r._activate(!1),r.props.onTouchMove&&r.props.onTouchMove(e)},r.onTouchEnd=function(e){var t=r.props,n=t.to,i=t.target,a=t.isDisabled,o=t.onTouchEnd;r._isActive&&!a&&(!n||i&&"_self"!==i||(e.preventDefault(),window.location.href=n),r._press(e)),r._activate(!1),o&&o(e)},r.onTouchCancel=function(e){r._isTouch=!1,r._activate(!1),r.props.onTouchCancel&&r.props.onTouchCancel(e)},r.onMouseDown=function(e){r._isTouch||(r._preventFocus=r._shouldPreventFocus(),0===e.button&&r._activate(!0),r.props.onMouseDown&&r.props.onMouseDown(e))},r.onMouseUp=function(e){if(!r._isTouch){var t=r.props,n=t.isDisabled,i=t.onMouseUp;r._isActive&&!n&&(r._press(e),r._preventOnClick=!0),r._activate(!1),i&&i(e)}},r.onMouseLeave=function(e){r._isTouch||(r._isActive&&r.setState({isActive:!1}),r.props.onMouseLeave&&r.props.onMouseLeave(e))},r.onClick=function(e){r._preventFocus=!1;var t=r.props.isDisabled;r._preventOnClick||r._isTouch||r._isActive||!r._isFocused||t||r._press(e),r._preventOnClick=!1,r._isTouch=!1},r.onFocus=function(e){r._preventFocus?r._preventFocus=!1:r._uid!==kS?(r._focus(!0),r.props.onFocus&&r.props.onFocus(e)):kS=MS},r.onBlur=function(e){r._focus(!1),r.props.onBlur&&r.props.onBlur(e)},r._preventFocus=!1,r._preventOnClick=!1,r._isTouch=!1,r._isActive=!1,r._isFocused=!1,r._uid=PS(),r.state={isActive:!1,isFocused:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n._activate=function(e){this._isActive=e,this.setState({isActive:e})},n._focus=function(e){this._isFocused=e,this.setState({isFocused:e})},n._shouldPreventFocus=function(){return!this.props.allowFocusOnPress&&!(DS()===this._uid)},n._press=function(e){var t=this.props.onPress;t&&t(e)},n.render=function(){var e=this.props,t=e.className,n=e.to,r=e.kind,i=e.size,a=e.isSelected,o=e.isDisabled,s=e.component,l=(e.allowFocusOnPress,e.role),c=(e.onPress,wt()(e,["className","to","kind","size","isSelected","isDisabled","component","allowFocusOnPress","role","onPress"])),u=this.state,d=u.isActive,p=u.isFocused,h={"data-uid":this._uid},f=s;return n&&(f="a",h.href=n),h.role=l||(n?"link":"button"),h.className=(t||"")+" "+(jS.a.link||"")+" "+(jS.a[r]||"")+" "+(i&&jS.a[i]||"")+" "+(a&&jS.a.isSelected||"")+" "+(d?"isActive":"")+" "+(p?"isFocused":"")+" "+(o?"isDisabled":""),"button"!==f&&"input"!==f||(h.type=c.type||"button",h.disabled=o),AS(f,Object.assign({},c,h,{onTouchStart:this.onTouchStart,onTouchMove:this.onTouchMove,onTouchEnd:this.onTouchEnd,onTouchCancel:this.onTouchCancel,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onClick:this.onClick,onFocus:this.onFocus,onBlur:this.onBlur}))},t}(NS);LS.defaultProps={component:"button",kind:Vp,isSelected:!1,isDisabled:!1,allowFocusOnPress:!1};var RS=LS;function _S(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-remove-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m120 70l-50 50 160 160-160 160 50 50 160-160 160 160 50-50-160-160 160-160-50-50-160 160-160-160"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}_S.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var US=_S,zS=n(787),FS=n.n(zS),BS=n(788),HS=n.n(BS),VS=n(219),QS=n.n(VS),WS=hv()(US,{});var GS=function(e){var t=e.onDismissPress;return hv()("div",{className:QS.a.upsell},void 0,hv()("div",{className:QS.a.description},void 0,Object(Xn.default)("Want more data? Get stats like top users, what's popular, and bandwidth usage with the new server Dashboard for Plex Pass holders!")+" ",hv()(RS,{kind:Qp,to:"https://www.plex.tv/plex-pass",target:"_blank"},void 0,Object(Xn.default)("Learn more"))),hv()("div",{className:QS.a.chartImageContainer},void 0,hv()("img",{className:QS.a.image,src:FS.a})),hv()("div",{className:QS.a.listImageContainer},void 0,hv()("img",{className:QS.a.image,src:HS.a})),hv()(RS,{className:QS.a.button,onPress:t},void 0,WS))},YS=Lm(null,{onDismissPress:cS})(GS),KS=Object(Iy.createSelectorCreator)(Iy.defaultMemoize,TS);function qS(e){return e?{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,allowSync:e.allowSync,allowMediaDeletion:e.allowMediaDeletion,backgroundProcessing:e.backgroundProcessing,transcoderVideo:e.transcoderVideo,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isFullServer:e.isFullServer,isFullOwnedServer:e.isFullOwnedServer,isCloud:e.isCloud,livetv:e.livetv,ownerId:e.ownerId}:null}var ZS={};function XS(e,t){var n=t.serverEntityID,r=ZS[n];return r||(r=KS(Object(Iy.createSelector)(function(e,t){return e.entities.servers[t]},qS),function(e){return e}),ZS[n]=r),r(e,n)}var JS=n(581),$S=n.n(JS);var eI=function(e){var t=e.children,n=e.title;return hv()("div",{className:$S.a.header},void 0,hv()("div",{className:$S.a.headerTitle},void 0,n),t)},tI=n(582),nI=n.n(tI);function rI(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,hv()("div",{className:nI.a.message},void 0,n))}rI.defaultProps={className:nI.a.container};var iI=rI,aI=n(583),oI=n.n(aI);function sI(e){var t=e.className,n=e.children,r=e.machineIdentifier;return hv()("div",{className:t},void 0,hv()(iI,{},void 0,hv()(RS,{className:oI.a.link,to:Rc(r,"settings","general")},void 0,n)))}sI.defaultProps={className:oI.a.container};var lI=sI,cI=n(368),uI=n.n(cI),dI=Xf.a.createElement;function pI(e){var t=e.className,n=e.children,r=e.kind,i=e.isDisabled,a=e.isHidden,o=wt()(e,["className","children","kind","isDisabled","isHidden"]);return dI(RS,dv()({className:(t||"")+" "+(uI.a.menuItem||"")+" "+(uI.a[r]||"")+" "+(i&&uI.a.isDisabled||"")+" "+(a&&uI.a.isHidden||""),"data-qa-id":"dropdownItem",role:"menuitem"},o),n)}pI.defaultProps={kind:Vp,isDisabled:!1};var hI=pI,fI=n(301),gI=n.n(fI),vI=Xf.a.createElement,mI=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){var n=t.props,r=n.value,i=n.onSelect,a=n.onPress;i&&i(r),a&&a(e)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.className,r=e.menuLabelClassName,i=e.iconComponent,a=e.isSelected,o=e.selectedIconAriaLabel,s=wt()(e,["children","className","menuLabelClassName","iconComponent","isSelected","selectedIconAriaLabel"]);return vI(hI,dv()({className:(n||"")+" "+(a&&gI.a.isSelected||"")},s,{onPress:this.onPress}),hv()("div",{className:gI.a.menuItemContainer},void 0,hv()("div",{className:r},void 0,t),a?hv()("div",{className:gI.a.selectedIcon},void 0,hv()(i,{"aria-label":o})):null))},t}(Xf.a.Component);mI.defaultProps={className:gI.a.menuItemContainer,menuLabelClassName:gI.a.menuLabel};var yI=mI;function bI(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-selected-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m78.756 298.564l-40 69.282 242.488 140 240-415.692-69.282-40-200 346.41-173.206-100"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}bI.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var SI=bI,II=Xf.a.createElement;function CI(e){return II(yI,dv()({},e,{selectedIconAriaLabel:Object(Xn.default)("Selected")}))}CI.defaultProps={iconComponent:SI};var MI=CI,DI=n(302),wI=n.n(DI);function PI(e){var t=e.className,n=e.kind,r=e.size,i=e.direction,a=e.isSelected;return hv()("div",{className:(t||"")+" "+(wI.a[i]||"")+" "+(wI.a[n]||"")+" "+(wI.a[r]||"")+" "+(a&&wI.a.isSelected||"")})}PI.defaultProps={className:wI.a.disclosureArrow,direction:Fp,kind:Vp,size:qp.MEDIUM,isSelected:!1};var TI=PI,EI=n(253),xI=n.n(EI),OI=Xf.a.createElement,jI=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.arrowClassName,r=e.children,i=e.direction,a=e.kind,o=e.size,s=e.isSelected,l=wt()(e,["className","arrowClassName","children","direction","kind","size","isSelected"]),c=o||qp.MEDIUM;return OI(RS,dv()({className:(t||"")+" "+(xI.a[c]||"")+" "+(s&&xI.a.isSelected||""),"aria-haspopup":!0,kind:a,size:o,isSelected:s},l),r,hv()(TI,{className:(n||"")+" "+(xI.a[i]||"")+" "+(xI.a[c]||""),direction:i,kind:a,size:c,isSelected:s}))},t}(Xf.a.Component);jI.defaultProps={className:xI.a.disclosureArrowButton,arrowClassName:xI.a.disclosureArrow,direction:Fp,isSelected:!0};var AI=jI,NI=function(e,t){return(NI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])})(e,t)};
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function kI(e,t){function n(){this.constructor=e}NI(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var LI=function(){return(LI=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function RI(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var _I=function(){return(_I=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},UI=function(e,t){return function(n){return Math.max(Math.min(n,t),e)}},zI=function(e){return e%1?Number(e.toFixed(5)):e},FI=/(-)?(\d[\d\.]*)/g,BI=/(#[0-9a-f]{6}|#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,HI=/^(#[0-9a-f]{3}|#(?:[0-9a-f]{2}){2,4}|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))$/i,VI={test:function(e){return"number"==typeof e},parse:parseFloat,transform:function(e){return e}},QI=_I({},VI,{transform:UI(0,1)}),WI=_I({},VI,{default:1}),GI=function(e){return{test:function(t){return"string"==typeof t&&t.endsWith(e)&&1===t.split(" ").length},parse:parseFloat,transform:function(t){return""+t+e}}},YI=GI("deg"),KI=GI("%"),qI=GI("px"),ZI=GI("vh"),XI=GI("vw"),JI=_I({},KI,{parse:function(e){return KI.parse(e)/100},transform:function(e){return KI.transform(100*e)}}),$I=UI(0,255),eC=function(e){return void 0!==e.red},tC=function(e){return void 0!==e.hue},nC=function(e){return function(t){if("string"!=typeof t)return t;for(var n,r={},i=(n=t,n.substring(n.indexOf("(")+1,n.lastIndexOf(")"))).split(/,\s*/),a=0;a<4;a++)r[e[a]]=void 0!==i[a]?parseFloat(i[a]):1;return r}},rC=_I({},VI,{transform:function(e){return Math.round($I(e))}});function iC(e,t){return e.startsWith(t)&&HI.test(e)}var aC={test:function(e){return"string"==typeof e?iC(e,"rgb"):eC(e)},parse:nC(["red","green","blue","alpha"]),transform:function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return function(e){var t=e.red,n=e.green,r=e.blue,i=e.alpha;return"rgba("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({red:rC.transform(t),green:rC.transform(n),blue:rC.transform(r),alpha:zI(i)})}},oC={test:function(e){return"string"==typeof e?iC(e,"hsl"):tC(e)},parse:nC(["hue","saturation","lightness","alpha"]),transform:function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return function(e){var t=e.hue,n=e.saturation,r=e.lightness,i=e.alpha;return"hsla("+t+", "+n+", "+r+", "+(void 0===i?1:i)+")"}({hue:Math.round(t),saturation:KI.transform(zI(n)),lightness:KI.transform(zI(r)),alpha:zI(i)})}},sC=_I({},aC,{test:function(e){return"string"==typeof e&&iC(e,"#")},parse:function(e){var t="",n="",r="";return e.length>4?(t=e.substr(1,2),n=e.substr(3,2),r=e.substr(5,2)):(t=e.substr(1,1),n=e.substr(2,1),r=e.substr(3,1),t+=t,n+=n,r+=r),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:1}}}),lC={test:function(e){return"string"==typeof e&&HI.test(e)||eC(e)||tC(e)},parse:function(e){return aC.test(e)?aC.parse(e):oC.test(e)?oC.parse(e):sC.test(e)?sC.parse(e):e},transform:function(e){return eC(e)?aC.transform(e):tC(e)?oC.transform(e):e}},cC=function(e){return"number"==typeof e?0:e},uC={test:function(e){if("string"!=typeof e||!isNaN(e))return!1;var t=0,n=e.match(FI),r=e.match(BI);return n&&(t+=n.length),r&&(t+=r.length),t>0},parse:function(e){var t=e,n=[],r=t.match(BI);r&&(t=t.replace(BI,"${c}"),n.push.apply(n,r.map(lC.parse)));var i=t.match(FI);return i&&n.push.apply(n,i.map(VI.parse)),n},createTransformer:function(e){var t=e,n=0,r=e.match(BI),i=r?r.length:0;if(r)for(var a=0;a<i;a++)t=t.replace(r[a],"${c}"),n++;var o=t.match(FI),s=o?o.length:0;if(o)for(a=0;a<s;a++)t=t.replace(o[a],"${n}"),n++;return function(e){for(var r=t,a=0;a<n;a++)r=r.replace(a<i?"${c}":"${n}",a<i?lC.transform(e[a]):zI(e[a]));return r}},getAnimatableNone:function(e){var t=uC.parse(e);return uC.createTransformer(e)(t.map(cC))}},dC=function(){},pC=function(){};var hC,fC=0,gC="undefined"!=typeof window&&void 0!==window.requestAnimationFrame?function(e){return window.requestAnimationFrame(e)}:function(e){var t=Date.now(),n=Math.max(0,16.7-(t-fC));fC=t+n,setTimeout(function(){return e(fC)},n)};!function(e){e.Read="read",e.Update="update",e.Render="render",e.PostRender="postRender",e.FixedUpdate="fixedUpdate"}(hC||(hC={}));var vC=1/60*1e3,mC=!0,yC=!1,bC=!1,SC={delta:0,timestamp:0},IC=[hC.Read,hC.Update,hC.Render,hC.PostRender],CC=function(e){return yC=e},MC=IC.reduce(function(e,t){var n,r,i,a,o,s,l,c,u,d=(n=CC,r=[],i=[],a=0,o=!1,s=0,l=new WeakSet,c=new WeakSet,u={cancel:function(e){var t=i.indexOf(e);l.add(e),-1!==t&&i.splice(t,1)},process:function(e){var t,d;if(o=!0,r=(t=[i,r])[0],(i=t[1]).length=0,a=r.length)for(s=0;s<a;s++)(d=r[s])(e),!0!==c.has(d)||l.has(d)||(u.schedule(d),n(!0));o=!1},schedule:function(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!1),pC("function"==typeof e,"Argument must be a function");var s=n&&o,u=s?r:i;l.delete(e),t&&c.add(e),-1===u.indexOf(e)&&(u.push(e),s&&(a=r.length))}});return e.sync[t]=function(e,t,n){return void 0===t&&(t=!1),void 0===n&&(n=!1),yC||xC(),d.schedule(e,t,n),e},e.cancelSync[t]=function(e){return d.cancel(e)},e.steps[t]=d,e},{steps:{},sync:{},cancelSync:{}}),DC=MC.steps,wC=MC.sync,PC=MC.cancelSync,TC=function(e){return DC[e].process(SC)},EC=function(e){yC=!1,SC.delta=mC?vC:Math.max(Math.min(e-SC.timestamp,40),1),mC||(vC=SC.delta),SC.timestamp=e,bC=!0,IC.forEach(TC),bC=!1,yC&&(mC=!1,gC(EC))},xC=function(){yC=!0,mC=!0,bC||gC(EC)},OC=function(){return SC},jC=wC,AC=function(e){return function(t){return 1-e(1-t)}},NC=function(e){return function(t){return t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2}},kC=function(e){return function(t){return t*t*((e+1)*t-e)}},LC=function(e){var t=kC(e);return function(e){return(e*=2)<1?.5*t(e):.5*(2-Math.pow(2,-10*(e-1)))}},RC=function(e){return e},_C=function(e){return function(t){return Math.pow(t,e)}}(2),UC=AC(_C),zC=NC(_C),FC=function(e){return 1-Math.sin(Math.acos(e))},BC=AC(FC),HC=NC(BC),VC=kC(1.525),QC=AC(VC),WC=NC(VC),GC=LC(1.525),YC=8,KC=.001,qC=1e-7,ZC=10,XC=11,JC=1/(XC-1),$C="undefined"!=typeof Float32Array,eM=function(e,t){return 1-3*t+3*e},tM=function(e,t){return 3*t-6*e},nM=function(e){return 3*e},rM=function(e,t,n){return 3*eM(t,n)*e*e+2*tM(t,n)*e+nM(t)},iM=function(e,t,n){return((eM(t,n)*e+tM(t,n))*e+nM(t))*e};function aM(e,t,n,r){var i=$C?new Float32Array(XC):new Array(XC),a=function(t){for(var r,a,o,s=0,l=1,c=XC-1;l!==c&&i[l]<=t;++l)s+=JC;return r=(t-i[--l])/(i[l+1]-i[l]),(o=rM(a=s+r*JC,e,n))>=KC?function(t,r){for(var i=0,a=0;i<YC;++i){if(0===(a=rM(r,e,n)))return r;r-=(iM(r,e,n)-t)/a}return r}(t,a):0===o?a:function(t,r,i){var a,o,s=0;do{(a=iM(o=r+(i-r)/2,e,n)-t)>0?i=o:r=o}while(Math.abs(a)>qC&&++s<ZC);return o}(t,s,s+JC)};!function(){for(var t=0;t<XC;++t)i[t]=iM(t*JC,e,n)}();return function(i){return e===t&&n===r?i:0===i?0:1===i?1:iM(a(i),t,r)}}var oM={x:0,y:0,z:0},sM=function(e){return"number"==typeof e},lM=function(e){return 180*e/Math.PI},cM=function(e,t){return void 0===t&&(t=oM),lM(Math.atan2(t.y-e.y,t.x-e.x))},uM=function(e,t){var n=!0;return void 0===t&&(t=e,n=!1),function(r){return n?r-e+t:(e=r,n=!0,t)}},dM=function(e){return function(t,n,r){return void 0!==r?e(t,n,r):function(r){return e(t,n,r)}}},pM=dM(function(e,t,n){return Math.min(Math.max(n,e),t)}),hM=function(e){return e.hasOwnProperty("x")&&e.hasOwnProperty("y")},fM=function(e){return hM(e)&&e.hasOwnProperty("z")},gM=function(e,t){return Math.abs(e-t)},vM=function(e,t){if(void 0===t&&(t=oM),sM(e)&&sM(t))return gM(e,t);if(hM(e)&&hM(t)){var n=gM(e.x,t.x),r=gM(e.y,t.y),i=fM(e)&&fM(t)?gM(e.z,t.z):0;return Math.sqrt(Math.pow(n,2)+Math.pow(r,2)+Math.pow(i,2))}return 0},mM=function(e,t,n){var r=t-e;return 0===r?1:(n-e)/r},yM=function(e,t,n){return-n*e+n*t+e},bM=function(){return(bM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},SM=function(e,t,n){var r=e*e,i=t*t;return Math.sqrt(Math.max(0,n*(i-r)+r))},IM=[sC,aC,oC],CM=function(e){return IM.find(function(t){return t.test(e)})},MM=function(e){return"'"+e+"' is not an animatable color. Use the equivalent color code instead."},DM=function(e,t){var n=CM(e),r=CM(t);pC(!!n,MM(e)),pC(!!r,MM(t)),pC(n.transform===r.transform,"Both colors must be hex/RGBA, OR both must be HSLA.");var i=n.parse(e),a=r.parse(t),o=bM({},i),s=n===oC?yM:SM;return function(e){for(var t in o)"alpha"!==t&&(o[t]=s(i[t],a[t],e));return o.alpha=yM(i.alpha,a.alpha,e),n.transform(o)}},wM=function(e,t){return function(n){return t(e(n))}},PM=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return e.reduce(wM)};function TM(e,t){return sM(e)?function(n){return yM(e,t,n)}:lC.test(e)?DM(e,t):jM(e,t)}var EM=function(e,t){var n=e.slice(),r=n.length,i=e.map(function(e,n){return TM(e,t[n])});return function(e){for(var t=0;t<r;t++)n[t]=i[t](e);return n}},xM=function(e,t){var n=bM({},e,t),r={};for(var i in n)void 0!==e[i]&&void 0!==t[i]&&(r[i]=TM(e[i],t[i]));return function(e){for(var t in r)n[t]=r[t](e);return n}};function OM(e){for(var t=uC.parse(e),n=t.length,r=0,i=0,a=0,o=0;o<n;o++)r||"number"==typeof t[o]?r++:void 0!==t[o].hue?a++:i++;return{parsed:t,numNumbers:r,numRGB:i,numHSL:a}}var jM=function(e,t){var n=uC.createTransformer(t),r=OM(e),i=OM(t);return pC(r.numHSL===i.numHSL&&r.numRGB===i.numRGB&&r.numNumbers>=i.numNumbers,"Complex values '"+e+"' and '"+t+"' too different to mix. Ensure all colors are of the same type."),PM(EM(r.parsed,i.parsed),n)},AM=function(e,t){return function(n){return yM(e,t,n)}};function NM(e,t,n){for(var r,i=[],a=n||("number"==typeof(r=e[0])?AM:"string"==typeof r?lC.test(r)?DM:jM:Array.isArray(r)?EM:"object"==typeof r?xM:void 0),o=e.length-1,s=0;s<o;s++){var l=a(e[s],e[s+1]);if(t){var c=Array.isArray(t)?t[s]:t;l=PM(c,l)}i.push(l)}return i}var kM=function(e,t,n,r){return void 0===r&&(r=0),i=e+n*(t-e)/Math.max(r,n),void 0===a&&(a=2),a=Math.pow(10,a),Math.round(i*a)/a;var i,a},LM=function(e){return e},RM=function(e){return void 0===e&&(e=LM),dM(function(t,n,r){var i=n-r,a=-(0-t+1)*(0-e(Math.abs(i)));return i<=0?n+a:n-a})},_M=RM(),UM=RM(Math.sqrt),zM=function(e,t){return sM(e)?e/(1e3/t):0},FM=function(e,t){return t?e*(1e3/t):0},BM=dM(function(e,t,n){var r=t-e;return((n-e)%r+r)%r+e}),HM=(pM(0,1),function(){return(HM=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)});function VM(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}var QM,WM=function(e){var t=e.onRead,n=e.onRender,r=e.uncachedValues,i=void 0===r?new Set:r,a=e.useCache,o=void 0===a||a;return function(e){void 0===e&&(e={});var r=VM(e,[]),a={},s=[],l=!1;function c(e,t){e.startsWith("--")&&(r.hasCSSVariable=!0);var n=a[e];a[e]=t,a[e]!==n&&(-1===s.indexOf(e)&&s.push(e),l||(l=!0,jC.render(u.render)))}var u={get:function(e,n){return void 0===n&&(n=!1),!n&&o&&!i.has(e)&&void 0!==a[e]?a[e]:t(e,r)},set:function(e,t){if("string"==typeof e)c(e,t);else for(var n in e)c(n,e[n]);return this},render:function(e){return void 0===e&&(e=!1),(l||!0===e)&&(n(a,r,s),l=!1,s.length=0),this}};return u}},GM=/([a-z])([A-Z])/g,YM=function(e){return e.replace(GM,"$1-$2").toLowerCase()},KM=new Map,qM=new Map,ZM=["Webkit","Moz","O","ms",""],XM=ZM.length,JM="undefined"!=typeof document,$M=function(e,t){return qM.set(e,YM(t))},eD=function(e,t){void 0===t&&(t=!1);var n=t?qM:KM;return n.has(e)||(JM?function(e){QM=QM||document.createElement("div");for(var t=0;t<XM;t++){var n=ZM[t],r=""===n,i=r?e:n+e.charAt(0).toUpperCase()+e.slice(1);(i in QM.style||r)&&(KM.set(e,i),$M(e,(r?"":"-")+YM(i)))}}(e):function(e){$M(e,e)}(e)),n.get(e)||e},tD=["","X","Y","Z"],nD=["scale","rotate","skew","transformPerspective"].reduce(function(e,t){return tD.reduce(function(e,n){return e.push(t+n),e},e)},["x","y","z"]),rD=nD.reduce(function(e,t){return e[t]=!0,e},{});function iD(e){return!0===rD[e]}function aD(e,t){return nD.indexOf(e)-nD.indexOf(t)}var oD=new Set(["originX","originY","originZ"]);function sD(e){return oD.has(e)}var lD=HM({},VI,{transform:Math.round}),cD={color:lC,backgroundColor:lC,outlineColor:lC,fill:lC,stroke:lC,borderColor:lC,borderTopColor:lC,borderRightColor:lC,borderBottomColor:lC,borderLeftColor:lC,borderWidth:qI,borderTopWidth:qI,borderRightWidth:qI,borderBottomWidth:qI,borderLeftWidth:qI,borderRadius:qI,radius:qI,borderTopLeftRadius:qI,borderTopRightRadius:qI,borderBottomRightRadius:qI,borderBottomLeftRadius:qI,width:qI,maxWidth:qI,height:qI,maxHeight:qI,size:qI,top:qI,right:qI,bottom:qI,left:qI,padding:qI,paddingTop:qI,paddingRight:qI,paddingBottom:qI,paddingLeft:qI,margin:qI,marginTop:qI,marginRight:qI,marginBottom:qI,marginLeft:qI,rotate:YI,rotateX:YI,rotateY:YI,rotateZ:YI,scale:WI,scaleX:WI,scaleY:WI,scaleZ:WI,skew:YI,skewX:YI,skewY:YI,distance:qI,x:qI,y:qI,z:qI,perspective:qI,opacity:QI,originX:JI,originY:JI,originZ:qI,zIndex:lD},uD=function(e){return cD[e]},dD=function(e,t){return t&&"number"==typeof e?t.transform(e):e},pD="scrollLeft",hD="scrollTop",fD=new Set([pD,hD]),gD=new Set([pD,hD,"transform"]),vD={x:"translateX",y:"translateY",z:"translateZ"};function mD(e){return"function"==typeof e}function yD(e,t,n,r,i,a,o){void 0===t&&(t=!0),void 0===n&&(n={}),void 0===r&&(r={}),void 0===i&&(i={}),void 0===a&&(a=[]),void 0===o&&(o=!1);var s=!0,l=!1,c=!1;for(var u in e){var d=e[u],p=uD(u),h=dD(d,p);iD(u)?(l=!0,r[u]=h,a.push(u),s&&(p.default&&d!==p.default||!p.default&&0!==d)&&(s=!1)):sD(u)?(i[u]=h,c=!0):gD.has(u)&&mD(h)||(n[eD(u,o)]=h)}return(l||"function"==typeof e.transform)&&(n.transform=function(e,t,n,r,i){var a="",o=!1;n.sort(aD);for(var s=n.length,l=0;l<s;l++){var c=n[l];a+=(vD[c]||c)+"("+t[c]+") ",o="z"===c||o}return!o&&i?a+="translateZ(0)":a=a.trim(),mD(e.transform)?a=e.transform(t,a):r&&(a="none"),a}(e,r,a,s,t)),c&&(n.transformOrigin=(i.originX||0)+" "+(i.originY||0)+" "+(i.originZ||0)),n}function bD(e){void 0===e&&(e=!0);var t={},n={},r={},i=[];return function(a){return i.length=0,yD(a,e,t,n,r,i,!0),t}}var SD=WM({onRead:function(e,t){var n=t.element,r=t.preparseOutput,i=uD(e);if(iD(e))return i&&i.default||0;if(fD.has(e))return n[e];var a=window.getComputedStyle(n,null).getPropertyValue(eD(e,!0))||0;return r&&i&&i.test(a)&&i.parse?i.parse(a):a},onRender:function(e,t,n){var r=t.element,i=t.buildStyles,a=t.hasCSSVariable;if(Object.assign(r.style,i(e)),a)for(var o=n.length,s=0;s<o;s++){var l=n[s];l.startsWith("--")&&r.style.setProperty(l,e[l])}-1!==n.indexOf(pD)&&(r[pD]=e[pD]),-1!==n.indexOf(hD)&&(r[hD]=e[hD])},uncachedValues:fD});var ID=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues"]),CD=function(e,t){return e*t+"px"},MD=HM({},VI,{transform:Math.round}),DD={fill:lC,stroke:lC,scale:WI,scaleX:WI,scaleY:WI,opacity:QI,fillOpacity:QI,strokeOpacity:QI,numOctaves:MD},wD=WM({onRead:function(e,t){var n=t.element;if(iD(e)){var r=function(e){return DD[e]}(e);return r?r.default:0}return n.getAttribute(e)},onRender:function(e,t){var n=t.dimensions;!function(e,t){for(var n in t)t.hasOwnProperty(n)&&e.setAttribute(n,t[n])}(t.element,function(e,t,n,r){var i=!1,a=!1,o={},s=n?{pathLength:"0",pathSpacing:""+r}:void 0,l=void 0!==e.scale?e.scale||1e-7:e.scaleX||1,c=void 0!==e.scaleY?e.scaleY||1e-7:l||1,u=t.width*(e.originX||50)+t.x,d=t.height*(e.originY||50)+t.y,p=1*l*-u,h=1*c*-d,f=u/l,g=d/c,v={translate:"translate("+e.x+", "+e.y+") ",scale:"translate("+p+", "+h+") scale("+l+", "+c+") translate("+f+", "+g+") ",rotate:"rotate("+e.rotate+", "+u+", "+d+") ",skewX:"skewX("+e.skewX+") ",skewY:"skewY("+e.skewY+") "};for(var m in e)if(e.hasOwnProperty(m)){var y=e[m];iD(m)?i=!0:!n||"pathLength"!==m&&"pathSpacing"!==m||"number"!=typeof y?n&&"pathOffset"===m?o["stroke-dashoffset"]=CD(-y,r):o[ID.has(m)?m:YM(m)]=y:(a=!0,s[m]=CD(y,r))}if(a&&(o["stroke-dasharray"]=s.pathLength+" "+s.pathSpacing),i)for(var m in o.transform="",v)if(v.hasOwnProperty(m)){var b="scale"===m?"1":"0";o.transform+=v[m].replace(/undefined/g,b)}return o}(e,n,t.isPath,t.pathLength))}}),PD=WM({useCache:!1,onRead:function(e){return"scrollTop"===e?window.pageYOffset:window.pageXOffset},onRender:function(e){var t=e.scrollTop,n=void 0===t?0:t,r=e.scrollLeft,i=void 0===r?0:r;return window.scrollTo(i,n)}}),TD=new WeakMap,ED=function(e,t){var n;return e instanceof HTMLElement?n=function(e,t){void 0===t&&(t={});var n=t.enableHardwareAcceleration,r=VM(t,["enableHardwareAcceleration"]);return SD(HM({element:e,buildStyles:bD(n),preparseOutput:!0},r))}(e,t):e instanceof SVGElement?n=function(e){var t=function(e){try{return function(e){return"function"==typeof e.getBBox?e.getBBox():e.getBoundingClientRect()}(e)}catch(e){return{x:0,y:0,width:0,height:0}}}(e),n={element:e,dimensions:t,isPath:!1};return"path"===e.tagName&&(n.isPath=!0,n.pathLength=e.getTotalLength()),wD(n)}(e):e===window&&(n=PD(e)),pC(void 0!==n,"No valid node provided. Node must be HTMLElement, SVGElement or window."),TD.set(e,n),n},xD=function(e,t){return TD.has(e)?TD.get(e):ED(e,t)};var OD=function(e,t){var n="string"==typeof e?document.querySelector(e):e;return xD(n,t)},jD=function(){function e(e){void 0===e&&(e={}),this.props=e}return e.prototype.applyMiddleware=function(e){return this.create(LI({},this.props,{middleware:this.props.middleware?[e].concat(this.props.middleware):[e]}))},e.prototype.pipe=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=1===e.length?e[0]:PM.apply(void 0,e);return this.applyMiddleware(function(e){return function(t){return e(n(t))}})},e.prototype.while=function(e){return this.applyMiddleware(function(t,n){return function(r){return e(r)?t(r):n()}})},e.prototype.filter=function(e){return this.applyMiddleware(function(t){return function(n){return e(n)&&t(n)}})},e}(),AD=function(){return function(e,t){var n=e.middleware,r=e.onComplete,i=this;this.isActive=!0,this.update=function(e){i.observer.update&&i.updateObserver(e)},this.complete=function(){i.observer.complete&&i.isActive&&i.observer.complete(),i.onComplete&&i.onComplete(),i.isActive=!1},this.error=function(e){i.observer.error&&i.isActive&&i.observer.error(e),i.isActive=!1},this.observer=t,this.updateObserver=function(e){return t.update(e)},this.onComplete=r,t.update&&n&&n.length&&n.forEach(function(e){return i.updateObserver=e(i.updateObserver,i.complete)})}}(),ND=function(e,t,n){var r=t.middleware;return new AD({middleware:r,onComplete:n},"function"==typeof e?{update:e}:e)},kD=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kI(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.start=function(e){void 0===e&&(e={});var t=!1,n={stop:function(){}},r=this.props,i=r.init,a=RI(r,["init"]),o=i(ND(e,a,function(){t=!0,n.stop()}));return n=o?LI({},n,o):n,e.registerParent&&e.registerParent(n),t&&n.stop(),n},t}(jD),LD=function(e){return new kD({init:e})},RD=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.subscribers=[],t}return kI(t,e),t.prototype.complete=function(){this.subscribers.forEach(function(e){return e.complete()})},t.prototype.error=function(e){this.subscribers.forEach(function(t){return t.error(e)})},t.prototype.update=function(e){for(var t=0;t<this.subscribers.length;t++)this.subscribers[t].update(e)},t.prototype.subscribe=function(e){var t=this,n=ND(e,this.props);return this.subscribers.push(n),{unsubscribe:function(){var e=t.subscribers.indexOf(n);-1!==e&&t.subscribers.splice(e,1)}}},t.prototype.stop=function(){this.parent&&this.parent.stop()},t.prototype.registerParent=function(e){this.stop(),this.parent=e},t}(jD),_D=function(e,t){var n=1/(e-1),r=1/(2*(e-1)),i=Math.min(t,1)/r;return Math.floor((i+1)/2)*n},UD=function(e){return Array.isArray(e)},zD=function(e){var t=typeof e;return"string"===t||"number"===t},FD=function(e){function t(t){var n=e.call(this,t)||this;return n.scheduleVelocityCheck=function(){return jC.postRender(n.velocityCheck)},n.velocityCheck=function(e){e.timestamp!==n.lastUpdated&&(n.prev=n.current)},n.prev=n.current=t.value||0,zD(n.current)?(n.updateCurrent=function(e){return n.current=e},n.getVelocityOfCurrent=function(){return n.getSingleVelocity(n.current,n.prev)}):UD(n.current)?(n.updateCurrent=function(e){return n.current=e.slice()},n.getVelocityOfCurrent=function(){return n.getListVelocity()}):(n.updateCurrent=function(e){for(var t in n.current={},e)e.hasOwnProperty(t)&&(n.current[t]=e[t])},n.getVelocityOfCurrent=function(){return n.getMapVelocity()}),t.initialSubscription&&n.subscribe(t.initialSubscription),n}return kI(t,e),t.prototype.create=function(e){return new t(e)},t.prototype.get=function(){return this.current},t.prototype.getVelocity=function(){return this.getVelocityOfCurrent()},t.prototype.update=function(t){e.prototype.update.call(this,t),this.prev=this.current,this.updateCurrent(t);var n=OC(),r=n.delta,i=n.timestamp;this.timeDelta=r,this.lastUpdated=i,jC.postRender(this.scheduleVelocityCheck)},t.prototype.subscribe=function(t){var n=e.prototype.subscribe.call(this,t);return this.subscribers[this.subscribers.length-1].update(this.current),n},t.prototype.getSingleVelocity=function(e,t){return"number"==typeof e&&"number"==typeof t?FM(e-t,this.timeDelta):FM(parseFloat(e)-parseFloat(t),this.timeDelta)||0},t.prototype.getListVelocity=function(){var e=this;return this.current.map(function(t,n){return e.getSingleVelocity(t,e.prev[n])})},t.prototype.getMapVelocity=function(){var e={};for(var t in this.current)this.current.hasOwnProperty(t)&&(e[t]=this.getSingleVelocity(this.current[t],this.prev[t]));return e},t}(RD),BD=function(e,t){return new FD({value:e,initialSubscription:t})},HD=function(e){var t=e.getCount,n=e.getFirst,r=e.getOutput,i=e.mapApi,a=e.setProp,o=e.startActions;return function(e){return LD(function(s){var l=s.update,c=s.complete,u=s.error,d=t(e),p=r(),h=function(){return l(p)},f=0,g=o(e,function(e,t){var n=!1;return e.start({complete:function(){n||(n=!0,++f===d&&jC.update(c))},error:u,update:function(e){a(p,t,e),jC.update(h,!1,!0)}})});return Object.keys(n(g)).reduce(function(e,t){return e[t]=i(g,t),e},{})})}},VD=HD({getOutput:function(){return{}},getCount:function(e){return Object.keys(e).length},getFirst:function(e){return e[Object.keys(e)[0]]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return Object.keys(e).reduce(function(r,i){var a;return e[i][t]&&(n[0]&&void 0!==n[0][i]?r[i]=e[i][t](n[0][i]):r[i]=(a=e[i])[t].apply(a,n)),r},{})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return Object.keys(e).reduce(function(n,r){return n[r]=t(e[r],r),n},{})}}),QD=HD({getOutput:function(){return[]},getCount:function(e){return e.length},getFirst:function(e){return e[0]},mapApi:function(e,t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return e.map(function(e,r){if(e[t])return Array.isArray(n[0])?e[t](n[0][r]):e[t].apply(e,n)})}},setProp:function(e,t,n){return e[t]=n},startActions:function(e,t){return e.map(function(e,n){return t(e,n)})}}),WD=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return QD(e)},GD=[qI,KI,YI,ZI,XI],YD=function(e){return GD.find(function(t){return t.test(e)})},KD=function(e,t){return e(t)},qD=function(e,t,n){var r=n[0],i=t[r].map(function(r,i){var a=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(i),LI({},t));return nw(r)(e,a)});return WD.apply(void 0,i)},ZD=function(e,t,n){var r=n[0],i=Object.keys(t[r]).reduce(function(i,a){var o=n.reduce(function(e){return function(t,n){return t[n]=t[n][e],t}}(a),LI({},t));return i[a]=nw(t[r][a])(e,o),i},{});return VD(i)},XD=function(e,t){var n=t.from,r=t.to,i=RI(t,["from","to"]),a=YD(n)||YD(r),o=a.transform,s=a.parse;return e(LI({},i,{from:"string"==typeof n?s(n):n,to:"string"==typeof r?s(r):r})).pipe(o)},JD=function(e){return function(t,n){var r=n.from,i=n.to,a=RI(n,["from","to"]);return t(LI({},a,{from:0,to:1})).pipe(e(r,i))}},$D=JD(DM),ew=JD(jM),tw=function(e,t){var n=function(e){var t=Object.keys(e),n=function(t,n){return void 0!==t&&!e[n](t)};return{getVectorKeys:function(e){return t.reduce(function(t,r){return n(e[r],r)&&t.push(r),t},[])},testVectorProps:function(e){return e&&t.some(function(t){return n(e[t],t)})}}}(t),r=n.testVectorProps,i=n.getVectorKeys;return function(t){if(!r(t))return e(t);var n=i(t),a=t[n[0]];return nw(a)(e,t,n)}},nw=function(e){return"number"==typeof e?KD:Array.isArray(e)?qD:function(e){return Boolean(YD(e))}(e)?XD:lC.test(e)?$D:uC.test(e)?ew:"object"==typeof e?ZD:KD},rw=tw(function(e){return void 0===e&&(e={}),LD(function(t){var n=t.complete,r=t.update,i=e.velocity,a=void 0===i?0:i,o=e.from,s=void 0===o?0:o,l=e.power,c=void 0===l?.8:l,u=e.timeConstant,d=void 0===u?350:u,p=e.restDelta,h=void 0===p?.5:p,f=e.modifyTarget,g=0,v=c*a,m=Math.round(s+v),y=void 0===f?m:f(m),b=jC.update(function(e){var t=e.delta;g+=t;var i=-v*Math.exp(-g/d),a=i>h||i<-h;r(a?y+i:y),a||(PC.update(b),n())},!0);return{stop:function(){return PC.update(b)}}})},{from:VI.test,modifyTarget:function(e){return"function"==typeof e},velocity:VI.test}),iw=tw(function(e){return void 0===e&&(e={}),LD(function(t){var n=t.update,r=t.complete,i=e.velocity,a=void 0===i?0:i,o=e.from,s=void 0===o?0:o,l=e.to,c=void 0===l?0:l,u=e.stiffness,d=void 0===u?100:u,p=e.damping,h=void 0===p?10:p,f=e.mass,g=void 0===f?1:f,v=e.restSpeed,m=void 0===v?.01:v,y=e.restDelta,b=void 0===y?.01:y,S=a?-a/1e3:0,I=0,C=c-s,M=s,D=M,w=jC.update(function(e){var t=e.delta;I+=t;var i=h/(2*Math.sqrt(d*g)),o=Math.sqrt(d/g)/1e3;if(D=M,i<1){var s=Math.exp(-i*o*I),l=o*Math.sqrt(1-i*i);M=c-s*((S+i*o*C)/l*Math.sin(l*I)+C*Math.cos(l*I))}else{s=Math.exp(-o*I);M=c-s*(C+(S+o*C)*I)}a=FM(M-D,t);var u=Math.abs(a)<=m,p=Math.abs(c-M)<=b;u&&p?(n(M=c),PC.update(w),r()):n(M)},!0);return{stop:function(){return PC.update(w)}}})},{from:VI.test,to:VI.test,stiffness:VI.test,damping:VI.test,mass:VI.test,velocity:VI.test}),aw=tw(function(e){var t=e.from,n=void 0===t?0:t,r=e.to,i=void 0===r?1:r,a=e.ease,o=void 0===a?RC:a;return LD(function(e){var t=e.update;return{seek:function(e){return t(e)}}}).pipe(o,function(e){return yM(n,i,e)})},{ease:function(e){return"function"==typeof e},from:VI.test,to:VI.test}),ow=pM(0,1),sw=function(e){return void 0===e&&(e={}),LD(function(t){var n,r=t.update,i=t.complete,a=e.duration,o=void 0===a?300:a,s=e.ease,l=void 0===s?UC:s,c=e.flip,u=void 0===c?0:c,d=e.loop,p=void 0===d?0:d,h=e.yoyo,f=void 0===h?0:h,g=e.from,v=void 0===g?0:g,m=e.to,y=void 0===m?1:m,b=e.elapsed,S=void 0===b?0:b,I=e.playDirection,C=void 0===I?1:I,M=e.flipCount,D=void 0===M?0:M,w=e.yoyoCount,P=void 0===w?0:w,T=e.loopCount,E=void 0===T?0:T,x=aw({from:v,to:y,ease:l}).start(r),O=0,j=!1,A=function(){if(S>o)S-=2*(S-o);else if(S<0){S+=2*(-1*S)}C*=-1},N=function(){O=ow(mM(0,o,S)),x.seek(O)},k=function(){j=!0,n=jC.update(function(e){var t=e.delta;S+=t*C,N(),function(){var e,t=1===C?j&&S>=o:j&&S<=0;if(!t)return!1;if(t&&!p&&!u&&!f)return!0;var n=!1;return p&&E<p?(S=o-S,E++,n=!0):u&&D<u?(S=o-S,x=aw({from:v=(e=[y,v])[0],to:y=e[1],ease:l}).start(r),D++,n=!0):f&&P<f&&(A(),P++,n=!0),!n}()&&i&&(PC.update(n),jC.update(i,!1,!0))},!0)},L=function(){j=!1,n&&PC.update(n)};return k(),{isActive:function(){return j},getElapsed:function(){return pM(0,o,S)},getProgress:function(){return O},stop:function(){L()},pause:function(){return L(),this},resume:function(){return j||k(),this},seek:function(e){return S=yM(0,o,e),jC.update(N,!1,!0),this},reverse:function(){return A(),this}}})},lw=pM(0,1),cw=function(e){var t=e.easings,n=e.ease,r=void 0===n?RC:n,i=e.times,a=e.values,o=RI(e,["easings","ease","times","values"]);t=Array.isArray(t)?t:function(e,t){return e.map(function(){return t||UC}).splice(0,e.length-1)}(a,t),i=i||function(e){var t=e.length;return e.map(function(e,n){return 0!==n?n/(t-1):0})}(a);var s=t.map(function(e,t){return aw({from:a[t],to:a[t+1],ease:e})});return sw(LI({},o,{ease:r})).applyMiddleware(function(e){return function(e,t,n){var r=e.length,i=r-1,a=i-1,o=t.map(function(e){return e.start(n)});return function(t){t<=e[0]&&o[0].seek(0),t>=e[i]&&o[a].seek(1);for(var n=1;n<r&&!(e[n]>t||n===i);n++);var s=mM(e[n-1],e[n],t);o[n-1].seek(lw(s))}}(i,s,e)})},uw=tw(function(e){return void 0===e&&(e={}),LD(function(t){var n=t.complete,r=t.update,i=e.acceleration,a=void 0===i?0:i,o=e.friction,s=void 0===o?0:o,l=e.velocity,c=void 0===l?0:l,u=e.springStrength,d=e.to,p=e.restSpeed,h=void 0===p?.001:p,f=e.from,g=void 0===f?0:f,v=jC.update(function(e){var t=e.delta,i=Math.max(t,16);(a&&(c+=zM(a,i)),s&&(c*=Math.pow(1-s,i/100)),void 0!==u&&void 0!==d)&&(c+=(d-g)*zM(u,i));g+=zM(c,i),r(g),!1!==h&&(!c||Math.abs(c)<=h)&&(PC.update(v),n())},!0);return{set:function(e){return g=e,this},setAcceleration:function(e){return a=e,this},setFriction:function(e){return s=e,this},setSpringStrength:function(e){return u=e,this},setSpringTarget:function(e){return d=e,this},setVelocity:function(e){return c=e,this},stop:function(){return PC.update(v)}}})},{acceleration:VI.test,friction:VI.test,velocity:VI.test,from:VI.test,to:VI.test,springStrength:VI.test}),dw=function(e,t,n){return LD(function(r){var i=r.update,a=t.split(" ").map(function(t){return e.addEventListener(t,i,n),t});return{stop:function(){return a.forEach(function(t){return e.removeEventListener(t,i,n)})}}})},pw=function(){return{clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}},hw=function(e,t){return void 0===t&&(t={clientX:0,clientY:0,pageX:0,pageY:0,x:0,y:0}),t.clientX=t.x=e.clientX,t.clientY=t.y=e.clientY,t.pageX=e.pageX,t.pageY=e.pageY,t},fw=[pw()],gw=!1;if("undefined"!=typeof document){dw(document,"touchstart touchmove",{passive:!0,capture:!0}).start(function(e){var t=e.touches;gw=!0;var n=t.length;fw.length=0;for(var r=0;r<n;r++){var i=t[r];fw.push(hw(i))}})}var vw=pw(),mw=!1;if("undefined"!=typeof document){dw(document,"mousedown mousemove",!0).start(function(e){mw=!0,hw(e,vw)})}var yw,bw=function(e){return e[0]},Sw=function(e){return void 0===e&&(e={}),gw?(t=e,n=void 0===t?{}:t,r=n.preventDefault,i=void 0===r||r,a=n.scale,o=void 0===a?1:a,s=n.rotate,l=void 0===s?0:s,LD(function(e){var t=e.update,n={touches:fw,scale:o,rotate:l},r=0,a=0,s=fw.length>1;if(s){var c=fw[0],u=fw[1];r=vM(c,u),a=cM(c,u)}var d=function(){if(s){var e=fw[0],i=fw[1],c=vM(e,i),u=cM(e,i);n.scale=o*(c/r),n.rotate=l+(u-a)}t(n)},p=dw(document,"touchmove",{passive:!i}).start(function(e){(i||e.touches.length>1)&&e.preventDefault(),jC.update(d)});return gw&&jC.update(d),{stop:function(){PC.update(d),p.stop()}}})).pipe(function(e){return e.touches},bw):function(e){var t=(void 0===e?{}:e).preventDefault,n=void 0===t||t;return LD(function(e){var t=e.update,r=function(){return t(vw)},i=dw(document,"mousemove").start(function(e){n&&e.preventDefault(),jC.update(r)});return mw&&jC.update(r),{stop:function(){PC.update(r),i.stop()}}})}(e);var t,n,r,i,a,o,s,l},Iw=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return LD(function(t){var n,r=t.update,i=t.complete,a=0,o=function(){n=e[a].start({complete:function(){++a>=e.length?i():o()},update:r})};return o(),{stop:function(){return n&&n.stop()}}})},Cw=function(e){return LD(function(t){var n=t.complete,r=setTimeout(n,e);return{stop:function(){return clearTimeout(r)}}})},Mw=Object.freeze({applyOffset:uM,clamp:pM,conditional:function(e,t){return function(n){return e(n)?t(n):n}},interpolate:function(e,t,n){var r=void 0===n?{}:n,i=r.clamp,a=void 0===i||i,o=r.ease,s=r.mixer,l=e.length;pC(l===t.length,"Both input and output ranges must be the same length"),pC(!o||!Array.isArray(o)||o.length===l-1,"Array of easing functions must be of length `input.length - 1`, as it applies to the transitions **between** the defined values."),e[0]>e[l-1]&&(e=[].concat(e),t=[].concat(t),e.reverse(),t.reverse());var c=NM(t,o,s),u=2===l?function(e,t){var n=e[0],r=e[1],i=t[0];return function(e){return i(mM(n,r,e))}}(e,c):function(e,t){var n=e.length,r=n-1;return function(i){var a=0,o=!1;if(i<=e[0]?o=!0:i>=e[r]&&(a=r-1,o=!0),!o){for(var s=1;s<n&&!(e[s]>i||s===r);s++);a=s-1}var l=mM(e[a],e[a+1],i);return t[a](l)}}(e,c);return a?PM(pM(e[0],e[l-1]),u):u},blendArray:EM,blendColor:DM,pipe:PM,smooth:function(e){void 0===e&&(e=50);var t=0,n=0;return function(r){var i=OC().timestamp,a=i!==n?i-n:0,o=a?kM(t,r,a,e):t;return n=i,t=o,o}},snap:function(e){if("number"==typeof e)return function(t){return Math.round(t/e)*e};var t=0,n=e.length;return function(r){var i=Math.abs(e[0]-r);for(t=1;t<n;t++){var a=e[t],o=Math.abs(a-r);if(0===o)return a;if(o>i)return e[t-1];if(t===n-1)return a;i=o}}},generateStaticSpring:RM,nonlinearSpring:UM,linearSpring:_M,wrap:BM,appendUnit:function(e){return function(t){return""+t+e}},steps:function(e,t,n){return void 0===t&&(t=0),void 0===n&&(n=1),function(r){var i=mM(t,n,r);return yM(t,n,_D(e,i))}},transformMap:function(e){return function(t){var n=LI({},t);for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];n[r]=i(t[r])}return n}}}),Dw=function(e){e.transition,e.flip,e.delay,e.delayChildren,e.staggerChildren,e.staggerDirection,e.afterChildren,e.beforeChildren,e.preTransition,e.applyAtStart,e.applyAtEnd;return RI(e,["transition","flip","delay","delayChildren","staggerChildren","staggerDirection","afterChildren","beforeChildren","preTransition","applyAtStart","applyAtEnd"])},ww=function(e,t){return"function"==typeof e?e(t):e},Pw=function(e,t,n,r){return e&&void 0!==e[t]?ww(e[t],r):n},Tw=function(e,t,n,r,i,a){var o;if("function"==typeof e){var s=e(r);o=Tw(s,t,n,r,i,a)}else if(e[t]||e.default){var l=e[t]||e.default;o="function"==typeof l?l(r):l}else o=e;return!1===o?a(n,r):i(n,o,r)},Ew=function(e,t,n,r,i){return pC("object"==typeof e,"applyAtStart and applyAtEnd must be of type object"),Object.keys(e).forEach(function(a){var o=ww(e[a],n);t.has(a)?r(t.get(a),o):i(a,o,n)})},xw=function(e){var t=e.state,n=e.poses,r=e.startAction,i=e.stopAction,a=e.getInstantTransition,o=e.addActionDelay,s=e.getTransitionProps,l=e.resolveTarget,c=e.transformPose,u=e.posePriority,d=e.convertTransitionDefinition,p=e.setValue,h=e.setValueNative,f=e.forceRender;return function(e,g,v){void 0===g&&(g={}),void 0===v&&(v=!0);var m=t.children,y=t.values,b=t.props,S=t.activeActions,I=t.activePoses,C=g.delay,M=void 0===C?0:C,D=m.size,w=LI({},b,g),P=n[e],T=function(){return D&&v?function(e,t,n,r){var i=[],a=Pw(n,"delayChildren",0,r),o=Pw(n,"staggerChildren",0,r),s=Pw(n,"staggerDirection",1,r),l=(e.size-1)*o,c=1===s?function(e){return e*o}:function(e){return l-e*o};return Array.from(e).forEach(function(e,n){i.push(e.set(t,{delay:a+c(n)}))}),i}(m,e,P,w):[]},E=function(){if(!P)return[];var n=P.applyAtStart;n&&(Ew(n,y,w,p,h),f&&f(w)),c&&(P=c(P,e,t));var g=P.preTransition,v=P.transition,m=P.applyAtEnd;g&&g(w);var b=Object.keys(Dw(P)).map(function(t){var n=I.has(t)?I.get(t):(I.set(t,[]),I.get(t)),c=n.indexOf(e);-1!==c&&n.splice(c,1);var p=u?u.indexOf(e):0,h=p<=0?0:function(e,t,n){for(var r=0,i=n-1;i>=0;i--){var a=e.indexOf(t[i]);if(-1!==a){r=a+1;break}}return r}(n,u,p);return n.splice(h,0,e),0===h?new Promise(function(e){var n=y.get(t),c=LI({},w,{key:t,value:n}),u=l(n,ww(P[t],c));S.has(t)&&i(S.get(t));var p=LI({to:u},c,s(n,u,c)),h=Tw(v,t,n,p,d,a),f=M||ww(P.delay,c);f&&(h=o(f,h)),S.set(t,r(n,h,e))}):Promise.resolve()});return m?[Promise.all(b).then(function(){Ew(m,y,w,p,h)})]:b};if(P&&D){if(ww(P.beforeChildren,w))return Promise.all(E()).then(function(){return Promise.all(T())});if(ww(P.afterChildren,w))return Promise.all(T()).then(function(){return Promise.all(E())})}return Promise.all(E().concat(T()))}},Ow=function(e){return function(e){return e.includes("scale")}(e)?1:0},jw=function(e){var t=Array.isArray(e)?e:[e];return t.push("init"),t},Aw=function(e,t,n,r,i,a){void 0===i&&(i=Ow);var o=jw(n).filter(Boolean).find(function(n){var r=e[n];return r&&(void 0!==r[t]||r.applyAtStart&&void 0!==r.applyAtStart[t]||r.applyAtEnd&&void 0!==r.applyAtEnd[t])});return a.set(t,[o||"init"]),o?function(e,t,n){var r=e.applyAtEnd&&void 0!==e.applyAtEnd[t]?e.applyAtEnd[t]:void 0!==e[t]?e[t]:e.applyAtStart&&void 0!==e.applyAtStart[t]?e.applyAtStart[t]:0;return ww(r,n)}(e[o],t,r):i(t,r)},Nw=function(e,t){return function(n){var r=t.poses[n];Object.keys(Dw(r)).forEach(function(e,t){var n=t.userSetValues,r=t.createValue,i=t.convertValue,a=t.readValueFromSource,o=t.initialPose,s=t.poses,l=t.activePoses,c=t.props;return function(t){if(!e.has(t)){var u;if(n&&void 0!==n[t])u=i(n[t],t,c);else{var d=Aw(s,t,o,c,a,l);u=r(d,t,c)}e.set(t,u)}}}(e,t))}},kw=function(e){var t=e.poses,n=e.passive,r=new Map;return Object.keys(t).forEach(Nw(r,e)),function(e){var t=e.setValueNative,n=e.initialPose,r=e.props,i=e.poses,a=new Set,o=function(e,n){if(e[n])for(var i in e[n])a.has(i)||(a.add(i),t(i,ww(e[n][i],r),r))};jw(n).forEach(function(e){var t=i[e];t&&(o(t,"applyAtEnd"),o(t,"applyAtStart"))})}(e),n&&Object.keys(n).forEach(function(e,t){var n=t.passive,r=t.ancestorValues,i=t.createValue,a=t.readValue,o=t.props;return function(t){var s=n[t],l=s[0],c=s[1],u=s[2],d=u&&r.length?function(e,t,n){if(!0===t)return n[0]&&n[0].values.get(e);var r=n.find(function(e){return e.label===t});return r&&r.values.get(e)}(l,u,r):!!e.has(l)&&e.get(l);if(d){var p=i(a(d),t,o,{passiveParentKey:l,passiveParent:d,passiveProps:c});e.set(t,p)}}}(r,e)),r},Lw=function(e,t){return Object.keys(e).forEach(function(n){var r=e[n];pC("object"==typeof r,"Pose '"+n+"' is of invalid type. All poses should be objects."),e[n]=void 0!==r.transition?r:function(e,t,n){return LI({},e,{transition:n.has(t)?n.get(t):n.get("default")})}(r,n,t)}),e},Rw=function(e){var t=e.getDefaultProps,n=e.defaultTransitions,r=e.bindOnChange,i=e.startAction,a=e.stopAction,o=e.readValue,s=e.readValueFromSource,l=e.resolveTarget,c=e.setValue,u=e.setValueNative,d=e.createValue,p=e.convertValue,h=e.getInstantTransition,f=e.getTransitionProps,g=e.addActionDelay,v=e.selectValueToRead,m=e.convertTransitionDefinition,y=e.transformPose,b=e.posePriority,S=e.forceRender,I=e.extendAPI;return function(e){var C=e.parentValues,M=e.ancestorValues,D=void 0===M?[]:M;C&&D.unshift({values:C});var w=new Map,P=new Map,T=new Set,E=Lw(function(e){return e.label,e.props,e.values,e.parentValues,e.ancestorValues,e.onChange,e.passive,e.initialPose,RI(e,["label","props","values","parentValues","ancestorValues","onChange","passive","initialPose"])}(e),n),x=e.props,O=void 0===x?{}:x;t&&(O=LI({},t(e),O));var j=e.passive,A=e.values,N=e.initialPose,k=void 0===N?"init":N,L=kw({poses:E,passive:j,ancestorValues:D,readValue:o,setValueNative:u,createValue:d,convertValue:p,readValueFromSource:s,userSetValues:A,initialPose:k,activePoses:P,props:O}),R={activeActions:w,activePoses:P,children:T,props:O,values:L},_=e.onChange;_&&Object.keys(_).forEach(r(L,_));var U=xw({state:R,poses:E,getInstantTransition:h,getTransitionProps:f,convertTransitionDefinition:m,setValue:c,setValueNative:u,startAction:i,stopAction:a,resolveTarget:l,addActionDelay:g,transformPose:y,posePriority:b,forceRender:S});return I({set:U,unset:function(e,t){var n=[];P.forEach(function(t){var r=t.indexOf(e);if(-1!==r){var i=t[0];t.splice(r,1);var a=t[0];a!==i&&-1===n.indexOf(a)&&n.push(a)}});var r,i=n.sort((r=b,function(e,t){var n=r.indexOf(e),i=r.indexOf(t);return-1===n&&-1!==i?-1:-1!==n&&-1===i?1:n-i})).map(function(e){return U(e,t,!1)});return T.forEach(function(t){return i.push(t.unset(e))}),Promise.all(i)},get:function(e){return e?v(L.get(e)):function(e,t){var n={};return e.forEach(function(e,r){return n[r]=t(e)}),n}(L,v)},has:function(e){return!!E[e]},setProps:function(e){return R.props=LI({},R.props,e)},_addChild:function(t,n){var r=n(LI({initialPose:k},t,{ancestorValues:[{label:e.label,values:L}].concat(D)}));return T.add(r),r},removeChild:function(e){return T.delete(e)},clearChildren:function(){T.forEach(function(e){return e.destroy()}),T.clear()},destroy:function(){w.forEach(a),T.forEach(function(e){return e.destroy()})}},R,e)}},_w=function(){return(_w=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function Uw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&(n[r[i]]=e[r[i]])}return n}!function(e){e.width="width",e.height="height",e.left="left",e.right="right",e.top="top",e.bottom="bottom"}(yw||(yw={}));var zw=function(e,t){return"function"==typeof e?e(t):e},Fw=Mw.interpolate,Bw=function(e){return function(t){var n;return function(e){void 0===e&&(e={});var t=e.x,n=e.y,r=RI(e,["x","y"]);if(void 0!==t||void 0!==n){var i=uM(t||0),a=uM(n||0),o={x:0,y:0};return Sw(r).pipe(function(e){return o.x=i(e.x),o.y=a(e.y),o})}return Sw(r)}((n={},n[e]="string"==typeof t?parseFloat(t):t,n)).pipe(function(t){return t[e]})}},Hw=Bw("x"),Vw=Bw("y"),Qw=function(e,t,n,r){return function(i){var a=i.from,o=i.type,s=i.dimensions,l=i.dragBounds,c=e(s.measurementAsPixels(r,a,o)),u=[];if(l){var d=zw(l,i);void 0!==d[t]&&u.push(function(e){return Math.max(e,s.measurementAsPixels(r,d[t],o))}),void 0!==d[n]&&u.push(function(e){return Math.min(e,s.measurementAsPixels(r,d[n],o))})}return o===KI&&u.push(Fw([0,s.get(r)],[0,100],{clamp:!1}),function(e){return e+"%"}),u.length?c.pipe.apply(c,u):c}},Ww=function(e){return LD(function(t){var n=t.update,r=t.complete;n(e),r()})},Gw=function(e){var t=e.from,n=e.velocity,r=e.to;return iw({from:t,to:r,velocity:n,stiffness:500,damping:25,restDelta:.5,restSpeed:10})},Yw=function(e){var t=e.from,n=e.velocity,r=e.to;return iw({from:t,to:r,velocity:n,stiffness:700,damping:0===r?100:35})},Kw={x:Gw,y:Gw,z:Gw,rotate:Gw,rotateX:Gw,rotateY:Gw,rotateZ:Gw,scaleX:Yw,scaleY:Yw,scale:Yw,opacity:function(e){var t=e.from,n=e.to;return sw({from:t,to:n,ease:RC})},default:sw},qw=_w({},Kw,{x:Qw(Hw,"left","right",yw.width),y:Qw(Vw,"top","bottom",yw.height)}),Zw=function(e){var t=e.from;return Ww(t)},Xw=new Map([["default",Kw],["drag",qw],["dragEnd",_w({},Kw,{x:Zw,y:Zw})]]),Jw={tween:sw,spring:iw,decay:rw,keyframes:cw,physics:uw},$w={linear:RC,easeIn:_C,easeOut:UC,easeInOut:zC,circIn:FC,circOut:BC,circInOut:HC,backIn:VC,backOut:QC,backInOut:WC,anticipate:GC},eP=[VI,YI,KI,qI,XI,ZI,{test:function(e){return"auto"===e},parse:function(e){return e}}],tP=function(e){return eP.find(function(e){return function(t){return t.test(e)}}(e))},nP=function(e,t){return void 0===e&&(e=0),Iw(Cw(e),t)},rP=function(e){var t=e.transformPose,n=e.addListenerToValue,r=e.extendAPI,i=e.readValueFromSource,a=e.posePriority,o=e.setValueNative;return Rw({bindOnChange:function(e,t){return function(n){e.has(n)&&e.get(n).raw.subscribe(t[n])}},readValue:function(e){return e.raw.get()},setValue:function(e,t){return e.raw.update(t)},createValue:function(e,t,r,i){var a=r.elementStyler,o=void 0===i?{}:i,s=o.passiveParent,l=o.passiveProps,c=s?function(e,t,n){var r=BD(n(e));return t.raw.subscribe(function(e){return r.update(n(e))}),{raw:r}}(e,s,l):function(e){var t=tP(e);return{raw:BD(e),type:t}}(e);return c.raw.subscribe(n(t,a)),c},convertValue:function(e,t,r){var i=r.elementStyler;return e.subscribe(n(t,i)),{raw:e,type:tP(e.get())}},getTransitionProps:function(e,t){var n=e.raw,r=e.type;return{from:n.get(),velocity:n.getVelocity(),to:t,type:r}},resolveTarget:function(e,t){return t},selectValueToRead:function(e){return e.raw},startAction:function(e,t,n){var r=e.raw,i={update:function(e){return r.update(e)},complete:n};return t.start(i)},stopAction:function(e){return e.stop()},getInstantTransition:function(e,t){var n=t.to;return Ww(n)},convertTransitionDefinition:function(e,t,n){if(function(e){return void 0!==e.start}(t))return t;var r=t.delay,i=t.min,a=t.max,o=t.round,s=function(e,t,n){var r,i=n.from,a=n.to,o=n.velocity,s=t.type,l=void 0===s?"tween":s,c=t.ease,u=Uw(t,["type","ease"]);pC(void 0!==Jw[l],"Invalid transition type '"+l+"'. Valid transition types are: tween, spring, decay, physics and keyframes."),"tween"===l&&"function"!=typeof c&&("string"==typeof c?(pC(void 0!==$w[c],"Invalid easing type '"+c+"'. popmotion.io/pose/api/config"),r=$w[c]):Array.isArray(c)&&"number"==typeof c[0]&&(pC(4===c.length,"Cubic bezier arrays must contain four numerical values."),r=aM(c[0],c[1],c[2],c[3])));r=r||c;var d="keyframes"!==l?{from:i,to:a,velocity:o,ease:r}:{ease:r};return Jw[l](_w({},d,u))}(0,Uw(t,["delay","min","max","round"]),n),l=[];return r&&(s=nP(r,s)),void 0!==i&&l.push(function(e){return Math.max(e,i)}),void 0!==a&&l.push(function(e){return Math.min(e,a)}),o&&l.push(Math.round),l.length?s.pipe.apply(s,l):s},setValueNative:o,addActionDelay:nP,defaultTransitions:Xw,transformPose:t,readValueFromSource:i,posePriority:a,extendAPI:r})},iP=function(e){var t=!1,n={width:0,height:0,top:0,left:0,bottom:0,right:0};return{get:function(e){return e?n[e]:n},measure:function(){return n=e.getBoundingClientRect(),t=!0,n},measurementAsPixels:function(e,t,r){return r===KI?("string"==typeof t?parseFloat(t):t)/100*n[e]:t},has:function(){return t}}},aP=function(e){var t=e.startEvents,n=e.endEvents,r=e.startPose,i=e.endPose,a=e.startCallback,o=e.endCallback,s=e.useDocumentToEnd,l=e.preventScroll;return function(e,c,u,d){var p=r+"Start",h=r+"End",f=r+"Move";if(l){var g=dw(e,"touchmove",{passive:!1}).start(function(e){e.preventDefault()});c.set(f,g)}var v=dw(e,t).start(function(t){u.unset(i),u.set(r),a&&d[a]&&d[a](t);var l=dw(s?document.documentElement:e,n+(s?" mouseenter":"")).start(function(e){s&&"mouseenter"===e.type&&1===e.buttons||(c.get(h).stop(),u.unset(r),u.set(i),o&&d[o]&&d[o](e))});c.set(h,l)});c.set(p,v)}},oP={draggable:aP({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"drag",endPose:"dragEnd",startCallback:"onDragStart",endCallback:"onDragEnd",useDocumentToEnd:!0,preventScroll:!0}),hoverable:aP({startEvents:"mouseenter",endEvents:"mouseleave",startPose:"hover",endPose:"hoverEnd"}),focusable:aP({startEvents:"focus",endEvents:"blur",startPose:"focus",endPose:"blur"}),pressable:aP({startEvents:"mousedown touchstart",endEvents:"mouseup touchend",startPose:"press",endPose:"pressEnd",startCallback:"onPressStart",endCallback:"onPressEnd",useDocumentToEnd:!0})},sP=Object.keys(oP),lP=function(e){var t=e.top,n=e.right,r=e.bottom;return{x:(e.left+n)/2,y:(t+r)/2}},cP=["width","height","top","left","bottom","right"],uP=new Set(cP),dP=function(e){return uP.has(e)},pP=function(e,t,n){var r=e.values,i=e.props;if(r.has(t)){var a=r.get(t).raw;a.update(n),a.update(n)}else r.set(t,{raw:BD(n,function(e){return i.elementStyler.set(t,e)})})},hP=function(e,t){var n=e.props,r=n.dimensions,i=n.element,a=n.elementStyler;if(!r.has())return{};var o=r.get(),s=function(e){var t=e.style.transform;e.style.transform="";var n=e.getBoundingClientRect();return e.style.transform=t,n}(i),l=o.left===s.left?0:o.right===s.right?"100%":"50%",c=o.top===s.top?0:o.bottom===s.bottom?"100%":"50%";a.set({originX:l,originY:c}),o.width!==s.width&&(pP(e,"scaleX",o.width/s.width),t.scaleX=1),o.height!==s.height&&(pP(e,"scaleY",o.height/s.height),t.scaleY=1);var u=lP(o),d=lP(s);return"50%"===l&&(pP(e,"x",u.x-d.x),t.x=0),"50%"===c&&(pP(e,"y",u.y-d.y),t.y=0),a.render(),t},fP=function(e,t){return n=t,Object.keys(n).some(dP)?function(e,t){var n=e.props,r=n.dimensions,i=n.elementStyler;r.measure();t.width,t.height,t.top,t.left,t.bottom,t.right,t.position;var a=Uw(t,["width","height","top","left","bottom","right","position"]),o=cP.concat("position").reduce(function(n,r){return void 0!==t[r]&&(n[r]=zw(t[r],e.props)),n},{});return i.set(o).render(),hP(e,a)}(e,t):hP(e,t);var n},gP=function(e,t){return parseFloat(e.split(", ")[t])},vP=function(e,t){return function(n,r,i){var a=i.transform;if("none"===a)return 0;var o=a.match(/^matrix3d\((.+)\)$/);return o?gP(o[1],t):gP(a.match(/^matrix\((.+)\)$/)[1],e)}},mP={width:function(e,t){return t.width},height:function(e,t){return t.height},top:function(e,t,n){var r=n.top;return parseFloat(r)},left:function(e,t,n){var r=n.left;return parseFloat(r)},bottom:function(e,t,n){var r=t.height,i=n.top;return parseFloat(i)+r},right:function(e,t,n){var r=t.width,i=n.left;return parseFloat(i)+r},x:vP(4,13),y:vP(5,14)},yP=function(e){return void 0!==mP[e]},bP=function(e){return function(t){return t.elementStyler.get(e)}},SP=function(e,t){var n=t.onDragStart,r=t.onDragEnd,i=t.onPressStart,a=t.onPressEnd,o=t.draggable,s=t.hoverable,l=t.focusable,c=t.pressable,u=t.dragBounds,d=Uw(t,["onDragStart","onDragEnd","onPressStart","onPressEnd","draggable","hoverable","focusable","pressable","dragBounds"]),p=_w({flip:{}},d,{props:_w({},d.props,{onDragStart:n,onDragEnd:r,onPressStart:i,onPressEnd:a,dragBounds:u,draggable:o,hoverable:s,focusable:l,pressable:c,element:e,elementStyler:OD(e,{preparseOutput:!1}),dimensions:iP(e)})});if(o){var h=function(e){var t={preTransition:function(e){return e.dimensions.measure()}},n={};return!0!==e&&"x"!==e||(t.x=n.x=bP("x")),!0!==e&&"y"!==e||(t.y=n.y=bP("y")),{drag:t,dragEnd:n}}(o),f=h.drag,g=h.dragEnd;p.drag=_w({},f,p.drag),p.dragEnd=_w({},g,p.dragEnd)}return p},IP=rP({posePriority:["drag","press","focus","hover"],transformPose:function(e,t,n){var r,i=e.flip,a=Uw(e,["flip"]);return function(e,t,n){return n.props.element instanceof HTMLElement&&(!0===e||"flip"===t)}(i,t,n)?fP(n,a):(r=a,Object.keys(r).some(yP)?function(e,t){var n=e.values,r=e.props,i=r.element,a=r.elementStyler,o=Object.keys(t).filter(yP),s=[],l=getComputedStyle(i),c=!1;if(o.forEach(function(i){var a=n.get(i),o=tP(a.raw.get()),l=zw(t[i],r);o!==tP(l)&&(s.push(i),c||(c=!0,t.applyAtEnd=t.applyAtEnd?_w({},t.applyAtEnd):{}),t.applyAtEnd[i]=t.applyAtEnd[i]||t[i],pP(e,i,l))}),!s.length)return t;var u=i.getBoundingClientRect(),d={top:l.top,left:l.left,bottom:l.bottom,right:l.right,transform:l.transform};a.render();var p=i.getBoundingClientRect();return s.forEach(function(n){pP(e,n,mP[n](i,u,d)),t[n]=mP[n](i,p,l)}),a.render(),t}(n,a):a)},forceRender:function(e){e.elementStyler.render()},addListenerToValue:function(e,t){return function(n){return t.set(e,n)}},readValueFromSource:function(e,t){var n=t.elementStyler,r=t.dragBounds,i=n.get(e);if(r&&("x"===e||"y"===e)){var a="x"===e?r.left||r.right:r.top||r.bottom;if(a)i=tP(a).transform(i)}return isNaN(i)?i:parseFloat(i)},setValueNative:function(e,t,n){return n.elementStyler.set(e,t)},extendAPI:function(e,t,n){var r=t.props,i=t.activeActions,a=r.dimensions.measure,o=_w({},e,{addChild:function(t,n){return e._addChild(SP(t,n),IP)},measure:a,flip:function(t){return t&&(a(),t()),e.set("flip")}});return r.elementStyler.render(),function(e,t,n,r){var i=r.props;sP.forEach(function(r){i[r]&&oP[r](e,t,n,i)})}(r.element,i,o,n),o}}),CP=function(e,t){return IP(SP(e,t))};var MP=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|default|defer|dir|disabled|download|draggable|encType|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|itemProp|itemScope|itemType|itemID|itemRef|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,DP=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}(function(e){return MP.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}),wP=Object(Zf.createContext)({}),PP=wP.Consumer,TP=wP.Provider,EP=function(e,t){return Array.isArray(e)?-1!==e.indexOf(t):e===t},xP=function(){return!0},OP=function(e){e.elementType,e.poseConfig,e.onValueChange,e.innerRef,e._pose,e.pose,e.initialPose,e.poseKey,e.onPoseComplete,e.getParentPoseConfig,e.registerChild,e.onUnmount,e.getInitialPoseFromParent,e.popFromFlow,e.values,e.parentValues,e.onDragStart,e.onDragEnd,e.onPressStart,e.onPressEnd;return RI(e,["elementType","poseConfig","onValueChange","innerRef","_pose","pose","initialPose","poseKey","onPoseComplete","getParentPoseConfig","registerChild","onUnmount","getInitialPoseFromParent","popFromFlow","values","parentValues","onDragStart","onDragEnd","onPressStart","onPressEnd"])},jP=function(e){function t(t){var n=e.call(this,t)||this;n.children=new Set,n.childrenHandlers={registerChild:function(e){n.children.add(e),n.poser&&n.flushChildren()},onUnmount:function(e){return n.poser.removeChild(e)},getParentPoseConfig:function(){return n.poseConfig},getInitialPoseFromParent:function(){return n.getInitialPose()}},n.setRef=function(e){dC(null===e||e instanceof Element&&void 0===n.ref,"ref must be provided to the same DOM component for the entire lifecycle of a posed component."),n.ref=e;var t=n.props.innerRef;t&&("function"==typeof t?t(e):t.current=e)},n.shouldForwardProp="string"==typeof n.props.elementType?DP:xP;var r=n.props.poseConfig;return n.poseConfig="function"==typeof r?r(OP(t)):r,n}return kI(t,e),t.prototype.getInitialPose=function(){var e=this.props,t=e.getInitialPoseFromParent,n=e.pose,r=e._pose,i=e.initialPose;if(i)return i;var a=t&&t(),o=(Array.isArray(a)?a:[a]).concat(n,r).filter(Boolean);return o.length>0?o:void 0},t.prototype.getFirstPose=function(){var e=this.props,t=e.initialPose,n=e.pose,r=e._pose;if(t){var i=(Array.isArray(n)?n:[n]).concat(r).filter(Boolean);return 1===i.length?i[0]:i}},t.prototype.getSetProps=function(){var e,t=OP(this.props);return this.props.popFromFlow&&this.ref&&this.ref instanceof HTMLElement?this.popStyle?t.style=this.popStyle:(t.style=LI({},t.style,{position:"absolute",top:(e=this.ref).offsetTop,left:e.offsetLeft,width:e.offsetWidth,height:e.offsetHeight}),this.popStyle=t.style):this.popStyle=null,t},t.prototype.componentDidMount=function(){var e=this;pC(this.ref instanceof Element,"No valid DOM ref found. If you're converting an existing component via posed(Component), you must ensure you're passing the ref to the host DOM node via the React.forwardRef function.");var t,n=this.props,r=n.onValueChange,i=n.registerChild,a=n.values,o=n.parentValues,s=n.onDragStart,l=n.onDragEnd,c=n.onPressStart,u=n.onPressEnd,d=LI({},this.poseConfig,{initialPose:this.getInitialPose(),values:a||this.poseConfig.values,parentValues:o?(t=o,Object.keys(t).reduce(function(e,n){return e.set(n,{raw:t[n]}),e},new Map)):void 0,props:this.getSetProps(),onDragStart:s,onDragEnd:l,onPressStart:c,onPressEnd:u,onChange:r});i?i({element:this.ref,poseConfig:d,onRegistered:function(t){return e.initPoser(t)}}):this.initPoser(CP(this.ref,d))},t.prototype.getSnapshotBeforeUpdate=function(){var e=this.props,t=e.pose,n=e._pose;return(EP(t,"flip")||EP(n,"flip"))&&this.poser.measure(),null},t.prototype.componentDidUpdate=function(e){var t=this.props,n=t.pose,r=t._pose,i=t.poseKey;this.poser.setProps(this.getSetProps()),(i!==e.poseKey||function(e,t){if(e===t)return!1;var n=Array.isArray(e),r=Array.isArray(t);if(n!==r||!n&&!r)return!0;if(n&&r){var i=e.length;if(i!==t.length)return!0;for(var a=0;a<i;a++)if(e[a]!==t[a])return!0}return!1}(e.pose,n)||"flip"===n)&&this.setPose(n),r===e._pose&&"flip"!==r||this.setPose(r)},t.prototype.componentWillUnmount=function(){if(this.poser){var e=this.props.onUnmount;e&&e(this.poser),this.poser.destroy()}},t.prototype.initPoser=function(e){this.poser=e,this.flushChildren();var t=this.getFirstPose();t&&this.setPose(t)},t.prototype.setPose=function(e){var t=this,n=this.props.onPoseComplete,r=Array.isArray(e)?e:[e];Promise.all(r.map(function(e){return e&&t.poser.set(e)})).then(function(){return n&&n(e)})},t.prototype.flushChildren=function(){var e=this;this.children.forEach(function(t){var n=t.element,r=t.poseConfig;return(0,t.onRegistered)(e.poser.addChild(n,r))}),this.children.clear()},t.prototype.render=function(){var e,t=this.props.elementType;return Xf.a.createElement(TP,{value:this.childrenHandlers},Object(Zf.createElement)(t,(e=this.shouldForwardProp,[this.getSetProps(),{ref:this.setRef}].reduce(function(t,n){for(var r in n)e(r)&&(t[r]=n[r]);return t},{}))))},t}(Zf.PureComponent),AP=new Map,NP=function(e){var t=function(t){return void 0===t&&(t={}),Object(Zf.forwardRef)(function(n,r){var i=n.withParent,a=void 0===i||i,o=RI(n,["withParent"]);return dC(void 0===o.innerRef,"innerRef is deprecated. Please use ref instead."),!a||o.parentValues?Xf.a.createElement(jP,LI({poseConfig:t,innerRef:r,elementType:e},o)):Xf.a.createElement(PP,null,function(n){return Xf.a.createElement(jP,LI({poseConfig:t,elementType:e,innerRef:r},o,n))})})};return AP.set(e,t),t},kP=function(e){return t=e,AP.has(t)?AP.get(t):NP(t);var t};["a","article","aside","audio","b","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dialog","div","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","i","iframe","img","input","label","legend","li","nav","object","ol","option","p","param","picture","pre","progress","q","section","select","span","strong","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","ul","video","circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].reduce(function(e,t){return e[t]=NP(t),e},kP);var LP=function(e){return pC(e&&null!==e.key,"Every child of Transition must be given a unique key"),("number"==typeof e.key?e.key.toString():e.key).replace(".$","")},RP=function(e,t){return Object(Zf.createElement)(e.type,LI({key:e.key,ref:e.ref},t,e.props))},_P=function(e,t){var n=function(e,t){var n=t.displayedChildren,r=t.finishedLeaving,i=t.hasInitialized,a=t.indexedChildren,o=t.scheduleChildRemoval,s=e.children,l=e.preEnterPose,c=e.enterPose,u=e.exitPose,d=e.animateOnMount,p=(e.enterAfterExit,e.flipMove),h=(e.onRest,RI(e,["children","preEnterPose","enterPose","exitPose","animateOnMount","enterAfterExit","flipMove","onRest"])),f=UP(s),g={displayedChildren:[]};var v=n.map(LP),m=f.map(LP),y=0!==Object.keys(h).length,b=new Set(m.filter(function(e){return r.hasOwnProperty(e)||-1===v.indexOf(e)}));b.forEach(function(e){return delete r[e]});var S=[],I={};v.forEach(function(e){if(!b.has(e)){var t=r.hasOwnProperty(e);(t||-1===m.indexOf(e))&&(S.push(e),t||(r[e]=!1,I[e]=!0))}});var C=new Set(v.filter(function(e,t){return!b.has(e)||-1===S.indexOf(e)}));return f.forEach(function(e){var t={};b.has(e.key)?((i||d)&&(t.initialPose=l),t._pose=c):C.has(e.key)&&p?t._pose=[c,"flip"]:t._pose=c;var n=Object(Zf.cloneElement)(e,t);a[e.key]=n,g.displayedChildren.push(y?RP(n,h):n)}),S.forEach(function(e){var t=a[e],n=I[e]?Object(Zf.cloneElement)(t,{_pose:u,onPoseComplete:function(n){n===u&&o(e);var r=t.props.onPoseComplete;r&&r(n)},popFromFlow:p}):t,r=v.indexOf(e);a[t.key]=n,g.displayedChildren.splice(r,0,y?RP(n,h):n)}),g}(e,t);return n.hasInitialized=!0,n},UP=function(e){var t=[];return Zf.Children.forEach(e,function(e){return e&&t.push(e)}),t},zP=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={displayedChildren:[],finishedLeaving:{},hasInitialized:!1,indexedChildren:{},scheduleChildRemoval:function(e){return t.removeChild(e)}},t}return kI(t,e),t.prototype.removeChild=function(e){var t=this.state,n=t.displayedChildren,r=t.finishedLeaving,i=this.props,a=i.enterAfterExit,o=i.onRest;if(r.hasOwnProperty(e)&&(r[e]=!0,Object.keys(r).every(function(e){return r[e]}))){var s=n.filter(function(e){return!r.hasOwnProperty(e.key)}),l=a?LI({finishedLeaving:{}},_P(LI({},this.props,{enterAfterExit:!1}),LI({},this.state,{displayedChildren:s}))):{finishedLeaving:{},displayedChildren:s};this.setState(l,o)}},t.prototype.shouldComponentUpdate=function(e,t){return this.state!==t},t.prototype.render=function(){return this.state.displayedChildren},t.defaultProps={flipMove:!1,enterAfterExit:!1,preEnterPose:"exit",enterPose:"enter",exitPose:"exit"},t.getDerivedStateFromProps=_P,t}(Zf.Component),FP=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return kI(t,e),t.prototype.render=function(){return Object(Zf.createElement)(zP,LI({},this.props))},t.defaultProps={flipMove:!0},t}(Zf.Component),BP=kP,HP=n(789),VP=(xS.a?Dp.a.shape({current:Dp.a.instanceOf(window.Element)}):Dp.a.oneOf([null]),Xf.a.createElement),QP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCloseTimeout=function(){r._closeTimeoutID=null,r.setState({shouldPreventPortalClose:!1},function(){r.props.onClose&&r.props.onClose()})},r.onInteractionEvent=function(e){r.props.allowInteractionEventBubbling||e.stopPropagation()},r.state={isOpen:t.isOpen,shouldPreventPortalClose:!1},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.isOpen===t.isOpen?null:{isOpen:e.isOpen,shouldPreventPortalClose:e.closeTimeout&&!e.isOpen&&t.isOpen}};var n=t.prototype;return n.componentDidMount=function(){this.props.onOpen&&this.props.isOpen&&this.props.onOpen()},n.componentDidUpdate=function(e,t){!this.state.shouldPreventPortalClose&&t.shouldPreventPortalClose&&(this._closeTimeoutID=clearTimeout(this._closeTimeoutID)),this.state.shouldPreventPortalClose&&!t.shouldPreventPortalClose&&(this._closeTimeoutID=setTimeout(this.onCloseTimeout,this.props.closeTimeout)),this.props.onOpen&&this.props.isOpen&&!e.isOpen&&this.props.onOpen()},n.componentWillUnmount=function(){this._closeTimeoutID&&clearTimeout(this._closeTimeoutID)},n.render=function(){var e=this.props,t=e.className,n=e.style,r=e.children,i=e.forwardedRef,a=this.state,o=a.isOpen,s=a.shouldPreventPortalClose;return o||s?Bv.a.createPortal(VP("div",{className:t,style:n,ref:i,onTouchStart:this.onInteractionEvent,onTouchMove:this.onInteractionEvent,onTouchEnd:this.onInteractionEvent,onTouchCancel:this.onInteractionEvent,onMouseDown:this.onInteractionEvent,onMouseUp:this.onInteractionEvent,onMouseLeave:this.onInteractionEvent,onClick:this.onInteractionEvent,onFocus:this.onInteractionEvent,onBlur:this.onInteractionEvent},r),document.body):null},t}(Xf.a.Component);QP.defaultProps={isOpen:!0,closeTimeout:0,allowInteractionEventBubbling:!1};var WP=Xf.a.forwardRef(function(e,t){return VP(QP,dv()({},e,{forwardedRef:t}))}),GP=Xf.a.createElement,YP=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onOpen=function(){r._open()},r.onClose=function(){r._close()},r.onPopperUpdate=function(e){var t=r.props.onReposition;t&&t(e.placement.split("-")[0])},r._ref=t.forwardedRef||Xf.a.createRef(),r._popper=null,r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e){this._popper&&this._popper.scheduleUpdate()},n.componentWillUnmount=function(){this._close()},n._open=function(){var e=this.props,t=e.target,n=e.options,r=document.getElementById(t)||document.getElementsByName(t)[0];this._popper=new HP.a(r,Bv.a.findDOMNode(this._ref.current),Object.assign({},n,{onUpdate:this.onPopperUpdate})),this._popper.scheduleUpdate()},n._close=function(){this._popper&&(this._popper.destroy(),this._popper=null)},n.render=function(){return GP(WP,dv()({},this.props,{ref:this._ref,onOpen:this.onOpen,onClose:this.onClose}))},t}(Xf.a.Component);YP.defaultProps={options:{placement:"bottom-start"}};var KP=Xf.a.forwardRef(function(e,t){return GP(YP,dv()({},e,{forwardedRef:t}))}),qP=n(284),ZP=n.n(qP),XP=n(366),JP=n.n(XP);function $P(e,t,n){var r=0;return Xf.a.Children.map(e,function(e){if(Xf.a.isValidElement(e)){var i=r;return r++,t.call(n,e,i)}return e})}var eT=n(369),tT=n.n(eT),nT=Xf.a.createElement,rT=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScroll=function(e){if(e.target===r._scrollerRef.current){var t=e.target.scrollTop,n=e.target.scrollLeft,i=t!==r._currentScrollTop,a=n!==r._currentScrollLeft;(i||a)&&r._setScrollPosition({scrollTop:t,scrollLeft:n}),r.props.onScroll&&r.props.onScroll(e)}},r.onScrollPositionChange=function(){r._animationFrameID=null,r.props.onScrollPositionChange({scrollTop:r._currentScrollTop,scrollLeft:r._currentScrollLeft})},r.onScrollTimeout=function(){r.setState({isScrolling:!1})},r.onScrollToUpdate=function(){r._updateScrollPosition(r._scrollToPosition),r.props.onScrollToUpdate&&r.props.onScrollToUpdate(r._scrollToPosition)},r.onScrollToComplete=function(){r._scrollToTween=null,r._scrollToPosition=null,r.props.onScrollToComplete&&r.props.onScrollToComplete()},r.state={isScrolling:!1},r._scrollerRef=t.forwardedRef||Xf.a.createRef(),r._currentScrollTop=0,r._currentScrollLeft=0,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._scrollTo(this.props)},n.componentWillReceiveProps=function(e){e.scrollTop===this.props.scrollTop&&e.scrollLeft===this.props.scrollLeft||this.setState({isScrolling:!0})},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e){this.state.isScrolling&&(this._scrollTimeoutID&&clearTimeout(this._scrollTimeoutID),this._scrollTimeoutID=setTimeout(this.onScrollTimeout,this.props.isScrollingTimeout)),this._scrollTo(this.props)},n.componentWillUnmount=function(){this._clearTimeouts(),this._cancelScrollTo()},n._setScrollPosition=function(e){var t=e.scrollTop,n=e.scrollLeft;this._clearTimeouts(),this._currentScrollTop=t,this._currentScrollLeft=n,this._animationFrameID=window.requestAnimationFrame(this.onScrollPositionChange)},n._updateScrollPosition=function(e){var t=e.scrollTop,n=e.scrollLeft,r=this._scrollerRef.current;null!=t&&(r.scrollTop=t),null!=n&&(r.scrollLeft=n)},n._scrollTo=function(e){var t=e.scrollTop,n=e.scrollLeft;if(null!=t||null!=n){var r=null!=t&&t!==this._currentScrollTop,i=null!=n&&n!==this._currentScrollLeft;if(r||i){if(!this.props.smoothScroll&&!this.props.restoreScroll)return this._currentScrollTop=t,this._currentScrollLeft=n,void this._updateScrollPosition({scrollTop:t,scrollLeft:n});var a=this.props.smoothScrollDuration/1e3,o={ease:JP.a.Power3.easeOut,onUpdate:this.onScrollToUpdate,onComplete:this.onScrollToComplete};this._scrollToPosition={};var s=this._scrollerRef.current;r&&(o.scrollTop=Math.min(t,s.scrollHeight-s.clientHeight),this._scrollToPosition.scrollTop=s.scrollTop),i&&(o.scrollLeft=Math.min(n,s.scrollWidth-s.clientWidth),this._scrollToPosition.scrollLeft=s.scrollLeft),this._cancelScrollTo(),this._scrollToTween=ZP.a.to(this._scrollToPosition,a,o)}}},n._cancelScrollTo=function(){this._scrollToTween&&(this._scrollToTween.kill(),this._scrollToTween=null)},n._clearTimeouts=function(){this._animationFrameID&&window.cancelAnimationFrame(this._animationFrameID),this._scrollTimeoutID&&clearTimeout(this._scrollTimeoutID)},n.render=function(){var e=this,t=this.props,n=t.className,r=t.children,i=t.scrollDirection,a=t.autoScroll,o=t.compactScroller,s=t.enableChildrenProps,l=t.onScroll,c=t.onScrollPositionChange,u=(t.forwardedRef,t.smoothScroll,t.restoreScroll,t.smoothScrollDuration,t.scrollTop,t.scrollLeft,t.isScrollingTimeout,t.onScrollToUpdate,t.onScrollToComplete,wt()(t,["className","children","scrollDirection","autoScroll","compactScroller","enableChildrenProps","onScroll","onScrollPositionChange","forwardedRef","smoothScroll","restoreScroll","smoothScrollDuration","scrollTop","scrollLeft","isScrollingTimeout","onScrollToUpdate","onScrollToComplete"]));return nT("div",dv()({className:(n||"")+" "+(tT.a.scroller||"")+" "+(tT.a[i]||"")+" "+(a&&tT.a.auto||"")+" "+(o&&tT.a.compactScroller||""),ref:this._scrollerRef,onScroll:c?this.onScroll:l},u),s?$P(r,function(t){return Xf.a.cloneElement(t,{isScrolling:e.state.isScrolling,scrollTop:e._currentScrollTop,scrollLeft:e._currentScrollLeft})}):r)},t}(Xf.a.Component);rT.defaultProps={scrollDirection:Xp,autoScroll:!1,smoothScroll:!0,restoreScroll:!1,smoothScrollDuration:400,enableChildrenProps:!1,isScrollingTimeout:100};var iT,aT,oT=Xf.a.forwardRef(function(e,t){return nT(rT,dv()({},e,{forwardedRef:t}))});function sT(e){var t=parseFloat(e,10),n=e.match(/m?s/);switch(n&&(n=n[0]),n){case"s":return 1e3*t;case"ms":return t}return 0}function lT(e){var t=e.tabIndex;return null===t&&(t=void 0),!isNaN(t)&&t>=0&&function(e){if(!function e(t){if(t===document)return!0;if(!t)return!1;if(!t.parentNode)return!1;if(t.style){var n=t.style;if("none"===n.display||"hidden"===n.visibility)return!1}if(window.getComputedStyle){var r=window.getComputedStyle(t);if("none"===r.getPropertyValue("display")||"hidden"===r.getPropertyValue("visibility"))return!1}return e(t.parentNode)}(e))return!1;var t=e.nodeName.toLowerCase();if(/input|select|textarea|button|object/.test(t))return!e.disabled;if("a"===t)return e.href;return!0}(e)}function cT(e){if(!e)return[];var t=[].slice.call(e.getElementsByTagName("*"),0).filter(function(e){return lT(e)});return C.a.sortBy(t,function(e){return 0===e.tabIndex?1/0:e.tabIndex})}function uT(e){try{e.focus()}catch(e){}}function dT(e){var t=document.activeElement,n=t&&e&&e.contains(t);t&&!n&&t.blur()}function pT(e){iT=document.activeElement,aT=e,dT(e)}function hT(e){Object(M.a)(aT,"Call `startScopedFocus(element)` before `scopeTabEvent`");var t=cT(aT);if(t.length){e.preventDefault();var n,r=document.activeElement,i=r?t.indexOf(r):-1,a=t.length-1;-1===i?n=e.shiftKey?a:0:(n=e.shiftKey?i-1:i+1)<0?n=a:n>a&&(n=0),uT(t[n])}}function fT(){Object(M.a)(aT,"Call `startScopedFocus(element)` before `scopeAutoFocus`");var e=cT(aT),t=C.a.find(e,function(e){return Object(zr.a)(e.getAttribute("data-autofocus"))});t&&uT(t)}function gT(){iT&&(uT(iT),iT=null)}var vT=n(118),mT=n.n(vT),yT=n(577),bT=n.n(yT),ST=n(218),IT=n.n(ST),CT=9,MT=13,DT=27,wT=38,PT=40,TT=n(303),ET=n.n(TT),xT=Xf.a.createElement,OT=Xf.a.Component,jT=sT(mT.a.menuSpeed),AT=parseInt(bT.a.menuPadding,10),NT={ease:"easeOut",duration:jT},kT={ease:IT.a.motionEasing,duration:jT},LT={opacity:NT,y:kT,scale:kT},RT=BP.div({preEnter:{opacity:0,y:-10,scale:.95,transition:LT},enter:{opacity:1,y:0,scale:1,transition:LT},exit:{opacity:0,y:10,scale:.95,transition:LT}});function _T(e){return Math.min(window.innerHeight-2*AT,e.maxHeight)}var UT=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onResize=function(e){r.setState({maxHeight:_T(r.props)})},r.onWindowPress=function(e){var t=r.props.target,n=document.getElementById(r._menuID),i=n&&n.contains(e.target),a=!i&&document.getElementById(t),o=a&&a.contains(e.target);i||o||r.props.onMenuClose()},r.onKeyDown=function(e){var t=e.keyCode;t===CT?hT(e):t===DT&&(e.preventDefault(),e.stopPropagation(),r.props.onMenuClose(),gT())},r.state={maxHeight:_T(t)},r._menuID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._enable(),window.addEventListener("resize",this.onResize)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e,t){!e.isOpen&&this.props.isOpen?this._enable():e.isOpen&&!this.props.isOpen&&this._disable()},n.componentWillUnmount=function(){this.props.isOpen&&this._disable(),window.removeEventListener("resize",this.onResize)},n._enable=function(){pT(document.getElementById(this._menuID)),document.addEventListener("mouseup",this.onWindowPress),document.addEventListener("touchend",this.onWindowPress),document.addEventListener("keydown",this.onKeyDown)},n._disable=function(){document.removeEventListener("mouseup",this.onWindowPress),document.removeEventListener("touchend",this.onWindowPress),document.removeEventListener("keydown",this.onKeyDown)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.portalClassName,i=e.target,a=e.options,o=e.isOpen,s=e.isDisabled,l=e.scrollerProps,c=e.size,u=e.onMouseEnter,d=e.onMouseLeave,p=this.state.maxHeight;return hv()(KP,{className:r,target:i,options:a,isOpen:o,closeTimeout:jT},void 0,hv()(FP,{flipMove:!1,animateOnMount:!0,preEnterPose:"preEnter"},void 0,o?hv()(RT,{id:this._menuID,className:(n||"")+" "+(ET.a[c]||"")+" "+(s&&ET.a.isDisabled||""),onMouseEnter:u,onMouseLeave:d},"container",xT(oT,dv()({},l,{style:{maxHeight:p}}),t)):null))},t}(OT);UT.defaultProps={className:ET.a.menu,portalClassName:ET.a.menuPortal,size:qp.MEDIUM,maxHeight:600,isDisabled:!1,scrollerProps:{className:ET.a.menuScroller,scrollDirection:Xp,autoScroll:!0}};var zT=UT,FT=n(790),BT=n.n(FT),HT=Xf.a.Component,VT=Xf.a.Fragment,QT=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._menuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.title,i=e.isMenuOpen,a=e.onPress,o=e.onMenuClose;return hv()(VT,{},void 0,hv()(AI,{className:t,id:this._menuButtonID,size:qp.LARGE,direction:i?Up:Fp,isSelected:!1,onPress:a},void 0,r),hv()(zT,{target:this._menuButtonID,isOpen:i,onMenuClose:o},void 0,n))},t}(HT);QT.defaultProps={className:BT.a.menuButton};var WT=QT,GT=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMenuButtonPress=function(){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.onSelect=function(e){r.setState({isMenuOpen:!1},function(){r.props.onSelect(e)})},r.state={isMenuOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.items,i=t.selectedItem,a=this.state.isMenuOpen;return hv()(WT,{className:n,title:i.title,isMenuOpen:a,onPress:this.onMenuButtonPress,onMenuClose:this.onMenuClose},void 0,r.map(function(t){var n=t.key;return hv()(MI,{value:n,isSelected:i.key===n,onSelect:e.onSelect},n,t.title)}))},t}(Xf.a.Component),YT=n(791),KT=n.n(YT),qT=Xf.a.createElement;var ZT=function(e){return qT(GT,dv()({},e,{className:KT.a.menuButton}))},XT="all",JT="remote",$T="local",eE=Object(vl.a)(["key"],[{key:XT,title:function(){return Object(Xn.default)("All")}},{key:JT,title:function(){return Object(Xn.default)("Remote")}},{key:$T,title:function(){return Object(Xn.default)("Local")}}]),tE=eE.get,nE=eE.getAll,rE=n(39);function iE(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(nl.a)(e,t);return n.setHours(0,0,0,0),n}var aE=n(792),oE=n.n(aE),sE="";function lE(e){var t=e.className,n=e.separator;return hv()("span",{className:t},void 0,n)}lE.defaultProps={className:oE.a.separator,separator:sE};var cE=lE;function uE(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=iE(e,n),i=iE(t,n);return r.getTime()===i.getTime()}function dE(e){if(null==e)return!1;var t=Object(rE.a)(e);return uE(new Date,t)}var pE=["bps","Kbps","Mbps","Gbps","Tbps"];var hE=function(e,t){if(void 0===t&&(t=2),0===e)return(0).toFixed(t)+" "+pE[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+pE[n]},fE=["B","KB","MB","GB","TB"];var gE=function(e,t){if(void 0===t&&(t=2),0===e)return(0).toFixed(t)+" "+fE[0];var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+fE[n]},vE=n(68),mE=n(207),yE=Xf.a.createElement,bE=Xf.a.Component;var SE=function(e,t){var n=Object.keys(t),r=function(r){function i(e,t){var i;return(i=r.call(this,e,t)||this).state=n.reduce(function(e,t){return e[t]=null,e},{}),i}Sy()(i,r);var a=i.prototype;return a.componentDidMount=function(){var e=this;this._pairs=n.map(function(e){return[e,Object(mE.a)(t[e]())]}),this._pairs.forEach(function(t){var n=t[0];t[1].promise.then(function(t){var r;e.setState(((r={})[n]=t,r))})})},a.componentWillUnmount=function(){this._pairs.forEach(function(e){e[0],e[1].cancel()})},a.render=function(){return yE(e,dv()({},this.props,this.state))},i}(bE);return r.displayName="AsyncProps("+Object(vE.a)(e)+":"+n.join(",")+")",r.WrappedComponent=e,r};function IE(e,t,n,r,i,a){var o=t-a,s=r>=0?1:-1,l=r>=0?1:0,c=Math.min(Math.abs(n)/2,Math.abs(r)/2),u=Math.min(c,i);return"M "+e+","+(o+s*u)+"\n    A "+u+","+u+",0,0,"+l+","+(e+u)+","+o+"\n    L "+(e+n-u)+","+o+"\n    A "+u+","+u+",0,0,"+l+","+(e+n)+","+(o+s*u)+"\n    L "+(e+n)+","+(o+r-s*u)+"\n    A "+u+","+u+",0,0,"+l+","+(e+n-u)+","+(o+r)+"\n    L "+(e+u)+","+(o+r)+"\n    A "+u+","+u+",0,0,"+l+","+e+","+(o+r-s*u)+" Z"}var CE=function(e){var t=e.x,n=e.y,r=e.width,i=e.height,a=e.radius,o=e.fill,s=e.barGap,l=e.data,c=e.dataKey,u=e.seriesOrdering,d=e.seriesIndex,p=u.slice(0,d),h=l.find(function(t){return t[c]===e[c]}),f=p.reduce(function(e,t){return 0!==h[t]&&e++,e},0)*s;return hv()("path",{d:IE(t,n,r,i,a,f),fill:o})},ME=n(584),DE=n.n(ME),wE=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){var e=t.props,n=e.dataKey,r=e.onPress;r&&r(n)},t.onMouseEnter=function(){var e=t.props,n=e.dataKey,r=e.onMouseEnter;r&&r(n)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.title,r=e.labelColor,i=e.onMouseLeave;return hv()(RS,{className:t,onPress:this.onPress,onMouseEnter:this.onMouseEnter,onMouseLeave:i},void 0,hv()("span",{className:DE.a.dot,style:{backgroundColor:r}}),n)},t}(Xf.a.Component);wE.defaultProps={className:DE.a.legendLabel};var PE=wE,TE=n(186),EE=n.n(TE),xE=Xf.a.Component,OE=Xf.a.Fragment,jE=hv()(cE,{}),AE=hv()(cE,{}),NE=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this.props,r=n.active,i=n.onActive,a=n.onInactive,o=e.active;!o&&r&&i?i():o&&!r&&a&&a()},n.render=function(){var e=this.props,t=e.active,n=e.label,r=e.payload,i=e.series,a=e.showTotal,o=e.labelFormatter,s=e.valueFormatter;if(!t||!r)return null;var l=o?o(n):n,c=a?r.reduce(function(e,t){return e+t.value},0):null;return hv()("div",{className:EE.a.container},void 0,hv()("div",{className:EE.a.label},void 0,l),hv()("div",{className:EE.a.separator}),hv()("div",{},void 0,hv()("div",{className:EE.a.values},void 0,r.map(function(e){var t=i.find(function(t){return t.dataKey===e.dataKey}).title;return hv()("div",{className:EE.a.valueRow},e.dataKey,hv()(PE,{className:EE.a.LegendLabel,title:t,labelColor:e.color}),jE,s(e.value))})),a?hv()(OE,{},void 0,hv()("div",{className:EE.a.separator}),hv()("div",{className:EE.a.total},void 0,Object(Xn.default)("Total"),AE,s(c))):null))},t}(xE);NE.defaultProps={showTotal:!0};var kE=NE,LE=n(220),RE=n.n(LE),_E=Xf.a.createElement;function UE(e){return e.every(function(e){return e.visible})}function zE(e){return function(t){return _E(CE,dv()({},t,e))}}var FE=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseEnter=function(e){r.setState({hoveredDataKey:e})},r.onMouseLeave=function(){r.setState({hoveredDataKey:null})},r.renderLegend=function(){var e=r.props,t=e.series,n=e.legendSummary,i=e.onLegendPress,a=r.state.hoveredDataKey;return hv()("div",{className:RE.a.legendContainer},void 0,hv()("div",{className:RE.a.legendLabels},void 0,t.map(function(e){var t=!e.visible||a&&a!==e.dataKey&&!e.selected;return hv()(PE,{className:t?RE.a.translucentLegendLabel:RE.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:i,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave},e.dataKey)})),n?hv()("div",{className:RE.a.legendSummary},void 0,n):null)},r.state={hoveredDataKey:null},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this.props,r=n.recharts,i=n.onChartReady;!e.recharts&&r&&i&&i()},n.render=function(){var e=this,t=this.props,n=t.className,r=t.recharts,i=t.width,a=t.height,o=t.series,s=t.data,l=t.xAxisKey,c=t.stacked,u=t.isAnimationActive,d=t.showTooltipTotal,p=t.chartMargin,h=t.gridLinesStyles,f=t.barGap,g=t.legendHeight,v=t.tooltipLabelFormatter,m=t.tooltipValueFormatter,y=t.xAxisDomain,b=t.xAxisStyle,S=t.xAxisPadding,I=t.xAxisTick,C=t.xAxisTickMargin,M=t.xAxisTickLineStyle,D=t.xAxisTickFormatter,w=t.yAxisDomain,P=t.yAxisWidth,T=t.yAxisStyle,E=t.yAxisPadding,x=t.yAxisTick,O=t.yAxisTickMargin,j=t.yAxisTickLineStyle,A=t.yAxisTickFormatter,N=this.state.hoveredDataKey;if(!r)return null;var k,L=r.CartesianGrid,R=r.Legend,_=r.BarChart,U=r.Bar,z=r.ResponsiveContainer,F=r.Tooltip,B=r.XAxis,H=r.YAxis,V=o.map(function(e){return e.dataKey});return hv()(z,{className:n,width:i,height:a},void 0,hv()(_,{data:s,margin:p},void 0,_E(L,h),hv()(B,{domain:y,axisLine:b,dataKey:l,padding:S,tick:I,tickLine:M,tickMargin:C,minTickGap:0,tickFormatter:D}),hv()(H,{domain:w,axisLine:T,padding:E,tick:x,tickLine:j,tickMargin:O,tickCount:6,tickFormatter:A,width:P}),hv()(F,{cursor:!1,isAnimationActive:!1,content:(k={series:o,showTotal:d,labelFormatter:v,valueFormatter:m},function(e){return _E(kE,dv()({},e,k))})}),o.map(function(t,n){return hv()(U,{className:N&&N!==t.dataKey&&UE(o)?RE.a.translucentBar:RE.a.bar,dataKey:t.dataKey,shape:zE({barGap:c?f:0,data:s,dataKey:l,seriesOrdering:V,seriesIndex:n}),radius:2,fill:t.color,isAnimationActive:u,stackId:c?"stacked":null,onMouseEnter:e.onMouseEnter.bind(null,t.dataKey),onMouseLeave:e.onMouseLeave},t.dataKey)}),hv()(R,{height:g,content:this.renderLegend,wrapperStyle:{paddingLeft:P+"px"}})))},t}(Xf.a.Component);FE.defaultProps={xAxisKey:"date",stacked:!0,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},barGap:2,legendHeight:20,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:15,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:60,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var BE=SE(FE,{recharts:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1697))}});var HE=function(e){var t=e.x,n=e.y,r=e.margin,i=e.fill,a=e.fontSize,o=e.index,s=e.visibleTicksCount,l=e.payload,c=e.tickFormatter,u="middle";0===o?u="start":o+1===s&&(u="end");var d=c?c(l.value):l.value;return hv()("g",{transform:"translate("+t+","+n+")"},void 0,hv()("text",{dy:r,fill:i,fontSize:a,textAnchor:u},void 0,d))},VE=n(221),QE=n.n(VE),WE=Xf.a.createElement;function GE(e){return e.every(function(e){return e.visible})}function YE(e){return function(t){return WE(kE,dv()({},t,e))}}var KE=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseEnter=function(e){r.setState({hoveredDataKey:e})},r.onMouseLeave=function(){r.setState({hoveredDataKey:null})},r.renderLegend=function(){var e=r.props,t=e.series,n=e.legendSummary,i=e.onLegendPress,a=r.state.hoveredDataKey;return hv()("div",{className:QE.a.legendContainer},void 0,hv()("div",{className:QE.a.legendLabels},void 0,t.map(function(e){var t=!e.visible||a&&a!==e.dataKey&&!e.selected;return hv()(PE,{className:t?QE.a.translucentLegendLabel:QE.a.legendLabel,dataKey:e.dataKey,title:e.title,labelColor:e.color,onPress:i,onMouseEnter:r.onMouseEnter,onMouseLeave:r.onMouseLeave},e.dataKey)})),n?hv()("div",{className:QE.a.legendSummary},void 0,n):null)},r.state={hoveredDataKey:null},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this.props,r=n.recharts,i=n.onChartReady;!e.recharts&&r&&i&&i()},n.render=function(){var e=this,t=this.props,n=t.className,r=t.recharts,i=t.width,a=t.height,o=t.series,s=t.data,l=t.xAxisKey,c=t.connectNulls,u=t.lineType,d=t.lineStrokeWidth,p=t.isAnimationActive,h=t.showTooltipTotal,f=t.chartMargin,g=t.gridLinesStyles,v=t.legendHeight,m=t.tooltipLabelFormatter,y=t.tooltipValueFormatter,b=t.dot,S=t.xAxisDomain,I=t.xAxisStyle,C=t.xAxisPadding,M=t.xAxisTick,D=t.xAxisTickInterval,w=t.xAxisTickMargin,P=t.xAxisTickLineStyle,T=t.xAxisTickFormatter,E=t.yAxisDomain,x=t.yAxisWidth,O=t.yAxisStyle,j=t.yAxisPadding,A=t.yAxisTick,N=t.yAxisTickMargin,k=t.yAxisTickLineStyle,L=t.yAxisTickFormatter,R=t.onTooltipActive,_=t.onTooltipInactive,U=this.state.hoveredDataKey;if(!r)return null;var z,F=r.CartesianGrid,B=r.Legend,H=r.LineChart,V=r.Line,Q=r.ResponsiveContainer,W=r.Tooltip,G=r.XAxis,Y=r.YAxis,K=[].concat(o).reverse();return hv()(Q,{className:n,width:i,height:a},void 0,hv()(H,{data:s,margin:f},void 0,WE(F,g),hv()(G,{domain:S,axisLine:I,dataKey:l,padding:C,tick:(z=Object.assign({},M,{margin:w,tickFormatter:T}),function(e){return WE(HE,dv()({},e,z))}),tickLine:P,minTickGap:0,interval:D}),hv()(Y,{domain:E,axisLine:O,padding:j,tick:A,tickLine:k,tickMargin:N,tickCount:6,tickFormatter:L,width:x}),hv()(W,{cursor:!1,isAnimationActive:!1,content:YE({series:o,showTotal:h,labelFormatter:m,valueFormatter:y,onActive:R,onInactive:_})}),K.map(function(t){return hv()(V,{className:U&&U!==t.dataKey&&GE(o)?QE.a.translucentLine:QE.a.line,type:u,dataKey:t.dataKey,dot:b,stroke:t.color,strokeWidth:d,connectNulls:c,isAnimationActive:p,onMouseEnter:e.onMouseEnter.bind(null,t.dataKey),onMouseLeave:e.onMouseLeave},t.dataKey)}),hv()(B,{height:v,content:this.renderLegend,wrapperStyle:{paddingLeft:x+"px"}})))},t}(Xf.a.Component);KE.defaultProps={xAxisKey:"date",connectNulls:!1,lineType:"monotone",lineStrokeWidth:3,isAnimationActive:!0,chartMargin:{top:15,right:20,bottom:10,left:0},gridLinesStyles:{horizontal:!0,vertical:!1,stroke:"rgba(255, 255, 255, 0.1)"},legendHeight:20,dot:!1,xAxisStyle:!1,xAxisPadding:{left:0,right:0},xAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},xAxisTickMargin:20,xAxisTickLineStyle:{fill:"rgba(255, 255, 255, 0.1)",strokeWidth:5},yAxisWidth:75,yAxisStyle:!1,yAxisPadding:{top:0,bottom:0},yAxisTick:{fill:"rgba(255, 255, 255, 0.45)",fontSize:"10px"},yAxisTickMargin:5,yAxisTickLineStyle:!1};var qE=SE(KE,{recharts:function(){return Promise.all([n.e(0),n.e(1)]).then(n.bind(null,1697))}}),ZE=n(23),XE=n(461),JE=n.n(XE);function $E(e){var t=e.className,n=e.errorClassName,r=e.children,i=e.showSpinner,a=e.errorMessage;return hv()("div",{className:t},void 0,i?hv()(ZE.a,{className:JE.a.spinner,size:qp.LARGE}):null,r,a?hv()(iI,{className:n},void 0,a):null)}$E.defaultProps={className:JE.a.container,errorClassName:JE.a.errorMessage};var ex=$E,tx=n(585),nx=n.n(tx),rx=Xf.a.createElement;var ix=function(e){return rx(ex,dv()({className:nx.a.container,errorClassName:nx.a.errorMessage},e))};function ax(e){return null==e?"":0===e?Object(Xn.default)("Now").toUpperCase():e%60==0?Math.floor(e/60)+"m":e>60?Math.floor(e/60)+"m "+e%60+"s":e+"s"}var ox=Xf.a.Component,sx=Xf.a.Fragment,lx=120;function cx(e){return dE(e)||Fb(iE(new Date))<=e}function ux(e,t,n,r){if(void 0===r&&(r=!1),t.timespan===iS.DAY&&dE(e)){var i=Object(Xn.default)("Today");return r?i.toUpperCase():i}return Object(tl.a)(Object(rE.a)(e),n)}var dx=hv()(cE,{}),px=hv()(cE,{});function hx(e,t,n){if(!e)return null;var r=t&&n;return hv()(sx,{},void 0,r?Object(Xn.default)("Averages"):Object(Xn.default)("Average"),": ",r?hv()(sx,{},void 0,tE(JT).title,dx):null,t?hE(8*e[JT]/lx,0):null,r?hv()(sx,{},void 0," | ",tE($T).title,px):null,n?hE(8*e[$T]/lx,0):null)}var fx=hv()(cE,{}),gx=hv()(cE,{});function vx(e,t,n){if(!e)return null;var r=t&&n;return hv()(sx,{},void 0,r?Object(Xn.default)("Totals"):Object(Xn.default)("Total"),": ",r?hv()(sx,{},void 0,tE(JT).title,fx):null,t?gE(e[JT],0):null,r?hv()(sx,{},void 0," | ",tE($T).title,gx):null,n?gE(e[$T],0):null)}var mx=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).realTimeTooltipLabelFormatter=function(e){return 0===e?Object(Xn.default)("Now"):Object(Xn.default)("{unitOfTime} ago",{unitOfTime:ax(e)})},r.tooltipLabelFormatter=function(e){var t=r.state.timePeriodType;if(t.timespan===iS.WEEK){var n=ux(e,t,t.longDateFormat),i=Fb(Yb(Object(rE.a)(e),1));return dE(e)&&cx(i)?Object(Xn.default)("Today"):n+" - "+ux(i,t,t.longDateFormat)}return ux(e,t,t.longDateFormat)},r.realTimeTooltipValueFormatter=function(e){return hE(8*e,0)},r.tooltipValueFormatter=function(e){return gE(e,0)},r.realTimeXAxisTickFormatter=function(e){return ax(e)},r.xAxisTickFormatter=function(e){var t=r.state.timePeriodType;if(t.key===eS){var n=ux(e,t,t.dateFormat),i=Fb(Yb(Object(rE.a)(e),1));return dE(e)&&cx(i)?Object(Xn.default)("Today").toUpperCase():n+" - "+ux(i,t,t.dateFormat)}return ux(e,t,t.dateFormat,!0)},r.yAxisTickFormatter=function(e){return 0===e?"":r.props.timePeriodType.key===Zb?hE(8*e,0):gE(e,0)},r.onChartReady=function(){r.setState({isChartReady:!0})},r.state={statistics:null,bandWidthSourceType:null,timePeriodType:null,data:null,summedData:null,isChartReady:!1,isFirstRealTimeStatisticsLoad:!1},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.statistics,r=e.bandWidthSourceType,i=e.timePeriodType,a=e.responseTimestampMilliseconds;if(t.statistics!==n||t.bandWidthSourceType!==r||t.timePeriodType!==i){var o=t.timePeriodType&&t.timePeriodType.key===Zb,s=i.key===Zb,l=s?function(e,t,n){var r;if(!e)return[];var i=XT,a=JT,o=$T,s=t.key,l=s===i||s===a,c=s===i||s===o,u=Math.floor(n/1e3)-lx-1,d=Array.from(new Array(lx+1),function(e,t){var n;return(n={at:u+t,date:lx-t})[a]=l?0:null,n[o]=c?0:null,n}),p=((r={})[a]=0,r[o]=0,r);return e.forEach(function(e){var t=e.at,n=e.lan,r=e.bytes,i=d.findIndex(function(e){return e.at===Number(t)});if(-1!==i){var s=d[i];!n&&l&&(s[a]=s[a]+r,p[a]=p[a]+r),n&&c&&(s[o]=s[o]+r,p[o]=p[o]+r),d[i]=s}}),{data:d,summedData:p}}(n,r,a):function(e,t,n){var r;if(!e)return[];var i=XT,a=JT,o=$T,s=t.key,l=s===i||s===a,c=s===i||s===o,u={},d=((r={})[a]=0,r[o]=0,r);return e.forEach(function(e){var t,n=e.at,r=e.lan,i=e.bytes;u[n]||(u[n]=((t={})[a]=0,t[o]=0,t)),!r&&l&&(u[n][a]=u[n][a]+i,d[a]=d[a]+i),r&&c&&(u[n][o]=u[n][o]+i,d[o]=d[o]+i)}),{data:Object.keys(u).sort().map(function(e){var t=u[e];return Object.assign({},t,{date:e})}),summedData:d}}(n,r);return{statistics:n,bandWidthSourceType:r,timePeriodType:i,data:l.data,summedData:l.summedData,isFirstRealTimeStatisticsLoad:!o&&s}}return null},t.prototype.render=function(){var e=this.props,t=e.showSpinner,n=e.showGraph,r=e.errorMessage,i=e.onGraphBandwidthSourceTypeSelect,a=e.onGraphTooltipActive,o=e.onGraphTooltipInactive,s=this.state,l=s.bandWidthSourceType,c=s.timePeriodType,u=s.data,d=s.summedData,p=s.isChartReady,h=s.isFirstRealTimeStatisticsLoad,f=XT,g=JT,v=$T,m=l.key,y=m===f||m===g,b=m===f||m===v,S=[{dataKey:g,title:tE(g).title,visible:y,selected:m===g,color:"#366dfc"},{dataKey:v,title:tE(v).title,visible:b,selected:m===v,color:"#e69f23"}],I=c.key===Zb,C=!r&&(t&&(!I||h)||!p),M=I?!r&&!h:!r&&n,D=I?qE:BE,w=I?hx:vx;return hv()(ix,{showSpinner:C,errorMessage:r},void 0,M?hv()(D,{width:"100%",height:280,series:S,data:u,legendSummary:w(d,y,b),isAnimationActive:!I,xAxisTickInterval:I?9:null,tooltipLabelFormatter:I?this.realTimeTooltipLabelFormatter:this.tooltipLabelFormatter,tooltipValueFormatter:I?this.realTimeTooltipValueFormatter:this.tooltipValueFormatter,xAxisTickFormatter:I?this.realTimeXAxisTickFormatter:this.xAxisTickFormatter,yAxisTickFormatter:this.yAxisTickFormatter,onLegendPress:i,onChartReady:this.onChartReady,onTooltipActive:a,onTooltipInactive:o}):null)},t}(ox),yx=n(586),bx=n.n(yx),Sx=Xf.a.Component,Ix=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).fetchBandwidthStatistics=function(){var e=r.props.onFetchBandwidthStatistics,t=r.state.selectedTimePeriodType;e({timespan:t.timespan,after:t.after()})},r.onBandwidthSourceTypeSelect=function(e){r.setState({selectedBandWidthSourceType:tE(e)})},r.onTimePeriodTypeSelect=function(e){r.setState({selectedTimePeriodType:oS(e)})},r.onGraphBandwidthSourceTypeSelect=function(e){var t=e===r.state.selectedBandWidthSourceType.key?XT:e;r.setState({selectedBandWidthSourceType:tE(t)})},r.onGraphTooltipActive=function(){r.state.selectedTimePeriodType.key===Zb&&(r.clearRealTimeBandwidthStatisticsTimeout(),r.props.onAbortFetchBandwidthStatistics())},r.onGraphTooltipInactive=function(){r.state.selectedTimePeriodType.key===Zb&&r.fetchBandwidthStatistics()},r.state={selectedBandWidthSourceType:tE(XT),selectedTimePeriodType:oS(Zb)},r._availableTimePeriodTypes=[Zb,Xb,Jb,$b,eS,tS,nS,rS].map(oS),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.canShowGraph&&this.fetchBandwidthStatistics()},n.componentDidUpdate=function(e,t){var n=this.props,r=n.bandwidthStatisticsRequestTimestampMilliseconds,i=n.isBandwidthStatisticsPopulated,a=this.state.selectedTimePeriodType;if(a.key!==t.selectedTimePeriodType.key)return this.clearRealTimeBandwidthStatisticsTimeout(),void this.fetchBandwidthStatistics();if(a.key===Zb&&!e.isBandwidthStatisticsPopulated&&i){var o=Date.now()-r,s=Math.max(1e3-o,0);this._fetchRealTimeBandwidthStatisticsTimeoutID=setTimeout(this.fetchBandwidthStatistics,s)}},n.componentWillUnmount=function(){this.clearRealTimeBandwidthStatisticsTimeout()},n.clearRealTimeBandwidthStatisticsTimeout=function(){clearTimeout(this._fetchRealTimeBandwidthStatisticsTimeoutID)},n.render=function(){var e=this.props,t=e.machineIdentifier,n=e.bandwidthStatistics,r=e.bandwidthStatisticsResponseTimestampMilliseconds,i=e.minServerVersion,a=e.canShowGraph,o=e.showSpinner,s=e.isBandwidthStatisticsPopulated,l=e.errorMessage,c=this.state,u=c.selectedBandWidthSourceType,d=c.selectedTimePeriodType;return hv()("div",{className:bx.a.container},void 0,hv()(eI,{title:Object(Xn.default)("Bandwidth")},void 0,a?hv()("div",{},void 0,hv()(ZT,{items:nE(),selectedItem:u,onSelect:this.onBandwidthSourceTypeSelect}),hv()(ZT,{items:this._availableTimePeriodTypes,selectedItem:d,onSelect:this.onTimePeriodTypeSelect})):null),hv()("div",{className:bx.a.graph},void 0,a?hv()(mx,{statistics:n,responseTimestampMilliseconds:r,bandWidthSourceType:u,timePeriodType:d,showSpinner:o,showGraph:s,errorMessage:l,onGraphBandwidthSourceTypeSelect:this.onGraphBandwidthSourceTypeSelect,onGraphTooltipActive:this.onGraphTooltipActive,onGraphTooltipInactive:this.onGraphTooltipInactive}):hv()(lI,{machineIdentifier:t},void 0,Object(Xn.default)("The Bandwidth chart requires Plex Media Server {version} or higher",{version:i}))))},t}(Sx);var Cx=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},XS,function(e,t){return{machineIdentifier:t.machineIdentifier,bandwidthStatistics:e.bandwidthStatistics,bandwidthStatisticsRequestTimestampMilliseconds:e.bandwidthStatisticsRequestTimestampMilliseconds,bandwidthStatisticsResponseTimestampMilliseconds:e.bandwidthStatisticsResponseTimestampMilliseconds,minServerVersion:Cc.dashboardBandwidthChart,canShowGraph:yc(t.version,Cc.dashboardBandwidthChart),showSpinner:e.isBandwidthStatisticsPending,isBandwidthStatisticsPopulated:e.isBandwidthStatisticsPopulated,errorMessage:e.bandwidthStatisticsError}})},function(e,t){return{onFetchBandwidthStatistics:function(n){e(uS(Object.assign({serverEntityID:t.serverEntityID},n)))},onAbortFetchBandwidthStatistics:function(){e(dS())}}})(Ix),Mx=180,Dx=[7,30,60,90,Mx];var wx=function(e){void 0===e&&(e=0);var t=Dx[e]||Mx;return{times:e+1,remindAfter:Fb(Bb(new Date,t))}},Px="general.bundle.clean",Tx="grabber.grab",Ex="library.delete",xx="general.db.optimize",Ox="provider.device.channelscan",jx="provider.epg.load";var Ax=function(e,t,n,r){if(function(e,t){if(!e.get("isFullServer"))return!1;if(ve.a.isHostedHttps&&!te.a.get("allowMixedContent"))return!1;var n=t===vp.ALWAYS,r=t===vp.SAME_NETWORK;return!!(n||r&&e.get("publicAddressMatches"))}(e,r)){var i=e.addConnection({scheme:"http",address:t,port:n,isFallback:!0});Object(D.a)("[Connections] Added insecure fallback connection for %s at %s",e.get("debugName"),i.id)}else D.a.warn("[Connections] Prevented fallback to insecure connection for",e.get("debugName"))},Nx=n(107),kx=Ce.a.extend({name:"ChannelMappingModel",context:["server"],rootPropertyName:"ChannelMapping",idAttribute:"deviceIdentifier",syncedAttrs:{deviceIdentifier:Me.a.string,lineupIdentifier:Me.a.string,enabled:Me.a.boolean},defaults:{enabled:!1}}),Lx=Ue.a.extend({name:"ChannelMappingCollection",context:["server"],model:kx});var Rx=function(e,t){if(e===t)return 0;for(var n=e.split("."),r=t.split("."),i=0;i<n.length;i++){if(!r[i])return 1;var a=parseInt(n[i],10),o=parseInt(r[i],10);if(a>o)return 1;if(a<o)return-1}return 0},_x=Ce.a.extend({name:"MediaGrabberDeviceChannelModel",rootPropertyName:"DeviceChannel",idAttribute:"key",syncedAttrs:{key:Me.a.string,identifier:Me.a.string,name:Me.a.string,drm:Me.a.boolean,hd:Me.a.boolean,signalStrength:Me.a.integer,signalQuality:Me.a.integer},augmentResponse:function(e){return e.key=e.key||e.identifier,e}}),Ux=Ue.a.extend({name:"MediaGrabberDeviceChannelCollection",context:["server"],model:_x,comparator:function(e,t){return Rx(e.get("identifier"),t.get("identifier"))}}),zx="dead",Fx="alive",Bx=Ce.a.extend({name:"MediaGrabberDeviceModel",context:["server"],rootPropertyName:"Device",idAttribute:"key",sessionAttrs:{isChannelsPending:Me.a.boolean,isChannelsPopulated:Me.a.boolean,channelsError:Me.a.object,selectedSource:Me.a.string,isSaving:Me.a.boolean,saveError:Me.a.object},sessionRelations:{channels:{relationClass:Ux}},syncedAttrs:{key:Me.a.integer,uuid:Me.a.string,parentID:Me.a.integer,uri:Me.a.string,protocol:Me.a.string,status:Me.a.string,state:Me.a.string,lastSeenAt:Me.a.integer,make:Me.a.string,model:Me.a.string,modelNumber:Me.a.string,source:Me.a.integer,sources:Me.a.list,tuners:Me.a.integer,thumb:Me.a.string,unsupported:Me.a.boolean},syncedRelations:{channelMappings:{rootPropertyName:"ChannelMapping",relationClass:Lx},prefs:{relationClass:Nx.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isChannelsPending:!1,isChannelsPopulated:!1,channelsError:null,isSaving:!1,saveError:null,unsupported:!1}});function Hx(e,t){var n,r=t.libraryID,i=t.libraryType,a=t.cancel,o=t.force,s=t.allowMetrics,l=t.metricsProperties,c=void 0===l?{}:l,u=o?{force:1}:void 0,d=Object(F.join)(["/library/sections",r,"refresh"],u),p=e.getXHROptions(d,{type:a?"DELETE":"GET"});s&&(n=a?fa:o?ga:ha,Object(J.c)("metrics").trackClick(Object.assign({},c,{action:n,type:"all"===r?"all":i})));return P.a.ajax(p).promise()}var Vx,Qx=function(e){return e},Wx=Ce.a.extend({name:"DVRNetworkModel",sessionAttrs:{key:Me.a.string,title:Me.a.string}}),Gx=Ue.a.extend({name:"DVRNetworkCollection",model:Wx}),Yx=Ue.a.extend({name:"MediaGrabberDeviceCollection",context:["server"],model:Bx,url:"/media/grabbers/devices"}),Kx=Ce.a.extend({name:"DVRSetupErrorMessageModel",sessionAttrs:{id:Me.a.string,message:Me.a.string}}),qx=Ue.a.extend({name:"DVRSetupErrorMessageCollection",model:Kx}),Zx=Ce.a.extend({name:"DVRModel",context:["server"],rootPropertyName:"Dvr",idAttribute:"key",sessionAttrs:{isSaving:Me.a.boolean,saveError:Me.a.object},syncedAttrs:{key:Me.a.integer,epgIdentifier:Me.a.string,country:Me.a.string,language:Me.a.string,lineup:Me.a.string,lineupTitle:Me.a.string,uuid:Me.a.string},syncedRelations:{devices:{relationClass:Yx,rootPropertyName:"Device"},prefs:{relationClass:Nx.a,rootPropertyName:"Setting",deferred:!0,save:!0}},defaults:{isSaving:!1,saveError:null}}),Xx=Ce.a.extend({name:"EPGCountryModel",context:["server"],idAttribute:"code",rootPropertyName:"Country",syncedAttrs:{key:Me.a.string,type:Me.a.string,title:Me.a.string,code:Me.a.string,example:Me.a.string,flavor:Me.a.integer,language:Me.a.string,languageTitle:Me.a.string}}),Jx=Ue.a.extend({name:"EPGCountryCollection",context:["server"],model:Xx,url:"/livetv/epg/countries"}),$x=Ce.a.extend({name:"EPGCountryRegionModel",context:["server"],idAttribute:"key",rootPropertyName:"Region",syncedAttrs:{key:Me.a.string,type:Me.a.string,title:Me.a.string}}),eO=Ue.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:$x}),tO=Ce.a.extend({name:"EPGLineupModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Lineup",syncedAttrs:{uuid:Me.a.string,type:Me.a.string,title:Me.a.string,lineupType:Me.a.integer,location:Me.a.string},defaults:{location:""}}),nO=Ue.a.extend({name:"EPGCountryRegionCollection",context:["server"],model:tO}),rO=Ce.a.extend({name:"EPGLineupGroupModel",context:["server"],idAttribute:"uuid",syncedAttrs:{uuid:Me.a.string},syncedRelations:{lineups:{relationClass:nO,rootPropertyName:"Lineup"}}}),iO=Ce.a.extend({name:"EPGLanguageModel",context:["server"],rootPropertyName:"Language",idAttribute:"code",syncedAttrs:{code:Me.a.string,title:Me.a.string}}),aO=Ue.a.extend({name:"EPGLanguageCollection",context:["server"],model:iO,url:"/livetv/epg/languages"}),oO=Ce.a.extend({name:"EPGSettingsModel",context:["server"],sessionAttrs:{baseUrl:Me.a.string,postalCode:Me.a.string,isFetching:Me.a.boolean,isPopulated:Me.a.boolean},sessionRelations:{countries:{relationClass:Jx},languages:{relationClass:aO},regions:{relationClass:eO},lineupGroup:{relationClass:rO},selectedCountry:{relationClass:Xx,deferred:!0},selectedLanguage:{relationClass:iO,deferred:!0},selectedRegion:{relationClass:$x,deferred:!0}},defaults:{baseUrl:"/livetv/epg/countries",isFetching:!1,isPopulated:!1,postalCode:""}}),sO=Ce.a.extend({name:"EPGChannelModel",context:["server"],rootPropertyName:"Channel",idAttribute:"identifier",syncedAttrs:{identifier:Me.a.string,callSign:Me.a.string,thumb:Me.a.string,title:Me.a.string,hd:Me.a.boolean},defaults:{hd:!1}}),lO=Ue.a.extend({name:"EPGChannelCollection",context:["server"],model:sO}),cO="device",uO="unsupportedDevice",dO="deviceChannels",pO="epg",hO="epgMapping",fO="channelMapping",gO="epgDownload",vO=Ce.a.extend({name:"DVRSetupModel",context:["server"],sessionAttrs:{isDevicesPending:Me.a.boolean,isDevicesPopulated:Me.a.boolean,devicesError:Me.a.object,isDiscoveringDevices:Me.a.boolean,isChannelMappingsPending:Me.a.boolean,isChannelMappingsPopulated:Me.a.boolean,channelMappingsError:Me.a.object,isChannelMappingsSaving:Me.a.boolean,channelMappingsSaveError:Me.a.object,isLineupChannelsPending:Me.a.boolean,isLineupChannelsPopulated:Me.a.boolean,lineupChannelsError:Me.a.object,epgLineupActivityID:Me.a.string,epgDownloadActivityID:Me.a.string,step:Me.a.string,selectedLineupUUID:Me.a.string,addDevicePending:Me.a.boolean,isSavingDVR:Me.a.boolean,hasScannedChannels:Me.a.boolean},sessionRelations:{devices:{relationClass:Yx},lineupChannels:{relationClass:lO},epgSettings:{relationClass:oO},channelMappings:{relationClass:Lx},selectedDVR:{relationClass:Zx,deferred:!0},selectedDevice:{relationClass:Bx,deferred:!0},selectedLanguage:{relationClass:iO,deferred:!0},setupErrorMessages:{relationClass:qx},scanPrefs:{relationClass:Nx.a,deferred:!0},scanNetworks:{relationClass:Gx,deferred:!0}},defaults:{step:cO,isDevicesPending:!1,isDevicesPopulated:!1,isDiscoveringDevices:!1,devicesError:null,isChannelMappingsPending:!1,isChannelMappingsPopulated:!1,channelMappingsError:null,isChannelMappingsSaving:!1,channelMappingsSaveError:null,isLineupChannelsPending:!1,isLineupChannelsPopulated:!1,lineupChannelsError:null,epgLineupActivityID:"",epgDownloadActivityID:"",addDevicePending:!1,isSavingDVR:!1,hasScannedChannels:!1}}),mO=Mt("CLEAR_DVR_SETUP"),yO=Mt("DVR_SETUP_NEXT_STEP"),bO=Mt("DVR_SETUP_PREVIOUS_STEP"),SO=Mt("FETCH_DEVICES"),IO=Mt("DISCOVER_DEVICES"),CO=Mt("ADD_DEVICE"),MO=Mt("SELECT_DEVICE"),DO=Mt("SELECT_DEVICE_SOURCE"),wO=Mt("FETCH_DEVICE_DETAILS"),PO=Mt("FETCH_DEVICE_CHANNELS"),TO=Mt("SCAN_DEVICE_CHANNELS"),EO=Mt("CANCEL_SCAN_DEVICE_CHANNELS"),xO=Mt("FIND_BEST_EPG_LINEUP"),OO=Mt("SELECT_EPG_LINEUP"),jO=Mt("CLEAR_CHANNEL_MAP_ERROR"),AO=Mt("SAVE_CHANNEL_MAP"),NO=Mt("CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR"),kO=Mt("SAVE_DVR"),LO=Mt("ADD_DVR_DEVICE"),RO=Mt("REMOVE_DVR_DEVICE"),_O=Mt("SAVE_DVR_SETTINGS"),UO=Mt("CLEAR_DVR_SETTINGS_SAVE_ERROR"),zO=Mt("SAVE_DEVICE_SETTINGS"),FO=Mt("CLEAR_DEVICE_SETTINGS_SAVE_ERROR"),BO=Mt("CLEAR_DEVICE_SCAN_PREFS"),HO=Mt("SET_DVR_DEVICE_ENABLED"),VO=Mt("FETCH_LINEUP_CHANNELS",function(e){var t=F.join("/livetv/epg/channels",{lineup:e.lineupUUID});return Object.assign({options:{url:t,timeout:y.b}},e)}),QO=Mt("FETCH_CHANNEL_MAP",function(e){var t=F.join("/livetv/epg/channelmap",{device:e.deviceUUID,lineup:e.lineupUUID});return Object.assign({options:{url:t}},e)});function WO(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function GO(e){return e.get("ui").get("dvrSettingsUI").get("dvrs")}function YO(e,t){return GO(e).get(t.dvrID)}function KO(e,t){var n=WO(e),r=t.deviceID;if(t.dvrID&&r){var i=YO(e,t).get("devices").get(r);if(i)return i}if(r){var a=n.get("devices").get(r);if(a)return a}return n.get("selectedDevice")}function qO(e,t){if(t.country)return t.country;var n=WO(e).get("epgSettings").get("selectedCountry");return n?n.get("code"):void 0}function ZO(e,t){var n=WO(e),r=bo(e,t),i=KO(e,t).get("channels"),a=t.data,o=[],s={};Object.keys(a).forEach(function(e){var t=a[e],n=t.enabled,r=t.lineupIdentifier,l=i.get(e),c=!(!l||!l.get("drm"));n&&r&&!c&&o.push(e),r&&(s["channelMapping["+e+"]"]=r)});var l=F.join(["/media/grabbers/devices",t.deviceID,"channelmap"],Object.assign({channelsEnabled:o.toString()},s));n.set("isChannelMappingsSaving",!0);var c=r.getXHROptions(l,{type:"PUT"}),u=P.a.ajax(c);return u.done(function(){n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:null});var r=function(e,t){return t.dvrID&&t.deviceID?KO(e,t).get("channelMappings"):WO(e).get("channelMappings")}(e,t);i.forEach(function(e){var t=e.id,n=-1!==o.indexOf(t),i=s["channelMapping["+t+"]"];i?r.add([{deviceIdentifier:t,enabled:n,lineupIdentifier:i}],{parse:!0,merge:!0}):r.remove(t)})}),u.fail(function(e){n.set({isChannelMappingsSaving:!1,channelMappingsSaveError:Gi(e)})}),u}function XO(e,t){var n=bo(e,t),r=t.enabled,i=F.join(["/media/grabbers/devices",t.deviceID],{enabled:r?1:0}),a=n.getXHROptions(i,{type:"PUT"}),o=P.a.ajax(a).promise();return o.done(function(){if(WO(e)){var n=KO(e,t);n&&n.set("status",r?"enabled":"disabled")}}),o}var JO=Qx(((Vx={}).CLEAR_DVR_SETUP=function(e){WO(e).restoreDefaults()},Vx.DVR_SETUP_NEXT_STEP=function(e,t){void 0===t&&(t={});var n=WO(e),r={};switch(n.get("step")){case cO:n.get("selectedDevice").get("unsupported")?r.step=uO:r.step=dO;break;case uO:r.step=dO;break;case dO:t.dvrID?(r.selectedLineupUUID=YO(e,t).get("lineup"),r.step=fO):r.step=pO;break;case pO:n.get("selectedLineupUUID")?r.step=fO:r.step=hO;break;case hO:r.step=fO;break;case fO:r.step=gO}n.get("setupErrorMessages").reset(),n.set(r)},Vx.DVR_SETUP_PREVIOUS_STEP=function(e,t){void 0===t&&(t={});var n=WO(e),r={};switch(n.get("step")){case uO:r.step=cO;break;case dO:r.hasScannedChannels=!1,r.step=cO;break;case pO:r.step=dO;break;case fO:t.dvrID?r.step=dO:r.step=pO}n.get("setupErrorMessages").reset(),n.set(r)},Vx.FETCH_DEVICES=function(e,t,n){var r=WO(e),i=r.get("devices");r.set("isDevicesPending",!0),i.fetch().done(function(){r.set({isDevicesPending:!1,isDevicesPopulated:!0,devicesError:null});var e=i.filter(function(e){return!e.get("parentID")&&e.get("status")===Fx});1===e.length&&n(MO({serverEntityID:t.serverEntityID,deviceID:e[0].id}))}).fail(function(e,t){r.set({isDevicesPending:!1,devicesError:Gi(t)})})},Vx.DISCOVER_DEVICES=function(e,t,n){var r=bo(e,t),i=WO(e),a=r.getXHROptions("/media/grabbers/devices/discover",{type:"POST"});i.get("isDiscoveringDevices")||(i.set("isDiscoveringDevices",!0),P.a.ajax(a).done(function(e){var r=i.get("devices").add(e,{parse:!0,merge:!0}).filter(function(e){return!e.get("parentID")&&e.get("status")===Fx});i.get("setupErrorMessages").remove("discoverDevices"),1===r.length&&n(MO({serverEntityID:t.serverEntityID,deviceID:r[0].id})),i.set("isDiscoveringDevices",!1)}).fail(function(e){i.get("setupErrorMessages").add({id:"discoverDevices",message:Vy(e,Object(Xn.default)("There was a problem discovering devices"))}),i.set("isDiscoveringDevices",!1)}))},Vx.ADD_DEVICE=function(e,t,n){var r=bo(e,t),i=WO(e),a=F.join(["/media/grabbers","tv.plex.grabbers.hdhomerun","devices"],{uri:t.uri}),o=r.getXHROptions(a,{type:"POST"});i.set("addDevicePending",!0),P.a.ajax(o).done(function(e,n){var r=i.get("devices").add(e,{parse:!0});if(0===r.length){var a=mt.a.parseXML(e),o=a&&a.message||Object(Xn.default)("No device found at {1}",t.uri);i.get("setupErrorMessages").add({id:"addDevice",message:o}),i.set("addDevicePending",!1)}else i.get("setupErrorMessages").remove("addDevice"),i.set({addDevicePending:!1,selectedDevice:1===r.length?r[0]:i.get("selectedDevice")})}).fail(function(e){i.get("setupErrorMessages").add({id:"addDevice",message:Vy(e,Object(Xn.default)("There was a problem adding the device: {1}",t.uri))}),i.set("addDevicePending",!1)})},Vx.SELECT_DEVICE=function(e,t){var n=WO(e),r=KO(e,t);n.set("selectedDevice",r)},Vx.SELECT_DEVICE_SOURCE=function(e,t){WO(e).get("selectedDevice").set("selectedSource",t.source)},Vx.FETCH_DEVICE_DETAILS=function(e,t){var n=WO(e);KO(e,t).fetch().fail(function(e){n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:Vy(e,Object(Xn.default)("There was a problem getting the details for your device"))})})},Vx.FETCH_DEVICE_CHANNELS=function(e,t){var n=WO(e),r=KO(e,t),i=F.join(["/media/grabbers/devices",r.get("key"),"channels"]);r.set("isChannelsPending",!0);var a={url:i,timeout:y.b};r.get("channels").fetch(a).done(function(){r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null})}).fail(function(e){r.set({isChannelsPending:!1,isChannelsPopulated:!0,channelsError:null}),n.get("setupErrorMessages").add({id:"fetchDeviceDetails",message:Vy(e,Object(Xn.default)("There was a problem getting the channels for your device"))})})},Vx.SCAN_DEVICE_CHANNELS=function(e,t,n){var r=WO(e),i=bo(e,t),a=KO(e,t),o=qO(e,t),s=a.get("selectedSource")||a.get("source"),l=t.prefs,c=t.network,u=F.join(["/media/grabbers/devices",a.get("key"),"scan"],{source:s,country:o,prefs:l,network:c}),d=i.getXHROptions(u,{type:"POST"});P.a.ajax(d).done(function(e,i,o){var s=o.getResponseHeader("X-Plex-Activity");if(a.get("channels").reset(),s)n(BO(t));else{var l=new Nx.a(e,{parse:!0});r.set("scanPrefs",l)}}).fail(function(e){r.get("setupErrorMessages").add({id:"scanDeviceChannels",message:Vy(e,Object(Xn.default)("There was a problem scanning channels"))})})},Vx.CANCEL_SCAN_DEVICE_CHANNELS=function(e,t,n){var r=WO(e),i=bo(e,t),a=t.deviceID;if(!a)throw new Error("A device ID is required to cancel a channel scan.");var o=F.join(["/media/grabbers/devices",a,"scan"]),s=i.getXHROptions(o,{type:"DELETE"});P.a.ajax(s).fail(function(e){r.get("setupErrorMessages").add({id:"cancelScanDeviceChannels",message:Vy(e,Object(Xn.default)("There was a problem canceling the current channel scan"))})})},Vx.FIND_BEST_EPG_LINEUP=function(e,t,n){var r=bo(e,t),i=WO(e),a=i.get("selectedDevice"),o=i.get("epgSettings").get("lineupGroup"),s=F.join("/livetv/epg/lineup",{device:a.get("uuid"),lineupGroup:o.get("uuid")}),l=r.getXHROptions(s);P.a.ajax(l).done(function(e,t,n){var r=n.getResponseHeader("X-Plex-Activity");i.set("epgLineupActivityID",r)}).fail(function(e){i.get("setupErrorMessages").add({id:"findBestEPGLineup",message:Vy(e,Object(Xn.default)("There was a problem mapping channels"))})})},Vx.SELECT_EPG_LINEUP=function(e,t){WO(e).set("selectedLineupUUID",t.lineupUUID)},Vx.FETCH_LINEUP_CHANNELS=Ki({key:"lineupChannels",getModel:WO}),Vx.FETCH_CHANNEL_MAP=function(e,t){var n=WO(e),r=n.get("channelMappings"),i=Object.assign({timeout:y.b},t.options);n.set("isChannelMappingsPending",!0),r.fetch(i).done(function(){t.forceEnabled&&r.each(function(e){e.set("enabled",e.has("lineupIdentifier"))}),n.set({isChannelMappingsPending:!1,isChannelMappingsPopulated:!0,channelMappingsError:null})}).fail(function(e,t){n.set({isChannelMappingsPending:!1,channelMappingsError:Gi(t)})})},Vx.CLEAR_CHANNEL_MAP_ERROR=function(e,t){WO(e).set({channelMappingsError:null,lineupChannelsError:null})},Vx.SAVE_CHANNEL_MAP=function(e,t,n){ZO(e,t).done(function(){n(wO(t))})},Vx.CLEAR_CHANNEL_MAPPINGS_SAVE_ERROR=function(e){WO(e).set("channelMappingsSaveError",null)},Vx.SAVE_DVR=function(e,t,n){var r=WO(e);r.set("isSavingDVR",!0);var i=t.serverEntityID,a=t.deviceID,o=GO(e);XO(e,{serverEntityID:i,deviceID:a,enabled:!0}).then(function(){return ZO(e,t)}).then(function(){var n=bo(e,t),i=r.get("selectedDevice"),a=r.get("selectedLineupUUID"),o=r.get("epgSettings").get("selectedLanguage"),s=qO(e,t);r.get("setupErrorMessages").remove("saveDVR");var l=F.join("/livetv/dvrs",{device:i.get("uuid"),lineup:a,language:o.get("code"),country:s}),c=n.getXHROptions(l,{type:"POST"});return P.a.ajax(c)}).done(function(e,t,a){var s=a.getResponseHeader("X-Plex-Activity"),l=o.add(e,{parse:!0})[0];r.get("setupErrorMessages").remove("saveDVR"),r.set({epgDownloadActivityID:s,selectedDVR:l,isSavingDVR:!1}),n(yO({serverEntityID:i})),n(hc({serverEntityID:i}))}).fail(function(e){r.get("setupErrorMessages").add({id:"saveDVR",message:Vy(e,Object(Xn.default)("There was a problem saving your DVR. Please try again."))}),r.set("isSavingDVR",!1)})},Vx.ADD_DVR_DEVICE=function(e,t,n){var r=WO(e);r.set("isSavingDVR",!0);var i=t.serverEntityID,a=t.deviceID,o=r.get("selectedDevice"),s=YO(e,t);XO(e,{serverEntityID:i,deviceID:a,enabled:!0}).then(function(){return ZO(e,t)}).then(function(){var n=bo(e,t),r=F.join(["/livetv/dvrs",s.id,"devices",o.id]),i=n.getXHROptions(r,{type:"PUT"});return P.a.ajax(i)}).done(function(e,t,a){var l=a.getResponseHeader("X-Plex-Activity");s.get("devices").add([o]),r.set({epgDownloadActivityID:l,selectedDVR:s,isSavingDVR:!1}),n(yO({serverEntityID:i})),n(hc({serverEntityID:i}))}).fail(function(e){r.get("setupErrorMessages").add({id:"addDVRDevice",message:Vy(e,Object(Xn.default)("There was a problem adding a new device to your DVR. Please try again."))}),r.set("isSavingDVR",!1)})},Vx.REMOVE_DVR_DEVICE=function(e,t,n){var r=bo(e,t),i=YO(e,t),a=t.deviceID,o=F.join(["/livetv/dvrs",i.id,"devices",a]),s=r.getXHROptions(o,{type:"DELETE"});P.a.ajax(s).done(function(e,t,n){i.get("devices").remove(a)})},Vx.SAVE_DVR_SETTINGS=function(e,t){var n=bo(e,t),r=YO(e,t),i=t.prefs,a=F.join(["/livetv/dvrs",t.dvrID,"prefs"],i);r.set("isSaving",!0);var o=n.getXHROptions(a,{type:"PUT"}),s=P.a.ajax(o);s.done(function(){var e=r.get("prefs");Object.keys(i).forEach(function(t){e.get(t).set("value",i[t])}),r.set({isSaving:!1,saveError:null})}),s.fail(function(e){r.set({isSaving:!1,saveError:Gi(e)})})},Vx.CLEAR_DVR_SETTINGS_SAVE_ERROR=function(e,t){YO(e,t).set("saveError",null)},Vx.SAVE_DEVICE_SETTINGS=function(e,t){var n=bo(e,t),r=KO(e,t),i=t.prefs,a=F.join(["/media/grabbers/devices",t.deviceID,"prefs"],i);r.set("isSaving",!0);var o=n.getXHROptions(a,{type:"PUT"}),s=P.a.ajax(o);s.done(function(){var e=r.get("prefs");Object.keys(i).forEach(function(t){e.get(t).set("value",i[t])}),r.set({isSaving:!1,saveError:null})}),s.fail(function(e){r.set({isSaving:!1,saveError:Gi(e)})})},Vx.CLEAR_DEVICE_SETTINGS_SAVE_ERROR=function(e,t){KO(e,t).set("saveError",null)},Vx.CLEAR_DEVICE_SCAN_PREFS=function(e){WO(e).set({scanPrefs:void 0,scanNetworks:void 0})},Vx.SET_DVR_DEVICE_ENABLED=function(e,t){XO(e,t)},Vx[tc]=function(e,t,n){var r=WO(e);if(r){var i=r.get("selectedDevice"),a=t.activity;if(i&&a.type===Ox&&parseInt(a.Context.deviceID,10)===i.id){var o=a.Response.Network;if(o){var s=new Gx(o,{parse:!0});r.set("scanNetworks",s)}else r.set("hasScannedChannels",!0)}else{if(a.uuid===r.get("epgLineupActivityID"))return r.set({selectedLineupUUID:a.Response.lineup,epgLineupActivityID:""}),void n(yO({serverEntityID:t.serverEntityID}));a.uuid!==r.get("epgDownloadActivityID")||r.set("epgDownloadActivityID","")}}},Vx)),$O=n(793),ej=n.n($O),tj=Wh.extend({className:"alert-bar notify",template:ej.a,events:C.a.extend({"click .setup-link":"onSetupClick"},Wh.prototype.events),serializeData:function(){return{model:this.model.get("model"),make:this.model.get("make"),dvrSettingsRoute:Rc(this.options.machineIdentifier,"manage","dvr")}},disableDevice:function(){var e=Object(J.c)("appStore"),t=this.options.serverEntityID;t&&e.dispatch(HO({serverEntityID:t,deviceID:this.model.id,enabled:!1}))},onSetupClick:function(){this.hide(),this.disableDevice()},onCloseClick:function(e){Wh.prototype.onCloseClick.apply(this,arguments),this.disableDevice()}});function nj(e,t,n,r,i){return void 0===r&&(r={}),n&&(r.key=t.identifier===Cn.d?Zn(n.key):n.key),dr(e,t,n,r,i)}var rj=n(794),ij=n.n(rj),aj=U.ItemView.extend({template:ij.a,events:{"change input[name]":"onInputChange","change select[name]":"onInputChange"},initialize:function(){this.changes={}},serializeData:function(){return{settings:this.collection.toJSON(),escapedAgentName:C.a.escape(this.model.agents.get(this.model.get("agent")).get("name"))}},onInputChange:function(e){var t=P()(e.currentTarget),n=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:t.attr("name")}).set("value",n)}}),oj=Ce.a.extend({name:"AgentAttributionModel",context:["server"],responseType:jt.a.text,syncedAttrs:{content:Me.a.string},url:function(){return"/system/agents/attribution?identifier="+this.parent.id},augmentResponse:function(e){return{content:e}}});function sj(e){return dp[e]||""}var lj=Ce.a.extend({name:"LanguageModel",context:["server"],idAttribute:"code",rootPropertyName:"Language",syncedAttrs:{code:Me.a.string},derivedAttrs:{name:function(){return sj(this.get("code"))}}}),cj=Ue.a.extend({name:"LanguageCollection",context:["server"],model:lj,comparator:"name"}),uj=Ce.a.extend({name:"AgentModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Agent",sessionAttrs:{isPrimary:Me.a.boolean,selected:Me.a.boolean},sessionRelations:{attribution:{relationClass:oj}},syncedAttrs:{identifier:Me.a.string,name:Me.a.string,enabled:Me.a.boolean,hasPrefs:Me.a.boolean,order:Me.a.string},syncedRelations:{languages:{relationClass:cj,rootPropertyName:"Language"}}}),dj=Ue.a.extend({name:"AgentCollection",context:["server","mediaTypeID","primaryAgentID","relatedAgentID"],model:uj,cache:new ki,cacheKey:function(){var e=C.a.result(this,"url");return this.server&&this.server.getScopedKey(e)},url:function(){var e="/system/agents";return this.primaryAgentID?e+"/contributors?mediaType="+this.mediaTypeID+"&primaryAgent="+this.primaryAgentID:this.relatedAgentID?e+"/"+this.relatedAgentID+"/config/"+this.mediaTypeID:this.mediaTypeID?e+"?mediaType="+this.mediaTypeID:e},hasExclusiveAgent:function(e){return!!C.a.intersection(this.pluck("identifier"),e).length}}),pj=n(183),hj=n.n(pj),fj=hj.a.extend({constructor:function(e,t,n,r){this.exclusiveAgents=t,this.agentIdentifier=n,hj.a.call(this,e,r),this.filterBy(C.a.bind(this.filterExclusiveAgent,this))},filterExclusiveAgent:function(e){var t=e.get("identifier"),n=this.exclusiveAgents;if(!n)return!0;var r=this.agentIdentifier,i=-1!==n.indexOf(r),a=-1!==n.indexOf(t);return i?t===r:!a}}),gj=hj.a.extend({constructor:function(e,t,n,r){this.exclusiveScanners=t,this.scannerName=n,hj.a.call(this,e,r),this.filterBy(C.a.bind(this.filterExclusiveScanner,this))},filterExclusiveScanner:function(e){var t=e.get("name"),n=this.exclusiveScanners;if(!n)return!0;var r=this.scannerName,i=-1!==n.indexOf(r),a=-1!==n.indexOf(t);return i?t===r:!a}}),vj=Ce.a.extend({name:"ScannerModel",context:["server"],rootPropertyName:"Scanner",syncedAttrs:{name:Me.a.string}}),mj=Ue.a.extend({name:"ScannerCollection",context:["server","sectionTypeID"],model:vj,url:function(){return"/system/scanners/"+this.sectionTypeID},hasExclusiveScanner:function(e){return!!C.a.intersection(this.pluck("name"),e).length}}),yj=U.Layout.extend({ui:{formGroup:".form-group"},onlyAfterRender:["showValidationResult"],serializeData:function(){var e={};return this.model.isNew()?e.add=!0:e.edit=!0,e.section=this.model.toJSON(),e},showValidationResult:function(e){var t=this.ui.formGroup;t.removeClass("has-error"),C.a.each(e,function(e){t.filter("."+e+"-group").addClass("has-error")}),this.trigger(e.length?"invalid":"valid")},createMenuOptions:function(e,t){return C.a.map(e,function(e){return'<option value="'+e.value+'"'+(e.value===t?" selected":"")+">"+e.label+"</option>"}).join("\n")},getSectionType:function(){if(this.model.sectionType)return this.model.sectionType;var e=this.model.get("type"),t=Cl.get(e);return"movie"===e&&this.model.get("agent")===gl.d&&(t=Cl.get("videos")),this.model.sectionType=t,t},setSectionType:function(e){this.model.sectionType=e},populateAgents:function(){var e=this.getSectionType();return e?(this.model.agents||(this.model.agents=new dj([],{server:this.model.server,mediaTypeID:e.typeID})),this.model.agents.populate().then(function(e){return e})):P.a.Deferred().reject().promise()},populateScanners:function(){var e=this.getSectionType();return e?(this.model.scanners||(this.model.scanners=new mj([],{server:this.model.server,sectionTypeID:e.typeID})),this.model.scanners.populate().then(function(e){return e})):P.a.Deferred().reject().promise()},populateAgentsProxy:function(){var e=this.getSectionType().exclusiveAgents,t=new fj(this.model.agents,e,this.model.get("agent"));return this.model.agentsProxy=t,P.a.Deferred().resolve(t).promise()},populateScannersProxy:function(){var e=this.getSectionType().exclusiveScanners,t=new gj(this.model.scanners,e,this.model.get("scanner"));return this.model.scannersProxy=t,P.a.Deferred().resolve(t).promise()},populateSectionSettings:function(){var e=this;if(!this.model.server.supports("sectionSettings"))return P.a.Deferred().resolve().promise();if(!this.model.settings){var t=new fl([],{server:this.model.server});if(this.model.isNew()){var n={type:this.getSectionType().typeID,agent:this.model.get("agent")};t.url=F.join(["/library/sections/prefs"],n)}else t.url=F.join(["/library/sections/",this.model.id,"/prefs"]);this.model.settings=t}return this.model.settings.populate().then(function(){return!(!e.model.isNew()||"music"!==e.model.get("type")||!e.model.server.supports("premiumMusic")||e.model.settings.findWhere({id:"importFromiTunes"})||!e.model.server.get("desktop").get("settings").findWhere({id:"iTunesLibraryXmlPath"}))&&e.model.settings.unshift({type:"bool",id:"importFromiTunes",value:!1,label:Object(Xn.default)("Import from iTunes"),summary:Object(Xn.default)("Importing from iTunes will import your music playlists. It will also import your ratings, the date you added the music, as well as play and skip counts for tracks in your library.")}),e.model.settings})},populateSectionAgentSettings:function(){if(!this.model.agentSettings){var e=new fl([],{server:this.model.server,url:F.join(["/:/plugins/",this.model.get("agent"),"/prefs"])});this.model.agentSettings=e}return this.model.agentSettings.populate()},onModalClose:function(){this.model.scanners=null,this.model.scannersProxy=null,this.model.agents=null,this.model.agentsProxy=null,this.model.settings=null}}),bj=n(795),Sj=n.n(bj),Ij=U.ItemView.extend({template:Sj.a,events:{"change [name]":"onEditSectionSettingInputChange"},serializeData:function(){return{settings:this.collection.toJSON(),edit:!this.model.isNew()}},onEditSectionSettingInputChange:function(e){var t=P()(e.currentTarget),n=t.attr("name");if("importFromiTunes"!==n){var r=t.is(":checkbox")?t.prop("checked"):t.val();this.collection.findWhere({id:n}).set("value",r)}else this.model.set(n,!0)}}),Cj=n(796),Mj=n.n(Cj),Dj=yj.extend({template:Mj.a,ui:C.a.extend({sectionAgent:"#edit-section-agent",sectionScanner:"#edit-section-scanner",thumbnailsCheckbox:'input[name="enableBIFGeneration"]',agentGroup:".agent-group",scannerGroup:".scanner-group"},yj.prototype.ui),events:{"change #edit-section-agent":"onEditSectionAgentChange","change #edit-section-scanner":"onEditSectionScannerChange","click .delete-thumbnails-btn":"onThumbnailsDeleteClick"},regions:{sectionSettingsRegion:".section-settings-region",agentSettingsRegion:".section-agent-settings-region"},onlyAfterRender:["renderSectionAgent","renderSectionScanner","renderSectionSettings","renderSectionAgentSettings"].concat(yj.prototype.onlyAfterRender),initialize:function(){this.populateCollections()},onRender:function(){this.model.agents.populate(),this.model.scanners.populate()},validate:function(e){var t=[];return e.get("agent")||t.push("agent"),e.get("scanner")||t.push("scanner"),t},renderSectionSettings:function(){var e=new Ij({model:this.model,collection:this.model.settings});this.sectionSettingsRegion.show(e)},renderSectionAgentSettings:function(){var e=new aj({model:this.model,collection:this.model.agentSettings});this.agentSettingsRegion.show(e)},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),n=this.populateSectionSettings(),r=this.populateSectionAgentSettings();return this.populateAgentsProxy(),this.populateScannersProxy(),e.then(C.a.bind(this.onAgentsPopulate,this)),t.then(C.a.bind(this.onScannersPopulate,this)),n.then(C.a.bind(this.renderSectionSettings,this)),r.then(C.a.bind(this.renderSectionAgentSettings,this)),P.a.when(e,t,n,r).then(C.a.bind(this.validate,this,this.model))},renderSectionAgent:function(){var e=this.model.agentsProxy,t=this.createMenuOptions(e.map(function(e){return{label:e.get("name"),value:e.get("identifier")}}),this.model.get("agent"));this.ui.sectionAgent.html(t),e.length>1&&this.ui.agentGroup.removeClass("hidden")},renderSectionScanner:function(){var e=this.model.scannersProxy,t=this.createMenuOptions(e.map(function(e){return{label:e.get("name"),value:e.get("name")}}),this.model.get("scanner"));this.ui.sectionScanner.html(t),e.length>1&&this.ui.scannerGroup.removeClass("hidden")},onEditSectionAgentChange:function(e){var t=P()(e.currentTarget).val(),n=this.model.get("scanner");this.model.set("agent",t),this.agentSettingsRegion.close();var r=this.model.agents.get(t);if(r){var i=r.get("languages"),a=this.model.get("language");i.get(a)||this.model.set("language",i.first().get("code")),this.model.agentSettings=null,this.populateSectionAgentSettings().then(C.a.bind(this.renderSectionAgentSettings,this));var o=this.getSectionType();if(t===o.mutual.agent)this.model.set("scanner",o.mutual.scanner),this.renderSectionScanner();else if(this.model.get("scanner")===o.mutual.scanner){var s=this.model.scanners.find(function(e){return e.get("name")!==n});this.model.set("scanner",s.get("name")),this.renderSectionScanner()}}this.showValidationResult(this.validate(this.model))},onEditSectionScannerChange:function(e){var t=P()(e.currentTarget).val(),n=this.model.get("agent"),r=this.getSectionType();if(this.model.set("scanner",t),t===r.mutual.scanner)this.model.set("agent",r.mutual.agent),this.renderSectionAgent();else if(this.model.get("agent")===r.mutual.agent){var i=this.model.agents.find(function(e){return e.get("identifier")!==n});this.model.set("agent",i.get("identifier")),this.renderSectionAgent()}this.showValidationResult(this.validate(this.model))},onAgentsPopulate:function(e){this.renderSectionAgent()},onScannersPopulate:function(e){this.renderSectionScanner()},onThumbnailsDeleteClick:function(e){e.preventDefault(),bt.execute("deleteSectionThumbnails",{section:this.model}).done(this.whenRendered(function(){this.ui.thumbnailsCheckbox.prop("checked",!1)}))}}),wj=n(797),Pj=n.n(wj),Tj=yj.extend({template:Pj.a}),Ej=n(798),xj=n.n(Ej),Oj=U.ItemView.extend({template:xj.a,className:"row",events:{"click .remove-path-btn":"onRemovePathClick"},onRemovePathClick:function(e){e.preventDefault(),this.model.trigger("destroy",this.model,this.model.collection)}}),jj=U.CollectionView.extend({itemView:Oj}),Aj=n(455),Nj=n(799),kj=n.n(Nj),Lj=U.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item disabled",template:kj.a,serializeData:function(){return{filePath:this.model.toJSON()}}}),Rj=n(800),_j=n.n(Rj),Uj=U.CompositeView.extend({template:_j.a,itemView:Lj,itemViewContainer:".js-file-list-items",bindings:{".js-file-list-truncated-message":{modelAttribute:"truncatedFilesCount",formatter:function(e){return e?Object(Xn.default)("and {truncatedFilesCount} more",{truncatedFilesCount:e}):null}}}}),zj=n(801),Fj=n.n(zj),Bj=U.ItemView.extend({tagName:"li",className:"striped-list-item browse-directory-list-item",template:Fj.a,ui:{link:"a",spinner:".loading"},serializeData:function(){return{filePath:this.model.toJSON(),isRoot:!this.model.parent}},select:function(e){this.ui.link.addClass("selected"),this.ui.spinner.toggleClass("hidden",!e)},unselect:function(){this.ui.link.removeClass("selected"),this.ui.spinner.addClass("hidden")}}),Hj=U.CollectionView.extend({tagName:"ul",className:"list browse-directory-list",itemView:Bj,selectedFilePath:null,events:{"click a":"onDirectoryClick"},collectionEvents:{reset:"onReset"},startLoadingItem:function(e){this.selectedFilePath&&this.unselectItem(this.selectedFilePath),this.selectedFilePath=e;var t=this.children.findByModel(e);t&&t.select(!0)},stopLoadingItem:function(e){var t=this.children.findByModel(e);t&&t.select(!1)},unselectItem:function(e){this.selectedFilePath=null;var t=this.children.findByModel(e);t&&t.unselect()},onReset:function(){this.parentFilePath&&this.collection.add(this.parentFilePath,{at:0})},onDirectoryClick:function(e){e.preventDefault();var t=P()(e.currentTarget).data("key"),n=this.collection.get(t)||this.parentFilePath;this.trigger("change:path",n),this.options.isRoot||(n.parent.parent?(this.parentFilePath=n.parent.parent.clone(),this.parentFilePath.set({title:".. [Back]",isBackShortcut:!0})):this.parentFilePath=null)}}),Vj=n(802),Qj=n.n(Vj),Wj=Lc.extend({name:"addFolderModal",className:"add-folder-modal modal fade",template:Qj.a,events:C.a.extend({"submit form":"onSubmitForm"},Lc.prototype.events),ui:{path:'input[name="path"]'},regions:{rootList:".home-directory-container",childrenList:".path-container",childrenFileList:".file-container"},initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.rootPathList=new Aj.default({},{server:e.server,includeFiles:1}),this.childrenPathList=new Aj.default({},{server:e.server,includeFiles:1}),this.loadRootPaths()},loadRootPaths:function(){this.rootPathList.fetch().done(this.whenRendered(function(){var e=this.rootPathList.get("paths").where({home:!0}),t=C.a.first(e)||this.rootPathList.get("paths").first();this.rootList.currentView.startLoadingItem(t),this.loadChildrenPaths(t)}))},loadChildrenPaths:function(e){Y.a.abortAll("addFolderModal");var t=e.get("children"),n=t.fetch({scope:"addFolderModal"});n.done(this.whenRendered(function(){this.ui.path.val(e.get("path")),this.childrenPathList.get("paths").reset(t.get("paths").models),this.childrenPathList.get("files").reset(t.get("files").models),this.childrenPathList.set("truncatedFilesCount",t.get("truncatedFilesCount"))})),n.fail(this.whenRendered(function(){this.childrenList.currentView.unselectItem(e),z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("Unable to load contents of '{1}'",e.get("path"))})})),n.always(this.whenRendered(function(){this.rootList.currentView.stopLoadingItem(e)}))},onRender:function(){Lc.prototype.onRender.apply(this,arguments);var e=new Hj({isRoot:!0,collection:this.rootPathList.get("paths")}),t=new Hj({collection:this.childrenPathList.get("paths")}),n=new Uj({model:this.childrenPathList,collection:this.childrenPathList.get("files")});this.listenTo(e,"change:path",this.onRootPathChange),this.listenTo(t,"change:path",this.onChildrenPathChange),this.rootList.show(e),this.childrenList.show(t),this.childrenFileList.show(n)},onRootPathChange:function(e){this.childrenList.currentView.parentFilePath=null,this.rootList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onChildrenPathChange:function(e){this.childrenList.currentView.startLoadingItem(e),this.loadChildrenPaths(e)},onSubmitForm:function(e){e.preventDefault(),this.trigger("add:folder",this.ui.path.val()),this.hide()}}),Gj=n(803),Yj=n.n(Gj),Kj=yj.extend({template:Yj.a,fieldNames:["Location"],regions:{pathsRegion:".paths-region"},ui:Object.assign({},yj.prototype.ui,{addFolderBtn:".add-folder-btn",addFolderPopulating:".add-folder-populating",addFolderError:".add-folder-error"}),events:{"click .add-folder-btn":"onAddFolderClick","change input[name=path]":"onFolderChange"},onlyAfterRender:["renderSectionLocation"].concat(yj.prototype.onlyAfterRender),initialize:function(){this.listenTo(this.model.get("locations"),{add:this.onCollectionChange,remove:this.onCollectionChange}),this.renderSectionLocation(),this.showValidationResult(this.validate(this.model))},validate:function(e){var t=[];return e.get("locations").length||t.push("locations"),t},renderSectionLocation:function(){var e=new jj({collection:this.model.get("locations")});this.pathsRegion.show(e)},onCollectionChange:function(){this.showValidationResult(this.validate(this.model))},onAddFolderClick:function(e){e.preventDefault();var t=new Wj({server:this.model.server});this.listenToOnce(t,"add:folder",this.onAddFolder),z.a.trigger("show:modal",t)},onAddFolder:function(e){if(e){var t={path:e};this.model.get("locations").findWhere(t)||this.model.get("locations").add(t)}},onFolderChange:function(e){var t=P()(e.currentTarget),n=t.prop("defaultValue"),r=t.val();r?(this.model.get("locations").findWhere({path:n}).set("path",r),t.prop("defaultValue",r)):t.val(n)}}),qj=n(804),Zj=n.n(qj),Xj=yj.extend({template:Zj.a,ui:{chooseLibrary:".choose-library"},events:{"click .choose-library":"onChooseLibraryClick"},modelEvents:{"change:agent":"onSectionAgentChange","change:scanner":"onSectionScannerChange"},onlyAfterRender:["updateSelectedOffering"],initialize:function(){this.hasPremiumMusic=this.model.server.hasOwnerFeature("premium_music_metadata"),this.updateSelectedOffering()},serializeData:function(){var e=J.c("appModel").get("user");return{hasPremiumMusic:this.hasPremiumMusic,plexPassUrl:e.server.get("plexPassUrl"),hasLyrics:this.model.server.get("transcoderLyrics")}},updateSelectedOffering:function(){var e=this.model.get("agent"),t=this.model.get("scanner");this.ui.chooseLibrary.find("input").prop("checked",!1);var n=this.ui.chooseLibrary.filter('[data-agent="'+e+'"][data-scanner="'+t+'"]').find("input");n.length||(n=this.ui.chooseLibrary.not("[data-agent][data-scanner]").find("input")),n.prop("checked",!0)},onChooseLibraryClick:function(e){var t=P()(e.currentTarget),n=t.data("agent"),r=t.data("scanner");!n&&!r||this.hasPremiumMusic?(this.model.agentSettings=null,this.model.set({agent:n||this.getSectionType().defaultAgent,scanner:r||this.getSectionType().defaultScanner})):z.a.trigger("show:modal",new Gu({model:this.model.server}))},onSectionAgentChange:function(){this.updateSelectedOffering()},onSectionScannerChange:function(){this.updateSelectedOffering()}});function Jj(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(Qy.a)(t);return Object(Vb.a)(e,1e3*r,n)}function $j(e,t,n){var r=(void 0===t?{}:t).limit;if(void 0===n&&(n=!1),!e)return"";var i=new Date;e=Math.round(e),"past"===r?e=Math.min(e,Fb(i)):"future"===r&&(e=Math.max(e,Fb(Jj(i,1))));var a=Object(rE.a)(e).getTime()-i.getTime();return function(e){var t=e.milliseconds,n=e.isShorthand,r=e.isFuture,i=Math.abs(t)/1e3;i&&(i=i<1?1:Math.round(i));var a=Math.round(i/60),o=Math.round(a/60),s=Math.round(o/24),l=Math.round(s/30),c=Math.round(s/365),u={seconds:i,minutes:a,hours:o,days:s,months:l,years:c},d={unitOfTime:i<=44&&(n?Object(Xn.default)("{seconds}s",u):Object(Xn.default)("a few seconds",u))||i<45&&(n?Object(Xn.default)("{seconds}s",u):Object(Xn.default)("{seconds} seconds",u))||a<=1&&(n?Object(Xn.default)("{minutes}m",u):Object(Xn.default)("a minute",u))||a<45&&(n?Object(Xn.default)("{minutes}m",u):Object(Xn.default)("{minutes} minutes",u))||o<=1&&(n?Object(Xn.default)("{hours}h",u):Object(Xn.default)("an hour",u))||o<22&&(n?Object(Xn.default)("{hours}h",u):Object(Xn.default)("{hours} hours",u))||s<=1&&(n?Object(Xn.default)("{days}d",u):Object(Xn.default)("a day",u))||s<26&&(n?Object(Xn.default)("{days}d",u):Object(Xn.default)("{days} days",u))||l<=1&&(n?Object(Xn.default)("{months}mo",u):Object(Xn.default)("a month",u))||l<11&&(n?Object(Xn.default)("{months}mo",u):Object(Xn.default)("{months} months",u))||c<=1&&(n?Object(Xn.default)("{years}y",u):Object(Xn.default)("a year",u))||(n?Object(Xn.default)("{years}y",u):Object(Xn.default)("{years} years",u))};return r?Object(Xn.default)("in {unitOfTime}",d):Object(Xn.default)("{unitOfTime} ago",d)}({milliseconds:a,isShorthand:n,isFuture:"future"===r||"past"!==r&&a>0})}var eA=function(e,t){return $j(e,{limit:"past"},t)};function tA(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-clips-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m360 520l-360 0 0-400 360 0 0 160 200-120 0 320-200-120 0 160"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}tA.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var nA=tA;function rA(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-movies-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 560l560 0 0-520-560 0 0 520m120-40l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100 0l-240 0 0-200 240 0 0 200m100-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m-100-80l-240 0 0-200 240 0 0 200m100 0l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m380 0l-60 0 0-40 60 0 0 40m0-80l-60 0 0-40 60 0 0 40m-380 0l-60 0 0-40 60 0 0 40"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}rA.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var iA=rA;function aA(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-music-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m199.855 473.521c.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-356.752 400-80 0 392c0 .52-.05 1.028-.145 1.521.096 1.057.145 2.131.145 3.221 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40 0-33.115 44.808-68.961 100-80 22.504-4.501 43.282-4.186 60 .01l0-232.852-320 64.2 0 283.9c0 .52-.05 1.028-.145 1.521"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}aA.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var oA=aA;function sA(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-photos-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m440 120l120 0 0 400-560 0 0-400 120 0 0-80 320 0 0 80m-320 200c0 88.306 71.694 160 160 160 88.306 0 160-71.694 160-160 0-88.306-71.694-160-160-160-88.306 0-160 71.694-160 160m80 0c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}sA.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var lA=sA;function cA(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m440 520l0 40-320 0 0-40 320 0m120-40l-560 0 0-440 560 0 0 440m-60-380l-440 0 0 280 440 0 0-280"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}cA.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var uA=cA;var dA,pA=function(e){switch(e){case ml:return iA;case bl:return oA;case Sl:return lA;case yl:return uA;case Il:return nA}},hA=n(805),fA=n.n(hA),gA=yj.extend({template:fA.a,ui:C.a.extend({sectionTypes:".wizard-block",sectionTitle:"#edit-section-title",sectionLanguage:"#edit-section-language",sectionLanguageGroup:".language-group"},yj.prototype.ui),modelEvents:{"change:type":"onSectionTypeChange","change:title":"onSectionTitleChange","change:language":"onSectionLanguageChange"},events:{"click .section-type":"onSectionTypeClick","keyup #edit-section-title":"onEditSectionTitleChange","change #edit-section-title":"onEditSectionTitleChange","change #edit-section-language":"onEditSectionLanguageChange"},onlyAfterRender:["renderSectionLanguage","updateSectionTypesWizardBlocks","updateSectionLanguage","updateSectionTitle"].concat(yj.prototype.onlyAfterRender),initialize:function(e){this.populateCollections(),this.isDefaultSection=e.isDefaultSection},serializeData:function(){var e=yj.prototype.serializeData.apply(this,arguments);e.sectionTypes=Cl.getAll().map(function(e){return Object.assign({},e,{typeIcon:ig(pA(e.key),{className:"wizard-block-icon"})})});var t=this.getSectionType();t&&(e.currentSectionKey=t.key);var n=this.model.get("updatedAt");return n&&(e.updatedAt=eA(n)),e.canChangeType=this.model.isNew()&&!this.isDefaultSection,e.hasType=!!this.model.get("type"),e.escapedUpdatedAt=C.a.escape(e.updatedAt),e},validate:function(e){var t=[];return e.get("type")||t.push("type"),e.get("title")||t.push("title"),e.get("language")||t.push("language"),t},populateCollections:function(){var e=this.populateAgents(),t=this.populateScanners(),n=this.getSectionType(),r=P.a.when(n,e,t,this.model.server.get("myPlexSubscription")&&this.model.server.supports("premiumMusic"));return this.model.isNew()&&(r=r.then(C.a.bind(this.model.setAgentAndScanner,this.model))),r=r.then(e).then(C.a.bind(this.onAgentsPopulate,this)).then(C.a.bind(function(){this.showValidationResult(this.validate(this.model))},this))},renderSectionLanguage:function(){var e=this.model.get("language"),t=this.model.agents.get(this.model.get("agent"));if(t){var n=t.get("languages");if(!n.get(e)){var r=this.model.get("type"),i=Cl.get(r).defaultLanguage;this.model.set("language",i,{silent:!0}),e=i}var a=n.map(function(e){return{label:e.get("name"),value:e.id}});this.updateSectionLanguage(),this.ui.sectionLanguage.html(this.createMenuOptions(a,e))}else this.ui.sectionLanguageGroup.hide()},updateSectionTypesWizardBlocks:function(){this.ui.sectionTypes.removeClass("selected"),this.ui.sectionTypes.filter('[data-key="'+this.model.get("type")+'"]').addClass("selected"),this.$el.addClass("section-type-chosen")},updateSectionLanguage:function(){this.ui.sectionLanguage.val(this.model.get("language"))},updateSectionTitle:function(){var e=this.ui.sectionTitle.val(),t=this.model.get("title");e!==t&&this.ui.sectionTitle.val(t)},onSectionTypeClick:function(e){e.preventDefault();var t=P()(e.currentTarget);if(t.hasClass("selectable")){var n=t.data("key"),r={type:n},i=Cl.get(n);this.model.get("title")||(r.title=i.title),this.model.set(r)}},onEditSectionTitleChange:function(e){var t=P()(e.currentTarget);this.model.set("title",t.val()),this.showValidationResult(this.validate(this.model))},onEditSectionLanguageChange:function(e){var t=P()(e.currentTarget);this.model.set("language",t.val()),this.showValidationResult(this.validate(this.model))},onSectionTypeChange:function(e,t){this.updateSectionTypesWizardBlocks();var n=Cl.get(t);if(!this.model.get("language")){var r=n.defaultLanguage;this.model.set("language",r)}var i=this.model.get("title"),a=this.model.previous("type"),o=Cl.get(a),s=o&&o.title;i&&i!==s||this.model.set("title",n.title),this.setSectionType(n),this.model.agents=null,this.model.scanners=null,this.model.settings=null,this.populateCollections()},onSectionTitleChange:function(e,t){this.updateSectionTitle(),this.showValidationResult(this.validate(this.model))},onSectionLanguageChange:function(e,t){this.updateSectionLanguage()},onAgentsPopulate:function(e){this.renderSectionLanguage()}}),vA=n(806),mA=n.n(vA),yA=Lc.extend({mixins:[cg],name:"editSectionModal",className:"edit-section-modal modal modal-lg fade",template:mA.a,panes:{type:{constructor:gA,nextPane:"folders",dependentPanes:function(){return this.showFolders?["folders"]:["options","advanced"]}},folders:{constructor:Kj,nextPane:"options",dependentPanes:["options","advanced"]},options:{constructor:Xj,nextPane:"advanced"},advanced:{constructor:Dj},error:{constructor:Tj}},panesModel:"tempModel",ui:{sidebar:".modal-nav-list",optionsBtn:".options-btn",saveBtn:".save-btn",message:".form-message",headerSectionType:".section-type-title"},regions:{paneRegion:".pane-region"},events:C.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onSaveClick","submit .edit-section-type-form":"onGeneralFormSubmit"},Lc.prototype.events),onlyAfterRender:["showPane","updateMessage","updateSectionTitle","updateSectionTitleDestabilized","updateSaveBtn"],paneConstructorArg:function(){return{isDefaultSection:this.isDefaultSection}},initialize:function(e){var t=this;Lc.prototype.initialize.apply(this,arguments),this.server=e.server,this.redirect=e.redirect,this.isDefaultSection=e.isDefaultSection,this.isLoading=!0,this.model?(this.tempModel=this.model.clone(),this.tempModel.collection=this.model.collection):this.tempModel=new _l({},{server:this.server,collection:this.server.get("sections")}),this.listenTo(this.tempModel,"change:type",this.onSectionTypeChange),this.tempModel.isNew()&&e.seedAttrs&&this.tempModel.set(this.tempModel.parse(e.seedAttrs)),this._deferred=P.a.Deferred(),this.promise=this._deferred.promise();var n=this.server.get("providers");n.populate().done(this.whenRendered(function(){var r=n.get(Cn.d).get("features").get("manage").get("automaticLibraryFolders");t.showFolders=!r,t.isLoading=!1,t.render(),t.showPane(e.selectedPane||"type")}))},serializeData:function(){var e=this.tempModel,t=e.isNew(),n=e&&Object(Xn.default)("Edit {1}",e.get("title"),{escape:!0});return{isLoading:this.isLoading,add:t,edit:!t,paneTitle:n,section:e&&e.toJSON(),selectedPane:this.selectedPane,showFolders:this.showFolders}},updateMessage:function(e){this.ui.message.text(e||"")},updateSaveBtn:function(){var e=this.ui.saveBtn,t=this.panes[this.selectedPane],n=C.a.bind(function(n){var r,i=t.nextPane,a=this.tempModel.isNew(),o=!t.constructor.prototype.validate||0===t.constructor.prototype.validate(this.tempModel).length,s=!this.getReachablePanes().isAnyInvalid;this.ui.optionsBtn.toggleClass("hidden",!n.showOptions);var l=s||a&&o;r=i,n.showOptions||"options"!==i||(r=!1),s&&(r=!1),n.showOptions&&"options"===i&&(r=!0),n.showAdvanced&&"advanced"===i&&(r=!0),e.toggleClass("save",!r),e.toggleClass("next",!!r),e.toggleClass("disabled",!l)},this),r=this.tempModel.server,i=this.tempModel.sectionType,a=i&&"music"===i.key&&r.supports("premiumMusic"),o=this.tempModel.isNew();a?this.paneRegion.currentView.populateAgents().then(function(e){var t=e.findWhere({identifier:gl.f}),r=o&&t;n({showOptions:r,showAdvanced:r})}):n({})},updateSectionTitle:function(){var e=Cl.get(this.tempModel.get("type"));if(e){this.updateSectionTitleDestabilized();var t=C.a.escape(e.title);this.ui.headerSectionType.html(t)}},updateSectionTitleDestabilized:function(){this.ui.headerSectionType.addClass("section-type-title-unstable"),this.ui.headerSectionType.triggerReflow(),this.ui.headerSectionType.removeClass("section-type-title-unstable")},save:function(){var e=this.ui.saveBtn;this.updateMessage(""),e.addClass("active");var t=this.saveModel();t.always(function(){e.removeClass("active")}),t.fail(C.a.bind(function(e){503===e.status?z.a.trigger("show:modal",new zc({model:this.server})):this.updateMessage(Object(Xn.default)("Your changes could not be saved."))},this)),t.then(C.a.bind(function(){var e=this.model.server.entityID(),t=Object(J.c)("appStore").dispatch;if(t(hc({serverEntityID:e})),t(gc({serverEntityID:e})),!this.redirect)return this._deferred.resolve(),void this.hide();var n={machineIdentifier:this.model.server.get("machineIdentifier"),isCloud:this.model.server.get("isCloud")},r={identifier:Cn.d,isLibraryProvider:!0},i={hubKey:"/hubs/sections/"+this.model.id,key:"/library/sections/"+this.model.id},a={};this.model.get("type")===nr.b&&(a.typeKey=i.key+"/all?type="+Object(nr.r)(nr.a).id,a.sort="addedAt:desc"),window.location.hash=nj(n,r,i,a),this._deferred.resolve(),this.hide()},this))},saveModel:function(){var e,t=this.getSectionSettingsParams(),n=this.server.supports("saveInlineSectionSettings"),r=t&&n?{data:{prefs:t}}:{};return this.tempModel.isNew()?e=(e=this.tempModel.save(null,r)).then(C.a.bind(function(e,t,n){var r=Ve.a.parseXML(e);if(201===n.status){if(r.Directory&&(r=r.Directory),!r.key){var i=n.getResponseHeader("Location");i&&(r.key=i.substring(i.lastIndexOf("/")+1))}var a=this.server;return a.supports("advancedFilters")&&(r.filters=!0),this.model=new _l(r,{parse:!0,server:this.server}),a.get("sections").add(this.model),n}},this)):(this.model.copy(this.tempModel),e=this.model.save(null,r)),t&&!n&&(e=e.then(C.a.bind(this.saveSettings,this,t))),e=e.then(C.a.bind(this.saveAgentSettings,this))},saveSettings:function(e){var t=P.a.Deferred().resolve(this.model).promise();if(!this.server.supports("sectionSettings"))return t;if(!e)return t;var n=F.join(["/library/sections/",this.model.id,"/prefs"],e),r=C.a.extend(this.server.getXHROptions(n),{type:"PUT"});return P.a.ajax(r).promise().then(function(){return t})},saveAgentSettings:function(){var e=P.a.Deferred().resolve(this.model).promise(),t=this.tempModel.agentSettings;if(!this.tempModel.agentSettings)return e;var n=this.getSettingsChanges(t);if(C.a.isEmpty(n))return e;var r=t.first(),i=r.getSaveParams(n),a=C.a.result(t,"url"),o=F.join([a,"/set"],i),s=r.server.getXHROptions(o);return P.a.ajax(s).promise().then(function(){return e})},getSectionSettingsParams:function(){var e=this.tempModel.settings;if(e){var t=this.getSettingsChanges(e);if(!C.a.isEmpty(t))return e.first().getSaveParams(t)}},getSettingsChanges:function(e){return e.filter(function(e){return e.changedAttributes()}).reduce(function(e,t){var n=t.get("value");return"bool"===t.get("type")&&(n=n?"1":"0"),e[t.get("id")]=n,e},{})},onPaneShow:function(e,t){this.listenTo(t,"valid",this.updateSaveBtn),this.listenTo(t,"invalid",this.updateSaveBtn),this.updateSaveBtn()},onPaneHide:function(e,t){this.stopListening(t,"valid",this.updateSaveBtn),this.stopListening(t,"invalid",this.updateSaveBtn)},onChangePaneClick:function(e){e.preventDefault();var t=this.$(e.currentTarget);t.isDisabled()||this.showPane(t.data("pane"))},onSaveClick:function(e){e.preventDefault();var t=this.ui.saveBtn;if(!t.isDisabled())if(t.hasClass("next")){var n=this.panes[this.selectedPane].nextPane;"folders"!==n||this.showFolders||(n=this.ui.sidebar.find(".options-btn").isDisabled()?"advanced":"options"),n&&!this.ui.sidebar.find("."+n+"-btn").isDisabled()&&this.showPane(n)}else this.save()},onGeneralFormSubmit:function(e){this.onSaveClick(e)},onSectionTypeChange:function(){this.updateSaveBtn()}}),bA=n(807),SA=n.n(bA),IA=Lc.extend({name:"importPlaylistsModal",className:"import-playlists-modal modal fade",template:SA.a,ui:{importBtn:".import-btn",sections:"#section-list",importAll:"#import-all"},events:C.a.extend({"click .import-btn":"onImportClick"},Lc.prototype.events),initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.server=e.server,this.musicSections=e.libraries.where({type:"artist"})},serializeData:function(){var e=C.a.map(this.musicSections,function(e){return e.pick("key","title")});return{showSections:e.length>1,sections:e}},onImportClick:function(e){e.preventDefault(),this.ui.importBtn.addClass("active");var t="/playlists/import/itunes?sectionID="+this.ui.sections.val();this.ui.importAll[0].checked&&(t+="&force=1");var n=C.a.extend(this.server.getXHROptions(t),{type:"PUT"}),r=P.a.ajax(n);r.done(C.a.bind(function(){z.a.trigger("show:alert",{type:"success",message:Object(Xn.default)("Playlists have been imported.")}),this.server.get("playlists").get("items").fetch(),this.hide()},this)),r.fail(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem importing.")})})}}),CA=n(808),MA=n.n(CA),DA=Qc.extend({template:MA.a,events:C.a.extend({"click .learn-more":"onLearnMoreClick"},Qc.prototype.events),onRender:function(){Qc.prototype.onRender.apply(this,arguments),Object(J.c)("metrics").trackView({page:"relayNotification",mode:"modal",action:ia},{interaction:!1})},onHide:function(e){Qc.prototype.onHide.apply(this,arguments),Object(J.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:ia})},onLearnMoreClick:function(){Object(J.c)("metrics").trackClick({page:"relayNotification",mode:"modal",action:"learn"})},serializeData:function(){return{serverName:this.options.serverName,escapedServerName:C.a.escape(this.options.serverName)}}}),wA=Mt("server/fetchAccounts"),PA=Mt("server/populateAccounts"),TA=Mt("server/fetchSettings"),EA=Mt("server/populateSettings"),xA=Mt("server/updateSetting"),OA=Mt("server/fetchNowPlayingSessions"),jA=Mt("server/addLibrary"),AA=Mt("server/startLibrariesRefresh"),NA=Mt("server/allowHttpFallback"),kA=Mt("server/optimizeDatabase"),LA=Mt("server/cleanbundles"),RA=Mt("server/emptyTrash"),_A=Mt("server/deleteServer"),UA=Mt("server/discoverMediaGrabberDevice"),zA=(Mt("server/checkiTunes"),Mt("server/populateHasiTunes")),FA=Mt("server/importPlaylists"),BA=Mt("server/startLibrariesRefresh",function(e){return Object.assign({},e,{cancel:!0})});function HA(e,t){Object(J.c)("metrics").trackClick({page:t,action:e,context:En})}function VA(e,t){var n=bo(e,t),r=Io(e,t),i=F.join("/music/iTunes"),a=n.getXHROptions(i);P.a.ajax(a).done(function(){r.set({hasiTunes:!0,isHasiTunesPopulated:!0})}).fail(function(){r.set({hasiTunes:!1,isHasiTunesPopulated:!0})})}var QA=Object.assign({},mc,((dA={})["server/fetchAccounts"]=Ki({key:"accounts",getModel:Io}),dA["server/populateAccounts"]=qi({key:"accounts",fetchActionCreator:wA,getModel:Io}),dA["server/fetchSettings"]=Ki({key:"settings",getModel:Io}),dA["server/populateSettings"]=qi({key:"settings",fetchActionCreator:TA,getModel:Io}),dA["server/updateSetting"]=function(e,t){var n=bo(e,t),r=Io(e,t).get("settings").get(t.setting.id);if(r){var i=r.parse(t.setting);r.set("value",i.value),"FriendlyName"===i.id&&i.value?n.set("friendlyName",i.value):"allowMediaDeletion"===i.id&&n.set("allowMediaDeletion",i.value)}},dA["server/fetchNowPlayingSessions"]=function(e,t,n){bo(e,t).get("desktop").get("sessions").fetch()},dA["server/setRelayReminder"]=function(e,t,n){var r=e.get("user").get("experienceSettings"),i=Object.assign({},r.get("relayReminders")),a=i[t]||{};i[t]=wx(a.times),n(Wo({relayReminders:i}))},dA["server/confirmRelayConnection"]=function(e,t,n){var r=t.machineIdentifier,i=t.serverName,a=(e.get("user").get("experienceSettings").get("relayReminders")[r]||{}).remindAfter;if(!(a&&a>Fb(new Date))){var o=new DA({serverName:i});z.a.trigger("show:modal",o),n(rc(r))}},dA["server/addHttpFallbackConnection"]=function(e,t){var n=bo(e,t),r=e.get("user").get("experienceSettings").get("allowHttpFallback");Ax(n,t.address,t.port,r)},dA["server/addLibrary"]=function(e,t){var n=bo(e,t),r=t.options,i=void 0===r?{}:r,a=new yA(Object.assign({server:n,redirect:!1!==t.redirect},i));z.a.trigger("show:modal",a),HA("addLibrary",t.metricsPage)},dA["server/startLibrariesRefresh"]=function(e,t,n){var r=t.cancel,i=t.force,a=t.metricsPage,o=bo(e,t),s={serverModel:o,libraryID:"all",cancel:r,force:i,allowMetrics:!!a,metricsProperties:{page:a}};t.cancel&&Io(e,t).get("libraries").each(function(e){return e.set("refreshing",!1)});Hx(o,s).fail(function(){var e=t.cancel?Object(Xn.default)("There was a problem canceling the update."):Object(Xn.default)("There was a problem updating libraries.");n(au(e))}).always(function(){n(gc({serverEntityID:t.serverEntityID}))})},dA["server/allowHttpFallback"]=function(e,t,n){n(Wo({allowHttpFallback:t.allowHttpFallback})),n(nc({serverEntityID:t.serverEntityID}))},dA["server/optimizeDatabase"]=function(e,t,n){var r=bo(e,t),i=Io(e,t),a=r.supports("optimizeDatabaseActivity"),o=F.join("/library/optimize",a?{async:1}:{}),s=r.getXHROptions(o,{type:"PUT"});n(cc({serverEntityID:t.serverEntityID,activityType:xx})),i.set({optimizeDatabaseError:null}),P.a.ajax(s).done(function(){a||n(uc({serverEntityID:t.serverEntityID,activityType:xx}))}).fail(function(){i.set({optimizeDatabaseError:Object(Xn.default)("There was a problem optimizing the database.")}),n(uc({serverEntityID:t.serverEntityID,activityType:xx})),t.hideAlerts||n(au(Object(Xn.default)("There was a problem optimizing the database.")))}),HA("optimizeDatabase",t.metricsPage)},dA["server/cleanbundles"]=function(e,t,n){var r=bo(e,t),i=Io(e,t),a=r.supports("cleanBundlesActivity"),o=F.join("/library/clean/bundles",a?{async:1}:{}),s=r.getXHROptions(o,{type:"PUT"});n(cc({serverEntityID:t.serverEntityID,activityType:Px})),i.set({cleanBundlesError:null}),P.a.ajax(s).done(function(){a||n(uc({serverEntityID:t.serverEntityID,activityType:Px}))}).fail(function(){i.set({cleanBundlesError:Object(Xn.default)("There was a problem removing unused bundles.")}),n(uc({serverEntityID:t.serverEntityID,activityType:Px})),t.hideAlerts||n(au(Object(Xn.default)("There was a problem removing unused bundles.")))}),HA("cleanBundles",t.metricsPage)},dA["server/emptyTrash"]=function(e,t,n){var r=bo(e,t),i=Io(e,t).get("libraries"),a=t.libraryID,o=(a?[a]:i.map(function(e){return e.id})).map(function(e){var t=r.getXHROptions("/library/sections/"+e+"/emptyTrash",{type:"PUT"});return P.a.ajax(t)});P.a.when.apply(P.a,o).done(function(){n(au({type:"success",message:Object(Xn.default)("The trash was emptied.")}))}).fail(function(e){n(au(Object(Xn.default)("There was a problem emptying the trash.")))}),HA("emptyTrash",t.metricsPage)},dA["server/deleteServer"]=function(e,t,n){var r=bo(e,t),i=e.get("cloudServer");if(r){if(i.get("isResolved")){var a=i.getXHROptions("/api/servers/"+r.id,{type:"DELETE"});P.a.ajax(a)}var o=i.get("resources").get(r.id);if(o&&o.trigger("destroy",o,o.collection),r.get("isFullOwnedServer")&&r.get("isConnected"))r.get("desktop").get("cloudAccount").destroy().done(function(){r.set({myPlexSigninState:Ec,myPlexSubscription:!1})}).always(function(){n(nc({serverEntityID:t.serverEntityID})),r.populate().fail(function(){r.trigger("destroy",r,r.collection),n(kg({route:"dashboard"}))})});else r.trigger("destroy",r,r.collection),n(kg({route:"dashboard"}));HA("deleteServer",t.metricsPage)}},dA["server/discoverMediaGrabberDevice"]=function(e,t){var n=bo(e,t),r=e.get("ui").get("dvrSettingsUI"),i=t.device;if(!r.get("isUIPopulated")){var a=new tj({model:new Bx(i,{parse:!0}),serverEntityID:t.serverEntityID,machineIdentifier:n.get("machineIdentifier")});z.a.trigger("show:bar","alertbar",a)}},dA["server/checkiTunes"]=function(e,t){VA(e,t)},dA["server/populateHasiTunes"]=function(e,t){Io(e,t).get("isHasiTunesPopulated")||VA(e,t)},dA["server/importPlaylists"]=function(e,t){var n=bo(e,t),r=Io(e,t).get("libraries"),i=new IA({server:n,libraries:r});z.a.trigger("show:modal",i)},dA));function WA(){return Object(Iy.createSelector)(Dy(),function(e){return e&&e.desktop})}function GA(){return Object(Iy.createSelector)(WA(),function(e){return e.sessions||[]})}var YA=n(304),KA=n.n(YA),qA=Xf.a.createElement,ZA=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this)._requestFrame=function(){r._clearTimeout(),r._cancelFrame(),r._frameRequestID=window.requestAnimationFrame(r._measure)},r._requestTimeout=function(){r._clearTimeout(),r._cancelFrame(),r._measureTimeoutID=setTimeout(r._requestFrame,r.props.resizeTimeout)},r._measure=function(){var e=r.props,t=e.ignoreWidth,n=e.ignoreHeight,i=e.ignorePosition,a=e.ignoreTransforms,o=r.state,s=o.isMeasured,l=o.width,c=o.scrollWidth,u=o.height,d=o.scrollHeight,p=o.x,h=o.y,f=r._container;if(f){var g=f.getBoundingClientRect(),v=a?f.offsetWidth:g.width,m=a?f.offsetHeight:g.height,y=!0!==s,b=!i&&(g.left!==p||g.top!==h),S=!t&&(v!==l||f.scrollWidth!==c),I=!n&&(m!==u||f.scrollHeight!==d);if(r._reset(),y||b||S||I){var C=window.getComputedStyle(f),M={isMeasured:!0};if(i||(M.x=b?g.left:p,M.y=b?g.top:h),!t){var D=parseInt(C.paddingRight,10)||0,w=parseInt(C.paddingLeft,10)||0;M.width=S?v-w-D:l,M.scrollWidth=S?f.scrollWidth:c}if(!n){var P=parseInt(C.paddingTop,10)||0,T=parseInt(C.paddingBottom,10)||0;M.height=I?m-P-T:u,M.scrollHeight=I?f.scrollHeight:d}r.setState(M),r.props.onMeasure&&r.props.onMeasure(M)}}},r._setContainerRef=function(e){r._container=e;var t=r.props.onContainerRef;t&&t(e)},r._setExpandContainerRef=function(e){r._expandContainer=e},r._setShrinkContainerRef=function(e){r._shrinkContainer=e},r.onScroll=function(e){r._requestTimeout()};var i=t.ignoreWidth,a=t.ignoreHeight,o=t.ignorePosition;return r.state={isMeasured:!1,width:i?void 0:0,scrollWidth:i?void 0:0,height:a?void 0:0,scrollHeight:a?void 0:0,x:o?void 0:0,y:o?void 0:0},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._requestFrame()},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this._cancelFrame(),this._clearTimeout()},n._cancelFrame=function(){this._frameRequestID&&(this._frameRequestID=window.cancelAnimationFrame(this._frameRequestID))},n._clearTimeout=function(){this._measureTimeoutID&&(this._measureTimeoutID=clearTimeout(this._measureTimeoutID))},n._reset=function(){var e=this._expandContainer,t=this._shrinkContainer;e.scrollTop=1e5,e.scrollLeft=1e5,t.scrollTop=1e5,t.scrollLeft=1e5},n.render=function(){var e=this.props,t=e.id,n=e.className,r=e.children,i=e.style,a=e.onKeyDown,o=(e.onMeasure,"function"!=typeof r);return qA("div",{id:t,className:n,style:i,ref:this._setContainerRef,onKeyDown:a},o?r:r(this.state),qA("div",{className:KA.a.scrollContainer,ref:this._setExpandContainerRef,onScroll:this.onScroll},hv()("div",{className:KA.a.expandContent})),qA("div",{className:KA.a.scrollContainer,ref:this._setShrinkContainerRef,onScroll:this.onScroll},hv()("div",{className:KA.a.shrinkContent})))},t}(Xf.a.Component);ZA.defaultProps={className:KA.a.container,ignoreWidth:!1,ignoreHeight:!1,ignorePosition:!1,ignoreTransforms:!1,resizeTimeout:100};var XA=ZA;function JA(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=0,n=t.length;e<n;e++){var r=t[e];"function"==typeof r&&r.apply(void 0,arguments)}}}var $A,eN=n(587),tN=n.n(eN),nN=Xf.a.createElement,rN=sT(mT.a.tooltipSpeed),iN={opacity:{ease:"easeOut",duration:rN},y:{ease:IT.a.motionEasing,duration:rN},x:{ease:IT.a.motionEasing,duration:rN},scale:{ease:IT.a.motionEasing,duration:rN}},aN=BP.div({before:{opacity:0,y:function(e){switch(e.attachment){case th:case nh:case rh:return 5;case ih:case ah:case oh:return-5;case sh:case lh:default:return 0}},x:function(e){switch(e.attachment){case th:case nh:case rh:return 0;case ih:case ah:case oh:return 0;case sh:return 5;case lh:return-5;default:return 0}},scale:.95,transition:iN},enter:{opacity:1,y:0,x:.001,scale:1,transition:iN},exit:{opacity:0,y:function(e){switch(e.attachment){case th:case nh:case rh:return-5;case ih:case ah:case oh:return 5;case sh:case lh:default:return 0}},x:function(e){switch(e.attachment){case th:case nh:case rh:return 0;case ih:case ah:case oh:return 0;case sh:return-5;case lh:return 5;default:return 0}},scale:.95,transition:iN}}),oN=(($A={})[th]={placement:"top-start"},$A[nh]={placement:"top"},$A[rh]={placement:"top-end"},$A[ih]={placement:"bottom-start"},$A[ah]={placement:"bottom"},$A[oh]={placement:"bottom-end"},$A[sh]={placement:"left"},$A[lh]={placement:"right"},$A);function sN(e){var t=e.children,n=e.className,r=e.target,i=e.attachment,a=e.options,o=e.isOpen,s=(e.onMenuClose,wt()(e,["children","className","target","attachment","options","isOpen","onMenuClose"]));return hv()(KP,{className:tN.a.tooltipPortal,target:r,options:a||oN[i],isOpen:o,closeTimeout:rN},void 0,hv()(FP,{animateOnMount:!0,preEnterPose:"before",flipMove:!1},void 0,o?nN(aN,dv()({key:"container",attachment:i,className:n||tN.a[i]},s),t):null))}sN.defaultProps={attachment:ah};var lN=sN,cN=Xf.a.createElement;var uN=function(e){var t=e.children,n=wt()(e,["children"]);return cN("div",n,t)},dN=Xf.a.createElement,pN=Xf.a.Component,hN=Xf.a.Fragment,fN=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseEnter=function(e){r.props.showOnHover&&(r._isHovered=!0,r.setState({isOpen:!0}))},r.onMouseLeave=function(e){r.props.showOnHover&&(r._isHovered=!1,r.setState({isOpen:r._isFocused}))},r.onFocus=function(e){r.props.showOnFocus&&(r._isFocused=!0,r.setState({isOpen:!0}))},r.onBlur=function(e){r.props.showOnFocus&&(r._isFocused=!1,r.setState({isOpen:r._isHovered}))},r.onPress=function(e){r.props.hideOnPress&&(r._isHovered=!1,r._isFocused=!1,r.setState({isOpen:!1}))},r.state={isOpen:!1},r._isHovered=!1,r._isFocused=!1,r._targetID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e){var t=this.props,n=t.hideOnDisabled,r=t.isDisabled;this.state.isOpen&&n&&r&&!e.isDisabled&&(this._isHovered=!1,this._isFocused=!1,this.setState({isOpen:!1}))},n.render=function(){var e=this.props,t=e.id,n=e.component,r=e.tooltip,i=e.tooltipClassName,a=e.tooltipFocusedClassName,o=e.tooltipAttachment,s=e.tooltipTarget,l=e.tooltipOptions,c=(e.showOnHover,e.showOnFocus,e.hideOnDisabled,e.hideOnPress,e.onMouseEnter),u=e.onMouseLeave,d=e.onFocus,p=e.onBlur,h=e.onPress,f=wt()(e,["id","component","tooltip","tooltipClassName","tooltipFocusedClassName","tooltipAttachment","tooltipTarget","tooltipOptions","showOnHover","showOnFocus","hideOnDisabled","hideOnPress","onMouseEnter","onMouseLeave","onFocus","onBlur","onPress"]),g=this.state.isOpen,v=this._isFocused&&a?a:i;return hv()(hN,{},void 0,dN(n,dv()({id:t||this._targetID,onMouseEnter:JA(this.onMouseEnter,c),onMouseLeave:JA(this.onMouseLeave,u),onFocus:JA(this.onFocus,d),onBlur:JA(this.onBlur,p),onPress:JA(this.onPress,h)},f)),r?hv()(lN,{className:v,attachment:o,options:l,target:s||t||this._targetID,isOpen:g},void 0,r):null)},t}(pN);fN.defaultProps={component:uN,showOnHover:!0,showOnFocus:!0,hideOnPress:!0,hideOnDisabled:!0};var gN=fN;function vN(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-expand-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M46.3324414,560 L46.3324414,504 L514,504 L514,560 L46.3324414,560 Z M46.3324414,392 L46.3324414,336 L514,336 L514,392 L46.3324414,392 Z M514,4.54747351e-13 L514,224 L46,224 L46,168 L46.1324766,168 L46.1324766,39.125 L46.3324414,39.125 L46.3324414,4.54747351e-13 L514,4.54747351e-13 Z M458.00987,168 L458.00987,56 L102.122607,56 L102.122607,168 L458.00987,168 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}vN.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var mN=vN,yN=n(462),bN=n.n(yN),SN=Xf.a.createElement;function IN(e){var t=e.children,n=e.className,r=e.innerClassName,i=e.scrollDirection,a=wt()(e,["children","className","innerClassName","scrollDirection"]),o=i!==Zp;return n||(n=o?bN.a.modalScroller:bN.a.modalBody),SN(oT,dv()({className:n,scrollDirection:i,autoScroll:!0},a),o?hv()("div",{className:r},void 0,t):t)}IN.defaultProps={innerClassName:bN.a.innerModalBody};var CN=IN,MN=n(809),DN=n.n(MN),wN=Xf.a.createElement;var PN=function(e){var t=e.children,n=wt()(e,["children"]);return wN("div",dv()({className:DN.a.modalHeader},n),t)},TN=n(463),EN=n.n(TN),xN=Xf.a.createElement,ON=Xf.a.Component,jN=sT(mT.a.modalSpeed),AN={ease:"easeOut",duration:jN},NN={ease:IT.a.motionEasing,duration:jN},kN={opacity:AN},LN=BP.div({enter:{opacity:1,transition:kN},exit:{opacity:0,transition:kN}}),RN={scale:NN,opacity:AN},_N=BP.div({enter:{opacity:1,scale:1,transition:RN},exit:{opacity:0,scale:.95,transition:RN}}),UN=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onBackdropBeginPress=function(e){t._isBackdropPressed=t._isBackdropTarget(e)},t.onBackdropEndPress=function(e){!t.props.preventCloseOnBackdropPress&&t._isBackdropPressed&&t._isBackdropTarget(e)&&t.props.onModalClose(),t._isBackdropPressed=!1},t.onTouchMove=function(e){t._isBackdropPressed=!1},t.onTouchCancel=function(e){t._isBackdropPressed=!1},t.onKeyDown=function(e){var n=e.keyCode;n===CT?hT(e):n===DT&&(e.preventDefault(),e.stopPropagation(),t.props.onModalClose(),gT())},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isOpen&&this._openModal()},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e){!e.isOpen&&this.props.isOpen?this._openModal():e.isOpen&&!this.props.isOpen&&this._closeModal()},n.componentWillUnmount=function(){this.props.isOpen&&this._closeModal()},n._openModal=function(){pT(Bv.a.findDOMNode(this.refs.modal)),this._autoFocusTimeoutID=setTimeout(fT,jN),document.addEventListener("keydown",this.onKeyDown)},n._closeModal=function(){clearTimeout(this._autoFocusTimeoutID),document.removeEventListener("keydown",this.onKeyDown)},n._isBackdropTarget=function(e){var t=this._findEventTarget(e);if(t){var n=Bv.a.findDOMNode(this.refs.modal);return!n||!n.contains(t)}return!1},n._findEventTarget=function(e){var t=e.changedTouches;if(!t)return e.target;if(1===t.length){var n=t[0];return document.elementFromPoint(n.clientX,n.clientY)}},n.render=function(){var e=this.props,t=e.className,n=e.backdropClassName,r=e.containerClassName,i=e.children,a=e.size,o=e.isOpen;return hv()(WP,{isOpen:o,closeTimeout:jN,className:r},void 0,hv()(FP,{animateOnMount:!0},void 0,o?hv()(LN,{className:n,onMouseDown:this.onBackdropBeginPress,onMouseUp:this.onBackdropEndPress,onTouchStart:this.onBackdropBeginPress,onTouchEnd:this.onBackdropEndPress,onTouchMove:this.onTouchMove,onTouchCancel:this.onTouchCancel},"backdrop",xN(_N,{key:"modal",initialPose:"exit",pose:"enter",className:t||EN.a[a],ref:"modal"},i)):null))},t}(ON);UN.defaultProps={backdropClassName:EN.a.modalBackdrop,containerClassName:EN.a.modalContainer,size:qp.MEDIUM,preventCloseOnBackdropPress:!1};var zN=UN,FN=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).page=t.page,r}Sy()(t,e);var n=t.prototype;return n.getChildContext=function(){return{metricsPage:this.page}},n.componentDidMount=function(){var e=this.props,t=(e.children,e.isDelegated),n=wt()(e,["children","isDelegated"]);t||window.requestAnimationFrame(function(){Object(J.c)("metrics").trackView(n)})},n.componentWillReceiveProps=function(e){},n.componentDidUpdate=function(e){e.children;var t=e.isDelegated,n=wt()(e,["children","isDelegated"]),r=this.props,i=(r.children,r.isDelegated),a=wt()(r,["children","isDelegated"]),o=t!==i||!TS(n,a);!i&&o&&Object(J.c)("metrics").trackView(a)},n.render=function(){return this.props.children?Xf.a.Children.only(this.props.children):null},t}(Xf.a.Component);FN.childContextTypes={metricsPage:Dp.a.string.isRequired};var BN=FN,HN=Xf.a.createElement;var VN=function(e){var t=e.children,n=e.metricsPage,r=e.metricsProperties,i=wt()(e,["children","metricsPage","metricsProperties"]);return HN(zN,i,HN(BN,dv()({},r,{page:n}),t))},QN=n(588),WN=n.n(QN),GN=Xf.a.createElement;function YN(e){var t=e.className,n=e.children,r=e.iconComponent,i=e.onModalClose,a=wt()(e,["className","children","iconComponent","onModalClose"]);return GN("div",dv()({className:t},a),hv()(RS,{className:WN.a.closeButton,onPress:i},void 0,r?hv()(r,{}):null),n)}YN.defaultProps={className:WN.a.modalContent};var KN=YN;KN.defaultProps=Object.assign({},KN.defaultProps,{iconComponent:US});var qN=KN,ZN=n(810),XN=n.n(ZN);var JN=function(e){var t=e.isOpen,n=e.errorMessage,r=e.onModalClose;return hv()(VN,{isOpen:t,size:qp.SMALL,onModalClose:r},void 0,hv()(qN,{onModalClose:r},void 0,hv()(PN,{className:XN.a.modalHeader},void 0,Object(Xn.default)("Error")),hv()(CN,{},void 0,n)))},$N=Object(Iy.createSelector)(Cy,function(e){return e.metadataItems}),ek=Object(Iy.createSelector)(Cy,function(e){return e.providers}),tk=Object(Iy.createSelector)(Cy,function(e){return e.sessions});var nk=function(){return Object(Iy.createSelector)(tk,function(e,t){return t.sessionEntityID},function(e,t){return e[t]})};function rk(e){var t=e.className,n=e.style,r=e.src,i=e.width,a=e.height,o=e.backgroundSize,s=e.backgroundPosition,l=e.backgroundRepeat;return hv()("div",{className:t,style:Object.assign({width:i,height:a,backgroundImage:"url("+r+")",backgroundSize:o,backgroundPosition:s,backgroundRepeat:l},n)})}rk.defaultProps={backgroundSize:"cover",backgroundPosition:"center",backgroundRepeat:"no-repeat"};var ik=rk,ak=n(811),ok=n.n(ak),sk=Xf.a.createElement,lk=Xf.a.useLayoutEffect,ck=Xf.a.useRef;function uk(e,t,n){var r=n.className,i=n.style,a=n.styleProps,o=n.durationMilliseconds,s=n.useCrossFade,l=document.createElement("div");l.className=(r||"")+" "+(s&&ok.a.crossFade||""),Object.assign(l.style,Object.assign({position:"absolute",animationDuration:o+"ms",backgroundImage:"url("+e+")",width:"100%",height:"100%"},a,i)),t.appendChild(l)}function dk(e){var t=e.className,n=e.style,r=e.containerClassName,i=e.containerStyle,a=e.src,o=e.width,s=e.height,l=e.backgroundSize,c=e.backgroundPosition,u=e.backgroundRepeat,d=e.animateOnMount,p=e.disableCrossFade,h=e.durationMilliseconds,f=ck(null),g=ck(!0),v=Object.assign({position:"relative",width:o,height:s},i);return lk(function(){var e=g.current;g.current=!1;var r,i,o={className:t,style:n,styleProps:{backgroundSize:l,backgroundPosition:c,backgroundRepeat:u},durationMilliseconds:h,useCrossFade:!e||d};return p&&(o.useCrossFade=!1),e?uk(a,f.current,o):r=window.requestAnimationFrame(function(){r=null,uk(a,f.current,o),i=setTimeout(function(){for(;f.current.childNodes.length>1;)(e=f.current).removeChild(e.childNodes[0]);var e},2*h)}),function(){r&&window.cancelAnimationFrame(r),i&&clearTimeout(i)}},[t,n,a,l,c,u]),sk("div",{className:r,style:v,ref:f})}dk.defaultProps=Object.assign({},ik.defaultProps,{animateOnMount:!0,disableCrossFade:!1,durationMilliseconds:sT(mT.a.slowSpeed)});var pk=dk;var hk=function(e,t){return e>t?50:e<=0||t<=0?0:parseFloat((e/t*100).toFixed(2))};var fk=function(e,t){var n;if(e.Part.length>1)for(var r=0,i=0,a=e.Part.length;i<a&&(n=e.Part[i]).duration&&!((r+=n.duration)>t);i++);else n=C.a.first(e.Part);return n};var gk=function(e,t,n){var r=n;if(e.Part.length>1)for(var i=0,a=e.Part.length;i<a;i++){var o=e.Part[i];if(!o.duration)break;if(t.key===o.key)break;r-=o.duration}return r};var vk=function(e,t){if(e.indexes){var n=e.indexes.split(",");if(n.length)return C.a.indexOf(n,t)>-1?t:n[0]}};var mk=function(e,t,n){var r=fk(e,t);if(n=vk(r,n)){var i=gk(e,r,t);return"/library/parts/"+r.id+"/indexes/"+n+"/"+i}};function yk(e,t){var n=C.a.invert(e);return C.a.reduce(e,function(e,r){return e[r]=t[n[r]],e},{})}var bk={playing:"playing",paused:"paused",stopped:"paused",error:"paused",buffering:"playing"},Sk=new(me.a.extend({types:{VIDEO:"video",MUSIC:"music",PHOTO:"photo"},elements:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},streams:{VIDEO:"video",MUSIC:"audio",PHOTO:"photo"},states:{STOPPED:"stopped",PAUSED:"paused",PLAYING:"playing",BUFFERING:"buffering",ERROR:"error"},slideshowStates:{PLAYING:"playing",PAUSED:"paused"},castStates:{ERROR:"IDLE",STOPPED:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING",BUFFERING:"BUFFERING"},mediaStates:{LOADING:"LOADING",BUFFERING:"BUFFERING",READY:"READY",ERROR:"ERROR"},initialize:function(){this.typeByElement=yk(this.elements,this.types),this.elementByType=yk(this.types,this.elements),this.typeByStream=yk(this.streams,this.types),this.streamByType=yk(this.types,this.streams),this.statebyCastState=yk(this.castStates,this.states),this.castStateByState=yk(this.states,this.castStates)},getTypeByElement:function(e){return this.typeByElement[e]},getElementByType:function(e){return this.elementByType[e]},getTypeByStream:function(e){return this.typeByStream[e]},getStreamByType:function(e){return this.streamByType[e]},getStateByCastState:function(e){return this.statebyCastState[e]},getCastStateByState:function(e){return this.castStateByState[e]},getSlideshowStateByState:function(e){return bk[e]}})),Ik="com.tidal";function Ck(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Ck.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Mk,Dk=((Mk={})[Ik]=Ck,Mk);var wk=function(e){var t=Dk[e.attribution];return t?hv()("div",{className:e.className},void 0,hv()(t,{})):null},Pk=[/alexa/i,/sonos/i],Tk={};var Ek=Xf.a.createElement,xk=Xf.a.useEffect,Ok=Xf.a.useRef,jk=Xf.a.useState;function Ak(e){var t=e.src,n=e.emptySrc,r=e.component,i=e.preloadOnMount,a=e.onLoad,o=e.onError,s=wt()(e,["src","emptySrc","component","preloadOnMount","onLoad","onError"]),l=jk(i?n:t||n),c=l[0],u=l[1],d=Ok(!1);return xk(function(){var e;if(!d.current||(d.current=!1,c!==n))return c===t?a&&a():t?(e=function(e){var t=P.a.Deferred(),n=new window.Image;return n.onload=function(){n.onload=n.onabort=n.onerror=null,t.resolve(e)},n.onabort=n.onerror=function(){n.onload=n.onabort=n.onerror=null,t.reject()},n.src=e,Object(mE.a)(t.promise())}(t)).promise.then(function(t){e=null,u(t)},function(t){(void 0===t?{}:t).isCanceled||(e=null,c===n?o&&o():(d.current=!0,u(n)))}):u(n),function(){e&&e.cancel()};o&&o()},[t,n,c,a,o]),Ek(r,dv()({},s,{src:c}))}Ak.defaultProps={emptySrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",component:ik,preloadOnMount:!0};var Nk=Ak,kk=Xf.a.createElement,Lk=Xf.a.memo,Rk=Xf.a.useEffect,_k=Xf.a.useRef,Uk=Xf.a.useState,zk=new vf;function Fk(e){var t,n,r=e.url,i=(e.minSize,e.format,e.quality,e.upscale,e.filters,e.allowPixelRatioSize,e.allowSizeBracket,e.allowImageBlobs),a=e.onError,o=wt()(e,["url","minSize","format","quality","upscale","filters","allowPixelRatioSize","allowSizeBracket","allowImageBlobs","onError"]),s=function(e,t){if(e){var n,r=t.allowPixelRatioSize?uf():1,i=(n=t.width*t.height*r)>=5e5?100:n>=5e4?50:n>=2e4?20:10,a=t.allowSizeBracket?Math.ceil(t.width/i)*i:t.width,o=t.allowSizeBracket?a/t.width:1,s=Object.assign({width:Math.round(a*r),height:Math.round(t.height*o*r)},t.filters);t.minSize&&(s.minSize=1),t.upscale&&(s.upscale=1),t.format&&(s.format=t.format),t.quality&&(s.quality=t.quality);var l=e.indexOf("?"),c=e;return l>-1?(c=F.join(e.substring(0,l),s),c+=-1===c.indexOf("?")?"?":"&",c+=e.substring(l+1)):c=F.join(c,s),c}}(r,e);s&&i&&((t=zk.getBlobUrl(s))||(n=zk.getPlaceholder(s)));var l=Uk(t||n||(i?null:s)),c=l[0],u=l[1],d=_k(!1);return Rk(function(){var e;if(!d.current||(d.current=!1,null!=c))return t?c!==t&&u(t):s&&i?(e=function(e){var t=P.a.Deferred(),n={cancelable:Object(mE.a)(t.promise()),xhr:null},r=new window.XMLHttpRequest;return r.open("GET",e,!0),r.responseType="arraybuffer",n.xhr=r,r.onreadystatechange=function(){if(4===r.readyState)if(r.onreadystatechange=null,200===r.status){var n=new window.Blob([r.response],{type:"image/jpeg"}),i=window.URL.createObjectURL(n);zk.store({url:e,blobUrl:i}),t.resolve(i)}else t.reject()},r.send(),n}(s)).cancelable.promise.then(function(t){e=null,u(t)},function(t){(void 0===t?{}:t).isCanceled||(e=null,null===c?a&&a():(d.current=!0,u(null)))}):u(s&&!i?s:null),function(){e&&(e.cancelable.cancel(),e.xhr&&(e.xhr.onreadystatechange=null,e.xhr.abort()))};a&&a()},[c,s,t,i,a]),kk(Nk,dv()({},o,{src:c,onError:a}))}Fk.defaultProps={minSize:!0,upscale:!0,allowPixelRatioSize:!0,allowSizeBracket:!1,allowImageBlobs:!0};var Bk=Lk(Fk);function Hk(){return Object(Iy.createSelector)(function(e,t){return t.providerEntityID},ek,function(e,t){return t[e]})}var Vk={},Qk={};function Wk(e,t){var n=t.serverEntityID+":"+t.providerEntityID;return Qk[n]||(Qk[n]=KS(Object(Iy.createSelector)(Dy(),Hk(),function(e,t){var n=e&&e.activeConnection&&e.activeConnection.uri;if(!n)return Vk;var r,i="/photo/:/transcode",a=!1,o=!1;if(t){var s=C.a.findWhere(t.features,{type:rn});s&&(a=xr(i=s.key),o=s.public)}return r=a?t&&t.baseURL?t.baseURL:n:"",{accessToken:e.accessToken,baseUrl:r,isAbsoluteTranscodeKey:a,isPublicTranscoder:o,transcodeKey:i,uri:n}}),function(e){return e})),Qk[n](e,t)}function Gk(e){var t=e&&e.urlParams;return Object(Iy.createSelector)(function(e,t){return t.url},Wk,function(e,n){if(e&&n!==Vk){var r,i=n.accessToken,a=n.baseUrl,o=n.isAbsoluteTranscodeKey,s=n.isPublicTranscoder,l=n.transcodeKey,c=n.uri;if(xr(e))r=e;else{var u={"X-Plex-Token":i};t&&Object.assign(u,t),r=F.join([a,e],u)}var d=o?l:[c,l];return F.join(d,{url:r,"X-Plex-Token":s?void 0:i})}})}var Yk=null;var Kk=Lm(function(){return Object(Iy.createSelector)(Gk(Yk),function(e){return{url:e}})})(Bk),qk=n(812),Zk=n.n(qk),Xk=Xf.a.createElement;function Jk(e){var t=e.className,n=wt()(e,["className"]);return hv()("div",{className:t},void 0,Xk(Kk,n))}Jk.defaultProps={className:Zk.a.avatar};var $k=Jk,eL=Xf.a.createElement,tL={position:"absolute",top:0,left:0,display:"block",width:"100%",height:"100%"};var nL=function(e){return eL(Kk,dv()({},e,{allowSizeBracket:!0,component:pk,containerStyle:tL}))},rL="playlist://image.favorite",iL="playlist://image.radio",aL="folder";function oL(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-folder-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m80 160l480 0-80 360-480 0 80-360m400-80l-10 39.838c-127.207-.297-430 .162-430 .162l-40 200 0-260c0-11.038 8.961-20 20-20l200 0c11.039 0 20 8.962 20 20l0 20 240 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}oL.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var sL=oL;function lL(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-radio-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M67.585 105.999c13.653-12.146 29.63-2.91 34.582 2.12 7.857 7.98 7.27 15.873 5.452 19.688-1.351 2.836-3.028 5.453-6.664 9.996-17.568 20.597-29.986 42.405-39.073 67.243-14.538 39.982-16.356 85.112-5.451 126.912 8.48 30.895 23.321 59.064 44.222 83.903 4.846 5.45 6.057 7.268 7.269 11.205.606 2.122.606 8.179-.303 10.905-1.817 5.755-6.058 10.299-12.116 12.418-1.515.606-17.907 5.469-28.827-3.028-1.818-1.211-8.482-8.785-13.327-15.145-28.17-36.044-46.04-79.056-51.493-124.792-2.422-19.082-2.422-40.588-.302-59.671 5.755-49.371 25.745-95.714 57.852-133.575 4.847-5.756 5.8-6.063 8.179-8.179zm80.238 77.238c8.986-10.49 24.838-16.15 37.2-5.61 12.362 10.538 8.589 23.784 3.439 30.447-13.63 16.356-21.505 34.228-24.534 55.43-.605 4.846-.908 16.356-.303 21.808 1.817 23.323 10.602 43.92 25.746 61.791 3.938 4.544 5.754 7.875 6.058 13.024.605 8.785-5.474 16.513-13.933 19.386-17.87 6.067-29.13-3.332-35.49-10.904-25.747-32.107-36.652-72.998-30.593-114.192 3.938-26.049 15.03-50.896 32.41-71.18zm128.276 149.264c-14.384-.7-26.663-6.3-36.837-16.1-10.876-11.2-16.138-24.15-16.138-39.55 0-15.398 5.262-28.35 16.138-39.549 11.225-10.85 24.207-16.1 39.643-16.1 15.437 0 28.416 5.25 39.644 16.1 10.874 11.199 16.137 24.15 16.137 39.55 0 15.4-5.263 28.349-16.137 39.55-10.526 10.15-22.804 15.75-37.54 16.1-1.753.349-4.209.349-4.91 0zm214.318-226.503c2.379 2.117 3.332 2.423 8.179 8.178 32.107 37.862 52.097 84.205 57.852 133.576 2.12 19.084 2.12 40.588-.302 59.671-5.453 45.736-23.324 88.748-51.492 124.792-4.846 6.36-11.51 13.933-13.328 15.145-10.92 8.496-27.312 3.635-28.827 3.029-6.058-2.12-10.299-6.664-12.116-12.419-.909-2.726-.909-8.785-.303-10.904 1.212-3.938 2.423-5.755 7.269-11.207 20.9-24.837 35.742-53.007 44.222-83.901 10.905-41.8 9.087-86.932-5.45-126.913-9.088-24.837-21.506-46.647-39.075-67.243-3.635-4.543-5.312-7.16-6.663-9.996-1.817-3.815-2.405-11.709 5.452-19.688 4.952-5.028 20.928-14.266 34.582-2.12zm-80.431 77.238c17.379 20.284 28.473 45.131 32.41 71.18 6.058 41.194-4.846 82.084-30.592 114.191-6.36 7.573-17.62 16.972-35.49 10.905-8.46-2.873-14.54-10.601-13.934-19.386.303-5.15 2.12-8.481 6.057-13.024 15.145-17.87 23.93-38.468 25.746-61.79.606-5.453.303-16.963-.302-21.809-3.028-21.202-10.905-39.073-24.534-55.43-5.15-6.664-8.923-19.909 3.438-30.447 12.363-10.54 28.214-4.88 37.2 5.61z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}lL.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var cL=lL;function uL(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-artist-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m250 306.694l-157.846 67.947-40-69.282 258.305-192.603 77.647 134.488-78.106 33.622 0 279.134-60 0 0-253.306m88.09-226.08c7.93-10.767 18.16-20.107 30.474-27.217 47.797-27.595 109.007-11.194 136.603 36.603 27.595 47.797 11.194 109.007-36.603 136.603-12.314 7.109-25.518 11.298-38.808 12.783l-91.666-158.772"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}uL.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var dL={movie:iA,show:uA,season:uA,episode:uA,artist:uL,album:oA,track:oA,photo:lA,photoalbum:lA,clip:nA,station:cL},pL=n(813),hL=n.n(pL);var fL=function(e){var t=e.className,n=e.type,r=e.width,i=e.height,a=function(e){switch(e){case iL:return cL;case aL:return sL}}(e.icon)||dL[n];if(!a)return null;var o={fontSize:Math.max(14,Math.min(Math.round(r/4),42)),lineHeight:i+"px"},s={width:r+"px",height:i+"px"};return hv()("div",{className:(t||"")+" "+(hL.a.container||""),style:s},void 0,hv()(a,{style:o}))},gL=n(814),vL=n.n(gL);var mL=function(e){var t=e.className,n=e.type,r=e.icon,i=e.width,a=e.height,o=e.isFolder;return hv()(fL,{className:(t||"")+" "+(vL.a.placeholderIcon||""),type:n,icon:o?aL:r,width:i,height:a})};var yL=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.itemServerEntityID,i=e.itemProviderEntityID,a=e.type,o=e.isOffscreen,s=e.url,l=e.src,c=e.width,u=e.height,d=e.icon,p=e.isFolder,h=e.disableCrossFade,f=e.onLoad,g=e.onError;return o?null:s||l?hv()(nL,{serverEntityID:r||t,providerEntityID:i||n,url:s,src:l,width:c,height:u,backgroundPosition:"artist"===a?"center top":"center",disableCrossFade:h,onLoad:f,onError:g}):hv()(mL,{type:a,width:c,height:u,isFolder:p,icon:d})},bL=1/1.5,SL=1,IL=16/9;function CL(e,t,n){if(n)switch(n){case Op:switch(e){case"genre":case"channel":return SL}break;case Tp:switch(e){case"episode":return IL}break;case Pp:case kp:return IL;case jp:switch(e){case"movie":case"episode":return IL}break;case Ap:case Ep:case _p:switch(e){case"episode":return IL}break;case Rp:switch(e){case"clip":return SL}}switch(t){case $n:case er:switch(e){case"show":return SL;case"episode":return IL}}switch(e){case"movie":case"show":case"season":case"episode":return bL;case"artist":case"album":case"track":case"photo":case"photoalbum":return SL;case"clip":return IL;case"collection":return bL;case"extra":case"musicVideo":return IL;case"mixed":return bL;case"genre":case"channel":return IL;default:return SL}}function ML(e,t,n,r){var i=CL(t,n,r);return Math.round(e*i)}function DL(e,t,n,r){var i=CL(t,n,r);return Math.round(e/i)}function wL(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-dashboard-stop-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["polygon",{points:"383.704 280 560 456.296 456.296 560 280 383.704 103.704 560 0 456.296 176.296 280 0 103.704 103.704 0 280 176.296 456.296 0 560 103.704 383.704 280"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}wL.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var PL=wL;var TL=function(e){if(e<=0||!C.a.isNumber(e))return"0:00";var t=Jm(e),n=t.seconds,r=t.minutes,i=t.hours+24*t.days,a="";return a=n<10?":0"+n:":"+n,a=r<10&&i>0?"0"+r+a:r+a,i>0&&(a=i+":"+a),a};var EL=function(e){var t=Av.a.get("audio").id,n=Object(zs.a)(e,{streamType:t,selected:!0});return C.a.first(n)};var xL=function(e){var t=Av.a.get("subtitles").id,n=Object(zs.a)(e,{streamType:t,selected:!0}),r=C.a.first(n);if(r&&r.id>0)return r},OL=n(117);var jL=function(e){return e?e.replace(/\w\S*/g,function(e){return e.charAt(0).toUpperCase()+e.substr(1).toLowerCase()}):""};var AL,NL=function(e){return e?e.toUpperCase():""},kL=n(815),LL=n.n(kL),RL=n(816),_L=n.n(RL),UL=n(817),zL=n.n(UL),FL=n(818),BL=n.n(FL),HL=n(819),VL=n.n(HL),QL=n(820),WL=n.n(QL),GL=n(821),YL=n.n(GL),KL=n(822),qL=n.n(KL),ZL=n(823),XL=n.n(ZL),JL=n(824),$L=n.n(JL),eR=n(825),tR=n.n(eR),nR=n(826),rR=n.n(nR),iR=n(827),aR=n.n(iR),oR=n(828),sR=n.n(oR),lR=n(829),cR=n.n(lR),uR=n(830),dR=n.n(uR),pR=n(831),hR=n.n(pR),fR=n(832),gR=n.n(fR),vR=n(833),mR=n.n(vR),yR=n(834),bR=n.n(yR),SR=n(835),IR=n.n(SR),CR=n(836),MR=n.n(CR),DR=n(837),wR=n.n(DR),PR=n(838),TR=n.n(PR),ER=n(839),xR=n.n(ER),OR=n(840),jR=n.n(OR),AR=n(841),NR=n.n(AR),kR=((AL={})[LL.a]=/alexa/i,AL[_L.a]=/android/i,AL[zL.a]=/plex.*atv|tvos/i,AL[BL.a]=/chrome/i,AL[WL.a]=/dlna/i,AL[YL.a]=/edge/i,AL[qL.a]=/firefox/i,AL[XL.a]=/google.*tv/i,AL[$L.a]=/internet.*explorer|explorer.*windows/i,AL[tR.a]=/ios/i,AL[rR.a]=/linux/i,AL[aR.a]=/opera/i,AL[sR.a]=/mac/i,AL[cR.a]=/konvergo|plex.*home.*theater|plex.*media.*center/i,AL[dR.a]=/plexamp/i,AL[hR.a]=/plex.*media.*server/i,AL[gR.a]=/WebMAF|mystery.*3/i,AL[mR.a]=/roku/i,AL[bR.a]=/safari/i,AL[IR.a]=/samsung/i,AL[MR.a]=/sonos/i,AL[wR.a]=/plex.*vr/i,AL[TR.a]=/wii.*u/i,AL[xR.a]=/windows/i,AL[jR.a]=/windows.*phone|wince/i,AL[NR.a]=/xbox|mystery.*5/i,AL),LR=C.a.pairs(kR),RR={};function _R(e){for(var t=0,n=LR.length;t<n;t++){var r=LR[t],i=r[0];if(r[1].test(e))return i}}function UR(e,t){var n=RR[e]||RR[t];return n||((n=e&&_R(e))?(RR[e]=n,n):(n=t&&_R(t))?(RR[t]=n,n):VL.a)}function zR(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 0l-280 520 560 0-280-520m0 400c22.077 0 40 17.923 40 40 0 22.077-17.923 40-40 40-22.077 0-40-17.923-40-40 0-22.077 17.923-40 40-40m-30-40l0-220 60 0 0 220-60 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}zR.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var FR=zR;function BR(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-alert-round-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 420c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m60-320l-40 0c-11.038 0-20 8.962-20 20l0 200c0 11.038 8.962 20 20 20l40 0c11.038 0 20-8.962 20-20l0-200c0-11.038-8.962-20-20-20"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}BR.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var HR=BR;function VR(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-lock-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-160 240l0 200 320 0 0-200-40.019 0 0-40-.001 0c.02-7.756-.72-15.486-2.2-23.072-1.088-5.577-2.575-11.076-4.448-16.441-1.886-5.402-4.161-10.668-6.802-15.743-3.116-5.991-6.74-11.716-10.817-17.099-4.131-5.455-8.728-10.557-13.722-15.235-4.912-4.6-10.209-8.789-15.818-12.507-5.444-3.608-11.182-6.772-17.14-9.446-9.444-4.237-19.437-7.236-29.653-8.897-4.12-.67-8.275-1.124-12.443-1.362-2.181-.125-4.365-.187-6.549-.197-.388-.001-.776 0-1.164.001-2.183.018-4.364.087-6.544.218-4.164.251-8.315.718-12.431 1.401-10.207 1.693-20.187 4.721-29.614 8.986-6.059 2.742-11.888 5.99-17.409 9.697-5.686 3.818-11.045 8.122-16.002 12.848-4.953 4.722-9.504 9.866-13.587 15.358-4.102 5.519-7.731 11.389-10.83 17.527-2.581 5.113-4.795 10.411-6.615 15.841-1.77 5.278-3.168 10.68-4.182 16.154-1.342 7.242-2.013 14.609-1.987 21.968l-.023 0 0 40-40 0m180 160l-40 0 0-45.359c-11.952-6.92-20-19.848-20-34.641 0-22.077 17.923-40 40-40 22.077 0 40 17.923 40 40 0 14.793-8.048 27.721-20 34.641l0 45.359m39.993-160l-119.986 0 0-40-.007-.197c.015-4.685.565-9.366 1.662-13.92 1.309-5.431 3.394-10.668 6.164-15.518 3.267-5.718 7.478-10.89 12.403-15.261 4.518-4.009 9.634-7.341 15.138-9.831 4.623-2.092 9.514-3.584 14.517-4.43 2.184-.37 4.389-.617 6.6-.743 1.105-.063 2.212-.094 3.318-.1.395 0 .789.002 1.183.008 1.166.02 2.33.07 3.492.155 2.2.16 4.39.441 6.558.843 4.922.912 9.723 2.451 14.257 4.57 5.473 2.557 10.549 5.95 15.018 10.012 4.873 4.429 9.022 9.651 12.219 15.408 2.715 4.888 4.736 10.156 5.978 15.608.986 4.326 1.479 8.761 1.493 13.197l-.007.199 0 40"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}VR.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var QR=VR,WR=n(464),GR=n.n(WR),YR=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.className,n=e.isConnected,r=e.isUnavailable,i=e.isSecure;return e.isRelayed?hv()(HR,{className:(t||"")+" "+(GR.a.warningIcon||""),title:Object(Xn.default)("Indirect"),"aria-label":Object(Xn.default)("Indirect")}):r?hv()(FR,{className:(t||"")+" "+(GR.a.alertIcon||""),title:Object(Xn.default)("Unavailable"),"aria-label":Object(Xn.default)("Unavailable")}):i&&n?hv()(QR,{className:(t||"")+" "+(GR.a.secureIcon||""),title:Object(Xn.default)("Secure"),"aria-label":Object(Xn.default)("Secure")}):null},t}(Xf.a.Component),KR=n(90);var qR=function(e){return(e=parseInt(e,10))?e<2?Object(Xn.default)("Mono"):e<3?Object(Xn.default)("Stereo"):(e-1).toString()+".1":""};var ZR=function(e){return e?"dca"===e?"DTS":e.toUpperCase():""};var XR=function(e){var t=e.stream,n=e.separatorComponent,r=[];t.codec&&r.push(ZR(t.codec)),t.channels&&r.push(qR(t.channels));var i=t.language||Object(Xn.default)("Unknown"),a=r&&r.length>0?r.join(" "):null,o=a?Object(Xn.default)("{label}, {details}",{label:i,details:a}):i;return hv()("span",{"aria-label":o,"data-qa-id":"audioStream"},void 0,i,a?hv()(n,{}):null,a)};var JR=function(e){var t=e.stream,n=e.separatorComponent,r=[];t.codec&&r.push(t.codec.toUpperCase()),t.key&&r.push(Object(Xn.default)("External")),t.forced&&r.push(Object(Xn.default)("Forced"));var i=t.language||Object(Xn.default)("Unknown"),a=r&&r.length>0?r.join(" "):null,o=a?Object(Xn.default)("{label}, {details}",{label:i,details:a}):i;return hv()("span",{"aria-label":o,"data-qa-id":"subtitlesStream"},void 0,i,a?hv()(n,{}):null,a)};var $R=function(e){var t,n=e.mediaItem,r=e.separatorComponent;n.videoCodec&&(t=[n.videoCodec.toUpperCase()]);var i=Object(KR.a)(n),a=i&&i.scanType,o=Object(OL.default)(n.videoResolution,a)||Object(Xn.default)("Unknown"),s=t&&t.length>0?t.join(" "):null,l=s?Object(Xn.default)("{label}, {details}",{label:o,details:s}):o;return hv()("span",{"aria-label":l,"data-qa-id":"videoStream"},void 0,o,s?hv()(r,{}):null,s)},e_=Xf.a.createElement,t_={audio:XR,subtitles:JR,video:$R};var n_=function(e){var t=e.type,n=e.stream,r=e.mediaItem,i=e.serverShortVersion,a=wt()(e,["type","stream","mediaItem","serverShortVersion"]);if(!n&&!r)return hv()("span",{"data-qa-id":t+"Stream"},void 0,Object(Xn.default)("None"));if(i&&yc(i,Cc.streamDisplayTitles)){var o;if("video"===t){var s=Object(KR.a)(r);o=s?s.displayTitle:Object(Xn.default)("None")}else o=n.displayTitle||n.language;return hv()("span",{"aria-label":o,"data-qa-id":t+"Stream"},void 0,o)}var l=t_[t];return e_(l,dv()({},a,{stream:n,mediaItem:r}))};var r_=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{serverShortVersion:e.shortVersion}})})(n_),i_=Xf.a.createElement;var a_=function(e){return i_(r_,dv()({},e,{separatorComponent:cE}))},o_=n(72),s_=n.n(o_),l_=Xf.a.Fragment,c_=function(e){var t=e.children;return hv()("span",{className:s_.a.rightArrow},void 0,t)};function u_(e){var t=EL(e);if(!t){var n=Av.a.get("audio").id;t=Object(zs.a)(e,{streamType:n})[0]}return t}var d_=hv()(cE,{}),p_=hv()(cE,{}),h_=hv()(cE,{}),f_=hv()(cE,{}),g_=hv()(cE,{});var v_=function(e){var t=e.className,n=e.serverEntityID,r=e.serverVersion,i=e.isCloudServer,a=e.Player,o=e.Session,s=e.TranscodeSession,l=e.metadataItem,c=e.viewOffset,u=l.Media,d=l.duration,p=u.find(function(e){return e.selected})||u[0],h=xL(p),f=!!p.videoCodec,g=!!p.audioCodec,v=!!h,m=i||yc(r,Cc.enhancedSessionDetails);return hv()("div",{className:t},void 0,hv()("div",{className:s_.a.playerContainer},void 0,hv()("div",{className:s_.a.playerIcon},void 0,hv()("img",{className:s_.a.productLogo,src:UR(a.product,a.platform),width:44,height:44}),m?hv()(YR,{className:s_.a.statusIcon,isConnected:!0,isSecure:a.secure,isRelayed:a.relayed}):null),hv()("div",{className:s_.a.playerInformation},void 0,hv()("div",{className:s_.a.title,title:a.product+" "+sE+" "+a.title},void 0,a.product," ",d_," ",a.title),hv()("div",{className:s_.a.subtitle},void 0,jL(a.state),d?hv()(l_,{},void 0,p_,TL(c)+" / "+TL(d)):null),m?hv()("div",{className:s_.a.subtitle},void 0,function(e){return e.relayed?Object(Xn.default)("Indirect"):e.local?"Local":Object(Xn.default)("Remote")}(a),a.relayed?null:" ("+a.address+")",o?hv()(l_,{},void 0,h_,hv()("span",{title:Object(Xn.default)("The amount of outgoing bandwidth reserved for this playback session")},void 0,hE(1024*o.bandwidth,0))):null):null)),f?hv()("div",{className:s_.a.videoStreamInformation},void 0,hv()("div",{className:s_.a.streamType},void 0,Object(Xn.default)("Video")),hv()("div",{className:s_.a.streams},void 0,hv()("div",{className:s_.a.title},void 0,hv()(a_,{serverEntityID:n,type:"video",mediaItem:p}),s&&s.transcodeHwDecoding?" (hw)":null),hv()("div",{className:s_.a.title},void 0,!o||s&&null!=s.videoDecision?null:hv()(c_,{},void 0,Object(Xn.default)("Direct Play")),s&&"copy"===s.videoDecision?hv()(c_,{},void 0,Object(Xn.default)("Direct Stream")):null,s&&"transcode"===s.videoDecision?hv()(c_,{},void 0,(Object(OL.default)(p.videoResolution,s.scanType)||Object(Xn.default)("Unknown"))+" ","(",NL(s.videoCodec),")",f_,Object(Xn.default)("Transcode"),s.transcodeHwEncoding?" (hw)":null):null))):null,g?hv()("div",{className:s_.a.audioStreamInformation},void 0,hv()("div",{className:s_.a.streamType},void 0,Object(Xn.default)("Audio")),hv()("div",{className:s_.a.streams},void 0,hv()("div",{className:s_.a.title},void 0,hv()(a_,{serverEntityID:n,type:"audio",stream:u_(p)})),hv()("div",{className:s_.a.title},void 0,!o||s&&null!=s.audioDecision?null:hv()(c_,{},void 0,Object(Xn.default)("Direct Play")),s&&"copy"===s.audioDecision?hv()(c_,{},void 0,Object(Xn.default)("Direct Stream")):null,s&&"transcode"===s.audioDecision?hv()(c_,{},void 0,NL(s.audioCodec),g_,Object(Xn.default)("Transcode")):null))):null,v?hv()("div",{className:s_.a.subtitlesStreamInformation},void 0,hv()("div",{className:s_.a.streamType},void 0,Object(Xn.default)("Subtitles")),hv()("div",{className:s_.a.title},void 0,hv()(a_,{serverEntityID:n,type:"subtitles",stream:xL(p)}))):null)},m_=n(465),y_=n.n(m_),b_=Xf.a.createElement;function S_(e){var t=e.className,n=e.children,r=e.kind,i=e.size,a=wt()(e,["className","children","kind","size"]);return b_(RS,dv()({className:(t||"")+" "+(y_.a.button||"")+" "+(y_.a[r]||"")+" "+(y_.a[i]||"")},a),n)}S_.defaultProps={kind:Vp,size:qp.MEDIUM};var I_=S_,C_=Dp.a.shape({subscribe:Dp.a.func.isRequired,dispatch:Dp.a.func.isRequired,getState:Dp.a.func.isRequired}),M_=Xf.a.createElement,D_=Xf.a.Component,w_={CHANGE:"CHANGE",REPLACE_STATE:"REPLACE_STATE",RESET:"RESET",SHOW_ERRORS:"SHOW_ERRORS"},P_={change:Mt(w_.CHANGE),replaceState:Mt(w_.REPLACE_STATE),reset:Mt(w_.RESET),showErrors:Mt(w_.SHOW_ERRORS)};function T_(e,t){void 0===e&&(e={});var n=t.type,r=t.payload;switch(n){case w_.CHANGE:var i,a=r.name,o=r.change;if(null==o){var s=Object.assign({},e);return delete s[a],s}return Object.assign({},e,((i={})[a]=o,i));case w_.REPLACE_STATE:return r;case w_.RESET:return{};case w_.SHOW_ERRORS:return C.a.mapObject(e,function(e){return Object.assign({},e,{showErrors:0!==e.errors.length})});default:return e}}var E_=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onFormStoreChange=function(){var e=r.store.getState();e!==r.prevState&&(r.prevState=e,r.props.onChange(e))},r.onSubmit=function(e){e.preventDefault(),e.nativeEvent.preventDefault();var t=r.store.getState();if(C.a.some(t,function(e,t){return 0!==e.errors.length}))r.actions.showErrors();else{var n=C.a.mapObject(t,function(e,t){return e.value});r.props.onSubmit(n,t)}},r.store=Object(um.createStore)(T_),r.prevState=r.store.getState(),r.actions=Object(um.bindActionCreators)(P_,r.store.dispatch),r}Sy()(t,e);var n=t.prototype;return n.getChildContext=function(){return{formStore:this.store}},n.componentWillMount=function(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)},n.componentWillReceiveProps=function(e){e.formState&&this.store.getState()!==e.formState&&this.actions.replaceState(e.formState)},n.componentWillUnmount=function(){this.unsubscribe&&(this.unsubscribe(),this.store.replaceReducer(function(e){return e}))},n.render=function(){var e=this.props,t=e.children,n=(e.formState,e.onChange,wt()(e,["children","formState","onChange"]));return M_("form",dv()({},n,{onSubmit:this.onSubmit}),t)},t}(D_);E_.childContextTypes={formStore:C_},E_.defaultProps={onSubmit:function(){},onChange:function(){}};var x_=E_,O_=n(589),j_=n.n(O_),A_=Xf.a.createElement;function N_(e){var t=e.children,n=e.className,r=e.errorClassName,i=e.name,a=e.hasError,o=wt()(e,["children","className","errorClassName","name","hasError"]);return A_("label",dv()({},o,{className:(n||"")+" "+(a&&r||""),htmlFor:i}),t)}N_.defaultProps={className:j_.a.label,errorClassName:j_.a.hasError};var k_=N_,L_=n(370),R_=n.n(L_),__=Xf.a.createElement,U_=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){t.props.onChange(e.target.value)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.errorClassName,r=e.disabledClassName,i=(e.initialValue,e.isDisabled),a=e.size,o=e.name,s=e.hasError,l=wt()(e,["className","errorClassName","disabledClassName","initialValue","isDisabled","size","name","hasError"]);return __("textarea",dv()({},l,{id:o,name:o,disabled:i,className:(t||"")+" "+(R_.a[a]||"")+" "+(i&&r||"")+" "+(s&&n||""),onChange:this.onChange}))},t}(Xf.a.Component);U_.defaultProps={className:R_.a.textArea,errorClassName:R_.a.hasError,disabledClassName:R_.a.isDisabled,isDisabled:!1,size:qp.LARGE,hasError:!1,rows:2};var z_=U_,F_=n(121),B_=n.n(F_),H_=Xf.a.createElement;function V_(e){var t=e.className,n=e.children,r=wt()(e,["className","children"]);return H_("div",dv()({className:t},r),n)}V_.defaultProps={className:B_.a.modalFooter};var Q_=V_,W_=n(842),G_=n.n(W_),Y_=Xf.a.createElement;function K_(e){var t=e.children,n=wt()(e,["children"]);return Y_("div",n,t)}K_.defaultProps={className:G_.a.buttonBar};var q_=K_,Z_=n(166),X_=n.n(Z_),J_=Xf.a.Component,$_=Xf.a.Fragment,eU=hv()(cE,{}),tU=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).stopSession=function(){var e=r.props,t=e.sessionEntityID,n=e.onStopServerSession,i=e.onModalClose;n({message:r.state.message,sessionEntityID:t}),i()},r.onMessageChange=function(e){r.setState({message:e})},r.onFormSubmit=function(e){e.preventDefault(),e.stopPropagation(),r.stopSession()},r.onStopPress=function(){r.stopSession()},r.state={message:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.isOpen,r=e.username,i=e.thumb,a=e.type,o=e.grandparentTitle,s=e.parentTitle,l=e.title,c=e.parentIndex,u=e.index,d=e.originallyAvailableAt,p=e.onModalClose,h=a===nr.e?ol({seasonIndex:c,episodeIndex:u,date:d,noLeadingZero:!0,separator:"  "}):null;return hv()(VN,{isOpen:n,size:qp.SMALL,metricsPage:"stopServerSession",onModalClose:p},void 0,hv()(qN,{onModalClose:p},void 0,hv()(PN,{},void 0,Object(Xn.default)("Stop {title}",{title:o||s||l}),h?hv()($_,{},void 0,eU,h):null),hv()(CN,{className:X_.a.modalBody},void 0,hv()("div",{className:X_.a.topContainer},void 0,hv()($k,{className:X_.a.avatarImg,serverEntityID:t,url:i,width:76,height:76}),hv()("div",{className:X_.a.description},void 0,hv()("p",{},void 0,Object(Xn.default)("Do you wish to stop this item's playback?")),hv()("p",{},void 0,Object(Xn.default)("You may supply a message that will be displayed to {username}.",{username:r}))))),hv()(Q_,{className:X_.a.modalFooter},void 0,hv()(k_,{className:X_.a.formLabel,name:"message"},void 0,Object(Xn.default)("Message")),hv()(x_,{className:X_.a.form,onSubmit:this.onFormSubmit},void 0,hv()(z_,{className:X_.a.textArea,"data-autofocus":!0,name:"message",rows:4,onChange:this.onMessageChange})),hv()(q_,{className:X_.a.buttonBar},void 0,hv()(I_,{onPress:p},void 0,Object(Xn.default)("Cancel")),hv()(I_,{kind:Qp,onPress:this.onStopPress},void 0,Object(Xn.default)("Stop"))))))},t}(J_);var nU=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.metadataItem},nk(),function(e,t){return{username:t.User.title,thumb:t.User.thumb,type:e.type,grandparentTitle:e.grandparentTitle,parentTitle:e.parentTitle,title:e.title,parentIndex:e.parentIndex,index:e.index,originallyAvailableAt:e.originallyAvailableAt}})},{onStopServerSession:vS})(tU),rU=n(76),iU=n.n(rU),aU=Xf.a.Component,oU=1e3;var sU=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).startUpdateViewOffset=function(){r.stopUpdateViewOffset(),r.props.Player&&r.props.Player.state===Sk.states.PLAYING&&(r._updateViewPointIntervalID=setInterval(r.updateViewOffset,oU))},r.stopUpdateViewOffset=function(){clearInterval(r._updateViewPointIntervalID)},r.updateViewOffset=function(){r.setState({count:r.state.count+1})},r.onMouseEnter=function(){r.setState({isHovered:!0})},r.onMouseLeave=function(){r.setState({isHovered:!1})},r.onStopPress=function(e){e.preventDefault(),e.stopPropagation(),r.setState({isStopSessionModalOpen:!0})},r.onModalClose=function(e){r.setState({isStopSessionModalOpen:!1})};var i=t.metadataItem;return r.state={count:0,viewOffsetFromProps:i.viewOffset,isHovered:!1,isStopSessionModalOpen:!1},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return t.viewOffsetFromProps!==e.metadataItem.viewOffset?{count:0,viewOffsetFromProps:e.metadataItem.viewOffset||0}:null};var n=t.prototype;return n.componentDidMount=function(){this.startUpdateViewOffset()},n.componentDidUpdate=function(e,t){var n=t.viewOffsetFromProps!==this.props.metadataItem.viewOffset,r=e.Player.state!==this.props.Player.state;(n||r)&&this.startUpdateViewOffset()},n.componentWillUnmount=function(){this.stopUpdateViewOffset()},n.render=function(){var e,t,n=this.props,r=n.sessionEntityID,i=n.User,a=n.Session,o=n.TranscodeSession,s=n.Player,l=n.server,c=n.provider,u=n.metadataItem,d=n.showDetails,p=n.canStopSessions,h=this.state,f=h.count,g=h.viewOffsetFromProps,v=h.isHovered,m=h.isStopSessionModalOpen,y=u.Media,b=u.type,S=u.subtype,I=u.duration,C=u.attribution,M=u.isLibraryItem,D=g+f*oU,w=M&&b!==nr.h,P=o&&!!o.progress,T=y?mk(y[0],D,"hd"):null,E=v&&T,x=function(e,t,n){var r=n.key,i=n.parentKey,a=n.grandparentKey,o=n.type,s=n.skipDetails,l=n.skipParent,c=n.isLibraryItem,u=n.isExtra;if(c&&!u&&!s&&o!==nr.h){var d=r;return o===nr.m&&(d=l?a:i),Og(e,t||{isLibraryProvider:!0},d)}}(l,c,u),O=x?RS:"div",j=!(!p||!a||(e=s,t=e.product,Tk.hasOwnProperty(t)||(Tk[t]=Pk.some(function(e){return e.test(t)})),Tk[t])),A=function(e){var t=e.Media,n=e.type,r=e.grandparentTitle,i=e.parentTitle,a=e.title;return"livetv"===(t.find(function(e){return e.selected})||t[0]).origin?Object(Xn.default)("Live TV"):n===nr.m||n===nr.h?a:r||i||a}(u),N=function(e){var t=e.type,n=e.index,r=e.parentIndex,i=e.originallyAvailableAt,a=e.grandparentTitle,o=e.parentTitle,s=e.title,l=e.year;if(t===nr.m||t===nr.h)return o;var c=o||a?s:l;return t===nr.e?ol({seasonIndex:r,episodeIndex:n,date:i,noLeadingZero:!0,separator:"  "})+" "+c:c}(u),k=function(e){var t=e.type,n=e.grandparentTitle,r=e.parentTitle,i=e.year,a=e.duration;return t===nr.g||t===nr.e?ty(a):t===nr.a||t===nr.m?n||r:t===nr.h?i:void 0}(u),L=function(e){return e.type===nr.m?e.parentThumb:e.type===nr.h?e.thumb:e.grandparentThumb||e.parentThumb||e.thumb}(u),R=w?100:104,_=ML(R,b,S,Rp),U=l.entityID;return hv()("div",{className:iU.a.listItem,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,hv()(O,{className:iU.a.mediaInformationContainer,to:x},void 0,hv()("div",{className:iU.a.posterContainer,style:{width:_}},void 0,hv()(yL,{serverEntityID:U,type:b,subtype:S,url:L,width:_,height:R}),C?hv()(wk,{className:iU.a.attribution,attribution:C}):null),hv()("div",{className:(iU.a.infoContainer||"")+" "+((w?iU.a.visibleProgressBar:void 0)||"")},void 0,E?hv()("div",{className:iU.a.previewThumbnailContainer},void 0,hv()(Kk,{serverEntityID:U,url:T,width:214,height:R,component:pk})):hv()("div",{className:iU.a.metadataText},void 0,hv()("div",{className:iU.a.title,title:A},void 0,A),hv()("div",{className:iU.a.subtitle,title:N},void 0,N),hv()("div",{className:iU.a.subtitle,title:k},void 0,k))),w?hv()("div",{className:iU.a.progressTrack},void 0,hv()("div",{className:iU.a.playProgressPercent,style:{width:hk(D,I)+"%"}}),P?hv()("div",{className:iU.a.transcodeProgressPercent,style:{width:o.progress+"%"}}):null):null),hv()(v_,{className:(iU.a.detailsContainer||"")+" "+((d?iU.a.detailsContainerExpanded:void 0)||""),serverEntityID:U,serverVersion:l.version,isCloudServer:l.isCloud,Player:s,Session:a,TranscodeSession:o,metadataItem:u,viewOffset:D}),hv()("div",{className:iU.a.userContainer},void 0,hv()($k,{className:iU.a.avatarImg,serverEntityID:U,url:i.thumb,width:40,height:40}),hv()("div",{className:iU.a.username},void 0,i.title),j?hv()(RS,{className:iU.a.stopControls,onPress:this.onStopPress},void 0,hv()(PL,{className:iU.a.stopIcon,"aria-label":Object(Xn.default)("Stop playback")}),Object(Xn.default)("Stop playback")):null),hv()(nU,{sessionEntityID:r,serverEntityID:U,metadataItem:u,isOpen:m,onModalClose:this.onModalClose}))},t}(aU);var lU=Lm(function(){return Object(Iy.createSelector)(My,ek,$N,nk(),function(e,t,n,r){var i=n[r.metadataItem];return Object.assign({},r,{metadataItem:i,server:e[i.serverEntityID],provider:t[i.providerEntityID]})})})(sU),cU=n(305),uU=n.n(cU),dU=Xf.a.Component,pU=280,hU=40;var fU=hv()(mN,{}),gU=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).sessionsPoll=function(){var e=r.props,t=e.serverEntityID;(0,e.onSessionsPoll)(t)},r.onMeasure=function(e){var t=e.width;r.setState({width:t,isMeasured:!0})},r.onTogglePress=function(){var e=r.props,t=e.showDetails;(0,e.onToggleNowPlayingDetails)(!t)},r.state={width:null,isMeasured:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.sessionEntityIDs.length>0&&this.startSessionsPoll()},n.componentDidUpdate=function(e,t){var n=this.props.sessionEntityIDs,r=e.sessionEntityIDs;0===r.length&&n.length>0?this.startSessionsPoll():r.length>0&&0===n.length&&this.stopSessionsPoll()},n.componentWillUnmount=function(){this.stopSessionsPoll()},n.startSessionsPoll=function(){this.stopSessionsPoll(),this._SessionsPollID=setInterval(this.sessionsPoll,5e3)},n.stopSessionsPoll=function(){clearInterval(this._SessionsPollID)},n.render=function(){var e=this.props,t=e.sessionEntityIDs,n=e.shouldShowList,r=e.showDetails,i=e.canStopSessions,a=e.stopSessionErrorMessage,o=e.onErrorDismiss,s=this.state,l=s.width,c=s.isMeasured;return hv()(XA,{ignoreHeight:!0,onMeasure:this.onMeasure},void 0,a?hv()(JN,{isOpen:!0,errorMessage:a,onModalClose:o}):null,hv()(eI,{title:Object(Xn.default)("Now Playing")},void 0,t.length?hv()(gN,{className:uU.a.toggle,component:RS,tooltip:r?Object(Xn.default)("Hide Details"):Object(Xn.default)("Show Details"),"data-qa-id":"toolbarToggleNowPlayingDetails",isSelected:r,hideOnPress:!1,onPress:this.onTogglePress},void 0,fU):null),hv()("div",{className:uU.a.tilesContainer},void 0,n&&t.length&&c?hv()("div",{className:uU.a.nowPlayingList},void 0,function(e,t){var n=Math.max(Math.floor((t+hU)/(pU+hU)),1),r=Array.from(new Array(n),function(){return[]});return e.reduce(function(e,t,r){return e[r%n].push(t),e},r)}(t,l).map(function(e,t){return hv()("div",{className:uU.a.column,style:{width:pU+"px"}},t,e.map(function(e){return hv()(lU,{sessionEntityID:e,showDetails:r,canStopSessions:i},e)}))})):null,n&&!t.length?hv()(iI,{className:uU.a.emptyMessage},void 0,Object(Xn.default)("Nothing is currently being played")):null))},t}(dU);function vU(e){var t=e.myPlexSubscription||yc(e.version,Cc.publicNowPlaying);return!e.shared&&e.isFullServer&&t}var mU=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},Py,Dy(),GA(),function(e,t,n,r){return{sessionEntityIDs:r,shouldShowList:vU(n),showDetails:t.dashboardNowPlayingShowDetails,canStopSessions:-1!==n.ownerFeatures.indexOf("session_kick"),stopSessionErrorMessage:e.stopSessionErrorMessage}})},function(e){return{onSessionsPoll:function(t){e(OA({serverEntityID:t}))},onToggleNowPlayingDetails:function(t){Object(No.a)(function(){e(Wo({dashboardNowPlayingShowDetails:t}))})},onErrorDismiss:function(){e(mS())}}})(gU),yU=n(590),bU=n.n(yU),SU=Xf.a.Component,IU=1;function CU(e){return e.name||e.title||Object(Xn.default)("Unknown User")}var MU=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMenuButtonPress=function(){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.onSelect=function(e){r.setState({isMenuOpen:!1},function(){r.props.onSelect(e)})},r.state={isMenuOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.users,i=t.selectedUser,a=this.state.isMenuOpen;return hv()(WT,{className:n,title:i?CU(i):Object(Xn.default)("All Users"),isMenuOpen:a,onPress:this.onMenuButtonPress,onMenuClose:this.onMenuClose},void 0,hv()(MI,{value:null,isSelected:!i,onSelect:this.onSelect},void 0,Object(Xn.default)("All Users")),function(e){return[].concat(e).sort(function(e,t){if(e.id===IU)return-1;if(t.id===IU)return 1;var n=CU(e).toUpperCase(),r=CU(t).toUpperCase();return n<r?-1:n>r?1:0})}(r).map(function(t){return hv()(MI,{menuLabelClassName:bU.a.menuLabel,value:t.id,isSelected:i&&i.id===t.id,onSelect:e.onSelect},t.id,CU(t))}))},t}(SU);MU.defaultProps={className:bU.a.menuButton};var DU=MU,wU=n(843),PU=n.n(wU),TU=Xf.a.createElement;var EU=function(e){return TU(DU,dv()({},e,{className:PU.a.menuButton}))};function xU(e,t){if(e)return F.join("#!/server/"+encodeURIComponent(e)+"/playHistory",t)}var OU="all",jU="movies",AU="tv",NU="music",kU="photos",LU=Object(vl.a)(["id","key"],[{key:OU,title:function(){return Object(Xn.default)("All Media")}},{id:1,key:jU,title:function(){return Object(Xn.default)("Movies")}},{id:4,key:AU,title:function(){return Object(Xn.default)("TV")}},{id:10,key:NU,title:function(){return Object(Xn.default)("Music")}},{id:13,key:kU,title:function(){return Object(Xn.default)("Photos")}}]),RU=LU.get,_U=LU.getAll,UU=Xf.a.Component,zU=Xf.a.Fragment;function FU(e){return dE(e)||Fb(iE(new Date))<=e}function BU(e,t,n,r){if(void 0===r&&(r=!1),t.timespan===iS.DAY&&dE(e)){var i=Object(Xn.default)("Today");return r?i.toUpperCase():i}return Object(tl.a)(Object(rE.a)(e),n)}function HU(e){var t,n,r=e/60,i=r/60,a=i/24,o=a/365;return r<1?(t=Number.parseFloat(e).toFixed(),n="s"):i<1?(t=Number.parseFloat(r).toFixed(),n="m"):a<1?(t=Number.parseFloat(i).toFixed(1),n="h"):o<1?(t=Number.parseFloat(a).toFixed(1),n="d"):(t=Number.parseFloat(o).toFixed(1),n="y"),""+t+n}var VU=hv()(cE,{}),QU=hv()(cE,{}),WU=hv()(cE,{}),GU=hv()(cE,{});function YU(e,t,n,r,i){if(!e)return null;var a=t&&n&&r&&i;return hv()(zU,{},void 0,a?Object(Xn.default)("Totals"):Object(Xn.default)("Total"),": ",a?hv()(zU,{},void 0,RU(jU).title,VU):null,t?HU(e[jU]):null,a?hv()(zU,{},void 0," | ",RU(AU).title,QU):null,n?HU(e[AU]):null,a?hv()(zU,{},void 0," | ",RU(NU).title,WU):null,r?HU(e[NU]):null,a?hv()(zU,{},void 0," | ",RU(kU).title,GU):null,i?HU(e[kU]):null)}var KU=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).tooltipLabelFormatter=function(e){var t=r.state.timePeriodType;if(t.timespan===iS.WEEK){var n=BU(e,t,t.longDateFormat),i=Fb(Yb(Object(rE.a)(e),1));return dE(e)&&FU(i)?Object(Xn.default)("Today"):n+" - "+BU(i,t,t.longDateFormat)}return BU(e,t,t.longDateFormat)},r.tooltipValueFormatter=function(e){return HU(e)},r.xAxisTickFormatter=function(e){var t=r.state.timePeriodType;if(t.key===eS){var n=BU(e,t,t.dateFormat),i=Fb(Yb(Object(rE.a)(e),1));return dE(e)&&FU(i)?Object(Xn.default)("Today").toUpperCase():n+" - "+BU(i,t,t.dateFormat)}return BU(e,t,t.dateFormat,!0)},r.yAxisTickFormatter=function(e){return 0===e?"":HU(e)},r.onChartReady=function(){r.setState({isChartReady:!0})},r.state={statistics:null,mediaStatisticMetadataType:null,user:null,timePeriodType:null,data:null,summedData:null,isChartReady:!1},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.statistics,r=e.mediaStatisticMetadataType,i=e.user,a=e.timePeriodType;if(t.statistics!==n||t.mediaStatisticMetadataType!==r||t.user!==i||t.timePeriodType!==a){var o=function(e,t,n,r){var i;if(!e)return[];var a=t.key,o=((i={})[jU]=0,i[AU]=0,i[NU]=0,i[kU]=0,i);return{data:e.reduce(function(e,t){var r=t.accountID,i=t.at,s=t.metadataType,l=t.duration,c=RU(s);if(!c)return e;var u,d=e.findIndex(function(e){return e.date===i}),p=-1!==d;if(u=p?e[d]:{date:i},n&&n.id!==r)return p||e.push(u),e;var h=c.key;return a!==OU&&a!==h||(u[h]=(u[h]||0)+l,o[h]=o[h]+l),p?e[d]=u:e.push(u),e},[]),summedData:o}}(n,r,i);return{statistics:n,mediaStatisticMetadataType:r,user:i,timePeriodType:a,data:o.data,summedData:o.summedData}}return null},t.prototype.render=function(){var e=this.props,t=e.showSpinner,n=e.showGraph,r=e.errorMessage,i=e.onGraphMetadataTypeSelect,a=this.state,o=a.mediaStatisticMetadataType,s=a.data,l=a.summedData,c=a.isChartReady,u=OU,d=jU,p=AU,h=NU,f=kU,g=o.key,v=g===u||g===d,m=g===u||g===p,y=g===u||g===h,b=g===u||g===f,S=[{dataKey:d,title:RU(d).title,visible:v,selected:g===d,color:"#9ad186"},{dataKey:p,title:RU(p).title,visible:m,selected:g===p,color:"#f1335e"},{dataKey:h,title:RU(h).title,visible:y,selected:g===h,color:"#366dfc"},{dataKey:f,title:RU(f).title,visible:b,selected:g===f,color:"#e69f23"}],I=t||!c,C=n&&!r;return hv()(ix,{showSpinner:I,errorMessage:r},void 0,C?hv()(BE,{width:"100%",height:280,series:S,data:s,legendSummary:YU(l,v,m,y,b),tooltipLabelFormatter:this.tooltipLabelFormatter,tooltipValueFormatter:this.tooltipValueFormatter,xAxisTickFormatter:this.xAxisTickFormatter,yAxisTickFormatter:this.yAxisTickFormatter,onLegendPress:i,onChartReady:this.onChartReady}):null)},t}(UU),qU=n(591),ZU=n.n(qU),XU=Xf.a.Component,JU=hv()(cE,{}),$U=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMetadataTypeSelect=function(e){r.setState({selectedMetadataType:RU(e)})},r.onUserSelect=function(e){var t=r.props.accounts.find(function(t){return t.id===e});r.setState({selectedUser:t})},r.onTimePeriodTypeSelect=function(e){var t=oS(e),n=r.state.selectedTimePeriodType.key!==e;r.setState({selectedTimePeriodType:t},function(){n&&r.fetchPlayHistory()})},r.onGraphMetadataTypeSelect=function(e){var t=e===r.state.selectedMetadataType.key?OU:e;r.setState({selectedMetadataType:RU(t)})},r.state={selectedMetadataType:RU(OU),selectedUser:null,selectedTimePeriodType:oS(eS)},r._availableTimePeriodTypes=[$b,eS,tS,nS,rS].map(oS),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.fetchPlayHistory()},n.fetchPlayHistory=function(){var e=this.state.selectedTimePeriodType;this.props.onFetchPlayHistory({timespan:e.timespan,after:e.after()})},n.render=function(){var e=this.props,t=e.machineIdentifier,n=e.accounts,r=e.statistics,i=e.showSpinner,a=e.showGraph,o=e.errorMessage,s=this.state,l=s.selectedMetadataType,c=s.selectedUser,u=s.selectedTimePeriodType;return hv()("div",{className:ZU.a.container},void 0,hv()(eI,{title:Object(Xn.default)("Play History")},void 0,hv()("div",{className:ZU.a.link},void 0,JU,hv()(RS,{to:xU(t)},void 0,Object(Xn.default)("View Full History"))),hv()("div",{},void 0,hv()(ZT,{items:_U(),selectedItem:l,onSelect:this.onMetadataTypeSelect}),hv()(EU,{users:n,selectedUser:c,onSelect:this.onUserSelect}),hv()(ZT,{items:this._availableTimePeriodTypes,selectedItem:u,onSelect:this.onTimePeriodTypeSelect}))),hv()(KU,{statistics:r,mediaStatisticMetadataType:l,user:c,timePeriodType:u,showSpinner:i,showGraph:a,errorMessage:o,onGraphMetadataTypeSelect:this.onGraphMetadataTypeSelect}))},t}(XU);var ez=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},XS,function(e,t){var n=e.playHistoryStatistics,r=e.playHistoryAccounts,i=e.isPlayHistoryPending,a=e.isPlayHistoryPopulated,o=e.playHistoryError;return{machineIdentifier:t.machineIdentifier,accounts:r,statistics:n,showSpinner:i,showGraph:a,errorMessage:o}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{onFetchPlayHistory:function(t){e(fS(Object.assign({},n,t)))}}})($U),tz="all",nz="system",rz="plex-media-server",iz=Object(vl.a)(["key"],[{key:tz,title:function(){return Object(Xn.default)("All")}},{key:rz,title:function(){return Object(Xn.default)("Plex Media Server")}},{key:nz,title:function(){return Object(Xn.default)("System")}}]),az=iz.get,oz=iz.getAll,sz=Xf.a.Component,lz=Xf.a.Fragment,cz=120,uz=5,dz=cz/uz+1,pz=hv()(cE,{}),hz=hv()(cE,{});function fz(e,t,n){if(!e)return null;var r=t&&n;return hv()(lz,{},void 0,r?Object(Xn.default)("Averages"):Object(Xn.default)("Average"),": ",r?hv()(lz,{},void 0,az(rz).title,pz):null,t?(e[rz]/dz).toFixed(2)+"%":null,r?hv()(lz,{},void 0," | ",az(nz).title,hz):null,n?(e[nz]/dz).toFixed(2)+"%":null)}var gz=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).tooltipLabelFormatter=function(e){return 0===e?Object(Xn.default)("Now"):Object(Xn.default)("{timeAgo} ago",{timeAgo:ax(e)})},r.tooltipValueFormatter=function(e){return e.toFixed(2)+"%"},r.xAxisTickFormatter=function(e){return ax(e)},r.yAxisTickFormatter=function(e){return 0===e?"":Math.round(e)+"%"},r.onChartReady=function(){r.setState({isChartReady:!0})},r.state={statistics:null,sourceType:null,data:null,summedData:null,isChartReady:!1,isFirstStatisticsLoad:!0},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.statistics,r=e.sourceType,i=e.hostKey,a=e.processKey,o=e.showGraph;if(e.shouldUpdateGraph&&(t.statistics!==n||t.sourceType!==r)){var s=function(e,t,n,r){var i;if(!e)return[];var a=tz,o=nz,s=rz,l=r.key,c=l===a||l===o,u=l===a||l===s,d=((i={})[o]=0,i[s]=0,i);return{data:e.slice(-dz).map(function(e,r){var i;return d[s]=d[s]+(e[n]||0),d[o]=d[o]+(e[t]||0),(i={at:e.at,date:cz-uz*r})[s]=u?e[n]:null,i[o]=c?e[t]:null,i}),summedData:d}}(n,i,a,r);return{statistics:n,sourceType:r,data:s.data,summedData:s.summedData,isFirstStatisticsLoad:t.isFirstStatisticsLoad&&!o}}return null},t.prototype.render=function(){var e=this.props,t=e.hostColor,n=e.processColor,r=e.showSpinner,i=e.errorMessage,a=e.onGraphSourceTypeSelect,o=e.onGraphTooltipActive,s=e.onGraphTooltipInactive,l=this.state,c=l.sourceType,u=l.data,d=l.summedData,p=l.isChartReady,h=l.isFirstStatisticsLoad,f=tz,g=nz,v=rz,m=c.key,y=m===f||m===v,b=m===f||m===g,S=[{dataKey:v,title:az(v).title,visible:y,selected:m===v,color:t},{dataKey:g,title:az(g).title,visible:b,selected:m===g,color:n}],I=!i&&(r&&h||!p),C=!i&&!h;return hv()(ix,{showSpinner:I,errorMessage:i},void 0,C?hv()(qE,{width:"100%",height:280,series:S,data:u,legendSummary:fz(d,y,b),isAnimationActive:!1,showTooltipTotal:!1,yAxisDomain:[0,100],xAxisTickInterval:1,tooltipLabelFormatter:this.tooltipLabelFormatter,tooltipValueFormatter:this.tooltipValueFormatter,xAxisTickFormatter:this.xAxisTickFormatter,yAxisTickFormatter:this.yAxisTickFormatter,onLegendPress:a,onChartReady:this.onChartReady,onTooltipActive:o,onTooltipInactive:s}):null)},t}(sz),vz=n(371),mz=n.n(vz),yz=Xf.a.Component,bz=Xf.a.Fragment,Sz=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCPUSourceTypeSelect=function(e){r.setState({selectedCPUSourceType:az(e)})},r.onRAMSourceTypeSelect=function(e){r.setState({selectedRAMSourceType:az(e)})},r.onGraphCPUSourceTypeSelect=function(e){var t=e===r.state.selectedCPUSourceType.key?tz:e;r.setState({selectedCPUSourceType:az(t)})},r.onGraphRAMSourceTypeSelect=function(e){var t=e===r.state.selectedRAMSourceType.key?tz:e;r.setState({selectedRAMSourceType:az(t)})},r.onCPUGraphTooltipActive=function(){r.setState({shouldUpdateCPUGraph:!1})},r.onCPUGraphTooltipInactive=function(){r.setState({shouldUpdateCPUGraph:!0})},r.onRAMGraphTooltipActive=function(){r.setState({shouldUpdateRAMGraph:!1})},r.onRAMGraphTooltipInactive=function(){r.setState({shouldUpdateRAMGraph:!0})},r.state={selectedCPUSourceType:az(tz),selectedRAMSourceType:az(tz),shouldUpdateCPUGraph:!0,shouldUpdateRAMGraph:!0},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.canShowCPUGraph,n=e.canShowRAMGraph,r=e.onFetchResourcesStatistics;(t||n)&&r()},n.componentDidUpdate=function(e){var t=this.props,n=t.resourcesStatisticsRequestTimestampMilliseconds,r=t.isResourcesStatisticsPopulated,i=t.onFetchResourcesStatistics;if(!e.isResourcesStatisticsPopulated&&r){var a=Date.now()-n,o=Math.max(5e3-a,0);this._fetchResourcesStatisticsTimeoutID=setTimeout(i,o)}},n.componentWillUnmount=function(){this.clearResourcesStatisticsTimeout()},n.clearResourcesStatisticsTimeout=function(){clearTimeout(this._fetchResourcesStatisticsTimeoutID)},n.render=function(){var e=this.props,t=e.machineIdentifier,n=e.resourcesStatistics,r=e.cpuGraphMinServerVersion,i=e.ramGraphMinServerVersion,a=e.canShowCPUGraph,o=e.canShowRAMGraph,s=e.showSpinner,l=e.isResourcesStatisticsPopulated,c=e.isResourcesStatisticsSupported,u=e.errorMessage,d=this.state,p=d.selectedCPUSourceType,h=d.selectedRAMSourceType,f=d.shouldUpdateCPUGraph,g=d.shouldUpdateRAMGraph;return c?hv()(bz,{},void 0,hv()(CS,{},void 0,hv()("div",{className:mz.a.container},void 0,hv()(eI,{title:Object(Xn.default)("CPU")},void 0,a?hv()("div",{},void 0,hv()(ZT,{items:oz(),selectedItem:p,onSelect:this.onCPUSourceTypeSelect})):null),hv()("div",{className:mz.a.graph},void 0,a?hv()(gz,{statistics:n,sourceType:p,hostKey:"hostCpuUtilization",processKey:"processCpuUtilization",hostColor:"#9ad186",processColor:"#f1335e",showSpinner:s,showGraph:l,shouldUpdateGraph:f,errorMessage:u,onGraphSourceTypeSelect:this.onGraphCPUSourceTypeSelect,onGraphTooltipActive:this.onCPUGraphTooltipActive,onGraphTooltipInactive:this.onCPUGraphTooltipInactive}):hv()(lI,{machineIdentifier:t},void 0,Object(Xn.default)("The CPU chart requires Plex Media Server {version} or higher",{version:r}))))),hv()(CS,{},void 0,hv()("div",{className:mz.a.container},void 0,hv()(eI,{title:Object(Xn.default)("RAM")},void 0,o?hv()("div",{},void 0,hv()(ZT,{items:oz(),selectedItem:h,onSelect:this.onRAMSourceTypeSelect})):null),hv()("div",{className:mz.a.graph},void 0,o?hv()(gz,{statistics:n,sourceType:h,hostKey:"hostMemoryUtilization",processKey:"processMemoryUtilization",hostColor:"#33f1c5",processColor:"#bd86d1",showSpinner:s,showGraph:l,shouldUpdateGraph:g,errorMessage:u,onGraphSourceTypeSelect:this.onGraphRAMSourceTypeSelect,onGraphTooltipActive:this.onRAMGraphTooltipActive,onGraphTooltipInactive:this.onRAMGraphTooltipInactive}):hv()(lI,{machineIdentifier:t},void 0,Object(Xn.default)("The RAM chart requires Plex Media Server {version} or higher",{version:i})))))):null},t}(yz);var Iz=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},XS,function(e,t){return{machineIdentifier:t.machineIdentifier,resourcesStatistics:e.resourcesStatistics,resourcesStatisticsRequestTimestampMilliseconds:e.resourcesStatisticsRequestTimestampMilliseconds,cpuGraphMinServerVersion:Cc.dashboardCPUChart,ramGraphMinServerVersion:Cc.dashboardRAMChart,canShowCPUGraph:yc(t.version,Cc.dashboardCPUChart),canShowRAMGraph:yc(t.version,Cc.dashboardRAMChart),showSpinner:e.isResourcesStatisticsPending,isResourcesStatisticsPopulated:e.isResourcesStatisticsPopulated,isResourcesStatisticsSupported:e.isResourcesStatisticsSupported,errorMessage:e.resourcesStatisticsError}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{onFetchResourcesStatistics:function(){e(pS(n))}}})(Sz),Cz=n(466),Mz=n.n(Cz);var Dz=function(e){var t=e.className,n=e.serverEntityID,r=e.isEmpty,i=e.title,a=e.metadataItem,o=void 0===a?{}:a;return hv()("div",{className:t},void 0,r?null:hv()(nL,{serverEntityID:n,url:o.art||o.thumb,width:200,height:100,backgroundPosition:"center top"}),hv()("div",{className:r?Mz.a.emptyTitleBackground:Mz.a.titleBackground},void 0,hv()("div",{className:Mz.a.title},void 0,i)))};function wz(e){var t=e.type,n=e.title,r=e.parentTitle,i=e.grandparentTitle,a=e.index,o=e.parentIndex,s=e.originallyAvailableAt;switch(t){case nr.e:var l=i+"  "+ol({seasonIndex:o,episodeIndex:a,date:s,noLeadingZero:!0,separator:"  "});return n&&(l+="  "+n),l;case nr.k:case nr.a:return r+"  "+n;case nr.m:return i+"  "+r+"  "+n;default:return n}}function Pz(e,t,n){var r="metadataItemID="+t.ratingKey;return n&&(r+="&viewedAt="+n.after()),xU(e,{filters:r,filterTitle:wz(t),activeTimePeriodTypeKey:n?n.key:void 0,isParentType:Object(nr.v)(t.type)})}var Tz=n(372),Ez=n.n(Tz);var xz=function(e){var t=e.className,n=e.style,r=e.server,i=e.metadataItem,a=e.timePeriodType,o=i.key,s=i.type,l=i.title,c=i.thumb,u=i.globalViewCount,d=i.userCount,p=s===nr.b,h=Og(r,{isLibraryProvider:!0},o);return hv()("div",{className:t,style:n},void 0,hv()(RS,{className:p?Ez.a.artistPoster:Ez.a.poster,to:h},void 0,hv()(yL,{serverEntityID:r.entityID,type:s,url:c,width:p?60:53,height:p?60:80})),hv()("div",{className:Ez.a.summary},void 0,hv()(RS,{className:Ez.a.itemTitle,title:l,to:h},void 0,l),hv()(RS,{to:Pz(r.machineIdentifier,i,a)},void 0,1===parseInt(u,10)?Object(Xn.default)("{count} play",{count:1}):Object(Xn.default)("{count} plays",{count:u})),hv()("div",{},void 0,1===parseInt(d,10)?Object(Xn.default)("{count} user",{count:1}):Object(Xn.default)("{count} users",{count:d}))))};var Oz=Lm(function(){return Object(Iy.createSelector)(XS,function(e){return{server:e}})})(xz),jz=n(373),Az=n.n(jz),Nz=[.5,.4,.3,.2,.1,.05];var kz=function(e){var t=e.className,n=e.serverEntityID,r=e.type,i=e.title,a=e.items,o=e.timePeriodType,s=0===a.length;return hv()("div",{className:t},void 0,hv()(Dz,{className:s?Az.a.header:Az.a.tintedHeader,serverEntityID:n,metadataItem:a[0],isEmpty:s,title:i}),s?hv()("div",{className:Az.a.emptyItem},void 0,function(e){switch(e){case nr.g:return Object(Xn.default)("No Movies Played");case nr.l:return Object(Xn.default)("No TV Played");case nr.b:return Object(Xn.default)("No Artists Played")}}(r)):a.map(function(e,t){return hv()(Oz,{className:Az.a.item,style:{backgroundColor:"rgba(0, 0, 0, "+Nz[t]+")"},serverEntityID:n,metadataItem:e,timePeriodType:o},e.key)}))},Lz=n(592),Rz=n.n(Lz);var _z=function(e){var t=e.serverEntityID,n=e.topPlayedMovies,r=e.topPlayedTV,i=e.topPlayedMusic,a=e.timePeriodType,o=e.showSpinner,s=e.showList,l=e.errorMessage,c=s&&!l,u=function(e,t,n){return[{type:nr.g,title:Object(Xn.default)("Movies"),items:e},{type:nr.l,title:Object(Xn.default)("TV"),items:t},{type:nr.b,title:Object(Xn.default)("Artists"),items:n}]}(n,r,i);return hv()(ex,{className:Rz.a.container,showSpinner:o,errorMessage:l},void 0,c?u.map(function(e){return hv()(kz,{className:Rz.a.column,serverEntityID:t,type:e.type,title:e.title,items:e.items,timePeriodType:a},e.type)}):null)},Uz=Xf.a.Component,zz=Xf.a.Fragment,Fz=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onUserSelect=function(e){var t=r.props.users,n=r.state.selectedUser,i=t.find(function(t){return t.id===e}),a=!n&&i||n&&!i||n.id!==i.id;r.setState({selectedUser:i},function(){a&&r.fetchTopPlayed()})},r.onTimePeriodTypeSelect=function(e){var t=oS(e),n=r.state.selectedTimePeriodType.key!==e;r.setState({selectedTimePeriodType:t},function(){n&&r.fetchTopPlayed()})},r.state={selectedUser:null,selectedTimePeriodType:oS(eS)},r._availableTimePeriodTypes=[$b,eS,tS,nS,rS].map(oS),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.canShowGraph&&this.fetchTopPlayed()},n.fetchTopPlayed=function(){var e=this.state,t=e.selectedUser,n=e.selectedTimePeriodType;this.props.onFetchTopPlayed({accountID:t?t.id:void 0,viewedAt:n.after(),limit:6})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.machineIdentifier,r=e.users,i=e.topPlayedMovies,a=e.topPlayedTV,o=e.topPlayedMusic,s=e.minServerVersion,l=e.canShowGraph,c=e.showSpinner,u=e.showList,d=e.errorMessage,p=this.state,h=p.selectedUser,f=p.selectedTimePeriodType;return hv()(zz,{},void 0,hv()(eI,{title:Object(Xn.default)("Top Played")},void 0,l?hv()("div",{},void 0,hv()(EU,{users:r,selectedUser:h,onSelect:this.onUserSelect}),hv()(ZT,{items:this._availableTimePeriodTypes,selectedItem:f,onSelect:this.onTimePeriodTypeSelect})):null),l?hv()(_z,{serverEntityID:t,topPlayedMovies:i,topPlayedTV:a,topPlayedMusic:o,timePeriodType:f,showSpinner:c,showList:u,errorMessage:d}):hv()(lI,{machineIdentifier:n},void 0,Object(Xn.default)("The Top Played chart requires Plex Media Server {version} or higher",{version:s})))},t}(Uz),Bz=Xf.a.createElement;var Hz=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.serverEntityID;(0,e.dispatchPopulateAccounts)({serverEntityID:t})},n.render=function(){var e=this.props,t=(e.dispatchPopulateAccounts,wt()(e,["dispatchPopulateAccounts"]));return Bz(Fz,t)},t}(Xf.a.Component),Vz=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},XS,WA(),function(e,t,n){var r=e.topPlayedMovies,i=e.topPlayedTV,a=e.topPlayedMusic,o=e.isTopPlayedPending,s=e.isTopPlayedPopulated,l=e.topPlayedError;return{machineIdentifier:t.machineIdentifier,users:n.accounts,topPlayedMovies:r,topPlayedTV:i,topPlayedMusic:a,minServerVersion:Cc.dashboardTopPlayedChart,canShowGraph:yc(t.version,Cc.dashboardTopPlayedChart),showSpinner:o,showList:s,errorMessage:l}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{dispatchPopulateAccounts:function(){e(PA(n))},onFetchTopPlayed:function(t){e(gS(Object.assign({},n,t)))}}})(Hz),Qz=n(374),Wz=n.n(Qz),Gz=Xf.a.createElement;function Yz(e){var t=e.className,n=e.iconComponent,r=e.iconClassName,i=e.activeClassName,a=e.disabledClassName,o=e.isDisabled,s=e.isActive,l=e.label,c=e.labelClassName,u=e.title,d=e.ariaLabel,p=e.children,h=wt()(e,["className","iconComponent","iconClassName","activeClassName","disabledClassName","isDisabled","isActive","label","labelClassName","title","ariaLabel","children"]),f=d||u;return Gz(RS,dv()({className:(t||"")+" "+(o&&a||"")+" "+(s&&i||""),isDisabled:o,"aria-label":f,title:u},h),hv()(n,{className:r}),l?hv()("span",{className:c},void 0,l):null,p)}Yz.defaultProps={className:Wz.a.button,activeClassName:Wz.a.isActive,disabledClassName:Wz.a.isDisabled,labelClassName:Wz.a.label,isDisabled:!1};var Kz=Yz;function qz(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m532 280l-252-252-56 56 196 196-196 196 56 56 252-252"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}qz.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Zz=qz;function Xz(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-hub-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m28 280l252-252 56 56-196 196 196 196-56 56-252-252"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Xz.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Jz=Xz;Dp.a.shape({getListStyle:Dp.a.func.isRequired,getPositionForIndex:Dp.a.func.isRequired,getRangesForPosition:Dp.a.func.isRequired,getRelativeIndex:Dp.a.func.isRequired});var $z=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state=r._getListState(t),r._keyPool=function(e){void 0===e&&(e="");var t=[],n={},r={},i=0;function a(){var n;return t.length?n=t.shift():(n=e+i,i++),n}function o(e){delete n[e]}return{getKeys:function(e,i,s,l,c){void 0===l&&(l=0),C.a.each(n,function(n,a){var o=n.item;if(null===o)t.push(a);else{var u=C.a.isString(o)?o:o[c],d=s.indexOf(o)+l;(d<e||d>i)&&(t.push(a),delete r[u])}});for(var u=e;u<=i;u++){var d=s[u-l]||null,p=d&&(C.a.isString(d)?d:d[c]),h=d&&r[p];h||(h=a(),d&&(r[p]=h)),n[h]={index:u,item:d}}return t.forEach(o),t.length=0,C.a.extend({},n)}}}("cell"),r._shouldRequestPage=!1,r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.props.onListUpdate&&this.props.onListUpdate(this.state)},n.componentDidMount=function(){this._checkForPageRequest()},n.componentWillReceiveProps=function(e){var t=this._getListState(e);TS(this.state,t)||this.setState(t)},n.shouldComponentUpdate=function(e,t){var n=this.props,r=this.state;return e.items!==n.items||e.size!==n.size||(e.viewportWidth!==n.viewportWidth||e.viewportHeight!==n.viewportHeight||(e.listTop!==n.listTop||e.listLeft!==n.listLeft||(e.isScrolling!==n.isScrolling||(e.skipRenderCells!==n.skipRenderCells||(e.layout!==n.layout||(e.cellRenderer!==n.cellRenderer||(t.visibleStartIndex!==r.visibleStartIndex||(t.visibleEndIndex!==r.visibleEndIndex||(t.partiallyVisibleStartIndex!==r.partiallyVisibleStartIndex||(t.partiallyVisibleEndIndex!==r.partiallyVisibleEndIndex||(t.renderStartIndex!==r.renderStartIndex||(t.renderEndIndex!==r.renderEndIndex||t.moveIndex!==r.moveIndex))))))))))))},n.componentWillUpdate=function(e,t){this.props.onListUpdate&&t!==this.state&&this.props.onListUpdate(t)},n.componentDidUpdate=function(){this._checkForPageRequest()},n._getListState=function(e){var t=this._getListStyle(e),n=e.layout.getLandmarks&&e.layout.getLandmarks(),r=e.layout.getRangesForPosition(e.scrollTop,e.scrollLeft,e.size);return{listStyle:t,landmarks:n,visibleStartIndex:r.visibleStartIndex,visibleEndIndex:r.visibleEndIndex,partiallyVisibleStartIndex:r.partiallyVisibleStartIndex,partiallyVisibleEndIndex:r.partiallyVisibleEndIndex,renderStartIndex:r.renderStartIndex,renderEndIndex:r.renderEndIndex,moveIndex:e.moveIndex}},n._getListStyle=function(e){var t=e.size,n=e.layout,r={viewportWidth:e.viewportWidth,viewportHeight:e.viewportHeight,listTop:e.listTop,listLeft:e.listLeft};return n.getListStyle(r,t)},n._checkForPageRequest=function(){var e=this.state;this._shouldRequestPage&&(this._shouldRequestPage=!1,this.props.onPageRequest({startIndex:e.renderStartIndex,endIndex:e.renderEndIndex}))},n.renderCells=function(){var e=this.props,t=e.keyPropName,n=e.items,r=e.itemsOffset,i=e.size,a=e.layout,o=e.hasNestedList,s=e.viewportWidth,l=e.viewportHeight,c=e.scrollLeft,u=e.scrollTop,d=e.cellRenderer,p=e.isScrolling,h=e.onPageRequest,f=this.state,g=f.moveIndex,v=f.renderStartIndex,m=f.renderEndIndex,y=f.partiallyVisibleStartIndex,b=f.partiallyVisibleEndIndex;if(!i)return[];var S=i>n.length&&m===n.length-1,I=this._keyPool.getKeys(v,m,n,r,t),M=[];return C.a.each(I,function(e,r){var h=e.index,f=e.item,v=h>=y&&h<=b,m=a.getPositionForIndex(h,i,n);(null===f||o)&&(S=!0);var I={key:r,keyPropName:t,isVirtual:!0,isVisible:v,isScrolling:p,moveIndex:g,viewportWidth:s,viewportHeight:l,cellIndex:h,cellX:m.cellX,cellY:m.cellY,cellWidth:m.cellWidth,cellHeight:m.cellHeight};o&&(I.scrollLeft=c,I.scrollTop=u),C.a.isString(f)?I[t]=f:I=Object.assign({},f,I),M.push(d(I))}),this._shouldRequestPage=!!h&&(S&&!p),M},n.render=function(){var e=this._getListStyle(this.props),t=this.props,n=t.className,r=t.isScrolling,i=t.skipRenderCells,a=t.children;return hv()("div",{className:(n||"")+" "+(r?"isScrolling":""),style:e},void 0,i?null:this.renderCells(),a)},t}(Xf.a.Component);$z.defaultProps={keyPropName:"entityID",items:[],itemsOffset:0,hasNestedList:!1,listTop:0,listLeft:0,isScrolling:!1,skipRenderCells:!1};var eF=$z,tF={},nF={getPageKey:function(){return window.location.hash},getKey:function(e){return nF.getPageKey()+"!"+e},get:function(e){return tF[e]},set:function(e,t){tF[e]=t},remove:function(e){delete tF[e]},clear:function(){tF={}}},rF=nF,iF=n(844),aF=n.n(iF),oF=Xf.a.createElement;function sF(e,t){if(t.shouldCenterCell){var n=(t.viewportDimension-t.cellDimension)/2,r=Math.round(e-n);return Math.max(r,0)}return e-(t.offset||0)}var lF=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScrollPositionChange=function(e){var t=e.scrollTop,n=e.scrollLeft;r.setState({scrollTop:t,scrollLeft:n})},r.onListUpdate=function(e){var t=e.visibleStartIndex,n=r.props,i=n.scrollIndex,a=n.onListScrollIndexChange,o=n.onListUpdate;r._currentScrollIndex=t,r.state.isRestoringScrollPosition&&r.setState({isRestoringScrollPosition:!1}),a&&i!==t&&a(t),o&&o(e)},r.onMeasure=function(e){var t=Math.round(e.width),n=Math.round(e.height),i=r.props.onMeasure;r.setState({isMeasured:!0,width:t,height:n}),i&&i(e)},r.state={isRestoringScrollPosition:!1,isMeasured:!1,width:null,height:null,scrollTop:0,scrollLeft:0},r._currentScrollIndex=0,t.scrollPositionStorageKey&&(r._scrollPositionKey=rF.getPageKey()+"!scrollPosition!"+t.scrollPositionStorageKey),r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.props.scrollIndex||this._restoreScrollPosition()},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e,t){var n=this.props,r=n.scrollIndex,i=n.scrollDirection,a=n.shouldCenterScrollIndex,o=n.layout,s=this.state,l=s.scrollLeft,c=s.scrollTop,u=s.width,d=s.height,p=s.isMeasured;if(null!=r&&(r!==this._currentScrollIndex||a)){var h=p&&!t.isMeasured&&r>0,f=p&&r!==e.scrollIndex,g=a!==e.shouldCenterScrollIndex;if(h||f||g){var v=function(e,t,n){var r=n.shouldCenterCell,i=n.outerPaddingLeft,a=n.outerPaddingTop,o=n.scrollerWidth,s=n.scrollerHeight;return{scrollLeft:e===Jp?sF(t.cellX,{shouldCenterCell:r,offset:i,viewportDimension:o,cellDimension:t.cellWidth}):0,scrollTop:e===Xp?sF(t.cellY,{shouldCenterCell:r,offset:a,viewportDimension:s,cellDimension:t.cellHeight}):0}}(i,o.getPositionForIndex(Math.max(r,0)),{shouldCenterCell:a,outerPaddingLeft:o.options.outerPaddingLeft,outerPaddingTop:o.options.outerPaddingTop,scrollerWidth:u,scrollerHeight:d}),m=v.scrollLeft!==l||v.scrollTop!==c;this.setState({scrollLeft:v.scrollLeft,scrollTop:v.scrollTop,isRestoringScrollPosition:h&&m})}}},n.componentWillUnmount=function(){this._scrollPositionKey&&rF.set(this._scrollPositionKey,{scrollTop:this.state.scrollTop,scrollLeft:this.state.scrollLeft})},n._restoreScrollPosition=function(){if(this._scrollPositionKey){var e=rF.get(this._scrollPositionKey);e&&this.setState(Object.assign({isRestoringScrollPosition:!0},e))}},n.render=function(){var e=this.props,t=e.className,n=e.children,r=e.scrollerClassName,i=e.virtualListClassName,a=e.ignoreWidth,o=e.ignoreHeight,s=e.resizeTimeout,l=e.scrollDirection,c=(e.scrollIndex,e.scrollPositionStorageKey,e.smoothScroll),u=e.scrollerStyle,d=e.forwardedRef,p=(e.onListUpdate,e.onMeasure,e.onScroll),h=wt()(e,["className","children","scrollerClassName","virtualListClassName","ignoreWidth","ignoreHeight","resizeTimeout","scrollDirection","scrollIndex","scrollPositionStorageKey","smoothScroll","scrollerStyle","forwardedRef","onListUpdate","onMeasure","onScroll"]),f=this.state,g=f.isMeasured,v=f.isRestoringScrollPosition,m=f.width,y=f.height,b=f.scrollTop,S=f.scrollLeft;return hv()(XA,{className:t,ignoreWidth:a,ignoreHeight:o,ignorePosition:!0,resizeTimeout:s,onMeasure:this.onMeasure},void 0,g?oF(oT,{className:r,smoothScroll:!1!==c&&!v,scrollDirection:l,scrollTop:b,scrollLeft:S,enableChildrenProps:!0,style:u,ref:d,onScroll:p,onScrollPositionChange:this.onScrollPositionChange},oF(eF,dv()({className:i,viewportWidth:m,viewportHeight:y,skipRenderCells:v,onListUpdate:this.onListUpdate},h)),n):null)},t}(Xf.a.Component);lF.defaultProps={scrollDirection:Xp,scrollerClassName:aF.a.scroller,shouldCenterScrollIndex:!1};var cF=Xf.a.forwardRef(function(e,t){return oF(lF,dv()({},e,{forwardedRef:t}))});function uF(e,t){return Math.max(Math.min(e,t-1),0)}var dF="vertical",pF="horizontal";function hF(e){void 0===e&&(e={});var t,n,r,i,a,o,s,l,c,u,d=e,p=d.direction,h=void 0===p?dF:p,f=d.rows,g=d.columns,v=d.overscan,m=void 0===v?0:v,y=d.innerHorizontalPadding,b=void 0===y?0:y,S=d.innerVerticalPadding,I=void 0===S?0:S,C=d.outerPaddingTop,M=void 0===C?0:C,D=d.outerPaddingRight,w=void 0===D?0:D,P=d.outerPaddingBottom,T=void 0===P?0:P,E=d.outerPaddingLeft,x=void 0===E?0:E,O=d.getCellWidth,j=d.getCellHeight;function A(e){return h===dF?Math.floor(e/o):e%a}function N(e){return h===dF?e%o:Math.floor(e/a)}function k(e,t){var n=A(e);return h===dF?n*o:n}function L(e,t){var n=N(e);return h===dF?n:n*a}return{options:e,getListStyle:function(e,d){var p=[M,w,T,x,d];for(var v in e)p.push(e[v]);var m=p.join(":");if(m===l)return c;t=e.listTop,n=e.listLeft;var y=(e.viewportWidth||0)-w-x,S=(e.viewportHeight||0)-M-T;h===dF?y-=n:S-=t,y=Math.max(0,y),S=Math.max(0,S),r=O({innerViewportWidth:y,innerViewportHeight:S,innerHorizontalPadding:b,innerVerticalPadding:I}),i=j({cellWidth:r,innerViewportWidth:y,innerViewportHeight:S,innerHorizontalPadding:b,innerVerticalPadding:I}),a=Math.max(0,f||Math.floor((S+I)/(i+I))),o=Math.max(0,g||Math.floor((y+b)/(r+b))),s=o*a;var C=0,D=0;return h===dF&&o?(C=o*(r+b)-b,D=Math.ceil(d/o)*(i+I)-I):h===pF&&a&&(C=Math.ceil(d/a)*(r+b)-b,D=a*(i+I)-I),u={},l=m,c={width:C+w+x,height:D+M+T}},getRelativeIndex:function(e,t,n,r){var i,s,l,c=h===n;if(c&&(h===dF&&1===o||h===pF&&1===a))return uF(e+t,r);n===dF&&(i=c?o*t:t,s=L(e),l=function(e,t){if(h===dF){var n=t-1,r=N(e),i=A(n),s=(i+1)*o-(o-r);return s<t?s:n-t%o-(o-1-r)}var l=L(e);return uF(l+(a-1),t)}(e,r)),n===pF&&(i=c?a*t:t,s=k(e),l=function(e,t){if(h===dF){var n=k(e);return uF(n+(o-1),t)}var r=t-1,i=A(e),s=N(r),l=(s+1)*a-(a-i);return l<t?l:r-t%a-(a-1-i)}(e,r));var u=e+i;return s||l?Math.max(Math.min(u,l),s):e},getCoordinateDistance:function(e,t){var n=A(e),r=A(t),i=N(e),a=N(t);return Math.sqrt(Math.pow(r-n,2)+Math.pow(a-i,2))},getPositionForIndex:function(e){var a=e;if(u[a])return u[a];var o=N(e),s=A(e),l={column:o,row:s,cellX:o*(r+b)+n+x,cellY:s*(i+I)+t+M,cellWidth:r,cellHeight:i};return u[a]=l,l},getRangesForPosition:function(e,l,c){var u=h===dF?o:a,d=h===dF?(e-t)/(i+I):(l-n)/(r+b),p=s+2*u+m*u*2,f=Math.ceil(d)*u,g=f+s-1,v=Math.floor(d)*u,y=f+s+u-1,S=v-u*m,C=uF(S,c)+p-1;return C>=c&&(S=c-p),{visibleStartIndex:uF(f,c),visibleEndIndex:uF(g,c),partiallyVisibleStartIndex:uF(v,c),partiallyVisibleEndIndex:uF(y,c),renderStartIndex:uF(S,c),renderEndIndex:uF(C,c)}}}}var fF=Xf.a.useEffect,gF=Xf.a.useRef;function vF(e){var t=gF();return fF(function(){t.current=e},[e]),t.current}var mF=Xf.a.useEffect,yF=Xf.a.useMemo,bF=Xf.a.useReducer,SF=Xf.a.useRef;function IF(e){var t=e.isVirtual,n=e.isVisible,r=e.isScrolling;return t&&!n||r}function CF(e){var t,n=e.cellIndex,r=e.cellX,i=e.cellY,a=e.cellWidth,o=e.cellHeight,s=e.style,l=e.keyPropName,c=e.moveDurationMilliseconds,u=void 0===c?400:c,d=e.isVirtual,p=e[l],h=vF(p),f=vF(n),g=!(null==h||null==f||p!==h||e.cellIndex===f),v=bF(function(e){return e+1},0)[1],m=SF(g),y=m.current||g,b=yF(function(){return function(e){var t=e.cellX,n=e.cellY,r=e.cellWidth,i=e.cellHeight,a=e.style,o=e.isMoving,s=e.moveDurationMilliseconds;return e.isVirtual?Object.assign({position:"absolute",width:r,height:i,transform:"translate3d("+t+"px, "+n+"px, 0)",zIndex:o?1:0,transition:o?"transform "+mT.a.defaultSpeed:"none",transitionDuration:o?s+"ms":0},a):Object.assign({position:"relative"},a)}({cellX:r,cellY:i,cellWidth:a,cellHeight:o,style:s,moveDurationMilliseconds:u,isMoving:y,isVirtual:d})},[r,i,a,o,s,u,y,d]),S=SF(IF(e)?null:p);return IF(e)?(t=S.current!==p)&&(S.current=null):(t=!1,S.current=p),mF(function(){var e;return y&&(m.current=!0,e=setTimeout(function(){m.current=!1,v({})},2*u)),function(){e&&clearTimeout(e)}},[u,y,v]),{style:b,isPlaceholder:t}}var MF=n(109),DF=n.n(MF),wF=n(187),PF=n.n(wF),TF=Xf.a.memo,EF=[DF.a.serverDashboardTileRowBackgroundPrimaryColor,DF.a.serverDashboardTileRowBackgroundSecondaryColor,DF.a.serverDashboardTileRowBackgroundTertiaryColor,DF.a.serverDashboardTileRowBackgroundQuaternaryColor];function xF(e){return ty(1e3*e)||Object(Xn.default)("{1} min",0)}var OF=TF(function(e){var t=e.serverEntityID,n=e.machineIdentifier,r=e.selectedTimePeriodType,i=e.accountID,a=e.username,o=e.thumb,s=e.playCount,l=e.totalDuration,c=e.durations,u=CF(e),d=Object.keys(c).sort(function(e,t){return c[e]>c[t]?-1:c[e]<c[t]?1:0});return hv()("div",{style:u.style},void 0,hv()("div",{className:PF.a.summaryContainer},void 0,hv()($k,{className:PF.a.avatar,serverEntityID:t,url:o,width:50,height:50}),hv()("div",{className:PF.a.summary},void 0,hv()("div",{},void 0,1===s?Object(Xn.default)("{playCount} play",{playCount:s}):Object(Xn.default)("{playCount} plays",{playCount:s})),hv()("div",{},void 0,xF(l))),hv()(RS,{className:PF.a.playHistoryLink,to:xU(n,{filters:"accountID="+i+"&viewedAt="+r.after(),activeTimePeriodTypeKey:r.key})},void 0,Object(Xn.default)("View Play History"))),hv()("div",{className:PF.a.username,title:a},void 0,a),d.map(function(e,t){var n=RU(e);return hv()("div",{className:PF.a.metadataRow,style:{backgroundColor:EF[t]}},e,hv()("div",{className:PF.a.metadataTitle},void 0,n.title),hv()("div",{className:PF.a.duration},void 0,xF(c[e])))}))}),jF=n(593),AF=n.n(jF),NF=Xf.a.createElement,kF=Xf.a.Component,LF=hF({direction:pF,rows:1,innerHorizontalPadding:40,getCellWidth:function(){return 200},getCellHeight:function(){return 290}});var RF=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={accounts:null,statistics:null,items:null},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n,r,i=e.accounts,a=e.statistics;return t.accounts!==i||t.statistics!==a?{accounts:i,statistics:a,items:(n=i,r=a,r?r.reduce(function(e,t){var r=t.accountID,i=t.metadataType,a=t.count,o=t.duration,s=RU(i);if(!s||-1===r)return e;var l,c=e.findIndex(function(e){return e.accountID===r}),u=-1!==c;if(u)l=e[c];else{var d,p=n.find(function(e){return e.id===r});l={accountID:r,username:p.name,thumb:p.thumb,playCount:0,totalDuration:0,durations:(d={},d[jU]=0,d[AU]=0,d[NU]=0,d[kU]=0,d)}}var h=s.key;return l.playCount=l.playCount+a,l.totalDuration=l.totalDuration+o,l.durations[h]=l.durations[h]+o,u?e[c]=l:e.push(l),e},[]).sort(function(e,t){return e.totalDuration>t.totalDuration?-1:e.totalDuration<t.totalDuration?1:0}):[])}:null},t.prototype.render=function(){var e,t=this.props,n=t.serverEntityID,r=t.machineIdentifier,i=t.selectedTimePeriodType,a=t.showSpinner,o=t.showList,s=t.errorMessage,l=t.scrollIndex,c=t.onListUpdate,u=t.onListScrollIndexChange,d=this.state.items,p=o&&0===d.length?Object(Xn.default)("No data"):null,h=s||p,f=o&&!h;return hv()(ex,{className:AF.a.container,showSpinner:a,errorMessage:h},void 0,f?hv()("div",{className:AF.a.listContainer},void 0,hv()(cF,{keyPropName:"accountID",items:d,scrollDirection:Jp,scrollIndex:l,size:d.length,layout:LF,cellRenderer:(e={serverEntityID:n,machineIdentifier:r,selectedTimePeriodType:i},function(t){return NF(OF,dv()({},e,t))}),onListUpdate:c,onListScrollIndexChange:u})):null)},t}(kF),_F=n(375),UF=n.n(_F),zF=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTimePeriodTypeSelect=function(e){e!==r.state.selectedTimePeriodType.key&&r.setState({selectedTimePeriodType:oS(e),scrollIndex:0},r.fetchTopUsers)},r.onListUpdate=function(e){var t=e.visibleStartIndex,n=e.visibleEndIndex,i=e.renderEndIndex;r._visibleStartIndex=t,r._visibleEndIndex=n,r._pageSize=r._visibleEndIndex-r._visibleStartIndex;var a=t>0,o=i>n;r.setState({showActions:a||o,enablePrevious:a,enableNext:o})},r.onListScrollIndexChange=function(e){r.setScrollIndex(e)},r.onPreviousPress=function(){r.setScrollIndex(r._visibleStartIndex-r._pageSize-1)},r.onNextPress=function(){r.setScrollIndex(r._visibleEndIndex+1)},r.state={selectedTimePeriodType:oS($b),scrollIndex:0,showActions:!1,enablePrevious:!1,enableNext:!1},r._availableTimePeriodTypes=[Jb,$b,eS,tS,nS,rS].map(oS),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.fetchTopUsers()},n.fetchTopUsers=function(){var e=this.state.selectedTimePeriodType;this.props.onFetchTopUsers({timespan:e.timespan,after:e.after()})},n.setScrollIndex=function(e){this.setState({scrollIndex:e})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.machineIdentifier,r=e.accounts,i=e.statistics,a=e.showSpinner,o=e.showList,s=e.errorMessage,l=this.state,c=l.selectedTimePeriodType,u=l.scrollIndex,d=l.showActions,p=l.enablePrevious,h=l.enableNext;return hv()("div",{className:UF.a.container},void 0,hv()(eI,{title:Object(Xn.default)("Top Users")},void 0,hv()("div",{},void 0,hv()(ZT,{items:this._availableTimePeriodTypes,selectedItem:c,onSelect:this.onTimePeriodTypeSelect}),d?hv()("div",{className:UF.a.listActions},void 0,hv()(Kz,{className:UF.a.listScrollButton,iconComponent:Jz,isDisabled:!p,title:Object(Xn.default)("Previous Page"),onPress:this.onPreviousPress}),hv()(Kz,{className:UF.a.listScrollButton,iconComponent:Zz,isDisabled:!h,title:Object(Xn.default)("Next Page"),onPress:this.onNextPress})):null)),hv()(RF,{serverEntityID:t,machineIdentifier:n,selectedTimePeriodType:c,accounts:r,statistics:i,showSpinner:a,showList:o,errorMessage:s,scrollIndex:u,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange}))},t}(Xf.a.Component);var FF=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverDashboardPage},XS,function(e,t){var n=e.topUsersStatistics,r=e.topUsersAccounts,i=e.isTopUsersPending,a=e.isTopUsersPopulated,o=e.topUsersError;return{machineIdentifier:t.machineIdentifier,accounts:r,statistics:n,showSpinner:i,showList:a,errorMessage:o}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{onFetchTopUsers:function(t){e(hS(Object.assign({},n,t)))}}})(zF),BF=Xf.a.Fragment,HF=hv()(YS,{});var VF=function(e){var t=e.serverEntityID,n=e.showCharts,r=e.showServerDashboardUpsell;return hv()(BF,{},void 0,r?HF:null,hv()(CS,{},void 0,hv()(mU,{serverEntityID:t})),n?hv()(BF,{},void 0,hv()(CS,{},void 0,hv()(Cx,{serverEntityID:t})),hv()(Iz,{serverEntityID:t}),hv()(CS,{},void 0,hv()(FF,{serverEntityID:t})),hv()(CS,{},void 0,hv()(ez,{serverEntityID:t})),hv()(CS,{},void 0,hv()(Vz,{serverEntityID:t}))):null)},QF=Xf.a.createElement;var WF={dispatchResetServerDashboardPage:lS},GF=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.dispatchResetServerDashboardPage()},n.render=function(){var e=this.props,t=(e.dispatchResetServerDashboardPage,wt()(e,["dispatchResetServerDashboardPage"]));return QF(VF,t)},t}(Xf.a.Component),YF=Lm(function(){return Object(Iy.createSelector)(Dy(),Py,function(e,t){var n=-1!==e.ownerFeatures.indexOf(_y);return{showCharts:n,showServerDashboardUpsell:!n&&!t.hasDismissedServerDashboardUpsell}})},WF)(GF),KF=Rm.extend({component:function(e){var t=e.server;return hv()(YF,{serverEntityID:t.entityID()})}}),qF=Qs.a.extend({name:"SyncMetadataModel",entityType:Lb,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.ratingKey,this.syncItemId,this.server.entityID())},context:["server","device","syncItemId"],cache:new xi.a,cacheKey:function(){return Qs.a.prototype.cacheKey.apply(this,arguments)+"!"+this.syncItemId}}),ZF=Ue.a.extend({name:"SyncMetadataCollection",context:["server","device","syncItemId"],model:qF,url:function(){return"/sync/items/"+this.syncItemId},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}}),XF=n(845),JF=n.n(XF),$F=U.ItemView.extend({tagName:"li",className:"sync-status-list-item",template:JF.a,ui:{poster:".media-poster"},initialize:function(e){this.syncItem=e.syncItem,this.transcodeJobs=this.model.server.get("desktop").get("transcodeJobs"),this.$el.addClass(this.model.get("type")),this.image=new Cf({model:this.model,type:this.model.get("type"),getUrl:this.getPosterUrl,height:50,background:!1}),this.listenTo(this.transcodeJobs,"reset",function(e){this.model.trigger("change:Media",this.model,this.model.get("Media"))})},getPosterUrl:function(e){return e||this.model.get("parentThumb")||this.model.get("grandparentThumb")},analyzeTranscodeJobs:function(){var e;return this.transcodeJobs.each(C.a.bind(function(t){if(this.syncItem.id===t.get("syncItemId")){var n=this.model.get("thumb"),r=this.model.get("title"),i=t.get("transcodeThumb"),a=t.get("title"),o=a&&a.indexOf(r)>-1,s=!0;if(n&&i)s=new RegExp("(.+)"+t.get("thumb")+"$").exec(n);o&&s&&(e=t)}},this)),e&&e.get("progress")>0?{active:!0,speed:Math.round(10*e.get("speed"))/10,remaining:ny(e.get("remaining"))||Object(Xn.default)("done"),progress:Math.round(10*e.get("progress"))/10,isUploading:"upload"===e.get("type")}:{active:!1}},analyzeParts:function(){var e="complete",t=this.model.get("Media");if(!t.length)return"unknown";for(var n=0,r=t.length;n<r;n++)for(var i=t[n].Part,a=0,o=i.length;a<o;a++){var s=i[a],l=$s.getSyncStateFromPart(s);$s.failedRegex.test(l)&&(e=$s.getSyncStateContextFromPart(s)),$s.processingRegex.test(l)&&(e="downloading"===l?"downloading":"processing"),$s.waitingRegex.test(l)&&"processing"!==e&&(e=s.key?"waiting":"processing")}return e},getErrorMessage:function(e){switch(e){case"sourceFileUnavailable":return Object(Xn.default)("This media is inaccessible. Please check that the file exists with the correct permissions.");case"sourceFileMetadataError":return Object(Xn.default)("The metadata for this media is invalid. Please reanalyze the media and try again.");case"clientProfileError":return Object(Xn.default)("The client profile for the sync target is invalid.");case"ioError":return Object(Xn.default)("An error occurred processing this media. Please check that the disk is not full.");case"transcoderError":return Object(Xn.default)("The transcoder was unable to process this media.");case"mediaAnalysisError":return Object(Xn.default)("This media was unable to be analyzed.");case"downloadFailed":return Object(Xn.default)("This media was unable to be downloaded. Please check that it is still available and try again.");case"unknownError":return Object(Xn.default)("An error occurred while syncing this media.")}return Object(Xn.default)("An error occurred while syncing this media.")},bindings:{".title":{modelAttribute:"title"},".subtitle":{modelAttribute:"Media",manual:!0,formatter:function(e){var t=this.analyzeParts(),n=this.analyzeTranscodeJobs();switch(this.$(".subtitle").addClass("hidden"),t){case"complete":this.$(".complete-subtitle").removeClass("hidden");break;case"waiting":this.$(".waiting-subtitle").removeClass("hidden");break;case"downloading":n.active?(this.$(".downloading-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress)):this.$(".processing-subtitle").removeClass("hidden");break;case"processing":n.active?(this.$(".converting-subtitle").removeClass("hidden"),this.$(".transcode-progress").text(n.progress),this.$(".transcode-remaining").text(n.remaining)):this.$(".processing-subtitle").removeClass("hidden");break;case"unknown":this.$(".unknown-subtitle").removeClass("hidden");break;default:this.$(".failed-subtitle").removeClass("hidden"),this.$(".error-message").text(this.getErrorMessage(t))}}}},onRender:function(){this.image.setElement(this.ui.poster)}}),eB=Of.extend({tagName:"ul",className:"list sync-status-list",itemView:$F}),tB=n(846),nB=n.n(tB),rB=Lc.extend({name:"syncStatusModal",template:nB.a,regions:{list:".sync-status-list-container"},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.list.show(new eB({collection:this.collection,itemViewOptions:{syncItem:this.model}}))}}),iB=n(847),aB=n.n(iB),oB=U.Layout.extend({tagName:"li",className:"poster-item media-tile-list-item sync-tile-list-item",template:aB.a,metadataItemsDelay:5e3,ui:{poster:".media-poster",transcodeStatus:".sync-status-transcode",transcodeTimeRemaining:".media-context",statusIcons:".sync-status-icon",completeIcon:".sync-complete-icon",waitingIcon:".sync-waiting-icon",processingIcon:".sync-processing-icon",failedIcon:".sync-failed-icon",unknownIcon:".sync-unknown-icon"},regions:{transcodeProgress:".sync-status-transcode"},events:{"click a":"onClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},onlyAfterRender:["onMetadataItemsReset","onMediaChange","onTranscodeJobsReset"],initialize:function(e){this.server=e.server,this.model.parent=this.server,this.type=this.model.get("metadataType"),this.contentType=this.model.get("contentType");var t=this.type,n=this.contentType,r=150;"episode"===t?t="show":"clip"===t?r=250:"directory"===t&&(t="audio"===n?"track":"photo"===n?"photo":"movie"),this.$el.addClass(t),this.image=new Cf({server:this.server,type:t,width:r}),this.progressModel=new y.c.Model({current:0});var i=this.server.get("desktop").get("transcodeJobs");this.metadataItems=new ZF([],{server:this.server,device:this.model.device,syncItemId:this.model.id}),this.listenTo(this.metadataItems,"reset",this.onMetadataItemsReset),this.listenTo(i,"reset",this.onTranscodeJobsReset),this.metadataItems.fetch({reset:!0}),this.server.supports("syncNotifications")?this.listenTo(this.metadataItems,"change:Media",this.onMediaChange):this.metadataItemsInterval=setInterval(C.a.bind(function(){this.metadataItems.fetch({reset:!0})},this),this.metadataItemsDelay)},serializeData:function(){return{syncItem:this.model.toJSON(),isFailure:!!this.model.get("status").get("failure")}},getPosterUrl:function(e){var t=e.get("thumb");return this.hasMultipleItems?this.hasSameParents?e.get("parentThumb")||e.get("grandparentThumb")||t:this.hasSameGrandparents?e.get("grandparentThumb")||e.get("parentThumb")||t:void 0:t},updatePoster:function(e){if(this.hasPoster=!0,!e){var t=this.metadataItems.first();if(!t)return;e=this.getPosterUrl(t)}this.image.url!==e&&(this.image.src=null,this.image.url=e,this.image.render())},analyzeParts:function(e){if(this.model.get("status").get("failure"))return"failed";var t=e.models,n=t.length;if(!n)return"unknown";for(var r="complete",i=[],a=[],o=0;o<n;o++){var s=t[o],l=s.get("Media");if(i.push(s.get("grandparentKey")),a.push(s.get("parentKey")),l.length||(r="unknown"),"failed"!==r&&"unknown"!==r)for(var c=0,u=l.length;c<u;c++)for(var d=l[c].Part,p=0,h=d.length;p<h;p++){var f=d[p],g=$s.getSyncStateFromPart(f);$s.failedRegex.test(g)&&(r="failed"),$s.processingRegex.test(g)&&(r="processing"),$s.waitingRegex.test(g)&&"processing"!==r&&(r=f.key?"waiting":"processing")}}return this.hasMultipleItems=n>1,this.hasSameGrandparents=1===C.a.compact(C.a.uniq(i)).length,this.hasSameParents=1===C.a.compact(C.a.uniq(a)).length,this.hasPoster||this.updatePoster(),r},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"rootTitle"}},onRender:function(){this.image.setElement(this.ui.poster),this.transcodeProgress.append(new ay({model:this.progressModel,size:56}))},onClose:function(){clearInterval(this.metadataItemsInterval)},onMetadataItemsReset:function(e){var t=this.analyzeParts(e);if(this.ui.statusIcons.addClass("hidden"),this.ui.transcodeStatus.hasClass("hidden"))switch(t){case"complete":this.ui.completeIcon.removeClass("hidden");break;case"waiting":this.ui.waitingIcon.removeClass("hidden");break;case"processing":this.ui.processingIcon.removeClass("hidden");break;case"failed":this.ui.failedIcon.removeClass("hidden");break;default:this.ui.unknownIcon.removeClass("hidden")}},onMediaChange:function(e,t){this.onMetadataItemsReset(this.metadataItems)},onTranscodeJobsReset:function(e){var t=e.where({syncItemId:this.model.id});if(!t.length)return this.ui.transcodeStatus.hasClass("hidden")||(this.ui.transcodeStatus.addClass("hidden"),this.ui.waitingIcon.removeClass("hidden")),this.ui.transcodeTimeRemaining.text(""),void this.updatePoster();var n=t[0],r=n.get("progress");if(this.ui.statusIcons.addClass("hidden"),r>0){this.ui.transcodeStatus.removeClass("hidden");var i=n.get("type"),a=ny(n.get("remaining"));if(this.progressModel.set("progress",r),"download"===i)this.progressModel.set("text",r.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Xn.default)("Downloading"));else if("upload"===i)this.progressModel.set("text",r.toString()+"%"),this.ui.transcodeTimeRemaining.text(Object(Xn.default)("Uploading"));else{if(n.get("speed")){var o=Math.round(10*n.get("speed"))/10;o>10&&(o=Math.round(o)),this.progressModel.set("text",o.toString()+"x")}else this.progressModel.set("text","");this.ui.transcodeTimeRemaining.text(a)}this.updatePoster(n.get("thumb"))}else this.ui.transcodeStatus.addClass("hidden"),this.ui.processingIcon.removeClass("hidden")},onClick:function(e){e.preventDefault(),z.a.trigger("show:modal",new rB({model:this.model,collection:this.metadataItems}))},onEditClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),z.a.trigger("show:modal",new Ed({model:this.model}))},onDeleteClick:function(e){e.stopImmediatePropagation(),e.preventDefault(),bt.execute("deleteSyncItem",{syncItem:this.model,server:this.server})}}),sB=Of.extend({tagName:"ul",className:"tile-list media-tile-list sync-tile-list show-context",itemView:oB}),lB=n(848),cB=n.n(lB),uB=U.Layout.extend({className:"sync-device-items-container",template:cB.a,ui:{loading:".row-loading",empty:".sync-empty-message",deviceMessage:".sync-device-message",deviceMessageText:".sync-device-message-text"},regions:{list:".sync-item-list-container"},onlyAfterRender:["onDebouncedSyncItemsChange"],initialize:function(e){this.server=e.server,this.onDebouncedSyncItemsChange=C.a.debounce(this.onDebouncedSyncItemsChange,100),this.listenTo(this.model,{"change:syncList":this.onSyncListChange,"change:syncList.change:syncItems.reset":this.onDebouncedSyncItemsChange,"change:syncList.change:syncItems.update":this.onDebouncedSyncItemsChange}),this.fetchSyncList()},fetchSyncList:function(){var e=this.model.get("syncList");e&&e.fetch({scope:"page"}).always(this.onDebouncedSyncItemsChange)},onSyncListChange:function(){this.fetchSyncList()},onDebouncedSyncItemsChange:function(){var e,t=this.model.get("syncList");t&&(e=t.clone()).resetToServer(this.server.id),this.ui.loading.addClass("hidden");var n=!e||0===e.getCollection().length;this.ui.empty.toggleClass("hidden",!n);var r=!e||e.get("isActive");if(this.ui.deviceMessage.toggleClass("hidden",r),!r){var i=e.device,a=i.get("lastSeenAt");a&&this.ui.deviceMessageText.text(Object(Xn.default)("{1} was last seen {2}. Syncing will resume next time you launch Plex on this device.",i.get("name"),eA(a)))}e?this.list.show(new sB({collection:e.getCollection(),itemViewOptions:{server:this.server}})):this.list.close()}}),dB=n(849),pB=n.n(dB),hB=U.Layout.extend({className:"sync-container",template:pB.a,transcodeJobDelay:2e3,ui:{devices:".nav a"},regions:{filterBar:".filter-bar",container:".sync-device-container"},modelEvents:{"change:shared":"onSharedChange"},events:{"click .dropdown-menu a":"onDeviceDropdownClick","click .nav a":"onDeviceClick","click .edit-btn":"onEditClick","click .refresh-btn":"onRefreshClick"},initialize:function(e){var t=J.c("appModel");this.routeOrigin=e.routeOrigin,this.selectedDevice=e.selectedDevice,this.user=t.get("user"),this.shared=this.model.get("shared"),this.transcodeJobs=this.model.get("desktop").get("transcodeJobs"),this.allowSync=this.model.get("allowSync"),this.signedIn=this.model.get("myPlexSigninState")===Tc,this.collection.length&&(this.selectedDevice||(this.selectedDevice=this.collection.first()),this.fetchTranscodeJobs())},serializeData:function(){return{showDeviceDropdown:this.collection.length>0,shared:this.shared,hasTouchScreen:ve.a.hasTouchScreen,signedIn:this.signedIn,allowSync:this.allowSync,sync:this.model.get("sync"),selectedDevice:this.selectedDevice?this.selectedDevice.toJSON():null,devices:this.collection.toJSON(),plexPassInfo:this.getPlexPassInfo()}},fetchTranscodeJobs:function(){this.transcodeJobs.fetch({reset:!0,scope:"page"}),this.transcodeJobTimeout=setTimeout(C.a.bind(this.fetchTranscodeJobs,this),this.transcodeJobDelay)},showList:function(){this.selectedDevice?this.container.show(new uB({model:this.selectedDevice,server:this.model})):this.container.close()},getPlexPassInfo:function(){return this.signedIn||this.shared?{url:this.user.server.get("plexPassUrl"),message:Object(Xn.default)("The server needs a Plex Pass to use sync."),buttonText:Object(Xn.default)("Learn More"),target:"_blank",showButton:!this.shared}:{url:Rc(this.model.id,"settings","general"),message:Object(Xn.default)("The server needs to be signed in with a Plex Pass to use sync."),buttonText:Object(Xn.default)("Sign In"),target:"_self",showButton:!0}},onRender:function(){this.allowSync&&this.showList()},onClose:function(){clearTimeout(this.transcodeJobTimeout)},onSharedChange:function(e,t){this.shared=t,this.render()},onDeviceDropdownClick:function(e){e.preventDefault();var t=P()(e.currentTarget).data("id");this.selectedDevice=this.collection.get(t),Pu(this.routeOrigin,{serverID:this.model.id,deviceID:t,replace:!0,trigger:!1}),this.render()},onDeviceClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.data("id");this.ui.devices.removeClass("selected"),t.addClass("selected"),this.selectedDevice=this.collection.get(n),this.showList()},onEditClick:function(e){e.preventDefault(),P()(e.currentTarget).toggleClass("selected"),this.$el.toggleClass("force-hover")},onRefreshClick:function(e){e.preventDefault();var t=bt.execute("refreshSyncLists",{server:this.model});this.selectedDevice&&t.always(this.whenRendered(function(){this.selectedDevice.get("syncList").fetch({scope:"page"})}))}});var fB="https://forums.plex.tv",gB="https://www.plex.tv/media-server-downloads",vB="https://status.plex.tv",mB="https://www.plex.tv/tidal",yB="?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",bB="https://support.plex.tv"+yB,SB="https://support.plex.tv/articles/customizing-plex-web/"+yB,IB="https://support.plex.tv/articles/225877427-supported-dvr-tuners-and-antennas/"+yB,CB="https://support.plex.tv/articles/community-supported-tuners/"+yB,MB="https://support.plex.tv/articles/206225077-how-to-use-secure-server-connections/"+yB,DB="https://support.plex.tv/hc/en-us/articles/115002267687-Webhooks/"+yB,wB="https://support.plex.tv/articles/204232573-restricting-the-shares/",PB="plex.tv/users/other-services",TB="https://plex.tv/users/other-services",EB="https://app.plex.tv/locast",xB=Xf.a.createElement,OB="children";function jB(e){for(var t,n=e.className,r=e.component,i=e.childrenPropName,a=e.tags,o=[e.message],s=a.length-1,l=0;s>=0;){for(var c=a[s],u=c.open,d=c.close,p=c.unpaired,h=c.children,f=c.component,g=c.childrenPropName,v=wt()(c,["open","close","unpaired","children","component","childrenPropName"]),m=u?new RegExp("(^.*)"+Vf("{"+u+"}")+"(.*)"+Vf("{"+d+"}")+"(.*$)"):new RegExp("(^.*)"+Vf("{"+p+"}")+"()(.*$)"),y=[],b=o.length-1;b>=0;b--){var S=o[b];if("string"!=typeof S)y.unshift(S);else{var I=S.match(m);if(I){var C,M=I[1],D=I[2],w=I[3];if(f)y.unshift(M,xB(f,dv()({key:l},v,((C={})[g||OB]=D,C))),w);else y.unshift(M,h,w);l+=1}else y.unshift(S)}}y.length===o.length?s-=1:o=y}return xB(r,dv()({className:n},((t={})[i]=o,t)))}jB.defaultProps={component:"span",childrenPropName:OB};var AB=jB,NB=n(306),kB=n.n(NB);function LB(e){var t=e.className,n=e.iconComponent,r=e.title,i=e.text;return hv()("div",{className:t},void 0,hv()("div",{className:kB.a.iconContainer},void 0,hv()(n,{className:kB.a.icon})),hv()("div",{className:kB.a.title},void 0,r),hv()("div",{className:kB.a.text},void 0,i))}LB.defaultProps={className:kB.a.upsell};var RB=LB,_B=n(467),UB=n.n(_B);function zB(e){var t=e.className,n=e.iconComponent,r=e.title,i=e.text,a=e.moreInfo,o=e.children;return hv()("div",{className:t},void 0,hv()(RB,{className:UB.a.upsell,iconComponent:n,title:r,text:i}),hv()("div",{className:UB.a.moreInfo},void 0,a),o)}function FB(e){return e.isConnected?"online":"offline"}function BB(e){return e.isCloud?"online":e.isShared?"shared":"owned"}zB.defaultProps={className:UB.a.info};var HB=function(e,t){void 0===t&&(t=!0),Object(J.c)("metrics").trackEvent({event:Ia,interaction:t,properties:{page:Fa,action:ya,serverType:BB(e),status:FB(e),firstRun:!0}})};var VB=function(e,t){var n,r=P.a.Deferred(),i=(new Date).getTime()+t;function a(){var e=(new Date).getTime(),t=Math.max(i-e,0);setTimeout(n,t)}return e.then(function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n=function(){return r.resolve.apply(r,t)}},function(){for(var e=arguments.length,t=new Array(e),i=0;i<e;i++)t[i]=arguments[i];n=function(){return r.reject.apply(r,t)}}),e.then(a,a),r.promise()};var QB,WB=function(e,t){var n=e.server.getXHROptions(C.a.result(e,"url"),{method:"POST",dataType:"json",data:Hf.a.stringify({urls:t},{arrayFormat:"brackets"})||"urls="});return VB(P.a.ajax(n),400).then(function(t){e.reset(t)},function(e){return P.a.Deferred().reject(e.status&&e.responseJSON.errors||[]).promise()})},GB=Mt("user/fetchPlans"),YB=(Mt("user/populatePlans"),Mt("user/updateUser")),KB=Mt("user/clearUpdateUserError"),qB=Mt("user/fetchWebhooks"),ZB=Mt("user/addWebhook"),XB=Mt("user/replaceWebhook"),JB=Mt("user/clearUpdateWebhookError"),$B=Mt("user/removeWebhook"),eH=Mt("user/startFirstRunExperience"),tH=Mt("user/endFirstRunExperience"),nH=Mt("user/fetchHomeDetails"),rH=Mt("user/fetchHomeUsers"),iH=Mt("user/removeHomeUser"),aH=Mt("user/removeFriend"),oH=Mt("user/toggleGuestUser"),sH=Mt("user/editHomeUserPIN"),lH=Mt("user/fetchInvites"),cH=Mt("user/fetchSentInvites"),uH=Mt("user/acceptInvite"),dH=Mt("user/rejectInvite"),pH=Mt("user/cancelInvite"),hH=Mt("user/showNewHomeWarnings");var fH=Object.assign({},ls,((QB={})["user/fetchPlans"]=Ki({key:"plans",getModel:yo}),QB["user/populatePlans"]=qi({key:"plans",fetchActionCreator:GB,getModel:yo}),QB["user/clearUpdateUserError"]=function(e){yo(e).set("updateUserError",null)},QB["user/updateUser"]=function(e,t,n){var r=yo(e),i=e.get("user"),a=t.avatar,o=wt()(t,["avatar"]);if(r.set({isUpdatingUser:!0,updateUserError:null}),a){for(var s=a.split(","),l=s[0],c=s[1],u=l.substr(5),d=window.atob(c),p=[],h=0;h<d.length;h++)p.push(d.charCodeAt(h));var f=new Uint8Array(p),g=new window.Blob([f],{type:u});o.avatar=g}var v=new window.FormData;C.a.each(o,function(e,t){v.append(t,e)});var m=i.server.getXHROptions(C.a.result(i,"url"),{type:"PUT",processData:!1,contentType:!1,data:v});P.a.ajax(m).done(function(e){!t.avatar&&i.get("hasPassword")||i.fetch();var n=C.a.reduce(t,function(e,t,n){return i.hasAttr(n)&&(e[n]=t),e},{});i.set(n),r.set({isUpdatingUser:!1,updateUserError:null})}).fail(function(e){var t=mt.a.parseXML(e.responseText),n=Array.isArray(t)&&t||(Array.isArray(t.error)?t.error:[t.error]),i=C.a.mapObject(C.a.groupBy(n,function(e){return e&&e.field?e.field:"request"}),function(e,t){return C.a.flatten(e)});r.set({isUpdatingUser:!1,updateUserError:i})})},QB["user/fetchWebhooks"]=Ki({key:"webhooks",getModel:yo}),QB["user/addWebhook"]=function(e){var t=yo(e);t.get("webhooks").add({}),t.set("updateWebhooksError",null)},QB["user/replaceWebhook"]=function(e,t){var n=t.oldUrl,r=t.newUrl,i=yo(e),a=i.get("webhooks");if(a.findWhere({url:n})){var o=a.map(function(e){var t=e.get("url");return t===n?r:t});i.set({isUpdatingWebhooks:!0,updateWebhooksError:null}),WB(a,o).always(function(){i.set("isUpdatingWebhooks",!1)}).fail(function(e){i.set("updateWebhooksError",e[0])})}},QB["user/clearUpdateWebhookError"]=function(e){yo(e).set("updateWebhooksError",null)},QB["user/removeWebhook"]=function(e,t){var n=yo(e),r=n.get("webhooks");if(t){n.set({isRemovingWebhooks:!0,updateWebhooksError:null});var i=r.map(function(e){return e.get("url")}).filter(function(e){return e!==t});WB(r,i).always(function(){n.set("isRemovingWebhooks",!1)}).fail(function(e){n.set("updateWebhooksError",e[0])})}else{var a=r.filter(function(e){return e.get("url")!==t});r.reset(a)}},QB["user/startFirstRunExperience"]=function(e,t,n){void 0===t&&(t={}),setTimeout(function(){n(Ts({replace:!0,pathname:"/client-setup",query:{resetCustomization:t.resetCustomization?1:0}}))},0)},QB["user/endFirstRunExperience"]=function(e,t){var n=t.preferredServerEntityID;if(n){var r=bo(e,{serverEntityID:n});HB(r.toJSON(),t.preferredServerInteraction)}setTimeout(function(){z.a.trigger("navigate","dashboard",{replace:!0})},0)},QB["user/fetchHomeDetails"]=function(e){var t=yo(e),n=t.get("homeDetails");t.set("isHomeDetailsPending",!0),n.fetch().then(function(){t.set({isHomeDetailsPending:!1,isHomeDetailsPopulated:!0,homeDetailsError:null})},function(e,n){var r={isHomeDetailsPending:!1};404===n.status?(r.isHomeDetailsPopulated=!0,r.homeDetailsError=null):(r.isHomeDetailsPopulated=!1,r.homeDetailsError=n),t.set(r)})},QB["user/fetchHomeUsers"]=Ki({key:"homeUsers",getModel:yo}),QB["user/removeHomeUser"]=function(e,t,n){var r=e.get("user"),i=yo(e).get("homeUsers"),a=r.get("homeUsers"),o=r.get("allFriends"),s=Ub(e,t),l=r.id===s.id;Object(No.a)(function(){s.set("isRemoving",!0)});var c=s.server.getXHROptions(s.url(),{type:"DELETE"});P.a.ajax(c).then(function(){var e=o.get(s.id);e?(s.get("restricted")?o.remove(e):e.set("home",!1),i.remove(s)):(i.reset([s]),s.set("admin",!0),o.each(function(e){e.set("home",!1)}));var t=!!r.get("pin")||i.length>1;(r.set("home",t),t)||r.get("homeDetails").clear();a.fetch(),s.set("isRemoving",!1)},function(){n(au({type:"error",message:l?Object(Xn.default)("There was a problem leaving this home."):Object(Xn.default)("There was a problem removing this user.")})),s.set({isRemoving:!1})})},QB["user/removeFriend"]=function(e,t,n){var r=e.get("user"),i=yo(e),a=i.get("homeUsers"),o=r.get("allFriends"),s=r.get("homeUsers"),l=_b(e,t);Object(No.a)(function(){l.set("isRemoving",!0)});var c=F.join(["/api/friends",l.id]),u=l.server.getXHROptions(c,{type:"DELETE"});P.a.ajax(u).then(function(){var e=l.get("home");i.get("invites").fetch(),i.get("sentInvites").fetch(),e&&(a.fetch(),s.fetch()),l.get("serverShares").some(function(e){return!e.owned})&&(z.a.trigger("discover:servers"),l.set({isRemoving:!1}),o.remove(l))},function(){n(au({type:"error",message:Object(Xn.default)("There was a problem removing this friend.")})),l.set({isRemoving:!1})})},QB["user/toggleGuestUser"]=function(e,t,n){var r=e.get("user"),i=yo(e),a=r.get("homeSize"),o=i.get("homeDetails"),s=i.get("homeUsers"),l=r.get("allFriends"),c=r.get("homeDetails"),u=r.get("homeUsers"),d=!o.get("guestEnabled");o.set("isTogglingGuestUser",!0);var p=F.join("/api/home",{guestEnabled:d?1:0}),h=d&&1===a,f=r.server.getXHROptions(p,{type:h?"POST":"PUT"});P.a.ajax(f).then(function(){s.fetch(),l.fetch(),u.fetch(),d||2!==a?(c.set("guestEnabled",d),o.set({guestEnabled:d,isTogglingGuestUser:!1}),h&&r.set("home",!0)):(c.clear(),o.clear(),r.set("home",!1))},function(e){var t=Vy(e,d?Object(Xn.default)("Unable to enable guest account"):Object(Xn.default)("Unable to disable guest account"),"status");n(au({type:"error",message:t})),o.set("isTogglingGuestUser",!1)})},QB["user/editHomeUserPIN"]=function(e,t){var n=Ub(e,t),r=new _f({model:n,isEditing:!0});z.a.trigger("show:modal",r),r.promise.then(function(e){n.set("protected",!!e)})},QB["user/fetchInvites"]=Ki({key:"invites",getModel:yo}),QB["user/fetchSentInvites"]=Ki({key:"sentInvites",getModel:yo}),QB["user/acceptInvite"]=function(e,t,n){var r=e.get("user"),i=yo(e),a=i.get("invites"),o=a.get(t.inviteID),s=i.get("homeUsers").get(r.id),l=r.get("homeUsers");o.set("isAccepting",!0),(o.get("home")?function(e){var t=new _f({model:e,isEditing:!0,isEditWarning:!0});return z.a.trigger("show:modal",t),q(t.promise)}(s):P.a.Deferred().resolve().promise()).then(function(){return o.save(null,{force:!0})}).then(function(){a.remove(o),l.fetch(),n(rH()),n(zo()),n(cH()),o.get("server")&&z.a.trigger("discover:servers")},function(e){o.set("isAccepting",!1),n(au({type:"error",message:Object(Xn.default)("There was a problem accepting this invite.")}))})},QB["user/rejectInvite"]=function(e,t,n){var r=yo(e).get("invites"),i=r.get(t.inviteID);i.set("isRemoving",!0);var a=i.server.getXHROptions(i.url(),{type:"DELETE"});P.a.ajax(a).then(function(){r.remove(i),i.get("server")&&n(zo())},function(){i.set("isRemoving",!1),n(au({type:"error",message:Object(Xn.default)("There was a problem rejecting this invite.")}))})},QB["user/cancelInvite"]=function(e,t,n){var r=yo(e).get("sentInvites"),i=r.get(t.inviteID);i.set("isRemoving",!0);var a=i.server.getXHROptions(i.url(),{type:"DELETE"});P.a.ajax(a).then(function(){r.remove(i),i.get("server")&&n(zo())},function(){i.set("isRemoving",!1),n(au({type:"error",message:Object(Xn.default)("There was a problem canceling this invite.")}))})},QB["user/showNewHomeWarnings"]=function(e,t,n){var r=e.get("user"),i=yo(e).get("homeUsers"),a=i.get(r.id);if(!(a.get("protected")||i.length>1)){var o=new _f({model:a,isEditing:!0,isEditWarning:!0});o.promise.always(function(e){e||z.a.trigger("show:modal",new cf({type:"home"}))}),z.a.trigger("show:modal",o)}},QB)),gH=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){var n=t.props,r=(n.children,wt()(n,["children"])),i=t.context.metricsPage;Object(J.c)("metrics").trackClick(Object.assign({},r,{page:i}))},t}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=Xf.a.Children.only(this.props.children);return Xf.a.cloneElement(e,{onPress:JA(this.onPress,e.props.onPress)})},t}(Xf.a.Component);gH.contextTypes={metricsPage:Dp.a.string.isRequired};var vH=gH,mH=n(850),yH=n.n(mH),bH=n(851),SH=n.n(bH),IH=n(852),CH=n.n(IH),MH=n(853),DH=n.n(MH),wH=n(854),PH=n.n(wH),TH=n(855),EH=n.n(TH),xH=n(254),OH=n.n(xH);var jH=function(e){var t=e.img,n=e.title,r=e.description;return hv()("div",{className:OH.a.feature},void 0,hv()("div",{className:OH.a.featurePadding},void 0,hv()("img",{className:OH.a.featureImage,src:t}),hv()("div",{className:OH.a.featureContainer},void 0,hv()("div",{className:OH.a.featureTitle},void 0,n),hv()("div",{className:OH.a.featureDescription},void 0,r))))},AH=n(110),NH=n.n(AH),kH=Xf.a.createElement,LH=Xf.a.Component,RH=hv()(ZE.a,{}),_H=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.metricsProperties,n=e.subscribeUrl,r=e.infoUrl,i=e.giftUrl,o=e.plans,s=e.isPlansPending,l=e.isPlansPopulated,c=e.plansError,u=e.onModalClose;return hv()(qN,{onModalClose:u},void 0,hv()(PN,{className:NH.a.header},void 0,hv()("div",{className:NH.a.plexPassTitle},void 0,Object(Xn.default)("Plex Pass")),Object(Xn.default)("Enhance your Plex experience with exclusive premium features")),hv()(CN,{innerClassName:NH.a.body},void 0,hv()(jH,{img:CH.a,title:Object(Xn.default)("Mobile Sync"),description:Object(Xn.default)("Enjoy your media offline on Android and iOS devices")}),hv()(jH,{img:SH.a,title:Object(Xn.default)("Live TV & DVR"),description:Object(Xn.default)("Connect a tuner and antenna to record free OTA broadcasts")}),hv()(jH,{img:PH.a,title:Object(Xn.default)("Parental Controls"),description:Object(Xn.default)("Set up managed user accounts to create custom access restrictions")}),hv()(jH,{img:EH.a,title:Object(Xn.default)("Webhooks"),description:Object(Xn.default)("Connect your media server to your home automation system")}),hv()(jH,{img:yH.a,title:Object(Xn.default)("Server Dashboard"),description:Object(Xn.default)("See the play history, bandwidth, and top users on your media server")}),hv()(jH,{img:DH.a,title:Object(Xn.default)("Premium Music Magic"),description:Object(Xn.default)("Sweet Fades, Loudness Leveling, Lyrics, and more")}),hv()("div",{className:NH.a.moreFeatures},void 0,hv()(RS,{className:NH.a.link,to:r,target:"_self"},void 0,Object(Xn.default)("...plus more exclusive features!")))),hv()(Q_,{className:NH.a.footer},void 0,s?hv()("div",{className:NH.a.spinnerContainer},void 0,RH):null,hv()("div",{className:(NH.a.plansContainer||"")+" "+(s&&NH.a.isPlansPending||"")},void 0,!s&&l?o.map(function(e){return kH(vH,dv()({key:e.id},t,{action:"subscribe",plan:e.id}),hv()(I_,{className:NH.a.planButton,to:F.join(n,{plan:e.id,continue:window.location.href}),target:"_self",kind:a.PRIMARY,size:qp.LARGE},void 0,e.formattedPrice,"  ",e.name))}):null,!s&&c?kH(vH,dv()({},t,{action:"subscribe",plan:"unknown"}),hv()(I_,{className:NH.a.planButton,to:n,target:"_self",kind:a.PRIMARY,size:qp.LARGE},void 0,Object(Xn.default)("Subscribe"))):null),hv()("div",{},void 0,Object(Xn.default)("Subscribe today"),hv()("span",{className:NH.a.linkSeparator},void 0,""),kH(vH,dv()({},t,{action:"gift"}),hv()(RS,{className:NH.a.link,to:i,target:"_self"},void 0,Object(Xn.default)("or give Plex Pass as a gift!"))))))},t}(LH),UH=Xf.a.createElement,zH=Xf.a.Component,FH=Object(Iy.createSelector)(wy,function(e){var t=e.desktop;return{isSignedIn:e.isSignedIn,plans:t.plans,isPlansPending:t.isPlansPending,isPlansPopulated:t.isPlansPopulated,plansError:t.plansError,subscribeUrl:F.join(["https://plex.tv","subscription/new"]),infoUrl:F.join(["https://plex.tv","subscription/about"]),giftUrl:F.join(["https://plex.tv","gifts"])}}),BH=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.props.isSignedIn&&this.props.fetchPlans()},n.componentWillReceiveProps=function(e){e.isSignedIn&&e.isSignedIn!==this.props.isSignedIn&&e.fetchPlans()},n.render=function(){return UH(_H,this.props)},t}(zH),HH=Lm(function(e){return FH(e)},{fetchPlans:GB})(BH),VH=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onModalClose=function(){Object(J.c)("metrics").trackClick(Object.assign({},t.props.metricsProperties,{page:ja,action:aa})),t.props.onModalClose()},t}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.isOpen,n=e.metricsProperties;return hv()(VN,{size:qp.LARGE,isOpen:t,metricsPage:ja,metricsProperties:n,onModalClose:this.onModalClose},void 0,hv()(HH,{metricsProperties:n,onModalClose:this.onModalClose}))},t}(Xf.a.Component),QH=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlexPassPress=function(){r.setState({isPlexPassModalOpen:!0})},r.onPlexPassModalClose=function(){r.setState({isPlexPassModalOpen:!1})},r.state={isPlexPassModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props.modalMetricsProperties,t=this.state.isPlexPassModalOpen;return hv()(I_,{kind:a.PRIMARY,size:qp.LARGE,onPress:this.onPlexPassPress},void 0,Object(Xn.default)("Get a Plex Pass"),hv()(VH,{metricsProperties:e,isOpen:t,onModalClose:this.onPlexPassModalClose}))},t}(Xf.a.Component);var WH=function(e){var t=e.machineIdentifier,n=e.modalMetricsProperties,r=e.isSignedIn,i=e.isClaimed,o=e.hasPlexSubscription;return o&&i?null:!o&&r?hv()(QH,{modalMetricsProperties:n}):hv()(I_,{kind:a.PRIMARY,size:qp.LARGE,to:Rc(t,"settings","general")},void 0,r?Object(Xn.default)("Claim Server"):Object(Xn.default)("Sign In"))};var GH=Lm(function(){return Object(Iy.createSelector)(wy,Dy(),function(e,t){return{machineIdentifier:t.machineIdentifier,isClaimed:t.isClaimed,isSignedIn:!!e&&e.signedIn,hasPlexSubscription:!!e&&e.hasPlexSubscription}})})(WH);GH.propTypes=Object.assign({},GH.propTypes,{serverEntityID:Dp.a.string.isRequired});var YH=GH;function KH(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-marketing-dvr-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m420 280c-77.21 0-140 62.79-140 140 0 77.21 62.79 140 140 140 77.21 0 140-62.79 140-140 0-77.21-62.79-140-140-140m0 256.67c-64.33 0-116.67-52.34-116.67-116.67 0-64.33 52.34-116.67 116.67-116.67 64.33 0 116.67 52.34 116.67 116.67 0 64.33-52.34 116.67-116.67 116.67m128.33-373.35h-.035c6.44 0 11.672 5.232 11.672 11.672v104.88h-23.328v-93.22h-513.33v282.36c0 11.584 9.8 20.982 21.892 20.982h188.11v23.328h-188.11c-24.937 0-45.22-19.88-45.22-44.31v-294.02c0-6.44 5.233-11.672 11.673-11.672h536.67m-128.33 186.67c-38.587 0-70 31.413-70 70 0 38.587 31.413 70 70 70 38.587 0 70-31.413 70-70 0-38.587-31.413-70-70-70m0 116.67c-25.742 0-46.672-20.93-46.672-46.673 0-25.742 20.93-46.672 46.672-46.672 25.743 0 46.673 20.93 46.673 46.672 0 25.743-20.93 46.673-46.673 46.673m105-466.67h.018c19.302 0 35 15.698 35 35.02v93.31c0 6.439-5.233 11.672-11.673 11.672h-536.67c-6.44 0-11.673-5.232-11.673-11.672v-93.31c0-19.32 15.697-35.02 35-35.02h490m10.833 31.03c-1.629-4.462-5.828-7.682-10.85-7.682h-41.808l-93.33 93.33h60.34l85.64-85.65m-458.97 85.65l93.33-93.33h-48.668l-93.33 93.33h48.667m459.81 0v-53.48l-53.48 53.48h53.48m-366.47-.018l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m93.33 0l93.33-93.33h-60.34l-93.33 93.33h60.34m-321.86-93.33h.017c-6.44 0-11.672 5.25-11.672 11.69v53.5l65.19-65.19h-53.52-.017"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}KH.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var qH,ZH=KH,XH=Ue.a.extend({name:"DVRCollection",context:["server"],model:Zx,url:"/livetv/dvrs"}),JH=Mt("ui/dvrSettings/initDVRSettingsUI"),$H=Mt("ui/dvrSettings/clearDVRSettingsUI"),eV=Mt("ui/dvrSettings/fetchDVRs"),tV=Mt("ui/dvrSettings/removeDVR"),nV=Mt("ui/dvrSettings/reloadGuide"),rV=Mt("ui/dvrSettings/cancelReloadGuide");function iV(e){return e.get("ui").get("dvrSettingsUI")}function aV(e,t,n){var r=bo(e,t),i=F.join(["/livetv/dvrs",t.dvrID,"reloadGuide"]),a=r.getXHROptions(i,{method:n});P.a.ajax(a)}var oV=Qx(((qH={})["ui/dvrSettings/fetchDVRs"]=Ki({key:"dvrs",getModel:iV}),qH["ui/dvrSettings/initDVRSettingsUI"]=function(e,t,n){var r=iV(e),i=r.get("dvrSetup"),a=r.get("dvr"),o=bo(e,t),s=o.get("machineIdentifier"),l={isUIPopulated:!0};a&&a.server.get("machineIdentifier")===s||(l.dvrs=new XH([],{server:o})),i&&i.server.get("machineIdentifier")===s?i.restoreDefaults():l.dvrSetup=new vO({},{server:o}),r.set(l),o.hasOwnerFeature("dvr")&&n(eV(t))},qH["ui/dvrSettings/clearDVRSettingsUI"]=function(e){iV(e).set("isUIPopulated",!1)},qH["ui/dvrSettings/removeDVR"]=function(e,t,n){var r=iV(e).get("dvrs").get(t.dvrID);r&&r.destroy().fail(function(){return n(au(Object(Xn.default)("There was a problem removing your DVR")))})},qH["ui/dvrSettings/reloadGuide"]=function(e,t,n){aV(e,t,"POST")},qH["ui/dvrSettings/cancelReloadGuide"]=function(e,t,n){aV(e,t,"DELETE")},qH)),sV=Object(Iy.createSelector)(function(e){return e.ui.dvrSettingsUI},function(e){return e.dvrSetup}),lV=Mt("RESET_EPG_SETTINGS"),cV=Mt("FETCH_EPG_COUNTRIES"),uV=Mt("FETCH_EPG_LANGUAGES"),dV=Mt("SELECT_EPG_COUNTRY"),pV=Mt("SELECT_EPG_LANGUAGE"),hV=Mt("SELECT_EPG_REGION"),fV=Mt("SET_EPG_POSTAL_CODE"),gV=Mt("FETCH_EPG_LINEUPS");var vV=function(){return Object(Iy.createSelector)(Dy(),function(e){if(e)return e.desktop.activities})};var mV=function(){return Object(Iy.createSelector)(function(e,t){return t.deviceID},vV(),sV,function(e,t,n){var r=n.selectedDevice&&n.selectedDevice.key;return C.a.find(t,function(t){return t.type===Ox&&parseInt(t.Context.deviceID,10)===(e||r)})})},yV=Object(Iy.createSelector)(function(e){return e.ui.dvrSettingsUI},function(e){var t=e.dvrSetup.setupErrorMessages;return t.length?t[0].message:null}),bV=n(856),SV=n.n(bV),IV=Xf.a.createElement;function CV(e){var t=e.children,n=wt()(e,["children"]);return IV("div",n,t)}CV.defaultProps={className:SV.a.group};var MV=CV,DV=n(307),wV=n.n(DV),PV=Xf.a.createElement,TV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){t.props.onChange(e.target.value)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.errorClassName,r=e.disabledClassName,i=e.isDisabled,a=e.size,o=e.name,s=(e.initialValue,e.value),l=e.values,c=e.hasError,u=(e.errors,e.validations,wt()(e,["className","errorClassName","disabledClassName","isDisabled","size","name","initialValue","value","values","hasError","errors","validations"]));return hv()("div",{className:(t||"")+" "+(wV.a[a]||"")+" "+(i&&r||"")+" "+(c&&n||"")},void 0,PV("select",dv()({},u,{disabled:i,className:wV.a.select,id:o,name:o,value:s,onChange:this.onChange}),l.map(function(e){if(C.a.isString(e))return hv()("option",{value:e},e,e);var t=C.a.keys(e)[0];return hv()("option",{value:t},t,C.a.result(e,t))})))},t}(Xf.a.Component);TV.defaultProps={className:wV.a.input,errorClassName:wV.a.hasError,disabledClassName:wV.a.isDisabled,isDisabled:!1,size:qp.LARGE,hasError:!1};var EV=TV,xV=n(81),OV=n(308),jV=n.n(OV),AV=Xf.a.createElement;function NV(e){var t=e.children,n=e.className,r=e.loadingLabel,i=e.spinnerSize,a=e.isDisabled,o=e.isSpinning,s=wt()(e,["children","className","loadingLabel","spinnerSize","isDisabled","isSpinning"]);return AV(I_,dv()({className:(n||"")+" "+(jV.a.button||"")+" "+(o&&jV.a.isSpinning||""),isDisabled:a||o},s),hv()("span",{className:jV.a.spinnerContainer},void 0,hv()(xV.a,{className:jV.a.spinner,loadingLabel:r,size:i})),hv()("span",{className:jV.a.label},void 0,t))}NV.defaultProps={isDisabled:!1,isSpinning:!1,spinnerSize:qp.SMALL};var kV=NV,LV=Xf.a.createElement;function RV(e){return LV(kV,dv()({},e,{loadingLabel:Object(Xn.default)("Loading")}))}RV.defaultProps=kV.defaultProps;var _V=RV,UV=n(594),zV=n.n(UV);var FV=function(e){var t=e.errorMessage;return hv()("div",{className:zV.a.sectionError},void 0,hv()(FR,{className:zV.a.sectionErrorIcon}),t||Object(Xn.default)("There was a problem saving your changes."))};var BV=function(e){var t=e.title,n=e.children,r=e.errorMessage,i=e.onModalClose;return hv()(qN,{onModalClose:i},void 0,hv()(PN,{},void 0,t||Object(Xn.default)("DVR Setup")),r?hv()(FV,{errorMessage:r}):null,n)},HV=n(857),VV=n.n(HV);function QV(e){var t=e.children,n=e.className;return hv()(Q_,{className:n},void 0,t)}QV.defaultProps={className:VV.a.footer};var WV=QV,GV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onNextStepPress=function(){t.props.dvrSetupNextStep({dvrID:t.props.dvrID})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.label,n=void 0===t?Object(Xn.default)("Continue"):t,r=e.isDisabled;return hv()(I_,{kind:a.PRIMARY,size:qp.MEDIUM,isDisabled:r,onPress:this.onNextStepPress},void 0,n)},t}(Xf.a.Component);GV.defaultProps={isDisabled:!1};var YV=Lm(null,{dvrSetupNextStep:yO})(GV),KV=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPreviousStepPress=function(){t.props.dvrSetupPreviousStep({dvrID:t.props.dvrID})},t}return Sy()(t,e),t.prototype.render=function(){return hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:this.onPreviousStepPress},void 0,Object(Xn.default)("Previous"))},t}(Xf.a.Component),qV=Lm(null,{dvrSetupPreviousStep:bO})(KV),ZV=n(376),XV=n.n(ZV),JV=Xf.a.createElement;function $V(e){var t=e.className,n=e.selectedClassName,r=e.circleClassName,i=e.iconClassName,a=e.title,o=e.isSelected,s=wt()(e,["className","selectedClassName","circleClassName","iconClassName","title","isSelected"]);return JV(RS,dv()({className:(t||"")+" "+(o&&n||""),"aria-label":o?Object(Xn.default)("Deselect {title}",{title:a}):Object(Xn.default)("Select {title}",{title:a})},s),hv()("div",{className:r,"data-qa-id":"multipleSelectButton"},void 0,hv()(SI,{className:i})))}$V.defaultProps={className:XV.a.selectButton,selectedClassName:XV.a.isSelected,circleClassName:XV.a.selectCircle,iconClassName:XV.a.selectedIcon};var eQ=$V,tQ=n(468),nQ=n.n(tQ);var rQ=function(){var e=Object(Xn.default)("This tuner isn't officially supported by Plex, click for more information");return hv()(gN,{className:nQ.a.unsupported,component:RS,tooltip:e,tooltipClassName:nQ.a.unsupportedTooltip,tooltipAttachment:s.BOTTOM_CENTER,target:"_blank",to:CB},void 0,hv()(FR,{className:nQ.a.unsupportedIcon,"aria-label":e}))},iQ=n(858),aQ=n.n(iQ),oQ=n(859),sQ=n.n(oQ),lQ=n(860),cQ=n.n(lQ),uQ=n(861),dQ=n.n(uQ),pQ=n(862),hQ=n.n(pQ);function fQ(e){var t,n=e.className,r=e.serverEntityID,i=e.providerEntityID,a=e.model,o=e.thumb,s=e.width,l=e.height;switch(a){case"HDHomeRun CONNECT":t=aQ.a;break;case"HDHomeRun EXPAND":t=sQ.a;break;case"HDHomeRun EXTEND":t=cQ.a;break;case"HDHomeRun PRIME":t=dQ.a}return hv()(Kk,{serverEntityID:r,providerEntityID:i,className:n,url:o,emptySrc:t,width:s,height:l})}fQ.defaultProps={className:hQ.a.image};var gQ=fQ;var vQ=function(e){var t=e.className,n=e.uri.replace(/^https?:\/\//,"");return hv()("div",{className:t},void 0,n)},mQ=n(25),yQ=n.n(mQ),bQ=n(188),SQ=n.n(bQ),IQ=Xf.a.Component,CQ=parseInt(yQ.a.dvrSetupImageWidth,10),MQ=hv()(rQ,{}),DQ=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSelectDevicePress=function(){t.props.onSelectDevice(t.props.deviceID)},t}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.className,r=t.serverEntityID,i=t.make,a=t.model,o=t.uri,s=t.thumb,l=t.channelCount,c=t.unsupported,u=t.isSelectable,d=t.isSelected,p=t.includeUri,h=t.includeChannelCount;return e=1===l?Object(Xn.default)("1 channel"):l>1?Object(Xn.default)("{channelCount} channels",{channelCount:l}):Object(Xn.default)("No channels"),hv()("div",{className:n},void 0,u?hv()(RS,{onPress:this.onSelectDevicePress},void 0,hv()("div",{className:SQ.a.deviceImageContainer},void 0,hv()(gQ,{serverEntityID:r,model:a,thumb:s,width:CQ,height:100}),d?hv()(eQ,{className:SQ.a.selectButton,component:"div",title:a,isSelected:!0,isDisabled:!0}):null)):null,u?null:hv()(gQ,{serverEntityID:r,model:a,thumb:s,width:CQ,height:100}),hv()("div",{className:SQ.a.details},void 0,hv()("div",{className:SQ.a.make},void 0,i),hv()("div",{className:SQ.a.modelContainer},void 0,hv()("div",{className:SQ.a.model},void 0,a),c?MQ:null),p?hv()(vQ,{className:SQ.a.uri,uri:o}):null,h?hv()("div",{className:SQ.a.channelCount},void 0,e):null))},t}(IQ);DQ.defaultProps={includeUri:!1,includeChannelCount:!1,isSelectable:!1};var wQ=DQ,PQ=n(578),TQ=n.n(PQ),EQ=n(309),xQ=n.n(EQ),OQ=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onProgressToUpdate=function(){r.setState({progress:r._progressPosition.progress})},r.onProgressToComplete=function(){r._progressToTween=null},r.state={progress:0},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._progressTo(this.props)},n.componentDidUpdate=function(e){e.progress!==this.props.progress&&this._progressTo(this.props)},n.componentWillUnmount=function(){this._cancelProgressTo()},n._progressTo=function(e){var t=e.progress,n=this.props.smoothProgressDuration/1e3,r={progress:t,ease:this.props.easing,onUpdate:this.onProgressToUpdate,onComplete:this.onProgressToComplete};this._progressPosition={progress:this.state.progress},this._cancelProgressTo(),this._progressToTween=ZP.a.to(this._progressPosition,n,r)},n._cancelProgressTo=function(){this._progressToTween&&(this._progressToTween.kill(),this._progressToTween=null)},n.render=function(){var e=this.state.progress,t=this.props,n=t.className,r=t.containerClassName,i=t.backgroundClassName,a=t.textClassName,o=t.size,s=t.lineWidth,l=t.strokeColor,c=t.trackColor,u=t.progressText,d=void 0===u?Math.round(e)+"%":u,p=t.showProgressText,h=t.showIndeterminate,f=h?50:e,g=h?null:d,v=o/2,m=v-s,y=Math.PI*(2*m),b=o+"px",S=o-3*s+"px",I=(100-f)/100*y;return hv()("div",{className:r,style:{width:b,height:b,lineHeight:b}},void 0,hv()("svg",{className:(n||"")+" "+(h&&xQ.a.indeterminate||""),version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:o,height:o},void 0,c?hv()("circle",{fill:"transparent",r:m,cx:v,cy:v,style:{strokeWidth:s,stroke:c}}):null,hv()("circle",{fill:"transparent",r:m,cx:v,cy:v,strokeDasharray:y,style:{strokeWidth:s,stroke:l,strokeDashoffset:I}})),hv()("div",{className:i,style:{width:S,height:S}}),p&&g?hv()("div",{className:a},void 0,g):null)},t}(Xf.a.Component);OQ.defaultProps={className:xQ.a.circularProgressBar,containerClassName:xQ.a.circularProgressBarContainer,backgroundClassName:xQ.a.circularProgressBarBackground,textClassName:xQ.a.circularProgressBarText,size:60,lineWidth:5,strokeColor:TQ.a.primaryColor,showProgressText:!0,smoothProgressDuration:1e3};var jQ=OQ,AQ=JP.a.Power0.easeInOut,NQ=JP.a.Power3.easeOut,kQ=n(595),LQ=n.n(kQ),RQ=Xf.a.createElement;function _Q(e){return RQ(jQ,dv()({},e,{textClassName:LQ.a.circularProgressBarText}))}_Q.defaultProps=Object.assign({},jQ.defaultProps,{backgroundClassName:LQ.a.circularProgressBarBackground,strokeColor:DF.a.primaryColor,easing:NQ});var UQ=_Q;function zQ(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-hour-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m179.45 378h-106.62l29.821-29.12h51.725l25.07 29.12m-148.31-81.48l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m69.934 7.28l-3.166 39.48-29.821 29.12 6.069-75.88 11.348-10.92 15.57 18.2m61.23-9.24h-58.59l-12.403-14.56 14.779-14.56h58.59l12.667 14.56-15.04 14.56m-155.18-38.36l3.167-39.48 29.821-29.12-6.07 75.88-11.347 11.2-15.571-18.48m159.93 0l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-1.32-44.8h-51.724l-25.07-29.4h106.62l-29.821 29.4"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}zQ.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var FQ=zQ;function BQ(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-minutes-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m391.63 378h-106.62l29.821-29.12h51.725l25.07 29.12m147.79 0h-106.62l29.821-29.12h51.725l25.07 29.12m-226.16-74.2l-3.167 39.48-29.821 29.12 6.07-75.88 11.347-10.92 15.571 18.2m89.99-7.28l-6.07 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m57.795 7.28l-3.167 39.48-29.821 29.12 6.07-75.88 11.348-10.92 15.57 18.2m89.99-7.28l-6.069 75.88-25.07-29.12 3.167-39.48 18.737-18.2 9.236 10.92m-261.79-33.04l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m57.795 7.28l6.069-75.88 25.07 29.12-3.167 39.48-18.737 18.48-9.236-11.2m89.99-7.28l3.167-39.48 29.821-29.12-6.07 75.88-11.348 11.2-15.57-18.48m-149.1-44.8h-51.725l-25.07-29.4h106.62l-29.821 29.4m177.61-29.4l-29.821 29.4h-51.725l-25.07-29.4h106.62"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}BQ.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var HQ=BQ;function VQ(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-clock-separator-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m218.51 378l2.375-29.12h27.71l-2.375 29.12h-27.71m11.08-134.12l2.376-29.12h27.709l-2.375 29.12h-27.71"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}VQ.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var QQ=VQ,WQ=n(863),GQ=n.n(WQ),YQ=Xf.a.createElement;function KQ(e){var t=e.children,n=e.className,r=wt()(e,["children","className"]);return YQ("p",dv()({},r,{className:n}),t)}KQ.defaultProps={className:GQ.a.help};var qQ=KQ;var ZQ=function(e){var t=e.className,n=e.name,r=e.labelText,i=e.showErrors,a=e.errors[0];return hv()(k_,{className:t,hasError:i,name:n},void 0,r,i&&a?"  "+a:null)},XQ=Xf.a.createElement,JQ=Xf.a.Component;var $Q=function(e){var t=function(t){function n(e,n){var r;return(r=t.call(this,e,n)||this).onFormStoreChange=function(){var e=r.props.name,t=r.store.getState(),n=t[e];n||r.initializeInputState(r.props),TS(t,r.previousFormState)||(r.previousFormState=t,r.handleStateChange(r.props)),r.state!==n&&null!=n&&r.setState(n)},r.onChange=function(e){var t=r.props.transformValue;r.handleStateChange(r.props,t?t(e):e)},r.onBlur=function(){if(!r.hasBlurred){r.hasBlurred=!0;var e=r.store.getState(),t=r.props.name,n=e[t],i=r.calculateErrors(n.value,e,r.props);r.actions.change({name:t,change:Object.assign({},n,{errors:i,showErrors:0!==i.length})})}},r.store=n.formStore,r.actions=Object(um.bindActionCreators)(P_,r.store.dispatch),r.state=null,r.hasBlurred=!1,r}Sy()(n,t);var r=n.prototype;return r.componentWillMount=function(){this.previousFormState=this.store.getState(),this.unsubscribe=this.store.subscribe(this.onFormStoreChange),this.initializeInputState(this.props)},r.componentWillReceiveProps=function(e){ds(e.initialValue)&&ds(this.props.initialValue)?TS(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue):C.a.isEqual(e.initialValue,this.props.initialValue)||this.handleStateChange(e,e.initialValue)},r.shouldComponentUpdate=function(e,t){return ES(this,e,t)},r.componentWillUnmount=function(){var e=this.props.name;this.unsubscribe&&this.unsubscribe(),this.actions.change({name:e,change:null})},r.initializeInputState=function(e){var t=e.name,n=e.initialValue,r=this.store.getState();r[t]={errors:this.calculateErrors(n,r,e),showErrors:!1,value:n},this.actions.replaceState(r)},r.handleStateChange=function(e,t){var n=this.store.getState(),r=e.name,i=n[r],a=Array.isArray(t)||null!=t?t:i.value,o=this.calculateErrors(a,n,e);C.a.isEqual(i.value,a)&&C.a.isEqual(i.errors,o)||this.actions.change({name:r,change:{errors:o,showErrors:this.hasBlurred&&0!==o.length,value:a}})},r.calculateErrors=function(e,t,n){return n.validations.map(function(n){return n(e,t)}).filter(function(e){return null!=e})},r.render=function(){var t=this.props,n=(t.validations,t.errors),r=(t.transformValue,t.onChange),i=wt()(t,["validations","errors","transformValue","onChange"]);if(!this.state)return null;var a=n.length>0,o=this.state,s=o.value,l=o.errors,c=o.showErrors;return XQ(e,dv()({},i,{showErrors:!!a||c,errors:a?n:l,value:s,onChange:JA(this.onChange,r),onBlur:this.onBlur}))},n}(JQ);return t.displayName="FormInput("+Object(vE.a)(e)+")",t.WrappedComponent=e,t.contextTypes={formStore:C_},t.defaultProps={validations:[],errors:[]},t},eW=Xf.a.createElement;var tW=$Q(function(e){var t=e.formGroupClassName,n=e.formLabelClassName,r=e.name,i=e.labelText,a=e.helpText,o=e.showErrors,s=e.errors,l=wt()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors"]);return hv()(MV,{className:t},void 0,hv()(ZQ,{className:n,showErrors:o,errors:s,name:r,labelText:i}),eW(EV,dv()({name:r,hasError:o},l)),a?hv()(qQ,{},void 0,a):null)});var nW=function(e){var t=e.className,n=e.networks.reduce(function(e,t){var n;return e.push(((n={})[t.key]=t.title,n)),e},[{"":Object(Xn.default)("Select Network")}]);return hv()("div",{className:t},void 0,hv()(tW,{name:"network",labelText:"Network",initialValue:"",values:n}))},rW=n(310),iW=n.n(rW),aW=Xf.a.createElement,oW=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setRef=function(e){r._checkbox=e},r.onChange=function(e){var t=e.target.checked?r.props.checkedValue:r.props.uncheckedValue;r.props.value!==t&&r.props.onChange(t)},r._checkbox=null,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setIndeterminate()},n.componentDidUpdate=function(){this.setIndeterminate()},n.setIndeterminate=function(){if(this._checkbox){var e=this.props,t=e.value,n=e.uncheckedValue,r=e.checkedValue;this._checkbox.indeterminate=t!==n&&t!==r}},n.render=function(){var e=this.props,t=e.className,n=e.inputClassName,r=e.errorClassName,i=e.disabledClassName,a=e.isDisabled,o=e.size,s=e.checkboxText,l=e.name,c=(e.initialValue,e.value),u=e.checkedValue,d=(e.uncheckedValue,e.showErrors,e.hasError),p=(e.errors,e.validations,wt()(e,["className","inputClassName","errorClassName","disabledClassName","isDisabled","size","checkboxText","name","initialValue","value","checkedValue","uncheckedValue","showErrors","hasError","errors","validations"]));return hv()("label",{className:(t||"")+" "+(iW.a[o]||"")+" "+(a&&i||"")+" "+(d&&r||""),htmlFor:l},void 0,aW("input",dv()({},p,{id:l,type:"checkbox",disabled:a,className:n,checked:c===u,ref:this.setRef,onChange:this.onChange})),s)},t}(Xf.a.Component);oW.defaultProps={className:iW.a.label,inputClassName:iW.a.input,errorClassName:iW.a.hasError,disabledClassName:iW.a.isDisabled,isDisabled:!1,size:qp.LARGE,uncheckedValue:!1,checkedValue:!0,value:!1,hasError:!1};var sW=oW,lW=Xf.a.createElement;function cW(e){var t=e.formGroupClassName,n=e.labelText,r=e.checkboxText,i=e.helpText,a=e.showErrors,o=e.errors,s=wt()(e,["formGroupClassName","labelText","checkboxText","helpText","showErrors","errors"]),l=o[0];return hv()(MV,{className:t},void 0,n?hv()(k_,{},void 0,n):null,lW(sW,dv()({hasError:a,checkboxText:hv()("span",{},void 0,r,a&&l?"  "+l:null)},s)),i?hv()(qQ,{},void 0,i):null)}cW.defaultProps={showErrors:!1,errors:[]};var uW=$Q(cW),dW=n(377),pW=n.n(dW),hW=Xf.a.createElement,fW=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){t.props.onChange(e.target.value)},t.onFocus=function(){t._select()},t.onRef=function(e){t.inputElement=e},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.focusOnMount&&(this.inputElement.focus(),this._select())},n._select=function(){if(this.inputElement&&this.props.selectTextOnFocus){var e=this.inputElement.value,t=e?e.length:0;this.inputElement.selectionStart=0,this.inputElement.selectionEnd=t}},n.render=function(){var e=this.props,t=e.className,n=e.errorClassName,r=e.disabledClassName,i=e.isDisabled,a=(e.initialValue,e.value),o=e.size,s=e.type,l=e.name,c=e.placeholder,u=e.hasError,d=(e.errors,e.validations,e.focusOnMount),p=(e.selectTextOnFocus,wt()(e,["className","errorClassName","disabledClassName","isDisabled","initialValue","value","size","type","name","placeholder","hasError","errors","validations","focusOnMount","selectTextOnFocus"]));return hW("input",dv()({},p,{id:l,name:l,type:s,disabled:i,value:a,placeholder:c,className:(t||"")+" "+(pW.a[o]||"")+" "+(i&&r||"")+" "+(u&&n||""),ref:d?this.onRef:null,onChange:this.onChange,onFocus:this.onFocus}))},t}(Xf.a.Component);fW.defaultProps={className:pW.a.input,errorClassName:pW.a.hasError,disabledClassName:pW.a.isDisabled,isDisabled:!1,size:qp.LARGE,type:"text",hasError:!1,focusOnMount:!1,selectTextOnFocus:!1};var gW=fW,vW=Xf.a.createElement,mW=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n=e?parseInt(e,10):null;t.props.onChange(n)},t}return Sy()(t,e),t.prototype.render=function(){return vW(gW,dv()({type:"number"},this.props,{selectTextOnFocus:!1,onChange:this.onChange}))},t}(Xf.a.Component),yW=n(864),bW=n.n(yW),SW=Xf.a.createElement;function IW(e){var t=e.formGroupClassName,n=e.formLabelClassName,r=e.inputClassName,i=e.name,a=e.labelText,o=e.helpText,s=e.showErrors,l=e.errors,c=wt()(e,["formGroupClassName","formLabelClassName","inputClassName","name","labelText","helpText","showErrors","errors"]);return hv()(MV,{className:t},void 0,hv()(ZQ,{className:n,showErrors:s,errors:l,name:i,labelText:a}),SW(mW,dv()({className:r,name:i,type:"number",hasError:s},c)),o?hv()(qQ,{},void 0,o):null)}IW.defaultProps={inputClassName:bW.a.input};var CW=$Q(IW),MW=Xf.a.createElement;function DW(e){var t=e.formGroupClassName,n=e.formLabelClassName,r=e.name,i=e.labelText,a=e.helpText,o=e.showErrors,s=e.errors,l=e.children,c=wt()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return hv()(MV,{className:t},void 0,l,hv()(ZQ,{className:n,showErrors:o,errors:s,name:r,labelText:i}),MW(gW,dv()({name:r,hasError:o},c)),a?hv()(qQ,{},void 0,a):null)}DW.defaultProps={errors:[]};var wW=$Q(DW),PW=n(252);function TW(e,t,n){return(e-t)/(n-t)*100}var EW=n(134),xW=n.n(EW),OW=Xf.a.createElement,jW=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseDown=function(e){e.preventDefault(),0===e.button&&r._startDrag(e.pageX,e.pageY,!1)},r.onMouseMove=function(e){var t=e.pageX,n=e.pageY;if(!r.state.isDragging){var i=r._getValueForPosition(t,n),a=r._trackRef.current.getBoundingClientRect(),o=r.props.isVertical?{x:a.left,y:n}:{x:t,y:a.top};r.props.onMove({position:o,positionValue:i,steppedValue:r._getSteppedValue(i)})}},r.onTouchStart=function(e){e.preventDefault();var t=e.touches&&e.touches[0];t&&r._startDrag(t.pageX,t.pageY,!0)},r.onDocumentMouseMove=function(e){r._drag(e.pageX,e.pageY)},r.onDocumentTouchMove=function(e){var t=e.touches&&e.touches[0];t&&r._drag(t.pageX,e.pageY)},r.onDocumentMouseUp=function(e){r._stopDrag(e.pageX,e.pageY)},r.onDocumentTouchEnd=function(e){var t=e.changedTouches&&e.changedTouches[0];t&&r._stopDrag(t.pageX,t.pageY)},r._trackRef=Xf.a.createRef(),r.state={isDragging:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this._stopListeningForDrag()},n._listenForDrag=function(e){e?(document.addEventListener("touchmove",this.onDocumentTouchMove),document.addEventListener("touchcancel",this.onDocumentTouchEnd),document.addEventListener("touchend",this.onDocumentTouchEnd)):(document.addEventListener("mousemove",this.onDocumentMouseMove),document.addEventListener("mouseup",this.onDocumentMouseUp))},n._stopListeningForDrag=function(){document.removeEventListener("mousemove",this.onDocumentMouseMove),document.removeEventListener("touchmove",this.onDocumentTouchMove),document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("touchcancel",this.onDocumentTouchEnd),document.removeEventListener("touchend",this.onDocumentTouchEnd)},n._startDrag=function(e,t,n){this._changeValue(this._getValueForPosition(e,t)),this._listenForDrag(n),this.props.onDragStart&&this.props.onDragStart()},n._drag=function(e,t){this.state.isDragging||(document.body.classList.add(xW.a.isDragging),this.setState({isDragging:!0})),this._changeValue(this._getValueForPosition(e,t))},n._stopDrag=function(e,t){document.body.classList.remove(xW.a.isDragging),this._stopListeningForDrag();var n=this._getValueForPosition(e,t),r=this._getSteppedValue(n);this._changeValue(n),this.setState({isDragging:!1}),this.props.onDragComplete&&this.props.onDragComplete({positionValue:n,steppedValue:r})},n._getValueForPosition=function(e,t){var n,r=this.props,i=r.isVertical,a=r.min,o=r.max,s=this._trackRef.current,l=s.getBoundingClientRect();if(i){var c=t-document.body.scrollTop;n=(l.bottom-c)/s.offsetHeight}else{n=(e-document.body.scrollLeft-l.left)/s.offsetWidth}return(o-a)*(n=Math.min(Math.max(n,0),1))+a},n._getSteppedValue=function(e){var t=this.props,n=t.min,r=t.max,i=t.stepSize;if(!i)return e;var a=Math.round(e/i)*i;return Math.min(Math.max(a,n),r)},n._getStickyValue=function(e){var t=this.props,n=t.max,r=t.min,i=t.stepSize,a=t.stickiness;if(!i||!a)return e;var o=this._getSteppedValue(e);return Math.abs(o-e)/(n-r)<a/100?o:e},n._changeValue=function(e){var t=this.props.value;e!==t&&this.props.onChange({positionDelta:e-t,positionValue:e,steppedValue:this._getSteppedValue(e)})},n.render=function(){var e,t,n=this.props,r=n.style,i=n.className,a=n.trackClassName,o=n.secondaryFillClassName,s=n.fillClassName,l=n.thumbClassName,c=n.thumbTrackClassName,u=n.label,d=n.value,p=n.min,h=n.max,f=n.secondaryMin,g=n.secondaryMax,v=n.showSecondaryFill,m=n.showFill,y=n.autoHideThumb,b=n.isDisabled,S=n.isVertical,I=n.onMove,C=n.onMouseEnter,M=n.onMouseLeave,D=n.onWheel,w=this.state.isDragging,P=TW(this._getStickyValue(d),p,h),T="left",E="scaleX",x="translateX";S&&(T="top",E="scaleY",x="translateY");var O=x+"("+(S?-P:P)+"%)",j=f?TW(this._getStickyValue(f),p,h):0,A=E+"("+(P-j)/100+")",N=E+"("+((g?TW(this._getStickyValue(g),p,h):0)-j)/100+")";return hv()("div",{style:r,className:(i||"")+" "+(b&&xW.a.isDisabled||"")+" "+(w&&xW.a.isDragging||"")+" "+(y&&xW.a.hasAutoHideThumb||""),onWheel:b?null:D,onMouseEnter:b?null:C,onMouseLeave:b?null:M,onMouseDown:b?null:this.onMouseDown,onMouseMove:b||!I?null:this.onMouseMove,onTouchStart:b?null:this.onTouchStart},void 0,OW("div",{className:a,ref:this._trackRef},v?hv()("div",{className:o,style:(e={},e[T]=f?j+"%":void 0,e.WebkitTransform=N,e.msTransform=N,e.transform=N,e)}):null,m?hv()("div",{className:s,style:(t={},t[T]=f?j+"%":void 0,t.WebkitTransform=A,t.msTransform=A,t.transform=A,t)}):null),hv()("div",{className:c,style:{WebkitTransform:O,msTransform:O,transform:O}},void 0,hv()(RS,{className:l,role:"slider","aria-labelledby":u,"aria-valuemin":p,"aria-valuemax":h,"aria-valuenow":d,onMouseDown:this.onMouseDown,onMouseMove:I&&this.onMouseMove,onTouchStart:this.onTouchStart})))},t}(Xf.a.Component);jW.defaultProps={className:xW.a.slider,trackClassName:xW.a.track,fillClassName:xW.a.fill,secondaryFillClassName:xW.a.secondaryFill,thumbClassName:xW.a.thumb,thumbTrackClassName:xW.a.thumbTrack,min:0,max:100,stepSize:0,stickiness:10,showFill:!1,showSecondaryFill:!1,autoHideThumb:!1,isDisabled:!1,isDragging:!1,isVertical:!1};var AW=jW,NW=n(469),kW=n.n(NW),LW=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onChange=function(e){var n=e.steppedValue,r=String(t.props.stepSize).split(".")[1],i=null!=r?parseFloat(n.toFixed(r.length)):n;t.props.onChange(i)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.name,n=e.value,r=e.min,i=e.max,a=e.stepSize,o=e.labelText,s=e.showErrors,l=e.errors,c=e.valueModifier;return hv()(MV,{},void 0,hv()(ZQ,{showErrors:s,errors:l,name:t,labelText:o}),hv()("div",{className:kW.a.sliderContainer},void 0,hv()(AW,{className:kW.a.slider,value:n,min:r,max:i,stepSize:a,onChange:this.onChange}),hv()("div",{className:kW.a.sliderValue},void 0,c(n))))},t}(Xf.a.Component);LW.defaultProps={valueModifier:function(e){return e}};var RW=$Q(LW);function _W(e){return e+""}var UW=Xf.a.createElement;function zW(e){return void 0===e&&(e=[]),e.map(function(e){var t,n=e.label;return(t={})[e.value]=n,t})}var FW={playbackSpeed:_W};function BW(e){var t=e.id,n=e.type,r=e.label,i=e.summary,a=e.value,o=e.initialValueModifier,s=e.enumValues,l=e.min,c=e.max,u=e.step,d={name:t,helpText:i,initialValue:o(a)};if(Array.isArray(s))return UW(tW,dv()({labelText:r},d,{values:zW(s)}));switch(n){case PW.b.TEXT:return UW(wW,dv()({labelText:r},d));case PW.b.BOOL:return UW(uW,dv()({checkboxText:r},d));case PW.b.INT:return UW(CW,dv()({labelText:r},d));case PW.b.DOUBLE:return UW(RW,dv()({labelText:r,min:l,max:c,stepSize:u,valueModifier:FW[t]},d));default:return null}}BW.defaultProps={initialValueModifier:function(e){return e}};var HW=BW,VW=Xf.a.createElement;var QW=function(e){var t=e.className,n=e.prefs;return hv()("div",{className:t},void 0,n.map(function(e){var t=e.id,n=e.value,r=e.enumValues,i=e.label,a=Array.isArray(r)?[{label:Object(Xn.default)("Select {label}",{label:i}),value:""}].concat(r):void 0;return VW(HW,dv()({key:t},e,{value:null==n?"":n,enumValues:a}))}))},WW=n(865),GW=n.n(WW),YW=n(866),KW=n.n(YW),qW=n(867),ZW=n.n(qW),XW=n(868),JW=n.n(XW),$W=n(869),eG=n.n($W),tG=n(870),nG=n.n(tG);function rG(e){var t=e.className,n=e.width,r=e.height,i=e.signalStrength;if(null==i)return null;var a=function(e){return e<=20?GW.a:e<=40?KW.a:e<=60?ZW.a:e<=80?JW.a:e<=100?eG.a:void 0}(i);return hv()("div",{className:t},void 0,hv()("img",{src:a,width:n,height:r}))}rG.defaultProps={className:nG.a.signalStrength,width:23,height:18};var iG=rG,aG=n(470),oG=n.n(aG);var sG=function(e){var t=e.identifier,n=e.name,r=e.signalStrength,i=e.signalQuality;return hv()("div",{className:oG.a.channel},void 0,hv()("div",{className:oG.a.channelIdentifier},void 0,t),hv()(iG,{className:oG.a.signalStrength,signalStrength:i||r}),hv()("div",{},void 0,n))},lG=n(83),cG=n.n(lG),uG=Xf.a.createElement;var dG=function(e){var t=e.selectedDevice,n=e.channelCount,r=e.isChannelsPending,i=e.channelScanActivity,a=e.scanPrefs,o=e.scanNetworks,s=e.hasScannedChannels;return i?hv()("div",{className:cG.a.container},void 0,hv()(UQ,{size:90,progress:i.progress}),hv()("div",{className:cG.a.message},void 0,Object(Xn.default)("Scanning channels"))):a.length?hv()(QW,{className:cG.a.settings,prefs:a}):o.length?hv()(nW,{className:cG.a.settings,networks:o}):r?hv()("div",{className:cG.a.container},void 0,hv()("div",{className:cG.a.message},void 0,Object(Xn.default)("Loading channels"))):n?hv()("div",{},void 0,t.channels.map(function(e){return uG(sG,dv()({key:e.identifier},e))})):s?hv()("div",{className:cG.a.container},void 0,hv()("div",{className:cG.a.noChannelsIconContainer},void 0,hv()("div",{className:cG.a.noChannelsIconBackground},void 0,hv()(FR,{className:cG.a.noChannelsIcon}))),hv()("div",{className:cG.a.message},void 0,Object(Xn.default)("No channels found. Make sure your device has a signal from your antenna and try scanning again."))):hv()("div",{className:cG.a.container},void 0,hv()("div",{className:cG.a.clockContainer},void 0,hv()("div",{className:cG.a.clockBackground}),hv()(FQ,{className:cG.a.clockTime}),hv()(QQ,{className:cG.a.clock}),hv()(HQ,{className:cG.a.clockTime})),hv()("div",{className:cG.a.message},void 0,Object(Xn.default)("Awaiting channel scan")))},pG=n(871),hG=n.n(pG);var fG=function(e){var t=function(e){var t=e.channelCount,n=e.hasSignalStrength,r=e.isChannelsPending,i=e.channelScanActivity,a=e.hasScanPrefs,o=e.hasScanNetworks;return i?Object(Xn.default)("Scanning for channels... This may take some time."):a?Object(Xn.default)("We need some more information before proceeding with the channel scan."):o?Object(Xn.default)("Please select a network before proceeding with the channel scan."):r?Object(Xn.default)("Fetching device channels"):t?n?Object(Xn.default)("We found {channelCount} channels. If these don't look right, you can scan again. Signal strength is stored at the time of scanning.",{channelCount:t}):Object(Xn.default)("We found {channelCount} channels. If these don't look right, you can scan again.",{channelCount:t}):Object(Xn.default)("Make sure your device is connected to your antenna or cable and click Scan Channels.")}(e);return hv()("div",{className:hG.a.message},void 0,t)},gG=n(146),vG=n.n(gG),mG=Xf.a.createElement,yG=Xf.a.Component,bG=hv()(qV,{}),SG=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onScanDeviceChannelsPress=function(e){var n=t.props.scanPrefs.length?{prefs:e}:e;t.props.onScanDeviceChannels(n)},t.onDeviceSourceSelect=function(e){t.props.onDeviceSourceSelect(e),t.clearExistingScanPrefs()},t.onCountrySelect=function(e){t.props.onCountrySelect(e),t.clearExistingScanPrefs()},t}Sy()(t,e);var n=t.prototype;return n.clearExistingScanPrefs=function(){var e=this.props,t=e.selectedDevice,n=e.scanPrefs,r=e.scanNetworks,i=e.onScanDeviceChannels,a=e.onClearDeviceScanPrefs;n.length?(a(),i(t.deviceID)):r.length&&a()},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.dvrID,r=e.selectedDevice,i=e.setupErrorMessage,s=e.isChannelsPending,l=e.sourceOptions,c=e.channelScanActivity,u=e.isCancellingChannelScan,d=e.selectedCountryCode,p=e.countryOptions,h=e.countriesPopulated,f=e.scanPrefs,g=e.scanNetworks,v=e.hasScannedChannels,m=e.onCancelScanDeviceChannels,y=e.onModalClose,b=r.selectedSource||r.sources[0],S=c?parseInt(c.Response.channels,10):r.channels.length,I=!(!S||c||s),C=!!f.length,M=!!g.length,D=[{"":Object(Xn.default)("Select Country")}].concat(p),w=r.channels.some(function(e){return null!=e.signalQuality||null!=e.signalStrengh}),P=!(r&&r.channels.length&&!c&&d);return hv()(BV,{errorMessage:i,onModalClose:y},void 0,hv()(CN,{className:vG.a.deviceInfoBody,scrollDirection:o.NONE},void 0,hv()(x_,{className:vG.a.deviceInfoForm,onSubmit:this.onScanDeviceChannelsPress},void 0,hv()("div",{className:vG.a.channelInfo},void 0,hv()(fG,{channelCount:S,hasSignalStrength:w,isChannelsPending:s,channelScanActivity:c,hasScanPrefs:C,hasScanNetworks:M}),hv()("div",{},void 0,hv()(_V,{type:c?"button":"submit",kind:c||S||s?a.DEFAULT:a.PRIMARY,size:qp.MEDIUM,isSpinning:u,isDisabled:!d||u,onPress:c?m:null},void 0,c?Object(Xn.default)("Stop scanning"):Object(Xn.default)("Scan channels")))),hv()("div",{className:vG.a.channelDetails},void 0,hv()(oT,{className:vG.a.deviceDetails},void 0,mG(wQ,dv()({serverEntityID:t,deviceID:r.key,channelCount:S,includeChannelCount:!0},r)),hv()(MV,{},void 0,hv()(EV,{className:vG.a.channelScanSourceSelect,name:"deviceSource",value:b,values:l,isDisabled:!!c,onChange:this.onDeviceSourceSelect})),h?hv()(MV,{className:vG.a.countryInputGroup},void 0,hv()(k_,{},void 0,Object(Xn.default)("Country")),hv()(EV,{name:"countrySelect",value:d,values:D,isDisabled:!!c,onChange:this.onCountrySelect})):null),hv()("div",{className:vG.a.deviceChannelsContainer},void 0,hv()(oT,{className:I?vG.a.deviceChannels:vG.a.deviceChannelsInfo,autoScroll:!0},void 0,hv()(dG,{selectedDevice:r,channelCount:S,isChannelsPending:s,channelScanActivity:c,scanPrefs:f,scanNetworks:g,hasScannedChannels:v})))))),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:y},void 0,Object(Xn.default)("Cancel"))),hv()(q_,{},void 0,bG,hv()(YV,{dvrID:n,isDisabled:P}))))},t}(yG);SG.defaultProps={scanPrefs:[],scanNetworks:[]};var IG=SG,CG=Xf.a.createElement;var MG=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCancelScanDeviceChannels=function(){r.setState({isCancellingChannelScan:!0}),r.props.dispatchCancelScanDeviceChannels(r.props.selectedDevice.key)},r.state={isCancellingChannelScan:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!0})},n.componentDidMount=function(){var e=this,t=this.props.selectedDevice,n=t.source>-1?t.source.toString():t.sources[0];Object(No.a)(function(){e.props.dispatchFetchDeviceDetails(),e.props.dispatchFetchDeviceChannels(),e.props.dispatchFetchEPGCountries(),e.props.onDeviceSourceSelect(n),e.props.onClearDeviceScanPrefs()})},n.componentWillReceiveProps=function(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})},n.componentDidUpdate=function(e,t){var n=this;this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(No.a)(function(){n.props.dispatchFetchDeviceChannels()})},n.componentWillUnmount=function(){this.props.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels(this.props.selectedDevice.key)},n.render=function(){var e=this.props,t=(e.dispatchFetchDeviceDetails,e.dispatchFetchDeviceChannels,e.dispatchFetchEPGCountries,e.dispatchCancelScanDeviceChannels,wt()(e,["dispatchFetchDeviceDetails","dispatchFetchDeviceChannels","dispatchFetchEPGCountries","dispatchCancelScanDeviceChannels"]));return CG(IG,dv()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t))},t}(Xf.a.Component),DG=Lm(function(){return Object(Iy.createSelector)(sV,yV,mV(),function(e,t,n){var r=e.selectedDevice,i=r.sources.reduce(function(e,t){var n,r;switch(t){case"0":e.push(((n={})[t]=Object(Xn.default)("Antenna"),n));break;case"1":e.push(((r={})[t]=Object(Xn.default)("Cable"),r))}return e},[]),a=e.scanPrefs,o=e.scanNetworks,s=e.hasScannedChannels,l=e.epgSettings,c=l.selectedCountry,u=l.countries,d=u.length>0,p=c?c.code:"",h=u.reduce(function(e,t){var n;return e.push(((n={})[t.code]=t.title,n)),e},[]);return{selectedDevice:r,setupErrorMessage:t,isChannelsPending:r.isChannelsPending,sourceOptions:i,countriesPopulated:d,selectedCountryCode:p,countryOptions:h,scanPrefs:a,scanNetworks:o,hasScannedChannels:s,channelScanActivity:n}})},function(e,t){var n=t.serverEntityID;return{dispatchFetchDeviceDetails:function(){e(wO({serverEntityID:n}))},dispatchFetchDeviceChannels:function(){e(PO({serverEntityID:n}))},dispatchFetchEPGCountries:function(){e(cV({serverEntityID:n}))},dispatchCancelScanDeviceChannels:function(t){e(EO({serverEntityID:n,deviceID:t}))},onDeviceSourceSelect:function(t){e(DO({serverEntityID:n,source:t}))},onScanDeviceChannels:function(t){void 0===t&&(t={}),e(TO(Object.assign({serverEntityID:n},t)))},onCountrySelect:function(t){e(dV({serverEntityID:n,countryCode:t}))},onClearDeviceScanPrefs:function(){e(BO({serverEntityID:n}))}}})(MG),wG=n(189),PG=n.n(wG),TG=Xf.a.createElement,EG=Xf.a.Component,xG=hv()(ZE.a,{}),OG=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onShowDeviceAddressPress=function(){r.setState({showManualAddress:!r.state.showManualAddress})},r.onDeviceAddressChange=function(e){r.setState({manualDeviceAddress:e})},r.onAddDevicePress=function(){r.props.onAddDevice(r.state.manualDeviceAddress)},r.state={showManualAddress:!1,manualDeviceAddress:""},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.selectedDevice,r=e.setupErrorMessage,s=e.addDevicePending,l=e.devices,c=e.onSelectDevice,u=e.onModalClose,d=this.state,p=d.showManualAddress,h=d.manualDeviceAddress,f=l.length>0;return hv()(BV,{errorMessage:r,onModalClose:u},void 0,hv()(CN,{},void 0,f?hv()("div",{},void 0,Object(Xn.default)("We found hardware we recognize!")):null,f?null:hv()("div",{},void 0,Object(Xn.default)("Looking for compatible devices...")),hv()("div",{className:PG.a.manualDeviceButtonContainer},void 0,hv()(AI,{kind:a.PRIMARY,direction:p?i.UP:i.DOWN,isSelected:!1,onPress:this.onShowDeviceAddressPress},void 0,Object(Xn.default)("Don't see your HDHomeRun device? Enter its network address manually"))),hv()("div",{className:PG.a.manualDeviceContainer},void 0,p?hv()("div",{},void 0,hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("HDHomeRun Device Address")),hv()(gW,{type:"text",name:"manualDeviceInput",className:PG.a.manualDeviceInput,value:this.state.manualDeviceAddress,placeholder:Object(Xn.default)("IP address or hostname"),onChange:this.onDeviceAddressChange}),hv()(_V,{className:PG.a.addDeviceButton,kind:a.PRIMARY,size:qp.LARGE,isDisabled:!h,isSpinning:s,onPress:this.onAddDevicePress},void 0,Object(Xn.default)("Connect")))):null),f?null:hv()("div",{className:PG.a.spinnerContainer},void 0,xG),f?hv()("div",{},void 0,hv()("div",{className:PG.a.deviceCount},void 0,1===l.length?Object(Xn.default)("1 device found"):Object(Xn.default)("{deviceCount} devices found",{deviceCount:l.length})),hv()(oT,{className:PG.a.devices,scrollDirection:o.HORIZONTAL},void 0,l.map(function(e){var r=n&&n.key===e.key;return TG(wQ,dv()({key:e.key,className:PG.a.device,serverEntityID:t,deviceID:e.key,isSelectable:!0,isSelected:r,includeUri:!0,onSelectDevice:c},e))}))):null),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:u},void 0,Object(Xn.default)("Cancel"))),hv()(q_,{},void 0,hv()(YV,{isDisabled:!n}))))},t}(EG),jG=Xf.a.createElement,AG=Xf.a.Component,NG=Object(Iy.createSelector)(function(e){return e.ui.dvrSettingsUI.dvrSetup.devices},function(e){return C.a.filter(e,function(e){return!e.parentID&&e.status===Fx})});var kG=function(e){function t(t){var n;return(n=e.call(this,t)||this)._discoverDevices=function(){n.props.dispatchDiscoverDevices()},n._discoverTimeoutID=null,n.discoverDelay=2e3,n}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(No.a)(function(){e.props.dispatchFetchDevices()}),this._discoverTimeoutID=setTimeout(this._discoverDevices,this.discoverDelay)},n.componentDidUpdate=function(e){!this.props.isDiscoveringDevices&&e.isDiscoveringDevices&&(this._discoverTimeoutID=setTimeout(this._discoverDevices,this.discoverDelay))},n.componentWillUnmount=function(){this._discoverTimeoutID&&clearTimeout(this._discoverTimeoutID)},n.render=function(){var e=this.props,t=(e.dispatchDiscoverDevices,e.dispatchFetchDevices,wt()(e,["dispatchDiscoverDevices","dispatchFetchDevices"]));return jG(OG,t)},t}(AG),LG=Lm(function(){return Object(Iy.createSelector)(sV,yV,NG,function(e,t,n){return{isDiscoveringDevices:e.isDiscoveringDevices,selectedDevice:e.selectedDevice,setupErrorMessage:t,addDevicePending:e.addDevicePending,devices:n}})},function(e,t){var n=t.serverEntityID;return{dispatchDiscoverDevices:function(){e(IO({serverEntityID:n}))},dispatchFetchDevices:function(){e(SO({serverEntityID:n}))},onAddDevice:function(t){e(CO({serverEntityID:n,uri:t}))},onSelectDevice:function(t){e(MO({serverEntityID:n,deviceID:t}))}}})(kG),RG=n(311),_G=n.n(RG),UG=parseInt(yQ.a.dvrSetupImageWidth,10),zG=100;var FG=function(e){var t=e.serverEntityID,n=e.dvrID,r=e.make,i=e.model,s=e.thumb,l=e.onModalClose;return hv()(BV,{title:Object(Xn.default)("Unsupported Tuner"),onModalClose:l},void 0,hv()(CN,{className:_G.a.unsupportedDeviceBody,scrollDirection:o.NONE},void 0,hv()("div",{className:_G.a.imageContainer},void 0,hv()(gQ,{serverEntityID:t,make:r,model:i,thumb:s,width:UG,height:zG}),hv()("div",{className:_G.a.makeModelContainer},void 0,hv()("div",{},void 0,r),hv()("div",{},void 0,i))),hv()("div",{className:_G.a.info},void 0,Object(Xn.default)("Community Supported Tuners opens up your Plex account to access a larger variety of DVR tuners, many of which have been tested and are supported by the community. If your tuner hasn't been recognized by Plex DVR and you're up for a little adventure, this will allow you to use unsupported tuners that have not been tested by Plex.")),hv()("div",{className:_G.a.info},void 0,hv()(AB,{message:Object(Xn.default)("We recommend you review our {openLink}Community Supported Tuners{closeLink} article to learn about limitations, compatibility, and how to get involved."),tags:[{open:"openLink",close:"closeLink",component:RS,kind:a.PRIMARY,to:CB,target:"_blank"}]}))),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:l},void 0,Object(Xn.default)("Cancel"))),hv()(q_,{},void 0,hv()(YV,{dvrID:n,label:Object(Xn.default)("Enable Unsupported Tuner")}))))};var BG=Lm(function(){return Object(Iy.createSelector)(sV,function(e){var t=e.selectedDevice;return{make:t.make,model:t.model,thumb:t.thumb}})})(FG);function HG(){return Object(Iy.createSelector)(Dy(),function(e){return e?e.providers:void 0})}var VG=function(){return Object(Iy.createSelector)(function(e,t){return t.dvrID},vV(),sV,function(e,t,n){return e?C.a.find(t,function(t){return t.type===jx&&parseInt(t.Context.dvrID,10)===e}):C.a.find(t,{uuid:n.epgDownloadActivityID})})},QG=n(471),WG=n.n(QG);function GG(e){var t,n=e.server,r=e.provider,i=e.sourceDirectory,o=e.setupErrorMessage,s=e.epgDownloadActivityID,l=e.progress,c=e.message,u=e.onModalClose;return r&&(t=gr(pr.GUIDE,n,r,i)),hv()(BV,{errorMessage:o,onModalClose:u},void 0,hv()(CN,{},void 0,hv()("div",{className:WG.a.message},void 0,hv()("div",{},void 0,Object(Xn.default)("Setup complete!")),hv()("div",{},void 0,Object(Xn.default)("You can now find your Guide and Recordings in the sidebar under \"Live TV & DVR\". While we're grabbing the guide data, you can start browsing; it will update automatically as we download what's on."))),s?hv()("div",{},void 0,hv()("div",{className:WG.a.spinnerContainer},void 0,hv()(UQ,{size:90,progress:l}),hv()("div",{className:WG.a.spinnerMessage},void 0,c))):null),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:u},void 0,Object(Xn.default)("Close")),hv()(I_,{kind:a.PRIMARY,size:qp.MEDIUM,to:t,isDisabled:!r},void 0,Object(Xn.default)("View Guide")))))}GG.defaultProps={progress:0,message:""};var YG=GG,KG=Xf.a.createElement;var qG=Lm(function(){return Object(Iy.createSelector)(sV,yV,Dy(),Object(Iy.createSelector)(HG(),sV,ek,function(e,t,n){var r=t.selectedDVR;if(r&&e){for(var i=0;i<e.length;i++){var a=n[e[i]];if(a.identifier===r.epgIdentifier)return a}return null}}),VG(),function(e,t,n,r,i){var a=i||{},o=a.progress,s=a.subtitle,l=ir(r);return{server:n,provider:r,sourceDirectory:l&&l.directories&&l.directories.find(function(e){return e.hubKey&&!e.key}),setupErrorMessage:t,epgDownloadActivityID:e.epgDownloadActivityID,progress:o,message:s}})})(function(e){return KG(YG,e)}),ZG=n(596),XG=n.n(ZG);function JG(e){var t=e.setupErrorMessage,n=e.progress,r=e.onModalClose;return hv()(BV,{errorMessage:t,onModalClose:r},void 0,hv()(CN,{},void 0,hv()("div",{className:XG.a.message},void 0,hv()("div",{},void 0,Object(Xn.default)("We're finding the best guide for your channels and location.")),hv()("div",{},void 0,Object(Xn.default)("This should only take a few moments."))),hv()("div",{className:XG.a.spinnerContainer},void 0,hv()(UQ,{size:90,progress:n}))),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:r},void 0,Object(Xn.default)("Cancel")))))}JG.defaultProps={progress:0};var $G=JG,eY=Xf.a.createElement;var tY={findBestEPGLineup:xO},nY=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate(this.props)},n._populate=function(e){Object(No.a)(function(){e.findBestEPGLineup({serverEntityID:e.serverEntityID})})},n.render=function(){return eY($G,this.props)},t}(Xf.a.Component),rY=Lm(function(){return Object(Iy.createSelector)(sV,yV,vV(),function(e,t,n){return{setupErrorMessage:t,progress:(C.a.find(n,{uuid:e.epgLineupActivityID})||{}).progress}})},tY)(nY);var iY=Xf.a.createElement,aY=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPostalCodeChange=function(e){r.setState({postalCode:e},function(){r.props.onPostalCodeChange(e)})},r.state={postalCode:""},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.state.postalCode!==e.postalCode&&this.setState({postalCode:e.postalCode})},n.focusInput=function(e){e&&Bv.a.findDOMNode(e).focus()},n.render=function(){var e=this.props.postalCodeExample,t=this.state.postalCode;return iY(gW,{name:"postalCodeInput",placeholder:"e.g. "+e,value:t,ref:this.focusInput,onChange:this.onPostalCodeChange})},t}(Xf.a.Component),oY=Xf.a.createElement;var sY=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._fetchEPGLineups=function(){r.props.fetchEPGLineups({serverEntityID:r.props.serverEntityID})},r.onPostalCodeChange=function(e){r._postalCodeTimeoutID&&clearTimeout(r._postalCodeTimeoutID),Object(No.a)(function(){r.props.setEPGPostalCode({serverEntityID:r.props.serverEntityID,postalCode:e}),""!==e.trim()&&(r._postalCodeTimeoutID=setTimeout(r._fetchEPGLineups,200))})},r._postalCodeTimeoutID=null,r}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this._postalCodeTimeoutID&&clearTimeout(this._postalCodeTimeoutID)},n.render=function(){return oY(aY,dv()({onPostalCodeChange:this.onPostalCodeChange},this.props))},t}(Xf.a.Component),lY=Lm(function(e){return{postalCode:e.ui.dvrSettingsUI.dvrSetup.epgSettings.postalCode}},u)(sY),cY=n(312),uY=n.n(cY),dY=Xf.a.Component,pY=hv()(qV,{}),hY=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onShowXMLTVEntryPress=function(){r.setState({showXMLTVEntry:!r.state.showXMLTVEntry})},r.onLanguageSelect=function(e){r.props.onLanguageSelect(e)},r.onRegionSelect=function(e){r.props.onRegionSelect(e)},r.onXMLTVPathChange=function(e){r.setState({xmlTVPath:e},function(){r.props.onXMLTVProgramGuideChange(e,r.state.programGuideTitle)})},r.onProgramGuideTitleChange=function(e){r.setState({programGuideTitle:e},function(){r.props.onXMLTVProgramGuideChange(r.state.xmlTVPath,e)})},r.state={showXMLTVEntry:!1,xmlTVPath:"",programGuideTitle:Object(Xn.default)("My Guide")},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.platform,r=e.setupErrorMessage,i=e.isFetching,o=e.selectedLanguageCode,s=e.selectedRegionCode,l=e.languageOptions,c=e.regionOptions,u=e.languagesPopulated,d=e.regionsPopulated,p=e.canContinue,h=e.postalCodeExample,f=e.onSubmit,g=e.onModalClose,v=this.state,m=v.showXMLTVEntry,y=v.xmlTVPath,b=v.programGuideTitle,S=u,I=!(!u||!h),C=!(!u||!d),M=[{"":Object(Xn.default)("Select Language")}].concat(l),D=[{"":Object(Xn.default)("Select Region")}].concat(c),w="Windows"===n?"C:\\path\\to\\your\\xmltv_file.xml":"/path/to/your/xmltv_file.xml";return hv()(x_,{className:uY.a.form,onSubmit:f},void 0,hv()(BV,{errorMessage:r,onModalClose:g},void 0,hv()(CN,{},void 0,hv()("div",{className:uY.a.message},void 0,hv()("div",{},void 0,Object(Xn.default)("To download an electronic guide we need to know your location.")),hv()(RS,{kind:a.PRIMARY,onPress:this.onShowXMLTVEntryPress},void 0,m?Object(Xn.default)("Don't use XMLTV? Click here to select your location instead."):Object(Xn.default)("Have an XMLTV guide on your server? Click here to use that instead."))),m?hv()("div",{},void 0,u?hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Language")),hv()(EV,{name:"languageSelect",values:M,value:o,onChange:this.onLanguageSelect})):null,hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("XMLTV Guide")),hv()(gW,{name:"xmltvPath",placeholder:w,value:y,onChange:this.onXMLTVPathChange})),hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Guide Title")),hv()(gW,{name:"programGuideTitle",value:b,onChange:this.onProgramGuideTitleChange}))):null,m?null:hv()("div",{},void 0,S?hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Language")),hv()(EV,{name:"languageSelect",values:M,value:o,onChange:this.onLanguageSelect})):null,I?hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Postal Code")),hv()(lY,{serverEntityID:t,postalCodeExample:h}),i?hv()(ZE.a,{className:uY.a.fetchingSpinner}):null):null,C?hv()(MV,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Region")),hv()(EV,{className:uY.a.regionInput,name:"regionSelect",values:D,value:s,onChange:this.onRegionSelect}),i?hv()(ZE.a,{className:uY.a.fetchingSpinner}):null):null)),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:g},void 0,Object(Xn.default)("Cancel"))),hv()(q_,{},void 0,pY,hv()(I_,{type:"submit",kind:a.PRIMARY,size:qp.MEDIUM,isDisabled:!p||i},void 0,Object(Xn.default)("Continue"))))))},t}(dY),fY=Xf.a.createElement,gY=Xf.a.Component;var vY=Object.assign({dvrSetupNextStep:yO,selectEPGLineup:OO},u),mY=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLanguageSelect=function(e){t.props.selectEPGLanguage({serverEntityID:t.props.serverEntityID,languageCode:e})},t.onRegionSelect=function(e){t.props.selectEPGRegion({serverEntityID:t.props.serverEntityID,regionKey:e})},t.onSubmit=function(){t.props.dvrSetupNextStep()},t.onXMLTVProgramGuideChange=function(e,n){if(e&&n){var r="lineup://tv.plex.providers.epg.xmltv/"+function(e){return/^[a-z]:\\|\\\\/i.test(e)&&(e=e.replace(/\\/g,"/")),/^(\/|[a-z]:\/)/i.test(e)&&(e=e.replace(/\/(.+?)(?=\/|$)/g,function(e,t){return"/"+encodeURIComponent(t)})),"/"===e.charAt(0)&&(e=e.substring(1)),/^[a-z]+?:\/\//i.test(e)&&(e=encodeURIComponent(e)),e}(e)+"#"+encodeURIComponent(n);t.props.selectEPGLineup({lineupUUID:r})}else t.props.selectEPGLineup({lineupUUID:null})},t}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate(this.props)},n._populate=function(e){Object(No.a)(function(){var t=e.serverEntityID;e.fetchEPGLanguages({serverEntityID:t}),e.selectEPGLineup({lineupUUID:null})})},n.render=function(){return fY(hY,dv()({onLanguageSelect:this.onLanguageSelect,onRegionSelect:this.onRegionSelect,onPostalCodeChange:this.onPostalCodeChange,onXMLTVProgramGuideChange:this.onXMLTVProgramGuideChange,onSubmit:this.onSubmit},this.props))},t}(gY),yY=Lm(function(){return Object(Iy.createSelector)(Dy(),sV,yV,function(e,t,n){var r=t.selectedLineupUUID,i=t.epgSettings,a=i.isFetching,o=i.selectedCountry,s=i.selectedLanguage,l=i.selectedRegion,c=i.languages,u=i.regions,d=i.lineupGroup,p=o&&1===o.flavor?o.example:null,h=s?s.code:"",f=l?l.key:"",g=c.length>0,v=u.length>0,m=c.reduce(function(e,t){var n;return e.push(((n={})[t.code]=t.title,n)),e},[]),y=u.reduce(function(e,t){var n;return e.push(((n={})[t.key]=t.title,n)),e},[]);return{platform:e.platform,setupErrorMessage:n,selectedLineupUUID:r,selectedLanguageCode:h,selectedRegionCode:f,languagesPopulated:g,regionsPopulated:v,languageOptions:m,regionOptions:y,isFetching:a,postalCodeExample:p,canContinue:!(!d.lineups.length&&!r||!h)}})},vY)(mY);var bY=function(){return Object(Iy.createSelector)(function(e){return e.ui.dvrSettingsUI},function(e,t){return t.dvrID},function(e,t){var n=e.dvrs;return C.a.find(n,{key:t})})};var SY=function(){return Object(Iy.createSelector)(function(e,t){return t.deviceID},bY(),function(e,t){if(t)return C.a.find(t.devices,{key:e})})};function IY(){return KS(Object(Iy.createSelector)(sV,SY(),function(e,t){var n=t?t.channels:e.selectedDevice.channels,r=t?t.channelMappings:e.channelMappings,i=e.lineupChannels,a=C.a.pluck(n,"key"),o=C.a.pluck(r,"deviceIdentifier"),s=a.concat(o);return C.a.uniq(s).map(function(e){var t=C.a.find(n,{key:e}),a=C.a.findWhere(r,{deviceIdentifier:e}),o=a&&a.lineupIdentifier?a.lineupIdentifier:"",s=o&&C.a.find(i,{identifier:o}),l=t||{},c=l.name,u=void 0===c?"":c,d=l.identifier,p=void 0===d?"":d,h=l.drm,f=void 0!==h&&h,g=l.signalStrength,v=l.signalQuality,m=l.hd,y=void 0!==m&&m;return{key:e,name:u,deviceIdentifier:p,enabled:!(!t||f||!a||!a.enabled),drm:f,isChannelMissing:!t,lineupIdentifier:a&&a.lineupIdentifier?a.lineupIdentifier:"",signalStrength:g,signalQuality:v,isDeviceChannelHD:y,isLineupChannelHD:!!s&&s.hd}}).sort(function(e,t){return Rx(e.deviceIdentifier,t.deviceIdentifier)})}),function(e){return e})}var CY=Object(Iy.createSelector)(sV,function(e){return e.lineupChannels.reduce(function(e,t){var n=t.identifier+" "+t.callSign;return t.title&&(n+=" ("+t.title+")"),e[t.identifier]=n,e},{})}),MY=KS(CY,function(e){return e}),DY=n(472),wY=n.n(DY);function PY(e){var t=e.className,n=e.children,r=e.kind;return hv()("span",{className:(t||"")+" "+(wY.a.badge||"")+" "+(wY.a[r]||"")+" "+(!n&&wY.a.isHidden||""),"data-qa-id":"badgeElement"},void 0,n)}PY.defaultProps={kind:Vp};var TY=PY,EY=n(872),xY=n.n(EY);var OY=function(){return hv()(TY,{className:xY.a.resolution},void 0,"HD")},jY=n(122),AY=n.n(jY),NY=Xf.a.Component;function kY(e){return Object.keys(e).sort(Rx).reduce(function(t,n){var r;return t.push(((r={})[n]=e[n],r)),t},[{"":Object(Xn.default)("Select Channel")}])}var LY=hv()(OY,{}),RY=$Q(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSelectPress=function(e){r.setState({showSelectOptions:!0})},r.onEnabledChange=function(e){r.setState({enabled:e},function(){r.props.onChange({enabled:e,lineupIdentifier:r.state.lineupIdentifier})})},r.onLineupChannelChange=function(e){r.setState({lineupIdentifier:e},function(){r.props.onChange({enabled:r.state.enabled,lineupIdentifier:e})})},r.state={enabled:t.initialValue.enabled,lineupIdentifier:t.initialValue.lineupIdentifier,showSelectOptions:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.state,n=t.enabled,r=t.lineupIdentifier,i=e.value,a=i.enabled,o=i.lineupIdentifier;n===a&&r===o||this.setState(this.props.value)},n.shouldComponentUpdate=function(e,t){return t.enabled!==this.state.enabled||(t.lineupIdentifier!==this.state.lineupIdentifier||(t.showSelectOptions!==this.state.showSelectOptions||(e.deviceIdentifier!==this.props.deviceIdentifier||(e.channelName!==this.props.channelName||(e.initialValue.enabled!==this.props.initialValue.enabled||(e.initialValue.lineupIdentifier!==this.props.initialValue.lineupIdentifier||(e.value.enabled!==this.props.value.enabled||(e.value.lineupIdentifier!==this.props.value.lineupIdentifier||e.lineupChannels!==this.props.lineupChannels))))))))},n.render=function(){var e,t=this.props,n=t.name,r=t.deviceIdentifier,i=t.channelName,a=t.drm,o=t.signalStrength,s=t.isDeviceChannelHD,l=t.isLineupChannelHD,c=t.isChannelMissing,u=t.showResolution,d=t.lineupChannels,p=this.state,h=p.enabled,f=p.lineupIdentifier;return c?null:hv()("div",{className:AY.a.channelMapping},void 0,hv()("div",{className:AY.a.deviceInfo},void 0,hv()("div",{className:AY.a.channelEnabled},void 0,a?null:hv()(sW,{name:n+"Check",value:h,onChange:this.onEnabledChange})),hv()("label",{className:(AY.a.deviceIdentifier||"")+" "+(!h&&AY.a.mappingDisabled||""),htmlFor:n+"Check"},void 0,r),hv()("div",{className:(AY.a.channelName||"")+" "+(!h&&AY.a.mappingDisabled||"")},void 0,i),hv()(iG,{className:AY.a.signalStrength,signalStrength:o})),a?hv()("div",{className:AY.a.drmChannel},void 0,hv()(TY,{className:AY.a.drmChannelBadge},void 0,Object(Xn.default)("Protected"))):hv()("div",{className:AY.a.epgChannel},void 0,hv()(EV,{name:n+"Select",value:f,values:this.state.showSelectOptions?kY(d):[(e={},e[f]=d[f],e)],size:qp.SMALL,isDisabled:!h,onMouseDown:this.onSelectPress,onTouchStart:this.onSelectPress,onChange:this.onLineupChannelChange}),u?hv()("div",{className:AY.a.resolutionContainer},void 0,s||l?LY:null):null))},t}(NY)),_Y=n(255),UY=n.n(_Y);var zY=function(e){var t=e.showSignalStrength,n=e.allChannelMappingsEnabled,r=e.allChannelMappingsDisabled,i=e.onAllChannelMappingsEnabledChange,a=null;return n?a=!0:r&&(a=!1),hv()("div",{className:UY.a.container},void 0,hv()("div",{className:UY.a.deviceChannelsContainer},void 0,hv()(sW,{name:"toggleAll",value:a,onChange:i}),hv()("div",{className:UY.a.deviceChannelsPadding}),hv()("div",{className:UY.a.deviceChannels},void 0,Object(Xn.default)("Device Channels")),t?hv()("div",{className:UY.a.signalStrength},void 0,Object(Xn.default)("Strength")):null),hv()("div",{className:UY.a.guideChannels},void 0,Object(Xn.default)("Guide Channels")))},FY=Xf.a.createElement,BY=Xf.a.Component;var HY=function(e){var t=function(t){function n(e,n){var r;return(r=t.call(this,e,n)||this).onFormStateChange=function(e){var t=!0,n=!0;Object.keys(e).forEach(function(r){e[r].value.enabled?n=!1:t=!1}),r.setState({formState:e,allChannelMappingsEnabled:t,allChannelMappingsDisabled:n})},r.onAllChannelMappingsEnabledChange=function(e){r.setState(function(t){var n={};return Object.keys(t.formState).forEach(function(r){var i=t.formState[r].value;i.enable===e?n[r]=t.formState[r]:n[r]=Object.assign({},t.formState[r],{value:{enabled:e,lineupIdentifier:i.lineupIdentifier}})}),{formState:n,allChannelMappingsEnabled:e,allChannelMappingsDisabled:!e}})},r.state={formState:{},allChannelMappingsEnabled:!1,allChannelMappingsDisabled:!1},r}return Sy()(n,t),n.prototype.render=function(){var t=this.state,n=t.allChannelMappingsEnabled,r=t.allChannelMappingsDisabled;return FY(e,dv()({formState:this.state.formState,allChannelMappingsEnabled:n,allChannelMappingsDisabled:r,onFormStateChange:this.onFormStateChange,onAllChannelMappingsEnabledChange:this.onAllChannelMappingsEnabledChange},this.props))},n}(BY);return t.displayName="DeviceChannelMappingsForm("+Object(vE.a)(e)+")",t.WrappedComponent=e,t},VY=n(167),QY=n.n(VY);var WY=HY(function(e){for(var t=e.dvrID,n=e.setupErrorMessage,r=e.selectedLineupUUID,i=e.availableLineups,s=e.lineupChannels,l=e.channelMappings,c=e.isChannelMappingsPending,u=e.isLineupChannelsPending,d=e.isSavingDVR,p=e.channelMappingsErrorMessage,h=e.formState,f=e.allChannelMappingsEnabled,g=e.allChannelMappingsDisabled,v=e.onAllChannelMappingsEnabledChange,m=e.onFormStateChange,y=e.onLineupSelect,b=e.onModalClose,S=e.onSubmit,I=c||u,C=!!i.length,M=[{"":Object(Xn.default)("Select Guide")}].concat(i),D=r?decodeURIComponent(r.match(/#(.+?)$/)[1]):void 0,w=!1,P=!1,T=0;T<l.length&&(!w||!P);T++){var E=l[T];null==E.signalQuality&&null==E.signalStrengh||(w=!0),(E.isDeviceChannelHD||E.isLineupChannelHD)&&(P=!0)}return hv()(x_,{className:QY.a.form,formState:h,onChange:m,onSubmit:S},void 0,hv()(BV,{errorMessage:n,onModalClose:b},void 0,p?hv()(CN,{className:QY.a.channelMappingsBody,scrollDirection:o.NONE},void 0,hv()("div",{className:QY.a.centeredContainer},void 0,p)):null,p?null:hv()(CN,{className:QY.a.channelMappingsBody,scrollDirection:o.NONE},void 0,C?hv()("div",{},void 0,hv()("div",{className:QY.a.programGuideLabel},void 0,Object(Xn.default)("Guide")),hv()("div",{className:QY.a.programGuideSelectContainer},void 0,hv()(EV,{name:"programGuide",values:M,value:r,onChange:y}))):null,C?null:hv()("div",{className:QY.a.programGuideTitle},void 0,D),I?hv()("div",{className:QY.a.centeredContainer},void 0,hv()(ZE.a,{label:Object(Xn.default)("Loading channel mappings")})):null,!I&&r?hv()(oT,{className:QY.a.scroller,autoScroll:!0},void 0,hv()(zY,{showSignalStrength:w,allChannelMappingsEnabled:f,allChannelMappingsDisabled:g,onAllChannelMappingsEnabledChange:v}),l.map(function(e){var t=e.key,n=e.deviceIdentifier,r=e.name,i=e.enabled,a=e.lineupIdentifier,o=e.drm,l=e.signalStrengh,c=e.signalQuality,u=e.isDeviceChannelHD,d=e.isLineupChannelHD,p=e.isChannelMissing;return hv()(RY,{name:t,initialValue:{enabled:i,lineupIdentifier:a},deviceIdentifier:n,channelName:r,drm:o,signalStrength:c||l,isDeviceChannelHD:u,isLineupChannelHD:d,isChannelMissing:p,showResolution:P,lineupChannels:s},t)})):null),hv()(WV,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:b},void 0,Object(Xn.default)("Cancel"))),hv()(q_,{},void 0,hv()(qV,{dvrID:t}),hv()(_V,{type:"submit",kind:a.PRIMARY,size:qp.MEDIUM,isSpinning:d},void 0,Object(Xn.default)("Continue"))))))}),GY=Xf.a.createElement,YY=Xf.a.Component;function KY(e,t){if(e){var n=mt.a.parseXML(e.responseText);if(n.message)return n.message}else{if(!t)return;var r=mt.a.parseXML(t.responseText);if(r.message)return r.message}return Object(Xn.default)("Unable to load channel mappings")}var qY={fetchLineupChannels:VO,fetchChannelMap:QO,selectEPGLineup:OO,clearChannelMapError:jO,saveDVR:kO,addDVRDevice:LO},ZY=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLineupSelect=function(e){var n=t.props,r=n.serverEntityID,i=n.selectedDevice;t.props.selectEPGLineup({serverEntityID:r,lineupUUID:e}),t.props.fetchLineupChannels({serverEntityID:r,lineupUUID:e}),t.props.fetchChannelMap({serverEntityID:r,deviceUUID:i.uuid,lineupUUID:e,forceEnabled:!0})},t.onAddDeviceSubmit=function(e){var n=t.props,r=n.serverEntityID,i=n.dvrID,a=n.selectedDevice;t.props.addDVRDevice({serverEntityID:r,dvrID:i,deviceID:a.key,data:e})},t.onSaveDVRSubmit=function(e){var n=t.props,r=n.serverEntityID,i=n.selectedDevice;t.props.saveDVR({serverEntityID:r,deviceID:i.key,data:e})},t}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate(this.props)},n.componentWillUnmount=function(){this.props.clearChannelMapError()},n._populate=function(e){var t=e.serverEntityID,n=e.selectedDevice.uuid,r=e.selectedLineupUUID;r&&Object(No.a)(function(){e.fetchLineupChannels({serverEntityID:t,lineupUUID:r}),e.fetchChannelMap({serverEntityID:t,deviceUUID:n,lineupUUID:r,forceEnabled:!0})})},n.render=function(){var e=this.props.dvrID;return GY(WY,dv()({onLineupSelect:this.onLineupSelect,onSubmit:e?this.onAddDeviceSubmit:this.onSaveDVRSubmit},this.props))},t}(YY),XY=Lm(function(){return Object(Iy.createSelector)(sV,yV,MY,IY(),function(e,t,n,r){var i=e.selectedDevice,a=e.selectedLineupUUID,o=e.isChannelMappingsPending,s=e.isLineupChannelsPending,l=e.channelMappingsError,c=e.lineupChannelsError,u=e.isSavingDVR;return{setupErrorMessage:t,selectedDevice:i,selectedLineupUUID:a,availableLineups:C.a.reduce(e.epgSettings.lineupGroup.lineups,function(e,t){var n;return e.push(((n={})[t.uuid]=t.title,n)),e},[]),lineupChannels:n,channelMappings:r,isChannelMappingsPending:o,isLineupChannelsPending:s,isSavingDVR:u,channelMappingsErrorMessage:KY(l,c)}})},qY)(ZY),JY=Xf.a.createElement;var $Y={clearDVRSetup:mO},eK=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.clearDVRSetup()},n.render=function(){var e=this.props,t=e.step,n=wt()(e,["step"]);switch(t){case cO:return JY(LG,n);case uO:return JY(BG,n);case dO:return JY(DG,n);case pO:return JY(yY,n);case hO:return JY(rY,n);case fO:return JY(XY,n);case gO:return JY(qG,n)}},t}(Xf.a.Component),tK=Lm(function(){return Object(Iy.createSelector)(sV,function(e){return{step:e.step}})},$Y)(eK),nK=n(873),rK=n.n(nK),iK=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onModalClose=function(){Object(J.c)("metrics").trackClick(Object.assign({},t.props.metricsProperties,{page:Ha,action:ia})),t.props.onModalClose()},t}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.dvrID,r=e.isOpen,i=e.metricsProperties;return hv()(VN,{className:rK.a.modal,isOpen:r,metricsPage:Ha,metricsProperties:i,preventCloseOnBackdropPress:!0,onModalClose:this.onModalClose},void 0,hv()(tK,{serverEntityID:t,dvrID:n,onModalClose:this.onModalClose}))},t}(Xf.a.Component),aK=Xf.a.Component,oK={context:An},sK=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCreateDVRPress=function(){r.setState({isDVRSetupModalOpen:!0})},r.onDVRSetupModalClose=function(){r.setState({isDVRSetupModalOpen:!1}),r.props.onModalClose&&r.props.onModalClose()},r.state={isDVRSetupModalOpen:t.isModalOpen},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.isDvrsPending,i=e.hasDVRs,a=e.hasDVRFeature,o=e.children,s=this.state.isDVRSetupModalOpen,l=!r&&!i;return hv()("div",{className:t},void 0,o?o({serverEntityID:n,hasDVRFeature:a,noDVRs:l,onOpen:this.onCreateDVRPress}):null,hv()(iK,{serverEntityID:n,metricsProperties:oK,isOpen:s,onModalClose:this.onDVRSetupModalClose}))},t}(aK);sK.defaultProps={isModalOpen:!1};var lK=sK,cK=Xf.a.createElement;var uK={dispatchInitDVRSettingsUI:JH,dispatchClearDVRSettingsUI:$H},dK=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(No.a)(function(){e.props.dispatchInitDVRSettingsUI({serverEntityID:e.props.serverEntityID})})},n.componentWillUnmount=function(){this.props.dispatchClearDVRSettingsUI()},n.render=function(){var e=this.props,t=(e.dispatchInitDVRSettingsUI,e.dispatchClearDVRSettingsUI,wt()(e,["dispatchInitDVRSettingsUI","dispatchClearDVRSettingsUI"]));return this.props.isUIPopulated?cK(lK,t):null},t}(Xf.a.Component),pK=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.dvrSettingsUI},Dy(),function(e,t){var n=e.isDvrsPending,r=e.dvrs;return{isUIPopulated:e.isUIPopulated,isDvrsPending:n,hasDVRs:!(!r||!r.length),hasDVRFeature:!!t.ownerFeatures&&t.ownerFeatures.indexOf("dvr")>-1}})},uK)(dK),hK=n(313),fK=n.n(hK),gK=Xf.a.createElement,vK=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCancel=function(){Object(J.c)("metrics").trackClick(Object.assign({},r.props.metricsProperties,{page:r.props.metricsPage,action:sa})),r.props.onCancel()},r.onAccordChange=function(e){r.setState({isAccordGiven:e.target.checked})},r.state={isAccordGiven:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.containerClassName,n=e.isCancelButtonDisabled,r=e.isConfirmButtonSpinning,i=e.isOpen,o=e.metricsPage,s=e.metricsProperties,l=e.kind,c=e.title,u=e.message,d=e.accordMessage,p=e.confirmLabel,h=e.cancelLabel,f=e.hideCancelButton,g=e.onConfirm,v=!!d,m=r||v&&!this.state.isAccordGiven;return hv()(VN,{containerClassName:t,size:qp.SMALL,isOpen:i,metricsPage:o,metricsProperties:s,onModalClose:this.onCancel},void 0,hv()(qN,{onModalClose:this.onCancel},void 0,hv()(PN,{},void 0,c),hv()(CN,{className:fK.a.confirmBody},void 0,u,v?hv()("label",{className:fK.a.accordLabel},void 0,hv()("input",{type:"checkbox",className:fK.a.accordInput,checked:this.state.isAccordGiven,onChange:this.onAccordChange}),d):null),hv()(Q_,{},void 0,hv()(q_,{},void 0,f?null:hv()(I_,{className:fK.a.cancelButton,kind:a.DEFAULT,isDisabled:n,onPress:this.onCancel},void 0,h||Object(Xn.default)("Cancel")),gK(vH,dv()({},s,{action:"confirm"}),hv()(_V,{className:fK.a.confirmButton,"data-autofocus":!0,kind:l,isDisabled:m,isSpinning:r,onPress:g},void 0,p||Object(Xn.default)("OK")))))))},t}(Xf.a.Component);vK.defaultProps={isConfirmButtonSpinning:!1,kind:a.PRIMARY};var mK=vK;function yK(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m320 320l0 200-80 0 0-200-200 0 0-80 200 0 0-200 80 0 0 200 200 0 0 80-200 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}yK.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var bK=yK;function SK(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reload-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 560c-1.807-.003-3.614-.017-5.421-.052-3.292-.062-6.584-.182-9.873-.359-9.731-.525-19.435-1.554-29.059-3.089-11.735-1.871-23.35-4.493-34.75-7.849-11.774-3.466-23.317-7.714-34.53-12.705-13.924-6.197-27.338-13.54-40.067-21.922-13.116-8.636-25.504-18.374-36.998-29.074-11.686-10.88-22.446-22.753-32.124-35.451-9.55-12.53-18.044-25.862-25.357-39.816-6.195-11.822-11.541-24.088-15.978-36.676-4.407-12.5-7.916-25.316-10.495-38.317-3.569-17.998-5.348-36.343-5.348-54.69 0-12.5.823-25 2.48-37.39 1.885-14.104 4.851-28.063 8.869-41.713 4.106-13.949 9.311-27.574 15.547-40.711 7.129-15.019 15.603-29.397 25.281-42.915 9.786-13.67 20.8-26.46 32.864-38.17 12.674-12.302 26.506-23.411 41.259-33.125 14.39-9.476 29.653-17.622 45.541-24.289 17.483-7.337 35.716-12.877 54.325-16.507 17.427-3.4 35.175-5.122 52.929-5.179 17.775-.056 35.554 1.556 53.023 4.85 18.646 3.516 36.926 8.946 54.466 16.181 15.934 6.572 31.253 14.628 45.705 24.02 14.578 9.474 28.271 20.305 40.854 32.302 1.622 1.546 3.224 3.111 4.808 4.695l82.049-82.049 0 220-220 0 81.382-81.382c-.709-.71-1.423-1.413-2.142-2.112-9.074-8.807-18.975-16.76-29.536-23.715-10.101-6.651-20.804-12.386-31.942-17.1-12.43-5.261-25.396-9.245-38.635-11.871-12.45-2.469-25.133-3.735-37.825-3.816-12.729-.08-25.466 1.027-37.984 3.347-13.29 2.463-26.324 6.29-38.836 11.406-11.386 4.656-22.336 10.374-32.671 17.047-10.456 6.75-20.28 14.475-29.313 23.036-8.883 8.419-17 17.646-24.213 27.534-6.997 9.59-13.143 19.801-18.331 30.479-4.523 9.309-8.318 18.972-11.333 28.873-2.889 9.484-5.061 19.185-6.498 28.995-1.42 9.691-2.123 19.485-2.123 29.279 0 13.333 1.307 26.665 3.942 39.736 1.824 9.049 4.281 17.969 7.35 26.674 3.163 8.971 6.973 17.713 11.389 26.139 5.226 9.973 11.299 19.501 18.124 28.456 6.932 9.096 14.639 17.599 23.009 25.392 7.933 7.385 16.461 14.131 25.477 20.146 8.881 5.924 18.236 11.138 27.949 15.569 7.946 3.624 16.131 6.723 24.485 9.267 8.087 2.463 16.331 4.405 24.666 5.815 6.853 1.159 13.767 1.958 20.704 2.398 2.353.149 4.708.257 7.065.325 1.296.037 2.592.059 3.889.074.65.005 1.301.008 1.951.009l.259 79.999-.259.001"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}SK.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var IK=SK;function CK(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m200 280c0 44.153 35.847 80 80 80 44.153 0 80-35.847 80-80 0-44.153-35.847-80-80-80-44.153 0-80 35.847-80 80m-115.992-40c5.189-25.52 15.244-49.281 29.153-70.271l-61.151-61.15 56.569-56.569 61.15 61.151c20.99-13.909 44.751-23.964 70.271-29.153l0-84.008 80 0 0 84.008c25.52 5.189 49.281 15.244 70.271 29.153l61.15-61.151 56.569 56.569-61.151 61.15c13.909 20.99 23.964 44.751 29.153 70.271l84.008 0 0 80-84.008 0c-5.189 25.52-15.244 49.282-29.153 70.271l61.151 61.15-56.569 56.569-61.15-61.151c-20.99 13.909-44.751 23.964-70.271 29.153l0 84.008-80 0 0-84.008c-25.52-5.189-49.281-15.244-70.271-29.153l-61.15 61.151-56.569-56.569 61.151-61.15c-13.909-20.989-23.964-44.751-29.153-70.271l-84.008 0 0-80 84.008 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}CK.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var MK=CK,DK=n(597),wK=n.n(DK),PK=Xf.a.createElement;var TK=function(e){var t=e.children,n=wt()(e,["children"]);return PK(qN,n,hv()(CN,{className:wK.a.modalScroller,innerClassName:wK.a.innerModalBody},void 0,t))},EK=n(473),xK=n.n(EK),OK=Xf.a.createElement;function jK(e){var t=e.iconClassName,n=e.messageClassName,r=e.kind,i=e.message,a=wt()(e,["iconClassName","messageClassName","kind","message"]);return OK(TK,a,hv()(FR,{className:(xK.a[r]||"")+" "+(t||"")}),hv()("div",{className:n},void 0,i))}jK.defaultProps={iconClassName:xK.a.icon,messageClassName:xK.a.message,kind:a.DEFAULT};var AK=jK,NK=n(474),kK=n.n(NK);var LK=function(e){var t=e.channelMappings,n=e.lineupChannels,r=e.showSignalStrength,i=e.channelScanActivity,a=e.scanPrefs,o=e.scanNetworks,s=e.allChannelMappingsEnabled,l=e.allChannelMappingsDisabled,c=e.onAllChannelMappingsEnabledChange,u=t.some(function(e){return e.isDeviceChannelHD||e.isLineupChannelHD});return i?hv()("div",{className:kK.a.progressContainer},void 0,hv()(UQ,{size:90,progress:i.progress})):a.length?hv()(oT,{className:kK.a.scroller,autoScroll:!0},void 0,hv()(QW,{prefs:a})):o.length?hv()(nW,{networks:o}):t.length?hv()(oT,{className:kK.a.scroller,autoScroll:!0},void 0,hv()(zY,{showSignalStrength:r,allChannelMappingsEnabled:s,allChannelMappingsDisabled:l,onAllChannelMappingsEnabledChange:c}),t.map(function(e){var t=e.key,r=e.deviceIdentifier,i=e.name,a=e.enabled,o=e.lineupIdentifier,s=e.drm,l=e.signalStrength,c=e.signalQuality,d=e.isDeviceChannelHD,p=e.isLineupChannelHD,h=e.isChannelMissing;return hv()(RY,{name:t,initialValue:{enabled:a,lineupIdentifier:o},deviceIdentifier:r,channelName:i,drm:s,signalStrength:c||l,isChannelMissing:h,showResolution:u,isDeviceChannelHD:d,isLineupChannelHD:p,lineupChannels:n},t)})):null},RK=n(314),_K=n.n(RK),UK=Xf.a.Component,zK=hv()(ZE.a,{}),FK=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onScanDeviceChannelsButtonPress=function(){var e=t.props,n=e.scanPrefs,r=e.scanNetworks,i=e.channelScanActivity,a=e.onScanDeviceChannels,o=e.onCancelScanDeviceChannels;n.length||r.length||(i?o():a(t.props.country))},t.onSubmit=function(e){var n=t.props,r=n.scanPrefs,i=n.scanNetworks,a=n.onSubmit;if(r.length||i.length){var o=t.props.scanPrefs.length?{prefs:e}:e;t.props.onScanDeviceChannels(t.props.country,o)}else a(e)},t}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.channelMappings,r=t.lineupChannels,i=t.isChannelMappingsPending,s=t.isLineupChannelsPending,l=t.isDeviceChannelsPending,c=t.channelMappingsError,u=t.lineupChannelsError,d=t.deviceChannelsError,p=t.isChannelMappingsSaving,h=t.channelMappingsSaveError,f=t.formState,g=t.allChannelMappingsEnabled,v=t.allChannelMappingsDisabled,m=t.isCancellingChannelScan,y=t.scanPrefs,b=t.scanNetworks,S=t.channelScanActivity,I=t.onAllChannelMappingsEnabledChange,C=t.onFormStateChange,M=t.onModalClose,D=S&&!m,w=c||u||d,P=!D&&(i||s||l),T=S?parseInt(S.Response.channels,10):0;e=1===T?Object(Xn.default)("Scanning channels. 1 channel found."):T>1?Object(Xn.default)("Scanning channels. {channelCount} channels found.",{channelCount:T}):Object(Xn.default)("Scanning channels. No channels found.");var E=!(!y.length&&!b.length),x=n.some(function(e){return null!=e.signalQuality||null!=e.signalStrengh}),O=x?Object(Xn.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup. Signal strength is stored at the time of scanning.'):Object(Xn.default)('Click "Scan Channels" to refresh this list, or create a new DVR to use a different lineup.');return w?hv()(AK,{message:Object(Xn.default)("Unable to load channel mappings"),onModalClose:M}):hv()(x_,{className:_K.a.form,formState:f,onChange:C,onSubmit:this.onSubmit},void 0,hv()(qN,{onModalClose:M},void 0,hv()(PN,{},void 0,Object(Xn.default)("Manage Channels")),P?hv()(CN,{},void 0,hv()("div",{className:_K.a.centeredContainer},void 0,zK)):null,!P&&h?hv()("div",{},void 0,hv()(FV,{errorMessage:Vy(h,Object(Xn.default)("There was a problem saving your changes. Please try again."))})):null,P?null:hv()(CN,{className:S?void 0:_K.a.manageChannelsBody,scrollDirection:S?o.VERTICAL:o.NONE},void 0,hv()("div",{className:_K.a.scanChannelsContainer},void 0,hv()("div",{className:_K.a.scanChannelsMessage},void 0,S?e:O),hv()("div",{},void 0,hv()(_V,{type:E?"submit":"button",size:qp.MEDIUM,isSpinning:m,isDisabled:m,onPress:this.onScanDeviceChannelsButtonPress},void 0,D?Object(Xn.default)("Stop scanning"):Object(Xn.default)("Scan channels")))),hv()(LK,{channelMappings:n,lineupChannels:r,showSignalStrength:x,channelScanActivity:S,scanPrefs:y,scanNetworks:b,allChannelMappingsEnabled:g,allChannelMappingsDisabled:v,onAllChannelMappingsEnabledChange:I})),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:M},void 0,Object(Xn.default)("Cancel")),hv()(_V,{type:"submit",kind:a.PRIMARY,size:qp.MEDIUM,isDisabled:P||!!S,isSpinning:p},void 0,Object(Xn.default)("Save"))))))},t}(UK);FK.defaultProps={scanPrefs:[],scanNetworks:[]};var BK=HY(FK),HK=Xf.a.createElement;var VK=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCancelScanDeviceChannels=function(){r.setState({isCancellingChannelScan:!0}),r.props.dispatchCancelScanDeviceChannels(r.props.deviceID)},r.state={isCancellingChannelScan:!!t.channelScanActivity},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.lineupUUID,n=e.dispatchClearDeviceScanPrefs,r=e.dispatchSelectDevice,i=e.dispatchFetchLineupChannels,a=e.dispatchFetchDeviceChannels;Object(No.a)(function(){n(),r(),i(t),a()})},n.componentWillReceiveProps=function(e){!e.channelScanActivity&&this.props.channelScanActivity&&this.setState({isCancellingChannelScan:!1})},n.componentDidUpdate=function(e,t){var n=this;e.isChannelMappingsSaving&&!this.props.isChannelMappingsSaving&&null==this.props.channelMappingsSaveError&&this.props.onModalClose(),this.props.channelScanActivity||!e.channelScanActivity||this.props.scanNetworks||Object(No.a)(function(){n.props.dispatchFetchDeviceChannels()})},n.componentWillUnmount=function(){var e=this.props,t=e.serverEntityID,n=e.dvrID,r=e.deviceID;e.channelScanActivity&&!this.state.isCancellingChannelScan&&this.props.dispatchCancelScanDeviceChannels({serverEntityID:t,dvrID:n,deviceID:r})},n.render=function(){var e=this.props,t=(e.dispatchSelectDevice,e.dispatchFetchLineupChannels,e.dispatchFetchDeviceChannels,e.dispatchFetchChannelMap,e.dispatchCancelScanDeviceChannels,e.dispatchClearDeviceScanPrefs,wt()(e,["dispatchSelectDevice","dispatchFetchLineupChannels","dispatchFetchDeviceChannels","dispatchFetchChannelMap","dispatchCancelScanDeviceChannels","dispatchClearDeviceScanPrefs"]));return HK(BK,dv()({isCancellingChannelScan:this.state.isCancellingChannelScan,onCancelScanDeviceChannels:this.onCancelScanDeviceChannels},t))},t}(Xf.a.Component),QK=Lm(function(){return Object(Iy.createSelector)(bY(),SY(),IY(),mV(),sV,MY,function(e,t,n,r,i,a){var o=e.country,s=e.lineup,l=i.isChannelMappingsPending,c=i.isLineupChannelsPending,u=i.channelMappingsError,d=i.lineupChannelsError,p=i.isChannelMappingsSaving,h=i.channelMappingsSaveError,f=i.scanPrefs,g=i.scanNetworks;return{country:o,lineupUUID:e.lineup,lineupTitle:s,channelMappings:n,lineupChannels:a,isChannelMappingsPending:l,isLineupChannelsPending:c,isDeviceChannelsPending:t.isChannelsPending,channelMappingsError:u,lineupChannelsError:d,isChannelMappingsSaving:p,channelMappingsSaveError:h,deviceChannelsError:t.channelsError,scanPrefs:f,scanNetworks:g,channelScanActivity:r}})},function(e,t){var n=t.serverEntityID,r=t.dvrID,i=t.deviceID;return{dispatchSelectDevice:function(){e(wO({serverEntityID:n,dvrID:r,deviceID:i}))},dispatchFetchLineupChannels:function(t){e(VO({serverEntityID:n,lineupUUID:t}))},dispatchFetchDeviceChannels:function(){e(PO({serverEntityID:n,dvrID:r,deviceID:i}))},dispatchFetchChannelMap:function(){e(QO({serverEntityID:n}))},dispatchCancelScanDeviceChannels:function(){e(EO({serverEntityID:n,deviceID:i}))},dispatchClearDeviceScanPrefs:function(){e(BO({serverEntityID:n}))},onScanDeviceChannels:function(t,a){void 0===a&&(a={}),e(TO(Object.assign({serverEntityID:n,dvrID:r,deviceID:i,country:t},a)))},onSubmit:function(t){Object(No.a)(function(){e(AO({serverEntityID:n,dvrID:r,deviceID:i,data:t}))})},onDismissSaveError:function(){Object(No.a)(function(){e(NO())})}}})(VK);var WK=function(e){var t=e.serverEntityID,n=e.dvrID,r=e.deviceID,i=e.metricsProperties,a=e.isOpen,o=e.onModalClose;return hv()(VN,{metricsPage:Va,metricsProperties:i,isOpen:a,preventCloseOnBackdropPress:!0,onModalClose:o},void 0,hv()(QK,{serverEntityID:t,dvrID:n,deviceID:r,onModalClose:o}))},GK=Xf.a.createElement;var YK=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onModalClose=function(){t.props.clearDVRSetup({serverEntityID:t.props.serverEntityID}),t.props.onModalClose()},t}return Sy()(t,e),t.prototype.render=function(){return GK(WK,dv()({},this.props,{onModalClose:this.onModalClose}))},t}(Xf.a.Component),KK=Lm(function(){return Object(Iy.createSelector)(bY(),SY(),function(e,t){return{dvrID:e.key,deviceID:t.key}})},{clearDVRSetup:mO})(YK),qK=n(256),ZK=n.n(qK),XK=Xf.a.createElement,JK=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.model,r=e.uri,i=e.thumb,o=e.prefs,s=e.isSaving,l=e.saveError,c=e.onSubmit,u=e.onModalClose;return hv()(x_,{className:ZK.a.form,onSubmit:c},void 0,hv()(qN,{onModalClose:u},void 0,hv()(PN,{},void 0,Object(Xn.default)("Device Settings")),l?hv()(FV,{errorMessage:Vy(l,Object(Xn.default)("There was a problem saving your changes. Please try again."))}):null,hv()(CN,{},void 0,hv()("div",{className:ZK.a.container},void 0,hv()(gQ,{className:ZK.a.deviceImage,serverEntityID:t,model:n,thumb:i,width:150,height:150}),hv()("div",{className:ZK.a.info},void 0,hv()("div",{className:ZK.a.model},void 0,n),hv()("div",{},void 0,r),hv()("div",{className:ZK.a.settings},void 0,o.map(function(e){var t=e.id;return XK(HW,dv()({key:t},e))}))))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:u},void 0,Object(Xn.default)("Cancel")),hv()(_V,{type:"submit",isSpinning:s,kind:a.PRIMARY,size:qp.MEDIUM},void 0,Object(Xn.default)("Save"))))))},t}(Xf.a.Component),$K=Xf.a.createElement;var eq=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubmit=function(e){var n=t.props,r=n.serverEntityID,i=n.dvrID,a=n.deviceID;Object(No.a)(function(){t.props.saveDeviceSettings({serverEntityID:r,dvrID:i,deviceID:a,prefs:e})})},t.onModalClose=function(){var e=t.props,n=e.dvrID,r=e.deviceID;t.props.clearDeviceSettingsSaveError({dvrID:n,deviceID:r}),t.props.onModalClose()},t}return Sy()(t,e),t.prototype.render=function(){return $K(JK,dv()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))},t}(Xf.a.Component),tq=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.dvrID},SY(),function(e,t){return{dvrID:e,deviceID:t.key,model:t.model,uri:t.uri,prefs:t.prefs,thumb:t.thumb,isSaving:t.isSaving,saveError:t.saveError}})},{saveDeviceSettings:zO,clearDeviceSettingsSaveError:FO})(eq),nq=Xf.a.createElement;var rq=function(e){var t=e.isOpen,n=e.metricsProperties,r=e.onModalClose,i=wt()(e,["isOpen","metricsProperties","onModalClose"]);return hv()(VN,{isOpen:t,metricsPage:Qa,metricsProperties:n,onModalClose:r},void 0,nq(tq,dv()({onModalClose:r},i)))},iq=n(97),aq=n.n(iq),oq=Xf.a.Component,sq=Xf.a.Fragment,lq={context:An},cq=hv()(rQ,{}),uq=hv()(FR,{}),dq=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onManageChannelsPress=function(){r.setState({isManageChannelsModalOpen:!0})},r.onManageChannelsModalClose=function(){r.setState({isManageChannelsModalOpen:!1})},r.onDeviceSettingsPress=function(){r.setState({isDeviceSettingsModalOpen:!0})},r.onDeviceSettingsModalClose=function(){r.setState({isDeviceSettingsModalOpen:!1})},r.state={isManageChannelsModalOpen:!1,isDeviceSettingsModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.serverEntityID,r=t.dvrID,i=t.deviceID,o=t.model,s=t.uri,l=t.thumb,c=t.tunerCount,u=t.channelCount,d=t.unsupported,p=t.activeTunerCount,h=t.channelMappings,f=t.hasPrefs,g=t.status,v=t.canRemoveDevice,m=t.onRemoveDevicePress,y=g===zx,b=h.filter(function(e){return e.enabled}).length;return e=u?1===u?Object(Xn.default)("1 channel"):Object(Xn.default)("{channelCount} channels",{channelCount:u}):Object(Xn.default)("No channels"),hv()("div",{className:aq.a.device},void 0,hv()(gQ,{serverEntityID:n,model:o,thumb:l,width:100,height:100}),hv()("div",{className:aq.a.details},void 0,hv()("div",{className:aq.a.modelContainer},void 0,hv()("div",{className:aq.a.model},void 0,o),s?hv()(sq,{},void 0,hv()(cE,{className:aq.a.separator}),hv()(vQ,{className:aq.a.uri,uri:s})):null,d?cq:null),y?hv()("div",{className:aq.a.deviceWarning},void 0,hv()("div",{className:aq.a.deviceWarningIconContainer},void 0,uq),Object(Xn.default)("Device not found. Ensure your device is powered on and connected to your network.")):hv()("div",{className:aq.a.info},void 0,hv()("div",{},void 0,1===c?Object(Xn.default)("1 tuner"):Object(Xn.default)("{tunerCount} tuners",{tunerCount:c}),p?hv()(sq,{},void 0,hv()(cE,{className:aq.a.separator}),Object(Xn.default)("{activeTunerCount} in use now",{activeTunerCount:p})):null),hv()("div",{},void 0,e,hv()(cE,{className:aq.a.separator}),hv()(RS,{kind:a.PRIMARY,onPress:this.onManageChannelsPress},void 0,Object(Xn.default)("{enabledChannelsCount} enabled",{enabledChannelsCount:b}))),f?hv()(RS,{className:aq.a.deviceSettingsButton,kind:a.PRIMARY,onPress:this.onDeviceSettingsPress},void 0,hv()(MK,{className:aq.a.deviceSettingsIcon,"aria-label":Object(Xn.default)("Device Settings")}),Object(Xn.default)("Device Settings")):null)),v?hv()("div",{className:aq.a.removeDeviceContainer},void 0,hv()(RS,{className:aq.a.removeDevice,onPress:m},void 0,hv()(US,{"aria-label":Object(Xn.default)("Remove Device")}))):null,hv()(KK,{serverEntityID:n,dvrID:r,deviceID:i,metricsProperties:lq,isOpen:this.state.isManageChannelsModalOpen,onModalClose:this.onManageChannelsModalClose}),hv()(rq,{serverEntityID:n,dvrID:r,deviceID:i,metricsProperties:lq,isOpen:this.state.isDeviceSettingsModalOpen,onModalClose:this.onDeviceSettingsModalClose}))},t}(oq),pq=Xf.a.createElement,hq=Xf.a.Component;var fq={fetchDeviceChannels:PO,removeDVRDevice:RO},gq=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onRemoveDevicePress=function(){var e=t.props,n=e.serverEntityID,r=e.dvrID,i=e.deviceID;t.props.removeDVRDevice({serverEntityID:n,dvrID:r,deviceID:i})},t}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){var e=this,t=this.props,n=t.serverEntityID,r=t.dvrID,i=t.deviceID;Object(No.a)(function(){e.props.fetchDeviceChannels({serverEntityID:n,dvrID:r,deviceID:i})})},n.render=function(){return pq(dq,dv()({onRemoveDevicePress:this.onRemoveDevicePress},this.props))},t}(hq),vq=Lm(function(){return Object(Iy.createSelector)(SY(),vV(),function(e,t){var n=t.reduce(function(t,n){var r=n.Context&&n.Context.transcode_session;return n.type!==Tx||parseInt(n.Context.deviceID,10)!==e.key||r&&t.some(function(e){return e.Context.transcode_session===r})||t.push(n),t},[]);return{hasPrefs:!(!e.prefs||!e.prefs.length),channelCount:e.channels.length,activeTunerCount:n.length}})},fq)(gq),mq=n(874),yq=n.n(mq),bq=Xf.a.createElement,Sq=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){e.isSaving&&!this.props.isSaving&&null==this.props.saveError&&this.props.onModalClose()},n.render=function(){var e=this.props,t=e.prefs,n=e.isSaving,r=e.saveError,i=e.onSubmit,o=e.onModalClose;return hv()(x_,{className:yq.a.form,onSubmit:i},void 0,hv()(qN,{onModalClose:o},void 0,hv()(PN,{},void 0,Object(Xn.default)("DVR Settings")),r?hv()(FV,{errorMessage:Vy(r,Object(Xn.default)("There was a problem saving your changes. Please try again."))}):null,hv()(CN,{},void 0,t.map(function(e){var t=e.id;return bq(HW,dv()({key:t},e))})),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:o},void 0,Object(Xn.default)("Cancel")),hv()(_V,{type:"submit",isSpinning:n,kind:a.PRIMARY,size:qp.MEDIUM},void 0,Object(Xn.default)("Save"))))))},t}(Xf.a.Component),Iq=Xf.a.createElement;var Cq=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubmit=function(e){var n=t.props,r=n.serverEntityID,i=n.dvrID;Object(No.a)(function(){t.props.saveDVRSettings({serverEntityID:r,dvrID:i,prefs:e})})},t.onModalClose=function(){t.props.clearDVRSettingsSaveError({dvrID:t.props.dvrID}),t.props.onModalClose()},t}return Sy()(t,e),t.prototype.render=function(){return Iq(Sq,dv()({},this.props,{onSubmit:this.onSubmit,onModalClose:this.onModalClose}))},t}(Xf.a.Component),Mq=Lm(function(){return Object(Iy.createSelector)(bY(),function(e){return{prefs:e.prefs,isSaving:e.isSaving,saveError:e.saveError}})},{saveDVRSettings:_O,clearDVRSettingsSaveError:UO})(Cq),Dq=Xf.a.createElement;var wq=function(e){var t=e.isOpen,n=e.metricsProperties,r=e.onModalClose,i=wt()(e,["isOpen","metricsProperties","onModalClose"]);return hv()(VN,{isOpen:t,metricsPage:Ba,metricsProperties:n,onModalClose:r},void 0,Dq(Mq,dv()({onModalClose:r},i)))},Pq=n(123),Tq=n.n(Pq),Eq=Xf.a.Component,xq={context:An},Oq=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRemoveDVRPress=function(){r.setState({isRemoveDVRModalOpen:!0})},r.onRemoveDVRConfirm=function(){r.setState({isRemoveDVRModalOpen:!1}),r.props.onRemoveDVR()},r.onRemoveDVRCancel=function(){r.setState({isRemoveDVRModalOpen:!1})},r.onDVRSettingsPress=function(){r.setState({isDVRSettingsModalOpen:!0})},r.onDVRSettingsModalClose=function(){r.setState({isDVRSettingsModalOpen:!1})},r.onAddDevicePress=function(){r.setState({isAddDeviceModalOpen:!0})},r.onModalClose=function(){r.setState({isAddDeviceModalOpen:!1})},r.state={isRemoveDVRModalOpen:!1,isDVRSettingsModalOpen:!1,isAddDeviceModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.dvrID,r=e.lineupTitle,i=e.devices,o=e.epgDownloadActivity,s=e.onReloadGuidePress,l=e.onCancelReloadGuidePress,c=this.state,u=c.isRemoveDVRModalOpen,d=c.isDVRSettingsModalOpen;return hv()("div",{className:Tq.a.dvr},void 0,hv()("div",{className:Tq.a.header},void 0,hv()("div",{className:Tq.a.name},void 0,Object(Xn.default)("DVR"),hv()(cE,{className:Tq.a.separator}),r),hv()(RS,{className:Tq.a.deleteLink,kind:a.PRIMARY,onPress:this.onRemoveDVRPress},void 0,Object(Xn.default)("Delete DVR"))),hv()("div",{className:Tq.a.actions},void 0,hv()("div",{},void 0,o?hv()(RS,{kind:a.DEFAULT,title:Object(Xn.default)("Cancel refresh"),onPress:l},void 0,hv()(US,{className:Tq.a.actionIcon}),o.title," (",o.progress,"%)",hv()(cE,{className:Tq.a.separator}),o.subtitle):hv()(RS,{kind:a.PRIMARY,onPress:s},void 0,hv()(IK,{className:Tq.a.actionIcon}),Object(Xn.default)("Refresh Guide"))),hv()("div",{},void 0,hv()(RS,{kind:a.PRIMARY,onPress:this.onDVRSettingsPress},void 0,hv()(MK,{className:Tq.a.actionIcon,"aria-label":Object(Xn.default)("DVR Settings")}),Object(Xn.default)("DVR Settings")))),hv()("div",{className:Tq.a.devices},void 0,i.map(function(e){return hv()(vq,{serverEntityID:t,dvrID:n,deviceID:e.key,canRemoveDevice:i.length>1,model:e.model,uri:e.uri,unsupported:e.unsupported,channelMappings:e.channelMappings,tunerCount:e.tuners,status:e.status,thumb:e.thumb},e.key)})),hv()(RS,{kind:a.PRIMARY,onPress:this.onAddDevicePress},void 0,hv()(bK,{className:Tq.a.addDeviceIcon}),Object(Xn.default)("Add Device")),hv()(mK,{isOpen:u,metricsPage:"confirmRemoveDVR",title:Object(Xn.default)("Delete DVR"),message:Object(Xn.default)("Deleting your DVR will remove the Guide, and all scheduled recordings will be suspended. Programming you've previously recorded will remain in your library."),confirmLabel:Object(Xn.default)("Delete"),kind:a.DANGER,onConfirm:this.onRemoveDVRConfirm,onCancel:this.onRemoveDVRCancel}),hv()(wq,{isOpen:d,serverEntityID:t,dvrID:n,metricsProperties:xq,onModalClose:this.onDVRSettingsModalClose}),hv()(iK,{isOpen:this.state.isAddDeviceModalOpen,serverEntityID:t,dvrID:n,metricsProperties:xq,onModalClose:this.onModalClose}))},t}(Eq),jq=Object(Iy.createStructuredSelector)({epgDownloadActivity:VG()});var Aq=Lm(jq,function(e,t){var n=t.serverEntityID,r=t.dvrID;return{onRemoveDVR:function(){e(tV({serverEntityID:n,dvrID:r}))},onReloadGuidePress:function(){e(nV({serverEntityID:n,dvrID:r}))},onCancelReloadGuidePress:function(){e(rV({serverEntityID:n,dvrID:r}))}}})(Oq);var Nq=function(e){var t=e.serverEntityID,n=e.isDvrsPending,r=e.dvrsError,i=e.dvrs;return r?hv()("div",{},void 0,Object(Xn.default)("Unable to load DVRs")):n?hv()(ZE.a,{label:Object(Xn.default)("Loading DVRs")}):hv()("div",{},void 0,i.map(function(e){return hv()(Aq,{dvrID:e.key,serverEntityID:t,lineupTitle:e.lineupTitle,devices:e.devices},e.key)}))};var kq=Lm(function(e){var t=e.ui.dvrSettingsUI;return{isDvrsPending:t.isDvrsPending,dvrsError:t.dvrsError,dvrs:t.dvrs}})(Nq),Lq=n(875),Rq=n.n(Lq);var _q=function(e){var t=e.serverEntityID;return hv()(pK,{className:Rq.a.container,serverEntityID:t},void 0,function(e){var n=e.noDVRs,r=e.hasDVRFeature,i=e.onOpen;return hv()("div",{},void 0,n?hv()(zB,{iconComponent:ZH,title:Object(Xn.default)("Introducing Live TV & DVR"),text:Object(Xn.default)("With Plex Pass and a digital tuner, you can record over-the-air broadcast TV and watch your favorite shows, movies, news, and sports on any device, anywhere in the world. Cut the cord and love TV again."),moreInfo:hv()(AB,{message:Object(Xn.default)("To get started recording TV, connect a tuner device to your network. Here's a {openLinkSupported}list of supported devices{closeLinkSupported}. However, some tuners not officially supported {openLinkUnsupported}work as well{closeLinkUnsupported}!"),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:RS,kind:a.PRIMARY,to:IB,target:"_blank"},{open:"openLinkUnsupported",close:"closeLinkUnsupported",component:RS,kind:a.PRIMARY,to:CB,target:"_blank"}]})},void 0,r?hv()(I_,{kind:a.PRIMARY,size:qp.LARGE,onPress:i},void 0,Object(Xn.default)("Set Up Plex DVR")):hv()(YH,{serverEntityID:t,modalMetricsProperties:{context:"dvrSetup"}})):null,r?hv()(kq,{serverEntityID:t,hasDVRFeature:r}):null)})},Uq=Object(Iy.createSelector)(Cy,function(e){return e.libraries});function zq(){return Object(Iy.createSelector)(Uq,Object(Iy.createSelector)(Dy(),function(e){return e?e.desktop.libraries:void 0}),function(e,t){return t?t.map(function(t){return e[t]}):[]})}function Fq(e){var t="movie"===e.type&&e.agent===gl.d?"videos":e.type;return Cl.get(t).key}function Bq(){return Object(Iy.createSelector)(zq(),function(e){return e.some(function(e){return e.refreshing})})}var Hq=n(222),Vq=n.n(Hq),Qq=Xf.a.createElement;function Wq(e){var t=e.contentClassName,n=e.iconClassName,r=e.titleClassName,i=e.descriptionClassName,a=e.footerClassName,o=e.children,s=e.kind,l=e.iconComponent,c=e.title,u=e.description,d=e.footer,p=wt()(e,["contentClassName","iconClassName","titleClassName","descriptionClassName","footerClassName","children","kind","iconComponent","title","description","footer"]);return Qq(oT,dv()({className:Vq.a.emptyPage},p),hv()("div",{className:t},void 0,l?hv()("span",{className:n},void 0,hv()(l,{className:Vq.a[s]})):null,c?hv()("div",{className:r},void 0,c):null,u?hv()("div",{className:i},void 0,u):null,o),d?hv()("div",{className:a},void 0,d):null)}Wq.defaultProps={contentClassName:Vq.a.content,iconClassName:Vq.a.icon,titleClassName:Vq.a.title,descriptionClassName:Vq.a.description,footerClassName:Vq.a.footer,kind:a.DEFAULT};var Gq=Wq,Yq=n(876),Kq=n.n(Yq),qq=Xf.a.createElement;var Zq=function(e){return qq(Gq,dv()({iconClassName:Kq.a.icon,iconComponent:FR},e))};function Xq(){return Object(Iy.createSelector)(function(e,t){return t.libraryEntityID},Uq,function(e,t){return t[e]})}function Jq(e){return Object(Iy.createSelector)(vV(),function(t){return C.a.find(t,{type:e})})}function $q(){return Jq(xx)}function eZ(){return Jq(Px)}function tZ(){return Jq(Ex)}var nZ,rZ=Xf.a.createElement;function iZ(){var e=Lm.apply(void 0,arguments);return function(t){var n=e(t);function r(e,t){var r=t.metricsPage,i=t.metricsContext,a=e.metricsContext,o=wt()(e,["metricsContext"]);return rZ(n,dv()({metricsPage:r,metricsContext:a||i},o))}return r.displayName="ConnectWithMetrics("+Object(vE.a)(t)+")",r.contextTypes={metricsPage:Dp.a.string,metricsContext:Dp.a.string},r}}var aZ=Mt("library/startLibraryRefresh"),oZ=Mt("library/editLibrary"),sZ=Mt("library/analyzeLibrary"),lZ=Mt("library/emptyTrashLibrary"),cZ=Mt("library/deleteLibrary"),uZ=Mt("library/startLibraryRefresh",function(e){return Object.assign({},e,{force:!0})}),dZ=Mt("library/startLibraryRefresh",function(e){return Object.assign({},e,{cancel:!0})});function pZ(e,t,n){Object(J.c)("metrics").trackClick({page:n,action:e,type:t.get("type"),context:xn})}var hZ=((nZ={})["library/startLibraryRefresh"]=function(e,t,n){var r=t.cancel,i=t.force,a=t.metricsPage,o=bo(e,t),s=Do(e,t),l={libraryID:s.id,libraryType:s.get("type"),cancel:r,force:i,allowMetrics:!!a,metricsProperties:{page:a}};s.set("refreshing",!r),Hx(o,l).fail(function(e){if(503===e.status)z.a.trigger("show:modal",new zc({model:o}));else{var r=t.cancel?Object(Xn.default)("There was a problem canceling the update."):Object(Xn.default)("There was a problem updating the library.");n(au(r))}}).always(function(e){n(gc({serverEntityID:t.serverEntityID}))})},nZ["library/editLibrary"]=function(e,t){var n=bo(e,t),r=Do(e,t);z.a.trigger("show:modal",new yA({server:n,model:r})),pZ("editLibrary",r,t.metricsPage)},nZ["library/analyzeLibrary"]=function(e,t,n){var r=bo(e,t),i=Do(e,t),a=r.getXHROptions("/library/sections/"+i.id+"/analyze",{type:"PUT"});P.a.ajax(a).fail(function(e){n(au(Object(Xn.default)("There was a problem analyzing the library.")))}),pZ("analyzeLibrary",i,t.metricsPage)},nZ["library/emptyTrashLibrary"]=function(e,t,n){var r=bo(e,t),i=Do(e,t),a=r.getXHROptions("/library/sections/"+i.id+"/emptyTrash",{type:"PUT"});P.a.ajax(a).done(function(){n(au({type:"success",message:Object(Xn.default)("The trash was emptied.")}))}).fail(function(e){n(au(Object(Xn.default)("There was a problem emptying the trash.")))}),pZ("emptyTrash",i,t.metricsPage)},nZ["library/deleteLibrary"]=function(e,t,n){var r=bo(e,t),i=Do(e,t);if(i.isNew())i.destroy();else{var a=r.supports("libraryDeleteActivity"),o=F.join(i.url(),a?{async:1}:{}),s=r.getXHROptions(o,{type:"DELETE"});n(cc({serverEntityID:t.serverEntityID,activityType:Ex})),P.a.ajax(s).done(function(){a||n(uc({serverEntityID:t.serverEntityID,activityType:Ex}))}).fail(function(){n(uc({serverEntityID:t.serverEntityID,activityType:Ex})),n(au(Object(Xn.default)("There was a problem deleting the library.")))}),pZ("deleteLibrary",i,t.metricsPage)}},nZ);function fZ(){return Object(Iy.createSelector)(Hk(),function(e){var t=ir(e);return t?t.directories:[]})}function gZ(e,t){if(e&&t)for(var n=0,r=e.length;n<r;n++){var i=e[n],a=i.key;if(i.hubKey===t||a===t)return i}}var vZ=Ce.a.extend({name:"SectionOverviewModel",context:["server"],rootPropertyName:"Section",syncedAttrs:{id:Me.a.integer,key:Me.a.string,type:Me.a.string,title:Me.a.string}}),mZ=Ue.a.extend({name:"SectionOverviewCollection",context:["server"],model:vZ}),yZ=Ce.a.extend({name:"ServerOverviewModel",context:["server"],idAttribute:"machineIdentifier",rootPropertyName:"Server",urlRoot:"/api/servers",syncedAttrs:{machineIdentifier:Me.a.string,name:Me.a.string,address:Me.a.string,port:Me.a.string,version:Me.a.string,createdAt:Me.a.integer,updatedAt:Me.a.integer},syncedRelations:{sections:{relationClass:mZ,rootPropertyName:"Section"}}}),bZ=Ue.a.extend({name:"ServerOverviewCollection",context:["server"],model:yZ}),SZ="user",IZ="libraries",CZ="restrictions",MZ="summary",DZ=Ce.a.extend({name:"ShareLibraryModalModel",context:["server"],sessionAttrs:{step:Me.a.string,friendEntityID:Me.a.string,username:Me.a.string,inviteToken:Me.a.string,isNewFriend:Me.a.boolean,isAddingHomeUser:Me.a.boolean,isCreatingManagedUser:Me.a.boolean,selectedAllLibrariesMachineIdentifiers:Me.a.array,selectedLibrarySectionIDs:Me.a.array,filterOptionsTags:Me.a.object,isUsernameValidating:Me.a.boolean,isUsernameValidated:Me.a.boolean,isServerOverviewsPopulating:Me.a.boolean,isServerOverviewsPopulated:Me.a.boolean,serverOverviewsError:Me.a.string,isServerSharesPopulating:Me.a.boolean,isServerSharesPopulated:Me.a.boolean,serverSharesError:Me.a.string,isFilterOptionsTagsPopulating:Me.a.boolean,isFilterOptionsTagsPopulated:Me.a.boolean,isSharingPending:Me.a.boolean,isSharingCompleted:Me.a.boolean,sharingError:Me.a.string},sessionRelations:{serverOverviews:{relationClass:bZ,deferred:!0}},defaults:function(){return{step:SZ,friendEntityID:null,username:null,inviteToken:null,isNewFriend:!1,isAddingHomeUser:!1,isCreatingManagedUser:!1,selectedAllLibrariesMachineIdentifiers:null,selectedLibrarySectionIDs:null,filterOptionsTags:{},isUsernameValidating:!1,isUsernameValidated:!1,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,serverOverviewsError:null,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isSharingPending:!1,isSharingCompleted:!1,sharingError:null}}}),wZ=Ce.a.extend({name:"HomeUserModel",context:["server"],rootPropertyName:"User",entityType:Er.b,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.id)},urlRoot:"/api/home/users",sessionAttrs:{isRemoving:Me.a.boolean},syncedAttrs:{id:Me.a.integer,uuid:Me.a.string,admin:Me.a.boolean,protected:Me.a.boolean,restricted:Me.a.boolean,guest:Me.a.boolean,title:Me.a.string,username:Me.a.string,email:Me.a.string,thumb:Me.a.string},defaults:{isRemoving:!1},getSaveParams:function(e){if(e&&0!==Object.keys(e).length)return Ce.a.prototype.getSaveParams.apply(this,arguments);var t={};return this.get("restricted")?t.title=this.get("title"):this.isNew()&&(t.invitedEmail=this.get("username")),t}});function PZ(e,t){return!!e.get("user").get("features").findWhere({uuid:t})}var TZ,EZ=n(290);function xZ(e,t){var n=e.title.toUpperCase(),r=t.title.toUpperCase();return n<r?-1:n>r?1:0}function OZ(e,t){var n,r,i,a,o,s=Array.isArray(e)?e:[e],l=P.a.Deferred(),c=((n={})[qr]=[],n[Xr]=[],n),u=((o={})[nr.g]=((r={})[qr]=[],r[Xr]=[],r),o[nr.l]=((i={})[qr]=[],i[Xr]=[],i),o[nr.b]=((a={})[qr]=[],a[Xr]=[],a),o),d=s.reduce(function(e,t){return t.get("isConnected")&&e.push(t.get("sections")),e},[]),p=d.map(function(e){return e.populate({scope:t})});return X(p).done(function(){d.forEach(function(e){e.forEach(function(e){var t=e.get("type");u[t]&&[qr,Xr].forEach(function(t){var n=new EZ.a({filter:t},{server:e.server,section:e}).get("options");c[t].push(n)})})}),X([].concat(c[qr].map(function(e){return e.fetch({scope:t})}),c[Xr].map(function(e){return e.fetch({scope:t})}))).done(function(){c[qr].forEach(function(e){var t=e.section.get("type");e.toJSON().forEach(function(e){u[t][qr].find(function(t){return t.value===e.value})||u[t][qr].push(e)})}),c[Xr].forEach(function(e){var t=e.section.get("type");e.toJSON().forEach(function(e){u[t][Xr].find(function(t){return t.value===e.value})||u[t][Xr].push(e)})}),Object.keys(u).forEach(function(e){var t=u[e];t[qr].sort(xZ),t[Xr].sort(xZ)}),l.resolve(u)})}),l.promise()}function jZ(e){var t=e.user,n=e.friend,r=e.serverShare,i=e.librarySectionIDs,a=e.isNewFriend,o=e.isCreatingManagedUser,s=e.isNewServerShare,l={machineIdentifier:r.get("machineIdentifier"),librarySectionIds:i};a&&(l.settings=n.getSaveParams()),s&&(a&&!o?l.invitedEmail=n.get("username"):l.invitedId=n.id);var c=r.url(),u=t.server.getXHROptions(c,{type:"POST",contentType:"application/json",dataType:"json",data:JSON.stringify(l)});return P.a.ajax(u).promise()}function AZ(e,t){var n=e.get("serverShares");return n?X(n.map(function(e){return e.fetch({merge:!0,scope:t})})):P.a.Deferred().resolve().promise()}function NZ(e,t,n,r){var i={};return e&&e.length&&(i[qr]=e.join(",")),t&&t.length&&(i[Zr]=t.join(",")),n&&n.length&&(i[Xr]=n.join(",")),r&&r.length&&(i[Jr]=r.join(",")),i}function kZ(e){var t=e.allowSync,n=e.allowCameraUpload,r=e.allowTuners,i=e.moviesContentRatings,a=e.moviesExcludeContentRatings,o=e.moviesLabels,s=e.moviesExcludeLabels,l=e.televisionContentRatings,c=e.televisionExcludeContentRatings,u=e.televisionLabels,d=e.televisionExcludeLabels,p=e.musicLabels,h=e.musicExcludeLabels,f={};return null!=t&&(f.allowSync=t),null!=n&&(f.allowCameraUpload=n),null!=r&&(f.allowTuners=r),null==i&&null==a&&null==o&&null==s||(f.filterMovies=NZ(i,a,o,s)),null==l&&null==c&&null==u&&null==d||(f.filterTelevision=NZ(l,c,u,d)),null==p&&null==h||(f.filterMusic=NZ(null,null,p,h)),f}var LZ="ui/shareLibraryModal/setUser",RZ=Mt("ui/shareLibraryModal/resetShareLibraryModal"),_Z=Mt("ui/shareLibraryModal/shareLibraryPreviousStep"),UZ=Mt("ui/shareLibraryModal/shareLibraryNextStep"),zZ=Mt("ui/shareLibraryModal/validateUsername"),FZ=Mt("ui/shareLibraryModal/setUsername"),BZ=Mt(LZ),HZ=Mt("ui/shareLibraryModal/fetchServerOverviews"),VZ=Mt("ui/shareLibraryModal/fetchServerShares"),QZ=Mt("ui/shareLibraryModal/setLibraryShares"),WZ=Mt("ui/shareLibraryModal/fetchFilterOptionsTags"),GZ=Mt("ui/shareLibraryModal/saveLibraryShares");function YZ(e){return e.get("ui").get("shareLibraryModal")}var KZ=Qx(((TZ={})["ui/shareLibraryModal/resetShareLibraryModal"]=function(e,t){void 0===t&&(t={});var n=YZ(e);Y.a.abortAll("shareLibraryModal"),n.restoreDefaults(t)},TZ["ui/shareLibraryModal/shareLibraryPreviousStep"]=function(e,t,n){var r=YZ(e),i={};switch(r.get("step")){case IZ:i.step=SZ;break;case CZ:i.step=IZ,i.friendEntityID=r.get("friendEntityID"),i.username=r.get("username"),i.isNewFriend=r.get("isNewFriend"),i.isAddingHomeUser=r.get("isAddingHomeUser"),i.isCreatingManagedUser=r.get("isCreatingManagedUser"),i.selectedAllLibrariesMachineIdentifiers=r.get("selectedAllLibrariesMachineIdentifiers"),i.selectedLibrarySectionIDs=r.get("selectedLibrarySectionIDs")}n(RZ(i))},TZ["ui/shareLibraryModal/shareLibraryNextStep"]=function(e){var t,n=YZ(e),r=PZ(e,Ty);switch(n.get("step")){case SZ:t=IZ;break;case IZ:t=r?CZ:MZ;break;case CZ:t=MZ}n.set({step:t})},TZ["ui/shareLibraryModal/validateUsername"]=function(e,t){void 0===t&&(t={});var n=YZ(e),r=e.get("cloudServer"),i=t.username,a=void 0===i?"":i;if(""!==a.trim()){Object(No.a)(function(){n.set({isUsernameValidating:!0,isUsernameValidated:!1})});var o=F.join("/api/users/validate",{invited_email:a}),s=r.getXHROptions(o,{type:"POST",scope:"shareLibraryModal"});P.a.ajax(s).done(function(){n.set({isUsernameValidating:!1,isUsernameValidated:!0})}).fail(function(){n.set({isUsernameValidating:!1})})}else n.set({isUsernameValidating:!1,isUsernameValidated:!1})},TZ["ui/shareLibraryModal/setUsername"]=function(e,t,n){void 0===t&&(t={});var r=YZ(e),i=t,a=i.username,o=i.isAddingHomeUser,s=i.isCreatingManagedUser,l=e.get("user").get("allFriends"),c=l.findWhere({username:a});c||(c=l.findWhere({email:a}));var u=!!c&&!s;r.set({friendEntityID:u?c.entityID():null,username:u?c.get("title"):a,isNewFriend:!u,isAddingHomeUser:o,isCreatingManagedUser:s}),n(UZ())},TZ[LZ]=function(e,t,n){void 0===t&&(t={});var r=YZ(e),i=_b(e,t);r.set({friendEntityID:i.entityID(),username:i.get("title"),isNewFriend:!1,isAddingHomeUser:t.isAddingHomeUser}),n(UZ())},TZ["ui/shareLibraryModal/fetchServerOverviews"]=function(e,t){void 0===t&&(t={});var n=YZ(e),r=e.get("user"),i=t.serverEntityIDs;Object(No.a)(function(){n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1,serverOverviewsError:null})});var a=new bZ(i.map(function(t){return{machineIdentifier:bo(e,{serverEntityID:t}).get("machineIdentifier")}}),{server:r.server});P.a.when.apply(P.a,a.map(function(e){return e.fetch()})).done(function(){n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:a})}).fail(function(){n.set({isServerOverviewsPopulating:!1,serverOverviewsError:Object(Xn.default)("Failed to load libraries.")})})},TZ["ui/shareLibraryModal/fetchServerShares"]=function(e,t){void 0===t&&(t={});var n=YZ(e),r=_b(e,t);Y.a.abortAll("shareLibraryModal"),r?(Object(No.a)(function(){n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),AZ(r,"shareLibraryModal").done(function(){n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(function(){n.set({isServerSharesPopulating:!1,serverSharesError:Object(Xn.default)("Failed to load shares.")})})):n.set("isServerSharesPopulated",!0)},TZ["ui/shareLibraryModal/setLibraryShares"]=function(e,t,n){void 0===t&&(t={});var r=YZ(e);r.set(t);var i=PZ(e,Ty);r.get("isNewFriend")&&i?n(UZ()):n(GZ())},TZ["ui/shareLibraryModal/fetchFilterOptionsTags"]=function(e,t){void 0===t&&(t={});var n=YZ(e),r=t.serverEntityIDs.map(function(t){return bo(e,{serverEntityID:t})});Y.a.abortAll("shareLibraryModal"),Object(No.a)(function(){n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),OZ(r,"shareLibraryModal").done(function(e){n.set({isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0,filterOptionsTags:e})})},TZ["ui/shareLibraryModal/saveLibraryShares"]=function(e,t,n){void 0===t&&(t={});var r=t,i=r.addToHome,a=r.restrictions,o=void 0===a?{}:a,s=YZ(e),l=s.get("friendEntityID"),c=s.get("username"),u=s.get("isNewFriend"),d=s.get("isAddingHomeUser"),p=s.get("isCreatingManagedUser"),h=s.get("serverOverviews"),f=s.get("selectedAllLibrariesMachineIdentifiers"),g=s.get("selectedLibrarySectionIDs"),v=e.get("user");Object(No.a)(function(){s.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});var m=[],y=l?_b(e,{friendEntityID:l}):new oi({username:c},{server:v.server}),b=PZ(e,Ty);if(u&&b){var S=kZ(o);y.set(S)}var I,C,M=y.get("serverShares").where({owned:!0}),D=function(e){return e.reduce(function(e,t){return t.get("sections").forEach(function(n){e[n.get("id")]=t.get("machineIdentifier")}),e},{})}(h),w=M.map(function(e){return e.get("machineIdentifier")}),T=Array.from(new Set(g.map(function(e){return D[e]}))),E=Array.from(new Set([].concat(w,T,f))),x=d||i&&!y.get("home")||p;x?(I=new wZ(((C={})[p?"title":"username"]=c,C.restricted=p,C),{server:v.server}).save(),p&&(I=I.then(function(e){y.set("id",parseInt(mt.a.parseXML(e).id,10))}))):I=P.a.Deferred().resolve().promise();I.done(function(){E.forEach(function(e){var t=M.find(function(t){return t.get("machineIdentifier")===e}),n=f.indexOf(e)>-1,r=!t,i=!n&&!T.find(function(t){return t===e}),a=function(e,t,n){var r=e.get(t).get("sections");return n.filter(function(e){return r.get(e)})}(h,e,g),o=n?[]:a;if(r){var s=new ri({machineIdentifier:e}),l=jZ({user:v,friend:y,serverShare:s,librarySectionIDs:o,isNewFriend:u,isCreatingManagedUser:p,isNewServerShare:!0});m.push(l)}else if(i)m.push(t.destroy({wait:!0}));else{var c=jZ({user:v,friend:y,serverShare:t,librarySectionIDs:o,isNewFriend:u,isCreatingManagedUser:p,isNewServerShare:!1});m.push(c)}}),P.a.when.apply(P.a,m).done(function(){var e={isSharingPending:!1,isSharingCompleted:!0};if(u&&!p){for(var t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];var a=(m.length>1?r[r.length-1]:r)[0];e.inviteToken=a.inviteToken}s.set(e),p&&v.set("home",!0),u&&!p&&n(UZ())}).fail(function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=Vy(a[i],null,"status");if(o){e=o;break}}e||(e=p?Object(Xn.default)("Failed to create home user."):u?Object(Xn.default)("Failed to send invite."):Object(Xn.default)("Failed to update server shares.")),s.set({isSharingPending:!1,sharingError:e})}).always(function(){(n(zo()),n(cH()),x)&&(v.get("homeUsers").fetch(),n(rH()),n(hH()))})}).fail(function(e){var t=Vy(e,null,"status")||Object(Xn.default)("Failed to create home user.");s.set({isSharingPending:!1,sharingError:t})})},TZ)),qZ=Object(Iy.createSelector)(My,function(e){return e.servers},function(e,t){return t?t.map(function(t){return e[t]}):[]}),ZZ=KS(Object(Iy.createSelector)(qZ,function(e){return e.reduce(function(e,t){return t.isFullOwnedServer&&t.friendlyName&&e.push(t.entityID),e},[])}),function(e){return e}),XZ=Object(Iy.createSelector)(Cy,function(e){return e.friends});function JZ(){return Object(Iy.createSelector)(XZ,function(e,t){return t.friendEntityID},function(e,t){return e[t]})}var $Z=function(e,t,n){return e.reduce(function(e,r){return e[t(r)]=n(r),e},{})};var eX=function(e){return $Z(e,function(e){return e.uuid},function(){return!0})},tX={};function nX(e){if(tX[e])return tX[e];var t=Object(Iy.createSelector)(wy,function(t){return t[e]});return tX[e]=t,t}var rX=Object(Iy.createSelector)(nX("features"),eX),iX={};var aX=function(e){var t=iX[e]||Object(Iy.createSelector)(rX,function(t){return!!t[e]});return iX[e]=t,t},oX="machineIdentifier",sX="sectionID";var lX=function(e){var t,n=e.children,r=e.isAddingHomeUser,i=e.isCreatingManagedUser,a=e.isSharingSingleLibrary,o=e.errorMessage,s=e.onModalClose;return t=r?Object(Xn.default)("Invite Home User"):i?Object(Xn.default)("Create Managed User"):a?Object(Xn.default)("Share Library"):Object(Xn.default)("Share Libraries"),hv()(qN,{onModalClose:s},void 0,hv()(PN,{},void 0,t),o?hv()(FV,{errorMessage:o}):null,n)},cX=n(877),uX=n.n(cX),dX=Xf.a.createElement;var pX=$Q(function(e){return dX(sW,dv()({className:uX.a.input},e))}),hX=n(878),fX=n.n(hX),gX=Xf.a.createElement;function vX(e){return gX(sW,e)}vX.defaultProps={className:fX.a.input};var mX=$Q(vX),yX=n(257),bX=n.n(yX),SX=Xf.a.Component,IX=Xf.a.Fragment,CX=parseInt(yQ.a.serverShareListRowHeight,10),MX=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onTogglePress=function(){r.setState({isCollapsed:!r.state.isCollapsed})},r.onAllLibrariesToggle=function(){r.setState({isAllLibrariesChecked:!r.state.isAllLibrariesChecked})};var i=t.sourceServer,a=t.serverOverview,o=t.serverShare,s=t.selectedAllLibrariesMachineIdentifiers;return r.state={isCollapsed:i.machineIdentifier!==cv.a&&i.machineIdentifier!==a.machineIdentifier,isAllLibrariesChecked:null!=s?s.includes(a.machineIdentifier):!(!o||!o.allLibraries)},r}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.sourceDirectory,r=t.sourceServer,i=t.serverOverview,a=t.serverShare,o=t.selectedLibrarySectionIDs,s=this.state,l=s.isAllLibrariesChecked,c=s.isCollapsed,u=i.machineIdentifier,d=i.sections,p={maxHeight:c?0:(d.length||1)*CX},h=n&&(null==n.id?n.key.match(/\/library\/sections\/(\d+)/)[1]:n.id),f=i.name;return l&&(f+=" ("+Object(Xn.default)("All Libraries")+")"),hv()(IX,{},void 0,hv()("div",{className:bX.a.header},void 0,hv()(RS,{className:l?bX.a.toggleButtonHidden:bX.a.toggleButton,onPress:this.onTogglePress},void 0,hv()(TI,{direction:c?zp:Fp})),hv()(pX,{name:JSON.stringify((e={},e[oX]=u,e)),checkboxText:f,initialValue:l,onChange:this.onAllLibrariesToggle})),hv()("div",{className:bX.a.libraries,style:p},void 0,l||0!==d.length?null:hv()("div",{className:bX.a.emptyMessage},void 0,Object(Xn.default)("No libraries")),d.map(function(e){var t,n,i=e.id,s=e.key,c=e.title;if(null!=o)n=o.includes(i);else{var d=r.machineIdentifier===u&&h===s,p=!!(a&&a.libraries&&a.libraries.find(function(e){return e.id===i}));n=d||p}return hv()(mX,{className:l?bX.a.hidden:void 0,name:JSON.stringify((t={},t[sX]=i,t)),checkboxText:c,initialValue:n},i)})))},t}(SX),DX=n(258),wX=n.n(DX),PX=Xf.a.useCallback,TX=Xf.a.useEffect,EX=Xf.a.useState,xX=hv()(ZE.a,{});var OX=function(e){var t=e.sourceDirectory,n=e.sourceServer,r=e.serverOverviews,i=e.serverShares,s=e.selectedAllLibrariesMachineIdentifiers,l=e.selectedLibrarySectionIDs,c=e.isPopulating,u=e.showList,d=e.isNewFriend,p=e.isAddingHomeUser,h=e.isCreatingManagedUser,f=e.isSharingPending,g=e.isSharingCompleted,v=e.errorMessage,m=e.userHasContentFiltersFeature,y=e.dispatchShareLibraryPreviousStep,b=e.onSubmit,S=e.onModalClose,I=EX(function(){return t||s&&s.length>0||l&&l.length>0||i.some(function(e){return e.numLibraries>0})}),C=I[0],M=I[1],D=vF(g);TX(function(){!D&&g&&S()},[g,D,S]);var w,P=PX(function(e){var t=Object.keys(e).some(function(t){return e[t].value});M(t)},[]);w=m?d?Object(Xn.default)("Continue"):Object(Xn.default)("Save"):Object(Xn.default)("Send");var T=c||f||d&&!h&&!C;return hv()(x_,{className:wX.a.form,onChange:P,onSubmit:b},void 0,hv()(lX,{isAddingHomeUser:p,isCreatingManagedUser:h,isSharingSingleLibrary:!!t,errorMessage:v,onModalClose:S},void 0,hv()(CN,{className:wX.a.modalBody,scrollDirection:o.NONE},void 0,hv()("div",{className:wX.a.message},void 0,Object(Xn.default)("Choose some libraries to share.")),c?hv()("div",{className:wX.a.spinnerContainer},void 0,xX):null,u?hv()(oT,{className:wX.a.scroller,autoScroll:!0},void 0,r.map(function(e){var r=e.machineIdentifier,a=i.find(function(e){return e.machineIdentifier===r});return hv()(MX,{sourceDirectory:t,sourceServer:n,serverOverview:e,serverShare:a,selectedAllLibrariesMachineIdentifiers:s,selectedLibrarySectionIDs:l},r)})):null),hv()(Q_,{className:wX.a.modalFooter},void 0,hv()(I_,{onPress:S},void 0,Object(Xn.default)("Cancel")),hv()(q_,{},void 0,hv()(I_,{onPress:y},void 0,Object(Xn.default)("Previous")),hv()(_V,{type:"submit",kind:a.PRIMARY,isDisabled:T,isSpinning:f},void 0,w)))))},jX=Xf.a.createElement,AX=Xf.a.Component;var NX,kX={dispatchFetchServerOverviews:HZ,dispatchFetchServerShares:VZ,dispatchShareLibraryPreviousStep:_Z,dispatchSetLibraryShares:QZ},LX=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubmit=function(e){var n=Object.keys(e).reduce(function(t,n){if(!e[n])return t;var r=JSON.parse(n);return r.hasOwnProperty(sX)&&t.selectedLibrarySectionIDs.push(r[sX]),r.hasOwnProperty(oX)&&t.selectedAllLibrariesMachineIdentifiers.push(r[oX]),t},{selectedAllLibrariesMachineIdentifiers:[],selectedLibrarySectionIDs:[]});t.props.dispatchSetLibraryShares(n)},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.friendEntityID,n=e.sharingEligibleServerEntityIDs,r=e.dispatchFetchServerOverviews,i=e.dispatchFetchServerShares;r({serverEntityIDs:n}),i({friendEntityID:t})},n.render=function(){var e=this.props,t=(e.sharingEligibleServerEntityIDs,e.dispatchFetchServerOverviews,e.dispatchFetchServerShares,wt()(e,["sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]));return jX(OX,dv()({},t,{onSubmit:this.onSubmit}))},t}(AX),RX=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.shareLibraryModal},XS,ZZ,JZ(),aX(Ty),function(e,t,n,r,i){var a=e.serverOverviews,o=e.selectedAllLibrariesMachineIdentifiers,s=e.selectedLibrarySectionIDs,l=e.isNewFriend,c=e.isServerOverviewsPopulating,u=e.isServerOverviewsPopulated,d=e.serverOverviewsError,p=e.isServerSharesPopulating,h=e.isServerSharesPopulated,f=e.isSharingPending,g=e.isSharingCompleted,v=e.sharingError,m=e.serverSharesError,y=c||p,b=u&&h,S=d||m||v;return{sharingEligibleServerEntityIDs:n,sourceServer:t,serverOverviews:a,selectedAllLibrariesMachineIdentifiers:o,selectedLibrarySectionIDs:s,serverShares:r?r.serverShares:[],isPopulating:y&&!S,isSharingPending:f&&!S,showList:b,isNewFriend:l,isSharingCompleted:g,errorMessage:S,userHasContentFiltersFeature:i}})},kX)(LX),_X=KS(Object(Iy.createSelector)(qZ,function(e){return e.filter(function(e){return e.isFullOwnedServer&&e.isConnected})}),function(e){return e}),UX=Object(Iy.createSelector)(_X,function(e){return e.map(function(e){return e.entityID})}),zX={NONE:0,TV_ONLY:1,TV_AND_DVR:2};zX.options=((NX={})[zX.NONE]=function(){return Object(Xn.default)("No Live TV and DVR access")},NX[zX.TV_ONLY]=function(){return Object(Xn.default)("Allow Live TV only")},NX[zX.TV_AND_DVR]=function(){return Object(Xn.default)("Allow Live TV and DVR access")},NX),zX.values=Object.keys(zX.options).map(function(e){var t;return(t={})[e]=zX.options[e],t}),zX.settings=[{value:zX.NONE,title:"No Live TV and DVR access"},{value:zX.TV_ONLY,title:"Allow Live TV only"},{value:zX.TV_AND_DVR,title:"Allow Live TV and DVR access"}];var FX=zX,BX=n(598),HX=n.n(BX),VX=Xf.a.createElement;var QX=$Q(function(e){var t=e.subtitle,n=wt()(e,["subtitle"]);return hv()("div",{className:HX.a.container},void 0,VX(sW,dv()({size:qp.SMALL},n)),t?hv()("span",{className:HX.a.subtitle},void 0,t):null)}),WX=Xf.a.useCallback,GX=Xf.a.useState;function YX(e,t){return e&&e[t]?e[t].split(","):[]}function KX(e,t,n){var r=YX(e,t),i=YX(e,n),a=GX(r),o=a[0],s=a[1],l=GX(i),c=l[0],u=l[1];return{initialAllowTags:r,initialExcludeTags:i,allowTags:o,excludeTags:c,onAllowTagsChange:WX(function(e){s(e)},[]),onExcludeTagsChange:WX(function(e){u(e)},[])}}Dp.a.shape({title:Dp.a.string.isRequired,key:Dp.a.string.isRequired,value:Dp.a.any.isRequired}),Dp.a.shape({container:Dp.a.string,containerOpen:Dp.a.string,input:Dp.a.string,inputOpen:Dp.a.string,inputFocused:Dp.a.string,suggestionsContainer:Dp.a.string,suggestionsContainerOpen:Dp.a.string,suggestionsList:Dp.a.string,suggestion:Dp.a.string,suggestionFirst:Dp.a.string,suggestionHighlighted:Dp.a.string,sectionContainer:Dp.a.string,sectionContainerFirst:Dp.a.string,sectionTitle:Dp.a.string});var qX=n(879),ZX=n.n(qX),XX=n(880),JX=n.n(XX),$X=Xf.a.createElement;function eJ(e){var t=e.inputComponent,n=e.suggestionsComponent,r=e.theme,i=wt()(e,["inputComponent","suggestionsComponent","theme"]);return $X(ZX.a,dv()({},i,{renderInputComponent:t,renderSuggestionsContainer:n,theme:Object.assign({},JX.a,r)}))}eJ.defaultProps={inputComponent:function(e){return $X("input",dv()({type:"text"},e))}};var tJ=eJ,nJ=n(599),rJ=n.n(nJ),iJ=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){var e=t.props;(0,e.onRemove)(e.index)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.removeClassName,r=e.tag,i=e.iconComponent,a=e.isDisabled,o=e.removeLabel,s=e.getTagDisplayValue;return hv()("span",{className:t},void 0,a?null:hv()(RS,{className:n,"aria-label":o,onPress:this.onPress},void 0,hv()(i,{})),hv()("span",{},void 0,s(r)))},t}(Xf.a.Component);iJ.defaultProps={className:rJ.a.tag,removeClassName:rJ.a.remove};var aJ=iJ,oJ=n(475),sJ=n.n(oJ),lJ=Xf.a.createElement;var cJ=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).addTag=function(e){return r._addTags([e])},r.setInputRef=function(e){r.inputRef=e},r.setDivRef=function(e){r.divRef=e},r.onPaste=function(e){var t=r.props,n=t.addOnPaste,i=t.pasteSplit,a=t.makeTag;if(n){e.preventDefault();var o=i(function(e){return window.clipboardData?window.clipboardData.getData("Text"):e.clipboardData?e.clipboardData.getData("text/plain"):""}(e)).map(function(e){return a(e)});r._addTags(o)}},r.onKeyDown=function(e){var t=r.props.inputProps.onKeyDown;if(t&&t(e),!e.defaultPrevented){var n=r.props,i=n.value,a=n.removeKeys,o=n.addKeys,s=""===n.inputValue,l=e.keyCode,c=-1!==o.indexOf(l),u=-1!==a.indexOf(l);if(c)(r._accept()||l===MT)&&e.preventDefault();u&&i.length>0&&s&&(e.preventDefault(),r._removeTag(i.length-1))}},r.onClick=function(e){e.target===r.divRef&&(r.inputRef&&"function"==typeof r.inputRef.focus&&r.inputRef.focus(),r.onFocus())},r.onChange=function(e){var t=r.props.onInputChange,n=r.props.inputProps.onChange,i=e.target.value;n&&n(e),t(i)},r.onFocus=function(e){var t=r.props.inputProps.onFocus;t&&t(e),r.setState({isFocused:!0})},r.onBlur=function(e){var t=r.props.inputProps.onBlur;if(r.setState({isFocused:!1}),null!=e&&(t&&t(e),r.props.addOnBlur)){var n=r.props.makeTag(e.target.value);r._addTags([n])}},r.onRemove=function(e){r._removeTag(e)},r.state={isFocused:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this,n=this.props,r=n.value,i=n.excludedTags;i!==e.excludedTags&&i.forEach(function(e){var n=r.findIndex(function(t){return t===e});t._removeTag(n)})},n._removeTag=function(e){if(e>-1&&e<this.props.value.length){var t=this.props.value.slice(0),n=t.splice(e,1);this.props.onChange(t,n,[e])}},n._clearInput=function(){this.props.onInputChange("")},n._addTags=function(e){var t,n=this.props,r=n.validationRegex,i=n.onlyUnique,a=n.maxTags,o=n.value,s=n.getTagValue,l=n.onChange,c=n.onValidationReject;if(i&&(e=C.a.uniq(e,function(e){return s(e)})),r&&(t=e.filter(function(e){return!r.test(s(e))}),e=e.filter(function(e){return r.test(s(e))})),e=e.filter(function(e){var t=s(e);return t?t.trim().length>0:t}),a>=0){var u=Math.max(a-o.length,0);e=e.slice(0,u)}if(c&&t&&t.length>0&&c(t),e.length>0){for(var d=o.concat(e),p=[],h=0;h<e.length;h++)p.push(o.length+h);i&&(d=C.a.uniq(d,function(e){return s(e)}));var f=d.length!==o.length;return f&&l(d,e,p),this._clearInput(),f}return this._clearInput(),!1},n._accept=function(){var e=this.props.inputValue;return""!==e&&(e=this.props.makeTag(e),this._addTags([e]))},n.inputProps=function(){var e=this.props,t=e.value,n=e.inputProps,r=n.placeholder,i=(n.onChange,n.onFocus,n.onBlur,wt()(n,["placeholder","onChange","onFocus","onBlur"])),a=Object.assign({className:sJ.a.input,placeholder:t.length?"":r},i);return this.props.isDisabled&&(a.isDisabled=!0),a},n.render=function(){var e=this,t=this.props,n=t.className,r=t.errorClassName,i=t.focusedClassName,a=t.hasError,o=t.value,s=t.inputValue,l=t.getTagValue,c=t.getTagDisplayValue,u=t.tagProps,d=t.tagComponent,p=t.inputComponent,h=t.isDisabled,f=this.state.isFocused;return lJ("div",{className:(n||"")+" "+(f&&i||"")+" "+(a&&r||""),ref:this.setDivRef,onClick:this.onClick},o.map(function(t,n){return lJ(d,dv()({key:l(t)+"-"+n,index:n,tagCount:o.length,tag:t,isDisabled:h,getTagDisplayValue:c,onRemove:e.onRemove},u))}),lJ(p,dv()({key:"input",inputRef:this.setInputRef,value:s},this.inputProps(),{addTag:this.addTag,onPaste:this.onPaste,onKeyDown:this.onKeyDown,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur})))},t}(Xf.a.Component);cJ.defaultProps={className:sJ.a.tagsInput,errorClassName:sJ.a.hasError,addKeys:[CT,MT],addOnBlur:!1,addOnPaste:!1,inputProps:{},removeKeys:[8],inputComponent:function(e){var t=e.inputRef,n=(e.addTag,wt()(e,["inputRef","addTag"]));return lJ("input",dv()({type:"text",ref:t},n))},tagComponent:aJ,pasteSplit:function(e){return e.split(" ").map(function(e){return e.trim()})},tagProps:{},onlyUnique:!0,maxTags:-1,excludedTags:[],validationRegex:null,isDisabled:!1,getTagDisplayValue:function(e){return e},getTagValue:function(e){return e},makeTag:function(e){return e}};var uJ=cJ,dJ=n(600),pJ=n.n(dJ),hJ=Xf.a.createElement,fJ=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setTagsInputRef=function(e){r.tagsInputRef=e},r.onInputChange=function(e){r.setState({inputValue:e})},r.onSuggestionSelected=function(e,t){var n=t.suggestion;r.tagsInputRef.addTag(r.props.makeTagFromSuggestion(n))},r.renderInputComponent=function(e){var t=e.ref,n=wt()(e,["ref"]),i=r.props,a=i.className,o=i.shouldRenderSuggestions,s=i.tagComponent,l=i.validationRegex,c=i.value,u=i.makeTag,d=i.getTagDisplayValue,p=i.getTagValue,h=i.tagProps,f=i.excludedTags,g=i.onChange,v=r.state.inputValue;return hJ(uJ,{className:a,inputValue:v,inputProps:Object.assign({},n,{inputRef:t}),tagProps:h,value:c,validationRegex:l,tagComponent:s,addOnBlur:!o(v),getTagValue:p,getTagDisplayValue:d,makeTag:u,excludedTags:f,ref:r.setTagsInputRef,onInputChange:r.onInputChange,onChange:g})},r.state={inputValue:""},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.placeholder,n=e.suggestions,r=e.getAddSuggestionTag,i=e.getSuggestionValue,a=e.renderSuggestion,o=e.suggestionsFilter,s=e.shouldRenderSuggestions,l=e.theme,c=e.onSuggestionsClearRequested,u=e.onSuggestionsFetchRequested,d=this.state.inputValue,p=r&&d.length>0?[r(d)]:[],h=n.reduce(function(e,t){return o(t,d)&&e.push(t),e},p);return hv()(tJ,{suggestions:h,shouldRenderSuggestions:s,getSuggestionValue:i,renderSuggestion:a,focusInputOnSuggestionClick:!1,highlightFirstSuggestion:!0,inputProps:{value:d,placeholder:t,onChange:function(e,t){t.newValue;"enter"===t.method&&e.preventDefault()}},theme:Object.assign({input:pJ.a.input},l),inputComponent:this.renderInputComponent,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsClearRequested:c,onSuggestionsFetchRequested:u})},t}(Xf.a.Component);fJ.defaultProps={className:pJ.a.tagsInput,suggestions:[],value:[],shouldRenderSuggestions:function(){return!1}};var gJ=fJ,vJ=Xf.a.createElement;var mJ,yJ=$Q(function(e){var t=e.formGroupClassName,n=e.formLabelClassName,r=e.name,i=e.labelText,a=e.helpText,o=e.showErrors,s=e.errors,l=e.children,c=wt()(e,["formGroupClassName","formLabelClassName","name","labelText","helpText","showErrors","errors","children"]);return hv()(MV,{className:t},void 0,l,hv()(ZQ,{className:n,showErrors:o,errors:s,name:r,labelText:i}),vJ(gJ,dv()({name:r,hasError:o},c)),a?hv()(qQ,{},void 0,a):null)}),bJ=n(476),SJ=n.n(bJ),IJ=Xf.a.Component,CJ=hv()(US,{}),MJ=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onRemovePress=function(){t.props.onRemove(t.props.index)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.getTagDisplayValue;return hv()("span",{className:SJ.a.container},void 0,hv()("span",{className:SJ.a.tag},void 0,hv()(RS,{className:SJ.a.remove,"aria-label":Object(Xn.default)("Remove Tag"),onPress:this.onRemovePress},void 0,CJ),hv()("span",{},void 0,n(t))))},t}(IJ),DJ=Xf.a.Component,wJ=((mJ={})[qr]={labelText:function(){return Object(Xn.default)("Allow Only Ratings")},placeholder:function(){return Object(Xn.default)("Allow all ratings")}},mJ[Zr]={labelText:function(){return Object(Xn.default)("Exclude Ratings")},placeholder:function(){return Object(Xn.default)("Don't exclude any ratings")}},mJ[Xr]={labelText:function(){return Object(Xn.default)("Allow Only Labels")},placeholder:function(){return Object(Xn.default)("Allow all labels")}},mJ[Jr]={labelText:function(){return Object(Xn.default)("Exclude Labels")},placeholder:function(){return Object(Xn.default)("Don't exclude any labels")}},mJ);function PJ(e){var t=e.metadataType,n=e.tagType,r=e.filterOptionsTags,i=n===qr||n===Zr?qr:Xr;return r[t][i]}var TJ=function(e){return e.value},EJ=function(e){return""===e.key?e.value:e.title},xJ=function(e,t){return e.title.toUpperCase().includes(t.toUpperCase())},OJ=function(e){return{key:"",title:Object(Xn.default)("Add {inputValue}",{inputValue:e}),value:e}},jJ=function(e){return e.title},AJ=function(){return!0},NJ=function(){},kJ=function(){},LJ=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i=t.isFilterOptionsTagsPopulated;return r.state={suggestions:i?PJ(t):[],isFilterOptionsTagsPopulated:i},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return!t.isFilterOptionsTagsPopulated&&e.isFilterOptionsTagsPopulated?{suggestions:PJ(e),isFilterOptionsTagsPopulated:!0}:null},t.prototype.render=function(){var e=this.props,t=e.name,n=e.tagType,r=e.initialValue,i=e.excludedTags,a=e.onChange,o=wJ[n],s=o.labelText,l=o.placeholder;return hv()(yJ,{getSuggestionValue:TJ,initialValue:r,labelText:s(),placeholder:l(),makeTagFromSuggestion:EJ,tagComponent:MJ,name:t,renderSuggestion:jJ,shouldRenderSuggestions:AJ,getAddSuggestionTag:OJ,suggestions:this.state.suggestions,suggestionsFilter:xJ,excludedTags:i,onSuggestionsClearRequested:NJ,onSuggestionsFetchRequested:kJ,onChange:a})},t}(DJ),RJ=n(477),_J=n.n(RJ),UJ=Xf.a.createElement,zJ=hv()(cE,{}),FJ=hv()(cE,{}),BJ=hv()(cE,{});var HJ=function(e){var t=e.className,n=e.friendFilterOptions,r=e.canShowExcludeRestrictions,i=wt()(e,["className","friendFilterOptions","canShowExcludeRestrictions"]),a=n.filterMovies,o=n.filterTelevision,s=n.filterMusic,l=KX(a,qr,Zr),c=KX(a,Xr,Jr),u=KX(o,qr,Zr),d=KX(o,Xr,Jr),p=KX(s,Xr,Jr);return hv()("div",{className:t},void 0,hv()("div",{className:_J.a.section},void 0,hv()("div",{},void 0,Object(Xn.default)("Content Restrictions"),zJ,Cl.get(ml).title),UJ(LJ,dv()({name:"moviesContentRatings",metadataType:nr.g,tagType:qr,initialValue:l.initialAllowTags,excludedTags:l.excludeTags,onChange:l.onAllowTagsChange},i)),r?UJ(LJ,dv()({name:"moviesExcludeContentRatings",metadataType:nr.g,tagType:Zr,initialValue:l.initialExcludeTags,excludedTags:l.allowTags,onChange:l.onExcludeTagsChange},i)):null,UJ(LJ,dv()({name:"moviesLabels",metadataType:nr.g,tagType:Xr,initialValue:c.initialAllowTags,excludedTags:c.excludeTags,onChange:c.onAllowTagsChange},i)),r?UJ(LJ,dv()({name:"moviesExcludeLabels",metadataType:nr.g,tagType:Jr,initialValue:c.initialExcludeTags,excludedTags:c.allowTags,onChange:c.onExcludeTagsChange},i)):null),hv()("div",{className:_J.a.section},void 0,hv()("div",{},void 0,Object(Xn.default)("Content Restrictions"),FJ,Cl.get(yl).title),UJ(LJ,dv()({name:"televisionContentRatings",metadataType:nr.l,tagType:qr,initialValue:u.initialAllowTags,excludedTags:u.excludeTags,onChange:u.onAllowTagsChange},i)),r?UJ(LJ,dv()({name:"televisionExcludeContentRatings",metadataType:nr.l,tagType:Zr,initialValue:u.initialExcludeTags,excludedTags:u.allowTags,onChange:u.onExcludeTagsChange},i)):null,UJ(LJ,dv()({name:"televisionLabels",metadataType:nr.l,tagType:Xr,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange},i)),r?UJ(LJ,dv()({name:"televisionExcludeLabels",metadataType:nr.l,tagType:Jr,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange},i)):null),hv()("div",{className:_J.a.section},void 0,hv()("div",{},void 0,Object(Xn.default)("Content Restrictions"),BJ,Cl.get(bl).title),UJ(LJ,dv()({name:"musicLabels",metadataType:nr.b,tagType:Xr,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange},i)),r?UJ(LJ,dv()({name:"musicExcludeLabels",metadataType:nr.b,tagType:Jr,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange},i)):null))},VJ=n(881),QJ=n.n(VJ);var WJ=$Q(function(e){var t=e.name,n=e.title,r=e.subtitle,i=e.value,a=e.values,o=e.onChange;return hv()("div",{},void 0,hv()(k_,{},void 0,n),hv()(EV,{name:t,value:i,values:a,size:qp.SMALL,onChange:o}),r?hv()("div",{className:QJ.a.subtitle},void 0,r):null)}),GJ=n(168),YJ=n.n(GJ),KJ=Xf.a.useEffect,qJ=Xf.a.useState;function ZJ(e){return parseInt(e,10)}var XJ=function(e){var t=e.friend,n=e.sourceDirectory,r=e.filterOptionsTags,i=e.isFilterOptionsTagsPopulating,s=e.isFilterOptionsTagsPopulated,l=e.canShareTuners,c=e.canShareTunersWithAll,u=e.canShareDVR,d=e.canShowExcludeRestrictions,p=e.isAddingHomeUser,h=e.isCreatingManagedUser,f=e.isSharingPending,g=e.isSharingCompleted,v=e.errorMessage,m=e.onPreviousPress,y=e.onSubmit,b=e.onModalClose,S=vF(g);KJ(function(){!S&&g&&h&&b()},[h,g,S,b]);var I=!!t&&t.home,C=!t||t.allowSync,M=!!t&&t.allowCameraUpload,D=t?t.allowTuners:0,w=t?{filterMovies:t.filterMovies,filterTelevision:t.filterTelevision,filterMusic:t.filterMusic}:{},P=qJ(I||p||h),T=P[0],E=P[1],x=(T||c)&&l;return hv()(x_,{className:YJ.a.form,onSubmit:y},void 0,hv()(lX,{isAddingHomeUser:p,isCreatingManagedUser:h,isSharingSingleLibrary:!!n,errorMessage:v,onModalClose:b},void 0,hv()(CN,{className:YJ.a.modalBody,scrollDirection:o.NONE},void 0,hv()(oT,{className:YJ.a.scroller,autoScroll:!0},void 0,p||h?null:hv()("div",{className:YJ.a.message},void 0,Object(Xn.default)("Users in your Home appear on the Switch User screen. You should only do this if you live in the same home and share devices. The invited user will be asked to confirm Home membership.")),p||h?null:hv()("div",{className:YJ.a.section},void 0,hv()(QX,{name:"addToHome",checkboxText:Object(Xn.default)("Add to Home"),initialValue:I,isDisabled:I,onChange:E})),hv()("div",{className:YJ.a.message},void 0,Object(Xn.default)("You can restrict this user's access to certain features and content. These restrictions apply to all items shared with this user. You can change them at any time in the Users & Sharing settings.")),hv()("div",{className:YJ.a.section},void 0,hv()(QX,{name:"allowSync",checkboxText:Object(Xn.default)("Allow Sync and Download"),subtitle:Object(Xn.default)("This will allow this user to sync or download content from your server"),initialValue:C}),hv()(QX,{name:"allowCameraUpload",checkboxText:Object(Xn.default)("Allow Camera Upload"),subtitle:Object(Xn.default)("This will allow this user to upload media to your server"),initialValue:M}),x&&!u?hv()(QX,{name:"allowTuners",checkboxText:Object(Xn.default)("Allow access to Live TV"),subtitle:Object(Xn.default)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user"),initialValue:!!D}):null,x&&u?hv()(WJ,{name:"allowTuners",title:Object(Xn.default)("Live TV & DVR Access"),subtitle:Object(Xn.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings"),initialValue:D,value:FX.values[D],values:FX.values,transformValue:ZJ}):null),hv()(HJ,{className:YJ.a.list,filterOptionsTags:r,friendFilterOptions:w,isFilterOptionsTagsPopulating:i,isFilterOptionsTagsPopulated:s,canShowExcludeRestrictions:d}))),hv()(Q_,{className:YJ.a.modalFooter},void 0,hv()(I_,{onPress:b},void 0,Object(Xn.default)("Cancel")),hv()(q_,{},void 0,hv()(I_,{onPress:m},void 0,Object(Xn.default)("Previous")),hv()(_V,{type:"submit",kind:a.PRIMARY,isDisabled:f,isSpinning:f},void 0,h?Object(Xn.default)("Add"):Object(Xn.default)("Send"))))))},JJ=Xf.a.createElement;var $J=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.serverEntityIDs;(0,e.dispatchFetchFilterOptionsTags)(t)},n.render=function(){var e=this.props,t=(e.serverEntityIDs,e.dispatchFetchFilterOptionsTags,wt()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]));return JJ(XJ,t)},t}(Xf.a.Component),e$=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.shareLibraryModal},UX,JZ(),aX(By),aX(Ny),aX(Hy),aX(Fy),function(e,t,n,r,i,a,o){var s=e.filterOptionsTags,l=e.isFilterOptionsTagsPopulating,c=e.isFilterOptionsTagsPopulated,u=e.isSharingPending,d=e.isSharingCompleted,p=e.sharingError;return{serverEntityIDs:t,friend:n,filterOptionsTags:s,isFilterOptionsTagsPopulating:l,isFilterOptionsTagsPopulated:c,canShareTuners:i,canShareTunersWithAll:r,canShareDVR:a,canShowExcludeRestrictions:o,isSharingPending:u&&!p,isSharingCompleted:d,errorMessage:p}})},function(e){return{dispatchFetchFilterOptionsTags:function(t){e(WZ({serverEntityIDs:t}))},onPreviousPress:function(){e(_Z())},onSubmit:function(t){var n=t.addToHome,r=wt()(t,["addToHome"]);e(GZ({addToHome:n,restrictions:r}))}}})($J),t$=n(882),n$=n(259),r$=n.n(n$),i$=Xf.a.useCallback,a$=Xf.a.useEffect,o$=Xf.a.useRef,s$=Xf.a.useState,l$=2e3,c$=function(){};var u$=function(e){var t=e.sourceDirectory,n=e.username,r=e.inviteToken,i=e.libraryCount,s=e.onModalClose,l=s$(!1),c=l[0],u=l[1],d=vF(c),p=o$(null),h=function(e){return F.join(["https://plex.tv","servers/shared_servers/accept"],{invite_token:e})}(r),f=i$(function(){t$.writeText(h),u(!0)},[h]);a$(function(){return!d&&c&&(p.current=setTimeout(function(){u(!1),clearTimeout(p.current)},l$)),function(){clearTimeout(p.current)}},[d,c]);var g=1===i?Object(Xn.default)("You shared a library with {username}.",{username:n}):Object(Xn.default)("You shared {libraryCount} libraries with {username}.",{libraryCount:i,username:n});return hv()("div",{className:r$.a.container},void 0,hv()(lX,{isSharingSingleLibrary:!!t,onModalClose:s},void 0,hv()(CN,{className:r$.a.modalBody,scrollDirection:o.NONE},void 0,hv()("div",{className:r$.a.content},void 0,hv()("p",{},void 0,g),hv()("p",{},void 0,Object(Xn.default)("We've sent an email asking them to confirm, or they can use this link to accept the invitation"),":"),hv()("div",{className:r$.a.inviteLink},void 0,hv()(gW,{className:r$.a.input,name:"inviteLink",value:h,readOnly:"readonly",onChange:c$}),hv()(RS,{className:r$.a.copyLink,kind:a.PRIMARY,isDisabled:c,onPress:f},void 0,c?Object(Xn.default)("Copied!"):Object(Xn.default)("Copy link"))))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.PRIMARY,onPress:s},void 0,Object(Xn.default)("Finish"))))))};var d$=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.shareLibraryModal},function(e){var t=e.username,n=e.serverOverviews,r=e.selectedAllLibrariesMachineIdentifiers,i=e.selectedLibrarySectionIDs;return{username:t,inviteToken:e.inviteToken,libraryCount:r.reduce(function(e,t){return e+n.find(function(e){return e.machineIdentifier===t}).sections.length},i.length)}})})(u$),p$=Object(Iy.createSelector)(wy,function(e){return e.allFriends});function h$(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 129 100",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-check"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m111.162 0l17.838 17.227-79.928 82.773-49.072-52.714 18.136-16.912 31.292 33.558 61.734-63.932"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}h$.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var f$=h$;function g$(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-user-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M532 504H319.2V352.8h-78.4V504H28V280L280 28l252 252v224zm-168-44.8h123.2V298.557L280 91.357l-207.2 207.2V459.2H196V308h168v151.2z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}g$.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var v$=g$,m$=n(260),y$=n.n(m$),b$=Xf.a.Component,S$=hv()(cE,{}),I$=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){t.props.onSelect(t.props.user.entityID)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.user,r=n.title,i=n.email,a=n.thumb,o=n.home,s=i&&i!==r;return hv()(I_,{className:y$.a.button,onPress:this.onPress},void 0,hv()($k,{className:y$.a.avatar,serverEntityID:t,url:a,width:30,height:30}),hv()("div",{className:y$.a.titleContainer},void 0,hv()("span",{className:y$.a.title},void 0,r),s?hv()("span",{className:y$.a.email},void 0,S$,i):null),o?hv()(v$,{className:y$.a.homeIcon}):null)},t}(b$),C$=n(223),M$=n.n(C$),D$=Xf.a.Component,w$=Xf.a.Fragment;function P$(e){return e.includes("@")}function T$(e,t){return!e.home&&t.home?1:e.home&&!t.home?-1:0}function E$(e){return{id:-1,title:e,thumb:"https://plex.tv/users/"+encodeURIComponent(e)+"/avatar"}}var x$=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onUsernameChange=function(e){r._clearOnUsernameChangeTimeout(),r.setState({username:e,isChangingUsername:!0},function(){r.props.isCreatingManagedUser||(r._timeoutID=setTimeout(function(){r._timeoutID=null,r.props.onValidateUsername({username:e})},500))})},r.onUserSelect=function(e){var t=r.props,n=t.isAddingHomeUser,i=t.onSetUsername,a=t.onSetUser;e?a({friendEntityID:e,isAddingHomeUser:n}):i({username:r.state.username,isAddingHomeUser:n})},r.onSubmit=function(){var e=r.props,t=e.isAddingHomeUser,n=e.isCreatingManagedUser;(0,e.onSetUsername)({username:r.state.username,isAddingHomeUser:t,isCreatingManagedUser:n})},r.state={username:"",isChangingUsername:!1},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return t.isChangingUsername&&e.isUsernameValidating?{isChangingUsername:!1}:null};var n=t.prototype;return n.componentWillUnmount=function(){this._clearOnUsernameChangeTimeout()},n._clearOnUsernameChangeTimeout=function(){this._timeoutID&&clearTimeout(this._timeoutID)},n.render=function(){var e,t=this,n=this.props,r=n.serverEntityID,i=n.sourceDirectory,s=n.users,l=n.isAddingHomeUser,c=n.isCreatingManagedUser,u=n.isUsernameValidating,d=n.isUsernameValidated,p=n.onModalClose,h=this.state,f=h.username,g=h.isChangingUsername,v=function(e,t,n){var r=t.trim().toUpperCase(),i=e.filter(function(e){return(!n||!e.home)&&(e.username&&e.username.toUpperCase().includes(r)||e.title&&e.title.toUpperCase().includes(r)||e.email&&e.email.toUpperCase().includes(r))});return i.sort(T$),i}(s,f,l),m=!d||g||function(e,t){return!!e.find(function(e){return e.username===t||e.title===t||e.email===t})}(v,f)?v:[E$(f)].concat(v),y=!u&&!d,b=g||u||y&&!P$(f),S=""!==f.trim()&&!c&&0===m.length&&y&&!g;return hv()(x_,{className:M$.a.form,onSubmit:this.onSubmit},void 0,hv()(lX,{isAddingHomeUser:l,isCreatingManagedUser:c,isSharingSingleLibrary:!!i,onModalClose:p},void 0,hv()(CN,{className:M$.a.modalBody,scrollDirection:o.NONE},void 0,hv()("div",{className:M$.a.messages},void 0,hv()("div",{},void 0,function(e,t){return e?Object(Xn.default)("Users in your Home appear on the Switch User screen. You should only do this if you live in the same home and share devices."):t?Object(Xn.default)("Managed users are only available when signed in with an account in your home."):Object(Xn.default)("Choose a user to share with. You can enter their Plex username or email.")}(l,c)),hv()("div",{},void 0,function(e,t){return e?Object(Xn.default)("The invited user will be asked to confirm Home membership."):t?Object(Xn.default)("You can choose any name you like and you'll be able to set restrictions on accessible media."):Object(Xn.default)("New users will be invited to Plex and asked to accept the share.")}(l,c))),hv()("div",{className:M$.a.inputContainer},void 0,hv()(gW,{name:"username",autoComplete:"off",placeholder:c?Object(Xn.default)("Username"):Object(Xn.default)("Username or email"),onChange:this.onUsernameChange}),u?hv()(ZE.a,{className:M$.a.icon,size:qp.SMALL}):null,d?hv()(f$,{className:M$.a.checkIcon}):null),!c&&m.length>0?hv()(w$,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Users")),hv()(oT,{className:M$.a.scroller,autoScroll:!0},void 0,m.map(function(e){return hv()(I$,{serverEntityID:r,user:e,onSelect:t.onUserSelect},e.id)}))):null,S?hv()("div",{},void 0,P$(e=f)?Object(Xn.default)("An invite will be sent to {emailAddress}",{emailAddress:e.trim()}):Object(Xn.default)("No Plex users found. Enter a valid email address to invite someone new")):null),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{onPress:p},void 0,Object(Xn.default)("Cancel")),hv()(I_,{type:"submit",kind:a.PRIMARY,isDisabled:""===f.trim()||!c&&b},void 0,Object(Xn.default)("Continue"))))))},t}(D$);var O$=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.shareLibraryModal},p$,XZ,function(e,t,n){return{users:t.map(function(e){return n[e]}),isUsernameValidating:e.isUsernameValidating,isUsernameValidated:e.isUsernameValidated}})},{onValidateUsername:zZ,onSetUsername:FZ,onSetUser:BZ})(x$),j$=Xf.a.createElement,A$=Xf.a.Component;var N$={dispatchResetShareLibraryModal:RZ},k$=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){this.props.dispatchResetShareLibraryModal()},n.render=function(){var e=this.props,t=e.step,n=(e.dispatchResetShareLibraryModal,wt()(e,["step","dispatchResetShareLibraryModal"]));switch(t){case SZ:return j$(O$,n);case IZ:return j$(RX,n);case CZ:return j$(e$,n);case MZ:return j$(d$,n)}},t}(A$),L$=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.shareLibraryModal},function(e){return{step:e.step,friendEntityID:e.friendEntityID}})},N$)(k$);var R$=function(e){var t=e.serverEntityID,n=e.sourceDirectory,r=e.metricsProperties,i=e.isAddingHomeUser,a=e.isCreatingManagedUser,o=e.isOpen,s=e.onModalClose;return hv()(VN,{metricsPage:za,metricsProperties:r,isOpen:o,onModalClose:s},void 0,hv()(L$,{serverEntityID:t,sourceDirectory:n,isAddingHomeUser:i,isCreatingManagedUser:a,onModalClose:s}))},_$=Xf.a.createElement,U$=Xf.a.Fragment,z$=Xf.a.useCallback,F$=Xf.a.useState;var B$=function(e){var t=e.serverEntityID,n=e.isLibraryRefreshing,r=e.onUpdatePress,i=e.onCancelUpdatePress,o=e.onAnalyzePress,s=e.onRefreshAllPress,l=e.onEmptyTrashPress,c=e.onDeletePress,u=e.onMenuClose,d=wt()(e,["serverEntityID","isLibraryRefreshing","onUpdatePress","onCancelUpdatePress","onAnalyzePress","onRefreshAllPress","onEmptyTrashPress","onDeletePress","onMenuClose"]),p=F$(!1),h=p[0],f=p[1],g=z$(function(){return f(!0)},[]),v=z$(function(){f(!1)},[]);return hv()(U$,{},void 0,_$(zT,dv()({onMenuClose:u},d),hv()(hI,{onPress:g},void 0,Object(Xn.default)("Share")),n?hv()(hI,{onPress:JA(u,i)},void 0,Object(Xn.default)("Cancel Scan")):hv()(hI,{onPress:JA(u,r)},void 0,Object(Xn.default)("Scan Library Files")),hv()(hI,{onPress:JA(u,o)},void 0,Object(Xn.default)("Analyze")),hv()(hI,{onPress:JA(u,s)},void 0,Object(Xn.default)("Refresh All Metadata")),hv()(hI,{onPress:JA(u,l)},void 0,Object(Xn.default)("Empty Trash")),hv()(hI,{kind:a.DANGER,onPress:JA(u,c)},void 0,Object(Xn.default)("Delete"))),hv()(R$,{metricsProperties:{context:An},serverEntityID:t,isOpen:h,onModalClose:v}))};function H$(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M350 280c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0-210c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70m0 420c0 38.634-31.366 70-70 70s-70-31.366-70-70 31.366-70 70-70 70 31.366 70 70"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}H$.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var V$=H$,Q$=n(135),W$=n.n(Q$),G$=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onActionsPress=function(){r.setState({isActionsMenuOpen:!r.state.isActionsMenuOpen})},r.onActionsMenuClose=function(){r.setState({isActionsMenuOpen:!1})},r.onAnalyzePress=function(){r.setState({isAnalyzeModalOpen:!0})},r.onAnalyzeConfirm=function(){r.setState({isAnalyzeModalOpen:!1}),r.props.onAnalyzeLibraryPress()},r.onAnalyzeCancel=function(){r.setState({isAnalyzeModalOpen:!1})},r.onRefreshAllPress=function(){r.setState({isRefreshAllModalOpen:!0})},r.onRefreshAllConfirm=function(){r.setState({isRefreshAllModalOpen:!1}),r.props.onRefreshLibraryPress()},r.onRefreshAllCancel=function(){r.setState({isRefreshAllModalOpen:!1})},r.onEmptyTrashPress=function(){r.setState({isEmptyTrashModalOpen:!0})},r.onEmptyTrashConfirm=function(){r.setState({isEmptyTrashModalOpen:!1}),r.props.onEmptyTrashLibraryPress()},r.onEmptyTrashCancel=function(){r.setState({isEmptyTrashModalOpen:!1})},r.onDeletePress=function(){r.setState({isDeleteModalOpen:!0})},r.onDeleteConfirm=function(){r.props.onDeleteLibraryPress()},r.onDeleteCancel=function(){r.setState({isDeleteModalOpen:!1})},r.state={isActionsMenuOpen:!1,isAnalyzeModalOpen:!1,isRefreshAllModalOpen:!1,isEmptyTrashModalOpen:!1,isDeleteModalOpen:!1},r._actionsMenuButtonID=PS(),r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.isLibraryDeleteInProgress!==t.isLibraryDeleteInProgress?!e.isLibraryDeleteInProgress&&t.isLibraryDeleteInProgress&&t.isDeleteModalOpen?{isDeleteModalOpen:!1,isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:{isLibraryDeleteInProgress:e.isLibraryDeleteInProgress}:null},t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.rowIndex,r=e.title,i=e.route,a=e.type,o=e.refreshing,s=e.isLibraryDeleteInProgress,l=e.onUpdateLibraryPress,c=e.onCancelUpdateLibraryPress,u=e.onEditLibraryPress,d=this.state.isActionsMenuOpen,p=Object(Xn.default)("Edit {library}",{library:r}),h=pA(a);return hv()("div",{className:((n%2?W$.a.alternateContainer:W$.a.container)||"")+" "+(d&&W$.a.isActionsMenuOpen||"")},void 0,hv()(RS,{className:W$.a.underlay,title:p,onPress:u}),hv()("div",{className:W$.a.titleContainer},void 0,hv()("div",{className:W$.a.iconContainer},void 0,o?hv()(ZE.a,{className:W$.a.spinner}):hv()(h,{})),hv()(RS,{className:W$.a.title,title:r,to:i},void 0,r)),hv()("div",{className:W$.a.actions},void 0,hv()(RS,{className:W$.a.action,title:p,onPress:u},void 0,Object(Xn.default)("Edit")),hv()(Kz,{id:this._actionsMenuButtonID,className:W$.a.action,iconComponent:V$,title:Object(Xn.default)("More Actions"),onPress:this.onActionsPress}),hv()(B$,{target:this._actionsMenuButtonID,isOpen:this.state.isActionsMenuOpen,serverEntityID:t,isLibraryRefreshing:o,onMenuClose:this.onActionsMenuClose,onUpdatePress:l,onCancelUpdatePress:c,onAnalyzePress:this.onAnalyzePress,onRefreshAllPress:this.onRefreshAllPress,onEmptyTrashPress:this.onEmptyTrashPress,onDeletePress:this.onDeletePress}),hv()(mK,{isOpen:this.state.isAnalyzeModalOpen,metricsPage:Xa,title:Object(Xn.default)("Analyze Library"),message:Object(Xn.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Xn.default)("Analyze"),onConfirm:this.onAnalyzeConfirm,onCancel:this.onAnalyzeCancel}),hv()(mK,{isOpen:this.state.isRefreshAllModalOpen,metricsPage:Ja,title:Object(Xn.default)("Refresh All Metadata"),message:Object(Xn.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Xn.default)("Refresh"),onConfirm:this.onRefreshAllConfirm,onCancel:this.onRefreshAllCancel}),hv()(mK,{isOpen:this.state.isEmptyTrashModalOpen,metricsPage:$a,title:Object(Xn.default)("Empty Trash"),message:Object(Xn.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Xn.default)("Empty"),onConfirm:this.onEmptyTrashConfirm,onCancel:this.onEmptyTrashCancel}),hv()(mK,{isOpen:this.state.isDeleteModalOpen,isConfirmButtonSpinning:s,isCancelButtonDisabled:s,metricsPage:eo,kind:Gp,title:Object(Xn.default)("Delete Library"),message:Object(Xn.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:r}),accordMessage:Object(Xn.default)('Yes, delete the library "{libraryName}"',{libraryName:r}),confirmLabel:Object(Xn.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})))},t}(Xf.a.Component);var Y$=iZ(function(){return Object(Iy.createSelector)(Xq(),Object(Iy.createSelector)(Dy(),Hk(),fZ(),Xq(),function(e,t,n,r){return dr(e,t,gZ(n,"/library/sections/"+r.key))}),tZ(),function(e,t,n){return{title:e.title,route:t,type:Fq(e),refreshing:e.refreshing,isLibraryDeleteInProgress:!!n}})},function(e,t){var n={serverEntityID:t.serverEntityID,libraryEntityID:t.libraryEntityID,metricsPage:t.metricsPage};return{onUpdateLibraryPress:function(){e(aZ(n))},onCancelUpdateLibraryPress:function(){e(dZ(n))},onEditLibraryPress:function(){e(oZ(n))},onAnalyzeLibraryPress:function(){e(sZ(n))},onRefreshLibraryPress:function(){e(uZ(n))},onEmptyTrashLibraryPress:function(){e(lZ(n))},onDeleteLibraryPress:function(){e(cZ(n))}}})(G$),K$=n(601),q$=n.n(K$),Z$=Xf.a.Fragment;var X$=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.libraryEntityIDs,i=e.sectionTypeTitle;return hv()(Z$,{},void 0,hv()("div",{className:q$.a.title},void 0,i),hv()("div",{className:q$.a.divider}),r.map(function(e,r){return hv()(Y$,{serverEntityID:t,providerEntityID:n,libraryEntityID:e,rowIndex:r},e)}))},J$=n(315),$$=n.n(J$),e0=Xf.a.Fragment,t0=hv()(Gq,{},void 0,hv()(ZE.a,{}));var n0=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.sectionTypes,i=e.librariesBySectionType,a=e.librariesCount,o=e.isLibrariesPopulated,s=e.librariesError,l=e.isLibraryRefreshing,c=e.onAddLibraryPress,u=e.onCancelUpdatePress,d=e.onUpdateLibrariesPress;return s&&!a?hv()(Zq,{title:Object(Xn.default)("There was an unexpected error loading libraries.")}):o||s?hv()(e0,{},void 0,hv()("div",{className:$$.a.header},void 0,hv()("div",{className:$$.a.headerTitle},void 0,Object(Xn.default)("{librariesCount} Libraries",{librariesCount:a})),hv()("div",{},void 0,hv()(I_,{className:$$.a.button,size:qp.SMALL,onPress:c},void 0,Object(Xn.default)("Add library")),l?hv()(I_,{className:$$.a.button,size:qp.SMALL,onPress:u},void 0,Object(Xn.default)("Cancel scan")):hv()(I_,{className:$$.a.button,size:qp.SMALL,onPress:d},void 0,Object(Xn.default)("Scan library files")))),r.map(function(e){var r=i[e.key];return r?hv()(X$,{serverEntityID:t,providerEntityID:n,libraryEntityIDs:r,sectionTypeTitle:e.title},e.key):null})):t0},r0=Xf.a.createElement;var i0=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchFetchLibraries()},n.render=function(){var e=this.props,t=(e.dispatchFetchLibraries,wt()(e,["dispatchFetchLibraries"]));return r0(n0,t)},t}(Xf.a.Component),a0=Lm(function(){return Object(Iy.createSelector)(WA(),Bq(),Object(Iy.createSelector)(zq(),function(e){return e.reduce(function(e,t){var n=Fq(t);return e[n]?e[n].push(t.entityID):e[n]=[t.entityID],e},{})}),function(e,t,n){return{sectionTypes:Cl.getAll(),librariesBySectionType:n,librariesCount:e.libraries.length,isLibrariesPopulated:e.isLibrariesPopulated,librariesError:e.librariesError,isLibraryRefreshing:t}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{dispatchFetchLibraries:function(){e(gc(n))},onAddLibraryPress:function(){e(jA(Object.assign({},n,{redirect:!1})))},onUpdateLibrariesPress:function(){e(AA(n))},onCancelUpdatePress:function(){e(BA(n))}}})(i0);function o0(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(nl.a)(t,n);return r.getTime()>i.getTime()}function s0(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(nl.a)(t,n);return r.getTime()<i.getTime()}var l0=n(251);function c0(e,t,n){if(!t)return null;var r=new Date(t);if(!Object(l0.a)(r))return-1;for(var i,a=r.getTime(),o=0,s=e.length-1;o<=s;){var l=e[i=Math.floor((o+s)/2)],c=e[i+1],u=new Date(l.time).getTime();if(!c)return a>u?i:i+1;if(a===u)return n<i?i:i+1;var d=new Date(c.time).getTime();if(a>u&&a<d)return i+1;a>u?o=i+1:a<u&&(s=i-1)}return Math.max(0,i)}var u0,d0="MMM dd, yyyy HH:mm:ss.SSS";function p0(e){return Pb(e,d0,new Date)}var h0="ui/serverLogPageActions/clearLog",f0="ui/serverLogPageActions/toggleRaw",g0=Mt("ui/serverLogPageActions/changeTextFilter"),v0=Mt("ui/serverLogPageActions/changeTimeFilter"),m0=Mt("ui/serverLogPageActions/clearFilter"),y0=Mt("ui/serverLogPageActions/addLogLine"),b0=Mt("ui/serverLogPageActions/resetLogLevels"),S0=Mt("ui/serverLogPageActions/toggleLogLevel"),I0=Mt(h0),C0=Mt("ui/serverLogPageActions/loadLogfile"),M0=Mt("ui/serverLogPageActions/toggleTimeFilter"),D0=Mt(f0),w0=Mt("ui/serverLogPageActions/highlightLine");function P0(e,t,n){return t.all||(t.all=[]),e.index=t.all.length,x0(e,{filter:n.get("filter"),timeFilterStart:n.get("timeFilterStart"),timeFilterEnd:n.get("timeFilterEnd"),logLevels:n.get("logLevels")})?t.filtered&&t.filtered.push(e):t.filtered||(t.filtered=t.all.slice(0)),t.all.push(e),t}function T0(e){return e.get("ui").get("serverLogPage")}function E0(e){return e.split(/\s+/).map(function(e){return new RegExp(Vf(e),"i")})}function x0(e,t){var n,r,i,a=t.filter,o=t.timeFilterStart,s=t.timeFilterStartIndex,l=t.timeFilterEnd,c=t.timeFilterEndIndex,u=t.logLevels;if(!(!u.length||-1!==u.indexOf(e.level)))return!1;if((o||null!=s||l||null!=c)&&(null!=s&&null!=c||(n=p0(e.time),null==s&&(r=o&&p0(o)),null==c&&(i=l&&p0(l))),null!=s&&s>e.index||null!=c&&c<e.index||r&&o0(r,n)||i&&s0(i,n)))return!1;return!a||(t.regexps||E0(a)).every(function(t){return t.test(e.message)||t.test(e.thread)})}function O0(e){var t=e.get("filter"),n=e.get("timeFilterStart"),r=e.get("timeFilterEnd"),i=e.get("logLevels"),a=e._unfilteredLogLines,o=c0(a,n,-1/0),s=function(e,t){return c0(e,t,1/0)}(a,r),l=function(e,t){var n=E0(t.filter);return e.filter(function(e){return x0(e,Object.assign({},t,{regexps:n}))})}(a,{logLevels:i,filter:t,timeFilterStart:n,timeFilterStartIndex:-1===o?null:o,timeFilterEndIndex:-1===s?null:s,timeFilterEnd:r});e.set({logLines:l,unfilteredLogLinesCount:a.length,isTimeFilterStartValid:-1!==o,isTimeFilterEndValid:-1!==s})}var j0=/^([^[]+)\[([^\]]+)]\s+([^\s]+)\s+-\s+(.*)/,A0={ERROR:0,WARN:1,INFO:2,DEBUG:3,VERBOSE:4};function N0(e){if(!e)return null;var t=e.match(j0),n=t[1],r=t[2],i=t[3],a=t[4];return{time:n.trim(),thread:r.trim(),level:A0[i],message:a.trim()}}var k0=Qx(((u0={})["ui/serverLogPageActions/addLogLine"]=function(e,t){var n=t.message,r=T0(e);r._unfilteredLogLines||(r._unfilteredLogLines=[]);var i=r.get("logLines").length!==r._unfilteredLogLines.length,a=i?r.get("logLines"):null,o=i?a.length:null,s=P0(n,{all:r._unfilteredLogLines.slice(0),filtered:a},r);s.filtered&&s.filtered.length!==o&&(s.filtered=s.filtered.slice(0)),r._unfilteredLogLines=s.all,r.set({unfilteredLogLinesCount:s.all.length,logLines:s.filtered||s.all})},u0["ui/serverLogPageActions/changeTextFilter"]=function(e,t){var n=T0(e),r=t.filter;n.set({filter:r}),O0(n)},u0["ui/serverLogPageActions/changeTimeFilter"]=function(e,t){var n=T0(e),r=t.timeFilterStart,i=t.timeFilterEnd;n.set({showTimeFilter:!(!r&&!i),timeFilterStart:r,timeFilterEnd:i}),O0(n)},u0["ui/serverLogPageActions/clearFilter"]=function(e){var t=T0(e);t.set({filter:"",timeFilterStart:"",timeFilterEnd:"",logLevels:[]}),O0(t)},u0["ui/serverLogPageActions/resetLogLevels"]=function(e){var t=T0(e);t.set({logLevels:[]}),O0(t)},u0["ui/serverLogPageActions/toggleLogLevel"]=function(e,t){var n=T0(e),r=n.get("logLevels"),i=r.slice(0),a=r.indexOf(t.logLevel);-1===a?i.push(t.logLevel):i.splice(a,1),n.set({logLevels:i}),O0(n)},u0[h0]=function(e){var t=T0(e);t.set({logLines:[],unfilteredLogLinesCount:0,highlightedLineIndex:null,showRawText:!1}),t._unfilteredLogLines=[]},u0["ui/serverLogPageActions/loadLogfile"]=function(e,t){var n=t.result,r=T0(e),i={all:[]};r.set({logLines:[],unfilteredLogLinesCount:0});try{n.split(/\n+/).map(N0).forEach(function(e){e&&(i=P0(e,i,r))}),r._unfilteredLogLines=i.all,r.set({unfilteredLogLinesCount:i.all.length,logLines:i.filtered||i.all})}catch(e){}},u0["ui/serverLogPageActions/toggleTimeFilter"]=function(e){var t=T0(e),n=t.get("showTimeFilter");t.set({timeFilterStart:"",timeFilterEnd:"",showTimeFilter:!n}),O0(t)},u0[f0]=function(e){var t=T0(e);t.set("showRawText",!t.get("showRawText"))},u0["ui/serverLogPageActions/highlightLine"]=function(e,t){T0(e).set("highlightedLineIndex",t.index)},u0)),L0="account",R0="activity",_0="backgroundGeneratorState",U0="backgroundProcessingQueue",z0="grabber.device",F0="log",B0="playing",H0="preference",V0="progress",Q0="provider.change",W0="provider.content.change",G0="provider.subscription.change",Y0="reachability",K0="status",q0="syncState",Z0="timeline",X0="transcodeSession.end",J0="transcodeSession.start",$0="transcodeSession.update",e1="update.statechange",t1="versionState";var n1,r1=function(e,t){return(-1===t.indexOf(e.type)?[]:function(e){switch(e.type){case H0:return e.Setting;case Z0:return e.TimelineEntry;case K0:return e.StatusNotification;case V0:return e.ProgressNotification;case B0:return e.PlaySessionStateNotification;case q0:return e.SyncStateNotification;case _0:return e.BackgroundGeneratorStateNotification;case t1:return e.VersionStateNotification;case U0:return e.BackgroundProcessingQueueEventNotification;case J0:case $0:case X0:return e.TranscodeSession;case e1:return e.AutoUpdateNotification;case Y0:return e.ReachabilityNotification;case L0:return e.AccountUpdateNotification;case R0:return e.ActivityNotification;case z0:return e.MediaGrabberDeviceNotification;case Q0:return e.MediaProviderNotification;case W0:return e.MediaProviderContentNotification;case F0:return e.LogSentNotification;case G0:return e.MediaProviderSubscriptionNotification}}(e))||[]},i1=me.a.extend({mixins:Se.a,url:function(){var e=this.server.get("activeConnection");if(e){var t=e.id.replace(/^http/,"ws"),n=this.server.resolveUrl("/:/websockets/notifications",{connection:new He({uri:t}),appendToken:!0,appendHeaders:this.appendHeaders});return n}},initialize:function(e){C.a.bindAll(this,"onOpen","onClose","onError","onMessage","getMessageTypes"),this.server=e.server,this.appendHeaders=e.appendHeaders||!1},open:function(){this.socket&&this.close(),this._deferred=P.a.Deferred();var e=C.a.result(this,"url");return e?(this.socket=new window.WebSocket(e),this.socket.onopen=this.onOpen,this.socket.onclose=this.onClose,this.socket.onerror=this.onError,this.socket.onmessage=this.onMessage,this._deferred.promise()):this._deferred.reject().promise()},close:function(){this.socket&&(this.socket.onopen=null,this.socket.onclose=null,this.socket.onerror=null,this.socket.onmessage=null,this.socket.close(),this.socket=null,this._deferred&&"pending"===this._deferred.state()&&this._deferred.reject())},testConnection:function(){if(this.server.get("connected")){var e=this.server.get("desktop").get("update");e&&"installing"===e.get("state")&&this.server.set("connected",null),this.server.trigger("error:connection",this.server)}},onOpen:function(e){var t=J.c("appStore"),n=this.server.entityID();n&&t.dispatch(dc({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{opened:!0}),this.trigger("open",this.server,e),this._deferred.resolve(this.server,e)},onClose:function(e){this.close();var t=J.c("appStore"),n=this.server.entityID();n&&t.dispatch(pc({serverEntityID:n,event:e})),this.server.trigger("socket:websocket",{closed:!0}),this.trigger("close",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onError:function(e){this.close(),this.server.trigger("socket:websocket",{error:!0}),this.trigger("error",this.server,e),this._deferred.reject(this.server,e),this.testConnection()},onMessage:function(e){var t,n=this;try{t=JSON.parse(e.data)}catch(t){return void D.a.warn("[Connections] Error formatting message:\n%s",e.data)}var r=!!t._elementType,i=r?C.a.first(t._children):t.NotificationContainer;if(i){var a=this[r?t.type:i.type];(r?Array.isArray(i)?i:[i]:r1(i,this.getMessageTypes())).forEach(function(e){n.trigger("message",e),C.a.isFunction(a)&&a.call(n,e)})}}}),a1=[F0],o1=i1.extend(((n1={name:"MediaServerLogEventConnection",url:function(){var e=this.server.get("activeConnection").id.replace(/^http/,"ws");return this.server.resolveUrl("/:/websockets/notifications",{params:{filters:"log"},connection:new He({uri:e}),appendToken:!0})},getMessageTypes:function(){return a1}})[F0]=function(e){Object(J.c)("appStore").dispatch(y0({message:e,serverEntityID:this.server.entityID()}))},n1)),s1=Mt("CHANGE_BACKGROUND"),l1=Mt("CHANGE_THEME_MUSIC"),c1=Mt("RESET_BACKGROUND"),u1=Xf.a.createElement;var d1=function(e){var t=e.children,n=wt()(e,["children"]);return u1(Zq,dv()({title:Object(Xn.default)("There was an unexpected error"),description:Object(Xn.default)("Please visit our forums if you continue to experience problems")},n),hv()(RS,{to:fB,target:"_self",kind:a.PRIMARY},void 0,Object(Xn.default)("Go to Forums")),t)},p1=Xf.a.createElement,h1=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScrollPositionChange=function(e){var t=e.scrollTop;r.state.isScrolling||(r._currentScrollTop=t)},r.state={isScrolling:!1},r._positionKey=rF.getKey(t.scrollPositionKey),r._currentScrollTop=0,r._restoreScrollDelay=t.smoothScroll?t.smoothScrollDuration:t.restoreScrollDelay,r._restoreScroll=!1,r._restoreScrollTimeoutID=null,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._restoreScrollPosition()},n.componentDidUpdate=function(e){var t=this.props.scrollPositionKey;e.scrollPositionKey!==t&&(this._positionKey=rF.getKey(t))},n.componentWillUnmount=function(){this._storeScrollPosition(),this._restoreScrollTimeoutID&&clearTimeout(this._restoreScrollTimeoutID)},n._restoreScrollPosition=function(){var e=this,t=rF.get(this._positionKey);t&&(this.setState({isScrolling:!0}),this._currentScrollTop=t.scrollTop,this._restoreScroll=!0,this._restoreScrollTimeoutID=setTimeout(function(){e.setState({isScrolling:!1}),e._restoreScroll=!1},this._restoreScrollDelay))},n._storeScrollPosition=function(){rF.set(this._positionKey,{scrollTop:this._currentScrollTop})},n.render=function(){var e=this.props,t=e.children,n=e.className,r=(e.restoreScrollDelay,e.scrollPositionKey,wt()(e,["children","className","restoreScrollDelay","scrollPositionKey"]));return p1(oT,dv()({className:n,scrollTop:this._currentScrollTop,restoreScroll:this._restoreScroll,onScrollPositionChange:this.onScrollPositionChange},r),t)},t}(Xf.a.Component);h1.defaultProps={restoreScrollDelay:100,scrollPositionKey:"scrollPosition",smoothScroll:!0,smoothScrollDuration:400};var f1=h1,g1=n(446),v1=n.n(g1),m1=Xf.a.createElement;var y1=function(e){var t=e.children,n=e.metricsPage,r=e.metricsProperties,i=e.isMetricsDelegated,a=wt()(e,["children","metricsPage","metricsProperties","isMetricsDelegated"]);return m1(BN,dv()({},r,{page:n,isDelegated:i}),m1(f1,dv()({className:v1.a.page},a),t))},b1=Xf.a.createElement,S1=Xf.a.Component,I1={dispatchChangeBackground:s1,dispatchResetBackground:c1,dispatchGarbageCollectEntities:Ps},C1=hv()(d1,{}),M1=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={hasError:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.disableBackgroundPreset||this.props.dispatchChangeBackground({allowLightPreset:this.props.allowBackgroundLightPreset})},n.componentWillUnmount=function(){var e=this.props,t=e.dispatchResetBackground,n=e.dispatchGarbageCollectEntities;t(),n()},n.componentDidCatch=function(e){D.a.error(e.stack),this.setState({hasError:!0})},n.render=function(){var e=this.props,t=(e.dispatchChangeBackground,e.dispatchResetBackground,e.dispatchGarbageCollectEntities,e.disableBackgroundPreset,e.allowBackgroundLightPreset,wt()(e,["dispatchChangeBackground","dispatchResetBackground","dispatchGarbageCollectEntities","disableBackgroundPreset","allowBackgroundLightPreset"]));return this.state.hasError?C1:b1(y1,t)},t}(S1);M1.defaultProps={disableBackgroundPreset:!1,allowBackgroundLightPreset:!1};var D1=Lm(null,I1)(M1),w1=n(478),P1=n.n(w1),T1=Xf.a.createElement,E1=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.tooltip,r=e.className,i=(e.hasLabel,e.tooltipAttachment),a=e.hideOnPress,o=e.onPress,s=wt()(e,["children","tooltip","className","hasLabel","tooltipAttachment","hideOnPress","onPress"]),l=P1.a[i],c=l+" "+P1.a.hasFocus;return T1(gN,dv()({className:r,"aria-label":n,component:RS,tooltip:n,tooltipClassName:l,tooltipFocusedClassName:c,hideOnPress:a,onPress:o},s),t)},t}(Xf.a.Component);E1.defaultProps={className:P1.a.toolbarButton,tooltipAttachment:ah};var x1=E1,O1=n(883),j1=n.n(O1),A1=Xf.a.createElement;var N1=function(e){var t=e.children,n=wt()(e,["children"]);return A1("div",dv()({className:j1.a.pageHeader},n),t)},k1=n(884),L1=n.n(k1);function R1(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}R1.defaultProps={className:L1.a.pageHeaderLeft};var _1=R1,U1=n(885),z1=n.n(U1);function F1(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}F1.defaultProps={className:z1.a.pageHeaderRight};var B1=F1,H1=n(602),V1=n.n(H1),Q1=Xf.a.createElement,W1=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.linkClassName,n=e.buttonClassName,r=e.title,i=e.to,a=e.hasMenu,o=e.isMenuOpen,s=e.isSelected,l=e.isDisabled,c=wt()(e,["linkClassName","buttonClassName","title","to","hasMenu","isMenuOpen","isSelected","isDisabled"]);return a||i?a?Q1(AI,dv()({className:n,"data-qa-id":"typeDropdownButton",isSelected:s,isDisabled:l,direction:o?Up:Fp},c),r):hv()(RS,{className:t,to:i,isDisabled:l},void 0,r):hv()("span",{className:t},void 0,r)},t}(Xf.a.Component);W1.defaultProps={linkClassName:V1.a.link,buttonClassName:V1.a.button,hasMenu:!1,isMenuOpen:!1,isSelected:!1,isDisabled:!1};var G1=W1,Y1=n(886),K1=n.n(Y1);var q1=function(){return hv()("div",{className:K1.a.separator})},Z1=[4,3,2,1,0];var X1=function(e){switch(e){case 0:return Object(Xn.default)("Error");case 1:return Object(Xn.default)("Warning");case 2:return Object(Xn.default)("Info");case 3:return Object(Xn.default)("Debug");case 4:return Object(Xn.default)("Verbose");default:return Object(Xn.default)("Unknown")}},J1=Xf.a.Component,$1=Xf.a.Fragment,e2=hv()(q1,{}),t2=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMenuPress=function(){r.setState(function(e){return{isMenuOpen:!e.isMenuOpen}})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.onAllPress=function(){r.props.onResetLogLevels()},r.onLogLevelSelect=function(e){r.props.onToggleLogLevel(e)},r._buttonID=PS(),r.state={isMenuOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e,t=this,n=this.props.logLevels,r=this.state.isMenuOpen;return e=n.length?1===n.length?X1(n[0]):Object(Xn.default)("Custom"):Object(Xn.default)("All"),hv()($1,{},void 0,hv()(G1,{id:this._buttonID,title:e,hasMenu:!0,isMenuOpen:r,onPress:this.onMenuPress}),hv()(zT,{target:this._buttonID,isOpen:r,size:qp.LARGE,onMenuClose:this.onMenuClose},void 0,hv()(MI,{isSelected:!n.length,onPress:this.onAllPress},"all",Object(Xn.default)("All")),e2,Z1.map(function(e,r){return hv()(MI,{value:e,isSelected:-1!==n.indexOf(e),onSelect:t.onLogLevelSelect},r,X1(e))})))},t}(J1),n2=Object(Iy.createSelector)(function(e){return e.ui.serverLogPage.logLevels},function(e){return{logLevels:e}});var r2=Lm(n2,function(e,t){var n=t.serverEntityID;return{onResetLogLevels:function(){e(b0({serverEntityID:n}))},onToggleLogLevel:function(t){e(S0({serverEntityID:n,logLevel:t}))}}})(t2);function i2(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-circle-backslash-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["g",void 0].concat([Xf.a.createElement.apply(Xf.a,["path",{d:"M280 518C148.56 518 42 411.44 42 280S148.56 42 280 42s238 106.56 238 238-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196S388.25 84 280 84 84 171.75 84 280s87.75 196 196 196"}].concat([])),Xf.a.createElement.apply(Xf.a,["path",{d:"M157.246 125.568l277.186 277.186-31.678 31.678-277.186-277.186"}].concat([]))]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}i2.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var a2=i2;function o2(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-timer-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M364 84h-56v29.99c1.22.173 2.437.36 3.653.558 8.207 1.334 16.33 3.195 24.298 5.567 8.232 2.452 16.3 5.45 24.137 8.966 9.732 4.368 19.104 9.535 27.995 15.428 9.163 6.073 17.813 12.915 25.836 20.428 8.158 7.64 15.666 15.974 22.414 24.884 6.66 8.792 12.578 18.144 17.668 27.928 4.312 8.29 8.03 16.89 11.11 25.713 3.058 8.765 5.487 17.747 7.264 26.856C474.794 282.723 476 295.36 476 308c0 8.956-.604 17.91-1.818 26.785-1.35 9.864-3.456 19.624-6.297 29.166-2.904 9.754-6.576 19.277-10.968 28.457-5.02 10.496-10.983 20.54-17.784 29.982-6.88 9.547-14.615 18.477-23.084 26.648-8.758 8.45-18.297 16.087-28.46 22.78-10.073 6.632-20.757 12.334-31.878 17-12.24 5.137-25.002 9.015-38.028 11.556-12.2 2.38-24.622 3.586-37.05 3.625-12.443.038-24.89-1.09-37.117-3.395-13.052-2.462-25.848-6.263-38.126-11.327-11.153-4.6-21.876-10.24-31.992-16.815-10.205-6.63-19.79-14.213-28.598-22.61-8.517-8.12-16.305-17.003-23.24-26.51-6.857-9.397-12.877-19.403-17.96-29.865-4.446-9.148-8.174-18.643-11.137-28.372-2.897-9.516-5.062-19.254-6.474-29.1C84.66 326.732 84 317.365 84 308c0-12.028 1.09-24.054 3.283-35.88 1.657-8.94 3.94-17.765 6.83-26.385 2.974-8.87 6.59-17.524 10.804-25.874 5.062-10.025 10.99-19.613 17.69-28.627 6.67-8.97 14.103-17.37 22.193-25.085 8.096-7.72 16.85-14.75 26.136-20.985 9.017-6.055 18.538-11.36 28.434-15.838 7.823-3.54 15.88-6.56 24.102-9.036 7.958-2.398 16.07-4.283 24.27-5.643 1.416-.235 2.836-.455 4.258-.658V84h-56V56h168v28m-83.5 70h-1c-2.815.014-5.627.094-8.436.254-5.51.315-11.005.924-16.45 1.827-12.92 2.144-25.556 5.957-37.505 11.32-7.786 3.493-15.277 7.64-22.376 12.374-6.938 4.628-13.5 9.82-19.604 15.502-6.326 5.89-12.16 12.307-17.42 19.166-5.18 6.754-9.802 13.936-13.8 21.452-3.513 6.607-6.542 13.47-9.052 20.52-2.385 6.7-4.3 13.568-5.727 20.535-2.09 10.21-3.13 20.63-3.13 31.05 0 7.212.496 14.425 1.497 21.568 1.06 7.573 2.69 15.067 4.872 22.397 2.276 7.648 5.156 15.117 8.6 22.316 4.013 8.388 8.79 16.407 14.247 23.935 5.436 7.5 11.547 14.508 18.23 20.92 7.247 6.95 15.167 13.195 23.617 18.615 7.583 4.864 15.592 9.06 23.91 12.522 9.61 4 19.63 7.01 29.854 8.97C260.436 461.085 270.218 462 280 462s19.564-.915 29.172-2.758c10.223-1.96 20.243-4.97 29.855-8.97 8.888-3.7 17.424-8.238 25.464-13.533 7.87-5.182 15.263-11.084 22.062-17.606 6.573-6.304 12.59-13.187 17.96-20.545 5.57-7.636 10.44-15.783 14.518-24.31 3.444-7.198 6.324-14.666 8.6-22.315 2.183-7.33 3.812-14.823 4.873-22.397 1-7.143 1.497-14.356 1.497-21.568 0-10.42-1.04-20.84-3.13-31.052-1.46-7.12-3.428-14.136-5.886-20.976-2.48-6.895-5.455-13.61-8.895-20.08-4.143-7.787-8.957-15.217-14.367-22.184-5.016-6.46-10.544-12.525-16.515-18.116-6.425-6.018-13.363-11.49-20.716-16.33-6.868-4.523-14.098-8.496-21.6-11.863-11.95-5.363-24.585-9.176-37.506-11.32-5.445-.902-10.94-1.51-16.45-1.826-2.81-.16-5.62-.24-8.435-.253M252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.77 0 66.27 14.115 89.078 36.922L252 336"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}o2.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var s2=o2,l2=n(887),c2=n.n(l2),u2=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTextFilterChange=function(e){r._clearOnTextFilterChangeTimeout(),r.setState({filter:e},function(){r._timeoutID=setTimeout(function(){r._timeoutID=null,r.props.onTextFilterChange(r.state.filter)},200)})},r.state={filter:t.filter,filterFromStore:t.filter},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.filter!==t.filterFromStore?{filter:e.filter,filterFromStore:e.filter}:null};var n=t.prototype;return n.componentWillUnmount=function(){this._clearOnTextFilterChangeTimeout()},n._clearOnTextFilterChangeTimeout=function(){this._timeoutID&&clearTimeout(this._timeoutID)},n.render=function(){var e=this.state.filter;return hv()(gW,{className:c2.a.input,size:qp.LARGE,name:"filter",initialValue:e,value:e,placeholder:Object(Xn.default)("Filter logs"),onChange:this.onTextFilterChange})},t}(Xf.a.Component),d2=n(378),p2=n.n(d2),h2=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._flushValues=function(){r._timeoutID=setTimeout(function(){r._timeoutID=null,r.props.onTimeFilterChange(r.state.timeFilterStart,r.state.timeFilterEnd)},200)},r.onFilterStartChange=function(e){r._clearOnTextFilterChangeTimeout(),r.setState({timeFilterStart:e},r._flushValues)},r.onFilterEndChange=function(e){r._clearOnTextFilterChangeTimeout(),r.setState({timeFilterEnd:e},r._flushValues)},r.state={timeFilterStart:t.timeFilterStart,timeFilterStartFromStore:t.timeFilterStart,timeFilterEnd:t.timeFilterEnd,timeFilterEndFromStore:t.timeFilterEnd},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.timeFilterStart!==t.timeFilterStartFromStore||e.timeFilterEnd!==t.timeFilterEndFromStore?{timeFilterStart:e.timeFilterStart,timeFilterStartFromStore:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,timeFilterEndFromStore:e.timeFilterEnd}:null};var n=t.prototype;return n.componentWillUnmount=function(){this._clearOnTextFilterChangeTimeout()},n._clearOnTextFilterChangeTimeout=function(){this._timeoutID&&clearTimeout(this._timeoutID)},n.render=function(){var e=this.props,t=e.isTimeFilterStartValid,n=e.isTimeFilterEndValid,r=this.state,i=r.timeFilterStart,a=r.timeFilterEnd;return hv()("div",{className:p2.a.container},void 0,hv()(gW,{className:p2.a.input,size:qp.LARGE,name:"timeFilterStart",hasError:!t,initialValue:i,value:i,placeholder:"Jun 15, 2018 09:00:00",onChange:this.onFilterStartChange}),hv()("span",{className:p2.a.separator},void 0,Object(Xn.default)("to")),hv()(gW,{className:p2.a.input,size:qp.LARGE,name:"timeFilterEnd",hasError:!n,initialValue:a,value:a,placeholder:"Jun 15, 2018 09:01:00",onChange:this.onFilterEndChange}))},t}(Xf.a.Component),f2=n(603),g2=n.n(f2),v2=Xf.a.Component,m2=Xf.a.Fragment,y2=hv()(cE,{}),b2=hv()(cE,{}),S2=hv()(r2,{}),I2=hv()(s2,{}),C2=hv()(a2,{}),M2=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.filter,n=e.timeFilterStart,r=e.timeFilterEnd,i=e.isTimeFilterStartValid,a=e.isTimeFilterEndValid,o=e.showTimeFilter,s=e.showRawText,l=e.title,c=e.unfilteredLogLinesCount,u=e.logLines,d=e.onTextFilterChange,p=e.onTimeFilterChange,h=e.onToggleTimeFilter,f=e.onToggleRaw,g=e.onClearLog,v=c-u.length;return hv()(m2,{},void 0,hv()(N1,{},void 0,hv()(_1,{},void 0,l,y2,Object(Xn.default)("Plex Media Server Logs"),v>0?hv()("span",{className:g2.a.controlsHiddenLinesCount},void 0,b2,Object(Xn.default)("{hiddenLinesCount} items hidden by filters",{hiddenLinesCount:v})):null),hv()(B1,{},void 0,S2,hv()(u2,{filter:t,onTextFilterChange:d}),hv()(x1,{tooltip:Object(Xn.default)("Time Filter"),isSelected:o,onPress:h},void 0,I2),hv()(RS,{className:g2.a.rawButton,isSelected:s,onPress:f},void 0,Object(Xn.default)("Raw")),hv()(x1,{tooltip:Object(Xn.default)("Clear Logs"),onPress:g},void 0,C2))),o?hv()(h2,{timeFilterStart:n,timeFilterEnd:r,isTimeFilterStartValid:i,isTimeFilterEndValid:a,onTimeFilterChange:p}):null)},t}(v2),D2=Object(Iy.createSelector)(function(e){return e.ui.serverLogPage},function(e){return{filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,isTimeFilterStartValid:e.isTimeFilterStartValid,isTimeFilterEndValid:e.isTimeFilterEndValid,showTimeFilter:e.showTimeFilter,showRawText:e.showRawText,logLines:e.logLines,unfilteredLogLinesCount:e.unfilteredLogLinesCount}});var w2=Lm(D2,function(e,t){var n=t.serverEntityID;return{onTextFilterChange:function(t){Object(No.a)(function(){e(g0({serverEntityID:n,filter:t}))})},onTimeFilterChange:function(t,r){Object(No.a)(function(){e(v0({serverEntityID:n,timeFilterStart:t,timeFilterEnd:r}))})},onToggleTimeFilter:function(){e(M0({serverEntityID:n}))},onToggleRaw:function(){e(D0())},onClearLog:function(){e(I0({serverEntityID:n}))}}})(M2);function P2(e,t,n){return void 0===e&&(e=40),void 0===t&&(t=10),hF(Object.assign({direction:dF,columns:1,overscan:t,getCellWidth:function(e){return e.innerViewportWidth},getCellHeight:function(){return e}},n))}var T2=n(147),E2=n.n(T2),x2=Xf.a.useCallback;var O2=function(e){var t=e.index,n=e.level,r=e.message,i=e.thread,a=e.time,o=e.isHighlighted,s=e.onLogLinePress,l=CF(e),c=x2(function(e){s({index:t,time:a,thread:i,level:n,message:r})},[t,a,i,n,r,s]),u=function(e){return[E2.a.levelError,E2.a.levelWarning,E2.a.levelInfo,E2.a.levelDebug,E2.a.levelVerbose][e]||E2.a.levelUnknown}(n);return hv()("div",{style:l.style},void 0,hv()(RS,{className:(u||"")+" "+(o&&E2.a.isHighlighted||""),tabIndex:t,onPress:c},void 0,hv()("span",{className:E2.a.fieldTime},void 0,a),hv()("span",{className:E2.a.fieldThread},void 0,"[",i,"]"),hv()("span",{className:E2.a.fieldMessage},void 0,r)))};var j2=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.serverLogPage.highlightedLineIndex},function(e,t){return t.index},function(e,t){return{isHighlighted:e===t}})})(O2);var A2=function(e,t){var n=e.replace(new RegExp("\\s?"+Vf(t)),"").trim();return n.length?t+" "+n:t},N2=n(98),k2=n.n(N2),L2=Xf.a.Component;function R2(e){return[k2.a.containerError,k2.a.containerWarning,k2.a.containerInfo,k2.a.containerDebug,k2.a.containerVerbose][e]||k2.a.containerUnknown}function _2(e){return[k2.a.levelError,k2.a.levelWarning,k2.a.levelInfo][e]}var U2=hv()(US,{}),z2=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onClosePress=function(e){r.props.onClose()},r.onShowContextPress=function(e){r.props.onJumpToContext(Math.max(r.props.index-10,0))},r.onFilterFromPress=function(){r.props.onTimeFilterChange({timeFilterStart:r.props.time,timeFilterEnd:r.props.timeFilterEnd})},r.onFilterToPress=function(){r.props.onTimeFilterChange({timeFilterStart:r.props.timeFilterStart,timeFilterEnd:r.props.time})},r.onThreadPress=function(){r.props.onTextFilterChange({filter:A2(r.props.filter,r.props.thread)})},r.onTimeMenuPress=function(){r.setState({isTimeMenuOpen:!r.state.isTimeMenuOpen})},r.onTimeMenuClose=function(){r.setState({isTimeMenuOpen:!1})},r.onKeyDown=function(e){e.keyCode===DT&&(e.preventDefault(),e.stopPropagation(),r.props.onClose())},r._timeMenuButtonID=PS(),r.state={isTimeMenuOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown)},n.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown)},n.render=function(){var e=this.props,t=e.level,n=e.time,r=e.thread,i=e.message,o=this.state.isTimeMenuOpen;return hv()(oT,{className:R2(t),autoScroll:!0},void 0,hv()(RS,{className:k2.a.closeButton,"aria-label":Object(Xn.default)("Close"),onPress:this.onClosePress},void 0,U2),hv()("p",{},void 0,hv()("span",{className:k2.a.label},void 0,Object(Xn.default)("Time")),hv()(RS,{kind:a.PRIMARY,id:this._timeMenuButtonID,onPress:this.onTimeMenuPress},void 0,n,hv()(TI,{kind:a.PRIMARY,direction:o?Up:Fp})),hv()(zT,{size:qp.LARGE,isOpen:o,target:this._timeMenuButtonID,onMenuClose:this.onTimeMenuClose},void 0,hv()(hI,{onPress:this.onFilterFromPress},void 0,Object(Xn.default)("Filter from this time")),hv()(hI,{onPress:this.onFilterToPress},void 0,Object(Xn.default)("Filter to this time")))),hv()("p",{},void 0,hv()("span",{className:k2.a.label},void 0,Object(Xn.default)("Level")),hv()("span",{className:_2(t)},void 0,X1(t))),hv()("p",{},void 0,hv()("span",{className:k2.a.label},void 0,Object(Xn.default)("Thread")),hv()(RS,{kind:a.PRIMARY,onPress:this.onThreadPress},void 0,r)),hv()("p",{},void 0,hv()("span",{className:k2.a.label},void 0,Object(Xn.default)("Message")),i),hv()("div",{className:k2.a.action},void 0,hv()(I_,{onPress:this.onShowContextPress},void 0,Object(Xn.default)("Clear Filters and Jump to Context"))))},t}(L2),F2=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return e.filter!==this.props.filter||e.logLevels!==this.props.logLevels},n.render=function(){var e=this.props,t=e.className,n=e.lines;return hv()(oT,{className:t},void 0,hv()("pre",{},void 0,n.reduce(function(e,t){return e+=t.time+" ["+t.thread+"] "+X1(t.level)+"  "+t.message+"\n"},"")))},t}(Xf.a.Component),B2=n(261),H2=n.n(B2),V2=Xf.a.createElement,Q2=Xf.a.Component,W2=Xf.a.Fragment,G2=P2(26,10,{outerPaddingTop:10,outerPaddingBottom:10});function Y2(e){return!!(e.filter||e.timeFilterStart||e.timeFilterEnd||e.logLevels.length)}var K2=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScroll=function(){var e=r._scrollerRef.current;e.scrollTop+e.clientHeight>=e.scrollHeight?r.setState({isSticky:!0,scrollIndex:null}):e.scrollTop<r._lastScrollTop&&r.setState({isSticky:!1}),r._lastScrollTop=e.scrollTop},r.onJumpToContext=function(e){Y2(r.props)?r.setState({isSticky:!1,scrollIndexAfterFilterChange:e,selectedLogLine:null},function(){r.props.onClearFilter()}):r.setState({isSticky:!1,scrollIndex:e,selectedLogLine:null})},r.onTextFilterChange=function(){var e;r.setState({scrollIndex:0,selectedLogLine:null}),(e=r.props).onTextFilterChange.apply(e,arguments)},r.onTimeFilterChange=function(){var e;r.setState({scrollIndex:0,selectedLogLine:null}),(e=r.props).onTimeFilterChange.apply(e,arguments)},r.onLogLinePress=function(e){r.setState({selectedLogLine:e}),r.props.onHighlightLine(e)},r.onModalClose=function(e){r.setState({selectedLogLine:null})},r.onJumpToLatestPress=function(){r.setState({isSticky:!0})},r.renderLogLine=function(e){return V2(j2,dv()({},e,{onLogLinePress:r.onLogLinePress}))},r.state={isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null},r._scrollerRef=Xf.a.createRef(),r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return null==t.scrollIndexAfterFilterChange||Y2(e)?e.showRawText&&(!t.isSticky||t.scrollIndex||t.selectedLogLine)?{isSticky:!0,scrollIndex:0,scrollIndexAfterFilterChange:null,selectedLogLine:null}:null:{isSticky:!1,scrollIndex:t.scrollIndexAfterFilterChange,scrollIndexAfterFilterChange:null}},t.prototype.render=function(){var e=this.props,t=e.filter,n=e.timeFilterStart,r=e.timeFilterEnd,i=e.logLevels,a=e.showRawText,o=e.logLines,s=this.state,l=s.isSticky,c=s.scrollIndex,u=s.selectedLogLine,d=!!u,p=d||a;return hv()(W2,{},void 0,a?hv()(F2,{className:H2.a.rawTextScroller,filter:t,logLevels:i,lines:o}):null,V2(cF,{className:p?H2.a.hiddenPageContent:H2.a.pageContent,scrollerClassName:H2.a.pageContentScroller,smoothScroll:!1,keyPropName:"index",items:o,size:o.length,layout:G2,cellRenderer:this.renderLogLine,scrollIndex:l?o.length-1:c,ref:this._scrollerRef,onScroll:this.onScroll}),hv()(RS,{className:l?H2.a.jumpLinkHidden:H2.a.jumpLinkVisible,onPress:this.onJumpToLatestPress},void 0,Object(Xn.default)("Jump to latest")),d?V2(z2,dv()({},u,{filter:t,timeFilterStart:n,timeFilterEnd:r,onJumpToContext:this.onJumpToContext,onTextFilterChange:this.onTextFilterChange,onTimeFilterChange:this.onTimeFilterChange,onClose:this.onModalClose})):null)},t}(Q2),q2=Object(Iy.createSelector)(function(e){return e.ui.serverLogPage},function(e){return{filter:e.filter,timeFilterStart:e.timeFilterStart,timeFilterEnd:e.timeFilterEnd,logLevels:e.logLevels,showRawText:e.showRawText,logLines:e.logLines}});var Z2=Lm(q2,function(e,t){var n=t.serverEntityID;return{onTextFilterChange:function(){e(g0.apply(void 0,arguments))},onTimeFilterChange:function(){e(v0.apply(void 0,arguments))},onHighlightLine:function(t){e(w0(t))},onClearFilter:function(){e(m0({serverEntityID:n}))}}})(K2),X2=n(604),J2=n.n(X2),$2=Xf.a.Component,e4=1,t4=2;function n4(e){var t=e.dataTransfer.items,n=t[0];return""!==n.type||"file"!==n.kind?t4:t.length>1?e4:void 0}var r4=hv()(Z2,{}),i4=hv()(ZE.a,{}),a4=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onDragOver=function(e){r.setState({isDraggingFile:!0,fileDragError:n4(e)}),e.preventDefault()},r.onDragLeave=function(){r.setState({isDraggingFile:!1,fileDragError:null})},r.onDrop=function(e){if(e.preventDefault(),n4(e))r.setState({isDraggingFile:!1,fileDragError:null});else{r.setState({isDroppingFile:!0});var t=e.dataTransfer.files[0],n=new window.FileReader;n.onload=function(){r.setState({title:t.name,isDraggingFile:!1,isDroppingFile:!1}),r.props.onDrop({result:n.result})},n.readAsText(t)}},r.state={title:t.title,isDraggingFile:!1,isDroppingFile:!1,fileDragError:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.metricsPage,n=e.metricsPane,r=this.state,i=r.title,a=r.isDraggingFile,o=r.isDroppingFile,s=r.fileDragError,l=a&&!o&&(s===e4&&Object(Xn.default)("Only one file at a time")||s===t4&&Object(Xn.default)("Only log files are allowed")||Object(Xn.default)("Load log file"));return hv()(D1,{metricsPage:t,metricsProperties:{pane:n},scrollDirection:Zp,onDragOver:this.onDragOver,onDragLeave:this.onDragLeave,onDrop:this.onDrop},void 0,hv()(w2,{title:i}),r4,a?hv()("div",{className:J2.a.dropFileOverlay},void 0,s?hv()(a2,{className:J2.a.icon}):null,l,o?i4:null):null)},t}($2),o4=Xf.a.createElement,s4=Xf.a.Component;var l4={dispatchClearLog:I0,dispatchLoadLogFile:C0},c4=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onDrop=function(){var e;r._stopServerEventManager(),(e=r.props).dispatchLoadLogFile.apply(e,arguments)};var i=Object(J.c)("appModel");return r._serverEventManager=new Ie({name:"MediaServerLogEventManager",appModel:i,isValidServer:function(e){return e.entityID()===t.serverEntityID},supportsLongPolling:!1,ServerEventConnection:o1,ServerRetryManager:at}),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.dispatchClearLog(),this._serverEventManager.start(),Object(J.c)("appModel").get("servers").forEach(function(t){var n=t.get("isResolved");n&&e._serverEventManager.onServerResolvedChange(t,n)})},n.componentWillUnmount=function(){this._stopServerEventManager()},n._stopServerEventManager=function(){this._isServerEventManagerStopped||(this._serverEventManager.stop(),this.props.dispatchClearLog(),this._isServerEventManagerStopped=!0)},n.render=function(){return o4(a4,dv()({onDrop:this.onDrop},this.props))},t}(s4),u4=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{title:e.friendlyName}})},l4)(c4);function d4(e){return Object(Iy.createSelector)(Dy(),function(t){if(!t||!t.activeConnection)return null;var n=t.activeConnection.uri,r=t.accessToken?{"X-Plex-Token":t.accessToken}:{};return F.join([n,e],r)})}var p4=n(73),h4=n.n(p4),f4=Xf.a.Component,g4=hv()(SI,{}),v4=hv()(US,{}),m4=hv()(SI,{}),y4=hv()(US,{}),b4=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={isCleanBundlesInProgress:!1,isOptimizeDatabaseInProgress:!1,isCleanBundlesComplete:!1,isOptimizeDatabaseComplete:!1},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.isCleanBundlesInProgress!==t.isCleanBundlesInProgress,r=e.isOptimizeDatabaseInProgress!==t.isOptimizeDatabaseInProgress;if(!n&&!r)return null;var i={};return n&&(i.isCleanBundlesInProgress=e.isCleanBundlesInProgress,i.isCleanBundlesComplete=t.isCleanBundlesInProgress&&!e.isCleanBundlesInProgress),r&&(i.isOptimizeDatabaseInProgress=e.isOptimizeDatabaseInProgress,i.isOptimizeDatabaseComplete=t.isOptimizeDatabaseInProgress&&!e.isOptimizeDatabaseInProgress),i},t.prototype.render=function(){var e=this.props,t=e.machineIdentifier,n=e.downloadDatabasesUrl,r=e.downloadLogsUrl,i=e.cleanBundlesError,a=e.optimizeDatabaseError,o=e.isCleanBundlesInProgress,s=e.isOptimizeDatabaseInProgress,l=e.showDownloadDatabases,c=e.showDownloadLogs,u=e.onCleanBundlesPress,d=e.onOptimizeDatabasePress,p=this.state,h=p.isCleanBundlesComplete,f=p.isOptimizeDatabaseComplete;return hv()("div",{},void 0,hv()("div",{className:h4.a.troubleshootingSection},void 0,hv()("div",{className:h4.a.buttonContainer},void 0,hv()(kV,{className:h4.a.button,isSpinning:s,onPress:d},void 0,Object(Xn.default)("Optimize Database")),f&&!a?hv()("div",{className:h4.a.buttonStatusSuccess},void 0,g4,hv()("div",{className:h4.a.textStatus},void 0,Object(Xn.default)("Optimize database complete"))):null,f&&a?hv()("div",{className:h4.a.buttonStatusError},void 0,v4,hv()("div",{className:h4.a.textStatus},void 0,a)):null),hv()("div",{className:h4.a.description},void 0,Object(Xn.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."))),hv()("div",{className:h4.a.troubleshootingSection},void 0,hv()("div",{className:h4.a.buttonContainer},void 0,hv()(kV,{className:h4.a.button,isSpinning:o,onPress:u},void 0,Object(Xn.default)("Clean Bundles")),h&&!i?hv()("div",{className:h4.a.buttonStatusSuccess},void 0,m4,hv()("div",{},void 0,Object(Xn.default)("Bundles cleaned"))):null,h&&i?hv()("div",{className:h4.a.buttonStatusError},void 0,y4,hv()("div",{},void 0,i)):null),hv()("div",{className:h4.a.description},void 0,hv()(AB,{className:h4.a.description,message:Object(Xn.default)('Poster images and other metadata for items in your library are kept in "bundle" packages. When you remove items from your library, these bundles arent immediately removed. Removing them can reduce the size of your install. By default, your server will automatically clean up old bundles once a week as part of {openScheduledTass}Scheduled Tasks{closeScheduledTass}.'),tags:[{open:"openScheduledTass",close:"closeScheduledTass",component:RS,kind:Qp,to:Rc(t,"settings","butler")}]}))),c||l?hv()("div",{className:h4.a.troubleshootingSection},void 0,hv()("div",{className:h4.a.buttonContainer},void 0,c?hv()(I_,{className:h4.a.button,to:r,target:"_self"},void 0,Object(Xn.default)("Download Logs")):null,l?hv()(I_,{className:h4.a.button,to:n,target:"_self"},void 0,Object(Xn.default)("Download Database")):null),hv()("div",{className:h4.a.description},void 0,Object(Xn.default)("The Plex Media Server logs and database can be helpful to developers and forum community members in diagnosing server issues."))):null,hv()("div",{className:h4.a.description},void 0,hv()(AB,{className:h4.a.description,message:Object(Xn.default)("You can find additional documentation, guides and FAQs as well as our friendly Community Forums among our {openSupportLink}support resources{closeSupportLink}."),tags:[{open:"openSupportLink",close:"closeSupportLink",component:RS,kind:Qp,to:bB,target:"_blank"}]})))},t}(f4),S4=Xf.a.createElement,I4=Xf.a.Component;var C4={dispatchCleanBundles:LA,dispatchOptimizeDatabase:kA},M4=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onCleanBundlesPress=function(){t.props.dispatchCleanBundles({serverEntityID:t.props.serverEntityID,hideAlerts:!0})},t.onOptimizeDatabasePress=function(){t.props.dispatchOptimizeDatabase({serverEntityID:t.props.serverEntityID,hideAlerts:!0})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchCleanBundles,e.dispatchOptimizeDatabase,wt()(e,["dispatchCleanBundles","dispatchOptimizeDatabase"]));return S4(b4,dv()({onCleanBundlesPress:this.onCleanBundlesPress,onOptimizeDatabasePress:this.onOptimizeDatabasePress},t))},t}(I4),D4=Lm(function(){return Object(Iy.createSelector)(aX(ky),Dy(),d4("/diagnostics/databases"),d4("/diagnostics/logs"),eZ(),$q(),function(e,t,n,r,i,a){var o=t.diagnostics;return{machineIdentifier:t.machineIdentifier,downloadDatabasesUrl:n,downloadLogsUrl:r,cleanBundlesError:t.desktop.cleanBundlesError,optimizeDatabaseError:t.desktop.optimizeDatabaseError,isCleanBundlesInProgress:!!i,isOptimizeDatabaseInProgress:!!a,showDownloadDatabases:!(!n||!o||-1===o.indexOf("databases")),showDownloadLogs:!(!r||!o||-1===o.indexOf("logs"))}})},C4)(M4);function w4(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-status-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m458.541 390l-71.708 143.416-2.724 4.438c-1.15 1.3-2.192 2.705-3.45 3.9-2.527 2.399-5.452 4.34-8.645 5.735-1.591.696-3.29 1.109-4.934 1.664-1.716.261-3.432.523-5.148.785-4.604-.104-5.84.169-10.313-1.132-3.345-.974-6.496-2.523-9.31-4.577-2.814-2.055-5.249-4.584-7.195-7.475-2.601-3.863-2.718-5.124-4.218-9.478l-96.634-386.535-86.172 229.793-2.235 4.682c-2.66 3.738-3.128 4.909-6.699 7.872-2.672 2.217-5.708 3.953-8.974 5.131-1.626.587-3.31 1.034-5.014 1.332-1.703.298-3.445.299-5.168.449l-120 0 0-60 99.21 0 112.7-300.534 2.359-4.891c1.068-1.462 2.007-3.027 3.203-4.386 2.401-2.73 5.278-5.001 8.491-6.702 3.213-1.701 6.708-2.804 10.315-3.255 3.608-.451 7.267-.243 10.8.615 1.759.427 3.486 1.016 5.14 1.754 3.32 1.48 6.343 3.552 8.923 6.114 2.579 2.562 4.672 5.571 6.175 8.881.748 1.648 1.192 3.419 1.788 5.128l100.331 401.324 43.732-87.464 2.448-4.059c2.706-3.207 3.231-4.214 6.646-6.719 2.557-1.874 5.394-3.331 8.407-4.318 1.501-.491 3.047-.865 4.607-1.114 1.56-.248 3.15-.249 4.725-.374l120 0 0 60-101.459 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}w4.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var P4=w4,T4=hv()(P4,{});var E4=function(e){return e.isActive?T4:null};function x4(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-help-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 0c154.536 0 280 125.464 280 280 0 154.536-125.464 280-280 280-154.536 0-280-125.464-280-280 0-154.536 125.464-280 280-280m-40 440c0 22.077 17.923 40 40 40 22.077 0 40-17.923 40-40 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40m70-80l0-6.84 0-.179c.011-2.265.168-4.528.482-6.772.586-4.188 1.706-8.299 3.324-12.206 1.56-3.765 3.581-7.337 6.005-10.613 1.378-1.861 2.886-3.622 4.506-5.277 12.286-12.48 24.784-24.75 37.148-37.152 1.253-1.265 2.48-2.554 3.674-3.873 2.298-2.538 4.482-5.178 6.544-7.91 5.64-7.475 10.359-15.64 14.021-24.258 2.605-6.129 4.675-12.484 6.18-18.972 1.516-6.534 2.457-13.201 2.81-19.9.584-11.079-.447-22.237-3.053-33.021-1.591-6.586-3.767-13.03-6.492-19.232-2.728-6.21-6.008-12.176-9.788-17.807-2.756-4.106-5.777-8.033-9.039-11.749-1.655-1.886-3.374-3.715-5.147-5.49-1.412-1.415-2.866-2.79-4.352-4.127-3.068-2.761-6.285-5.356-9.632-7.77-8.915-6.432-18.755-11.571-29.126-15.214-7.849-2.757-15.996-4.658-24.254-5.658-3.049-.369-6.113-.616-9.182-.74-1.423-.057-2.848-.086-4.272-.093-.357 0-.713 0-1.07.002-2.253.018-4.505.094-6.754.241-4.7.306-9.381.901-14.008 1.782-6.09 1.159-12.086 2.813-17.909 4.939-5.594 2.042-11.028 4.519-16.238 7.403-5.852 3.239-11.419 6.99-16.618 11.196-2.576 2.084-5.056 4.282-7.446 6.577-.342.331-.682.663-1.021.996-6.867 6.803-13.671 13.669-20.506 20.504l42.426 42.426 19.985-19.984.136-.137c1.966-1.946 4.07-3.749 6.304-5.381 3.924-2.868 8.23-5.21 12.77-6.946 3.392-1.297 6.913-2.256 10.494-2.859 3.453-.58 6.961-.829 10.461-.742 4.493.111 8.971.778 13.302 1.98 4.678 1.298 9.18 3.219 13.354 5.699 2.604 1.547 5.08 3.31 7.393 5.266 1.182 1 2.318 2.051 3.414 3.144.705.713 1.397 1.438 2.065 2.185 1.35 1.51 2.617 3.095 3.792 4.745 3.921 5.506 6.807 11.735 8.475 18.285 1.377 5.408 1.921 11.022 1.61 16.593-.35 6.263-1.783 12.458-4.219 18.239-1.715 4.068-3.921 7.928-6.559 11.468-1.484 1.993-3.105 3.879-4.843 5.655-12.294 12.486-24.797 24.764-37.169 37.173-1.121 1.131-2.22 2.283-3.292 3.46-2.284 2.506-4.452 5.119-6.494 7.825-5.604 7.427-10.259 15.565-13.819 24.161-3.431 8.283-5.844 16.985-7.167 25.852-.467 3.127-.799 6.275-.995 9.431-.098 1.587-.16 3.175-.192 4.764-.008.455-.013.91-.017 1.365-.012 2.515-.002 5.032-.002 7.546l60 0m8.826-198.747l0-.001c-.011-.01.043.043.032.032l-.032-.031"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}x4.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var O4,j4=x4,A4=n(379),N4=n.n(A4),k4=((O4={})[ju]=hv()(j4,{className:N4.a.unknown}),O4[Au]=hv()(j4,{className:N4.a.unknown}),O4.unreachable=hv()(HR,{className:N4.a.error}),O4.ok=hv()(SI,{className:N4.a.ok}),O4);function L4(e){var t=e.remoteAccessState;return k4[t]||null}L4.propTypes={remoteAccessState:Dp.a.string};var R4=L4,_4=n(888),U4=n.n(_4);var z4=function(e){return e.isClaimed?null:hv()(FR,{className:U4.a.icon})};function F4(e){return!e.isShared}function B4(e){return!!e.desktop.isSettingsPopulated}function H4(e){return e.desktop.sessions.length>0}function V4(e){return e.desktop.backgroundTranscodeJobs.length>0}function Q4(e){var t=e.desktop.cloudAccount;return t&&t.remoteAccessState}var W4=[{key:"status",title:function(){return Object(Xn.default)("Status")},isVisible:!0,metricsPage:"status",metricsPanePrefix:"",groups:[{key:"server-dashboard",title:function(){return Object(Xn.default)("Dashboard")},isVisible:F4,createStatusIndicator:function(e){return hv()(E4,{isActive:H4(e)})}},{key:"alerts",title:function(){return Object(Xn.default)("Alerts")},isVisible:F4},{key:"sync",title:function(){return Object(Xn.default)("Sync")},isVisible:!0},{key:"conversion",title:function(){return Object(Xn.default)("Conversions")},isVisible:F4,createStatusIndicator:function(e){return hv()(E4,{isActive:V4(e)})}}]},{key:"settings",title:function(){return Object(Xn.default)("Settings")},isVisible:F4,metricsPage:"settings",metricsPanePrefix:"server:",groups:[{key:"general",title:function(){return Object(Xn.default)("General")},isVisible:B4,createStatusIndicator:function(e){return hv()(z4,{isClaimed:!!e.isClaimed})}},{key:"remoteAccess",title:function(){return Object(Xn.default)("Remote Access")},isVisible:function(e){return B4(e)},createStatusIndicator:function(e){return hv()(R4,{remoteAccessState:Q4(e)})}},{key:"agents",title:function(){return Object(Xn.default)("Agents")},isVisible:B4},{key:"library",title:function(){return Object(Xn.default)("Library")}},{key:"channels",title:function(){return Object(Xn.default)("Plugins")},isVisible:B4},{key:"network",title:function(){return Object(Xn.default)("Network")}},{key:"transcoder",title:function(){return Object(Xn.default)("Transcoder")}},{key:"languages",title:function(){return Object(Xn.default)("Languages")},isVisible:B4},{key:"dlna",title:function(){return Object(Xn.default)("DLNA")}},{key:"butler",title:function(){return Object(Xn.default)("Scheduled Tasks")}},{key:"extras",title:function(){return Object(Xn.default)("Extras")}}]},{key:"manage",title:function(){return Object(Xn.default)("Manage")},isVisible:!0,groups:[{key:"libraries",title:function(){return Object(Xn.default)("Libraries")},isVisible:F4,metricsPage:"settings",metricsPane:"server:libraries",paneComponent:a0},{key:"versions",title:function(){return Object(Xn.default)("Optimized Versions")},isVisible:function(e){return F4(e)&&B4(e)},metricsPage:"status",metricsPane:"versions"},{key:"dvr",title:function(){return Object(Xn.default)("Live TV & DVR")},isVisible:function(e){return F4(e)&&e.livetv>=1&&B4(e)},metricsPage:"settings",metricsPane:"server:dvr",paneComponent:_q},{key:"help",title:function(){return Object(Xn.default)("Troubleshooting")},isVisible:function(e){return F4(e)&&B4(e)},metricsPage:"settings",metricsPane:"server:help",paneComponent:D4},{key:"console",title:function(){return Object(Xn.default)("Console")},isVisible:function(e,t){return F4(e)&&function(e,t){var n=e.diagnostics;return!(!function(e,t){return!!e.features.find(function(e){return e.uuid===t})}(t,ky)||!n||-1===n.indexOf("streaminglogs"))}(e,t)},metricsPage:"settings",metricsPane:"server:console",pageComponent:u4},{key:"plugins",title:function(){return Object(Xn.default)("Plugins")},isVisible:function(e){return e.allowChannelAccess},route:function(e){return"#!/server/"+encodeURIComponent(e.machineIdentifier)+"/channels"}}]}];function G4(){return Object(Iy.createSelector)(Object(Iy.createSelector)(Dy(),function(e){return e?e.desktop.settings:[]}),function(e){return e.reduce(function(e,t){return!t.group||e.includes(t.group)||t.hidden||e.push(t.group),e},[])})}function Y4(e,t,n){return!0===e||C.a.isFunction(e)&&e(t,n)}function K4(){return Object(Iy.createSelector)(Dy(),wy,G4(),function(e,t,n){return!e||e.isUnavailable?[]:W4.reduce(function(r,i){if(!Y4(i.isVisible,e,t))return r;var a=i.groups.reduce(function(r,a){return(Y4(a.isVisible,e,t)||!1!==a.isVisible&&n.includes(a.key))&&r.push({key:a.key,title:a.title(),statusIndicator:a.createStatusIndicator&&a.createStatusIndicator(e),pageComponent:a.pageComponent,paneComponent:a.paneComponent,hasCustomRoute:!!a.route,route:a.route?a.route(e):Rc(e.machineIdentifier,i.key,a.key)}),r},[]);return a.length>0&&r.push({key:i.key,title:i.title(),groups:a}),r},[])})}function q4(e,t){var n=C.a.findWhere(W4,{key:e}),r=C.a.findWhere(n.groups,{key:t});return r.metricsPage?{metricsPage:r.metricsPage,metricsPane:r.metricsPane}:{metricsPage:n.metricsPage,metricsPane:n.metricsPanePrefix+r.key}}var Z4=n(889),X4=n.n(Z4),J4=U.ItemView.extend({tagName:"li",template:X4.a,bindings:{a:{modelAttribute:"selected",manual:!0,formatter:function(e){this.$el.toggleClass("active",!!e)}}}}),$4=Of.extend({tagName:"ul",className:"agents-nav nav nav-pills nav-pills-sm",itemView:J4}),e3=n(890),t3=n.n(e3),n3=Lc.extend({name:"agentInfoModal",className:"agent-info-modal modal fade",template:t3.a,regions:{icon:".agent-icon-container"},serializeData:function(){return{agent:this.model.toJSON(),attribution:this.model.get("attribution").get("content")}},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.icon.show(new If({model:this.model,url:"/system/agents/attribution/image?identifier="+this.model.id,className:"agent-icon",width:100,height:100}))}}),r3=n(891),i3=n.n(r3),a3=Lc.extend({name:"channelSettingsModal",className:"channel-settings-modal modal fade",template:i3.a,ui:{submitBtn:".submit-btn"},events:C.a.extend({"change input[name]":"onInputChange","change select[name]":"onInputChange","submit #channel-settings-form":"onSubmit"},Lc.prototype.events),initialize:function(){Lc.prototype.initialize.apply(this,arguments),this.changes={}},serializeData:function(){var e=this.model.get("title")||this.model.get("name");return{escapedTitle:C.a.escape(e||"Preferences..."),settings:this.collection.toJSON()}},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked),this.changes[t.name]=n},onSubmit:function(e){if(e.preventDefault(),C.a.isEmpty(this.changes))this.hide();else{var t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active");var n=this.collection.first(),r=n.getSaveParams(this.changes),i=C.a.result(this.collection,"url"),a=F.join([i,"/set"],r),o=P.a.ajax(n.server.getXHROptions(a));o.done(C.a.bind(function(){this.hide()},this)),o.fail(C.a.bind(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem saving these settings.")})},this)),o.always(function(){t.removeClass("active")})}}}}),o3=n(892),s3=n.n(o3),l3=U.ItemView.extend({tagName:"li",className:"card card-sortable",template:s3.a,events:{"change input[type=checkbox]":"onEnabledChange","click .settings-btn":"onSettingsClick","click .info-btn":"onInfoClick"},initialize:function(){this.attribution=this.model.get("attribution"),this.attribution.fetch()},bindings:{".info-btn":{model:"attribution",modelAttribute:"content",manual:!0,autohide:!0},".settings-btn":{modelAttribute:"hasPrefs",manual:!0,autohide:!0}},onEnabledChange:function(e){this.model.set("enabled",e.target.checked)},onSettingsClick:function(e){e.preventDefault();var t=new fl([],{server:this.model.server,url:"/:/plugins/"+this.model.id+"/prefs"});t.fetch().done(C.a.bind(function(){z.a.trigger("show:modal",new a3({model:this.model,collection:t}))},this))},onInfoClick:function(e){e.preventDefault(),z.a.trigger("show:modal",new n3({model:this.model}))}}),c3=Of.extend({tagName:"ul",className:"list contributor-list",itemView:l3,events:{"change input[type=checkbox]":"save",update:"save"},save:function(){var e=[];this.$(":checked").each(function(t){e.push(this.name)}),this.trigger("save",e.join(","))},onRender:function(){this.sortable=new Ym.a(this.$el[0],{draggable:".card-sortable",animation:200})},onClose:function(){this.sortable.destroy()}}),u3=n(893),d3=n.n(u3),p3=U.Layout.extend({template:d3.a,ui:{agentLabel:".agent-label",typeNavItems:".agent-types-nav li",agentNavItems:".agents-nav li"},regions:{agentsList:".agents-list-container",contributorsList:".contributors-list-container"},events:{"click .agent-types-nav a":"onAgentTypeClick","click .agents-nav a":"onAgentClick"},initialize:function(){this.bindAllWhenRendered("onAgentsReset","onContributorsReset"),this.agentTypes=[],this.agentTypes.push(Object(nr.r)(nr.g)),this.agentTypes.push(Object(nr.r)(nr.l)),this.agentTypes.push(Object(nr.r)(nr.b)),this.agentTypes.push(Object(nr.r)(nr.a)),this.agentTypes.push(Object(nr.r)(nr.h)),this.currentType=C.a.first(this.agentTypes),this.populateAgents()},serializeData:function(){return{currentType:this.currentType,agentTypes:this.agentTypes}},populateAgents:function(){var e=this,t=new dj([],{server:this.model,mediaTypeID:this.currentType.id});t.populate({reset:!0,scope:"page"}).then(function(){var n=t.filter(function(e){return e.get("identifier")!==gl.e});e.agents=t.clone(n),e.onAgentsReset()})},selectAgent:function(e){this.currentAgent&&this.currentAgent.set("selected",!1),this.currentAgent=e,e.set("selected",!0),this.ui.agentLabel.text(e.get("name")),this.additionalAgents=new dj([],{server:this.model,mediaTypeID:this.currentType.id,relatedAgentID:e.id}),this.contributors=new dj([],{server:this.model,mediaTypeID:this.currentType.id,primaryAgentID:e.id}),this.contributorsList.show(new c3({collection:this.contributors})),this.listenTo(this.contributorsList.currentView,"save",this.onContributorsSave),this.populateContributors()},populateContributors:function(){var e=[this.additionalAgents.populate({reset:!0,scope:"page"}),this.contributors.populate({reset:!0,scope:"page"})];P.a.when.apply(P.a,e).done(C.a.bind(this.onContributorsReset,this))},onAgentsReset:function(){if(this.agentsList.show(new $4({collection:this.agents})),this.agents.length){var e=this.agents.findWhere({selected:!0})||this.agents.first();this.selectAgent(e)}},onContributorsReset:function(){var e=C.a.bind(function(e){return e.id===this.currentAgent.id?(e.set("isPrimary",!0),!0):!!this.contributors.get(e.id)},this);this.contributors.reset(this.additionalAgents.filter(e))},onAgentTypeClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.data("type");this.currentType=Object(nr.r)(n),this.populateAgents(),this.ui.typeNavItems.removeClass("active"),t.parent("li").addClass("active")},onAgentClick:function(e){e.preventDefault();var t=P()(e.target).data("identifier"),n=this.agents.get(t);n&&this.selectAgent(n)},onContributorsSave:function(e){this.currentAgent.url="system/agents/"+this.currentAgent.id+"/config/"+this.currentType.id,this.currentAgent.save({order:e}).done(C.a.bind(function(){this.additionalAgents.fetch({silent:!0}),this.contributors.fetch({silent:!0})},this))}}),h3=n(894),f3=n.n(h3),g3=U.Layout.extend({className:"form-group",template:f3.a,isDisabled:!0,isActive:!1,ui:{submitBtn:".submit-btn",message:".form-message"},events:{"change #server-settings-form input[name]":"onInputChange","input #server-settings-form input[type=text]":"onInputChange","change #server-settings-form select[name]":"onInputChange","submit #server-settings-form":"onSubmit"},initialize:function(e){this.changes=e.changes},serializeData:function(){return C.a.where(this.collection.toJSON(),{group:this.options.group,hidden:!1})},enable:function(){this.isDisabled=!1,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},updateModel:function(e,t){var n=this.collection.get(e);if(n)return n.set("value",t)},onRender:function(){C.a.isEmpty(this.changes)||this.enable()},onInputChange:function(e){var t=e.currentTarget,n=t.name,r=t.value,i=t.value;n&&("checkbox"===t.type&&((i=t.checked)||(r="0")),this.updateModel(n,i)&&(this.changes[t.name]=r,this.enable()))},onSubmit:function(e){e.preventDefault(),this.trigger("save")},onBeforeSave:function(){this.isActive=!0,this.ui.submitBtn.addClass("active")},onAfterSave:function(e){this.isActive=!1,this.ui.submitBtn.removeClass("active"),e?(this.isDisabled=!0,this.ui.submitBtn.addClass("disabled"),this.ui.message.removeClass("has-error"),this.ui.message.text(Object(Xn.default)("Your changes have been saved."))):(this.ui.message.addClass("has-error"),this.ui.message.text(Object(Xn.default)("Your changes could not be saved.")))}}),v3=g3.extend({prefix:"channel.",serializeData:function(){var e=g3.prototype.serializeData.apply(this,arguments),t=this.options.channelSettings.toJSON();return C.a.each(t,function(e){e.id=this.prefix+e.id},this),e.unshift.apply(e,t),e},updateModel:function(e,t){var n=g3.prototype.updateModel.apply(this,arguments);if(n)return n;var r=e.replace(this.prefix,""),i=this.options.channelSettings.get(r);return i?i.set("value",t):void 0}});var m3=function(){return Object(Iy.createSelector)(Dy(),function(e){return e?e.desktop.cloudAccount:null})};var y3=function(){return Object(Iy.createSelector)(Dy(),m3(),function(e,t){return!!(e&&e.isClaimed&&t&&t.signedIn)})};var b3=function(e){return e.ui.authCodeExchange};var S3=function(e){var t=e&&e.responseJSON,n=!t&&e&&e.responseText&&mt.a.parseXML(e.responseText),r=t&&t.errors||n&&n.error;return r?Array.isArray(r)?r:[r]:[]},I3={SUBSCRIPTION:"subscription"};function C3(e,t){switch(t){case I3.SUBSCRIPTION:switch(e){case"1003":return Object(Xn.default)("Subscriptions have been temporarily disabled: too many failed attempts. Please try again later.")}}switch(e){case"1001":return Object(Xn.default)("The username or password is incorrect");case"1003":return Object(Xn.default)("Sign in has been temporarily disabled: too many failed attempts. Please try again later.");case"1010-login":return Object(Xn.default)("Login is required");case"1010-password":return Object(Xn.default)("Password is required");case"1010-email":return Object(Xn.default)("Email is required");case"1011-username":return Object(Xn.default)("Username has already been taken");case"1011-email":return Object(Xn.default)("Email has already been taken");case"1030":return Object(Xn.default)("This account only allows signing in with an email address");case"1031":return Object(Xn.default)("The username or password is incorrect. Repeated attempts may temporarily disable sign in.");case"1032-password":return Object(Xn.default)("Password must be at least 8 characters");case"1033-password":return Object(Xn.default)("Password is too weak");case"1034-password":return Object(Xn.default)("Password must be different from username or email address");case"1035-email":return Object(Xn.default)("Email is not a valid email address");case"1036-username":return Object(Xn.default)("Username must not be an email address");case"1037-username":return Object(Xn.default)("Username contains invalid characters");case"1038-pin":return Object(Xn.default)("Pin must be 4 digits");case"1039-passwordConfirmation":return Object(Xn.default)("Confirm Password must match Password");case"1040":case"1044":return Object(Xn.default)("Invalid Password")}}function M3(e,t){if(e){var n=String(e.code);return C3(e.code+"-"+e.field,t)||C3(n,t)||e.message||Object(Xn.default)("An unknown error occurred")}}function D3(e){var t=e&&e[0];return t?C.a.isObject(t)?M3(t):t:Object(Xn.default)("There was a problem signing in to Plex.")}var w3=function(e,t){var n=P.a.Deferred(),r=setTimeout(function(){n.reject()},t);return e.then(n.resolve,n.reject).always(function(){clearTimeout(r)}),n.promise()};function P3(e){return!!e.get("shortVersion")&&yc(e.get("shortVersion"),Cc.mediaProvidersServerRoot)}function T3(e,t){var n=e.get("cloudServer").get("resources"),r={clientIdentifier:t.get("machineIdentifier")};return function(e,t){void 0===t&&(t={});var n=Math.floor(Math.max(t.times||0,0)),r=Math.floor(Math.max(t.delay||0,0));t.cancel&&t.cancel.always(function(){n=-1});var i,a=P.a.Deferred();return t.maxDuration&&(i=setTimeout(function(){a.reject("maxDuration")},t.maxDuration)),function t(){n<0||e().done(function(){i&&clearTimeout(i),a.resolve.apply(a,arguments)}).fail(function(){(n-=1)<0?(i&&clearTimeout(i),a.reject.apply(a,arguments)):"pending"===a.state()&&setTimeout(t,r)})}(),a.promise()}(function(){return n.fetch().then(function(){return n.findWhere(r)?P.a.Deferred().resolve().promise():P.a.Deferred().reject().promise()})},{times:30,delay:1e3})}var E3=function(e,t,n,r){var i,a=e.get("user"),o=e.get("cloudServer");return P.a.ajax(o.getXHROptions("/api/claim/token",{headers:(i={},i["X-Plex-Token"]=n,i)})).promise().then(function(e){return mt.a.parseXML(e).token}).then(function(e){return P.a.ajax(t.getXHROptions(F.join("/myplex/claim",{token:e}),{type:"POST"}))}).then(function(){return T3(e,t)}).then(function(){var e;return P3(t)&&(e=t.getXHROptions("/media/providers")),t.fetch(e)}).then(function(){return function(e,t,n){var r=P.a.Deferred();return e.get("primaryServer")===t?r.resolve():(e.once("change:primaryServer",r.resolve),n()),w3(r.promise(),2e3)}(e,t,r)}).then(function(){var e=a.get("email"),n=t.get("desktop").get("cloudAccount");t.set({myPlexSigninState:Tc,myPlexUsername:e}),n.set({signedIn:!0,username:e})})};var x3=function(e){return e.destroy({timeout:0}).promise().done(function(){e.server.set({accessToken:void 0,myPlexSigninState:Ec,myPlexSubscription:!1}),e.restoreDefaults()})};var O3,j3=function(e){var t=e.get("cloudServer");return P.a.ajax(t.getXHROptions("/api/v2/pins",{method:"POST",dataType:"json",data:{strong:!0}})).then(function(e){return e})},A3=Mt("server/claim/claimServer"),N3=Mt("server/claim/signInThenClaimServer"),k3=Mt("server/claim/signOutServer"),L3=Mt("server/claim/createPIN");function R3(e,t,n){var r=t.authToken,i=bo(e,t),a=Gf(e);a.set({errorMessage:null,isBusy:!0});var o=Object(J.c)("metrics");return E3(e,i,r,function(){n(Ms({machineIdentifier:i.id,metricsProperties:{context:An}}))}).done(function(){o.trackEvent({event:ba,interaction:!0})}).fail(function(){o.trackEvent({event:Sa,interaction:!1}),a.set({errorMessage:Object(Xn.default)("There was a problem claiming this server."),isBusy:!1})})}var _3=((O3={})["server/claim/claimServer"]=function(e,t,n){R3(e,t,n).then(function(){Gf(e).set({errorMessage:null,isBusy:!1})})},O3["server/claim/signInThenClaimServer"]=function(e,t,n){(function(e,t){var n=e.get("user"),r=t.authToken;return P.a.ajax(n.server.getXHROptions(C.a.result(n,"url"),{headers:{"X-Plex-Token":r}})).then(function(e){return n.signIn(e,{})})})(e,t).then(function(){return R3(e,t,n)}).then(function(){Gf(e).set({errorMessage:null,isBusy:!1})}).fail(function(t){var n=S3(t);z.a.trigger("show:alert",{message:D3(n)}),Gf(e).set({errorMessage:Object(Xn.default)("There was a problem claiming this server."),isBusy:!1})})},O3["server/claim/signOutServer"]=function(e,t,n){var r=bo(e,t).get("desktop").get("cloudAccount"),i=Gf(e);i.set({errorMessage:null,isBusy:!0}),x3(r).done(function(){i.set({errorMessage:null,isBusy:!1})}).fail(function(){i.set({errorMessage:Object(Xn.default)("There was a problem signing the server out."),isBusy:!1})})},O3["server/claim/createPIN"]=function(e,t,n){var r=j3(e),i=Gf(e);r.then(function(e){i.set({pinID:e.id,code:e.code,isBusy:!0})}),r.fail(function(){i.set({fatalErrorMessage:Object(Xn.default)("An error occurred"),isBusy:!1})})},O3),U3=n(605),z3=n.n(U3),F3=60;var B3=function(e){var t=e.serverEntityID,n=e.avatarUrl;return hv()("div",{className:z3.a.avatar},void 0,n?null:hv()(FR,{className:z3.a.icon}),hv()($k,{serverEntityID:t,url:n,width:F3,height:F3}))},H3=Object(Iy.createSelector)(wy,function(e){return{avatarUrl:e.isSignedIn?e.thumb:null}}),V3=Lm(H3)(B3),Q3=n(316),W3=n.n(Q3);var G3=function(e){var t=e.isSigningOut,n=e.username,r=e.serverEntityID,i=e.onSignOutPress;return hv()("div",{className:W3.a.container},void 0,hv()(V3,{serverEntityID:r}),hv()("div",{className:W3.a.message},void 0,hv()("div",{className:W3.a.messageHeader},void 0,Object(Xn.default)("Server signed in as")),hv()("div",{className:W3.a.messageDetails},void 0,n)),hv()(_V,{className:W3.a.button,kind:Vp,size:qp.MEDIUM,isSpinning:t,onPress:i},void 0,Object(Xn.default)("Sign Out")))},Y3=Xf.a.createElement,K3=Xf.a.Component;var q3=Object(Iy.createSelector)(b3,function(e){return e.isBusy});var Z3={dispatchSignOutServer:k3},X3=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSignOutPress=function(e){t.props.dispatchSignOutServer({serverEntityID:t.props.serverEntityID})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchSignOutServer,wt()(e,["dispatchSignOutServer"]));return Y3(G3,dv()({},t,{onSignOutPress:this.onSignOutPress}))},t}(K3),J3=Lm(function(){return Object(Iy.createSelector)(q3,Object(Iy.createSelector)(m3(),function(e){return e&&e.username||null}),function(e,t){return{isSigningOut:e,username:t}})},Z3)(X3);var $3=function(){return window!==window.top};var e5=function(){return mg()||$3()},t5=n(895),n5=n.n(t5),r5=Xf.a.createElement;var i5=function(e){return r5(_V,dv()({className:n5.a.button,kind:Vp,size:qp.MEDIUM,target:"_blank"},e),Object(Xn.default)("Claim Server"))},a5=Xf.a.Component,o5=Object(Iy.createSelector)(nX("authToken"),function(e){return{authToken:e}}),s5={dispatchClaimServer:A3},l5=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onClaimServerPress=function(){t.props.dispatchClaimServer({serverEntityID:t.props.serverEntityID,authToken:t.props.authToken})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isBusy,n=e.isDisabled;return hv()(i5,{isSpinning:t,isDisabled:n,onPress:this.onClaimServerPress})},t}(a5),c5=Lm(o5,s5)(l5);var u5=function(e,t){var n=e.get("cloudServer");return P.a.ajax(n.getXHROptions("/api/v2/pins/"+t,{dataType:"json"})).promise().then(function(e){return e})};var d5,p5=function(){return function(e,t,n){var r=t.pinID,i=Gf(e);function a(){var t=i.get("pinID");r===t&&u5(e,r).then(function(e){var t=e.authToken;t?i.set({authToken:t}):o()}).fail(function(e){i.set({code:null,pinID:null,isBusy:!1,fatalErrorMessage:e&&404===e.status?null:Object(Xn.default)("An error occurred")})})}function o(){setTimeout(a,2e3)}o()}},h5=Mt("user/authCodeExchange/readStoredPIN"),f5=Mt("user/authCodeExchange/preloadPIN"),g5=Mt("user/authCodeExchange/resetAuthCodeExchange"),v5=Mt("user/authCodeExchange/beginPolling"),m5=Mt("user/authCodeExchange/stopPolling"),y5=Mt("user/authCodeExchange/skipSignIn");function b5(e,t){var n=Gf(e);return n.set({isBusy:!0}),j3(e).then(function(e){var r=e.id,i=e.code,a=e.expiresIn,o=setTimeout(function(){t(m5())},1e3*a);n.set({code:i,pinID:r,pinTimeout:o,isBusy:!1})}).fail(function(){n.set({fatalErrorMessage:Object(Xn.default)("An error occurred"),isBusy:!1})})}var S5=((d5={})["user/authCodeExchange/resetAuthCodeExchange"]=function(e,t,n){var r=Gf(e);Object(No.a)(function(){r.set({code:null,pinID:null,authToken:null,errorMessage:null})})},d5["user/authCodeExchange/readStoredPIN"]=function(e,t,n){var r=Gf(e),i=r.get("pinIDInitial"),a=(i?P.a.Deferred().resolve(i).promise():P.a.Deferred().reject().promise()).then(function(){return u5(e,i).fail(function(){r.set({errorMessage:Object(Xn.default)("There was an error signing in")})})}).then(function(e){var t=e.authToken;return t?P.a.Deferred().resolve(t).promise():(r.set({errorMessage:Object(Xn.default)("There was an error signing in")}),P.a.Deferred().reject().promise())}).then(function(e){r.set({authToken:e})});t.shouldCreatePIN&&a.fail(function(){return b5(e,n)})},d5["user/authCodeExchange/preloadPIN"]=function(e,t,n){Gf(e).set({isBusy:!0,code:null,pinID:null}),b5(e,n)},d5["user/authCodeExchange/beginPolling"]=p5(),d5["user/authCodeExchange/stopPolling"]=function(e,t,n){var r=Gf(e),i=r.get("pinTimeout");i&&clearTimeout(i),r.set({pinID:null,pinTimeout:null,code:null})},d5["user/authCodeExchange/skipSignIn"]=function(e,t,n){e.set({skipSignIn:!0})},d5),I5={dispatchRedirectToUrl:Rg},C5=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchRedirectToUrl({url:this.props.to})},n.render=function(){return null},t}(Xf.a.Component),M5=Lm(null,I5)(C5);var D5=function e(t){return function(e,t){return void 0===t&&(t=C.a.identity),Object.keys(e).forEach(function(n){e[n]=t(e[n])}),e}(function(e,t){return void 0===t&&(t=C.a.identity),Object.keys(e).forEach(function(n){t(e[n])||delete e[n]}),e}(t),function(t){return C.a.isObject(t)?e(t):t})},w5=n(286),P5=n(288);var T5=function(e,t){var n=Wf(e),r=n.base,i=n.searchParams,a=n.hashPath,o=n.hashParams,s=Object(w5.a)(o);return""+r+i+"#"+a+"?"+Object(P5.a)(Object.assign({},s,t))};function E5(e,t){var n=e.match(/(^[^#]+)?/)[1];return""+(n=n||"")+t}var x5=function(){return Object(Iy.createSelector)(function(e,t){return t.email},function(e,t){return t.providerID},function(e,t){return t.userAuthToken},function(e,t){return t.code},function(e,t){return t.pinID},function(e,t){return t.errorMessage},function(e){return e.clientID},function(e){return e.isFirstRun},function(e,t,n,r,i,a,o,s){var l=Object(J.c)("metrics").toJSON(),c={clientID:o,context:D5(l.context||{})};if(!e5()){var u=i?T5(window.location.href,{pinID:i}):window.location.href;c.forwardUrl=u,s&&(c.skipSignInUrl=E5(window.location.href,F.join(["#!/setup/skipSignIn"],{forwardUrl:u})))}return r&&(c.code=r),t&&(c.provider=t),e&&(c.email=e),n&&(c.authToken=n),a&&(c.error=a),F.join(["https://app.plex.tv/auth",F.join(["#!/"],c)])})},O5=Xf.a.createElement;var j5=Lm(function(){return Object(Iy.createSelector)(x5(),function(e){return{serviceAuthUrl:e}})},{})(function(e){var t=e.component,n=e.serviceAuthUrl,r=wt()(e,["component","serviceAuthUrl"]);return O5(t,dv()({to:n},r))}),A5={dispatchReadStoredPIN:h5,dispatchCreatePIN:L3,dispatchSignInThenClaimServer:N3},N5=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onClaimServerPress=function(){t.props.dispatchCreatePIN()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!1})},n.componentDidUpdate=function(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})},n.render=function(){var e=this.props,t=e.isBusy,n=e.isDisabled,r=e.pinID,i=e.code;return r?hv()(j5,{component:M5,code:i,pinID:r}):hv()(i5,{isSpinning:t,isDisabled:n,onPress:this.onClaimServerPress})},t}(Xf.a.Component),k5=Lm(b3,A5)(N5),L5=Xf.a.Component,R5={dispatchPreloadPIN:f5,dispatchBeginPolling:v5,dispatchStopPolling:m5,dispatchSignInThenClaimServer:N3},_5=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onClaimServerPress=function(){t.props.dispatchBeginPolling({pinID:t.props.pinID})},t.onStillTherePress=function(){t.props.dispatchPreloadPIN()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchPreloadPIN()},n.componentDidUpdate=function(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInThenClaimServer({serverEntityID:this.props.serverEntityID,authToken:this.props.authToken})},n.componentWillUnmount=function(){this.props.dispatchStopPolling()},n.render=function(){var e=this.props,t=e.code,n=e.pinID,r=e.isBusy,i=e.isDisabled;return!(r||this.props.code)?hv()(AB,{message:Object(Xn.default)("Server claiming timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:RS,kind:a.PRIMARY,onPress:this.onStillTherePress}]}):hv()(j5,{component:i5,code:t,pinID:n,isSpinning:r,isDisabled:i||!n,onPress:this.onClaimServerPress})},t}(L5),U5=Lm(b3,R5)(_5),z5=n(190),F5=n.n(z5);var B5,H5=function(e){var t=e.serverEntityID,n=e.isBusy,r=e.isUserRestricted,i=e.ClaimServerButtonConnectorComponent;return hv()("div",{className:F5.a.container},void 0,hv()(B3,{serverEntityID:t}),r?hv()("div",{className:F5.a.message},void 0,hv()("div",{className:F5.a.messageHeader},void 0,Object(Xn.default)("This server is unclaimed and not secure")),hv()("div",{className:F5.a.messageDetails},void 0,Object(Xn.default)("You are signed in as a managed user.")),hv()("div",{className:F5.a.messageDetails},void 0,Object(Xn.default)("Switch to a full user account to claim this server."))):hv()("div",{className:F5.a.message},void 0,hv()("div",{className:F5.a.messageHeader},void 0,Object(Xn.default)("This server is unclaimed and not secure")),hv()("div",{className:F5.a.messageDetails},void 0,Object(Xn.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe."))),hv()(i,{serverEntityID:t,isBusy:n,isDisabled:r}))},V5=Xf.a.Component,Q5="SIGNED_IN_BUTTON",W5="SIGNED_OUT_POLL_BUTTON",G5="SIGNED_OUT_LAUNCH_BUTTON";var Y5={dispatchClaimServer:A3},K5=((B5={})[Q5]=c5,B5[W5]=U5,B5[G5]=k5,B5),q5=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.componentType,r=e.isBusy,i=e.isUserRestricted;return hv()(H5,{serverEntityID:t,isBusy:r,isUserRestricted:i,ClaimServerButtonConnectorComponent:K5[n]})},t}(V5),Z5=Lm(function(){return Object(Iy.createSelector)(b3,nX("isSignedIn"),nX("restricted"),function(e,t,n){var r;return r=t?Q5:e5()?W5:G5,Object.assign({componentType:r,isUserRestricted:!!n},e)})},Y5)(q5),X5=Xf.a.createElement;var J5=Lm(function(){return Object(Iy.createSelector)(y3(),function(e){return{isServerClaimed:e}})})(function(e){var t=e.isServerClaimed,n=wt()(e,["isServerClaimed"]);return X5(t?J3:Z5,n)}),$5=Rm.extend({template:function(){return""},mountReact:function(){var e=Object(J.c)("appStore"),t=this.model.entityID();Bv.a.render(hv()(Wv,{store:e},void 0,hv()(J5,{serverEntityID:t})),this.el)}}),e6=n(896),t6=n.n(e6);function n6(e){return e?e.split("\n"):[]}var r6=Lc.extend({name:"releaseNotesModal",template:t6.a,serializeData:function(){var e=this.model.toJSON();return e.escapedVersion=C.a.escape(e.version.replace(/-.*/gi,"")),e.added=n6(e.added),e.fixed=n6(e.fixed),e}}),i6=n(897),a6=n.n(i6),o6=U.ItemView.extend({tagName:"span",className:"check-for-updates-container",template:a6.a,ui:{checkForUpdatesBtn:".check-for-updates-btn",downloadUpdatesContainer:".downloading-updates-container",downloadProgressContainer:".downloading-progress-container",downloadProgressLabel:".downloading-progress-label",updateProgressLabel:".downloading-updates-label",updateErrorMessage:".update-error-message",installManualLink:".install-manual-link"},modelEvents:{"change:state":"onStateChange","change:progress":"onProgressChange"},events:{"click .check-for-updates-btn":"onCheckForUpdatesClick","click .available-updates-btn":"onDownloadUpdatesClick","click .install-updates-btn":"onInstallUpdatesClick","click .release-notes-btn":"onInfoClick"},initialize:function(){this.model.fetch().then(this.whenRendered(function(){var e=this.model.get("state");"downloaded"===e&&this.model.get("shouldInstall")?(this.model.set("shouldInstall",!1),this.installUpdates()):this.canCheckForUpdate(e)&&this.checkForUpdates({download:!1})}))},serializeData:function(){return{canCheckForUpdate:this.canCheckForUpdate(this.model.get("state"))}},checkForUpdates:function(e){bt.execute("checkForServerUpdates",{server:this.model.server,download:e.download,initialState:e.initialState})},installUpdates:function(){bt.execute("installServerUpdates",{server:this.model.server})},waitForInstall:function(){this.onWaitingForInstallCheck(),this.listenTo(this.model.server,"change:isConnected",this.onServerConnectedChange)},showUpdateState:function(){var e=this.model.get("state"),t=this.model.previous("state");"installing"===t&&this.stopListening(this.model.server,"change:isConnected",this.onServerConnectedChange),this.$el.removeClass(t);var n=e;this.model.get("canInstall")||"available"!==e||(n="notify"),this.$el.addClass(n);var r=!(!this.model.get("added")&&!this.model.get("fixed"));if(this.$el.toggleClass("has-release-notes",r),"installing"===n)this.waitForInstall();else if("error"===n||"notify"===n){var i;this.model.get("error")?(i=this.model.get("error"),this.ui.installManualLink.addClass("hidden")):this.model.get("canInstall")?(i=Object(Xn.default)("Something went wrong."),this.ui.installManualLink.removeClass("hidden")):(i=Object(Xn.default)("An update is available."),this.ui.installManualLink.removeClass("hidden"));var a=J.c("appModel").get("user").server,o=this.model.get("downloadURL")||a.get("appsUrl");this.ui.installManualLink.attr("href",o),this.ui.updateErrorMessage.text(i)}},canCheckForUpdate:function(e){return"done"===e||"error"===e||"none"===e},onRender:function(){this.showUpdateState()},onStateChange:function(e,t){this.isRendered&&(this.showUpdateState(),this.ui.checkForUpdatesBtn.toggleClass("active",!this.canCheckForUpdate(t)))},onProgressChange:function(e,t){C.a.isNumber(t)?(this.ui.downloadUpdatesContainer.css({"background-size":t+"% 100%"}),this.ui.downloadProgressContainer.removeClass("hidden"),this.ui.downloadProgressLabel.text(t)):this.ui.downloadProgressContainer.addClass("hidden")},onServerConnectedChange:function(e,t){t?bt.execute("checkForServerUpdates",{server:this.model.server}):this._waitingTimeoutID&&(this._waitingTimeoutID=clearTimeout(this._waitingTimeoutID))},onWaitingForInstallCheck:function(){var e=this,t=this.model.server;if(t.get("isConnected")&&"installing"===this.model.get("state")){var n=t.getXHROptions("/updater/check",{type:"PUT"});P.a.ajax(n).promise().always(function(){e._waitingTimeoutID=setTimeout(e.onWaitingForInstallCheck.bind(e),2e3)})}},onCheckForUpdatesClick:function(e){e.preventDefault(),this.ui.checkForUpdatesBtn.isDisabled()||(this.ui.checkForUpdatesBtn.addClass("active"),this.checkForUpdates({download:!0}))},onDownloadUpdatesClick:function(e){e.preventDefault(),this.checkForUpdates({download:!0,initialState:"downloading"})},onInstallUpdatesClick:function(e){e.preventDefault(),this.installUpdates()},onInfoClick:function(e){e.preventDefault(),z.a.trigger("show:modal",new r6({model:this.model}))}}),s6=n(898),l6=n.n(s6),c6=g3.extend({template:l6.a,regions:{signIn:".sign-in-region",update:".update-region"},serializeData:function(){var e=g3.prototype.serializeData.apply(this,arguments),t=C.a.findWhere(e,{id:"FriendlyName"});return t&&(t.placeholder=this.model.get("friendlyName")),e},bindings:{".version":{modelAttribute:"shortVersion",formatter:function(e){return Object(Xn.default)("Version {1}",e)}}},onRender:function(){g3.prototype.onRender.apply(this,arguments),this.signIn.show(new $5({model:this.model})),this.model.get("updater")&&this.update.show(new o6({model:this.model.get("desktop").get("update"),collection:this.collection}))}}),u6=g3.extend({prefix:"account.",serializeData:function(){var e=this.options.account,t=[],n=up.map(function(e){return{value:e,label:dp[e]}});return t.push({id:this.prefix+"autoSelectAudio",label:Object(Xn.default)("Automatically select audio and subtitle tracks"),summary:Object(Xn.default)("Automatically select audio and subtitle tracks in your preferred language when possible."),default:!1,value:e.get("autoSelectAudio"),type:"bool",group:"account.language",advanced:!1,hidden:!1}),t.push({id:this.prefix+"defaultAudioLanguage",label:Object(Xn.default)("Prefer audio tracks in"),default:"en",value:e.get("defaultAudioLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t.push({id:this.prefix+"subtitleMode",label:Object(Xn.default)("Subtitle mode"),default:1,value:parseInt(e.get("subtitleMode"),10),type:"int",group:"account.language",advanced:!1,hidden:!1,enumValues:[{value:0,label:Object(Xn.default)("Manually selected")},{value:1,label:Object(Xn.default)("Shown with foreign audio")},{value:2,label:Object(Xn.default)("Always enabled")}]}),t.push({id:this.prefix+"defaultSubtitleLanguage",label:Object(Xn.default)("Prefer subtitles in"),default:"en",value:e.get("defaultSubtitleLanguage"),type:"text",group:"account.language",advanced:!1,hidden:!1,enumValues:n}),t},updateModel:function(e,t){var n=g3.prototype.updateModel.apply(this,arguments);if(n)return n;var r=e.replace(this.prefix,""),i=this.options.account;return i.has(r)?i.set(r,t):void 0}}),d6=n(899),p6=n.n(d6),h6=g3.extend({className:"remote-access-container",template:p6.a,ui:{manualPortMappingMode:"#ManualPortMappingMode",manualPortMappingPort:"#ManualPortMappingPort",wanTotalMaxUploadRate:"#WanTotalMaxUploadRate",uploadContainer:".remote-access-upload-container",submitBtn:".submit-btn",message:".form-message"},events:{"change .remote-access-error-container input[id]":"onErrorInputChange","click .sign-in-link":"onSignInClick","click .remote-access-enable-btn":"onEnableClick","click .retry-btn":"onRetryClick","click .remote-access-disable-btn":"onDisableClick","change input[name=WanTotalMaxUploadRate]":"onTotalRateChange","keyup input[name=WanTotalMaxUploadRate]":"onTotalRateChange","change select[name=WanPerStreamMaxUploadRate]":"onPerStreamRateChange","submit #remote-access-upload-form":"onUploadFormSubmit"},initialize:function(e){this.cloudAccount=e.cloudAccount,this.changes=e.changes,this.listenTo(this.cloudAccount,{"change:signInState":this.render,"change:remoteAccessState":this.render})},serializeData:function(){var e=this.collection.get("PublishServerOnPlexOnlineKey"),t=this.collection.get("ManualPortMappingMode"),n=this.collection.get("ManualPortMappingPort"),r=this.collection.get("WanTotalMaxUploadRate"),i=this.collection.get("WanPerStreamMaxUploadRate"),a=this.cloudAccount.toJSON(),o=!e.get("value"),s=!a.signedIn,l=o||s,c=!(!a.privateAddress||null==a.privatePort),u=!(!a.publicAddress||null==a.publicPort),d={forceAdvanced:!o&&!!a.mappingError,isDisabled:o,isSignedOut:s,isUnavailable:l,canEditPort:!l&&t&&t.get("value"),hasPrivateAddress:c,hasPublicAddress:u,cloudAccount:a,hasMappingSettings:!(!t||!n),hasUploadLimitSettings:!(!r||!i),mappingModeSetting:t?t.toJSON():null,mappingPortSetting:n?n.toJSON():null,uploadSettings:[]};return r&&(d.totalRateSettingID=r.id,d.totalRateSettingValue=r.get("value")/1e3),i&&d.uploadSettings.push(i.toJSON()),d},enable:function(){},enableUploadForm:function(){this.isDisabled=!1,this.ui.message.text(""),this.ui.message.removeClass("has-error"),this.ui.submitBtn.removeClass("disabled")},updateUploadSetting:function(e,t){e&&(this.updateModel(e,t)&&(this.changes[e]=t,this.enable()))},connect:function(){return bt.execute("connectServer",{cloudAccount:this.cloudAccount,value:!0})},disconnect:function(){return bt.execute("connectServer",{cloudAccount:this.cloudAccount,value:!1})},reconnect:function(){return bt.execute("reconnectServer",{cloudAccount:this.cloudAccount})},saveChanges:function(){if(C.a.isEmpty(this.changes))return P.a.Deferred().resolve().promise();var e=this.collection.first().save(this.changes);return e.done(C.a.bind(function(){this.changes={}},this)),e},onErrorInputChange:function(e){g3.prototype.onInputChange.apply(this,arguments),this.ui.manualPortMappingPort.prop("disabled",!this.ui.manualPortMappingMode.prop("checked"))},onSignInClick:function(e){e.preventDefault(),Pu("serverSettings",{serverID:this.model.id,group:"general"})},onEnableClick:function(e){e.preventDefault(),this.connect()},onDisableClick:function(e){e.preventDefault(),this.disconnect()},onRetryClick:function(e){e.preventDefault(),this.cloudAccount.set("remoteAccessState",ju),this.saveChanges().always(C.a.bind(this.reconnect,this))},onTotalRateChange:function(e){var t=e.currentTarget,n=parseFloat(t.value,10),r=C.a.isNaN(n)?0:Math.max(n,0);this.updateUploadSetting(t.name,1e3*r),this.enableUploadForm()},onPerStreamRateChange:function(e){var t=e.currentTarget;this.updateUploadSetting(t.name,t.value),this.enableUploadForm()},onUploadFormSubmit:function(e){e.preventDefault(),this.trigger("save");var t=this.collection.get("WanTotalMaxUploadRate").get("value"),n=!t;this.ui.wanTotalMaxUploadRate.val(t/1e3),this.ui.uploadContainer.toggleClass("show-warning",n)}}),f6=n(900),g6=n.n(f6),v6=U.ItemView.extend({className:"loading",template:g6.a,initialize:function(e){e&&e.inline&&this.$el.addClass("loading-inline")}}),m6=n(901),y6=n.n(m6),b6=U.ItemView.extend({template:y6.a}),S6={PENDING:"pending",FAILED:"failed",COMPLETE:"complete",failureCodes:{INVALID_PATH:"invalidPath",DISK_FULL:"diskFull",DISK_UNWRITABLE:"diskUnwritable"}},I6=If.extend({background:!0,setup:function(e){this.model=e.model,e.noPlaceholder||(this.placeholderClass=ff.playlist);var t=uf(),n={width:Math.round((e.width||e.height||256)*t),height:Math.round((e.height||e.width||256)*t),rows:e.rows||2,cols:e.columns||2,border:e.border||0,media:e.media||"thumb",repeat:e.unique?0:1},r=this.model.get("composite");r&&(this.url=this.model.server.resolveUrl(F.join(r,n),{appendToken:!0}))}}),C6=ji.extend({idAttribute:"title",whitelistedAttrs:["title","selected"],convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseBoolean(t,"selected"),t},parse:function(e,t){var n=this.convert(e);return n=C.a.pick(n,this.whitelistedAttrs)}}),M6=Ri.extend({model:C6,url:"/clients/profiles?type="+Mu.LOCAL,parse:function(e){return this.convert(e,"Profile")}}),D6=ji.extend({name:"VersionTargetModel",whitelistedAttrs:["id","tag","tagType","MediaSettings","Device"],convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseInteger(t,"id"),t},parse:function(e,t){var n=this.convert(e);return n=C.a.pick(n,this.whitelistedAttrs)}}),w6=Ri.extend({model:D6,url:"/library/tags?type="+Mu.LOCAL,comparator:function(e){return e.get("MediaSettings").maxVideoBitrate},parse:function(e){return this.convert(e,"Tag")}}),P6=n(902),T6=n.n(P6),E6=U.ItemView.extend({className:"modal-body",template:T6.a,events:{"click .try-again-link":"onTryAgainClick"},serializeData:function(){return{status:this.options.status}},onTryAgainClick:function(e){e.preventDefault(),this.triggerMethod("request:state","loading")}}),x6=n(903),O6=n.n(x6),j6=U.ItemView.extend({className:"convert-location-container form-group",template:O6.a,events:{"change select[name=storageLocation]":"onLocationChange"},serializeData:function(){return{disableLocation:!this.model.isNew(),selectedLocationID:this.model.get("locationID"),locations:this.model.section&&this.model.section.get("locations").toJSON()}},onLocationChange:function(e){this.model.set("locationID",parseInt(e.currentTarget.value,10))}}),A6=n(904),N6=n.n(A6),k6=U.ItemView.extend({className:"convert-target-container form-group",template:N6.a,ui:{targetTitleInput:".convert-target-title"},events:{"change select[name=target]":"onTargetChange","keydown input[name=targetTitle]":"onTitleKeyDown","change input[name=targetTitle]":"onTitleChange","change select[name=targetProfile]":"onProfileChange","change select[name=targetQuality]":"onQualityChange"},initialize:function(e){this.targets=e.targets,this.profiles=e.profiles;var t=this.model.get("Device").profile;this.selectedProfile=t?this.profiles.get(t):this.profiles.findWhere({selected:!0}),this.availableCustomQualities=gd.a.getAvailableQualities({lowestQualityIndex:2}).reverse();var n=this.model.get("mediaSettings").get("maxVideoBitrate");if(n){var r=gd.a.getNearestIndexToBitrate(n);this.selectedCustomQuality=gd.a.getQualityByIndex(r)}else this.selectedCustomQuality=C.a.first(this.availableCustomQualities);this.model.isNew()||this.model.get("targetTagID")||this.$el.addClass("show-custom-target")},serializeData:function(){return{item:this.model.toJSON(),targets:this.targets.toJSON(),disableTarget:!this.model.isNew(),profiles:this.profiles.toJSON(),selectedProfile:this.selectedProfile.toJSON(),availableCustomQualities:this.availableCustomQualities,selectedCustomQuality:this.selectedCustomQuality}},updateDeviceProfile:function(e){this.model.get("Device").profile=this.selectedProfile.get("title")},updateMediaSettings:function(e){this.model.get("mediaSettings").set({videoQuality:e.videoQuality,videoResolution:e.videoResolution,maxVideoBitrate:e.bitrate})},onTargetChange:function(e){var t=parseInt(e.currentTarget.value,10);t>-1?(this.model.unset("target"),this.model.set({targetTagID:t,Device:{}}),this.model.get("mediaSettings").restoreDefaults()):(this.model.set("target",this.ui.targetTitleInput.val()),this.model.unset("targetTagID"),this.updateDeviceProfile(this.selectedProfile),this.updateMediaSettings(this.selectedCustomQuality)),this.$el.toggleClass("show-custom-target",-1===t)},onTitleKeyDown:function(e){190===e.which&&0===e.currentTarget.selectionStart&&e.preventDefault()},onTitleChange:function(e){this.model.set("target",e.currentTarget.value)},onProfileChange:function(e){this.selectedProfile=this.profiles.findWhere({title:e.currentTarget.value}),this.updateDeviceProfile(this.selectedProfile)},onQualityChange:function(e){var t=parseInt(e.currentTarget.value,10);this.selectedCustomQuality=gd.a.getQualityByIndex(t),this.updateMediaSettings(this.selectedCustomQuality)}}),L6=n(905),R6=n.n(L6),_6=U.Layout.extend({template:R6.a,ui:{submitBtn:".submit-btn"},regions:{policyRegion:".policy-region",targetsRegion:".targets-region",locationRegion:".location-region"},events:{"change input[name=title]":"onTitleChange","submit #convert-form":"onSubmit"},initialize:function(e){if(this.playlist=e.playlist,this.targets=e.targets,this.profiles=e.profiles,this.model){this.tempModel=this.model.clone();var t=this.model.get("Location").librarySectionID;if(t){var n=new _l({key:t},{server:this.model.server,onlyIfCached:!0});C.a.isEmpty(n)||(this.tempModel.section=n)}}else{var r,i=e.item,a=e.items,o=i.has("childrenKey")?i.get("children"):i,s=i.server;if(i.get("isSection"))r=i;else{var l=Ul(i);C.a.isEmpty(l)||(r=l)}this.tempModel=new sd({title:Fl.title(i,{items:a}),targetTagID:this.targets.first().id,Location:{uri:Fl.uri(o,{items:a})}},{server:s,section:r})}},serializeData:function(){return{conversionItem:this.tempModel.toJSON(),isNew:this.tempModel.isNew(),showRemuxOnlyWarning:this.tempModel.server.get("transcoderVideoRemuxOnly")}},onRender:function(){this.policyRegion.show(new dd({model:this.tempModel,isSync:!1})),this.targetsRegion.show(new k6({model:this.tempModel,targets:this.targets,profiles:this.profiles})),this.locationRegion.show(new j6({model:this.tempModel}))},onTitleChange:function(e){this.tempModel.set("title",e.currentTarget.value)},onSubmit:function(e){e.preventDefault();var t=this.ui.submitBtn;if(!t.hasClass("active")){if(t.addClass("active"),!this.tempModel.get("targetTagID")&&!this.tempModel.get("target")){var n=this.tempModel.get("Device");this.tempModel.set("target",Object(Xn.default)("Custom: {1}",n.profile))}var r=this.playlist.addContent(this.tempModel);r.done(this.whenRendered(function(){if(this.model){var e=C.a.omit(this.tempModel.toJSON(),"children");this.model.set(this.model.parse(e))}this.trigger("request:nextState")})),r.fail(this.whenRendered(function(e){var t=e.responseText,n=Ve.a.parseXML(t),r=n&&n.status;this.trigger("request:state","error",r)}))}}}),U6=n(906),z6=n.n(U6),F6=U.ItemView.extend({className:"modal-body loading-container",template:z6.a}),B6=n(907),H6=n.n(B6),V6=U.ItemView.extend({className:"modal-body",template:H6.a,events:{"click .status-link":"onStatusClick"},onStatusClick:function(e){e.preventDefault(),this.triggerMethod("request:nextState"),Pu("conversion",{serverID:this.options.server.id})}}),Q6=n(908),W6=n.n(Q6),G6=Lc.extend({mixins:[Zu],name:"convertModal",className:"convert-modal modal fade",template:W6.a,regions:{bodyRegion:".modal-body-region"},initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.server=this.model?this.model.server:e.item.server;var t={server:this.server,allowInCache:!0};this.playlists=new Dv([],t),this.targets=new w6([],t),this.profiles=new M6([],t)},initialState:"loading",states:{loading:{nextState:"form",onEnter:function(){this.bodyRegion.show(new F6),this.listenForStateRequests();var e=this.options.item,t=e&&!e.get("isMetadataList"),n=P.a.when(t?e.populate():null,this.playlists.populate(),this.targets.populate(),this.profiles.populate(),this.server.get("sections").populate());n.done(this.whenRendered(function(){this.playlist=this.playlists.first(),this.playlist?this.enterNextState():this.enterState("error")})),n.fail(this.whenRendered(function(){this.enterState("error")}))}},form:{nextState:"success",onEnter:function(){this.bodyRegion.show(new _6({model:this.model,item:this.options.item,items:this.options.items,playlist:this.playlist,targets:this.targets,profiles:this.profiles})),this.listenForStateRequests()}},success:{onEnter:function(){this.model?this.hide():(this.bodyRegion.show(new V6({server:this.server})),this.listenForStateRequests())}},error:{onEnter:function(e){this.bodyRegion.show(new E6({status:e})),this.listenForStateRequests()}}},listenForStateRequests:function(){this.bodyRegion&&this.bodyRegion.currentView&&this.listenTo(this.bodyRegion.currentView,{"request:state":this.enterState,"request:nextState":this.enterNextState})},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.enterNextState()},onStateMachineComplete:function(){this.hide()}}),Y6=["Bytes","KB","MB","GB","TB"];var K6=function(e,t){if(e=parseInt(e,10),t=t||1,C.a.isNaN(e))return"";if(0===e)return"0 Bytes";var n=parseInt(Math.floor(Math.log(e)/Math.log(1024)),10);return(e/Math.pow(1024,n)).toFixed(t)+" "+Y6[n]},q6={PENDING:"pending",ERROR:"error",PROCESSED:"processed",contexts:{OK:"ok",FILE_UNAVAILABLE:"sourceFileUnavailable",METADATA_ERROR:"sourceFileMetadataError",PROFILE_ERROR:"clientProfileError",IO_ERROR:"ioError",TRANSCODER_ERROR:"transcoderError",UNKNOWN_ERROR:"unknownError",ANALYSIS_ERROR:"mediaAnalysisError",DOWNLOAD_FAILED:"downloadFailed",CANNOT_TRANSCODE:"cannotTranscode"}},Z6=n(909),X6=n.n(Z6),J6=U.Layout.extend({tagName:"li",className:"striped-list-item version-generator-metadata-list-item",template:X6.a,ui:{poster:".media-poster"},regions:{statusRegion:".conversion-status-region"},events:{"click .enable-btn":"onEnableClick","click .retry-btn":"onRetryClick"},modelEvents:{"change:processingState":"onProcessingStateChange"},initialize:function(e){this.generator=e.generator,this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.type=this.model.get("type"),this.image=new Cf({model:this.model,type:"movie",height:60,modelAttribute:"episode"===this.type?"grandparentThumb":"thumb"})},bindings:{".generator-metadata-title":{modelAttribute:"title",formatter:function(e){return this.model.get("grandparentTitle")||this.model.get("parentTitle")||e}},".generator-metadata-episode-index":{modelAttribute:"index",autohide:!0,formatter:function(e){if("episode"===this.type)return ol({seasonIndex:this.model.get("parentIndex"),episodeIndex:e,date:this.model.get("originallyAvailableAt"),noLeadingZero:!0,separator:"  "})}},".generator-metadata-year":{modelAttribute:"year",autohide:!0,formatter:function(e){if("movie"===this.type)return e}},".conversion-status-failed-message":{modelAttribute:"processingStateContext",formatter:function(e){return this.getErrorMessage(e)}}},getErrorMessage:function(e){var t=q6.contexts;switch(e){case t.FILE_UNAVAILABLE:return Object(Xn.default)("File unavailable");case t.METADATA_ERROR:return Object(Xn.default)("Invalid metadata");case t.PROFILE_ERROR:return Object(Xn.default)("Invalid profile");case t.ANALYSIS_ERROR:return Object(Xn.default)("Unable to analyze")}return Object(Xn.default)("Unable to convert")},onRender:function(){this.image.setElement(this.ui.poster),this.statusRegion.show(new ly({model:this.model,generator:this.generator,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting,initialState:this.model.get("processingState"),initialErrorMessage:this.getErrorMessage(this.model.get("processingStateContext"))}))},onClose:function(){this.image.close()},onProcessingStateChange:function(e,t){this.statusRegion.currentView&&this.statusRegion.currentView.enterState(t)},onEnableClick:function(e){e.preventDefault(),bt.execute("enableVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})},onRetryClick:function(e){e.preventDefault(),bt.execute("reprocessVersionGenerator",{generator:this.model.generator,ratingKey:this.model.id})}}),$6=Of.extend({tagName:"ul",className:"list version-generator-metadata-list",itemView:J6}),e8=n(910),t8=n.n(e8),n8=Lc.extend({mixins:[Zu],name:"versionGeneratorMetadataModal",className:"version-generator-metadata-modal modal fade",template:t8.a,pageSize:20,scrollThreshold:50,ui:{body:".modal-body",loading:".loading",errorMessage:".error-message"},regions:{listRegion:".list-region"},initialize:function(e){this.status=this.model.get("status"),this.listModel=e.listModel,this.collection=this.listModel.get("metadataItems"),this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.handleScroll=C.a.throttle(this.whenRendered(this.onScroll),100)},states:{base:{},loading:{onEnter:function(){this.ui.loading.removeClass("hidden")},onExit:function(){this.ui.loading.addClass("hidden")}},error:{onEnter:function(){this.ui.errorMessage.removeClass("hidden")},onExit:function(){this.ui.errorMessage.addClass("hidden")}}},bindings:{".generator-title":{modelAttribute:"title"},".generator-items-count":{model:"status",modelAttribute:"itemsCount",formatter:function(e){return 1===e?Object(Xn.default)("{1} item",e):Object(Xn.default)("{1} items",e)}},".generator-total-size":{model:"status",modelAttribute:"totalSize",formatter:function(e){return e?K6(e):Object(Xn.default)("0 files")}},".generator-failure-container":{model:"status",modelAttribute:"failure",manual:!0,autohide:function(e){return!!e}},".generator-failure-message":{model:"status",modelAttribute:"failure",formatter:function(e){return e}}},populatePage:function(){this.enterState("loading");var e=this.listModel.populateRange({start:0,end:this.listModel.get("populatedRange").end+this.pageSize});return e.done(this.whenRendered(function(){this.enterState("base")})),e.fail(this.whenRendered(function(){this.enterState("error")})),e},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.ui.body.on("scroll",this.handleScroll),this.model.fetch(),this.populatePage(),this.listRegion.show(new $6({collection:this.collection,itemViewOptions:{generator:this.model,transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onClose:function(){this.ui.body.off("scroll",this.handleScroll),this.collection.reset()},onScroll:function(){"error"!==this.currentState&&(this.ui.body.prop("scrollHeight")-this.ui.body.innerHeight()-this.ui.body.scrollTop()<this.scrollThreshold&&this.listModel.get("populatedRange").end<this.listModel.get("totalSize")&&this.populatePage())}}),r8=n(911),i8=n.n(r8),a8=U.ItemView.extend({className:"striped-list-item media-list-item playlist-item version-generator-item",tagName:"li",template:i8.a,ui:{poster:".media-poster",status:".generator-status"},events:{"click .playlist-inner-item":"onClick","click .retry-btn":"onRetryClick","click .edit-btn":"onEditClick","click .delete-btn":"onDeleteClick"},attributes:function(){return{"data-generator-id":this.model.id}},initialize:function(e){this.transcodeJobs=e.transcodeJobs,this.pausedSetting=e.pausedSetting,this.status=this.model.get("status");this.compositeImage=new I6({model:this.model,width:gf.getPosterWidth("movie",60),height:60,rows:1,columns:1}),this.listenTo(this.transcodeJobs,"reset add remove",this.onTranscodeJobsChange)},resetState:function(){var e=["converting",S6.PENDING,S6.COMPLETE,S6.FAILED];this.ui.status.removeClass(e.join(" "))},getState:function(e){return this.transcodeJobs.findWhere({generatorID:this.model.id})?"converting":e.get("itemsFailedCount")>0?S6.FAILED:e.get("state")},bindings:{".generator-title":{modelAttribute:"title"},".generator-target":{modelAttribute:"target"},".generator-status":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,formatter:function(e,t){this.resetState(),t.addClass(this.getState(this.status))}},".generator-status-failed-message":{model:"status",modelAttribute:"itemsFailedCount",formatter:function(e){return 1===e?Object(Xn.default)("1 failed item"):Object(Xn.default)("{1} failed items",e)}},".retry-btn":{model:"status",modelAttribute:"state",modelListeners:["state","itemsFailedCount"],manual:!0,autohide:function(e){return this.getState(this.status)===S6.FAILED}}},onRender:function(){this.compositeImage.setElement(this.ui.poster)},onClose:function(){this.compositeImage.close()},onTranscodeJobsChange:function(){var e=this.getState(this.status);this.resetState(),this.ui.status.addClass(e)},onClick:function(e){e.preventDefault(),z.a.trigger("show:modal",new n8({model:this.model,listModel:this.model.get("children"),transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}))},onRetryClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),bt.execute("reprocessVersionGenerator",{generator:this.model})},onEditClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),z.a.trigger("show:modal",new G6({model:this.model}))},onDeleteClick:function(e){e.preventDefault(),e.stopImmediatePropagation(),bt.execute("deleteVersionGenerator",{generator:this.model})}}),o8=Of.extend({tagName:"ol",className:"list media-list playlist-items",itemView:a8,emptyView:b6,sorted:!0,onRender:function(){this.sortable&&this.sortable.destroy(),this.sortable=new Ym.a(this.el,{onUpdate:C.a.bind(this.onItemMove,this),handle:".sortable-handle",animation:200,scroll:!0,scrollSensitivity:100,scrollSpeed:2})},onClose:function(){this.sortable&&this.sortable.destroy()},onItemMove:function(e){var t=P()(e.item).data("generator-id"),n=P()(e.item).prev().data("generator-id");this.collection.parent.moveItem(t,n)}}),s8=n(912),l8=n.n(s8),c8=U.ItemView.extend({template:l8.a,serializeData:function(){return{isTranscoderRequired:!this.model.get("transcoderVideo"),isUpgradeRequired:!this.model.supports("streamReady"),escapedMinServerVersion:C.a.escape(Cc.streamReady)}}}),u8=n(913),d8=n.n(u8),p8=g3.extend({mixins:[Zu],className:"versions-container",template:d8.a,ui:{message:".versions-status-message"},regions:{listRegion:".background-processing-list-region"},events:{"click .delete-all-btn":"onDeleteAllVersionsClick","click .status-conversion-btn":"onStatusConversionClick"},initialize:function(e){this.pausedSetting=this.collection.get("BackgroundQueueIdlePaused"),this.playlists=new Dv([],{server:this.model,allowInCache:!0}),this.transcodeJobs=this.model.get("desktop").get("backgroundTranscodeJobs")},initialState:"loading",states:{loading:{nextState:"list",onEnter:function(){var e=this.model.supports("streamReady"),t=this.model.get("transcoderVideo");if(this.listRegion.show(new v6({inline:!0})),e&&t){var n=P.a.when(this.playlists.populate(),this.transcodeJobs.fetch());(n=n.then(C.a.bind(function(){return this.playlist=this.playlists.first(),this.playlist?(this.generators=this.playlist.get("children"),this.generators.fetch()):P.a.Deferred().reject().promise()},this))).done(this.whenRendered(function(){this.enterNextState()})),n.fail(this.whenRendered(function(){this.enterState("error")}))}else this.enterState("error")}},list:{onEnter:function(){this.toggleMessage(),this.listenTo(this.generators,"reset add remove",this.toggleMessage),this.listRegion.show(new o8({collection:this.generators,itemViewOptions:{transcodeJobs:this.transcodeJobs,pausedSetting:this.pausedSetting}}))},onExit:function(){this.stopListening(this.generators)}},error:{onEnter:function(){this.listRegion.show(new c8({model:this.model}))}}},toggleMessage:function(){this.ui.message.toggleClass("hidden",!this.generators.length)},onRender:function(){this.enterNextState()},onDeleteAllVersionsClick:function(e){e.preventDefault(),bt.execute("deleteAllVersionGenerators",{server:this.model}).then(C.a.bind(function(){return this.generators.fetch()},this))},onStatusConversionClick:function(e){e.preventDefault(),Pu("conversion",{serverID:this.model.id})}}),h8=n(914),f8=n.n(h8),g8=U.Layout.extend({className:"server-settings-container",template:f8.a,remoteAccessDecorators:{connecting:"unknown",disconnecting:"unknown",unreachable:"error",ok:"success"},regions:{serverDropdown:".filter-bar",nav:".nav-region",pane:".pane-region"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick"},panes:{general:{constructor:c6,group:"general",title:"General",isVisible:!0},remoteAccess:{constructor:h6,group:"remoteAccess",title:"Remote Access",isVisible:!0},versions:{constructor:p8,group:"versions",title:"Optimized Versions",isVisible:!0},agents:{constructor:p3,group:"agents",title:"Agents",isVisible:!0},library:{constructor:g3,group:"library",title:"Library"},channels:{constructor:v3,group:"channels",title:"Plugins",isVisible:!0},network:{constructor:g3,group:"network",title:"Network"},transcoder:{constructor:g3,group:"transcoder",title:"Transcoder"},languages:{constructor:u6,group:"account.language",title:"Languages",isVisible:!0},dlna:{constructor:g3,group:"dlna",title:"DLNA"},butler:{constructor:g3,group:"butler",title:"Scheduled Tasks"},extras:{constructor:g3,group:"extras",title:"Extras"}},initialize:function(e){this.defaultGroup=e.group||"general",this.account=e.account,this.cloudAccount=e.cloudAccount,this.channelSettings=e.channelSettings,this.tempSettings=this.collection.cloneDeep(),this.tempAccount=this.account.clone(),this.tempChannelSettings=this.channelSettings.cloneDeep(),this.changes={};var t=Object(J.c)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings");if(this.$el.toggleClass("show-advanced",t),this.initGroups(),this.model.supports("reachability")){var n=C.a.extend(this.model.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});P.a.ajax(n)}this.listenTo(z.a,"shortcut:save",this.saveChanges),this.listenTo(this.collection,"change:value",this.onSettingValueChange)},initGroups:function(){var e=this,t=C.a.keys(this.panes),n=C.a.unique(this.collection.filter(function(e){return e.get("group")&&!e.get("hidden")}).map(function(e){return e.get("group")}));this.groups=new y.c.Collection,t.forEach(function(t){var r=e.panes[t],i=r.isVisible;(!0===i||!1!==i&&C.a.contains(n,t))&&e.addGroup(t,r)}),C.a.each(n,function(e){if(!C.a.contains(t,e)){var n={constructor:g3,group:e,title:e};this.panes[e]=n,this.addGroup(e,n)}},this)},addGroup:function(e,t){var n=C.a.omit(t,"constructor");n.id=e,this.groups.add(n)},showPane:function(e){if(this.currentPane){if(this.currentPane.isActive)return this.currentPane;this.stopListening(this.currentPane),this.flushChanges()}var t=this.panes[e];if(t&&this.groups.get(e)){var n=new(0,t.constructor)({model:this.model,collection:this.tempSettings,account:this.tempAccount,cloudAccount:this.cloudAccount,channelSettings:this.tempChannelSettings,group:t.group,changes:this.changes});return this.currentPane=n,this.pane.show(n),this.listenTo(this.currentPane,"save",this.saveChanges),n}Pu("serverSettings",{serverID:this.model.id,group:"general"})},flushChanges:function(){this.currentPane.changes&&C.a.extend(this.changes,this.currentPane.changes)},saveChanges:function(){if(this.flushChanges(),!this.currentPane.isDisabled&&!this.currentPane.isActive){this.currentPane.triggerMethod("before:save");var e=[],t=this.getPrefixedChanges("channel."),n=this.getPrefixedChanges("account.");if(!C.a.isEmpty(t)){var r=this.channelSettings.first().getSaveParams(t),i=C.a.result(this.channelSettings,"url"),a=F.join([i,"/set"],r);e.push(P.a.ajax(this.model.getXHROptions(a)))}C.a.isEmpty(n)||e.push(this.account.save(n)),C.a.isEmpty(this.changes)||e.push(this.collection.first().save(this.changes));var o=P.a.when.apply(P.a,e);o.done(C.a.bind(function(){var e=C.a.keys(this.changes);C.a.each(e,function(e){var t=this.tempSettings.get(e);this.collection.get(e).set("value",t.get("value")),"ButlerUpdateChannel"===e&&this.onButlerUpdateChannelChange()},this),this.changes={},this.currentPane&&(this.currentPane.changes&&(this.currentPane.changes={}),this.currentPane.triggerMethod("after:save",!0))},this)),o.fail(C.a.bind(function(){this.currentPane&&this.currentPane.triggerMethod("after:save",!1)},this))}},getPrefixedChanges:function(e){var t={};return C.a.each(this.changes,function(n,r){0===r.lastIndexOf(e,0)&&(t[r.substring(e.length)]=n,delete this.changes[r])},this),t},onRender:function(){this.showPane(this.defaultGroup)},onClose:function(){this.currentPane=null},onSettingValueChange:function(e,t){this.tempSettings.get(e.id).set("value",t)},onServerConnectedChange:function(e,t){t&&(this.stopListening(e,"change:connected",this.onServerConnectedChange),Object(J.c)("appModel").set("primaryServer",e))},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");Object(J.c)("appStore").dispatch(Wo({showAdvancedSettings:!t})),this.$el.toggleClass("show-advanced",!t)},onButlerUpdateChannelChange:function(){var e=this.collection.get("ButlerTaskCheckForUpdates");e&&e.get("value")&&bt.execute("checkForServerUpdates",{server:this.model,download:!1})}}),v8=Xf.a.createElement,m8=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.view;this._view=new e(this.props.viewOptions),this._view.render(),this._el.appendChild(this._view.el),this._view.triggerMethod("show")},n.shouldComponentUpdate=function(){return!1},n.componentWillUnmount=function(){this._view.close&&this._view.close()},n.render=function(){var e=this;return v8("div",{ref:function(t){return e._el=t}})},t}(Xf.a.Component),y8=Xf.a.Component,b8=hv()("br",{}),S8=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAllowFallbackConfirm=function(){r.setState({isSubmitting:!0}),r.props.onAllowHttpFallback({serverEntityID:r.props.serverEntityID,allowHttpFallback:r.props.publicAddressMatches?vp.SAME_NETWORK:vp.ALWAYS})},r.state={isSubmitting:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.publicAddressMatches,n=e.isOpen,r=e.onModalClose,i=this.state.isSubmitting;return hv()(VN,{size:qp.SMALL,isOpen:n,metricsPage:wa,onModalClose:r},void 0,hv()(qN,{onModalClose:r},void 0,hv()(PN,{},void 0,Object(Xn.default)("Allow Insecure Connections")),hv()(CN,{},void 0,t?Object(Xn.default)("Insecure connections will only be allowed when you're on the same network as the server."):Object(Xn.default)("Insecure connections will be allowed to any server."),b8,Object(Xn.default)("The Allow Fallback to Insecure Connections setting can be changed in Web Settings. Would you like to allow insecure connections?")),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(_V,{kind:Vp,isDisabled:i,onPress:r},void 0,Object(Xn.default)("Cancel")),hv()(_V,{kind:Gp,isSpinning:i,onPress:this.onAllowFallbackConfirm},void 0,Object(Xn.default)("Allow"))))))},t}(y8);var I8=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{publicAddressMatches:e.publicAddressMatches}})},{onAllowHttpFallback:NA})(S8),C8=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onReloadHttpPress=function(){r.setState({isSubmitting:!0}),r.props.onReloadHttp()},r.onReloadHttpAlwaysPress=function(){r.setState({isSubmitting:!0}),r.props.onReloadHttpAlways()},r.state={isSubmitting:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isOpen,n=e.onModalClose,r=this.state.isSubmitting;return hv()(VN,{size:qp.SMALL,isOpen:t,metricsPage:wa,onModalClose:n},void 0,hv()(qN,{onModalClose:n},void 0,hv()(PN,{},void 0,Object(Xn.default)("Allow Insecure Connections")),hv()(CN,{},void 0,Object(Xn.default)("I understand that traffic between this application and Plex Media Server over an insecure connection is not encrypted.")),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(_V,{kind:Vp,isDisabled:r,onPress:n},void 0,Object(Xn.default)("Cancel")),hv()(_V,{kind:Gp,isSpinning:r,onPress:this.onReloadHttpAlwaysPress},void 0,Object(Xn.default)("Allow always")),hv()(_V,{"data-autofocus":!0,kind:Gp,isSpinning:r,onPress:this.onReloadHttpPress},void 0,Object(Xn.default)("Allow once"))))))},t}(Xf.a.Component);var M8=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName}})},function(e){return{onReloadHttp:function(){e(Lg())},onReloadHttpAlways:function(){e(_g()),e(Lg())}}})(C8),D8=n(161),w8=n.n(D8),P8=n(224),T8=n.n(P8),E8=Xf.a.Component,x8=hv()("br",{}),O8=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAdvancedPress=function(){r.setState({isModalOpen:!0})},r.onModalClose=function(){r.setState({isModalOpen:!1})},r.state={isModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.title,r=e.description,i=e.modalComponent,a=this.state.isModalOpen;return hv()(oT,{className:T8.a.emptyPage},void 0,hv()("div",{className:T8.a.content},void 0,hv()("img",{className:T8.a.pmsLogo,src:w8.a}),hv()("div",{className:T8.a.title},void 0,n),hv()("div",{className:T8.a.description},void 0,Object(Xn.default)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network.'),x8,hv()(AB,{message:Object(Xn.default)("You can {openLink}learn more about secure connections here{closeLink}."),tags:[{open:"openLink",close:"closeLink",component:RS,to:MB,kind:Qp,target:"_blank"}]})),hv()("div",{className:T8.a.description},void 0,r),hv()(i,{isOpen:a,serverEntityID:t,onModalClose:this.onModalClose}),hv()(I_,{className:T8.a.button,kind:Vp,size:qp.LARGE,onPress:this.onAdvancedPress},void 0,Object(Xn.default)("Allow Insecure Connections"))))},t}(E8);function j8(){return!ve.a.isHostedHttps||!!te.a.get("allowMixedContent")}function A8(e){return e.isFullServer&&!!e.presence&&!e.httpsRequired}function N8(e){return!j8()&&A8(e)}function k8(e){var t=e.hasHttpsConnections&&!e.hasFallbackConnections;return j8()&&A8(e)&&t}var L8=function(e){var t=e.friendlyName;return hv()(Zq,{title:t?Object(Xn.default)('The server "{serverName}" is unavailable',{serverName:t}):Object(Xn.default)("This server is unavailable"),description:Object(Xn.default)("Plex will automatically try to reconnect to this server")})};var R8=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName,shouldAllowInsecureRedirect:N8(e),shouldAllowInsecureFallback:k8(e)}})})(function(e){var t=e.friendlyName,n=e.shouldAllowInsecureRedirect,r=e.shouldAllowInsecureFallback;return n?hv()(O8,{serverEntityID:e.serverEntityID,title:Object(Xn.default)('Unable to connect to "{serverName}" securely',{serverName:t}),description:Object(Xn.default)("You can also allow insecure connections now, which will reload the app insecurely."),modalComponent:M8}):r?hv()(O8,{serverEntityID:e.serverEntityID,title:Object(Xn.default)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:Object(Xn.default)("The app is loaded insecurely. You can attempt to use an insecure connection now."),modalComponent:I8}):hv()(L8,{friendlyName:t})}),_8=hv()(ZE.a,{});var U8=function(e){var t=e.friendlyName;return hv()(Gq,{title:Object(Xn.default)('The server "{serverName}" is installing an update',{serverName:t}),description:Object(Xn.default)("Grab a cup of tea. This may take a couple of minutes.")},void 0,_8)},z8=n(915),F8=n.n(z8);function B8(e){return hv()("h2",{className:e.className},void 0,e.children)}B8.defaultProps={className:F8.a.header};var H8=B8,V8=hv()(cE,{});var Q8=function(e){var t=e.friendlyName,n=e.sourceTitle,r=e.settingsTitle,i=e.isShared&&n?t+" ("+n+")":t;return hv()(H8,{},void 0,i,V8,r)};var W8=Lm(function(){return Object(Iy.createSelector)(Dy(),Object(Iy.createSelector)(function(e,t){return t.settingsSection},function(e,t){return t.settingsGroup},function(e,t){var n=C.a.findWhere(W4,{key:e});return C.a.findWhere(n.groups,{key:t}).title()}),function(e,t){return{friendlyName:e?e.friendlyName:"",sourceTitle:e?e.sourceTitle:"",isShared:!(!e||!e.isShared),settingsTitle:t}})})(Q8),G8=n(916),Y8=n.n(G8);function K8(e){var t=e.children,n=e.className,r=e.metricsPage,i=e.metricsPane;return hv()(D1,{metricsPage:r,metricsProperties:{pane:i}},void 0,hv()("div",{className:n},void 0,t))}K8.defaultProps={className:Y8.a.content};var q8=K8,Z8=Xf.a.createElement,X8=hv()(Gq,{},void 0,hv()(ZE.a,{})),J8=hv()(Gq,{},void 0,hv()(ZE.a,{}));var $8=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.viewDataErrorMessage,i=e.isViewDataPending,a=e.isInstallingServerUpdate,o=e.isUnavailable,s=e.isSettingAccessible,l=e.isSettingsPending,c=e.friendlyName,u=e.settingsSection,d=e.settingsGroup,p=e.pageComponent,h=e.paneComponent,f=e.contentView,g=wt()(e,["serverEntityID","providerEntityID","viewDataErrorMessage","isViewDataPending","isInstallingServerUpdate","isUnavailable","isSettingAccessible","isSettingsPending","friendlyName","settingsSection","settingsGroup","pageComponent","paneComponent","contentView"]);return a?hv()(U8,{friendlyName:c}):i?X8:o?hv()(R8,{serverEntityID:e.serverEntityID}):r?hv()(Zq,{title:r}):s?p?Z8(p,dv()({serverEntityID:t},q4(u,d))):Z8(q8,q4(u,d),hv()(W8,{serverEntityID:t,settingsSection:u,settingsGroup:d}),h?hv()(h,{serverEntityID:t,providerEntityID:n}):hv()(m8,{view:f||g8,viewOptions:g})):l?J8:hv()(Zq,{title:Object(Xn.default)("There was an unexpected error loading the settings")})};var e9=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.settingsSection},function(e,t){return t.settingsGroup},K4(),Dy(),function(e,t,n,r){var i,a,o,s=(i=e,a=t,(o=n.find(function(e){return e.key===i}))?o.groups.find(function(e){return e.key===a}):null);return{isInstallingServerUpdate:!(!r||!r.isInstallingServerUpdate),isUnavailable:!(!r||!r.isUnavailable),isSettingAccessible:!!s&&!s.hasCustomRoute,isSettingsPending:!(!r||!r.desktop.isSettingsPending),friendlyName:r?r.friendlyName:"",pageComponent:s&&s.pageComponent,paneComponent:s&&s.paneComponent}})})($8),t9=Object(Iy.createSelectorCreator)(Iy.defaultMemoize,C.a.isEqual),n9=t9(qZ,function(e){return e.filter(function(e){return e.isPrimaryEligible})}),r9=Object(Iy.createSelector)(n9,function(e){return e.reduce(function(e,t){return t.isShared&&!t.allowSync||t.isOutOfDate||e.push(t.entityID),e},[])}),i9=n(917),a9=n.n(i9);function o9(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}o9.defaultProps={className:a9.a.sidebarContainer};var s9=o9,l9=n(918),c9=n.n(l9),u9=Xf.a.createElement;function d9(e){var t=e.className;return u9(oT,dv()({className:t,autoScroll:!0},e))}d9.defaultProps={className:c9.a.scroller};var p9=d9;function h9(){return Ig()?"Plex Media Player":Object(Xn.default)("Web Client")}var f9=function(e){var t,n=e.activeConnection,r=!1;return e.isConnected&&n?t=e.isOutOfDate?Object(Xn.default)("Needs Update"):n.relay?Object(Xn.default)("Indirect"):n.isPrivate?Object(Xn.default)("Nearby"):Object(Xn.default)("Remote"):e.isRelayed?t=Object(Xn.default)("Indirect"):e.isUnavailable?t=Object(Xn.default)("Unavailable"):e.isUnauthorized?t=Object(Xn.default)("Unauthorized"):(r=!0,t=Object(Xn.default)("Connecting")),{isConnecting:r,status:t,statusWithSource:e.sourceTitle?t+" ("+e.sourceTitle+")":t}},g9=n(169),v9=n.n(g9),m9=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.children,n=e.className,r=e.friendlyNameClassName,i=e.detailsClassName,a=e.to,o=e.isDisabled,s=e.isSelected,l=e.identifier,c=e.title,u=e.details,d=e.onPress;return hv()(hI,{className:(n||"")+" "+(v9.a.serverMenuItem||"")+" "+(s&&v9.a.selectedServerMenuItem||""),"data-qa-id":"serverMenuItem--"+l,to:a,isDisabled:o,onPress:d},void 0,hv()("div",{className:v9.a.serverMenuItemContainer},void 0,hv()("div",{className:v9.a.serverMenuTitle},void 0,hv()("div",{className:r},void 0,c),hv()("div",{className:i},void 0,u)),hv()("div",{className:v9.a.serverMenuIconContainer},void 0,s?hv()(SI,{className:(v9.a.serverMenuIcon||"")+" "+(v9.a.selectedIcon||""),"aria-label":Object(Xn.default)("Selected")}):null,t)))},t}(Xf.a.Component);m9.defaultProps={friendlyNameClassName:v9.a.serverMenuFriendlyName,detailsClassName:v9.a.serverMenuDetails};var y9=m9,b9=n(919),S9=n.n(b9),I9=Xf.a.createElement;var C9=function(e){var t=e.className,n=e.isInstallingServerUpdate,r=e.isUnavailable,i=e.isSettingsPending;return n||i&&!r?hv()("div",{className:t},void 0,hv()(ZE.a,{className:S9.a.spinner,size:qp.SMALL})):I9(YR,e)},M9=n(380),D9=n.n(M9);var w9=function(e){var t=e.isSelected,n=e.activeConnection,r=e.isConnected,i=e.isUnavailable,a=e.isSecure,o=e.isRelayed,s=e.machineIdentifier,l=e.friendlyName,c=e.sourceTitle,u=e.isInstallingServerUpdate,d=e.isSettingsPending,p=e.settingsSection,h=e.settingsGroup,f=f9({activeConnection:n,isConnected:r,isRelayed:o,isUnavailable:i,sourceTitle:c}),g=f.isConnecting,v=f.statusWithSource,m=d||g||i;return hv()(y9,{className:m&&D9.a.disabled||"",friendlyNameClassName:D9.a.friendlyName,detailsClassName:D9.a.details,to:Rc(s,p||"settings",h||"general"),isDisabled:g,isSelected:t,identifier:s,title:l,details:v},void 0,hv()(C9,{className:D9.a.icon,isInstallingServerUpdate:u,isSettingsPending:d,isUnavailable:i,isRelayed:o,isSecure:a,isConnected:r}))};var P9=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,sourceTitle:e.sourceTitle,activeConnection:e.activeConnection,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSecure:e.isSecure,isRelayed:e.isRelayed,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending}})})(w9),T9=n(606),E9=n.n(T9),x9=5*parseInt(yQ.a.serverMenuItemHeight,10),O9={className:E9.a.serverMenuScroller,scrollDirection:Xp,autoScroll:!0};var j9=function(e){var t=e.target,n=e.serverEntityIDs,r=e.selectedServerEntityID,i=e.settingsSection,a=e.settingsGroup,o=e.isOpen,s=e.onMenuClose;return hv()(zT,{className:E9.a.serverMenu,target:t,isOpen:o,scrollerProps:O9,maxHeight:x9,onMenuClose:s},void 0,n.map(function(e){return hv()(P9,{serverEntityID:e,isSelected:e===r,settingsSection:i,settingsGroup:a},e)}))},A9=n(191),N9=n.n(A9);function k9(e){var t=e.className,n=e.secondaryTitleClassName,r=e.id,i=e.isLoading,a=e.isMenuOpen,o=e.isDisabled,s=e.isSelected,l=e.primaryTitle,c=e.secondaryTitle,u=e.children,d=e.spinnerComponent,p=e.onPress;return hv()(RS,{id:r,className:(t||"")+" "+(o&&N9.a.isDisabled||""),"aria-haspopup":!o,"data-qa-id":"serverMenuButton",isSelected:s,isDisabled:o,onPress:p},void 0,hv()("div",{className:N9.a.sidebarMenuButtonContainer},void 0,hv()("span",{className:N9.a.sidebarMenuTitle},void 0,hv()("span",{className:N9.a.sidebarMenuPrimaryTitleContainer},void 0,hv()("span",{className:N9.a.sidebarMenuPrimaryTitle},void 0,l),o?null:hv()(TI,{direction:a?Up:Fp,isSelected:s})),c?hv()("span",{className:n},void 0,c):null),i?hv()(d,{size:qp.SMALL,className:N9.a.sidebarMenuSpinner}):u))}k9.defaultProps={className:N9.a.sidebarMenuButton,secondaryTitleClassName:N9.a.sidebarMenuSecondaryTitle,isMenuOpen:!1,isSelected:!0,isDisabled:!1,isLoading:!1,spinnerComponent:xV.a};var L9=k9,R9=Xf.a.createElement;var _9=function(e){return R9(L9,dv()({spinnerComponent:ZE.a},e))},U9=n(479),z9=n.n(U9);var F9=function(e){var t,n=e.id,r=e.friendlyName,i=e.sourceTitle,a=e.isConnected,o=e.isInstallingServerUpdate,s=e.isSelected,l=e.isUnavailable,c=e.isSecure,u=e.isSettingsPending,d=e.isRelayed,p=e.isMenuOpen,h=e.onPress;return d&&i?t=Object(Xn.default)("Indirect ({serverName})",{serverName:i}):d?t=Object(Xn.default)("Indirect"):i&&(t=i),hv()(_9,{className:z9.a.button,secondaryTitleClassName:z9.a.secondaryTitle,id:n,isMenuOpen:p,primaryTitle:r,secondaryTitle:t,isSelected:s,onPress:h},void 0,hv()(C9,{className:z9.a.icon,isInstallingServerUpdate:o,isSettingsPending:u,isUnavailable:l,isRelayed:d,isSecure:c,isConnected:a}))};var B9=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.desktop.isSettingsPending,isSecure:e.isSecure,isRelayed:e.isRelayed,sourceTitle:e.sourceTitle}})})(F9),H9=Object(Iy.createSelector)(My,function(e){return e.cloudServer},function(e,t){return e[t]});var V9=n(225),Q9=n.n(V9),W9=Xf.a.createElement;function G9(e){var t,n=e.className,r=e.children,i=e.iconClassName,a=e.titleClassName,o=e.iconSrc,s=e.iconComponent,l=e.iconNode,c=e.title,u=e.showSpinner,d=wt()(e,["className","children","iconClassName","titleClassName","iconSrc","iconComponent","iconNode","title","showSpinner"]);return o?t=hv()("img",{className:Q9.a.iconImg,src:o}):s?t=hv()(s,{}):l&&(t=l),W9(RS,dv()({className:n},d),hv()("div",{className:Q9.a.container},void 0,hv()("div",{className:i},void 0,u?hv()(xV.a,{className:Q9.a.spinner}):t),c?hv()("div",{className:a},void 0,c):null,function(e){var t=[];return Xf.a.Children.forEach(e,function(e){Xf.a.isValidElement(e)&&t.push(e)}),t}(r).length?hv()("div",{className:Q9.a.children},void 0,r):null))}G9.defaultProps={className:Q9.a.sidebarLink,iconClassName:Q9.a.icon,titleClassName:Q9.a.title};var Y9=G9,K9=n(920),q9=n.n(K9);function Z9(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}Z9.defaultProps={className:q9.a.sidebarListItem};var X9=Z9,J9=Xf.a.createElement;var $9=function(e){return hv()(X9,{},void 0,J9(Y9,e))},e7=n(921),t7=n.n(e7);var n7=function(e){var t=e.message,n=e.children;return hv()("div",{},void 0,hv()("p",{className:t7.a.sidebarMessage},void 0,t),n)};function r7(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-unlock-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 160c-.02-7.756.721-15.486 2.2-23.072 1.088-5.577 2.576-11.076 4.449-16.441 1.885-5.402 4.161-10.668 6.801-15.743 3.116-5.991 6.74-11.716 10.817-17.099 4.132-5.455 8.728-10.557 13.723-15.235 4.912-4.6 10.208-8.789 15.818-12.507 5.443-3.608 11.181-6.772 17.14-9.446 9.443-4.237 19.436-7.236 29.653-8.897 4.12-.67 8.275-1.124 12.442-1.362 2.181-.125 4.365-.187 6.55-.197.387-.001.775 0 1.163.001 2.183.018 4.365.087 6.544.218 4.164.251 8.316.718 12.431 1.401 10.208 1.693 20.188 4.721 29.615 8.986 6.059 2.742 11.888 5.99 17.409 9.697 5.686 3.818 11.044 8.122 16.001 12.848 4.953 4.722 9.504 9.866 13.587 15.358 4.103 5.519 7.732 11.389 10.831 17.527 2.581 5.113 4.794 10.411 6.615 15.841 1.769 5.278 3.167 10.68 4.182 16.154 1.342 7.242 2.012 14.609 1.987 21.968l-59.984 0 .006-.197c-.015-4.685-.564-9.366-1.661-13.92-1.309-5.431-3.394-10.668-6.165-15.518-3.266-5.718-7.478-10.89-12.403-15.261-4.517-4.009-9.633-7.341-15.137-9.831-4.624-2.092-9.514-3.584-14.518-4.43-2.184-.37-4.388-.617-6.599-.743-1.106-.063-2.212-.094-3.319-.1-.394 0-.788.002-1.183.008-1.165.02-2.329.07-3.492.155-2.199.16-4.389.441-6.558.843-4.921.912-9.722 2.451-14.257 4.57-5.472 2.557-10.548 5.95-15.017 10.012-4.873 4.429-9.022 9.651-12.219 15.408-2.715 4.888-4.736 10.156-5.979 15.608-.985 4.326-1.478 8.761-1.492 13.197l.007.199 0 80 60.012 0 0 280-360 0 0-280 240 0 0-80m-40 280l0-45.359c11.952-6.92 20-19.848 20-34.641 0-22.077-17.923-40-40-40-22.077 0-40 17.923-40 40 0 14.793 8.048 27.721 20 34.641l0 45.359 40 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}r7.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var i7=r7,a7=Xf.a.Component,o7=Xf.a.Fragment,s7=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRemoveServerPress=function(e){r.setState({isRemoveModalOpen:!0})},r.onRemoveConfirm=function(){r.setState({isRemoveModalOpen:!1}),r.props.onDeleteServerConfirm(r.props.machineIdentifier)},r.onRemoveCancel=function(){r.setState({isRemoveModalOpen:!1})},r.onAllowInsecureConnectionPress=function(e){r.setState({isAllowInsecureConnectionModalOpen:!0})},r.onAllowInsecureConnectionCancel=function(e){r.setState({isAllowInsecureConnectionModalOpen:!1})},r.state={isRemoveModalOpen:!1,isAllowInsecureConnectionModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e,t,n,r,i,o,s=this.props,l=s.serverEntityID,c=s.friendlyName,u=s.presence,d=s.isPending,p=s.isBundled,h=s.isCloudServerResourcesPending,f=s.isFullServer,g=s.isFullOwnedServer,v=s.isInstallingServerUpdate,m=s.httpsRequired,y=s.hasHttpsConnections,b=s.hasFallbackConnections,S=s.onTryAgainPress,I=this.state,C=I.isRemoveModalOpen,M=I.isAllowInsecureConnectionModalOpen;if(v)t=!1,n=!1,r=!1,i=!1,o=Object(Xn.default)('Once the server "{serverName}" has finished installing the update, Plex will automatically try to reconnect to this server.',{serverName:c});else{var D={isFullServer:f,presence:u,httpsRequired:m,hasHttpsConnections:y,hasFallbackConnections:b};e=N8(D),t=k8(D),r=!(n=e||t),i=g&&!p,o=n?Object(Xn.default)('Unable to connect to "{serverName}" securely.',{serverName:c}):Object(Xn.default)('The server "{serverName}" is unreachable. Make sure it\'s running, double check your network, and try again.',{serverName:c})}var w=h||d,P=w?Object(Xn.default)("Connecting"):Object(Xn.default)("Try again");return hv()(n7,{message:o},void 0,hv()($9,{iconComponent:IK,title:P,showSpinner:w,isDisabled:w,onPress:S}),t?hv()(o7,{},void 0,hv()($9,{iconComponent:i7,title:Object(Xn.default)("Allow insecure connection"),onPress:this.onAllowInsecureConnectionPress}),hv()(I8,{serverEntityID:l,isOpen:M,onModalClose:this.onAllowInsecureConnectionCancel})):null,n?hv()($9,{to:MB,target:"_blank",iconComponent:j4,title:Object(Xn.default)("Learn more")}):null,r?hv()($9,{to:"https://help.plex.tv/noserver",target:"_blank",iconComponent:j4,title:Object(Xn.default)("Where is my server?")}):null,i?hv()(o7,{},void 0,hv()($9,{iconComponent:US,title:Object(Xn.default)("Remove server"),onPress:this.onRemoveServerPress}),hv()(mK,{isOpen:C,metricsPage:"confirmDeleteServer",kind:a.DANGER,title:Object(Xn.default)("Remove {serverName}",{serverName:c}),message:Object(Xn.default)("If this server is restarted, it will automatically be added to your account again."),confirmLabel:Object(Xn.default)("Remove"),onConfirm:this.onRemoveConfirm,onCancel:this.onRemoveCancel})):null)},t}(a7);var l7=iZ(function(){return Object(Iy.createSelector)(H9,Dy(),function(e,t){return{machineIdentifier:t.machineIdentifier,friendlyName:t.friendlyName,presence:t.presence,isPending:t.isPending,isFullServer:t.isFullServer,isFullOwnedServer:t.isFullOwnedServer,isInstallingServerUpdate:t.isInstallingServerUpdate,isBundled:t.isBundled,isCloudServerResourcesPending:e.isResourcesPending,httpsRequired:t.httpsRequired,hasHttpsConnections:t.hasHttpsConnections,hasFallbackConnections:t.hasFallbackConnections}})},function(e,t){var n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onDeleteServerConfirm:function(){e(_A(n))},onTryAgainPress:function(){e(Ag()),e(nc(n))}}})(s7),c7=n(480),u7=n.n(c7),d7=Xf.a.createElement;function p7(e){var t=e.className,n=e.headerContainerClassName,r=e.headerClassName,i=e.children,a=e.title,o=e.icon,s=e.onRef;return d7("div",{className:t,role:"navigation",ref:s},hv()("div",{className:n},void 0,hv()("div",{className:r,role:"header"},void 0,a),o?hv()("div",{className:u7.a.sidebarListHeaderIcon},void 0,o):null),i)}p7.defaultProps={headerContainerClassName:u7.a.sidebarListHeaderContainer,headerClassName:u7.a.sidebarListHeader};var h7=p7,f7=n(922),g7=n.n(f7),v7=Xf.a.createElement;var m7=function(e){return v7(h7,dv()({headerClassName:g7.a.header},e))},y7=n(607),b7=n.n(y7);var S7=function(e){var t,n=e.className,r=e.children,i=e.selectableKey,a=e.selectedKey,o=e.to,s=e.title,l=a&&a===i;return/^#/.test(o)||(t=$3()?"_blank":"_self"),hv()($9,{className:n,target:t,to:o,iconClassName:l?b7.a.selectedIcon:b7.a.icon,title:s,isSelected:l},i,r)};var I7=function(e){var t=e.serverEntityID,n=e.machineIdentifier,r=e.selectedKey,i=e.isShared,a=e.isInstallingServerUpdate,o=e.isUnavailable,s=e.isSettingsPending,l=e.settingsSections;return a||o?hv()(l7,{serverEntityID:t}):s?null:l.map(function(e,t){if(i&&1===e.groups.length){var a=e.groups[0];return hv()(S7,{selectableKey:zv(n,e.key,a.key),selectedKey:r,title:a.title,to:a.route},t)}return hv()(m7,{title:e.title},t,e.groups.map(function(i,a){return hv()(S7,{selectableKey:zv(n,e.key,i.key),selectedKey:r,title:i.title,to:i.route},""+t+a,i.statusIndicator)}))})},C7=Xf.a.createElement,M7=Xf.a.Component;var D7={dispatchPopulateSettings:EA},w7=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._populate()},n.componentDidUpdate=function(e){e.serverEntityID!==this.props.serverEntityID&&this._populate()},n._populate=function(){var e=this.props,t=e.serverEntityID,n=e.isConnected,r=e.isFullOwnedServer,i=e.dispatchPopulateSettings;n&&r&&i({serverEntityID:t})},n.render=function(){var e=this.props,t=(e.isConnected,e.isFullOwnedServer,e.dispatchPopulateSettings,wt()(e,["isConnected","isFullOwnedServer","dispatchPopulateSettings"]));return C7(I7,t)},t}(M7),P7=Lm(function(){return Object(Iy.createSelector)(Dy(),K4(),function(e,t){return{machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,isShared:e.isShared,isInstallingServerUpdate:e.isInstallingServerUpdate,isConnected:e.isConnected,isUnavailable:e.isUnavailable,isSettingsPending:e.isFullOwnedServer&&e.desktop.isSettingsPending,isFullOwnedServer:e.isFullOwnedServer,settingsSections:t}})},D7)(w7);function T7(e){return e.deviceSettings}var E7=Object(Iy.createSelector)(T7,function(e){return!1}),x7=n(447),O7=n.n(x7),j7=Xf.a.createElement;var A7=function(e){var t=e.shouldShowWarning,n=wt()(e,["shouldShowWarning"]);return j7(S7,n,t?hv()(FR,{className:O7.a.alertIcon}):null)},N7=Object(Iy.createSelector)(E7,function(e){return{shouldShowWarning:e}}),k7=Lm(N7)(A7),L7=Xf.a.Component,R7=Xf.a.Fragment,_7="SettingsSidebarScrollTop",U7=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onMeasure=function(){r.setState({isMeasured:!0})},r.onScrollPositionChange=function(e){var t=e.scrollTop;r.setState({scrollTop:t},function(){rF.set(_7,t)})},r.onMenuButtonPress=function(){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})};var i=rF.get(_7);return r.state={isMeasured:!1,scrollTop:i||0,isMenuOpen:!1},r._serverMenuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.manageableServerEntityIDs,n=e.serverMenuServerEntityID,r=e.selectedKey,i=e.isUserSignedIn,a=e.isUserUnrestricted,o=e.isServerMenuServerEntityIDSelected,s=e.showAdvancedSettings,l=e.userTitle,c=e.settingsSection,u=e.settingsGroup,d=this.state,p=d.scrollTop,h=d.isMenuOpen,f=Uv();return hv()(BN,{page:"settingsSidebar",isDelegated:!0},void 0,hv()(XA,{ignorePosition:!0,ignoreWidth:!0,onMeasure:this.onMeasure},void 0,hv()(s9,{},void 0,this.state.isMeasured?hv()(p9,{smoothScroll:!1,scrollTop:p,onScrollPositionChange:this.onScrollPositionChange},void 0,hv()("div",{className:O7.a.sidebarContent},void 0,i?hv()(m7,{title:l},void 0,hv()(S7,{selectableKey:"account",selectedKey:r,to:"#!/settings/account",title:Object(Xn.default)("Account")}),a?hv()(S7,{selectableKey:"online-media-sources",selectedKey:r,to:"#!/settings/online-media-sources",title:Object(Xn.default)("Online Media Sources")}):null,a?hv()(S7,{selectableKey:"devices",selectedKey:r,to:"#!/settings/devices",title:Object(Xn.default)("Authorized Devices")}):null,a?hv()(S7,{selectableKey:"webhooks",selectedKey:r,to:"#!/settings/webhooks",title:Object(Xn.default)("Webhooks")}):null,i?hv()(S7,{selectableKey:"users-sharing",selectedKey:r,to:"#!/settings/users-sharing",title:Object(Xn.default)("Users & Sharing")}):null):null,hv()(m7,{title:h9(),selectableKey:f,selectedKey:r},void 0,hv()(k7,{selectableKey:Uv("general"),selectedKey:r,to:"#!/settings/web/general",title:Object(Xn.default)("General")}),hv()(S7,{selectableKey:Uv("quality"),selectedKey:r,to:"#!/settings/web/quality",title:Object(Xn.default)("Quality")}),s?hv()(S7,{selectableKey:Uv("debug"),selectedKey:r,to:"#!/settings/web/debug",title:Object(Xn.default)("Debug")}):null,hv()(S7,{selectableKey:Uv("player"),selectedKey:r,to:"#!/settings/web/player",title:Object(Xn.default)("Player")})),n?hv()(R7,{},void 0,hv()(B9,{id:this._serverMenuButtonID,serverEntityID:n,isMenuOpen:h,isSelected:o,onPress:this.onMenuButtonPress}),hv()(j9,{target:this._serverMenuButtonID,serverEntityIDs:t,selectedServerEntityID:n,isOpen:h,settingsSection:c,settingsGroup:u,onMenuClose:this.onMenuClose}),hv()(P7,{serverEntityID:n,selectedKey:r})):null)):null)))},t}(L7);var z7=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.selectedServerEntityID},function(e){return e.primaryServer},function(e){return e.user.experienceSettings.showAdvancedSettings},wy,r9,function(e,t,n,r,i){var a=function(e,t,n){return n.includes(e)?e:n.includes(t)?t:n?n[0]:null}(e,t,i);return{serverMenuServerEntityID:a,manageableServerEntityIDs:i,isUserSignedIn:r.isSignedIn,isUserUnrestricted:!r.restricted,isServerMenuServerEntityIDSelected:a===e,showAdvancedSettings:n,userTitle:r.title}})})(U7),F7=Xf.a.createElement,B7=Rm.extend({initialize:function(e){var t=this,n=e.serverID,r=e.settingsSection,i=e.settingsGroup,a=J.c("appModel"),o=a.get("servers");this.options={settingsSection:r,settingsGroup:i,machineIdentifier:n,isViewDataPending:!0},o.findServer(n).done(this.whenRendered(function(n){return Object(No.a)(),a.set("primaryServer",n),t.listenTo(n,"change:isConnected",t.onServerIsConnectedChanged),n.get("isConnected")?n.get("isShared")&&!n.get("allowSync")?(Object.assign(t.options,{viewDataErrorMessage:Object(Xn.default)("You do not have access to this server"),isViewDataPending:!1}),void t.render()):void(!n.get("isShared")||!n.get("allowSync")||"status"===r&&"sync"===i?"settings"===r||"manage"===r?t.initializeServerSettingsView(n,e):"status"===r&&"alerts"===i?t.initializeAlertsView(n):"status"===r&&"conversion"===i?t.initializeConversionView(n):"status"===r&&"sync"===i?t.initializeSyncView(n,e):"status"===r&&"server-dashboard"===i?t.initializeServerDashboardView(n):(t.options.isViewDataPending=!1,t.render()):Pu("sync",{serverID:n.id})):(t.options.isViewDataPending=!1,void t.render())})).fail(this.whenRendered(function(){Object.assign(t.options,{viewDataErrorMessage:Object(Xn.default)("The server you're trying to access doesn't seem to exist."),isViewDataPending:!1}),t.render()}))},initializeServerSettingsView:function(e,t){var n=this,r=t.group;this.options.settingsGroup=r;var i=e.get("desktop"),a=i.get("settings"),o=new yv({key:"/accounts/1"},{server:e}),s=i.get("cloudAccount"),l=new fl([],{server:e,url:"/system/:/prefs"}),c=P.a.when(a.fetch(),o.fetch({scope:"page"}),s.fetch({scope:"page"}),l.fetch({scope:"page"}));c.done(this.whenRendered(function(){Object.assign(n.options,{model:e,collection:a,account:o,cloudAccount:s,channelSettings:l,subset:"server",group:r,isViewDataPending:!1}),n.render()})),c.fail(this.whenRendered(function(){Object.assign(n.options,{viewDataErrorMessage:Object(Xn.default)("Server settings are unavailable."),isViewDataPending:!1}),n.render()}))},initializeAlertsView:function(e){var t=e.get("desktop");Object.assign(this.options,{model:e,collection:t.get("alerts"),subset:"alerts",contentView:Vm,isViewDataPending:!1}),this.render()},initializeConversionView:function(e){var t=this,n=e.get("desktop");this.options.contentView=yy;var r,i,a=new _v([],{server:e,allowInCache:!0}),o=n.get("backgroundTranscodeJobs"),s=new Dv([],{server:e,allowInCache:!0}),l=P.a.when(a.populate(),o.fetch(),n.get("settings").fetch(),s.populate()).then(function(){r=a.first();var e=s.first();return r&&e?(i=e.get("children"),P.a.when(r.fetch(),i.fetch())):P.a.Deferred().reject().promise()});l.done(this.whenRendered(function(){Object.assign(t.options,{model:e,playQueue:r,transcodeJobs:o,generators:i,subset:"conversion",isViewDataPending:!1}),t.render()})),l.fail(this.whenRendered(function(){Object.assign(t.options,{viewDataErrorMessage:Object(Xn.default)("The conversion queue is unavailable."),isViewDataPending:!1}),t.render()}))},initializeSyncView:function(e,t){var n,r=this,i=t.deviceID,a=t.routeOrigin;Object.assign(this.options,{contentView:hB,sidebarKey:"syncedContent"===a?(n=e.id,Ss("synced-content",n)):null});var o=J.c("appModel").get("user").get("desktop").get("devices"),s=o.populate();s.done(this.whenRendered(function(){var t=o.filterSyncDevices(),n=i?t.get(i):null;Object.assign(r.options,{model:e,collection:t,selectedDevice:n,subset:"sync",routeOrigin:a,isViewDataPending:!1}),r.render()})),s.fail(this.whenRendered(function(){Object.assign(r.options,{viewDataErrorMessage:Object(Xn.default)("Sync status is unavailable."),isViewDataPending:!1}),r.render()}))},initializeServerDashboardView:function(e){Object.assign(this.options,{server:e,subset:"server-dashboard",contentView:KF,isViewDataPending:!1}),this.render()},component:function(e){var t=e.machineIdentifier,n=e.settingsSection,r=e.settingsGroup,i=e.sidebarKey,a=wt()(e,["machineIdentifier","settingsSection","settingsGroup","sidebarKey"]),o=Object(Tr.a)(Er.n,t),s=i||zv(t,n,r);return hv()(mv,{},void 0,hv()(z7,{selectedKey:s,settingsSection:n,settingsGroup:r,selectedServerEntityID:o}),F7(e9,dv()({serverEntityID:o,providerEntityID:bv(o),settingsSection:n,settingsGroup:r},a)))},onServerIsConnectedChanged:function(e,t){t&&z.a.trigger("navigate:refresh")}}),H7=lv.extend({activity:function(){var e=this;this.populateView({primaryServer:!0}).done(function(t){var n=t.server;n.get("shared")?e.sync(n.id):e.alerts(n.id)})},alerts:function(e){var t=this.getPopulateOptions(e);this.showAlertsView(t,e)},legacyAlerts:function(e){var t=this.getPopulateOptions(e);this.showAlertsView(t,e)},showAlertsView:function(e,t){this.populateView(e).done(function(){z.a.trigger("show:view",new B7({settingsSection:"status",settingsGroup:"alerts",serverID:t}))})},sync:function(e,t){var n=this.getPopulateOptions(e);this.showSyncView(n,e,t)},legacySync:function(e,t){var n=this.getPopulateOptions(e);this.showSyncView(n,e,t)},syncedContent:function(e,t){var n=this.getPopulateOptions(e);this.showSyncView(n,e,t,"syncedContent")},showSyncView:function(e,t,n,r){var i=this;void 0===r&&(r="sync");var a=this.populateView(Object.assign({},e,{serverID:cv.a}));(a=a.then(function(){return i.populateView(e)})).done(function(){z.a.trigger("show:view",new B7({settingsSection:"status",settingsGroup:"sync",serverID:t,deviceID:n,routeOrigin:r}))})},conversion:function(e){var t=this.getPopulateOptions(e);this.showConversionView(t,e)},legacyConversion:function(e){var t=this.getPopulateOptions(e);this.showConversionView(t,e)},showConversionView:function(e,t){this.populateView(e).done(function(){z.a.trigger("show:view",new B7({settingsSection:"status",settingsGroup:"conversion",serverID:t}))})},serverDashboard:function(e){var t=this.getPopulateOptions(e);this.showServerDashboardView(t,e)},showServerDashboardView:function(e,t){this.populateView(e).done(function(){z.a.trigger("show:view",new B7({settingsSection:"status",settingsGroup:"server-dashboard",serverID:t}))})},getPopulateOptions:function(e){return{showLoading:!this.isReload(e)}}}),V7=nv.extend({controller:new H7,appRoutes:{"!/settings/server/:serverID/status/alerts":"alerts","!/settings/server/:serverID/status/sync(/:deviceID)":"sync","!/settings/server/:serverID/status/conversion":"conversion","!/settings/server/:serverID/status/server-dashboard":"serverDashboard","!/settings/synced-content/:serverID(/:deviceID)":"syncedContent","!/activity":"activity","!/activity/alerts(/:serverID)":"legacyAlerts","!/activity/sync(/:serverID)(/:deviceID)":"legacySync","!/activity/conversion(/:serverID)":"legacyConversion","!/status":"activity","!/status/alerts(/:serverID)":"legacyAlerts","!/status/sync(/:serverID)(/:deviceID)":"legacySync","!/status/conversion(/:serverID)":"legacyConversion"}}),Q7=Ue.a.extend({name:"ChannelCollection",context:["server","channel"],model:av,url:function(){return this.containerKey},initialize:function(){this.listenTo(z.a,"clear:channels",this.reset)},sortByTitle:function(e){return e.get("title").toLowerCase()},sortByLastAccess:function(e){return-e.get("lastAccessedAt")},filterByType:function(e){var t=this.filter(function(t){return t.get("type")===e});return this.clone(t)}}),W7=Ce.a.extend({mixins:[Xs.a],name:"ChannelListModel",context:["server"],idAttribute:"key",collectionName:"channels",url:function(){var e=this.get("key"),t=e||F.join(["/channels",this.get("subset")]);return this.getPaginatedUrl(t)},sessionAttrs:{key:Me.a.string,subset:Me.a.oneOf("all","recentlyViewed"),currentPageStart:Me.a.integer,currentPageSize:Me.a.integer,populatedRange:Me.a.object},syncedAttrs:{totalSize:Me.a.integer,viewGroup:Me.a.string,title1:Me.a.string,title2:Me.a.string},syncedRelations:{channels:{relationClass:Q7,rootPropertyName:"Directory",setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{subset:"all",populatedRange:{start:0,end:0,size:0}}},initialize:function(){this.startPopulatedRangeMonitor()}}),G7=n(923),Y7=n.n(G7),K7=U.ItemView.extend({tagName:"li",className:"poster-item media-tile-list-item channel",template:Y7.a,ui:{poster:".media-poster"},events:{"click .settings-btn":"onSettingsClick","click .uninstall-btn":"onUninstallClick"},initialize:function(e){this.image=new Cf({model:this.model,type:"channel",width:150}),this.shared=this.model.server.get("shared")},serializeData:function(){return{item:this.model.toJSON(),shared:this.shared}},bindings:{".media-title":{modelAttribute:"title"},".media-subtitle-1":{modelAttribute:"type",autohide:!0,formatter:function(e){return"video"===e?Object(Xn.default)("Video"):"music"===e?Object(Xn.default)("Music"):"photos"===e?Object(Xn.default)("Photo"):Object(Xn.default)("Utility")}}},onRender:function(){this.image.setElement(this.ui.poster)},onClose:function(){this.image.close()},onSettingsClick:function(e){if(e.preventDefault(),!this.$el.hasClass("active")){this.$el.addClass("active");var t=new fl([],{server:this.model.server,url:this.model.id+"/:/prefs"}),n=t.fetch();n.done(C.a.bind(function(){z.a.trigger("show:modal",new a3({model:this.model,collection:t}))},this)),n.always(C.a.bind(function(){this.$el.removeClass("active")},this))}},onUninstallClick:function(e){if(e.preventDefault(),!this.$el.hasClass("active")){this.$el.addClass("active");var t=bt.execute("uninstallChannel",{channel:this.model});t.done(C.a.bind(function(){this.model.trigger("destroy",this.model,this.model.collection)},this)),t.always(C.a.bind(function(){this.$el.removeClass("active")},this))}}}),q7=Of.extend({tagName:"ul",className:"tile-list media-tile-list channel-tile-list",itemView:K7}),Z7=n(924),X7=n.n(Z7),J7=U.Layout.extend({className:"container",template:X7.a,ui:{navLinks:".nav a"},regions:{list:".channels-container"},events:{"click .nav a":"onNavClick","click .all-btn":"onAllClick","click .video-btn":"onVideoClick","click .music-btn":"onMusicClick","click .photo-btn":"onPhotoClick"},initialize:function(){(0,Object(J.c)("appStore").dispatch)(s1({allowLightPreset:!1})),this.videoCollection=this.collection.filterByType("video"),this.musicCollection=this.collection.filterByType("music"),this.photoCollection=this.collection.filterByType("photos")},serializeData:function(){return{serverID:this.collection.server.id,allCount:this.collection.length,hasInstalledChannels:this.collection.length>0,videoCount:this.videoCollection.length,musicCount:this.musicCollection.length,photoCount:this.photoCollection.length}},onRender:function(){this.list.show(new q7({collection:this.collection}))},onNavClick:function(e){this.ui.navLinks.removeClass("selected"),P()(e.currentTarget).addClass("selected")},onAllClick:function(e){e.preventDefault(),this.list.show(new q7({collection:this.collection}))},onVideoClick:function(e){e.preventDefault(),this.list.show(new q7({collection:this.videoCollection}))},onMusicClick:function(e){e.preventDefault(),this.list.show(new q7({collection:this.musicCollection}))},onPhotoClick:function(e){e.preventDefault(),this.list.show(new q7({collection:this.photoCollection}))}}),$7=U.Layout.extend({regions:{content:".content"}}),eee=$7.extend({initialize:function(e){this.title=e.title,this.subtitle=e.subtitle,this.message=e.message},serializeData:function(){return{title:this.title,subtitle:this.subtitle,message:this.message}}}),tee=n(162),nee=n.n(tee),ree=eee.extend({className:"container",template:nee.a}),iee=lv.extend({channels:function(e){this.populateView({serverID:e}).done(function(e){var t=new W7({subset:"all"},{server:e.server}),n=t.get("channels");n.comparator=n.sortByTitle;var r=t.fetch({scope:"page"});r.done(function(){z.a.trigger("show:view",new J7({collection:n}))}),r.fail(function(){z.a.trigger("show:view",new ree({title:Object(Xn.default)("Your plugins are unavailable.")}))})})}}),aee=nv.extend({controller:new iee,appRoutes:{"!/server/:serverID/channels":"channels"}}),oee=nv.extend({initialize:function(){nv.prototype.initialize.apply(this,arguments),this.listenTo(z.a,{"navigate:back":this.onNavigateBack,"navigate:forward":this.onNavigateForward,"navigate:refresh":this.onNavigateRefresh,"navigate:refresh:dashboard":this.onNavigateRefreshDashboard})},onNavigateBack:function(){var e=J.c("appModel"),t=e.get("history"),n=e.get("forwardHistory");if(t.length<2)return this.navigate("",{trigger:!0});n.unshift(t.pop()),this.navigate(C.a.last(t),{trigger:!0})},onNavigateForward:function(){var e=J.c("appModel").get("forwardHistory");e.length&&this.navigate(e[0],{trigger:!0})},onNavigateRefresh:function(){y.c.history.loadUrl(y.c.history.getFragment())}}),see=lv.extend({initialize:function(){this.viewFor=this.viewFor.bind(this)},viewFor:function(e,t){var n=this.getViewByType(e);if(n)return new n(t);throw new Error("No view defined for "+e)},login:function(){var e=this,t=Object(J.c)("appModel"),n=t.get("cloudServer");z.a.trigger("show:loading"),n.populate().done(function(){z.a.trigger("navigate","dashboard")}).fail(function(){var r=n.get("available");if(!0===r||!1===r){var i=t.get("user").get("features");q(i.populate()).done(function(){var t=r?e.viewFor("signIn"):e.viewFor("unavailable",{model:n});z.a.trigger("show:view",t)})}else e.listenToOnce(n,"change:available",e.login)})},error:function(){z.a.trigger("show:view",this.viewFor("notFound",{type:"404"}))},unauthorized:function(e){var t=this;C.a.some(this.getUnauthorizedHandlers(),function(n){return n.call(t,e)})||z.a.trigger("show:view",this.viewFor("notFound",{type:"media"}))},getUnauthorizedHandlers:function(){return[this.handleLockState,this.handleAuthorized,this.handlePrimaryServer,this.handleServer]},handleLockState:function(e){return Object(J.c)("appModel").get("user").get("isLocked")},handleAuthorized:function(e){var t=Object(J.c)("appModel"),n=!t.get("servers").findWhere({authorized:!0})&&!t.get("skipSignIn");return n&&this.populateServersThenRecover(),n},handlePrimaryServer:function(e){var t=e.server,n=e.options;return!(t||!n.primaryServer)&&(z.a.trigger("show:view",this.viewFor("serverRequired")),!0)},handleServer:function(e){var t,n,r=e.server,i=e.options,a=this.viewFor,o=Object(J.c)("appModel").get("cloudServer");return!(!i.serverID&&!i.primaryServer)&&(r?r.get("available")?r.get("authorized")||"resolved"!==o.populatePromise.state()?r.get("authorized")||(t=this.populateServersThenRecover()):n=a("unauthorized"):n=a("unavailable",{model:r}):n=a("notFound",{type:"server"}),n&&z.a.trigger("show:view",n),!(!n&&!t))},populateServersThenRecover:function(){var e=Object(J.c)("appModel"),t=e.get("skipSignIn"),n=e.get("servers"),r=n.findWhere({cloud:!0}),i=this.viewFor;return n.populate().done(function(){var e=n.find(function(e){return e.get("hasManualConnection")});r.get("authorized")?z.a.trigger("navigate:refresh"):e?e.get("authorized")?z.a.trigger("navigate","dashboard"):z.a.trigger("show:view",i("unavailable",{model:e})):t?z.a.trigger("show:view",i("serverRequired")):z.a.trigger("navigate","login",{silent:!0})}).fail(function(){te.a.get("requiresSignIn")?z.a.trigger("show:view",i("unavailable",{model:r})):z.a.trigger("show:view",i("serverRequired"))})}});var lee=U.Region.extend({resizeSubscribersCallbacks:[],scrollSubscribersCallbacks:[],sidebarDelay:200,scrollDelay:100,initialize:function(e){C.a.bindAll(this,"onResize","onScroll","onScrollEvent","onSidebarChange"),this.$el=P()(this.el),this.channelName=e.channelName;var t={};t[this.channelName+".subscribe:resize"]=this.onResizeSubscribe,t[this.channelName+".unsubscribe:resize"]=this.onResizeUnsubscribe,t[this.channelName+".subscribe:scroll"]=this.onScrollSubscribe,t[this.channelName+".unsubscribe:scroll"]=this.onScrollUnsubscribe,this.listenTo(z.a,t)},updateSize:function(){this.size={width:this.$el.width(),height:this.$el.height(),innerWidth:this.$el.innerWidth(),innerHeight:this.$el.innerHeight(),outerWidth:this.$el.outerWidth(),outerHeight:this.$el.outerHeight(),offset:this.$el.offset()}},updateScrollPosition:function(){this.scrollPosition={scrollHeight:this.$el[0].scrollHeight,scrollTop:this.$el[0].scrollTop}},onShow:function(){this.updateSize(),this.updateScrollPosition()},onResizeSubscribe:function(e){this.resizeSubscribersCallbacks.push(e),1===this.resizeSubscribersCallbacks.length&&(this.updateSize(),this.listenTo(z.a,{resize:this.onResize,"show:bar hide:bar":this.onSidebarChange})),e(this.size)},onResizeUnsubscribe:function(e){this.resizeSubscribersCallbacks.splice(C.a.indexOf(this.resizeSubscribersCallbacks,e),1),0===this.resizeSubscribersCallbacks.length&&this.stopListening(z.a,"resize show:bar hide:bar")},onScrollSubscribe:function(e){this.scrollSubscribersCallbacks.push(e),1===this.scrollSubscribersCallbacks.length&&(this.updateScrollPosition(),this.$el.on("scroll",this.onScroll)),e(this.scrollPosition)},onScrollUnsubscribe:function(e){this.scrollSubscribersCallbacks.splice(C.a.indexOf(this.scrollSubscribersCallbacks,e),1),0===this.scrollSubscribersCallbacks.length&&this.$el.off("scroll",this.onScroll)},onResize:function(){this.updateSize(),C.a.each(this.resizeSubscribersCallbacks,function(e){e(this.size)},this)},onScroll:function(){this.scrollTimeout=clearTimeout(this.scrollTimeout),this.scrollTimeout=setTimeout(this.onScrollEvent,this.scrollDelay)},onScrollEvent:function(){this.updateScrollPosition(),C.a.each(this.scrollSubscribersCallbacks,function(e){e(this.scrollPosition)},this)},onSidebarChange:function(e){"sidebar"===e&&C.a.delay(this.onResize,this.sidebarDelay)}});function cee(e,t){return e===cv.a?"provider://"+t:"server://"+e+"/"+t}var uee=0;var dee=function(e){var t=(uee+=1).toString(),n=C.a.extend({},e.attributes,{playQueueItemID:t});return new kv(n,{server:e.server,provider:e.provider,parent:e.parent,parse:!0})};function pee(e,t,n){void 0===n&&(n={});var r=t.get("type"),i=nr.r(r),a=nr.q(r);if(!i)return P.a.Deferred().reject().promise();if(i.id===a.id){var o=e.get("playQueueItems"),s=t.get("containerKey");if(s&&!o.length&&!n.skipSiblings&&(r===nr.m||r===nr.e||r===nr.h)){var l=new Sv.default([],{server:t.server,provider:t.provider,channel:t.channel});return l.fetch({url:s}).then(function(){var e=l.models.map(dee);return P.a.Deferred().resolve(e).promise()})}return P.a.Deferred().resolve([dee(t)]).promise()}if(nr.p(r).id===a.id){var c=F.join([t.get("key"),"children"]),u=new Sv.default([],{server:t.server,provider:t.provider,channel:t.channel});return u.fetch({url:c}).then(function(){var e=u.models.map(dee);return P.a.Deferred().resolve(e).promise()})}return P.a.Deferred().reject().promise()}function hee(e,t,n){var r=t.map(function(t){return pee(e,t,n)});return P.a.when.apply(P.a,r).then(function(){var t,r=(t=[]).concat.apply(t,arguments);return e.get("playQueueItems").add(r,n),fee(e)})}function fee(e,t){var n=e.get("playQueueItems");if(e.get("playQueueSelectedItemID")||!n.length)return P.a.Deferred().resolve(e).promise();if(t){var r=n.findWhere({metadataItem:t}),i=r?r.id:n.at(0).id;e.set("playQueueSelectedItemID",i)}else{var a=e.get("playQueueSelectedItemOffset"),o=n.at(a);e.set("playQueueSelectedItemID",o.id)}return P.a.Deferred().resolve(e).promise()}var gee="ERROR_PLAY_QUEUE_COULD_NOT_POPULATE",vee="ERROR_PLAY_QUEUE_INDEX_INVALID";function mee(e,t){return void 0===t&&(t={}),e.get("isLocal")?function(e){return P.a.Deferred().resolve(e).promise()}(e):function(e,t){void 0===t&&(t={});var n=t,r=n.urlPath,i=void 0===r?"":r,a=n.params,o=void 0===a?{}:a,s=n.type,l=void 0===s?"GET":s,c=F.join([C.a.result(e,"url"),i]),u=F.join(c,Object.assign({},o,{repeat:e.get("repeat")?1:0,own:e.get("own")?1:0,includeChapters:1,includeGeolocation:1,includeExternalMedia:1})),d=e.provider.getXHROptions(u,{type:l}),p=e.get("playQueueSelectedItemID");return e.set("isUpdatePending",!0),P.a.ajax(d).promise().then(function(t){e.get("own")&&"shuffle"!==i&&"unshuffle"!==i&&p&&(p!==e.get("playQueueSelectedItemID")||p!==e.parseResponse(t).playQueueSelectedItemID)||e.set(e.parse(t));var n=e.get("playQueueItems"),r=e.get("currentIndex");return r>=0&&r<n.length?P.a.Deferred().resolve(e).promise():P.a.Deferred().reject(vee).promise()},function(){return P.a.Deferred().reject(gee).promise()}).always(function(){e.set("isUpdatePending",!1)})}(e,t)}function yee(e,t,n){var r=n.path,i=n.model,a=n.attr,o=void 0===a?"key":a;if(Object(M.a)(r||i,"A path or a model is required to build a source URI"),t.get("isUniversal")){var s=i&&i.get("source")||cee(e.server.get("machineIdentifier"),e.get("identifier")),l=r||i.get(o);return F.join([s,l])}return r||Fl.uri(i)}function bee(e){return e.metadataItemModel?function(e){var t=e.playQueueModel,n=e.providerModel,r=e.playlistModel,i=e.metadataItemModel,a=e.containerKey,o=e.shuffle,s=e.playAll,l=t.get("isUniversal"),c=i.get("type"),u=i.get("subtype"),d=c===nr.l,p=c===nr.k,h=c===nr.e,f=c===nr.h,g=c===nr.c,v=c===nr.m,m=!!r||i.get("isPlaylist"),y=i.get("isExtra"),b=!!i.get("radio"),S=See(e);(d||p||h||u===$n)&&(S.continuous=1);if((d||p)&&!s&&!o){var I=d?i:new Qs.a({key:i.get("parentKey")},{server:i.server,provider:i.providerModel});return I.fetch({merge:!0,data:{includeOnDeck:"1"}}).then(function(){var e=I.get("onDeck"),r=e&&d,a=e&&p&&e.get("parentRatingKey")===i.get("ratingKey");return r||a?(S.uri=yee(n,t,{model:e}),S):p?i.get("children").populate().then(function(){var e=i.get("children").get("metadataItems"),r=e.findWhere(function(e){return!e.get("viewCount")});return S.uri=yee(n,t,{model:r||e.first()}),S}):(S.uri=yee(n,t,{model:i}),S)})}m?r?(l&&(S.uri=yee(n,t,{model:r})),S.playlistID=r.get("ratingKey"),S.key=i.get("key")):(l&&(S.uri=yee(n,t,{model:i})),S.playlistID=i.get("ratingKey")):(v||f||g&&!y)&&a&&!S.continuous?(S.uri=yee(n,t,{path:l?a:"library:///directory/"+encodeURIComponent(a)}),S.key=i.get("key")):S.uri=yee(n,t,b&&l?{path:F.join(i.get("key"),{includeSharedContent:1})}:{model:i});return P.a.Deferred().resolve(S).promise()}(e):e.metadataItemKey?function(e){var t=e.providerModel,n=e.playQueueModel,r=e.metadataItemKey,i=n.get("isUniversal"),a=See(e);return a.uri=yee(t,n,{path:i?r:"library:///item/"+encodeURIComponent(r)}),P.a.Deferred().resolve(a).promise()}(e):e.metadataItemModels&&e.metadataItemModels.length?function(e){var t=See(e);return t.uri=Fl.uri(null,{items:e.metadataItemModels}),P.a.Deferred().resolve(t).promise()}(e):e.metadataListModel?function(e){var t=e.providerModel,n=e.playQueueModel,r=e.metadataListModel,i=See(e);return i.uri=yee(t,n,{model:r,attr:"containerKey"}),P.a.Deferred().resolve(i).promise()}(e):P.a.Deferred().reject().promise()}function See(e){return{type:e.playQueueModel.get("type"),shuffle:e.shuffle?1:void 0,next:e.next?1:void 0,extrasPrefixCount:e.extrasPrefixCount}}function Iee(e){var t=e.playQueueModel;if(t.get("isLocal"))return function(e){var t=e.next,n=e.playQueueModel,r=e.metadataItemModel,i=e.metadataItemModels,a=e.metadataListModel,o={at:t?n.get("playQueueSelectedItemOffset")+1:void 0};if(r)return pee(n,r).then(function(e){return n.get("playQueueItems").add(e,o),fee(n,r)});if(i&&i.length)return hee(n,i,o);if(a){var s=a.get("metadataItems").models;return hee(n,s,Object.assign({},o,{skipSiblings:!0}))}return P.a.Deferred().reject().promise()}(e).then(function(){return mee(t)});var n=t.isNew()?"POST":"PUT";return bee(e).then(function(e){return mee(t,{params:e,type:n}).then(null,function(){return P.a.Deferred().reject().promise()})})}var Cee=Ce.a.extend({name:"LocalPlayQueueModel",context:["server","provider"],url:function(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);if(n)return n.get("metadataItem").get("key")},sessionAttrs:{key:Me.a.string,playQueueID:Me.a.string,isLocal:Me.a.boolean,type:Me.a.string,repeat:Me.a.boolean,own:Me.a.boolean,isUpdatePending:Me.a.boolean,playQueueShuffled:Me.a.boolean,playQueueSelectedItemID:Me.a.string},sessionRelations:{playQueueItems:{relationClass:Lv}},derivedAttrs:{playQueueTotalCount:function(){return this.get("playQueueItems").length},length:function(){return this.get("playQueueItems").length},playQueueSelectedItemOffset:function(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID");if(!t)return 0;var n=e.get(t);return e.indexOf(n)},currentIndex:function(){return this.get("playQueueSelectedItemOffset")},canShuffle:function(){return!1}},defaults:{isLocal:!0,repeat:!1,own:!0,isUpdatePending:!1,playQueueShuffled:!1,playQueueSelectedItemOffset:0},fetch:function(){return P.a.Deferred().resolve(this).promise()}}),Mee=Ce.a.extend({name:"PlayQueueModel",context:["server","provider","identifier","mediaTagPrefix","mediaTagVersion"],responseContext:["identifier","mediaTagPrefix","mediaTagVersion"],idAttribute:"playQueueID",hasResponseOnSave:!0,urlRoot:function(){return this.get("key")},sessionAttrs:{key:Me.a.string,type:Me.a.string,repeat:Me.a.boolean,own:Me.a.boolean,isUpdatePending:Me.a.boolean,isUniversal:Me.a.boolean},syncedAttrs:{allowShuffle:Me.a.boolean,playQueueID:Me.a.string,playQueueSelectedItemOffset:Me.a.integer,playQueueSelectedItemID:Me.a.string,playQueueSelectedMetadataItemID:Me.a.string,playQueueLastAddedItemID:Me.a.string,playQueueShuffled:Me.a.boolean,playQueueSourceURI:Me.a.string,playQueueTotalCount:Me.a.integer,playQueueVersion:Me.a.integer},syncedRelations:{playQueueItems:{relationClass:Lv,rootPropertyName:"Metadata"}},derivedAttrs:{canShuffle:function(){var e=-1!==(this.get("playQueueSourceURI")||"").indexOf("library://x/station");return!this.get("playQueueLastAddedItemID")&&this.get("allowShuffle")&&!e},currentIndex:function(){var e=this.get("playQueueItems"),t=this.get("playQueueSelectedItemID"),n=e.get(t);return e.indexOf(n)},length:function(){var e=this.get("playQueueTotalCount")||0,t=this.get("playQueueItems")||[];return Math.max(e,t.length)}},defaults:{repeat:!1,own:!0,isUpdatePending:!1,isUniversal:!1,allowShuffle:!0},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e,t){var n=this;return this.responseContext.forEach(function(t){var r=e[t];void 0!==r&&n.setContext(t,r)}),e}}),Dee="audio",wee="video",Pee="photo",Tee="download",Eee="record",xee="universal";function Oee(e){var t=e.providerModel,n=e.playQueueID,r=e.playQueueType,i=e.playQueueRepeat,a=e.playQueueOwn,o=void 0===a||a,s=t&&t.get("features"),l=s&&s.get(an),c=!!l&&l.get("flavor")===xee;return l?new Mee({playQueueID:n,key:l.get("key"),type:r,repeat:i,own:o,isUniversal:c},{server:t.server,provider:t}):new Cee({playQueueID:n,type:r},{server:t.server,provider:t})}function jee(e){var t=e.metadataItemModel,n=e.listType,r=t.get("playlistType");if(r)return r;var i=t.get("subtype");if(i===$n)return ed.a;var a=t.get("type");return a===nr.d?Aee(null,i):Aee(n,a)}function Aee(e,t){var n;return e&&(n=nr.q(e)),n||(n=nr.q(t)),n&&n.mediaType}function Nee(e){var t=e.type,n=e.metadataType,r=e.metadataItemModel,i=e.metadataItemModels,a=e.metadataListModel;return t||(n?Aee(n):r?jee(e):i&&i.length?jee(Object.assign({},e,{metadataItemModel:i[0]})):a?function(e){var t=e.metadataListModel,n=e.listType;return t.get("firstItemSubtype")===$n?ed.a:t.get("firstItemType")===nr.d?Aee(n,t.get("firstItemSubtype")):Aee(n,t.get("firstItemType"))}(e):void 0)}var kee=function(){var e=Date.now(),t=Object(J.c)("sessionStats");D.a.debug("[Metrics] Updating session last interaction time"),t.save("lastInteractionTime",e)};function Lee(e,t){return e.get("ui").get(t+"Player")}function Ree(e,t){var n=e.get("playQueue");if(n){var r=n.get("playQueueItems");if(!(t<0||t>=r.length))return r.at(t)}}function _ee(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startOffsetMilliseconds")?e.get("startOffsetMilliseconds"):e.get("startMetadataItemEntityID")===t.entityID()?e.get("startOffsetMilliseconds"):t.get("viewOffset")||0}var Uee=null;function zee(e,t,n){void 0===n&&(n={});var r=e.get("playQueue"),i=r.get("currentIndex"),a=r.get("playQueueSelectedItemOffset"),o=n,s=o.isApplicationInitiated,l=void 0!==s&&s,c=o.isRestoringPlayQueue,u=void 0!==c&&c,d=Ree(e,t);if(d){var p=d.get("metadataItem"),h={isMediaLoading:!0,isBuffering:!1,isLyricsVisible:!1,positionSeconds:Math.floor(_ee(e,p)/1e3),durationSeconds:Math.floor((p.get("duration")||0)/1e3),metricsAutoPlay:l,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,qualityIndex:null,adState:null,adPositionSeconds:null,adDurationSeconds:null,adNoSkipDurationSeconds:null,isAdSkipped:!1};u||r.get("type")===Pee||(h.isPaused=!1),e.set(h),r.set({playQueueSelectedItemID:d.id,playQueueSelectedItemOffset:a+(t-i)}),kee()}}function Fee(e,t){var n=e.get("playQueue"),r=n.get("length"),i=n.get("currentIndex")+t;return n.get("repeat")?(i+r)%r:Math.min(Math.max(0,i),r-1)}function Bee(e,t){Uee&&(Uee=clearTimeout(Uee)),e.set({lastSeekPositionSeconds:t,nextPositionSeconds:null})}function Hee(e,t){var n=e.get("playQueue");zee(e,n.get("currentIndex"),{isRestoringPlayQueue:t})}function Vee(e){e.restoreDefaults()}function Qee(e,t){zee(e,Fee(e,1),{isApplicationInitiated:t})}function Wee(e){zee(e,Fee(e,-1))}function Gee(e,t){zee(e,t)}function Yee(e,t){void 0===t&&(t=!1),e.set({isPaused:!1}),kee()}function Kee(e,t){void 0===t&&(t=!1),e.set({isPaused:!0}),kee()}function qee(e,t,n){n?function(e,t,n){e.set({nextPositionSeconds:t}),Uee&&clearTimeout(Uee),Uee=setTimeout(function(){e.get("isOpen")&&(Bee(e,t),Uee=null)},n)}(e,t,n):Bee(e,t),kee()}function Zee(e,t,n){n(Os({volume:t}))}function Xee(e,t){e.set("qualityIndex",t)}function Jee(e,t,n){}function $ee(e,t,n){n(qo({subtitleColor:t}))}function ete(e,t,n){n(Zo({subtitlePosition:t}))}function tte(e,t,n){n(Xo({subtitleSize:t}))}function nte(e,t,n){}function rte(e,t,n){n(Jo({autoPlay:t}))}function ite(e,t){e.set("playbackSpeed",t)}function ate(e,t){var n=e.get("playQueue");e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),n.set("repeat",t.repeatAll)}function ote(e){}function ste(e){}function lte(e){}function cte(e){e.set({isAdSkipped:!0})}var ute="PLAY",dte="PAUSE",pte="SEEK",hte="STOP",fte="PREVIOUS",gte="NEXT",vte="SKIPTO",mte="SHOWDETAILS",yte="REFRESHPLAYQUEUE",bte="REFRESHSTREAMS",Ste="SETREPEAT",Ite="SETSTREAM",Cte="SETQUALITY",Mte="SETSUBTITLECOLOR",Dte="SETSUBTITLEPOSITION",wte="SETSUBTITLESIZE",Pte="SETSUBTITLEOFFSET",Tte="SETAUTOPLAY",Ete="SKIPAD",xte=0,Ote=1,jte=2;Dp.a.oneOf([xte,Ote,jte]);var Ate,Nte=function(e){return e.repeatOne?Ote:e.repeatAll?jte:xte};function kte(e){Hee(e);var t=Object(J.c)("remoteCastPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e),e.set({startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null})}function Lte(e){Vee(e),Object(J.c)("remoteCastPlayerManager").sendMessage({type:hte})}function Rte(e){Object(J.c)("remoteCastPlayerManager").sendMessage({type:gte})}function _te(e){Object(J.c)("remoteCastPlayerManager").sendMessage({type:fte})}function Ute(e,t){Gee(e,t);var n=Object(J.c)("remoteCastPlayerManager"),r=e.get("playQueue"),i=r.get("playQueueItems"),a=r.get("playQueueSelectedItemID"),o=i.get(a).get("metadataItem");n.sendMessage({type:vte,playQueueItemID:a,key:o.get("key")})}function zte(e){Yee(e),Object(J.c)("remoteCastPlayerManager").sendMessage({type:ute})}function Fte(e){Kee(e),Object(J.c)("remoteCastPlayerManager").sendMessage({type:dte})}function Bte(e,t){qee(e,t),Object(J.c)("remoteCastPlayerManager").sendMessage({type:pte,currentTime:t})}function Hte(e,t,n){Object(J.c)("remoteCastPlayerManager").setVolume(t)}function Vte(e,t){Xee(e,t);var n=gd.a.getQualityByIndex(t);Object(J.c)("remoteCastPlayerManager").sendMessage({type:Cte,bitrate:n.bitrate})}function Qte(e,t,n){Object(J.c)("remoteCastPlayerManager").sendMessage({type:Ite,stream:{type:t,id:n}})}function Wte(e,t,n){$ee(0,t,n),Object(J.c)("remoteCastPlayerManager").sendMessage({type:Mte,subtitleColor:t})}function Gte(e,t,n){ete(0,t,n),Object(J.c)("remoteCastPlayerManager").sendMessage({type:Dte,subtitlePosition:t})}function Yte(e,t,n){tte(0,t,n),Object(J.c)("remoteCastPlayerManager").sendMessage({type:wte,subtitleSize:t})}function Kte(e,t,n){Object(J.c)("remoteCastPlayerManager").sendMessage({type:Pte,subtitleOffset:t})}function qte(e,t,n){rte(0,t,n),Object(J.c)("remoteCastPlayerManager").sendMessage({type:Tte,autoPlay:t})}function Zte(e,t){}function Xte(e,t){e.set({repeatAll:t.repeatAll,repeatOne:t.repeatOne}),Object(J.c)("remoteCastPlayerManager").sendMessage({type:Ste,repeat:Nte(t)})}function Jte(e){Object(J.c)("remoteCastPlayerManager").sendMessage({type:yte})}function $te(e){Object(J.c)("remoteCastPlayerManager").sendMessage({type:bte})}function ene(e){Object(J.c)("remoteCastPlayerManager").mirrorDetails(e)}function tne(){Object(J.c)("remoteCastPlayerManager").skipAd()}var nne="video",rne="music",ine="photo",ane=((Ate={})[wee]=nne,Ate[Dee]=rne,Ate[Pee]=ine,Ate);function one(e){return ane[e]}function sne(e){for(var t in ane){if(e===ane[t])return t}}function lne(e){return one(e.get("playQueue").get("type"))}function cne(e){Hee(e);var t=Object(J.c)("remotePlexPlayerManager");e.get("playQueue").set("own",!1),t.startPlayback(e)}function une(e){var t=Object(J.c)("remotePlexPlayerManager"),n={};e.get("playQueue")&&(n.type=lne(e)),Vee(e),t.sendCommand("/player/playback/stop",n)}function dne(e){var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e);t.sendCommand("/player/playback/skipNext",{type:n})}function pne(e){var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e);t.sendCommand("/player/playback/skipPrevious",{type:n})}function hne(e,t){Gee(e,t);var n=Object(J.c)("remotePlexPlayerManager"),r=lne(e),i=e.get("playQueue"),a=i.get("playQueueItems"),o=i.get("playQueueSelectedItemID"),s=a.get(o).get("metadataItem");n.sendCommand("/player/playback/skipTo",{type:r,key:s.get("key")})}function fne(e){Yee(e);var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e);t.sendCommand("/player/playback/play",{type:n})}function gne(e){Kee(e);var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e);t.sendCommand("/player/playback/pause",{type:n})}function vne(e,t){qee(e,t);var n=Object(J.c)("remotePlexPlayerManager"),r=lne(e);n.seek({type:r,offset:1e3*t})}function mne(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.changeVolume({type:i,volume:t})}function yne(e,t){}function bne(e,t,n){var r,i=Object(J.c)("remotePlexPlayerManager"),a=lne(e),o=Av.a.get(t).key;i.sendCommand("/player/playback/setStreams",((r={type:a})[o]=n,r))}function Sne(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleColor:t}),$ee(0,t,n)}function Ine(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitlePosition:t}),ete(0,t,n)}function Cne(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleSize:t}),tte(0,t,n)}function Mne(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.sendCommand("/player/playback/setParameters",{type:i,subtitleOffset:t})}function Dne(e,t,n){var r=Object(J.c)("remotePlexPlayerManager"),i=lne(e);r.sendCommand("/player/playback/setParameters",{type:i,autoPlay:t?1:0}),rte(0,t,n)}function wne(e,t){}function Pne(e,t){ate(e,t);var n=Object(J.c)("remotePlexPlayerManager"),r=lne(e),i=e.get("repeatAll"),a=e.get("repeatOne"),o=xte;i&&(o=a?Ote:jte),n.sendCommand("/player/playback/setParameters",{type:r,repeat:o})}function Tne(e){var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e),r=e.get("playQueue").get("playQueueID");t.sendCommand("/player/playback/refreshPlayQueue",{type:n,playQueueID:r})}function Ene(e){var t=Object(J.c)("remotePlexPlayerManager"),n=lne(e);t.sendCommand("/player/playback/refreshStreams",{type:n})}function xne(e){Object(J.c)("remotePlexPlayerManager").mirrorDetails(e)}var One="cast",jne="plex";function Ane(e){var t=e.get("remotePlayer");return t?t.get("protocol")===One?p:h:d}function Nne(e,t){var n=t.options?Object.assign({},t.options):{},r=Co(e,t),i=bo(e,t),a=t.itemProviderEntityID&&Mo(e,{providerEntityID:t.itemProviderEntityID})||r,o=t.itemServerEntityID&&So(e,{serverEntityID:t.itemServerEntityID})||i,s=function(e){var t=e.providerModel,n=e.serverModel,r=e.itemServerModel,i=e.itemProviderModel;if(t.get("identifier")===i.get("identifier")&&n.get("machineIdentifier")===r.get("machineIdentifier"))return!0;var a=t.get("features").get(an),o=!!a&&a.get("flavor")===xee&&!n.get("isCloud"),s=r.get("isShared");return!o||s}({providerModel:r,serverModel:i,itemServerModel:o,itemProviderModel:a});return n.serverModel=s?o:i,n.providerModel=s?a:r,PZ(e,zy)&&(n.includeExternalMedia=1),t.metadataItemEntityID&&(n.metadataItemModel=To(e,t)),t.playlistMetadataItemEntityID&&(n.playlistModel=To(e,{metadataItemEntityID:t.playlistMetadataItemEntityID})),t.metadataItemEntityIDs&&(n.metadataItemModels=t.metadataItemEntityIDs.map(function(t){return To(e,{metadataItemEntityID:t})})),t.metadataListEntityID&&(n.metadataListModel=Po(e,t)),t.listType&&(n.type=Nee({metadataType:t.listType})),n}function kne(e,t){var n=e.get("playQueue");return function(){if(e.get("isOpen")&&n&&n===e.get("playQueue"))return t.apply(void 0,arguments);D.a.warn("[Player] Player was closed or a new playback session was started; ignoring callback")}}var Lne,Rne="full",_ne="mini",Une="audioVideo",zne="photo",Fne=((Lne={})[Dee]=Une,Lne[wee]=Une,Lne[Pee]=zne,Lne);function Bne(e){return Fne[e]}var Hne=function(e){var t=e.get("type"),n="channelDirectory"===t||Object(nr.u)(t)||e.get("isFolder");return void 0===e.length&&!n};function Vne(e,t,n){var r=e.get("previousOpenState"),i=e.get("openState");return r&&!t?i=r:r&&t&&(i=void 0),Object.assign({previousOpenState:i,openState:r&&t?r:Rne},n)}var Qne,Wne,Gne,Yne=5,Kne=10,qne=30,Zne=5,Xne=600,Jne=600,$ne=Mt("ui/player/playQueue/playNextItem"),ere=Mt("ui/player/playQueue/playPreviousItem"),tre=Mt("ui/player/playQueue/playItemByIndex"),nre=Mt("ui/player/playQueue/playItemByKey"),rre=(Mt("ui/player/playQueue/playItemByID"),Mt("ui/player/playQueue/toggleShuffle")),ire=Mt("ui/player/playQueue/setRepeat"),are=Mt("ui/player/playQueue/toggleRepeat"),ore=Mt("ui/player/playQueue/setAutoPlay"),sre=Mt("ui/player/playQueue/showPostPlay"),lre=Mt("ui/player/playQueue/togglePlayerPlayQueueState"),cre=Mt("ui/player/playQueue/togglePlayerLyricsState"),ure=Mt("ui/player/playQueue/fetchPlayQueueItemLyrics"),dre=Mt("ui/player/playQueue/movePlayQueueItem"),pre=Mt("ui/player/playQueue/removePlayQueueItem"),hre=Mt("ui/player/playQueue/fetchPlayQueue"),fre=Mt("ui/player/playQueue/savePlayQueueState"),gre=Mt("ui/player/playQueue/removePlayQueueState"),vre=Mt("ui/player/playQueue/restorePlayQueue"),mre=((Qne={})["ui/player/playQueue/playNextItem"]=function(e,t){var n=t.playerType,r=t.isApplicationInitiated,i=Lee(e,n),a=Ane(e);Object(No.a)(function(){i.get("isPostPlayVisible")&&i.set({isPostPlayVisible:!1}),a.playNextItem(i,r)})},Qne["ui/player/playQueue/playPreviousItem"]=function(e,t){var n=Lee(e,t.playerType),r=Ane(e);Object(No.a)(function(){n.set({isPostPlayVisible:!1}),n.get("positionSeconds")>Yne?(r.seek(n,0),r.play(n)):r.playPreviousItem(n)})},Qne["ui/player/playQueue/playItemByIndex"]=function(e,t){var n=t.playerType,r=t.index,i=Lee(e,n),a=Ane(e);Object(No.a)(function(){a.playItem(i,r)})},Qne["ui/player/playQueue/playItemByKey"]=function(e,t,n){var r=t.playerType,i=t.key,a=Lee(e,r).get("playQueue").get("playQueueItems"),o=a.find(function(e){return i===e.get("metadataItem").get("key")});if(o){var s=a.indexOf(o);n(tre({playerType:r,index:s}))}else D.a.warn('[Player] Unable to play unknown key "'+i+'"')},Qne["ui/player/playQueue/playItemByID"]=function(e,t,n){var r=t.playerType,i=t.playQueueItemID,a=Lee(e,r).get("playQueue").get("playQueueItems"),o=a.get(i);if(o){var s=a.indexOf(o);n(tre({playerType:r,index:s}))}else D.a.warn('[Player] Unable to play unknown PlayQueueItemID "'+i+'"')},Qne["ui/player/playQueue/toggleShuffle"]=function(e,t,n){var r=t.playerType,i=Lee(e,r),a=i.get("playQueue");Object(No.a)(function(){var t=!a.get("playQueueShuffled");a.set("playQueueShuffled",t),mee(a,{urlPath:t?"shuffle":"unshuffle",type:"PUT"}).done(kne(i,function(){var t=Ane(e);n(fre({playerType:r})),t.refreshRemotePlayQueue(i)})).fail(kne(i,function(){a.set("playQueueShuffled",!t)}))})},Qne["ui/player/playQueue/setRepeat"]=function(e,t,n){var r=t.playerType,i=t.repeatAll,a=t.repeatOne,o=Lee(e,r),s=o.get("playQueue"),l=Ane(e);Object(No.a)(function(){l.setRepeat(o,{repeatAll:i||a,repeatOne:a}),mee(s).done(kne(o,function(){n(fre({playerType:r}))})).fail(kne(o,function(){s.set({repeatAll:!1,repeatOne:!1}),s.set("repeat",!1)}))})},Qne["ui/player/playQueue/toggleRepeat"]=function(e,t,n){var r=t.playerType,i=Lee(e,r),a=i.get("repeatAll"),o=i.get("repeatOne");n(ire({playerType:r,repeatAll:!a||!o,repeatOne:a&&!o}))},Qne["ui/player/playQueue/setAutoPlay"]=function(e,t,n){var r=t.playerType,i=t.autoPlay,a=Lee(e,r);Ane(e).changeAutoPlay(a,i,n)},Qne["ui/player/playQueue/showPostPlay"]=function(e,t,n){var r=Lee(e,t.playerType),i=Ane(e),a=r.get("playQueue"),o=Ree(r,a.get("currentIndex")).get("postPlay"),s=a.provider.id,l=function(){r.set({isSettingsVisible:!1,isChaptersVisible:!1,isPostPlayLoading:!1,isPostPlayVisible:!0}),i.pause(r,!0)};r.set({isPostPlayLoading:!0}),Cn.i(s,Cn.d)?o.fetch().then(kne(r,function(){var e=o.findWhere({upNext:!0});e&&o.remove(e),l()}),kne(r,l)):setTimeout(kne(r,l),0)},Qne["ui/player/playQueue/togglePlayerPlayQueueState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isPlayQueueVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!r,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},Qne["ui/player/playQueue/togglePlayerLyricsState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isLyricsVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!r,isSubtitlesOffsetSettingsVisible:!1}))})},Qne["ui/player/playQueue/fetchPlayQueueItemLyrics"]=function(e,t,n){var r=t.streamID,i=Oo(e,t),a=Mo(e,{providerEntityID:i.get("metadataItem").get("providerEntityID")});if(a){var o=i.get("lyricsStreams").get(r);o.set("lyricsError",null),o.fetch({merge:!0,server:a}).fail(function(e){o.set("lyricsError",e)})}},Qne["ui/player/playQueue/movePlayQueueItem"]=function(e,t,n){var r=t.playerType,i=t.playQueueItemEntityID,a=t.moveIndex,o=Lee(e,r),s=o.get("playQueue"),l=Oo(e,{playQueueItemEntityID:i}),c=s.get("playQueueItems"),u=c.indexOf(l);if(u!==a&&u!==a-1){var d=a>u?a-1:a,p=a>0?c.at(a-1).id:void 0,h=F.join(["items",l.id,"move"]),f={after:p};Object(No.a)(function(){c.remove(l),c.add(l,{at:d}),mee(s,{urlPath:h,params:f,type:"PUT"}).done(kne(o,function(){var t=Ane(e);n(fre({playerType:r})),t.refreshRemotePlayQueue(o)})).fail(kne(o,function(){c.indexOf(l)===d&&(c.remove(l),c.add(l,{at:u}))}))})}},Qne["ui/player/playQueue/removePlayQueueItem"]=function(e,t,n){var r=t.playerType,i=t.playQueueItemEntityID,a=Lee(e,r),o=a.get("playQueue"),s=o.get("playQueueItems"),l=Oo(e,{playQueueItemEntityID:i}),c=s.indexOf(l),u=F.join(["items",l.id]);Object(No.a)(function(){s.remove(l),mee(o,{urlPath:u,type:"DELETE"}).done(kne(a,function(){var t=Ane(e);n(fre({playerType:r})),t.refreshRemotePlayQueue(a)})).fail(kne(a,function(){s.add(l,{at:c})}))})},Qne["ui/player/playQueue/fetchPlayQueue"]=function(e,t){mee(Lee(e,t.playerType).get("playQueue"))},Qne["ui/player/playQueue/savePlayQueueState"]=function(e,t){t.playerType},Qne["ui/player/playQueue/removePlayQueueState"]=function(e){},Qne["ui/player/playQueue/restorePlayQueue"]=function(e,t,n){var r=t.serverEntityID,i=t.providerEntityID,a=t.playQueueType,o=t.playQueueOffset,s=t.playQueueRepeat,l=t.playQueueID,c=t.next;n(Tre({serverEntityID:r,providerEntityID:i,startOffsetMilliseconds:1e3*o,options:{type:a,playQueueRepeat:s,playQueueID:l,next:c}}))},Qne),yre="ui/player/playerLifecycle/startPlayback",bre="ui/player/playerLifecycle/queuePlayback",Sre="ui/player/playerLifecycle/endPlayback",Ire=Mt(yre),Cre=Mt("ui/player/playerLifecycle/startPrimaryExtraPlayback"),Mre=Mt("ui/player/playerLifecycle/startRadioPlayback"),Dre=Mt("ui/player/playerLifecycle/startRelatedMixPlayback"),wre=Mt("ui/player/playerLifecycle/startExistingPlayQueuePlayback"),Pre=Mt("ui/player/playerLifecycle/queueRelatedMixPlayback"),Tre=Mt(bre),Ere=(Mt("ui/player/playerLifecycle/startLegacyChannelPlayback"),Mt("ui/player/playerControls/clearPlayerConfirmPlaybackPayload")),xre=Mt("ui/player/playerControls/clearPlayerConfirmOffsetPayload"),Ore=Mt("ui/player/playerControls/setMetricsPlayer"),jre=Mt(Sre),Are=Mt("ui/player/playerLifecycle/endLiveTVSession"),Nre=Mt(yre,function(e){var t=e.options,n=void 0===t?{}:t,r=wt()(e,["options"]);return Object.assign({},r,{metricsAction:"playAll",options:Object.assign({},n,{playAll:!0})})}),kre=Mt(yre,function(e){var t=e.options,n=void 0===t?{}:t,r=wt()(e,["options"]);return Object.assign({},r,{metricsAction:"shuffle",options:Object.assign({},n,{shuffle:!0})})});function Lre(e){return e.get("related").findWhere({browse:!1}).get("metadataList")}function Rre(e,t,n){return function(){if(t.get("isOpen")&&e===Gne)return n.apply(void 0,arguments);D.a.warn("[Player] Player was closed or a new playback session was started; ignoring playback request")}}var _re=((Wne={})[yre]=function(e,t,n){var r=t.metadataItemEntityID,i=t.liveTVSessionEntityID,a=t.confirmPlayback,o=t.confirmOffset,s=t.startOffsetMilliseconds,l=void 0===s?null:s,c=t.startMediaIndex,u=void 0===c?null:c,d=t.openState,p=void 0===d?Rne:d,h=t.isPaused,f=void 0!==h&&h,g=t.extrasPrefixCount,v=t.playbackStartTime,m=void 0===v?Date.now():v,y=t.metricsPage,b=t.metricsContext,S=Nne(e,t),I=Nee(S),C=Bne(I),M=Lee(e,C),D=M.get("playQueue"),w=S.metadataItemModel,P=S.serverModel?S.serverModel.entityID():t.serverEntityID,T=S.providerModel?S.providerModel.entityID():t.providerEntityID;if(!D||!w||D.get("playQueueSelectedMetadataItemID")!==w.get("ratingKey"))if(!a&&D&&D.get("playQueueVersion")>1)M.set("confirmPlaybackPayload",t);else{var E={serverEntityID:P,providerEntityID:T,isOpen:!0,openState:p,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:f,startOffsetMilliseconds:l,startMediaIndex:u,playbackStartTime:m,metricsPage:y,metricsContext:b};if(i&&(E.liveTVSession=function(e,t){var n=t.liveTVSessionEntityID;return mo(e,Er.e,n)}(e,{liveTVSessionEntityID:i})),w&&Hne(w)&&(E.startMetadataItemEntityID=r),!o&&w&&w.get("viewOffset")&&(E.confirmOffsetPayload=t),Object(No.a)(function(){M.restoreDefaults(E)}),!E.confirmOffsetPayload){var x=!(l||!w||w.get("type")!==nr.g),O=Iee(Object.assign({},S,{extrasPrefixCount:x?g:void 0,playQueueModel:Oee(Object.assign({},S,{playQueueType:I}))}));Gne=O,O.done(Rre(O,M,function(t){M.set({isPlayQueueLoading:!1,playQueue:t}),Ane(e).startPlayback(M)})).fail(Rre(O,M,function(){M.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("An error occurred loading items to play.")})}));var j=t.metricsProperties||{};Object(J.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||"play",type:I,context:b},j))}}},Wne["ui/player/playerLifecycle/startPrimaryExtraPlayback"]=function(e,t,n){var r=t.options||{},i=To(e,t);n(Ire(Object.assign({},t,{metadataItemEntityID:null,metricsAction:"playPrimaryExtra",options:Object.assign({},r,{metadataItemKey:i.get("primaryExtraKey"),type:"video"})})))},Wne["ui/player/playerLifecycle/startRelatedMixPlayback"]=function(e,t,n){var r=t.options||{},i=To(e,t),a=Lre(i);n(Ire({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsAction:"playRelatedMix",options:Object.assign({},r,{type:Nee({metadataItemModel:i}),containerKey:a.get("containerKey")})}))},Wne["ui/player/playerLifecycle/startRadioPlayback"]=function(e,t,n){var r=t.playlistType,i=To(e,t).get("stations");if(i.length){var a=i.findWhere({playlistType:r});n(Ire({metricsAction:"playRelatedMix",serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:a.entityID(),options:{type:Nee({metadataItemModel:a})}}))}},Wne["ui/player/playerLifecycle/startExistingPlayQueuePlayback"]=function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.playQueueType,a=t.playQueueID,o=t.startOffsetMilliseconds,s=void 0===o?null:o,l=t.startMediaIndex,c=void 0===l?null:l,u=t.playbackStartTime,d=void 0===u?Date.now():u,p=bo(e,t),h=Bne(i),f=Co(e,t),g=Lee(e,h),v=Oee({providerModel:f,playQueueID:a,playQueueType:i}),m={serverEntityID:n,providerEntityID:r,isOpen:!0,openState:Rne,isPlayQueueLoading:!0,isMediaLoading:!0,startOffsetMilliseconds:s,startMediaIndex:c,playbackStartTime:d};return p===e.get("transientServer")&&(m.metricsPage=Pa,m.metricsContext="companion"),g.set(m),mee(v).done(function(){g.set({playQueue:v,isPlayQueueLoading:!1}),Hee(g)}).fail(function(){g.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("An error occurred loading items to play.")})})},Wne["ui/player/playerLifecycle/queueRelatedMixPlayback"]=function(e,t,n){var r=To(e,t),i=Lre(r);n(Tre({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsAction:"queueRelatedMix",listType:Nee({metadataItemModel:r}),options:{next:!0,containerKey:F.join(i.get("containerKey"),{excludeSeedItem:1})}}))},Wne["ui/player/playerLifecycle/startLegacyChannelPlayback"]=function(e,t,n){var r=t.serverModel,i=t.metadataItemModel,a=t.options,o=void 0===a?{}:a,s=wt()(t,["serverModel","metadataItemModel","options"]),l=i.toJSON(),c=new Zl({},{server:r}),u=new Qs.a(l,{server:r,provider:c,channel:i.channel,containerKey:i.containerKey});e.set({legacyChannelProvider:c,legacyChannelMetadataItem:u}),n(Ire(Object.assign({serverEntityID:r.entityID(),providerEntityID:c.entityID(),metadataItemEntityID:u.entityID(),options:o},s)))},Wne[bre]=function(e,t,n){var r=t.startOffsetMilliseconds,i=void 0===r?null:r,a=t.openState,o=void 0===a?Rne:a,s=Nne(e,t),l=Nee(s),c=Bne(l),u=Lee(e,c),d=!!s.playQueueID,p=s.serverModel?s.serverModel.entityID():t.serverEntityID,h=s.providerModel?s.providerModel.entityID():t.providerEntityID,f=u.get("playQueue"),g=!1;if(f&&u.get("providerEntityID")){var v=Co(e,{providerEntityID:u.get("providerEntityID")}),m=u.get("providerEntityID")===h,y=f.get("isUniversal"),b=v.server.get("isFullOwnedServer");g=m||y&&b}if(g)Iee(Object.assign({},s,{playQueueModel:f})).done(kne(u,function(){Ane(e).refreshRemotePlayQueue(u)})).fail(kne(u,function(){u.set({hasError:!0,errorMessage:Object(Xn.default)("An error occurred loading items into the play queue.")})}));else{Object(No.a)(function(){u.restoreDefaults({serverEntityID:p,providerEntityID:h,isOpen:!0,openState:o,isPlayQueueLoading:!0,isMediaLoading:!0,isPaused:!s.next,repeatAll:!!s.playQueueRepeat,startOffsetMilliseconds:i,playbackStartTime:s.playbackStartTime?s.playbackStartTime:Date.now()})}),f=Oee(Object.assign({},s,{playQueueType:l}));var S=d?mee(f):Iee(Object.assign({},s,{next:!1,playQueueModel:f}));Gne=S,S.done(Rre(S,u,function(t){u.set({isPlayQueueLoading:!1,playQueue:t}),Ane(e).startPlayback(u,d)})).fail(Rre(S,u,function(){n(gre()),d?u.restoreDefaults():u.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("An error occurred loading items to play.")})}))}var I=s.next?"playNext":"addToQueue",C=t.metricsProperties||{};Object(J.c)("metrics").trackClick(Object.assign({page:t.metricsPage,action:t.metricsAction||I,type:l},C))},Wne["ui/player/playerControls/clearPlayerConfirmPlaybackPayload"]=function(e,t){var n=t.playerType,r=(t.openState,Lee(e,n));Object(No.a)(function(){r.set("confirmPlaybackPayload",null)})},Wne["ui/player/playerControls/clearPlayerConfirmOffsetPayload"]=function(e,t){var n=t.playerType,r=(t.openState,Lee(e,n));Object(No.a)(function(){r.restoreDefaults()})},Wne["ui/player/playerControls/setMetricsPlayer"]=function(e,t){var n=t.playerType,r=t.metricsPlayer,i=Lee(e,n);Object(No.a)(function(){i.set({metricsPlayer:r})})},Wne[Sre]=function(e,t,n){var r=t.playerType,i=Lee(e,r),a=Ane(e);Object(No.a)(function(){n(gre()),a.endPlayback(i),e.get("legacyChannelProvider")&&(e.unset("legacyChannelProvider"),e.unset("legacyChannelMetadataItem"))}),n(Are({playerType:r}))},Wne["ui/player/playerLifecycle/endLiveTVSession"]=function(e,t){var n=Lee(e,t.playerType).get("liveTVSession");if(n){var r=F.join(["/media/subscriptions",n.id]);P.a.ajax(n.server.getXHROptions(r,{method:"DELETE"}))}},Wne);var Ure=Xf.a.Component,zre=2e3,Fre=100,Bre=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).fadeOut=function(){r.state.currentThemeMusicUrl&&r.props.volume>0?(r.fadeOutStartMilliseconds||(r.fadeOutStartMilliseconds=Date.now()),r.setState(r.updateFrameState)):r.reset()},r.updateFrameState=function(e){var t=e.relativeVolume,n=Date.now()-r.fadeOutStartMilliseconds,i=-t*n/zre+t;return(i=Math.max(0,i))&&(r.fadeOutTimeoutID=setTimeout(r.fadeOut,Fre)),{volume:i}},r.onDurationMillisecondsChange=function(e){r._currentDurationMilliseconds=e},r.onPositionMillisecondsChange=function(e){var t=Math.floor(e/1e3),n=r.state.shouldStopOnEnd?0:zre;r.state.positionSeconds!==t&&r.setState({positionSeconds:t}),r._currentDurationMilliseconds-e<=n&&!r.fadeOutTimeoutID&&r.endThemeMusic()},r.onEnd=function(){r.reset()},r.onMetricsPlayerChange=function(){},r.state=r.getInitialStateFromProps(t),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.props,n=t.volume,r=t.themeMusicUrl,i=e.volume,a=e.themeMusicUrl;if(n!==i){var o={relativeVolume:this.getRelativeVolume(i)};this.fadeOutTimeoutID||(o.volume=o.relativeVolume),this.setState(o)}r!==a&&(a?this.reset(a):this.fadeOutTimeoutID||this.endThemeMusic())},n.componentWillUnmount=function(){this.reset()},n.getRelativeVolume=function(e){return.5*e},n.getInitialStateFromProps=function(e){var t=e.currentThemeMusicUrl,n=e.volume,r=this.getRelativeVolume(n);return{currentThemeMusicUrl:t,relativeVolume:r,volume:r,positionSeconds:0,shouldStopOnEnd:te.a.get("shouldStopThemeMusicOnNavigate")}},n.reset=function(e){this.fadeOutTimeoutID=clearTimeout(this.fadeOutTimeoutID),this.fadeOutStartMilliseconds=null,this.setState(this.getInitialStateFromProps({currentThemeMusicUrl:e,volume:this.props.volume}))},n.endThemeMusic=function(){if(this.state.shouldStopOnEnd){var e=this.props;(0,e.dispatchEndPlayback)({playerType:e.playerType}),this.reset()}else this.fadeOut()},n.render=function(){var e=this.state,t=e.currentThemeMusicUrl,n=e.positionSeconds,r=e.volume;if(!t)return null;var i=this.props,a=i.component,o=i.playerType;return hv()(a,{mediaType:"audio",isBackgroundMedia:!0,isThemeMusic:!0,src:t,playerType:o,positionSeconds:n,volume:r,allowRecycleElement:!0,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onMetricsPlayerChange:this.onMetricsPlayerChange,onEnd:this.onEnd},t)},t}(Ure),Hre=Xf.a.createElement,Vre=Xf.a.Component;var Qre={dispatchEndPlayback:jre},Wre=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){var t=this.props,n=t.volume,r=t.isPlayerOpen;return e.volume!==n||e.isPlayerOpen!==r||!e.isBackgroundPending},n.render=function(){var e=this.props,t=(e.isBackgroundPending,e.isPlayerOpen),n=wt()(e,["isBackgroundPending","isPlayerOpen"]);return t?null:Hre(Bre,n)},t}(Vre);Wre.defaultProps={playerType:Une};var Gre=Lm(function(){return Object(Iy.createSelector)(Object(J.c)("selectLocalVolume"),function(e){return e.ui.background},function(e){return e.ui.audioVideoPlayer.isOpen},function(e,t,n){return{volume:e,isBackgroundPending:t.isBackgroundPending,themeMusicUrl:t.themeMusicUrl,component:Object(J.c)("mediaComponent").getComponent({protocol:"http",isDirectPlay:!0}),isPlayerOpen:n}})},Qre)(Wre),Yre=n(925),Kre=n.n(Yre),qre=n(926),Zre=n.n(qre),Xre=n(927),Jre=n.n(Xre),$re=Xf.a.Component,eie={position:"absolute",width:"100%",height:"100%"},tie=Object.assign({},eie,{background:"url("+Kre.a+")",zIndex:2}),nie={opacity:30,background:"36383b"},rie=Object.assign({},nie,{format:"png"}),iie=hv()("div",{style:tie}),aie=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e,t,n,r,i=this.props,a=i.serverEntityID,o=i.providerEntityID,s=i.url,l=i.allowPreset,c=i.allowLightPreset,u=i.allowBlur,d=window.innerWidth,p=window.innerHeight,h=u?rie:nie;if(u){var f=d/p;e=f>1?640:640*f,t=f>1?640/f:640;var g=Math.max(d/e,p/t);n=Math.round(100/g)}else e=Math.min(window.innerWidth,1920),t=Math.min(window.innerHeight,1080);return!s&&l&&(r=c?Jre.a:Zre.a),hv()("div",{},void 0,hv()(Kk,{serverEntityID:a,providerEntityID:o,url:s,emptySrc:r,width:e,height:t,upscale:u,containerStyle:eie,filters:r?null:Object.assign({},h,{blur:n}),allowPixelRatioSize:!1,component:pk}),iie)},t}($re);aie.defaultProps={allowBlur:!0};var oie=aie,sie=Xf.a.Component,lie=Object(Iy.createSelector)(function(e){return e.ui.background},function(e){return{serverEntityID:e.server,providerEntityID:e.provider,url:e.imageUrl,allowLightPreset:e.allowLightPreset,isBackgroundPending:e.isBackgroundPending}}),cie=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e){return!e.isBackgroundPending},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.url,i=e.allowLightPreset;return hv()(oie,{serverEntityID:t,providerEntityID:n,url:r,allowPreset:!0,allowLightPreset:i})},t}(sie),uie=Lm(function(e){return lie})(cie),die=hv()(mv,{},void 0,hv()(uie,{}),hv()(Gre,{})),pie=Rm.extend({className:"background-container",component:function(){return die}}),hie=n(928),fie=n.n(hie),gie=U.ItemView.extend({mixins:[Zu],className:"alert transition-in",template:fie.a,alertDuration:2e3,transitionDuration:500,events:{mouseenter:"onMouseEnter",mouseleave:"onMouseLeave","click .close-btn":"onCloseClick"},initialState:"transitionIn",states:{transitionIn:{nextState:"visible",onEnter:function(){this.$el.triggerReflow(),this.$el.removeClass("transition-in"),this.startTransition()}},visible:{nextState:"transitionOut",onEnter:function(){this.transitionOutTimeout=setTimeout(this.enterNextState,this.alertDuration)}},transitionOut:{onEnter:function(){this.$el.addClass("transition-out"),this.startTransition()}}},initialize:function(e){this.bindAllWhenRendered(["enterNextState"]),C.a.isString(e)&&(e={message:e}),this.type=e.type,this.message=e.message,this.type&&this.$el.addClass("has-"+this.type)},serializeData:function(){return{type:this.type,message:this.message}},startTransition:function(){setTimeout(this.enterNextState,this.transitionDuration)},onRender:function(){C.a.defer(this.enterNextState)},onStateMachineComplete:function(){this.close()},onMouseEnter:function(e){clearTimeout(this.transitionOutTimeout)},onMouseLeave:function(e){"visible"===this.currentState&&(clearTimeout(this.transitionOutTimeout),this.transitionOutTimeout=setTimeout(this.enterNextState,this.alertDuration/2))},onCloseClick:function(e){e.preventDefault(),"visible"===this.currentState&&(clearTimeout(this.transitionOutTimeout),this.enterNextState())}}),vie=n(929),mie=n.n(vie),yie=Wh.extend({className:"alert-bar notify",template:mie.a}),bie=Mt("ui/modal/syncDownloadModalChangeTemplateMode"),Sie=Mt("ui/modal/syncDownloadModalClose"),Iie=(Mt("ui/modal/syncDownloadModalOpen"),Mt("ui/modal/syncDownloadModalSaveSubscription")),Cie=Qx({});Dp.a.shape({isOpen:Dp.a.bool,sourceAttr:Dp.a.string.isRequired,ratingKey:Dp.a.string.isRequired,error:Dp.a.string,mediaSubscription:Dp.a.string,templates:Dp.a.array});var Mie=Object(Iy.createSelector)(Cy,function(e){return e.mediaSubscriptions});function Die(){return Object(Iy.createSelector)(function(e,t){return t.mediaSubscriptionEntityID},Mie,function(e,t){return t[e]})}var wie=function(e,t){var n=C.a.groupBy(e,function(e){return e.advanced||t&&t.has(e.id)?"advanced":"basic"});return n.basic=C.a.indexBy(n.basic,"id"),n},Pie="saving",Tie=Xf.a.createElement;var Eie=function(e){var t=e.prefs;return hv()("div",{},void 0,t.map(function(e){var t=e.id;return Tie(HW,dv()({key:t},e))}))},xie=Xf.a.createElement,Oie=Xf.a.useEffect;var jie=function(e){var t=e.errorMessage,n=e.isMediaSubscriptionSaving,r=e.prefGroups,i=e.className,o=e.onModalClose,s=e.onSubmit,l=wt()(e,["errorMessage","isMediaSubscriptionSaving","prefGroups","className","onModalClose","onSubmit"]),c=vF(n)&&!n;return Oie(function(){c&&!t&&o()},[t,c,o]),hv()(x_,{className:i,onSubmit:s},void 0,hv()(PN,{},void 0,Object(Xn.default)("Download Options")),t?hv()(FV,{errorMessage:t}):null,hv()(CN,{},void 0,hv()("div",{},"advanced",xie(Eie,dv()({},l,{prefs:r.advanced})))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,onPress:o},void 0,Object(Xn.default)("Cancel")),hv()(_V,{type:"submit",isSpinning:n,kind:a.PRIMARY},void 0,Object(Xn.default)("Save")))))},Aie=Xf.a.createElement,Nie=Xf.a.useCallback,kie=new Set(["autoDeletionItemPolicyUnwatchedLibrary","autoDeletionItemPolicyWatchedLibrary"]);var Lie=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.modal},function(e,t){return t.mediaSubscriptionEntityID},Die(),Object(Iy.createSelector)(function(e){return e.downloads.states},function(e,t){return t.modal},function(e,t){var n=t.sourceAttr,r=t.ratingKey;return e.some(function(e){return e.ratingKey===r&&e.sourceAttr===n&&e.state===Pie})}),Mie,$N,function(e,t,n,r,i,a){var o=n.hint,s=n.target&&a[n.target.metadata],l=wie(n.prefs,kie);return{errorMessage:e.error,hint:o,isMediaSubscriptionSaving:r,prefGroups:l,target:s}})},{dispatchSyncDownloadModalChangeTemplateMode:bie,dispatchSyncDownloadSaveSubscription:Iie})(function(e){e.dispatchSyncDownloadModalChangeTemplateMode;var t=e.dispatchSyncDownloadSaveSubscription,n=e.modal,r=wt()(e,["dispatchSyncDownloadModalChangeTemplateMode","dispatchSyncDownloadSaveSubscription","modal"]),i=n.ratingKey,a=n.sourceAttr,o=Nie(function(e){e.mode;var n=wt()(e,["mode"]);t({prefs:n,ratingKey:i,sourceAttr:a})},[i,a,t]);return Aie(jie,dv()({},r,{onSubmit:o}))}),Rie=n(930),_ie=n.n(Rie),Uie=Xf.a.useCallback;var zie=function(e){var t=e.isOpen,n=e.modal,r=e.onSyncDownloadModalClose,i=n.error,a=n.mediaSubscription,o=n.ratingKey,s=n.sourceAttr,l=Uie(function(){r({ratingKey:o,sourceAttr:s})},[o,s,r]);return hv()(VN,{isOpen:t,metricsPage:Wa,onModalClose:l},void 0,i&&!a?hv()(AK,{message:i,onModalClose:l}):hv()(qN,{onModalClose:l},void 0,hv()(Lie,{className:_ie.a.formContent,modal:n,mediaSubscriptionEntityID:a,onModalClose:l})))},Fie=Xf.a.createElement;var Bie=function(e){return e.modal?Fie(zie,dv()({},e,{isOpen:!0})):null},Hie=Object(Iy.createSelector)(function(e){return e.ui.syncDownloadModals},function(e){return{modal:e.find(function(e){return e.isOpen})}}),Vie=Lm(Hie,{onSyncDownloadModalClose:Sie})(Bie),Qie=hv()(Vie,{}),Wie=Rm.extend({component:function(){return Qie}}),Gie=Object(Iy.createSelector)(wy,function(e){return e.desktop}),Yie=Object(Iy.createSelector)(Gie,function(e){return e.announcements}),Kie=Object(Iy.createSelector)(Yie,function(e){return e.filter(function(e){return!e.read})}),qie=Object(Iy.createSelector)(Gie,function(e){return e.invites}),Zie=hv()("br",{});var Xie=function(e){var t=e.isOpen,n=e.errorMessage,r=e.onModalClose,i=[n||Object(Xn.default)("There was an unexpected error."),Object(Xn.default)("Please visit our forums if you continue to experience problems.")];return hv()(VN,{size:qp.SMALL,isOpen:t,metricsPage:wa,onModalClose:r},void 0,hv()(qN,{onModalClose:r},void 0,hv()(PN,{},void 0,Object(Xn.default)("There was an unexpected error")),hv()(CN,{},void 0,i.join(" "),Zie,hv()(RS,{to:fB,target:"_self",kind:Qp,onPress:r},void 0,Object(Xn.default)("Go to Forums"))),hv()(Q_,{},void 0,hv()(I_,{className:B_.a.button,"data-autofocus":!0,kind:Qp,onPress:r},void 0,Object(Xn.default)("Okay")))))},Jie=Xf.a.useCallback,$ie=Xf.a.useState;function eae(e){var t=$ie(!1),n=t[0],r=t[1];return{isOpen:n,onOpen:Jie(function(){return r(!0)},[]),onClose:Jie(function(){return r(!1)},[]),onConfirm:Jie(function(t){r(!1),e&&e(t)},[e])}}var tae=n(608),nae=n.n(tae);var rae=function(){var e=eae(),t=Object(Xn.default)("An unexpected error is impacting the navigation bar");return hv()("div",{className:nae.a.container},void 0,hv()(gN,{component:RS,tooltip:t,tooltipAttachment:ah,"aria-label":t,onPress:e.onOpen},void 0,hv()(FR,{className:nae.a.icon})),hv()(Xie,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))};function iae(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-fullscreen-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}iae.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var aae=iae;function oae(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-windowed-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}oae.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var sae=oae,lae={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",gt:">",nbsp:" ",quot:'"'};var cae,uae=Ce.a.extend({sessionAttrs:{protocol:Me.a.string.isRequired,protocolCapabilities:Me.a.array.isRequired},syncedAttrs:{friendlyName:Me.a.string.isRequired,capabilities:Me.a.array,volume:Me.a.integer.isRequired},defaults:{protocol:One,protocolCapabilities:["timeline","playback","mirror","playqueues","provider-playback"],volume:100},augmentResponse:function(e){return Object.assign({},e,{friendlyName:(t=e.friendlyName,n=t,Object.keys(lae).forEach(function(e){n=n.replace(new RegExp(Vf("&"+e+";"),"g"),lae[e])}),n)});var t,n}}),dae=Mt("ui/player/remoteCastPlayer/changeCastApiAvailability"),pae=Mt("ui/player/remoteCastPlayer/requestCastSession"),hae=Mt("ui/player/remoteCastPlayer/changeRemoteCastPlayer"),fae=((cae={})["ui/player/remoteCastPlayer/changeCastApiAvailability"]=function(e,t){e.set({castApiAvailability:t})},cae["ui/player/remoteCastPlayer/requestCastSession"]=function(e){Object(J.c)("remoteCastPlayerManager").requestSession()},cae["ui/player/remoteCastPlayer/changeRemoteCastPlayer"]=function(e,t){var n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer");r.get("isOpen")&&r.set("confirmLocalToRemote",!0),i.get("isOpen")&&i.set("confirmLocalToRemote",!0),e.set("remotePlayer",new uae(t,{parse:!0}))},cae),gae=new $.a({props:["capabilities","video","music","photo"]});function vae(e){var t;if(e){var n=F.parseUrl(e),r=/^\/playQueues\/([^/?]+)/.exec(n.pathname||n.href);t=r?r[1]:void 0}return t}var mae="ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_POPULATE",yae="ERROR_COMPANION_PLAY_QUEUE_EMPTY",bae="ERROR_COMPANION_PLAY_QUEUE_COULD_NOT_ADD_TO";function Sae(e,t,n){var r=e.indexOf(t);if(r<0)return e;var i=e.slice(0);return i[r]=n,i}function Iae(e,t){for(var n,r,i,a=t.mediaIndex,o=t.streamTypeString,s=t.streamID,l=t.allParts,c=t.allowMetrics,u=t.metricsProperties,d=void 0===u?{}:u,p=t.updateLocalOnly,h=void 0!==p&&p,f=Av.a.get(o),g=e.server,v=e.get("Media"),m=0,y=v.length;m<y;m++)if(!(a>=0&&a!==m)){for(var b=v[m],S=b.Part,I=0,C=S.length;I<C;I++){for(var M=S[I],D=M.Stream,w=0,T=D.length;w<T;w++){var E=D[w];if(E.streamType===f.id&&E.id===s){r=b,i=M;break}}if(i)break}if(i)break}if(!i)return P.a.Deferred().reject().promise();var x=((n={})[f.key]=s,n);l&&(x.allParts=1);var O=function(e,t,n,r,i){var a=Object.assign({},n,{Stream:n.Stream.map(function(e){return e.streamType!==r.id?e:e.id!==i||e.selected?e.id!==i&&e.selected?Object.assign({},e,{selected:!1}):e:Object.assign({},e,{selected:!0})})}),o=Object.assign({},t,{Part:Sae(t.Part,n,a)});return Sae(e,t,o)}(v,r,i,f,s);if(e.set({Media:O,isStreamChangeInProgress:!h}),h)return P.a.Deferred().resolve().promise();var j=i.key.match(new RegExp("^(.*/parts/"+i.id+")/")),A=F.join(j?j[1]:["/library/parts",i.id],x),N=g.getXHROptions(A,{type:"PUT",scope:"selectMetadataItemStream--"+i.id});Y.a.abortAll(N.scope);var k=P.a.ajax(N).done(function(){e.set("isStreamChangeInProgress",!1),e.fetch({usePopulatedParams:!0})}).fail(function(t){if(!t.aborting){var n={isStreamChangeInProgress:!1};e.get("Media")===O&&(n.Media=v),e.set(n)}});return c&&Object(J.c)("metrics").trackClick(Object.assign({},d,{action:pa,type:e.get("type"),streamType:o})),k.promise()}var Cae,Mae=n(159);var Dae=Mt("metadata/selectMetadataItemStream"),wae=Mt("metadata/updateMetadataItemFollowMute"),Pae=Mt("metadata/repopulateMetadataItem"),Tae=Mt("metadata/removeMetadataItem"),Eae=Mt("metadata/toggleMetadataItemSave"),xae=Mt("metadata/toggleMetadataItemPlexPick"),Oae=Mt("metadata/addMetadataItemToLibrary"),jae=Mt("metadata/deleteMetadataItemStream"),Aae=(Mt("metadata/setMetadataItemStreamOffset"),(Cae={})["metadata/repopulateMetadataItem"]=function(e,t){var n=Eo(e,t);n&&n.fetch({data:{skipRefresh:1},usePopulatedParams:!0})},Cae["metadata/removeMetadataItem"]=function(e,t){var n=Eo(e,t);n&&n.trigger("destroy",n,n.collection)},Cae["metadata/selectMetadataItemStream"]=function(e,t,n){var r=t.mediaIndex,i=t.streamTypeString,a=t.streamID,o=t.allParts,s=t.metricsPage,l=t.updateLocalOnly;Iae(To(e,t),{mediaIndex:r,streamTypeString:i,streamID:a,allParts:o,allowMetrics:!!s,metricsProperties:{page:s},updateLocalOnly:l}).fail(function(e){e&&e.aborting||n(au(Object(Xn.default)("There was a problem selecting this stream.")))})},Cae["metadata/updateMetadataItemFollowMute"]=function(e,t){var n,r=t.ratingKey,i=t.actionID,a=t.tagElement,o=t.value,s=Co(e,t),l=To(e,t),c=l.get(a),u=c.find(function(e){return e.ratingKey===r}),d=Object.assign({},u);i===Xt&&(d.followed=o,d.muted=o&&u.muted?!u.muted:u.muted,n="follow"),i===Jt&&(d.muted=o,d.followed=o&&u.followed?!u.followed:u.followed,n="mute");var p=Sae(c,u,d),h=s.get("features").get(en).get("actions").get(i),f=o?h.get("key"):h.get("reverseKey"),g=F.join(f,{ratingKey:r});l.set(a,p);var v=s.getXHROptions(g,{type:"PUT"});P.a.ajax(v).then(null,function(){l.set(a,c)}),function(e,t,n,r){void 0===r&&(r={}),Object(J.c)("metrics").trackClick(Object.assign({page:n,action:e,type:t.get("type")},r))}(n,l,t.metricsPage,{identifier:s.get("metricsIdentifier"),context:u.tag,value:o})},Cae["metadata/toggleMetadataItemSave"]=function(e,t,n){var r,i=To(e,t),a=Co(e,{providerEntityID:i.get("providerEntityID")}),o=a.get("identifier"),s=Cn.i(o,Cn.e),l=i.get("ratingKey"),c=i.get("grandparentRatingKey");if(c&&!s){l=c;var u=i.get("grandparentKey");if(u){var d=Object(Tr.a)(Er.h,u,t.serverEntityID);r=Eo(e,{metadataItemEntityID:d})}}var p=i.get("saved"),h=!p;i.set("saved",h),r&&r.set("saved",h);var f=a.get("features").get(en).get("actions").get("save"),g=h?f.get("key"):f.get("reverseKey"),v=F.join(g,{ratingKey:l}),m=a.getXHROptions(v,{type:"PUT"});P.a.ajax(m).then(function(){n(iu({serverEntityID:t.serverEntityID}))},function(){i.set("saved",p),r&&r.set("saved",p)})},Cae["metadata/toggleMetadataItemPlexPick"]=function(e,t,n){var r=To(e,t),i=Co(e,{providerEntityID:r.get("providerEntityID")}),a=r.get("ratingKey"),o=r.get("picked"),s=!o;r.set("picked",s);var l=i.get("features").get(en).get("actions").get("pick"),c=s?l.get("key"):l.get("reverseKey"),u=F.join(c,{ratingKey:a}),d=i.getXHROptions(u,{type:"PUT"});P.a.ajax(d).then(function(){n(iu({serverEntityID:t.serverEntityID}))},function(e){var t=Object(Mae.a)(e.responseText);n(au(t.message)),r.set("picked",o)})},Cae["metadata/addMetadataItemToLibrary"]=function(e,t,n){var r=To(e,t),i=bo(e,t),a=Co(e,{providerEntityID:r.get("providerEntityID")}),o=t.sectionKey.match(/\/library\/sections\/(\d+)/)[1],s={providers:"provider://"+a.get("identifier"),prefs:{oneShot:1,remoteMedia:1},params:{libraryType:Cl.get(bl).typeID},targetLibrarySectionID:o,hints:{guid:r.get("guid"),ratingKey:r.get("ratingKey"),title:r.get("title"),parentTitle:r.get("parentTitle")},type:Object(nr.r)(r.get("type")).id},l=i.getXHROptions(F.join("/media/subscriptions",s),{type:"POST"});P.a.ajax(l)},Cae["metadata/deleteMetadataItemStream"]=function(e,t,n){var r=t.streamKey,i=t.metadataItemEntityID,a=To(e,t);Object(No.a)(function(){a.set("isStreamDeleteInProgress",!0)});var o=a.server.getXHROptions(r,{type:"DELETE"});P.a.ajax(o).then(function(){a.set("isStreamDeleteInProgress",!1),n(Pae({metadataItemEntityID:i}))},function(e){a.set("isStreamDeleteInProgress",!1),n(au(Object(Xn.default)("There was a problem deleting this stream.")))})},Cae["metadata/setMetadataItemStreamOffset"]=function(e,t,n){var r=t.mediaIndex,i=t.streamTypeString,a=t.streamID,o=t.allParts,s=t.metricsPage,l=t.updateLocalOnly;Iae(To(e,t),{mediaIndex:r,streamTypeString:i,streamID:a,allParts:o,allowMetrics:!!s,metricsProperties:{page:s},updateLocalOnly:l}).fail(function(e){e&&e.aborting||n(au(Object(Xn.default)("There was a problem selecting this stream.")))})},Cae);var Nae,kae=function(e){var t=e.protocol,n=e.protocolCapabilities,r=void 0===n?[]:n,i=e.providerIdentifier,a=e.userFeatures;if(t!==One&&t!==jne)return!1;var o=Cn.i(i,[Cn.d,Cn.b,Cn.g]),s=Cn.i(i,Cn.c),l=Cn.i(i,[Cn.h,Cn.f]),c=Cn.i(i,Cn.e),u=a[Oy],d=a[jy],p=t===One||r.includes("provider-playback");return!!(o||s&&u||l&&d||c&&p)},Lae=Mt("ui/player/remotePlayer/changeRemotePlayer"),Rae=Mt("ui/player/remotePlayer/syncRemotePlayerCurrentItem"),_ae=Mt("ui/player/remotePlayer/syncRemotePlayerState"),Uae=Mt("ui/player/remotePlayer/syncRemotePlayQueueState"),zae=Mt("ui/player/remotePlayer/syncRemoteQuality"),Fae=Mt("ui/player/remotePlayer/syncRemoteStreams"),Bae=Mt("ui/player/remotePlayer/syncRemoteExperienceSettings"),Hae=Mt("ui/player/remotePlayer/changeRemotePlayerVolume"),Vae=Mt("ui/player/remotePlayer/showRemotePlayerError"),Qae=Mt("ui/player/remotePlayer/mirrorDetails"),Wae=Mt("ui/player/remotePlayer/discoverRemotePlayers"),Gae=Mt("ui/player/remotePlayer/idleRemotePlayer"),Yae=Mt("ui/player/remotePlayer/removeRemotePlayer"),Kae=Mt("ui/player/remotePlayer/confirmRemoteToLocal"),qae=Mt("ui/player/remotePlayer/confirmLocalToRemote");function Zae(e,t){var n=Bne(t);return e.get("ui").get(n+"Player")}function Xae(e,t){var n=e.appModel,r=e.serverModel,i=e.providerModel,a=e.playerModel,o=e.playQueueModel,s=e.openState,l=e.mediaIndex,c=e.bitrate,u=e.initialState,d=e.requestOptions;if(!a.get("isPlayQueueLoading")){var p=o.get("type");a.restoreDefaults({serverEntityID:r.entityID(),providerEntityID:i.entityID(),isOpen:!0,openState:s||p===Dee?_ne:Rne,isPlayQueueLoading:!0,playQueue:o,playbackStartTime:Date.now()}),function(e){var t=e.serverModel,n=e.providerModel,r=e.playQueueModel,i=e.metadataKey,a=e.containerKey;if(!r.get("isLocal"))return mee(r);var o,s,l={server:t,provider:n};return(a?(s=new ll.default({containerKey:a},l)).fetch():(o=new Qs.a({key:i},l)).fetch()).then(function(){return s&&!s.get("metadataItems").length?P.a.Deferred().reject(yae).promise():Iee({providerModel:n,metadataItemModel:o,metadataListModel:s,playQueueModel:r}).then(null,function(){return P.a.Deferred().reject(bae).promise()})},function(){return P.a.Deferred().reject(mae).promise()})}(Object.assign({serverModel:r,providerModel:i,playQueueModel:o},d)).done(function(){a.set(Object.assign({isPlayQueueLoading:!1},u)),t(zae({playQueueType:p,mediaIndex:l,bitrate:c}))}).fail(function(){var e=n.get("remotePlayer");if(e){var t=e.get("friendlyName");a.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)('An error occurred loading the media being played on "{playerName}".',{playerName:t})})}})}}var Jae=((Nae={})["ui/player/remotePlayer/changeRemotePlayer"]=function(e,t){var n=zb(e,{machineIdentifier:t});e.set("remotePlayer",n)},Nae["ui/player/remotePlayer/syncRemotePlayerCurrentItem"]=function(e,t,n){var r=t.playQueueType,i=t.options,a=i.machineIdentifier,o=i.providerIdentifier,s=i.playbackSessionID,l=i.containerKey,c=i.key,u=i.mediaIndex,d=i.bitrate,p=i.playQueueItemID,h=i.shouldRefreshPlayQueue,f=i.initialState;if(l&&c){var g=Zae(e,r);if(g){var v=a||cv.a,m=e.get("servers").populateServer(v),y=m.then(function(t){return(t.get("isCloud")?e.get("user").get("desktop").get("providers"):t.get("providers")).populate().then(function(e){return e})}).then(function(e){var t=e.get(o)||e.get(vae(l)?Cn.d:Cn.b);return t?t.populate().then(function(e){return e}):P.a.Deferred().reject().promise()}),b=y.then(function(e){return function(e){var t=e.providerModel,n=e.currentPlayQueueModel,r=e.metadataKey,i=e.containerKey,a=e.playQueueOptions,o=vae(i)||i||r;return n&&n.get("playQueueID")===o?n:Oee(Object.assign({providerModel:t,playQueueID:o},a))}({providerModel:e,currentPlayQueueModel:g.get("playQueue"),metadataKey:c,containerKey:l,playQueueOptions:{playQueueType:r,playQueueOwn:!1}})});P.a.when(m,y,b).then(function(t,r,i){if(g.get("playQueue")===i){if(!g.get("isPlayQueueLoading")&&!i.get("isUpdatePending")&&h){var a=i.get("playQueueItems"),o=null!=p?a.get(p):a.find(function(e){return c===e.get("metadataItem").get("key")});if(g.set({isLyricsVisible:!1}),o){var v=i.get("playQueueSelectedItemID"),m=a.get(v),y=i.get("playQueueSelectedItemOffset"),b=a.indexOf(m),S=a.indexOf(o),I=o.get("metadataItem"),C=o.get("playQueueItemID");Object(D.a)("[Cast] The current metadata item on the remote player changed to "+I.get("title")),mee(i).done(function(){i.set({playQueueSelectedItemID:C,playQueueSelectedItemOffset:y+(S-b)})})}else mee(i)}}else Xae({appModel:e,serverModel:t,providerModel:r,playerModel:g,playQueueModel:i,openState:g.get("isOpen")?null:_ne,mediaIndex:u,bitrate:d,initialState:f,requestOptions:{metadataKey:c,containerKey:l,playbackSessionID:s}},n)}).fail(function(){var t=e.get("remotePlayer");if(t){var n=t.get("friendlyName");g.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)('"{playerName}" is playing media from an unknown source.',{playerName:n})})}})}}},Nae["ui/player/remotePlayer/syncRemotePlayerState"]=function(e,t){var n=t.playQueueType,r=t.playerState,i=Zae(e,n);i&&i.get("isOpen")&&Object(No.a)(function(){i.set(r)})},Nae["ui/player/remotePlayer/syncRemotePlayQueueState"]=function(e,t){var n=t.playQueueType,r=t.playQueueVersion,i=t.repeatAll,a=t.repeatOne,o=Zae(e,n);if(o&&o.get("isOpen")){var s=o.get("playQueue");if(o.set({repeatAll:i,repeatOne:a}),s){var l=s.get("playQueueVersion");s.set("repeat",i),!s.get("isUpdatePending")&&l<r&&s.fetch()}}},Nae["ui/player/remotePlayer/syncRemoteQuality"]=function(e,t){var n=t.playQueueType,r=t.mediaIndex,i=void 0===r?0:r,a=t.bitrate,o=Zae(e,n);if(o&&o.get("isOpen")&&!o.get("isPlayQueueLoading")){var s=o.get("playQueue"),l=s.get("playQueueItems").get(s.get("playQueueSelectedItemID"));if(l){var c=l.get("metadataItem"),u=Object(nr.r)(l.get("type"));if(u&&u.mediaType===ed.d){var d=c.get("Media")[i],p=gae.prop("video"),h=gd.a.getAvailableQualitiesFor(d,c.server,{lowestQualityIndex:p.lowestQualityIndex}),f=e.get("user").get("experienceSettings"),g=null==a?f.defaults().localQuality:gd.a.getNearestIndexToBitrate(a);if(gd.a.isExplicitQuality(g)){var v=h[0],m=h[h.length-1];v&&g<v.index?g=v.index:m&&g>m.index&&(g=gd.a.ORIGINAL)}o.set({qualityIndex:g,availableQualities:h})}}}},Nae["ui/player/remotePlayer/syncRemoteStreams"]=function(e,t,n){var r=t.playQueueType,i=t.key,a=t.mediaIndex,o=void 0===a?0:a,s=t.partIndex,l=void 0===s?0:s,c=t.audioStreamID,u=t.subtitleStreamID,d=Zae(e,r);if(d&&d.get("isOpen")&&!d.get("isPlayQueueLoading")){var p=d.get("playQueue"),h=p.get("playQueueItems").get(p.get("playQueueSelectedItemID")).get("metadataItem"),f=h.get("Media")[o],g=f&&f.Part[l];if(i===h.get("key")&&g){var v=C.a.findWhere(g.Stream,{streamType:Av.a.get("audio").id,selected:!0}),m=C.a.findWhere(g.Stream,{streamType:Av.a.get("subtitles").id,selected:!0}),y=parseInt(c,10),b=parseInt(u||0,10);null!=c&&v&&v.id!==y&&n(Dae({metadataItemEntityID:h.entityID(),mediaIndex:o,streamTypeString:"audio",streamID:y,updateLocalOnly:!0})),m&&m.id!==b&&n(Dae({metadataItemEntityID:h.entityID(),mediaIndex:o,streamTypeString:"subtitles",streamID:b,updateLocalOnly:!0}))}}},Nae["ui/player/remotePlayer/syncRemoteExperienceSettings"]=function(e,t){e.get("user").get("experienceSettings").set(t)},Nae["ui/player/remotePlayer/changeRemotePlayerVolume"]=function(e,t){e.get("remotePlayer").set("volume",t)},Nae["ui/player/remotePlayer/showRemotePlayerError"]=function(e,t){var n=t.playQueueType,r=t.errorMessage,i=Zae(e,n);i&&i.restoreDefaults({hasError:!0,errorMessage:r})},Nae["ui/player/remotePlayer/mirrorDetails"]=function(e,t){var n=Ane(e),r=Co(e,t),i=To(e,t),a=e.get("remotePlayer"),o=a.get("protocol"),s=a.get("protocolCapabilities");kae({protocol:o,protocolCapabilities:s,providerIdentifier:Pr(r.get("identifier"),r.get("providerIdentifier")),userFeatures:eX(e.get("user").get("features").getState())})&&n.mirrorDetails(i)},Nae["ui/player/remotePlayer/discoverRemotePlayers"]=function(e){var t=e.get("companionServer");t&&(t.get("desktop").get("players").fetch(),t.get("desktop").get("neighborhoodDevices").fetch()),PZ(e,"8a9471c4-13bd-435a-b5b8-4ca6e423f355")&&e.get("user").get("desktop").get("cloudCompanions").forEach(function(e){e.get("cloudPlayers").fetch().then(function(){return e.set({linkState:"linked"})},function(t,n){var r=n.status;return e.set({linkState:402===r?"unable":"able"})})})},Nae["ui/player/remotePlayer/idleRemotePlayer"]=function(e,t){Zae(e,t.playQueueType).restoreDefaults()},Nae["ui/player/remotePlayer/removeRemotePlayer"]=function(e){var t=e.get("remotePlayer");if(t){var n=e.get("ui"),r=n.get("audioVideoPlayer"),i=n.get("photoPlayer");r.get("isOpen")&&r.set({confirmRemoteToLocal:!0,controllable:null}),i.get("isOpen")&&i.set({confirmRemoteToLocal:!0,controllable:null});var a=t.get("protocol");a===One?Object(J.c)("remoteCastPlayerManager").endSession():a===jne&&Object(J.c)("remotePlexPlayerManager").endSession(),e.unset("remotePlayer")}},Nae["ui/player/remotePlayer/confirmRemoteToLocal"]=function(e,t){var n=t.playerType,r=e.get("ui").get(n+"Player"),i=r.get("playQueue"),a=i.get("playQueueItems"),o=i.get("playQueueSelectedItemID"),s=a.get(o).get("metadataItem");i.set("own",!0),mee(i),r.set({confirmRemoteToLocal:!1,startMetadataItemEntityID:s.entityID(),startOffsetMilliseconds:1e3*r.get("positionSeconds")})},Nae["ui/player/remotePlayer/confirmLocalToRemote"]=function(e,t){var n=t.playerType,r=e.get("ui").get(n+"Player");Ane(e).startPlayback(r),r.set("confirmLocalToRemote",!1)},Nae),$ae=1,eoe=2,toe=3,noe=[$ae,eoe,toe,4],roe=(Dp.a.oneOf(noe),Me.a.oneOf.apply(Me.a,noe));function ioe(){return Object(Iy.createSelector)(function(e){return e.ui},function(e,t){return t.playerType},function(e,t){return e[t+"Player"]})}function aoe(e){return Object(Iy.createSelector)(ioe(),function(t){return t?t[e]:void 0})}var ooe=function(){return aoe("playQueue")},soe=Object(Iy.createSelector)(Cy,function(e){return e.playQueueItems});var loe=function(e){return void 0===e&&(e=0),Object(Iy.createSelector)(ooe(),soe,function(t,n){var r=t?t.playQueueItems:[];if(r.length){var i=t.currentIndex,a=i+e;t.repeat&&(a=function(e,t,n){return(e+t%n+n)%n}(i,e,t.length));var o=r[a];return o&&n[o]}})};function coe(e){return void 0===e&&(e=0),Object(Iy.createSelector)(loe(e),$N,function(e,t){if(e)return t[e.metadataItem]})}function uoe(){return Object(Iy.createSelector)(ek,aoe("providerEntityID"),function(e,t){return e[t]})}var doe=function(){return Object(Iy.createSelector)(uoe(),function(e){return Pr(e.identifier,e.providerIdentifier)})};var poe=function(e){return e.castApiAvailability};var hoe=function(){return Object(Iy.createSelector)(poe,doe(),rX,function(e,t,n){return kae({protocol:One,providerIdentifier:t,userFeatures:n})?e:$ae})};var foe=function(){return function(e,t){return t.playerType?hoe()(e,t):poe(e,t)}},goe=Object(Iy.createSelector)(Gie,function(e){return e.cloudCompanions}),voe=Object(Iy.createSelector)(goe,function(e){return e.reduce(function(e,t){var n=t.cloudPlayers;return e.concat(n)},[])}),moe=Object(Iy.createSelector)(function(e){return e.companionServer},My,function(e,t){return t[e]}),yoe=Object(Iy.createSelector)(moe,function(e){return e?e.desktop.players:[]}),boe=Object(Iy.createSelector)(yoe,voe,function(e,t){return e.concat(t)});var Soe=function(){return Object(Iy.createSelector)(doe(),rX,boe,function(e,t,n){return n.filter(function(n){var r=n.protocol,i=n.protocolCapabilities;return kae({protocol:r,protocolCapabilities:i,providerIdentifier:e,userFeatures:t})})})};var Ioe=function(){return function(e,t){return t.playerType?Soe()(e,t):boe(e,t)}},Coe=Object(Iy.createSelector)(goe,H9,function(e,t){var n=e.find(function(e){return e.identifier.includes("sonos")}),r=n&&t&&n.linkURL+"?X-Plex-Token="+t.accessToken+"&next="+encodeURIComponent(window.location.href);return{state:n?n.linkState:"untested",url:r}}),Moe=Object(Iy.createSelector)(moe,function(e){return e?e.desktop.neighborhoodDevices:[]}),Doe=Object(Iy.createSelector)(Moe,function(e){return!!e.find(function(e){return e.uuid.includes("RINCON")})});Dp.a.shape({state:Dp.a.string.isRequired,url:Dp.a.string});function woe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-off-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M0 84v98c14.294 0 28.252 1.372 42 3.346V126h476v308H290.654c1.974 13.748 3.346 27.706 3.346 42h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}woe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Poe=woe;function Toe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-remote-player-on-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M0 84v98c162.372 0 294 131.628 294 294h266V84H0m42 392c0-23.198-18.802-42-42-42v42h42m56 0h42c0-77.322-62.678-140-140-140v42c54.04 0 98 43.96 98 98m98 0h42c0-131.446-106.554-238-238-238v42c108.08 0 196 87.92 196 196"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Toe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Eoe=Toe;function xoe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-ban-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M169.704 446.864C201.322 467.804 239.237 480 280 480c110.457 0 200-89.543 200-200 0-40.763-12.195-78.678-33.136-110.296l-277.16 277.16zm-56.568-56.568l277.16-277.16C358.678 92.196 320.763 80 280 80 169.543 80 80 169.543 80 280c0 40.763 12.195 78.678 33.136 110.296zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}xoe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Ooe=xoe;var joe=function(e){var t=e.isOpen,n=e.onClose;return hv()(VN,{isOpen:t,metricsPage:ho,size:qp.SMALL,onModalClose:n},void 0,hv()(qN,{onModalClose:n},void 0,hv()(PN,{},void 0,Object(Xn.default)("Chromecast unavailable")),hv()(CN,{},void 0,hv()(AB,{message:Object(Xn.default)("Casting to Chromecast requires a secure connection to the Plex web app. Please visit {openLink}https://app.plex.tv{closeLink} and try again."),tags:[{open:"openLink",close:"closeLink",component:RS,to:"https://app.plex.tv/desktop"+window.location.hash,kind:Qp}]}))))},Aoe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.onPlayerSelect(t.props.machineIdentifier),t.props.onPress(e)},t}return Sy()(t,e),t.prototype.render=function(){return hv()(hI,{onPress:this.onPress},void 0,this.props.children)},t}(Xf.a.Component),Noe=n(226),koe=n.n(Noe),Loe=Xf.a.Component,Roe=Xf.a.Fragment,_oe=hv()("div",{},void 0,"Sonos..."),Uoe=hv()("div",{},void 0,"Sonos..."),zoe=hv()(q1,{},"separator"),Foe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCastPress=function(e){r.props.onCastPress(e),r.props.onMenuClose(e)},r.onCastMissingPress=function(e){r.setState({isCastMissingModalOpen:!0})},r.onCastMissingModalClose=function(){r.setState({isCastMissingModalOpen:!1},function(){r.props.onMenuClose()})},r.onSonosUpsellPress=function(){r.setState({isPlexPassModalOpen:!0})},r.onPlexPassModalClose=function(){r.setState({isPlexPassModalOpen:!1})},r.onDisconnectPress=function(e){r.props.onDisconnectPress(e),r.props.onMenuClose(e)},r.state={isCastMissingModalOpen:!1,isPlexPassModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.castApiAvailability,n=e.castAppTitle,r=e.sonosLink,i=e.isRemotePlayer,a=e.remotePlayerName,o=e.remotePlayerProduct,s=e.players,l=e.onMenuClose,c=e.onPlayerSelect,u=this.state,d=u.isCastMissingModalOpen,p=u.isPlexPassModalOpen,h=!i&&t===eoe,f=!i&&t===toe,g=!i&&r&&"able"===r.state,v=!i&&r&&"unable"===r.state,m=h||f||g||v,y=!i&&!!s.length,b=!(i||h||f||y);return hv()("div",{},void 0,i?[hv()("div",{className:koe.a.remotePlayerName},"name",a),hv()("div",{className:koe.a.remoteProduct},"product",o),hv()(hI,{onPress:this.onDisconnectPress},"disconnect",hv()(Ooe,{className:koe.a.disconnectIcon,"aria-label":Object(Xn.default)("Disconnect")}),Object(Xn.default)("Disconnect"))]:null,h?hv()(hI,{onPress:this.onCastPress},"cast",n?Object(Xn.default)("Cast ({title})...",{title:n}):Object(Xn.default)("Cast...")):null,f?hv()(Roe,{},void 0,hv()(joe,{isOpen:d,onClose:this.onCastMissingModalClose}),hv()(hI,{onPress:this.onCastMissingPress},"cast",Object(Xn.default)("Cast..."))):null,null,g?hv()(hI,{to:r.url},"sonosLink",_oe,hv()("div",{className:koe.a.menuItemSubtitle},void 0,Object(Xn.default)("Link your Sonos account"))):null,v?hv()(hI,{onPress:this.onSonosUpsellPress},"sonosUpsell",Uoe,hv()("div",{className:koe.a.menuItemSubtitle},void 0,Object(Xn.default)("Upgrade to a Plex Pass"))):null,m&&y?zoe:null,y?s.map(function(e){var t=e.machineIdentifier,n=e.friendlyName,r=e.product;return hv()(Aoe,{machineIdentifier:t,onPress:l,onPlayerSelect:c},t,hv()("div",{},void 0,n),hv()("div",{className:koe.a.remotePlayerProduct},void 0,r))}):null,b?hv()("div",{className:koe.a.emptyMessage},void 0,Object(Xn.default)("No players found")):null,hv()(VH,{isOpen:p,onModalClose:this.onPlexPassModalClose}))},t}(Loe),Boe=Xf.a.Component,Hoe=Xf.a.Fragment,Voe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPress=function(){r.setState(function(e,t){return{isMenuOpen:!e.isMenuOpen}},function(){r.props.onMenuChange&&r.props.onMenuChange(r.state.isMenuOpen)})},r.onMenuClose=function(){r.setState({isMenuOpen:!1},function(){r.props.onMenuChange&&r.props.onMenuChange(!1)})},r.state={isMenuOpen:!1},r._menuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){this.state.isMenuOpen&&!t.isMenuOpen&&this.props.onDiscoverPlayers()},n.render=function(){var e=this.props,t=e.className,n=e.iconClassName,r=e.iconComponent,i=e.isRemotePlayer,a=e.castApiAvailability,o=e.castAppTitle,s=e.sonosLink,l=e.hasCompanionServer,c=e.remotePlayerName,u=e.remotePlayerProduct,d=e.players,p=e.onPlayerSelect,h=e.onCastPress,f=e.onDisconnectPress,g=a===eoe;return hv()(Hoe,{},void 0,hv()(r,{className:t,iconClassName:n,id:this._menuButtonID,ariaLabel:Object(Xn.default)("Select Player"),title:this.state.isMenuOpen?null:Object(Xn.default)("Select Player"),iconComponent:i?Eoe:Poe,isDisabled:!g&&!l,isSelected:i,onPress:this.onPress}),hv()(zT,{target:this._menuButtonID,isOpen:this.state.isMenuOpen,size:qp.LARGE,onMenuClose:this.onMenuClose},void 0,hv()(Foe,{castApiAvailability:a,castAppTitle:o,sonosLink:s,isRemotePlayer:i,remotePlayerName:c,remotePlayerProduct:u,players:d,onPlayerSelect:p,onCastPress:h,onDisconnectPress:f,onMenuClose:this.onMenuClose})))},t}(Boe);Voe.defaultProps={iconComponent:Kz};var Qoe=Voe,Woe=function(){};var Goe=Lm(function(){return Object(Iy.createSelector)(foe(),function(e){return e.remotePlayer},Ioe(),Coe,Doe,function(e){return e.companionServer},Woe,function(e,t,n,r,i,a,o){return{castApiAvailability:e,castAppTitle:o,sonosLink:i?r:null,hasCompanionServer:!!a,isRemotePlayer:!!t,remotePlayerName:t&&t.friendlyName,remotePlayerProduct:t&&t.product,players:n}})},function(e){return{onDiscoverPlayers:function(t){e(Wae())},onPlayerSelect:function(e){Object(J.c)("remotePlexPlayerManager").requestSession(e)},onCastPress:function(t){e(pae())},onDisconnectPress:function(t){e(Yae())}}})(Qoe),Yoe=n(317),Koe=n.n(Yoe),qoe=Xf.a.createElement;function Zoe(e){var t=e.className,n=e.tooltipClassName,r=e.tooltipFocusedClassName,i=e.labelClassName,a=e.iconClassName,o=e.iconComponent,s=e.alertIconClassName,l=e.alertIconComponent,c=e.title,u=e.ariaLabel,d=e.label,p=e.iconProps,h=wt()(e,["className","tooltipClassName","tooltipFocusedClassName","labelClassName","iconClassName","iconComponent","alertIconClassName","alertIconComponent","title","ariaLabel","label","iconProps"]),f=c||u;return qoe(gN,dv()({className:t,tooltipClassName:n,tooltipFocusedClassName:r,component:RS,tooltip:c,"aria-label":f},h),qoe(o,dv()({className:a},p)),l?hv()(l,{className:s}):null,d?hv()("span",{className:i},void 0,d):null)}Zoe.defaultProps={className:Koe.a.button,iconClassName:Koe.a.icon,alertIconClassName:Koe.a.alertIcon,tooltipClassName:Koe.a.tooltip,tooltipFocusedClassName:Koe.a.tooltipTriggerHasFocus};var Xoe=Zoe;function Joe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-alert-dot-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Joe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var $oe=Joe;function ese(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M294 378l56-56 142.027 116.204a14 14 0 0 1 1.034 20.735l-62.122 62.122a14.001 14.001 0 0 1-20.735-1.034L294 378zm-.589-167.411C284.832 193.57 280 174.345 280 154c0-69.541 56.459-126 126-126 35.996 0 68.486 15.127 91.456 39.365L364 103.124l30.746 114.746 134.142-35.943C516.169 238.048 465.945 280 406 280c-20.345 0-39.57-4.832-56.589-13.411L103.799 512.201c-10.935 10.935-28.663 10.935-39.598 0l-16.402-16.402c-10.935-10.935-10.935-28.663 0-39.598l245.612-245.612zM84 168L28 84l28-28 84 56v28l84 84-28 28-84-84H84z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}ese.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var tse=ese,nse=n(931),rse=n.n(nse);var ise=function(e){var t=e.shouldShowAlertDot;return hv()(Xoe,{className:rse.a.button,to:"#!/settings/web/general",iconComponent:tse,alertIconComponent:t?$oe:null,title:Object(Xn.default)("Settings")})},ase=Object(Iy.createSelector)(E7,function(e){return{shouldShowAlertDot:e}}),ose=Lm(ase)(ise),sse=Object(Iy.createSelector)(nX("features"),nX("services"),function(e,t){return void 0===e&&(e=[]),void 0===t&&(t=[]),{features:$Z(e,function(e){return e.uuid},function(){return!0}),services:$Z(t,function(e){return e.id},function(){return!0})}}),lse=Mt("INIT_QUICK_SEARCH"),cse=Mt("RESET_QUICK_SEARCH"),use=Mt("FETCH_QUICK_SEARCH"),dse=Mt("CHANGE_SEARCH_QUERY"),pse=Mt("CHANGE_SEARCH_SETTINGS"),hse=Mt("SELECT_SEARCH_RESULT"),fse=Mt("NAVIGATE_SEARCH_RESULT"),gse=Mt("PLAY_SEARCH_RESULT"),vse=n(318),mse=n.n(vse),yse=Xf.a.createElement,bse=function(e){function t(t){var n;return(n=e.call(this,t)||this).focusInput=function(){n._input.focus()},n.onClick=function(e){n.focusInput(),n.props.onClick()},n.onFocus=function(){n.setState({isFocused:!0})},n.onBlur=function(){n.setState({isFocused:!1})},n.onChange=function(e){var t=e.target.value;n.searchTimeout&&clearTimeout(n.searchTimeout),n.setState({query:t},function(){n.props.onChange(t),""!==t.trim()&&(n.searchTimeout=setTimeout(n.props.onSearch,200))})},n.onClearPress=function(e){e.stopPropagation(),n.searchTimeout&&clearTimeout(n.searchTimeout),n.setState({query:""},function(){n.props.onChange(""),n.focusInput()})},n.onRef=function(e){var t=n.props.onRef;n._input=e,t&&t(e)},n.state={isFocused:!1,query:t.query},n.searchTimeout=null,n}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.state.query!==e.query&&this.setState({query:e.query})},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this.searchTimeout&&clearTimeout(this.searchTimeout)},n.render=function(){var e=this.props,t=e.closeIcon,n=e.searchIcon,r=this.state,i=r.isFocused,a=r.query;return hv()("div",{className:(mse.a.container||"")+" "+(i&&mse.a.focused||""),onClick:this.onClick},void 0,hv()(n,{className:mse.a.searchIcon}),yse("input",{"data-qa-id":"quickSearchInput",className:mse.a.searchInput,value:a,type:"text",autoComplete:"off",spellCheck:"false",ref:this.onRef,onChange:this.onChange,onFocus:this.onFocus,onBlur:this.onBlur}),a.length>0?hv()(RS,{onPress:this.onClearPress},void 0,hv()(t,{className:mse.a.closeIcon})):null)},t}(Xf.a.Component);bse.defaultProps={query:"",onClick:Dp.a.func};var Sse=bse;function Ise(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-close-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280,0C434.536,0 560,125.464 560,280C560,434.536 434.536,560 280,560C125.464,560 0,434.536 0,280C0,125.464 125.464,0 280,0ZM435.563,171.005L388.995,124.437L280,233.431L171.005,124.437L124.436,171.005L233.431,280L124.436,388.995L171.005,435.564L280,326.569L388.995,435.564L435.564,388.995L326.569,280L435.563,171.005Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Ise.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Cse=Ise;function Mse(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-search-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M351.883,407.883C315.613,433.168 271.525,448 224,448C100.371,448 0,347.629 0,224C0,100.371 100.371,0 224,0C347.629,0 448,100.371 448,224C448,271.525 433.168,315.613 407.883,351.883L560,504L504,560L351.883,407.883ZM56,224C56,316.722 131.278,392 224,392C316.722,392 392,316.722 392,224C392,131.278 316.722,56 224,56C131.278,56 56,131.278 56,224Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Mse.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Dse=Mse,wse=Xf.a.createElement,Pse=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).focusInput=function(){t._input.focus()},t.onRef=function(e){t._input=e},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){z.a.on("shortcut:search",this.focusInput)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){z.a.off("shortcut:search",this.focusInput)},n.render=function(){return wse(Sse,dv()({},this.props,{closeIcon:Cse,searchIcon:Dse,onRef:this.onRef}))},t}(Xf.a.Component);function Tse(e){return e?{entityID:e.entityID,id:e.id,parentID:e.parentID,identifier:e.identifier,metricsIdentifier:e.metricsIdentifier,isLibraryProvider:e.isLibraryProvider,isPopulated:!!e.isPopulated,epgSource:e.epgSource,title:e.title,protocols:e.protocols.reduce(function(e,t){return e[t]=!0,e},{}),features:e.features.reduce(function(e,t){var n=t;if(t.type===en){var r={type:en};n=r=t.actions.reduce(function(e,t){return e[t.id]=t,e},r)}return e[t.type]=n,e},{})}:null}var Ese={};function xse(e,t){var n=t.providerEntityID,r=Ese[n];return r||(r=t9(Object(Iy.createSelector)(function(e,t){return e.entities.providers[t]},Tse),function(e){return e}),Ese[n]=r),r(e,n)}var Ose=n(609),jse=n.n(Ose),Ase=Xf.a.createElement;function Nse(e){var t=e.className,n=e.isSelected,r=e.text,i=e.url,a=e.onLinkPress,o=e.onLinkFocus,s=wt()(e,["className","isSelected","text","url","onLinkPress","onLinkFocus"]);return Ase(RS,dv()({className:(t||"")+" "+(n&&jse.a.isPlaceholderSelected||""),tabIndex:"1",title:r,to:i,onPress:a,onFocus:o},s),r)}Nse.defaultProps={className:jse.a.placeholder};var kse=Nse;Dp.a.shape({identifier:Dp.a.string.isRequired,isLibraryProvider:Dp.a.bool.isRequired,isPopulated:Dp.a.bool.isRequired,protocols:Dp.a.object.isRequired,features:Dp.a.object.isRequired}),Dp.a.shape({machineIdentifier:Dp.a.string.isRequired,allowSync:Dp.a.bool,allowMediaDeletion:Dp.a.bool,transcoderVideo:Dp.a.bool,isFullServer:Dp.a.bool.isRequired,isFullOwnedServer:Dp.a.bool.isRequired});var Lse=function(e){var t=e.server,n=e.provider,r=e.query,i=e.searchAllServers,a=e.isSelected,o=e.onLinkPress,s=e.onLinkFocus;if(!t.isConnected)return null;var l=encodeURIComponent(t.machineIdentifier),c=encodeURIComponent(n.identifier),u=encodeURIComponent(r),d=t.isCloud?"#!/provider/"+c+"/search/"+u:"#!/server/"+l+"/search/"+u,p=i?Object(Xn.default)("Search all servers...",r):Object(Xn.default)("Show more results...",r);return hv()(kse,{isSelected:a,text:p,url:d,onLinkPress:o,onLinkFocus:s})},Rse=Xf.a.createElement,_se=Xf.a.Component;var Use={resetQuickSearch:cse,selectQuickSearchResult:hse},zse=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLinkPress=function(e){var n=t.props.serverEntityID;t.props.resetQuickSearch({serverEntityID:n}),dT()},t.onLinkFocus=function(e){t.props.selectQuickSearchResult({searchResultEntityID:null})},t}return Sy()(t,e),t.prototype.render=function(){return Rse(Lse,dv()({onLinkPress:this.onLinkPress,onLinkFocus:this.onLinkFocus},this.props))},t}(_se),Fse=Lm(Object(Iy.createSelector)(XS,xse,function(e){return e.ui.quickSearch},Py,function(e,t,n,r){return{server:e,provider:t,query:n.query,isSelected:!n.selectedResultEntityID,searchAllServers:r.searchAllServers}}),Use)(zse),Bse=n(932),Hse=n.n(Bse);var Vse=function(e){var t=e.children,n=e.title;return hv()("div",{},void 0,hv()("h5",{className:Hse.a.hubTitle,"data-qa-id":"quickSearchHub"},void 0,n),t)};function Qse(){return Object(Iy.createSelector)(function(e,t){return t.metadataItemEntityID},$N,function(e,t){return t[e]})}var Wse=Object(vl.a)(["id","typeString"],[{id:0,typeString:"tag",title:function(){return Object(Xn.default)("Tag")}},{id:1,typeString:"genre",title:function(){return Object(Xn.default)("Genre")}},{id:2,typeString:"collection",title:function(){return Object(Xn.default)("Collection")}},{id:3,typeString:"bookmark",title:function(){return Object(Xn.default)("Bookmark")}},{id:4,typeString:"director",title:function(){return Object(Xn.default)("Director")},isPerson:!0},{id:5,typeString:"writer",title:function(){return Object(Xn.default)("Writer")},isPerson:!0},{id:6,typeString:"actor",title:function(){return Object(Xn.default)("Actor")},isPerson:!0},{id:7,typeString:"producer",title:function(){return Object(Xn.default)("Producer")},isPerson:!0},{id:8,typeString:"country",title:function(){return Object(Xn.default)("Country")}},{id:9,typeString:"chapter",title:function(){return Object(Xn.default)("Chapter")}},{id:10,typeString:"review",title:function(){return Object(Xn.default)("Review")}},{id:11,typeString:"label",title:function(){return Object(Xn.default)("Label")}},{id:42,typeString:"versionBackgroundProcessingTarget",title:function(){return Object(Xn.default)("Version Background Processing Target")}},{id:200,typeString:"make",title:function(){return Object(Xn.default)("Make")}},{id:201,typeString:"model",title:function(){return Object(Xn.default)("Model")}},{id:202,typeString:"aperture",title:function(){return Object(Xn.default)("Aperture")}},{id:203,typeString:"exposure",title:function(){return Object(Xn.default)("Exposure")}},{id:204,typeString:"iso",title:function(){return Object(Xn.default)("ISO")}},{id:205,typeString:"lens",title:function(){return Object(Xn.default)("Lens")}},{id:206,typeString:"device",title:function(){return Object(Xn.default)("Device")}},{id:207,typeString:"autotag",title:function(){return Object(Xn.default)("Autotag")}},{id:400,typeString:"place",title:function(){return Object(Xn.default)("Place")}},{id:300,typeString:"mood",title:function(){return Object(Xn.default)("Mood")}},{id:301,typeString:"bpm",title:function(){return Object(Xn.default)("BPM")}},{id:302,typeString:"composer",title:function(){return Object(Xn.default)("Composer")}},{id:303,typeString:"featuring",title:function(){return Object(Xn.default)("Featuring")}},{id:304,typeString:"trackArtist",title:function(){return Object(Xn.default)("Track Artist")}},{id:305,typeString:"similarArtist",title:function(){return Object(Xn.default)("Similar Artist")}},{id:306,typeString:"concert",title:function(){return Object(Xn.default)("Concert")}}]);function Gse(e,t){var n=e.features.content;return n?gZ(n.directories,t):null}var Yse="analyzing";function Kse(e,t){void 0===t&&(t={});var n=t,r=n.allowMetrics,i=n.metricsProperties,a=void 0===i?{}:i,o=e.server,s="/library/metadata/"+e.get("ratingKey")+"/analyze",l=o.getXHROptions(s,{type:"PUT"}),c=e.get("mediaState"),u=Yse,d=Object(nr.u)(e.get("type"));d||e.set("mediaState",u);var p=P.a.ajax(l).fail(function(t){d||e.get("mediaState")!==u||e.set("mediaState",c)});return r&&Object(J.c)("metrics").trackClick(Object.assign({},a,{action:ca,type:e.get("type")})),p.promise()}function qse(e,t,n){var r=n.rating,i=n.allowMetrics,a=n.metricsProperties,o=void 0===a?{}:a,s=e.get("features").get(en).get("actions").get($t);if(!s)return P.a.Deferred().reject().promise();var l={key:t.get("ratingKey"),identifier:t.get("identifier"),rating:r},c=F.join(s.get("key"),l),u=e.getXHROptions(c,{type:"PUT"}),d=t.get("userRating"),p=-1===r?void 0:r;t.set("userRating",p);var h=P.a.ajax(u).fail(function(e){t.get("userRating")===p&&t.set("userRating",d)});return i&&Object(J.c)("metrics").trackClick(Object.assign({},o,{action:da,type:t.get("type"),rating:r})),h.promise()}var Zse="queued",Xse="matching",Jse="processing",$se="loading";function ele(e,t){void 0===t&&(t={});var n=t,r=n.allowMetrics,i=n.metricsProperties,a=void 0===i?{}:i,o=e.server,s="/library/metadata/"+e.get("ratingKey")+"/refresh",l=o.getXHROptions(s,{type:"PUT"}),c=e.get("metadataState"),u=Zse;e.set("metadataState",u);var d=P.a.ajax(l).fail(function(t){e.get("metadataState")===u&&e.set("metadataState",c)});return r&&Object(J.c)("metrics").trackClick(Object.assign({},a,{action:la,type:e.get("type")})),d.promise()}var tle=function(e,t,n){var r=t.get("key"),i=F.join([r,"prefs"],n),a=e.getXHROptions(i,{type:"PUT"});t.set({isSettingsUpdating:!0,settingsUpdateError:null});var o=P.a.ajax(a);return o.then(function(){t.set("isSettingsUpdating",!1)},function(e){t.set({isSettingsUpdating:!1,settingsUpdateError:Gi(e)})}),o};function nle(e,t){void 0===t&&(t={});var n=t,r=n.played,i=n.providerEntityID,a=n.serverEntityID,o=n.metadataItemEntityID,s=Co(e,t);if(null==s){return P.a.Deferred().reject({errorMessage:"Could not find providerModel with provided `providerEntityID`"}).promise()}if(null==bo(e,t)){return P.a.Deferred().reject({errorMessage:"Could not find serverModel with provided `serverEntityID`"}).promise()}var l=Eo(e,{metadataItemEntityID:o});if(null==l){return P.a.Deferred().reject({errorMessage:"Could not find metadataModel with provided `metadataItemEntityID`"}).promise()}var c=s.get("features").get(en).get("actions").get(Zt),u=r?c.get("key"):c.get("reverseKey"),d={identifier:l.get("identifier")||"com.plexapp.plugins.library",key:l.get("ratingKey")},p=F.join(u,d),h=P.a.ajax(s.getXHROptions(p));return h.then(function(){var t={providerEntityID:i,serverEntityID:a,metadataItemEntityID:l.entityID()};!function e(t,n,r,i){var a=Eo(t,n);if(!a)return;var o=Object(nr.r)(a.get("type"));var s=Object(Tr.a)(Er.h,a.get("parentKey"),n.serverEntityID);var l=Eo(t,{metadataItemEntityID:s});var c;l&&(c=Object(nr.r)(l.get("type")));if(c&&c.typeString===o.parent){var u,d=Object(nr.u)(a.get("type"));r?u=d?a.get("unviewedLeafCount"):1:(u=d?a.get("viewedLeafCount"):1,u*=-1);var p=null!=i?i:u;l.set({viewedLeafCount:l.get("viewedLeafCount")+p});var h=Object.assign({},n,{metadataItemEntityID:s});e(t,h,r,p)}}(e,t,r),function e(t,n,r){var i=Eo(t,n);if(!i)return;if(Object(nr.u)(i.get("type"))){i.set({viewedLeafCount:r?i.get("leafCount"):0});var a=Object(Tr.a)(Er.i,i.get("childrenKey"),n.providerEntityID||n.serverEntityID),o=function(e,t){var n=t.metadataListEntityID;return vo(e,Er.i,n)}(t,{metadataListEntityID:a});o&&o.get("metadataItems").forEach(function(i){var a=Object.assign({},n,{metadataItemEntityID:i.entityID()});e(t,a,r)})}else i.set({viewOffset:0,viewCount:r?1:0})}(e,t,r)}),h}var rle=10;var ile=function(e){return e.userRating===rle},ale=n(933),ole=n.n(ale),sle=Xc.extend({name:"downloadVersionModal",template:ole.a,serializeData:function(){var e=this.model;return{defaultLinkTarget:"_self",mediaItems:C.a.map(this.model.get("Media"),function(t,n){var r=C.a.clone(t);r.downloadUrl=e.getDownloadUrl(n);var i=e.getFilepath(n);return i&&(r.downloadName=F.getLastSegment(i)),r})}},onClick:function(){}}),lle=Ce.a.extend({name:"LibraryDirectoryModel",context:["server"],idAttribute:"key",rootPropertyName:"Directory",syncedAttrs:{key:Me.a.string,title:Me.a.string}}),cle=Ue.a.extend({name:"LibraryDirectoryCollection",context:["server"],model:lle}),ule=n(456),dle=n(457),ple=Ce.a.extend({name:"LibraryDetailsModel",context:["server","provider","includeAdvanced"],responseType:function(){return Object(Js.a)(this.server)},url:function(){var e={includeDetails:1};return this.includeAdvanced&&(e.includeAdvanced=1),F.join(this.get("key"),e)},sessionAttrs:{key:Me.a.string.isRequired},syncedAttrs:{librarySectionID:Me.a.string},syncedRelations:{directories:{relationClass:cle,rootPropertyName:"Directory"},types:{relationClass:dle.a,rootPropertyName:"Type"},fieldTypes:{relationClass:ule.a,rootPropertyName:"FieldType"}},augmentResponse:function(e){if(e.Directory&&e.Directory.length&&e.Directory.some(function(e){return"folder"===e.key})&&e.Type&&e.Type.length&&e.Type.every(function(e){return"folder"!==e.type})){var t=e.librarySectionID;e.Type.push({key:"/library/sections/"+t+"/folder",type:"folder",title:Object(Xn.default)("Folders")})}return e}}),hle="tag",fle="string",gle="boolean",vle="date",mle="rating",yle=Ce.a.extend({name:"TagModel",context:["server","section"],idAttribute:"tag",syncedAttrs:{id:Me.a.integer,tag:{type:Me.a.string,save:!0},tagType:Me.a.integer,librarySectionID:Me.a.string,librarySectionKey:Me.a.string,librarySectionType:Me.a.integer,filter:Me.a.string,role:Me.a.string,thumb:Me.a.string,count:Me.a.integer,context:Me.a.string}}),ble=Ue.a.extend({name:"TagCollection",context:["server","section"],model:yle}),Sle=Ce.a.extend({name:"LockedFieldModel",context:["server","section"],idAttribute:"name",syncedAttrs:{name:{type:Me.a.string,save:!0},locked:{type:Me.a.boolean,save:!0}}}),Ile=Ue.a.extend({name:"LockedFieldCollection",context:["server","section"],model:Sle}),Cle={Autotag:"autotags",Collection:"collections",Composer:"composers",Conductor:"conductors",Country:"countries",Director:"directors",Genre:"genres",Label:"labels",Mood:"moods",Producer:"producers",Role:"roles",Similar:"similar",Style:"styles",Tag:"tags",Writer:"writers"},Mle={album:{title:"title",parentRatingKey:"artist.id",parentTitle:"artist.title"},track:{parentRatingKey:"album.id",parentTitle:"album.title",grandparentRatingKey:"artist.id",grandparentTitle:"artist.title"}},Dle=Ce.a.extend({name:"MultiMetadataModel",context:["server","section"],rootPropertyName:"Common",isNew:function(){return!1},url:function(){return F.join([this.sectionUrl(),"common"],this.getUrlParams())},saveUrl:function(){return F.join([this.sectionUrl(),"all"],this.getUrlParams())},sectionUrl:function(){return C.a.result(this.section,"url")},sessionAttrs:{metadataItems:Me.a.array.isRequired,editableTags:Me.a.array,originalSaveParams:Me.a.object,poster:Me.a.string,banner:Me.a.string,art:Me.a.string},syncedAttrs:{mixedFields:Me.a.list.isRequired,key:{type:Me.a.string,save:!0},ratingKey:{type:Me.a.string,save:!0},parentRatingKey:{type:Me.a.string,save:!0},grandparentRatingKey:{type:Me.a.string,save:!0},title:{type:Me.a.string,save:!0},titleSort:{type:Me.a.string,save:!0},originalTitle:{type:Me.a.string,save:!0},parentTitle:{type:Me.a.string,save:!0},grandparentTitle:{type:Me.a.string,save:!0},year:{type:Me.a.string,save:!0},tagline:{type:Me.a.string,save:!0},summary:{type:Me.a.string,save:!0},studio:{type:Me.a.string,save:!0},contentRating:{type:Me.a.string,save:!0},originallyAvailableAt:{type:Me.a.string,save:!0},rating:{type:Me.a.float,save:!0},userRating:{type:Me.a.float,save:!0},index:{type:Me.a.integer,save:!0},parentIndex:{type:Me.a.integer,save:!0}},sessionRelations:{preferences:{relationClass:Nx.a}},syncedRelations:Object.keys(Cle).reduce(function(e,t){return e[Cle[t]]={relationClass:ble,rootPropertyName:t,save:!0},e},{lockedFields:{relationClass:Ile,rootPropertyName:"Field",save:!0}}),derivedAttrs:{type:function(){var e=this.getSingleMetadataItem();if(e)return e.get("type")},aggregateTitle:function(){if(this.get("metadataItems").length)return Fl.title(null,{items:this.get("metadataItems")})},isSingleMetadataItem:function(){return 1===this.get("metadataItems").length}},defaults:function(){return{metadataItems:[],mixedFields:[]}},initialize:function(e,t){this.set("metadataItems",C.a.clone(t.metadataItems))},getSingleMetadataItem:function(){return C.a.first(this.get("metadataItems"))},getUrlParams:function(){var e=Object(nr.r)(this.get("type")),t=C.a.map(this.get("metadataItems"),function(e){return e.get("ratingKey")});return{type:e.id,id:t.join(","),includeExternalMedia:1}},getSaveParams:function(){var e=this,t=Ce.a.prototype.getSaveParams.apply(this,arguments),n=this.get("originalSaveParams");if(!n)return t;var r={};if(C.a.each(t,function(t,i){var a=n[i];C.a.isEqual(t,a)||C.a.extend(r,e.getSaveParam(i,t,a))}),r.isReparenting){delete r.isReparenting;var i=Mle[this.get("type")];C.a.each(i,function(t,n){var i=t+".value",a=e.getQueryAttrSibling(t)+".value",o=C.a.has(r,i),s=C.a.has(r,a);if(o&&s&&i!==a&&delete r[a],!o&&!s){var l=e.get(n);l&&(r[i]=l)}})}return r},getSaveParam:function(e,t,n){var r;if("Field"===e)return this.getFieldSaveParams(e,t,n);if(Cle.hasOwnProperty(e))return this.getTagSaveParams(e,t,n);var i=Mle[this.get("type")];if(i&&C.a.has(i,e)){var a,o=i[e];return t?((a={isReparenting:!0})[o+".value"]=t,a):void 0}return(r={})[e+".value"]=t,r},getFieldSaveParams:function(e,t,n){return t.reduce(function(e,t){return e[t.name+".locked"]=t.locked,e},{})},getTagSaveParams:function(e,t,n){var r=C.a.map(t,function(e){return e.tag}),i=C.a.map(n,function(e){return e.tag}),a=C.a.without.apply(C.a,[i].concat(r)),o=e.toLowerCase(),s={};return r.forEach(function(e,t){s[o+"["+t+"].tag.tag"]=e}),a.length&&(s[o+"[].tag.tag-"]=C.a.map(a,encodeURIComponent).join(",")),s},getQueryAttr:function(e){var t=this.get("type"),n=Mle[t];return n&&n[e]||e},getQueryAttrSibling:function(e){var t=this.getQueryAttr(e).match(/(^.*\.)(.*$)/);return t?t[1]+("id"===t[2]?"title":"id"):e}}),wle=U.Layout.extend({events:{"click .edit-lock-addon":"onLockClick","keyup .lockable-field:not(.selectized)":"onLockableFieldChange","change .lockable-field:not(.selectized)":"onLockableFieldChange"},ui:{form:".edit-metadata-form"},serializeData:function(){var e=this.model.get("lockedFields"),t={};e&&e.each(function(e){t[e.get("name")]=e.get("locked")});var n=this.model.toJSON(),r=this.model.get("mixedFields"),i={originallyAvailableAt:"YYYY-MM-DD",capturedTime:"YYYY-MM-DD HH:mm:ss"};return r&&r.forEach(function(e){i[e]=Object(Xn.default)("MIXED")}),{item:n,locked:t,placeholders:i,canReparent:this.canReparent,canEditSimilarArtists:this.canEditSimilarArtists,disableIndices:!this.canReparent,editableTags:{}}},flushChanges:function(){},getLockedFieldsArray:function(){var e=this.ui.form,t=this.model.get("lockedFields").reduce(function(e,t){return e[t.get("name")]=t.get("locked"),e},{});return e.find(".edit-lock-addon").each(function(e,n){var r=P()(n),i=r.data("field");r.hasClass("locked")?t[i]=!0:i in t&&(t[i]=!1)}),C.a.map(t,function(e,t){return{name:t,locked:e}})},onLockClick:function(e){e.preventDefault(),P()(e.currentTarget).hasClass("disabled")||P()(e.currentTarget).toggleClass("locked")},onLockableFieldChange:function(e){var t=e instanceof P.a?e:P()(e.currentTarget);if(!e.force){var n=t.data("original-value");if(void 0===n&&(n=t.attr("value")||t.val()),t.data("original-value",n),t.val()===n)return}t.siblings(".edit-lock-addon").addClass("locked")}}),Ple=n(448),Tle=n.n(Ple),Ele=wle.extend({template:Tle.a,serializeData:function(){var e=this.model.get("preferences"),t=this.model.getSingleMetadataItem().get("preferences");return e.length?t.reduce(function(t,n){var r=e.get(n.id);return r?t.push(r.toJSON()):t.push(n.toJSON()),t},[]):t.toJSON()},flushChanges:function(){var e=this.ui.form.serializeArray(),t=this.model.getSingleMetadataItem().get("preferences"),n=this.model.get("preferences");e.forEach(function(e){var r=n.get(e.name)||t.get(e.name),i=r.clone();i.parseAndSetValue(e.value),i.get("value")!==r.get("value")&&n.add(i,{merge:!0})})}}),xle=Ce.a.extend({name:"ArtworkModel",context:["server","artworkType"],idAttribute:"ratingKey",rootPropertyName:"Photo",syncedAttrs:{key:Me.a.string,ratingKey:Me.a.string,thumb:Me.a.string,selected:Me.a.boolean}},{types:{POSTER:"poster",ART:"art",BANNER:"banner"}}),Ole=Ue.a.extend({name:"ArtworkCollection",context:["server","artworkType"],model:xle,url:function(){var e=F.parseUrl(C.a.result(this.parent,"url")),t=F.join([e.pathname,this.artworkType+"s"],e.params);return t}}),jle=n(934),Ale=n.n(jle),Nle=U.Layout.extend({tagName:"span",template:Ale.a,regions:{poster:".media-poster"},initialize:function(e){var t=e.artworkType,n=150;"art"===t?n=240:"banner"===t&&(n=520),this.$el.addClass(t),this.image=new If({className:"media-poster-image",model:this.model,modelAttribute:"thumb",placeholderClass:ff[t],width:n,height:gf.getPosterHeight(t,n)})},bindings:{".artwork-option":{modelAttribute:"selected",manual:!0,formatter:function(e,t){t.toggleClass("selected",e)}}},onRender:function(){this.poster.show(this.image)}}),kle=Of.extend({className:"artwork-options-list",itemView:Nle}),Lle=n(935),Rle=n.n(Lle),_le=U.Layout.extend({template:Rle.a,dragStatus:0,ui:{upload:".upload-artwork-container",urlInput:"input[name=url]"},regions:{list:".artwork-list-container"},events:{dragenter:"onDragEnter",dragleave:"onDragLeave",dragover:"onDragOver",drop:"onDrop",keydown:"onKeyDown","change .artwork-file-control":"onFileChange","click .upload-url-btn":"onUploadUrlClick","click .cancel-url-btn":"onCancelUrlClick","click .submit-url-btn":"onUrlSubmit","submit #upload-form":"onUrlSubmit","click .upload-back-btn":"onUploadBackClick","click .artwork-option":"onArtworkOptionClick"},initialize:function(e){this.type=e.type,this.metadataItem=this.model.getSingleMetadataItem(),this.changes={},this.collection=new Ole([],{server:this.model.server,section:this.model.section,parent:this.metadataItem,artworkType:this.type}),this.collection.fetch()},serializeData:function(){return{showUpload:this.model.server.supports("artworkUpload"),showFileUpload:ve.a.hasFileUpload}},flushChanges:function(){this.model.set(this.changes)},uploadFiles:function(e){if(e&&e.length){this.changes={},this.ui.upload.removeClass("show-success show-error");var t=this.collection.url(),n=C.a.extend(this.model.server.getXHROptions(t),{type:"POST",processData:!1}),r=[],i=C.a.bind(function(e){/image\//.test(e.type)&&(n.data=e,r.push(P.a.ajax(n)))},this);C.a.each(e,i),r.length?(this.ui.upload.addClass("show-progress"),this.monitorUpload(P.a.when.apply(P.a,r))):this.ui.upload.addClass("show-error")}},uploadUrl:function(e){this.changes={},this.ui.upload.removeClass("show-form"),this.ui.upload.addClass("show-progress"),this.ui.urlInput.val("");var t=F.join(this.collection.url(),{url:e}),n=this.model.server.getXHROptions(t,{type:"POST"});this.monitorUpload(P.a.ajax(n))},monitorUpload:function(e){e.done(C.a.bind(function(){this.isClosed||this.ui.upload.addClass("show-success");var e={server:this.model.server,onlyIfCached:!0},t=new Qs.a({key:this.metadataItem.get("key")},e);C.a.isEmpty(t)||t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}),this.collection.fetch()},this)),e.fail(this.whenRendered(function(){this.ui.upload.addClass("show-error")})),e.always(this.whenRendered(function(){this.ui.upload.removeClass("show-progress")}))},onRender:function(){this.list.show(new kle({collection:this.collection,itemViewOptions:{artworkType:this.type}}))},onDragEnter:function(e){this.dragStatus++,this.ui.upload.addClass("drag-hover")},onDragLeave:function(e){this.dragStatus--,0===this.dragStatus&&this.ui.upload.removeClass("drag-hover")},onDragOver:function(e){e.preventDefault()},onDrop:function(e){e.preventDefault(),e.stopPropagation(),this.dragStatus=0,this.ui.upload.removeClass("drag-hover"),this.uploadFiles(e.originalEvent.dataTransfer.files)},onKeyDown:function(e){27===e.which&&this.ui.upload.hasClass("show-form")&&(e.preventDefault(),this.ui.upload.removeClass("show-form"))},onFileChange:function(e){this.uploadFiles(e.target.files)},onUploadUrlClick:function(e){e.preventDefault(),this.ui.upload.addClass("show-form"),this.ui.urlInput.focus()},onCancelUrlClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-form")},onUrlSubmit:function(e){e.preventDefault();var t=this.ui.urlInput.val();t?this.uploadUrl(t):this.ui.upload.removeClass("show-form")},onUploadBackClick:function(e){e.preventDefault(),this.ui.upload.removeClass("show-success show-error")},onArtworkOptionClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.data("ratingKey");this.$(".artwork-option.selected").removeClass("selected"),t.addClass("selected"),this.changes[this.type]=n}}),Ule=n(936),zle=n.n(Ule),Fle=U.ItemView.extend({className:"player-slider",template:zle.a,dragging:!1,ui:{thumb:".player-slider-thumb",track:".player-slider-track",progress:".player-slider-progress"},events:{mousedown:"onMouseDown",touchstart:"onTouchStart"},onlyAfterRender:["displayValue"],initialize:function(e){C.a.bindAll(this,"onMouseMove","onMouseUp","onTouchMove","onTouchEnd"),this.$document=P()(document),this.currentValue=e.value||0},startDragging:function(){this.dragging=!0,this.$el.addClass("active")},stopDragging:function(){this.dragging=!1,this.$el.removeClass("active"),this.triggerMethod("dragComplete")},updateForPosition:function(e,t){var n=this.getValueForPosition(e);this.setValue(n)&&this.displayValue(n,t)},getValueForPosition:function(e){var t=this.ui.track,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),n=Math.round(100*n)},setValue:function(e){return this.currentValue=e,this.trigger("change:value",e),!0},displayValue:function(e,t){this.ui.thumb.css("left",e+"%"),this.ui.progress.css("width",e+"%"),this.$el.data("value",e)},onRender:function(){this.displayValue(this.currentValue)},onClose:function(){this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd)},onMouseDown:function(e){e.preventDefault(),this.$document.on("mousemove",this.onMouseMove),this.$document.on("mouseup",this.onMouseUp),this.startDragging(),this.setValue(this.getValueForPosition(e.pageX))},onTouchStart:function(e){this.$document.on("touchmove",this.onTouchMove),this.$document.on("touchend",this.onTouchEnd),this.startDragging();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseMove:function(e){e.preventDefault(),this.updateForPosition(e.pageX)},onTouchMove:function(e){e.preventDefault();var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX)},onMouseUp:function(e){e.preventDefault(),this.$document.off("mousemove",this.onMouseMove),this.$document.off("mouseup",this.onMouseUp),this.updateForPosition(e.pageX),this.stopDragging()},onTouchEnd:function(e){this.$document.off("touchmove",this.onTouchMove),this.$document.off("touchend",this.onTouchEnd);var t=e.originalEvent.touches[0];t&&this.updateForPosition(t.pageX),this.stopDragging()}}),Ble=n(937),Hle=n.n(Ble),Vle=Fle.extend({tagName:"span",className:"rating star-rating",template:Hle.a,disabled:!0,modelEvents:{"change:rating":"onRatingChange","change:userRating":"onRatingChange"},events:C.a.extend({mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",mousemove:"onMouseMove"},Fle.prototype.events),initialize:function(e){Fle.prototype.initialize.apply(this,arguments);var t=this.model.server.get("shared")&&!this.model.server.get("multiuser");this.disabled=e.disabled||t,this.passive=e.passive,this.updateRating()},updateRating:function(){this.metadataRating=this.model.get("rating")||0,this.userRating=this.model.get("userRating"),this.setValue(this.userRating>0?this.userRating:this.metadataRating)},normalizeRating:function(e){return Math.round(e/2)},serializeData:function(){var e=this.normalizeRating(this.currentValue);return{stars:[e>0,e>1,e>2,e>3,e>4]}},getValueForPosition:function(e){var t=this.$el,n=(e-t.offset().left)/t.width();return n=Math.min(Math.max(n,0),1),n=2*Math.ceil(5*n)},persistValue:function(){var e=this.currentValue||-1;bt.execute("rate",{item:this.model,rating:e,passive:this.passive}),this.updateRating(),this.render()},displayValue:function(e){this.$el.data("value",e);var t=this.normalizeRating(e);this.$(".star-icon").each(function(e){var n=t>e;P()(this).toggleClass("star",n).toggleClass("dislikes",!n)}),this.$el.toggleClass("unrated",!e)},onRender:function(){Fle.prototype.onRender.apply(this,arguments),this.$el.toggleClass("unrated",!this.currentValue),this.$el.toggleClass("user-rating",this.userRating>0),this.$el.toggleClass("disabled",this.disabled)},onRatingChange:function(e,t){this.updateRating(),this.render()},onMouseEnter:function(e){this.disabled||(this.$el.addClass("user-rating"),this.$el.removeClass("unrated"))},onMouseLeave:function(e){this.disabled||this.render()},onMouseMove:function(e){if(!this.disabled)if(this.dragging)this.updateForPosition(e.pageX);else{var t=this.getValueForPosition(e.pageX);this.displayValue(t)}},onDragComplete:function(){this.disabled||this.persistValue()}}),Qle=Ce.a.extend({name:"MetadataAutocompleteResultModel",context:["server","section","multiMetadataItem","query"],idAttribute:"ratingKey",rootPropertyName:"Metadata",syncedAttrs:{elementName:Me.a.string,ratingKey:Me.a.string,parentRatingKey:Me.a.string,grandparentRatingKey:Me.a.string,type:Me.a.string,title:Me.a.string,parentTitle:Me.a.string,grandparentTitle:Me.a.string,tag:Me.a.string,tagType:Me.a.integer}});function Wle(e,t,n){var r=/!$/.test(n),i=/\.id$/.test(n);if(r||i)return e[n]=t,e;var a=n.match(/^(.+)\.(.+)/);return a&&(e.type=Object(nr.r)(a[1]).id,n=a[2]),e[n+".query"]=t,e}var Gle=Ue.a.extend({name:"MetadataAutocompleteResultCollection",context:["server","section","multiMetadataItem","query"],model:Qle,url:function(){var e={type:Object(nr.r)(this.multiMetadataItem.get("type")).id,limit:10};return e=C.a.reduce(this.query,Wle,e),F.join([this.multiMetadataItem.sectionUrl(),"autocomplete"],e)},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}}),Yle=function(e,t){var n=P()(t),r=n.attr("name"),i=r.replace(/parentTitle$/,"parentRatingKey");i===r&&(i=null);var a,o=e.model.getQueryAttr(r),s=e.model.getQueryAttrSibling(r),l=o!==r,c=l?"title":r,u=l?"ratingKey":c,d=e.model.get("type");a=l?o.match(/(^.*)\./)[1]:"title"===c?d:null;var p=n.data("scopeToAttr"),h=n.data("scopeToParam"),f=n.data("ratingKey"),g=!f;f&&(f=f.toString());var v=!l,m={};h&&e.listenTo(e,"reset_selectize:"+h,function(){E.loadedSearches={}});var y,b,S=e.model["original.updateValues."+r];S?(y=S.updateAttr,b=S.altUpdateAttr):(y=e.model.get(r),i&&(b=parseInt(e.model.get(i),10)),e.model["original.updateValues."+r]={updateAttr:y,altUpdateAttr:b});var I=e.model["original.general."+r];if(!I){I=[];var M={};M[c]=y,M.ratingKey=f,I=[M],e.model["original.general."+r]=I}var D=[e.model.get(i)||e.model.get(r)],w=function(){var e=E.$dropdown_content.children();E.$dropdown.toggleClass("hidden",e.length<=1)},T=function(){C.a.defer(w)};n.data("autocompleteAttr",c),n.data("updateAttr",r),i&&n.data("altUpdateAttr",i);var E=n.selectize({options:I,items:D,plugins:["restore_on_focus"],delimiter:null,create:!0,maxItems:1,labelField:c,valueField:u,sortField:c,searchField:[c],selectOnTab:!0,hideSelected:!1,highlight:!1,openOnFocus:!0,selectOnBlur:!0,createOnBlur:!0,persist:!0,addPrecedence:!0,allowEmptyOption:!0,allowCreateEmpty:v,manualInputWidth:!0,loadingClass:"",onFocus:function(){E.preloaded||(E.preloaded=!0,E.onSearchChange(E.$control_input.val()))},createFilter:function(e){return m[c]=e,!C()(this.options).findWhere(m)},load:function(t,n){if(t.length){var r={};if(r[o]=t,p){var i=e.model.get(p);if(!i)return void n();r[h]=i}new Gle([],{server:e.model.server,multiMetadataItem:e.model,query:r}).fetch().done(function(e){n(e.map(function(e){return e.toJSON()})),w()})}else n()},render:{option:function(e,t){var n;return n=(i?e.ratingKey===String(b):e[c]===y)?'<small class="autocomplete-annotate pull-right">('+(a&&!g?Object(Xn.default)("this {1}",a):Object(Xn.default)("original value"))+")</small>":"","<div>"+t(e[c])+n+"</div>"},option_create:function(e,t){return e.input?'<div class="create">'+t(e.input)+"</div>":'<div class="create hidden"></div>'}},onDropdownClose:function(){E.$dropdown.addClass("hidden")},onDropdownOpen:function(){E.$dropdown.addClass("hidden"),T()},onType:C.a.bind(function(e){if(E.canCreate(e)){var t=P()(E.$dropdown_content[0].childNodes[0]);E.setActiveOption(t)}T(),this.onLockableFieldChange({currentTarget:E.$input,force:!0})},e),onOptionAdd:function(e,t){var n=C.a.pick(t,c,"ratingKey");C.a.findWhere(I,n)||I.splice(I.length,0,t)},onChange:function(t){var i=this.options[t];if(i){if(l){var a=i.ratingKey===i[c];n.data("isText",a)}e.flushChanges();var u=e.model.changedAttributes();C.a.has(u,o)||C.a.has(u,s)?e.trigger("focusSubmit"):C.a.defer(function(){E.onBlur()}),e.trigger("reset_selectize:"+r),w()}}})[0].selectize;E.$dropdown.addClass("hidden")},Kle=n(938),qle=n.n(Kle),Zle=n(939),Xle=n.n(Zle),Jle=n(940),$le=n.n(Jle),ece=n(941),tce=n.n(ece),nce=n(942),rce=n.n(nce),ice=n(943),ace=n.n(ice),oce=n(944),sce=n.n(oce),lce=n(945),cce=n.n(lce),uce=n(946),dce=n.n(uce),pce=n(947),hce=n.n(pce),fce=n(948),gce=n.n(fce);function vce(e){return C.a.reduce(e,function(e,t){return e[t]=!0,e},{})}var mce={movie:rce.a,show:hce.a,season:dce.a,episode:tce.a,artist:Xle.a,album:qle.a,track:gce.a,photoalbum:ace.a,photo:sce.a,playlist:cce.a,collection:$le.a},yce=wle.extend({regions:{ratingRegion:".rating-region"},ui:C.a.extend({selectizeInputs:".selectize input[type=text]"},wle.prototype.ui),initialize:function(e){var t=this.model.get("type"),n=nr.r(t);this.template=mce[t]||mce[nr.g],this.canSelectize=this.model.server.supports("batchEdit")&&n,this.canReparent=this.model.server.supports("batchEdit")},serializeData:function(){return Object.assign({},wle.prototype.serializeData.apply(this),{supportsLinkedYears:this.model.server.supports("linkedYearMetadata"),section:this.model.section,metadataTypeName:this.model.get("type")})},flushChanges:function(){var e=this.ui.form,t=e.find(".selectize input[tabindex=-1]"),n=vce(C.a.pluck(t,"name")),r=vce(C.a.pluck(e.find("[type=number]"),"name")),i=C()(e.serializeArray()).reject(function(e){return n[e.name]},this),a=C.a.reduce(i,function(e,t){if(r[t.name]){var n=t.value.trim();if(n)return e[t.name]=parseFloat(n,10),e;if(!this.model.get(t.name))return e}return e[t.name]=t.value,e},{},this);C.a.each(t,function(e){var t=P()(e),n=t.data("updateAttr"),r=t.data("altUpdateAttr"),i=t.data("isText"),o=e.selectize.getValue();if(r)if(i)a[n]=o,a[r]=null;else{var s=e.selectize.options[o];if(s){var l=s[t.data("autocompleteAttr")];a[n]=l,a[r]=o}}else a[n]=o});var o=this.model.get("lockedFields");o&&o.set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(a)},markInvalid:function(e){this.$(".form-group").removeClass("has-error"),C()(e).each(function(e){var t=this.$('.form-group[data-attr="'+e+'"]');t.addClass("has-error"),t.find(".control-error").text(Object(Xn.default)("Required"))},this)},onRender:function(){if(this.$(".rating-region").length>0&&this.ratingRegion.show(new Vle({model:this.model,passive:!0})),this.canSelectize){var e=this;this.ui.selectizeInputs.each(function(t,n){Yle(e,n)})}}}),bce=n(949),Sce=n.n(bce),Ice=U.ItemView.extend({template:Sce.a,tagName:"li",className:"well",serializeData:function(){return{file:this.model.get("file")}}}),Cce=n(950),Mce=n.n(Cce),Dce=U.CompositeView.extend({template:Mce.a,className:"files",itemView:Ice,itemViewContainer:"ul",initialize:function(){this.collection=new Ri,this.populateParts().always(this.whenRendered(function(){this.$(".loading").addClass("hidden")}))},populateParts:function(){var e=this.collection;function t(e){var t=e.get("Media");if(t&&t.length)return C.a.each(t,n),t}function n(e){C.a.each(e.Part,r)}function r(t){e.push(t)}var i=this.model.getSingleMetadataItem();return t(i)?P.a.Deferred().resolve():i.populate().then(function(){if(!t(i)&&i.has("childrenKey")){var e=i.get("children"),n=e.get("metadataItems");if(!n.length)return e.populate().then(function(){n.each(t)});n.each(t)}})},flushChanges:function(){}}),wce=(n(1423),function(e,t){var n=P()(t),r=n.data("name"),i=n.data("query")||n.data("name"),a=n.data("attr"),o=!!n.data("only-delete"),s=e.model.get(a).toJSON(),l=C.a.pluck(s,"tag"),c=e.model["original.tag."+r];c||(c=C.a.clone(s),e.model["original.tag."+r]=c);var u=C.a.difference(l,C.a.pluck(c,"tag"));if(u.length){var d=C.a.map(u,function(e){return{tag:e}});d.unshift(c.length,0),c.splice.apply(c,d)}n.data("original-value",n.val()),n.selectize({options:c,items:l,plugins:["remove_button"],create:!0,hideDropdown:o,labelField:"tag",valueField:"tag",sortField:"tag",searchField:["tag"],highlight:!1,createFilter:function(e){return!C()(this.options).findWhere({tag:e})},onInitialize:function(){o&&(this.$control.off("click mousedown"),this.$control.addClass("no-input"),this.$control_input.prop("disabled",!0))},onChange:function(){e.onLockableFieldChange(n)},onFocus:function(){this.onSearchChange("")},loadingClass:"",load:function(t,n){if(i!==r||t.length&&e.canAutocomplete)if(e.model["original.allTagsAvailable."+r]||0===t.length)n();else{var a={};a[i]=t;var o=new Gle([],{server:e.model.server,multiMetadataItem:e.model,query:a}),s=i===r?function(e){return e.toJSON()}:function(e){return{tag:e.get(i)}};o.fetch().done(function(e){var t=e.map(s);n(t)}).fail(function(){n()})}else e.model["original.allTagsRequested."+r]?n():function(t){e.model["original.allTagsRequested."+r]=!0,new EZ.a({filter:r,filterType:"string"},{server:e.model.server,section:e.section,type:Object(nr.r)(e.model.get("type")).id}).get("options").populate().then(C.a.bind(function(n){e.model["original.allTagsAvailable."+r]=!0,t(n.map(function(e){return{tag:e.attributes.title}}))},e))}.call(e,n)},render:{item:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<span class="autocomplete-annotate">('+Object(Xn.default)("blank")+")</span>")+"</div>"},option:function(e,t){return'<div class="item">'+(e.tag?t(e.tag):'<small class="autocomplete-annotate">('+Object(Xn.default)("blank")+")</small>")+"</div>"}}})}),Pce=n(951),Tce=n.n(Pce),Ece=n(952),xce=n.n(Ece),Oce=n(953),jce=n.n(Oce),Ace=n(954),Nce=n.n(Ace),kce=n(955),Lce=n.n(kce),Rce=n(956),_ce=n.n(Rce),Uce=wle.extend({templatesByType:{movie:Nce.a,show:_ce.a,episode:jce.a,artist:xce.a,album:Tce.a,photo:Lce.a},ui:C.a.extend({tagInputs:".tag-input-hidden"},wle.prototype.ui),events:C.a.extend({"change .lockable-field":"onLockableFieldChange"},wle.prototype.events),initialize:function(e){this.template=this.templatesByType[this.model.get("type")]||this.templatesByType.movie,this.canAutocomplete=this.model.server.supports("batchEdit"),this.canEditSimilarArtists=this.model.server.supports("editSimilarArtists"),this.getSection()},getSection:function(){var e=this.model.section;if(!e){var t=this.model.get("librarySectionID");e=new _l({key:t},{server:this.model.server})}this.section=e},flushChanges:function(){var e=this.ui.form,t=C.a.reduce(e.serializeArray(),function(e,t){return e[t.name]=t.value,e},{}),n=C.a.reduce(this.ui.tagInputs,function(e,t){var n=t.selectize,r=P()(t).data("name");return e[P()(t).data("attr")]=C.a.map(n.items,function(e){var t=n.options[e];return{tag:t.tag,id:t.id}}),this.model["original.tag."+r]=C.a.toArray(n.options),e},{},this);C.a.each(n,function(e,t){this.model.get(t).set(e,{parse:!0})},this),this.model.get("lockedFields").set(this.getLockedFieldsArray(),{parse:!0}),this.model.set(t)},serializeData:function(){return this.model.get("editableTags").reduce(function(e,t){return e.editableTags[t]=!0,e},wle.prototype.serializeData.apply(this,arguments))},onRender:function(){var e=this;this.ui.tagInputs.each(function(t,n){wce(e,n)})}}),zce=n(381),Fce=n.n(zce),Bce=Uce.extend({templatesByType:{movie:Fce.a,show:Fce.a,album:Fce.a,photo:Fce.a},serializeData:function(){var e=J.c("appModel").get("user"),t=Uce.prototype.serializeData.apply(this,arguments),n=e.get("features").get(Ty);return C.a.extend(t,{showLabels:this.model.server.supports("labels"),escapedLabelsMinVersion:Cc.labels,hasContentFilterFeature:n,plexPassUrl:e.server.get("plexPassUrl")}),t}}),Hce=n(449),Vce=n.n(Hce),Qce={movie:["general","tags","sharing","poster","art","info","advanced"],show:["general","tags","sharing","poster","banner","art","advanced"],season:["general","poster","art","info","advanced"],episode:["general","tags","poster","art","info","advanced"],artist:["general","tags","poster","art","advanced"],album:["general","tags","sharing","poster","art","info","advanced"],track:["general","info","advanced"],photoalbum:["general","poster","art","advanced"],photo:["general","tags","info","advanced"],clip:["general","info","advanced"],collection:["general","sharing","poster","art","info","advanced"]},Wce=["poster","art","banner","info","advanced"];var Gce=Lc.extend({mixins:[cg],name:"editMetadataModal",className:"edit-metadata-modal modal modal-lg fade",template:Vce.a,panes:{general:{constructor:yce},tags:{constructor:Uce},poster:{constructor:_le},art:{constructor:_le},banner:{constructor:_le},sharing:{constructor:Bce},info:{constructor:Dce},advanced:{constructor:Ele}},events:Object.assign({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Lc.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){var t=this;Lc.prototype.initialize.apply(this,arguments);var n=e.items||[this.model],r=n[0],i=r.server;this.model=new Dle({},{server:i,metadataItems:n}),r.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}}).then(function(){var e=Ul(r,{onlyIfCached:!1});return t.model.setContext("section",e),t.model.populate().then(function(){return e.get("key")})}).then(function(e){return function(e){var t=e.server,n=e.provider,r=e.metadataTypeName,i=e.sectionKey,a=new ple({key:"/library/sections/"+i},{server:t,provider:n,includeAdvanced:!0});return a.populate().then(function(){var e=a.get("types").findWhere({type:r});return e?e.get("fields").filter(function(e){return e.get("type")===hle}).map(function(e){return e.get("key")}):[]})}({server:i,provider:r.provider,metadataTypeName:t.model.get("type"),sectionKey:e})}).then(function(n){t.model.set({editableTags:n,originalSaveParams:t.model.getSaveParams()}),t.render(),t.showNav(),t.showPane(e.selectedPane||"general"),t.listenTo(z.a,"shortcut:save",t.saveChanges)},function(){t.ui.message.text(Object(Xn.default)("There was an error editing this item")),t.ui.loadingIndicator.addClass("hidden")})},serializeData:function(){var e=this.model.get("type"),t=Qce[e]||Qce[nr.g];this.model.get("isSingleMetadataItem")||(t=C.a.difference(t,Wce)),this.model.getSingleMetadataItem().has("preferences")||(t=C.a.difference(t,["advanced"])),this.model.getSingleMetadataItem().get("remoteMedia")&&(t=C.a.difference(t,["info"])),e!==nr.h||this.model.server.supports("photoTagEdit")||(t=C.a.difference(t,["tags"]));var n=Object(Xn.default)("Edit {1}",this.model.get("aggregateTitle"),{escape:!0});return{item:this.model.toJSON(),panes:$Z(t,function(e){return e},function(){return!0}),selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},invalidChangedAttrs:function(e){var t=[],n=this.model.get("type");if(n===nr.m){var r=C.a.has(e,"artist.id.value")||C.a.has(e,"artist.title.value")||C.a.has(e,"album.id.value")||C.a.has(e,"album.title.value"),i=e["album.id.value"]||e["album.title.value"],a=e["artist.id.value"]||e["artist.title.value"];!r||a&&i||(a||t.push("grandparentTitle"),i||t.push("parentTitle"))}else if(n===nr.a&&!this.model.get("isSingleMetadataItem")){var o=this.model.get("mixedFields"),s=C.a.has(e,"artist.title.value")||C.a.has(e,"artist.id.value"),l=C.a.includes(o,"ratingKey"),c=C.a.has(e,"title.value");l&&c&&!s&&t.push("parentTitle")}if(C.a.has(e,"originallyAvailableAt.value")){var u=e["originallyAvailableAt.value"];if(/^\d{4}$/.test(u)&&(e["originallyAvailableAt.value"]+="-01-01",u=e["originallyAvailableAt.value"]),""!==u){var d=Object(l0.a)(Pb(u,"yyyy-MM-dd",new Date)),p=Object(l0.a)(Pb(u,"yyyy-MM-dd HH:mm:ss",new Date));d||p||t.push("originallyAvailableAt")}else this.model.set("originallyAvailableAt",u)}return t},markInvalid:function(e){this.paneRegion.currentView.markInvalid(e)},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this,t=this.ui.saveBtn,n=this.ui.message;if(!t.isDisabled()){n.text(""),this.paneRegion.currentView.flushChanges();var r=[],i=this.model.getSaveParams(),a=this.invalidChangedAttrs(i);if(a.length)this.markInvalid(a);else{t.addClass("active");var o=this.showAdvancedConfirmModal({saving:!0});o.done(function(){["poster","banner","art"].forEach(function(t){var n=e.model.get(t);n&&r.push(bt.execute("changeArtwork",{item:e.model.getSingleMetadataItem(),artworkType:t,artworkRatingKey:n}))}),r.push(e.savePreferences()),r.push(e.model.save());var i=P.a.when.apply(P.a,r);i.done(function(){var t=J.c("appStore").dispatch,n=e.model.server.entityID();n&&t(iu({serverEntityID:n})),e.hide()}),i.fail(function(){n.text(Object(Xn.default)("Your changes could not be saved."))}),i.always(function(){t.removeClass("active")})}),o.fail(function(){t.removeClass("active"),e.showPane("advanced")})}}},savePreferences:function(){var e=this.model.get("preferences");if(!e.length)return P.a.Deferred().resolve().promise();var t=this.model.getSingleMetadataItem(),n=F.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),i=P.a.ajax(r);return i.done(function(){var n=t.get("preferences");e.forEach(function(e){n.get(e.id).set("value",e.get("value"))})}),i},showAdvancedConfirmModal:function(){if(!this.model.get("preferences").some(function(e){return/^autoDeletion/.test(e.id)}))return P.a.Deferred().resolve().promise();var e=new Qc({title:Object(Xn.default)("Confirm Deletion Settings"),message:Object(Xn.default)("Deletion settings will take effect immediately! Files may be deleted and this can't be undone. Are you sure?"),confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("Cancel"),requireDoubleConfirm:!0,doubleConfirmMessage:Object(Xn.default)("Multiple files may be deleted."),doubleConfirmLabel:Object(Xn.default)("Yes, I'm sure"),hasDanger:!0});return z.a.trigger("show:modal",e),e.promise},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",function(){this.ui.saveBtn.focus()})},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),Yce=wle.extend({template:Tle.a,serializeData:function(){return this.model.get("preferences").toJSON()},flushChanges:function(){var e=this.ui.form.serializeArray(),t=this.model.get("preferences");e.forEach(function(e){var n=t.get(e.name),r=n.clone();r.parseAndSetValue(e.value),r.get("value")!==n.get("value")&&t.add(r,{merge:!0})})}}),Kce={playlist:["general","advanced"]},qce=Lc.extend({mixins:[cg],name:"editPlaylistModal",className:"edit-metadata-modal modal modal-lg fade",template:Vce.a,panes:{general:{constructor:yce},advanced:{constructor:Yce}},panesModel:"tempModel",events:C.a.extend({"click .change-pane-btn":"onChangePaneClick","click .save-btn":"onFormSubmit","submit .edit-metadata-form":"onFormSubmit"},Lc.prototype.events),ui:{saveBtn:".save-btn",message:".form-message",navPane:".modal-nav-pane",loadingIndicator:".modal-body-pane .loading-inline"},regions:{paneRegion:".pane-region"},onlyAfterRender:["saveChanges","showPane","showNav"],initialize:function(e){Lc.prototype.initialize.apply(this,arguments);var t=e.model;this.model=t;var n=t.fetch({usePopulatedParams:!0,data:{includePreferences:"1"}});(n=n.done(C.a.bind(function(){this.tempModel=t.clone(),this.render(),this.showNav(),this.showPane(e.selectedPane||"general"),this.listenTo(z.a,"shortcut:save",this.saveChanges)},this))).fail(C.a.bind(function(){this.ui.message.text(Object(Xn.default)("There was an error editing this item")),this.ui.loadingIndicator.addClass("hidden")},this))},serializeData:function(){var e=Kce[this.model.get("type")]||Kce.movie;this.model.has("preferences")||(e=C.a.difference(e,["advanced"]));var t=C.a.reduce(e,function(e,t){return e[t]=!0,e},{}),n=C.a.escape(Object(Xn.default)("Edit {1}",this.model.get("title")));return{item:this.model.toJSON(),panes:t,selectedPane:this.selectedPane,paneTitle:n}},paneConstructorArg:function(){return{type:this.selectedPane}},showNav:function(){this.ui.navPane.removeClass("hidden")},saveChanges:function(){var e=this,t=this.ui.saveBtn,n=this.ui.message;if(!t.isDisabled()){n.text(""),this.paneRegion.currentView.flushChanges();var r=C.a.reduce(this.model.changedAttributes(this.tempModel.attributes),function(t,n,r){return e.model.syncedAttrs[r]&&(t[r]=n),t},{});t.addClass("active");var i=[];C.a.isEmpty(r)||i.push(this.model.save(r)),i.push(this.savePreferences());var a=P.a.when.apply(P.a,i);a.done(C.a.bind(function(){this.hide()},this)),a.fail(function(){n.text(Object(Xn.default)("Your changes could not be saved."))}),a.always(function(){t.removeClass("active")})}},savePreferences:function(){var e=this.tempModel.get("preferences");if(!e||!e.length)return P.a.Deferred().resolve().promise();var t=this.model,n=F.join(["/library/metadata",t.get("ratingKey"),"prefs"],e.getSaveParams()),r=this.model.server.getXHROptions(n,{type:"PUT"}),i=P.a.ajax(r);return i.done(function(){var n=t.get("preferences");e.forEach(function(e){n.get(e.id).set("value",e.get("value"))})}),i},onPaneShow:function(e,t){this.listenTo(t,"focusSubmit",function(){this.ui.saveBtn.focus()})},onPaneHide:function(e,t){t.flushChanges(),this.stopListening(t)},onFormSubmit:function(e){e.preventDefault(),this.saveChanges()}}),Zce=n(957),Xce=n.n(Zce),Jce=U.ItemView.extend({id:"auto-match-dropdown",tagName:"span",className:"dropdown",template:Xce.a,collectionEvents:{reset:"render"},events:{"click .auto-match-agent":"onClick"},serializeData:function(){return{agents:this.collection.toJSON()}},onClick:function(e){e.preventDefault();var t=P()(e.currentTarget).data("id"),n=this.model.agents.get(t);bt.execute("autoMatch",{item:this.model,agent:n})}}),$ce=n(958),eue=n.n($ce),tue=n(959),nue=n.n(tue);function rue(e){return C.a.map(e,function(e){return'<option value="'+e.value+'"'+(e.selected?" selected":"")+">"+e.label+"</option>"}).join("\n")}function iue(e,t){return e.map(function(e){return{label:e.get("name"),value:e.get("identifier"),selected:t===e.get("identifier")}})}function aue(e,t){return e?e.get("languages").map(function(e){return{label:e.get("name"),value:e.id,selected:e.id===t}}):[]}var oue=U.ItemView.extend({template:function(e){var t=e.item,n=e.scannerIdentifier;return t.type===nr.a&&"Plex Music"===n?eue()(e):nue()(e)},ui:{agentSelect:"#match-search-agent",languageSelect:"#match-search-language"},events:{"change #match-search-agent":"onAgentSelectChange"},onlyAfterRender:["updateAgents","updateLanguages"],initialize:function(){var e=Ul(this.model).get("agent"),t=this.setupAgents(e);t.then(C.a.bind(this.updateAgents,this,e)),t.then(C.a.bind(this.updateLanguages,this,e))},serializeData:function(){var e=Ul(this.model),t=e.get("agent"),n=this.model.agentsProxy.findWhere({identifier:t});return{item:this.model.toJSON(),agents:iue(this.model.agentsProxy,t),scannerIdentifier:e.get("scanner"),languages:aue(n)}},setupAgents:function(e){if(this.model.agentsPromise)return this.model.agentsPromise;var t=Ul(this.model).getSectionType(),n=new dj([],{server:this.model.server,mediaTypeID:t.typeID}),r=t.exclusiveAgents,i=new fj(n,r,e);return this.model.agents=n,this.model.agentsProxy=i,this.model.agentsPromise=this.model.agents.populate({reset:!0,cancelable:!0}),this.model.agentsPromise},updateAgents:function(e){this.ui.agentSelect.html(rue(iue(this.model.agentsProxy,e)))},updateLanguages:function(e){var t=this.model.agentsProxy.findWhere({identifier:e});if(e){var n=Ul(this.model).get("language");this.ui.languageSelect.html(rue(aue(t,n)))}else this.ui.languageSelect.empty()},onAgentSelectChange:function(e){this.updateLanguages(e.currentTarget.value)},onModalClose:function(){this.model.agents=null,this.model.agentsProxy=null,this.model.agentsPromise=null}}),sue=n(580),lue=n(960),cue=n.n(lue),uue=U.ItemView.extend({template:cue.a}),due={collectionEvents:{"update reset sort":"onTracksUpdate"},markDiscNumbers:function(){if(this.collection.server.supports("premiumMusic")){var e=this.collection.reduce(function(e,t,n){var r=t.get("parentIndex");return r!==e.lastDiscNumber&&(e.markers[n]=r,e.lastDiscNumber=r,e.count+=1),e},{markers:{},lastDiscNumber:null,count:0});return this.discMarkers=e.markers,e.count}},onRender:function(){1!==this.markDiscNumbers()&&C.a.each(this.discMarkers,C.a.bind(function(e,t){this.$("li:eq("+t+") .disc-number").removeClass("hidden")},this))},onTracksUpdate:function(){this.render()}},pue=n(961),hue=n.n(pue),fue=U.ItemView.extend({tagName:"li",template:hue.a,className:"striped-list-item",serializeData:function(){var e=this.model.toJSON();return Object.assign({},e,{escapedParentIndex:C.a.escape(e.parentIndex)})}}),gue=Of.extend({mixins:[due],tagName:"ul",itemView:fue,className:"list"}),vue=/\d{4}/;var mue=function(e){var t=e.disambiguation,n=void 0===t?"":t,r=e.lifespanBegin,i=void 0===r?"":r,a=e.lifespanEnd,o=void 0===a?"":a,s=e.area,l=void 0===s?"":s,c=e.beginArea,u=void 0===c?"":c,d=i.match(vue),p=o.match(vue),h=[u,l,p?d+"-"+p:d].filter(Boolean);return n?[n,h.length?"("+h.join(", ")+")":null].filter(Boolean).join(" "):h.join(", ")},yue=n(962),bue=n.n(yue),Sue=U.Layout.extend({tagName:"li",className:"striped-list-item match-result-list-item row",template:bue.a,ui:{matchExtendedInfo:".match-extended-info"},regions:{childrenRegion:".children-region"},events:{"click .match-result":"onClick"},initialize:function(e){this.item=e.item},onRender:function(){var e=this.model.get("children");if(e){var t=e.first();t&&t.get("type")===nr.m&&(this.ui.matchExtendedInfo.removeClass("hidden"),this.childrenRegion.show(new gue({collection:e})))}},onClick:function(e){e.preventDefault(),bt.execute("match",{item:this.item,guid:this.model.id,name:this.model.get("name"),children:this.model.get("children")})},serializeData:function(){var e=this.model.toJSON();return{year:e.year,parentName:e.parentName,name:e.name,disambiguationInfo:mue(e),thumb:e.thumb,normalizedScore:e.normalizedScore,escapedNormalizedScore:C.a.escape(e.normalizedScore)}}}),Iue=Of.extend({tagName:"ul",className:"list match-result-list",itemView:Sue,emptyView:uue}),Cue=n(963),Mue=n.n(Cue),Due=U.Layout.extend({template:Mue.a,regions:{resultRegion:".result-region"},onlyAfterRender:["updateResults"],initialize:function(){this.setupResults();var e=Ul(this.model),t={manual:1},n={reset:!0,timeout:0,data:t};/com\.plexapp\.agents\.none:\/\//.test(this.model.get("guid"))&&C.a.extend(n,{data:C.a.extend(t,{agent:e.get("agent"),language:e.get("language")}),processData:!0}),this.model.results.populate(n).then(C.a.bind(this.updateResults,this))},setupResults:function(){if(!this.model.results){var e=this.model.results||new sue.default([],{server:this.model.server,parent:this.model});this.model.results=e}},updateResults:function(){this.resultRegion.show(new Iue({collection:this.model.results,itemViewOptions:{item:this.model}}))},onModalClose:function(){this.model.results=null}}),wue=n(964),Pue=n.n(wue),Tue=Lc.extend({mixins:[cg],name:"fixIncorrectMatch",className:"fix-incorrect-match-modal modal modal-lg fade",template:Pue.a,panes:{form:{constructor:oue},results:{constructor:Due}},ui:{searchBtn:".search-btn"},regions:{paneRegion:".pane-region",autoMatchDropdownRegion:".auto-match-dropdown-region"},events:C.a.extend({"click .auto-match-agent":"hide","click .match-result":"hide","click .search-options-btn":"onSearchOptionsClick","click .cancel-btn":"onCancelClick","click .search-btn":"onSearchClick","submit #fix-incorrect-match-form":"onSearchSubmit"},Lc.prototype.events),onlyAfterRender:["showPane","updateSearchBtn"],initialize:function(){Lc.prototype.initialize.apply(this,arguments),oue.prototype.setupAgents.apply(this),Due.prototype.setupResults.apply(this),this.showPane("results")},serializeData:function(){return{location:this.model.getLocation(),showNavigation:!this.model.isPlexMusicItem()}},updateSearchBtn:function(e){this.ui.searchBtn.toggleClass("disabled","form"!==e)},fetchResults:function(e){var t=C.a.reduce(e.serializeArray(),function(e,t){return e[t.name]=t.value,e},{manual:1});this.model.results.fetch({reset:!0,data:t,processData:!0,timeout:0})},bindings:{".modal-title-text":{modelAttribute:"guid",formatter:function(e){return/com\.plexapp\.agents\.none:\/\//.test(e)?Object(Xn.default)("Match"):Object(Xn.default)("Fix Match")}}},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.autoMatchDropdownRegion.show(new Jce({model:this.model,collection:this.model.agentsProxy}))},onPaneShow:function(e){this.updateSearchBtn(e)},onSearchOptionsClick:function(e){e.preventDefault(),this.showPane("form")},onCancelClick:function(e){e.preventDefault(),"results"!==this.selectedPane?this.showPane("results"):this.hide()},onSearchClick:function(e){e.preventDefault();var t=P()(e.currentTarget);if(!t.isDisabled()){var n=t.closest("form");this.fetchResults(n),this.showPane("results")}},onSearchSubmit:function(e){e.preventDefault();var t=P()(e.currentTarget);t.find("search-btn").isDisabled()||(this.fetchResults(t),this.showPane("results"))}}),Eue=n(289),xue={h264:10,hevc:30};var Oue=function(e,t){if(null==e||Number.isNaN(e))return"";var n=parseInt(e,10),r=xue[t||"h264"];return Number.isFinite(n)&&Number.isFinite(r)?(n/r).toFixed(1):String(e)},jue=n(299);var Aue=function(e){for(var t="",n=0,r=e.length;n<r;n++){var i=e.charAt(n),a=i.toUpperCase();t+=0===n?a:i===a?" "+a:i}return t},Nue=n(965),kue=n.n(Nue),Lue=["id","key","index","videoCodec","audioCodec","audioChannels","default","selected","languageCode","codecID","accessible","exists","provider","lines","minLines","follow","requiredBandwidths","deepAnalysisVersion","deepAnalysisDate"],Rue={size:gE,duration:TL,codec:NL,format:NL,container:NL,videoResolution:OL.default,bitrateMode:NL,accessible:jue.default,exists:jue.default,optimizedForStreaming:jue.default,timed:jue.default,file:F.getLastSegment},_ue={optimizedForStreaming:"Web Optimized",has64bitOffsets:"Has 64bit Offsets",cabac:"CABAC",postURL:"URL"},Uue={frameRate:" fps",dialogNorm:" dB",bitrate:" kbps",samplingRate:" Hz"},zue=function(e,t){var n={properties:[]};for(var r in e)if(r!==t&&-1===C.a.indexOf(Lue,r)){var i=_ue[r],a=e[r];"level"===r&&(a=Oue(a,e.codec)),Rue[r]&&(a=Rue[r](a)),a&&(Uue[r]&&(a+=Uue[r]),i||(i=Aue(r)),n.properties.push({name:i,value:a}))}return t&&e&&(n[t]=e[t]),n};function Fue(e){return C.a.map(e.get("Media"),function(e){return C.a.extend(zue(e,"Part"),{Part:C.a.map(e.Part,function(e){return C.a.extend(zue(e,"Stream"),{file:e.file,exists:!1!==e.exists,accessible:!1!==e.accessible,Stream:(t=e.Stream,n=C.a.reject(t,function(e){return e.id===Eue.a}),r=C.a.sortBy(n,"streamType"),C.a.map(r,function(e){return zue(e,"streamType")}))});var t,n,r})})})}var Bue,Hue=Lc.extend({name:"mediaInfoModal",className:"media-info-modal modal modal-lg fade",template:kue.a,ui:{scroller:".modal-body-scroll",files:".files > ul",stickyProps:".media > .props, .part > .props"},events:C.a.extend({"click .delete-btn":"onDeleteClick"},Lc.prototype.events),modelEvents:{"change:Media":"onMediaChange"},initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.bindAllWhenRendered("onMediaChange","onScroll"),this.loading=!1,this.media=Fue(this.model),this.loading=!0,this.model.fetch({usePopulatedParams:!0,data:{checkFiles:1,asyncCheckFiles:0}}).always(this.whenRendered(function(){this.model.changed.hasOwnProperty("Media")||this.updateMedia()}))},serializeData:function(){var e=this.model.get("key"),t=J.c("appModel").get("user"),n=this.model.server;return this.model.get("isLibraryItem")&&(e=F.join(e,{checkFiles:1,includeExtras:1,includeBandwidths:1})),{key:e,url:this.model.server.resolveUrl(e,{appendToken:!0}),media:this.media,hasFiles:this.hasFiles(),hasStreams:this.hasStreams()||this.loading,showDeleteFile:n.get("isFullOwnedServer")&&n.get("allowMediaDeletion")&&n.supports("specificMediaDeletion"),showFilepath:!n.get("shared")||t.isNinja(),loading:this.loading}},updateMedia:function(){this.loading=!1,this.rerender=!0,this.ui.scroller.off("scroll",this.onScroll),this.media=Fue(this.model),this.render()},hasFiles:function(){return!!C.a.chain(this.media).pluck("Part").flatten().pluck("file").compact().size().value()},hasStreams:function(){return!!C.a.chain(this.media).pluck("Part").flatten().pluck("Stream").flatten().size().value()},onRender:function(){Lc.prototype.onRender.apply(this,arguments),this.ui.scroller.on("scroll",this.onScroll),this.$el.tooltip({selector:".files .label",placement:"bottom"})},onClose:function(){this.ui.scroller.off("scroll",this.onScroll)},onMediaChange:function(){this.isHidden||(this.model.get("Media").length?this.updateMedia():this.hide())},onDeleteClick:function(e){e.preventDefault(),bt.execute("deleteMediaItem",{item:this.model,index:P()(e.currentTarget).data("media-item")})},onScroll:function(){var e=this.ui.scroller.scrollTop(),t=this.ui.scroller.offset().top;this.ui.files.length&&(t+=parseInt(this.ui.files.css("margin-bottom"),10)),t<0?setTimeout(this.onScroll,500):this.ui.stickyProps.each(function(){var n=P()(this),r=n.parent().height()-n.height(),i=e-this.parentNode.offsetTop,a=Math.min(Math.max(i,0),r);a&&a===i?(n.addClass("sticky"),n.css("top",t)):(n.removeClass("sticky"),n.css("top",a))})}}),Vue="metadata/analyzeMetadataItem",Que="metadata/deleteMetadataItem",Wue="metadata/deleteMetadataItemVersion",Gue="metadata/downloadMetadataItemVersion",Yue="metadata/editMetadataItem",Kue="metadata/fixMetadataItemMatch",que="metadata/getMetadataItemInfo",Zue="metadata/updateMetadataItemPlayedStatus",Xue="metadata/optimizeMetadataItem",Jue="metadata/rateMetadataItem",$ue="metadata/refreshMetadataItem",ede="metadata/splitMetadataItemApart",tde="metadata/syncMetadataItem",nde="metadata/unmatchMetadataItem",rde="metadata/changeMetadataItemField",ide="metadata/updateMetadataItemRefreshingState",ade="metadata/UPDATE_METADATA_SETTINGS",ode="CLEAR_METADATA_SETTINGS_ERROR",sde="metadata/updateDownloadAvailability",lde="metadata/updateDownloadAvailabilityFromDeletedTimeline",cde="metadata/setDownloadSubscriptionID",ude="metadata/unsetDownloadSubscriptionID",dde="metadata/updateDownloadSubscriptionIDs",pde=Mt(Vue),hde=Mt(Que),fde=Mt(Wue),gde=Mt(Gue),vde=Mt(Yue),mde=Mt(Kue),yde=Mt(que),bde=Mt(Zue),Sde=Mt(Xue),Ide=Mt(Jue),Cde=Mt($ue),Mde=Mt(ede),Dde=Mt(tde),wde=Mt(nde),Pde=Mt(rde),Tde=Mt(ide),Ede=Mt(ade),xde=Mt(ode),Ode=Mt(Jue,function(e){return Object.assign({},e,{rating:rle})}),jde=Mt(Jue,function(e){return Object.assign({},e,{rating:-1})}),Ade=Mt(Zue,function(e){return Object.assign({},e,{played:!1})}),Nde=Mt(Zue,function(e){return Object.assign({},e,{played:!0})}),kde=Mt(cde),Lde=Mt(ude),Rde=Mt(sde),_de=Mt(lde),Ude=Mt(dde);function zde(e,t,n,r){void 0===r&&(r={}),Object(J.c)("metrics").trackClick(Object.assign({page:n,action:e,type:t.get("type")},r))}var Fde=Object.assign({},Aae,((Bue={})[Vue]=function(e,t,n){var r=To(e,t),i=t.metricsPage;Kse(r,{allowMetrics:!!i,metricsProperties:{page:i}}).fail(function(e){n(au(Object(Xn.default)("There was a problem analyzing this item.")))})},Bue[Gue]=function(e,t){var n=To(e,t),r=new sle({model:n});z.a.trigger("show:modal",r)},Bue[Que]=function(e,t){var n=To(e,t),r=t.options||{},i=n.get("isPlaylist")?"deletePlaylist":"deleteItems";bt.execute(i,Object.assign({item:n},r)),zde("delete",n,t.metricsPage)},Bue[Wue]=function(e,t){var n=To(e,t);bt.execute("deleteVersions",{item:n}),zde("delete",n,t.metricsPage)},Bue[Yue]=function(e,t){var n=To(e,t),r=n.get("isPlaylist")?new qce({model:n}):new Gce({model:n});z.a.trigger("show:modal",r),zde("edit",n,t.metricsPage)},Bue[Kue]=function(e,t){var n=To(e,t);n.server.get("sections").populate().then(function(){var e=new Tue({model:n});z.a.trigger("show:modal",e),zde("fixMatch",n,t.metricsPage)})},Bue[que]=function(e,t){var n=To(e,t),r=new Hue({model:n});z.a.trigger("show:modal",r),zde("getInfo",n,t.metricsPage)},Bue[Zue]=function(e,t,n){var r=To(e,t);nle(e,t).then(function(){n(iu({serverEntityID:t.serverEntityID}))},function(){var e=t.played?Object(Xn.default)("There was an unexpected error marking an item played."):Object(Xn.default)("There was an unexpected error marking an item unplayed.");n(au(e))}),zde(t.played?"markAsWatched":"markAsUnwatched",r,t.metricsPage)},Bue[Xue]=function(e,t){var n=To(e,t),r=new G6({item:n});z.a.trigger("show:modal",r),zde("optimize",n,t.metricsPage)},Bue[Jue]=function(e,t,n){var r=t.rating,i=t.metricsPage;qse(Co(e,t),To(e,t),{rating:r,allowMetrics:!!i,metricsProperties:{page:i}}).fail(function(e){n(au(Object(Xn.default)("There was a problem rating this item.")))})},Bue[$ue]=function(e,t,n){var r=To(e,t),i=t.metricsPage;ele(r,{allowMetrics:!!i,metricsProperties:{page:i}}).fail(function(e){503===e.status?z.a.trigger("show:modal",new zc({model:r.server})):n(au(Object(Xn.default)("There was a problem refreshing this item.")))})},Bue[ede]=function(e,t,n){var r=To(e,t);bt.execute("splitApart",{item:r,skipNavigate:!0}).done(function(){n(iu({serverEntityID:t.serverEntityID}))}),zde("splitApart",r,t.metricsPage)},Bue[tde]=function(e,t){var n=To(e,t);bt.execute("showSyncModal",{item:n}),zde("sync",n,t.metricsPage)},Bue[nde]=function(e,t){var n=To(e,t);bt.execute("unmatch",{item:n}),zde("unmatch",n,t.metricsPage)},Bue[rde]=function(e,t,n){var r,i=t.providerEntityID,a=t.metadataItemEntityID,o=t.name,s=t.value,l=t.save,c=To(e,{metadataItemEntityID:a});if(l){var u=Co(e,{providerEntityID:i}),d=F.join(c.get("key"),((r={})[o]=s,r[o+".locked"]=1,r)),p=u.getXHROptions(d,{type:"PUT"});P.a.ajax(p).fail(function(e){n(au(Object(Xn.default)("There was a problem editing this item.")))}),zde("edit",c,t.metricsPage)}else{var h;c.set(((h={})[o]=s,h))}},Bue[ide]=function(e,t){var n=Eo(e,t);n&&n.set({metadataState:t.metadataState,mediaState:t.mediaState})},Bue[ade]=function(e,t,n){var r=Co(e,t),i=To(e,t),a=t.data;tle(r,i,a).then(function(){n(Pae({serverEntityID:t.serverEntityID,metadataItemEntityID:t.metadataItemEntityID}))})},Bue[ode]=function(e,t,n){To(e,t).set("settingsUpdateError",null)},Bue[sde]=function(){},Bue[dde]=function(){},Bue)),Bde=Object(Iy.createSelector)(Cy,function(e){return e.searchResults});function Hde(){return Object(Iy.createSelector)(Bde,function(e,t){return t.searchResultEntityID},function(e,t){return e[t]})}function Vde(e){return e.thumb||e.parentThumb||e.grandparentThumb}function Qde(e){return e.art||e.parentArt||e.grandparentArt}function Wde(e,t,n,r){if(r)switch(r){case Tp:switch(t){case $n:switch(e){case nr.m:return n.thumb||n.grandparentThumb}}switch(e){case nr.k:case nr.e:case nr.a:case nr.m:return n.thumb}break;case Pp:case kp:switch(e){case nr.g:return Qde(n);case nr.e:return Qde(n)||n.thumb}break;case jp:switch(e){case nr.g:return Qde(n);case nr.e:return n.thumb||Qde(n)}break;case Ap:case Ep:case _p:switch(e){case nr.e:return n.thumb}}switch(t){case $n:switch(e){case nr.l:return n.thumb;case nr.m:return n.grandparentThumb||n.thumb}break;case er:switch(e){case nr.e:return n.thumb}}switch(e){case nr.g:case nr.l:return n.thumb;case nr.k:return Vde(n);case nr.e:return n.grandparentThumb;case nr.b:return n.thumb;case nr.a:case nr.m:return Vde(n);case nr.h:case nr.i:case nr.c:return n.thumb;case nr.j:return n.thumb||n.composite;default:return n.thumb}}function Gde(e,t,n,r,i,a){var o=null==e?ML(t,n,r,a):e,s=null==t?DL(e,n,r,a):t;return{url:Wde(n,r,i,a),width:o,height:s}}function Yde(e,t,n){return Object.assign({},e,n,t)}function Kde(e,t,n,r,i){void 0===n&&(n={});var a=n.type,o=n.subtype,s=n.playlistType,l=n.key;if(!n.skipDetails&&a!==nr.h)return a===nr.m&&o!==$n&&(l=n.skipParent?n.grandparentKey:n.parentKey),!l&&n.librarySectionID?nj(e,t,i,r):Og(e,t,l,r,s)}function qde(e,t){var n=t.metadataItemEntityID,r=e.entities.metadataItems[n],i=r&&r.providerEntityID;if(i)return xse(e,{providerEntityID:i})}var Zde=Mt("downloads/cancelDownloadActivity"),Xde=Mt("downloads/createDownloadSubscription"),Jde=(Mt("downloads/deleteDownloadState"),Mt("downloads/deleteDownloadSubscription"));Mt("downloads/fetchDownloadSubscriptions"),Mt("downloads/populateDownloadSubscriptions"),Mt("downloads/processDownloadSubscriptions"),Mt("downloads/retryDownloadSubscription"),Mt("downloads/saveDownloadSubscription"),Mt("downloads/syncDownloadViewstate"),Mt("downloads/updateDownloadState"),Qx({});function $de(e,t){var n=t.metadataItemEntityID,r=e.entities.metadataItems[n],i=r&&r.serverEntityID;if(i)return XS(e,{serverEntityID:i})}var epe,tpe="tidal";function npe(e,t,n,r){if(!(e&&t&&n&&r))return!1;var i=r.type,a=r.hasInvalidKey,o=r.deletedAt,s=r.isFolder,l=r.isMetadataList,c=r.firstItemType,u=r.onAir;if(!l&&(a||o||s))return!1;if(!t.protocols.stream&&!u)return!1;if(t.features.playqueue)return!0;if(l&&!c)return!1;var d=!!n[xy];if(t.protocols.livetv&&(e.livetv<4||!d))return!1;if(t.protocols.livetv&&!te.a.get("allowLiveTVPlayback"))return!1;var p=l?c:i,h=Object(nr.q)(p),f=Object(nr.p)(p);return p===h.typeString||f.id===h.id}var rpe={showPlay:ape,showPlayVersion:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;if(!ape({server:t,provider:n,stableUser:r,metadataItem:i}))return!1;return n.isLibraryProvider&&i.Media&&i.Media.length>1},showPlayAll:ape,showShuffle:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;if(i.radio)return!1;return ape({server:t,provider:n,stableUser:r,metadataItem:i})&&!!n.features.playqueue},showQueue:ope,showPlayTrailer:spe,showPlayPlexMix:lpe,showQueuePlexMix:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;return lpe({server:t,provider:n,stableUser:r,metadataItem:i})},showPlayMusicVideo:spe,showPlayRadio:function(e){e.server,e.provider,e.stableUser;return!!e.metadataItem.hasRadioStation},showPlayArtistTV:function(e){e.server,e.provider;var t=e.stableUser,n=e.metadataItem;return t.features[Ey]&&!!n.hasArtistTVStation},showAddToAlbum:cpe,showAddToPicks:function(e){e.server;var t=e.provider,n=e.stableUser;e.metadataItem;return!!(n.features[Uy]&&t.features.actions&&t.features.actions.pick)},showAddToPlaylist:upe,showAddToSaved:function(e){e.server;var t=e.provider,n=e.stableUser,r=e.metadataItem;if(!t)return!1;var i=t.features.actions.save;if(!i||i.requires&&!n.services[i.requires])return!1;return null!=r.saved},showAddToLibrary:function(e){e.server;var t=e.provider,n=e.stableUser,r=e.metadataItem;if(!t)return;var i=r.type===nr.m||r.type===nr.a||r.type===nr.b,a=Cn.i(t.identifier,Cn.e),o=!!n.features[zy],s=!!n.services[tpe];return i&&a&&o&&s},showFavorite:dpe,showUnfavorite:ppe,showMarkPlayed:hpe,showMarkUnplayed:fpe,showSettings:function(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem.preferences);return!t.features.manage&&null!=n},showEdit:gpe,showRefresh:vpe,showAnalyze:mpe,showFixMatch:ype,showMatch:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;if(!gpe({server:t,provider:n,stableUser:r,metadataItem:i}))return!1;if(!i.guid)return!1;return!ype({server:t,provider:n,stableUser:r,metadataItem:i})},showUnmatch:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;return ype({server:t,provider:n,stableUser:r,metadataItem:i})},showSplitApart:function(e){var t,n=e.server,r=e.provider,i=e.stableUser,a=e.metadataItem;if(!gpe({server:n,provider:r,stableUser:i,metadataItem:a}))return!1;t=nr.v(a.type)?a.Location:C.a.filter(a.Media,function(e){return!e.proxyType});return t.length>1},showSync:bpe,showSyncDownload:function(e){var t=e.server,n=e.provider,r=(e.stableUser,e.metadataItem);if(!te.a.get("allowSyncDownload"))return!1;if(!n)return!1;if(!Cn.a.includes(n.identifier))return!1;if(r.isPlaylist&&r.playlistType===rr.b)return!1;if(r.isDownloaded&&!r.downloadSubscriptionID)return!1;if(!r.hasOwnProperty("guid"))return!1;if(r.remoteMedia)return!1;var i=t.allowSync||r.subtype===$n,a=n.features[cn];return i&&!!a&&a.flavor===Tee},showOptimize:Spe,showDownload:function(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem);if(!te.a.get("allowDirectDownload"))return!1;return!(!t.protocols.download||n.isExtra||n.source||n.remoteMedia)},showDelete:Ipe,showDeleteVersion:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;if(!gpe({server:t,provider:n,stableUser:r,metadataItem:i}))return!1;if(!t.allowMediaDeletion)return!1;return C.a.filter(i.Media,function(e){return!!e.proxyType}).length>0},showViewPlayHistory:function(e){var t=e.server;e.provider,e.stableUser,e.metadataItem;return t.isFullOwnedServer&&!ur(t)},showGetInfo:function(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem);return!!t&&t.isLibraryProvider&&!n.isExtra},showSelect:Cpe},ipe=((epe={})[nr.g]=["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo","showSelect"],epe[nr.l]=["showPlay","showPlayAll","showShuffle","showQueue","showPlayTrailer","showAddToPicks","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDelete","showViewPlayHistory","showSelect"],epe[nr.k]=["showPlay","showPlayAll","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showOptimize","showDelete","showViewPlayHistory","showSelect"],epe[nr.e]=["showPlay","showPlayVersion","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showSync","showSyncDownload","showOptimize","showDownload","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo","showSelect"],epe[nr.b]=["showPlay","showShuffle","showPlayRadio","showPlayArtistTV","showQueue","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showDelete","showViewPlayHistory","showSelect"],epe[nr.a]=["showPlay","showShuffle","showQueue","showAddToPicks","showAddToPlaylist","showAddToSaved","showAddToLibrary","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showDelete","showViewPlayHistory","showSelect"],epe[nr.m]=["showPlay","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayMusicVideo","showAddToPlaylist","showAddToSaved","showAddToLibrary","showMarkPlayed","showMarkUnplayed","showEdit","showAnalyze","showSync","showSyncDownload","showDownload","showDelete","showViewPlayHistory","showGetInfo","showSelect"],epe[nr.i]=["showPlay","showShuffle","showAddToAlbum","showEdit","showAnalyze","showSync","showSelect"],epe[nr.h]=["showPlay","showAddToAlbum","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDownload","showDelete","showGetInfo","showSelect"],epe[nr.c]=["showPlay","showPlayVersion","showQueue","showPlayTrailer","showAddToPlaylist","showAddToSaved","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo","showSelect"],epe[nr.j]=["showDelete","showEdit","showPlay","showQueue","showShuffle","showAddToSaved","showSync","showSyncDownload","showSelect","showEdit"],epe[nr.d]=["showPlay","showQueue","showShuffle","showAddToPlaylist","showEdit","showSync","showDelete"],epe);function ape(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;return npe(t,n,r.features,i)}function ope(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem,a=ape({server:t,provider:n,stableUser:r,metadataItem:i}),o=i.isExtra&&i.isPremium;return a&&!!n.features.playqueue&&!o}function spe(e){e.server,e.provider,e.stableUser;return!!e.metadataItem.primaryExtraKey}function lpe(e){e.server,e.provider,e.stableUser;var t=e.metadataItem;return!(!t.related||!t.related.find(function(e){return/similarPlaylist/.test(e)}))}function cpe(e){return upe({server:e.server,provider:e.provider,stableUser:e.stableUser,metadataItem:e.metadataItem})}function upe(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;if(!n)return!1;var a=n.features.playlist;return!(!a||a.requires&&!r.services[a.requires])&&(!(i.isExtra&&i.isPremium)&&!ur(t))}function dpe(e){e.server;var t=e.provider,n=e.stableUser,r=e.metadataItem;return!(!t.features.actions.rate||!n.features[Ay])&&(!nr.u(r.type)&&!ile(r))}function ppe(e){e.server;var t=e.provider,n=e.stableUser,r=e.metadataItem;return!(!t.features.actions.rate||!n.features[Ay])&&(!nr.u(r.type)&&ile(r))}function hpe(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem);return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.key)||t.protocols.livetv||n.type===nr.m&&n.subtype!==$n||null!=n.saved&&!n.saved&&!n.viewOffset||n.isExtra)&&(nr.v(n.type)?n.unviewedLeafCount>0:!n.viewCount||!!n.viewOffset)}function fpe(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem);return!(!(t&&t.features.actions&&t.features.actions.scrobble&&t.features.actions.scrobble.reverseKey)||t.protocols.livetv||n.type===nr.m&&n.subtype!==$n||null!=n.saved&&!n.saved||n.isExtra)&&(nr.v(n.type)?n.viewedLeafCount>0:!!n.viewCount||!!n.viewOffset)}function gpe(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem),r=n.isLibraryItem,i=n.isPlaylist,a=n.isExtra,o=n.isFolder,s=n.radio,l=n.readOnly,c=n.source,u=r&&!a&&!o&&!s&&!c;return i?!l:!!(t&&t.features.manage&&u)}function vpe(e){return gpe({server:e.server,provider:e.provider,stableUser:e.stableUser,metadataItem:e.metadataItem})}function mpe(e){return gpe({server:e.server,provider:e.provider,stableUser:e.stableUser,metadataItem:e.metadataItem})}function ype(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;return!!gpe({server:t,provider:n,stableUser:r,metadataItem:i})&&!(!i.guid||/(local|none):\/\//.test(i.guid))}function bpe(e){var t=e.server,n=(e.provider,e.stableUser,e.metadataItem);if(!te.a.get("allowSync"))return!1;if(!t.isFullServer)return!1;var r=n.allowSync,i=n.isExtra,a=n.isLibraryItem,o=n.isPlaylist,s=n.source,l=n.remoteMedia;return!(i||s||l||!a&&!o)&&!(!t.allowSync||!r)}function Spe(e){var t=e.server;return!!gpe({server:t,provider:e.provider,stableUser:e.stableUser,metadataItem:e.metadataItem})&&!(!t.transcoderVideo||!t.backgroundProcessing)}function Ipe(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem;return!!gpe({server:t,provider:n,stableUser:r,metadataItem:i})&&!(!i.isPlaylist&&i.type!==nr.d&&!t.allowMediaDeletion)}function Cpe(e){e.server;var t=e.provider,n=(e.stableUser,e.metadataItem);return!n.source&&!n.radio&&(t.isLibraryProvider&&!n.isFolder)}function Mpe(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataItem,a=e.listType,o=a&&ipe[a]?a:i.type,s=ipe[o];return s?s.reduce(function(e,a){var s=rpe[a];return Object(M.a)(C.a.isFunction(s),"getMetadataActionProps: Invalid action, "+a+", for "+o),e[a]=s({server:t,provider:n,stableUser:r,metadataItem:i}),e},{}):{}}function Dpe(){return Object(Iy.createSelector)(function(e,t){return t.listType},Qse(),$de,qde,sse,function(e,t,n,r,i){var a=t.type;return Mpe({server:n,provider:r,stableUser:i,metadataItem:t,listType:a===nr.d?a:e})})}function wpe(e){return e.embeddedServer}function Ppe(){return Object(Iy.createSelector)(Qse(),xse,XS,function(e,t,n){return e&&e.source||function(e){var t=e.providerIdentifier,n=void 0===t?Cn.d:t,r=e.serverIdentifier,i=e.metadataItemKey,a=e.parameters,o=r!==cv.a?"server://"+r+"/"+n:"provider://"+n;return i&&(o=""+o+i),a&&(o=F.join(o,a)),o}({providerIdentifier:t.identifier,serverIdentifier:n.machineIdentifier})})}var Tpe=n(102),Epe=t9(Object(Iy.createSelector)(wpe,My,function(e,t){return t[e]}),function(e){return e}),xpe=Object(Iy.createSelector)(Epe,function(e){return e?e.desktop.activities:[]});function Ope(e){return Object(Iy.createSelector)(xpe,function(t){return t.filter(function(t){return t.type===e})})}var jpe=Xf.a.useEffect,Ape={dispatchUpdateDownloadAvailability:Rde,dispatchUpdateDownloadSubscriptionIDs:Ude};function Npe(e){var t=e.dispatchUpdateDownloadAvailability,n=e.dispatchUpdateDownloadSubscriptionIDs,r=e.metadataItemEntityID,i=e.providerEntityID;return jpe(function(){var e={metadataItemEntityID:r,providerEntityID:i};t(e),n(e)},[t,n,r,i]),null}Npe.propTypes={metadataItemEntityID:Dp.a.string.isRequired,providerEntityID:Dp.a.string.isRequired,dispatchUpdateDownloadAvailability:Dp.a.func.isRequired,dispatchUpdateDownloadSubscriptionIDs:Dp.a.func.isRequired};var kpe=Lm(null,Ape)(Npe);var Lpe=function(e){return!(!e||!e.isDownloaded)};var Rpe=function(e){return!(!e||!e.downloadSubscriptionID)};var _pe=function(){return Object(Iy.createSelector)(function(e){return e.downloads.states},Ppe(),Object(Iy.createSelector)(Qse(),function(e){return e.ratingKey}),function(e,t,n){return e.find(function(e){return e.ratingKey===n&&e.sourceAttr===t})})},Upe=10,zpe=90;var Fpe=function(e){return Math.min(Math.max(e,Upe),zpe)},Bpe=Xf.a.createElement,Hpe=Xf.a.Fragment,Vpe=Xf.a.useCallback,Qpe=Xf.a.useState,Wpe=null,Gpe={SUBSCRIBE:"subscribe",CANCEL:"cancel",REMOVE:"remove",UPSELL:"upsell"};function Ype(e){var t=e.onCancelDownloadActivity,n=e.onCreateDownloadSubscription,r=e.onDeleteDownloadSubscription,i=Qpe({isOpen:!1,state:Wpe}),a=i[0],o=i[1],s=Vpe(function(e){var t=e===Gpe.SUBSCRIBE,r=e!==Wpe&&!t,i=t?Wpe:e;t&&n(),o({isOpen:r,state:i})},[n]),l=Vpe(function(){return o({isOpen:!1,state:Wpe})},[]),c=Vpe(function(){a.state===Gpe.CANCEL?t():a.state===Gpe.REMOVE&&r(),l()},[a.state,t,l,r]);return Object.assign({},a,{onPress:s,onClose:l,onConfirm:c})}var Kpe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isDisabled},Qse(),_pe(),(e=Tx,Object(Iy.createSelector)(Qse(),Ppe(),Ope(e),function(e,t,n){var r=Object(Tpe.a)(t);return n.find(function(t){var n=t.Context,i=!1;if(n.itemKey===e.key){var a=Object(Tpe.a)(n.source);i=r.serverIdentifier===a.serverIdentifier&&r.providerIdentifier===a.providerIdentifier}return i})})),XS,wy,wpe,function(e,t,n,r,i,a,o){var s=!!n,l=Lpe(t),c=Rpe(t);return{canCancel:!!r&&r.cancellable,canRemove:c,canShowUpsell:i.isFullOwnedServer&&!a.hasPlexSubscription&&t.subtype!==$n,canSubscribe:!c,hasDownloadState:s,hasOfflineFile:l,hasOwnSubscription:c,isDisabled:e||!o,progress:r&&Fpe(r.progress)}});var e},function(e,t){return{}})(function(e){var t,n=e.component,r=e.canCancel,i=e.canRemove,a=e.canShowUpsell,o=e.canSubscribe,s=e.metadataItemEntityID,l=(e.metricsPage,e.providerEntityID),c=(e.serverEntityID,e.onCancelDownloadActivity,e.onCreateDownloadSubscription,e.onDeleteDownloadSubscription,e.onPress),u=wt()(e,["component","canCancel","canRemove","canShowUpsell","canSubscribe","metadataItemEntityID","metricsPage","providerEntityID","serverEntityID","onCancelDownloadActivity","onCreateDownloadSubscription","onDeleteDownloadSubscription","onPress"]),d=Vpe(function(){var e=Wpe;r?e=Gpe.CANCEL:i?e=Gpe.REMOVE:a?e=Gpe.UPSELL:o&&(e=Gpe.SUBSCRIBE),c&&c(e)},[r,i,a,o,c]);return t=r?Object(Xn.default)("Cancel Download"):i?Object(Xn.default)("Delete Download"):Object(Xn.default)("Download"),hv()(Hpe,{},void 0,Bpe(n,dv()({},u,{label:t,onPress:d})),hv()(kpe,{metadataItemEntityID:s,providerEntityID:l}))}),qpe=Xf.a.Fragment;var Zpe=function(e){var t=e.isOpen,n=e.state,r=e.onConfirm,i=e.onClose,a=t&&n===Gpe.CANCEL,o=t&&n===Gpe.REMOVE,s=t&&n===Gpe.UPSELL;return hv()(qpe,{},void 0,hv()(mK,{isOpen:a,title:Object(Xn.default)("Cancel Download"),message:Object(Xn.default)("Are you sure you want to cancel this download?"),metricsPage:to,confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("No"),onConfirm:r,onCancel:i}),hv()(mK,{isOpen:o,title:Object(Xn.default)("Delete Download"),message:Object(Xn.default)("Are you sure you want to delete this download?"),metricsPage:no,onConfirm:r,onCancel:i}),hv()(VH,{isOpen:s,onModalClose:i}))};function Xpe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 473 540",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-triangle-right"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M473 270L0 540V0l473 270z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Xpe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Jpe,$pe=Xpe,ehe=n(481),the=n.n(ehe),nhe=Xf.a.Component,rhe=Xf.a.Fragment,ihe={placement:"right-start"},ahe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._openMenu=function(e){void 0===e&&(e=!1),r.wasDismissed=!1,r._updateMenu(e,!0)},r._closeMenu=function(e){void 0===e&&(e=!1),r.wasDismissed=e,r._updateMenu(e,!1)},r.onMouseEnter=function(){r._openMenu()},r.onMouseEnterMenu=function(){r.wasDismissed||r._openMenu()},r.onMouseLeave=function(){r.wasDismissed||r._closeMenu()},r.onMenuClose=function(){r._closeMenu(!0),r.props.onMenuClose()},r.onPress=function(){r._openMenu(!0)},r.target=PS(),r.state={isOpen:!1},r.wasDismissed=!1,r}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){clearTimeout(this._menuTimer)},n._updateMenu=function(e,t){var n=this;clearTimeout(this._menuTimer),this._menuTimer=setTimeout(function(){n.setState({isOpen:t})},e?0:100)},n.render=function(){var e=this.props,t=e.label,n=e.children,r=e.isDisabled,i=this.state.isOpen;return hv()(rhe,{},void 0,hv()(hI,{id:this.target,className:the.a.item,isDisabled:r,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onPress:this.onPress},void 0,t,hv()($pe,{className:the.a.icon})),hv()(zT,{className:the.a.menu,isOpen:i,target:this.target,options:ihe,onMouseEnter:this.onMouseEnterMenu,onMouseLeave:this.onMouseLeave,onMenuClose:this.onMenuClose},void 0,n))},t}(nhe),ohe=n(610),she=n.n(ohe),lhe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).createOnPress=function(e){var n=t.props,r=n.metadataItemEntityID,i=n.onItemPress;return function(){return i(Object.assign({metadataItemEntityID:r},e))}},t}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.serverDirectories,r=t.hasMultipleServers,i=t.onMenuClose;if(!n||!n.length)return null;if(1===n.length){var a=n[0].title,o=Object(Xn.default)("Add to {libraryTitle}",{libraryTitle:a});return hv()(hI,{className:she.a.item,title:o,onPress:JA(this.createOnPress(n[0]),i)},void 0,o)}return hv()(ahe,{label:Object(Xn.default)("Add to Library"),onMenuClose:i},void 0,n.map(function(t,n){var i=t.serverFriendlyName,a=t.title,o=wt()(t,["serverFriendlyName","title"]),s=a+(r?" ("+i+")":"");return hv()(hI,{className:she.a.item,title:s,onPress:e.createOnPress(o)},n,s)}))},t}(Xf.a.Component),che=Object(Iy.createSelector)(ek,(Jpe=Cc.addProviderContentToLibrary,Object(Iy.createSelector)(_X,function(e){return e.filter(function(e){var t=e.version;return t&&yc(t,Jpe)})})),function(e,t){var n=0;return{serverDirectories:t.reduce(function(t,r){var i=function(e,t){return e.reduce(function(e,n){var r=ir(n),i=(r?r.directories:[]).filter(function(e){return e.type===t});return e.push.apply(e,i),e},[])}(r.providers.map(function(t){return e[t]}),nr.b);i.length&&(n+=1);var a=i.map(function(e){return{serverEntityID:r.entityID,serverFriendlyName:r.friendlyName,title:e.title,sectionKey:e.key}});return t.push.apply(t,a),t},[]),hasMultipleServers:n>1}}),uhe=Lm(che,{onItemPress:Oae})(lhe);function dhe(e){return e!==nr.l&&e!==nr.k}function phe(e){var t=e.title,n=e.leafCount;return 1===n?Object(Xn.default)('Are you sure you want to mark 1 episode in "{showTitle}" as unplayed?',{showTitle:t}):Object(Xn.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as unplayed?',{numEpisodes:n,showTitle:t})}var hhe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._checkAutoConfirm()},n.componentDidUpdate=function(){this._checkAutoConfirm()},n._checkAutoConfirm=function(){dhe(this.props.type)&&this.props.isOpen&&this.props.onConfirm()},n.render=function(){var e,t,n,r=this.props,i=r.isOpen,a=r.type,o=r.markUnplayed,s=r.onConfirm,l=r.onCancel;return dhe(a)?null:hv()(mK,{isOpen:i,metricsPage:o?"confirmMarkAsUnwatched":"confirmMarkAsWatched",title:o?Object(Xn.default)("Mark as Unplayed"):Object(Xn.default)("Mark as Played"),message:o?phe(this.props):(e=this.props,t=e.title,n=e.leafCount,1===n?Object(Xn.default)('Are you sure you want to mark 1 episode in "{showTitle}" as played?',{showTitle:t}):Object(Xn.default)('Are you sure you want to mark {numEpisodes} episodes in "{showTitle}" as played?',{numEpisodes:n,showTitle:t})),onConfirm:s,onCancel:l})},t}(Xf.a.Component),fhe=n(163),ghe=n(966),vhe=n.n(ghe),mhe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onItemSelect=function(e){Object(J.c)("metrics").trackClick(Object.assign({},t.props.metricsProperties,{page:t.props.metricsPage,action:oa,value:e})),t.props.onItemSelect(e)},t.onCancel=function(){Object(J.c)("metrics").trackClick(Object.assign({},t.props.metricsProperties,{page:t.props.metricsPage,action:sa})),t.props.onCancel()},t}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.children,r=t.isOpen,i=t.metricsPage,a=t.metricsProperties,o=t.title;return hv()(VN,{size:qp.SMALL,isOpen:r,metricsPage:i,metricsProperties:a,onModalClose:this.onCancel},void 0,hv()(qN,{onModalClose:this.onCancel},void 0,hv()(PN,{},void 0,o),hv()(CN,{innerClassName:vhe.a.listModalInnerBody},void 0,$P(n,function(t){return Xf.a.cloneElement(t,{onSelect:e.onItemSelect})}))))},t}(Xf.a.Component),yhe=n(967),bhe=n.n(yhe),She=Xf.a.createElement,Ihe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){var n=t.props,r=n.value,i=n.onSelect,a=n.onPress;i&&i(r),a&&a(e)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.value,e.onSelect,wt()(e,["value","onSelect"]));return She(RS,dv()({},t,{onPress:this.onPress}))},t}(Xf.a.Component);Ihe.defaultProps={className:bhe.a.listModalItem};var Che=Ihe,Mhe=Xf.a.createElement,Dhe=hv()(cE,{});var whe=function(e){var t=e.mediaItems,n=wt()(e,["mediaItems"]);return Mhe(mhe,dv()({title:Object(Xn.default)("Play Version"),metricsPage:lo},n),t.map(function(e,t){var n=[];if(e.bitrate&&n.push(Object(fhe.default)(e.bitrate)),e.videoResolution){var r=Object(KR.a)(e),i=r?r.scanType:null;n.push(Object(OL.default)(e.videoResolution,i))}var a=!!e.title,o=n.length>0;return hv()(Che,{value:t},t,a?e.title:null,a&&o?Dhe:null,o?n.join(", "):null,a||o?null:Object(Xn.default)("Unknown"))}))},Phe=n(968),The=n.n(Phe),Ehe=Xf.a.createElement;var xhe=function(e){var t=e.isSettingsUpdating,n=e.hasError,r=e.settings,i=e.onSubmit,o=e.onModalClose;return hv()(x_,{className:The.a.form,onSubmit:i},void 0,hv()(qN,{onModalClose:o},void 0,hv()(PN,{},void 0,Object(Xn.default)("Settings")),n?hv()(FV,{errorMessage:Object(Xn.default)("There was an error saving the settings")}):null,hv()(CN,{},void 0,r.map(function(e){return Ehe(HW,dv()({key:e.id},e))})),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{onPress:o},void 0,Object(Xn.default)("Cancel")),hv()(kV,{kind:a.PRIMARY,type:"submit",isSpinning:t},void 0,Object(Xn.default)("Save"))))))},Ohe=Xf.a.createElement;var jhe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){!e.isSettingsUpdating||this.props.isSettingsUpdating||this.props.hasError||this.props.onModalClose()},n.componentWillUnmount=function(){this.props.onClearError()},n.render=function(){return Ohe(xhe,this.props)},t}(Xf.a.Component),Ahe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{settings:e.preferences,isSettingsUpdating:e.isSettingsUpdating,hasError:!!e.settingsUpdateError}})},function(e,t){return{onSubmit:function(n){Object(No.a)(function(){e(Ede({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,data:n}))})},onClearError:function(){e(xde({metadataItemEntityID:t.metadataItemEntityID}))}}})(jhe);var Nhe,khe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.isOpen,a=e.metricsProperties,o=e.onModalClose;return hv()(VN,{size:qp.SMALL,isOpen:i,metricsPage:Na,metricsProperties:a,onModalClose:o},void 0,hv()(Ahe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,onModalClose:o}))};function Lhe(e){var t=e.providerFeatureType,n=e.providerModel,r=e.itemProviderModel,i=e.metadataItemModel,a=e.metadataListModel,o=e.metadataItemModels,s=n.get("features"),l=s&&s.get(t);if(!!l&&l.get("flavor")===xee){var c=i&&i.get("source")?i.get("source"):cee(r.server.get("machineIdentifier"),r.get("identifier")),u=i&&i.get("key")||a&&a.get("containerKey")||function(e){if(e){if(!e.some(function(e){return!!e.get("source")}))return"/library/metadata/"+e.map(function(e){return e.get("ratingKey")}).join(",");D.a.warn("[Playlists] failed to queue items multiple with sources")}}(o);return F.join([c,u])}return Fl.uri(i||a||o,{items:o})}var Rhe=Mt("ui/modal/initAddToPlaylistModal"),_he=Mt("ui/modal/clearAddToPlaylistModal"),Uhe=Mt("ui/modal/selectDestination"),zhe=Mt("ui/modal/createPlaylist"),Fhe=Mt("ui/modal/addToPlaylist");function Bhe(e){return e.get("ui").get("addToPlaylistModal")}function Hhe(e,t){Object(No.a)(function(){e.set({isUpdating:!0,error:null})}),function(e){var t=e.providerModel,n=e.type,r=e.title,i=e.smart,a=void 0===i?0:i,o=e.playlistID,s=e.playQueueID,l={uri:e.uri,playQueueID:s};e.includeExternalMedia&&(l.includeExternalMedia=1),o||(l.title=r,l.smart=a?1:0,l.type=n);var c=t.get("features"),u=c&&c.get(on),d=u&&u.get("key"),p=F.join([d,o&&o+"/items"],l),h=o?"PUT":"POST",f=t.getXHROptions(p,{type:h});return P.a.ajax(f)}(t).then(function(){e.set({isUpdating:!1})},function(t){e.set({isUpdating:!1,error:Gi(t)})})}var Vhe=Qx(((Nhe={})["ui/modal/initAddToPlaylistModal"]=function(e,t,n){var r,i,a,o,s=Bhe(e),l="";if(t.metadataItemEntityID)r=To(e,t),l=Fl.title(r);else if(t.metadataListEntityID)i=Po(e,t),l=Fl.title(i);else if(t.playQueueID)o=function(e,t){var n=e.get("ui").get("audioVideoPlayer").get("playQueue"),r=e.get("ui").get("photoPlayer").get("playQueue");return n&&n.get("playQueueID")===t?n:r&&r.get("playQueueID")===t?r:void 0}(e,t.playQueueID);else{var c=(a=e.get("ui").get("multiSelect")).get("activeSelectionItems").pluck("model");l=Fl.title(c,{items:c})}s.set({title:l,smart:t.smart,metadataItem:r,metadataList:i,multiSelect:a,playQueue:o}),n(Uhe(t))},Nhe["ui/modal/clearAddToPlaylistModal"]=function(e){Bhe(e).restoreDefaults()},Nhe["ui/modal/selectDestination"]=function(e,t){var n=Bhe(e),r=bo(e,t),i=Co(e,t),a=n.get("metadataItem"),o=n.get("metadataList"),s=n.get("multiSelect"),l=n.get("playQueue"),c=n.get("smart"),u=function(e){var t=e.providerModel,n=e.itemProviderModel,r=e.metadataItemModel,i=e.metadataListModel,a=e.multiSelectModel,o=e.playQueueModel,s=e.smart,l=e.readOnly,c=a&&a.get("activeSelectionItems").pluck("model"),u=o?o.get("type"):Nee({metadataItemModel:r,metadataListModel:i,metadataItemModels:c}),d=t&&t.get("features"),p=d&&d.get(on),h=p&&p.get("key"),f={type:Object(nr.r)(nr.j).id,playlistType:u,smart:s?1:0,readOnly:l?1:0},g={playlistType:u,containerKey:h&&Object(F.join)(h,f)};return o||(g.uri=Lhe({providerFeatureType:on,providerModel:t,itemProviderModel:n,metadataItemModel:r,metadataListModel:i,metadataItemModels:c})),g}({providerModel:i,itemProviderModel:a?Co(e,{providerEntityID:a.get("providerEntityID")}):i,metadataItemModel:a,metadataListModel:o,multiSelectModel:s,playQueueModel:l}),d=u.containerKey,p=u.playlistType,h=u.uri,f=new ll.default({containerKey:d},{server:r,provider:i});n.set({server:r,provider:i,type:p,smart:c,containerKey:d,uri:h,playlists:f})},Nhe["ui/modal/createPlaylist"]=function(e,t){var n=Bhe(e),r=n.get("provider"),i=n.get("playQueue"),a=t.formData,o=n.pick("type","title","uri","smart");(o=Object.assign({},o,a)).providerModel=r,i&&(o.playQueueID=i.get("playQueueID")),PZ(e,zy)&&(o.includeExternalMedia=!0),Hhe(n,o)},Nhe["ui/modal/addToPlaylist"]=function(e,t){var n=t.playlistID,r=Bhe(e),i=r.get("provider"),a=r.get("playQueue"),o={playlistID:n,providerModel:i,uri:r.get("uri")};a&&(o.playQueueID=a.get("playQueueID")),PZ(e,zy)&&(o.includeExternalMedia=!0),Hhe(r,o)},Nhe)),Qhe=Object(Iy.createSelector)(Cy,function(e){return e.metadataLists});function Whe(){return Object(Iy.createSelector)(function(e,t){return t.metadataListEntityID},Qhe,function(e,t){return t[e]})}function Ghe(e){var t=e.key,n=e.getModel;var r=Object(Wi.a)(t),i="is"+r+"Pending",a="is"+r+"Populated",o=t?t+"Error":"error";return function(e,r){var s=r.startIndex,l=r.endIndex,c=r.pages,u=void 0===c?3:c,d=r.reloadThreshold,p=void 0===d?6:d,h=r.disableReloadThreshold;var f=l-s+1,g=n(e,r),v=t?g.get(t):g;g.sessionAttrs;var m=v.get("populatedRange"),y=s,b=l;if(s<m.start?y=Math.max(0,s-f*u):b=s+f*u,!(y>=m.start&&b<=m.end)){var S=g.get(i);g.set(i,!0),v.populateRange({start:y,end:b,reloadThreshold:h?null:f*p}).done(function(){var e;g.set(((e={})[i]=!1,e[a]=!0,e[o]=null,e))}).fail(function(e,t){var n;t.aborting?g.set(i,S):g.set(((n={})[i]=!1,n[o]=Gi(t),n))})}}}function Yhe(e){var t=e.key,n=e.getModel;var r=Object(Wi.a)(t),i="is"+r+"Pending",a="is"+r+"Populated",o=t?t+"Error":"error";return function(e,r){void 0===r&&(r={});var s=r.count,l=n(e,r),c=t?l.get(t):l;l.sessionAttrs;var u=l.get(i);l.set(i,!0),c.repopulateRange(s).done(function(){var e;l.set(((e={})[i]=!1,e[a]=!0,e[o]=null,e))}).fail(function(e,t){var n;t.aborting?l.set(i,u):l.set(((n={})[i]=!1,n[o]=Gi(t),n))})}}var Khe,qhe=n(297),Zhe=Mt("multiSelect/selectItem"),Xhe=Mt("multiSelect/selectModels"),Jhe=Mt("multiSelect/deselectAllItems"),$he=Mt("multiSelect/deselectModels"),efe=Mt("multiSelect/deselectCollection"),tfe=Mt("multiSelect/selectRange"),nfe=Mt("multiSelect/deselectRange"),rfe=Mt("multiSelect/playSelectedItems"),ife=Mt("multiSelect/favoriteSelectedItems"),afe=Mt("multiSelect/unfavoriteSelectedItems"),ofe=(Mt("multiSelect/updateSelectedItemsPlayedStatus"),Mt("multiSelect/editSelectedItems")),sfe=Mt("multiSelect/refreshSelectedItems"),lfe=Mt("multiSelect/analyzeSelectedItems"),cfe=Mt("multiSelect/syncMetadataItems"),ufe=Mt("multiSelect/optimizeMetadataItems"),dfe=Mt("multiSelect/mergeSelectedItems"),pfe=Mt("multiSelect/deleteSelectedItems"),hfe=Mt("multiSelect/playSelectedItems",function(e){var t=e.options,n=void 0===t?{}:t,r=wt()(e,["options"]);return Object.assign({},r,{options:Object.assign({},n,{shuffle:!0})})}),ffe=Mt("multiSelect/updateSelectedItemsPlayedStatus",function(e){return Object.assign({},e,{played:!0})}),gfe=Mt("multiSelect/updateSelectedItemsPlayedStatus",function(e){return Object.assign({},e,{played:!1})}),vfe=Mt("multiSelect/queueSelectedItems",function(e){var t=e.options,n=void 0===t?{}:t,r=wt()(e,["options"]);return Object.assign({},r,{options:Object.assign({},n,{next:!1})})}),mfe=Mt("multiSelect/queueSelectedItems",function(e){var t=e.options,n=void 0===t?{}:t,r=wt()(e,["options"]);return Object.assign({},r,{options:Object.assign({},n,{next:!0})})});function yfe(e,t,n){Object(J.c)("metrics").trackClick(Object.assign({page:n,action:e},bfe(t)))}function bfe(e){return{context:jn,selectionType:e.get("activeSelectionType"),selectionCount:e.get("activeSelectionItems").length}}function Sfe(e){return e.get("ui").get("multiSelect").get("activeSelectionItems").map(function(e){return e.get("model").entityID()})}var Ife,Cfe=((Khe={})["multiSelect/selectItem"]=function(e,t,n){var r=t.type,i=t.model,a=t.collection,o=t.isRangeSelect,s=void 0!==o&&o,l=e.get("ui").get("multiSelect"),c=l.get("activeSelectionType"),u=l.get("activeSelectionRange");if(!c||c===r){if(l.listenToCollection(a),!s||!u||u.collection!==a)return l.set("activeSelectionRange",{collection:a,startModel:i}),void n(Xhe([{id:i.id,type:r,model:i}]));var d=u.startModel,p=u.endModel,h=a.indexOf(d),f=a.indexOf(i);if(p){var g=a.indexOf(p);n(nfe({collection:a,range:{start:h,end:g}}))}l.set("activeSelectionRange",{collection:a,startModel:d,endModel:i}),n(tfe({type:r,collection:a,range:{start:h,end:f}}))}},Khe["multiSelect/selectModels"]=function(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").add(t)},Khe["multiSelect/deselectAllItems"]=function(e){e.get("ui").get("multiSelect").get("activeSelectionItems").reset()},Khe["multiSelect/deselectModels"]=function(e,t){e.get("ui").get("multiSelect").get("activeSelectionItems").remove(t)},Khe["multiSelect/deselectCollection"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems"),a=[];r.stopListening(t),t.each(function(e){i.get(e.id)&&a.push(e.id)}),a.length&&n($he(a))},Khe["multiSelect/selectRange"]=function(e,t,n){var r=t.type,i=t.collection,a=t.range,o=e.get("ui").get("multiSelect").get("activeSelectionItems"),s=[];qhe.a.each(a,function(e){var t=i.at(e);t&&!o.get(t.id)&&s.push({id:t.id,type:r,model:t})}),s.length&&n(Xhe(s))},Khe["multiSelect/deselectRange"]=function(e,t,n){var r=t.collection,i=t.range,a=e.get("ui").get("multiSelect").get("activeSelectionItems"),o=[];qhe.a.each(i,function(e){var t=r.at(e);t&&a.get(t.id)&&o.push(t.id)}),o.length&&n($he(o))},Khe["multiSelect/playSelectedItems"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=Sfe(e);n(Ire(Object.assign({},t,{metadataItemEntityIDs:i,metricsProperties:bfe(r)})))},Khe["multiSelect/queueSelectedItems"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=Sfe(e);n(Tre(Object.assign({},t,{metadataItemEntityIDs:i,metricsProperties:bfe(r)})))},Khe["multiSelect/favoriteSelectedItems"]=function(e,t,n){var r=Co(e,t),i=e.get("ui").get("multiSelect"),a=i.get("activeSelectionItems").pluck("model"),o=P.a.Deferred().resolve().promise();a.forEach(function(e){o=o.then(function(){return qse(r,e,{rating:rle})})}),o.fail(function(){n(au(Object(Xn.default)("There was an unexpected error favoriting an item.")))}),yfe(da,i,t.metricsPage)},Khe["multiSelect/unfavoriteSelectedItems"]=function(e,t,n){var r=Co(e,t),i=e.get("ui").get("multiSelect"),a=i.get("activeSelectionItems").pluck("model"),o=P.a.Deferred().resolve().promise();a.forEach(function(e){o=o.then(function(){return qse(r,e,{rating:-1})})}),o.fail(function(){n(au(Object(Xn.default)("There was an unexpected error unfavoriting an item.")))}),yfe(da,i,t.metricsPage)},Khe["multiSelect/updateSelectedItemsPlayedStatus"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems").pluck("model"),a=P.a.Deferred().resolve().promise();i.forEach(function(n){a=a.then(function(){return nle(e,Object.assign({},t,{metadataItemEntityID:n.entityID()}))})}),a.fail(function(){var e=t.played?Object(Xn.default)("There was an unexpected error marking an item played."):Object(Xn.default)("There was an unexpected error marking an item unplayed.");n(au(e))}),a.always(function(){var e={};i.forEach(function(t){var r=t.server.entityID();e[r]||(e[r]=!0,n(iu({serverEntityID:r})))})}),yfe(t.played?"markAsWatched":"markAsUnwatched",r,t.metricsPage)},Khe["multiSelect/editSelectedItems"]=function(e,t){var n=e.get("ui").get("multiSelect"),r=n.get("activeSelectionItems").pluck("model"),i=new Gce({items:r});z.a.trigger("show:modal",i),yfe("edit",n,t.metricsPage)},Khe["multiSelect/refreshSelectedItems"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems").pluck("model"),a=P.a.Deferred().resolve().promise();i.forEach(function(e){a=a.then(function(){return ele(e)})}),a.fail(function(){n(au(Object(Xn.default)("There was an unexpected error refreshing an item.")))}),yfe(la,r,t.metricsPage)},Khe["multiSelect/analyzeSelectedItems"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems").pluck("model"),a=P.a.Deferred().resolve().promise();i.forEach(function(e){a=a.then(function(){return Kse(e)})}),a.fail(function(){n(au(Object(Xn.default)("There was an unexpected error analyzing an item.")))}),yfe(ca,r,t.metricsPage)},Khe["multiSelect/syncMetadataItems"]=function(e,t){var n=e.get("ui").get("multiSelect"),r=n.get("activeSelectionItems").pluck("model");bt.execute("showSyncModal",{item:C.a.first(r),items:r}),yfe("sync",n,t.metricsPage)},Khe["multiSelect/optimizeMetadataItems"]=function(e,t){var n=e.get("ui").get("multiSelect"),r=n.get("activeSelectionItems").pluck("model"),i=new G6({item:C.a.first(r),items:r});z.a.trigger("show:modal",i),yfe("optimize",n,t.metricsPage)},Khe["multiSelect/mergeSelectedItems"]=function(e,t){var n=e.get("ui").get("multiSelect"),r=n.get("activeSelectionItems").pluck("model"),i=r[0],a=r.slice(1);bt.execute("merge",{item:i,items:a}),yfe("merge",n,t.metricsPage)},Khe["multiSelect/deleteSelectedItems"]=function(e,t,n){var r=e.get("ui").get("multiSelect"),i=r.get("activeSelectionItems").pluck("model"),a=t.options||{};bt.execute("deleteItems",Object.assign({},a,{items:i,skipConfirmation:!0})),yfe("delete",r,t.metricsPage)},Khe),Mfe=Mt("metadata/metadataList/fetchMetadataList"),Dfe=Mt("metadata/metadataList/populateMetadataList"),wfe=Mt("metadata/metadataList/populateMetadataListRange"),Pfe=Mt("metadata/metadataList/repopulateMetadataListRange"),Tfe=Mt("metadata/metadataList/syncMetadataList"),Efe=Mt("metadata/metadataList/optimizeMetadataList"),xfe=Mt("metadata/metadataList/selectMetadataListItem"),Ofe=Mt("metadata/metadataList/deselectMetadataListItem"),jfe=Mt("metadata/metadataList/selectMetadataListItems"),Afe=Mt("metadata/metadataList/deselectMetadataListItems"),Nfe=Mt("metadata/metadataList/deselectAllMetadataListItems"),kfe=Mt("metadata/metadataList/resetMetadataList");function Lfe(e,t,n){void 0===n&&(n={}),Object(J.c)("metrics").trackClick(Object.assign({page:t,action:e,context:On},n))}var Rfe=((Ife={})["metadata/metadataList/fetchMetadataList"]=Ki({getModel:Po}),Ife["metadata/metadataList/populateMetadataList"]=qi({fetchActionCreator:Mfe,getModel:Po}),Ife["metadata/metadataList/populateMetadataListRange"]=Ghe({getModel:Po}),Ife["metadata/metadataList/repopulateMetadataListRange"]=Yhe({getModel:Po}),Ife["metadata/metadataList/syncMetadataList"]=function(e,t){var n=Po(e,t);bt.execute("showSyncModal",{item:n}),Lfe("sync",t.metricsPage,t.metricsProperties)},Ife["metadata/metadataList/optimizeMetadataList"]=function(e,t){var n=Po(e,t),r=new G6({item:n});z.a.trigger("show:modal",r),Lfe("optimize",t.metricsPage,t.metricsProperties)},Ife["metadata/metadataList/selectMetadataListItem"]=function(e,t,n){var r=t.id,i=t.type,a=t.isRangeSelect,o=Po(e,t),s=To(e,{metadataItemEntityID:r}),l=o.getCollection();s&&n(Zhe({type:i,model:s,collection:l,isRangeSelect:a}))},Ife["metadata/metadataList/deselectMetadataListItem"]=function(e,t,n){var r=To(e,{metadataItemEntityID:t.id});r&&n($he([r.id]))},Ife["metadata/metadataList/selectMetadataListItems"]=function(e,t,n){var r=t.ids,i=t.type,a=r.reduce(function(t,n){var r=Eo(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id,type:i,model:r}),t},[]);n(Xhe(a))},Ife["metadata/metadataList/deselectMetadataListItems"]=function(e,t,n){var r=t.ids.reduce(function(t,n){var r=Eo(e,{metadataItemEntityID:n});return r&&t.push({id:r&&r.id}),t},[]);n($he(r))},Ife["metadata/metadataList/deselectAllMetadataListItems"]=function(e,t,n){var r=Po(e,t).getCollection();n(efe(r))},Ife["metadata/metadataList/resetMetadataList"]=function(e,t){var n=Po(e,t),r=n.get("entityKey");n.abortPendingPopulate(),n.resetPopulatePromise(null),n.restoreDefaults({entityKey:r,meta:r?n.get("meta"):void 0,containerKey:n.get("containerKey"),containerTitle:n.get("containerTitle")})},Ife);function _fe(e){return e.ui.multiSelect}function Ufe(){return Object(Iy.createSelector)(function(e,t){return t.columnAdjustment},Py,function(e,t){return e||t.columnAdjustment})}var zfe=Xf.a.createElement,Ffe=Xf.a.Component;var Bfe={dispatchPopulateMetadataList:Dfe,dispatchPopulateMetadataListRange:wfe,dispatchDeselectAllMetadataListItems:Nfe,dispatchResetMetadataList:kfe},Hfe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPageRequest=function(e){var n=t.props,r=n.metadataListEntityID,i=n.disableReloadThreshold;(0,n.dispatchPopulateMetadataListRange)(Object.assign({metadataListEntityID:r,disableReloadThreshold:i},e))},t}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate()},n.componentWillReceiveProps=function(e){var t=e.containerKey,n=e.metadataListEntityID;t===this.props.containerKey&&n===this.props.metadataListEntityID||this._populate(e)},n.componentWillUnmount=function(){var e=this.props,t=e.metadataListEntityID,n=e.shouldResetOnUnmount;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:t}),n&&this.props.dispatchResetMetadataList({metadataListEntityID:t})},n._populate=function(e){var t=this;void 0===e&&(e=this.props);var n=e,r=n.entityKey,i=n.metadataListEntityID,a=n.initialSize,o=n.dispatchPopulateMetadataList,s=n.dispatchPopulateMetadataListRange;a&&Object(No.a)(function(){r&&t.props.dispatchResetMetadataList({metadataListEntityID:i}),a===1/0?o({metadataListEntityID:i}):s({metadataListEntityID:i,startIndex:0,endIndex:a-1,pages:1})})},n.render=function(){var e=this.props,t=e.component,n=(e.dispatchPopulateMetadataListRange,e.dispatchDeselectAllMetadataListItems,e.dispatchResetMetadataList,wt()(e,["component","dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]));return zfe(t,dv()({},n,{onPageRequest:this.onPageRequest}))},t}(Ffe);Hfe.defaultProps={disableReloadThreshold:!1,shouldResetOnUnmount:!1};var Vfe=Lm(function(){return Object(Iy.createSelector)(Ufe(),Whe(),_fe,function(e,t,n){return{metadataItemEntityIDs:t.metadataItems,entityKey:t.entityKey,containerKey:t.containerKey||t.key,disableReloadThreshold:!!n.activeSelectionType,columnAdjustment:e,totalSize:t.totalSize,populatedRange:t.populatedRange,allowSync:t.allowSync,isPending:t.isPending,isPopulated:t.isPopulated,isMetaPopulated:t.isMetaPopulated,error:t.error,firstItemType:t.firstItemType,firstItemSubtype:t.firstItemSubtype,isFirstItemLibraryItem:t.isFirstItemLibraryItem,isDirectoryList:t.isDirectoryList}})},Bfe)(Hfe),Qfe={};function Wfe(e){if(Qfe[e])return Qfe[e];var t=Object(Iy.createSelector)(Gie,function(t){return t[e]});return Qfe[e]=t,t}var Gfe=Object(Iy.createSelector)(qZ,ek,Wfe("providers"),function(e,t,n){return e.reduce(function(e,r){var i=(r.isCloud?n:r.providers).map(function(e){return{server:r,provider:t[e]}}),a=i.length?i:[{server:r}];return e.push.apply(e,a),e},[])});function Yfe(e){var t=e.server,n=e.provider;if(!n||!n.features)return!1;if(t&&(t.isShared||t.isCloud||!t.isConnected))return!1;var r=[Cn.e,Cn.d];return!!Cn.i(n.identifier,r)&&!!n.features.find(function(e){return e.type===on&&e.flavor===xee})}var Kfe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.isSelected||t.props.onDestinationSelect(t.props.destination),t.props.onMenuClose()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.destination,n=e.isSelected;return hv()(MI,{isSelected:n,onPress:this.onPress},void 0,t.name)},t}(Xf.a.Component);var qfe=function(e){var t=e.target,n=e.isOpen,r=e.destination,i=e.destinations,a=e.onMenuClose,o=e.onDestinationSelect;return hv()(zT,{target:t,isOpen:n,size:qp.LARGE,onMenuClose:a},void 0,i.map(function(e,t){return hv()(Kfe,{destination:e,isSelected:e===r,onMenuClose:a,onDestinationSelect:o},"playlist-destination-"+t)}))},Zfe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMenuButtonPress=function(){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.state={isMenuOpen:!1},r._menuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.destination,r=e.destinations,a=e.onDestinationSelect,o=this.state.isMenuOpen;return!r||r.length<2?null:hv()("div",{className:t},void 0,hv()(AI,{id:this._menuButtonID,direction:o?i.UP:i.DOWN,onPress:this.onMenuButtonPress},void 0,n.name),hv()(qfe,{target:this._menuButtonID,isOpen:o,destination:n,destinations:r,onMenuClose:this.onMenuClose,onDestinationSelect:a}))},t}(Xf.a.Component),Xfe=Object(Iy.createSelector)(Gfe,$de,qde,function(e,t,n){var r={server:t,provider:n},i=e.filter(Yfe);return i.find(function(e){var r=e.server,i=e.provider;return r.machineIdentifier===t.machineIdentifier&&i.identifier===n.identifier})||i.unshift(r),i});var Jfe=Lm(function(){return Object(Iy.createSelector)(XS,xse,Xfe,function(e,t,n){var r=n.map(function(e){return{name:e.server.isCloud?Object(Xn.default)("TIDAL"):e.server.friendlyName,serverEntityID:e.server.entityID,providerEntityID:e.provider.entityID}});return{destination:r.find(function(n){var r=n.serverEntityID,i=n.providerEntityID;return r===e.entityID&&i===t.entityID}),destinations:r}})})(Zfe),$fe=n(969),ege=n.n($fe),tge=Xf.a.createElement;function nge(e){var t=e.className,n=e.children,r=e.component,i=e.width,a=e.height,o=e.url,s=wt()(e,["className","children","component","width","height","url"]);return hv()("div",{className:t,style:{width:i,height:a}},void 0,tge(r,dv()({width:i,height:a,url:o},s)),n)}nge.defaultProps={className:ege.a.card};var rge=nge,ige=n(382),age=n.n(ige),oge=Xf.a.useCallback,sge=40;var lge=function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.playlistID,a=e.title,o=e.thumb,s=e.isLoading,l=e.cellIndex,c=e.onSelect,u=CF(e),d=oge(function(){c(i)},[i,c]);return hv()("div",{className:t,style:u.style},void 0,s?null:hv()(RS,{className:(age.a.container||"")+" "+(l%2&&age.a.alternate||""),onPress:d},void 0,hv()(rge,{className:age.a.card,serverEntityID:n,providerEntityID:r,component:yL,width:sge,height:sge,url:o}),hv()("span",{className:age.a.title},void 0,a)))};var cge=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return e?{isLoading:!1,playlistID:e.ratingKey,title:e.title,thumb:e.composite||e.thumb||""}:{isLoading:!0}})})(lge),uge=n(383),dge=n.n(uge),pge=Xf.a.createElement,hge=Xf.a.Component,fge=P2(50),gge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderPlaylistItem=function(e){var n=t.props,r=n.serverEntityID,i=n.providerEntityID,a=n.onPlaylistSelect;return pge(cge,dv()({},e,{className:dge.a.cell,serverEntityID:r,providerEntityID:i,onSelect:a}))},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.metadataItemEntityIDs,n=e.isPopulated,r=e.totalSize,i=wt()(e,["metadataItemEntityIDs","isPopulated","totalSize"]);return n?pge(cF,dv()({className:dge.a.content,scrollerClassName:dge.a.contentScroller,keyPropName:"metadataItemEntityID",items:t,size:r,layout:fge,cellRenderer:this.renderPlaylistItem},i)):hv()(ZE.a,{className:dge.a.spinner})},t}(hge),vge=n(384),mge=n.n(vge),yge=Xf.a.createElement,bge=Xf.a.Component;function Sge(e){if(!e)return Object(Xn.default)("Title is required")}var Ige=$Q(function(e){var t=e.showErrors,n=wt()(e,["showErrors"]);return yge(gW,dv()({hasError:t},n))}),Cge=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.title,o=e.smart,s=e.hasError,l=e.isUpdating,c=e.isMultiSelect,u=e.onModalClose,d=e.onDestinationSelect,p=e.onFormSubmit,h=e.onPlaylistSelect,f=!c&&!o&&t&&n&&r;return hv()(qN,{onModalClose:u},void 0,hv()(PN,{},void 0,function(e){var t=e.playlistType,n=e.smart;return"photo"===t?n?Object(Xn.default)("Create Album"):Object(Xn.default)("Add to Album"):n?Object(Xn.default)("Create Playlist"):Object(Xn.default)("Add to Playlist")}(this.props)),f?hv()(Jfe,{className:mge.a.listModalSubheader,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,onDestinationSelect:d}):null,s?hv()(FV,{errorMessage:Object(Xn.default)("Something went wrong. Make sure the destination is available and try again.")}):null,o?null:hv()(CN,{innerClassName:mge.a.listModalInnerBody},void 0,i?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,component:gge,initialSize:20,onPlaylistSelect:h}):null),hv()(Q_,{},void 0,hv()(x_,{className:mge.a.createForm,onSubmit:p},void 0,hv()(Ige,{focusOnMount:!0,"data-autofocus":!0,selectTextOnFocus:!0,name:"title",initialValue:a,validations:[Sge]}),hv()(_V,{className:mge.a.createButton,type:"submit",kind:Qp,isSpinning:l},void 0,Object(Xn.default)("Create")))))},t}(bge),Mge=Xf.a.createElement,Dge=Xf.a.Component,wge=Object(Iy.createSelector)(function(e){return e.ui.addToPlaylistModal},Qhe,function(e,t){var n=e.metadataItem,r=e.metadataList,i=e.multiSelect;if(n)return n;var a=t[r];return a&&a.metadataItems.length?a.metadataItems[0]:i&&i.activeSelectionItems&&i.activeSelectionItems.length?i.activeSelectionItems[0].model:void 0}),Pge=Object(Iy.createSelector)(function(e){return e.ui.addToPlaylistModal},wge,function(e,t){return{serverEntityID:e.server,providerEntityID:e.provider,metadataItemEntityID:t,metadataListEntityID:e.playlists,title:e.title,playlistType:e.type,isUpdating:e.isUpdating,isMultiSelect:!!e.multiSelect,hasError:!!e.error}});var Tge=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onAdd=function(e){t.props.dispatchAddToPlaylist(e)},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchInitAddToPlaylistModal()},n.componentWillUnmount=function(){this.props.dispatchClearAddToPlaylistModal()},n.render=function(){var e=this.props,t=(e.dispatchInitAddToPlaylistModal,e.dispatchClearAddToPlaylistModal,e.dispatchAddToPlaylist,wt()(e,["dispatchInitAddToPlaylistModal","dispatchClearAddToPlaylistModal","dispatchAddToPlaylist"]));return Mge(Cge,dv()({onPlaylistSelect:this.onAdd},t))},t}(Dge),Ege=Lm(Pge,function(e,t){return{onDestinationSelect:function(t){var n=t.serverEntityID,r=t.providerEntityID;e(Uhe({serverEntityID:n,providerEntityID:r}))},onFormSubmit:function(t){e(zhe({formData:t}))},dispatchInitAddToPlaylistModal:function(){e(Rhe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metadataListEntityID:t.metadataListEntityID,playQueueID:t.playQueueID,smart:t.smart}))},dispatchClearAddToPlaylistModal:function(){e(_he())},dispatchAddToPlaylist:function(t){e(Fhe({playlistID:t}))}}})(Tge),xge=Xf.a.createElement;var Oge=function(e){var t=e.isOpen,n=e.onModalClose,r=wt()(e,["isOpen","onModalClose"]);return hv()(VN,{size:qp.SMALL,isOpen:t,metricsPage:Ta,onModalClose:n},void 0,xge(Ege,dv()({onModalClose:n},r)))},jge=Xf.a.createElement;var Age=function(e){e.hasDownloadState,e.hasOfflineFile,e.hasOwnSubscription;var t=e.label,n=(e.progress,wt()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","label","progress"]));return jge(hI,n,t)},Nge=Xf.a.Fragment,kge=Xf.a.useCallback,Lge=["showPlay","showPlayVersion","showPlayAll","showShuffle","showQueue","showPlayPlexMix","showQueuePlexMix","showPlayTrailer","showPlayMusicVideo","showAddToAlbum","showAddToPlaylist","showAddToLibrary"],Rge=["showEdit","showMarkPlayed","showMarkUnplayed","showSettings","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showSync","showSyncDownload","showOptimize","showDownload","showDelete","showDeleteVersion","showViewPlayHistory","showGetInfo"];function _ge(e,t){return!!C.a.find(e,function(e){return t[e]})}var Uge=hv()(q1,{});function zge(e){var t,n,r=e.target,i=e.isOpen,o=e.metadataItem,s=e.metadataItemEntityID,l=e.metricsPage,c=e.providerEntityID,u=e.serverEntityID,d=e.onPlayVersionPress,p=e.onCancelDownloadActivity,h=e.onDeleteDownloadSubscription,f=e.onCreateDownloadSubscription,g=e.onMenuClose,v=eae(e.onMarkPlayedConfirm),m=eae(e.onMarkUnplayedConfirm),y=eae(),b=eae(),S=eae(),I=Ype({metadataItemEntityID:s,metricsPage:l,providerEntityID:c,serverEntityID:u,onCancelDownloadActivity:p,onCreateDownloadSubscription:f,onDeleteDownloadSubscription:h}),C=kge(function(e){d(e),y.onClose()},[d,y]),M=!!o.metadataState,D=!!o.mediaState,w=_ge(Lge,e),P=_ge(Rge,e),T=w&&P;return hv()(Nge,{},void 0,hv()(zT,{target:r,isOpen:i,onMenuClose:g},void 0,e.showPlay?hv()(hI,{onPress:JA(e.onPlayPress,g)},void 0,Object(Xn.default)("Play")):null,e.showPlayVersion?hv()(hI,{onPress:JA(y.onOpen,g)},void 0,Object(Xn.default)("Play Version...")):null,e.showPlayAll?hv()(hI,{onPress:JA(e.onPlayAllPress,g)},void 0,Object(Xn.default)("Play All")):null,e.showShuffle?hv()(hI,{onPress:JA(e.onShufflePress,g)},void 0,Object(Xn.default)("Shuffle")):null,e.showPlayRadio?hv()(hI,{onPress:JA(e.onPlayRadioPress,g)},void 0,Object(Xn.default)("Play Radio")):null,e.showPlayArtistTV?hv()(hI,{onPress:JA(e.onPlayArtistTVPress,g)},void 0,Object(Xn.default)("Play Artist TV")):null,e.showQueue?hv()(hI,{onPress:JA(e.onPlayNextPress,g)},void 0,Object(Xn.default)("Play Next")):null,e.showQueue?hv()(hI,{onPress:JA(e.onAddToQueuePress,g)},void 0,Object(Xn.default)("Add to Queue")):null,e.showPlayPlexMix?hv()(hI,{onPress:JA(e.onPlayPlexMixPress,g)},void 0,Object(Xn.default)("Play Plex Mix")):null,e.showQueuePlexMix?hv()(hI,{onPress:JA(e.onQueuePlexMixPress,g)},void 0,Object(Xn.default)("Queue Plex Mix")):null,e.showPlayTrailer?hv()(hI,{onPress:JA(e.onPlayPrimaryExtraPress,g)},void 0,Object(Xn.default)("Play Trailer")):null,e.showPlayMusicVideo?hv()(hI,{onPress:JA(e.onPlayPrimaryExtraPress,g)},void 0,Object(Xn.default)("Play Music Video")):null,e.showAddToAlbum?hv()(hI,{onPress:JA(S.onOpen,g)},void 0,Object(Xn.default)("Add to Album...")):null,e.showAddToPlaylist?hv()(hI,{onPress:JA(S.onOpen,g)},void 0,Object(Xn.default)("Add to Playlist...")):null,e.showAddToSaved?hv()(hI,{onPress:JA(e.onAddToSavedPress,g)},void 0,(t=o.saved,n=e.providerIdentifier,o.subtype===$n?t?Object(Xn.default)("Remove from My Podcasts"):Object(Xn.default)("Add to My Podcasts"):Cn.i(n,Cn.e)?t?Object(Xn.default)("Remove from My TIDAL"):Object(Xn.default)("Add to My TIDAL"):t?Object(Xn.default)("Remove from My Shows"):Object(Xn.default)("Add to My Shows"))):null,e.showAddToPicks?hv()(hI,{onPress:JA(e.onAddToPicksPress,g)},void 0,o.picked?Object(Xn.default)("Remove from Plex Picks"):Object(Xn.default)("Add to Plex Picks")):null,e.showAddToLibrary?hv()(uhe,{serverEntityID:u,providerEntityID:c,metadataItemEntityID:s,onMenuClose:e.onMenuClose}):null,T?Uge:null,e.showEdit?hv()(hI,{onPress:JA(e.onEditPress,g)},void 0,Object(Xn.default)("Edit")):null,e.showSettings?hv()(hI,{onPress:JA(b.onOpen,g)},void 0,Object(Xn.default)("Settings")):null,e.showMarkPlayed?hv()(hI,{onPress:JA(v.onOpen,g)},void 0,Object(Xn.default)("Mark as Played")):null,e.showMarkUnplayed?hv()(hI,{onPress:JA(m.onOpen,g)},void 0,Object(Xn.default)("Mark as Unplayed")):null,e.showRefresh?hv()(hI,{isDisabled:M,onPress:JA(e.onRefreshPress,g)},void 0,Object(Xn.default)("Refresh Metadata")):null,e.showAnalyze?hv()(hI,{isDisabled:D,onPress:JA(e.onAnalyzePress,g)},void 0,Object(Xn.default)("Analyze")):null,e.showFixMatch?hv()(hI,{onPress:JA(e.onFixMatchPress,g)},void 0,Object(Xn.default)("Fix Match...")):null,e.showMatch?hv()(hI,{onPress:JA(e.onFixMatchPress,g)},void 0,Object(Xn.default)("Match...")):null,e.showUnmatch?hv()(hI,{onPress:JA(e.onUnmatchPress,g)},void 0,Object(Xn.default)("Unmatch")):null,e.showSplitApart?hv()(hI,{onPress:JA(e.onSplitApartPress,g)},void 0,Object(Xn.default)("Split Apart")):null,e.showSync?hv()(hI,{onPress:JA(e.onSyncPress,g)},void 0,Object(Xn.default)("Sync...")):null,e.showSyncDownload?hv()(Kpe,{component:Age,metadataItemEntityID:s,providerEntityID:c,serverEntityID:u,onPress:JA(I.onPress,g)}):null,e.showOptimize?hv()(hI,{onPress:JA(e.onOptimizePress,g)},void 0,Object(Xn.default)("Optimize...")):null,e.showDownload?hv()(vH,{action:ua},void 0,hv()(hI,{to:o.downloadUrl&&o.downloadUrl(),target:o.downloadUrl&&"_self",download:!!o.downloadUrl,onPress:o.downloadUrl?e.onMenuClose:JA(e.onDownloadVersionPress,g)},void 0,Object(Xn.default)("Download File"))):null,e.showDelete?hv()(hI,{kind:o.remoteMedia?void 0:a.DANGER,onPress:JA(e.onDeletePress,g)},void 0,o.remoteMedia?Object(Xn.default)("Remove"):Object(Xn.default)("Delete")):null,e.showDeleteVersion?hv()(hI,{kind:a.DANGER,onPress:JA(e.onDeleteVersionPress,g)},void 0,Object(Xn.default)("Delete Version")):null,e.showViewPlayHistory?hv()(hI,{to:Pz(e.machineIdentifier,o)},void 0,Object(Xn.default)("View Play History")):null,e.showGetInfo?hv()(hI,{onPress:JA(e.onGetInfoPress,g)},void 0,Object(Xn.default)("Get Info")):null),e.showMarkPlayed||e.showMarkUnplayed?hv()(hhe,{isOpen:v.isOpen||m.isOpen,type:o.type,subtype:o.subtype,title:o.title,leafCount:v.isOpen?o.unviewedLeafCount:o.viewedLeafCount,markUnplayed:m.isOpen,onConfirm:v.isOpen?v.onConfirm:m.onConfirm,onCancel:v.isOpen?v.onClose:m.onClose}):null,e.showAddToAlbum||e.showAddToPlaylist?hv()(Oge,{isOpen:S.isOpen,serverEntityID:u,providerEntityID:c,metadataItemEntityID:s,onModalClose:S.onClose}):null,e.showSyncDownload?hv()(Zpe,{isOpen:I.isOpen,state:I.state,onConfirm:I.onConfirm,onClose:I.onClose}):null,hv()(whe,{isOpen:y.isOpen,mediaItems:o.Media,onCancel:y.onClose,onItemSelect:C}),hv()(khe,{serverEntityID:u,providerEntityID:c,metadataItemEntityID:s,isOpen:b.isOpen,onModalClose:b.onClose}))}zge.defaultProps={allowRedirectOnDelete:!1};var Fge=zge;var Bge=iZ(function(){return Object(Iy.createSelector)(XS,qde,wpe,Qse(),Dpe(),function(e,t,n,r,i){return Object.assign({metadataItem:r,machineIdentifier:e.machineIdentifier,providerIdentifier:t.identifier,embeddedServerEntityID:n},i)})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID,itemProviderEntityID:t.itemProviderEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage};return{onPlayPress:function(){e(Ire(Object.assign({},n,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayVersionPress:function(r){e(Ire(Object.assign({},n,{startMediaIndex:r,options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayAllPress:function(){e(Nre(n))},onShufflePress:function(){e(kre(n))},onPlayNextPress:function(){e(Tre(Object.assign({},n,{options:{playAll:!0,next:!0}})))},onAddToQueuePress:function(){e(Tre(Object.assign({},n,{options:{playAll:!0,next:!1}})))},onPlayPlexMixPress:function(){e(Dre(n))},onQueuePlexMixPress:function(){e(Pre(n))},onPlayPrimaryExtraPress:function(){e(Cre(n))},onPlayRadioPress:function(){e(Mre(Object.assign({playlistType:rr.a},n)))},onPlayArtistTVPress:function(){e(Mre(Object.assign({playlistType:rr.c},n)))},onAddToPicksPress:function(){e(xae(n))},onAddToSavedPress:function(){e(Eae(n))},onMarkPlayedConfirm:function(){e(Nde(Object.assign({},n,{skipConfirm:!0})))},onMarkUnplayedConfirm:function(){e(Ade(Object.assign({},n,{skipConfirm:!0})))},onEditPress:function(){e(vde(n))},onRefreshPress:function(){e(Cde(n))},onAnalyzePress:function(){e(pde(n))},onFixMatchPress:function(){e(mde(n))},onUnmatchPress:function(){e(wde(n))},onSplitApartPress:function(){e(Mde(n))},onSyncPress:function(){e(Dde(n))},onOptimizePress:function(){e(Sde(n))},onDownloadVersionPress:function(){e(gde(n))},onDeletePress:function(){e(hde(Object.assign({},n,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeleteVersionPress:function(){e(fde(n))},onGetInfoPress:function(){e(yde(n))},onCancelDownloadActivity:function(){e(Zde(n))},onDeleteDownloadSubscription:function(){e(Jde(n))},onCreateDownloadSubscription:function(){e(Xde(n))}}},Yde)(Fge),Hge=Xf.a.createElement,Vge=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onActionsPress=function(e){r.setState({hasBeenOpened:!0},function(){r.props.onMenuOpenChange(!r.props.isMenuOpen)})},r.onActionsMenuClose=function(){r.props.onMenuOpenChange(!1)},r._moreButtonID=PS(),r.state={hasBeenOpened:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e["data-qa-id"],n=e.className,r=e.iconClassName,i=e.tabIndex,a=e.serverEntityID,o=e.providerEntityID,s=e.metadataItemEntityID,l=e.containerKey,c=e.listType,u=e.isMenuOpen,d=(e.onMenuOpenChange,wt()(e,["data-qa-id","className","iconClassName","tabIndex","serverEntityID","providerEntityID","metadataItemEntityID","containerKey","listType","isMenuOpen","onMenuOpenChange"]));return hv()(RS,{"data-qa-id":t,id:this._moreButtonID,className:n,tabIndex:i,"aria-label":Object(Xn.default)("More Actions"),"aria-haspopup":!0,onPress:this.onActionsPress},void 0,hv()(V$,{clasName:r}),this.state.hasBeenOpened?Hge(Bge,dv()({serverEntityID:a,providerEntityID:o,metadataItemEntityID:s,containerKey:l,listType:c,target:this._moreButtonID,isOpen:u,onMenuClose:this.onActionsMenuClose},d)):null)},t}(Xf.a.Component);var Qge=function(e){var t=e.className,n=e.tabIndex,r=e.title,i=e.route;return r?i?hv()(RS,{className:t,"data-qa-id":"metadataTitleLink",tabIndex:n,title:r,to:i},void 0,r):hv()("span",{className:t,title:r},void 0,r):null};var Wge=function(e){var t=e.className,n=e.tabIndex,r=e.grandparentTitle,i=e.grandparentRoute;return hv()(Qge,{className:t,tabIndex:n,title:r,route:i})};var Gge=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},$de,qde,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};return e&&(i.context=e),{grandparentTitle:r.grandparentTitle,grandparentRoute:Og(t,n,r.grandparentKey,i)}})})(Wge);var Yge=function(e){var t=e.className,n=e.tabIndex,r=e.parentTitle,i=e.parentRoute;return hv()(Qge,{className:t,tabIndex:n,title:r,route:i})};var Kge=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},$de,qde,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};return e&&(i.context=e),{parentTitle:r.parentTitle,parentRoute:Og(t,n,r.parentKey,i)}})})(Yge);function qge(e,t){var n=Math.abs(Date.now()-1e3*e);return n<36e5?setTimeout(t,6e4):n<864e5?setTimeout(t,36e5):void 0}var Zge=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).trackTime=function(){var e=r.props.timestamp,t=eA(e);r.setState({title:t}),r.timeoutID=qge(e,r.trackTime)};var i=r.props.timestamp,a=eA(i);return r.state={title:a},r.timeoutID=qge(i,r.trackTime),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){if(e.timestamp!==this.props.timestamp){var t=eA(e.timestamp);this.setState({title:t})}},n.componentWillUnmount=function(){this.timeoutID&&(this.timeoutID=clearTimeout(this.timeoutID))},n.render=function(){var e=this.props.className,t=this.state.title;return hv()("span",{className:e},void 0,t)},t}(Xf.a.Component);var Xge=function(e){var t=e.className,n=e.addedAt,r=e.title,i=e.route;return n||r?hv()("span",{className:t},void 0,hv()(Zge,{timestamp:n}),n&&r?"  ":null,hv()(Qge,{title:r,route:i})):null};var Jge=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t=e,n=t.addedAt,r=t.Channel;return{addedAt:n,title:r&&r[0]&&r[0].tag}})})(Xge);var $ge=function(e){var t,n=e.className,r=e.leafCount;return null!=r&&(t=1===r?Object(Xn.default)("{trackCount} track",{trackCount:r}):Object(Xn.default)("{trackCount} tracks",{trackCount:r})),hv()("span",{className:n},void 0,t)};var eve=function(e){var t,n=e.className,r=e.skipChildren,i=e.childCount,a=e.leafCount;return r?hv()($ge,{className:n,leafCount:a}):(null!=i&&(t=1===i?Object(Xn.default)("{albumCount} album",{albumCount:i}):Object(Xn.default)("{albumCount} albums",{albumCount:i})),hv()("span",{className:n},void 0,t))};var tve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}})})(eve);var nve=function(e){var t,n=e.className,r=e.childCount,i=e.subtype;if(null!=r){var a=1===r,o={itemCount:r};t=i===nr.g?a?Object(Xn.default)("{itemCount} movie",o):Object(Xn.default)("{itemCount} movies",o):i===nr.l?a?Object(Xn.default)("{itemCount} show",o):Object(Xn.default)("{itemCount} shows",o):a?Object(Xn.default)("{itemCount} item",o):Object(Xn.default)("{itemCount} items",o)}return hv()("span",{className:n},void 0,t)};var rve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{childCount:e.childCount,subtype:e.subtype}})})(nve);var ive=function(e){var t=e.className,n=e.title;return hv()("span",{className:t,title:n},void 0,n)};var ave=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{title:e.title}})})(ive),ove=n(96);var sve=function(e){var t=e.className,n=e.date;return n?hv()("span",{className:t},void 0,Object(ove.default)(n)):null};var lve=function(e){var t=e.className,n=e.addedAt;return n?hv()(sve,{className:t,date:1e3*n}):null};var cve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{addedAt:e.addedAt}})})(lve);var uve=function(e){var t,n=e.className,r=e.leafCount;return null!=r&&(t=1===r?Object(Xn.default)("{itemCount} item",{itemCount:r}):Object(Xn.default)("{itemCount} items",{itemCount:r})),hv()("span",{className:n},void 0,t)};var dve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{leafCount:e.leafCount}})})(uve);var pve=function(e){var t,n=e.className,r=e.leafCount;return null!=r&&(t=1===r?Object(Xn.default)("{episodeCount} episode",{episodeCount:r}):Object(Xn.default)("{episodeCount} episodes",{episodeCount:r})),hv()("span",{className:n},void 0,t)};var hve=function(e){var t=e.className,n=e.skipChildren,r=e.childCount,i=e.leafCount;if(n)return hv()(pve,{className:t,leafCount:i});if(!r)return null;var a=1===r?Object(Xn.default)("{seasonCount} season",{seasonCount:r}):Object(Xn.default)("{seasonCount} seasons",{seasonCount:r});return hv()("span",{className:t},void 0,a)};var fve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{skipChildren:e.skipChildren,childCount:e.childCount,leafCount:e.leafCount}})})(hve),gve=hv()(cE,{});var vve=function(e){var t=e.className,n=e.tabIndex,r=e.skipParent,i=e.parentTitle,a=e.parentRoute,o=e.grandparentTitle,s=e.grandparentRoute;return hv()("span",{className:t},void 0,hv()(Qge,{tabIndex:n,title:o,route:s}),i&&!r?gve:null,r?null:hv()(Qge,{tabIndex:n,title:i,route:a}))};var mve=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};return e&&(i.context=e),{skipParent:r.skipParent,parentTitle:r.parentTitle,parentRoute:Og(t,n,r.parentKey,i),grandparentTitle:r.originalTitle||r.grandparentTitle,grandparentRoute:Og(t,n,r.grandparentKey,i)}})})(vve);var yve=function(e){var t=e.className,n=e.year;return hv()("span",{className:t,"data-qa-id":"metadataYear"},void 0,n)};var bve=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{year:e.year}})})(yve),Sve=hv()("path",{d:"M216 170l190.5 110L216 390z"});var Ive=function(e){return hv()("svg",{className:e.className,viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg"},void 0,Sve)},Cve=n(611),Mve=n.n(Cve),Dve=Xf.a.createElement;function wve(e){var t=e.className,n=e.circleClassName,r=e.title,i=wt()(e,["className","circleClassName","title"]);return Dve(RS,dv()({className:t,"aria-label":Object(Xn.default)("Play {title}",{title:r})},i),hv()(Ive,{className:n}))}wve.defaultProps={className:Mve.a.playButton,circleClassName:Mve.a.playCircle};var Pve=wve,Tve=n(612),Eve=n.n(Tve);function xve(e){var t=e.circleClassName,n=e.iconClassName;return hv()("div",{className:t},void 0,hv()("span",{className:n}))}xve.defaultProps={circleClassName:Eve.a.recordCircle,iconClassName:Eve.a.recordIcon};var Ove=xve,jve=n(970),Ave=n.n(jve),Nve=Xf.a.createElement;function kve(e){var t=e.className,n=e.circleClassName,r=e.iconClassName,i=e.title,a=wt()(e,["className","circleClassName","iconClassName","title"]);return Nve(RS,dv()({className:t,"aria-label":Object(Xn.default)("Record {title}",{title:i})},a),hv()(Ove,{circleClassName:n,iconClassName:r}))}kve.defaultProps={className:Ave.a.recordButton};var Lve=kve,Rve=n(319),_ve=n.n(Rve);function Uve(e){var t=e.className,n=e.playButtonClassName,r=e.playCircleClassName,i=e.serverEntityID,a=e.providerEntityID,o=e.imageWidth,s=e.imageHeight,l=e.imageUrl,c=e.title,u=e.isLiveTVItem,d=e.recordLink,p=e.onRecordPress,h=e.onPlayPress;return hv()(rge,{className:t,serverEntityID:i,providerEntityID:a,component:yL,width:o,height:s,url:l},void 0,u?hv()(Lve,{className:_ve.a.recordButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:_ve.a.recordCircle,tabIndex:"-1",title:c,to:d,onPress:p}):hv()(Pve,{className:n,"data-qa-id":"metadataPosterPlayButton",circleClassName:r,tabIndex:"-1",title:c,onPress:h}))}Uve.defaultProps={className:_ve.a.card,playButtonClassName:_ve.a.playButton,playCircleClassName:_ve.a.playCircle,isLiveTVItem:!1};var zve=Uve,Fve=n(971),Bve=n.n(Fve),Hve=Xf.a.createElement;function Vve(e){return Hve(zve,e)}Vve.defaultProps={className:Bve.a.card};var Qve=Vve,Wve=n(972),Gve=n.n(Wve),Yve=Xf.a.createElement;function Kve(e){var t=e.className,n=e.name,r=e.width,i=e.height,a=wt()(e,["className","name","width","height"]),o=n.toUpperCase().split(" "),s=o[0].charAt(0),l=o[o.length-1].charAt(0),c=o.length>1?""+s+l:n.charAt(0),u={fontSize:Math.max(14,Math.min(Math.round(r/4),42)),lineHeight:i+"px"};return Yve("div",dv()({style:u,className:(t||"")+" "+(Gve.a.anagram||"")},a),c)}Kve.defaultProps={width:13,height:13};var qve=Kve;var Zve=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.isOffscreen,i=e.tagType,a=e.librarySectionType,o=e.title,s=e.url,l=e.width,c=e.height,u=e.transitionProps,d=e.onLoad,p=e.onError;if(r)return null;if(s)return hv()(nL,{serverEntityID:t,providerEntityID:n,url:s,width:l,height:c,transitionProps:u,backgroundPosition:"center center",allowSizeBrackets:!0,onLoad:d,onError:p});var h=Wse.get(i);if(h&&h.isPerson)return hv()(qve,{name:o,width:l,height:c});var f=Cl.get(a),g=function(e){switch(e){case"artist":return"track";default:return e}}(f&&f.typeString);return hv()(mL,{type:g,width:l,height:c})},Xve=n(613),Jve=n.n(Xve),$ve=Xf.a.createElement;function eme(e){var t=e.className,n=e.imageWidth,r=e.imageHeight,i=e.imageUrl,a=e.tag,o=e.tagType,s=wt()(e,["className","imageWidth","imageHeight","imageUrl","tag","tagType"]),l=Wse.get(o),c=!!l&&l.isPerson;return $ve(rge,dv()({key:a,className:(t||"")+" "+(c&&Jve.a.isPerson||""),component:Zve,width:n,height:r,url:i,tagType:o},s))}eme.defaultProps={className:Jve.a.card};var tme=eme,nme=n(973),rme=n.n(nme),ime=Xf.a.createElement;var ame=function(e){return ime(tme,dv()({className:rme.a.card},e))},ome=n(614),sme=n.n(ome),lme=Xf.a.createElement;var cme=function(e){var t=e.className,n=e.component,r=e.isSecondary,i=wt()(e,["className","component","isSecondary"]);return hv()("div",{className:(t||"")+" "+(sme.a.title||"")+" "+(r&&sme.a.isSecondary||"")},void 0,lme(n,dv()({tabIndex:"-1"},i)))},ume=Dp.a.shape({key:Dp.a.string,hubKey:Dp.a.string,title:Dp.a.string,icon:Dp.a.string,type:Dp.a.string,subtype:Dp.a.string,agent:Dp.a.string,updatedAt:Dp.a.number,scannedAt:Dp.a.number,context:Dp.a.string});var dme=function(e){var t=e.className,n=e.server,r=e.provider,i=e.sourceDirectory,a=e.originalTitle,o=e.reason,s=e.reasonID,l=e.reasonTitle,c=e.filter,u=e.onPress;if(!o)return null;if("originalTitle"===o)return hv()("span",{className:t},void 0,a);if(!l)return null;var d={};("actor"===o||"director"===o)&&(d.filters=c||o+"="+s,d.filterLabel=l);var p=nj(n,r,i,d),h={director:Object(Xn.default)("by"),actor:Object(Xn.default)("with"),section:Object(Xn.default)("in"),autotag:Object(Xn.default)("tagged"),place:Object(Xn.default)("in")};return p?hv()("span",{className:t},void 0,h[o]," ",hv()(RS,{title:l,tabIndex:"-1",to:p,onPress:u},void 0,l)):hv()("span",{className:t},void 0,h[o]+" "+l)};var pme=Lm(function(){return Object(Iy.createSelector)(XS,xse,Hde(),Qse(),function(e,t,n,r){void 0===n&&(n={});var i=r||n.tagItem;return{server:e,provider:t,sourceDirectory:Gse(t,i.librarySectionKey),reasonID:n.reasonID,reason:n.reason,reasonTitle:n.reasonTitle,originalTitle:i.originalTitle,filter:i.filter,librarySectionType:i.librarySectionType}})})(dme);var hme=function(e){var t=e.className,n=e.tag;return hv()("span",{className:t},void 0,n)},fme=Xf.a.createElement;var gme=Lm(function(){return Object(Iy.createSelector)(Hde(),function(e){return void 0===e&&(e={}),{tag:e.tagItem&&e.tagItem.tag}})})(function(e){return fme(hme,e)}),vme=n(170),mme=n.n(vme);function yme(e,t,n){return n?function(e,t){switch(t){case"news":switch(e){case"clip":return[ave,Jge]}}switch(e){case"movie":return[ave,bve];case"show":return[ave,fve];case"episode":return[ave,Gge];case"artist":return[ave,tve];case"album":return[ave,Kge];case"track":return[ave,mve];case"photo":case"photoalbum":case"clip":return[ave,cve];case"playlist":return[ave,dve];case"collection":return[ave,rve];default:return[ave,pme]}}(e,t):[gme,pme]}var bme=function(e){function t(t){var n;return(n=e.call(this,t)||this).onItemPress=function(e){e.stopPropagation(),n.state.isActionsMenuOpen&&n.props.onLinkPress()},n.onItemFocus=function(e){n.props.onResultFocus(n.props.searchResultEntityID)},n.onPlayPress=function(e){e.stopPropagation(),n.props.onPlayPress(n.props.searchResultEntityID)},n.onLinkPress=function(e){e.stopPropagation(),n.props.onLinkPress()},n.onActionsMenuOpenChange=function(e){n.setState({isActionsMenuOpen:e})},n.state={isActionsMenuOpen:!1},n}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUpdate=function(e,t){if(e.isSelected!==this.props.isSelected&&e.isSelected){var n=Bv.a.findDOMNode(this);this.props.onScrollIntoView({scrollTop:n.offsetTop})}},n.render=function(){var e=this,t=this.props,n=t.serverEntityID,r=t.providerEntityID,i=t.searchResultEntityID,a=t.metadataItemEntityID,o=t.server,s=t.provider,l=t.isSelected,c=t.isMetadataItem,u=t.imageWidth,d=t.imageHeight,p=t.imageUrl,h=t.resultRoute,f=t.metadataKey,g=t.metadataTitle,v=t.metadataType,m=t.metadataSubtype,y=t.tag,b=t.tagTypeString,S=t.librarySectionType,I=t.reasonTitle,C=this.state.isActionsMenuOpen,M=c?v:b,D=c?m:null,w=s.protocols.livetv;return hv()(RS,{component:"div","data-qa-id":"quickSearchItemButton",className:(mme.a.button||"")+" "+((l||C)&&mme.a.selected||""),onPress:this.onItemPress,onFocus:this.onItemFocus},void 0,hv()(RS,{className:mme.a.underlay,"data-qa-id":"quickSearchItemLink",tabIndex:"1",title:c?g:y,to:h,onPress:h?this.onLinkPress:this.onPlayPress}),hv()("div",{className:mme.a.overlay},void 0,hv()("div",{className:mme.a.imageContainer},void 0,c?hv()(Qve,{serverEntityID:n,providerEntityID:r,imageWidth:u,imageHeight:d,imageUrl:p,title:g,type:v,isLiveTVItem:w,recordLink:Og(o,s,f,{record:1}),onRecordPress:this.onLinkPress,onPlayPress:this.onPlayPress}):hv()(ame,{serverEntityID:n,providerEntityID:r,imageWidth:u,imageHeight:d,imageUrl:p,title:y,tag:y,tagType:b,librarySectionType:S})),hv()("div",{className:mme.a.titles,"data-qa-id":"quickSearchTitleContainer"},void 0,yme(M,D,c).map(function(t,o){var s=o>0,l=s&&!!I;return hv()(cme,{className:s?null:mme.a.title,serverEntityID:n,providerEntityID:r,searchResultEntityID:i,metadataItemEntityID:a,component:l?pme:t,isSecondary:s,onPress:e.onLinkPress},o)})),c&&!w?hv()(Vge,{"data-qa-id":"quickSearchMoreButton",className:mme.a.moreButton,iconClassName:mme.a.moreIcon,tabIndex:"-1",serverEntityID:n,providerEntityID:r,metadataItemEntityID:a,showPlayTrailer:!1,showPlayPlexMix:!1,showQueuePlexMix:!1,showPlayMusicVideo:!1,showEdit:!1,showRefresh:!1,showAnalyze:!1,showFixMatch:!1,showMatch:!1,showUnmatch:!1,showSplitApart:!1,showSync:!1,showOptimize:!1,showDownload:!1,showDelete:!1,showDeleteVersion:!1,isMenuOpen:C,onMenuOpenChange:this.onActionsMenuOpenChange}):null))},t}(Xf.a.Component);bme.defaultProps={isMetadataItem:!1};var Sme=bme,Ime=Xf.a.createElement,Cme=Xf.a.Component,Mme=28,Dme=36;var wme=Object.assign({resetQuickSearch:cse,selectQuickSearchResult:hse,playQuickSearchResult:gse},g),Pme=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLinkPress=function(){var e=t.props.serverEntityID;t.props.resetQuickSearch({serverEntityID:e}),dT()},t.onResultFocus=function(e){Object(No.a)(function(){t.props.selectQuickSearchResult({searchResultEntityID:e})})},t.onPlayPress=function(e){var n=t.props,r=n.serverEntityID,i=n.providerEntityID;t.props.playQuickSearchResult({serverEntityID:r,providerEntityID:i,searchResultEntityID:e})},t}return Sy()(t,e),t.prototype.render=function(){return Ime(Sme,dv()({},this.props,{onLinkPress:this.onLinkPress,onResultFocus:this.onResultFocus,onPlayPress:this.onPlayPress}))},t}(Cme),Tme=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Hde(),Qse(),function(e,t,n,r,i){void 0===r&&(r={});var a={server:t,provider:n,reasonID:r.reasonID,reasonTitle:r.reasonTitle};if(i){var o=Gde(CL(i.type,i.subtype)===bL?Mme:Dme,null,i.type,i.subtype,i,Op),s=Gse(n,i.librarySectionKey);a=Object.assign({metadataKey:i.key,metadataTitle:i.title,metadataType:i.type,metadataSubtype:i.subtype,typeString:i.type,imageWidth:o.width,imageHeight:o.height,imageUrl:o.url,resultRoute:Kde(t,n,i,{context:e},s)},a)}else{var l=r.tagItem||{},c=Wse.get(l.tagType),u=c&&c.typeString,d=Gde(Dme,null,u,null,l,Op),p=nj(t,n,Gse(n,l.librarySectionKey),{filters:l.filter?l.filter:u+"="+l.id,filterLabel:l.tag,context:e});a=Object.assign({tag:l.tag,tagType:l.tagType,tagTypeString:u,librarySectionType:l.librarySectionType,imageWidth:d.width,imageHeight:d.height,imageUrl:d.url,resultRoute:p},a)}return a})},wme,Yde)(Pme),Eme=Xf.a.createElement;var xme=Lm(function(){return Object(Iy.createSelector)(Hde(),function(e){var t=e.metadataItem;return{metadataItemEntityID:t,isMetadataItem:!!t}})})(function(e){var t=e.component,n=wt()(e,["component"]);return Eme(t,n)}),Ome=Xf.a.createElement,jme=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.title,n=e.selectedResultEntityID,r=e.metadataResults,i=e.tagResults,a=wt()(e,["title","selectedResultEntityID","metadataResults","tagResults"]);return hv()(Vse,{title:t},void 0,r.concat(i).map(function(e,t){return Ome(xme,dv()({key:e,searchResultEntityID:e,component:Tme,isSelected:n===e},a))}))},t}(Xf.a.Component),Ame=n(385),Nme=n.n(Ame),kme=Xf.a.createElement;function Lme(e){var t=e.isLoading,n=e.hubs,r=wt()(e,["isLoading","hubs"]);return t?hv()("div",{className:Nme.a.spinnerContainer},void 0,hv()(ZE.a,{className:Nme.a.spinner})):n.length?hv()("div",{},void 0,n.map(function(e){return kme(jme,dv()({key:e.hubIdentifier,title:e.title,metadataResults:e.metadataResults,tagResults:e.tagResults,metricsContext:e.context},r))})):hv()("div",{className:Nme.a.noResults},void 0,Object(Xn.default)("No Results"))}var Rme=function(e){var t=e.title,n=e.isOnlyProvider,r=e.isSearchPending,i=(e.isSearchPopulated,wt()(e,["title","isOnlyProvider","isSearchPending","isSearchPopulated"]));return hv()("div",{},void 0,n?null:hv()("div",{className:Nme.a.title,"aria-label":"heading","aria-level":"4"},void 0,t),kme(Lme,dv()({isLoading:r&&!e.hubs.length},i)))},_me=Xf.a.createElement;var Ume=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.quickSearch},Hk(),function(e,t){return{title:t.title,selectedResultEntityID:e.selectedResultEntityID}})})(function(e){return _me(Rme,e)}),zme=Xf.a.createElement;var Fme=function(e){var t=e.searches,n=e.onScrollIntoView;return hv()("div",{},void 0,t.map(function(e){return zme(Ume,dv()({},e,{key:e.providerEntityID,isOnlyProvider:1===t.length,onScrollIntoView:n}))}))},Bme=Object(Iy.createSelector)(function(e){return e.ui.quickSearch},Py,function(e,t){return{searches:e.searches}}),Hme=Lm(function(e){return Bme(e)})(Fme),Vme=n(974),Qme=n.n(Vme),Wme=Xf.a.createElement,Gme=function(e){function t(t){var n;return(n=e.call(this,t)||this).onWindowResize=function(){n.setState({maxHeight:n.getMaxHeight()})},n.state={maxHeight:n.getMaxHeight()},n}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.onWindowResize)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onWindowResize)},n.getMaxHeight=function(){return window.innerHeight-150},n.render=function(){var e=this.props,t=e.forwardedRef,n=e.className,r=e.serverEntityID,i=e.providerEntityID,a=e.scrollTop,o=e.onScrollIntoView,s=e.onScrollPositionChange;return hv()(BN,{page:"quickSearchResults"},void 0,Wme(oT,{className:(Qme.a.container||"")+" "+(n||""),style:this.state,scrollTop:a,ref:t,onScrollPositionChange:s},hv()(Fse,{serverEntityID:r,providerEntityID:i}),hv()(Hme,{serverEntityID:r,providerEntityID:i,onScrollIntoView:o})))},t}(Xf.a.Component),Yme=Xf.a.forwardRef(function(e,t){return Wme(Gme,dv()({},e,{forwardedRef:t}))}),Kme=n(975),qme=n.n(Kme),Zme=Xf.a.createElement,Xme=Xf.a.Component,Jme=parseInt(yQ.a.searchResultHeight,10),$me=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScrollIntoView=function(e){var t=e.scrollTop,n=r._resultsRef.current.clientHeight+r.state.scrollTop,i=t+Jme>n||t<r.state.scrollTop;r.setState({scrollTop:i?t:r.state.scrollTop})},r.onWindowPress=function(e){if(r.state.isOpen){var t=r._searchRef.current;t&&t.contains(e.target)||r.setState({isOpen:!1})}},r.onKeyDown=function(e){var t=r.props,n=t.serverEntityID,i=t.providerEntityID,a=r.state.isOpen;switch(e.keyCode){case PT:case wT:a&&(e.stopPropagation(),e.preventDefault(),e.keyCode===wT?r.props.selectQuickSearchResult({offset:-1}):r.props.selectQuickSearchResult({offset:1}),r.isTabScoped&&(gT(),r.isTabScoped=!1));break;case MT:if(a){var o="osx"===of.a.platformID?e.metaKey:e.ctrlKey,s=e.shiftKey;dT(),r.isTabScoped=!1,o?s?r.props.playQuickSearchResult({serverEntityID:n,options:{shuffle:!0}}):r.props.playQuickSearchResult({serverEntityID:n,providerEntityID:i}):r.props.navigateQuickSearchResult({serverEntityID:n,providerEntityID:i})}break;case DT:e.nativeEvent.stopImmediatePropagation(),r.isTabScoped&&(gT(),r.isTabScoped=!1),a?r.setState({isOpen:!1}):r.props.changeQuickSearchQuery("");break;case CT:if(a){if(!r.isTabScoped)pT(r._resultsRef.current),r.isTabScoped=!0;hT(e)}}},r.onInputClick=function(e){r.isTabScoped&&(gT(),r.isTabScoped=!1),r.state.isOpen||""===r.props.query||r.setState({isOpen:!0})},r.onScrollPositionChange=function(e){var t=e.scrollTop;r.setState({scrollTop:t})},r.onSearch=function(){Object(No.a)(function(){r.props.fetchQuickSearch()})},r.onInputChange=function(e){Object(No.a)(function(){r.props.changeQuickSearchQuery(e)})},r._searchRef=Xf.a.createRef(),r._resultsRef=Xf.a.createRef(),r.isTabScoped=!1,r.state={scrollTop:0,isOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._listenForPress()},n.componentWillReceiveProps=function(e,t){var n=e.selectedResultEntityID,r=e.query,i=this.props.query!==r,a=r.trim().length,o=this.state.isOpen;a&&!o&&i?this.setState({isOpen:!0}):!a&&o&&(this.setState({isOpen:!1}),this.isTabScoped&&(aT=null,this.isTabScoped=!1)),null==n&&this.setState({scrollTop:0})},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this._stopListeningForPress()},n._listenForPress=function(){window.addEventListener("mouseup",this.onWindowPress),window.addEventListener("touchend",this.onWindowPress)},n._stopListeningForPress=function(){window.removeEventListener("mouseup",this.onWindowPress),window.removeEventListener("touchend",this.onWindowPress)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.query;return Zme("div",{className:qme.a.container,ref:this._searchRef,onKeyDown:this.onKeyDown},hv()(Pse,{query:r,onChange:this.onInputChange,onSearch:this.onSearch,onClick:this.onInputClick}),this.state.isOpen?Zme(Yme,{serverEntityID:t,providerEntityID:n,scrollTop:this.state.scrollTop,ref:this._resultsRef,onScrollIntoView:this.onScrollIntoView,onScrollPositionChange:this.onScrollPositionChange}):null)},t}(Xme),eye=Xf.a.createElement,tye=Xf.a.Component,nye=Object(Iy.createSelector)(function(e){return e.servers},function(e){return e.ui.quickSearch.serverEntityID},My,function(e,t,n){return t&&e.indexOf(t)>-1?n[t]:void 0}),rye=KS(Object(Iy.createSelector)(function(e){return e.user.desktop.providers},ek,sse,function(e,t,n){return e.filter(function(e){var r=t[e],i=r.providerIdentifier||r.identifier,a=C.a.findWhere(r.features,{type:"search"}),o=a&&a.requires;return(!o||!!n.services[o])&&Cn.i(i,[Cn.g,Cn.e])})}),function(e){return e}),iye=KS(Object(Iy.createSelector)(nye,function(e){return e.user.desktop.providers},rye,function(e,t,n){return e?e.isCloud?t:[].concat(e.providers,n):[]}),function(e){return e});var aye=Object.assign({populateProviders:fc},f),oye=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate()},n.componentWillReceiveProps=function(e){var t=e.isConnected!==this.props.isConnected,n=e.providerEntityIDs!==this.props.providerEntityIDs,r=e.providerIdentifier!==this.props.providerIdentifier;(t||n||r)&&this._populate(e)},n._populate=function(e){void 0===e&&(e=this.props);var t=e,n=t.serverEntityID,r=t.isConnected,i=t.isCloud,a=t.providerEntityIDs,o=t.providerIdentifier;n&&r&&!i&&e.populateProviders({serverEntityID:n}),a&&a.length&&Object(No.a)(function(){e.initQuickSearch({serverEntityID:n,providerEntityIDs:a,providerIdentifier:o})})},n.render=function(){var e=this.props,t=e.providerEntityIDs,n=wt()(e,["providerEntityIDs"]);return t&&t.length?eye($me,n):null},t}(tye),sye=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.quickSearch},nye,iye,function(e,t,n){return t?{serverEntityID:t.entityID,providerEntityID:e.providerEntityID,isConnected:t.isConnected,isCloud:t.isCloud,providerEntityIDs:n,query:e.query,providerIdentifier:e.providerIdentifier,selectedResultEntityID:e.selectedResultEntityID}:{}})},aye)(oye);function lye(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-TV-mode-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M56 98c-7.732 0-14 6.268-14 14v336c0 7.732 6.268 14 14 14h448c7.732 0 14-6.268 14-14V112c0-7.732-6.268-14-14-14H56zm0-42h448c30.928 0 56 25.072 56 56v336c0 30.928-25.072 56-56 56H56c-30.928 0-56-25.072-56-56V112c0-30.928 25.072-56 56-56zm155.04 315h-38.145V222.852h-48.85v-31.747h135.844v31.747h-48.85V371zm191.755-179.895h38.514L380.155 371h-41.59l-61.031-179.895h38.513l33.838 107.051c1.887 6.317 3.835 13.679 5.845 22.087s3.26 14.253 3.753 17.534c.902-7.547 3.978-20.753 9.228-39.62l34.084-107.052z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}lye.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var cye=lye;function uye(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-back-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M56 280l224 224V322h224v-84H280V56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}uye.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var dye=uye;function pye(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M84 448V291.598a28 28 0 0 1 8.201-19.799L280 84l187.799 187.799A28 28 0 0 1 476 291.598V448c0 15.464-12.536 28-28 28H322V336h-84v140H112c-15.464 0-28-12.536-28-28z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}pye.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var hye=pye;function fye(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-menu-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M28 420h504v62.222H28V420zm0-171.333h504v62.222H28v-62.222zM28 78h504v62.222H28V78z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}fye.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var gye=fye,vye=n(976),mye=n.n(vye);function yye(e){return C.a.reduce(e,function(e,t,n){var r=function e(t){var n=t.match(/(.+) (.+)/);if(n)return e(n[1]).concat({plain:!0,s:"then"}).concat(e(n[2]));var r=t.match(/(.+)\+(\S+)/);if(r)return e(r[1]).concat({plain:!0,s:"+"}).concat(e(r[2]));var i=C.a.reduce([[/command/,""],[/up/,""],[/down/,""],[/left/,""],[/right/,""]],function(e,t){return e.replace(t[0],t[1])},t);return[{s:i}]}(t);if(0===n)return e.concat(r);var i=r.length>1;return e.concat({plain:!0,split:i,s:"or"},r)},[])}var bye=Lc.extend({name:"keyboardShortcutsModal",className:"keyboard-shortcuts-modal modal fade",template:mye.a,orderedGroups:[{group:"navigation",label:"Navigation"},{group:"actions",label:"Actions"},{group:"player",label:"Player"}],initialize:function(e){Lc.prototype.initialize.apply(this,arguments),this.shortcuts=e.shortcuts},serializeData:function(){var e={};return C.a.each(this.shortcuts,function(t){var n=t.group;("function"!=typeof t.isSupported||t.isSupported())&&(e[n]||(e[n]=[]),e[n].push(this.humanizeShortcut(t)))},this),{groups:C.a.map(this.orderedGroups,function(t){var n=C.a.clone(t);return n.shortcuts=e[t.group],n},this)}},humanizeShortcut:function(e){return(e=C.a.clone(e)).keys=yye(e.keys),e.label=e.label(),e}}),Sye=n(615),Iye=n.n(Sye),Cye=Xf.a.createElement;function Mye(e){var t=e.children,n=e.badgeClassName,r=e.badgeLabel,i=e.badgeKind,a=wt()(e,["children","badgeClassName","badgeLabel","badgeKind"]);return Cye(hI,a,t,hv()(TY,{className:n,kind:i},void 0,r))}Mye.defaultProps={className:Iye.a.badgeMenuItem,badgeClassName:Iye.a.badge,badgeKind:Qp};var Dye=Mye,wye=n(977),Pye=n.n(wye);function Tye(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}Tye.defaultProps={className:Pye.a.menuHeader};var Eye=Tye,xye=hv()(q1,{}),Oye=hv()(q1,{});var jye=function(e){var t=e.isOpen,n=e.target,r=e.options,i=e.username,a=e.isSignedIn,o=e.hasHome,s=e.isFullUser,l=e.announcementsCount,c=e.friendInvitesCount,u=e.appsURL,d=e.onUsersAndSharingPress,p=e.onSwitchUserPress,h=e.onSignInPress,f=e.onSignOutPress,g=e.onKeyboardShortcutPress,v=e.onMenuClose;return hv()(zT,{isOpen:t,target:n,options:r,onMenuClose:v},void 0,i?hv()(Eye,{},void 0,i):null,a?hv()(hI,{to:"#!/settings/account",onPress:v},void 0,Object(Xn.default)("Account")):null,a?hv()(Dye,{badgeLabel:c>0?c:null,onPress:JA(v,d)},void 0,Object(Xn.default)("Users & Sharing")):null,a?xye:null,hv()(Dye,{to:"#!/announcements",badgeLabel:l>0?l:null,onPress:v},void 0,Object(Xn.default)("Announcements")),hv()(hI,{to:u,target:"_self",onPress:v},void 0,Object(Xn.default)("Get Plex apps")),hv()(hI,{to:bB,target:"_self",onPress:v},void 0,Object(Xn.default)("Help")),hv()(hI,{onPress:JA(v,g)},void 0,Object(Xn.default)("Keyboard Shortcuts")),Oye,o?hv()(hI,{onPress:JA(v,p)},void 0,Object(Xn.default)("Switch User...")):null,a?null:hv()(hI,{onPress:JA(v,h)},void 0,Object(Xn.default)("Sign In")),a&&s?hv()(hI,{onPress:JA(v,f)},void 0,Object(Xn.default)("Sign Out")):null)};var Aye=Lm(function(){return Object(Iy.createSelector)(wy,H9,Kie,qie,function(e,t,n,r){return{username:e.title,isSignedIn:e.signedIn,isRestricted:e.isRestricted,hasHome:!!e.home,isFullUser:e.isFullUser,announcementsCount:n.length,friendInvitesCount:r.length,appsURL:t?t.appsUrl:"https://plex.tv/downloads"}})},function(e,t){return{onSwitchUserPress:function(t){setTimeout(function(){e(ko())})},onUsersAndSharingPress:function(e){e.preventDefault(),z.a.trigger("navigate","usersSharing")},onSignInPress:function(e){e.preventDefault(),z.a.trigger("navigate","login")},onSignOutPress:function(e){e.preventDefault(),z.a.trigger("navigate","logout")},onKeyboardShortcutPress:function(e){e.preventDefault();var t=Object(J.c)("keyboardShortcuts");z.a.trigger("show:modal",new bye({shortcuts:t.shortcuts}))}}})(jye),Nye=n(227),kye=n.n(Nye),Lye=Xf.a.Component,Rye=Xf.a.Fragment,_ye=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onButtonPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(e){r.setState({isMenuOpen:!1})},r.state={isMenuOpen:!1},r._buttonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.tooltipClassName,r=e.tooltipFocusedClassName,i=e.serverEntityID,a=e.userThumb,o=e.badgeCount;return hv()(Rye,{},void 0,hv()(gN,{className:t,tooltipClassName:n,tooltipFocusedClassName:r,id:this._buttonID,component:AI,isSelected:!1,tooltip:this.state.isMenuOpen?null:Object(Xn.default)("Account"),direction:this.state.isMenuOpen?Up:Fp,onPress:this.onButtonPress},void 0,hv()("div",{className:kye.a.avatarContainer},void 0,hv()("div",{className:(kye.a.overlay||"")+" "+(this.state.isMenuOpen&&kye.a.isMenuOpen||"")}),hv()($k,{serverEntityID:i,width:30,height:30,url:a})),hv()(TY,{className:kye.a.badge,kind:Qp},void 0,o>0?o:null)),hv()(Aye,{isOpen:this.state.isMenuOpen,target:this._buttonID,onMenuClose:this.onMenuClose}))},t}(Lye);_ye.defaultProps={className:kye.a.button,tooltipClassName:kye.a.tooltip,tooltipFocusedClassName:kye.a.tooltipTriggerHasFocus};var Uye,zye=_ye,Fye=((Uye={})[Ox]=!0,Uye[jx]=!0,Uye[Tx]=!0,Uye["grabber.assimilate"]=!0,Uye[Px]=!0,Uye["general.db.backup"]=!0,Uye[xx]=!0,Uye[Ex]=!0,Uye["media.generate.bif"]=!0,Uye["subtitle.download"]=!0,Uye),Bye=n(132),Hye=n(386),Vye=n.n(Hye);var Qye=function(e){var t=e.title,n=e.subtitle,r=e.progress,i=e.isPostProcessing;return hv()("div",{className:Vye.a.splitButton},void 0,hv()("span",{className:Vye.a.activityTitleContainer},void 0,hv()("span",{className:Vye.a.activityTitle,title:t},void 0,t,n?":":null),n?hv()("span",{className:Vye.a.activitySubtitle,title:n},void 0,n):null),hv()("span",{},void 0,null==r||i?hv()(ZE.a,{size:qp.SMALL}):hv()(jQ,{progress:r,size:18,lineWidth:2,showProgressText:!1})))},Wye=n(387),Gye=n.n(Wye);function Yye(e){var t=e.to,n=e.label,r=e.indicator,i=e.onPress;return hv()(hI,{className:Gye.a.splitButton,to:t,onPress:i},void 0,hv()("span",{},void 0,n),r?hv()("span",{className:Gye.a.statusButtonIndicator},void 0,r):null)}var Kye=function(e){var t=e.friendlyName,n=e.machineIdentifier,r=e.sessions,i=e.backgroundTranscodeJobs,a=e.activities,o=e.libraries,s=e.onMenuClose;return hv()("div",{className:Gye.a.statusContainer},void 0,hv()("div",{className:Gye.a.statusTitle},void 0,t),hv()(Yye,{to:"#!/settings/server/"+n+"/status/server-dashboard",label:Object(Xn.default)("Dashboard"),indicator:r.length?""+r.length:null,onPress:s}),i.length?hv()(Yye,{to:"#!/settings/server/"+n+"/status/conversion",label:Object(Xn.default)("Conversions"),indicator:""+i.length,onPress:s}):null,a.length?a.map(function(e){var t=e.uuid,n=e.type,r=e.title,i=e.subtitle,a=e.progress,o=e.Context,s=void 0===o?{}:o;return Fye[n]?hv()(Qye,{title:r,subtitle:i,progress:a,isPostProcessing:s.status===Bye.b.POST_PROCESSING},t):null}):null,o.length?o.map(function(e){var t=e.uuid,n=e.title;return hv()(Qye,{title:Object(Xn.default)("Scanning library files"),subtitle:n},t)}):null)};function qye(){return Object(Iy.createSelector)(Object(Iy.createSelector)(WA(),function(e){return e.libraries?e.libraries:[]}),Uq,function(e,t){return e.reduce(function(e,n){var r=t[n];return r.refreshing&&e.push(r),e},[])})}var Zye=Lm(function(){return Object(Iy.createSelector)(Dy(),GA(),Object(Iy.createSelector)(WA(),function(e){return e.backgroundTranscodeJobs?e.backgroundTranscodeJobs:[]}),Object(Iy.createSelector)(WA(),function(e){return e.activities?e.activities:[]}),qye(),function(e,t,n,r,i){return{friendlyName:e.friendlyName,machineIdentifier:e.machineIdentifier,sessions:t,backgroundTranscodeJobs:n,activities:r,libraries:i}})})(Kye),Xye="#!/downloads";function Jye(e){return F.join(Xye,e)}var $ye=n(616),ebe=n.n($ye);var tbe=function(e){var t=e.activities,n=e.onMenuClose;return t.length?hv()("div",{className:ebe.a.statusContainer},void 0,hv()("div",{className:ebe.a.statusTitle},void 0,hv()(RS,{to:Jye(),onPress:n},void 0,Object(Xn.default)("Downloads"))),t.map(function(e){var t=e.uuid,n=e.title,r=e.subtitle,i=e.progress,a=e.Context,o=void 0===a?{}:a;return hv()(Qye,{title:n,subtitle:r,progress:i,isPostProcessing:o.status===Bye.b.POST_PROCESSING},t)})):null};var nbe=Lm(function(){return Object(Iy.createSelector)(WA(),function(e){return{activities:e&&e.activities?e.activities.filter(function(e){return Fye[e.type]}):[]}})})(tbe),rbe=n(978),ibe=n.n(rbe),abe={placement:"bottom-end"};var obe=function(e){var t=e.isOpen,n=e.target,r=e.embeddedServerEntityID,i=e.ownedServerEntityIDs,a=e.onMenuClose;return hv()(zT,{className:ibe.a.menu,isOpen:t,target:n,options:abe,onMenuClose:a},void 0,i.map(function(e){return hv()(Zye,{serverEntityID:e,onMenuClose:a},e)}),r?hv()(nbe,{serverEntityID:r,onMenuClose:a},r):null)};function sbe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-navbar-activity-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M248.175 179.16l-61.448 163.858A20 20 0 0 1 168 355.996H84v-40h70.14l79.133-211.019c6.892-18.376 33.37-16.868 38.13 2.172l70.887 283.544 31.821-63.641A20 20 0 0 1 392 315.996h84v40h-71.64L353.89 456.938c-8.304 16.608-32.788 13.92-37.292-4.093l-68.422-273.686z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}sbe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var lbe=sbe,cbe=n(388),ube=n.n(cbe);function dbe(e){var t=e.className,n=e.iconComponent,r=e.isActive;return hv()("span",{className:t},void 0,r?hv()(ZE.a,{className:ube.a.activityIndicator}):null,hv()(n,{className:ube.a.icon}))}dbe.defaultProps={className:ube.a.iconContainer,iconClassName:ube.a.icon,iconComponent:lbe};var pbe=dbe,hbe=n(482),fbe=n.n(hbe),gbe=Xf.a.Component,vbe=Xf.a.Fragment,mbe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onActivityPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.state={isMenuOpen:!1},r._buttonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){this.props.isDisabled&&!e.isDisabled&&this.state.isMenuOpen&&this.onMenuClose()},n.render=function(){var e=this.props,t=e.className,n=e.isDisabled,r=e.iconClassName,i=e.labelClassName,a=e.showActivityButton,o=e.embeddedServerEntityID,s=e.ownedServerEntityIDs,l=e.hasSessions,c=e.hasConversions,u=e.hasActivities,d=e.hasLibraryRefreshing,p=e.activityButtonCount;if(!a)return null;var h=l||c,f=u||d;return hv()(vbe,{},void 0,hv()(Xoe,{id:this._buttonID,isDisabled:n,className:(t||"")+" "+(h&&fbe.a.isHighlighted||""),iconClassName:r,labelClassName:i,iconProps:{isActive:f},iconComponent:pbe,ariaLabel:Object(Xn.default)("Activity"),title:this.state.isMenuOpen?null:Object(Xn.default)("Activity"),label:p?String(p):null,onPress:this.onActivityPress}),hv()(obe,{isOpen:this.state.isMenuOpen,target:this._buttonID,embeddedServerEntityID:o,ownedServerEntityIDs:s,onMenuClose:this.onMenuClose}))},t}(gbe);mbe.defaultProps={iconClassName:fbe.a.activityIcon,labelClassName:fbe.a.label};var ybe=mbe,bbe={sessionsCount:0,backgroundTranscodeJobsCount:0,activitiesCount:0};function Sbe(e){return e.reduce(function(e,t){var n=t.sessions,r=void 0===n?[]:n,i=t.backgroundTranscodeJobs,a=void 0===i?[]:i,o=t.activities,s=void 0===o?[]:o;return e.sessionsCount+=r.length,e.backgroundTranscodeJobsCount+=a.length,e.activitiesCount+=s.filter(function(e){return!!Fye[e.type]}).length,e},Object.assign({},bbe))}var Ibe=KS(Object(Iy.createSelector)(_X,function(e){return e.map(function(e){return e.desktop})}),function(e){return e}),Cbe=Object(Iy.createSelector)(Ibe,function(e){return Sbe(e)}),Mbe=Object(Iy.createSelector)(Epe,function(e){return e&&e.desktop}),Dbe=Object(Iy.createSelector)(Mbe,function(e){return e?Sbe([e]):bbe}),wbe=Object(Iy.createSelector)(Cbe,Dbe,function(e,t){return{activitiesCount:e.activitiesCount+t.activitiesCount,backgroundTranscodeJobsCount:e.backgroundTranscodeJobsCount+t.backgroundTranscodeJobsCount,sessionsCount:e.sessionsCount+t.sessionsCount}}),Pbe=Object(Iy.createSelector)(Ibe,Uq,function(e,t){return e.reduce(function(e,n){return e+=n.libraries.filter(function(e){var n=t[e];return!!n&&n.refreshing}).length},0)});var Tbe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isDisabled},wpe,UX,wbe,Pbe,function(e,t,n,r,i){var a=n.length>0,o=a;return t&&(o=!0,e=e||!a&&r.sessionsCount+r.backgroundTranscodeJobsCount+r.activitiesCount===0),{isDisabled:e,embeddedServerEntityID:t,ownedServerEntityIDs:n,showActivityButton:o,hasSessions:r.sessionsCount>0,hasConversions:r.backgroundTranscodeJobsCount>0,hasActivities:r.activitiesCount>0,hasLibraryRefreshing:i>0,activityButtonCount:r.sessionsCount+r.backgroundTranscodeJobsCount}})})(ybe),Ebe=n(979),xbe=n.n(Ebe),Obe=Xf.a.createElement,jbe=Xf.a.Component,Abe=Xf.a.Fragment,Nbe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onButtonPress=function(e){r.setState({isPlexPassModalOpen:!0})},r.onModalClose=function(e){r.setState({isPlexPassModalOpen:!1})},r.state={isPlexPassModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){return hv()(Abe,{},void 0,Obe(RS,dv()({},this.props,{onPress:this.onButtonPress}),Object(Xn.default)("Go Premium")),hv()(VH,{metricsProperties:{context:"navBar"},isOpen:this.state.isPlexPassModalOpen,onModalClose:this.onModalClose}))},t}(jbe);Nbe.defaultProps={className:xbe.a.button};var kbe=Nbe,Lbe=n(92),Rbe=n.n(Lbe),_be=Xf.a.useCallback,Ube=hv()(sye,{}),zbe=hv()(ose,{});var Fbe,Bbe=function(e){var t=e.serverEntityID,n=e.hasHistory,r=e.hasHomeButton,i=e.userThumb,a=e.badgeCount,o=e.canEnterFullscreen,s=e.canExitFullscreen,l=e.canGoPremium,c=e.canNavigateHistory,u=e.canToggleSidebar,d=e.isSidebarCollapsed,p=e.isOnLogout,h=e.onBackPress,f=e.onSwitchAppLayout,g=e.onEnterFullscreen,v=e.onExitFullscreen,m=e.onToggleCollapsedSidebar,y=_be(function(){m(!d)},[d,m]);return p?null:hv()("div",{className:Rbe.a.container},void 0,hv()("div",{className:Rbe.a.left},void 0,u?hv()(Xoe,{className:Rbe.a.button,iconComponent:gye,title:d?Object(Xn.default)("Expand"):Object(Xn.default)("Collapse"),onPress:y}):null,r?hv()(Xoe,{className:Rbe.a.button,to:"#",iconComponent:hye,title:Object(Xn.default)("Home")}):null,hv()(RS,{to:"#",className:Rbe.a.plexLogo}),c?hv()(Xoe,{className:Rbe.a.button,iconComponent:dye,title:Object(Xn.default)("Back"),isDisabled:!n,onPress:h}):null,Ube),hv()("div",{className:Rbe.a.right},void 0,l?hv()(kbe,{className:Rbe.a.plexPassButton}):null,l?hv()("div",{className:Rbe.a.buttonSeparator}):null,f?hv()(Xoe,{className:Rbe.a.button,iconComponent:cye,title:Object(Xn.default)("Enter TV Layout"),onPress:f}):null,s?hv()(Xoe,{className:Rbe.a.button,iconComponent:sae,title:Object(Xn.default)("Exit Full Screen"),onPress:v}):null,o?hv()(Xoe,{className:Rbe.a.button,iconComponent:aae,title:Object(Xn.default)("Enter Full Screen"),onPress:g}):null,o||s||f?hv()("div",{className:Rbe.a.buttonSeparator}):null,hv()(Tbe,{className:Rbe.a.button}),zbe,hv()(Goe,{className:Rbe.a.button,iconComponent:Xoe}),hv()(zye,{className:Rbe.a.accountButton,serverEntityID:t,userThumb:i,badgeCount:a})))},Hbe=Xf.a.Component,Vbe=(void 0===Fbe&&(Fbe=of.a),"ios"===Fbe.platformID||yg()||!1),Qbe=Object(Iy.createSelector)(function(e){return e.isFullscreen},function(e){return e}),Wbe=Object(Iy.createSelector)(Py,function(e){return e.isSidebarCollapsed});var Gbe=Lm(function(){return Object(Iy.createSelector)(function(e){return e.history},wy,Kie,qie,Qbe,Wbe,function(e,t,n,r,i,a){var o=Object(Tr.a)(Er.n,cv.a),s=window.location.hash,l=/#!\/logout/.test(s),c=/#!\/settings/.test(s),u=Object(J.c)("fullscreenManager").hasFullscreen;return{serverEntityID:o,hasHistory:e.length>1,hasHomeButton:c,userThumb:t.thumb,badgeCount:n.length+r.length,isFullscreen:i,isSidebarCollapsed:a,isOnLogout:l,canGoPremium:t.canGoPremium,canEnterFullscreen:yg()&&u&&!i,canExitFullscreen:u&&i,canNavigateHistory:Vbe,canToggleSidebar:!c}})},function(e,t){var n={onBackPress:function(e){z.a.trigger("navigate:back")},onEnterFullscreen:function(e){Object(J.c)("fullscreenManager").enter()},onExitFullscreen:function(e){Object(J.c)("fullscreenManager").exit()},onToggleCollapsedSidebar:function(t){Object(No.a)(function(){e(Wo({isSidebarCollapsed:t}))})}};return yg()&&(n.onSwitchAppLayout=function(){e(Ug())}),n})(Bbe),Ybe=hv()(rae,{}),Kbe=hv()(Gbe,{}),qbe=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}Sy()(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e){D.a.error(e.stack)},n.render=function(){return this.state.hasError?Ybe:Kbe},t}(Hbe),Zbe=hv()(qbe,{}),Xbe=Rm.extend({className:"nav-bar",initialize:function(){this.listenTo(z.a,"change:language",this.render)},component:function(){return Zbe}});function Jbe(e){var t=e.get("playQueue");if(t)return Ree(e,t.get("currentIndex"))}function $be(e){var t=Jbe(e),n=e.get("currentDecision");if(t&&n)return n.playQueueItemID===t.get("playQueueItemID")?n:void 0}var eSe="stopped",tSe="playing",nSe="paused",rSe="buffering",iSe="error";function aSe(e){return e.get("isOpen")?e.get("hasError")?iSe:e.get("isPaused")?nSe:e.get("isBuffering")?rSe:tSe:eSe}var oSe=function(e,t){var n=Object(F.parseUrl)(e),r=n.origin,i=n.pathname,a=n.params;return a.offset=t,Object(F.join)([r,i],a)};var sSe=n(285),lSe="progress",cSe="complete";var uSe=function(e,t,n){var r=n;if(e.Part.length>1)for(var i=0,a=e.Part.length;i<a;i++){var o=e.Part[i];if(!o.duration)break;if(t.key===o.key)break;r+=o.duration}return r};function dSe(e){return{startedAt:Object(Fr.a)(e.timeStamp),seekStartSeconds:Object(Fr.a)(e.minOffsetAvailable),seekEndSeconds:Object(Fr.a)(e.maxOffsetAvailable)}}var pSe;function hSe(){return Object(J.c)("settingFinder").find("volume")}var fSe="ui/player/playerMedia/togglePlayPause",gSe="ui/player/playerMedia/skipBack",vSe="ui/player/playerMedia/stepBack",mSe="ui/player/playerMedia/changeVolume",ySe="ui/player/playerSettings/changeQualityIndex",bSe="ui/player/playerSettings/changeStream",SSe=Mt("ui/player/playerMedia/sendTimeline"),ISe=Mt("ui/player/playerMedia/updatePlayerDuration"),CSe=Mt("ui/player/playerMedia/updatePlayerPosition"),MSe=Mt("ui/player/playerMedia/updatePlayerSeekRange"),DSe=Mt("ui/player/playerMedia/updatePlayerBuffering"),wSe=(Mt("ui/player/playerMedia/updatePlayerLoading"),Mt("ui/player/playerMedia/updatePlayerError")),PSe=Mt("ui/player/playerMedia/clearPlayerError"),TSe=Mt("ui/player/playerMedia/tickPlayer"),ESe=Mt(fSe),xSe=Mt("ui/player/playerMedia/seek"),OSe=(Mt("ui/player/playerMedia/transcodeSeek"),Mt(gSe)),jSe=Mt("ui/player/playerMedia/skipForward"),ASe=Mt(vSe),NSe=Mt("ui/player/playerMedia/stepForward"),kSe=Mt(mSe),LSe=Mt("ui/player/playerSettings/togglePlayerSettingsState"),RSe=Mt("ui/player/playerSettings/togglePlayerChaptersState"),_Se=Mt("ui/player/playerSettings/togglePlayerSubtitlesOffsetState"),USe=Mt(ySe),zSe=Mt(bSe),FSe=Mt("ui/player/playerSettings/changeSubtitleColor"),BSe=Mt("ui/player/playerSettings/changeSubtitlePosition"),HSe=Mt("ui/player/playerSettings/changeSubtitleSize"),VSe=Mt("ui/player/playerSettings/changeSubtitleOffset"),QSe=Mt("ui/player/playerMedia/changePlaybackSpeed"),WSe=Mt("ui/player/playerMedia/setPlaybackTime"),GSe=Mt("ui/player/playerMedia/skipAd"),YSe=Mt("ui/player/playerMedia/refreshStreams"),KSe=Mt(fSe,function(e){return Object.assign({},e,{shouldPlay:!0})}),qSe=Mt(fSe,function(e){return Object.assign({},e,{shouldPause:!0})});Mt(mSe,function(e){return Object.assign({},e,{delta:5})}),Mt(mSe,function(e){return Object.assign({},e,{delta:-5})});function ZSe(e,t,n){return Math.max(0,Math.min(t-Zne,e+n))}var XSe=((pSe={})["ui/player/playerMedia/sendTimeline"]=function(e,t,n){var r=t.playerType,i=t.providerEntityID,a=t.shouldRefreshPlayQueue,o=t.options,s=void 0===o?{}:o,l=Lee(e,r),c=Co(e,{providerEntityID:i}),u=Oo(e,t);(function(e,t,n){var r=n.mediaIndex,i=n.partIndex,a=n.partCount,o=n.state,s=n.continuing,l=n.playbackTime,c=n.positionSeconds,u=n.durationSeconds,d=e.get("features").get(un);if(!d)return P.a.Deferred().reject().promise();var p=t.get("metadataItem"),h={ratingKey:p.get("ratingKey"),key:p.get("key"),playbackTime:l,playQueueItemID:t.get("playQueueItemID"),state:o,hasMDE:1};if(o===eSe&&s&&(h.continuing=1),null!=u){var f=1e3*c,g=1e3*u;if(a>1){var v=p.get("Media")[r],m=v.Part[i];h.time=uSe(v,m,f),h.duration=v.duration}else h.time=f,h.duration=g;h.duration=Math.max(h.time,h.duration)}Object(D.a)("[Player] Timeline, %s",h);var y=F.join(d.get("key"),h),b=t.provider.getXHROptions(y,{headers:{"X-Plex-Session-Identifier":n.playbackSessionID}});return P.a.ajax(b).promise().then(function(t){var n=Object(Mae.a)(t);return n.terminationCode&&(n.terminationCode=Object(Fr.a)(n.terminationCode)),n.generalDecisionCode&&(n.generalDecisionCode=Object(Fr.a)(n.generalDecisionCode)),n.mdeDecisionCode&&(n.mdeDecisionCode=Object(Fr.a)(n.mdeDecisionCode)),n.transcodeDecisionCode&&(n.transcodeDecisionCode=Object(Fr.a)(n.transcodeDecisionCode)),n.Bandwidths&&n.TranscodeSession&&(n.bandwidthTimeline={bandwidths:Object(sSe.a)(n.Bandwidths.Bandwidth),transcodeSessionID:C.a.last(n.TranscodeSession.key.split("/"))}),n.CaptureBuffer&&n.CaptureBuffer.TranscodeSession&&(n.captureBuffer=dSe(n.CaptureBuffer.TranscodeSession)),n.TranscodeSession&&(n.transcodeSession=dSe(n.TranscodeSession)),(h.time>6e4||e.id===Cn.b)&&(n.playbackState===lSe?p.set("viewOffset",h.time):n.playbackState===cSe&&function(e){e.set({viewOffset:0,viewCount:1})}(p)),n})})(c,u,Object.assign({state:aSe(l),playbackSessionID:l.get("playbackSessionID")},s)).done(kne(l,function(e){n(fre({playerType:r}));var t=e.bandwidthTimeline,i=e.captureBuffer,o=e.transcodeSession;l.set("bandwidthTimeline",t);var s=l.get("liveTVSession");o?(n(MSe({playerType:r,seekStartSeconds:o.seekStartSeconds,seekEndSeconds:o.seekEndSeconds})),s&&o.startedAt&&s.set({startedAt:o.startedAt,captureBuffer:i})):i&&(n(MSe({playerType:r,seekStartSeconds:i.seekStartSeconds,seekEndSeconds:i.seekEndSeconds})),s&&i.startedAt&&s.set({startedAt:i.startedAt}));var c=l.get("playQueue");a&&c.get("playQueueSelectedItemID")===u.get("playQueueItemID")&&mee(c).done(kne(l,function(){n(fre({playerType:r}))})),e.terminationCode&&(n(gre()),l.restoreDefaults({hasError:!0,errorMessage:e.terminationText}))}))},pSe["ui/player/playerMedia/updatePlayerDuration"]=function(e,t){var n=t.playerType,r=t.durationMilliseconds,i=Lee(e,n),a=Jbe(i).get("metadataItem"),o=$be(i);if(o){var s=a.get("Media")[o.mediaIndex],l=EL(s),c=!!l&&"vbr"===l.bitrateMode,u=r>0&&!c?r:s.duration;i.set({isMediaLoading:!1,durationSeconds:Math.floor((u||0)/1e3)})}},pSe["ui/player/playerMedia/updatePlayerPosition"]=function(e,t){var n=t.playerType,r=t.positionSeconds,i=Lee(e,n);Object(No.a)(function(){var e={positionSeconds:r},t=i.get("lastSeekPositionSeconds");null!==t&&r>t&&(e.lastSeekPositionSeconds=null),i.set(e)})},pSe["ui/player/playerMedia/updatePlayerSeekRange"]=function(e,t){var n=t.playerType,r=t.seekStartSeconds,i=t.seekEndSeconds;Lee(e,n).set({seekStartSeconds:r,seekEndSeconds:i})},pSe["ui/player/playerMedia/updatePlayerBuffering"]=function(e,t){var n=t.playerType,r=t.isBuffering;Lee(e,n).set({isBuffering:r})},pSe["ui/player/playerMedia/updatePlayerLoading"]=function(e,t){var n=t.playerType,r=t.isMediaLoading;Lee(e,n).set({isMediaLoading:r})},pSe["ui/player/playerMedia/updatePlayerError"]=function(e,t){Lee(e,t.playerType).set({isMediaLoading:!1,hasError:!0,errorMessage:t.errorMessage,errorCode:t.errorCode,errorCategory:t.errorCategory})},pSe["ui/player/playerMedia/clearPlayerError"]=function(e,t){var n=Lee(e,t.playerType);Object(No.a)(function(){n.set({hasError:!1,errorMessage:null,errorCode:null,errorCategory:null})})},pSe["ui/player/playerMedia/tickPlayer"]=function(e,t,n){var r=t.playerType,i=t.secondsElapsed,a=Lee(e,r),o=a.get("playQueue"),s=$be(a);if(s){var l=a.get("isPaused"),c=!(i%30);if(!(i%10)){var u=o.get("playQueueSelectedItemID"),d=o.get("playQueueItems").get(u);n(SSe({playerType:r,providerEntityID:a.get("providerEntityID"),playQueueItemEntityID:d.entityID(),options:{playbackTime:a.get("playbackTime"),positionSeconds:a.get("positionSeconds"),durationSeconds:a.get("durationSeconds"),mediaIndex:s.mediaIndex,partIndex:s.partIndex,partCount:s.partCount}}))}if(c&&l&&s.transcodeSessionID)!function(e,t){Object(M.a)(t,"A transcoder ping requires a session identifier"),Object(D.a)("[Player] Transcoder Ping, %s",t);var n="/video/:/transcode/universal/ping?session="+t;P.a.ajax(e.getXHROptions(n)).promise()}(bo(e,{serverEntityID:s.transcodeServerEntityID}),s.transcodeSessionID)}},pSe[fSe]=function(e,t){var n,r=t.playerType,i=t.shouldPlay,a=t.shouldPause,o=t.isApplicationInitiated,s=Lee(e,r),l=s.get("isPaused"),c=Ane(e);s.get("isPostPlayVisible")?Object(No.a)(function(){s.set({isPostPlayVisible:!1}),c.playNextItem(s,!0)}):(n=i?"play":a?"pause":l?"play":"pause",l&&"pause"===n||!l&&"play"===n||Object(No.a)(function(){c[n](s,o)}))},pSe["ui/player/playerMedia/seek"]=function(e,t){var n=t.playerType,r=t.positionSeconds,i=Lee(e,n),a=Ane(e);Object(No.a)(function(){a.seek(i,r)})},pSe["ui/player/playerMedia/transcodeSeek"]=function(e,t){var n,r=t.playerType,i=t.positionSeconds,a=Lee(e,r),o=$be(a);if(o){var s=Jbe(a).entityID(),l=Object.assign({},o,{url:oSe(o.url,i)});a.set({currentDecision:l,decisions:Object.assign({},a.get("decisions"),(n={},n[s]=l,n))})}},pSe[gSe]=function(e,t){var n=t.playerType,r=t.allowDebounce,i=void 0===r||r,a=Lee(e,n),o=Ane(e),s=i?te.a.get("seekDebounceMilliseconds"):null,l=ZSe(a.get("nextPositionSeconds")||a.get("positionSeconds"),a.get("durationSeconds"),-Kne);Object(No.a)(function(){o.seek(a,l,s)})},pSe["ui/player/playerMedia/skipForward"]=function(e,t){var n=t.playerType,r=t.allowDebounce,i=void 0===r||r,a=Lee(e,n),o=Ane(e),s=a.get("positionSeconds"),l=a.get("nextPositionSeconds"),c=a.get("durationSeconds"),u=i?te.a.get("seekDebounceMilliseconds"):null;if(c-s>Zne){var d=ZSe(l||s,c,qne);Object(No.a)(function(){o.seek(a,d,u)})}},pSe[vSe]=function(e,t){var n,r=Lee(e,t.playerType),i=Ane(e),a=Jbe(r).get("metadataItem").get("chapters"),o=r.get("positionSeconds"),s=r.get("nextPositionSeconds"),l=r.get("durationSeconds");n=a&&a.length?function(e,t){if(e&&e.length){for(var n=e.length-1;n>=0;n--){var r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i<t-Yne)return i}return 0}}(a,s||o):ZSe(s||o,l,-Xne),Object(No.a)(function(){i.seek(r,n)})},pSe["ui/player/playerMedia/stepForward"]=function(e,t){var n,r=Lee(e,t.playerType),i=Ane(e),a=Jbe(r).get("metadataItem").get("chapters"),o=r.get("positionSeconds"),s=r.get("nextPositionSeconds"),l=r.get("durationSeconds");a&&a.length?n=function(e,t){if(e&&e.length)for(var n=0;n<e.length;n++){var r=e.at(n),i=Math.ceil(r.get("startTimeOffset")/1e3);if(i>t)return i}}(a,o):l-(s||o)>Zne&&(n=ZSe(s||o,l,Jne)),null!=n&&Object(No.a)(function(){i.seek(r,n)})},pSe[mSe]=function(e,t,n){var r=t.playerType,i=t.volume,a=t.delta,o=function(e){var t=e.get("remotePlayer");return t?t.get("volume"):hSe()}(e),s=a?o+a:i;if((s=Math.max(0,Math.min(100,s)))!==o){var l=Lee(e,r),c=Ane(e);Object(No.a)(function(){c.changeVolume(l,s,n)})}},pSe["ui/player/playerSettings/togglePlayerSettingsState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isSettingsVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!r,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})),n.set(Vne(n,r,{isSettingsVisible:!r,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})),n.set(Vne(n,r,{isSettingsVisible:!r,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},pSe["ui/player/playerSettings/togglePlayerChaptersState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isChaptersVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!1,isChaptersVisible:!r,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!1}))})},pSe["ui/player/playerSettings/togglePlayerSubtitlesOffsetState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isSubtitlesOffsetSettingsVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1,isSubtitlesOffsetSettingsVisible:!r}))})},pSe[ySe]=function(e,t){var n=t.playerType,r=t.qualityIndex,i=Lee(e,n);Ane(e).changeQualityIndex(i,r)},pSe[bSe]=function(e,t,n){var r=t.playerType,i=t.streamTypeString,a=t.streamID,o=e.get("remotePlayer"),s=Lee(e,r),l=Jbe(s).get("metadataItem"),c=Ane(e);n(Dae({metadataItemEntityID:l.entityID(),mediaIndex:s.get("mediaIndex"),streamTypeString:i,streamID:a,updateLocalOnly:!!o,allParts:s.get("partIndex")>0})),c.changeStream(s,i,a)},pSe["ui/player/playerSettings/changeSubtitleColor"]=function(e,t,n){var r=t.playerType,i=t.subtitleColor,a=Lee(e,r);Ane(e).changeSubtitleColor(a,i,n)},pSe["ui/player/playerSettings/changeSubtitlePosition"]=function(e,t,n){var r=t.playerType,i=t.subtitlePosition,a=Lee(e,r);Ane(e).changeSubtitlePosition(a,i,n)},pSe["ui/player/playerSettings/changeSubtitleSize"]=function(e,t,n){var r=t.playerType,i=t.subtitleSize,a=Lee(e,r);Ane(e).changeSubtitleSize(a,i,n)},pSe["ui/player/playerSettings/changeSubtitleOffset"]=function(e,t,n){var r=t.playerType,i=t.subtitleOffset,a=t.localUpdateOnly,o=Ane(e),s=Lee(e,r),l=s.get("mediaIndex")||0,c=s.get("partIndex")||0,u=Jbe(s).get("metadataItem"),d=u.get("Media"),p=d[l],h=p.Part[c],f=Av.a.get("subtitles").id,g=h.Stream.find(function(e){return e.streamType===f&&e.selected}),v=function(e,t,n,r,i){var a=Object.assign({},r,{offset:i}),o=Sae(n.Stream,r,a),s=Object.assign({},n,{Stream:o}),l=Object.assign({},t,{Part:Sae(t.Part,n,s)});return Sae(e,t,l)}(d,p,h,g,i);if(u.set({Media:v}),!a){var m=F.join(g.key,{offset:i}),y=u.server.getXHROptions(m,{type:"PUT",scope:"setMetadataItemStreamOffset--"+g.id});Y.a.abortAll(y.scope),P.a.ajax(y).fail(function(e){e.aborting||u.get("Media")===v&&u.set({Media:d})}),o.changeSubtitleOffset(s,i,n)}},pSe["ui/player/playerMedia/changePlaybackSpeed"]=function(e,t){var n=t.playerType,r=t.playbackSpeed,i=Lee(e,n),a=Ane(e),o=Math.round(10*r)/10;a.changePlaybackSpeed(i,o)},pSe["ui/player/playerMedia/setPlaybackTime"]=function(e,t,n){var r=t.playerType,i=t.playbackTime;Lee(e,r).set("playbackTime",i)},pSe["ui/player/playerMedia/skipAd"]=function(e,t){var n=Lee(e,t.playerType);Ane(e).skipAd(n)},pSe["ui/player/playerMedia/refreshStreams"]=function(e,t){Jbe(Lee(e,t.playerType)).get("metadataItem").fetch({data:{skipRefresh:1},usePopulatedParams:!0})},pSe);var JSe=function(){return Object(Iy.createSelector)(aoe("currentDecision"),loe(),function(e,t){var n=e;if(n&&n.playQueueItemID===t.playQueueItemID)return n})},$Se=Object(Iy.createSelector)(T7,function(e){return!!e&&e.debugHasForcedVideoAds}),eIe={url:"https://search.spotxchange.com/vast/2.0/85394?VPI=MP4&player_height=1080&player_width=1920&app%5Bname%5D=Plex&device%5Bdevicetype%5D=7&app%5Bbundle%5D=Chrome.Plex&device%5Bmake%5D=OSX&device%5Bmodel%5D=Plex%2520Web%2520(Chrome)",UrlTemplateFilter:[{template:"[referrer_url]",value:"http://www.watchup.com"},{template:"[description_url]",value:"Watchup"}]},tIe="audio",nIe="video",rIe=Xf.a.Component,iIe="UPDATE_POSITION",aIe="RESET_POSITION",oIe=Mt(iIe),sIe=Mt(aIe);function lIe(e,t){void 0===e&&(e={});var n=t.type,r=t.payload;switch(n){case iIe:return{positionMilliseconds:r};case aIe:return{positionMilliseconds:0};default:return e}}var cIe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).store=Object(um.createStore)(lIe,{positionMilliseconds:0}),r}Sy()(t,e);var n=t.prototype;return n.getChildContext=function(){return{playerStore:this.store}},n.render=function(){return Xf.a.Children.only(this.props.children)},t}(rIe);cIe.childContextTypes={playerStore:C_};var uIe=cIe,dIe=Xf.a.createElement,pIe=Xf.a.Component;var hIe=function(e){var t={dispatchUpdatePosition:oIe,dispatchResetPosition:sIe},n=function(t){function n(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))||this).onPositionMillisecondsChange=function(t){e.props.dispatchUpdatePosition(t)},e}Sy()(n,t);var r=n.prototype;return r.shouldComponentUpdate=function(e,t){return ES(this,e,t)},r.componentWillUnmount=function(){this.props.dispatchResetPosition()},r.render=function(){var t=this.props,n=(t.dispatchUpdatePosition,t.dispatchResetPosition,wt()(t,["dispatchUpdatePosition","dispatchResetPosition"]));return dIe(e,dv()({},n,{onPositionMillisecondsChange:this.onPositionMillisecondsChange}))},n}(pIe);return n.displayName="PositionMonitor("+Object(vE.a)(e)+")",n.WrappedComponent=e,Lm(null,t,null,{storeKey:"playerStore"})(n)};var fIe=function(e){return void 0===e&&(e=0),Object(Iy.createSelector)(loe(e),$N,function(e,t){if(e&&e.metadataItem)return t[e.metadataItem]})};function gIe(){return Object(Iy.createSelector)(function(e){return e.remotePlayer},aoe("playbackSpeed"),fIe(),function(e,t,n){return e?1:t||n&&n.playbackSpeed||1})}function vIe(e){var t=e.remotePlayer;return t?t.volume:Object(J.c)("selectLocalVolume")(e)}var mIe=n(209);function yIe(e,t){void 0===t&&(t={});var n=t.itemProvider;if(e.get("isPreFetched")&&!t.forceFetch)return P.a.Deferred().resolve().promise();var r={includeConcerts:1,includeExtras:1,includeOnDeck:1,includePopularLeaves:1,includePreferences:1,includeChapters:1,includeStations:1,includeExternalMedia:1,asyncAugmentMetadata:1};e.get("type")===nr.m&&(r.includeRelated=1),!t.forceSyncCheckFiles&&e.server.supports("asyncCheckFiles")?(r.asyncCheckFiles=1,r.asyncRefreshAnalysis=1,r.asyncRefreshLocalMediaAgent=1):r.checkFiles=1;var i=n||e.provider,a=Object(mIe.a)(i.server,i,e.channel),o=i.resolveUrl(e.url(),{appendHeaders:!0}),s=i.getXHROptions(o,{dataType:a.typeName,data:r,merge:!0});return e.fetch(s).done(function(){e.set("isPreFetched",!0)})}function bIe(e){if(!e.get("remoteMedia"))return null;var t=e.get("Media")||[];return t.length&&t[0].source}var SIe=Ce.a.extend({name:"ResourceModel",context:["server"],idAttribute:"clientIdentifier",rootPropertyName:"Device",urlRoot:"/api/resources",syncedAttrs:{clientIdentifier:Me.a.string,name:Me.a.string,sourceTitle:Me.a.string,accessToken:Me.a.string,product:Me.a.string,productVersion:Me.a.string,platform:Me.a.string,platformVersion:Me.a.string,device:Me.a.string,provides:Me.a.list,owned:Me.a.boolean,home:Me.a.boolean,synced:Me.a.boolean,presence:Me.a.boolean,publicAddressMatches:Me.a.boolean,httpsRequired:Me.a.boolean,createdAt:Me.a.integer,lastSeenAt:Me.a.integer,ownerId:Me.a.integer},syncedRelations:{connections:{relationClass:Ic,rootPropertyName:"Connection"}}});function IIe(e,t){if(!e.supports("transientTokenProxy"))return P.a.Deferred().reject().promise();var n=e.resolveUrl("/security/resources"),r=P.a.ajax(e.getXHROptions(n,{data:{source:t}})).promise();return r=r.then(function(t){return new SIe(t,{parse:!0,server:e})})}var CIe=function(e){if(!e.length)return P.a.Deferred().reject().promise();var t=P.a.Deferred(),n=e.length;return C.a.each(e,function(e){e.done(function(){n--,t.resolveWith(this,arguments)}).fail(function(){0==--n&&t.reject()})}),t.promise()},MIe=Ue.a.extend({name:"ResourceCollection",model:SIe,context:["server"],url:function(){var e={};return te.a.get("allowHttpsMediaServerConnections")&&(e.includeHttps=1),te.a.get("allowMediaServerRelayConnections")&&(e.includeRelay=1),F.join("/api/resources",e)}}),DIe=Ac.connectionTestResults,wIe=Ac.promiseStates,PIe=Ac.extend({name:"CloudServerModel",connectionTestUrl:"https://plex.tv/monitoring/health",sessionAttrs:{connectionTestResult:Me.a.oneOf(DIe.PENDING,DIe.CONNECTED,DIe.UNAVAILABLE,DIe.UNAUTHORIZED).isRequired,promiseState:Me.a.oneOf(wIe.PENDING,wIe.RESOLVED,wIe.REJECTED).isRequired,isShared:Me.a.boolean.isRequired,isBundled:Me.a.boolean.isRequired,isCloud:Me.a.boolean.isRequired,isMerged:Me.a.boolean.isRequired,isDownForMaintenance:Me.a.boolean.isRequired,isResourcesPending:Me.a.boolean.isRequired,hasFailedResources:Me.a.boolean.isRequired,accessToken:Me.a.string,baseUrl:Me.a.string.isRequired,plexPassUrl:Me.a.string.isRequired,appsUrl:Me.a.string.isRequired,hasEventConnection:Me.a.boolean},sessionRelations:{activeConnection:{relationClass:He,deferred:!0},connections:{relationClass:Ic,options:function(){return{server:this}}},resources:{relationClass:MIe,options:function(){return{server:this}}}},defaults:function(){var e="https://plex.tv";return{connectionTestResult:DIe.PENDING,promiseState:wIe.PENDING,isShared:!1,isBundled:!1,isCloud:!0,isMerged:!1,isDownForMaintenance:!1,isResourcesPending:!1,hasFailedResources:!1,friendlyName:"plex.tv",baseUrl:e,plexPassUrl:F.join([e,"/subscription/about"]),appsUrl:F.join([e,"/downloads"]),hasEventConnection:!1}},testAllConnections:function(){var e=this,t=this.get("connections");Object(D.a)("[Connections] Testing all %s connection(s) for %s",t.length,this.get("debugName"));var n=t.map(function(t){return e.testConnection(t)});return CIe(n)},testConnection:function(e){var t={server:this,connection:e,url:this.connectionTestUrl};return bt.execute("testServerConnection",t).done(this.onConnectionTestSuccess.bind(this)).fail(this.onConnectionTestError.bind(this))},abortConnectionTest:function(e){var t={server:this,connection:e,url:this.connectionTestUrl};bt.execute("abortServerConnectionTest",t)},deauthenticate:function(){this.get("resources").clear(),this._reject({connectionTestResult:this.get("connectionTestResult"),accessToken:null})},onConnectionTestSuccess:function(e){var t=this.get("connections").getBestConnection();D.a.info("[Connections] Active connection to %s is %s",this.get("debugName"),t.id),this.startCapturingChangeEvents(),this.set({isDownForMaintenance:!1,connectionTestResult:DIe.CONNECTED,activeConnection:t}),this.releaseCapturedChangeEvents()},onConnectionTestError:function(e,t){e.get("isAborted")||this.get("connections").hasOnlyFailedConnections()&&this._reject({isDownForMaintenance:503===t.status})}});xt(PIe,function(){return{relationClass:Object(J.c)("CloudServerFlexModel"),options:{server:this}}});var TIe=PIe;function EIe(e,t){return IIe(e,t).then(function(e){var t=function(e){var t=new TIe({accessToken:e.get("accessToken"),machineIdentifier:cv.a});t.addConnection(_d());var n=e.get("connections").first();return new kr({identifier:e.get("clientIdentifier"),title:e.get("name"),baseURL:n.get("uri")},{server:t})}(e);return t.server.testAllConnections().then(function(){return t.populate({merge:!0})})})}function xIe(e,t){t.get("connections").each(function(n){var r=[{id:t.server.id}],i=C.a.extend(n.toJSON(),{sources:r});e.addConnection(i)})}function OIe(e,t){void 0===t&&(t=!1);var n=t||"Plex Media Server"===e.get("product"),r=new Ac({machineIdentifier:e.id,friendlyName:e.get("name"),version:n?e.get("productVersion"):void 0,isShared:!e.get("owned"),accessToken:e.get("accessToken"),sourceTitle:e.get("sourceTitle"),publicAddressMatches:e.get("publicAddressMatches"),httpsRequired:e.get("httpsRequired"),platform:e.get("platform"),platformVersion:e.get("platformVersion"),presence:e.get("presence"),home:e.get("home"),serverClass:n?void 0:Ac.serverClasses.SECONDARY,createdAt:e.get("createdAt"),lastSeenAt:e.get("lastSeenAt"),ownerId:e.get("ownerId")},{parent:J.c("appModel")});return xIe(r,e),r}function jIe(e){return e.get("isConnected")||e.testOnlyUntestedConnections()}function AIe(e,t){return Object(Tpe.a)(t).isServer?function(e,t){return IIe(e,t).then(function(e){return OIe(e,!0).testAllConnections()})}(e,t):EIe(e,t)}var NIe=function(e,t,n){var r=n.get("metadataItem"),i=bo(e,{serverEntityID:t.get("serverEntityID")}),a=function(e){var t=bIe(e);if(e.get("remoteMedia")&&t){var n=Object(Tpe.a)(t),r=n.serverIdentifier,i=n.providerIdentifier,a=Oc({machineIdentifier:r});return{serverEntityID:a,providerEntityID:Ar({identifier:i,serverEntityID:a})}}return{serverEntityID:e.get("serverEntityID"),providerEntityID:e.get("providerEntityID")}}(r),o={serverEntityID:r.get("serverEntityID"),providerEntityID:r.get("providerEntityID")},s=r.get("source"),l=bIe(r),c=bo(e,o),u=l&&bo(e,a),d=te.a.get("allowTransientProxy")&&i.get("isFullOwnedServer")&&i.supports("transientTokenProxy");if(!d&&(s&&!c||l&&!u))return P.a.Deferred().reject().promise();var p=[];return c&&p.push(jIe(c)),u&&p.push(jIe(u)),d&&s&&p.push(AIe(i,s)),d&&l&&p.push(AIe(i,l)),P.a.when.apply(P.a,p).then(function(){return{serverModel:bo(e,o),providerModel:Co(e,o),mediaServerModel:bo(e,a),mediaProviderModel:Co(e,a)}})};function kIe(e,t){var n=e.type,r=e.item,i=e.availableQualities,a=e.qualityIndex,o=t.transcodeServer,s=t.media,l=t.part,c=r.get("Media"),u=s.Part,d=function(e,t){return C.a.findIndex(e,function(e){return null!=e.id?e.id===t.id:null==e.uuid||e.uuid===t.uuid})}(c,s),p=function(e,t){return C.a.findIndex(e,function(e){return null!=e.id?e.id===t.id:null==e.key||e.key===t.key})}(u,l),h=[],f=gd.a.ORIGINAL;n===Sk.types.VIDEO&&(h=i,f=a),t.abr&&(f=gd.a.CONVERT_AUTOMATICALLY);var g={availableQualities:h,qualityIndex:f,mediaIndex:d,partIndex:p,partCount:u.length,url:t.url,subtitlesUrl:t.subtitlesUrl,protocol:t.protocol,isDirectPlay:t.canDirectPlay,useSoftSubtitles:t.useSoftSubtitles,canDirectStreamVideo:t.canDirectStreamVideo,canDirectStreamAudio:t.canDirectStreamAudio,canPlayOriginalQuality:t.canPlayOriginalQuality,positionSeconds:Math.floor(t.offset/1e3),durationSeconds:Math.floor((l.duration||0)/1e3),playbackSessionID:t.playbackSessionID};return t.canDirectPlay||(g.transcodeSessionID=t.transcodeSessionID),t.drm&&(g.drm=t.drm,g.license=t.license,g.certificate=t.certificate),g.transcodeServerEntityID=o&&o.entityID(),g}function LIe(e){return e>=2e3}function RIe(e){return LIe(e.transcodeDecisionCode)?e.transcodeDecisionText:LIe(e.generalDecisionCode)?e.generalDecisionText:LIe(e.mdeDecisionCode)?e.mdeDecisionText:e.errorMessage}var _Ie=function(e){var t=e?C.a.first(e.get("Media")):null;return!(!t||t.container)};var UIe=function(e){var t=[];return Array.isArray(e)||(e=[e]),C.a.each(e,function(e){var n=e.Part;n&&C.a.each(n,function(e){!1!==e.exists&&!1!==e.accessible||t.push(e)})}),t};function zIe(e){return/^(pgs|vobsub)$/i.test(e)}var FIe={getMediaDecision:function(e){var t=this.augmentProfile(e);if(D.a.info("[MDE] Augmented profile:",t),e.media)return this.analyzeMedia(e.media,t,e);var n=e.item.get("Media");if(!n.length)return{transcodeServer:e.transcodeServer,canPlay:!0,canDirectPlay:!0};if(1===n.length)return this.analyzeMedia(C.a.first(n),t,e);var r=C.a.map(n,function(n){return this.analyzeMedia(n,t,e)},this);return this.getBestDecision(r)},augmentProfile:function(e){var t=e.profile;if(!t)throw new Error("MDE: No player profile provided for "+e.type);var n=e.type===Sk.types.VIDEO,r=P.a.extend(!0,{},t.directPlay),i=P.a.extend(!0,{},t.directStream),a=r.generic;a&&delete r.generic;var o=e.allowedAC3Containers,s="*"===o;!s&&o&&(o=Array.isArray(o)?o:[o]);var l=e.allowedEAC3Containers,c="*"===l;!c&&l&&(l=Array.isArray(l)?l:[l]);var u=e.allowedDCAContainers,d="*"===u;!d&&u&&(u=Array.isArray(u)?u:[u]);var p=e.allowedTrueHDContainers,h="*"===p;return!h&&p&&(p=Array.isArray(p)?p:[p]),C.a.each(r,function(t,r){this.mergeGenericOptions(t,a),this.mergeMaxQualityOptions(t,e),(s||o&&C.a.contains(o,r))&&this.addAudioCodec("ac3",t,e),(c||l&&C.a.contains(l,r))&&this.addAudioCodec("eac3",t,e),(d||u&&C.a.contains(u,r))&&this.addAudioCodec("dca",t,e),(h||p&&C.a.contains(p,r))&&this.addAudioCodec("truehd",t,e);var i=t[Sk.getStreamByType(e.type)];if(i){var f=i.codecs;C.a.each(f,function(t,n){this.mergeMaxQualityOptions(t,e,!0),e.videoCodecOptions&&e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])},this)}var g=n&&t.audio;if(g&&e.audioCodecOptions){var v=g.codecs;C.a.each(v,function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])},this)}},this),this.mergeMaxQualityOptions(i,e),n&&(e.videoCodecOptions&&i.video&&C.a.each(i.video.codecs,function(t,n){e.videoCodecOptions[n]&&this.mergeCodecOptions(t,e.videoCodecOptions[n])},this),e.audioCodecOptions&&i.audio&&C.a.each(i.audio.codecs,function(t,n){e.audioCodecOptions[n]&&this.mergeCodecOptions(t,e.audioCodecOptions[n])},this)),{directPlay:r,directStream:i}},mergeGenericOptions:function(e,t){t&&(C.a.defaults(e,C.a.omit(t,"video","audio")),C.a.each(["audio","video"],function(n){var r=t[n],i=e[n];r&&(i||(i={},e[n]=i),C.a.defaults(i,C.a.omit(r,"codecs")),r.codecs&&C.a.each(r.codecs,function(e,t){C.a.defaults(this.ensureCodecs(t,i),e)},this))},this))},mergeCodecOptions:function(e,t){C.a.each(t,function(t,n){e[n]=t},this)},ensureCodecs:function(e,t){return t.codecs||(t.codecs={}),t.codecs[e]||(t.codecs[e]={}),t.codecs[e]},mergeMaxQualityOptions:function(e,t,n){C.a.each([{option:"bitrate",setting:"maxBitrate"},{option:"videoResolution",setting:"maxVideoResolution"}],function(r){if("videoResolution"!==r.option||t.type===Sk.types.VIDEO){var i=this.getMaxQualityOption(e,r.option,t);if(null!=i){var a=r.setting,o=Sk.getStreamByType(t.type);e.hasOwnProperty(a)?e[a]=i:e.hasOwnProperty(o)?e[o][a]=i:n||(e[o]={},e[o][a]=i)}}},this)},getMaxQualityOption:function(e,t,n){var r=n.quality||{},i="max"+t.charAt(0).toUpperCase()+t.slice(1),a=r[t],o=this.getPrimaryStreamProperty(e,i,n);if("videoResolution"===t&&a&&(a=gd.a.getResolutionFromSize(a)),"bitrate"===t){var s=n.item.server.get("maxUploadBitrate");s&&(!a||s<a)&&(a=s)}if(a||o)return a&&o?Math.min(a,o):a||o},addAudioCodec:function(e,t,n){t.audio||(t.audio={}),this.ensureCodecs(e,t.audio)},analyzeMedia:function(e,t,n){D.a.info("[MDE] Starting analysis of",this.getMediaTitle(e)),Object(D.a)("[MDE] Analyzing direct play");var r=this.canDirectPlay(e,t.directPlay,n);r.result||Object(D.a)("[MDE] Cannot direct play:",r.failedCheck);var i={finalProfile:t,transcodeServer:n.transcodeServer,item:n.item,media:e,canDirectPlay:r.result,canDirectPlayFailedCheck:r.failedCheck},a=n.transcoderOptions||{};if(C.a.isFunction(a)&&(a=a(i)),n.type===Sk.types.VIDEO){Object(D.a)("[MDE] Analyzing video direct stream");var o=Object(KR.a)(e);if(o){var s=this.canDirectStreamVideo(o,t.directStream.video,n,a);i.canDirectStreamVideo=s.result,i.canDirectStreamVideoFailedCheck=s.failedCheck}}if(n.type!==Sk.types.PHOTO){Object(D.a)("[MDE] Analyzing audio direct stream");var l=EL(e);if(l){var c=this.canDirectStreamAudio(l,t.directStream.audio,n,a);i.canDirectStreamAudio=c.result,i.canDirectStreamAudioFailedCheck=c.failedCheck}}var u=xL(i.media);return u&&(Object(D.a)("[MDE] Analyzing subtitles"),C.a.extend(i,this.analyzeSubtitles(u,n))),Object(D.a)("[MDE] Analyzing playability"),C.a.extend(i,this.canPlay(i,n)),C.a.extend(i,this.getEffectiveQuality(e,t.directStream,n)),D.a.group("[MDE] Finished analysis of",this.getMediaTitle(e)),this.getDecisionLogs(i).forEach(function(e){return D.a.info(e)}),D.a.groupEnd(),i},canDirectPlay:function(e,t,n){if(n.forceDirectPlay)return Object(D.a)("[MDE] Direct play forced"),{result:!0};if(!1===n.allowDirectPlay&&!n.transcodeServer.get("isCloud"))return D.a.warn("[MDE] Direct play failed; option is disabled"),{result:!1,failedCheck:"allowDirectPlay"};if(n.type===Sk.types.VIDEO&&!this.canDirectPlayVideo(e,n))return{result:!1,failedCheck:"canDirectPlayVideo"};var r=t[e.container];if(!r)return D.a.warn("[MDE] Direct play failed; unsupported container:",e.container),{result:!1,failedCheck:"containerProfile"};var i=C.a.keys(r);if(i&&i.length){for(var a=0,o=i.length;a<o;a++){var s=i[a],l=r[s];if("mimeType"===s){if(!n.skipCanPlayTypeTest&&!this.canPlayType(Sk.getElementByType(n.type),l))return D.a.warn("[MDE] Direct play failed; canPlayType test, %s: %s",s,l),{result:!1,failedCheck:"canPlayType"}}else if("video"===s||"audio"===s){var c=Av.a.get(s),u=Object(zs.a)(e,{streamType:c.id}),d="video"===s?Object(KR.a)(e):EL(e);if(!d){D.a.warn("[MDE] No stream selected; will not be able to analyze stream codecs");continue}if("audio"===s&&d!==u[0]&&!n.allowMultiTrackAudio)return D.a.warn("[MDE] Direct play failed; multi-track audio is required"),{result:!1,failedCheck:"allowMultiTrackAudio"};var p=this.analyzeStream(d,l,n);if(!p.result)return{result:!1,failedCheck:p.failedCheck}}else if("photo"===s){var h=this.analyzeStream(C.a.first(e.Part),l,n);if(!h.result)return{result:!1,failedCheck:h.failedCheck}}else if(!this.validateProfileProperty(s,l,e))return{result:!1,failedCheck:"validateProfileProperty:"+s}}return{result:!0}}return{result:!0}},canDirectPlayVideo:function(e,t){return t.allowDirectPlay||t.transcodeServer.get("isCloud")?"hls"!==e.protocol||t.hasNativeHLS?"flv"!==e.container||t.hasFlash?!("dash"===e.protocol&&!t.hasDASH)||(D.a.warn("[MDE] Direct play failed; cannot play DASH"),!1):(D.a.warn("[MDE] Direct play failed; cannot play FLV"),!1):(D.a.warn("[MDE] Direct play failed; cannot play HLS"),!1):(D.a.warn("[MDE] Direct play failed; option is disabled"),!1)},canPlayType:function(e,t){if(e===Sk.elements.PHOTO)return!0;var n=document.createElement(e);return!(!n.canPlayType||!n.canPlayType(t).replace(/^no$/,""))},canDirectStreamVideo:function(e,t,n,r){return r.directStream||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(D.a.warn("[MDE] Direct stream video failed; option is disabled"),{result:!1,failedCheck:"options:directStream"})},canDirectStreamAudio:function(e,t,n,r){return r.directStreamAudio||n.transcodeServer.get("isCloud")?this.analyzeStream(e,t,n):(D.a.warn("[MDE] Direct stream audio failed; option is disabled"),{result:!1,failedCheck:"options:directStreamAudio"})},analyzeStream:function(e,t,n){var r=t&&t.codecs&&t.codecs[e.codec];for(var i in t){var a=t[i];if("codecs"===i){var o=a[e.codec];if(!o)return{result:!1,failedCheck:"noCodecInProfile:"+e.codec};var s=this.analyzeStream(e,o,n);if(!s.result)return{result:!1,failedCheck:s.failedCheck}}else if(!(r&&i in r||this.validateProfileProperty(i,a,e)))return{result:!1,failedCheck:"validateProfileProperty:"+i}}return{result:!0}},validateProfileProperty:function(e,t,n){var r,i=e.match(/^(min|max)(\w)(\w*)/);if(i){var a="min"===i[1],o="max"===i[1];if(null==(r=n[e=i[2].toLowerCase()+i[3]])&&D.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),null!=r&&"videoResolution"===e&&(r=gd.a.getHeightFromResolution(r),t=gd.a.getHeightFromResolution(t)),null!=r){if(a&&r<t)return D.a.warn("[MDE] Invalid profile property; %s: %s < %s",e,r,t),!1;if(o&&r>t)return D.a.warn("[MDE] Invalid profile property; %s: %s > %s",e,r,t),!1}}else if(null==(r=n[e])&&D.a.warn("[MDE] Unable to validate %s; re-analyze the media if possible",e),r!==t&&!C.a.contains(t,r))return D.a.warn("[MDE] Invalid profile property; %s: %s !== %s",e,r,t),!1;return!0},analyzeSubtitles:function(e,t){var n=t.subtitlesBurnLevel||Cp.ALWAYS,r=e.codec;return Object(D.a)("[MDE] Subtitle codec:",r),Object(D.a)("[MDE] Burn level:",n),n===Cp.NEVER?{useSoftSubtitles:!1}:n===Cp.ALWAYS?(D.a.warn("[MDE] Direct play failed; asked to always burn subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:burnLevelAlways",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitles")?zIe(r)?(D.a.warn("[MDE] Soft subtitles failed; bitmap subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^(ass|ssa)$/i.test(r)&&n===Cp.AUTO?(D.a.warn("[MDE] Soft subtitles failed; ASS subtitles"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):/^eia_608$/i.test(r)?(D.a.warn("[MDE] Soft subtitles failed; Closed captioning"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):t.transcodeServer.supports("softSubtitlesWithDirectPlay")?t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0}:{useSoftSubtitles:!0,canDirectStreamVideo:!1}:(D.a.warn("[MDE] Direct play failed; %s subtitles",r),t.allowDirectStreamVideoWithSoftSubtitles?{useSoftSubtitles:!0,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles"}:{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles",canDirectStreamVideo:!1}):(D.a.warn("[MDE] Direct play failed; server support requires burn subtitles"),D.a.warn("[MDE] Soft subtitles failed; server version"),{useSoftSubtitles:!1,canDirectPlay:!1,canDirectPlayFailedCheck:"subtitles:softSubtitlesUnsupported",canDirectStreamVideo:!1})},canPlay:function(e,t){var n=this.validateParts(e,t)||this.validateTranscoder(e,t);return n?{canPlay:!1,errorMessage:n}:{canPlay:!0}},validateParts:function(e,t){var n=UIe(e.media);if(n.length){D.a.warn("[MDE] Unable to play; missing parts");var r=C.a.first(n);return 1===Number(r.exists)?Object(Xn.default)("Please check the permissions for this file."):Object(Xn.default)("Please check that the file exists and the necessary drive is mounted.")}},validateTranscoder:function(e,t){if(!e.canDirectPlay){var n,r=t.type,i=r===Sk.types.MUSIC,a=r===Sk.types.VIDEO,o=t.transcodeServer,s=o.get("transcoderAudio"),l=o.get("transcoderVideo");if(i||"track"===t.item.get("type")){if(n=Object(Xn.default)("This server is not powerful enough to convert audio."),a&&!l)return D.a.warn("[MDE] Unable to play; server unable to transcode music using video transcoder"),n;if(i&&!s)return D.a.warn("[MDE] Unable to play; server unable to transcode music using audio transcoder"),n}else if(a){var c=Object(Xn.default)("This server is not powerful enough to convert video. You may be able to enable playback by increasing your quality setting."),u=Object(Xn.default)("This server is not powerful enough to convert video. Playback qualities are limited because an indirect connection is being used."),d=e.canDirectStreamVideo||!o.get("transcoderVideoRemuxOnly");if(n=Object(Xn.default)("This server is not powerful enough to convert video."),!l||!d){if(D.a.warn("[MDE] Unable to play; server unable to transcode video"),t.quality){if(t.quality.index===gd.a.ORIGINAL)return n;var p=C.a.clone(t);return p.quality=C.a.extend({index:gd.a.ORIGINAL},C.a.pick(t.quality,"attribute")),this.getMediaDecision(p).canDirectPlay?c:"relay"===o.get("maxUploadBitrateReason")?u:n}return c}}}},getEffectiveQuality:function(e,t,n){var r=n.quality,i={},a={};if(e.bitrate||D.a.warn("[MDE] Unable to determine effective quality; re-analyze the media if possible"),n.type===Sk.types.VIDEO){i.bitrate=e.bitrate,i.videoResolution=gd.a.getHeightFromResolution(e.videoResolution);var o=this.getPrimaryStreamProperty(t,"maxBitrate",n);if(o){var s=Object(KR.a)(e),l=s?s.bitrate:e.bitrate;i.bitrate=Math.min(l,o),a.maxVideoBitrate=o}if(r)if(r.videoResolution){var c=gd.a.getResolutionFromSize(r.videoResolution),u=gd.a.getHeightFromResolution(c);i.videoResolution=Math.min(i.videoResolution,u)}}else if(n.type===Sk.types.MUSIC){i.bitrate=e.bitrate;var d=this.getPrimaryStreamProperty(t,"maxBitrate",n);d&&(i.bitrate=Math.min(e.bitrate,d),a.maxAudioBitrate=d)}return i.transcoderQualityOptions=a,i},getPrimaryStreamProperty:function(e,t,n){var r=e[Sk.getStreamByType(n.type)],i=e[t];return null==i&&r&&(i=r[t]),i},getMediaTitle:function(e){var t=e.title||e.videoResolution||e.bitrate||e.container,n=C.a.compact([e.container,e.videoCodec,e.audioCodec]),r=Object(KR.a)(e);return r&&n.push(r.level,r.profile),n.length&&(t+=" ("+n.join(", ")+")"),t},getDecisionLogs:function(e){var t=["canPlay: "+e.canPlay,"canDirectPlay: "+e.canDirectPlay],n=e.canDirectStreamVideo;null!=n&&t.push("canDirectStreamVideo: "+n);var r=e.canDirectStreamAudio;null!=r&&t.push("canDirectStreamAudio: "+r);var i=e.useSoftSubtitles;null!=i&&t.push("useSoftSubtitles: "+i);var a=e.bitrate;null==a||C.a.isNaN(a)||t.push("bitrate: "+a);var o=e.videoResolution;return null==o||C.a.isNaN(o)||t.push("videoResolution: "+o),t},getBestDecision:function(e){var t=C.a.last(this.sortDecisions(e));return D.a.group("[MDE] Selected %s to play",this.getMediaTitle(t.media)),this.getDecisionLogs(t).forEach(function(e){return D.a.info(e)}),D.a.groupEnd(),t},sortDecisions:function(e){return C.a.chain(e).reverse().sortBy(this.preferHigherBitrate,this).sortBy(this.preferMoreAudioChannels,this).sortBy(this.preferDirectStreamAudio,this).sortBy(this.preferHigherResolution,this).sortBy(this.preferDirectStreamVideo,this).sortBy(this.preferDirectPlay,this).sortBy(this.preferHigherResolutionIfCapable,this).sortBy(this.preferCloudIfRemote,this).sortBy(this.preferPlayable,this).value()},preferPlayable:function(e){return void 0===e.canPlay?null:e.canPlay},preferCloudIfRemote:function(e){var t=e.media.proxyType===Mu.CLOUD;return e.transcodeServer.get("isPrivateConnection")?!t:t},preferHigherResolutionIfCapable:function(e){var t=e.transcodeServer,n=t.get("transcoderVideo"),r=t.get("transcoderVideoRemuxOnly");return n&&!r&&(e.canDirectPlay||e.canDirectStreamVideo)?this.preferHigherResolution(e):null},preferDirectPlay:function(e){return void 0===e.canDirectPlay?null:e.canDirectPlay},preferDirectStreamVideo:function(e){return void 0===e.canDirectStreamVideo?null:e.canDirectStreamVideo},preferHigherResolution:function(e){return void 0===e.videoResolution?null:e.videoResolution},preferDirectStreamAudio:function(e){return void 0===e.canDirectStreamAudio?null:e.canDirectStreamAudio},preferMoreAudioChannels:function(e){var t=e.media.audioChannels;return void 0===t?null:t},preferHigherBitrate:function(e){return void 0===e.bitrate?null:e.bitrate}};function BIe(e){return"dash"===e||"hls"===e}function HIe(e,t){return t.itemProvider||e.provider||t.itemServer||e.server}var VIe,QIe={getPlayerDecision:function(e){var t=this;return this.resolvePlayerDecision(e).then(null,function(n){return n.canDirectPlay&&1001===n.generalDecisionCode?(D.a.warn("[PDE] Forcing transcode;",n.mdeDecisionText),t.resolvePlayerDecision(Object.assign({},e,{allowDirectPlay:!1}))):n})},resolvePlayerDecision:function(e){C.a.defaults(e,{offset:0,minVersionForDASH:Cc.dash,minVersionForStreamingMKV:Cc.streamingMKV,transcoderOptions:{}});var t={playbackSessionID:e.playbackSessionID||de(),transcodeSessionID:e.transcodeSessionID||de(),offset:e.offset},n=this.populateMedia(t,e);return n=(n=(n=n.then(C.a.bind(function(){return this.resolveMedia(t,e)},this))).then(function(){return P.a.when(t.url)})).then(function(e){return t.url=e,t})},populateMedia:function(e,t){var n=P.a.Deferred(),r=C.a.bind(n.resolve,n,e);return t.requireAnalysis&&_Ie(t.item)?t.item.fetch({scope:"player"}).always(r):C.a.defer(r),n.promise()},resolveMedia:function(e,t){var n=C.a.extend({transcodeServer:this.resolveTranscodeServer(t)},t),r=FIe.getMediaDecision(n);if(n.originalQualityDecisionOptions){var i=FIe.getMediaDecision(Object.assign({},n,n.originalQualityDecisionOptions));r.canPlayOriginalQuality=i.canDirectPlay||i.canDirectStreamVideo}else r.canPlayOriginalQuality=r.canDirectPlay||r.canDirectStreamVideo;var a=r.media,o=P.a.Deferred();return C.a.extend(e,r),a?e.canPlay?"webkit"===a.protocol?(D.a.warn("[PDE] Webkit videos are not supported"),e.redirect=!0,o.reject(e).promise()):"embed"===a.protocol?(D.a.warn("[PDE] An embed is required"),e.embed=!0,e.part=C.a.first(a.Part),o.reject(e).promise()):this.resolvePart(e,t):(D.a.warn("[PDE] Unable to play item;",e.errorMessage),o.reject(e).promise()):this.resolveUrls(e,t)},resolveTranscodeServer:function(e){var t,n=e.itemServer||e.item.server,r=e.fallbackServer,i=e.itemProvider||e.item.provider;if(n===r||!r||!r.get("isConnected"))return n;e.type===Sk.types.VIDEO?t="transcoderVideo":e.type===Sk.types.MUSIC&&(t="transcoderAudio");var a=!i||Cn.i(i.get("identifier"),[Cn.d,Cn.b]);return t&&!n.get(t)&&r.get(t)&&a?r:n},resolvePart:function(e,t){return t.part?e.part=t.part:t.offset?1===e.media.Part.length?e.part=e.media.Part[0]:(e.part=fk(e.media,t.offset),e.offset=gk(e.media,e.part,t.offset)):e.part=C.a.first(e.media.Part),e.part.drm&&(e.drm=e.part.drm,e.certificate=e.part.certificate,Object(D.a)("[PDE] DRM content decryption module:",e.drm),Object(D.a)("[PDE] DRM certificate:",e.certificate)),e.media.indirect?this.resolveIndirect(e,t):this.resolveUrls(e,t)},resolveIndirect:function(e,t){Object(D.a)("[PDE] Resolving indirect item");var n=t.item.resolveIndirect(e.media,e.part),r=C.a.bind(function(){return this.resolveMedia(e,t)},this),i=C.a.bind(function(){return P.a.Deferred().reject(e).promise()},this);return n=n.then(r,i)},resolveUrls:function(e,t){var n=P.a.Deferred();return this.validatePlayerType(e,t)?(this.validateSoftSubtitles(e,t)?e.subtitlesUrl=this.resolveSubtitlesUrl(e,t):e.useSoftSubtitles&&(e.useSoftSubtitles=!1),D.a.group("[PDE] Player decision"),D.a.info("Player:",e.playerType),D.a.info("Protocol:",e.protocol),D.a.info("Direct Play:",e.canDirectPlay),D.a.groupEnd(),e.canDirectPlay?e.url=this.resolveDirectPlayUrl(e,t):e.url=this.resolveTranscoderUrl(e,t),e.drm&&(e.license=this.resolveLicenseUrl(e,t)),this.resolveDecision(e,t)):n.reject(e).promise()},validatePlayerType:function(e,t){return e.media&&t.type&&t.type!==Sk.types.PHOTO?e.canDirectPlay?("hls"===e.media.protocol?(e.protocol="hls",e.playerType=t.hasNativeHLS?"html":"flash"):"dash"===e.media.protocol?(e.protocol="dash",e.playerType="html"):(e.protocol="http",e.playerType="flv"===e.media.container?"flash":"html"),!0):this.validatePlayerTranscodeProtocol(e,t):(e.protocol="http",e.playerType="html",!0)},validatePlayerTranscodeProtocol:function(e,t){var n,r=e.transcodeServer,i=t.transcodeProtocol,a=!0,o=!0,s=!0;if(i&&(a="dash"===i,o="http"===i,s="hls"===i),s&&t.hasNativeHLS)return e.protocol="hls",e.playerType="html",!0;if(o&&t.hasStreamingMKV){if(r.isVersionOrNewer(t.minVersionForStreamingMKV))return e.protocol="http",e.playerType="html",!0;n=t.minVersionForStreamingMKV}if(a&&t.hasDASH){if(r.isVersionOrNewer(t.minVersionForDASH))return e.protocol="dash",e.playerType="html",!0;n=t.minVersionForDASH}return t.type===Sk.types.MUSIC?(e.protocol="http",e.playerType="html",!0):s&&t.hasFlash?(e.protocol="hls",e.playerType="flash",!0):(e.errorMessage=n?Object(Xn.default)("Please update Plex Media Server. This feature requires {1} or later.",n):Object(Xn.default)("Streaming this media is unsupported."),!1)},validateSoftSubtitles:function(e,t){return e.useSoftSubtitles&&"html"!==e.playerType?(D.a.warn("[PDE] Only the HTML player supports soft subtitles"),!1):!e.useSoftSubtitles||e.canDirectPlay||t.allowDirectStreamVideoWithSoftSubtitles?e.useSoftSubtitles:(D.a.warn("[PDE] Unable to use soft subtitles without direct play"),!1)},resolveDirectPlayUrl:function(e,t){var n=t.item,r=e.part,i={"X-Plex-Session-Identifier":e.playbackSessionID},a=r?r.key:n.get("key"),o={appendHeaders:!0,params:i};return HIe(n,t).resolveUrl(a,o)},resolveTranscoderUrl:function(e,t,n){var r=t.item,i=e.media,a=e.part,o=t.transcoderOptions;C.a.isFunction(o)&&(o=o(e)),o=C.a.extend({},e.transcoderQualityOptions,o,{"X-Plex-Session-Identifier":e.playbackSessionID,session:e.transcodeSessionID,protocol:e.protocol,directPlay:e.canDirectPlay?1:0,offset:e.offset?e.offset/1e3:e.offset});var s=t.subtitlesBurnLevel;t.type===Sk.types.VIDEO&&(s===Cp.NEVER?o.subtitles=e.canDirectPlay?"none":"auto":e.useSoftSubtitles?(o.subtitles=e.canDirectPlay?"sidecar":"auto",s===Cp.AVOID&&(o.advancedSubtitles="text")):o.subtitles="burn");var l=t.profileExtra;C.a.isFunction(l)&&(l=l(e)),o["X-Plex-Client-Profile-Extra"]=l;var c=r.get("Media")[0],u=!!c&&"livetv"===c.origin;("hls"===o.protocol&&!t.useOffsetHLS&&!u||"dash"===o.protocol&&!u)&&(Object(D.a)("[PDE] DASH and HLS should seek forward by default, offset=0"),delete o.offset),"hls"===o.protocol&&t.useOffsetHLS&&(e.useOffsetHLS=!0,o.offset&&(Object(D.a)("[PDE] HLS started with an offset, copyts=0"),o.copyts=0)),BIe(o.protocol)&&u&&(o.copyts=0),"http"===o.protocol&&(t.type===Sk.types.MUSIC?(e.useOffsetHTTP=!0,o.copyts=0):o.copyts=u?0:1),"http"!==o.protocol||e.canDirectPlay||(o["X-Plex-Chunked"]=1),C.a.each(C.a.keys(o),function(e){null==o[e]&&delete o[e]});var d=t.type,p=t.transcoder,h=e.transcodeServer;if(d===Sk.types.VIDEO)return p.video(h,r,i,a,o,n);if(d===Sk.types.MUSIC)return p.music(h,r,o,n);if(d===Sk.types.PHOTO){o.fallbackServer=t.fallbackServer;var f="photo"===r.get("type")?r.getMediaKey():r.get("thumb");return p.image(h,f,o)}},resolveSubtitlesUrl:function(e,t){var n=this.resolveTranscoderUrl(e,t),r=F.parseUrl(n).params,i=e.canDirectPlay?"/subtitles/:/transcode/universal/start":"/video/:/transcode/universal/subtitles";return e.transcodeServer.resolveUrl(i,{params:r})},resolveLicenseUrl:function(e,t){var n=HIe(t.item,t);return Object(D.a)("[PDE] Resolving DRM license",e.part.license),n.resolveUrl(e.part.license,{appendHeaders:!0})},resolveDecision:function(e,t){var n=t.itemProvider||t.item.provider,r=e.transcodeServer,i=P.a.Deferred(),a=r.get("isCloud")||!r.supports("decisionEndpoint"),o=t.item.get("source")&&n.get("identifier")!==Cn.d;if(t.type===Sk.types.PHOTO||o||a)return i.resolve(e).promise();var s=C.a.clone(e);this.validatePlayerTranscodeProtocol(s,t);var l=this.resolveTranscoderUrl(s,t,"decision"),c=P.a.ajax(r.getXHROptions(l,{timeout:2e3}));return null!=e.offset&&!e.canDirectPlay&&BIe(e.protocol)&&e.media&&"livetv"===e.media.origin&&(e.offset=0),c.done(function(t){var n=mt.a.parseXML(t);n.generalDecisionCode&&(e.generalDecisionCode=mt.a.parseInteger(n.generalDecisionCode),e.generalDecisionText=n.generalDecisionText),n.mdeDecisionCode&&(e.mdeDecisionCode=mt.a.parseInteger(n.mdeDecisionCode),e.mdeDecisionText=n.mdeDecisionText),n.transcodeDecisionCode&&(e.transcodeDecisionCode=mt.a.parseInteger(n.transcodeDecisionCode),e.transcodeDecisionText=n.transcodeDecisionText),e.abr=mt.a.parseBoolean(n.abr),RIe(e)?i.reject(e):i.resolve(e)}),c.fail(function(){D.a.warn("[PDE] Player decision failed; the transcode server may be a slow or outdated"),i.resolve(e)}),i.promise()}},WIe=Mt("ui/player/playerDecision/makeDecision"),GIe=Mt("ui/player/playerDecision/makeNextDecision"),YIe=Mt("ui/player/playerDecision/removeDecision"),KIe=Mt("ui/player/playerDecision/retryDecision");function qIe(e,t){var n=Jbe(e),r=n.get("metadataItem");if(n.get("playQueueItemID")===t.playQueueItemID){var i={currentDecision:t,availableQualities:t.availableQualities,qualityIndex:t.qualityIndex,mediaIndex:t.mediaIndex,partIndex:t.partIndex,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds};null!=e.get("startMetadataItemEntityID")&&e.get("startMetadataItemEntityID")!==r.entityID()||(i.startMetadataItemEntityID=null,i.startOffsetMilliseconds=null,i.startMediaIndex=null),e.set(i)}}var ZIe=((VIe={})["ui/player/playerDecision/makeDecision"]=function(e,t){var n=t.playerType,r=t.playQueueItemEntityID,i=t.mediaIndex,a=t.partIndex,o=t.qualityIndex,s=t.transcodeSessionID,l=t.options,c=void 0===l?{}:l,u=Lee(e,n),d=Oo(e,{playQueueItemEntityID:r});if(d.get("type")!==ed.c){var p=u.get("decisions")[r];if(p)qIe(u,p);else{var h,f,g,v=d.get("metadataItem"),m=NIe(e,u,d).then(function(e){return h=e.mediaServerModel,f=e.mediaProviderModel,yIe(v,{forceSyncCheckFiles:!0,itemProvider:e.providerModel})});(m=m.then(function(){var t=null==i?function(e,t){return null==e.get("startMetadataItemEntityID")&&null!=e.get("startMediaIndex")?e.get("startMediaIndex"):e.get("startMetadataItemEntityID")===t.entityID()?e.get("startMediaIndex"):null}(u,v):i,n=v.get("Media")[t],r=n&&n.Part[a],l=Object(J.c)("getDecisionOptions")(v,o,n);return g=Object.assign({transcodeSessionID:s,playbackSessionID:u.get("playbackSessionID"),item:v,offset:_ee(u,v),fallbackServer:e.get("primaryServer"),media:n,part:r,itemProvider:f,itemServer:h},l,c),c.offset,QIe.getPlayerDecision(g)})).done(kne(u,function(e){var t,n=kIe(g,e),i=Object.assign({},n,{playQueueItemID:d.get("playQueueItemID")}),a=u.get("decisions");u.set("decisions",Object.assign({},a,((t={})[r]=i,t))),qIe(u,i)})).fail(kne(u,function(e){var t;h&&f?v.get("isPreFetched")?(v.set({isPreFetched:!1}),t=RIe(e)):t=Object(Xn.default)("Content is unavailable"):t=Object(Xn.default)("Source is unavailable"),function(e,t,n){var r=e.get("playQueue"),i=r.get("playQueueItems").at(r.get("currentIndex"));t.id===i.id&&e.set({isMediaLoading:!1,hasError:!0,errorMessage:n})}(u,d,t)}))}}},VIe["ui/player/playerDecision/makeNextDecision"]=function(e,t,n){var r=t.playerType,i=Lee(e,r),a=i.get("playQueue"),o=a.get("playQueueItems"),s=a.get("currentIndex"),l=i.get("repeatOne")?s:s+1;if(i.get("repeatAll")&&l>o.length-1&&(l=0),l!==s&&l<o.length){var c=o.at(l).entityID();n(WIe({playerType:r,playQueueItemEntityID:c}))}},VIe["ui/player/playerDecision/removeDecision"]=function(e,t){var n=t.playerType,r=t.playQueueItemEntityID,i=Lee(e,n);Object(No.a)(function(){var e,t=i.get("decisions"),n=i.get("currentDecision"),a={decisions:Object.assign({},t,(e={},e[r]=null,e))};t[r]===n&&(a.currentDecision=null),i.set(a)})},VIe["ui/player/playerDecision/retryDecision"]=function(e,t,n){var r=t.playerType,i=t.decisionOptions,a=Lee(e,r),o=a.get("playQueue"),s=o.get("playQueueItems"),l=a.get("currentDecision"),c=o.get("currentIndex"),u=s.at(c).entityID();l&&n(YIe({playerType:r,playQueueItemEntityID:u})),n(WIe(l?{playerType:r,playQueueItemEntityID:u,mediaIndex:l.mediaIndex,partIndex:l.partIndex,qualityIndex:a.get("qualityIndex"),options:Object.assign({offset:1e3*a.get("positionSeconds")},i)}:{playerType:r,playQueueItemEntityID:u,qualityIndex:a.get("qualityIndex")}))},VIe),XIe=Object(Iy.createSelector)(Cy,function(e){return e.liveTVSessions});function JIe(){return Object(Iy.createSelector)(XIe,aoe("liveTVSession"),function(e,t){return e[t]})}var $Ie=function(e){return void 0===e&&(e=0),Object(Iy.createSelector)(loe(e),$N,ek,function(e,t,n){if(e&&e.metadataItem){var r=t[e.metadataItem];return r&&n[r.providerEntityID]}})};var eCe=function(){return Object(Iy.createSelector)(aoe("mediaIndex"),loe(),$N,function(e,t,n){if(void 0===e&&(e=0),t&&t.metadataItem)return n[t.metadataItem].Media[e]})};var tCe=function(){return Object(Iy.createSelector)(aoe("partIndex"),eCe(),function(e,t){if(void 0===e&&(e=0),t)return t.Part[e]})};var nCe=function(){return Object(Iy.createSelector)(tCe(),function(e){if(!e)return{videoStreams:[],selectedVideoStream:null,audioStreams:[],selectedAudioStream:null,subtitlesStreams:[],selectedSubtitlesStream:null};var t=Av.a.get("video").id,n=Av.a.get("audio").id,r=Av.a.get("subtitles").id,i=e.Stream.filter(function(e){return e.streamType===t}),a=e.Stream.filter(function(e){return e.streamType===n}),o=e.Stream.filter(function(e){return e.streamType===r}),s=i[0],l=a.find(function(e){return e.selected}),c=o.find(function(e){return e.selected});return{videoStreams:i,selectedVideoStream:s,audioStreams:a,selectedAudioStream:l,subtitlesStreams:o,selectedSubtitlesStream:c}})};var rCe=function(){return Object(Iy.createSelector)(Object(J.c)("selectRemoteQuality"),function(e){var t=gd.a.getQualityByIndex(e).bitrate;return null==t&&(t=2e5),1e3*t})};var iCe=function(){return Object(Iy.createSelector)(aoe("serverEntityID"),JSe(),My,function(e,t,n){return t&&t.transcodeServerEntityID?n[t.transcodeServerEntityID]:e?n[e]:void 0})},aCe=n(184),oCe=n(980),sCe=n.n(oCe),lCe=Xf.a.createElement,cCe=Xf.a.Component,uCe=Xf.a.Suspense,dCe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._mediaComponent=Object(J.c)("mediaComponent"),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isDecisionPending,n=e.isDecisionDirectPlay,r=e.isDecisionDirectStreamAudio,i=e.isDecisionDirectStreamVideo,a=e.isLibraryProvider,o=e.hasStreamProtocol,s=e.isPaused,l=e.decisionUrl,c=e.decisionProtocol,u=(e.decisionError,e.decisionDrm),d=e.decisionCertificate,p=e.decisionLicense,h=e.media,f=e.mediaType,g=e.mediaSubtype,v=e.placement,m=e.shouldCoverWhenDecisionPending,y=wt()(e,["isDecisionPending","isDecisionDirectPlay","isDecisionDirectStreamAudio","isDecisionDirectStreamVideo","isLibraryProvider","hasStreamProtocol","isPaused","decisionUrl","decisionProtocol","decisionError","decisionDrm","decisionCertificate","decisionLicense","media","mediaType","mediaSubtype","placement","shouldCoverWhenDecisionPending"]);if(t)return m?hv()("div",{className:sCe.a.isDecisionPending}):null;var b=this._mediaComponent.getComponent({drm:u,protocol:c,isDirectPlay:n,isDirectStreamAudio:r,isDirectStreamVideo:i,isLibraryProvider:a,hasStreamProtocol:o,media:h}),S=f===ed.a?aCe.b:v;return hv()(uCe,{fallback:null},void 0,lCe(b,dv()({},y,{key:l,src:l,paused:s,placement:S,media:h,mediaType:f,mediaSubtype:g,drm:u,license:p,certificate:d,isDecisionDirectPlay:n,isDecisionDirectStreamAudio:r,isDecisionDirectStreamVideo:i})))},t}(cCe),pCe=Xf.a.createElement,hCe=Xf.a.Component,fCe=!0;var gCe={dispatchMakeDecision:WIe,dispatchMakeNextDecision:GIe,dispatchRemoveDecision:YIe,dispatchRetryDecision:KIe,dispatchUpdatePlayerDuration:ISe,dispatchUpdatePlayerPosition:CSe,dispatchUpdatePlayerSeekRange:MSe,dispatchUpdatePlayerBuffering:DSe,dispatchPause:qSe,dispatchPlay:KSe,dispatchUpdatePlayerError:wSe,dispatchSendTimeline:SSe,dispatchTickPlayer:TSe,dispatchShowPostPlay:sre,dispatchPlayNextItem:$ne,dispatchEndPlayback:jre,dispatchSetMetricsPlayer:Ore};var vCe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onDurationMillisecondsChange=function(e){t.props.dispatchUpdatePlayerDuration({playerType:t.props.playerType,durationMilliseconds:e})},t.onPositionMillisecondsChange=function(e){var n=t.props,r=n.playerType,i=n.dispatchUpdatePlayerPosition,a=n.onPositionMillisecondsChange,o=Math.floor(e/1e3);a&&a(e),o!==t.props.positionSeconds&&i({playerType:r,positionSeconds:o})},t.onTick=function(e){t.props.dispatchTickPlayer({playerType:t.props.playerType,secondsElapsed:e})},t.onBufferingChange=function(e){t.props.dispatchUpdatePlayerBuffering({playerType:t.props.playerType,isBuffering:e})},t.onPause=function(){t.props.dispatchPause({playerType:t.props.playerType,isApplicationInitiated:!0})},t.onPlay=function(){t.props.dispatchPlay({playerType:t.props.playerType,isApplicationInitiated:!0})},t.onStreamChange=function(){var e=t.props,n=e.playerType,r=e.playQueueItemEntityID,i=e.positionSeconds,a=e.liveTVPositionSeconds,o=e.qualityIndex,s=e.decisionMediaIndex,l=e.decisionPartIndex,c=e.dispatchMakeDecision;(0,e.dispatchRemoveDecision)({playerType:n,playQueueItemEntityID:r}),c({playerType:n,playQueueItemEntityID:r,mediaIndex:s,partIndex:l,qualityIndex:o,options:{offset:null!=a?1e3*a:1e3*i}})},t.onMetricsPlayerChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchSetMetricsPlayer)({playerType:r,metricsPlayer:e})},t.onError=function(e){void 0===e&&(e={});var n=e,r=n.code,i=n.category,a=n.message,o=t.props,s=o.playerType,l=o.isDecisionDirectPlay,c=o.isDecisionDirectStreamVideo,u=o.isDecisionDirectStreamAudio,d=o.canTranscodeServerTranscode,p=o.dispatchUpdatePlayerError;fCe&&l&&d?(D.a.warn("[Player] Direct Play failed, but server can transcode. Attempting to fallback to either Direct Stream or transcode..."),t._itemRestarting(t.props,{allowDirectPlay:!1})):fCe&&c&&d?(D.a.warn("[Player] Direct Stream failed, but server can transcode. Attempting to fallback to video transcode..."),t._itemRestarting(t.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0}})):fCe&&u&&d?(D.a.warn("[Player] Video transcode failed. Attempting to fallback to video and audio transcode..."),t._itemRestarting(t.props,{allowDirectPlay:!1,transcoderOptions:{directStream:0,directStreamAudio:0}})):(t.onPause(),p({playerType:s,errorCode:r,errorCategory:i,errorMessage:a}))},t.onEnd=function(){var e=t.props,n=e.playerType,r=e.playQueueItemEntityID,i=e.minSecondsForPostPlay,a=e.durationSeconds,o=e.qualityIndex,s=e.mediaType,l=e.mediaSubtype,c=e.repeatOne,u=e.repeatAll,d=e.isLastPlayQueueItem,p=e.totalCount,h=e.decisionMediaIndex,f=e.decisionPartIndex,g=e.decisionPartCount,v=e.dispatchMakeDecision,m=e.dispatchRemoveDecision,y=e.dispatchShowPostPlay,b=e.dispatchPlayNextItem,S=e.dispatchEndPlayback,I=c||u&&1===p;f+1<g?(m({playerType:n,playQueueItemEntityID:r}),v({playerType:n,playQueueItemEntityID:r,qualityIndex:o,mediaIndex:h,partIndex:f+1,options:{offset:0}})):I?(m({playerType:n,playQueueItemEntityID:r}),v({playerType:n,playQueueItemEntityID:r,qualityIndex:o,mediaIndex:h,partIndex:0,options:{offset:0}})):!d||u?s===ed.d&&l!==tr&&n===Une&&a>=i?y({playerType:n}):b({playerType:n,isApplicationInitiated:!0}):S({playerType:n})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._itemStarting(this.props),this.props.mediaType===ed.c&&this._itemProgressing(this.props)},n.componentDidUpdate=function(e){var t=this.props,n=t.playQueueItemEntityID,r=t.playerType,i=t.mediaType,a=t.isDecisionPending,o=t.isPaused,s=t.isBuffering,l=t.hasError,c=t.positionSeconds,u=t.durationSeconds,d=t.preFetchSeconds,p=t.qualityIndex,h=t.dispatchMakeNextDecision,f=t.liveTVPositionSeconds,g=n!==e.playQueueItemEntityID,v=a!==e.isDecisionPending,m=p!==e.qualityIndex,y=o!==e.isPaused,b=s!==e.isBuffering,S=l!==e.hasError,I=u!==e.durationSeconds;if(!m||g||v){if(g)return this._hasRefreshedPlayQueue=!1,this._hasPreFetched=!1,this._itemStopping(e),this._itemStarting(this.props),void(i===ed.c&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!0}),this._hasRefreshedPlayQueue=!0));!this._hasPreFetched&&u>0&&u-c<d&&(this._hasPreFetched=!0,h({playerType:r})),!v&&(!this._hasRefreshedPlayQueue||y||b||S||I)&&(this._itemProgressing(this.props,{shouldRefreshPlayQueue:!this._hasRefreshedPlayQueue}),this._hasRefreshedPlayQueue=!0)}else{var C=null!=f?1e3*f:1e3*c;this._itemRestarting(this.props,{offset:C})}},n.componentWillUnmount=function(){this._itemStopping(this.props,{continuing:!1}),this.props.onPositionMillisecondsChange&&this.props.onPositionMillisecondsChange(0)},n._itemStarting=function(e){var t=e.mediaType,n=e.playerType,r=e.playQueueItemEntityID,i=e.qualityIndex;t!==ed.c&&e.dispatchMakeDecision({playerType:n,playQueueItemEntityID:r,qualityIndex:i})},n._itemRestarting=function(e,t){void 0===t&&(t={});var n=e.mediaType,r=e.playerType;n!==ed.c&&e.dispatchRetryDecision({playerType:r,decisionOptions:t})},n._itemProgressing=function(e,t){var n=(void 0===t?{}:t).shouldRefreshPlayQueue,r=void 0!==n&&n,i=e.playerType,a=e.mediaType,o=e.providerEntityID,s=e.playQueueItemEntityID,l=e.playbackTime,c=e.positionSeconds,u=e.durationSeconds,d=e.isPaused,p=e.decisionMediaIndex,h=e.decisionPartIndex,f=e.decisionPartCount,g=e.dispatchSendTimeline,v=a===ed.c;g({playerType:i,providerEntityID:o,playQueueItemEntityID:s,shouldRefreshPlayQueue:r,options:v?{state:d&&!v?nSe:tSe}:{playbackTime:l,positionSeconds:c,durationSeconds:u,mediaIndex:p,partIndex:h,partCount:f}})},n._itemStopping=function(e,t){var n=(void 0===t?{}:t).continuing,r=void 0===n||n;e.dispatchSendTimeline({playerType:e.playerType,providerEntityID:e.providerEntityID,playQueueItemEntityID:e.playQueueItemEntityID,options:{state:eSe,continuing:r,playbackTime:e.playbackTime,positionSeconds:e.positionSeconds,durationSeconds:e.durationSeconds,mediaIndex:e.decisionMediaIndex,partIndex:e.decisionPartIndex,partCount:e.decisionPartCount}}),e.mediaType!==ed.c&&e.dispatchRemoveDecision({playerType:e.playerType,playQueueItemEntityID:e.playQueueItemEntityID})},n.render=function(){var e=this.props,t=(e.preFetchSeconds,e.minSecondsForPostPlay,e.repeatOne,e.repeatAll,e.totalCount,e.isLastPlayQueueItem,e.canTranscodeServerTranscode,e.qualityIndex,e.decisionMediaIndex,e.decisionPartIndex,e.decisionPartCount,e.dispatchMakeDecision,e.dispatchRemoveDecision,e.dispatchUpdatePlayerDuration,e.dispatchUpdatePlayerPosition,e.dispatchUpdatePlayerSeekRange,e.dispatchUpdatePlayerBuffering,e.dispatchPause,e.dispatchUpdatePlayerError,e.dispatchTickPlayer,e.dispatchShowPostPlay,e.dispatchPlayNextItem,e.dispatchEndPlayback,e.dispatchSetMetricsPlayer,wt()(e,["preFetchSeconds","minSecondsForPostPlay","repeatOne","repeatAll","totalCount","isLastPlayQueueItem","canTranscodeServerTranscode","qualityIndex","decisionMediaIndex","decisionPartIndex","decisionPartCount","dispatchMakeDecision","dispatchRemoveDecision","dispatchUpdatePlayerDuration","dispatchUpdatePlayerPosition","dispatchUpdatePlayerSeekRange","dispatchUpdatePlayerBuffering","dispatchPause","dispatchUpdatePlayerError","dispatchTickPlayer","dispatchShowPostPlay","dispatchPlayNextItem","dispatchEndPlayback","dispatchSetMetricsPlayer"]));return pCe(dCe,dv()({},t,{onMetricsPlayerChange:this.onMetricsPlayerChange,onDurationMillisecondsChange:this.onDurationMillisecondsChange,onPositionMillisecondsChange:this.onPositionMillisecondsChange,onTick:this.onTick,onBufferingChange:this.onBufferingChange,onStreamChange:this.onStreamChange,onError:this.onError,onEnd:this.onEnd,onPause:this.onPause,onPlay:this.onPlay}))},t}(hCe);vCe.defaultProps={preFetchSeconds:10,minSecondsForPostPlay:300};var mCe=Lm(function(){return Object(Iy.createSelector)($Ie(),ioe(),JSe(),iCe(),loe(),loe(1),fIe(),nCe(),JIe(),rCe(),function(e,t,n,r,i,a,o,s,l,c){var u=t.playQueue,d=u.playQueueSelectedItemOffset,p=i.entityID,h=!a||d+1===u.length,f={providerEntityID:t.providerEntityID,playQueueItemEntityID:p,isDecisionPending:!n,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,repeatOne:t.repeatOne,repeatAll:t.repeatAll,totalCount:u.length,isLastPlayQueueItem:h,playbackTime:t.playbackTime,positionSeconds:t.positionSeconds,durationSeconds:t.durationSeconds,lastSeekPositionSeconds:t.lastSeekPositionSeconds,videoStreams:s.videoStreams,videoStream:s.selectedVideoStream,audioStreams:s.audioStreams,audioStream:s.selectedAudioStream,subtitlesStreams:s.subtitlesStreams,subtitleStream:s.selectedSubtitlesStream,isStreamChangeInProgress:o.isStreamChangeInProgress,bufferingDetectionLimit:te.a.get("bufferingDetectionLimit")};if(l){var g=l.captureBuffer;if(g){var v=g.startedAt,m=l.startedAt,y=v||m;f.liveTVPositionSeconds=l.currentPosition-y}}return n&&(f.decisionMediaIndex=n.mediaIndex,f.decisionPartIndex=n.partIndex,f.decisionPartCount=n.partCount,f.decisionUrl=n.url,f.decisionProtocol=n.protocol,f.decisionError=n.error,f.isDecisionDirectPlay=n.isDirectPlay,f.isDecisionDirectStreamVideo=n.canDirectStreamVideo,f.isDecisionDirectStreamAudio=n.canDirectStreamAudio,f.canTranscodeServerTranscode=!r.isCloud&&yc(r.version,Cc.decisionEndpoint),f.hasBurnedSubtitles=s.selectedSubtitlesStream&&0!==s.selectedSubtitlesStream.id&&!n.subtitlesUrl,f.decisionDrm=n.drm,f.decisionLicense=n.license,f.decisionCertificate=n.certificate),!f.isDecisionDirectPlay||"dash"!==f.decisionProtocol&&"hls"!==f.decisionProtocol||(f.bufferingGoal=10,f.defaultBandwidthEstimate=c),e&&(f.isLibraryProvider=e.isLibraryProvider,f.hasStreamProtocol=e.protocols.includes("stream")),f})},gCe,function(e,t,n){var r=t;return Object.assign({},n,e,r)})(vCe);var yCe=Lm(function(){return Object(Iy.createSelector)(aoe("qualityIndex"),Py,vIe,gIe(),Object(Iy.createSelector)(function(e,t){return t.mediaType},aoe("openState"),function(e,t){return e===ed.d&&t===Rne}),function(e,t,n,r,i){return{qualityIndex:e,subtitleSize:t.subtitleSize,volume:n,playbackSpeed:r,shouldCoverWhenDecisionPending:i}})})(mCe),bCe=Xf.a.createElement;var SCe=hIe(function(e){return bCe(yCe,dv()({},e,{type:tIe,allowRecycleElement:!0}))});var ICe=function(e,t){return KS(Object(Iy.createSelector)(function(e){return e.ui},function(e,t){return t.playerType},function(n,r){void 0===r&&(r=t);var i=r+"Player";return n[i]?C.a.pick(n[i],e):{}}),function(e){return e})};function CCe(){return Object(Iy.createSelector)(My,aoe("serverEntityID"),function(e,t){return e[t]})}var MCe=n(215),DCe="direct",wCe="copy",PCe="transcode";function TCe(e){if(e)return e.relay?"relayed":e.isLoopback?"localhost":e.isPrivate?"local":"remote"}function ECe(e,t){var n=e/t;return n=Math.round(n),n*=t}function xCe(e){if(null!=e){var t=Math.round(e/1e3);return ECe(t,t>=3600?300:60)}}var OCe=Xf.a.Component,jCe="cast",ACe="failed",NCe="completed",kCe="stopped",LCe="skipped",RCe="quality",_Ce="streams",UCe="unknown";var zCe={dispatchSetPlayerPlaybackTime:WSe},FCe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTickTimeout=function(){r.flushPlaybackTimes(),r.setTickTimeout(r.props)},r.itemID=null,r.itemDecision=null,r.itemMetricsProperties=null,r.itemPlaybackTimestamp=null,r.itemPlaybackMilliseconds=0,r.sessionPlaybackMilliseconds=0,r.sessionPlaybackCount=0,r.hasError=!1,r.hasEnded=!1,r.hasStopped=!1,r._tickTimeout=null,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.update()},n.componentDidUpdate=function(e){this.update(e)},n.componentWillUnmount=function(){this.hasStopped=!0,this.trackItemEnd(),this.trackSessionEnd(),this.clearTickTimeout()},n.clearTickTimeout=function(){this._tickTimeout&&(this._tickTimeout=clearTimeout(this._tickTimeout))},n.setTickTimeout=function(e){e.isPlaying&&(this.clearTickTimeout(),this.itemPlaybackTimestamp=Date.now(),this._tickTimeout=setTimeout(this.onTickTimeout,1e3))},n.update=function(e){void 0===e&&(e={});var t=this.props,n=t.isRemotePlayer,r=t.playQueueItemID,i=t.decision,a=t.isPlaying,o=t.hasError,s=t.metricsType,l=t.metricsPlayer,c=e.isPlaying;(a&&!c?this.setTickTimeout(this.props):!a&&c&&this.clearTickTimeout(),n)?e.isRemotePlayer||(this.trackItemEnd(),this.trackSessionEnd()):(!this.hasError&&o&&(this.hasError=!0,this.trackFailure()),this.itemID&&(this.itemID===r?this.updateCurrentItem():this.trackItemEnd()),!this.itemID&&!this.hasError&&a&&r&&l&&(i||s===nr.h)&&this.trackItemStart())},n.updateCurrentItem=function(){var e,t=this.props,n=t.decision,r=t.isPlaying,i=t.hasEnded;if((r?(this.itemPlaybackTimestamp||(this.itemPlaybackTimestamp=Date.now()),this.hasEnded=i):this.flushPlaybackTimes(),this.itemDecision&&n&&this.itemDecision!==n)&&(this.itemDecision.qualityIndex!==n.qualityIndex?e=RCe:this.itemDecision.partIndex===n.partIndex&&(e=_Ce),e)){var a=this.itemMetricsProperties.offset;this.trackItemRestart(e),this.itemMetricsProperties.offset=a}},n.getItemMetricsProperties=function(){return{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,identifier:this.props.metricsIdentifier,page:this.props.metricsPage,context:this.props.metricsContext,auto:this.props.metricsAutoPlay,protocol:this.props.metricsProtocol,offset:this.props.metricsOffset,container:this.props.metricsContainer,duration:this.props.metricsDuration,bitrate:this.props.metricsBitrate,origin:this.props.metricsOrigin,audioCodec:this.props.metricsAudioCodec,audioDecision:this.props.metricsAudioDecision,videoCodec:this.props.metricsVideoCodec,videoDecision:this.props.metricsVideoDecision,subtitleFormat:this.props.metricsSubtitleFormat,subtitleDecision:this.props.metricsSubtitleDecision,player:this.props.metricsPlayer}},n.flushPlaybackTimes=function(){if(this.itemPlaybackTimestamp){var e=Date.now()-this.itemPlaybackTimestamp;this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds+=e,this.sessionPlaybackMilliseconds+=e,this.setPlayerPlaybackTime(),Object(J.c)("metrics").addPlaybackTime(e)}},n.trackItemStart=function(){this.itemID=this.props.playQueueItemID,this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),this.itemPlaybackTimestamp=Date.now(),this.itemPlaybackMilliseconds=0,this.sessionPlaybackCount+=1,this.hasEnded=this.props.hasEnded,this.hasError=this.props.hasError;var e=this.props.playbackStartTime,t=Object.assign({},this.itemMetricsProperties);e>0&&1===this.sessionPlaybackCount&&(t.latency=Date.now()-e),Object(J.c)("metrics").trackEvent({event:"playback:itemstart",interaction:!0,properties:t}),Object(J.c)("metrics").incrementPlaybackCount(),this.setTickTimeout(this.props)},n.trackItemRestart=function(e){this.itemDecision=this.props.decision,this.itemMetricsProperties=this.getItemMetricsProperties(),Object(J.c)("metrics").trackEvent({event:"playback:itemrestart",interaction:!0,properties:Object.assign({},this.itemMetricsProperties,{reason:e})})},n.trackItemEnd=function(){var e;this.itemID&&(this.flushPlaybackTimes(),this.clearTickTimeout(),e=this.props.isRemotePlayer?jCe:this.hasError?ACe:this.hasEnded?NCe:this.hasStopped?kCe:LCe,Object(J.c)("metrics").trackEvent({event:"playback:itemend",interaction:!0,properties:Object.assign({},this.itemMetricsProperties,{playbackTime:xCe(this.itemPlaybackMilliseconds),status:e})}),this.itemID=null,this.itemDecision=null,this.itemMetricsProperties=null,this.itemPlaybackTimestamp=null,this.itemPlaybackMilliseconds=0,this.hasError=!1,this.hasEnded=!1)},n.trackSessionEnd=function(){this.sessionPlaybackCount&&(this.flushPlaybackTimes(),Object(J.c)("metrics").trackEvent({event:"playback:sessionend",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,playbackCount:this.sessionPlaybackCount,playbackTime:xCe(this.sessionPlaybackMilliseconds)}}),this.sessionPlaybackMilliseconds=0,this.sessionPlaybackCount=0)},n.trackFailure=function(){Object(J.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:this.props.metricsServerType,connectionType:this.props.metricsConnectionType,type:this.props.metricsType,error:this.props.errorCode}})},n.setPlayerPlaybackTime=function(){this.props.dispatchSetPlayerPlaybackTime({playbackTime:this.itemPlaybackMilliseconds,playerType:this.props.playerType})},n.render=function(){return null},t}(OCe);FCe.defaultProps={metricsPage:xa};var BCe=Lm(function(){return Object(Iy.createSelector)(uoe(),CCe(),coe(),JSe(),loe(),Object(Iy.createSelector)(ICe(["confirmRemoteToLocal","isPostPlayVisible","isMediaLoading","isBuffering","isPaused","hasError"]),coe(),JSe(),function(e,t,n){return!(!t||t.type!==nr.h)||!(!n||e.confirmRemoteToLocal||e.isPostPlayVisible||e.isMediaLoading||e.isBuffering||e.isPaused||e.hasError)}),Object(Iy.createSelector)(aoe("positionSeconds"),coe(),JSe(),function(e,t,n){if(t&&t.type===nr.h)return!0;if(n){var r=t.Media[n.mediaIndex],i=r&&r.Part[n.partIndex];if(r&&r.duration&&i)return uSe(r,i,1e3*e)>.9*r.duration}return!1}),aoe("hasError"),aoe("errorCode"),aoe("metricsPage"),aoe("metricsContext"),aoe("metricsAutoPlay"),aoe("metricsPlayer"),aoe("playbackStartTime"),function(e,t,n,r,i,a,o,s,l,c,u,d,p,h){var f={decision:r,isPlaying:a,hasEnded:o,hasError:s,errorCode:l,metricsPage:c,metricsContext:u,metricsAutoPlay:d,metricsPlayer:p,playbackStartTime:h};if(t&&(f.metricsServerType=BB(t),f.metricsConnectionType=TCe(t.activeConnection)),i&&(f.playQueueItemID=i.playQueueItemID),n&&(f.metricsType=n.type,f.metricsIdentifier=n.identifier,n.type===nr.h&&(f.metricsPlayer=MCe.b,n.Media.length&&(f.metricsContainer=n.Media[0].container))),e&&!f.metricsIdentifier&&(f.metricsIdentifier=e.identifier),r){var g=function(e){var t={};return e.isDirectPlay?(t.videoDecision=DCe,t.audioDecision=DCe,t.subtitleDecision=DCe):(t.videoDecision=e.canDirectStreamVideo?wCe:PCe,t.audioDecision=e.canDirectStreamAudio?wCe:PCe,t.subtitleDecision=e.useSoftSubtitles?wCe:PCe),t}(r),v=n.Media[r.mediaIndex],m=v&&v.Part[r.partIndex],y=nr.r(n.type).mediaType,b=Av.a.get("video").id,S=m&&C.a.findWhere(m.Stream,{streamType:b}),I=Av.a.get("audio").id,M=m&&C.a.findWhere(m.Stream,{streamType:I,selected:!0}),D=Av.a.get("subtitles").id,w=m&&C.a.findWhere(m.Stream,{streamType:D,selected:!0});f.metricsProtocol=r.protocol,f.metricsOffset=r.positionSeconds,v&&(f.metricsContainer=v.container,f.metricsDuration=xCe(v.duration||n.duration),f.metricsBitrate=function(e){if(null!=e)return ECe(e,e>=10240?512:e>=1024?256:e>=512?128:e>=256?64:32)}(v.bitrate),f.metricsOrigin=v.origin),y===ed.d&&(f.metricsVideoCodec=S&&S.codec||UCe,f.metricsVideoDecision=g.videoDecision,w&&w.id!==Eue.a&&(f.metricsSubtitleFormat=w&&w.codec||UCe,f.metricsSubtitleDecision=g.subtitleDecision)),y!==ed.d&&y!==ed.a||(f.metricsAudioCodec=M&&M.codec||UCe,f.metricsAudioDecision=g.audioDecision)}return f})},zCe)(FCe);var HCe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._screenSaverManager=Object(J.a)("screenSaverManager")?Object(J.c)("screenSaverManager"):null,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._toggleScreenSaver(this.props.isEnabled)},n.componentDidUpdate=function(e){e.isEnabled!==this.props.isEnabled&&this._toggleScreenSaver(this.props.isEnabled)},n.componentWillUnmount=function(){this._toggleScreenSaver(!0)},n._toggleScreenSaver=function(e){this._screenSaverManager&&this._screenSaverManager.toggle(e)},n.render=function(){return null},t}(Xf.a.Component),VCe=Lm(function(){return Object(Iy.createSelector)(ICe(["isOpen","isPaused","openState"]),function(e){var t=e.isOpen,n=e.isPaused,r=e.openState;return{isEnabled:!t||!(r===Rne)||n}})})(HCe),QCe=n(320),WCe=n.n(QCe),GCe=!1;var YCe,KCe,qCe=(YCe=function(e,t){void 0===e&&(e={});var n=function(e){var t=e.mimeType,n=e.codecs,r=wt()(e,["mimeType","codecs"]);if(!t)return"";var i=[t];if(n&&i.push('codecs="'+n+'"'),r)for(var a in r)i.push(a+'="'+r[a]+'"');return i.join("; ")}(e),r=Object(Kg.a)("video",!0),i=r.canPlayType(n);return Object(Kg.b)(r),e.codecs?"probably"===i:"probably"===i||"maybe"===i},KCe={},function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=JSON.stringify(t);if(KCe.hasOwnProperty(r))return GCe&&window.console.log("[memoize] %s: fetching cache for key %s",YCe.name,r),KCe[r];GCe&&window.console.log("[memoize] %s: setting cache for key %s",YCe.name,r);var i=YCe.apply(void 0,t);return KCe[r]=i,i}),ZCe=Xf.a.createElement,XCe=Xf.a.Component,JCe="405",$Ce=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPositionMillisecondsChange=function(e){var t=Math.floor(e/1e3);t!==r.props.positionSeconds&&r._vastTracker.setProgress(t),r.props.onPositionMillisecondsChange(e)},r.onCanPlay=function(){r._hasMediaStarted=!0,r._resetPlaybackTimeout(),r._vastTracker.load()},r.onEnd=function(){var e=r.state,t=e.isLoading,n=e.currentAdIndex,i=e.ads;if(!t){r._vastTracker.complete();var a=n+1;if(a>=i.length)return r._hasMediaFinished=!0,void r.props.onEnd();var o=r._pickMedia(i,a);o?(r._hasMediaFinished=!1,r.setState({currentAdIndex:a,currentMedia:o})):r.props.onEnd()}},r.onError=function(){r._vastTracker.errorWithCode(JCe),r.onEnd()},r.state={isLoading:!0,ads:null,currentAdIndex:null,currentCreativeIndex:null,currentMedia:null},r._hasMediaStarted=!1,r._hasMediaFinished=!1,r._mediaComponent=Object(J.c)("mediaComponent"),r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._loadTemplateFilters(this.props.urlTemplateFilters)},n.componentDidMount=function(){this._loadXML(this.props.url),this.props.onMetricsPlayerChange(MCe.b)},n.componentDidUpdate=function(e,t){if(this.props.url!==e.url&&(this._hasMediaStarted=!1,this._hasMediaFinished=!1,WCe.a.parser.clearUrlTemplateFilters(),this._loadTemplateFilters(this.props.urlTemplateFilters),this._loadXML(this.props.url)),this.state.currentAdIndex!==t.currentAdIndex){var n=this.state.ads[this.state.currentAdIndex],r=n.creatives[this.state.currentCreativeIndex];this._vastTracker=new WCe.a.tracker(n,r),this.props.onSkipDelayChange(this.props.canForceVideoAds?3:r.skipDelay)}this.state.isLoading||(0===this.props.volume&&0!==e.volume&&this._vastTracker.setMuted(!0),0!==this.props.volume&&0===e.volume&&this._vastTracker.setMuted(!1),this.props.isPaused!==e.isPaused&&this._vastTracker.setPaused(this.props.isPaused),this.props.isFullscreen!==e.isFullscreen&&this._vastTracker.setFullscreen(this.props.isFullscreen),this.props.isMiniPlayer!==e.isMiniPlayer&&this._vastTracker.setExpand(!this.props.isMiniPlayer),this.props.isSkipped&&!e.isSkipped&&(this._vastTracker.skip(),this.props.onEnd()))},n.componentWillUnmount=function(){this._resetPlaybackTimeout(),this._vastXHR&&this._vastXHR.abort(),!this._vastTracker||this._hasMediaFinished||this.props.isSkipped||this._vastTracker.close(),WCe.a.parser.clearUrlTemplateFilters()},n._loadXML=function(e){var t=this;this._vastXHR&&this._vastXHR.abort(),this._resetPlaybackTimeout(),this.setState({isLoading:!0}),this._vastXHR=WCe.a.client.get(this.props.url,function(e,n){if(e&&!n){var r=e.ads,i=r[0].creatives.findIndex(function(e){return"linear"===e.type}),a=t._pickMedia(r,0,i);a?(t._hasMediaStarted=!1,t._hasMediaFinished=!1,t._playbackTimeout=setTimeout(function(){t._hasMediaStarted||(t._vastTracker.errorWithCode("402"),t.props.onEnd()),t._playbackTimeout=null},15e3),t.setState({isLoading:!1,ads:r,currentAdIndex:0,currentCreativeIndex:i,currentMedia:a}),t.props.onResponse(e),t._vastXHR=null):t.props.onEnd()}else t.props.onEnd()})},n._loadTemplateFilters=function(e){e.map(function(e){var t=e.template,n=e.value;WCe.a.parser.addURLTemplateFilter(function(e){return e.replace(t,n)})})},n._pickMedia=function(e,t,n){var r=this,i=e[t];if(i&&(i.creatives&&i.creatives.length&&i.creatives[n])){var a=i.creatives[n].mediaFiles;if(a.length){var o=a.filter(function(e){return r.props.canPlayType({mimeType:e.mimeType})}).reduce(function(e,t){return e.height<t.height?t:e});return o||this._vastTracker.errorWithCode("403"),o}}},n._resetPlaybackTimeout=function(){this._playbackTimeout&&(clearTimeout(this._playbackTimeout),this._playbackTimeout=null)},n.render=function(){var e=this.props,t=(e.url,e.urlTemplateFilters,e.isPaused),n=e.positionSeconds,r=(e.canForceVideoAds,wt()(e,["url","urlTemplateFilters","isPaused","positionSeconds","canForceVideoAds"])),i=this.state,a=i.isLoading,o=i.currentMedia;if(a)return null;var s=this._mediaComponent.getComponent({protocol:"http",isDirectPlay:!0});return ZCe(s,dv()({},r,{bufferingDetectionLimit:te.a.get("bufferingDetectionLimit"),positionSeconds:n,paused:t,src:o.fileURL,mediaType:"video",onPositionMillisecondsChange:this.onPositionMillisecondsChange,onCanPlay:this.onCanPlay,onEnd:this.onEnd,onError:this.onEnd}))},t}(XCe);$Ce.defaultProps={urlTemplateFilters:[],canPlayType:Ig()?function(){return!0}:qCe,onResponse:function(){},onSkipDelayChange:function(){},onPositionMillisecondsChange:function(){},onEnd:function(){}};var eMe=$Ce,tMe=Xf.a.createElement;var nMe={dispatchSetMetricsPlayer:Ore,dispatchUpdatePlayerBuffering:DSe},rMe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onBufferingChange=function(e){t.props.dispatchUpdatePlayerBuffering({playerType:t.props.playerType,isBuffering:e})},t.onMetricsPlayerChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchSetMetricsPlayer)({playerType:r,metricsPlayer:e})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchSetMetricsPlayer,e.dispatchUpdatePlayerBuffering,wt()(e,["dispatchSetMetricsPlayer","dispatchUpdatePlayerBuffering"]));return tMe(eMe,dv()({},t,{onBufferingChange:this.onBufferingChange,onMetricsPlayerChange:this.onMetricsPlayerChange}))},t}(Xf.a.Component),iMe=Lm(function(){return Object(Iy.createSelector)(ICe(["isPaused","isBuffering"]),vIe,function(e,t){return t.volume},$Se,function(e,t,n,r){return{volume:t||n||0,isPaused:e.isPaused,isBuffering:e.isBuffering,canForceVideoAds:r}})},nMe)(rMe),aMe=(Dp.a.shape({url:Dp.a.string.isRequired,UrlTemplateFilter:Dp.a.array}),function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onResize=function(e){t.timeoutID=clearTimeout(t.timeoutID),t.timeoutID=setTimeout(t.onResizeTimeout,t.props.resizeDelay)},t.onResizeTimeout=function(){t.props.onScreenSizeChange({width:window.innerWidth,height:window.innerHeight})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("resize",this.onResize),this.onResizeTimeout()},n.componentWillUnmount=function(){window.removeEventListener("resize",this.onResize),this.timeoutID=clearTimeout(this.timeoutID)},n.render=function(){return null},t}(Xf.a.Component));aMe.defaultProps={resizeDelay:100};var oMe=aMe,sMe=Ce.a.extend({name:"LiveTVSessionModel",context:["server","provider"],entityType:Er.e,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",sessionAttrs:{dvrID:Me.a.integer,channelIdentifier:Me.a.string,activityUUID:Me.a.string,currentPosition:Me.a.integer,nextPosition:Me.a.integer,lastSeekPosition:Me.a.integer,startedAt:Me.a.integer,captureBuffer:Me.a.object},syncedAttrs:{key:Me.a.string,type:Me.a.integer,title:Me.a.string},syncedRelations:{grabOperation:{relationClass:Bye.a,rootPropertyName:"MediaGrabOperation",deferred:!0},timeline:{relationClass:Sv.default,rootPropertyName:"Timeline",deferred:!0},alsoAiring:{relationClass:Sv.default,rootPropertyName:"AlsoAiring",deferred:!0}},defaults:{nextPosition:null,lastSeekPosition:null},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e){var t=e[this.rootPropertyName]||e,n=t.Timeline,r=t.AlsoAiring;return n&&(t.Timeline=n.Metadata),r&&(t.AlsoAiring=r.Metadata),e}});function lMe(e){return e.get("currentPosition")}function cMe(e){var t=e.get("liveTVSession");return e.get("liveTVSession")?lMe(t):0}function uMe(e){var t=e.get("liveTVSession"),n=t.get("captureBuffer");if(n){var r=n.startedAt;return{seekStartSeconds:r+n.seekStartSeconds,seekEndSeconds:r+n.seekEndSeconds}}var i=t.get("startedAt");return{seekStartSeconds:i+e.get("seekStartSeconds"),seekEndSeconds:i+e.get("seekEndSeconds")}}function dMe(e){var t=lMe(e);if(t)for(var n=e.get("timeline"),r=0;r<n.length;r++)for(var i=n.at(r),a=[].concat(i.get("Media")).sort(function(e,t){return e.endsAt-t.endsAt}),o=0;o<a.length;o++){var s=a[o],l=s.beginsAt,c=s.endsAt;if(l<=t&&c>t)return s}}function pMe(e,t){var n=cMe(e),r=uMe(e).seekEndSeconds;return n?Math.min(r,n+t):void 0}function hMe(e,t){var n=cMe(e),r=uMe(e).seekStartSeconds;return n?Math.max(r,n-t):void 0}function fMe(e){var t=e.get("liveTVSession");if(e.get("liveTVSession")){var n=uMe(e).seekStartSeconds,r=lMe(t),i=dMe(t);if(i){if(r-i.beginsAt>Yne)return Math.max(n,i.beginsAt);var a=function(e){var t=lMe(e);if(t)for(var n=e.get("timeline"),r=n.length-1;r>=0;r--)for(var i=n.at(r),a=[].concat(i.get("Media")).sort(function(e,t){return e.endsAt-t.endsAt}),o=a.length-1;o>=0;o--){var s=a[o];if(s.endsAt<=t)return s}}(t);if(a)return Math.max(n,a.beginsAt)}}}function gMe(e,t,n,r){if(null!=n){var i=Ane(e),a=Lee(e,t),o=a.get("liveTVSession"),s=o.get("startedAt");Object(No.a)(function(){if(o.set({currentPosition:n,lastSeekPosition:n}),function(e,t){var n=e.get("currentDecision");if(!n||n.isDirectPlay)return!1;var r=e.get("liveTVSession"),i=r.get("startedAt");if(!r.get("captureBuffer"))return!1;if(te.a.get("shouldCreateNewSessionWhenSeekingLiveTV"))return!0;var a=i+e.get("seekStartSeconds"),o=i+e.get("seekEndSeconds");return!(t>=a&&t<=o)}(a,n)){var e=function(e){var t=e.get("captureBuffer");return t&&t.startedAt}(o);r(KIe({playerType:t,decisionOptions:{offset:1e3*(n-(e||s))}}))}else{var l=n-s;i.seek(a,l)}})}}var vMe,mMe=60;function yMe(e,t,n,r){var i="/livetv/dvrs/"+t+"/channels/"+n+"/tune";return P.a.ajax(e.server.getXHROptions(i,{method:"POST",headers:{"X-Plex-Session-Identifier":r.playbackSessionID},timeout:y.a})).then(function(i,a,o){e.set(e.parse(i));var s=e.get("grabOperation");if(!s){var l=Vy(o,Object(Xn.default)("Could not tune channel"));return P.a.Deferred().reject({errorMessage:l}).promise()}var c=s.get("metadataItem"),u=c.get("Media")[0],d=s.get("conflicts"),p=o.getResponseHeader("X-Plex-Activity"),h=s.get("beginsAt"),f=s.get("metadataItem").get("transcodeSession"),g={dvrID:t,channelIdentifier:n,activityUUID:p,currentPosition:h,startedAt:h},v=!1;if(f&&r.currentMediaItem){var m=f.get("timeStamp"),y=f.get("minOffsetAvailable"),b=f.get("maxOffsetAvailable");if(m&&null!=y&&null!=b){g.captureBuffer={startedAt:m,seekStartSeconds:y,seekEndSeconds:b};var S=m+y,I=r.currentMediaItem.beginsAt,C=Math.max(S,I);Date.now()/1e3-C>mMe&&(v=!0)}}if(e.set(g),d&&d.length)return P.a.Deferred().reject({hasConflicts:!0,liveTVSession:e}).promise();if(!p)return P.a.Deferred().reject({errorMessage:Object(Xn.default)("Could not tune channel (No activity)")}).promise();var M=u&&u.Part;return M&&M.length?(c.set("isPreFetched",!0),v?P.a.Deferred().reject({confirmPlayback:v,liveTVSession:e}).promise():P.a.Deferred().resolve(e).promise()):P.a.Deferred().reject({errorMessage:Object(Xn.default)("Could not tune channel (No parts)")}).promise()},function(e,t){return"abort"===t?P.a.Deferred().reject({errorMessage:Object(Xn.default)("Could not tune channel (Timed out)")}).promise():P.a.Deferred().reject({errorMessage:Object(Xn.default)("Could not tune channel")}).promise()})}var bMe=Mt("ui/player/liveTVPlayer/startLiveTVPlayback"),SMe=Mt("ui/player/liveTVPlayer/endLiveTVPlayback"),IMe=Mt("ui/player/liveTVPlayer/confirmLiveTVPlayback"),CMe=Mt("ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"),MMe=Mt("ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"),DMe=Mt("ui/player/liveTVPlayer/playNextItem"),wMe=Mt("ui/player/liveTVPlayer/playPreviousItem"),PMe=Mt("ui/player/liveTVPlayer/skipBack"),TMe=Mt("ui/player/liveTVPlayer/skipForward"),EMe=(Mt("ui/player/liveTVPlayer/stepBack"),Mt("ui/player/liveTVPlayer/stepForward"),Mt("ui/player/liveTVPlayer/seek")),xMe=Mt("ui/player/liveTVPlayer/clearPlayerConflicts"),OMe=Mt("ui/player/liveTVPlayer/cancelMediaGrabber"),jMe=Mt("ui/player/liveTVPlayer/togglePlayerAlsoAiringState");function AMe(e,t){var n=Math.floor(Date.now()/1e3);return e.get("Media").find(function(e){var r=e.beginsAt<=n&&n<=e.endsAt,i=!t||e.channelIdentifier===t;return r&&i})}function NMe(e){var t=AMe(e);return t?t.channelIdentifier:void 0}function kMe(e,t){var n=Lee(e,t).get("liveTVSession");n&&n.set("lastSeekPosition",n.get("currentPosition"))}var LMe=((vMe={})["ui/player/liveTVPlayer/startLiveTVPlayback"]=function(e,t,n){var r=t.serverEntityID,i=t.providerEntityID,a=Date.now(),o=Nne(e,t),s=Lee(e,Bne(Nee(o))),l=bo(e,t),c=Co(e,{providerEntityID:i}),u=c.get("parentID"),d=o.metadataItemModel,p=null;if(d?p=AMe(d,o.identifier):o.identifier&&(p={channelIdentifier:o.identifier,beginsAt:Math.floor(Date.now()/1e3)}),p)if(e.get("remotePlayer")&&!e.get("user").get("features").findWhere({uuid:Oy}))Object(No.a)(function(){s.set({hasError:!0,errorMessage:Object(Xn.default)("Live TV is not currently supported when connected to a remote player.")})});else{Object(No.a)(function(){s.restoreDefaults({serverEntityID:r,providerEntityID:i,isOpen:!0,openState:Rne,isPlayQueueLoading:!0,isMediaLoading:!0,playbackStartTime:a})});var h=new sMe({},{server:l,provider:c}),f=p.channelIdentifier;yMe(h,u,f,{playbackSessionID:s.get("playbackSessionID"),currentMediaItem:p}).done(function(){s.set("liveTVSession",h);var e=h.get("grabOperation").get("metadataItem");n(Ire(Object.assign({},t,{liveTVSessionEntityID:h.entityID(),metadataItemEntityID:e.entityID(),options:{offset:void 0}})))}).fail(function(e){var t=e.confirmPlayback,n=e.hasConflicts,a=e.errorMessage;if(t)s.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:h,confirmLiveTVPlayback:t});else if(n)s.restoreDefaults({serverEntityID:r,providerEntityID:i,liveTVSession:h,hasConflicts:n});else{var o=l.getState();Object(J.c)("metrics").trackEvent({event:"playback:failure",interaction:!0,properties:{serverType:BB(o),connectionType:TCe(o.activeConnection),error:"tuneFailed",identifier:f}}),s.restoreDefaults({hasError:!0,errorMessage:a})}})}else Object(No.a)(function(){s.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("Unable to tune channel (Not on air)")})})},vMe["ui/player/liveTVPlayer/endLiveTVPlayback"]=function(e,t,n){var r=t.playerType,i=t.showError,a=Lee(e,r);i?a.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("This live TV session has ended due to a recording conflict")}):n(jre({playerType:r}))},vMe["ui/player/liveTVPlayer/confirmLiveTVPlayback"]=function(e,t,n){var r=t.playerType,i=t.serverEntityID,a=t.providerEntityID,o=t.offset,s=Lee(e,r).get("liveTVSession"),l=s.get("captureBuffer"),c=s.get("grabOperation").get("metadataItem");if(null!=o){var u=l.startedAt+Math.floor(o/1e3);s.set({currentPosition:u,lastSeekPosition:u})}n(Ire({serverEntityID:i,providerEntityID:a,liveTVSessionEntityID:s.entityID(),metadataItemEntityID:c.entityID(),startOffsetMilliseconds:o}))},vMe["ui/player/liveTVPlayer/cancelConfirmLiveTVPlayback"]=function(e,t){var n=Lee(e,t.playerType);Object(No.a)(function(){n.restoreDefaults()})},vMe["ui/player/liveTVPlayer/updatePlayerLiveTVMetadata"]=function(e,t){var n=t.serverEntityID,r=Lee(e,t.playerType),i=r.get("liveTVSession");if(i&&r.get("serverEntityID")===n){var a=i.get("dvrID"),o=i.get("channelIdentifier");yMe(i,a,o,{playbackSessionID:r.get("playbackSessionID")})}},vMe["ui/player/liveTVPlayer/playNextItem"]=function(e,t,n){var r=t.playerType;gMe(e,r,function(e){var t=e.get("liveTVSession");if(e.get("liveTVSession")){var n=uMe(e).seekEndSeconds,r=dMe(t);if(r)return Math.min(n,r.endsAt)}}(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/playPreviousItem"]=function(e,t,n){var r=t.playerType;gMe(e,r,fMe(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/skipBack"]=function(e,t,n){var r=t.playerType;gMe(e,r,function(e){return hMe(e,Kne)}(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/skipForward"]=function(e,t,n){var r=t.playerType;gMe(e,r,function(e){return pMe(e,qne)}(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/stepBack"]=function(e,t,n){var r=t.playerType;gMe(e,r,function(e){return hMe(e,Xne)}(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/stepForward"]=function(e,t,n){var r=t.playerType;gMe(e,r,function(e){return pMe(e,Jne)}(Lee(e,r)),n)},vMe["ui/player/liveTVPlayer/seek"]=function(e,t,n){gMe(e,t.playerType,t.seekPosition,n)},vMe["ui/player/liveTVPlayer/clearPlayerConflicts"]=function(e,t){var n=Lee(e,t.playerType);Object(No.a)(function(){n.set({hasConflicts:!1})})},vMe["ui/player/liveTVPlayer/cancelMediaGrabber"]=function(e,t,n){var r=t.playerType,i=t.grabOperationKey,a=Lee(e,r),o=a.get("serverEntityID"),s=bo(e,{serverEntityID:o}),l=a.get("liveTVSession").get("grabOperation").get("metadataItem"),c=!a.get("isOpen");if(!c||NMe(l)){Object(No.a)(function(){a.set({isConflictCancelling:!0})});var u=s.getXHROptions(i,{type:"DELETE"});P.a.ajax(u).done(function(e){if(a.set({hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null}),c){var t=a.get("providerEntityID");if(!NMe(l))return void a.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("Unable to tune channel after canceling a conflict, please try again.")});n(bMe({serverEntityID:o,providerEntityID:t,metadataItemEntityID:l.entityID(),playerType:r}))}}).fail(function(e){a.set({isConflictCancelling:!1,cancelConflictError:Gi(e)})})}else a.restoreDefaults({hasError:!0,errorMessage:Object(Xn.default)("Unable to cancel conflict, please try again.")})},vMe["server/updateActivity"]=function(e,t){var n=t.serverEntityID,r=t.activity,i=Lee(e,Une),a=i.get("liveTVSession");if(a&&i.get("serverEntityID")===n&&a.get("activityUUID")===r.uuid&&r.Context){var o=!!r.Context.conflicts,s=i.get("hasConflicts");if(o&&!s){var l=a.get("dvrID"),c=a.get("channelIdentifier");yMe(a,l,c,{playbackSessionID:i.get("playbackSessionID")}).fail(function(e){e.hasConflicts&&i.set({hasConflicts:!0})})}else!o&&s&&i.set({hasConflicts:!1})}},vMe[tc]=function(e,t,n){var r=t.serverEntityID,i=t.activity,a=Lee(e,Une),o=a.get("liveTVSession");if(o&&a.get("serverEntityID")===r&&o.get("activityUUID")===i.uuid){var s=Object(Xn.default)("This live TV session has ended");i.Response&&i.Response.errorText?s=i.Response.errorText:a.get("hasConflicts")&&(s=Object(Xn.default)("This live TV session has ended due to a recording conflict")),a.restoreDefaults({hasError:!0,errorMessage:s})}},vMe["ui/player/liveTVPlayer/togglePlayerAlsoAiringState"]=function(e,t){var n=Lee(e,t.playerType),r=n.get("isAlsoAiringVisible");Object(No.a)(function(){n.set(Vne(n,r,{isSettingsVisible:!1,isChaptersVisible:!1,isAlsoAiringVisible:!r,isLyricsVisible:!1}))})},vMe[ySe]=function(e,t){kMe(e,t.playerType)},vMe[bSe]=function(e,t){kMe(e,t.playerType)},vMe["ui/player/playerMedia/updatePlayerPosition"]=function(e,t){var n=t.playerType,r=t.positionSeconds,i=Lee(e,n).get("liveTVSession");if(i){var a=i.get("startedAt"),o=i.get("lastSeekPosition"),s=a+r;s>o&&Object(No.a)(function(){i.set({currentPosition:s,lastSeekPosition:null})})}},vMe);function RMe(){return Object(Iy.createSelector)(JIe(),$N,function(e,t){return e&&e.timeline?e.timeline.map(function(e){return t[e]}):[]})}var _Me=Xf.a.Component,UMe=6e4;function zMe(e,t){var n=Math.max(e,t),r=Date.now()-1e3*n;return $m(r)}var FMe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).updateTimeAgo=function(){var e=r.props,t=e.captureBufferStartedAt,n=e.mediaItemBeginsAt,i=UMe-1e3*(new Date).getSeconds(),a=zMe(t,n);a!==r.state.timeAgo&&r.setState({timeAgo:a}),r._updateTimeAgoTimeout=setTimeout(r.updateTimeAgo,i)},r.onConfirm=function(e){var t=r.props,n=t.serverEntityID,i=t.providerEntityID;(0,t.onConfirm)({serverEntityID:n,providerEntityID:i,offset:e})},r._updateTimeAgoTimeout=null,r.state={timeAgo:zMe(t.captureBufferStartedAt,t.mediaItemBeginsAt)},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.mediaItemBeginsAt||this.onConfirm(),this.updateTimeAgo()},n.componentWillUnmount=function(){this._updateTimeAgoTimeout&&clearTimeout(this._updateTimeAgoTimeout)},n.render=function(){var e=this.props,t=e.isOpen,n=e.captureBufferStartedAt,r=e.mediaItemBeginsAt,i=e.onModalClose,a=this.state.timeAgo;return n?hv()(mhe,{isOpen:t,metricsPage:"liveTVJoinSession",title:Object(Xn.default)("Join Session in Progress"),onItemSelect:this.onConfirm,onCancel:i},void 0,hv()(Che,{value:1e3*Math.max(r-n,0)},void 0,Object(Xn.default)("Watch from start (started {timeAgo} ago)",{timeAgo:a})),hv()(Che,{value:null},void 0,Object(Xn.default)("Watch Live"))):null},t}(_Me);var BMe=Lm(function(){return Object(Iy.createSelector)(ioe(),JIe(),Object(Iy.createSelector)(RMe(),function(e){for(var t=Math.floor(Date.now()/1e3),n=0;n<e.length;n++)for(var r=e[n],i=0;i<r.Media.length;i++){var a=r.Media[i],o=a.beginsAt,s=a.endsAt;if(o<=t&&s>t)return a}}),function(e,t,n){var r={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID};if(t&&t.captureBuffer){var i=t.captureBuffer.startedAt;r.captureBufferStartedAt=i}return n&&(r.mediaItemBeginsAt=n.beginsAt),r})},function(e,t){var n=t.playerType;return{onConfirm:function(t){e(IMe(Object.assign({},t,{playerType:n})))},onModalClose:function(){e(CMe({playerType:n}))}}})(FMe);var HMe=function(e){var t=e.isOpen,n=e.playerName,r=e.onConfirm,i=e.onCancel;return hv()(mK,{isOpen:t,metricsPage:so,title:Object(Xn.default)("Continue Playback"),message:Object(Xn.default)("Would you like to continue playback on {playerName}?",{playerName:n}),confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("No"),onConfirm:r,onCancel:i})},VMe=Object(Iy.createSelector)(function(e){return e.remotePlayer},function(e){return{playerName:e&&e.friendlyName}});var QMe=Lm(VMe,function(e,t){var n=t.playerType;return{onConfirm:function(){e(qae({playerType:n}))},onCancel:function(){e(jre({playerType:n}))}}})(HMe),WMe=hv()(cE,{});var GMe=function(e){var t=e.isOpen,n=e.viewOffset,r=e.duration,i=e.onConfirm,a=e.onCancel,o=(r-n)/1e3,s=o>0;return hv()(mhe,{isOpen:t,metricsPage:co,title:Object(Xn.default)("Resume Playback"),onItemSelect:i,onCancel:a},void 0,hv()(Che,{value:n},void 0,Object(Xn.default)("Resume from {time}",{time:TL(n)}),s?WMe:null,s?ny(o):null),hv()(Che,{value:0},void 0,Object(Xn.default)("Start from the Beginning")))};var YMe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.confirmOffsetPayload},$N,function(e,t){var n;return e&&(n=t[e.metadataItemEntityID]),n?{viewOffset:n.viewOffset,duration:n.duration}:{}})},function(e,t){var n=t.playerType,r=t.confirmOffsetPayload;return{onConfirm:function(t){e(Ire(Object.assign({},r,{confirmPlayback:!0,confirmOffset:!0,startOffsetMilliseconds:t})))},onCancel:function(){e(xre({playerType:n}))}}})(GMe);var KMe=function(e){var t=e.isOpen,n=e.onConfirm,r=e.onCancel;return hv()(mK,{isOpen:t,metricsPage:ao,title:Object(Xn.default)("Play Now"),message:Object(Xn.default)("This will clear changes made to the queue and play the selection instead."),confirmLabel:Object(Xn.default)("Play"),onConfirm:n,onCancel:r})};var qMe=Lm(null,function(e,t){var n=t.playerType,r=t.confirmPlaybackPayload;return{onConfirm:function(){e(Ire(Object.assign({},r,{confirmPlayback:!0})))},onCancel:function(){e(Ere({playerType:n}))}}})(KMe);var ZMe=function(e){var t=e.isOpen,n=e.onConfirm,r=e.onCancel;return hv()(mK,{isOpen:t,metricsPage:oo,title:Object(Xn.default)("Continue Playback"),message:Object(Xn.default)("Would you like to continue playback here?"),confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("No"),onConfirm:n,onCancel:r})};var XMe=Lm(null,function(e,t){var n=t.playerType;return{onConfirm:function(){e(Kae({playerType:n}))},onCancel:function(){e(jre({playerType:n}))}}})(ZMe);var JMe=function(e){if(null==e)return"";var t=Jm(e),n=24*t.days*60,r=60*t.hours,i=t.minutes+r+n,a=t.seconds;return i&&a?Object(Xn.default)("{1} min {2} sec",i,a):i?Object(Xn.default)("{1} min",i):a>0?Object(Xn.default)("{1} sec",a):""};function $Me(e){var t=Math.floor(Date.now()/1e3);return e.reduce(function(e,n){var r=n.mediaItem,i=r.beginsAt,a=r.startOffsetSeconds,o=i-(void 0===a?0:a);return o>t&&(!e||o<e)?o:e},0)}function eDe(e){return Math.max(0,e-Math.floor(Date.now()/1e3))}var tDe=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this)._tick=function(){r.setState({endSeconds:eDe(r.state.endsAt)}),r._setTickTimeout()},r._tickTimeout=null;var i=$Me(t.conflicts);return r.state={endsAt:i,endSeconds:eDe(i)},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._setTickTimeout()},n.componentDidUpdate=function(e,t){var n=this.props,r=n.conflicts,i=n.onModalClose;e.conflicts!==r&&this._updateEndSeconds(),t.endSeconds>0&&0===this.state.endSeconds&&i({showError:!0})},n.componentWillUnmount=function(){this._tickTimeout&&clearTimeout(this._tickTimeout)},n._setTickTimeout=function(){this.state.endSeconds&&(this._tickTimeout=setTimeout(this._tick,1e3))},n._updateEndSeconds=function(){var e=$Me(this.props.conflicts);this.setState({endsAt:e,endSeconds:eDe(e)})},n.render=function(){var e=this.state.endSeconds,t=JMe(1e3*e);return hv()("span",{},void 0,Object(Xn.default)("This live TV session will end in: {formattedMinutesSeconds}",{formattedMinutesSeconds:t}))},t}(Xf.a.Component),nDe=n(389),rDe=n.n(nDe);function iDe(e,t,n,r){var i=e===nr.e?n:t;return r?Object(Xn.default)("Stop watching {openSpan}{title}{closeSpan} and continue",{title:i}):Object(Xn.default)("Stop recording {openSpan}{title}{closeSpan} and continue",{title:i})}var aDe=function(e){var t=e.serverEntityID,n=e.type,r=e.title,i=e.grandparentTitle,a=e.thumb,o=e.grandparentThumb,s=e.isRolling,l=e.onCancelConflictPress;return hv()(RS,{className:rDe.a.conflict,onPress:l},void 0,hv()(Kk,{className:rDe.a.thumbnail,serverEntityID:t,url:a||o,width:53,height:80,component:pk}),hv()("div",{className:rDe.a.title},void 0,hv()(AB,{message:iDe(n,r,i,s),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:rDe.a.titleHighlight}]})))};var oDe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return{type:e.type,title:e.title,grandparentTitle:e.grandparentTitle,thumb:e.thumb,grandparentThumb:e.grandparentThumb}})},function(e,t){var n=t.playerType,r=t.grabOperationKey;return{onCancelConflictPress:function(){e(OMe({playerType:n,grabOperationKey:r}))}}})(aDe),sDe=n(321),lDe=n.n(sDe);var cDe=function(e){var t=e.serverEntityID,n=e.hasSubscribeFeature,r=e.isPlayerOpen,i=e.playerType,o=e.isConflictCancelling,s=e.conflicts,l=e.error,c=e.onModalClose,u=function(e,t){return e?t?Object(Xn.default)("A recording is scheduled to start in a few minutes and all tuners are currently in use. Please select from one of the actions below. Selecting OK or taking no action will end this live viewing session once the recording starts."):Object(Xn.default)("All tuners are in use. Please ask the server owner to free up a tuner to continue watching Live TV."):t?Object(Xn.default)("Please select from one of the actions below."):Object(Xn.default)("All tuners are in use. Please ask the server owner to free up a tuner to watch Live TV.")}(r,n);return hv()(qN,{onModalClose:c},void 0,hv()(PN,{className:lDe.a.modalHeader},void 0,Object(Xn.default)("All Tuners are Currently in Use")),l?hv()(AK,{kind:a.DANGER,message:Object(Xn.default)("There was an error trying to cancel the selected item, please try again")}):null,hv()(CN,{innerClassName:lDe.a.innerModalBody},void 0,hv()("div",{className:lDe.a.message},void 0,u),n?hv()("div",{className:lDe.a.conflicts},void 0,s.map(function(e){return hv()(oDe,{serverEntityID:t,grabOperationKey:e.key,metadataItemEntityID:e.metadataItem,playerType:i,isRolling:e.rolling,isPlayerOpen:r},e.key)})):null),hv()(Q_,{},void 0,hv()("div",{className:lDe.a.footerMessage},void 0,r?hv()(tDe,{conflicts:s,onModalClose:c}):null),hv()(q_,{},void 0,hv()(_V,{isSpinning:o,kind:a.PRIMARY,onPress:c},void 0,r||!n?Object(Xn.default)("OK"):Object(Xn.default)("Cancel")))))};var uDe=function(e){var t=e.isOpen,n=e.isPlayerOpen,r=e.playerType,i=e.serverEntityID,a=e.hasSubscribeFeature,o=e.conflicts,s=e.isConflictCancelling,l=e.onModalClose;return hv()(VN,{size:qp.SMALL,isOpen:t,metricsPage:po,onModalClose:l},void 0,hv()(cDe,{isPlayerOpen:n,playerType:r,serverEntityID:i,hasSubscribeFeature:a,conflicts:o,isConflictCancelling:s,onModalClose:l}))};var dDe=Lm(function(){return Object(Iy.createSelector)(ioe(),uoe(),JIe(),function(e,t,n){var r={serverEntityID:e.serverEntityID,hasSubscribeFeature:!!t.features.find(function(e){return"subscribe"===e.type}),error:e.cancelConflictError,isConflictCancelling:e.isConflictCancelling};return n&&(r.conflicts=n.grabOperation.conflicts),r})},function(e,t){var n=t.isPlayerOpen,r=t.playerType;return{onModalClose:function(t){var i=(void 0===t?{}:t).showError;e(n?SMe({playerType:r,showError:void 0!==i&&i}):xMe({playerType:r}))}}})(uDe),pDe=n(617),hDe=n.n(pDe);var fDe=function(e){var t=e.isOpen,n=e.showSkipButton,r=e.showRetryButton,i=e.errorMessage,o=e.errorCode,s=e.errorCategory,l=e.title,c=e.onSkipPress,u=e.onRetryPress,d=e.onModalClose,p=i||(l?Object(Xn.default)('An error occurred trying to play "{title}".',{title:l}):Object(Xn.default)("An error occurred trying to play this item."));return hv()(VN,{isOpen:t,metricsPage:uo,size:qp.SMALL,onModalClose:d},void 0,hv()(qN,{onModalClose:d},void 0,hv()(PN,{className:hDe.a.modalHeader},void 0,Object(Xn.default)("Playback Error")),hv()(CN,{},void 0,p,null!=o?hv()("p",{className:hDe.a.errorCode},void 0,Object(Xn.default)("Error code: {errorCode}",{errorCode:o}),s?" ("+s+")":null):null),n||r?hv()(Q_,{},void 0,hv()(q_,{},void 0,n?hv()(I_,{onPress:c},void 0,Object(Xn.default)("Skip")):null,r?hv()(I_,{kind:a.PRIMARY,onPress:u},void 0,Object(Xn.default)("Retry")):null)):null))};var gDe=Lm(function(){return Object(Iy.createSelector)(ioe(),coe(),tCe(),JSe(),function(e,t){return t.mediaType},function(e,t){return t.isRemotePlayer},function(e,t,n,r,i,a){var o=e.playQueue,s=e.repeatAll,l=e.errorCode,c=e.errorCategory,u=n&&n.entityID,d=o&&o.currentIndex,p=function(e,t,n,r){if(!e||!t)return n;var i=t&&t.Media[e.mediaIndex],a=i&&i.source?i.source:t.source;if(!a)return n;var o=Object(Tpe.a)(a);return Cn.i(o.providerIdentifier,Cn.e)&&"h4"===r?Object(Xn.default)("An error occurred trying to play this item. Please make sure content from TIDAL is not already playing on another device."):n}(r,t,e.errorMessage,l),h={playQueueItemEntityID:u,showSkipButton:!!o&&(d<o.playQueueItems.length-1||s),showRetryButton:!!o&&i!==ed.c&&!a,errorMessage:p,errorCode:l,errorCategory:c};return t&&(h.title=t.title),h})},function(e,t){var n={playerType:t.playerType};return{onModalClose:function(){e(jre(n))},onSkipPress:function(t){e($ne(n))},onRetryPress:function(t){e(PSe(n)),e(KIe(n))}}})(fDe);var vDe=Xf.a.Component;function mDe(){return Object(Iy.createSelector)(function(e){return e.ui.audioVideoPlayer.openState},function(e){return e.ui.photoPlayer.openState},function(e,t){return t.playerType},function(e,t,n){return function(e){var t=e.playerType,n=e.audioVideoOpenState,r=e.photoOpenState,i=0,a=0;return n===_ne?i+=1:n===Rne&&(i+=2),r===_ne?a+=1:r===Rne&&(a+=2),t===Une&&!!n&&i>=a||t===zne&&!!r&&a>i}({audioVideoOpenState:e,photoOpenState:t,playerType:n})})}var yDe={dispatchPlayPreviousItem:ere,dispatchStepBack:ASe,dispatchSkipBack:OSe,dispatchTogglePlayPause:ESe,dispatchPlay:KSe,dispatchPause:qSe,dispatchSkipForward:jSe,dispatchStepForward:NSe,dispatchPlayNextItem:$ne,dispatchChangeVolume:kSe,dispatchEndPlayback:jre},bDe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPreviousShortcut=function(){r.props.dispatchPlayPreviousItem({playerType:r.props.playerType})},r.onStepBackShortcut=function(){(r.props.isCurrentMediaTypeSeekable?r.props.dispatchStepBack:r.props.dispatchPlayPreviousItem)({playerType:r.props.playerType})},r.onSkipBackShortcut=function(){(r.props.isCurrentMediaTypeSeekable?r.props.dispatchSkipBack:r.props.dispatchPlayPreviousItem)({playerType:r.props.playerType})},r.onPlayPauseShortcut=function(){r.props.dispatchTogglePlayPause({playerType:r.props.playerType})},r.onPlayShortcut=function(){r.props.dispatchPlay({playerType:r.props.playerType})},r.onPauseShortcut=function(){r.props.dispatchPause({playerType:r.props.playerType})},r.onSkipForwardShortcut=function(){(r.props.isCurrentMediaTypeSeekable?r.props.dispatchSkipForward:r.props.dispatchPlayNextItem)({playerType:r.props.playerType})},r.onStepForwardShortcut=function(){(r.props.isCurrentMediaTypeSeekable?r.props.dispatchStepForward:r.props.dispatchPlayNextItem)({playerType:r.props.playerType})},r.onNextShortcut=function(){r.props.dispatchPlayNextItem({playerType:r.props.playerType})},r.onVolumeChange=function(e){r.props.dispatchChangeVolume({volume:e,playerType:r.props.playerType})},r.onVolumeIncrease=function(){r.onVolumeChange(Math.min(r.props.volume+10,100))},r.onVolumeDecrease=function(){r.onVolumeChange(Math.max(r.props.volume-10,0))},r.onCloseShortcut=function(){r.setState({isCloseConfirmModalOpen:!0})},r.onCloseConfirmPress=function(e){r.props.dispatchEndPlayback({playerType:r.props.playerType})},r.onCloseCancelPress=function(e){r.setState({isCloseConfirmModalOpen:!1})},r.onToggleFullscreenShortcut=function(){r.props.onToggleFullscreenShortcut()},r.state={isCloseConfirmModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.allowShortcuts&&this._startListening()},n.componentDidUpdate=function(e){var t=this.props.allowShortcuts;t&&!e.allowShortcuts?this._startListening():!t&&e.allowShortcuts&&this._stopListening()},n.componentWillUnmount=function(){this.props.allowShortcuts&&this._stopListening()},n._startListening=function(){z.a.on({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})},n._stopListening=function(){z.a.off({"shortcut:skipPrevious":this.onPreviousShortcut,"shortcut:stepBackward":this.onStepBackShortcut,"shortcut:seekBackward":this.onSkipBackShortcut,"shortcut:playPause":this.onPlayPauseShortcut,"shortcut:play":this.onPlayShortcut,"shortcut:pause":this.onPauseShortcut,"shortcut:seekForward":this.onSkipForwardShortcut,"shortcut:stepForward":this.onStepForwardShortcut,"shortcut:skipNext":this.onNextShortcut,"shortcut:increaseVolume":this.onVolumeIncrease,"shortcut:decreaseVolume":this.onVolumeDecrease,"shortcut:toggleFullScreen":this.onToggleFullscreenShortcut,"shortcut:stop":this.onCloseShortcut})},n.render=function(){return hv()(mK,{isOpen:this.state.isCloseConfirmModalOpen,metricsPage:"confirmClosePlayer",title:Object(Xn.default)("Stop Playback"),message:Object(Xn.default)("Closing the player will stop playback. Any changes to the queue will be lost."),onConfirm:this.onCloseConfirmPress,onCancel:this.onCloseCancelPress})},t}(vDe),SDe=Lm(function(){return Object(Iy.createSelector)(mDe(),Object(Iy.createSelector)(loe(),function(e){var t;if(e){var n=Object(nr.r)(e.type);t=n&&n.mediaType}return t}),vIe,function(e,t,n){return{allowShortcuts:e,isCurrentMediaTypeSeekable:t===ed.a||t===ed.d,volume:n}})},yDe)(bDe);var IDe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).title=document.title,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateWindowTitle()},n.componentDidUpdate=function(){this._updateWindowTitle()},n.componentWillUnmount=function(){document.title=this.title},n._updateWindowTitle=function(){var e=this.props,t=e.type,n=e.title,r=e.originalTitle,i=e.grandparentTitle,a=e.index,o=e.parentIndex,s=e.originallyAvailableAt,l=e.isPaused;if(n&&t){var c;if(t===nr.e)c=i+" - "+ol({seasonIndex:o,episodeIndex:a,date:s,noLeadingZero:!0,separator:"  "});else if(t===nr.m){var u=r||i;c=u?u+" - "+n:n}else c=n;l||(c=" "+c),document.title=c}},n.render=function(){return null},t}(Xf.a.Component),CDe=Lm(function(){return Object(Iy.createSelector)(ioe(),coe(),function(e,t){return t?{type:t.type,title:t.title,originalTitle:t.originalTitle,grandparentTitle:t.grandparentTitle,index:t.index,parentIndex:t.parentIndex,originallyAvailableAt:t.originallyAvailableAt,isPaused:e.isPaused}:{}})})(IDe),MDe=Xf.a.createElement;function DDe(e){var t=e.component,n=wt()(e,["component"]);return MDe(t,dv()({},n,{type:nIe,allowRecycleElement:!0}))}DDe.defaultProps={component:yCe};var wDe=DDe,PDe=hIe(DDe);function TDe(e){var t=document.getElementById("plex").classList;e?t.add("show-video-player"):t.remove("show-video-player")}var EDe=n(483),xDe=n.n(EDe),ODe=Xf.a.createElement,jDe=Xf.a.Component,ADe=parseInt(yQ.a.playerControlsPosterHeight,10),NDe=parseInt(yQ.a.playerControlsLandscapePosterWidth,10),kDe=parseInt(yQ.a.playerControlsNarrowBreakpoint,10),LDe=parseInt(yQ.a.playerControlsPosterLeftGutter,10),RDe=parseInt(yQ.a.playerControlsPosterBottomGutter,10),_De=parseInt(yQ.a.playerControlsNarrowPosterBottomGutter,10);function UDe(e,t){return e.isRemotePlayer?e.adState===tSe:e.vast!==t.vastFromProps?!!e.vast:t.isAdVisible||!1}function zDe(e,t){return e.isRemotePlayer?e.adState===tSe:(!0===t.isAdLoaded||!1===t.isAdLoaded)&&t.isAdLoaded}function FDe(e,t){return null!=e.adPositionSeconds?1e3*e.adPositionSeconds:t.adPositionMilliseconds?t.adPositionMilliseconds:0}function BDe(e,t){return null!=e.adDurationSeconds?1e3*e.adDurationSeconds:t.adDurationMilliseconds?t.adDurationMilliseconds:null}function HDe(e,t){return null!=e.adNoSkipDurationSeconds?e.adNoSkipDurationSeconds:t.adSkipDelaySeconds?t.adSkipDelaySeconds:null}function VDe(e,t){return(!0===t.isAdSkipped||!1===t.isAdSkipped)&&t.isAdSkipped}function QDe(e,t){return{vastFromProps:e.vast,adPositionMilliseconds:FDe(e,t),adDurationMilliseconds:BDe(e,t),isAdVisible:UDe(e,t),isAdLoaded:zDe(e,t),adSkipDelaySeconds:HDe(e,t),isAdSkipped:VDe(0,t),isNarrowLayout:!!t.isNarrowLayout&&t.isNarrowLayout,seekStartMilliseconds:t.seekStartMilliseconds?t.seekStartMilliseconds:0,seekEndMilliseconds:t.seekEndMilliseconds?t.seekEndMilliseconds:0,bufferStartMilliseconds:t.bufferStartMilliseconds?t.bufferStartMilliseconds:0,bufferEndMilliseconds:t.bufferEndMilliseconds?t.bufferEndMilliseconds:0}}var WDe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onBufferChange=function(e){e.start;var t=e.end;r.setState({bufferEndMilliseconds:t})},r.onAdPositionMillisecondsChange=function(e){r.setState({adPositionMilliseconds:e})},r.onAdDurationMillisecondsChange=function(e){r.setState({adDurationMilliseconds:e})},r.onAdResponse=function(){r.setState({isAdLoaded:!0})},r.onAdSkipDelayChange=function(e){r.setState({adSkipDelaySeconds:e})},r.onAdSkipPress=function(){r.props.onAdSkipPress&&r.props.onAdSkipPress({playerType:r.props.playerType}),r.setState({isAdSkipped:!0})},r.onAdEnd=function(){r.setState({isAdVisible:!1,isAdLoaded:!1,isAdSkipped:!1,adSkipDelaySeconds:null,adPositionMilliseconds:0,adDurationMilliseconds:null})},r.onScreenSizeChange=function(e){var t=e.width<=kDe;t!==r.state.isNarrowLayout&&r.setState({isNarrowLayout:t})},r.state=QDe(t,{}),r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return QDe(e,t)};var n=t.prototype;return n.componentDidMount=function(){TDe(this.props.showBackgroundVideoPlayer)},n.componentDidUpdate=function(e,t){e.showBackgroundVideoPlayer!==this.props.showBackgroundVideoPlayer&&TDe(this.props.showBackgroundVideoPlayer)},n.componentWillUnmount=function(){TDe(!1)},n.render=function(){var e=this.props,t=e.playerType,n=e.isOpen,r=e.isMiniPlayer,i=e.isRemotePlayer,a=e.isPlayQueueLoading,o=e.isPostPlayVisible,s=e.isFullscreen,l=e.isVideo,c=e.hasError,u=e.hasConflicts,d=e.confirmLiveTVPlayback,p=e.showBackgroundVideoPlayer,h=e.currentMediaType,f=e.currentMediaSubtype,g=e.confirmPlaybackPayload,v=e.confirmOffsetPayload,m=e.confirmRemoteToLocal,y=e.confirmLocalToRemote,b=e.vast,S=e.mediaComponent,I=e.mediaHeight,C=e.mediaPlacement,M=e.mediaWidth,D=e.playerComponent,w=e.onToggleFullscreen,P=this.state,T=P.seekStartMilliseconds,E=P.seekEndMilliseconds,x=P.bufferStartMilliseconds,O=P.bufferEndMilliseconds,j=P.adSkipDelaySeconds,A=P.adPositionMilliseconds,N=P.adDurationMilliseconds,k=P.isAdVisible,L=P.isAdLoaded,R=P.isAdSkipped,_=P.isNarrowLayout;if(!n)return c?hv()(gDe,{isOpen:!0,isRemotePlayer:i,mediaType:h,playerType:t}):u?hv()(dDe,{isOpen:!0,isPlayerOpen:n,playerType:t}):d?hv()(BMe,{isOpen:!0,isPlayerOpen:n,playerType:t}):null;var U=l&&r?{edgeGutterX:LDe,edgeGutterY:_?_De:RDe,height:ADe,placement:aCe.a,width:NDe}:{height:I,placement:C,width:M};return hv()(uIe,{},void 0,hv()(BN,{page:xa},void 0,hv()("div",{className:((r?xDe.a.miniPlayerContainer:xDe.a.fullPlayerContainer)||"")+" "+(!p&&!r&&xDe.a.fullPlayerContainerBackground||"")},void 0,g?hv()(qMe,{isOpen:!0,playerType:t,confirmPlaybackPayload:g}):null,v?hv()(YMe,{isOpen:!0,playerType:t,confirmOffsetPayload:v}):null,m?hv()(XMe,{isOpen:!0,playerType:t}):null,y?hv()(QMe,{isOpen:!0,playerType:t}):null,c?hv()(gDe,{isOpen:!0,isRemotePlayer:i,mediaType:h,playerType:t}):null,u?hv()(dDe,{isOpen:!0,isPlayerOpen:n,playerType:t}):null,k||o||a||i||m?null:ODe(S,dv()({},U,{playerType:t,mediaType:h,mediaSubtype:f,isNarrowLayout:_,isStackedAbove:r,onBufferChange:this.onBufferChange})),k&&!i?ODe(wDe,dv()({},U,{playerType:t,isMiniPlayer:r,isFullscreen:s,isSkipped:R,component:iMe,isStackedAbove:r,isNarrowLayout:_,positionSeconds:Math.floor(A/1e3),url:b.url,urlTemplateFilters:b.UrlTemplateFilter,onPositionMillisecondsChange:this.onAdPositionMillisecondsChange,onDurationMillisecondsChange:this.onAdDurationMillisecondsChange,onResponse:this.onAdResponse,onSkipDelayChange:this.onAdSkipDelayChange,onEnd:this.onAdEnd})):null,ODe(D,dv()({},this.props,U,{isAdVisible:k&&L,isNarrowLayout:_,seekStartMilliseconds:T,seekEndMilliseconds:E,bufferStartMilliseconds:x,bufferEndMilliseconds:O,adPositionMilliseconds:A,adDurationMilliseconds:N,adSkipDelaySeconds:j,onAdSkipPress:this.onAdSkipPress})),hv()(SDe,{playerType:t,onToggleFullscreenShortcut:w}),hv()(CDe,{playerType:t}),hv()(BCe,{playerType:t,isRemotePlayer:i}),hv()(VCe,{playerType:t}),hv()(oMe,{onScreenSizeChange:this.onScreenSizeChange}))))},t}(jDe);WDe.defaultProps={confirmLiveTVPlayback:!1,isMusic:!1,isPhoto:!1,isVideo:!1};var GDe=WDe,YDe=Xf.a.createElement;var KDe=function(e){var t=Object(Iy.createSelector)(function(e){return e.positionMilliseconds},function(e){return{positionMilliseconds:e}});function n(t){var n=t.positionSeconds,r=t.positionMilliseconds,i=wt()(t,["positionSeconds","positionMilliseconds"]),a=r;return null!=n&&Math.abs(n-Math.floor(r/1e3))>1&&(a=1e3*n),YDe(e,dv()({positionSeconds:n,positionMilliseconds:a},i))}return n.displayName="WithPositionMilliseconds("+Object(vE.a)(e)+")",n.WrappedComponent=e,Lm(t,null,null,{storeKey:"playerStore"})(n)},qDe=n(192),ZDe=n.n(qDe),XDe={TINY:50,SMALL:75,NORMAL:100,LARGE:125,HUGE:200};XDe.settings=[{value:XDe.TINY,title:"Tiny"},{value:XDe.SMALL,title:"Small"},{value:XDe.NORMAL,title:"Normal"},{value:XDe.LARGE,title:"Large"},{value:XDe.HUGE,title:"Huge"}],XDe.ALL=[XDe.TINY,XDe.SMALL,XDe.NORMAL,XDe.LARGE,XDe.HUGE];var JDe=XDe;var $De=n(618),ewe=n.n($De),twe=Xf.a.Component,nwe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._loadSubtitles=function(){r._loadTimeoutID&&clearTimeout(r._loadTimeoutID),r._connectionTimeoutID&&clearTimeout(r._connectionTimeoutID);var e=r.props,t=e.subtitlesUrl,n=e.positionMilliseconds;r._positionAtTimeOfRequest=n,Object(D.a)("[Subtitles] loading subtitles. position: %s url: %s",r._positionAtTimeOfRequest,t),r._abortStream(),r._xhr=new window.XMLHttpRequest;var i=new ZDe.a.parser.XhrStream(r._xhr),a=new ZDe.a.parser.StreamParser(i);r._openSubtitlesConnection(),a.minimalASS.then(r.onSubtitlesLoad,r.onSubtitlesFail)},r._getPosition=function(){var e=r.props,t=(e.positionMilliseconds+e.offset)/1e3;if(t%1e3){var n=r._clock.currentTime;if(Math.floor(n)===t)return n}return t},r.onMeasure=function(e){var t=e.width,n=e.height;r.setState({width:t,height:n})},r.onSubtitlesLoad=function(e){Object(D.a)("[Subtitles] Starting to render subtitles"),r._destroySubtitles(),r._clock=new ZDe.a.renderers.AutoClock(r._getPosition,1e3),r._renderer=new ZDe.a.renderers.WebRenderer(e,r._clock,document.getElementById(r._rendererID),r.props.rendererOptions),r._setSubtitleSize(),r._rerenderSubtitles(),r._setClockState(),setTimeout(function(){r._setSubtitleColor(),r._setSubtitlePosition(),r._rerenderSubtitles()},0)},r.onSubtitlesConnectionTimeout=function(){Object(D.a)("[Subtitles] Connection inactivity timeout, reopening."),r._openSubtitlesConnection()},r.onSubtitlesFail=function(){var e=r._xhr.readyState,t=r._xhr.status;r._errorCount++,D.a.warn("[Subtitles] Request failed. statusCode:%s state:%s errorCount:%s %s",t,e,r._errorCount,r._xhr.errorString||""),r._errorCount>r.props.consecutiveErrorsTolerance?r.props.onSubtitlesError():r._loadTimeoutID=setTimeout(r._loadSubtitles,r.props.retryTimeout)},ZDe.a.debugMode=!1,r.state={width:0,height:0},r._rendererID=PS(),r._loadTimeoutID=null,r._connectionTimeoutID=null,r._errorCount=0,r._positionAtTimeOfRequest=null,r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){var n=this.props,r=n.isOpen,i=n.isBuffering,a=n.isPaused,o=n.hasError,s=n.heightOffset,l=n.rendererOptions,c=n.offset,u=n.color,d=n.position,p=n.size,h=n.sizeMultiplier,f=n.subtitlesUrl,g=this.state,v=g.width,m=g.height;if(this._shouldResetStream(e)||l!==e.rendererOptions||f!==e.subtitlesUrl)this._loadSubtitles();else{var y=u!==e.color,b=d!==e.position,S=p!==e.size||h!==e.sizeMultiplier;y&&this._setSubtitleColor(),b&&this._setSubtitlePosition(),S&&this._setSubtitleSize(),(y||b||S||v!==t.width||m!==t.height||s!==e.heightOffset)&&this._rerenderSubtitles(),r===e.isOpen&&i===e.isBuffering&&a===e.isPaused&&o===e.hasError||this._setClockState(),c!==e.offset&&this._setPosition()}},n.componentWillUnmount=function(){Object(D.a)("[Subtitles] Closing"),this._connectionTimeoutID&&clearTimeout(this._connectionTimeoutID),this._destroySubtitles(),this._abortStream()},n._openSubtitlesConnection=function(){var e=this,t=this.props,n=t.subtitlesUrl,r=t.isDirectPlay,i=t.positionSeconds,a=t.connectionTimeout;this._abortStream(),this._xhr.onreadystatechange=function(t){4===t.currentTarget.readyState&&(t.currentTarget.status>=200&&t.currentTarget.status<300?e._errorCount=0:e.onSubtitlesFail())},a&&(this._xhr.onprogress=function(t){Object(D.a)("[Subtitles] Received data, restarting connection timer."),clearTimeout(e._connectionTimeoutID),e._connectionTimeoutID=setTimeout(e.onSubtitlesConnectionTimeout,a)});var o=n;if(r){var s=Object(F.parseUrl)(n);s.params.offset=i,o=Object(F.join)([s.origin,s.pathname],s.params)}this._xhr.open("GET",o,!0),this._xhr.send()},n._destroySubtitles=function(){this._loadTimeoutID&&clearTimeout(this._loadTimeoutID),this._clock&&(this._clock.disable(),this._clock=null),this._renderer&&(this._renderer.disable(),this._renderer=null);for(var e=document.getElementById(this._rendererID);e.hasChildNodes();)e.removeChild(e.lastChild)},n._abortStream=function(){this._xhr&&(Object(D.a)("[Subtitles] Aborting existing xhr."),this._xhr.onreadystatechange=null,this._xhr.onprogress=null,this._xhr.abort())},n._setSubtitleColor=function(){var e=this.props.color;if(this._renderer){var t=function(e){var t=/^#?([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i.exec(e);return t?{red:parseInt(t[1],16),green:parseInt(t[2],16),blue:parseInt(t[3],16)}:null}(e),n=this._renderer.ass.styles.get("Default");t?n?(Object(D.a)("[Subtitles] Setting subtitle color to %s",e),n._primaryColor=new ZDe.a.parts.Color(t.red,t.green,t.blue,1),n._outlineColor=e===yp.BLACK?new ZDe.a.parts.Color(255,255,255,1):new ZDe.a.parts.Color(0,0,0,1)):D.a.warn("[Subtitles] Unable to set subtitle color, no default style"):D.a.warn("[Subtitles] Unable to set subtitle color, invalid color")}},n._setSubtitlePosition=function(){var e=this.props.position;if(this._renderer){var t=this._renderer.ass.styles.get("Default"),n=2;e===Sp.MIDDLE?n=5:e===Sp.TOP&&(n=8),t?(Object(D.a)("[Subtitles] Setting subtitle position to %s",e),t._alignment=n):D.a.warn("[Subtitles] Unable to set subtitle position, no default style")}},n._setSubtitleSize=function(){var e=this.props,t=e.size,n=e.sizeMultiplier;if(this._renderer){var r,i,a=this._renderer.ass.properties,o=t*n/100;this.state.originalResolutionX&&this.state.originalResolutionY?(r=this.state.originalResolutionX,i=this.state.originalResolutionY):(r=a.resolutionX,i=a.resolutionY,this.setState({originalResolutionX:r,originalResolutionY:i})),a.resolutionX=r/o,a.resolutionY=i/o}},n._rerenderSubtitles=function(){if(this._renderer){var e=this.state,t=e.width,n=e.height;Object(D.a)("[Subtitles] Re-rendering subtitles"),this._renderer.resize(t,n-this.props.heightOffset)}},n._setPosition=function(){var e=this._clock;if(e&&e._manualClock){var t=this.props,n=t.positionMilliseconds,r=t.offset;e._manualClock._currentTime=(n+r)/1e3}},n._setClockState=function(){var e=this._clock;if(e){var t=this.props,n=t.isOpen,r=t.isBuffering,i=t.isPaused,a=t.hasError;return r||i?(Object(D.a)("[Subtitles] Clock State: paused"),void e.pause()):!n||a?(Object(D.a)("[Subtitles] Clock State: disabled"),void e.disable()):i?void 0:(Object(D.a)("[Subtitles] Clock State: playing"),void e.play())}},n._shouldResetStream=function(e){var t=this.props,n=t.isOpen,r=t.isMediaLoading,i=t.isBuffering,a=t.isPaused,o=t.hasError,s=t.positionMilliseconds,l=t.lastSeekPositionSeconds,c=this._positionAtTimeOfRequest,u=s-e.positionMilliseconds,d=u>0&&n&&!r&&!i&&!a&&!o;return null!=l&&l!==e.lastSeekPositionSeconds?(this._resetAfterSeekStarted=!0,this._resetLater=!1,!1):this._resetAfterSeekStarted?!(!d||!(1e3*l<s))&&(this._resetAfterSeekStarted=!1,!0):d&&this._resetLater?(this._resetLater=!1,!0):(!this._xhr||u>1e4||s<c)&&(this._resetLater=!d,d)},n.render=function(){return hv()(XA,{className:ewe.a.measure,onMeasure:this.onMeasure},void 0,hv()("div",{id:this._rendererID,className:ewe.a.renderer}))},t}(twe);nwe.defaultProps={offset:0,color:yp.WHITE,position:Sp.BOTTOM,size:JDe.NORMAL,sizeMultiplier:1,heightOffset:0,consecutiveErrorsTolerance:3,connectionTimeout:null,retryTimeout:3e3,rendererOptions:{enableSvg:!1,preciseOutlines:!1}};var rwe=nwe,iwe=Xf.a.createElement,awe=Xf.a.Component;var owe={dispatchMakeDecision:WIe,dispatchRemoveDecision:YIe},swe=KDe(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubtitlesError=function(){var e=t.props,n=e.playQueueItemEntityID,r=e.playerType,i=e.positionMilliseconds,a=e.qualityIndex,o=e.decisionMediaIndex,s=e.decisionPartIndex,l=e.dispatchMakeDecision;(0,e.dispatchRemoveDecision)({playerType:r,playQueueItemEntityID:n}),l({playerType:r,playQueueItemEntityID:n,qualityIndex:a,mediaIndex:o,partIndex:s,options:{offset:i,subtitlesBurnLevel:Cp.ALWAYS}})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.subtitlesUrl,n=(e.dispatchMakeDecision,e.dispatchRemoveDecision,wt()(e,["subtitlesUrl","dispatchMakeDecision","dispatchRemoveDecision"]));return t?iwe(rwe,dv()({subtitlesUrl:t},n,{onSubtitlesError:this.onSubtitlesError})):null},t}(awe)),lwe=Lm(function(){return Object(Iy.createSelector)(ICe(["isOpen","isMediaLoading","isBuffering","isPaused","hasError","qualityIndex","positionSeconds","lastSeekPositionSeconds"]),JSe(),loe(),nCe(),Object(J.c)("selectSubtitleSettings"),function(e,t,n,r,i){var a=n.entityID,o=Object.assign({},e,i,{playQueueItemEntityID:a});return t&&(o.decisionMediaIndex=t.mediaIndex,o.decisionPartIndex=t.partIndex,o.subtitlesUrl=t.subtitlesUrl,o.isDirectPlay=t.isDirectPlay),r.selectedSubtitlesStream&&(o.offset=r.selectedSubtitlesStream.offset),o})},owe)(swe);var cwe=function(){return Object(Iy.createSelector)(aoe("positionSeconds"),coe(),function(e,t){return t&&t.chapters?t.chapters.findIndex(function(t){return Math.floor(t.startTimeOffset/1e3)<=e&&Math.floor(t.endTimeOffset/1e3)>e}):-1})};var uwe=function(e){if(!e)return"";var t=e.toUpperCase();if("EPs"===e)return e;var n=t.match(/(\d{4})S/);if(n){var r=n[1];return t.replace(r+"S",r+"s")}return t},dwe=n(484),pwe=n.n(dwe),hwe=Xf.a.createElement;function fwe(e){var t=e.isMonochrome,n=e.isRemovable,r=e.tooltip,i=wt()(e,["isMonochrome","isRemovable","tooltip"]),a=r||(n?Object(Xn.default)("Remove"):Object(Xn.default)("Add"));return hwe(gN,dv()({},i,{component:Kz,hideOnPress:!1,iconComponent:bK,iconClassName:n?pwe.a.iconRemovable:pwe.a.icon,kind:n&&!t?Gp:Vp,ariaLabel:a,tooltip:a}))}fwe.defaultProps={className:pwe.a.button};var gwe=fwe,vwe=n(171),mwe=n.n(vwe),ywe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPress=function(){var e=r.props,t=e.isHomeHub,n=e.shouldConfirmHomeHubRemoval,i=e.onToggleHomeHub;t&&n?r.setState({isRemoveConfirmModalOpen:!0}):i()},r.onRemoveHomeHubConfirm=function(){r.setState({isRemoveConfirmModalOpen:!1},r.props.onToggleHomeHub)},r.onRemoveHomeHubCancel=function(){r.setState({isRemoveConfirmModalOpen:!1})},r.onFocus=function(e){r.setState({isFocused:!0})},r.onBlur=function(e){r.setState({isFocused:!1})},r.onMouseEnter=function(e){r.setState({isEntered:!0})},r.onMouseLeave=function(e){r.setState({isEntered:!1})},r.state={isEntered:!1,isFocused:!1,isRemoveConfirmModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.allowHomeHubIndicator,n=e.className,r=e.isHomeHub,i=e.isVisible,a=e.shouldConfirmHomeHubRemoval,o=this.state,s=o.isEntered,l=o.isFocused,c=o.isRemoveConfirmModalOpen,u=r&&t,d=s||l;return hv()("div",{className:(n||"")+" "+((i||d?mwe.a.isVisible:mwe.a.isHidden)||"")},void 0,u?hv()(hye,{className:(mwe.a.icon||"")+" "+((u&&!d?mwe.a.isVisible:mwe.a.isHidden)||"")}):null,hv()(gwe,{className:(mwe.a.button||"")+" "+((!u||d?mwe.a.isVisible:mwe.a.isHidden)||""),isMonochrome:!0,isRemovable:r,tooltip:r?Object(Xn.default)("Remove from Home"):Object(Xn.default)("Add to Home"),onPress:this.onPress,onFocus:this.onFocus,onBlur:this.onBlur,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave}),a?hv()(mK,{isOpen:c,metricsPage:"",title:Object(Xn.default)("Remove From Home"),message:Object(Xn.default)("Please confirm you'd like to remove this content from your home screen. You can add it back later if you change your mind."),onConfirm:this.onRemoveHomeHubConfirm,onCancel:this.onRemoveHomeHubCancel}):null)},t}(Xf.a.Component);ywe.defaultProps={className:mwe.a.container,shouldConfirmHomeHubRemoval:!1};var bwe=ywe,Swe=Object(Iy.createSelector)(Cy,function(e){return e.hubs});function Iwe(){return Object(Iy.createSelector)(function(e,t){return t.hubEntityID},Swe,function(e,t){return t[e]})}var Cwe=t9(Py,function(e){return e.homeSettings});function Mwe(){return Object(Iy.createSelector)(Cwe,XS,xse,Iwe(),function(e,t,n,r){if(r&&n&&t&&e.hubs){var i=function(e,t,n){return ea({hubIdentifier:e.hubIdentifier,identifier:t.identifier,machineIdentifier:n.machineIdentifier})}(r,n,t);return e.hubs.find(function(e){return e.id===i})}})}function Dwe(){return Object(Iy.createSelector)(Mwe(),function(e){return!!e})}var wwe="directory",Pwe=Xf.a.createElement,Twe=Xf.a.Component;var Ewe={dispatchAddHomeHubs:Ro,dispatchRemoveHomeHubs:_o},xwe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onAddHomeHub=function(){var e=t.props;(0,e.dispatchAddHomeHubs)({isUserInitiated:!0,hubs:[{directoryKey:e.directoryKey,entityID:e.hubEntityID}]})},t.onRemoveHomeHub=function(){var e=t.props,n=e.dispatchRemoveHomeHubs,r=e.homeHubID,i=e.hubEntityID,a=[];r?a.push({homeHubID:r}):i&&a.push({entityID:i}),n({isUserInitiated:!0,hubs:a})},t.onToggleHomeHub=function(){var e=t.props,n=e.canAddHomeHub;e.canRemoveHomeHub?t.onRemoveHomeHub():n&&t.onAddHomeHub()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.canAddHomeHub,n=e.canRemoveHomeHub,r=e.component,i=(e.directoryKey,e.dispatchAddHomeHubs,e.dispatchRemoveHomeHubs,e.hubEntityID,e.isHomeHub),a=wt()(e,["canAddHomeHub","canRemoveHomeHub","component","directoryKey","dispatchAddHomeHubs","dispatchRemoveHomeHubs","hubEntityID","isHomeHub"]);return t||n?Pwe(r,dv()({},a,{isHomeHub:i,onAddHomeHub:this.onAddHomeHub,onRemoveHomeHub:this.onRemoveHomeHub,onToggleHomeHub:this.onToggleHomeHub})):null},t}(Twe),Owe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.directoryKey},function(e,t){return t.homeHubID},Iwe(),Dwe(),function(e,t,n,r){var i=!!n&&n.type!==wwe;return t?{isHomeHub:!0,canAddHomeHub:!1,canRemoveHomeHub:!0}:{isHomeHub:r,canAddHomeHub:i&&!r&&!!e,canRemoveHomeHub:i&&r}})},Ewe)(xwe),jwe=n(981),Awe=n.n(jwe),Nwe=Xf.a.createElement,kwe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseEnter=function(e){r.setState({hasMouseEntered:!0})},r.onMouseLeave=function(e){r.setState({hasMouseEntered:!1})},r.state={hasMouseEntered:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.allowPersistentHomeHubStatus,n=e.allowToggleHomeHub,r=e.children,i=e.className,a=e.isHomeHub,o=wt()(e,["allowPersistentHomeHubStatus","allowToggleHomeHub","children","className","isHomeHub"]),s=this.state.hasMouseEntered;return hv()("div",{className:i,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},void 0,n?Nwe(Owe,dv()({},o,{component:bwe,isHomeHub:a,isVisible:s||t&&a})):null,r)},t}(Xf.a.Component);kwe.defaultProps={className:Awe.a.hubCellHeader};var Lwe=kwe,Rwe=n(982),_we=n.n(Rwe);function Uwe(e){var t=e.children,n=e.className;return hv()("div",{className:n,"data-qa-id":"hubCellTitle"},void 0,t)}Uwe.defaultProps={className:_we.a.hubCellTitle};var zwe=Uwe,Fwe=n(148),Bwe=n.n(Fwe),Hwe=Xf.a.createElement,Vwe=Xf.a.Component,Qwe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListUpdate=function(e){var t=e.visibleStartIndex,n=e.visibleEndIndex,i=e.renderEndIndex,a=e.listStyle,o=r.props.onListReady,s=r._isReady?void 0:o;r._isReady=!0,r._visibleStartIndex=t,r._visibleEndIndex=n,r._pageSize=r._visibleEndIndex-r._visibleStartIndex;var l=t>0,c=i>n;r.setState({showActions:l||c,enablePrevious:l,enableNext:c,listHeight:a.height},s)},r.onListScrollIndexChange=function(e){r._setScrollIndex(e)},r.onPreviousPress=function(){r._setScrollIndex(r._visibleStartIndex-r._pageSize-1)},r.onNextPress=function(){r._setScrollIndex(r._visibleEndIndex+1)},r.state={showActions:!1,enablePrevious:!1,enableNext:!1,listHeight:"auto",scrollIndex:r.props.scrollIndex||0},r._isReady=!1,r._listRef=Xf.a.createRef(),r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return null!=e.scrollIndex&&e.scrollIndex!==t.scrollIndex?{scrollIndex:e.scrollIndex}:null};var n=t.prototype;return n.componentDidMount=function(){this.props.more&&!this.props.totalSize&&this.props.onPageRequest({startIndex:0,endIndex:this.props.size}),this.props.size||this.props.totalSize||(this._isReady=!0,this.props.onListReady&&this.props.onListReady())},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n._setScrollIndex=function(e){this.props.onListScrollIndexChange&&this.props.onListScrollIndexChange(e),null==this.props.scrollIndex&&this.setState({scrollIndex:e})},n.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.hubEntityID,a=e.directoryKey,o=e.allowHomeHubIndicator,s=e.allowPersistentHomeHubStatus,l=e.allowToggleHomeHub,c=e.hubIdentifier,u=e.isHomeHub,d=e.title,p=e.sourceTitle,h=e.attribution,f=e.route,g=e.size,v=e.more,m=e.random,y=e.totalSize,b=e.keyPropName,S=e.itemsOffset,I=e.items,C=e.layout,M=e.cellRenderer,D=e.resizeTimeout,w=e.shouldConfirmHomeHubRemoval,P=e.onPageRequest,T=this.state,E=T.showActions,x=T.enablePrevious,O=T.enableNext,j=T.listHeight;if(!g&&!y)return null;var A=m?g:y||(v?g+1:g),N={visibility:"auto"===j?"hidden":"visible"},k={height:j,overflow:"hidden"},L=null;if(d){var R=uwe(d);L=hv()(zwe,{className:Bwe.a.title},void 0,h?hv()(wk,{className:Bwe.a.attribution,attribution:h}):null,f?hv()(RS,{to:f},void 0,R):R,p?hv()(cE,{className:Bwe.a.titleSeparator}):null,p?hv()("span",{className:Bwe.a.sourceTitle},void 0,p):null)}var _=L||E;return hv()("div",{className:t,style:N,"data-qa-id":"hub--"+c},void 0,_?hv()(Lwe,{allowHomeHubIndicator:o,allowPersistentHomeHubStatus:s,allowToggleHomeHub:l,className:Bwe.a.hubCellHeader,directoryKey:a,hubEntityID:i,isHomeHub:u,providerEntityID:r,serverEntityID:n,shouldConfirmHomeHubRemoval:w},void 0,L,E?hv()("div",{className:Bwe.a.hubActions},void 0,hv()(Kz,{className:Bwe.a.hubScrollButton,"data-qa-id":"hubPreviousButton",iconComponent:Jz,isDisabled:!x,title:Object(Xn.default)("Previous Page"),onPress:this.onPreviousPress}),hv()(Kz,{className:Bwe.a.hubScrollButton,"data-qa-id":"hubNextButton",iconComponent:Zz,isDisabled:!O,title:Object(Xn.default)("Next Page"),onPress:this.onNextPress})):null):null,hv()("div",{style:k},void 0,Hwe(cF,{scrollerClassName:Bwe.a.hubScroller,ignoreHeight:!0,keyPropName:b,items:I,itemsOffset:S,scrollDirection:Jp,scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.props.shouldCenterScrollIndex,size:Math.min(1e4,A),layout:C,cellRenderer:M,resizeTimeout:D,ref:this._listRef,onListUpdate:this.onListUpdate,onListScrollIndexChange:this.onListScrollIndexChange,onPageRequest:P})))},t}(Vwe);Qwe.defaultProps={className:Bwe.a.hubCell,shouldCenterScrollIndex:!1};var Wwe=Qwe,Gwe=n(983),Ywe=n.n(Gwe),Kwe=Xf.a.Component,qwe=parseInt(yQ.a.playerControlsHeight,10),Zwe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onMeasure=function(e){t.props.onDimensionsChange&&t.props.onDimensionsChange(e)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.bottom,r=e.children;return hv()(XA,{className:t,style:{bottom:n},ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,r)},t}(Kwe);Zwe.defaultProps={className:Ywe.a.container,bottom:qwe};var Xwe=Zwe;function Jwe(e){var t=e.cellWidth,n=e.aspectRatio,r=e.titleHeight,i=void 0===r?0:r;return Math.floor(t/n+i)}function $we(e,t){var n=t.innerViewportWidth,r=t.innerHorizontalPadding,i=void 0===r?0:r;return Math.floor((n+i)/e)-i}function ePe(e){var t=e.innerViewportWidth,n=e.innerHorizontalPadding,r=void 0===n?0:n,i=e.preferredCellWidth,a=e.minCellWidth,o=e.minColumns,s=void 0===o?1:o,l=e.maxColumns,c=void 0===l?1/0:l,u=e.columnAdjustment,d=void 0===u?0:u,p=Math.round((t+r)/(i+r));p+=d;var h=$we(p=Math.max(Math.min(p,c),s),e);return h<a&&(h=p===s?a:$we(p-1,e)),h}var tPe=CL(nr.g,null,jp),nPe=180,rPe=135,iPe=2,aPe=11,oPe=2*(parseInt(yQ.a.posterTitleHeight,10)+parseInt(yQ.a.posterTitlePadding,10));function sPe(e){return e-oPe}var lPe=n(322),cPe=n.n(lPe),uPe=Xf.a.memo,dPe=Xf.a.useCallback;var pPe=uPe(function(e){var t=e.serverEntityID,n=e.index,r=e.thumb,i=e.tag,a=e.isActive,o=e.startTimeOffset,s=e.cellWidth,l=e.cellHeight,c=e.onSeekTo,u=CF(e),d=dPe(function(){var e=Math.round(o/1e3);c(e)},[o,c]),p=n;return hv()("div",{style:u.style},void 0,hv()(RS,{className:(cPe.a.thumbWrapper||"")+" "+(a&&cPe.a.isActive||""),onPress:d},void 0,hv()(Kk,{serverEntityID:t,url:r,backgroundSize:"contain",width:s,height:sPe(l),component:pk},p)),hv()("div",{className:cPe.a.titleContainer},void 0,hv()("div",{className:cPe.a.title},void 0,function(e,t){return t||Object(Xn.default)("Chapter {index}",{index:e})}(n,i)),hv()("div",{className:cPe.a.secondaryTitle},void 0,TL(o))))}),hPe=Xf.a.createElement;function fPe(e,t){return function(n){return hPe(t,dv()({},e,n))}}var gPe=n(984),vPe=n.n(gPe),mPe=Xf.a.Component,yPe=hF({direction:pF,rows:1,overscan:0,innerHorizontalPadding:30,outerPaddingTop:10,outerPaddingLeft:5,outerPaddingRight:5,getCellWidth:function(e){return ePe(Object.assign({},e,{minCellWidth:rPe,preferredCellWidth:nPe,minColumns:iPe,maxColumns:aPe,aspectRatio:tPe}))},getCellHeight:function(e){return Jwe(Object.assign({},e,{aspectRatio:tPe,titleHeight:oPe}))}}),bPe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onHubCellScrollIndexChange=function(e){r.setState({scrollIndex:e,scrollIndexIsActiveChapter:!1})},r.state={scrollIndex:r.props.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:r.props.activeChapterIndex},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return t.activeChapterIndex!==e.activeChapterIndex?{scrollIndex:e.activeChapterIndex,scrollIndexIsActiveChapter:!0,activeChapterIndex:e.activeChapterIndex}:null},t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.bottom,r=e.activeChapterIndex,i=e.chapters,a=e.onSeekTo;return hv()(Xwe,{className:vPe.a.container,bottom:n},void 0,hv()(Wwe,{hubIdentifier:"chapters",title:Object(Xn.default)("Chapter selection"),size:i.length,keyPropName:"index",items:i.map(function(e,t){return Object.assign({},e,{isActive:t===r})}),layout:yPe,cellRenderer:fPe({serverEntityID:t,onSeekTo:a},pPe),scrollIndex:this.state.scrollIndex,shouldCenterScrollIndex:this.state.scrollIndexIsActiveChapter,onListScrollIndexChange:this.onHubCellScrollIndexChange}))},t}(mPe);var SPe,IPe=Lm(function(){return Object(Iy.createSelector)(ioe(),fIe(),cwe(),function(e,t,n){return{serverEntityID:e.serverEntityID,chapters:t.chapters,activeChapterIndex:n}})},function(e,t){var n=t.playerType;return{onSeekTo:function(t){e(xSe({playerType:n,positionSeconds:t}))}}})(bPe),CPe=Object.assign({},Xs.a,{getPaginatedUrl:function(e){var t=this.get("beginsAt"),n=this.get("endsAt");if(null!=t||null!=n){var r={"endsAt>":t,"beginsAt<":n};return F.join(e,r)}return e},fetchRange:function(e){var t=Object.assign({},e,{remove:!1});return e.prepend&&(t.at=0),this.set({beginsAt:e.start,endsAt:e.end}),this.fetch(t).promise()},repopulateRange:function(e){void 0===e&&(e=0);var t=this.get("populatedRange"),n=t.start,r=t.end;return this.set({beginsAt:n,endsAt:r}),this.abortPendingPopulate(),this.fetch()},updatePopulatedRange:function(){var e,t,n=this.get("beginsAt"),r=this.get("endsAt"),i=this.get("populatedRange"),a=i.start,o=i.end;this.getCollection().length?a?(e=Math.min(a,null==n?1/0:n),t=Math.max(o,null==r?-1/0:r)):(e=n||a,t=r||o):(e=0,t=0),this.set("populatedRange",{start:e,end:t,size:t-e}),this.set("isPopulated",t-e>0)}}),MPe=ll.default.extend({mixins:[CPe],name:"ChannelGridMetadataListModel",sessionAttrs:{isMetadataList:Me.a.boolean,containerKey:Me.a.string,entityKey:Me.a.string,containerTitle:Me.a.string,beginsAt:Me.a.integer,endsAt:Me.a.integer,populatedRange:Me.a.object,isPending:Me.a.boolean,isPopulated:Me.a.boolean,error:Me.a.object},defaults:function(){return{isMetadataList:!0,populatedRange:{start:0,end:0,size:0},isPending:!0,isPopulated:!1,error:null}}}),DPe=Ce.a.extend({name:"ProviderTagModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Me.a.integer,filter:Me.a.string,tag:Me.a.string,tagType:Me.a.integer,tagValue:Me.a.integer,thumb:Me.a.string,channelCallSign:Me.a.string,channelIdentifier:Me.a.string}}),wPe=Ue.a.extend({name:"ProviderTagCollection",context:["server","provider","type"],model:DPe,cache:new ki,url:function(){var e={type:this.type};return F.join([this.provider.get("identifier"),"tags"],e)}}),PPe={CHANNEL:310},TPe=1800,EPe=parseInt(mQ.channelGridChannelOverflowWidth,10),xPe=parseInt(mQ.channelGridChannelColumnWidth,10),OPe=parseInt(mQ.channelGridTitleColumnWidth,10),jPe=2*TPe*12,APe=6*TPe,NPe=Mt("ui/channelGridPage/initChannelsGridPage"),kPe=Mt("ui/channelGridPage/initMetadataList"),LPe=Mt("ui/channelGridPage/setStartTime"),RPe=Mt("ui/channelGridPage/resetStartTime"),_Pe=Mt("ui/channelGridPage/navigateTimeFoward"),UPe=Mt("ui/channelGridPage/navigateTimeBack"),zPe=Mt("ui/channelGridPage/setViewportSize"),FPe=Mt("ui/channelGridPage/updateAiredProgress"),BPe=Mt("ui/channelGridPage/populateChannelPrograms"),HPe=Mt("ui/channelGridPage/repopulateChannelPrograms"),VPe=Mt("ui/channelGridPage/populateChannelsList"),QPe=Mt("ui/channelGridPage/fetchChannelsList");function WPe(e){return e.get("ui").get("channelGridPage")}function GPe(e,t){for(var n=Math.floor(e/TPe)*TPe,r=[],i=0;i<=t;i++)r.push(n+i*TPe);return r}var YPe=Qx(((SPe={})["ui/channelGridPage/initChannelsGridPage"]=function(e,t,n){var r=WPe(e),i=t.serverEntityID,a=t.providerEntityID,o=t.directoryKey,s=bo(e,{serverEntityID:i}),l=Co(e,{providerEntityID:a}),c={serverEntityID:i,providerEntityID:a,directoryKey:o,channelsList:new wPe(null,{server:s,provider:l,type:PPe.CHANNEL})};r.set(c),n(RPe())},SPe["ui/channelGridPage/initMetadataList"]=function(e,t,n){var r=t.containerKey,i=t.serverEntityID,a=t.providerEntityID,o=WPe(e),s=bo(e,{serverEntityID:i}),l=Co(e,{providerEntityID:a});if(r!==o.get("containerKey")){var c=new MPe({containerKey:r},{server:s,provider:l});o.set({containerKey:r,metadataList:c})}},SPe["ui/channelGridPage/resetStartTime"]=function(e,t,n){var r=Math.floor(Date.now()/1e3);n(LPe(r))},SPe["ui/channelGridPage/setStartTime"]=function(e,t,n){var r=WPe(e),i=r.get("visibleColumns"),a=GPe(t,i);Object(No.a)(function(){r.set({startTime:t,columnTimes:a})})},SPe["ui/channelGridPage/navigateTimeFoward"]=function(e,t,n){var r=WPe(e).get("columnTimes")[0]+TPe;n(LPe(r))},SPe["ui/channelGridPage/navigateTimeBack"]=function(e,t,n){var r=WPe(e).get("columnTimes")[0]-TPe,i=Math.floor(Date.now()/1e3)-APe;r+TPe>i&&n(LPe(r))},SPe["ui/channelGridPage/setViewportSize"]=function(e,t,n){var r=t.width,i=t.height,a=WPe(e),o=Math.floor(r+EPe),s=Math.max(Math.floor((r-OPe)/xPe),1)+1,l=Math.floor((o-OPe)/s),c=GPe(a.get("startTime"),s);Object(No.a)(function(){a.set({visibleColumns:s,columnTimes:c,columnWidth:l,viewportWidth:o,viewportHeight:Math.floor(i)})})},SPe["ui/channelGridPage/updateAiredProgress"]=function(e){var t=WPe(e),n=t.get("columnTimes"),r=n[0],i=n[n.length-1]-r,a=Math.floor(Date.now()/1e3),o=Math.min(100,Math.max(0,(a-r)/i*100));Object(No.a)(function(){t.set({airedProgress:o})})},SPe["ui/channelGridPage/populateChannelPrograms"]=function(e){var t=WPe(e),n=t.get("metadataList"),r=t.get("columnTimes"),i=t.get("viewportWidth");n&&i>0&&(n.set({isPending:!0,error:null}),n.populateRange({start:r[0],end:r[r.length-1],reloadThreshold:jPe}).then(function(){n.set({isPending:!1,isPopulated:!0,error:null})},function(e,t){t.aborting||n.set({isPending:!1,error:Gi(t)})}))},SPe["ui/channelGridPage/repopulateChannelPrograms"]=function(e){var t=WPe(e).get("metadataList");t.set({isPending:!0}),t.repopulateRange().then(function(){t.set({isPending:!1,isPopulated:!0,error:null})},function(e,n){n.aborting||t.set({isPending:!1,error:Gi(n)})})},SPe["ui/repopulatePage"]=function(e,t,n){if(!t.metadataItemEntityID&&!t.containerKeyPattern){var r=bo(e,t),i=WPe(e),a=i.get("metadataList"),o=i.get("channelsList");o&&a&&o.server===r&&a.server===r&&(n(HPe()),n(QPe()))}},SPe["ui/channelGridPage/populateChannelsList"]=qi({key:"channelsList",fetchActionCreator:QPe,getModel:WPe}),SPe["ui/channelGridPage/fetchChannelsList"]=Ki({key:"channelsList",getModel:WPe}),SPe));function KPe(e){return Object(Iy.createSelector)(Hk(),function(t){if(t)return C.a.findWhere(t.features,{type:e})})}var qPe,ZPe,XPe=KPe.bind(null,nn),JPe="hdonly",$Pe="=",eTe=">>=",tTe="<<=",nTe=">>=-",rTe="<<=-",iTe=[$Pe,"!=","==","!==",">=","<=",eTe,tTe,nTe,rTe],aTe="&",oTe=",";function sTe(e,t){if(!C.a.isEmpty(e)){if(e===qPe)return ZPe;var n=e.map(function(e){var n,r=e.key,i=e.value,a=e.operator,o=void 0===a?$Pe:a;n=t?Array.isArray(i)?i.join(oTe):i:Array.isArray(i)?i.map(encodeURIComponent).join(oTe):encodeURIComponent(i);var s=o.lastIndexOf($Pe),l=o.substr(0,s),c=o.substr(s+1,o.lastIndexOf($Pe));return encodeURIComponent(r)+encodeURIComponent(l)+$Pe+encodeURIComponent(c)+n},[]);return qPe=e,ZPe=n.join(aTe)}}function lTe(e,t){var n=t.type,r=t.filters,i=t.sort,a=t.limit,o=F.join(e),s={};return n&&(s.type=n),i&&(s.sort=i),a&&(s.limit=a),F.join(function(e,t){var n=sTe(t,!0);if(!n)return e;var r=e.indexOf("?"),i=e.length;return(e+=r>-1?r<i-1?"&":"":"?")+n}(o,r),s)}function cTe(){return Object(Iy.createSelector)(function(e,t){return t.activeFilters},Hk(),XPe(),function(e,t,n){return void 0===e&&(e=[]),t?lTe(n?n.key:"/"+t.identifier+"/grid",{type:[Object(nr.r)(nr.g).id,Object(nr.r)(nr.e).id].join(","),filters:e.reduce(function(e,t){return t.key===JPe?e.push(Object.assign({},t,{key:"channel.value"})):e.push(t),e},[]),sort:"beginsAt"}):null})}var uTe=function(){return Object(Iy.createSelector)(Whe(),$N,function(e,t){return e&&e.metadataItems?e.metadataItems.map(function(e){return t[e]}):[]})},dTe=(Dp.a.oneOf([Une,zne]).isRequired,n(985)),pTe=n.n(dTe);var hTe=function(e){var t=e.title;return hv()("div",{className:pTe.a.heading},void 0,t)},fTe=n(619),gTe=n.n(fTe);var vTe=function(e){var t=e.children;return hv()("div",{className:gTe.a.headingContainer},void 0,t,hv()("div",{className:gTe.a.divider}))},mTe=6e4;var yTe={days:Bb,hours:Wb,minutes:function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(Qy.a)(t);return Object(Vb.a)(e,r*mTe,n)},months:Gb,seconds:Jj,weeks:Yb,years:Kb};function bTe(e,t){void 0===t&&(t={});var n=Object(rE.a)(e);for(var r in t)n=yTe[r](n,t[r]);return Fb(n)}function STe(e,t){return void 0===t&&(t={}),null!=e&&bTe(Fb(new Date),t)<=e}function ITe(e,t){return void 0===t&&(t={}),null!=e&&bTe(Fb(new Date),t)>=e}var CTe={s:"seconds",m:"minutes",h:"hours",d:"days",w:"weeks",M:"months",y:"years"};function MTe(e){if("now"===e)return{};var t=e.match(/([-+]?\d+)([smhdwMy])/);if(t){var n,r=t[1],i=t[2];if(r&&i)return(n={})[CTe[i]]=parseInt(r,10),n}else{var a=parseInt(e,10);if(C.a.isNumber(a))return a}return{}}function DTe(e,t){return!(!C.a.isObject(t)||!STe(e,t))||e>=t}function wTe(e,t){return!(!C.a.isObject(t)||!ITe(e,t))||e<=t}function PTe(){return Object(Iy.createSelector)(function(e,t){return t.containerKey},Qse(),function(e,t){if(t&&t.Media){for(var n=function(e){if(e){var t=e.split("?")[1];return t?mt.a.parseQueryString(t):void 0}}(e),r=C.a.sortBy(t.Media,"endsAt"),i=Date.now()/1e3,a=0,o=r.length;a<o;a++){var s=r[a];if(n){var l=n["beginsAt>"],c=n["beginsAt<"],u=n["endsAt>"],d=n["endsAt<"];if(l){var p=MTe(l);if(wTe(s.beginsAt,p))continue}if(c){var h=MTe(c);if(DTe(s.beginsAt,h))continue}if(u){var f=MTe(u);if(wTe(s.endsAt,f))continue}if(d){var g=MTe(d);if(DTe(s.endsAt,g))continue}}if(s.endsAt>i)return s}return C.a.first(r)}})}var TTe=Object(Iy.createSelector)(Py,function(e){return e.timeFormat});function ETe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getMinutes()}var xTe=function(e,t,n){void 0===n&&(n={});var r=n,i=r.includeMinuteZero,a=void 0===i||i,o=r.timeFormat,s=void 0===o?"h:mma":o,l=r.separator,c=void 0===l?"-":l,u=Object(rE.a)(e),d=Object(rE.a)(t),p=Object(tl.a)(u,"a")===Object(tl.a)(d,"a"),h=ETe(u),f=ETe(d),g=s,v=s;return a||0!==h||(g=g.replace("h:mm","h")),p&&(g=g.replace("a","")),a||0!==f||(v=v.replace("h:mm","h")),""+Object(tl.a)(u,g)+c+Object(tl.a)(d,v)},OTe=n(390),jTe=n.n(OTe),ATe=Xf.a.createElement;var NTe=function(e){var t=e.className,n=e.component,r=e.isSecondary,i=e.isDoubleLine,a=e.isSplitLine,o=wt()(e,["className","component","isSecondary","isDoubleLine","isSplitLine"]);return ATe(n,dv()({className:(t||"")+" "+((i?jTe.a.doubleLineTitle:jTe.a.singleLineTitle)||"")+" "+(r&&jTe.a.isSecondary||"")+" "+(a&&jTe.a.isSplitLine||"")},o))},kTe="extra",LTe="mixed",RTe="musicVideo";var _Te=function(e){var t=e.className,n=e.tabIndex,r=e.server,i=e.provider,a=e.sourceDirectory,o=e.tag,s=e.filter;if(!o)return null;var l=nj(r,i,a,{filters:s,filterLabel:o});return l&&s?hv()(RS,{"data-qa-id":"castTitle",className:t,tabIndex:n,title:o,to:l},void 0,o):hv()("span",{className:t,title:o},void 0,o)};var UTe=function(e){var t=e.className,n=e.role;return hv()("span",{className:t,title:n},void 0,n)};var zTe=function(e){var t=e.className,n=e.sourceTitle;return n?hv()("span",{className:t},void 0,Object(Xn.default)("from {sourceTitle}",{sourceTitle:n})):null};var FTe=Lm(function(){return Object(Iy.createSelector)(XS,xse,$de,qde,function(e,t,n,r){return e&&n&&e.machineIdentifier!==n.machineIdentifier?{sourceTitle:n.sourceTitle||n.friendlyName}:{}})})(zTe);var BTe=function(e){var t=e.className,n=e.addedAt;return hv()(Zge,{className:t,timestamp:n})};var HTe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{addedAt:e.addedAt}})})(BTe);var VTe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},$de,qde,Qse(),function(e,t,n,r){void 0===r&&(r={});var i=r,a=i.addedAt,o=i.grandparentTitle,s=i.grandparentKey,l={};return e&&(l.context=e),{addedAt:a,title:o,route:Og(t,n,s,l)}})})(Xge);function QTe(){return Object(Iy.createSelector)(Qse(),PTe(),function(e,t){if(e&&t)return C.a.findWhere(e.Channel,{id:t.channelID})})}var WTe=function(e,t){var n=(void 0===t?{}:t).abbreviate,r=void 0!==n&&n;if(null==e)return"";var i=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getDay()}(Object(rE.a)(e));return r?function(e){return[Object(Xn.default)("Sun"),Object(Xn.default)("Mon"),Object(Xn.default)("Tue"),Object(Xn.default)("Wed"),Object(Xn.default)("Thu"),Object(Xn.default)("Fri"),Object(Xn.default)("Sat")][e]}(i):function(e){return[Object(Xn.default)("Sunday"),Object(Xn.default)("Monday"),Object(Xn.default)("Tuesday"),Object(Xn.default)("Wednesday"),Object(Xn.default)("Thursday"),Object(Xn.default)("Friday"),Object(Xn.default)("Saturday")][e]}(i)};var GTe=function(e,t){var n=(void 0===t?{}:t).abbreviate,r=void 0!==n&&n;if(!e)return"";var i=il(Object(rE.a)(e));return r?function(e){return[Object(Xn.default)("Jan"),Object(Xn.default)("Feb"),Object(Xn.default)("Mar"),Object(Xn.default)("Apr"),Object(Xn.default)("May"),Object(Xn.default)("Jun"),Object(Xn.default)("Jul"),Object(Xn.default)("Aug"),Object(Xn.default)("Sep"),Object(Xn.default)("Oct"),Object(Xn.default)("Nov"),Object(Xn.default)("Dec")][e]}(i):function(e){return[Object(Xn.default)("January"),Object(Xn.default)("February"),Object(Xn.default)("March"),Object(Xn.default)("April"),Object(Xn.default)("May"),Object(Xn.default)("June"),Object(Xn.default)("July"),Object(Xn.default)("August"),Object(Xn.default)("September"),Object(Xn.default)("October"),Object(Xn.default)("November"),Object(Xn.default)("December")][e]}(i)},YTe=n(142);function KTe(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,a=null==i?0:Object(Qy.a)(i),o=null==n.weekStartsOn?a:Object(Qy.a)(n.weekStartsOn);if(!(o>=0&&o<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var s=Object(nl.a)(e,n),l=s.getDay(),c=(l<o?7:0)+l-o;return s.setDate(s.getDate()-c),s.setHours(0,0,0,0),s}function qTe(e){if(null==e)return!1;var t=Object(rE.a)(e);return function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=KTe(e,n),i=KTe(t,n);return r.getTime()===i.getTime()}(Date.now(),t)}function ZTe(e){return null!=e&&uE(Object(rE.a)(e),Bb(new Date,1))}function XTe(e){return!(null==e||!dE(e))&&function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getHours()}(Object(rE.a)(e))>16}function JTe(e){if(null==e)return!1;var t=Object(rE.a)(e);return uE(Hb(new Date,1),t)}function $Te(e,t,n){var r=(void 0===n?{}:n).timeFormat,i=void 0===r?"h:mma":r;if(null==e)return"";var a,o=Object(YTe.default)(e,i);return a=JTe(e)?Object(Xn.default)("Yesterday"):dE(e)?XTe(e)?Object(Xn.default)("Tonight"):Object(Xn.default)("Today"):ZTe(e)?Object(Xn.default)("Tomorrow"):qTe(e)?WTe(e):Object(Xn.default)("{dayOfWeekAbbreviated}, {monthAbbreviated} {dayNumber}",{dayOfWeekAbbreviated:WTe(e,{abbreviate:!0}),monthAbbreviated:GTe(e,{abbreviate:!0}),dayNumber:rl(Object(rE.a)(e))}),t?Object(Xn.default)("{1} at {2} on {3}",a,o,t):Object(Xn.default)("{1} at {2}",a,o)}function eEe(e,t,n){var r=(void 0===n?{}:n).timeFormat,i=void 0===r?"h:mma":r;if(null==e)return"";var a=Object(rE.a)(e);if(JTe(e))return Object(Xn.default)("Yesterday");0===ETe(a)&&(i=i.replace("h:mm","h"));var o,s=Object(YTe.default)(e,i);return o=dE(e)?XTe(e)?Object(Xn.default)("Tonight"):Object(Xn.default)("Today"):ZTe(e)?Object(Xn.default)("Tomorrow"):qTe(e)?Object(YTe.default)(e,"EEEE"):Object(YTe.default)(e,"MMM d"),t?Object(Xn.default)("{1} at {2} on {3}",o,s,t):Object(Xn.default)("{1} at {2}",o,s)}function tEe(e,t){if(null==e||null==t)return!1;var n=Fb(new Date);return n>=e&&n<=t}var nEe=n(986),rEe=n.n(nEe),iEe=Xf.a.Component,aEe=6e4;function oEe(e){var t=e.beginsAt,n=e.endsAt,r=e.channel,i=e.showChannel,a=e.showFullTime,o=e.timeFormat;if(!t)return Object(Xn.default)("No upcoming airings");if(tEe(t,n)){var s=n-Date.now()/1e3;return s<=60?Object(Xn.default)("About to end"):ny(s)}if(STe(t)&&ITe(t,{minutes:60})){var l=1e3*t-Date.now();if(l<=aEe)return i&&r?Object(Xn.default)("Starting now on {channel}",{channel:r}):Object(Xn.default)("Starting now");var c=ty(l);return i&&r?Object(Xn.default)("Starting in {duration} on {channel}",{duration:c,channel:r}):Object(Xn.default)("Starting in {duration}",{duration:c})}return(a?$Te:eEe)(t,i&&r,{timeFormat:o})}var sEe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTickTimeout=function(){r.setState(r.getState(r.props)),r.setTickTimeout()},r.state=r.getState(t),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.setTickTimeout()},n.componentWillReceiveProps=function(e){var t=this.getState(e);t.title!==this.state.title&&this.setState(t)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this.tickTimeout&&clearTimeout(this.tickTimeout)},n.getState=function(e){return{title:oEe(e)}},n.setTickTimeout=function(){this.tickTimeout=setTimeout(this.onTickTimeout,aEe-Date.now()%aEe)},n.render=function(){var e=this.props,t=e.className,n=e.beginsAt,r=e.endsAt,i=e.channel,a=e.showChannel,o=this.state.title,s=a&&!!i&&tEe(n,r);return hv()("span",{className:t},void 0,s?hv()("span",{},void 0,Object(Xn.default)("Now on {channel}",{channel:i}),hv()(cE,{className:rEe.a.separator}),o):o)},t}(iEe);sEe.defaultProps={showFullTime:!1,showChannel:!1};var lEe=sEe;var cEe,uEe,dEe=Lm(function(){return Object(Iy.createSelector)(TTe,PTe(),QTe(),function(e,t,n){return{beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e}})})(lEe);function pEe(e,t){void 0===t&&(t=window.location.hash);var n=function(e){if(cEe===e)return uEe;var t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?F.parseParams(n):{};return cEe=e,uEe={url:t[0],params:r}}(t);return F.join(n.url,Object.assign({},n.params,{type:void 0,typeKey:e.typeKey,filters:sTe(e.filters),limit:e.limit,filterLabel:e.filterLabel,customFilter:e.customFilter?1:void 0,sort:e.sort,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle,save:1}))}function hEe(){return Object(Iy.createSelector)(function(e,t){return t.containerKey},function(e,t){return t.containerTitle},function(e,t){return t.metricsContext},Qse(),$de,qde,Object(Iy.createSelector)(Qse(),function(e){if(e&&!e.skipDetails&&!e.isExtra&&!e.radio&&e.type!==nr.h&&e.type!==nr.c)return e.type===nr.m&&e.subtype!==$n?e.skipParent?e.grandparentKey:e.parentKey:e.key}),function(e,t,n,r,i,a,o){if(void 0===r&&(r={}),r.isFolder){var s=e.match(/(.*?)\/folder/)[1],l={key:s+"/all",typeKey:s+"/folder",folderKey:o,folderTitle:r.title,parentFolderKey:e,parentFolderTitle:t};return n&&(l.context=n),pEe(l)}var c={};return n&&(c.context=n),Og(i,a,o,c,r.playlistType)})}var fEe=iZ(function(){return Object(Iy.createSelector)(Qse(),hEe(),function(e,t){return void 0===e&&(e={}),{title:e.title,route:t}})})(Qge),gEe=n(485),vEe=n.n(gEe),mEe=Xf.a.createElement;var yEe=function(e){var t=e.className,n=e.attribution,r=wt()(e,["className","attribution"]);return hv()("span",{className:t},void 0,hv()("div",{className:vEe.a.container},void 0,hv()(wk,{className:vEe.a.badge,attribution:n}),mEe(fEe,dv()({className:vEe.a.title},r))))};var bEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{attribution:e.attribution}})})(yEe),SEe=n(486),IEe=n.n(SEe);var CEe=function(e){var t=e.className,n=e.attribution,r=e.year;return hv()("span",{className:t},void 0,hv()("div",{className:IEe.a.container},void 0,hv()(wk,{className:IEe.a.badge,attribution:n}),hv()(yve,{year:r,className:IEe.a.title})))};var MEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{attribution:e.attribution,year:e.year}})})(CEe);function DEe(){return Object(Iy.createSelector)(JIe(),function(e){return e&&e.currentPosition})}function wEe(){return Object(Iy.createSelector)(DEe(),RMe(),function(e,t){if(null!=e)for(var n=0;n<t.length;n++)for(var r=t[n],i=0;i<r.Media.length;i++){var a=r.Media[i],o=a.beginsAt,s=a.endsAt;if(o<=e&&s>e)return r}})}function PEe(){return Object(Iy.createSelector)(DEe(),wEe(),JIe(),function(e,t,n){if(null!=e&&t&&n)return t.Media.find(function(t){var r=t.beginsAt,i=t.endsAt,a=t.channelIdentifier;return r<=e&&i>e&&n.channelIdentifier===a})})}var TEe=function(e){var t=e.className,n=e.beginsAt,r=e.endsAt,i=e.timeFormat,a=xTe(n,r,{includeMinuteZero:!1,timeFormat:i});return hv()("span",{className:t},void 0,a)};var EEe=Lm(function(){return Object(Iy.createSelector)(TTe,PEe(),function(e,t){return{beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,timeFormat:e}})})(TEe);var xEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{leafCount:e.leafCount}})})(pve);var OEe=function(e){var t=e.episodeIndex;if(t>0||0===t)return e.noLeadingZero||(t=al(t)),e.useLongName?Object(Xn.default)("Episode {episodeNumber}",{episodeNumber:t}):Object(Xn.default)("E{episodeNumber}",{episodeNumber:t});if(e.date&&e.dateFormat)return Object(tl.a)(Object(nl.a)(e.date),e.dateFormat);if(e.date){var n=Object(nl.a)(e.date);return Object(Xn.default)("{monthNumber}/{dayNumber}/{shortYear}",{monthNumber:il(n)+1,dayNumber:rl(n),shortYear:Object(tl.a)(n,"yy")})}return""};function jEe(e){var t=e.className,n=e.index,r=e.longName,i=e.originallyAvailableAt,a=OEe({useLongName:r,episodeIndex:n,date:i,noLeadingZero:!0});return hv()("span",{className:t},void 0,a)}jEe.defaultProps={longName:!0};var AEe=jEe;var NEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{index:e.index,originallyAvailableAt:e.originallyAvailableAt}})})(AEe);var kEe=function(e){var t=e.seasonIndex;return null==t?"":t>1e3?t:(e.noLeadingZero||(t=al(t)),e.useLongName?Object(Xn.default)("Season {seasonNumber}",{seasonNumber:t}):Object(Xn.default)("S{seasonNumber}",{seasonNumber:t}))},LEe=hv()(cE,{separator:""}),REe=hv()(cE,{separator:""});var _Ee=function(e){var t=e.className,n=e.tabIndex,r=e.title,i=e.index,a=e.route,o=e.parentTitle,s=e.parentIndex,l=e.parentRoute,c=e.originallyAvailableAt,u=kEe({seasonIndex:s,noLeadingZero:!0}),d=OEe({episodeIndex:i,date:c,noLeadingZero:!0});return a&&l?hv()("span",{className:t},void 0,i>0&&u?hv()(RS,{tabIndex:n,title:o,to:l},void 0,u):null,i>0&&u?REe:null,hv()(RS,{tabIndex:n,title:r,to:a},void 0,d)):hv()("span",{className:t},void 0,i>0&&u?hv()("span",{},void 0,u):null,i>0&&u?LEe:null,hv()("span",{},void 0,d))},UEe=hv()(cE,{});var zEe=function(e){var t=e.className,n=e.tabIndex,r=e.title,i=e.index,a=e.route,o=e.parentTitle,s=e.parentIndex,l=e.parentRoute,c=e.originallyAvailableAt;return hv()("span",{className:t},void 0,hv()(_Ee,{tabIndex:n,title:r,index:i,route:a,parentTitle:o,parentIndex:s,parentRoute:l,originallyAvailableAt:c}),r?UEe:null,r?hv()(Qge,{tabIndex:n,title:r,route:a}):null)};var FEe=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};e&&(i.context=e);var a=r.skipParent&&r.subtype===er;return{title:r.title,index:r.index,route:Og(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:a?null:r.parentIndex,parentRoute:r.skipParent?null:Og(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}})})(zEe),BEe=Object(vl.a)(["id","typeString"],[{id:1,typeString:"trailer",title:function(){return Object(Xn.default)("Trailer")}},{id:2,typeString:"deletedScene",title:function(){return Object(Xn.default)("Deleted Scene")}},{id:3,typeString:"interview",title:function(){return Object(Xn.default)("Interview")}},{id:4,typeString:"musicVideo",title:function(){return Object(Xn.default)("Music Video")}},{id:5,typeString:"behindTheScenes",title:function(){return Object(Xn.default)("Behind the Scenes")}},{id:6,typeString:"scene",title:function(){return Object(Xn.default)("Scene")}},{id:7,typeString:"liveMusicVideo",title:function(){return Object(Xn.default)("Live Music Video")}},{id:8,typeString:"lyricMusicVideo",title:function(){return Object(Xn.default)("Lyric Music Video")}},{id:9,typeString:"concert",title:function(){return Object(Xn.default)("Concert")}},{id:10,typeString:"featurette",title:function(){return Object(Xn.default)("Featurette")}},{id:11,typeString:"short",title:function(){return Object(Xn.default)("Short")}},{id:12,typeString:"other",title:function(){return Object(Xn.default)("Other")}}]);var HEe=function(e){var t=e.className,n=e.extraType,r=BEe.get(n);return hv()("span",{className:t},void 0,r?r.title:"")};var VEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{extraType:e.extraType}})})(HEe);var QEe=Lm(function(){return Object(Iy.createSelector)(Qse(),hEe(),function(e,t){return void 0===e&&(e={}),{title:e.title,route:t}})})(Qge);QEe.isDoubleLine=!0;var WEe=QEe;var GEe=function(e){var t,n=e.className,r=e.duration,i=e.viewOffset;if(r&&i){var a=(r-i)/1e3;a>0&&(t=ny(a))}return hv()("span",{className:n},void 0,t)};var YEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{duration:e.duration,viewOffset:e.viewOffset}})})(GEe);var KEe=function(e){var t=e.className,n=e.duration;return n?hv()("span",{className:t},void 0,ty(n)):null};var qEe=function(e){var t=e.className,n=e.playlistType,r=e.duration,i=e.leafCount;return n===Pee?hv()(uve,{className:t,leafCount:i}):hv()(KEe,{className:t,duration:r})};var ZEe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{playlistType:e.playlistType,duration:e.duration,leafCount:e.leafCount}})})(qEe);var XEe=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};e&&(i.context=e);var a=r.skipParent&&r.subtype===er;return{title:r.title,index:r.index,route:Og(t,n,r.key,i),parentTitle:r.parentTitle,parentIndex:a?null:r.parentIndex,parentRoute:r.skipParent?null:Og(t,n,r.parentKey,i),originallyAvailableAt:r.originallyAvailableAt}})})(_Ee);var JEe=function(e){var t=e.className,n=e.topics;return n&&n.length?hv()("span",{className:t},void 0,n[0].tag):null};var $Ee=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return{topics:e&&e.Topic}})})(JEe);var exe=function(e){var t=e.className,n=e.server,r=e.provider,i=e.sourceDirectory,a=e.id,o=e.tag,s=e.filter,l=e.tagType,c=Wse.get(l).typeString,u=nj(n,r,i,{filters:s||c+"="+a,filterLabel:o});return hv()(RS,{"data-qa-id":"searchTagTitle",className:t,title:o,to:u},void 0,o)},txe=Xf.a.createElement;var nxe=Lm(function(){return Object(Iy.createSelector)(XS,xse,Hde(),function(e,t,n){void 0===n&&(n={});var r=C.a.pick(n.tagItem,"id","tag","tagType","librarySectionType","librarySectionKey");return Object.assign({server:e,provider:t,sourceDirectory:Gse(t,n.tagItem.librarySectionKey)},r)})})(function(e){return txe(exe,e)}),rxe="/hubs";var ixe=function(e){var t=e.className,n=e.server;if(!n.friendlyName)return null;var r=dr(n,{identifier:Cn.d},{hubKey:rxe});return hv()("span",{className:t},void 0,Object(Xn.default)("on")," ",hv()(RS,{title:n.friendlyName,to:r},void 0,n.friendlyName))};var axe=Lm(function(){return Object(Iy.createSelector)(XS,function(e){return{server:e}})})(ixe),oxe=n(445);var sxe=function(e){var t=e.className,n=e.type,r=e.bitrate,i=n===ed.a?Object(oxe.a)(r):Object(fhe.default)(r);return hv()("span",{className:t},void 0,i)};var lxe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t=Object(nr.r)(e.type),n=e.Media&&e.Media[0];return{type:t&&t.mediaType,bitrate:n&&n.bitrate}})})(sxe);function cxe(e){if(!e)return"";var t=e.indexOf("/");return-1!==t?e.substr(t+1):e}var uxe=function(e){var t=e.className,n=e.contentRating;return hv()("span",{className:t},void 0,cxe(n))};var dxe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{contentRating:e.contentRating}})})(uxe),pxe=n(149),hxe=n.n(pxe),fxe=Xf.a.createElement,gxe=/^imdb:\/\//,vxe=/^rottentomatoes:\/\//,mxe={imdb:function(e){var t=e.rating;return hv()("div",{className:hxe.a.rating,title:Object(Xn.default)("IMDb Rating")},void 0,hv()("div",{className:hxe.a.imdb}),t.toFixed(1))},rt:function(e){var t=e.rating,n=e.ratingImage,r=e.audienceRating,i=e.audienceRatingImage,a=n&&n.substr(n.lastIndexOf(".")+1),o=r&&i&&i.substr(i.lastIndexOf(".")+1),s={certified:Object(Xn.default)("Certified Fresh"),ripe:Object(Xn.default)("Fresh"),rotten:Object(Xn.default)("Rotten"),spilled:Object(Xn.default)("Audience Rating"),upright:Object(Xn.default)("Audience Rating")};return hv()("div",{className:hxe.a.rt},void 0,a?hv()("div",{className:hxe.a.rating},void 0,hv()("div",{className:hxe.a[a],title:s[a]}),Math.round(10*t)+"%"):null,o?hv()("div",{className:hxe.a.rating},void 0,hv()("div",{className:hxe.a[o],title:s[o]}),Math.round(10*r)+"%"):null)},other:function(e){var t=e.rating;return hv()("div",{className:hxe.a.rating},void 0,hv()("div",{className:hxe.a.other,title:Object(Xn.default)("Rating")}),Math.round(10*t)+"%")}};var yxe=function(e){var t=function(e){var t=e.rating,n=e.ratingImage,r=e.audienceRating,i=e.audienceRatingImage;return t?gxe.test(n)?"imdb":vxe.test(n)||r&&vxe.test(i)?"rt":"other":"unrated"}(e),n=mxe[t];return n?hv()("div",{className:hxe.a.container},void 0,fxe(n,e)):null};var bxe=function(e){var t=e.className,n=e.rating,r=e.ratingImage,i=e.audienceRating,a=e.audienceRatingImage;return n?hv()("span",{className:t},void 0,hv()(yxe,{rating:n,ratingImage:r,audienceRating:i,audienceRatingImage:a})):null};var Sxe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{rating:e.rating,ratingImage:e.ratingImage,audienceRating:e.audienceRating,audienceRatingImage:e.audienceRatingImage}})})(bxe);var Ixe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{duration:e.duration}})})(KEe);var Cxe=function(e){var t=e.className,n=e.lastViewedAt;return hv()(Zge,{className:t,timestamp:n})};var Mxe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{lastViewedAt:e.lastViewedAt}})})(Cxe);var Dxe=function(e){var t=e.className,n=e.viewCount,r=(n>1?Object(Xn.default)("{viewCount} Plays",{viewCount:n}):null)||(n>0?Object(Xn.default)("{viewCount} Play",{viewCount:n}):null)||Object(Xn.default)("Unplayed");return hv()("span",{className:t},void 0,r)};var wxe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{viewCount:e.viewCount}})})(Dxe);var Pxe=function(e){var t=e.className,n=e.originallyAvailableAt;return hv()("span",{className:t},void 0,Object(ove.default)(n,"MMM d, yyyy"))};var Txe=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{originallyAvailableAt:e.originallyAvailableAt}})})(Pxe);var Exe=function(e){var t=e.className,n=e.videoResolution;return hv()("span",{className:t},void 0,Object(OL.default)(n))};var xxe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t=e.Media&&e.Media[0];return{videoResolution:t&&t.videoResolution}})})(Exe);function Oxe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-dot-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["circle",{cx:"280",cy:"280",r:"40"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Oxe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var jxe=Oxe;function Axe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m342.864 199.975l203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475c20.955 64.492 41.909 128.983 62.864 193.475m-96.666 40l-109.387 0 88.496 64.296-33.802 104.032 88.495-64.296 88.495 64.296-33.802-104.032 88.496-64.296-109.387 0-33.802-104.033c-11.267 34.678-22.535 69.355-33.802 104.033"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Axe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Nxe=Axe;function kxe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-star-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 6.5l62.864 193.475 203.432 0-164.58 119.575 62.864 193.475-164.58-119.575-164.58 119.575 62.864-193.475-164.58-119.575 203.432 0 62.864-193.475"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}kxe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Lxe=kxe,Rxe=n(294),_xe=n.n(Rxe),Uxe=n(124),zxe=n.n(Uxe),Fxe=Xf.a.createElement,Bxe=Xf.a.Component,Hxe=sT(_xe.a.starPulseSpeed);function Vxe(e,t){return e>0?Math.min(Math.floor(e)+1,t):0}function Qxe(e){var t=e.className,n=e.iconComponent,r=e.isVisible,i=e.isPulsing,a=(t||"")+" "+(!r&&zxe.a.hidden||"")+" "+(i&&zxe.a.pulsing||"");return hv()(n,{className:a})}function Wxe(e){return Fxe(Qxe,dv()({iconComponent:Nxe,className:zxe.a.emptyStar},e))}function Gxe(e){return Fxe(Qxe,dv()({iconComponent:Lxe,className:zxe.a.fullStar},e))}function Yxe(){return hv()(jxe,{className:zxe.a.dot})}var Kxe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSliderChange=function(e){var t=Vxe(e.positionValue,r.props.starCount);r.setState({currentValue:t})},r.onSliderMove=function(e){var t=Vxe(e.positionValue,r.props.starCount);0!==t&&r.setState({currentValue:t})},r.onSlideComplete=function(e){var t=Vxe(e.positionValue,r.props.starCount);r.state.currentRating!==t&&(r._setRating(t),r.props.onRatingChange(t))},r.onMouseLeave=function(e){e.pageX;r.setState({currentValue:r.state.currentRating})},r.state={currentValue:t.value,currentRating:t.value,isPulsing:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.value;t=Math.max(0,Math.min(t,this.props.starCount)),this.state.currentRating!==t&&this._setRating(t)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e,t){var n=this;this.state.currentRating!==t.currentRating&&(clearTimeout(this._pulseTimeoutID),this._pulseTimeoutID=setTimeout(function(){n.setState({isPulsing:!1})},Hxe))},n.componentWillUnmount=function(){clearTimeout(this._pulseTimeoutID)},n._setRating=function(e){this.setState({currentValue:e,currentRating:e,isPulsing:!0})},n.render=function(){var e=this.props,t=e.starCount,n=e.className,r=this.state,i=r.currentValue,a=r.currentRating,o=r.isPulsing,s=!this.state.currentValue,l=!this.props.onRatingChange,c=C.a.range(t);return hv()("div",{className:(n||"")+" "+(zxe.a.starRating||"")+" "+(l&&zxe.a.isReadOnly||"")+" "+(s&&zxe.a.isUnrated||""),onMouseLeave:this.onMouseLeave},void 0,hv()("div",{},void 0,c.map(function(e){return hv()(Yxe,{},e)})),hv()("div",{className:zxe.a.stars},void 0,c.map(function(e){var t=e>i-1;return hv()(Wxe,{isVisible:t},e)})),hv()("div",{className:zxe.a.stars},void 0,c.map(function(e){var t=e<=i-1;return hv()(Gxe,{isVisible:t,isPulsing:o&&a>e},e)})),l?null:hv()(AW,{className:zxe.a.slider,trackClassName:zxe.a.track,label:Object(Xn.default)("User Rating"),value:this.state.currentValue,min:0,max:t,stepSize:1,autoHideThumb:!0,onChange:this.onSliderChange,onMove:this.onSliderMove,onDragComplete:this.onSlideComplete}))},t}(Bxe);Kxe.defaultProps={starCount:5,value:0};var qxe=Kxe;var Zxe=function(e){var t=e.className,n=e.value,r=e.onRatingChange;return hv()("span",{className:t},void 0,hv()(qxe,{value:n,onRatingChange:r}))},Xxe=Xf.a.createElement;var Jxe=iZ(function(e,t){return Object(Iy.createSelector)(xse,Qse(),Object(Iy.createSelector)(Epe,function(e,t){return t.providerEntityID},function(e,t){return!!e&&e.providers.length>1&&e.providers.includes(t)}),function(e,t){return t.hideUnrated},function(e,t,n,r){void 0===t&&(t={});var i=e&&e.features[en][$t]&&!t.isFolder&&!n,a=(t.userRating||0)/2;return{showRating:!(!i||r&&0===a),value:a}})},function(e,t){return{onRatingChange:function(n){e(Ide({metadataItemEntityID:t.metadataItemEntityID,providerEntityID:t.providerEntityID,rating:0===n?-1:2*n,metricsPage:t.metricsPage}))}}})(function(e){var t=e.showRating,n=wt()(e,["showRating"]);return t?Xxe(Zxe,n):null});Jxe.propTypes={hideUnrated:Dp.a.bool};var $xe=Jxe;function eOe(e,t,n){if("mixed"===e)return[];switch(n){case Tp:switch(e){case"season":return[fEe,xEe];case"episode":return[fEe,NEe];case"album":return[fEe,MEe];case"actor":return[_Te,UTe]}break;case Pp:switch(e){case"movie":return[fEe,YEe,bve];case"clip":return[fEe,YEe];case"episode":return[Gge,YEe,FEe]}break;case xp:switch(t){case"news":switch(e){case"clip":return[WEe,Jge,null]}}switch(e){case"artist":return[fEe,tve];case"photo":return[ave,cve];case"photoalbum":case"clip":return[fEe,cve];case"playlist":return[fEe,ZEe];case"collection":return[fEe,rve];case"actor":case"genre":case"director":case"autotag":case"tag":case"place":return[nxe]}break;case Ap:case jp:case Ep:case Np:switch(t){case"news":switch(e){case"clip":return[ave,HTe]}break;case"podcast":switch(e){case"track":return[Gge,FEe]}break;case"musicVideo":switch(e){case"clip":return[fEe,mve]}}switch(e){case"episode":return[Gge,FEe];case"clip":return[fEe,cve];case"track":return[fEe,mve]}break;case kp:return[WEe,$Ee,Jge,null]}switch(t){case"news":switch(e){case"clip":return[WEe,Jge,null]}break;case"podcast":switch(e){case"show":return[WEe,null];case"track":return[WEe,Gge,null]}break;case"webshow":switch(e){case"show":return[fEe];case"episode":return[WEe,VTe,null]}}switch(e){case"movie":return[fEe,bve];case"show":return[fEe,fve];case"season":return[Kge,fEe];case"episode":return[Gge,fEe,XEe];case"artist":return[fEe];case"album":return[Kge,bEe];case"track":return[Gge,fEe];case"photo":return[ave];case"photoalbum":case"clip":return[fEe];case"extra":return[ave,VEe];case"musicVideo":return[Gge,ave];case"playlist":return[fEe,ZEe];case"collection":return[fEe,rve]}return[ave]}function tOe(e,t,n){void 0===n&&(n={});var r=n,i=r.subtype,a=r.activeSort,o=r.isSearch,s=r.isSearchAll,l=r.isExternal,c=r.providerEntityID,u=eOe(e,i,t);if(o?(u.push(pme),s&&u.push(axe)):l&&u.push(FTe),Cn.i(c,Cn.c)&&("movie"===e||"episode"===e||"mixed"===e))switch(t){case Ap:case jp:u.push(EEe);break;case Np:break;default:u.push(dEe)}if(a){var d=function(e){switch(e.split(":")[0]){case"addedAt":return HTe;case"duration":return Ixe;case"lastViewedAt":return Mxe;case"originallyAvailableAt":return Txe;case"rating":return Sxe;case"userRating":return $xe;case"viewCount":return wxe;case"mediaBitrate":return lxe;case"contentRating":return dxe;case"mediaHeight":return xxe;case"year":return bve}}(a);d&&!u.includes(d)&&u.push(d)}return u}var nOe=n(193),rOe=n.n(nOe);function iOe(e){var t=e.className,n=e.posterPlayButtonClassName,r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.type,s=e.title,l=e.context,c=e.imageWidth,u=e.imageHeight,d=e.imageUrl,p=e.beginsAt,h=e.endsAt,f=e.channelTitle,g=e.timeFormat,v=e.onPlayPress,m=tOe(o,l,{providerEntityID:i});return hv()("div",{className:t},void 0,hv()("div",{className:rOe.a.channelInfoContainer},void 0,hv()("div",{className:rOe.a.channelTitle},void 0,f.substring(0,f.lastIndexOf(" ")))),hv()("div",{className:rOe.a.cardContainer},void 0,hv()(zve,{playButtonClassName:n,playCircleClassName:rOe.a.posterPlayCircle,serverEntityID:r,providerEntityID:i,imageWidth:c,imageHeight:u,imageUrl:d,title:s,onPlayPress:v})),hv()("div",{className:rOe.a.titlesContainer},void 0,hv()("div",{className:rOe.a.titles},void 0,m.map(function(e,t){return hv()(NTe,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,component:e,isSecondary:t>0},t)}))),hv()("div",{className:rOe.a.airTimeContainer},void 0,p&&h?xTe(p,h,{timeFormat:g,separator:"  "}):null))}iOe.defaultProps={className:rOe.a.container};var aOe=iOe,oOe=64,sOe=36;var lOe=Lm(function(){return Object(Iy.createSelector)(TTe,Qse(),PTe(),function(e,t,n){var r=Np,i=Gde(CL(t.type,t.subtype,r)===IL?oOe:sOe,null,t.type,t.subtype,t,r);return{type:t.type,title:t.title,context:r,imageWidth:i.width,imageHeight:i.height,imageUrl:i.url,beginsAt:n&&n.beginsAt,endsAt:n&&n.endsAt,channelTitle:n&&n.channelTitle,timeFormat:e}})})(aOe),cOe=n(391),uOe=n.n(cOe);var dOe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.playerType,a=e.onPlayPress;return hv()("div",{className:uOe.a.container},void 0,hv()(RS,{className:uOe.a.underlay,onPress:a}),hv()(lOe,{className:uOe.a.metadataContainer,posterPlayButtonClassName:uOe.a.metadataPosterPlayButton,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i,onPlayPress:a}))},pOe=Xf.a.createElement,hOe=Xf.a.useCallback;var fOe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return{metadataItem:e}})},{dispatchStartPlayback:Ire})(function(e){var t=e.dispatchStartPlayback,n=wt()(e,["dispatchStartPlayback"]),r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItem.entityID,o=hOe(function(){t({serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,metricsPage:xa})},[t,i,a,r]);return pOe(dOe,dv()({},n,{onPlayPress:o}))}),gOe=n(620),vOe=n.n(gOe);var mOe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.itemEntityIDs,i=e.playerType;return hv()("div",{className:vOe.a.container},void 0,hv()(vTe,{},void 0,hv()(hTe,{title:Object(Xn.default)("Airing Now")})),hv()(oT,{className:vOe.a.content,autoScroll:!0},void 0,r.map(function(e){return hv()(fOe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,playerType:i},e)})))},yOe=Xf.a.createElement,bOe=Xf.a.useEffect;var SOe=Lm(function(){return Object(Iy.createSelector)(uTe(),cTe(),Hk(),function(e,t){var n=Math.floor(Date.now()/1e3);return{containerKey:t,itemEntityIDs:e.filter(function(e){return e.Media[0].beginsAt<=n&&e.Media[0].endsAt>n}).map(function(e){return e.entityID})}})},{dispatchInitMetadataList:kPe,dispatchPopulateChannelPrograms:BPe,dispatchRepopulateChannelPrograms:HPe,dispatchResetStartTime:RPe,dispatchSetViewportSize:zPe})(function(e){var t=e.dispatchInitMetadataList,n=e.dispatchPopulateChannelPrograms,r=(e.dispatchRepopulateChannelPrograms,e.dispatchResetStartTime),i=e.dispatchSetViewportSize,a=wt()(e,["dispatchInitMetadataList","dispatchPopulateChannelPrograms","dispatchRepopulateChannelPrograms","dispatchResetStartTime","dispatchSetViewportSize"]),o=e.containerKey,s=e.serverEntityID,l=e.providerEntityID;return bOe(function(){o&&(i({width:1,height:1}),r(),t({containerKey:o,serverEntityID:s,providerEntityID:l}),n())},[o,s,l,t,n,r,i]),yOe(mOe,a)}),IOe=n(194),COe=n.n(IOe);function MOe(e){var t=e.className,n=e.posterPlayButtonClassName,r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.type,s=e.title,l=e.context,c=e.imageWidth,u=e.imageHeight,d=e.imageUrl,p=e.beginsAt,h=e.endsAt,f=e.channelTitle,g=e.timeFormat,v=e.onPlayPress,m=tOe(o,l,{providerEntityID:i});return hv()("div",{className:t},void 0,hv()("div",{className:COe.a.channelInfoContainer},void 0,hv()("div",{className:COe.a.channelTitle},void 0,f.substring(0,f.lastIndexOf(" ")))),hv()("div",{className:COe.a.cardContainer},void 0,hv()(zve,{playButtonClassName:n,playCircleClassName:COe.a.posterPlayCircle,serverEntityID:r,providerEntityID:i,imageWidth:c,imageHeight:u,imageUrl:d,title:s,onPlayPress:v})),hv()("div",{className:COe.a.titlesContainer},void 0,hv()("div",{className:COe.a.titles},void 0,m.map(function(e,t){return hv()(NTe,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,component:e,isSecondary:t>0},t)}))),hv()("div",{className:COe.a.airTimeContainer},void 0,p&&h?xTe(p,h,{timeFormat:g,separator:"  "}):null))}MOe.defaultProps={className:COe.a.container};var DOe=MOe,wOe=64,POe=36;var TOe=Lm(function(){return Object(Iy.createSelector)(TTe,Qse(),PTe(),function(e,t,n){var r=Np,i=Gde(CL(t.type,t.subtype,r)===IL?wOe:POe,null,t.type,t.subtype,t,r);return{type:t.type,title:t.title,context:r,imageWidth:i.width,imageHeight:i.height,imageUrl:i.url,beginsAt:n&&n.beginsAt,endsAt:n&&n.endsAt,channelTitle:n&&n.channelTitle,timeFormat:e}})})(DOe),EOe=n(392),xOe=n.n(EOe);var OOe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.playerType,a=e.onPlayPress;return hv()("div",{className:xOe.a.container},void 0,hv()(RS,{className:xOe.a.underlay,onPress:a}),hv()(TOe,{className:xOe.a.metadataContainer,posterPlayButtonClassName:xOe.a.metadataPosterPlayButton,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:i,onPlayPress:a}))};var jOe=Lm(null,function(e,t){var n={playerType:t.playerType,serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPlayPress:function(){e(bMe(n))}}})(OOe),AOe=n(621),NOe=n.n(AOe);var kOe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.itemEntityIDs,i=e.playerType;return hv()("div",{className:NOe.a.container},void 0,hv()(vTe,{},void 0,hv()(hTe,{title:Object(Xn.default)("Airing Now")})),hv()(oT,{className:NOe.a.content,autoScroll:!0},void 0,r.map(function(e){return hv()(jOe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,playerType:i},e)})))};var LOe=Lm(function(){return Object(Iy.createSelector)(ioe(),JIe(),function(e,t){return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,itemEntityIDs:t.alsoAiring}})})(kOe),ROe=Xf.a.createElement;var _Oe,UOe=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},ioe(),loe(),function(e,t,n){return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:n?n.metadataItem:null,metadataListEntityID:e.metadataList}})})(function(e){var t=e.metadataListEntityID,n=e.hasLiveTVProtocol,r=e.hasGridFeature,i=wt()(e,["metadataListEntityID","hasLiveTVProtocol","hasGridFeature"]);return n?ROe(LOe,i):r?ROe(SOe,dv()({metadataListEntityID:t},i)):null}),zOe="ui/player/playerControls/togglePlayerOpenState",FOe=(Mt(zOe),Mt(zOe,function(e){return Object.assign({},e,{openState:Rne})})),BOe=Mt(zOe,function(e){return Object.assign({},e,{openState:_ne})}),HOe=((_Oe={})[zOe]=function(e,t){var n=t.playerType,r=t.openState,i=Lee(e,n);Object(No.a)(function(){i.set({previousOpenState:void 0,openState:r,isSettingsVisible:!1,isChaptersVisible:!1,isPlayQueueVisible:!1,isLyricsVisible:!1})})},_Oe);var VOe=function(){return Object(Iy.createSelector)(boe,poe,doe(),rX,function(e,t,n,r){var i=t===eoe&&kae({protocol:One,providerIdentifier:n,userFeatures:r}),a=e.some(function(e){var t=e.protocol,i=e.protocolCapabilities;return kae({protocol:t,protocolCapabilities:i,providerIdentifier:n,userFeatures:r})});return i||a})},QOe=n(622),WOe=n.n(QOe),GOe=Xf.a.createElement;function YOe(e){var t=e.className,n=e.isPrimary,r=wt()(e,["className","isPrimary"]);return GOe(Kz,dv()({},r,{className:(t||"")+" "+(n&&WOe.a.isPrimary||"")}))}YOe.defaultProps={className:WOe.a.playerButton};var KOe=YOe;function qOe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-collapse-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 448L28 196l56-56 196 196 196-196 56 56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}qOe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var ZOe=qOe;function XOe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-fullscreen-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M532.011 28H346.44l76.891 76.892L310.2 218.023l31.788 31.788 113.131-113.132 76.892 76.892V28zM28 532.011h185.572L136.68 455.12l113.131-113.131-31.788-31.788-113.131 113.131L28 346.44v185.571z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}XOe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var JOe=XOe;function $Oe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-windowed-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M224 336H38.428l76.892 76.892L2.189 526.023l31.788 31.788L147.108 444.68 224 521.572V336zm112-112h185.572l-76.892-76.892L557.811 33.977 526.023 2.189 412.892 115.32 336 38.428V224z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}$Oe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var eje=$Oe,tje=n(228),nje=n.n(tje),rje=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onRouteChange=function(){t.props.onCollapsePress()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){Object(J.c)("appModel").on("change:history",this.onRouteChange)},n.componentWillUnmount=function(){Object(J.c)("appModel").off("change:history",this.onRouteChange)},n.render=function(){var e=this.props,t=e.className,n=e.playerType,r=e.showRemotePlayer,i=e.hasFullscreen,a=e.isFullscreen,o=e.remotePlayerName,s=e.remotePlayerProduct,l=e.onCollapsePress,c=e.onCastMenuChange,u=e.onEnterFullscreenPress,d=e.onExitFullscreenPress;return hv()("div",{className:t},void 0,hv()("div",{},void 0,hv()(KOe,{className:nje.a.topButton,"data-qa-id":"minimizePlayerButton",iconComponent:ZOe,title:Object(Xn.default)("Minimize Player"),onPress:l}),o?hv()("span",{className:nje.a.remotePlayerName},void 0,Object(Xn.default)("Casting to {playerName}",{playerName:o})):null,o&&s?hv()("span",{className:nje.a.remotePlayerProduct},void 0,"(",s,")"):null),hv()("div",{},void 0,r?hv()(Goe,{className:nje.a.castButton,playerType:n,onMenuChange:c}):null,i&&a?hv()(KOe,{className:nje.a.topButton,"data-qa-id":"windowedButton",iconComponent:eje,title:Object(Xn.default)("Exit Fullscreen"),onPress:d}):null,i&&!a?hv()(KOe,{className:nje.a.topButton,"data-qa-id":"fullscreenButton",iconComponent:JOe,title:Object(Xn.default)("Enter Fullscreen"),onPress:u}):null))},t}(Xf.a.Component);rje.defaultProps={className:nje.a.topControls};var ije=rje,aje=Object(Iy.createSelector)(function(e){return e.remotePlayer?e.remotePlayer.friendlyName:null},function(e){return e.remotePlayer?e.remotePlayer.product:null},VOe(),function(e,t,n){return{remotePlayerName:e,remotePlayerProduct:t,showRemotePlayer:n}});var oje=Lm(aje,function(e,t){var n={playerType:t.playerType};return{onCollapsePress:function(t){e(BOe(n))}}})(ije),sje=n(487),lje=n.n(sje),cje=Xf.a.Component,uje=175,dje=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPress=function(e){r._cancelPlayPause(),r.setState(function(e){return{isPaused:!e.isPaused}}),r._playPauseTimeoutID=setTimeout(function(){r._playPauseTimeoutID=null,r.props.isPaused!==r.state.isPaused&&r.props.onTogglePlayPress(e)},uje)},r.onDoubleClick=function(e){r.props.onToggleFullscreen()},r.state={isPaused:t.isPaused},r._playPauseTimeoutID=null,r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){e.isPaused===this.state.isPaused||this._playPauseTimeoutID||this.setState({isPaused:e.isPaused})},n.componentWillUnmount=function(){this._cancelPlayPause()},n._cancelPlayPause=function(){this._playPauseTimeoutID&&(clearTimeout(this._playPauseTimeoutID),this._playPauseTimeoutID=null)},n.render=function(){var e=this.props.className,t=this.state.isPaused;return hv()(Pve,{className:(e||"")+" "+((t?lje.a.playButton:lje.a.pauseButton)||""),circleClassName:lje.a.playCircle,"aria-label":t?Object(Xn.default)("Play"):Object(Xn.default)("Pause"),onPress:this.onPress,onDoubleClick:this.onDoubleClick})},t}(cje);var pje=Lm(function(){return Object(Iy.createSelector)(ioe(),function(e){return{isPaused:e.isPaused}})},function(e,t){var n={playerType:t.playerType};return{onTogglePlayPress:function(t){e(ESe(n))}}})(dje),hje="playbackSpeed",fje=n(488),gje=n.n(fje);var vje=function(e){var t=e.bottom,n=e.children,r=e.onDimensionsChange;return hv()(Xwe,{className:gje.a.container,bottom:t,onDimensionsChange:r},void 0,hv()("div",{className:gje.a.title},void 0,Object(Xn.default)("Playback Settings")),hv()("div",{className:gje.a.menusContainer,"data-qa-id":"playbackSettingsContainer"},void 0,n))},mje=n(393),yje=n.n(mje);var bje=function(e){var t=e.label,n=e.children,r=e.isDisabled;return hv()("div",{className:(yje.a.row||"")+" "+(r&&yje.a.isDisabled||"")},void 0,hv()("div",{className:yje.a.label},void 0,t),hv()("div",{className:yje.a.cell},void 0,n))},Sje=n(987),Ije=n.n(Sje),Cje=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlaybackSpeedChange=function(e){var t=e.positionValue;r.setState({playbackSpeed:t},function(){r.props.onPlaybackSpeedChange(t)})},r.state={playbackSpeed:t.playbackSpeed},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){e.playbackSpeed!==this.props.playbackSpeed&&this.setState({playbackSpeed:e.playbackSpeed})},n.render=function(){var e=this.props,t=e.bottom,n=e.canSetPlaybackSpeed,r=e.playbackSpeed,i=e.playbackSpeedSetting,a=e.onDimensionsChange;return hv()(vje,{bottom:t,onDimensionsChange:a},void 0,n?hv()(bje,{label:Object(Xn.default)("Playback Speed")},void 0,hv()(AW,{className:Ije.a.slider,min:i.min,max:i.max,stepSize:i.step,value:this.state.playbackSpeed,onChange:this.onPlaybackSpeedChange}),_W(r)):null)},t}(Xf.a.Component);Cje.defaultProps={playbackSpeedSetting:{min:.5,max:2,step:.1}};var Mje=Cje;var Dje=iZ(function(){return Object(Iy.createSelector)(aoe("controllable"),gIe(),Object(Iy.createSelector)(uoe(),function(e){if(e){var t=C.a.findWhere(e.features,{type:ln});if(t){var n=C.a.findWhere(t.settings,{id:hje});if(n)return n}}}),function(e,t,n){return{canSetPlaybackSpeed:!e||!!e.playbackSpeed,playbackSpeed:t,playbackSpeedSetting:n}})},function(e,t){var n=t.playerType;return{onPlaybackSpeedChange:function(t){e(QSe({playerType:n,playbackSpeed:t}))}}})(Mje),wje=n(988),Pje=n.n(wje);function Tje(e){return hv()("div",{className:e.className},void 0,e.children)}Tje.defaultProps={className:Pje.a.bottomBar};var Eje=Tje,xje=n(989),Oje=n.n(xje);function jje(e){return hv()("div",{className:e.className},void 0,e.children)}jje.defaultProps={className:Oje.a.controlsContainer};var Aje=jje,Nje=Xf.a.createElement;var kje=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onVolumeChange=function(e){var t=r.state.volume,n=Math.round(Math.min(100,Math.max(0,t+e)));t!==n&&r.setState({volume:n},function(){r.props.onVolumeChange(r.state.volume)})},r.onVolumeIconPress=function(){var e=r.state.volume>0;e&&(r._lastVolume=r.state.volume),r.setState({volume:e?0:r._lastVolume||100},function(){r.props.onVolumeChange(r.state.volume)})},r.state={volume:t.volume},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.volume;t!==this.state.volume&&this.setState({volume:t})},n.render=function(){var e=this.props.component;return Nje(e,dv()({},this.props,this.state,{onVolumeChange:this.onVolumeChange,onVolumeIconPress:this.onVolumeIconPress}))},t}(Xf.a.Component),Lje=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(),vIe,function(e,t,n){var r,i,a,o=e.controllable,s=e.playQueue,l=s.currentIndex,c=t.subtype===Jn;return o?(i=!o.skipNext,r=!o.skipPrevious,a=!o.shuffle):(i=!e.repeatAll&&l>=e.playQueue.playQueueItems.length-1,r=!e.repeatAll&&l<=0&&e.positionSeconds<=Yne,a=!s.canShuffle),{metadataItemEntityID:t.metadataItem,providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,volume:n,activateChaptersButton:e.isChaptersVisible,activateLyricsButton:e.isLyricsVisible,activateQueueButton:e.isPlayQueueVisible,activateRepeatButton:e.repeatAll,activateRepeatOneButton:e.repeatOne,activateSettingsButton:e.isSettingsVisible,activateShuffleButton:s.playQueueShuffled,disableNextButton:i,disablePauseButton:!!o&&!o.playPause,disablePlayButton:!!o&&!o.playPause,disablePreviousButton:r,disableRepeatButton:!!o&&!o.repeat,disableRepeatOneButton:!!o&&!o.repeat,disableShuffleButton:a,disableSkipBackButton:!!o&&!o.seekTo,disableSkipForwardButton:!!o&&!o.seekTo,showCloseButton:!0,showNextButton:!0,showPauseButton:!e.isPaused,showPlayButton:e.isPaused,showPreviousButton:!0,showRepeatButton:!c&&!e.repeatOne,showRepeatOneButton:e.repeatOne,showVolume:!o||o.volume}})},function(e,t){var n={playerType:t.playerType};return{onEditPress:function(t){e(vde(t))},onFavoritePress:function(t){e(Ode(t))},onUnfavoritePress:function(t){e(jde(t))},onRepeatPress:function(){e(are(n))},onRepeatOnePress:function(){e(are(n))},onPreviousPress:function(){e(ere(n))},onNextPress:function(){e($ne(n))},onShufflePress:function(){e(rre(n))},onQueuePress:function(){e(lre(n))},onLyricsPress:function(){e(cre(n))},onSkipBackPress:function(){e(OSe(n))},onPlayPress:function(){e(KSe(n))},onPausePress:function(){e(qSe(n))},onSkipForwardPress:function(){e(jSe(n))},onSettingsPress:function(){e(LSe(n))},onChaptersPress:function(){e(RSe(n))},onVolumeChange:function(t){e(kSe(Object.assign({},n,{volume:t})))},onClosePress:function(){e(jre(n))}}},function(e,t,n){var r=e.metadataItemEntityID,i=e.providerEntityID;return Object.assign({},n,e,t,{onEditPress:function(){t.onPausePress(),t.onEditPress({metadataItemEntityID:r})},onFavoritePress:function(){t.onFavoritePress({metadataItemEntityID:r,providerEntityID:i})},onUnfavoritePress:function(){t.onUnfavoritePress({metadataItemEntityID:r,providerEntityID:i})}})})(kje),Rje=n(990),_je=n.n(Rje);function Uje(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}Uje.defaultProps={className:_je.a.container};var zje=Uje,Fje=n(489),Bje=n.n(Fje);function Hje(e){var t=e.skipDelaySeconds,n=e.positionSeconds,r=e.onSkipPress;if(null==t)return null;var i=t<=n;return hv()("div",{className:Bje.a.message},void 0,i?hv()(RS,{className:Bje.a.skipAdButton,onPress:r},void 0,Object(Xn.default)("Skip Ad")):Object(Xn.default)("You can skip this ad in {seconds} seconds",{seconds:t-n}))}var Vje=function(e){var t=e.className,n=e.skipDelaySeconds,r=e.positionSeconds,i=e.onSkipPress;return hv()(zje,{className:t},void 0,hv()("div",{className:Bje.a.message},void 0,Object(Xn.default)("Video will play after this advertisement")),hv()(Hje,{skipDelaySeconds:n,positionSeconds:r,onSkipPress:i}))},Qje=n(991),Wje=n.n(Qje),Gje=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTogglePress=function(){r.setState(function(e){return{isToggled:!e.isToggled}})},r.state={isToggled:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.durationSeconds,r=1e3*e.positionSeconds,i=1e3*n,a=i-r;return hv()(RS,{className:t,"data-qa-id":"mediaDuration",onPress:this.onTogglePress},void 0,this.state.isToggled?"-"+TL(a):TL(r)," / ",TL(i))},t}(Xf.a.Component);Gje.defaultProps={className:Wje.a.container};var Yje=Gje,Kje=n(623),qje=n.n(Kje);function Zje(e){var t=e.isTidal,n=e.isPreview,r=e.isLossless;return t&&(n||r)?hv()("div",{className:e.className},void 0,hv()("span",{className:qje.a.info},void 0,n?Object(Xn.default)("TIDAL Preview"):"HI-FI")):null}Zje.defaultProps={className:qje.a.infoContainer};var Xje=Zje;var Jje=Lm(function(){return Object(Iy.createSelector)(JSe(),Qse(),function(e,t){if(!t)return{};var n=t.Media[e?e.mediaIndex:0],r=!!n&&"flac"===n.audioCodec;return{isTidal:t.attribution===Ik,isPreview:!!t.preview,isLossless:r}})})(Xje),$je=n(323),eAe=n.n($je);function tAe(e){var t=e.className,n=e.playerType,r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.type,s=e.subtype,l=e.positionSeconds,c=e.context,u=e.showStarRating,d=e.hasUserRating,p=e.isUnknownAiring,h=e.showDuration,f=e.durationSeconds;if(p)return hv()("div",{className:t},void 0,Object(Xn.default)("Unknown Airing"));if(!a||!o)return null;var g=tOe(o,c,{subtype:s,providerEntityID:i});return hv()("div",{className:(t||"")+" "+(u&&d&&eAe.a.hasUserRating||"")},void 0,g.map(function(e,t){return hv()(NTe,{playerType:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,positionSeconds:l,component:e,isSecondary:t>0},t)}),h&&f&&null!=l?hv()(Yje,{className:eAe.a.durationContainer,durationSeconds:f,positionSeconds:l,"data-qa-id":"mediaDuration"}):null,hv()(Jje,{className:eAe.a.mediaInfoContainer,playerType:n,metadataItemEntityID:a}),u?hv()($xe,{className:eAe.a.ratingContainer,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a}):null)}tAe.defaultProps={className:eAe.a.container};var nAe=tAe;var rAe=Lm(function(){return Object(Iy.createSelector)(ioe(),Qse(),function(e,t){return void 0===t&&(t={}),{serverEntityID:t.serverEntityID||e.serverEntityID,providerEntityID:t.providerEntityID||e.providerEntityID,type:t.type,subtype:t.subtype,context:jp,hasUserRating:null!=t.userRating}})})(nAe);rAe.propTypes=Object.assign({},rAe.propTypes,{metadataItemEntityID:Dp.a.string,playerType:Dp.a.string.isRequired});var iAe=rAe;var aAe=Lm(function(){return Object(Iy.createSelector)(wEe(),function(e){return{metadataItemEntityID:e&&e.entityID,isUnknownAiring:!e}})})(iAe);aAe.propTypes=Object.assign({},aAe.propTypes,{playerType:Dp.a.string.isRequired});var oAe,sAe=aAe,lAe=n(364),cAe=Ce.a.extend({name:"MediaSubscriptionHintModel",context:["server","provider"],syncedAttrs:{guid:Me.a.string,grandparentGuid:Me.a.string,title:Me.a.string,type:Me.a.string,subtype:Me.a.string,grandparentTitle:Me.a.string,index:Me.a.integer,parentIndex:Me.a.integer,year:Me.a.string,grandparentYear:Me.a.integer,originallyAvailableAt:Me.a.string,thumb:Me.a.string,parentThumb:Me.a.string,grandparentThumb:Me.a.string,ratingKey:Me.a.string,source:Me.a.string,parentTitle:Me.a.string,parentYear:Me.a.string}}),uAe=Ce.a.extend({name:"MediaSubscriptionTargetModel",context:["server","provider"],syncedRelations:{metadata:{relationClass:Qs.a,rootPropertyName:"Metadata",deferred:!0}}}),dAe=Ce.a.extend({name:"MediaSubscriptionModel",context:["server","provider"],entityType:Er.f,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.key||this.cid,this.server.entityID())},idAttribute:"key",rootPropertyName:"MediaSubscription",urlRoot:"/media/subscriptions",mergeStrategy:In.a,syncedAttrs:{key:Me.a.string,type:Me.a.integer,provider:Me.a.string,targetLibrarySectionID:{type:Me.a.string,save:!0},targetSectionLocationID:{type:Me.a.string,save:!0},title:Me.a.string,selected:Me.a.boolean,parameters:Me.a.string,createdAt:Me.a.integer,storageTotal:Me.a.integer},syncedRelations:{hint:{relationClass:cAe,rootPropertyName:"Metadata",deferred:!0},target:{relationClass:uAe,rootPropertyName:"Target",deferred:!0},grabOperations:{relationClass:lAe.default,rootPropertyName:"MediaGrabOperation",deferred:!0},prefs:{relationClass:Nx.a,rootPropertyName:"Setting",deferred:!0,save:!0},timeline:{relationClass:Sv.default,rootPropertyName:"Timeline",deferred:!0}},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e){var t=e[this.rootPropertyName]||e,n=t.Timeline;return n&&(t.Timeline=n.Metadata),e},getSaveParams:function(){var e=Ce.a.prototype.getSaveParams.apply(this,arguments),t=e.Setting,n=wt()(e,["Setting"]);return Object.assign({prefs:t},n)}}),pAe=Ue.a.extend({name:"MediaSubscriptionTemplateCollection",context:["server","provider"],url:"/media/subscriptions/template",model:dAe,augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e){return e.SubscriptionTemplate}});function hAe(e,t){var n=e.server,r=C.a.result(e,"url"),i=n.getXHROptions(F.join([r,"move"],{after:t}),{type:"PUT"});return P.a.ajax(i).promise()}function fAe(e,t){return 401===e.status?Object(Xn.default)("You do not have permission to perform this action."):Vy(e,t)}var gAe=Mt("ui/modal/initMediaSubscriptionModal"),vAe=Mt("ui/modal/clearMediaSubscriptionModal"),mAe=Mt("ui/modal/fetchMediaSubscription"),yAe=Mt("ui/modal/saveMediaSubscription"),bAe=Mt("ui/modal/changeMediaSubscriptionTemplateMode"),SAe=(Mt("ui/modal/clearMediaSubscriptionModalError"),Mt("ui/modal/moveMediaSubscriptionModal")),IAe=Mt("ui/modal/deleteMediaSubscriptionModal");function CAe(e){return e.get("ui").get("mediaSubscriptionModal")}var MAe=Qx(((oAe={})["ui/modal/initMediaSubscriptionModal"]=function(e,t,n){var r=CAe(e);r.set("isMediaSubscriptionPending",!0);var i={};if(t.showConflicts&&(i.options={data:{includeGrabs:1}}),t.mediaSubscriptionEntityID)return r.set({mediaSubscription:xo(e,t)}),void n(mAe(i));var a=bo(e,t),o=To(e,t),s=o.get("grandparentSubscriptionID")||o.get("subscriptionID");if(s)return r.set({mediaSubscription:new dAe({key:s},{server:a})}),void n(mAe(i));var l=F.join("/media/subscriptions/template",{guid:o.get("guid")}),c=a.getXHROptions(l);P.a.ajax(c).then(function(e){var t=new pAe(e,{parse:!0,server:a}),n=t.findWhere({selected:!0});r.set({isMediaSubscriptionPending:!1,isMediaSubscriptionPopulated:!0,mediaSubscriptionError:null,templates:t,mediaSubscription:n})},function(e){var t=fAe(e,Object(Xn.default)("There was an unexpected error"));r.set({isMediaSubscriptionPending:!1,mediaSubscriptionError:t})})},oAe["ui/modal/clearMediaSubscriptionModal"]=function(e){CAe(e).restoreDefaults()},oAe["ui/modal/fetchMediaSubscription"]=Ki({key:"mediaSubscription",getModel:CAe}),oAe["ui/modal/saveMediaSubscription"]=function(e,t){var n=CAe(e),r=bo(e,t),i=n.get("mediaSubscription"),a=t.targetLibrarySectionID,o=t.targetSectionLocationID,s=void 0===o?null:o,l=t.prefs;Object(No.a)(function(){n.set({isMediaSubscriptionSaving:!0,mediaSubscriptionSaveError:null})});var c=i.get("key"),u=i.getSaveParams(),d=P.a.extend(!0,{},u,{includeGrabs:1,targetLibrarySectionID:a,targetSectionLocationID:s,prefs:l}),p=F.join(C.a.result(i,"url"),d);if(!c){var h=Object(nr.r)(i.get("hint").get("type"));p=p+"&"+i.get("parameters")+"&type="+h.id}var f=r.getXHROptions(p,{type:c?"PUT":"POST"});P.a.ajax(f).then(function(r){if(i.set(i.parse(r)),n.set({isMediaSubscriptionSaving:!1}),t.metadataItemEntityID){var a=To(e,t);if(a){var o,s=i.get("hint").get("type"),l=Object(nr.v)(s),c=l?"grandparentSubscriptionID":"subscriptionID",u=l?"grandparentSubscriptionType":"subscriptionType";a.set(((o={})[c]=i.id,o[u]=s,o))}}},function(e){var t=fAe(e,Object(Xn.default)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:t})})},oAe["ui/modal/changeMediaSubscriptionTemplateMode"]=function(e,t){var n=CAe(e),r=n.get("templates"),i=t.modeIndex;n.set("mediaSubscription",r.at(i))},oAe["ui/modal/clearMediaSubscriptionModalError"]=function(e,t){CAe(e).set({mediaSubscriptionSaveError:null,mediaSubscriptionError:null,mediaSubscriptionMoveError:null,mediaSubscriptionDeleteError:null})},oAe["ui/modal/moveMediaSubscriptionModal"]=function(e,t){var n=CAe(e),r=n.get("mediaSubscription");Object(No.a)(function(){n.set({isMediaSubscriptionMoving:!0,mediaSubscriptionMoveError:null})}),hAe(r).then(function(){n.set({isMediaSubscriptionMoving:!1})},function(e){var t=fAe(e,Object(Xn.default)("There was a problem saving your changes. Please try again."));n.set({isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:t})})},oAe["ui/modal/deleteMediaSubscriptionModal"]=function(e,t,n){var r=CAe(e),i=r.get("mediaSubscription"),a=t.metadataItemEntityID;Object(No.a)(function(){r.set({isMediaSubscriptionDeleting:!0,mediaSubscriptionDeleteError:null})}),function(e,t){var n=void 0===t?{}:t,r=n.appModel,i=n.metadataItemEntityID,a=e.get("key"),o=e.destroy({wait:!0});return i&&(o=o.then(function(){if(i){var e=To(r,{metadataItemEntityID:i});e.get("subscriptionID")===a?(e.unset("subscriptionID"),e.unset("subscriptionType")):e.get("grandparentSubscriptionID")===a&&(e.unset("grandparentSubscriptionID"),e.unset("grandparentSubscriptionType"))}})),o}(i,{appModel:e,metadataItemEntityID:a}).then(function(){r.set({isMediaSubscriptionDeleting:!1})},function(e){var t=fAe(e,Object(Xn.default)("There was a problem with canceling this subscription. Please try again."));r.set({isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:t})})},oAe)),DAe=Object(Iy.createSelector)(function(e){return e.ui.mediaSubscriptionModal.mediaSubscription},Mie,function(e,t){return t[e]}),wAe=Object(Iy.createSelector)(function(e){return e.ui.mediaSubscriptionModal.templates},Mie,function(e,t){return void 0===e&&(e=[]),e.map(function(e){return t[e]})}),PAe=Xf.a.createElement,TAe=hv()(ZE.a,{});var EAe=function(e){return PAe(TK,e,TAe)};var xAe=function(e,t){var n,r;return t.length>1?(r=t.findIndex(function(e){return e.selected}),n=t.map(function(e,t){var n,r=e.title;return(n={})[t]=r,n})):(r=0,n=e.title?[{0:e.title}]:null),{initialMode:r,modes:n}};var OAe=function(e){var t=e.className,n=e.grandparentTitle;return hv()(ive,{className:t,title:n})};var jAe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{grandparentTitle:e.grandparentTitle}})})(OAe),AAe=n(624),NAe=n.n(AAe),kAe=Xf.a.createElement;var LAe=function(e){var t=e.component,n=e.isSecondary,r=wt()(e,["component","isSecondary"]);return kAe(t,dv()({className:n?NAe.a.secondaryTitle:NAe.a.title},r))},RAe=n(992),_Ae=n.n(RAe),UAe=Xf.a.createElement;var zAe=function(e){e.className;var t=e.type,n=wt()(e,["className","type"]),r=function(e){switch(e){case"movie":case"show":return[ave];case"episode":return[jAe,FEe];case"playlist":default:return[ave]}}(t);return hv()("div",{className:_Ae.a.container},void 0,r.map(function(e,t){return UAe(LAe,dv()({key:t,component:e,isSecondary:t>0},n))}))},FAe=Xf.a.createElement;var BAe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{type:e.type}})})(function(e){return FAe(zAe,e)});function HAe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 1040 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-series-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m692.44 113.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.427-8.706 16.197-18.05 23.22-27.921 7.981-11.218 14.995-23.12 20.937-35.54 5.493-11.483 10.07-23.405 13.662-35.616 3.45-11.718 5.996-23.7 7.615-35.808 3.366-25.18 2.733-50.894-1.896-75.872-2.033-10.968-4.835-21.794-8.381-32.37-3.723-11.11-8.266-21.937-13.577-32.378-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264m-412.44-13.13c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180m172.44 13.13c20.864-8.465 43.67-13.13 67.56-13.13 99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-23.887 0-46.693-4.663-67.56-13.13 8.26-8.534 15.889-17.677 22.802-27.334 8.154-11.39 15.31-23.492 21.355-36.13 5.494-11.482 10.07-23.403 13.662-35.614 3.45-11.718 5.997-23.701 7.615-35.809 3.366-25.18 2.732-50.893-1.896-75.871-2.033-10.968-4.835-21.793-8.38-32.369-3.724-11.11-8.267-21.937-13.578-32.379-6.233-12.253-13.523-23.967-21.757-34.975-6.107-8.164-12.733-15.939-19.823-23.264"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}HAe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var VAe=HAe;function QAe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-dvr-single-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 100c99.35 0 180 80.66 180 180 0 99.35-80.65 180-180 180-99.34 0-180-80.65-180-180 0-99.34 80.66-180 180-180"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}QAe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var WAe=QAe;var GAe=function(e){var t=e.className,n=e.type;return Object(nr.u)(n)?hv()(VAe,{className:t}):hv()(WAe,{className:t})},YAe=n(625),KAe=n.n(YAe),qAe=Xf.a.createElement;var ZAe=function(e){var t=e.component,n=e.isSecondary,r=wt()(e,["component","isSecondary"]);return qAe(t,dv()({className:n?KAe.a.secondaryTitle:KAe.a.title},r))},XAe=n(262),JAe=n.n(XAe),$Ae=Xf.a.createElement,eNe=130;function tNe(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.hint,i=e.target,a=e.useStaticHeight,o=e.children,s=e.showSubscriptionBadge,l=e.isDownload,c=r.type,u=r.subtype,d=i||r,p=d.thumb,h=d.grandparentThumb,f=c===nr.j,g=l&&f?i&&i.composite:h||p,v=l||c!==nr.j?c:nr.l;return hv()("div",{className:JAe.a.container},void 0,hv()("div",{className:JAe.a.left},void 0,hv()(rge,{serverEntityID:t,providerEntityID:n,component:yL,type:v,width:eNe,height:DL(eNe,v,u),url:g},void 0,s?hv()("div",{className:JAe.a.subscriptionBadge},void 0,hv()(GAe,{type:c})):null)),hv()("div",{className:JAe.a.right},void 0,hv()("div",{className:a?JAe.a.staticHeightTitleContainer:JAe.a.titleContainer},void 0,function(e){switch(e){case nr.g:case nr.l:return[ive];case nr.e:return[OAe,zEe];case nr.j:default:return[ive]}}(c).map(function(e,t){return $Ae(ZAe,dv()({key:t,component:e,isSecondary:t>0},r))})),o))}tNe.defaultProps={useStaticHeight:!1};var nNe=tNe,rNe=n(626),iNe=n.n(rNe),aNe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){(e.isMediaSubscriptionMoving&&!this.props.isMediaSubscriptionMoving&&null==this.props.mediaSubscriptionMoveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()},n.render=function(){var e=this.props,t=e.isRecordingSchedule,n=e.isMediaSubscriptionDeleting,r=e.mediaSubscriptionDeleteError,i=e.isMediaSubscriptionMoving,o=e.mediaSubscriptionMoveError,s=e.serverEntityID,l=e.providerEntityID,c=e.server,u=e.provider,d=e.sourceDirectory,p=e.hint,h=e.conflicts,f=e.onDelete,g=e.onMediaMove,v=e.onModalClose,m=o||r;return hv()(qN,{onModalClose:v},void 0,hv()(PN,{},void 0,Object(Xn.default)("Conflict Detected")),m?hv()(FV,{errorMessage:m}):null,hv()(CN,{autoScroll:!0},void 0,hv()(nNe,{serverEntityID:s,providerEntityID:l,hint:p},void 0,hv()("div",{className:iNe.a.message},void 0,1===h.length?Object(Xn.default)("Conflicts with 1 recording"):Object(Xn.default)("Conflicts with {conflictCount} recordings",{conflictCount:h.length})),hv()("div",{className:iNe.a.conflicts},void 0,h.map(function(e,t){var n=e.metadataItem;return hv()(BAe,{metadataItemEntityID:n},t)})))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(_V,{isSpinning:n,kind:a.DANGER,onPress:f},void 0,Object(Xn.default)("Cancel This")),hv()(_V,{isSpinning:i,kind:a.PRIMARY,onPress:g},void 0,Object(Xn.default)("Prefer This")),t?hv()(I_,{kind:a.PRIMARY,onPress:v},void 0,Object(Xn.default)("Close")):hv()(I_,{kind:a.PRIMARY,to:gr(pr.RECORDING_SCHEDULE,c,u,d)},void 0,Object(Xn.default)("Manage")))))},t}(Xf.a.Component);aNe.defaultProps={conflicts:[]};var oNe=aNe,sNe=n(993),lNe=n.n(sNe);var cNe=function(){return hv()("div",{className:lNe.a.cancelConfirmationMessage},void 0,hv()("div",{},void 0,Object(Xn.default)("Are you sure you want to cancel this recording?")),hv()("div",{},void 0,Object(Xn.default)("This will cancel any future scheduled recordings and stop any recordings already in progress.")))};function uNe(e){var t=e.className,n=e.children,r=wt()(e,["className","children"]);return hv()("div",{className:t,style:r},void 0,n)}uNe.defaultProps={flexGrow:1,flexShrink:0};var dNe=uNe,pNe=n(994),hNe=n.n(pNe);function fNe(e){var t=e.className,n=e.children,r=wt()(e,["className","children"]);return hv()("div",{className:(hNe.a.grid||"")+" "+(t||""),style:r},void 0,n)}fNe.defaultProps={flexDirection:"row",justifyContent:"space-between",alignItems:"center",alignContent:"center"};var gNe=fNe,vNe=Xf.a.createElement;var mNe=$Q(function(e){var t=e.name,n=(e.initialValue,e.labelText),r=(e.showErrors,e.errors,e.validations,wt()(e,["name","initialValue","labelText","showErrors","errors","validations"]));return hv()("div",{},void 0,hv()(k_,{name:t},void 0,n),vNe(EV,dv()({name:t,size:qp.SMALL},r)))});var yNe=function(e){var t=e.libraries,n=e.targetLibrarySectionID,r=e.targetSectionLocationID,i=function(e,t){var n=e.find(function(e){return e.librarySectionID===t});return n?n.locations.map(function(e){var t,n=e.id,r=e.path;return(t={})[n]=r,t}):[]}(t,e.selectedLibrarySectionID),a=function(e,t){return null!=e&&t.some(function(t){return t.hasOwnProperty(e)})}(r,i)?r:function(e){var t=e[0];if(t)return t[Object.keys(t)[0]]}(i);return hv()(gNe,{flexWrap:"wrap"},void 0,hv()(dNe,{flexBasis:230,maxWidth:230},void 0,hv()(mNe,{labelText:Object(Xn.default)("Add to Library"),name:"targetLibrarySectionID",initialValue:n,size:qp.SMALL,values:t.map(function(e,t){var n,r=e.title;return(n={})[e.librarySectionID]=r,n})})),hv()(dNe,{flexBasis:230,maxWidth:230},void 0,i.length>1?hv()(mNe,{labelText:Object(Xn.default)("Location"),name:"targetSectionLocationID",size:qp.SMALL,initialValue:a,values:i}):null))};var bNe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.hint,i=e.target,a=e.initialMode,o=e.isDownload,s=e.modes,l=e.libraries,c=e.targetLibrarySectionID,u=e.targetSectionLocationID,d=e.selectedLibrarySectionID,p=e.prefs,h=p&&p.onlyNewAirings,f=r.type===nr.e||r.type===nr.l||r.type===nr.j;return hv()(nNe,{serverEntityID:t,providerEntityID:n,hint:r,isDownload:o,showSubscriptionBadge:!o,target:i,useStaticHeight:f},void 0,hv()(gNe,{flexWrap:"wrap"},void 0,hv()(dNe,{flexBasis:230,maxWidth:230},void 0,s?hv()(mNe,{labelText:o?Object(Xn.default)("Download"):Object(Xn.default)("Record"),name:"mode",initialValue:a,values:s,isDisabled:s.length<2}):null),hv()(dNe,{flexBasis:230,maxWidth:230},void 0,h?hv()(mNe,{name:h.id,labelText:h.label,initialValue:h.value,values:h.enumValues.map(function(e){var t,n=e.label;return(t={})[e.value]=n,t})}):null)),!o&&l&&l.length?hv()(yNe,{libraries:l,targetLibrarySectionID:c,targetSectionLocationID:u,selectedLibrarySectionID:d}):null)},SNe=n(195),INe=n.n(SNe),CNe=Xf.a.createElement,MNe=Xf.a.Component,DNe=hv()(cNe,{}),wNe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAdvancedPress=function(){r.setState({isAdvanced:!r.state.isAdvanced})},r.onCancelPress=function(){r.setState({showCancelConfirmation:!0})},r.onBackPress=function(){r.setState({showCancelConfirmation:!1})},r.onFormChange=function(e){if(r.props.showLibraries){if(!e.targetLibrarySectionID)return;e.targetLibrarySectionID.value!==r.state.selectedLibrarySectionID&&r.setState({selectedLibrarySectionID:e.targetLibrarySectionID.value})}if(e.mode&&e.mode.value!==r.state.selectedMode){var t=e.mode.value;r.setState({selectedMode:t}),r.props.onModeChange(t)}},r.state={selectedLibrarySectionID:t.targetLibrarySectionID,selectedMode:t.initialMode,isAdvanced:!1,showCancelConfirmation:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){(e.isMediaSubscriptionSaving&&!this.props.isMediaSubscriptionSaving&&null==this.props.mediaSubscriptionSaveError||e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError)&&this.props.onModalClose()},n.render=function(){var e=this.props,t=e.mediaSubscriptionKey,n=e.isMediaSubscriptionSaving,r=e.mediaSubscriptionSaveError,i=e.isMediaSubscriptionDeleting,o=e.mediaSubscriptionDeleteError,s=e.prefGroups,l=e.onModalClose,c=e.onSubmit,u=e.onDelete,d=wt()(e,["mediaSubscriptionKey","isMediaSubscriptionSaving","mediaSubscriptionSaveError","isMediaSubscriptionDeleting","mediaSubscriptionDeleteError","prefGroups","onModalClose","onSubmit","onDelete"]),p=this.state,h=p.isAdvanced,f=p.showCancelConfirmation,g=f&&INe.a.cancelConfirmation||h&&INe.a.advancedForm||INe.a.baseForm,v=!!s.advanced,m=r||o;return hv()(x_,{className:g,onChange:this.onFormChange,onSubmit:c},void 0,hv()(qN,{onModalClose:l},void 0,hv()(PN,{},void 0,f?Object(Xn.default)("Cancel Recording"):Object(Xn.default)("Record Options")),m?hv()(FV,{errorMessage:m}):null,hv()(CN,{},void 0,hv()("div",{className:INe.a.baseSettings},"base",CNe(bNe,dv()({selectedLibrarySectionID:this.state.selectedLibrarySectionID,prefs:s.basic},d))),v?hv()("div",{className:INe.a.advancedSettings},"advanced",CNe(Eie,dv()({prefs:s.advanced},d))):null,f?DNe:null),hv()(Q_,{className:f?INe.a.cancelConfirmationFooter:INe.a.footer},void 0,f?null:hv()(q_,{},void 0,v?hv()(RS,{kind:a.PRIMARY,onPress:this.onAdvancedPress},void 0,hv()(MK,{className:INe.a.advancedIcon}),h?Object(Xn.default)("Show Basic"):Object(Xn.default)("Show Advanced")):null),f?hv()(q_,{},void 0,hv()(I_,{onPress:this.onBackPress},void 0,Object(Xn.default)("Back")),hv()(_V,{isSpinning:i,kind:a.DANGER,onPress:u},void 0,Object(Xn.default)("Yes"))):hv()(q_,{},void 0,t?hv()(I_,{kind:a.DANGER,onPress:this.onCancelPress},void 0,Object(Xn.default)("Cancel Recording")):hv()(I_,{kind:a.DEFAULT,onPress:l},void 0,Object(Xn.default)("Cancel")),hv()(_V,{type:"submit",isSpinning:n,kind:a.PRIMARY},void 0,t?Object(Xn.default)("Save"):Object(Xn.default)("Record"))))))},t}(MNe),PNe=n(627),TNe=n.n(PNe),ENe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e,t){e.isMediaSubscriptionDeleting&&!this.props.isMediaSubscriptionDeleting&&null==this.props.mediaSubscriptionDeleteError&&this.props.onModalClose()},n.render=function(){var e,t=this.props,n=t.serverEntityID,r=t.providerEntityID,i=t.mediaSubscriptionKey,o=t.hint,s=t.metadataType,l=t.isMediaSubscriptionDeleting,c=t.mediaSubscriptionDeleteError,u=t.canAddLibrary,d=t.onCreatePress,p=t.onModalClose,h=t.onDelete,f=Object(nr.t)(s).typeString,g=Cl.get(f).title,v=u?Object(Xn.default)("This recording cannot be scheduled because you dont yet have a library for {type}.",{type:g}):Object(Xn.default)("This recording cannot be scheduled because there is no library for {type}.",{type:g});return e=u?i?Object(Xn.default)("Please create a library or cancel the recording."):Object(Xn.default)("Please try recording again after you have created your library."):Object(Xn.default)("Please ask the server owner to create the library or cancel the recording."),hv()(qN,{onModalClose:p},void 0,hv()(PN,{},void 0,Object(Xn.default)("Record Options")),c?hv()(FV,{errorMessage:c}):null,hv()(CN,{},void 0,hv()(nNe,{serverEntityID:n,providerEntityID:r,hint:o},void 0,hv()("div",{className:TNe.a.errorMessage},void 0,Object(Xn.default)("{type} Library Required",{type:g})),hv()("p",{},void 0,v),hv()("p",{},void 0,e),u?hv()(RS,{kind:a.PRIMARY,onPress:d},void 0,hv()(bK,{className:TNe.a.addIcon})," ",Object(Xn.default)("Create Library")):null)),hv()(Q_,{},void 0,hv()(q_,{},void 0,i?hv()(_V,{isSpinning:l,kind:a.DANGER,onPress:h},void 0,Object(Xn.default)("Cancel Recording")):null,hv()(I_,{onPress:p},void 0,Object(Xn.default)("Cancel")))))},t}(Xf.a.Component),xNe=Xf.a.createElement,ONe=Xf.a.Component;function jNe(){return Object(Iy.createSelector)(function(e,t){return t.subscriptionType},function(e){return"playlist"===e?"show":e})}var ANe={dispatchFetchLibraries:gc,dispatchAddLibrary:jA,dispatchInitMediaSubscriptionModal:gAe,dispatchClearMediaSubscriptionModal:vAe,dispatchSaveMediaSubscription:yAe,dispatchChangeMediaSubscriptionTemplateMode:bAe,dispatchMoveMediaSubscriptionModal:SAe,dispatchDeleteMediaSubscriptionModal:IAe},NNe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSubmit=function(e){var t=r.props,n=t.serverEntityID,i=t.metadataItemEntityID,a=e.targetLibrarySectionID,o=e.targetSectionLocationID,s=(e.mode,wt()(e,["targetLibrarySectionID","targetSectionLocationID","mode"]));r.props.dispatchSaveMediaSubscription({serverEntityID:n,metadataItemEntityID:i,targetLibrarySectionID:a,targetSectionLocationID:o,prefs:s})},r.onDelete=function(){r.props.dispatchDeleteMediaSubscriptionModal({metadataItemEntityID:r.props.metadataItemEntityID})},r.onModeChange=function(e){Object(No.a)(function(){r.props.dispatchChangeMediaSubscriptionTemplateMode({modeIndex:e})})},r.onMediaMove=function(){r.props.dispatchMoveMediaSubscriptionModal()},r.onCreatePress=function(){var e=r.props,t=e.metadataType,n=e.serverEntityID,i=Object(nr.t)(t).typeString,a=Cl.get(i);r.props.onModalClose(),r.props.dispatchAddLibrary({serverEntityID:n,options:{redirect:!1,seedAttrs:{type:a.typeString,title:a.title,language:a.defaultLanguage}}})},r.state={showConflicts:t.showConflicts},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._populate()},n.componentWillReceiveProps=function(e){var t=this.state.showConflicts;this.props.isMediaSubscriptionSaving&&!e.isMediaSubscriptionSaving&&e.conflicts&&e.conflicts.length&&(t=!0),t!==this.state.showConflicts&&this.setState({showConflicts:t});var n=this.props.metadataItemEntityID!==e.metadataItemEntityID,r=this.props.mediaSubscriptionEntityID!==e.mediaSubscriptionEntityID;(n||r)&&this._populate(e)},n.componentWillUnmount=function(){this.props.dispatchClearMediaSubscriptionModal()},n._populate=function(e){void 0===e&&(e=this.props);var t=e,n=t.serverEntityID,r=t.mediaSubscriptionEntityID,i=t.metadataItemEntityID,a=t.showConflicts;Object(No.a)(function(){e.dispatchFetchLibraries({serverEntityID:n}),e.dispatchInitMediaSubscriptionModal({serverEntityID:n,mediaSubscriptionEntityID:r,metadataItemEntityID:i,showConflicts:a})})},n.render=function(){var e=this.props,t=e.libraries,n=e.isLibrariesLoading,r=e.hasLibrariesError,i=e.isMediaSubscriptionPending,a=e.isMediaSubscriptionPopulated,o=e.mediaSubscriptionError,s=e.showLibraries,l=e.onModalClose;return o?hv()(AK,{message:o,onModalClose:l}):r?hv()(AK,{message:Object(Xn.default)("There was an unexpected error loading libraries."),onModalClose:l}):i||!a||n?hv()(EAe,{onModalClose:l}):s&&t&&!t.length?xNe(ENe,dv()({},this.props,{onCreatePress:this.onCreatePress,onDelete:this.onDelete})):this.state.showConflicts?xNe(oNe,dv()({},this.props,{onDelete:this.onDelete,onMediaMove:this.onMediaMove})):xNe(wNe,dv()({},this.props,{onModeChange:this.onModeChange,onSubmit:this.onSubmit,onDelete:this.onDelete}))},t}(ONe);NNe.defaultProps={showConflicts:!1,showLibraries:!0};var kNe=Lm(function(){return Object(Iy.createSelector)(Dy(),Hk(),function(e){return e.ui.mediaSubscriptionModal},DAe,wAe,jNe(),Object(Iy.createSelector)(zq(),jNe(),function(e,t){var n=Object(nr.t)(t);return e.filter(function(e){return Object(nr.r)(e.type).id===n.id}).map(function(e){return{librarySectionID:e.key,locations:e.locations,title:e.title}})}),function(e,t,n,r,i,a,o){void 0===r&&(r={});var s,l=C.a.omit(n,"templates","mediaSubscription"),c=r,u=c.key,d=c.grabOperations,p=void 0===d?[]:d,h=c.prefs,f=wt()(c,["key","grabOperations","prefs"]),g=e.isFullOwnedServer,v=xAe(r,i),m=v.initialMode,y=v.modes;p.length&&(s=p.reduce(function(e,t){return t.conflicts&&t.conflicts.length?e.concat(t.conflicts):e},[]));var b=wie(h),S=ir(t),I=S?S.directories[0]:null,M=e&&e.desktop||{};return Object.assign({mediaSubscriptionKey:u,prefGroups:b,metadataType:a,libraries:o,isLibrariesLoading:!M.isLibrariesPopulated||M.isLibrariesPending,hasLibrariesError:!!M.librariesError,initialMode:m,modes:y,conflicts:s,server:e,provider:t,canAddLibrary:g,sourceDirectory:I},l,f)})},ANe)(NNe),LNe=Xf.a.createElement;var RNe=function(e){var t=e.isOpen,n=e.metricsProperties,r=e.onModalClose,i=wt()(e,["isOpen","metricsProperties","onModalClose"]);return hv()(VN,{isOpen:t,metricsPage:Wa,metricsProperties:n,onModalClose:r},void 0,LNe(kNe,dv()({},i,{onModalClose:r})))};var _Ne=function(){return Object(Iy.createSelector)(vV(),Qse(),function(e,t){return C.a.find(e,function(e){return e.type===Tx&&e.Context.itemKey&&e.Context.itemKey===t.key})})};function UNe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-record-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["circle",{cx:"280",cy:"280",r:"196"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}UNe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var zNe=UNe,FNe=n(324),BNe=n.n(FNe),HNe=parseInt(yQ.a.playerIconButtonSize,10);var VNe=function(e){var t=e.isRecording,n=e.recordingProgress,r=e.onPress;return hv()("div",{className:BNe.a.recordButton},void 0,hv()(KOe,{className:t?BNe.a.playerButtonRecording:BNe.a.playerButton,iconComponent:zNe,"data-qa-id":"recordButton",title:Object(Xn.default)("Record"),onPress:r}),t?hv()(UQ,{size:HNe,containerClassName:BNe.a.recordingProgressBarContainer,backgroundClassName:BNe.a.recordingProgressBackground,lineWidth:2,progress:n,showProgressText:!1}):null)};var QNe=Lm(function(){return Object(Iy.createSelector)(_Ne(),function(e){return{isRecording:!!e,recordingProgress:e&&e.progress}})})(VNe),WNe=n(995),GNe=n.n(WNe),YNe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRecordPress=function(e){r.setState({isSubscribeModalOpen:!0})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1})},r.state={isSubscribeModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.type;return r&&i?hv()("div",{className:GNe.a.recordButtonContainer},void 0,hv()(QNe,{serverEntityID:t,metadataItemEntityID:r,type:i,onPress:this.onRecordPress}),hv()(RNe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,isOpen:this.state.isSubscribeModalOpen,subscriptionType:i,onModalClose:this.onSubscribeModalClose})):null},t}(Xf.a.Component);var KNe,qNe=Lm(function(){return Object(Iy.createSelector)(wEe(),function(e){void 0===e&&(e={});var t=e;return{metadataItemEntityID:t.entityID,type:t.type}})})(YNe);function ZNe(e,t){var n=e.type,r=e.subtype,i=e.viewCount,a=e.viewOffset,o=e.saved;if(null!=o&&!o)return!1;var s=n===nr.m&&r===$n,l=n===nr.e&&r===er;return(s||l||function(e,t){var n=e.isLibraryItem,r=e.isFolder,i=e.isExtra;return n&&!r&&!i&&t.mediaType===ed.d}(e,t))&&!i&&!a}function XNe(e,t){var n=e.type,r=e.subtype,i=e.saved,a=e.unviewedLeafCount,o=e.isLibraryItem,s=e.isExtra;if(null!=i&&!i)return!1;var l=o&&!s&&nr.u(n)&&t.mediaType===ed.d,c=n===nr.l&&(r===$n||r===er);return(l||c)&&!!a}function JNe(e){var t=e.type,n=e.isLibraryItem,r=e.isExtra,i=e.Media,a=Object(nr.r)(t);if(!a)return!1;var o=i.length;return n&&!r&&a.mediaType===ed.d&&o>1}var $Ne=Xf.a.createElement,eke=Xf.a.Component,tke=((KNe={})[16]=!0,KNe[17]=!0,KNe[91]=!0,KNe[93]=!0,KNe[224]=!0,KNe);var nke=function(e){var t=function(t){function n(e,n){var r;return(r=t.call(this,e,n)||this).onKeyDown=function(e){var t=r.state.pressedModifierKeys;tke[e.which]&&-1===t.indexOf(e.which)&&r.setState({pressedModifierKeys:t.concat(e.which)})},r.onKeyUp=function(e){var t=r.state.pressedModifierKeys,n=t.indexOf(e.which);n>-1&&r.setState({pressedModifierKeys:t.slice(0,n).concat(t.slice(n+1))})},r.onMouseDown=function(e){r._isMouseDown=!0},r.onMouseUp=function(e){r._isMouseDown=!1},r.onFocusChange=function(e){r.state.pressedModifierKeys.length&&r.setState({pressedModifierKeys:[]}),r._isMouseDown=!1},r.onMouseEnter=function(e){var t=r.props,n=t.selectionType,i=t.activeSelectionType;r._isMouseDown&&i&&i===n&&r.onSelectPress(e)},r.onSelectPress=function(e){var t=r.props,n=t.selectionID,i=t.selectionType,a=t.isSelected,o=t.onSelectItem;a||o({id:n,type:i,isRangeSelect:e.shiftKey})},r.onDeselectPress=function(e){var t=r.props,n=t.selectionID,i=t.isSelected,a=t.onDeselectItem;i&&a({id:n})},r.state={pressedModifierKeys:[]},r}Sy()(n,t);var r=n.prototype;return r.componentDidMount=function(){document.addEventListener("keydown",this.onKeyDown),document.addEventListener("keyup",this.onKeyUp),document.addEventListener("mousedown",this.onMouseDown),document.addEventListener("mouseup",this.onMouseUp),document.addEventListener("dragstart",this.onFocusChange),document.addEventListener("contextmenu",this.onFocusChange),window.addEventListener("blur",this.onFocusChange)},r.shouldComponentUpdate=function(e,t){return ES(this,e,t)},r.componentWillUnmount=function(){document.removeEventListener("keydown",this.onKeyDown),document.removeEventListener("keyup",this.onKeyUp),document.removeEventListener("mousedown",this.onMouseDown),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("dragstart",this.onFocusChange),document.removeEventListener("contextmenu",this.onFocusChange),window.removeEventListener("blur",this.onFocusChange)},r.render=function(){var t=this.props,n=t.selectionType,r=t.activeSelectionType,i=t.isSelected,a=wt()(t,["selectionType","activeSelectionType","isSelected"]),o=this.state.pressedModifierKeys,s=!!r;return $Ne(e,dv()({hasActiveSelection:s,isSelected:i,isOtherItemSelected:s&&!i,isConflictingTypeSelected:s&&r!==n,isModifierKeyPressed:o.length>0,onMouseEnter:this.onMouseEnter,onSelectPress:this.onSelectPress,onDeselectPress:this.onDeselectPress},a))},n}(eke);return t.displayName="Selectable("+Object(vE.a)(e)+")",t.WrappedComponent=e,t.defaultProps={disableSelection:!1},t};var rke=n(490),ike=n.n(rke),ake=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={progress:t.progress},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.setState({progress:e.progress})},n.render=function(){var e=this.props.className,t=this.state.progress;return hv()("div",{className:e},void 0,hv()("div",{className:ike.a.progressTrack}),hv()("div",{style:{transform:"translate3d(-"+(100-t)+"%, 0, 0)"},className:ike.a.progressBar}))},t}(Xf.a.Component);ake.defaultProps={progress:ike.a.progress};var oke=ake,ske=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).tick=function(){r.setState(r.getState(r.props)),r.setTickTimeout()},r.state=r.getState(t),r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.setTickTimeout()},n.componentWillReceiveProps=function(e,t){this.setState(this.getState(e))},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this.tickTimeout&&clearTimeout(this.tickTimeout)},n.getState=function(e){var t,n,r,i=e.beginsAt,a=e.endsAt;return{progress:(t=i,n=a,r=Date.now()/1e3,hk(r-t,n-t))}},n.setTickTimeout=function(){this.tickTimeout=setTimeout(this.tick,6e4-Date.now()%6e4)},n.render=function(){var e=this.props.className,t=this.state.progress;return t?hv()(oke,{className:e,progress:t}):null},t}(Xf.a.Component),lke=n(99),cke=n.n(lke),uke=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRecordPress=function(e){r.setState({isSubscribeModalOpen:!0})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1})},r.state={isSubscribeModalOpen:!1},r._moreButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID,a=e.route,o=e.type,s=e.title,l=e.subscriptionType,c=e.isSubscribed,u=e.showLink,d=e.beginsAt,p=e.endsAt,h=e.showPlay,f=e.showRecord,g=e.onPlayLiveTVPress,v=this.state.isSubscribeModalOpen;return hv()("div",{className:(t||"")+" "+(cke.a.overlay||"")},void 0,hv()("div",{className:cke.a.background}),c?hv()("div",{className:cke.a.subscriptionBadge},void 0,hv()(GAe,{type:l})):null,u?hv()(RS,{className:cke.a.link,to:a}):null,hv()(ske,{className:cke.a.progress,beginsAt:d,endsAt:p}),h?hv()(Pve,{className:u?cke.a.playButton:cke.a.playCoverButton,circleClassName:cke.a.playCircle,tabIndex:"-1",title:s,"data-qa-id":"metadataPosterPlayButton",onPress:g}):null,!h&&f?hv()(Lve,{className:u?cke.a.recordButton:cke.a.recordCoverButton,"data-qa-id":"metadataPosterRecordButton",circleClassName:cke.a.recordCircle,iconClassName:cke.a.recordIcon,tabIndex:"-1",title:s,onPress:this.onRecordPress}):null,h&&f?hv()(Lve,{className:cke.a.recordButtonBottom,"data-qa-id":"metadataPosterRecordButton",circleClassName:cke.a.recordCircleBottom,iconClassName:cke.a.recordIconBottom,tabIndex:"-1",title:s,onPress:this.onRecordPress}):null,hv()(RNe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:v,subscriptionType:o,onModalClose:this.onSubscribeModalClose}))},t}(Xf.a.Component);function dke(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-arrow-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 406l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}dke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var pke=dke,hke=n(263),fke=n.n(hke);function gke(e){var t,n=e.className,r=e.isDisabled,i=e.showIndeterminate,a=e.lineWidth,o=e.progress,s=e.arrowSize,l=e.shadowWidth,c=e.showShadow,u=e.size,d=null!=o&&o>=0,p=s+"px",h=i?DF.a.primaryColor:DF.a.selectedColor;t=r?DF.a.defaultLinkDisabledLinkColor:d||i?DF.a.dimColor:"currentColor";var f={fontSize:p};if(c){var g=u+2*l;f.width=g+"px",f.height=g+"px",f.borderRadius=g/2+"px"}else f.width=u+a+"px",f.height=u+a+"px";var v=d?void 0:0;return hv()("div",{className:(n||"")+" "+(d&&fke.a.isDownloading||"")+" "+(i&&fke.a.showIndeterminate||"")+" "+(c&&fke.a.hasShadow||""),style:f},void 0,hv()(pke,{className:fke.a.arrowIcon}),hv()(jQ,{containerClassName:fke.a.progressBarContainer,lineWidth:a,progress:d?o:0,showIndeterminate:i,showProgressText:!1,size:u,smoothProgressDuration:v,strokeColor:h,trackColor:t}))}gke.defaultProps={className:fke.a.downloadIcon,size:18,arrowSize:19,lineWidth:1.3,showShadow:!1,shadowWidth:1};var vke=gke,mke=Xf.a.createElement;var yke=Lm(function(){return Object(Iy.createSelector)(Object(Iy.createSelector)(function(e,t){return t.source},function(e,t){return t.ratingKey},Ope(Tx),function(e,t,n){var r=n,i=Array.isArray(r),a=0;for(r=i?r:r[Symbol.iterator]();;){var o;if(i){if(a>=r.length)break;o=r[a++]}else{if((a=r.next()).done)break;o=a.value}var s=o,l=s.Context;if(l.itemRatingKey===t&&l.source===e&&s.progress>0)return Fpe(s.progress)}}),function(e){return{progress:e}})})(function(e){if(!e.hasOfflineFile&&!e.hasOwnSubscription&&void 0===e.progress)return null;e.hasOfflineFile,e.hasOwnSubscription,e.ratingKey,e.source;var t=wt()(e,["hasOfflineFile","hasOwnSubscription","ratingKey","source"]);return mke(vke,t)});function bke(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-analyzing-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m336 364l15.027 67.524c.858 3.854 2.685 7.18 5.477 9.972 2.792 2.792 6.118 4.619 9.972 5.477l67.524 15.027-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.027c3.854-.858 7.18-2.685 9.972-5.477 2.792-2.792 4.619-6.118 5.477-9.972l15.027-67.524m-315 140l343-343 35 35-343 343-35-35m441-266l15.027 67.523c.858 3.855 2.685 7.181 5.477 9.973 2.792 2.792 6.118 4.619 9.972 5.476l67.524 15.028-67.524 15.027c-3.854.858-7.18 2.685-9.972 5.477-2.792 2.792-4.619 6.118-5.477 9.972l-15.027 67.524-15.027-67.524c-.858-3.854-2.685-7.18-5.477-9.972-2.792-2.792-6.118-4.619-9.972-5.477l-67.524-15.027 67.524-15.028c3.854-.857 7.18-2.684 9.972-5.476 2.792-2.792 4.619-6.118 5.477-9.973l15.027-67.523m-322-238l21.468 96.462c1.2 5.396 3.914 10.338 7.823 14.247 3.909 3.909 8.851 6.623 14.247 7.823l96.462 21.468-96.462 21.468c-5.396 1.2-10.338 3.914-14.247 7.823-3.909 3.909-6.623 8.851-7.823 14.247l-21.468 96.462-21.468-96.462c-1.2-5.396-3.914-10.338-7.823-14.247-3.909-3.909-8.851-6.623-14.247-7.823l-96.462-21.468 96.462-21.468c5.396-1.2 10.338-3.914 14.247-7.823 3.909-3.909 6.623-8.851 7.823-14.247l21.468-96.462m252 133l35 35 112-112-35-35-112 112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}bke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Ske=bke;function Ike(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 560l40-120 80 80-120 40m480-560l-400 400 80 80 400-400-80-80"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Ike.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Cke=Ike;function Mke(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z M279.611348,451.652619 L479.792832,260.692492 C518.735723,223.398694 525.522119,157.229004 486.579229,119.960019 C448.828204,83.7828011 390.389111,76.569777 338.530931,131.136016 L280,187.188371 L221.443159,131.136016 C165.95959,82.5852498 112.168614,83.7828011 74.4175887,119.960019 C35.4746985,157.229004 41.2642774,223.398694 80.2071677,260.692492 L279.611348,451.652619 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Mke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Dke=Mke;function wke(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-favorite-full-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280.409154,516 L40.4101704,278.317013 C-13.4700568,224.772577 -13.4700568,137.681549 40.4101704,84.1371127 C94.2619347,30.6209624 181.927598,30.6209624 235.807825,84.1371127 L280.010674,128.064481 L324.18506,84.1371127 C378.065287,30.6209624 465.73095,30.6209624 519.611177,84.1371127 C573.462941,137.681549 573.462941,224.772577 519.611177,278.317013 L280.409154,516 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}wke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Pke=wke;function Tke(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-files-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m480 240l0 240-240 0 0-240 240 0m-40 40l-160 0 0 160 160 0 0-160m-40-120l0 40-200 0 0 200-40 0 0-240 240 0m-80-80l0 40-200 0 0 200-40 0 0-240 240 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Tke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Eke=Tke;function xke(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-tagging-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m252 56l308 308-196 196-308-308 0-196 196 0m-21 42l-133 0 0 133 266 266 133-133-266-266m-49 42c23.18 0 42 18.82 42 42 0 23.18-18.82 42-42 42-23.18 0-42-18.82-42-42 0-23.18 18.82-42 42-42"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}xke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Oke=xke;function jke(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-trash-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m238 42c0-23.181 18.82-42 42-42 23.18 0 42 18.82 42 42l182 0 0 42-28 0 0 476-392 0 0-476-28 0 0-42 182 0m196 42l-308 0 0 434 308 0 0-434m-217 56l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0m84 0l0 322-42 0 0-322 42 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}jke.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Ake=jke,Nke=n(628),kke=n.n(Nke);function Lke(e){var t=e.children,n=e.backgroundClassName,r=e.className,i=e.onMouseEnter;return hv()("div",{className:r,onMouseEnter:i},void 0,hv()("div",{className:n}),t)}Lke.defaultProps={className:kke.a.overlay,backgroundClassName:kke.a.background};var Rke=Lke,_ke=n(46),Uke=n.n(_ke),zke=Xf.a.Component,Fke=hv()(Cke,{}),Bke=hv()(Dke,{}),Hke=hv()(Pke,{}),Vke=hv()(US,{}),Qke=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onActionsMenuOpenChange=function(e){r.setState({isActionsMenuOpen:e})},r.state={isActionsMenuOpen:!1},r._selectButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.itemServerEntityID,a=e.itemProviderEntityID,o=e.metadataItemEntityID,l=e.containerKey,c=e.listType,u=e.route,d=e.title,p=e.viewPercent,h=e.unviewedLeafCount,f=e.mediaCount,g=e.hasOfflineFile,v=e.hasOwnSubscription,m=e.isSubscribed,y=e.isMultiVersion,b=e.isSmart,S=e.isFavorite,I=e.isMatching,C=e.isProcessing,M=e.isAnalyzing,D=e.isRefreshing,w=e.isTrash,P=e.showUnplayedBadge,T=e.showUnplayedNumberBadge,E=e.showLink,x=e.showLinkOnly,O=e.showPlay,j=e.showEdit,A=e.showSelect,N=e.showMore,k=e.showFavorite,L=e.showUnfavorite,R=e.showRemove,_=e.showAvailableOffline,U=e.canDrag,z=e.hasActiveSelection,F=e.isSelected,B=e.isOtherItemSelected,H=e.isConflictingTypeSelected,V=e.isModifierKeyPressed,Q=e.isDragging,W=e.isLeafType,G=e.source,Y=e.ratingKey,K=e.onMouseEnter,q=e.onPlayPress,Z=e.onEditPress,X=e.onFavoritePress,J=e.onUnfavoritePress,$=e.onRemovePress,ee=e.onSelectPress,te=e.onDeselectPress,ne=this.state.isActionsMenuOpen,re=A&&(V||B);if(x)return hv()("div",{className:(t||"")+" "+(Uke.a.overlay||"")},void 0,E?hv()(RS,{className:Uke.a.link,to:u}):null);var ie=z||Q||V||D||w,ae=ne,oe=ne||Q||D||w,se=m||v||W&&g;return hv()(Rke,{className:(t||"")+" "+(Uke.a.overlay||"")+" "+(z&&Uke.a.hasActiveSelection||"")+" "+(F&&Uke.a.isSelected||"")+" "+(H&&Uke.a.isConflictingTypeSelected||"")+" "+(A&&V&&Uke.a.isModifierKeyPressed||"")+" "+(Q&&Uke.a.isDragging||"")+" "+(ne&&Uke.a.isActionsMenuOpen||""),backgroundClassName:(Uke.a.background||"")+" "+(ie&&Uke.a.selectedBackground||"")+" "+(ae&&Uke.a.hoverBackground||"")+" "+(oe&&Uke.a.visibleBackground||""),onMouseEnter:K},void 0,P?hv()("div",{className:Uke.a.unplayedTagContainer,"data-qa-id":"metadataPosterUnwatchedBadge"},void 0,hv()("div",{className:Uke.a.unplayedTag})):null,T?hv()("div",{"data-qa-id":"metadataPosterUnwatchedNumberBadge",className:Uke.a.unplayedBadge},void 0,h):null,y&&!se?hv()("div",{className:Uke.a.versionBadge,"data-qa-id":"metadataPosterMultipleVersionBadge"},void 0,hv()(Eke,{className:Uke.a.versionBadgeIcon}),f):null,!b||S||se?null:hv()("div",{className:Uke.a.smartBadge,"data-qa-id":"metadataPosterSmartBadge"},void 0,hv()(MK,{className:Uke.a.smartBadgeIcon})),b&&S&&!se?hv()("div",{className:Uke.a.favoriteBadge,"data-qa-id":"metadataPosterFavoriteBadge"},void 0,hv()(Pke,{className:Uke.a.favoriteBadgeIcon})):null,p?hv()(oke,{className:Uke.a.progress,progress:p}):null,D?hv()("div",{className:Uke.a.refreshingSpinnerContainer},void 0,hv()(ZE.a,{className:Uke.a.refreshingSpinner})):null,I?hv()("div",{className:Uke.a.refreshingCircle},void 0,hv()(Dse,{"aria-label":Object(Xn.default)("Matching")})):null,C?hv()("div",{className:Uke.a.refreshingCircle},void 0,hv()(Oke,{"aria-label":Object(Xn.default)("Downloading Metadata")})):null,M?hv()("div",{className:Uke.a.refreshingCircle},void 0,hv()(Ske,{"aria-label":Object(Xn.default)("Analyzing")})):null,w?hv()("div",{className:Uke.a.trashCircle},void 0,hv()(Ake,{"aria-label":Object(Xn.default)("In Trash")})):null,E?hv()(RS,{className:Uke.a.link,to:u}):null,re&&!H?hv()(RS,{className:Uke.a.selectCoverButton,onPress:ee}):null,re&&H?hv()(gN,{className:Uke.a.selectCoverButton,component:RS,tooltip:Object(Xn.default)("A different type is selected"),tooltipAttachment:s.TOP_CENTER,tooltipTarget:this._selectButtonID,showOnFocus:!1,hideOnPress:!1}):null,_?hv()(yke,{className:Uke.a.hasSubscriptionBadge,source:G,ratingKey:Y,hasOfflineFile:g,hasOwnSubscription:v,showShadow:!0}):null,_?hv()(kpe,{metadataItemEntityID:o,providerEntityID:a}):null,O?hv()(Pve,{className:E?Uke.a.playButton:Uke.a.playCoverButton,circleClassName:Uke.a.playCircle,component:U?"div":"button",tabIndex:"-1",title:d,"data-qa-id":"metadataPosterPlayButton",onPress:q}):null,j?hv()(RS,{className:Uke.a.editButton,tabIndex:"-1","aria-label":Object(Xn.default)("Edit {title}",{title:d}),"data-qa-id":"metadataPosterEditButton",onPress:Z},void 0,Fke):null,k&&!se?hv()(RS,{className:Uke.a.favoriteButton,tabIndex:"-1","aria-label":Object(Xn.default)("Add {title} to favorites",{title:d}),"data-qa-id":"metadataPosterFavoriteButton",onPress:X},void 0,Bke):null,L&&!se?hv()(RS,{className:Uke.a.favoriteButton,tabIndex:"-1","aria-label":Object(Xn.default)("Remove {title} from favorites",{title:d}),"data-qa-id":"metadataPosterUnfavoriteButton",onPress:J},void 0,Hke):null,R?hv()(RS,{className:Uke.a.removeButton,tabIndex:"-1","aria-label":Object(Xn.default)("Remove {title}",{title:d}),onPress:$},void 0,Vke):null,N?hv()(Vge,{"data-qa-id":"metadataPosterMoreButton",className:Uke.a.moreButton,tabIndex:"-1",serverEntityID:n,providerEntityID:r,itemServerEntityID:i,itemProviderEntityID:a,metadataItemEntityID:o,containerKey:l,listType:c,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:ne,onMenuOpenChange:this.onActionsMenuOpenChange}):null,A?hv()(eQ,{id:this._selectButtonID,className:Uke.a.selectButton,circleClassName:Uke.a.selectCircle,tabIndex:"-1",title:d,isSelected:F,isDisabled:H,onPress:ee}):null,F?hv()(RS,{className:Uke.a.deselectCoverButton,onPress:te}):null)},t}(zke),Wke=Xf.a.createElement,Gke=nke(Qke);var Yke=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.type},function(e,t){return t.listType},Qse(),$de,qde,sse,hEe(),Object(Iy.createSelector)(Qse(),function(e){return e&&e.viewOffset?hk(e.viewOffset,e.duration):0}),Ppe(),PTe(),function(e,t,n,r,i,a,o,s,l,c){void 0===r&&(r={}),void 0===i&&(i={}),void 0===a&&(a={});var u=n.subtype,d=n.title,p=n.viewCount,h=n.viewOffset,f=n.unviewedLeafCount,g=n.smart,v=n.icon,m=n.metadataState,y=n.mediaState,b=n.deletedAt,S=n.subscriptionID,I=n.subscriptionType,C=n.grandparentSubscriptionID,M=n.grandparentSubscriptionType,D=n.ratingKey,w=n.isFolder,P=n.isPlaylist,T=n.Media,E=ape({server:r,provider:i,stableUser:a,metadataItem:n}),x=!!i.features.subscribe,O=gpe({server:r,provider:i,stableUser:a,metadataItem:n}),j=t===nr.h&&dpe({server:r,provider:i,stableUser:a,metadataItem:n}),A=t===nr.h&&ppe({server:r,provider:i,stableUser:a,metadataItem:n}),N=Cpe({server:r,provider:i,stableUser:a,metadataItem:n}),k=nr.r(e),L=nr.q(e),R=!(!k||!L||k.id!==L.id),_=T.length,U=null!=S||null!=C,z=!!g&&P,F=v===rL,B=m===Xse,H=m===Jse||m===$se,V=!B&&!H&&!!y,Q=B||H||V,W=!Q&&!!b,G=!(!D||!l)&&te.a.get("allowSyncDownload");return{server:r,provider:i,route:o,title:d,viewCount:p,viewOffset:h,viewPercent:s,unviewedLeafCount:f,mediaCount:_,subscriptionType:I||M,type:e,subtype:u,isSubscribed:U,isMultiVersion:JNe(n),isSmart:z,isFavorite:F,isMatching:B,isProcessing:H,isAnalyzing:V,isRefreshing:Q,isTrash:W,isLeafType:R,showLink:!!o,showUnplayedBadge:ZNe(n,k),showUnplayedNumberBadge:XNe(n,L),showPlay:E,showRecord:x,showEdit:O,showFavorite:j,showUnfavorite:A,showSelect:N,showMore:!w,showAvailableOffline:G,beginsAt:c&&c.beginsAt,endsAt:c&&c.endsAt,source:l,ratingKey:D,hasOfflineFile:Lpe(n),hasOwnSubscription:Rpe(n)}})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,itemServerEntityID:t.itemServerEntityID||t.serverEntityID,itemProviderEntityID:t.itemProviderEntityID||t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsContext:t.metricsContext};return{onPlayPress:function(){e(Ire(Object.assign({},n,{options:{containerKey:t.containerKey,listType:t.listType}})))},onPlayLiveTVPress:function(){e(bMe(Object.assign({},n,{options:{containerKey:t.containerKey,listType:t.listType}})))},onEditPress:function(){e(vde(n))},onFavoritePress:function(){e(Ode(n))},onUnfavoritePress:function(){e(jde(n))}}},Yde)(function(e){e.server;var t=e.provider,n=wt()(e,["server","provider"]),r=Object.assign({},n,{itemServerEntityID:e.itemServerEntityID||e.serverEntityID,itemProviderEntityID:e.itemProviderEntityID||e.providerEntityID});return t.protocols.livetv?Wke(uke,r):e.showSelect&&!e.showLinkOnly?Wke(Gke,r):Wke(Qke,r)}),Kke=n(491),qke=n.n(Kke),Zke=Xf.a.createElement;function Xke(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID,a=e.itemServerEntityID,o=e.itemProviderEntityID,s=e.type,l=e.subtype,c=e.selectionType,u=e.activeSelectionType,d=e.isSelected,p=e.isOffscreen,h=e.visibleFace,f=e.imageWidth,g=e.imageHeight,v=e.imageUrl,m=e.disableCrossFade,y=e.icon,b=e.isFolder,S=e.showOverlay,I=e.onImageLoad,C=e.onImageError,M=e.onSelectItem,D=e.onDeselectItem,w=wt()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","itemServerEntityID","itemProviderEntityID","type","subtype","selectionType","activeSelectionType","isSelected","isOffscreen","visibleFace","imageWidth","imageHeight","imageUrl","disableCrossFade","icon","isFolder","showOverlay","onImageLoad","onImageError","onSelectItem","onDeselectItem"]);return hv()("div",{className:(t||"")+" "+(qke.a[h]||"")+" "+(d&&qke.a.isSelected||"")},void 0,hv()(yL,{serverEntityID:n,providerEntityID:r,itemServerEntityID:a,itemProviderEntityID:o,type:s,subtype:l,isOffscreen:p,url:v,width:f,height:g,disableCrossFade:m,icon:y,isFolder:b,onLoad:I,onError:C}),S?Zke(Yke,dv()({serverEntityID:n,providerEntityID:r,itemServerEntityID:a,itemProviderEntityID:o,metadataItemEntityID:i,type:s,selectionID:i,selectionType:c,activeSelectionType:u,isSelected:d,onSelectItem:M,onDeselectItem:D},w)):null)}Xke.defaultProps={className:qke.a.face,showOverlay:!0};var Jke=Xke,$ke=n(492),eLe=n.n($ke),tLe=Xf.a.createElement,nLe=Xf.a.Component,rLe="faceFront",iLe=sT(_xe.a.posterFlipSpeed),aLe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onImageLoad=function(){r.state.isLoadingFace&&r._flipCard()},r.onImageError=function(){r.state.isLoadingFace&&r._flipCard()},r.onFlipComplete=function(){r.setState({isFlippingFace:!1,previousImageUrl:null})},r.state={visibleFace:rLe,isLoadingFace:!1,isFlippingFace:!1,previousImageUrl:null},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.props.imageUrl,n=e.imageUrl&&t!==e.imageUrl;this.props.metadataKey===e.metadataKey&&n&&this._prepareFlip(t)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){this._cancelFlip()},n._prepareFlip=function(e){this._cancelFlip(),this.setState({isLoadingFace:!0,isFlippingFace:!0,previousImageUrl:e})},n._flipCard=function(){var e=this;this.setState(function(e){return{isLoadingFace:!1,visibleFace:e.visibleFace===rLe?"faceBack":rLe}},function(){e._flipTimeoutID=setTimeout(e.onFlipComplete,iLe)})},n._cancelFlip=function(){this._flipTimeoutID&&(this._flipTimeoutID=clearTimeout(this._flipTimeoutID))},n.render=function(){var e=this.props,t=e.className,n=e.cardClassName,r=e.cardFaceClassName,i=e.metadataKey,a=e.imageWidth,o=e.imageHeight,s=e.imageUrl,l=wt()(e,["className","cardClassName","cardFaceClassName","metadataKey","imageWidth","imageHeight","imageUrl"]),c=this.state,u=c.visibleFace,d=c.isLoadingFace,p=c.isFlippingFace,h=c.previousImageUrl,f={width:a,height:o};return hv()("div",{className:t,"data-qa-id":"metadataPosterCard--"+i},i,hv()("div",{className:(n||"")+" "+("faceBack"===u&&eLe.a.isFlipped||""),style:f},void 0,u===rLe||p?tLe(Jke,dv()({key:rLe,className:r,visibleFace:rLe,imageWidth:a,imageHeight:o,imageUrl:u===rLe&&!d||"faceBack"===u&&d?s:h,disableCrossFade:p,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null,"faceBack"===u||p?tLe(Jke,dv()({key:"faceBack",className:r,visibleFace:"faceBack",imageWidth:a,imageHeight:o,imageUrl:"faceBack"===u&&!d||u===rLe&&d?s:h,disableCrossFade:p,onImageLoad:this.onImageLoad,onImageError:this.onImageError},l)):null))},t}(nLe);aLe.defaultProps={className:eLe.a.cardContainer,cardClassName:eLe.a.card};var oLe=aLe;function sLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-expand-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 140l252 252-56 56-196-196L84 448l-56-56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}sLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var lLe=sLe,cLe=n(394),uLe=n.n(cLe);function dLe(e){var t=e.className,n=e.cardClassName,r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.metadataKey,s=e.type,l=e.disableExpandButton,c=e.imageWidth,u=e.imageHeight,d=e.imageUrl,p=e.isMusic,h=e.onExpandPress,f=p?"music":o;return hv()("div",{className:t,style:{width:c}},void 0,hv()("div",{className:uLe.a.cardContainer},void 0,hv()(KOe,{className:uLe.a.expandButton,"data-qa-id":"expandPlayerButton",iconComponent:lLe,isDisabled:l,title:Object(Xn.default)("Expand Player"),onPress:h}),hv()(oLe,{cardClassName:n,serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,metadataKey:f,type:s,imageWidth:c,imageHeight:u,imageUrl:d,showLinkOnly:!0,showOverlay:!1})))}dLe.defaultProps={className:uLe.a.miniPlayerPoster,cardClassName:uLe.a.card};var pLe=dLe,hLe=parseInt(yQ.a.playerControlsPosterHeight,10);var fLe=Lm(function(){return Object(Iy.createSelector)(coe(),function(e){var t=jp,n=Gde(null,hLe,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,type:e.type,metadataKey:e.key,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}})},function(e,t){var n={playerType:t.playerType};return{onExpandPress:function(t){e(FOe(n))}}})(pLe);function gLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}gLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var vLe=gLe,mLe=Xf.a.createElement,yLe=Xf.a.Component,bLe={showDelete:!1,showDeleteVersion:!1,showEdit:!1,showFixMatch:!1,showMarkUnplayed:!1,showMarkPlayed:!1,showMatch:!1,showOptimize:!1,showPlay:!1,showPlayAll:!1,showPlayMusicVideo:!1,showPlayPlexMix:!1,showPlayTrailer:!1,showPlayVersion:!1,showQueue:!1,showRefresh:!1,showSelect:!1,showShuffle:!1,showSplitApart:!1,showUnmatch:!1},SLe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPress=function(){r.setState(function(e,t){return{isMenuOpen:!e.isMenuOpen}},function(){r.props.onMenuChange&&r.props.onMenuChange(r.state.isMenuOpen)})},r.onMenuClose=function(){r.setState({isMenuOpen:!1},function(){r.props.onMenuChange&&r.props.onMenuChange(!1)})},r.state={isMenuOpen:!1},r._menuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataActionProps,a=e.isDisabled,o=Object.assign({},i,bLe);return C.a.values(o).some(function(e){return e})?hv()("span",{},void 0,hv()(KOe,{id:this._menuButtonID,"data-qa-id":"moreButton",iconComponent:vLe,isDisabled:a,title:Object(Xn.default)("More Actions"),onPress:this.onPress}),mLe(Bge,dv()({serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,target:this._menuButtonID,isOpen:this.state.isMenuOpen},bLe,{onMenuClose:this.onMenuClose}))):null},t}(yLe);var ILe=Lm(function(){return Object(Iy.createSelector)(Dpe(),function(e){return{metadataActionProps:e}})})(SLe),CLe="deltaX",MLe="deltaY",DLe=250,wLe=.5;function PLe(e){void 0===e&&(e={});var t,n,r=e,i=r.callback,a=r.axisLockDuration,o=void 0===a?DLe:a,s=r.sensitivity,l=void 0===s?wLe:s,c=r.maxAbsDelta,u=void 0===c?Number.MAX_SAFE_INTEGER:c;return function(e){e.preventDefault(),(void 0===n||e.timeStamp-n>=o)&&(t=Math.abs(e[CLe])>Math.abs(e[MLe])?CLe:MLe,n=e.timeStamp);var r=e[t]*l;if(r){var a=Math.max(0,Math.min(u,Math.abs(r)));a*=r>0?1:-1,a=(e.nativeEvent||e).webkitDirectionInvertedFromDevice?a:-a,i(a)}}}function TLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-high-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M447.161 28.839C516.391 90.361 560 180.088 560 280s-43.609 189.639-112.839 251.161l-29.75-29.75C479.064 447.527 518 368.31 518 280S479.064 112.473 417.411 58.589l29.75-29.75zm-79.409 79.409C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}TLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var ELe=TLe;function xLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-low-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}xLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var OLe=xLe;function jLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mid-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M367.752 108.248C416.818 149.318 448 211.018 448 280c0 68.982-31.182 130.682-80.248 171.752l-29.847-29.847C379.436 388.578 406 337.391 406 280c0-57.391-26.564-108.578-68.095-141.905l29.847-29.847zM28 336V224h56l112-112v336L84 336H28zm259.936-147.936C316.989 208.268 336 241.914 336 280c0 38.086-19.011 71.732-48.064 91.936l-30.452-30.452C279.246 329.605 294 306.525 294 280s-14.754-49.605-36.516-61.484l30.452-30.452z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}jLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var ALe=jLe;function NLe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-volume-mute-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M84 224l112-112v336L84 336H28V224h56zm306.302 56l-84.146 84.146 29.698 29.698L420 309.698l84.146 84.146 29.698-29.698L449.698 280l84.146-84.146-29.698-29.698L420 250.302l-84.146-84.146-29.698 29.698L390.302 280z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}NLe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var kLe=NLe,LLe=Xf.a.Component,RLe=parseInt(yQ.a.playerVolumeSliderHeight,10),_Le=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onWheelDelta=function(e){r.props.onVolumeChange(e)},r.onWheel=PLe({callback:r.onWheelDelta,maxAbsDelta:RLe/10}),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.volume,r=e.onPress,i=kLe;return n>60?i=ELe:n>40?i=ALe:n>0&&(i=OLe),hv()("span",{onWheel:this.onWheel},void 0,hv()(KOe,{className:t,title:0===n?Object(Xn.default)("Unmute Volume"):Object(Xn.default)("Mute Volume"),"data-qa-id":"volumeButton",iconComponent:i,onPress:r}))},t}(LLe),ULe=n(325),zLe=n.n(ULe),FLe=Xf.a.createElement;function BLe(e){return FLe(AW,dv()({},e,{isVertical:!0}))}BLe.defaultProps={className:zLe.a.slider,fillClassName:zLe.a.fill,thumbClassName:zLe.a.thumb,thumbTrackClassName:zLe.a.thumbTrack,trackClassName:zLe.a.track};var HLe=BLe,VLe=n(493),QLe=n.n(VLe),WLe=Xf.a.Component,GLe=parseInt(yQ.a.playerVolumeSliderHeight,10),YLe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onWheelDelta=function(e){r.onChange({positionDelta:e})},r.onChange=function(e){var t=e.positionDelta;r.props.onVolumeChange(t)},r.onWheel=PLe({callback:r.onWheelDelta,maxAbsDelta:GLe/10}),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.volume;return hv()(HLe,{className:t,trackClassName:QLe.a.track,fillClassName:QLe.a.fill,showFill:!0,autoHideThumb:!0,stepSize:1,value:n,onChange:this.onChange,onWheel:this.onWheel})},t}(WLe);YLe.defaultProps={className:QLe.a.slider};var KLe=YLe,qLe=n(996),ZLe=n.n(qLe);var XLe=function(e){var t=e.title,n=e.summary,r=e.dateTaken,i=e.index,a=e.size,o="";r&&(o+=Object(ove.default)(r)),n&&(o+=o?" "+sE+" "+n:" "+n);var s=!(!t||!t.length),l=!!o.length,c=!!a;return hv()("div",{className:ZLe.a.container},void 0,s?hv()(NTe,{component:ive,title:t}):null,l?hv()(NTe,{component:ive,isSecondary:s,title:o}):null,c?hv()(NTe,{component:ive,isSecondary:s||l,title:Object(Xn.default)("{currentIndex} of {size}",{currentIndex:i+1,size:a})}):null)};var JLe=Lm(function(){return Object(Iy.createSelector)(ooe(),Qse(),function(e,t){var n=t.title,r=t.summary,i=t.originallyAvailableAt,a=t.addedAt;return{title:n,summary:r,index:e.playQueueSelectedItemOffset,size:e.length,dateTaken:i||Object(YTe.default)(a,"yyyy-MM-dd")}})})(XLe);JLe.propTypes=Object.assign({},JLe.propTypes,{metadataItemEntityID:Dp.a.string.isRequired,playerType:Dp.a.string.isRequired});var $Le=JLe;function eRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-chapters-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M392 308h140v140H392V308zm-182 0h140v140H210V308zm-182 0h140v140H28V308zm364-196h140v140H392V112zm-182 0h140v140H210V112zm-182 0h140v140H28V112z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}eRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var tRe=eRe;function nRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M56 504l28-84 56 56-84 28zM448 56L112 392l56 56 336-336-56-56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}nRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var rRe=nRe;function iRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-empty-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504zm0 282.828c-29.423-35.231-59.797-65.569-86.373-92.971-48.407-48.933-90.169-91.015-90.169-121.353 0-45.995 40.813-80.249 77.83-80.249 22.78 0 42.712 12.723 57.899 37.189L280 229.979l37.966-59.697c17.085-25.445 37.966-39.147 60.746-39.147 36.068 0 75.932 34.254 75.932 80.249 0 30.339-41.763 72.42-89.221 120.375-25.626 29.359-56 59.697-85.423 94.928z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}iRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var aRe=iRe;function oRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-favorite-filled-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 143.859C204.068 24.463 56 102.755 56 212.363 56 297.505 185.084 369.926 280 504c94.916-134.074 224-206.495 224-291.637 0-109.608-143.322-187.9-224-68.504z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}oRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var sRe=oRe;function lRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-info-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 476c108.248 0 196-87.752 196-196S388.248 84 280 84 84 171.752 84 280s87.752 196 196 196zm0 42C148.556 518 42 411.444 42 280 42 148.556 148.556 42 280 42c131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238zm-21-112h42V238h-42v168zm-7-224c0-7.519 2.606-14.065 7.818-19.639S271.636 154 279.636 154c8 0 14.728 2.657 20.182 7.972C305.273 167.287 308 173.963 308 182c0 8.037-2.727 14.713-8.182 20.028-5.454 5.315-12.182 7.972-20.182 7.972-8 0-14.606-2.787-19.818-8.361C254.606 196.065 252 189.519 252 182z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}lRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var cRe=lRe;function uRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 270.66c-8.574-2.997-18.045-4.66-28-4.66-38.66 0-70 25.072-70 56s31.34 56 70 56 70-25.072 70-56V140l-42-28v158.66zM448 84c15.464 0 28 12.536 28 28v254.244a56 56 0 0 1-19.556 42.518L280 560l28-140H112c-15.464 0-28-12.536-28-28V112c0-15.464 12.536-28 28-28h336zm-126 56v56l70 49v-56l-70-49z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}uRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var dRe=uRe;function pRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-next-track-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M140 476V84l294 182V112h42v336h-42V294L140 476z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}pRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var hRe=pRe;function fRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-pause-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M112 112h126v336H112V112zm210 0h126v336H322V112z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}fRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var gRe=fRe;function vRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M168 476V84l336 196z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}vRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var mRe=vRe;function yRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-previous-track-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M420 84v392L126 294v154H84V112h42v154z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}yRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var bRe=yRe;function SRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-queue-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M157.8 504H532v-44.8H157.8V504zm0-134.4H532v-44.8H157.8v44.8zm111.734-134.4H532v-44.8H269.534v44.8zM157.8 100.8H532V56H157.8v44.8zM196 210L28 336V84l168 126z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}SRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var IRe=SRe;function CRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}CRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var MRe=CRe;function DRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-repeat-one-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M168 118.906V42l112 98-112 98v-77.014l-34.983.014a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.5 63.5 0 0 0-20.004 19.884 62.762 62.762 0 0 0-6.156 12.684 62.5 62.5 0 0 0-3.025 12.682 64.449 64.449 0 0 0-.532 7.828c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.525 62.525 0 0 0 3.025 12.683 62.776 62.776 0 0 0 6.36 13.003 63.522 63.522 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 98.204.154 196.411.463 294.614-.001a64.451 64.451 0 0 0 7.829-.532 62.433 62.433 0 0 0 24.397-8.58 63.53 63.53 0 0 0 20.752-20.444 62.693 62.693 0 0 0 6.118-12.704 62.495 62.495 0 0 0 2.962-12.501c.348-2.663.52-5.347.533-8.033.059-37.538.176-103.077-.001-140.614a64.451 64.451 0 0 0-.532-7.829 62.449 62.449 0 0 0-8.481-24.235 63.513 63.513 0 0 0-20.062-20.609 62.497 62.497 0 0 0-25.883-9.411 64.755 64.755 0 0 0-7.836-.507L294 160.953v-42.094l133.017.141a105.444 105.444 0 0 1 12.669.762 104.583 104.583 0 0 1 20.674 4.661 104.584 104.584 0 0 1 17.251 7.576 105.23 105.23 0 0 1 16.176 10.997 105.685 105.685 0 0 1 19.724 21.511 104.87 104.87 0 0 1 12.754 25.218 104.544 104.544 0 0 1 4.973 21.588 105.444 105.444 0 0 1 .761 12.349c.06 37.672.177 103.343-.001 141.014a105.465 105.465 0 0 1-.884 12.995 104.49 104.49 0 0 1-4.955 20.909 104.874 104.874 0 0 1-11.412 23.079 105.654 105.654 0 0 1-17.856 20.68 105.357 105.357 0 0 1-17.622 12.728 104.635 104.635 0 0 1-18.602 8.406 104.54 104.54 0 0 1-20.98 4.765 105.8 105.8 0 0 1-12.011.76c-98.449.465-196.903.465-295.352 0a105.465 105.465 0 0 1-12.995-.884 104.49 104.49 0 0 1-20.909-4.955 104.833 104.833 0 0 1-22.285-10.894 105.653 105.653 0 0 1-19.99-16.746 105.468 105.468 0 0 1-13.412-17.882 104.718 104.718 0 0 1-9.207-19.971 104.576 104.576 0 0 1-4.724-20.651 105.763 105.763 0 0 1-.8-12.339c-.179-37.784-.179-103.568 0-141.352a105.666 105.666 0 0 1 .841-12.668 104.568 104.568 0 0 1 4.998-21.236 104.742 104.742 0 0 1 10.384-21.485 105.542 105.542 0 0 1 34.323-33.711 104.784 104.784 0 0 1 20.481-9.594 104.592 104.592 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102l35.676-.096M392.049 385h-42V268.548L326.5 289.5 300 259l64-56 28.049.009V385"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}DRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var wRe=DRe;function PRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-settings-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M126 213.205A69.97 69.97 0 0 0 105 210a69.97 69.97 0 0 0-21 3.205V56h42v157.205zm0 133.59V504H84V346.795A69.97 69.97 0 0 0 105 350a69.97 69.97 0 0 0 21-3.205zm175-49.59A69.97 69.97 0 0 0 280 294a69.97 69.97 0 0 0-21 3.205V56h42v241.205zm0 133.59V504h-42v-73.205A69.97 69.97 0 0 0 280 434a69.97 69.97 0 0 0 21-3.205zm175-301.59A69.97 69.97 0 0 0 455 126a69.97 69.97 0 0 0-21 3.205V56h42v73.205zm0 133.59V504h-42V262.795A69.97 69.97 0 0 0 455 266a69.97 69.97 0 0 0 21-3.205zM280 420c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm175-168c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56zm-350 84c-30.928 0-56-25.072-56-56s25.072-56 56-56 56 25.072 56 56-25.072 56-56 56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}PRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var TRe=PRe;function ERe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-shuffle-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M448 441h-44.423c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594a12267 12267 0 0 1 5.622-12.617C320.788 371.608 349.962 399 403.577 399H448v-77l112 98-112 98v-77zm0-322V42l112 98-112 98v-77h-44.423c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02C221.676 403.25 190.662 441 123.577 441H28v-42h95.577c43.602 0 66.367-27.71 104.202-112.518a10981.32 10981.32 0 0 1 6.711-15.055C282.89 163.202 321.73 119 403.577 119H448zm-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005C187.946 186.377 165.303 161 123.577 161H28v-42h95.577z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}ERe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var xRe=ERe;function ORe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-back-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M279.931 381.653c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.648-66.856 9.766-14.336 24.805-21.504 45.118-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zm-56.275-262.747l259.677.096a105.788 105.788 0 0 1 12.339.8c7.126.884 14.16 2.504 20.955 4.828a104.757 104.757 0 0 1 20.481 9.594 105.509 105.509 0 0 1 34.324 33.711 104.845 104.845 0 0 1 10.384 21.485 104.566 104.566 0 0 1 5.721 29.53c.069 1.457.106 2.915.117 4.374.18 37.784.18 103.568 0 141.352a105.283 105.283 0 0 1-.8 12.339 104.576 104.576 0 0 1-4.724 20.651 104.718 104.718 0 0 1-9.207 19.971 105.468 105.468 0 0 1-13.412 17.882 105.621 105.621 0 0 1-19.99 16.746 104.839 104.839 0 0 1-22.285 10.894 104.524 104.524 0 0 1-29.196 5.705c-1.568.08-3.137.121-4.707.134-4.868.023-35.544 0-35.544 0v-41.999s30.463.008 35.073.001a64.415 64.415 0 0 0 8.033-.533 62.47 62.47 0 0 0 24.234-8.481 63.51 63.51 0 0 0 20.61-20.062 62.772 62.772 0 0 0 6.359-13.003 62.527 62.527 0 0 0 3.026-12.683 64.65 64.65 0 0 0 .531-7.828c.179-37.606.179-103.214 0-140.82a64.65 64.65 0 0 0-.531-7.828 62.502 62.502 0 0 0-9.181-25.366 63.545 63.545 0 0 0-20.004-19.884 62.443 62.443 0 0 0-25.439-9.029 64.531 64.531 0 0 0-7.86-.483l-258.984-.014V238l-112-98 112-98v76.906zm-26.225 348.41H77.431v-99.14l.351-16.289.586-17.812c-6.015 6.015-10.195 9.96-12.539 11.835l-19.687 15.821-17.461-21.797 55.195-43.945h29.766v171.328z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}ORe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var jRe=ORe;function ARe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-skip-forward-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M532.03 381.68c0 29.922-4.903 52.07-14.707 66.445-9.805 14.375-24.903 21.563-45.293 21.563-19.766 0-34.668-7.422-44.707-22.266-10.039-14.844-15.059-36.758-15.059-65.742 0-30.235 4.883-52.52 14.649-66.856 9.765-14.336 24.804-21.504 45.117-21.504 19.765 0 34.707 7.5 44.824 22.5 10.117 15 15.176 36.953 15.176 65.86zm-83.789 0c0 21.015 1.816 36.074 5.449 45.175 3.633 9.102 9.746 13.653 18.34 13.653 8.437 0 14.531-4.61 18.281-13.828 3.75-9.219 5.625-24.219 5.625-45 0-21.016-1.895-36.114-5.684-45.293-3.789-9.18-9.863-13.77-18.222-13.77-8.516 0-14.61 4.59-18.282 13.77-3.671 9.179-5.507 24.277-5.507 45.293zM420 118.906V42l112 98-112 98v-77.014L161.017 161a64.547 64.547 0 0 0-7.861.483 62.458 62.458 0 0 0-25.438 9.029 63.51 63.51 0 0 0-20.004 19.884 62.488 62.488 0 0 0-9.181 25.366A64.468 64.468 0 0 0 98 223.59c-.178 37.606-.178 103.214 0 140.82.021 2.617.193 5.232.532 7.828a62.506 62.506 0 0 0 3.025 12.683 62.769 62.769 0 0 0 6.36 13.003 63.538 63.538 0 0 0 20.61 20.062 62.48 62.48 0 0 0 24.234 8.481c2.663.348 5.347.52 8.033.533 1.716.002 35.205-.001 35.205-.001v41.999s-34.008.008-35.676 0a105.32 105.32 0 0 1-12.995-.884 104.515 104.515 0 0 1-20.909-4.955 104.85 104.85 0 0 1-22.285-10.894 105.64 105.64 0 0 1-19.99-16.746 105.467 105.467 0 0 1-13.412-17.882 104.73 104.73 0 0 1-9.207-19.971 104.556 104.556 0 0 1-5.422-28.951 110.81 110.81 0 0 1-.102-4.039c-.18-37.784-.18-103.568 0-141.352a105.427 105.427 0 0 1 .841-12.668 104.553 104.553 0 0 1 4.998-21.236 104.783 104.783 0 0 1 10.384-21.485 105.55 105.55 0 0 1 34.324-33.711 104.767 104.767 0 0 1 20.48-9.594 104.59 104.59 0 0 1 29.257-5.526 113.23 113.23 0 0 1 4.038-.102L420 118.906zm-40.305 215.43c0 10.703-3.242 19.805-9.726 27.305-6.485 7.5-15.586 12.656-27.305 15.468v.703c13.828 1.719 24.297 5.918 31.406 12.598 7.11 6.68 10.664 15.684 10.664 27.012 0 16.484-5.976 29.316-17.929 38.496-11.953 9.18-29.024 13.77-51.211 13.77-18.594 0-35.078-3.086-49.453-9.258v-30.821c6.64 3.36 13.945 6.094 21.914 8.203 7.968 2.11 15.859 3.165 23.672 3.165 11.953 0 20.781-2.032 26.484-6.094 5.703-4.063 8.555-10.586 8.555-19.571 0-8.046-3.282-13.75-9.844-17.109-6.563-3.359-17.031-5.039-31.406-5.039h-13.008v-27.773h13.242c13.281 0 22.988-1.739 29.121-5.215 6.133-3.477 9.199-9.434 9.199-17.871 0-12.969-8.125-19.453-24.375-19.453-5.625 0-11.347.937-17.168 2.812-5.82 1.875-12.285 5.117-19.394 9.727l-16.758-24.961c15.625-11.25 34.258-16.875 55.898-16.875 17.735 0 31.739 3.593 42.012 10.781 10.274 7.187 15.41 17.187 15.41 30z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}ARe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var NRe=ARe;function kRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-stop-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M84 84h392v392H84V84zm196 158.1l-84-84-37.9 37.9 84 84-84 84 37.9 37.9 84-84 84 84 37.9-37.9-84-84 84-84-37.9-37.9-84 84z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}kRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var LRe=kRe;function RRe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-thumbnails-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M392 392h140v112H392V392zm-182 0h140v112H210V392zm-182 0h140v112H28V392zm0-42V56h504v294h-42V98H70v252H28z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}RRe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var _Re=RRe,URe=n(172),zRe=n.n(URe),FRe=Xf.a.Fragment;function BRe(e){var t,n=e.className,r=e.durationSeconds,i=e.hasLiveTVProtocol,a=e.isMiniPlayer,o=e.isMusic,s=e.isVideo,l=e.metadataItemEntityID,c=e.playerType,u=e.positionSeconds,d=e.providerEntityID,p=e.serverEntityID,h=e.volume,f=e.activateChaptersButton,g=e.activateLyricsButton,v=e.activatePhotoInformationButton,m=e.activatePhotoStripButton,y=e.activateQueueButton,b=e.activateRepeatButton,S=e.activateRepeatOneButton,I=e.activateSettingsButton,C=e.activateShuffleButton,M=e.disableCloseButton,D=e.disableLyricsButton,w=e.disableMenuButton,P=e.disableNextButton,T=e.disablePauseButton,E=e.disablePlayButton,x=e.disablePreviousButton,O=e.disableQueueButton,j=e.disableRepeatButton,A=e.disableRepeatOneButton,N=e.disableSettingsButton,k=e.disableShuffleButton,L=e.disableSkipBackButton,R=e.disableSkipForwardButton,_=e.showChaptersButton,U=e.showCloseButton,z=e.showDuration,F=e.showEditButton,B=e.showFavoriteButton,H=e.showLyricsButton,V=e.showMenuButton,Q=e.showNextButton,W=e.showPauseButton,G=e.showPhotoInformationButton,Y=e.showPhotoStripButton,K=e.showPlayButton,q=e.showPreviousButton,Z=e.showQueueButton,X=e.showRecordButton,J=e.showRepeatButton,$=e.showRepeatOneButton,ee=e.showSettingsButton,te=e.showShuffleButton,ne=e.showSkipBackButton,re=e.showSkipForwardButton,ie=e.showUnfavoriteButton,ae=e.showVolume,oe=e.onChaptersPress,se=e.onClosePress,le=e.onControlsMenuChange,ce=e.onEditPress,ue=e.onFavoritePress,de=e.onLyricsPress,pe=e.onNextPress,he=e.onPausePress,fe=e.onPhotoInformationPress,ge=e.onPhotoStripPress,ve=e.onPlayPress,me=e.onPreviousPress,ye=e.onQueuePress,be=e.onRepeatOnePress,Se=e.onRepeatPress,Ie=e.onSettingsPress,Ce=e.onShufflePress,Me=e.onSkipBackPress,De=e.onSkipForwardPress,we=e.onUnfavoritePress,Pe=e.onVolumeChange,Te=e.onVolumeIconPress;t=c===zne?$Le:i?sAe:iAe;var Ee=ae&&null!=h,xe=i?null:zRe.a.balanceLeft,Oe=s?zRe.a.hasLandscapePoster:zRe.a.hasSquarePoster;return hv()(FRe,{},void 0,hv()("div",{className:(n||"")+" "+(a&&Oe||""),"data-qa-id":"playerControlsContainer"},void 0,hv()("div",{className:zRe.a.buttonGroupLeft},void 0,a?hv()(fLe,{playerType:c,isVideo:s,isMusic:o}):null,hv()(t,{metadataItemEntityID:l,playerType:c,positionSeconds:u,durationSeconds:r,showDuration:z,showStarRating:o})),hv()("div",{className:(zRe.a.buttonGroupCenter||"")+" "+(xe||"")},void 0,X?hv()(qNe,{playerType:c,"data-qa-id":"recordButton",serverEntityID:p,providerEntityID:d,positionSeconds:u}):null,q?hv()(KOe,{iconComponent:bRe,"data-qa-id":"previousButton",isDisabled:x,title:Object(Xn.default)("Previous"),onPress:me}):null,ne?hv()(KOe,{iconComponent:jRe,"data-qa-id":"skipBackButton",isDisabled:L,title:Object(Xn.default)("Skip Back 10 Seconds"),onPress:Me}):null,K?hv()(KOe,{iconComponent:mRe,"data-qa-id":"resumeButton",isPrimary:!0,isDisabled:E,title:Object(Xn.default)("Play"),onPress:ve}):null,W?hv()(KOe,{iconComponent:gRe,"data-qa-id":"pauseButton",isPrimary:!0,isDisabled:T,title:Object(Xn.default)("Pause"),onPress:he}):null,re?hv()(KOe,{iconComponent:NRe,"data-qa-id":"skipForwardButton",isDisabled:R,title:Object(Xn.default)("Skip Forward 30 Seconds"),onPress:De}):null,Q?hv()(KOe,{iconComponent:hRe,"data-qa-id":"nextButton",isDisabled:P,title:Object(Xn.default)("Next"),onPress:pe}):null,U?hv()(KOe,{"data-qa-id":"closeButton",isDisabled:M,iconComponent:LRe,title:Object(Xn.default)("Close Player"),onPress:se}):null),hv()("div",{className:zRe.a.buttonGroupRight},void 0,V?hv()(ILe,{serverEntityID:p,"data-qa-id":"moreButton",providerEntityID:d,metadataItemEntityID:l,isDisabled:w,onMenuChange:le}):null,J?hv()(KOe,{iconComponent:MRe,"data-qa-id":"repeatButton",isDisabled:j,isActive:b,title:Object(Xn.default)("Repeat"),onPress:Se}):null,$?hv()(KOe,{iconComponent:wRe,"data-qa-id":"repeatOneButton",isDisabled:A,isActive:S,title:Object(Xn.default)("Repeat One"),onPress:be}):null,te?hv()(KOe,{iconComponent:xRe,"data-qa-id":"shuffleButton",isDisabled:k,isActive:C,title:Object(Xn.default)("Shuffle"),onPress:Ce}):null,F?hv()(KOe,{iconComponent:rRe,"data-qa-id":"playerEditButton",title:Object(Xn.default)("Edit"),onPress:ce}):null,B?hv()(KOe,{iconComponent:aRe,"data-qa-id":"playerFavoriteButton",title:Object(Xn.default)("Add to Favorites"),onPress:ue}):null,ie?hv()(KOe,{iconComponent:sRe,"data-qa-id":"playerUnfavoriteButton",title:Object(Xn.default)("Remove from Favorites"),onPress:we}):null,G?hv()(KOe,{iconComponent:cRe,"data-qa-id":"playerPhotoInfoButton",title:Object(Xn.default)("Information"),isActive:v,onPress:fe}):null,Y?hv()(KOe,{iconComponent:_Re,"data-qa-id":"playerPhotoStripButton",isActive:m,title:Object(Xn.default)("Show Photo Strip"),onPress:ge}):null,H?hv()(KOe,{iconComponent:dRe,"data-qa-id":"lyricsButton",isDisabled:D,isSelected:g,title:Object(Xn.default)("Lyrics"),onPress:de}):null,ee?hv()(KOe,{iconComponent:TRe,"data-qa-id":"videoSettingsButton",isDisabled:N,isActive:I,title:Object(Xn.default)("Settings"),onPress:Ie}):null,_?hv()(KOe,{iconComponent:tRe,"data-qa-id":"chaptersButton",isActive:f,title:Object(Xn.default)("Chapters"),onPress:oe}):null,Z?hv()(KOe,{iconComponent:IRe,"data-qa-id":"playQueueButton",isDisabled:O,isActive:y,title:Object(Xn.default)("Play Queue"),onPress:ye}):null,Ee?hv()(_Le,{className:zRe.a.volumeButton,"data-qa-id":"volumeButton",volume:h,onPress:Te,onVolumeChange:Pe}):null)),Ee?hv()(KLe,{className:zRe.a.volumeSlider,volume:h,onVolumeChange:Pe}):null)}BRe.defaultProps={className:zRe.a.controls,isMusic:!1,isVideo:!1,isPhoto:!1};var HRe=BRe;var VRe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isVideo},function(e,t){return t.isMusic},function(e,t){return t.isAdVisible},function(e,t){return t.disableNextButton},function(e,t){return t.disablePreviousButton},ioe(),loe(),fIe(),uoe(),function(e,t,n,r,i,a,o,s,l){var c=a.isPostPlayVisible,u=a.positionSeconds,d=a.durationSeconds,p=a.controllable,h=d-u,f=o.subtype===Jn,g=o.subtype===$n,v=s&&s.chapters&&s.chapters.length>0,m=!n&&(e&&!f&&!c||g),y=!!p&&!p.playbackSpeed&&t;return{positionSeconds:u,durationSeconds:d,hasLiveTVProtocol:l.protocols.includes("livetv"),disableLyricsButton:!(o.lyricsStreams&&o.lyricsStreams.length||o.hasPremiumLyrics),disableNextButton:n||r,disablePreviousButton:n||i,disableQueueButton:n,disableSettingsButton:y,disableSkipForwardButton:h<=Zne,showChaptersButton:e&&!c&&v,showDuration:!c,showLyricsButton:t&&!g,showMenuButton:!c&&!f,showQueueButton:!0,showSettingsButton:(!Ig()&&t||e)&&!c&&!f,showShuffleButton:!f,showSkipBackButton:m,showSkipForwardButton:m}})})(HRe);var QRe=n(326),WRe=n.n(QRe),GRe=Xf.a.Component,YRe=99,KRe=10,qRe=parseInt(yQ.a.seekBarTooltipSmallWidth,10),ZRe=parseInt(yQ.a.seekBarTooltipLargeWidth,10),XRe=4,JRe={containerWidth:YRe,containerHeight:YRe};var $Re=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.tooltipClassName,n=e.serverEntityID,r=e.size,i=e.position,a=e.hoverValue,o=e.mediaItems,s=e.mediaIndex,l=e.partIndex,c=e.formatValue,u=e.isVisible;null!=a&&(this._formattedTime=c(a));var d=o&&o[s],p=function(e,t){if(e&&null!=t){var n=vk(e);return null!=n?"/library/parts/"+e.id+"/indexes/"+n+"/"+Math.floor(t):void 0}}(d&&d.Part[l],a);p&&(this._imageUrl=p);var h=function(e){var t=Object(KR.a)(e);if(null==t||null==t.width||null==t.height)return JRe;var n=t.width,r=t.height,i=YRe,a=YRe;return n>r?i=Math.round(i*(n/r)):a=Math.round(a*(r/n)),{containerWidth:i,containerHeight:a}}(d),f=h.containerWidth,g=h.containerHeight,v=function(e,t,n){var r=e.x-t/2;return r<0?r=0:r+t>window.innerWidth&&(r=window.innerWidth-t),{left:r,top:e.y-n-KRe,height:n}}(i,f,g),m=function(e,t,n){var r=n===qp.LARGE?ZRe:qRe,i=t/2-r/2,a=e.x-t/2;if(a<0){var o=XRe,s=e.x-r/2;i=Math.max(s,o)}else if(a+t>window.innerWidth){var l=t-r-XRe,c=t-(window.innerWidth-e.x)-r/2;i=Math.min(c,l)}return{left:i}}(i,f,r);return hv()("div",{className:u?WRe.a.visibleContainer:WRe.a.hiddenContainer,style:v},void 0,this._imageUrl?hv()(Kk,{className:WRe.a.thumbnail,serverEntityID:n,url:this._imageUrl,width:f,height:g}):null,hv()("div",{className:(t||"")+" "+(WRe.a[r]||""),style:m},void 0,this._formattedTime))},t}(GRe);$Re.defaultProps={tooltipClassName:WRe.a.tooltip,size:qp.SMALL,formatValue:TL};var e_e=$Re;var t_e=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){var t=(void 0===e?{}:e).Media;return t&&t.length?{mediaItems:t}:{}})})(e_e),n_e=n(264),r_e=n.n(n_e),i_e=Xf.a.createElement,a_e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onChange=function(e){var t=e.positionValue;r.props.onSeek&&r.props.onSeek({playerType:r.props.playerType,positionSeconds:Math.floor(t/1e3)})},r.onMove=function(e){var t=e.positionValue,n=e.position;r.setState({hoverValue:t,portalPosition:n})},r.onMouseLeave=function(){r.setState({hoverValue:null})},r.state={hoverValue:null,portalPosition:{x:0,y:0}},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.trackClassName,r=e.bufferClassName,i=e.fillClassName,a=e.canSeek,o=e.positionMilliseconds,s=e.offsetMilliseconds,l=e.durationMilliseconds,c=e.bufferStartMilliseconds,u=e.bufferEndMilliseconds,d=e.showBuffer,p=e.noFillTransition,h=e.isDisabled,f=wt()(e,["className","trackClassName","bufferClassName","fillClassName","canSeek","positionMilliseconds","offsetMilliseconds","durationMilliseconds","bufferStartMilliseconds","bufferEndMilliseconds","showBuffer","noFillTransition","isDisabled"]);if(!a)return null;var g=this.state,v=g.hoverValue,m=g.portalPosition;return hv()("div",{onMouseLeave:this.onMouseLeave},void 0,hv()(AW,{className:t,trackClassName:n,secondaryFillClassName:(r||"")+" "+(p&&r_e.a.noFillTransition||""),fillClassName:(i||"")+" "+(p&&r_e.a.noFillTransition||""),value:o,min:s,max:l,secondaryMin:c,secondaryMax:u,showFill:!0,showSecondaryFill:d,autoHideThumb:!0,isDisabled:h,onChange:this.onChange,onMove:h?null:this.onMove}),hv()(WP,{},void 0,i_e(t_e,dv()({},f,{position:m,hoverValue:v,isVisible:null!=v}))))},t}(Xf.a.Component);a_e.defaultProps={className:r_e.a.seekBar,trackClassName:r_e.a.seekBarTrack,fillClassName:r_e.a.seekBarFill,bufferClassName:r_e.a.seekBarBuffer,canSeek:!0,showBuffer:!1,noFillTransition:function(e){return void 0===e&&(e=of.a),"edge"===e.id}()||function(e){return void 0===e&&(e=of.a),"ie"===e.id}()||Ig(),isDisabled:!1};var o_e=a_e;var s_e={onSeek:xSe},l_e=KDe(o_e),c_e=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(),function(e,t){var n=e.serverEntityID,r=e.positionSeconds,i=e.durationSeconds,a=e.mediaIndex,o=e.partIndex,s=e.controllable,l={serverEntityID:n,metadataItemEntityID:t.metadataItem,canSeek:!!i,positionSeconds:r,durationMilliseconds:1e3*i,mediaIndex:a,partIndex:o};return s&&!s.seekTo&&(l.canSeek=!1),l})},s_e)(l_e),u_e=n(997),d_e=n.n(u_e),p_e=Xf.a.createElement;var h_e=function(e){return null!=e.durationMilliseconds?p_e(o_e,dv()({fillClassName:d_e.a.seekBarFill,isDisabled:!0},e)):null};function f_e(){return Object(Iy.createSelector)(aoe("seekStartSeconds"),aoe("seekEndSeconds"),JIe(),function(e,t,n){void 0===e&&(e=0),void 0===t&&(t=0);var r=n&&n.captureBuffer,i=0;return n&&r?(i=r.startedAt,e=r.seekStartSeconds,t=r.seekEndSeconds):n&&(i=n.startedAt),{seekRangeStartedAtSeconds:i,seekStartSeconds:e,seekEndSeconds:t}})}var g_e=Xf.a.createElement;var v_e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).formatPlayerTime=function(e){var n=t.props.timeFormat;return Object(YTe.default)(e/1e3,n)},t.onSeek=function(e){var n=e.positionSeconds,r=t.props,i=r.seekRangeStartedAtSeconds,a=i+r.seekStartSeconds,o=i+r.seekEndSeconds;n<a?n=a:n>o&&(n=o),t.props.onSeek({playerType:t.props.playerType,seekPosition:n})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.canSeek,n=e.currentPosition,r=(e.positionMilliseconds,e.beginsAt),i=e.endsAt,a=(e.durationSeconds,e.streamStartedAt,e.timeFormat,e.seekRangeStartedAtSeconds),o=e.seekStartSeconds,s=e.seekEndSeconds,l=wt()(e,["canSeek","currentPosition","positionMilliseconds","beginsAt","endsAt","durationSeconds","streamStartedAt","timeFormat","seekRangeStartedAtSeconds","seekStartSeconds","seekEndSeconds"]);if(!t)return g_e(o_e,dv()({},l,{positionMilliseconds:1,offsetMilliseconds:0,durationMilliseconds:2,showBuffer:!1,canSeek:!0,isDisabled:!0,formatValue:this.formatCurrentTime,size:qp.LARGE,onSeek:this.onSeek}));var c=1e3*(a?a+o:n),u=1e3*(a?a+s:n),d=1e3*r,p=1e3*(i-1),h=Math.max(d,c),f=Math.min(p,u),g=function(e){var t=e.currentPosition,n=e.positionMilliseconds,r=e.streamStartedAt;return e.lastSeekPosition?1e3*t:1e3*r+n}(this.props);return g_e(o_e,dv()({},l,{positionMilliseconds:g,offsetMilliseconds:d,durationMilliseconds:p,bufferStartMilliseconds:h,bufferEndMilliseconds:f,showBuffer:!0,canSeek:t,formatValue:this.formatPlayerTime,size:qp.LARGE,onSeek:this.onSeek}))},t}(Xf.a.Component);v_e.defaultProps={beginsAt:0,endsAt:0,streamStartedAt:0,seekRangeStartedAtSeconds:0};var m_e=KDe(v_e),y_e=Object(Iy.createSelector)(TTe,function(e){return e.replace(":mm",":mm:ss")});var b_e=Lm(function(){return Object(Iy.createSelector)(y_e,wEe(),PEe(),JIe(),f_e(),ioe(),function(e,t,n,r,i,a){void 0===t&&(t={}),void 0===n&&(n={});var o=n,s=o.beginsAt,l=o.endsAt,c=a.serverEntityID,u=a.controllable,d=l-s,p=Object.assign({serverEntityID:c,metadataItemEntityID:t.entityID,canSeek:!!d,beginsAt:s,endsAt:l,durationSeconds:d,timeFormat:e},i);return u&&!u.seekTo&&(p.canSeek=!1),r&&(p.streamStartedAt=r.startedAt,p.currentPosition=r.currentPosition,p.lastSeekPosition=r.lastSeekPosition),p})},{onSeek:EMe})(m_e),S_e=Xf.a.createElement;var I_e=function(e){var t=e.isAdVisible,n=e.hasLiveTVProtocol,r=e.adPositionMilliseconds,i=e.adDurationMilliseconds,a=wt()(e,["isAdVisible","hasLiveTVProtocol","adPositionMilliseconds","adDurationMilliseconds"]);return t?S_e(h_e,dv()({},a,{positionMilliseconds:r,durationMilliseconds:i,showBuffer:!0})):n?S_e(b_e,a):S_e(c_e,dv()({},a,{showBuffer:!0}))};var C_e=Lm(function(){return Object(Iy.createSelector)(uoe(),function(e){return{hasLiveTVProtocol:e.protocols.includes("livetv")}})})(I_e);function M_e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-guide-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M28 42h112v112H28V42zm0 182h112v112H28V224zm0 182h112v112H28V406zM210 77h322v44.8H210V77zm0 182h322v44.8H210V259zm0 182h322v44.8H210V441z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}M_e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var D_e=M_e,w_e=n(629),P_e=n.n(w_e);var T_e=function(e){var t=e.channelTitle,n=e.channelVCN,r=e.isAlsoAiringVisible,i=e.onPress;return hv()(RS,{className:r?P_e.a.isActive:void 0,onPress:i},void 0,hv()(D_e,{className:P_e.a.icon}),[n,t].filter(Boolean).join(" "))},E_e=Xf.a.createElement,x_e=Xf.a.useCallback;var O_e=Lm(function(){return Object(Iy.createSelector)(Qse(),aoe("isAlsoAiringVisible"),function(e,t){var n=e&&e.Media[0];return{isAlsoAiringVisible:t,channelVCN:n?n.channelVcn:null,channelTitle:n?n.channelTitle:null}})},{dispatchTogglePlayerAlsoAiringState:jMe})(function(e){var t=e.dispatchTogglePlayerAlsoAiringState,n=wt()(e,["dispatchTogglePlayerAlsoAiringState"]),r=e.playerType,i=x_e(function(){t({playerType:r})},[r,t]);return E_e(T_e,dv()({},n,{onPress:i}))});var j_e=function(e){var t=e.playerType,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID;return hv()(zje,{},void 0,hv()(O_e,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,playerType:t}))};var A_e=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(0),function(e,t){return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t?t.metadataItem:null}})})(j_e),N_e=15;var k_e=Lm(function(){return Object(Iy.createSelector)(xse,DEe(),f_e(),function(e,t,n){var r=function(e,t){var n=t.seekRangeStartedAtSeconds,r=t.seekStartSeconds,i=t.seekEndSeconds,a=e-n;return{disablePreviousButton:a<=Yne||a-r<=Yne,disableSkipForwardButton:i-a<=N_e,disableNextButton:i-a<=N_e}}(t,n),i=r.disablePreviousButton,a=r.disableSkipForwardButton,o=r.disableNextButton;return{showRecordButton:!!e.features.subscribe,showRepeatButton:!1,showSettingsButton:!0,showSkipBackButton:!0,showSkipForwardButton:!0,disablePreviousButton:i,disableSkipForwardButton:a,disableNextButton:o}})},function(e,t){var n={playerType:t.playerType};return{onPreviousPress:function(t){e(wMe(n))},onSkipBackPress:function(t){e(PMe(n))},onSkipForwardPress:function(t){e(TMe(n))},onNextPress:function(t){e(DMe(n))}}})(HRe),L_e=n(630),R_e=n.n(L_e);var __e=function(e){var t=e.channelTitle,n=e.isAlsoAiringVisible,r=e.onPress;return hv()(RS,{className:n?R_e.a.isActive:void 0,onPress:r},void 0,hv()(D_e,{className:R_e.a.icon}),t)};var U_e=Lm(function(){return Object(Iy.createSelector)(ioe(),PEe(),JIe(),function(e,t,n){void 0===t&&(t={});var r=t.channelTitle||n.channelIdentifier||Object(Xn.default)("Unknown");return{isAlsoAiringVisible:e.isAlsoAiringVisible,positionSeconds:e.positionSeconds,channelTitle:r}})},function(e,t){var n={playerType:t.playerType};return{onPress:function(t){e(jMe(n))}}})(__e);var z_e=Xf.a.createElement;var F_e=function(e){var t=e.type,n=e.isUnknownAiring,r=wt()(e,["type","isUnknownAiring"]);return n?Object(Xn.default)("Unknown Airing"):t===nr.e?z_e(Gge,r):z_e(fEe,r)};var B_e=Lm(function(){return Object(Iy.createSelector)(ioe(),Object(Iy.createSelector)(JIe(),DEe(),RMe(),function(e,t,n){if(e&&null!=t){for(var r=e.channelIdentifier,i=null,a=null,o=0;o<n.length;o++)for(var s=n[o],l=0;l<s.Media.length;l++){var c=s.Media[l],u=c.beginsAt,d=c.channelIdentifier;u>t&&d===r&&(!a||u<a.beginsAt)&&(i=s,a=c)}return i}}),function(e,t){return t?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:t.entityID,positionSeconds:e.positionSeconds,type:t.type,isUnknownAiring:!1}:{isUnknownAiring:!0}})})(F_e),H_e=n(494),V_e=n.n(H_e);var Q_e=function(e){var t=e.playerType;return hv()("div",{className:V_e.a.container},void 0,hv()(IRe,{className:V_e.a.icon}),hv()(AB,{message:Object(Xn.default)("{openSpan}Up Next:{closeSpan} {openTitle}{closeTitle}"),tags:[{open:"openSpan",close:"closeSpan",component:"span",className:V_e.a.upNext},{open:"openTitle",close:"closeTitle",component:B_e,playerType:t}]}))};var W_e=function(e){var t=e.playerType;return hv()(zje,{},void 0,hv()(U_e,{playerType:t}),hv()(Q_e,{playerType:t}))};function G_e(e){var t=e["aria-label"],n=e.className,r=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-unselected-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 40c132.46 0 240 107.54 240 240s-107.54 240-240 240-240-107.54-240-240 107.54-240 240-240zm0 80c88.306 0 160 71.694 160 160s-71.694 160-160 160-160-71.694-160-160 71.694-160 160-160z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}G_e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Y_e=G_e,K_e=n(327),q_e=n.n(K_e),Z_e=Xf.a.Component,X_e={placement:"top"},J_e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onFollowButtonPress=function(e){r._emitUpdateFollowMuteAction(Xt,!r.props.followed)},r.onMuteButtonPress=function(e){r._emitUpdateFollowMuteAction(Jt,!r.props.muted)},r.onMenuButtonPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen},function(){r.props.onMenuChange&&r.props.onMenuChange(r.state.isMenuOpen)})},r.onMenuClose=function(){r.setState({isMenuOpen:!1},function(){r.props.onMenuChange&&r.props.onMenuChange(!1)})},r.state={isMenuOpen:!1},r._menuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n._emitUpdateFollowMuteAction=function(e,t){var n=this.props,r=n.metadataItemEntityID,i=n.providerEntityID,a=n.tagElement,o=n.ratingKey;this.props.onUpdateFollowMute({metadataItemEntityID:r,providerEntityID:i,actionID:e,tagElement:a,ratingKey:o,value:t})},n.render=function(){var e,t=this.props,n=t.tag,r=t.followed,i=t.muted,a=this.state.isMenuOpen,o=Y_e;return!0===r?(e=q_e.a.isFollowed,o=SI):!0===i&&(e=q_e.a.isMuted,o=US),hv()(RS,{id:this._menuButtonID,className:q_e.a.tag,onPress:this.onMenuButtonPress},void 0,hv()(o,{className:(q_e.a.icon||"")+" "+(e||"")})," ",hv()("span",{className:q_e.a.tagText},void 0,n),hv()(zT,{target:this._menuButtonID,isOpen:a,options:X_e,onMenuClose:this.onMenuClose},void 0,null!=r?hv()(hI,{onPress:this.onFollowButtonPress},void 0,r?Object(Xn.default)("Unfollow {tag}",{tag:n}):Object(Xn.default)("Follow {tag}",{tag:n})):null,null!=i?hv()(hI,{onPress:this.onMuteButtonPress},void 0,i?Object(Xn.default)("Unblock {tag}",{tag:n}):Object(Xn.default)("Block {tag}",{tag:n})):null))},t}(Z_e),$_e=Xf.a.createElement;var eUe=function(e){var t=e.metadataItemEntityID,n=e.providerEntityID,r=e.tags,i=e.onUpdateFollowMute,a=e.onFollowMuteMenuChange;return hv()("div",{},void 0,r.map(function(e){return $_e(J_e,dv()({key:e.ratingKey},e,{metadataItemEntityID:t,providerEntityID:n,onUpdateFollowMute:i,onMenuChange:a}))}))},tUe=["Channel","Topic"];var nUe=iZ(function(){return Object(Iy.createSelector)(coe(),uoe(),function(e,t){var n=[];return tUe.forEach(function(t){var r=e[t];if(r&&r.length){var i=r.reduce(function(e){return function(t,n){return null==n.followed&&null==n.muted||t.push(Object.assign({},n,{tagElement:e})),t}}(t),[]);n.push.apply(n,i)}}),{metadataItemEntityID:e.entityID,providerEntityID:t.entityID,tags:n}})},function(e,t){var n=t.metricsPage;return{onUpdateFollowMute:function(t){e(wae(Object.assign({metricsPage:n},t)))}}})(eUe);nUe.propTypes=Object.assign({},nUe.propTypes,{playerType:Dp.a.string.isRequired});var rUe=nUe,iUe=n(998),aUe=n.n(iUe);var oUe=function(e){var t=e.title;return t?hv()("div",{},void 0,hv()("span",{className:aUe.a.upNext},void 0,Object(Xn.default)("Up Next")),"  ",t):null};var sUe=Lm(function(){return Object(Iy.createSelector)(coe(1),function(e){return e?{title:e.title}:{}})})(oUe);sUe.propTypes=Object.assign({},sUe.propTypes,{playerType:Dp.a.string.isRequired});var lUe=sUe;var cUe=function(e){var t=e.playerType,n=e.onFollowMuteMenuChange;return hv()(zje,{},void 0,hv()(rUe,{playerType:t,onFollowMuteMenuChange:n}),hv()(lUe,{playerType:t}))};function uUe(e){var t=e.playerType,n=e.isPostPlayVisible,r=e.isVideo,i=e.isMusic,a=e.isAdVisible,o=e.isMiniPlayer,s=e.hasLiveTVProtocol,l=e.seekStartMilliseconds,c=e.seekEndMilliseconds,u=e.bufferStartMilliseconds,d=e.bufferEndMilliseconds,p=e.adPositionMilliseconds,h=e.adDurationMilliseconds,f=e.onControlsMenuChange;return hv()(Eje,{},void 0,function(e){var t=e.playerType,n=e.isAdVisible,r=e.isMiniPlayer,i=e.hasGridFeature,a=e.hasLiveTVProtocol,o=e.currentSubType,s=e.adPositionMilliseconds,l=e.adSkipDelaySeconds,c=e.onAdSkipPress,u=e.onFollowMuteMenuChange;return n?hv()(Vje,{skipDelaySeconds:l,positionSeconds:Math.floor(s/1e3),onSkipPress:c}):r?null:o===Jn?hv()(cUe,{playerType:t,onFollowMuteMenuChange:u}):a?hv()(W_e,{playerType:t}):i?hv()(A_e,{playerType:t}):null}(e),hv()(Aje,{},void 0,n?null:hv()(C_e,{playerType:t,isAdVisible:a,seekStartMilliseconds:l,seekEndMilliseconds:c,bufferStartMilliseconds:u,bufferEndMilliseconds:d,adPositionMilliseconds:p,adDurationMilliseconds:h}),hv()(Lje,{component:s?k_e:VRe,playerType:t,hasLiveTVProtocol:s,isVideo:r,isMusic:i,isAdVisible:a,isMiniPlayer:o,onControlsMenuChange:f})))}uUe.defaultProps={isMiniPlayer:!1};var dUe=uUe,pUe=n(265),hUe=n.n(pUe),fUe=90,gUe=500,vUe=parseInt(yQ.a.pagePadding,10),mUe=2*vUe,yUe=vUe/2,bUe=.4;function SUe(e,t,n,r,i,a){var o,s;if(e<t){var l=e-mUe-n;s=DL(o=Math.min(gUe,l),r,i,a)}else{var c=t-(mUe+fUe+n);o=ML(s=Math.min(gUe,c),r,i,a)}return{width:o,height:s}}function IUe(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID,a=e.type,o=e.subtype,s=e.context,l=e.imageUrl,c=e.bottom,u=tOe(a,s,{providerEntityID:r,subtype:o});return hv()(XA,{className:hUe.a.measure},void 0,function(e){var d=e.isMeasured,p=e.width,h=e.height;if(!d)return null;var f,g=c?c+yUe:0,v=SUe(p,h,0,a,o,s);if(g){var m=SUe(p,h,g,a,o,s);f=m.height>0?m.height/v.height:1,f=Math.max(f,bUe)}else f=1;return hv()("div",{className:t,style:{transform:"translate(-50%, -50%) scale("+f+")"}},void 0,hv()(oLe,{cardClassName:hUe.a.card,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataKey:"music",type:a,imageWidth:v.width,imageHeight:v.height,imageUrl:l,showLinkOnly:!0}),hv()("div",{className:hUe.a.titlesContainer},void 0,u.map(function(e,t){return hv()(NTe,{className:t>0?hUe.a.secondaryTitle:hUe.a.primaryTitle,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,component:e},t)})))})}IUe.defaultProps={className:hUe.a.content};var CUe=IUe;var MUe=Lm(function(){return Object(Iy.createSelector)(coe(),function(e){return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.entityID,context:jp,type:e.type,imageUrl:e.parentThumb||e.grandparentThumb}})})(CUe),DUe=n(999),wUe=n.n(DUe);var PUe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.imageUrl,i=e.allowBlur;return hv()("div",{className:wUe.a.backgroundContainer},void 0,hv()(oie,{serverEntityID:t,providerEntityID:n,url:r,allowBlur:i}))};var TUe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isMusic},ioe(),loe(),$N,function(e,t,n,r){void 0===n&&(n={});var i,a=r[t.startMetadataItemEntityID||n.metadataItem];return a&&(i=e?a.parentThumb||a.grandparentThumb:a.grandparentArt||a.art),{serverEntityID:t.serverEntityID,imageUrl:i}})})(PUe),EUe=n(300),xUe=n.n(EUe),OUe=Xf.a.createElement;var jUe=function(e){return OUe(Gq,dv()({className:xUe.a.innerEmptyPage,contentClassName:xUe.a.innerEmptyPageContent,scrollDirection:Zp},e))},AUe=n(1e3),NUe=n.n(AUe),kUe=Xf.a.createElement;var LUe=function(e){return kUe(jUe,dv()({iconClassName:NUe.a.icon,iconComponent:FR},e))},RUe=n(1001),_Ue=n.n(RUe);function UUe(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}UUe.defaultProps={className:_Ue.a.leftTitle};var zUe=UUe,FUe=n(1002),BUe=n.n(FUe);function HUe(e){var t=e.className,n=e.children;return hv()("div",{className:t,"data-qa-id":"preplayMainTitle"},void 0,n)}HUe.defaultProps={className:BUe.a.primaryTitle};var VUe=HUe,QUe=n(1003),WUe=n.n(QUe);function GUe(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}GUe.defaultProps={className:WUe.a.rightTitle};var YUe=GUe,KUe=n(1004),qUe=n.n(KUe);function ZUe(e){var t=e.children,n=e.className;return hv()("div",{className:n,"data-qa-id":"preplaySecondTitle"},void 0,t)}ZUe.defaultProps={className:qUe.a.secondaryTitle};var XUe=ZUe,JUe=n(1005),$Ue=n.n(JUe);function eze(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}eze.defaultProps={className:$Ue.a.tertiaryTitle};var tze=eze,nze=parseFloat(yQ.a.prePlayPosterWidthRatio,10),rze=parseInt(yQ.a.prePlayPosterMinWidth,10),ize=parseInt(yQ.a.prePlayPosterMaxWidth,10);var aze=function(e,t){var n=-1*t+1,r=e*(n/30+nze);return Math.max(Math.min(r,ize+30*n),rze)};function oze(e){var t=e["aria-label"],n=e.className,r=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-marketing-lyrics-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m152.241 116.673c5.933-65.31 60.918-116.673 127.75-116.673 66.833 0 121.818 51.363 127.75 116.673h12.268c6.44 0 11.672 5.233 11.672 11.672 0 6.441-5.232 11.673-11.672 11.673h-12.25c-3.675 40.285-26.023 75.197-58.293 96.058l-19.827 231.997c-1.908 21.892-17.5 39.06-37.958 43.82v36.452c0 6.44-5.232 11.673-11.672 11.673s-11.673-5.233-11.673-11.673v-36.592c-20.51-4.97-36.102-22.26-38.01-44.24l-19.792-231.437c-32.305-20.86-54.653-55.756-58.293-96.058h-12.25c-6.44 0-11.672-5.233-11.672-11.673 0-6.439 5.232-11.672 11.672-11.672zm154.14 349.387 18.62-217.665c-14.052 5.25-29.172 8.278-45.01 8.278-15.837 0-30.957-3.045-45.01-8.312l18.568 217.139c1.242 13.982 12.722 24.5 26.74 24.5 13.685 0 24.902-10.29 26.092-23.94zm-38.045-151.059c0-6.441 5.233-11.673 11.673-11.673s11.672 5.233 11.672 11.673v46.672c0 6.439-5.232 11.673-11.672 11.673s-11.673-5.234-11.673-11.673zm11.655-81.674c53.918 0 97.93-40.966 103.81-93.326h-207.62c5.88 52.36 49.893 93.326 103.81 93.326zm103.81-116.672c-5.88-52.36-49.892-93.328-103.81-93.328-53.917 0-97.93 40.969-103.81 93.328z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}oze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var sze=oze;function lze(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-next-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 320l0-80 360 0 0-160 200 200-200 200 0-160-360 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}lze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var cze=lze;function uze(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-page-prev-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m200 80l-200 200 200 200 0-160 360 0 0-80-360 0 0-160"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}uze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var dze=uze;function pze(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-player-lyrics-timed-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M364 84h-56v29.989a194.698 194.698 0 0 1 27.951 6.126 194.755 194.755 0 0 1 24.136 8.966 195.787 195.787 0 0 1 27.995 15.427 197.227 197.227 0 0 1 48.25 45.312A196.461 196.461 0 0 1 454 217.748a194.576 194.576 0 0 1 18.374 52.568A196.97 196.97 0 0 1 476 308c0 8.956-.604 17.911-1.818 26.785a194.966 194.966 0 0 1-6.297 29.166 194.724 194.724 0 0 1-10.968 28.456 196.15 196.15 0 0 1-17.784 29.982 197.385 197.385 0 0 1-51.543 49.428 195.734 195.734 0 0 1-31.878 17.002 194.692 194.692 0 0 1-38.028 11.555 196.89 196.89 0 0 1-37.05 3.625 197.07 197.07 0 0 1-37.117-3.394 194.66 194.66 0 0 1-38.126-11.327 195.651 195.651 0 0 1-31.993-16.815 197.378 197.378 0 0 1-51.839-49.12 196.2 196.2 0 0 1-17.96-29.865 194.83 194.83 0 0 1-11.136-28.372 194.809 194.809 0 0 1-6.473-29.101A197.463 197.463 0 0 1 84 308c0-12.028 1.091-24.054 3.283-35.881a194.544 194.544 0 0 1 17.634-52.258 196.423 196.423 0 0 1 17.69-28.628 197.522 197.522 0 0 1 22.193-25.085 197.243 197.243 0 0 1 26.136-20.985 195.922 195.922 0 0 1 28.434-15.838A194.565 194.565 0 0 1 252 113.989V84h-56V56h168v28zm-83.499 70.001h-1.002c-2.814.013-5.626.093-8.435.253-5.511.315-11.005.924-16.45 1.827a152.77 152.77 0 0 0-37.505 11.318 153.954 153.954 0 0 0-22.375 12.375 155.41 155.41 0 0 0-37.024 34.668 154.38 154.38 0 0 0-13.799 21.452 152.504 152.504 0 0 0-14.78 41.055A154.8 154.8 0 0 0 126 308c0 7.212.496 14.425 1.497 21.568a152.888 152.888 0 0 0 4.872 22.397 152.714 152.714 0 0 0 8.601 22.316 154.23 154.23 0 0 0 14.247 23.934 155.398 155.398 0 0 0 18.231 20.92 155.18 155.18 0 0 0 23.616 18.615 153.646 153.646 0 0 0 23.909 12.522 152.648 152.648 0 0 0 29.855 8.97A154.944 154.944 0 0 0 280 462c9.782 0 19.564-.915 29.172-2.758a152.648 152.648 0 0 0 29.855-8.97 153.71 153.71 0 0 0 25.464-13.533 155.34 155.34 0 0 0 40.02-38.15 154.175 154.175 0 0 0 14.519-24.308 152.67 152.67 0 0 0 8.601-22.316 152.86 152.86 0 0 0 4.872-22.397A155.47 155.47 0 0 0 434 308c0-10.421-1.039-20.841-3.131-31.052a152.544 152.544 0 0 0-14.78-41.055 154.43 154.43 0 0 0-14.366-22.185 155.298 155.298 0 0 0-37.231-34.447 153.835 153.835 0 0 0-21.601-11.862 152.77 152.77 0 0 0-37.505-11.318 154.437 154.437 0 0 0-16.45-1.827c-2.809-.16-5.621-.24-8.435-.253zM252 336V185.167c8.998-2.085 18.374-3.167 28-3.167 34.771 0 66.271 14.115 89.078 36.922L252 336z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}pze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var hze=pze,fze=n(78),gze=n.n(fze),vze=Xf.a.createElement,mze=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setLineRef=function(e){r.lineRef=e,r.scrollToLine()},r.onContentMeasure=function(e){var t=e.width;r.setState({isMeasured:!0,pageWidth:t})},r.onScrollerMeasure=function(e){var t=e.height;t&&r.setState({isScrollerMeasured:!0,scrollerHeight:t},function(){r.scrollToLine()})},r.onScrollPositionChange=function(e){var t=e.scrollTop;r.setState({scrollTop:t})},r.state={isMeasured:!1,isScrollerMeasured:!1,pageWidth:0,scrollerHeight:0,scrollTop:0},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.lines!==e.lines&&this.setState({scrollTop:0})},n.scrollToLine=function(){if(this.lineRef){var e=this.state,t=e.scrollerHeight,n=e.scrollTop,r=this.lineRef.getBoundingClientRect().height,i=this.lineRef.offsetTop;(i+r>n+t||i<n)&&this.setState({scrollTop:i})}},n.render=function(){var e=this,t=this.props,n=t.serverEntityID,r=t.providerEntityID,i=t.metadataItemEntityID,a=t.type,o=t.subtype,s=t.context,l=t.columnAdjustment,c=t.imageUrl,u=t.positionSeconds,d=t.lines,p=t.selectedIndex,h=t.lyricsStreamsCount,f=t.hasTimedLyrics,g=t.isTimedLyricsActive,v=t.hasLyricsError,m=t.hasLyricsFeature,y=t.isLyricFindProvider,b=t.onPreviousPress,S=t.onNextPress,I=t.onTimedLyricsPress,C=this.state,M=C.isMeasured,D=C.isScrollerMeasured,w=C.pageWidth,P=C.scrollTop,T=aze(w,l),E=DL(T,a,o,s);return m?hv()(XA,{className:gze.a.measure,onMeasure:this.onContentMeasure},void 0,M?hv()("div",{className:gze.a.container},void 0,hv()("div",{},void 0,hv()(oLe,{cardClassName:gze.a.card,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataKey:"music",type:a,imageWidth:T,imageHeight:E,imageUrl:c,showLinkOnly:!0})),hv()("div",{className:gze.a.content},void 0,hv()("div",{className:gze.a.titlesContainer},void 0,hv()(VUe,{},void 0,hv()(fEe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i})),hv()(XUe,{},void 0,hv()(zUe,{},void 0,hv()(mve,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i}))),hv()(tze,{},void 0,hv()(zUe,{},void 0,y?Object(Xn.default)("Powered by {provider}",{provider:"LyricFind"}):null),hv()(YUe,{},void 0,hv()("span",{className:gze.a.rightInfo},void 0,hv()(Kz,{className:(gze.a.timedLyricsButton||"")+" "+(g&&gze.a.isTimedLyricsActive||""),"data-qa-id":"toggleTimedLyrics",iconComponent:hze,title:Object(Xn.default)("Timed Lyrics"),isDisabled:!f,onPress:I})),hv()("span",{className:gze.a.rightInfo},void 0,Object(Xn.default)("{selectedIndex} of {lyricsStreamsCount}",{selectedIndex:p+1,lyricsStreamsCount:h})),hv()("span",{className:gze.a.rightInfo},void 0,hv()(Kz,{iconComponent:dze,"data-qa-id":"previousLyricsPage",title:Object(Xn.default)("Previous"),isDisabled:0===p,onPress:b})),hv()("span",{className:gze.a.rightInfo},void 0,hv()(Kz,{iconComponent:cze,"data-qa-id":"nextLyricsPage",title:Object(Xn.default)("Next"),isDisabled:p===h-1,onPress:S}))))),v?hv()("div",{className:gze.a.innerContent},void 0,hv()(LUe,{title:Object(Xn.default)("There was an error loading the lyrics")})):null,v?null:hv()("div",{className:gze.a.innerContent},void 0,hv()(XA,{className:gze.a.measure,onMeasure:this.onScrollerMeasure},void 0,D?hv()(oT,{className:gze.a.scroller,scrollTop:P,onScrollPositionChange:this.onScrollPositionChange},void 0,d.length?d.map(function(t,n){var r=t.spans,i=t.startOffset,a=t.endOffset,o=Math.round(i/1e3),s=Math.round(a/1e3),l=g&&u>=o&&-1!==i&&(u<s||-1===a);return vze("div",{key:n,className:(gze.a.line||"")+" "+(l&&gze.a.isLineSelected||""),ref:l?e.setLineRef:null},r.map(function(e,t){var n=e.text;return hv()("span",{},t,n)}),hv()(hze,{className:gze.a.lineTimedIcon}))}):hv()(ZE.a,{className:gze.a.spinner})):null)))):null):hv()("div",{className:gze.a.upsellContainer},void 0,hv()(RB,{iconComponent:sze,title:Object(Xn.default)("Song Lyrics"),text:Object(Xn.default)("Still think Elton is saying Hold me closer, Tony Danza? With a Plex Pass, enjoy timed lyrics (when available) to your favorite songs for the ultimate sing-along with the right words!")}),hv()(YH,{serverEntityID:n,modalMetricsProperties:{context:"lyrics"}}))},t}(Xf.a.Component),yze=Xf.a.createElement,bze=Xf.a.Component;function Sze(e){return!(!e||!e.timed)}var Ize={dispatchFetchPlayQueue:hre,dispatchFetchPlayQueueItemLyrics:ure},Cze=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPreviousPress=function(){r.setState(function(e){return{selectedLyricsStreamIndex:Math.max(0,e.selectedLyricsStreamIndex-1)}})},r.onNextPress=function(){r.setState(function(e,t){return{selectedLyricsStreamIndex:Math.min(t.lyricsStreams.length-1,e.selectedLyricsStreamIndex+1)}})},r.onTimedLyricsPress=function(){r.setState(function(e){return{isTimedLyricsActive:!e.isTimedLyricsActive}})},r.state=r.getDefaultState(t),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._populate(),this.props.hasPremiumLyrics&&this.props.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType})},n.componentWillReceiveProps=function(e){this.props.lyricsStreams!==e.lyricsStreams&&this.setState(this.getDefaultState(e,this.state.selectedLyricsStreamIndex))},n.componentWillUpdate=function(e,t){if(this.state.selectedLyricsStreamIndex!==t.selectedLyricsStreamIndex){var n=e.lyricsStreams[t.selectedLyricsStreamIndex];this.setState({isTimedLyricsActive:Sze(n)})}},n.componentDidUpdate=function(e,t){var n=this.props.lyricsStreams[this.state.selectedLyricsStreamIndex];this.props.hasLyricsFeature!==e.hasLyricsFeature&&this.props.dispatchFetchPlayQueue({playerType:this.props.playerType}),!n||n.lyricsError||this.state.selectedLyricsStreamIndex===t.selectedLyricsStreamIndex&&this.props.lyricsStreams===e.lyricsStreams||this._populate()},n.getDefaultState=function(e,t){void 0===t&&(t=0);var n=e.lyricsStreams.length>0?t:null;return{isTimedLyricsActive:Sze(e.lyricsStreams[n]),selectedLyricsStreamIndex:n}},n._populate=function(){var e=this.props,t=e.playerType,n=e.playQueueItemEntityID,r=e.lyricsStreams,i=this.state.selectedLyricsStreamIndex;if(null!=i){var a=r[i];a&&!a.lines.length&&this.props.dispatchFetchPlayQueueItemLyrics({playerType:t,playQueueItemEntityID:n,streamID:a.id,streamKey:a.key})}},n.render=function(){var e=this.props,t=(e.dispatchFetchPlayQueue,e.dispatchFetchPlayQueueItemLyrics,e.lyricsStreams),n=wt()(e,["dispatchFetchPlayQueue","dispatchFetchPlayQueueItemLyrics","lyricsStreams"]),r=this.state,i=r.isTimedLyricsActive,a=r.selectedLyricsStreamIndex,o=t[a];return yze(mze,dv()({lines:null!=o?o.lines:[],lyricsStreamsCount:t.length,selectedIndex:a,hasTimedLyrics:Sze(o),isTimedLyricsActive:i,isLyricFindProvider:!!o&&o.provider===gl.c,hasLyricsError:!!o&&!!o.lyricsError,onPreviousPress:this.onPreviousPress,onNextPress:this.onNextPress,onTimedLyricsPress:this.onTimedLyricsPress},n))},t}(bze),Mze=Lm(function(){return Object(Iy.createSelector)(ioe(),CCe(),coe(),loe(),Py,function(e,t,n,r,i){var a=jp;return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.entityID,playQueueItemEntityID:r.entityID,positionSeconds:e.positionSeconds,context:a,type:n.type,imageUrl:n.parentThumb||n.grandparentThumb,lyricsStreams:r.lyricsStreams,columnAdjustment:i.columnAdjustment,hasLyricsFeature:!!r.lyricsStreams.length||t.ownerFeatures&&t.ownerFeatures.indexOf("lyrics")>-1,hasPremiumLyrics:r.hasPremiumLyrics}})},Ize)(Cze),Dze=n(60),wze=n(108),Pze=n.n(wze),Tze=Object(Dze.DragDropContext)(Pze.a),Eze=[.2,.4,.6,.8];function xze(e,t,n,r){if(n+1<r){var i=n-t-e;if(i<Eze.length)return Eze[i]}return 1}function Oze(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-add-to-playlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m223.992 459.2l336 0 0 44.8-336 0 0-44.8m0-134.4l336 0 0 44.8-336 0 0-44.8m84-134.4l252 0 0 44.8-252 0 0-44.8m-218.392 0l-89.6 0 0 44.8 89.6 0 0 89.6 44.8 0 0-89.6 89.6 0 0-44.8-89.6 0 0-89.6c0 0-53.77 0-37.8 0l-7 0 0 89.6m134.392-134.4l336 0 0 44.8-336 0 0-44.8"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Oze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var jze=Oze,Aze=n(1007),Nze=n.n(Aze),kze=Xf.a.createElement;function Lze(e){var t=e.children,n=wt()(e,["children"]);return kze("div",n,t)}Lze.defaultProps={className:Nze.a.dragLayer};var Rze=Lze,_ze="HOME_HUB_ITEM",Uze="SOURCE_ITEM";function zze(){return Object(Iy.createSelector)(function(e,t){return t.playQueueItemEntityID},soe,function(e,t){return t[e]})}var Fze=n(631),Bze=n.n(Fze),Hze=Xf.a.Component;function Vze(e,t){return Math.random()*(t-e)+e}var Qze=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._setBarValues(t),r.state=r._getInitialState(!0),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){if(!this.props.isPaused)for(var e=0,t=this._bars.length;e<t;e++)this._setTransitionTimeout(e)},n.componentWillReceiveProps=function(e){var t=e.isPaused!==this.props.isPaused,n=e.width!==this.props.width,r=e.barCount!==this.props.barCount,i=e.barGap!==this.props.barGap;(t||n||r||i)&&(this._clearAllTransitionTimeouts(),this._setBarValues(e),this.setState(this._getInitialState(e.isPaused)))},n.componentDidUpdate=function(e,t){if(!this.props.isPaused)for(var n=0,r=this._bars.length;n<r;n++){var i=this._bars[n];t[i]!==this.state[i]&&this._setTransitionTimeout(n)}},n.componentWillUnmount=function(){this._clearAllTransitionTimeouts()},n._setBarValues=function(e){var t=e.width,n=e.barCount,r=e.barGap,i=r*(n-1);this._barGap=r,this._barWidth=Math.floor((t-i)/n),this._bars=[];for(var a=0,o=n;a<o;a++)this._bars.push("bar"+a)},n._getInitialState=function(e){var t=this;return this._bars.reduce(function(n,r,i){return n[r]=t._getRandomStyle(i,e),n},{})},n._getRandomStyle=function(e,t){var n=this.props.unit,r=e*(this._barWidth+this._barGap),i="scaleY("+(t?.2:Vze(.2,1))+")",a=Vze(300,500);return{left:""+r+n,width:""+this._barWidth+n,backgroundColor:this.props.barColor,transitionDuration:a+"ms",WebkitTransform:i,msTransform:i,transform:i}},n._setTransitionTimeout=function(e){var t=this,n=this._bars[e],r=n+"TimeoutID",i=sT(this.state[n].transitionDuration)-100;this[r]=setTimeout(function(){var r;t.setState(((r={})[n]=t._getRandomStyle(e),r))},i)},n._clearAllTransitionTimeouts=function(){for(var e=0,t=this._bars.length;e<t;e++){var n=this._bars[e];clearTimeout(this[n+"TimeoutID"])}},n.render=function(){var e=this,t=this.props,n=t.className,r=t.width,i=t.height,a=t.unit;return hv()("div",{className:n,style:{width:""+r+a,height:""+i+a}},void 0,this._bars.map(function(t){return hv()("div",{className:Bze.a.bar,style:e.state[t]},t)}))},t}(Hze);Qze.defaultProps={className:Bze.a.equalizer,width:14,height:14,barColor:"#fff",barCount:3,barGap:2,isPaused:!0,unit:"px"};var Wze=Qze,Gze=Xf.a.createElement;var Yze=function(e){return Gze(Wze,dv()({},e,{barColor:DF.a.equalizerBarColor}))};function Kze(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-reorder-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m560 380v60h-560v-60h560m-560-130h560v60h-560v-60m0-130h560v60h-560v-60"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Kze.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var qze=Kze;var Zze=function(){return Object(Iy.createSelector)(p$,XZ,Object(Iy.createSelector)(Qse(),$de,function(e,t){return void 0===e&&(e={}),e.source?t.ownerId:null}),function(e,t,n){var r=e.find(function(e){var r=t[e];return r&&r.id===n});return r&&t[r]})},Xze=n(495),Jze=n.n(Xze),$ze=parseInt(mQ.playlistBadgeSize,10);function eFe(e){var t=e.className,n=e.textClassName,r=e.serverEntityID,i=e.attribution,a=e.avatar,o=e.name,s=e.hasOwner;return i?hv()("div",{className:t},void 0,hv()(wk,{className:Jze.a.attribution,attribution:i})):s?hv()("div",{className:t},void 0,hv()("span",{className:n},void 0,o),hv()($k,{className:Jze.a.avatar,serverEntityID:r,url:a,width:$ze,height:$ze})):null}eFe.defaultProps={className:Jze.a.container};var tFe=eFe;var nFe=Lm(function(){return Object(Iy.createSelector)(Qse(),Zze(),function(e,t){return void 0===e&&(e={}),{attribution:e.attribution,hasOwner:!!t,avatar:t&&t.thumb,name:t&&t.title}})})(tFe),rFe=n(266),iFe=n.n(rFe);function aFe(e){var t=e.className,n=e.titlesContainerClassName,r=e.sourceTextClassName,i=e.durationContainerClassName,a=e.serverEntityID,o=e.providerEntityID,s=e.metadataItemEntityID,l=e.type,c=e.subtype,u=e.metadataKey,d=e.title,p=e.duration,h=e.isPreview,f=e.context,g=e.imageWidth,v=e.imageHeight,m=e.imageUrl,y=e.onPlayPress,b=tOe(l,f,{providerEntityID:o,subtype:c}),S="";return p&&(S=h?Object(Xn.default)("Preview"):l===nr.m?TL(p):ty(p)),hv()("div",{className:t},void 0,hv()("div",{className:iFe.a.cardContainer},void 0,hv()(zve,{className:iFe.a.card,serverEntityID:a,providerEntityID:o,metadataItemEntityID:s,metadataKey:u,title:Object(Xn.default)("Play {title}",{title:d}),type:l,imageWidth:g,imageHeight:v,imageUrl:m,onPlayPress:y})),hv()("div",{className:n,"data-qa-id":"playQueueTitleContainer"},void 0,b.map(function(e,t){return hv()(NTe,{serverEntityID:a,providerEntityID:o,metadataItemEntityID:s,component:e,isSecondary:t>0},t)})),hv()(nFe,{textClassName:r,serverEntityID:a,metadataItemEntityID:s}),S?hv()("div",{className:i},void 0,S):null)}aFe.defaultProps={className:iFe.a.container,titlesContainerClassName:iFe.a.titlesContainer,sourceTextClassName:iFe.a.sourceText,durationContainerClassName:iFe.a.durationContainer};var oFe=aFe,sFe=Xf.a.createElement,lFe=64,cFe=36;var uFe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){var t=Ap,n=Gde(CL(e.type,e.subtype,t)===IL?lFe:cFe,null,e.type,e.subtype,e,t);return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,title:e.title,isPreview:!!e.preview,context:t,imageWidth:n.width,imageHeight:n.height,imageUrl:n.url}})},function(e,t){var n={playerType:t.playerType};return{onPlayPress:function(){e(tre(Object.assign({},n,{index:t.sortIndex}))),t.mediaType===ed.d&&e(lre(n))}}})(function(e){e.mediaType;var t=wt()(e,["mediaType"]);return sFe(oFe,t)}),dFe=n(103),pFe=n.n(dFe),hFe={.2:pFe.a.opacity20Precent,.4:pFe.a.opacity40Precent,.6:pFe.a.opacity60Precent,.8:pFe.a.opacity80Precent},fFe=hv()(qze,{});function gFe(e){var t=e.metadataItemEntityID,n=e.playerType,r=e.mediaType,i=e.sortIndex,o=e.opacity,s=e.isCurrentItem,l=e.isPlayerPaused,c=e.isItemDragging,u=e.connectDragSource,d=e.onRemovePress;return hv()("div",{className:(pFe.a.container||"")+" "+(c&&pFe.a.isItemDragging||"")+" "+(s&&pFe.a.isCurrentItem||"")+" "+(null!=o&&hFe[o]||""),"data-qa-id":"playQueueItem"},void 0,hv()("div",{className:pFe.a.leftContainer},void 0,s?hv()(Yze,{isPaused:l}):null,s?null:u(hv()("div",{className:pFe.a.moveControls,"data-qa-id":"playQueueReorder"},void 0,fFe))),hv()(uFe,{className:pFe.a.metadataContainer,sourceTextClassName:pFe.a.sourceText,durationContainerClassName:pFe.a.metadataDurationContainer,metadataItemEntityID:t,playerType:n,mediaType:r,sortIndex:i}),s?null:hv()("div",{className:pFe.a.removeControls},void 0,hv()(Kz,{className:pFe.a.removeButton,"data-qa-id":"playQueueRemove",iconComponent:US,title:Object(Xn.default)("Remove"),kind:a.DANGER,onPress:d})))}gFe.defaultProps={opacity:1,isCurrentItem:!1,isPlayerPaused:!1,isItemDragging:!1,connectDragSource:function(e){return e}};var vFe=gFe;var mFe=Lm(function(){return Object(Iy.createSelector)(zze(),function(e){var t=Object(nr.r)(e.type),n=t&&t.mediaType;return{metadataItemEntityID:e.metadataItem,mediaType:n}})},function(e,t){return{onRemovePress:function(n){e(pre({playerType:t.playerType,playQueueItemEntityID:t.playQueueItemEntityID}))}}})(vFe),yFe=n(1008),bFe=n.n(yFe),SFe=Xf.a.Component,IFe=parseInt(yQ.a.playQueueSidePadding,10);var CFe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.playerType,n=e.item,r=e.itemType,i=e.currentOffset;if(!i||"PLAY_QUEUE_ITEM"!==r)return null;var a="translate3d("+i.x+"px, "+i.y+"px, 0)",o={position:"absolute",WebkitTransform:a,msTransform:a,transform:a,width:window.innerWidth-2*IFe+"px"};return hv()(Rze,{},void 0,hv()("div",{className:bFe.a.dragPreview,style:o},void 0,hv()(mFe,{playQueueItemEntityID:n.playQueueItemEntityID,playerType:t,isItemDragging:!0})))},t}(SFe),MFe=Object(Dze.DragLayer)(function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}})(CFe),DFe=n(1009),wFe=n.n(DFe),PFe=Xf.a.createElement,TFe={hover:function(e,t,n){var r=Object(Fv.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,o=e.sortIndex,s=a>i?o+1:o;e.onPlayQueueItemDragMove(s)}};var EFe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.isDragging,n=e.isDraggingBefore,r=e.isDraggingAfter,i=e.isOver,a=e.connectDropTarget,o=e.connectDragSource,s=wt()(e,["isDragging","isDraggingBefore","isDraggingAfter","isOver","connectDropTarget","connectDragSource"]);return a(hv()("div",{className:(wFe.a.container||"")+" "+(t?"isDragging":"")+" "+(n&&i?"isDraggingBefore":"")+" "+(r&&i?"isDraggingAfter":"")},void 0,PFe(mFe,dv()({connectDragSource:o},s))))},t}(Xf.a.Component),xFe=Object(Dze.DropTarget)("PLAY_QUEUE_ITEM",TFe,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Dze.DragSource)("PLAY_QUEUE_ITEM",{beginDrag:function(e){return{playQueueItemEntityID:e.playQueueItemEntityID}},endDrag:function(e,t,n){e.onPlayQueueItemDragEnd(t.getItem(),t.didDrop())}},function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(EFe)),OFe=n(229),jFe=n.n(OFe),AFe=Xf.a.Component,NFe=hv()(jze,{}),kFe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAddToPlaylistPress=function(){r.setState({isAddToPlaylistModalOpen:!0})},r.onAddToPlaylistClose=function(){r.setState({isAddToPlaylistModalOpen:!1})},r.state={isAddToPlaylistModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.playQueueID,i=e.playQueueItemEntityIDs,a=e.playQueueSelectedItemOffset,o=e.playQueueLength,s=e.playerType,l=e.currentIndex,c=e.moveIndex,u=e.scrollTop,d=e.isPlayerPaused,p=e.showAddToPlaylist,h=e.onPlayQueueItemDragMove,f=e.onPlayQueueItemDragEnd,g=this.state.isAddToPlaylistModalOpen,v=a-l,m=v+i.length-1;return hv()("div",{className:jFe.a.container},void 0,hv()(vTe,{},void 0,hv()(hTe,{title:Object(Xn.default)("Play Queue")}),hv()("div",{className:jFe.a.topContainer},void 0,hv()("div",{className:jFe.a.topLeft},void 0,hv()("span",{className:jFe.a.count},void 0,1===o?Object(Xn.default)("{itemCount} item",{itemCount:o}):Object(Xn.default)("{itemCount} items",{itemCount:o}))),hv()("div",{className:jFe.a.topRight},void 0,p?hv()(gN,{className:jFe.a.tooltipButton,"data-qa-id":"queueAddPlaylist","aria-label":Object(Xn.default)("Add to Playlist"),component:RS,tooltip:Object(Xn.default)("Add to Playlist"),onPress:this.onAddToPlaylistPress},void 0,NFe):null))),hv()(oT,{className:jFe.a.content,scrollTop:u,smoothScroll:!1,autoScroll:!0},void 0,i.map(function(e,t){var n=null!=c,r=l===t,i=n&&c===t,a=n&&c===t+1;return hv()(xFe,{sortIndex:t,opacity:xze(t,v,m,o),playQueueItemEntityID:e,playerType:s,isDraggingBefore:i,isDraggingAfter:a,isCurrentItem:r,isPlayerPaused:d,onPlayQueueItemDragMove:h,onPlayQueueItemDragEnd:f},e)})),hv()(MFe,{playerType:s}),p?hv()(Oge,{serverEntityID:t,providerEntityID:n,playQueueID:r,isOpen:g,onModalClose:this.onAddToPlaylistClose}):null)},t}(AFe),LFe=Xf.a.createElement,RFe=Xf.a.Component,_Fe=parseInt(yQ.a.playQueueItemHeight,10),UFe=Object(Iy.createSelector)(function(e){return e.ui.audioVideoPlayer},CCe(),uoe(),function(e,t,n){var r=e.playQueue,i=Cn.i(n.identifier,Cn.d),a=!r.isLocal&&i;return{serverEntityID:t.entityID,providerEntityID:n.entityID,playQueueID:r.playQueueID,isQueueRepeated:r.repeat,isQueueShuffled:r.playQueueShuffled,isPlayerPaused:e.isPaused,isUpdatePending:r.isUpdatePending,playQueueItemEntityIDs:r.playQueueItems,playQueueSelectedItemOffset:r.playQueueSelectedItemOffset,playQueueLength:r.length,currentIndex:r.currentIndex,showAddToPlaylist:a}}),zFe={dispatchMovePlayQueueItem:dre},FFe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlayQueueItemDragMove=function(e){e!==r.state.moveIndex&&r.setState({moveIndex:e})},r.onPlayQueueItemDragEnd=function(e,t){var n=r.props.playerType,i=r.state.moveIndex;t&&null!=i&&Object(No.a)(function(){r.props.dispatchMovePlayQueueItem(Object.assign({playerType:n},e,{moveIndex:i}))}),r.setState({moveIndex:null})},r.onScrollPositionChange=function(e){var t=e.scrollTop;r.setState({scrollTop:t})},r.shouldUpdateScrollTop=!1,r.state={moveIndex:null,scrollTop:_Fe*t.currentIndex},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.isQueueRepeated===e.isQueueRepeated&&this.props.isQueueShuffled===e.isQueueShuffled||(this.shouldUpdateScrollTop=!0),this.shouldUpdateScrollTop&&this.props.currentIndex!==e.currentIndex&&this.setState({scrollTop:_Fe*e.currentIndex}),this.props.isUpdatePending&&!e.isUpdatePending&&(this.shouldUpdateScrollTop=!1)},n.render=function(){var e=this.props,t=(e.dispatchMovePlayQueueItem,wt()(e,["dispatchMovePlayQueueItem"])),n=this.state,r=n.moveIndex,i=n.scrollTop;return LFe(kFe,dv()({moveIndex:r,scrollTop:i,onPlayQueueItemDragMove:this.onPlayQueueItemDragMove,onPlayQueueItemDragEnd:this.onPlayQueueItemDragEnd,onScrollPositionChange:this.onScrollPositionChange},t))},t}(RFe),BFe=Tze(Lm(UFe,zFe)(FFe));function HFe(e){if(e){var t,n,r=e.match(/^server:\/\/(.*)\/(.*)/);if(r)t=r[1],n=r[2];else{var i=e.match(/^provider:\/\/(.*)/);if(!i)return;t=cv.a,n=i[1]}var a=Object(Tr.a)(Er.n,t);return{serverEntityID:a,providerEntityID:Object(Tr.a)(Er.l,n,a)}}}var VFe=function(e,t){var n=Lm(function(){return Object(Iy.createSelector)(t(),function(e){return HFe(e.source)||{}})})(e);return n.displayName="OverrideEntityIDsWithSource("+Object(vE.a)(e)+")",n};function QFe(e,t){return t9(e,function(e){return t.reduce(function(t,n){return e&&n in e&&(t[n]=e[n]),t},{})})}function WFe(e,t,n){void 0===e&&(e={}),void 0===t&&(t={}),void 0===n&&(n={});var r,i=e,a=i.identifier,o=i.title,s=t,l=s.friendlyName,c=s.sourceTitle;return Cn.i(a,Cn.d)?r=c||l:n.title?r=n.title:o&&(r=o),r}function GFe(){return Object(Iy.createSelector)(fZ(),function(e,t){return t.sourceDirectoryKey},function(e,t){return gZ(e,t)})}function YFe(){return Object(Iy.createSelector)(QFe(Hk(),["identifier","title"]),QFe(Dy(),["friendlyName","sourceTitle"]),GFe(),function(e,t,n){return WFe(e,t,n)})}function KFe(e,t){switch(void 0===t&&(t=wp),e){case"home.continue":return Pp;case"home.newscast":return kp;case"home.recommended":return Lp;default:return t}}var qFe=function(e,t){return e+":"+t};function ZFe(e,t,n,r){var i=r.key,a=r.typeKey,o=r.title,s=r.type,l=r.subtype,c=r.content,u=r.context;return fr(i)?gr(i,e,t,n):/\/library\/sections\/(\d+)\/cluster/.test(i)?gr(pr.TIMELINE,e,t,n):/\/watchnow$/.test(i)?gr(pr.GUIDE,e,t,n):dr(e,t,n,c?{key:i,typeKey:a,context:u}:{key:i,type:s,subtype:l,title:o,context:u})}var XFe=n(211);Dp.a.shape({start:Dp.a.number.isRequired,end:Dp.a.number.isRequired,size:Dp.a.number.isRequired});function JFe(e){return e===Pp||e===kp}function $Fe(e){var t,n,r,i,a,o=e.type,s=e.aspectRatio,l=e.titleCount,c=e.context,u=parseInt(yQ.a.posterTitleHeight,10),d=parseInt(yQ.a.posterTitlePadding,10);return JFe(c)?(t=Math.max(2,l-1),n=300,r=200,a=2,i=6,d*=2):(t=o===LTe?l+3:l,r=s>1?180:80,n=s>1?240:120,a=s>1?2:3,i=s>1?8:11),{titleHeight:t*u+d,minCellWidth:r,preferredCellWidth:n,minColumns:a,maxColumns:i}}var eBe={};function tBe(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var a=CL(e,t,n),o=e+(t||"")+n+r+i;if(eBe.hasOwnProperty(o))return eBe[o];var s=$Fe({type:e,aspectRatio:a,titleCount:i,context:n}),l=s.titleHeight,c=s.minCellWidth,u=s.preferredCellWidth,d=s.minColumns,p=s.maxColumns,h=hF({direction:pF,rows:1,overscan:0,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:function(e){return ePe(Object.assign({},e,{preferredCellWidth:u,minCellWidth:c,minColumns:d,maxColumns:p,columnAdjustment:r,aspectRatio:a}))},getCellHeight:function(e){return Jwe(Object.assign({},e,{aspectRatio:a,titleHeight:l}))}});return h.cellOptions={preferredCellWidth:u,minCellWidth:c,minColumns:d,maxColumns:p,columnAdjustment:r,aspectRatio:a,titleHeight:l},eBe[o]=h,h}var nBe=parseInt(yQ.a.listButtonHeight,10),rBe=hF({direction:pF,rows:1,overscan:4,innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:10,outerPaddingRight:5,outerPaddingBottom:5,outerPaddingLeft:5,getCellWidth:function(e){return ePe(Object.assign({},e,{preferredCellWidth:250,minCellWidth:200,minColumns:2,maxColumns:8,columnAdjustment:0}))},getCellHeight:function(e){return nBe}}),iBe=Object(Iy.createSelector)(Cy,function(e){return e.metadataDirectories});function aBe(){return Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},function(e,t){return t.metricsContext},Dy(),Hk(),Qse(),function(e,t,n,r,i){if(e&&i)return ZFe(n,r,e,{key:i.key,typeKey:i.typeKey,title:i.title,content:i.content,context:i.context||t})})}var oBe=n(1010),sBe=n.n(oBe);var lBe=function(e){var t=e.className,n=e.title,r=e.route,i=CF(e);return hv()("div",{className:t,style:i.style},void 0,hv()(I_,{className:sBe.a.button,kind:a.DARK,size:qp.LARGE,to:r},void 0,n))};var cBe=iZ(function(){return Object(Iy.createSelector)(Object(Iy.createSelector)(function(e,t){return t.metadataDirectoryEntityID},iBe,function(e,t){return t[e]}),aBe(),function(e,t){return void 0===e&&(e={}),{directoryKey:e.key,directoryType:e.type,title:e.title,route:t}})})(lBe),uBe=n(150),dBe=n.n(uBe),pBe=2*parseInt(yQ.a.posterIconPadding,10);var hBe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.directoryKey,i=e.route,a=e.imageWidth,o=e.imageHeight,l=e.imageUrl,c=e.icon,u=e.title,d=e.isOffscreen,p=e.isOtherItemSelected,h=e.onMouseEnter;return hv()("div",{className:dBe.a.cardContainer,"data-qa-id":"directoryPosterCard--"+r},r,hv()("div",{className:dBe.a.card,style:{width:a,height:o}},void 0,hv()("div",{className:dBe.a.face},void 0,!d&&l?hv()(nL,{serverEntityID:t,providerEntityID:n,url:l,width:a,height:o}):null,!d&&c?hv()("div",{className:dBe.a.iconContainer},void 0,hv()(nL,{serverEntityID:t,providerEntityID:n,url:c,width:a-pBe,height:o-pBe,backgroundSize:"contain"})):null,d||l||c||!u?null:hv()("div",{className:dBe.a.titleContainer},void 0,hv()("div",{className:dBe.a.titleItem},void 0,u)),hv()("div",{className:dBe.a.overlay,onMouseEnter:h},void 0,hv()("div",{className:dBe.a.overlayBackground}),hv()(RS,{className:dBe.a.overlayLink,to:i}),p?hv()(gN,{className:dBe.a.overlaySelectCoverButton,component:RS,tooltip:Object(Xn.default)("A different type is selected"),tooltipAttachment:s.TOP_CENTER,showOnFocus:!1,hideOnPress:!1}):null))))},fBe=n(496),gBe=n.n(fBe);var vBe=function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.imageWidth,a=e.imageHeight,o=e.directoryKey,s=e.title,l=e.thumb,c=e.icon,u=e.route,d=e.isOtherItemSelected,p=e.onMouseEnter,h=CF(e),f=!o,g=f||h.isPlaceholder;return hv()("div",{className:t,style:h.style},void 0,g?hv()("div",{className:gBe.a.placeholder,style:{width:i,height:a}}):hv()(hBe,{serverEntityID:n,providerEntityID:r,directoryKey:o,route:u,imageWidth:i,imageHeight:a,imageUrl:l,icon:c,title:s,isOtherItemSelected:d,onMouseEnter:p}),hv()("div",{className:gBe.a.titleContainer},void 0,f?Object(Xn.default)("Loading..."):null,f||!c&&!l?null:hv()(RS,{className:gBe.a.title,title:s,to:u},void 0,s)))};var mBe=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.listContext},function(e,t){return t.cellWidth},Qse(),aBe(),_fe,function(e,t,n,r,i){return void 0===n&&(n={}),{directoryKey:n.key,directoryType:n.type,title:n.title,thumb:n.thumb,icon:n.icon,imageWidth:t,imageHeight:DL(t,n.type,n.subtype,e),route:r,isOtherItemSelected:!!i.activeSelectionType}})})(vBe),yBe=Xf.a.createElement;function bBe(e){var t=function(e){switch(e){case XFe.b:return cBe;default:return mBe}}(e.hubStyle);return function(n){return yBe(t,dv()({},e,n))}}var SBe=Xf.a.createElement;var IBe,CBe,MBe=function(e){var t,n=e.metadataListEntityID,r=e.metadataItemEntityIDs,i=e.sourceDirectory,a=e.containerKey,o=e.listType,s=e.listSubtype,l=e.listContext,c=e.style,u=e.columnAdjustment,d=e.populatedRange,p=(e.route,wt()(e,["metadataListEntityID","metadataItemEntityIDs","sourceDirectory","containerKey","listType","listSubtype","listContext","style","columnAdjustment","populatedRange","route"])),h=p.serverEntityID,f=p.providerEntityID;return t=c===XFe.b?rBe:tBe(o,s,l,u,1),SBe(Wwe,dv()({},p,{containerKey:a,keyPropName:"metadataItemEntityID",items:r,itemsOffset:d.start,layout:t,cellRenderer:bBe({serverEntityID:h,providerEntityID:f,metadataListEntityID:n,sourceDirectory:i,containerKey:a,hubStyle:c})}))},DBe=Object(Iy.createSelector)(_fe,function(e){var t=C.a.pluck(e.activeSelectionItems,"id");return IBe&&C.a.isEqual(IBe,t)?IBe:(IBe=t,t)}),wBe={};function PBe(e,t){if(!e||null==t)return!1;if(e===CBe&&wBe.hasOwnProperty(t))return wBe[t];e!==CBe&&(CBe=e,wBe={});var n=-1!==e.indexOf(t);return wBe[t]=n,n}function TBe(){return Object(Iy.createSelector)(Qse(),DBe,function(e,t){return!!e&&PBe(t,e.ratingKey)})}function EBe(){return Object(Iy.createSelector)(function(e,t){return t.listType},Qse(),function(e,t){void 0===t&&(t={});var n=t.type;if(n){if(n===nr.j)return nr.j;if(n===nr.d)return nr.d;if(e===nr.h)return nr.h;var r=nr.q(n);return r&&r.mediaType}})}function xBe(){return Object(Iy.createSelector)(function(e,t){return t.listSubtype},Qse(),function(e,t){return t?t.subtype:e})}function OBe(){return Object(Iy.createSelector)(function(e,t){return t.listType},Qse(),function(e,t){if(!t)return e;var n=e===nr.h&&t.type===nr.c,r=e===nr.c&&t.type===nr.g;return n||r?e:t.extraType?kTe:t.type})}var jBe=n(632),ABe=n.n(jBe);var NBe=function(e){var t=e.imageWidth,n=e.imageHeight,r=e.isSelected,i={width:t,height:n};return hv()("div",{className:(ABe.a.placeholder||"")+" "+(r&&ABe.a.isSelected||""),style:i})},kBe=n(497),LBe=n.n(kBe),RBe=Xf.a.createElement;var _Be=function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID,a=e.searchResultEntityID,o=e.containerKey,s=(e.cellIndex,e.cellX,e.cellY,e.cellWidth,e.cellHeight,e.isVirtual,e.isVisible,e.isScrolling,e.listType),l=e.listContext,c=e.titleComponents,u=e.isFeaturedHub,d=e.metadataKey,p=e.type,h=e.subtype,f=e.selectionType,g=e.activeSelectionType,v=e.isSelected,m=e.isUnavailable,y=e.imageWidth,b=e.imageHeight,S=e.imageUrl,I=e.onSelectItem,C=e.onDeselectItem,M=wt()(e,["className","serverEntityID","providerEntityID","metadataItemEntityID","searchResultEntityID","containerKey","cellIndex","cellX","cellY","cellWidth","cellHeight","isVirtual","isVisible","isScrolling","listType","listContext","titleComponents","isFeaturedHub","metadataKey","type","subtype","selectionType","activeSelectionType","isSelected","isUnavailable","imageWidth","imageHeight","imageUrl","onSelectItem","onDeselectItem"]),D=CF(e),w=!d,P=w||m||D.isPlaceholder,T=function(e,t,n,r,i){var a=t===LTe,o=t===nr.h,s=n===nr.d;if(!a&&!o&&!s)return e;var l=eOe(n,r,i),c=eOe(t,r,i),u=e.filter(function(e){return!c.includes(e)});return l.concat(u)}(c,s,p,h,l),E=u?T.slice(0,2):[],x=u?T.slice(2):T;return hv()("div",{className:t,style:D.style,"data-qa-id":"cellItem"},void 0,P?hv()(NBe,{imageWidth:y,imageHeight:b,isSelected:v}):RBe(oLe,dv()({serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,containerKey:o,listType:s,listContext:l,metadataKey:d,type:p,imageWidth:y,imageHeight:b,imageUrl:S,selectionType:f,activeSelectionType:g,isSelected:v,onSelectItem:I,onDeselectItem:C},M)),hv()("div",{"data-qa-id":"metadataTitleContainer",className:u?LBe.a.continueWatchingTitleContainer:LBe.a.titleContainer},void 0,w?Object(Xn.default)("Loading..."):null,!w&&E.length?hv()("div",{className:LBe.a.splitTitleContainer},void 0,E.map(function(t,s){return hv()(NTe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,searchResultEntityID:a,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:s>0,isDoubleLine:t.isDoubleLine,isSplitLine:!0},s)})):null,w?null:x.map(function(t,s){return t?hv()(NTe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,searchResultEntityID:a,containerKey:o,metricsContext:e.metricsContext,component:t,isSecondary:E.length+s>0,isDoubleLine:t.isDoubleLine},s):null})))};var UBe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.listContext},function(e,t){return t.cellWidth},Qse(),OBe(),xBe(),EBe(),TBe(),_fe,Object(Iy.createSelector)(function(e,t){return t.providerEntityID},ek,Qse(),function(e,t,n){return void 0===n&&(n={}),!!t[n.providerEntityID||e]}),function(e,t,n,r,i,a,o,s,l){void 0===n&&(n={});var c=Gde(t,null,r,i,n,e);return{itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,isFeaturedHub:JFe(e),metadataKey:n.key,type:r,selectionType:a,activeSelectionType:s.activeSelectionType,isSelected:o,icon:n.icon,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url,isFolder:n.isFolder,isUnavailable:!l}})},function(e,t){var n=t.metadataListEntityID;return{onSelectItem:function(t){e(xfe(Object.assign({metadataListEntityID:n},t)))},onDeselectItem:function(t){e(Ofe(Object.assign({metadataListEntityID:n},t)))}}})(_Be),zBe=Xf.a.createElement;var FBe=function(e){var t=e.metadataListEntityID,n=e.metadataItemEntityIDs,r=e.metricsContext,i=e.containerKey,a=e.listType,o=e.listSubtype,s=e.listContext,l=e.columnAdjustment,c=e.populatedRange,u=wt()(e,["metadataListEntityID","metadataItemEntityIDs","metricsContext","containerKey","listType","listSubtype","listContext","columnAdjustment","populatedRange"]),d=u.serverEntityID,p=u.providerEntityID,h=tOe(a,s,{providerEntityID:p,subtype:o,isExternal:u.hubIdentifier.indexOf("external")>-1});return zBe(Wwe,dv()({},u,{containerKey:i,keyPropName:"metadataItemEntityID",items:n,itemsOffset:c.start,layout:tBe(a,o,s,l,h.length),cellRenderer:fPe({serverEntityID:d,providerEntityID:p,metadataListEntityID:t,containerKey:i,listType:a,listSubtype:o,listContext:s,titleComponents:h,metricsContext:r},UBe)}))};var BBe=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},function(e,t){return t.listContext},function(e,t){return t.allowSourceTitle},function(e,t){return t.metricsPage},Dy(),Hk(),Iwe(),YFe(),Dwe(),function(e,t,n,r,i,a,o,s,l){var c,u,d,p,h=o.hubIdentifier.indexOf("music.video")>-1?RTe:o.type,f=t||KFe(o.hubIdentifier),g=qFe(r,o.context||o.hubIdentifier);if(o.key&&f!==Pp){var v={key:o.key,title:o.title,type:h,pageType:fn.LIST,subtype:o.subtype,context:g};e?c=ZFe(i,a,e,v):o.source?(u=o.source,d=v,c=sr(!(p=Object(Tpe.a)(u)).isServer,p.serverIdentifier,p.providerIdentifier,d)):c=lr(i,a,v)}return{metadataListEntityID:o.metadataList||o.directoryList,component:o.metadataList?FBe:MBe,metricsContext:g,hubIdentifier:o.hubIdentifier,title:o.title,sourceTitle:n?s:null,attribution:o.attribution,route:c,style:o.style,size:o.size,more:o.more,random:o.random,containerKey:o.key,listType:h,listSubtype:o.subtype,listContext:f,isHomeHub:l}})})(Vfe);BBe.propTypes=Object.assign({},BBe.propTypes,{providerEntityID:Dp.a.string.isRequired,serverEntityID:Dp.a.string.isRequired,hubEntityID:Dp.a.string.isRequired,sourceDirectory:ume,allowSourceTitle:Dp.a.bool});var HBe=BBe,VBe=Xf.a.createElement,QBe=Xf.a.Component;var WBe={dispatchPopulateProvider:ef},GBe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.provider.isPopulated||this._populateProvider()},n.componentDidUpdate=function(e){this.props.providerEntityID===e.providerEntityID||this.props.provider.isPopulated||this._populateProvider()},n._populateProvider=function(){this.props.dispatchPopulateProvider({providerEntityID:this.props.providerEntityID,options:{merge:!0}})},n.render=function(){var e=this.props,t=(e.dispatchPopulateProvider,e.provider),n=wt()(e,["dispatchPopulateProvider","provider"]);return t.isPopulated?VBe(HBe,dv()({},n,{listContext:wp})):null},t}(QBe),YBe=VFe(Lm(function(){return Object(Iy.createSelector)(xse,function(e){return{provider:e}})},WBe)(GBe),Iwe),KBe=Xf.a.Component,qBe={opacity:0,pointerEvents:"none"},ZBe={opacity:1,pointerEvents:"auto"},XBe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListReady=function(){++r._readyCount===r._initialCount&&r.setState({isReady:!0})},r.state={isReady:!1},r._readyCount=0,r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._initialCount=this.props.hubEntityIDs.length},n.componentWillReceiveProps=function(e){var t=e.hubEntityIDs.length,n=this.props.hubEntityIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this,t=this.props,n=t.allowHomeHubIndicator,r=t.allowPersistentHomeHubStatus,i=t.allowToggleHomeHub,a=t.className,o=t.serverEntityID,s=t.providerEntityID,l=t.directoryKey,c=t.hubEntityIDs,u=t.sourceDirectory,d=t.isPromoted,p=t.columnAdjustment,h=t.listContext,f=this.state.isReady,g=d?YBe:HBe;return hv()("div",{className:a,style:f?ZBe:qBe},void 0,c.map(function(t){return hv()(g,{serverEntityID:o,providerEntityID:s,hubEntityID:t,sourceDirectory:u,directoryKey:l,allowHomeHubIndicator:n,allowPersistentHomeHubStatus:r,allowToggleHomeHub:i,listContext:h,columnAdjustment:p,onListReady:e.onListReady},t)}))},t}(KBe),JBe=n(1011),$Be=n.n(JBe);function eHe(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}eHe.defaultProps={className:$Be.a.innerContent};var tHe=eHe,nHe=n(1012),rHe=n.n(nHe);function iHe(e){var t=e.className;return hv()("div",{className:t})}iHe.defaultProps={className:rHe.a.divider};var aHe=iHe,oHe=n(395),sHe=n.n(oHe),lHe=Xf.a.createElement,cHe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onLineHeightRef=function(e){e&&r.setState({lineHeight:e.clientHeight})},r.onMeasure=function(e){var t=e.height;r.setState({expandedHeight:t})},r.onTogglePress=function(){r.setState({isCollapsed:!r.state.isCollapsed,allowTransition:!0})},r.state={isCollapsed:!0,allowTransition:!1,lineHeight:0,expandedHeight:0},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.className,n=e.dangerouslySetInnerHTML,r=e.children,i=e.labelLess,a=e.labelMore,o=e.maxLines,s=this.state,l=s.isCollapsed,c=s.allowTransition,u=s.expandedHeight,d=s.lineHeight,p=d*o,h=u>p,f={overflow:"hidden",maxHeight:l?p:u};return hv()("div",{className:t},void 0,d?null:lHe("div",{className:sHe.a.lineHeightMeasure,ref:this.onLineHeightRef}),hv()("div",{className:c?sHe.a.contentTransition:void 0,style:f},void 0,hv()(XA,{ignoreWidth:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,n?hv()("div",{dangerouslySetInnerHTML:n}):r)),h?hv()(AI,{className:sHe.a.readMore,arrowClassName:sHe.a.readMoreArrow,direction:l?Fp:Up,isSelected:!1,onPress:this.onTogglePress},void 0,l?a:i):null)},t}(Xf.a.Component);cHe.defaultProps={labelLess:"Read Less",labelMore:"Read More",maxLines:3};var uHe=cHe,dHe=Xf.a.createElement;function pHe(e){return dHe(uHe,dv()({},e,{labelLess:Object(Xn.default)("Read Less"),labelMore:Object(Xn.default)("Read More")}))}pHe.defaultProps=Object.assign({},uHe.defaultProps);var hHe=pHe,fHe=n(1013),gHe=n.n(fHe);function vHe(e){var t=e.className,n=e.dangerouslySetInnerHTML,r=e.children,i=r?r.split("\n"):[];return hv()(hHe,{className:t,dangerouslySetInnerHTML:n},void 0,i.length>1?i.map(function(e,t){return hv()("p",{},t,e)}):r)}vHe.defaultProps={className:gHe.a.summary};var mHe=vHe,yHe=Xf.a.Fragment,bHe=hv()(aHe,{});var SHe=function(e){var t=e.title,n=e.summary;return hv()(yHe,{},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,t))),bHe,hv()(tHe,{},void 0,hv()(mHe,{},void 0,n)))};function IHe(){return Object(Iy.createSelector)(fZ(),Object(Iy.createSelector)(Qse(),function(e){if(e){var t=e.librarySectionKey,n=e.librarySectionID;return t||(n?"/library/sections/"+n:void 0)}}),function(e,t){return gZ(e,t)})}var CHe=n(1014),MHe=n.n(CHe);function DHe(e){var t=e.className,n=e.linkClassName,r=e.server,i=e.provider,a=e.sourceDirectory,o=e.fallbackFilterKey,s=e.type,l=e.tags,c=e.limit;if(!l||!l.length)return null;var u=s&&Object(nr.r)(s);return hv()("span",{className:t},void 0,l.map(function(e,t){if(!(t>=c)){var s={filters:e.filter,filterLabel:e.tag};!s.filter&&o&&e.id&&(s.filters=o+"="+e.id),u&&(s.type=u.id),e.context&&(s.context=e.context);var d=nj(r,i,a,s);return hv()("span",{},t,hv()(RS,{className:n,to:d,isDisabled:!d},void 0,e.tag),t+1<c&&t+1<l.length?", ":null)}}))}DHe.defaultProps={linkClassName:MHe.a.tagsListLink,limit:1/0};var wHe=DHe,PHe=n(1015),THe=n.n(PHe);function EHe(e){var t=e.children,n=e.className;return hv()("div",{className:n,"data-qa-id":"preplayDetailsContainer"},void 0,t)}EHe.defaultProps={className:THe.a.group};var xHe=EHe,OHe=n(498),jHe=n.n(OHe);function AHe(e){var t=e.children,n=e.className,r=e.labelClassName,i=e.contentClassName,a=e.label;return hv()("div",{className:n},void 0,hv()("div",{className:r},void 0,a),hv()("div",{className:i},void 0,t))}AHe.defaultProps={className:jHe.a.groupItem,labelClassName:jHe.a.label,contentClassName:jHe.a.content};var NHe=AHe;function kHe(e){var t=e.children,n=e.server,r=e.provider,i=e.sourceDirectory,a=e.type,o=e.Director,s=e.Writer,l=e.studio;return t||o.length||s.length||l?hv()(xHe,{},void 0,t,o.length?hv()(NHe,{label:Object(Xn.default)("Directed by")},void 0,hv()(wHe,{server:n,provider:r,sourceDirectory:i,fallbackFilterKey:"director",type:a,tags:o})):null,s.length?hv()(NHe,{label:Object(Xn.default)("Written by")},void 0,hv()(wHe,{server:n,provider:r,sourceDirectory:i,fallbackFilterKey:"writer",type:a,tags:s})):null,l?hv()(NHe,{label:Object(Xn.default)("Studio")},void 0,hv()(wHe,{server:n,provider:r,sourceDirectory:i,type:a,tags:[{filter:"studio="+encodeURIComponent(l),tag:l}]})):null):null}kHe.defaultProps={Director:[],Writer:[]};var LHe=kHe;var RHe=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),function(e,t,n,r){return void 0===r&&(r={}),{server:e,provider:t,sourceDirectory:n,Director:r.Director,Writer:r.Writer,studio:r.studio}})})(LHe);function _He(e,t,n,r){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(Ly)>-1)&&t&&n&&n.isLibraryItem&&!n.isExtra&&function(e){return!e||e.protocol===One||parseInt(e.protocolVersion,10)>=3}(r))}var UHe,zHe=function(){return Object(Iy.createSelector)(Dy(),Qse(),aX(Ly),function(e,t,n){return _He(e,n,t)})},FHe=Mt("INIT_PRE_PLAY_PAGE"),BHe=Mt("INIT_PRE_PLAY_DESCENDANT_LIST"),HHe=Mt("INIT_PRE_PLAY_SIBLING_LIST"),VHe=Mt("INIT_PRE_PLAY_AUGMENTED_HUBS"),QHe=Mt("PRE_FETCH_PRE_PLAY_METADATA_ITEM"),WHe=Mt("FETCH_PRE_PLAY_METADATA_ITEM"),GHe=Mt("FETCH_PRE_PLAY_RELATED_HUBS"),YHe=Mt("FETCH_PRE_PLAY_AUGMENTED_HUBS"),KHe=Mt("MAKE_PRE_PLAY_VIDEO_DECISION"),qHe=Mt("REPOPULATE_PRE_PLAY_POPULAR_TRACKS");function ZHe(e){return e.get("ui").get("prePlayPage")}function XHe(e,t){var n=t.metadataItemEntityID;if(t.containerKeyPattern)return!1;var r=bo(e,t),i=ZHe(e).get("metadataItem");return!(!i||i.server!==r)&&(!n||i.entityID()===n)}function JHe(e,t,n){var r=ZHe(e),i=r.get("siblingList"),a=r.get("descendantList"),o=r.get("relatedHubs");i&&n(Pfe({metadataListEntityID:i.entityID()})),a&&(r.get("metadataItem").get("type")===nr.a?n(Mfe({metadataListEntityID:a.entityID()})):n(Pfe({metadataListEntityID:a.entityID()}))),o&&n(GHe())}function $He(e,t){var n=bo(e,t),r=ZHe(e),i=r.get("metadataItem");if(i&&i.server===n){var a=t.activity.Context;if(a&&a.key===i.get("key")&&(null!=a.exists||null!=a.accessible)){var o=!a.exists||!a.accessible;r.set("isFileUnavailable",o),o&&setTimeout(function(){i.set("isPreFetched",!1)},0)}}}var eVe=Qx(((UHe={}).INIT_PRE_PLAY_PAGE=function(e,t){var n=ZHe(e),r=bo(e,t),i=Co(e,t),a=t.providerEntityID,o=t.metadataKey;if(a!==n.get("providerEntityID")||o!==n.get("metadataKey")){var s=new Qs.a({key:o},{server:r,provider:i}),l=F.join([o.replace(/(\/library)?\/metadata/,"/hubs/metadata"),"related"]),c=PZ(e,zy),u=new ov.default([],{server:r,provider:i,metadataItem:s,hubKey:l,includeExternalMedia:c,includeExternalMetadata:!0,asyncAugmentMetadata:!0});n.restoreDefaults({providerEntityID:a,metadataKey:o,metadataItem:s,siblingKey:n.get("siblingKey"),siblingList:n.get("siblingList"),relatedHubs:u})}},UHe.INIT_PRE_PLAY_DESCENDANT_LIST=function(e,t){var n=ZHe(e),r=bo(e,t),i=Co(e,t),a=To(e,t),o=t.providerEntityID,s=t.descendantKey;if(s){if(o!==n.get("providerEntityID")||s!==n.get("descendantKey")){var l=PZ(e,zy),c="album"===a.get("type")||"artist"===a.get("type")&&a.get("skipChildren"),u=new ll.default({containerKey:s},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:l,includeRelated:c});n.set({descendantKey:s,descendantList:u})}}else n.set({descendantKey:s,descendantList:void 0})},UHe.INIT_PRE_PLAY_SIBLING_LIST=function(e,t){var n=ZHe(e),r=bo(e,t),i=Co(e,t),a=t.providerEntityID,o=t.siblingKey;if(o){if(a!==n.get("providerEntityID")||o!==n.get("siblingKey")){var s=PZ(e,zy),l=new ll.default({containerKey:o},{server:r,provider:i,excludeAllLeaves:!0,includeExternalMedia:s});n.set({siblingKey:o,siblingList:l})}}else n.set({siblingKey:o,siblingList:void 0})},UHe.INIT_PRE_PLAY_AUGMENTED_HUBS=function(e,t,n){var r=ZHe(e),i=r.get("metadataItem");if(i.get("augmentationKey")){var a=new ov.default([],{server:i.server,provider:i.provider,hubKey:i.get("augmentationKey"),wait:1});r.set({augmentedHubs:a}),n(YHe())}else r.set({isAugmentedHubsPending:!1,isAugmentedHubsPopulated:!0})},UHe.PRE_FETCH_PRE_PLAY_METADATA_ITEM=function(e,t){yIe(To(e,t),{forceFetch:!0})},UHe.FETCH_PRE_PLAY_METADATA_ITEM=function(e,t,n){var r=ZHe(e),i=r.get("metadataItem"),a=r.get("isMetadataItemPending");r.set("isMetadataItemPending",!0),yIe(i,{forceFetch:!0}).done(function(){r.set({isMetadataItemPending:!1,isMetadataItemPopulated:!0,metadataItemError:null}),n(VHe())}).fail(function(e,t){t.aborting?r.set("isMetadataItemPending",a):r.set({isMetadataItemPending:!1,metadataItemError:Gi(t)})})},UHe.FETCH_PRE_PLAY_RELATED_HUBS=Ki({key:"relatedHubs",getModel:ZHe}),UHe.FETCH_PRE_PLAY_AUGMENTED_HUBS=Ki({key:"augmentedHubs",getModel:ZHe}),UHe.MAKE_PRE_PLAY_VIDEO_DECISION=function(e,t,n){var r=ZHe(e),i=e.get("user").get("experienceSettings"),a=r.get("metadataItem"),o=Object(J.c)("getDecisionOptions")(a),s=gd.a.getCurrentQuality(a,i,function(e){return n(Wo(e))}),l=FIe.getMediaDecision(Object.assign({item:a,transcodeServer:a.server,quality:s},o));r.set("decisionMediaItem",l.media)},UHe["server/updateActivity"]=function(e,t){"library.refresh.items"===t.activity.type&&$He(e,t)},UHe[tc]=function(e,t){"library.refresh.items"===t.activity.type&&$He(e,t)},UHe["metadata/repopulateMetadataItem"]=function(e,t,n){XHe(e,t)&&JHe(e,0,n)},UHe["ui/repopulatePage"]=function(e,t,n){var r=ZHe(e),i=r.get("metadataItem");if(XHe(e,t))i.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),JHe(e,0,n);else{var a=bo(e,t),o=r.get("siblingList"),s=t.parentMetadataKey;i&&i.server===a&&o&&s&&i.get("parentKey")===s&&n(Pfe({metadataListEntityID:o.entityID()}))}},UHe.REPOPULATE_PRE_PLAY_POPULAR_TRACKS=function(e,t,n){var r=ZHe(e).get("metadataItem"),i=Eo(e,{metadataItemEntityID:t.albumMetadataItemEntityID});r&&i&&r.get("key")===i.get("parentKey")&&n(Pae({serverEntityID:t.serverEntityID,metadataItemEntityID:r.entityID()}))},UHe));function tVe(e,t,n){return!!(!!(e.ownerFeatures&&e.ownerFeatures.indexOf(Ry)>-1)&&t&&t.isLibraryItem&&!t.isExtra&&function(e){return!e||e.protocol===One||parseInt(e.protocolVersion,10)>=3}(n))}var nVe=function(){return Object(Iy.createSelector)(Dy(),Qse(),function(e,t){return tVe(e,t)})},rVe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.onStreamSelect(t.props.stream.id),t.props.onMenuClose()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=e.stream;return hv()(MI,{className:t,isSelected:!!r.selected,onPress:this.onPress},void 0,n)},t}(Xf.a.Component);var iVe,aVe=function(e){var t=e.target,n=e.isOpen,r=e.serverEntityID,i=e.audioStreams,a=e.onMenuClose,o=e.onStreamSelect;return hv()(zT,{target:t,isOpen:n,size:qp.LARGE,onMenuClose:a},void 0,i.map(function(e){return hv()(rVe,{stream:e,onMenuClose:a,onStreamSelect:o},e.id,hv()(a_,{serverEntityID:r,type:"audio",stream:e}))}))},oVe=Ce.a.extend({name:"SubtitleModel",rootPropertyName:"Stream",syncedAttrs:{id:Me.a.integer,key:Me.a.string,streamType:Me.a.integer,codec:Me.a.string,index:Me.a.integer,language:Me.a.string,languageCode:Me.a.string,score:Me.a.float,providerTitle:Me.a.string,title:Me.a.string,displayTitle:Me.a.string,reason:Me.a.string,hearingImpaired:Me.a.boolean,perfectMatch:Me.a.boolean,downloaded:Me.a.boolean}}),sVe=Ue.a.extend({name:"SubtitlesCollection",context:["server","key","language","title","mediaItemID","minimumScore","hearingImpaired","forced"],model:oVe,url:function(){var e={language:this.language};return this.title&&(e.title=this.title),this.mediaItemID&&(e.mediaItemID=this.mediaItemID),this.minimumScore&&(e.minimumScore=this.minimumScore),null!=this.hearingImpaired&&(e.hearingImpaired=this.hearingImpaired),null!=this.forced&&(e.forced=this.forced),F.join([this.key,"/subtitles"],e)}}),lVe=3e4,cVe=2e3,uVe=Mt("ui/subtitlesModal/resetMetadataItemSubtitles"),dVe=Mt("ui/subtitlesModal/fetchMetadataItemSubtitles"),pVe=Mt("ui/subtitlesModal/downloadMetadataItemSubtitle"),hVe=(Mt("ui/subtitlesModal/clearSubtitlesDownloadError"),null);function fVe(e){return e.get("ui").get("subtitlesModal")}function gVe(e,t){hVe&&(hVe=clearTimeout(hVe));var n=t.get("metadataItemEntityID"),r=To(e,{metadataItemEntityID:n}),i=r.server,a=t.get("subtitlesDownloadStartTime"),o=t.get("isSubtitlesDownloaded"),s=t.get("subtitlesDownloadError"),l=t.get("subtitlesDownloadKey");o||s||(a&&Date.now()-a>lVe?t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:Object(Xn.default)("Failed to download subtitles in time")}):hVe=setTimeout(function(){r.fetch({data:{skipRefresh:1},usePopulatedParams:!0}).then(function(){if(r.get("Media").some(function(e){return e.Part.some(function(e){return e.Stream.some(function(e){return e.key===l})})}))return t.set({subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!0,subtitlesDownloadError:null}),void vVe(e);i.get("hasEventConnection")||gVe(e,t)},function(){gVe(e,t)})},cVe))}function vVe(e){var t=e.get("ui").get("audioVideoPlayer");t.get("isOpen")&&Ane(e).refreshRemoteStreams(t)}var mVe=Qx(((iVe={})["ui/subtitlesModal/resetMetadataItemSubtitles"]=function(e){var t=fVe(e),n=t.get("subtitles");hVe&&(hVe=clearTimeout(hVe)),n.abortPendingPopulate(),n.resetPopulatePromise(null),t.restoreDefaults()},iVe["ui/subtitlesModal/fetchMetadataItemSubtitles"]=function(e,t,n){var r=fVe(e),i=function(e){return e.get("user").get("profile")}(e),a=To(e,t),o=a.server.entityID(),s=r.get("subtitles");s&&(s.abortPendingPopulate(),s.resetPopulatePromise(null));var l=new sVe([],{key:a.get("key"),server:a.server,provider:a.provider,language:t.language,title:t.title,mediaItemID:t.mediaItemID,minimumScore:t.minimumScore,hearingImpaired:i.get("defaultSubtitleAccessibility"),forced:i.get("defaultSubtitleForced")});r.set({subtitles:l,serverEntityID:o,metadataItemEntityID:t.metadataItemEntityID,isSubtitlesPending:!0,isSubtitlesPopulated:!1,subtitlesError:null}),l.fetch().then(function(e){r.set({isSubtitlesPending:!1,isSubtitlesPopulated:!0})},function(e,t){t.aborting?r.set("isSubtitlesPending",!1):r.set({isSubtitlesPending:!1,subtitlesError:Vy(t,Object(Xn.default)("Unable to load subtitles"))})})},iVe["ui/subtitlesModal/downloadMetadataItemSubtitle"]=function(e,t,n){var r=fVe(e),i=To(e,t),a=i.server,o={key:t.key,codec:t.codec,language:t.language,hearingImpaired:t.hearingImpaired?1:0,forced:t.forced?1:0,providerTitle:t.providerTitle,mediaItemID:t.mediaItemID,transient:t.transient},s=F.join([i.get("key"),"/subtitles"],o),l=a.getXHROptions(s,{type:"PUT"});r.set({subtitlesDownloadKey:t.key,subtitlesDownloadStartTime:Date.now(),isSubtitlesDownloaded:!1,subtitlesDownloadError:null}),P.a.ajax(l).then(function(t,n,i){var o=i.getResponseHeader("X-Plex-Activity");r.set("subtitlesDownloadActivityID",o),a.get("hasEventConnection")||gVe(e,r)},function(e){r.set({subtitlesDownloadKey:null,subtitlesDownloadError:Vy(e,Object(Xn.default)("Unable to download subtitles"))})})},iVe["ui/subtitlesModal/clearSubtitlesDownloadError"]=function(e){fVe(e).set("subtitlesDownloadError",null)},iVe["server/eventConnectionClose"]=function(e,t){var n=t.serverEntityID,r=fVe(e);n===r.get("serverEntityID")&&gVe(e,r)},iVe[tc]=function(e,t,n){var r=t.activity;if("subtitle.download"===r.type){var i=fVe(e);if(r.uuid===i.get("subtitlesDownloadActivityID")){var a=i.get("serverEntityID"),o=i.get("metadataItemEntityID"),s={subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null},l=null!=r.Response.error;l?(s.isSubtitlesDownloaded=!1,s.subtitlesDownloadError=r.Response.status):s.isSubtitlesDownloaded=!0,i.set(s),l||(vVe(e),n(Pae({serverEntityID:a,metadataItemEntityID:o})))}}},iVe));function yVe(e){return e.ui.subtitlesModal}var bVe=n(574),SVe=["af","sq","ar","an","hy","az","eu","be","bn","bs","br","bg","my","ca","zh","zh-TW","cs","da","nl","en","eo","et","fi","fr","ka","de","gl","el","he","hi","hr","hu","is","id","it","ja","kn","kk","km","ko","ku","lv","lt","lb","mk","ml","ms","mn","no","oc","fa","pl","pt","pt-BR","ro","ru","sr","si","sk","sl","es","sw","sv","ta","te","tl","th","tr","uk","ur","vi"];var IVe=SVe.reduce(function(e,t){return e[t]=dp[t],e},{});function CVe(e){if(IVe[e])return e;var t=hp([e]);return IVe[t]?t:"en"}var MVe=[].concat(SVe).sort(sp).reduce(function(e,t){return e.push(IVe[t]),e},[]),DVe=IVe;function wVe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-sync-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 476c108.248 0 196-87.752 196-196 0-108.248-87.752-196-196-196-108.248 0-196 87.752-196 196 0 108.248 87.752 196 196 196m0 42c-131.444 0-238-106.556-238-238 0-131.444 106.556-238 238-238 131.444 0 238 106.556 238 238 0 131.444-106.556 238-238 238m0-112l112-112-89.6 0 0-140-44.8 0 0 140-89.6 0 112 112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}wVe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var PVe=wVe,TVe=n(173),EVe=n.n(TVe),xVe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){var e=t.props,n=e.subtitleKey,r=e.codec,i=e.languageCode,a=e.providerTitle,o=e.hearingImpaired,s=e.forced;(0,e.onDownloadSubtitle)({key:n,codec:r,languageCode:i,providerTitle:a,hearingImpaired:o,forced:s})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.title,n=e.displayTitle,r=e.score,i=e.perfectMatch,a=e.downloaded,o=e.isDownloading;return hv()(RS,{className:EVe.a.item,isDisabled:a||o,onPress:this.onPress},void 0,hv()("div",{className:EVe.a.titles},void 0,hv()("span",{className:EVe.a.title},void 0,t),hv()("span",{className:EVe.a.secondaryTitle},void 0,n)),hv()("div",{className:EVe.a.score},void 0,i?hv()(Lxe,{className:EVe.a.perfectMatch}):null,r),o?hv()("div",{className:EVe.a.spinnerContainer},void 0,hv()(ZE.a,{size:qp.SMALL})):null,a?hv()(SI,{className:EVe.a.downloadedIcon}):null,o||a?null:hv()(PVe,{className:EVe.a.downloadIcon}))},t}(Xf.a.Component);var OVe=function(e){var t=e.subtitles,n=e.subtitlesDownloadKey,r=e.onDownloadSubtitle;return hv()(oT,{},void 0,t.map(function(e){var t=e.key,i=e.title,a=e.displayTitle,o=e.providerTitle,s=e.score,l=e.codec,c=e.languageCode,u=e.hearingImpaired,d=e.forced,p=e.perfectMatch,h=e.downloaded;return hv()(xVe,{subtitleKey:t,title:i,displayTitle:a,providerTitle:o,score:s,codec:l,languageCode:c,hearingImpaired:u,forced:d,perfectMatch:p,downloaded:h,isDownloading:n===t,onDownloadSubtitle:r},t)}))},jVe=n(196),AVe=n.n(jVe),NVe=Xf.a.Component,kVe=hv()(ZE.a,{}),LVe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSearch=function(){var e=r.state,t=e.language,n=e.title;r.props.onFetchSubtitles({language:t,title:n})},r.onLanguageChange=function(e){var t=Object.keys(DVe).find(function(t){return DVe[t]===e});r.setState({language:t},r.onSearch)},r.onTitleChange=function(e){r.searchTimeoutID&&clearTimeout(r.searchTimeoutID),r.setState({title:e},function(){r.searchTimeoutID=setTimeout(r.onSearch,500)})},r.state={language:CVe(t.defaultSubtitleLanguage),title:""},r.searchTimeoutID=null,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.onSearch()},n.componentDidUpdate=function(e,t){var n=this.props,r=n.isSubtitlesDownloaded,i=n.onModalClose;!e.isSubtitlesDownloaded&&r&&i()},n.componentWillUnmount=function(){this.searchTimeoutID&&clearTimeout(this.searchTimeoutID)},n.render=function(){var e=this.props,t=e.mediaTitle,n=e.subtitles,r=e.showSpinner,i=e.showSearchResults,a=e.showEmptyMessage,s=e.hasSubtitlesError,l=e.subtitlesError,c=e.subtitlesDownloadKey,u=e.hasSubtitlesDownloadError,d=e.subtitlesDownloadError,p=e.onDownloadSubtitle,h=e.onModalClose,f=this.state.language;return hv()("div",{className:AVe.a.modalContainer},void 0,hv()(qN,{onModalClose:h},void 0,hv()(PN,{},void 0,Object(Xn.default)("Subtitles")),u?hv()("div",{},void 0,hv()(FV,{errorMessage:d})):null,hv()(CN,{className:AVe.a.modalBody,scrollDirection:o.NONE},void 0,hv()("div",{className:AVe.a.inputs},void 0,hv()(EV,{className:AVe.a.languageInput,name:"language",value:DVe[f],values:MVe,onChange:this.onLanguageChange}),hv()(gW,{className:AVe.a.titleInput,name:"title",placeholder:t,onChange:this.onTitleChange})),r?hv()("div",{className:AVe.a.centeredContainer},void 0,kVe):null,s?hv()("div",{className:AVe.a.centeredContainer},void 0,l):null,i?hv()(OVe,{subtitles:n,subtitlesDownloadKey:c,onDownloadSubtitle:p}):null,a?hv()("div",{className:AVe.a.centeredContainer},void 0,Object(Xn.default)("No results")):null)))},t}(NVe);var RVe=Lm(function(){return Object(Iy.createSelector)(nX("profile"),Qse(),yVe,function(e,t,n){void 0===t&&(t={});var r=t.Media,i="";if(r&&r.length){var a=r[0].Part;a.length&&(i=Object(bVe.default)(a[0].file,55))}var o=n.subtitles,s=n.isSubtitlesPending,l=n.isSubtitlesPopulated,c=n.subtitlesError,u=n.subtitlesDownloadKey,d=n.isSubtitlesDownloaded,p=n.subtitlesDownloadError,h=s&&!c,f=l&&!c&&o.length>0,g=l&&!c&&0===o.length;return{mediaTitle:i,defaultSubtitleLanguage:e.defaultSubtitleLanguage,subtitles:o,showSpinner:h,showSearchResults:f,showEmptyMessage:g,subtitlesDownloadKey:u,isSubtitlesDownloaded:d,hasSubtitlesError:!!c,subtitlesError:c,hasSubtitlesDownloadError:!!p,subtitlesDownloadError:p}})},function(e,t){var n=t.metadataItemEntityID;return{onFetchSubtitles:function(t){var r=t.language,i=t.title;e(dVe({metadataItemEntityID:n,language:r,title:i}))},onDownloadSubtitle:function(t){var r=t.key,i=t.codec,a=t.languageCode,o=t.providerTitle,s=t.hearingImpaired,l=t.forced;e(pVe({metadataItemEntityID:n,key:r,codec:i,language:a,providerTitle:o,hearingImpaired:s,forced:l}))}}})(LVe);var _Ve,UVe=function(e){var t=e.metadataItemEntityID,n=e.isOpen,r=e.onModalClose;return hv()(VN,{isOpen:n,metricsPage:ka,onModalClose:r},void 0,hv()(RVe,{metadataItemEntityID:t,onModalClose:r}))},zVe=Xf.a.createElement,FVe={dispatchResetMetadataItemSubtitles:uVe},BVe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onModalClose=function(){t.props.dispatchResetMetadataItemSubtitles(),t.props.onModalClose()},t}return Sy()(t,e),t.prototype.render=function(){return zVe(UVe,dv()({},this.props,{onModalClose:this.onModalClose}))},t}(Xf.a.Component),HVe=Lm(null,FVe)(BVe),VVe=["aqt","ass","idx","jss","psb","rt","smi","srt","ssa","sub","txt","utf","utf-8","utf8","vtt"],QVe=Mt("ui/subtitlesUploadModal/resetUploadSubtitles"),WVe=Mt("ui/subtitlesUploadModal/uploadSubtitles");function GVe(e){return e.get("ui").get("subtitlesUploadModal")}var YVe=Qx(((_Ve={})["ui/subtitlesUploadModal/resetUploadSubtitles"]=function(e){GVe(e).restoreDefaults()},_Ve["ui/subtitlesUploadModal/uploadSubtitles"]=function(e,t,n){var r,i,a=t.file,o=To(e,t),s=GVe(e),l=a.name,c=(i=(r=l).lastIndexOf("."))>=0?r.substring(i+1):null;if(VVe.includes(c))if(a.size>1048576)s.set({error:Object(Xn.default)("Subtitle file exceeds 1MB size limit")});else{Object(No.a)(function(){s.set({isUploading:!0,isUploaded:!1,error:null})});var u=new window.FileReader;u.onload=function(t){if(t.target.error)s.set({isUploading:!1,isUploaded:!1,error:Object(Xn.default)("Unable to upload subtitle file")});else{var n=t.target.result,r=F.join([o.get("key"),"subtitles"],{title:l,format:c}),i=o.server.getXHROptions(r,{method:"POST",processData:!1,contentType:!1,data:n});P.a.ajax(i).then(function(){s.set({isUploading:!1,isUploaded:!0,error:null});var t=e.get("ui").get("audioVideoPlayer");(o.fetch({data:{skipRefresh:1},usePopulatedParams:!0}),t.get("isOpen"))&&Ane(e).refreshRemoteStreams(t)},function(e){s.set({isUploading:!1,isUploaded:!1,error:Vy(e,Object(Xn.default)("Unable to upload subtitle file"))})})}},u.readAsText(a)}else s.set({error:Object(Xn.default)("Unsupported subtitle file format")})},_Ve)),KVe=n(499),qVe=n.n(KVe),ZVe=Xf.a.createElement,XVe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onChange=function(e){if(e.target.files&&e.target.files.length){var t=e.target.files[0];r.setState({filename:t.name})}r.props.onChange(e)},r.state={filename:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.inputComponent,n=e.className,r=e.inputClassName,i=e.buttonText,a=(e.isDisabled,e.showFilename),o=wt()(e,["inputComponent","className","inputClassName","buttonText","isDisabled","showFilename"]),s=this.state.filename;return hv()("span",{},void 0,hv()(t,{className:n,component:"label"},void 0,i,ZVe("input",dv()({},o,{className:r,type:"file",onChange:this.onChange}))),a?hv()("span",{className:(qVe.a.filename||"")+" "+(!s&&qVe.a.noFilename||"")},void 0,s||Object(Xn.default)("No file selected")):null)},t}(Xf.a.Component);XVe.defaultProps={inputComponent:I_,inputClassName:qVe.a.fileInput,showFilename:!1};var JVe=XVe,$Ve=n(230),eQe=n.n($Ve),tQe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onDragEnter=function(e){void 0===e&&(e=window.event),e.preventDefault(),r.dropTargetEnteredCounter++,r.setOverDropTargetState()},r.onDragLeave=function(e){void 0===e&&(e=window.event),e.preventDefault(),r.dropTargetEnteredCounter--,r.setOverDropTargetState()},r.onFileDrop=function(e){e.preventDefault();var t,n=r.props,i=n.metadataItemEntityID,a=n.dispatchUploadSubtitles;r.setState({isOverDropTarget:!1}),r.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),a({metadataItemEntityID:i,file:t})},r.dropTargetEnteredCounter=0,r.state={isOverDropTarget:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop)},n.componentDidUpdate=function(e){var t=this.props,n=t.isUploading,r=t.isUploaded,i=t.onModalClose;e.isUploading&&!n&&r&&i()},n.componentWillUnmount=function(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop)},n.setOverDropTargetState=function(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})},n.onWindowDrop=function(e){void 0===e&&(e=window.event),e.preventDefault()},n.onWindowDragOver=function(e){void 0===e&&(e=window.event),e.preventDefault()},n.onDragOver=function(e){void 0===e&&(e=window.event),e.dataTransfer.dropEffect="copy"},n.render=function(){var e=this.props,t=e.isUploading,n=e.isUploaded,r=e.error,i=e.onModalClose,a=this.state.isOverDropTarget;return hv()(qN,{onModalClose:i},void 0,hv()(PN,{},void 0,Object(Xn.default)("Upload Subtitle File")),r?hv()(FV,{errorMessage:r}):null,hv()(CN,{className:eQe.a.modalBody,scrollDirection:Zp},void 0,hv()("div",{className:(eQe.a.container||"")+" "+(a&&eQe.a.dropHover||""),onDrop:t?null:this.onFileDrop,onDragOver:t?null:this.onDragOver,onDragEnter:t?null:this.onDragEnter,onDragLeave:t?null:this.onDragLeave},void 0,t||n?hv()("div",{className:eQe.a.uploadingContainer},void 0,hv()(xV.a,{label:Object(Xn.default)("Uploading subtitle file")})):hv()("div",{className:eQe.a.fileInputContainer},void 0,hv()(JVe,{inputComponent:RS,className:eQe.a.fileInputLink,name:"subtitleFile",buttonText:Object(Xn.default)("Choose a file"),onChange:this.onFileDrop}),hv()("span",{className:eQe.a.separator},void 0,""),Object(Xn.default)("drag and drop")))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{onPress:i},void 0,Object(Xn.default)("Cancel")))))},t}(Xf.a.Component);var nQe=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.subtitlesUploadModal},function(e){return e})},{dispatchUploadSubtitles:WVe})(tQe),rQe=n(1016),iQe=n.n(rQe);var aQe=function(e){var t=e.metadataItemEntityID,n=e.isOpen,r=e.onModalClose;return hv()(VN,{className:iQe.a.modal,isOpen:n,metricsPage:La,onModalClose:r},void 0,hv()(nQe,{metadataItemEntityID:t,onModalClose:r}))},oQe=Xf.a.createElement,sQe={dispatchResetUploadSubtitles:QVe},lQe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onModalClose=function(){t.props.dispatchResetUploadSubtitles(),t.props.onModalClose()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchResetUploadSubtitles,wt()(e,["dispatchResetUploadSubtitles"]));return oQe(aQe,dv()({},t,{onModalClose:this.onModalClose}))},t}(Xf.a.Component),cQe=Lm(null,sQe)(lQe),uQe=n(396),dQe=n.n(uQe),pQe=Xf.a.Component,hQe=Xf.a.Fragment,fQe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onDeletePress=function(){r.setState({isConfirmDeleteModalOpen:!0})},r.onDeleteConfirm=function(){var e=r.props,t=e.subtitlesStream,n=e.onStreamDelete;r.setState({isConfirmDeleteModalOpen:!1}),n(t.key),r.props.onMenuClose()},r.onDeleteCancel=function(){r.setState({isConfirmDeleteModalOpen:!1})},r.state={isConfirmDeleteModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.subtitlesStream,r=e.isStreamDeleteInProgress,i=e.hasExternalSubtitlesStreams,o=e.onMenuClose,s=e.onStreamSelect,l=!!n.key;return hv()("div",{className:dQe.a.stream},void 0,hv()(rVe,{className:i?dQe.a.menuItemContainer:void 0,stream:n,onMenuClose:o,onStreamSelect:s},void 0,hv()(a_,{serverEntityID:t,type:"subtitles",stream:n})),l?hv()(hQe,{},void 0,hv()("div",{className:dQe.a.deleteContainer},void 0,hv()(Kz,{className:dQe.a.deleteButton,iconComponent:US,ariaLabel:Object(Xn.default)("Delete Subtitle"),onPress:this.onDeletePress})),hv()(mK,{isConfirmButtonSpinning:r,isOpen:this.state.isConfirmDeleteModalOpen,metricsPage:"confirmDeleteSubtitleStream",kind:a.DANGER,title:Object(Xn.default)("Delete Subtitle File"),message:Object(Xn.default)("Are you sure you want to delete this subtitle file?"),confirmLabel:Object(Xn.default)("Delete"),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel})):null)},t}(pQe),gQe=Xf.a.Component,vQe=Xf.a.Fragment,mQe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMoreSubtitlesPress=function(){r.setState({isSubtitlesModalOpen:!0})},r.onSubtitlesModalClose=function(){r.setState({isSubtitlesModalOpen:!1})},r.onUploadSubtitlesPress=function(){r.setState({isSubtitlesUploadModalOpen:!0})},r.onSubtitlesUploadModalClose=function(){r.setState({isSubtitlesUploadModalOpen:!1})},r.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.target,n=e.isOpen,r=e.serverEntityID,i=e.metadataItemEntityID,a=e.subtitlesStreams,o=e.isStreamDeleteInProgress,s=e.canShowMoreSubtitlesAction,l=e.canShowUploadSubtitlesAction,c=e.onMenuClose,u=e.onStreamSelect,d=e.onStreamDelete,p=this.state,h=p.isSubtitlesModalOpen,f=p.isSubtitlesUploadModalOpen,g=a.some(function(e){return!!e.key});return hv()(vQe,{},void 0,hv()(zT,{target:t,isOpen:n,size:qp.LARGE,onMenuClose:c},void 0,a.map(function(e){return hv()(fQe,{serverEntityID:r,subtitlesStream:e,isStreamDeleteInProgress:o,hasExternalSubtitlesStreams:g,onMenuClose:c,onStreamSelect:u,onStreamDelete:d},e.id)}),s?hv()(hI,{onPress:this.onMoreSubtitlesPress},void 0,Object(Xn.default)("Search...")):null,l?hv()(hI,{onPress:this.onUploadSubtitlesPress},void 0,Object(Xn.default)("Upload...")):null),hv()(HVe,{metadataItemEntityID:i,isOpen:h,onModalClose:this.onSubtitlesModalClose}),hv()(cQe,{metadataItemEntityID:i,isOpen:f,onModalClose:this.onSubtitlesUploadModalClose}))},t}(gQe),yQe=n(500),bQe=n.n(yQe),SQe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAudioStreamMenuButtonPress=function(e){r.setState({isAudioStreamMenuOpen:!r.state.isAudioStreamMenuOpen})},r.onAudioStreamMenuClose=function(){r.setState({isAudioStreamMenuOpen:!1})},r.onSubtitlesStreamMenuButtonPress=function(e){r.setState({isSubtitlesStreamMenuOpen:!r.state.isSubtitlesStreamMenuOpen})},r.onSubtitlesStreamMenuClose=function(){r.setState({isSubtitlesStreamMenuOpen:!1})},r.state={isAudioStreamMenuOpen:!1,isSubtitlesStreamMenuOpen:!1},r._audioStreamMenuButtonID=PS(),r._subtitlesStreamMenuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.metadataItemEntityID,r=e.mediaItem,a=e.isStreamDeleteInProgress,o=e.canShowMoreSubtitlesAction,s=e.canShowUploadSubtitlesAction,l=e.onAudioStreamSelect,c=e.onSubtitlesStreamSelect,u=e.onSubtitlesStreamDelete,d=this.state,p=d.isAudioStreamMenuOpen,h=d.isSubtitlesStreamMenuOpen;if(!r)return hv()(xHe,{},void 0,hv()(NHe,{label:Object(Xn.default)("Video")},void 0,hv()("span",{className:bQe.a.loadingMessage},void 0,Object(Xn.default)("Loading..."))),hv()(NHe,{label:Object(Xn.default)("Audio")},void 0,hv()("span",{className:bQe.a.loadingMessage},void 0,Object(Xn.default)("Loading..."))),hv()(NHe,{label:Object(Xn.default)("Subtitles")},void 0,hv()("span",{className:bQe.a.loadingMessage},void 0,Object(Xn.default)("Loading..."))));var f=Av.a.get("audio").id,g=Object(zs.a)(r,{streamType:f}),v=EL(r),m=Av.a.get("subtitles").id,y=Object(zs.a)(r,{streamType:m}),b=xL(r),S=o||y.length>1,I=hv()(a_,{serverEntityID:t,type:"audio",stream:v}),C=hv()(a_,{serverEntityID:t,type:"subtitles",stream:b});return hv()(xHe,{},void 0,hv()(NHe,{label:Object(Xn.default)("Video")},void 0,hv()(a_,{serverEntityID:t,type:"video",mediaItem:r})),hv()(NHe,{label:Object(Xn.default)("Audio")},void 0,g.length>1?hv()(AI,{id:this._audioStreamMenuButtonID,direction:p?i.UP:i.DOWN,onPress:this.onAudioStreamMenuButtonPress},void 0,I):I),hv()(NHe,{label:Object(Xn.default)("Subtitles")},void 0,S?hv()(AI,{id:this._subtitlesStreamMenuButtonID,direction:h?i.UP:i.DOWN,onPress:this.onSubtitlesStreamMenuButtonPress},void 0,C):C),hv()(aVe,{target:this._audioStreamMenuButtonID,isOpen:p,serverEntityID:t,audioStreams:g,onMenuClose:this.onAudioStreamMenuClose,onStreamSelect:l}),hv()(mQe,{target:this._subtitlesStreamMenuButtonID,isOpen:h,serverEntityID:t,metadataItemEntityID:n,subtitlesStreams:y,isStreamDeleteInProgress:a,canShowMoreSubtitlesAction:o,canShowUploadSubtitlesAction:s,onMenuClose:this.onSubtitlesStreamMenuClose,onStreamSelect:c,onStreamDelete:u}))},t}(Xf.a.Component),IQe=Xf.a.createElement,CQe=Xf.a.Component;var MQe={dispatchMakePrePlayVideoDecision:KHe,dispatchDeleteMetadataItemStream:jae,dispatchSelectMetadataItemStream:Dae},DQe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onAudioStreamSelect=function(e){t.props.dispatchSelectMetadataItemStream({metadataItemEntityID:t.props.metadataItemEntityID,streamTypeString:"audio",streamID:e,allParts:!0,metricsPage:t.props.metricsPage})},t.onSubtitlesStreamSelect=function(e){t.props.dispatchSelectMetadataItemStream({metadataItemEntityID:t.props.metadataItemEntityID,streamTypeString:"subtitles",streamID:e,allParts:!0,metricsPage:t.props.metricsPage})},t.onSubtitlesStreamDelete=function(e){t.props.dispatchDeleteMetadataItemStream({metadataItemEntityID:t.props.metadataItemEntityID,streamKey:e,metricsPage:t.props.metricsPage})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchMakePrePlayVideoDecision()},n.componentDidUpdate=function(e){e.mediaItems!==this.props.mediaItems&&e.dispatchMakePrePlayVideoDecision()},n.render=function(){var e=this.props,t=(e.metricsPage,e.dispatchMakePrePlayVideoDecision,e.dispatchSelectMetadataItemStream,wt()(e,["metricsPage","dispatchMakePrePlayVideoDecision","dispatchSelectMetadataItemStream"]));return IQe(SQe,dv()({},t,{onAudioStreamSelect:this.onAudioStreamSelect,onSubtitlesStreamSelect:this.onSubtitlesStreamSelect,onSubtitlesStreamDelete:this.onSubtitlesStreamDelete}))},t}(CQe),wQe=iZ(function(){return Object(Iy.createSelector)(function(e){return e.ui.prePlayPage.decisionMediaItem},Qse(),zHe(),nVe(),function(e,t,n,r){return{mediaItem:e,mediaItems:t.Media,isStreamDeleteInProgress:t.isStreamDeleteInProgress,canShowMoreSubtitlesAction:n,canShowUploadSubtitlesAction:r}})},MQe)(DQe),PQe=n(501),TQe=n.n(PQe);var EQe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID;return hv()(YUe,{className:TQe.a.ratingRightTitle},void 0,hv()($xe,{className:TQe.a.starRating,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(Sxe,{className:TQe.a.criticRating,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))};var xQe=n(1017),OQe=n.n(xQe);function jQe(e){var t=e.className,n=e.separator;return hv()("span",{className:t},void 0,n)}jQe.defaultProps={className:OQe.a.separator,separator:""};var AQe=jQe,NQe=n(1018),kQe=n.n(NQe),LQe=Xf.a.createElement;function RQe(e){return LQe(I_,e)}RQe.defaultProps={className:kQe.a.statusButton,size:qp.SMALL};var _Qe=RQe;var UQe=function(e){var t=e.server,n=e.provider,r=e.sourceDirectory,i=e.contentRating;if(!i)return null;var a=nj(t,n,r,{filters:encodeURIComponent("contentRating="+encodeURIComponent(i)),filterLabel:i});return hv()(_Qe,{to:a},void 0,cxe(i))};var zQe=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),function(e,t,n,r){return void 0===r&&(r={}),{server:e,provider:t,sourceDirectory:n,contentRating:r.contentRating}})})(UQe),FQe=n(633),BQe=n.n(FQe);var HQe=function(e){var t=e.mediaGrabError,n=e.onPress;return t?hv()(_Qe,{className:BQe.a.failedButton,title:t,onPress:n},void 0,Object(Xn.default)("Failed Recording")):hv()(_Qe,{className:BQe.a.partialButton,onPress:n},void 0,Object(Xn.default)("Partial Recording"))},VQe=n(1019),QQe=n.n(VQe);function WQe(e){var t=e.className,n=e.children;return hv()("span",{className:t},void 0,n)}WQe.defaultProps={className:QQe.a.tertiaryTitleSpacer};var GQe=WQe,YQe=n(1020),KQe=n.n(YQe);function qQe(e){var t=e.className,n=e.onPress;return hv()(_Qe,{className:t,onPress:n},void 0,Object(Xn.default)("Unavailable"))}qQe.defaultProps={className:KQe.a.unavailableButton};var ZQe=qQe,XQe=hv()(AQe,{});var JQe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.duration,a=e.saved,o=e.viewCount,s=e.viewOffset,l=e.isFileUnavailable,c=e.isPartialMediaGrab,u=e.mediaGrabError,d=e.onGetInfoPress,p=!o&&!s,h=!!s&&s<i,f=!!i||p||h;return hv()(zUe,{},void 0,f?hv()(GQe,{},void 0,hv()(KEe,{duration:i}),i&&(p||h)?XQe:null,null==a&&p||null!=a&&a&&p?Object(Xn.default)("Unplayed"):null,h?hv()(GEe,{duration:i,viewOffset:s}):null):null,hv()(zQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),l?hv()(ZQe,{onPress:d}):null,l||!c&&!u?null:hv()(HQe,{mediaGrabError:u,onPress:d}))};var $Qe=Lm(function(){return Object(Iy.createSelector)(Qse(),Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t={isPartialMediaGrab:!1,mediaGrabError:null},n=e.Media;if(!n||!n.length)return t;for(var r=0;r<n.length;r++){var i=n[r],a=i.mediaGrabPartialRecording,o=i.mediaGrabError;a&&(t.isPartialMediaGrab=!0),o&&(t.mediaGrabError=i.mediaGrabError)}return t}),Object(Iy.createSelector)(function(e){return e.ui.prePlayPage},Qse(),function(e,t){if(void 0===t&&(t={}),e.isFileUnavailable)return!0;var n=t.Media;if(!n||!n.length)return!1;for(var r=0,i=n.length;r<i;r++){var a=n[r].Part;if(a&&a.length)for(var o=0,s=a.length;o<s;o++){var l=a[o];if(!1===l.exists||!1===l.accessible)return!0}}return!1}),function(e,t,n){return void 0===e&&(e={}),Object.assign({duration:e.duration,saved:e.saved,viewCount:e.viewCount,viewOffset:e.viewOffset,type:e.type,subtype:e.subtype,isFileUnavailable:n},t)})},function(e,t){return{onGetInfoPress:function(n){e(yde({metadataItemEntityID:t.metadataItemEntityID}))}}})(JQe);var eWe=function(e){var t=e.originallyAvailableAt;return hv()(YUe,{},void 0,t?Object(Xn.default)("{monthName} {day}, {year}",{monthName:GTe(Fb(Object(nl.a)(t))),day:Object(ove.default)(t,"d"),year:Object(ove.default)(t,"yyyy")}):null)};var tWe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{originallyAvailableAt:e.originallyAvailableAt}})})(eWe),nWe=Xf.a.Fragment,rWe=hv()(aHe,{});function iWe(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.type,a=e.summary,o=e.showStreams;return hv()(nWe,{},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,hv()(Gge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),hv()(XUe,{},void 0,hv()(zUe,{},void 0,hv()(FEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(tze,{},void 0,hv()($Qe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(tWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),rWe,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i}),o?hv()(wQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,hv()(mHe,{},void 0,a)))}iWe.defaultProps={showStreams:!0};var aWe=iWe,oWe=Xf.a.Fragment,sWe=hv()(aHe,{});var lWe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.summary;return hv()(oWe,{},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,hv()(Gge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),hv()(XUe,{},void 0,hv()(zUe,{},void 0,hv()(FEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(tze,{},void 0,hv()($Qe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(tWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),sWe,hv()(tHe,{},void 0,hv()(mHe,{dangerouslySetInnerHTML:{__html:i}})))};var cWe=function(e){var t=e.server,n=e.provider,r=e.sourceDirectory,i=e.type,a=e.Genre;return hv()(wHe,{server:t,provider:n,sourceDirectory:r,fallbackFilterKey:"genre",type:i,tags:a,limit:2})};var uWe=function(e){var t=e.server,n=e.provider,r=e.sourceDirectory,i=e.Genre,a=!(!i||!i.length);return hv()(YUe,{},void 0,a?hv()(cWe,{server:t,provider:n,sourceDirectory:r,Genre:i}):null)};var dWe=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),function(e,t,n,r){return void 0===r&&(r={}),{server:e,provider:t,sourceDirectory:n,Genre:r.Genre}})})(uWe),pWe=Xf.a.Fragment,hWe=hv()(aHe,{});function fWe(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.title,a=e.year,o=e.summary,s=e.showStreams;return hv()(pWe,{},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,i)),hv()(XUe,{},void 0,hv()(zUe,{},void 0,a),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(tze,{},void 0,hv()($Qe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),hWe,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),s?hv()(wQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,hv()(mHe,{},void 0,o)))}fWe.defaultProps={showStreams:!0};var gWe=fWe,vWe=Xf.a.createElement;var mWe,yWe=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{type:e.type,subtype:e.subtype,title:e.title,year:e.year,summary:e.summary}})})(function(e){var t=function(e,t){switch(t){case er:switch(e){case nr.e:return lWe}}switch(e){case nr.e:return aWe;case nr.g:return gWe;case nr.c:return SHe}return SHe}(e.type,e.subtype);return vWe(t,e)}),bWe=Mt("ui/player/playQueue/toggleAutoPlay"),SWe=Object.assign({},mre,((mWe={})["ui/player/playQueue/savePlayQueueState"]=function(e,t,n){var r,i=t.playerType,a=e.get("user").id,o=Lee(e,i),s=o.get("playQueue"),l=e.get("deviceSettings"),c={providerEntityID:o.get("providerEntityID"),serverEntityID:o.get("serverEntityID"),playQueueOffset:o.get("positionSeconds"),playQueueType:s.get("type"),playQueueRepeat:s.get("repeat"),playQueueID:s.get("playQueueID")},u=l.get("restorePlayQueue");n(Os({restorePlayQueue:Object.assign({},u,(r={},r[a]=c,r))}))},mWe["ui/player/playQueue/removePlayQueueState"]=function(e,t,n){var r=e.get("user").id,i=e.get("deviceSettings").get("restorePlayQueue"),a=Object.assign({},i);delete a[r],n(Os({restorePlayQueue:a}))},mWe["ui/player/playQueue/toggleAutoPlay"]=function(e,t,n){var r=t.playerType,i=e.get("user").get("experienceSettings").get("autoPlay"),a=Lee(e,r);Ane(e).changeAutoPlay(a,!i,n)},mWe)),IWe=n(174),CWe=n.n(IWe),MWe=Xf.a.Component,DWe=parseInt(mQ.postPlayPosterWidth,10),wWe=parseInt(mQ.postPlayTitleHeight,10)+parseInt(mQ.postPlayAutoPlayHeight,10),PWe=10,TWe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.height,n=Math.min(DL(DWe,r.props.type,r.props.subtype,Tp),t-wWe),i=ML(n,r.props.type,r.props.subtype,Tp);r.setState({isMeasured:!0,width:i,height:n})},r.onCountdown=function(){var e=r.state.secondsLeft-1;e<=0?r.props.onPlay():r.setState({secondsLeft:e})},r.state={isMeasured:!1,width:0,height:0,secondsLeft:PWe},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.autoPlayEnabled&&(this._tickIntervalID=setInterval(this.onCountdown,1e3))},n.componentWillReceiveProps=function(e){this.props.autoPlayEnabled&&!e.autoPlayEnabled&&(clearInterval(this._tickIntervalID),this.setState({secondsLeft:PWe})),!this.props.autoPlayEnabled&&e.autoPlayEnabled&&(this._tickIntervalID=setInterval(this.onCountdown,1e3))},n.componentWillUnmount=function(){clearInterval(this._tickIntervalID)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.type,i=e.posterUrl,a=e.autoPlayEnabled,o=e.onToggleAutoPlay,s=e.onPlay,l=this.state,c=l.isMeasured,u=l.width,d=l.height,p=l.secondsLeft,h=(PWe-p+1)/PWe*100;return hv()(XA,{className:CWe.a.container,onMeasure:this.onContentMeasure},void 0,hv()("div",{className:CWe.a.title},void 0,Object(Xn.default)("Playing Next")),c?hv()("div",{className:CWe.a.poster,style:{width:u,height:d}},void 0,hv()(yL,{serverEntityID:t,providerEntityID:n,type:r,width:u,height:d,url:i}),a?hv()("div",{className:CWe.a.progress},void 0,hv()(UQ,{size:u/4,lineWidth:3,progress:h,showProgressText:!1,easing:AQ}),hv()("span",{className:CWe.a.timeLeft},void 0,p)):null,hv()(Pve,{className:CWe.a.playButton,circleClassName:CWe.a.playCircle,"aria-label":Object(Xn.default)("Play Next"),onPress:s})):null,hv()(sW,{className:a?CWe.a.autoPlayOn:CWe.a.autoPlayOff,name:"autoPlayCheck",value:a,checkboxText:a?Object(Xn.default)("Auto Play On"):Object(Xn.default)("Auto Play Off"),onChange:o}))},t}(MWe);var EWe=Lm(function(){return Object(Iy.createSelector)(ioe(),Qse(),Py,function(e,t,n){return void 0===t&&(t={}),{type:t.type,posterUrl:t.thumb,autoPlayEnabled:n.autoPlay}})},function(e,t){var n=t.playerType;return{onToggleAutoPlay:function(){e(bWe({playerType:n}))},onPlay:function(){e(KSe({playerType:n}))}}})(TWe),xWe=n(502),OWe=n.n(xWe);var jWe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.hubEntityIDs,a=e.playerType;return hv()("div",{className:OWe.a.container},void 0,hv()("div",{className:OWe.a.poster},void 0,hv()(EWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playerType:a})),hv()(oT,{className:OWe.a.details,smoothScroll:!1,autoScroll:!0},void 0,hv()(yWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showStreams:!1}),hv()(tHe,{},void 0,i&&i.length>0?hv()(XBe,{serverEntityID:t,providerEntityID:n,hubEntityIDs:i,columnAdjustment:1}):null)))};var AWe=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(),loe(1),function(e,t,n){return n?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:n.metadataItem,hubEntityIDs:t.postPlay}:{}})})(jWe),NWe=n(634),kWe=n.n(NWe),LWe=sT(mT.a.defaultSpeed),RWe=BP.div({enter:{opacity:1,duration:LWe},exit:{opacity:0,duration:LWe,delay:4e3}});function _We(e){var t=e.className,n=e.isToastVisible,r=e.isControlsVisible,i=e.metadataItemEntityID,a=e.playerType;return r?null:hv()(FP,{flipMove:!1},void 0,n?hv()(RWe,{className:t},"toast",hv()(iAe,{className:kWe.a.metadataContainer,metadataItemEntityID:i,playerType:a})):null)}_We.defaultProps={className:kWe.a.toast};var UWe=_We,zWe=1,FWe=5;var BWe=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(),function(e,t){return t.isControlsVisible},function(e,t,n){if(!t)return{isToastVisible:!1};var r=e.positionSeconds,i=e.durationSeconds-r,a=t.type===nr.c&&t.subtype===tr;return{isToastVisible:!n&&a&&(r===zWe||i===FWe),metadataItemEntityID:t.metadataItem}})},function(e,t){return{}})(UWe),HWe=n(231),VWe=n.n(HWe),QWe=Xf.a.Component,WWe=50,GWe=hv()(US,{}),YWe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onDecreasePress=function(){var e=t.props,n=e.offset;(0,e.dispatchChangeSubtitleOffset)(n-WWe)},t.onIncreasePress=function(){var e=t.props,n=e.offset;(0,e.dispatchChangeSubtitleOffset)(n+WWe)},t.onResetPress=function(){(0,t.props.dispatchChangeSubtitleOffset)(0)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.offset,n=e.bottom,r=e.dispatchCloseSubtitlesOffset,i=e.onDimensionsChange;return hv()(Xwe,{className:VWe.a.container,bottom:n,onDimensionsChange:i},void 0,hv()(RS,{className:VWe.a.closeButton,onPress:r},void 0,GWe),hv()("div",{className:VWe.a.title},void 0,Object(Xn.default)("Subtitle Offset: {offset}",{offset:t+" ms"})),hv()("div",{className:VWe.a.buttonContainer},void 0,hv()(I_,{className:VWe.a.button,kind:Qp,size:qp.SMALL,onPress:this.onDecreasePress},void 0,"-",WWe," ms"),hv()(I_,{className:VWe.a.button,kind:Qp,size:qp.SMALL,onPress:this.onIncreasePress},void 0,"+",WWe," ms"),hv()(I_,{className:VWe.a.button,kind:Qp,size:qp.SMALL,onPress:this.onResetPress},void 0,Object(Xn.default)("Reset"))))},t}(QWe);YWe.defaultProps={offset:0};var KWe=YWe;var qWe=Lm(function(){return Object(Iy.createSelector)(nCe(),function(e){return e.selectedSubtitlesStream})},function(e,t){return{dispatchChangeSubtitleOffset:function(n){e(VSe({playerType:t.playerType,subtitleOffset:n}))},dispatchCloseSubtitlesOffset:function(){e(_Se({playerType:t.playerType}))}}})(KWe);function ZWe(){return!Ig()&&!0}var XWe=function(){return Object(Iy.createSelector)(JSe(),function(e){return!(!e||!e.subtitlesUrl)})};var JWe=function(){return Object(Iy.createSelector)(function(e){return e.remotePlayer},CCe(),coe(),aX(Ly),function(e,t,n,r){return _He(t,r,n,e)})},$We=n(365);function eGe(e){return e>2560?"8K":e>1100?"4K":e>576?"HD":""}function tGe(e,t){return e<=576||e>1100||!t?"":t<=2e3?"":t<=3e3?Object(Xn.default)("Medium"):t<=4e3?Object(Xn.default)("High"):t<=8e3?"":t<=1e4?"":t<=12e3?Object(Xn.default)("Medium"):Object(Xn.default)("High")}function nGe(e){var t=e.availableQualities,n=e.transcodeServer,r=e.currentDecision,i=e.currentBandwidth,a=e.mediaItem,o=e.canPlayAdaptiveBitrate;if(!a)return[];var s=[],l=n.maxUploadBitrate,c=a.bitrate,u=!l||c&&l>c,d=r&&r.canPlayOriginalQuality;return u&&d&&s.push(function(e){var t=aGe(iGe(e.width,e.height,e.bitrate));return{index:pd.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:lGe([Object(Xn.default)("Original"),sGe(t)]),conversionDescription:Object(Xn.default)("Play Original Quality"),conversionDescriptionExtra:t}}(a)),o&&s.push(function(e,t){var n={index:pd.a.CONVERT_AUTOMATICALLY,explicitQuality:!1,conversionDescription:Object(Xn.default)("Convert Automatically")};if(e&&e.qualityIndex===pd.a.CONVERT_AUTOMATICALLY&&t){var r=aGe({bitrate:Object(fhe.default)(t.bandwidth),resolution:t.resolution});n.conversionDescriptionSummary=Object(Xn.default)("Auto (Now: {bitrateWithResolution})",{bitrateWithResolution:r}),n.conversionDescriptionExtra=Object(Xn.default)("Now: {bitrateWithResolution}",{bitrateWithResolution:r})}else n.conversionDescriptionSummary=Object(Xn.default)("Convert Automatically");return n}(r,i)),u&&!d&&s.push(function(e){var t=iGe(e.width,e.height,e.bitrate),n=oGe(t),r=n?Object(Xn.default)("Convert to"):Object(Xn.default)("Convert");return{index:pd.a.ORIGINAL,explicitQuality:!1,conversionDescriptionSummary:Object(Xn.default)("Convert (Maximum)"),conversionDescription:lGe([r,n,sGe(Object(Xn.default)("Maximum"))]),conversionDescriptionExtra:t.bitrate}}(a)),s.push.apply(s,t.map(rGe).reverse()),s}function rGe(e){var t=e.videoResolution.split("x"),n=iGe(t[0],t[1],e.bitrate),r=aGe(n),i=oGe(n);return{index:e.index,explicitQuality:!0,conversionDescriptionSummary:lGe([Object(Xn.default)("Convert"),sGe(r)]),conversionDescription:lGe([Object(Xn.default)("Convert to"),i]),conversionDescriptionExtra:n.bitrate}}function iGe(e,t,n){var r=function(e,t,n){if(!e&&!t)return{resolution:"",description:"",descriptionExtra:""};var r=Object($We.a)(e,t);return{resolution:r+"p",description:eGe(r),descriptionExtra:tGe(r,n)}}(e,t,n);return{bitrate:Object(fhe.default)(n),resolution:r.resolution,resolutionDescription:r.description,resolutionDescriptionExtra:sGe(r.descriptionExtra)}}function aGe(e){var t=lGe([e.resolution,e.resolutionDescription]);return e.bitrate?lGe([e.bitrate,t],", "):t}function oGe(e){return lGe([e.resolution,e.resolutionDescription,e.resolutionDescriptionExtra])}function sGe(e){return e&&0!==e.length?"("+e+")":""}function lGe(e,t){return void 0===t&&(t=" "),e.filter(function(e){return e}).join(t)}var cGe=function(){return Object(Iy.createSelector)(function(e){return e.remotePlayer},CCe(),coe(),function(e,t,n){return tVe(t,n,e)})},uGe=Xf.a.createElement,dGe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onToggleMenuPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(e){r.setState({isMenuOpen:!1})},r.onSelectPress=function(e){return function(t){r.props.onChange(e),r.onMenuClose()}},r.state={isMenuOpen:!1},r._menuInputButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.getSelectedValue=function(e,t){var n=C.a.find(e,function(e){return C.a.isString(e)?e===t:C.a.keys(e)[0]===t});return C.a.isString(n)?n:n[C.a.keys(n)[0]]},n.render=function(){var e=this,t=this.props,n=(t.name,t.size),r=t.kind,a=t.value,o=t.values,s=wt()(t,["name","size","kind","value","values"]);return hv()(AI,{id:this._menuInputButtonID,size:n,kind:r,direction:this.state.isMenuOpen?i.UP:i.DOWN,onPress:this.onToggleMenuPress},void 0,this.getSelectedValue(o,a),uGe(zT,dv()({isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,onMenuClose:this.onMenuClose},s),o.map(function(t){if(C.a.isString(t))return hv()(MI,{isSelected:t===a,onPress:e.onSelectPress(t)},t,t);var n=C.a.keys(t)[0];return hv()(MI,{isSelected:n===a,onPress:e.onSelectPress(n)},n,t[n])})))},t}(Xf.a.Component),pGe=n(1021),hGe=n.n(pGe),fGe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.onQualitySelect(t.props.conversionQualityIndex)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.conversionQualityIndex,n=e.conversionQuality,r=e.isSelected,i=e.isHidden;return hv()(MI,{isSelected:r,isHidden:i,onPress:this.onPress},t,n.conversionDescription,n.conversionDescriptionExtra?hv()("span",{className:hGe.a.itemExtraDetail,"data-qa-id":"playbackBitrateQuality"},void 0,n.conversionDescriptionExtra):null)},t}(Xf.a.Component),gGe=n(1022),vGe=n.n(gGe),mGe=Xf.a.Component,yGe="toggleShowAll",bGe={placement:"top-start"},SGe=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onToggleMenuPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(e){r.setState({isMenuOpen:!1})},r.onQualitySelect=function(e){e!==yGe?(r.setState({isMenuOpen:!1}),r.props.onQualityChange(e)):r.setState({showAll:!0,qualities:r._getQualityMenuValues(r.props.availableQualities,r.props.qualityIndex,!0)})};var i=!r._canToggleShowAll(t.availableQualities);return r.state={isMenuOpen:!1,showAll:i,qualities:r._getQualityMenuValues(t.availableQualities,t.qualityIndex,i)},r._menuInputButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.qualityIndex!==this.props.qualityIndex,n=e.availableQualities!==this.props.availableQualities;if(t||n){var r=this.state.showAll;!n||r||this._canToggleShowAll(e.availableQualities)||(r=!0),this.setState({showAll:r,qualities:this._getQualityMenuValues(e.availableQualities,e.qualityIndex,r)})}},n._canToggleShowAll=function(e){var t=e.some(function(e){return!0===e.explicitQuality}),n=!!C.a.findWhere(e,{index:gd.a.CONVERT_AUTOMATICALLY});return t&&n},n._getQualityMenuValues=function(e,t,n){var r=e.filter(function(e){return n||!e.explicitQuality||e.index===t});return r.push({index:yGe,conversionDescription:Object(Xn.default)("Show all")}),r},n.render=function(){var e=this,t=this.props.qualityIndex,n=this.state.qualities,r=n.find(function(e){return e.index===t});return hv()(AI,{id:this._menuInputButtonID,"data-qa-id":"videoQuality",size:qp.MEDIUM,direction:this.state.isMenuOpen?Up:Fp,onPress:this.onToggleMenuPress},void 0,r.conversionDescriptionSummary,hv()(zT,{className:vGe.a.menu,isOpen:this.state.isMenuOpen,target:this._menuInputButtonID,options:bGe,onMenuClose:this.onMenuClose},void 0,n.map(function(n){return hv()(fGe,{conversionQualityIndex:n.index,conversionQuality:n,isSelected:n.index===t,isHidden:e.state.showAll&&n.index===yGe,onQualitySelect:e.onQualitySelect},n.index)})))},t}(mGe);var IGe=function(){return Object(Iy.createSelector)(JIe(),vV(),function(e,t){if(e){var n=t.find(function(t){return t.uuid===e.activityUUID});if(n)return n.Context&&n.Context.signalStrength}})};var CGe=function(e){var t=e.signalStrength;return null==t?null:hv()(bje,{label:Object(Xn.default)("Antenna Signal Strength")},void 0,t,"%")};var MGe=Lm(function(){return Object(Iy.createStructuredSelector)({signalStrength:IGe()})})(CGe),DGe=n(1023),wGe=n.n(DGe);var PGe=function(e){var t=e.offset,n=e.isDisabled,r=e.onPress;return hv()(RS,{isSelected:!n,isDisabled:n,onPress:r},void 0,t||0," ms ",hv()(MK,{className:wGe.a.icon}))},TGe=Xf.a.Component,EGe=Xf.a.Fragment,xGe="more",OGe="upload",jGe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSubtitleStreamChange=function(e){e===xGe?r.onMoreSubtitlesPress():e===OGe?r.onUploadSubtitlesPress():r.props.onSubtitleStreamChange(e)},r.onMoreSubtitlesPress=function(){r.setState({isSubtitlesModalOpen:!0})},r.onSubtitlesModalClose=function(){r.setState({isSubtitlesModalOpen:!1})},r.onUploadSubtitlesPress=function(){r.setState({isSubtitlesUploadModalOpen:!0})},r.onSubtitlesUploadModalClose=function(){r.setState({isSubtitlesUploadModalOpen:!1})},r.state={isSubtitlesModalOpen:!1,isSubtitlesUploadModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.bottom,r=t.serverEntityID,i=t.metadataItemEntityID,a=t.playerType,o=t.availableQualities,s=t.audioStreams,l=t.selectedAudioStream,c=t.subtitlesStreams,u=t.selectedSubtitlesStream,d=t.selectedSubtitlesColor,p=t.selectedSubtitlesPosition,h=t.selectedSubtitlesSize,f=t.autoPlay,g=t.qualityIndex,v=t.canSetVideoQuality,m=t.canSetAudioStream,y=t.canSetSubtitleStream,b=t.canSetSubtitleColor,S=t.canSetSubtitlePosition,I=t.canSetSubtitleSize,C=t.canSetSubtitleOffset,M=t.canSetAutoPlay,D=t.canShowMoreSubtitlesAction,w=t.canShowUploadSubtitlesAction,P=t.canShowLiveTVSignalStrength,T=t.onQualityChange,E=t.onAudioStreamChange,x=t.onSubtitleColorChange,O=t.onSubtitlePositionChange,j=t.onSubtitleSizeChange,A=t.onAutoPlayChange,N=t.onSubtitleOffsetPress,k=this.state,L=k.isSubtitlesModalOpen,R=k.isSubtitlesUploadModalOpen,_=y&&(D||w||c.length>1),U=_&&b&&!Ig(),z=_&&S&&!Ig(),F=_&&I&&!Ig(),B=_&&C&&!Ig(),H=v&&!!o.length&&null!=g&&o.findIndex(function(e){return e.index===g})>-1,V=!!u&&0!==u.id&&!zIe(u.codec),Q=F&&V,W=U&&V,G=z&&V,Y=B&&V&&!!u&&!!u.key;if(_){var K,q;if(e=c.map(function(e){var t,n=hv()(a_,{serverEntityID:r,type:"subtitles",stream:e});return(t={})[""+e.id]=n,t}),D)e.push(((K={})[xGe]=Object(Xn.default)("Search..."),K));if(w)e.push(((q={})[OGe]=Object(Xn.default)("Upload..."),q))}return hv()(EGe,{},void 0,hv()(vje,{bottom:n},void 0,H?hv()(bje,{label:Object(Xn.default)("Quality")},void 0,hv()(SGe,{qualityIndex:g,availableQualities:o,onQualityChange:T})):null,hv()(bje,{label:Object(Xn.default)("Audio Stream")},void 0,m&&s.length>1?hv()(dGe,{name:"audioStream",size:qp.MEDIUM,value:""+l.id,values:s.map(function(e){var t,n=hv()(a_,{serverEntityID:r,type:"audio",stream:e});return(t={})[""+e.id]=n,t}),onChange:E}):hv()(a_,{serverEntityID:r,type:"audio",stream:l})),hv()(bje,{label:Object(Xn.default)("Subtitles")},void 0,_?hv()(dGe,{name:"subtitleStream",size:qp.MEDIUM,value:""+u.id,values:e,onChange:this.onSubtitleStreamChange}):hv()(a_,{serverEntityID:r,type:"subtitles",stream:u})),U?hv()(bje,{label:Object(Xn.default)("Subtitle Color"),isDisabled:!W},void 0,hv()(dGe,{name:"subtitleColor",size:qp.MEDIUM,value:d,values:yp.settings.map(function(e){var t;return(t={})[e.value]=e.title,t}),onChange:x})):null,z?hv()(bje,{label:Object(Xn.default)("Subtitle Position"),isDisabled:!G},void 0,hv()(dGe,{name:"subtitlePosition",size:qp.MEDIUM,value:p,values:Sp.settings.map(function(e){var t;return(t={})[e.value]=e.title,t}),onChange:O})):null,F?hv()(bje,{label:Object(Xn.default)("Subtitle Size"),isDisabled:!Q},void 0,hv()(dGe,{name:"subtitleSize",size:qp.MEDIUM,value:h.toString(),values:JDe.settings.map(function(e){var t;return(t={})[e.value]=e.title,t}),onChange:j})):null,B?hv()(bje,{label:Object(Xn.default)("Subtitles Offset"),isDisabled:!Y},void 0,hv()(PGe,{offset:u.offset,isDisabled:!Y,onPress:N})):null,M?hv()(bje,{label:Object(Xn.default)("Auto Play")},void 0,hv()(sW,{name:"autoPlay",size:qp.SMALL,value:f,onChange:A})):null,P?hv()(MGe,{serverEntityID:r,playerType:a}):null),hv()(HVe,{metadataItemEntityID:i,isOpen:L,onModalClose:this.onSubtitlesModalClose}),hv()(cQe,{metadataItemEntityID:i,isOpen:R,onModalClose:this.onSubtitlesUploadModalClose}))},t}(TGe),AGe=Xf.a.createElement,NGe=Xf.a.Component;var kGe={dispatchChangeQualityIndex:USe,dispatchChangeStream:zSe,dispatchChangeSubtitleColor:FSe,dispatchChangeSubtitlePosition:BSe,dispatchChangeSubtitleSize:HSe,dispatchSetAutoPlay:ore,dispatchTogglePlayerSubtitlesOffsetState:_Se},LGe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onQualityChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeQualityIndex)({playerType:r,qualityIndex:parseInt(e,10)})},t.onAudioStreamChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeStream)({playerType:r,streamTypeString:"audio",streamID:parseInt(e,10)})},t.onSubtitleStreamChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeStream)({playerType:r,streamTypeString:"subtitles",streamID:parseInt(e,10)})},t.onSubtitleColorChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeSubtitleColor)({playerType:r,subtitleColor:e})},t.onSubtitlePositionChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeSubtitlePosition)({playerType:r,subtitlePosition:e})},t.onSubtitleSizeChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchChangeSubtitleSize)({playerType:r,subtitleSize:parseInt(e,10)})},t.onAutoPlayChange=function(e){var n=t.props,r=n.playerType;(0,n.dispatchSetAutoPlay)({playerType:r,autoPlay:e})},t.onSubtitleOffsetPress=function(){var e=t.props,n=e.playerType;(0,e.dispatchTogglePlayerSubtitlesOffsetState)({playerType:n})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchChangeQualityIndex,e.dispatchChangeStream,e.dispatchChangeSubtitleSize,e.dispatchSetAutoPlay,wt()(e,["dispatchChangeQualityIndex","dispatchChangeStream","dispatchChangeSubtitleSize","dispatchSetAutoPlay"]));return AGe(jGe,dv()({},t,{onQualityChange:this.onQualityChange,onAudioStreamChange:this.onAudioStreamChange,onSubtitleStreamChange:this.onSubtitleStreamChange,onSubtitleColorChange:this.onSubtitleColorChange,onSubtitlePositionChange:this.onSubtitlePositionChange,onSubtitleSizeChange:this.onSubtitleSizeChange,onAutoPlayChange:this.onAutoPlayChange,onSubtitleOffsetPress:this.onSubtitleOffsetPress}))},t}(NGe),RGe=Lm(function(){return Object(Iy.createSelector)(aoe("controllable"),Object(Iy.createSelector)(Object(Iy.createStructuredSelector)({availableQualities:aoe("availableQualities"),transcodeServer:iCe(),currentDecision:JSe(),currentBandwidth:Object(Iy.createSelector)(ICe(["bandwidthTimeline","positionSeconds"]),JSe(),function(e,t){var n=e.bandwidthTimeline;if(!(t&&n&&n.bandwidths&&n.transcodeSessionID&&n.transcodeSessionID===t.transcodeSessionID))return null;var r=1e3*e.positionSeconds,i=n.bandwidths.filter(function(e){return parseInt(e.time,10)<=r});return 0===i.length?null:C.a.max(i,function(e){return parseInt(e.time,10)})}),mediaItem:eCe(),canPlayAdaptiveBitrate:Object(Iy.createSelector)(function(e){return!!e.remotePlayer},iCe(),JIe(),function(e,t,n){return ZWe()&&t.hasAdaptiveBitrate&&!e&&!n})}),nGe),nCe(),iCe(),aoe("qualityIndex"),aoe("serverEntityID"),uoe(),coe(),JWe(),cGe(),XWe(),Py,function(e,t,n,r,i,a,o,s,l,c,u,d){var p=o.protocols.includes(qn.a),h=n.selectedSubtitlesStream;return{serverEntityID:a,metadataItemEntityID:s?s.entityID:null,availableQualities:t,audioStreams:n.audioStreams,selectedAudioStream:n.selectedAudioStream,subtitlesStreams:n.subtitlesStreams,selectedSubtitlesStream:h,selectedSubtitlesColor:d.subtitleColor,selectedSubtitlesPosition:d.subtitlePosition,selectedSubtitlesSize:d.subtitleSize,autoPlay:d.autoPlay,canSetVideoQuality:e?!!e.quality:!!r.transcoderVideo&&!r.transcoderVideoRemuxOnly,canSetAudioStream:!e||!!e.audioStream,canSetSubtitleStream:!e||!!e.subtitleStream,canSetSubtitleColor:e?!!e.subtitleColor:!p&&u,canSetSubtitlePosition:e?!!e.subtitlePosition:!p&&u,canSetSubtitleSize:e?!!e.subtitleSize:!p&&!(!h||!h.id),canSetSubtitleOffset:e?!!e.subtitleOffset:!p&&u,canSetAutoPlay:e?!!e.autoPlay:!p,canShowMoreSubtitlesAction:l,canShowUploadSubtitlesAction:c,canShowLiveTVSignalStrength:p,qualityIndex:i}})},kGe)(LGe),_Ge=n(232),UGe=n.n(_Ge),zGe=Xf.a.Component,FGe=2e3,BGe=parseInt(yQ.a.playerControlsHeight,10),HGe=parseInt(yQ.a.playerControlsNarrowHeight,10),VGe=parseInt(yQ.a.playerInfoBarHeight,10);function QGe(e,t){return e.isRemotePlayer||e.isMusic||e.isSettingsVisible||e.isChaptersVisible||e.isSubtitlesOffsetSettingsVisible||e.isPlayQueueVisible||e.isPostPlayVisible||e.isAlsoAiringVisible||t.isControlsMenuOpen||t.isCastMenuOpen||t.followMuteMenuOpenCount>0||t.disableInteractionTimer}function WGe(e){var t=e.bottom,n=e.children;return hv()("div",{className:UGe.a.content,style:{bottom:t}},void 0,n)}var GGe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onInteraction=function(e){var t=e.keyCode;t!==wT&&t!==PT&&(QGe(r.props,r.state)||(r.state.hideControls&&r.setState({hideControls:!1}),r._interactionTimeoutID&&clearTimeout(r._interactionTimeoutID),r._interactionTimeoutID=setTimeout(r.onInteractionTimeout,FGe)))},r.onInteractionTimeout=function(){r.setState({hideControls:!0}),r._interactionTimeoutID=null},r.onMouseLeave=function(e){r.setState({disableInteractionTimer:!1},function(){QGe(r.props,r.state)||(r.setState({hideControls:!0}),r._interactionTimeoutID&&(clearTimeout(r._interactionTimeoutID),r._interactionTimeoutID=null))})},r.onControlsMouseEnter=function(e){r.setState({disableInteractionTimer:!0})},r.onControlsMouseLeave=function(e){r.setState({disableInteractionTimer:!1})},r.onControlsMenuChange=function(e){r.setState({isControlsMenuOpen:e})},r.onCastMenuChange=function(e){r.setState({isCastMenuOpen:e})},r.onFollowMuteMenuChange=function(e){r.setState(function(t){return{followMuteMenuOpenCount:e?t.followMuteMenuOpenCount+1:t.followMuteMenuOpenCount-1}})},r.onAudioSettingsDimensionsChange=function(e){var t=e.scrollHeight;r.setState({audioSettingsHeight:t})},r.state={hideControls:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,followMuteMenuOpenCount:0,disableInteractionTimer:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){document.addEventListener("keydown",this.onInteraction),document.addEventListener("keyup",this.onInteraction),QGe(this.props,this.state)||this._startInteractionTimer()},n.componentWillReceiveProps=function(e){QGe(e,this.state)&&this.state.hideControls&&this.setState({hideControls:!1}),this.props.isFullscreen!==e.isFullscreen&&this.state.disableInteractionTimer&&this.setState({disableInteractionTimer:!1})},n.componentDidUpdate=function(e,t){QGe(e,t)&&!QGe(this.props,this.state)&&this._startInteractionTimer(),!QGe(e,t)&&QGe(this.props,this.state)&&this._stopInteractionTimer()},n.componentWillUnmount=function(){document.removeEventListener("keydown",this.onInteraction),document.removeEventListener("keyup",this.onInteraction),this._interactionTimeoutID&&clearTimeout(this._interactionTimeoutID)},n._startInteractionTimer=function(){this._stopInteractionTimer(),this._interactionTimeoutID=setTimeout(this.onInteractionTimeout,FGe)},n._stopInteractionTimer=function(){this._interactionTimeoutID&&clearTimeout(this._interactionTimeoutID)},n.render=function(){var e=this.props,t=e.playerType,n=e.hasFullscreen,r=e.isRemotePlayer,i=e.isPlayQueueLoading,a=e.isMediaLoading,o=e.isPostPlayLoading,s=e.isBuffering,l=e.isFullscreen,c=e.isSettingsVisible,u=e.isChaptersVisible,d=e.isSubtitlesOffsetSettingsVisible,p=e.isPlayQueueVisible,h=e.isAlsoAiringVisible,f=e.isLyricsVisible,g=e.isPostPlayVisible,v=e.isAdVisible,m=e.isVideo,y=e.isMusic,b=e.isNarrowLayout,S=e.currentSubType,I=e.hasLiveTVProtocol,C=e.hasGridFeature,M=e.seekStartMilliseconds,D=e.seekEndMilliseconds,w=e.bufferStartMilliseconds,P=e.bufferEndMilliseconds,T=e.adPositionMilliseconds,E=e.adDurationMilliseconds,x=e.adSkipDelaySeconds,O=e.onEnterFullscreenPress,j=e.onExitFullscreenPress,A=e.onToggleFullscreen,N=e.onAdSkipPress,k=this.state,L=k.hideControls,R=k.audioSettingsHeight,_=(i||o||m&&(!v&&a||s))&&!g&&!h,U=!i&&c&&!u&&!p&&!h,z=U&&y,F=U&&m,B=!i&&!c&&u&&!p&&!h,H=!i&&p&&!h&&!c&&!u,V=!i&&!p&&h&&!c&&!u,Q=m&&!i&&!o&&!p&&!h&&!g,W=(!v||p)&&(r||y||a||p||h||o||g),G=b?HGe:BGe,Y=I||C||v||S===Jn?G+VGe:G,K=L?null:"translateY("+-Y+"px)";return hv()("div",{className:(UGe.a.fullPlayer||"")+" "+(m&&UGe.a.isVideo||"")+" "+(p&&UGe.a.isPlayQueueVisible||"")+" "+(L&&UGe.a.hideControls||""),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction,onMouseLeave:this.onMouseLeave},void 0,W?hv()(TUe,{playerType:t,isVideo:m,isMusic:y,allowBlur:y||p||h||g}):null,p||h||!_?null:hv()(ZE.a,{size:qp.LARGE}),Q?hv()(lwe,{playerType:t,heightOffset:L?0:Y}):null,Q?hv()(pje,{playerType:t,onToggleFullscreen:A}):null,i?null:hv()("div",{className:UGe.a.topBar,onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,hv()(oje,{playerType:t,isFullscreen:l,hasFullscreen:n,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:O,onExitFullscreenPress:j})),i||p||f||!y?null:hv()(WGe,{bottom:Y},void 0,hv()(MUe,{playerType:t,bottom:z?R:null})),!i&&!p&&f&&y?hv()(WGe,{bottom:Y},void 0,hv()(Mze,{playerType:t})):null,z?hv()(Dje,{playerType:t,bottom:Y,onDimensionsChange:this.onAudioSettingsDimensionsChange}):null,F?hv()(RGe,{bottom:Y,playerType:t}):null,d?hv()(qWe,{bottom:Y,playerType:t}):null,B?hv()(IPe,{bottom:Y,playerType:t}):null,H?hv()(WGe,{bottom:Y},void 0,hv()(BFe,{playerType:t,isVideo:m,isMusic:y})):null,V?hv()(WGe,{bottom:Y},void 0,hv()(UOe,{playerType:t,isVideo:m,isMusic:y,hasLiveTVProtocol:I,hasGridFeature:C})):null,i||!g||p||h?null:hv()(WGe,{bottom:Y},void 0,hv()(AWe,{playerType:t})),hv()(BWe,{isControlsVisible:!L,playerType:t}),i?null:hv()("div",{className:UGe.a.bottomBar,style:{bottom:-Y,height:Y,WebkitTransform:K,msTransform:K,transform:K},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,hv()(dUe,{playerType:t,isVideo:m,isMusic:y,isAdVisible:v,isPostPlayVisible:g,currentSubType:S,hasLiveTVProtocol:I,hasGridFeature:C,seekStartMilliseconds:M,bufferStartMilliseconds:w,bufferEndMilliseconds:P,seekEndMilliseconds:D,adPositionMilliseconds:T,adDurationMilliseconds:E,adSkipDelaySeconds:x,onAdSkipPress:N,onFollowMuteMenuChange:this.onFollowMuteMenuChange,onControlsMenuChange:this.onControlsMenuChange})))},t}(zGe),YGe=n(1024),KGe=n.n(YGe),qGe=hv()(ZE.a,{});var ZGe=function(e){var t=e.className,n=e.children,r=e.isPlayQueueLoading;return hv()("div",{className:(t||"")+" "+(r&&KGe.a.playQueueIsLoading||"")},void 0,r?qGe:n)},XGe=Xf.a.createElement;var JGe=function(e){return hv()(ZGe,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,XGe(dUe,e))},$Ge=Xf.a.createElement;var eYe=function(e){return $Ge(GDe,dv()({},e,{playerType:Une,mediaComponent:e.isMusic?SCe:PDe,playerComponent:e.isMiniPlayer?JGe:GGe}))};var tYe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isMiniPlayer},ioe(),JSe(),loe(),uoe(),$Se,function(e,t,n,r,i,a){var o,s,l;if(r){var c=Object(nr.r)(r.type);o=c&&c.mediaType,s=r.subtype,l=r.vast}var u=o===ed.a,d=o===ed.d;return r&&d&&a&&(l=eIe),{isMusic:u,isVideo:d,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPostPlayLoading:t.isPostPlayLoading,isBuffering:t.isBuffering,isSettingsVisible:t.isSettingsVisible,isChaptersVisible:t.isChaptersVisible,isSubtitlesOffsetSettingsVisible:t.isSubtitlesOffsetSettingsVisible,isPlayQueueVisible:t.isPlayQueueVisible,isAlsoAiringVisible:t.isAlsoAiringVisible,isLyricsVisible:t.isLyricsVisible,isPostPlayVisible:t.isPostPlayVisible,hasError:t.hasError,hasConflicts:t.hasConflicts,confirmLiveTVPlayback:t.confirmLiveTVPlayback,hasGridFeature:!!i&&i.features.some(function(e){return e.type===nn}),hasLiveTVProtocol:!!i&&i.protocols.includes(qn.a),showBackgroundVideoPlayer:!(!l&&!n||e),currentMediaType:o,currentSubType:s,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,adState:t.adState,adPositionSeconds:t.adPositionSeconds,adDurationSeconds:t.adDurationSeconds,adNoSkipDurationSeconds:t.adNoSkipDurationSeconds,vast:l}})},{onAdSkipPress:GSe})(eYe);tYe.propTypes=Object.assign({},tYe.propTypes,{isMiniPlayer:Dp.a.bool,playerType:Dp.a.string.isRequired,onAdSkipPress:Dp.a.func});var nYe=tYe;var rYe=function(){return Object(Iy.createSelector)(function(e){return e.user.id},Object(J.c)("selectRestorePlayQueue"),ek,My,function(e,t,n,r){var i;t&&t[e]&&(i=t[e]);var a=i&&n[i.providerEntityID],o=i&&r[i.serverEntityID];if(i&&i.playQueueID&&o&&o.isConnected&&a&&a.isPopulated)return i})},iYe=Xf.a.createElement,aYe=Xf.a.Component;var oYe={dispatchRestorePlayQueue:vre,dispatchEndPlayback:jre,dispatchUpdatePlayerError:wSe},sYe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnterFullscreen=function(){Object(J.c)("fullscreenManager").enter()},t.onExitFullscreen=function(){Object(J.c)("fullscreenManager").exit()},t.onToggleFullscreen=function(){t.props.isFullscreen?t.onExitFullscreen():t.onEnterFullscreen()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._restorePlayQueue(),this.props.isServerlessPlayer&&this.props.dispatchEndPlayback({playerType:this.props.playerType})},n.componentDidUpdate=function(e){var t=this.props,n=t.dispatchEndPlayback,r=t.isFullscreen,i=t.isMiniPlayer,a=t.isOpen,o=t.isServerlessPlayer,s=t.playerType;this._restorePlayQueue(),o&&!e.isServerlessPlayer&&n({playerType:s});var l=Object(J.c)("fullscreenManager"),c=!a&&e.isOpen,u=i&&!e.isMiniPlayer;r&&(c||u)&&l.shouldExitOnPlayerClose&&this.onExitFullscreen()},n.componentDidCatch=function(e,t){D.a.error(e.stack),this.props.dispatchEndPlayback({playerType:this.props.playerType}),this.props.dispatchUpdatePlayerError({playerType:this.props.playerType,errorMessage:Object(Xn.default)("There was an unexpected error during playback. Please visit our forums if you continue to experience problems.")})},n._restorePlayQueue=function(){var e=this.props,t=e.playerType,n=e.isOpen,r=e.isUserUnlocked,i=e.restorePlayQueuePayload,a=e.dispatchRestorePlayQueue;!n&&r&&i&&(t===Bne(i.playQueueType)&&a(i))},n.render=function(){var e=this.props,t=e.component,n=e.isServerlessPlayer,r=(e.restorePlayQueuePayload,e.dispatchRestorePlayQueue,e.dispatchEndPlayback,e.dispatchUpdatePlayerError,wt()(e,["component","isServerlessPlayer","restorePlayQueuePayload","dispatchRestorePlayQueue","dispatchEndPlayback","dispatchUpdatePlayerError"]));return n?null:iYe(t,dv()({},r,{onEnterFullscreenPress:this.onEnterFullscreen,onExitFullscreenPress:this.onExitFullscreen,onToggleFullscreen:this.onToggleFullscreen}))},t}(aYe),lYe=Lm(function(){return Object(Iy.createSelector)(function(e){return!!e.remotePlayer},function(e){return e.isFullscreen},function(e){return e.user.isUnlocked},ioe(),CCe(),uoe(),rYe(),function(e,t,n,r,i,a,o){var s=r.isOpen;return{isOpen:s,isServerlessPlayer:s&&(!i||!a),isMiniPlayer:r.openState===_ne,isRemotePlayer:e,isFullscreen:t,isUserUnlocked:n,hasFullscreen:Object(J.c)("fullscreenManager").hasFullscreen,restorePlayQueuePayload:o}})},oYe)(sYe),cYe=n(1025),uYe=n.n(cYe),dYe=Rm.extend({className:uYe.a.container,component:function(){return hv()(lYe,{component:nYe,playerType:Une})}});function pYe(e){return Object(Iy.createSelector)(Qse(),$de,qde,sse,function(t,n,r,i){return e({server:n,provider:r,stableUser:i,metadataItem:t})})}var hYe=Lm(function(){return Object(Iy.createSelector)(loe(),pYe(gpe),pYe(dpe),pYe(ppe),function(e,t){return t.isVideo},function(e,t,n,r,i){return e?{playQueueItemEntityID:e.entityID,showEditButton:t,showFavoriteButton:n,showMenuButton:!0,showShuffleButton:!0,showUnfavoriteButton:r,showVolume:i}:{}})})(HRe);hYe.propTypes=Object.assign({},hYe.propTypes,{providerEntityID:Dp.a.string.isRequired,metadataItemEntityID:Dp.a.string.isRequired,serverEntityID:Dp.a.string.isRequired,playerType:Dp.a.string.isRequired});var fYe=hYe,gYe=Xf.a.createElement;var vYe=function(e){var t=e.playerType,n=e.bufferStartMilliseconds,r=e.bufferEndMilliseconds,i=e.positionMilliseconds,a=wt()(e,["playerType","bufferStartMilliseconds","bufferEndMilliseconds","positionMilliseconds"]);return hv()(Eje,{},void 0,hv()(Aje,{},void 0,hv()(c_e,{playerType:t,bufferStartMilliseconds:n,bufferEndMilliseconds:r,positionMilliseconds:i,showBuffer:!0}),gYe(Lje,dv()({component:fYe,playerType:t},a))))};var mYe=Lm(function(){return Object(Iy.createSelector)(ioe(),loe(),$N,function(e,t,n){void 0===t&&(t={});var r=n[t.metadataItem],i=r.serverEntityID,a=r.providerEntityID,o=r.type,s=r.Media[0],l=o===nr.c,c=s&&s.Part&&s.Part[0],u=c&&c.key;return{serverEntityID:i,providerEntityID:a,imageUrl:l?null:u}})})(PUe),yYe=n(503),bYe=n.n(yYe);var SYe=function(e){var t=e.items,n=e.currentItem,r=e.size,i=e.firstIndex,a=e.renderSlide,o=e.width,s=e.height;if(!t||!t.length)return null;var l=t.indexOf(n),c=C.a.range(Math.max(0,l-1),Math.min(r,l+1+1));return hv()("div",{className:bYe.a.magazine},void 0,c.map(function(e){var n=l===e,r=e+i,c=t[e],u={position:"absolute",width:o,height:s,transform:"translate3d("+(e-l)*o+"px, 0, 0)"};return hv()("div",{className:n?bYe.a.currentSlide:bYe.a.slide,style:u},r,c?a(c):null)}))};var IYe=2073600;var CYe=n(635),MYe=n.n(CYe),DYe=Xf.a.Component,wYe={width:"100%",height:"100%"},PYe=hv()(ZE.a,{}),TYe=function(e){function t(){var t;return(t=e.call(this)||this).onLoad=function(){t.setState({loading:!1})},t.onError=function(){t.setState({error:!0})},t.state={loading:!0,error:!1},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.url,i=function(e,t,n){void 0===n&&(n=IYe);var r=e*t,i=n/Math.pow(uf(),2),a=Math.sqrt(Math.max(r/i,1));return{width:Math.round(e/a),height:Math.round(t/a)}}(e.maxWidth,e.maxHeight),a=i.width,o=i.height,s=this.state,l=s.loading,c=s.error;return hv()("div",{className:MYe.a.slideContainer},void 0,hv()("div",{className:MYe.a.statusContainer},void 0,l&&!c?PYe:null,c?hv()("div",{},void 0,Object(Xn.default)("Unable to load photo")):null),hv()(Kk,{serverEntityID:t,providerEntityID:n,url:r,width:a,height:o,containerStyle:wYe,backgroundSize:"contain",component:pk,onLoad:this.onLoad,onError:this.onError},r))},t}(DYe),EYe=Xf.a.createElement;var xYe=hv()(ZE.a,{});var OYe=Lm(function(){return Object(Iy.createSelector)(Qse(),Object(Iy.createSelector)(Qse(),function(e){if(!e||!e.Media)return{};var t=e.type,n=e.thumb,r=e.Media[0],i="clip"===t,a=r&&r.Part&&r.Part[0],o=a&&a.key;return i||!o?n:o}),function(e,t){return t&&Object.keys(t).length?{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isLoading:!1,url:t}:{isLoading:!0}})})(function(e){return e.isLoading?xYe:EYe(TYe,e)}),jYe=Xf.a.createElement;var AYe=Lm(function(){return Object(Iy.createSelector)(zze(),function(e){return{playQueueItem:e}})})(function(e){var t=e.playQueueItem;return t&&t.type===nr.h?jYe(OYe,dv()({metadataItemEntityID:t.metadataItem},e)):null}),NYe=n(636),kYe=n.n(NYe),LYe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderSlide=function(e){var n=t.props,r=n.playQueueItemEntityID,i=n.width,a=n.height,o=r===e;return hv()(AYe,{playQueueItemEntityID:e,isCurrent:o,maxWidth:i,maxHeight:a})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.playQueueItemEntityIDs,n=e.playQueueItemEntityID,r=e.size,i=e.firstIndex,a=e.errorMessage,o=e.width,s=e.height;return hv()("div",{className:kYe.a.carousel},void 0,a?hv()("div",{className:kYe.a.message},void 0,hv()("span",{},void 0,a)):null,o&&s&&t&&!a?hv()(SYe,{items:t,currentItem:n,size:r,firstIndex:i,width:o,height:s,renderSlide:this.renderSlide}):null)},t}(Xf.a.Component),RYe=n(328),_Ye=n.n(RYe);function UYe(e){var t=e.hideOverlays,n=e.canSkipPrevious,r=e.canSkipNext,i=e.hasFullscreen,a=e.isFullscreen,o=e.isPhoto,s=e.onPlayNextItem,l=e.onPlayPreviousItem,c=e.onCastMenuChange,u=e.onEnterFullscreenPress,d=e.onExitFullscreenPress,p=e.onToggleFullscreen;return hv()("div",{className:t?_Ye.a.hideOverlays:void 0},void 0,o?null:hv()(pje,{className:_Ye.a.playButton,playerType:zne,isFullscreen:a,onEnterFullscreenPress:u,onExitFullscreenPress:d,onToggleFullscreen:p}),hv()("div",{className:_Ye.a.topBar},void 0,hv()(oje,{playerType:zne,isFullscreen:a,hasFullscreen:i,onCastMenuChange:c,onEnterFullscreenPress:u,onExitFullscreenPress:d})),hv()(Kz,{className:_Ye.a.leftButton,iconComponent:Jz,title:Object(Xn.default)("Previous Photo"),isDisabled:!n,onPress:l}),hv()(Kz,{className:_Ye.a.rightButton,iconComponent:Zz,title:Object(Xn.default)("Next Photo"),isDisabled:!r,onPress:s}))}UYe.defaultProps={hideOverlays:!1};var zYe,FYe=UYe,BYe=Mt("ui/player/photoPlayer/fetchRelatedPhotos"),HYe=Qx(((zYe={})["ui/player/photoPlayer/fetchRelatedPhotos"]=function(e){var t=Lee(e,"photo"),n=t.get("playQueue"),r=Ree(t,n.get("currentIndex")).get("metadataItem"),i=r.get("key"),a=Object(F.join)([i.replace("/library/","/hubs/"),"related"]),o=new ov.default([],{server:r.server,provider:r.provider,metadataItem:r,hubKey:a,hubCount:8});t.set({relatedHubs:o}),r.get("isLibraryItem")&&o.fetch()},zYe));function VYe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-camera-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 116.61c0-15.307 12.07-27.717 26.949-27.717h95.55l64.35-81.71c3.123-3.965 9.675-7.18 14.634-7.18h157.04c4.959 0 11.512 3.216 14.634 7.18l64.35 81.71h95.55c14.884 0 26.949 12.412 26.949 27.717v335.68c0 15.307-12.06 27.717-26.945 27.717h-506.11c-14.881 0-26.945-12.413-26.945-27.717v-335.68m142.82 11.393h-102.82v36 276h480v-276-36h-102.81l-69.69-87.998h-135.16l-69.25 87.43-.261.566",transform:"translate(0 40)"}].concat([])),Xf.a.createElement.apply(Xf.a,["path",{d:"m280 385.2c66.27 0 120-53.726 120-120 0-66.27-53.726-120-120-120-66.27 0-120 53.726-120 120 0 66.27 53.726 120 120 120m-80-120c0-44.18 35.817-80 80-80 44.18 0 80 35.817 80 80 0 44.18-35.817 80-80 80-44.18 0-80-35.817-80-80",transform:"translate(0 40)"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}VYe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var QYe=VYe;function WYe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-tag-auto-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m287.75.983c-28.03 2.775-53.66 11.968-70.36 28.646-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c14.328 14.336 35.21 17.958 52.735 11.06l-170.85-170.94c-20.817-20.828.024-41.68.024-41.68 27.762-27.819 244.06-244.19 244.06-244.19",transform:"translate(1 50)"}].concat([])),Xf.a.createElement.apply(Xf.a,["path",{d:"m559.45 149.47l-.27-83.68c.237-16.899-5.994-33.8-18.799-46.612-12.806-12.813-29.697-19.05-46.48-18.7l-81.41-.293c-38.15-1.625-75.78 7.347-97.84 29.371-.014.014-201.52 201.63-201.52 201.63-19.19 19.2-19.18 50.3-.007 69.48l145.92 145.99c19.233 19.243 50.27 19.18 69.45-.007l201.48-201.59c21.605-21.658 30.65-58.23 29.482-95.6m-63.51-117.95c8.434-.788 17.14 2.048 23.599 8.509 6.438 6.441 9.275 15.12 8.511 23.534l-.136 109.96c-.777 20.799-8.03 39.93-22.269 54.18-.707.707-1.426 1.398-2.157 2.071-.424.482-.866.954-1.326 1.414l-187.55 187.65c-11.515 11.522-30.19 11.519-41.627.074l-132.12-132.19c-11.475-11.481-11.506-30.06.074-41.649l187.55-187.65c.458-.459.928-.899 1.408-1.321.674-.733 1.366-1.455 2.075-2.164 15.795-15.803 37.594-23 61.13-22.19l102.84-.222",transform:"translate(1 50)"}].concat([])),Xf.a.createElement.apply(Xf.a,["path",{d:"m435.92 172.81c-27.13 0-49.12-22-49.12-49.15 0-27.14 21.993-49.15 49.12-49.15 27.13 0 49.12 22 49.12 49.15 0 27.14-21.993 49.15-49.12 49.15",transform:"translate(1 50)"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}WYe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var GYe=WYe,YYe=110;var KYe=function(e){return hv()(Kk,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url,width:YYe,height:YYe,component:pk})},qYe=n(233),ZYe=n.n(qYe),XYe=14,JYe=hv()(GYe,{});var $Ye=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.summary,i=e.totalSize,a=e.url,o=e.icon,s=e.onPress;return hv()("div",{className:ZYe.a.hub,"data-qa-id":"relatedPhotoItem"},void 0,hv()(RS,{onPress:s},void 0,hv()("div",{className:ZYe.a.container},void 0,hv()("div",{className:ZYe.a.overlay},void 0,hv()("div",{className:ZYe.a.title,"data-qa-id":"relatedPhotoName"},void 0,r),hv()("div",{className:ZYe.a.count,"data-qa-id":"relatedPhotoCount"},void 0,o?hv()(Kk,{className:ZYe.a.icon,serverEntityID:t,providerEntityID:n,url:o,width:XYe,height:XYe}):JYe,hv()("span",{},void 0," ",i))),hv()("div",{className:ZYe.a.body},void 0,hv()(KYe,{serverEntityID:t,url:a})))))},eKe=Xf.a.createElement;var tKe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){window.location.href=t.props.hubLink,t.props.endPlayback({playerType:zne})},t}return Sy()(t,e),t.prototype.render=function(){return eKe($Ye,dv()({onPress:this.onPress},this.props))},t}(Xf.a.Component),nKe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.librarySectionKey},Dy(),Hk(),fZ(),Iwe(),function(e,t,n,r,i){return{hubLink:dr(t,n,gZ(r,e),{key:i.key,title:i.title}),summary:i.summary,totalSize:i.totalSize,url:i.thumb,icon:i.icon}})},{endPlayback:jre})(tKe),rKe=n(504),iKe=n.n(rKe),aKe=hv()("div",{});var oKe=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.librarySectionKey,i=e.hubEntityIDs;return i&&i.length?hv()("div",{className:iKe.a.container,"data-qa-id":"relatedPhotosContainer"},void 0,hv()("div",{className:iKe.a.title},void 0,Object(Xn.default)("Related Photos")),hv()("div",{className:iKe.a.list},void 0,i.map(function(e){return hv()(nKe,{serverEntityID:t,providerEntityID:n,librarySectionKey:r,hubEntityID:e},e)}))):aKe},sKe=n(1026),lKe=n(197),cKe=n.n(lKe),uKe=hv()(QYe,{});var dKe=function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.librarySectionKey,a=e.hubEntityIDs,o=e.type,s=e.model,l=e.width,c=e.height,u=e.container,d=e.iso,p=e.aperture,h=e.exposure,f=e.size,g=e.hasGeolocation,v=e.latitude,m=e.longitude;return hv()("div",{className:(t||"")+" "+(cKe.a.photoInformation||"")},void 0,hv()(oT,{className:cKe.a.scroller,autoScroll:!0},void 0,hv()("div",{className:cKe.a.exif},void 0,hv()("div",{className:cKe.a.line},void 0,s?hv()("div",{},void 0,s):hv()("div",{},void 0,"clip"===o?Object(Xn.default)("Video"):Object(Xn.default)("Photo")),uKe),hv()("div",{className:cKe.a.line},void 0,l&&c?hv()("div",{},void 0,l,"  ",c):null,f?hv()("div",{},void 0,gE(f)):null,u?hv()("div",{className:cKe.a.format},void 0,u):null),d?hv()("div",{className:cKe.a.line},void 0,hv()("div",{},void 0,Object(Xn.default)("ISO")," ",d),hv()("div",{},void 0,p),hv()("div",{},void 0,h)):null),hv()(oKe,{serverEntityID:n,providerEntityID:r,librarySectionKey:i,hubEntityIDs:a})),g?hv()(sKe.a,{className:cKe.a.map,latitude:v,longitude:m}):null)},pKe=Xf.a.createElement;var hKe={dispatchFetchRelatedPhotos:BYe},fKe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchFetchRelatedPhotos()},n.componentDidUpdate=function(e){e.metadataItemEntityID!==this.props.metadataItemEntityID&&this.props.dispatchFetchRelatedPhotos()},n.render=function(){var e=this.props,t=(e.dispatchFetchRelatedPhotos,wt()(e,["dispatchFetchRelatedPhotos"]));return pKe(dKe,t)},t}(Xf.a.Component),gKe=Lm(function(){return Object(Iy.createSelector)(ioe(),coe(),function(e,t){var n=t.Media,r=void 0===n?[]:n,i=t.Geolocation,a=void 0===i?{}:i,o=t.type,s=a.Coordinates,l={serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,librarySectionKey:t.librarySectionKey,metadataItemEntityID:t.entityID,hubEntityIDs:e.relatedHubs||[],type:o,hasGeolocation:!!s};if(s&&(l.latitude=parseFloat(s.latitude),l.longitude=parseFloat(s.longitude)),r.length){var c=r[0],u=c.Part;l.size=u&&u[0].size,l.aperture=c.aperture,l.exposure=c.exposure,l.iso=c.iso,l.model=c.model,l.width=c.width,l.height=c.height,l.container=c.container}return l})},hKe)(fKe);var vKe=Xf.a.Component,mKe={width:"100%",height:"100%",top:0,position:"absolute",zIndex:0},yKe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPlayPress=function(){t.props.onPlayPress&&t.props.onPlayPress(t.props.index)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.url,a=e.dimension,o=e.onPlayPress;return i?hv()(RS,{className:t,isDisabled:!o,onPress:this.onPlayPress},void 0,hv()(Kk,{serverEntityID:n,providerEntityID:r,url:i,width:a,height:a,style:mKe,component:pk})):null},t}(vKe);var bKe=Lm(function(){return Object(Iy.createSelector)(Object(Iy.createSelector)(Qse(),function(e){if(!e)return{};var t=e.serverEntityID,n=e.providerEntityID,r=e.entityID,i=e.type;return{serverEntityID:t,providerEntityID:n,entityID:r,url:e.thumb,isVideo:"clip"===i}}),function(e){return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,url:e.url}})})(yKe),SKe=Lm(function(){return Object(Iy.createSelector)(zze(),function(e){return{metadataItemEntityID:e.metadataItem}})})(bKe),IKe=n(268),CKe=n.n(IKe),MKe=Xf.a.Component,DKe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMeasure=function(e){var t=e.width,n=e.height;r.setState({isMeasured:!0,width:t,height:n})},r.state={isMeasured:!1,width:null,height:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.playQueueItemEntityIDs,r=e.playQueueItemEntityID,i=e.firstIndex,a=e.size,o=e.onPhotoPress,s=this.state,l=s.isMeasured,c=s.width,u=s.height,d=n.indexOf(r)+i,p=[],h=[],f=0;if(l){f=Math.ceil(u);var g=Math.ceil(c/f),v=function(e){var t=e.index,n=e.length,r=e.renderableWindow,i=void 0===r?n:r,a=e.cellPadding,o=void 0===a?0:a,s=e.cellWidth,l=e.width,c=n*s+(n-1)*o,u=t*(s+o)-(l/2-s/2);c>l&&(u=Math.min(Math.max(u,0),c-l));for(var d=[],p=Math.max(0,t-i),h=Math.min(n-1,t+i),f=p;f<=h;f++)d[f]=f*(s+o)-u;return{renderStartIndex:p,renderEndIndex:h,positions:d}}({index:d,renderableWindow:g,length:a,cellPadding:2,cellWidth:f,width:c});h=C.a.range(v.renderStartIndex,v.renderEndIndex+1),p=v.positions}return hv()("div",{className:(t||"")+" "+(CKe.a.strip||""),"data-qa-id":"photoStripContainer"},void 0,hv()(XA,{className:CKe.a.thumbs,onMeasure:this.onMeasure},void 0,l?h.map(function(e){var t=p[e],r=d===e,a=n[e-i],s={position:"absolute",width:f,height:f,transform:"translate3d("+t+"px, 0, 0)"};return hv()("div",{className:CKe.a.cell,style:s},e,hv()("div",{className:(CKe.a.thumbContainer||"")+" "+(r&&CKe.a.isSelected||""),"data-qa-id":"photoStripItem"},void 0,a?hv()(SKe,{className:CKe.a.thumb,playQueueItemEntityID:a,dimension:f-4,index:e-i,onPlayPress:o}):null))}):null))},t}(MKe),wKe=n(151),PKe=n.n(wKe),TKe=Xf.a.Component,EKe=parseInt(yQ.a.playerControlsHeight,10),xKe=parseInt(yQ.a.playerControlsNarrowHeight,10),OKe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPhotoStripTogglePress=function(e){r.setState({isPhotoStripOpen:!r.state.isPhotoStripOpen})},r.onPhotoInformationTogglePress=function(e){r.setState({isInformationOpen:!r.state.isInformationOpen})},r.onInteraction=function(e){r.setState({hadRecentInteraction:!0}),r._startInteractionTimer()},r.onInteractionTimeout=function(){r.setState({hadRecentInteraction:!1}),r._stopInteractionTimer()},r.onContentMeasure=function(e){r.props.onPlaybackDimensionsChange(e)},r.onControlsMenuChange=function(e){r.setState({isControlsMenuOpen:e})},r.onCastMenuChange=function(e){r.setState({isCastMenuOpen:e})},r.onControlsMouseEnter=function(e){r.setState({disableInteractionTimer:!0})},r.onControlsMouseLeave=function(e){r.setState({disableInteractionTimer:!1})},r.state={disableInteractionTimer:!1,isPhotoStripOpen:!1,isInformationOpen:!1,isControlsMenuOpen:!1,isCastMenuOpen:!1,hadRecentInteraction:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._startInteractionTimer()},n.componentDidUpdate=function(e,t){var n=this.state.disableInteractionTimer,r=t.disableInteractionTimer,i=!r&&n;r&&!n?this._startInteractionTimer():i&&this._stopInteractionTimer()},n.componentWillUnmount=function(){this._stopInteractionTimer()},n._startInteractionTimer=function(){this.state.disableInteractionTimer||(this._stopInteractionTimer(),this._interactionTimeoutID=setTimeout(this.onInteractionTimeout,2e3))},n._stopInteractionTimer=function(){this._interactionTimeoutID&&clearTimeout(this._interactionTimeoutID)},n.render=function(){var e=this.state,t=e.isPhotoStripOpen,n=e.isInformationOpen,r=e.hadRecentInteraction,i=this.props,a=i.playQueueItemEntityIDs,o=i.playQueueItemEntityID,s=i.isPlayQueueLoading,l=i.isVideo,c=i.isPhoto,u=i.size,d=i.firstIndex,p=i.width,h=i.height,f=i.canSkipPrevious,g=i.canSkipNext,v=i.errorMessage,m=i.positionMilliseconds,y=i.bufferStartMilliseconds,b=i.bufferEndMilliseconds,S=i.hasFullscreen,I=i.isFullscreen,C=i.isMediaLoading,M=i.isBuffering,D=i.isNarrowLayout,w=i.playerType,P=i.onExitFullscreenPress,T=i.onEnterFullscreenPress,E=i.onToggleFullscreen,x=i.onPlayNextItem,O=i.onPlayPreviousItem,j=i.onPlayItem,A=this.state,N=A.isControlsMenuOpen,k=A.isCastMenuOpen,L=t||n,R=!(L||r||N||k),_=!r&&!k,U=L,z=!c&&(C||M),F=D?xKe:EKe,B=R?null:"translateY("+-F+"px)";return hv()("div",{"data-qa-id":"photoPlayerContainer",className:(PKe.a.fullPlayer||"")+" "+(R&&PKe.a.hideControls||"")+" "+(U&&PKe.a.dockControls||""),onMouseMove:this.onInteraction,onMouseDown:this.onInteraction,onTouchStart:this.onInteraction,onTouchEnd:this.onInteraction},void 0,c?hv()(mYe,{playerType:w,playQueueItemEntityID:o}):null,hv()("div",{className:PKe.a.player},void 0,hv()("div",{className:PKe.a.main},void 0,hv()(XA,{className:PKe.a.content,onMeasure:this.onContentMeasure},void 0,z?hv()("div",{className:PKe.a.spinner},void 0,hv()(ZE.a,{size:qp.LARGE})):null,hv()(LYe,{playQueueItemEntityIDs:a,playQueueItemEntityID:o,firstIndex:d,size:u,errorMessage:v,width:p,height:h}),s?null:hv()(FYe,{hideOverlays:_,isPhoto:c,isFullscreen:I,hasFullscreen:S,canSkipNext:g,canSkipPrevious:f,onPlayNextItem:x,onPlayPreviousItem:O,onCastMenuChange:this.onCastMenuChange,onEnterFullscreenPress:T,onExitFullscreenPress:P,onToggleFullscreen:E})),t?hv()(DKe,{className:PKe.a.mainFooter,playQueueItemEntityIDs:a,playQueueItemEntityID:o,firstIndex:d,size:u,onPhotoPress:j}):null),n?hv()(gKe,{className:PKe.a.aside,playerType:w}):null),s?null:hv()("div",{className:PKe.a.bottomBar,style:{bottom:-F,height:F,WebkitTransform:B,msTransform:B,transform:B},onMouseEnter:this.onControlsMouseEnter,onMouseLeave:this.onControlsMouseLeave},void 0,hv()(vYe,{playerType:w,isVideo:l,isPhoto:c,positionMilliseconds:m,bufferStartMilliseconds:y,bufferEndMilliseconds:b,activatePhotoInformationButton:n,activatePhotoStripButton:t,showPhotoInformationButton:!0,showPhotoStripButton:!0,onPhotoInformationPress:this.onPhotoInformationTogglePress,onPhotoStripPress:this.onPhotoStripTogglePress,onControlsMenuChange:this.onControlsMenuChange})))},t}(TKe),jKe=Xf.a.createElement;var AKe=function(e){return hv()(ZGe,{isPlayQueueLoading:e.isPlayQueueLoading},void 0,jKe(vYe,e))},NKe=Xf.a.createElement,kKe=Xf.a.Component;function LKe(e){return!!e.playQueueItemEntityID&&!e.isPaused&&!e.isRemotePlayer&&e.isPhoto}var RKe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSlideShowAdvance=function(){r.props.onPlayNextItem({autoPlay:!0})},r.onPlaybackDimensionsChange=function(e){var t=e.width,n=e.height;r.setState({mediaWidth:t,mediaHeight:n})},r.state={mediaHeight:0,mediaWidth:0},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){LKe(this.props)&&this._startSlideshow()},n.componentDidUpdate=function(e){var t=LKe(e),n=LKe(this.props),r=n!==t,i=this.props.playQueueItemEntityID!==e.playQueueItemEntityID;(r||i)&&(n?e.isPaused?this.props.onPlayNextItem({autoPlay:!0}):this._startSlideshow():this._stopSlideshow())},n.componentWillUnmount=function(){this._stopSlideshow(),this._playerTimer=clearTimeout(this._playerTimer)},n._startSlideshow=function(){this._stopSlideshow(),this._slideshowTimer=setTimeout(this.onSlideShowAdvance,5e3)},n._stopSlideshow=function(){this._slideshowTimer&&(this._slideshowTimer=clearTimeout(this._slideshowTimer))},n.render=function(){var e=this.props,t=e.isMiniPlayer,n=e.isRemotePlayer,r=this.state,i=r.mediaWidth,a=r.mediaHeight;return NKe(GDe,dv()({},this.props,{playerType:zne,mediaWidth:i,mediaHeight:a,isRemotePlayer:n,isPostPlayVisible:!1,hasConflicts:!1,mediaComponent:PDe,playerComponent:t?AKe:OKe,onPlaybackDimensionsChange:this.onPlaybackDimensionsChange}))},t}(kKe);var _Ke=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.isMiniPlayer},ioe(),JSe(),loe(),function(e,t,n,r){var i={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,confirmPlaybackPayload:t.confirmPlaybackPayload,confirmOffsetPayload:t.confirmOffsetPayload,confirmRemoteToLocal:t.confirmRemoteToLocal,confirmLocalToRemote:t.confirmLocalToRemote,isPlayQueueLoading:t.isPlayQueueLoading,isMediaLoading:t.isMediaLoading,isPaused:t.isPaused,isBuffering:t.isBuffering,hasError:t.hasError,errorMessage:t.errorMessage,showBackgroundVideoPlayer:!!n&&!e},a=t.playQueue;if(a&&r){var o=a.currentIndex;i.playQueueItemEntityIDs=a.playQueueItems,i.playQueueItemEntityID=r.entityID,i.canSkipPrevious=o>0,i.canSkipNext=o<a.playQueueItems.length-1,i.size=a.length,i.firstIndex=a.playQueueSelectedItemOffset-o,i.currentMediaType=Object(nr.r)(r.type).mediaType,i.currentMediaSubtype=r.subtype}return i.isVideo=i.currentMediaType===ed.d,i.isPhoto=i.currentMediaType===ed.c,i})},function(e,t){var n=t.playerType;return{onPlayPreviousItem:function(){e(ere({playerType:n}))},onPlayNextItem:function(t){void 0===t&&(t={}),e($ne({playerType:n,autoPlay:t.autoPlay}))},onPlayItem:function(t){e(tre({playerType:n,index:t}))},onTogglePlayPause:function(){e(ESe({playerType:n}))}}})(RKe);_Ke.propTypes=Object.assign({},_Ke.propTypes,{playerType:Dp.a.string.isRequired});var UKe=_Ke,zKe=Rm.extend({component:function(){return hv()(lYe,{component:UKe,playerType:zne})}}),FKe=n(1028),BKe=n.n(FKe),HKe=U.Layout.extend({el:"#plex",template:BKe.a,resizeDelay:200,ui:{content:"#content"},customRegions:{background:{prepend:!0,global:!0},content:{selector:"#content",global:!0,scrollable:!0,channelName:"content"},navbar:{prepend:!0,global:!0},staticAlertBar:{selector:"#staticAlertBar"},alertbar:{selector:"#alertBar"},audioVideoPlayer:{append:!0,global:!0},photoPlayer:{append:!0,global:!0},syncDownloadModals:{append:!0}},openAlerts:{},initialize:function(){C.a.bindAll(this,"triggerResizeEvent");var e=J.c("appModel");this.user=e.get("user"),this.modals=[],C.a.each(C.a.keys(this.customRegions),function(e){var t=this.customRegions[e],n=t.selector||C.a.uniqueId("r");t.scrollable?this.addRegion(e,new lee({el:n,channelName:t.channelName})):this.addRegion(e,n)},this),this.listenTo(e,{"change:authorized":this.onAuthorizedChange,"change:isFirstRun":this.onFirstRunChange}),this.listenTo(this.user,{"change:locked":this.onUserLockedChange,"change:isSignedIn":this.onUserIsSignedInChange}),this.listenTo(z.a,{"show:loading":this.showLoading,"show:view":this.showView,"show:alert":this.showAlert,"show:bar":this.showBar,"hide:bar":this.hideBar,"show:modal":this.showModal,"hide:modal":this.hideModal,"update:scrollPosition":this.onUpdateScrollPosition}),P()(window).on("resize",this.onResize)},showCustomRegion:function(e,t){var n=this.customRegions[e],r=this[e];if(this.user.get("locked"))return r.lockedView=t,void t.close();n.append?r.append(t,this.$el):n.prepend?r.prepend(t,this.$el):r.show(t)},showLoading:function(){this.hideBar("alertbar"),this.user.get("locked")&&this.resetContentLockedRegions(),this.showCustomRegion("content",new v6)},showView:function(e){P()(".tooltip").remove(),this.hideBackground(this.currentView,e),z.a.trigger("cycle:cache"),this.currentView=e,this.showCustomRegion("content",e),this.ui.content.scrollTop(0)},showAlert:function(e){var t=e.message;if(!this.openAlerts[t]){var n=new gie(e);this.openAlerts[t]=!0,this.listenToOnce(n,"close",function(){delete this.openAlerts[t]}),this.$el.append(n.render().el)}},showAlertBar:function(){var e=te.a.get("alerts");e&&e.length&&(te.a.set("alerts",null),this.showBar("alertbar",new Wh({alert:C.a.first(e)})))},showBar:function(e,t){this.customRegions[e].modifier&&this.$el.addClass(this.customRegions[e].modifier),t&&this.showCustomRegion(e,t)},hideBar:function(e,t){t||(t={});var n=this.customRegions[e].modifier;n&&this.$el.removeClass(n),t.preserve||(this[e].lockedView=null,this[e].close())},showModal:function(e){this.modals.push(e);var t=P()("body");e.transparent&&t.addClass("show-modal-transparent"),t.append(e.render().el)},hideModal:function(e){var t=C.a.indexOf(this.modals,e);t>-1&&this.modals.splice(t,1)[0].close(),e.transparent&&!C.a.findWhere(this.modals,{transparent:!0})&&P()("body").removeClass("show-modal-transparent")},hideBackground:function(e,t){var n=t.model?t.model.get("grandparentTheme")||t.model.get("parentTheme")||t.model.get("theme")||t.model.get("key"):null;z.a.trigger("audio:fadeOut",{exceptKey:n}),e&&e.model&&z.a.trigger("hide:background",this.currentView.model)},lockAll:function(){this._isLocked=!0;var e=C.a.map(C.a.keys(this.customRegions),function(e){return this[e]},this);C.a.each(e,function(e){e.close()},this)},resetContentLockedRegions:function(){C.a.each(C.a.keys(this.customRegions),function(e){if(!this.customRegions[e].global){var t=this[e];t.lockedView&&(t.lockedView=null)}},this)},restoreAll:function(){this._isLocked=!1;var e=J.c("appModel");e.get("authorized")&&this.showBar("navbar",new Xbe({model:e}),{prepend:!0}),this.showCustomRegion("background",this.backgroundView),this.showCustomRegion("photoPlayer",new zKe),this.showCustomRegion("audioVideoPlayer",new dYe),function(e){return void 0===e&&(e=of.a),"ie"===e.id&&11===parseInt(e.version,10)}()&&this.showCustomRegion("staticAlertBar",new yie({})),te.a.get("allowSyncDownload")&&this.showCustomRegion("syncDownloadModals",new Wie)},triggerResizeEvent:function(){z.a.trigger("resize")},onRender:function(){this.backgroundView=new pie,this.restoreAll()},onAuthorizedChange:function(e,t){if(t){var n=J.c("appModel");this.showBar("navbar",new Xbe({model:n}),{prepend:!0});var r=this.user.get("locked");!1!==r&&null!==r||this.showAlertBar()}else this.hideBar("navbar"),z.a.trigger("navigate:refresh")},onFirstRunChange:function(e,t){this.$el.toggleClass("show-first-run",t)},onUserLockedChange:function(e,t){t?this.lockAll():!this._isLocked||!1!==t&&null!==t||(null===t&&(this.backgroundView=new pie),this.restoreAll())},onUserIsSignedInChange:function(e,t){var n=J.c("appModel");n.get("authorized")?this.showBar("navbar",new Xbe({model:n}),{prepend:!0}):(this.hideBar("navbar"),z.a.trigger("navigate:refresh"))},onResize:function(){this.resizeTimeout=clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.triggerResizeEvent,this.resizeDelay)},onUpdateScrollPosition:function(e){this.ui.content[0].scrollTop=e}}),VKe=Object(Iy.createSelector)(qZ,function(e){return e.filter(function(e){return e.isFullServer&&!!e.friendlyName})}),QKe=KS(Object(Iy.createSelector)(VKe,function(e){return e.reduce(function(e,t){var n=t.entityID,r=t.machineIdentifier;return n&&r&&e.push({entityID:n,machineIdentifier:r}),e},[])}),function(e){return e});function WKe(e){return e.user.experienceSettings.homeSettings.preferredServerID}var GKe=Object(Iy.createSelector)(Wfe("providers"),ek,function(e,t){return e?e.map(function(e){return t[e]}):[]}),YKe=Object(Iy.createSelector)(H9,Wfe("isProvidersPopulated"),Wfe("providersError"),GKe,function(e,t,n,r){if(e.isRejected)return!0;var i=(t||!!n)&&r.every(function(e){return e.isPopulated||!!e.error});return!e.isResourcesPending&&i}),KKe=Object(Iy.createSelector)(Cwe,function(e){return e.servers},My,function(e,t,n){var r=e.preferredServerID;if(r)for(var i=0,a=t.length;i<a;i++){var o=n[t[i]];if(o.machineIdentifier===r)return o}}),qKe="dvr",ZKe="movies",XKe="music",JKe="news",$Ke="photos",eqe="playlists",tqe="podcasts",nqe="tv",rqe="videos",iqe="webShows",aqe=Object(vl.a)(["key"],[{key:eqe,types:{type:nr.j}},{key:ZKe,types:{type:nr.g}},{key:nqe,types:{type:nr.l}},{key:XKe,types:{type:nr.b}},{key:$Ke,types:{type:nr.h}},{key:rqe,types:{type:nr.g}},{key:"episode",types:{type:nr.e}},{key:qKe,title:function(){return Object(Xn.default)("Live TV & DVR")}},{key:JKe,title:function(){return Object(Xn.default)("News")},types:{type:nr.c,subtype:Jn}},{key:tqe,types:{type:nr.l,subtype:$n}},{key:iqe,types:{type:nr.l,subtype:er}}]),oqe=(aqe.get,aqe.getAll);function sqe(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ss.apply(void 0,["source"].concat(t))}function lqe(e){var t=e.sourceType,n=e.sourceServer,r=e.sourceProvider,i=e.sourceDirectory,a=e.selectedServerEntityID,o=e.selectedProviderEntityID,s=e.selectedSourceDirectory,l=a===n.entityID&&o===r.entityID,c=!!(t===qKe||s&&(i.hubKey&&i.hubKey===s.hubKey||i.key&&i.key===s.key)),u={key:sqe(t,n.machineIdentifier,r.identifier,i.hubKey||i.key),sourceType:t,serverEntityID:n.entityID,machineIdentifier:n.machineIdentifier,providerEntityID:r.entityID,providerIdentifier:r.identifier,providerMetricsIdentifier:r.metricsIdentifier,directoryKey:i.key,directoryHubKey:i.hubKey,directoryIcon:i.icon,title:i.title,serverFriendlyName:n.friendlyName,serverSourceTitle:n.sourceTitle,isLocal:n.isConnected&&n.activeConnection&&n.activeConnection.isPrivate,isUnavailable:n.isUnavailable,isOutOfDate:n.isOutOfDate,isUnclaimedServer:n.isConnected&&!n.isClaimed&&!n.isCloud,isFullOwnedServer:n.isFullOwnedServer,isSelected:l&&c};return n.isCloud?u.isCloud=!0:t===qKe&&(u.title=Object(Xn.default)("Live TV & DVR")),u}var cqe=function(e,t,n){var r=e.key,i=e.types,a=void 0===i?{}:i,o=t.protocols.includes(qn.a),s=r===qKe;if(o)return s;if(s)return!1;var l=n.agent===gl.d;if(r===rqe&&!l||r===ZKe&&l)return!1;var c=a.type,u=a.subtype;return n.type===c&&(null==u&&null==n.subtype||null!=u&&n.subtype===u)};function uqe(e,t){if(e&&t)for(var n=oqe(),r=0,i=n.length;r<i;r++){var a=n[r];if(cqe(a,e,t))return a}}function dqe(e){var t=e.sourceServer,n=e.sourceProvider,r=e.directories,i=e.serverEntityID,a=e.providerEntityID,o=e.sourceDirectory;return r?r.reduce(function(e,r){var s=uqe(n,r);return s?((s.key!==qKe||!(!r.hubKey||r.key))&&e.push(lqe({sourceType:s.key,sourceServer:t,sourceProvider:n,sourceDirectory:r,selectedServerEntityID:i,selectedProviderEntityID:a,selectedSourceDirectory:o})),e):e},[]):[]}var pqe=Xf.a.createElement;var hqe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onChange=function(e){var t=r.store.getState(),n=Object.keys(t).filter(function(e){return r.props.names.includes(e)}),i=Object.assign({},t);n.forEach(function(t){var n=i[t];i[t]=Object.assign({},n,{value:e})}),r.store.dispatch(P_.replaceState(i))},r.onFormStoreChange=function(){if(r.props.names.length){var e=r.store.getState(),t=Object.keys(e).filter(function(e){return r.props.names.includes(e)}),n=e[t[0]].value,i=function(e,t,n){return e.every(function(e){var r=n[e];return!r||r.value===t})}(t,n,e);r.setState({value:i?n:null})}},r.store=r.context.formStore,r.state={value:!0},r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this.unsubscribe=this.store.subscribe(this.onFormStoreChange)},n.componentWillUnmount=function(){this.unsubscribe&&this.unsubscribe()},n.render=function(){var e=this.props,t=e.names,n=e.onChange,r=wt()(e,["names","onChange"]);return t.length?pqe(sW,dv()({},r,{value:this.state.value,onChange:JA(this.onChange,n)})):null},t}(Xf.a.Component);hqe.contextTypes={formStore:C_};var fqe=hqe,gqe=n(397),vqe=n.n(gqe);function mqe(e){var t=e.className,n=e.titleBarClassName,r=e.titleTextClassName,i=e.scrollerClassName,a=e.title,o=e.rightTitle,s=e.children;return hv()("div",{className:t},void 0,hv()("div",{className:n},void 0,hv()("span",{className:r},void 0,a),o),hv()(oT,{className:i},void 0,s))}mqe.defaultProps={className:vqe.a.container,titleBarClassName:vqe.a.titleBar,titleTextClassName:vqe.a.titleText,scrollerClassName:vqe.a.scroller};var yqe=mqe,bqe=n(152),Sqe=n.n(bqe),Iqe=Xf.a.createElement;function Cqe(e){var t=e.step,n=e.isActive,r=e.onPress;return hv()(RS,{className:n?Sqe.a.activeStepIcon:Sqe.a.stepIcon,onPress:function(){r(t)}},void 0,t)}function Mqe(e){var t=e.className,n=e.actionsClassName,r=e.stepContainerClassName,i=e.steps,a=e.step,o=e.stepHeadingText,s=e.stepBodyText,l=e.stepButtonBackText,c=e.stepButtonNextText,u=e.children,d=e.component,p=e.onButtonBackPress,h=e.onButtonNextPress,f=e.onStepPress,g=wt()(e,["className","actionsClassName","stepContainerClassName","steps","step","stepHeadingText","stepBodyText","stepButtonBackText","stepButtonNextText","children","component","onButtonBackPress","onButtonNextPress","onStepPress"]);return Iqe(d,dv()({className:t},g),hv()("div",{className:n},void 0,u),hv()("div",{className:r},void 0,hv()("div",{className:Sqe.a.stepText},void 0,Object(Xn.default)("Plex Web Setup"),Array.from(Array(i),function(e,t){return t+1}).map(function(e){return hv()(Cqe,{step:e,isActive:a===e,onPress:f},e)})),hv()("h3",{className:Sqe.a.stepHeading},void 0,o),hv()("p",{className:Sqe.a.stepBody},void 0,s),l?hv()(I_,{className:Sqe.a.stepButton,onPress:p},void 0,l):null,hv()(I_,{className:Sqe.a.stepButton,kind:Qp,type:"submit",onPress:h},void 0,c)))}Mqe.defaultProps={className:Sqe.a.container,actionsClassName:Sqe.a.actions,stepContainerClassName:Sqe.a.stepContainer,component:function(e){var t=e.children,n=wt()(e,["children"]);return Iqe("div",n,t)},steps:2,step:1};var Dqe=Mqe;function wqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-playlists-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 460l80 0 0 60-80 0 0-60m560 0l0 60-400 0 0-60 400 0m-560-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60m-160-140l80 0 0 60-80 0 0-60m160 0l400 0 0 60-400 0 0-60"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}wqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Pqe=wqe;function Tqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-live-dvr-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M400 10h70L351.25 110H546c7.732 0 14 6.268 14 14v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V124c0-7.732 6.268-14 14-14h194.75L90 10h70l120 100L400 10zm100 433V177a7 7 0 0 0-7-7H67a7 7 0 0 0-7 7v266a7 7 0 0 0 7 7h426a7 7 0 0 0 7-7z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Tqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Eqe=Tqe;function xqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-movies-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M560 40c0-11.038-8.962-20-20-20H20C8.962 20 0 28.962 0 40v480c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V40zM100 468v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 310v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V310c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 78v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zM400 70v180c0 5.52-4.48 10-10 10H170c-5.52 0-10-4.48-10-10V70c0-5.52 4.48-10 10-10h220c5.52 0 10 4.48 10 10zm100 158v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm400 0v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8v-24c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm0-80v24c0 4.415-3.585 8-8 8h-24c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8zm-400 0v24c0 4.415-3.585 8-8 8H68c-4.415 0-8-3.585-8-8V68c0-4.415 3.585-8 8-8h24c4.415 0 8 3.585 8 8z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}xqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Oqe=xqe;function jqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-music-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M199.855 473.52a35.61 35.61 0 0 1 .145 3.222c0 33.115-44.809 68.962-100 80-55.191 11.039-100-6.885-100-40s44.809-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V96.85c0-11.257 8.788-22.154 19.612-24.319L540.388.377C551.212-1.788 560 5.594 560 16.85V392c0 .52-.05 1.028-.145 1.52.096 1.058.145 2.132.145 3.222 0 33.115-44.808 68.962-100 80-55.192 11.039-100-6.885-100-40s44.808-68.961 100-80c22.504-4.5 43.282-4.186 60 .01V124.455l-320 64V472c0 .52-.05 1.028-.145 1.52z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}jqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Aqe=jqe;function Nqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-news-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M14 560h532c7.732 0 14-6.268 14-14V14c0-7.732-6.268-14-14-14H14C6.268 0 0 6.268 0 14v532c0 7.732 6.268 14 14 14zm46-60v-60h140v60H60zm180 0V360h260v140H240zM60 400V200h140v200H60zm180-80v-40h260v40H240zm0-80v-40h260v40H240zM60 160V60h440v100H60z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Nqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var kqe=Nqe;function Lqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-photos-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M440 120h100c11.038 0 20 8.962 20 20v360c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V140c0-11.038 8.962-20 20-20h100V60c0-11.038 8.962-20 20-20h280c11.038 0 20 8.962 20 20v60zm-160 40c-88.306 0-160 71.694-160 160s71.694 160 160 160 160-71.694 160-160-71.694-160-160-160zm0 80c44.153 0 80 35.847 80 80s-35.847 80-80 80-80-35.847-80-80 35.847-80 80-80z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Lqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Rqe=Lqe;function _qe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-podcasts-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M240 455.992C148.757 437.44 80 356.686 80 260h60c0 77.269 62.732 140 140 140s140-62.732 140-140h60c0 96.686-68.757 177.44-160 195.992V560h-80V455.992zM360 80c0-44.153-35.847-80-80-80s-80 35.847-80 80v180c0 44.153 35.847 80 80 80s80-35.847 80-80V80z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}_qe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Uqe=_qe;function zqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-shows-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M440 480c0-11.038-8.962-20-20-20H140c-11.038 0-20 8.962-20 20v20c0 11.038 8.962 20 20 20h280c11.038 0 20-8.962 20-20v-20zM540 40H20C8.962 40 0 48.962 0 60v360c0 11.038 8.962 20 20 20h520c11.038 0 20-8.962 20-20V60c0-11.038-8.962-20-20-20zm-40 70v220c0 5.52-4.48 10-10 10H70c-5.52 0-10-4.48-10-10V110c0-5.52 4.48-10 10-10h420c5.52 0 10 4.48 10 10z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}zqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Fqe=zqe;function Bqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-videos-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M360 320v140c0 11.038-8.962 20-20 20H20c-11.038 0-20-8.962-20-20V100c0-11.038 8.962-20 20-20h320c11.038 0 20 8.962 20 20v140l200-120v320L360 320z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Bqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Hqe=Bqe;function Vqe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-webshows-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M560 74v412c0 7.732-6.268 14-14 14H14c-7.732 0-14-6.268-14-14V74c0-7.732 6.268-14 14-14h532c7.732 0 14 6.268 14 14zm-360 86v240l200-120-200-120z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Vqe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Qqe=Vqe,Wqe=hv()(Pqe,{}),Gqe=hv()(Oqe,{}),Yqe=hv()(Fqe,{}),Kqe=hv()(Aqe,{}),qqe=hv()(Rqe,{}),Zqe=hv()(Hqe,{}),Xqe=hv()(Eqe,{}),Jqe=hv()(kqe,{}),$qe=hv()(Uqe,{}),eZe=hv()(Qqe,{});var tZe=function(e){switch(e.sourceType){case eqe:return Wqe;case ZKe:return Gqe;case nqe:return Yqe;case XKe:return Kqe;case $Ke:return qqe;case rqe:return Zqe;case qKe:return Xqe;case JKe:return Jqe;case tqe:return $qe;case iqe:return eZe}return null},nZe=n(329),rZe=n.n(nZe),iZe=Xf.a.createElement;var aZe=$Q(function(e){var t=e.title,n=e.sourceType,r=e.directoryIcon,i=wt()(e,["title","sourceType","directoryIcon"]);return hv()("label",{className:rZe.a.sourceItem,htmlFor:i.name},void 0,hv()("span",{className:rZe.a.sourceTitle},void 0,hv()("span",{className:rZe.a.sourceIconContainer},void 0,r?hv()("img",{className:rZe.a.iconImg,src:r}):hv()(tZe,{sourceType:n})),t),iZe(sW,dv()({inputClassName:rZe.a.input},i)))}),oZe=n(1029),sZe=n.n(oZe),lZe=hv()(ZE.a,{});var cZe=function(e){var t=e.isPending,n=e.steps,r=e.sources,i=e.onSubmit,a=e.onButtonBackPress,o=e.onStepPress;return t?lZe:hv()(Dqe,{stepHeadingText:Object(Xn.default)("Customize your Navigation"),stepBodyText:Object(Xn.default)("Choose what youd like to have in your sidebar navigation menu. (Youll always have easy access to everything, so you can make changes and further customize your menu later.)"),stepButtonBackText:n>1?Object(Xn.default)("Go Back"):void 0,stepButtonNextText:Object(Xn.default)("Finish Setup"),step:2,steps:n,component:x_,onSubmit:i,onButtonBackPress:a,onStepPress:o},void 0,hv()(yqe,{title:Object(Xn.default)("Pinned Sources"),rightTitle:r.length?hv()(fqe,{inputClassName:sZe.a.input,name:"allSources",names:r.map(function(e){return e.key})}):null},void 0,r.map(function(e){return hv()(aZe,{name:e.key,title:e.title,sourceType:e.sourceType,directoryIcon:e.directoryIcon,initialValue:!0},e.key)})))},uZe=Xf.a.createElement,dZe=Xf.a.Component,pZe=Object(Iy.createSelector)(KKe,ek,function(e,t){return(e?e.providers:[]).map(function(e){return t[e]})});function hZe(e,t){return t.reduce(function(t,n){var r=ir(n),i=dqe({sourceServer:e,sourceProvider:n,directories:r&&r.directories});return t.push.apply(t,i),t},[])}var fZe={dispatchSetupSources:ts},gZe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubmit=function(e){var n=t.props.sources.filter(function(t){var n=t.key;return e[n]});t.props.dispatchSetupSources({sources:n})},t}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(){this.props.hasCompletedSetup&&this.props.onEndFirstRunExperience()},n.render=function(){var e=this.props,t=(e.onEndFirstRunExperience,e.dispatchSetupSources,wt()(e,["onEndFirstRunExperience","dispatchSetupSources"]));return uZe(cZe,dv()({},t,{onSubmit:this.onSubmit}))},t}(dZe),vZe=Lm(function(){return Object(Iy.createSelector)(KKe,pZe,H9,GKe,Py,function(e,t,n,r,i){var a=hZe(e,t),o=hZe(n,r),s=i.sidebarSettings.hasCompletedSetup;return{isPending:!(!e||e.connectionTestResult!==Mc.PENDING),sources:[].concat(a,o),hasCompletedSetup:s}})},fZe)(gZe),mZe=n(234),yZe=n.n(mZe);var bZe=function(e){var t=e.friendlyName,n=e.isSelected,r=e.isUnavailable,i=e.onPress,a=f9(e).statusWithSource;return hv()(RS,{className:(yZe.a.serverButton||"")+" "+(n&&yZe.a.isSelected||"")+" "+(r&&yZe.a.isUnavailable||""),onPress:i},void 0,hv()("span",{className:yZe.a.titles},void 0,hv()("span",{className:yZe.a.friendlyName},void 0,t),hv()("span",{className:yZe.a.details},void 0,a)),n?hv()(SI,{className:yZe.a.serverMenuIcon,"aria-label":Object(Xn.default)("Selected")}):null)};var SZe=Lm(function(){return QFe(Dy(),["activeConnection","friendlyName","isConnected","isOutOfDate","isRelayed","isSecure","isUnavailable","sourceTitle"])},function(e,t){return{onPress:function(){t.onPress({entityID:t.serverEntityID,machineIdentifier:t.machineIdentifier})}}})(bZe);SZe.propTypes=Object.assign({},SZe.propTypes,{machineIdentifier:Dp.a.string.isRequired,serverEntityID:Dp.a.string.isRequired});var IZe=SZe;var CZe=function(e){var t=e.preferredServerIdentifiers,n=e.serverIdentifiers,r=e.onSavePreferredServer,i=e.onButtonNextPress,a=e.onStepPress;return hv()(Dqe,{stepHeadingText:Object(Xn.default)("Choose your Preferred Server"),stepBodyText:Object(Xn.default)("It looks like you have access to more than one Plex Media Server. Choose your preferred server, and well use it to build your home screen."),stepButtonNextText:Object(Xn.default)("Continue"),step:1,onButtonNextPress:i,onStepPress:a},void 0,hv()(yqe,{title:Object(Xn.default)("Plex Media Servers")},void 0,n.map(function(e){return hv()(IZe,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,isSelected:t&&t.machineIdentifier===e.machineIdentifier,onPress:r},e.entityID)})))},MZe=n(1030),DZe=n.n(MZe),wZe=Xf.a.Component;function PZe(e,t){return!e&&t.length>0}var TZe=hv()(Gq,{},void 0,hv()(ZE.a,{})),EZe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onNextStepPress=function(){r.setState(function(e){return{step:Math.max(2,e.step+1)}})},r.onBackStepPress=function(){r.setState(function(e){return{step:Math.min(1,e.step-1)}})},r.onStepPress=function(e){r.setState({step:e})},r.onEndFirstRunExperience=function(){var e=r.props,t=e.preferredServerIdentifiers;(0,e.onEndFirstRunExperience)(t?{preferredServerEntityID:t.entityID,preferredServerInteraction:t.machineIdentifier!==r.state.initialDefaultPreferredServerIdentifier}:{})},r.state={step:1},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.onChangeBackground({allowLightPreset:!0}),this.props.shouldResetCustomization?(Object(No.a)(function(){e.props.onResetCustomization()}),this._maybeCallOnSavePreferredServer(Object.assign({},this.props,{preferredServerIdentifiers:null}))):this._maybeCallOnSavePreferredServer(this.props)},n.componentDidUpdate=function(){this._maybeCallOnSavePreferredServer(this.props)},n.componentWillUnmount=function(){this.props.onResetBackground()},n._maybeCallOnSavePreferredServer=function(e){var t=e.isPending,n=e.preferredServerIdentifiers,r=e.serverIdentifiers,i=e.onSavePreferredServer;if(!t){var a=function(e,t){return e?e.machineIdentifier:t.length>0?t[0].machineIdentifier:void 0}(n,r);!this.state.initialDefaultPreferredServerIdentifier&&a&&this.setState({initialDefaultPreferredServerIdentifier:a}),PZe(n,r)&&i({machineIdentifier:a})}},n.render=function(){var e=this.props,t=e.isPending,n=e.preferredServerIdentifiers,r=e.serverIdentifiers,i=e.onSavePreferredServer,a=this.state.step,o=r.length<2;return t||PZe(n,r)?TZe:hv()(oT,{className:DZe.a.container},void 0,1!==a||o?hv()(vZe,{steps:o?0:2,onButtonBackPress:this.onBackStepPress,onStepPress:this.onStepPress,onEndFirstRunExperience:this.onEndFirstRunExperience}):hv()(CZe,{preferredServerIdentifiers:n,serverIdentifiers:r,onButtonNextPress:this.onNextStepPress,onStepPress:this.onStepPress,onSavePreferredServer:i}))},t}(wZe);var xZe=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.shouldResetCustomization},YKe,WKe,QKe,function(e,t,n,r){return{shouldResetCustomization:e,isPending:!t,preferredServerIdentifiers:n?r.find(function(e){return e.machineIdentifier===n}):void 0,serverIdentifiers:r}})},{onChangeBackground:s1,onResetBackground:c1,onSavePreferredServer:Lo,onEndFirstRunExperience:tH,onResetCustomization:Yo})(EZe),OZe=Rm.extend({onBeforeRender:function(){Rm.prototype.onBeforeRender.call(this,arguments),J.c("appModel").set("isFirstRun",!0)},onClose:function(){Rm.prototype.onClose.call(this,arguments),J.c("appModel").set("isFirstRun",!1)},component:function(e){var t=e.params,n=void 0===t?{}:t;return hv()(mv,{},void 0,hv()(xZe,{shouldResetCustomization:mt.a.parseBoolean(n.resetCustomization)}))}}),jZe=n(1031),AZe=n.n(jZe),NZe=U.ItemView.extend({template:AZe.a,initialize:function(){var e=J.c("appModel");this.listenTo(e,"change:primaryServer",this.render),this.listenTo(e.get("user"),"change:signedIn",this.render)},serializeData:function(){var e=J.c("appModel"),t=e.get("user"),n=e.get("primaryServer"),r={host:window.location.host,userAgent:window.navigator.userAgent,browser:of.a,user:t.toJSON(),hasPlexSubscription:t.get("hasPlexSubscription"),cloudServer:t.server.toJSON(),cloudServerUrl:t.server.url()};return n&&(r.primaryServer=n.toJSON(),r.primaryServerUrl=n.url()),r}}),kZe=n(1032),LZe=n.n(kZe),RZe=U.ItemView.extend({className:"logs-container",template:LZe.a,ui:{textarea:"textarea"},collectionEvents:{add:"onAdd"},onlyAfterRender:["onAdd"],serializeData:function(){return{logs:this.collection.toJSONString()}},onAdd:function(e,t){this.ui.textarea.text(this.collection.toJSONString())}}),_Ze=Object(Iy.createSelector)(T7,function(e){return e.hasDismissedServerDownloadMessage}),UZe=n(1033),zZe=n.n(UZe);var FZe=function(e){var t=e.children;return hv()("div",{className:zZe.a.description},void 0,t)},BZe=n(235),HZe=n.n(BZe),VZe=Xf.a.createElement;function QZe(e){var t=e.contentClassName,n=e.iconClassName,r=e.titleClassName,i=e.footerClassName,a=e.children,o=e.kind,s=e.iconComponent,l=e.iconSrc,c=e.title,u=e.description,d=e.footer,p=wt()(e,["contentClassName","iconClassName","titleClassName","footerClassName","children","kind","iconComponent","iconSrc","title","description","footer"]);return VZe(oT,dv()({className:HZe.a.emptyPage},p),hv()("div",{className:t},void 0,l?hv()("img",{className:HZe.a.imgIcon,src:l}):null,s?hv()("span",{className:n},void 0,hv()(s,{className:HZe.a[o]})):null,c?hv()("div",{className:r},void 0,c):null,u?hv()(FZe,{},void 0,u):null,a),d?hv()("div",{className:i},void 0,d):null)}QZe.defaultProps={contentClassName:HZe.a.content,iconClassName:HZe.a.icon,titleClassName:HZe.a.title,footerClassName:HZe.a.footer,kind:a.DEFAULT};var WZe=QZe,GZe=Xf.a.useCallback;var YZe=function(e){var t=e.hasDismissedServerDownloadMessage,n=e.dispatchSaveDeviceSettings,r=GZe(function(){n({hasDismissedServerDownloadMessage:!0})},[n]);return hv()(WZe,{iconSrc:w8.a,title:Object(Xn.default)("Add your media to Plex"),description:Object(Xn.default)("Organize, beautify, stream, and share your personal collection of movies, TV, music, and photos anywhere, on all your devices. To get started, download our free Plex Media Server software on the device where you store your media.")},void 0,hv()(I_,{to:gB,kind:Qp,size:qp.LARGE,target:"_self"},void 0,Object(Xn.default)("Get Plex Media Server")),t?null:hv()(FZe,{},void 0,hv()(RS,{kind:Qp,size:qp.SMALL,to:"#",onPress:r},void 0,Object(Xn.default)("Don't show this in my Pinned Sources sidebar"))))},KZe=Object(Iy.createSelector)(_Ze,function(e){return{hasDismissedServerDownloadMessage:e}}),qZe=Lm(KZe,{dispatchSaveDeviceSettings:Os})(YZe),ZZe=n(1034),XZe=n.n(ZZe),JZe=Xf.a.createElement;function $Ze(e){return JZe(mv,e)}$Ze.defaultProps={className:XZe.a.container};var eXe=$Ze,tXe=Object(Iy.createSelector)(Py,function(e){return e.sidebarSettings}),nXe=Object(Iy.createSelector)(tXe,function(e){return e.pinnedSources});function rXe(e,t,n,r,i){if(!e)return!n.isResourcesPending&&!n.hasFailedResources;var a=e.isCloud?r.isProvidersPopulated:e.isProvidersPopulated,o=e.isCloud?r.providers:e.providers,s=!!t&&t.isPopulated;return e.isConnected&&a&&(!t||-1===o.indexOf(t.entityID)||s&&!i)}function iXe(e,t,n){var r=ir(e);return r&&r.directories?r.directories.find(function(e){return e.key===t||e.hubKey===n}):null}function aXe(){return Object(Iy.createSelector)(function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},GFe(),nXe,Gie,qZ,H9,ek,function(e,t,n,r,i,a,o,s){var l={sourcesToBeHidden:[],sourcesToBeUnHidden:[],visibleSources:[]};return r.forEach(function(r){var c=function(e,t){return e.find(function(e){return e.machineIdentifier===t})}(a,r.machineIdentifier),u=function(e,t,n,r){if(!e)return null;var i=(e.isCloud?n:e.providers).find(function(e){var n=t[e];return n&&n.identifier===r});return t[i]}(c,s,i.providers,r.providerIdentifier),d=iXe(u,r.directoryKey,r.directoryHubKey),p=uqe(u,d);if(rXe(c,u,o,i,!!d))r.isHidden||l.sourcesToBeHidden.push(r.key);else if(r.isHidden&&p)l.sourcesToBeUnHidden.push(r.key);else if(p)l.visibleSources.push(lqe({sourceType:p.key,sourceServer:c,sourceProvider:u,sourceDirectory:d,selectedServerEntityID:e,selectedProviderEntityID:t,selectedSourceDirectory:n}));else{if(r.isHidden)return;var h=function(e,t,n,r){return e?e.isCloud?!r.isProvidersPopulated&&!r.providersError||t&&!t.isPopulated&&!t.error:e.connectionTestResult===Mc.PENDING:n.isResourcesPending}(c,u,o,i);l.visibleSources.push(Object.assign({},r,{serverEntityID:c&&c.entityID,providerEntityID:u&&u.entityID,isUnavailable:!h}))}}),l})}function oXe(e){return e.reduce(function(e,t){var n=t.isFullOwnedServer,r=t.serverSourceTitle,i=t.machineIdentifier;if(!n&&r){null==e.sharedSources[r]&&(e.sharedSources[r]=[]);var a=e.sharedSources[r];a.includes(i)||a.push(i)}return i&&n&&(null==e.ownedSources[i]&&(e.ownedSources[i]=0),e.ownedSources[i]++),e},{sharedSources:{},ownedSources:{}})}var sXe=Object(Iy.createSelector)(T7,function(e){return e.dismissedUnclaimedServers}),lXe=n(505),cXe=n.n(lXe),uXe=Xf.a.Fragment;var dXe=function(e){var t=e.children,n=e.isSidebarCollapsed;return hv()(uXe,{},void 0,n?hv()("div",{className:cXe.a.sidebarUnderlay}):null,hv()("div",{className:n?cXe.a.collapsedSidebar:cXe.a.openSidebar},void 0,t))},pXe=n(1035),hXe=n.n(pXe);var fXe=function(){var e=eae(),t=Object(Xn.default)("An unexpected error is impacting the sidebar");return hv()(dXe,{isSidebarCollapsed:!0},void 0,hv()(gN,{component:RS,tooltip:t,tooltipAttachment:lh,"aria-label":t,onPress:e.onOpen},void 0,hv()(FR,{className:hXe.a.icon})),hv()(Xie,{isOpen:e.isOpen,errorMessage:t+".",onModalClose:e.onClose}))},gXe=Dp.a.shape({key:Dp.a.string,directoryKey:Dp.a.string,directoryHubKey:Dp.a.string,directoryIcon:Dp.a.string,sourceType:Dp.a.string,title:Dp.a.string,detail:Dp.a.string,route:Dp.a.string,machineIdentifier:Dp.a.string,providerIdentifier:Dp.a.string,providerMetricsIdentifier:Dp.a.string,isUnavailable:Dp.a.bool,isOutOfDate:Dp.a.bool,isUnclaimedServer:Dp.a.bool,isSelected:Dp.a.bool,isCloud:Dp.a.bool});Dp.a.shape({ownedSources:Dp.a.object,sharedSources:Dp.a.object});function vXe(e,t,n){var r=e.slice(0);if(n<0||n>r.length)return r;var i=r[t];return(r=function(e,t){var n=e.slice(0);return t<0||t>=n.length?n:(n.splice(t,1),n)}(r,t)).splice(n,0,i),r}var mXe=n(153),yXe=n.n(mXe),bXe=Xf.a.createElement;function SXe(e){var t,n,r=e.className,i=e.style,a=e.linkClassName,o=e.titleClassName,s=e.isActiveClassName,l=e.isSelectedClassName,c=e.icon,u=e.title,d=e.detail,p=e.to,h=e.isActive,f=e.isDim,g=e.isDisabled,v=e.isSelected,m=e.children,y=e.onNavigate,b=wt()(e,["className","style","linkClassName","titleClassName","isActiveClassName","isSelectedClassName","icon","title","detail","to","isActive","isDim","isDisabled","isSelected","children","onNavigate"]);return p?(t=RS,n=Object.assign({},b,{isDisabled:g,to:p,onPress:y})):(t="div",n={}),hv()("div",{className:(r||"")+" "+(h&&s||"")+" "+(f&&yXe.a.isDim||"")+" "+(g&&yXe.a.isDisabled||"")+" "+(v&&l||""),"data-qa-id":"sidebarSource",style:i},void 0,bXe(t,dv()({className:a},n,{title:d?u+", "+d:u}),hv()("div",{className:yXe.a.iconContainer},void 0,c),hv()("div",{className:yXe.a.titles},void 0,hv()("div",{className:o},void 0,u),d?hv()("div",{className:yXe.a.detail},void 0,d):null)),m)}SXe.defaultProps={className:yXe.a.button,linkClassName:yXe.a.sourceLink,titleClassName:yXe.a.title,isActiveClassName:yXe.a.isActive,isSelectedClassName:yXe.a.isSelected};var IXe=SXe,CXe=n(637),MXe=n.n(CXe),DXe=Xf.a.createElement;var wXe=function(e){var t=e.icon,n=e.connectDragSource,r=wt()(e,["icon","connectDragSource"]),i=DXe(IXe,dv()({icon:t||hv()(qze,{className:MXe.a.iconReorder})},r));return n?n(hv()("div",{className:MXe.a.dragSource},void 0,i)):i};function PXe(e,t,n){var r=e.isCloud,i=e.isFullOwnedServer,a=e.serverFriendlyName,o=e.serverSourceTitle,s=t.ownedSources,l=t.sharedSources;if(!r){var c=Object.keys(s).length;if(i)return c>1?a:void 0;var u=Object.keys(l).length,d=l[o];return(d?d.length:0)>1?n?a:o+"  "+a:c>0||u>1?o:void 0}}function TXe(e,t){var n="translate3d("+e.x+"px, "+e.y+"px, 0)";return{WebkitTransform:n,msTransform:n,transform:n,width:t?t+"px":"100%"}}var EXe=Xf.a.Component,xXe=parseInt(mQ.sourceSidebarItemHeight,10);var OXe=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.style;if(!t||!n)return null;var r=t.sourceTitle,i=t.sourceDetail;return hv()(Rze,{},void 0,hv()(wXe,{style:n,title:r,detail:i}))},t}(EXe),jXe=Object(Dze.DragLayer)(function(e,t){var n=e.getItem(),r={item:n,style:null},i=e.getInitialSourceClientOffset(),a=e.getSourceClientOffset();if(e.getItemType()===Uze&&i&&a){var o=a.y;o-n.listTop<=0?o=n.listTop:o+xXe>=n.listBottom&&(o=n.listBottom-xXe),r.style=TXe({x:i.x,y:o},n.listWidth)}return r})(OXe),AXe=n(638),NXe=n.n(AXe),kXe={hover:function(e,t,n){var r,i=t.getClientOffset(),a=Object(Fv.findDOMNode)(n).getBoundingClientRect(),o=(a.bottom-a.top)/2,s=i.y-a.top,l=t.getItem().dragIndex,c=e.listIndex;r=c===l?c:s>o?c+1:c,e.onItemDragMove({dragIndex:l,dropIndex:r})}};var LXe=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.render=function(){var e=this.props,t=e.sourceTitle,n=e.sourceTitleDetail,r=e.isOver,i=e.isDragging,a=e.isDraggingBefore,o=e.isDraggingAfter,s=e.connectDropTarget,l=e.connectDragSource;return s(hv()("div",{className:(NXe.a.container||"")+" "+(r&&NXe.a.isOver||"")+" "+(i?"isDragging":"")+" "+(r&&a?"isDraggingBefore":"")+" "+(r&&o?"isDraggingAfter":"")},void 0,hv()(wXe,{title:t,detail:n,connectDragSource:l})))},t}(Xf.a.Component),RXe=Object(Dze.DropTarget)(Uze,kXe,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Dze.DragSource)(Uze,{beginDrag:function(e,t,n){var r=e.sourceTitle,i=e.sourceTitleDetail;return{dragIndex:e.listIndex,sourceTitle:r,sourceTitleDetail:i,isRemoved:e.isRemoved,listHeight:e.listHeight,listWidth:e.listWidth,listTop:e.listTop,listRight:e.listRight,listBottom:e.listBottom,listLeft:e.listLeft}},endDrag:function(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(LXe)),_Xe=n(1036),UXe=n.n(_Xe),zXe=Xf.a.createElement,FXe=Xf.a.Component,BXe=-1,HXe={dragIndex:-1,dropIndex:BXe,hasValidDropTarget:!1},VXe=hv()(WP,{},void 0,hv()(jXe,{})),QXe=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onItemDragMove=function(e){var t=e.dragIndex,n=e.dropIndex,i=r.state,a=i.dragIndex,o=i.dropIndex,s=n!==o?n:o,l=t!==a?t:a;if((s===l||s>l&&s-l==1)&&(s=BXe),l!==a||s!==o){var c={dragIndex:l,dropIndex:s,hasValidDropTarget:s!==BXe};r.setState(c)}},r.onItemDragEnd=function(e){var t,n=r.state,i=n.dragIndex,a=n.dropIndex;e.didDrop&&a!==BXe&&(t=function(){r.props.onReorderSource({fromIndex:i,toIndex:a>i?a-1:a})}),r.setState(HXe,t)},r.onMeasure=function(e){var t=e.height,n=e.width,i=e.x,a=e.y;r.setState({listHeight:t,listWidth:n,listTop:a,listRight:i+n,listBottom:a+t,listLeft:i})},r.state=Object.assign({},HXe,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0}),r}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.sources,i=t.sourceTitleDetails,a=t.isManagedUser,o=this.state,s=o.dropIndex,l=o.hasValidDropTarget;return hv()(XA,{className:n,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,r.map(function(t,n){var r=l&&s===n,o=l&&s===n+1;return zXe(RXe,dv()({},e.state,{key:t.key,sourceTitle:t.title,sourceTitleDetail:PXe(t,i,a),listIndex:n,hasValidDropTarget:l,isDraggingAfter:o,isDraggingBefore:r,onItemDragMove:e.onItemDragMove,onItemDragEnd:e.onItemDragEnd}))}),VXe)},t}(FXe);QXe.defaultProps={className:UXe.a.container};var WXe=Tze(QXe);function GXe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-downloads-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 510.588c127.35 0 230.588-103.238 230.588-230.588S407.35 49.412 280 49.412 49.412 152.65 49.412 280 152.65 510.588 280 510.588zM280 560C125.36 560 0 434.64 0 280S125.36 0 280 0s280 125.36 280 280-125.36 280-280 280zm0-131.765l131.765-131.764H306.353V131.765h-52.706V296.47H148.235L280 428.235z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}GXe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var YXe=GXe;function KXe(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sidebar-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M0 520V296.569a40 40 0 0 1 11.716-28.285L280 0l268.284 268.284A40 40 0 0 1 560 296.57V520c0 22.091-17.909 40-40 40H340V360H220v200H40c-22.091 0-40-17.909-40-40z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}KXe.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var qXe=KXe,ZXe=n(1037),XXe=n.n(ZXe),JXe=Xf.a.createElement;function $Xe(e){return JXe("div",e)}$Xe.defaultProps={className:XXe.a.header};var eJe=$Xe,tJe=n(1038),nJe=n.n(tJe),rJe=Xf.a.createElement;function iJe(e){var t=e.className;return rJe(oT,dv()({className:t,autoScroll:!0},e))}iJe.defaultProps={className:nJe.a.scroller};var aJe=iJe,oJe=n(398),sJe=n.n(oJe),lJe=Xf.a.Component,cJe=Xf.a.Fragment,uJe=hv()(US,{}),dJe=hv()(qXe,{}),pJe=hv()(YXe,{}),hJe=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onReorderSource=function(e){var n=e.fromIndex,r=e.toIndex;if(n!==r){var i=t.props,a=i.sources,o=i.hiddenSidebarSourceKeys;(0,i.onReorderPinnedSources)({sourceKeys:vXe(a.map(function(e){return e.key}),n,r).concat(o)})}},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.sources,n=e.sourceTitleDetails,r=e.isManagedUser,i=e.hasDownloadsSource,a=e.onCloseReorderPinSources;return hv()(cJe,{},void 0,hv()(eJe,{},void 0,hv()("div",{className:sJe.a.titleContainer},void 0,hv()("div",{className:sJe.a.title},void 0,Object(Xn.default)("Reorder")),hv()(RS,{className:sJe.a.closeButton,"aria-label":Object(Xn.default)("Done"),onPress:a},void 0,uJe))),hv()(aJe,{},void 0,hv()("div",{className:sJe.a.expandedSidebarContent},void 0,hv()(wXe,{icon:dJe,title:Object(Xn.default)("Home"),isDisabled:!0}),i?hv()(wXe,{icon:pJe,title:Object(Xn.default)("Downloads"),isDisabled:!0}):null,hv()(WXe,{sources:t,sourceTitleDetails:n,isManagedUser:r,onReorderSource:this.onReorderSource}))))},t}(lJe),fJe=Object(Iy.createSelector)(nXe,function(e){return{hiddenSidebarSourceKeys:e.reduce(function(e,t){return t.isHidden&&e.push(t.key),e},[])}}),gJe=Lm(fJe,{onReorderPinnedSources:ns})(hJe),vJe=Object(Iy.createSelector)(qZ,function(e){return e.filter(function(e){return!e.isCloud&&!!e.friendlyName})}),mJe=parseInt(yQ.a.sourceSidebarServerHeaderIconSize,10);var yJe=function(e){var t=e.serverEntityID,n=e.thumb;return hv()($k,{serverEntityID:t,url:n,width:mJe,height:mJe})};var bJe=Lm(function(){return Object(Iy.createSelector)(Dy(),Object(Iy.createSelector)(Dy(),p$,XZ,function(e,t,n){var r=t.find(function(t){return n[t].id===e.ownerId});return r?n[r].thumb:null}),wy,function(e,t,n){return{thumb:e.isShared?t:n.thumb}})})(yJe),SJe=n(450),IJe=n.n(SJe),CJe=n(1039),MJe=n.n(CJe),DJe=n(330),wJe=n.n(DJe);function PJe(e){var t=e.isUnavailable,n=e.isOutOfDate,r=e.isUnclaimed;return t?Object(Xn.default)("Unavailable"):n?Object(Xn.default)("Needs update"):r?Object(Xn.default)("Unclaimed"):void 0}function TJe(e){var t=e.isRemote,n=e.isUnclaimed,r=e.isUnavailable,i=e.isOutOfDate,a=r||n||i;return a||t?hv()("div",{className:wJe.a.badge},void 0,a?hv()("img",{className:wJe.a.image,src:IJe.a,"aria-label":PJe(e)}):hv()("img",{className:wJe.a.image,src:MJe.a,"aria-label":Object(Xn.default)("Remote server")})):null}function EJe(e){var t=e.icon,n=e.showBadgedIcon,r=e.isPending,i=e.isRemote,a=e.isUnavailable,o=e.isOutOfDate,s=e.isUnclaimed;return n?r?hv()(ZE.a,{className:wJe.a.spinner}):hv()("div",{className:wJe.a.container},void 0,t,hv()(TJe,{isRemote:i,isUnavailable:a,isOutOfDate:o,isUnclaimed:s})):t}EJe.defaultProps={showBadgedIcon:!0};var xJe=EJe,OJe=Xf.a.createElement,jJe=Xf.a.Component;Dp.a.shape({onMouseMove:Dp.a.func.isRequired,onMouseLeave:Dp.a.func.isRequired,onFocus:Dp.a.func.isRequired,onBlur:Dp.a.func.isRequired}).isRequired,Dp.a.bool.isRequired;var AJe=function(e){var t=function(t){function n(e,n){var r;return(r=t.call(this,e,n)||this).onMouseMove=function(e){r._setHoveredState(!0),r.props.onMouseMove&&r.props.onMouseMove(e)},r.onMouseLeave=function(e){r._setHoveredState(!1),r.props.onMouseLeave&&r.props.onMouseLeave(e)},r.onFocus=function(e){r._setHoveredState(!0),r.props.onFocus&&r.props.onFocus(e)},r.onBlur=function(e){r._setHoveredState(!1),r.props.onBlur&&r.props.onBlur(e)},r.state={isHovered:!1},r._hoverableProps={onMouseMove:r.onMouseMove,onMouseLeave:r.onMouseLeave,onFocus:r.onFocus,onBlur:r.onBlur},r}Sy()(n,t);var r=n.prototype;return r._setHoveredState=function(e){this.state.isHovered!==e&&this.setState({isHovered:e})},r.render=function(){return OJe(e,dv()({},this.props,{isHovered:this.state.isHovered,hoverableProps:this._hoverableProps}))},n}(jJe);return t.displayName="Hoverable("+Object(vE.a)(e)+")",t.WrappedComponent=e,t},NJe=Xf.a.useState;var kJe=function(){return NJe(PS)[0]},LJe=n(1040),RJe=n.n(LJe),_Je=Xf.a.createElement;var UJe=function(e){return _Je(mK,dv()({},e,{containerClassName:RJe.a.modalContainer}))},zJe=n(1041),FJe=n.n(zJe),BJe=Xf.a.createElement;var HJe=function(e){return BJe(zT,dv()({},e,{portalClassName:FJe.a.menuPortal}))},VJe=n(639),QJe=n.n(VJe),WJe={placement:"top-start",modifiers:{offset:{offset:"0, -20%"}}};var GJe=function(e){var t=e.serverEntityID,n=e.machineIdentifier,r=e.className,i=e.visibleClassName,a=e.isHovered,o=e.isLibraryRefreshing,s=e.isOptimizeDatabaseInProgress,l=e.isCleanBundlesInProgress,c=e.isOverflowMenuOpen,u=e.onAddLibraryPress,d=e.onScanLibrariesPress,p=e.onCancelScanLibrariesPress,h=e.onEmptyTrashPress,f=e.onOptimizeDatabasePress,g=e.onCleanBundlesPress,v=e.onOverflowMenuToggle,m=e.onOverflowMenuClose,y=kJe(),b=eae(),S=eae(h),I=eae(f),C=eae(g),M=ve.a.hasTouchScreen||a||c;return hv()("div",{className:M?i:r},void 0,hv()(Kz,{className:QJe.a.button,"data-qa-id":"sidebarLibrariesAddButton",iconComponent:bK,title:Object(Xn.default)("Add Library"),onPress:u}),hv()(Kz,{id:y,className:QJe.a.button,"aria-haspopup":"true","data-qa-id":"sidebarLibrariesMoreButton",iconComponent:V$,title:Object(Xn.default)("More Actions"),onPress:v}),hv()(HJe,{target:y,options:WJe,isOpen:c,onMenuClose:m},void 0,hv()(hI,{onPress:b.onOpen},void 0,Object(Xn.default)("Share")),o?hv()(hI,{onPress:p},void 0,Object(Xn.default)("Cancel Scan")):hv()(hI,{onPress:d},void 0,Object(Xn.default)("Scan Library Files")),hv()(ahe,{label:Object(Xn.default)("Manage Server")},void 0,hv()(hI,{to:Rc(n,"settings","general")},void 0,Object(Xn.default)("Settings")),hv()(hI,{onPress:S.onOpen},void 0,Object(Xn.default)("Empty Trash")),hv()(hI,{isDisabled:s,onPress:I.onOpen},void 0,Object(Xn.default)("Optimize Database")),hv()(hI,{isDisabled:l,onPress:C.onOpen},void 0,Object(Xn.default)("Clean Bundles")))),hv()(R$,{metricsProperties:{context:On},serverEntityID:t,isOpen:b.isOpen,onModalClose:b.onClose}),hv()(UJe,{isOpen:S.isOpen,metricsPage:Za,title:Object(Xn.default)("Empty Trash"),message:Object(Xn.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Xn.default)("Empty"),onConfirm:S.onConfirm,onCancel:S.onClose}),hv()(UJe,{isOpen:I.isOpen,metricsPage:Ka,title:Object(Xn.default)("Optimize Database"),message:Object(Xn.default)("Cleans up the library database and ensures it is operating as quickly as possible. This is especially useful when you've added or removed a large amount of media from the library."),confirmLabel:Object(Xn.default)("Optimize"),onConfirm:I.onConfirm,onCancel:I.onClose}),hv()(UJe,{isOpen:C.isOpen,metricsPage:qa,title:Object(Xn.default)("Clean Bundles"),message:Object(Xn.default)("The media server stores information about your media to disk, as well as posters, artwork, and other media resources from the internet. Running this task deletes any bundles which are no longer in use."),confirmLabel:Object(Xn.default)("Clean"),onConfirm:C.onConfirm,onCancel:C.onClose}))};var YJe=iZ(function(){return Object(Iy.createSelector)(Bq(),$q(),eZ(),function(e,t,n){return{isLibraryRefreshing:e,isOptimizeDatabaseInProgress:!!t,isCleanBundlesInProgress:!!n}})},function(e,t){var n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onAddLibraryPress:function(){e(jA(n))},onScanLibrariesPress:function(){e(AA(n))},onCancelScanLibrariesPress:function(){e(BA(n))},onEmptyTrashPress:function(){e(RA(n))},onOptimizeDatabasePress:function(){e(kA(n))},onCleanBundlesPress:function(){e(LA(n))}}})(GJe),KJe=n(331),qJe=n.n(KJe),ZJe=Xf.a.createElement,XJe=Xf.a.useCallback,JJe=Xf.a.useEffect,$Je=Xf.a.useState;var e$e=AJe(function(e){var t=e.serverEntityID,n=e.machineIdentifier,r=e.hasServerActions,i=e.hoverableProps,a=e.iconNode,o=(e.iconSrc,e.isPending),s=e.isRemote,l=e.isUnavailable,c=e.isOutOfDate,u=e.isUnclaimed,d=e.isHovered,p=e.onToggleLockedPress,h=wt()(e,["serverEntityID","machineIdentifier","hasServerActions","hoverableProps","iconNode","iconSrc","isPending","isRemote","isUnavailable","isOutOfDate","isUnclaimed","isHovered","onToggleLockedPress"]),f=$Je(!1),g=f[0],v=f[1],m=XJe(function(){v(!g)},[g]),y=XJe(function(){v(!1)},[]);return JJe(function(){p&&p(g)},[g,p]),ZJe("div",i,ZJe(IXe,dv()({},h,{isSelectedClassName:qJe.a.isSelected,titleClassName:qJe.a.title,isActive:g,role:"navigation",icon:hv()(xJe,{icon:hv()("div",{className:qJe.a.iconContainer},void 0,a),isPending:o,isRemote:s,isUnavailable:l,isOutOfDate:c,isUnclaimed:u})}),r?hv()(YJe,{serverEntityID:t,machineIdentifier:n,className:qJe.a.actionContainer,visibleClassName:qJe.a.visibleActionContainer,isHovered:d,isOverflowMenuOpen:g,onOverflowMenuToggle:m,onOverflowMenuClose:y}):null))});function t$e(e){var t=window.location.hash,n=new RegExp("^"+Vf(e)+"\\b");return!(!t||!e)&&n.test(t)}var n$e=function(e){var t=e.cloudServerEntityID,n=e.thumb,r="#!/get-plex-media-server";return hv()(e$e,{to:r,isSelected:t$e(r),iconNode:hv()(yJe,{serverEntityID:t,thumb:n}),title:Object(Xn.default)("Your Media")})};var r$e=Lm(function(){return Object(Iy.createSelector)(function(e){return e.cloudServer},wy,function(e,t){return{cloudServerEntityID:e,thumb:t.thumb}})})(n$e),i$e=Object(Iy.createSelector)(nXe,function(e){return $Z(e,function(e){return e.key},function(e){return e})}),a$e="tabChange",o$e="moreSidebar";function s$e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-source-pinned-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M220 40L160 0h240l-60 40 20 200 100 80H310l-30 240-30-240H100l100-80z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}s$e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var l$e=s$e;var c$e,u$e=function(){return Object(Iy.createSelector)(Hk(),vV(),function(e,t){return e?C.a.find(t,function(t){return t.type===jx&&t.Context.identifier===e.identifier}):null})};var d$e=Mt("provider/addToCatalog"),p$e=Mt("provider/clearAddToCatalogError"),h$e=Mt("provider/scanLibraryFiles"),f$e=Mt("provider/editLibrary"),g$e=Mt("provider/emptyLibraryTrash"),v$e=Mt("provider/analyzeLibrary"),m$e=Mt("provider/deleteLibrary"),y$e=Mt("provider/upgradePremiumMusicLibrary"),b$e=Mt("provider/scanLibraryFiles",function(e){return Object.assign({},e,{force:!0})}),S$e=Mt("provider/scanLibraryFiles",function(e){return Object.assign({},e,{cancel:!0})});function I$e(e){var t=e.get("key");return e.get("id")||t.substr(t.lastIndexOf("/")+1)}function C$e(e,t){var n=Co(e,t).get("features").get(tn),r={};return t.contentDirectory.key&&(r.key=t.contentDirectory.key),t.contentDirectory.hubKey&&(r.hubKey=t.contentDirectory.hubKey),n.get("directories").findWhere(r)}function M$e(e,t){var n=e.get("features").get(tn).get("key");return n?F.join([n,t.get("id")]):t.get("key")}function D$e(e,t){e(hc({serverEntityID:t})),e(gc({serverEntityID:t})),e(iu({serverEntityID:t}))}var w$e=Object.assign({},tf,((c$e={})["provider/clearAddToCatalogError"]=function(e,t){e.get("ui").get("addToCatalogModal").set("error",null)},c$e["provider/addToCatalog"]=function(e,t,n){var r=e.get("ui").get("addToCatalogModal"),i=Co(e,t),a=i.get("features").get("actions").get("actions").get("addToCatalog").get("key");if(Object(No.a)(function(){r.set({isUpdating:!0,error:null})}),t.data.fileURL){var o=new window.XMLHttpRequest;return o.open("GET",t.data.fileURL,!0),o.responseType="blob",o.onload=function(e){if(200===e.target.status){var n=e.target.response,o=new window.FormData;o.append("file",n);var s=i.getXHROptions(a,{method:"POST",processData:!1,contentType:!1,data:o});P.a.ajax(s).then(function(e,t,n){r.set({isUpdating:!1})},function(e){r.set({isUpdating:!1,error:Gi(e)})})}window.URL.revokeObjectURL(t.data.fileURL)},void o.send()}var s=F.join(a,{url:t.data.channelURL}),l=i.getXHROptions(s,{method:"PUT",dataType:"json"});P.a.ajax(l).then(function(e,t,n){r.set("isUpdating",!1);var a=new Qs.a(e,{server:i.server,provider:i,parse:!0});if(a.get("key")){var o=Og(i.server.state,i.state,a.get("key"));window.location.hash=o}else r.set({isUpdating:!1,error:Gi(n)})},function(e){r.set({isUpdating:!1,error:Gi(e)})})},c$e["provider/scanLibraryFiles"]=function(e,t,n){var r=t.cancel,i=t.force,a=t.metricsPage,o=bo(e,t),s=C$e(e,t),l={libraryID:I$e(s),libraryType:s.get("type"),cancel:r,force:i,allowMetrics:!!a,metricsProperties:{page:a}};s.set("refreshing",!r),Hx(o,l).fail(function(e){var t;t=r?Object(Xn.default)("There was an unexpected error canceling the scan."):i?503===e.status?Object(Xn.default)("An internet connection is required to refresh library metadata. Please check this server's connection and try again."):Object(Xn.default)("There was an unexpected error refreshing library metadata."):503===e.status?Object(Xn.default)("An internet connection is required to scan library files. Please check this server's connection and try again."):Object(Xn.default)("There was an unexpected error scanning library files."),n(au(t))}).always(function(e){n(nc({serverEntityID:t.serverEntityID}))})},c$e["provider/editLibrary"]=function(e,t){var n=bo(e,t),r=n.get("desktop").get("libraries"),i=C$e(e,t);r.populate().then(function(){var e=I$e(i),a=r.get(e);z.a.trigger("show:modal",new yA({server:n,model:a})),Object(J.c)("metrics").trackClick({page:t.metricsPage,action:"editLibrary",type:a.get("type"),context:xn})})},c$e["provider/emptyLibraryTrash"]=function(e,t,n){var r=bo(e,t),i=Co(e,t),a=C$e(e,t),o=M$e(i,a),s=F.join([o,"emptyTrash"]),l=r.getXHROptions(s,{type:"PUT"});P.a.ajax(l).done(function(){n(au({type:"success",message:Object(Xn.default)("The trash was emptied.")}))}).fail(function(e){n(au(Object(Xn.default)("There was a problem emptying the trash.")))}),Object(J.c)("metrics").trackClick({page:t.metricsPage,action:"emptyTrash",type:a.get("type"),context:xn})},c$e["provider/analyzeLibrary"]=function(e,t,n){var r=bo(e,t),i=Co(e,t),a=C$e(e,t),o=M$e(i,a),s=F.join([o,"analyze"]),l=r.getXHROptions(s,{type:"PUT"});P.a.ajax(l).fail(function(e){n(au(Object(Xn.default)("There was a problem analyzing the library.")))}),Object(J.c)("metrics").trackClick({page:t.metricsPage,action:"analyzeLibrary",type:a.get("type"),context:xn})},c$e["provider/deleteLibrary"]=function(e,t,n){var r=bo(e,t),i=Co(e,t),a=C$e(e,t),o=M$e(i,a),s=F.join(o,{async:1}),l=r.getXHROptions(s,{type:"DELETE"});i.get("features").get(tn).get("directories").remove(a),P.a.ajax(l).fail(function(){D$e(n,t.serverEntityID),n(au(Object(Xn.default)("There was a problem deleting the library.")))}),Object(J.c)("metrics").trackClick({page:t.metricsPage,action:"deleteLibrary",type:a.get("type"),context:xn})},c$e["provider/upgradePremiumMusicLibrary"]=function(e,t,n){var r=bo(e,t),i=M$e(Co(e,t),C$e(e,t)),a=F.join(i,{agent:gl.e,scanner:"Plex Music"}),o=r.getXHROptions(a,{type:"PUT"});P.a.ajax(o).then(function(){D$e(n,t.serverEntityID)},function(){n(au(Object(Xn.default)("There was a problem upgrading the library.")))})},c$e[tc]=function(e,t,n){t.activity.type===Ex&&D$e(n,t.serverEntityID)},c$e)),P$e=Xf.a.createElement,T$e=Xf.a.Fragment;function E$e(e){var t=e.sourceDirectory,n=e.hasPlexMusicUpgrade,r=e.isUnavailable,i=e.onMenuClose,a=e.onCancelScanLibraryPress,o=e.onScanLibraryPress,s=e.onSharePress,l=e.onEditLibraryPress,c=e.onRefreshAllLibraryMetadataPress,u=e.onEmptyLibraryTrashPress,d=e.onAnalyzeLibraryPress,p=e.onDeleteLibraryPress,h=e.onUpgradePremiumMusicLibrary,f=r||!t;return hv()(T$e,{},void 0,t&&t.refreshing?hv()(hI,{onPress:JA(i,a)},void 0,Object(Xn.default)("Cancel Scan")):hv()(hI,{isDisabled:f,onPress:JA(i,o)},void 0,Object(Xn.default)("Scan Library Files")),hv()(hI,{isDisabled:f,onPress:JA(i,s)},void 0,Object(Xn.default)("Share")),hv()(ahe,{label:Object(Xn.default)("Manage Library"),isDisabled:f,onMenuClose:i},void 0,n?hv()(hI,{isDisabled:f,onPress:JA(i,h)},void 0,Object(Xn.default)("Upgrade to Plex Music")):null,hv()(hI,{onPress:JA(i,l)},void 0,Object(Xn.default)("Edit...")),hv()(hI,{onPress:JA(i,c)},void 0,Object(Xn.default)("Refresh All Metadata")),hv()(hI,{onPress:JA(i,u)},void 0,Object(Xn.default)("Empty Trash")),hv()(hI,{onPress:JA(i,d)},void 0,Object(Xn.default)("Analyze")),hv()(hI,{kind:Gp,onPress:JA(i,p)},void 0,Object(Xn.default)("Delete"))))}function x$e(e){var t=e.machineIdentifier,n=e.isGuideRefreshing,r=e.isUnavailable,i=e.onMenuClose,a=e.onCancelRefreshGuidePress,o=e.onRefreshGuidePress,s=r;return hv()(T$e,{},void 0,hv()(hI,{to:Rc(t,"manage","dvr"),isDisabled:s,onPress:i},void 0,Object(Xn.default)("Settings")),n?hv()(hI,{onPress:JA(i,a)},void 0,Object(Xn.default)("Cancel Refresh")):hv()(hI,{isDisabled:s,onPress:JA(i,o)},void 0,Object(Xn.default)("Refresh Guide")))}function O$e(e){var t=e.onMenuClose,n=e.onImportPlaylistsPress;return hv()(hI,{onPress:JA(t,n)},void 0,Object(Xn.default)("Import from iTunes..."))}var j$e=function(e){var t=e.provider,n=e.hasProviderSettings,r=e.hasLibraryActions,i=e.hasDVRActions,a=e.hasPlaylistsActions,o=e.isPinned,s=e.isReorderable,l=e.isUnavailable,c=e.onMenuClose,u=e.onTogglePinSources,d=e.onReorderPinSources;return hv()(T$e,{},void 0,hv()(hI,{onPress:JA(c,u)},void 0,o?Object(Xn.default)("Unpin"):Object(Xn.default)("Pin")),s?hv()(hI,{onPress:JA(c,d)},void 0,Object(Xn.default)("Reorder")):null,n&&!l?hv()(hI,{to:"#!/provider/"+encodeURIComponent(t.identifier)+"/settings",onPress:c},void 0,Object(Xn.default)("Personalize")):null,r?P$e(E$e,e):null,i?P$e(x$e,e):null,a?P$e(O$e,e):null)},A$e=Xf.a.createElement,N$e=Xf.a.Fragment,k$e=Xf.a.useEffect,L$e={placement:"top-start",modifiers:{offset:{offset:"15px, -30%"}}};var R$e=function(e){var t=e.className,n=e.serverEntityID,r=e.source,i=e.sourceDirectory,a=e.hasPlexMusicUpgrade,o=e.hasLibraryActions,s=e.isDeletingLibrary,l=e.isOverflowMenuOpen,c=e.onOverflowMenuButtonPress,u=e.onOverflowMenuClose,d=e.onAnalyzeLibraryPress,p=e.onEmptyLibraryTrashPress,h=e.onRefreshAllLibraryMetadataPress,f=e.onDeleteLibraryPress,g=wt()(e,["className","serverEntityID","source","sourceDirectory","hasPlexMusicUpgrade","hasLibraryActions","isDeletingLibrary","isOverflowMenuOpen","onOverflowMenuButtonPress","onOverflowMenuClose","onAnalyzeLibraryPress","onEmptyLibraryTrashPress","onRefreshAllLibraryMetadataPress","onDeleteLibraryPress"]),v=kJe(),m=eae(),y=eae(h),b=eae(p),S=eae(d),I=eae(),C=vF(s),M=I.onClose;return k$e(function(){C&&!s&&M()},[s,C,M]),hv()(N$e,{},void 0,hv()(Kz,{className:t,"data-qa-id":"sidebarSourceOverflow",id:v,iconComponent:V$,title:Object(Xn.default)("Actions"),onPress:c}),hv()(HJe,{target:v,options:L$e,isOpen:l,onMenuClose:u},void 0,A$e(j$e,dv()({},g,{serverEntityID:n,sourceDirectory:i,hasPlexMusicUpgrade:a,hasLibraryActions:o,onSharePress:m.onOpen,onRefreshAllLibraryMetadataPress:y.onOpen,onEmptyLibraryTrashPress:b.onOpen,onAnalyzeLibraryPress:S.onOpen,onDeleteLibraryPress:I.onOpen,onMenuClose:u}))),o?hv()(N$e,{},void 0,hv()(R$,{metricsProperties:{context:On},serverEntityID:n,sourceDirectory:i,isOpen:m.isOpen,onModalClose:m.onClose}),hv()(UJe,{isOpen:y.isOpen,metricsPage:Ja,title:Object(Xn.default)("Refresh All Metadata"),message:Object(Xn.default)("Forces a download of fresh media information from the internet. This can take a long time. Any locked fields are not modified."),confirmLabel:Object(Xn.default)("Refresh"),onConfirm:y.onConfirm,onCancel:y.onClose}),hv()(UJe,{isOpen:b.isOpen,metricsPage:$a,title:Object(Xn.default)("Empty Trash"),message:Object(Xn.default)("By default the media server doesn't remove information for media right away. This helps if a drive is temporarily disconnected. When you empty the trash for a section, all information about missing media is deleted."),confirmLabel:Object(Xn.default)("Empty"),onConfirm:b.onConfirm,onCancel:b.onClose}),hv()(UJe,{isOpen:S.isOpen,metricsPage:Xa,title:Object(Xn.default)("Analyze Library"),message:Object(Xn.default)("Analyzes all the media files in the library. The analysis captures information about the media which helps Plex decide how to optimally play back the media."),confirmLabel:Object(Xn.default)("Analyze"),onConfirm:S.onConfirm,onCancel:S.onClose}),hv()(UJe,{isOpen:I.isOpen,isConfirmButtonSpinning:s,isCancelButtonDisabled:s,metricsPage:eo,kind:Gp,title:Object(Xn.default)("Delete Library"),message:Object(Xn.default)('The library "{libraryName}" will be removed from this server. Your media files will not be affected. This can\'t be undone. Continue?',{libraryName:r.title}),accordMessage:Object(Xn.default)('Yes, delete the library "{libraryName}"',{libraryName:r.title}),confirmLabel:Object(Xn.default)("Delete"),onConfirm:f,onCancel:I.onClose})):null)},_$e=Xf.a.createElement,U$e=Xf.a.Component;var z$e={dispatchScanLibraryFiles:h$e,dispatchCancelScanLibraryFiles:S$e,dispatchEditLibrary:f$e,dispatchRefreshAllLibraryMetadata:b$e,dispatchEmptyLibraryTrash:g$e,dispatchAnalyzeLibrary:v$e,dispatchDeleteLibrary:m$e,dispatchRedirectToRoute:kg,dispatchReloadGuide:nV,dispatchCancelReloadGuide:rV,dispatchImportPlaylists:FA,dispatchPopulateHasiTunes:zA,dispatchPinSources:$o,dispatchUnpinSources:es,dispatchUpgradePremiumMusicLibrary:y$e},F$e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onScanLibraryPress=function(){t.props.dispatchScanLibraryFiles({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onCancelScanLibraryPress=function(){t.props.dispatchCancelScanLibraryFiles({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onEditLibraryPress=function(){t.props.dispatchEditLibrary({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onRefreshAllLibraryMetadataPress=function(){t.props.dispatchRefreshAllLibraryMetadata({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onEmptyLibraryTrashPress=function(){t.props.dispatchEmptyLibraryTrash({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onAnalyzeLibraryPress=function(){t.props.dispatchAnalyzeLibrary({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage})},t.onDeleteLibraryPress=function(){t.props.dispatchDeleteLibrary({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory,metricsPage:t.props.metricsPage}),t.props.source.isSelected&&t.props.dispatchRedirectToRoute({route:"dashboard"})},t.onRefreshGuidePress=function(){t.props.dispatchReloadGuide({serverEntityID:t.props.serverEntityID,dvrID:t.props.provider.parentID,metricsPage:t.props.metricsPage})},t.onCancelRefreshGuidePress=function(){t.props.dispatchCancelReloadGuide({serverEntityID:t.props.serverEntityID,dvrID:t.props.provider.parentID,metricsPage:t.props.metricsPage})},t.onImportPlaylistsPress=function(){t.props.dispatchImportPlaylists({serverEntityID:t.props.serverEntityID})},t.onTogglePinSources=function(){t.props.isPinned?t.props.dispatchUnpinSources({sources:[t.props.source]}):t.props.dispatchPinSources({sources:[t.props.source]})},t.onUpgradePremiumMusicLibrary=function(){t.props.dispatchUpgradePremiumMusicLibrary({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,contentDirectory:t.props.sourceDirectory})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.isOwnedPlaylistSource,n=e.isConnected;t&&n&&this._populateHasiTunes(this.props)},n.componentDidUpdate=function(e){var t=this.props,n=t.isOwnedPlaylistSource,r=t.isConnected;n&&r&&!e.isConnected&&this._populateHasiTunes(this.props)},n._populateHasiTunes=function(e){this.props.dispatchPopulateHasiTunes({serverEntityID:e.serverEntityID})},n.render=function(){var e=this.props,t=(e.metricsPage,e.isConnected,e.isOwnedPlaylistSource,e.dispatchScanLibraryFiles,e.dispatchCancelScanLibraryFiles,e.dispatchEditLibrary,e.dispatchReloadGuide,e.dispatchCancelReloadGuide,e.dispatchImportPlaylists,e.dispatchPopulateHasiTunes,e.dispatchPinSources,e.dispatchUnpinSources,wt()(e,["metricsPage","isConnected","isOwnedPlaylistSource","dispatchScanLibraryFiles","dispatchCancelScanLibraryFiles","dispatchEditLibrary","dispatchReloadGuide","dispatchCancelReloadGuide","dispatchImportPlaylists","dispatchPopulateHasiTunes","dispatchPinSources","dispatchUnpinSources"]));return _$e(R$e,dv()({},t,{onScanLibraryPress:this.onScanLibraryPress,onCancelScanLibraryPress:this.onCancelScanLibraryPress,onEditLibraryPress:this.onEditLibraryPress,onAnalyzeLibraryPress:this.onAnalyzeLibraryPress,onRefreshAllLibraryMetadataPress:this.onRefreshAllLibraryMetadataPress,onEmptyLibraryTrashPress:this.onEmptyLibraryTrashPress,onDeleteLibraryPress:this.onDeleteLibraryPress,onRefreshGuidePress:this.onRefreshGuidePress,onCancelRefreshGuidePress:this.onCancelRefreshGuidePress,onImportPlaylistsPress:this.onImportPlaylistsPress,onTogglePinSources:this.onTogglePinSources,onUpgradePremiumMusicLibrary:this.onUpgradePremiumMusicLibrary}))},t}(U$e),B$e=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.source},XS,xse,nXe,tZ(),Object(Iy.createSelector)(Dy(),function(e){return e&&e.desktop.hasiTunes}),u$e(),function(e,t,n,r,i,a,o){var s=r.some(function(t){return t.key===e.key});if(!t||!n)return{isUnavailable:!0,isPinned:s};var l=Cn.i(n.identifier,Cn.c),c=(n||{}).features,u=(c=void 0===c?{}:c).content,d=(u=void 0===u?{}:u).directories,p=(void 0===d?[]:d).find(function(t){return t.key===e.directoryKey||t.hubKey===e.directoryHubKey}),h=t.isFullOwnedServer&&n.isLibraryProvider&&p&&/\/(\d+)$/.test(p.key),f=t.isFullOwnedServer&&e.sourceType===eqe;return{sourceDirectory:p,machineIdentifier:t.machineIdentifier,provider:n,hasProviderSettings:!!n.features.settings,hasLibraryActions:h,hasPlexMusicUpgrade:t.version&&yc(t.version,Cc.plexMusicUpgrade)&&p&&(p.agent===gl.f||p.agent===gl.b),hasDVRActions:t.isFullOwnedServer&&l,hasPlaylistsActions:f&&a,isConnected:t.isConnected,isUnavailable:t.isUnavailable,isPinned:s,isDeletingLibrary:!!i,isGuideRefreshing:!!o,isOwnedPlaylistSource:f}})},z$e)(F$e);B$e.propTypes=Object.assign({},B$e.propTypes,{source:gXe,serverEntityID:Dp.a.string,providerEntityID:Dp.a.string});var H$e=B$e,V$e=n(198),Q$e=n.n(V$e),W$e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onOverflowMenuButtonPress=function(e){r.setState(function(e){return{isOverflowMenuOpen:!e.isOverflowMenuOpen}},function(){r.props.onToggleLockedPress(r.state.isOverflowMenuOpen)})},r.onOverflowMenuClose=function(){r.setState({isOverflowMenuOpen:!1},function(){r.props.onToggleLockedPress(!1)})},r.onNavigate=function(){var e=r.props,t=e.source,n=e.metricsOrigin;Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,properties:{page:_a,identifier:t.providerMetricsIdentifier,action:va,origin:n}})},r.state={isOverflowMenuOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.source,i=e.sourceTitleDetails,a=e.dismissedUnclaimedServers,o=e.showDetail,s=e.showIcons,l=e.isManagedUser,c=e.isReorderable,u=e.isUnavailable,d=e.onReorderPinSources,p=this.state.isOverflowMenuOpen,h=!1===r.isLocal&&!1===r.isCloud&&!1===r.isUnavailable,f=r.directoryIcon?hv()("img",{className:Q$e.a.iconImg,src:r.directoryIcon}):hv()(tZe,{sourceType:r.sourceType});return hv()(IXe,{className:(Q$e.a.button||"")+" "+(!o&&Q$e.a.small||""),isActiveClassName:Q$e.a.isActive,isSelectedClassName:Q$e.a.isSelected,isActive:p,isDim:r.isUnavailable||r.isOutOfDate,isSelected:r.isSelected,to:sr(r.isCloud,r.machineIdentifier,r.providerIdentifier,{source:r.directoryHubKey||r.directoryKey}),icon:hv()(xJe,{icon:f,showBadgedIcon:s,isRemote:h,isUnavailable:r.isUnavailable,isOutOfDate:r.isOutOfDate,isUnclaimed:r.isUnclaimedServer&&a&&!a[r.machineIdentifier]}),title:r.title,detail:o?PXe(r,i,l):void 0,onNavigate:this.onNavigate},void 0,hv()("span",{className:Q$e.a.actionContainer},void 0,r.isPinned?hv()(l$e,{className:Q$e.a.pinnedIcon}):null,hv()(H$e,{className:Q$e.a.overflowButton,serverEntityID:t,providerEntityID:n,source:r,isUnavailable:u,isReorderable:c,isOverflowMenuOpen:p,onOverflowMenuButtonPress:this.onOverflowMenuButtonPress,onOverflowMenuClose:this.onOverflowMenuClose,onReorderPinSources:d})))},t}(Xf.a.Component);W$e.defaultProps={showDetail:!0,showIcons:!0};var G$e=W$e,Y$e=Xf.a.Fragment;var K$e=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.sources,i=e.onToggleLockedPress;return hv()(Y$e,{},void 0,r.map(function(e){return hv()(G$e,{serverEntityID:t,providerEntityID:n,source:e,metricsOrigin:o$e,showDetail:!1,showIcons:!1,onToggleLockedPress:i},e.key)}))};var q$e=Lm(function(){return Object(Iy.createSelector)(Hk(),Dy(),i$e,function(e,t){return t.selectedServerEntityID},function(e,t){return t.selectedProviderEntityID},function(e,t){return t.sourceDirectory},function(e,t,n,r,i,a){var o=ir(e);return{sources:dqe({sourceServer:t,sourceProvider:e,sourceDirectory:a,serverEntityID:r,providerEntityID:i,directories:o&&o.directories}).map(function(e){return Object.assign({},e,{isPinned:!!n[e.key]})})}})},function(e,t){return{}})(K$e),Z$e=n(269),X$e=n.n(Z$e),J$e=Xf.a.createElement,$$e=Xf.a.Fragment;function e0e(e){var t=e.showTitle,n=e.showUnclaimed,r=e.isAllSources,i=wt()(e,["showTitle","showUnclaimed","isAllSources"]);return J$e(RS,dv()({className:(X$e.a.link||"")+" "+((r?X$e.a.bottomBorder:X$e.a.topBorder)||""),"data-qa-id":"sidebarMore"},i),r?hv()($$e,{},void 0,hv()(Jz,{className:X$e.a.pinnedIcon}),t?Object(Xn.default)("Pinned"):null):hv()($$e,{},void 0,t?hv()($$e,{},void 0,n?hv()("img",{className:X$e.a.unclaimedImage,src:IJe.a,"aria-label":Object(Xn.default)("Unclaimed")}):null,Object(Xn.default)("More")):null,hv()(Zz,{className:X$e.a.icon})))}e0e.defaultProps={showTitle:!0};var t0e=e0e,n0e=n(399),r0e=n.n(n0e),i0e=Xf.a.Fragment,a0e=hv()(r$e,{});var o0e=function(e){var t=e.isExpanded,n=e.selectedServerEntityID,r=e.selectedProviderEntityID,i=e.sourceDirectory,a=e.servers,o=e.cloudProviders,s=e.cloudServerEntityID,l=e.dismissedUnclaimedServers,c=e.showServerDownloadMessage,u=e.onToggleAllSourcesPress,d=e.onToggleLockedPress;return hv()(i0e,{},void 0,hv()(eJe,{},void 0,hv()(t0e,{isAllSources:!0,showTitle:t,onPress:u})),hv()(aJe,{},void 0,hv()("div",{className:r0e.a.container},void 0,a.map(function(e){var t=bv(e.entityID),a=n===e.entityID&&r===t&&!i;return hv()("div",{className:r0e.a.serverContainer},e.machineIdentifier,hv()(e$e,{serverEntityID:e.entityID,machineIdentifier:e.machineIdentifier,title:e.friendlyName,detail:e.isShared?e.sourceTitle:null,iconNode:hv()(bJe,{serverEntityID:e.entityID}),isPending:e.isPending,isRemote:!e.isPrivateConnection&&!e.isUnavailable,isUnavailable:e.isUnavailable,isOutOfDate:e.isOutOfDate,isUnclaimed:e.isConnected&&!e.isClaimed&&!l[e.machineIdentifier],to:dr(e,{identifier:Cn.d},null,{key:rxe,pageType:fn.HUB}),isSelected:a,hasServerActions:e.isFullOwnedServer&&e.isConnected,onToggleLockedPress:d}),e.providers.map(function(t){return hv()(q$e,{selectedServerEntityID:n,selectedProviderEntityID:r,sourceDirectory:i,serverEntityID:e.entityID,providerEntityID:t,onToggleLockedPress:d},t)}))}),o.providers.length?hv()(i0e,{},void 0,hv()(e$e,{title:Object(Xn.default)("Plex"),iconNode:hv()("img",{className:r0e.a.iconImg,src:w8.a}),isPending:o.isPending,isUnavailable:o.providersError}),o.providers.map(function(e){return hv()(q$e,{selectedServerEntityID:n,selectedProviderEntityID:r,sourceDirectory:i,serverEntityID:s,providerEntityID:e,onToggleLockedPress:d},e)})):null,c?hv()("div",{className:r0e.a.extrasContainer},void 0,a0e):null)))},s0e=Object(Iy.createSelector)(Gie,function(e){return{providers:e.providers,isPending:e.isProvidersPending,isPopulated:e.isProvidersPopulated,providersError:e.providersError}});var l0e=Lm(function(){return Object(Iy.createSelector)(vJe,s0e,function(e){return e.cloudServer},sXe,function(e,t,n,r){return{servers:e,cloudProviders:t,cloudServerEntityID:n,dismissedUnclaimedServers:r}})},function(e,t){return{}})(o0e),c0e=Object(Iy.createSelector)(vJe,sXe,function(e,t){return{showUnclaimed:e.some(function(e){return e.isConnected&&!e.isClaimed&&!t[e.machineIdentifier]})}});var u0e=Lm(c0e,function(e,t){return{}})(t0e),d0e=hv()(bK,{});var p0e=function(){var e="#!/get-plex-media-server";return hv()(IXe,{to:e,isSelected:t$e(e),icon:d0e,title:Object(Xn.default)("Your Media")})},h0e=Object(Iy.createSelector)(Py,function(e){return e.savedPivotParams}),f0e=hv()(YXe,{});var g0e=function(e){var t=e.route,n=e.isSelected,r=e.isUnavailable;return hv()(IXe,{to:t,isSelected:n,icon:hv()(xJe,{icon:f0e,isUnavailable:r}),title:Object(Xn.default)("Downloads"),isDim:r})};var v0e=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.selectedServerEntityID},h0e,Epe,function(e,t,n){var r=window.location.hash.split("?")[0]===Xye,i=!!n&&e===n.entityID;return{route:Jye(t.downloads),isSelected:r||i,isUnavailable:!n||n.isUnavailable}})},function(e,t){return{}})(g0e),m0e=n(1042),y0e=n.n(m0e),b0e=hv()(qXe,{});var S0e=function(){return hv()(IXe,{linkClassName:y0e.a.sourceLink,"data-qa-id":"sidebarHome",to:"#",icon:b0e,title:Object(Xn.default)("Home"),isSelected:""===window.location.hash})},I0e=n(640),C0e=n.n(I0e),M0e=Xf.a.Component,D0e=hv()(S0e,{}),w0e=hv()(p0e,{}),P0e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.sources,n=e.selectedServerEntityID,r=e.hasDownloadsSource,i=e.sourceTitleDetails,a=e.dismissedUnclaimedServers,o=e.isExpanded,s=e.isManagedUser,l=e.showServerDownloadMessage,c=e.onToggleAllSourcesPress,u=e.onToggleLockedPress,d=e.onReorderPinSources;return hv()(aJe,{},void 0,hv()("div",{className:o?C0e.a.expandedSidebarContent:void 0},void 0,D0e,t.length?t.map(function(e){return hv()(G$e,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,source:e,sourceTitleDetails:i,dismissedUnclaimedServers:a,isManagedUser:s,isReorderable:!0,onToggleLockedPress:u,onReorderPinSources:d},e.key)}):hv()("div",{className:C0e.a.zeroState},void 0,Object(Xn.default)("Your favorite sources will appear here. Any source in the MORE menu below can be saved here for quick access.")),l?w0e:null,r?hv()(v0e,{selectedServerEntityID:n}):null,o?hv()(u0e,{isAllSources:!1,onPress:c}):null))},t}(M0e),T0e=n(270),E0e=n.n(T0e),x0e=Xf.a.Component,O0e=Xf.a.Fragment,j0e=sT(_xe.a.defaultSpeed),A0e={opacity:{duration:j0e},x:{duration:j0e,ease:"easeInOut"}},N0e=BP.div({appear:{opacity:0,scale:1,x:function(e){return"left"===e.direction?"-100%":"100%"},transition:A0e},enter:{opacity:1,scale:1,x:"0%",transition:A0e},exit:{opacity:0,scale:1,x:function(e){return"left"===e.direction?"100%":"-100%"},transition:A0e}});function k0e(e,t){return t?e?E0e.a.expandedSidebar:E0e.a.collapsedSidebar:E0e.a.openSidebar}var L0e=hv()(ZE.a,{}),R0e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMouseEnter=function(){r.props.isSidebarCollapsed&&(r.resetExpandTimeout(),r.setState({isMouseOver:!0}))},r.onMouseLeave=function(){r.clearSetExpandedTimeout(),r.setState(function(e){return{isExpanded:!!e.isLocked&&e.isExpanded,isMouseOver:!1}})},r.onMouseMove=function(){r.props.isSidebarCollapsed&&!r.state.isLocked&&r.resetExpandTimeout()},r.onToggleAllSourcesPress=function(){var e=!r.props.isSidebarAllSources;r.props.onToggleAllSourcesSidebar(e)},r.onToggleLockedPress=function(e){r.setState(function(t){var n=null!=e?e:!t.isLocked;return{isLocked:n,isExpanded:!(!t.isMouseOver&&!n)&&t.isExpanded}})},r.onReorderPinSources=function(){r.setState({isReordering:!0,isLocked:!0})},r.onCloseReorderPinSources=function(){r.setState({isReordering:!1,isLocked:!1})},r.state={isMouseOver:!1,isLocked:!1,isExpanded:!1,isSidebarCollapsed:t.isSidebarCollapsed,isAllSources:!1,isReordering:!1},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return t.isSidebarCollapsed!==e.isSidebarCollapsed?{isSidebarCollapsed:e.isSidebarCollapsed}:null};var n=t.prototype;return n.componentWillUnmount=function(){this.clearSetExpandedTimeout()},n.clearSetExpandedTimeout=function(){this._setExpandedTimeoutID&&(clearTimeout(this._setExpandedTimeoutID),this._setExpandedTimeoutID=null)},n.resetExpandTimeout=function(){var e=this;this.clearSetExpandedTimeout(),this._setExpandedTimeoutID=setTimeout(function(){return e.setState({isExpanded:!0})},250)},n.render=function(){var e=this.props,t=e.selectedServerEntityID,n=e.selectedProviderEntityID,r=e.sources,i=e.sourceDirectory,a=e.hasDownloadsSource,o=e.hasPreferredEligibleServers,s=e.hasDismissedServerDownloadMessage,l=e.sourceTitleDetails,c=e.dismissedUnclaimedServers,u=e.isPending,d=e.isSidebarCollapsed,p=e.isSidebarAllSources,h=e.isManagedUser,f=this.state,g=f.isExpanded,v=f.isReordering,m=!d||g||v;return u?hv()(dXe,{isSidebarCollapsed:d},void 0,L0e):hv()(O0e,{},void 0,d?hv()("div",{className:E0e.a.sidebarUnderlay}):null,hv()("div",{className:k0e(g||v,d),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,onMouseMove:this.onMouseMove},void 0,v?hv()("div",{className:E0e.a.pane},void 0,hv()(gJe,{sources:r,isManagedUser:h,sourceTitleDetails:l,hasDownloadsSource:a,onCloseReorderPinSources:this.onCloseReorderPinSources})):hv()(FP,{animateOnMount:!1,preEnterPose:"appear",direction:p?"right":"left",flipMove:!1},void 0,hv()(N0e,{className:E0e.a.pane},p?"right":"left",p?hv()(l0e,{selectedServerEntityID:t,selectedProviderEntityID:n,isExpanded:m,sourceDirectory:i,showServerDownloadMessage:!o,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress}):hv()(P0e,{sources:r,selectedServerEntityID:t,isExpanded:m,isManagedUser:h,hasDownloadsSource:a,showServerDownloadMessage:!o&&!s,sourceTitleDetails:l,dismissedUnclaimedServers:c,onToggleAllSourcesPress:this.onToggleAllSourcesPress,onToggleLockedPress:this.onToggleLockedPress,onReorderPinSources:this.onReorderPinSources})))))},t}(x0e),_0e=Xf.a.createElement,U0e=Xf.a.Component,z0e=Object(Iy.createSelector)(VKe,function(e){return e.length>0});var F0e,B0e={dispatchSaveExperienceSettings:Wo,dispatchSetupSources:ts,dispatchStartFirstRunExperience:eH,dispatchUpdatePinnedSources:rs},H0e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onToggleAllSourcesSidebar=function(e){t.props.dispatchSaveExperienceSettings({isSidebarAllSources:e})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.maybeStartFirstRunExperience();var e=this.props,t=e.sourcesToBeHidden,n=e.sourcesToBeUnHidden;t.length&&this._hideSources(),n.length&&this._unHideSources()},n.componentDidUpdate=function(e){this.maybeStartFirstRunExperience();var t=this.props,n=t.sourcesToBeHidden,r=t.sourcesToBeUnHidden;n.length&&!C.a.isEqual(n,e.sourcesToBeHidden)&&this._hideSources(),r.length&&!C.a.isEqual(r,e.sourcesToBeUnHidden)&&this._unHideSources()},n.maybeStartFirstRunExperience=function(){var e=this.props,t=e.hasInitialSources,n=e.hasPreferredEligibleServers,r=e.hasCompletedSetup,i=e.defaultSources,a=e.dispatchStartFirstRunExperience,o=e.dispatchSetupSources;!n||r||this.isRedirecting?t&&!r&&o({sources:i}):(this.isRedirecting=!0,a())},n._hideSources=function(){this._setSourcesHidden(this.props.sourcesToBeHidden,!0)},n._unHideSources=function(){this._setSourcesHidden(this.props.sourcesToBeUnHidden,!1)},n._setSourcesHidden=function(e,t){this.props.dispatchUpdatePinnedSources({sourceKeys:e,pinnedSourceAttrs:{isHidden:t}})},n.render=function(){var e=this.props,t=(e.sourcesToBeHidden,e.sourcesToBeUnHidden,e.hasInitialSources,e.hasCompletedSetup),n=(e.dispatchSaveExperienceSettings,e.dispatchSetupSources,e.dispatchStartFirstRunExperience,e.dispatchUpdatePinnedSources,wt()(e,["sourcesToBeHidden","sourcesToBeUnHidden","hasInitialSources","hasCompletedSetup","dispatchSaveExperienceSettings","dispatchSetupSources","dispatchStartFirstRunExperience","dispatchUpdatePinnedSources"]));return hv()(BN,{page:_a,isDelegated:!0},void 0,_0e(R0e,dv()({},n,{isPending:!t,onToggleCollapsedSidebar:this.onToggleCollapsedSidebar,onToggleAllSourcesSidebar:this.onToggleAllSourcesSidebar})))},t}(U0e),V0e=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},YKe,z0e,Object(Iy.createSelector)(H9,GKe,function(e,t){return t.reduce(function(t,n){var r=ir(n),i=dqe({sourceServer:e,sourceProvider:n,directories:r&&r.directories});return t.push.apply(t,i),t},[])}),aXe(),GFe(),sXe,_Ze,Py,function(e){return!e.user.isFullUser},function(e,t,n,r,i,a,o,s,l,c,u){var d=a.sourcesToBeHidden,p=a.sourcesToBeUnHidden,h=a.visibleSources,f=c.isSidebarCollapsed,g=c.isSidebarAllSources,v=c.sidebarSettings.hasCompletedSetup;return{selectedServerEntityID:e,selectedProviderEntityID:t,hasInitialSources:n,hasPreferredEligibleServers:r,sourceTitleDetails:oXe(h),dismissedUnclaimedServers:s,sourceDirectory:o,defaultSources:i,sourcesToBeHidden:d,sourcesToBeUnHidden:p,sources:h,hasDownloadsSource:te.a.get("allowSyncDownload"),hasDismissedServerDownloadMessage:l,hasCompletedSetup:v,isSidebarCollapsed:f,isSidebarAllSources:g,isManagedUser:u}})},B0e)(H0e),Q0e=hv()(fXe,{}),W0e=function(e){function t(t){var n;return(n=e.call(this,t)||this).state={hasError:!1},n}Sy()(t,e),t.getDerivedStateFromError=function(){return{hasError:!0}};var n=t.prototype;return n.componentDidCatch=function(e){D.a.error(e.stack)},n.render=function(){return this.state.hasError?Q0e:_0e(V0e,this.props)},t}(U0e),G0e=hv()(eXe,{},void 0,hv()(W0e,{}),hv()(qZe,{})),Y0e=Rm.extend({component:function(){return G0e}}),K0e=Mt("user/signIn/signInWithAuthToken");var q0e=((F0e={})["user/signIn/signInWithAuthToken"]=function(e,t,n){!function(e,t){var n=t.authToken,r=e.get("cloudServer"),i=e.get("user");P.a.ajax(r.getXHROptions(C.a.result(i,"url"),{headers:{"X-Plex-Token":n}})).then(function(e){return i.signIn(e)}).then(function(){z.a.trigger("navigate:refresh")}).fail(function(e){var t=S3(e);z.a.trigger("show:alert",{message:D3(t)})})}(e,{authToken:t.authToken})},F0e),Z0e=Xf.a.createElement;var X0e=function(e){return Z0e(Zq,dv()({title:Object(Xn.default)("Plex is down for maintenance"),description:Object(Xn.default)("Don't worry, it will be back soon")},e),hv()(RS,{to:vB,target:"_blank",kind:a.PRIMARY},void 0,"status.plex.tv"))},J0e=n(641),$0e=n.n(J0e);var e1e=function(){return hv()("div",{className:$0e.a.plexImageContainer},void 0,hv()("div",{className:$0e.a.plexImage}))},t1e=n(1043),n1e=n.n(t1e),r1e=Xf.a.createElement;function i1e(e){var t=e.className,n=wt()(e,["className"]);return r1e(kV,dv()({className:t,kind:Qp,size:qp.LARGE},n))}i1e.defaultProps={className:n1e.a.button};var a1e=i1e,o1e=n(1044),s1e=n.n(o1e),l1e=Xf.a.createElement;function c1e(e){var t=e.component,n=wt()(e,["component"]);return l1e(t,dv()({className:s1e.a.section},n))}c1e.defaultProps={component:"div"};var u1e=c1e,d1e=n(236),p1e=n.n(d1e);var h1e=function(e){return hv()(u1e,{},void 0,hv()("div",{className:p1e.a.header},void 0,Object(Xn.default)("You must be signed in for Plex to work properly. If you are not signed in")),hv()("ul",{className:p1e.a.list},void 0,hv()("li",{className:p1e.a.item},void 0,Object(Xn.default)("Any connections between your media server and players WILL NOT BE SECURE")),hv()("li",{className:p1e.a.item},void 0,Object(Xn.default)("You may experience degraded streaming performance")),hv()("li",{className:p1e.a.item},void 0,Object(Xn.default)("It will be more difficult, and sometimes impossible, to find your server and discover players")),hv()("li",{className:p1e.a.item},void 0,Object(Xn.default)("You will not be able to access your media server from outside your home")),hv()("li",{className:p1e.a.item},void 0,Object(Xn.default)("You will not be able to access content and many features provided by Plex"))))},f1e=n(642),g1e=n.n(f1e);var v1e=function(e){var t=e.onSwitchLayoutPress;return hv()(RS,{className:g1e.a.link,kind:Vp,onPress:t},void 0,Object(Xn.default)("Enter TV Full Screen"),hv()(cye,{className:g1e.a.icon}))},m1e=n(332),y1e=n.n(m1e),b1e=Xf.a.Component,S1e=hv()(e1e,{}),I1e=hv()(h1e,{}),C1e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSwitchToSkipSignInPress=function(){r.setState({isSkipSignInVisible:!0})},r.onStillTherePress=function(){r.setState({isSkipSignInVisible:!1}),r.props.onStillTherePress()},r.onSignInPress=function(){r.setState({isSkipSignInVisible:!1}),r.props.onSignInPress()},r.state={isSkipSignInVisible:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.to,n=e.code,r=e.isBusy,i=e.isFirstRun,a=e.showEnterFullScreen,o=e.onSwitchLayoutPress,s=e.onSkipSignInPress,l=!(r||n),c=!l,u=this.state.isSkipSignInVisible;return hv()(oT,{className:y1e.a.page,autoScroll:!0},void 0,a?hv()(v1e,{onSwitchLayoutPress:o}):null,i&&!u?hv()(RS,{className:y1e.a.switchToSkipSignInLink,kind:Qp,onPress:this.onSwitchToSkipSignInPress},void 0,Object(Xn.default)("What's this?")):null,S1e,hv()("div",{className:y1e.a.container},void 0,u?I1e:null,hv()("div",{className:y1e.a.section},void 0,c?hv()(a1e,{to:t,target:"_blank",type:"submit",isSpinning:!n,onPress:this.onSignInPress},void 0,Object(Xn.default)("Sign in")):null,l?hv()(RS,{kind:Qp,onPress:this.onStillTherePress},void 0,Object(Xn.default)("Are you still there?")):null)),u?hv()(RS,{className:y1e.a.addendumLink,kind:Qp,onPress:s},void 0,Object(Xn.default)("Skip and accept limited functionality")):null)},t}(b1e),M1e=Xf.a.createElement,D1e=Xf.a.Component,w1e={dispatchPreloadPIN:f5,dispatchBeginPolling:v5,dispatchStopPolling:m5,dispatchSkipSignIn:y5},P1e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSignInPress=function(){t.props.dispatchBeginPolling({pinID:t.props.pinID})},t.onStillTherePress=function(){t.props.dispatchPreloadPIN()},t.onSkipSignInPress=function(){t.props.dispatchSkipSignIn()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchPreloadPIN()},n.componentWillUnmount=function(){this.props.dispatchStopPolling()},n.render=function(){var e=this.props,t=(e.dispatchPreloadPIN,e.dispatchBeginPolling,e.dispatchStopPolling,e.dispatchSkipSignIn,wt()(e,["dispatchPreloadPIN","dispatchBeginPolling","dispatchStopPolling","dispatchSkipSignIn"]));return M1e(j5,dv()({component:C1e,onSignInPress:this.onSignInPress,onStillTherePress:this.onStillTherePress,onSkipSignInPress:this.onSkipSignInPress},t))},t}(D1e),T1e=Lm(b3,w1e)(P1e),E1e=Xf.a.createElement,x1e={dispatchReadStoredPIN:h5},O1e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchReadStoredPIN({shouldCreatePIN:!0})},n.render=function(){var e=this.props,t=e.pinID,n=(e.dispatchReadStoredPIN,wt()(e,["pinID","dispatchReadStoredPIN"]));return t?E1e(j5,dv()({component:M5,pinID:t},n)):null},t}(Xf.a.Component),j1e=Lm(b3,x1e)(O1e),A1e=Xf.a.createElement,N1e=Xf.a.Component;var k1e={dispatchResetAuthCodeExchange:g5,dispatchSwitchAppLayout:Ug,dispatchSignInWithAuthToken:K0e},L1e=hv()(X0e,{}),R1e=hv()(j1e,{}),_1e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSwitchLayoutPress=function(){t.props.dispatchSwitchAppLayout()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchResetAuthCodeExchange()},n.componentDidUpdate=function(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchSignInWithAuthToken({authToken:this.props.authToken})},n.render=function(){var e=this.props,t=e.providerID,n=e.showEnterFullScreen,r=(e.errorMessage,e.fatalErrorMessage),i=e.isFirstRun,a=e.isPollClient,o=(e.dispatchResetAuthCodeExchange,e.dispatchSwitchAppLayout,e.dispatchSignInWithAuthToken,wt()(e,["providerID","showEnterFullScreen","errorMessage","fatalErrorMessage","isFirstRun","isPollClient","dispatchResetAuthCodeExchange","dispatchSwitchAppLayout","dispatchSignInWithAuthToken"]));return r?L1e:t?A1e(j5,dv()({component:M5,providerID:t},o)):a?A1e(T1e,dv()({isFirstRun:i,showEnterFullScreen:n,onSwitchLayoutPress:this.onSwitchLayoutPress},o)):R1e},t}(N1e),U1e=Lm(function(){return Object(Iy.createSelector)(b3,function(e){return e.isFirstRun},function(e,t){return Object.assign({isFirstRun:t,isPollClient:e5(),showEnterFullScreen:mg()},e)})},k1e)(_1e),z1e=hv()(mv,{},void 0,hv()(U1e,{})),F1e=Rm.extend({component:function(){return z1e}}),B1e=n(643),H1e=n.n(B1e),V1e=Xf.a.createElement;function Q1e(e){var t=e.children,n=e.innerClassName,r=wt()(e,["children","innerClassName"]);return V1e(f1,dv()({className:H1e.a.pageContent},r),hv()("div",{className:n},void 0,t))}Q1e.defaultProps={innerClassName:H1e.a.innerPageContent};var W1e=Q1e,G1e=Xf.a.Component,Y1e=hv()(D1,{metricsPage:"signOut"},void 0,hv()(W1e,{},void 0,hv()(jUe,{},void 0,hv()(ZE.a,{})))),K1e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={isSigningOut:!1},r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.isSignedIn&&!t.isSigningOut?{isSigningOut:!0}:null};var n=t.prototype;return n.componentDidMount=function(){this.state.isSigningOut&&this.props.onSignOut()},n.componentDidUpdate=function(e,t){this.state.isSigningOut&&!t.isSigningOut&&this.props.onSignOut()},n.render=function(){return Y1e},t}(G1e),q1e=Object(Iy.createSelector)(wy,function(e){return{isSignedIn:e.isSignedIn}});var Z1e=Lm(q1e,function(e){return{onSignOut:function(){bt.execute("signOut").then(function(){e(kg({route:"login"}))})}}})(K1e),X1e=hv()(mv,{},void 0,hv()(Z1e,{})),J1e=Rm.extend({component:function(e){return X1e}}),$1e=$7.extend({initialize:function(e){this.type=e.type||"404"},serializeData:function(){var e,t;return"404"===this.type?(e=Object(Xn.default)("You must be lost."),t=Object(Xn.default)("This page doesn't exist.")):"server"===this.type?(e=Object(Xn.default)("Media server not found."),t=Object(Xn.default)("The server you're trying to access doesn't seem to exist.")):(e=Object(Xn.default)("Media not found."),t=Object(Xn.default)("The media you're trying to access doesn't seem to exist.")),{title:e,subtitle:t}}}).extend({className:"container",template:nee.a}),e2e=$7.extend({}).extend({className:"container",template:nee.a,serializeData:function(){return{title:Object(Xn.default)("You don't have any media servers yet."),subtitle:Object(Xn.default)("{1}Download and install{2} one and try again.",'<a href="https://plex.tv/downloads" target="_blank">',"</a>")}}}),t2e=$7.extend({serializeData:function(){return{title:Object(Xn.default)("No soup for you!"),subtitle:Object(Xn.default)("The server you're trying to access doesn't want to let you in. Make sure you're signed in as a user with access to this server.")}}}).extend({className:"container",template:nee.a}),n2e=$7.extend({modelEvents:{"change:isResolved":"onResolvedChange"},serializeData:function(){var e,t,n=this.model,r=n.get("friendlyName");return n.get("cloud")?n.get("isDownForMaintenance")?(e=Object(Xn.default)("Plex is down for maintenance."),t=Object(Xn.default)("Don't worry, it'll be back soon.")):(e=Object(Xn.default)("Plex is not reachable."),t=Object(Xn.default)("Make sure your server has an internet connection and any firewalls or other programs are set to allow access.")):(e=Object(Xn.default)("Server unavailable."),t=r?Object(Xn.default)("We couldn't reach \"{1}\". Make sure it's online and try again.",C.a.escape(r)):Object(Xn.default)("We couldn't reach this server. Make sure it's online and try again.")),{title:e,subtitle:t}},onResolvedChange:function(e,t){t&&z.a.trigger("navigate:refresh")}}).extend({className:"container",template:nee.a}),r2e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).metricsContext=t.metricsContext,r}Sy()(t,e);var n=t.prototype;return n.getChildContext=function(){return{metricsContext:this.metricsContext}},n.render=function(){return this.props.children?Xf.a.Children.only(this.props.children):null},t}(Xf.a.Component);r2e.childContextTypes={metricsContext:Dp.a.string};var i2e=r2e;var a2e=function(e,t){return e.then(function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=P.a.Deferred();return setTimeout(function(){return i.resolve.apply(i,n)},t),i.promise()})},o2e=2500;function s2e(e){var t=e.eventSource,n=e.events,r=e.predicate,i=void 0===r?function(){return!0}:r,a=e.waitDuration,o=void 0===a?o2e:a,s=P.a.Deferred(),l=function(){i(t)&&(u=clearTimeout(u),t.off(c),s.resolve(t))},c=n.reduce(function(e,t){return e[t]=l,e},{}),u=setTimeout(function(){D.a.warn('Model "%s" events %o did not pass the predicate within %dms',t.name,n,o),t.off("add",c),s.reject(t)},o);return t.on(c),s.promise()}function l2e(e){return e.get("isPopulated")?P.a.Deferred().resolve(e).promise():s2e({eventSource:e,events:["change:error","change:isPopulated"]})}function c2e(e,t){return function(e,t){return e.findWhere(t)?P.a.Deferred().resolve(e).promise():s2e({eventSource:e,events:["add"],predicate:function(){return!!e.findWhere(t)}})}(e,t).then(function(e){return l2e(e.findWhere(t))},function(){return P.a.Deferred().reject().promise()})}var u2e=16;function d2e(e){var t=e.hubKey,n=e.server,r=e.provider,i=e.options;return new ov.default([],Object.assign({count:u2e,excludes:["playlists"],libraryHubsOnly:!0,includeEmpty:!0,includeFeaturedTags:!0,includeTypeFirst:!0},i,{hubKey:t,server:n,provider:r}))}function p2e(e){var t=e.directoryKey,n=e.server,r=e.provider,i=e.options,a=e.onlyPromoted,o=void 0!==a&&a,s=Object.assign({},i,{count:1,persistInCache:!1,skipCache:!0}),l={directoryKey:t,hubModels:[]};return d2e({hubKey:t,server:n,provider:r,options:s}).fetch().then(function(e){return e.reduce(function(e,t){return(!o||o&&t.get("promoted"))&&e.hubModels.push(t),e},l)},function(){return l})}function h2e(e){return{includeExternalMedia:PZ(e,zy),includeExternalMetadata:!0,includeStations:!0}}function f2e(e){var t=e.reduce(function(e,t,n){var r=t.get("server").get("machineIdentifier"),i=t.get("provider").get("identifier"),a=t.get("directoryKey"),o=r+"--"+i+"--"+a;return e[o]||(e[o]={directoryKey:a,identifier:i,homeHubIDs:[],machineIdentifier:r}),e[o].homeHubIDs.push(t.get("id")),e},{});return Object.values(t)}function g2e(e,t){return!!e.get("user").get("services").findWhere({id:t})}var v2e,m2e=n(91),y2e=Mt("home/initHomePage"),b2e=Mt("home/fetchHomeContent"),S2e=Mt("home/fetchHomeHubs"),I2e=Mt("home/fetchPreferredServerContent"),C2e=Mt("home/fetchProviderPromotedContent"),M2e=Mt("home/resetHomePage"),D2e=Mt("home/updateHomeHubsStatus");function w2e(e){return e.get("user").get("experienceSettings").get("homeSettings")}function P2e(e){return e.get("ui").get("homePage")}var T2e,E2e=[],x2e=((v2e={})["home/initHomePage"]=function(e,t,n){var r=w2e(e).get("hubs");m2e.a.startPeriod("client:view:"+wa),f2e(r).forEach(function(e){var t=e.identifier,r=e.homeHubIDs,i=e.machineIdentifier,a={skipCache:!0},o=new Ac({machineIdentifier:i},a),s=new kr({identifier:t},Object.assign({},a,{server:o}));n(D2e({homeHubIDs:r,status:{provider:s.entityID(),server:o.entityID()}})),s.uninitialize(),o.uninitialize()})},v2e["home/resetHomePage"]=function(e,t){E2e.forEach(function(e){return e.cancel()}),E2e=[],T2e=clearTimeout(T2e),P2e(e).restoreDefaults()},v2e["home/updateHomeHubsStatus"]=function(e,t){var n=t.homeHubIDs,r=t.status;P2e(e).get("homeHubStatuses").set(n.map(function(e){return Object.assign({},r,{homeHubID:e})}),{remove:!1})},v2e["home/fetchHomeHubs"]=function(e,t,n){var r=t.homeHubIDs,i=t.fetchDelayMS,a=t.options,o=w2e(e).get("hubs"),s=o.get(r[0]),l=s.get("server").get("machineIdentifier"),c=s.get("provider").get("identifier"),u=s.get("directoryKey");n(D2e({homeHubIDs:r,status:{error:null,isPending:!0,isPopulated:!1}}));var d=e.get("servers").findServer(l).then(function(e){return e.get("isOutOfDate")?P.a.Deferred().reject(e).promise():e.get("isPending")?s2e({eventSource:e,events:["change:isPending"]}):P.a.Deferred().resolve(e).promise()});d=d.then(function(t){return c2e((t.get("isCloud")?yo(e):t).get("providers"),{identifier:c})}),i>0&&(d=a2e(d,i)),d=d.then(function(t){return d2e({hubKey:u,server:t.server,provider:t,options:Object.assign({},a,h2e(e))}).fetch()});var p=Object(mE.a)(d);E2e.push(p),p.promise.then(function(e){r.forEach(function(t){var r=o.get(t);if(r){var i={isPending:!1},a=e.findWhere({hubIdentifier:r.get("hubIdentifier")});a?(r.set("title",a.get("title")),i.isPopulated=!0,i.hub=a,i.provider=e.provider.entityID(),i.server=e.provider.server.entityID()):(i.error={isContentUnavailable:!0},D.a.warn("[Home] home/fetchHomeHubs: missing",r)),n(D2e({homeHubIDs:[t],status:i}))}})},function(e){(void 0===e?{}:e).isCanceled||n(D2e({homeHubIDs:r,status:{isPending:!1,error:{}}}))})},v2e["home/fetchHomeContent"]=Yi({key:"content",getModel:function(e,t){return e.get("ui").get("homePage")},fetch:function(e,t,n){var r=w2e(e).get("hubs"),i=P.a.Deferred();return r.length?(f2e(r).forEach(function(e){n(S2e({homeHubIDs:e.homeHubIDs}))}),T2e=clearTimeout(T2e),T2e=setTimeout(i.resolve,1e3),i.promise()):i.resolve().promise()}}),v2e["home/fetchPreferredServerContent"]=Yi({key:"preferredServerContent",getModel:function(e,t){return e.get("ui").get("homePage")},fetch:function(e,t,n){var r=w2e(e),i={identifier:Cn.d},a=r.get("preferredServerID"),o=e.get("servers").findServer(a);return(o=(o=o.then(function(e){return c2e(e.get("providers"),i)})).then(function(n){return p2e({directoryKey:rxe,server:n.server,provider:n,options:Object.assign({},t.options,h2e(e))})})).then(function(e){var t=e.directoryKey,r=e.hubModels.map(function(e){return{directoryKey:t,model:e}});n(Ho({hubs:r}))},function(){return P.a.Deferred().reject({}).promise()})}}),v2e["home/fetchProviderPromotedContent"]=Yi({key:"providerPromotedContent",getModel:function(e,t){return e.get("ui").get("homePage")},fetch:function(e,t,n){var r={type:sn},i=e.get("user").get("experienceSettings").get("sidebarSettings").get("pinnedSources"),a=yo(e).get("providers"),o=a.map(function(e){return l2e(e)});return X(o).then(function(){var n=a.reduce(function(t,n){if(!n.get("isPopulated"))return t;if(!i.findWhere({providerIdentifier:n.get("identifier"),machineIdentifier:n.server.get("machineIdentifier")}))return t;var a=n.get("features").findWhere(r),o=a&&a.get("requires"),s=!o||g2e(e,o);return a&&s&&t.push(a),t},[]);return X(n.map(function(e){return p2e({directoryKey:e.get("key"),server:e.server,provider:e.provider,options:t.options||{},onlyPromoted:!0})}))}).then(function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=t.reduce(function(e,t){var n=t.directoryKey,r=t.hubModels;return e.push.apply(e,r.map(function(e){return{directoryKey:n,model:e}})),e},[]);n(Bo({hubs:i}))},function(){return P.a.Deferred().reject({}).promise()})}}),v2e["user/resetHomeSettings"]=function(e,t){e.get("ui").get("homePage").restoreDefaults()},v2e),O2e=Xf.a.Component,j2e=Xf.a.Fragment,A2e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._populate(this.props)},n.componentDidUpdate=function(e){var t=this.props.machineIdentifier;t&&t!==e.machineIdentifier&&this._populate(this.props)},n._populate=function(e){var t=e.machineIdentifier,n=e.dispatchSetPrimaryServer;t&&Object(No.a)(function(){n({machineIdentifier:t})})},n.render=function(){return hv()(j2e,{},void 0,this.props.children)},t}(O2e),N2e=Lm(null,{dispatchSetPrimaryServer:Is})(A2e),k2e=KS(Object(Iy.createSelector)(Cwe,function(e){return e.hubs}),function(e){return e}),L2e=Object(Iy.createSelector)(k2e,function(e){return e.map(function(e){return e.id})}),R2e=function(){return Object(Iy.createSelector)(function(e){return e.ui.homePage.homeHubStatuses},function(e,t){return t.homeHubID},function(e,t){return e.find(function(e){return e.homeHubID===t})})};function _2e(){return Object(Iy.createSelector)(My,R2e(),function(e,t){return e[t.server]})}function U2e(){return Object(Iy.createSelector)(Cwe,function(e,t){return t.homeHubID},function(e,t){return e.hubs.find(function(e){return e.id===t})})}function z2e(){return Object(Iy.createSelector)(Swe,R2e(),function(e,t){return e[t.hub]})}function F2e(){return Object(Iy.createSelector)(U2e(),z2e(),Object(Iy.createSelector)(ek,R2e(),function(e,t){return e[t.provider]}),_2e(),function(e,t,n,r){var i=t?n:e.provider,a=t?r:e.server,o=ir(i);return WFe(i,a,o&&gZ(o.directories,e.directoryKey))})}function B2e(){return Object(Iy.createSelector)(z2e(),U2e(),function(e,t){var n;return e&&e.title?n=e.title:t&&t.title&&(n=t.title),n||Object(Xn.default)("Unknown")})}Dp.a.shape({directoryKey:Dp.a.string.isRequired,hubIdentifier:Dp.a.string,hubKey:Dp.a.string,id:Dp.a.string.isRequired,key:Dp.a.string,provider:Dp.a.shape({identifier:Dp.a.string,providerIdentifier:Dp.a.string,title:Dp.a.string}),server:Dp.a.shape({friendlyName:Dp.a.string,machineIdentifier:Dp.a.string.isRequired,sourceTitle:Dp.a.string}),style:Dp.a.string,subtype:Dp.a.string,title:Dp.a.string,type:Dp.a.string}),Dp.a.shape({homeHubID:Dp.a.string.isRequired,error:Dp.a.object,isPending:Dp.a.bool.isRequired,isPopulated:Dp.a.bool.isRequired,hub:Dp.a.string,provider:Dp.a.string,server:Dp.a.string});var H2e=Xf.a.Fragment;var V2e=function(e){var t=e.onModalClose;return hv()(H2e,{},void 0,hv()(PN,{},void 0,Object(Xn.default)("Down for Maintenance")),hv()(CN,{},void 0,Object(Xn.default)("Plex is down for maintenance. Don't worry, it will be back soon.")),hv()(Q_,{},void 0,hv()(I_,{to:vB,"data-autofocus":!0,target:"_blank",kind:Qp,onPress:t},void 0,"status.plex.tv")))},Q2e=Xf.a.Fragment;var W2e=function(e){var t=e.onModalClose;return hv()(Q2e,{},void 0,hv()(PN,{},void 0,Object(Xn.default)("Content is Unavailable")),hv()(CN,{},void 0,Object(Xn.default)("The content provider is working normally but did not return content. The content may no longer be available.")),hv()(Q_,{},void 0,hv()(I_,{"data-autofocus":!0,kind:Qp,onPress:t},void 0,Object(Xn.default)("Okay"))))},G2e=Xf.a.Fragment,Y2e=hv()("br",{});var K2e=function(e){var t=e.friendlyName,n=e.sourceTitle,r=e.onModalClose,i=e.onReloadHttpPress,a=e.onReloadHttpAlwaysPress,o=n?[Object(Xn.default)("{owner}'s server does not allow secure connections.",{owner:n})]:[Object(Xn.default)('The server "{serverName}" does not allow secure connections.',{serverName:t})];return o.push(Object(Xn.default)("To see content from this server, you can try allowing insecure connections to reload the web app insecurely.")),hv()(G2e,{},void 0,hv()(PN,{},void 0,Object(Xn.default)("Server Unreachable")),hv()(CN,{},void 0,o.join(" "),Y2e,hv()(RS,{to:MB,target:"_blank",kind:Qp,onPress:r},void 0,Object(Xn.default)("Learn more"))),hv()(Q_,{},void 0,hv()(I_,{kind:Gp,className:B_.a.button,onPress:a},void 0,Object(Xn.default)("Allow always")),hv()(I_,{className:B_.a.button,"data-autofocus":!0,kind:Gp,onPress:i},void 0,Object(Xn.default)("Allow once"))))};var q2e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName,sourceTitle:e.sourceTitle}})},function(e){return{onReloadHttpPress:function(t){e(Lg())},onReloadHttpAlwaysPress:function(t){e(_g()),e(Lg())}}})(K2e),Z2e=Xf.a.Fragment;var X2e=function(e){var t=e.friendlyName,n=e.isInstallingServerUpdate,r=e.isOutOfDate,i=e.isUnauthorized,a=e.isUnavailable,o=e.onModalClose,s=[],l=Object(Xn.default)("Server is Unavailable");return n?s.push(Object(Xn.default)('The server "{serverName}" is installing an update.',{serverName:t}),Object(Xn.default)("Grab a cup of tea. This may take a couple of minutes.")):r?(l=Object(Xn.default)("Update Required"),s.push(Object(Xn.default)('The server "{serverName}" is out of date.',{serverName:t}),Object(Xn.default)("This version of Plex requires Plex Media Server {version} or higher.",{version:"1.3.0"}))):i?s.push(Object(Xn.default)("No soup for you!"),Object(Xn.default)("You do not have access to this server.")):a&&s.push(Object(Xn.default)('The server "{serverName}" is unavailable.',{serverName:t}),Object(Xn.default)("Plex will automatically try to reconnect to this server.")),hv()(Z2e,{},void 0,hv()(PN,{},void 0,l),hv()(CN,{},void 0,s.join(" ")),hv()(Q_,{},void 0,hv()(I_,{className:B_.a.button,"data-autofocus":!0,kind:Qp,onPress:o},void 0,Object(Xn.default)("Okay"))))};var J2e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName,isInstallingServerUpdate:e.isInstallingServerUpdate,isOutOfDate:e.isOutOfDate,isUnauthorized:e.isUnauthorized,isUnavailable:e.isUnavailable,sourceTitle:e.sourceTitle}})})(X2e),$2e=Xf.a.Fragment,e4e=hv()("br",{});var t4e=function(e){var t=e.onModalClose,n=[Object(Xn.default)("There was an unexpected error."),Object(Xn.default)("Please visit our forums if you continue to experience problems.")];return hv()($2e,{},void 0,hv()(PN,{},void 0,Object(Xn.default)("Content is Unavailable")),hv()(CN,{},void 0,n.join(" "),e4e,hv()(RS,{to:fB,target:"_self",kind:Qp,onPress:t},void 0,Object(Xn.default)("Go to Forums"))),hv()(Q_,{},void 0,hv()(I_,{className:B_.a.button,"data-autofocus":!0,kind:Qp,onPress:t},void 0,Object(Xn.default)("Okay"))))},n4e=Xf.a.Fragment;var r4e=function(e){var t=e.onModalClose,n=[Object(Xn.default)("The server associated with this content is no longer accessible."),Object(Xn.default)("You can safely remove this content.")];return hv()(n4e,{},void 0,hv()(PN,{},void 0,Object(Xn.default)("Unknown Server")),hv()(CN,{},void 0,n.join(" ")),hv()(Q_,{},void 0,hv()(I_,{className:B_.a.button,"data-autofocus":!0,kind:Qp,onPress:t},void 0,Object(Xn.default)("Okay"))))};var i4e=function(e){var t=e.isOpen,n=e.serverEntityID,r=e.shouldShowDownForMaintenance,i=e.shouldShowInsecureFallbackChoice,a=e.shouldShowHubStatus,o=e.shouldShowServerStatus,s=e.shouldShowUnexpectedError,l=e.shouldShowUnrecognized,c=e.onModalClose;return hv()(VN,{size:qp.SMALL,isOpen:t,metricsPage:wa,onModalClose:c},void 0,hv()(qN,{onModalClose:c},void 0,r?hv()(V2e,{onModalClose:c}):null,a?hv()(W2e,{onModalClose:c}):null,i?hv()(q2e,{serverEntityID:n,onModalClose:c}):null,o?hv()(J2e,{serverEntityID:n,onModalClose:c}):null,s?hv()(t4e,{onModalClose:c}):null,l?hv()(r4e,{onModalClose:c}):null))};var a4e=Lm(function(){return Object(Iy.createSelector)(R2e(),_2e(),function(e,t){var n=e.error,r=e.server,i={};if(n&&n.isContentUnavailable)i.shouldShowHubStatus=!0;else if(t){var a=t.isDownForMaintenance,o=t.isHostedHttps,s=t.isInstallingServerUpdate,l=t.isOutOfDate,c=t.isUnavailable,u=t.isUnauthorized,d=t.hasHttpsConnections;i.serverEntityID=r,a?i.shouldShowDownForMaintenance=!0:c&&o&&!d?i.shouldShowInsecureFallbackChoice=!0:(c||u||s||l)&&(i.shouldShowServerStatus=!0)}else i.shouldShowUnrecognized=!0;return i.shouldShowHubStatus||i.shouldShowDownForMaintenance||i.shouldShowInsecureFallbackChoice||i.shouldShowServerStatus||i.shouldShowUnrecognized||(i.shouldShowUnexpectedError=!0),i})})(i4e),o4e=n(1045),s4e=n.n(o4e);function l4e(e){var t=e.className,n=e.cellWidth,r=e.listContext,i=e.listSubtype,a=e.listType,o=CF(e),s={position:"absolute",top:0,left:0,width:n+"px",height:DL(n,a,i,r)+"px"};return hv()("div",{style:o.style},void 0,hv()("div",{className:t,style:s}))}l4e.defaultProps={className:s4e.a.posterCell};var c4e=l4e,u4e=n(136),d4e=n.n(u4e),p4e=Xf.a.createElement,h4e=Xf.a.Component,f4e=String.fromCharCode(183),g4e=[{id:0},{id:1},{id:2},{id:3},{id:4},{id:5},{id:6},{id:7},{id:8},{id:9},{id:10},{id:11}];var v4e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListUpdate=function(e){var t=e.listStyle,n=r.props.onListReady,i=r._isReady?void 0:n;r._isReady=!0,r.setState({listHeight:t.height},i)},r.onHelpPress=function(){r.setState({isHelpModalOpen:!0})},r.onHelpModalClose=function(){r.setState({isHelpModalOpen:!1})},r.state={listHeight:"auto",isHelpModalOpen:!1},r._isReady=!1,r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.allowToggleHomeHub,n=e.className,r=e.columnAdjustment,i=e.errorTitle,a=e.hasRetried,o=e.hasServer,s=e.homeHub,l=e.homePageHomeHubStatus,c=e.shouldConfirmHomeHubRemoval,u=e.sourceTitle,d=e.title,p=e.onRetryHomeHub,h=this.state.listHeight,f=s.hubIdentifier,g=s.type,v=s.subtype,m=l.isPending,y=KFe(f),b=tOe(g,y,{subtype:v,isExternal:f.indexOf("external")>-1}),S=!!i,I=m&&a,C=null;if(d){var M=uwe(d),D=i||(I?Object(Xn.default)("Retrying"):null);C=hv()(zwe,{},void 0,M,u?hv()(cE,{className:d4e.a.titleSeparator}):null,u?hv()("span",{className:d4e.a.sourceTitle},void 0,u):null,D?hv()(cE,{className:d4e.a.errorSeparator,separator:f4e}):null,D?hv()("span",{className:d4e.a.errorTitle},void 0,D):null)}var w,P={visibility:"auto"===h?"hidden":"visible"},T={height:h,overflow:"hidden"};return hv()("div",{className:n,style:P,"data-qa-id":"hub--"+f},void 0,hv()(Lwe,{allowToggleHomeHub:t,className:d4e.a.hubCellHeader,homeHubID:l.homeHubID,isHomeHub:!0,shouldConfirmHomeHubRemoval:c},void 0,C,m?hv()(xV.a,{size:qp.SMALL}):null,S&&o?hv()(Kz,{className:d4e.a.iconButton,iconClassName:d4e.a.iconButtonIcon,iconComponent:IK,label:Object(Xn.default)("Retry"),ariaLabel:Object(Xn.default)("Retry"),onPress:p}):null,S?hv()(Kz,{className:d4e.a.iconButton,iconClassName:d4e.a.iconButtonIcon,iconComponent:j4,label:Object(Xn.default)("What's this?"),ariaLabel:Object(Xn.default)("What's this?"),onPress:this.onHelpPress}):null),hv()("div",{style:T},void 0,hv()(cF,{scrollerClassName:d4e.a.hubScroller,ignoreHeight:!0,keyPropName:"id",items:g4e,scrollDirection:Zp,size:g4e.length,layout:tBe(g,v,y,r,b.length),cellRenderer:(w={listType:g,listSubtype:v,listContext:y},function(e){return p4e(c4e,dv()({},w,e))}),onListUpdate:this.onListUpdate})),hv()(a4e,{homeHubID:s.id,isOpen:this.state.isHelpModalOpen,onModalClose:this.onHelpModalClose}))},t}(h4e);v4e.defaultProps={className:d4e.a.hubCell};var m4e=v4e,y4e=Xf.a.createElement,b4e=Xf.a.Component;var S4e={dispatchFetchHomeHubs:S2e,dispatchUpdateHomeHubsStatus:D2e},I4e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRetryHomeHub=function(){var e={homeHubIDs:[r.props.homeHubID],fetchDelayMS:350};r.setState({hasRetried:!0},r.props.dispatchFetchHomeHubs.bind(null,e))},r.state={hasRetried:!1},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.errorTitle,r=t.homeHubID,i=t.isServerConnected,a=t.dispatchFetchHomeHubs,o=t.dispatchUpdateHomeHubsStatus,s=!e.errorTitle&&n,l=i&&!e.isServerConnected,c=!i&&e.isServerConnected;s&&this.state.hasRetried&&z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was an error retrieving content.")}),(l||c)&&this.setState({hasRetried:!1},function(){l?a({homeHubIDs:[r]}):c&&o({homeHubIDs:[r],status:{error:{},isPending:!1,isPopulated:!1}})})},n.render=function(){var e=this.props,t=e.allowSourceTitle,n=(e.dispatchFetchHomeHubs,e.dispatchUpdateHomeHubsStatus,e.homeHubID,e.homeHub),r=e.homePageHomeHubStatus,i=(e.isServerConnected,e.sourceTitle),a=e.title,o=wt()(e,["allowSourceTitle","dispatchFetchHomeHubs","dispatchUpdateHomeHubsStatus","homeHubID","homeHub","homePageHomeHubStatus","isServerConnected","sourceTitle","title"]);return r.isPopulated?y4e(HBe,dv()({},o,{allowSourceTitle:t,sourceDirectoryKey:n.directoryKey,hubEntityID:r.hub,providerEntityID:r.provider,serverEntityID:r.server})):y4e(m4e,dv()({},o,{hasRetried:this.state.hasRetried,homeHub:n,homePageHomeHubStatus:r,sourceTitle:i,title:a,onRetryHomeHub:this.onRetryHomeHub}))},t}(b4e),C4e=Lm(function(){return Object(Iy.createSelector)(Ufe(),U2e(),R2e(),B2e(),F2e(),Object(Iy.createSelector)(R2e(),_2e(),function(e,t){var n,r=e.error;return r&&(n=r.isContentUnavailable?Object(Xn.default)("Content Unavailable"):t?t.isInstallingServerUpdate?Object(Xn.default)("Installing Update"):t.isOutOfDate?Object(Xn.default)("Update Required"):Object(Xn.default)("Unreachable"):Object(Xn.default)("Unknown Server")),n}),Object(Iy.createSelector)(_2e(),function(e){return!!e}),Object(Iy.createSelector)(_2e(),function(e){return!!e&&e.isConnected}),function(e,t){return t.allowSourceTitle},function(e,t,n,r,i,a,o,s,l){return{columnAdjustment:e,errorTitle:a,hasServer:o,homeHub:t,homePageHomeHubStatus:n,isServerConnected:s,sourceTitle:l?i:null,title:r}})},S4e)(I4e),M4e=Xf.a.Component,D4e={opacity:0,pointerEvents:"none"},w4e={opacity:1,pointerEvents:"auto"},P4e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListReady=function(){++r._readyCount===r._initialCount&&r.setState({isReady:!0})},r.state={isReady:!1},r._readyCount=0,r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._initialCount=this.props.homeHubIDs.length},n.componentWillReceiveProps=function(e){var t=e.homeHubIDs.length,n=this.props.homeHubIDs.length;this.state.isReady||t===n||(this._initialCount=t,this._readyCount===t&&this.setState({isReady:!0}))},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e,t){!t.isReady&&this.state.isReady&&Object(J.c)("metrics").trackView({page:wa})},n.render=function(){var e=this,t=this.props.homeHubIDs,n=this.state.isReady;return hv()("div",{style:n?w4e:D4e},void 0,t.map(function(t){return hv()(C4e,{homeHubID:t,allowSourceTitle:!0,allowToggleHomeHub:!0,shouldConfirmHomeHubRemoval:!0,onListReady:e.onListReady},t)}))},t}(M4e),T4e=n(185),E4e=n.n(T4e),x4e=Xf.a.createElement;var O4e=function(e){return x4e(WZe,dv()({className:E4e.a.innerEmptyPage,contentClassName:E4e.a.innerEmptyPageContent,scrollDirection:Zp},e))},j4e=Xf.a.Fragment;var A4e=function(e){var t=eae(e.onResetCustomization);return hv()(O4e,{iconSrc:w8.a,title:Object(Xn.default)("Your home screen is empty"),description:hv()(j4e,{},void 0,hv()(AB,{message:Object(Xn.default)("If this is unexpected, see our {openLink}home screen customization tips{closeLink}. If you removed everything and want it all back, choosing Reset Customization below will reset your sidebar navigation and home screen layout to the default state."),tags:[{open:"openLink",close:"closeLink",component:RS,kind:Qp,to:SB,target:"_self"}]}))},void 0,hv()(I_,{kind:Qp,size:qp.LARGE,onPress:t.onOpen},void 0,Object(Xn.default)("Reset Customization")),hv()(mK,{kind:Gp,title:Object(Xn.default)("Reset Customization"),message:Object(Xn.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:Object(Xn.default)("Reset Customization"),metricsPage:io,isOpen:t.isOpen,onCancel:t.onClose,onConfirm:t.onConfirm}))},N4e=n(1046),k4e=n.n(N4e),L4e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.hubsToBeHidden,n=e.hubsToBeUnHidden;t.length&&this._hideHomeHubs(),n.length&&this._unHideHomeHubs()},n.componentDidUpdate=function(e){var t=this.props,n=t.hubsToBeHidden,r=t.hubsToBeUnHidden;n.length&&!C.a.isEqual(n,e.hubsToBeHidden)&&this._hideHomeHubs(),r.length&&!C.a.isEqual(r,e.hubsToBeUnHidden)&&this._unHideHomeHubs()},n._hideHomeHubs=function(){this._setHomeHubsHidden(this.props.hubsToBeHidden,!0)},n._unHideHomeHubs=function(){this._setHomeHubsHidden(this.props.hubsToBeUnHidden,!1)},n._setHomeHubsHidden=function(e,t){this.props.onUpdateHomeHubs({homeHubIDs:e,homeHubAttrs:{isHidden:t}})},n.render=function(){var e=this.props,t=e.visibleHubs,n=e.settingsKey,r=e.onResetCustomization;return t.length>0?hv()(W1e,{innerClassName:k4e.a.content,scrollPositionKey:n+"!scrollPosition"},void 0,hv()(P4e,{homeHubIDs:t})):hv()(A4e,{onResetCustomization:r})},t}(Xf.a.Component);function R4e(e,t,n){var r={hubsToBeHidden:[],hubsToBeUnHidden:[],visibleHubs:[]};return e.forEach(function(e){var i=e.homeHubID,a=e.homeHub,o=e.server,s=e.provider,l=e.hubStatus,c=e.hubEntity,u=iXe(s,a.directoryKey,a.directoryKey),d=s&&s.features.find(function(e){return e.type===sn}),p=!!(u||d&&d.key===a.directoryKey);rXe(o,s,t,n,p)?a.isHidden||r.hubsToBeHidden.push(i):a.isHidden?r.hubsToBeUnHidden.push(i):l&&c&&0===c.size||r.visibleHubs.push(i)}),r}function _4e(){return Object(Iy.createSelector)(Object(Iy.createSelector)(function(e){return e.ui.homePage.homeHubStatuses},L2e,Cwe,Swe,My,ek,function(e,t,n,r,i,a){return t.map(function(t){var o=e.find(function(e){return e.homeHubID===t});return{homeHubID:t,homeHub:n.hubs.find(function(e){return e.id===t}),hubStatus:o,hubEntity:o&&r[o.hub],server:o&&i[o.server],provider:o&&a[o.provider]}})}),H9,Gie,R4e)}var U4e=Lm(function(){return t9(_4e(),function(e){return e})},function(e){return{onResetCustomization:function(){e(eH({resetCustomization:!0}))},onUpdateHomeHubs:function(t){e(Uo(t))}}})(L4e),z4e=n(1047),F4e=n.n(z4e),B4e=Xf.a.createElement;function H4e(e){return B4e("div",e)}H4e.defaultProps={className:F4e.a.pageHeader};var V4e=H4e,Q4e={showPlay:K4e,showShuffle:K4e,showQueue:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return ope({server:r,provider:i,stableUser:e,metadataItem:n})})},showAddToAlbum:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return cpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showAddToPlaylist:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return upe({server:r,provider:i,stableUser:e,metadataItem:n})})},showMarkPlayed:function(e,t){return t.some(function(t){var n=t.model,r=t.server,i=t.provider;return hpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showMarkUnplayed:function(e,t){return t.some(function(t){var n=t.model,r=t.server,i=t.provider;return fpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showFavorite:function(e,t){return t.some(function(t){var n=t.model,r=t.server,i=t.provider;return dpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showUnfavorite:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return ppe({server:r,provider:i,stableUser:e,metadataItem:n})})},showEdit:q4e,showRefresh:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return vpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showAnalyze:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return mpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showMerge:function(e,t){if(!q4e(e,t))return!1;var n=Y4e(t);if(1===n.length)return!1;if(C.a.uniq(n).length>1)return!1;return n.every(function(e){return-1!==G4e.indexOf(e)})},showSync:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return bpe({server:r,provider:i,stableUser:e,metadataItem:n})})},showOptimize:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return Spe({server:r,provider:i,stableUser:e,metadataItem:n})})},showDelete:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return!n.remoteMedia&&Ipe({server:r,provider:i,stableUser:e,metadataItem:n})})},showRemove:function(e,t){return t.every(function(t){var n=t.model,r=t.server,i=t.provider;return n.remoteMedia&&Ipe({server:r,provider:i,stableUser:e,metadataItem:n})})}},W4e={video:["showPlay","showShuffle","showQueue","showAddToPlaylist","showMarkPlayed","showMarkUnplayed","showEdit","showRefresh","showAnalyze","showMerge","showSync","showOptimize","showDelete"],audio:["showPlay","showShuffle","showQueue","showAddToPlaylist","showEdit","showRefresh","showAnalyze","showMerge","showSync","showDelete","showRemove"],photo:["showPlay","showShuffle","showAddToAlbum","showFavorite","showUnfavorite","showEdit","showAnalyze","showSync","showDelete"],playlist:["showDelete"],collection:["showEdit","showDelete"]},G4e=["movie","show","season","artist","album"];function Y4e(e){return e.map(function(e){return e.model.type})}function K4e(e,t){return t.every(function(t){var n=t.model;return ape({server:t.server,provider:t.provider,stableUser:e,metadataItem:n})})}function q4e(e,t){var n=Y4e(t);return!(C.a.uniq(n).length>1)&&t.every(function(t){var n=t.server,r=t.provider,i=t.model;return gpe({server:n,provider:r,stableUser:e,metadataItem:i})})}function Z4e(e,t,n){var r=W4e[n],i=function(e){return C.a.uniq(e.map(function(e){return e.provider.entityID})).length>1}(t);return r.reduce(function(n,r){var a=Q4e[r];return n[r]=!i&&a(e,t),n},{})}function X4e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-album-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M502.564103,488 L502.564103,130.461538 L145.185185,130.461538 L145.185185,294.865385 L178.689459,294.865385 L178.689459,408.192308 L145.185185,408.192308 L145.185185,488 L502.564103,488 Z M413.219373,286.884615 L328.501425,371.640385 L411.304843,454.480769 L379.716695,454.480769 L279.203875,353.923077 L178.691054,454.480769 L178.691054,163.980769 L469.061425,163.980769 L469.061425,342.75 L413.220969,286.884615 M279.203875,197.5 C303.859031,197.5 323.876239,217.52375 323.876239,242.192308 C323.876239,266.858471 303.861425,286.884615 279.203875,286.884615 C254.548718,286.884615 234.53151,266.860865 234.53151,242.192308 C234.53151,217.526144 254.546325,197.5 279.203875,197.5 Z M560,430.538462 L526.495726,430.538462 L526.495726,106.519231 L202.621083,106.519231 L202.621083,73 L560,73 L560,430.538462 Z M72.5925926,334.769231 L72.5925926,262.144231 L106.096866,262.144231 L106.096866,334.769231 L178.689459,334.769231 L178.689459,368.288462 L106.096866,368.288462 L106.096866,440.913462 L72.5925926,440.913462 L72.5925926,368.288462 L0,368.288462 L0,334.769231 L72.5925926,334.769231 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}X4e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var J4e=X4e,$4e=Xf.a.createElement,e3e=hv()(J4e,{});var t3e=function(e){return $4e(x1,dv()({"data-qa-id":"toolbarAddToAlbum",tooltip:Object(Xn.default)("Add to Album")},e),e3e)},n3e=Xf.a.createElement,r3e=hv()(jze,{});var i3e=function(e){return n3e(x1,dv()({tooltip:Object(Xn.default)("Add to Playlist"),"data-qa-id":"toolbarPlaylist"},e),r3e)};function a3e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-edit-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m56 504l28-84 56 56-84 28m392-448l-336 336 56 56 336-336-56-56"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}a3e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var o3e=a3e,s3e=Xf.a.createElement,l3e=hv()(o3e,{});var c3e=function(e){return s3e(x1,dv()({tooltip:Object(Xn.default)("Edit"),"data-qa-id":"toolbarEdit"},e),l3e)},u3e=Xf.a.createElement,d3e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.children,n=e.iconComponent,r=e.label,i=e.isMenuOpen,a=wt()(e,["children","iconComponent","label","isMenuOpen"]);return u3e(x1,dv()({"aria-haspopup":!0,"data-qa-id":"toolbarMore",tooltip:i?void 0:r,hideOnPress:!1},a),hv()(n,{}),t)},t}(Xf.a.Component);function p3e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m112 504l0-448 392 224-392 224"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}p3e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var h3e=p3e,f3e=Xf.a.createElement,g3e=hv()(h3e,{});var v3e=function(e){var t=e.playLabel,n=void 0===t?Object(Xn.default)("Play"):t,r=wt()(e,["playLabel"]);return f3e(x1,dv()({tooltip:n,"data-qa-id":"toolbarPlay"},r),g3e)};function m3e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-shuffle-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m448 441l-44.423 0c-65.833 0-103.843-28.598-141.383-96.109 5.44-10.89 10.99-22.734 16.727-35.594 3.556-7.986 4.181-9.387 5.622-12.617 36.245 74.928 65.419 102.32 119.034 102.32l44.423 0 0-77 112 98-112 98 0-77m0-322l0-77 112 98-112 98 0-77-44.423 0c-59.257 0-88.657 33.459-130.747 127.573-1.427 3.191-3.342 7.493-6.695 15.02-44.459 99.657-75.473 137.407-142.558 137.407l-95.577 0 0-42 95.577 0c43.602 0 66.367-27.71 104.202-112.518 3.333-7.485 5.267-11.827 6.711-15.055 48.4-108.225 87.24-152.427 169.087-152.427l44.423 0m-324.423 0c56.809 0 87.751 27.071 122.897 95.883-7.743 14.34-15.519 30.301-23.497 48.005-35.031-76.511-57.674-101.888-99.4-101.888l-95.577 0 0-42 95.577 0"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}m3e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var y3e=m3e,b3e=Xf.a.createElement,S3e=hv()(y3e,{});var I3e=function(e){return b3e(x1,dv()({tooltip:Object(Xn.default)("Shuffle"),"data-qa-id":"toolbarShuffle"},e),S3e)},C3e=Xf.a.createElement,M3e=hv()(PVe,{});var D3e=function(e){return C3e(x1,dv()({tooltip:Object(Xn.default)("Sync"),"data-qa-id":"toolbarSync"},e),M3e)};function w3e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-played-toggle-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280,518 C148.556,518 42,411.444 42,280 C42,148.556 148.556,42 280,42 C411.444,42 518,148.556 518,280 C518,411.444 411.444,518 280,518 Z M280,476 C388.248,476 476,388.248 476,280 C476,171.752 388.248,84 280,84 C171.752,84 84,171.752 84,280 C84,388.248 171.752,476 280,476 Z M267.373,395.87 L158.254,332.87 L179.254,296.497 L252,338.497 L350,168.756 L386.373,189.756 L267.373,395.87 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}w3e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var P3e=w3e,T3e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMenuButtonPress=function(e){r.setState({isMenuOpen:!r.state.isMenuOpen})},r.onMenuClose=function(){r.setState({isMenuOpen:!1})},r.state={isMenuOpen:!1},r._toolbarMenuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.showMarkPlayed,n=e.showMarkUnplayed,r=e.onMarkPlayedPress,i=e.onMarkUnplayedPress,a=this.state.isMenuOpen;return hv()(d3e,{id:this._toolbarMenuButtonID,iconComponent:P3e,label:Object(Xn.default)("Toggle Played..."),isMenuOpen:a,onPress:this.onMenuButtonPress},void 0,hv()(zT,{target:this._toolbarMenuButtonID,isOpen:a,onMenuClose:this.onMenuClose},void 0,t?hv()(hI,{onPress:JA(this.onMenuClose,r)},void 0,Object(Xn.default)("Mark as Played")):null,n?hv()(hI,{onPress:JA(this.onMenuClose,i)},void 0,Object(Xn.default)("Mark as Unplayed")):null))},t}(Xf.a.Component),E3e=n(644),x3e=n.n(E3e),O3e=Xf.a.createElement,j3e=Xf.a.Component,A3e=parseInt(yQ.a.toolbarButtonWidth,10);function N3e(e,t){return e.filter(function(e){return!!t[e]})}var k3e=function(e,t,n){var r=function(r){function i(e,t){var n;return(n=r.call(this,e,t)||this).onMeasure=function(e){var t=e.width;n.setState({isMeasured:!0,width:t})},n.state={isMeasured:!1},n}return Sy()(i,r),i.prototype.render=function(){var r=this.state,i=r.isMeasured,a=r.width,o={};return i&&(o=function(e,t,n,r){var i=Math.floor(n/r),a={showOverflow:i<e.length||t.length>0},o=i-(a.showOverflow?1:0);return e.forEach(function(e){a[e]=o-- >0,a[e]||(a[e+"Overflow"]=!0)}),a}(N3e(t,this.props),N3e(n,this.props),a,A3e)),hv()(XA,{className:x3e.a.toolbarContainer,ignoreHeight:!0,ignorePosition:!0,onMeasure:this.onMeasure},void 0,i?O3e(e,dv()({className:x3e.a.toolbar},this.props,o)):null)},i}(j3e);return r.displayName="MeasuredPageHeaderToolbar("+Object(vE.a)(e)+")",r.WrappedComponent=e,r};function L3e(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-more-vertical-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 168c-30.897 0-56-25.103-56-56 0-30.896 25.103-56 56-56s56 25.104 56 56c-.965 31.862-25.103 56-56 56zm56 112c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56zm0 168c0 30.897-25.103 56-56 56s-56-25.103-56-56 25.103-56 56-56 56 25.103 56 56z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}L3e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var R3e=L3e,_3e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAddToPlaylistPress=function(){r.setState({isAddToPlaylistModalOpen:!0})},r.onAddToPlaylistClose=function(){r.setState({isAddToPlaylistModalOpen:!1}),r.props.onMenuClose()},r.state={isAddToPlaylistModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=this.state.isAddToPlaylistModalOpen;return hv()("div",{},void 0,e.showPlay?hv()(hI,{onPress:JA(e.onMenuClose,e.onPlaySelectedPress)},void 0,Object(Xn.default)("Play")):null,e.showShuffle?hv()(hI,{onPress:JA(e.onMenuClose,e.onShufflePress)},void 0,Object(Xn.default)("Shuffle")):null,e.showQueue?hv()(hI,{onPress:JA(e.onMenuClose,e.onPlaySelectedNextPress)},void 0,Object(Xn.default)("Play Next")):null,e.showQueue?hv()(hI,{onPress:JA(e.onMenuClose,e.onAddToQueuePress)},void 0,Object(Xn.default)("Add to Queue")):null,e.showAddToAlbum?hv()(hI,{onPress:this.onAddToPlaylistPress},void 0,Object(Xn.default)("Add to Album...")):null,e.showAddToPlaylist?hv()(hI,{onPress:this.onAddToPlaylistPress},void 0,Object(Xn.default)("Add to Playlist...")):null,e.showFavorite?hv()(hI,{onPress:JA(e.onMenuClose,e.onFavoritePress)},void 0,Object(Xn.default)("Add to Favorites")):null,e.showUnfavorite?hv()(hI,{onPress:JA(e.onMenuClose,e.onUnfavoritePress)},void 0,Object(Xn.default)("Remove from Favorites")):null,e.showMarkPlayed?hv()(hI,{onPress:JA(e.onMenuClose,e.onMarkPlayedPress)},void 0,Object(Xn.default)("Mark as Played")):null,e.showMarkUnplayed?hv()(hI,{onPress:JA(e.onMenuClose,e.onMarkUnplayedPress)},void 0,Object(Xn.default)("Mark as Unplayed")):null,e.showEdit?hv()(hI,{onPress:JA(e.onMenuClose,e.onEditPress)},void 0,Object(Xn.default)("Edit")):null,e.showRefresh?hv()(hI,{onPress:JA(e.onMenuClose,e.onRefreshPress)},void 0,Object(Xn.default)("Refresh Metadata")):null,e.showAnalyze?hv()(hI,{onPress:JA(e.onMenuClose,e.onAnalyzePress)},void 0,Object(Xn.default)("Analyze")):null,e.showMerge?hv()(hI,{onPress:JA(e.onMenuClose,e.onMergePress)},void 0,Object(Xn.default)("Merge")):null,e.showSync?hv()(hI,{onPress:JA(e.onMenuClose,e.onSyncPress)},void 0,Object(Xn.default)("Sync...")):null,e.showOptimize?hv()(hI,{onPress:JA(e.onMenuClose,e.onOptimizePress)},void 0,Object(Xn.default)("Optimize...")):null,e.showDelete?hv()(hI,{kind:a.DANGER,onPress:JA(e.onMenuClose,e.onDeletePress)},void 0,Object(Xn.default)("Delete")):null,e.showRemove?hv()(hI,{onPress:JA(e.onMenuClose,e.onDeletePress)},void 0,Object(Xn.default)("Remove")):null,e.showAddToAlbum||e.showAddToPlaylist?hv()(Oge,{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,isOpen:t,onModalClose:this.onAddToPlaylistClose}):null)},t}(Xf.a.Component),U3e=Xf.a.createElement;var z3e=function(e){var t=e.target,n=e.isOpen,r=wt()(e,["target","isOpen"]);return hv()(zT,{target:t,isOpen:n,onMenuClose:e.onMenuClose},void 0,U3e(_3e,r))},F3e=Xf.a.createElement,B3e=Xf.a.Component;function H3e(e){return 1===e?Object(Xn.default)("Are you sure you want to mark this item as played?"):Object(Xn.default)("Are you sure you want to mark these {selectedItemsCount} items as played?",{selectedItemsCount:e})}function V3e(e){return 1===e?Object(Xn.default)("Are you sure you want to mark this item as unplayed?"):Object(Xn.default)("Are you sure you want to mark these {selectedItemsCount} items as unplayed?",{selectedItemsCount:e})}function Q3e(e){var t=e.selectedItemsCount,n=e.activeSelectionType,r=1===t;return e.showRemove?r?Object(Xn.default)("Are you sure you want to remove this item?"):Object(Xn.default)("Are you sure you want to remove these {selectedItemsCount} items?",{selectedItemsCount:t}):n===nr.j?r?Object(Xn.default)("Are you sure you want to delete this playlist?"):Object(Xn.default)("Are you sure you want to delete these {selectedItemsCount} playlists?",{selectedItemsCount:t}):n===nr.d?r?Object(Xn.default)("Are you sure you want to delete this collection?"):Object(Xn.default)("Are you sure you want to delete these {selectedItemsCount} collections?",{selectedItemsCount:t}):r?Object(Xn.default)("Are you sure you want to delete this item from your filesystem?"):Object(Xn.default)("Are you sure you want to delete these {selectedItemsCount} items from your filesystem?",{selectedItemsCount:t})}var W3e=hv()(Dke,{}),G3e=hv()(Pke,{}),Y3e=k3e(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlaySelectedShortcut=function(){var e=r.props,t=e.showPlay,n=e.showPlayOverflow,i=e.onPlaySelectedPress;(t||n)&&i()},r.onToggleWatchedShortcut=function(){var e=r.props,t=e.showMarkPlayed,n=e.showMarkUnplayed;t?r.setState({isConfirmMarkPlayedModalOpen:!0}):n&&r.setState({isConfirmMarkUnplayedModalOpen:!0})},r.onEditShortcut=function(){var e=r.props,t=e.showEdit,n=e.showEditOverflow,i=e.onEditPress;(t||n)&&i()},r.onActionsPress=function(e){r.setState({isActionsMenuOpen:!r.state.isActionsMenuOpen})},r.onActionsMenuClose=function(){r.setState({isActionsMenuOpen:!1})},r.onMarkPlayedPress=function(e){r.setState({isConfirmMarkPlayedModalOpen:!0})},r.onMarkUnplayedPress=function(e){r.setState({isConfirmMarkUnplayedModalOpen:!0})},r.onMarkPlayedConfirm=function(){r.setState({isConfirmMarkPlayedModalOpen:!1}),r.props.onMarkPlayedConfirm()},r.onMarkPlayedCancel=function(){r.setState({isConfirmMarkPlayedModalOpen:!1})},r.onMarkUnplayedConfirm=function(){r.setState({isConfirmMarkUnplayedModalOpen:!1}),r.props.onMarkUnplayedConfirm()},r.onMarkUnplayedCancel=function(){r.setState({isConfirmMarkUnplayedModalOpen:!1})},r.onDeletePress=function(e){r.setState({isConfirmDeleteModalOpen:!0})},r.onDeleteConfirm=function(e){r.setState({isConfirmDeleteModalOpen:!1}),r.props.onDeleteConfirm()},r.onDeleteCancel=function(){r.setState({isConfirmDeleteModalOpen:!1})},r.onAddToPlaylistPress=function(){r.setState({isAddToPlaylistModalOpen:!0})},r.onAddToPlaylistClose=function(){r.setState({isAddToPlaylistModalOpen:!1})},r.state={isActionsMenuOpen:!1,isConfirmMarkPlayedModalOpen:!1,isConfirmMarkUnplayedModalOpen:!1,isConfirmDeleteModalOpen:!1,isAddToPlaylistModalOpen:!1},r._moreButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){z.a.on("shortcut:playSelected",this.onPlaySelectedShortcut),z.a.on("shortcut:toggleWatched",this.onToggleWatchedShortcut),z.a.on("shortcut:edit",this.onEditShortcut)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentWillUnmount=function(){z.a.off("shortcut:playSelected",this.onPlaySelectedShortcut),z.a.off("shortcut:toggleWatched",this.onToggleWatchedShortcut),z.a.off("shortcut:edit",this.onEditShortcut)},n.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.selectedItemsCount,o=e.showPlay,s=e.showPlayOverflow,l=e.showShuffle,c=e.showShuffleOverflow,u=e.showAddToAlbum,d=e.showAddToAlbumOverflow,p=e.showAddToPlaylist,h=e.showAddToPlaylistOverflow,f=e.showFavorite,g=e.showFavoriteOverflow,v=e.showUnfavorite,m=e.showUnfavoriteOverflow,y=e.showTogglePlayed,b=e.showTogglePlayedOverflow,S=e.showMarkPlayed,I=e.showMarkUnplayed,C=e.showEdit,M=e.showEditOverflow,D=e.showSync,w=e.showSyncOverflow,P=e.showOverflow,T=e.onPlaySelectedPress,E=e.onShufflePress,x=e.onFavoritePress,O=e.onUnfavoritePress,j=e.onEditPress,A=e.onSyncPress,N=this.state,k=N.isActionsMenuOpen,L=N.isConfirmMarkPlayedModalOpen,R=N.isConfirmMarkUnplayedModalOpen,_=N.isConfirmDeleteModalOpen,U=N.isAddToPlaylistModalOpen;return hv()("div",{className:t},void 0,o?hv()(v3e,{playLabel:Object(Xn.default)("Play Selected"),onPress:T}):null,l?hv()(I3e,{onPress:E}):null,u?hv()(t3e,{onPress:this.onAddToPlaylistPress}):null,p?hv()(i3e,{onPress:this.onAddToPlaylistPress}):null,f?hv()(x1,{"data-qa-id":"toolbarFavorite",tooltip:Object(Xn.default)("Add to Favorites"),onPress:x},void 0,W3e):null,v?hv()(x1,{"data-qa-id":"toolbarUnfavorite",tooltip:Object(Xn.default)("Remove from Favorites"),onPress:O},void 0,G3e):null,y?hv()(T3e,{showMarkPlayed:S,showMarkUnplayed:I,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress}):null,C?hv()(c3e,{onPress:j}):null,D?hv()(D3e,{onPress:A}):null,P?hv()(d3e,{id:this._moreButtonID,iconComponent:R3e,label:Object(Xn.default)("More..."),isMenuOpen:k,onPress:this.onActionsPress}):null,F3e(z3e,dv()({},this.props,{target:this._moreButtonID,isOpen:k,showPlay:s,showShuffle:c,showAddToAlbum:d,showAddToPlaylist:h,showFavorite:g,showUnfavorite:m,showMarkPlayed:b&&S,showMarkUnplayed:b&&I,showEdit:M,showSync:w,onMenuClose:this.onActionsMenuClose,onMarkPlayedPress:this.onMarkPlayedPress,onMarkUnplayedPress:this.onMarkUnplayedPress,onDeletePress:this.onDeletePress})),hv()(mK,{isOpen:L,metricsPage:"confirmMarkAsWatched",title:Object(Xn.default)("Mark as Played"),message:H3e(i),onConfirm:this.onMarkPlayedConfirm,onCancel:this.onMarkPlayedCancel}),hv()(mK,{isOpen:R,metricsPage:"confirmMarkAsUnwatched",title:Object(Xn.default)("Mark as Unplayed"),message:V3e(i),onConfirm:this.onMarkUnplayedConfirm,onCancel:this.onMarkUnplayedCancel}),hv()(mK,{isOpen:_,metricsPage:"confirmDelete",kind:a.DANGER,title:this.props.showRemove?Object(Xn.default)("Remove"):Object(Xn.default)("Delete"),message:Q3e(this.props),onConfirm:this.onDeleteConfirm,onCancel:this.onDeleteCancel}),u||p?hv()(Oge,{serverEntityID:n,providerEntityID:r,isOpen:U,onModalClose:this.onAddToPlaylistClose}):null)},t}(B3e),["showPlay","showShuffle","showAddToAlbum","showAddToPlaylist","showFavorite","showUnfavorite","showTogglePlayed","showEdit","showSync","showSyncDownload"],["showRefresh","showAnalyze","showMerge","showOptimize","showDelete"]);var K3e=iZ(function(){return Object(Iy.createSelector)(Object(Iy.createSelector)(My,function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=qS(e[i])}return t}),Object(Iy.createSelector)(ek,function(e){for(var t={},n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];t[i]=Tse(e[i])}return t}),Object(Iy.createSelector)($N,_fe,function(e,t){return t.activeSelectionItems.map(function(t){return e[t.model]})}),_fe,sse,function(e,t,n,r,i){var a=r.activeSelectionType,o=Z4e(i,n.map(function(n){return{model:n,provider:t[n.providerEntityID],server:e[n.serverEntityID]}}),a),s=o.showMarkPlayed||o.showMarkUnplayed;return Object.assign({activeSelectionType:a,showTogglePlayed:s},o)})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlaySelectedPress:function(){e(rfe(n))},onShufflePress:function(){e(hfe(n))},onPlaySelectedNextPress:function(){e(mfe(n))},onAddToQueuePress:function(){e(vfe(n))},onFavoritePress:function(){e(ife(n))},onUnfavoritePress:function(){e(afe(n))},onMarkPlayedConfirm:function(){e(ffe(n))},onMarkUnplayedConfirm:function(){e(gfe(n))},onEditPress:function(){e(ofe(n))},onRefreshPress:function(){e(sfe(n))},onAnalyzePress:function(){e(lfe(n))},onMergePress:function(){e(dfe(n))},onSyncPress:function(){e(cfe(n))},onOptimizePress:function(){e(ufe(n))},onDeleteConfirm:function(){e(pfe(Object.assign({},n,{options:{skipRedirect:!t.allowRedirectOnDelete}})))},onDeselectAllPress:function(){e(Jhe(n))}}})(Y3e),q3e=n(333),Z3e=n.n(q3e),X3e=Xf.a.createElement;function J3e(e){var t=e.selectedItemsCount,n=e.toolbarComponent,r=e.onDeselectAllPress,i=wt()(e,["selectedItemsCount","toolbarComponent","onDeselectAllPress"]);return hv()(V4e,{className:Z3e.a.multiSelectPageHeader},void 0,hv()(_1,{},void 0,hv()("div",{className:Z3e.a.selectedTitle},void 0,hv()(SI,{className:Z3e.a.icon}),1===t?Object(Xn.default)("1 item selected"):Object(Xn.default)("{selectedItemsCount} items selected",{selectedItemsCount:t})),hv()(RS,{className:Z3e.a.deselectLink,onPress:r},void 0,hv()(US,{className:Z3e.a.icon}),Object(Xn.default)("Deselect All"))),hv()(B1,{},void 0,X3e(n,dv()({selectedItemsCount:t},i))))}J3e.defaultProps={toolbarComponent:K3e,allowRedirectOnDelete:!1};var $3e=J3e;var e5e=iZ(function(){return Object(Iy.createSelector)(_fe,function(e){return{selectedItemsCount:e.activeSelectionItems.length}})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onDeselectAllPress:function(){e(Jhe(n))}}})($3e),t5e=Object(Iy.createSelector)(_fe,function(e){return e.activeSelectionItems[0]}),n5e=Object(Iy.createSelector)($N,t5e,function(e,t){return t&&e[t.model]}),r5e=iZ(Object(Iy.createSelector)(n5e,function(e){void 0===e&&(e={});var t=e;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID}}))(e5e),i5e=n(1048),a5e=n.n(i5e);var o5e=function(e){var t=e.children;return hv()("div",{className:a5e.a.container},void 0,t)},s5e=n(1049),l5e=n.n(s5e);function c5e(e){var t=e.className;return hv()("div",{className:t})}c5e.defaultProps={className:l5e.a.pageHeaderDivider};var u5e=c5e,d5e=n(506),p5e=n.n(d5e);var h5e=function(e){var t=e.title,n=e.detail,r=e.route,i=r?RS:"div";return hv()(i,{className:p5e.a.container,to:r},void 0,hv()("div",{className:p5e.a.title},void 0,t),n?hv()("div",{className:p5e.a.detail},void 0,n):null)};function f5e(e,t){return t?e+"-"+t:e}function g5e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-column-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m504 504h-448v-44.8h448v44.8m-448-156.8h448v44.8h-448v-44.8m448-112v44.8h-448v-44.8h448m0-67.2h-448v-112h448v112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}g5e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var v5e=g5e;function m5e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-detail-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m56 168h112v-112h-112v112m0 168h112v-112h-112v112m0 168h112v-112h-112v112m168-369.6h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8m0 168h280v-44.8h-280v44.8"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}m5e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var y5e=m5e;function b5e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-grid-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m56 392l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m280 0l0 112-112 0 0-112 112 0m-448-168l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m168 0l112 0 0 112-112 0 0-112m-336-168l112 0 0 112-112 0 0-112m336 0l112 0 0 112-112 0 0-112m-168 0l112 0 0 112-112 0 0-112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}b5e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var S5e=b5e,I5e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onListStylePress=function(e){t.props.onListStylePress(t.props.listStyle)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isSelected,n=e.title;return hv()(MI,{isSelected:t,onPress:this.onListStylePress},void 0,n)},t}(Xf.a.Component),C5e=n(334),M5e=n.n(C5e);var D5e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSliderChange=function(e){var t=e.steppedValue;r.setState({sliderValue:t}),r._clearTimeout(),r._columnAdjustmentTimeoutID=setTimeout(function(){r.props.onColumnAdjustmentChange(-1*t)},r.props.columnAdjustmentTimeout)},r.onStylesPress=function(e){r.setState({isStylesMenuOpen:!r.state.isStylesMenuOpen})},r.onStylesMenuClose=function(){r.setState({isStylesMenuOpen:!1})},r.onListStylePress=function(e){r.props.onListStyleChange(e),r.onStylesMenuClose()},r.state={sliderValue:-1*t.columnAdjustment,isStylesMenuOpen:!1},r._stylesButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){e.columnAdjustment!==this.props.columnAdjustment&&this.setState({sliderValue:-1*e.columnAdjustment})},n.componentWillUnmount=function(){this._clearTimeout()},n._clearTimeout=function(){this._columnAdjustmentTimeoutID&&clearTimeout(this._columnAdjustmentTimeoutID)},n.render=function(){var e,t=this,n=this.props,r=(n.listType,n.listContext,n.selectedListStyle),a=n.allListStyles,o=this.state,s=o.sliderValue,l=o.isStylesMenuOpen,c=fh,u=gh,d=mh,p=vh,h=[{listStyle:hh,title:Object(Xn.default)("Grid View")},{listStyle:c,title:Object(Xn.default)("Mosaic View")},{listStyle:u,title:Object(Xn.default)("List View")},{listStyle:d,title:Object(Xn.default)("Summary View")},{listStyle:p,title:Object(Xn.default)("Summary View")}],f=bh(r),g=Sh(a),v=(e=r)===gh?v5e:e===mh||e===vh?y5e:S5e;return f||g?hv()("div",{className:M5e.a.stylesContainer},void 0,f?hv()(AW,{className:M5e.a.slider,label:Object(Xn.default)("Poster Size"),value:s,min:-1,max:2,stepSize:1,onChange:this.onSliderChange}):null,hv()(RS,{id:this._stylesButtonID,"data-qa-id":"toolbarView",className:g?M5e.a.stylesButtonWithArrow:M5e.a.stylesButton,"aria-label":Object(Xn.default)("Show List Styles"),isDisabled:!g,onPress:this.onStylesPress},void 0,hv()(v,{className:M5e.a.stylesIcon}),g?hv()(TI,{direction:l?i.UP:i.DOWN}):null),g?hv()(zT,{target:this._stylesButtonID,isOpen:l,onMenuClose:this.onStylesMenuClose},void 0,h.map(function(e){var n=e.listStyle,i=e.title;return a.indexOf(n)>-1&&hv()(I5e,{isSelected:r===n,title:i,listStyle:n,onListStylePress:t.onListStylePress},n)})):null):null},t}(Xf.a.Component);D5e.defaultProps={selectedListStyle:hh,allListStyles:[hh],allListStyleActions:[],columnAdjustmentTimeout:500};var w5e=D5e,P5e=Xf.a.createElement,T5e=Xf.a.Component,E5e=Object(Iy.createSelector)(Py,function(e){return{columnAdjustment:e.columnAdjustment,listStyles:e.listStyles}}),x5e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onColumnAdjustmentChange=function(e){Object(No.a)(function(){t.props.saveExperienceSettings({columnAdjustment:e})})},t.onListStyleChange=function(e){var n,r,i=t.props,a=i.listStyles,o=i.listType,s=i.listSubtype,l=i.listContext,c=f5e(o,s),u=Object.assign({},a,((r={})[l]=Object.assign({},a[l]||{},((n={})[c]=e,n)),r));Object(No.a)(function(){t.props.saveExperienceSettings({listStyles:u})})},t}return Sy()(t,e),t.prototype.render=function(){return P5e(w5e,dv()({},this.props,{onColumnAdjustmentChange:this.onColumnAdjustmentChange,onListStyleChange:this.onListStyleChange}))},t}(T5e),O5e=Lm(function(e){return E5e},{saveExperienceSettings:Wo})(x5e),j5e=n(271),A5e=n.n(j5e),N5e=hv()(cE,{});function k5e(e,t){var n=e.className,r=e.sourceTitle,i=e.title,a=e.style,o=e.isRemoved,s=e.connectDragSource,l=e.onToggleRemoveHomeHub;return hv()("div",{className:(n||"")+" "+(o&&A5e.a.isRemoved||""),style:a},void 0,s(hv()("div",{},void 0,hv()(qze,{className:A5e.a.iconReorder}))),hv()("span",{className:A5e.a.label},void 0,hv()("span",{className:A5e.a.title},void 0,i),r?N5e:null,r||null),hv()(gwe,{className:A5e.a.toggleButton,isRemovable:!o,tooltip:o?Object(Xn.default)("Restore"):Object(Xn.default)("Remove"),onPress:l}))}k5e.defaultProps={className:A5e.a.listItem,isRemoved:!1,connectDragSource:function(e){return e}};var L5e=k5e;var R5e=Lm(function(){return Object(Iy.createSelector)(B2e(),F2e(),function(e,t){return{title:e,sourceTitle:t}})},function(e,t){return{onToggleRemoveHomeHub:function(){t.onToggleRemoveHomeHub(t.homeHubID)}}})(L5e);R5e.propTypes=Object.assign({},R5e.propTypes,{homeHubID:Dp.a.string.isRequired});var _5e=R5e,U5e=n(1050),z5e=n.n(U5e),F5e=Xf.a.createElement,B5e=Xf.a.Component,H5e=parseInt(mQ.homeServerListItemHeight,10);var V5e=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.style;if(!t||!n)return null;t.listHeight,t.listWidth,t.listTop,t.listRight,t.listBottom,t.listLeft;var r=wt()(t,["listHeight","listWidth","listTop","listRight","listBottom","listLeft"]);return hv()(Rze,{},void 0,F5e(_5e,dv()({},r,{style:n,className:z5e.a.listItem})))},t}(B5e),Q5e=Object(Dze.DragLayer)(function(e,t){var n=e.getItem(),r={item:n,style:null},i=e.getInitialSourceClientOffset(),a=e.getSourceClientOffset();if(e.getItemType()===_ze&&i&&a){var o=a.y;o-n.listTop<=0?o=n.listTop:o+H5e>=n.listBottom&&(o=n.listBottom-H5e),r.style=TXe({x:i.x,y:o},n.listWidth)}return r})(V5e),W5e=n(645),G5e=n.n(W5e),Y5e=Xf.a.createElement,K5e={hover:function(e,t,n){var r,i=t.getClientOffset(),a=Object(Fv.findDOMNode)(n).getBoundingClientRect(),o=(a.bottom-a.top)/2,s=i.y-a.top,l=t.getItem().dragIndex,c=e.listIndex;r=c===l?c:s>o?c+1:c,e.onItemDragMove({dragIndex:l,dropIndex:r})}};var q5e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.render=function(){var e=this.props,t=e.isOver,n=e.isDragging,r=(e.listIndex,e.dropIndex,e.listHeight,e.listWidth,e.listTop,e.listRight,e.listBottom,e.listLeft,e.isDraggingBefore),i=e.isDraggingAfter,a=e.connectDropTarget,o=wt()(e,["isOver","isDragging","listIndex","dropIndex","listHeight","listWidth","listTop","listRight","listBottom","listLeft","isDraggingBefore","isDraggingAfter","connectDropTarget"]);return a(hv()("div",{className:(G5e.a.container||"")+" "+(t&&G5e.a.isOver||"")+" "+(n?"isDragging":"")+" "+(t&&r?"isDraggingBefore":"")+" "+(t&&i?"isDraggingAfter":"")},void 0,Y5e(_5e,o)))},t}(Xf.a.Component),Z5e=Object(Dze.DropTarget)(_ze,K5e,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Dze.DragSource)(_ze,{beginDrag:function(e,t,n){var r=e.homeHubID;return{dragIndex:e.listIndex,homeHubID:r,isRemoved:e.isRemoved,listHeight:e.listHeight,listWidth:e.listWidth,listTop:e.listTop,listRight:e.listRight,listBottom:e.listBottom,listLeft:e.listLeft}},endDrag:function(e,t,n){e.onItemDragEnd({didDrop:t.didDrop()})}},function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(q5e)),X5e=n(646),J5e=n.n(X5e),$5e=Xf.a.createElement,e6e=Xf.a.Component,t6e=-1,n6e={dragIndex:-1,dropIndex:t6e,hasValidDropTarget:!1},r6e=hv()(WP,{},void 0,hv()(Q5e,{})),i6e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onItemDragMove=function(e){var t=e.dragIndex,n=e.dropIndex,i=r.state,a=i.dragIndex,o=i.dropIndex,s=n!==o?n:o,l=t!==a?t:a;if((s===l||s>l&&s-l==1)&&(s=t6e),l!==a||s!==o){var c={dragIndex:l,dropIndex:s,hasValidDropTarget:s!==t6e};r.setState(c)}},r.onItemDragEnd=function(e){var t,n=r.state,i=n.dragIndex,a=n.dropIndex;e.didDrop&&a!==t6e&&(t=function(){r.props.onReorderHomeHub({fromIndex:i,toIndex:a>i?a-1:a})}),r.setState(n6e,t)},r.onMeasure=function(e){var t=e.height,n=e.width,i=e.x,a=e.y;r.setState({listHeight:t,listWidth:n,listTop:a,listRight:i+n,listBottom:a+t,listLeft:i})},r.state=Object.assign({},n6e,{listHeight:0,listWidth:0,listTop:0,listRight:0,listBottom:0,listLeft:0}),r}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.className,r=t.homeHubs,i=t.removedHomeHubIDs,a=t.onToggleRemoveHomeHub,o=this.state,s=o.dropIndex,l=o.hasValidDropTarget;return hv()(XA,{className:n,ignoreTransforms:!0,onMeasure:this.onMeasure},void 0,hv()(oT,{className:J5e.a.scroller,scrollDirection:Xp},void 0,r.map(function(t,n){var r=t.id,o=n,c=l&&s===o,u=l&&s===o+1;return $5e(Z5e,dv()({},e.state,{key:r,homeHubID:r,listIndex:o,hasValidDropTarget:l,isRemoved:!!i[r],isDraggingAfter:u,isDraggingBefore:c,onItemDragMove:e.onItemDragMove,onItemDragEnd:e.onItemDragEnd,onToggleRemoveHomeHub:a}))}),r6e))},t}(e6e);i6e.defaultProps={className:J5e.a.container};var a6e=Tze(i6e),o6e=n(85),s6e=n.n(o6e),l6e=Xf.a.Component,c6e=Xf.a.Fragment,u6e=1,d6e=2,p6e=3;function h6e(e){return{mode:e,isEditing:e===u6e,isEmpty:e===d6e,isResettingCustomization:e===p6e}}function f6e(e){var t=h6e(e.homeHubs.length?u6e:d6e);return t.editableHomeHubs=e.homeHubs,t.homeHubs=e.homeHubs,t.removedHomeHubIDs={},t}var g6e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSaveButtonPress=function(){var e=r.state,t=e.editableHomeHubs,n=e.removedHomeHubIDs,i=t.reduce(function(e,t){return t.id in n||e.push(t.id),e},[]);r.props.onReorderHomeHubs({isUserInitiated:!0,homeHubIDs:i.concat(r.props.hiddenHomeHubIDs)}),r.props.onModalClose()},r.onCancelButtonPress=function(){r.props.onModalClose()},r.onBackButtonPress=function(){var e=h6e(r.state.editableHomeHubs.length?u6e:d6e);r.setState(e)},r.onResetCustomizationLinkPress=function(){var e=h6e(p6e);r.setState(e)},r.onToggleRemoveHomeHub=function(e){var t=r.state.removedHomeHubIDs,n=Object.assign({},t);e in n?delete n[e]:n[e]=e,r.setState({removedHomeHubIDs:n})},r.onReorderHomeHub=function(e){var t=e.fromIndex,n=e.toIndex;if(t!==n){var i=r.state.editableHomeHubs;r.setState({editableHomeHubs:vXe(i,t,n)})}},r.state=f6e(t),r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return e.homeHubs!==t.homeHubs?f6e(e):null},t.prototype.render=function(){var e=this.props,t=e.settingsKey,n=e.onResetCustomization,r=e.onModalClose,i=this.state,a=i.editableHomeHubs,o=i.isEditing,s=i.isEmpty,l=i.isResettingCustomization,c=i.removedHomeHubIDs,u=tt.prop("X-Plex-Product");return hv()(qN,{onModalClose:r},void 0,hv()(PN,{},void 0,o||s?Object(Xn.default)("Edit Home Screen"):null,l?Object(Xn.default)("Reset Customization"):null),hv()(CN,{className:s6e.a.modalBody,innerClassName:s6e.a.innerModalBody,scrollDirection:Zp},void 0,hv()("div",{className:(s6e.a.pane||"")+" "+((s?null:s6e.a.isHidden)||"")},void 0,hv()("p",{},void 0,Object(Xn.default)('Your home screen is currently empty. Click the "+" beside the title of any content row in a media source to add it to your home screen, or click "{buttonLabel}" below to reset your sidebar navigation and home screen layout to the default state, and revisit {productName} Setup.',{buttonLabel:Object(Xn.default)("Reset Customization"),productName:u}))),hv()("div",{className:(s6e.a.pane||"")+" "+(s6e.a.editPane||"")+" "+((o?null:s6e.a.isHidden)||"")},void 0,hv()("p",{},void 0,Object(Xn.default)("Drag to reorder the content hubs shown on your home screen, or remove them entirely. Only hubs with content in them will be visible on your home screen.")),hv()(a6e,{className:s6e.a.sortableServers,homeHubs:a,removedHomeHubIDs:c,onReorderHomeHub:this.onReorderHomeHub,onToggleRemoveHomeHub:this.onToggleRemoveHomeHub})),hv()("div",{className:(s6e.a.pane||"")+" "+((l?null:s6e.a.isHidden)||"")},void 0,hv()("p",{},void 0,Object(Xn.default)("You are about to reset your sidebar navigation and home screen layout to the default state. Youll be redirected to the {productName} Setup screen, where you can choose a server (if you have access to more than one) and other media providers from which to build your navigation and home screen content.",{productName:u})))),hv()(Q_,{className:s6e.a.footer},void 0,o?hv()(c6e,{},t,hv()(RS,{kind:Qp,onPress:this.onResetCustomizationLinkPress},void 0,hv()(IK,{className:s6e.a.reloadIcon}),Object(Xn.default)("Reset Customization")),hv()(I_,{className:s6e.a.splitButton,onPress:this.onCancelButtonPress},void 0,Object(Xn.default)("Cancel")),hv()(I_,{className:s6e.a.button,"data-autofocus":!0,kind:Qp,onPress:this.onSaveButtonPress},void 0,Object(Xn.default)("Save"))):null,s?hv()(c6e,{},void 0,hv()(RS,{kind:Qp,onPress:this.onResetCustomizationLinkPress},void 0,hv()(IK,{className:s6e.a.reloadIcon}),Object(Xn.default)("Reset Customization")),hv()(I_,{className:s6e.a.splitButton,"data-autofocus":!0,kind:Qp,onPress:this.onCancelButtonPress},void 0,Object(Xn.default)("Close"))):null,l?hv()(c6e,{},void 0,hv()(I_,{onPress:this.onBackButtonPress},void 0,Object(Xn.default)("Back")),hv()(I_,{className:s6e.a.splitButton,"data-autofocus":!0,onPress:this.onCancelButtonPress},void 0,Object(Xn.default)("Cancel")),hv()(I_,{kind:Gp,onPress:n},void 0,Object(Xn.default)("Reset Customization"))):null))},t}(l6e),v6e=Object(Iy.createSelector)(Cwe,function(e){var t=[],n=[];return e.hubs.forEach(function(e){e.isHidden?n.push(e.id):t.push(e)}),{homeHubs:t,hiddenHomeHubIDs:n,settingsKey:e.settingsKey}});var m6e=Lm(v6e,function(e){return{onReorderHomeHubs:function(t){e(Vo(t))},onResetCustomization:function(){e(eH({resetCustomization:!0}))}}})(g6e);var y6e=function(e){var t=e.isOpen,n=e.onModalClose;return hv()(VN,{size:qp.MEDIUM,isOpen:t,metricsPage:wa,onModalClose:n},void 0,hv()(m6e,{onModalClose:n}))},b6e=Xf.a.Component,S6e={isEditModalOpen:!1},I6e=hv()(u5e,{}),C6e=hv()(O5e,{}),M6e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onEditButtonPress=function(){r.setState({isEditModalOpen:!r.state.isEditModalOpen})},r.onModalClose=function(){r.setState(S6e)},r.state=S6e,r}return Sy()(t,e),t.prototype.render=function(){var e=this.state.isEditModalOpen;return hv()(V4e,{},void 0,hv()(_1,{},void 0,hv()(h5e,{title:Object(Xn.default)("Home")})),hv()(B1,{},void 0,hv()(o5e,{},void 0,hv()(c3e,{onPress:this.onEditButtonPress})),I6e,C6e,hv()(y6e,{isOpen:e,onModalClose:this.onModalClose})))},t}(b6e),D6e=Xf.a.useEffect,w6e=hv()(WZe,{},void 0,hv()(ZE.a,{})),P6e=hv()(r5e,{}),T6e=hv()(M6e,{});var E6e=function(e){var t=e.activeSelectionType,n=e.isPending,r=e.preferredServerID,i=e.settingsKey,a=e.shouldFetchPreferredServerContent,o=e.shouldFetchProviderPromotedContent,s=e.shouldFetchHomeContent,l=e.dispatchInitHomePage,c=e.dispatchResetHomePage,u=e.dispatchFetchPreferredServerContent,d=e.dispatchFetchProviderPromotedContent,p=e.dispatchFetchHomeContent;return D6e(function(){return l(),c},[]),D6e(function(){a&&u()},[a,u]),D6e(function(){o&&d()},[o,d]),D6e(function(){s&&p()},[s,p]),n?w6e:hv()(N2e,{machineIdentifier:r},void 0,hv()(D1,{isMetricsDelegated:!0,metricsPage:wa,allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,t?P6e:T6e,hv()(U4e,{settingsKey:i})))},x6e=function(e){return e.isPopulated||e.error},O6e=Object(Iy.createSelector)(function(e){return e.ui.homePage},function(e){var t=e.homeHubStatuses;return e.isContentPopulated||t.length>0&&t.every(x6e)}),j6e=Object(Iy.createSelector)(function(e){return e.ui.homePage},Cwe,O6e,_fe,function(e,t,n,r){var i=e.isProviderPromotedContentPopulated,a=e.preferredServerContentError,o=e.providerPromotedContentError,s=t.preferredServerID,l=!!s,c=t.hasSeededPreferredServerContent||!!a,u=t.hasSeededProviderPromotedContent||i||!!o,d=l&&!c,p=!u,h=(!l||c)&&u&&!n;return{isPending:h||d||p,preferredServerID:s,settingsKey:t.settingsKey,shouldFetchHomeContent:h,shouldFetchPreferredServerContent:d,shouldFetchProviderPromotedContent:p,activeSelectionType:r.activeSelectionType}}),A6e=Lm(j6e,{dispatchInitHomePage:y2e,dispatchResetHomePage:M2e,dispatchFetchPreferredServerContent:I2e,dispatchFetchProviderPromotedContent:C2e,dispatchFetchHomeContent:b2e})(E6e),N6e=Xf.a.Fragment,k6e=hv()(Gq,{},void 0,hv()(ZE.a,{}));var L6e=function(e){var t=e.children;return e.isPending?k6e:hv()(N6e,{},void 0,t)},R6e=Xf.a.createElement,_6e=Xf.a.Component,U6e=Object(Iy.createSelector)(function(e){return e.isWaitingForServers},KKe,function(e,t){return{preferredServerEntityID:t&&t.entityID,isPending:!t&&e}}),z6e={dispatchChangeQuickSearchSettings:pse};function F6e(e,t){var n=e.preferredServerEntityID,r=e.dispatchChangeQuickSearchSettings;if(n!==t.preferredServerEntityID){var i=null,a=null,o=null;n&&(i=Cn.d,a=Object(Tr.a)(Er.l,i,n),o=n),r({providerEntityID:a,providerIdentifier:i,serverEntityID:o})}}var B6e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){F6e(this.props,{})},n.componentDidUpdate=function(e){F6e(this.props,e)},n.render=function(){var e=this.props,t=(e.preferredServerEntityID,e.dispatchChangeQuickSearchSettings,wt()(e,["preferredServerEntityID","dispatchChangeQuickSearchSettings"]));return R6e(L6e,t)},t}(_6e),H6e=Lm(U6e,z6e)(B6e),V6e=hv()(eXe,{},void 0,hv()(W0e,{}),hv()(H6e,{},void 0,hv()(A6e,{}))),Q6e=Rm.extend({component:function(e){var t=e.params||{};return hv()(i2e,{metricsContext:t.context},void 0,V6e)}}),W6e="boolean",G6e="other";var Y6e="([^&!=<>]+)("+iTe.sort(function(e,t){return t.length-e.length}).map(Vf).join("|")+")([^&]+)?",K6e=new RegExp(Y6e,"g"),q6e=new RegExp(Y6e),Z6e={unwatched:!0,unwatchedLeaves:!0,unmatched:!0,duplicate:!0,hdonly:!0,hdr:!0};function X6e(e){if(!e)return[];var t=decodeURIComponent(e).match(K6e);return t?t.reduce(function(e,t){var n=t.match(q6e),r=n[1],i=n[2],a=n[3],o=a?C.a.uniq(a.split(oTe)):"";return 1===o.length&&(o=o[0]),function(e,t,n){var r=[].concat(e);if(n.type===W6e){var i=C.a.findIndex(r,function(e){return e.key===t}),a=-1===i?0:i,o=Object.assign({key:t},n);-1===i?r.push(o):r.splice(a,1,o)}else C.a.findWhere(r,{key:t,value:n.value})||r.push(Object.assign({key:t},n));return r}(e,r,{value:o,type:Z6e[r]?W6e:G6e,operator:i})},[]):[]}function J6e(e,t){if(e&&e.pivots)return e.pivots.find(function(e){return e.key===t})}function $6e(){return Object(Iy.createSelector)(function(e,t){return t.directoryKey},GFe(),function(e,t){return J6e(t,e)})}var e8e=Object(Iy.createSelector)(Py,function(e){return e.lastSourcePivots});function t8e(){return Object(Iy.createSelector)(Dy(),Hk(),GFe(),e8e,function(e,t,n,r){if(n){var i=r[Ss(e.machineIdentifier,t.identifier,n.key||n.hubKey)];return n.pivots.find(function(e){return e.key===i})}})}function n8e(e,t,n,r){return Ss(e.machineIdentifier,t.identifier,n.key||n.hubKey,r.key)}var r8e=n(1051),i8e=n.n(r8e),a8e=Xf.a.createElement;var o8e=function(e){return a8e(WZe,dv()({iconClassName:i8e.a.icon,iconComponent:FR},e))};var s8e=function(){return hv()(o8e,{title:Object(Xn.default)("You must be lost"),description:Object(Xn.default)("We can't find the page you're looking for")},void 0,hv()(RS,{to:"#",kind:a.PRIMARY},void 0,Object(Xn.default)("Go Home")))},l8e=hv()(WZe,{},void 0,hv()(ZE.a,{})),c8e=hv()(s8e,{});var u8e=function(e){var t=e.isNotFound,n=e.isPending,r=e.children;return t?n?l8e:c8e:r};function d8e(e,t){return!e&&!t||C.a.isEqual(e,t)}var p8e={dispatchSavePivotParams:Ns},h8e=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.sourceDirectory,n=e.pivot,r=e.shouldSaveParams;t&&n&&r&&this._savePivotDefaultParams(this.props)},n.componentDidUpdate=function(e){var t=this.props,n=t.sourceDirectory,r=t.pivot,i=t.shouldSaveParams,a=t.params;n&&r&&i&&!d8e(e.params,a)&&this._savePivotDefaultParams(this.props)},n._savePivotDefaultParams=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.pivot,a=e.params,o=e.savedPivotParams,s=e.dispatchSavePivotParams;i&&!d8e(a,o)&&s({serverEntityID:t,providerEntityID:n,directoryKey:r.key||r.hubKey,pivotKey:i.key,params:a})},n.render=function(){var e=this.props,t=e.isNotFound,n=e.isPending,r=e.children;return hv()(u8e,{isNotFound:t,isPending:n},void 0,r)},t}(Xf.a.Component),f8e=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.sourceDirectoryKey},GFe(),$6e(),t8e(),Object(Iy.createSelector)(Dy(),Hk(),GFe(),$6e(),h0e,function(e,t,n,r,i){return n&&r&&i?i[n8e(e,t,n,r)]:null}),Object(Iy.createSelector)(Dy(),function(e){return e.isProvidersPending}),function(e,t,n,r,i,a){return{sourceDirectoryKey:e,sourceDirectory:t,pivot:n,lastSourcePivot:r,savedPivotParams:i,isNotFound:!(!e||t),isPending:!!a}})},p8e)(h8e);function g8e(){return Object(Iy.createSelector)(function(e,t){return t.serverEntityID},wpe,function(e,t){return!(!e||e!==t)})}var v8e=function(e){var t=e.friendlyName,n=e.isPending,r=e.onTryAgainPress;return hv()(WZe,{title:Object(Xn.default)('The server "{serverName}" is installing an update',{serverName:t}),description:Object(Xn.default)("Grab a cup of tea. This may take a couple of minutes.")},void 0,hv()(kV,{isSpinning:n,kind:Qp,onPress:r},void 0,Object(Xn.default)("Retry connection")))};var m8e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName,isPending:e.isPending}})},function(e,t){var n={serverEntityID:t.serverEntityID};return{onTryAgainPress:function(){e(Ag()),e(nc(n))}}})(v8e);var y8e=function(){return hv()(o8e,{title:Object(Xn.default)("No soup for you!"),description:Object(Xn.default)("You do not have access to this server")})},b8e=n(1052),S8e=n.n(b8e),I8e=Xf.a.Component,C8e=Xf.a.Fragment,M8e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAdvancedPress=function(){r.setState({isModalOpen:!0})},r.onModalClose=function(){r.setState({isModalOpen:!1})},r.state={isModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.title,r=e.description,i=e.modalComponent,a=this.state.isModalOpen;return hv()(WZe,{iconSrc:w8.a,title:n,description:hv()(C8e,{},void 0,hv()(AB,{message:Object(Xn.default)('Its "Secure connections" setting may be set to disabled, or you may need to adjust some settings on your network. You can {openLink}learn more about secure connections here{closeLink}.'),tags:[{open:"openLink",close:"closeLink",component:RS,to:"https://support.plex.tv/hc/en-us/articles/206225077-How-to-Use-Secure-Server-Connections",kind:Qp,target:"_blank"}]}))},void 0,hv()("div",{className:S8e.a.description},void 0,r),hv()(i,{isOpen:a,serverEntityID:t,onModalClose:this.onModalClose}),hv()(I_,{kind:Qp,onPress:this.onAdvancedPress},void 0,Object(Xn.default)("Allow Insecure Connections")))},t}(I8e);var D8e=function(e){var t=e.friendlyName,n=e.isPending,r=e.onTryAgainPress;return hv()(o8e,{title:t?Object(Xn.default)("{serverName} is currently unavailable",{serverName:t}):Object(Xn.default)("Server is currently unavailable"),description:hv()(AB,{message:Object(Xn.default)("Verify you have a network connection and that the server is online, or see our {openLink}troubleshooting{closeLink} tips for further assistance."),tags:[{open:"openLink",close:"closeLink",component:RS,kind:Qp,to:"https://help.plex.tv/noserver",target:"_blank"}]})},void 0,hv()(kV,{isSpinning:n,kind:Qp,onPress:r},void 0,Object(Xn.default)("Retry connection")))};var w8e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{friendlyName:e.friendlyName,shouldAllowInsecureRedirect:N8(e),shouldAllowInsecureFallback:k8(e),isPending:e.isPending}})},function(e,t){var n={serverEntityID:t.serverEntityID,metricsPage:t.metricsPage};return{onTryAgainPress:function(){e(Ag()),e(nc(n))}}})(function(e){var t=e.friendlyName,n=e.shouldAllowInsecureRedirect,r=e.shouldAllowInsecureFallback,i=e.isPending,a=e.onTryAgainPress;return n?hv()(M8e,{serverEntityID:e.serverEntityID,title:Object(Xn.default)('Unable to connect to "{serverName}" securely',{serverName:t}),description:Object(Xn.default)("You can also allow insecure connections now, which will reload the app insecurely."),modalComponent:M8}):r?hv()(M8e,{serverEntityID:e.serverEntityID,title:Object(Xn.default)('The server "{serverName}" does not allow secure connections',{serverName:t}),description:Object(Xn.default)("The app is loaded insecurely. You can attempt to use an insecure connection now."),modalComponent:I8}):hv()(D8e,{friendlyName:t,isPending:i,onTryAgainPress:a})}),P8e=Xf.a.useCallback;var T8e=function(e){var t=e.machineIdentifier,n=e.friendlyName,r=e.dispatchDismissUnclaimedServer,i=P8e(function(){Object(J.c)("metrics").trackClick({page:Aa,action:ra})},[]),a=P8e(function(){Object(J.c)("metrics").trackClick({page:Aa,action:ia}),r({machineIdentifier:t})},[t,r]);return hv()(o8e,{title:Object(Xn.default)("{friendlyName} server is unclaimed and not secure",{friendlyName:n}),description:Object(Xn.default)("Claiming this server will associate it with your Plex account. This helps your devices find each other and helps keep your media safe.")},void 0,hv()(I_,{kind:Qp,size:qp.LARGE,to:Rc(t,"settings","general"),onPress:i},void 0,Object(Xn.default)("Claim it now")),hv()(FZe,{},void 0,hv()(RS,{kind:Qp,size:qp.SMALL,onPress:a},void 0,Object(Xn.default)("Don't show this again"))))};var E8e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName}})},{dispatchDismissUnclaimedServer:Ng})(T8e);var x8e=function(e){var t,n=e.machineIdentifier,r=e.friendlyName,i=e.activeConnectionUri,a=e.shouldUseNewSettingsRoutes,o=e.isShared;r&&(t=Object(Xn.default)("The server {1} is out of date and cannot be used.",r)),t=t+" "+Object(Xn.default)("This version of Plex Web Client requires Plex Media Server {1} or higher.","1.3.0");var s="/web/index.html";return o||(s+=a?Rc(n,"settings","general"):"#!/settings/server"),hv()(o8e,{title:"Update your Plex Media Server",description:t},void 0,hv()(I_,{to:F.join([i,s]),target:"_self",kind:Qp,size:qp.LARGE},void 0,Object(Xn.default)("Open server directly")))};var O8e=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{machineIdentifier:e.machineIdentifier,friendlyName:e.friendlyName,activeConnectionUri:e.activeConnection.uri,shouldUseNewSettingsRoutes:yc(e.version,Cc.bundledWebAppNewSettingsRoutes),isShared:e.isShared}})})(x8e),j8e=hv()(WZe,{},void 0,hv()(ZE.a,{})),A8e=hv()(s8e,{}),N8e=hv()(y8e,{});var k8e=function(e){var t=e.serverEntityID,n=e.children,r=e.hasServer,i=e.showSpinner,a=e.machineIdentifier,o=e.isUnauthorized,s=e.isUnavailable,l=e.isOutOfDate,c=e.isUnclaimed,u=e.isInstallingServerUpdate;return i?j8e:r?u?hv()(m8e,{serverEntityID:t}):s?hv()(w8e,{serverEntityID:t}):l?hv()(O8e,{serverEntityID:t}):o?N8e:c?hv()(E8e,{serverEntityID:t}):hv()(N2e,{machineIdentifier:a},void 0,n):A8e};var L8e=Lm(function(){return Object(Iy.createSelector)(function(e){return e.isWaitingForServers},Dy(),g8e(),sXe,function(e,t,n,r){return t?{hasServer:!0,showSpinner:!t.isConnected&&!t.isUnauthorized&&!t.isUnavailable,machineIdentifier:t.machineIdentifier,isUnauthorized:t.isUnauthorized,isUnavailable:t.isUnavailable,isOutOfDate:t.isOutOfDate,isInstallingServerUpdate:t.isInstallingServerUpdate,isUnclaimed:t.isConnected&&!t.isClaimed&&!r[t.machineIdentifier]&&!n,hasHttpsConnections:t.hasHttpsConnections,isHostedHttps:ve.a.isHostedHttps}:{hasServer:!1,showSpinner:e}})})(k8e);L8e.propTypes=Object.assign({},L8e.propTypes,{serverEntityID:Dp.a.string.isRequired});var R8e=L8e;var _8e=Xf.a.createElement,U8e=Xf.a.Component;var z8e=function(e,t,n,r){var i=KS(t,function(e){return{identifiers:e}}),a=function(t){function i(e,n){var r;return(r=t.call(this,e,n)||this).onRepopulate=function(){r._repopulate()},r._isPopulated=!1,r._component=null,r}Sy()(i,t);var a=i.prototype;return a.componentDidMount=function(){this._populate()},a.componentDidUpdate=function(){this._isPopulated||this._populate()},a._populate=function(){var e=this.props,t=(e.identifiers,e.dispatch),r=wt()(e,["identifiers","dispatch"]);Object(No.a)(function(){n(t,r)})},a._repopulate=function(){if(!r)return this._populate();var e=this.props,t=(e.identifiers,e.dispatch),n=wt()(e,["identifiers","dispatch"]);r(t,n)},a.render=function(){if(this._isPopulated=function(e){var t=e.identifiers;for(var n in t)if(t[n]!==e[n])return!1;return!0}(this.props),this._isPopulated){var t=this.props,n=(t.identifiers,t.dispatch,wt()(t,["identifiers","dispatch"]));this._component=_8e(e,dv()({onRepopulate:this.onRepopulate},n))}return this._component},i}(U8e);return a.displayName="Populatable("+Object(vE.a)(e)+")",a.WrappedComponent=e,Lm(function(e){return i})(a)},F8e=function(e){return e.key===JPe},B8e=function(){return function(e,t){return t.activeFilters.some(F8e)}};var H8e=function(e){return!!e&&parseInt(e,10)>480};function V8e(e,t,n,r){void 0===n&&(n=[]);var i=e[0],a=e[e.length-1],o=function(e,t,n,r){return e.reduce(function(e,i){return i&&i.Media?(i.Media.forEach(function(a,o){var s,l=a.channelIdentifier,c=a.channelThumb,u=a.channelTitle,d=a.channelVcn,p=a.channelCallSign,h=a.beginsAt,f=a.endsAt,g=a.videoResolution;if(r&&!H8e(g))return e;if(e[l]||(e[l]={identifier:l,thumb:c,title:u,vcn:d,callSign:p||(s=u,s?s.split(" ")[1]:""),programs:[]}),h<n&&f>t){var v={beginsAt:Math.max(h,t),endsAt:Math.min(f,n),metadataItemEntityID:i.entityID,mediaIndex:o};e[l].programs.push(v)}}),e):e},{})}(t,i,a,r);return n.forEach(function(e){o[e.channelIdentifier]||(o[e.channelIdentifier]={identifier:e.channelIdentifier,thumb:e.thumb,title:e.tag,vcn:e.channelVcn,callSign:e.channelCallSign,programs:[]})}),function(e,t,n){return Object.keys(e).map(function(r){var i=e[r];return i.programs=function(e,t,n){var r=t,i=[];e.sort(function(e,t){return e.beginsAt>t.beginsAt?1:e.beginsAt<t.beginsAt?-1:0});for(var a=0;a<e.length;a++){var o=e[a];if(o.beginsAt>r){var s={beginsAt:r,endsAt:o.beginsAt};i.push(s)}i.push(o),r=o.endsAt}if(r<n){var l={beginsAt:r,endsAt:n};i.push(l)}return i}(i.programs,t,n),i}).sort(function(e,t){return Rx(e.vcn||e.identifier,t.vcn||t.identifier)})}(o,i,a)}Dp.a.shape({key:Dp.a.string.isRequired,value:Dp.a.oneOfType([Dp.a.string,Dp.a.array]).isRequired,operator:Dp.a.string.isRequired,type:Dp.a.string});function Q8e(e){var t,n,r,i,a,o,s,l,c,u=e.getCellHeights,d=e.overscan,p=void 0===d?0:d,h=e.outerPaddingTop,f=void 0===h?0:h,g=e.outerPaddingRight,v=void 0===g?0:g,m=e.outerPaddingBottom,y=void 0===m?0:m,b=e.outerPaddingLeft,S=void 0===b?0:b;function I(e){var t=C.a.findIndex(a,function(t){return t>e}),n=a.length-1;return-1===t?n:Math.min(Math.max(0,t-1),n)}return{getListStyle:function(e){var l=e.viewportHeight+":"+e.viewportWidth;if(l===o)return s;t=e.viewportHeight,n=e.viewportWidth-(S+v),r=u(n),a=[];var c=f;return r.forEach(function(e){a.push(c),c+=e}),i=r.reduce(function(e,t){return e+t},f+y),o=l,s={height:i,width:n}},getLandmarks:function(){Object(M.a)(void 0!==t,"`getListStyle` must be called before `getLandmarks`");var e=t+":"+i;return e===l?c:(l=e,c=a.map(function(e,t){return{index:t,position:e/i}}))},getPositionForIndex:function(e){return Object(M.a)(void 0!==t,"`getListStyle` must be called before `getPositionForIndex`"),{cellX:S,cellY:a[e],cellWidth:n,cellHeight:r[e]}},getRelativeIndex:function(){Object(M.a)(!1,"Stacked layouts do not support relative indexing")},getRangesForPosition:function(e){Object(M.a)(void 0!==t,"`getListStyle` must be called before `getPositionForIndex`");var n=e+t-1,r=I(e-p*t),i=I(e),a=I(n);return{renderStartIndex:r,renderEndIndex:I(n+p*t),visibleStartIndex:i,visibleEndIndex:a,partiallyVisibleStartIndex:i,partiallyVisibleEndIndex:a}}}}var W8e=n(1053),G8e=n.n(W8e);function Y8e(e){var t=e.className,n=e.style,r=e.provider;return hv()("div",{className:t,style:n},void 0,Object(Xn.default)("Powered by {provider}",{provider:r}))}Y8e.defaultProps={className:G8e.a.attribution,provider:"Gracenote"};var K8e=Y8e;var q8e=Lm(function(){return Object(Iy.createSelector)(xse,function(e){return{provider:e.epgSource}})})(K8e);function Z8e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-shows-broadcast-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 120l120-100h70l-118.75 100h208.75v440h-560v-440h208.75l-118.75-100h70l120 100m-220 340h440v-280h-440v280"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Z8e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var X8e=Z8e;var J8e=function(e){var t=e.machineIdentifier;if(e.isRefreshing)return hv()(jUe,{iconComponent:X8e,title:Object(Xn.default)("We're now building your Guide"),description:Object(Xn.default)("Hang tight while we download all the data for what's on")});var n=Rc(t,"manage","dvr");return hv()(jUe,{iconComponent:X8e,title:Object(Xn.default)("The Guide is empty"),description:Object(Xn.default)("Please verify your channel mappings and refresh the Guide")},void 0,hv()(RS,{to:n,kind:a.PRIMARY},void 0,Object(Xn.default)("Go to DVR Settings")))},$8e=Xf.a.createElement;var e9e=Lm(function(){return Object(Iy.createSelector)(Dy(),u$e(),function(e,t){return{machineIdentifier:e.machineIdentifier,isRefreshing:!!t}})})(function(e){return $8e(J8e,e)}),t9e=Xf.a.createElement;var n9e=function(e){var t=e.children,n=wt()(e,["children"]);return t9e(d1,dv()({className:xUe.a.innerEmptyPage,contentClassName:xUe.a.innerEmptyPageContent,scrollDirection:Zp},n),t)},r9e=Xf.a.useCallback,i9e=Xf.a.useState;function a9e(){var e=i9e(!1),t=e[0],n=e[1],r=r9e(function(){n(!0)},[]),i=r9e(function(){n(!1)},[]);return[t,{onMouseEnter:r,onMouseLeave:i,onFocus:r,onBlur:i}]}var o9e=n(647),s9e=n.n(o9e);var l9e=hv()(cE,{});var c9e=function(e){var t=e.beginsAt,n=e.endsAt,r=e.timeFormat,i=e.channelTitle,a=e.contentRating,o=function(e,t,n,r){var i=Math.floor(Date.now()/1e3),a="",o="";if(i>=e&&i<=t)a=Object(Xn.default)("Now on {channel}",{channel:r}),o=ny(t-i);else{var s=xTe(e,t,{timeFormat:n,separator:" - "});a=Object(Xn.default)("{timeRange} on {channel}",{timeRange:s,channel:r}),o=ty(1e3*(t-e))}return{airTime:a,duration:o}}(t,n,r,i),s=o.airTime,l=o.duration;return hv()("div",{className:s9e.a.container},void 0,s,l9e,l,hv()("div",{className:s9e.a.contentRating},void 0,cxe(a)))},u9e=n(507),d9e=n.n(u9e);var p9e=function(e){var t=e.type,n=e.metadataItemEntityID,r=e.serverEntityID,i=e.providerEntityID,a=function(e){var t;switch(e){case nr.g:t=[fEe,bve];break;case nr.l:t=[fEe,FEe];break;case nr.e:t=[Gge,FEe];break;default:t=[fEe]}return t}(t);return hv()("div",{className:d9e.a.titleContainer},void 0,a.map(function(e,t){var a=0===t?d9e.a.primaryTitle:d9e.a.secondaryTitle;return hv()(e,{className:a,metadataItemEntityID:n,serverEntityID:r,providerEntityID:i},t)}))};var h9e=function(e){return Object(Iy.createSelector)(Hk(),function(t){return t.protocols.includes(e)})},f9e=n(508),g9e=n.n(f9e);var v9e=function(e){var t=e.title,n=e.showPlay,r=e.showRecord,i=e.onPlayPress,a=e.onRecordPress;return hv()("div",{className:g9e.a.actions},void 0,n?hv()(Pve,{className:g9e.a.playButton,title:t,tabIndex:"-1",onPress:i}):null,r?hv()(Lve,{className:g9e.a.recordButton,title:t,tabIndex:"-1",onPress:a}):null)};function m9e(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-play-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M80,0L560,280L80,560L80,0Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}m9e.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var y9e=m9e,b9e=n(400),S9e=n.n(b9e);var I9e=function(e){var t=e.subscriptionType,n=e.isSubscribed,r=e.showPlay,i=e.showRecord,a=e.onPlayPress,o=e.onRecordPress,s=n?Object(Xn.default)("Recording Scheduled"):Object(Xn.default)("Record");return hv()("span",{},void 0,r?hv()(I_,{className:S9e.a.playButton,kind:Yp,size:qp.SMALL,onPress:a},void 0,hv()(y9e,{className:S9e.a.icon}),Object(Xn.default)("Watch Now")):null,i?hv()(I_,{className:S9e.a.recordButton,kind:Yp,size:qp.SMALL,onPress:o},void 0,hv()(GAe,{className:S9e.a.icon,type:t}),s):null)},C9e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRecordPress=function(e){r.setState({isSubscribeModalOpen:!0})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1})},r.state={isSubscribeModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.type,r=e.title,i=e.subscriptionType,a=e.isCompact,o=e.isSubscribed,s=e.showPlay,l=e.showRecord,c=e.serverEntityID,u=e.providerEntityID,d=e.metadataItemEntityID,p=e.onPlayPress,h=this.state.isSubscribeModalOpen,f=a?v9e:I9e;return hv()("span",{className:t},void 0,hv()(f,{title:r,subscriptionType:i,isSubscribed:o,showPlay:s,showRecord:l,onPlayPress:p,onRecordPress:this.onRecordPress}),hv()(RNe,{serverEntityID:c,providerEntityID:u,metadataItemEntityID:d,isOpen:h,subscriptionType:n,onModalClose:this.onSubscribeModalClose}))},t}(Xf.a.Component),M9e=Xf.a.createElement,D9e=Xf.a.useCallback;var w9e=iZ(function(){return Object(Iy.createSelector)(h9e(qn.a),Qse(),function(e,t){void 0===t&&(t={});var n=t,r=n.type,i=n.title,a=n.grandparentTitle,o=n.subscriptionID,s=n.grandparentSubscriptionID,l=n.subscriptionType;return{type:r,title:a||i,subscriptionType:n.grandparentSubscriptionType||l||r,isSubscribed:!(!s&&!o),hasLiveTVProtocol:e}})},{dispatchStartPlayback:Ire,dispatchStartLiveTVPlayback:bMe})(function(e){var t=e.dispatchStartPlayback,n=e.dispatchStartLiveTVPlayback,r=wt()(e,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),i=e.serverEntityID,a=e.providerEntityID,o=e.metadataItemEntityID,s=e.channelIdentifier,l=e.hasLiveTVProtocol,c=e.metricsPage,u=e.metricsContext,d=D9e(function(){var e={serverEntityID:i,providerEntityID:a,metadataItemEntityID:o,metricsPage:c,metricsContext:u};l?n(Object.assign({},e,{options:{type:ed.d,identifier:s}})):t(e)},[i,a,o,s,l,c,u,t,n]);return M9e(C9e,dv()({},r,{onPlayPress:d}))}),P9e=n(509),T9e=n.n(P9e),E9e=80;function x9e(e){var t=e.className,n=e.metadataItemEntityID,r=e.serverEntityID,i=e.providerEntityID,a=e.mediaIndex,o=e.type,s=e.summary,l=e.thumb,c=e.contentRating,u=e.beginsAt,d=e.endsAt,p=e.timeFormat,h=e.channelIdentifier,f=e.channelTitle,g=e.showPlay,v=e.showRecord;return hv()("div",{className:t},void 0,hv()(rge,{className:T9e.a.poster,serverEntityID:r,providerEntityID:i,component:yL,type:o,width:E9e,height:DL(E9e,o),url:l}),hv()("div",{className:T9e.a.preplayContainer},void 0,hv()(p9e,{type:o,serverEntityID:r,providerEntityID:i,metadataItemEntityID:n}),hv()(c9e,{beginsAt:u,endsAt:d,timeFormat:p,channelTitle:f,contentRating:c}),hv()(w9e,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:n,channelIdentifier:h,mediaIndex:a,showPlay:g,showRecord:v}),hv()("p",{},void 0,s)))}x9e.defaultProps={className:T9e.a.container};var O9e=x9e;var j9e=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.mediaIndex},Qse(),Object(Iy.createSelector)(function(e,t){return t.mediaIndex},Qse(),XS,xse,sse,function(e,t,n,r,i){var a=Math.floor(Date.now()/1e3),o=t.Media[e];return!!o&&ape({server:n,provider:r,stableUser:i,metadataItem:t})&&o.beginsAt<=a&&o.endsAt>a}),KPe(cn),TTe,function(e,t,n,r,i){var a=t.type,o=t.summary,s=t.grandparentThumb,l=t.thumb,c=t.contentRating,u=t.Media[e],d=u.beginsAt,p=u.endsAt,h=u.channelTitle;return{type:a,summary:o,thumb:s||l,contentRating:c,beginsAt:d,endsAt:p,timeFormat:i,channelIdentifier:u.channelIdentifier,channelTitle:h,showPlay:n,showRecord:!!r}})})(O9e),A9e=n(1054),N9e=n.n(A9e);function k9e(e){var t=e.className;return hv()(TY,{className:t},void 0,Object(Xn.default)("New"))}k9e.defaultProps={className:N9e.a.badge};var L9e=k9e,R9e=n(648),_9e=n.n(R9e),U9e=Xf.a.Component,z9e=parseInt(mQ.channelGridChannelColumnWidth,10),F9e=.3*z9e;var B9e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={placeholderWidth:F9e+Math.random()*(z9e-F9e)},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.children,r=this.state.placeholderWidth;return hv()("div",{className:t,style:{width:r+"px"}},void 0,hv()("div",{className:_9e.a.bar},void 0,n))},t}(U9e);B9e.defaultProps={className:_9e.a.container};var H9e=B9e,V9e=n(86),Q9e=n.n(V9e),W9e=Xf.a.Component;var G9e=hv()(H9e,{}),Y9e=hv()(H9e,{}),K9e=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onCellPress=function(){var e=t.props,n=e.metadataItemEntityID,r=e.mediaIndex,i=e.cellIndex;(0,e.onPress)(n,r,i)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.metadataItemEntityID,r=e.serverEntityID,i=e.providerEntityID,a=e.channelIdentifier,o=e.mediaIndex,s=e.width,l=e.type,c=e.subscriptionType,u=e.title,d=e.premiere,p=e.canRecord,h=e.showEpisodeTitle,f=e.showLoader,g=e.isOnAir,v=e.isFinishedAiring,m=e.isSelected,y=e.isSubscribed;if(!n)return hv()("div",{className:(t||"")+" "+(g&&Q9e.a.onAir||"")+" "+(v&&Q9e.a.finishedAiring||""),style:{width:s+"px"}},void 0,f?hv()("div",{className:Q9e.a.placeholderContainer},void 0,G9e,Y9e):hv()("div",{className:Q9e.a.content},void 0,Object(Xn.default)("Unknown Airing")));var b=function(e,t){var n=null;switch(e){case nr.g:n=bve;break;case nr.l:case nr.e:t&&(n=XEe)}return n}(l,h);return hv()("div",{className:(t||"")+" "+(g&&Q9e.a.onAir||"")+" "+(m&&Q9e.a.selected||"")+" "+((g||p)&&Q9e.a.hoverable||"")+" "+(v&&Q9e.a.finishedAiring||""),style:{width:s+"px"}},void 0,hv()("div",{className:Q9e.a.content},void 0,hv()(RS,{className:Q9e.a.underlay,onPress:this.onCellPress}),hv()("div",{},void 0,u),hv()("div",{className:Q9e.a.actionsContainer},void 0,hv()("div",{className:Q9e.a.subTitleContainer},void 0,b?hv()(b,{className:Q9e.a.subTitle,serverEntityID:r,providerEntityID:i,metadataItemEntityID:n}):null,d?hv()(L9e,{className:Q9e.a.premiereBadge}):null,y?hv()(TY,{className:Q9e.a.subscriptionBadge},void 0,hv()(GAe,{type:c})):null),hv()(w9e,{className:Q9e.a.actions,isCompact:!0,serverEntityID:r,providerEntityID:i,metadataItemEntityID:n,channelIdentifier:a,mediaIndex:o,showRecord:p,showPlay:g}))))},t}(W9e);K9e.defaultProps={className:Q9e.a.container};var q9e=K9e,Z9e=Xf.a.createElement,X9e=Xf.a.useEffect;var J9e=Lm(function(){return Object(Iy.createSelector)(function(e){return!!e.remotePlayer},Qse(),Object(Iy.createSelector)(function(e,t){return t.mediaIndex},Qse(),function(e,t){return t?t.Media[e]:null}),Object(Iy.createSelector)(function(e,t){return t.beginsAt},function(e,t){return t.endsAt},function(e,t){var n=Math.floor(Date.now()/1e3);return{isOnAir:n>=e&&n<=t,isFinishedAiring:n>=t}}),KPe(cn),function(e,t,n,r,i){void 0===t&&(t={});var a=t,o=a.type,s=a.grandparentTitle,l=a.title,c=a.subscriptionID,u=a.subscriptionType,d=a.grandparentSubscriptionID,p=a.grandparentSubscriptionType,h=a.index,f=a.originallyAvailableAt,g=!!n&&n.premiere,v=null!=c||null!=d,m=!0;if(null==h&&f){var y=new Date,b=new Date(f);m=y.getDate()!==b.getUTCDate()||y.getMonth()!==b.getUTCMonth()||y.getFullYear()!==b.getUTCFullYear()}return Object.assign({},r,{type:o,title:s||l,subscriptionType:u||p,showEpisodeTitle:m,isRemotePlayer:e,isSubscribed:v,premiere:g,canRecord:!!i})})},{dispatchMirrorDetails:Qae})(function(e){var t=e.dispatchMirrorDetails,n=wt()(e,["dispatchMirrorDetails"]),r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.isRemotePlayer,s=e.isSelected;return X9e(function(){s&&o&&t({serverEntityID:r,providerEntityID:i,metadataItemEntityID:a})},[o,s,r,i,a,t]),Z9e(q9e,n)}),$9e=n(510),e7e=n.n($9e);var t7e=function(e){var t=e.className,n=e.width,r=e.isActive,i={width:n+"px"};return hv()("div",{className:t},void 0,hv()("div",{className:(e7e.a.fill||"")+" "+(n>0&&e7e.a.indicator||"")+" "+(r&&e7e.a.active||""),style:i}))};var n7e=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},function(e,t){var n=e.airedProgress,r=e.columnWidth;return{width:n/100*e.visibleColumns*r}})})(t7e),r7e=n(199),i7e=n.n(r7e),a7e=parseInt(mQ.channelGridChannelIconWidth,10),o7e=parseInt(mQ.channelGridRowHeight,10);function s7e(e){var t,n=e.className,r=e.serverEntityID,i=e.providerEntityID,a=e.channel,o=e.showPlayButton,s=e.onPlayPress,l=a.vcn||a.identifier,c=a.thumb?hv()(Kk,{serverEntityID:r,providerEntityID:i,url:a.thumb,className:i7e.a.thumbnail,backgroundSize:"contain",width:a7e,height:o7e}):hv()("div",{className:i7e.a.channelCallSignText,title:a.callSign},void 0,a.callSign);return t=o?hv()("div",{className:i7e.a.playButtonContainer,title:Object(Xn.default)("Play Channel {channel}",{channel:l})},void 0,hv()(Pve,{className:i7e.a.playButton,title:Object(Xn.default)("Channel {channel}",{channel:l}),tabIndex:"-1",onPress:s})):hv()("span",{className:i7e.a.number},void 0,l),hv()("div",{className:n},void 0,hv()("div",{className:i7e.a.numberContainer},void 0,t),hv()("div",{className:i7e.a.thumbnailContainer},void 0,c))}s7e.defaultProps={className:i7e.a.container};var l7e=s7e,c7e=Xf.a.createElement,u7e=Xf.a.useCallback;var d7e=iZ(function(){return Object(Iy.createSelector)(h9e(qn.a),function(e){return{hasLiveTVProtocol:e}})},{dispatchStartPlayback:Ire,dispatchStartLiveTVPlayback:bMe})(function(e){var t=e.dispatchStartPlayback,n=e.dispatchStartLiveTVPlayback,r=wt()(e,["dispatchStartPlayback","dispatchStartLiveTVPlayback"]),i=e.serverEntityID,a=e.providerEntityID,o=e.metadataItemEntityID,s=e.channelIdentifier,l=e.hasLiveTVProtocol,c=e.metricsPage,u=e.metricsContext,d=u7e(function(){var e={serverEntityID:i,providerEntityID:a,metadataItemEntityID:o,metricsPage:c,metricsContext:u};l?n(Object.assign({},e,{options:{type:ed.d,identifier:s}})):t(e)},[i,a,o,s,l,c,u,t,n]);return c7e(l7e,dv()({},r,{onPlayPress:d}))}),p7e=n(335),h7e=n.n(p7e),f7e=Xf.a.createElement,g7e=Xf.a.memo;function v7e(e){var t=e.className,n=e.rowClassName,r=e.serverEntityID,i=e.providerEntityID,a=e.selectedMetadataItemEntityID,o=e.selectedMediaIndex,s=e.selectedMediaItemRow,l=e.channel,c=e.cellIndex,u=e.columnWidth,d=e.columnTimes,p=e.isFetching,h=e.onMetadataItemPress,f=e.onDetailRowMeasure,g=CF(e),v=a9e(),m=v[0],y=v[1],b=d[0],S=d[d.length-1],I=d[1]-d[0],C=l.programs[0]?l.programs[0].metadataItemEntityID:null;return hv()("div",{className:t,style:g.style},void 0,f7e("div",dv()({className:n},y),hv()(d7e,{className:h7e.a.title,serverEntityID:r,providerEntityID:i,metadataItemEntityID:C,channel:l,showPlayButton:m}),hv()("div",{className:h7e.a.programsContainer},void 0,hv()(n7e,{className:h7e.a.progress}),l.programs.map(function(e,t){var n=Math.max(e.beginsAt,b),s=(Math.min(e.endsAt,S)-n)/I*u,d=a===e.metadataItemEntityID&&o===e.mediaIndex;return hv()(J9e,{width:s,className:h7e.a.program,beginsAt:e.beginsAt,endsAt:e.endsAt,metadataItemEntityID:e.metadataItemEntityID,mediaIndex:e.mediaIndex,serverEntityID:r,providerEntityID:i,channelIdentifier:l.identifier,cellIndex:c,isSelected:d,showLoader:p&&!e.metadataItemEntityID,onPress:h},t)}))),c===s?hv()(XA,{onMeasure:f},a,hv()(j9e,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,mediaIndex:o})):null)}v7e.defaultProps={rowClassName:h7e.a.container};var m7e=g7e(v7e);var y7e=function(e,t){return void 0===t&&(t="HH:mm:ss"),e?Object(tl.a)(e,t):""},b7e=n(237),S7e=n.n(b7e);function I7e(e){var t=e.className,n=e.enablePrevious,r=e.enableNext,i=e.startDate,a=e.columnTimes,o=e.timeFormat,s=e.columnWidth,l=e.dispatchPrevious,c=e.dispatchNext;return hv()("div",{className:t},void 0,hv()("div",{className:S7e.a.dayContainer},void 0,i?Object(ove.default)(i,"EEEE, LLL dd"):null),hv()("div",{className:S7e.a.labelContainer},void 0,a.map(function(e,t){return hv()("div",{className:S7e.a.label,style:{width:s+"px"}},t,y7e(1e3*e,o))})),hv()("div",{className:S7e.a.navigationButtons},void 0,hv()(Kz,{className:S7e.a.navigationButton,iconComponent:Jz,title:Object(Xn.default)("Previous"),isDisabled:!n,onPress:l}),hv()(Kz,{className:S7e.a.navigationButton,iconComponent:Zz,title:Object(Xn.default)("Next"),isDisabled:!r,onPress:c})))}I7e.defaultProps={className:S7e.a.container};var C7e=I7e,M7e=108e5;var D7e=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},TTe,function(e,t){var n=e.startTime,r=e.columnWidth,i=new Date-M7e,a=new Date(1e3*n),o=a>i;return dE(n)&&(a=null),{timeFormat:t,startDate:a,columnWidth:r,enablePrevious:o,enableNext:!0}})},{dispatchNext:_Pe,dispatchPrevious:UPe})(C7e),w7e=n(175),P7e=n.n(w7e),T7e=Xf.a.createElement,E7e=Xf.a.Component,x7e=parseInt(mQ.channelGridRowHeight,10)-1,O7e=140,j7e={selectedMetadataItemEntityID:null,selectedMediaIndex:null,selectedMediaItemRow:-1,selectedMediaItemHeight:0},A7e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).getCellHeights=function(){var e=r.state,t=e.selectedMediaItemRow,n=e.selectedMediaItemHeight;return r.props.channels.map(function(e,r){var i=x7e;return r===t&&(i+=n||O7e),i})},r._updateProgress=function(){r.props.dispatchUpdateAiredProgress(),r._resetUpdateTimeout()},r.onMetadataItemPress=function(e,t,n){r.state.selectedMetadataItemEntityID!==e||r.state.selectedMediaIndex!==t?r.setState({selectedMetadataItemEntityID:e,selectedMediaIndex:t,selectedMediaItemRow:n,selectedMediaItemHeight:O7e}):r.setState(j7e)},r.onDetailRowMeasure=function(e){var t=e.height;r.setState({selectedMediaItemHeight:t})},r.renderCell=function(e){var t=r.props,n=t.serverEntityID,i=t.providerEntityID,a=t.columnTimes,o=t.columnWidth,s=t.channels,l=t.isPending,c=r.state,u=c.selectedMetadataItemEntityID,d=c.selectedMediaIndex,p=c.selectedMediaItemRow,h=s[e.cellIndex];return h?T7e(m7e,dv()({},e,{className:P7e.a.gridRowCell,rowClassName:P7e.a.gridRow,channel:h,serverEntityID:n,providerEntityID:i,selectedMetadataItemEntityID:u,selectedMediaIndex:d,selectedMediaItemRow:p,columnTimes:a,columnWidth:o,isFetching:l,onMetadataItemPress:r.onMetadataItemPress,onDetailRowMeasure:r.onDetailRowMeasure})):null},r._updateTimeout=null,r.state=j7e,r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n=t.selectedMediaIndex,r=t.selectedMetadataItemEntityID,i=t.selectedMediaItemRow,a=e.channels[i];return a&&0!==a.programs.length?a.programs.find(function(e){return e.mediaIndex===n&&e.metadataItemEntityID===r})?null:j7e:null};var n=t.prototype;return n.componentDidMount=function(){this._updateProgress()},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(e){TS(this.props.columnTimes,e.columnTimes)||this._updateProgress()},n._resetUpdateTimeout=function(){this._updateTimeout&&clearTimeout(this._updateTimeout);var e=6e4-Date.now()%6e4;this._updateTimeout=setTimeout(this._updateProgress,e)},n.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.viewportWidth,a=e.viewportHeight,o=e.columnTimes,s=e.channels,l=e.isEmpty,c=e.showSpinner,u=e.showError;return hv()("div",{className:t},void 0,c||u||l?null:hv()(D7e,{className:P7e.a.timeline,columnTimes:o}),u?hv()(n9e,{className:P7e.a.innerEmptyPage,title:Object(Xn.default)("There was an error loading channels")}):null,c?hv()(jUe,{className:P7e.a.innerEmptyPage},void 0,hv()(ZE.a,{label:Object(Xn.default)("Loading channels")})):null,c||u||!l?null:hv()(e9e,{serverEntityID:n,providerEntityID:r}),c||u||l?null:hv()(cF,{className:P7e.a.gridContent,scrollerClassName:P7e.a.gridInnerContent,keyPropName:"identifier",items:s,scrollDirection:Xp,viewportWidth:i,viewportHeight:a,size:s.length,layout:Q8e({getCellHeights:this.getCellHeights}),cellRenderer:this.renderCell,onMeasure:this.onScrollerMeasure},void 0,hv()(q8e,{className:P7e.a.attribution,providerEntityID:r})))},t}(E7e);A7e.defaultProps={className:P7e.a.gridContainer,columnTimes:[]};var N7e=A7e;var k7e=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},Whe(),function(e,t){void 0===t&&(t={});var n=t,r=n.isPending,i=void 0===r||r,a=n.isPopulated,o=void 0!==a&&a,s=n.metadataItems,l=void 0===s?[]:s,c=n.error,u=!!i&&!o&&!c,d=!!c,p=o&&!i&&!c&&0===l.length;return Object.assign({},e,{isPending:i,isEmpty:p,showSpinner:u,showError:d})})},{dispatchUpdateAiredProgress:FPe})(N7e),L7e=n(649),R7e=n.n(L7e);var _7e=function(e){var t=e.metadataListEntityID,n=e.serverEntityID,r=e.providerEntityID,i=e.channels,a=e.onMeasure;return hv()(XA,{className:R7e.a.measureContainer,onMeasure:a},void 0,hv()(k7e,{className:R7e.a.gridContent,metadataListEntityID:t,serverEntityID:n,providerEntityID:r,channels:i}))},U7e=Xf.a.Component,z7e=Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},function(e){return{columnTimes:e.columnTimes}}),F7e={dispatchSetViewportSize:zPe,dispatchResetStartTime:RPe},B7e=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._updateGrid=function(){(0,r.props.dispatchResetStartTime)(),r._resetTimeout()},r.onMeasure=function(e){var t=r.state,n=t.isMeasured,i=t.measuredSize;n&&TS(i,e)||r.setState({isMeasured:!0,measuredSize:e},function(){r.setViewportSize(e)})},r._updateTimeout=null,r.state={isMeasured:!1,measuredSize:null},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._resetTimeout()},n.componentDidUpdate=function(e){var t=this.props,n=t.metadataListEntityID,r=t.columnTimes;n===e.metadataListEntityID&&TS(r,e.columnTimes)||this._resetTimeout()},n.componentWillUnmount=function(){this._updateTimeout&&clearTimeout(this._updateTimeout)},n._resetTimeout=function(e){void 0===e&&(e=this.props);var t=e.columnTimes;if(t.length){this._updateTimeout&&(clearTimeout(this._updateTimeout),this._updateTimeout=null);var n=Math.floor(Date.now()/1e3),r=7200;if(t[0]<=n&&t[1]>=n)r=t.find(function(e){return n<e})-n;this._updateTimeout=setTimeout(this._updateGrid,1e3*r)}},n.setViewportSize=function(e){(0,this.props.dispatchSetViewportSize)(e),this._resetTimeout()},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.channels;return hv()(_7e,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,channels:i,onMeasure:this.onMeasure})},t}(U7e),H7e=Lm(z7e,F7e)(B7e);function V7e(){return Object(Iy.createSelector)(Hk(),function(e){return void 0===e&&(e={}),[{key:"/"+e.identifier+"/grid?channel.value=1",filter:JPe,filterKey:"channel.value",filterType:W6e,title:Object(Xn.default)("HD Channels Only")}]})}function Q7e(e){if(!e)return"";var t=e instanceof Date?e:new Date(e),n=Fb(t);return uE(t,new Date)?Object(Xn.default)("Today"):WTe(n)}var W7e=n(1055),G7e=n.n(W7e),Y7e=Xf.a.createElement;function K7e(e){return Y7e(TY,e)}K7e.defaultProps={className:G7e.a.badge};var q7e=K7e,Z7e=n(1056),X7e=n.n(Z7e);function J7e(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}J7e.defaultProps={className:X7e.a.pageHeaderLeft};var $7e=J7e,eet=n(1057),tet=n.n(eet);function net(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}net.defaultProps={className:tet.a.pageHeaderRight};var ret=net;function iet(e,t,n,r,i){return r.type===fn.VIEW?gr(r.key,e,t,n):dr(e,t,n,Object.assign({},i,{key:r.key,pageType:r.type,context:r.context}))}var aet=n(650),oet=n.n(aet),set=Xf.a.createElement;function cet(e){var t=e.className,n=e.children,r=e.isSelected,i=wt()(e,["className","children","isSelected"]);return set(I_,dv()({className:(t||"")+" "+(r&&oet.a.isSelected||""),"data-qa-id":"tabButton",size:qp.LARGE},i),n)}cet.defaultProps={className:oet.a.button};var uet=cet;Dp.a.shape({pivotKey:Dp.a.string.isRequired,title:Dp.a.string.isRequired,route:Dp.a.string.isRequired,isSelected:Dp.a.bool,context:Dp.a.string.isRequired});var det=function(e){var t=e.tab,n=e.component,r=e.onPress;return hv()(n,{isSelected:t.isSelected,to:t.route,onPress:r},void 0,t.title)};var pet=Lm(null,function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.providerMetricsIdentifier,a=t.sourceDirectory,o=t.tab,s=t.metricsPage;return{onPress:function(){e(js({serverEntityID:n,providerEntityID:r,directoryKey:a.key||a.hubKey,pivotKey:o.pivotKey})),Object(J.c)("metrics").trackEvent({event:Ia,interaction:!0,properties:{page:s,identifier:i,action:ma,context:o.context,origin:a$e}})}}})(det),het=Xf.a.useCallback,fet=Xf.a.useState;function get(){var e=kJe(),t=fet(!1),n=t[0],r=t[1],i=het(function(){r(!n)},[n,r]),a=het(function(){r(!1)},[r]);return{menuButtonID:e,isMenuOpen:n,onMenuButtonPress:i,onMenuClose:a}}var vet=n(272),met=n.n(vet),yet={placement:"bottom-start",modifiers:{offset:{offset:yQ.a.pageHeaderTabButtonLeftRightMargin}}};var bet=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.providerMetricsIdentifier,a=e.sourceDirectory,o=e.tabs,s=e.metricsPage,l=get(),c=l.menuButtonID,u=l.isMenuOpen,d=l.onMenuButtonPress,p=l.onMenuClose,h=o.find(function(e){return e.isSelected})||o[0];return hv()("div",{id:c,className:met.a.container,"data-qa-id":"tabDropDown"},void 0,hv()(uet,{className:met.a.button,isSelected:h.isSelected,onPress:d},void 0,hv()("div",{className:met.a.buttonContents},void 0,hv()("div",{className:met.a.title},void 0,h.title),hv()(TI,{className:(met.a.disclosureArrow||"")+" "+(h.isSelected&&met.a.isSelected||""),direction:u?i.UP:i.DOWN}))),hv()(zT,{isOpen:u,target:c,options:yet,onMenuClose:p},void 0,o.map(function(e,i){return hv()(pet,{serverEntityID:t,providerEntityID:n,providerMetricsIdentifier:r,sourceDirectory:a,tab:e,component:MI,metricsPage:s,onPress:p},i)})))},Iet=n(1058),Cet=n.n(Iet),Met=Xf.a.useCallback,Det=Xf.a.useState;var wet=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.providerMetricsIdentifier,i=e.sourceDirectory,a=e.tabs,o=e.metricsPage,s=Det(0),l=s[0],c=s[1],u=Met(function(e){c(e.width)},[]),d=Det(0),p=d[0],h=d[1],f=Met(function(e){h(e.width)},[]),g=a.length>1&&p>l;return hv()(XA,{className:Cet.a.pageHeaderCenter,ignoreHeight:!0,onMeasure:u},void 0,g?hv()(bet,{serverEntityID:t,providerEntityID:n,providerMetricsIdentifier:r,sourceDirectory:i,tabs:a,metricsPage:o}):hv()(XA,{ignoreHeight:!0,onMeasure:f},void 0,a.map(function(e,a){return hv()(pet,{serverEntityID:t,providerEntityID:n,providerMetricsIdentifier:r,sourceDirectory:i,tab:e,component:uet,metricsPage:o},a)})))};var Pet=iZ(function(){return Object(Iy.createSelector)(xse,Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},function(e,t){return t.directoryKey},Dy(),Hk(),h0e,function(e,t,n,r,i){var a=J6e(e,t);return e.pivots.reduce(function(t,o){var s=n8e(n,r,e,o),l=s?i[s]:{},c=iet(n,r,e,o,l);return c?(t.push({pivotKey:o.key,title:o.title,route:c,isSelected:!(!a||o.key!==a.key),context:o.context}),t):t},[])}),function(e,t){return{providerMetricsIdentifier:e.metricsIdentifier,tabs:t}})})(wet);Pet.propTypes=Object.assign({},Pet.propTypes,{serverEntityID:Dp.a.string.isRequired,providerEntityID:Dp.a.string.isRequired,sourceDirectory:ume.isRequired,directoryKey:Dp.a.string.isRequired});var Tet=Pet,Eet=n(1059),xet=n.n(Eet),Oet=Xf.a.createElement;function jet(e){return Oet("div",e)}jet.defaultProps={className:xet.a.pageHeader};var Aet=jet,Net=n(1060),ket=n.n(Net);var Let=function(e){var t=e.children;return hv()(ret,{className:ket.a.pageHeaderRight},void 0,t)};function Ret(e,t,n,r){return r?Object(Xn.default)("Downloads"):e?e.title:t.isCloud?n.title:t.friendlyName}function _et(e,t){if(!t.isCloud)return t.isFullOwnedServer?e?e.serverFriendlyName:null:e?e.serverSourceTitle+"  "+e.serverFriendlyName:t.sourceTitle}var Uet=Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},h0e,Dy(),Hk(),g8e(),function(e,t,n,r,i){var a=uqe(r,e),o=e?lqe({sourceType:a?a.key:null,sourceServer:n,sourceProvider:r,sourceDirectory:e}):null,s=i?Jye(t.downloads):dr(n,r,e,e?void 0:{key:rxe,pageType:fn.HUB});return{title:Ret(o,n,r,i),detail:_et(o,n),route:s}}),zet=Lm(Uet)(h5e),Fet=n(511),Bet=n.n(Fet);function Het(e){var t=e.containerComponent,n=e.serverEntityID,r=e.providerEntityID,i=e.sourceDirectory,a=e.children;return hv()(t,{},void 0,hv()("div",{className:Bet.a.container},void 0,hv()("div",{className:Bet.a.currentSourceContainer},void 0,hv()(zet,{serverEntityID:n,providerEntityID:r,sourceDirectory:i}))),a?hv()("div",{className:Bet.a.childrenContainer},void 0,a):null)}Het.defaultProps={containerComponent:$7e};var Vet=Het,Qet=n(1061),Wet=n.n(Qet);var Get=Lm(function(){return Object(Iy.createSelector)(u$e(),function(e){return{isEPGRefreshing:!!e,epgActivityProgress:e?e.progress:0,epgActivityTitle:e?e.title:""}})})(function(e){var t=e.className,n=e.isEPGRefreshing,r=e.epgActivityProgress,i=e.epgActivityTitle;return n?hv()("span",{className:t},void 0,i," (",r,"%)",hv()(ZE.a,{className:Wet.a.refreshingSpinner,size:qp.SMALL})):null}),Yet=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(){var e=t.props,n=e.option;(0,e.onPress)(n)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.className,n=e.option,r=e.isDisabled,i=e.isSelected;return hv()(MI,{className:t,isDisabled:r,isSelected:i,onPress:this.onPress},void 0,n.title)},t}(Xf.a.Component),Ket=hv()(q1,{});var qet=function(e){var t=e.className,n=e.dateOptions,r=e.onSelectDate,i=e.onSelectNow;return hv()(oT,{className:t,autoScroll:!0},void 0,hv()(MI,{onPress:i},void 0,Object(Xn.default)("Now")),Ket,n.map(function(e,t){return hv()(Yet,{option:e,isSelected:e.isSelected,onPress:r},t,e.title)}))};function Zet(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(nl.a)(t,n);return r.getTime()-i.getTime()}var Xet=n(512),Jet=n.n(Xet),$et=hv()(q1,{});var ett=function(e){var t=e.className,n=e.timeOptions,r=e.selectedDateOption,i=e.onDeselectDateOption,a=e.onSelectTime;return hv()("div",{className:t},void 0,hv()("div",{className:Jet.a.header},void 0,hv()(RS,{onPress:i},void 0,hv()(Jz,{className:Jet.a.backIcon,"aria-label":Object(Xn.default)("Back")})),hv()("span",{className:Jet.a.headerText},void 0,r.title)),$et,n.map(function(e,t){return hv()(Yet,{option:e,isDisabled:!e.isEnabled,isSelected:e.isSelected,onPress:a},t,e.title)}))};function ttt(e,t){return function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(nl.a)(e,t);return n.setMinutes(0,0,0),n}(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(Qy.a)(t);return r.setHours(i),r}(new Date(e),t))}var ntt=Lm(function(){var e=[{startHour:0,title:Object(Xn.default)("Midnight")},{startHour:4,title:Object(Xn.default)("Early Morning")},{startHour:8,title:Object(Xn.default)("Morning")},{startHour:12,title:Object(Xn.default)("Afternoon")},{startHour:17,title:Object(Xn.default)("Primetime")},{startHour:22,title:Object(Xn.default)("Late Night")}];return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},function(e,t){return t.selectedDateOption},function(t,n){if(void 0===n&&(n={}),!n)return{timeOptions:[]};var r=Object(rE.a)(t.startTime),i=Object(rE.a)(n.value),a=new Date;return{timeOptions:e.map(function(t,n){var o=e[n+1],s=ttt(i,t.startHour),l=ttt(i,o?o.startHour:24),c=s0(a,l),u=Zet(r,s)>=0&&Zet(r,l)<0,d=s0(s,a)?Fb(a):Fb(s);return{title:Zet(a,s)>=0&&Zet(a,l)<0?Object(Xn.default)("Now ({timeSlotTitle})",{timeSlotTitle:t.title}):t.title,value:d,isEnabled:c,isSelected:u}})}})})(ett),rtt=n(513),itt=n.n(rtt),att=Xf.a.Component,ott={scrollDirection:o.NONE,className:itt.a.listContainer},stt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSelectDate=function(e){r.setState({showTimeOptions:!0,activeDateOption:e})},r.onSelectNow=function(){var e=Math.floor(Date.now()/1e3);r.onSelectTime({value:e})},r.onSelectTime=function(e){r.setState({showTimeOptions:!1}),r.props.dispatchSetStartTime(e.value),r.props.onMenuClose()},r.onHideOptions=function(e){r.setState({showTimeOptions:!1})},r.state={showTimeOptions:!1,activeDateOption:t.dateOptions.find(function(e){return e.isSelected})},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.target,n=e.isOpen,r=e.dateOptions,i=e.onMenuClose,a=this.state,o=a.showTimeOptions,s=a.activeDateOption,l=(itt.a.list||"")+" "+(!!o&&itt.a.showTimeOptions||"");return hv()(zT,{target:t,isOpen:n,size:qp.MEDIUM,scrollerProps:ott,onMenuClose:JA(this.onHideOptions,i)},void 0,hv()(qet,{className:l,dateOptions:r,onSelectDate:this.onSelectDate,onSelectNow:this.onSelectNow}),hv()(ntt,{className:l,selectedDateOption:s,onDeselectDateOption:this.onHideOptions,onSelectTime:this.onSelectTime}))},t}(att),ltt=8;var ctt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},function(e){return{dateOptions:function(e){for(var t=[],n=Object(rE.a)(e),r=0;r<ltt;r++){var i=Bb(new Date,r),a=Q7e(i),o=uE(i,n);t.push({title:a,value:Fb(i),isSelected:o})}return t}(e.startTime)}})},{dispatchSetStartTime:LPe})(stt);function utt(e,t,n){for(var r=[].concat(e),i=r.length-1;i>=0;i--){var a=r[i],o=a.type===W6e,s=n.type===W6e;a&&o!==s||r.splice(i,1)}return r.push(Object.assign({key:t},n)),r}function dtt(e,t){if(!e)return!1;var n="string"==typeof t?decodeURIComponent(t):t;return!!C.a.find(e,function(e){var t=e.value;return Array.isArray(t)?t.indexOf(n)>-1:t===n})}function ptt(e,t,n){if(null==n)return e.filter(function(e){return e.key!==t});for(var r=[].concat(e),i=r.length;i-- >0;){var a=r[i],o=a.key,s=a.value;if(t===o&&n===s)r.splice(i,1);else if(t===o&&Array.isArray(s)){var l=s.indexOf(n);l>-1&&(s.splice(l,1),1===s.length?r.splice(i,1,Object.assign({},a,{value:s[0]})):s.length||r.splice(i,1))}}return r}var htt=function(e){var t=e.typeKey,n=e.activeFilters,r=e.activeFilterLabel,i=e.activeSort,a=e.filter,o=e.title,s=dtt(n.filter(function(e){return e.key===a}),"1");return hv()(MI,{to:pEe({typeKey:t,filters:s?ptt(n,a):utt(n,a,{value:"1",type:W6e}),filterLabel:r,sort:i}),isSelected:s},void 0,o)},ftt=n(336),gtt=n.n(ftt),vtt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.onFilterSelect(t.props.filterKey)},t}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.activeFilters,n=e.filter,r=e.title,i=e.showSpinner,a=!i&&!!C.a.find(t,function(e){return e.key===n});return hv()(hI,{className:a?gtt.a.isSelected:void 0,onPress:this.onPress},void 0,hv()("div",{className:gtt.a.menuItemContainer},void 0,hv()("div",{className:gtt.a.menuLabel},void 0,r),i?hv()(ZE.a,{className:gtt.a.spinner,size:qp.SMALL}):null,!i&&a?hv()("div",{className:gtt.a.selectedIcon},void 0,hv()(SI,{"aria-label":Object(Xn.default)("Selected")})):null))},t}(Xf.a.Component),mtt=n(1062),ytt=n.n(mtt),btt=hv()(q1,{}),Stt=hv()(q1,{});var Itt=function(e){var t=e.className,n=e.typeKey,r=e.activeFilters,i=e.activeFilterLabel,a=e.activeSort,o=e.filters,s=e.selectedFilter,l=e.showSpinner,c=e.showCustomFilter,u=e.onFilterSelect,d=C.a.groupBy(o,function(e){var t=e.filterType;return t===W6e?t:G6e}),p=d[W6e],h=d[G6e];return hv()(oT,{className:(t||"")+" "+(ytt.a.filtersScroller||""),autoScroll:!0},void 0,hv()(MI,{to:pEe({typeKey:n,sort:a}),isSelected:C.a.isEmpty(r)},"all",Object(Xn.default)("All")),p?p.map(function(e){return hv()(htt,{typeKey:n,activeFilters:r,activeFilterLabel:i,activeSort:a,filter:e.filter,title:e.title},e.filter)}):null,h?btt:null,h?h.map(function(e){var t=!(!s||s.filter!==e.filter);return hv()(vtt,{typeKey:n,activeFilters:r,activeSort:a,filter:e.filter,filterKey:e.key,title:e.title,showSpinner:l&&t,onFilterSelect:u},e.filter)}):null,c?Stt:null,c?hv()(MI,{to:pEe({typeKey:n,customFilter:!0})},"customFilter",Object(Xn.default)("Custom Filter...")):null)};var Ctt=function(e){var t=e.filters,n=e.target,r=e.isOpen,i=e.activeFilters,a=e.activeFilterLabel,o=e.onMenuClose;return hv()(zT,{target:n,isOpen:r,size:qp.LARGE,onMenuClose:o},void 0,hv()(Itt,{activeFilters:i,activeFilterLabel:a,showSpinner:!1,showCustomFilter:!1,filters:t,onPress:o}))},Mtt=Object(Iy.createStructuredSelector)({filters:V7e()}),Dtt=Lm(Mtt,{dispatchSetStartTime:LPe})(Ctt),wtt=Xf.a.Component,Ptt=Xf.a.Fragment,Ttt=hv()(Let,{}),Ett=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onDatePickerMenuButtonPress=function(e){r.setState({isDatePickerMenuOpen:!r.state.isDatePickerMenuOpen})},r.onDatePickerMenuClose=function(){r.setState({isDatePickerMenuOpen:!1})},r.onFilterMenuButtonPress=function(e){r.setState({isFilterMenuOpen:!r.state.isFilterMenuOpen})},r.onFilterMenuClose=function(){r.setState({isFilterMenuOpen:!1})},r.state={isDatePickerMenuOpen:!1,isFilterMenuOpen:!1},r._datePickerMenuButtonID=PS(),r._filterMenuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.selectedFilterTitle,a=e.datePickerTitle,o=e.showEPGActivity,s=e.activeFilters,l=e.activeFilterLabel,c=e.totalSize,u=this.state,d=u.isDatePickerMenuOpen,p=u.isFilterMenuOpen;return hv()(Ptt,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r}),hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,directoryKey:pr.GUIDE}),Ttt),hv()(V4e,{},void 0,hv()($7e,{},void 0,hv()(G1,{id:this._datePickerMenuButtonID,title:a,hasMenu:!0,isMenuOpen:d,onPress:this.onDatePickerMenuButtonPress}),hv()(ctt,{target:this._datePickerMenuButtonID,isOpen:d,onMenuClose:this.onDatePickerMenuClose}),hv()(G1,{id:this._filterMenuButtonID,title:i,hasMenu:!0,isMenuOpen:p,onPress:this.onFilterMenuButtonPress}),hv()(Dtt,{target:this._filterMenuButtonID,isOpen:p,activeFilters:s,activeFilterLabel:l,onMenuClose:this.onFilterMenuClose}),hv()(q7e,{},void 0,c)),o?hv()(ret,{},void 0,hv()(Get,{serverEntityID:t,providerEntityID:n})):null))},t}(wtt);var xtt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},u$e(),Object(Iy.createSelector)(function(e,t){return t.activeFilters},function(e,t){return t.activeFilterLabel},V7e(),function(e,t,n){if(!e||!e.length)return Object(Xn.default)("All Channels");if(e&&1===e.length){var r=e[0],i=n.find(function(e){return e.filter===r.key});if(i)return i.title}return t||Object(Xn.default)("Filtered")}),function(e,t,n){return{datePickerTitle:Q7e(1e3*e.startTime),showEPGActivity:!!t,selectedFilterTitle:n}})})(Ett);var Ott=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.sourceDirectory,a=e.activeFilters,o=e.activeFilterLabel,s=e.channels;return hv()(i2e,{metricsContext:qFe(Ya,Bn)},void 0,hv()(D1,{metricsPage:Ya,scrollDirection:Zp},void 0,hv()(xtt,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,activeFilters:a,activeFilterLabel:o,totalSize:s.length}),hv()(H7e,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,channels:s})))},jtt=Xf.a.createElement,Att=Xf.a.Component;var Ntt={dispatchInitMetadataList:kPe,dispatchResetStartTime:RPe,dispatchResetMetadataList:kfe,dispatchPopulateChannelPrograms:BPe,dispatchChangeQuickSearchSettings:pse},ktt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.containerKey&&this._populate(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)},n.componentDidUpdate=function(e){var t=this.props,n=t.providerIdentifier,r=t.containerKey,i=t.columnTimes,a=t.isRefreshing;r&&r!==e.containerKey||a!==e.isRefreshing?this._populate():TS(i,e.columnTimes)||this.props.dispatchPopulateChannelPrograms(),n&&n!==e.providerIdentifier&&this._setSearchProviderIdentifier(n)},n.componentWillUnmount=function(){var e=this.props.metadataListEntityID;e&&this.props.dispatchResetMetadataList({metadataListEntityID:e}),this._setSearchProviderIdentifier(null)},n._populate=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.containerKey,i=e.dispatchInitMetadataList,a=e.dispatchResetStartTime,o=e.dispatchPopulateChannelPrograms;a(),i({containerKey:r,serverEntityID:t,providerEntityID:n}),o()},n._setSearchProviderIdentifier=function(e){var t=this.props;(0,t.dispatchChangeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:e,sectionID:null})},n.render=function(){var e=this.props,t=(e.dispatchInitMetadataList,wt()(e,["dispatchInitMetadataList"]));return jtt(Ott,t)},t}(Att),Ltt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},uTe(),cTe(),Hk(),GFe(),u$e(),Object(Iy.createSelector)(function(e){return e.ui.channelGridPage},B8e(),function(e,t){var n=e.channelsList,r=e.isChannelsListPopulated,i=e.isChannelsListPending,a=e.channelsListError;return!r||i||a?[]:t?n.filter(function(e){return!!e.tagValue}):n}),B8e(),function(e,t,n,r,i,a,o,s){return{metadataListEntityID:e.metadataList,sourceDirectory:i,columnTimes:e.columnTimes,providerIdentifier:r.identifier,isRefreshing:!!a,channels:V8e(e.columnTimes,t,o,s),containerKey:n}})},Ntt)(ktt),Rtt=Object(Iy.createStructuredSelector)({metadataListEntityID:function(e){return e.ui.channelGridPage.metadataList},directoryKey:Object(Iy.createSelector)(function(e,t){return t.selectedDirectory},function(e){if(e){var t=e.key;return"/"===t.charAt(0)?t:"/library/sections/"+t}})});var _tt=z8e(Ltt,function(e){var t=e.ui.channelGridPage;return{providerEntityID:t.providerEntityID,serverEntityID:t.serverEntityID,metadataListEntityID:t.metadataList,directoryKey:t.directoryKey}},function(e,t){e(NPe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,directoryKey:t.directoryKey})),e(VPe())}),Utt=Lm(Rtt)(_tt),ztt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t),o=Object(Tr.a)(Er.l,n,a);return hv()(eXe,{},void 0,hv()(W0e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source}),hv()(R8e,{serverEntityID:a},void 0,hv()(f8e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,directoryKey:pr.GUIDE},void 0,hv()(Utt,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,directoryKey:pr.GUIDE,activeFilters:X6e(i.filters),activeFilterLabel:i.filterLabel}))))}}),Ftt=Ce.a.extend({name:"PlayHistoryListItemModel",syncedAttrs:{key:Me.a.string,parentKey:Me.a.string,grandparentKey:Me.a.string,title:Me.a.string,parentTitle:Me.a.string,grandparentTitle:Me.a.string,type:Me.a.string,thumb:Me.a.string,parentThumb:Me.a.string,grandparentThumb:Me.a.string,grandparentArt:Me.a.string,index:Me.a.integer,parentIndex:Me.a.integer,originallyAvailableAt:Me.a.string,viewedAt:Me.a.integer,accountID:Me.a.integer,deviceID:Me.a.integer},derivedAttrs:{itemKey:function(){return this.get("key")},id:function(){return this.cid}}}),Btt=Ue.a.extend({name:"PlayHistoryListItemCollection",context:["server"],model:Ftt});var Htt=Ce.a.extend({mixins:[Xs.a],collectionName:"items",name:"PlayHistoryListModel",context:["server","accountID","filters","sort","limit"],responseType:jt.a.json,url:function(){var e=this.filters.reduce(function(e,t){return e[t.key]=t.value,e},{});null!=this.accountID&&(e.accountID=this.accountID),null!=this.sort&&(e.sort=this.sort),null!=this.limit&&(e.limit=this.limit);var t=F.join("/status/sessions/history/all",e);return t=t.replace("viewedAt=","viewedAt>="),this.getPaginatedUrl(t)},sessionAttrs:{currentPageStart:Me.a.integer,currentPageSize:Me.a.integer,populatedRange:Me.a.object},syncedAttrs:{totalSize:Me.a.integer},syncedRelations:{items:{relationClass:Btt,rootPropertyName:"Metadata",setOptions:function(e){return{remove:e.remove,at:e.at}}}},defaults:function(){return{populatedRange:{start:0,end:0,size:0}}},initialize:function(){this.startPopulatedRangeMonitor()}});function Vtt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-ascending-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 80l-200 200h160v200h80v-200h160l-200-200"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Vtt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Qtt=Vtt;function Wtt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-sort-descending-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m80 280h160v-200h80v200h160l-200 200-200-200"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Wtt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Gtt=Wtt,Ytt=n(1063),Ktt=n.n(Ytt),qtt=Xf.a.createElement;function Ztt(e){var t=e.isAscending,n=wt()(e,["isAscending"]);return qtt(t?Gtt:Qtt,dv()({"aria-label":t?Object(Xn.default)("Ascending"):Object(Xn.default)("Descending")},n))}Ztt.defaultProps={className:Ktt.a.sortDirectionIcon,isAscending:!0};var Xtt=Ztt,Jtt=n(1064),$tt=n.n(Jtt),ent=Xf.a.createElement;function tnt(e){var t=e.children,n=wt()(e,["children"]);return ent("div",n,t)}tnt.defaultProps={className:$tt.a.tableHeader};var nnt=tnt,rnt=n(651),int=n.n(rnt),ant=Xf.a.createElement;function ont(e){var t=e.className,n=e.activeClassName,r=e.children,i=e.isActive,a=wt()(e,["className","activeClassName","children","isActive"]),o=i?n:t;return ant("div",dv()({className:o},a),r)}ont.defaultProps={className:int.a.tableHeaderCell,activeClassName:int.a.activeTableHeaderCell};var snt=ont,lnt=n(1065),cnt=n.n(lnt),unt=Xf.a.createElement;function dnt(e){var t=e.children,n=wt()(e,["children"]);return unt(RS,n,t)}dnt.defaultProps={className:cnt.a.tableHeaderLink};var pnt=dnt,hnt=n(1066),fnt=n.n(hnt),gnt=Xf.a.createElement;function vnt(e){var t=e.children,n=wt()(e,["children"]);return gnt("div",n,t)}vnt.defaultProps={className:fnt.a.tableHeaderTitle};var mnt,ynt,bnt=vnt;function Snt(e,t){void 0===t&&(t=window.location.hash);var n=function(e){if(mnt===e)return ynt;var t=e.split("?"),n=t.length>1?t[1]:void 0,r=n?F.parseParams(n):{};return mnt=e,ynt={url:t[0],params:r}}(t);return F.join(n.url,Object.assign({},n.params,{filters:sTe(e.filters),activeTimePeriodTypeKey:e.activeTimePeriodTypeKey,sort:e.sort,limit:e.limit}))}var Int=n(1067),Cnt=n.n(Int);var Mnt=function(e){var t=e.activeTableColumns,n=e.activeFilters,r=e.activeTimePeriodTypeKey,i=e.activeSort,a=e.activeLimit;return hv()(nnt,{},void 0,t.map(function(e){var t=e.style,o=e.title,s=e.ascKey,l=e.descKey,c=e.key;if(!s)return hv()("div",{style:t,className:Cnt.a.tableHeader},c,hv()(snt,{},void 0,hv()(bnt,{},void 0,o())));var u=i===s||i===l,d=i&&i===s;return hv()(pnt,{style:t,to:Snt({filters:n,activeTimePeriodTypeKey:r,sort:d?l:s,limit:a})},c,hv()(snt,{isActive:u},void 0,hv()(bnt,{},void 0,o()),u?hv()(Xtt,{isAscending:!d}):null))}))};function Dnt(e,t){return!!e&&e.some(function(e){return e.key===t})}var wnt={};var Pnt=function(e){var t=e.className,n=e.name;return hv()("span",{className:t,title:n},void 0,n)};var Tnt=Lm(function(e,t){return Object(Iy.createSelector)(function(e,t){return t.accountID},function(e){if(wnt[e])return wnt[e];var t=Object(Iy.createSelector)(WA(),function(t){return t[e]});return wnt[e]=t,t}("accounts"),function(e,t){if(null==e)return{};var n=t.find(function(t){return t.id===e});return{name:n?n.name:Object(Xn.default)("Unknown User")}})})(Pnt);var Ent=function(e){var t=e.className,n=e.device,r=n?n.platform:Object(Xn.default)("Unknown");return hv()("span",{className:t,title:r},void 0,r)};var xnt=function(e){var t=e.className,n=e.device,r=n?n.name:Object(Xn.default)("Unknown");return hv()("span",{className:t,title:r},void 0,r)};var Ont=function(e){var t=e.className,n=e.type,r=Object(nr.r)(n);if(!r)return null;var i=r.title;return hv()("span",{className:t,title:i},void 0,i)};var jnt=function(e){var t=e.className,n=e.viewedAt,r=e.timeFormat;if(!n)return null;var i=Object(ove.default)(1e3*n,r+" MMM d, yyyy");return hv()("span",{className:t,title:i},void 0,i)},Ant=Object(Iy.createSelector)(TTe,function(e){return{timeFormat:e}}),Nnt=Lm(Ant)(jnt),knt=n(652),Lnt=n.n(knt);var Rnt=function(e){var t=e.className,n=wz(wt()(e,["className"]));return hv()("span",{className:t},void 0,hv()("div",{className:Lnt.a.titleContainer},void 0,hv()("span",{className:Lnt.a.title,title:n},void 0,n)))},_nt="librarySectionID",Unt="accountID",znt="metadataItemID",Fnt="viewedAt",Bnt={key:"user",title:function(){return Object(Xn.default)("User")},component:function(){return Tnt},style:{flex:"1 1 250px"}},Hnt={key:"type",title:function(){return Object(Xn.default)("Type")},component:function(){return Ont},style:{flex:"0 1 120px"}},Vnt={key:"title",title:function(){return Object(Xn.default)("Title")},component:function(){return Rnt},style:{flex:"2 0 350px"}},Qnt={key:"player",title:function(){return Object(Xn.default)("Player")},component:function(){return xnt},style:{flex:"1 1 150px"}},Wnt={key:"platform",title:function(){return Object(Xn.default)("Platform")},component:function(){return Ent},style:{flex:"1 1 150px"}},Gnt=[{key:"viewedAt",ascKey:"viewedAt",descKey:"viewedAt:desc",title:function(){return Object(Xn.default)("Played")},component:function(){return Nnt},style:{flex:"1 1 150px"}}];var Ynt,Knt=function(e,t,n){var r=Gnt;return n&&(r=[Qnt,Wnt].concat(r)),!t&&Dnt(e,znt)||(r=[Vnt].concat(r)),Dnt(e,_nt)||Dnt(e,znt)||(r=[Hnt].concat(r)),Dnt(e,Unt)||(r=[Bnt].concat(r)),r},qnt=Mt("ui/playHistoryPage/resetPlayHistoryPage"),Znt=Mt("ui/playHistoryPage/initPlayHistoryItemList"),Xnt=Mt("ui/playHistoryPage/populatePlayHistoryListRange"),Jnt=Mt("ui/playHistoryPage/fetchDevices");function $nt(e){return e.get("ui").get("playHistoryPage")}var ert=((Ynt={})["ui/playHistoryPage/resetPlayHistoryPage"]=function(e){var t=$nt(e),n=t.get("playHistoryList");n&&(n.abortPendingPopulate(),n.resetPopulatePromise(null)),Y.a.abortAll("playHistory"),t.restoreDefaults()},Ynt["ui/playHistoryPage/initPlayHistoryItemList"]=function(e,t){void 0===t&&(t={});var n=$nt(e),r=bo(e,t),i=new Htt([],{server:r,accountID:t.accountID,filters:t.filters,sort:t.sort,limit:t.limit});n.set("playHistoryList",i)},Ynt["ui/playHistoryPage/populatePlayHistoryListRange"]=Ghe({key:"playHistoryList",getModel:$nt}),Ynt["ui/playHistoryPage/fetchDevices"]=function(e,t){void 0===t&&(t={});var n=$nt(e),r=bo(e,t);n.set({isDevicesPending:!0,isDevicesPopulated:!1}),Y.a.abortAll("playHistory");var i=r.getXHROptions("/devices",{dataType:"json",scope:"playHistory"});P.a.ajax(i).done(function(e){n.set({devices:e.MediaContainer.Device||[],isDevicesPending:!1,isDevicesPopulated:!0})}).fail(function(){n.set({isDevicesPending:!1})})},Ynt),trt=P2(parseInt(yQ.a.tableRowHeight,10)),nrt=n(514),rrt=n.n(nrt),irt=Xf.a.createElement;var art=function(e){var t=e.style,n=e.component,r=e.isActiveSort,i=wt()(e,["style","component","isActiveSort"]),a=n(e.type);return hv()("div",{className:r?rrt.a.activeTableCell:rrt.a.tableCell,style:t},void 0,irt(a,dv()({},i,{className:rrt.a.title})))},ort=n(515),srt=n.n(ort),lrt=Xf.a.createElement;var crt=function(e){var t,n=e.cellIndex,r=e.serverEntityID,i=e.server,a=e.devices,o=e.activeTableColumns,s=e.type,l=e.title,c=e.itemKey,u=e.parentKey,d=e.deviceID,p=wt()(e,["cellIndex","serverEntityID","server","devices","activeTableColumns","type","title","itemKey","parentKey","deviceID"]),h=CF(e);if(c){var f=o.some(function(e){return"title"===e.key}),g=s===nr.m?u:c;t=f?Og(i,{isLibraryProvider:!0},g):null}var v=a.find(function(e){return e.id===d});return hv()("div",{className:n%2?srt.a.alternateItem:srt.a.item,style:h.style},void 0,hv()(RS,{className:srt.a.columns,"aria-label":l,to:t,isDisabled:!t},void 0,o.map(function(e,t){var n=e.style,i=e.component;return lrt(art,dv()({key:t,style:n,serverEntityID:r,component:i,title:l,type:s,device:v},p))})))},urt=n(653),drt=n.n(urt);var prt=function(e){var t=e.cellIndex,n=CF(e);return hv()("div",{className:t%2?drt.a.alternateLoadingItem:drt.a.loadingItem,style:n.style},void 0,Object(Xn.default)("Loading..."))},hrt=Xf.a.createElement;var frt=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{server:e}})})(function(e){return e.id?hrt(crt,e):hrt(prt,e)}),grt=Xf.a.createElement;var vrt=function(e){var t,n=e.serverEntityID,r=e.activeTableColumns,i=e.devices,a=wt()(e,["serverEntityID","activeTableColumns","devices"]);return grt(cF,dv()({layout:trt,cellRenderer:(t={serverEntityID:n,activeTableColumns:r,devices:i},function(e){return grt(frt,dv()({},t,e))})},a))},mrt=n(1068),yrt=n.n(mrt),brt=Xf.a.createElement;var Srt=function(e){return brt(O4e,dv()({iconClassName:yrt.a.icon,iconComponent:FR},e))},Irt=Xf.a.createElement;var Crt=function(e){var t=e.children,n=wt()(e,["children"]);return Irt(o8e,dv()({title:Object(Xn.default)("There was an unexpected error"),description:Object(Xn.default)("Please visit our forums if you continue to experience problems")},n),hv()(RS,{to:fB,target:"_self",kind:a.PRIMARY},void 0,Object(Xn.default)("Go to Forums")),t)},Mrt=Xf.a.createElement;var Drt=function(e){var t=e.children,n=wt()(e,["children"]);return Mrt(Crt,dv()({className:E4e.a.innerEmptyPage,contentClassName:E4e.a.innerEmptyPageContent,scrollDirection:Zp},n),t)},wrt=n(654),Prt=n.n(wrt),Trt=hv()(W1e,{},void 0,hv()(O4e,{},void 0,hv()(ZE.a,{})));var Ert=function(e){var t=e.serverEntityID,n=e.machineIdentifier,r=e.activeTableColumns,i=e.items,o=e.devices,s=e.activeSort,l=e.minServerVersion,c=e.serverSupportsPlayHistory,u=e.totalSize,d=e.populatedRange,p=e.isPending,h=e.isPopulated,f=e.error,g=e.onPageRequest,v=u||i.length;return h&&v?hv()(vrt,{className:Prt.a.playHistoryListPageContent,scrollerClassName:Prt.a.playHistoryListScroller,serverEntityID:t,scrollPositionStorageKey:"PlayHistoryList",keyPropName:"id",activeTableColumns:r,items:i,devices:o,itemsOffset:d.start,size:v,activeSort:s,onPageRequest:g}):c?p?Trt:f?hv()(W1e,{},void 0,hv()(Drt,{title:Object(Xn.default)("There was an unexpected error loading this list")})):hv()(W1e,{},void 0,hv()(O4e,{title:Object(Xn.default)("Nothing to see here"),description:Object(Xn.default)("Snuggle up on the couch and play something!")})):hv()(W1e,{},void 0,hv()(Srt,{title:Object(Xn.default)("Update your Plex Media Server")},void 0,hv()(RS,{kind:a.PRIMARY,to:Rc(n,"settings","general")},void 0,Object(Xn.default)("Play History requires Plex Media Server {version} or higher",{version:l}))))},xrt=Xf.a.createElement,Ort=Xf.a.Component;var jrt={dispatchResetPlayHistoryPage:qnt,dispatchInitPlayHistoryItemList:Znt,dispatchPopulatePlayHistoryListRange:Xnt,dispatchFetchDevices:Jnt},Art=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPageRequest=function(e){t.props.dispatchPopulatePlayHistoryListRange(e)},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.serverEntityID,n=e.activeFilters,r=e.activeSort,i=e.activeLimit,a=e.serverSupportsPlayHistory,o=e.serverSupportsPlayHistoryDevices,s=e.dispatchInitPlayHistoryItemList,l=e.dispatchPopulatePlayHistoryListRange,c=e.dispatchFetchDevices;a&&(s({serverEntityID:t,filters:n,sort:r,limit:i}),o&&c({serverEntityID:t}),Object(No.a)(function(){l({startIndex:0,endIndex:49,pages:1})}))},n.componentWillUnmount=function(){this.props.dispatchResetPlayHistoryPage()},n.render=function(){var e=this.props,t=(e.dispatchResetPlayHistoryPage,e.dispatchInitPlayHistoryItemList,e.dispatchPopulatePlayHistoryListRange,e.dispatchFetchDevices,wt()(e,["dispatchResetPlayHistoryPage","dispatchInitPlayHistoryItemList","dispatchPopulatePlayHistoryListRange","dispatchFetchDevices"]));return xrt(Ert,dv()({},t,{onPageRequest:this.onPageRequest}))},t}(Ort),Nrt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.playHistoryPage},XS,function(e,t){var n=e.playHistoryList,r=void 0===n?{}:n,i=e.isPlayHistoryListPending,a=e.isPlayHistoryListPopulated,o=e.playHistoryListError,s=e.devices,l=e.isDevicesPending,c=e.isDevicesPopulated;return{items:r.items||[],devices:s,machineIdentifier:t.machineIdentifier,minServerVersion:Cc.playHistory,serverSupportsPlayHistory:yc(t.version,Cc.playHistory),serverSupportsPlayHistoryDevices:yc(t.version,Cc.playHistoryDevices),totalSize:r.totalSize,populatedRange:r.populatedRange,isPending:i||l,isPopulated:a&&(c||!l),error:o}})},jrt)(Art),krt=Xf.a.Fragment;var Lrt=function(e){var t=e.serverEntityID,n=e.activeFilters,r=e.activeTimePeriodTypeKey,i=e.activeSort,a=e.activeLimit,o=e.isParentType,s=e.shouldShowDeviceColumns,l=Knt(n,o,s);return hv()(krt,{},void 0,hv()(Mnt,{activeTableColumns:l,activeFilters:n,activeTimePeriodTypeKey:r,activeSort:i,activeLimit:a}),hv()(Nrt,{serverEntityID:t,activeTableColumns:l,activeFilters:n,activeSort:i,activeLimit:a}))};var Rrt=Lm(function(){return Object(Iy.createSelector)(XS,function(e){return{shouldShowDeviceColumns:yc(e.version,Cc.playHistoryDevices)}})})(Lrt);function _rt(e,t,n){var r=[].concat(e),i=r.findIndex(function(e){return e.key===t}),a=-1===i?0:i,o=Object.assign({key:t},n);return-1===i?r.push(o):r.splice(a,1,o),r}var Urt=n(655),zrt=n.n(Urt),Frt=Xf.a.Component,Brt=Xf.a.Fragment,Hrt="all",Vrt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onServerSelect=function(e){window.location.hash=xU(e)},r.onLibrarySelect=function(e){var t,n=r.props,i=n.activeFilters,a=n.activeTimePeriodTypeKey,o=n.activeSort,s=n.activeLimit;t=e!==Hrt?_rt(i,_nt,{value:e,type:G6e}):ptt(i,_nt),window.location.hash=Snt({filters:t,activeTimePeriodTypeKey:a,sort:o,limit:s})},r.onUserSelect=function(e){var t,n=r.props,i=n.activeFilters,a=n.activeTimePeriodTypeKey,o=n.activeSort,s=n.activeLimit;t=e?_rt(i,Unt,{value:String(e),type:G6e}):ptt(i,Unt),window.location.hash=Snt({filters:t,activeTimePeriodTypeKey:a,sort:o,limit:s})},r.onTimePeriodTypeSelect=function(e){var t=r.props,n=t.activeFilters,i=t.activeSort,a=t.activeLimit,o=_rt(n,Fnt,{value:String(oS(e).after()),type:G6e});window.location.hash=Snt({filters:o,activeTimePeriodTypeKey:e,sort:i,limit:a})},r._availableTimePeriodTypes=[$b,eS,tS,nS,rS].map(oS),r._allLibraries={key:Hrt,title:Object(Xn.default)("All Libraries")},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.activeFilters,n=e.activeFilterTitle,r=e.activeTimePeriodTypeKey,i=e.servers,a=e.libraries,o=e.users,s=e.selectedServer,l=e.selectedLibrary,c=e.selectedUser,u=e.totalSize,d=e.serverSupportsPlayHistory,p=[this._allLibraries].concat(a),h=oS(r||rS),f=!Dnt(t,znt);return hv()(V4e,{},void 0,hv()(_1,{},void 0,hv()("div",{className:zrt.a.title},void 0,Object(Xn.default)("Play History"),n?hv()("span",{className:zrt.a.subtitle},void 0,n):null),f?hv()(GT,{items:i,selectedItem:s,onSelect:this.onServerSelect}):null,d&&f?hv()(Brt,{},void 0,hv()(GT,{items:p,selectedItem:l||this._allLibraries,onSelect:this.onLibrarySelect}),hv()(DU,{users:o,selectedUser:c,onSelect:this.onUserSelect}),hv()(GT,{items:this._availableTimePeriodTypes,selectedItem:h,onSelect:this.onTimePeriodTypeSelect})):null,hv()(q7e,{},void 0,u)))},t}(Frt),Qrt=Xf.a.createElement,Wrt=Xf.a.Component;function Grt(){return KS(Object(Iy.createSelector)(_X,function(e){return e.map(function(e){return{entityID:e.entityID,machineIdentifier:e.machineIdentifier,version:e.version,title:e.friendlyName,key:e.machineIdentifier}})}),function(e){return e})}var Yrt={dispatchPopulateAccounts:PA,dispatchPopulateLibraries:vc},Krt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.serverEntityID,n=e.dispatchPopulateAccounts,r=e.dispatchPopulateLibraries;n({serverEntityID:t}),r({serverEntityID:t})},n.render=function(){var e=this.props,t=(e.dispatchPopulateAccounts,wt()(e,["dispatchPopulateAccounts"]));return Qrt(Vrt,t)},t}(Wrt),qrt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.playHistoryPage},WA(),Grt(),zq(),Object(Iy.createSelector)(function(e,t){return t.serverEntityID},Grt(),function(e,t){return t?t.find(function(t){return t.entityID===e}):null}),Object(Iy.createSelector)(function(e,t){return t.activeFilters},zq(),function(e,t){var n=e.find(function(e){return"librarySectionID"===e.key});return n&&t.length?t.find(function(e){return String(e.key)===n.value}):null}),Object(Iy.createSelector)(function(e,t){return t.activeFilters},WA(),function(e,t){var n=t.accounts,r=e.find(function(e){return"accountID"===e.key});return r?n.find(function(e){return String(e.id)===r.value}):null}),function(e,t,n,r,i,a,o){var s=e.playHistoryList,l=void 0===s?{}:s;return{servers:n,libraries:r,users:t.accounts,selectedServer:i,selectedLibrary:a,selectedUser:o,totalSize:l.totalSize,serverSupportsPlayHistory:yc(i.version,Cc.playHistory)}})},Yrt)(Krt);var Zrt=function(e){var t=e.serverEntityID,n=e.activeFilters,r=e.activeFilterTitle,i=e.activeTimePeriodTypeKey,a=e.activeSort,o=e.activeLimit,s=e.isParentType;return hv()(D1,{metricsPage:Ra,isMetricsDelegated:!0,scrollDirection:Zp},void 0,hv()(qrt,{serverEntityID:t,activeFilters:n,activeFilterTitle:r,activeTimePeriodTypeKey:i,activeSort:a,activeLimit:o}),hv()(Rrt,{serverEntityID:t,activeFilters:n,activeTimePeriodTypeKey:i,activeSort:a,activeLimit:o,isParentType:s}))},Xrt=hv()(W0e,{}),Jrt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.params||{},r=n.filters,i=n.filterTitle,a=n.activeTimePeriodTypeKey,o=n.sort,s=void 0===o?"viewedAt:desc":o,l=n.limit,c=n.isParentType,u=Object(Tr.a)(Er.n,t);return hv()(i2e,{metricsContext:n.context},void 0,hv()(eXe,{},void 0,Xrt,hv()(R8e,{serverEntityID:u},void 0,hv()(Zrt,{machineIdentifier:t,serverEntityID:u,activeFilters:X6e(r),activeFilterTitle:i,activeTimePeriodTypeKey:a,activeSort:s,activeLimit:mt.a.parseInteger(l),isParentType:mt.a.parseBoolean(c)}))))}});var $rt=KPe.bind(null,"integrations"),eit=Xf.a.Component;var tit={dispatchNavigate:Ts},nit=hv()(s8e,{}),rit=hv()(WZe,{},void 0,hv()(ZE.a,{})),iit=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._maybeRedirect(this.props)},n.componentDidUpdate=function(e){this._maybeRedirect(this.props)},n._maybeRedirect=function(e){this._hasRedirected||this.props.isSourceDirectoryNotFound||(e.dispatchNavigate({pathname:e.tabRoute,prependHashBang:!0,replace:!0}),this._hasRedirected=!0)},n.render=function(){return this.props.isSourceDirectoryNotFound?nit:rit},t}(eit),ait=Lm(function(){return Object(Iy.createSelector)(Dy(),Hk(),GFe(),t8e(),h0e,function(e,t,n,r,i){return n?(n.pivots&&(a=r||n.pivots[0]),{tabRoute:a?iet(e,t,n,a,i[n8e(e,t,n,a)]):dr(e,t,n,{key:n.hubKey||n.key})}):{isSourceDirectoryNotFound:!0};var a})},tit)(iit),oit=Mt("INIT_DISCOVER_PAGE"),sit=Mt("FETCH_HUBS"),lit=Mt("FETCH_PROMOTED_HUBS"),cit=(Mt("POPULATE_PROMOTED_HUBS"),Object(Iy.createSelector)(Swe,function(e){return e.ui.discoverPage.hubs},function(e,t){return void 0===t&&(t=[]),!!t.find(function(t){return e[t].style===XFe.c})})),uit=Xf.a.Component;var dit=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this)._repopulateProgramGuide=function(){var e=t.props,n=e.dispatchFetchProviders,r=e.dispatchRepopulatePage;n(),r(),t._setRepopulateTimeout()},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._setRepopulateTimeout()},n.componentDidUpdate=function(){this._setRepopulateTimeout()},n.componentWillUnmount=function(){this._clearRepopulateTimeout()},n._setRepopulateTimeout=function(){this.props.isRefreshing&&(this._clearRepopulateTimeout(),this._repopulateTimeoutID=setTimeout(this._repopulateProgramGuide,15e3))},n._clearRepopulateTimeout=function(){this._repopulateTimeoutID&&clearTimeout(this._repopulateTimeoutID)},n.render=function(){return null},t}(uit),pit=Lm(function(){return Object(Iy.createSelector)(u$e(),function(e){return{isRefreshing:!!e}})},function(e,t){var n=t.serverEntityID;return{dispatchFetchProviders:function(){e(hc({serverEntityID:n}))},dispatchRepopulatePage:function(){e(iu({serverEntityID:n}))}}})(dit),hit=n(401),fit=n.n(hit);var git=function(e){var t=e.providerIdentifier;return Cn.i(t,Cn.e)?hv()("div",{className:fit.a.container},void 0,hv()("div",{className:fit.a.text},void 0,hv()("div",{className:fit.a.logo,"aria-label":Object(Xn.default)("TIDAL")}),hv()("div",{className:fit.a.body},void 0,Object(Xn.default)("Preview 60 million streaming tracks, thousands of music videos and more.")),hv()(RS,{to:mB,kind:a.DARK},void 0,Object(Xn.default)("Learn more at plex.tv")))):null},vit=Xf.a.createElement,mit=Xf.a.Component;var yit=function(e,t){var n=t.isUpdatingPropName,r=t.errorPropName,i=t.clearDirtyOnChangePropName,a=function(t){function a(e,n){var r;return(r=t.call(this,e,n)||this).onFormChange=function(e){r.props.onFormChange&&r.props.onFormChange(e),r.state.isDirty||r.setState({isDirty:!0})},r.state={isDirty:!1},r}Sy()(a,t);var o=a.prototype;return o.componentWillReceiveProps=function(e){var t=!1;i&&(t=this.props[i]!==e[i]);var a=this.props[n]&&!e[n]&&null===e[r];this.state.isDirty&&(t||a)&&this.setState({isDirty:!1})},o.render=function(){return vit(e,dv()({isDirty:this.state.isDirty},this.props,{onFormChange:this.onFormChange}))},a}(mit);return a.displayName="DirtyAware("+Object(vE.a)(e)+")",a.WrappedComponent=e,a},bit=n(516),Sit=n.n(bit);function Iit(e){return void 0===e&&(e={}),Object.assign({isFileImport:!1,channelURL:"",fileURL:null},e)}var Cit=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onModalClose=function(){r.props.onClearError(),r.props.onModalClose()},r.onFileImportTogglePress=function(){r.setState(Iit({isFileImport:!r.state.isFileImport}))},r.onFileChange=function(e){var t;if(e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){var n=window.URL.createObjectURL(t);r.setState({fileURL:n})}},r.onURLChange=function(e){r.setState({channelURL:e})},r.onSubmit=function(e){e.preventDefault(),r.props.onSubmit({channelURL:r.state.channelURL,fileURL:r.state.fileURL})},r.state=Iit(),r}Sy()(t,e),t.getDerivedStateFromProps=function(e,t){return t.isOpen!==!e.isOpen?Iit({isOpen:e.isOpen}):null};var n=t.prototype;return n.componentDidUpdate=function(e,t){this.props.isUpdating||!e.isUpdating||this.props.hasError||this.props.onModalClose()},n.render=function(){var e=this.props,t=e.isOpen,n=e.title,r=e.message,i=e.hasError,o=e.hasFileImportFeature,s=e.textInputLabel,l=e.fileInputButtonLabel,c=e.fileImportLabel,u=e.urlImportLabel,d=e.confirmLabel,p=e.confirmKind,h=e.isUpdating,f=e.isDirty,g=e.metricsPage,v=e.metricsProperties,m=e.onFormChange;return hv()(VN,{isOpen:t,metricsPage:g,metricsProperties:v,onModalClose:this.onModalClose},void 0,hv()("form",{className:Sit.a.form,onSubmit:this.onSubmit,onChange:m},void 0,hv()(qN,{onModalClose:this.onModalClose},void 0,hv()(PN,{},void 0,n),i?hv()(FV,{errorMessage:Object(Xn.default)("Something went wrong. Make sure the URL is correct and try again.")}):null,hv()(CN,{},void 0,hv()("p",{},void 0,r),o?hv()("p",{},void 0,hv()(RS,{kind:a.PRIMARY,onPress:this.onFileImportTogglePress},void 0,this.state.isFileImport?u||Object(Xn.default)("Import from a URL instead"):c||Object(Xn.default)("Import from a file instead"))):null,hv()("div",{className:Sit.a.inputContainer},void 0,this.state.isFileImport?hv()(JVe,{name:"file",accept:".xml, .opml",buttonText:l||Object(Xn.default)("Choose File"),showFilename:!0,onChange:this.onFileChange}):hv()(DW,{name:"channelURL",value:this.state.URLValue,labelText:s,"data-autofocus":!0,onChange:this.onURLChange})),this.state.fileURL?hv()("p",{className:Sit.a.fileNote},void 0,Object(Xn.default)("NOTE: Podcasts will appear as they're processed. This may take some time to complete")):null),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(_V,{type:"submit",kind:p,isDisabled:!f,isSpinning:h},void 0,d||Object(Xn.default)("Continue")))))))},t}(Xf.a.Component);Cit.defaultProps={confirmKind:a.PRIMARY,hasFileImportFeature:!1};var Mit=yit(Cit,{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var Dit=iZ(function(){return Object(Iy.createSelector)(function(e){return e.ui.addToCatalogModal},function(e){return{isUpdating:e.isUpdating,hasError:!!e.error}})},function(e,t){return{onClearError:function(){e(p$e())},onSubmit:function(n){e(d$e({providerEntityID:t.providerEntityID,data:n}))}}})(Mit);var wit=function(e){var t=e.providerEntityID,n=e.isOpen,r=e.onModalClose;return hv()(Dit,{providerEntityID:t,isOpen:n,title:Object(Xn.default)("Add a Podcast"),message:Object(Xn.default)("Want to add a podcast we havent listed? If you know the URL for the podcast, you can enter it below."),textInputLabel:Object(Xn.default)("Podcast Feed"),fileInputButtonLabel:Object(Xn.default)("Choose OPML File"),fileImportLabel:Object(Xn.default)("Import podcasts from an OPML file instead"),urlImportLabel:Object(Xn.default)("Import podcasts from a URL instead"),hasFileImportFeature:!0,onModalClose:r})};function Pit(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-podcast-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M434,504 L378,504 L378,417.4558 C306.354,404.2735 252,341.435 252,266 L294,266 C294,327.815 344.186,378 406,378 C467.814,378 518,327.815 518,266 L560,266 C560,341.435 505.646,404.2735 434,417.4558 L434,504 Z M476,126 C476,87.366 444.634,56 406,56 C367.366,56 336,87.366 336,126 L336,266 C336,304.634 367.366,336 406,336 C444.634,336 476,304.634 476,266 L476,126 Z M134.4,100.8 L134.4,190.4 L224,190.4 L224,235.2 L134.4,235.2 L134.4,324.8 L89.6,324.8 L89.6,235.2 L0,235.2 L0,190.4 L89.6,190.4 L89.6,100.8 L134.4,100.8 Z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Pit.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Tit=Pit,Eit=Xf.a.createElement,xit=Xf.a.Component,Oit=hv()(Tit,{}),jit=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onButtonPress=function(){r.setState({isModalOpen:!0})},r.onModalClose=function(){r.setState({isModalOpen:!1})},r.state={isModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.providerEntityID,n=wt()(e,["providerEntityID"]);return Eit(x1,dv()({tooltip:Object(Xn.default)("Add Podcast by URL"),"data-qa-id":"toolbarAddCustomPodcast",onPress:this.onButtonPress},n),Oit,hv()(wit,{providerEntityID:t,isOpen:this.state.isModalOpen,onModalClose:this.onModalClose}))},t}(xit),Ait=Xf.a.Fragment,Nit=hv()(u5e,{}),kit=hv()(O5e,{});var Lit=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.provider,i=e.sourceDirectory,a=e.hubKey,o=e.showEPGActivity,s=r.features.actions.addToCatalog;return hv()(Ait,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i}),i?hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:a}):null,hv()(Let,{},void 0,s?hv()(o5e,{},void 0,hv()(jit,{providerEntityID:n})):null,s?Nit:null,kit)),o?hv()(V4e,{},void 0,hv()(ret,{},void 0,hv()(Get,{serverEntityID:t,providerEntityID:n}))):null)};var Rit=Lm(function(){return Object(Iy.createSelector)(xse,u$e(),function(e,t){return{provider:e,showEPGActivity:!!t}})})(Lit),_it=Object(Iy.createSelector)(wy,function(e){return e.subscriptions||[]}),Uit=Object(Iy.createSelector)(_it,function(e){var t=e.find(function(e){return"tidal"===e.type})||{};return"active"===t.state||"pending_cancellation"===t.state});function zit(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-tidal-logo-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M373.331 186.32l-93.324 93.332-93.337-93.341L280.007 93l93.332 93.309L466.67 93 560 186.318l-93.33 93.341-93.339-93.339zm.01 186.669l-93.334 93.34-93.337-93.34 93.337-93.337 93.334 93.337zm-186.67-186.67l-93.338 93.34L0 186.32 93.333 93l93.337 93.318z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}zit.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Fit=zit,Bit=n(1069),Hit=n.n(Bit),Vit=hv()(jUe,{},void 0,hv()(ZE.a,{}));var Qit=function(e){var t=e.isPending,n=e.hasTidal;return t?Vit:n?hv()(LUe,{title:Object(Xn.default)("Account not linked"),description:Object(Xn.default)("Ensure your Plex account is linked to TIDAL.")},void 0,hv()(RS,{to:TB,kind:a.PRIMARY},void 0,Object(Xn.default)("Learn more"))):hv()(jUe,{iconComponent:Fit,iconClassName:Hit.a.logo,title:Object(Xn.default)("TIDAL + Plex = music to your ears!"),description:Object(Xn.default)("Need some jams? Add TIDAL streaming music to Plex and get access to 60 million of the highest quality tracks, hundreds of thousands of music videos, awesome premium Plex music features, and seamless integration with your own collection. Sign up today to start a FREE trial!")},void 0,hv()(RS,{to:mB,kind:a.PRIMARY},void 0,Object(Xn.default)("Learn more")))};var Wit=Lm(function(){return Object(Iy.createSelector)(Uit,function(e){return{hasTidal:e}})})(Qit),Git=n(656),Yit=n.n(Git),Kit=hv()(O4e,{},void 0,hv()(ZE.a,{}));var qit=function(e){var t=e.machineIdentifier,n=e.isCloud,r=e.isFullOwnedServer,i=e.isPending,a=e.error,o=e.onRepopulate;if(i)return Kit;if(a)return hv()(Drt,{title:n?Object(Xn.default)("There was an unexpected error loading this page"):Object(Xn.default)("There was an unexpected error loading this library")},void 0,hv()(RS,{kind:Qp,onPress:o},void 0,Object(Xn.default)("Retry")));var s=r?Object(Xn.default)("Expecting more? Visit the Manage Libraries page to add folders and scan library files."):null;return hv()(O4e,{title:n?Object(Xn.default)("This page is currently empty"):Object(Xn.default)("This library is currently empty"),description:s},void 0,s?null:hv()("div",{className:Yit.a.emptyDescription}),r?hv()(I_,{className:Yit.a.manageLibraries,kind:Qp,to:Rc(t,"manage","libraries")},void 0,Object(Xn.default)("Manage libraries")):null,hv()(RS,{kind:Qp,onPress:o},void 0,Object(Xn.default)("Retry")))};var Zit=Lm(function(){return Object(Iy.createSelector)(Dy(),function(e){return{machineIdentifier:e.machineIdentifier,isCloud:e.isCloud,isFullOwnedServer:e.isFullOwnedServer}})})(qit),Xit=hv()(O4e,{},void 0,hv()(ZE.a,{}));var Jit=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.isPending,i=e.error;return r?Xit:i?hv()(Drt,{title:Object(Xn.default)("There was an unexpected error loading the Guide")}):hv()(e9e,{serverEntityID:t,providerEntityID:n})},$it=Xf.a.createElement;var eat=function(e){var t=e.providerIdentifier,n=e.sourceDirectory,r=wt()(e,["providerIdentifier","sourceDirectory"]);return Cn.i(t,Cn.c)?$it(Jit,r):n&&n.id===Kn?$it(Wit,r):$it(Zit,r)},tat=n(517),nat=n.n(tat),rat=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onProviderChange(this.props.providerIdentifier)},n.componentDidUpdate=function(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.onProviderChange(this.props.providerIdentifier)},n.componentWillUnmount=function(){this.props.onProviderChange(null)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.providerIdentifier,i=e.providerMetricsIdentifier,a=e.isProgramGuide,o=e.sourceDirectory,s=e.activeSelectionType,l=e.hubEntityIDs,c=e.isHubsPending,u=e.hubsError,d=e.isEmpty,p=e.hubKey,h=e.showUpsell,f=e.onRepopulate;return hv()(D1,{metricsPage:"discover",metricsProperties:{identifier:i,type:o&&o.type},allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,s?hv()(e5e,{serverEntityID:t,providerEntityID:n}):hv()(Rit,{serverEntityID:t,providerEntityID:n,sourceDirectory:o,hubKey:p}),hv()(W1e,{innerClassName:nat.a.discoverPageContent},void 0,h?hv()(git,{providerIdentifier:r}):null,hv()("div",{className:nat.a.discoverPageList},void 0,d?hv()(eat,{serverEntityID:t,providerEntityID:n,providerIdentifier:r,sourceDirectory:o,isPending:c,error:u,onRepopulate:f}):null,d?null:hv()(XBe,{directoryKey:p,serverEntityID:t,providerEntityID:n,hubEntityIDs:l,sourceDirectory:o,allowHomeHubIndicator:!0,allowPersistentHomeHubStatus:!0,allowToggleHomeHub:!0}),a&&!d?hv()(q8e,{className:nat.a.attribution,providerEntityID:n}):null)),a?hv()(pit,{serverEntityID:t,providerEntityID:n}):null)},t}(Xf.a.Component),iat=Object(Iy.createSelector)(Swe,function(e){return e.ui.discoverPage.hubs},function(e,t){void 0===t&&(t=[]);for(var n=t.length;n-- >0;){var r=e[t[n]];if(r.type!==wwe&&(r.size||r.totalSize))return!1}return!0});var aat=z8e(rat,function(e){var t=e.ui.discoverPage;return{providerEntityID:t.providerEntityID,hubKey:t.hubKey}},function(e,t){e(oit({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,hubKey:t.hubKey})),e(sit({options:{onlyTransient:!0}}))}),oat=Lm(function(){return Object(Iy.createSelector)(Hk(),function(e){return e.ui.discoverPage},iat,cit,_fe,function(e,t,n,r,i){var a=t.hubs||[],o=Cn.i(e.identifier,Cn.c);return{providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,isProgramGuide:o,hubEntityIDs:a,isHubsPending:t.isHubsPending,hubsError:t.hubsError,isEmpty:n,showUpsell:r,activeSelectionType:i.activeSelectionType}})},function(e,t){return{onProviderChange:function(n){e(pse({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,sectionID:null}))}}})(aat);var sat=Object(Iy.createSelector)(function(e){return e.ui.libraryPage.metadataList},Qhe,function(e,t){return t[e]}),lat=Object(Iy.createSelector)(function(e){return e.ui.libraryPage.details},sat,function(e,t){var n=t&&t.meta;return n&&n.types.length?n.types:e?e.types:void 0});function cat(){return Object(Iy.createSelector)(function(e,t){return t.activeType},function(e,t){return t.typeKey},lat,function(e,t,n){var r;return t?r=C.a.find(n,function(e){return e.key===t}):e&&(r=C.a.find(n,function(t){var n=Object(nr.r)(t.type),r=Object(nr.r)(e);return!!n&&!!r&&n.id===r.id})),r||(r=C.a.first(n)),r})}var uat,dat=n(295),pat=Ce.a.extend({name:"QueryLimitModel",rootPropertyName:"Limit",syncedAttrs:{limit:Me.a.integer,unit:Me.a.string}}),hat=Ue.a.extend({name:"QueryLimitCollection",model:pat}),fat=n(451),gat=Ce.a.extend({name:"QueryParseModel",context:["server"],url:function(){return this.get("key")},sessionAttrs:{key:Me.a.string},syncedAttrs:{type:Me.a.string},syncedRelations:{rule:{relationClass:fat.a,rootPropertyName:"Rule",deferred:!0},limits:{relationClass:hat,rootPropertyName:"Limit",deferred:!0}}}),vat="ui/libraryPage/initLibraryPage",mat="ui/libraryPage/initLibraryPageMetadataList",yat="ui/libraryPage/initLibraryPageDirectoryList",bat="ui/libraryPage/initLibraryPageSupportingLists",Sat="ui/libraryPage/fetchLibraryDetails",Iat="ui/libraryPage/populateLibraryDetails",Cat="ui/libraryPage/fetchLibraryFirstCharacters",Mat="ui/libraryPage/populateLibraryFirstCharacters",Dat="ui/libraryPage/fetchQueryParse",wat="ui/libraryPage/populateQueryParse",Pat="ui/libraryPage/selectLibraryFilter",Tat="ui/libraryPage/deselectLibraryFilter",Eat="ui/libraryPage/fetchLibraryFilterOptions",xat="ui/libraryPage/populateLibraryFilterOptions",Oat="ui/libraryPage/searchLibraryFilterOptions",jat="ui/libraryPage/selectLibraryTableColumn",Aat="ui/libraryPage/deselectLibraryTableColumn",Nat=Mt(vat),kat=Mt(mat),Lat=Mt(yat),Rat=Mt(bat),_at=Mt(Sat),Uat=Mt(Iat),zat=Mt(Cat),Fat=Mt(Mat),Bat=Mt(Dat),Hat=Mt(wat),Vat=Mt(Pat),Qat=Mt(Tat),Wat=Mt(Eat),Gat=Mt(xat),Yat=Mt(Oat),Kat=Mt(jat),qat=Mt(Aat);function Zat(e){return e.get("ui").get("libraryPage")}var Xat=((uat={})[vat]=function(e,t){var n=Zat(e),r=n.get("details"),i=bo(e,t),a=Co(e,t),o=t.providerEntityID,s=t.libraryKey,l=t.directoryKey;if(s||o!==n.get("providerEntityID")||l!==n.get("directoryKey"))if(s){if(o!==n.get("providerEntityID")||s!==n.get("libraryKey")){var c={providerEntityID:o,libraryKey:s,directoryKey:l};r&&r.get("libraryKey")===s?(c.details=r,c.isDetailsPending=n.get("isDetailsPending"),c.isDetailsPopulated=n.get("isDetailsPopulated"),c.detailsError=n.get("detailsError")):c.details=new ple({key:s},{server:i,provider:a,includeAdvanced:!0}),n.restoreDefaults(c)}}else n.restoreDefaults({isDetailsPending:!1,isDetailsPopulated:!0,detailsError:null,directoryKey:l,providerEntityID:o})},uat[mat]=function(e,t){var n=Zat(e),r=bo(e,t),i=Co(e,t),a=n.get("metadataList"),o=t.containerKey;if(!a||o!==a.get("containerKey"))if(a)a.set({containerKey:o});else{var s=PZ(e,zy),l=new ll.default({entityKey:"libraryPageMetadataList",containerKey:o},{server:r,provider:i,includeCollections:i.get("isLibraryProvider")?1:0,includeExternalMedia:s,includeAdvanced:1,includeMeta:1});n.set({metadataList:l})}},uat[bat]=function(e,t){var n=Zat(e),r=bo(e,t),i=Co(e,t),a=n.get("firstCharacters"),o=n.get("queryParse"),s=t.firstCharacterKey,l=t.queryParseKey,c={},u=PZ(e,zy),d=F.join(s,{includeCollections:1,includeExternalMedia:u});if(!a||a.url!==d){var p=new Pl([],{server:r,provider:i,url:d});c.firstCharacters=p,c.isFirstCharactersPending=!1,c.isFirstCharactersPopulated=!1,c.firstCharactersError=null}o&&o.get("key")===l||(c.queryParse=new gat({key:l},{server:r}),c.isQueryParsePending=!0,c.isQueryParsePopulated=!1,c.queryParseError=null),Object.keys(c).length&&n.set(c)},uat[yat]=function(e,t){var n=Zat(e),r=bo(e,t),i=Co(e,t),a=t.containerKey,o=t.typeKey;a===n.get("containerKey")&&o===n.get("typeKey")||n.set({containerKey:a,typeKey:o,directoryList:new dat.a({containerKey:a},{server:r,provider:i})})},uat[Sat]=Ki({key:"details",getModel:Zat}),uat[Iat]=qi({key:"details",fetchActionCreator:_at,getModel:Zat}),uat[Cat]=Ki({key:"firstCharacters",getModel:Zat}),uat[Mat]=qi({key:"firstCharacters",fetchActionCreator:zat,getModel:Zat}),uat[Dat]=Ki({key:"queryParse",getModel:Zat}),uat[wat]=qi({key:"queryParse",fetchActionCreator:Bat,getModel:Zat}),uat["ui/repopulatePage"]=function(e,t,n){var r=t.metadataItemEntityID,i=t.containerKeyPattern;if(!r){var a=bo(e,t),o=Zat(e),s=o.get("metadataList");s&&s.server===a&&(i&&!s.get("containerKey").match(i)||(n(Pfe({metadataListEntityID:s.entityID()})),o.get("firstCharacters")&&n(zat())))}},uat[Pat]=function(e,t){var n=Zat(e),r=n.get("selectedFilterOptions"),i=bo(e,t),a=Co(e,t),o=t.key,s={selectedFilterKey:o},l=PZ(e,zy)?F.join(o,{includeExternalMedia:1}):o;r&&r.url===o||(s.selectedFilterOptions=new Tl.a([],{server:i,provider:a,url:l}),s.isSelectedFilterOptionsPending=!0,s.isSelectedFilterOptionsPopulated=!1,s.selectedFilterOptionsError=null),n.set(s)},uat[Tat]=function(e){Zat(e).set({selectedFilterKey:void 0,selectedFilterOptions:void 0,filterOptionQuery:""})},uat[Eat]=Ki({key:"selectedFilterOptions",getModel:Zat}),uat[xat]=qi({key:"selectedFilterOptions",fetchActionCreator:Wat,getModel:Zat}),uat[Oat]=function(e,t){Zat(e).set("filterOptionQuery",t)},uat[jat]=function(e,t,n){var r,i=t.type,a=t.subtype,o=t.activeTableColumns,s=t.key;if(-1===C.a.findIndex(o,function(e){return e.key===s})){var l=f5e(i,a),c=e.get("user").get("experienceSettings").get("libraryTableColumns"),u=o.map(function(e){return e.key}).concat(s);n(Wo({libraryTableColumns:Object.assign({},c,(r={},r[l]=u,r))}))}},uat[Aat]=function(e,t,n){var r,i=t.type,a=t.subtype,o=t.activeTableColumns,s=t.key;if(!(o.length<=1)){var l=C.a.findIndex(o,function(e){return e.key===s});if(-1!==l){var c=f5e(i,a),u=e.get("user").get("experienceSettings").get("libraryTableColumns"),d=o.slice(0,l).concat(o.slice(l+1)).map(function(e){return e.key});n(Wo({libraryTableColumns:Object.assign({},u,(r={},r[c]=d,r))}))}}},uat);function Jat(){return Object(Iy.createSelector)(function(e,t){return t.activeSort},cat(),function(e,t){if(t){var n=e&&C.a.first(e.split(":")),r=C.a.find(t.sorts,function(t){return!!t.active||(e?t.key===n||t.descKey===e:t.isDefault)});return r||(r=C.a.first(t.sorts)),r}})}function $at(e){return Object(Iy.createSelector)(function(e,t){return t.libraryKey},function(e,t){return t.activeFilters},function(e,t){return t.activeSort},function(e,t){return t.activeLimit},function(e,t){return t.selectedType},function(e,t){return t.sourceDirectory},function(t,n,r,i,a,o){var s={filters:n,sort:r,limit:i};return!(o&&o.type===nr.h)&&a&&a.key?lTe([a.key.replace("/all?","/"+e+"?")],s):t?lTe([t,e],s):void 0})}var eot=Object(Iy.createSelector)(Py,function(e){return e.listStyles});function tot(e,t,n){if(n)switch(n){case Tp:switch(t){case"podcast":switch(e){case"track":return[vh]}break;case"webshow":switch(e){case"episode":return[vh]}}switch(e){case"track":return[gh]}}switch(t){case"podcast":switch(e){case"show":return[hh,gh,mh];case"track":return[gh,vh]}}switch(e){case"movie":case"show":return[hh,gh,mh];case"season":return[hh,gh];case"episode":case"artist":case"album":return[hh,gh,mh];case"track":return[hh,gh];case"photo":case"photoalbum":return[fh];case"clip":return[hh,gh];case"collection":return[hh,mh];default:return[hh]}}function not(e,t,n,r){return Cn.i(r.identifier,Cn.c)?function(e,t,n){if(n)switch(n){case Tp:return[yh]}switch(e){case"show":case"episode":case"movie":return[hh]}return tot(e,t,n)}(e,t,n):tot(e,t,n)}function rot(e,t,n,r,i){if(n){var a,o=not(n,r,t,i);if(1===o.length)return o[0];var s=f5e(n,r);return e[t]&&(a=e[t][s]),a&&o.indexOf(a)>-1?a:o[0]}}function iot(e){var t=e.type,n=e.primaryExtraKey;return"track"===t&&!!n}var aot=n(657),oot=n.n(aot);function sot(e){var t=e.className,n=e.iconClassName,r=e.iconComponent;return hv()("span",{className:t},void 0,hv()(r,{className:n}))}sot.defaultProps={className:oot.a.decoratorIconContainer,iconClassName:oot.a.decoratorIcon};var lot=sot,cot=n(337),uot=n.n(cot),dot=hv()(lot,{iconComponent:uA});var pot=function(e){var t=e.className,n=e.title,r=e.isFolder,i=e.isMultiVersion,a=e.hasMusicVideo;return hv()("span",{className:t},void 0,hv()("div",{className:uot.a.titleContainer},void 0,r?hv()(lot,{className:uot.a.folderIconContainer,iconClassName:uot.a.folderIcon,iconComponent:sL}):null,hv()("span",{className:uot.a.title},void 0,n),hv()("span",{},void 0,i?hv()(lot,{iconClassName:uot.a.multiVersionIcon,iconComponent:Eke}):null,a?dot:null)))};var hot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return e?{title:e.title,isFolder:e.isFolder,isMultiVersion:JNe(e),hasMusicVideo:iot(e)}:{}})})(pot),fot=n(518),got=n.n(fot),vot=hv()(cE,{}),mot=hv()(lot,{iconComponent:uA});var yot=function(e){var t=e.className,n=e.title,r=e.originalTitle,i=e.hasMusicVideo;return hv()("span",{className:t},void 0,hv()("span",{className:got.a.titleContainer},void 0,hv()("span",{className:got.a.title,"data-qa-id":"trackName"},void 0,n,r?hv()("span",{className:got.a.trackArtist},void 0,n?vot:null,r):null),i?mot:null))};var bot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return e?{title:e.title,originalTitle:e.originalTitle,hasMusicVideo:iot(e)}:{}})})(yot);var Sot=function(e){var t=e.className,n=e.lastRatedAt;return n?hv()(Zge,{className:t,timestamp:n}):null};var Iot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{lastRatedAt:e.lastRatedAt}})})(Sot),Cot=n(338),Mot=n.n(Cot);function Dot(e){var t=e.size,n=e.saved,r=e.viewOffset,i=e.viewCount;return null==n||n||r?i||r?r?hv()("div",{className:(Mot.a.unwatchedCircle||"")+" "+(Mot.a.isPartiallyWatched||"")+" "+(Mot.a[t]||"")}):null:hv()("div",{className:(Mot.a.unwatchedCircle||"")+" "+(Mot.a[t]||"")}):null}Dot.defaultProps={size:qp.MEDIUM};var wot=Dot;var Pot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{saved:e.saved,viewOffset:e.viewOffset,viewCount:e.viewCount}})})(wot);var Tot=function(e){var t=e.className,n=e.duration;return e.isPreview?hv()("span",{className:t},void 0,Object(Xn.default)("Preview")):n?hv()("span",{className:t},void 0,TL(n)):null};var Eot=Lm(function(e,t){return Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t=e;return{duration:t.duration,isPreview:!!t.preview}})})(Tot),xot=n(658),Oot=n.n(xot);function jot(e){var t=e.className,n=e.size,r=e.duration,i=e.viewOffset,a=e.viewCount;return e.isFolder?null:a||i?hv()(GEe,{className:t,duration:r,viewOffset:i}):hv()("div",{className:(Oot.a.unwatchedCircle||"")+" "+(Oot.a[n]||"")})}jot.defaultProps={size:qp.MEDIUM};var Aot=jot;var Not=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{duration:e.duration,viewOffset:e.viewOffset,viewCount:e.viewCount,isFolder:e.isFolder}})})(Aot);var kot=function(e){var t=e.className,n=e.originalTitle;return hv()("span",{className:t,title:n},void 0,n)};var Lot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{originalTitle:e.originalTitle}})})(kot);var Rot=function(e){var t,n=e.className,r=e.unviewedLeafCount;return r>0&&(t=Object(Xn.default)("{numEpisodes} unplayed",{numEpisodes:r})),hv()("span",{className:n},void 0,t)};var _ot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{unviewedLeafCount:e.unviewedLeafCount}})})(Rot);var Uot=function(e){var t=e.className,n=e.viewCount;return hv()("span",{className:t},void 0,n>0?n:null)};var zot=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{viewCount:e.viewCount}})})(Uot),Fot={flex:"2 1 350px"},Bot={flex:"0 1 200px"},Hot={key:"title",ascKey:"titleSort",descKey:"titleSort:desc",title:function(e){switch(e){case nr.g:return Object(Xn.default)("Movie Title");case nr.l:return Object(Xn.default)("Show Title");case nr.e:return Object(Xn.default)("Episode Title");case nr.b:return Object(Xn.default)("Artist Title");case nr.a:return Object(Xn.default)("Album Title");case nr.m:return Object(Xn.default)("Track Title");default:return Object(Xn.default)("Title")}},component:function(){return hot},style:Fot},Vot={key:"season",ascKey:"season.index,season.titleSort",descKey:"season.index:desc,season.titleSort",title:function(){return Object(Xn.default)("Season")},component:function(){return hot},style:Fot},Qot={key:"seasonShow",ascKey:"show.titleSort,index",descKey:"show.titleSort:desc,index",title:function(){return Object(Xn.default)("Show")},component:function(){return Kge},style:Fot},Wot={key:"episodeShow",ascKey:"show.titleSort,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",descKey:"show.titleSort:desc,season.index:nullsLast,episode.index:nullsLast,episode.originallyAvailableAt:nullsLast,episode.titleSort,episode.id",title:function(){return Object(Xn.default)("Show")},component:function(){return Gge},style:Fot},Got={key:"albumArtist",ascKey:"artist.titleSort,album.titleSort,album.index,album.id,album.originallyAvailableAt",descKey:"artist.titleSort:desc,album.titleSort,album.index,album.id,album.originallyAvailableAt",title:function(){return Object(Xn.default)("Album Artist")},component:function(){return Kge},style:Fot},Yot={key:"trackAlbumArtist",ascKey:"artist.titleSort,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",descKey:"artist.titleSort:desc,album.titleSort,album.year,track.absoluteIndex,track.index,track.titleSort,track.id",title:function(){return Object(Xn.default)("Album Artist")},component:function(){return Gge},style:Fot},Kot={key:"trackArtist",title:function(){return Object(Xn.default)("Artist")},ascKey:"originalTitle",descKey:"originalTitle:desc",component:function(){return Lot},style:Fot},qot={key:"combinedTitleTrackArtist",ascKey:"titleSort",descKey:"titleSort:desc",title:function(){return Object(Xn.default)("Track Title")},component:function(){return bot},style:Fot},Zot={key:"trackAlbum",ascKey:"album.titleSort",descKey:"album.titleSort:desc",title:function(){return Object(Xn.default)("Album")},component:function(){return Kge},style:Fot},Xot={key:"year",ascKey:"year",descKey:"year:desc",title:function(){return Object(Xn.default)("Year")},component:function(){return bve},style:{flex:"0 1 150px"}},Jot={key:"criticRating",ascKey:"rating",descKey:"rating:desc",title:function(){return Object(Xn.default)("Critic Rating")},component:function(){return Sxe},style:{flex:"0 0 150px"}},$ot={key:"userRating",ascKey:"userRating",descKey:"userRating:desc",title:function(){return Object(Xn.default)("Rating")},component:function(){return $xe},style:{flex:"0 0 115px"}},est={key:"miniUserRating",ascKey:"userRating",descKey:"userRating:desc",title:function(){return Object(Xn.default)("Rating")},component:function(){return $xe},style:{flex:"0 0 75px",padding:0}},tst={key:"contentRating",ascKey:"contentRating",descKey:"contentRating:desc",title:function(){return Object(Xn.default)("Content Rating")},component:function(){return dxe},style:{flex:"0 0 150px"}},nst={key:"duration",ascKey:"duration",descKey:"duration:desc",title:function(){return Object(Xn.default)("Duration")},component:function(e){switch(e){case nr.m:return Eot;default:return Ixe}},style:{flex:"0 1 150px"}},rst={key:"progress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:function(){return Object(Xn.default)("Progress")},component:function(){return Not},style:{flex:"0 1 150px"}},ist={key:"miniProgress",ascKey:"viewOffset",descKey:"viewOffset:desc",title:function(){return Object(Xn.default)("Progress")},component:function(){return Pot},style:{flex:"0 0 25px",paddingLeft:"10px",paddingRight:0}},ast={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:function(){return Object(Xn.default)("Seasons")},component:function(){return fve},style:{flex:"0 1 150px"}},ost={key:"seasonCount",ascKey:"childCount",descKey:"childCount:desc",title:function(){return Object(Xn.default)("Episodes")},component:function(){return xEe},style:{flex:"0 1 150px"}},sst={key:"unwatchedCount",ascKey:"unviewedLeafCount",descKey:"unviewedLeafCount:desc",title:function(){return Object(Xn.default)("Unplayed")},component:function(){return _ot},style:{flex:"0 1 150px"}},lst={key:"playCount",ascKey:"viewCount",descKey:"viewCount:desc",title:function(){return Object(Xn.default)("Plays")},component:function(){return zot},style:{flex:"0 1 150px"}},cst={key:"dateAdded",ascKey:"addedAt",descKey:"addedAt:desc",title:function(){return Object(Xn.default)("Date Added")},component:function(){return cve},style:Bot},ust={key:"dateViewed",ascKey:"lastViewedAt",descKey:"lastViewedAt:desc",title:function(){return Object(Xn.default)("Date Viewed")},component:function(){return Mxe},style:Bot},dst={key:"releaseDate",ascKey:"originallyAvailableAt",descKey:"originallyAvailableAt:desc",title:function(e){switch(e){case"movie":return Object(Xn.default)("Release Date");case"show":case"episode":return Object(Xn.default)("Air Date");case"album":default:return Object(Xn.default)("Release Date")}},component:function(){return Txe},style:Bot},pst={key:"lastRatedAt",ascKey:"lastRatedAt",descKey:"lastRatedAt:desc",title:function(){return Object(Xn.default)("Date Rated")},component:function(){return Iot},style:Bot},hst={key:"resolution",ascKey:"mediaHeight",descKey:"mediaHeight:desc",title:function(){return Object(Xn.default)("Resolution")},component:function(){return xxe},style:{flex:"0 1 150px"}},fst={key:"bitrate",ascKey:"mediaBitrate",descKey:"mediaBitrate:desc",title:function(){return Object(Xn.default)("Bitrate")},component:function(){return lxe},style:{flex:"0 1 150px"}},gst={movie:[Hot,Xot,Jot,$ot,tst,nst,rst,lst,cst,ust,dst,hst,fst],show:[Hot,Xot,Jot,$ot,tst,ast,sst,cst,ust,dst],season:[Vot,Qot,$ot,cst],episode:[Hot,Wot,Xot,Jot,$ot,nst,rst,lst,cst,ust,dst,hst,fst],artist:[Hot,$ot,cst],album:[Hot,Got,Xot,Jot,$ot,cst,dst],track:[Hot,Yot,Kot,Zot,Xot,$ot,nst,rst,lst,cst,pst,fst],collection:[Hot,$ot]},vst=[Hot,Vot,Qot,Wot,Got,Yot,Kot,Zot,Xot,Jot,$ot,tst,nst,rst,ast,ost,sst,lst,cst,ust,pst,dst,hst,fst];function mst(e){return gst[e]}function yst(e){void 0===e&&(e=[]);var t=e.reduce(function(e,t){return e[t.key]=!0,e},{});return vst.reduce(function(e,n){return t[n.ascKey]&&e.push(n),e},[])}var bst=Object(Iy.createSelector)(Py,function(e){return e.libraryTableColumns});function Sst(){return Object(Iy.createSelector)(function(e,t){return t.listType},function(e,t){return t.listSubtype},function(e,t){return t.listContext},function(e,t){return t.isFolder},cat(),bst,function(e,t,n,r,i,a){void 0===i&&(i={});var o=n===wp,s=f5e(e,t);return function(e,t,n,r){void 0===r&&(r={});var i=r.keys,a=r.sorts,o=r.isFolder;if(i&&i.length)return(a&&a.length&&!o?yst(a):mst(e)).reduce(function(e,t){return-1!==i.indexOf(t.key)&&e.push(t),e},[]);switch(n){case Tp:switch(e){case nr.k:return[Vot,Xot,ost,$ot];case nr.e:return[ist,Hot,$ot];case nr.a:return[Hot,Xot,$ot];case nr.m:return[qot,est]}}switch(t){case $n:switch(e){case nr.l:return[Hot];case nr.m:return[Hot,nst]}}switch(e){case nr.g:return[Hot,Xot,nst,rst];case nr.l:return[Hot,Xot,ast,sst];case nr.k:return[Vot,Qot];case nr.e:return[Hot,Wot,rst];case nr.b:return[Hot];case nr.a:return[Hot,Got,Xot];case nr.m:return[Hot,Yot,Zot,nst];case nr.h:case nr.i:case nr.c:case nr.d:return[Hot]}return[]}(e,t,n,{isFolder:r,keys:o?a[s]:void 0,sorts:o?i.sorts:void 0})})}var Ist=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){(t.props.isSelected?t.props.onColumnDeselect:t.props.onColumnSelect)(t.props.columnKey),t.props.onMenuClose()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.children,n=e.isSelected;return hv()(MI,{isSelected:n,onPress:this.onPress},void 0,t)},t}(Xf.a.Component),Cst=n(402),Mst=n.n(Cst),Dst=Xf.a.Component,wst=hv()(V$,{}),Pst=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onChangeColumnsPress=function(e){r.setState({isColumnsMenuOpen:!r.state.isColumnsMenuOpen})},r.onColumnsMenuClose=function(){r.setState({isColumnsMenuOpen:!1})},r.state={isColumnsMenuOpen:!1},r._columnsButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this,t=this.props,n=t.activeTableColumnsByKey,r=t.allTableColumns,i=t.typeKey,a=t.listType,o=t.activeFilters,s=t.activeFilterLabel,l=t.activeSort,c=t.customFilter,u=t.selectedSort,d=t.isDisabled,p=t.onColumnSelect,h=t.onColumnDeselect,f=this.state.isColumnsMenuOpen;return hv()(nnt,{"data-qa-id":"metadataTableHeader"},void 0,hv()("div",{className:Mst.a.playCell}),r.map(function(e){var t=e.style,r=e.title,p=e.ascKey,h=e.descKey,f=e.key;if(!n[f])return null;var g=l===p||l===h||u.key===p,v=l?l===p:u.key===p;return d?hv()("div",{style:t,className:Mst.a.tableHeader},f,hv()(snt,{},void 0,hv()(bnt,{},void 0,r(a)))):hv()(pnt,{style:t,to:pEe({typeKey:i,filters:o,filterLabel:s,sort:v?h:p,customFilter:c})},f,hv()(snt,{isActive:g},void 0,hv()(bnt,{},void 0,r(a)),g?hv()(Xtt,{isAscending:!v}):null))}),hv()("div",{className:Mst.a.actionsCell},void 0,hv()(RS,{id:this._columnsButtonID,className:Mst.a.columnsButton,"aria-label":Object(Xn.default)("Change Columns"),"aria-haspopup":!0,onPress:this.onChangeColumnsPress},void 0,wst),hv()(zT,{target:this._columnsButtonID,isOpen:f,onMenuClose:this.onColumnsMenuClose},void 0,r.map(function(t){return hv()(Ist,{columnKey:t.key,isSelected:!!n[t.key],onColumnSelect:p,onColumnDeselect:h,onMenuClose:e.onColumnsMenuClose},t.key,t.title(a))}))))},t}(Dst),Tst=Xf.a.createElement,Est=Xf.a.Component;function xst(e,t){void 0===e&&(e=[]);var n=e.reduce(function(e,t){return e[t.key]=t,e},{});return t.map(function(e){var t=n[e.ascKey];return t?Object.assign({},e,{title:function(n){return t.title||e.title(n)}}):e})}var Ost={dispatchSelectLibraryTableColumn:Kat,dispatchDeselectLibraryTableColumn:qat},jst=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onColumnSelect=function(e){t.props.dispatchSelectLibraryTableColumn({type:t.props.listType,subtype:t.props.listSubtype,activeTableColumns:t.props.activeTableColumns,key:e})},t.onColumnDeselect=function(e){t.props.dispatchDeselectLibraryTableColumn({type:t.props.listType,subtype:t.props.listSubtype,activeTableColumns:t.props.activeTableColumns,key:e})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchSelectLibraryTableColumn,e.dispatchDeselectLibraryTableColumn,e.activeTableColumns,wt()(e,["dispatchSelectLibraryTableColumn","dispatchDeselectLibraryTableColumn","activeTableColumns"]));return Tst(Pst,dv()({},t,{onColumnSelect:this.onColumnSelect,onColumnDeselect:this.onColumnDeselect}))},t}(Est),Ast=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.listType},function(e,t){return t.isFolder},Sst(),cat(),function(e,t,n,r){var i=t?mst(e):yst(r.sorts),a=n.reduce(function(e,t){return e[t.key]=t,e},{});return{allTableColumns:xst(r.sorts,i),activeTableColumnsByKey:a,activeTableColumns:n}})},Ost)(jst),Nst=Object(Iy.createSelector)(lat,function(e){return e.reduce(function(e,t){return e.push.apply(e,t.fields),e},[])}),kst=Object(Iy.createSelector)(function(e){return e.ui.libraryPage.details},sat,function(e,t){var n=t&&t.meta;return n&&n.fieldTypes.length?n.fieldTypes:e?e.fieldTypes:void 0}),Lst=n(1070),Rst=n.n(Lst),_st=Xf.a.createElement;function Ust(e){var t=e.children,n=wt()(e,["children"]);return _st("div",n,t)}Ust.defaultProps={className:Rst.a.group};var zst=Ust,Fst=n(1071),Bst=n.n(Fst);function Hst(e){var t=e.className,n=e.name,r=e.labelText,i=e.showErrors,a=e.errors;return hv()(ZQ,{className:t,showErrors:i,errors:a,name:n,labelText:r})}Hst.defaultProps={className:Bst.a.label};var Vst=Hst,Qst=n(1072),Wst=n.n(Qst),Gst=Xf.a.createElement;function Yst(e){var t=e.inputClassName,n=e.name,r=e.labelText,i=e.showErrors,a=e.errors,o=e.leftLabel,s=wt()(e,["inputClassName","name","labelText","showErrors","errors","leftLabel"]);return hv()(zst,{},void 0,o?hv()(Vst,{hasError:i,errors:a,name:n,labelText:r}):null,Gst(mW,dv()({className:t,name:n,hasError:i},s)),o?null:hv()(Vst,{hasError:i,errors:a,name:n,labelText:r}))}Yst.defaultProps={inputClassName:Wst.a.input,leftLabel:!0};var Kst=$Q(Yst);var qst=function(e){return nTe===e||rTe===e},Zst=Object(Iy.createSelector)(kst,function(e){return e.reduce(function(e,t){if(t.type===vle){var n=t.operators.filter(function(e){var t=e.key;return t!==$Pe&&"!="!==t});n.push({key:nTe,title:Object(Xn.default)("in the last")},{key:rTe,title:Object(Xn.default)("in not the last")}),e[t.type]=n}else e[t.type]=t.operators;return e},{})}),Xst=n(1073),Jst=n(1074),$st=n(403),elt=n.n($st),tlt=Xf.a.createElement,nlt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).setInputRef=function(e){t.inputRef=e},t.onChange=function(e){t.textMaskInputElement.update(),t.props.onChange(t.textMaskInputElement.state.previousConformedValue)},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.value,t=this.props,n=t.mask,r=t.guide,i=t.pipe,a=t.placeholderChar,o=t.keepCharPositions;this.textMaskInputElement=Object(Jst.createTextMaskInputElement)({inputElement:this.inputRef,mask:n,guide:r,pipe:i,placeholderChar:a,keepCharPositions:o}),this.textMaskInputElement.update(e)},n.componentDidUpdate=function(){this.textMaskInputElement.update(this.props.value)},n.render=function(){var e=this.props,t=e.className,n=e.errorClassName,r=e.disabledClassName,i=e.isDisabled,a=e.type,o=e.name,s=(e.initialValue,e.value),l=e.size,c=(e.mask,e.guide,e.pipe,e.placeholderChar,e.keepCharPositions,e.hasError),u=(e.errors,e.validations,e.onChange,wt()(e,["className","errorClassName","disabledClassName","isDisabled","type","name","initialValue","value","size","mask","guide","pipe","placeholderChar","keepCharPositions","hasError","errors","validations","onChange"]));return tlt("input",dv()({},u,{className:(t||"")+" "+(elt.a[l]||"")+" "+(i&&r||"")+" "+(c&&n||""),id:o,name:o,type:a,disabled:i,defaultValue:s,ref:this.setInputRef,onChange:this.onChange}))},t}(Xf.a.Component);nlt.defaultProps={className:elt.a.input,errorClassName:elt.a.hasError,disabledClassName:elt.a.isDisabled,isDisabled:!1,size:qp.LARGE,type:"text",hasError:!1};var rlt=nlt,ilt=Xf.a.createElement,alt="yyyy-mm-dd",olt=[/\d/,/\d/,/\d/,/\d/,"-",/\d/,/\d/,"-",/\d/,/\d/],slt=Object(Xst.createAutoCorrectedDatePipe)("yyyy-mm-dd");function llt(e){return ilt(rlt,dv()({mask:olt,pipe:slt,keepCharPositions:!0,placeholder:alt},e))}llt.defaultProps={placeholderChar:"",guide:!1};var clt=llt,ult=n(1075),dlt=n.n(ult),plt=Xf.a.Component,hlt=/^([0-9]+)?([a-zA-Z]+)?$/,flt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onValueChange=function(e){r.setState({inputValue:e},function(){r.props.onChange(""+e+r.state.selectedUnit)})},r.onUnitChange=function(e){r.setState({selectedUnit:e},function(){r.props.onChange(""+r.state.inputValue+e)})},r.state=r.getStateFromProps(t),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.value!==e.value&&this.setState(this.getStateFromProps(e))},n.getStateFromProps=function(e){var t=e.units[0],n=e.value.match(hlt)||[],r=n[1],i=void 0===r?"":r,a=n[2];return{inputValue:i,selectedUnit:void 0===a?Object.keys(t)[0]:a}},n.render=function(){var e=this.props,t=e.textInputClassName,n=e.selectInputClassName,r=e.units,i=e.size;return hv()("span",{className:dlt.a.inputs},void 0,hv()(gW,{name:"unitValue",className:t,type:"number",value:this.state.inputValue,size:i,onChange:this.onValueChange}),hv()(EV,{name:"unit",className:n,value:this.state.selectedUnit,values:r,size:i,onChange:this.onUnitChange}))},t}(plt);function glt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-add-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h103.6v-103.6h44.8v103.6h103.6v44.8h-103.6v103.6h-44.8v-103.6h-103.6v-44.8"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}glt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var vlt=glt;function mlt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-filter-remove-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m280 518c-131.44 0-238-106.56-238-238 0-131.44 106.56-238 238-238 131.44 0 238 106.56 238 238 0 131.44-106.56 238-238 238m0-42c108.25 0 196-87.75 196-196 0-108.25-87.75-196-196-196-108.25 0-196 87.75-196 196 0 108.25 87.75 196 196 196m-126-218.4h252v44.8h-252v-44.8"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}mlt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var ylt=mlt,blt=n(404),Slt=n.n(blt),Ilt=Xf.a.Component,Clt=hv()(US,{}),Mlt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onRemovePress=function(){t.props.onRemove(t.props.index)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.tag,n=e.index,r=e.tagCount,i=e.isDisabled,a=e.getTagDisplayValue;return hv()("span",{className:Slt.a.container},void 0,hv()("span",{className:Slt.a.tag},void 0,i?null:hv()(RS,{className:Slt.a.remove,"aria-label":Object(Xn.default)("Remove Tag"),onPress:this.onRemovePress},void 0,Clt),hv()("span",{},void 0,a(t))),hv()("span",{className:Slt.a.or},void 0,n!==r-1?Object(Xn.default)("or"):null))},t}(Ilt),Dlt=n(93),wlt=n.n(Dlt),Plt=Xf.a.Component,Tlt=[$Pe,"!="],Elt=["==","!=="],xlt={integer:/^\d+$/};function Olt(e){var t=e.selectedField,n=e.filter,r=e.selectedFilterOptions,i=e.suggestionsFilter,a=e.renderSuggestion,o=e.shouldRenderSuggestions,s=e.getSuggestionValue,l=e.getTagValue,c=e.getTagDisplayValue,u=e.makeTag,d=e.makeTagFromSuggestion,p=e.onSuggestionSelected,h=e.onSuggestionsFetchRequested,f=e.onSuggestionsClearRequested,g=e.onValueChange,v=e.onTagValueChange;return t.type===gle?null:t.subType===mle?hv()(EV,{className:wlt.a.selectInput,name:"value",size:qp.SMALL,values:[{"-1":Object(Xn.default)("Empty")},{2:""},{4:""},{6:""},{8:""},{10:""}],value:n.value[0]?n.value[0].value:"",onChange:g}):t.type===vle&&qst(n.operator)?hv()(flt,{textInputClassName:wlt.a.unitTextInput,selectInputClassName:wlt.a.selectInput,name:"value",size:qp.SMALL,units:[{s:Object(Xn.default)("Seconds")},{m:Object(Xn.default)("Minutes")},{h:Object(Xn.default)("Hours")},{d:Object(Xn.default)("Days")},{w:Object(Xn.default)("Weeks")},{mon:Object(Xn.default)("Months")},{y:Object(Xn.default)("Years")}],value:n.value[0]?n.value[0].value:"",onChange:g}):t.type===vle?hv()(clt,{className:wlt.a.textInput,name:"value",size:qp.SMALL,value:n.value[0]?n.value[0].value:"",onChange:g}):hv()(gJ,{className:wlt.a.tagsInput,value:n.value,suggestions:r,suggestionsFilter:i,renderSuggestion:a,shouldRenderSuggestions:o,getSuggestionValue:s,getTagValue:l,getTagDisplayValue:c,makeTag:u,makeTagFromSuggestion:d,tagComponent:Mlt,validationRegex:xlt[t.type],onSuggestionSelected:p,onSuggestionsFetchRequested:h,onSuggestionsClearRequested:f,onChange:v})}var jlt=hv()(ylt,{}),Alt=hv()(vlt,{}),Nlt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).shouldRenderSuggestions=function(e){var n=t.props,r=n.selectedFilter,i=n.selectedField.type,a=n.value.operator;return!!r&&(i===fle&&Elt.indexOf(a)>-1||i!==fle&&Tlt.indexOf(a)>-1)},t.onFieldChange=function(e){var n=t.props.fieldKeyTypes[e],r=n.defaultOperator,i=n.type,a=n.subType,o=[];i===gle&&o.push({value:1}),a===mle&&o.push({value:"-1"}),e!==t.props.value.key&&t.props.onChange({key:e,operator:r,value:o})},t.onOperatorChange=function(e){var n;n=t.props.selectedField.type===vle&&qst(e)&&qst(t.props.value.operator)||!qst(e)&&!qst(t.props.value.operator)?t.props.value.value:[],t.props.onChange(Object.assign({},t.props.value,{value:n,operator:e}))},t.onTagValueChange=function(e){t.props.onChange(Object.assign({},t.props.value,{value:Array.isArray(e)?e:[e]}))},t.onValueChange=function(e){t.props.onChange(Object.assign({},t.props.value,{value:[{value:e}]}))},t.onRemovePress=function(){t.props.onRemovePress(t.props.index)},t.onAddPress=function(){t.props.onAddPress(t.props.index)},t}Sy()(t,e);var n=t.prototype;return n.getSuggestionValue=function(e){return e},n.getTagValue=function(e){return e.value},n.getTagDisplayValue=function(e){return e.valueTitle||e.value},n.makeTag=function(e){return{value:e}},n.makeTagFromSuggestion=function(e){return{value:e.value,valueTitle:e.title}},n.suggestionsFilter=function(e,t){return e.title.toLowerCase().indexOf(t.toLowerCase())>-1},n.renderSuggestion=function(e){return e.title},n.render=function(){var e=this.props,t=e.isRemoveDisabled,n=e.value,r=e.operatorValues,i=e.fieldValues,a=e.selectedField,o=e.selectedFilterOptions,s=e.onSuggestionsFetchRequested,l=e.onSuggestionsClearRequested;return hv()("div",{className:wlt.a.container},void 0,hv()("div",{className:wlt.a.rules},void 0,hv()("div",{className:wlt.a.rule},void 0,hv()(EV,{className:wlt.a.selectInput,name:"filter",size:qp.SMALL,values:i,value:n.key,onChange:this.onFieldChange})),hv()("div",{className:wlt.a.rule},void 0,hv()(EV,{className:wlt.a.selectInput,name:"operator",size:qp.SMALL,values:r,value:n.operator,onChange:this.onOperatorChange})),hv()("div",{className:wlt.a.value},void 0,hv()(Olt,{selectedField:a,filter:n,selectedFilterOptions:o,suggestionsFilter:this.suggestionsFilter,renderSuggestion:this.renderSuggestion,shouldRenderSuggestions:this.shouldRenderSuggestions,getSuggestionValue:this.getSuggestionValue,getTagValue:this.getTagValue,getTagDisplayValue:this.getTagDisplayValue,makeTag:this.makeTag,makeTagFromSuggestion:this.makeTagFromSuggestion,tagComponent:Mlt,onSuggestionSelected:this.onSuggestionSelected,onSuggestionsFetchRequested:s,onSuggestionsClearRequested:l,onTagValueChange:this.onTagValueChange,onValueChange:this.onValueChange})),hv()("div",{className:wlt.a.buttons},void 0,hv()(RS,{className:t?wlt.a.iconButtonDisabled:wlt.a.iconButton,"aria-label":Object(Xn.default)("Remove Filter"),isDisabled:t,onPress:this.onRemovePress},void 0,jlt),hv()(RS,{className:wlt.a.iconButton,"aria-label":Object(Xn.default)("Add Filter"),onPress:this.onAddPress},void 0,Alt))))},t}(Plt);Nlt.defaultProps={isRemoveDisabled:!1,isAddEnabled:!0,onRemovePress:function(){},onAddPress:function(){}};var klt=Nlt,Llt=Xf.a.createElement,Rlt=Xf.a.Component,_lt=new RegExp("("+["duration","mediaSize","mediaBitrate","show.writer","show.producer","show.director"].join("|")+")$");var Ult={dispatchSelectLibraryFilter:Vat,dispatchPopulateLibraryFilterOptions:Gat,dispatchDeselectLibraryFilter:Qat,dispatchSearchLibraryFilterOptions:Yat},zlt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSuggestionsFetchRequested=function(){t.props.selectedFilter&&(t.props.dispatchSelectLibraryFilter({serverEntityID:t.props.serverEntityID,key:t.props.selectedFilter.key}),t.props.dispatchPopulateLibraryFilterOptions())},t.onSuggestionsClearRequested=function(){t.props.selectedFilterOptions&&Object(No.a)(function(){t.props.dispatchDeselectLibraryFilter()})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchSelectLibraryFilter,e.dispatchPopulateLibraryFilterOptions,e.dispatchDeselectLibraryFilter,e.dispatchSearchLibraryFilterOptions,wt()(e,["dispatchSelectLibraryFilter","dispatchPopulateLibraryFilterOptions","dispatchDeselectLibraryFilter","dispatchSearchLibraryFilterOptions"]));return Llt(klt,dv()({},t,{onSuggestionsFetchRequested:this.onSuggestionsFetchRequested,onSuggestionsClearRequested:this.onSuggestionsClearRequested}))},t}(Rlt),Flt=$Q(Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.value.key},lat,Nst,Zst,function(e){return e.ui.libraryPage.selectedFilterOptions},function(e,t,n,r,i){for(var a,o,s=[],l={},c=0;c<n.length;c++){var u,d=n[c],p=d.key,h=d.title,f=d.type,g=d.subType;d.key===e&&(a=d),l[p]={type:f,subType:g,defaultOperator:r[f][0].key},_lt.test(p)||s.push(((u={})[p]=h,u))}if(a){var v,m=a.key.split("."),y=(f=m[0],m[1]);if(y||(y=f,f=null),f){var b=Object(nr.r)(f).id;v=C.a.find(t,function(e){var t=Object(nr.r)(e.type);return!!t&&t.id===b})}else v=t[0];v&&(o=C.a.find(v.filters,function(e){return e.filter===y}))}return{selectedField:a,fieldValues:s,selectedFilter:o,selectedFilterOptions:i,operatorValues:r[a.type].map(function(e){var t;return(t={})[e.key]=e.title,t}),fieldKeyTypes:l}})},Ult)(zlt)),Blt=n(200),Hlt=n.n(Blt),Vlt=Xf.a.Component,Qlt=$Q(sW);function Wlt(e){var t=e.defaultField,n=e.defaultFieldType,r=n.type,i=n.operators,a=[];return r===W6e&&a.push({value:1}),{key:t.key,value:a,operator:i[0].key,id:C.a.uniqueId()}}function Glt(e){return(e.activeFilters.length?e.activeFilters:[Wlt(e)]).map(function(e){return Object.assign({},e,{id:C.a.uniqueId(e.key)})})}var Ylt=hv()(ZE.a,{}),Klt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onFormSubmit=function(e){var t,n=r.state.activeFilters,i=r.props,a=i.allTypeFieldsByKey,o=i.typeKey,s=i.activeSort,l=n.map(function(t){var n=e[t.id],r=n.key,i=n.value,o=n.operator,s=i.map(function(e){return C.a.isString(e)?e:e.value});return{key:r,operator:o,value:a[r].type!==vle||qst(o)?s:[Fb(Object(tl.a)(s[0],"yyyy-MM-dd"))]}}).filter(function(e){return e.value.length});e.enableLimit&&""!==e.limit&&(t=e.limit),window.location.hash=pEe({typeKey:o,filters:l,sort:s,limit:t,customFilter:!0})},r.onCancelPress=function(){var e=r.props,t=e.typeKey,n=e.activeSort;window.location.hash=pEe({typeKey:t,filters:[],sort:n})},r.onAddPress=function(e){var t=[].concat(r.state.activeFilters);t.splice(e+1,0,Wlt(r.props)),r.setState({activeFilters:t})},r.onRemovePress=function(e){var t=[].concat(r.state.activeFilters);t.splice(e,1),r.setState({activeFilters:t})},r.state={activeFilters:t.activeFilters?Glt(t):[]},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.setState({activeFilters:Glt(e)})},n.render=function(){var e=this,t=this.state.activeFilters,n=this.props,r=n.serverEntityID,i=n.activeLimit,a=n.isQueryParsePopulated,o=n.queryParseError;if(!a)return hv()("div",{className:Hlt.a.loadingContainer},void 0,o?Object(Xn.default)("There was an error trying to load the filters. Reload the page and try again"):Ylt);var s=!!i;return hv()(x_,{className:Hlt.a.container,onSubmit:this.onFormSubmit},void 0,t.map(function(n,i){return hv()(Flt,{serverEntityID:r,name:n.id,index:i,initialValue:n,isRemoveDisabled:t.length<2,onRemovePress:e.onRemovePress,onAddPress:e.onAddPress},n.id)}),hv()("div",{className:Hlt.a.footer},void 0,hv()("div",{className:Hlt.a.settings},void 0,hv()(Qlt,{className:Hlt.a.checkInput,size:qp.SMALL,name:"enableLimit",checkboxText:Object(Xn.default)("Limit to"),initialValue:s}),hv()(Kst,{inputClassName:Hlt.a.numberInput,size:qp.SMALL,name:"limit",initialValue:s?i:"",leftLabel:!1,labelText:Object(Xn.default)("items")})),hv()("div",{className:Hlt.a.buttons},void 0,hv()(I_,{className:Hlt.a.button,onPress:this.onCancelPress},void 0,Object(Xn.default)("Cancel")),hv()(I_,{kind:Qp,type:"submit"},void 0,Object(Xn.default)("Apply")))))},t}(Vlt),qlt=Xf.a.createElement,Zlt=Xf.a.Component,Xlt=/^-([0-9]+)([a-zA-Z]+)$/;function Jlt(e,t){var n,r,i=e.field,a=e.type,o=e.fieldTitle,s=e.valueTitle,l=null==a?i:a+"."+i;return e.operator!==eTe&&e.operator!==tTe||!Xlt.test(e.value)||t[l].type!==vle?t[l].type===vle?(n=e.operator,r=Object(tl.a)(Object(rE.a)(e.value),"yyyy-MM-dd")):(n=e.operator,r=e.value):(n=e.operator+"-",r=e.value.substr(1)),{key:l,keyTitle:o,operator:n,value:[{value:decodeURIComponent(r),valueTitle:s?decodeURIComponent(s):void 0}]}}var $lt=Object(Iy.createSelector)(Nst,function(e){return e.reduce(function(e,t){return e[t.key]=t,e},{})}),ect=Object(Iy.createSelector)(function(e){return e.ui.libraryPage.queryParse},$lt,function(e,t){return void 0===e&&(e={}),e.rule?function e(t,n){var r=[];if("composite"===t.type&&"and"===t.operator){if(t.rules){var i=t.rules.reduce(function(t,r){return t.push.apply(t,e(r,n)),t},[]);r.push.apply(r,i)}}else if("composite"===t.type&&"or"===t.operator){var a=t.rules.reduce(function(e,t){var r=Jlt(t,n);return e.key=r.key,e.keyTitle=r.keyTitle,e.operator=r.operator,null==e.value&&(e.value=[]),e.value.push.apply(e.value,r.value),e},{});r.push(a)}else r.push(Jlt(t,n));return r}(e.rule,t):[]}),tct=Object(Iy.createSelector)(xse,lat,kst,$lt,ect,function(e){return e.ui.libraryPage.queryParse.key},function(e){return e.ui.libraryPage.queryParseError},function(e){return e.ui.libraryPage.isQueryParsePopulated},function(e,t,n,r,i,a,o,s){var l=t[0].fields[0],c=C.a.find(n,function(e){return e.type===l.type});return{supportsQueryParser:!!e.features.queryParser,activeFilters:i,allTypeFieldsByKey:r,queryParseKey:a,queryParseError:o,isQueryParsePopulated:s,defaultField:l,defaultFieldType:c}}),nct={dispatchPopulateQueryParse:Hat},rct=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.supportsQueryParser&&this.props.dispatchPopulateQueryParse()},n.componentWillReceiveProps=function(e){this.props.queryParseKey!==e.queryParseKey&&this.props.dispatchPopulateQueryParse()},n.render=function(){var e=this.props,t=(e.dispatchPopulateQueryParse,e.supportsQueryParser),n=wt()(e,["dispatchPopulateQueryParse","supportsQueryParser"]);return t?qlt(Klt,n):null},t}(Zlt),ict=Lm(tct,nct)(rct);function act(e,t){return e&&e.length&&t>0?C.a.sortBy(function(e,t){var n=[C.a.first(e),C.a.last(e)],r=C.a.sortBy(e,"size").reverse();return C.a.union(n,r).slice(0,t)}(e,t),"position"):[]}var oct=n(1076),sct=n.n(oct),lct=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPress=function(e){t.props.onPress(t.props.scrollIndex)},t}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){return hv()(RS,{className:sct.a.character,"data-qa-id":"jumpBarCharacter",onPress:this.onPress},void 0,this.props.title)},t}(Xf.a.Component),cct=n(1077),uct=n.n(cct),dct=Xf.a.createElement,pct=parseInt(yQ.a.jumpBarCharacterHeight,10);var hct=function(e){var t=e.firstCharacters,n=e.viewportHeight,r=e.onJumpBarItemPress,i={height:n+"px"},a=act(t,Math.floor(n/pct));return hv()("div",{className:uct.a.jumpBar,style:i},void 0,a.map(function(e,t){return dct(lct,dv()({key:t},e,{onPress:r}))}))};var fct=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.activeSort},function(e){return e.ui.libraryPage.firstCharacters},function(e,t){void 0===t&&(t=[]);var n,r,i=/titleSort:desc/i.test(e)?t.slice().reverse():t;return{firstCharacters:(n=i,r=0,n.map(function(e,t){var n=Object.assign({},e,{position:t,scrollIndex:r});return r+=e.size,n}))}})})(hct),gct=Xf.a.createElement,vct=hv()(Let,{}),mct=hv()(V4e,{});var yct=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.pivot,i=e.sourceDirectory,a=e.directoryKey,o=e.showSecondHeader,s=e.children,l=wt()(e,["serverEntityID","providerEntityID","pivot","sourceDirectory","directoryKey","showSecondHeader","children"]);return gct(f1,dv()({className:v1.a.page},l),hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i}),r?hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:a}):null,vct),o?mct:null,hv()(W1e,{},void 0,s))},bct=Xf.a.createElement;var Sct=function(e){return bct(s8e,dv()({className:E4e.a.innerEmptyPage,contentClassName:E4e.a.innerEmptyPageContent,scrollDirection:Zp},e))},Ict=n(1078),Cct=n.n(Ict),Mct=Xf.a.createElement;var Dct=function(e){var t=function(e){var t=e.sourceDirectory,n=e.hint,r=e.error;if(t&&t.id===Kn){var i={iconComponent:Fit,iconClassName:Cct.a.tidal,title:Object(Xn.default)("TIDAL + Plex = music to your ears!"),link:mB,linkText:Object(Xn.default)("Learn more")};if(406===r&&n){if(n.includes("saved"))return Object.assign({},i,{description:Object(Xn.default)("With a TIDAL subscription you can add Albums, artists, tracks and videos to My TIDAL to keep track of your favorite music.")});if(n.includes("playlists"))return Object.assign({},i,{description:Object(Xn.default)("Once you have a TIDAL subscription you can add music to My TIDAL Playlists and keep the party going.")})}}if(404===r)return{title:Object(Xn.default)("You must be lost"),description:Object(Xn.default)("We can't find the page you're looking for"),link:"#",linkText:Object(Xn.default)("Go Home")}}(e);if(t){var n=t.link,r=t.linkText,i=wt()(t,["link","linkText"]);return Mct(Srt,i,hv()(RS,{to:n,kind:a.PRIMARY},void 0,r))}return hv()(Drt,{title:e.defaultTitle})},wct=Xf.a.createElement,Pct=hv()(q1,{});var Tct=function(e){var t=e.types,n=e.selectedType,r=e.libraryRoute,i=e.activeSort,a=e.activeLimit,o=e.activeFilters,s=e.customFilter,l=e.onMenuClose,c=wt()(e,["types","selectedType","libraryRoute","activeSort","activeLimit","activeFilters","customFilter","onMenuClose"]);if(!(t&&t.length>0))return null;var u=t.reduce(function(e,t){return t.type!==nr.f?e.types.push(t):e.folder.push(t),e},{types:[],folder:[]});return wct(zT,dv()({},c,{onMenuClose:l}),u.types.map(function(e){var t=e.key,l=(e.type,e.title);return hv()(MI,{to:pEe({typeKey:t,filters:s?o:void 0,sort:s?i:void 0,limit:s?a:void 0,customFilter:s},r),isSelected:n.key===t},t,l)}),u.folder.length>0?Pct:null,u.folder.length>0?u.folder.map(function(e){var t=e.key,i=(e.type,e.title);return hv()(MI,{to:pEe({typeKey:t,folderKey:t,save:1},r),isSelected:n.key===t,onPress:l},t,i)}):null)},Ect=Xf.a.Component,xct=Xf.a.Fragment,Oct=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTypesMenuButtonPress=function(e){r.setState({isTypesMenuOpen:!r.state.isTypesMenuOpen})},r.onTypesMenuClose=function(){r.setState({isTypesMenuOpen:!1})},r.state={isTypesMenuOpen:!1},r._typesMenuButtonID=PS(),r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.directoryKey,a=e.folderTitle,o=e.parentFolderTitle,s=e.parentRoute,l=e.size,c=e.listType,u=e.listContext,d=e.listStyle,p=e.metadataTypes,h=e.selectedType,f=e.allListStyles,g=this.state.isTypesMenuOpen;return hv()(xct,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r}),hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,directoryKey:i}),hv()(Let,{},void 0,hv()(O5e,{listType:c,listContext:u,selectedListStyle:d,allListStyles:f}))),hv()(V4e,{},void 0,hv()(ret,{},void 0,hv()(G1,{id:this._typesMenuButtonID,title:Object(Xn.default)("Folders"),hasMenu:!0,isMenuOpen:g,onPress:this.onTypesMenuButtonPress}),hv()(Tct,{target:this._typesMenuButtonID,isOpen:g,types:p,selectedType:h,activeFilters:[],onMenuClose:this.onTypesMenuClose}),s?hv()(G1,{title:o||r.title,hasMenu:!1,to:s}):null,hv()(G1,{title:a}),hv()(q7e,{},void 0,l))))},t}(Ect);var jct=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.listType},Hk(),lat,cat(),Whe(),Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},function(e,t){return t.folderKey},function(e,t){return t.folderTitle},function(e,t){return t.parentFolderKey},function(e,t){return t.parentFolderTitle},Dy(),Hk(),function(e,t,n,r,i,a,o){var s={folderKey:r,folderTitle:i};if(!r){var l=e.key+"/folder";if(l===t)return null;s.folderKey=l,s.folderTitle=e.title}return nj(a,o,e,s)}),function(e,t,n,r,i,a){var o=not(e,null,wp,t);return{parentRoute:a,size:i.totalSize||i.metadataItems.length,metadataTypes:n,selectedType:r,allListStyles:o}})})(Oct),Act=parseInt(yQ.a.prePlayContentPadding,10),Nct={},kct={innerHorizontalPadding:30,innerVerticalPadding:30,outerPaddingTop:30,outerPaddingRight:60,outerPaddingBottom:30,outerPaddingLeft:60};function Lct(e,t,n,r,i){void 0===r&&(r=0),void 0===i&&(i=0);var a=e+(t||"")+n+r+i;if(Nct.hasOwnProperty(a))return Nct[a];var o=CL(e,t,n),s=$Fe({type:e,aspectRatio:o,titleCount:i,context:n}),l=s.titleHeight,c=s.minCellWidth,u=s.preferredCellWidth,d=s.minColumns,p=s.maxColumns,h=function(e){return e===Tp?Object.assign({},kct,{outerPaddingTop:10,outerPaddingRight:Act,outerPaddingBottom:5,outerPaddingLeft:Act}):kct}(n),f=hF(Object.assign({direction:dF},h,{getCellWidth:function(e){return ePe(Object.assign({},e,{preferredCellWidth:u,minCellWidth:c,minColumns:d,maxColumns:p,columnAdjustment:r,aspectRatio:o}))},getCellHeight:function(e){return Jwe(Object.assign({},e,{aspectRatio:o,titleHeight:l}))}}));return f.cellOptions={minCellWidth:c,minColumns:d,maxColumns:p,columnAdjustment:r,aspectRatio:o,titleHeight:l},Nct[a]=f,f}var Rct=Xf.a.createElement;var _ct=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.sourceDirectory,a=e.containerKey,o=e.containerTitle,s=e.activeSort,l=e.listType,c=e.listSubtype,u=e.listContext,d=e.columnAdjustment,p=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","sourceDirectory","containerKey","containerTitle","activeSort","listType","listSubtype","listContext","columnAdjustment"]),h=tOe(l,u,{activeSort:s,subtype:c,providerEntityID:n});return Rct(cF,dv()({listType:l,listContext:u,layout:Lct(l,c,u,d,h.length),cellRenderer:bBe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,sourceDirectory:i,containerKey:a,containerTitle:o,listType:l,listContext:u,titleComponents:h})},p))},Uct=P2(parseInt(yQ.a.simpleSummaryCellHeight,10),5);function zct(){return Object(Iy.createSelector)(Hk(),Qse(),function(e,t){void 0===t&&(t={});var n=t.summary;return wn(e.identifier)===Mn?Bh(n):n})}function Fct(e,t){var n=t[e.playQueueItems[e.currentIndex]];return n&&n.metadataItem}function Bct(){return Object(Iy.createSelector)(function(e){var t=e.ui;return t.audioVideoPlayer&&t.audioVideoPlayer.playQueue},function(e){var t=e.ui;return t.photoPlayer&&t.photoPlayer.playQueue},function(e,t){return t.metadataItemEntityID},soe,function(e,t,n,r){return!!n&&(e&&(i=Fct(e,r)),t&&(a=Fct(t,r)),i===n||a===n);var i,a})}var Hct=n(87),Vct=n.n(Hct),Qct=Xf.a.useState;var Wct=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.containerKey,a=e.listType,o=e.cellIndex,s=e.title,l=e.summary,c=e.tagline,u=e.route,d=e.showLink,p=e.showMore,h=e.isPlaying,f=e.isPlayerPaused,g=e.onPlayPress,v=CF(e),m=Qct(!1),y=m[0],b=m[1];return hv()("div",{className:((o%2?Vct.a.alternateItem:Vct.a.item)||"")+" "+(y&&Vct.a.isActionsMenuOpen||""),style:v.style},void 0,d?hv()(RS,{className:Vct.a.underlay,to:u,"aria-label":s}):null,hv()("div",{className:Vct.a.overlay},void 0,hv()("div",{className:Vct.a.simpleSummaryContainer},void 0,hv()("div",{className:Vct.a.indexPlayContainer},void 0,h?null:hv()(NEe,{className:Vct.a.titleEpisodeIndex,metadataItemEntityID:r,longName:!1}),h?hv()(Yze,{isPaused:f}):hv()("div",{className:Vct.a.playButtonContainer},void 0,hv()(Pve,{className:Vct.a.playButton,title:s,onPress:g}))),hv()("div",{className:Vct.a.miniProgressContainer},void 0,hv()(Pot,{metadataItemEntityID:r,size:qp.SMALL})),hv()("div",{className:Vct.a.titleAndSummaryContainer},void 0,hv()("div",{className:Vct.a.titleContainer},void 0,hv()("div",{className:Vct.a.title},void 0,s),hv()("div",{className:Vct.a.actions},void 0,p?hv()(Vge,{"data-qa-id":"metadataSimpleSummaryMoreButton",className:Vct.a.moreButton,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,showPlay:!1,showAddToSaved:!1,isMenuOpen:y,onMenuOpenChange:b}):null)),hv()("div",{className:Vct.a.summary},void 0,c||l)))))},Gct=n(659),Yct=n.n(Gct);var Kct=function(e){var t=e.cellIndex,n=CF(e);return hv()("div",{className:t%2?Yct.a.alternateLoadingItem:Yct.a.loadingItem,style:n.style},void 0,Object(Xn.default)("Loading..."))},qct=Xf.a.createElement;var Zct=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.listContext},function(e,t){return t.cellHeight},Qse(),OBe(),hEe(),zct(),Bct(),function(e){return e.ui.audioVideoPlayer.isPaused},function(e,t,n,r,i,a,o,s){return void 0===n&&(n={}),{metadataKey:n.key,grandparentKey:n.grandparentKey,type:r,index:n.index,title:n.title,summary:a,tagline:n.tagline,route:i,showLink:!!i,showMore:!n.isFolder,isPlaying:o,isPlayerPaused:s}})},function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.metadataItemEntityID,a=t.containerKey,o=t.listType,s=t.metricsPage,l=t.metricsContext;return{onPlayPress:function(){e(Ire({serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metricsPage:s,metricsContext:l,options:{containerKey:a,listType:o}}))}}},Yde)(function(e){var t=e.metadataKey;return qct(t?Wct:Kct,e)}),Xct=Xf.a.createElement;var Jct=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.containerTitle,o=e.listType,s=e.listContext,l=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return Xct(cF,dv()({listType:o,listContext:s,layout:Uct,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:o,listContext:s,containerKey:i,containerTitle:a},Zct)},l))},$ct=P2(parseInt(yQ.a.summaryCellHeight,10),5);var eut=function(e){var t=e.className,n=e.index;return null==n?null:hv()("span",{className:t},void 0,n)},tut=n(77),nut=n.n(tut),rut=Xf.a.createElement,iut=Xf.a.useState,aut=hv()(Cke,{});var out=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.containerKey,a=e.listType,o=e.listContext,s=e.cellIndex,l=e.metadataKey,c=e.type,u=e.index,d=e.title,p=e.grandparentKey,h=e.summary,f=e.isFolder,g=e.route,v=e.showLink,m=e.showEdit,y=e.showSelect,b=e.showMore,S=e.hasActiveSelection,I=e.isSelected,C=e.isOtherItemSelected,M=e.isModifierKeyPressed,D=e.imageWidth,w=e.imageHeight,P=e.imageUrl,T=e.onEditPress,E=e.onSelectPress,x=e.onDeselectPress,O=CF(e),j=a9e(),A=j[0],N=j[1],k=iut(!1),L=k[0],R=k[1],_=o===wp,U=y&&(M||C),z=S?"-1":"0",F=null!=u,B=!A;return rut("div",dv()({className:((s%2?nut.a.alternateItem:nut.a.item)||"")+" "+(S&&nut.a.hasActiveSelection||"")+" "+(U&&nut.a.isForcingSelection||"")+" "+(I&&nut.a.isSelected||"")+" "+(L&&nut.a.isActionsMenuOpen||""),style:O.style},N),y?hv()(RS,{className:nut.a.selectCoverButton,"aria-label":I?Object(Xn.default)("Deselect {title}",{title:d}):Object(Xn.default)("Select {title}",{title:d}),tabIndex:v&&!S?"-1":"0",onPress:I?x:E}):null,v?hv()(RS,{className:nut.a.underlay,tabIndex:z,to:g,"aria-label":d}):null,hv()("div",{className:nut.a.overlay},void 0,hv()("div",{className:nut.a.posterContainer},void 0,O.isPlaceholder?hv()(NBe,{imageWidth:D,imageHeight:w}):hv()(oLe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,listContext:o,metadataKey:l,type:c,imageWidth:D,imageHeight:w,imageUrl:P,isFolder:f,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1})),hv()("div",{className:_?nut.a.librarySummaryContainer:nut.a.summaryContainer},void 0,hv()("div",{},void 0,hv()("div",{className:nut.a.titleContainer},void 0,hv()("div",{className:nut.a.title},void 0,p?hv()("span",{},void 0,_?hv()(Gge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):F&&hv()(eut,{index:u}),_||F?hv()(cE,{className:nut.a.separator}):null):null,d),hv()("div",{className:nut.a.rating},void 0,hv()($xe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,hideUnrated:B})),hv()("div",{className:nut.a.actions},void 0,y?hv()(eQ,{className:nut.a.selectButton,tabIndex:z,title:d,isSelected:I,onPress:E}):null,m?hv()(RS,{"data-qa-id":"metadataSummaryEditButton",className:nut.a.editButton,tabIndex:z,"aria-label":Object(Xn.default)("Edit {title}",{title:d}),onPress:T},void 0,aut):null,b?hv()(Vge,{"data-qa-id":"metadataSummaryMoreButton",className:nut.a.moreButton,tabIndex:z,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:L,onMenuOpenChange:R}):null)),hv()("div",{className:nut.a.summary},void 0,h)))))},sut=n(519),lut=n.n(sut);var cut=function(e){var t=e.cellIndex,n=e.imageWidth,r=e.imageHeight,i=CF(e);return hv()("div",{className:t%2?lut.a.alternateLoadingItem:lut.a.loadingItem,style:i.style},void 0,hv()("div",{className:lut.a.posterContainer},void 0,hv()(NBe,{imageWidth:n,imageHeight:r})),Object(Xn.default)("Loading..."))},uut=Xf.a.createElement,dut=Xf.a.Component,put=parseInt(yQ.a.summaryCellPadding,10),hut=nke(out);var fut=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){return this.props.metadataKey?this.props.showSelect?uut(hut,this.props):uut(out,this.props):uut(cut,this.props)},t}(dut),gut=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.listContext},function(e,t){return t.cellHeight},Qse(),$de,qde,sse,OBe(),xBe(),hEe(),zct(),EBe(),TBe(),_fe,function(e,t,n,r,i,a,o,s,l,c,u,d,p){void 0===n&&(n={});var h=Gde(null,t-2*put,o,s,n,e),f=!r||!i;return{metadataKey:n.key,grandparentKey:n.grandparentKey,type:o,index:n.index,title:n.title,summary:c,isFolder:n.isFolder,selectionID:n.entityID,selectionType:u,activeSelectionType:p.activeSelectionType,isSelected:d,route:l,showLink:!!l,showEdit:!f&&gpe({server:r,provider:i,stableUser:a,metadataItem:n}),showSelect:!f&&Cpe({server:r,provider:i,stableUser:a,metadataItem:n}),showMore:!n.isFolder,imageWidth:h.width,imageHeight:h.height,imageUrl:h.url}})},function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.metadataListEntityID,a=t.metadataItemEntityID,o=t.metricsPage;return{onEditPress:function(){e(vde({serverEntityID:n,providerEntityID:r,metadataItemEntityID:a,metricsPage:o}))},onSelectItem:function(t){e(xfe(Object.assign({metadataListEntityID:i,id:a},t)))},onDeselectItem:function(t){e(Ofe(Object.assign({metadataListEntityID:i},t)))}}},Yde)(fut),vut=Xf.a.createElement;var mut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.containerTitle,o=e.listType,s=e.listContext,l=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listContext"]);return vut(cF,dv()({listType:o,listContext:s,layout:$ct,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:o,listContext:s,containerKey:i,containerTitle:a},gut)},l))};var yut=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{index:e.index}})})(eut),but=n(70),Sut=n.n(but),Iut=Xf.a.createElement,Cut=Xf.a.useState,Mut=hv()(Cke,{});var Dut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.containerKey,a=e.listType,o=e.listContext,s=e.activeSort,l=e.selectedSort,c=e.cellIndex,u=e.activeTableColumns,d=e.title,p=e.route,h=e.ratingKey,f=e.source,g=e.hasOfflineFile,v=e.hasOwnSubscription,m=e.showAvailableOffline,y=e.showLink,b=e.showPlay,S=e.showEdit,I=e.showSelect,C=e.showMore,M=e.showPlayIndex,D=e.showPlayCellIndex,w=e.showActionsDuration,P=e.showActionsMinutesLeft,T=e.hasActiveSelection,E=e.isSelected,x=e.isOtherItemSelected,O=e.isModifierKeyPressed,j=e.isPlaying,A=e.isPlayerPaused,N=e.onPlayPress,k=e.onEditPress,L=e.onSelectPress,R=e.onDeselectPress,_=CF(e),U=a9e(),z=U[0],F=U[1],B=Cut(!1),H=B[0],V=B[1],Q=o===wp,W=I&&(O||x),G=T?"-1":"0",Y=!z,K=m||w||P;return Iut("div",dv()({className:((c%2?Sut.a.alternateItem:Sut.a.item)||"")+" "+(T&&Sut.a.hasActiveSelection||"")+" "+(W&&Sut.a.isForcingSelection||"")+" "+(E&&Sut.a.isSelected||"")+" "+(H&&Sut.a.isActionsMenuOpen||""),style:_.style},F),I?hv()(RS,{className:Sut.a.selectCoverButton,"aria-label":E?Object(Xn.default)("Deselect {title}",{title:d}):Object(Xn.default)("Select {title}",{title:d}),tabIndex:y&&!T?"-1":"0",onPress:E?R:L}):null,y?hv()(RS,{className:Sut.a.underlay,tabIndex:G,to:p,"aria-label":d}):null,hv()("div",{className:Sut.a.overlay},void 0,hv()("div",{className:Sut.a.playCell},void 0,M&&!j?hv()(yut,{className:Sut.a.transientTitleLeft,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,D&&!j?hv()("span",{className:Sut.a.transientTitleLeft},void 0,c+1):null,b&&!j?hv()(Pve,{className:Sut.a.playButton,"data-qa-id":"listItemPlayButton",tabIndex:G,title:d,onPress:N}):null,j?hv()(Yze,{className:Sut.a.equalizer,isPaused:A}):null),u.map(function(e,i){var o=e.style,c=e.component,u=e.ascKey,d=e.descKey;return hv()(art,{style:o,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,component:c,type:a,isActiveSort:s===u||s===d||!!l&&l.key===u,hideUnrated:Y},i)}),hv()("div",{className:Q?Sut.a.libraryActionsCell:Sut.a.actionsCell},void 0,K?hv()("div",{className:Q?Sut.a.transientTitleLeft:Sut.a.transientTitleRight},void 0,m?hv()(yke,{size:16,arrowSize:16,lineWidth:1.5,source:f,ratingKey:h,hasOfflineFile:g,hasOwnSubscription:v}):null,m?hv()(kpe,{metadataItemEntityID:r,providerEntityID:n}):null,w?hv()(Eot,{className:Sut.a.transientTitleRightText,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null,P?hv()(YEe,{className:Sut.a.transientTitleRightText,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null):null,I?hv()(eQ,{className:Sut.a.selectButton,tabIndex:G,title:d,isSelected:E,onPress:L}):null,S?hv()(RS,{"data-qa-id":"metadataRowEditButton",className:Sut.a.editButton,tabIndex:G,"aria-label":Object(Xn.default)("Edit {title}",{title:d}),onPress:k},void 0,Mut):null,C?hv()(Vge,{"data-qa-id":"metadataRowMoreButton",className:Sut.a.moreButton,tabIndex:G,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:H,onMenuOpenChange:V}):null)))},wut=n(660),Put=n.n(wut);var Tut=function(e){var t=e.cellIndex,n=CF(e);return hv()("div",{className:t%2?Put.a.alternateLoadingItem:Put.a.loadingItem,style:n.style},void 0,Object(Xn.default)("Loading..."))},Eut=Xf.a.createElement,xut=Xf.a.Component,Out=nke(Dut);var jut=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSelectItem=function(e){t._isDoubleClick()?t._doubleClick():(t._firstClickTime=Date.now(),t.props.onSelectItem(e))},t.onDeselectItem=function(e){t._isDoubleClick()?t._doubleClick():(t._firstClickTime=Date.now(),t.props.onDeselectItem(e))},t}Sy()(t,e);var n=t.prototype;return n._isDoubleClick=function(){return this._firstClickTime&&Date.now()-this._firstClickTime<300},n._doubleClick=function(){var e=this.props,t=e.selectionType,n=e.showPlay,r=e.onPlayPress,i=e.onSelectItem,a=e.onDeselectAllItems;this._firstClickTime=0,a(),i({type:t}),n&&r()},n.render=function(){return this.props.metadataKey?this.props.showSelect?Eut(Out,dv()({},this.props,{onSelectItem:this.onSelectItem,onDeselectItem:this.onDeselectItem})):Eut(Dut,this.props):Eut(Tut,this.props)},t}(xut),Aut=iZ(function(){return Object(Iy.createSelector)(Qse(),XS,xse,sse,Sst(),OBe(),hEe(),Ppe(),EBe(),TBe(),Bct(),function(e){return e.ui.audioVideoPlayer.isPaused},_fe,function(e,t,n,r,i,a,o,s,l,c,u,d,p){void 0===e&&(e={});var h=!(!e.ratingKey||!s)&&te.a.get("allowSyncDownload");return{activeTableColumns:i,metadataKey:e.key,type:a,title:e.title,selectionID:e.entityID,selectionType:l,activeSelectionType:p.activeSelectionType,isSelected:c,isPlaying:u,isPlayerPaused:d,route:o,ratingKey:e.ratingKey,source:s,hasOfflineFile:Lpe(e),hasOwnSubscription:Rpe(e),showAvailableOffline:h,showLink:!!o,showPlay:ape({server:t,provider:n,stableUser:r,metadataItem:e}),showEdit:gpe({server:t,provider:n,stableUser:r,metadataItem:e}),showSelect:Cpe({server:t,provider:n,stableUser:r,metadataItem:e}),showMore:!e.isFolder}})},function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.metadataListEntityID,a=t.metadataItemEntityID,o=t.containerKey,s=t.listType,l=t.metricsPage,c=t.metricsContext;return{onPlayPress:function(){e(Ire({serverEntityID:n,providerEntityID:r,metadataItemEntityID:a,metricsPage:l,metricsContext:c,options:{containerKey:o,listType:s}}))},onEditPress:function(){e(vde({serverEntityID:n,providerEntityID:r,metadataItemEntityID:a,metricsPage:l}))},onSelectItem:function(t){e(xfe(Object.assign({metadataListEntityID:i,id:a},t)))},onDeselectItem:function(t){e(Ofe(Object.assign({metadataListEntityID:i},t)))},onDeselectAllItems:function(){e(Nfe({metadataListEntityID:i}))}}},Yde)(jut),Nut=Xf.a.createElement;var kut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.containerTitle,o=e.listType,s=e.listSubtype,l=e.listContext,c=e.typeKey,u=e.isFolder,d=e.activeSort,p=e.selectedSort,h=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","listType","listSubtype","listContext","typeKey","isFolder","activeSort","selectedSort"]);return Nut(cF,dv()({layout:trt,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,containerTitle:a,listType:o,listSubtype:s,listContext:l,typeKey:c,isFolder:u,activeSort:d,selectedSort:p},Aut)},h))},Lut=Xf.a.createElement;var Rut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.containerTitle,o=e.activeSort,s=e.listType,l=e.listSubtype,c=e.listContext,u=e.columnAdjustment,d=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","containerTitle","activeSort","listType","listSubtype","listContext","columnAdjustment"]),p=tOe(s,c,{providerEntityID:n,subtype:l,activeSort:o});return Lut(cF,dv()({listType:s,listContext:c,layout:Lct(s,l,c,u,p.length),cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:s,listSubtype:l,listContext:c,titleComponents:p,containerKey:i,containerTitle:a},UBe)},d))},_ut=n(520),Uut=n.n(_ut);var zut=hv()(W1e,{},void 0,hv()(O4e,{},void 0,hv()(ZE.a,{})));function Fut(e){var t=e.children,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataListEntityID,a=e.sourceDirectory,o=e.containerKey,s=e.containerTitle,l=e.listTitle,c=e.listType,u=e.listSubtype,d=e.listContext,p=e.listStyle,h=e.typeKey,f=e.activeSort,g=e.selectedSort,v=e.isDirectoryList,m=e.isFolder,y=e.metadataItemEntityIDs,b=e.totalSize,S=e.populatedRange,I=e.firstItemType,C=e.firstItemSubtype,M=e.isPending,D=e.isPopulated,w=e.error,P=e.columnAdjustment,T=e.hasGutter,E=e.onPageRequest,x=e.onListScrollIndexChange,O=e.onListUpdate,j=e.onMeasure,A=e.scrollIndex,N=b||y.length;if(D&&N){var k=c||I,L=u||C,R=function(e,t){if(e)return _ct;switch(t){case gh:return kut;case mh:return mut;case vh:return Jct;default:return Rut}}(v,p);return hv()(R,{className:Uut.a.metadataListPageContent,scrollerClassName:(Uut.a.metadataListScroller||"")+" "+(T&&Uut.a.hasGutter||""),serverEntityID:n,providerEntityID:r,metadataListEntityID:i,sourceDirectory:a,containerKey:o,containerTitle:s,listType:k,listSubtype:L,listContext:d,typeKey:h,isFolder:m,activeSort:f,selectedSort:g,scrollIndex:A,scrollPositionStorageKey:"MetadataListPageContent",keyPropName:"metadataItemEntityID",items:y,itemsOffset:S.start,size:N,columnAdjustment:P,onPageRequest:E,onListScrollIndexChange:x,onListUpdate:O,onMeasure:j},void 0,t)}if(M)return zut;if(w){var _=l?Object(Xn.default)("There was an unexpected error loading {listTitle}",{listTitle:l}):Object(Xn.default)("There was an unexpected error loading this list");return hv()(W1e,{},void 0,hv()(Dct,{sourceDirectory:a,hint:o,error:w.status,defaultTitle:_}))}return hv()(W1e,{},void 0,hv()(O4e,{title:Object(Xn.default)("Nothing to see here"),description:l?Object(Xn.default)("There are no items in {listTitle}",{listTitle:l}):Object(Xn.default)("There are no items in this list")}))}Fut.defaultProps={listContext:wp,listStyle:hh};var But=Fut;var Hut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.providerIdentifier,i=e.error,o=e.typeKey,s=e.activeFilters,l=e.activeSort,c=e.listType,u=e.listTitle,d=e.isFolder,p=e.isLibraryRefreshing,h=Cn.i(r,Cn.c),f=dL[c];return i?hv()(Drt,{title:Object(Xn.default)("There was an unexpected error loading this library")}):C.a.isEmpty(s)?h?hv()(e9e,{serverEntityID:t,providerEntityID:n}):p?hv()(O4e,{iconComponent:f,title:Object(Xn.default)("Libraries are currently being updated"),description:Object(Xn.default)("Hang tight while we look for your content")}):hv()(O4e,{iconComponent:f,title:d?Object(Xn.default)("There are no items in this folder"):Object(Xn.default)("There are no items in {listTitle}",{listTitle:u})}):hv()(O4e,{iconComponent:f,title:Object(Xn.default)("The active filter has no matches"),description:Object(Xn.default)("Use the menu above to change the active filter")},void 0,hv()(RS,{to:pEe({typeKey:o,sort:l}),kind:a.PRIMARY},void 0,Object(Xn.default)("Clear filter")))},Vut=Xf.a.createElement;var Qut=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.providerIdentifier,i=e.metadataItemEntityIDs,a=e.totalSize,o=e.isPending,s=e.isPopulated,l=e.error,c=e.typeKey,u=e.activeFilters,d=e.activeSort,p=e.listType,h=e.listTitle,f=e.isFolder,g=e.isLibraryRefreshing,v=a||i.length;return o||s&&v?Vut(But,e):hv()(W1e,{},void 0,hv()(Hut,{serverEntityID:t,providerEntityID:n,providerIdentifier:r,error:l,typeKey:c,activeFilters:u,activeSort:d,listType:p,listTitle:h,isFolder:f,isLibraryRefreshing:g}))};var Wut={showPlayAll:Yut,showShuffle:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataList;return Yut({server:t,provider:n,stableUser:r,metadataList:i})&&!!n.features.playqueue},showQueue:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataList;return Yut({server:t,provider:n,stableUser:r,metadataList:i})},showAddToAlbum:function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataList;return Kut({server:t,provider:n,stableUser:r,metadataList:i})},showAddToPlaylist:Kut,showAddToCatalog:function(e){e.server;var t=e.provider;e.stableUser,e.metadataList;return!!t.features.actions.addToCatalog},showSync:function(e){var t=e.server,n=(e.provider,e.stableUser,e.metadataList);if(!te.a.get("allowSync"))return!1;return!!(t.isFullServer&&t.allowSync&&n.isFirstItemLibraryItem&&n.allowSync)},showOptimize:function(e){var t=e.server,n=(e.provider,e.stableUser,e.metadataList);return!!(t.isFullOwnedServer&&t.transcoderVideo&&n.isFirstItemLibraryItem)}},Gut={mixed:[],movie:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],show:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showAddToCatalog","showSync","showOptimize"],season:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],episode:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync","showOptimize"],artist:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],album:["showPlayAll","showShuffle","showQueue","showAddToPlaylist","showSync"],track:["showPlayAll","showShuffle","showAddToCatalog","showQueue","showAddToPlaylist","showSync"],photoalbum:["showPlayAll","showShuffle","showAddToAlbum","showSync"],photo:["showPlayAll","showShuffle","showAddToAlbum","showSync"],clip:["showPlayAll","showShuffle","showAddToPlaylist","showSync","showOptimize"],genre:["showAddToCatalog"]};function Yut(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataList;return npe(t,n,r.features,i)}function Kut(e){var t=e.server,n=(e.provider,e.stableUser,e.metadataList);return!(!t.isFullServer||!n.isFirstItemLibraryItem)}var qut=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onAddToCatalogPress=function(){r.setState({isAddToCatalogModalOpen:!0})},r.onAddToCatalogClose=function(){r.setState({isAddToCatalogModalOpen:!1})},r.onAddToPlaylistPress=function(){r.setState({isAddToPlaylistModalOpen:!0})},r.onAddToPlaylistClose=function(){r.setState({isAddToPlaylistModalOpen:!1}),r.props.onMenuClose()},r.state={isAddToCatalogModalOpen:!1,isAddToPlaylistModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.createOnPress=function(e){var t=this;return function(){e(),t.props.onMenuClose()}},n.render=function(){var e=this.props,t=this.state,n=t.isAddToCatalogModalOpen,r=t.isAddToPlaylistModalOpen;return hv()("div",{},void 0,e.showPlayAll?hv()(hI,{onPress:this.createOnPress(e.onPlayAllPress)},void 0,Object(Xn.default)("Play All")):null,e.showShuffle?hv()(hI,{onPress:this.createOnPress(e.onShufflePress)},void 0,Object(Xn.default)("Shuffle")):null,e.showQueue?hv()(hI,{onPress:this.createOnPress(e.onPlayNextPress)},void 0,Object(Xn.default)("Play Next")):null,e.showQueue?hv()(hI,{onPress:this.createOnPress(e.onAddToQueuePress)},void 0,Object(Xn.default)("Add to Queue")):null,e.showAddToPlaylist?hv()(hI,{onPress:this.createOnPress(this.onAddToPlaylistPress)},void 0,Object(Xn.default)("Add to Playlist...")):null,e.showAddToCatalog?hv()(hI,{onPress:this.onAddToCatalogPress},void 0,(e.listType,e.listSubtype===$n?Object(Xn.default)("Add Podcast by URL"):Object(Xn.default)("Add to Catalog by URL"))):null,e.showSync?hv()(hI,{onPress:this.createOnPress(e.onSyncPress)},void 0,Object(Xn.default)("Sync...")):null,e.showOptimize?hv()(hI,{onPress:this.createOnPress(e.onOptimizePress)},void 0,Object(Xn.default)("Optimize...")):null,hv()(wit,{providerEntityID:e.providerEntityID,isOpen:n,onModalClose:this.onAddToCatalogClose}),e.showAddToPlaylist?hv()(Oge,{isOpen:r,serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataItemEntityID:e.metadataItemEntityID,onModalClose:this.onAddToPlaylistClose}):null)},t}(Xf.a.Component),Zut=Xf.a.createElement;var Xut=function(e){e.target,e.isOpen;var t=wt()(e,["target","isOpen"]);return hv()(zT,{target:e.target,isOpen:e.isOpen,onMenuClose:e.onMenuClose},void 0,Zut(qut,t))},Jut=Xf.a.createElement,$ut=k3e(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlayShortcut=function(){r.props.showPlayAll&&r.props.onPlayAllPress()},r.onAddToPlaylistPress=function(){r.setState({isAddToPlaylistModalOpen:!0})},r.onAddToPlaylistClose=function(){r.setState({isAddToPlaylistModalOpen:!1})},r.onActionsPress=function(e){r.setState({isActionsMenuOpen:!r.state.isActionsMenuOpen})},r.onActionsMenuClose=function(){r.setState({isActionsMenuOpen:!1})},r.state={isActionsMenuOpen:!1,isAddToPlaylistModalOpen:!1},r._moreButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){z.a.on("shortcut:playSelected",this.onPlayShortcut)},n.componentWillUnmount=function(){z.a.off("shortcut:playSelected",this.onPlayShortcut)},n.render=function(){var e=this.props,t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataListEntityID,a=e.showPlayAll,o=e.showPlayAllOverflow,s=e.showShuffle,l=e.showShuffleOverflow,c=e.showAddToAlbum,u=e.showAddToAlbumOverflow,d=e.showAddToPlaylist,p=e.showAddToPlaylistOverflow,h=e.showAddToCatalog,f=e.showAddToCatalogOverflow,g=e.showSync,v=e.showSyncOverflow,m=e.showOverflow,y=e.isLibraryList,b=e.onPlayAllPress,S=e.onShufflePress,I=e.onSyncPress,C=this.state,M=C.isActionsMenuOpen,D=C.isAddToPlaylistModalOpen;return hv()("div",{className:t},void 0,a?hv()(v3e,{playLabel:Object(Xn.default)("Play All"),onPress:b}):null,s?hv()(I3e,{onPress:S}):null,c?hv()(t3e,{onPress:this.onAddToPlaylistPress}):null,d?hv()(i3e,{onPress:this.onAddToPlaylistPress}):null,h?hv()(jit,{providerEntityID:r}):null,g?hv()(D3e,{onPress:I}):null,m?hv()(d3e,{id:this._moreButtonID,iconComponent:R3e,label:Object(Xn.default)("More..."),isMenuOpen:M,onPress:this.onActionsPress}):null,Jut(Xut,dv()({},this.props,{target:this._moreButtonID,isOpen:M,showPlayAll:o,showShuffle:l,showAddToAlbum:u,showAddToPlaylist:p,showAddToCatalog:f,showSync:v,onMenuClose:this.onActionsMenuClose})),c||d?hv()(Oge,{serverEntityID:n,providerEntityID:r,metadataListEntityID:i,smart:y,isOpen:D,onModalClose:this.onAddToPlaylistClose}):null)},t}(Xf.a.Component),["showPlayAll","showShuffle","showAddToAlbum","showAddToPlaylist","showAddToCatalog","showSync"],["showOptimize","showQueue"]);var edt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.listType},XS,xse,sse,Whe(),function(e,t,n,r,i){return function(e){var t=e.server,n=e.provider,r=e.stableUser,i=e.metadataList,a=e.listType||i.firstItemType||"mixed",o=Gut[a];return o?o.reduce(function(e,o){var s=Wut[o];return Object(M.a)(C.a.isFunction(s),"getMetadataListActionProps: Invalid action, "+o+", for "+a),e[o]=s({server:t,provider:n,stableUser:r,metadataList:i}),e},{}):{}}({server:t,provider:n,stableUser:r,metadataList:i,listType:e})})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataListEntityID:t.metadataListEntityID,listType:t.listType,metricsPage:t.metricsPage,metricsProperties:{context:t.metricsContext||On}};return{onPlayAllPress:function(){e(Ire(n))},onShufflePress:function(){e(kre(n))},onPlayNextPress:function(){e(Tre(Object.assign({},n,{options:{playAll:!0,next:!0}})))},onAddToQueuePress:function(){e(Tre(Object.assign({},n,{options:{playAll:!0,next:!1}})))},onSyncPress:function(){e(Tfe(n))},onOptimizePress:function(){e(Efe(n))}}},Yde)($ut);var tdt=n(154),ndt=n.n(tdt),rdt=hv()(q1,{});var idt=function(e){var t=e.className,n=e.style,r=e.typeKey,i=e.activeFilters,a=e.activeSort,o=e.selectedFilter,s=e.filterOptions,l=e.filterOptionQuery,c=e.showError,u=e.showSearchInput,d=e.onFilterDeselect,p=e.onSearch,h=o.filter;return hv()("div",{className:t,style:n,"data-qa-id":"secondFiltersList"},void 0,hv()("div",{className:ndt.a.header,"data-qa-id":"filterHeader"},void 0,hv()("div",{className:ndt.a.headerTitle},void 0,hv()(RS,{"data-qa-id":"previousFilters",onPress:d},void 0,hv()(Jz,{className:ndt.a.backIcon,"aria-label":Object(Xn.default)("Back")})),hv()("span",{className:ndt.a.filterText},void 0,o.title)),u?hv()(gW,{className:ndt.a.searchInput,name:"filterOptionQuery",placeholder:Object(Xn.default)("Filter {filterTitle}",{filterTitle:o.title}),value:l,onChange:p}):null),rdt,hv()(oT,{className:u?ndt.a.filterOptionsWithSearchScroller:ndt.a.filterOptionsScroller,autoScroll:!0},void 0,c?hv()("div",{className:ndt.a.emptyText},void 0,Object(Xn.default)("Unable to load options")):null,c||s.length?null:hv()("div",{className:ndt.a.emptyText},void 0,Object(Xn.default)("No options")),s.map(function(e){var t=e.value,n=e.title,o=e.isSelected;return hv()(MI,{className:ndt.a.filterOptionMenuItem,to:pEe({typeKey:r,filters:o?ptt(i,h,t):utt(i,h,{value:t,type:G6e}),filterLabel:o?void 0:n,sort:a}),isSelected:o},t,n)})))},adt=n(405),odt=n.n(adt),sdt=Xf.a.Component,ldt={scrollDirection:o.NONE},cdt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onFiltersListMeasure=function(e){var t=e.height;r.setState({isMeasured:!0,filterOptionsHeight:Math.max(t,r.props.minHeight)})},r.state={isMeasured:!1,filterOptionsHeight:"auto"},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.target,n=e.isOpen,r=e.typeKey,i=e.activeFilters,a=e.activeFilterLabel,o=e.activeSort,s=e.filters,l=e.selectedFilter,c=e.filterOptions,u=e.filterOptionQuery,d=e.showSpinner,p=e.showError,h=e.showSearchInput,f=e.showCustomFilter,g=e.onFilterSelect,v=e.onFilterDeselect,m=e.onSearch,y=e.onMenuClose,b=this.state,S=b.isMeasured,I=b.filterOptionsHeight,C=!!l&&!d&&S;return hv()(zT,{target:t,isOpen:n,size:qp.LARGE,scrollerProps:ldt,onMenuClose:JA(v,y)},void 0,hv()(XA,{className:(odt.a.panesContainer||"")+" "+(C&&odt.a.showFilterOptions||""),ignoreWidth:!0,ignorePosition:!0,ignoreTransforms:!0,onMeasure:this.onFiltersListMeasure},void 0,hv()(Itt,{className:odt.a.filtersPane,typeKey:r,activeFilters:i,activeFilterLabel:a,activeSort:o,filters:s,selectedFilter:l,showSpinner:d,showCustomFilter:f,onFilterSelect:g}),C?hv()(idt,{className:odt.a.filterOptionsPane,style:{height:I},typeKey:r,activeFilters:i,activeSort:o,selectedFilter:l,filterOptions:c,filterOptionQuery:u,showError:p,showSearchInput:h,onFilterDeselect:v,onSearch:m}):null))},t}(sdt);cdt.defaultProps={minHeight:385};var udt=cdt,ddt=Xf.a.createElement;var pdt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onFilterSelect=function(e){t.props.selectLibraryFilter({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,key:e}),t.props.fetchLibraryFilterOptions()},t.onFilterDeselect=function(){t.props.deselectLibraryFilter()},t.onSearch=function(e){t.props.searchLibraryFilterOptions(e)},t}return Sy()(t,e),t.prototype.render=function(){return ddt(udt,dv()({onFilterSelect:this.onFilterSelect,onFilterDeselect:this.onFilterDeselect,onSearch:this.onSearch},this.props))},t}(Xf.a.Component),hdt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.activeFilters},function(e,t){return t.selectedType},function(e){return e.ui.libraryPage},Object(Iy.createSelector)(function(e,t){return t.activeFilters},function(e,t){return t.selectedType},function(e){return e.ui.libraryPage.selectedFilterKey},function(e){return e.ui.libraryPage.filterOptionQuery},function(e){return e.ui.libraryPage.selectedFilterOptions},function(e,t,n,r,i){void 0===i&&(i=[]);var a=t&&t.filters,o=C.a.findWhere(a,{key:n}),s=i;if(r){var l=r.trim().toLowerCase();s=s.filter(function(e){return e.title.toLowerCase().indexOf(l)>-1})}if(o){var c=e.filter(function(e){return e.key===o.filter}),u=s.reduce(function(e,t){var n=dtt(c,t.value);return(n?e.selected:e.unselected).push(Object.assign({},t,{isSelected:n})),e},{selected:[],unselected:[]});s=u.selected.concat(u.unselected)}return s}),function(e,t,n,r){var i=n.selectedFilterKey,a=n.filterOptionQuery,o=n.selectedFilterOptions,s=void 0===o?[]:o,l=n.isSelectedFilterOptionsPopulated,c=n.selectedFilterOptionsError,u=t&&t.filters;return{filters:u,selectedFilter:i&&C.a.findWhere(u,{key:i}),filterOptions:r,filterOptionQuery:a,showSpinner:!l&&!c,showError:!!c,showSearchInput:s.length>12}})},v)(pdt),fdt=Xf.a.createElement,gdt=sl.a.directions,vdt=gdt.ASCENDING,mdt=gdt.DESCENDING;var ydt=function(e){var t=e.typeKey,n=e.activeFilters,r=e.activeFilterLabel,i=e.activeSort,a=e.activeLimit,o=e.sorts,s=e.selectedSort,l=e.customFilter,c=e.onMenuClose,u=wt()(e,["typeKey","activeFilters","activeFilterLabel","activeSort","activeLimit","sorts","selectedSort","customFilter","onMenuClose"]);return fdt(zT,dv()({},u,{onMenuClose:c}),o.map(function(e){var o=e.key,u=e.descKey,d=e.defaultDirection,p=e.title,h=s.key===o,f=d;h&&(f=s.activeDirection?s.activeDirection===mdt?vdt:mdt:i?i===u?vdt:mdt:d===vdt?mdt:vdt);var g=f===mdt;return hv()(MI,{to:pEe({typeKey:t,filters:n,filterLabel:r,sort:g?u:o,limit:l?a:null,customFilter:l}),isSelected:h,iconComponent:g?Qtt:Gtt,selectedIconAriaLabel:g?Object(Xn.default)("Ascending"):Object(Xn.default)("Descending"),onPress:c},o,p)}))},bdt=Xf.a.Component,Sdt=Xf.a.Fragment,Idt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onFiltersMenuButtonPress=function(e){r.setState({isFiltersMenuOpen:!r.state.isFiltersMenuOpen})},r.onFiltersMenuClose=function(){r.setState({isFiltersMenuOpen:!1})},r.onTypesMenuButtonPress=function(e){r.setState({isTypesMenuOpen:!r.state.isTypesMenuOpen})},r.onTypesMenuClose=function(){r.setState({isTypesMenuOpen:!1})},r.onSortsMenuButtonPress=function(e){r.setState({isSortsMenuOpen:!r.state.isSortsMenuOpen})},r.onSortsMenuClose=function(){r.setState({isSortsMenuOpen:!1})},r.state={isFiltersMenuOpen:!1,isTypesMenuOpen:!1,isSortsMenuOpen:!1},r._filtersMenuButtonID=PS(),r._sortsMenuButtonID=PS(),r._typesMenuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.provider,a=e.pivot,o=e.sourceDirectory,s=e.directoryKey,l=e.listType,c=e.listSubtype,u=e.listContext,d=e.listStyle,p=e.listTitle,h=e.typeKey,f=e.activeFilters,g=e.activeFilterLabel,v=e.activeSort,m=e.activeLimit,y=e.metadataTypes,b=e.selectedType,S=e.selectedSort,I=e.selectedFilterTitle,C=e.customFilter,M=e.totalSize,D=e.showSortsMenu,w=e.allListStyles,P=this.state,T=P.isFiltersMenuOpen,E=P.isTypesMenuOpen,x=P.isSortsMenuOpen,O=!!b&&b.filters.length>0,j=!!b&&y.length>0,A=!!(D&&S&&b.sorts.length>1),N=O?I:p;return hv()(Sdt,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:o}),a?hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:o,directoryKey:s}):null,hv()(Let,{},void 0,hv()(O5e,{listType:l,listSubtype:c,listContext:u,selectedListStyle:d,allListStyles:w}))),hv()(V4e,{},void 0,hv()($7e,{},void 0,N?hv()(G1,{id:this._filtersMenuButtonID,title:N,hasMenu:O,isMenuOpen:T,onPress:this.onFiltersMenuButtonPress}):null,O?hv()(hdt,{serverEntityID:t,providerEntityID:n,target:this._filtersMenuButtonID,isOpen:T,typeKey:h,activeFilters:f,activeFilterLabel:g,activeSort:v,selectedType:b,showCustomFilter:!!i.features.queryParser,onMenuClose:this.onFiltersMenuClose}):null,j?hv()(G1,{id:this._typesMenuButtonID,title:b.title,hasMenu:y.length>1,isMenuOpen:E,onPress:this.onTypesMenuButtonPress}):null,j?hv()(Tct,{target:this._typesMenuButtonID,isOpen:E,types:y,activeFilters:f,activeSort:v,activeLimit:m,customFilter:C,selectedType:b,onMenuClose:this.onTypesMenuClose}):null,A?hv()(G1,{id:this._sortsMenuButtonID,title:Object(Xn.default)("By {sortTitle}",{sortTitle:S.title}),hasMenu:!0,isMenuOpen:x,onPress:this.onSortsMenuButtonPress}):null,A?hv()(ydt,{target:this._sortsMenuButtonID,isOpen:x,typeKey:h,activeFilters:f,activeFilterLabel:g,activeSort:v,activeLimit:m,customFilter:C,sorts:b.sorts,selectedSort:S,onMenuClose:this.onSortsMenuClose}):null,hv()(q7e,{},void 0,M)),hv()(B1,{},void 0,hv()(edt,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:l,selectedType:b,isLibraryList:!0}))))},t}(bdt);Idt.defaultProps={showSortsMenu:!0};var Cdt=Idt;var Mdt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.listType},function(e,t){return t.listSubtype},function(e,t){return t.listStyle},function(e,t){return t.activeTitle},function(e,t){return t.pivot},xse,lat,Whe(),cat(),Object(Iy.createSelector)(function(e,t){return t.activeFilters},function(e,t){return t.activeFilterLabel},cat(),function(e,t,n){if(C.a.isEmpty(e)||!n)return Object(Xn.default)("All");var r=[],i=e.reduce(function(e,t){return(t.type===W6e?e.boolean:e.other).push(t),e},{boolean:[],other:[]}),a=i.boolean,o=i.other;if(1===a.length){var s=a[0],l=C.a.findWhere(n.filters,{filter:s.key,filterType:W6e});l&&r.push(l.title)}return 1===o.length&&t&&r.push(t),r.length?r.join(" "):Object(Xn.default)("Filtered")}),Jat(),function(e,t,n,r,i,a,o,s,l,c,u){var d=not(e,t,wp,a);return{provider:a,metadataTypes:o,selectedType:l,selectedSort:u,selectedFilterTitle:c,listTitle:r||i&&i.title,listType:e,listStyle:n,allListStyles:d,totalSize:s.totalSize}})})(Cdt),Ddt=n(1079),wdt=n.n(Ddt),Pdt=Xf.a.createElement,Tdt=Xf.a.Component,Edt=hv()(O4e,{},void 0,hv()(ZE.a,{})),xdt=hv()(Sct,{}),Odt=function(e){function t(t,n){var r;(r=e.call(this,t,n)||this).onListScrollIndexChange=function(e){r.setState({scrollIndex:e})},r.onListUpdate=function(e){var t=e.listStyle.height;r.setState({listHeight:t})},r.onMeasure=function(e){var t=e.height;r.setState({viewportHeight:t})},r.onJumpBarItemPress=function(e){r.setState({scrollIndex:e})};var i=t.listHeight,a=t.scrollIndex,o=t.viewportHeight;return r.state={listHeight:i,scrollIndex:a,viewportHeight:o},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.librarySectionID,n=e.providerIdentifier,r=e.onLibraryChange;t&&r(n,t)},n.componentDidUpdate=function(e){var t=this.props,n=t.librarySectionID,r=t.providerIdentifier,i=t.onLibraryChange;n&&n!==e.librarySectionID&&i(r,n)},n.componentWillUnmount=function(){this.props.onLibraryChange(null,null)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.metadataItemEntityIDs,a=e.sourceDirectory,o=e.pivot,s=e.containerKey,l=e.directoryKey,c=e.providerIdentifier,u=e.providerMetricsIdentifier,d=e.libraryError,p=e.isProgramGuide,h=e.showLibrarySpinner,f=e.showLibraryNotFound,g=e.selectedSort,v=e.listTitle,m=e.listType,y=e.listSubtype,b=e.listContext,S=e.listStyle,I=e.firstItemType,C=e.firstItemSubtype,M=e.activeSelectionType,D=e.typeKey,w=e.activeFilters,P=e.activeFilterLabel,T=e.activeSort,E=e.activeLimit,x=e.activeTitle,O=e.customFilter,j=e.folderKey,A=e.folderTitle,N=e.parentFolderKey,k=e.parentFolderTitle,L=e.populatedRange,R=e.columnAdjustment,_=e.hasQueryParse,U=e.isDirectoryList,z=e.isLibraryRefreshing,F=e.isPending,B=e.isPopulated,H=e.totalSize,V=e.firstCharacterCount,Q=e.metricsContext,W=e.onPageRequest,G=this.state,Y=G.listHeight,K=G.scrollIndex,q=G.viewportHeight,Z=/titleSort/i.test(g.key),X=Math.max(Y,1),J=!j&&Z&&V>=5&&q/X<=.25,$=S===gh,ee=!M&&!!j,te=!M&&!j,ne={serverEntityID:t,providerEntityID:n,pivot:o,sourceDirectory:a,directoryKey:ee?j:l,scrollDirection:Zp},re={metricsPage:"library",metricsProperties:{identifier:u,mode:j?"folder":"type",type:m,customFilter:O,style:S},allowBackgroundLightPreset:!0,scrollDirection:Zp},ie=o?qFe("library",o.context):Q;return h?hv()(i2e,{metricsContext:ie},void 0,Pdt(D1,re,Pdt(yct,dv()({},ne,{showSecondHeader:!0}),Edt))):f?hv()(i2e,{metricsContext:ie},void 0,Pdt(D1,re,Pdt(yct,ne,xdt))):d?hv()(i2e,{metricsContext:ie},void 0,Pdt(D1,re,Pdt(yct,ne,hv()(Dct,{sourceDirectory:a,hint:l,error:d.status,defaultTitle:Object(Xn.default)("There was an unexpected error loading this library")})))):hv()(i2e,{metricsContext:ie},void 0,Pdt(D1,re,M?hv()(e5e,{serverEntityID:t,providerEntityID:n}):null,ee?hv()(jct,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,pivot:o,sourceDirectory:a,directoryKey:l,typeKey:D,listType:m,listSubtype:y,listContext:b,listStyle:S,folderKey:j,folderTitle:A,parentFolderKey:N,parentFolderTitle:k}):null,te?hv()(Mdt,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,pivot:o,sourceDirectory:a,directoryKey:l,listType:m,listSubtype:y,listContext:b,listStyle:S,typeKey:D,activeTitle:x,activeFilters:w,activeFilterLabel:P,activeSort:T,customFilter:O,showSortsMenu:!$}):null,O&&_?hv()(ict,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,providerIdentifier:c,typeKey:D,activeSort:T,activeLimit:E,selectedSort:g}):null,$?hv()(Ast,{providerEntityID:n,metadataListEntityID:r,listType:m,listSubtype:y,listContext:b,typeKey:D,activeFilters:w,activeFilterLabel:P,activeSort:T,customFilter:O,selectedSort:g,isFolder:!!j,isDisabled:!!j}):null,hv()(Qut,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,metadataItemEntityIDs:i,sourceDirectory:a,containerKey:s,containerTitle:A,providerIdentifier:c,hasGutter:J,scrollIndex:K,listTitle:v,listType:m,listSubtype:y,listContext:b,listStyle:S,typeKey:D,firstItemType:I,firstItemSubtype:C,activeFilters:w,activeSort:T,selectedSort:g,populatedRange:L,columnAdjustment:R,shouldResetOnUnmount:!0,totalSize:H,isLibraryRefreshing:z,isPending:F,isPopulated:B,isFolder:!!j,isDirectoryList:U,onPageRequest:W,onListScrollIndexChange:this.onListScrollIndexChange,onListUpdate:this.onListUpdate,onMeasure:this.onMeasure},void 0,p?hv()(q8e,{className:wdt.a.attribution,providerEntityID:n}):null),J?hv()(fct,{activeSort:T,viewportHeight:q,onJumpBarItemPress:this.onJumpBarItemPress}):null,p?hv()(pit,{serverEntityID:t,providerEntityID:n}):null))},t}(Tdt);Odt.defaultProps={listContext:wp,scrollIndex:0,listHeight:0,viewportHeight:0};var jdt=Odt,Adt=Xf.a.createElement;var Ndt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isDetailsPopulated&&this._populate()},n.componentDidUpdate=function(e){var t=this.props,n=t.isDetailsPopulated,r=t.firstCharacterKey,i=t.queryParseKey;!n||r===e.firstCharacterKey&&i===e.queryParseKey||this._populate()},n._populate=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.firstCharacterKey,i=e.queryParseKey,a=e.dispatchInitLibraryPageSupportingLists,o=e.dispatchPopulateLibraryFirstCharacters;(r||i)&&a({serverEntityID:t,providerEntityID:n,firstCharacterKey:r,queryParseKey:i}),r&&o()},n.render=function(){var e=this.props,t=(e.dispatchInitLibraryPageSupportingLists,e.dispatchPopulateLibraryFirstCharacters,wt()(e,["dispatchInitLibraryPageSupportingLists","dispatchPopulateLibraryFirstCharacters"]));return Adt(jdt,t)},t}(Xf.a.Component),kdt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.folderKey},function(e,t){return t.isMetaPopulated},function(e,t){return t.error},function(e){return e.ui.libraryPage},Hk(),Object(Iy.createSelector)($at("firstCharacter"),function(e,t){return t.selectedType},function(e,t){if(e)return e;if(t&&t.sorts){var n=t.sorts.find(function(e){return!!e.active});return n&&n.firstCharacterKey}}),$at("query/parse"),lat,function(e,t){return t.selectedType},Jat(),Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},function(e,t){return t.pivot},function(e,t){return e&&t?Zn(e.key)===t.key?e.title:t.title:e?e.title:null}),eot,_fe,Bq(),function(e,t,n,r,i,a,o,s,l,c,u,d,p,h){void 0===l&&(l={}),void 0===c&&(c={});var f=r.metadataList,g=r.firstCharacters,v=r.details,m=r.queryParse,y=r.isDetailsPopulated,b=r.detailsError,S=function(e,t,n){if(e&&t){if(n){var r=t[0];if(!r)return;var i=Object(nr.q)(r.type);return i?Object(nr.q)(i.id).typeString:LTe}return Object(nr.n)(e.type)?Object(nr.r)(e.type).typeString:e.type}}(l,s,e),I=function(e){if(e)return e.subtype}(l),C=rot(d,wp,S,I,i),M=Cn.i(i.identifier,Cn.c);return{librarySectionID:v&&v.librarySectionID,firstCharacterKey:a,queryParseKey:o,hasQueryParse:!!m,metadataListEntityID:f,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,isProgramGuide:M,isDetailsPopulated:y||t,showLibrarySpinner:!(b||n||y&&t&&f),showLibraryNotFound:!!b&&404===b.status,libraryError:b||n,libraryDirectories:v&&v.directories,listTitle:u,listType:S,listSubtype:I,listStyle:C,selectedType:l,selectedSort:c,activeSelectionType:p.activeSelectionType,isLibraryRefreshing:h,firstCharacterCount:g?g.length:0}})},function(e,t){return{onLibraryChange:function(n,r){e(pse({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,sectionID:r}))},dispatchInitLibraryPageSupportingLists:function(t){e(Rat(t))},dispatchPopulateLibraryFirstCharacters:function(){e(Fat())}}})(Ndt),Ldt=Xf.a.createElement;var Rdt=z8e(function(e){return Ldt(Vfe,dv()({component:kdt,initialSize:50},e))},function(e){var t=e.ui.libraryPage;return{providerEntityID:t.providerEntityID,directoryKey:t.directoryKey,libraryKey:t.libraryKey}},function(e,t){var n=t.pivot,r=void 0===n?{}:n;e(Nat({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:r.libraryKey,directoryKey:t.directoryKey})),e(kat({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,containerKey:t.containerKey})),r.libraryKey&&e(Uat())}),_dt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.libraryPage},Object(Iy.createSelector)(function(e,t){return t.folderKey},function(e,t){return t.directoryKey},function(e,t){return t.typeKey},function(e,t){return t.activeFilters},function(e,t){return t.activeSort},function(e,t){return t.activeLimit},function(e,t){return t.sourceDirectory},function(e,t,n,r,i,a,o){if(e)return e;var s={filters:r,sort:i,limit:a};return lTe(o&&o.type===nr.h||!n?n||t:n,s)}),Hk(),cat(),function(e,t,n,r){var i=e.details;return{metadataListEntityID:e.metadataList,librarySectionID:i&&i.librarySectionID,providerIdentifier:n.identifier,containerKey:t,selectedType:r}})},function(e,t){return{onLibraryChange:function(n,r){e(pse({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,sectionID:r}))},dispatchInitLibraryPageMetadataList:function(t){e(kat(t))},dispatchPopulateLibraryFirstCharacters:function(){e(Fat())}}})(Rdt);var Udt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.directoryKey,a=e.pivot,o=e.title,s=e.activeType,l=e.activeSubtype,c=e.activeFilters,u=e.activeFilterLabel,d=e.activeSort,p=e.activeLimit,h=e.pageType,f=e.customFilter,g=e.typeKey,v=e.folderKey,m=e.folderTitle,y=e.parentFolderKey,b=e.parentFolderTitle;return h===fn.HUB?hv()(oat,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,hubKey:i}):hv()(_dt,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,directoryKey:i,libraryKey:a&&a.libraryKey,pivot:a,activeType:s,activeSubtype:l,activeFilters:c,activeFilterLabel:u,activeSort:d,activeLimit:p,activeTitle:o,customFilter:f,typeKey:g,folderKey:v,folderTitle:m||r&&r.title,parentFolderKey:y,parentFolderTitle:b})},zdt=Ce.a.extend({name:"ProviderIntegrationModel",context:["server","provider"],rootPropertyName:"Integration",syncedAttrs:{id:Me.a.string.isRequired,status:Me.a.string.isRequired}}),Fdt=Ue.a.extend({name:"ProviderIntegrationCollection",context:["server","provider"],url:"/integrations",responseType:jt.a.json,model:zdt});var Bdt,Hdt=function(){var e=P.a.Deferred();return setTimeout(function(){e.resolve()},3e3),e},Vdt=Mt("provider/providerIntegrations/initProviderIntegrations"),Qdt=Mt("provider/providerIntegrations/fetchProviderIntegrations"),Wdt=Mt("provider/providerIntegrations/pollProviderIntegrations"),Gdt=Mt("provider/providerIntegrations/integrationsOnboardingComplete"),Ydt=Mt("provider/providerIntegrations/createLocastAccount");function Kdt(e){return e.get("ui").get("providerIntegrations")}var qdt=((Bdt={})["provider/providerIntegrations/initProviderIntegrations"]=function(e,t,n){Kdt(e).set({isIntegrationsOnboarding:!1,isIntegrationsPending:!1,isIntegrationsPopulated:!1,integrationsError:null,integrations:new Fdt([],{server:bo(e,t),provider:Co(e,t)})}),n(Qdt())},Bdt["provider/providerIntegrations/fetchProviderIntegrations"]=Ki({key:"integrations",getModel:Kdt}),Bdt["provider/providerIntegrations/pollProviderIntegrations"]=function(e,t,n){Kdt(e).set("isIntegrationsOnboarding",!0),setTimeout(function(){Object(No.a)(function(){n(Qdt())})},3e3)},Bdt["provider/providerIntegrations/integrationsOnboardingComplete"]=function(e){Kdt(e).set("isIntegrationsOnboarding",!1)},Bdt["provider/providerIntegrations/createLocastAccount"]=function(e,t,n){Kdt(e).set("isIntegrationsOnboarding",!0),Hdt().then(function(){n(Wdt())})},Bdt);var Zdt=function(e){return e.ui.providerIntegrations},Xdt="locast";var Jdt=function(e){var t=Zdt(e);return t.integrations?t.integrations.find(function(e){return e.id===Xdt}):null},$dt=Object(Iy.createSelector)(Jdt,function(e){return e?e.status:null}),ept="active",tpt="available",npt=Object(Iy.createSelector)(Zdt,function(e){return e.integrations}),rpt=Object(Iy.createSelector)(npt,function(e){var t,n=((t={})[ept]=[],t[tpt]=[],t.inaccessible=[],t.inactive=[],t.unavailable=[],t);return e?e.reduce(function(e,t){return e[t.status]&&e[t.status].push(t),e},n):n}),ipt=Object(Iy.createSelector)(Zdt,rpt,$dt,function(e,t,n){return{locastIntegrationStatus:n,integrationsError:e.integrationsError,isIntegrationsPopulated:e.isIntegrationsPopulated,isIntegrationsOnboarding:e.isIntegrationsOnboarding,isEveryIntegrationActive:e.isIntegrationsPopulated&&t[ept].length===e.integrations.length}}),apt=n(1080),opt=n.n(apt),spt=Xf.a.createElement;var lpt=function(e){return spt(Nk,dv()({containerClassName:opt.a.container,component:pk},e))},cpt=n(452),upt=n.n(cpt);var dpt=function(e){var t=e.message;return hv()("p",{className:upt.a.message},void 0,t)},ppt=Xf.a.Fragment;var hpt=function(e){var t=e.children,n=e.messages;return hv()(ppt,{},void 0,n?n.map(function(e,t){return hv()(dpt,{message:e},t)}):null,t||null)},fpt=n(406),gpt=n.n(fpt),vpt=Xf.a.createElement;function mpt(e){var t=e.src,n=e.title,r=e.badge,i=e.messages,a=e.children,o=e.contentClassName,s=e.backgroundPosition,l=wt()(e,["src","title","badge","messages","children","contentClassName","backgroundPosition"]);return vpt(W1e,dv()({autoScroll:!0,compactScroller:!0},l),hv()(lpt,{src:t,backgroundPosition:s}),hv()("div",{className:(o||"")+" "+((r?gpt.a.hasBadge:null)||"")},void 0,n?hv()("h1",{className:gpt.a.title},void 0,n):null,i?hv()(hpt,{messages:i}):null,r||null,a))}mpt.defaultProps={contentClassName:gpt.a.content,innerClassName:gpt.a.innerPageContent};var ypt=mpt,bpt=n(1081),Spt=n.n(bpt),Ipt=Xf.a.createElement;var Cpt=function(e){return Ipt(ypt,dv()({src:Spt.a,backgroundPosition:"top center"},e))},Mpt=n(1082),Dpt=n.n(Mpt),wpt=Xf.a.createElement;function Ppt(e){return wpt(I_,dv()({className:Dpt.a.button,size:qp.LARGE},e))}Ppt.defaultProps={kind:Vp};var Tpt=Ppt,Ept=n(1083),xpt=n.n(Ept);var Opt=function(e){var t=e.children;return hv()("div",{className:xpt.a.buttons},void 0,t)},jpt=Xf.a.createElement;var Apt=function(e){return jpt("p",dv()({},e,{className:upt.a.message}))},Npt=n(1084),kpt=n.n(Npt),Lpt=Xf.a.createElement;var Rpt=function(e){return Lpt("span",dv()({className:kpt.a.message},e))},_pt=Xf.a.Fragment;var Upt=function(e){var t=e.onAdvance;return hv()(_pt,{},void 0,hv()(hpt,{},void 0,hv()(dpt,{},void 0,Object(Xn.default)("All done!")),hv()(AB,{component:Apt,message:Object(Xn.default)("You can manage your Locast account at {manageAccountUrl}"),tags:[{unpaired:"manageAccountUrl",children:hv()(Rpt,{},"manageAccountUrl",PB)}]}),hv()(dpt,{},void 0,Object(Xn.default)("Locast can be found under 'Live TV' in all your Plex apps now."))),hv()(Opt,{},void 0,hv()(Tpt,{kind:Qp,onPress:t},void 0,Object(Xn.default)("Watch Locast TV now"))))},zpt=Object(Iy.createSelector)(wy,function(e){return e.email}),Fpt=Xf.a.Fragment;var Bpt=function(e){var t=e.onBack;return hv()(Fpt,{},void 0,hv()(hpt,{},void 0,hv()(AB,{component:Apt,message:Object(Xn.default)("Visit {url} on your phone or computer to link your Locast account to Plex"),tags:[{unpaired:"url",children:hv()(Rpt,{},EB,hv()(RS,{to:EB,kind:Qp,size:qp.LARGE,target:"_self"},void 0,EB))}]})),hv()(Opt,{},void 0,hv()(Tpt,{onPress:t},void 0,Object(Xn.default)("Back"))))},Hpt=Xf.a.createElement,Vpt=Xf.a.useEffect,Qpt=Object(Iy.createSelector)(zpt,$dt,Zdt,function(e,t,n){return{email:e,isLocastIntegrationActive:t===ept,isIntegrationsPending:n.isIntegrationsPending,isIntegrationsPopulated:n.isIntegrationsPopulated}});var Wpt=Lm(Qpt,{dispatchPollProviderIntegrations:Wdt})(function(e){var t=e.isIntegrationsPending,n=e.isLocastIntegrationActive,r=e.dispatchPollProviderIntegrations,i=e.onAdvance;return Vpt(function(){t||n||r()},[r,n,t]),Vpt(function(){n&&i()},[n,i]),Hpt(Bpt,e)}),Gpt=Xf.a.Fragment,Ypt=hv()(ZE.a,{});var Kpt=function(e){var t=e.email,n=e.isLocastIntegrationActive,r=e.onAdvance;return hv()(Gpt,{},void 0,hv()(hpt,{},void 0,hv()(AB,{component:Apt,message:Object(Xn.default)("We will create a new account for you using {emailAddress}"),tags:[{unpaired:"emailAddress",children:hv()(Rpt,{},"emailAddress",t)}]},"emailAddress"),hv()(dpt,{message:Object(Xn.default)("Locast is a not for profit service that relies on donations to survive.")})),n?hv()(Opt,{},void 0,hv()(Tpt,{onPress:r},void 0,Object(Xn.default)("Watch Locast TV now"))):Ypt)},qpt=Xf.a.createElement,Zpt=Xf.a.useEffect,Xpt=Object(Iy.createSelector)(zpt,$dt,Zdt,function(e,t,n){return{email:e,isLocastIntegrationActive:t===ept}});var Jpt=Lm(Xpt,{dispatchCreateLocastAccount:Ydt})(function(e){var t=e.email,n=e.dispatchCreateLocastAccount;return Zpt(function(){n()},[t,n]),qpt(Kpt,e)}),$pt=Xf.a.Fragment;var eht=function(e){var t=e.onAdvanceNewAccount,n=e.onAdvanceExistingAccount;return hv()($pt,{},void 0,hv()(hpt,{},void 0,hv()(dpt,{message:Object(Xn.default)("Stream local broadcast TV to all of your Plex devices for free with Locast!")}),hv()(dpt,{message:Object(Xn.default)("Our easy-to-use program guide and powerful search let you find and watch your local movies, shows, news, and sports.")})),hv()(Opt,{},void 0,hv()(Tpt,{kind:Qp,onPress:t},"1",Object(Xn.default)("Get started for free")),hv()(Tpt,{onPress:n},"2",Object(Xn.default)("Already a Locast customer"))))},tht=Xf.a.useState,nht=0,rht=1,iht=2,aht=3;var oht=function(e){var t=e.onComplete,n=tht(nht),r=n[0],i=n[1];return hv()(Cpt,{},void 0,r===nht?hv()(eht,{onAdvanceNewAccount:function(){i(iht)},onAdvanceExistingAccount:function(){i(aht)}}):null,r===rht?hv()(Upt,{onAdvance:t}):null,r===iht?hv()(Jpt,{onAdvance:t}):null,r===aht?hv()(Wpt,{onAdvance:function(){i(rht)},onBack:function(){i(nht)}}):null)},sht=Xf.a.useEffect,lht={dispatchInitProviderIntegrations:Vdt,dispatchIntegrationsOnboardingComplete:Gdt},cht=hv()(Gq,{},void 0,hv()(ZE.a,{})),uht=hv()(Zq,{});var dht=Lm(ipt,lht)(function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.children,i=e.integrationsError,a=e.locastIntegrationStatus,o=e.isIntegrationsPopulated,s=e.isIntegrationsOnboarding,l=e.isEveryIntegrationActive,c=e.dispatchInitProviderIntegrations,u=e.dispatchIntegrationsOnboardingComplete;return sht(function(){Object(No.a)(function(){c({serverEntityID:t,providerEntityID:n})})},[t,n,c]),o?a===tpt||a===ept&&s?hv()(oht,{serverEntityID:t,providerEntityID:n,onComplete:u}):i?uht:l?r:hv()(Zq,{title:Object(Xn.default)("Unavailable")}):cht});var pht=function(){return hv()(o8e,{title:Object(Xn.default)("Plex is down for maintenance"),description:Object(Xn.default)("Don't worry, it will be back soon")},void 0,hv()(RS,{to:vB,target:"_blank",kind:a.PRIMARY},void 0,"status.plex.tv"))};var hht=function(){return hv()(o8e,{title:Object(Xn.default)("Plex is not reachable"),description:Object(Xn.default)("We are unable to connect to plex.tv at this time. Please try again later.")})},fht=Xf.a.Fragment,ght=hv()(pht,{}),vht=hv()(hht,{}),mht=hv()(Crt,{}),yht=hv()(WZe,{},void 0,hv()(ZE.a,{})),bht=hv()(s8e,{});var Sht=function(e){var t=e.children,n=e.hasProvider,r=e.isDownForMaintenance,i=e.isUnreachable,a=e.hasError,o=e.isPending;return r?ght:i?vht:a?mht:o?yht:n?hv()(fht,{},void 0,t):bht};var Iht=Lm(function(){return Object(Iy.createSelector)(Wfe("isProvidersPopulated"),Wfe("providersError"),Hk(),H9,function(e,t,n,r){return n?{hasProvider:!0,hasError:!!n.error,isPending:!n.isPopulated}:{hasProvider:!1,isDownForMaintenance:r.isDownForMaintenance,isUnreachable:r.isUnavailable,hasError:!!t,isPending:!e}})})(Sht);Iht.propTypes=Object.assign({},Iht.propTypes,{providerEntityID:Dp.a.string.isRequired});var Cht=Iht,Mht=Xf.a.createElement;function Dht(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.hasIntegrationsFeature,i=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=(e.machineIdentifier,e.sourceDirectoryKey),i=e.sourceDirectory,a=e.pivot,o=e.directoryKey,s=e.params,l=e.shouldSaveParams,c=wt()(e,["serverEntityID","providerEntityID","machineIdentifier","sourceDirectoryKey","sourceDirectory","pivot","directoryKey","params","shouldSaveParams"]);return r&&!o?hv()(ait,{serverEntityID:t,providerEntityID:n,sourceDirectoryKey:r}):hv()(f8e,{serverEntityID:t,providerEntityID:n,sourceDirectoryKey:r,directoryKey:o,params:s,shouldSaveParams:l},void 0,Mht(Udt,dv()({serverEntityID:t,providerEntityID:n,sourceDirectory:i,pivot:a,directoryKey:o},c)))}(e);return r?hv()(dht,{serverEntityID:t,providerEntityID:n},void 0,i):i}var wht=function(e){var t=e.machineIdentifier,n=e.serverEntityID,r=e.providerEntityID,i=Dht(e);return t===cv.a?hv()(Cht,{providerEntityID:r},void 0,i):hv()(R8e,{serverEntityID:n},void 0,i)};var Pht=Lm(function(){return Object(Iy.createSelector)(GFe(),$6e(),$rt(),function(e,t,n){return{sourceDirectory:e,pivot:t,hasIntegrationsFeature:Boolean(n)}})})(wht),Tht=Xf.a.createElement,Eht=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t),o=Object(Tr.a)(Er.l,n,a),s=function(e){return{type:e.type,subtype:e.subtype,filters:e.filters,filterLabel:e.filterLabel,sort:e.sort,limit:e.limit,view:e.view,pageType:e.pageType,customFilter:e.customFilter,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle}}(i),l=function(e){return{activeType:e.type,activeSubtype:e.subtype,activeFilters:X6e(e.filters),activeFilterLabel:e.filterLabel,activeSort:e.sort,activeLimit:Object(Fr.a)(e.limit),customFilter:Object(zr.a)(e.customFilter),view:e.view,pageType:e.pageType,typeKey:e.typeKey,folderKey:e.folderKey,folderTitle:e.folderTitle,parentFolderKey:e.parentFolderKey,parentFolderTitle:e.parentFolderTitle}}(s);return hv()(i2e,{metricsContext:i.context},void 0,hv()(eXe,{},void 0,hv()(W0e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source}),Tht(Pht,dv()({serverEntityID:a,providerEntityID:o,machineIdentifier:t,sourceDirectoryKey:i.source,directoryKey:i.key,title:i.title},l,{params:s,shouldSaveParams:mt.a.parseBoolean(i.save)}))))}}),xht=Mt("INIT_TIMELINE_PAGE"),Oht=Mt("CLOSE_TIMELINE_PAGE"),jht=Mt("FETCH_TIMELINE_DETAILS"),Aht=Mt("POPULATE_TIMELINE_DETAILS");function Nht(e){var t=e.items,n=e.gap,r=void 0===n?0:n,i=e.existingItems,a=void 0===i?[]:i,o=C.a.sortBy(a,"position"),s=C.a.sortBy(t,"position"),l=-1/0;return s.forEach(function(e){var t=C.a.sortedIndex(a,e,"position"),n=a[t-1],i=a[t],s=e.position>l+r,c=!n||e.position>n.position+r,u=!i||e.position<i.position-r;s&&c&&u&&(o.push(e),l=e.position)}),C.a.sortBy(o,"position")}var kht="minor",Lht="major",Rht=n(407),_ht=n.n(Rht);function Uht(e){var t=e.ticks,n=e.pixelProportion,r=e.majorTickGap,i=e.minorTickGap,a=C.a.where(t,{type:Lht}),o=C.a.where(t,{type:kht}),s=Nht({items:a,gap:n*r});return Nht({items:o,existingItems:s,gap:n*i})}var zht=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={ticks:Uht(t)},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.ticks,n=e.pixelProportion,r=e.majorTickGap,i=e.minorTickGap,a=this.props.ticks!==t,o=this.props.pixelProportion!==n,s=this.props.majorTickGap!==r,l=this.props.minorTickGap!==i;(a||o||s||l)&&this.setState({ticks:Uht(e)})},n.render=function(){return hv()("div",{className:_ht.a.container},void 0,hv()("div",{className:_ht.a.ticks},void 0,this.state.ticks.map(function(e){var t=e.type,n=e.position,r=e.label;return hv()("div",{className:_ht.a[t],style:{top:100*n+"%"}},n,r&&"major"===t?hv()("div",{className:_ht.a.label},void 0,r):null)})))},t}(Xf.a.Component);zht.defaultProps={majorTickGap:20,minorTickGap:5};var Fht=zht;function Bht(e,t){void 0===e&&(e={}),void 0===t&&(t=1);var n,r=e.Media,i=(r=void 0===r?[]:r)[0],a=void 0===i?{}:i,o=a.width,s=a.height,l=a.Part,c=(l=void 0===l?[]:l)[0];return o&&s?(n=(void 0===c?{}:c).orientation)>=5&&n<9?s/o:o/s:t}var Hht=n(339),Vht=n.n(Hht),Qht=parseInt(yQ.a.mosaicCellPadding,10),Wht=hv()(nA,{});var Ght=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.containerKey,a=e.listType,o=e.metadataKey,s=e.type,l=e.title,c=e.thumb,u=e.cellWidth,d=e.cellHeight,p=e.showOffscreenPlaceholder,h=e.selectionType,f=e.activeSelectionType,g=e.isSelected,v=e.onSelectItem,m=e.onDeselectItem,y=CF(e),b="clip"===s,S="photoalbum"===s,I=!o,C=u-2*Qht,M=d-2*Qht;return hv()("div",{className:Vht.a.photoContainer,style:y.style},void 0,hv()("div",{className:Vht.a.photo},void 0,hv()("div",{className:Vht.a.image},void 0,I?hv()(NBe,{imageWidth:C,imageHeight:M,isSelected:g}):null,I?null:hv()(oLe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,containerKey:i,listType:a,metadataKey:o,type:s,imageUrl:c,imageWidth:C,imageHeight:M,selectionType:h,activeSelectionType:f,isSelected:g,isOffscreen:p,onSelectItem:v,onDeselectItem:m}),b?hv()("div",{className:Vht.a.badge},void 0,Wht):null,S?hv()("div",{className:Vht.a.title},void 0,l):null)))};var Yht=Lm(function(){return Object(Iy.createSelector)(Dy(),Qse(),EBe(),TBe(),_fe,function(e,t,n,r,i){void 0===t&&(t={});var a=t;return{machineIdentifier:e.machineIdentifier,metadataKey:a.key,type:a.type,title:a.title,thumb:a.thumb,selectionType:n,activeSelectionType:i.activeSelectionType,isSelected:r}})},function(e,t){return{onSelectItem:function(n){e(xfe(Object.assign({metadataListEntityID:t.metadataListEntityID},n)))},onDeselectItem:function(n){e(Ofe(Object.assign({metadataListEntityID:t.metadataListEntityID},n)))}}})(Ght);function Kht(e){var t,n,r,i,a,o=e.columns,s=void 0===o?1:o,l=e.rows,c=void 0===l?[]:l,u=e.overscan,d=void 0===u?0:u,p=e.outerPadding,h=void 0===p?0:p,f=e.innerPadding,g=void 0===f?0:f,v=e.maximumHeight,m=void 0===v?0:v,y=e.offset,b=[],S=0,I=void 0===y?0:y;function D(e){return e<0?b[0]:C.a.find(b,function(t){var n=t.bottom;return e<h+(n+1)*a})||C.a.last(b)}return c.forEach(function(e){var t=S,n=(S+=e.height)-1,r=I,i=(I+=e.widths.length)-1,a=[],o=0;e.widths.forEach(function(e,t){var n=o;o+=e,a.push({width:e,left:n,cellIndex:r+t})}),b.push(Object.assign({},e,{top:t,bottom:n,first:r,last:i,cellLayouts:a}))}),{getListStyle:function(e){var o=e.viewportWidth+":"+e.viewportHeight;if(o===t)return n;r=e.viewportHeight;var l=e.viewportWidth-2*h,u=c.reduce(function(e,t){return e+t.height},0);return i=l/s,t=o,n={height:(a=m?(m-h)/u:i)*u,width:l}},getPositionForIndex:function(e){Object(M.a)(void 0!==r,"`getListStyle` must be called before `getPositionForIndex`");var t=C.a.find(b,function(t){var n=t.last;return e<=n}),n=C.a.find(t.cellLayouts,function(t){return t.cellIndex===e});return{cellX:Math.round(n.left*i)+g+h,cellY:Math.round(t.top*a)+g+h,cellWidth:Math.round(n.width*i)-2*g,cellHeight:Math.round(t.height*a)-2*g}},getRangesForPosition:function(e){void 0===e&&(e=0),Object(M.a)(void 0!==r,"`getListStyle` must be called before `getRangesForPosition`");var t=e+r-1,n=t+d*r,i=D(e-d*r).first,a=D(n).last,o=D(e).first,s=D(t).last;return{renderStartIndex:i,renderEndIndex:a,visibleStartIndex:o,visibleEndIndex:s,partiallyVisibleStartIndex:o,partiallyVisibleEndIndex:s}},getRelativeIndex:function(){Object(M.a)(!1,"Mosaic layouts do not support relative indexing")}}}function qht(e){return 0===e.cells.length?1/0:e.cells.reduce(function(e,t){return e+function(e){return Math.abs(e.actual-e.desired)/e.actual}(t)},0)/e.cells.length+Math.abs(e.scale-1)}function Zht(e,t){var n=e.cells,r=t/n.reduce(function(e,t){return e+t.desired},0);return{scale:r,cells:n.map(function(e){var t=e.desired;return{desired:t,actual:t*r}})}}function Xht(e){var t=e.aspectRatios,n=e.columns,r=void 0===n?4:n,i=e.minAspectRatio,a=void 0===i?.4:i,o=e.maxAspectRatio,s=void 0===o?5:o,l=t.map(function(e){return Math.max(a,Math.min(s,e))}),c=[],u={scale:null,cells:[]};l.forEach(function(e){var t={desired:e},n={scale:0,cells:u.cells.slice(0)};n.cells.push(t),qht(n=Zht(n,r))<=qht(u)?u=n:(c.push(u),u=Zht({scale:0,cells:[t]},r))});var d=1/Math.max(1,u.scale);return u.scale=Math.min(1,u.scale),u.cells=u.cells.map(function(e){return{desired:e.desired,actual:e.actual*d}}),c.push(u),c.map(function(e){return{height:e.scale,widths:e.cells.map(function(e){return e.actual})}})}var Jht=function(e){var t=CF(e);return hv()("div",{style:t.style},void 0,e.children)},$ht=n(340),eft=n.n($ht),tft=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSelectPress=function(){var e=r.props,t=e.isSelected,n=e.items,i=e.onSelectItems,a=e.onDeselectItems;t?a(n):i(n)},r.state={layout:r._createLayout(t),cellRenderer:r._createCellRenderer(t)},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.aspectRatios!==this.props.aspectRatios,n=e.columns!==this.props.columns,r=e.viewportWidth!==this.props.viewportWidth,i=e.viewportHeight!==this.props.viewportHeight,a=e.serverEntityID!==this.props.serverEntityID,o=e.providerEntityID!==this.props.providerEntityID,s=e.metadataListEntityID!==this.props.metadataListEntityID,l=t||n||i||r,c=a||o||s;if(l||c){var u={};l&&(u.layout=this._createLayout(e)),c&&(u.cellRenderer=this._createCellRenderer(e)),this.setState(u)}},n._createLayout=function(e){var t=Xht({aspectRatios:e.aspectRatios,columns:e.columns});return Kht({columns:e.columns,rows:t,maximumHeight:e.cellHeight-(e.footerHeight+e.headerHeight)})},n._createCellRenderer=function(e){return fPe({serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,metadataListEntityID:e.metadataListEntityID,containerKey:e.containerKey,listType:e.listType},Yht)},n.render=function(){var e=this.props,t=e.cellIndex,n=e.cellX,r=e.cellY,i=e.cellWidth,a=e.cellHeight,o=e.isVirtual,s=e.title,l=e.items,c=e.size,u=e.viewportHeight,d=e.scrollTop,p=e.isSelected,h=e.hasSelection,f=this.state,g=f.layout,v=f.cellRenderer;return hv()(Jht,{cellIndex:t,cellX:n,cellY:r,cellWidth:i,cellHeight:a,isVirtual:o},void 0,hv()("div",{className:(h&&eft.a.hasSelection||"")+" "+(eft.a.header||"")},void 0,hv()("div",{className:eft.a.actions},void 0,hv()(eQ,{className:eft.a.selectButton,title:s,isSelected:p,onPress:this.onSelectPress})),hv()("div",{className:eft.a.title},void 0,s)),hv()(eF,{items:l,keyPropName:"metadataItemEntityID",size:c,cellRenderer:v,viewportWidth:i,viewportHeight:u,scrollTop:d-r,layout:g}))},t}(Xf.a.Component);tft.defaultProps={headerHeight:0,footerHeight:0};var nft=tft;function rft(){return Object(Iy.createSelector)(function(e,t){return t.start},function(e,t){return t.end},Whe(),function(e,t,n){var r=n.populatedRange,i=n.metadataItems;return e<r.start||t>r.end?C.a.times(t-e,function(){return null}):i.slice(e-r.start,t-r.start)})}function ift(){return Object(Iy.createSelector)(rft(),$N,function(e,t){return e.map(function(e){return t[e]})})}var aft=Lm(function(){return Object(Iy.createSelector)(Whe(),rft(),Object(Iy.createSelector)(function(e,t){return t.avgAR},ift(),function(e,t){return t.map(function(t){return t?Bht(t,e):e})}),Object(Iy.createSelector)(ift(),DBe,function(e,t){return e.every(function(e){return e&&PBe(t,e.ratingKey)})}),_fe,function(e,t,n,r,i){return{containerKey:e.containerKey,listType:"photo",aspectRatios:n,items:t,isSelected:r,hasSelection:i.activeSelectionItems.length>0}})},function(e,t){return{onSelectItems:function(t){e(jfe({type:nr.h,ids:t}))},onDeselectItems:function(t){e(Afe({ids:t}))}}})(nft);function oft(e){var t=e.columns,n=void 0===t?1:t,r=e.areas,i=void 0===r?[]:r,a=e.innerPaddingTop,o=void 0===a?0:a,s=e.innerPaddingBottom,l=void 0===s?0:s,c=wt()(e,["columns","areas","innerPaddingTop","innerPaddingBottom"]);return Q8e(Object.assign({getCellHeights:function(e){return i.map(function(t){return function(e,t){return Math.max(1,Math.round(e/n))*t+(o+l)}(t,e/n)})}},c))}var sft=Xf.a.createElement,lft=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={layout:r._createLayout(t)},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=e.items!==this.props.items,n=e.columns!==this.props.columns;(t||n)&&this.setState({layout:this._createLayout(e)})},n._createLayout=function(e){return oft({columns:e.columns,areas:e.items.map(function(e){return e.area}),innerPaddingTop:e.headerHeight,innerPaddingBottom:e.footerHeight,outerPaddingTop:e.listPadding,outerPaddingRight:e.listPadding-e.listGutter,outerPaddingBottom:e.listPadding,outerPaddingLeft:e.listPadding})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.columns,a=e.headerHeight,o=e.footerHeight,s=e.cellComponent;return sft(cF,dv()({layout:this.state.layout,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,columns:i,headerHeight:a,footerHeight:o},s)},this.props))},t}(Xf.a.Component),cft=Xf.a.createElement,uft=Xf.a.Component;var dft={dispatchPopulateMetadataListRange:wfe,dispatchDeselectAllMetadataListItems:Nfe,dispatchResetMetadataList:kfe},pft=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPageRequest=function(e){var n=e.startIndex,r=e.endIndex,i=t.props,a=i.metadataListEntityID,o=i.disableReloadThreshold,s=i.items;(0,i.dispatchPopulateMetadataListRange)({metadataListEntityID:a,disableReloadThreshold:o,startIndex:s[n].start,endIndex:s[r].end-1,pages:1})},t}Sy()(t,e);var n=t.prototype;return n.componentWillUnmount=function(){var e=this.props.metadataListEntityID;this.props.dispatchDeselectAllMetadataListItems({metadataListEntityID:e}),this.props.dispatchResetMetadataList({metadataListEntityID:e})},n.render=function(){var e=this.props,t=(e.dispatchPopulateMetadataListRange,e.dispatchDeselectAllMetadataListItems,e.dispatchResetMetadataList,wt()(e,["dispatchPopulateMetadataListRange","dispatchDeselectAllMetadataListItems","dispatchResetMetadataList"]));return cft(lft,dv()({onPageRequest:this.onPageRequest},t))},t}(uft),hft=Lm(function(){return Object(Iy.createSelector)(_fe,function(e){return{disableReloadThreshold:!!e.activeSelectionType}})},dft)(pft);var fft=n(408),gft=n.n(fft),vft=Xf.a.Component,mft=Math.max(0,parseInt(yQ.a.timelineGutter,10)-40),yft=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListUpdate=function(e){var t=e.landmarks,n=e.listStyle&&e.listStyle.height;if(t!==r._landmarks){r._landmarks=t;var i=function(e,t){var n={},r={};return e.reduce(function(e,i){var a=i.index,o=i.position,s=Object(ove.default)(1e3*t[a],"yyyy MM"),l=s.slice(0,4);return n[l]?r[s]||(r[s]=!0,e.push({position:o,type:kht})):(n[l]=!0,r[s]=!0,e.push({position:o,type:Lht,label:l})),e},[])}(t,C.a.pluck(r.props.moments,"startsAt"));r.setState({ticks:i,listHeight:n})}},r.state={ticks:null,listHeight:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.moments,a=e.columns,o=e.height,s=e.onMomentScrollIndexChange,l=this.state,c=l.ticks,u=l.listHeight,d=1/o,p=u&&u>o;return i.length?hv()("div",{className:gft.a.container},void 0,hv()(hft,{className:gft.a.stack,scrollerClassName:gft.a.scroller,serverEntityID:t,providerEntityID:n,metadataListEntityID:r,scrollPositionStorageKey:"TimelinePageContent",keyPropName:"id",items:i,size:i.length,columns:a,footerHeight:59,listPadding:55,listGutter:mft,hasNestedList:!0,cellComponent:aft,onListScrollIndexChange:s,onListUpdate:this.onListUpdate}),hv()("div",{className:gft.a.adornment},void 0,c&&p?hv()(Fht,{pixelProportion:d,ticks:c}):null)):hv()(W1e,{},void 0,hv()(O4e,{iconComponent:dL.photo,title:Object(Xn.default)("There are no events in this library")}))},t}(vft),bft=Xf.a.Fragment;var Sft=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.sourceDirectory,a=e.title,o=e.totalSize,s=e.listType,l=e.listStyle,c=e.allListStyles;return hv()(bft,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i}),hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:i,directoryKey:pr.TIMELINE}),hv()(Let,{},void 0,hv()(O5e,{selectedListStyle:l,allListStyles:c}))),hv()(V4e,{},void 0,hv()($7e,{},void 0,hv()(G1,{title:a}),hv()(q7e,{},void 0,o)),hv()(B1,{},void 0,hv()(edt,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,listType:s,isLibraryList:!0}))))};var Ift=Lm(function(){return Object(Iy.createSelector)(Whe(),function(e){return{totalSize:e.totalSize,listType:nr.h,listStyle:fh,allListStyles:[fh]}})})(Sft),Cft=n(1085),Mft=n.n(Cft),Dft=Xf.a.createElement,wft=Xf.a.Component,Pft=hv()(O4e,{},void 0,hv()(ZE.a,{})),Tft=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMeasure=function(e){var t=e.width,n=e.height;r.setState({isMeasured:!0,width:t,height:n})},r.onMomentScrollIndexChange=function(e){r.setState({currentMomentTitle:r.props.moments[e].title})},r.state={isMeasured:!1,currentMomentTitle:"",width:0,height:0},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props,t=e.librarySectionID,n=e.providerIdentifier,r=e.onLibraryChange;t&&r(n,t)},n.componentDidUpdate=function(e){var t=this.props,n=t.librarySectionID,r=t.providerIdentifier,i=t.onLibraryChange;n&&n!==e.librarySectionID&&i(r,n)},n.componentWillUnmount=function(){this.props.onLibraryChange(null,null),this.props.onCloseTimelinePage()},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.providerMetricsIdentifier,i=e.metadataListEntityID,s=e.sourceDirectory,l=e.isMomentListPending,c=e.isMomentListPopulated,u=e.momentListError,d=e.moments,p=e.libraryRoute,h=e.activeSelectionType,f=e.columnAdjustment,g=this.state,v=g.isMeasured,m=g.width,y=g.height,b=g.currentMomentTitle,S=200-100*f,I=12+f,C=Math.min(Math.ceil(m/S),I);if(c)return hv()(D1,{metricsPage:"library",metricsProperties:{identifier:r,mode:"timeline",type:"photo",style:fh},allowBackgroundLightPreset:!0,scrollDirection:o.NONE},void 0,h?hv()(e5e,{serverEntityID:t,providerEntityID:n}):hv()(Ift,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,sourceDirectory:s,title:b}),hv()(XA,{className:Mft.a.measured,ignorePosition:!0,onMeasure:this.onMeasure},void 0,v?hv()(yft,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,moments:d,columns:C,height:y,onMomentScrollIndexChange:this.onMomentScrollIndexChange}):null));var M={serverEntityID:t,providerEntityID:n,sourceDirectory:s,directoryKey:pr.TIMELINE,scrollDirection:o.NONE};return l?Dft(yct,dv()({},M,{showSecondHeader:!0}),Pft):Dft(yct,M,u?hv()(Drt,{title:Object(Xn.default)("There was an unexpected error loading this library")}):hv()(Srt,{title:Object(Xn.default)("There was an error loading the timeline for this library"),description:Object(Xn.default)("The photos timeline requires Plex Media Server {version} or higher",{version:Cc.itemClusters})},void 0,hv()(RS,{to:p,kind:a.PRIMARY},void 0,Object(Xn.default)("Browse by Type"))))},t}(wft),Eft=Object(Iy.createSelector)(function(e){return e.ui.timelinePage.momentList},function(e){if(!e)return[];var t=0;return e.moments.map(function(e){var n=t;t+=e.size;var r=e.id,i=e.title,a=e.size,o=e.avgAR,s=e.startsAt,l=e.size*(e.avgAR||1);return{start:n,end:t,area:l,id:r,title:i,size:a,avgAR:o,startsAt:s}})});var xft=z8e(Tft,function(e){var t=e.ui.timelinePage;return{serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,momentKey:t.momentKey}},function(e,t){e(xht({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,libraryKey:t.libraryKey,momentKey:t.momentKey})),e(Aht())}),Oft=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.libraryKey},function(e){return e.ui.timelinePage},Eft,XS,Hk(),GFe(),_fe,Py,function(e,t,n,r,i,a,o,s){var l=t.details,c=t.containerKey,u=t.isMomentListPending,d=t.isMomentListPopulated,p=t.momentListError,h=nj(r,i,a);return{metadataListEntityID:t.metadataList,providerIdentifier:i.identifier,providerMetricsIdentifier:i.metricsIdentifier,librarySectionID:l&&l.librarySectionID,sourceDirectory:a,libraryRoute:h,moments:n,isMomentListPending:u,isMomentListPopulated:d,momentListError:p,containerKey:c,momentKey:F.join(e,"cluster?clusterZoomLevel=1"),activeSelectionType:o.activeSelectionType,disableReloadThreshold:!!o.activeSelectionType,columnAdjustment:s.columnAdjustment}})},function(e,t){return{onLibraryChange:function(n,r){e(pse({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,sectionID:r}))},onCloseTimelinePage:function(){e(Oht({}))}}})(xft),jft=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t),o=Object(Tr.a)(Er.l,n,a);return hv()(eXe,{},void 0,hv()(W0e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source}),hv()(R8e,{serverEntityID:a},void 0,hv()(f8e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,directoryKey:pr.TIMELINE},void 0,hv()(Oft,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,libraryKey:i.key}))))}}),Aft=864e5;function Nft(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(nl.a)(t,n),a=r.getTime()-i.getTime();return a<0?-1:a>0?1:a}function kft(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=Object(nl.a)(e,n),i=Object(nl.a)(t,n),a=Nft(r,i,n),o=Math.abs(function(e,t,n){if(arguments.length<2)throw new TypeError("2 arguments required, but only "+arguments.length+" present");var r=iE(e,n),i=iE(t,n),a=r.getTime()-Object(Wy.a)(r),o=i.getTime()-Object(Wy.a)(i);return Math.round((a-o)/Aft)}(r,i,n));r.setDate(r.getDate()-a*o);var s=a*(o-(Nft(r,i,n)===-a));return 0===s?0:s}var Lft=Ce.a.extend({name:"CalendarModel",context:["server"],url:"/media/subscriptions/scheduled",sessionAttrs:{visibleDays:Me.a.integer,time:Me.a.integer},syncedRelations:{scheduled:{relationClass:lAe.default,rootPropertyName:"MediaGrabOperation"}},derivedAttrs:{startTime:function(){var e=this.get("visibleDays"),t=iE(Object(rE.a)(this.get("time")));return e>1&&(t=Hb(t,1)),Fb(t)},endTime:function(){var e=this.get("visibleDays"),t=function(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");var n=Object(nl.a)(e,t);return n.setHours(23,59,59,999),n}(Object(rE.a)(this.get("time")));return e>1&&(t=Bb(t,e-2)),Fb(t)},daysOfWeek:function(){var e=Object(rE.a)(this.get("startTime")),t=kft(Object(rE.a)(this.get("endTime")),e);return C.a.times(Math.min(t+1,7),function(t){return Fb(Bb(e,t))})},days:function(){var e=Object(rE.a)(this.get("startTime")),t=kft(Object(rE.a)(this.get("endTime")),e);return C.a.times(t+1,function(t){return Fb(Bb(e,t))})},firstEvent:function(){return this.get("scheduled").first()},lastEvent:function(){return this.get("scheduled").last()},hasPastEvents:function(){var e=this.get("firstEvent");return!!e&&e.get("beginsAt")<this.get("startTime")},hasFutureEvents:function(){var e=this.get("lastEvent");return!!e&&e.get("beginsAt")>this.get("endTime")}},defaults:function(){return{visibleDays:7,time:Fb(Date.now())}},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}});var Rft,_ft=function(e,t){var n=t&&t.includeDirectories?["Directory"].concat(Bl.a):Bl.a;return function e(t,n,r){if(Array.isArray(t))return t.map(function(t){return e(t,n,r)});if(ds(t))for(var i in t){var a=t[i],o=void 0;n[i]?(o=r,delete t[i]):o=i,t[o]=e(a,n,r)}return t}(e,n=n.reduce(function(e,t){var n;return Object.assign({},e,((n={})[t]=t,n))},{}),"Metadata")},Uft=Ue.a.extend({name:"MediaSubscriptionCollection",context:["server"],instanceOptions:[].concat(Ue.a.prototype.instanceOptions,["includeDirectories","includeGrabs","includePreferences","includeStorage","includeTarget"]),model:dAe,url:function(){var e={};return this.includeGrabs&&(e.includeGrabs=1),this.includePreferences&&(e.includePreferences=1),this.includeStorage&&(e.includeStorage=1),this.includeTarget&&(e.includeTarget=1),F.join("/media/subscriptions",e)},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e,{includeDirectories:!!this.includeDirectories}):e},augmentResponse:function(e,t){return t===jt.a.json?_ft(e,{includeDirectories:!!this.includeDirectories}):e}}),zft="ui/recordingSchedulePage/initRecordingSchedulePage",Fft="ui/recordingSchedulePage/clearRecordingSchedulePage",Bft="ui/recordingSchedulePage/fetchMediaSubscriptions",Hft="ui/recordingSchedulePage/moveMediaSubscription",Vft="ui/recordingSchedulePage/setVisibleDays",Qft="ui/recordingSchedulePage/goToToday",Wft="ui/recordingSchedulePage/goToPreviousRange",Gft="ui/recordingSchedulePage/goToNextRange",Yft="ui/recordingSchedulePage/fetchCalendar",Kft="ui/recordingSchedulePage/playRecording",qft="ui/recordingSchedulePage/clearMoveError",Zft=Mt(zft),Xft=Mt(Fft),Jft=Mt(Bft),$ft=Mt(Hft),egt=Mt(Vft),tgt=Mt(Qft),ngt=Mt(Wft),rgt=Mt(Gft),igt=Mt(Yft),agt=Mt(Kft),ogt=Mt(qft);function sgt(e){return e.get("ui").get("recordingSchedulePage")}function lgt(e){return sgt(e).get("calendar")}function cgt(e,t,n){var r=sgt(e),i=bo(e,t);if(r.get("isPagePopulated")){var a=r.get("calendar"),o=r.get("mediaSubscriptions");a&&a.server===i&&n(igt()),o&&o.server===i&&n(Jft())}}var ugt=Qx(((Rft={})[zft]=function(e,t){var n=sgt(e),r=n.get("mediaSubscriptions"),i=n.get("calendar"),a=bo(e,t),o={isPagePopulated:!0,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null};r&&r.server===a||(o.mediaSubscriptions=new Uft([],{server:a})),i&&i.server===a?i.restoreDefaults():o.calendar=new Lft({},{server:a}),n.set(o)},Rft[Fft]=function(e){sgt(e).set("isPagePopulated",!1)},Rft[Bft]=Ki({key:"mediaSubscriptions",getModel:sgt}),Rft[Hft]=function(e,t){var n=sgt(e),r=n.get("mediaSubscriptions"),i=xo(e,t),a=i&&r.indexOf(i),o=t.moveIndex;if(Object(No.a)(function(){n.set({mediaSubscriptionMoveError:null})}),a!==o&&a!==o-1){var s=o>a?o-1:o;r.remove(i),r.add(i,{at:s});var l=s>0?r.at(s-1).id:void 0;hAe(i,l).fail(function(e){r.remove(i),r.add(i,{at:a});var t=401===e.status?Object(Xn.default)("You do not have permission to perform this action."):Object(Xn.default)("There was a problem saving your changes. Please try again.");n.set({mediaSubscriptionMoveError:t})})}},Rft[qft]=function(e,t){sgt(e).set({mediaSubscriptionMoveError:null})},Rft[Vft]=function(e,t,n){lgt(e).set("visibleDays",t.visibleDays)},Rft[Qft]=function(e,t,n){lgt(e).set("time",Fb(new Date))},Rft[Wft]=function(e,t,n){var r=lgt(e),i=r.get("visibleDays"),a=Object(rE.a)(r.get("time"));r.set("time",Fb(Hb(a,i)))},Rft[Gft]=function(e,t,n){var r=lgt(e),i=r.get("visibleDays"),a=Object(rE.a)(r.get("time"));r.set("time",Fb(Bb(a,i)))},Rft[Yft]=Ki({key:"calendar",getModel:sgt}),Rft[Kft]=function(e,t,n){var r=t.serverEntityID,i=t.providerEntityID,a=t.linkedKey,o=t.metricsContext,s=bo(e,t),l=new Qs.a({key:a},{server:s});l.populate().done(function(){n(Ire({serverEntityID:r,providerEntityID:i,metadataItemEntityID:l.entityID(),metricsPage:"subscriptions",metricsContext:o}))})},Rft[tc]=function(e,t,n){var r=t.activity;("provider.subscriptions.process"===r.type&&cgt(e,t,n),r.type===Tx)&&("error"===r.Response.status&&cgt(e,t,n))},Rft));function dgt(e){return!0}function pgt(e,t){return void 0===t&&(t=dgt),KS(function(e,t){return Object(Iy.createSelector)(ek,HG(),function(n,r){return r?r.reduce(function(r,i){var a=n[i];return a&&t(a)&&C.a.findWhere(a.features,{type:e})&&r.push(i),r},[]):[]})}(e,t),function(e){return e})}function hgt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-calendar-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m0 560v-480h120v-80h80v80h160v-80h80v80h120v480h-560m300-60h80v-80h-80v80m-120 0h80v-80h-80v80m-40-80h-80v80h80v-80m360-40v-80h-80v80h80m-360-80h-80v80h80v-80m120 80v-80h-80v80h80m120 0v-80h-80v80h80m120-120v-80h-80v80h80m-360-80h-80v80h80v-80m240 0h-80v80h80v-80m-120 0h-80v80h80v-80m240 240h-80v80h80v-80"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}hgt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var fgt=hgt;var ggt=function(e){var t=e.subscriptionCount;return hv()(jUe,{iconComponent:fgt,title:Object(Xn.default)("You have no recordings scheduled"),description:1===t?Object(Xn.default)("There are no upcoming airings of the item in your list"):Object(Xn.default)("There are no upcoming airings of the {subscriptionCount} items in your list",{subscriptionCount:t})})};function vgt(){return Object(Iy.createSelector)(function(e,t){return t.providerID},HG(),ek,function(e,t,n){if(e)return t.find(function(t){var r=n[t];return r&&r.identifier===e})})}var mgt=Xf.a.createElement,ygt=Xf.a.Component;var bgt={dispatchPlayRecording:agt},Sgt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPlayPress=function(e){var n=t.props,r=n.serverEntityID,i=n.providerEntityID,a=n.linkedKey,o=n.metricsContext;(0,n.dispatchPlayRecording)({serverEntityID:r,providerEntityID:i,linkedKey:a,metricsContext:o})},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.component,n=(e.mediaSubscriptionID,e.status,e.linkedKey,e.metricsContext,wt()(e,["component","mediaSubscriptionID","status","linkedKey","metricsContext"]));return mgt(t,dv()({},n,{onPlayPress:this.onPlayPress}))},t}(ygt),Igt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.mediaSubscriptionID},function(e,t){return t.status},TTe,Object(Iy.createSelector)(function(e,t){return t.linkedKey},function(e,t){return t.metricsContext},XS,function(e,t,n){var r={};return t&&(r.context=t),Og(n,{isLibraryProvider:!0},e,r)}),Qse(),_Ne(),vgt(),function(e,t,n,r,i,a,o){var s=t===Bye.b.COMPLETE,l=t===Bye.b.ERROR,c=C.a.pick(i,"type","title","grandparentTitle","index","parentIndex","originallyAvailableAt"),u=Object.assign({providerEntityID:o,prePlayRoute:r,isComplete:s,hasError:l,hasSubscription:!!e,showPlay:s&&!!r,timeFormat:n},c);return a?(u.isRecording=!0,u.isPostProcessing=a.Context.status===Bye.b.POST_PROCESSING,u.recordingProgress=a.progress):(u.isRecording=!1,u.isPostProcessing=!1),u})},bgt)(Sgt);var Cgt=function(e){var t,n=e.children,r=e.mediaItem,i=r&&r.videoResolution,a=!1;if(i){var o=parseInt(i,10);a=!0,t=o>=720||4===o||8===o}return n||a?hv()(xHe,{},void 0,n,a?hv()(NHe,{label:Object(Xn.default)("Video")},void 0,t?Object(Xn.default)("HD"):Object(Xn.default)("SD")):null):null};var Mgt=function(e){var t=e.children,n=e.beginsAt,r=e.endsAt,i=e.channel,a=e.timeFormat;if(!n||!r)return null;var o,s=Date.now()/1e3;return o=r<s?Object(Xn.default)("Aired"):n<=s&&r>=s?Object(Xn.default)("Airing"):Object(Xn.default)("Airs"),hv()(NHe,{label:o},void 0,hv()(lEe,{beginsAt:n,endsAt:r,channel:i,showFullTime:!0,showChannel:!0,timeFormat:a}),t)},Dgt=n(273),wgt=n.n(Dgt);var Pgt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.summary,i=e.error,o=e.mediaItem,s=e.isComplete,l=e.hasError,c=e.isRecording,u=e.recordingProgress,d=e.timeFormat,p=e.onRecordingModify,h=e.onModalClose,f=wt()(e,["serverEntityID","providerEntityID","summary","error","mediaItem","isComplete","hasError","isRecording","recordingProgress","timeFormat","onRecordingModify","onModalClose"]),g=o.beginsAt,v=o.endsAt,m=o.startOffsetSeconds,y=o.endOffsetSeconds,b=o.channelTitle,S=!(!m&&!y),I=m&&Math.round(m/60),C=y&&Math.round(y/60);return hv()(qN,{onModalClose:h},void 0,hv()(PN,{},void 0,Object(Xn.default)("Airing Details")),hv()(CN,{},void 0,hv()(nNe,{serverEntityID:t,providerEntityID:n,hint:f},void 0,hv()(Cgt,{mediaItem:o},void 0,hv()(Mgt,{beginsAt:g,endsAt:v,channel:b,showFullTime:!0,showChannel:!0,timeFormat:d},void 0,hv()("div",{},void 0,s?hv()("span",{},void 0,hv()(SI,{className:wgt.a.completeIcon}),Object(Xn.default)("Recorded successfully")):null,c?hv()("span",{},void 0,hv()(WAe,{className:wgt.a.recordingIcon}),Object(Xn.default)("Recording"),hv()(cE,{className:wgt.a.separator}),Object(Xn.default)("{recordingProgress}% complete",{recordingProgress:u})):null,l?hv()("span",{},void 0,hv()(FR,{className:wgt.a.errorIcon}),i):null,s||c||l||!S?null:hv()("span",{},void 0,I?hv()("span",{},void 0,Object(Xn.default)("Recording starts {minuteOffset} min early",{minuteOffset:I}),C?hv()("span",{},void 0,hv()(cE,{className:wgt.a.separator}),Object(Xn.default)("Ends {minuteOffset} min late",{minuteOffset:C})):null):hv()("span",{},void 0,Object(Xn.default)("Recording ends {minuteOffset} min late",{minuteOffset:C})))))),hv()("div",{className:wgt.a.summary},void 0,r))),hv()(Q_,{},void 0,hv()(q_,{},void 0,hv()(I_,{kind:a.DEFAULT,size:qp.MEDIUM,onPress:p},void 0,Object(Xn.default)("Modify Recording")),hv()(I_,{kind:a.PRIMARY,size:qp.MEDIUM,onPress:h},void 0,Object(Xn.default)("Close")))))},Tgt=Xf.a.createElement;var Egt=Lm(function(){return Object(Iy.createSelector)(TTe,Qse(),function(e,t){var n=C.a.pick(t,"type","title","parentTitle","grandparentTitle","thumb","parentThumb","grandparentThumb","index","parentIndex","originallyAvailableAt","summary");return n.timeFormat=e,n})})(function(e){return Tgt(Pgt,e)}),xgt=Xf.a.createElement;var Ogt=function(e){var t=e.isOpen,n=e.metricsProperties,r=e.metadataItemEntityID,i=e.onRecordingModify,a=e.onModalClose,o=wt()(e,["isOpen","metricsProperties","metadataItemEntityID","onRecordingModify","onModalClose"]);return hv()(VN,{isOpen:t,metricsPage:Ga,metricsProperties:n,onModalClose:a},void 0,xgt(Egt,dv()({metadataItemEntityID:r,onRecordingModify:i,onModalClose:a},o)))},jgt=n(661),Agt=n.n(jgt);var Ngt=function(e){var t=e.error,n=e.onPress;return hv()(gN,{className:Agt.a.errorButton,component:RS,tooltip:t,tooltipClassName:Agt.a.errorTooltip,tooltipAttachment:s.BOTTOM_CENTER,onPress:n},void 0,hv()(FR,{"aria-label":t}))},kgt=n(104),Lgt=n.n(kgt),Rgt=Xf.a.Component,_gt={context:"agenda"};var Ugt=hv()(L9e,{}),zgt=hv()(xV.a,{}),Fgt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onLinkPress=function(e){r.setState({isAiringDetailsModalOpen:!0})},r.onConflictIconPress=function(e){r.setState({isConflictsModalOpen:!0})},r.onRecordingModify=function(){r.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},r.onAiringDetailsModalClose=function(){r.setState({isAiringDetailsModalOpen:!1})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},r.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e,t=this.props,n=t.serverEntityID,r=t.providerEntityID,i=t.mediaSubscriptionEntityID,a=t.metadataItemEntityID,o=t.prePlayRoute,s=t.type,l=t.title,c=t.grandparentTitle,u=t.index,d=t.parentIndex,p=t.originallyAvailableAt,h=t.error,f=t.mediaItem,g=t.isRecording,v=t.isPostProcessing,m=t.recordingProgress,y=t.isComplete,b=t.hasError,S=t.hasSubscription,I=t.hasConflicts,C=t.showPlay,M=t.showDate,D=t.timeFormat,w=t.onPlayPress,P=this.state,T=P.isAiringDetailsModalOpen,E=P.isSubscribeModalOpen,x=P.isConflictsModalOpen,O=f.beginsAt,j=f.endsAt,A=f.startOffsetSeconds,N=void 0===A?0:A,k=f.endOffsetSeconds,L=void 0===k?0:k,R=f.premiere,_=Object(rE.a)(O),U=xTe(O-N,j+L,{timeFormat:D}),z=dE(O);e=JTe(O)?Object(Xn.default)("Yesterday"):z?Object(Xn.default)("Today"):Object(Xn.default)("{dayOfWeek}, {monthNumber} {dayNumber}",{dayOfWeek:WTe(O,{abbreviate:!0}),monthNumber:GTe(O,{abbreviate:!0}),dayNumber:rl(_)});var F=c||l,B=function(e,t,n,r,i,a){return"episode"!==e?n:t+" - "+ol({seasonIndex:r,episodeIndex:i,date:a})+" - "+n}(s,c,l,d,u,p);return hv()("div",{className:(Lgt.a.event||"")+" "+(y&&Lgt.a.isComplete||"")+" "+(b&&Lgt.a.hasError||"")},void 0,hv()(RS,{className:Lgt.a.underlay,to:o,onPress:o?void 0:this.onLinkPress}),hv()("div",{className:Lgt.a.overlay},void 0,hv()("div",{className:(Lgt.a.date||"")+" "+(z&&Lgt.a.isToday||"")},void 0,M?e:null),hv()("div",{className:Lgt.a.time},void 0,U),hv()("div",{className:Lgt.a.title,title:B},void 0,R?Ugt:null,F,hv()("div",{className:Lgt.a.titleDetails},void 0,"movie"===s?hv()(bve,{metadataItemEntityID:a}):null,"episode"===s?hv()(FEe,{metadataItemEntityID:a}):null)),hv()("div",{className:Lgt.a.status},void 0,!g||v||b?null:hv()("div",{className:Lgt.a.recording},void 0,hv()(UQ,{size:24,backgroundClassName:Lgt.a.recordingProgressBackground,lineWidth:2,progress:m,showProgressText:!1}),hv()("span",{className:Lgt.a.recordingIcon})),g&&v&&!b?zgt:null,C?hv()(Pve,{title:l,onPress:w}):null,b?hv()(Ngt,{error:h,onPress:I?this.onConflictIconPress:this.onLinkPress}):null)),S?hv()(Ogt,{isOpen:T,metricsProperties:_gt,serverEntityID:n,providerEntityID:r,metadataItemEntityID:a,error:h,mediaItem:f,hasSubscription:S,isComplete:y,hasError:b,isRecording:g,recordingProgress:m,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,S?hv()(RNe,{isOpen:E||x,metricsProperties:_gt,serverEntityID:n,providerEntityID:r,mediaSubscriptionEntityID:i,metadataItemEntityID:a,subscriptionType:s,showConflicts:x,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)},t}(Rgt);var Bgt=function(e){var t=e.serverEntityID,n=e.events;return hv()("div",{},void 0,n.map(function(e,r){var i=Object(rE.a)(e.beginsAt),a=0===r||!uE(Object(rE.a)(n[r-1].beginsAt),i),o=Object(Tr.a)(Er.f,e.mediaSubscriptionID,t);return hv()(Igt,{component:Fgt,serverEntityID:t,providerID:e.identifier||e.provider,metadataItemEntityID:e.metadataItem,mediaSubscriptionEntityID:o,mediaSubscriptionID:e.mediaSubscriptionID,eventID:e.metadataItem.key,status:e.status,error:e.error,linkedKey:e.linkedKey,mediaItem:e.mediaItem,hasConflicts:!(!e.conflicts||!e.conflicts.length),showDate:a},r)}))};var Hgt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage.calendar},function(e){return{events:e.scheduled}})})(Bgt);function Vgt(e,t){if(arguments.length<1)throw new TypeError("1 argument required, but only "+arguments.length+" present");return Object(nl.a)(e,t).getFullYear()}var Qgt=n(1086),Wgt=n.n(Qgt);function Ggt(e){var t=Object(rE.a)(e);return Object(Xn.default)("{month} {dayNumber}, {year}",{month:GTe(e),dayNumber:rl(t),year:Vgt(t)})}var Ygt=function(e){var t,n,r=e.startTime,i=e.endTime,a=uE(Object(rE.a)(r),Object(rE.a)(i))?Ggt(r):(t=r,n=Object(rE.a)(t),Object(Xn.default)("{month} {dayNumber}",{month:GTe(t),dayNumber:rl(n)})+"  "+Ggt(i));return hv()("span",{className:Wgt.a.title},void 0,a)},Kgt=n(1087),qgt=n.n(Kgt),Zgt=Xf.a.createElement;var Xgt=function(e){return hv()("div",{className:qgt.a.agendaHeader},void 0,Zgt(Ygt,e))};var Jgt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e){var t=e.calendar,n=t.firstEvent,r=t.lastEvent;return{startTime:n?n.beginsAt:void 0,endTime:r?r.beginsAt:void 0}})})(Xgt),$gt=hv()(Jgt,{});var evt=function(e){var t=e.serverEntityID,n=e.showError,r=e.isEmpty,i=e.subscriptionCount;return n?hv()(n9e,{title:Object(Xn.default)("There was an error loading the agenda")}):r?hv()(ggt,{subscriptionCount:i}):hv()("div",{},void 0,$gt,hv()(Hgt,{serverEntityID:t}))};var tvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e){var t=e.mediaSubscriptions,n=e.calendar,r=e.isCalendarPopulated,i=e.calendarError;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length}})})(evt),nvt=n(111),rvt=n.n(nvt),ivt=Xf.a.Component,avt={context:"calendar"},ovt=hv()(L9e,{}),svt=hv()(xV.a,{}),lvt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onLinkPress=function(e){r.setState({isAiringDetailsModalOpen:!0})},r.onConflictIconPress=function(e){r.setState({isConflictsModalOpen:!0})},r.onRecordingModify=function(){r.setState({isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!0})},r.onAiringDetailsModalClose=function(){r.setState({isAiringDetailsModalOpen:!1})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1,isConflictsModalOpen:!1})},r.state={isAiringDetailsModalOpen:!1,isSubscribeModalOpen:!1,isConflictsModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.mediaSubscriptionEntityID,i=e.metadataItemEntityID,a=e.prePlayRoute,o=e.type,s=e.grandparentTitle,l=e.title,c=e.error,u=e.mediaItem,d=e.isRecording,p=e.isPostProcessing,h=e.recordingProgress,f=e.isComplete,g=e.hasError,v=e.hasSubscription,m=e.hasConflicts,y=e.showPlay,b=e.timeFormat,S=e.onPlayPress,I=this.state,C=I.isAiringDetailsModalOpen,M=I.isSubscribeModalOpen,D=I.isConflictsModalOpen,w=u.beginsAt,P=u.endsAt,T=u.startOffsetSeconds,E=void 0===T?0:T,x=u.endOffsetSeconds,O=void 0===x?0:x,j=u.premiere,A=xTe(w-E,P+O,{includeMinuteZero:!1,timeFormat:b}),N=s||l;return hv()("div",{className:(rvt.a.event||"")+" "+(f&&rvt.a.isComplete||"")+" "+(g&&rvt.a.hasError||"")},void 0,hv()(RS,{className:rvt.a.underlay,to:a,onPress:a?void 0:this.onLinkPress}),hv()("div",{className:rvt.a.overlay},void 0,hv()("div",{className:rvt.a.title,title:N},void 0,N),hv()("div",{className:rvt.a.secondary},void 0,hv()("div",{className:rvt.a.secondaryInfo},void 0,hv()("div",{className:rvt.a.time},void 0,A),j?ovt:null),hv()("div",{className:rvt.a.status},void 0,!d||p||g?null:hv()("div",{className:rvt.a.recording},void 0,hv()(UQ,{size:24,backgroundClassName:rvt.a.recordingProgressBackground,lineWidth:2,progress:h,showProgressText:!1}),hv()("span",{className:rvt.a.recordingIcon})),d&&p&&!g?svt:null,y?hv()(Pve,{title:l,onPress:S}):null,g?hv()(Ngt,{error:c,onPress:m?this.onConflictIconPress:this.onLinkPress}):null))),v?hv()(Ogt,{isOpen:C,metricsProperties:avt,serverEntityID:t,providerEntityID:n,metadataItemEntityID:i,error:c,mediaItem:u,isComplete:f,hasError:g,isRecording:d,recordingProgress:h,onRecordingModify:this.onRecordingModify,onModalClose:this.onAiringDetailsModalClose}):null,v?hv()(RNe,{isOpen:M||D,metricsProperties:avt,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r,metadataItemEntityID:i,subscriptionType:o,showConflicts:D,isRecordingSchedule:!0,onModalClose:this.onSubscribeModalClose}):null)},t}(ivt);var cvt=function(e){var t=e.serverEntityID,n=e.events;return hv()("div",{},void 0,n.map(function(e,n){var r=Object(Tr.a)(Er.f,e.mediaSubscriptionID,t);return hv()(Igt,{component:lvt,serverEntityID:t,providerID:e.identifier||e.provider,mediaSubscriptionEntityID:r,metadataItemEntityID:e.metadataItem,mediaSubscriptionID:e.mediaSubscriptionID,eventID:e.metadataItem.key,status:e.status,error:e.error,linkedKey:e.linkedKey,mediaItem:e.mediaItem,hasConflicts:!(!e.conflicts||!e.conflicts.length)},n)}))},uvt=Xf.a.createElement;var dvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage.calendar},function(e,t){return t.date},function(e,t){var n=Object(rE.a)(t);return{events:C.a.filter(e.scheduled,function(e){return uE(Object(rE.a)(e.beginsAt),n)})}})})(function(e){return uvt(cvt,e)}),pvt=n(1088),hvt=n.n(pvt);var fvt=function(e){var t=e.serverEntityID,n=e.date;return hv()("div",{className:hvt.a.day},void 0,hv()(dvt,{serverEntityID:t,date:n}))},gvt=n(1089),vvt=n.n(gvt),mvt=Xf.a.createElement;var yvt=function(e){var t=e.days,n=wt()(e,["days"]);return hv()("div",{className:vvt.a.calendarDays},void 0,t.map(function(e){return mvt(fvt,dv()({key:e,date:e},n))}))};var bvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e){return{days:e.calendar.days}})})(yvt),Svt=n(662),Ivt=n.n(Svt);var Cvt=function(e){var t,n=e.date,r=dE(n);if(JTe(n))t=Object(Xn.default)("Yesterday");else if(r)t=Object(Xn.default)("Today");else{var i=Object(rE.a)(n);t=Object(Xn.default)("{dayOfWeek} {monthNumber}/{dayNumber}",{dayOfWeek:WTe(n,{abbreviate:!0}),monthNumber:il(i)+1,dayNumber:rl(i)})}return hv()("div",{className:(Ivt.a.dayOfWeek||"")+" "+(r&&Ivt.a.isToday||""),title:t},void 0,t)},Mvt=n(1090),Dvt=n.n(Mvt),wvt=Xf.a.createElement;var Pvt=function(e){var t=e.daysOfWeek,n=wt()(e,["daysOfWeek"]);return hv()("div",{className:Dvt.a.container},void 0,t.map(function(e){return wvt(Cvt,dv()({key:e,date:e},n))}))};var Tvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage.calendar},function(e){return{daysOfWeek:e.daysOfWeek}})})(Pvt),Evt=n(274),xvt=n.n(Evt),Ovt=Xf.a.createElement;var jvt=function(e){var t=e.hasPastEvents,n=e.hasFutureEvents,r=e.onGoToPreviousRangePress,i=e.onGoToNextRangePress;return hv()("div",{className:xvt.a.calendarHeader},void 0,hv()("div",{className:xvt.a.calendarHeader},void 0,hv()(RS,{className:(xvt.a.calendarNav||"")+" "+(!t&&xvt.a.calendarNavDisabled||""),kind:a.DEFAULT,size:qp.MEDIUM,isDisabled:!t,onPress:r},void 0,hv()(Jz,{"aria-label":Object(Xn.default)("Previous Page")})),Ovt(Ygt,e),hv()(RS,{className:(xvt.a.calendarNav||"")+" "+(!n&&xvt.a.calendarNavDisabled||""),kind:a.DEFAULT,size:qp.MEDIUM,isDisabled:!n,onPress:i},void 0,hv()(Zz,{"aria-label":Object(Xn.default)("Next Page")}))))},Avt=Xf.a.createElement;var Nvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e){var t=C.a.pick(e.calendar,"time","startTime","endTime","hasPastEvents","hasFutureEvents");return Object.assign({},t)})})(function(e){return Avt(jvt,e)}),kvt=n(1091),Lvt=n.n(kvt),Rvt=Xf.a.Component,_vt=hv()(Tvt,{}),Uvt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onMeasure=function(e){var t=e.width,n=r.state.visibleDays,i=Math.min(Math.floor(t/120),7);i!==n&&r.props.onVisibleDaysChange(i),r.setState({width:t,visibleDays:i})},r.state={width:null,visibleDays:0},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.showError,r=e.isEmpty,i=e.subscriptionCount,a=e.visibleDays,o=e.onGoToPreviousRangePress,s=e.onGoToNextRangePress;return n?hv()(n9e,{title:Object(Xn.default)("There was an error loading the calendar")}):r?hv()(ggt,{subscriptionCount:i}):hv()(XA,{className:Lvt.a.calendar,ignoreHeight:!0,onMeasure:this.onMeasure},void 0,a===this.state.visibleDays?hv()("div",{},void 0,hv()(Nvt,{onGoToPreviousRangePress:o,onGoToNextRangePress:s}),_vt,hv()(bvt,{serverEntityID:t})):null)},t}(Rvt),zvt=Xf.a.createElement;var Fvt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onVisibleDaysChange=function(e){Object(No.a)(function(){t.props.setVisibleDays({visibleDays:e})})},t.onGoToPreviousRangePress=function(){t.props.goToPreviousRange()},t.onGoToNextRangePress=function(){t.props.goToNextRange()},t}return Sy()(t,e),t.prototype.render=function(){return zvt(Uvt,dv()({onVisibleDaysChange:this.onVisibleDaysChange,onGoToPreviousRangePress:this.onGoToPreviousRangePress,onGoToNextRangePress:this.onGoToNextRangePress},this.props))},t}(Xf.a.Component),Bvt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e){var t=e.mediaSubscriptions,n=e.calendar,r=e.isCalendarPopulated,i=e.calendarError;return{showError:!r&&!!i,isEmpty:!n.scheduled.length,subscriptionCount:t.length,visibleDays:n.visibleDays}})},m)(Fvt);var Hvt=function(e){var t=e.className,n=function(e,t,n){return e?tEe(e,t)?Object(Xn.default)("Airing now"):$Te(e,null,{timeFormat:n}):Object(Xn.default)("No upcoming airings")}(e.beginsAt,e.endsAt,e.timeFormat);return hv()("span",{className:t},void 0,n)},Vvt=n(1092),Qvt=n.n(Vvt);var Wvt=function(e){var t=e.className,n=e.type;return hv()("span",{className:t},void 0,hv()(VAe,{className:Qvt.a.seriesIcon}),function(e){if("show"===e)return Object(Xn.default)("Series")}(n))},Gvt=n(663),Yvt=n.n(Gvt),Kvt=Xf.a.createElement;var qvt=function(e){var t=e.component,n=e.isSecondary,r=wt()(e,["component","isSecondary"]);return Kvt(t,dv()({className:n?Yvt.a.secondaryTitle:Yvt.a.title},r))},Zvt=n(238),Xvt=n.n(Zvt),Jvt=Xf.a.createElement,$vt=Xf.a.Component;var emt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onLinkPress=function(e){r.setState({isSubscribeModalOpen:!0})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1})},r.state={isSubscribeModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.mediaSubscriptionEntityID,i=e.type,a=e.subtype,o=e.thumb,s=e.grandparentThumb,l=e.connectDragSource,c=wt()(e,["serverEntityID","providerEntityID","mediaSubscriptionEntityID","type","subtype","thumb","grandparentThumb","connectDragSource"]),u=this.state.isSubscribeModalOpen,d="playlist"===i?"show":i;return hv()("div",{className:Xvt.a.subscription},void 0,hv()(RS,{className:Xvt.a.link,onPress:this.onLinkPress},void 0,hv()("div",{className:Xvt.a.linkContainer},void 0,hv()(rge,{className:Xvt.a.posterContainer,serverEntityID:t,providerEntityID:n,component:yL,type:d,width:48,height:DL(48,d,a),url:s||o}),hv()("div",{className:Xvt.a.titleContainer},void 0,function(e){var t;switch(e){case"movie":t=[ive,yve];break;case"show":t=[ive,Wvt];break;case"episode":t=[OAe,zEe];break;case"playlist":t=[ive,Wvt];break;default:t=[ive]}return t.push(Hvt),t}(i).map(function(e,t){return Jvt(qvt,dv()({key:t,component:e,isSecondary:t>0,type:i},c))})))),l(hv()("div",{className:Xvt.a.dragHandle},void 0,hv()(qze,{className:Xvt.a.dragIcon})),{dropEffect:"copy"}),hv()(RNe,{isOpen:u,serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))},t}($vt);emt.defaultProps={connectDragSource:function(e){return e}};var tmt=emt,nmt=Xf.a.createElement;var rmt=Lm(function(){return Object(Iy.createSelector)(TTe,Die(),Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage.calendar.scheduled},Die(),function(e,t){return C.a.find(e,function(e){return o0(Object(rE.a)(e.beginsAt),new Date)&&e.mediaSubscriptionID===t.key})}),function(e,t,n){var r=C.a.pick(t.hint,"title","grandparentTitle","type","year","index","parentIndex","originallyAvailableAt","thumb","grandparentThumb");return n&&(r.beginsAt=n.beginsAt,r.endsAt=n.endsAt),r.timeFormat=e,r})})(function(e){return nmt(tmt,e)}),imt=n(1093),amt=n.n(imt),omt=Xf.a.Component,smt=parseInt(yQ.a.recordingPriorityPaneWidth,10),lmt=parseInt(yQ.a.recordingPriorityDragHandleWidth,10);var cmt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.item,i=e.itemType,a=e.currentOffset;if(!a||"RECORDING_PRIORITY_SUBSCRIPTION"!==i)return null;var o=a.x,s=a.y,l="translate3d("+(o-(smt-lmt))+"px, "+s+"px, 0)",c={position:"absolute",WebkitTransform:l,msTransform:l,transform:l};return hv()(Rze,{},void 0,hv()("div",{className:amt.a.dragPreview,style:c},void 0,hv()(rmt,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r.mediaSubscriptionEntityID})))},t}(omt),umt=Object(Dze.DragLayer)(function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}})(cmt),dmt=n(1094),pmt=n.n(dmt),hmt={hover:function(e,t,n){var r=Object(Fv.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,o=e.sortIndex,s=a>i?o+1:o;e.onSubscriptionDragMove(s)}};var fmt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.mediaSubscriptionEntityID,i=e.isDragging,a=e.isDraggingBefore,o=e.isDraggingAfter,s=e.isOver,l=e.connectDropTarget,c=e.connectDragSource;return l(hv()("div",{className:(pmt.a.dragSource||"")+" "+(i?"isDragging":"")+" "+(a&&s?"isDraggingBefore":"")+" "+(o&&s?"isDraggingAfter":"")},void 0,hv()(rmt,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:r,connectDragSource:c})))},t}(Xf.a.Component),gmt=Object(Dze.DropTarget)("RECORDING_PRIORITY_SUBSCRIPTION",hmt,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Dze.DragSource)("RECORDING_PRIORITY_SUBSCRIPTION",{beginDrag:function(e){return{mediaSubscriptionEntityID:e.mediaSubscriptionEntityID}},endDrag:function(e,t,n){e.onSubscriptionDragEnd(t.getItem(),t.didDrop())}},function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(fmt)),vmt=n(341),mmt=n.n(vmt);var ymt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.mediaSubscriptionEntityIDs,i=e.guideRoute,o=e.showError,s=e.showEmptyState,l=e.moveIndex,c=e.onSubscriptionDragMove,u=e.onSubscriptionDragEnd;return hv()("div",{className:mmt.a.pane},void 0,hv()("div",{className:mmt.a.paneHeader},void 0,Object(Xn.default)("Recording Priority")),hv()(oT,{className:mmt.a.paneScroller,autoScroll:!0},void 0,o?hv()("div",{className:mmt.a.error},void 0,hv()("div",{},void 0,Object(Xn.default)("There was an error loading recordings.")),hv()("div",{},void 0,Object(Xn.default)("Please try again."))):null,s?hv()("div",{className:mmt.a.empty},void 0,hv()("div",{},void 0,Object(Xn.default)("You have no recordings scheduled.")),hv()("div",{},void 0,hv()(AB,{message:Object(Xn.default)("Check out the {openLink}Guide{closeLink} to browse available programming."),tags:[{open:"openLink",close:"closeLink",component:RS,kind:a.PRIMARY,to:i}]}))):null,o||s?null:r.map(function(e,r){var i=null!=l,a=i&&l===r,o=i&&l===r+1;return hv()(gmt,{serverEntityID:t,providerEntityID:n,mediaSubscriptionEntityID:e,isDraggingBefore:a,isDraggingAfter:o,sortIndex:r,onSubscriptionDragMove:c,onSubscriptionDragEnd:u},e)})),hv()(umt,{serverEntityID:t,providerEntityID:n}))},bmt=Xf.a.createElement,Smt=Xf.a.Component;var Imt={dispatchMoveMediaSubscription:$ft,dispatchClearMoveError:ogt,dispatchShowAlert:au},Cmt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSubscriptionDragMove=function(e){r.setState({moveIndex:e})},r.onSubscriptionDragEnd=function(e,t){var n=r.state.moveIndex;t&&null!=n&&Object(No.a)(function(){r.props.dispatchMoveMediaSubscription(Object.assign({},e,{moveIndex:n}))}),r.setState({moveIndex:null})},r.state={moveIndex:null},r}Sy()(t,e);var n=t.prototype;return n.componentDidUpdate=function(e){var t=this.props,n=t.mediaSubscriptionMoveError,r=t.dispatchShowAlert,i=t.dispatchClearMoveError;!e.mediaSubscriptionMoveError&&n&&(r(n),i())},n.render=function(){return bmt(ymt,dv()({moveIndex:this.state.moveIndex,onSubscriptionDragMove:this.onSubscriptionDragMove,onSubscriptionDragEnd:this.onSubscriptionDragEnd},this.props))},t}(Smt),Mmt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},vgt(),function(e,t){var n=e.mediaSubscriptions,r=e.isMediaSubscriptionsPopulated,i=e.mediaSubscriptionsError;return{providerEntityID:t,mediaSubscriptionEntityIDs:n,mediaSubscriptionMoveError:e.mediaSubscriptionMoveError,showError:!r&&!!i,showEmptyState:r&&!i&&!n.length}})},Imt)(Cmt),Dmt=n(521),wmt=n.n(Dmt),Pmt=hv()(W1e,{},void 0,hv()(O4e,{},void 0,hv()(ZE.a,{})));var Tmt=function(e){var t=e.serverEntityID,n=e.showSpinner,r=e.showEmptyState,i=e.programGuideIdentifier,o=e.selectedViewType,s=e.guideRoute;return n?Pmt:r&&i?hv()(W1e,{},void 0,hv()(O4e,{iconComponent:fgt,title:Object(Xn.default)("You have no recordings scheduled")},void 0,hv()(AB,{className:wmt.a.emptyDescription,message:Object(Xn.default)("Check out the {openLink}Guide{closeLink} to browse available programming"),tags:[{open:"openLink",close:"closeLink",component:RS,kind:a.PRIMARY,to:s}]}))):r&&!i?hv()(W1e,{},void 0,hv()(O4e,{iconComponent:fgt,title:Object(Xn.default)("You have no recordings scheduled"),description:Object(Xn.default)("You need a DVR before you can schedule recordings")})):hv()("div",{className:wmt.a.schedulePageContent},void 0,hv()(W1e,{innerClassName:wmt.a.schedulePageInnerContent},void 0,o===l.CALENDAR?hv()(Bvt,{serverEntityID:t}):null,o===l.AGENDA?hv()(tvt,{serverEntityID:t}):null),hv()(Mmt,{serverEntityID:t,providerID:i,guideRoute:s}))};var Emt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},Dy(),Hk(),function(e,t,n){return{guideRoute:gr(pr.GUIDE,t,n,e)}})})(Tmt),xmt=Xf.a.Component,Omt=Xf.a.Fragment;function jmt(e){return e===l.AGENDA?Object(Xn.default)("Agenda View"):Object(Xn.default)("Calendar View")}var Amt=hv()(Let,{}),Nmt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onViewsMenuButtonPress=function(e){r.setState({isViewsMenuOpen:!r.state.isViewsMenuOpen})},r.onViewsMenuClose=function(){r.setState({isViewsMenuOpen:!1})},r.state={isViewsMenuOpen:!1},r._viewsMenuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.scheduleRoute,a=e.selectedViewType,o=e.showEPGActivity,s=this.state.isViewsMenuOpen;return hv()(Omt,{},void 0,hv()(Aet,{},void 0,hv()(Vet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r}),hv()(Tet,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,directoryKey:pr.RECORDING_SCHEDULE}),Amt),hv()(V4e,{},void 0,hv()(ret,{},void 0,hv()(G1,{id:this._viewsMenuButtonID,title:jmt(a),hasMenu:!0,isMenuOpen:s,onPress:this.onViewsMenuButtonPress}),hv()(zT,{target:this._viewsMenuButtonID,isOpen:s,onMenuClose:this.onViewsMenuClose},void 0,l.all.map(function(e){return hv()(MI,{to:F.join([i],{view:e}),isSelected:a===e},e,jmt(e))}))),o?hv()($7e,{},void 0,hv()(Get,{serverEntityID:t,providerEntityID:n})):null))},t}(xmt);var kmt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.sourceDirectory},Dy(),Hk(),u$e(),function(e,t,n,r){return{scheduleRoute:gr(pr.RECORDING_SCHEDULE,t,n,e),showEPGActivity:!!r}})})(Nmt),Lmt=Xf.a.createElement,Rmt=Tze(function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.selectedViewType;return hv()(i2e,{metricsContext:qFe("subscriptions",Hn)},void 0,hv()(D1,{metricsPage:"subscriptions",metricsProperties:{pane:i},scrollDirection:o.NONE},void 0,hv()(kmt,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,selectedViewType:i}),Lmt(Emt,this.props)))},t}(Xf.a.Component)),_mt=Xf.a.Component;var Umt={initRecordingSchedulePage:Zft,clearRecordingSchedulePage:Xft,goToToday:tgt,fetchCalendar:igt,fetchMediaSubscriptions:Jft,saveExperienceSettings:Wo,changeQuickSearchSettings:pse},zmt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this)._updateCalendar=function(){r.props.goToToday(),r.props.fetchCalendar(),r._resetUpdateTimeout()},r._updateTimeoutID=null,r}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate(),this._resetUpdateTimeout(),this._saveViewType(),this.props.providerIdentifier&&this._setSearchProviderIdentifier(this.props.providerIdentifier)},n.componentWillReceiveProps=function(e){var t=e.serverEntityID,n=e.time,r=e.selectedViewType;t!==this.props.serverEntityID&&this._populate(e),this._updateTimeoutID&&n!==this.props.time&&this._resetUpdateTimeout(),r!==this.props.selectedViewType&&this._saveViewType(e)},n.componentDidUpdate=function(e){var t=this.props.providerIdentifier;t&&t!==e.providerIdentifier&&this._setSearchProviderIdentifier(t)},n.componentWillUnmount=function(){this._updateTimeoutID&&clearTimeout(this._updateTimeoutID),this.props.clearRecordingSchedulePage(),this._setSearchProviderIdentifier(null)},n._populate=function(e){void 0===e&&(e=this.props),Object(No.a)(function(){e.initRecordingSchedulePage({serverEntityID:e.serverEntityID}),e.fetchCalendar(),e.fetchMediaSubscriptions()})},n._setSearchProviderIdentifier=function(e){var t=this.props;(0,t.changeQuickSearchSettings)({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:e,sectionID:null})},n._resetUpdateTimeout=function(){this._updateTimeoutID&&clearTimeout(this._updateTimeoutID),this._updateTimeoutID=setTimeout(this._updateCalendar,36e5)},n._saveViewType=function(e){void 0===e&&(e=this.props),e.saveExperienceSettings({calendarViewType:e.selectedViewType})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.sourceDirectory,i=e.selectedViewType,a=e.showSpinner,o=e.showEmptyState,s=e.programGuideIdentifier;return this.props.isPagePopulated?hv()(Rmt,{serverEntityID:t,providerEntityID:n,sourceDirectory:r,selectedViewType:i,showSpinner:a,showEmptyState:o,programGuideIdentifier:s}):null},t}(_mt),Fmt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.recordingSchedulePage},function(e,t){return t.selectedViewType},Hk(),GFe(),Object(Iy.createSelector)(ek,pgt(cn),function(e,t){var n=t[0];if(n){var r=e[n];return r&&r.identifier}}),Py,function(e,t,n,r,i,a){var o=e.isPagePopulated,s=e.isCalendarPopulated,l=e.calendarError,c=e.isMediaSubscriptionsPopulated,u=e.mediaSubscriptionsError,d=e.calendar,p=!s&&!l||!c&&!u,h=!p&&c&&!e.mediaSubscriptions.length&&s&&!d.scheduled.length;return{sourceDirectory:r,providerIdentifier:n.identifier,isPagePopulated:o,showSpinner:p,showEmptyState:h,programGuideIdentifier:i,time:d?d.time:void 0,selectedViewType:t||a.calendarViewType}})},Umt)(zmt),Bmt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t),o=Object(Tr.a)(Er.l,n,a);return hv()(eXe,{},void 0,hv()(W0e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source}),hv()(R8e,{serverEntityID:a},void 0,hv()(f8e,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,directoryKey:pr.RECORDING_SCHEDULE},void 0,hv()(Fmt,{serverEntityID:a,providerEntityID:o,sourceDirectoryKey:i.source,selectedViewType:i.view}))))}});var Hmt=function(){return hv()(Zq,{title:Object(Xn.default)("You must be lost"),description:Object(Xn.default)("We can't find the page you're looking for")},void 0,hv()(RS,{to:"#",kind:a.PRIMARY},void 0,Object(Xn.default)("Go Home")))},Vmt=hv()(Gq,{},void 0,hv()(ZE.a,{})),Qmt=hv()(Hmt,{});var Wmt=function(e){var t=e.children,n=e.hasProvider,r=e.showSpinner,i=e.showError,a=wt()(e,["children","hasProvider","showSpinner","showError"]);if(r)return Vmt;if(i)return hv()(d1,{title:Object(Xn.default)("There was an unexpected error")});if(!n)return Qmt;var o=Xf.a.Children.only(t);return Xf.a.cloneElement(o,a)},Gmt=Xf.a.createElement,Ymt=Xf.a.Component;var Kmt,qmt={dispatchFetchProvider:$h,dispatchPopulateProvider:ef},Zmt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPopulate=function(e){e.serverEntityID;var n=e.providerEntityID;Object(No.a)(function(){t.props.dispatchPopulateProvider({providerEntityID:n,options:{merge:!0}})})},t.onRepopulate=function(e){e.serverEntityID;var n=e.providerEntityID;Object(No.a)(function(){t.props.dispatchFetchProvider({providerEntityID:n,options:{merge:!0}})})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.isProvidersPopulated&&this.onPopulate({providerEntityID:this.props.providerEntityID})},n.componentWillReceiveProps=function(e){e.providerEntityID===this.props.providerEntityID&&e.isProvidersPopulated===this.props.isProvidersPopulated||this.onRepopulate({providerEntityID:e.providerEntityID})},n.render=function(){var e=this.props,t=(e.dispatchFetchProvider,e.dispatchPopulateProvider,wt()(e,["dispatchFetchProvider","dispatchPopulateProvider"]));return Gmt(Wmt,dv()({},t,{onRetry:this.onRepopulate}))},t}(Ymt),Xmt=Lm(function(){return Object(Iy.createSelector)(Hk(),function(e){return e?{isProvidersPopulated:!0,hasProvider:!0,providerEntityID:e.entityID,isRetrying:!!e.isPending,showSpinner:!e.isPopulated&&!e.error,showError:!!e.error}:{isProvidersPopulated:!1,hasProvider:!1,isRetrying:!0,showSpinner:!0,showError:!1}})},qmt)(Zmt),Jmt="bool",$mt="group",eyt="location",tyt="select",nyt="double",ryt=Mt("provider/providerSettings/fetchProviderSettings"),iyt=Mt("provider/providerSettings/fetchProviderSettingSelectOptions"),ayt=Mt("provider/provderSettings/clearProviderSettingFetchError"),oyt=Mt("provider/providerSettings/fetchProviderSettingLocationOptions"),syt=Mt("provider/providerSettings/populateProviderSettingLocationOptions"),lyt=Mt("provider/providerSettings/updateProviderSetting"),cyt=Mt("provider/providerSettings/clearProviderSettingUpdateError"),uyt=Mt("provider/providerSettings/populateProviderSettingOptions");function dyt(e,t){return Co(e,t).get("features").get(ln)}function pyt(e,t){return dyt(e,t).get("settings").get(t.settingID)}function hyt(e,t,n){var r=C.a.mapObject(t,function(e,t){return!0===e?"1":!1===e?"0":e}),i=F.join(C.a.result(e,"url"),{prefs:r}),a=n.getXHROptions(i,{type:"PUT"});return P.a.ajax(a).then(function(){!function(e,t){switch(e.get("type")){case eyt:var n=e.get("locations").get(t.country);e.set({country:t.country,countryLabel:n.get("title"),postalCode:t.postalCode});break;case tyt:C.a.each(t,function(t,n){e.get("options").get(n).set({selected:t})}),e.set("selectedCount",C.a.values(t).filter(function(e){return e}).length);break;default:e.set("value",t[e.id])}}(e,t)})}var fyt=((Kmt={})["provider/providerSettings/fetchProviderSettings"]=Ki({key:"settings",getModel:dyt}),Kmt["provider/providerSettings/fetchProviderSettingSelectOptions"]=Ki({key:"options",getModel:pyt}),Kmt["provider/providerSettings/fetchProviderSettingLocationOptions"]=Ki({key:"locations",getModel:pyt}),Kmt["provider/providerSettings/populateProviderSettingLocationOptions"]=qi({key:"locations",fetchActionCreator:oyt,getModel:pyt}),Kmt["provider/providerSettings/updateProviderSetting"]=function(e,t){var n=t.settingID,r=t.values,i=Co(e,t),a=i.get("features").get(ln),o=e.get("ui").get("providerSettingsPage"),s=a.get("settings").get(n);o.set({isUpdatePending:!0,updateError:null});var l=[];s.get("type")===$mt?s.get("settings").forEach(function(e){var t,n=((t={})[e.id]=r[e.id],t);l.push(hyt(e,n,i))}):l.push(hyt(s,r,i)),P.a.when.apply(P.a,l).then(function(){o.set({isUpdatePending:!1,updateError:null})},function(e){o.set({isUpdatePending:!1,updateError:Gi(e)})})},Kmt["provider/providerSettings/clearProviderSettingUpdateError"]=function(e,t){e.get("ui").get("providerSettingsPage").set("updateError",null)},Kmt["provider/provderSettings/clearProviderSettingFetchError"]=function(e,t){Co(e,t).get("features").get(ln).get("settings").get(t.settingID).set({optionsError:null,locationsError:null})},Kmt["provider/providerSettings/populateProviderSettingOptions"]=function(e,t,n){var r=Co(e,t).get("features").get(ln).get("settings").get(t.settingID).get("type");r===tyt&&Object(No.a)(function(){n(iyt(t))}),r===eyt&&n(syt(t))},Kmt),gyt=n(522),vyt=n.n(gyt),myt=$Q(sW);var yyt=function(e){var t=e.labelText,n=e.helpText,r=e.options;return hv()(MV,{},void 0,hv()(k_,{},void 0,t),n?hv()(qQ,{className:vyt.a.help},void 0,n):null,hv()("div",{className:vyt.a.multiSelectContainer},void 0,r.map(function(e){return hv()("div",{className:vyt.a.multiSelectItem},e.key,hv()(myt,{name:e.key,checkboxText:e.title,initialValue:e.selected}))})))},byt=n(664),Syt=n.n(byt),Iyt=$Q(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onCountryChange=function(e){var t=r._calculateLocationState(e,r.state.postalCode,r.props.countries);r.setState(t,function(){r.props.onChange({country:t.country,postalCode:t.postalCode})})},r.onPostalCodeChange=function(e){r.setState({postalCode:e},function(){r.props.onChange({country:r.state.country,postalCode:e})})},r.state=r._calculateLocationState(t.initialValue.country,t.initialValue.postalCode,t.countries),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.state.country!==e.value.country,n=this.state.postalCode!==e.value.postalCode;if(this.props.countries!==e.countries||t||n){var r=this._calculateLocationState(e.value.country,e.value.postalCode,e.countries);this.setState(r)}},n._getCountryOption=function(e,t){return t.find(function(t){return t.code===e})},n._countryHasPostalCode=function(e,t){var n=this._getCountryOption(e,t);return n&&"postalcode"===n.flavor},n._calculateLocationState=function(e,t,n){return{country:e,postalCode:this._countryHasPostalCode(e,n)&&t?t:""}},n._getSelectInputValues=function(e){return e.map(function(e){var t;return(t={})[e.code]=e.title,t})},n._getPostalCodeMask=function(e,t){var n=this._getCountryOption(e,t).postalCodeFormat;return n?C.a.map(n,function(e){return"N"===e?/\d/:/\./}):[]},n.render=function(){var e=this.props,t=e.labelText,n=e.helpText,r=e.countries,i=e.showErrors,a=e.errors,o=e.onBlur,s=this.state,l=s.country,c=s.postalCode,u=a[0],d=0===r.length,p=this._countryHasPostalCode(l,r);return hv()(MV,{},void 0,hv()(k_,{name:"country"},void 0,t),n?hv()(qQ,{className:Syt.a.help},void 0,n):null,hv()(EV,{name:"country",value:l,values:this._getSelectInputValues(r),isDisabled:d,onChange:this.onCountryChange}),p?hv()(k_,{name:"postalCode",hasError:i,className:Syt.a.secondaryLabel},void 0,Object(Xn.default)("Postal Code"),i&&u?"  "+u:null):null,p?hv()(rlt,{mask:this._getPostalCodeMask(l,r),name:"postalCode",value:c,isDisabled:d,hasError:i,onBlur:o,onChange:this.onPostalCodeChange}):null)},t}(Xf.a.Component)),Cyt=Xf.a.createElement;var Myt=[function(e){if(e.postalCode&&!/^\d{5}$/.test(e.postalCode))return Object(Xn.default)("Postal Code is not in correct format")}],Dyt={playbackSpeed:_W};var wyt=function e(t){var n=t.id,r=t.type,i=t.multiselect,a=t.label,o=t.summary,s=t.country,l=t.locations,c=t.postalCode,u=t.value,d=t.options,p=t.settings,h=t.parentSetting;return r===$mt?hv()("div",{},void 0,p.map(function(n){return n.hidden?null:Cyt(e,dv()({key:n.id},n,{parentSetting:t}))})):r===Jmt?hv()(uW,{name:n,labelText:h&&h.label||a,checkboxText:a,helpText:o,initialValue:u}):r===nyt?hv()(RW,{name:n,labelText:a,min:t.min,max:t.max,stepSize:t.step,initialValue:u,valueModifier:Dyt[n]}):r===eyt?hv()(Iyt,{name:n,labelText:a,helpText:o,initialValue:{country:s,postalCode:c},validations:Myt,countries:l}):r===tyt&&i?hv()(yyt,{labelText:a,helpText:o,options:d}):(D.a.warn("Unsupported provider setting type:[%s]",r),null)},Pyt=n(523),Tyt=n.n(Pyt);function Eyt(e){var t=e.children,n=e.className,r=e.onPress;return hv()(RS,{className:(Tyt.a.sectionWrapper||"")+" "+(n||""),component:"div",onPress:r},void 0,t)}function xyt(e){var t=e.children,n=e.className;return hv()("div",{className:(Tyt.a.sectionWrapper||"")+" "+(n||"")},void 0,t)}var Oyt=function(e){var t=e.errorMessage,n=e.children,r=e.className,i=e.onPress,a=i?Eyt:xyt;return hv()(a,{className:r,onPress:i},void 0,t?hv()(FV,{errorMessage:t}):null,hv()("div",{className:Tyt.a.section},void 0,n))},jyt=n(1095),Ayt=n.n(jyt);function Nyt(e){var t=e.children,n=e.className;return hv()("div",{className:n},void 0,t)}Nyt.defaultProps={className:Ayt.a.actionLinks};var kyt=Nyt,Lyt=n(665),Ryt=n.n(Lyt);var _yt=function(e){var t=e.children,n=e.className,r=e.closedNode,i=e.errorMessage,a=e.isOpen,o=e.onTogglePress;return hv()(Oyt,{className:((a?Ryt.a.isOpen:Ryt.a.isClosed)||"")+" "+(n||""),errorMessage:a?i:null,onPress:a?null:o},void 0,hv()(kyt,{},void 0,a?hv()(RS,{kind:Qp,onPress:o},void 0,Object(Xn.default)("Cancel")):null,a?null:hv()(RS,{kind:Qp},void 0,Object(Xn.default)("Edit"))),a?t:r)},Uyt=n(1096),zyt=n.n(Uyt);function Fyt(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}Fyt.defaultProps={className:zyt.a.sectionDetails};var Byt=Fyt,Hyt=n(342),Vyt=n.n(Hyt),Qyt=hv()(ZE.a,{});function Wyt(e){var t=e.className,n=e.children,r=e.closedNode,i=e.title,a=e.errorMessage,o=e.buttonKind,s=e.buttonText,l=e.isDirty,c=e.isOpen,u=e.isUpdating,d=e.showButton,p=e.showButtonEnabled,h=e.showSpinner,f=e.onFormChange,g=e.onSubmit,v=e.onTogglePress;return hv()(_yt,{className:t,isOpen:c,errorMessage:a,closedNode:hv()(Byt,{className:Vyt.a.sectionDetails},void 0,hv()(k_,{className:Vyt.a.label},void 0,i),r),onTogglePress:v},void 0,h?hv()(k_,{className:Vyt.a.label},void 0,i):null,h?hv()("div",{className:Vyt.a.spinnerContainer},void 0,Qyt):null,!h&&d?hv()(x_,{onSubmit:g,onChange:f},void 0,n,hv()("div",{className:Vyt.a.submitButton},void 0,hv()(_V,{type:"submit",isDisabled:!p&&!l,isSpinning:u,kind:o},void 0,s||Object(Xn.default)("Save Changes")))):null,h||d?null:n)}Wyt.defaultProps={buttonKind:Qp,showButton:!0,showButtonEnabled:!1};var Gyt=yit(Wyt,{isUpdatingPropName:"isUpdating",errorPropName:"errorMessage",clearDirtyOnChangePropName:"isOpen"}),Yyt=Xf.a.createElement;var Kyt=function(e){var t=e.setting,n=wt()(e,["setting"]);return Yyt(Gyt,dv()({closedNode:t.summary},n))},qyt=Xf.a.createElement,Zyt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSubmit=function(e){var n=e.location;t.props.onSubmit(n)},t}Sy()(t,e);var n=t.prototype;return n._getCountryPostalCodeLabel=function(e,t){var n=[];return e?(n.push(e),t&&n.push(t),n.join(", ")):""},n.render=function(){var e=this.props,t=e.setting,n=wt()(e,["setting"]);return qyt(Gyt,dv()({closedNode:this._getCountryPostalCodeLabel(t.countryLabel,t.postalCode),showSpinner:t.isLocationsPending},n,{onSubmit:this.onSubmit}))},t}(Xf.a.Component),Xyt=Xf.a.createElement;var Jyt=function(e){var t=e.setting,n=wt()(e,["setting"]);return Xyt(Gyt,dv()({closedNode:Object(Xn.default)("{1} selected",t.selectedCount),showSpinner:t.isOptionsPending},n))},$yt=Xf.a.createElement,ebt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onTogglePress=function(){var e=t.props.setting,n=e.optionsError,r=e.locationsError,i=e.id;t.props.onTogglePress(i),(n||r)&&t.props.onOptionsFetchErrorDismiss(i)},t.onSubmit=function(e){t.props.onUpdateSetting(t.props.setting.id,e)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props.setting,t=e.summary,n=e.optionsError,r=e.locationsError,i=e.type,a=e.multiselect,o=this.props,s=o.updateError,l=(o.onUpdateSetting,o.onTogglePress,o.onOptionsFetchErrorDismiss,wt()(o,["updateError","onUpdateSetting","onTogglePress","onOptionsFetchErrorDismiss"])),c=s?Object(Xn.default)("Unable to save settings"):null,u=n||r?Object(Xn.default)("There was an error loading the options"):c;return i===$mt?$yt(Kyt,dv()({},l,{errorMessage:u,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):i===eyt?$yt(Zyt,dv()({},l,{errorMessage:u,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):i===tyt&&a?$yt(Jyt,dv()({},l,{errorMessage:u,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):i===nyt||i===Jmt?$yt(Gyt,dv()({closedNode:t},l,{errorMessage:u,onSubmit:this.onSubmit,onTogglePress:this.onTogglePress})):(D.a.warn("Unsupported provider setting type:[%s]",i),null)},t}(Xf.a.Component),tbt=Xf.a.createElement,nbt=Xf.a.Component,rbt=hv()(Gq,{},void 0,hv()(ZE.a,{})),ibt=hv()(cE,{}),abt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onTogglePress=function(e){r.props.updateError&&r.props.onUpdateErrorDismiss(),r.state.openSettingID===e?r.setState({openSettingID:null}):(r.props.onSettingViewDetail(e),r.setState({openSettingID:e}))},r.state={openSettingID:null,isUpdatePendingFromStore:t.isUpdatePending},r}return Sy()(t,e),t.getDerivedStateFromProps=function(e,t){var n={isUpdatePendingFromStore:e.isUpdatePending};return!t.isUpdatePendingFromStore||e.isUpdatePending||e.updateError||(n.openSettingID=null),n},t.prototype.render=function(){var e=this,t=this.props,n=t.providerTitle,r=t.showSpinner,i=t.settings,a=t.isUpdatePending,o=t.updateError,s=t.onUpdateSetting,l=t.onOptionsFetchErrorDismiss,c=this.state.openSettingID;return r?rbt:hv()(q8,{metricsPage:"settings",metricsPane:"settings"},void 0,hv()(H8,{},void 0,n,n?ibt:null,Object(Xn.default)("Personalize")),i.map(function(t){return t.hidden?null:hv()(ebt,{title:t.label,setting:t,isOpen:c===t.id,isUpdating:a,updateError:o,onTogglePress:e.onTogglePress,onUpdateSetting:s,onOptionsFetchErrorDismiss:l},t.id,tbt(wyt,t))}))},t}(nbt);var obt,sbt={dispatchFetchProviderSettings:ryt,dispatchUpdateProviderSetting:lyt,dispatchClearProviderSettingUpdateError:cyt,dispatchClearProviderSettingFetchError:ayt,dispatchPopulateSettingsOptions:uyt},lbt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onUpdateErrorDismiss=function(){t.props.dispatchClearProviderSettingUpdateError({providerEntityID:t.props.providerEntityID})},t.onOptionsFetchErrorDismiss=function(e){t.props.dispatchClearProviderSettingFetchError({providerEntityID:t.props.providerEntityID,settingID:e})},t.onUpdateSetting=function(e,n){t.props.dispatchUpdateProviderSetting({providerEntityID:t.props.providerEntityID,settingID:e,values:n})},t.onSettingViewDetail=function(e){t.props.dispatchPopulateSettingsOptions({providerEntityID:t.props.providerEntityID,settingID:e})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this.props.providerEntityID;this.props.dispatchFetchProviderSettings({providerEntityID:e})},n.render=function(){return hv()(abt,{providerTitle:this.props.providerTitle,showSpinner:this.props.isSettingsPending,settings:this.props.settings,isUpdatePending:this.props.isUpdatePending,updateError:this.props.updateError,onSettingViewDetail:this.onSettingViewDetail,onUpdateErrorDismiss:this.onUpdateErrorDismiss,onOptionsFetchErrorDismiss:this.onOptionsFetchErrorDismiss,onUpdateSetting:this.onUpdateSetting})},t}(Xf.a.Component),cbt=Lm(function(){return Object(Iy.createSelector)(Hk(),KPe(ln),function(e){return e.ui.providerSettingsPage},function(e,t,n){return{providerEntityID:e.entityID,providerTitle:e.title,settings:t.settings,isSettingsPending:t.isSettingsPending,isUpdatePending:n.isUpdatePending,updateError:n.updateError}})},sbt)(lbt),ubt=hv()(W0e,{}),dbt=hv()(cbt,{}),pbt=Rm.extend({component:function(e){var t=e.selectedProviderID,n=cv.a,r=Object(Tr.a)(Er.n,n),i=Object(Tr.a)(Er.l,t,r);return hv()(eXe,{},void 0,ubt,hv()(Xmt,{serverEntityID:r,providerEntityID:i},void 0,dbt))}}),hbt={signIn:F1e,error:ree,notFound:$1e,serverRequired:e2e,unauthorized:t2e,unavailable:n2e},fbt=see.extend({getViewByType:function(e){return hbt[e]},initialize:function(){see.prototype.initialize.apply(this,arguments),this.listenTo(z.a,"initialize:app",this.onAppInitialize)},typeFirst:function(e,t,n){return this.populateView().then(function(){return!e&&t&&(e=cv.a),P.a.Deferred().resolve({selectedServerID:e,selectedProviderID:t,params:n}).promise()})},typeFirstLanding:function(){this.typeFirst.apply(this,arguments).then(function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params;z.a.trigger("show:view",new Eht({selectedServerID:t,selectedProviderID:n,params:F.parseParams(r)}))})},typeFirstTimeline:function(){this.typeFirst.apply(this,arguments).then(function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params;z.a.trigger("show:view",new jft({selectedServerID:t,selectedProviderID:n,params:F.parseParams(r)}))})},typeFirstGuide:function(){this.typeFirst.apply(this,arguments).then(function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params;z.a.trigger("show:view",new ztt({selectedServerID:t,selectedProviderID:n,params:F.parseParams(r)}))})},typeFirstRecordingSchedule:function(){this.typeFirst.apply(this,arguments).then(function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params;z.a.trigger("show:view",new Bmt({selectedServerID:t,selectedProviderID:n,params:F.parseParams(r)}))})},dashboard:function(e,t){this.populateView().done(function(){z.a.trigger("show:view",new Q6e({selectedServerID:e,params:F.parseParams(t)}))})},playHistory:function(e,t){this.populateView().done(function(){z.a.trigger("show:view",new Jrt({selectedServerID:e,params:F.parseParams(t)}))})},providerSettings:function(e){this.populateView().done(function(){z.a.trigger("show:view",new pbt({selectedProviderID:e}))})},logs:function(){z.a.trigger("show:view",new RZe({collection:Object(J.c)("logs")}))},info:function(){z.a.trigger("show:view",new NZe)},serverDownloadMessage:function(){this.populateView().done(function(){z.a.trigger("show:view",new Y0e)})},logout:function(){z.a.trigger("show:view",new J1e)},firstRunExperience:function(e){z.a.trigger("show:view",new OZe({params:F.parseParams(e)}))},onAppInitialize:function(){this.appView=new HKe,this.appView.render()}}),gbt=oee.extend({controller:new fbt,appRoutes:(obt={"!/dashboard":"dashboard","!(/server/:serverID)/dashboard":"dashboard","!(/server/:serverID)/playHistory":"playHistory","!/provider/:providerID/settings":"providerSettings","":"dashboard","!/login":"login","!/logout":"logout","!/client-setup":"firstRunExperience","!/unauthorized":"unauthorized","!/logs":"logs","!/info":"info","!/get-plex-media-server":"serverDownloadMessage"},obt["!/"+or+"(/:serverID)/:providerID/timeline"]="typeFirstTimeline",obt["!/"+or+"(/:serverID)/:providerID/guide"]="typeFirstGuide",obt["!/"+or+"(/:serverID)/:providerID/schedule"]="typeFirstRecordingSchedule",obt["!/"+or+"(/:serverID)/:providerID"]="typeFirstLanding",obt["*404"]="error",obt),onNavigateRefreshDashboard:function(){var e=y.c.history.getFragment();""===e||"!/dashboard"===e?y.c.history.loadUrl(""):z.a.trigger("navigate","dashboard")}}),vbt=Mt("POPULATE_SEARCH_PROVIDERS"),mbt=Mt("FETCH_SEARCH_PAGE"),ybt=Mt("CLEAR_SEARCH_PAGE");var bbt=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{containerKey:e.skipParent?e.grandparentKey:e.parentKey}})})(UBe),Sbt=n(409),Ibt=n.n(Sbt);var Cbt=function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.searchResultEntityID,a=e.imageWidth,o=e.imageHeight,s=e.imageUrl,l=e.tag,c=e.tagType,u=e.librarySectionType,d=e.titleComponents,p=CF(e),h=Wse.get(c),f=!!h&&h.isPerson;return hv()("div",{className:t,style:p.style},void 0,hv()("div",{className:Ibt.a.imageContainer},void 0,hv()(tme,{serverEntityID:n,providerEntityID:r,imageWidth:a,imageHeight:o,imageUrl:s,title:l,tag:l,tagType:c,librarySectionType:u}),hv()(nxe,{className:(Ibt.a.imageLink||"")+" "+(f&&Ibt.a.isPerson||""),serverEntityID:n,providerEntityID:r,searchResultEntityID:i})),hv()("div",{className:Ibt.a.titleContainer},void 0,d.map(function(e,t){return hv()(NTe,{serverEntityID:n,providerEntityID:r,searchResultEntityID:i,component:e,isSecondary:t>0},t)})))},Mbt=Xf.a.createElement;var Dbt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.listType},function(e,t){return t.listSubtype},function(e,t){return t.listContext},function(e,t){return t.cellWidth},Hde(),function(e,t,n,r,i){void 0===i&&(i={});var a=i.tagItem,o=a.tag,s=a.tagType,l=a.librarySectionType,c=Gde(r,null,e,t,a,n);return{tag:o,tagType:s,librarySectionType:l,imageWidth:c.width,imageHeight:c.height,imageUrl:c.url}})})(function(e){return Mbt(Cbt,e)}),wbt=Xf.a.createElement;var Pbt=function(e){var t=e.isMetadataItem,n=wt()(e,["isMetadataItem"]);return t?wbt(bbt,dv()({},n,{showSelect:!1})):wbt(Dbt,n)},Tbt=n(666),Ebt=n.n(Tbt),xbt=Xf.a.createElement;var Obt=function(e){var t=e.title,n=e.hubs,r=e.columnAdjustment,i=e.searchAllServers,a=e.isSearchPending,o=e.isSearchPopulated;return hv()("div",{},void 0,hv()("div",{role:"heading","aria-level":"2",className:Ebt.a.providerTitle},void 0,t,a?hv()(ZE.a,{className:Ebt.a.spinner,size:qp.SMALL}):null),!n.length&&o?hv()(Gq,{title:Object(Xn.default)("No Results"),description:Object(Xn.default)("Try a different query")}):n.map(function(e){var t,n=e.type,a=e.subtype,o=xp,s=tOe(n,o,{subtype:e.subtype,isSearch:!0,isSearchAll:i});return xbt(Wwe,dv()({},e,{key:e.hubIdentifier,listType:n,listContext:o,keyPropName:"searchResultEntityID",size:e.results.length,items:e.results,itemsOffset:0,layout:tBe(n,a,o,r,s.length),cellRenderer:(t={listType:n,listContext:o,titleComponents:s},function(e){return xbt(xme,dv()({component:Pbt},t,e))})}))}))},jbt=n(1097),Abt=n.n(jbt),Nbt=Xf.a.createElement;function kbt(e){var t=e.isSearchCapable,n=e.providers,r=e.searchAllServers,i=e.columnAdjustment;return t?hv()(W1e,{innerClassName:Abt.a.content},void 0,n.map(function(e){return Nbt(Obt,dv()({key:e.providerEntityID,columnAdjustment:i,searchAllServers:r},e))})):hv()(Zq,{title:Object(Xn.default)("This server does not support search"),description:Object(Xn.default)("Browse libraries using the sidebar")})}kbt.defaultProps={searchAllServers:!1};var Lbt=kbt,Rbt=Xf.a.createElement,_bt=Xf.a.Component;function Ubt(){return t9(Object(Iy.createSelector)(function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},ek,function(e,t,n){var r,i=n[t];return(r={})[t]={serverEntityID:e,identifier:i.identifier,title:i.title},r}),function(e){return e})}var zbt={dispatchFetchSearchPage:mbt,dispatchClearSearchPage:ybt},Fbt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(No.a)(function(){e._clear(),e._populate()})},n.componentDidUpdate=function(e){var t=this,n=e.query!==this.props.query,r=e.availableProviders!==this.props.availableProviders;(n||r)&&Object(No.a)(function(){n&&t._clear(),t._populate()})},n._clear=function(){this.props.dispatchClearSearchPage()},n._populate=function(){this.props.dispatchFetchSearchPage({availableProviders:this.props.availableProviders,query:this.props.query,limit:30})},n.render=function(){var e=this.props,t=(e.dispatchFetchSearchPage,e.dispatchClearSearchPage,wt()(e,["dispatchFetchSearchPage","dispatchClearSearchPage"]));return Rbt(Lbt,t)},t}(_bt),Bbt=Lm(function(){return Object(Iy.createSelector)(Ubt(),Object(Iy.createSelector)(function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},function(e){return e.ui.searchPage.searches},Ubt(),function(e,t,n,r){var i=r[t],a=n[0];if(!n.length)return[];var o=C.a.values(a.hubs).map(function(e){var n=function(e){return{serverEntityID:i.serverEntityID,providerEntityID:t,searchResultEntityID:e}},r=e.metadataResults.map(n),a=e.tagResults.map(n);return Object.assign({},e,{results:[].concat(r,a)})});return[{serverEntityID:e,providerEntityID:t,title:i.title,isSearchPending:a.isSearchPending,isSearchPopulated:a.isSearchPopulated,hubs:o}]}),Py,function(e,t,n){return{availableProviders:e,isSearchCapable:!!Object.keys(e).length,columnAdjustment:n.columnAdjustment,providers:t}})},zbt)(Fbt),Hbt=n(1098),Vbt=n.n(Hbt);function Qbt(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}Qbt.defaultProps={className:Vbt.a.pageHeaderCenter};var Wbt=Qbt,Gbt=n(1099),Ybt=n.n(Gbt),Kbt=Xf.a.createElement;function qbt(e){var t=e.className,n=wt()(e,["className"]);return Kbt(cE,dv()({className:t},n))}qbt.defaultProps={className:Ybt.a.pageHeaderSeparator};var Zbt=qbt,Xbt=Xf.a.createElement,Jbt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onThisServerPress=function(){t.props.onSearchAllChange(!1),t.props.onMenuClose()},t.onAllServersPress=function(){t.props.onSearchAllChange(!0),t.props.onMenuClose()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isSearchAll,n=e.onMenuClose,r=wt()(e,["isSearchAll","onMenuClose"]);return Xbt(zT,dv()({},r,{onMenuClose:n}),hv()(MI,{isSelected:!t,onPress:this.onThisServerPress},void 0,Object(Xn.default)("This Server")),hv()(MI,{isSelected:t,onPress:this.onAllServersPress},void 0,Object(Xn.default)("All Servers")))},t}(Xf.a.Component),$bt=n(1100),eSt=n.n($bt),tSt=Xf.a.Component,nSt=hv()(Zbt,{}),rSt=hv()(B1,{},void 0,hv()(O5e,{})),iSt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSearchMenuButtonPress=function(e){r.setState({isSearchMenuOpen:!r.state.isSearchMenuOpen})},r.onSearchMenuClose=function(){r.setState({isSearchMenuOpen:!1})},r.state={isSearchMenuOpen:!1},r._searchMenuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.isSearchPending,n=e.query,r=e.allowSearchAllServers,i=e.searchAllServers,a=e.onSearchAllChange,o=this.state.isSearchMenuOpen;return hv()(V4e,{},void 0,hv()(_1,{},void 0,Object(Xn.default)("Search"),r?nSt:null,r?hv()(G1,{id:this._searchMenuButtonID,title:i?Object(Xn.default)("All Servers"):Object(Xn.default)("This Server"),hasMenu:!0,isMenuOpen:o,isSelected:!0,onPress:this.onSearchMenuButtonPress}):null,r?hv()(Jbt,{target:this._searchMenuButtonID,isOpen:o,isSearchAll:i,onMenuClose:this.onSearchMenuClose,onSearchAllChange:a}):null),hv()(Wbt,{},void 0,hv()("span",{},void 0,t?Object(Xn.default)('Searching for "{query}"',{query:n}):Object(Xn.default)('Results for "{query}"',{query:n})),t?hv()(ZE.a,{className:eSt.a.spinner,size:qp.SMALL}):null),rSt)},t}(tSt);var aSt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.query,i=e.isSearchPending;return hv()(D1,{metricsPage:Ea,metricsProperties:{singleServer:!0},allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,hv()(iSt,{isSearchPending:i,query:r,allowSearchAllServers:!1}),hv()(Bbt,{serverEntityID:t,providerEntityID:n,query:r}))},oSt=Xf.a.createElement,sSt=Xf.a.Component;var lSt={dispatchChangeQuickSearchSettings:pse,dispatchClearSearchPage:ybt},cSt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:this.props.providerIdentifier,sectionID:null})},n.componentDidUpdate=function(e){this.props.providerIdentifier!==e.providerIdentifier&&this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:this.props.providerIdentifier,sectionID:null})},n.componentWillUnmount=function(){this.props.dispatchClearSearchPage()},n.render=function(){var e=this.props,t=(e.dispatchChangeQuickSearchSettings,e.dispatchClearSearchPage,wt()(e,["dispatchChangeQuickSearchSettings","dispatchClearSearchPage"]));return oSt(aSt,t)},t}(sSt),uSt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.searchPage},function(e){return{isSearchPending:!!C.a.findWhere(e.searches,{isSearchPending:!0})}})},lSt)(cSt),dSt=hv()(W0e,{}),pSt=Rm.extend({component:function(e){var t=e.selectedProviderID,n=e.query,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,cv.a),o=Object(Tr.a)(Er.l,t,a);return hv()(i2e,{metricsContext:i.context},void 0,hv()(eXe,{},void 0,dSt,hv()(Cht,{providerEntityID:o},void 0,hv()(uSt,{providerEntityID:o,serverEntityID:a,providerIdentifier:t,query:n}))))}}),hSt=Xf.a.createElement,fSt=Xf.a.Component;function gSt(){return t9(Object(Iy.createSelector)(function(e,t){return t.serverEntityIDs},My,ek,function(e,t,n){return e.reduce(function(e,r){return t[r].providers.forEach(function(t){var i=n[t];e[t]={serverEntityID:r,identifier:i.identifier,title:i.title}}),e},{})}),function(e){return e})}var vSt={fetchSearchPage:mbt,clearSearchPage:ybt},mSt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){var e=this;Object(No.a)(function(){e._clear(),e._populate()})},n.componentWillReceiveProps=function(e){var t=this,n=e.query!==this.props.query,r=e.availableProviders!==this.props.availableProviders;(n||r)&&Object(No.a)(function(){n&&t._clear(e),t._populate(e)})},n._clear=function(e){void 0===e&&(e=this.props),e.clearSearchPage()},n._populate=function(e){void 0===e&&(e=this.props),e.fetchSearchPage({availableProviders:e.availableProviders,query:e.query,limit:30})},n.render=function(){return hSt(Lbt,this.props)},t}(fSt),ySt=Lm(function(){return Object(Iy.createSelector)(gSt(),Object(Iy.createSelector)(function(e){return e.ui.searchPage.searches},gSt(),function(e,t){var n=e.reduce(function(e,n){var r=n.providerEntityID,i=t[r];if(!i)return e;var a=e[i.identifier];return a||(a=e[i.identifier]={providerEntityID:r,title:i.title,isSearchPending:!1,isSearchPopulated:!1,hubs:{}}),n.isSearchPending&&(a.isSearchPending=!0),n.isSearchPopulated&&(a.isSearchPopulated=!0),n.hubs.forEach(function(e){var t=function(e){return{serverEntityID:i.serverEntityID,providerEntityID:r,searchResultEntityID:e}},n=e.metadataResults.map(t),o=e.tagResults.map(t),s=a.hubs[e.hubIdentifier];s?(s.size+=e.size,s.results=s.results.concat(n,o)):a.hubs[e.hubIdentifier]={hubIdentifier:e.hubIdentifier,size:e.size,type:e.type,title:e.title,results:[].concat(n,o)}}),e},{});return C.a.map(n,function(e){return{providerEntityID:e.providerEntityID,title:e.title,isSearchPending:e.isSearchPending,isSearchPopulated:e.isSearchPopulated,hubs:C.a.values(e.hubs)}})}),Py,function(e,t,n){return{availableProviders:e,isSearchCapable:!!Object.keys(e).length,searchAllServers:n.searchAllServers,columnAdjustment:n.columnAdjustment,providers:t}})},vSt)(mSt);var bSt=function(e){var t=e.serverEntityIDs,n=e.query,r=e.isSearchPending,i=e.searchAllServers,a=e.onSearchAllChange;return hv()(D1,{metricsPage:Ea,metricsProperties:{singleServer:!i},allowBackgroundLightPreset:!0,scrollDirection:Zp},void 0,hv()(iSt,{isSearchPending:r,query:n,allowSearchAllServers:!0,searchAllServers:i,onSearchAllChange:a}),hv()(ySt,{serverEntityIDs:t,query:n}))},SSt=Xf.a.createElement,ISt=Xf.a.Component;function CSt(){return KS(Object(Iy.createSelector)(function(e){return e.servers},function(e,t){return t.serverEntityID},My,Py,function(e,t,n,r){var i=r.searchAllServers;return e.reduce(function(e,r){if(r!==t&&!i)return e;var a=n[r];return C.a.isMatch(a,{isConnected:!0,isFullServer:!0})?e.concat(r):e},[])}),function(e){return e})}var MSt={populateSearchProviders:vbt,clearSearchPage:ybt,saveExperienceSettings:Wo},DSt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onSearchAllChange=function(e){Object(No.a)(function(){t.props.saveExperienceSettings({searchAllServers:e})})},t}Sy()(t,e);var n=t.prototype;return n.componentWillMount=function(){this._populate()},n.componentWillReceiveProps=function(e){e.serverEntityIDs!==this.props.serverEntityIDs&&this._populate(e)},n.componentWillUnmount=function(){this.props.clearSearchPage()},n._populate=function(e){void 0===e&&(e=this.props),Object(No.a)(function(){e.populateSearchProviders(e.serverEntityIDs)})},n.render=function(){return SSt(bSt,dv()({},this.props,{onSearchAllChange:this.onSearchAllChange}))},t}(ISt),wSt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.searchPage},CSt(),Py,function(e,t,n){return{serverEntityIDs:t,searchAllServers:n.searchAllServers,isSearchPending:!!C.a.findWhere(e.searches,{isSearchPending:!0})}})},MSt)(DSt),PSt=hv()(W0e,{}),TSt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.query,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t);return hv()(i2e,{metricsContext:i.context},void 0,hv()(eXe,{},void 0,PSt,hv()(R8e,{serverEntityID:a},void 0,hv()(wSt,{serverEntityID:a,query:n}))))}}),ESt=Object(Iy.createSelector)(Cy,function(e){return e.playlistItems}),xSt=Mt("INIT_PLAYLIST_PAGE"),OSt=Mt("INIT_PLAYLIST_ITEM_LIST"),jSt=Mt("FETCH_PLAYLIST"),ASt=Mt("POPULATE_PLAYLIST_ITEM_RANGE"),NSt=Mt("REPOPULATE_PLAYLIST_ITEMS"),kSt=Mt("SELECT_PLAYLIST_ITEM"),LSt=Mt("DESELECT_PLAYLIST_ITEM"),RSt=Mt("MOVE_PLAYLIST_ITEM"),_St=Mt("REMOVE_PLAYLIST_ITEM"),USt=Mt("REMOVE_SELECTED_ITEMS");function zSt(e){var t=e["aria-label"],n=e.className,r=e.style,i={strokeLinejoin:"round",strokeMiterlimit:"1.414",viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-remove-from-playlist-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m560 504h-336v-44.8h336zm0-134.4h-336v-44.8h336zm-464.965-188.478 63.357-63.357 31.679 31.678-63.357 63.357 63.357 63.357-31.679 31.678-63.357-63.356-63.356 63.356-31.679-31.678 63.357-63.357-63.357-63.357 31.679-31.678zm464.965 54.078h-252v-44.8h252zm0-134.4h-336v-44.8h336z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}zSt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var FSt=zSt,BSt=hv()(FSt,{});var HSt=function(e){var t=e.isAlbum,n=e.onRemovePress;return hv()(x1,{tooltip:t?Object(Xn.default)("Remove from Album"):Object(Xn.default)("Remove from Playlist"),tooltipAttachment:s.BOTTOM_RIGHT,onPress:n},void 0,BSt)};var VSt=Lm(function(){return Object(Iy.createSelector)(_fe,function(e){return{isAlbum:e.activeSelectionType===ed.c}})},function(e,t){return{onRemovePress:function(){e(USt())}}})(HSt);var QSt=Object(Iy.createSelector)(Py,function(e){return e.playThemeMusic}),WSt=Object(Iy.createSelector)(Py,function(e){return e.showPrePlayArtwork});function GSt(){return Object(Iy.createSelector)(Qse(),function(e){void 0===e&&(e={});var t=e,n=t.type,r=t.subtype,i=t.skipChildren;if(n===nr.d)return r;if(n===nr.l&&r===$n)return nr.m;var a=i?nr.q(n):nr.p(n);return a&&a.typeString})}var YSt=Xf.a.createElement;function KSt(e,t){var n=t.metricsPage;return YSt(BN,dv()({},e,{page:n}))}KSt.contextTypes={metricsPage:Dp.a.string.isRequired};var qSt=KSt;function ZSt(e,t){switch(e){case nr.k:return Object(Xn.default)("Seasons");case nr.e:return 1===t?Object(Xn.default)("1 Episode"):Object(Xn.default)("{episodeCount} Episodes",{episodeCount:t});case nr.a:return 1===t?Object(Xn.default)("1 Album"):Object(Xn.default)("{albumCount} Albums",{albumCount:t});case nr.m:return 1===t?Object(Xn.default)("1 Track"):Object(Xn.default)("{trackCount} Tracks",{trackCount:t})}}var XSt=n(1101),JSt=n.n(XSt);var $St=function(){return hv()(aHe,{className:JSt.a.bottomDivider})},eIt=n(1102),tIt=n.n(eIt);var nIt=function(){return hv()(aHe,{className:tIt.a.topDivider})},rIt=n(1103),iIt=n.n(rIt),aIt=Xf.a.memo,oIt={height:parseInt(yQ.a.tableRowHeight,10)},sIt=hv()(nIt,{}),lIt=hv()($St,{});var cIt=aIt(function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.title,o=e.index,s=e.className,l=e.metadataItemEntityIDs,c=e.listType,u=CF(e);return hv()("div",{className:s,style:u.style},void 0,hv()(Lwe,{className:iIt.a.header},void 0,hv()(zwe,{},void 0,uwe(a||Object(Xn.default)("Disc {discNumber}",{discNumber:o})))),sIt,l.map(function(e,a){return hv()(Aut,{style:oIt,serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,keyPropName:"metadataItemEntityID",metadataItemEntityID:e,cellIndex:a,listType:c,listContext:Tp,activeSort:"titleSort",showLink:!1,showPlayIndex:!0,showActionsDuration:!0},e)}),lIt)});var uIt=n(410),dIt=n.n(uIt),pIt=hv()(ZE.a,{});var hIt=function(e){var t=e.listType,n=e.isPopulated,r=e.isPending,i=e.error,a=e.size,o=e.children;return n&&a?hv()("div",{className:dIt.a.container,"data-qa-id":"preplayContainer--"+[t]},void 0,o):r?hv()("div",{className:dIt.a.emptyContainer},void 0,pIt):i?hv()("div",{className:dIt.a.emptyMessage},void 0,function(e){switch(e){case nr.k:return Object(Xn.default)("Unable to load seasons");case nr.e:return Object(Xn.default)("Unable to load episodes");case nr.a:return Object(Xn.default)("Unable to load albums");case nr.m:return Object(Xn.default)("Unable to load tracks");case nr.h:return Object(Xn.default)("Unable to load photos");default:return Object(Xn.default)("Unable to load items")}}(t)):hv()("div",{className:dIt.a.emptyMessage},void 0,function(e){switch(e){case nr.k:return Object(Xn.default)("No seasons");case nr.e:return Object(Xn.default)("No episodes");case nr.a:return Object(Xn.default)("No albums");case nr.m:return Object(Xn.default)("No tracks");case nr.h:return Object(Xn.default)("No photos");default:return Object(Xn.default)("No items")}}(t))},fIt=Xf.a.createElement,gIt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onListContainerRef=function(e){r._setOffsetTop(e)},r._hasOffsetChanged=!1,r.state={listOffsetTop:null},r}Sy()(t,e);var n=t.prototype;return n.componentWillUpdate=function(e){this._hasOffsetChanged=e.showArtwork!==this.props.showArtwork||e.contentHeight!==this.props.contentHeight},n._setOffsetTop=function(e){e&&e.offsetTop!==this.state.listOffsetTop&&this.setState({listOffsetTop:e.offsetTop})},n.render=function(){var e=this.props,t=e.children,n=e.scrollTop,r=this.state.listOffsetTop,i=Xf.a.Children.only(t);return fIt("div",{ref:this._hasOffsetChanged?this._setOffsetTop.bind(this):this.onListContainerRef},null!=r?Xf.a.cloneElement(i,{scrollTop:n-r}):null)},t}(Xf.a.Component),vIt=Xf.a.createElement,mIt=Xf.a.Component,yIt=parseInt(yQ.a.tableTitleHeight,10)+19,bIt=parseInt(yQ.a.tableRowHeight,10),SIt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={layout:null,totalSize:0,title:""},r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._updateLayout()},n.componentDidUpdate=function(e){e.discs!==this.props.discs&&this._updateLayout()},n._updateLayout=function(){var e=this.props,t=e.discs,n=e.listType,r=t.reduce(function(e,t){return e+t.metadataItemEntityIDs.length},0),i=1===t.length?ZSt(n,r):"",a=Q8e({getCellHeights:function(){return t.map(function(e){return yIt+e.metadataItemEntityIDs.length*bIt})},overscan:1});this.setState({layout:a,totalSize:r,title:i})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.discs,o=e.listType,s=e.isPopulated,l=e.isPending,c=e.error,u=e.showArtwork,d=e.contentHeight,p=e.scrollTop,h=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","discs","listType","isPopulated","isPending","error","showArtwork","contentHeight","scrollTop"]),f=this.state,g=f.layout,v=f.totalSize,m={serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,title:f.title,listType:o};return hv()(hIt,{listType:o,isPopulated:s,isPending:l,error:c,size:v},void 0,hv()(gIt,{showArtwork:u,contentHeight:d,scrollTop:p},void 0,g?vIt(eF,dv()({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,keyPropName:"index",items:a,size:a.length,listType:o,listContext:Pa,isPopulated:s,isPending:l,error:c,layout:g,cellRenderer:fPe(m,cIt)},h)):null))},t}(mIt);var IIt=Lm(function(){return Object(Iy.createSelector)(Object(Iy.createSelector)(function(e,t){return t.metadataItemEntityIDs},$N,function(e,t){return C.a.compact(e.reduce(function(e,n){var r=t[n],i=r.entityID,a=r.parentIndex,o=void 0===a?1:a,s=e[o];return s?s.metadataItemEntityIDs.push(i):e[o]={index:o,metadataItemEntityIDs:[i]},e},[]))}),function(e){return{discs:e}})})(SIt),CIt=n(1104),MIt=n.n(CIt);var DIt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.width,i=e.height,a=e.url;return hv()(Kk,{className:MIt.a.imageContainer,serverEntityID:t,providerEntityID:n,backgroundPosition:"top center",width:r,height:i,url:a,component:pk})},wIt=n(1105),PIt=n.n(wIt);var TIt=function(e){var t=e.width,n=e.height,r=e.url;return hv()(Nk,{containerClassName:PIt.a.imageContainer,width:t,height:n,src:r,component:pk})},EIt=n(1106),xIt=n.n(EIt);function OIt(e){var t=e.className,n=e.children,r=e.posterWidth;return hv()("div",{className:t,style:{paddingLeft:r+60}},void 0,n)}OIt.defaultProps={className:xIt.a.content};var jIt=OIt,AIt=n(1107),NIt=n.n(AIt),kIt=2*parseInt(yQ.a.pagePadding,10)+40;var LIt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.type,o=e.subtype,s=e.posterType,l=e.pageHeight,c=e.posterWidth,u=e.posterTop,d=e.posterUrl,p=e.showLinkOnly,h=s||a,f=c,g=DL(f,h,o,Tp);return g>l-kIt&&(f=ML(g=l-kIt,h,o,Tp)),hv()("div",{style:{position:"fixed",top:u}},void 0,hv()(oLe,{cardFaceClassName:NIt.a.face,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,subtype:o,imageWidth:f,imageHeight:g,imageUrl:d,showLink:!1,showSelect:!1,showEdit:!1,showMore:!1,showLinkOnly:p}))},RIt=parseInt(yQ.a.pageHeaderHeight,10),_It=246,UIt=290;function zIt(e){var t=e.type,n=e.subtype,r=e.height,i=e.posterWidth,a=e.posterTop,o=e.pageHeight,s=e.scrollTop,l=DL(i,t,n,Tp),c=a+r-s,u=o+RIt-l;return Math.min(Math.max(c,a),u)}function FIt(e){var t,n=e.children,r=e.serverEntityID,i=e.providerEntityID,a=e.metadataItemEntityID,o=e.showPoster,s=e.posterType,l=e.attribution,c=e.metadataKey,u=e.type,d=e.subtype,p=e.thumb,h=e.art,f=e.hero,g=e.pageWidth,v=e.pageHeight,m=e.scrollTop,y=e.posterWidth,b=e.posterTop,S=!!h,I=!S&&!!f,C=b;return S&&(C=zIt({type:u,subtype:d,height:t=Math.min(Math.round(g/IL),v-_It),posterWidth:y,posterTop:b,pageHeight:v,scrollTop:m})),I&&(C=zIt({type:u,subtype:d,height:UIt,posterWidth:y,posterTop:b,pageHeight:v,scrollTop:m})),hv()("div",{},void 0,S?hv()(DIt,{serverEntityID:r,providerEntityID:i,width:g,height:t,url:h}):null,I?hv()(TIt,{width:g,height:UIt,url:f}):null,l?hv()(l,{providerEntityID:i,pageHeight:v,posterTop:b}):null,o?hv()(LIt,{serverEntityID:r,providerEntityID:i,metadataItemEntityID:a,metadataKey:c,type:u,subtype:d,posterType:s,pageHeight:v,posterWidth:y,posterTop:C,posterUrl:p}):null,o?hv()(jIt,{posterWidth:y},void 0,n):hv()("div",{},void 0,n))}FIt.defaultProps={showPoster:!0};var BIt=FIt;var HIt=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),function(e,t,n,r){return void 0===r&&(r={}),{server:e,provider:t,sourceDirectory:n,type:r.type,Genre:r.Genre}})})(cWe),VIt=n(1108),QIt=n.n(VIt);function WIt(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}WIt.defaultProps={className:QIt.a.innerContent};var GIt=WIt,YIt=n(667),KIt=n.n(YIt);var qIt=(0,Xf.a.memo)(function(e){var t=e.listType,n=e.serverEntityID,r=e.providerEntityID,i=e.server,a=e.provider,o=e.sourceDirectory,s=e.titleComponents,l=e.thumb,c=e.id,u=e.tag,d=e.role,p=e.filter,h=e.cellWidth,f=CF(e),g=nj(i,a,o,{filters:p||"actor="+c,filterLabel:u});return hv()("div",{style:f.style},void 0,hv()(RS,{className:KIt.a.cardLink,to:g},void 0,hv()(tme,{serverEntityID:n,providerEntityID:r,imageWidth:h,imageHeight:h,imageUrl:l,title:u,tag:u,tagType:t})),hv()("div",{className:KIt.a.titleContainer},void 0,s.map(function(e,t){return hv()(NTe,{server:i,provider:a,sourceDirectory:o,tag:u,role:d,filter:p,component:e,isSecondary:t>0},t)})))}),ZIt=n(1109),XIt=n.n(ZIt),JIt=Xf.a.createElement;function $It(e){var t=e.listType,n=e.listSubtype,r=e.listContext,i=e.serverEntityID,a=e.providerEntityID,o=e.server,s=e.provider,l=e.sourceDirectory,c=e.roles,u=e.isEmbeddedServer;if(!c||u)return null;var d,p=tOe(t,r);return hv()("div",{className:XIt.a.castList},void 0,hv()(Wwe,{hubIdentifier:"cast",title:Object(Xn.default)("Cast"),size:c.length,listType:t,listContext:r,columnAdjustment:1,keyPropName:"uniqueID",items:c.map(function(e){return Object.assign({},e,{uniqueID:e.id+"!"+e.role})}),layout:tBe(t,n,r,1,p.length),cellRenderer:(d={listType:t,listContext:r,serverEntityID:i,providerEntityID:a,server:o,provider:s,sourceDirectory:l,titleComponents:p},function(e){return JIt(qIt,dv()({},d,e))})}))}$It.defaultProps={listType:"actor",listContext:Tp};var eCt=$It;var tCt=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),g8e(),function(e,t,n,r,i){return{server:e,provider:t,sourceDirectory:n,roles:r.Role,isEmbeddedServer:i}})})(eCt);function nCt(){return Object(Iy.createSelector)(xse,Qse(),function(e,t){var n=e&&e.features.content;if(!t||!n)return null;if(e.protocols[qn.a])return n.directories.find(function(e){return e.hubKey&&!e.key});var r=t.librarySectionKey,i=t.librarySectionID;return t.isPlaylist?n.directories.find(function(e){return e.type===on}):r||i?n.directories.find(function(e){return e.id?e.id===i:!!e.key&&e.key===r}):void 0})}var rCt=n(668),iCt=n.n(rCt),aCt=hv()(ZE.a,{});var oCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.hubEntityIDs,i=e.sourceDirectory,a=e.showSpinner;return e.isEmbeddedServer?null:a?hv()("div",{className:iCt.a.spinnerContainer},void 0,aCt):hv()(XBe,{className:iCt.a.relatedList,serverEntityID:t,providerEntityID:n,hubEntityIDs:r,sourceDirectory:i,listContext:Tp,columnAdjustment:1})};var sCt=Lm(function(){return Object(Iy.createSelector)(g8e(),nCt(),function(e){return e.ui.prePlayPage},function(e,t,n){var r=n.relatedHubs,i=n.isRelatedHubsPending;return{isEmbeddedServer:e,sourceDirectory:t,hubEntityIDs:r,showSpinner:!r.length&&i}})})(oCt),lCt=n(524),cCt=n.n(lCt);var uCt=function(e){var t=e.attribution,n=e.title;return hv()(zUe,{className:cCt.a.container},void 0,t?hv()(wk,{className:cCt.a.attribution,attribution:t}):null,hv()("div",{className:cCt.a.title},void 0,n))},dCt=Xf.a.Component,pCt=hv()(aHe,{}),hCt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.attribution,s=e.title,l=e.type,c=e.year,u=e.summary,d=e.thumb,p=e.art,h=e.listType,f=e.listStyle,g=e.isListReady,v=e.pageWidth,m=e.pageHeight,y=e.scrollTop,b=e.posterWidth,S=e.posterTop,I=this.state,C=I.isContentMeasured,M=I.contentWidth,D=I.contentHeight,w=!!p,P=!(!C||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:a,type:l,thumb:d,art:p,pageWidth:v,pageHeight:m,scrollTop:y,posterWidth:b,posterTop:S},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(Kge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(XUe,{},void 0,hv()(uCt,{attribution:o,title:s}),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(tze,{},void 0,hv()(zUe,{},void 0,c),hv()(YUe,{},void 0,hv()(HIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})))),pCt,u?hv()(tHe,{},void 0,hv()(mHe,{},void 0,u)):null),hv()(GIt,{},void 0,P?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,initialSize:1/0,listType:h,listStyle:f,showArtwork:w,component:IIt,viewportWidth:M,viewportHeight:m,contentHeight:D,scrollTop:y}):null,g?hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(dCt);var fCt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.prePlayPage},function(e){var t=e.augmentedHubs,n=e.isAugmentedHubsPending;return t?{hubEntityIDs:t,showSpinner:!t.length&&n}:{hubEntityIDs:[],showSpinner:!1}})})(oCt),gCt=n(125),vCt=n.n(gCt),mCt=Xf.a.useCallback,yCt=Xf.a.useState;var bCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.cellIndex,a=e.metadataKey,o=e.route,s=e.title,l=e.type,c=e.summary,u=e.showRecord,d=e.hasSingleSubscription,p=CF(e),h=yCt(!1),f=h[0],g=h[1],v=mCt(function(e){g(!0)},[]),m=mCt(function(){g(!1)},[]);return a?hv()("div",{className:i%2?vCt.a.alternateItem:vCt.a.item,style:p.style},void 0,hv()(RS,{className:vCt.a.underlay,to:o}),hv()("div",{className:vCt.a.overlay},void 0,hv()("div",{className:vCt.a.primaryTitle},void 0,hv()(FEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()("div",{className:vCt.a.secondaryTitle},void 0,d?hv()(WAe,{className:vCt.a.subscriptionIcon,"aria-label":Object(Xn.default)("Recording Scheduled")}):null,hv()(dEe,{className:vCt.a.nextAiringDate,metadataItemEntityID:r,showFullTime:!0}),c?hv()(cE,{className:vCt.a.separator}):null,c)),u?hv()(Lve,{className:vCt.a.recordButton,tabIndex:"-1",title:s,onPress:v}):null,hv()(RNe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,isOpen:f,subscriptionType:l,onModalClose:m})):hv()("div",{className:i%2?vCt.a.alternateLoadingItem:vCt.a.loadingItem,style:p.style},void 0,Object(Xn.default)("Loading..."))},SCt=Xf.a.createElement;var ICt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};return e&&(i.context=e),{metadataKey:r.key,title:r.title,type:r.type,summary:r.summary,route:Og(t,n,r.key,i),showRecord:!!n.features.subscribe,hasSingleSubscription:!!r.subscriptionID}})})(function(e){return SCt(bCt,e)}),CCt=Xf.a.createElement,MCt=Xf.a.Component,DCt=P2(96),wCt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).renderCell=function(e){return CCt(ICt,dv()({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,metadataListEntityID:t.props.metadataListEntityID},e))},t}return Sy()(t,e),t.prototype.render=function(){return CCt(eF,dv()({layout:DCt,cellRenderer:this.renderCell},this.props))},t}(MCt),PCt=Xf.a.createElement;var TCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.listType,o=e.listContext,s=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return PCt(eF,dv()({layout:Uct,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a,listContext:o},Zct)},s))},ECt=Xf.a.createElement,xCt=Xf.a.Component,OCt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).state={layout:r._createLayout(t)},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.props.aspectRatios!==e.aspectRatios,n=this.props.viewportWidth!==e.viewportWidth,r=this.props.columnAdjustment!==e.columnAdjustment;(t||n||r)&&this.setState({layout:this._createLayout(e)})},n._createLayout=function(e){void 0===e&&(e=this.props);var t=e,n=t.viewportWidth,r=t.columnAdjustment,i=t.aspectRatios,a=Math.ceil(n/400),o=Math.max(1,a+r);return Kht({columns:o,rows:Xht({aspectRatios:i,columns:o})})},n.render=function(){if(!this.state)return null;var e=this.props,t=e.cellRenderer,n=wt()(e,["cellRenderer"]),r=this.state.layout;return ECt(eF,dv()({layout:r,cellRenderer:t},n))},t}(xCt);OCt.defaultProps={columnAdjustment:0};var jCt=OCt;var ACt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.items},function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},function(e,t){return t.metadataListEntityID},function(e,t){return t.containerKey},function(e,t){return t.listType},$N,function(e,t,n,r,i,a,o){return void 0===e&&(e=[]),{listType:a,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a},Yht),aspectRatios:e.map(function(e){return Bht(o[e])})}})})(jCt),NCt=Xf.a.createElement;var kCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.listType,o=e.listSubtype,s=e.listContext,l=e.columnAdjustment,c=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listSubtype","listContext","columnAdjustment"]),u=tOe(a,s,{providerEntityID:n});return NCt(eF,dv()({layout:Lct(a,o,s,l,u.length),cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a,listContext:s,titleComponents:u},UBe)},c))},LCt=Xf.a.createElement;var RCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.listType,o=e.listContext,s=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]);return LCt(eF,dv()({layout:$ct,cellRenderer:fPe({serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a,listContext:o},gut)},s))},_Ct=Xf.a.createElement;var UCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.containerKey,a=e.listType,o=e.listContext,s=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","containerKey","listType","listContext"]),l={serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:i,listType:a,listContext:o,activeSort:"titleSort"};return"episode"===a&&(l.showPlayIndex=!0,l.showActionsMinutesLeft=!0),"track"===a&&(l.showLink=!1,l.showPlayIndex=!0,l.showActionsDuration=!0),_Ct(eF,dv()({layout:trt,cellRenderer:fPe(l,Aut)},s))},zCt=n(669),FCt=n.n(zCt);var BCt=hv()(nIt,{}),HCt=hv()($St,{});var VCt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.metadataItemEntityIDs,a=e.containerKey,o=e.listType,s=e.listStyle,l=e.populatedRange,c=e.isPopulated,u=e.isPending,d=e.error,p=e.listTitle,h=e.titleButtonTitle,f=e.titleButtonRoute,g=e.totalSize,v=e.previewSize,m=e.showArtwork,y=e.viewportWidth,b=e.viewportHeight,S=e.contentHeight,I=e.scrollTop,C=e.columnAdjustment,M=e.onPageRequest,D=g||i.length,w=null!=v&&D>v?v:D,P=null!=v&&D>v,T=function(e){switch(e){case fh:return ACt;case gh:return UCt;case mh:return RCt;case yh:return wCt;case vh:return TCt;default:return kCt}}(s),E=p||ZSt(o,D),x=s===gh||s===mh||s===vh||s===yh;return hv()(hIt,{listType:o,isPopulated:c,isPending:u,error:d,size:w},void 0,E?hv()(Lwe,{className:FCt.a.descendantHubCellHeader},void 0,hv()(zwe,{},void 0,uwe(E)),P||null!=h?hv()(RS,{className:FCt.a.titleButton,to:f},void 0,uwe(h||Object(Xn.default)("See all"))):null):null,x?BCt:null,hv()(gIt,{showArtwork:m,contentHeight:S,scrollTop:I},void 0,hv()(T,{serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:a,listType:o,listContext:Tp,keyPropName:"metadataItemEntityID",items:i,itemsOffset:l.start,size:w,viewportWidth:y,viewportHeight:b,columnAdjustment:C,onPageRequest:M})),x?HCt:null)},QCt=n(1110),WCt=n.n(QCt),GCt=Xf.a.createElement;function YCt(e){return GCt(FBe,dv()({className:WCt.a.extrasHubCell,hubIdentifier:"extras"},e))}YCt.defaultProps={listType:"extra",listContext:Tp,columnAdjustment:1};var KCt=YCt;var qCt=Lm(function(){return Object(Iy.createSelector)(xse,Qse(),Whe(),function(e,t,n){void 0===t&&(t={});var r=n.metadataItems.length,i=1===r&&!!t.primaryExtraKey;return{metadataItemEntityIDs:n.metadataItems,containerKey:n.containerKey,size:i?0:r,populatedRange:n.populatedRange}})})(KCt),ZCt=n(1111),XCt=n.n(ZCt),JCt=n(239),$Ct=n.n(JCt);var eMt=function(e){var t=e.at,n=e.city,r=e.country,i=e.tag,a=e.url,o=e.venue,s=Object(rE.a)(t),l=Object(tl.a)(s,"dd"),c=Object(tl.a)(s,"MMM");return hv()(RS,{className:$Ct.a.concert,target:"_blank",to:a},void 0,hv()("div",{className:$Ct.a.concertCalendar},void 0,hv()("div",{className:$Ct.a.concertMonth},void 0,c),hv()("div",{className:$Ct.a.concertDay},void 0,l)),hv()("div",{className:$Ct.a.concertDetails},void 0,hv()("div",{className:$Ct.a.concertTitle},void 0,i),hv()("div",{className:$Ct.a.concertLocation},void 0,o," (",n,", ",r,")")))},tMt=n(670),nMt=n.n(tMt),rMt=Xf.a.createElement;var iMt=function(e){var t=e.concerts;if(!t||!t.length)return null;var n=uwe(Object(Xn.default)("On Tour"));return hv()("div",{className:nMt.a.concerts},void 0,hv()(Lwe,{},void 0,hv()(zwe,{},void 0,n,hv()("img",{className:nMt.a.concertsLogo,src:XCt.a}))),t.map(function(e){return rMt(eMt,dv()({key:e.id},e))}))};var aMt=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{concerts:e.concerts}})})(iMt);var oMt=function(e){var t=e.server,n=e.provider,r=e.sourceDirectory,i=e.Country,a=e.Genre,o=!(!i||!i.length),s=!(!a||!a.length);return o||s?hv()(tze,{},void 0,o?hv()(zUe,{},void 0,hv()(wHe,{server:t,provider:n,sourceDirectory:r,fallbackFilterKey:"country",tags:i,limit:1})):null,s?hv()(YUe,{},void 0,hv()(cWe,{server:t,provider:n,sourceDirectory:r,Genre:a})):null):null};var sMt=Lm(function(){return Object(Iy.createSelector)(XS,xse,IHe(),Qse(),function(e,t,n,r){return void 0===r&&(r={}),{server:e,provider:t,sourceDirectory:n,Country:r.Country,Genre:r.Genre}})})(oMt),lMt=n(1112),cMt=n.n(lMt),uMt=Xf.a.createElement,dMt=hv()(nIt,{}),pMt=hv()($St,{});var hMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataListEntityID,i=e.metadataItemEntityIDs,a=e.containerKey,o=e.showArtwork,s=e.contentHeight,l=e.scrollTop,c=wt()(e,["serverEntityID","providerEntityID","metadataListEntityID","metadataItemEntityIDs","containerKey","showArtwork","contentHeight","scrollTop"]);if(!i||!i.length)return null;var u=uwe(Object(Xn.default)("Popular Tracks")),d={serverEntityID:t,providerEntityID:n,metadataListEntityID:r,containerKey:a,listType:"track",listContext:Tp,activeSort:"titleSort",showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0};return hv()("div",{className:cMt.a.popularTracksHubCell,"data-qa-id":"hub--popularTracks"},void 0,hv()(tHe,{},void 0,hv()(zwe,{},void 0,u)),dMt,hv()(gIt,{showArtwork:o,contentHeight:s,scrollTop:l},void 0,uMt(eF,dv()({layout:trt,cellRenderer:fPe(d,Aut),items:i,size:Math.min(i.length,5),keyPropName:"metadataItemEntityID"},c))),pMt)},fMt=Xf.a.Component,gMt=hv()(aHe,{}),vMt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.extrasMetadataListEntityID,o=e.popularLeavesMetadataListEntityID,s=e.metadataKey,l=e.attribution,c=e.title,u=e.type,d=e.summary,p=e.thumb,h=e.art,f=e.listType,g=e.listStyle,v=e.isListReady,m=e.pageWidth,y=e.pageHeight,b=e.scrollTop,S=e.posterWidth,I=e.posterTop,C=this.state,M=C.isContentMeasured,D=C.contentWidth,w=C.contentHeight,P=!(!M||!o),T=!(!M||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:s,type:u,thumb:p,art:h,pageWidth:m,pageHeight:y,scrollTop:b,posterWidth:S,posterTop:I},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(uCt,{attribution:l,title:c}),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(sMt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),gMt,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(mHe,{},void 0,d))),hv()(GIt,{},void 0,P?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:o,component:hMt,showArtwork:!!h,viewportWidth:D,viewportHeight:y,contentHeight:w,scrollTop:b,listStyle:g}):null,T?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:f,listStyle:g,component:VCt,initialSize:20,showArtwork:!!h,viewportWidth:D,viewportHeight:y,contentHeight:w,scrollTop:b}):null,v?hv()(tHe,{},void 0,a?hv()(qCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:a,title:Object(Xn.default)("Music Videos")}):null,hv()(aMt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(fCt,{serverEntityID:t,providerEntityID:n})):null))},t}(fMt),mMt=Xf.a.Component,yMt=hv()(aHe,{}),bMt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.title,s=e.minYear,l=e.maxYear,c=e.type,u=e.summary,d=e.thumb,p=e.art,h=e.listType,f=e.listStyle,g=e.isListReady,v=e.pageWidth,m=e.pageHeight,y=e.scrollTop,b=e.posterWidth,S=e.posterTop,I=this.state,C=I.isContentMeasured,M=I.contentWidth,D=I.contentHeight,w=!(!s||!l||s===l),P=!(!l||s!==l),T=!(!C||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:a,type:c,thumb:d,art:p,pageWidth:v,pageHeight:m,scrollTop:y,posterWidth:b,posterTop:S},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,o)),hv()(XUe,{},void 0,w||P?hv()(zUe,{},void 0,w?s+"  "+l:l):null,hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),yMt,u?hv()(tHe,{},void 0,hv()(mHe,{},void 0,u)):null),hv()(GIt,{},void 0,T?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:h,listStyle:f,component:VCt,initialSize:20,showArtwork:!!p,viewportWidth:M,viewportHeight:m,contentHeight:D,scrollTop:y}):null,g?hv()(tHe,{},void 0,hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(mMt),SMt=n(671),IMt=n.n(SMt),CMt=parseInt(yQ.a.pagePadding,10),MMt=parseInt(IMt.a.defaultFontSize,10),DMt=parseFloat(IMt.a.lineHeightComputed,10);var wMt=function(e){var t=e.posterTop,n=e.pageHeight,r=e.providerEntityID,i=t+n-2*CMt-DMt*MMt;return hv()(q8e,{style:{position:"fixed",top:i},providerEntityID:r})};var PMt=Lm(function(){return Object(Iy.createSelector)(PTe(),function(e){return{mediaItem:e}})})(Cgt);Xf.a.createElement;var TMt=Lm(function(){return Object(Iy.createSelector)(TTe,PTe(),QTe(),function(e,t,n){return{beginsAt:t&&t.beginsAt,endsAt:t&&t.endsAt,channel:n&&n.tag,timeFormat:e}})})(Mgt),EMt=n(525),xMt=n.n(EMt),OMt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onRecordPress=function(e){r.setState({isSubscribeModalOpen:!0})},r.onSubscribeModalClose=function(){r.setState({isSubscribeModalOpen:!1})},r.state={isSubscribeModalOpen:t.isSubscribeModalOpen},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.type,a=e.isSubscribed,o=e.subscriptionType,s=e.grandparentSubscriptionType,l=this.state.isSubscribeModalOpen;return hv()(I_,{"data-qa-id":"preplayRecordButton",className:xMt.a.recordButton,size:qp.SMALL,onPress:this.onRecordPress},void 0,hv()(GAe,{className:a?xMt.a.recordingIcon:xMt.a.recordIcon,type:s||o||i}),a?Object(Xn.default)("Recording Scheduled"):Object(Xn.default)("Record"),hv()(RNe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,isOpen:l,subscriptionType:i,onModalClose:this.onSubscribeModalClose}))},t}(Xf.a.Component);OMt.defaultProps={isSubscribeModalOpen:!1};var jMt=OMt,AMt=n(1113),NMt=n.n(AMt);var kMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.type,a=e.duration,o=e.isSubscribed,s=e.subscriptionType,l=e.grandparentSubscriptionType,c=e.showRecord,u=e.record;return hv()(zUe,{},void 0,hv()(KEe,{className:NMt.a.duration,duration:a}),hv()(zQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),c?hv()(jMt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:i,isSubscribed:o,subscriptionType:s,grandparentSubscriptionType:l,isSubscribeModalOpen:u}):null)};var LMt=Lm(function(){return Object(Iy.createSelector)(xse,Qse(),function(e,t){return void 0===t&&(t={}),{type:t.type,duration:t.duration,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}})})(kMt),RMt=hv()(aHe,{});var _Mt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.type,o=e.summary,s=e.grandparentThumb,l=e.art,c=e.pageWidth,u=e.pageHeight,d=e.scrollTop,p=e.posterWidth,h=e.posterTop,f=e.record;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,posterType:"show",attribution:wMt,metadataKey:i,type:a,thumb:s,art:l,pageWidth:c,pageHeight:u,scrollTop:d,posterWidth:p,posterTop:h},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,hv()(Gge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),hv()(XUe,{},void 0,hv()(zUe,{},void 0,hv()(FEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),hv()(tze,{},void 0,hv()(LMt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,record:f}),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),RMt,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(PMt,{metadataItemEntityID:r},void 0,hv()(TMt,{metadataItemEntityID:r,showFullTime:!0,showChannel:!0})),hv()(mHe,{},void 0,o),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n})))))};var UMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.type,o=e.summary,s=e.thumb,l=e.art,c=e.pageWidth,u=e.pageHeight,d=e.scrollTop,p=e.posterWidth,h=e.posterTop;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,thumb:s,art:l,pageWidth:c,pageHeight:u,scrollTop:d,posterWidth:p,posterTop:h},void 0,hv()(aWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,type:a,summary:o}),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n}))))};var zMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.type,o=e.subtype,s=e.summary,l=e.thumb,c=e.art,u=e.pageWidth,d=e.pageHeight,p=e.scrollTop,h=e.posterWidth,f=e.posterTop;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,subtype:o,thumb:l,art:c,pageWidth:u,pageHeight:d,scrollTop:p,posterWidth:h,posterTop:f},void 0,hv()(lWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,summary:s}),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(sCt,{serverEntityID:t,providerEntityID:n}))))};var FMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.type,o=e.subtype,s=e.summary,l=e.thumb,c=e.art,u=e.pageWidth,d=e.pageHeight,p=e.scrollTop,h=e.posterWidth,f=e.posterTop;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:i,type:a,subtype:o,thumb:l,art:c,pageWidth:u,pageHeight:d,scrollTop:p,posterWidth:h,posterTop:f},void 0,hv()(lWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,summary:s}),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(sCt,{serverEntityID:t,providerEntityID:n}))))},BMt=hv()(aHe,{});var HMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.title,o=e.type,s=e.year,l=e.summary,c=e.thumb,u=e.art,d=e.pageWidth,p=e.pageHeight,h=e.scrollTop,f=e.posterWidth,g=e.posterTop,v=e.record;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,attribution:wMt,metadataKey:i,type:o,thumb:c,art:u,pageWidth:d,pageHeight:p,scrollTop:h,posterWidth:f,posterTop:g},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,a)),hv()(XUe,{},void 0,hv()(zUe,{},void 0,s)),hv()(tze,{},void 0,hv()(LMt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,record:v}),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),BMt,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(PMt,{metadataItemEntityID:r},void 0,hv()(TMt,{metadataItemEntityID:r,showFullTime:!0,showChannel:!0})),hv()(mHe,{},void 0,l),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n})))))};var VMt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.extrasMetadataListEntityID,a=e.metadataKey,o=e.title,s=e.type,l=e.year,c=e.summary,u=e.thumb,d=e.art,p=e.pageWidth,h=e.pageHeight,f=e.posterWidth,g=e.posterTop,v=e.scrollTop;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:a,type:s,thumb:u,art:d,pageWidth:p,pageHeight:h,scrollTop:v,posterWidth:f,posterTop:g},void 0,hv()(gWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,extrasMetadataListEntityID:i,title:o,year:l,summary:c}),hv()(GIt,{},void 0,hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),i?hv()(qCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,title:Object(Xn.default)("Extras")}):null,hv()(sCt,{serverEntityID:t,providerEntityID:n}))))},QMt=Xf.a.Component,WMt=hv()(aHe,{}),GMt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.title,s=e.type,l=e.summary,c=e.art,u=e.listType,d=e.listStyle,p=e.pageWidth,h=e.pageHeight,f=e.scrollTop,g=this.state,v=g.isContentMeasured,m=g.contentWidth,y=g.contentHeight,b=!(!v||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showPoster:!1,metadataKey:a,type:s,art:c,pageWidth:p,pageHeight:h,scrollTop:f},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,o),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),WMt,l?hv()(tHe,{},void 0,hv()(mHe,{},void 0,l)):null),hv()(GIt,{},void 0,b?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:u,listStyle:d,component:VCt,initialSize:1e3,showArtwork:!!c,viewportWidth:m,viewportHeight:h,contentHeight:y,scrollTop:f}):null))},t}(QMt),YMt=P2(parseInt(yQ.a.playQueueItemHeight,10));function KMt(){return Object(Iy.createSelector)(function(e,t){return t.playlistItemEntityID},ESt,function(e,t){return t[e]})}function qMt(){return Object(Iy.createSelector)(KMt(),$N,function(e,t){return t[e.metadataItem]})}var ZMt=n(126),XMt=n.n(ZMt);function JMt(e){var t=e.className,n=e.indexContainerClassName,r=e.titlesContainerClassName,i=e.sourceTextClassName,a=e.durationContainerClassName,o=e.attributionContainerClassName,s=e.serverEntityID,l=e.providerEntityID,c=e.metadataItemEntityID,u=e.cellIndex,d=e.type,p=e.subtype,h=e.title,f=e.duration,g=e.context,v=e.imageWidth,m=e.imageHeight,y=e.imageUrl,b=e.isPlaying,S=e.isPlayerPaused,I=e.hasOfflineFile,C=e.hasOwnSubscription,M=e.showAvailableOffline,D=e.source,w=e.ratingKey,P=e.onPlayPress,T=tOe(d,g,{providerEntityID:l,subtype:p});return hv()("div",{className:t},void 0,hv()("div",{className:n},void 0,b?null:hv()(eut,{className:XMt.a.transientTitleLeft,index:u+1}),b?null:hv()(Pve,{className:XMt.a.playButton,title:h,onPress:P}),b?hv()(Yze,{className:XMt.a.equalizer,isPaused:S}):null),hv()("div",{className:XMt.a.cardContainer},void 0,hv()(rge,{className:XMt.a.card,serverEntityID:s,providerEntityID:l,component:yL,width:v,height:m,url:y},c)),hv()("div",{className:r,"data-qa-id":"playlistTitleContainer"},void 0,T.map(function(e,t){return hv()(NTe,{serverEntityID:s,providerEntityID:l,metadataItemEntityID:c,component:e,isSecondary:t>0},t)})),M?hv()("div",{className:o},void 0,hv()(yke,{className:XMt.a.downloadIcon,size:16,arrowSize:16,lineWidth:1.5,source:D,ratingKey:w,hasOfflineFile:I,hasOwnSubscription:C})):null,M?hv()(kpe,{metadataItemEntityID:c,providerEntityID:l}):null,hv()(nFe,{className:o,textClassName:i,serverEntityID:s,metadataItemEntityID:c}),f?hv()("div",{className:a},void 0,hv()(Tot,{className:XMt.a.transientTitleRight,duration:f})):null)}JMt.defaultProps={className:XMt.a.container,indexContainerClassName:XMt.a.indexContainer,titlesContainerClassName:XMt.a.titlesContainer,durationContainerClassName:XMt.a.durationContainer,attributionContainerClassName:XMt.a.attributionContainer};var $Mt=JMt,eDt=64,tDt=36;var nDt=iZ(function(){return Object(Iy.createSelector)(Qse(),Ppe(),Bct(),function(e){return e.ui.audioVideoPlayer.isPaused},function(e,t,n,r){void 0===e&&(e={});var i=Ep,a=Gde(CL(e.type,e.subtype,i)===IL?eDt:tDt,null,e.type,e.subtype,e,i),o=!(!e.ratingKey||!t)&&te.a.get("allowSyncDownload");return{serverEntityID:e.serverEntityID,providerEntityID:e.providerEntityID,type:e.type,subtype:e.subtype,metadataKey:e.key,duration:e.duration,ratingKey:e.ratingKey,context:i,imageWidth:a.width,imageHeight:a.height,imageUrl:a.url,isPlaying:n,isPlayerPaused:r,source:t,title:e.title,hasOfflineFile:Lpe(e),hasOwnSubscription:Rpe(e),showAvailableOffline:o}})},function(e,t){return{onPlayPress:function(){e(Ire({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,playlistMetadataItemEntityID:t.metadataListEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage}))}}})($Mt),rDt=n(84),iDt=n.n(rDt),aDt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onActionsMenuOpenChange=function(e){r.setState({isActionsMenuOpen:e})},r.state={isActionsMenuOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.itemServerEntityID,r=e.providerEntityID,i=e.itemProviderEntityID,o=e.metadataItemEntityID,s=e.metadataListEntityID,l=e.metadataKey,c=e.listType,u=e.title,d=e.isSmart,p=e.isReadOnly,h=e.isSelected,f=e.isEmbeddedServer,g=e.hasActiveSelection,v=e.isOtherItemSelected,m=e.isModifierKeyPressed,y=e.cellIndex,b=e.isDragging,S=e.connectDragSource,I=e.onRemovePress,C=e.onSelectPress,M=e.onDeselectPress,D=!(d||p||f),w=D&&(m||v),P=g?"-1":"0";return hv()("div",{className:((y%2?iDt.a.alternateContainer:iDt.a.container)||"")+" "+(g&&iDt.a.hasActiveSelection||"")+" "+(w&&iDt.a.isForcingSelection||"")+" "+(h&&iDt.a.isSelected||"")+" "+(b&&iDt.a.isItemDragging||"")},void 0,D?hv()(RS,{className:iDt.a.underlay,"aria-label":h?Object(Xn.default)("Deselect {title}",{title:u}):Object(Xn.default)("Select {title}",{title:u}),tabIndex:g?"0":"-1",onPress:h?M:C}):null,hv()("div",{className:iDt.a.overlay,"data-qa-id":"playlistItem"},void 0,D?S(hv()("div",{className:iDt.a.moveControl,"data-qa-id":"playlistReorderItem"},void 0,hv()(qze,{className:iDt.a.grabIcon}))):null,hv()(nDt,{className:iDt.a.metadataContainer,sourceTextClassName:iDt.a.sourceText,durationContainerClassName:iDt.a.metadataDurationContainer,attributionContainerClassName:iDt.a.attributionContainer,serverEntityID:t,itemServerEntityID:n,providerEntityID:r,itemProviderEntityID:i,metadataItemEntityID:o,metadataListEntityID:s,metadataKey:l,listType:c,cellIndex:y}),hv()("div",{className:iDt.a.otherControls},void 0,D?hv()(eQ,{className:iDt.a.selectButton,title:u,isSelected:h,onPress:h?M:C}):null,hv()(Vge,{"data-qa-id":"metadataRowMoreButton",className:iDt.a.moreButton,tabIndex:P,serverEntityID:t,itemServerEntityID:n,providerEntityID:r,itemProviderEntityID:i,metadataItemEntityID:o,containerKey:l,listType:c,showPlay:!1,showQueuePlexMix:!1,showEdit:!1,isMenuOpen:this.state.isActionsMenuOpen,onMenuOpenChange:this.onActionsMenuOpenChange}),D?hv()(Kz,{className:iDt.a.removeButton,"data-qa-id":"playlistRemoveButton",iconComponent:US,title:Object(Xn.default)("Remove"),kind:a.DANGER,onPress:I}):null)))},t}(Xf.a.Component);aDt.defaultProps={isDragging:!1,connectDragSource:function(e){return e}};var oDt=aDt;var sDt=Lm(function(e,t){return Object(Iy.createSelector)(function(e,t){return t.playlistItemEntityID},KMt(),qMt(),g8e(),DBe,_fe,function(e,t,n,r,i,a){var o=t.playlistItemID;return{itemServerEntityID:n.serverEntityID,itemProviderEntityID:n.providerEntityID,metadataItemEntityID:n.entityID,metadataKey:n.key,title:n.title,selectionID:e,selectionType:n.type,activeSelectionType:a.activeSelectionType,isSelected:PBe(i,o),isEmbeddedServer:r}})},function(e,t){var n={playlistItemEntityID:t.playlistItemEntityID};return{onSelectItem:function(t){e(kSt(t))},onDeselectItem:function(t){e(LSt(t))},onRemovePress:function(){e(_St(n))}}})(nke(oDt)),lDt=n(1114),cDt=n.n(lDt),uDt=Xf.a.createElement;var dDt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.item,n=e.itemType,r=e.currentOffset;if(!r||"PLAYLIST_ITEM"!==n)return null;var i=TXe(r,t.viewportWidth);return hv()(Rze,{},void 0,hv()("div",{className:cDt.a.dragPreview,style:i},void 0,uDt(sDt,dv()({isDragging:!0},t))))},t}(Xf.a.Component),pDt=Object(Dze.DragLayer)(function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getSourceClientOffset()}})(dDt),hDt=n(1115),fDt=n.n(hDt),gDt=Xf.a.createElement,vDt={hover:function(e,t,n){var r=Object(Fv.findDOMNode)(n).getBoundingClientRect(),i=(r.bottom-r.top)/2,a=t.getClientOffset().y-r.top,o=e.cellIndex,s=a>i?o+1:o;e.onItemDragMove(s)}};var mDt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.moveIndex,n=e.cellIndex,r=e.isOver,i=e.isDragging,a=r&&t===n,o=r&&t===n+1;return(0,e.connectDropTarget)(hv()("div",{className:(fDt.a.container||"")+" "+(i?"isDragging":"")+" "+(a&&r?"isDraggingBefore":"")+" "+(o&&r?"isDraggingAfter":"")},void 0,gDt(sDt,this.props)))},t}(Xf.a.Component),yDt=Object(Dze.DropTarget)("PLAYLIST_ITEM",vDt,function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}})(Object(Dze.DragSource)("PLAYLIST_ITEM",{beginDrag:function(e){return{providerEntityID:e.providerEntityID,serverEntityID:e.serverEntityID,metadataListEntityID:e.metadataListEntityID,playlistItemEntityID:e.playlistItemEntityID,cellIndex:e.cellIndex,isSmart:e.isSmart,isReadOnly:e.isReadOnly,listType:e.listType,viewportWidth:e.viewportWidth}},endDrag:function(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}},function(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}})(mDt)),bDt=n(672),SDt=n.n(bDt);var IDt=function(e){return hv()("div",{className:e.cellIndex%2?SDt.a.alternateContainer:SDt.a.container},void 0,Object(Xn.default)("Loading..."))},CDt=Xf.a.createElement;var MDt=(0,Xf.a.memo)(function(e){var t=e.cellIndex,n=e.playlistItemEntityID,r=e.isSmart,i=e.isReadOnly,a=wt()(e,["cellIndex","playlistItemEntityID","isSmart","isReadOnly"]),o=CF(e),s=r||i?sDt:yDt;return hv()("div",{style:o.style},void 0,n?CDt(s,dv()({playlistItemEntityID:n,cellIndex:t,isSmart:r,isReadOnly:i},a)):hv()(IDt,{cellIndex:t}))}),DDt=n(673),wDt=n.n(DDt),PDt=Xf.a.createElement,TDt=Xf.a.Component,EDt=hv()(nIt,{}),xDt=hv()($St,{}),ODt=Tze(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onItemDragMove=function(e){e!==r.state.moveIndex&&r.setState({moveIndex:e})},r.onItemDragEnd=function(e,t){var n=r.state.moveIndex;t&&null!=n&&Object(No.a)(function(){r.props.dispatchMovePlaylistItem(Object.assign({},e,{moveIndex:n}))}),r.setState({moveIndex:null})},r.state={moveIndex:null},r}Sy()(t,e);var n=t.prototype;return n._getItemCountLabel=function(){var e=this.props.size;return this.props.playlistType===ed.d?1===e?Object(Xn.default)("1 Video"):Object(Xn.default)("{count} Videos",{count:e}):1===e?Object(Xn.default)("1 Track"):Object(Xn.default)("{count} Tracks",{count:e})},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.playlistType,o=e.contentWidth,s=e.contentHeight,l=e.scrollTop,c=e.items,u=e.isSmart,d=e.isReadOnly,p=e.size,h=e.duration,f=wt()(e,["serverEntityID","providerEntityID","metadataItemEntityID","metadataKey","playlistType","contentWidth","contentHeight","scrollTop","items","isSmart","isReadOnly","size","duration"]),g={serverEntityID:t,providerEntityID:n,metadataListEntityID:r,metadataKey:i,listType:a,activeSort:"titleSort",isSmart:u,isReadOnly:d,showLink:!1,showPlayIndex:!1,showPlayCellIndex:!0,showActionsDuration:!0,onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd,moveIndex:this.state.moveIndex};return 0===p?hv()("div",{},void 0,a===ed.d?Object(Xn.default)("This playlist has no videos."):Object(Xn.default)("This playlist has no tracks.")):hv()("div",{},void 0,hv()(Lwe,{className:wDt.a.header},void 0,hv()(zwe,{},void 0,uwe(this._getItemCountLabel())),h?hv()("span",{className:wDt.a.durationTitle},void 0,ty(h)):null),EDt,PDt(eF,dv()({layout:YMt,containerKey:i,keyPropName:"playlistItemEntityID",cellRenderer:fPe(g,MDt),items:c,size:p,viewportWidth:o,viewportHeight:s,scrollTop:l,firstItemType:a,listType:a,moveIndex:this.state.moveIndex},f)),xDt,u||d?null:hv()(pDt,{serverEntityID:t,providerEntityID:n}))},t}(TDt)),jDt=Xf.a.createElement,ADt=Tze(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onItemDragMove=function(e){e!==r.state.moveIndex&&r.setState({moveIndex:e})},r.onItemDragEnd=function(e,t){var n=r.state.moveIndex;t&&null!==n&&r.props.onItemDropped(Object.assign({},e,{moveIndex:n})),r.setState({moveIndex:null})},r.state={moveIndex:null},r}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.showPreview,n=e.createCellRenderer,r=e.listComponent,i=e.previewComponent,a=wt()(e,["showPreview","createCellRenderer","listComponent","previewComponent"]),o={onItemDragMove:this.onItemDragMove,onItemDragEnd:this.onItemDragEnd};return jDt(r,dv()({moveIndex:this.state.moveIndex,cellRenderer:n(o)},a),t?jDt(i,a):null)},t}(Xf.a.Component)),NDt=n(343),kDt=n.n(NDt),LDt=Xf.a.Component,RDt=hv()(nA,{}),_Dt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPlayPress=function(){t.props.onPlayPress(t.props.metadataItemEntityID)},t.onEditPress=function(){t.props.onEditPress(t.props.metadataItemEntityID)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.itemServerEntityID,i=e.itemProviderEntityID,a=e.metadataItemEntityID,o=e.playlistItemID,s=e.metadataKey,l=e.type,c=e.thumb,u=e.title,d=e.width,p=e.height,h=e.hasActiveSelection,f=e.isSelected,g=e.isOtherItemSelected,v=e.isModifierKeyPressed,m=e.isDragging,y=e.isSmart,b=e.isExternal,S=e.canDrag,I=e.connectDragSource,C=e.onSelectPress,M=e.onDeselectPress,D=e.onRemovePress,w=l===nr.c,P=!s;return I(hv()("div",{className:kDt.a.photoContainer},void 0,hv()("div",{className:(kDt.a.photo||"")+" "+(f&&kDt.a.isSelected||"")},void 0,hv()("div",{className:kDt.a.image},void 0,P?null:hv()(rge,{serverEntityID:r,providerEntityID:i,component:yL,url:c,width:d,height:p},o||s),hv()(Qke,{serverEntityID:t,providerEntityID:n,itemServerEntityID:r,itemProviderEntityID:i,metadataItemEntityID:a,title:u,showPlay:!0,showEdit:!b,showSelect:!y,showRemove:!y,hasActiveSelection:h,isSelected:f,isOtherItemSelected:g,isModifierKeyPressed:v,isDragging:m,canDrag:S,onPlayPress:this.onPlayPress,onEditPress:this.onEditPress,onSelectPress:C,onDeselectPress:M,onRemovePress:D}),w?hv()("div",{className:kDt.a.badge},void 0,RDt):null))))},t}(LDt);_Dt.defaultProps={connectDragSource:function(e){return e}};var UDt=_Dt,zDt=Xf.a.createElement,FDt=Xf.a.Component,BDt="VERTICAL";function HDt(e,t){return{connectDragPreview:e.dragPreview(),connectDragSource:e.dragSource(),isDragging:t.isDragging()}}function VDt(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver()}}var QDt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.connectDragPreview(Object(wze.getEmptyImage)())},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.dragClassName,n=e.indexPropName,r=e.moveIndex,i=e.isDragging,a=e.isOver,o=e.connectDropTarget,s=e.connectDragSource,l=(e.connectDragPreview,e.itemComponent),c=wt()(e,["dragClassName","indexPropName","moveIndex","isDragging","isOver","connectDropTarget","connectDragSource","connectDragPreview","itemComponent"]),u=this.props[n],d=a&&r===u,p=a&&r===u+1;return o(hv()("div",{className:(t||"")+" "+(i?"isDragging":"")+" "+(d&&a?"isDraggingBefore":"")+" "+(p&&a?"isDraggingAfter":"")},void 0,zDt(l,dv()({connectDragSource:s,canDrag:!0,isDragging:i},c))))},t}(FDt);var WDt,GDt,YDt,KDt,qDt,ZDt,XDt,JDt,$Dt,ewt=n(1116),twt=(WDt={itemComponent:UDt,indexPropName:"cellIndex",direction:"HORIZONTAL",idAttribute:"playlistItemEntityID",dragType:"ALBUM_ITEM",dragClassName:n.n(ewt).a.draggable},YDt=WDt.itemComponent,KDt=WDt.dragClassName,qDt=WDt.dragType,ZDt=WDt.direction,XDt=void 0===ZDt?BDt:ZDt,JDt=WDt.idAttribute,$Dt=WDt.indexPropName,Object(Dze.DropTarget)(qDt,function(e){var t=e.direction,n=e.indexPropName;return{hover:function(e,r,i){var a=Object(Fv.findDOMNode)(i).getBoundingClientRect(),o=(a.right-a.left)/2,s=(a.bottom-a.top)/2,l=r.getClientOffset(),c=l.x-a.left,u=l.y-a.top,d=e[n],p=(t===BDt?u>s:c>o)?d+1:d;e.onItemDragMove(p)}}}({direction:XDt,indexPropName:$Dt}),VDt)(Object(Dze.DragSource)(qDt,function(e){var t=e.idAttribute;return{beginDrag:function(e){var n;return(n={})[t]=e[t],n},endDrag:function(e,t,n){e.onItemDragEnd(t.getItem(),t.didDrop())}}}({idAttribute:JDt}),HDt)((GDt={itemComponent:YDt,indexPropName:$Dt,dragClassName:KDt},function(e){return zDt(QDt,dv()({},GDt,e))})))),nwt=Xf.a.createElement,rwt=parseInt(yQ.a.mosaicCellPadding,10);var iwt=function(e){e.cellX,e.cellY;var t=e.cellWidth,n=e.cellHeight,r=e.isSmart,i=wt()(e,["cellX","cellY","cellWidth","cellHeight","isSmart"]),a=CF(e),o=r?UDt:twt,s=t-2*rwt,l=n-2*rwt;return hv()("div",{style:a.style},void 0,nwt(o,dv()({width:s,height:l,isSmart:r},i)))};var awt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.playlistItemEntityID},KMt(),qMt(),DBe,_fe,function(e,t,n,r,i){var a=t.playlistItemID;void 0===n&&(n={});var o=n,s=o.serverEntityID,l=o.providerEntityID,c=o.entityID,u=o.key,d=o.source,p=o.type,h=o.thumb,f=o.title;return{listType:ed.c,playlistItemID:a,itemServerEntityID:s,itemProviderEntityID:l,metadataItemEntityID:c,metadataKey:u,isExternal:!!d,type:p,thumb:h,title:f,selectionID:e,selectionType:ed.c,activeSelectionType:i.activeSelectionType,isSelected:PBe(r,a)}})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metricsPage:t.metricsPage};return{onPlayPress:function(r){e(Ire(Object.assign({},n,{playlistMetadataItemEntityID:t.playlistMetadataItemEntityID,metadataItemEntityID:r})))},onEditPress:function(t){e(vde(Object.assign({},n,{metadataItemEntityID:t})))},onRemovePress:function(){t.onRemoveItem({playlistItemEntityID:t.playlistItemEntityID})}}})(nke(iwt));var owt=Lm(null,function(e){return{onSelectItem:function(t){e(kSt(t))},onDeselectItem:function(t){e(LSt(t))},onRemoveItem:function(t){e(_St(t))}}})(awt);var swt=function(e){var t=e.width,n=e.height;return hv()(Kk,{serverEntityID:e.serverEntityID,url:e.thumb,width:t,height:n,component:pk})},lwt=100;var cwt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.playlistItemEntityID},ESt,$N,function(e,t,n){var r=n[t[e].metadataItem],i=Math.min(Math.max(Bht(r),.5),2),a=i>1;return{width:a?lwt*i:lwt,height:a?lwt:lwt/i,thumb:r.thumb}})})(swt),uwt=n(1117),dwt=n.n(uwt);var pwt=function(e){function t(){return e.apply(this,arguments)||this}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.item,n=e.currentOffset,r=e.serverEntityID;if(!n||!t)return null;var i=Object.assign({},TXe(n),{display:"inline-block",width:"auto"});return hv()(Rze,{},void 0,hv()("div",{className:dwt.a.dragPreview,style:i},void 0,hv()(cwt,{serverEntityID:r,playlistItemEntityID:t.playlistItemEntityID})))},t}(Xf.a.Component),hwt=Object(Dze.DragLayer)(function(e){return{item:e.getItem(),itemType:e.getItemType(),currentOffset:e.getClientOffset()}})(pwt),fwt=Xf.a.createElement,gwt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).createCellRenderer=function(e){var n=t.props,r=n.serverEntityID,i=n.providerEntityID,a=n.playlistMetadataItemEntityID,o=n.playlistRatingKey,s=n.isSmart,l=n.listType;return fPe(Object.assign({serverEntityID:r,providerEntityID:i,playlistMetadataItemEntityID:a,ratingKey:o,listType:l,isSmart:s},e),owt)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isSmart,n=e.onItemDropped,r=wt()(e,["isSmart","onItemDropped"]);return fwt(ADt,dv()({showPreview:!t,listComponent:jCt,previewComponent:hwt,createCellRenderer:this.createCellRenderer,onItemDropped:n},r))},t}(Xf.a.Component);var vwt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.items},function(e,t){return t.serverEntityID},function(e,t){return t.providerEntityID},Qse(),ESt,$N,function(e,t,n,r,i,a){void 0===e&&(e=[]);var o=e.map(function(e){var t=i[e];return Bht(a[t.metadataItem])});return{listType:r.playlistType,aspectRatios:o,playlistMetadataItemEntityID:r.entityID,playlistRatingKey:r.ratingKey,isSmart:!!r.smart,isReadOnly:!!r.readOnly}})},{onItemDropped:RSt})(gwt),mwt=n(526),ywt=n.n(mwt),bwt=Xf.a.createElement,Swt=hv()(ZE.a,{});var Iwt=function(e){var t=e.contentHeight,n=e.scrollTop,r=e.showArtwork,i=e.showSpinner,a=e.showError,o=e.listType,s=e.isEmpty,l=wt()(e,["contentHeight","scrollTop","showArtwork","showSpinner","showError","listType","isEmpty"]);return i?hv()("div",{className:ywt.a.emptyContainer},void 0,Swt):a?hv()("div",{className:ywt.a.emptyMessage},void 0,Object(Xn.default)("Unable to load items")):s?hv()("div",{className:ywt.a.emptyMessage},void 0,o===ed.c?Object(Xn.default)("There are no items in this album"):Object(Xn.default)("There are no items in this playlist")):hv()(gIt,{showArtwork:r,contentHeight:t,scrollTop:n},void 0,o===ed.c?bwt(vwt,l):bwt(ODt,l))},Cwt=Xf.a.createElement,Mwt=Xf.a.Component;var Dwt={dispatchInitPlaylistItemList:OSt,dispatchPopulatePlaylistItemRange:ASt,dispatchDeselectAllPlaylistItems:Jhe,dispatchMovePlaylistItem:RSt},wwt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onPageRequest=function(e){var n=e.startIndex,r=e.endIndex,i=Cn.i(t.props.providerIdentifier,Cn.e);t.props.dispatchPopulatePlaylistItemRange({pages:i?1:void 0,startIndex:n,endIndex:r})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._populate()},n.componentDidUpdate=function(e){this.props.metadataKey!==e.metadataKey&&this._populate()},n.componentWillUnmount=function(){this.props.dispatchDeselectAllPlaylistItems()},n._populate=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataKey,i=e.providerIdentifier,a=e.dispatchInitPlaylistItemList,o=e.dispatchPopulatePlaylistItemRange;a({serverEntityID:t,providerEntityID:n,metadataKey:r}),o({pages:Cn.i(i,Cn.e)?1:void 0,startIndex:0,endIndex:39})},n.render=function(){var e=this.props,t=(e.dispatchInitPlaylistItemList,e.dispatchPopulatePlaylistItemRange,e.dispatchDeselectAllPlaylistItems,wt()(e,["dispatchInitPlaylistItemList","dispatchPopulatePlaylistItemRange","dispatchDeselectAllPlaylistItems"]));return Cwt(Iwt,dv()({},t,{onPageRequest:this.onPageRequest}))},t}(Mwt),Pwt=Lm(function(e,t){return Object(Iy.createSelector)(function(e){return e.ui.playlistPage},Qse(),qde,function(e,t,n){var r=e.serverEntityID,i=e.providerEntityID,a=e.metadataKey,o=e.playlistItemList,s=void 0===o?{}:o,l=e.isPlaylistItemListPending,c=e.isPlaylistItemListPopulated,u=e.playlistItemListError,d=t.ratingKey,p=t.playlistType,h=t.smart,f=t.readOnly,g=t.duration,v=s.metadataItems,m=void 0===v?[]:v,y=s.populatedRange,b=void 0===y?{}:y,S=s.totalSize;return{serverEntityID:r,providerEntityID:i,metadataKey:a,ratingKey:d,providerIdentifier:n.identifier,listType:p,keyPropName:"playlistItemEntityID",isSmart:!!h,isReadOnly:!!f,populatedRange:b,items:m,size:S,itemsOffset:b.start,duration:g,isEmpty:c&&!S,showArtwork:!1,showSpinner:l&&!c,showError:u}})},Dwt)(wwt),Twt=Xf.a.Component,Ewt=hv()(aHe,{}),xwt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataKey,a=e.title,o=e.type,s=e.playlistType,l=e.summary,c=e.art,u=e.composite,d=e.thumb,p=e.pageWidth,h=e.pageHeight,f=e.scrollTop,g=e.posterWidth,v=e.posterTop,m=this.state,y=m.contentWidth,b=m.contentHeight,S=m.isContentMeasured;return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,showPoster:s!==ed.c,metadataKey:i,type:o,thumb:u||d,art:c,pageWidth:p,pageHeight:h,scrollTop:f,posterWidth:g,posterTop:v},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,a)),Ewt,l?hv()(tHe,{},void 0,hv()(mHe,{},void 0,l)):null),hv()(GIt,{},void 0,S?hv()(Pwt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,playlistType:s,contentHeight:b,viewportWidth:y,viewportHeight:h,scrollTop:f}):null))},t}(Twt),Owt=Xf.a.Component,jwt=hv()(aHe,{}),Awt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.title,s=e.type,l=e.summary,c=e.thumb,u=e.art,d=e.listType,p=e.listStyle,h=e.isListReady,f=e.pageWidth,g=e.pageHeight,v=e.scrollTop,m=e.posterWidth,y=e.posterTop,b=this.state,S=b.isContentMeasured,I=b.contentWidth,C=b.contentHeight,M=!(!S||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:a,type:s,thumb:c,art:u,pageWidth:f,pageHeight:g,scrollTop:v,posterWidth:m,posterTop:y},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(Kge,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(XUe,{},void 0,hv()(zUe,{},void 0,o),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),jwt,l?hv()(tHe,{},void 0,hv()(mHe,{},void 0,l)):null),hv()(GIt,{},void 0,M?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:d,listStyle:p,component:VCt,initialSize:20,showArtwork:!!u,viewportWidth:I,viewportHeight:g,contentHeight:C,scrollTop:v}):null,h?hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(Owt),Nwt=n(1118),kwt=n.n(Nwt);var Lwt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.type,a=e.leafCount,o=e.isSubscribed,s=e.subscriptionType,l=e.grandparentSubscriptionType,c=e.showRecord,u=e.record;return hv()(zUe,{},void 0,hv()(pve,{className:kwt.a.episodeCount,leafCount:a}),hv()(zQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),c?hv()(jMt,{serverEntityID:t,metadataItemEntityID:r,providerEntityID:n,type:i,isSubscribed:o,subscriptionType:s,grandparentSubscriptionType:l,isSubscribeModalOpen:u}):null)};var Rwt=Lm(function(){return Object(Iy.createSelector)(xse,Qse(),function(e,t){return void 0===t&&(t={}),{type:t.type,leafCount:t.leafCount,isSubscribed:null!=t.subscriptionID||null!=t.grandparentSubscriptionID,subscriptionType:t.subscriptionType,grandparentSubscriptionType:t.grandparentSubscriptionType,showRecord:!!e.features.subscribe}})})(Lwt),_wt=Xf.a.Component,Uwt=hv()(aHe,{}),zwt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.title,s=e.type,l=e.year,c=e.summary,u=e.thumb,d=e.art,p=e.listType,h=e.listStyle,f=e.isListReady,g=e.pageWidth,v=e.pageHeight,m=e.scrollTop,y=e.posterWidth,b=e.posterTop,S=e.record,I=this.state,C=I.isContentMeasured,M=I.contentWidth,D=I.contentHeight,w=!(!C||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,attribution:wMt,metadataKey:a,type:s,thumb:u,art:d,pageWidth:g,pageHeight:v,scrollTop:m,posterWidth:y,posterTop:b},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,o)),hv()(XUe,{},void 0,hv()(zUe,{},void 0,l)),hv()(tze,{},void 0,hv()(Rwt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,record:S}),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),Uwt,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(mHe,{},void 0,c))),hv()(GIt,{},void 0,w?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:p,listStyle:h,component:VCt,initialSize:20,showArtwork:!!d,viewportWidth:M,viewportHeight:v,contentHeight:D,scrollTop:m}):null,f?hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(_wt),Fwt=n(1119),Bwt=n.n(Fwt);function Hwt(e){var t=e.className,n=e.kind,r=e.size,i=e.saved,a=e.providerIdentifier,o=e.subtype,s=e.onPress;return hv()(I_,{className:t,kind:n,size:r,onPress:s},void 0,i?hv()(SI,{className:Bwt.a.iconSaved}):null,function(e,t,n){return n===$n?e?Object(Xn.default)("In My Podcasts"):Object(Xn.default)("Add to My Podcasts"):n===er?e?Object(Xn.default)("In My Shows"):Object(Xn.default)("Add to My Shows"):Cn.i(t,Cn.e)?e?Object(Xn.default)("In My TIDAL"):Object(Xn.default)("Add to My TIDAL"):e?Object(Xn.default)("In My Shows"):Object(Xn.default)("Add to My Shows")}(i,a,o))}Hwt.defaultProps={kind:a.DARK,size:qp.LARGE};var Vwt=Hwt;var Qwt=Lm(function(){return Object(Iy.createSelector)(qde,Qse(),function(e,t){return{providerIdentifier:e.identifier,saved:t.saved,subtype:t.subtype}})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID};return{onPress:function(t){e(Eae(n))}}})(Vwt);var Wwt=function(e){var t=e.leafCount;return hv()(zUe,{},void 0,hv()(pve,{leafCount:t}))};var Gwt=Lm(function(){return Object(Iy.createSelector)(Qse(),function(e){return void 0===e&&(e={}),{leafCount:e.leafCount}})})(Wwt),Ywt=n(453),Kwt=n.n(Ywt),qwt=Xf.a.Component,Zwt=hv()(aHe,{}),Xwt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e,t=this.props,n=t.serverEntityID,r=t.providerEntityID,i=t.metadataItemEntityID,a=t.metadataListEntityID,o=t.metadataKey,s=t.title,l=t.type,c=t.subtype,u=t.summary,d=t.saved,p=t.thumb,h=t.art,f=t.hero,g=t.allEpisodes,v=t.listType,m=t.listStyle,y=t.isListReady,b=t.pageWidth,S=t.pageHeight,I=t.scrollTop,C=t.posterWidth,M=t.posterTop,D=t.isEmbeddedServer,w=this.state,P=w.isContentMeasured,T=w.contentWidth,E=w.contentHeight,x=!(!P||!a);return x&&D?e=g?Object(Xn.default)("All Downloaded Episodes"):Object(Xn.default)("Recent Downloaded Episodes"):x&&(e=g?Object(Xn.default)("All Episodes"):Object(Xn.default)("Recent Episodes")),hv()(BIt,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,metadataKey:o,type:l,subtype:c,thumb:p,art:h,hero:f,pageWidth:b,pageHeight:S,scrollTop:I,posterWidth:C,posterTop:M},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,s)),hv()(tze,{},void 0,hv()(Gwt,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i}),hv()(dWe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i}))),Zwt,hv()(tHe,{},void 0,hv()(mHe,{dangerouslySetInnerHTML:{__html:u}}),null!=d?hv()(Qwt,{className:Kwt.a.addToSavedButton,serverEntityID:n,providerEntityID:r,metadataItemEntityID:i}):null)),hv()(GIt,{},void 0,x?hv()(Vfe,{serverEntityID:n,providerEntityID:r,metadataListEntityID:a,listType:v,listStyle:m,component:VCt,initialSize:20,previewSize:g?null:3,listTitle:e,titleButtonTitle:g?Object(Xn.default)("See Recent Episodes"):Object(Xn.default)("See All Episodes"),titleButtonRoute:F.join(window.location.hash,{allEpisodes:g?void 0:1},{parseParams:!0}),showArtwork:!!h,viewportWidth:T,viewportHeight:S,contentHeight:E,scrollTop:I}):null,y?hv()(tHe,{},void 0,hv()(sCt,{serverEntityID:n,providerEntityID:r})):null))},t}(qwt),Jwt=Xf.a.Component,$wt=hv()(cE,{}),ePt=hv()(aHe,{}),tPt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.onDeckMetadataItemEntityID,o=e.extrasMetadataListEntityID,s=e.metadataKey,l=e.title,c=e.type,u=e.year,d=e.summary,p=e.thumb,h=e.art,f=e.listType,g=e.listStyle,v=e.isListReady,m=e.pageWidth,y=e.pageHeight,b=e.scrollTop,S=e.posterWidth,I=e.posterTop,C=this.state,M=C.isContentMeasured,D=C.contentWidth,w=C.contentHeight,P=!(!M||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:s,type:c,thumb:p,art:h,pageWidth:m,pageHeight:y,scrollTop:b,posterWidth:S,posterTop:I},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,l)),hv()(XUe,{},void 0,hv()(zUe,{},void 0,u),hv()(EQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(tze,{},void 0,hv()(zUe,{},void 0,hv()(GQe,{},void 0,a?hv()("span",{},void 0,Object(Xn.default)("On Deck")," ",$wt,hv()(XEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:a})):hv()(xEe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(zQe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r})),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),ePt,hv()(tHe,{},void 0,hv()(RHe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(mHe,{},void 0,d))),hv()(GIt,{},void 0,P?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:f,listStyle:g,component:VCt,initialSize:20,showArtwork:!!h,viewportWidth:D,viewportHeight:y,contentHeight:w,scrollTop:b}):null,v?hv()(tHe,{},void 0,hv()(tCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),o?hv()(qCt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:o,title:Object(Xn.default)("Extras")}):null,hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(Jwt),nPt=Xf.a.Component,rPt=hv()(aHe,{}),iPt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onContentMeasure=function(e){var t=e.width,n=e.height;r.setState({isContentMeasured:!0,contentWidth:t,contentHeight:n})},r.state={isContentMeasured:!1,contentWidth:null,contentHeight:null},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.metadataKey,o=e.title,s=e.type,l=e.subtype,c=e.summary,u=e.saved,d=e.thumb,p=e.art,h=e.hero,f=e.allEpisodes,g=e.listType,v=e.listStyle,m=e.isListReady,y=e.pageWidth,b=e.pageHeight,S=e.scrollTop,I=e.posterWidth,C=e.posterTop,M=this.state,D=M.isContentMeasured,w=M.contentWidth,P=M.contentHeight,T=!(!D||!i);return hv()(BIt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataKey:a,type:s,subtype:l,thumb:d,art:p,hero:h,pageWidth:y,pageHeight:b,scrollTop:S,posterWidth:I,posterTop:C},void 0,hv()(XA,{ignorePosition:!0,onMeasure:this.onContentMeasure},void 0,hv()(tHe,{},void 0,hv()(VUe,{},void 0,hv()(zUe,{},void 0,o)),hv()(tze,{},void 0,hv()(Gwt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(dWe,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}))),rPt,hv()(tHe,{},void 0,hv()(mHe,{dangerouslySetInnerHTML:{__html:c}}),null!=u?hv()(Qwt,{className:Kwt.a.addToSavedButton,serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}):null)),hv()(GIt,{},void 0,T?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,listType:g,listStyle:v,component:VCt,initialSize:20,previewSize:f?null:3,listTitle:f?Object(Xn.default)("All Episodes"):Object(Xn.default)("Recent Episodes"),titleButtonTitle:f?Object(Xn.default)("See Recent Episodes"):Object(Xn.default)("See All Episodes"),titleButtonRoute:F.join(window.location.hash,{allEpisodes:f?void 0:1},{parseParams:!0}),showArtwork:!!p,viewportWidth:w,viewportHeight:b,contentHeight:P,scrollTop:S}):null,m?hv()(tHe,{},void 0,hv()(sCt,{serverEntityID:t,providerEntityID:n})):null))},t}(nPt);var aPt=function(){return hv()(Srt,{title:Object(Xn.default)("Nothing is here"),description:Object(Xn.default)("This item may have been deleted recently")},void 0,hv()(RS,{to:"#",kind:a.PRIMARY},void 0,Object(Xn.default)("Go Home")))};var oPt=function(){return hv()(Srt,{title:Object(Xn.default)("You must be lost"),description:Object(Xn.default)("This item does not have its own page")},void 0,hv()(RS,{to:"#",kind:a.PRIMARY},void 0,Object(Xn.default)("Go Home")))},sPt=Xf.a.createElement,lPt=Xf.a.Component,cPt={movie:VMt,show:tPt,season:Awt,episode:UMt,artist:vMt,album:hCt,photoalbum:GMt,clip:VMt,playlist:xwt,collection:bMt},uPt={podcast:{show:Xwt,track:zMt},webshow:{show:iPt,episode:FMt}},dPt={movie:HMt,show:zwt,episode:_Mt};var pPt=z8e(function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onLibraryChange(this.props.providerIdentifier,this.props.librarySectionID),this.props.onBackgroundChange(this.props.backgroundImageUrl),this.props.onThemeMusicChange(this.props.theme),this.props.isRemotePlayer&&this.props.onMirrorDetails()},n.componentDidUpdate=function(e){var t=this.props,n=t.librarySectionID,r=t.providerIdentifier,i=t.backgroundImageUrl,a=t.theme,o=t.isRemotePlayer,s=t.onLibraryChange,l=t.onBackgroundChange,c=t.onThemeMusicChange,u=t.onMirrorDetails;n!==e.librarySectionID&&s(r,n),e.backgroundImageUrl!==i&&l(i),e.theme!==a&&c(a),!e.isRemotePlayer&&o&&u()},n.componentWillUnmount=function(){this.props.onLibraryChange(null,null)},n.render=function(){var e=this.props,t=e.providerIdentifier,n=e.providerMetricsIdentifier,r=e.type,i=e.subtype,a=e.art,o=e.listStyle,s=(e.onBackgroundChange,wt()(e,["providerIdentifier","providerMetricsIdentifier","type","subtype","art","listStyle","onBackgroundChange"])),l=function(e,t,n){if(!e)return aPt;var r=Cn.i(n,Cn.c)?dPt:cPt,i=uPt[t],a=r[e];return i&&i[e]||a||oPt}(r,i,t);return hv()(qSt,{identifier:n,type:r,style:o,showArtwork:!!a},void 0,sPt(l,dv()({type:r,subtype:i,art:a,listStyle:o},s)))},t}(lPt),function(e){return{descendantKey:e.ui.prePlayPage.descendantKey}},function(e,t){e(BHe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,descendantKey:t.descendantKey}))}),hPt=Lm(function(){return Object(Iy.createSelector)(xse,Qse(),Object(Iy.createSelector)(Qse(),function(e){if(e&&e.childrenKey){var t=e.key,n=e.skipChildren?"grandchildren":"children";return F.join([t,n])}}),WSt,QSt,eot,GSt(),Object(Iy.createSelector)(Whe(),function(e){return!(!e||!e.isPopulated)}),function(e){return!!e.remotePlayer},g8e(),function(e,t,n,r,i,a,o,s,l,c){var u=Wde(t.type,t.subtype,t,Tp),d=u||t.thumb||t.parentThumb||t.grandparentThumb,p=t.grandparentArt||t.parentArt||t.art,h=t.grandparentTheme||t.parentTheme||t.theme,f=r?p||d:d||p,g=rot(a,Tp,o,t.subtype,e);return{librarySectionID:t.librarySectionID,providerIdentifier:e.identifier,providerMetricsIdentifier:e.metricsIdentifier,metadataKey:t.key,descendantKey:n,attribution:t.attribution,title:t.title,type:t.type,subtype:t.subtype,year:t.year,minYear:t.minYear,maxYear:t.maxYear,summary:t.summary,saved:t.saved,thumb:u,parentThumb:t.parentThumb,grandparentThumb:t.grandparentThumb,composite:t.composite,art:r?p:void 0,hero:t.hero,theme:i?h:void 0,backgroundImageUrl:f,playlistType:t.playlistType,isListReady:s,onDeckMetadataItemEntityID:t.onDeck,extrasMetadataListEntityID:t.extras,popularLeavesMetadataListEntityID:t.popularLeaves,listType:o,listStyle:g,isRemotePlayer:l,isEmbeddedServer:c}})},function(e,t){return{onLibraryChange:function(n,r){e(pse({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,providerIdentifier:n,sectionID:r}))},onBackgroundChange:function(n){e(s1({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,imageUrl:n}))},onThemeMusicChange:function(n){e(l1({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,theme:n}))},onMirrorDetails:function(){e(Qae({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID}))}}})(pPt),fPt=n(674),gPt=n.n(fPt),vPt=Xf.a.Component,mPt=parseInt(yQ.a.pagePadding,10),yPt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onScrollPositionChange=function(e){var t=e.scrollTop;r.setState({scrollTop:t})},r.onContentMeasure=function(e){var t=e.width,n=e.height,i=e.y;(t||n)&&r.setState({isMeasured:!0,pageWidth:t,pageHeight:n,pageY:i})},r.state={scrollTop:0,isMeasured:!1,pageWidth:0,pageHeight:0,pageY:0},r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.columnAdjustment,o=e.record,s=e.allEpisodes,l=this.state,c=l.scrollTop,u=l.isMeasured,d=l.pageWidth,p=l.pageHeight,h=l.pageY;return hv()(XA,{className:gPt.a.prePlayPageContentContainer,onMeasure:this.onContentMeasure},void 0,hv()(W1e,{className:gPt.a.prePlayPageContent,scrollTop:c,onScrollPositionChange:this.onScrollPositionChange},void 0,u?hv()(hPt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,pageWidth:d,pageHeight:p,posterWidth:aze(d,a),posterTop:h+mPt,scrollTop:c,record:o,allEpisodes:s}):null))},t}(vPt);var bPt=Xf.a.createElement;var SPt={dispatchPreFetch:QHe},IPt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this._preFetch()},n.componentDidUpdate=function(e){this.props.metadataItemEntityID!==e.metadataItemEntityID&&this._preFetch()},n._preFetch=function(){var e=this.props,t=e.metadataItemEntityID,n=e.isDisabled,r=e.dispatchPreFetch;n||r({metadataItemEntityID:t})},n.render=function(){var e=this.props,t=(e.serverEntityID,e.providerEntityID,e.metadataItemEntityID,e.dispatchPreFetch,e.metricsPage,e.metricsContext,wt()(e,["serverEntityID","providerEntityID","metadataItemEntityID","dispatchPreFetch","metricsPage","metricsContext"]));return bPt(x1,t)},t}(Xf.a.Component),CPt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},XS,xse,Qse(),function(e,t,n,r){void 0===r&&(r={});var i={};return e&&(i.context=e),{to:Og(t,n,r.key,i),isDisabled:!r.key}})},SPt)(IPt),MPt=hv()(dze,{}),DPt=hv()(cze,{});var wPt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.previousMetadataItemEntityID,i=e.nextMetadataItemEntityID;return hv()("div",{},void 0,hv()(CPt,{serverEntityID:t,"data-qa-id":"toolbarPrevious",providerEntityID:n,metadataItemEntityID:r},void 0,MPt),hv()(CPt,{serverEntityID:t,"data-qa-id":"toolbarNext",providerEntityID:n,metadataItemEntityID:i},void 0,DPt))};var PPt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.metadataItemEntityID},Whe(),function(e,t){void 0===t&&(t={});var n,r,i=t.metadataItems,a=i.indexOf(e),o=a+1,s=a-1;return s>-1&&(n=i[s]),o>0&&o<i.length&&(r=i[o]),{previousMetadataItemEntityID:n,nextMetadataItemEntityID:r}})})(wPt);var TPt=function(e){var t=e.title,n=e.to,r=e.isSelected;return n?hv()(MI,{to:n,isSelected:r},void 0,t):null};var EPt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.selectedKey},function(e,t){return t.metricsContext},XS,xse,Qse(),hEe(),function(e,t,n,r,i,a){return void 0===i&&(i={}),{title:i.title,to:a,isSelected:e===i.key}})})(TPt),xPt=n(527),OPt=n.n(xPt),jPt=hv()(ZE.a,{});var APt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityIDs,i=e.isPending,a=e.error,o=e.selectedKey,s=e.target,l=e.isOpen,c=e.onMenuClose,u=!!r.length,d=!u&&i,p=!u&&!i&&!!a,h=!u&&!d&&!p;return hv()(zT,{target:s,isOpen:l,size:qp.LARGE,onMenuClose:c},void 0,d?hv()("span",{className:OPt.a.emptyContainer},void 0,jPt):null,p?hv()("span",{className:OPt.a.emptyContainer},void 0,Object(Xn.default)("Unable to load items")):null,h?hv()("span",{className:OPt.a.emptyContainer},void 0,Object(Xn.default)("No items")):null,r.map(function(e){return hv()(EPt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:e,selectedKey:o},e)}))},NPt=hv()(P3e,{});function kPt(e){var t=e.markUnplayed,n=e.onPress;return hv()(x1,{"data-qa-id":"toolbarToggleWatched",tooltip:t?Object(Xn.default)("Mark as Unplayed"):Object(Xn.default)("Mark as Played"),onPress:n},void 0,NPt)}kPt.defaultProps={markUnplayed:!1};var LPt=kPt;function RPt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-artist-tv-icon-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M29.218 420.218h503v-308h-503v308zm307 28v56c0 .327 18.667.327 56 0v28h-224v-28h56c.327 0 .327-18.667 0-56l-224-.5c-.49 0 0-363.01 0-363.5 0-.49 559.51 0 560 0 .327 0 .327 121.333 0 364 0 .327-74.667.327-224 0zm-55.61-139.931c-15.108 0-27.356-12.248-27.356-27.356 0-15.109 12.248-27.357 27.357-27.357 15.108 0 27.356 12.248 27.356 27.357 0 15.108-12.248 27.356-27.356 27.356zm48.566 9.768c8.87-10.546 14.193-24.034 14.193-38.734 0-18.883-8.784-35.767-22.588-46.984l15.585-13.98c18.068 15.053 29.532 37.5 29.532 62.574 0 19.632-7.029 37.654-18.753 51.778l-17.97-14.654zm-87.808-86.457c-14.337 11.207-23.516 28.42-23.516 47.723 0 15.74 6.104 30.092 16.13 40.93l-16.068 13.195c-12.096-14.23-19.372-32.54-19.372-52.515 0-24.509 10.954-46.508 28.322-61.546l14.504 12.213zm130.092 126.117c18.58-20.945 29.84-48.372 29.84-78.394 0-34.317-14.712-65.243-38.253-86.974l14.355-13.014c26.627 25.193 43.209 60.677 43.209 99.988 0 34.688-12.911 66.396-34.241 90.683l-14.91-12.289zM194.603 195.78c-21.45 21.495-34.684 50.993-34.684 83.541 0 29.677 11.003 56.819 29.203 77.67l-14.864 12.335c-20.977-24.198-33.65-55.638-33.65-90.005 0-37.324 14.948-71.197 39.25-96.09l14.745 12.55z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}RPt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var _Pt=RPt,UPt=Xf.a.createElement,zPt=hv()(_Pt,{});var FPt=function(e){return UPt(x1,dv()({tooltip:Object(Xn.default)("Artist TV")},e),zPt)};function BPt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",id:"plex-icon-toolbar-play-radio-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M110.261 141.816c10.962-9.751 23.79-2.335 27.765 1.703 6.308 6.406 5.837 12.744 4.377 15.806-1.084 2.277-2.431 4.378-5.35 8.026-14.104 16.536-24.074 34.046-31.37 53.986-11.672 32.101-13.132 68.334-4.377 101.894 6.809 24.804 18.724 47.42 35.505 67.362 3.89 4.377 4.863 5.836 5.836 8.997.486 1.703.486 6.566-.244 8.755-1.459 4.62-4.863 8.269-9.727 9.97-1.216.487-14.377 4.39-23.144-2.43-1.46-.974-6.81-7.055-10.7-12.16-22.617-28.94-36.964-63.472-41.342-100.191-1.944-15.32-1.944-32.587-.243-47.908 4.621-39.639 20.67-76.846 46.448-107.243 3.892-4.621 4.657-4.867 6.566-6.566v-.001zm64.42 62.012c7.215-8.421 19.942-12.966 29.868-4.504 9.925 8.46 6.895 19.095 2.76 24.445-10.942 13.132-17.265 27.48-19.697 44.503-.486 3.89-.729 13.131-.243 17.509 1.459 18.725 8.511 35.262 20.67 49.61 3.162 3.647 4.62 6.322 4.864 10.455.486 7.054-4.395 13.258-11.186 15.565-14.348 4.871-23.388-2.675-28.494-8.754-20.671-25.778-29.426-58.608-24.562-91.681 3.161-20.914 12.067-40.863 26.02-57.148zM277.67 323.667c-11.548-.562-21.407-5.058-29.575-12.926-8.732-8.992-12.957-19.389-12.957-31.753 0-12.363 4.225-22.762 12.957-31.753 9.012-8.711 19.435-12.927 31.828-12.927 12.394 0 22.814 4.216 31.828 12.927 8.731 8.991 12.957 19.389 12.957 31.753s-4.226 22.76-12.957 31.753c-8.45 8.15-18.308 12.645-30.138 12.926-1.408.28-3.38.28-3.943 0zm172.069-181.852c1.91 1.7 2.675 1.946 6.566 6.566 25.777 30.399 41.827 67.606 46.448 107.244 1.701 15.321 1.701 32.587-.243 47.908-4.378 36.72-18.726 71.252-41.342 100.19-3.89 5.107-9.24 11.187-10.7 12.16-8.767 6.821-21.928 2.919-23.144 2.432-4.863-1.702-8.268-5.35-9.727-9.97-.73-2.19-.73-7.054-.244-8.755.973-3.162 1.946-4.621 5.836-8.998 16.78-19.941 28.696-42.557 35.505-67.361 8.755-33.56 7.295-69.794-4.376-101.894-7.297-19.941-17.267-37.451-31.372-53.987-2.918-3.648-4.265-5.748-5.35-8.026-1.459-3.062-1.93-9.4 4.378-15.806 3.975-4.037 16.802-11.454 27.765-1.703zm-64.576 62.013c13.953 16.284 22.86 36.234 26.021 57.148 4.864 33.073-3.89 65.902-24.561 91.68-5.107 6.079-14.147 13.626-28.495 8.754-6.792-2.306-11.672-8.511-11.186-15.564.243-4.134 1.702-6.81 4.863-10.456 12.16-14.348 19.212-30.885 20.67-49.61.487-4.378.244-13.618-.242-17.509-2.431-17.023-8.755-31.37-19.698-44.503-4.134-5.35-7.163-15.984 2.761-24.445 9.926-8.461 22.652-3.917 29.867 4.505z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}BPt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var HPt=BPt,VPt=Xf.a.createElement,QPt=hv()(HPt,{});var WPt=function(e){return VPt(x1,dv()({tooltip:Object(Xn.default)("Play Radio")},e),QPt)};function GPt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-play-trailer-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m225.671 503.994c-.557.004-1.114.006-1.671.006-123.629 0-224-100.371-224-224 0-123.629 100.371-224 224-224 123.629 0 224 100.371 224 224 0 50.138-16.508 96.451-44.381 133.794 18.895-11.081 36.634-24.143 52.605-39.141 9.395-8.823 18.171-18.311 26.162-28.425 8.67-10.973 16.416-22.684 23.006-35.021 4.995-9.352 12.891-29.047 12.891-29.047l41.717 12.492c0 0-9.027 23.185-14.752 34.221-7.693 14.83-16.785 28.923-27.015 42.128-9.197 11.871-19.311 23.024-30.164 33.401-8.779 8.393-18.041 16.28-27.702 23.641-8.554 6.519-17.421 12.626-26.548 18.316-4.487 2.797-9.037 5.493-13.644 8.088-32.896 18.526-68.648 31.851-105.499 39.964-29.172 6.423-59.044 9.582-89.005 9.589l0-.006m-64.671-104.994c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m119-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m-238 0c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63m154 0c0 15.454 12.546 28 28 28 15.454 0 28-12.546 28-28 0-15.454-12.546-28-28-28-15.454 0-28 12.546-28 28m-35-119c0 34.771 28.229 63 63 63 34.771 0 63-28.229 63-63 0-34.771-28.229-63-63-63-34.771 0-63 28.229-63 63"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}GPt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var YPt=GPt,KPt=Xf.a.createElement,qPt=hv()(YPt,{});var ZPt=function(e){return KPt(x1,dv()({tooltip:Object(Xn.default)("Play Trailer")},e),qPt)},XPt=n(1120),JPt=n.n(XPt),$Pt=Xf.a.createElement,eTt=hv()(Ove,{});var tTt=function(e){e.title;var t=wt()(e,["title"]);return $Pt(x1,dv()({tooltip:Object(Xn.default)("Record"),className:JPt.a.toolbarRecordButton,"data-qa-id":"toolbarRecord"},t),eTt)},nTt=Xf.a.createElement,rTt=hv()(MK,{});var iTt=function(e){return nTt(x1,dv()({tooltip:Object(Xn.default)("Settings"),"data-qa-id":"toolbarSettings"},e),rTt)};function aTt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-sync-filled-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M280 518C148.6 518 42 411.4 42 280S148.6 42 280 42s238 106.6 238 238-106.6 238-238 238m0-112l112-112h-89.6V154h-44.8v140H168l112 112"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}aTt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var oTt=aTt,sTt=Xf.a.createElement,lTt=hv()(oTt,{});var cTt=function(e){var t=e.hasDownloadState,n=(e.hasOfflineFile,e.hasOwnSubscription),r=e.isDisabled,i=e.label,a=e.progress,o=wt()(e,["hasDownloadState","hasOfflineFile","hasOwnSubscription","isDisabled","label","progress"]),s=null!==a&&a>=0;return sTt(x1,dv()({},o,{isDisabled:r,tooltip:i,"data-qa-id":"toolbarSync"}),!n||t||s?hv()(vke,{progress:a,isDisabled:r,showIndeterminate:t}):lTt)},uTt=Xf.a.useCallback,dTt=Xf.a.useEffect;var pTt=k3e(function(e){var t=e.className,n=e.serverEntityID,r=e.providerEntityID,i=e.metadataItemEntityID,a=e.type,o=e.subtype,s=e.title,l=e.viewedLeafCount,c=e.unviewedLeafCount,u=e.isLiveTV,d=e.metricsPage,p=e.showRecord,h=e.showPlay,f=e.showPlayOverflow,g=e.showPlayTrailer,v=e.showPlayTrailerOverflow,m=e.showPlayRadio,y=e.showPlayRadioOverflow,b=e.showPlayArtistTV,S=e.showPlayArtistTVOverflow,I=e.showShuffle,C=e.showShuffleOverflow,M=e.showAddToAlbum,D=e.showAddToAlbumOverflow,w=e.showAddToPlaylist,P=e.showAddToPlaylistOverflow,T=e.showAddToSaved,E=e.showTogglePlayed,x=e.showTogglePlayedOverflow,O=e.showMarkPlayed,j=e.showMarkUnplayed,A=e.showEdit,N=e.showEditOverflow,k=e.showGetInfo,L=e.showSettings,R=e.showSettingsOverflow,_=e.showSync,U=e.showSyncOverflow,F=e.showSyncDownload,B=e.showSyncDownloadOverflow,H=e.showOverflow,V=e.onPlayPress,Q=e.onPlayLiveTVPress,W=e.onPlayTrailerPress,G=e.onPlayRadioPress,Y=e.onPlayArtistTVPress,K=e.onShufflePress,q=e.onEditPress,Z=e.onGetInfoPress,X=e.onSyncPress,J=e.onCancelDownloadActivity,$=e.onDeleteDownloadSubscription,ee=e.onCreateDownloadSubscription,te=get(),ne=eae(e.onMarkPlayedConfirm),re=eae(e.onMarkUnplayedConfirm),ie=eae(),ae=eae(),oe=eae(),se=Ype({metadataItemEntityID:i,metricsPage:d,providerEntityID:r,serverEntityID:n,onCancelDownloadActivity:J,onDeleteDownloadSubscription:$,onCreateDownloadSubscription:ee}),le=uTt(function(){(h||f)&&V()},[V,h,f]),ce=uTt(function(){O?ne.onOpen():j&&re.onOpen()},[O,j,ne,re]),ue=uTt(function(){(A||N)&&q()},[A,N,q]),de=uTt(function(){k&&Z()},[k,Z]);return dTt(function(){return z.a.on("shortcut:playSelected",le),z.a.on("shortcut:toggleWatched",ce),z.a.on("shortcut:edit",ue),z.a.on("shortcut:info",de),function(){z.a.off("shortcut:playSelected",le),z.a.off("shortcut:toggleWatched",ce),z.a.off("shortcut:edit",ue),z.a.off("shortcut:info",de)}}),hv()("div",{className:t},void 0,p?hv()(tTt,{title:s,onPress:ie.onOpen}):null,h?hv()(v3e,{playLabel:Object(Xn.default)("Play"),onPress:u?Q:V}):null,g?hv()(ZPt,{onPress:W}):null,I?hv()(I3e,{onPress:K}):null,m?hv()(WPt,{onPress:G}):null,b?hv()(FPt,{onPress:Y}):null,M?hv()(t3e,{onPress:oe.onOpen}):null,w?hv()(i3e,{onPress:oe.onOpen}):null,E&&O?hv()(LPt,{type:a,subtype:o,onPress:ne.onOpen}):null,E&&j&&!O?hv()(LPt,{type:a,subtype:o,markUnplayed:!0,onPress:re.onOpen}):null,A?hv()(c3e,{onPress:q}):null,L?hv()(iTt,{onPress:ae.onOpen}):null,_?hv()(D3e,{onPress:X}):null,F?hv()(Kpe,{component:cTt,metadataItemEntityID:i,providerEntityID:r,serverEntityID:n,onPress:se.onPress}):null,H?hv()(d3e,{id:te.menuButtonID,iconComponent:R3e,label:Object(Xn.default)("More..."),isMenuOpen:te.isMenuOpen,onPress:te.onMenuButtonPress}):null,hv()(Bge,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,allowRedirectOnDelete:!0,showPlay:f,showPlayTrailer:v,showPlayRadio:y,showPlayArtistTV:S,showQueuePlexMix:!1,showShuffle:C,showAddToAlbum:D,showAddToPlaylist:P,showAddToSaved:T&&a!==nr.l,showEdit:N,showSettings:R,showMarkPlayed:x&&O,showMarkUnplayed:x&&j,showSync:U,showSyncDownload:B,target:te.menuButtonID,isOpen:te.isMenuOpen,onMenuClose:te.onMenuClose}),O?hv()(hhe,{isOpen:ne.isOpen,type:a,subtype:o,title:s,leafCount:c,onConfirm:ne.onConfirm,onCancel:ne.onClose}):null,M||w?hv()(Oge,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:oe.isOpen,onModalClose:oe.onClose}):null,j?hv()(hhe,{isOpen:re.isOpen,type:a,subtype:o,title:s,leafCount:l,markUnplayed:!0,onConfirm:re.onConfirm,onCancel:re.onClose}):null,hv()(RNe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:ie.isOpen,subscriptionType:a,onModalClose:ie.onClose}),F?hv()(Zpe,{isOpen:se.isOpen,state:se.state,onConfirm:se.onConfirm,onClose:se.onClose}):null,hv()(khe,{serverEntityID:n,providerEntityID:r,metadataItemEntityID:i,isOpen:ae.isOpen,onModalClose:ae.onClose}))},["showPlay","showPlayTrailer","showPlayRadio","showPlayArtistTV","showShuffle","showAddToAlbum","showAddToPlaylist","showTogglePlayed","showEdit","showSettings","showSync","showSyncDownload"],["showPlayVersion","showPlayAll","showQueue","showPlayPlexMix","showPlayMusicVideo","showRefresh","showAnalyze","showFixMatch","showMatch","showUnmatch","showSplitApart","showOptimize","showDownload","showDelete","showDeleteVersion","showGetInfo"]);var hTt=iZ(function(){return Object(Iy.createSelector)(XS,xse,sse,Qse(),g8e(),function(e,t,n,r,i){var a=r.type,o=r.subtype,s=r.title,l=r.viewedLeafCount,c=r.unviewedLeafCount,u=Mpe({server:e,provider:t,stableUser:n,metadataItem:r}),d=u.showMarkPlayed||u.showMarkUnplayed,p=!!t.protocols.livetv,h=!i&&e.isFullServer&&!!t.features.subscribe&&t.features.subscribe.flavor===Eee;return Object.assign({type:a,subtype:o,title:s,viewedLeafCount:l,unviewedLeafCount:c,isLiveTV:p,showRecord:h,showTogglePlayed:d},u)})},function(e,t){var n={serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataItemEntityID:t.metadataItemEntityID,metricsPage:t.metricsPage,metricsContext:t.metricsContext};return{onPlayPress:function(){e(Ire(n))},onPlayLiveTVPress:function(){e(bMe(n))},onPlayTrailerPress:function(){e(Cre(n))},onPlayRadioPress:function(){e(Mre(Object.assign({playlistType:rr.a},n)))},onPlayArtistTVPress:function(){e(Mre(Object.assign({playlistType:rr.c},n)))},onShufflePress:function(){e(kre(n))},onMarkPlayedConfirm:function(){e(Nde(Object.assign({},n,{skipConfirm:!0})))},onMarkUnplayedConfirm:function(){e(Ade(Object.assign({},n,{skipConfirm:!0})))},onEditPress:function(){e(vde(n))},onSyncPress:function(){e(Dde(n))},onGetInfoPress:function(){e(yde(n))},onCancelDownloadActivity:function(){e(Zde(n))},onDeleteDownloadSubscription:function(){e(Jde(n))},onCreateDownloadSubscription:function(){e(Xde(n))}}})(pTt);function fTt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-toolbar-artwork-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m56 504h448v-448h-448v448m336-252l-106.2 106.2 103.8 103.8h-39.598l-126-126-126 126v-364h364v224l-70-70m-168-112c30.907 0 56 25.09 56 56 0 30.907-25.09 56-56 56-30.907 0-56-25.09-56-56 0-30.907 25.09-56 56-56"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}fTt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var gTt=fTt,vTt=n(344),mTt=n.n(vTt),yTt=Xf.a.Component,bTt=Xf.a.Fragment,STt=hv()(gTt,{});var ITt=z8e(function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onSiblingsMenuButtonPress=function(e){r.setState({isSiblingsMenuOpen:!r.state.isSiblingsMenuOpen})},r.onSiblingsMenuClose=function(){r.setState({isSiblingsMenuOpen:!1})},r.onToggleArtworkPress=function(e){r.props.onArtworkToggle(!r.props.isArtworkButtonSelected)},r.state={isSiblingsMenuOpen:!1},r._siblingsMenuButtonID=PS(),r}Sy()(t,e);var n=t.prototype;return n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.siblingsMetadataListEntityID,a=e.sourceDirectory,o=e.metadataKey,l=e.grandparentTitle,c=e.parentTitle,u=e.title,d=e.skipParent,p=e.grandparentRoute,h=e.parentRoute,f=e.showArtworkButton,g=e.isArtworkButtonSelected,v=e.listType,m=e.listSubtype,y=e.listStyle,b=e.allListStyles,S=this.state.isSiblingsMenuOpen;if(!o)return null;var I=!!i,C=v&&function(e,t){return bh(t)||Sh(e)}(b,y);return hv()(V4e,{className:I||f&&!C?mTt.a.altPageHeader:mTt.a.pageHeader},void 0,hv()(Vet,{containerComponent:_1,serverEntityID:t,providerEntityID:n,sourceDirectory:a},void 0,l?hv()(G1,{title:l,to:p,hasMenu:!1,isDisabled:!p}):null,!d&&c?hv()(G1,{title:c,to:h,hasMenu:!1,isDisabled:!h}):null,u?hv()(G1,{id:this._siblingsMenuButtonID,title:u,hasMenu:I,isMenuOpen:S,isDisabled:!I,onPress:this.onSiblingsMenuButtonPress}):null,I?hv()(Vfe,{serverEntityID:t,providerEntityID:n,metadataListEntityID:i,component:APt,initialSize:1/0,target:this._siblingsMenuButtonID,isOpen:S,selectedKey:o,onMenuClose:this.onSiblingsMenuClose}):null),hv()(B1,{},void 0,hv()(hTt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),f?hv()(u5e,{className:mTt.a.divider}):null,f?hv()(x1,{tooltip:g?Object(Xn.default)("Hide Artwork"):Object(Xn.default)("Show Artwork"),"data-qa-id":"toolbarToggleArtwork",isSelected:g,hideOnPress:!1,tooltipAttachment:C||I?s.BOTTOM_CENTER:s.BOTTOM_RIGHT,onPress:this.onToggleArtworkPress},void 0,STt):null,C?hv()(bTt,{},void 0,hv()(u5e,{className:mTt.a.divider}),hv()(O5e,{listType:v,listSubtype:m,listContext:Tp,selectedListStyle:y,allListStyles:b})):null,I?hv()(u5e,{className:mTt.a.divider}):null,I?hv()(PPt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i}):null))},t}(yTt),function(e){return{siblingKey:e.ui.prePlayPage.siblingKey}},function(e,t){e(HHe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,siblingKey:t.siblingKey}))}),CTt=iZ(function(){return Object(Iy.createSelector)(function(e,t){return t.metricsContext},function(e){return e.ui.prePlayPage},XS,xse,nCt(),Qse(),Object(Iy.createSelector)(Qse(),function(e){if(e){var t=e.skipParent,n=t?e.grandparentKey:e.parentKey;if(n){var r=t?"grandchildren":"children";return F.join([n,r])}}}),WSt,eot,GSt(),function(e,t,n,r,i,a,o,s,l,c){var u=a.grandparentKey,d=a.parentKey,p=a.key,h=a.grandparentTitle,f=a.parentTitle,g=a.title,v=a.skipParent,m=a.subtype,y=rot(l,Tp,c,m,r),b=not(c,m,Tp,r),S={};return e&&(S.context=e),{siblingsMetadataListEntityID:t.siblingList,sourceDirectory:i,metadataKey:p,siblingKey:o,grandparentTitle:h,parentTitle:f,title:g,skipParent:v,grandparentRoute:Og(n,r,u,S),parentRoute:Og(n,r,d,S),showArtworkButton:!!a.art,isArtworkButtonSelected:s,listType:c,listSubtype:m,listStyle:y,allListStyles:b}})},function(e,t){return{onArtworkToggle:function(t){e(Wo({showPrePlayArtwork:t}))}}})(ITt),MTt=hv()(WZe,{},void 0,hv()(ZE.a,{}));var DTt=function(e){var t=e.serverEntityID,n=e.providerEntityID,r=e.metadataItemEntityID,i=e.metadataListEntityID,a=e.showSpinner,o=e.showError,s=e.activeSelectionType,l=e.columnAdjustment,c=e.record,u=e.allEpisodes,d=e.multiSelectToolbarComponent;return a?MTt:o?hv()(Crt,{title:Object(Xn.default)("There was an unexpected error loading this item")}):hv()(D1,{metricsPage:Pa,isMetricsDelegated:!0,disableBackgroundPreset:!0,scrollDirection:Zp},void 0,s?hv()(e5e,{serverEntityID:t,providerEntityID:n,toolbarComponent:d,allowRedirectOnDelete:!0}):hv()(CTt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r}),hv()(yPt,{serverEntityID:t,providerEntityID:n,metadataItemEntityID:r,metadataListEntityID:i,columnAdjustment:l,record:c,allEpisodes:u}))},wTt=Xf.a.createElement,PTt=Xf.a.Component;var TTt={dispatchChangeQuickSearchSettings:pse};var ETt=z8e(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLibraryChange=function(){t.props.dispatchChangeQuickSearchSettings({serverEntityID:t.props.serverEntityID,providerEntityID:t.props.providerEntityID,providerIdentifier:Cn.d,sectionID:t.props.librarySectionID})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.onLibraryChange()},n.componentDidUpdate=function(e){this.props.librarySectionID!==e.librarySectionID&&this.onLibraryChange()},n.componentWillUnmount=function(){this.props.dispatchChangeQuickSearchSettings({serverEntityID:this.props.serverEntityID,providerEntityID:this.props.providerEntityID,providerIdentifier:null,sectionID:null})},n.render=function(){var e=this.props,t=(e.dispatchChangeQuickSearchSettings,wt()(e,["dispatchChangeQuickSearchSettings"]));return wTt(DTt,t)},t}(PTt),function(e){var t=e.ui.playlistPage;return{serverEntityID:t.serverEntityID,metadataKey:t.metadataKey}},function(e,t){e(xSt({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(jSt())}),xTt=Lm(function(e,t){return Object(Iy.createSelector)(function(e){return e.ui.playlistPage},Py,_fe,Object(Iy.createSelector)(function(e){return e.ui.playlistPage.playlist},function(e){return e.ui.playlistPage.playlistItemList},ESt,$N,function(e,t,n,r){var i=r[e],a=i&&i.playlistType===nr.h,o=t&&t.metadataItems.length;if(a&&o)return r[n[t.metadataItems[0]].metadataItem].librarySectionID}),function(e,t,n,r){var i=e.playlist,a=e.isPlaylistPending,o=e.playlistError;return{metadataItemEntityID:i,librarySectionID:r,showSpinner:a,showError:!a&&!!o,columnAdjustment:t.columnAdjustment,activeSelectionType:n.activeSelectionType,multiSelectToolbarComponent:VSt}})},TTt)(ETt);var OTt=Lm(function(){return Object(Iy.createSelector)(nCt(),function(e){return{sourceDirectoryKey:e?e.hubKey||e.key:null}})})(W0e),jTt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=Object(Tr.a)(Er.n,t),o=Object(Tr.a)(Er.l,n||Cn.d,a),s=Object(Tr.a)(Er.h,i.key,a);return hv()(i2e,{metricsContext:i.context},void 0,hv()(eXe,{},void 0,hv()(OTt,{serverEntityID:a,providerEntityID:o,metadataItemEntityID:s}),hv()(R8e,{serverEntityID:a},void 0,hv()(xTt,{machineIdentifier:t,serverEntityID:a,providerEntityID:o,metadataKey:i.key}))))}}),ATt=hv()(W0e,{}),NTt=Rm.extend({component:function(e){var t=e.selectedProviderID,n=e.params,r=cv.a,i=Object(Tr.a)(Er.n,r),a=Object(Tr.a)(Er.l,t,i);return hv()(i2e,{metricsContext:n.context},void 0,hv()(eXe,{},void 0,ATt,hv()(Xmt,{serverEntityID:i,providerEntityID:a},void 0,hv()(xTt,{machineIdentifier:r,selectedProviderID:t,serverEntityID:i,providerEntityID:a,metadataKey:n.key}))))}}),kTt=Object(Iy.createSelector)(function(e){return e.ui.prePlayPage.metadataItem},$N,function(e,t){var n=t[e]||{};return!(!n||!n.isPreFetched)});var LTt=z8e(DTt,function(e){var t=e.ui.prePlayPage;return{providerEntityID:t.providerEntityID,metadataKey:t.metadataKey}},function(e,t){e(FHe({serverEntityID:t.serverEntityID,providerEntityID:t.providerEntityID,metadataKey:t.metadataKey})),e(WHe()),e(GHe())}),RTt=Lm(function(){return Object(Iy.createSelector)(function(e){return e.ui.prePlayPage},kTt,_fe,Py,function(e,t,n,r){var i=e.metadataItem,a=e.descendantList,o=e.isMetadataItemPending,s=e.metadataItemError;return{metadataItemEntityID:i,metadataListEntityID:a,showSpinner:o&&!t,showError:!o&&!!s,activeSelectionType:n.activeSelectionType,columnAdjustment:r.columnAdjustment}})})(LTt),_Tt=Rm.extend({component:function(e){var t=e.selectedServerID,n=e.selectedProviderID,r=e.params,i=void 0===r?{}:r,a=i.key,o=i.record,s=i.allEpisodes,l=Object(Tr.a)(Er.n,t),c=Object(Tr.a)(Er.l,n||Cn.d,l),u=Object(Tr.a)(Er.h,a,l);return hv()(i2e,{metricsContext:i.context},void 0,hv()(eXe,{},void 0,hv()(OTt,{serverEntityID:l,providerEntityID:c,metadataItemEntityID:u}),hv()(R8e,{serverEntityID:l},void 0,hv()(RTt,{serverEntityID:l,providerEntityID:c,metadataKey:a,record:1===parseInt(o,10),allEpisodes:1===parseInt(s,10)}))))}}),UTt=Rm.extend({component:function(e){var t=e.selectedProviderID,n=e.params,r=void 0===n?{}:n,i=r.key,a=r.record,o=r.allEpisodes,s=Object(Tr.a)(Er.n,cv.a),l=Object(Tr.a)(Er.l,t,s),c=Object(Tr.a)(Er.h,i,s);return hv()(i2e,{metricsContext:r.context},void 0,hv()(eXe,{},void 0,hv()(OTt,{serverEntityID:s,providerEntityID:l,metadataItemEntityID:c}),hv()(Cht,{providerEntityID:l},void 0,hv()(RTt,{serverEntityID:s,providerEntityID:l,metadataKey:i,record:1===parseInt(a,10),allEpisodes:1===parseInt(o,10)}))))}}),zTt=Object(Iy.createSelector)(My,function(e){return e.transientServer},function(e,t){return e[t]}),FTt=Xf.a.createElement;var BTt=function(e){return e.serverEntityID&&e.providerEntityID?FTt(RTt,e):hv()(o8e,{title:Object(Xn.default)("No longer available"),description:Object(Xn.default)("Details can only be mirrored temporarily while casting")},void 0,hv()(RS,{to:"#",kind:a.PRIMARY},void 0,Object(Xn.default)("Go Home")))};var HTt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.providerIdentifier},ek,zTt,function(e,t,n){if(n)for(var r=n.providers,i=0,a=r.length;i<a;i++){var o=t[r[i]];if(o.identifier===e)return{serverEntityID:n.entityID,providerEntityID:o.entityID}}return{}})})(BTt);HTt.propTypes=Object.assign({},HTt.propTypes,{providerIdentifier:Dp.a.string.isRequired});var VTt=HTt,QTt=hv()(W0e,{}),WTt=Rm.extend({component:function(e){var t=e.selectedProviderID,n=e.params,r=void 0===n?{}:n;return hv()(eXe,{},void 0,QTt,hv()(VTt,{providerIdentifier:t,metadataKey:r.key}))}}),GTt=lv.extend({search:function(e,t,n){this.populateView().done(function(){z.a.trigger("show:view",new TSt({selectedServerID:e,query:t,params:F.parseParams(n)}))})},providerSearch:function(e,t,n){this.populateView().done(function(){z.a.trigger("show:view",new pSt({selectedProviderID:e,query:t,params:F.parseParams(n)}))})},album:function(e,t,n){this.populateView().done(function(){z.a.trigger("show:view",new jTt({selectedServerID:e,selectedProviderID:t,isPlaylistRoute:!1,params:F.parseParams(n)}))})},playlist:function(e,t,n){this.populateView().done(function(){z.a.trigger("show:view",new jTt({selectedServerID:e,selectedProviderID:t,params:F.parseParams(n)}))})},providerPlaylist:function(e,t){this.populateView().done(function(){z.a.trigger("show:view",new NTt({selectedProviderID:e,params:F.parseParams(t)}))})},prePlay:function(e,t,n){this.populateView().done(function(){z.a.trigger("show:view",new _Tt({selectedServerID:e,selectedProviderID:t,params:F.parseParams(n)}))})},transientPrePlay:function(e,t){this.populateView().done(function(){z.a.trigger("show:view",new WTt({selectedProviderID:e,params:F.parseParams(t)}))})},providerPrePlay:function(e,t){this.populateView().done(function(){z.a.trigger("show:view",new UTt({selectedProviderID:e,params:F.parseParams(t)}))})}}),YTt=nv.extend({controller:new GTt,appRoutes:{"!/server/:serverID/search/:query":"search","!/provider/:providerID/search/:query":"providerSearch","!/provider/:providerID/details":"providerPrePlay","!/provider/:providerID/playlist":"providerPlaylist","!/server/:serverID(/provider/:providerID)/album":"album","!/server/:serverID(/provider/:providerID)/playlist":"playlist","!/server/:serverID(/provider/:providerID)/details":"prePlay","!/transient/provider/:providerID/details":"transientPrePlay"}}),KTt=[{key:"general",title:function(){return Object(Xn.default)("General")}},{key:"quality",title:function(){return Object(Xn.default)("Quality")}},{key:"debug",title:function(){return Object(Xn.default)("Debug")},isAdvanced:!0},{key:"player",title:function(){return Object(Xn.default)("Player")}}];var qTt=n(1121),ZTt=n.n(qTt),XTt=U.ItemView.extend({template:ZTt.a});var JTt=function(e,t,n){return null==n&&(n=e+"s"),1===t?e:n},$Tt=n(1122),eEt=n.n($Tt),tEt=U.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:eEt.a,ui:{icon:".device-icon",syncInfo:".sync-info"},events:{"click .remove-device-btn":"onRemoveClick"},isMediaServer:function(){if(null==this.isServer){var e=this.model.get("product").toLowerCase();this.isServer="plex media server"===e}return this.isServer},bindings:{".device-icon":{modelAttribute:"product",modelListeners:["product","platform"],manual:!0,formatter:function(e,t){var n=UR(e,this.model.get("platform"));t.attr("src",n)}},".name":{modelAttribute:"name",modelListeners:["name","product"],autohide:!1,formatter:function(e){return e||this.model.get("product")}},".version":{modelAttribute:"productVersion",autohide:!1},".product":{modelAttribute:"product",autohide:!1},".platform":{modelAttribute:"platform",autohide:function(e){return e&&this.isMediaServer()}},".platform-version":{modelAttribute:"platformVersion",autohide:function(e){return e&&this.isMediaServer()}},".device":{modelAttribute:"device",autohide:!1},".last-seen":{modelAttribute:"lastSeenAt",autohide:!0,formatter:function(e,t){return eA(e)}},".sync-count":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("itemsCompleteCount");return n&&n>0&&(t=[n,JTt("item",n)].join(" "),this.ui.syncInfo.removeClass("hidden")),t}}},".sync-size":{modelAttribute:"syncList",autohide:!1,formatter:function(e){if(e){var t,n=e.get("totalSize");return n&&n>0&&(t=["(",K6(n),")"].join("")),t}}}},onRemoveClick:function(e){e.preventDefault(),this.isMediaServer()?bt.execute("removeServer",{device:this.model}):bt.execute("removeDevice",{device:this.model})}}),nEt=Of.extend({tagName:"ul",className:"list card-tile-list",itemView:tEt,emptyView:XTt}),rEt=n(1123),iEt=n.n(rEt),aEt=U.Layout.extend({className:"devices-container",template:iEt.a,regions:{list:".device-list-container"},events:{"click .dropdown-menu a":"onDeviceTypeDropdownClick","click .nav a":"onDeviceTypeClick"},ui:{filters:".nav a"},deviceTypes:[{id:"all",title:"All",ids:["all"]},{id:"web",title:"Web",ids:["Web Client","Plex Web"]},{id:"pht",title:"HTPC",ids:["Plex Home Theater","Plex for Home Theater","PlexHomeTheater","Plex Media Center","Plex Media Player"]},{id:"desktop",title:"Desktop",ids:["Plex for Mac","Plex for Windows","Plex for Linux"]},{id:"pms",title:"Server",ids:["Plex Media Server"]},{id:"android",title:"Android",ids:["Plex for Android","Android","Plex for Android (Mobile)","Plex for Android (TV)"]},{id:"ios",title:"iOS",ids:["Plex/iOS","Plex for iOS"]},{id:"samsung",title:"Samsung",ids:["Plex for Samsung"]},{id:"google-tv",title:"Google TV",ids:["Google TV"]},{id:"windows",title:"Windows",ids:["Plex for Windows"]},{id:"apple-tv",title:"Apple TV",ids:["Plex-ATV","Plex for Apple TV"]},{id:"windows-phone",title:"Windows Phone",ids:["Plex for Windows Phone"]},{id:"plexbmc",title:"PleXBMC",ids:["PleXBMC"]},{id:"roku",title:"Roku",ids:["Plex for Roku"]},{id:"popcorn-hour",title:"Popcorn Hour",ids:["Plex for Popcorn Hour"]},{id:"playstation",title:"PlayStation",ids:["Plex for PlayStation 4"],platforms:["Mystery 3"]},{id:"xbox",title:"Xbox",ids:["Plex for Xbox One","Plex for Xbox 360"]},{id:"other",title:"Other",ids:[]}],initialize:function(e){this.products=this.collection.products(),this.addOtherIds(),this.filteredDeviceTypes=this.getFilteredDeviceTypes(),this.selectedDeviceType=this.getDeviceType(e.deviceTypeID),this.selectedDevices=this.getSelectedDevices(),Pu("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1})},serializeData:function(){return{selectedDeviceType:this.selectedDeviceType,deviceTypes:this.filteredDeviceTypes}},sortDeviceTypes:function(e){return C.a.sortBy(e,function(e){return"all"===e.id?"":e.title.toLowerCase()})},getDeviceType:function(e){var t=this.deviceTypes[0];return e&&this.filteredDeviceTypes.find(function(t){return t.id===e})||t},getSelectedDevices:function(){if("all"===this.selectedDeviceType.id)return this.collection;var e=this.collection.filterByProducts(this.selectedDeviceType.ids);if(this.selectedDeviceType.platforms){var t=this.collection.filterByPlatforms(this.selectedDeviceType.platforms);e.add(t.models)}return e},getFilteredDeviceTypes:function(){var e=this.deviceTypes.filter(function(e){return"all"===e.id||C.a.intersection(this.products,e.ids).length>0},this);return this.sortDeviceTypes(e)},addOtherIds:function(){var e=C.a.flatten(C.a.map(this.deviceTypes,function(e){return e.ids})),t=C.a.difference(this.products,e),n=C.a.find(this.deviceTypes,function(e){return"other"===e.id});C.a.each(t,function(e){n.ids.push(e)})},onRender:function(){this.list.show(new nEt({collection:this.selectedDevices}))},onDeviceTypeDropdownClick:function(e){e.preventDefault();var t=P()(e.currentTarget).data("id");this.selectedDeviceType=this.getDeviceType(t),this.selectedDevices=this.getSelectedDevices(),Pu("devices",{deviceTypeID:this.selectedDeviceType.id,replace:!0,trigger:!1}),this.render()},onDeviceTypeClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.data("id"),r=this.collection;if(this.ui.filters.removeClass("selected"),t.addClass("selected"),"all"!==n){var i=C.a.findWhere(this.deviceTypes,{id:n});r=this.collection.filterByProducts(i.ids)}this.list.show(new nEt({collection:r}))}}),oEt=hv()(z7,{selectedKey:"devices"}),sEt=hv()(Gq,{},void 0,hv()(ZE.a,{})),lEt=Rm.extend({initialize:function(e){var t=this;this.options={isPopulated:!1};var n=Object(J.c)("appModel").get("user"),r=n.get("desktop").get("devices"),i=r.fetch({scope:"page"});i.done(function(){Object.assign(t.options,{model:n,collection:r,subset:"devices",deviceTypeID:e.deviceTypeID,isPopulated:!0}),t.render()}),i.fail(function(){Object.assign(t.options,{hasError:!0,errorMessage:Object(Xn.default)("Your devices are unavailable."),isPopulated:!0}),t.render()})},component:function(e){var t=e.isPopulated,n=e.hasError,r=e.errorMessage;return hv()(mv,{},void 0,oEt,t?null:sEt,t&&n?hv()(Zq,{title:r}):null,t&&!n?hv()(q8,{metricsPage:"devices"},void 0,hv()(H8,{},void 0,Object(Xn.default)("Authorized Devices")),hv()(m8,{view:aEt,viewOptions:e})):null)}});var cEt=function(e,t){var n=Wf(e),r=n.base,i=n.searchParams,a=n.hashPath,o=n.hashParams,s=Object(w5.a)(i);return r+"?"+Object(P5.a)(Object.assign({},s,t))+(a||o?"#":"")+a+o},uEt={NONE:100,SMALL:150,LARGE:200,HUGE:250};uEt.settings=[{value:uEt.NONE,title:"None"},{value:uEt.SMALL,title:"Small"},{value:uEt.LARGE,title:"Large"},{value:uEt.HUGE,title:"Huge"}];var dEt=uEt,pEt=n(1124),hEt=n.n(pEt),fEt=[{value:0,title:"None"},{value:1,title:"1"},{value:2,title:"2"},{value:3,title:"3"},{value:4,title:"4"},{value:5,title:"5"}],gEt=U.ItemView.extend({className:"web-settings-container",template:hEt.a,ui:{chromecastCustomGroup:"#chromecast-custom-group",customHomeStreamingSettings:".custom-home-streaming-settings",recommendedHomeStreamingSettings:".recommended-home-streaming-settings",toggleSyncBtn:".toggle-sync-btn",resetCustomizationBtn:".reset-customization-btn",restoreBtn:".restore-btn",submitBtn:".submit-btn",message:".form-message"},events:{"click .toggle-advanced-btn":"onToggleAdvancedClick","click .reload-securely-btn":"onReloadSecurelyClick","click .settings-nav a":"onSettingsGroupClick","change #chromecastAppID":"onChromecastAppIDChange","change #useHomeStreamingRecommendedSettings":"onUseHomeStreamingRecommendedSettingsChange","change input[id]":"onInputChange","input input[type=text]":"onInputChange","change select[id]":"onInputChange","click .toggle-sync-btn":"onToggleSync","click .reset-customization-btn":"onResetCustomization","click .restore-btn":"onRestore","submit #web-settings-form":"onSubmit"},onlyAfterRender:["saveChanges","displayHomeStreamingSettings"],initialize:function(e){this.changes={};var t=Object(J.c)("appModel"),n=t.get("user"),r=n.get("experienceSettings");this.settingsGroup=e.settingsGroup,this.listenTo(n,"change:signedIn",this.onSignedInChange),this.listenTo(t,"change:primaryServer",this.render),this.listenTo(z.a,"shortcut:save",this.saveChanges);var i=r.get("showAdvancedSettings");(this.$el.toggleClass("show-advanced",i),this.displayHomeStreamingSettings(r.get("useHomeStreamingRecommendedSettings")),"general"===this.settingsGroup)&&Object(J.c)("appStore").dispatch(Os({hasDismissedInsecureHostedAppWarning:!0}))},serializeData:function(){var e,t=[{value:"h:mma",title:Object(Xn.default)("12 Hour")},{value:"HH:mm",title:Object(Xn.default)("24 Hour")}],n=this.model.toJSON(),r=Object(J.c)("appModel").get("user"),i=r.get("experienceSettings").toJSON(),a=r.hasHome(),o=r.isNinja(),s=r.get("restricted"),l=r.get("isSignedIn")&&te.a.get("allowSyncSettings")&&!i.isRemoteSchemaVersionNewer,c=r.get("isSignedIn")&&te.a.get("allowSyncSettings")&&i.isRemoteSchemaVersionNewer,u=ZWe(),d=gae.prop("video"),p=mg()||!1,h=r.isNinja()?"4.8.3-a283e1a":"4.8.3",f=C.a.escape("Plex"),g=C.a.escape(tt.prop("X-Plex-Product"));return Object.assign({},this.serializePlatformData(),{deviceSettings:n,experienceSettings:i,hasHome:a,canPlayAdaptiveBitrate:u,hasSubtitleBurnLevel:!p,hasSubtitleColor:!mg()&&!0,hasSubtitlePosition:!mg()&&!0,hasSubtitleSize:!mg()&&!0,canForceVideoAds:r.isEmployee(),canDebugAdaptiveBitrate:u&&o,isRestricted:s,isSyncSettingsAllowed:l,isSyncSettingsRestrictedBySchemaVersion:c,isHybridPlatform:p,isNinja:o,isPMPDesktop:mg(),isQtDesktop:!1,version:h,languages:(e=Object.keys(rt.a.getLanguages()).map(function(e){return{value:e,title:sj(e)}}),e.sort(function(e,t){return e.title.localeCompare(t.title)}),e),debugLevels:Jd.settings,subtitlesBurnLevels:Cp.settings,chromecastAppIDs:ep.settings,availableQualities:gd.a.getAvailableQualities({lowestQualityIndex:d.lowestQualityIndex}).reverse(),subtitleColors:yp.settings,subtitlePositions:Sp.settings,subtitleSizes:JDe.settings,audioBoostLevels:dEt.settings,httpFallbackOptions:ve.a.isHostedHttps?null:vp.settings,alertIcon:ig(FR),showReloadSecurely:!1,extrasPrefixCounts:fEt,timeFormats:t,generalSettingsRoute:"#!/settings/web/general",escapedProductShortName:f,escapedProductLongName:g})},serializePlatformData:function(){var e={};return e},saveChanges:function(){var e=this.ui.toggleSyncBtn,t=this.ui.resetCustomizationBtn,n=this.ui.restoreBtn,r=this.ui.submitBtn,i=this.ui.message;if(!r.isDisabled()){i.text(""),i.removeClass("has-error"),e.addClass("disabled"),t.addClass("disabled"),n.addClass("disabled"),r.addClass("active");var a=!!this.changes.language,o=!1===this.changes.shouldSaveLastSourcePivots,s=!(!this.changes.chromecastAppID&&!this.changes.chromecastCustomAppID),l=this.saveSettings();l.done(C.a.bind(function(){var e=Object(J.c)("appStore");this.changes={},o&&e.dispatch(As()),s&&e.dispatch(dae(4)),a||(r.addClass("disabled"),i.text(Object(Xn.default)("Your changes have been saved.")))},this)),l.fail(C.a.bind(function(){var e=Si(Object(J.c)("appModel").get("user"))?Object(Xn.default)("Unable to sync these changes with other devices at this time. Plex will automatically retry later."):Object(Xn.default)("Your changes could not be saved.");i.addClass("has-error"),i.text(e)},this)),l.always(C.a.bind(function(){a||(e.removeClass("disabled"),t.removeClass("disabled"),n.removeClass("disabled"),r.removeClass("active"))},this))}},toggleSync:function(){var e=this,t=this.ui.toggleSyncBtn,n=this.ui.resetCustomizationBtn,r=this.ui.submitBtn,i=this.ui.message;if(!t.isDisabled()){i.text("");var a=this.getToggleSyncConfirmModal();a.promise.then(function(){return t.addClass("active"),n.addClass("disabled"),r.addClass("disabled"),e.toggleShouldSyncSettings().then(function(){e.changes={},e.render(),a.hide()},function(){i.text(Object(Xn.default)("An error occurred, could not load settings from your Plex profile.")),t.removeClass("active"),n.removeClass("disabled"),r.removeClass("disabled"),a.hide()})}),z.a.trigger("show:modal",a)}},resetCustomization:function(){var e=this.ui.resetCustomizationBtn,t=this.ui.toggleSyncBtn,n=this.ui.submitBtn,r=this.ui.message;if(!e.isDisabled()){r.text("");var i=this.getResetCustomizationConfirmModal();i.promise.then(function(){e.addClass("active"),t.addClass("disabled"),n.addClass("disabled"),Object(J.c)("appStore").dispatch(eH({resetCustomization:!0})),i.hide()}),z.a.trigger("show:modal",i)}},restoreDefaults:function(){var e=this,t=this.ui.restoreBtn,n=this.ui.submitBtn,r=this.ui.message;if(!t.isDisabled()){r.text("");var i=this.getRestoreDefaultsConfirmModal();i.promise.then(function(){return t.addClass("active"),n.addClass("disabled"),e.restoreDefaultSettings().then(function(){e.changes={},e.render(),i.hide()},function(){r.text(Object(Xn.default)("An error occurred, defaults have not been restored.")),t.removeClass("active"),n.removeClass("disabled"),i.hide()})}),z.a.trigger("show:modal",i)}},getToggleSyncConfirmModal:function(){var e=Object(J.c)("appModel").get("deviceSettings").get("shouldSyncSettings"),t=e?Object(Xn.default)("Turn off settings sync"):Object(Xn.default)("Turn on settings sync"),n=e?Object(Xn.default)("Changes to Plex Web Client settings and Home customization on this browser will no longer synchronize with other browsers."):Object(Xn.default)("Plex Web Client settings and Home customization on this browser will now be used on other browsers.");return new Qc({title:t,message:n,confirmLabel:t,cancelLabel:Object(Xn.default)("Cancel"),async:!0})},getResetCustomizationConfirmModal:function(){var e=Object(Xn.default)("Reset customization");return new Qc({title:e,message:Object(Xn.default)("You are about to reset your sidebar navigation and home screen layout to the default state."),confirmLabel:e,cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0})},getRestoreDefaultsConfirmModal:function(){var e=Si(Object(J.c)("appModel").get("user")),t=Object(Xn.default)("Restore defaults"),n=e?Object(Xn.default)("All Plex Web Client settings, including home screen customization, will be reset and restored to their default state. This will affect other browsers where you use the Web Client."):Object(Xn.default)("All Plex Web Client settings, including home screen customization, will be reset and restored to their default state. Other browsers will not be affected.");return new Qc({title:t,message:n,confirmLabel:t,cancelLabel:Object(Xn.default)("Cancel"),async:!0,hasDanger:!0})},waitForAttribute:function(e,t,n){var r=P.a.Deferred(),i="change:"+t;return e.on(i,function t(a,o){o===n&&(e.off(i,t),r.resolve())}),r.promise()},saveSettings:function(){var e=this,t=[],n=Object(J.c)("appModel"),r=[{model:n.get("deviceSettings"),actionCreator:Os},{model:n.get("user").get("experienceSettings"),actionCreator:Wo}].reduce(function(n,r){var i=r.model,a=r.actionCreator,o={},s={};for(var l in n){var c,u=n[l];if(i.hasAttr(l)){var d=Object.getPrototypeOf(i),p=d.syncedAttrs[l]||d.sessionAttrs[l];"string"==typeof u&&p===Me.a.integer&&(u=Object(Fr.a)(u)),c=o}else c=s;c[l]=u}return Object.keys(o).length&&t.push(e.saveSettingUsingActionCreator(o,i,a)),s},this.changes);return Object.keys(r).length&&t.push(this.model.save(r)),t.length?P.a.when.apply(P.a,t):P.a.Deferred().resolve().promise()},toggleShouldSyncSettings:function(){var e=this,t=Object(J.c)("appModel").get("deviceSettings"),n=Object(J.c)("appModel").get("user").get("experienceSettings"),r=t.get("shouldSyncSettings");return this.saveSettingUsingActionCreator({shouldSyncSettings:!r},t,Os).then(function(){return e.saveSettingUsingActionCreator({},n,Wo)})},restoreDefaultSettings:function(){var e=this,t=[],n=Object(J.c)("appModel");return[{model:n.get("deviceSettings"),actionCreator:jg},{model:n.get("user").get("experienceSettings"),actionCreator:Ko}].forEach(function(n){var r=n.model,i=n.actionCreator;t.push(e.saveSettingUsingActionCreator({},r,i))}),P.a.when.apply(P.a,t)},saveSettingUsingActionCreator:function(e,t,n){var r=this;if(!t.has("isSaving"))return Object(J.c)("appStore").dispatch(n(e)),P.a.Deferred().resolve().promise();var i=t.get("isSaving"),a=this.waitForAttribute(t,"isSaving",!1);return a=a.then(function(){return i?r.saveSettingUsingActionCreator(e,t,n):t.get("saveError")?P.a.Deferred().reject().promise():P.a.Deferred().resolve().promise()}),i||setTimeout(function(){Object(J.c)("appStore").dispatch(n(e))},0),a},displayHomeStreamingSettings:function(e){this.ui.customHomeStreamingSettings.toggleClass("hidden",e),this.ui.recommendedHomeStreamingSettings.toggleClass("hidden",!e)},onRender:function(){this.$("#"+this.settingsGroup+"-web-group").addClass("active"),this.$("#"+this.settingsGroup+"-web-group-footer").addClass("active")},onSignedInChange:function(e,t){null!=t&&this.render()},onToggleAdvancedClick:function(e){e.preventDefault();var t=this.$el.hasClass("show-advanced");this.$el.toggleClass("show-advanced",!t),t&&"debug"===this.settingsGroup&&(window.location.hash="#!/settings/web/general"),Object(J.c)("appStore").dispatch(Wo({showAdvancedSettings:!t}))},onReloadSecurelyClick:function(e){window.location=cEt(Ci(window.location.href,"https:"),{secure:1})},onSettingsGroupClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.attr("href");this.$(".settings-group").removeClass("active"),this.$(n).addClass("active"),this.$(".nav a").removeClass("selected"),t.addClass("selected")},onChromecastAppIDChange:function(e){var t=e.currentTarget.value===ep.CUSTOM;this.ui.chromecastCustomGroup.toggleClass("hidden",!t)},onUseHomeStreamingRecommendedSettingsChange:function(e){this.displayHomeStreamingSettings(!!e.currentTarget.checked)},onInputChange:function(e){var t=P()(e.currentTarget),n=e.currentTarget,r=n.value;"checkbox"===n.type&&(r=t.prop("checked")),"int"===t.data("type")&&(r=parseInt(r,10)),this.changes[n.id]=r,this.ui.submitBtn.removeClass("disabled"),this.ui.message.text(""),this.ui.message.removeClass("has-error")},onToggleSync:function(e){e.preventDefault(),this.toggleSync()},onResetCustomization:function(e){e.preventDefault(),this.resetCustomization()},onRestore:function(e){e.preventDefault(),this.restoreDefaults()},onSubmit:function(e){e.preventDefault(),this.saveChanges()}}),vEt=hv()(cE,{}),mEt=Rm.extend({initialize:function(){this.listenTo(z.a,"change:language",this.render)},component:function(e){var t=e.webSettingsSubset,n=t.key,r=t.title,i=wt()(e,["webSettingsSubset"]);return hv()(mv,{},void 0,hv()(z7,{selectedKey:"web-client--settings--"+n}),hv()(q8,{metricsPage:"settings",metricsPane:"web:"+n},void 0,hv()(H8,{},void 0,h9(),vEt,r()),hv()(m8,{view:gEt,viewOptions:Object.assign({},i,{settingsGroup:n})})))}}),yEt=lv.extend({settings:function(){return this.webSettings("general")},webSettings:function(e){var t=this;this.populateView().done(function(){var n,r=Object(J.c)("appModel").get("user").get("experienceSettings").get("showAdvancedSettings"),i=(n=e,KTt.find(function(e){return e.key===n}));!i||i.isAdvanced&&!r?Pu("webSettings",{settingsSubset:"general"}):t.showWebSettingsView(function(e){z.a.trigger("show:view",new mEt({model:e,subset:"web",webSettingsSubset:i}))})})},legacyWebSettings:function(){return this.webSettings("general")},showWebSettingsView:function(e){this.populateView().done(function(){var t=Object(J.c)("appModel"),n=t.get("deviceSettings"),r=t.get("user"),i=r.get("homeUsers"),a=r.server.populate();function o(){e(n)}a.done(function(){r.get("signedIn")?i.populate().always(o):o()}),a.fail(o)})},legacyServerSettings:function(e,t){var n;if(t){var r=W4.find(function(e){return!!e.groups.find(function(e){return e.key===t})});r&&(n=r.key)}else n="settings",t="general";this.showServerSettingsView(e,n,t)},serverSettings:function(e,t){this.showServerSettingsView(e,"settings",t)},manage:function(e,t){this.showServerSettingsView(e,"manage",t)},showServerSettingsView:function(e,t,n){var r=this.getPopulateOptions(e);this.populateView(r).done(function(){z.a.trigger("show:view",new B7({settingsSection:t,group:n,serverID:e}))})},devices:function(e){var t={serverID:cv.a,showLoading:!this.isReload(cv.a)};this.populateView(t).done(function(){z.a.trigger("show:view",new lEt({deviceTypeID:e}))})},getPopulateOptions:function(e){return{showLoading:!this.isReload(e)}}}),bEt=nv.extend({controller:new yEt,appRoutes:{"!/settings/server/:serverID/settings/:group":"serverSettings","!/settings/server/:serverID/manage/:group":"manage","!/settings/web/(:settingsSubset)":"webSettings","!/settings/devices(/:deviceTypeID)":"devices","!/settings":"settings","!/settings/web":"legacyWebSettings","!/settings/server(/:serverID)(/:group)":"legacyServerSettings"}});var SEt=function(e){return e.get("desktop").get("settings").populate().then(function(e){return e.get("AcceptedEULA").save({AcceptedEULA:!0})})},IEt=n(1125),CEt=n.n(IEt),MEt=U.ItemView.extend({className:"setup-basic-container",template:CEt.a,ui:{modalContainer:".modal-container",connectCheckbox:"#connect",publishServerCheckbox:"#PublishServerOnPlexOnlineKey",submitBtn:".submit-btn",nextBtn:".next-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-basic-form":"onSubmit","change #PublishServerOnPlexOnlineKey":"onPublishSettingChange"},initialize:function(){C.a.bindAll(this,"onPlexPassModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.model.isVersionOrNewer("0.9.15.5")?this.changes={PublishServerOnPlexOnlineKey:1}:this.changes={FirstRun:0,PublishServerOnPlexOnlineKey:1};var e=this.model.get("superToken");e&&(this.changes.PlexOnlineToken=e);var t=Object(J.c)("appModel").get("user").get("hasPlexSubscription");this.isPlexPassModalOpen=!this.model.get("isDesktop")&&!t},serializeData:function(){var e=this.model.toJSON(),t=this.collection.get("FriendlyName"),n=this.collection.get("PublishServerOnPlexOnlineKey");return{server:e,friendlyNameSetting:t?t.toJSON():null,publishSetting:n?n.toJSON():null}},mountReact:function(){Bv.a.render(hv()(Wv,{store:Object(J.c)("appStore")},void 0,hv()(VH,{metricsProperties:{context:"setupWizard",firstRun:!0},isOpen:this.isPlexPassModalOpen,onModalClose:this.onPlexPassModalClose})),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Bv.a.unmountComponentAtNode(this.ui.modalContainer[0])},submit:function(){var e=this,t=this.ui.submitBtn;if(!t.hasClass("active")){t.addClass("active"),Object(J.c)("metrics").trackClick({action:"remoteAccess",page:"setupWizard",pane:"name",firstRun:!0,value:this.ui.publishServerCheckbox.is(":checked")});var n=this.save();(n=n.done(function(){e.ui.nextBtn.click()})).always(function(){t.removeClass("active")})}},save:function(){var e=this;return this.saveChanges().then(function(){return e.claimServer()})},saveChanges:function(){return(C.a.isEmpty(this.changes)?P.a.Deferred().resolve().promise():this.collection.first().save(this.changes)).then(null,function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem saving these settings.")})})},claimServer:function(){var e=this;if(!(this.model.supports("claimServer")&&!this.model.get("isClaimed")&&!this.model.get("superToken")))return P.a.Deferred().resolve().promise();var t=Object(J.c)("appModel").get("cloudServer");return q(t.populate().then(function(){return bt.execute("signInServer",{claim:!0,cloudAccount:e.model.get("desktop").get("cloudAccount")}).then(null,function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem claiming this server.")})})}))},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onPlexPassModalClose:function(){this.isPlexPassModalOpen=!1,this.mountReact()}}),DEt=n(1126),wEt=n.n(DEt),PEt=n(1127),TEt=n.n(PEt),EEt=U.ItemView.extend({className:"setup-complete-container",template:TEt.a,ui:{modalContainer:".modal-container",submitBtn:".submit-btn",doneBtn:".done-btn"},collectionEvents:{reset:"render"},events:{"change input[id]":"onInputChange","submit #setup-complete-form":"onSubmit"},initialize:function(){var e=this;C.a.bindAll(this,"onDVRSetupModalClose"),this.collection=this.model.get("desktop").get("settings"),this.collection.populate({reset:!0}),this.changes={},this.isDVRSetupModalOpen=!1;var t=J.c("appModel").get("user");t.get("isSignedIn")&&t.fetch().done(this.whenRendered(function(){e.ui.submitBtn.removeClass("active")}))},serializeData:function(){var e=this.collection.get("collectUsageData");return{devicesImg:wEt.a,collectUsageDataSetting:e?e.toJSON():null}},mountReact:function(){Bv.a.render(hv()("div",{},void 0,this.isDVRSetupModalOpen?hv()(Wv,{store:J.c("appStore")},void 0,hv()(pK,{serverEntityID:this.model.entityID(),isModalOpen:this.isDVRSetupModalOpen,onModalClose:this.onDVRSetupModalClose})):null),this.ui.modalContainer[0])},unmountReact:function(){this.isRendered&&Bv.a.unmountComponentAtNode(this.ui.modalContainer[0])},fetchDVRs:function(){var e=P.a.Deferred();return new Yx([],{server:this.model}).fetch().then(function(t){t.filter(function(e){return!e.get("parentID")&&e.get("status")===Fx}).length?e.resolve():e.reject()},function(){e.reject()}),e.promise()},submit:function(){var e=this.ui.submitBtn;e.hasClass("active")||(e.addClass("active"),this.save().always(this.whenRendered(function(){this.ui.doneBtn.click(),e.removeClass("active")})))},save:function(){this.saved=!0,C.a.has(this.changes,"collectUsageData")&&!this.changes.collectUsageData&&J.c("metrics").trackClick({action:"optOutMetrics",page:"setupWizard",pane:"complete",firstRun:!0});var e=this.collection.first().save(this.changes),t=this.model.get("sections").filter(function(e){return e.isNew()}).map(function(e){return e.save()}),n=P.a.when(e,X(t));return n.fail(function(){z.a.trigger("show:alert",{type:"error",message:Object(Xn.default)("There was a problem saving these settings.")})}),n},onBeforeRender:function(){this.unmountReact()},onRender:function(){this.mountReact()},onClose:function(){this.saved||this.save(),this.unmountReact()},onInputChange:function(e){var t=e.currentTarget,n=t.value;"checkbox"===t.type&&(n=t.checked?1:0),this.changes[t.id]=n},onSubmit:function(e){e.preventDefault(),this.submit()},onDVRSetupModalClose:function(){this.isDVRSetupModalOpen=!1,this.ui.submitBtn.removeClass("active"),this.mountReact()}}),xEt=n(1128),OEt=n.n(xEt),jEt=U.ItemView.extend({className:"setup-error-container",template:OEt.a}),AEt=n(1129),NEt=n.n(AEt),kEt=n(1130),LEt=n.n(kEt),REt=n(1131),_Et=n.n(REt),UEt=n(1132),zEt=n.n(UEt),FEt=U.ItemView.extend({className:"setup-intro-container",template:zEt.a,serializeData:function(){return{computerImg:NEt.a,mediaImg:LEt.a,playImg:_Et.a}}}),BEt=n(1133),HEt=n.n(BEt),VEt={artist:"music",movie:"film",photo:"picture",show:"display"},QEt=U.ItemView.extend({tagName:"li",className:"card-tile-list-item card-2-col-item",template:HEt.a,events:{"click .edit-section-btn":"onEditClick","click .delete-section-btn":"onDeleteClick"},serializeData:function(){var e=this.model.server,t=this.model.toJSON();return{section:t,serverID:e.id,icon:VEt[t.type]}},bindings:{".section-title":{modelAttribute:"title"}},onEditClick:function(e){e.preventDefault();var t=this.model,n=new yA({model:t,server:t.server,isDefaultSection:t.isNew()});t.isNew()&&n.promise.always(function(){t.trigger("destroy",t,t.collection)}),z.a.trigger("show:modal",n)},onDeleteClick:function(e){e.preventDefault(),bt.execute("deleteSection",{section:this.model})}}),WEt=Of.extend({tagName:"ul",className:"list card-tile-list",itemView:QEt}),GEt=n(1134),YEt=n.n(GEt),KEt=U.Layout.extend({className:"setup-library-container",template:YEt.a,regions:{list:".setup-section-list-container"},events:{"click .add-section-btn":"onAddSectionClick"},metricsValue:function(){return this.collection.size()},initialize:function(e){var t=this.model,n=t.get("sections"),r=new ql([],{server:t,url:"/services/defaultLibraries"});this.collection=n,this.model.supports("defaultSections")&&e.isFirstVisitToSubset&&P.a.when(r.populate(),n.populate()).done(function(){n.length||r.forEach(function(e){e.collection=n,n.add(e)})})},onRender:function(){this.list.show(new WEt({collection:this.collection}))},onAddSectionClick:function(e){e.preventDefault(),z.a.trigger("show:modal",new yA({server:this.model}))}}),qEt=n(1135),ZEt=n.n(qEt),XEt=U.ItemView.extend({className:"setup-loading-container",template:ZEt.a}),JEt=n(1136),$Et=n.n(JEt);var ext,txt={setupIntro:"intro",setupError:"error",setupBasic:"name",setupLibrary:"library",setupComplete:"complete"},nxt=[gl.a,gl.g,gl.b],rxt=U.Layout.extend({className:"container",template:$Et.a,maxAttempts:120,ui:{header:".setup-header"},regions:{container:".setup-container"},events:{"click .segment-btn":"onNavClick","click .next-btn":"onNavClick","click .done-btn":"onDoneClick"},onlyAfterRender:["onAgentsSuccess","onAgentsFail","onUpdatesComplete"],initialize:function(e){C.a.bindAll(this,"start","onAgentsSuccess","onAgentsFail","onUpdatesComplete","onSkipSignInChange"),(0,Object(J.c)("appStore").dispatch)(s1({allowLightPreset:!1})),this.subset=e.subset||"setupIntro",this.attempts=0,this._visitedSubsets={},D.a.info("Starting the setup wizard");var t=Object(J.c)("appModel");this.listenTo(t,"change:skipSignIn",this.onSkipSignInChange)},serializeData:function(){return{subset:this.subset}},renderSubset:function(){var e=this;if(this.model.get("shared"))this.navigate("setupError");else{var t=Object(J.c)("appModel"),n=t.get("user").server,r=n.populate();r.done(this.whenRendered(function(){e.navigate("setupIntro")})),r.fail(function(){t.get("primaryServer").get("desktop").get("settings").fetch().then(function(e){return!0===e.get("AcceptedEULA").get("value")?P.a.Deferred().resolve():P.a.Deferred().reject()}).then(e.whenRendered(function(){e.navigate("setupIntro")})).fail(e.whenRendered(function(){var r=t.get("skipSignIn"),i=n.get("isUnavailable");e.navigate(r||i?"setupIntro":"setupSignIn")}))})}},start:function(){if(this.attempts>=this.maxAttempts)return D.a.error("Failed to start the setup wizard after "+this.attempts+" attempts"),void this.navigate("setupError");this.attempts++;var e=this.model.get("startState");if(e)Object(D.a)("Waiting for server to start ("+e+")"),this.model.fetch().done(C.a.delay(this.start,500));else{var t=new dj([],{server:this.model}).fetch({scope:"page",timeout:0});t.done(this.onAgentsSuccess),t.fail(this.onAgentsFail)}},navigate:function(e){var t="setupIntro"===e,n="setupSignIn"===e,r="setupLoading"===e,i=function(e){return{setupSignIn:F1e,setupIntro:FEt,setupLoading:XEt,setupError:jEt,setupBasic:MEt,setupLibrary:KEt,setupComplete:EEt}[e]}(e),a=txt[e];this.previousSubset=this.subset,this.subset=e,a&&Object(J.c)("metrics").trackView({page:"setupWizard",pane:a,firstRun:!0});var o=!this._visitedSubsets[e];this._visitedSubsets[e]=!0;var s=new i({model:this.model,isFirstRun:!0,isFirstVisitToSubset:o});this.container.show(s),this.ui.header.toggleClass("hidden",t||n),this.$el.addClass(e),this.previousSubset!==e&&this.$el.removeClass(this.previousSubset),r&&this.start()},onRender:function(){Object(J.c)("appModel").set("isFirstRun",!0),this.renderSubset()},onClose:function(){Object(J.c)("appModel").set("isFirstRun",!1)},onAgentsSuccess:function(e){Object(D.a)("Looking for a core agent");var t=nxt.find(function(t){return e.get(t)});t?(Object(D.a)(t+" found"),SEt(this.model),bt.execute("updateChannel",{server:this.model,silent:!0}).always(this.onUpdatesComplete)):(D.a.error("No core agents found"),this.navigate("setupError"))},onAgentsFail:function(){D.a.warn("Unable to request agents"),C.a.delay(this.start,500)},onUpdatesComplete:function(){this.navigate("setupBasic")},onNavClick:function(e){e.preventDefault();var t=P()(e.currentTarget),n=t.data("subset");t.hasClass("segment-btn")&&"setupBasic"===this.subset&&this.container.currentView?(e.preventDefault(),this.container.currentView.submit()):(this.navigate(n),z.a.trigger("navigate",n,{trigger:!1}))},onDoneClick:function(e){e.preventDefault(),Object(J.c)("metrics").trackClick({page:"setupWizard",action:"complete",firstRun:!0}),z.a.trigger("navigate","dashboard")},onSkipSignInChange:function(){this.renderSubset()}}),ixt=lv.extend({setupBasic:function(e){var t;t=e?{serverID:e}:{primaryServer:!0},this.populateView(t).done(function(e){z.a.trigger("show:view",new rxt({model:e.server,subset:"setupBasic"}))})},setupLibrary:function(){this.populateView({primaryServer:!0}).done(function(e){z.a.trigger("show:view",new rxt({model:e.server,subset:"setupLibrary"}))})},setupChannels:function(){this.populateView({primaryServer:!0}).done(function(e){z.a.trigger("show:view",new rxt({model:e.server,subset:"setupChannels"}))})},setupComplete:function(){this.populateView({primaryServer:!0}).done(function(e){z.a.trigger("show:view",new rxt({model:e.server,subset:"setupComplete"}))})},setupSkipSignIn:function(e){this.populateView({primaryServer:!0}).then(function(){var e=Object(J.c)("appModel").get("primaryServer");return SEt(e)}).then(function(){Object(J.c)("metrics").trackClick({page:"signIn",action:aa,firstRun:!0}),window.location.href=e})}}),axt=nv.extend({controller:new ixt,appRoutes:{"!/setup/skipSignIn?forwardUrl=:forwardUrl":"setupSkipSignIn","!/setup/library":"setupLibrary","!/setup/complete":"setupComplete","!/setup(/:serverID)":"setupBasic"}}),oxt=Mt("ui/accountSettingsPage/updateUserProfile"),sxt=Mt("ui/accountSettingsPage/clearUpdateUserProfileError");function lxt(e){return e.get("ui").get("accountSettingsPage")}var cxt=((ext={})["ui/accountSettingsPage/updateUserProfile"]=function(e,t){var n=function(e){return e.get("user").get("profile")}(e),r=lxt(e);r.set({isUpdatingUserProfile:!0,updateUserProfileError:null}),n.save(t,{type:"PUT",wait:!0}).done(function(){n.set(t),r.set({isUpdatingUserProfile:!1,updateUserProfileError:null})}).fail(function(e){r.set({isUpdatingUserProfile:!1,updateUserProfileError:M3(e)})})},ext["ui/accountSettingsPage/clearUpdateUserProfileError"]=function(e){lxt(e).set("updateUserProfileError",null)},ext),uxt=Xf.a.createElement,dxt={0:{color:"#ff5533",translateFn:function(){return Object(Xn.default)("Too weak")}},1:{color:"#ee8833",translateFn:function(){return Object(Xn.default)("Very weak")}},2:{color:"#eebb00",translateFn:function(){return Object(Xn.default)("Somewhat weak")}},3:{color:"#bbbb33",translateFn:function(){return Object(Xn.default)("Somewhat Strong")}},4:{color:"#66bb55",translateFn:function(){return Object(Xn.default)("Very Strong")}}};var pxt=SE($Q(function(e){var t=e.formGroupClassName,n=e.formLabelClassName,r=e.formInputClassName,i=e.name,a=e.value,o=e.labelText,s=e.showErrors,l=e.errors,c=e.zxcvbn,u=wt()(e,["formGroupClassName","formLabelClassName","formInputClassName","name","value","labelText","showErrors","errors","zxcvbn"]),d=c&&""!==a?dxt[c(a).score]:null,p=C.a.last(l);return hv()(MV,{className:t},void 0,hv()(k_,{hasError:s,name:i,className:n},void 0,o,d&&!s?hv()("span",{},void 0," ",""," ",hv()("span",{style:{color:d.color}},void 0,d.translateFn())):null,s?"  "+p:null),uxt(gW,dv()({className:r,name:i,type:"password",value:a,hasError:s},u)))}),{zxcvbn:function(){return n.e(4).then(n.t.bind(null,1695,7)).then(function(e){return e.default})}});pxt.defaultProps={showErrors:!1};var hxt=pxt;function fxt(e){if(!e)return Object(Xn.default)("Username is required")}function gxt(e){if(!e)return Object(Xn.default)("Email address is required")}function vxt(e){if(!e)return Object(Xn.default)("Password is required")}function mxt(e){if(!e)return Object(Xn.default)("Password confirmation is required")}function yxt(e){if(!e)return Object(Xn.default)("Current password is required")}function bxt(e){if(e&&e.length<8)return Object(Xn.default)("Password must be at least 8 characters")}function Sxt(e,t){if(e!==t.password.value)return Object(Xn.default)("Passwords must match")}function Ixt(e){if(!e)return Object(Xn.default)("URL is required")}var Cxt=n(1137),Mxt=n.n(Cxt),Dxt=n(176),wxt=n.n(Dxt),Pxt=Xf.a.Component,Txt=Xf.a.Fragment,Ext={path:"/subscription",title:function(){return Object(Xn.default)("Subscriptions")}},xxt={path:"/users/payments",title:function(){return Object(Xn.default)("Payments")}},Oxt={path:"/users/other-services",title:function(){return Object(Xn.default)("Other Services")}};var jxt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onPlexPassPress=function(){r.setState({isPlexPassModalOpen:!0})},r.onPlexPassModalClose=function(){r.setState({isPlexPassModalOpen:!1})},r.state={isPlexPassModalOpen:!1},r}return Sy()(t,e),t.prototype.render=function(){var e,t=this.props,n=t.myPlexUrl,r=t.user,i=this.state.isPlexPassModalOpen,o=$3()?"_blank":"_self",s=function(e){return e.isEmployee?hv()("span",{className:wxt.a.textBadge},void 0,"Employee"):e.isNinja&&!e.isEmployee?hv()("span",{className:wxt.a.textBadge},void 0,"Ninja"):null}(r);return r.hasPlexSubscription||r.canGoPremium||!r.restricted?hv()(Oyt,{},void 0,hv()("div",{className:wxt.a.container},void 0,hv()("div",{},void 0,r.hasPlexSubscription?hv()("div",{},void 0,hv()("div",{className:wxt.a.badgeContainer},void 0,r.hasPlexPass?hv()("img",{className:wxt.a.plexPassBadge,src:Mxt.a}):null,s),hv()("div",{},void 0,r.subscriptionDescription)):null,r.canGoPremium?hv()("div",{},void 0,s?hv()("div",{className:wxt.a.badgeContainer},void 0,s):null,hv()(I_,{kind:a.PRIMARY,onPress:this.onPlexPassPress},void 0,Object(Xn.default)("Go Premium")),hv()(VH,{metricsProperties:{context:Oa},isOpen:i,onModalClose:this.onPlexPassModalClose})):null),r.restricted?null:hv()("div",{className:wxt.a.actionLinksContainer},void 0,hv()(kyt,{className:wxt.a.actionLinks},void 0,(e=r.hasPlexSubscription,e?[Ext,xxt,Oxt]:[xxt,Oxt]).map(function(e,t){var r=e.path,i=e.title;return hv()(Txt,{},t,hv()(cE,{className:wxt.a.linkSeparator,separator:""}),hv()(RS,{kind:a.PRIMARY,to:Object(F.join)([n,r]),target:o},void 0,i()))}))))):null},t}(Pxt);function Axt(e,t){var n=e.find(function(e){return e.hasOwnProperty(t)});return n?n[t]:""}var Nxt=hv()(cE,{}),kxt=hv()("br",{}),Lxt=hv()(cE,{});var Rxt=function(e){var t=e.userProfile,n=e.languageOptions,r=e.autoSelectSubtitleOptions,i=e.subtitleAccessibilityOptions,a=e.subtitleForcedOptions,o=e.userHasSubtitlesOnDemandFeature,s=t.autoSelectAudio,l=t.defaultAudioLanguage,c=t.defaultSubtitleLanguage,u=t.autoSelectSubtitle,d=t.defaultSubtitleAccessibility,p=t.defaultSubtitleForced,h=Axt(n,l),f="";""!==l&&h&&(f=Object(Xn.default)("{audioLanguage} audio",{audioLanguage:h}));var g=Axt(n,c),v="";""!==c&&g&&(v=Object(Xn.default)("{subtitleLanguage} subtitles",{subtitleLanguage:g}));var m=Axt(r,u).toLowerCase(),y="";v&&m?y=v+" "+m:!v&&m?y=Object(Xn.default)("subtitles")+" "+m:v&&!m&&(y=v);var b=s?[f,y].join(", "):Object(Xn.default)("Manually Select"),S="",I="";return o&&(S=Axt(i,d),I=Axt(a,p)),hv()("span",{},void 0,b?Object(Xn.default)("Track selection"):null,b?Nxt:null,b,o?kxt:null,o?Object(Xn.default)("Searches"):null,o?Lxt:null,S,", ",I)},_xt=n(1138),Uxt=n.n(_xt),zxt=Xf.a.createElement,Fxt=Xf.a.Component,Bxt=0,Hxt=1,Vxt=2,Qxt=0,Wxt=1,Gxt=2,Yxt=3,Kxt=0,qxt=1,Zxt=2,Xxt=3,Jxt=function(e){function t(t,n){var r,i,a,o,s,l,c,u,d,p,h,f;return(f=e.call(this,t,n)||this).onSubmit=function(e){e.autoSelectSubtitle&&(e.autoSelectSubtitle=parseInt(e.autoSelectSubtitle,10)),e.defaultSubtitleAccessibility&&(e.defaultSubtitleAccessibility=parseInt(e.defaultSubtitleAccessibility,10)),e.defaultSubtitleForced&&(e.defaultSubtitleForced=parseInt(e.defaultSubtitleForced,10)),f.props.onSubmit(e)},f.onFormChange=function(e){var t=e.autoSelectAudio;t.value!==f.state.isAutoSelectAudio&&f.setState({isAutoSelectAudio:t.value})},f.state={isAutoSelectAudio:t.userProfile.autoSelectAudio},f._autoSelectSubtitleOptions=[(r={},r[Bxt]=Object(Xn.default)("Manually selected"),r),(i={},i[Hxt]=Object(Xn.default)("Shown with foreign audio"),i),(a={},a[Vxt]=Object(Xn.default)("Always enabled"),a)],f._subtitleAccessibilityOptions=[(o={},o[Qxt]=Object(Xn.default)("Prefer non-hearing-impaired subtitles"),o),(s={},s[Wxt]=Object(Xn.default)("Prefer hearing-impaired subtitles"),s),(l={},l[Gxt]=Object(Xn.default)("Only show hearing-impaired subtitles"),l),(c={},c[Yxt]=Object(Xn.default)("Only show non-hearing-impaired subtitles"),c)],f._subtitleForcedOptions=[(u={},u[Kxt]=Object(Xn.default)("Prefer non-forced subtitles"),u),(d={},d[qxt]=Object(Xn.default)("Prefer forced subtitles"),d),(p={},p[Zxt]=Object(Xn.default)("Only show forced subtitles"),p),(h={},h[Xxt]=Object(Xn.default)("Only show non-forced subtitles"),h)],f._languageOptions=[{"":Object(Xn.default)("Select Language")}].concat(up.filter(function(e){return 2===e.length&&-1===cp.indexOf(e)}).map(function(e){var t;return(t={})[e]=dp[e],t})),f}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){e.isOpen!==this.props.isOpen&&this.setState({isAutoSelectAudio:e.userProfile.autoSelectAudio})},n.render=function(){var e=this.props,t=e.userProfile,n=e.userHasSubtitlesOnDemandFeature,r=wt()(e,["userProfile","userHasSubtitlesOnDemandFeature"]),i=this.state.isAutoSelectAudio;return zxt(Gyt,dv()({},r,{title:Object(Xn.default)("Audio & Subtitle Settings"),closedNode:hv()(Rxt,{userProfile:t,languageOptions:this._languageOptions,autoSelectSubtitleOptions:this._autoSelectSubtitleOptions,subtitleAccessibilityOptions:this._subtitleAccessibilityOptions,subtitleForcedOptions:this._subtitleForcedOptions,userHasSubtitlesOnDemandFeature:n}),onFormChange:this.onFormChange,onSubmit:this.onSubmit}),hv()(k_,{},void 0,Object(Xn.default)("Audio & Subtitle Settings")),hv()("p",{className:Uxt.a.description},void 0,Object(Xn.default)("These settings determine how Plex will try to select audio and subtitle tracks when playing media in a Plex app while using your account.")),hv()("p",{},void 0,hv()(RS,{kind:Qp,to:"https://support.plex.tv/articles/204985278-account-audio-subtitle-language-settings/?utm_source=Plex%20Apps&utm_medium=Plex%20Web&utm_campaign=Plex%20Apps",target:"_blank"},void 0,Object(Xn.default)("Learn more"))),hv()(uW,{name:"autoSelectAudio",checkboxText:Object(Xn.default)("Automatically select audio and subtitle tracks"),initialValue:t.autoSelectAudio}),i?hv()(tW,{labelText:Object(Xn.default)("Preferred audio language"),name:"defaultAudioLanguage",initialValue:t.defaultAudioLanguage,values:this._languageOptions}):null,i?hv()(tW,{labelText:Object(Xn.default)("Preferred subtitle language"),name:"defaultSubtitleLanguage",initialValue:t.defaultSubtitleLanguage,values:this._languageOptions}):null,i?hv()(tW,{labelText:Object(Xn.default)("Auto-select subtitle mode"),name:"autoSelectSubtitle",initialValue:t.autoSelectSubtitle,values:this._autoSelectSubtitleOptions}):null,n?hv()(tW,{labelText:Object(Xn.default)("Hearing Impaired Subtitle (SDH) Searches"),name:"defaultSubtitleAccessibility",initialValue:t.defaultSubtitleAccessibility,values:this._subtitleAccessibilityOptions}):null,n?hv()(tW,{labelText:Object(Xn.default)("Forced Subtitle Searches"),name:"defaultSubtitleForced",initialValue:t.defaultSubtitleForced,values:this._subtitleForcedOptions}):null)},t}(Fxt),$xt=Object(Iy.createSelector)(nX("profile"),aX(Ly),function(e,t){return{userProfile:e,userHasSubtitlesOnDemandFeature:t}}),eOt=Lm($xt,{onSubmit:oxt})(Jxt);function tOt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-max-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m560 0l0 560-560 0 0-560 560 0m-420 280c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}tOt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var nOt=tOt;function rOt(e){var t=e["aria-label"],n=e.className,r=e.style,i={viewBox:"0 0 560 560",xmlns:"http://www.w3.org/2000/svg",strokeMiterlimit:"1.414",strokeLinejoin:"round",id:"plex-icon-avatar-crop-min-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"m476 84l0 392-392 0 0-392 392 0m-336 196c0 77.268 62.732 140 140 140 77.268 0 140-62.732 140-140 0-77.268-62.732-140-140-140-77.268 0-140 62.732-140 140"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}rOt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var iOt=rOt,aOt=n(155),oOt=n.n(aOt),sOt=Xf.a.createElement,lOt=Xf.a.Component,cOt=hv()(iOt,{}),uOt=hv()(nOt,{}),dOt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).setCanvasRef=function(e){r.canvas=e},r.onMouseDown=function(e){e.preventDefault(),r.startAvatarDrag(e.clientX,e.clientY)},r.onTouchStart=function(e){e.preventDefault();var t=e.touches.item(0);t&&r.startAvatarDrag(t.clientX,t.clientY,!0)},r.onTouchMove=function(e){var t=e.touches.item(0);t&&r.dragAvatar(t.clientX,t.clientY)},r.onMouseMove=function(e){r.dragAvatar(e.clientX,e.clientY)},r.onMouseUp=function(){r.stopAvatarDrag()},r.onTouchEnd=function(){r.stopAvatarDrag()},r.onFileDrop=function(e){var t;if(e.preventDefault(),r.setState({isOverDropTarget:!1}),r.dropTargetEnteredCounter=0,e.dataTransfer&&e.dataTransfer.files.length?t=e.dataTransfer.files[0]:e.target.files&&e.target.files.length&&(t=e.target.files[0]),t){var n=new window.FileReader;n.onload=function(e){return r.loadImage(e.target.result)},n.readAsDataURL(t)}},r.onDragEnter=function(e){void 0===e&&(e=window.event),e.preventDefault(),r.dropTargetEnteredCounter++,r.setOverDropTargetState()},r.onDragLeave=function(e){void 0===e&&(e=window.event),e.preventDefault(),r.dropTargetEnteredCounter--,r.setOverDropTargetState()},r.onSliderChange=function(e){var t=e.steppedValue;r.setState(function(e){var n=e.offsetX,i=e.offsetY,a=r.initialWidth*t,o=r.initialHeight*t,s=(r.imageWidth-a)/2,l=(r.imageHeight-o)/2,c=r.props.width-a,u=r.props.height-o,d=Math.max(c,Math.min(n+s,0)),p=Math.max(u,Math.min(i+l,0));return Object.assign({},e,{scale:t,offsetX:d,offsetY:p})},function(){return r.props.onChange(r.getImageDataUrl())})},r.state={drag:!1,dragX:0,dragY:0,minScale:.1,maxScale:1,scale:.1,offsetX:0,offsetY:0,isOverDropTarget:!1},r.dropTargetEnteredCounter=0,r}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){window.addEventListener("dragover",this.onWindowDragOver),window.addEventListener("drop",this.onWindowDrop),this.paint(),this.loadImage(this.props.url,!0)},n.componentWillReceiveProps=function(e){this.props.url!==e.url&&this.loadImage(e.url)},n.shouldComponentUpdate=function(e,t){return ES(this,e,t)},n.componentDidUpdate=function(){this.paint()},n.componentWillUnmount=function(){window.removeEventListener("dragover",this.onWindowDragOver),window.removeEventListener("drop",this.onWindowDrop),this.stopListeningForDrag()},n.listenForDrag=function(e){e?(document.addEventListener("touchmove",this.onTouchMove),document.addEventListener("touchcancel",this.onTouchEnd),document.addEventListener("touchend",this.onTouchEnd)):(document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))},n.stopListeningForDrag=function(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("mouseup",this.onMouseUp),document.removeEventListener("touchcancel",this.onTouchEnd),document.removeEventListener("touchend",this.onTouchEnd)},n.startAvatarDrag=function(e,t,n){this.listenForDrag(n),this.setState({drag:!0,dragX:e,dragY:t})},n.dragAvatar=function(e,t){var n=this;this.state.drag&&this.setState(function(r){var i=r.offsetX,a=r.offsetY,o=r.dragX,s=r.dragY,l=n.props.width-n.imageWidth,c=n.props.height-n.imageHeight,u=Math.max(l,Math.min(i+(e-o),0)),d=Math.max(c,Math.min(a+(t-s),0));return Object.assign({},r,{dragX:e,dragY:t,offsetX:u,offsetY:d})})},n.stopAvatarDrag=function(){var e=this;this.stopListeningForDrag(),this.setState({drag:!1},function(){return e.props.onChange(e.getImageDataUrl())})},n.loadImage=function(e,t,n){var r=this;void 0===n&&(n=this.props);var i=new window.Image;i.onload=function(){return r.onImageLoad(i,t)},/^https?:\/\//.test(e)&&i.setAttribute("crossOrigin","anonymous");var a=e;if(0!==e.indexOf("data:")){var o=uf(),s={width:Math.round(n.width*o),height:Math.round(n.height*o),minSize:1},l=e.indexOf("?");l>-1?(a=F.join(e.substring(0,l),s),a+=-1===a.indexOf("?")?"?":"&",a+=e.substring(l+1)):a=F.join(a,s)}i.src=a},n.paint=function(){var e=this.props,t=e.width,n=e.height,r=this.canvas.getContext("2d");r.clearRect(0,0,t,n),this.image&&this.drawImage(r);var i=document.createElement("canvas"),a=i.getContext("2d");i.width=t,i.height=n,a.fillStyle="rgba(0,0,0,0.6)",a.fillRect(0,0,i.width,i.height),a.globalCompositeOperation="destination-out",a.arc(t/2,n/2,t/2,0,2*Math.PI),a.fill(),r.drawImage(i,0,0)},n.drawImage=function(e){this.imageWidth=this.initialWidth*this.state.scale,this.imageHeight=this.initialHeight*this.state.scale,e.drawImage(this.image,this.state.offsetX,this.state.offsetY,this.imageWidth,this.imageHeight)},n.getImageDataUrl=function(){var e=document.createElement("canvas"),t=e.getContext("2d");return e.height=this.props.height,e.width=this.props.width,this.drawImage(t),e.toDataURL()},n.setOverDropTargetState=function(){this.state.isOverDropTarget||0===this.dropTargetEnteredCounter||this.setState({isOverDropTarget:!0}),this.state.isOverDropTarget&&0===this.dropTargetEnteredCounter&&this.setState({isOverDropTarget:!1})},n.onImageLoad=function(e,t){var n=this;this.image=e,this.initialWidth=Math.max(this.props.width,e.width),this.initialHeight=Math.max(this.props.height,e.height);var r=e.width>e.height?e.height:e.width,i=r>this.props.width?this.props.width/r:1,a=r<=this.props.width?2:1;this.setState({drag:!1,dragX:0,dragY:0,minScale:i,maxScale:a,scale:i,offsetX:0,offsetY:0},t?null:function(){return n.props.onChange(n.getImageDataUrl())})},n.onWindowDrop=function(e){void 0===e&&(e=window.event),e.preventDefault()},n.onWindowDragOver=function(e){void 0===e&&(e=window.event),e.preventDefault()},n.onDragStart=function(e){void 0===e&&(e=window.event),e.dataTransfer.effectAllowed="copyMove"},n.onDragOver=function(e){void 0===e&&(e=window.event),e.dataTransfer.dropEffect="copy"},n.render=function(){var e=this.state.isOverDropTarget;return hv()("div",{className:oOt.a.avatarContainer,onDrop:this.onFileDrop,onDragOver:this.onDragOver,onDragStart:this.onDragStart,onDragLeave:this.onDragLeave,onDragEnter:this.onDragEnter},void 0,hv()("div",{className:oOt.a.avatarPane},void 0,sOt("canvas",{className:e?oOt.a.isOverDropTarget:"",width:this.props.width,height:this.props.height,ref:this.setCanvasRef,onTouchStart:this.onTouchStart,onMouseDown:this.onMouseDown}),hv()("div",{className:oOt.a.sliderContainer},void 0,hv()("span",{className:oOt.a.sliderEnd},void 0,cOt),hv()("span",{className:oOt.a.sliderWrapper},void 0,hv()(AW,{className:oOt.a.slider,min:this.state.minScale,max:this.state.maxScale,step:.1,value:this.state.scale,onChange:this.onSliderChange})),hv()("span",{className:oOt.a.sliderEnd},void 0,uOt))),hv()("div",{className:oOt.a.avatarTextPane},void 0,hv()("p",{},void 0,hv()(JVe,{accept:"image/*",buttonText:Object(Xn.default)("Choose Photo"),onChange:this.onFileDrop})),hv()("p",{className:oOt.a.help},void 0,Object(Xn.default)("You can scale your photo using the slider below, and adjust the crop by dragging it within the circle."))))},t}(lOt);dOt.defaultProps={height:200,width:200,onChange:function(){}};var pOt=$Q(dOt);var hOt,fOt=Lm(function(){return Object(Iy.createSelector)(Gk(),function(e){return{url:e}})})(pOt),gOt=Mt("oauth/fetchOauthProviders"),vOt=Mt("oauth/unlinkOauthProvider"),mOt=((hOt={})["oauth/fetchOauthProviders"]=Ki({key:"oauthProviders",getModel:function(e){return e.get("cloudServer").get("desktop")}}),hOt["oauth/unlinkOauthProvider"]=function(e,t,n){var r=e.get("cloudServer"),i=r.get("desktop").get("oauthProviders").findWhere(t);i.set("isUnlinking",!0);var a=r.populate().then(function(){return P.a.ajax(r.getXHROptions(t.url,{type:"DELETE"}))});VB(a,1e3).done(function(){i.set("unlinkError",null)}).fail(function(e){i.set("unlinkError",e)}).always(function(){n(Ag()),n(gOt()),i.set("isUnlinking",!1)})},hOt);var yOt=function(e){return Object(Iy.createSelector)(H9,function(t){if(!t)return{};var n=t.desktop;return{oauthProviders:n.oauthProviders.filter(function(t){return t.usage&&t.usage[e]}),isOauthProvidersPending:n.isOauthProvidersPending,isOauthProvidersPopulated:n.isOauthProvidersPopulated,oauthProvidersError:n.oauthProvidersError}})}("federatedAuth");var bOt=function(e,t){var n=E5(window.location.href,t);return F.join([e],{origin:n})},SOt=(Dp.a.shape({url:Dp.a.string.isRequired}),n(345)),IOt=n.n(SOt),COt=Xf.a.Component,MOt={facebook:IOt.a.buttonFacebook,google:IOt.a.buttonGoogle},DOt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onUnlinkPress=function(e){!r.props.hasPassword&&r.props.isLastLinkedAccount?r.setState({isUnlinkOauthProviderModalOpen:!0}):r.props.onCreatePassword(e)},r.onUnlinkCancel=function(){r.setState({isUnlinkOauthProviderModalOpen:!1})},r.state={isUnlinkOauthProviderModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.isUnlinking&&!e.isUnlinking&&this.setState({isUnlinkOauthProviderModalOpen:!1})},n.render=function(){var e=this.props,t=e.to,n=e.isPollClient,r=e.isBusy,i=e.code,a=e.providerID,o=e.metricsProperties,s=e.isDisabled,l=e.isLastLinkedAccount,c=e.hasPassword,u=e.label,d=e.linked,p=e.onUnlink,h=e.onLink,f=e.onCreatePassword,g=e.onStillTherePress,v=this.state.isUnlinkOauthProviderModalOpen,m=d,y=!d&&!s,b=!(y||r||i||m),S=m||y||b,I=!c&&l,C=I?this.onUnlinkPress:p;return hv()("div",{className:d?IOt.a.rowLinked:IOt.a.rowUnlinked},void 0,hv()(I_,{className:MOt[a],isDisabled:s,onPress:y?h:C}),d?Object(Xn.default)("Your {oauthProvider} account is linked",{oauthProvider:u}):Object(Xn.default)("Your {oauthProvider} account is not linked",{oauthProvider:u}),S?hv()("span",{className:IOt.a.separator},void 0,""):null,m?hv()(RS,{kind:Qp,isDisabled:s,onPress:C},void 0,Object(Xn.default)("Unlink")):null,I?hv()(mK,{isConfirmButtonSpinning:s,isCancelButtonDisabled:s,isOpen:v,metricsPage:"confirmUnlinkOauthProvider",metricsProperties:o,title:Object(Xn.default)("Unlink {oauthProvider}",{oauthProvider:u}),message:Object(Xn.default)("To unlink, first set a password to use when signing in"),confirmLabel:Object(Xn.default)("Set Password"),kind:Gp,onConfirm:f,onCancel:this.onUnlinkCancel}):null,y?hv()(RS,{kind:Qp,to:t,target:n?"_blank":null,onPress:h},void 0,Object(Xn.default)("Link")):null,b?hv()(AB,{message:Object(Xn.default)("Account linking timed out. {openLink}Try again?{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:RS,kind:Qp,onPress:g}]}):null)},t}(COt),wOt=Xf.a.createElement;var POt,TOt={dispatchUnlinkOauthProvider:vOt,dispatchPreloadPIN:f5},EOt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onUnlink=function(){t.props.dispatchUnlinkOauthProvider({url:t.props.originalUrl})},t.onStillTherePress=function(){t.props.dispatchPreloadPIN()},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchUnlinkOauthProvider,wt()(e,["dispatchUnlinkOauthProvider"]));return wOt(j5,dv()({component:DOt},t,{onUnlink:this.onUnlink,onStillTherePress:this.onStillTherePress}))},t}(Xf.a.Component),xOt=Lm(function(){var e=Object(Iy.createSelector)(function(e,t){return t.url},yOt,function(e,t){return t.oauthProviders.find(function(t){return t.url===e})});return Object(Iy.createSelector)(function(e,t){return{url:t.url}},function(e,t){return t.returnUrl},nX("email"),nX("authToken"),e,b3,function(e,t,n,r,i,a){a.authToken;var o=wt()(a,["authToken"]),s=!i.linked&&(i.isUnlinking||e5()&&!a.code||a.isBusy);return Object.assign({},i,{isPollClient:e5(),userAuthToken:r,email:n,providerID:i.authName,originalUrl:i.url,url:bOt(i.url,t),metricsProperties:e,isDisabled:s},o)})},TOt)(EOt),OOt=Mt("user/linkAccount/navigateRefresh"),jOt=((POt={})["user/linkAccount/navigateRefresh"]=function(e,t,n){z.a.trigger("navigate:refresh")},POt),AOt=Xf.a.Component,NOt={dispatchPreloadPIN:f5,dispatchStopPolling:m5,dispatchNavigateRefresh:OOt},kOt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchPreloadPIN()},n.componentDidUpdate=function(e){this.props.authToken!==e.authToken&&this.props.authToken&&this.props.dispatchNavigateRefresh()},n.componentWillUnmount=function(){this.props.dispatchStopPolling()},n.render=function(){return null},t}(AOt),LOt=Lm(b3,NOt)(kOt),ROt=n(411),_Ot=n.n(ROt),UOt=Xf.a.createElement,zOt=hv()(LOt,{});var FOt,BOt=function(e){var t,n=e.isPollClient,r=e.returnUrl,i=e.hasPassword,a=e.linkedOauthProviders,o=e.isOauthProvidersPending,s=e.isOauthProvidersPopulated,l=e.oauthProvidersError,c=e.lastLinkedAuthProviderID,u=e.onCreatePassword,d=e.onLink,p=wt()(e,["isPollClient","returnUrl","hasPassword","linkedOauthProviders","isOauthProvidersPending","isOauthProvidersPopulated","oauthProvidersError","lastLinkedAuthProviderID","onCreatePassword","onLink"]);return t=o?hv()("span",{className:_Ot.a.dim},void 0,Object(Xn.default)("Loading")):l?hv()("span",{className:_Ot.a.dim},void 0,Object(Xn.default)("Error")):a||hv()("span",{className:_Ot.a.dim},void 0,Object(Xn.default)("None")),UOt(Gyt,dv()({},p,{closedNode:t,showButton:!1}),hv()(k_,{},void 0,Object(Xn.default)("Linked Accounts")),hv()("div",{className:_Ot.a.description},void 0,Object(Xn.default)("You can link your Google or Facebook account to simplify signing in to Plex."),n?zOt:null),s&&e.oauthProviders?e.oauthProviders.map(function(e){return hv()(xOt,{isUnlinking:o,hasPassword:i,isLastLinkedAccount:c===e.authName,providerID:e.providerID,url:e.url,returnUrl:r,onCreatePassword:u,onLink:d},e.url)}):null)},HOt=Xf.a.createElement,VOt=Xf.a.Component,QOt=Object(Iy.createSelector)(yOt,b3,function(e,t){var n=e.oauthProviders.filter(function(e){return e.linked}),r=1===n.length?n[0].authName:null;return Object.assign({linkedOauthProviders:n.map(function(e){return e.label}).join(", "),lastLinkedAuthProviderID:r,returnUrl:window.location.href,isPollClient:e5()},e,t)}),WOt={dispatchFetchOauthProviders:gOt,dispatchBeginPolling:v5},GOt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onLink=function(){t.props.isPollClient&&t.props.dispatchBeginPolling({pinID:t.props.pinID})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.dispatchFetchOauthProviders()},n.render=function(){var e=this.props,t=(e.dispatchFetchOauthProviders,wt()(e,["dispatchFetchOauthProviders"]));return HOt(BOt,dv()({onLink:this.onLink},t))},t}(VOt),YOt=Lm(QOt,WOt)(GOt),KOt=n(1139),qOt=n.n(KOt),ZOt=Xf.a.createElement,XOt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).createToggleHandler=function(e){return function(t){t.preventDefault();var n=r.state[e];r.props.updateUserError&&r.props.onErrorDismiss(),r.setState(C.a.mapObject(r.state,function(t,r){return r===e&&!n}))}},r.getUserFormSectionProps=function(e,t){var n=r.state[t];return{title:e,onTogglePress:r.createToggleHandler(t),isOpen:n,onSubmit:r.props.onSubmit,isUpdating:r.props.isUpdatingUser,errorMessage:r.props.updateUserError}},r.onCreatePassword=function(e){r.createToggleHandler("isPasswordOpen")(e)},r.onToggleAudioSubtitlesFormSection=function(e){r.createToggleHandler("isSelectAudioOpen")(e)},r.onAccountEmailSubmit=function(e){var t=r.props.user;t.username===t.email?r.props.onSubmit(Object.assign({},e,{username:e.email})):r.props.onSubmit(e)},r.state={isUsernameOpen:!1,isEmailOpen:!1,isPasswordOpen:!1,isLinkedAccountsOpen:!1,isLocaleOpen:!1,isPhotoOpen:!1,isNewsletterOpen:!1,isSelectAudioOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){this.props.isUpdatingUser&&!e.isUpdatingUser&&!e.updateUserError&&this.setState(C.a.mapObject(this.state,function(){return!1}))},n.render=function(){var e=this.props,t=e.serverEntityID,n=e.user,r=e.myPlexUrl,i=e.userSettingErrors,o=Object(Xn.default)("System Default"),s=!n.restricted,l=n.username===n.email,c=up.map(function(e){var t;return(t={})[e]=dp[e],t});return hv()(q8,{metricsPage:Oa,metricsPane:"account"},void 0,hv()(H8,{},void 0,Object(Xn.default)("Account")),hv()(jxt,{myPlexUrl:r,user:n}),ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Photo"),"isPhotoOpen"),{closedNode:hv()($k,{serverEntityID:t,url:this.props.user.thumb,width:80,height:80})}),hv()(k_,{},void 0,Object(Xn.default)("Photo")),hv()(fOt,{serverEntityID:t,name:"avatar",width:180,height:180,isDeletingAvatar:this.props.isDeletingAvatar,initialValue:this.props.user.thumb,url:this.props.user.thumb})),ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Language"),"isLocaleOpen"),{closedNode:dp[n.locale]||o}),hv()(tW,{labelText:Object(Xn.default)("Language"),helpText:Object(Xn.default)("This sets the default language for Plex applications that do not provide their own language setting."),name:"locale",initialValue:n.locale,values:[{"":o}].concat(c)})),hv()(eOt,{isOpen:this.state.isSelectAudioOpen,isUpdating:this.props.isUpdatingUser,errorMessage:this.props.updateUserError,onTogglePress:this.onToggleAudioSubtitlesFormSection}),s?ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Username"),"isUsernameOpen"),{closedNode:l?Object(Xn.default)("Not set"):n.username}),hv()(wW,{labelText:Object(Xn.default)("Username"),helpText:Object(Xn.default)("Your username will be visible to friends with whom you have shared your server."),name:"username",initialValue:l?"":n.username,errors:i.username,validations:[fxt]}),hv()(uW,{name:"emailOnlyAuth",checkboxText:Object(Xn.default)("Allow username to be used when signing in"),helpText:Object(Xn.default)("Your email address will be required to sign in when username sign-in is not allowed."),initialValue:n.emailOnlyAuth,checkedValue:!1,uncheckedValue:!0})):null,s?ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Email Address"),"isEmailOpen"),{closedNode:n.email,onSubmit:this.onAccountEmailSubmit}),hv()(wW,{labelText:Object(Xn.default)("Email Address"),name:"email",initialValue:n.email,errors:i.email,validations:[gxt]}),hv()(wW,{labelText:Object(Xn.default)("Password"),type:"password",name:"currentPassword",initialValue:"",validations:[vxt]})):null,s?ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Password"),"isPasswordOpen"),{closedNode:n.hasPassword?"**********":Object(Xn.default)("Not set")}),hv()(hxt,{labelText:n.hasPassword?Object(Xn.default)("New Password"):Object(Xn.default)("Choose Password"),name:"password",initialValue:"",errors:i.password,validations:[vxt,bxt]}),hv()(wW,{labelText:n.hasPassword?Object(Xn.default)("Confirm New Password"):Object(Xn.default)("Confirm Password"),type:"password",name:"passwordConfirmation",initialValue:"",validations:[mxt,Sxt]}),n.hasPassword?hv()(wW,{labelText:Object(Xn.default)("Current Password"),type:"password",name:"currentPassword",initialValue:"",validations:[yxt]}):null,n.hasPassword?hv()(uW,{checkboxText:Object(Xn.default)("Sign out connected devices after password change"),name:"resetDevices",initialValue:!1}):null):null,s?ZOt(YOt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Linked Accounts"),"isLinkedAccountsOpen"),{hasPassword:n.hasPassword,onCreatePassword:this.onCreatePassword})):null,s?ZOt(Gyt,dv()({},this.getUserFormSectionProps(Object(Xn.default)("Newsletter"),"isNewsletterOpen"),{closedNode:n.mailingListActive?Object(Xn.default)("You are currently subscribed"):Object(Xn.default)("You are not subscribed")}),hv()(uW,{name:"mailingListActive",initialValue:n.mailingListActive,labelText:Object(Xn.default)("Newsletter"),checkboxText:Object(Xn.default)("Subscribe to our amazing, but infrequent email newsletter")})):null,s?hv()(Oyt,{},void 0,hv()(k_,{},void 0,Object(Xn.default)("Privacy")),hv()(AB,{className:qOt.a.description,message:Object(Xn.default)("Review our {openPolicyLink}Privacy Policy{closePolicyLink} for more information on the data that we collect, how it is used, and understand your {openAdChoicesLink}AdChoices{closeAdChoicesLink}. You can opt out of sending us certain data using your {openPreferencesLink}Privacy Preferences{closePreferencesLink} page."),tags:[{open:"openPolicyLink",close:"closePolicyLink",component:RS,kind:a.PRIMARY,to:"https://www.plex.tv/about/privacy-legal/",target:"_blank"},{open:"openAdChoicesLink",close:"closeAdChoicesLink",component:RS,kind:a.PRIMARY,to:"https://www.plex.tv/about/privacy-legal/#adchoices",target:"_blank"},{open:"openPreferencesLink",close:"closePreferencesLink",component:RS,kind:a.PRIMARY,to:"https://www.plex.tv/about/privacy-legal/privacy-preferences/#opd",target:"_blank"}]})):null,s?hv()(Oyt,{},void 0,hv()(RS,{kind:a.DANGER,to:Object(F.join)([r,"/users/delete"]),target:"_self"},void 0,Object(Xn.default)("Delete your account"))):null)},t}(Xf.a.Component),JOt=Xf.a.createElement,$Ot=Xf.a.Component,ejt=Object(Iy.createSelector)(wy,H9,function(e){return e.ui.accountSettingsPage},function(e,t,n){var r=e.desktop,i=r.updateUserError?M3(C.a.last(r.updateUserError[C.a.first(Object.keys(r.updateUserError))])):n.updateUserProfileError,a=C.a.mapObject(r.updateUserError,function(e){return e.map(function(e){return M3(e)})}),o=C.a.pick(e,"username","email","emailOnlyAuth","subscriptionDescription","thumb","locked","locale","canGoPremium","hasPlexSubscription","hasPlexPass","hasPassword","isEmployee","isNinja","mailingListActive","restricted");return{serverEntityID:t.entityID,user:o,isUpdatingUser:r.isUpdatingUser||n.isUpdatingUserProfile,updateUserError:i,userSettingErrors:a,myPlexUrl:"https://plex.tv"}}),tjt={dispatchUpdateUser:YB,dispatchClearUpdateUserError:KB,dispatchClearUpdateUserProfileError:sxt},njt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onErrorDismiss=function(){t.props.dispatchClearUpdateUserError(),t.props.dispatchClearUpdateUserProfileError()},t.onSubmit=function(e){t.props.dispatchUpdateUser(e)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=(e.dispatchUpdateUser,e.dispatchClearUpdateUserError,e.dispatchClearUpdateUserProfileError,wt()(e,["dispatchUpdateUser","dispatchClearUpdateUserError","dispatchClearUpdateUserProfileError"]));return JOt(XOt,dv()({},t,{onErrorDismiss:this.onErrorDismiss,onSubmit:this.onSubmit,onUserProfileSubmit:this.onUserProfileSubmit}))},t}($Ot),rjt=Lm(ejt,tjt)(njt),ijt=hv()(mv,{},void 0,hv()(z7,{selectedKey:"account"}),hv()(rjt,{})),ajt=Rm.extend({component:function(){return ijt}}),ojt=Ce.a.extend({name:"AvailableProviderModel",context:["server"],rootPropertyName:"MediaProvider",syncedAttrs:{identifier:Me.a.string,title:Me.a.string}}),sjt=Ue.a.extend({name:"AvailableProvidersCollection",context:["server"],model:ojt,url:"/media/providers?ignore_opt_outs=true"}),ljt=Mt("ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"),cjt=Mt("ui/onlineMediaSourcePage/fetchAvailableProviders"),ujt=Mt("ui/onlineMediaSourcePage/fetchOptOutStatuses"),djt=Mt("ui/onlineMediaSourcePage/updateOptOutStatuses"),pjt=Mt("ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError");function hjt(e){return e.get("ui").get("onlineMediaSourcesPage")}function fjt(e,t,n){void 0===t&&(t={}),void 0===n&&(n={});var r=e.get("cloudServer"),i=e.get("user").get("uuid"),a=F.join(["/api/v2/user",i,"settings/opt_outs"],t);return r.getXHROptions(a,Object.assign({dataType:"json"},n))}var gjt,vjt=((FOt={})["ui/onlineMediaSourcePage/initOnlineMediaSourcesPage"]=function(e,t,n){var r=hjt(e),i=e.get("cloudServer");r.restoreDefaults({availableProviders:new sjt([],{server:i})}),n(cjt()),n(ujt())},FOt["ui/onlineMediaSourcePage/fetchAvailableProviders"]=Ki({key:"availableProviders",getModel:hjt}),FOt["ui/onlineMediaSourcePage/fetchOptOutStatuses"]=function(e,t){var n=hjt(e);n.set({isOptOutStatusesPending:!0,optOutStatusesError:null});var r=fjt(e);P.a.ajax(r).then(function(e){n.set({optOutStatuses:e,isOptOutStatusesPending:!1,optOutStatusesError:null})},function(e){n.set({isOptOutStatusesPending:!1,optOutStatusesError:Gi(e)})})},FOt["ui/onlineMediaSourcePage/updateOptOutStatuses"]=function(e,t,n){var r=hjt(e);r.set({isUpdatePending:!0,updateError:null});var i=Object.keys(t.optOutStatuses)[0],a=t.optOutStatuses[i],o=fjt(e,{key:i,value:a},{type:"POST"});P.a.ajax(o).then(function(){var e,t=r.get("optOutStatuses");r.set({optOutStatuses:Object.assign({},t,(e={},e[i]=a,e)),isUpdatePending:!1,updateError:null}),n(Xh())},function(e){r.set({isUpdatePending:!1,updateError:Gi(e)})})},FOt["ui/onlineMediaSourcePage/clearOnlineMediaSourcesUpdateError"]=function(e,t){hjt(e).set("updateError",null)},FOt),mjt=Xf.a.Component,yjt=hv()(Gq,{},void 0,hv()(ZE.a,{})),bjt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).createToggleHandler=function(e){return function(t){t.preventDefault();var n=r.state[e];r.props.updateError&&r.props.onErrorDismiss(),r.setState(C.a.mapObject(r.state,function(t,r){return r===e&&!n}))}},r.state=r._getDefaultOpenStates(r.props.availableProviders),r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){var t=this.props.showSpinner&&!e.showSpinner,n=this.props.isUpdatePending&&!e.isUpdatePending&&!e.updateError;(t||n)&&this.setState(this._getDefaultOpenStates(e.availableProviders))},n._getDefaultOpenStates=function(e){return void 0===e&&(e=[]),e.reduce(function(e,t){return e[t.identifier]=!1,e},{})},n._getOptOutStatus=function(e){var t=this.props.optOutStatuses,n=Cn.i(e,Cn.e)?"opt_in":"opt_out_managed";return t[e]?t[e]:n},n.render=function(){var e=this,t=this.props,n=t.isUnauthorized,r=t.loadSettingsError,i=t.showSpinner,a=t.availableProviders,o=t.isUpdatePending,s=t.updateError,l=t.onUpdateStatus;if(n)return hv()(Zq,{title:Object(Xn.default)("You're not supposed to be here"),description:Object(Xn.default)("You don't have access to Online Media Sources")});if(r)return hv()(d1,{title:Object(Xn.default)("There was an unexpected error loading Online Media Sources")});if(i)return yjt;var c=[{opt_in:Object(Xn.default)("Enabled")},{opt_out:Object(Xn.default)("Disabled")}],u=[].concat(c,[{opt_out_managed:Object(Xn.default)("Disabled for Managed Users")}]);return hv()(q8,{metricsPage:Oa,metricsPane:"onlineMediaSources"},void 0,hv()(H8,{},void 0,Object(Xn.default)("Online Media Sources")),a.map(function(t){var n=Cn.i(t.identifier,Cn.e)?c:u,r=e._getOptOutStatus(t.identifier),i=n.find(function(e){return e[r]})[r];return hv()(Gyt,{closedNode:i,title:t.title,isOpen:e.state[t.identifier],isUpdating:o,errorMessage:s&&Object(Xn.default)("Unable to save settings"),onTogglePress:e.createToggleHandler(t.identifier),onUpdateStatus:l,onSubmit:l},t.identifier,hv()(tW,{labelText:t.title,helpText:Object(Xn.default)("Disabling {onlineMediaSource} will remove it from all Plex apps signed in with your account.",{onlineMediaSource:t.title}),name:t.identifier,initialValue:r,values:n}))}))},t}(mjt),Sjt=Xf.a.Component,Ijt=Object(Iy.createSelector)(function(e){return e.ui.onlineMediaSourcesPage},wy,function(e,t){return{isUnauthorized:t.restricted,availableProviders:e.availableProviders,optOutStatuses:e.optOutStatuses,isAvailableProvidersPending:e.isAvailableProvidersPending,availableProvidersError:e.availableProvidersError,isOptOutStatusesPending:e.isOptOutStatusesPending,optOutStatusesError:e.optOutStatusesError,isUpdatePending:e.isUpdatePending,updateError:e.updateError}}),Cjt={dispatchInitOnlineMediaSourcesPage:ljt,dispatchClearOnlineMediaSourcesUpdateError:pjt,dispatchUpdateOptOutStatuses:djt},Mjt=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onErrorDismiss=function(){t.props.dispatchClearOnlineMediaSourcesUpdateError()},t.onUpdateStatus=function(e){t.props.dispatchUpdateOptOutStatuses({optOutStatuses:e})},t}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(No.a)(function(){e.props.dispatchInitOnlineMediaSourcesPage()})},n.render=function(){var e=this.props,t=e.isUnauthorized,n=e.isAvailableProvidersPending,r=e.availableProvidersError,i=e.isOptOutStatusesPending,a=e.optOutStatusesError,o=e.availableProviders,s=e.optOutStatuses,l=e.updateError,c=e.isUpdatePending;return hv()(bjt,{isUnauthorized:t,loadSettingsError:!(!r&&!a),showSpinner:n||i,availableProviders:o,optOutStatuses:s,isUpdatePending:c,updateError:l,onErrorDismiss:this.onErrorDismiss,onUpdateStatus:this.onUpdateStatus})},t}(Sjt),Djt=Lm(Ijt,Cjt)(Mjt),wjt=hv()(mv,{},void 0,hv()(z7,{selectedKey:"online-media-sources"}),hv()(Djt,{})),Pjt=Rm.extend({component:function(e){return wjt}}),Tjt="ui/userSharingSettingsPage/addToHome",Ejt=Mt("ui/userSharingSettingsPage/resetUserSharingSettingsPage"),xjt=Mt("ui/userSharingSettingsPage/fetchFilterOptionsTags"),Ojt=Mt("ui/userSharingSettingsPage/setFriendRestrictions"),jjt=Mt("ui/userSharingSettingsPage/dismissFriendError"),Ajt=Mt("ui/userSharingSettingsPage/fetchServerOverviews"),Njt=Mt("ui/userSharingSettingsPage/fetchServerShares"),kjt=Mt("ui/userSharingSettingsPage/saveLibraryShares"),Ljt=Mt("ui/userSharingSettingsPage/dismissSharingError"),Rjt=Mt("ui/userSharingSettingsPage/removeServerShare"),_jt=Mt("ui/userSharingSettingsPage/dismissRemoveServerShareError"),Ujt=Mt(Tjt);function zjt(e){return e.get("ui").get("userSharingSettingsPage")}var Fjt=Qx(((gjt={})["ui/userSharingSettingsPage/resetUserSharingSettingsPage"]=function(e){var t=zjt(e);Y.a.abortAll("userSharingSettingsPage"),t.restoreDefaults()},gjt["ui/userSharingSettingsPage/fetchFilterOptionsTags"]=function(e,t){void 0===t&&(t={});var n=zjt(e),r=t.serverEntityIDs.map(function(t){return bo(e,{serverEntityID:t})});Y.a.abortAll("userSharingSettingsPage"),Object(No.a)(function(){n.set({isFilterOptionsTagsPopulating:!0,isFilterOptionsTagsPopulated:!1})}),OZ(r,"userSharingSettingsPage").done(function(e){n.set({filterOptionsTags:e,isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!0})})},gjt["ui/userSharingSettingsPage/setFriendRestrictions"]=function(e,t,n){var r=t.friendEntityID,i=t.restrictions,a=zjt(e),o=_b(e,{friendEntityID:r}),s=kZ(i);Object(No.a)(function(){a.set({isUpdatingFriend:!0,updateFriendError:null})}),o.save(s).done(function(){return a.set({isUpdatingFriend:!1})}).fail(function(){a.set({isUpdatingFriend:!1,updateFriendError:Object(Xn.default)("Failed to update")})})},gjt["ui/userSharingSettingsPage/dismissFriendError"]=function(e,t,n){_b(e,t).set({updateFriendError:null})},gjt["ui/userSharingSettingsPage/fetchServerOverviews"]=function(e,t){void 0===t&&(t={});var n=zjt(e),r=e.get("user"),i=t.serverEntityIDs;Object(No.a)(function(){n.set({isServerOverviewsPopulating:!0,isServerOverviewsPopulated:!1,serverOverviewsError:null})});var a=new bZ(i.map(function(t){return{machineIdentifier:bo(e,{serverEntityID:t}).get("machineIdentifier")}}),{server:r.server});P.a.when.apply(P.a,a.map(function(e){return e.fetch()})).done(function(){n.set({isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!0,serverOverviews:a})}).fail(function(){n.set({isServerOverviewsPopulating:!1,serverOverviewsError:Object(Xn.default)("Failed to load libraries.")})})},gjt["ui/userSharingSettingsPage/fetchServerShares"]=function(e,t){void 0===t&&(t={});var n=zjt(e),r=_b(e,t);Y.a.abortAll("userSharingSettingsPage"),Object(No.a)(function(){n.set({isServerSharesPopulating:!0,isServerSharesPopulated:!1,serverSharesError:null})}),AZ(r,"userSharingSettingsPage").done(function(){n.set({isServerSharesPopulating:!1,isServerSharesPopulated:!0})}).fail(function(){n.set({isServerSharesPopulating:!1,serverSharesError:Object(Xn.default)("Failed to load shares.")})})},gjt["ui/userSharingSettingsPage/saveLibraryShares"]=function(e,t,n){void 0===t&&(t={});var r=zjt(e),i=e.get("user");Object(No.a)(function(){r.set({isSharingPending:!0,isSharingCompleted:!1,sharingError:null})});var a,o=t,s=o.friendEntityID,l=o.machineIdentifier,c=o.selectedLibrarySectionIDs,u=o.isAllLibrariesSelected,d=_b(e,{friendEntityID:s}),p=d.get("serverShares"),h=p.findWhere({machineIdentifier:l}),f=!h,g=!u&&0===c.length,v=u?[]:c;if(f){var m=new ri({machineIdentifier:l});a=jZ({user:i,friend:d,serverShare:m,librarySectionIDs:v,isNewFriend:!1,isNewServerShare:!0})}else a=g?h.destroy({wait:!0}):jZ({user:i,friend:d,serverShare:h,librarySectionIDs:v,isNewFriend:!1,isNewServerShare:!1});a.done(function(e){f&&p.add(new ri(e,{server:i.server,parse:!0})),r.set({isSharingPending:!1,isSharingCompleted:!0})}).fail(function(e){r.set({isSharingPending:!1,sharingError:Vy(e,null,"status")||Object(Xn.default)("Failed to update server shares.")})}).always(function(){AZ(d,"userSharingSettingsPage")})},gjt["ui/userSharingSettingsPage/dismissSharingError"]=function(e,t,n){zjt(e).set({sharingError:null})},gjt["ui/userSharingSettingsPage/removeServerShare"]=function(e,t,n){var r=zjt(e);Object(No.a)(function(){r.set({isRemoveServerSharePending:!0,isRemoveServerShareCompleted:!1,removeServerShareError:null})});var i=t.friendEntityID,a=t.machineIdentifier,o=_b(e,{friendEntityID:i});o.get("serverShares").findWhere({machineIdentifier:a}).destroy({wait:!0}).done(function(){r.set({isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!0})}).fail(function(e){r.set({isRemoveServerSharePending:!1,removeServerShareError:Vy(e,null,"status")||Object(Xn.default)("Failed to remove server share.")})}).always(function(){AZ(o,"userSharingSettingsPage")})},gjt["ui/userSharingSettingsPage/dismissRemoveServerShareError"]=function(e,t,n){zjt(e).set({removeServerShareError:null})},gjt[Tjt]=function(e,t,n){var r=zjt(e),i=e.get("user"),a=_b(e,t);Object(No.a)(function(){r.set({isUpdatingFriend:!0,updateFriendError:null})}),new wZ({username:a.get("username")},{server:i.server}).save().done(function(){r.set({isUpdatingFriend:!1}),n(rH()),n(cH()),n(hH())}).fail(function(e){r.set({isUpdatingFriend:!1,updateFriendError:Vy(e,Object(Xn.default)("Failed to add to Home"),"status")})})},gjt)),Bjt=n(1140),Hjt=n.n(Bjt),Vjt=hv()(ZE.a,{});var Qjt=function(e){return hv()("div",{className:Hjt.a.spinnerContainer},void 0,Vjt)};function Wjt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-toolbar-add-to-home-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M240.8 504H28V336h44.8v123.2H196V308h168v151.2h123.2V298.557L280 91.357l-66.322 66.321L182 126l98-98 252 252v224H319.2V352.8h-78.4V504zM134.4 190.4H224v44.8h-89.6v89.6H89.6v-89.6H0v-44.8h89.6v-89.6h44.8v89.6z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Wjt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var Gjt=Wjt,Yjt=Xf.a.createElement,Kjt=Xf.a.Fragment;function qjt(e,t){var n=e[qr],r=e[Zr],i=e[Xr],a=e[Jr];if(!(n||r||i||a))return Object(Xn.default)("No restrictions");var o=[n,i].reduce(function(e,t){return t?[].concat(e,t.split(",")):e},[]).join(", "),s=[r,a].reduce(function(e,t){return t?[].concat(e,t.split(",")):e},[]).join(", "),l=o.length>0,c=s.length>0;return!t||l&&!c?Object(Xn.default)("Allow only {tags}",{tags:o}):!l&&c?Object(Xn.default)("Exclude only {tags}",{tags:s}):hv()(Kjt,{},void 0,hv()("div",{},void 0,Object(Xn.default)("Allow only {tags}",{tags:o})),hv()("div",{},void 0,Object(Xn.default)("Exclude {tags}",{tags:s})))}function Zjt(e){var t=e.label,n=e.metadataType,r=e.contentRatingsName,i=e.excludeContentRatingsName,a=e.labelsName,o=e.excludeLabelsName,s=e.filters,l=e.tagsProps,c=e.canShowExcludeRestrictions,u=wt()(e,["label","metadataType","contentRatingsName","excludeContentRatingsName","labelsName","excludeLabelsName","filters","tagsProps","canShowExcludeRestrictions"]),d=KX(s,qr,Zr),p=KX(s,Xr,Jr);return Yjt(Gyt,dv()({},u,{closedNode:qjt(s,c)}),hv()(k_,{},void 0,t),r?Yjt(LJ,dv()({},l,{name:r,metadataType:n,tagType:qr,initialValue:d.initialAllowTags,excludedTags:d.excludeTags,onChange:d.onAllowTagsChange})):null,c&&i?Yjt(LJ,dv()({},l,{name:i,metadataType:n,tagType:Zr,initialValue:d.initialExcludeTags,excludedTags:d.allowTags,onChange:d.onExcludeTagsChange})):null,Yjt(LJ,dv()({},l,{name:a,metadataType:n,tagType:Xr,initialValue:p.initialAllowTags,excludedTags:p.excludeTags,onChange:p.onAllowTagsChange})),c?Yjt(LJ,dv()({},l,{name:o,metadataType:n,tagType:Jr,initialValue:p.initialExcludeTags,excludedTags:p.allowTags,onChange:p.onExcludeTagsChange})):null)}var Xjt=n(1141),Jjt=n.n(Xjt),$jt=Xf.a.createElement,eAt=Xf.a.Fragment,tAt=Xf.a.useCallback,nAt=Xf.a.useEffect,rAt=Xf.a.useState,iAt={isAllowSyncOpen:!1,isAllowCameraUploadOpen:!1,isAllowLiveTVOpen:!1,isMovieTagsOpen:!1,isTelevisionTagsOpen:!1,isMusicTagsOpen:!1};function aAt(e,t){return e?FX.options[t]():t===FX.TV_ONLY?Object(Xn.default)("Enabled"):Object(Xn.default)("Disabled")}function oAt(e){return parseInt(e,10)}var sAt=function(e){var t=e.friend,n=e.filterOptionsTags,r=e.isFilterOptionsTagsPopulating,i=e.isFilterOptionsTagsPopulated,a=e.isUpdatingFriend,o=e.updateFriendError,s=e.canShowRestrictions,l=e.canShareTuners,c=e.canShareDVR,u=e.canShowExcludeRestrictions,d=e.onSubmit,p=e.onErrorDismiss,h=t.entityID,f=t.filterMovies,g=t.filterTelevision,v=t.filterMusic,m=t.allowSync,y=t.allowCameraUpload,b=t.allowTuners,S=rAt(iAt),I=S[0],M=S[1],D=vF(a);nAt(function(){!D||a||o||M(C.a.mapObject(I,function(){return!1}))},[D,a,o,I]);var w=tAt(function(e){return function(t){t.preventDefault(),o&&p({friendEntityID:h});var n=C.a.mapObject(I,function(t,n){return n===e&&!I[e]});M(n)}},[I,M,h,o,p]),P=tAt(function(e,t){return{title:e,isOpen:I[t],onSubmit:function(e){d({friendEntityID:h,restrictions:e})},isUpdating:a,errorMessage:o,onTogglePress:w(t)}},[I,w,h,a,o,d]),T={filterOptionsTags:n,isFilterOptionsTagsPopulating:r,isFilterOptionsTagsPopulated:i};return hv()(q8,{className:Jjt.a.content,metricsPage:Ua,metricsPane:"restrictions"},void 0,s?hv()(eAt,{},void 0,$jt(Gyt,dv()({},P(Object(Xn.default)("Allow Sync and Download"),"isAllowSyncOpen"),{closedNode:m?Object(Xn.default)("Enabled"):Object(Xn.default)("Disabled")}),hv()(uW,{name:"allowSync",initialValue:m,labelText:Object(Xn.default)("Allow Sync and Download"),checkboxText:Object(Xn.default)("Allow this user to sync or download content from your server")})),$jt(Gyt,dv()({},P(Object(Xn.default)("Allow Camera Upload"),"isAllowCameraUploadOpen"),{closedNode:y?Object(Xn.default)("Enabled"):Object(Xn.default)("Disabled")}),hv()(uW,{name:"allowCameraUpload",initialValue:y,labelText:Object(Xn.default)("Allow Camera Upload"),checkboxText:Object(Xn.default)("Allow this user to upload media to your server")})),l?$jt(Gyt,dv()({},P(c?Object(Xn.default)("Live TV & DVR Access"):Object(Xn.default)("Allow access to Live TV"),"isAllowLiveTVOpen"),{closedNode:aAt(c,b)}),c?hv()(tW,{name:"allowTuners",initialValue:b,value:FX.values[b],values:FX.values,transformValue:oAt,labelText:Object(Xn.default)("Live TV & DVR Access"),helpText:Object(Xn.default)("Enabling Live TV for this user requires sharing a library with them. Enabling DVR will show all scheduled recordings, but this user will only be able to manage their own recordings")}):hv()(uW,{name:"allowTuners",initialValue:b,checkedValue:1,uncheckedValue:0,labelText:Object(Xn.default)("Allow access to Live TV"),checkboxText:Object(Xn.default)("Enabling this option will allow this user to access Live TV streams. It requires a library on the Plex Media Server that has DVR configured to be shared with the user")})):null,$jt(Zjt,dv()({},P(Cl.get(ml).title,"isMovieTagsOpen"),{label:Cl.get(ml).title,metadataType:nr.g,contentRatingsName:"moviesContentRatings",excludeContentRatingsName:"moviesExcludeContentRatings",labelsName:"moviesLabels",excludeLabelsName:"moviesExcludeLabels",filters:f,tagsProps:T,canShowExcludeRestrictions:u})),$jt(Zjt,dv()({},P(Cl.get(yl).title,"isTelevisionTagsOpen"),{label:Cl.get(yl).title,metadataType:nr.l,contentRatingsName:"televisionContentRatings",excludeContentRatingsName:"televisionExcludeContentRatings",labelsName:"televisionLabels",excludeLabelsName:"televisionExcludeLabels",filters:g,tagsProps:T,canShowExcludeRestrictions:u})),$jt(Zjt,dv()({},P(Cl.get(bl).title,"isMusicTagsOpen"),{label:Cl.get(bl).title,metadataType:nr.b,labelsName:"musicLabels",excludeLabelsName:"musicExcludeLabels",filters:v,tagsProps:T,canShowExcludeRestrictions:u}))):hv()(zB,{iconComponent:Ooe,title:Object(Xn.default)("Sharing Restrictions"),text:Object(Xn.default)("Upgrade to a Plex Pass to get more control over the media you share."),moreInfo:hv()(AB,{message:Object(Xn.default)("See our {openLinkSupported}support article{closeLinkSupported} for more information."),tags:[{open:"openLinkSupported",close:"closeLinkSupported",component:RS,kind:Qp,to:wB,target:"_blank"}]})},void 0,hv()(QH,{modalMetricsProperties:{context:Nn}})))},lAt=Xf.a.createElement,cAt=Xf.a.useEffect,uAt=aX(Ty),dAt=aX(By),pAt=aX(Ny),hAt=aX(Hy),fAt=aX(Fy),gAt=Object(Iy.createSelector)(function(e){return e.ui.userSharingSettingsPage},function(e,t){return t.friend},UX,uAt,dAt,pAt,hAt,fAt,function(e,t,n,r,i,a,o,s){var l=(t.home||i)&&a;return{serverEntityIDs:n,filterOptionsTags:e.filterOptionsTags,isFilterOptionsTagsPopulating:e.isFilterOptionsTagsPopulating,isFilterOptionsTagsPopulated:e.isFilterOptionsTagsPopulated,isUpdatingFriend:e.isUpdatingFriend,updateFriendError:e.updateFriendError,canShowRestrictions:r,canShareTuners:l,canShareDVR:l&&o,canShowExcludeRestrictions:s}});var vAt=Lm(gAt,{dispatchFetchFilterOptionsTags:xjt,onSubmit:Ojt,onErrorDismiss:jjt})(function(e){var t=e.serverEntityIDs,n=e.dispatchFetchFilterOptionsTags,r=wt()(e,["serverEntityIDs","dispatchFetchFilterOptionsTags"]);return cAt(function(){n({serverEntityIDs:t})},[t,n]),lAt(sAt,r)}),mAt=n(1142),yAt=n.n(mAt),bAt=Xf.a.Fragment;var SAt=function(e){var t=e.serverShare,n=t.name,r=t.libraries;return hv()(bAt,{},void 0,hv()(k_,{},void 0,n),r.map(function(e){return hv()("div",{className:yAt.a.library},e.id,e.title)}))},IAt=Xf.a.createElement,CAt=Xf.a.Fragment,MAt=Xf.a.useCallback,DAt=Xf.a.useEffect,wAt=Xf.a.useMemo,PAt=Xf.a.useState;function TAt(e){var t=e.libraries,n=e.sharingSettings,r=e.allLibraries?Object(Xn.default)("All libraries"):t.map(function(e){return e.title}).join(", "),i=[];return n.allowSync&&i.push(Object(Xn.default)("Sync Allowed")),n.allowCameraUpload&&i.push(Object(Xn.default)("Camera Upload Allowed")),0!==n.allowTuners&&i.push(1===n.allowTuners?Object(Xn.default)("Live TV Allowed"):Object(Xn.default)("Live TV and DVR allowed")),hv()(CAt,{},void 0,hv()("div",{},void 0,r),i.length>0?hv()("div",{},void 0,i.join(", ")):null)}var EAt=function(e){var t=e.friend,n=e.serverShares,r=e.isRemoveServerSharePending,i=e.isRemoveServerShareCompleted,a=e.removeServerShareError,o=e.onSubmit,s=e.onErrorDismiss,l=wAt(function(){return n.reduce(function(e,t){return e[t.machineIdentifier]=!1,e},{})},[n]),c=PAt(l),u=c[0],d=c[1],p=PAt(!1),h=p[0],f=p[1],g=PAt(null),v=g[0],m=g[1],y=vF(i);DAt(function(){y||!i||a||d(C.a.mapObject(u,function(){return!1}))},[u,y,i,a]);var b=MAt(function(){f(!1)},[f]),S=MAt(function(){o({friendEntityID:t.entityID,machineIdentifier:v}),f(!1)},[t,v,f,o]),I=MAt(function(e){return function(t){t.preventDefault(),a&&s();var n=C.a.mapObject(u,function(t,n){return n===e&&!u[e]});d(n)}},[u,d,a,s]),M=MAt(function(e,t){return{title:e,isOpen:u[t],onSubmit:function(){m(t),f(!0)},isUpdating:r,errorMessage:a,onTogglePress:I(t)}},[u,r,a,I]);return hv()(CAt,{},void 0,n.map(function(e){var t=e.machineIdentifier,n=e.name;return IAt(Gyt,dv()({},M(n,t),{key:t,closedNode:TAt(e),buttonKind:Gp,buttonText:Object(Xn.default)("Leave Server"),showButtonEnabled:!0}),hv()(SAt,{serverShare:e},t))}),hv()(mK,{isOpen:h,metricsPage:Ua,kind:Gp,title:Object(Xn.default)("Leave shared server"),message:Object(Xn.default)("Are you sure you want to leave this shared server?"),confirmLabel:Object(Xn.default)("Leave Server"),onConfirm:S,onCancel:b}))},xAt=Object(Iy.createSelector)(function(e){return e.ui.userSharingSettingsPage},function(e){var t=e.isRemoveServerSharePending,n=e.isRemoveServerShareCompleted,r=e.removeServerShareError;return{isRemoveServerSharePending:t&&!r,isRemoveServerShareCompleted:n,removeServerShareError:r}}),OAt=Lm(xAt,{onSubmit:Rjt,onErrorDismiss:_jt})(EAt),jAt=n(1143),AAt=n.n(jAt),NAt=Xf.a.createElement;var kAt=$Q(function(e){return NAt(sW,dv()({className:AAt.a.input},e))}),LAt=n(1144),RAt=n.n(LAt),_At=Xf.a.Fragment,UAt=Xf.a.useCallback,zAt=Xf.a.useState;var FAt=function(e){var t,n=e.serverOverview,r=e.serverShare,i=n.machineIdentifier,a=n.name,o=n.sections,s=zAt(!(!r||!r.allLibraries)),l=s[0],c=s[1],u=UAt(function(){c(!l)},[l]);return hv()(_At,{},void 0,hv()(k_,{},void 0,a),o.length>0?hv()(kAt,{name:JSON.stringify((t={},t[oX]=i,t)),checkboxText:Object(Xn.default)("All Libraries"),initialValue:l,onChange:u}):null,0===o.length?hv()("div",{className:RAt.a.emptyMessage},void 0,Object(Xn.default)("No libraries")):null,l?null:o.map(function(e){var t,n=e.id,i=e.title,a=!!(r&&r.libraries&&r.libraries.find(function(e){return e.id===n}));return hv()(kAt,{name:JSON.stringify((t={},t[sX]=n,t)),checkboxText:i,initialValue:a},n)}))},BAt=Xf.a.createElement,HAt=Xf.a.useCallback,VAt=Xf.a.useEffect,QAt=Xf.a.useMemo,WAt=Xf.a.useState;function GAt(e){return e?e.allLibraries?Object(Xn.default)("All libraries"):e.libraries.map(function(e){return e.title}).join(", "):Object(Xn.default)("No shared libraries")}var YAt=function(e){var t=e.friend,n=e.serverOverviews,r=e.isSharingPending,i=e.isSharingCompleted,a=e.sharingError,o=e.onSubmit,s=e.onErrorDismiss,l=QAt(function(){return n.reduce(function(e,t){return e[t.machineIdentifier]=!1,e},{})},[n]),c=WAt(l),u=c[0],d=c[1],p=vF(i);VAt(function(){p||!i||a||d(C.a.mapObject(u,function(){return!1}))},[u,p,i,a]);var h=HAt(function(e){return function(t){t.preventDefault(),a&&s();var n=C.a.mapObject(u,function(t,n){return n===e&&!u[e]});d(n)}},[u,d,a,s]),f=HAt(function(e){return function(n){var r=Object.keys(n).reduce(function(e,t){var r=n[t],i=JSON.parse(t);return r&&i.hasOwnProperty(sX)&&e.selectedLibrarySectionIDs.push(i[sX]),r&&i.hasOwnProperty(oX)&&(e.isAllLibrariesSelected=!0),e},{friendEntityID:t.entityID,machineIdentifier:e,selectedLibrarySectionIDs:[],isAllLibrariesSelected:!1});o(r)}},[t,o]),g=HAt(function(e,t){return{title:e,isOpen:u[t],onSubmit:f(t),isUpdating:r,errorMessage:a,onTogglePress:h(t)}},[u,f,h,r,a]);return n.map(function(e){var n=e.name,r=e.machineIdentifier,i=t.serverShares.find(function(e){return e.machineIdentifier===r});return BAt(Gyt,dv()({},g(n,r),{key:r,closedNode:GAt(i)}),hv()(FAt,{serverOverview:e,serverShare:i},r))})},KAt=Object(Iy.createSelector)(function(e){return e.ui.userSharingSettingsPage},function(e){var t=e.isSharingPending,n=e.isSharingCompleted,r=e.sharingError;return{isSharingPending:t&&!r,isSharingCompleted:n,sharingError:r}}),qAt=Lm(KAt,{onSubmit:kjt,onErrorDismiss:Ljt})(YAt),ZAt=Xf.a.Fragment,XAt=Xf.a.useMemo,JAt=hv()(Qjt,{});var $At=function(e){var t=e.friend,n=e.serverOverviews,r=e.isLoading,i=e.showList,a=e.errorMessage,o=XAt(function(){return t.serverShares.filter(function(e){return!e.owned&&!e.pending})},[t]);return a?hv()(o8e,{title:Object(Xn.default)("There was an unexpected error"),description:a}):hv()(q8,{metricsPage:Ua,metricsPane:"sharedLibraries"},void 0,r?JAt:null,i?hv()(ZAt,{},void 0,hv()(H8,{},void 0,Object(Xn.default)("Shared with {username}",{username:t.title})),hv()(qAt,{friend:t,serverOverviews:n}),o.length>0?hv()(H8,{},void 0,Object(Xn.default)("Shared with me")):null,o.length>0?hv()(OAt,{friend:t,serverShares:o}):null):null)},eNt=Xf.a.createElement,tNt=Xf.a.useEffect,nNt=Object(Iy.createSelector)(function(e){return e.ui.userSharingSettingsPage},ZZ,function(e,t){var n=e.serverOverviews,r=e.isServerOverviewsPopulating,i=e.isServerOverviewsPopulated,a=e.serverOverviewsError,o=e.isServerSharesPopulating,s=e.isServerSharesPopulated,l=e.serverSharesError,c=a||l;return{sharingEligibleServerEntityIDs:t,serverOverviews:n,isLoading:(r||o)&&!c,showList:i&&s,errorMessage:c}});var rNt=Lm(nNt,{dispatchFetchServerOverviews:Ajt,dispatchFetchServerShares:Njt})(function(e){var t=e.friend,n=e.sharingEligibleServerEntityIDs,r=e.dispatchFetchServerOverviews,i=e.dispatchFetchServerShares,a=wt()(e,["friend","sharingEligibleServerEntityIDs","dispatchFetchServerOverviews","dispatchFetchServerShares"]),o=t.entityID;return tNt(function(){r({serverEntityIDs:n})},[n,r]),tNt(function(){i({friendEntityID:o})},[o,i]),eNt($At,dv()({},a,{friend:t}))}),iNt=n(412),aNt=n.n(iNt),oNt=Xf.a.useCallback,sNt=Xf.a.useEffect,lNt=Xf.a.useState,cNt=60,uNt="sharedLibraries",dNt="restrictions",pNt=hv()(Qjt,{});var hNt=function(e){var t=e.serverEntityID,n=e.friend,r=e.hasHomeFeature,i=e.hasHomeInvite,a=e.isUpdatingFriend,o=e.isPending,s=e.isPopulated,l=e.hasError,c=e.dispatchAddToHome,u=vF(a),d=lNt(uNt),p=d[0],h=d[1],f=lNt(!1),g=f[0],v=f[1],m=oNt(function(){return v(!0)},[]),y=oNt(function(){return c({friendEntityID:n.entityID})},[n,c]),b=oNt(function(){return v(!1)},[]),S=oNt(function(){h(uNt)},[]),I=oNt(function(){h(dNt)},[]);sNt(function(){u&&!a&&v(!1)},[u,a,v]);var C=p===dNt?vAt:rNt,M=r&&!(n&&n.home)&&!i;return hv()(D1,{metricsPage:Oa,metricsProperties:{pane:"users-sharing"},scrollDirection:Zp},void 0,!l&&o?pNt:null,!l&&s?hv()("div",{className:aNt.a.pageHeader},void 0,hv()(_1,{},void 0,hv()($k,{className:aNt.a.avatar,serverEntityID:t,url:n.thumb,width:cNt,height:cNt}),hv()("div",{className:aNt.a.username},void 0,n.title)),hv()(Wbt,{},void 0,hv()(uet,{isSelected:p===uNt,onPress:S},void 0,Object(Xn.default)("Shared Libraries")),hv()(uet,{isSelected:p===dNt,onPress:I},void 0,Object(Xn.default)("Restrictions"))),hv()(B1,{},void 0,M?hv()(Kz,{className:aNt.a.addToHomeIcon,iconComponent:Gjt,title:Object(Xn.default)("Add to Home"),onPress:m}):null)):null,!l&&s?hv()(C,{friend:n}):null,l?hv()(LUe,{title:Object(Xn.default)("An error occurred loading this user"),description:Object(Xn.default)("Please try again")},void 0,hv()(RS,{to:"#!/settings/users-sharing",kind:Qp},void 0,Object(Xn.default)("Go Back"))):null,hv()(mK,{isOpen:g,metricsPage:ro,title:Object(Xn.default)("Add to Home"),message:Object(Xn.default)("Users in your Home appear on the Switch User screen. You should only do this if you live in the same home and share devices. The invited user will be asked to confirm Home membership."),confirmLabel:Object(Xn.default)("Confirm"),kind:Gp,isConfirmButtonSpinning:a,onConfirm:y,onCancel:b}))},fNt=Xf.a.createElement,gNt=Xf.a.useEffect,vNt=Object(Iy.createSelector)(function(e){return e.ui.userSharingSettingsPage},function(e){return e.cloudServer},function(e,t){return t.userID},wy,Gie,XZ,aX("b2403ac6-4885-4971-8b96-59353fd87c72"),function(e,t,n,r,i,a,o){var s=Object.keys(a).find(function(e){return a[e].id===n}),l=r.isAllFriendsPopulated,c=a[s],u=!!i.sentInvites.find(function(e){return parseInt(e.id,10)===c.id&&e.home});return{serverEntityID:t,friend:c,hasHomeFeature:o,hasHomeInvite:u,isUpdatingFriend:e.isUpdatingFriend,isPending:r.isAllFriendsPending&&!l,isPopulated:l,hasError:!!r.allFriendsError||l&&!s}});var mNt=Lm(vNt,{dispatchResetUserSharingSettingsPage:Ejt,dispatchPopulateAllFriends:Fo,dispatchAddToHome:Ujt})(function(e){var t=e.dispatchResetUserSharingSettingsPage,n=e.dispatchPopulateAllFriends,r=wt()(e,["dispatchResetUserSharingSettingsPage","dispatchPopulateAllFriends"]);return gNt(function(){Object(No.a)(n)},[n]),gNt(function(){return t},[t]),fNt(hNt,r)}),yNt=hv()(z7,{selectedKey:"users-sharing"}),bNt=Rm.extend({component:function(e){var t=e.userID;return hv()(mv,{},void 0,yNt,hv()(mNt,{userID:parseInt(t,10)}))}}),SNt=Object(Iy.createSelector)(Cy,function(e){return e.homeUsers}),INt=Object(Iy.createSelector)(Gie,function(e){return e.homeDetails}),CNt=n(675),MNt=n.n(CNt);var DNt=function(e){var t=e.isAccepting,n=e.onPress;return t?hv()(xV.a,{className:MNt.a.spinner,loadingLabel:Object(Xn.default)("Accepting invite"),size:qp.SMALL}):hv()(Kz,{className:MNt.a.button,iconComponent:f$,title:Object(Xn.default)("Accept Invite"),onPress:n})},wNt=n(1145),PNt=n.n(wNt);var TNt=function(e){var t=e.title,n=e.onPress;return hv()(Kz,{className:PNt.a.button,iconComponent:US,title:t,onPress:n})},ENt=Xf.a.createElement;var xNt=function(e){var t=e.hasOtherHomeUsers,n=e.isSignedInUserAdmin,r=wt()(e,["hasOtherHomeUsers","isSignedInUserAdmin"]),i=Object(Xn.default)("The admin of this home will have access to your account. Other users of this home will be able to switch to your account by entering your PIN.");return t&&(i=n?Object(Xn.default)("You are the admin in your current home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Xn.default)("Are you sure you want to join this home? You will leave your current home.")),ENt(mK,dv()({},r,{kind:a.DANGER,title:Object(Xn.default)("Join Home"),message:i,confirmLabel:Object(Xn.default)("Join")}))},ONt=Xf.a.createElement;var jNt=function(e){return ONt(mK,dv()({},e,{title:Object(Xn.default)("Reject Invite"),message:Object(Xn.default)("Are you sure you want to reject this invite?"),confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("No")}))},ANt=n(676),NNt=n.n(ANt);function kNt(e){var t=e.className,n=e.children,r=e.userID;return hv()("div",{className:t},void 0,r?hv()(RS,{className:NNt.a.underlay,to:"#!/settings/users-sharing/"+r}):null,n)}kNt.defaultProps={className:NNt.a.row};var LNt=kNt,RNt=n(1146),_Nt=n.n(RNt);function UNt(e){var t=e.className,n=e.children;return hv()("div",{className:t},void 0,n)}UNt.defaultProps={className:_Nt.a.container};var zNt=UNt,FNt=n(1147),BNt=n.n(FNt),HNt=50;var VNt=function(e){var t=e.serverEntityID,n=e.thumb;return hv()("div",{className:BNt.a.container},void 0,hv()($k,{serverEntityID:t,url:n,width:HNt,height:HNt}))};function QNt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-admin-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M120 560h320v-80H120v80zM268.298 78.258C251.923 73.25 240 58.004 240 40c0-22.075 17.923-40 40-40s40 17.925 40 40c0 17.304-11.012 32.058-26.404 37.625L360 280l128.004-96.003A39.81 39.81 0 0 1 480 160c0-22.075 17.925-40 40-40s40 17.925 40 40c0 22.077-17.925 40-40 40a39.85 39.85 0 0 1-14.858-2.855L440 360v80H120v-80L54.858 197.145A39.845 39.845 0 0 1 40 200c-22.077 0-40-17.923-40-40 0-22.075 17.923-40 40-40s40 17.925 40 40c0 9-2.98 17.31-8.004 23.997L200 280l68.298-201.742z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}QNt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var WNt=QNt,GNt=n(201),YNt=n.n(GNt),KNt=hv()(cE,{});var qNt=function(e){var t=e.title,n=e.subtitle,r=e.isAdmin,i=e.isRestricted;return hv()("div",{className:YNt.a.container},void 0,hv()("div",{className:YNt.a.titleContainer},void 0,hv()("div",{className:YNt.a.title},void 0,t),r?hv()("div",{className:YNt.a.statusContainer},void 0,hv()("div",{className:YNt.a.status},void 0,Object(Xn.default)("Admin")),hv()(WNt,{className:YNt.a.admin})):null,i?hv()("div",{className:YNt.a.status},void 0,Object(Xn.default)("Managed User")):null),n?hv()("div",{className:YNt.a.subtitle},void 0,KNt,n):null)},ZNt=n(528),XNt=n.n(ZNt);function JNt(e){var t=e.serverShares,n=0,r=0;return t.forEach(function(e){e.owned?n+=e.numLibraries:r+=e.numLibraries}),hv()("div",{className:XNt.a.container},void 0,r?hv()("div",{className:XNt.a.status},void 0,1===r?Object(Xn.default)("Shares 1 library with you"):Object(Xn.default)("Shares {libraryCount} libraries with you",{libraryCount:r})):null,n?hv()("div",{className:XNt.a.status},void 0,1===n?Object(Xn.default)("Sharing 1 library with them"):Object(Xn.default)("Sharing {libraryCount} libraries with them",{libraryCount:n})):null)}JNt.defaultProps={serverShares:[]};var $Nt=JNt,ekt=n(1148),tkt=n.n(ekt),nkt=Xf.a.useCallback,rkt=Xf.a.useState;var ikt=function(e){var t=e.serverEntityID,n=e.thumb,r=e.friendlyName,i=e.home,a=e.serverShares,o=e.isAccepting,s=e.isRemoving,l=e.hasOtherHomeUsers,c=e.isSignedInUserAdmin,u=e.dispatchAcceptInvite,d=e.dispatchRejectInvite,p=rkt(!1),h=p[0],f=p[1],g=rkt(!1),v=g[0],m=g[1],y=nkt(function(){return i?f(!0):u()},[i,u]),b=nkt(function(){return m(!0)},[]),S=nkt(function(){return f(!1)},[]),I=nkt(function(){return m(!1)},[]);return hv()(LNt,{},void 0,hv()(VNt,{serverEntityID:t,thumb:n}),hv()(qNt,{title:r,subtitle:i?Object(Xn.default)("Wants you to join their home"):Object(Xn.default)("Wants to share with you")}),i?hv()("div",{className:tkt.a.homeInvite},void 0,Object(Xn.default)("Awaiting your response")):hv()($Nt,{serverShares:a}),hv()(zNt,{},void 0,hv()(DNt,{isAccepting:o,onPress:y}),hv()(TNt,{title:Object(Xn.default)("Reject Invite"),onPress:b})),i?hv()(xNt,{isOpen:h,metricsPage:Ua,hasOtherHomeUsers:l,isSignedInUserAdmin:c,onConfirm:u,onCancel:S}):null,hv()(jNt,{isOpen:v,metricsPage:Ua,isConfirmButtonSpinning:s,onConfirm:d,onCancel:I}))};var akt=Lm(null,function(e,t){return{dispatchAcceptInvite:function(){e(uH({inviteID:t.id}))},dispatchRejectInvite:function(){e(dH({inviteID:t.id}))}}})(ikt),okt=Xf.a.createElement;var skt=function(e){return okt(mK,dv()({},e,{title:Object(Xn.default)("Cancel Invite"),message:Object(Xn.default)("Are you sure you want to cancel this invite?"),confirmLabel:Object(Xn.default)("Yes"),cancelLabel:Object(Xn.default)("No")}))},lkt=n(413),ckt=n.n(lkt),ukt=Xf.a.useCallback,dkt=Xf.a.useState;var pkt=function(e){var t=e.serverEntityID,n=e.thumb,r=e.friendlyName,i=e.home,a=e.serverShares,o=e.isRemoving,s=e.dispatchCancelInvite,l=dkt(!1),c=l[0],u=l[1];return hv()(LNt,{className:ckt.a.row},void 0,hv()(VNt,{serverEntityID:t,thumb:n}),hv()(qNt,{title:r,subtitle:Object(Xn.default)("Invite pending")}),i?hv()("div",{className:ckt.a.homeInvite},void 0,hv()("div",{className:ckt.a.status},void 0,Object(Xn.default)("Awaiting their response"))):hv()($Nt,{serverShares:a}),hv()(zNt,{className:ckt.a.actions},void 0,hv()(TNt,{title:Object(Xn.default)("Cancel Invite"),onPress:ukt(function(){return u(!0)},[])})),hv()(skt,{isOpen:c,metricsPage:Ua,isConfirmButtonSpinning:o,onConfirm:s,onCancel:ukt(function(){return u(!1)},[])}))};var hkt=Lm(null,function(e,t){return{dispatchCancelInvite:function(){e(pH({inviteID:t.id}))}}})(pkt),fkt=n(529),gkt=n.n(fkt);var vkt=function(e){var t=e.title,n=e.children;return hv()("div",{className:gkt.a.header},void 0,hv()("div",{className:gkt.a.pageHeaderLeft},void 0,t),hv()("div",{className:gkt.a.pageHeaderRight},void 0,n))},mkt=Xf.a.createElement;function ykt(e){var t=e.title,n=e.serverShares,r=wt()(e,["title","serverShares"]),i=Object(Xn.default)("Are you sure you want to remove {friendName}?",{friendName:t}),o=0,s=0;n.forEach(function(e){e.owned?o+=e.numLibraries:s+=e.numLibraries});var l=function(e,t,n){return e&&t?n>1?Object(Xn.default)("You are sharing {libraryCount} libraries with each other",{libraryCount:n}):Object(Xn.default)("You are sharing {libraryCount} library with each other",{libraryCount:n}):e?n>1?Object(Xn.default)("You are sharing {libraryCount} libraries with this friend",{libraryCount:n}):Object(Xn.default)("You are sharing {libraryCount} library with this friend",{libraryCount:n}):t?n>1?Object(Xn.default)("This friend is sharing {libraryCount} libraries with you",{libraryCount:n}):Object(Xn.default)("This friend is sharing {libraryCount} library with you",{libraryCount:n}):void 0}(o,s,o+s);return l&&(i+=" "+l),mkt(mK,dv()({},r,{kind:a.DANGER,title:Object(Xn.default)("Remove Friend"),message:i,confirmLabel:Object(Xn.default)("Remove")}))}ykt.defaultProps={serverShares:[]};var bkt=ykt,Skt=n(677),Ikt=n.n(Skt),Ckt=Xf.a.useEffect;var Mkt=function(e){var t=e.serverEntityID,n=e.id,r=e.title,i=e.thumb,a=e.serverShares,o=e.home,s=e.restricted,l=e.isRemoving,c=e.dispatchRemove,u=eae(),d=vF(l);return Ckt(function(){d&&!l&&u.isOpen&&u.onClose()},[d,l,u]),o||s?null:hv()(LNt,{className:Ikt.a.row,userID:n},void 0,hv()(VNt,{serverEntityID:t,thumb:i}),hv()(qNt,{title:r}),hv()($Nt,{serverShares:a}),hv()(zNt,{className:Ikt.a.actions},void 0,hv()(TNt,{title:Object(Xn.default)("Remove User"),onPress:u.onOpen})),hv()(bkt,{isOpen:u.isOpen,metricsPage:Ua,title:r,serverShares:a,isConfirmButtonSpinning:l,onConfirm:c,onCancel:u.onClose}))};var Dkt=Lm(function(){return Object(Iy.createSelector)(JZ(),function(e){return e})},function(e,t){return{dispatchRemove:function(){e(aH({friendEntityID:t.friendEntityID}))}}})(Mkt);function wkt(){return Object(Iy.createSelector)(SNt,function(e,t){return t.homeUserEntityID},function(e,t){return e[t]})}var Pkt=Xf.a.createElement;var Tkt=function(e){var t=e.isSignedInUser,n=e.isAdmin,r=e.isRestricted,i=wt()(e,["isSignedInUser","isAdmin","isRestricted"]),o=Object(Xn.default)("Remove User"),s=Object(Xn.default)("You will no longer be able to switch to this user."),l=Object(Xn.default)("Remove");return t?(o=Object(Xn.default)("Leave Home"),s=n?Object(Xn.default)("You are the admin in this home. If you leave, the remaining users will be removed and managed users will be deleted."):Object(Xn.default)("Are you sure you want to leave this home?"),l=Object(Xn.default)("Leave")):r&&(s=Object(Xn.default)("Removing a managed user from your home will delete the managed user. Watched status for this user will be lost. This cannot be undone.")),Pkt(mK,dv()({},i,{kind:a.DANGER,title:o,message:s,confirmLabel:l}))};function Ekt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-locked-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M120 240V120h.01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h40zm180 240v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40zm20-400h-80c-22.077 0-40 17.925-40 40v120h160V120c0-22.075-17.923-40-40-40z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Ekt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var xkt=Ekt;function Okt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 560 560",id:"plex-icon-sharing-unlocked-560"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M240 80c-22.077 0-40 17.925-40 40h-80 .01c-.007-.513-.01-1.025-.01-1.537C120 53.079 173.08 0 238.462 0h83.076C386.92 0 440 53.08 440 118.463c0 .512-.003 1.025-.01 1.537h.01v120h40c22.08 0 40 17.924 40 40v240c0 22.076-17.92 40-40 40H80c-22.077 0-40-17.923-40-40V280c0-22.076 17.923-40 40-40h280V120c0-22.075-17.923-40-40-40h-80zm60 400v-43.42c23.294-8.244 40-30.476 40-56.58 0-33.115-26.885-60-60-60-33.115 0-60 26.885-60 60 0 26.104 16.706 48.336 40 56.58V480h40z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}Okt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var jkt=Okt,Akt=n(530),Nkt=n.n(Akt);function kkt(e){var t=e.isProtected,n=e.isGuest,r=t?xkt:jkt;return hv()("div",{className:Nkt.a.container},void 0,hv()("div",{title:t?Object(Xn.default)("Has PIN"):Object(Xn.default)("No PIN")},void 0,n?null:hv()(r,{className:t?Nkt.a.lockedIcon:Nkt.a.icon})))}kkt.defaultProps={isProtected:!1,isGuest:!1};var Lkt=kkt,Rkt=n(531),_kt=n.n(Rkt),Ukt=Xf.a.useCallback,zkt=Xf.a.useEffect,Fkt=Xf.a.useState;var Bkt=function(e){var t=e.serverEntityID,n=e.id,r=e.title,i=e.thumb,a=e.protected,o=e.restricted,s=e.serverShares,l=e.isSignedInUserAdmin,c=e.isSignedInUser,u=e.admin,d=e.guest,p=e.hasOtherHomeUsers,h=e.isRemoving,f=e.dispatchEditPIN,g=e.dispatchRemove,v=Fkt(!1),m=v[0],y=v[1],b=vF(h);zkt(function(){b&&!h&&m&&y(!1)},[b,h,m]);var S=Ukt(function(){y(!0)},[]),I=Ukt(function(){y(!1)},[]),C=l&&!c,M=c&&!o,D=l&&o&&!d;return hv()(LNt,{className:_kt.a.row,userID:C?n:null},void 0,hv()(VNt,{serverEntityID:t,thumb:i}),hv()(qNt,{title:r,isAdmin:u,isRestricted:o}),hv()(Lkt,{isProtected:a,isGuest:d}),hv()($Nt,{serverShares:s}),hv()(zNt,{className:_kt.a.actions},void 0,M||D?hv()(RS,{className:_kt.a.editPin,onPress:f},void 0,a?Object(Xn.default)("Edit PIN"):Object(Xn.default)("Set PIN")):null,C&&!d?hv()(TNt,{title:Object(Xn.default)("Remove From Home"),onPress:S}):null,c&&p&&!o?hv()(TNt,{title:Object(Xn.default)("Leave Home"),onPress:S}):null),hv()(Tkt,{isOpen:m,metricsPage:Ua,isSignedInUser:c,isAdmin:u,isRestricted:o,isConfirmButtonSpinning:h,onConfirm:g,onCancel:I}))};var Hkt=Lm(function(){return Object(Iy.createSelector)(function(e,t){return t.signedInUserId},wkt(),Object(Iy.createSelector)(wkt(),p$,XZ,function(e,t,n){return t.find(function(t){return n[t].id===e.id})}),function(e,t,n){return Object.assign({},t,{serverShares:n&&n.serverShares,isSignedInUser:t.id===e})})},function(e,t){return{dispatchRemove:function(){e(iH({homeUserEntityID:t.homeUserEntityID}))},dispatchEditPIN:function(){e(sH({homeUserEntityID:t.homeUserEntityID}))}}})(Bkt),Vkt=n(240),Qkt=n.n(Vkt),Wkt=Xf.a.createElement,Gkt=Xf.a.Fragment,Ykt=Xf.a.useCallback,Kkt=Xf.a.useState;function qkt(e,t){return e.filter(function(e){return e.home===t})}var Zkt=hv()(Qjt,{});var Xkt=function(e){var t=e.serverEntityID,n=e.isPending,r=e.isPopulated,i=e.allFriendsError,a=e.allFriends,o=e.homeDetailsError,s=e.homeUsersError,l=e.homeUsers,c=e.invitesError,u=e.invites,d=e.sentInvitesError,p=e.sentInvites,h=e.signedInUserId,f=e.guestEnabled,g=e.isTogglingGuestUser,v=e.hasHomeFeature,m=e.hasOwnedServers,y=e.isSignedInUserAdmin,b=e.onToggleGuestUser,S=qkt(u,!0),I=qkt(u,!1),C=qkt(p,!0),M=qkt(p,!1),D=Kkt(!1),w=D[0],P=D[1],T=Kkt(!1),E=T[0],x=T[1],O=Kkt(!1),j=O[0],A=O[1],N=Ykt(function(){return P(!0)},[]),k=Ykt(function(){P(!0),x(!0)},[]),L=Ykt(function(){P(!0),A(!0)},[]),R=Ykt(function(){P(!1),x(!1),A(!1)},[]);return hv()(q8,{metricsPage:Oa,metricsPane:"users-sharing"},void 0,hv()(H8,{},void 0,Object(Xn.default)("Users & Sharing")),n&&!r?Zkt:null,o?Object(Xn.default)("An error occurred retrieving home details. Please try again."):null,s?Object(Xn.default)("An error occurred retrieving home users. Please try again."):null,i?Object(Xn.default)("An error occurred retrieving friends. Please try again."):null,c||d?Object(Xn.default)("An error occurred retrieving invites. Please try again."):null,r?hv()("div",{className:Qkt.a.homeUsersList},void 0,hv()(vkt,{title:Object(Xn.default)("Home Users")},void 0,v&&y?hv()(I_,{className:Qkt.a.button,size:qp.SMALL,onPress:k},void 0,Object(Xn.default)("Invite Home User")):null,v&&y?hv()(_V,{className:Qkt.a.button,size:qp.SMALL,onPress:L},void 0,Object(Xn.default)("Create Managed User")):null,v&&y?hv()(_V,{className:Qkt.a.button,size:qp.SMALL,isSpinning:g,isDisabled:g,onPress:b},void 0,f?Object(Xn.default)("Disable Guest"):Object(Xn.default)("Enable Guest")):null),S.map(function(e){return Wkt(akt,dv()({key:e.id},e,{serverEntityID:t,hasOtherHomeUsers:l.length>1,isSignedInUserAdmin:y}))}),l.map(function(e){return hv()(Hkt,{serverEntityID:t,homeUserEntityID:e,signedInUserId:h,isSignedInUserAdmin:y,hasOtherHomeUsers:l.length>1},e)}),y&&!v?hv()("div",{className:Qkt.a.upsell},void 0,hv()(AB,{className:Qkt.a.upsellMessage,message:Object(Xn.default)("Adding additional users to your home requires a Plex Pass. {openLink}Learn More{closeLink}"),tags:[{open:"openLink",close:"closeLink",component:RS,to:"https://www.plex.tv/plex-pass/",target:"_blank",kind:Qp}]})):null,C.map(function(e){return Wkt(hkt,dv()({key:e.id},e,{serverEntityID:t}))})):null,r&&(m||a.length||I.length||M.length)?hv()(Gkt,{},void 0,hv()(vkt,{title:Object(Xn.default)("Friends")},void 0,m?hv()(I_,{className:Qkt.a.button,size:qp.SMALL,onPress:N},void 0,Object(Xn.default)("Share Libraries")):null),I.map(function(e){var n=e.Server?e.Server.map(function(e){return Object.assign({},e,{owned:!1})}):void 0;return Wkt(akt,dv()({key:e.id},e,{serverEntityID:t,serverShares:n}))}),a.map(function(e){return hv()(Dkt,{serverEntityID:t,friendEntityID:e},e)}),M.map(function(e){var n=e.Server?e.Server.map(function(e){return Object.assign({},e,{owned:!0})}):[];return Wkt(hkt,dv()({key:e.id},e,{serverEntityID:t,serverShares:n}))})):null,hv()(R$,{metricsProperties:{context:Nn},serverEntityID:t,isAddingHomeUser:E,isCreatingManagedUser:j,isOpen:w,onModalClose:R}))},Jkt=Xf.a.createElement,$kt=Xf.a.Component,eLt=Object(Iy.createSelector)(rX,function(e){return!!e["b2403ac6-4885-4971-8b96-59353fd87c72"]}),tLt=Object(Iy.createSelector)(SNt,wy,function(e,t){var n=Object.values(e).find(function(e){return e.id===t.id});return!(!n||!n.admin)}),nLt=Object(Iy.createSelector)(function(e){return e.cloudServer},wy,Gie,ZZ,INt,eLt,tLt,function(e,t,n,r,i,a,o){return{serverEntityID:e,isPending:t.isAllFriendsPending||n.isHomeDetailsPending||n.isHomeUsersPending||n.isInvitesPending||n.isSentInvitesPending,isPopulated:t.isAllFriendsPopulated&&n.isHomeDetailsPopulated&&n.isHomeUsersPopulated&&n.isInvitesPopulated&&n.isSentInvitesPopulated,allFriendsError:t.allFriendsError,allFriends:t.allFriends,homeDetailsError:n.homeDetailsError,homeDetails:n.homeDetails,homeUsersError:n.homeUsersError,homeUsers:n.homeUsers,invitesError:n.invitesError,invites:n.invites,sentInvitesError:n.sentInvitesError,sentInvites:n.sentInvites,signedInUserId:t.id,guestEnabled:i.guestEnabled,isTogglingGuestUser:i.isTogglingGuestUser,hasHomeFeature:a,hasOwnedServers:r.length>0,isSignedInUserAdmin:o}}),rLt={dispatchFetchAllFriends:zo,dispatchFetchHomeDetails:nH,dispatchFetchHomeUsers:rH,dispatchFetchInvites:lH,dispatchFetchSentInvites:cH,onToggleGuestUser:oH},iLt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;Object(No.a)(function(){e.props.dispatchFetchAllFriends(),e.props.dispatchFetchHomeDetails(),e.props.dispatchFetchHomeUsers(),e.props.dispatchFetchInvites(),e.props.dispatchFetchSentInvites()})},n.render=function(){var e=this.props,t=(e.dispatchFetchAllFriends,e.dispatchFetchHomeDetails,e.dispatchFetchHomeUsers,e.dispatchFetchInvites,e.dispatchFetchSentInvites,wt()(e,["dispatchFetchAllFriends","dispatchFetchHomeDetails","dispatchFetchHomeUsers","dispatchFetchInvites","dispatchFetchSentInvites"]));return Jkt(Xkt,t)},t}($kt),aLt=Lm(nLt,rLt)(iLt),oLt=hv()(mv,{},void 0,hv()(z7,{selectedKey:"users-sharing"}),hv()(aLt,{})),sLt=Rm.extend({component:function(){return oLt}}),lLt=n(414),cLt=n.n(lLt),uLt=yit(function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onTogglePress=function(e){t.props.onToggle(t.props.index)},t.onRemovePress=function(e){t.props.onRemove(t.props.url)},t.onSubmit=function(e){t.props.onSubmit(t.props.url,e.url)},t}return Sy()(t,e),t.prototype.render=function(){var e=this.props,t=e.isDirty,n=e.isOpen,r=e.isUpdating,i=e.isRemoving,a=e.url,o=e.error,s=e.onFormChange,l=r||i;return hv()(_yt,{isOpen:n,closedNode:hv()("div",{},void 0,hv()(k_,{className:cLt.a.label},void 0,Object(Xn.default)("URL")),a),errorMessage:M3(o),onTogglePress:this.onTogglePress},void 0,hv()(x_,{onSubmit:this.onSubmit,onChange:s},void 0,hv()(wW,{focusOnMount:!0,selectTextOnFocus:!0,labelText:Object(Xn.default)("URL"),isDisabled:l,name:"url",initialValue:a,validations:a?[Ixt]:[]}),hv()("div",{className:cLt.a.buttons},void 0,a?hv()(_V,{className:cLt.a.dangerButton,kind:Gp,isSpinning:i,isDisabled:l,onPress:this.onRemovePress},void 0,Object(Xn.default)("Remove")):null,hv()(_V,{className:cLt.a.button,type:"submit",kind:Qp,isSpinning:r,isDisabled:l||!t},void 0,Object(Xn.default)("Save Changes")))))},t}(Xf.a.Component),{isUpdatingPropName:"isUpdating",errorPropName:"error",clearDirtyOnChangePropName:"isOpen"});var dLt=function(e){var t=e.hasPlexSubscription,n=e.modalMetricsProperties;return t?null:hv()(QH,{modalMetricsProperties:n})},pLt=Object(Iy.createSelector)(wy,function(e){return{hasPlexSubscription:!!e&&e.hasPlexSubscription}}),hLt=Lm(pLt)(dLt);hLt.propTypes=Object.assign({},hLt.propTypes);var fLt=hLt;function gLt(e){var t=e["aria-label"],n=e.className,r=e.style,i={xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",id:"plex-icon-marketing-webhooks"};i["aria-hidden"]=!t,i.style=r,i.className=$f.a.plexIcon+(n?" "+n:"");var a=[Xf.a.createElement.apply(Xf.a,["path",{d:"M6.665 4.166a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm3.334 0a.834.834 0 1 1-1.668 0 .834.834 0 0 1 1.668 0zm3.333 0a.834.834 0 1 1-1.667 0 .834.834 0 0 1 1.667 0zm2.5 22.498l.001-.002a.834.834 0 0 1 0 1.667H4.168a4.17 4.17 0 0 1-4.166-4.166V4.165A4.17 4.17 0 0 1 4.168-.001h26.664a4.17 4.17 0 0 1 4.166 4.166v13.333a.834.834 0 0 1-1.667 0V8.332H1.667v15.833c0 1.378 1.121 2.5 2.5 2.5h11.665zM4.165 1.666a2.502 2.502 0 0 0-2.5 2.5v2.5H33.33v-2.5c0-1.378-1.12-2.5-2.5-2.5H4.166zm35.418 30.03l.002-.002a.83.83 0 0 1 .305 1.136l-2.499 4.33a.821.821 0 0 1-.506.388.85.85 0 0 1-.633-.085l-1.324-.766a8.668 8.668 0 0 1-1.596.921v1.544c0 .46-.373.834-.834.834h-5a.834.834 0 0 1-.833-.834v-1.536a8.862 8.862 0 0 1-1.62-.924l-1.344.77a.836.836 0 0 1-1.136-.306l-2.5-4.33a.834.834 0 0 1 .305-1.138l1.327-.769a7.67 7.67 0 0 1 0-1.861l-1.325-.766a.832.832 0 0 1-.304-1.139l2.5-4.33a.836.836 0 0 1 1.137-.306l1.34.77a9.048 9.048 0 0 1 1.619-.924V20.83c0-.46.373-.834.833-.834h5c.46 0 .834.373.834.834v1.543a8.84 8.84 0 0 1 1.594.92l1.32-.766a.822.822 0 0 1 .634-.085.837.837 0 0 1 .506.389l2.5 4.33a.834.834 0 0 1-.305 1.138l-1.329.769a8.1 8.1 0 0 1 .002 1.86l1.33.768zm-3.22 3.91v.001l1.665-2.884-1.1-.635a.832.832 0 0 1-.401-.874c.075-.406.113-.815.113-1.215 0-.396-.038-.805-.115-1.215a.83.83 0 0 1 .402-.873l1.098-.635-1.666-2.885-1.085.631a.837.837 0 0 1-.96-.089 7.087 7.087 0 0 0-2.108-1.216.833.833 0 0 1-.542-.781v-1.27h-3.333v1.27a.844.844 0 0 1-.541.785c-.808.3-1.564.731-2.129 1.216a.832.832 0 0 1-.956.09l-1.105-.636-1.67 2.888 1.096.635a.835.835 0 0 1 .402.871c-.08.43-.12.83-.12 1.215.002.408.04.815.117 1.215a.832.832 0 0 1-.404.871l-1.096.635 1.669 2.889 1.11-.636a.831.831 0 0 1 .956.09c.565.486 1.321.916 2.126 1.216.327.12.544.432.544.781v1.27h3.333v-1.27c0-.348.217-.66.544-.781a6.962 6.962 0 0 0 2.106-1.216.837.837 0 0 1 .96-.09l1.09.632zm-6.39-9.774a4.17 4.17 0 0 1 4.166 4.166 4.17 4.17 0 0 1-4.166 4.166 4.17 4.17 0 0 1-4.166-4.166 4.17 4.17 0 0 1 4.166-4.166zm0 6.666c1.379 0 2.5-1.122 2.5-2.5 0-1.379-1.121-2.5-2.5-2.5a2.502 2.502 0 0 0-2.5 2.5c0 1.378 1.122 2.5 2.5 2.5z"}].concat([]))];return t&&a.unshift(Xf.a.createElement("title",null,t)),Xf.a.createElement.apply(Xf.a,["svg",i].concat(a))}gLt.propTypes={"aria-label":Dp.a.string,className:Dp.a.string,style:Dp.a.object};var vLt=gLt,mLt=n(1149),yLt=n.n(mLt);var bLt=function(e){var t=e.supportPageUrl,n=e.hasWebhooksFeature,r=e.addWebHookButton;return hv()("div",{className:yLt.a.infoContainer},void 0,hv()(zB,{iconComponent:vLt,title:Object(Xn.default)("Webhooks"),text:Object(Xn.default)('Hooked on home automation? With a Plex Pass, you can setup "webhooks" - Have Plex dim the lights when you start a movie, or send a tweet after you finish an episode of your favourite TV show.'),moreInfo:hv()(AB,{message:Object(Xn.default)("See our {openLinkDocumentation}documentation{closeLinkDocumentation} for example projects that showcase the power of webhooks."),tags:[{open:"openLinkDocumentation",close:"closeLinkDocumentation",component:RS,kind:a.PRIMARY,to:t,target:"_blank"}]})},void 0,n?r:hv()(fLt,{modalMetricsProperties:{context:"webhooks"}})))},SLt=n(678),ILt=n.n(SLt),CLt=Xf.a.Component,MLt=Xf.a.Fragment,DLt=hv()(Gq,{},void 0,hv()(ZE.a,{})),wLt=function(e){function t(t,n){var r;return(r=e.call(this,t,n)||this).onToggle=function(e){var t=r.state.openFormSectionIndex===e;r.props.onErrorDismiss(),r.props.onToggle(),r.setState({openFormSectionIndex:t?null:e})},r.onRemove=function(e){r.setState({removeWebhookModalURL:e,isRemoveWebhookModalOpen:!0})},r.onSubmit=function(e,t){e===t?(r.setState({openFormSectionIndex:null}),r.props.onToggle()):r.props.onSubmit(e,t)},r.onRemoveWebhookConfirmPress=function(e){var t=r.state.removeWebhookModalURL;r.props.onRemove(t)},r.onRemoveWebhookCancelPress=function(e){r.setState({isRemoveWebhookModalOpen:!1})},r.state={openFormSectionIndex:null,isRemoveWebhookModalOpen:!1},r}Sy()(t,e);var n=t.prototype;return n.componentWillReceiveProps=function(e){!e.isRemovingWebhooks&&this.props.isRemovingWebhooks&&this.setState({openFormSectionIndex:null,isRemoveWebhookModalOpen:!1});var t=e.webhooks===this.props.webhooks?-1:C.a.findIndex(e.webhooks,function(e){return""===e.url}),n=-1!==t,r=!e.isUpdatingWebhooks&&!e.updateWebhooksError&&this.props.isUpdatingWebhooks;n?this.setState({openFormSectionIndex:t}):r&&this.setState({openFormSectionIndex:null})},n.render=function(){var e=this,t=this.props,n=t.isUserRestricted,r=t.hasWebhooksFeature,i=t.isWebhooksPending,a=t.isWebhooksPopulated,o=t.webhooksError,s=t.isUpdatingWebhooks,l=t.isRemovingWebhooks,c=t.updateWebhooksError,u=t.webhooks,d=t.onAddWebhookPress,p=this.state,h=p.openFormSectionIndex,f=p.removeWebhookModalURL,g=p.isRemoveWebhookModalOpen;if(n)return hv()(Zq,{title:Object(Xn.default)("You're not supposed to be here"),description:Object(Xn.default)("You don't have access to webhooks settings")});if(r&&i)return DLt;var v=u&&u.length,m=!r||!v,y=u&&C.a.find(u,function(e){return""===e.url}),b=a&&u&&v<5&&!y,S=hv()(I_,{kind:Qp,onPress:d},void 0,Object(Xn.default)("Add webhook"));return hv()(q8,{metricsPage:Oa,metricsPane:"webhooks"},void 0,m?hv()(bLt,{supportPageUrl:DB,hasWebhooksFeature:r,addWebHookButton:S}):hv()(MLt,{},void 0,hv()(H8,{},void 0,Object(Xn.default)("Webhooks")),hv()("p",{},void 0,Object(Xn.default)("Plex Media Server will make requests to these webhooks on various media playback events.")),hv()("p",{},void 0,hv()(RS,{kind:Qp,to:DB,target:"_blank"},void 0,Object(Xn.default)("Learn more"))),u.map(function(t,n){var r=h===n;return hv()(uLt,{index:n,url:t.url,isOpen:r,isUpdating:r&&s,isRemoving:r&&l,error:r?c:null,onRemove:e.onRemove,onToggle:e.onToggle,onSubmit:e.onSubmit},n)}),b?hv()("div",{className:ILt.a.buttons},void 0,S):null),o?hv()("div",{className:ILt.a.error},void 0,Object(Xn.default)("An error occurred retrieving webhooks. Please try again.")):null,hv()(mK,{isConfirmButtonSpinning:l,isCancelButtonDisabled:l,isOpen:g,metricsPage:"confirmRemoveWebhook",title:Object(Xn.default)("Remove Webhook"),message:Object(Xn.default)("Plex will no longer post updates to {url}.",{url:f}),confirmLabel:Object(Xn.default)("Remove"),kind:Gp,onConfirm:this.onRemoveWebhookConfirmPress,onCancel:this.onRemoveWebhookCancelPress}))},t}(CLt),PLt=Xf.a.createElement,TLt=Xf.a.Component,ELt=Object(Iy.createSelector)(Gie,aX("6f82ca43-6117-4e55-ae0e-5ea3b3e99a96"),function(e,t){return{isUserRestricted:!!e.restricted,webhooks:e.webhooks,isWebhooksPending:e.isWebhooksPending,isWebhooksPopulated:e.isWebhooksPopulated,webhooksError:e.webhooksError,isUpdatingWebhooks:e.isUpdatingWebhooks,isRemovingWebhooks:e.isRemovingWebhooks,updateWebhooksError:e.updateWebhooksError,hasWebhooksFeature:t}}),xLt={dispatchFetchWebhooks:qB,onAddWebhookPress:function(){return ZB()},onErrorDismiss:JB,onRemove:function(e){return $B(e)},onSubmit:function(e,t){return XB({oldUrl:e,newUrl:t})},onToggle:function(){return $B("")}},OLt=function(e){function t(){return e.apply(this,arguments)||this}Sy()(t,e);var n=t.prototype;return n.componentDidMount=function(){var e=this;this.props.hasWebhooksFeature&&Object(No.a)(function(){e.props.dispatchFetchWebhooks()}),this.props.onErrorDismiss()},n.render=function(){var e=this.props,t=(e.dispatchFetchWebhooks,wt()(e,["dispatchFetchWebhooks"]));return PLt(wLt,t)},t}(TLt),jLt=Lm(ELt,xLt)(OLt),ALt=hv()(mv,{},void 0,hv()(z7,{selectedKey:"webhooks"}),hv()(jLt,{})),NLt=Rm.extend({component:function(){return ALt}}),kLt=n(1150),LLt=n.n(kLt),RLt=U.ItemView.extend({className:"announcement-list-item",template:LLt.a,ui:{thumb:".thumb",unread:".unread"},initialize:function(){this.image=new If({url:this.model.get("imageUrl")})},onRender:function(){this.image.setElement(this.ui.thumb),this.model.markAsRead()},onClose:function(){this.image.close()}}),_Lt=Of.extend({className:"list announcement-list",itemView:RLt}),ULt=n(1151),zLt=n.n(ULt),FLt=U.Layout.extend({className:"container",template:zLt.a,regions:{list:".announcements-container"},initialize:function(){(0,Object(J.c)("appStore").dispatch)(s1({allowLightPreset:!1}))},onRender:function(){this.list.show(new _Lt({collection:this.collection}))}}),BLt=lv.extend({account:function(){this.populateView({serverID:cv.a}).done(function(){Object(No.a)(),z.a.trigger("show:view",new ajt)})},onlineMediaSources:function(){this.populateView({serverID:cv.a}).done(function(){Object(No.a)(),z.a.trigger("show:view",new Pjt)})},webhooks:function(){var e=J.c("appModel").get("user");this.populateView({serverID:cv.a}).done(function(){Object(No.a)(),z.a.trigger("show:view",new NLt({model:e}))})},usersSharing:function(){this.populateView({serverID:cv.a}).done(function(){Object(No.a)(),z.a.trigger("show:view",new sLt)})},userSharingSettings:function(e){this.populateView({serverID:cv.a}).done(function(){Object(No.a)(),z.a.trigger("show:view",new bNt({userID:e}))})},announcements:function(){this.populateView().done(function(){var e=J.c("appModel").get("user").get("desktop").get("announcements"),t=e.fetch({scope:"page"});t.done(function(){z.a.trigger("show:view",new FLt({collection:e}))}),t.fail(function(){z.a.trigger("show:view",new ree({title:Object(Xn.default)("Announcements are not available.")}))})})}}),HLt=nv.extend({controller:new BLt,appRoutes:{"!/settings/account":"account","!/settings/webhooks":"webhooks","!/settings/users-sharing":"usersSharing","!/settings/users-sharing/(:userID)":"userSharingSettings","!/settings/online-media-sources":"onlineMediaSources","!/announcements":"announcements","!/account":"account","!/account/webhooks":"webhooks","!/account/online-media-sources":"onlineMediaSources","!/account/audio-subtitle":"account"}});function VLt(){return new gbt,new axt,new YTt,new aee,new bEt,new V7,new HLt,P.a.Deferred().resolve().promise()}function QLt(){z.a.trigger("initialize:app");var e=function(){nt.init("https://540fa70dba644b8dbd34d61a56bd1e72@sentry.io/160686");var e={lifecycle:"started",release:"4.8.3-a283e1a",version:tt.prop("X-Plex-Version")};return tt.props.forEach(function(t){var n=tt.prop(t);n&&(e[t]=n)}),nt.set(e),nt.enable(),P.a.Deferred().resolve().promise()}();return e=(e=(e=(e=(e=(e=(e=(e=(e=e.then(tv)).then(Rd)).then(zh)).then(yt)).then(ge)).then(K)).then(Hd)).then(Ff)).then(it),te.a.get("allowCloudPubSub")&&(e=e.then(function(){return function(){var e;function t(){e&&e.stop()}return ve.a.hasWebSocket&&(e=new Ie({name:"CloudServerEventManager",appModel:Object(J.c)("appModel"),isValidServer:We,supportsLongPolling:!0,allowMultipleConnections:!0,ServerEventConnection:Qe,ServerRetryManager:be})).start(),z.a.on("app:exit",t),z.a.on("app:priorityBackground",t),z.a.on("app:priorityForeground",function(){e&&e.start()}),P.a.Deferred().resolve().promise()}()})),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.then(st)).then(Bd)).then(vt)).then(Zg)).then(et)).then(Gg)).then(Yf)).then(ht)).then(Vg)).then(VLt)}var WLt=n(22),GLt=n.n(WLt),YLt=n(1152),KLt=n.n(YLt),qLt=n(1153),ZLt=n.n(qLt),XLt=n(1154),JLt=n.n(XLt),$Lt=n(1155),eRt=n.n($Lt),tRt=n(1156),nRt=n.n(tRt),rRt=n(1157),iRt=n.n(rRt),aRt=n(1158),oRt=n.n(aRt);GLt.a.registerPartial("setting",iRt.a),GLt.a.registerPartial("lockableTagInput",eRt.a),GLt.a.registerPartial("lockableTextInput",nRt.a),GLt.a.registerPartial("lockableNumericInput",JLt.a),GLt.a.registerPartial("textInput",oRt.a),GLt.a.registerPartial("autocompleteTextInput",KLt.a),GLt.a.registerPartial("connectError",ZLt.a);var sRt=n(287),lRt=new(n.n(sRt).a)(!1,"_",!0),cRt={writeXml:function(e){return'<?xml version="1.0"?>'+lRt.json2xml_str(e)}};function uRt(e){e.forEach(function(e){e.resolve()}),e.length=0}function dRt(e){e.forEach(function(e){e.reject()}),e.length=0}var pRt=me.a.extend({mixins:[Se.a],name:"MediaServerCompanionProxy",commandID:0,initialize:function(){C.a.bindAll(this,"_checkPollRequestStatus","_pickProxyServer","_poll","_repoll","_sendResponse","_unregisterPlayer","onPollSuccess","onPollError"),this._debounceUnregisterPlayer=C.a.debounce(this._unregisterPlayer,2e3),this._debouncePickProxyServer=C.a.debounce(this._pickProxyServer,2e3),this._deepLinkDeferred=P.a.Deferred().resolve(),this._playerRegistrationDeferreds=[],this._playerUnregistrationDeferreds=[],this._pollRetryDelay=1e3},getDeepLink:function(){return this._deepLinkDeferred.promise()},publish:function(e){var t=this;if(this.proxyServer)if(this.timelineInflight)this._pendingTimeline=e;else{this.timelineInflight=!0;var n=cRt.writeXml(e),r=C.a.result(this.proxyServer,"url"),i=this.proxyServer.getXHROptions(r+"player/proxy/timeline?commandID="+this.commandID);i.data="timeline="+encodeURIComponent(n),i.method="POST",i.contentType="application/x-www-form-urlencoded",P.a.ajax(i).always(function(){t.timelineInflight=!1;var e=t._pendingTimeline;e&&(delete t._pendingTimeline,t.publish(e))})}},subscribe:function(e){this.started||(this.callback=e,this.started=!0,this.appModel=Object(J.c)("appModel"),this.listenTo(this.appModel,"change:companionServer",this._debouncePickProxyServer),this._debouncePickProxyServer(this.appModel,this.appModel.get("companionServer")))},unsubscribe:function(){if(this.started){var e=this.proxyServer;this.started=!1,this.stopListening(this.servers,"change:connected",this._debouncePickProxyServer),this.callback=null,this.proxyServer=null,e&&this._debounceUnregisterPlayer(e),this._clearPollRequestStatusCheck(),this.pollRequest&&(this.pollRequest.abort(),this.pollRequest=null)}},unregisterPlayer:function(e,t){this.cloudServer=e,this.clientID=t;var n=P.a.Deferred();return this._playerUnregistrationDeferreds.push(n),n.promise()},registerPlayer:function(e,t){this.cloudServer=e,this.clientID=t;var n=P.a.Deferred();return this._playerRegistrationDeferreds.push(n),n.promise()},debugStatus:function(){var e=this.proxyServer;return e?"Proxied: "+e.get("debugName"):void 0},_pickProxyServer:function(e,t){this.started&&(this.proxyServer=t,this.proxyServer&&(this._registerServer(),this._poll()))},_registerServer:function(){var e=this;if(this.proxyServer&&this.cloudServer&&this.clientID){var t=this.cloudServer.getXHROptions("devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":te.a.get("allowCloudPubSub")?"client,player,pubsub-player":"client,player"},data:{_method:"PUT",proxiedBy:this.proxyServer.id}});P.a.ajax(t).done(function(){uRt(e._playerRegistrationDeferreds)}).fail(function(){dRt(e._playerRegistrationDeferreds)})}},_unregisterPlayer:function(e){var t=this;if(e&&this.cloudServer&&this.clientID){var n=this.cloudServer.getXHROptions("/devices/"+this.clientID,{method:"POST",headers:{"X-Plex-Provides":"client"},data:{_method:"PUT"}});P.a.ajax(n).done(function(){uRt(t._playerUnregistrationDeferreds)}).fail(function(){dRt(t._playerUnregistrationDeferreds)})}},_poll:function(){if(this.started){var e=this.proxyServer;if(e)if(this._isPollRequestPending())D.a.info("[Companion] Long poll already open to ",e.get("debugName"));else{this._clearPollRequestStatusCheck(),this._checkPollRequestStatusLater(),this._clearRepollLater();var t=e.getXHROptions("/player/proxy/poll",{data:{deviceClass:"pc",protocolVersion:"3",protocolCapabilities:"timeline,playback,navigation,mirror,playqueues",timeout:1}});D.a.info("[Companion] Opening long poll to %s at %s",e.get("debugName"),t.url),this.pollRequest=P.a.ajax(t).done(this.onPollSuccess).fail(this.onPollError)}else D.a.info("[Companion] No proxy server available to long poll")}},_repoll:function(){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._poll()},_isPollRequestPending:function(){return!!this.pollRequest&&"pending"===this.pollRequest.state()},_checkPollRequestStatus:function(){this._isPollRequestPending()&&this.proxyServer&&(D.a.info("[Companion] Poll connection successfully opened with %s",this.proxyServer.get("debugName")),this._pollRetryDelay=1e3)},_checkPollRequestStatusLater:function(){this._pollRequestStatusCheckTimeout=setTimeout(this._checkPollRequestStatus,5e3)},_clearPollRequestStatusCheck:function(){this._pollRequestStatusCheckTimeout=clearTimeout(this._pollRequestStatusCheckTimeout)},_repollLater:function(){this._pollRetryTimeout=setTimeout(this._repoll,this._pollRetryDelay)},_clearRepollLater:function(){this._pollRetryTimeout=clearTimeout(this._pollRetryTimeout)},_processCommand:function(e){var t=this;if(this.started){var n={path:e.path,commandID:e.commandID,supportsTimeline:!0,query:{key:[e.queryKey],providerIdentifier:[e.queryProviderIdentifier],offset:[e.queryOffset],mediaIndex:[e.queryMediaIndex],containerKey:[e.queryContainerKey],playQueueID:[e.queryPlayqueueid],type:[e.queryType],volume:[e.queryVolume],repeat:[e.queryRepeat],shuffle:[e.queryShuffle],autoPlay:[e.queryAutoPlay],subtitleColor:[e.querySubtitleColor],subtitlePosition:[e.querySubtitlePosition],subtitleSize:[e.querySubtitleSize],subtitleOffset:[e.querySubtitleOffset],audioStreamID:[e.queryAudioStreamID],subtitleStreamID:[e.querySubtitleStreamID],token:[e.queryToken],machineIdentifier:[e.queryMachineIdentifier],protocol:[e.queryProtocol],address:[e.queryAddress],port:[e.queryPort],text:[e.queryText],field:[e.queryField]}},r="resolved"!==this._deepLinkDeferred.state();this.callback(n,r).always(function(e){r&&e&&e.deferredAction&&t._deepLinkDeferred.resolve(e.deferredAction),t._sendResponse(e.controllerResponse)})}},_sendResponse:function(e){if(this.proxyServer){var t=parseInt(e.commandID,10);this.commandID<t&&(this.commandID=t);var n="/player/proxy/response?commandID="+e.commandID,r=this.proxyServer.getXHROptions(n,{method:"POST",contentType:"application/x-www-form-urlencoded",data:{response:e.body}});P.a.ajax(r)}},onPollSuccess:function(e){var t=this,n=e&&mt.a.parseXML(e),r=n&&n.Command;e?(n?r||D.a.warn("[Companion] Poll succeeded without a Command response",n):D.a.warn("[Companion] Poll succeeded without a parseable response",e),r?(this._repoll(),(Array.isArray(r)?r:[r]).forEach(function(e){try{D.a.info("[Companion] Received %s from %s",e.path,e.deviceName),t._processCommand(e)}catch(t){D.a.warn("[Companion] encountered %s while processing %s",t.message,e)}},this)):this.onPollError()):this._repoll()},onPollError:function(e){void 0===e&&(e={});var t=this.proxyServer;if(this.started&&t){this._clearPollRequestStatusCheck(),this._clearRepollLater(),this._repollLater(),this._pollRetryDelay*=2;var n=t.get("debugName");D.a.warn("[Companion] Poll failed to %s",n)}}});function hRt(){return qCe({mimeType:"application/x-mpegURL"})}var fRt=n(438),gRt=Xf.a.lazy(function(){return Promise.all([n.e(7),n.e(5)]).then(n.bind(null,1696))}),vRt=Xf.a.lazy(function(){return Promise.all([n.e(8),n.e(6)]).then(n.bind(null,1698))}),mRt={getComponent:function(e){return e?"dash"===e.protocol?vRt:e.drm===ne.FAIRPLAY&&"hls"===e.protocol&&hRt()?vRt:"hls"===e.protocol&&hRt()?fRt.a:"hls"===e.protocol?gRt:fRt.a:fRt.a}};var yRt=function(){var e=window.MediaSource||window.WebkitMediaSource,t=window.SourceBuffer||window.WebKitSourceBuffer;return!(!e||"function"!=typeof e.isTypeSupported||t&&(!t.prototype||"function"!=typeof t.prototype.appendBuffer||"function"!=typeof t.prototype.remove))};var bRt=function(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""};var SRt={videoResolution:!0},IRt={width:1920,height:1080,bitDepth:8,frameRate:30};function CRt(e,t){return C.a.pick(e,function(e,n){return 0===n.indexOf(t)})}function MRt(e,t,n,r){var i=Object.assign({},CRt(e,r),CRt(t,r));return C.a.map(i,function(e,i){return{codec:C.a.has(t,i)?n:null,name:bRt(i.slice(r.length)),value:e}})}var DRt=function(e){var t=e.finalProfile.directStream.video,n=Object(KR.a)(e.media),r=n&&n.codec,i=t.codecs&&t.codecs[r],a=MRt(t,i,r,"min"),o=MRt(t,i,r,"max");if(!n)return[];var s={width:n.width<=IRt.width,height:n.height<=IRt.height,bitDepth:n.bitDepth<=IRt.bitDepth,frameRate:n.frameRate<=IRt.frameRate};o=o.filter(function(e){return!0!==s[e.name]&&!0!==SRt[e.name]&&(t=e.name,n=e.value,!IRt[t]||IRt[t]<n);var t,n});var l,c,u,d=[].concat(a.map(function(e){return function(e){var t=e.codec,n=e.name,r=e.value;return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(t||"*")+"&type=lowerBound&name=video."+encodeURIComponent(n)+"&value="+encodeURIComponent(r)+"&replace=true)"}({codec:e.codec,name:e.name,value:e.value})}),o.map(function(e){return function(e){var t=e.codec,n=e.name,r=e.value;return"add-limitation(scope=videoCodec&scopeName="+encodeURIComponent(t||"*")+"&type=upperBound&name=video."+encodeURIComponent(n)+"&value="+encodeURIComponent(r)+"&replace=true)"}({codec:e.codec,name:e.name,value:e.value})}));return i&&"h264"!==r&&d.push((l={protocol:e.protocol,codec:r},c=l.protocol,u=l.codec,"append-transcode-target-codec(type=videoProfile&context=streaming&protocol="+encodeURIComponent(c)+"&videoCodec="+encodeURIComponent(u)+")")),d},wRt=n(214),PRt=n(292);function TRt(e){var t=e.mediaItems,n=e.transcodeServer,r=e.metadataItem,i=e.canPlayAdaptiveBitrate,a=e.settings,o=e.availableQualities,s=function(e){return Math.max.apply(Math,e.map(function(e){return e.bitrate}))}(t),l=n.get("maxUploadBitrate"),c=n.get("isPrivateConnection"),u=i&&a.get("autoAdjustQuality"),d=a.localQualityDefault;void 0===d&&(d=gd.a.ORIGINAL);var p=Object(PRt.a)(r,c),h=Object(wRt.a)(r,c),f=gd.a.getQualityByIndex(a.get(h));if(p){var g=a.get("useHomeStreamingRecommendedSettings")?d:f.index,v=gd.a.getQualityByIndex(g),m=gd.a.isExplicitQuality(v.index)&&xRt(v.bitrate,s);return v.index===gd.a.ORIGINAL||m?gd.a.ORIGINAL:u?gd.a.CONVERT_AUTOMATICALLY:ERt(v,o)}var y=xRt(l,s),b=f.index===gd.a.ORIGINAL,S=xRt(f.bitrate,s);return a.get("remoteSmallVideoAtOriginalQuality")&&y&&(b||S)?gd.a.ORIGINAL:u?gd.a.CONVERT_AUTOMATICALLY:b&&y?gd.a.ORIGINAL:ERt(f,o)}function ERt(e,t){return 0===t.length?gd.a.ORIGINAL:t.find(function(t){return t.index===e.index})?e.index:C.a.last(t).index}function xRt(e,t){return!e||!!t&&e>=t}var ORt=function e(t,n,r,i,a){void 0===i&&(i={});var o,s=Object(J.c)("appModel"),l=s.get("user").get("experienceSettings"),c=s.get("deviceSettings"),u=gae.prop("video"),d=function(e,t){return!(!ZWe()||!t.server.get("hasAdaptiveBitrate")||e.get("remotePlayer"))}(s,t),p=function(e){var t=e.profile,n=e.metadataItem,r=e.mediaItem,i=e.canPlayAdaptiveBitrate,a=e.settings,o=e.qualityIndex,s=r?[r]:n.get("Media"),l=gd.a.getAvailableQualitiesFor(s,n.server,{lowestQualityIndex:t.lowestQualityIndex,highestQualityIndex:t.highestQualityIndex});return null==o?o=TRt({mediaItems:s,transcodeServer:n.server,metadataItem:n,canPlayAdaptiveBitrate:i,settings:a,availableQualities:l}):gd.a.isExplicitQuality(o)&&!l.find(function(e){return e.index===o})&&(o=gd.a.ORIGINAL),{availableQualities:l,quality:gd.a.getQualityByIndex(o),qualityIndex:o}}({profile:u,metadataItem:t,qualityIndex:n,mediaItem:a,canPlayAdaptiveBitrate:d,settings:l}),h=p.qualityIndex,f=h===gd.a.CONVERT_AUTOMATICALLY&&d,g=c.get("directPlay")&&!f,v=c.get("directStream")&&!f?1:0,m=d&&l.get("autoAdjustQuality")&&t.server.supports("adaptiveBitrateFallback")&&!gd.a.isExplicitQuality(h),y=p.quality;return f&&(y=function(e,t){var n=e.server.get("isPrivateConnection");if(Object(PRt.a)(e,n)&&t.get("useHomeStreamingRecommendedSettings")){var r=t.defaults().localQuality;return gd.a.getQualityByIndex(r)}var i=Object(wRt.a)(e,n),a=t.get(i);return gd.a.getQualityByIndex(a)}(t,l)),h!==gd.a.ORIGINAL&&(o=e(t,gd.a.ORIGINAL,r,i,a)),Object.assign({type:Sk.types.VIDEO,profile:u,allowDirectPlay:g,allowDirectStreamVideoWithSoftSubtitles:!0,subtitlesBurnLevel:l.get("subtitlesBurnLevel"),availableQualities:p.availableQualities,qualityIndex:h,quality:y,transcoderOptions:Object.assign({addDebugOverlay:c.get("debugVideoQualityOverlay")?1:0,autoAdjustQuality:m||f?1:0,directStream:v,directStreamAudio:v,audioBoost:l.get("audioBoost")},i),originalQualityDecisionOptions:o},r)},jRt=12288,ARt=102400,NRt=yRt(),kRt=yRt()||hRt(),LRt=NRt?"dash":"hls";function RRt(e,t,n){var r=Object(J.c)("appModel").get("user").get("experienceSettings"),i={hasNativeHLS:kRt,hasDASH:NRt,hasStreamingMKV:!1,subtitlesBurnLevel:r.get("subtitlesBurnLevel"),transcoder:bf,transcodeProtocol:LRt,profileExtra:function(e){var t=DRt(e),n=e.finalProfile.directStream.video.codecs.hevc;if("hevc"===e.media.videoCodec&&n){var r=n.maxBitDepth;t.push(function(e){void 0===e&&(e={});var t=e,n=t.maxBitDepth,r=void 0===n?8:n,i=t.protocol,a=t.supportsHDR,o=void 0!==a&&a,s=t.supportsDolbyVision,l=void 0!==s&&s,c=["bt709","bt470m","bt470bg","smpte170m","smpte240m"];return r>=10&&c.push("bt2020-10"),r>=12&&c.push("bt2020-12"),r>=10&&(o||l)&&c.push("smpte2084"),"add-limitation(scope=videoTranscodeTarget&scopeName=hevc&scopeType=videoCodec&context=streaming&protocol="+i+"&type=match&name=video.colorTrc&list="+c.join("|")+"&isRequired=false)"}({protocol:e.protocol,maxBitDepth:r,supportsHDR:!0}))}var i,a,o,s,l,c,u,d,p,h,f=Object.keys(e.finalProfile.directStream.audio.codecs);return"dash"===e.protocol&&(f=f.filter(function(e){return!1===/^e?ac3$/.test(e)})),t.push((i={protocol:e.protocol,audioCodec:f.join(",")},a=i.type,o=void 0===a?"videoProfile":a,s=i.context,l=void 0===s?"streaming":s,c=i.videoCodec,u=i.audioCodec,d=i.subtitleCodec,p=wt()(i,["type","context","videoCodec","audioCodec","subtitleCodec"]),h={type:o,context:l},c&&(h.videoCodec=Array.isArray(c)?c.join(","):c),u&&(h.audioCodec=Array.isArray(u)?u.join(","):u),d&&(h.subtitleCodec=Array.isArray(d)?d.join(","):d),Object.assign(h,p),"append-transcode-target-codec("+F.stringifyParams(h)+")")),t.join("+")}},a={subtitleSize:r.get("subtitleSize"),mediaBufferSize:ARt},o=n||e.get("Media")[0];return o&&"livetv"===o.origin&&(i.allowDirectPlay=!1),ORt(e,t,i,a,n)}var _Rt=function(e,t,n){var r,i=nr.r(e.get("type"));return i&&i.mediaType===ed.a?(r=[],NRt&&r.push("add-transcode-target(type=musicProfile&context=streaming&protocol=dash&container=mp4&audioCodec=aac,mp3)"),kRt&&r.push("add-transcode-target(type=musicProfile&context=streaming&protocol=hls&container=mpegts&audioCodec=aac,mp3)"),{type:Sk.types.MUSIC,profile:gae.prop("music"),allowDirectPlay:!0,hasNativeHLS:kRt,hasDASH:NRt,transcoder:bf,transcodeProtocol:LRt,transcoderOptions:{directStreamAudio:1,mediaBufferSize:jRt},profileExtra:r.length?r.join("+"):null}):RRt(e,t,n)},URt=me.a.extend({mixins:[Se.a],name:"AjaxQueue",queue:null,request:null,enabled:!1,destroyed:!1,initialize:function(e){void 0===e&&(e={}),this.queue=[],!1!==e.enabled&&this.enable()},enable:function(){this.enabled||this.destroyed||(this.enabled=!0,this.onEnabled())},disable:function(){this.enabled&&(this.enabled=!1,this.request=null,this.onDisabled())},destroy:function(){this.destroyed||(this.disable(),this.queue.length=0,this.destroyed=!0,this.onDestroyed())},send:function(e){e&&(this.queue.push(e),this._next())},_next:function(){if(this._canNext()){var e=this.queue.shift(),t=e&&this._getAjaxOptions(e);if(t){var n=P.a.ajax(t);n.always(this.onAjaxAlways.bind(this,n)),this.request=n}}},_canNext:function(){return this.enabled&&!this.request},_getAjaxOptions:function(e){return e},onAjaxAlways:function(e){this.enabled&&e===this.request&&(this.request=null,this._next())},onEnabled:function(){this._next()},onDisabled:function(){},onDestroyed:function(){}});var zRt=["enable","disable","set","start","trackClick","trackEvent","trackView","incrementPlaybackCount","addPlaybackTime","toJSON"],FRt=["setBaseUrl","trackEvent"],BRt=101,HRt=102;function VRt(e,t){var n=t.server.get("debugName");return D.a.warn("[Connections] Aborting connection test for %s at %s because secure connections are disallowed",n,e),QRt(e,t)}function QRt(e,t){var n=t.connection,r=P.a.Deferred();return C.a.defer(function(){n.set({currentTest:null,testState:Te}),r.reject(n)}),r.promise()}function WRt(e){var t=e.server,n=e.connection,r=t.resolveUrl(e.url||"/media/providers",{connection:n}),i=Object(J.c)("appModel"),a=i.get("settings"),o=i.get("deviceSettings");if(!te.a.get("allowHttpsMediaServerConnections")&&n.get("isHttps")&&!t.get("isCloud"))return VRt(r,e);var s=a&&a.get("preferInsecureConnections");if(!t.get("httpsRequired")&&!t.get("isCloud")&&n.get("isHttps")&&s===Oh)return VRt(r,e);if(!t.get("httpsRequired")&&n.get("isHttps")&&s===xh&&n.get("isPrivate")&&t.get("publicAddressMatches"))return function(e,t){var n=t.server.get("debugName");return D.a.warn("[Connections] Aborting connection test for %s at %s because insecure connections are preferred",n,e),QRt(0,t)}(r,e);if(!te.a.get("allowMixedContent")&&ve.a.isHostedHttps&&!n.get("isHttps"))return function(e,t){var n=t.server.get("debugName");return D.a.warn("[Connections] Aborting connection test for %s at %s due to mixed content prevention",n,e),QRt(0,t)}(r,e);if(function(e){var t=e.server,n=e.connection;return!te.a.get("testPrivateConnectionsWhenPublicAddressDoesNotMatch")&&!t.get("isCloud")&&!t.get("isTransient")&&!t.get("publicAddressMatches")&&n.get("isPrivate")}(e))return function(e,t){var n=t.server.get("debugName");return D.a.warn("[Connections] Aborting connection test for %s at %s because location does not match",n,e),QRt(0,t)}(r,e);var l=o&&o.get("rejectDirectConnections");return t.get("isCloud")||n.get("relay")||!l&&!te.a.get("rejectDirectConnections")?function(e,t){var n=t.server,r=t.connection,i=P.a.Deferred(),a=n.get("debugName"),o=Object(Js.a)(n),s=Date.now();Object(D.a)("[Connections] Testing connection for %s at %s",a,e);var l=[],c={dataType:"text",headers:{Accept:o.accept},timeout:n.connectionTestTimeout};l.push(n.getXHROptions(e,c));var u=!P3(n);if(null==t.url&&u){var d=n.resolveUrl("/",{connection:r});Object(D.a)("[Connections] Testing legacy connection for %s at %s",a,d),l.push(n.getXHROptions(d,c))}var p=te.a.get("emulateBrokenHTTPS");if(p){var h=r.get("isHttps")&&!n.get("isCloud"),f="private"!==p||r.get("isPrivate");h&&f&&function(e){e.forEach(function(e){e.url="fail"+e.url})}(l)}var g=l.map(function(e){return P.a.ajax(e)}),v=X.apply(void 0,g);function m(e){r.get("relay")&&Object(J.c)("metrics").trackEvent(Object.assign({},e,{event:Ca,interaction:!1,reason:1===r.server.get("connections").length?BRt:HRt,serverType:r.server.get("isShared")?"shared":"owned",latency:Date.now()-s}))}function y(t){Object(D.a)("[Connections] %s connected at %s",a,e),r.set({currentTest:null,testState:we}),m({status:"success"}),i.resolve(r,t)}function b(t,n){var o={currentTest:null};if(t.some(function(e){return e.aborting}))Object(D.a)("[Connections] Aborted pending connection test for %s at %s",a,e),o.testState=Ee;else{var s=function(e){return 401===e||403===e||406===e}(n)?Pe:Te;m({status:"failure",error:n}),t.forEach(function(t){D.a.warn("[Connections] %s is %s at %s (Status %s)",a,s,e,t.status)}),o.testState=s}r.set(o),i.reject(r,t)}return r.set({currentTest:g,testState:De}),v.done(function(){var t,r=g[0],i=g[1];if(200!==r.status&&404!==r.status?t=r.status:i&&200!==i.status&&(t=i.status),void 0===t)if(n.get("isCloud"))y();else{var s=o.parse(r.responseText),l=i?o.parse(i.responseText):void 0,c=n.parseResponse(P.a.extend(!0,{},s,l)),u=c.machineIdentifier,d=n.get("isTransient")?n.get("originalMachineIdentifier"):n.get("machineIdentifier");if(!u||d&&u!==d)D.a.warn("[Connections] %s has an unexpected machine identifier at %s",a,e),b(g);else{!0===c.mediaProviders?c.mediaProviders=1:!1===c.mediaProviders?c.mediaProviders=0:i||(c.mediaProviders=1);var p=n.parse(c);n.get("isTransient")&&(p.machineIdentifier=n.get("machineIdentifier")),p.isInstallingServerUpdate=!1,p.isProvidersPending=!1,p.isProvidersPopulated=!0,Jl(p.providers,n),y(p)}}else b(g,t)}),i.promise()}(r,e):function(e,t){var n=t.server.get("debugName");return D.a.warn("[Connections] Aborting connection test for %s at %s due to reject direct connection debug setting",n,e),QRt(0,t)}(r,e)}function GRt(e){return!!(function(e){return!(!e||e.get("isCloud")||"iOS"===e.get("platform")||!e.supports("companionProxy"))}(e)&&(t=e.get("activeConnection"),t&&t.get("isPrivate")&&t.get("isConnected")));var t}function YRt(e){return!(!GRt(e)||e.get("isShared"))}var KRt=me.a.extend({mixins:[Se.a],name:"CompanionServerManager",initialize:function(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this._throttlePickCompanionServer=C.a.throttle(this._pickCompanionServer,2e3)},start:function(e){this.stop(),this.listenTo(this.servers,"change:connected change:activeConnection update",this._throttlePickCompanionServer),this.started=!0,this._pickCompanionServer()},stop:function(){this.stopListening(),this.started=!1},_pickCompanionServer:function(){this.started&&(this.companionServer&&GRt(this.companionServer)&&this.servers.contains(this.companionServer)||(this.companionServer=this.servers.find(YRt)||this.servers.find(GRt),this.companionServer?(Object(J.c)("appStore").dispatch(Ds({serverEntityID:this.companionServer.entityID()})),D.a.info("[Companion] Found companion",this.companionServer.get("debugName"))):(Object(J.c)("appStore").dispatch(ws()),D.a.warn("[Companion] No companion found"))))}}),qRt=n(296);function ZRt(e,t){return e?C.a.reduce(t,function(t,n,r){return-1===e.indexOf(r)&&(t[r]=n),t},{}):t}function XRt(e,t){var n;try{n=e._getStorageKey()}catch(e){n="no storageKey"}D.a.error("StorageModel ("+n+") "+t)}var JRt=new(y.c.Model.extend({sessionAttrs:[],save:function(e,t,n){var r,i=this.attributes;if(null==e||"object"==typeof e?(r=e,n=t):(r={})[e]=t,n=C.a.extend({validate:!0},n),r&&!n.wait){if(!this.set(r,n))return!1}else if(!this._validate(r,n))return!1;r&&n.wait&&(this.attributes=C.a.extend({},i,r)),void 0===n.parse&&(n.parse=!0);var a=this,o=n.success;n.success=function(){a.attributes=i,o&&o(a,i,n),a.trigger("sync",a,i,n)},y.c.wrapError(this,n);var s=this._getStorage(),l=this._getStorageKey(),c=this.attributes;if(!1!==s.getInstance().excludeDefaults){var u=C.a.result(this,"defaults");c=Object(qRt.a)(u,c)}c=ZRt(C.a.result(this,"sessionAttrs"),c);var d=this.serialize(c),p=s.set(l,d);return p.done(n.success).fail(n.error),r&&n.wait&&(this.attributes=i),p},populate:function(){return this.populatePromise||(this.populatePromise=this.fetch.apply(this,arguments)),this.populatePromise},fetch:function(e){void 0===(e=e?C.a.clone(e):{}).parse&&(e.parse=!0);var t=this,n=e.success;e.success=function(r){if(!t.set(t.parse(r,e),e))return!1;n&&n(t,r,e),t.trigger("sync",t,r,e)},y.c.wrapError(this,e);var r=this._getStorage().get(this._getStorageKey());return r.done(e.success).fail(e.error),this.populatePromise=r,r},destroy:function(e){e=e?C.a.clone(e):{};var t=this,n=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};e.success=function(i){e.wait&&r(),n&&n(t,i,e),t.trigger("sync",t,i,e)},y.c.wrapError(this,e);var i=this._getStorage().remove(this._getStorageKey());return i.done(e.success).fail(e.error),e.wait||r(),i},serialize:function(e){var t="";try{t=JSON.stringify(e)}catch(e){XRt(this,"serialization error: "+e.message)}return t},parse:function(e){var t;if(null==e)return t;if(C.a.isObject(e))return e;try{t=JSON.parse(e),t=ZRt(C.a.result(this,"sessionAttrs"),t)}catch(t){var n=C.a.isString(e)?e.substring(0,50):"no response";XRt(this,"parse error: "+t.message+" ("+n+")")}return t},sync:function(){throw new Error("storage model doesn`t allow syncing to server")},startCapturingChangeEvents:function(){if(this.releaseCapturedChangeEvents)Object(M.a)(!1,"This model is already capturing events");else{var e=this.set,t={};this.set=function(n,r,i){var a;"object"==typeof n?(a=n,i=r):(a={})[n]=r;var o=C.a.extend({},i,{silent:!0}),s=e.call(this,a,o);return C.a.extend(t,this.changed),s},this.releaseCapturedChangeEvents=function(){C.a.each(t,function(e,t){this.trigger("change:"+t,this,e)},this),C.a.isEmpty(t)||this.trigger("change",this,{}),t={},this.set=e,this.releaseCapturedChangeEvents=null}}},_getStorageKey:function(){var e=C.a.result(this,"storageKey");if(!e)throw new Error("storageKey is required");return e},_getStorage:function(){return ee}}).extend({storageKey:"manualServers",defaults:{port1:"32400",port2:"32400"}})),$Rt=me.a.extend({mixins:[Se.a],initialize:function(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start:function(){this.listenTo(JRt,"change",this.onManualConnectionChange),this.initManualServer()},stop:function(){this.stopListening()},initManualServer:function(){function e(e){var t=JRt.get("ip"+e),n=JRt.get("port"+e);t&&n&&this.addManualConnection(t,n,e)}e.call(this,1),e.call(this,2)},removeManualConnection:function(e,t,n){var r=this.appModel.get("primaryServer"),i="manualServer"+n,a=this.servers.find(function(e){return e.hasSource(i)});a&&(a.removeSource("internal"),a.removeSource(i),a.get("connections").findWhere({isConnected:!0})||a!==r||z.a.trigger("navigate","dashboard",{replace:!0}))},addManualConnection:function(e,t,n){var r="manualServer"+n,i={scheme:"http",address:e,port:t.toString(),sources:{id:r}},a=new Ac({friendlyName:e});a.addConnection(i),this.servers.add(a)},onManualConnectionChange:function(e){var t=Object.keys(e.changed)[0].slice(-1),n="ip"+t,r="port"+t,i=e.previous(n),a=e.previous(r),o=e.get(n),s=e.get(r);i&&a&&this.removeManualConnection(i,a,t),o&&s&&this.addManualConnection(o,s,t)}}),e_t=function(){},t_t=["page","type","style","mode"];var n_t="00000000-0000-4000-8000-000000000000",r_t=/0/g,i_t=function(){return(0|16*Math.random()).toString(16)};var a_t=function(){return n_t.replace(r_t,i_t)},o_t=me.a.extend({mixins:Se.a,initialize:function(e){this.privacySettings=null,this.defaults={},this._pendingPrivacyRequest=null,this._pendingEvents=[],this.debouncedFetchPrivacySettings=C.a.debounce(this.fetchPrivacySettings,250),this.isPlaybackActive=e.isPlaybackActive,this.enable()},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},set:function(e){this.defaults=Object.assign({},this.defaults,e)},fetchPrivacySettings:function(){var e=this;this.privacySettings=null,this._pendingPrivacyRequest&&(this._pendingPrivacyRequest.abort(),this._pendingPrivacyRequest=null);var t=Object(J.c)("appModel").get("user");if(!t.server.get("isConnected"))return P.a.Deferred().reject().promise();var n=t.server.getXHROptions("/api/v2/user/privacy",{dataType:"json"});return this._pendingPrivacyRequest=P.a.ajax(n),this._pendingPrivacyRequest.promise().done(function(n){e.set({userId:t.id}),e.setPrivacySettings(n),e.trackPendingEvents()}).always(function(){e._pendingPrivacyRequest=null})},setPrivacySettings:function(e){e&&e.metrics&&(this.privacySettings=Object.assign({},e,{metrics:e.metrics.reduce(function(e,t){return e[t.event]=t.status,e},{})}),Object(J.c)("metricsReporter").setBaseUrl(e.baseUrl))},incrementPlaybackCount:function(){var e="playbackCount",t=Object(J.c)("sessionStats");t.save(e,t.get(e)+1)},addPlaybackTime:function(e){var t="playbackTime",n=Object(J.c)("sessionStats");n.save(t,n.get(t)+e)},trackView:function(e,t){var n="client:view",r=Object.assign({event:n,interaction:!0,properties:e},t),i=m2e.a.measure(function(e,t){for(var n=e,r=0;r<t_t.length;r++){var i=t[t_t[r]];null!=i&&(n=n+":"+i)}return n}(n,e),n+":"+e.page+"-start");i&&(r.properties=Object.assign({},r.properties,{latency:Math.round(i.duration)})),this.trackEvent(r)},trackClick:function(e,t){this.trackEvent(Object.assign({event:Ia,interaction:!0,properties:e},t))},trackEvent:function(e){var t=this;if(this.enabled){var n=Object(J.c)("sessionStats"),r=n.get("sessionId"),i=n.get("anonymousSessionId");if(this.privacySettings){var a=P.a.extend(!0,{},this.defaults,e);a.sessionIdentifier||(a.sessionIdentifier=r),a.anonymousSessionIdentifier||(a.anonymousSessionIdentifier=i);var o=Date.now();if(!("client:shutdown"===e.event||"client:start"===e.event)){var s=n.get("lastInteractionTime"),l=n.get("lastPlayingHeartbeatTime");if(o-Math.max(s,l)>18e5)return void this.flushSession().then(function(){t.trackEvent(e)})}var c=this.privacySettings.metrics[a.event];if(c)if("off"===c);else a.interaction&&kee(),"anonymous"===c&&(delete a.userId,a.deviceIdentifier=Object(J.c)("appModel").get("anonymousClientID"),a.sessionIdentifier=a.anonymousSessionIdentifier),delete a.anonymousSessionIdentifier,e_t(a),Object(J.c)("metricsReporter").trackEvent(a)}else this._pendingEvents.push(Object.assign({},e,{sessionIdentifier:r,anonymousSessionIdentifier:i}))}},trackPendingEvents:function(){for(var e=this._pendingEvents,t=0;t<e.length;)this.trackEvent(e[t]),t++;this._pendingEvents=[]},start:function(){var e=this,t=Object(J.c)("appModel").get("user");return this.flushSession().then(function(){return q(t.server.populate())}).then(function(){return e.fetchPrivacySettings()}).always(function(){e.listenTo(t.server,"change:isConnected",e.onCloudServerChange),e.listenTo(t,"change:id",e.onUserIDChange)}),P.a.Deferred().resolve().promise()},flushSession:function(){var e=this,t=Object(J.c)("sessionStats").populate().then(function(){e.stopSession(),e.startSession()},function(){e.startSession()});return q(t)},startSession:function(){var e=this,t=Date.now(),n=Object(J.c)("sessionStats");if(!this.interval){var r=te.a.get("heartbeatInterval");0,this.interval=setInterval(function(){var t=Date.now(),r={heartbeatTime:t};e.isPlaybackActive()&&(r.lastPlayingHeartbeatTime=t),n.set(r)},r)}n.save({sessionId:a_t(),anonymousSessionId:a_t(),startTime:t,lastInteractionTime:t,heartbeatTime:t,lastPlayingHeartbeatTime:null,playbackCount:0,playbackTime:0});var i=m2e.a.endPeriod("client:start"),a={event:"client:start",interaction:!0,properties:{mode:"uno"}};i&&(a.properties.latency=Math.round(i.duration)),this.trackEvent(a)},stopSession:function(){var e=Object(J.c)("sessionStats"),t=e.get("heartbeatTime"),n=e.get("playbackCount"),r=e.get("playbackTime"),i=e.get("startTime");this.trackEvent({event:"client:shutdown",interaction:!1,properties:{sessionLength:Math.floor((t-i)/1e3),playbackCount:n,playbackTime:xCe(r)}})},toJSON:function(){return Object.assign({},this.defaults)},onCloudServerChange:function(e,t){t?this.fetchPrivacySettings():this.privacySettings=null},onUserIDChange:function(){this.privacySettings=null,this.debouncedFetchPrivacySettings()}}),s_t=me.a.extend({mixins:[Se.a],initialize:function(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start:function(e){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isPrimaryEligible":this.onPrimaryServerEligibleChange,"change:primaryServer.change:isOutOfDate":this.onPrimaryServerOutOfDateChange,"change:isWaitingForServers":this.onWaitingForServersChange,"change:primaryServer.change:isRelayed":this.onPrimaryServerIsRelayedChange}),this.listenTo(this.servers,{"update reset":this.onServersUpdate}),this._setPrimaryServer("startup")},stop:function(){this.stopListening(),this._primaryServerPromise=null},_setPrimaryServer:function(e){var t=this;if(this._primaryServerPromise)return this._primaryServerPromise;var n=Object(J.c)("appStore");n.dispatch(Cs());var r=this._waitForPrimaryServer();return this._primaryServerPromise=r,r.done(function(i){if(r===t._primaryServerPromise){if(t._primaryServerPromise=null,t.appModel.get("primaryServer"))return;var a=!i.get("version")&&!i.get("isRejected");i.get("isOutOfDate")||a?(Object(D.a)("[Primary Server] The server, %s, is waiting for a version",i.get("debugName")),t._setPrimaryServer(e)):n.dispatch(Ms({machineIdentifier:i.id,metricsProperties:{context:e}}))}}).fail(function(){r===t._primaryServerPromise&&(t._primaryServerPromise=null,t.appModel.set("isWaitingForPrimaryServer",!1))}),r},_waitForPrimaryServer:function(){var e,t=this,n=this.appModel.get("user").get("lastPrimaryServerID");return n?(Object(D.a)("[Primary Server] Waiting for the last primary server, %s, to connect",n),e=this.servers.populateServer({machineIdentifier:n,isPrimaryEligible:!0,isOutOfDate:!1})):e=P.a.Deferred().reject().promise(),e=(e=(e=e.then(null,function(){return Object(D.a)("[Primary Server] Waiting for any owned server to connect"),t.servers.populateServer({isFullOwnedServer:!0,isPrimaryEligible:!0,isOutOfDate:!1})})).then(null,function(){return Object(D.a)("[Primary Server] Waiting for any eligible server to connect"),t.servers.populateServer({isPrimaryEligible:!0,isOutOfDate:!1})})).then(null,function(){return Object(D.a)("[Primary Server] Waiting for any eligible server"),t.servers.findServer({isPrimaryEligible:!0,isOutOfDate:!1})})},onPrimaryServerChange:function(e,t){Kr.flushDebouncedSave();var n=e.previous("primaryServer");(n&&this.stopListening(n),t)?(D.a.info("[Primary Server] %s is now the primary server",t.get("debugName")),e.get("user").set("lastPrimaryServerID",t.id),t.get("isRelayed")&&Object(J.c)("appStore").dispatch(ic({machineIdentifier:t.id,serverName:t.get("friendlyName")}))):e.get("isWaitingForPrimaryServer")?Object(D.a)("[Primary Server] Waiting to set the primary server"):D.a.warn("[Primary Server] No primary server found")},onPrimaryServerEligibleChange:function(e,t){var n=this.appModel.get("user");t||(Object(D.a)("[Primary Server] The previous primary server, %s, is unauthorized",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer("fallback"))},onPrimaryServerOutOfDateChange:function(e,t){var n=this.appModel.get("user");t&&(Object(D.a)("[Primary Server] The previous primary server, %s, is out of date",e.get("debugName")),n.unset("lastPrimaryServerID"),this._setPrimaryServer("fallback"))},onWaitingForServersChange:function(e,t){if(t){var n=e.get("primaryServer"),r=!n||!this.servers.get(n.id),i=e.get("isWaitingForPrimaryServer");r&&!i&&this._setPrimaryServer("fallback")}},onPrimaryServerIsRelayedChange:function(e,t){t&&Object(J.c)("appStore").dispatch(ic({machineIdentifier:e.id,serverName:e.get("friendlyName")}))},onServersUpdate:function(){var e=this.appModel.get("user"),t=this.appModel.get("primaryServer");t?t&&!this.servers.get(t.id)&&(Object(D.a)("[Primary Server] The previous primary server, %s, was removed",t.get("debugName")),e.unset("lastPrimaryServerID"),this._setPrimaryServer("fallback")):this._setPrimaryServer("startup")}}),l_t=me.a.extend({mixins:[Se.a],initialize:function(e){this.appModel=e.appModel},start:function(){var e,t=this.appModel.get("user").get("desktop");this.populateCloudProviders(t.get("providers")),this.listenTo(this.appModel,((e={})["change:user.change:desktop.change:providers.add"]=this.onProviderAdd,e))},populateCloudProviders:function(e){var t=this;e.each(function(e){t.populateCloudProvider(e)})},populateCloudProvider:function(e){e.get("isPopulated")||Object(J.c)("appStore").dispatch(ef({providerEntityID:e.entityID(),options:{merge:!0}}))},onProviderAdd:function(e){this.populateCloudProvider(e)}});function c_t(e,t,n){return function(r){return r.server===e&&r.connection.id===t.id&&r.url===n}}var u_t,d_t=me.a.extend({initialize:function(e){this.appModel=e.appModel,this.queued=[],this.executing=[],this.maximumConcurrent=te.a.get("maximumConcurrentConnectionTests"),this.throttledStartProcessing=C.a.throttle(this._startProcessing.bind(this),50,{leading:!1})},queueConnectionTest:function(e){var t=e.server,n=e.connection,r=e.url,i=this._queuedOrExecuting(t,n,r);if(i)return i.deferred.promise();var a=P.a.Deferred();return this.queued.push({server:t,connection:n,url:r,deferred:a}),this._sortQueue(),this.throttledStartProcessing(),a.promise()},abortConnectionTest:function(e){var t=e.server,n=e.connection,r=e.url;return this._abortCurrentTest(t,n,r),this._removeQueuedOrExecuting(t,n,r),P.a.Deferred().resolve().promise()},reset:function(){for(this.queued.length=0;this.executing.length>0;)this.abortConnectionTest(this.executing[0])},_sortQueue:function(){var e=this,t=this.appModel.get("user").get("lastPrimaryServerID");this.queued.sort(function(n,r){var i=n.server,a=r.server,o=n.connection,s=r.connection,l=e._isManualConnection(o),c=e._isManualConnection(s),u=e._isMatchingLocation(i,o),d=e._isMatchingLocation(a,s);return i.id===t&&a.id!==t?-1:a.id===t&&i.id!==t?1:i.get("isCloud")&&!a.get("isCloud")?-1:a.get("isCloud")&&!i.get("isCloud")?1:!o.get("relay")&&s.get("relay")?-1:!s.get("relay")&&o.get("relay")?1:!o.get("isConnected")&&s.get("isConnected")?-1:!s.get("isConnected")&&o.get("isConnected")?1:!i.get("isShared")&&a.get("isShared")?-1:!a.get("isShared")&&i.get("isShared")?1:i.get("isFullServer")&&!a.get("isFullServer")?-1:a.get("isFullServer")&&!i.get("isFullServer")?1:l&&!c?-1:c&&!l?1:o.get("isBundled")&&!s.get("isBundled")?-1:s.get("isBundled")&&!o.get("isBundled")?1:u&&!d?-1:d&&!u?1:0})},_startProcessing:function(){C.a.times(this.maximumConcurrent-this.executing.length,this._process.bind(this))},_process:function(){var e=this;if(!(this.executing.length>=this.maximumConcurrent)&&this.queued.length){var t=this.queued.shift(),n=t.server,r=t.connection,i=t.url;this._abortCurrentTest(n,r,i);var a=Object(J.c)("testServerConnection")({server:n,connection:r,url:i});this.executing.push(t),a.done(function(e,n){t.deferred.resolve(e,n)}),a.fail(function(e,n){t.deferred.reject(e,n)}),a.always(function(){var n=e.executing.indexOf(t);e.executing.splice(n,1),e._process()})}},_abortCurrentTest:function(e,t,n){t.get("currentTest")&&t.get("currentTest").forEach(function(r){var i=e.resolveUrl(n||r.url,{connection:t});r&&"pending"===r.state()&&(Object(D.a)("[Connections] Aborting pending connection test for %s at %s",e.get("debugName"),i),Y.a.abort(r.rid),r.abort())})},_isManualConnection:function(e){return e.get("sources").some(function(e){return 0===e.id.indexOf("manualServer")})},_isMatchingLocation:function(e,t){var n=e.get("publicAddressMatches"),r=t.get("isPrivate");return n&&r||!n&&!r},_queuedOrExecuting:function(e,t,n){var r=c_t(e,t,n);return C.a.find(this.executing,r)||C.a.find(this.queued,r)},_removeQueuedOrExecuting:function(e,t,n){var r=c_t(e,t,n),i=C.a.findIndex(this.executing,r),a=C.a.findIndex(this.queued,r);i>=0&&this.executing.splice(i,1),a>=0&&this.queued.splice(a,1)}}),p_t="navigation",h_t=((u_t={})[nne]="fullScreenVideo",u_t[rne]="fullScreenMusic",u_t[ine]="fullScreenPhoto",u_t);var f_t="stopped",g_t="paused",v_t="buffering",m_t="error";function y_t(e,t){var n=e.get("connections").filter(function(e){return e.get("isConnected")&&!e.get("isLoopback")}),r=n.length?n.reduce(Sc):null;if(r)return{machineIdentifier:e.get("originalMachineIdentifier")||e.get("machineIdentifier"),protocol:r.get("scheme"),address:r.getAddressFromUri(),port:r.get("port")}}var b_t=1e3;function S_t(e,t,n){var r,i=n.companionPlayerProfile,a=n.getPlayerModels,o=n.getVolume,s=!1,l=!1;function c(t){if(void 0===t&&(t={}),r)l=!0;else if(l=!1,!a(e).some(function(e){return e.get("isPlayQueueLoading")})){var n=u(nne),i=u(rne),o=u(ine),s={MediaContainer:{_location:n._location||o._location||i._location||p_t,Timeline:[n,i,o]}};t.requestDisconnect&&(s.MediaContainer._disconnected=1),Object(D.a)(s),Object(J.c)("companionProxy").publish(s),r=setTimeout(d,b_t)}}function u(t){var n={_type:t,_state:f_t,_volume:o(e),_autoPlay:Object(J.c)("settingFinder").find("autoPlay")?1:0,_subtitleColor:Object(J.c)("settingFinder").find("subtitleColor"),_subtitlePosition:Object(J.c)("settingFinder").find("subtitlePosition"),_subtitleSize:Object(J.c)("settingFinder").find("subtitleSize"),_controllable:i[t]},r=function(t){var n=sne(t);return a(e).find(function(e){var t=e.get("playQueue");if(t&&t.get("type")===n)return e})}(t);if(!r)return n;var s=r.get("serverEntityID"),l=r.get("providerEntityID"),c=bo(e,{serverEntityID:s}),u=Co(e,{providerEntityID:l}),d=y_t(c),p=r.get("decisions"),h=r.get("playQueue"),f=h.get("playQueueItems"),g=h.get("playQueueSelectedItemID"),v=f.get(g),m=v.get("metadataItem"),y=one(Nee({metadataItemModel:m})),b=1e3*r.get("positionSeconds"),S=1e3*r.get("durationSeconds"),I=xte;return r.get("repeatOne")?I=Ote:r.get("repeatAll")&&(I=jte),d?(n._machineIdentifier=d.machineIdentifier,n._protocol=d.protocol,n._address=d.address,n._port=d.port):n._machineIdentifier=c.get("originalMachineIdentifier")||c.get("machineIdentifier"),n._providerIdentifier=u.get("identifier"),n._itemType=y,n._key=m.get("key"),n._ratingKey=m.get("ratingKey"),n._containerKey=C.a.result(h,"url"),h.get("isLocal")||(n._playQueueID=h.get("playQueueID"),n._playQueueItemID=g,n._playQueueVersion=h.get("playQueueVersion")),n._state=aSe(r),n._time=b,n._duration=S,n._seekRange="0-"+S,n._shuffle=h.get("playQueueShuffled")?1:0,n._repeat=I,r.get("openState")===Rne&&(n._location=function(e){return h_t[e]}(t)),Object.assign({},n,function(e,t){var n=e.get("metadataItem"),r=t[e.entityID()];if(!r)return{};var i={_mediaIndex:r.mediaIndex,_partIndex:r.partIndex,_partCount:r.partCount},a=n.get("Media")[r.mediaIndex],o=a&&a.Part,s=o&&o[r.partIndex];return(s?s.Stream:[]).reduce(function(e,t){var n=t.id,r=t.streamType,i=t.selected;return n?(r===Av.a.get("video").id?e._videoStreamID=n:i&&(r===Av.a.get("audio").id?e._audioStreamID=n:r===Av.a.get("subtitles").id&&(e._subtitleStreamID=n)),e):e},i)}(v,p))}function d(){r=null,l&&c()}function p(){c()}return{start:function(){s||(s=!0,(Object(J.a)("remoteCastPlayerManager")||Object(J.a)("remotePlexPlayerManager"))&&t.dispatch(Yae()),a(e).forEach(function(e){e.on("change",p)}))},stop:function(t){s=!1,r&&(clearTimeout(r),r=null),a(e).forEach(function(e){e.off("change",p)}),t&&c({requestDisconnect:t})}}}var I_t=At.extend({name:"SessionStatsModel",storageKey:"sessionstats",syncedAttrs:{heartbeatTime:Me.a.integer,lastPlayingHeartbeatTime:Me.a.integer,playbackCount:Me.a.integer,playbackTime:Me.a.integer,sessionId:Me.a.string,anonymousSessionId:Me.a.string,startTime:Me.a.integer,lastInteractionTime:Me.a.integer},defaults:{playbackCount:0,playbackTime:0}});var C_t,M_t,D_t,w_t=function(){var e=Object(J.c)("appModel").get("ui"),t=e.get("audioVideoPlayer"),n=e.get("photoPlayer"),r=aSe(t),i=aSe(n);return r===tSe||i===tSe},P_t=Object(Iy.createSelector)(T7,function(e){return e.volume}),T_t=Ac.prototype.sessionAttrs,E_t=(T_t.isCloud,wt()(T_t,["isCloud"])),x_t=Ac.extend({name:"TransientServerModel",cache:null,persistInCache:!1,sessionAttrs:Object.assign({},E_t,{isTransient:Me.a.boolean,originalMachineIdentifier:Me.a.string}),derivedAttrs:Object.assign({},Ac.prototype.derivedAttrs,{isCloud:function(){return this.get("originalMachineIdentifier")===cv.a}}),defaults:function(){var e=Ac.prototype.defaults.apply(this,arguments);return Object.assign({},e,{friendlyName:"Transient Server",isTransient:!0})},updateCacheKey:function(){},testConnection:function(e){if(this.get("originalMachineIdentifier")!==cv.a)return Ac.prototype.testConnection.apply(this,arguments);e.set({testState:we}),this.onConnectionTestSuccess(e)}}),O_t="ui/player/localCompanionPlayer/mirrorLocalDetails",j_t=Mt("ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction"),A_t=Mt("ui/player/localCompanionPlayer/setTransientServer"),N_t=Mt(O_t),k_t=((C_t={})["ui/player/localCompanionPlayer/runLocalCompanionPlaybackAction"]=function(e,t,n){var r=t.type,i=t.action,a=i.type,o=i.payload,s=void 0===o?{}:o,l=e.get("ui"),c=r===ine?zne:Une,u=l.get(c+"Player");u.get("isOpen")&&u.get("playQueue")&&n({type:a,payload:Object.assign({},s,{playerType:c})})},C_t["ui/player/localCompanionPlayer/setTransientServer"]=function(e,t){e.set("transientServer",t)},C_t[O_t]=function(e,t){},C_t),L_t={"/player/timeline/subscribe":function(){Object(J.c)("localCompanionTimelineManager").start()},"/player/timeline/unsubscribe":function(){V_t(),Object(J.c)("localCompanionTimelineManager").stop()},"/player/mirror/details":function(e){var t,n,r=e.providerIdentifier&&e.providerIdentifier[0];return H_t().then(function(){return z_t(e)}).then(function(n){return F_t(t=n,e)}).then(function(e){return(n=e.get(r||Cn.d))?n.populate({merge:!0}):P.a.Deferred().reject().promise()}).then(function(){return B_t(t,n,e)}).then(function(e){var r=e.metadataItemModel;__t(N_t({serverEntityID:t.entityID(),providerEntityID:n.entityID(),key:r.get("key"),parentKey:r.get("parentKey"),type:r.get("type"),subtype:r.get("subtype")}))})},"/player/playback/playMedia":function(e){var t,n,r=e.providerIdentifier&&e.providerIdentifier[0],i=e.type&&e.type[0],a=e.offset&&e.offset[0],o=e.mediaIndex&&e.mediaIndex[0],s=e.containerKey&&e.containerKey[0];return bt.execute("remotePlaybackUnlock").then(function(){return z_t(e)}).then(function(n){return F_t(t=n,e)}).then(function(i){var a=vae(s);if(a){if(n=i.get(r||Cn.d))return n.populate().then(function(){return{playQueueID:a}})}else if(n=i.get(r||Cn.b))return B_t(t,n,e);return P.a.Deferred().reject().promise()}).then(function(e){var r=e.metadataItemModel,l=e.playQueueID,c=t.entityID(),u=n.entityID(),d=sne(i),p=null==a?null:parseInt(a,10),h=null==o?null:parseInt(o,10);if(r){var f=r.entityID();__t(Ire({serverEntityID:c,providerEntityID:u,metadataItemEntityID:f,startMetadataItemEntityID:f,startOffsetMilliseconds:p,startMediaIndex:h,confirmPlayback:!0,confirmOffset:!0,options:{type:d,containerKey:s}}))}else __t(wre({serverEntityID:c,providerEntityID:u,playQueueType:d,playQueueID:l,startOffsetMilliseconds:p,startMediaIndex:h}))})},"/player/playback/pause":function(e){return U_t(e,qSe())},"/player/playback/play":function(e){return U_t(e,KSe())},"/player/playback/stop":function(e){return U_t(e,jre())},"/player/playback/skipNext":function(e){return U_t(e,$ne())},"/player/playback/skipPrevious":function(e){return U_t(e,ere())},"/player/playback/stepForward":function(e){return U_t(e,jSe())},"/player/playback/stepBack":function(e){return U_t(e,OSe())},"/player/playback/skipTo":function(e){var t=decodeURIComponent(e.key[0]);U_t(e,nre({key:t}))},"/player/playback/seekTo":function(e){var t=parseInt(e.offset[0],10);U_t(e,xSe({positionSeconds:Math.floor(t/1e3)}))},"/player/playback/refreshPlayQueue":function(e){U_t(e,hre())},"/player/playback/refreshStreams":function(e){U_t(e,YSe())},"/player/playback/setParameters":function(e){var t=e.volume&&e.volume[0],n=e.repeat&&e.repeat[0],r=e.shuffle&&e.shuffle[0],i=e.autoPlay&&e.autoPlay[0],a=e.subtitleColor&&e.subtitleColor[0],o=e.subtitlePosition&&e.subtitlePosition[0],s=e.subtitleSize&&e.subtitleSize[0],l=e.subtitleOffset&&e.subtitleOffset[0];if(null!=t){var c=parseInt(t,10);U_t(e,kSe({volume:c}))}if(null!=n){var u=parseInt(n,10);U_t(e,ire({repeatAll:u===jte,repeatOne:u===Ote}))}null!=r&&U_t(e,rre());null!=i&&U_t(e,ore({autoPlay:1===parseInt(e.autoPlay,10)}));null!=a&&U_t(e,FSe({subtitleColor:a}));null!=o&&U_t(e,BSe({subtitlePosition:o}));null!=s&&U_t(e,HSe({subtitleSize:parseInt(s,10)}));null!=l&&U_t(e,VSe({subtitleOffset:parseInt(l,10),localUpdateOnly:!0}))},"/player/playback/setStreams":function(e){var t=e.audioStreamID&&e.audioStreamID[0],n=e.subtitleStreamID&&e.subtitleStreamID[0];null!=t&&U_t(e,zSe({streamTypeString:"audio",streamID:parseInt(t,10)}));null!=n&&U_t(e,zSe({streamTypeString:"subtitles",streamID:parseInt(n,10)}))},"/player/navigation/moveLeft":function(){return Q_t("moveLeft")},"/player/navigation/moveRight":function(){return Q_t("moveRight")},"/player/navigation/moveUp":function(){return Q_t("moveUp")},"/player/navigation/moveDown":function(){return Q_t("moveDown")},"/player/navigation/select":function(){return Q_t("select")},"/player/navigation/back":function(){return Q_t("back")},"/player/navigation/home":function(){H_t().then(function(){__t(Es())})}};function R_t(e,t,n){return{commandID:e,body:cRt.writeXml({Response:{_code:t,_status:n}}),responseCode:t}}function __t(e){Object(J.c)("appStore").dispatch(e)}function U_t(e,t){var n=e.type&&e.type[0];n?(t.type===Sre&&V_t(),__t(j_t({type:n,action:t}))):D.a.warn("[Companion] Ignored playback action due to missing type")}function z_t(e){var t,n=e.machineIdentifier[0],r=Object(J.c)("appModel"),i=r.get("servers").get(n),a=r.get("transientServer");M_t=n;var o={originalMachineIdentifier:n,accessToken:e.token&&e.token[0],mediaProviders:1};i&&(o.serverClass=i.get("serverClass"),o.publicAddressMatches=i.get("publicAddressMatches"),o.version=i.get("version")),a&&a.get("originalMachineIdentifier")===n?(t=a).set(o):t=new x_t(Object.assign({machineIdentifier:"transient-"+n+"-"+PS()},o),{parent:r});var s,l=i&&i.get("isConnected")&&i.get("activeConnection");if(l)s={scheme:l.get("scheme"),address:l.get("address"),port:l.get("port"),uri:l.get("uri")};else{var c,u=e.port&&e.port[0],d=e.protocol&&e.protocol[0],p=e.address&&e.address[0],h=p;if(!d&&!p)return D.a.warn("[Companion] Unable to create a transient server without a protocol or address"),P.a.Deferred().reject().promise();"https"===d&&(p=xe(p),te.a.get("allowHttpsMediaServerConnections")||(d="http",h=p)),c=d+"://"+h,u&&(c+=":"+u),s={scheme:d,address:p,port:u,uri:c}}return t.addConnection(s),t.testOnlyUntestedConnections().then(function(){return M_t!==n?P.a.Deferred().reject().promise():(t.get("isTransient")&&__t(A_t(t)),t)})}function F_t(e,t){var n=Object(J.c)("appModel").get("user"),r=e.get("isCloud")&&!e.get("isTransient")?n.get("desktop").get("providers"):e.get("providers");e.set({isProvidersPending:!0,isProvidersPopulated:!1,providersError:null});var i=r.populate();return i.then(function(){return e.set({isProvidersPending:!1,isProvidersPopulated:!0}),i},function(){return e.set({isProvidersPending:!1,providersError:{}}),i})}function B_t(e,t,n){var r=(n.key&&n.key[0]).replace("/children",""),i=new Qs.a({key:r},{server:e,provider:t});return D_t=r,i.populate().then(function(){return D_t!==r?P.a.Deferred().reject().promise():{metadataItemModel:i}})}function H_t(){var e=P.a.Deferred();return Object(J.c)("appModel").get("user").get("isLocked")?e.reject():e.resolve(),e.promise()}function V_t(){Object(J.c)("appModel").get("user").get("isRemote")&&__t(ko())}function Q_t(e){z.a.trigger("companion:"+e),z.a.trigger("companion:key",e)}function W_t(e){var t,n=e.path,r=e.query,i=e.commandID,a=e.supportsTimeline,o=P.a.Deferred(),s=L_t[n];if((t=Object(J.c)("appModel").get("inputActivity"))&&t.notice(),!1!==a&&Object(J.c)("localCompanionTimelineManager").start(),s){(s(r)||P.a.Deferred().resolve().promise()).done(function(){Object(D.a)('[Companion] Successfully processed command from path "'+n+'"');var e=R_t(i,200,"OK");o.resolve({controllerResponse:e})}).fail(function(){D.a.warn('[Companion] Failed to process command from path "'+n+'"');var e=R_t(i,400,"Bad Request");o.resolve({controllerResponse:e})})}else{D.a.warn('[Companion] Unable to handle command from unknown path "'+n+'"');var l=R_t(i,400,"Bad Request");o.resolve({controllerResponse:l})}return o.promise()}function G_t(e){var t=function(){return e.get("deviceSettings")},n=function(){return e.get("user").get("experienceSettings")},r={autoPlay:n,autoLogin:t,companion:n,language:n,libraryRoutes:n,shouldSyncSettings:t,subtitleColor:n,subtitlePosition:n,subtitleSize:n,volume:t};return{find:function(e){return r[e]().get(e)},addCompanionChangeListener:function(t){e.on("change:user.change:experienceSettings.change:companion",t)}}}var Y_t={video:"playPause,stop,skipPrevious,skipNext,seekTo,repeat,shuffle,stepBack,stepForward,audioStream,subtitleStream,volume,subtitleColor,subtitlePosition,subtitleSize,subtitleOffset,autoPlay",music:"playPause,stop,skipPrevious,skipNext,seekTo,repeat,shuffle,volume",photo:"playPause,stop,skipPrevious,skipNext"},K_t=me.a.extend({mixins:[Se.a],browserConnectionChangeDelay:2e3,initialize:function(e){C.a.bindAll(this,"onBrowserConnectionChange"),this.appModel=e.appModel,this.servers=this.appModel.get("servers"),this.settings=this.appModel.get("settings")},start:function(){this.stop();var e=P()(window);e.on("online",this.onBrowserConnectionChange),e.on("offline",this.onBrowserConnectionChange),this.listenTo(z.a,{"test:servers":this.onTestAllServers,"test:server":this.onTestServer}),this.listenTo(this.servers,{add:this.onServerAdd,remove:this.onServerRemove,reset:this.onServersReset,"error:connection":this.onServerConnectionError,"change:connections.add":this.onServerConnectionAdd,"change:connections.remove":this.onServerConnectionRemove,"change:connections.reset":this.onServerConnectionsReset,"change:connections.change:isConnected":this.onServerConnectionConnectedChange,"change:connections.change:sources.change":this.onServerConnectionSourcesChange,"change:accessToken":this.onServerAccessTokenChange,"change:isConnected":this.onServerConnectedChange,"change:isUnavailable":this.onServerUnavailableChange,"change:publicAddressMatches":this.onServerPublicAddressMatchesChange}),this.listenTo(this.settings,"sync",this.onSettingsSave),this.servers.invoke("testOnlyUntestedConnections")},stop:function(){this.stopListening();var e=P()(window);e.off("online",this.onBrowserConnectionChange),e.off("offline",this.onBrowserConnectionChange)},retryServerConnections:function(e){e.testAllConnections()},startFailedServerRetries:function(e){},stopFailedServerRetries:function(e){},_removeConnection:function(e){var t=e.server,n=Kr.getActiveServers();if(Object(D.a)("[Connections] Removed connection %s from %s",e.id,t.get("debugName")),t.abortConnectionTest(e),n){var r=n.get(t.id),i=r&&r.get("connections");i&&i.get(e.id)&&(i.remove(e.id),i.length||n.remove(t.id),Kr.debouncedSave())}},onBrowserConnectionChange:function(e){var t=this;Object(D.a)("[Connections] Browser online status changed to",window.navigator.onLine),clearTimeout(this.browserConnectionChangeTimeout),this.browserConnectionChangeTimeout=setTimeout(function(){t.servers.invoke("testAllConnections")},this.browserConnectionChangeDelay)},onTestAllServers:function(){this.servers.invoke("testAllConnections")},onTestServer:function(e){e.testAllConnections()},onServerAdd:function(e){e.testOnlyUntestedConnections()},onServerRemove:function(e){var t,n=Kr.getActiveServers();if(e.abortAllConnectionTests(),this.stopFailedServerRetries(e),n)if(e.get("isMerged")){var r=e.previous("machineIdentifier");r&&(t=n.get(r))&&(t.set("machineIdentifier",e.id),Kr.debouncedSave())}else(t=n.get(e.id))&&(n.remove(e.id),Kr.debouncedSave())},onServersReset:function(e,t){var n=this,r=t.previousModels;C.a.each(r,function(t){e.contains(t)||(t.abortAllConnectionTests(),n.stopFailedServerRetries(t))})},onServerConnectionError:function(e){(D.a.warn("[Connections] Possible connection error for %s, retrying connection tests",e.get("debugName")),e.get("isCloud"))?this.appModel.get("user").signInUnsupervised():e.testAllConnections()},onServerConnectionAdd:function(e){var t=e.server;Object(D.a)("[Connections] Added connection %s for %s",e.id,t.get("debugName")),e.get("relay")?t.get("connections").hasFailedEveryDirectConnection()&&t.testAllConnections():t.testConnection(e)},onServerConnectionRemove:function(e){this._removeConnection(e)},onServerConnectionsReset:function(e,t){var n=this,r=t.previousModels;C.a.each(r,function(t){e.contains(t)||n._removeConnection(t)})},onServerConnectionConnectedChange:function(e,t){var n=e.server,r=e.get("isBundled"),i=e.get("isFallback"),a=t&&!r&&!i,o=Kr.getActiveServers();if(n.id&&!n.get("isCloud")&&a&&o){var s=o.get(n.id);if(s)s.copyFromModel(n);else{var l=C.a.omit(n.toJSON(),"connections");s=o.add(l,{merge:!0,parse:!0})}s.get("connections").add(e.toJSON(),{merge:!0,parse:!0}),Kr.debouncedSave()}},onServerConnectionSourcesChange:function(e,t){var n=e.server,r=Kr.getActiveServers(),i=r&&r.get(n.id);if(i){var a=i.get("connections").get(e.id);if(a)a.get("sources").set(t.toJSON()),Kr.debouncedSave()}},onServerAccessTokenChange:function(e,t){if(!e.get("isCloud")){Object(D.a)("[Connections] Access token for %s changed to %s",e.get("debugName"),t);var n=Kr.getActiveServers(),r=n&&n.get(e.id);r&&(r.set("accessToken",t),Kr.debouncedSave()),e.get("isUnauthorized")&&e.set("connectionTestResult",Ac.connectionTestResults.PENDING),e.testAllConnections()}},onServerConnectedChange:function(e,t){t&&this.stopFailedServerRetries(e)},onServerUnavailableChange:function(e,t){t&&this.startFailedServerRetries(e)},onServerPublicAddressMatchesChange:function(e,t){void 0!==t&&e.testAllConnections()},onSettingsSave:function(e){e.changed.hasOwnProperty("preferInsecureConnections")&&this.servers.invoke("testAllConnections")}}),q_t=K_t.extend({initialize:function(e){K_t.prototype.initialize.apply(this,arguments),this._serverRetryManager=new ye({callback:this.retryServerConnections.bind(this),logFormat:"[Connections] Retrying connection tests for %s in %s seconds"})},stop:function(){K_t.prototype.stop.apply(this,arguments),this._serverRetryManager.stopAll()},startFailedServerRetries:function(e){this._serverRetryManager.start(e)},stopFailedServerRetries:function(e){this._serverRetryManager.stop(e)}}),Z_t=Object.keys(_r.prototype.syncedAttrs),X_t=me.a.extend({mixins:[Se.a],initialize:function(e){this.appModel=e.appModel,this.servers=this.appModel.get("servers")},start:function(){var e=this;this.stop(),this.listenTo(this.servers,{"change:promiseState":this.onServerPromiseStateChange,remove:this.onServerRemove,"update reset":this.onServersUpdateReset,"change:resources.add":this.onResourceAdd,"change:resources.remove":this.onResourceRemove,"change:resources.update":this.onResourcesUpdate,"change:resources.reset":this.onResourcesReset,"change:resources.change:presence":this.onResourcesPresenceChange,"change:resources.change:connections.update":this.onResourceConnectionsUpdate}),Z_t.forEach(function(t){e.listenTo(e.servers,"change:"+t,e.onStoredServerAttributeChange.bind(e,t))}),this.listenTo(z.a,"discover:servers",this.onDiscoverServers),this._setAuthorized(),this._checkFoundAllServers()},stop:function(){this.stopListening()},_checkFoundAllServers:function(){this.servers.shouldWaitForInitialServers()?this._waitForServers():this.servers.shouldWaitForResources()?this._waitForServers():this.servers.shouldWaitForPendingServers()?this._waitForServers():this._foundAllServers()},_waitForServers:function(){var e=this;this.servers.waitForServers(),Object(No.a)(function(){e.appModel.set("isWaitingForServers",!0)})},_foundAllServers:function(){var e=this;this.servers.foundAllServers(),Object(No.a)(function(){e.appModel.set("isWaitingForServers",!1)})},_fetchResources:function(e){var t=this;if(e.get("isRejected"))return P.a.Deferred().reject().promise();if(!e.get("isResolved"))return Object(D.a)("[Servers] Finding resources through unresolved cloud server %o, resolving",e.get("debugName")),e.populate().then(function(){return t._fetchResources(e)});Object(D.a)("[Servers] Finding resources through %s",e.get("debugName")),this._waitForServers(),e.set("isResourcesPending",!0);var n=e.get("resources");return n.fetch().done(function(){Object(D.a)("[Servers] Found %s resources through %s",n.length,e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!1,isDownForMaintenance:!1})}).fail(function(t,n){D.a.warn("[Servers] Failed to request resources through %s",e.get("debugName")),e.set({isResourcesPending:!1,hasFailedResources:!0,isDownForMaintenance:503===n.status})}).always(function(){t._checkFoundAllServers()})},_convertResourceToServer:function(e){return Object(D.a)("[Servers] %s was found through %s",e.get("name"),e.server.get("debugName")),OIe(e)},_removeResource:function(e){Object(D.a)("[Servers] %s was removed as a resource from %s",e.get("name"),e.server.id);var t=this.servers.get(e.id);t&&t.removeSource(e.server.id)},_pruneStaleSources:function(e){for(var t=e.get("resources"),n=this.servers.length-1;n>=0;){var r=this.servers.at(n),i=t.get(r.id);if(i)for(var a=r.get("connections"),o=a.length-1;o>=0;){var s=a.at(o);if(s.get("sources").get(e.id))i.get("connections").get(s.id)||s.get("sources").remove(e.id);o--}else r.removeSource(e.id);n--}},_setAuthorized:function(){var e=!!this.servers.findWhere({isConnected:!0,isCloud:!1}),t=!!this.servers.findWhere({isResolved:!0,isCloud:!0});this.appModel.set("authorized",e||t)},onServerPromiseStateChange:function(e,t){t===Ac.promiseStates.RESOLVED&&(e.get("resources")&&this._fetchResources(e));this._setAuthorized(),this._checkFoundAllServers()},onStoredServerAttributeChange:function(e,t,n){var r=Kr.getActiveServers(),i=r&&r.get(t.id);i&&null!=n&&i.get(e)!==n&&(i.set(e,n),Kr.debouncedSave())},onServerRemove:function(e){D.a.warn("[Servers] %s was removed",e.get("debugName")),e.cache.remove(e),z.a.trigger("clearWhere:cache",{server:e})},onServersUpdateReset:function(){this._setAuthorized(),this._checkFoundAllServers()},onDiscoverServers:function(){var e=this.appModel.get("cloudServer");this._fetchResources(e)},onResourceAdd:function(e){if(C.a.contains(e.get("provides"),"server")){var t=this._convertResourceToServer(e);this.servers.add(t)}},onResourceRemove:function(e){this._removeResource(e)},onResourcesUpdate:function(e){this._pruneStaleSources(e.server),this._checkFoundAllServers()},onResourcesReset:function(e,t){var n=this,r=t.previousModels;C.a.each(r,function(t){e.contains(t)||n._removeResource(t)}),this._checkFoundAllServers()},onResourcesPresenceChange:function(e){var t=this.servers.get(e.id);t&&t.set("presence",e.get("presence"))},onResourceConnectionsUpdate:function(e){var t=e.parent,n=this.servers.get(t.id);n&&(xIe(n,t),this._pruneStaleSources(e.server),this._checkFoundAllServers())}}),J_t=X_t.extend({start:function(){var e;X_t.prototype.start.call(this),this.listenTo(this.servers,((e={"change:isConnected":this.onConnectedChange})["change:desktop.change:isSettingsPopulated"]=this.onSettingsPopulatedChange,e))},onConnectedChange:function(e,t){if(t&&e.get("isFullOwnedServer")){var n=Object(J.c)("appStore"),r=e.entityID();n.dispatch(OA({serverEntityID:r})),n.dispatch(EA({serverEntityID:e.entityID()}))}},onSettingsPopulatedChange:function(e,t){if(t){var n=e.get("settings"),r=n.get("AcceptedEULA");r&&!1===r.get("value")&&!window.location.hash.includes("/setup")&&z.a.trigger("navigate","setupBasic",{serverID:n.server.id})}}}),$_t=n(1160),eUt=n.n($_t),tUt=Wh.extend({className:"alert-bar server-update-alert-bar notify",template:eUt.a,events:C.a.extend({"click .download-link":"onDownloadClick","click .install-link":"onInstallClick","click .skip-version-link":"onSkipThisVersionClick"},Wh.prototype.events),initialize:function(){this.server=this.model.server},serializeData:function(){var e=Object(J.c)("appModel").get("user").server;return{state:this.model.get("state"),downloadURL:this.model.get("downloadURL")||e.get("appsUrl"),version:bc(this.model.get("version")),serverUpdateAvailableMessage:Object(Xn.default)("A Plex Media Server update is available for the server {serverName}!",{serverName:this.model.server.get("friendlyName")})}},onDownloadClick:function(e){e.preventDefault(),bt.execute("checkForServerUpdates",{server:this.server,download:!0,initialState:"downloading"}),Pu("serverSettings",{serverID:this.server.id,group:"general"})},onInstallClick:function(e){e.preventDefault(),this.model.set("shouldInstall",!0),Pu("serverSettings",{serverID:this.server.id,group:"general"})},onSkipThisVersionClick:function(e){Wh.prototype.onCloseClick.apply(this,arguments);var t=bc(this.model.get("version"))||nUt;Object(J.c)("appModel").get("settings").save("serverUpdateDismissedVersion",t)}}),nUt="unknown",rUt=me.a.extend({mixins:[Se.a],bundleUpdatesDelay:36e5,initialize:function(e){this.appModel=e.appModel},start:function(){this.stop(),this.listenTo(this.appModel,{"change:primaryServer":this.onPrimaryServerChange,"change:primaryServer.change:isConnected":this.onPrimaryServerConnectedChange})},stop:function(){this.stopListening()},isLastHistoryEntry:function(e){var t=this.appModel.get("history"),n=C.a.last(t);return!(!n||!n.indexOf("fragment"))},isDismissedUpdate:function(e){return(bc(e.get("version"))||nUt)===Object(J.c)("appModel").get("settings").get("serverUpdateDismissedVersion")},checkForServerUpdates:function(e){if(e.get("isConnected")&&e.get("updater")){var t=e.get("desktop").get("update");e.supports("updater")?t.fetch().then(function(){bt.execute("checkForServerUpdates",{server:e,download:!1})}):this.isDismissedUpdate(t)||z.a.trigger("show:bar","alertbar",new tUt({model:t}))}},onPrimaryServerChange:function(e,t){var n=e.previous("primaryServer");n&&this.stopListening(n.get("desktop").get("update")),t&&t.get("isFullOwnedServer")?(this.listenTo(t.get("desktop").get("update"),"change:state",this.onServerUpdateStateChange),this.checkForServerUpdates(t)):clearTimeout(this.bundleUpdatesTimeout)},onPrimaryServerConnectedChange:function(e,t){this.checkForServerUpdates(e)},onServerUpdateStateChange:function(e,t){this.isDismissedUpdate(e)||this.isLastHistoryEntry("/settings/server")||/^(available|downloaded|notify)$/.test(t)&&z.a.trigger("show:bar","alertbar",new tUt({model:e}))}});function iUt(e,t){var n=y_t(e);return n?(n.transcoderVideo=e.get("transcoderVideo")||!1,n.transcoderVideoRemuxOnly=e.get("transcoderVideoRemuxOnly")||!1,n.transcoderAudio=e.get("transcoderAudio")||!1,n.version=e.get("shortVersion"),n.myPlexSubscription=e.get("myPlexSubscription"),n.isVerifiedHostname="https"===n.protocol&&!_e.isValidAddress(n.address),function(e,t){void 0===t&&(t={});var n=e.get("accessToken");return!e.supports("transientToken")||e.get("isCloud")||/^transient-/.test(n)?P.a.Deferred().resolve(n).promise():P.a.ajax(e.getXHROptions("/security/token",{data:{type:t.type||"delegation",scope:t.scope||"all"}})).promise().then(function(e){return Object(Mae.a)(e).token||P.a.Deferred().reject().promise()})}(e).then(function(e){return n.accessToken=e,n})):P.a.Deferred().reject().promise()}var aUt=3,oUt=2e4,sUt=200,lUt=200,cUt="remoteCastPlayerManager";function uUt(e,t){var n,r,i,a,o,s=t.dispatch,l=0,c=0,u=!1,d={},p={};function h(e,t,r){if(void 0===t&&(t={}),void 0===r&&(r={}),!n)return P.a.Deferred().reject().promise();var i=F.join([n.baseURL,e],Object.assign({},t,{commandID:l})),a=n.server.getXHROptions(i,Object.assign({},r,{scope:cUt,headers:{"X-Plex-Target-Client-Identifier":n.get("machineIdentifier")}}));return P.a.ajax(a)}function f(e){var t=e.type,n=e.state,r=e.providerIdentifier,i=e.machineIdentifier,a=e.containerKey,o=e.key,l=e.playQueueItemID||e.playQueueItemId,c=sne(t),u=Object(zr.a)(e.continuing);if(n===f_t&&!u)return d[t]=null,p[t]=null,void s(Gae({playQueueType:c}));var h=Object(Fr.a)(e.playQueueVersion),f=Object(Fr.a)(e.time),g=Object(Fr.a)(e.duration),v=Object(Fr.a)(e.mediaIndex),m=Object(Fr.a)(e.partIndex),y=e.audioStreamID?Object(Fr.a)(e.audioStreamID):null,b=e.subtitleStreamID?Object(Fr.a)(e.subtitleStreamID):null,S=Object(Fr.a)(e.volume),I=Object(Fr.a)(e.repeat),C=(e.controllable||"").split(","),M={positionSeconds:Math.floor(f/1e3),durationSeconds:Math.floor(g/1e3),mediaIndex:v,partIndex:m,isPaused:n===g_t,isBuffering:n===v_t,hasError:n===m_t,controllable:C.reduce(function(e,t){return e[t]=!0,e},{})},D=d[t],w=p[t],P=l!==D||h!==w;d[t]=l,p[t]=h,s(Rae({playQueueType:c,options:{providerIdentifier:r,machineIdentifier:i,containerKey:a,key:o,playQueueItemID:l,shouldRefreshPlayQueue:P,initialState:M}})),s(_ae({playQueueType:c,playerState:M})),function(e){var t={};null!=e.autoPlay&&(t.autoPlay="1"===e.autoPlay),null!=e.subtitleColor&&(t.subtitleColor=e.subtitleColor),null!=e.subtitlePosition&&(t.subtitlePosition=e.subtitlePosition),null!=e.subtitleSize&&(t.subtitleSize=Object(Fr.a)(e.subtitleSize,10)),s(Bae(t))}(e),s(Uae({playQueueType:c,playQueueVersion:h,repeatAll:I===jte||I===Ote,repeatOne:I===Ote})),s(Fae({playQueueType:c,key:o,mediaIndex:v,partIndex:m,audioStreamID:y,subtitleStreamID:b})),null!=e.volume&&s(Hae(S))}function g(){r=null,null!=i&&(y(i),i=null)}function v(){a=null,null!=o&&(b(o),o=null)}function m(e,t){return n?(l++,h(e,t)):(D.a.warn("[Companion] Command for "+e+" ignored; no current player"),P.a.Deferred().reject().promise())}function y(e){r?(clearTimeout(r),i=e):m("/player/playback/seekTo",e),r=setTimeout(g,sUt)}function b(e){a?(clearTimeout(a),o=e):m("/player/playback/setParameters",e),a=setTimeout(v,lUt)}return{requestSession:function(t){(n=zb(e,{machineIdentifier:t}))?(s(Lae(t)),l=0,c=0,function e(t){void 0===t&&(t={}),n&&h("/player/timeline/poll",t,{timeout:oUt}).done(function(r,i,a){c=0;var o=Object(Mae.a)(r);if(Object(zr.a)(o.disconnected)&&t.wait)s(Yae());else{var d=n.get("machineIdentifier"),p=a.getResponseHeader("X-Plex-Client-Identifier"),h=Object(Fr.a)(o.commandID),g=d===p||n.baseURL;if(!u&&g&&h>=l){var v=Object(sSe.a)(o.Timeline),m=C.a.findWhere(v,{type:"video"}),y=C.a.findWhere(v,{type:"music"}),b=C.a.findWhere(v,{type:"photo"});!m||y&&y.state&&y.state!==f_t?y&&f(y):f(m),b&&f(b),l=h}e({wait:1})}}).fail(function(n,r){n&&n.aborting||("error"===r?(c++,t.wait&&c<=aUt?(D.a.warn("[Companion] Poll request failed; retrying..."),e({wait:1})):(D.a.warn("[Companion] Poll request failed 3 times in a row; giving up"),s(Yae()))):e({wait:1}))})}()):D.a.warn('[Companion] Request session ignored; no player with identifier "'+t+'"')},endSession:function(){n?(r&&(clearTimeout(r),r=null),a&&(clearTimeout(a),a=null),Y.a.abortAll(cUt),h("/player/timeline/unsubscribe"),n=null,i=null,o=null,d={},p={}):D.a.warn("[Companion] End session ignored; no current player")},startPlayback:function(e){if(n){var t=e.get("playQueue"),r=t.get("type"),i=t.get("playQueueItems").get(t.get("playQueueSelectedItemID")).get("metadataItem"),a=t.server,o=t.provider,l=1e3*e.get("positionSeconds")||Math.floor(_ee(e,i));u=!0,iUt(a).done(function(e){var n={type:one(t.get("type")),providerIdentifier:o.get("identifier"),containerKey:F.join([C.a.result(t,"url")],{own:1}),key:i.get("key"),offset:l,machineIdentifier:e.machineIdentifier,protocol:e.protocol,address:e.address,port:e.port,token:e.accessToken};Object(D.a)("[Companion] Sending play media request"),m("/player/playback/playMedia",n).done(function(){u=!1,Object(D.a)("[Companion] Play media success"),s(_ae({playQueueType:r,playerState:{isMediaLoading:!1}}))}).fail(function(e){u=!1,D.a.warn('[Companion] Failed to play media with error "'+e.status+'"'),s(Vae({playQueueType:r}))})}).fail(function(){u=!1,s(Vae({playQueueType:r,errorMessage:Object(Xn.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:a.get("friendlyName")})}))})}else D.a.warn("[Companion] Start playback ignored; no current player")},mirrorDetails:function(e){if(n){var t=n.get("protocolCapabilities");if(t&&-1!==t.indexOf("mirror")){var r=e.server,i=e.provider;iUt(r).done(function(t){h("/player/mirror/details",{key:e.get("key"),providerIdentifier:i.get("identifier"),machineIdentifier:t.machineIdentifier,protocol:t.protocol,address:t.address,port:t.port,token:t.accessToken})})}else D.a.warn("[Companion] Mirror details ignored; player does not advertise support for the `mirror` capability")}else D.a.warn("[Companion] Mirror details ignored; no current player")},sendCommand:m,seek:y,changeVolume:b}}var dUt=/("?(auth_token|accessToken|X-Plex-Token|authToken|token)"?[:=].*?)("?\w+"?)/g,pUt=/("?(email)"?[:=]([\s]+)?)("(.*)")/g,hUt=/("?(address|host|uri)"?[:=].*?)(".*")/g;function fUt(e){if(e)return e=(e=(e=e.replace(dUt,'$1"TOKEN"')).replace(pUt,'$1"EMAIL"')).replace(hUt,'$1"IP ADDRESS"')}var gUt=y.c.Model.extend({initialize:function(e,t){this.set("time",new Date)}}),vUt=new(y.c.Model.extend({initialize:function(e,t){this.set("host",window.location.host),this.set("userAgent",window.navigator.userAgent),this.set("browser",of.a)},toJSON:function(){var e=this.parent,t=e.get("primaryServer"),n=e.get("user");return this.set("version","4.8.3"),t&&(t.get("activeConnection")&&this.set("primaryServerUrl",t.url()),this.set("primaryServerAuthToken",!!t.get("accessToken")),this.set("primaryServerVersion",t.get("versionFull"))),this.set("username",n.get("username")),this.set("cloudUrl",n.server.get("connections")),y.c.Model.prototype.toJSON.apply(this,arguments)}})),mUt=/(password=)([^&]+)/,yUt=function(e){return(e=e.replace(dUt,"$1TOKEN")).replace(mUt,"$1PASSWORD")},bUt=y.c.Collection.extend({model:gUt,initialize:function(e,t){C.a.bindAll(this,"onAjaxComplete","onAppModelRegistered"),this.parent=t.parent,vUt.parent=t.parent,Object(J.d)("appModel").done(this.onAppModelRegistered)},reconfigure:function(){Object(J.c)("appModel").get("deviceSettings").get("debugLevel")?this.start():this.stop()},start:function(){this.enabled||(this.enabled=!0,this.reset(),this.listenTo(z.a,"log:message",this.onLogMessage),y.c.history.on("route",this.onRoute,this),P()(document).on("ajaxComplete",this.onAjaxComplete))},stop:function(){this.enabled&&(this.enabled=!1,this.reset(),this.stopListening(z.a),y.c.history.off("route",this.onRoute,this),P()(document).off("ajaxComplete",this.onAjaxComplete))},destroy:function(){this.stop(),this.stopListening()},add:function(){this.length>200&&this.shift(),y.c.Collection.prototype.add.apply(this,arguments)},toJSON:function(){var e=y.c.Collection.prototype.toJSON.apply(this,arguments);return e.unshift(C.a.extend({type:"info"},vUt.toJSON())),e},toJSONString:function(){return JSON.stringify(this.toJSON(),null,2)},onAppModelRegistered:function(e){var t=e.get("deviceSettings");this.listenTo(t,"change:debugLevel",this.reconfigure),this.reconfigure()},onLogMessage:function(e){this.add(e)},onRoute:function(e,t,n){var r={type:"navigation",route:t,args:n,fragment:window.location.hash};this.add(r)},onAjaxComplete:function(e,t,n){var r,i=Object(J.c)("appModel").get("deviceSettings").get("debugLevel"),a={type:"ajax",url:yUt(n.url),status:t.status};C.a.isEmpty(n.headers)||(a.headers=((r=n.headers)&&r.hasOwnProperty("X-Plex-Token")&&(r["X-Plex-Token"]="TOKEN"),r&&r.hasOwnProperty("Authorization")&&(r.Authorization="BASIC AUTHORIZATION"),r)),C.a.isEmpty(n.data)||(a.params=yUt(n.data)),200===t.status?2===i?a.response=fUt(t.responseText):a.responseLength=t.responseText?t.responseText.length:0:(a.statusText=t.statusText,a.response=fUt(t.responseText)),this.add(a)}}),SUt=Object(Iy.createSelector)(Py,function(e){return e.remoteQuality}),IUt=Object(Iy.createSelector)(T7,function(e){return e.restorePlayQueue}),CUt=Object(Iy.createSelector)(Py,function(e){return{color:e.subtitleColor,position:e.subtitlePosition,size:e.subtitleSize}}),MUt={CREATED:0,PROGRESS:1,MATCHING:2,DOWNLOADING_METADATA:3,LOADING_METADATA:4,PROCESSED:5,DELETED:9},DUt=C.a.reduce(Bl.a,function(e,t){return e[t]="Metadata",e},{});var wUt,PUt=function e(t){if(!t||!t._children)return t;var n=C.a.clone(t),r=n._children;return Array.isArray(r)&&(r.forEach(function(t){var r=t._elementType;if(t._elementType=null,t.elementName=r,r){var i=DUt[r]||r,a=n[i],o=e(t);a?Array.isArray(a)?a.push(o):n[i]=[a,o]:n[i]=o}}),n._children=null),n},TUt={started:oc,updated:sc,ended:lc},EUt=[L0,R0,_0,U0,z0,B0,H0,V0,Q0,W0,G0,Y0,K0,q0,Z0,X0,J0,$0,e1,t1];function xUt(e){var t=J.c("appStore");t.dispatch(MMe({serverEntityID:e,playerType:Une})),Cn.i(window.location.hash,Cn.c)&&t.dispatch(iu({serverEntityID:e}))}var OUt=i1.extend(((wUt={initialize:function(e){i1.prototype.initialize.apply(this,arguments),this.throttledRepopulates={}},repopulateNow:function(e,t){this.throttledRepopulates[e]={timestamp:Date.now()},t()},repopulateWithThrottle:function(e,t,n){var r=this,i=this.throttledRepopulates[e];if(i)if(i.hasTimeout);else{var a=Date.now()-i.timestamp;a<n?(setTimeout(function(){r.repopulateNow(e,t)},n-a),this.throttledRepopulates[e]={hasTimeout:!0}):this.repopulateNow(e,t)}else this.repopulateNow(e,t)},getMessageTypes:function(){return EUt}})[H0]=function(e){e.key=e.id,e.server=this.server,this.server.trigger("socket:setting",e),(0,J.c("appStore").dispatch)(xA({serverEntityID:this.server.entityID(),setting:e}))},wUt[Z0]=function(e){if(!Cn.i(e.identifier,Cn.c)){var t=e.state,n=e.sectionID,r=e.rootItemID,i=e.parentItemID,a=e.itemID,o=e.metadataState,s=e.mediaState,l=e.type,c=J.c("appStore").dispatch,u=this.server.entityID(),d="/library/metadata/"+a,p=nr.r(l),h=p&&p.typeString===nr.a,f=Object(Tr.a)(Er.h,d,u);c(Tde({serverEntityID:u,metadataItemEntityID:f,metadataState:o,mediaState:s})),t===MUt.PROCESSED&&(c(Pae({serverEntityID:u,metadataItemEntityID:f})),h===nr.a&&c(qHe({serverEntityID:u,albumMetadataItemEntityID:f}))),t===MUt.DELETED&&c(Tae({serverEntityID:u,metadataItemEntityID:f})),t!==MUt.CREATED&&t!==MUt.DELETED||(n>0&&this.repopulateWithThrottle("section-"+n,function(){c(iu({serverEntityID:u,containerKeyPattern:new RegExp("^"+Vf("/library/sections/"+n)+"\\b")}))},5e3),r>0&&this.repopulateWithThrottle("metadata-"+r,function(){var e="/library/metadata/"+r,t=Object(Tr.a)(Er.h,e,u);c(iu({serverEntityID:u,metadataItemEntityID:t,rootMetadataKey:e}))},5e3),i>0&&this.repopulateWithThrottle("metadata-"+i,function(){var e="/library/metadata/"+i,t=Object(Tr.a)(Er.h,e,u);c(iu({serverEntityID:u,metadataItemEntityID:t,parentMetadataKey:e}))},5e3),h===nr.j&&c(iu({serverEntityID:u,containerKeyPattern:new RegExp("^/playlists")}))),e.server=this.server,this.server.trigger("socket:timeline",e),z.a.trigger("timeline",e)}},wUt[K0]=function(e){if(this.server.trigger("socket:status",e),"LIBRARY_UPDATE"===e.notificationName){var t=J.c("appStore").dispatch,n=this.server.entityID();n&&(t(nc({serverEntityID:n})),t(gc({serverEntityID:n})),t(iu({serverEntityID:n})))}},wUt[V0]=function(e){this.server.trigger("socket:status",e)},wUt[B0]=function(e){var t=this;if(e.sessionKey&&!this.server.get("shared")){var n=this.server.get("desktop").get("sessions"),r=n.get(e.sessionKey);if(!r||r.get("metadataItem")&&r.get("metadataItem").get("key")!==e.key){if(n.isPopulating())return;n.fetch().done(function(){if(r=n.get(e.sessionKey)){var i=r.get("Player").title,a=r.get("User").title,o=r.get("metadataItem"),s=o.get("grandparentTitle"),l=o.get("title");s&&(l=s+" - "+l),t.server.trigger("socket:playing",C.a.extend(e,{username:a||Object(Xn.default)("Unknown"),title:l,player:i}))}})}else if(e.state===Sk.states.STOPPED){r.trigger("destroy",r,r.collection),r.cache.remove(r);var i=J.c("appStore").dispatch,a=this.server.entityID();a&&i(iu({serverEntityID:a}))}else{var o=r.get("Player");o&&r.set("Player",Object.assign({},o,{state:e.state})),r.get("metadataItem").set("viewOffset",e.viewOffset)}}},wUt[q0]=function(e){var t=new qF({key:e.key},{server:this.server,syncItemId:e.syncItemId,onlyIfCached:!0});C.a.isEmpty(t)||t.get("Media").forEach(function(n){n.Part.forEach(function(n){n.transcodeState=e.syncFileState,n.transcodeStateContext=e.syncFileStateContext,n.syncState=e.syncState,n.syncStateContext=e.syncStateContext;var r=$s.getSyncStateFromPart(n);$s.waitingRegex.test(r)&&(n.key="placeholder"),t.trigger("change:Media",t,t.get("Media"))})})},wUt[_0]=function(e){var t={server:this.server,onlyIfCached:!0},n=new sd({id:e.generatorID},t);C.a.isEmpty(n)||n.fetch()},wUt[t1]=function(e){var t={server:this.server,onlyIfCached:!0},n=new sd({id:e.generatorID},t);if(!C.a.isEmpty(n)){var r=n.get("children").getCollection().get(e.metadataItemID);r&&r.set({processingState:e.state,processingStateContext:e.stateContext})}},wUt[U0]=function(e){var t=new _v([],{server:this.server,allowInCache:!0,onlyIfCached:!0});if(!C.a.isEmpty(t)){var n=t.first();n&&n.fetch()}},wUt[J0]=function(e){"static"===e.context?this.server.get("desktop").get("backgroundTranscodeJobs").fetch():this.server.get("desktop").get("sessions").fetch()},wUt[$0]=function(e){if("static"===e.context){var t=this.server.get("desktop").get("backgroundTranscodeJobs"),n=t.get(e.key);n?n.set(n.parse(e)):t.fetch()}},wUt[X0]=function(e){this["transcodeSession.start"].apply(this,arguments)},wUt[e1]=function(e){var t=this.server.get("desktop").get("update"),n=C.a.pick(e,t.whitelistedAttrs);C.a.defaults(n,C.a.result(t,"defaults")),"downloading"===t.get("state")&&"available"===n.state&&(n.state="downloading"),t.set(n)},wUt[Y0]=function(e){this.server.get("desktop").get("cloudAccount").fetch()},wUt[L0]=function(e){if(this.server.set("myPlexSubscription",e.hasPlexPass),this.server.supports("reachability")){var t=C.a.extend(this.server.getXHROptions("/myplex/refreshReachability"),{type:"PUT"});P.a.ajax(t)}J.c("appModel").get("user").get("isSignedIn")&&z.a.trigger("discover:servers")},wUt[R0]=function(e){var t=PUt(e),n=J.c("appStore"),r=this.server.entityID(),i=t.Activity||t;if(i.Context=i.Context||{},i.Response=i.Response||{},r){var a=TUt[t.event];a&&n.dispatch(a({serverEntityID:r,activity:i}))}},wUt[z0]=function(e){var t=J.c("appStore"),n=this.server.entityID();n&&"appeared"===e.event&&t.dispatch(UA({serverEntityID:n,device:e.Device}))},wUt[W0]=function(){xUt(this.server.entityID())},wUt[G0]=function(){xUt(this.server.entityID())},wUt[Q0]=function(){J.c("appStore").dispatch(hc({serverEntityID:this.server.entityID()}))},wUt));var jUt=Ce.a.extend({name:"BaseAppModel",isStateTreeRoot:!0,constructor:function(){this._pendingEntities=[],this.listenTo(z.a,"change:entity",this.onEntityChange),Ce.a.prototype.constructor.apply(this,arguments)},initialize:function(){this._pendingEntities.forEach(this._addEntity.bind(this))},_addEntity:function(e){var t=e.type,n=e.id,r=e.model,i=this.get("entities");Object(M.a)(i,"Use `createEntitiesModelClass` to create an `entities` session relation in a platform's app model"),i.get(t).add({id:n,model:r},{merge:!0})},onEntityChange:function(e){this.has("entities")?this._addEntity(e):this._pendingEntities.push(e)}});function AUt(e){return e.length?C.a.map(e,function(e){return e.get("debugName")}).join(", "):"(none)"}var NUt=Ue.a.extend({mixins:[Ot],name:"ServerCollection",model:Ac,initialize:function(){this._resetPopulate()},comparator:function(e){var t=e.get("isFullOwnedServer")?"0":"1";return t+=e.get("isShared")?"1":"0",t+=(e.get("friendlyName")||"").toLowerCase()},shouldWaitForInitialServers:function(){var e=this.filter(function(e){return(!e.id||!!e.get("resources"))&&e.isPopulating()});return!!e.length&&(Object(D.a)("[Servers] Waiting for initial servers =",AUt(e)),!0)},shouldWaitForResources:function(){var e=this.reduce(function(e,t){var n=t.get("isResolved"),r=t.get("resources"),i=r&&r.isPopulating();return n&&i&&e.push(t),e},[]);return!!e.length&&(Object(D.a)("[Servers] Waiting for additional resources from",AUt(e)),!0)},shouldWaitForPendingServers:function(){if(this.findWhere({isConnected:!0}))return!1;var e=this.filter(function(e){return e.isPopulating()});return!!e.length&&(Object(D.a)("[Servers] Waiting for pending servers =",AUt(e)),!0)},waitForServers:function(){this._resetPopulate()},foundAllServers:function(){var e=this.where({isConnected:!0}),t=AUt(e);Object(D.a)("[Servers] Found all servers =",t),e.length?this._resolvePopulate():this._rejectPopulate()},populateAnyServer:function(e){var t=this;void 0===e&&(e=this.models);var n=P.a.Deferred(),r=e.slice(0),i=C.a.find(r,function(e){return e.get("isCloud")?e.get("isResolved"):e.get("isConnected")});if(i)return Object(D.a)("[Servers] Populate any server chose %s where servers = %s",i.get("debugName"),AUt(r)),n.resolve(i).promise();if(this.hasOnlyRejectedServers(r))return n.reject().promise();function a(e,t){C.a.contains(r,e)&&t&&n.resolve(e)}function o(e,t){C.a.contains(r,e)&&t&&this.hasOnlyRejectedServers(r)&&n.reject()}return this.on({remove:function(e){var t=r.indexOf(e);t>-1&&(r.splice(t,1),this.hasOnlyRejectedServers(r)&&n.reject())},"change:isResolved":a,"change:isRejected":o},this),n.always(function(){t.off("change:isResolved",a,t),t.off("change:isRejected",o,t)}),n.promise()},populateServer:function(e){return this.findServer(e,!0).then(function(e){return e.get("isConnected")&&!e.get("isCloud")?P.a.Deferred().resolve(e):e.populate()})},findServer:function(e,t){var n=this,r=C.a.isString(e),i=r?{machineIdentifier:e}:e,a=P.a.Deferred();if(r){var o=this.get(i.machineIdentifier);if(o&&o.get("isResolved"))return setTimeout(a.resolve.bind(a,o),0),a.promise()}var s,l=C.a.has(i,"machineIdentifier"),c="add "+C.a.map(C.a.keys(i),function(e){return"change:"+e}).join(" ");function u(){var e=this,n=this.filterServers(i,t);n?(s=n,n.done(function(e){s===n&&a.resolve(e)}),n.fail(function(){s===n&&(l||!e.isPopulating()?a.reject():e.populate().always(u.bind(e)))})):this.isPopulating()||a.reject()}return u.call(this),this.on(c,u,this),this.populate().always(function(){s||a.reject()}),a.always(function(){n.off(c,u,n)}),a.promise()},filterServers:function(e,t){var n=this.where(e);if(n.length)return t?this.populateAnyServer(n):P.a.Deferred().resolve(n[0]).promise()},hasOnlyRejectedServers:function(e){return void 0===e&&(e=this.models),C.a.every(e,function(e){return e.get("isRejected")})},hasLoopbackServer:function(e){return void 0===e&&(e=this.models),!!C.a.find(e,function(e){var t=e.get("activeConnection");return!!t&&t.get("isLoopback")})}}),kUt=jUt.extend({name:"AppModel",sessionAttrs:{clientID:Me.a.string,anonymousClientID:Me.a.string,authorized:Me.a.boolean.isRequired,skipSignIn:Me.a.boolean.isRequired,isWaitingForServers:Me.a.boolean.isRequired,isWaitingForPrimaryServer:Me.a.boolean.isRequired,history:Me.a.array.isRequired,forwardHistory:Me.a.array.isRequired,drmType:Me.a.oneOf.apply(Me.a,Object.values(ne))},sessionRelations:{servers:{relationClass:NUt},cloudServer:{relationClass:TIe,deferred:!0},primaryServer:{relationClass:Ac,deferred:!0},companionServer:{relationClass:Ac,deferred:!0},transientServer:{relationClass:x_t,deferred:!0},user:{relationClass:Qi,deferred:!0}},defaults:function(){var e=new TIe({machineIdentifier:cv.a},{parent:this});return{authorized:!1,skipSignIn:!1,isWaitingForServers:!1,isWaitingForPrimaryServer:!1,history:[],forwardHistory:[],cloudServer:e,user:new Qi({},{server:e,parent:this})}}}),LUt=Ce.a.extend({name:"EntityModel",sessionAttrs:{id:Me.a.string.isRequired},sessionRelations:{model:{relationClass:Ce.a,deferred:!0}},toState:function(){var e=this.get("model"),t=Object.assign({entityID:this.id},e.state);return Object.defineProperty(t,"possibleEntityContainers",{value:e.state.possibleEntityContainers,enumerable:!1}),t},shouldUpdateRelationState:function(){return!0}}),RUt=Ue.a.extend({name:"EntityCollection",model:LUt,toState:function(){var e=this.reduce(this.reduceState,{possibleEntityContainers:[]});return Object.defineProperty(e,"possibleEntityContainers",{enumerable:!1}),e},reduceState:function(e,t){return e.possibleEntityContainers.push(t.id),e[t.id]=t.getState(),e}});var _Ut,UUt=Ce.a.extend({name:"SubtitlesModalModel",sessionAttrs:{serverEntityID:Me.a.string,metadataItemEntityID:Me.a.string,isSubtitlesPending:Me.a.boolean,isSubtitlesPopulated:Me.a.boolean,subtitlesError:Me.a.string,subtitlesDownloadActivityID:Me.a.string,subtitlesDownloadKey:Me.a.string,subtitlesDownloadStartTime:Me.a.integer,isSubtitlesDownloaded:Me.a.boolean,subtitlesDownloadError:Me.a.string},sessionRelations:{subtitles:{relationClass:sVe,deferred:!0}},defaults:{serverEntityID:null,metadataItemEntityID:null,isSubtitlesPending:!1,isSubtitlesPopulated:!1,subtitlesError:null,subtitlesDownloadActivityID:null,subtitlesDownloadKey:null,subtitlesDownloadStartTime:null,isSubtitlesDownloaded:!1,subtitlesDownloadError:null}}),zUt=Ce.a.extend({name:"ProviderIntegrationsModel",sessionAttrs:{isIntegrationsOnboarding:Me.a.boolean.isRequired,isIntegrationsPending:Me.a.boolean.isRequired,isIntegrationsPopulated:Me.a.boolean.isRequired,integrationsError:Me.a.object},sessionRelations:{integrations:{relationClass:Fdt,deferred:!0}},defaults:{isIntegrationsOnboarding:!1,isIntegrationsPending:!0,isIntegrationsPopulated:!1}}),FUt=Ce.a.extend({name:"ChannelGridPageModel",sessionAttrs:{serverEntityID:Me.a.string,providerEntityID:Me.a.string,containerKey:Me.a.string,directoryKey:Me.a.string,startTime:Me.a.integer,visibleColumns:Me.a.integer,columnTimes:Me.a.array,columnWidth:Me.a.float,viewportWidth:Me.a.integer,viewportHeight:Me.a.integer,airedProgress:Me.a.float,isChannelsListPending:Me.a.boolean,isChannelsListPopulated:Me.a.boolean,channelsListError:Me.a.object},sessionRelations:{metadataList:{relationClass:MPe,deferred:!0},channelsList:{relationClass:wPe,deferred:!0}},defaults:function(){return{startTime:0,visibleColumns:1,columnTimes:[],columnWidth:0,viewportWidth:0,viewportHeight:0,airedProgress:0,isChannelsListPending:!0,isChannelsListPopulated:!1,channelsListError:null}}}),BUt=Ce.a.extend({name:"HomeHubStatusModel",idAttribute:"homeHubID",sessionAttrs:{error:Me.a.object,homeHubID:Me.a.string.isRequired,isPending:Me.a.boolean.isRequired,isPopulated:Me.a.boolean.isRequired,provider:Me.a.string,server:Me.a.string},sessionRelations:{hub:{relationClass:el.a,deferred:!0}},defaults:function(){return{error:null,isPending:!0,isPopulated:!1}}}),HUt=Ue.a.extend({name:"HomeHubStatusCollection",model:BUt}),VUt=Ce.a.extend({name:"HomePageModel",sessionAttrs:{isContentPending:Me.a.boolean.isRequired,isContentPopulated:Me.a.boolean.isRequired,contentError:Me.a.object,isPreferredServerContentPending:Me.a.boolean.isRequired,isPreferredServerContentPopulated:Me.a.boolean.isRequired,preferredServerContentError:Me.a.object,isProviderPromotedContentPending:Me.a.boolean.isRequired,isProviderPromotedContentPopulated:Me.a.boolean.isRequired,providerPromotedContentError:Me.a.object},sessionRelations:{homeHubStatuses:{relationClass:HUt}},defaults:function(){return{isContentPending:!0,isContentPopulated:!1,contentError:null,isPreferredServerContentPending:!0,isPreferredServerContentPopulated:!1,preferredServerContentError:null,isProviderPromotedContentPending:!0,isProviderPromotedContentPopulated:!1,providerPromotedContentError:null}}}),QUt=Ce.a.extend({name:"MediaSubscriptionModalModel",sessionAttrs:{isMediaSubscriptionPending:Me.a.boolean,isMediaSubscriptionPopulated:Me.a.boolean,mediaSubscriptionError:Me.a.string,isMediaSubscriptionSaving:Me.a.boolean,mediaSubscriptionSaveError:Me.a.string,isMediaSubscriptionMoving:Me.a.boolean,mediaSubscriptionMoveError:Me.a.string,isMediaSubscriptionDeleting:Me.a.boolean,mediaSubscriptionDeleteError:Me.a.string},sessionRelations:{templates:{relationClass:pAe,deferred:!0},mediaSubscription:{relationClass:dAe,deferred:!0}},defaults:{isMediaSubscriptionPending:!0,isMediaSubscriptionPopulated:!1,mediaSubscriptionError:null,isMediaSubscriptionSaving:!1,mediaSubscriptionSaveError:null,isMediaSubscriptionMoving:!1,mediaSubscriptionMoveError:null,isMediaSubscriptionDeleting:!1,mediaSubscriptionDeleteError:null}}),WUt=de(),GUt=Ce.a.extend({name:"PlayerModel",sessionAttrs:{serverEntityID:Me.a.string,providerEntityID:Me.a.string,playbackSessionID:Me.a.string,isOpen:Me.a.boolean,previousOpenState:Me.a.oneOf(Rne,_ne),openState:Me.a.oneOf(Rne,_ne),isPlayQueueVisible:Me.a.boolean,isAlsoAiringVisible:Me.a.boolean,isLyricsVisible:Me.a.boolean,isPostPlayVisible:Me.a.boolean,isSettingsVisible:Me.a.boolean,isChaptersVisible:Me.a.boolean,isSubtitlesOffsetSettingsVisible:Me.a.boolean,confirmPlaybackPayload:Me.a.object,confirmOffsetPayload:Me.a.object,confirmRemoteToLocal:Me.a.boolean,confirmLocalToRemote:Me.a.boolean,decisions:Me.a.object.isRequired,currentDecision:Me.a.object,startMetadataItemEntityID:Me.a.string,startOffsetMilliseconds:Me.a.integer,startMediaIndex:Me.a.integer,positionSeconds:Me.a.integer,nextPositionSeconds:Me.a.integer,lastSeekPositionSeconds:Me.a.integer,durationSeconds:Me.a.integer,seekStartSeconds:Me.a.integer,seekEndSeconds:Me.a.integer,bandwidthTimeline:Me.a.object,lastInteractedAt:Me.a.integer,playbackTime:Me.a.integer,playbackSpeed:Me.a.float,isPlayQueueLoading:Me.a.boolean.isRequired,isMediaLoading:Me.a.boolean.isRequired,isPostPlayLoading:Me.a.boolean.isRequired,isPaused:Me.a.boolean.isRequired,isBuffering:Me.a.boolean.isRequired,repeatAll:Me.a.boolean.isRequired,repeatOne:Me.a.boolean.isRequired,mediaIndex:Me.a.integer,partIndex:Me.a.integer,qualityIndex:Me.a.integer,availableQualities:Me.a.array.isRequired,controllable:Me.a.object,metricsPage:Me.a.string,metricsContext:Me.a.string,metricsAutoPlay:Me.a.boolean,metricsPlayer:Me.a.oneOf.apply(Me.a,MCe.a),hasError:Me.a.boolean.isRequired,errorMessage:Me.a.string,errorCode:Me.a.string,errorCategory:Me.a.string,playbackStartTime:Me.a.integer,hasConflicts:Me.a.boolean.isRequired,isConflictCancelling:Me.a.boolean,cancelConflictError:Me.a.object,confirmLiveTVPlayback:Me.a.boolean.isRequired,adState:Me.a.string,adPositionSeconds:Me.a.integer,adDurationSeconds:Me.a.integer,adNoSkipDurationSeconds:Me.a.integer,isAdSkipped:Me.a.boolean},sessionRelations:{playQueue:{relationClass:Ce.a,deferred:!0},relatedHubs:{relationClass:ov.default,deferred:!0},liveTVSession:{relationClass:sMe,deferred:!0}},defaults:function(){return{playbackSessionID:WUt,isOpen:!1,isPlayQueueVisible:!1,isAlsoAiringVisible:!1,isLyricsVisible:!1,isPostPlayVisible:!1,isSettingsVisible:!1,isChaptersVisible:!1,isSubtitlesOffsetSettingsVisible:!1,confirmPlaybackPayload:null,confirmOffsetPayload:null,confirmRemoteToLocal:!1,confirmLocalToRemote:!1,decisions:{},startMetadataItemEntityID:null,startOffsetMilliseconds:null,startMediaIndex:null,positionSeconds:0,nextPositionSeconds:null,lastSeekPositionSeconds:null,durationSeconds:0,seekStartSeconds:0,seekEndSeconds:0,playbackTime:0,isPlayQueueLoading:!1,isMediaLoading:!1,isPostPlayLoading:!1,isPaused:!1,isBuffering:!1,repeatAll:!1,repeatOne:!1,availableQualities:[],metricsAutoPlay:!1,hasError:!1,errorMessage:null,errorCode:null,errorCategory:null,playbackStartTime:null,hasConflicts:!1,isConflictCancelling:!1,cancelConflictError:null,confirmLiveTVPlayback:!1,adState:null,adPositionSeconds:null,adDurationSeconds:null,adNoSkipDurationSeconds:null,isAdSkipped:!1}}}),YUt=Ce.a.extend({name:"ProviderSettingsPageModel",context:["server","provider"],sessionAttrs:{isUpdatePending:Me.a.boolean,updateError:Me.a.object},defaults:{isUpdatePending:!1,updateError:null}}),KUt=Ce.a.extend({name:"RecordingSchedulePageModel",sessionAttrs:{isPagePopulated:Me.a.boolean,isMediaSubscriptionsPending:Me.a.boolean,isMediaSubscriptionsPopulated:Me.a.boolean,mediaSubscriptionsError:Me.a.object,isCalendarPending:Me.a.boolean,isCalendarPopulated:Me.a.boolean,calendarError:Me.a.object,mediaSubscriptionMoveError:Me.a.string},sessionRelations:{mediaSubscriptions:{relationClass:Uft,deferred:!0},calendar:{relationClass:Lft,deferred:!0}},defaults:{isPagePopulated:!1,isMediaSubscriptionsPending:!1,isMediaSubscriptionsPopulated:!1,mediaSubscriptionsError:null,isCalendarPending:!1,isCalendarPopulated:!1,calendarError:null,mediaSubscriptionMoveError:null}}),qUt=Ce.a.extend({name:"MultiSelectItemModel",sessionAttrs:{id:Me.a.any.isRequired,type:Me.a.string.isRequired},sessionRelations:{model:{relationClass:Ce.a,deferred:!0}}}),ZUt=Ue.a.extend({name:"MultiSelectItemCollection",model:qUt}),XUt=Ce.a.extend({name:"MultiSelectModel",sessionAttrs:{activeSelectionRange:Me.a.object},sessionRelations:{activeSelectionItems:{relationClass:ZUt}},derivedAttrs:{activeSelectionType:function(){var e=this.get("activeSelectionItems").first();if(e)return e.get("type")}},initialize:function(){this.listenTo(this.get("activeSelectionItems"),{remove:this.resetSelectionRange,reset:this.resetSelectionRange})},listenToCollection:function(e){this.stopListening(e),this.listenTo(e,{reset:this.onCollectionReset,remove:this.onCollectionRemove})},resetSelectionRange:function(){this.set("activeSelectionRange",null)},onCollectionReset:function(e,t){var n=this.get("activeSelectionItems"),r=t.previousModels;C.a.each(r,function(t){e.contains(t)||n.remove(t.id)})},onCollectionRemove:function(e){this.get("activeSelectionItems").remove(e.id)}}),JUt=Ce.a.extend({name:"AddToPlaylistModalModel",sessionAttrs:{providerEntityID:Me.a.string,containerKey:Me.a.string,type:Me.a.string,title:Me.a.string,uri:Me.a.string,smart:Me.a.boolean,readOnly:Me.a.boolean,isUpdating:Me.a.boolean,error:Me.a.object},sessionRelations:{server:{relationClass:Ac,deferred:!0},provider:{relationClass:kr,deferred:!0},metadataItem:{relationClass:Qs.a,deferred:!0},metadataList:{relationClass:ll.default,deferred:!0},multiSelect:{relationClass:XUt,deferred:!0},playQueue:{relationClass:Mee,deferred:!0},playlists:{relationClass:ll.default,deferred:!0}},defaults:{title:"",smart:!1,readOnly:!1,isUpdating:!1}}),$Ut=Ce.a.extend({name:"SubtitlesUploadModalModel",sessionAttrs:{isUploading:Me.a.boolean,isUploaded:Me.a.boolean,error:Me.a.string},defaults:{isUploading:!1,isUploaded:!1,error:null}}),ezt=Ce.a.extend({name:"ServerLogPageModel",sessionAttrs:{logLines:Me.a.array.isRequired,unfilteredLogLinesCount:Me.a.integer.isRequired,filter:Me.a.string.isRequired,logLevels:Me.a.array.isRequired,highlightedLineIndex:Me.a.integer,timeFilterStart:Me.a.string.isRequired,timeFilterEnd:Me.a.string.isRequired,isTimeFilterStartValid:Me.a.boolean.isRequired,isTimeFilterEndValid:Me.a.boolean.isRequired,showTimeFilter:Me.a.boolean.isRequired,showRawText:Me.a.boolean.isRequired},defaults:function(){return{logLines:[],unfilteredLogLinesCount:0,filter:"",logLevels:[],timeFilterStart:"",timeFilterEnd:"",isTimeFilterStartValid:!0,isTimeFilterEndValid:!0,showRawText:!1,showTimeFilter:!1}}}),tzt=Ce.a.extend({name:"AccountSettingsPageModel",sessionAttrs:{isUpdatingUserProfile:Me.a.boolean.isRequired,updateUserProfileError:Me.a.string},defaults:{isUpdatingUserProfile:!1,updateUserProfileError:null}}),nzt=Ce.a.extend({name:"AddToCatalogModalModel",sessionAttrs:{isUpdating:Me.a.boolean.isRequired,error:Me.a.object},defaults:{isUpdating:!1,error:null}}),rzt=Ce.a.extend({name:"AuthCodeExchangeModel",sessionAttrs:{code:Me.a.string,pinID:Me.a.integer,pinIDInitial:Me.a.integer,pinTimeout:Me.a.integer,authToken:Me.a.string,isBusy:Me.a.boolean.isRequired,errorMessage:Me.a.string,fatalErrorMessage:Me.a.string},defaults:{code:null,pinID:null,pinIDInitial:null,pinTimeout:null,authToken:null,isBusy:!1,errorMessage:null,fatalErrorMessage:null}}),izt=Ce.a.extend({name:"BackgroundModel",sessionAttrs:{imageUrl:Me.a.string,themeMusicUrl:Me.a.string,allowLightPreset:Me.a.boolean,isBackgroundPending:Me.a.boolean},sessionRelations:{server:{relationClass:Ac,deferred:!0},provider:{relationClass:kr,deferred:!0}},defaults:{allowLightPreset:!1,isBackgroundPending:!1}}),azt=Ce.a.extend({name:"DVRSettingsUIModel",sessionAttrs:{isDvrsPending:Me.a.boolean,isDvrsPopulated:Me.a.boolean,dvrsError:Me.a.object,isUIPopulated:Me.a.boolean},sessionRelations:{dvrs:{relationClass:XH,deferred:!0},dvrSetup:{relationClass:vO,deferred:!0}},defaults:{isDvrsPending:!1,isDvrsPopulated:!1,dvrsError:null,isUIPopulated:!1}}),ozt=Ce.a.extend({name:"DiscoverPageModel",sessionAttrs:{providerEntityID:Me.a.string,hubKey:Me.a.string,isHubsPending:Me.a.boolean.isRequired,isHubsPopulated:Me.a.boolean.isRequired,hubsError:Me.a.object,isPromotedHubsPending:Me.a.boolean.isRequired,isPromotedHubsPopulated:Me.a.boolean.isRequired,promotedHubsError:Me.a.object,knownPromotedHubCloudProviderIDs:Me.a.array.isRequired},sessionRelations:{hubs:{relationClass:ov.default,deferred:!0},promotedHubs:{relationClass:ov.default,deferred:!0}},defaults:function(){return{isHubsPending:!0,isHubsPopulated:!1,hubsError:null,isPromotedHubsPending:!0,isPromotedHubsPopulated:!1,promotedHubsError:null,knownPromotedHubCloudProviderIDs:[]}}}),szt=Ce.a.extend({name:"LibraryPageModel",sessionAttrs:{providerEntityID:Me.a.string,libraryKey:Me.a.string,directoryKey:Me.a.string,containerKey:Me.a.string,isDetailsPending:Me.a.boolean.isRequired,isDetailsPopulated:Me.a.boolean.isRequired,detailsError:Me.a.object,isFirstCharactersPending:Me.a.boolean.isRequired,isFirstCharactersPopulated:Me.a.boolean.isRequired,firstCharactersError:Me.a.object,selectedFilterKey:Me.a.string,filterOptionQuery:Me.a.string,isSelectedFilterOptionsPending:Me.a.boolean.isRequired,isSelectedFilterOptionsPopulated:Me.a.boolean.isRequired,selectedFilterOptionsError:Me.a.object,isQueryParsePending:Me.a.boolean.isRequired,isQueryParsePopulated:Me.a.boolean.isRequired,queryParseError:Me.a.object,typeKey:Me.a.string},sessionRelations:{metadataList:{relationClass:ll.default,deferred:!0},directoryList:{relationClass:dat.a,deferred:!0},details:{relationClass:ple,deferred:!0},firstCharacters:{relationClass:Pl,deferred:!0},selectedFilterOptions:{relationClass:Tl.a,deferred:!0},queryParse:{relationClass:gat,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isFirstCharactersPending:!0,isFirstCharactersPopulated:!1,firstCharactersError:null,selectedFilterKey:null,filterOptionQuery:"",isSelectedFilterOptionsPending:!0,isSelectedFilterOptionsPopulated:!1,selectedFilterOptionsError:null,isQueryParsePending:!0,isQueryParsePopulated:!1,queryParseError:null}}),lzt=Ce.a.extend({name:"MetadataListPageModel",sessionAttrs:{providerEntityID:Me.a.string,listKey:Me.a.string},sessionRelations:{metadataList:{relationClass:ll.default,deferred:!0}}}),czt=Ce.a.extend({name:"OnlineMediaSourcesPageModel",sessionAttrs:{optOutStatuses:Me.a.object,isOptOutStatusesPending:Me.a.boolean,optOutStatusesError:Me.a.object,isAvailableProvidersPending:Me.a.boolean,isAvailableProvidersPopulated:Me.a.boolean,availableProvidersError:Me.a.object,isUpdatePending:Me.a.boolean,updateError:Me.a.object},sessionRelations:{availableProviders:{relationClass:sjt,deferred:!0}},defaults:{isOptOutStatusesPending:!0,optOutStatusesError:null,isAvailableProvidersPending:!0,isAvailableProvidersPopulated:!1,availableProvidersError:null,isUpdatePending:!1,updateError:null}}),uzt=Ce.a.extend({name:"PlayHistoryPageModel",sessionAttrs:{isPlayHistoryListPending:Me.a.boolean,isPlayHistoryListPopulated:Me.a.boolean,playHistoryListError:Me.a.object,devices:Me.a.array,isDevicesPending:Me.a.boolean,isDevicesPopulated:Me.a.boolean},sessionRelations:{playHistoryList:{relationClass:Htt,deferred:!0}},defaults:{isPlayHistoryListPending:!1,isPlayHistoryListPopulated:!1,playHistoryListError:null,devices:[],isDevicesPending:!1,isDevicesPopulated:!1}}),dzt=Ce.a.extend({name:"PlaylistPageModel",sessionAttrs:{serverEntityID:Me.a.string,providerEntityID:Me.a.string,metadataKey:Me.a.string,isPlaylistPending:Me.a.boolean.isRequired,isPlaylistPopulated:Me.a.boolean.isRequired,playlistError:Me.a.object,isPlaylistItemListPending:Me.a.boolean.isRequired,isPlaylistItemListPopulated:Me.a.boolean.isRequired,playlistItemListError:Me.a.object},sessionRelations:{playlist:{relationClass:Qs.a,deferred:!0},playlistItemList:{relationClass:Ql,deferred:!0}},defaults:{isPlaylistPending:!0,isPlaylistPopulated:!1,playlistError:null,isPlaylistItemListPending:!0,isPlaylistItemListPopulated:!1,playlistItemListError:null}}),pzt=Ce.a.extend({name:"PlaylistsPageModel",sessionAttrs:{serverEntityID:Me.a.string,libraryKey:Me.a.string,containerKey:Me.a.string,isLibraryDetailsPending:Me.a.boolean.isRequired,isLibraryDetailsPopulated:Me.a.boolean.isRequired,libraryDetailsError:Me.a.object,isSortsPending:Me.a.boolean.isRequired,isSortsPopulated:Me.a.boolean.isRequired,sortsError:Me.a.object},sessionRelations:{libraryDetails:{relationClass:ple,deferred:!0},playlists:{relationClass:ll.default,deferred:!0},sorts:{relationClass:Zs.a,deferred:!0}},defaults:{isLibraryDetailsPending:!0,isLibraryDetailsPopulated:!1,libraryDetailsError:null,isSortsPending:!0,isSortsPopulated:!1,sortsError:null}}),hzt=Ce.a.extend({name:"PrePlayPageModel",sessionAttrs:{providerEntityID:Me.a.string,metadataKey:Me.a.string,descendantKey:Me.a.string,siblingKey:Me.a.string,isMetadataItemPending:Me.a.boolean.isRequired,isMetadataItemPopulated:Me.a.boolean.isRequired,metadataItemError:Me.a.object,isRelatedHubsPending:Me.a.boolean.isRequired,isRelatedHubsPopulated:Me.a.boolean.isRequired,relatedHubsError:Me.a.object,isAugmentedHubsPending:Me.a.boolean.isRequired,isAugmentedHubsPopulated:Me.a.boolean.isRequired,augmentedHubsError:Me.a.object,isFileUnavailable:Me.a.boolean,decisionMediaItem:Me.a.object},sessionRelations:{metadataItem:{relationClass:Qs.a,deferred:!0},descendantList:{relationClass:ll.default,deferred:!0},siblingList:{relationClass:ll.default,deferred:!0},relatedHubs:{relationClass:ov.default,deferred:!0},augmentedHubs:{relationClass:ov.default,deferred:!0}},defaults:{isMetadataItemPending:!0,isMetadataItemPopulated:!1,metadataItemError:null,isRelatedHubsPending:!0,isRelatedHubsPopulated:!1,relatedHubsError:null,isAugmentedHubsPending:!0,isAugmentedHubsPopulated:!1,augmentedHubsError:null,isFileUnavailable:!1}}),fzt=Ce.a.extend({name:"SearchResultModel",context:["server","provider","metricsContext"],entityType:kb,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.key,this.provider&&this.provider.entityID(),this.server.entityID())},responseType:function(){return Object(Js.a)(this.server)},idAttribute:"key",syncedAttrs:{key:Me.a.string,reasonID:Me.a.integer,reason:Me.a.string,reasonTitle:Me.a.string},syncedRelations:{metadataItem:{relationClass:Qs.a,deferred:!0},tagItem:{relationClass:yle,deferred:!0}},augmentResponse:function(e){var t,n=e.key,r=e.reason,i=e.reasonTitle,a=e.reasonID,o=wt()(e,["key","reason","reasonTitle","reasonID"]);return(t={key:n,reason:r,reasonTitle:i,reasonID:a})[o.tag?"tagItem":"metadataItem"]=Object.assign({key:n},o),t}}),gzt=Ue.a.extend({name:"SearchResultCollection",context:["server","provider","metricsContext"],model:fzt,responseType:function(){return Object(Js.a)(this.server)}}),vzt=Ce.a.extend({name:"SearchHubModel",context:["server","provider"],responseType:function(){return Object(Js.a)(this.server)},idAttribute:"hubIdentifier",syncedAttrs:{hubIdentifier:Me.a.string,size:Me.a.integer,type:Me.a.string,subtype:Me.a.string,title:Me.a.string,context:Me.a.string},syncedRelations:{metadataResults:{relationClass:gzt,rootPropertyName:"Metadata",options:function(e){return{metricsContext:e.context}}},tagResults:{relationClass:gzt,rootPropertyName:"Directory",options:function(e){return{metricsContext:e.context}}}}}),mzt=Ue.a.extend({name:"SearchHubCollection",context:["server","provider"],model:vzt,responseType:function(){return Object(Js.a)(this.server)}}),yzt=Ce.a.extend({name:"SearchModel",context:["server","provider","includeCollections","includeExternalMedia"],responseType:function(){return Object(Js.a)(this.server)},url:function(){var e={};return this.includeCollections&&(e.includeCollections=1),this.includeExternalMedia&&(e.includeExternalMedia=1),F.join(this.get("key"),e)},idAttribute:"providerEntityID",sessionAttrs:{providerEntityID:Me.a.string,serverEntityID:Me.a.string,key:Me.a.string,isSearchPending:Me.a.boolean,isSearchPopulated:Me.a.boolean,searchError:Me.a.object},syncedRelations:{hubs:{relationClass:mzt,rootPropertyName:"Hub"}},defaults:{isSearchPending:!0,isSearchPopulated:!1},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e){if(!e.Hub)return e;var t=Array.isArray(e.Hub)?e.Hub:[e.Hub];return e.Hub=t.filter(function(e){return parseInt(e.size,10)>0}),e}}),bzt=Ue.a.extend({name:"SearchCollection",context:["server","provider"],model:yzt}),Szt=Ce.a.extend({name:"QuickSearchModel",sessionAttrs:{query:Me.a.string,serverEntityID:Me.a.string,providerEntityID:Me.a.string,providerIdentifier:Me.a.string,sectionID:Me.a.string,selectedResultEntityID:Me.a.string},sessionRelations:{searches:{relationClass:bzt}},defaults:{query:"",selectedResultEntityID:null}}),Izt=Ce.a.extend({name:"SearchPageModel",sessionRelations:{searches:{relationClass:bzt}}}),Czt=Ce.a.extend({name:"ServerDashboardPageModel",sessionAttrs:{bandwidthStatistics:Me.a.array,bandwidthStatisticsRequestID:Me.a.string,isBandwidthStatisticsPending:Me.a.boolean,isBandwidthStatisticsPopulated:Me.a.boolean,bandwidthStatisticsError:Me.a.string,bandwidthStatisticsRequestTimestampMilliseconds:Me.a.integer,bandwidthStatisticsResponseTimestampMilliseconds:Me.a.integer,resourcesStatistics:Me.a.array,resourcesStatisticsRequestID:Me.a.string,isResourcesStatisticsPending:Me.a.boolean,isResourcesStatisticsPopulated:Me.a.boolean,isResourcesStatisticsSupported:Me.a.boolean,resourcesStatisticsError:Me.a.string,resourcesStatisticsRequestTimestampMilliseconds:Me.a.integer,resourcesStatisticsResponseTimestampMilliseconds:Me.a.integer,topUsersStatistics:Me.a.array,topUsersAccounts:Me.a.array,topUsersRequestID:Me.a.string,isTopUsersPending:Me.a.boolean,isTopUsersPopulated:Me.a.boolean,topUsersError:Me.a.string,playHistoryStatistics:Me.a.array,playHistoryAccounts:Me.a.array,playHistoryRequestID:Me.a.string,isPlayHistoryPending:Me.a.boolean,isPlayHistoryPopulated:Me.a.boolean,playHistoryError:Me.a.string,topPlayedMovies:Me.a.array,topPlayedTV:Me.a.array,topPlayedMusic:Me.a.array,topPlayedMoviesRequestID:Me.a.string,topPlayedTVRequestID:Me.a.string,topPlayedMusicRequestID:Me.a.string,isTopPlayedPending:Me.a.boolean,isTopPlayedPopulated:Me.a.boolean,topPlayedError:Me.a.string,stopSessionErrorMessage:Me.a.string},defaults:function(){return{bandwidthStatistics:[],bandwidthStatisticsRequestID:null,isBandwidthStatisticsPending:!1,isBandwidthStatisticsPopulated:!1,bandwidthStatisticsError:null,bandwidthStatisticsRequestTimestampMilliseconds:null,bandwidthStatisticsResponseTimestampMilliseconds:null,resourcesStatistics:[],resourcesStatisticsRequestID:null,isResourcesStatisticsPending:!1,isResourcesStatisticsPopulated:!1,isResourcesStatisticsSupported:!0,resourcesStatisticsError:null,resourcesStatisticsRequestTimestampMilliseconds:null,resourcesStatisticsResponseTimestampMilliseconds:null,topUsersStatistics:[],topUsersAccounts:[],topUsersRequestID:null,isTopUsersPending:!1,isTopUsersPopulated:!1,topUsersError:null,playHistoryStatistics:[],playHistoryAccounts:[],playHistoryRequestID:null,isPlayHistoryPending:!1,isPlayHistoryPopulated:!1,playHistoryError:null,topPlayedMovies:[],topPlayedTV:[],topPlayedMusic:[],topPlayedMoviesRequestID:null,topPlayedTVRequestID:null,topPlayedMusicRequestID:null,isTopPlayedPending:!1,isTopPlayedPopulated:!1,topPlayedError:null,stopSessionErrorMessage:null}}}),Mzt=Ce.a.extend({name:"MomentModel",context:["server","provider"],idAttribute:"id",rootPropertyName:"Directory",syncedAttrs:{id:Me.a.string,title:Me.a.string,size:Me.a.integer,avgAR:Me.a.float,startsAt:Me.a.integer,endsAt:Me.a.integer}}),Dzt=Ue.a.extend({name:"MomentCollection",context:["server","provider"],model:Mzt}),wzt=Ce.a.extend({name:"MomentListModel",context:["server","provider"],url:function(){return this.get("momentKey")},sessionAttrs:{momentKey:Me.a.string},syncedAttrs:{key:Me.a.string},syncedRelations:{moments:{relationClass:Dzt,rootPropertyName:"Directory"}}}),Pzt=Ce.a.extend({name:"TimelinePageModel",sessionAttrs:{serverEntityID:Me.a.string,providerEntityID:Me.a.string,momentKey:Me.a.string,isDetailsPending:Me.a.boolean.isRequired,isDetailsPopulated:Me.a.boolean.isRequired,detailsError:Me.a.object,isMomentListPending:Me.a.boolean.isRequired,isMomentListPopulated:Me.a.boolean.isRequired,momentListError:Me.a.object},sessionRelations:{metadataList:{relationClass:ll.default,deferred:!0},details:{relationClass:ple,deferred:!0},momentList:{relationClass:wzt,deferred:!0}},defaults:{isDetailsPending:!0,isDetailsPopulated:!1,detailsError:null,isMomentListPending:!0,isMomentListPopulated:!1,momentListError:null}}),Tzt=Ce.a.extend({name:"UserSharingSettingsPageModel",sessionAttrs:{filterOptionsTags:Me.a.object,isFilterOptionsTagsPopulating:Me.a.boolean,isFilterOptionsTagsPopulated:Me.a.boolean,isUpdatingFriend:Me.a.boolean,updateFriendError:Me.a.string,isServerOverviewsPopulating:Me.a.boolean,isServerOverviewsPopulated:Me.a.boolean,serverOverviewsError:Me.a.string,isServerSharesPopulating:Me.a.boolean,isServerSharesPopulated:Me.a.boolean,serverSharesError:Me.a.string,isSharingPending:Me.a.boolean,isSharingCompleted:Me.a.boolean,sharingError:Me.a.string,isRemoveServerSharePending:Me.a.boolean,isRemoveServerShareCompleted:Me.a.boolean,removeServerShareError:Me.a.string},sessionRelations:{serverOverviews:{relationClass:bZ,deferred:!0}},defaults:function(){return{filterOptionsTags:{},isFilterOptionsTagsPopulating:!1,isFilterOptionsTagsPopulated:!1,isUpdatingFriend:!1,updateFriendError:null,isServerOverviewsPopulating:!1,isServerOverviewsPopulated:!1,serverOverviewsError:null,isServerSharesPopulating:!1,isServerSharesPopulated:!1,serverSharesError:null,isSharingPending:!1,isSharingCompleted:!1,sharingError:null,isRemoveServerSharePending:!1,isRemoveServerShareCompleted:!1,removeServerShareError:null}}}),Ezt=Ce.a.extend({name:"DesktopUIModel",sessionRelations:{background:{relationClass:izt},authCodeExchange:{relationClass:rzt},discoverPage:{relationClass:ozt},metadataListPage:{relationClass:lzt},libraryPage:{relationClass:szt},prePlayPage:{relationClass:hzt},timelinePage:{relationClass:Pzt},playlistsPage:{relationClass:pzt},dvrSettingsUI:{relationClass:azt},recordingSchedulePage:{relationClass:KUt},channelGridPage:{relationClass:FUt},mediaSubscriptionModal:{relationClass:QUt},searchPage:{relationClass:Izt},quickSearch:{relationClass:Szt},photoPlayer:{relationClass:GUt},audioVideoPlayer:{relationClass:GUt},onlineMediaSourcesPage:{relationClass:czt},accountSettingsPage:{relationClass:tzt},playlistPage:{relationClass:dzt},providerSettingsPage:{relationClass:YUt},addToCatalogModal:{relationClass:nzt},multiSelect:{relationClass:XUt},serverLogPage:{relationClass:ezt},subtitlesModal:{relationClass:UUt},subtitlesUploadModal:{relationClass:$Ut},homePage:{relationClass:VUt},addToPlaylistModal:{relationClass:JUt},serverDashboardPage:{relationClass:Czt},playHistoryPage:{relationClass:uzt},shareLibraryModal:{relationClass:DZ},userSharingSettingsPage:{relationClass:Tzt},providerIntegrations:{relationClass:zUt}}}),xzt=kUt.extend({name:"DesktopAppModel",sessionAttrs:Object.assign({},kUt.prototype.sessionAttrs,{isFirstRun:Me.a.boolean.isRequired,isFullscreen:Me.a.boolean.isRequired,castApiAvailability:roe.isRequired,settings:Me.a.instanceOf(jh)}),sessionRelations:Object.assign({},kUt.prototype.sessionRelations,{entities:{relationClass:function(e){var t={};for(var n in e)t[e[n]]={relationClass:RUt};return Ce.a.extend({name:"EntitiesModel",sessionRelations:t})}(c)},remotePlayer:{relationClass:Ce.a,deferred:!0},legacyChannelProvider:{relationClass:Zl,deferred:!0},legacyChannelMetadataItem:{relationClass:Qs.a,deferred:!0},deviceSettings:{relationClass:tp},ui:{relationClass:Ezt}}),defaults:function(){var e=kUt.prototype.defaults.apply(this,arguments);return Object.assign({},e,{isFirstRun:!1,isFullscreen:!1,castApiAvailability:$ae,settings:new jh})}}),Ozt=Ce.a.extend({name:"OauthProviderUsageModel",syncedAttrs:{federatedAuth:Me.a.boolean,other:Me.a.boolean}}),jzt=Ce.a.extend({name:"OauthProviderModel",rootPropertyName:"provider",sessionAttrs:{isUnlinking:Me.a.boolean.isRequired,unlinkError:Me.a.object},syncedAttrs:{authName:Me.a.string,image:Me.a.string,label:Me.a.string.isRequired,linked:Me.a.boolean.isRequired,nickname:Me.a.string,url:Me.a.string.isRequired},syncedRelations:{usage:{relationClass:Ozt}},defaults:{isUnlinking:!1}}),Azt=Ue.a.extend({name:"OauthProviderCollection",model:jzt,context:["server"],url:"/api/v2/authentications/providers",responseType:jt.a.json}),Nzt=Ce.a.extend({name:"CloudServerFlexModel",context:["server"],sessionAttrs:{isOauthProvidersPending:Me.a.boolean,isOauthProvidersPopulated:Me.a.boolean,oauthProvidersError:Me.a.object},sessionRelations:{oauthProviders:{relationClass:Azt}},defaults:{isOauthProvidersPending:!1,isOauthProvidersPopulated:!1,oauthProvidersError:null}}),kzt=Ce.a.extend({name:"PlexPlayerModel",context:["server","baseURL"],idAttribute:"machineIdentifier",rootPropertyName:"Server",sessionAttrs:{volume:Me.a.integer},syncedAttrs:{machineIdentifier:Me.a.string,name:Me.a.string,title:Me.a.string,address:Me.a.string,port:Me.a.string,deviceClass:Me.a.string,version:Me.a.string,product:Me.a.string,protocol:Me.a.string,protocolVersion:Me.a.string,protocolCapabilities:Me.a.list},derivedAttrs:{friendlyName:function(){return this.get("title")||this.get("name")||this.get("product")}},defaults:{volume:100}}),Lzt=Ue.a.extend({name:"PlexPlayerCollection",context:["server"],model:kzt,url:"/clients",augmentResponse:function(e){var t=Object(J.c)("appModel").get("clientID"),n=parseInt(e.size,10);return 1===n&&e.Server.machineIdentifier===t?(delete e.Server,e.size="0"):n>1&&(e.Server=e.Server.filter(function(e){return e.machineIdentifier!==t}),e.size=e.Server.length.toString()),e}}),Rzt=Ce.a.extend({name:"ActivityModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Activity",responseType:function(){return Object(Js.a)(this.server)},sessionAttrs:{synthetic:Me.a.boolean},syncedAttrs:{uuid:Me.a.string,userID:Me.a.integer,title:Me.a.string,subtitle:Me.a.string,progress:Me.a.integer,event:Me.a.string,cancellable:Me.a.boolean,type:Me.a.string,Context:Me.a.object,Response:Me.a.object},defaults:function(){return{Context:{},Response:{}}}}),_zt=Ue.a.extend({name:"ActivityCollection",context:["server"],model:Rzt,url:"/activities",responseType:function(){return Object(Js.a)(this.server)}}),Uzt=Ri.extend({pageSize:10,pages:function(){return Math.max(Math.ceil(this.length/this.pageSize),1)},page:function(e,t){t||(t={});var n,r=0;return(n=t.reverse?this.length-e*this.pageSize:e*this.pageSize-this.pageSize)<0&&(r=n,n=0),this.models.slice(n,n+this.pageSize+r)}}),zzt=0,Fzt=ji.extend({idAttribute:"id",parse:function(e){var t=e;return t.time=new Date,t.id="evt"+zzt++,"preference"===t._type&&(t.value=String(t.value)),t}}),Bzt=Uzt.extend({model:Fzt,url:"/servers",pageSize:20,limit:1e3,initialize:function(){this.startTime=new Date,this.listenTo(this.server,"socket:setting",this.onSettingChange),this.listenTo(this.server,"socket:timeline",this.onTimeline),this.listenTo(this.server,"socket:status",this.onStatus),this.listenTo(this.server,"socket:playing",this.onPlaying),this.listenTo(this.server,"socket:websocket",this.onWebSocket)},add:function(e){this.length+1>this.limit&&this.remove(this.at(0)),Uzt.prototype.add.apply(this,arguments)},onSettingChange:function(e){e.label&&this.add(C.a.extend({_type:"setting"},e),{parse:!0})},onTimeline:function(e){1===e.state||e.sectionID<0||this.add(C.a.extend({_type:"timeline"},e),{parse:!0})},onStatus:function(e){"ProgressNotification"!==e._elementType&&this.add(C.a.extend({_type:"status"},e),{parse:!0})},onPlaying:function(e){this.add(C.a.extend({_type:"playing"},e),{parse:!0})},onWebSocket:function(e){this.add(C.a.extend({_type:"websocket"},e),{parse:!0})}}),Hzt=ji.extend({url:"/updater/status",whitelistedAttrs:["status","canInstall","downloadURL","state","progress","version","error","added","fixed"],defaults:{state:"none",progress:0,version:"",error:"",added:"",fixed:"",shouldInstall:!1},fetch:function(){return this.server.supports("updater")?ji.prototype.fetch.apply(this,arguments):P.a.Deferred().reject().promise()},convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseBoolean(t,"canInstall"),Ve.a.parseInteger(t,"status"),t.Release&&Ve.a.parseInteger(t.Release,"progress"),t},parse:function(e,t){var n=this.convert(e);return n=C.a.extend(n,n.Release),0!==(n=C.a.pick(n,this.whitelistedAttrs)).status&&(n.state="error"),n}}),Vzt=Ce.a.extend({name:"TranscodeJobModel",context:["server"],entityType:Ab,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.syncItemId,this.server.entityID())},idAttribute:"syncItemId",rootPropertyName:"TranscodeJob",syncedAttrs:{syncItemId:Me.a.integer,syncItemTitle:Me.a.string,key:Me.a.string,type:Me.a.string,progress:Me.a.float,speed:Me.a.float,remaining:Me.a.string,size:Me.a.string,title:Me.a.string,thumb:Me.a.string},responseType:function(){return Object(Js.a)(this.server)}}),Qzt=Ue.a.extend({name:"TranscodeJobCollection",context:["server"],model:Vzt,cache:new ki,url:"/sync/transcodeQueue"}),Wzt=Ce.a.extend({name:"BackgroundTranscodeJobModel",context:["server"],entityType:Nb,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.key,this.server.entityID())},idAttribute:"key",rootPropertyName:"TranscodeJob",syncedAttrs:{queueItemID:Me.a.integer,generatorID:Me.a.integer,targetTagID:Me.a.integer,syncItemId:Me.a.integer,syncItemTitle:Me.a.string,key:Me.a.string,type:Me.a.string,progress:Me.a.float,speed:Me.a.float,remaining:Me.a.integer,size:Me.a.integer,ratingKey:Me.a.string,title:Me.a.string,thumb:Me.a.string}}),Gzt=Ue.a.extend({name:"BackgroundTranscodeJobCollection",model:Wzt,context:["server"],url:"/status/sessions/background"}),Yzt=Ce.a.extend({name:"NeighborhoodDeviceModel",context:["server"],idAttribute:"uuid",rootPropertyName:"Device",syncedAttrs:{uuid:Me.a.string.isRequired,address:Me.a.string.isRequired,title:Me.a.string,manufacturer:Me.a.string,model:Me.a.string,modelNumber:Me.a.string,serialNumber:Me.a.string}}),Kzt=Ue.a.extend({name:"NeighborhoodDeviceCollection",context:["server"],model:Yzt,url:"neighborhood/devices"}),qzt=Qs.a.extend({name:"SessionMetadataModel",entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.sessionKey,this.server.entityID())},cacheKey:function(e){return this.server&&this.server.getScopedKey(e.sessionKey)},mergeStrategy:null,syncedAttrs:Object.assign({},Qs.a.prototype.syncedAttrs,{sessionKey:Me.a.string})}),Zzt=Ce.a.extend({name:"SessionModel",context:["server"],entityType:Er.o,entityID:function(e){return void 0===e&&(e=this.state),Object(Tr.a)(this.entityType,e.sessionKey,this.server.entityID())},idAttribute:"sessionKey",cache:new xi.a,cacheKey:function(e){return this.server&&this.server.getScopedKey(e.sessionKey)},responseType:function(){return yc(this.server.get("version"),Cc.sessionJSON)?jt.a.json:jt.a.xml},rootPropertyName:"Metadata",syncedAttrs:{sessionKey:Me.a.string,Player:Me.a.object,Session:Me.a.object,TranscodeSession:Me.a.object,User:Me.a.object,delegated:Me.a.boolean},syncedRelations:{metadataItem:{relationClass:qzt,deferred:!0}},defaults:{delegated:!1},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e},augmentResponse:function(e){var t=e[this.rootPropertyName]||e,n=t.sessionKey,r=t.Player,i=t.Session,a=t.TranscodeSession,o=t.User,s=t.delegated,l=wt()(t,["sessionKey","Player","Session","TranscodeSession","User","delegated"]);return l.sessionKey=n,{sessionKey:n,Player:r,Session:i,TranscodeSession:a,User:o,delegated:s,metadataItem:l}}}),Xzt=Ue.a.extend({name:"SessionCollection",context:["server"],model:Zzt,url:"/status/sessions",responseType:function(){return yc(this.server.get("version"),Cc.sessionJSON)?jt.a.json:jt.a.xml},augmentResponseText:function(e,t){return t===jt.a.xml?Object(Bl.b)(e):e}}),Jzt=Ce.a.extend({name:"AccountModel",context:["server"],rootPropertyName:"Account",syncedAttrs:{id:Me.a.integer,key:Me.a.string,name:Me.a.string,thumb:Me.a.string,defaultAudioLanguage:Me.a.string,defaultSubtitleLanguage:Me.a.string,autoSelectAudio:Me.a.boolean,subtitleMode:Me.a.integer}}),$zt=Ue.a.extend({name:"AccountCollection",context:["server"],model:Jzt,url:"/accounts",responseType:jt.a.json,augmentResponse:function(e){if(e.Account){var t=e.Account.filter(function(e){return!!e.name});e.Account=t}return e}}),eFt=Ce.a.extend({name:"ServerFlexModel",context:["server"],sessionAttrs:{update:Me.a.instanceOf(Hzt),alerts:Me.a.instanceOf(Bzt).isRequired,hasiTunes:Me.a.boolean,isHasiTunesPopulated:Me.a.boolean,isAccountsPending:Me.a.boolean,isAccountsPopulated:Me.a.boolean,accountsError:Me.a.object,isSettingsPending:Me.a.boolean,isSettingsPopulated:Me.a.boolean,settingsError:Me.a.object,isLibrariesPending:Me.a.boolean.isRequired,isLibrariesPopulated:Me.a.boolean.isRequired,librariesError:Me.a.object,cleanBundlesError:Me.a.string,optimizeDatabaseError:Me.a.string},sessionRelations:{settings:{relationClass:fl,rootPropertyName:"Setting"},cloudAccount:{relationClass:ku},libraries:{relationClass:ql},sessions:{relationClass:Xzt},activities:{relationClass:_zt},transcodeJobs:{relationClass:Qzt},backgroundTranscodeJobs:{relationClass:Gzt},players:{relationClass:Lzt},accounts:{relationClass:$zt},neighborhoodDevices:{relationClass:Kzt}},defaults:function(){return{update:te.a.get("allowServerUpdates")?new Hzt({},{server:this.server}):null,alerts:new Bzt([],{server:this.server}),hasiTunes:!1,isHasiTunesPopulated:!1,isAccountsPending:!0,isAccountsPopulated:!1,accountsError:null,isSettingsPending:!0,isSettingsPopulated:!1,settingsError:null,isLibrariesPending:!0,isLibrariesPopulated:!1,librariesError:null,cleanBundlesError:null,optimizeDatabaseError:null}}}),tFt=At.extend({name:"StoredUserExperienceSettingsModel",syncedAttrs:Object.assign({},Dh.prototype.syncedAttrs,{isDirty:Me.a.boolean}),syncedRelations:Object.assign({},Dh.prototype.syncedRelations)}),nFt=Ue.a.extend({name:"CloudPlayerCollection",context:["server","baseURL"],model:kzt,augmentResponse:function(e){return e.Server||(e.Server=e.Player,delete e.Player),e}}),rFt=Ce.a.extend({name:"CloudCompanionModel",context:["server"],idAttribute:"identifier",rootPropertyName:"Companion",syncedAttrs:{identifier:Me.a.string,title:Me.a.string,baseURL:Me.a.string,linkURL:Me.a.string,provides:Me.a.list},sessionAttrs:{linkState:Me.a.string},sessionRelations:{cloudPlayers:{relationClass:nFt,options:function(){return{url:this.get("baseURL")+"/resources",baseURL:this.get("baseURL")}}}},defaults:{linkState:"untested"}}),iFt=Ue.a.extend({name:"CloudCompanionCollection",context:["server"],model:rFt,url:"/api/v2/companions"}),aFt=Ce.a.extend({name:"AnnouncementModel",context:["server"],rootPropertyName:"Announcement",syncedAttrs:{id:Me.a.integer,title:Me.a.string,content:Me.a.string,imageUrl:Me.a.string,style:Me.a.string,url:Me.a.string,expireAt:Me.a.string,notifyAt:Me.a.string,read:{type:Me.a.boolean,save:!0}},markAsRead:function(){this.get("read")||this.save("read",!0)}}),oFt=Ue.a.extend({name:"AnnouncementCollection",model:aFt,context:["server"],url:"api/announcements"}),sFt=Ce.a.extend({name:"HomeDetailsModel",context:["server"],rootPropertyName:"Home",url:"/api/home",sessionAttrs:{isTogglingGuestUser:Me.a.boolean},syncedAttrs:{id:Me.a.integer,guestUserID:Me.a.integer,guestEnabled:Me.a.boolean,name:Me.a.string},defaults:{isTogglingGuestUser:!1}}),lFt=Ue.a.extend({name:"HomeUserCollection2",context:["server"],model:wZ,url:"/api/home/users",parse:function(e){return this.convert(e,"User")}}),cFt=Ce.a.extend({name:"InviteModel",context:["server"],rootPropertyName:"Invite",sessionAttrs:{isAccepting:Me.a.boolean,isRemoving:Me.a.boolean},syncedAttrs:{id:{type:Me.a.string,save:!0},friend:Me.a.boolean,home:Me.a.boolean,server:Me.a.boolean,friendlyName:Me.a.string,username:Me.a.string,email:Me.a.string,thumb:Me.a.string,createdAt:Me.a.integer,Server:Me.a.array},urlRoot:"/api/invites/requests",url:function(){var e;if(this.isNew())e=C.a.result(this,"urlRoot");else{var t=this.pick("friend","server","home");C.a.each(C.a.keys(t),function(e){t[e]=t[e]?"1":"0"}),e=this.collection?C.a.result(this.collection,"url"):C.a.result(this,"urlRoot"),e=e.replace(/([^/])$/,"$1/")+encodeURIComponent(this.get("id")),e=F.join(e,t)}return e},augmentResponse:function(e){return e.Server?((Array.isArray(e.Server)?e.Server:[e.Server]).forEach(function(e){e.numLibraries=Object(Fr.a)(e.numLibraries)}),e):e},defaults:{isAccepting:!1,isRemoving:!1}}),uFt=Ue.a.extend({name:"InviteCollection",context:["server","subset"],model:cFt,url:function(){return"/api/invites/"+this.subset},initialize:function(e,t){t||(t={}),this.subset=t.subset||"requests"},filterByHome:function(){var e=new hj.a(this);return e.filterBy(function(e){return e.get("home")}),e},filterByFriends:function(){var e=new hj.a(this);return e.filterBy(function(e){return!e.get("home")}),e}}),dFt=ji.extend({idAttribute:"key",whitelistedAttrs:["key","title","linked","maxLength"],convert:function(e){var t=C.a.isObject(e)?e:Ve.a.parseXML(e);return Ve.a.parseBoolean(t,["linked","maxLength"]),t},parse:function(e){var t=this.convert(e);return t=C.a.pick(t,this.whitelistedAttrs)}}),pFt=Ri.extend({model:dFt,url:"/pms/social/networks",parse:function(e){return this.convert(e,"Directory")}}),hFt=Ce.a.extend({name:"UserFlexModel",context:["server"],sessionAttrs:{isProvidersPending:Me.a.boolean.isRequired,isProvidersPopulated:Me.a.boolean.isRequired,providersError:Me.a.object},sessionRelations:{providers:{relationClass:ec}},defaults:{isProvidersPending:!0,isProvidersPopulated:!1,providersError:null}}),fFt=Ue.a.extend({name:"SyncItemCollection",context:["server","device"],model:ld}),gFt={ACTIVE:"active",SNOOZED:"snoozed",DEAD:"dead"},vFt=Ce.a.extend({name:"SyncListModel",context:["server","device"],url:function(){return this.device?"/devices/"+this.device.get("clientIdentifier")+"/sync_items":"/servers/"+this.server.id+"/sync_lists"},syncedAttrs:{status:Me.a.oneOf("active","snoozed","dead"),clientIdentifier:Me.a.string,version:Me.a.integer,itemsCompleteCount:Me.a.integer,totalSize:Me.a.integer},syncedRelations:{syncItems:{relationClass:fFt,rootPropertyName:"SyncItems"}},derivedAttrs:{isActive:function(){return"active"===this.get("status")}},augmentResponse:function(e){return e.SyncItems&&(e.SyncItems=e.SyncItems.SyncItem),e},sync:function(e,t,n){var r=$s.addVersionHeaderForDevice(this.get("device"),n);return Ce.a.prototype.sync.call(this,e,t,r)},getCollection:function(){return this.get("syncItems")},resetToServer:function(e){var t=this.getCollection(),n=t.filter(function(t){var n=t.get("Server");return n&&n.machineIdentifier===e});t.reset(t.clone(n).models)}},{statuses:gFt}),mFt=Ce.a.extend({name:"DeviceModel",context:["server"],rootPropertyName:"Device",url:function(){return"/devices/"+this.id+".xml"},syncedAttrs:{id:Me.a.string,clientIdentifier:Me.a.string,name:Me.a.string,product:Me.a.string,productVersion:Me.a.string,platform:Me.a.string,platformVersion:Me.a.string,device:Me.a.string,model:Me.a.string,provides:Me.a.list,screenResolution:Me.a.string,screenDensity:Me.a.string,lastSeenAt:Me.a.integer},syncedRelations:{syncList:{relationClass:vFt,rootPropertyName:"SyncList",deferred:!0,options:function(){return{device:this}}}},supports:function(e){return-1!==this.get("provides").indexOf(e)}}),yFt=Ue.a.extend({name:"DeviceCollection",context:["server"],model:mFt,url:"/devices.xml",filterSyncDevices:function(e){var t=!!e&&e.get("isPlaylist"),n=this.filter(function(e){var n=e.get("syncList"),r=n&&n.get("version")>=2,i=t&&!r;return e.supports("sync-target")&&!i});return this.clone(n)},filterByProducts:function(e){var t=this.filter(function(t){return C.a.contains(e,t.get("product"))});return this.clone(t)},filterByPlatforms:function(e){var t=this.filter(function(t){return C.a.contains(e,t.get("platform"))});return this.clone(t)},products:function(){var e=this.map(function(e){return e.get("product")});return C.a.uniq(e)}}),bFt=Ce.a.extend({name:"SubscriptionPlanModel",context:["server"],rootPropertyName:"plan",syncedAttrs:{id:Me.a.string,name:Me.a.string,price:Me.a.float,formattedPrice:Me.a.string,currency:Me.a.string}}),SFt=Ue.a.extend({name:"SubscriptionPlanCollection",context:["server"],model:bFt,url:"/api/subscriptions/plans"}),IFt=Ce.a.extend({name:"WebhookModel",syncedAttrs:{url:Me.a.string},defaults:{url:""}}),CFt=Ue.a.extend({name:"WebhookCollection",context:["server"],model:IFt,url:"/api/v2/user/webhooks",responseType:jt.a.json}),MFt=hFt.prototype,DFt=hFt.extend({sessionAttrs:Object.assign({},MFt.sessionAttrs,{socialNetworks:Me.a.instanceOf(pFt).isRequired,isPlansPending:Me.a.boolean.isRequired,isPlansPopulated:Me.a.boolean.isRequired,plansError:Me.a.object,isDeletingAvatar:Me.a.boolean.isRequired,isUpdatingUser:Me.a.boolean.isRequired,updateUserError:Me.a.object,isHomeDetailsPending:Me.a.boolean,isHomeDetailsPopulated:Me.a.boolean,homeDetailsError:Me.a.object,isHomeUsersPending:Me.a.boolean,isHomeUsersPopulated:Me.a.boolean,homeUsersError:Me.a.object,isInvitesPending:Me.a.boolean,isInvitesPopulated:Me.a.boolean,invitesError:Me.a.object,isSentInvitesPending:Me.a.boolean,isSentInvitesPopulated:Me.a.boolean,sentInvitesError:Me.a.object,isWebhooksPending:Me.a.boolean,isWebhooksPopulated:Me.a.boolean,webhooksError:Me.a.object,isUpdatingWebhooks:Me.a.boolean,isRemovingWebhooks:Me.a.boolean,updateWebhooksError:Me.a.object}),sessionRelations:Object.assign({},MFt.sessionRelations,{devices:{relationClass:yFt},cloudCompanions:{relationClass:iFt},announcements:{relationClass:oFt},homeDetails:{relationClass:sFt},homeUsers:{relationClass:lFt},invites:{relationClass:uFt},sentInvites:{relationClass:uFt,options:{subset:"requested"}},plans:{relationClass:SFt},webhooks:{relationClass:CFt}}),defaults:function(){var e={server:this.server,parent:this};return Object.assign({},MFt.defaults,{socialNetworks:new pFt([],e),isPlansPending:!0,isPlansPopulated:!1,plansError:null,isDeletingAvatar:!1,isUpdatingUser:!1,updateUserError:null,isHomeDetailsPending:!1,isHomeDetailsPopulated:!1,homeDetailsError:null,isHomeUsersPending:!1,isHomeUsersPopulated:!1,homeUsersError:null,isInvitesPending:!1,isInvitesPopulated:!1,invitesError:null,isSentInvitesPending:!1,isSentInvitesPopulated:!1,sentInvitesError:null,isWebhooksPending:!1,isWebhooksPopulated:!1,webhooksError:null,isUpdatingWebhooks:!1,isRemovingWebhooks:!1,updateWebhooksError:null})}});function wFt(e,t){var n,r=[],i=r;function a(){i===r&&(i=r.slice())}function o(e){n=function(e){for(var t={},n=0,r=e.length;n<r;n++){var i=e[n];for(var a in i){var o=t[a],s=i[a];o?Array.isArray(o)?o.push(s):t[a]=[o,s]:t[a]=s}}return t}(e)}return o(e),t.on("statechange",function(){for(var e=r=i,t=0,n=e.length;t<n;t++)e[t]()}),{dispatch:function e(r){var i=r.payload,a=r.type,o=a&&n[a];if(Array.isArray(o))for(var s=0,l=o.length;s<l;s++)o[s](t,i,e);else o&&o(t,i,e);return r},subscribe:function(e){var t=!0;return a(),i.push(e),function(){if(t){t=!1,a();var n=i.indexOf(e);i.splice(n,1)}}},getState:function(){return t.getState()},replaceActionHandlers:o}}function PFt(e){return e.get("ui").get("dvrSettingsUI").get("dvrSetup")}function TFt(e,t){return PFt(e).get("epgSettings")}function EFt(e,t,n,r){void 0===r&&(r={});var i=PFt(e),a=TFt(e),o=a.get(n);return o.abortPendingPopulate(),i.get("setupErrorMessages").remove("programGuideSettings"),a.set("isFetching",!0),o.fetch(r).done(function(){a.set({isFetching:!1,isPopulated:!0})}).fail(function(){a.set({isFetching:!1,isPopulated:!1}),i.get("setupErrorMessages").add({id:"programGuideSettings",message:Object(Xn.default)("Unable to fetch Guide settings")})})}var xFt,OFt=Qx(((_Ut={}).RESET_EPG_SETTINGS=function(e,t){TFt(e).restoreDefaults()},_Ut.FETCH_EPG_COUNTRIES=function(e,t,n){var r=function(e,t){var n=t.serverEntityID;return mo(e,Er.n,n)}(e,t);EFt(e,0,"countries").done(function(){var e=r.get("countryCode");e&&n(dV(Object.assign({},t,{countryCode:e})))})},_Ut.FETCH_EPG_LANGUAGES=function(e,t,n){var r=TFt(e);EFt(e,0,"languages").done(function(){var e=r.get("selectedCountry");e&&n(pV(Object.assign({},t,{languageCode:e.get("language")})))})},_Ut.SELECT_EPG_COUNTRY=function(e,t,n){var r=TFt(e),i=r.get("countries").get(t.countryCode);if(r.set({selectedCountry:i,postalCode:""}),r.get("regions").reset(),r.get("lineupGroup").get("lineups").reset(),i){var a=i.get("flavor"),o=F.join([r.get("baseUrl"),i.get("key")]);n(uV(Object.assign({},t,{languageCode:i.get("language")}))),0===a?EFt(e,0,"regions",{url:o}):2===a&&(r.set("postalCode",i.get("example")),n(gV(t)))}},_Ut.SELECT_EPG_LANGUAGE=function(e,t,n){var r=TFt(e),i=r.get("languages").get(t.languageCode);r.set("selectedLanguage",i)},_Ut.SELECT_EPG_REGION=function(e,t,n){var r=TFt(e),i=r.get("regions").get(t.regionKey);r.set("selectedRegion",i),r.get("lineupGroup").get("lineups").reset(),i&&n(gV(t))},_Ut.SET_EPG_POSTAL_CODE=function(e,t,n){var r=TFt(e),i=t.postalCode;r.set("postalCode",i),r.get("lineupGroup").get("lineups").reset()},_Ut.FETCH_EPG_LINEUPS=function(e,t,n){var r=TFt(e),i=r.get("selectedCountry"),a=[r.get("baseUrl"),i.get("key")],o={};0===i.get("flavor")?a.push(r.get("selectedRegion").get("key")):o.postalCode=r.get("postalCode"),EFt(e,0,"lineupGroup",{url:F.join(a,o)})},_Ut));function jFt(e){return e.get("ui").get("background")}var AFt,NFt=Qx(((xFt={}).CHANGE_BACKGROUND=function(e,t){var n=t.serverEntityID,r=t.providerEntityID,i=t.imageUrl,a=t.allowLightPreset,o=void 0!==a&&a,s=jFt(e),l=n?bo(e,t):void 0,c=r?Co(e,t):void 0;s.set({server:l,provider:c,imageUrl:i,allowLightPreset:o,isBackgroundPending:!1})},xFt.CHANGE_THEME_MUSIC=function(e,t){var n=t.serverEntityID,r=t.theme,i=jFt(e),a=n?bo(e,t):void 0,o=a&&r?a.resolveUrl(r,{appendHeaders:!0}):void 0;i.set("themeMusicUrl",o)},xFt.RESET_BACKGROUND=function(e){jFt(e).restoreDefaults({isBackgroundPending:!0})},xFt));function kFt(e){return e.get("ui").get("discoverPage")}var LFt,RFt=Qx(((AFt={}).INIT_DISCOVER_PAGE=function(e,t){var n=kFt(e),r=bo(e,t),i=Co(e,t),a=t.providerEntityID,o=t.hubKey;if(a!==n.get("providerEntityID")||o!==n.get("hubKey")){var s=new ov.default([],Object.assign({server:r,provider:i,hubKey:o,count:16,includeEmpty:!0,includeTypeFirst:!0,includeFeaturedTags:!0},h2e(e),{excludes:["playlists"]})),l=new ov.default([],{server:e.get("cloudServer"),url:"https://services.provider.plex.tv/home/hubs",deferred:!0});n.restoreDefaults({providerEntityID:a,hubKey:o,hubs:s,promotedHubs:l})}},AFt.FETCH_HUBS=Ki({key:"hubs",getModel:kFt}),AFt.FETCH_PROMOTED_HUBS=function(e,t){var n=kFt(e),r=n.get("promotedHubs");n.set("isPromotedHubsPending",!0);var i=r.server.getXHROptions(r.url,{dataType:"json"});P.a.ajax(i).then(function(t){var i=t.MediaContainer,a=(i=void 0===i?{}:i).Hub;(void 0===a?[]:a).forEach(function(t,i){var a=t.source,o=HFe(a);if(o){var s=So(e,o);if(s){var l=Mo(e,o);if(l){var c=new el.a(t,{server:s,provider:l,parse:!0});r.add(c);var u=yo(e);n.set({isPromotedHubsPending:!1,isPromotedHubsPopulated:!0,promotedHubsError:null,knownPromotedHubCloudProviderIDs:u.get("providers").map(function(e){return e.entityID()})})}else D.a.error('Provider with entity id "'+o.providerEntityID+'" not found.')}else D.a.error('Server with entity id "'+s.serverEntityID+'" not found.')}else D.a.error('Hub source "'+a+'" not in correct format.')})},function(e,t){n.set({isPromotedHubsPending:!1,promotedHubsError:Gi(t)})})},AFt.POPULATE_PROMOTED_HUBS=function(e,t,n){kFt(e).get("isPromotedHubsPopulated")||n(lit(t))},AFt["ui/repopulatePage"]=function(e,t,n){if(!t.metadataItemEntityID&&!t.containerKeyPattern){var r=bo(e,t),i=kFt(e).get("hubs");i&&i.server===r&&i.each(function(e){var t=e.get("metadataList")||e.get("directoryList");!e.get("random")&&t.get("containerKey")&&n(Pfe({metadataListEntityID:t.entityID(),count:i.count}))})}},AFt));var _Ft,UFt=Object.assign({},x2e,((LFt={})["ui/repopulatePage"]=function(e,t,n){(function(e){return e.get("ui").get("homePage")})(e).get("homeHubStatuses").each(function(e){var t=e.get("hub");if(t){var r=t.get("metadataList")||t.get("directoryList");!t.get("random")&&r.get("containerKey")&&n(Pfe({metadataListEntityID:r.entityID(),count:u2e}))}})},LFt));function zFt(e){return e.get("ui").get("metadataListPage")}var FFt,BFt,HFt=Qx(((_Ft={}).INIT_METADATA_LIST_PAGE=function(e,t){var n=zFt(e),r=bo(e,t),i=Co(e,t),a=t.providerEntityID,o=t.listKey,s=t.listTitle;if(a!==n.get("providerEntityID")||o!==n.get("listKey")){var l=PZ(e,zy),c=new ll.default({containerKey:o,containerTitle:s},{server:r,provider:i,includeExternalMedia:l});n.restoreDefaults({providerEntityID:a,listKey:o,metadataList:c})}},_Ft["ui/repopulatePage"]=function(e,t,n){var r=t.metadataItemEntityID,i=t.containerKeyPattern;if(!r){var a=bo(e,t),o=zFt(e).get("metadataList");o&&o.server===a&&(i&&!o.get("containerKey").match(i)||n(Pfe({metadataListEntityID:o.entityID()})))}},_Ft)),VFt=Object.assign({},k_t,((FFt={})[O_t]=function(e,t){var n,r=bo(e,t),i=Co(e,t);r.get("isTransient")?n="#!/transient/provider/"+encodeURIComponent(i.get("identifier"))+"/details?key="+encodeURIComponent(t.key):n=Og({machineIdentifier:r.get("machineIdentifier")},{identifier:i.get("identifier"),isLibraryProvider:i.get("isLibraryProvider")},t.key);/\/transient\//.test(window.location.hash)?window.location.replace(n):window.location.hash=n},FFt));var QFt,WFt=Object.assign({},_re,((BFt={})[yre]=function(e,t,n){var r=Nee(Nne(e,t)),i=Lee(e,t.playerType||Bne(r)),a=Co(e,t),o=bo(e,t),s=To(e,t),l=e.get("user").get("experienceSettings"),c=e.get("remotePlayer");if(c&&!kae({protocol:c.get("protocol"),protocolCapabilities:c.get("protocolCapabilities"),providerIdentifier:Pr(a.get("identifier"),a.get("providerIdentifier")),userFeatures:eX(e.get("user").get("features").getState())}))Object(No.a)(function(){i.set({hasError:!0,errorMessage:Object(Xn.default)("This content is not currently supported when connected to this remote player.")})});else{var u;u=i.get("isOpen")?i.get("openState"):r===Dee?_ne:Rne;var d=!1;r===Pee&&t.metadataItemEntityID&&(d=s.get("type")===nr.h);var p=t.metricsProperties||{};(function(e){var t=Object(J.c)("appModel").get("embeddedServer");return!!e&&!!t&&e.get("machineIdentifier")===t.get("machineIdentifier")})(o)&&(p=Object.assign({},p,{origin:"sync"})),p.identifier||(p.identifier=a.get("metricsIdentifier")),_re[yre](e,Object.assign({extrasPrefixCount:l.get("extrasPrefixCount"),openState:u,isPaused:d},t,{metricsProperties:p}),n)}},BFt[bre]=function(e,t,n){_re[bre](e,Object.assign({openState:_ne},t),n)},BFt));function GFt(e){return e.get("ui").get("playlistPage")}var YFt,KFt=Qx(((QFt={}).INIT_PLAYLIST_PAGE=function(e,t){var n=GFt(e),r=bo(e,t),i=Co(e,t),a=t.serverEntityID,o=t.providerEntityID,s=t.metadataKey;if(a!==n.get("serverEntityID")||o!==n.get("providerEntityID")||s!==n.get("metadataKey")){var l=new Qs.a({key:s,type:nr.j},{server:r,provider:i});n.restoreDefaults({serverEntityID:a,providerEntityID:o,metadataKey:s,playlist:l})}},QFt.INIT_PLAYLIST_ITEM_LIST=function(e,t){var n=GFt(e),r=bo(e,t),i=Co(e,t),a=n.get("playlist"),o=t.serverEntityID,s=t.metadataKey;if(o!==n.get("serverEntityID")||s!==n.get("metadataKey")||!n.get("playlistItemList")){var l=PZ(e,zy),c=a.get("childrenKey"),u=new Ql({containerKey:c},{server:r,provider:i,includeExternalMedia:l});n.set({playlistItemList:u})}},QFt.FETCH_PLAYLIST=Ki({key:"playlist",getModel:GFt}),QFt.POPULATE_PLAYLIST_ITEM_RANGE=Ghe({key:"playlistItemList",getModel:GFt}),QFt.REPOPULATE_PLAYLIST_ITEMS=Yhe({key:"playlistItemList",getModel:GFt}),QFt.SELECT_PLAYLIST_ITEM=function(e,t,n){var r=t.id,i=t.type,a=t.isRangeSelect,o=void 0!==a&&a,s=jo(e,{playlistItemEntityID:r}),l=GFt(e).get("playlistItemList").getCollection();s&&n(Zhe({type:i,model:s,collection:l,isRangeSelect:o}))},QFt.DESELECT_PLAYLIST_ITEM=function(e,t,n){var r=jo(e,{playlistItemEntityID:t.id});r&&n($he([r.id]))},QFt.MOVE_PLAYLIST_ITEM=function(e,t){var n=jo(e,t),r=GFt(e).get("playlistItemList"),i=r.getCollection(),a=i.indexOf(n),o=t.moveIndex,s=o-1;if(a!==o&&a!==s){var l=o>a?o-1:o,c=F.join([r.get("containerKey"),n.get("playlistItemID"),"move"],s>=0&&"after="+i.at(s).id),u=n.provider.getXHROptions(c,{type:"PUT"});Object(No.a)(function(){i.remove(n),i.add(n,{at:l}),P.a.ajax(u).fail(function(){i.indexOf(n)===l&&(i.remove(n),i.add(n,{at:a}))})})}},QFt.REMOVE_PLAYLIST_ITEM=function(e,t,n){var r=jo(e,t),i=GFt(e).get("playlistItemList"),a=F.join([i.get("containerKey"),r.get("playlistItemID")]);r.destroy({url:a}).fail(function(){n(au(Object(Xn.default)("There was an unexpected error removing this item.")))})},QFt.REMOVE_SELECTED_ITEMS=function(e,t,n){var r=GFt(e).get("playlistItemList"),i=r.get("containerKey"),a=r.getCollection(),o=e.get("ui").get("multiSelect").get("activeSelectionItems").pluck("id"),s=P.a.Deferred().resolve().promise();o.forEach(function(e){var t=a.get(e),n=F.join([i,e]);s=s.then(function(){return t.destroy({url:n,wait:!0})})}),s.fail(function(){n(au(Object(Xn.default)("There was an unexpected error removing an item.")))})},QFt[Jue]=function(e,t,n){var r=t.providerEntityID,i=t.rating,a=GFt(e),o=a.get("playlist");if(o){var s=a.get("playlistItemList");"favorites"===o.get("specialPlaylistType")&&r===a.get("providerEntityID")&&(i!==rle&&-1!==i||n(NSt({count:s.get("currentPageSize")})))}},QFt)),qFt=(Mt("ui/playlistsPage/initPlaylistPage"),Mt("ui/playlistsPage/fetchSorts")),ZFt=(Mt("ui/playlistsPage/populateSorts"),Mt("ui/playlistsPage/fetchLibraryDetails"));Mt("ui/playlistsPage/populateLibraryDetails");function XFt(e){return e.get("ui").get("playlistsPage")}var JFt,$Ft=((YFt={})["ui/playlistsPage/initPlaylistPage"]=function(e,t){var n=XFt(e),r=bo(e,t),i=Co(e,t),a=t.serverEntityID,o=t.libraryKey,s=t.containerKey,l=a===n.get("serverEntityID"),c=o===n.get("libraryKey"),u=s===n.get("containerKey");if(!(l&&c&&u)){var d=new ll.default({containerKey:s},{server:r,provider:i}),p=n.get("libraryDetails"),h=n.get("sorts");l&&c||(p=o&&new ple({key:o},{server:r,provider:i}),h=new Zs.a([],{url:"/playlists/sorts",server:r})),n.restoreDefaults({serverEntityID:a,libraryKey:o,containerKey:s,playlists:d,libraryDetails:p,sorts:h})}},YFt["ui/playlistsPage/fetchLibraryDetails"]=Ki({key:"libraryDetails",getModel:XFt}),YFt["ui/playlistsPage/populateLibraryDetails"]=qi({key:"libraryDetails",fetchActionCreator:ZFt,getModel:XFt}),YFt["ui/playlistsPage/fetchSorts"]=Ki({key:"sorts",getModel:XFt}),YFt["ui/playlistsPage/populateSorts"]=qi({key:"sorts",fetchActionCreator:qFt,getModel:XFt}),YFt["ui/repopulatePage"]=function(e,t,n){var r=t.metadataItemEntityID,i=t.containerKeyPattern,a=bo(e,t),o=XFt(e).get("playlists");r||o&&o.server===a&&i&&o.get("containerKey").match(i)&&n(Pfe({metadataListEntityID:o.entityID()}))},YFt);function eBt(e){return e.get("ui").get("quickSearch")}function tBt(e){return e.map(function(e){return e.entityID()})}var nBt,rBt=Qx(((JFt={}).INIT_QUICK_SEARCH=function(e,t,n){var r=eBt(e),i=r.get("searches"),a=t.providerEntityIDs,o=t.providerIdentifier,s=PZ(e,zy);i.reset(a.reduce(function(t,n){var r=Co(e,{providerEntityID:n}),i=r.get("identifier"),a=r.get("isLibraryProvider"),l=r.get("features").get("search"),c=Cn.i(i,[Cn.g,Cn.e]),u=l&&l.get("requires"),d=!u||g2e(e,u);(c&&d||l&&(a||i===o))&&t[o===i?"unshift":"push"](new yzt({providerEntityID:n,serverEntityID:r.server.entityID(),key:l?l.get("key"):"/hubs/search"},{server:r.server,provider:r,includeCollections:!0,includeExternalMedia:s}));return t},[])),r.get("query")&&n(use())},JFt.RESET_QUICK_SEARCH=function(e){var t=eBt(e),n=t.get("searches");t.set({query:"",selectedResultEntityID:null}),n.each(function(e){e.restoreDefaults({providerEntityID:e.get("providerEntityID"),serverEntityID:e.get("serverEntityID"),key:e.get("key")})})},JFt.FETCH_QUICK_SEARCH=function(e,t){void 0===t&&(t={});var n=eBt(e),r=n.get("searches"),i=t,a=i.query,o=void 0===a?n.get("query"):a,s=i.limit;r.each(function(t){var r=t.server;if(r.supports("quickSearch")&&r.get("isConnected")){t.abortPendingPopulate(),t.set("isSearchPending",!0);var i=t.get("providerEntityID");Co(e,{providerEntityID:i}).populate({merge:!0}).then(function(){return t.fetch({data:{sectionId:n.get("sectionID"),query:o,limit:s}})}).done(function(){t.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(function(e){t.set({isSearchPending:!1,searchError:Gi(e)})})}else t.set({isSearchPending:!1})})},JFt.CHANGE_SEARCH_QUERY=function(e,t,n){var r=eBt(e);""===t.trim()?n(cse()):(r.get("query").length>1&&t.length<2&&n(cse()),r.set("query",t))},JFt.CHANGE_SEARCH_SETTINGS=function(e,t){var n=eBt(e),r=t.serverEntityID,i=void 0===r?n.get("serverEntityID"):r,a=t.providerEntityID,o=void 0===a?n.get("providerEntityID"):a,s=t.providerIdentifier,l=void 0===s?n.get("providerIdentifier"):s,c=t.sectionID,u=void 0===c?n.get("sectionID"):c;n.set({serverEntityID:i,providerEntityID:o,providerIdentifier:l,sectionID:u})},JFt.SELECT_SEARCH_RESULT=function(e,t){var n=eBt(e),r=t.searchResultEntityID,i=t.offset;if(r)n.set("selectedResultEntityID",r);else{var a=n.get("searches").reduce(function(e,t){var n=t.get("hubs").reduce(function(e,t){return e.concat(tBt(t.get("metadataResults")),tBt(t.get("tagResults")))},[]);return e.concat(n)},[]),o=a.indexOf(n.get("selectedResultEntityID")),s=a.length-1,l=o+i,c=l<-1||l>s?i>0?-1:s:l,u=-1===c?null:a[c];n.set("selectedResultEntityID",u)}},JFt.NAVIGATE_SEARCH_RESULT=function(e,t,n){var r=eBt(e),i=t.serverEntityID,a=null!=t.searchResultEntityID?t.searchResultEntityID:r.get("selectedResultEntityID"),o=Rb(e,{searchResultEntityID:a});if(!o){var s=bo(e,t),l=Co(e,t),c=s.id,u=l.id,d=r.get("query");return s.get("isCloud")?z.a.trigger("navigate","providerSearch",{providerID:u,query:d}):z.a.trigger("navigate","search",{serverID:c,query:d}),void n(cse({serverEntityID:i}))}var p=o.pick("tagItem","metadataItem"),h=p.tagItem,f=p.metadataItem;if(h){var g=Wse.get(h.get("tagType")).typeString,v={filters:h.has("filter")?h.get("filter"):g+"="+h.get("id"),filterLabel:h.get("tag"),context:o.metricsContext};return window.location.hash=nj(o.server.toJSON(),o.provider.toJSON(),Ws(o.provider,h.get("librarySectionKey")),v),void n(cse({serverEntityID:i}))}var m=Ws(o.provider,f.get("librarySectionKey")),y=Kde(o.server.attributes,o.provider.attributes,f.attributes,{context:o.metricsContext},m);y?(window.location.hash=y,n(cse())):n(gse({serverEntityID:i,searchResultEntityID:a}))},JFt.PLAY_SEARCH_RESULT=function(e,t,n){var r=t.serverEntityID,i=t.options,a=eBt(e),o=Rb(e,{searchResultEntityID:null!=t.searchResultEntityID?t.searchResultEntityID:a.get("selectedResultEntityID")});if(o){var s=o.get("metadataItem");s&&(n(Ire({serverEntityID:o.server.entityID(),providerEntityID:o.provider.entityID(),metadataItemEntityID:s.entityID(),metricsPage:"quickSearchResults",metricsContext:o.metricsContext,options:Object.assign({containerKey:s.get("skipParent")?s.get("grandparentKey"):s.get("parentKey")},i)})),n(cse({serverEntityID:r})))}else n(fse(t))},JFt));function iBt(e){return e.get("ui").get("searchPage")}var aBt,oBt=Qx(((nBt={}).POPULATE_SEARCH_PROVIDERS=function(e,t,n){t.forEach(function(e){n(fc({serverEntityID:e}))})},nBt.FETCH_SEARCH_PAGE=function(e,t,n){var r=iBt(e).get("searches"),i=t.availableProviders,a=t.query,o=t.limit,s=PZ(e,zy);Object.keys(i).forEach(function(t){var n=i[t],a=bo(e,{serverEntityID:n.serverEntityID}),o=Co(e,{providerEntityID:t}),l=o.get("features").get("search");l&&!r.get(t)&&r.add(new yzt({providerEntityID:t,key:l.get("key")},{server:a,provider:o,includeCollections:!0,includeExternalMedia:s}))}),r.each(function(e){e.populatePromise||(e.set("isSearchPending",!0),e.fetch({data:{query:a,limit:o}}).done(function(){e.set({isSearchPending:!1,isSearchPopulated:!0,searchError:null})}).fail(function(t){e.set({isSearchPending:!1,searchError:Gi(t)})}))})},nBt.CLEAR_SEARCH_PAGE=function(e,t,n){var r=iBt(e);r.get("searches").each(function(e){e.abortPendingPopulate()}),r.restoreDefaults()},nBt));function sBt(e){return e.get("ui").get("timelinePage")}function lBt(e,t){var n=sBt(e),r=bo(e,t),i=Co(e,t),a=n.get("momentList");a.fetch().done(function(){var e,t=a.get("key")||"empty",o=n.get("metadataList");e=o&&o.server===r&&o.get("containerKey")===t?o:new ll.default({containerKey:t},{server:r,provider:i}),n.set({isMomentListPending:!1,isMomentListPopulated:!0,momentListError:null,metadataList:e})}).fail(function(e,t){n.set({isMomentListPending:!1,momentListError:t})})}var cBt,uBt=Qx(((aBt={}).INIT_TIMELINE_PAGE=function(e,t){var n=sBt(e),r=bo(e,t),i=Co(e,t),a=t.serverEntityID,o=t.providerEntityID,s=t.libraryKey,l=t.momentKey;if(a!==n.get("serverEntityID")||o!==n.get("providerEntityID")||l!==n.get("momentKey")){var c=new ple({key:s},{server:r,provider:i}),u=new wzt({momentKey:l},{server:r,provider:i});n.restoreDefaults({serverEntityID:a,providerEntityID:o,details:c,momentKey:l,momentList:u}),lBt(e,t)}},aBt.CLOSE_TIMELINE_PAGE=function(e){sBt(e).set({momentKey:""})},aBt.FETCH_TIMELINE_DETAILS=Ki({key:"details",getModel:sBt}),aBt.POPULATE_TIMELINE_DETAILS=qi({key:"details",fetchActionCreator:jht,getModel:sBt}),aBt["ui/repopulatePage"]=function(e,t){var n=t.metadataItemEntityID,r=t.containerKeyPattern,i=bo(e,t),a=Co(e,t),o=sBt(e),s=o.get("metadataList"),l=o.get("momentKey");if(!n&&l&&s&&s.server===i&&s.provider===a){var c=s.get("containerKey");c&&(r&&!c.match(r)||lBt(e,t))}},aBt)),dBt=Object.assign({},ou,((cBt={})["ui/showAlert"]=function(e,t){z.a.trigger("show:alert",t)},cBt)),pBt=[q0e,_3,jOt,S5,Hg,fH,QA,hZ,Fde,Rfe,Cfe,mOt,w$e,qdt,fyt,vjt,dBt,NFt,RFt,HFt,Xat,eVe,uBt,$Ft,cxt,KFt,YPe,k0,mVe,UFt,Vhe,bS,ert,YVe,KZ,Fjt,Cie,rBt,oBt,oV,JO,OFt,ugt,MAe,HOe,ZIe,XSe,LMe,WFt,SWe,HYe,Jae,fae,VFt];var hBt=500,fBt=9e4,gBt=1e4,vBt="vote/leader";function mBt(e){return window.localStorage.getItem(e)}function yBt(e,t){return window.localStorage.setItem(e,t)}function bBt(e){return window.localStorage.removeItem(e)}var SBt={id:null,time:null};var IBt=function(e){var t,n,r=e.id,i=void 0===r?de():r,a=e.get,o=void 0===a?mBt:a,s=e.set,l=void 0===s?yBt:s,c=e.remove,u=void 0===c?bBt:c,d=e.electionDuration,p=void 0===d?hBt:d,h=e.maxLeaderAge,f=void 0===h?fBt:h,g=e.minLeaderRefreshDuration,v=void 0===g?gBt:g;function m(e){return void 0===e&&(e=Date.now()),y(e).id===i}function y(e){try{var t=JSON.parse(o(vBt)),n=t.id,r=t.time;return e-r<f?{id:n,time:r}:SBt}catch(e){return SBt}}var b=!1;function S(){clearTimeout(n),n=setTimeout(function(){var e=Date.now(),t=y(e).id;if(t){var n=t===i;n!==b&&(D.a.debug(n?"[Vote:"+i+"] Elected":"[Vote:"+i+"] Unelected"),C[Ye].forEach(function(e){return e(n)})),b=n}else D.a.debug("[Vote:"+i+"] Election ended with no leader found"),I(e)},p)}function I(e){void 0===e&&(e=Date.now());var t=y(e),n=t.id,r=t.time;n===i&&e-r>v?(D.a.debug("[Vote:"+i+"] Upvote, refreshing my leader time"),l(vBt,JSON.stringify({time:e,id:i}))):n===i?D.a.debug("[Vote:"+i+"] Upvote, chilling since leader time is fresh"):n?D.a.debug("[Vote:"+i+"] Upvote, someone else is leader"):(D.a.debug("[Vote:"+i+"] Upvote, becoming leader"),l(vBt,JSON.stringify({time:e,id:i}))),S()}var C=((t={})[Ye]=[],t);return{on:function(e,t){C[e].push(t)},off:function(e,t){C[e]=C[e].filter(function(e){return e!==t})},isLeader:m,up:I,down:function(e){void 0===e&&(e=Date.now()),m(e)?(D.a.debug("[Vote:"+i+"] Downvote, stepping down as leader"),u(vBt)):D.a.debug("[Vote:"+i+"] Downvote, chilling since someone else is leader"),S()}}};var CBt=function(){var e=IBt({maxLeaderAge:9e4});return window.addEventListener("storage",function(t){t.key===vBt&&e.up()}),window.addEventListener("beforeunload",function(){e.down()}),e.up(),setInterval(e.up,6e4),e},MBt=Vd.extend({name:"PersistentWebStorage",getStorage:function(){return window.localStorage}}),DBt=Vd.extend({name:"VolatileWebStorage",getStorage:function(){return window.sessionStorage}}),wBt=n(145),PBt=n.n(wBt);PBt.a.debug=!1;var TBt={},EBt={},xBt={userTitle:"username",userID:"id"},OBt=!1,jBt={init:function(e){PBt.a.config(e)},enable:function(){OBt||(OBt=!0,PBt.a.install())},disable:function(){OBt&&(OBt=!1,PBt.a.uninstall())},set:function(e){for(var t in void 0===e&&(e={}),e){var n=e[t];"release"===t?PBt.a.setRelease(n):xBt[t]?(EBt[xBt[t]]=n,PBt.a.setUserContext(EBt)):(TBt[t]=n,PBt.a.setTagsContext(TBt))}},capture:function(e,t){PBt.a.captureException(e,t)}},ABt=Object.assign({},jBt,{init:function(e){var t=new RegExp(Vf("-plex-4.8.3-a283e1a"));PBt.a.config(e,{shouldSendCallback:function(e){return t.test(e.culprit)&&!1===/songId/.test(e.message)}})}}),NBt={};function kBt(e){return null==e?"":e}function LBt(e){for(var t,n=1,r=arguments.length<=1?0:arguments.length-1;n<=r;)(t=NBt[n])||(t=new RegExp(Vf("{"+n+"}"),"g"),NBt[n]=t),e=e.replace(t,kBt(n-1+1<1||arguments.length<=n-1+1?void 0:arguments[n-1+1])),n++;return e}function RBt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return C.a.isObject(n[0])?function(e,t){return e.replace(/\{([a-z0-9]+?)\}/gi,function(e,n){return t.hasOwnProperty(n)?kBt(t[n]):e})}(e,n[0]):C.a.isObject(n[n.length-1])?(n.pop(),LBt.apply(void 0,[e].concat(n))):LBt.apply(void 0,[e].concat(n))}var _Bt={languages:{en:"en.json","en-GB":"en-GB.json",af:"af.json",my:"my.json",ca:"ca.json",cs:"cs.json",sr:"sr.json",da:"da.json",de:"de.json",et:"et.json",es:"es.json","es-419":"es-419.json",el:"el.json",fr:"fr.json","fr-CA":"fr-CA.json",hr:"hr.json",is:"is.json",it:"it.json",lt:"lt.json",hu:"hu.json",nl:"nl.json",no:"no.json",pl:"pl.json",pt:"pt.json","pt-BR":"pt-BR.json",ru:"ru.json",ro:"ro.json",sk:"sk.json",sl:"sl.json",fi:"fi.json",sv:"sv.json",vi:"vi.json",tr:"tr.json",uk:"uk.json",bg:"bg.json",zh:"zh.json","zh-TW":"zh-TW.json",ja:"ja.json",ko:"ko.json",th:"th.json",fa:"fa.json",ar:"ar.json",he:"he.json"},loadingPromise:null,loadingLanguage:null,getLanguages:function(){return this.languages},getTranslation:function(e){if(this.translations[this.language])return this.translations[this.language][e]},t:function(e){return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=function(e){var t;if(!e)return"";var n=(t=(arguments.length<=1?0:arguments.length-1)-1+1)<1||arguments.length<=t?void 0:arguments[t];return C.a.isObject(n)&&n&&n.escape?C.a.escape(e):e}.apply(void 0,[e.call(this,t)||t,t].concat(r));return RBt.apply(void 0,[a].concat(r))}}(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return this.getTranslation.apply(this,[e].concat(n))}),load:function(e){if(this.loadingLanguage&&this.loadingLanguage===e)return this.loadingPromise;var t,n=this.getLanguages();return t=C.a.has(n,e)?C.a.has(this.translations,e)?P.a.Deferred().resolve().promise():P.a.ajax({dataType:"json",url:Object(F.join)([this.basePath,n[e]])}):P.a.Deferred().reject().promise(),this.loadingLanguage=e,this.loadingPromise=t,t.done(C.a.bind(this.onLoadSuccess,this,t)),t.fail(C.a.bind(this.onLoadError,this,t)),t},onLoadSuccess:function(e,t){var n=this.loadingLanguage;e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null,this.language=n,t&&(this.translations[n]=t),z.a.trigger("change:language",n))},onLoadError:function(e){e===this.loadingPromise&&(this.loadingPromise=null,this.loadingLanguage=null)}},UBt=me.a.extend({mixins:_Bt,constructor:function(){this.basePath=Object(F.join)(["/web/","translations"]),this.translations={},Object(J.d)("appModel").done(this.onAppModelRegistered.bind(this))},_repopulateProviders:function(){var e=Object(J.c)("appModel"),t=e.get("servers").map(function(t){if(t.get("isCloud")){var n=e.get("user").get("desktop").get("providers");return X(n.map(function(e){return Object(J.c)("appStore").dispatch($h({providerEntityID:e.entityID(),options:{merge:!0}})),l2e(e)}))}if(t.get("isConnected"))return Object(J.c)("appStore").dispatch(hc({serverEntityID:t.entityID(),options:{merge:!0}})),l2e(t)});return X(t)},onAppModelRegistered:function(){0}}).extend({onAppModelRegistered:function(e){var t=this;e.on("change:user.change:experienceSettings.change:language",function(e,n){t.load(n).done(function(){t._repopulateProviders()})})}}),zBt={registerAll:function(){rt.a.register(new UBt),nt.register(ABt)}};var FBt=function(){return"bundled"},BBt={init:function(){var e=Object(J.c)("appModel"),t=window.innerWidth+"x"+window.innerHeight,n=window.screen.width+"x"+window.screen.height,r={"X-Plex-Product":"Plex Web","X-Plex-Version":"4.8.3","X-Plex-Client-Identifier":e.get("clientID"),"X-Plex-Platform":of.a.name,"X-Plex-Platform-Version":of.a.version,"X-Plex-Sync-Version":2,"X-Plex-Features":"external-media","X-Plex-Model":FBt(),"X-Plex-Device":of.a.platform,"X-Plex-Device-Name":of.a.name,"X-Plex-Device-Screen-Resolution":t+","+n};return e.on("change:clientID",function(e,t){r["X-Plex-Client-Identifier"]=t}),P.a.Deferred().resolve(r).promise()}};var HBt=function(){var e={maxWidth:1920,maxHeight:1280},t={maxWidth:4096,maxHeight:2160},n='width="'+e.maxWidth+'"; height="'+e.maxHeight+'"',r='width="'+t.maxWidth+'"; height="'+t.maxHeight+'"',i=Object.assign({},e,{maxFrameRate:60}),a={capabilities:{embed:!0,redirect:!0},video:{lowestQualityIndex:2,protocols:{hls:{mimeType:"application/x-mpegURL"}},directPlay:{generic:{video:Object.assign({},i)},mp4:{mimeType:'video/mp4; codecs="avc1.42E01E"',video:{codecs:{h264:{}}},audio:{codecs:{aac:{}}}},ogg:{mimeType:"video/ogg"},mpegts:{protocol:"hls"},flv:{}},directStream:{video:Object.assign({},i,{maxBitDepth:8,codecs:{h264:{}}}),audio:{codecs:{aac:{}},maxBitrate:192,maxChannels:2}}},music:{directPlay:{mp4:{mimeType:'audio/mp4; codecs="mp4a.40.5"',audio:{codecs:{aac:{}}}},mp3:{mimeType:'audio/mpeg; codecs="mp3"',audio:{codecs:{mp3:{}}}},ogg:{mimeType:'audio/ogg; codecs="vorbis"',audio:{codecs:{vorbis:{}}}},wav:{mimeType:"audio/wav",audio:{codecs:{pcm:{}}}},flac:{mimeType:"audio/flac",audio:{codecs:{flac:{}}}}},directStream:{audio:{codecs:{mp3:{}},maxBitrate:320,maxChannels:2}}}},o=[{types:['video/mp4; codecs="hvc1"; '+n],fragment:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},e,{maxBitDepth:10})}}}}}},{types:['video/mp4; codecs="avc1.42E01E"; '+r],fragment:{directPlay:{mp4:{video:{codecs:{h264:t}}}},directStream:{video:{codecs:{h264:t}}}}},{types:['video/mp4; codecs="hvc1"; '+r],fragment:{directPlay:{mp4:{video:{codecs:{hevc:Object.assign({},t,{maxBitDepth:10})}}}}}},{types:['video/webm; codecs="vp8, opus"; '+n],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{opus:{}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+n],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:e}},audio:{codecs:{vorbis:{}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+n],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{opus:{}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+n],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:e}},audio:{codecs:{vorbis:{}}}}}}},{types:['video/webm; codecs="vp8, opus"; '+r],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{opus:{}}}}}}},{types:['video/webm; codecs="vp8, vorbis"; '+r],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp8:t}},audio:{codecs:{vorbis:{}}}}}}},{types:['video/webm; codecs="vp9, opus"; '+r],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{opus:{}}}}}}},{types:['video/webm; codecs="vp9, vorbis"; '+r],fragment:{directPlay:{mkv:{mimeType:"video/webm",video:{codecs:{vp9:t}},audio:{codecs:{vorbis:{}}}}}}}],s=window.MediaSource&&window.MediaSource.isTypeSupported?window.MediaSource.isTypeSupported:function(e){var t=Object(Kg.a)("video",!0),n=t.canPlayType(e);return Object(Kg.b)(t),"probably"===n};if(o.forEach(function(e){e.types.every(s)?(D.a.debug("[Player] Types %o provided %o",e.types,e.fragment),P.a.extend(!0,a.video,e.fragment)):D.a.debug("[Player] Types %o are unsupported",e.types)}),"safari"===of.a.id&&yc(of.a.platformVersion,"10.11")){var l={codecs:{ac3:{},eac3:{}}};P.a.extend(!0,a.video,{directPlay:{mp4:{audio:l}},directStream:{audio:l}})}return D.a.debug("[Player] Final player profile %o",a),a},VBt={registerAll:function(){var e=BBt.init();e.done(function(e){return tt.register(e)});var t=new MBt;return ee.register(t),Wd.register(new DBt),gae.register(HBt()),zBt.registerAll(),e}};function QBt(){var e=document.documentElement,t=e.requestFullScreen||e.webkitRequestFullScreen||e.mozRequestFullScreen||e.msRequestFullscreen,n=document.cancelFullScreen||document.webkitCancelFullScreen||document.mozCancelFullScreen||document.msExitFullscreen,r=!(!t||!n);return{hasFullscreen:r,shouldExitOnPlayerClose:!0,initialize:function(e){var t=e.dispatchEnterFullscreen,n=e.dispatchExitFullscreen;function r(){document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement?t():n()}return r(),document.addEventListener("fullscreenchange",r),document.addEventListener("webkitfullscreenchange",r),document.addEventListener("mozfullscreenchange",r),document.addEventListener("MSFullscreenChange",r),P.a.Deferred().resolve().promise()},enter:function(){r&&t.call(e)},exit:function(){r&&n.call(document)}}}var WBt="urn:x-cast:plex",GBt=1e3,YBt={volume:!0,shuffle:!0,quality:!0,audioStream:!0,videoStream:!0,subtitleStream:!0,subtitleColor:!0,subtitlePosition:!0,subtitleSize:!0,subtitleOffset:!0,skipPrevious:!0,skipNext:!0,autoPlay:!0,seekTo:!0,stepBack:!0,stepForward:!0,stop:!0,playPause:!0,repeat:!0},KBt=Object.assign({},YBt,{seekTo:!1});function qBt(e,t){var n,r,i,a=t.dispatch,o=!1,s=0,l=0,c=null,u={},d={};window.__onGCastApiAvailable=function(e){var t=!!(e&&window.cast&&window.chrome&&window.chrome.cast);if(a(dae(t&&eoe||vg()&&toe||$ae)),!t)return void D.a.warn("[Cast] API is not available");var n=window.cast.framework,r=f();r.setOptions({receiverApplicationId:h(),autoJoinPolicy:window.chrome.cast.AutoJoinPolicy.ORIGIN_SCOPED}),r.addEventListener(n.CastContextEventType.SESSION_STATE_CHANGED,M)},vg()&&a(dae(toe));var p=document.createElement("script");function h(){var t=e.get("deviceSettings"),n=t.get("chromecastAppID"),r=t.get("chromecastCustomAppID");return n===ep.CUSTOM&&r?r:n||ep.PRODUCTION}function f(){if(e.get("castApiAvailability")===eoe)return window.cast.framework.CastContext.getInstance()}function g(){if(r)return r.customData}function v(e){return e.isMute()?0:Math.round(100*e.getVolume())}function m(e){if(e){var t=e.customData,n=e.media;if(t&&t.playQueueType)return t.playQueueType;if(n&&n.metadata&&n.metadata.metadataType){var r=window.chrome.cast.media.MetadataType;switch(n.metadata.metadataType){case r.MOVIE:case r.TV_SHOW:return wee;case r.MUSIC_TRACK:return Dee;case r.PHOTO:return Pee}}}}function y(e){if(e)return e.customData.playbackSessionID}function b(e){var t=g();if(t){var n=t.mediaIndex,i=t.partIndex,o=t.adState,s=t.adTime,l=t.adDuration,c=t.adNoSkipDuration,u=t.isPostPlay;a(_ae({playQueueType:m(r),playerState:Object.assign({},e,{mediaIndex:n,partIndex:i,adState:o,adPositionSeconds:Math.round(s/1e3||0),adDurationSeconds:Math.round(l/1e3||0),adNoSkipDurationSeconds:Math.round(c/1e3||0),isAdSkipped:!1,controllable:u?KBt:YBt})}))}}function S(){l&&l--}function I(){s&&s--}function M(e){var t=window.cast.framework,r=e.session,i=e.sessionState,o=e.errorCode;switch(i){case t.SessionState.NO_SESSION:Object(D.a)("[Cast] Session is not established");break;case t.SessionState.SESSION_STARTED:Object(D.a)("[Cast] Session is established");break;case t.SessionState.SESSION_START_FAILED:Object(D.a)('[Cast] Session failed to start with code "'+o+'"');break;case t.SessionState.SESSION_RESUMED:Object(D.a)("[Cast] Connection to an already existing session is established");break;case t.SessionState.SESSION_ENDED:D.a.warn("[Cast] Session has disconnected")}switch(n&&(n.removeEventListener(t.SessionEventType.MEDIA_SESSION,w),r.removeEventListener(t.SessionEventType.VOLUME_CHANGED,E)),u={},d={},i){case t.SessionState.NO_SESSION:case t.SessionState.SESSION_START_FAILED:case t.SessionState.SESSION_ENDED:P(!1),n=null,a(Yae());break;case t.SessionState.SESSION_STARTED:case t.SessionState.SESSION_RESUMED:n=r,r.addEventListener(t.SessionEventType.MEDIA_SESSION,w),r.addEventListener(t.SessionEventType.VOLUME_CHANGED,E),a(hae(Object.assign({},r.getCastDevice(),{volume:v(r)})));var s=r.getMediaSession();s&&w({mediaSession:s})}}function w(e){var t=e.mediaSession;r&&r.removeUpdateListener(P),r=t,t.addUpdateListener(P),u={},d={}}function P(e){var t=window.chrome.cast.media.PlayerState,n=m(r);if(n!==c&&c&&(Object(D.a)("[Cast] play queue type changed from %o to %o, idling old player",c,n),u[c]=null,d[c]=null,a(Gae({playQueueType:c}))),c=n,r&&e&&!o){var s=r.playerState;b({isPaused:s===t.PAUSED,isBuffering:s===t.BUFFERING,positionSeconds:Math.round(r.currentTime||0),durationSeconds:Math.round(r.media.duration||0),playbackSessionID:y(r)}),function(){var e=window.chrome.cast.media.PlayerState,t=g();if(t){var n=t.playbackSessionID,i=t.containerKey,o=t.key,s=t.playQueueItemID,l=t.playQueueVersion,c=t.mediaIndex,p=t.partIndex,h=t.bitrate,f=t.server,v=t.providerIdentifier,y=m(r),b=u[y],S=d[y],I=s!==b||l!==S;u[y]=s,d[y]=l,a(Rae({playQueueType:m(r),options:{machineIdentifier:f.machineIdentifier,providerIdentifier:v,playbackSessionID:n,containerKey:i,key:o,mediaIndex:c,shouldRefreshPlayQueue:I,playQueueItemID:s,bitrate:h,initialState:{isPaused:r.playerState===e.PAUSED,isBuffering:r.playerState===e.BUFFERING,positionSeconds:Math.round(r.currentTime||0),durationSeconds:Math.round(r.media.duration||0),mediaIndex:c,partIndex:p}}}))}}(),function(){var e=g();if(e){var t=e.mediaIndex,n=e.bitrate;a(zae({playQueueType:m(r),mediaIndex:t,bitrate:n}))}}(),function(){var e=g();if(e){var t=e.playQueueType,n=e.playQueueVersion,r=e.repeat;a(Uae({playQueueType:t,playQueueVersion:n,repeatAll:r===jte||r===Ote,repeatOne:r===Ote}))}}(),function(){var e=g();if(e){var t=e.key,n=e.mediaIndex,i=e.partIndex,o=e.audioStreamID,s=e.subtitleStreamID;null==o&&null==s||a(Fae({playQueueType:m(r),key:t,mediaIndex:n,partIndex:i,audioStreamID:o,subtitleStreamID:s}))}}(),s===t.PLAYING?i||(i=setTimeout(T,GBt)):i&&(clearTimeout(i),i=null)}else D.a.warn("[Cast] Update ignored; no alive media session"),i&&(clearTimeout(i),i=null),r&&n&&r.playerState===t.IDLE&&(u[n]=null,d[n]=null,a(Gae({playQueueType:n})))}function T(){r?(b({positionSeconds:Math.round(r.getEstimatedTime()||0)}),i=setTimeout(T,GBt)):D.a.warn("[Cast] Position update ignored; no media session")}function E(){l||s||n&&a(Hae(v(n)))}function x(e){n?(Object(D.a)('[Cast] Sending custom message with type "'+e.type+'"'),n.sendMessage(WBt,e,null,function(e){D.a.warn('[Cast] Failed to send custom message with error "'+e+'"')})):D.a.warn('[Cast] Custom message "'+e.type+'" ignored; no cast session')}return p.src="//www.gstatic.com/cv/js/sender/v1/cast_sender.js?loadCastFramework=1",document.head.appendChild(p),{requestSession:function(){var e=f();e?(Object(D.a)("[Cast] Requesting session"),e.requestSession()):D.a.warn("[Cast] Request session ignored; no cast context")},endSession:function(){var e=f();e?(Object(D.a)("[Cast] Ending session"),e.endCurrentSession()):D.a.warn("[Cast] End session ignored; no cast context"),u={},d={}},startPlayback:function(t){if(n){var r,i=e.get("user"),s=e.get("deviceSettings"),l=i.get("experienceSettings"),c=e.get("primaryServer"),u=t.get("playQueue"),d=u.get("type"),p=u.get("playQueueItems").get(u.get("playQueueSelectedItemID")),h=p.get("metadataItem"),f=t.get("startMediaIndex"),g=u.server,v=t.get("providerEntityID"),m=Co(e,{providerEntityID:v}),y=Object(nr.r)(p.get("type"));if((y&&y.mediaType===ed.a?ed.a:ed.d)===ed.d){var S=function(e,t,n){var r=t.get("qualityIndex");if(null!=r)return r;var i=e.server.get("isPrivateConnection");if(i&&n.get("useHomeStreamingRecommendedSettings"))return n.defaults().localQuality;var a=Object(wRt.a)(e,i);return n.get(a)}(h,t,l),I=gd.a.getQualityByIndex(S);r=I.bitrate}var M,w=t.get("positionSeconds")||Math.floor(_ee(t,h)/1e3);o=!0,iUt(g).then(function(e){return M=e,c&&c!==g?iUt(c):e}).done(function(e){var c={playQueueType:d,providerIdentifier:m.get("identifier"),containerKey:F.join([C.a.result(u,"url")],{own:1}),offset:w,directPlay:s.get("directPlay"),directStream:s.get("directStream"),mediaIndex:f,bitrate:r,playbackSessionID:t.get("playbackSessionID"),audioBoost:l.get("audioBoost"),subtitleColor:l.get("subtitleColor"),subtitlePosition:l.get("subtitlePosition"),subtitleSize:l.get("subtitleSize"),autoPlay:l.get("autoPlay"),repeat:Nte({repeatOne:t.get("repeatOne"),repeatAll:t.get("repeatAll")}),audioForceMultiChannel:l.get("audioForceMultiChannel"),server:M,primaryServer:e,user:{username:i.get("username")}},p=window.chrome.cast.media,g=new p.MediaInfo(h.get("key"));g.customData=c;var v=new p.LoadRequest(g);v.currentTime=w,v.autoplay=!t.get("isPaused"),Object(D.a)("[Cast] Sending load media request"),n.loadMedia(v).then(function(){Object(D.a)("[Cast] Load media success"),o=!1,b({isMediaLoading:!1})},function(e){D.a.warn('[Cast] Failed to load media with error "'+e+'"'),o=!1,a(Vae({playQueueType:d}))})}).fail(function(){o=!1,a(Vae({playQueueType:d,errorMessage:Object(Xn.default)('The server "{serverName}" does not have a valid connection for casting. Check that the server is claimed in server settings.',{serverName:g.get("friendlyName")})}))})}else D.a.warn("[Cast] Start playback ignored; no cast session")},mirrorDetails:function(t){if(n){var r=e.get("user"),i=t.server,a=t.provider;iUt(i).done(function(e){var n={server:e,providerIdentifier:a.get("identifier"),user:{username:r.get("username")}},i=new window.chrome.cast.media.MediaInfo(t.get("key"));i.customData=n,x({type:mte,media:i})})}else D.a.warn("[Cast] Mirror details ignored; no cast session")},sendMessage:x,setVolume:function(e){n?(Object(D.a)('[Cast] Setting volume to "'+e+'"'),a(Hae(e)),e?(n.isMute()&&(s++,n.setMute(!1).then(I,I)),l++,n.setVolume(e/100).then(S,S)):(s++,n.setMute(!0).then(I,I))):D.a.warn("[Cast] Set volume ignored; no cast session")},skipAd:function(){x({type:Ete})}}}function ZBt(){Object(J.b)({CloudServerFlexModel:Nzt,ServerFlexModel:eFt,UserFlexModel:DFt}),Object(J.b)({UserExperienceSettingsModel:Dh,StoredUserExperienceSettingsModel:tFt});var e=new xzt,t=function(e){return wFt(pBt,e)}(e);return Object(J.b)({appModel:e,appStore:t}),Object(J.b)({companionVote:CBt(),companionProxy:new pRt,fullscreenManager:QBt(),remoteCastPlayerManager:qBt(e,t),getDecisionOptions:_Rt,mediaComponent:mRt}),function(){var e,t,n=Object(J.c)("appModel"),r=Object(J.c)("appStore");return Object(J.b)({settingFinder:G_t(n),selectRemoteQuality:SUt,selectRestorePlayQueue:IUt,selectSubtitleSettings:CUt,selectLocalVolume:P_t}),Object(J.b)({sessionStats:new I_t,metricsReporter:[(e=new URt,t=null,{setBaseUrl:function(e){t=e},trackEvent:function(n){if(t){var r=F.join([t,"collect/event"]),i=JSON.stringify(n);e.send({type:"POST",url:r,contentType:"text/plain",data:i})}else Object(M.a)(!1,"Network metrics reporters requires a base URL to be set before tracking events")}}),FRt],logs:new bUt([],{parent:n}),testServerConnection:WRt}),Object(J.b)({companionServerManager:new KRt({appModel:n}),keyboardShortcuts:{shortcuts:[{keys:["?"],fn:"help",group:"navigation",label:function(){return Object(Xn.default)("Open Keyboard Shortcuts")}},{keys:["esc"],fn:"escape",group:"navigation",label:function(){return Object(Xn.default)("Close Modal or Menu")}},{keys:["g h"],fn:"home",group:"navigation",label:function(){return Object(Xn.default)("Navigate to Home")}},{keys:["g s"],fn:"settings",group:"navigation",label:function(){return Object(Xn.default)("Navigate to Settings")}},{keys:["g d"],fn:"activity",group:"navigation",label:function(){return Object(Xn.default)("Navigate to Dashboard")}},{keys:["g u"],fn:"usersSharing",group:"navigation",label:function(){return Object(Xn.default)("Navigate to Users & Sharing")}},{keys:["/"],fn:"search",group:"actions",label:function(){return Object(Xn.default)("Focus Search")}},{keys:["p"],fn:"playSelected",group:"actions",label:function(){return Object(Xn.default)("Open Player")}},{keys:["w"],fn:"toggleWatched",group:"actions",label:function(){return Object(Xn.default)("Toggle as Watched/Unwatched")}},{keys:["e"],fn:"edit",group:"actions",label:function(){return Object(Xn.default)("Edit Metadata")}},{keys:["i"],fn:"info",group:"actions",label:function(){return Object(Xn.default)("Get Info")}},{keys:["shift+s"],fn:"save",group:"actions",label:function(){return Object(Xn.default)("Save Changes")}},{keys:["space","play_pause"],fn:"playPause",group:"player",label:function(){return Object(Xn.default)("Play or Pause")}},{keys:["play"],fn:"play",group:"player",label:function(){return Object(Xn.default)("Play")}},{keys:["pause"],fn:"pause",group:"player",label:function(){return Object(Xn.default)("Pause")}},{keys:["\\"],fn:"toggleFullScreen",group:"player",label:function(){return Object(Xn.default)("Toggle FullScreen")}},{keys:["down"],fn:"decreaseVolume",group:"player",label:function(){return Object(Xn.default)("Decrease Volume")}},{keys:["up"],fn:"increaseVolume",group:"player",label:function(){return Object(Xn.default)("Increase Volume")}},{keys:[",","left"],fn:"seekBackward",group:"player",label:function(){return Object(Xn.default)("Seek Backward (10 seconds)")}},{keys:[".","right"],fn:"seekForward",group:"player",label:function(){return Object(Xn.default)("Seek Forward (30 seconds)")}},{keys:["[","alt+left"],fn:"stepBackward",group:"player",label:function(){return Object(Xn.default)("Step Backward (10 minutes)")}},{keys:["]","alt+right"],fn:"stepForward",group:"player",label:function(){return Object(Xn.default)("Step Forward (10 minutes)")}},{keys:["shift+left","step_backward"],fn:"skipPrevious",group:"player",label:function(){return Object(Xn.default)("Skip to Previous Item")}},{keys:["shift+right","step_forward"],fn:"skipNext",group:"player",label:function(){return Object(Xn.default)("Skip to Next Item")}},{keys:["x"],fn:"stop",group:"player",label:function(){return Object(Xn.default)("Close Player")}}],triggerShortcut:function(e){var t="shortcut:"+e;if(z.a.hasListener(t))return z.a.trigger(t),!1},help:function(e){z.a.trigger("show:modal",new bye({shortcuts:this.shortcuts}))},escape:function(e){z.a.trigger("shortcut:escape")},dashboard:function(e){z.a.trigger("navigate","dashboard")},home:function(e){z.a.trigger("navigate","dashboard")},settings:function(e){Pu("webSettings",{settingsSubset:"general"})},activity:function(e){var t=J.c("appModel").get("primaryServer");t&&!t.get("isShared")&&Pu("serverDashboard",{serverID:t.id})},usersSharing:function(e){z.a.trigger("navigate","usersSharing")},search:function(e){return this.triggerShortcut("search")},playSelected:function(e){return this.triggerShortcut("playSelected")},toggleWatched:function(e){return this.triggerShortcut("toggleWatched")},edit:function(e){return this.triggerShortcut("edit")},info:function(e){return this.triggerShortcut("info")},save:function(e){return this.triggerShortcut("save")},playPause:function(e){return this.triggerShortcut("playPause")},play:function(e){return this.triggerShortcut("play")},pause:function(e){return this.triggerShortcut("pause")},toggleFullScreen:function(e){return this.triggerShortcut("toggleFullScreen")},decreaseVolume:function(e){return this.triggerShortcut("decreaseVolume")},increaseVolume:function(e){return this.triggerShortcut("increaseVolume")},seekBackward:function(e){return this.triggerShortcut("seekBackward")},seekForward:function(e){return this.triggerShortcut("seekForward")},stepBackward:function(e){return this.triggerShortcut("stepBackward")},stepForward:function(e){return this.triggerShortcut("stepForward")},skipPrevious:function(e){return this.triggerShortcut("skipPrevious")},skipNext:function(e){return this.triggerShortcut("skipNext")},stop:function(e){return this.triggerShortcut("stop")}},localCompanionTimelineManager:S_t(n,r,{companionPlayerProfile:Y_t,getPlayerModels:function(e){var t=e.get("ui");return[t.get("audioVideoPlayer"),t.get("photoPlayer")]},getVolume:hSe}),localCompanionCommandHandler:W_t,manualServerManager:new $Rt({appModel:n}),mediaServerEventConnection:OUt,metrics:[new o_t({isPlaybackActive:w_t}),zRt],primaryServerManager:new s_t({appModel:n}),providerManager:new l_t({appModel:n}),remotePlexPlayerManager:uUt(n,r),serverConnectionManager:new q_t({appModel:n}),serverConnectionTestManager:new d_t({appModel:n}),serverManager:new J_t({appModel:n}),serverUpdateManager:new rUt({appModel:n})}),P.a.Deferred().resolve().promise()}().then(VBt.registerAll)}var XBt=new U.Application;XBt.addInitializer(function(){return ZBt().then(function(){return QLt()}).then(function(){return y.c.history.start(),P.a.Deferred().resolve().promise()})});var JBt=XBt;n(1516);JBt.start()}],[[1517,3]]]);